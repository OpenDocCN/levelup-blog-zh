<html>
<head>
<title>What’s New in Node 8</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">节点8中的新功能</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/whats-new-in-node-8-e1cce6539a71?source=collection_archive---------0-----------------------#2017-05-30">https://levelup.gitconnected.com/whats-new-in-node-8-e1cce6539a71?source=collection_archive---------0-----------------------#2017-05-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6b52" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">节点8中的功能概述</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b63327a83089fd5558276b521155e037.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f6p5jzgsyHqGVcOqP184QQ.png"/></div></div></figure><p id="0779" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">节点8已经发布！请查看下面的新内容。</p><p id="6f90" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">版本8是Node的最新版本，它包含了很多特性。Node 8的代号为Carbon，原定于4月底发布，但由于V8 JavaScript引擎的<a class="ae lq" href="https://v8project.blogspot.com/2016/08/firing-up-ignition-interpreter.html" rel="noopener ugc nofollow" target="_blank">点火</a>和<a class="ae lq" href="http://benediktmeurer.de/2017/03/01/v8-behind-the-scenes-february-edition/" rel="noopener ugc nofollow" target="_blank">涡轮风扇</a>的发布而推迟。节点8将使用V8 5.8，ABI与V8 6.0兼容。这将提供更好的性能，更强的V8支持契约，以及由<a class="ae lq" href="https://medium.com/the-node-js-collection/node-js-8-0-0-has-been-delayed-and-will-ship-on-or-around-may-30th-cd38ba96980d" rel="noopener"> Node.js集合</a>指示的节点8和9之间更小的增量。Node 8仍将于2017年10月进入LTS，并将支持到2019年12月。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><a href="https://gitconnected.com/?utm_source=publication&amp;utm_medium=cta-banner"><div class="gh gi lr"><img src="../Images/26797da0642875dc5a034a11d5991f56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vLqV3O21wXUs-3CpOK9n9Q.png"/></div></a></figure><h1 id="3a58" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">怎么样</h1><h2 id="2997" class="mk lt it bd lu ml mm dn ly mn mo dp mc ld mp mq me lh mr ms mg ll mt mu mi mv bi translated"><a class="ae lq" href="https://nodejs.org/dist/latest-v7.x/docs/api/n-api.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ak"> N-API </strong> </a> <strong class="ak">，一个构建原生插件的API</strong></h2><p id="6c19" class="pw-post-body-paragraph ku kv it kw b kx mw ju kz la mx jx lc ld my lf lg lh mz lj lk ll na ln lo lp im bi translated">该API将是跨Node.js版本的应用程序二进制接口(ABI)稳定的。它旨在将插件与底层JavaScript引擎的变化隔离开来，并允许为一个版本编译的模块在Node.js的更高版本上运行，而无需重新编译。该API目前处于试验阶段。它独立于底层JavaScript运行时(ex V8 ),作为Node.js本身的一部分进行维护。</p><h2 id="ed66" class="mk lt it bd lu ml mm dn ly mn mo dp mc ld mp mq me lh mr ms mg ll mt mu mi mv bi translated"><strong class="ak">效用承诺</strong></h2><p id="496f" class="pw-post-body-paragraph ku kv it kw b kx mw ju kz la mx jx lc ld my lf lg lh mz lj lk ll na ln lo lp im bi translated">允许开发者包装回调API来返回承诺。该函数的工作开销很小，并且遵循标准的API。</p><h2 id="8cf6" class="mk lt it bd lu ml mm dn ly mn mo dp mc ld mp mq me lh mr ms mg ll mt mu mi mv bi translated"><strong class="ak">检查员的JS绑定</strong></h2><p id="5ded" class="pw-post-body-paragraph ku kv it kw b kx mw ju kz la mx jx lc ld my lf lg lh mz lj lk ll na ln lo lp im bi translated">新的inspector核心模块使开发人员能够利用Chrome inspector使用的调试协议来检查当前运行的JavaScript代码。这个特性是实验性的。</p><h2 id="d890" class="mk lt it bd lu ml mm dn ly mn mo dp mc ld mp mq me lh mr ms mg ll mt mu mi mv bi translated"><a class="ae lq" href="https://github.com/npm/npm/releases/tag/v5.0.0" rel="noopener ugc nofollow" target="_blank">NPM<strong class="ak">5</strong>T21】</a></h2><p id="3b4f" class="pw-post-body-paragraph ku kv it kw b kx mw ju kz la mx jx lc ld my lf lg lh mz lj lk ll na ln lo lp im bi translated">Node 8将搭载最新版本的NPM。在Yarn取得成功和显著改进之后，NPM在许多领域也紧随其后，为了竞争，它在版本5中发布了一个巨大的更新。最显著的特性是离线模式，默认为<code class="fe nb nc nd ne b">--save</code>，以及一个自动创建的新锁文件。</p><h2 id="16fd" class="mk lt it bd lu ml mm dn ly mn mo dp mc ld mp mq me lh mr ms mg ll mt mu mi mv bi translated"><strong class="ak">异步API </strong></h2><p id="9ea2" class="pw-post-body-paragraph ku kv it kw b kx mw ju kz la mx jx lc ld my lf lg lh mz lj lk ll na ln lo lp im bi translated">AsyncHooks使用户能够跨节点的异步操作监控和跟踪状态，从而实现更好的诊断工具和其他实用程序。这类似于流行的延续本地存储库，它提供了设置和获取这些函数调用链生命周期范围内的值的能力。cls挂钩的库已经创建了一个插件解决方案来取代延续的本地存储，以支持本地API。请记住，异步仍然是实验性的。</p><h2 id="1e58" class="mk lt it bd lu ml mm dn ly mn mo dp mc ld mp mq me lh mr ms mg ll mt mu mi mv bi translated"><strong class="ak">零填充缓冲器</strong></h2><p id="467c" class="pw-post-body-paragraph ku kv it kw b kx mw ju kz la mx jx lc ld my lf lg lh mz lj lk ll na ln lo lp im bi translated">默认情况下，遗留的<code class="fe nb nc nd ne b">new Buffer(num)</code>构造函数现在将填充零，这通过防止一个常见的陷阱变成安全问题而使节点更加安全。以前，使用<code class="fe nb nc nd ne b">new Buffer(num)</code>构造函数分配的缓冲区没有用零初始化内存空间，这可能会导致敏感信息泄漏。</p><h2 id="5106" class="mk lt it bd lu ml mm dn ly mn mo dp mc ld mp mq me lh mr ms mg ll mt mu mi mv bi translated"><strong class="ak">日期解析</strong></h2><p id="2214" class="pw-post-body-paragraph ku kv it kw b kx mw ju kz la mx jx lc ld my lf lg lh mz lj lk ll na ln lo lp im bi translated">当没有时区偏移量时，仅日期格式被解释为UTC时间，日期时间格式被解释为本地时间。这遵循了ES2015中引入的行为。</p><h1 id="31f1" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">其他值得注意的新增内容:</h1><h2 id="b160" class="mk lt it bd lu ml mm dn ly mn mo dp mc ld mp mq me lh mr ms mg ll mt mu mi mv bi translated">缓冲器</h2><ul class=""><li id="33e4" class="nf ng it kw b kx mw la mx ld nh lh ni ll nj lp nk nl nm nn bi translated">缓冲方法现在接受<code class="fe nb nc nd ne b">Uint8Array</code>作为输入</li></ul><h2 id="e592" class="mk lt it bd lu ml mm dn ly mn mo dp mc ld mp mq me lh mr ms mg ll mt mu mi mv bi translated">子进程</h2><ul class=""><li id="dcf6" class="nf ng it kw b kx mw la mx ld nh lh ni ll nj lp nk nl nm nn bi translated">参数和杀死信号验证得到了改进</li><li id="b39c" class="nf ng it kw b kx no la np ld nq lh nr ll ns lp nk nl nm nn bi translated">方法接受<code class="fe nb nc nd ne b">Uint8Array</code>作为输入</li></ul><h2 id="d6eb" class="mk lt it bd lu ml mm dn ly mn mo dp mc ld mp mq me lh mr ms mg ll mt mu mi mv bi translated">安慰</h2><ul class=""><li id="0d6d" class="nf ng it kw b kx mw la mx ld nh lh ni ll nj lp nk nl nm nn bi translated">使用控制台方法时发出的错误事件现在被抑制</li></ul><h2 id="cd36" class="mk lt it bd lu ml mm dn ly mn mo dp mc ld mp mq me lh mr ms mg ll mt mu mi mv bi translated">域</h2><ul class=""><li id="9998" class="nf ng it kw b kx mw la mx ld nh lh ni ll nj lp nk nl nm nn bi translated">原生Promise实例现在是域感知的</li></ul><h2 id="e73a" class="mk lt it bd lu ml mm dn ly mn mo dp mc ld mp mq me lh mr ms mg ll mt mu mi mv bi translated">错误</h2><ul class=""><li id="d86f" class="nf ng it kw b kx mw la mx ld nh lh ni ll nj lp nk nl nm nn bi translated">节点已开始为生成的错误分配静态错误代码</li></ul><h2 id="7418" class="mk lt it bd lu ml mm dn ly mn mo dp mc ld mp mq me lh mr ms mg ll mt mu mi mv bi translated">文件系统</h2><ul class=""><li id="d6b8" class="nf ng it kw b kx mw la mx ld nh lh ni ll nj lp nk nl nm nn bi translated">实用程序类<code class="fe nb nc nd ne b">fs.SyncWriteStream</code>已被弃用</li><li id="547a" class="nf ng it kw b kx no la np ld nq lh nr ll ns lp nk nl nm nn bi translated">已弃用的<code class="fe nb nc nd ne b">fs.read()</code>字符串接口已被移除</li></ul><h2 id="fc46" class="mk lt it bd lu ml mm dn ly mn mo dp mc ld mp mq me lh mr ms mg ll mt mu mi mv bi translated">超文本传送协议</h2><ul class=""><li id="034e" class="nf ng it kw b kx mw la mx ld nh lh ni ll nj lp nk nl nm nn bi translated">改进了对用户实现的代理的支持</li><li id="3439" class="nf ng it kw b kx no la np ld nq lh nr ll ns lp nk nl nm nn bi translated">传出的Cookie标头被连接成一个字符串</li><li id="30f1" class="nf ng it kw b kx no la np ld nq lh nr ll ns lp nk nl nm nn bi translated"><code class="fe nb nc nd ne b">httpResponse.writeHeader()</code>方法已被否决</li><li id="77a1" class="nf ng it kw b kx no la np ld nq lh nr ll ns lp nk nl nm nn bi translated"><code class="fe nb nc nd ne b">OutgoingMessage</code>中增加了访问HTTP头的新方法</li></ul><h2 id="6ce8" class="mk lt it bd lu ml mm dn ly mn mo dp mc ld mp mq me lh mr ms mg ll mt mu mi mv bi translated">解放运动</h2><ul class=""><li id="23b4" class="nf ng it kw b kx mw la mx ld nh lh ni ll nj lp nk nl nm nn bi translated">旧的linkedlist模块已被删除</li></ul><h2 id="8851" class="mk lt it bd lu ml mm dn ly mn mo dp mc ld mp mq me lh mr ms mg ll mt mu mi mv bi translated">取代</h2><ul class=""><li id="6ccd" class="nf ng it kw b kx mw la mx ld nh lh ni ll nj lp nk nl nm nn bi translated">REPL魔法模式已被否决</li></ul><h2 id="8cb7" class="mk lt it bd lu ml mm dn ly mn mo dp mc ld mp mq me lh mr ms mg ll mt mu mi mv bi translated">科学研究委员会</h2><p id="6bd0" class="pw-post-body-paragraph ku kv it kw b kx mw ju kz la mx jx lc ld my lf lg lh mz lj lk ll na ln lo lp im bi translated"><code class="fe nb nc nd ne b">—-debug</code>命令行参数已被删除</p><h2 id="8e0e" class="mk lt it bd lu ml mm dn ly mn mo dp mc ld mp mq me lh mr ms mg ll mt mu mi mv bi translated">溪流</h2><ul class=""><li id="57f9" class="nf ng it kw b kx mw la mx ld nh lh ni ll nj lp nk nl nm nn bi translated">Stream现在支持<code class="fe nb nc nd ne b">destroy()</code>和<code class="fe nb nc nd ne b">_destroy()</code>API</li><li id="dbc3" class="nf ng it kw b kx no la np ld nq lh nr ll ns lp nk nl nm nn bi translated">Stream现在支持<code class="fe nb nc nd ne b">final()</code> API</li></ul><h2 id="c2f1" class="mk lt it bd lu ml mm dn ly mn mo dp mc ld mp mq me lh mr ms mg ll mt mu mi mv bi translated">坦克激光瞄准镜（Tank Laser-Sight的缩写）</h2><ul class=""><li id="bfde" class="nf ng it kw b kx mw la mx ld nh lh ni ll nj lp nk nl nm nn bi translated"><code class="fe nb nc nd ne b">rejectUnauthorized</code>选项现在默认为<code class="fe nb nc nd ne b">true</code></li></ul><h2 id="fe28" class="mk lt it bd lu ml mm dn ly mn mo dp mc ld mp mq me lh mr ms mg ll mt mu mi mv bi translated">跑龙套</h2><ul class=""><li id="5d69" class="nf ng it kw b kx mw la mx ld nh lh ni ll nj lp nk nl nm nn bi translated">使用<code class="fe nb nc nd ne b">util.inspect()</code>时，现在默认显示符号键</li><li id="86fa" class="nf ng it kw b kx no la np ld nq lh nr ll ns lp nk nl nm nn bi translated"><code class="fe nb nc nd ne b">toJSON</code>格式化<code class="fe nb nc nd ne b">%j</code>时会抛出错误</li><li id="5dd2" class="nf ng it kw b kx no la np ld nq lh nr ll ns lp nk nl nm nn bi translated">将<code class="fe nb nc nd ne b">inspect.styles</code>和<code class="fe nb nc nd ne b">inspect.colors</code>转换为无原型对象</li></ul><h2 id="f8ee" class="mk lt it bd lu ml mm dn ly mn mo dp mc ld mp mq me lh mr ms mg ll mt mu mi mv bi translated">Zlib</h2><ul class=""><li id="1bfa" class="nf ng it kw b kx mw la mx ld nh lh ni ll nj lp nk nl nm nn bi translated">在Zlib便利方法中支持<code class="fe nb nc nd ne b">Uint8Array</code></li><li id="9786" class="nf ng it kw b kx no la np ld nq lh nr ll ns lp nk nl nm nn bi translated">Zlib错误现在一致地使用<code class="fe nb nc nd ne b">RangeError</code>和<code class="fe nb nc nd ne b">TypeError</code></li></ul><h2 id="6911" class="mk lt it bd lu ml mm dn ly mn mo dp mc ld mp mq me lh mr ms mg ll mt mu mi mv bi translated"><strong class="ak">网址:</strong></h2><ul class=""><li id="b1b7" class="nf ng it kw b kx mw la mx ld nh lh ni ll nj lp nk nl nm nn bi translated">WHATWG URL实现现在是完全受支持的Node.js API</li></ul><p id="f202" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">发布的完整列表和相关代码可以在<a class="ae lq" href="https://github.com/nodejs/node/pull/12220" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到</p></div><div class="ab cl nt nu hx nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="im in io ip iq"><p id="47f9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="oa">如果您觉得本文有帮助，请点击</em>👏<em class="oa">。</em> <a class="ae lq" href="https://medium.com/@treyhuffine" rel="noopener"> <em class="oa">关注我</em> </a> <em class="oa">了解更多关于React、Node.js、JavaScript和开源软件的文章！你也可以在</em><a class="ae lq" href="https://twitter.com/treyhuffine" rel="noopener ugc nofollow" target="_blank"><em class="oa">Twitter</em></a><em class="oa">或者</em><a class="ae lq" href="https://gitconnected.com/treyhuffine" rel="noopener ugc nofollow" target="_blank"><em class="oa">git connected</em></a><em class="oa">上找到我。</em></p><div class="ob oc gp gr od oe"><a href="https://gitconnected.com/treyhuffine" rel="noopener  ugc nofollow" target="_blank"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd iu gy z fp oj fr fs ok fu fw is bi translated">git connected——开发者和软件工程师社区</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">创建一个帐户或登录gitconnected，这是连接像您这样的人的最大网络。关注最新打开的…</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">gitconnected.com</p></div></div><div class="on l"><div class="oo l op oq or on os ks oe"/></div></div></a></div></div></div>    
</body>
</html>