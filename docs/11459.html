<html>
<head>
<title>Displaying Real-Time Sensor Data in Grafana using MQTT</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用MQTT在Grafana中显示实时传感器数据</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/displaying-real-time-sensor-data-in-grafana-using-mqtt-3cbfe030362?source=collection_archive---------0-----------------------#2022-03-19">https://levelup.gitconnected.com/displaying-real-time-sensor-data-in-grafana-using-mqtt-3cbfe030362?source=collection_archive---------0-----------------------#2022-03-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="51f5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解如何构建MQTT数据源并在</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c0d756a27c6efc995f0bd335ae5c8e28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XPHe-eiLxu6rOf6F"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae ky" href="https://unsplash.com/@olloweb?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">agency followeb</a>拍摄</figcaption></figure><p id="b080" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Grafana 8.0中，作为Grafana Live功能的一部分，现在可以使用新的流API执行实时数据更新。这意味着您现在可以创建实时更新的图表。</p><p id="3777" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了利用这个特性，您可以使用<strong class="lb iu"> MQTT </strong>数据源(<a class="ae ky" href="https://github.com/svet-b/grafana-mqtt-datasource" rel="noopener ugc nofollow" target="_blank">https://github.com/svet-b/grafana-mqtt-datasource</a>)，这是一个插件，允许Grafana用户实时可视化MQTT数据。在本文中，我将向您展示如何使用MQTT数据源来实时显示传感器数据。</p><blockquote class="lv lw lx"><p id="1b7d" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">为了使用MQTT数据源，您需要使用<strong class="lb iu"> Grafana 8.0 </strong>，这使得使用作为<strong class="lb iu"> Grafana Live </strong>特性一部分的新流API来执行实时数据更新成为可能。</p></blockquote><p id="387c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用MQTT非常适合那些涉及Raspberry Pi的项目:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mc"><img src="../Images/42e87839fc5c35e15c9ac62aa98aa05a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LUtWQ34gs9LkgYykyp9UHA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">来源:<a class="ae ky" href="https://en.wikipedia.org/wiki/Raspberry_Pi#/media/File:Raspberry_Pi_4_Model_B_-_Side.jpg" rel="noopener ugc nofollow" target="_blank">https://en . Wikipedia . org/wiki/Raspberry _ Pi #/media/File:Raspberry _ Pi _ 4 _ Model _ B _-_ side . jpg</a></figcaption></figure><h1 id="e5ea" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">将MQTT数据源导入Grafana</h1><p id="32e2" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">虽然有为Grafana构建的<strong class="lb iu"> MQTT </strong>数据源，但它并不与Grafana捆绑在一起——您需要自己构建和安装它。这就是复杂性的来源。</p><blockquote class="lv lw lx"><p id="36d1" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">在本文中，我将向您展示如何在Windows上安装MQTT数据源。</p></blockquote><p id="213b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这一节中，我将向您展示如何构建MQTT数据源并将其安装在Grafana中。你需要一些工具/语言:</p><ul class=""><li id="7a42" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated">节点. js</li><li id="063c" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">故事</li><li id="da35" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">去</li><li id="bbe0" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">魔术师</li></ul><p id="6998" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您不熟悉这些工具和语言，也不用担心。在接下来的几节中，我将向您展示如何安装它们。</p><h2 id="7b3f" class="no me it bd mf np nq dn mj nr ns dp mn li nt nu mp lm nv nw mr lq nx ny mt nz bi translated"><strong class="ak">安装Node.js </strong></h2><p id="ece0" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">从<a class="ae ky" href="https://nodejs.org/en/download/" rel="noopener ugc nofollow" target="_blank">https://nodejs.org/en/download/</a>下载安装Node.js <strong class="lb iu"> </strong>。一旦Node.js安装到您的系统上，在命令提示符下键入以下命令来安装<strong class="lb iu"> yarn </strong>:</p><pre class="kj kk kl km gt oa ob oc od aw oe bi"><span id="2358" class="no me it ob b gy of og l oh oi"><strong class="ob iu">npm install —g yarn</strong></span></pre><blockquote class="lv lw lx"><p id="114d" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated"><strong class="lb iu"> Yarn </strong>是一个包经理，兼任项目经理。</p></blockquote><h2 id="8bd2" class="no me it bd mf np nq dn mj nr ns dp mn li nt nu mp lm nv nw mr lq nx ny mt nz bi translated">安装Go</h2><p id="240e" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">从https://go.dev/dl/下载并安装Go。遵循安装程序中的说明。</p><blockquote class="lv lw lx"><p id="a9af" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">Go 是一种静态类型的编译编程语言，由Robert Griesemer、Rob Pike和Ken Thompson在Google设计。</p></blockquote><h2 id="f18f" class="no me it bd mf np nq dn mj nr ns dp mn li nt nu mp lm nv nw mr lq nx ny mt nz bi translated">下载图像</h2><p id="5ea8" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">前往https://github.com/magefile/mage的<a class="ae ky" href="https://github.com/magefile/mage" rel="noopener ugc nofollow" target="_blank">法师之源。点击<strong class="lb iu">代码</strong>按钮并选择<strong class="lb iu">下载。ZIP </strong>:</a></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/a26dca61a5582828b1910243eae67388.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LsoiCXjBIS0Jkn_cykd20A.png"/></div></div></figure><blockquote class="lv lw lx"><p id="f84b" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated"><strong class="lb iu"> Mage </strong>是一个类似于make的构建工具，但是Mage不是编写bash代码，而是让你在Go中编写逻辑。</p></blockquote><p id="cf23" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下载后，将zip文件的内容提取到桌面上。</p><p id="f778" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，通过在命令提示符下键入以下命令，找出您的<strong class="lb iu"> GOPATH </strong>的位置:</p><pre class="kj kk kl km gt oa ob oc od aw oe bi"><span id="8f62" class="no me it ob b gy of og l oh oi"><strong class="ob iu">go env</strong></span></pre><p id="824d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以从输出中找到<code class="fe ok ol om ob b">GOPATH</code>的路径:</p><pre class="kj kk kl km gt oa ob oc od aw oe bi"><span id="9e18" class="no me it ob b gy of og l oh oi">...<br/>set GOOS=windows<br/>set GOPATH=<strong class="ob iu">C:\Users\Wei-Meng Lee\go</strong><br/>set GOPRIVATE=<br/>...</span></pre><p id="b79e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">键入以下命令创建一个路径调用<strong class="lb iu"> Go </strong>(如果您的计算机上还不存在该路径):</p><pre class="kj kk kl km gt oa ob oc od aw oe bi"><span id="48e6" class="no me it ob b gy of og l oh oi"><strong class="ob iu">cd c:\users\Wei Meng Lee\</strong><br/><strong class="ob iu">mkdir Go</strong></span></pre><p id="e1c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在命令提示符下，将目录更改为<strong class="lb iu"> mage-master </strong>文件夹:</p><pre class="kj kk kl km gt oa ob oc od aw oe bi"><span id="60e9" class="no me it ob b gy of og l oh oi"><strong class="ob iu">cd C:\Users\Wei-Meng Lee\Desktop\mage-master</strong></span></pre><p id="4cf0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">键入以下命令:</p><pre class="kj kk kl km gt oa ob oc od aw oe bi"><span id="1fa9" class="no me it ob b gy of og l oh oi"><strong class="ob iu">go run bootstrap.go</strong></span></pre><p id="71b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该会看到类似这样的内容:</p><pre class="kj kk kl km gt oa ob oc od aw oe bi"><span id="1a40" class="no me it ob b gy of og l oh oi">Running target: Install<br/>exec: go “env” “GOBIN”<br/>exec: go “env” “GOPATH”<br/>exec: git “rev-parse” “ — short” “HEAD”<br/>exec: git “describe” “ — tags”<br/>exec: go “build” “-o” “C:\\Users\\Wei-Meng Lee\\go\\bin\\mage.exe” “-ldflags=-X \”github.com/magefile/mage/mage.timestamp=2022–03–18T12:44:11+08:00\” -X \”github.com/magefile/mage/mage.commitHash=\” -X \”github.com/magefile/mage/mage.gitTag=dev\”” “github.com/magefile/mage”</span></pre><h2 id="898e" class="no me it bd mf np nq dn mj nr ns dp mn li nt nu mp lm nv nw mr lq nx ny mt nz bi translated">下载MQTT数据源的源代码</h2><p id="745c" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">去<a class="ae ky" href="https://github.com/grafana/mqtt-datasource" rel="noopener ugc nofollow" target="_blank">https://github.com/grafana/mqtt-datasource</a>下载ZIP文件:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/90b025b5c4785cb75089c8b0b98d4925.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nBaqX9qI45BW2SzzXfE_RQ.png"/></div></div></figure><p id="791f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下载文件后，将zip文件的内容解压缩到桌面。</p><p id="094d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用代码编辑器编辑<strong class="lb iu"> mqtt-datasource-main </strong>文件夹中名为<strong class="lb iu"> package.json </strong>的文件。将“<code class="fe ok ol om ob b">rm -rf dist &amp;&amp; ...</code>”替换为“<code class="fe ok ol om ob b">del /F /Q dist &amp;&amp; ...</code>”(您替换的命令是为了确保它能在Windows上工作):</p><pre class="kj kk kl km gt oa ob oc od aw oe bi"><span id="1b7b" class="no me it ob b gy of og l oh oi">{<br/>  “name”: “grafana-mqtt-datasource”,<br/>  “version”: “0.0.1-dev”,<br/>  “description”: “MQTT Datasource Plugin”,<br/>  “scripts”: { “build”: “<strong class="ob iu">del /F /Q dist</strong> &amp;&amp; grafana-toolkit plugin:build &amp;&amp; mage build:backend”,<br/>  ...</span></pre><p id="2810" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在命令提示符下，cd到<strong class="lb iu"> mqtt-datasource-main </strong>文件夹:</p><pre class="kj kk kl km gt oa ob oc od aw oe bi"><span id="f4b8" class="no me it ob b gy of og l oh oi"><strong class="ob iu">cd C:\Users\Wei-Meng Lee\Desktop\mqtt-datasource-main</strong></span></pre><p id="7d70" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">并键入以下命令:</p><pre class="kj kk kl km gt oa ob oc od aw oe bi"><span id="cdc6" class="no me it ob b gy of og l oh oi"><strong class="ob iu">yarn build<br/>yarn install</strong></span></pre><h2 id="2375" class="no me it bd mf np nq dn mj nr ns dp mn li nt nu mp lm nv nw mr lq nx ny mt nz bi translated">配置插件</h2><p id="a1bb" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">将<strong class="lb iu"> mqtt-datasource-main </strong>文件夹移动到<strong class="lb iu">C:\ Program Files \ grafan alabs \ grafana \ data \ plugins</strong>文件夹中。</p><blockquote class="lv lw lx"><p id="bee0" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated"><strong class="lb iu">C:\ Program Files \ grafan labs \ grafana \ data \ plugins</strong>文件夹是Grafana存储各种插件的地方。</p></blockquote><p id="d2d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，将<strong class="lb iu"> defaults.ini </strong>文件加载到<strong class="lb iu">C:\ Program Files \ GrafanaLabs \ grafana \ conf</strong>文件夹中，并添加以下粗体语句:</p><pre class="kj kk kl km gt oa ob oc od aw oe bi"><span id="f317" class="no me it ob b gy of og l oh oi">[plugins]<br/>enable_alpha = false<br/>app_tls_skip_verify_insecure = false<br/># Enter a comma-separated list of plugin identifiers to identify plugins to load even if they are unsigned. Plugins with modified signatures are never loaded.<br/>allow_loading_unsigned_plugins = <strong class="ob iu">grafana-mqtt-datasource<br/></strong># Enable or disable installing / uninstalling / updating plugins directly from within Grafana.<br/>plugin_admin_enabled = true</span></pre><p id="e1f3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的添加向Grafana表明允许未签名的插件(在本例中是<strong class="lb iu"> MQTT数据源</strong>)。</p><p id="1b56" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Windows服务中重新启动Grafana。</p><h1 id="bd86" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">在Grafana中使用MQTT数据源</h1><p id="0b9b" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">如果您已经执行了为Grafana构建MQTT数据源的前一步，那么现在应该可以使用它了。</p><h2 id="55cc" class="no me it bd mf np nq dn mj nr ns dp mn li nt nu mp lm nv nw mr lq nx ny mt nz bi translated">将数据发布到MQTT代理</h2><p id="abf1" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">在开始构建使用MQTT数据源显示数据的面板之前，您需要将数据写入MQTT代理，以便订阅它。为此，我将编写一个Python程序来模拟一些传感器数据。</p><blockquote class="lv lw lx"><p id="831d" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">如果您不熟悉什么是MQTT代理，请参考我以前的文章:<a class="ae ky" href="https://weimenglee.medium.com/using-mqtt-to-push-messages-across-devices-1465855b36e5" rel="noopener">https://weimenglee . medium . com/using-MQTT-to-push-messages-cross-devices-1465855 b36e 5</a></p></blockquote><div class="oo op gp gr oq or"><a href="https://weimenglee.medium.com/using-mqtt-to-push-messages-across-devices-1465855b36e5" rel="noopener follow" target="_blank"><div class="os ab fo"><div class="ot ab ou cl cj ov"><h2 class="bd iu gy z fp ow fr fs ox fu fw is bi translated">使用MQTT跨设备推送消息</h2><div class="oy l"><h3 class="bd b gy z fp ow fr fs ox fu fw dk translated">了解如何在Python应用程序中使用MQTT</h3></div><div class="oz l"><p class="bd b dl z fp ow fr fs ox fu fw dk translated">weimenglee.medium.com</p></div></div><div class="pa l"><div class="pb l pc pd pe pa pf ks or"/></div></div></a></div><p id="f683" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建一个文本文件，命名为<strong class="lb iu"> publish.py </strong>。用以下语句填充它:</p><pre class="kj kk kl km gt oa ob oc od aw oe bi"><span id="584e" class="no me it ob b gy of og l oh oi"># pip install paho-mqtt<br/>import paho.mqtt.client as mqtt<br/>import numpy as np<br/>import time</span><span id="75ee" class="no me it ob b gy pg og l oh oi">MQTTBROKER = 'test.mosquitto.org'<br/>PORT = 1883<br/>TOPIC = "home/temp/room1/storeroom"</span><span id="3d99" class="no me it ob b gy pg og l oh oi">mqttc = mqtt.Client("python_pub")<br/>mqttc.connect(MQTTBROKER, PORT)</span><span id="2dc0" class="no me it ob b gy pg og l oh oi">while True:<br/>    MESSAGE = str(np.random.uniform(20,30))<br/>    mqttc.publish(TOPIC, MESSAGE)<br/>    print("Published to " + MQTTBROKER + ': ' + <br/>          TOPIC + ':' + MESSAGE)<br/>    time.sleep(3)</span></pre><p id="1455" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要运行<strong class="lb iu"> publish.py </strong>文件，请在命令提示符下键入以下命令:</p><pre class="kj kk kl km gt oa ob oc od aw oe bi"><span id="e081" class="no me it ob b gy of og l oh oi">$ <strong class="ob iu">python publish.py</strong></span></pre><h2 id="4468" class="no me it bd mf np nq dn mj nr ns dp mn li nt nu mp lm nv nw mr lq nx ny mt nz bi translated">使用MQTT数据源进行订阅</h2><p id="d12a" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">在Grafana中，通过搜索<strong class="lb iu"> mqtt </strong>添加一个新的数据源:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ph"><img src="../Images/d73324b5b78d236f313891679aa6a315.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QOnSTfhGbnWiL-nM-oVCfg.png"/></div></div></figure><p id="81ce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">按如下方式配置<strong class="lb iu"> MQTT </strong>数据源:</p><ul class=""><li id="35d2" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated"><strong class="lb iu">主持人</strong>:test.mosquitto.org</li><li id="775c" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated"><strong class="lb iu">端口</strong> : 1883</li></ul><blockquote class="lv lw lx"><p id="b53b" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">您可以将<strong class="lb iu">验证</strong>部分下的字段留空。</p></blockquote><p id="7075" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完成后点击<strong class="lb iu">保存&amp;测试</strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/fbc919f75720b816761f3dc0bda7224b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/format:webp/1*q2hUdsGzTMd1Jr896UM_Hw.png"/></div></figure><p id="3577" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，创建一个新的<strong class="lb iu">仪表板</strong>并添加一个新的<strong class="lb iu">面板</strong>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pj"><img src="../Images/3098f7f92318b01d98d3cf613103d609.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UR1bK6RFKLSMCqrsLX7vYQ.png"/></div></div></figure><p id="5d99" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用面板配置以下内容:</p><ul class=""><li id="f59f" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated"><strong class="lb iu">可视化</strong>:时间序列</li><li id="5bcf" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated"><strong class="lb iu">数据来源</strong> : MQTT</li><li id="b0a6" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated"><strong class="lb iu">主题</strong>:家/温度/房间1/储藏室</li></ul><p id="8726" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完成后点击<strong class="lb iu">应用</strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pk"><img src="../Images/999273602b74afbf62f41c8b8a9b91cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CBDUOxgH_2t-7XCk9gFPNg.png"/></div></div></figure><p id="d897" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，您应该可以看到绘制的图表。如果您能够看到图表，这意味着您能够通过MQTT数据源接收数据。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pl"><img src="../Images/3e87497a1dabd6357dcea4ded79ca080.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T0K00dadVdLEv9VPqpJAkw.png"/></div></div></figure><blockquote class="lv lw lx"><p id="a124" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated"><strong class="lb iu">提示</strong>:切换仪表盘查看<strong class="lb iu">最后5分钟</strong>查看图表特写。</p></blockquote><h1 id="aec3" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">摘要</h1><p id="ba8e" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">使用MQTT数据源非常简单，这使得创建实时图表更新变得轻而易举。这个项目中唯一的挑战是编译MQTT数据源并将其安装在Grafana中。一旦你解决了这个问题，你会有很多乐趣！</p><div class="oo op gp gr oq or"><a href="https://weimenglee.medium.com/membership" rel="noopener follow" target="_blank"><div class="os ab fo"><div class="ot ab ou cl cj ov"><h2 class="bd iu gy z fp ow fr fs ox fu fw is bi translated">加入媒介与我的介绍链接-李伟孟</h2><div class="oy l"><h3 class="bd b gy z fp ow fr fs ox fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="oz l"><p class="bd b dl z fp ow fr fs ox fu fw dk translated">weimenglee.medium.com</p></div></div><div class="pa l"><div class="pm l pc pd pe pa pf ks or"/></div></div></a></div></div></div>    
</body>
</html>