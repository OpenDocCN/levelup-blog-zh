<html>
<head>
<title>Loading Scenes in Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Unity中加载场景</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/loading-scenes-in-unity-60efef317413?source=collection_archive---------5-----------------------#2021-05-03">https://levelup.gitconnected.com/loading-scenes-in-unity-60efef317413?source=collection_archive---------5-----------------------#2021-05-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jp jq jr js gh gi paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gh gi jo"><img src="../Images/c5487ae906f5c56d54f86e3f6a7a89bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*sL_l8xMBmCvTeeifW-CpVA.gif"/></div></div></figure><p id="9fc9" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">Unity中的场景可以被认为是独特的层次，甚至是像主菜单一样的独立屏幕。在之前的<a class="ae kx" href="https://medium.com/codex/creating-a-retro-game-over-behavior-f520e519b21e" rel="noopener">文章</a>中，我们通过简单地在现有的游戏场景上显示文本来创建一个屏幕游戏。然而，要从游戏结束状态重启游戏，使用<strong class="kb ir"> Unity的场景管理</strong>是必要的。</p><p id="1b66" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">在这篇文章中，你将学习如何从游戏结束状态重启游戏！</p></div><div class="ab cl ky kz hu la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ij ik il im in"><h1 id="154a" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">如何在Unity中加载场景</h1><ol class=""><li id="300d" class="md me iq kb b kc mf kg mg kk mh ko mi ks mj kw mk ml mm mn bi translated">确保你想要加载的场景被添加到你的<strong class="kb ir">构建设置</strong>中。否则，当您试图通过代码访问该场景时，它将无法被识别并导致错误。</li></ol><figure class="mp mq mr ms gt js gh gi paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gh gi mo"><img src="../Images/3d1bd8bb9c2512599a369ddc3f47a7f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*zWf5vrMFgFIfeeLKsIGX5w.gif"/></div></div></figure><p id="6e8c" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">2.将<strong class="kb ir"> Unity场景管理库</strong>添加到你的脚本中。你可以把它放在一个新创建的游戏管理器脚本中来帮助跟踪游戏的状态。</p><figure class="mp mq mr ms gt js gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/77bf64fe73b62ce9a555b90251b34b58.png" data-original-src="https://miro.medium.com/v2/resize:fit:686/format:webp/1*XG8XX4R2b05pnXbO_-eGUA.png"/></div></figure><p id="d444" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated"><strong class="kb ir">以下步骤将在场景管理所在的相同脚本中进行</strong></p><p id="dc35" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">3.创建一个bool变量来跟踪游戏状态。</p><blockquote class="mu mv mw"><p id="8c42" class="jz ka mx kb b kc kd ke kf kg kh ki kj my kl km kn mz kp kq kr na kt ku kv kw ij bi translated"><strong class="kb ir">注意</strong>:如果您按照本指南学习如何加载场景，您的过程将在步骤4 中<strong class="kb ir">完成，而<strong class="kb ir">这一步可以跳过</strong>。您也不必将博弈结束条件添加到输入中。</strong></p></blockquote><figure class="mp mq mr ms gt js gh gi paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gh gi nb"><img src="../Images/6c731aed540b385ec3833744d1787f1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BOSK-gkqVSSyZ4tYdiLG3A.png"/></div></div></figure><p id="c85d" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">4.在void更新中，为重启游戏的键设置用户输入。它可以是任何键，在我的例子中，我用“R”代表<em class="mx">重启</em>。</p><p id="98d1" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">因为您之前已经添加了场景管理库，所以您可以访问SceneManager，它将加载您想要的场景。</p><figure class="mp mq mr ms gt js gh gi paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gh gi nc"><img src="../Images/fcdf7e0db1c404866b78e22db394b42c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cM-WykKcsxa0Zgo6Az90-w.png"/></div></div></figure><p id="a43e" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">场景由其名称或其各自的场景编号来标识。在上面的例子中，场景是通过它的编号来识别的，这比使用字符串/场景名称要快。</p><p id="c81c" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">您可以在构建设置中查看这两者。您也可以从项目文件夹中查看和更改场景名称</p><figure class="mp mq mr ms gt js gh gi paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gh gi nd"><img src="../Images/7cc548340ce5338a59f075436fcf4649.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u4BfV8aYGwvUBKoBUkQ4Dw.png"/></div></div></figure><p id="e188" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">5.创建一个void方法来更改步骤3中的bool变量的值。</p><blockquote class="mu mv mw"><p id="61d6" class="jz ka mx kb b kc kd ke kf kg kh ki kj my kl km kn mz kp kq kr na kt ku kv kw ij bi translated"><strong class="kb ir">注意</strong>:最好使用方法来改变bool变量，而不是直接改变。</p></blockquote><figure class="mp mq mr ms gt js gh gi paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gh gi ne"><img src="../Images/9dc7c58f3b7dd82cc45c2ff1424bf751.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_i5GMCXvtuKMw16AyJYi-w.png"/></div></div></figure></div><div class="ab cl ky kz hu la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ij ik il im in"><p id="0da2" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">以下步骤将发生在<strong class="kb ir"> UI管理器脚本</strong>中，该脚本是在<a class="ae kx" rel="noopener ugc nofollow" target="_blank" href="/ease-of-building-ui-elements-in-unity-4f501c7e7c5e"> <strong class="kb ir">分数系统</strong> </a>文章中创建的，并进一步用于<a class="ae kx" href="https://medium.com/codex/creating-a-lives-counter-ui-element-in-unity-9d48b485555e" rel="noopener"> <strong class="kb ir">生命计数器</strong> </a>和<a class="ae kx" href="https://medium.com/codex/creating-a-retro-game-over-behavior-f520e519b21e" rel="noopener"> <strong class="kb ir">游戏结束屏幕</strong> </a>。</p><p id="ae03" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">或者，您可以通过在脚本中最有意义的地方应用该逻辑来遵循您自己的代码。例如可以通过处理玩家的死亡或玩家当前的生活来触发游戏结束状态的脚本。</p><ol class=""><li id="c4d4" class="md me iq kb b kc kd kg kh kk nf ko ng ks nh kw mk ml mm mn bi translated">使用<a class="ae kx" href="https://medium.com/codex/script-communication-in-unity-using-getcomponent-ca4444bfec6" rel="noopener">脚本通信</a>，从UI管理器脚本或当前脚本访问游戏管理器脚本。</li></ol><figure class="mp mq mr ms gt js gh gi paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gh gi ni"><img src="../Images/9ae1ef2707ef39a197748bc5cbe94ed6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UH4_CRCeGIRo3ULDZDfoLw.png"/></div></div></figure><p id="cebd" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">2.对UI管理器脚本或当前脚本调用GameOver方法。为了避免混乱，我创建了一个方法来包含游戏过程中在我的代码中发生的所有事情。</p><blockquote class="mu mv mw"><p id="99ea" class="jz ka mx kb b kc kd ke kf kg kh ki kj my kl km kn mz kp kq kr na kt ku kv kw ij bi translated"><strong class="kb ir">注意</strong>:确保你试图调用的方法是公共的，否则你会得到一个保护级别错误。</p></blockquote><figure class="mp mq mr ms gt js gh gi paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gh gi nj"><img src="../Images/d7704dd2cc80732856e2cf0eac06c30f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rYSlT9SJR_9R1xXaNqLelg.png"/></div></div></figure><p id="8c5a" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">3.当玩家的生命值等于0时，调用GameOver Sequence方法，因为这是触发游戏结束状态的原因。</p><figure class="mp mq mr ms gt js gh gi paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gh gi nk"><img src="../Images/9f8275422df5495dfec6aacce57c77a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2VFA77M_Y1Sjt6rbtCUryg.png"/></div></div></figure></div><div class="ab cl ky kz hu la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ij ik il im in"><p id="13fe" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">现在，你应该有一个全功能的<strong class="kb ir">重启选项</strong>！</p><figure class="mp mq mr ms gt js gh gi paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gh gi nl"><img src="../Images/9bfd35daebbf8eb18dec38542071e15d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*1NmvjQ-mq4h6QLz9m6UGog.gif"/></div></div></figure><p id="2b72" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">在下一篇文章中，我们将看看如何给一个被摧毁的游戏对象添加爆炸！</p></div></div>    
</body>
</html>