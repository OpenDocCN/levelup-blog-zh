<html>
<head>
<title>Precision-Recall curve explained</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">è§£é‡Šç²¾ç¡®å¬å›æ›²çº¿</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/precision-recall-curve-explained-fabfe58fb52e?source=collection_archive---------5-----------------------#2021-05-14">https://levelup.gitconnected.com/precision-recall-curve-explained-fabfe58fb52e?source=collection_archive---------5-----------------------#2021-05-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="4b6e" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">æ•°æ®ç§‘å­¦åŸºç¡€</h2><div class=""/><div class=""><h2 id="a626" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">å­¦ä¹ ç”¨Pythonå¯è§†åŒ–ç²¾ç¡®å¬å›æ›²çº¿</h2></div><p id="038e" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">åœ¨æœ¬å¸–ä¸­ï¼Œæˆ‘ä»¬å°†äº†è§£å¦‚ä½•ä»æ¦‚å¿µä¸Šæ„å»ºç²¾ç¡®å¬å›æ›²çº¿(ä¸€ç§è¯„ä¼°ç›‘ç£åˆ†ç±»æ¨¡å‹çš„æœ‰ç”¨å·¥å…·),å¹¶åœ¨Pythonä¸­ä»¥é™æ€å’Œäº¤äº’æ ¼å¼æ˜¾ç¤ºè¯¥æ›²çº¿ã€‚</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi ln"><img src="../Images/f92a0579e8e8ae8590d3cf65b2469c49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*N-Qmf5sGYpHIaiS9"/></div></div><figcaption class="lz ma gj gh gi mb mc bd b be z dk translated">Elena Mozhvilo åœ¨<a class="ae md" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šçš„ç…§ç‰‡</figcaption></figure></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="a8c0" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">ç†è§£æ›²çº¿</h1><p id="1fac" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated">ç²¾ç¡®åº¦-å¬å›ç‡(åˆåPR)æ›²çº¿å‘æˆ‘ä»¬å±•ç¤ºäº†åœ¨ä¸åŒçš„<em class="ni">é˜ˆå€¼</em>ä¸‹<em class="ni">ç²¾ç¡®åº¦</em>å’Œ<em class="ni">å¬å›ç‡</em>ä¹‹é—´çš„å…³ç³»ã€‚è®©æˆ‘ä»¬æ¥ç†è§£è¿™ä¸‰ä¸ªæœ¯è¯­çš„å«ä¹‰ã€‚</p><p id="e07b" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">é¦–å…ˆï¼Œè®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹æ··æ·†çŸ©é˜µæ˜¯ä»€ä¹ˆæ ·å­çš„:</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi nj"><img src="../Images/12b6b82e2369c55c5ef038ef22752d36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ydCmaJOnEKqXO6cTn4g4fQ.png"/></div></div><figcaption class="lz ma gj gh gi mb mc bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><p id="31d5" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">åˆ·æ–°äº†æˆ‘ä»¬å¯¹æ··æ·†çŸ©é˜µçš„è®°å¿†åï¼Œè®©æˆ‘ä»¬çœ‹çœ‹æœ¯è¯­ã€‚</p><h2 id="f19e" class="nk mm it bd mn nl nm dn mr nn no dp mv la np nq mx le nr ns mz li nt nu nb iz bi translated">ç²¾ç¡®</h2><p id="d4fb" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated">æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ç®€å•å…¬å¼è®¡ç®—ç²¾åº¦:</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/ee7853d50687e85adc73ba1bf5b19c3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:722/format:webp/1*Xzlm2Yx_7wtdP57IhJpddw.png"/></div></figure><blockquote class="nw nx ny"><p id="5c4e" class="kr ks ni kt b ku kv kd kw kx ky kg kz nz lb lc ld oa lf lg lh ob lj lk ll lm im bi translated">ç²¾ç¡®åº¦å‘Šè¯‰æˆ‘ä»¬æ­£ç¡®çš„æ­£é¢é¢„æµ‹çš„ç™¾åˆ†æ¯”ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒå‘Šè¯‰æˆ‘ä»¬ç§¯æçš„é¢„æµ‹æœ‰å¤šç²¾ç¡®ã€‚ç²¾åº¦è¶Šé«˜ï¼Œå‡é˜³æ€§è¶Šä½ï¼Œåä¹‹äº¦ç„¶ã€‚</p></blockquote><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi oc"><img src="../Images/225cff35762fc5914c49cce34de99595.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UnmaIEBQnmyiO2Isa1LWKw.png"/></div></div><figcaption class="lz ma gj gh gi mb mc bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><h2 id="f7a3" class="nk mm it bd mn nl nm dn mr nn no dp mv la np nq mx le nr ns mz li nt nu nb iz bi translated">å›å¿†</h2><p id="631e" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated">æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ç®€å•å…¬å¼æ‰¾åˆ°å›å¿†:</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi od"><img src="../Images/6ace42cfbd9f7c4c862b54db14701110.png" data-original-src="https://miro.medium.com/v2/resize:fit:538/format:webp/1*_rdggG32vA0TAfjQ6SedAw.png"/></div></figure><blockquote class="nw nx ny"><p id="3f36" class="kr ks ni kt b ku kv kd kw kx ky kg kz nz lb lc ld oa lf lg lh ob lj lk ll lm im bi translated">å›å¿†å‘Šè¯‰æˆ‘ä»¬æ­£ç¡®é¢„æµ‹çš„æ­£é¢è®°å½•çš„ç™¾åˆ†æ¯”ã€‚è¿™ä¹Ÿè¢«ç§°ä¸ºçœŸé˜³æ€§ç‡æˆ–çµæ•åº¦ã€‚å¬å›ç‡è¶Šé«˜ï¼Œå‡é˜´æ€§å°±è¶Šä½ï¼Œåä¹‹äº¦ç„¶ã€‚</p></blockquote><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi oe"><img src="../Images/21678c9cad3fa06144ad7fc9150d1ae3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-HO-F3h937gpjlSBAw-Xww.png"/></div></div><figcaption class="lz ma gj gh gi mb mc bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><h2 id="af96" class="nk mm it bd mn nl nm dn mr nn no dp mv la np nq mx le nr ns mz li nt nu nb iz bi translated">é˜ˆå€¼</h2><p id="5d14" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated">é€šå¸¸ï¼Œåˆ†ç±»æ¨¡å‹å¯ä»¥é¢„æµ‹ç»™å®šè®°å½•æˆä¸ºæŸä¸ªç±»åˆ«çš„æ¦‚ç‡ã€‚é€šè¿‡å°†æ¦‚ç‡å€¼ä¸æˆ‘ä»¬è®¾ç½®çš„é˜ˆå€¼è¿›è¡Œæ¯”è¾ƒï¼Œæˆ‘ä»¬å¯ä»¥å°†è®°å½•åˆ†ç±»ã€‚æ¢å¥è¯è¯´ï¼Œæ‚¨éœ€è¦å®šä¹‰ä¸€ä¸ªç±»ä¼¼å¦‚ä¸‹çš„è§„åˆ™:</p><blockquote class="nw nx ny"><p id="aa6e" class="kr ks ni kt b ku kv kd kw kx ky kg kz nz lb lc ld oa lf lg lh ob lj lk ll lm im bi translated">å¦‚æœä¸ºæ­£çš„æ¦‚ç‡å¤§äºæˆ–ç­‰äºé˜ˆå€¼ï¼Œåˆ™è®°å½•è¢«åˆ†ç±»ä¸ºæ­£é¢„æµ‹ï¼›å¦åˆ™ï¼Œä¸€ä¸ªè´Ÿé¢çš„é¢„æµ‹ã€‚</p></blockquote><p id="c715" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">åœ¨ä¸‹é¢çš„å°ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸‰ä¸ªè®°å½•çš„æ¦‚ç‡å¾—åˆ†ã€‚ä½¿ç”¨ä¸¤ä¸ªä¸åŒçš„é˜ˆå€¼(0.5å’Œ0.6)ï¼Œæˆ‘ä»¬å°†æ¯ä¸ªè®°å½•åˆ†ç±»åˆ°ä¸€ä¸ªç±»ä¸­ã€‚æ­£å¦‚æ‚¨æ‰€çœ‹åˆ°çš„ï¼Œé¢„æµ‹çš„ç±»æ ¹æ®æˆ‘ä»¬é€‰æ‹©çš„é˜ˆå€¼è€Œå˜åŒ–ã€‚</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi of"><img src="../Images/6ab583ad7c038d728a2a3465683639fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_3404EOaRMY9nERQJLcZxA.png"/></div></div><figcaption class="lz ma gj gh gi mb mc bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><p id="4321" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">å½“æ„å»ºæ··æ·†çŸ©é˜µå’Œè®¡ç®—å‡†ç¡®ç‡å’Œå¬å›ç‡æ—¶ï¼Œæˆ‘ä»¬éœ€è¦é¢„æµ‹çš„ç±»åˆ«è€Œä¸æ˜¯æ¦‚ç‡åˆ†æ•°ã€‚</p><h2 id="284a" class="nk mm it bd mn nl nm dn mr nn no dp mv la np nq mx le nr ns mz li nt nu nb iz bi translated">ç²¾ç¡®å›å¿†æ›²çº¿</h2><p id="6e8c" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated">ç°åœ¨æˆ‘ä»¬çŸ¥é“äº†ä»€ä¹ˆæ˜¯ç²¾åº¦ã€å¬å›ç‡å’Œé˜ˆå€¼ï¼Œä¸€æ—¦æˆ‘ä»¬è®¡ç®—äº†å¤šä¸ªé˜ˆå€¼çš„ç²¾åº¦å’Œå¬å›ç‡ï¼Œæˆ‘ä»¬å°±åœ¨xè½´ä¸Šç»˜åˆ¶å¬å›ç‡ï¼Œåœ¨yè½´ä¸Šç»˜åˆ¶ç²¾åº¦-å¬å›ç‡æ›²çº¿ã€‚å°±æ˜¯è¿™æ ·ï¼âœ¨</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi og"><img src="../Images/c78da0fabca7f621b50e5ce1d444dbab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*KZu3UEBx3UIgOvdS6V_h_A.png"/></div><figcaption class="lz ma gj gh gi mb mc bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><p id="5247" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">è¯¥æ›²çº¿æ˜¾ç¤ºäº†ä¸åŒé˜ˆå€¼ä¸‹ç²¾ç¡®åº¦å’Œå¬å›ç‡ä¹‹é—´çš„æƒè¡¡ã€‚ä½ ä¹Ÿå¯ä»¥è®¤ä¸ºè¿™æ¡æ›²çº¿æ˜¾ç¤ºäº†<em class="ni">å‡é˜³æ€§</em>å’Œ<em class="ni">å‡é˜´æ€§</em>ä¹‹é—´çš„æƒè¡¡ã€‚å¦‚æœæ‚¨çš„åˆ†ç±»é—®é¢˜è¦æ±‚æ‚¨æ‹¥æœ‰é¢„æµ‹çš„ç±»åˆ«è€Œä¸æ˜¯æ¦‚ç‡ï¼Œåˆ™åº”åœ¨è€ƒè™‘äº†<em class="ni">å‡é˜³æ€§</em>å’Œ<em class="ni">å‡é˜´æ€§</em>çš„ç›¸å¯¹è¯¯åˆ†ç±»æˆæœ¬åï¼Œé€‰æ‹©è¦ä½¿ç”¨çš„æ­£ç¡®é˜ˆå€¼ã€‚æ­¤å¤–ï¼Œåœ¨æŸäº›ç”¨ä¾‹ä¸­(ä¾‹å¦‚ï¼Œå½“æ‚¨æœ‰ä¸¥é‡ä¸å¹³è¡¡çš„æ•°æ®æ—¶)ï¼Œç²¾ç¡®-å¬å›æ›²çº¿ä¸‹çš„é¢ç§¯æ˜¯ROCæ›²çº¿ä¸‹é¢ç§¯çš„ä¸€ä¸ªå¾ˆå¥½çš„æ›¿ä»£åº¦é‡ã€‚</p><p id="10b6" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">ç°åœ¨ï¼Œæ˜¯æ—¶å€™çœ‹çœ‹ä¸€äº›ä»£ç ç¤ºä¾‹æ¥å·©å›ºæˆ‘ä»¬çš„çŸ¥è¯†äº†ã€‚</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="13aa" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">åœ¨Pythonä¸­æ„å»ºé™æ€ç²¾ç¡®å¬å›æ›²çº¿</h1><p id="d169" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated">è®©æˆ‘ä»¬é¦–å…ˆå¯¼å…¥æœ¬æ–‡å‰©ä½™éƒ¨åˆ†æ‰€éœ€çš„åº“:</p><pre class="lo lp lq lr gt oh oi oj ok aw ol bi"><span id="240d" class="nk mm it oi b gy om on l oo op">import numpy as np<br/>import pandas as pd<br/>pd.options.display.float_format = "{:.4f}".format</span><span id="5992" class="nk mm it oi b gy oq on l oo op">from sklearn.datasets import load_breast_cancer<br/>from sklearn.linear_model import LogisticRegression<br/>from sklearn.metrics import precision_recall_curve, plot_precision_recall_curve</span><span id="6049" class="nk mm it oi b gy oq on l oo op">import matplotlib.pyplot as plt<br/>import seaborn as sns<br/>import plotly.express as px<br/>sns.set(palette='rainbow', context='talk')</span></pre><p id="2b9d" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªå‡½æ•°ï¼Œåœ¨ç»™å®šæ­£ç¡®ç±»åˆ«ã€é¢„æµ‹ä¸ºé˜³æ€§ç±»åˆ«çš„æ¦‚ç‡å’Œé˜ˆå€¼çš„æƒ…å†µä¸‹ï¼Œè¯¥å‡½æ•°å°†æ‰¾åˆ°<em class="ni">çœŸé˜³æ€§</em>å’Œ<em class="ni">é˜³æ€§é¢„æµ‹</em>çš„æ•°é‡:</p><pre class="lo lp lq lr gt oh oi oj ok aw ol bi"><span id="f306" class="nk mm it oi b gy om on l oo op">def get_tp_pp(y, proba, threshold):<br/>    """Return the number of true positives."""<br/>    # Classify into classes<br/>    pred = np.where(proba&gt;=threshold, 1, 0)<br/>   <br/>    # Count true positives<br/>    true_positives = np.sum((y==1) &amp; (pred==1))<br/>    positive_predictions = np.sum(pred==1)<br/>    return true_positives, positive_predictions</span></pre><p id="93f6" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><em class="ni">è¯·æ³¨æ„ï¼Œæ‚¨å°†åœ¨ç°å®ä¸­ä½¿ç”¨åˆ†åŒºæ•°æ®é›†(å¦‚åŸ¹è®­ã€æµ‹è¯•)ã€‚ä½†æ˜¯ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬ä¸ä¼šåœ¨æœ¬æ–‡ä¸­å¯¹æ•°æ®è¿›è¡Œåˆ’åˆ†ã€‚</em></p><p id="5732" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">æˆ‘ä»¬å°†åœ¨ç©å…·æ•°æ®é›†ä¸Šæ„å»ºä¸€ä¸ªç®€å•çš„æ¨¡å‹ï¼Œå¹¶è·å¾—è¿™äº›è®°å½•ä¸ºæ­£çš„æ¦‚ç‡(ç”¨å€¼1è¡¨ç¤º):</p><pre class="lo lp lq lr gt oh oi oj ok aw ol bi"><span id="1214" class="nk mm it oi b gy om on l oo op"># Load sample data<br/>X = load_breast_cancer()['data'][:,:2] # first two columns only<br/>y = load_breast_cancer()['target']</span><span id="4311" class="nk mm it oi b gy oq on l oo op"># Train a model<br/>log = LogisticRegression()<br/>log.fit(X, y)</span><span id="e141" class="nk mm it oi b gy oq on l oo op"># Predict probability<br/>proba = log.predict_proba(X)[:,1]</span></pre><p id="5703" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">æˆ‘ä»¬å°†ä½¿ç”¨1000ä¸ªä¸åŒçš„é˜ˆå€¼ï¼Œä»0åˆ°1ï¼Œå¢é‡ä¸º0.001ã€‚æ¢å¥è¯è¯´ï¼Œé˜ˆå€¼çœ‹èµ·æ¥åƒ0ï¼Œ0.001ï¼Œ0.002ï¼Œâ€¦ 0.998ï¼Œ0.999ã€‚è®©æˆ‘ä»¬æ‰¾å‡ºé˜ˆå€¼çš„ç²¾åº¦å’Œå¬å›ç‡ã€‚</p><pre class="lo lp lq lr gt oh oi oj ok aw ol bi"><span id="c587" class="nk mm it oi b gy om on l oo op"># Find precision &amp; recall for thresholds<br/>positives = np.sum(y==1)</span><span id="ccd6" class="nk mm it oi b gy oq on l oo op">columns = ['threshold', 'precision', 'recall']<br/>inputs = pd.DataFrame(columns=columns, dtype=np.number)<br/>thresholds = np.arange(0, 1, 0.001)</span><span id="5b45" class="nk mm it oi b gy oq on l oo op">for i, threshold in enumerate(thresholds):<br/>    inputs.loc[i, 'threshold'] = threshold<br/>    true_positives, positive_predictions = get_tp_pp(y, proba, threshold)<br/>    inputs.loc[i, 'precision'] = true_positives/positive_predictions<br/>    inputs.loc[i, 'recall'] = true_positives/positives<br/>inputs</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi or"><img src="../Images/d6aa9c17c4a88cd277937eb62679df8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/format:webp/1*yvyX3JHVQ6TnyY0_HSPK4A.png"/></div></figure><p id="649e" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">è¯¥åœ°å—çš„æ•°æ®å·²å‡†å¤‡å¥½ã€‚è®©æˆ‘ä»¬ç”»å‡ºæ¥:</p><pre class="lo lp lq lr gt oh oi oj ok aw ol bi"><span id="081b" class="nk mm it oi b gy om on l oo op">def plot_static_precision_recall_curve(fpr, tpr):<br/>    plt.figure(figsize=[7,7])<br/>    plt.fill_between(fpr, tpr, alpha=.5)<br/>    plt.ylabel("Precision")<br/>    plt.xlabel("Recall")<br/>    plt.title("Precision-Recall curve");<br/>    <br/>plot_static_precision_recall_curve(inputs['recall'], inputs['precision'])</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi os"><img src="../Images/f5da8b3e39c0d8ce564ef256f4512f46.png" data-original-src="https://miro.medium.com/v2/resize:fit:934/format:webp/1*DMshiScvlbLbppciRpyPdw.png"/></div></figure><p id="33a1" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">è™½ç„¶æ„å»ºè‡ªå®šä¹‰å‡½æ•°æœ‰åŠ©äºæˆ‘ä»¬ç†è§£æ›²çº¿åŠå…¶è¾“å…¥ï¼Œå¹¶æ›´å¥½åœ°æ§åˆ¶å®ƒä»¬ï¼Œä½†æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ©ç”¨<em class="ni"> sklearnçš„</em>åŠŸèƒ½è¿›è¡Œæ›´ä¼˜åŒ–ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ª<code class="fe ot ou ov oi b">precision_recall_curve()</code>å‡½æ•°å¾—åˆ°ç²¾ç¡®åº¦ã€å¬å›ç‡å’Œé˜ˆå€¼ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰ç»˜å›¾åŠŸèƒ½ä»¥åŒæ ·çš„æ–¹å¼ç»˜åˆ¶æ•°æ®:</p><pre class="lo lp lq lr gt oh oi oj ok aw ol bi"><span id="9243" class="nk mm it oi b gy om on l oo op">precision, recall, thresholds = precision_recall_curve(y, proba)<br/>plot_static_precision_recall_curve(recall, precision)</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/90c775aaf08cd1b6347986314deab195.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*sWiNLn5eyP9QOy5pQ_fJPA.png"/></div></figure><p id="2cbc" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">Sklearn è¿˜æä¾›äº†ä¸€ä¸ª<code class="fe ot ou ov oi b">plot_precision_recall_curve()</code>å‡½æ•°ï¼Œä¸ºæˆ‘ä»¬å®Œæˆæ‰€æœ‰çš„å·¥ä½œã€‚æ‚¨åªéœ€è¦ä¸€è¡Œä»£ç (æ·»åŠ æ ‡é¢˜æ˜¯å¯é€‰çš„):</p><pre class="lo lp lq lr gt oh oi oj ok aw ol bi"><span id="248a" class="nk mm it oi b gy om on l oo op">plot_precision_recall_curve(log, X, y)<br/>plt.title("Precision-Recall curve"); # Add a title for clarity</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/749fe563a99f6b9c4690c4dfb4bc48d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:842/format:webp/1*gHaqYBLkjufSyCo_vxbpKw.png"/></div></figure></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="2a86" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">ç”¨Pythonç»˜åˆ¶äº¤äº’å¼ç²¾ç¡®å¬å›æ›²çº¿</h1><p id="6846" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated">ä½¿ç”¨é™æ€å›¾æ—¶ï¼Œå¾ˆéš¾çœ‹åˆ°æ›²çº¿ä¸Šä¸åŒç‚¹çš„ç›¸åº”é˜ˆå€¼ã€‚ä¸€ç§é€‰æ‹©æ˜¯ä»”ç»†æ£€æŸ¥æˆ‘ä»¬åˆ›å»ºçš„<code class="fe ot ou ov oi b">inputs </code>æ•°æ®æ¡†æ¶ã€‚å¦ä¸€ä¸ªé€‰é¡¹æ˜¯åˆ›å»ºå›¾å½¢çš„äº¤äº’å¼ç‰ˆæœ¬ï¼Œä»¥ä¾¿å½“æˆ‘ä»¬å°†é¼ æ ‡æ‚¬åœåœ¨å›¾å½¢ä¸Šæ—¶ï¼Œå¯ä»¥çœ‹åˆ°ç²¾åº¦å’Œç›¸åº”é˜ˆå€¼æ—è¾¹çš„å›å¿†:</p><pre class="lo lp lq lr gt oh oi oj ok aw ol bi"><span id="9143" class="nk mm it oi b gy om on l oo op">def plot_interactive_precision_recall_curve(df, precision, recall, thresholds):<br/>    fig = px.area(<br/>        data_frame=df, <br/>        x=recall, <br/>        y=precision,<br/>        hover_data=thresholds, <br/>        title='Precision-Recall Curve'<br/>    )<br/>    fig.update_layout(<br/>        autosize=False,<br/>        width=500,<br/>        height=500,<br/>        margin=dict(l=30, r=30, b=30, t=30, pad=4),<br/>        title_x=.5, # Centre title<br/>        hovermode = 'closest',<br/>        xaxis=dict(hoverformat='.4f'),<br/>        yaxis=dict(hoverformat='.4f')<br/>    )<br/>    hovertemplate = 'Recall=%{x}&lt;br&gt;Precision=%{y}&lt;br&gt;Threshold=%{customdata[0]:.4f}&lt;extra&gt;&lt;/extra&gt;'<br/>    fig.update_traces(hovertemplate=hovertemplate)<br/>    <br/>    # Add dashed line with a slope of 1<br/>    fig.add_shape(type='line', line=dict(dash='dash'), x0=0, x1=1, y0=0, y1=1)<br/>    fig.show()</span><span id="ef4a" class="nk mm it oi b gy oq on l oo op">plot_interactive_precision_recall_curve(df=inputs, <br/>                           precision='precision', <br/>                           recall='recall', <br/>                           thresholds=['threshold'])</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/d8c79d5d67ee0ea476a98ab8c5e648d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1176/0*f1ZEhd-edib07kcp.gif"/></div></figure><p id="aefa" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">äº’åŠ¨æ€§æŒºæœ‰ç”¨çš„å§ï¼Ÿ</p><p id="b126" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">å¸Œæœ›ä½ å–œæ¬¢å­¦ä¹ å¦‚ä½•å»ºç«‹å’Œå¯è§†åŒ–ç²¾ç¡®å¬å›æ›²çº¿ã€‚ä¸€æ—¦ç†è§£äº†è¿™æ¡æ›²çº¿ï¼Œå°±å¾ˆå®¹æ˜“ç†è§£å¦ä¸€æ¡ç›¸å…³æ›²çº¿:<a class="ae md" href="https://towardsdatascience.com/roc-curve-explained-50acab4f7bd8" rel="noopener" target="_blank"> <em class="ni"> ROCæ›²çº¿</em> e </a>ã€‚</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi oz"><img src="../Images/f5d8f0f8939c21cc7e874886240b26a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VGgcPOVtFyV975Tv"/></div></div><figcaption class="lz ma gj gh gi mb mc bd b be z dk translated"><a class="ae md" href="https://unsplash.com/@zoltantasi?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">ZoltanÂ·å¡”æ–¯</a>åœ¨<a class="ae md" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹ç…§</figcaption></figure><p id="749f" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><em class="ni">æ‚¨æƒ³è®¿é—®æ›´å¤šè¿™æ ·çš„å†…å®¹å—ï¼Ÿåª’ä½“ä¼šå‘˜å¯ä»¥æ— é™åˆ¶åœ°è®¿é—®åª’ä½“ä¸Šçš„ä»»ä½•æ–‡ç« ã€‚å¦‚æœæ‚¨ä½¿ç”¨</em> <a class="ae md" href="https://zluvsand.medium.com/membership" rel="noopener"> <em class="ni">æˆ‘çš„æ¨èé“¾æ¥</em> </a>ï¼Œ<em class="ni">æˆä¸ºä¼šå‘˜ï¼Œæ‚¨çš„ä¸€éƒ¨åˆ†ä¼šè´¹å°†ç›´æ¥ç”¨äºæ”¯æŒæˆ‘ã€‚</em></p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><p id="80de" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">æ„Ÿè°¢æ‚¨é˜…è¯»è¿™ç¯‡æ–‡ç« ã€‚å¦‚æœä½ æ„Ÿå…´è¶£ï¼Œè¿™é‡Œæœ‰æˆ‘å…¶ä»–ä¸€äº›å¸–å­çš„é“¾æ¥:</p><p id="1db9" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">â—¼ï¸ <a class="ae md" href="https://towardsdatascience.com/interesting-ways-to-use-punctuations-in-python-43205a0bd67d" rel="noopener" target="_blank">åœ¨Pythonä¸­ä½¿ç”¨æ ‡ç‚¹ç¬¦å·çš„æœ‰è¶£æ–¹æ³•</a> <br/> â—¼ï¸ <a class="ae md" href="https://towardsdatascience.com/5-tips-to-learn-python-from-zero-e4f6a9106558" rel="noopener" target="_blank">ä»é›¶å¼€å§‹å­¦ä¹ Pythonçš„5ä¸ªæŠ€å·§</a><br/>â—¼ï¸<a class="ae md" href="https://towardsdatascience.com/introduction-to-python-virtual-environment-for-data-science-3c216929f1a7" rel="noopener" target="_blank">pythonè™šæ‹Ÿç¯å¢ƒæ•°æ®ç§‘å­¦å…¥é—¨</a><br/>â—¼ï¸<a class="ae md" href="https://towardsdatascience.com/introduction-to-git-for-data-science-ca5ffd1cebbe?source=your_stories_page-------------------------------------" rel="noopener" target="_blank">gitæ•°æ®ç§‘å­¦å…¥é—¨</a> <br/> â—¼ï¸ <a class="ae md" href="https://towardsdatascience.com/organise-your-jupyter-notebook-with-these-tips-d164d5dcd51f" rel="noopener" target="_blank">ç”¨è¿™äº›æŠ€å·§æ•´ç†ä½ çš„Jupyterç¬”è®°æœ¬</a> <br/> â—¼ï¸ <a class="ae md" href="https://towardsdatascience.com/6-simple-tips-for-prettier-and-customised-plots-in-seaborn-python-22f02ecc2393" rel="noopener" target="_blank"> 6ä¸ªç®€å•æŠ€å·§è®©ä½ åœ¨Seaborn (Python)ä¸­çš„æƒ…èŠ‚æ›´æ¼‚äº®ã€æ›´å®šåˆ¶</a><br/>â—¼ï¸ï¸<br/></p><p id="8050" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">å†è§ğŸƒğŸ’¨</p></div></div>    
</body>
</html>