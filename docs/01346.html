<html>
<head>
<title>5 things you donâ€™t know about try-catch-finally in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å…³äºJavaScriptä¸­çš„try-catch-finallyï¼Œä½ ä¸çŸ¥é“çš„5ä»¶äº‹</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/5-things-you-dont-know-about-try-catch-finally-in-javascript-5d661996d77c?source=collection_archive---------1-----------------------#2019-12-16">https://levelup.gitconnected.com/5-things-you-dont-know-about-try-catch-finally-in-javascript-5d661996d77c?source=collection_archive---------1-----------------------#2019-12-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7106" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">äº†è§£å¦‚ä½•åœ¨JavaScriptä¸­æ‰§è¡Œtry-catch-finally</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a3a47954ef4ebd077f906b480095bf57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ycowoRYkidGSKBE42TOcVg.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">åŸºæ€Â·çº¦ç¿°æ–¯é¡¿åœ¨<a class="ae kv" href="https://unsplash.com/s/photos/try-catch?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šçš„ç…§ç‰‡</figcaption></figure><p id="47a8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">try-catch-finallyç”¨äºå¤„ç†è¿è¡Œæ—¶é”™è¯¯ï¼Œé˜²æ­¢å®ƒä»¬åœæ­¢ç¨‹åºçš„æ‰§è¡Œã€‚</p><div class="ls lt gp gr lu lv"><a rel="noopener  ugc nofollow" target="_blank" href="/everything-you-need-to-know-about-error-handling-in-javascript-caa6c066274d"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">å…³äºJavascriptä¸­çš„é”™è¯¯å¤„ç†ï¼Œæ‚¨éœ€è¦çŸ¥é“çš„ä¸€åˆ‡</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">äº†è§£å¦‚ä½•åœ¨Javascriptä¸­å¤„ç†å¼‚å¸¸ã€‚</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="me l"><div class="mf l mg mh mi me mj kp lv"/></div></div></a></div><h1 id="e62c" class="mk ml iq bd mm mn mo mp mq mr ms mt mu jw mv jx mw jz mx ka my kc mz kd na nb bi translated">1.tryæˆ–catchå—ä¸­çš„Returnè¯­å¥</h1><p id="65e9" class="pw-post-body-paragraph kw kx iq ky b kz nc jr lb lc nd ju le lf ne lh li lj nf ll lm ln ng lp lq lr ij bi translated">å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ª<code class="fe nh ni nj nk b">finally</code>å—ï¼Œé‚£ä¹ˆ<code class="fe nh ni nj nk b">try</code>å’Œ<code class="fe nh ni nj nk b">catch</code>å—ä¸­çš„<code class="fe nh ni nj nk b">return</code>è¯­å¥ä¸ä¼šè¢«æ‰§è¡Œã€‚å®ƒæ€»æ˜¯ä¼šæ’ä¸Š<code class="fe nh ni nj nk b">finally</code>çš„é˜»ç¢ã€‚</p><pre class="kg kh ki kj gt nl nk nm nn aw no bi"><span id="cd0a" class="np ml iq nk b gy nq nr l ns nt">function test() {</span><span id="f59e" class="np ml iq nk b gy nu nr l ns nt">try {</span><span id="f4cd" class="np ml iq nk b gy nu nr l ns nt">return 10;</span><span id="5e44" class="np ml iq nk b gy nu nr l ns nt">} <strong class="nk ir">finally</strong> {</span><span id="7d07" class="np ml iq nk b gy nu nr l ns nt">console.log("finally");</span><span id="4ac9" class="np ml iq nk b gy nu nr l ns nt">return 1;<br/>   }</span><span id="07ac" class="np ml iq nk b gy nu nr l ns nt">}</span><span id="506c" class="np ml iq nk b gy nu nr l ns nt">console.log( test() ); // finally 1</span></pre><p id="b9e9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ç¤ºä¾‹2:</p><pre class="kg kh ki kj gt nl nk nm nn aw no bi"><span id="e676" class="np ml iq nk b gy nq nr l ns nt">function test() {</span><span id="e88c" class="np ml iq nk b gy nu nr l ns nt">try {     <br/>    return 10;<br/>    throw "error"; // this is not executed, control goes to finally<br/>  } <strong class="nk ir">catch</strong> {<br/>    console.log("<strong class="nk ir">catch</strong>"); <br/>    return 1;<br/>  } finally { <br/>    console.log("finally");<br/>    return 1000;<br/>  }</span><span id="a7b6" class="np ml iq nk b gy nu nr l ns nt">}</span><span id="17d6" class="np ml iq nk b gy nu nr l ns nt">console.log( test() ); // finally 1000</span></pre><h1 id="d1ea" class="mk ml iq bd mm mn mo mp mq mr ms mt mu jw mv jx mw jz mx ka my kc mz kd na nb bi translated">2.tryå—ä¸­å£°æ˜çš„å˜é‡åœ¨catchæˆ–finallyå—ä¸­ä¸å¯ç”¨</h1><p id="cf38" class="pw-post-body-paragraph kw kx iq ky b kz nc jr lb lc nd ju le lf ne lh li lj nf ll lm ln ng lp lq lr ij bi translated">å¦‚æœæˆ‘ä»¬ä½¿ç”¨<code class="fe nh ni nj nk b">let</code>æˆ–<code class="fe nh ni nj nk b">const</code>åœ¨<code class="fe nh ni nj nk b">try</code>å—ä¸­å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œå®ƒå°†ä¸èƒ½è¢«<code class="fe nh ni nj nk b">catch</code>æˆ–<code class="fe nh ni nj nk b">finally</code>ä½¿ç”¨ã€‚è¿™æ˜¯å› ä¸ºè¿™äº›å˜é‡å£°æ˜æ˜¯å—èŒƒå›´çš„ã€‚</p><pre class="kg kh ki kj gt nl nk nm nn aw no bi"><span id="9171" class="np ml iq nk b gy nq nr l ns nt">try {<br/>   <br/>    let a = 10;</span><span id="c212" class="np ml iq nk b gy nu nr l ns nt">    throw "a is block scoped ";</span><span id="411d" class="np ml iq nk b gy nu nr l ns nt">} catch(e) {<br/>    <br/>    console.log("Reached catch");</span><span id="09a4" class="np ml iq nk b gy nu nr l ns nt">    console.log(a); // Reference a is no defined</span><span id="4962" class="np ml iq nk b gy nu nr l ns nt">}</span></pre><p id="844d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ä½†æ˜¯å¦‚æœæˆ‘ä»¬ä½¿ç”¨<code class="fe nh ni nj nk b">var</code>è€Œä¸æ˜¯<code class="fe nh ni nj nk b">let</code>æˆ–<code class="fe nh ni nj nk b">const</code>ï¼Œé‚£ä¹ˆå®ƒå°†åœ¨<code class="fe nh ni nj nk b">catch</code>å†…éƒ¨å¯ç”¨ï¼Œå› ä¸º<code class="fe nh ni nj nk b">var</code>æ˜¯å‡½æ•°ä½œç”¨åŸŸï¼Œå£°æ˜å°†è¢«æå‡ã€‚</p><pre class="kg kh ki kj gt nl nk nm nn aw no bi"><span id="2d27" class="np ml iq nk b gy nq nr l ns nt">try {<br/>   <br/>    var a = 10;</span><span id="a2f0" class="np ml iq nk b gy nu nr l ns nt">    throw "a is function scoped ";</span><span id="e554" class="np ml iq nk b gy nu nr l ns nt">} catch(e) {<br/>    <br/>    console.log("Reached catch");</span><span id="fa05" class="np ml iq nk b gy nu nr l ns nt">    console.log(a); // 10</span><span id="bdcf" class="np ml iq nk b gy nu nr l ns nt">}</span></pre><h1 id="9e0c" class="mk ml iq bd mm mn mo mp mq mr ms mt mu jw mv jx mw jz mx ka my kc mz kd na nb bi translated">3.æ— é”™è¯¯è¯¦ç»†ä¿¡æ¯çš„æ•è·</h1><p id="6248" class="pw-post-body-paragraph kw kx iq ky b kz nc jr lb lc nd ju le lf ne lh li lj nf ll lm ln ng lp lq lr ij bi translated">åœ¨ES2019ä¸­ï¼Œ<code class="fe nh ni nj nk b">catch</code>å—çš„å‚æ•°æ˜¯å¯é€‰çš„ã€‚</p><pre class="kg kh ki kj gt nl nk nm nn aw no bi"><span id="2ab8" class="np ml iq nk b gy nq nr l ns nt">try {<br/>   // code with bug;</span><span id="7f31" class="np ml iq nk b gy nu nr l ns nt">} catch {</span><span id="09e9" class="np ml iq nk b gy nu nr l ns nt">   // catch without exception argument</span><span id="892f" class="np ml iq nk b gy nu nr l ns nt">}</span></pre><h1 id="2c51" class="mk ml iq bd mm mn mo mp mq mr ms mt mu jw mv jx mw jz mx ka my kc mz kd na nb bi translated">4.tryâ€¦catchåœ¨<code class="fe nh ni nj nk b">setTimeOut</code>ä¸Šä¸èµ·ä½œç”¨</h1><p id="708f" class="pw-post-body-paragraph kw kx iq ky b kz nc jr lb lc nd ju le lf ne lh li lj nf ll lm ln ng lp lq lr ij bi translated">å¦‚æœä¸€ä¸ªå¼‚å¸¸å‘ç”Ÿåœ¨â€œé¢„å®šçš„â€ä»£ç ä¸­ï¼Œæ¯”å¦‚<code class="fe nh ni nj nk b">setTimeout</code>ï¼Œé‚£ä¹ˆ<code class="fe nh ni nj nk b">try..catch</code>ä¸ä¼šæ•æ‰åˆ°å®ƒã€‚</p><pre class="kg kh ki kj gt nl nk nm nn aw no bi"><span id="5af1" class="np ml iq nk b gy nq nr l ns nt">function callback() {</span><span id="17ec" class="np ml iq nk b gy nu nr l ns nt">    // error code</span><span id="84ff" class="np ml iq nk b gy nu nr l ns nt">}</span><span id="d05d" class="np ml iq nk b gy nu nr l ns nt">function test() {</span><span id="9d56" class="np ml iq nk b gy nu nr l ns nt">   <!-- -->try {<br/>      setTimeout( callback , 1000);<br/>   } catch (e) {<br/>      console.log( "not executed" );<br/>   }</span><span id="ad05" class="np ml iq nk b gy nu nr l ns nt">}</span></pre><p id="d3c4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ä¸ºäº†å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦åœ¨<code class="fe nh ni nj nk b">setTimeOut</code>å›è°ƒä¸­æ·»åŠ <code class="fe nh ni nj nk b">tryâ€¦catch</code>:</p><pre class="kg kh ki kj gt nl nk nm nn aw no bi"><span id="8dda" class="np ml iq nk b gy nq nr l ns nt">function callback() {</span><span id="c333" class="np ml iq nk b gy nu nr l ns nt">   try {<br/>     // error code <br/>   }catch<br/>     console.log("Error caught") ;<br/>   }</span><span id="4e08" class="np ml iq nk b gy nu nr l ns nt">}</span><span id="1d2b" class="np ml iq nk b gy nu nr l ns nt">function test() {</span><span id="6de4" class="np ml iq nk b gy nu nr l ns nt"><strong class="nk ir">      setTimeout(callback, 1000);</strong></span><span id="367b" class="np ml iq nk b gy nu nr l ns nt">}</span></pre><h1 id="540f" class="mk ml iq bd mm mn mo mp mq mr ms mt mu jw mv jx mw jz mx ka my kc mz kd na nb bi translated">5.æ·»åŠ å…¨å±€é”™è¯¯å¤„ç†ç¨‹åº</h1><p id="6d00" class="pw-post-body-paragraph kw kx iq ky b kz nc jr lb lc nd ju le lf ne lh li lj nf ll lm ln ng lp lq lr ij bi translated">æˆ‘ä»¬å¯ä»¥æ³¨å†Œä¸€ä¸ª<code class="fe nh ni nj nk b">window.onerror</code>äº‹ä»¶ç›‘å¬å™¨ï¼Œå®ƒå°†åœ¨å‡ºç°æœªè¢«æ•è·çš„é”™è¯¯æ—¶è¿è¡Œã€‚è¿™ä¸ä¼šå¤„ç†é”™è¯¯ï¼Œä½†ä¼šæ£€æµ‹åˆ°é”™è¯¯â€”â€”æ‚¨éœ€è¦åœ¨å…¶ä¸­æä¾›è‡ªå·±çš„<code class="fe nh ni nj nk b">tryâ€¦catch</code>ã€‚</p><pre class="kg kh ki kj gt nl nk nm nn aw no bi"><span id="6d21" class="np ml iq nk b gy nq nr l ns nt">window.onerror = function(e) {</span><span id="6791" class="np ml iq nk b gy nu nr l ns nt">   console.log("error handled", e);</span><span id="fc5d" class="np ml iq nk b gy nu nr l ns nt">}</span><span id="7684" class="np ml iq nk b gy nu nr l ns nt">function funcWithError() {</span><span id="2c03" class="np ml iq nk b gy nu nr l ns nt">    <strong class="nk ir">a; // a is not defined</strong></span><span id="8ffc" class="np ml iq nk b gy nu nr l ns nt">}</span><span id="da35" class="np ml iq nk b gy nu nr l ns nt">function test() {</span><span id="f523" class="np ml iq nk b gy nu nr l ns nt">    <strong class="nk ir">funcWithError();</strong></span><span id="ca70" class="np ml iq nk b gy nu nr l ns nt"><strong class="nk ir">    console.log("hi"); // this will not be executed</strong></span><span id="5d3f" class="np ml iq nk b gy nu nr l ns nt">}</span><span id="81ad" class="np ml iq nk b gy nu nr l ns nt">test(); </span></pre><p id="c4c1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">è·ŸéšJavascript JeepğŸš™ğŸ’¨ã€‚</p><div class="ls lt gp gr lu lv"><a rel="noopener  ugc nofollow" target="_blank" href="/learn-bigint-in-javascript-df9b61bc19ef"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">å­¦ä¹ JavaScriptä¸­çš„BigInt</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">äº†è§£å¦‚ä½•åœ¨JavaScriptä¸­ä½¿ç”¨BigIntå­˜å‚¨å¤§æ•°ã€‚</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="me l"><div class="nx l mg mh mi me mj kp lv"/></div></div></a></div><div class="ls lt gp gr lu lv"><a href="https://medium.com/javascript-in-plain-english/understand-the-superpower-of-optional-chaining-in-javascript-fbc569244471" rel="noopener follow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">ç†è§£JavaScriptä¸­å¯é€‰é“¾æ¥çš„å¼ºå¤§åŠŸèƒ½</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">äº†è§£å¦‚ä½•ä½¿ç”¨å³å°†æ¨å‡ºçš„JavaScriptç‰¹æ€§å¯é€‰é“¾æ¥</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">medium.com</p></div></div><div class="me l"><div class="ny l mg mh mi me mj kp lv"/></div></div></a></div></div></div>    
</body>
</html>