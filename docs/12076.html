<html>
<head>
<title>What Are Merkle Trees?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是Merkle树？</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/what-are-merkle-trees-9508b1c97c88?source=collection_archive---------6-----------------------#2022-05-12">https://levelup.gitconnected.com/what-are-merkle-trees-9508b1c97c88?source=collection_archive---------6-----------------------#2022-05-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="2e30" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Merkle树广泛用于比特币和以太坊。</p><p id="4797" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">来说说他们吧！</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/5119aff26da35ea730da018fc109b881.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*w5Q3hJI48ka1JAeI"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">克里斯汀·休姆在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="5bfb" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">它们是什么？</h1><p id="e8b7" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">Merkle树是一种数据结构，旨在<strong class="js iu">证明包含</strong>。</p><h1 id="acfc" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">如何创建Merkle树？</h1><p id="408c" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">要创建Merkle树，需要一个有序列表，并使用散列函数(如SHA256)对其项目进行散列。</p><p id="8d67" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们举个例子。</p><p id="49c8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们有一个有序的比特币交易列表，名为A、B、C和d。</p><p id="75b3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们将连接两个后续的事务，并对它们进行哈希处理，以达到一个<strong class="js iu"> Merkle父节点</strong>。</p><p id="1e87" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个父对象将代表两个事务散列。</p><p id="d833" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi mi translated"><span class="l mj mk ml bm mm mn mo mp mq di"> M </span> <strong class="js iu"> erkle Parent </strong> =左事务+右事务拼接的哈希)</p><p id="a3e1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Merkle父节点被连接和散列以到达<strong class="js iu"> Merkle根节点</strong>。</p><p id="f2a3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi mi translated"><span class="l mj mk ml bm mm mn mo mp mq di"> M </span></p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mr"><img src="../Images/a33e22153b310782800633ffec2debac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7xfXqzOPOAnphQUGeYe_DA.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">比特币交易A、B和D的Merkle树(||代表串联)</figcaption></figure><h2 id="1ad5" class="ms lg it bd lh mt mu dn ll mv mw dp lp kb mx my lt kf mz na lx kj nb nc mb nd bi translated">如果有序列表中有奇数个事务，会发生什么？</h2><ul class=""><li id="4b7d" class="ne nf it js b jt md jx me kb ng kf nh kj ni kn nj nk nl nm bi translated">您将复制列表中的最后一个元素</li><li id="ed1d" class="ne nf it js b jt nn jx no kb np kf nq kj nr kn nj nk nl nm bi translated">然后，将其添加到列表的末尾，以创建偶数个元素供以后散列</li></ul><p id="331b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们举个例子。</p><p id="dda1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们有一个有序的比特币交易列表，名为A、B和c。</p><p id="50c2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Merkle树看起来会像这样。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ns"><img src="../Images/b4941bd29539349f201c9610dae77ba1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mR_KM0wKRoZeqQm3xO6YFA.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">比特币交易A、B、C的Merkle树(||代表串联)</figcaption></figure><h1 id="3af9" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">Merkle树的组成</h1><ul class=""><li id="36d9" class="ne nf it js b jt md jx me kb ng kf nh kj ni kn nj nk nl nm bi translated">Merkle根</li><li id="702e" class="ne nf it js b jt nn jx no kb np kf nq kj nr kn nj nk nl nm bi translated">Merkle父母</li><li id="c775" class="ne nf it js b jt nn jx no kb np kf nq kj nr kn nj nk nl nm bi translated">Leaves:哈希的最下面一行</li><li id="739d" class="ne nf it js b jt nn jx no kb np kf nq kj nr kn nj nk nl nm bi translated">内部节点:除叶子以外的所有节点</li></ul><h1 id="8ee0" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">Merkle树背后的想法</h1><p id="49e9" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">使用它们的想法是找到一个能够代表整个有序列表的单一散列。</p><p id="2f46" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个散列就是<strong class="js iu"> Merkle根</strong>。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nt"><img src="../Images/9e5ac7ce6ae2dbdbe69d268757fe353a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eStI5N0InvMukSP8"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">丹·弗里曼在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="9c55" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">它们在比特币/以太坊中是如何使用的？</h1><ul class=""><li id="fa18" class="ne nf it js b jt md jx me kb ng kf nh kj ni kn nj nk nl nm bi translated">假设你用比特币买了一杯咖啡。</li><li id="5056" class="ne nf it js b jt nn jx no kb np kf nq kj nr kn nj nk nl nm bi translated">你会发一些比特币到咖啡店老板的钱包里。</li><li id="3d83" class="ne nf it js b jt nn jx no kb np kf nq kj nr kn nj nk nl nm bi translated">该交易必须经过验证，然后添加到区块链中。</li><li id="dcb4" class="ne nf it js b jt nn jx no kb np kf nq kj nr kn nj nk nl nm bi translated">一旦发生这种情况，你会收到你的咖啡。</li></ul><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nu"><img src="../Images/c1e914f8ad96ee6a451c13a486ed2b33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yhk1zrlfbr3Vt3rM"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">德米特里·德米德科在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="c9c6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在幕后，咖啡店老板的钱包必须确认该交易是有效的，并且已经通过使用工作证明对其进行了验证并将其添加到区块链上的块中。</p><ul class=""><li id="6643" class="ne nf it js b jt ju jx jy kb nv kf nw kj nx kn nj nk nl nm bi translated">当钱包可以访问包含所有先前有效交易数据的整个区块链时，很容易验证这一点。</li><li id="b726" class="ne nf it js b jt nn jx no kb np kf nq kj nr kn nj nk nl nm bi translated">比特币/以太坊区块链占据了多个100 GB的空间。</li><li id="ea6e" class="ne nf it js b jt nn jx no kb np kf nq kj nr kn nj nk nl nm bi translated">当存储在包含钱包的设备中时，这会占用大量空间。</li><li id="4db9" class="ne nf it js b jt nn jx no kb np kf nq kj nr kn nj nk nl nm bi translated">可以下载块头(表示为Merkle Root ),而不是下载整个区块链。</li><li id="bd91" class="ne nf it js b jt nn jx no kb np kf nq kj nr kn nj nk nl nm bi translated">由于这个块头是通过工作证明挖掘的，咖啡店老板可以确信这个交易是有效的。</li><li id="5d6d" class="ne nf it js b jt nn jx no kb np kf nq kj nr kn nj nk nl nm bi translated">这被称为通过包含证明进行的<strong class="js iu">验证</strong>。</li></ul><h1 id="bb07" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">深入使用Merkle树</h1><p id="ecac" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">假设你感兴趣的交易是c。</p><ul class=""><li id="f23e" class="ne nf it js b jt ju jx jy kb nv kf nw kj nx kn nj nk nl nm bi translated">您将获得散列D和AB的Merkle父节点的数据(由完整节点提供)</li><li id="de44" class="ne nf it js b jt nn jx no kb np kf nq kj nr kn nj nk nl nm bi translated">有了这些数据，你就可以计算ABCD的Merkle根了。</li><li id="db43" class="ne nf it js b jt nn jx no kb np kf nq kj nr kn nj nk nl nm bi translated">将此与工作证明验证的块标题进行比较。</li><li id="8368" class="ne nf it js b jt nn jx no kb np kf nq kj nr kn nj nk nl nm bi translated">如果它们匹配，则交易有效。</li></ul><p id="9def" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">是的，你可以喝你的咖啡了！</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ny"><img src="../Images/12b7cb2c33c13ac4c129e5a6df4c3546.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4b-tCDvsgjAuF0WJRjxPkQ.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">圆圈标记代表感兴趣的交易。矩形标记代表提供的散列。</figcaption></figure><p id="ffdc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">回到文章的第一句，</p><blockquote class="nz oa ob"><p id="46bb" class="jq jr oc js b jt ju jv jw jx jy jz ka od kc kd ke oe kg kh ki of kk kl km kn im bi translated">Merkle树是一种数据结构，设计用于<strong class="js iu">证明包含</strong>。</p></blockquote><p id="9b8f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">希望你现在明白这一点！</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi og"><img src="../Images/ca427ed103b145285777bf33d5b62216.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*clqYycDwUKmMwZJf"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">凯西·霍纳在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure></div><div class="ab cl oh oi hx oj" role="separator"><span class="ok bw bk ol om on"/><span class="ok bw bk ol om on"/><span class="ok bw bk ol om"/></div><div class="im in io ip iq"><h1 id="93da" class="lf lg it bd lh li oo lk ll lm op lo lp lq oq ls lt lu or lw lx ly os ma mb mc bi translated">分级编码</h1><p id="8cfb" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">感谢您成为我们社区的一员！更多内容见<a class="ae le" href="https://levelup.gitconnected.com/" rel="noopener ugc nofollow" target="_blank">升级编码出版物</a>。</p><p id="bd28" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">关注:<a class="ae le" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank"> Twitter </a>，<a class="ae le" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>，<a class="ae le" href="https://newsletter.levelup.dev/" rel="noopener ugc nofollow" target="_blank">时事通讯</a></p><p id="65a7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">等级提升正在改造科技招募</strong>👉<a class="ae le" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">加入我们的人才集体</strong> </a></p></div></div>    
</body>
</html>