<html>
<head>
<title>A guide to analyzing changes in an APK using GitHub Actions and Diffuse</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨GitHubåŠ¨ä½œå’Œæ‰©æ•£åˆ†æAPKå˜åŒ–çš„æŒ‡å—</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/diffusing-your-apk-ea9d044d4c0d?source=collection_archive---------7-----------------------#2019-12-01">https://levelup.gitconnected.com/diffusing-your-apk-ea9d044d4c0d?source=collection_archive---------7-----------------------#2019-12-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/7c1dd7ef0d498e8d3c9b096cb3146123.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-e-YK6mHpLUWMeMWKm_Dfg.png"/></div></div></figure><h1 id="44ba" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">ä¾‹å­</h1><p id="02d6" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">Diffuseæ˜¯åˆ†æä¸¤ä¸ªapkä¹‹é—´å˜åŒ–çš„å·¥å…·ã€‚éšç€æ–°ä»£ç ä¸æ–­åœ°è¢«åˆå¹¶åˆ°ä¸»çº¿ä¸­ï¼Œå¯¹APKçš„æ›´æ”¹å¯èƒ½ä¼šè¢«å¿½ç•¥ã€‚ä¸ºäº†å¯¹æˆ‘ä»¬æ‰€æ„å»ºçš„ä¸œè¥¿äº§ç”Ÿä¿¡å¿ƒï¼ŒDiffuseè¾“å‡ºäº†ä¸€ç³»åˆ—æœ‰ç”¨çš„åº¦é‡ï¼Œè¿™äº›åº¦é‡æ˜¯ä¸¤ä¸ªapkåœ¨å¤§å°å’Œæ•°é‡æ–¹é¢çš„å˜åŒ–ã€‚å°†è¿™ç§æ£€æŸ¥é›†æˆåˆ°å¼€å‘å‘¨æœŸä¸­å¯ä»¥æé«˜APKçŠ¶æ€çš„å¯è§æ€§ï¼Œå¹¶æä¾›æ—©æœŸåé¦ˆä»¥é¿å…ä»¥åå‡ºç°ä¸å¿…è¦çš„é—®é¢˜ã€‚</p><p id="a163" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘åœ¨ä¸»åˆ†æ”¯ä¸Šåˆ›å»ºäº†ä¸€ä¸ªç©ºçš„Androidé¡¹ç›®ã€‚åœ¨GitHub Actionsçš„å¸®åŠ©ä¸‹ï¼Œæˆ‘å¯ä»¥åœ¨æŒç»­é›†æˆæœåŠ¡å™¨ä¸Šæ‰§è¡ŒDiffuseå·¥å…·ï¼Œä½œä¸ºå¼€å‘å·¥ä½œæµçš„ä¸€éƒ¨åˆ†ã€‚å‘å‡ºæ‹‰è¯·æ±‚åï¼ŒGitHub Actionsä¼šå°†æ‹‰è¯·æ±‚çš„APKä¸ä¸»åˆ†æ”¯ä¸Šçš„APKè¿›è¡Œæ¯”è¾ƒã€‚å› æ­¤ï¼Œå®ƒå°†è¾“å‡ºä¸€ç³»åˆ—ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯å¯ç”¨äºéªŒè¯å¯¹APKçš„æ›´æ”¹ä»¥åŠå…¶ä»–ä»£ç éªŒè¯ï¼Œå¦‚ä»£ç å®¡æŸ¥å’Œè‡ªåŠ¨åŒ–æµ‹è¯•ã€‚</p><p id="a278" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘æ·»åŠ äº†ä¸€ä¸ªåä¸º<a class="ae lz" href="https://github.com/JakeWharton/timber" rel="noopener ugc nofollow" target="_blank"> Timber </a>çš„æ–°æ—¥å¿—åº“ã€‚Timberæ˜¯ä¸€ä¸ªåº“ï¼Œå®ƒåœ¨Androidçš„æ—¥å¿—å®ç°ä¹‹ä¸Šæä¾›äº†é¢å¤–çš„å·¥å…·ã€‚è‡³äºæˆ‘çš„pullè¯·æ±‚ï¼Œæ›´æ”¹åŒ…æ‹¬åº“çš„é›†æˆä»¥åŠæ´»åŠ¨ä¸­çš„åˆå§‹åŒ–ã€‚æœ¬ç»ƒä¹ çš„ç›®æ ‡æ˜¯åœ¨åº”ç”¨æ­¤æ›´æ”¹åè§‚å¯Ÿapkä¹‹é—´çš„å·®å¼‚ã€‚</p><h2 id="0760" class="ma jz iq bd ka mb mc dn ke md me dp ki lh mf mg km ll mh mi kq lp mj mk ku ml bi translated">å‚è€ƒ</h2><ul class=""><li id="2b15" class="mm mn iq ky b kz la ld le lh mo ll mp lp mq lt mr ms mt mu bi translated">ä¸»ç§‘(ã€https://github.com/asadmansr/diffuse-exampleã€‘T2)</li><li id="f40a" class="mm mn iq ky b kz mv ld mw lh mx ll my lp mz lt mr ms mt mu bi translated">æ‹‰è¯·æ±‚(ã€https://github.com/asadmansr/diffuse-example/pullsã€‘T4)</li><li id="c35c" class="mm mn iq ky b kz mv ld mw lh mx ll my lp mz lt mr ms mt mu bi translated">GitHubåŠ¨ä½œä½œä¸š(<a class="ae lz" href="https://github.com/asadmansr/diffuse-example/runs/318149061" rel="noopener ugc nofollow" target="_blank">GitHubåŠ¨ä½œä¸Šçš„æ‰©æ•£ä½œä¸š</a></li></ul><h2 id="c801" class="ma jz iq bd ka mb mc dn ke md me dp ki lh mf mg km ll mh mi kq lp mj mk ku ml bi translated">ç»“æœ</h2><p id="d5f2" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">ä¸€æ—¦è¿™é¡¹å·¥ä½œå®Œæˆï¼Œæ¼«åå°„å°†æä¾›ä¸€ä¸ªé«˜å±‚æ¬¡çš„è§†å›¾ï¼Œæ¯”è¾ƒæ–°æ—§APKçš„å‹ç¼©å’Œæœªå‹ç¼©çŠ¶æ€ã€‚ä¹Ÿæ›´å®¹æ˜“çœ‹åˆ°APKçš„å“ªä¸ªéƒ¨åˆ†å‘ç”Ÿäº†æ˜¾è‘—å˜åŒ–ã€‚</p><figure class="nb nc nd ne gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi na"><img src="../Images/5e913370744d692807501567c3964b5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tzvaY1dZWyN0w4u0R-UnOg.png"/></div></div><figcaption class="nf ng gj gh gi nh ni bd b be z dk translated">æ¼«å°„å·¥å…·çš„è¾“å‡º</figcaption></figure><p id="7925" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">æ­¤å¤–ï¼Œè¿˜è¯¦ç»†æ˜¾ç¤ºäº†æœ‰å…³APKã€ç±»å‹ã€æ–¹æ³•å’Œå­—æ®µçš„ä¿¡æ¯ã€‚</p><figure class="nb nc nd ne gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nj"><img src="../Images/69d989846e5c3ccc6cac1c9ba1417f8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yYKgCQr-CGT065HC7C7Lzg.png"/></div></div><figcaption class="nf ng gj gh gi nh ni bd b be z dk translated">å…³äºAPKå°ºå¯¸çš„ä¿¡æ¯</figcaption></figure><figure class="nb nc nd ne gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nk"><img src="../Images/a23e5bb60d1a2cc6f5cf83955f65f99d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ihP31P5oDK0gJBC2Y0TmtA.png"/></div></div><figcaption class="nf ng gj gh gi nh ni bd b be z dk translated">ç±»å‹ã€æ–¹æ³•å’Œå­—æ®µçš„è®¡æ•°</figcaption></figure><h1 id="b350" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">é™„åŠ æ¼«å°„ç»†èŠ‚</h1><p id="5fa5" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">æ‰©æ•£æ˜¯ä¸€ç§åœ¨å¼€å‘å‘¨æœŸä¸­è·Ÿè¸ªAPKå˜æ›´çš„å·¥å…·ã€‚å½“æ–°çš„å˜æ›´è¢«åˆå¹¶æ—¶ï¼ŒDiffuseå¯ä»¥æä¾›å…³äºAPKçŠ¶æ€çš„é™„åŠ åº¦é‡ï¼Œå¹¶åœ¨æŒç»­é›†æˆæµæ°´çº¿æµç¨‹ä¸­çš„ä»£ç éªŒè¯è¿‡ç¨‹ä¸­æç¤ºè­¦å‘Šã€‚</p><p id="d3ab" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">Diffuseæä¾›äº†ä»¥ä¸‹æ–¹é¢çš„è§è§£:</p><ul class=""><li id="ffc6" class="mm mn iq ky b kz lu ld lv lh nl ll nm lp nn lt mr ms mt mu bi translated">ç»„æˆAPKçš„å°ºå¯¸(dexã€arscã€manifestã€resã€assetã€other)</li><li id="272f" class="mm mn iq ky b kz mv ld mw lh mx ll my lp mz lt mr ms mt mu bi translated">å­—ç¬¦ä¸²ã€ç±»å‹ã€ç±»ã€æ–¹æ³•å’Œå­—æ®µçš„è®¡æ•°</li><li id="381d" class="mm mn iq ky b kz mv ld mw lh mx ll my lp mz lt mr ms mt mu bi translated">ç±»å‹ã€ç±»ã€æ–¹æ³•å’Œå­—æ®µçš„è¯¦ç»†ä¿¡æ¯</li><li id="f483" class="mm mn iq ky b kz mv ld mw lh mx ll my lp mz lt mr ms mt mu bi translated">èµ„äº§è§„æ¨¡</li><li id="6d9c" class="mm mn iq ky b kz mv ld mw lh mx ll my lp mz lt mr ms mt mu bi translated">å¯èƒ½çš„APKæ£‰ç»’è­¦å‘Š</li></ul><p id="d182" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">Diffuse diffå‘½ä»¤çš„å®Œæ•´ç”¨æ³•:</p><figure class="nb nc nd ne gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="c651" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">è¦äº†è§£æ›´å¤šå…³äºDiffuseçš„ä¿¡æ¯ï¼Œè¯·è®¿é—®GitHubä¸Šçš„<a class="ae lz" href="https://github.com/JakeWharton/diffuse" rel="noopener ugc nofollow" target="_blank">Diffuse</a></p><h1 id="dd60" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">GitHubæ“ä½œ</h1><p id="3355" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">å·¥ä½œæµæ˜¯é€šè¿‡GitHubåŠ¨ä½œæ‰§è¡Œçš„ä¸€ç³»åˆ—æ­¥éª¤ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œå·²ç»åˆ›å»ºäº†ä¸€ä¸ªå·¥ä½œæµï¼Œè¯¥å·¥ä½œæµåªåœ¨ä¸ºä¸»è¯·æ±‚åˆ†æ”¯å’Œæ‹‰è¯·æ±‚åˆ†æ”¯ç”Ÿæˆapkçš„æ‹‰è¯·æ±‚ä¸Šè¿è¡Œã€‚ä¸€æ—¦æ‰§è¡Œå®Œæˆï¼ŒDiffuseå‘½ä»¤å°±ä¸é‚£äº›apkä¸€èµ·ä½¿ç”¨ã€‚è¾“å‡ºå°†æ˜¾ç¤ºåœ¨GitHub Actionæä¾›çš„å®æ—¶æ—¥å¿—ä¸­ã€‚</p><figure class="nb nc nd ne gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nq"><img src="../Images/db733ed7d615e5438ea8f92daa0372fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lqn2O6aRoggNfGTelPxEGg.png"/></div></div><figcaption class="nf ng gj gh gi nh ni bd b be z dk translated">GitHubæ“ä½œçš„è¾“å‡ºæ—¥å¿—</figcaption></figure><p id="6d14" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">é€šè¿‡ä¸€ç‚¹é…ç½®ï¼Œå·¥ä½œæµè¿˜å¯ä»¥ç”Ÿæˆä¸€ä¸ªæ–‡æœ¬æˆ–HTMLæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å¯ä»¥å­˜å‚¨åœ¨GitHub Actionså·¥ä»¶ä¸­ä»¥ä¾›å°†æ¥å‚è€ƒã€‚</p><p id="11f9" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated"><strong class="ky ir">ã€‚github/workflows/pull _ request . yml</strong></p><pre class="nb nc nd ne gt nr ns nt nu aw nv bi"><span id="34fe" class="ma jz iq ns b gy nw nx l ny nz">name: Pull Request<br/>on: [pull_request]</span><span id="a747" class="ma jz iq ns b gy oa nx l ny nz">jobs:<br/>  # Checkout master branch and build the APK<br/>  build-master:<br/>    runs-on: ubuntu-latest<br/>    steps:<br/>      - uses: actions/checkout@v1<br/>        with:<br/>          ref: master<br/>      - name: Build Master APK<br/>        run: ./gradlew assembleDebug &amp;&amp; mv app/build/outputs/apk/debug/app-debug.apk app/build/outputs/apk/debug/app-master.apk<br/>      - name: Upload APK<br/>        uses: actions/upload-artifact@v1<br/>        with:<br/>          name: apk<br/>          path: app/build/outputs/apk/debug/app-master.apk<br/>  </span><span id="9303" class="ma jz iq ns b gy oa nx l ny nz">  # Checkout PR branch and build the APK<br/>  build-pr:<br/>    runs-on: ubuntu-latest<br/>    steps:<br/>    - uses: actions/checkout@v1<br/>    - name: Build PR APK<br/>      run: ./gradlew assembleDebug &amp;&amp; mv app/build/outputs/apk/debug/app-debug.apk app/build/outputs/apk/debug/app-pr.apk<br/>    - name: Upload APK<br/>      uses: actions/upload-artifact@v1<br/>      with:<br/>        name: apk<br/>        path: app/build/outputs/apk/debug/app-pr.apk<br/></span><span id="9fb0" class="ma jz iq ns b gy oa nx l ny nz"># Execute Diffuse only when the two APKs are built successfully<br/>  diffuse:<br/>    needs: [build-master, build-pr]<br/>    runs-on: ubuntu-latest<br/>    steps:<br/>      - uses: actions/checkout@v1<br/>      - name: Download APKs<br/>        uses: actions/download-artifact@v1<br/>        with:<br/>          name: apk<br/>      - name: Execute Diffuse<br/>        run: ./diffuse diff apk/app-master.apk apk/app-pr.apk</span></pre></div><div class="ab cl ob oc hu od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ij ik il im in"><p id="16cc" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">ç›®å‰å°±è¿™äº›ã€‚è¦æŸ¥çœ‹ç¤ºä¾‹ï¼Œè¯·æŸ¥çœ‹ä¸‹é¢çš„GitHubé“¾æ¥ã€‚ä¸€å¦‚æ—¢å¾€ï¼Œé»‘å®¢å¿«ä¹ï¼ğŸ‰</p><div class="oi oj gp gr ok ol"><a href="https://github.com/asadmansr/diffuse-example" rel="noopener  ugc nofollow" target="_blank"><div class="om ab fo"><div class="on ab oo cl cj op"><h2 class="bd ir gy z fp oq fr fs or fu fw ip bi translated">asadmansr/æ‰©æ•£-ç¤ºä¾‹</h2><div class="os l"><h3 class="bd b gy z fp oq fr fs or fu fw dk translated">åœ¨æ¯”è¾ƒä¸¤ä¸ªapkæ—¶ï¼Œæ¼«å°„æä¾›äº†æ›´æ”¹å†…å®¹çš„é«˜çº§è§†å›¾ã€‚è¿™ä¸ªå­˜å‚¨åº“æ˜¯ä½¿ç”¨â€¦</h3></div><div class="ot l"><p class="bd b dl z fp oq fr fs or fu fw dk translated">github.com</p></div></div><div class="ou l"><div class="ov l ow ox oy ou oz jw ol"/></div></div></a></div></div></div>    
</body>
</html>