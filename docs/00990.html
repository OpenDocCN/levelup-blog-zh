<html>
<head>
<title>List Section — Camping Spots Finder App UI Clone with React Native #2 :</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">列表部分—露营点查找器应用程序UI克隆与React原生#2:</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/camping-spots-finder-app-ui-clone-with-react-native-2-list-section-bd29e6668d97?source=collection_archive---------5-----------------------#2019-10-07">https://levelup.gitconnected.com/camping-spots-finder-app-ui-clone-with-react-native-2-list-section-bd29e6668d97?source=collection_archive---------5-----------------------#2019-10-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/7187d85d26f9507935a287f403c64f38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SdY8dlhS4VdPU8F8.png"/></div></div></figure><p id="279a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">本教程是我们使用React Native的露营点查找器应用程序UI克隆的第二部分。在上一部分中，我们成功地实现了地图视图部分以及自定义标题和标题选项卡。本教程是我们上一部分停止的同一教程的继续。建议浏览前面的部分，以便更好地理解和洞察整个项目。</p><div class="kw kx gp gr ky kz"><a href="https://kriss.io/camping-spots-finder-app-ui-clone-with-react-native-1-map-view-ui/" rel="noopener  ugc nofollow" target="_blank"><div class="la ab fo"><div class="lb ab lc cl cj ld"><h2 class="bd ir gy z fp le fr fs lf fu fw ip bi translated">露营景点查找应用程序UI克隆与反应原生#1:地图视图UI - Kriss</h2><div class="lg l"><h3 class="bd b gy z fp le fr fs lf fu fw dk translated">露营景点查找应用程序UI克隆与反应原生#1:地图视图UI这个教程的灵感来自一个…</h3></div><div class="lh l"><p class="bd b dl z fp le fr fs lf fu fw dk translated">克里斯·艾奥</p></div></div><div class="li l"><div class="lj l lk ll lm li ln jw kz"/></div></div></a></div><p id="f16a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">本系列教程的灵感来自<a class="ae lo" href="https://www.instamobile.io/app-templates/real-estate-app-template-react-native/?ref=4094&amp;campaign=gitconnect" rel="noopener ugc nofollow" target="_blank"> React native real estate模板</a>，该模板使我们能够构建功能齐全、随时可部署的移动应用程序，任何人都可以使用它来构建自己的React native应用程序。这第二部分也是来自Youtube视频教程的编码实现和设计的延续，由<a class="ae lo" href="https://www.youtube.com/watch?v=ScaYmqX15WA&amp;list=PLNRPou200YIeu4UllJkv8-Ca19Ld_eOay&amp;index=14" rel="noopener ugc nofollow" target="_blank"> React UI Kit </a>为Camping Spots Finder应用程序克隆。</p><p id="d48f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在本教程系列的第二部分中，我们将实现我们在本教程的前一部分中分离的列表部分，并设置到设置屏幕的导航。但是首先，我们将对标题部分做一些简单的修改，以使它看起来干净和合适。然后，我们将开始实现列表部分，最后在末尾添加导航。</p><figure class="lp lq lr ls gt jr"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="e672" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lv">那么，我们开始吧！</em></p><h2 id="8381" class="lw lx iq bd ly lz ma dn mb mc md dp me kj mf mg mh kn mi mj mk kr ml mm mn mo bi translated">对标题部分的简单更改</h2><p id="8d97" class="pw-post-body-paragraph jy jz iq ka b kb mp kd ke kf mq kh ki kj mr kl km kn ms kp kq kr mt kt ku kv ij bi translated">我们将对包括自定义标题和标题选项卡的标题部分进行一些简单的更改。在Camping.js文件的<code class="fe mu mv mw mx b">render()</code>方法中，我们只打算将<code class="fe mu mv mw mx b">renderMap()</code>和<code class="fe mu mv mw mx b">renderList()</code>方法包含到<code class="fe mu mv mw mx b">ScrollView</code>组件中。然后，我们将把父组件<code class="fe mu mv mw mx b">View</code>更改为<code class="fe mu mv mw mx b">SafeAreaView</code>组件，并将样式绑定到它。之后，我们将在<code class="fe mu mv mw mx b">ScrollView</code>组件上包含<code class="fe mu mv mw mx b">renderHeader()</code>方法，如下面的代码片段所示:</p><pre class="lp lq lr ls gt my mx mz na aw nb bi"><span id="3d92" class="lw lx iq mx b gy nc nd l ne nf">render(){<br/>    return (<br/>      &lt;SafeAreaView style={styles.container}&gt;<br/>        {this.renderHeader()}<br/>        &lt;ScrollView style={styles.container}&gt;<br/>          {this.renderMap()}<br/>          {this.renderList()}<br/>        &lt;/ScrollView&gt;<br/>      &lt;/SafeAreaView&gt;<br/>    );<br/>}</span></pre><p id="7408" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">注意:我们还需要从react-native包中导入<code class="fe mu mv mw mx b">SafeAreaView</code>组件。</p><p id="7787" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们添加了SafeAreaView作为父组件，因为它使我们能够在设备的安全区域边界内呈现内容。但是，我们需要注意的是，该功能仅适用于iOS平台。我们将不得不在Android平台中添加一些额外的样式，以实现与<code class="fe mu mv mw mx b">SafeAreaView.</code>相同的输出</p><p id="ab9b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们将用另一个父<code class="fe mu mv mw mx b">View</code>组件包装<code class="fe mu mv mw mx b">renderHeader()</code>方法的整个模板，并用额外的样式绑定它。然后，我们将在自定义标题部分的<code class="fe mu mv mw mx b">View</code>组件之后调用父<code class="fe mu mv mw mx b">View</code>组件中的<code class="fe mu mv mw mx b">renderTabs()</code>方法，如下面的代码片段所示:</p><pre class="lp lq lr ls gt my mx mz na aw nb bi"><span id="0635" class="lw lx iq mx b gy nc nd l ne nf">renderHeader() {<br/>    return (<br/>      &lt;View style={styles.headerContainer}&gt;<br/>        <br/>        &lt;View style={styles.header}&gt;<br/>          &lt;View style={{flex: 2, flexDirection: 'row'}}&gt;<br/>            &lt;View style={styles.settings}&gt;<br/>              &lt;View style={styles.location}&gt;<br/>                &lt;FontAwesome name="location-arrow" size={14} color="white" /&gt;<br/>              &lt;/View&gt;<br/>            &lt;/View&gt;<br/>            &lt;View style={styles.options}&gt;<br/>              &lt;Text style={{ fontSize: 12, color: '#A5A5A5', marginBottom: 5, }}&gt;<br/>                Detected Location<br/>              &lt;/Text&gt;<br/>              &lt;Text style={{ fontSize: 14, fontWeight: '300', }}&gt;<br/>                Northern Islands<br/>              &lt;/Text&gt;<br/>            &lt;/View&gt;<br/>          &lt;/View&gt;<br/>          &lt;View style={styles.settings}&gt;<br/>            &lt;TouchableOpacity onPress={() =&gt; this.props.navigation.navigate('Settings')}&gt;<br/>              &lt;Ionicons name="ios-settings" size={24} color="black" /&gt;<br/>            &lt;/TouchableOpacity&gt;<br/>          &lt;/View&gt;<br/>        &lt;/View&gt; <br/><br/>        {this.renderTabs()}<br/>      &lt;/View&gt;<br/>    )<br/>}</span></pre><p id="ad85" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们需要将样式<code class="fe mu mv mw mx b">headerContainer</code>添加到样式表组件中。下面提供了样式及其属性:</p><pre class="lp lq lr ls gt my mx mz na aw nb bi"><span id="355a" class="lw lx iq mx b gy nc nd l ne nf">headerContainer: {<br/>    top: 0,<br/>    marginTop : 20,            //marginTop only in Android platform as SafeAreaView component doesnot work in it<br/>    height: height * 0.15,<br/>    width: width,<br/>},</span></pre><p id="1cab" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果我们是为Android平台开发，我们需要记住添加<code class="fe mu mv mw mx b">marginTop</code>样式属性。这是因为<code class="fe mu mv mw mx b">SafeAreaView</code>组件不工作。</p><p id="d90c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们在模拟器屏幕上得到以下结果:</p><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/ddf06392a43c982691636072b5c6465c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_5KV0lq1VXWFuBL-.png"/></div></div></figure><p id="0e4b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如您所见，我们在适当的位置提供了带有自定义标题和标题选项卡的标题部分。</p><p id="3f32" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们将在前面的教程部分定义的<code class="fe mu mv mw mx b">renderList()</code>方法中实现list部分。</p><h1 id="9ee1" class="nh lx iq bd ly ni nj nk mb nl nm nn me no np nq mh nr ns nt mk nu nv nw mn nx bi translated">实施列表部分</h1><p id="3602" class="pw-post-body-paragraph jy jz iq ka b kb mp kd ke kf mq kh ki kj mr kl km kn ms kp kq kr mt kt ku kv ij bi translated">在这一步中，我们将实现列表部分，其中将有不同的露营点图像和描述。</p><h2 id="913c" class="lw lx iq bd ly lz ma dn mb mc md dp me kj mf mg mh kn mi mj mk kr ml mm mn mo bi translated">包括模拟数据</h2><p id="a029" class="pw-post-body-paragraph jy jz iq ka b kb mp kd ke kf mq kh ki kj mr kl km kn ms kp kq kr mt kt ku kv ij bi translated">我们将在<code class="fe mu mv mw mx b">renderList()</code>方法内的一个数组中包含露营点的模拟数据。下面的代码片段提供了模拟数据:</p><pre class="lp lq lr ls gt my mx mz na aw nb bi"><span id="18f7" class="lw lx iq mx b gy nc nd l ne nf">const campings = [<br/>      {<br/>        id: 1,<br/>        type: 'rv',<br/>        name: 'Camping Paradise',<br/>        description: 'Popular spot for trekkers.',<br/>        rating: 4.9,<br/>        distance: 2.9,<br/>        price: 'Free',<br/>        image: 'https://images.unsplash.com/photo-1525811902-f2342640856e?fit=crop&amp;w=900&amp;h=600&amp;q=130',<br/>      },<br/>      {<br/>        id: 2,<br/>        type: 'tent',<br/>        name: 'Lake Florida',<br/>        description: 'This is for all sunset lovers.',<br/>        rating: 4.9,<br/>        distance: 2.9,<br/>        price: 'Free',<br/>        image: 'https://images.unsplash.com/photo-1506535995048-638aa1b62b77?fit=crop&amp;w=900&amp;h=600&amp;q=130',<br/>      },<br/>    ];</span></pre><p id="78fb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们已经将模拟数据定义为<code class="fe mu mv mw mx b">campings</code>数组，其中包含带有宿营地细节的对象。我们将继续实现列表部分的模板。</p><h2 id="27df" class="lw lx iq bd ly lz ma dn mb mc md dp me kj mf mg mh kn mi mj mk kr ml mm mn mo bi translated">正在为列表部分创建模板项目</h2><p id="9523" class="pw-post-body-paragraph jy jz iq ka b kb mp kd ke kf mq kh ki kj mr kl km kn ms kp kq kr mt kt ku kv ij bi translated">我们将从在<code class="fe mu mv mw mx b">renderList()</code>方法中实现一个简单的模板开始。该模板将包含一些带有手动输入模拟数据的<code class="fe mu mv mw mx b">View</code>和<code class="fe mu mv mw mx b">Text</code>组件，如下面的代码片段所示:</p><pre class="lp lq lr ls gt my mx mz na aw nb bi"><span id="a422" class="lw lx iq mx b gy nc nd l ne nf">&lt;View&gt;<br/>          &lt;View&gt;<br/>            &lt;Text&gt;Image&lt;/Text&gt;<br/>          &lt;/View&gt;<br/>          &lt;View&gt;<br/>            &lt;Text&gt;Camping title&lt;/Text&gt;<br/>            &lt;Text&gt;Camping description&lt;/Text&gt;<br/>            &lt;View&gt;<br/>              &lt;Text&gt;4.9&lt;/Text&gt;<br/>              &lt;Text&gt;2.9 miles&lt;/Text&gt;<br/>              &lt;Text&gt;Free&lt;/Text&gt;<br/>            &lt;/View&gt;<br/>          &lt;/View&gt;<br/>          &lt;View&gt;<br/>        &lt;/View&gt;<br/>       &lt;/View&gt;</span></pre><p id="2980" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们将在模拟器屏幕中得到以下结果:</p><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/cd31475c060491eec34c76fed668ecd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tntpK2trMj9sByPT.png"/></div></div></figure><p id="15af" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">没有添加任何样式和配置。我们将在下一步这样做。</p><h2 id="572b" class="lw lx iq bd ly lz ma dn mb mc md dp me kj mf mg mh kn mi mj mk kr ml mm mn mo bi translated">添加适当的样式和图标</h2><p id="0413" class="pw-post-body-paragraph jy jz iq ka b kb mp kd ke kf mq kh ki kj mr kl km kn ms kp kq kr mt kt ku kv ij bi translated">由于我们上面创建的模板不包含任何样式，我们将向它添加一些样式。然后我们将添加一些图标，这些图标来自于我们在前一个教程中导入的<code class="fe mu mv mw mx b">Ionicons</code>和<code class="fe mu mv mw mx b">FontAwesome</code>图标包。我们需要添加几个<code class="fe mu mv mw mx b">flex</code>样式属性，以及添加更多带有样式的<code class="fe mu mv mw mx b">View</code>组件，以给列表项模板一个合适的外观。下面的代码片段提供了实现正确列表项模板的代码:</p><pre class="lp lq lr ls gt my mx mz na aw nb bi"><span id="24d3" class="lw lx iq mx b gy nc nd l ne nf">&lt;View style={styles.camping}&gt;<br/>        &lt;View&gt;<br/>          &lt;Image /&gt;<br/>        &lt;/View&gt;<br/>        &lt;View style={styles.campingDetails}&gt;<br/>              &lt;View style={{ flex: 1, flexDirection: 'column', justifyContent: 'center' }}&gt;<br/>                &lt;Text style={{ fontSize: 14, fontWeight: 'bold' }}&gt;<br/>                  Camping title<br/>                &lt;/Text&gt;<br/>                &lt;Text style={{ fontSize: 12, color: '#A5A5A5', paddingTop: 5 }}&gt;<br/>                  Camping description<br/>                &lt;/Text&gt;<br/>              &lt;/View&gt;<br/>              &lt;View style={{ flex: 1, flexDirection: 'row', }}&gt;<br/>                &lt;View style={styles.campingInfo}&gt;<br/>                  &lt;FontAwesome name="star" color="#FFBA5A" size={12} /&gt;<br/>                  &lt;Text style={{ marginLeft: 4, color: '#FFBA5A' }}&gt;3.5&lt;/Text&gt;<br/>                &lt;/View&gt;<br/>                &lt;View style={styles.campingInfo}&gt;<br/>                  &lt;FontAwesome name="location-arrow" color="#FF7657" size={12} /&gt;<br/>                  &lt;Text style={{ marginLeft: 4, color: '#FF7657' }}&gt;3.0miles&lt;/Text&gt;<br/>                &lt;/View&gt;<br/>                &lt;View style={styles.campingInfo}&gt;<br/>                  &lt;Ionicons name="md-pricetag" color="black" size={12} /&gt;<br/>                  &lt;Text style={{ marginLeft: 4, color: 'black' }}&gt;Free&lt;/Text&gt;<br/>                &lt;/View&gt;<br/>              &lt;/View&gt;<br/>        &lt;/View&gt;<br/>&lt;/View&gt;</span></pre><p id="a777" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们有一个父组件<code class="fe mu mv mw mx b">View</code>包含两个子组件<code class="fe mu mv mw mx b">View</code>。第一个子组件<code class="fe mu mv mw mx b">View</code>为<code class="fe mu mv mw mx b">Image</code>组件保留。第二个<code class="fe mu mv mw mx b">View</code>组件是为列表项中的细节部分保留的。第二个<code class="fe mu mv mw mx b">View</code>组件由几个带有样式的子<code class="fe mu mv mw mx b">View</code>组件组成。并且这些<code class="fe mu mv mw mx b">View</code>组件包裹<code class="fe mu mv mw mx b">Icon</code>组件以及<code class="fe mu mv mw mx b">Text</code>组件。</p><p id="b846" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">正如您在上面的代码片段中看到的，每个<code class="fe mu mv mw mx b">View</code>组件中都有几个样式绑定。有些是内嵌样式，有些是来自<code class="fe mu mv mw mx b">Stylesheet</code>组件的样式。下面的代码片段提供了来自<code class="fe mu mv mw mx b">Stylesheet</code>组件的样式:</p><pre class="lp lq lr ls gt my mx mz na aw nb bi"><span id="7089" class="lw lx iq mx b gy nc nd l ne nf">camping: {<br/>    flex: 1,<br/>    flexDirection: 'row',<br/>    borderBottomColor: '#A5A5A5',<br/>    borderBottomWidth: 0.5,<br/>    padding: 20,<br/>  },<br/>  campingDetails: {<br/>    flex: 2,<br/>    paddingLeft: 20,<br/>    flexDirection: 'column',<br/>    justifyContent: 'space-around',<br/>  },<br/>  campingInfo: {<br/>    flexDirection: 'row',<br/>    alignItems: 'center',<br/>    marginRight: 14,<br/>  },</span></pre><p id="57f2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们将在模拟器屏幕中得到以下结果:</p><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/8ecb440a55ae698d068c66f4148bfb09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*T6EjGzvRhEoML_ai.png"/></div></div></figure><p id="be43" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们已经在模拟器屏幕上获得了正确但不完整的列表项。不完整，因为我们还需要在左边添加图像，在右边添加菜单图标。让我们先在右边添加菜单按钮。</p><h2 id="4082" class="lw lx iq bd ly lz ma dn mb mc md dp me kj mf mg mh kn mi mj mk kr ml mm mn mo bi translated">添加垂直选项菜单按钮</h2><p id="47f2" class="pw-post-body-paragraph jy jz iq ka b kb mp kd ke kf mq kh ki kj mr kl km kn ms kp kq kr mt kt ku kv ij bi translated">我们将添加一个带有垂直选项图标的菜单按钮。我们想要包含的图标在<code class="fe mu mv mw mx b">FontAwesome</code>或<code class="fe mu mv mw mx b">Ionicons</code>图标包中不可用。我们需要从vector icons包中再导入一个图标包，即<code class="fe mu mv mw mx b">SimpleLineIcons</code>图标包，如下面的代码片段所示:</p><pre class="lp lq lr ls gt my mx mz na aw nb bi"><span id="69ff" class="lw lx iq mx b gy nc nd l ne nf">import { FontAwesome , Ionicons, SimpleLineIcons} from '@expo/vector-icons';</span></pre><p id="6cb8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们将利用<code class="fe mu mv mw mx b">SimpleLineIcons</code>包在右边添加一个垂直选项图标菜单按钮。为此，我们需要在<code class="fe mu mv mw mx b">renderList()</code>的第二个子组件<code class="fe mu mv mw mx b">View</code>中再添加一个<code class="fe mu mv mw mx b">View</code>组件，如下面的代码片段所示:</p><pre class="lp lq lr ls gt my mx mz na aw nb bi"><span id="ec00" class="lw lx iq mx b gy nc nd l ne nf">&lt;View style={styles.campingDetails}&gt;<br/>              &lt;View style={{ flex: 1, flexDirection: 'column', justifyContent: 'center' }}&gt;<br/>                &lt;Text style={{ fontSize: 14, fontWeight: 'bold' }}&gt;<br/>                  Camping title<br/>                &lt;/Text&gt;<br/>                &lt;Text style={{ fontSize: 12, color: '#A5A5A5', paddingTop: 5 }}&gt;<br/>                  Camping description<br/>                &lt;/Text&gt;<br/>              &lt;/View&gt;<br/>              &lt;View style={{ flex: 1, flexDirection: 'row', }}&gt;<br/>                &lt;View style={styles.campingInfo}&gt;<br/>                  &lt;FontAwesome name="star" color="#FFBA5A" size={12} /&gt;<br/>                  &lt;Text style={{ marginLeft: 4, color: '#FFBA5A' }}&gt;3.5&lt;/Text&gt;<br/>                &lt;/View&gt;<br/>                &lt;View style={styles.campingInfo}&gt;<br/>                  &lt;FontAwesome name="location-arrow" color="#FF7657" size={12} /&gt;<br/>                  &lt;Text style={{ marginLeft: 4, color: '#FF7657' }}&gt;3.0miles&lt;/Text&gt;<br/>                &lt;/View&gt;<br/>                &lt;View style={styles.campingInfo}&gt;<br/>                  &lt;Ionicons name="md-pricetag" color="black" size={12} /&gt;<br/>                  &lt;Text style={{ marginLeft: 4, color: 'black' }}&gt;Free&lt;/Text&gt;<br/>                &lt;/View&gt;<br/>              &lt;/View&gt;<br/>            &lt;/View&gt;<br/><br/>            &lt;View style={{ flex: 0.2, justifyContent: 'center' }}&gt;<br/>              &lt;SimpleLineIcons name="options-vertical" color="#A5A5A5" size={24} /&gt;<br/>            &lt;/View&gt;<br/>&lt;/View&gt;</span></pre><p id="2752" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们添加了<code class="fe mu mv mw mx b">View</code>组件来包装图标名为<code class="fe mu mv mw mx b"> options-verticle</code>的<code class="fe mu mv mw mx b">SimpleLineIcons</code>组件，并带有一些<code class="fe mu mv mw mx b">color</code>和<code class="fe mu mv mw mx b">size</code>道具。</p><p id="20da" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们在模拟器屏幕上得到以下结果:</p><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/5677798b149db7311b3a5f782c59a19a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*q6etSn655pwYGOCS.png"/></div></div></figure><p id="5edf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们在列表项的右边有选项按钮。现在，我们将手动占位符数据替换为之前在<code class="fe mu mv mw mx b">campings</code>数组中定义的模拟数据。</p><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/43a95b3632fd8bce0d9dd2e294acadf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:182/format:webp/0*EfPJX9kw-KAIXaKO.png"/></div></figure><h2 id="3c09" class="lw lx iq bd ly lz ma dn mb mc md dp me kj mf mg mh kn mi mj mk kr ml mm mn mo bi translated">正在加载…</h2><h2 id="279e" class="lw lx iq bd ly lz ma dn mb mc md dp me kj mf mg mh kn mi mj mk kr ml mm mn mo bi translated">集成模拟数据</h2><p id="908c" class="pw-post-body-paragraph jy jz iq ka b kb mp kd ke kf mq kh ki kj mr kl km kn ms kp kq kr mt kt ku kv ij bi translated">在这一步中，我们将把准确的数据集成到列表项模板中准确的占位符中。因为我们有一个包含两个对象的数组，所以我们将使用react-native中可用的<code class="fe mu mv mw mx b">map()</code>数组函数遍历该数组。<code class="fe mu mv mw mx b">map()</code>函数允许我们遍历数组中的每一项，并返回所需的模板。<code class="fe mu mv mw mx b">map()</code>函数中的父<code class="fe mu mv mw mx b">View</code>组件将采用一个唯一的id，称为<code class="fe mu mv mw mx b">key</code>，它将唯一地标识每个列表项。为了实现<code class="fe mu mv mw mx b">map()</code>数组函数并遍历该数组，该数组将返回包含模拟数据的每个项目的模板，我们需要将下面代码片段中提供的代码用于我们的<code class="fe mu mv mw mx b">renderList()</code>方法:</p><pre class="lp lq lr ls gt my mx mz na aw nb bi"><span id="a2e7" class="lw lx iq mx b gy nc nd l ne nf">return campings.map(<br/>      camping =&gt; {<br/>        return (<br/>          &lt;View key={`camping-${camping.id}`} style={styles.camping}&gt;<br/>            &lt;View&gt;<br/>              &lt;Image /&gt;<br/>            &lt;/View&gt;<br/>            &lt;View style={styles.campingDetails}&gt;<br/>              &lt;View style={{ flex: 1, flexDirection: 'column', justifyContent: 'center' }}&gt;<br/>                &lt;Text style={{ fontSize: 14, fontWeight: 'bold' }}&gt;<br/>                  {camping.name}<br/>                &lt;/Text&gt;<br/>                &lt;Text style={{ fontSize: 12, color: '#A5A5A5', paddingTop: 5 }}&gt;<br/>                  {camping.description}<br/>                &lt;/Text&gt;<br/>              &lt;/View&gt;<br/>              &lt;View style={{ flex: 1, flexDirection: 'row', }}&gt;<br/>                &lt;View style={styles.campingInfo}&gt;<br/>                  &lt;FontAwesome name="star" color="#FFBA5A" size={12} /&gt;<br/>                  &lt;Text style={{ marginLeft: 4, color: '#FFBA5A' }}&gt;{camping.rating}&lt;/Text&gt;<br/>                &lt;/View&gt;<br/>                &lt;View style={styles.campingInfo}&gt;<br/>                  &lt;FontAwesome name="location-arrow" color="#FF7657" size={12} /&gt;<br/>                  &lt;Text style={{ marginLeft: 4, color: '#FF7657' }}&gt;{camping.distance} miles&lt;/Text&gt;<br/>                &lt;/View&gt;<br/>                &lt;View style={styles.campingInfo}&gt;<br/>                  &lt;Ionicons name="md-pricetag" color="black" size={12} /&gt;<br/>                  &lt;Text style={{ marginLeft: 4, color: 'black' }}&gt;{camping.price}&lt;/Text&gt;<br/>                &lt;/View&gt;<br/>              &lt;/View&gt;<br/>            &lt;/View&gt;<br/>            &lt;View style={{ flex: 0.2, justifyContent: 'center' }}&gt;<br/>              &lt;SimpleLineIcons name="options-vertical" color="#A5A5A5" size={24} /&gt;<br/>            &lt;/View&gt;<br/>          &lt;/View&gt;<br/>        )<br/>})</span></pre><p id="3a51" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，我们将在模拟器屏幕中获得以下结果:</p><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/3d61ccbd54694a7f3fa629fb4ccc91ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*lSm57V-Ftcn9v1rz.png"/></div></div></figure><p id="f13c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们已经成功地实现了包含两个列表项的列表部分。列表项强调了实际应用程序中地图周围的露营点。我们仍然需要包括露营点的图像。所以现在，让我们把图片放进去。</p><h2 id="6a61" class="lw lx iq bd ly lz ma dn mb mc md dp me kj mf mg mh kn mi mj mk kr ml mm mn mo bi translated">在列表中包含图像</h2><p id="800d" class="pw-post-body-paragraph jy jz iq ka b kb mp kd ke kf mq kh ki kj mr kl km kn ms kp kq kr mt kt ku kv ij bi translated">在这一步中，我们将处理一个包含在列表项左侧的图像。我们已经在定义了一个<code class="fe mu mv mw mx b">Image</code>组件的<code class="fe mu mv mw mx b">renderList()</code>方法的父<code class="fe mu mv mw mx b">View</code>组件中分离出了一个子<code class="fe mu mv mw mx b">View</code>组件。我们将为该图像组件提供源和一些样式属性，如下面的代码片段所示:</p><pre class="lp lq lr ls gt my mx mz na aw nb bi"><span id="66de" class="lw lx iq mx b gy nc nd l ne nf">&lt;View key={`camping-${camping.id}`} style={styles.camping}&gt;<br/>            &lt;View style={{flex : 1, overflow: 'hidden'}}&gt;<br/>              &lt;Image<br/>                style={styles.campingImage}<br/>                source={{ uri: camping.image }}<br/>              /&gt;<br/>            &lt;/View&gt;</span></pre><p id="7153" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下面的代码片段提供了所需的样式:</p><pre class="lp lq lr ls gt my mx mz na aw nb bi"><span id="b8cd" class="lw lx iq mx b gy nc nd l ne nf">campingImage: {<br/>    width: width * 0.30,<br/>    height: width * 0.25,<br/>    borderRadius: 6,<br/>  },</span></pre><p id="ab0f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们将在模拟器模拟中获得以下结果:</p><figure class="lp lq lr ls gt jr"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="19a4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们在左侧得到了图像，滚动事件也正常工作，但图像样式与实际应用程序中的图像样式不完全匹配。因此，我们将对<code class="fe mu mv mw mx b">Image</code>组件做一些小的改动，以使它与实际的露营地点查找应用程序完全一样。</p><h2 id="315c" class="lw lx iq bd ly lz ma dn mb mc md dp me kj mf mg mh kn mi mj mk kr ml mm mn mo bi translated">将图像组件更改为<strong class="ak">图像背景</strong></h2><p id="3780" class="pw-post-body-paragraph jy jz iq ka b kb mp kd ke kf mq kh ki kj mr kl km kn ms kp kq kr mt kt ku kv ij bi translated">我们将用<code class="fe mu mv mw mx b">ImageBackground</code>组件替换<code class="fe mu mv mw mx b">Image</code>组件。在web上，<code class="fe mu mv mw mx b">ImageBackground</code>组件是CSS的<code class="fe mu mv mw mx b">background-image</code>属性的同义词。<code class="fe mu mv mw mx b">&lt;ImageBackground&gt;</code>组件和<code class="fe mu mv mw mx b">Image</code>组件有相同的属性，我们可以在上面添加任何想要添加的子组件。但是首先，我们需要从react-native包中导入<code class="fe mu mv mw mx b">ImageBackground</code>组件，如下面的代码片段所示:</p><pre class="lp lq lr ls gt my mx mz na aw nb bi"><span id="90db" class="lw lx iq mx b gy nc nd l ne nf">import {<br/>  ImageBackground,<br/>  Image,<br/>  Platform,<br/>  ScrollView,<br/>  StyleSheet,<br/>  Text,<br/>  TouchableOpacity,<br/>  View,<br/>  Dimensions,<br/>  SafeAreaView<br/>} from 'react-native';</span></pre><p id="38fb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们需要添加<code class="fe mu mv mw mx b">ImageBackground</code>组件来代替<code class="fe mu mv mw mx b">Image</code>组件，并使用所需的道具和样式，如下面的代码片段所示:</p><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/37fca07d80c01cc85a1b769315792cb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*VTKjmctOi4WaKqvp.png"/></div></div></figure><p id="93e2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">列表部分的图像看起来与实际应用程序中的图像相似。至此，我们已经成功地完成了露营地点查找器应用程序UI克隆中列表部分的实现。带有露营地点信息的列表就像在实际应用程序中一样出现。</p><p id="b94c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们将为本系列教程的下一部分准备一个小的先决条件。即实现导航到设置屏幕。</p><h2 id="91ea" class="lw lx iq bd ly lz ma dn mb mc md dp me kj mf mg mh kn mi mj mk kr ml mm mn mo bi translated">导航至设置屏幕</h2><p id="4255" class="pw-post-body-paragraph jy jz iq ka b kb mp kd ke kf mq kh ki kj mr kl km kn ms kp kq kr mt kt ku kv ij bi translated">这一步是本系列教程下一部分的一个小前提。在这一步中，我们只是将导航添加到我们在标题部分创建的设置图标按钮的设置屏幕中。我们已经将<code class="fe mu mv mw mx b">TouchableOpacity</code>组件设置到<code class="fe mu mv mw mx b">renderHeader()</code>函数内标题部分的设置按钮中。我们将添加一个导航控件来导航到<code class="fe mu mv mw mx b">TouchableOpacity</code>组件的<code class="fe mu mv mw mx b">onPress</code>事件中的设置屏幕，如下面的代码片段所示:</p><pre class="lp lq lr ls gt my mx mz na aw nb bi"><span id="05b6" class="lw lx iq mx b gy nc nd l ne nf">&lt;View style={styles.settings}&gt;<br/>            &lt;TouchableOpacity onPress={() =&gt; this.props.navigation.navigate('Settings')}&gt;<br/>              &lt;Ionicons name="ios-settings" size={24} color="black" /&gt;<br/>            &lt;/TouchableOpacity&gt;<br/>          &lt;/View&gt;</span></pre><p id="69d7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因为我们的Campings屏幕已经在navigator堆栈中设置好了，所以提供<code class="fe mu mv mw mx b">navigate()</code>功能的<code class="fe mu mv mw mx b">navigation</code>实例在<code class="fe mu mv mw mx b">prop</code>变量中对我们来说很容易得到。通过使用参数为“设置”的<code class="fe mu mv mw mx b">navigate()</code>功能，我们只需点击标题部分的设置按钮，即可导航至设置屏幕，如下文仿真器模拟所示:</p><figure class="lp lq lr ls gt jr"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="7a20" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最后，我们已经成功地实现了列表部分，以及在我们的Camping Spot Finder应用程序UI克隆中导航到设置屏幕。</p><h2 id="6be8" class="lw lx iq bd ly lz ma dn mb mc md dp me kj mf mg mh kn mi mj mk kr ml mm mn mo bi translated">结论</h2><p id="5802" class="pw-post-body-paragraph jy jz iq ka b kb mp kd ke kf mq kh ki kj mr kl km kn ms kp kq kr mt kt ku kv ij bi translated">本教程是露营景点查找应用程序UI克隆教程系列的第二部分。在这一部分中，我们从本系列教程第一部分停止的地方继续。在教程的这一部分，我们首先学习了如何利用<code class="fe mu mv mw mx b">SafeAreaView</code>组件。然后，我们学习了如何使用<code class="fe mu mv mw mx b">map()</code>数组函数将模拟数据集成到模板中。我们还了解了一个新组件，它是从react-native包中导入的<code class="fe mu mv mw mx b">ImageBackground</code>组件，用于将图像正确地放置在列表部分。最后，我们了解了如何使用<code class="fe mu mv mw mx b">prop</code>变量中的<code class="fe mu mv mw mx b">navigation</code>实例提供的<code class="fe mu mv mw mx b">navigate()</code>函数导航到设置屏幕。</p><p id="4a22" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在下一部分中，我们将在我们的露营点查找器应用程序UI克隆中实现设置屏幕的不同组件。</p><p id="54bd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lv">所以，敬请期待！！</em></p></div><div class="ab cl nz oa hu ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="ij ik il im in"><p id="67a7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lv">最初发表于</em> <a class="ae lo" href="https://kriss.io/camping-spots-finder-app-ui-clone-with-react-native-2-list-section/" rel="noopener ugc nofollow" target="_blank"> <em class="lv">克里斯</em> </a> <em class="lv">。</em></p><h1 id="1557" class="nh lx iq bd ly ni nj nk mb nl nm nn me no np nq mh nr ns nt mk nu nv nw mn nx bi translated">公开</h1><p id="5759" class="pw-post-body-paragraph jy jz iq ka b kb mp kd ke kf mq kh ki kj mr kl km kn ms kp kq kr mt kt ku kv ij bi translated">这篇文章包括附属链接；如果您从本文提供的不同链接购买<br/>产品或服务，我可能会收到报酬。</p></div></div>    
</body>
</html>