<html>
<head>
<title>Complete Guide To Android Recyclerview — Part 02</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Android Recyclerview完整指南—第2部分</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/complete-guide-to-android-recyclerview-part-02-7cc6b71ab0d6?source=collection_archive---------7-----------------------#2020-02-28">https://levelup.gitconnected.com/complete-guide-to-android-recyclerview-part-02-7cc6b71ab0d6?source=collection_archive---------7-----------------------#2020-02-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/308acf4666ce9923efefa4b9dec19eec.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/1*z_HxjAK0uo2B3qtgHznREQ.gif"/></div></figure><p id="03f0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">再次欢迎，如果你是新来的，你可以到这里看前面的部分<a class="ae ks" href="https://medium.com/codixlab/a-guide-to-android-recyclerview-76c42b011738" rel="noopener">。之前我们已经讨论了recycler视图的基本定义，它的重要性、优点和缺点，以及它为什么会存在，以及recycler视图如何解决Listview的局限性。</a></p><p id="70e2" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在这一部分中，我们将讨论构建回收器视图所需的关键组件，并了解如何实现它以获得最佳结果。在开始之前，我假设您对Kotlin和Android框架有基本的了解。让我们从教程开始。</p><h1 id="1748" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">回收器视图组件</h1><p id="e421" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">谷歌试图通过使用模块化方法和多个组件的分布式实现来尽可能减轻recyclerview的负担。结合这些组件将提供强大而又美观流畅的用户体验。</p><p id="3dee" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们在上一部分中讨论过的回收器视图的组件非常少。所以，为了回忆一下，我将对每一个都进行详细说明。</p><h2 id="1001" class="lw ku iq bd kv lx ly dn kz lz ma dp ld kf mb mc lh kj md me ll kn mf mg lp mh bi translated">1) Recyclerview.adapter</h2><p id="8405" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">适配器提供了从数据集到显示在<code class="fe mi mj mk ml b"><a class="ae ks" href="https://developer.android.com/reference/android/support/v7/widget/RecyclerView" rel="noopener ugc nofollow" target="_blank">RecyclerView</a></code>中的视图的绑定。</p><h2 id="d5cf" class="lw ku iq bd kv lx ly dn kz lz ma dp ld kf mb mc lh kj md me ll kn mf mg lp mh bi translated">2) Recyclerview.viewholder</h2><p id="2b9f" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">回收查看<em class="mm">。viewholder </em>存储了一个行视图引用列表，由于这个原因，这个方法只需要调用几次，而不是针对整个数据集和每个绑定视图。</p><h2 id="c1ea" class="lw ku iq bd kv lx ly dn kz lz ma dp ld kf mb mc lh kj md me ll kn mf mg lp mh bi translated">3) Recyclerview。布局管理器</h2><p id="6054" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">布局管理器帮助我们从适配器获取日期，并按照指定的顺序排列视图。即垂直排列、水平排列或网格状排列。</p><h2 id="1ae9" class="lw ku iq bd kv lx ly dn kz lz ma dp ld kf mb mc lh kj md me ll kn mf mg lp mh bi translated">4) Recyclerview。ItemAnimator</h2><p id="ef79" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">ItemDecoration用于为项目添加特殊用途的边界、可视组、分隔线等。</p><p id="e427" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在，我们将开始一步一步地实际实现功能回收视图。让我们立即开始实施吧。</p><h1 id="e303" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">实现基本回收视图的步骤</h1><ol class=""><li id="125d" class="mn mo iq jw b jx lr kb ls kf mp kj mq kn mr kr ms mt mu mv bi translated">创建项目</li><li id="a757" class="mn mo iq jw b jx mw kb mx kf my kj mz kn na kr ms mt mu mv bi translated">添加依赖关系</li><li id="3d6a" class="mn mo iq jw b jx mw kb mx kf my kj mz kn na kr ms mt mu mv bi translated">创建模型类</li><li id="7215" class="mn mo iq jw b jx mw kb mx kf my kj mz kn na kr ms mt mu mv bi translated">行的设计项目</li><li id="c8a9" class="mn mo iq jw b jx mw kb mx kf my kj mz kn na kr ms mt mu mv bi translated">创建适配器类</li><li id="1856" class="mn mo iq jw b jx mw kb mx kf my kj mz kn na kr ms mt mu mv bi translated">在MainActivity中实现这些</li><li id="a179" class="mn mo iq jw b jx mw kb mx kf my kj mz kn na kr ms mt mu mv bi translated">设计活动_main.xml布局</li></ol><h1 id="09a9" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">第一步:</h1><p id="0a0e" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">首先，创建一个新项目并导航到activity_main.xml，然后创建一个具有recycler视图的布局，如下所示。</p><p id="a051" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">布局— activity_main.xml </strong></p><figure class="nb nc nd ne gt jr"><div class="bz fp l di"><div class="nf ng l"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated"><strong class="ak">布局— activity_main.xml </strong></figcaption></figure><p id="be46" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们在布局中使用了recyclerview组件，并使用了<strong class="jw ir"> tools:listItem </strong>的一个属性，它将帮助我们查看我们将在其适配器中展开的项目。</p><h1 id="fa8e" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">第二步:</h1><p id="5a4f" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">现在，让我们为recyclerview项目创建另一个布局，该布局将显示在每一行中，并将其命名为类似于<strong class="jw ir"> animated_item.xml </strong></p><figure class="nb nc nd ne gt jr"><div class="bz fp l di"><div class="nf ng l"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated"><strong class="ak">布局— animated_item.xml </strong></figcaption></figure><h1 id="b6fd" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">第三步:</h1><p id="d3b8" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">现在我们将创建一个适配器类，您可以在下面看到。</p><figure class="nb nc nd ne gt jr"><div class="bz fp l di"><div class="nf ng l"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated"><strong class="ak"> Class — RecyclerAdapter.kt </strong></figcaption></figure><p id="179f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">您可以看到在适配器类中覆盖了一些方法，这些方法是使其正常工作所必需的。我来一一解释这些方法。</p><h2 id="7963" class="lw ku iq bd kv lx ly dn kz lz ma dp ld kf mb mc lh kj md me ll kn mf mg lp mh bi translated">onCreateViewHolder</h2><p id="d827" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">返回保存给定类型视图的视图持有者。</p><h2 id="6b70" class="lw ku iq bd kv lx ly dn kz lz ma dp ld kf mb mc lh kj md me ll kn mf mg lp mh bi translated">onBindViewHolder</h2><p id="0b1c" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">onBindViewHolder由RecyclerView调用以绑定指定位置的数据。</p><h2 id="365d" class="lw ku iq bd kv lx ly dn kz lz ma dp ld kf mb mc lh kj md me ll kn mf mg lp mh bi translated">getItemCount</h2><p id="ab40" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">返回此适配器中的项目总数。</p><h1 id="c36c" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">第四步:</h1><p id="f19f" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">模型类存储数据属性，在我们的例子中，它将保存像<strong class="jw ir">标题</strong>、<strong class="jw ir">描述</strong>、<strong class="jw ir">日期</strong>和<strong class="jw ir">图像</strong>这样的属性。通常，一个<strong class="jw ir">模型</strong>可以由一组保存我们的数据和业务逻辑的<strong class="jw ir">类</strong>组成。</p><figure class="nb nc nd ne gt jr"><div class="bz fp l di"><div class="nf ng l"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated"><strong class="ak"> Class — NewsModel.kt </strong></figcaption></figure><h1 id="e1b6" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">第五步:</h1><p id="d72e" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">在最后一步，我们将初始化适配器，将虚拟数据插入列表，并将该列表传递给适配器。剩下的魔术将由我们已经创建的适配器来完成。所以让我们进入最后一步:</p><figure class="nb nc nd ne gt jr"><div class="bz fp l di"><div class="nf ng l"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated"><strong class="ak"> Class — MainActivity.kt </strong></figcaption></figure><p id="c49f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们完成了所有的步骤。只要点击运行按钮，并享受它。😎</p><p id="0710" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">注意:完整的项目或教程中使用的资源请参考我的Github — <a class="ae ks" href="https://github.com/asifjawaid/RecyclerviewWithAnimations" rel="noopener ugc nofollow" target="_blank"> <strong class="jw ir">这里</strong> </a></p><p id="f3dc" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果您有任何反馈或问题，请批评和原谅我，如果你发现任何错误。</p></div></div>    
</body>
</html>