<html>
<head>
<title>Class vs Struct in Swift</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Swift中的类与结构</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/class-vs-struct-8e4dafa66ae9?source=collection_archive---------7-----------------------#2020-07-26">https://levelup.gitconnected.com/class-vs-struct-8e4dafa66ae9?source=collection_archive---------7-----------------------#2020-07-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/97f008b121523c388a3780453d9a2283.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*fFfzsaWh49TjzNal8VXrlQ.png"/></div></figure><p id="37bc" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">Class和struct是iOS开发的基础，了解它们之间的区别以及何时使用它们非常重要。我们来探索一下。</p><p id="7ad3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">class和struct的一个简单区别是:struct(结构)是值类型，class是引用类型。这是什么？</p><figure class="ks kt ku kv gt jr"><div class="bz fp l di"><div class="kw kx l"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">信用—<a class="ae lc" href="https://giphy.com" rel="noopener ugc nofollow" target="_blank">https://giphy.com</a></figcaption></figure><h2 id="344a" class="ld le iq bd lf lg lh dn li lj lk dp ll kf lm ln lo kj lp lq lr kn ls lt lu lv bi translated"><strong class="ak">参考类型(类)</strong></h2><p id="eda2" class="pw-post-body-paragraph ju jv iq jw b jx lw jz ka kb lx kd ke kf ly kh ki kj lz kl km kn ma kp kq kr ij bi translated">当你将一个类赋给一个变量或常量时，它不会被复制到内存中。它将指向内存中相同的现有实例。这有点令人困惑，让我们来看看这个例子，以便更清楚地了解-</p><figure class="ks kt ku kv gt jr"><div class="bz fp l di"><div class="mb kx l"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">类引用示例</figcaption></figure><p id="4155" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在上面的例子中，在步骤1中，您创建了一个名为SomeClass的类，该类包含一个变量名number。</p><p id="6117" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在步骤2中——您正在创建一个名为classInstance1的SomeClass实例，并将变量“number”的值更改为2。</p><p id="3ebf" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在步骤3中——您正在创建一个名为classInstance2的classInstance1实例(它已经是SomeClass的实例),并将“number”变量的值更改为3。</p><p id="c19d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在步骤4 -打印classInstance1.number和classInstance2.number的值，您将看到这两个值是相同的，并且是最后更新的值。</p><figure class="ks kt ku kv gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi mc"><img src="../Images/3b89b383d06c121e45234a51f8b251b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SeF6eK1xRBCPiKSUH-lZLg.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">类参考图</figcaption></figure><p id="4bf9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如上图所示，两个实例都指向内存中的同一个位置，所以无论我们最后做了什么改变，都会在两个引用中反映出来。</p><h2 id="f602" class="ld le iq bd lf lg lh dn li lj lk dp ll kf lm ln lo kj lp lq lr kn ls lt lu lv bi translated">值类型(结构)</h2><p id="f038" class="pw-post-body-paragraph ju jv iq jw b jx lw jz ka kb lx kd ke kf ly kh ki kj lz kl km kn ma kp kq kr ij bi translated">当你把一个结构赋给一个变量或常数时，它将被复制到内存中。甚至swift的大部分内部实现都是作为struct编写的。让我们来看一个例子，以获得更多的说明:</p><figure class="ks kt ku kv gt jr"><div class="bz fp l di"><div class="mb kx l"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">结构实例图</figcaption></figure><p id="622b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在上面的示例中，在步骤1中，您正在创建一个名为SomeStruct的结构，该结构包含一个变量名number。</p><p id="a62c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在第2步中，您创建了一个名为structInstance1的SomeStruct实例，并将“number”变量的值更改为2。</p><p id="1fe1" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在步骤3中，您正在创建名为structInstance2的structInstance1实例(它已经是SomeInstance的实例),并将“number”变量的值更改为3。</p><p id="5a4b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在第4步中，您正在打印structInstance1.number和structInstance2.number的值，您将看到这两个值这次不相同。</p><figure class="ks kt ku kv gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi mh"><img src="../Images/fc447fa3038a6d6e171b4bac08f516db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OBSQkgj8iCxg4Nb4qKNuGQ.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">结构参考图</figcaption></figure><p id="f67e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如上图所示，这两个实例完全不同，指向内存中的不同位置，也就是说，每当我们创建struct的实例时，它都会复制。</p><h2 id="cf87" class="ld le iq bd lf lg lh dn li lj lk dp ll kf lm ln lo kj lp lq lr kn ls lt lu lv bi translated">类和结构之间的相似性</h2><ul class=""><li id="8dd1" class="mi mj iq jw b jx lw kb lx kf mk kj ml kn mm kr mn mo mp mq bi translated">在这两种情况下，您都可以定义属性来存储值。</li><li id="d642" class="mi mj iq jw b jx mr kb ms kf mt kj mu kn mv kr mn mo mp mq bi translated">在这两种情况下，您都可以定义下标。</li><li id="a07a" class="mi mj iq jw b jx mr kb ms kf mt kj mu kn mv kr mn mo mp mq bi translated">两者都提供了初始化器。</li><li id="b7c3" class="mi mj iq jw b jx mr kb ms kf mt kj mu kn mv kr mn mo mp mq bi translated">两者都提供协议实现</li><li id="9158" class="mi mj iq jw b jx mr kb ms kf mt kj mu kn mv kr mn mo mp mq bi translated">类拥有struct能提供的所有东西。</li></ul><h2 id="c128" class="ld le iq bd lf lg lh dn li lj lk dp ll kf lm ln lo kj lp lq lr kn ls lt lu lv bi translated">课堂中的附加功能</h2><ul class=""><li id="1a98" class="mi mj iq jw b jx lw kb lx kf mk kj ml kn mm kr mn mo mp mq bi translated">它提供了继承。</li><li id="e947" class="mi mj iq jw b jx mr kb ms kf mt kj mu kn mv kr mn mo mp mq bi translated">它为您提供了类型转换，您可以使用它来检查运行时。</li><li id="c7d0" class="mi mj iq jw b jx mr kb ms kf mt kj mu kn mv kr mn mo mp mq bi translated">它为你提供解初始化器。</li><li id="c6da" class="mi mj iq jw b jx mr kb ms kf mt kj mu kn mv kr mn mo mp mq bi translated">它提供引用计数。</li></ul><h2 id="661c" class="ld le iq bd lf lg lh dn li lj lk dp ll kf lm ln lo kj lp lq lr kn ls lt lu lv bi translated">参考资料:</h2><div class="mw mx gp gr my mz"><a href="https://docs.swift.org/swift-book/LanguageGuide/ClassesAndStructures.html" rel="noopener  ugc nofollow" target="_blank"><div class="na ab fo"><div class="nb ab nc cl cj nd"><h2 class="bd ir gy z fp ne fr fs nf fu fw ip bi translated">结构和类-Swift编程语言(Swift 5.3)</h2><div class="ng l"><h3 class="bd b gy z fp ne fr fs nf fu fw dk translated">结构和类是通用的、灵活的构造，成为程序代码的构建块…</h3></div><div class="nh l"><p class="bd b dl z fp ne fr fs nf fu fw dk translated">docs.swift.org</p></div></div></div></a></div></div><div class="ab cl ni nj hu nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ij ik il im in"><div class="ks kt ku kv gt mz"><a href="https://developer.apple.com/documentation/swift/choosing_between_structures_and_classes" rel="noopener  ugc nofollow" target="_blank"><div class="na ab fo"><div class="nb ab nc cl cj nd"><h2 class="bd ir gy z fp ne fr fs nf fu fw ip bi translated">Apple开发者文档</h2><div class="ng l"><h3 class="bd b gy z fp ne fr fs nf fu fw dk translated">在结构和类之间选择</h3></div><div class="nh l"><p class="bd b dl z fp ne fr fs nf fu fw dk translated">developer.apple.com</p></div></div></div></a></div></div><div class="ab cl ni nj hu nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ij ik il im in"><p id="f990" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">感谢您阅读这篇文章。如果你觉得这篇文章有帮助，请不要忘记鼓掌。</p><p id="5033" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果您有任何问题或意见，请随时通过<a class="ae lc" href="https://twitter.com/nomadicsheldon" rel="noopener ugc nofollow" target="_blank"> Twitter </a>联系我。</p></div></div>    
</body>
</html>