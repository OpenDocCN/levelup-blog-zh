<html>
<head>
<title>An Introduction to Raycasting in Unity2D</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Unity2D中光线投射的介绍</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-detect-object-positions-using-raycast-in-unity-77d6cbd50006?source=collection_archive---------14-----------------------#2021-08-30">https://levelup.gitconnected.com/how-to-detect-object-positions-using-raycast-in-unity-77d6cbd50006?source=collection_archive---------14-----------------------#2021-08-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="47dc" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">太空射手—第二阶段:核心编程挑战</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/32991f9c5e18864cdd35ed6b4882c8fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nvCPasc6sa6evGdL47IaYA.png"/></div></div></figure><p id="1c99" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">目标</strong>:学习Raycast的基本概念和语法，以及如何调试。</p><h1 id="1b7d" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">什么是光线投射？</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ae8d7a11735a85c2fc77ee14358c7970.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*moxfUpWV_4yqCOjy.gif"/></div></div></figure><p id="83bc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae mf" href="https://docs.unity3d.com/ScriptReference/Physics.Raycast.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir">光线投射</strong> </a>广泛应用于视频游戏开发中，用于各种目的，包括计算玩家或AI的视线，确定投射物的轨迹，以及创建激光。光线投射是从3D或2D空间中的某一点沿某一方向传播的光线。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="c3f2" class="ln lo iq bd lp lq mn ls lt lu mo lw lx jw mp jx lz jz mq ka mb kc mr kd md me bi translated">语法:</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ms"><img src="../Images/ef221deb37e108bda1334befe184f12c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q-uNkVARyZR-nI3GYoSopw.png"/></div></div></figure><ul class=""><li id="853b" class="mt mu iq kt b ku kv kx ky la mv le mw li mx lm my mz na nb bi translated"><strong class="kt ir">原点</strong>:世界空间中的一个现存点。例如，如果你的玩家有一个武器物体，比如一把枪，原点可以放在枪管上。</li><li id="2c42" class="mt mu iq kt b ku nc kx nd la ne le nf li ng lm my mz na nb bi translated"><strong class="kt ir">方向</strong>:决定光线投射的方向。</li><li id="a13e" class="mt mu iq kt b ku nc kx nd la ne le nf li ng lm my mz na nb bi translated"><strong class="kt ir">碰撞信息:</strong>该信息存储了碰撞器的信息，这样代码就能够检测出哪些物体被射线击中了。</li></ul><h2 id="5f46" class="nh lo iq bd lp ni nj dn lt nk nl dp lx la nm nn lz le no np mb li nq nr md ns bi translated">以下变量是可选的，尽管非常有用。</h2><ul class=""><li id="65cc" class="mt mu iq kt b ku nt kx nu la nv le nw li nx lm my mz na nb bi translated"><strong class="kt ir">距离</strong>:光线的长度。如果没有指定长度，代码将默认其值为infinite，因此，射线将在检测到任何可及的事物时延伸。</li><li id="73c3" class="mt mu iq kt b ku nc kx nd la ne le nf li ng lm my mz na nb bi translated"><strong class="kt ir">图层蒙版</strong>:Unity图层系统中的特定图层。通过使用层遮罩，可以将对象指定给该层，以便光线投射忽略它们。这在使用旨在影响特定物体的系统时非常有用，例如玩家的攻击只能攻击敌人。</li></ul><blockquote class="ny nz oa"><p id="e7bd" class="kr ks ob kt b ku kv jr kw kx ky ju kz oc lb lc ld od lf lg lh oe lj lk ll lm ij bi translated"><strong class="kt ir">注</strong>:我之前在<a class="ae mf" href="https://medium.com/geekculture/how-to-detect-colliders-surrounding-the-player-ebdcadf3ba61" rel="noopener"> <strong class="kt ir">如何检测玩家</strong> </a> <strong class="kt ir">周围的对撞机中讨论过如何分配图层蒙版。</strong></p></blockquote></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="0095" class="ln lo iq bd lp lq mn ls lt lu mo lw lx jw mp jx lz jz mq ka mb kc mr kd md me bi translated">调试光线投射</h1><p id="6e75" class="pw-post-body-paragraph kr ks iq kt b ku nt jr kw kx nu ju kz la of lc ld le og lg lh li oh lk ll lm ij bi translated">一条射线可以通过<a class="ae mf" href="https://docs.unity3d.com/ScriptReference/Debug.DrawRay.html" rel="noopener ugc nofollow" target="_blank"> Draw轻松调试。光线</a>——它允许我们绘制光线，并使其在场景视图中可见，如果游戏视图中启用了gizmo绘制，则在游戏中也可见。</p><h2 id="f1f8" class="nh lo iq bd lp ni nj dn lt nk nl dp lx la nm nn lz le no np mb li nq nr md ns bi translated">语法:</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/ede67110ec989258eef6f6ef25676ded.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P5hN7mOwcrpAqda16Q4ifg.png"/></div></div></figure><p id="128b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在本例中，DrawRay使用与laserDetect射线相同的方向和距离变量。这允许gizmo明显地绘制相同的光线，以便我们测试光线结构的适当性，并相应地修改它。此外，您可以为光线添加颜色，使其在游戏环境中更加突出。</p><p id="315c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在下图中，你可以看到在场景视图中绘制的光线。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/767fd0ef5e0f7e6bc58bea9cb8ada99f.png" data-original-src="https://miro.medium.com/v2/resize:fit:660/format:webp/1*HwC0r2k4y2Y9dwZsBvy_LA.png"/></div></figure></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><p id="f7cc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">本文是GameDevHQ的一系列核心编程挑战的一部分。在接下来的文章中，我将会看看如何使用光线投射来创造一个可以侦测玩家攻击并躲避它们的敌人！</p></div></div>    
</body>
</html>