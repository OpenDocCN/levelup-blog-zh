<html>
<head>
<title>How to organize your Flutter app assets, styles, colors, images</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何组织你的Flutter应用资产，风格，颜色，图片</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-organize-your-flutter-app-assets-styles-colors-images-f27e1aa2cacc?source=collection_archive---------2-----------------------#2022-09-06">https://levelup.gitconnected.com/how-to-organize-your-flutter-app-assets-styles-colors-images-f27e1aa2cacc?source=collection_archive---------2-----------------------#2022-09-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="2db7" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">收拾残局</h2><div class=""/><div class=""><h2 id="aa0b" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">一个成长中的应用程序包含了很多资源，可以在不同的地方使用。使用这种方法，您将知道将东西放在哪里以及如何引用它们。</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/c4fabf83a8700998831f1404a3623402.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*miSaeOqwwTMnpGF9tdVIbg.png"/></div></div></figure><p id="1d3b" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">在这篇文章中，我们来看看Flutter应用程序中的资源管理。这种情况下的资源是指，例如，将在您的应用程序中使用的样式、图像、常量、实用程序或颜色。我将向您展示如何在您的应用程序中组织它们，以便尽管代码库很大，它仍然是可管理的。这样做的好处是你没有多余的代码部分，如果你想改变什么，你只需要查看源代码中的一个地方。让我们从如何管理您的资源的一些想法开始吧！</p><blockquote class="lz"><p id="54d0" class="ma mb it bd mc md me mf mg mh mi ly dk translated">📣这些例子将主要使用颜色，但这只是为了演示这些想法。您可以将它用于任何东西，比如常量、实用程序、资源等等。</p></blockquote><h2 id="4623" class="mj mk it bd ml mm mn dn mo mp mq dp mr lm ms mt mu lq mv mw mx lu my mz na iz bi translated">💡想法1:全球宣言</h2><p id="af5d" class="pw-post-body-paragraph ld le it lf b lg nb kd li lj nc kg ll lm nd lo lp lq ne ls lt lu nf lw lx ly im bi translated">最基本的方法。<strong class="lf jd">只需将所有内容放入一个文件</strong>作为一个全局定义，并从任何地方访问它。这将很快变得混乱，所以考虑把它分成几个文件。此外，为了区分脚手架的背景颜色和按钮的背景颜色，描述可能会很长。在这种情况下，良好的工具是必不可少的(使用像VS Code这样的编辑器进行正确的代码导航)！</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ng nh l"/></div></figure><h2 id="1c04" class="mj mk it bd ml mm ni dn mo mp nj dp mr lm nk mt mu lq nl mw mx lu nm mz na iz bi translated">💡想法2:每个资源类型一个类</h2><p id="3335" class="pw-post-body-paragraph ld le it lf b lg nb kd li lj nc kg ll lm nd lo lp lq ne ls lt lu nf lw lx ly im bi translated">这个想法还是很简单的。我们有一个包含所有颜色的类，一个包含所有文本样式的类，等等。所以如果你想在代码中访问一种颜色，你只需要做<code class="fe nn no np nq b">AppColors.background</code>。命名约定总是:<strong class="lf jd">资源点描述的类型</strong>。</p><p id="4d99" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">🔸我需要什么类型的资源？<br/>我需要一个颜色→ <code class="fe nn no np nq b">AppColors</code>类</p><p id="6256" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">🔸资源应该用来做什么？<br/>这将是一个脚手架的背景→ <code class="fe nn no np nq b">background</code>地产</p><p id="ac71" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">这是简单易懂的，但是会导致在一个文件中有许多颜色定义和相似的描述。您还需要为每个资源导入一个文件，这可能会导致更长的导入列表。我只对较小的应用程序选择这种方法。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="24e1" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">该示例利用私有类和静态引用来创建所需的关系。</p><h2 id="a6b4" class="mj mk it bd ml mm ni dn mo mp nj dp mr lm nk mt mu lq nl mw mx lu nm mz na iz bi translated">💡想法3:每个资源类型一个类，并进行分组</h2><p id="86c7" class="pw-post-body-paragraph ld le it lf b lg nb kd li lj nc kg ll lm nd lo lp lq ne ls lt lu nf lw lx ly im bi translated"><strong class="lf jd">下一个想法引入了另一个层级，但总体上与前一个想法类似</strong>。然而，您将需要调用<code class="fe nn no np nq b">AppColors.scaffold.background</code>来获取上一个示例中的颜色。这种方法将一个小部件级别添加到层次结构中，以便您可以按小部件对颜色进行聚类。<strong class="lf jd">如果你不喜欢小部件层次结构的想法，尝试用视图、用例或状态层次结构来代替</strong>。您仍然需要导入多个文件来访问所有资源，但是组织比以前更加结构化了。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ng nh l"/></div></figure><h2 id="a3fd" class="mj mk it bd ml mm ni dn mo mp nj dp mr lm nk mt mu lq nl mw mx lu nm mz na iz bi translated">💡想法4:分组资源层次结构</h2><p id="9a1c" class="pw-post-body-paragraph ld le it lf b lg nb kd li lj nc kg ll lm nd lo lp lq ne ls lt lu nf lw lx ly im bi translated">最后，<strong class="lf jd">我们还可以将所有资源整合到一个单一的结构中，以进一步简化访问。</strong>这减少了必要的导入语句，并定义了一致的访问逻辑，可在应用程序的任何地方使用。现在，一个示例调用将如下所示:<code class="fe nn no np nq b">Resources.colors.scaffold.background</code>。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ng nh l"/></div></figure><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ng nh l"/></div></figure><h2 id="fada" class="mj mk it bd ml mm ni dn mo mp nj dp mr lm nk mt mu lq nl mw mx lu nm mz na iz bi translated">提示:如何减少导入语句</h2><p id="518c" class="pw-post-body-paragraph ld le it lf b lg nb kd li lj nc kg ll lm nd lo lp lq ne ls lt lu nf lw lx ly im bi translated">您可以使用<code class="fe nn no np nq b">export</code>关键字将多个导入合并成一个。请注意，如果使用不当，这可能会让一些开发人员感到困惑，因为很难看到实际代码的位置。下面是一个如何做到这一点的例子:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ng nh l"/></div></figure><h2 id="2bed" class="mj mk it bd ml mm ni dn mo mp nj dp mr lm nk mt mu lq nl mw mx lu nm mz na iz bi translated">使用资源和字体</h2><p id="9f15" class="pw-post-body-paragraph ld le it lf b lg nb kd li lj nc kg ll lm nd lo lp lq ne ls lt lu nf lw lx ly im bi translated"><strong class="lf jd">资产(或资源)是包含在应用程序二进制文件中并在运行时加载的文件</strong>。常见的例子是图像和JSON文件。资源和字体存储在自定义项目文件夹中，并在<code class="fe nn no np nq b">pubspec.yaml</code>中引用，因此应用程序知道从哪里加载数据。<code class="fe nn no np nq b">pubspec.yaml</code>包含了如何包含它们的例子。有关进一步的详细信息，请查看<a class="ae nr" href="https://docs.flutter.dev/development/ui/assets-and-images" rel="noopener ugc nofollow" target="_blank">资产</a>和<a class="ae nr" href="https://docs.flutter.dev/cookbook/design/fonts" rel="noopener ugc nofollow" target="_blank">字体</a>的官方文档。</p><p id="523e" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">在这一节中，我想展示一些方法来防止硬编码字符串出现在应用程序代码的多个位置。一个简单的输入错误可能会在运行时产生一个您可能会忽略的异常。因此，这里有两种方法来防止这种行为。</p><p id="a9aa" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf jd">💡为您的资产和字体创建一个类</strong></p><p id="4b5f" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">在前面的章节中，我提供了一些例子，您也可以在这里使用。任何东西都比在整个应用程序中使用字符串要好。如果你需要改变什么，你只有一个地方可以做。举个小例子:</p><pre class="ks kt ku kv gt ns nq nt nu aw nv bi"><span id="9460" class="mj mk it nq b gy nw nx l ny nz">class Assets {<br/>	static String splashImage = "assets/splash.png";<br/>	static String saveIcon = "assets/save.png";<br/>}</span></pre><p id="e1c8" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">为了确保您的文件存在，您可以编写一个单元测试。这里有一个小例子:</p><pre class="ks kt ku kv gt ns nq nt nu aw nv bi"><span id="eaf0" class="mj mk it nq b gy nw nx l ny nz">import 'dart:io';</span><span id="1d6a" class="mj mk it nq b gy oa nx l ny nz">void main(){<br/>    test("Verify all used images exist", () async {<br/>        expect(await File("assets/splash.png").exists(), isTrue,<br/>            reason: "no image for splash");<br/>        expect(await File("assets/save.jpg").exists(), isTrue,<br/>	    reason: "no image for save");<br/>	});<br/>}</span></pre><p id="8d01" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">如果这太麻烦，查看下一个技巧。😉</p><p id="0b20" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf jd">💡使用flutter_gen包为您创建包装类</strong></p><p id="dd91" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><a class="ae nr" href="https://pub.dev/packages/flutter_gen" rel="noopener ugc nofollow" target="_blank"> flutter_gen包</a>包含一个构建运行器，它扫描你的<code class="fe nn no np nq b">pubspec.yaml</code>的资产并自动创建包装类。您可以使用这些包装器来访问小部件中的资产。最大的好处是软件包将跳过硬盘上找不到的文件。因此，如果您的资产定义中有一个错别字，那么该资产将没有类。当您想在代码中引用它时，您会立即注意到它。</p><h2 id="ce26" class="mj mk it bd ml mm ni dn mo mp nj dp mr lm nk mt mu lq nl mw mx lu nm mz na iz bi translated">源代码</h2><p id="4e29" class="pw-post-body-paragraph ld le it lf b lg nb kd li lj nc kg ll lm nd lo lp lq ne ls lt lu nf lw lx ly im bi translated">你可以在<a class="ae nr" href="https://github.com/xeladu/flutter_asset_management" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到源代码。</p><h2 id="dc78" class="mj mk it bd ml mm ni dn mo mp nj dp mr lm nk mt mu lq nl mw mx lu nm mz na iz bi translated">结论</h2><p id="072d" class="pw-post-body-paragraph ld le it lf b lg nb kd li lj nc kg ll lm nd lo lp lq ne ls lt lu nf lw lx ly im bi translated">有了这些提示，你应该很容易组织你的应用程序。选择这些想法中的一个或结合它们来满足您的特定需求。正确的方法总是取决于多种因素。没有适用于所有用例的通用规则。</p></div><div class="ab cl ob oc hx od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="im in io ip iq"><p id="c49c" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><a class="ae nr" href="https://medium.com/@xeladu/membership" rel="noopener"> <strong class="lf jd"> <em class="oi">用我的推荐链接加入成千上万的中会员，想看多少文章就看多少</em> </strong> </a>！</p><div class="oj ok gp gr ol om"><a href="https://medium.com/@xeladu/membership" rel="noopener follow" target="_blank"><div class="on ab fo"><div class="oo ab op cl cj oq"><h2 class="bd jd gy z fp or fr fs os fu fw jc bi translated">通过我的推荐链接加入Medium-xela du</h2><div class="ot l"><h3 class="bd b gy z fp or fr fs os fu fw dk translated">只需点击一下，就可以通过会员资格访问数千篇文章！您的会员资格只需5美元一张…</h3></div><div class="ou l"><p class="bd b dl z fp or fr fs os fu fw dk translated">medium.com</p></div></div><div class="ov l"><div class="ow l ox oy oz ov pa lb om"/></div></div></a></div><p id="3f02" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">点击<a class="ae nr" href="https://xeladu.medium.com/subscribe" rel="noopener"> <strong class="lf jd">这里</strong> </a>把我所有的新文章都发到你的邮箱里🔔如果你浏览<a class="ae nr" href="https://xeladu.gumroad.com/" rel="noopener ugc nofollow" target="_blank">我的口香糖商店</a>，你可能会找到你喜欢的东西(<a class="ae nr" href="https://xeladu.gumroad.com/l/scratch" rel="noopener ugc nofollow" target="_blank">甚至是免费的</a>🏬</p></div><div class="ab cl ob oc hx od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="im in io ip iq"><div class="ks kt ku kv gt"><div role="button" tabindex="0" class="ab bv gv cb fp pb pc bn pd lb ex"><div class="pe l"><div class="ab q"><div class="l di"><img alt="xeladu" class="l de bw pf pg fe" src="../Images/c6d3049714795a7a8169ac0957f05cfe.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*zDQIuT_7N15cT_wzRxjc4g.jpeg"/><div class="fb bw l pf pg fc n aw fd"/></div><div class="hh l fo"><p class="bd b dl z fp fq fr fs ft fu fv fw dk translated"><a class="ae af ag ah ai aj ak al am an ao ap aq ar as" href="https://xeladu.medium.com/?source=post_page-----f27e1aa2cacc--------------------------------" rel="noopener follow" target="_top">赛拉杜</a></p></div></div><div class="pj pk gw l"><h2 class="bd jd vk qn fp vl fr fs os fu fw jc bi translated">适合初学者的颤振文章</h2></div><div class="ab q"><div class="l fo"><a class="bd b be z bi vm au vn vo vp sb vq an eh ei vr vs vt el em eo de bk ep" href="https://xeladu.medium.com/list/flutter-articles-for-beginners-a040ea777956?source=post_page-----f27e1aa2cacc--------------------------------" rel="noopener follow" target="_top">View list</a></div><div class="vu l fo"><span class="bd b dl z dk">24 stories</span></div></div></div><div class="pw dh px fp ab py fo di"><div class="di po bv pp pq"><div class="dh l"><img alt="" class="dh" src="../Images/51383106204c2ff6d45c05fd52772a7d.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*fCxl8TrfbpOgvCzq"/></div></div><div class="di po bv pr ps pt"><div class="dh l"><img alt="" class="dh" src="../Images/cdd4d94a464cda34d46fc00e13cf7bf9.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*XYet0y5T5xce5j8F80Lmdw.jpeg"/></div></div><div class="di bv pu pv pt"><div class="dh l"><img alt="" class="dh" src="../Images/367140fae23113f1e2e868c2157d1e71.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*miSaeOqwwTMnpGF9tdVIbg.png"/></div></div></div></div></div><div class="oj ok gp gr ol"><div role="button" tabindex="0" class="ab bv gv cb fp pb pc bn pd lb ex"><div class="pe l"><div class="ab q"><div class="l di"><img alt="xeladu" class="l de bw pf pg fe" src="../Images/c6d3049714795a7a8169ac0957f05cfe.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*zDQIuT_7N15cT_wzRxjc4g.jpeg"/><div class="fb bw l pf pg fc n aw fd"/></div><div class="hh l fo"><p class="bd b dl z fp fq fr fs ft fu fv fw dk translated"><a class="ae af ag ah ai aj ak al am an ao ap aq ar as" href="https://xeladu.medium.com/?source=post_page-----f27e1aa2cacc--------------------------------" rel="noopener follow" target="_top">赛拉杜</a></p></div></div><div class="pj pk gw l"><h2 class="bd jd vk qn fp vl fr fs os fu fw jc bi translated">软件工程师的高级颤振文章</h2></div><div class="ab q"><div class="l fo"><a class="bd b be z bi vm au vn vo vp sb vq an eh ei vr vs vt el em eo de bk ep" href="https://xeladu.medium.com/list/advanced-flutter-articles-for-software-engineers-f074879fdef3?source=post_page-----f27e1aa2cacc--------------------------------" rel="noopener follow" target="_top">View list</a></div><div class="vu l fo"><span class="bd b dl z dk">9 stories</span></div></div></div><div class="pw dh px fp ab py fo di"><div class="di po bv pp pq"><div class="dh l"><img alt="" class="dh" src="../Images/e5774d314e770573e2601ca542dbc4de.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*lySym3EjJw93S_Fa"/></div></div><div class="di po bv pr ps pt"><div class="dh l"><img alt="" class="dh" src="../Images/5289da1df3e789a8ca1d3f6024c01f4b.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*s6ys37P9D8ddVnW_"/></div></div><div class="di bv pu pv pt"><div class="dh l"><img alt="" class="dh" src="../Images/642d00374fa0d6e6971120398fbbeb90.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*JNMh3UEdihkfQWl9"/></div></div></div></div></div></div><div class="ab cl ob oc hx od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="im in io ip iq"><h1 id="ee7a" class="qc mk it bd ml qd qe qf mo qg qh qi mr ki qj kj mu kl qk km mx ko ql kp na qm bi translated">分级编码</h1><p id="12cb" class="pw-post-body-paragraph ld le it lf b lg nb kd li lj nc kg ll lm nd lo lp lq ne ls lt lu nf lw lx ly im bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="d816" class="qn qo it lf b lg lh lj lk lm qp lq qq lu qr ly qs qt qu qv bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="81f0" class="qn qo it lf b lg qw lj qx lm qy lq qz lu ra ly qs qt qu qv bi translated">📰查看<a class="ae nr" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">升级编码出版物</a>中的更多内容</li><li id="f7ca" class="qn qo it lf b lg qw lj qx lm qy lq qz lu ra ly qs qt qu qv bi translated">🔔关注我们:<a class="ae nr" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae nr" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae nr" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="4fb2" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">🚀👉<a class="ae nr" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="lf jd">加入升级达人集体，找到一份惊艳的工作</strong> </a></p></div></div>    
</body>
</html>