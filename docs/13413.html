<html>
<head>
<title>System Design Fundamentals: NoSQL Databases</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">系统设计基础:NoSQL数据库</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/system-design-fundamentals-nosql-databases-8390ef50cc32?source=collection_archive---------12-----------------------#2022-09-02">https://levelup.gitconnected.com/system-design-fundamentals-nosql-databases-8390ef50cc32?source=collection_archive---------12-----------------------#2022-09-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/03b7286cdbdc7e8f431793b76de00c51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*25U7O6M0F22jxBzZ358Fpw.jpeg"/></div></div></figure><div class=""/><p id="e9ba" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">NoSQL数据库是非关系数据库。他们不像他们的名字暗示的那样使用SQL，也不遵守关系数据库强加的严格的结构要求。</p><p id="306a" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当缩放和快速开发对系统很重要时，NoSQL数据库是有用的。NoSQL依赖于基于云的存储，并要求数据可以轻松地跨多个服务器扩展。如果您的数据结构经常变化，与关系数据库相比，NoSQL数据库可以用最少的停机时间来处理这种情况。</p><h1 id="7cd9" class="la lb je bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">NoSQL数据库的类型</h1><p id="5000" class="pw-post-body-paragraph kb kc je kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">有4种主要类型的NoSQL数据库:</p><ol class=""><li id="fe66" class="md me je kd b ke kf ki kj km mf kq mg ku mh ky mi mj mk ml bi translated">键值存储</li><li id="1be9" class="md me je kd b ke mm ki mn km mo kq mp ku mq ky mi mj mk ml bi translated">文档存储</li><li id="0ad0" class="md me je kd b ke mm ki mn km mo kq mp ku mq ky mi mj mk ml bi translated">面向列(宽列)的存储</li><li id="9469" class="md me je kd b ke mm ki mn km mo kq mp ku mq ky mi mj mk ml bi translated">图形数据库</li></ol><h1 id="92fd" class="la lb je bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">键值存储</h1><p id="c528" class="pw-post-body-paragraph kb kc je kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">键值存储是最简单的NoSQL数据库类型。它们以键值对的形式存储数据，即从键(通常是字符串)到任意值的映射。你可以把它想象成一个字典或者哈希表数据结构。键表示被存储的属性的名称，并且对于每个键，都有一个分配给它的值。</p><figure class="ms mt mu mv gt iv gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/4476935128af75500bec2fe67be7d9cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:642/format:webp/1*FlApiORUqDSQ9ttDdofmHA.png"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk translated">图1:键值存储</figcaption></figure><p id="fab5" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">键值存储的一个用例是缓存网络请求和响应。通常使用某种键来访问缓存的数据；前任。获取该用户的兑现网络请求和响应的用户名。因为访问缓存数据的机制是一个键和它的成对数据，所以键值存储是实现这一点的好方法。</p><p id="ccf7" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">一些受欢迎的键值存储包括<a class="ae kz" href="https://aws.amazon.com/redis/" rel="noopener ugc nofollow" target="_blank"> Redis </a>和<a class="ae kz" href="https://en.wikipedia.org/wiki/Memcached" rel="noopener ugc nofollow" target="_blank"> Memcached </a>。</p><h2 id="8074" class="na lb je bd lc nb nc dn lg nd ne dp lk km nf ng lo kq nh ni ls ku nj nk lw nl bi translated"><strong class="ak">使用键值存储的好处</strong></h2><ol class=""><li id="15c8" class="md me je kd b ke ly ki lz km nm kq nn ku no ky mi mj mk ml bi translated">简单灵活的数据模型:您可以随意处理数据。实体之间没有关系，这允许很大的灵活性。</li><li id="7412" class="md me je kd b ke mm ki mn km mo kq mp ku mq ky mi mj mk ml bi translated">可伸缩性:键值存储依赖于基于云的存储。他们可以轻松地在多台服务器之间传播数据，这些服务器可以根据系统需求快速扩展。</li><li id="2cf1" class="md me je kd b ke mm ki mn km mo kq mp ku mq ky mi mj mk ml bi translated">高可用性:由于简单的键查找模型，访问数据很快。</li></ol><h2 id="d3f4" class="na lb je bd lc nb nc dn lg nd ne dp lk km nf ng lo kq nh ni ls ku nj nk lw nl bi translated"><strong class="ak">键值存储的缺点</strong></h2><ol class=""><li id="c980" class="md me je kd b ke ly ki lz km nm kq nn ku no ky mi mj mk ml bi translated">无关系:由于数据之间缺乏关系，复杂查询受到严重限制。</li><li id="1029" class="md me je kd b ke mm ki mn km mo kq mp ku mq ky mi mj mk ml bi translated">不适合存储复杂数据:根据您选择的键值存储，数据类型及其存储方式可能会有限制。</li></ol><h1 id="7215" class="la lb je bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">文档存储</h1><p id="31c9" class="pw-post-body-paragraph kb kc je kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">顾名思义，文档存储以半结构化的方式(如JSON或XML)在独立的文档中以面向文档的模型存储数据。这些是目前使用的最流行的NoSQL数据库类型。一些流行的包括<a class="ae kz" href="https://www.mongodb.com/cloud/atlas/efficiency?utm_source=google&amp;utm_campaign=gs_emea_united_kingdom_search_core_brand_atlas_desktop&amp;utm_term=mongodb&amp;utm_medium=cpc_paid_search&amp;utm_ad=e&amp;utm_ad_campaign_id=12212624581&amp;adgroup=115749705343&amp;gclid=Cj0KCQjw08aYBhDlARIsAA_gb0fqvagd7C1P1wisUMChf4hlTUCadi0aLeOpjoOw13tbEzRaSNfonUwaAoppEALw_wcB" rel="noopener ugc nofollow" target="_blank"> MongoDB </a>、<a class="ae kz" href="https://cloud.google.com/datastore" rel="noopener ugc nofollow" target="_blank"> Google Cloud Datastore </a>和<a class="ae kz" href="https://aws.amazon.com/documentdb/" rel="noopener ugc nofollow" target="_blank"> Amazon DocumentDB </a>。</p><p id="1856" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您可以在一个文档中对数据进行建模，该文档可以直接映射到应用程序代码中的模型，因此很容易存储和查询数据。</p><p id="fec8" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">文档数据库没有模式，所以需要时可以很容易地改变数据结构。与键值存储类似，文档存储没有关系。每个文档都是独立的，彼此没有关联。</p><p id="26e4" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">它们可以水平扩展，并迎合<a class="ae kz" href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete" rel="noopener ugc nofollow" target="_blank"> CRUD </a>(创建、读取、更新、销毁)操作。</p><figure class="ms mt mu mv gt iv gh gi paragraph-image"><div class="gh gi np"><img src="../Images/6f0bbbd4a47307d12833456acbe18d3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:782/format:webp/1*hfmlirBK-HdLup2KZttTAQ.png"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk translated">图2:文档存储</figcaption></figure><h2 id="48a8" class="na lb je bd lc nb nc dn lg nd ne dp lk km nf ng lo kq nh ni ls ku nj nk lw nl bi translated"><strong class="ak">文档库的优势</strong></h2><ol class=""><li id="b4ca" class="md me je kd b ke ly ki lz km nm kq nn ku no ky mi mj mk ml bi translated">比键值存储更强大的查询能力:文档存储，不仅限于通过键进行查询。您也可以查询文档中的属性。</li><li id="3b45" class="md me je kd b ke mm ki mn km mo kq mp ku mq ky mi mj mk ml bi translated">处理大量数据:由于其结构，文档存储可以处理大量数据。</li><li id="c435" class="md me je kd b ke mm ki mn km mo kq mp ku mq ky mi mj mk ml bi translated">可伸缩性和高可用性:键值存储的可伸缩性和高可用性优势同样适用于文档存储。</li><li id="fe45" class="md me je kd b ke mm ki mn km mo kq mp ku mq ky mi mj mk ml bi translated">快速开发:如果在建立数据库时不确定数据库模式，并且需要能够根据需要快速、灵活地改变的东西，那么文档存储非常适合这种情况。</li></ol><h2 id="307f" class="na lb je bd lc nb nc dn lg nd ne dp lk km nf ng lo kq nh ni ls ku nj nk lw nl bi translated"><strong class="ak">文档库的缺点</strong></h2><ol class=""><li id="3898" class="md me je kd b ke ly ki lz km nm kq nn ku no ky mi mj mk ml bi translated">无关系:不适合关系数据。</li><li id="64a9" class="md me je kd b ke mm ki mn km mo kq mp ku mq ky mi mj mk ml bi translated">查询:虽然比键-值更强大，但远不及关系数据库的潜在查询能力。</li></ol><h1 id="b430" class="la lb je bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">面向列(宽列)的商店</h1><p id="7f44" class="pw-post-body-paragraph kb kc je kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">面向列的存储是键值存储和关系数据库的混合体。它们基于表，但是没有关系数据库的严格的列格式。它们用于处理大量数据，或大数据。面向列的数据库将记录存储在动态数量的列中。一条记录可以包含数十亿列，并且不是每一列都必须包含一个值。您可以将一行中的一列视为一个键值存储(映射或关联数组)，这导致面向列的数据库是多维的。</p><p id="d701" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">流行的数据库有<a class="ae kz" href="https://cassandra.apache.org/_/index.html" rel="noopener ugc nofollow" target="_blank"> Cassandra </a> ( <a class="ae kz" href="https://aws.amazon.com/keyspaces/" rel="noopener ugc nofollow" target="_blank">亚马逊keyspace</a>)<a class="ae kz" href="https://cloud.google.com/bigtable" rel="noopener ugc nofollow" target="_blank">谷歌BigTable </a>和<a class="ae kz" href="https://hbase.apache.org/" rel="noopener ugc nofollow" target="_blank"> HBase </a>。</p><p id="334c" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">它们用于分析用例，具有很高的性能和可扩展性。关于网飞如何在他们的分析系统中使用Cassandra，请参见参考资料。</p><h2 id="72cd" class="na lb je bd lc nb nc dn lg nd ne dp lk km nf ng lo kq nh ni ls ku nj nk lw nl bi translated"><strong class="ak">直列式商场的优势</strong></h2><ol class=""><li id="2e7f" class="md me je kd b ke ly ki lz km nm kq nn ku no ky mi mj mk ml bi translated">支持半结构化数据:查询比其他NoSQL解决方案更有效。</li><li id="699e" class="md me je kd b ke mm ki mn km mo kq mp ku mq ky mi mj mk ml bi translated">有索引:由于它们的结构，行有索引。</li><li id="3352" class="md me je kd b ke mm ki mn km mo kq mp ku mq ky mi mj mk ml bi translated">高度可扩展:保存大量数据</li></ol><h2 id="d97a" class="na lb je bd lc nb nc dn lg nd ne dp lk km nf ng lo kq nh ni ls ku nj nk lw nl bi translated"><strong class="ak">直列式商店的缺点</strong></h2><ol class=""><li id="df38" class="md me je kd b ke ly ki lz km nm kq nn ku no ky mi mj mk ml bi translated">不适用于关系数据。</li></ol><h1 id="9af2" class="la lb je bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">图形数据库</h1><p id="1ccc" class="pw-post-body-paragraph kb kc je kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">图形数据库在节点/顶点和边中存储数据以表示关系。边是指向其他节点的指针，用来表示这些关系。每个节点代表一个实体。</p><p id="9201" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">流行的图形数据库有<a class="ae kz" href="https://cloud.google.com/blog/products/ai-machine-learning/analyze-graph-data-on-google-cloud-with-neo4j-and-vertex-ai" rel="noopener ugc nofollow" target="_blank"> Neo4J </a>和<a class="ae kz" href="https://aws.amazon.com/neptune/" rel="noopener ugc nofollow" target="_blank">亚马逊Neptune </a>。</p><p id="a9b0" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">构建图形数据库是为了能够快速遍历连接的数据。《出埃及记》遍历用户的社交网络，以找到共同的联系或“他们可能认识的人”。</p><figure class="ms mt mu mv gt iv gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/230b3549154748f58fa10027587a2367.png" data-original-src="https://miro.medium.com/v2/resize:fit:882/format:webp/1*5twqFj5TV2cFJqLsF95swQ.png"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk translated">图3:图形数据库</figcaption></figure><p id="3fc9" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">假设图3表示用户跟随图。边缘指向用户关注的对象。如果我们想给用户B做一个推荐，我们可以遍历这个图，看看这个用户关注谁，然后找到他们关注谁来做推荐。如果你有兴趣学习更多关于图遍历的知识，你可以在这里找到我写的一篇文章。</p><h2 id="f532" class="na lb je bd lc nb nc dn lg nd ne dp lk km nf ng lo kq nh ni ls ku nj nk lw nl bi translated">图形数据库的好处</h2><ol class=""><li id="45c0" class="md me je kd b ke ly ki lz km nm kq nn ku no ky mi mj mk ml bi translated">复杂关系的快速查询:尽管在关系数据库中查询复杂关系是可能的，但是连接越多，预期的延迟就越大。图形数据库提供了更快访问数据的能力。</li><li id="e42e" class="md me je kd b ke mm ki mn km mo kq mp ku mq ky mi mj mk ml bi translated">对现实世界关系建模有用:想想朋友列表、谷歌地图、推荐引擎等。</li><li id="f590" class="md me je kd b ke mm ki mn km mo kq mp ku mq ky mi mj mk ml bi translated">可以提供<a class="ae kz" rel="noopener ugc nofollow" target="_blank" href="/system-design-relational-databases-f45980068a0f">酸</a>交易。</li></ol><h2 id="e109" class="na lb je bd lc nb nc dn lg nd ne dp lk km nf ng lo kq nh ni ls ku nj nk lw nl bi translated">图形数据库的缺点</h2><ol class=""><li id="beb9" class="md me je kd b ke ly ki lz km nm kq nn ku no ky mi mj mk ml bi translated">难以扩展，但却是可能的:由于它们之间复杂的关系，扩展需要计划和技能。</li></ol><h1 id="c3e5" class="la lb je bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">摘要</h1><p id="c4cf" class="pw-post-body-paragraph kb kc je kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">NoSQL数据库是非结构化的、分布式的，不依赖于任何特定的模式。当您需要一个快速、灵活、可伸缩的数据库时，这些属性非常有用。</p><p id="cfc7" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果您想了解更多关于系统设计的主题，我在这个系列中还有一些您可能感兴趣的文章:</p><ul class=""><li id="143f" class="md me je kd b ke kf ki kj km mf kq mg ku mh ky nr mj mk ml bi translated"><a class="ae kz" rel="noopener ugc nofollow" target="_blank" href="/system-design-relational-databases-f45980068a0f">关系数据库</a></li><li id="4c1b" class="md me je kd b ke mm ki mn km mo kq mp ku mq ky nr mj mk ml bi translated"><a class="ae kz" rel="noopener ugc nofollow" target="_blank" href="/system-design-fundamentals-data-replication-and-partitioning-ab109a46b633">数据复制和分区</a></li><li id="f711" class="md me je kd b ke mm ki mn km mo kq mp ku mq ky nr mj mk ml bi translated"><a class="ae kz" rel="noopener ugc nofollow" target="_blank" href="/system-design-fundamentals-load-balancers-e608d30afa65">负载平衡器</a></li><li id="fea3" class="md me je kd b ke mm ki mn km mo kq mp ku mq ky nr mj mk ml bi translated"><a class="ae kz" rel="noopener ugc nofollow" target="_blank" href="/system-design-basics-distributed-systems-9aac8a11177c">分布式系统</a></li></ul><p id="6599" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">感谢阅读！</p><h1 id="5f21" class="la lb je bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">参考</h1><figure class="ms mt mu mv gt iv"><div class="bz fp l di"><div class="ns nt l"/></div></figure><div class="is it gp gr iu nu"><a href="https://www.blazeclan.com/blog/dive-deep-types-nosql-databases/" rel="noopener  ugc nofollow" target="_blank"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd jf gy z fp nz fr fs oa fu fw jd bi translated">4种类型的NoSQL数据库&amp;何时使用它们？</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">在本文中，我们将简要介绍不同类型的NoSQL数据库。除此之外，您还将获得…</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">www.blazeclan.com</p></div></div><div class="od l"><div class="oe l of og oh od oi ja nu"/></div></div></a></div><div class="is it gp gr iu nu"><a href="https://cloud.netapp.com/blog/aws-cvo-blg-aws-nosql-choosing-the-best-option-for-you" rel="noopener  ugc nofollow" target="_blank"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd jf gy z fp nz fr fs oa fu fw jd bi translated">AWS NoSQL:为您选择最佳方案</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">NoSQL数据库使您能够以灵活的模式和各种数据模型存储数据。这些数据库是…</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">cloud.netapp.com</p></div></div></div></a></div><div class="is it gp gr iu nu"><a href="https://netflixtechblog.com/aegisthus-a-bulk-data-pipeline-out-of-cassandra-984882557fa" rel="noopener  ugc nofollow" target="_blank"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd jf gy z fp nz fr fs oa fu fw jd bi translated">aegis thus——Cassandra的批量数据管道</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">持续运行的Hadoop集群处理由任何Cassandra数据源创建的表</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">netflixtechblog.com</p></div></div><div class="od l"><div class="oj l of og oh od oi ja nu"/></div></div></a></div><figure class="ms mt mu mv gt iv"><div class="bz fp l di"><div class="ns nt l"/></div></figure></div></div>    
</body>
</html>