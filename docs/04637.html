<html>
<head>
<title>How to use git stash effectively</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何有效地使用git stash</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-use-git-stash-effectively-d4e04870cc2b?source=collection_archive---------7-----------------------#2020-07-07">https://levelup.gitconnected.com/how-to-use-git-stash-effectively-d4e04870cc2b?source=collection_archive---------7-----------------------#2020-07-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div class="gh gi jq"><img src="../Images/ff02e9e88ec5e81117024bdfba2dfa28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/0*1ktdBFnmh4t8YLjn.png"/></div></figure><p id="e0e7" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">如果您使用Git有一段时间了，您可能会遇到git stash。</p><p id="6a32" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">Git stash帮助您临时保存工作目录中的更改，这样您将获得一个干净的目录。然后，您可以在稍后的git工作流中应用这些更改。</p><p id="2512" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">让我们看一个例子</p><figure class="kw kx ky kz gt ju gh gi paragraph-image"><div class="gh gi kv"><img src="../Images/e4a8b38b705fd2514bf1bb0587e09327.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/0*vC5F5ffydGHh5XBm.png"/></div></figure><p id="580c" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">您可以看到工作目录中有一些变化。您可以使用git stash来保存所有的更改，这样工作目录就会很干净。</p><figure class="kw kx ky kz gt ju gh gi paragraph-image"><div class="gh gi la"><img src="../Images/673f476c5a9ca588c6dd1b93a124294e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1348/format:webp/0*GqvdC5u3EOinbO9r.png"/></div></figure><p id="a180" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">在存储之后，您可以看到工作目录中被跟踪文件的变更已经消失了。还要注意，未被跟踪的文件仍然存在。</p><p id="af6d" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">这些保存的更改可以在将来访问和使用，或者永远保存起来。</p><p id="052c" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">默认情况下，stash不会保存未跟踪的文件。但是如果你仍然需要隐藏你可以使用的未被追踪的文件</p><h2 id="72a6" class="lb lc it bd ld le lf dn lg lh li dp lj ki lk ll lm km ln lo lp kq lq lr ls lt bi translated">列出所有git仓库</h2><p id="2ad5" class="pw-post-body-paragraph jx jy it jz b ka lu kc kd ke lv kg kh ki lw kk kl km lx ko kp kq ly ks kt ku im bi translated">您可以在git目录中多次使用git stash。查看您所有的git仓库</p><pre class="kw kx ky kz gt lz ma mb mc aw md bi"><span id="7328" class="lb lc it ma b gy me mf l mg mh">git stash list</span></pre><figure class="kw kx ky kz gt ju gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/46642319499c2d3d7765c47d452d0902.png" data-original-src="https://miro.medium.com/v2/resize:fit:1034/format:webp/0*x0WZ7ucy-tR3CTIU.png"/></div></figure><p id="6af8" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">在上图中，您可以看到git仓库的列表。</p><p id="0156" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">每个存储都有一个名称、工作目录和HEAD commit。</p><p id="581a" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">Git存储名称和分支非常重要。这有助于你轻松识别藏匿。</p><p id="f676" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">请记住，隐藏工作就像堆栈。最新的库存将在顶部。</p><h2 id="fe73" class="lb lc it bd ld le lf dn lg lh li dp lj ki lk ll lm km ln lo lp kq lq lr ls lt bi translated">使用显示查看存储更改</h2><p id="1806" class="pw-post-body-paragraph jx jy it jz b ka lu kc kd ke lv kg kh ki lw kk kl km lx ko kp kq ly ks kt ku im bi translated">查看已隐藏的更改将会很有用。</p><pre class="kw kx ky kz gt lz ma mb mc aw md bi"><span id="1bc9" class="lb lc it ma b gy me mf l mg mh">git stash show</span></pre><p id="91c9" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">上述命令将显示最新stash@{0}中的更改</p><figure class="kw kx ky kz gt ju gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/116181fa2c3fe175885a69d06ae9684f.png" data-original-src="https://miro.medium.com/v2/resize:fit:804/format:webp/0*Gq4621JXprRzEmih.png"/></div></figure><p id="03f4" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">查看任何特定存储的变化</p><pre class="kw kx ky kz gt lz ma mb mc aw md bi"><span id="f63c" class="lb lc it ma b gy me mf l mg mh">git stash show stash@{2}</span></pre><p id="9a34" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">要查看stash的差异变化，可以使用</p><pre class="kw kx ky kz gt lz ma mb mc aw md bi"><span id="ee06" class="lb lc it ma b gy me mf l mg mh">git stash show -p git stash show stash@{10} -p</span></pre><figure class="kw kx ky kz gt ju gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/8e3714bf23c5d2e8042b30d315522bf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:784/format:webp/0*KUrzS1CuWKMghxT_.png"/></div></figure><h2 id="aaf6" class="lb lc it bd ld le lf dn lg lh li dp lj ki lk ll lm km ln lo lp kq lq lr ls lt bi translated">在工作目录中应用隐藏的更改</h2><p id="d874" class="pw-post-body-paragraph jx jy it jz b ka lu kc kd ke lv kg kh ki lw kk kl km lx ko kp kq ly ks kt ku im bi translated">现在您知道了如何隐藏更改，让我们看看如何在工作目录中应用这些更改。</p><pre class="kw kx ky kz gt lz ma mb mc aw md bi"><span id="180e" class="lb lc it ma b gy me mf l mg mh">git stash apply</span></pre><p id="c23d" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">上述命令将获取最新的stash@{0}并将其应用于工作目录。</p><figure class="kw kx ky kz gt ju gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/4121c3077f20e525a3a2d990085d2483.png" data-original-src="https://miro.medium.com/v2/resize:fit:1314/format:webp/0*9FVietFYOhUrU-BS.png"/></div></figure><p id="9124" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">在上图中，您可以看到最新存储中的更改已被应用。</p><p id="3477" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">要应用特定的存储，您可以使用</p><pre class="kw kx ky kz gt lz ma mb mc aw md bi"><span id="9886" class="lb lc it ma b gy me mf l mg mh">git stash apply stash@{5}</span></pre><p id="d3a4" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><strong class="jz iu">使用pop </strong></p><p id="97e0" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">在工作目录中应用存储还有另一种选择。</p><pre class="kw kx ky kz gt lz ma mb mc aw md bi"><span id="7815" class="lb lc it ma b gy me mf l mg mh">git stash pop</span></pre><p id="7bbf" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">此命令将应用最新存储的更改，并将从存储列表中删除该存储。</p><p id="a095" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">应用存储后，如果不再需要存储，请使用此命令。</p><p id="af20" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">使用<strong class="jz iu">应用</strong>当你需要应用存储时，你仍然不想从列表中删除存储。</p><h2 id="fdbe" class="lb lc it bd ld le lf dn lg lh li dp lj ki lk ll lm km ln lo lp kq lq lr ls lt bi translated">删除一批货</h2><pre class="kw kx ky kz gt lz ma mb mc aw md bi"><span id="75fd" class="lb lc it ma b gy me mf l mg mh">git stash drop</span></pre><p id="22a2" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">这将删除最新的存储。</p><pre class="kw kx ky kz gt lz ma mb mc aw md bi"><span id="1554" class="lb lc it ma b gy me mf l mg mh">git stash drop stash@{10}</span></pre><p id="f6b4" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">这将放弃特定的藏匿。</p><h2 id="3bd2" class="lb lc it bd ld le lf dn lg lh li dp lj ki lk ll lm km ln lo lp kq lq lr ls lt bi translated">从git stash创建一个分支</h2><pre class="kw kx ky kz gt lz ma mb mc aw md bi"><span id="f2e5" class="lb lc it ma b gy me mf l mg mh">git stash branch &lt;branch_name&gt; stash@{5}</span></pre><p id="3475" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">这个命令将用指定的存储名称创建一个新的分支。这将像<strong class="jz iu"> pop一样从列表中删除隐藏。</strong></p><p id="831e" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">感谢你的阅读，希望你学到了新的东西:)</p><p id="ef72" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><strong class="jz iu">你可以在这里找到我的其他git相关文章</strong></p><pre class="kw kx ky kz gt lz ma mb mc aw md bi"><span id="5250" class="lb lc it ma b gy me mf l mg mh">1. <a class="ae mm" rel="noopener ugc nofollow" target="_blank" href="/how-to-use-git-blame-effectively-6228f3f7da5d">How to use git blame effectively</a></span><span id="99a8" class="lb lc it ma b gy mn mf l mg mh">2. <a class="ae mm" rel="noopener ugc nofollow" target="_blank" href="/how-to-squash-git-commits-9a095c1bc1fc">How to squash git commits</a></span><span id="07b7" class="lb lc it ma b gy mn mf l mg mh">3. <a class="ae mm" rel="noopener ugc nofollow" target="_blank" href="/how-to-rewrite-the-latest-commit-with-git-amend-48a8d5f27758">How to rewrite the latest commit with git amend</a></span><span id="b3e4" class="lb lc it ma b gy mn mf l mg mh">4. <a class="ae mm" rel="noopener ugc nofollow" target="_blank" href="/useful-tricks-you-might-not-know-about-git-log-ed5ac32625ef">Useful tricks you might not know about git log</a></span><span id="25d0" class="lb lc it ma b gy mn mf l mg mh">5. <a class="ae mm" rel="noopener ugc nofollow" target="_blank" href="/how-git-revert-works-9b87b8b03dd3">How git revert works</a></span><span id="ae45" class="lb lc it ma b gy mn mf l mg mh">6. <a class="ae mm" rel="noopener ugc nofollow" target="_blank" href="/what-is-git-cherry-pick-and-how-to-use-it-effectively-665247192442">How git cherry-pick works and how to use it effectively</a></span><span id="5975" class="lb lc it ma b gy mn mf l mg mh">7. <a class="ae mm" rel="noopener ugc nofollow" target="_blank" href="/automate-repetitive-tasks-with-custom-git-commands-76a4b71d262f">Automate repetitive tasks in Git</a></span><span id="2fbf" class="lb lc it ma b gy mn mf l mg mh">8. <a class="ae mm" rel="noopener ugc nofollow" target="_blank" href="/how-to-use-git-fetch-and-git-pull-effectively-c6a4becfbc16">Useful tricks of git fetch and git pull</a></span><span id="47a4" class="lb lc it ma b gy mn mf l mg mh">9. <a class="ae mm" href="https://medium.com/@srebalaji/a-very-basic-intro-of-git-b9cab0e64153" rel="noopener">A very basic intro of Git</a></span></pre><blockquote class="mo mp mq"><p id="e9a7" class="jx jy mr jz b ka kb kc kd ke kf kg kh ms kj kk kl mt kn ko kp mu kr ks kt ku im bi translated">如果你来了这么久，我想你会对Git很感兴趣。可以订阅我的简讯<a class="ae mm" href="https://gitbetter.substack.com/" rel="noopener ugc nofollow" target="_blank"><em class="it">GitBetter</em></a><em class="it">获取Git的招数、技巧、高级话题。</em></p></blockquote></div></div>    
</body>
</html>