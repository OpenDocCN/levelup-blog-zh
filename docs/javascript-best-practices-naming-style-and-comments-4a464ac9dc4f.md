# JavaScript 最佳实践—命名、样式和注释

> 原文：<https://levelup.gitconnected.com/javascript-best-practices-naming-style-and-comments-4a464ac9dc4f>

![](img/2dbed9f8ff378d35723b60300d79010e.png)

米歇尔·卡塔利萨诺在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片

像任何其他编程语言一样，JavaScript 有自己的最佳实践列表，使程序更容易阅读和维护。JavaScript 有许多棘手的部分，这意味着我们应该避免某些模式或特性。我们可以遵循一些最佳实践来使我们的 JavaScript 代码易于阅读。

在本文中，我们将研究一些使代码易于阅读的最佳实践。我们关注变量和函数命名，避免全局变量，保持严格的编码风格，适度地注释代码。

# 变量、函数和类的简单、简短和易读的名称

函数名应该简短而有意义。例如，如果我们想创建一个变量来存储某人的生日，它应该有一个表明这一点的名称。

这意味着它不应该是一个像`b`这样的名字，但也不应该是一个像`veryVeryVeryLongBirthdayName`这样带有无关词汇的东西。将它命名为`birthday`将是合适的。

此外，要避免在名称中将价值和功能结合起来。例如，如果我们想写一个函数来检查某人是否超过成年年龄，我们应该将其命名为`isAdult()`而不是`isOverEighteen()`。

这也更有意义，因为不是每个地方都把 18 岁作为成年年龄。

我们也可以考虑用匈牙利符号来命名变量和函数。该符号将返回类型和名称合二为一。由于 JavaScript 函数没有固定的返回类型，我们可以为函数的类型添加一个前缀。

例如，如果我们想用我们的`isAdult()`函数返回一个布尔值，我们可以写`bIsAdult()`，用`b`表示它是一个布尔值。

用英文保存名字也是一个好主意，因为它使所有的东西与代码的其余部分保持一致。所有像`function`和`new`这样的保留字都是英文的，所以保持其他都是英文是一致的。

英语也是一种更加国际化的语言，所以开发人员更有可能懂英语。

类是构造其他对象的函数，因此它们的命名应该反映这一点。例如，如果我们有一个构造 person 对象的类，那么它们应该被命名为`Person`。

类名应该是大写的，并且表明我们正在从它创建什么样的对象。

# 避免全局变量和函数

在 JavaScript 中，文件中运行的所有东西都在同一个范围内运行。这是一个真正的问题，因为东西很容易被无意中修改和引用。

幸运的是，从 ES6 开始，JavaScript 有几个特性可以处理这个问题。一个是模块的使用。对于模块，只有我们显式导出的内容才可供其他模块使用。

还应该启用 JavaScript 严格模式，以防止意外声明全局变量。在严格模式下，如果前面没有关键字`var`、`let`或`const`，类似于`x = 1`的内容会导致错误。

另外`let`和`const`分别是声明块范围变量和常量的关键字，所以我们不会在块外意外引用它。

例如，如果我们用`var`编写以下代码:

```
if (true) {
  var x = 1;
}
console.log(x);
```

我们将从`console.log`中看到 1，因为它不是块范围的。

另一方面，如果我们用`let`代替`var`:

```
if (true) {
  let x = 1;
}
console.log(x);
```

然后我们得到错误“未捕获的引用错误:x 未定义。”

正如我们所看到的，我们不能在我们不期望的地方引用事物。

另一种方法是将我们希望私有的东西包装在一个函数中。

例如，我们可以写:

```
(function() {
  var x = 1;
})();console.log(x);
```

我们还会得到错误“未捕获的引用错误:x 未定义。”一个函数在被声明后立即运行，我们称之为立即调用函数表达式，简称 IIFE。

如果我们想在上面的生活中暴露一些东西，我们可以像下面这样返回我们想要的东西:

```
let foo = (function() {
  var x = 1;
  return {
    bar: 2
  }
})();
console.log(foo.bar);
```

我们返回了一个具有`bar`属性的对象，并将其分配给`foo`。那么我们应该从`console.log`输出中得到 2。

![](img/26bd1c37dc9ff5145d5c197325ad8191.png)

[莫哈乌·曼纳瑟科](https://unsplash.com/@mohaumannathoko?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片

# 保持严格的编码风格

如果团队中的每个开发人员决定如何对代码进行样式化，他们将有自己的风格。

这意味着代码在不同的地方会有不同的风格，使得代码难以阅读。

正因为如此，保持风格一致是个好主意。我们可以用 ESLint 或 JSLint 之类的程序自动设计我们的代码，它们对我们的代码进行静态检查，以确保它符合设定的风格。

还有一些工具，比如更漂亮的，可以通过我们的代码库以一致的方式格式化代码。

干净的代码易于阅读和维护。它不应该有令人难以阅读和调试的东西。

# 需要时进行注释

虽然许多代码都是不言自明的，但有些代码需要澄清。例如，如果代码是一个复杂系统的一部分，那么它可能需要一些注释来澄清。

几行长的简单函数可能不需要太多解释。

如果我们写注释，我们应该使用多行注释`/* */`而不是单行注释`//`，因为它们更通用。

注释的一个便利技巧是在结束多行注释之前用双斜线书写，如下所示:

```
/*
  function foo(){
    return 1
  };  
// */
```

这样，我们可以通过在第一行的左斜杠前加一个斜杠来取消对代码的注释:

```
//*
  function foo(){
    return 1
  };  
// */
```

上面的代码未被注释。

许多文本编辑器也应该足够智能，能够自动注释和取消注释 JavaScript 代码。

变量和函数应该以一种方式命名，表明它们分别存储什么或做什么。一般来说，类应该以大写字母开头，并且应该根据它们所实例化的对象的种类来命名。

我们应该避免全局变量，因为它们可能会被意外引用并导致无意的修改。我们可以在函数或模块中保持私有。

使代码易于阅读。保持严格的编码风格是很重要的，这样我们在阅读代码的时候就不会产生任何混乱。

最后，如果有难以理解的部分，我们可以适度地对代码进行评论。