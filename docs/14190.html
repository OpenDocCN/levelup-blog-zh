<html>
<head>
<title>Handling Props in Vue 3 Composition API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Vue 3合成API中处理道具</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/handling-props-in-vue-3-composition-api-8242ee07d089?source=collection_archive---------3-----------------------#2022-11-08">https://levelup.gitconnected.com/handling-props-in-vue-3-composition-api-8242ee07d089?source=collection_archive---------3-----------------------#2022-11-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4b94" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Vuejs 3中的props与Composition API简介</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/90fc69f9d25e295ac675f9e7be7d4a4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2ihYK0ZgVtUNcfe9"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@kovacsz1?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Z S </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="29fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">vue . js中有哪些道具？</strong></p><p id="4a7d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Props，意思是属性，用于将信息从一个组件传递到另一个组件，通常是以单向方式从父组件传递到子组件。</p><p id="25ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这意味着道具不能从子组件传递到父组件。在需要将数据从子组件传递到父组件的情况下，需要向父组件发出某个事件。(下图中的插图)</p><p id="93db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是道具从父组件到子组件的一般流程。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/deaa74f78603e1c2b0dc2d39e7169e8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tlngWarUQe1NgrO5HB9LEw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者:凯文·胡</figcaption></figure><p id="edb3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从Vuejs 2选项API开始，我们处理和使用道具的方式有了一点改变。</p><p id="c317" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">为什么要使用道具</strong></p><p id="8645" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们主要使用props将数据从父组件传递到子组件。您可以将尽可能多的道具传递给子组件，只需注意不要落入组件中的道具钻孔中。</p><p id="b786" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">道具类型</strong></p><p id="0398" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可以使用JavaScript中可用的各种数据类型来声明属性类型。<br/>这些属性类型中的一些可以采用整数、字符串、布尔、函数、对象、日期甚至符号的类型。</p><p id="6fb5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">道具名称外壳</strong></p><p id="1dd4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在声明属性时，建议在将属性传递给子组件时使用camelCase和kebab-case。请参见下面的示例代码。</p><p id="1803" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将道具传递给子组件</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="52c2" class="mb mc it lx b gy md me l mf mg">//here we pass user-name prop in kebab-case</span><span id="2f86" class="mb mc it lx b gy mh me l mf mg">&lt;ChildComponent user-name="John Doe" /&gt;</span></pre><p id="e186" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">申报道具</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="a24c" class="mb mc it lx b gy md me l mf mg">withDefaults(<br/> defineProps&lt;{</span><span id="4b9b" class="mb mc it lx b gy mh me l mf mg">//here we use camelCasing to declare props<br/>userName: string;</span><span id="ce58" class="mb mc it lx b gy mh me l mf mg"> }&gt;(),<br/> {},<br/>);</span></pre><p id="2611" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">道具申报</strong></p><p id="f35c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Vuejs中的组件必须声明props，以允许Vuejs知道传入的props以及如何在应用程序中处理它们。在composition API中，我们使用<code class="fe mi mj mk lx b">defineProps</code>宏来声明props。</p><p id="1338" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用object语法声明props采用<strong class="lb iu">【key:value】</strong>对的形式，key是prop名称，value是prop名称的类型。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="a4b1" class="mb mc it lx b gy md me l mf mg">const props = withDefaults(<br/> defineProps&lt;{<br/>  userName: string;<br/>  avatar: string;<br/> }&gt;(),<br/> {},<br/>);</span></pre><p id="7bdb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们也可以将props声明为字符串数组，如下所示</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="4b98" class="mb mc it lx b gy md me l mf mg">defineProps(['userName','avatar'])</span></pre><p id="1283" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">静态与动态道具</strong></p><p id="a195" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">很多时候，我们需要传递带有动态/变化值的道具。在上面的例子中，我们一直在处理静态属性值。</p><p id="bb43" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当处理动态道具值时，我们需要使用<code class="fe mi mj mk lx b">v-bind</code>指令或简写<code class="fe mi mj mk lx b">:</code>来绑定道具。我们可以分配如下所示的动态道具值。也不是说你总是可以传递尽可能多的道具，而是注意不要传递太多的道具。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="1d04" class="mb mc it lx b gy md me l mf mg"><br/>&lt;UserProfile :user-name="profile.username" /&gt;</span></pre><p id="4946" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">验证道具并设置默认值</strong></p><p id="e252" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">默认情况下，属性被认为是可选的，除非在组件中指定为必需的。在验证props时，我们需要告诉vue js prop值所需的类型。我们还可以设置缺省值，以防缺少道具。</p><p id="d46a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请记住，当您使用默认属性值时，当属性名称为<code class="fe mi mj mk lx b">undefined</code>或属性值不存在时，将使用默认值。</p><p id="eb05" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请参见下面的示例。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="3cd4" class="mb mc it lx b gy md me l mf mg">const props = withDefaults(<br/> defineProps&lt;{<br/>  userName: string;<br/>  selectedProducts?: Product[];<br/> }&gt;(),<br/> {<br/>  selectedProducts: () =&gt; {<br/>   return [];<br/>  },<br/> },<br/>);</span></pre><p id="655d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">类似地，我们可以用另一种方式编写上面显示的验证。见下文。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="5f7b" class="mb mc it lx b gy md me l mf mg">defineProps({<br/>  userName: {<br/>    type: String,<br/>    required: true<br/>  },<br/>  selectedProducts: {<br/>    type: Product[],<br/>    default() {<br/>      return [];<br/>    }<br/>  }<br/>})</span></pre><p id="b9f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">结论</strong></p><p id="a03c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您花时间阅读到目前为止。</p><p id="d367" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">偶尔，我会发一封独家邮件，里面有我发现的有用的和与技术写作相关的技巧、文章、应用程序、书籍和想法👇。</p><p id="61a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://artisanal-thinker-2556.ck.page/6e2ba71172" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> <em class="ml">加入像你一样想提高写作技巧的人。</em> </strong> </a></p><p id="1491" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">更读</strong></p><div class="mm mn gp gr mo mp"><a rel="noopener  ugc nofollow" target="_blank" href="/vuejs-3-migrating-from-options-to-composition-api-e8a765e57b8d"><div class="mq ab fo"><div class="mr ab ms cl cj mt"><h2 class="bd iu gy z fp mu fr fs mv fu fw is bi translated">Vuejs 3:从选项迁移到组合API</h2><div class="mw l"><h3 class="bd b gy z fp mu fr fs mv fu fw dk translated">轻松切换到组合API</h3></div><div class="mx l"><p class="bd b dl z fp mu fr fs mv fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="my l"><div class="mz l na nb nc my nd ks mp"/></div></div></a></div><div class="mm mn gp gr mo mp"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-handle-routing-with-vue-router-in-vue-3-59095af9c07a"><div class="mq ab fo"><div class="mr ab ms cl cj mt"><h2 class="bd iu gy z fp mu fr fs mv fu fw is bi translated">在Vue 3中如何用Vue路由器处理路由</h2><div class="mw l"><h3 class="bd b gy z fp mu fr fs mv fu fw dk translated">使用Vue Router 4进行路由:完整指南</h3></div><div class="mx l"><p class="bd b dl z fp mu fr fs mv fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="my l"><div class="ne l na nb nc my nd ks mp"/></div></div></a></div></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><h1 id="0e5e" class="nm mc it bd nn no np nq nr ns nt nu nv jz nw ka nx kc ny kd nz kf oa kg ob oc bi translated">分级编码</h1><p id="a7df" class="pw-post-body-paragraph kz la it lb b lc od ju le lf oe jx lh li of lk ll lm og lo lp lq oh ls lt lu im bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="650e" class="oi oj it lb b lc ld lf lg li ok lm ol lq om lu on oo op oq bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="d30f" class="oi oj it lb b lc or lf os li ot lm ou lq ov lu on oo op oq bi translated">📰查看<a class="ae ky" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">升级编码出版物</a>中的更多内容</li><li id="9a38" class="oi oj it lb b lc or lf os li ot lm ou lq ov lu on oo op oq bi translated">🔔关注我们:<a class="ae ky" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae ky" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae ky" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="cf1c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">🚀👉<a class="ae ky" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">加入升级人才集体，找到一份神奇的工作</strong> </a></p></div></div>    
</body>
</html>