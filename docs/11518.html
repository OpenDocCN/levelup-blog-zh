<html>
<head>
<title>Roman To Numbers To Roman in C#</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">C#中罗马数字到罗马数字的转换</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/roman-to-numbers-to-roman-in-c-12c6aa7e2ac7?source=collection_archive---------21-----------------------#2022-03-22">https://levelup.gitconnected.com/roman-to-numbers-to-roman-in-c-12c6aa7e2ac7?source=collection_archive---------21-----------------------#2022-03-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="5d0f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">除了它非常混乱的标题，我有一桶令人困惑的代码❤只为你所有的好家伙在那里！</p><p id="bde3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以系好你的安全带，为这次颠簸的旅程做好准备。</p><p id="da3b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们今天的菜单上有两个项目，Leetcode的问题编号<a class="ae kl" href="https://leetcode.com/problems/integer-to-roman/" rel="noopener ugc nofollow" target="_blank"> 12。整数到罗马</a>和<a class="ae kl" href="https://leetcode.com/problems/roman-to-integer/" rel="noopener ugc nofollow" target="_blank"> 13。罗马到整数</a>。</p><p id="d886" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">问题#12的好消息是，考虑到消化它们需要时间，我做了两种方法。让我们暂时把问题#12放在一边，从可爱的小问题# 13开始。</p></div><div class="ab cl km kn hu ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="ij ik il im in"><h1 id="b110" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">13.罗马到整数</h1><p id="e9d8" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">这个问题很简单。您将罗马数字作为输入参数，并且必须返回它各自的整数。</p><p id="a4d9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我们进入逻辑之前，我强烈建议你们在这里详细阅读问题<a class="ae kl" href="https://leetcode.com/problems/roman-to-integer/" rel="noopener ugc nofollow" target="_blank"/>。如果你懒得浏览这个链接，这里有一个问题的快照。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi lw"><img src="../Images/f5959c78b83a4841214a3268453cbaf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GsE0H-mSuS2jJaZ4QEQOVw.png"/></div></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk translated">Leetcode的罗马到整数的快照</figcaption></figure><p id="6e8c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当我解决这个问题时，有一个测试用例失败了多次。这意味着我应该从简单的开始，对吗？拜托，我们在开什么玩笑，我决定以那个凶猛的数字为例，它是数字中的<code class="fe mm mn mo mp b">“MCMXCIV”</code>转换回<code class="fe mm mn mo mp b">1994</code>。</p><h1 id="725b" class="kt ku iq bd kv kw mq ky kz la mr lc ld le ms lg lh li mt lk ll lm mu lo lp lq bi translated">逻辑</h1><p id="56fe" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">所以我们需要一个数据结构来存储罗马数字及其相应的整数。例如对于<code class="fe mm mn mo mp b">‘I’</code>我们需要<code class="fe mm mn mo mp b">1</code>，对于<code class="fe mm mn mo mp b">‘V’</code>我们将映射<code class="fe mm mn mo mp b">5</code>。</p><p id="e1b0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们充分利用这本字典，好吗？</p><p id="6d50" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这里，我们所要做的就是<strong class="jp ir">减法</strong>或者<strong class="jp ir">加法</strong>。<strong class="jp ir"> <em class="mv">就是这样！</em> </strong></p><ul class=""><li id="e5e1" class="mw mx iq jp b jq jr ju jv jy my kc mz kg na kk nb nc nd ne bi translated">例如，如果输入字符串是<code class="fe mm mn mo mp b">“III”</code>，那么我们添加<code class="fe mm mn mo mp b">1+1+1 = 3</code></li><li id="ec06" class="mw mx iq jp b jq nf ju ng jy nh kc ni kg nj kk nb nc nd ne bi translated">如果字符串是<code class="fe mm mn mo mp b">“IV”</code>，那么我们将当前罗马元素<code class="fe mm mn mo mp b">“I”</code>与其下一个罗马元素<code class="fe mm mn mo mp b">“V”</code>进行比较。如果下一个元素的数值大于当前元素的值，我们将减去否则我们添加。你的小脑袋瓜就知道这些，不是吗？这是一个赏心悦目的例子。</li><li id="a7d9" class="mw mx iq jp b jq nf ju ng jy nh kc ni kg nj kk nb nc nd ne bi translated"><code class="fe mm mn mo mp b">I = 1</code>，<code class="fe mm mn mo mp b">V = 5</code>:这里<code class="fe mm mn mo mp b">V &gt; I</code>所以我们减去，<code class="fe mm mn mo mp b">1 — 5 = -4</code>然后对于最后一个元素<code class="fe mm mn mo mp b">“V”</code>只需将它各自的值<code class="fe mm mn mo mp b">“5”</code>加到等式<code class="fe mm mn mo mp b">-4 + 5 = 4</code>中，这就是你的最终答案。</li></ul><p id="fca6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">仅此而已。这就是你的全部和灵魂逻辑。</p><p id="4a9f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，对于我们的例子<code class="fe mm mn mo mp b">1994</code>，我已经创建了一个流程图，通过这个流程图，你会对我们的逻辑如何在每次迭代中工作有一个大概的了解。</p><p id="d534" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi nk translated"><span class="l nl nm nn bm no np nq nr ns di"> N </span> <strong class="jp ir">注:</strong>在比较下一个元素时，我们会在到达最后一个元素时遇到一个<code class="fe mm mn mo mp b">Array IndexOutofBoundsException</code>。这是因为我们已经用完了数组长度。对于最后一个<code class="fe mm mn mo mp b">i-th</code>元素，我们没有<code class="fe mm mn mo mp b">i+1</code>元素。所以我们也需要注意验证。更多工作太棒了！</p><ul class=""><li id="45a2" class="mw mx iq jp b jq jr ju jv jy my kc mz kg na kk nb nc nd ne bi translated">在上面的<code class="fe mm mn mo mp b">“IV”</code>的例子中，当指针到达<code class="fe mm mn mo mp b">“V”</code>时，我们将简单地增加<code class="fe mm mn mo mp b">“V”</code>的值并退出循环。我知道这会让人困惑。这就是为什么我创造了这个美丽的流程图。</li></ul><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nt"><img src="../Images/fc51718eb8dceacfe6063e0d8108368b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uYFzBI_uzsbW92Y0lxXwYQ.png"/></div></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk translated">罗马数字的流程图和迭代。</figcaption></figure><p id="396b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦你通过流程图理解了逻辑，实际的代码就非常简单了。</p><p id="065c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">清单1:romanton number . cs；时间复杂度为O(n)，空间复杂度为O(n) </strong></p><figure class="lx ly lz ma gt mb"><div class="bz fp l di"><div class="nu nv l"/></div></figure></div><div class="ab cl km kn hu ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="ij ik il im in"><h1 id="21da" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">12.整数到罗马</h1><p id="5882" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">在前一个问题中，我们看到了如何将罗马数字转换为数值，在这个问题中，我们将做完全相反的事情。<br/>这是<a class="ae kl" href="https://leetcode.com/problems/integer-to-roman/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> leetcode的问题#12 </strong> </a>，难度设置为<strong class="jp ir">中等</strong>。我们上次做的是比较当前和下一个罗马字符，并执行基本的加法和减法。<br/>这个问题差不多，多余的地方很少。我说的额外空间是什么意思？让我想想。</p><p id="75af" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一个问题的快照，</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nw"><img src="../Images/4b8773cc5e82fe312ac8fa4239bc6de2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wfd6Fu5mqttqedLR6tuBPA.png"/></div></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk translated">Leetcode的罗马到整数的快照</figcaption></figure><h1 id="0fee" class="kt ku iq bd kv kw mq ky kz la mr lc ld le ms lg lh li mt lk ll lm mu lo lp lq bi translated">逻辑</h1><p id="93a6" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">有两种解决方法。第一个复杂度为O(n*m ),第二个复杂度为O(n)。两个都看看吧。</p><h1 id="3ef7" class="kt ku iq bd kv kw mq ky kz la mr lc ld le ms lg lh li mt lk ll lm mu lo lp lq bi translated">第一种方法</h1><p id="f4d0" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">这个问题我们需要的数据结构是一个<strong class="jp ir">字典</strong>。因为我们需要再次存储键值对<strong class="jp ir">！</strong>之前我提到过我们需要额外的空间，我们需要额外的空间来处理这6种情况。我们可以使用if-else语句或switch cases来处理这些条件，或者简单地将这些值作为字典的一部分添加到数据结构中。</p><p id="9e93" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于逻辑，我们所要做的就是按照从大到小的<strong class="jp ir">逆序</strong>遍历字典。<strong class="jp ir">提示:你也可以以逆序存储字典值</strong>，这里只是为了演示，我使用的是字典的<strong class="jp ir"> Reverse() </strong>方法。</p><p id="d2dc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于字典中的每一项，我们需要比较数字，并在每次迭代中缩小数字。不明白，对吧？我就知道。让我们用一个例子来调试它。</p><p id="c543" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们把<code class="fe mm mn mo mp b">“350”</code>作为输入，</p><ul class=""><li id="5b67" class="mw mx iq jp b jq jr ju jv jy my kc mz kg na kk nb nc nd ne bi translated">我们将开始以相反的顺序遍历字典。</li><li id="1b4f" class="mw mx iq jp b jq nf ju ng jy nh kc ni kg nj kk nb nc nd ne bi translated">将<code class="fe mm mn mo mp b">“350”</code>与字典中的每个值进行比较，直到我们找到一个小于<code class="fe mm mn mo mp b">“350”</code>的值。那会带我们去<code class="fe mm mn mo mp b">“100”</code>。从那里我们将开始缩小数字<code class="fe mm mn mo mp b">“350”</code>直到<code class="fe mm mn mo mp b">“350”</code>小于字典中的下一个值。</li><li id="d54a" class="mw mx iq jp b jq nf ju ng jy nh kc ni kg nj kk nb nc nd ne bi translated">这将需要3轮<code class="fe mm mn mo mp b">“100”</code>，即<code class="fe mm mn mo mp b">100 * 3 = “CCC”</code>，现在我们只剩下<code class="fe mm mn mo mp b">“50”</code>，我们将继续向下遍历，直到找到<code class="fe mm mn mo mp b">“50”</code>，现在我们收缩<code class="fe mm mn mo mp b">“50”</code>。</li><li id="095d" class="mw mx iq jp b jq nf ju ng jy nh kc ni kg nj kk nb nc nd ne bi translated">将<code class="fe mm mn mo mp b">50 = “L”</code>连接到结果。所以我们的最终结果是<code class="fe mm mn mo mp b">“CCCL”</code></li><li id="74a7" class="mw mx iq jp b jq nf ju ng jy nh kc ni kg nj kk nb nc nd ne bi translated">我们将检查<code class="fe mm mn mo mp b">number is &lt;= 0</code>是否是，如果是，则中断循环并返回结果。</li></ul><p id="0c91" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要了解执行流程，请参考下面的流程图。举个例子，我们使用同样可怕的数字<code class="fe mm mn mo mp b">1994</code>。您将了解我们如何在每次迭代中更新数字。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nx"><img src="../Images/e8ee80fcedf0201bb9321fb631aaa570.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*By17Yx1DvlIr9WUPatKp5g.png"/></div></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk translated">流程图和罗马数字的迭代。</figcaption></figure><p id="f74b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦你理解了其中的逻辑，代码就像往常一样简单明了。</p><p id="055f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">清单2: Approach1.cs，时间复杂度为O(n * m)，空间复杂度为O(n) </strong></p><figure class="lx ly lz ma gt mb"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="c87a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi nk translated">注意:之所以推荐这个解决方案，是因为在这里你不必像我们使用字典那样手动映射键和它们的值。但是这里我们有时间复杂度为O(n * m) 的<strong class="jp ir">，有空间复杂度为O(n) </strong>的<strong class="jp ir">。我们可以将这个解决方案扩展到O(n ),但是代价是增加了空间复杂度。让我们这样做，为此我们需要两个数组，一个保存罗马字母，另一个保存数字。</strong></p><h1 id="6b35" class="kt ku iq bd kv kw mq ky kz la mr lc ld le ms lg lh li mt lk ll lm mu lo lp lq bi translated">第二种方法</h1><p id="3c28" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated"><strong class="jp ir">清单3:方法2，时间复杂度为O(n)，空间复杂度为O(n + m) </strong></p><figure class="lx ly lz ma gt mb"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="a144" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这个解决方案中，我们优化了时间复杂度为O(n)的代码，但现在空间复杂度为O(n+m)。</p><p id="7bdb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这取决于你选择自己的冒险方式。</p><p id="e687" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我的感觉是，第二种方法可能会导致用户错误。在输入的时候，我可以很容易地错配任何一个数组中的元素。所以我必须跟踪键和值对，以确保每个键都代表它自己的值。对于这个问题的范围来说，输入是有限的，这没什么，但是如果将来输入扩大了，那么就会产生问题。</p><p id="ae6c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但这是另一天的讨论。在那之前祝你愉快。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi ny"><img src="../Images/e7e49addec70af7b4eec4bd2ee24b46f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*aeYMenWAfDFsl1LX"/></div></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk translated">照片由<a class="ae kl" href="https://unsplash.com/@wocintechchat?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">克里斯蒂娜@ wocintechchat.com</a>在<a class="ae kl" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="3e27" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">干杯</p><p id="fb98" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">里卡姆。</p><div class="nz oa gp gr ob oc"><a href="https://www.linkedin.com/in/rikampalkar/" rel="noopener  ugc nofollow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd ir gy z fp oh fr fs oi fu fw ip bi translated">Rikam Palkar -软件工程师-小天鹅-威德福| LinkedIn</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">通过编写可伸缩的代码让世界变得更美好。我从来没有在大学里发现我对编码的热情，也没有在…</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">www.linkedin.com</p></div></div><div class="ol l"><div class="om l on oo op ol oq mg oc"/></div></div></a></div></div></div>    
</body>
</html>