# 绩效团队的注意事项

> 原文：<https://levelup.gitconnected.com/dos-and-don-ts-for-performance-teams-7f52c41b5355>

> 大致正确，希望有所帮助

![](img/79c909d68ad70108d881c82e9a03298d.png)

凯利·西克玛在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片

这篇文章是关于为成功建立你的表演团队。这是关于目标、实践和管理，而不是技术问题。如果您正在寻找一篇关于现代处理器上的局部性的重要性的文章，您现在应该停止阅读。

在绩效团队中工作就像跑马拉松一样。我想每个人都记得那些令人惊叹的事情发生的时候。当你通过大量的努力工作获得了一些巨大的成果，但是那些推动往往是例外。我想也许 perf 的人会对那些时刻上瘾。他们确实帮助你度过其他时间。

我超越了自己。

## 导言和背景

许多年前，一个朋友(谢谢你 Jason)向我介绍了表演的“进攻”和“防守”的说法。这很有趣，因为我用了更复杂的词来描述它，当他说“进攻和防守”时，我认为这是一种解释这种情况的简单方式。每个人都记得冒犯，组织立即重视它。那是“英雄时间”但是，实际上，你的防守很好。好的防守需要你在表现最好的人中发现的对细节的日常关注。

所以，为了让你的组织工作，你需要它在两方面都有效。根据经验，我可以告诉你，防守很容易筋疲力尽。那是堑壕战的部分。即使是最好的组织也受到工程正常熵的困扰——平均变化对绩效的负面影响远远大于正面影响。这只是一个数学问题。

防守如此重要，作为一名经理，你可能会试图围绕它设定很多目标。“不倒退”、“守住底线”等。那很好。但是，尽管这很诱人，如果你对你的表演团队提出这样的要求，他们都会退出。固执的人可能会花更长的时间，但最终，你会一无所有。你肯定不会有你想要的摇滚明星。那你是做什么的？良好的防守至关重要。

先说一些不幸的现实吧。首先，尽管这非常困难，但在讲故事的时候，防守的结果很少发挥作用。当然也有例外，但是作为一个规则，当你谈论超级巨星的时候，你很少讲述这五个人是如何坚持到底的。即使你尝试了，也很难推销。你可能会听到类似“我们本可以通过让所有人回家来守住防线”这样的回答，这完全令人恼火。另一方面，你可能会听到“我们阻止了 25 次大约 5-7%的回归”，但这在相反的方向上是有问题的。回归可以是任意坏的，事实上坏的回归通常是最容易发现和修复的。所以，如果你阻止了 2000%的回归，那几乎肯定比阻止 0.2%的回归要容易。正是这些剪纸最终杀死了你。如果你的代码以任何频率搅动，那么每次迭代 0.2%将意味着死亡。

很好，所以为了完成你的工作，你必须找到并修正 0.2%的回归，如果你失败了，你就完蛋了，如果你成功了，没人会被打动。哇！这是一份非常棒的工作！每个人都应该这样做！

看看进攻，情况同样不稳定。如果你发现代码有 50%的改进，更有可能的是代码一开始就很糟糕，你只是让它变得不那么糟糕，而不是你是个天才，你想出了一个超级聪明的方法来以两倍的速度解决问题。事实上，巨大的性能提升几乎肯定是巨大的现有错误的结果，而不是修复中的精英工程。

实际上，积累的小胜利往往是最难的，也是最好的工作。通过进行一系列清理，成功挤出另外 10%的代码的工程师可能是最聪明的。同样，令人沮丧的是，艰苦的工作看起来不那么令人印象深刻。如果 Jane 将你的时间提高了 28 %, Nancy 提高了 7%,这是否意味着 Jane 在发现和解决问题方面比 Nancy 强 4 倍？她可能是，但不是因为那两个数字。

我们该怎么办？你是如何认可和奖励的？哪里应该有问责制？

## 来自经验的重要观察

*#1 志向不是团队成功的自动衡量标准*

当你计划一个项目，或者一个项目的里程碑时，你经常想马上设定一些目标。如果你幸运的话，你有一些好的面向用户的研究来告诉你为了成功你需要什么样的性能。如果你没那么幸运，你只会有一些直觉。无论哪种方式，你都可能想把它具体化，这样你就定义了一些抱负。我觉得这是个好主意，但是你一定要记住，这些东西默认是不接地气的。

例如，你可以说“看，我们需要这个东西两秒钟左右，否则我们就完蛋了”，这很好。这种洞察力将有助于为你能做什么和不能做什么定下基调，这对粗略制定工程计划是非常宝贵的。但是直到你做了一些研究，你才知道两秒钟甚至是可能的。当“大约两秒钟”在一些看起来很官方的电子表格上变成 2000 毫秒时，你可以知道你遇到麻烦了。

所以，成功的标准是伟大的，但是人们必须为之签约，一个标准越重要，你就需要越快确定你能真正实现它。这就引出了下一条准则。

*#2 面向客户的目标基本上都不是好的工程目标*

你可能认为我是一个异教徒，但我因为这样说而出名，我也可能坚持我的观点:时间真糟糕。客户关心时间，所以我们不能忽视它，但基于时间的分析是最难控制的，通常也是最没有说服力的。在#1 中，我谈到了检查事情是否可实现——你这样做的一个基本方法是了解做有问题的工作需要做什么。你这样做是基于消耗:如此多的网络往返，如此多的 i/o，如此多的指令，无论是什么。当你可以为重要的操作写账单，并使用这些成本来模拟可能的时间，那么你就会有一种感觉，你可以做到这一点，以及如何保持在控制之下。如果你不能建模，你将不得不在事后尝试衡量时间和成本，并希望你能让它工作。这不是很有远见，可能会让你在终点线上处于不利的位置。

当你只有时间(甚至没有时间)而它们没有打断你的工作时，你就知道你有麻烦了。分时度假有所帮助，但它们不能替代原始成本。

*#3 防御应该以工程指标而不是客户指标为中心*

现在，我首先要说的是，您必须确保您的工程指标实际有效，因此对照客户现实控制细节至关重要，但是当您告诉您的组织某个构建有什么问题时，您需要根据工程指标来做。这些可以是像“我们正在为同样的工作画两倍于上周的像素”或“我们现在做 12 次阅读，我们过去做 9 次”或任何可能的情况。紧急程度可以通过参考事情对客户的影响来表达(例如，由于[一个工程师理解的事情]，我们的最高指标下降了 50%)。

顶级指标的问题是它们经常是不可操作的；我喜欢说“这是我只能哭泣的数据。”记住，时间是不良消费的结果，而不是相反。如果你正在寻找根本原因，你从资源是如何被花费的开始。一套好的资源检查将帮助你找到责任，或者至少找到你应该问的人。

关于消耗的另一个有趣的事情是，在许多环境中，在各种硬件上，在不同的开发阶段(例如单元测试)，它通常可以很容易地被测量，并且它仍然会清楚地显示问题。字节、绘图、读取、失效的指令、被占用的锁，所有这些东西在许多种情况下都是不变的，并且在导致问题的根源中是无价的。记住，这项工作不仅仅是识别问题，而是理解和解释问题。

当问题仅仅以面向客户的目标来报告时，你可以知道你有麻烦了，工程师们觉得寻找回归是神秘的，甚至是没有希望的。

*#4 编排渗透到每个性能问题中*

了解发生了什么工作，以及发生的原因对于获取您可以使用的数据至关重要。例如，我花了很多年在 Edge 浏览器(RIP)上，对于很多性能问题，我可以告诉你，我们在格式化循环上浪费了更多的时间，甚至没有看。但这并不意味着格式化代码有什么问题，事实上它可能已经很久没有改变了。那么问题就变成了为什么会有更多的格式化，是什么导致了额外的脏状态。在典型的概要文件中，你根本找不到这种答案——导致错误的代码本身可能非常快，它可能永远不会被采样。即使是，你也不太可能看到如此微小的东西，而且可能有成千上万个微小的东西藏在其中。

理解这一点的方法是记录推动成本的重要事件(不仅仅是昂贵的事情)，这样你就可以看到它们是如何变化的。有时你可以使用开始/结束对，但即使这样也不够。你可能需要类似“这是我们弄脏圣诞树的 27 个原因”和“这是每种原因的数量”，这样当一个人突然抬起它丑陋的头时，你就有希望找到它“看，这种风格的变化现在正在推动更多的格式，发生了什么？”

如果你不能从你的实验结果中理解如何和为什么:你的工作是如何产生的，它是如何排队或节流的，以及它是如何被分派的，你就知道你有麻烦了。没有这些信息，就不可能清楚地了解全局问题。

## 该做的和不该做的

因此，考虑到这些事情，你可能知道如何创建和保持一个成功的绩效团队，而不会让他们筋疲力尽。我提供这些子弹大小的建议是基于以上和一点经验。

**做**:树立面向客户的志向。

*   不要假设它们是成功的标准。

**做**:测量客户关心的事情(比如延迟)。

*   不要把它们作为你的主要防御机制。

**做**:创建丰富的工程度量。

*   不要认为他们的成功会自动带来快乐的顾客。

**做**:为你的绩效团队设定最高目标。

*   不要让他们负责所有的指标。

**做**:为了客户的利益而改变产品。

*   面对变化，不要把所有的目标都保持不变。

**做**:期待你的绩效团队解决最困难的绩效问题。

*   不要指望他们处理所有的问题，所有的方式。

**做**:期望你的绩效团队有一个成功工程的框架。

*   当它被忽视时，不要为后果责怪他们。

做:强调组织的卓越高于一切

*   不要把球队局限在只做防守，或者只做进攻分析。

如果你像上面那样做或不做，并相应地奖励你的团队，你更有可能保持和发展一个绩效专家团队。如果你忽略了大部分，或者要求完美的防守这样的奇迹，你的团队将会崩溃。

最后，尽管我所写的是以性能团队为中心的，但这实际上适用于每一个注重质量的团队，可能需要一些调整。

如果你已经读到这里，谢谢，我希望对你有用。