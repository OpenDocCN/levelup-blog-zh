<html>
<head>
<title>Generate Surgically Precise Test Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">生成精确的测试数据</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/generate-surgically-precise-test-data-3e914c46d6b4?source=collection_archive---------7-----------------------#2021-11-04">https://levelup.gitconnected.com/generate-surgically-precise-test-data-3e914c46d6b4?source=collection_archive---------7-----------------------#2021-11-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="a558" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://gentille.us/b3601fb73472?sk=0dc73c81df810c0f181c432c9db3e085" rel="noopener ugc nofollow" target="_blank"> JavaScript和类型脚本测试</a></h2><div class=""/><div class=""><h2 id="ac94" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">通过让类型脚本测试生成器获取对象的一部分<type>，使它们更加灵活。</type></h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/2eb8142daf43f230b2df8d88918c0d1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nYOKImjEUddGYfkaKH66Ig.jpeg"/></div></div></figure><p id="8919" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">在测试中，您经常认为您只需要修改一个标准对象的一个属性，或者最多修改几个属性。让我们使用一个具有这个接口的<code class="fe lw lx ly lz b">Course</code>对象:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/a56e80eef1cc12888bb76e6cd008ff65.png" data-original-src="https://miro.medium.com/v2/resize:fit:568/format:webp/1*8dzS0Z1aBO7-eICKXjNelw.png"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">具有少量属性的典型界面</figcaption></figure><p id="b339" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">我经常看到程序员预期只改变id或名字的代码。创建的测试生成器如下所示:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mf"><img src="../Images/36d207155665e873b0b82cff39fa1b35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gpup4abPLO-Py3nsoMEogg.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">指定可更改字段的测试生成器</figcaption></figure><p id="366d" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">id和名称是可选的，但是如果它们没有被传递，则使用默认值。所有其他字段都有默认值。这没什么不好；除了生活很少会如你所愿。我的经验告诉我，在某些时候，状态、长度，或者更可能是所有的字段都需要被传递特定的值。一些改变可以使这个生成器更加灵活。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/eb20fab49ead091b7160b6b0f2312a61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/1*IYAIkJXA-kK2W0R_lr0MJg.png"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">带有部分<course>的测试发生器</course></figcaption></figure><p id="3fda" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">通过采用指定部分<code class="fe lw lx ly lz b">Course</code>的单个参数，我们现在可以修改主体以允许<strong class="lc ja">的任何</strong>属性被改变。如果你不熟悉实用程序类型<code class="fe lw lx ly lz b"><a class="ae mh" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining" rel="noopener ugc nofollow" target="_blank">Partial&lt;Type&gt;</a></code>，它接受一个类型(又名接口)并使其所有属性可选。现在这个生成器要么不接受任何参数，要么接受任何具有一个或多个<code class="fe lw lx ly lz b">Course</code>属性的对象。</p><p id="b65b" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">如果无法读取所需的属性，<a class="ae mh" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining" rel="noopener ugc nofollow" target="_blank">可选链接</a>操作符<code class="fe lw lx ly lz b">?</code>将返回<code class="fe lw lx ly lz b">undefined</code>。在链接操作符之后加上<a class="ae mh" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing_operator" rel="noopener ugc nofollow" target="_blank">零合并操作符</a> <code class="fe lw lx ly lz b">??</code>允许我们在没有提供值时指定我们想要的值。</p><p id="f5d6" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">当没有传递参数时，这与第一个示例的工作方式相同，并且使用所有默认值。但是，当<strong class="lc ja">一个课程的任何</strong>属性被传递时，该属性将被使用。</p><p id="8f36" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">你可能会觉得你的问号键磨损了，但这将是一次性的花费，而且现在你很可能不会重新访问这个生成器，直到你改变了<code class="fe lw lx ly lz b">Course</code>接口。</p><p id="fb80" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">一旦你尝试了这种技术，我不认为你会回去猜测哪些属性可能会改变。我发现自己经常重温和增强测试文件。不必在数据生成器上浪费时间，这让我能够集中精力，提高工作效率。</p></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><p id="dc98" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">还有更多<a class="ae mh" href="https://gentille.us/b3601fb73472?sk=0dc73c81df810c0f181c432c9db3e085" rel="noopener ugc nofollow" target="_blank"> JavaScript和类型脚本测试</a>技巧文章。</p><p id="c69e" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">平静地编码。</p></div></div>    
</body>
</html>