<html>
<head>
<title>Filter Object Properties by Using JSON.stringify</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用JSON.stringify过滤对象属性</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/using-json-stringify-to-work-with-javascript-object-9416c1e2c7c4?source=collection_archive---------5-----------------------#2020-09-10">https://levelup.gitconnected.com/using-json-stringify-to-work-with-javascript-object-9416c1e2c7c4?source=collection_archive---------5-----------------------#2020-09-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="189f" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">Java Script语言</h2><div class=""/><div class=""><h2 id="1db0" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">通过使用replacer作为数组或函数来过滤JavaScript对象属性的简单技术。</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/c14f7260f88857318659e86db3913772.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kiz9V-noKpoSaIAdYyzWNA.jpeg"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">由<a class="ae lh" href="https://unsplash.com/@hannynaibaho?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">刘汉宁·内巴霍</a>在<a class="ae lh" href="https://unsplash.com/s/photos/coffee?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="46ea" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在本文中，我将分享关于使用JSON.stringify()的replacers。</p><ol class=""><li id="4fd0" class="me mf it lk b ll lm lo lp lr mg lv mh lz mi md mj mk ml mm bi translated">语法重新介绍</li><li id="5eeb" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated">使用Replacer参数</li></ol></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="39ad" class="mz na it bd nb nc nd ne nf ng nh ni nj ki nk kj nl kl nm km nn ko no kp np nq bi translated">语法重新介绍</h1><p id="47c6" class="pw-post-body-paragraph li lj it lk b ll nr kd ln lo ns kg lq lr nt lt lu lv nu lx ly lz nv mb mc md im bi translated">我想我们大多数人都知道第一个论点<code class="fe nw nx ny nz b"><strong class="lk jd">JSON.stringify()</strong></code> <strong class="lk jd"> </strong>。但是，只有一些人知道还有第二种说法，叫做T21。所以我想再次介绍一下方法语法。</p><p id="af6f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe nw nx ny nz b"><strong class="lk jd">JSON.stringify()</strong></code>方法将做两件事:</p><ol class=""><li id="ee36" class="me mf it lk b ll lm lo lp lr mg lv mh lz mi md mj mk ml mm bi translated">将该值转换为JSON字符串。</li><li id="30ba" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated">如果指定了replacer函数，则替换值。</li></ol><pre class="ks kt ku kv gt oa nz ob oc aw od bi"><span id="eb8c" class="oe na it nz b gy of og l oh oi">JSON.stringify(value[, replacer[, space]])</span></pre><p id="3d23" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">有3个参数:</p><ol class=""><li id="dc4f" class="me mf it lk b ll lm lo lp lr mg lv mh lz mi md mj mk ml mm bi translated"><strong class="lk jd">value</strong>T24】要转换成JSON字符串的值。</li><li id="b80a" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated">一个改变字符串化过程行为的函数。</li><li id="ccc6" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated"><strong class="lk jd">空格<br/>T30】给输出加上空格。</strong></li></ol><p id="f697" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">该值支持多种数据，如对象、数组和基元。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/16583cb57f3ab97916c654401bef98b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*5E21LFldSmAu59S8nuxEjQ.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">带有一些基本数据类型的JSON stringify</figcaption></figure><p id="b09a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">一些返回<code class="fe nw nx ny nz b">undefined</code>的值，如<strong class="lk jd">函数属性</strong>、<strong class="lk jd">符号属性</strong>和<code class="fe nw nx ny nz b">undefined</code>。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/9a4455507b29edebe802f5afc495bbbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:606/format:webp/1*rouzCb86i62XKCX4Ucy_9g.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">对于某些特定输入，JSON stringify返回未定义的值</figcaption></figure><p id="6183" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">那么<code class="fe nw nx ny nz b">Map</code>、<code class="fe nw nx ny nz b">Set</code>、<code class="fe nw nx ny nz b">WeakMap</code>、<code class="fe nw nx ny nz b">WeakSet</code>等<code class="fe nw nx ny nz b">Object</code>实例呢？</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/2d7caa2482455e8237fc95c7fe8e401b.png" data-original-src="https://miro.medium.com/v2/resize:fit:702/format:webp/1*zmsGDy7_pc_4bs2YSBfofw.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">带有对象实例的JSON字符串</figcaption></figure><p id="7c05" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">注意:</p><ul class=""><li id="9d8b" class="me mf it lk b ll lm lo lp lr mg lv mh lz mi md om mk ml mm bi translated"><code class="fe nw nx ny nz b">Infinity</code>和<code class="fe nw nx ny nz b">NaN</code>，<code class="fe nw nx ny nz b">null</code>，都算<code class="fe nw nx ny nz b">null</code>。</li><li id="5b8a" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md om mk ml mm bi translated"><strong class="lk jd">对象属性名</strong>，以及<strong class="lk jd">字符串</strong>，在编码后都用双引号括起来。</li></ul></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="6335" class="mz na it bd nb nc nd ne nf ng nh ni nj ki nk kj nl kl nm km nn ko no kp np nq bi translated">使用Replacer参数</h1><p id="2b9a" class="pw-post-body-paragraph li lj it lk b ll nr kd ln lo ns kg lq lr nt lt lu lv nu lx ly lz nv mb mc md im bi translated">对象被递归地字符串化成JSON字符串，在每个属性上调用<code class="fe nw nx ny nz b">replacer</code>函数。这在JavaScript中处理对象时会很有帮助。</p><p id="c43c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">有两种类型的<strong class="lk jd">替换器</strong>:</p><ul class=""><li id="496d" class="me mf it lk b ll lm lo lp lr mg lv mh lz mi md om mk ml mm bi translated">排列</li><li id="bfc2" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md om mk ml mm bi translated">功能</li></ul><h2 id="cdb7" class="oe na it bd nb on oo dn nf op oq dp nj lr or os nl lv ot ou nn lz ov ow np iz bi translated">replacer，作为数组</h2><p id="a2cf" class="pw-post-body-paragraph li lj it lk b ll nr kd ln lo ns kg lq lr nt lt lu lv nu lx ly lz nv mb mc md im bi translated">当我们需要过滤掉对象属性时，我们可以将replacer作为一个数组来应用。</p><p id="4d59" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">只有我们传递到数组中的这些属性才会被编码。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/eb9beaae058660d4114eb0ebb869eaa6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*9z346wFbRjwhSoKyjKkJHA.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">通过数组替换器排除对象属性</figcaption></figure><h2 id="f343" class="oe na it bd nb on oo dn nf op oq dp nj lr or os nl lv ot ou nn lz ov ow np iz bi translated">作为函数的替换器</h2><p id="7adb" class="pw-post-body-paragraph li lj it lk b ll nr kd ln lo ns kg lq lr nt lt lu lv nu lx ly lz nv mb mc md im bi translated">在我们不知道确切的属性名或者因为属性太多而无法列出所有属性的情况下，我们可以使用replacer作为函数。</p><p id="c844" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">因此，我们编写一个函数，通过遵循数据类型或某种模式来过滤属性值。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/e26a0f693dd838c4e75a6956cd6d0c26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*u3xjA0lr8z8doKYIz9JxwQ.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">通过函数替换器排除对象属性</figcaption></figure><p id="f653" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">使用replacer对于一些简单的情况很有帮助，比如我们想从一个对象中获取某些属性。</p><p id="8b85" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><em class="oz">有时，我们在旧项目上工作，我们没有任何超级工具来支持我们从一个大的JSON对象中过滤属性。</em></p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><p id="7053" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我希望这篇文章对你有用！你可以在<a class="ae lh" href="https://medium.com/@transonhoang?source=post_page---------------------------" rel="noopener">媒体</a>上关注我。我也在<a class="ae lh" href="https://twitter.com/transonhoang" rel="noopener ugc nofollow" target="_blank">推特</a>上。欢迎在下面的评论中留下任何问题。我很乐意帮忙！</p><h1 id="0e33" class="mz na it bd nb nc pa ne nf ng pb ni nj ki pc kj nl kl pd km nn ko pe kp np nq bi translated">参考</h1><p id="60a0" class="pw-post-body-paragraph li lj it lk b ll nr kd ln lo ns kg lq lr nt lt lu lv nu lx ly lz nv mb mc md im bi translated">[1]Json Stringify:<a class="ae lh" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify" rel="noopener ugc nofollow" target="_blank">https://developer . Mozilla . org/en-US/docs/Web/JavaScript/Reference/Global _ Objects/Json/Stringify</a></p></div></div>    
</body>
</html>