<html>
<head>
<title>Beginners Guide to Pipenv</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Pipenv初学者指南</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/beginners-guide-to-pipenv-9340a6c35147?source=collection_archive---------8-----------------------#2020-05-28">https://levelup.gitconnected.com/beginners-guide-to-pipenv-9340a6c35147?source=collection_archive---------8-----------------------#2020-05-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/1f0f9e98585a888ab76cd0db09c3c4a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AkMYbQJv0fGfj8beu9xx4Q.jpeg"/></div></div></figure></div><div class="ab cl kb kc hx kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="im in io ip iq"><p id="f60f" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated"><strong class="kk iu">Pipenv概述:</strong></p><p id="1ece" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">Pipenv是一个python包管理器，它让程序员可以更好地控制他们的pip项目依赖性。Pipenv允许您选择python的特定版本，以及所需的pip包的版本。对于熟悉JavaScript开发的人来说，pipenv可以被认为是npm的python等价物。</p><p id="6063" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">Pipenv解决了在python中使用pip包的一些问题。</p><ol class=""><li id="8d72" class="lg lh it kk b kl km kp kq kt li kx lj lb lk lf ll lm ln lo bi translated"><strong class="kk iu"> Pipenv允许用户选择项目需要的具体python版本。</strong>假设一个名为myapp的项目使用了python中的异步特性。这需要python 3.5或更高版本。如果myapp的用户在他们的系统上安装了python 3.4，安装过程中将会出现错误。当用户试图在没有所需功能的情况下运行程序时，这将防止许多运行时错误。</li><li id="ef7a" class="lg lh it kk b kl lp kp lq kt lr kx ls lb lt lf ll lm ln lo bi translated"><strong class="kk iu"> Pipenv允许安装特定版本的pip软件包。</strong>加班pip包经历变更和更新。假设一个项目使用Django 2.2。Pipenv将允许特定版本的Django或任何其他pip包被锁定到项目中。</li><li id="7cad" class="lg lh it kk b kl lp kp lq kt lr kx ls lb lt lf ll lm ln lo bi translated">Pipenv为您创建并管理一个虚拟的python环境。这使得分离你的全局pip包和你的项目使用的包变得容易。这进一步降低了依赖关系冲突的可能性。</li></ol></div><div class="ab cl kb kc hx kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="im in io ip iq"><p id="fcec" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated"><strong class="kk iu">安装管道nv: </strong></p><p id="0d62" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">根据您的系统，有几种安装pipenv的方法。首先，您需要在系统上安装一个python 3版本。在尝试安装pipenv之前，请按照说明在您的系统上安装python 3。</p><ol class=""><li id="7b0f" class="lg lh it kk b kl km kp kq kt li kx lj lb lk lf ll lm ln lo bi translated"><strong class="kk iu"> Mac安装pipenv: </strong></li></ol><p id="d443" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">安装了homebrew的Mac用户只需在终端中运行以下命令:</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="2cea" class="md me it lz b gy mf mg l mh mi">brew install pipenv</span></pre><p id="771b" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">2.<strong class="kk iu">我的首选方式，适用于所有系统:</strong></p><p id="e3a4" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">如果您没有运行macOS，有几种方法可以在您的系统上安装pipenv。我会在这篇文章的底部留下pipenv文档的链接，这样你就可以参考了。但是，如果您的系统上已经安装了python 3和pip(推荐),您可以简单地通过pip安装pipenv。请注意，您将通过pip全局安装pipenv。运行以下命令:</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="9e87" class="md me it lz b gy mf mg l mh mi">pip install pipenv</span></pre><p id="fb9e" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">或者</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="cd8c" class="md me it lz b gy mf mg l mh mi">pip3 install pipenv</span></pre></div><div class="ab cl kb kc hx kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="im in io ip iq"><p id="a6da" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated"><strong class="kk iu">使用Pipenv设置虚拟环境:</strong></p><p id="121a" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">一旦所有东西都安装好了，用pipenv建立一个虚拟环境就很容易了。在项目目录中，在终端中键入以下命令:</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="0117" class="md me it lz b gy mf mg l mh mi">pipenv install --python 3.8</span></pre><p id="268f" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">在这个例子中，我创建了一个使用python 3.8的虚拟环境。然而，系统上安装的任何python版本都可以替代3.8。</p><p id="f2c5" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">执行该命令后，您会注意到创建了两个文件。一个Pipfile和一个Pipfile.lock。这些文件是你的项目的依赖项将被详细保存的地方。</p><p id="01f6" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">创建虚拟环境后，您可以通过键入以下命令在终端中激活它:</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="dc0a" class="md me it lz b gy mf mg l mh mi">pipenv shell</span></pre></div><div class="ab cl kb kc hx kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="im in io ip iq"><p id="6d24" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated"><strong class="kk iu">使用Pipenv管理Pip包:</strong></p><p id="f1af" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">Pipenv还使管理您的pip包变得非常简单。与使用pipenv时相比，通常安装pip包的方式有一点不同。</p><p id="f239" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">通常要安装一个pip包，您应该运行:</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="0062" class="md me it lz b gy mf mg l mh mi">pip install django</span></pre><p id="8b7d" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">然而，使用pipenv，您应该做一些事情来使包依赖关系更加可靠和明确。</p><p id="6ffa" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">首先，在您尝试安装任何pip包之前，请确保您处于终端窗口中，并使用cd进入您的Pipfile和Pipfile.lock所在的项目目录。</p><p id="0a74" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">其次，确保您的虚拟环境是通过pipenv shell激活的。</p><p id="e2a3" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">设置好一切后，键入命令:</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="932f" class="md me it lz b gy mf mg l mh mi">pipenv install django</span></pre><p id="053b" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">请注意，pip被更改为pipenv。</p><p id="5dbb" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">您也可以指定软件包的版本，如下所示:</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="9c5d" class="md me it lz b gy mf mg l mh mi">pipenv install django==3.0.6</span></pre><p id="e72e" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">注意，这指定了django的确切版本。如果我希望用户能够使用更新的修订版本，同时仍然使用3.0，我还可以:</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="b0d4" class="md me it lz b gy mf mg l mh mi">pipenv install django==3.0</span></pre><p id="c576" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">这样就可以安装django 3.0的最新版本。这是一个很好的做法，因为修订版通常附带安全更新，没有任何重大更改。</p><p id="d8ab" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">请注意，当您安装一个包时，它将被添加到您的Pipfile和Pipfile.lock中。</p><p id="db54" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">pipenv的另一个很酷的技巧是，您可以指定哪些包用于生产，哪些包用于开发。您可能希望让pip包用于诸如林挺和格式化等任务，成为开发依赖项。做到这一点很简单:</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="0cee" class="md me it lz b gy mf mg l mh mi">pipenv install --dev autopep8</span></pre><p id="7063" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">您还可以指定开发包的特定版本，就像您为常规的产品包所做的那样。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="4c0c" class="md me it lz b gy mf mg l mh mi">pipenv install --dev autopep8==1.5</span></pre><p id="79e6" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated"><strong class="kk iu">卸载pip包:</strong></p><p id="8add" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">要卸载pip包，您不需要指定版本，如果它是开发包，也不需要指定版本。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="0015" class="md me it lz b gy mf mg l mh mi">pipenv uninstall django</span></pre><p id="8e37" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">该包将从Pipfile和Pipfile.lock中删除。</p><p id="3e5b" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated"><strong class="kk iu">移除虚拟环境:</strong></p><p id="e557" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">有时您希望删除并创建一个新的虚拟环境。不管是什么原因，pipenv都有办法删除虚拟环境。</p><p id="6a12" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">确保您在“终端”中Pipfile和Pipfile.lock所在的目录中。然后运行:</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="cf0d" class="md me it lz b gy mf mg l mh mi">pipenv --rm</span></pre><p id="339d" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">这将删除环境。</p><p id="4173" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated"><strong class="kk iu">结论:</strong></p><p id="d967" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">Pipenv可以为您和其他开发人员省去很多版本和项目依赖方面的麻烦。这里是pipenv的GitHub页面的链接，供进一步阅读。<a class="ae mj" href="https://github.com/pypa/pipenv" rel="noopener ugc nofollow" target="_blank">https://github.com/pypa/pipenv</a>。</p></div></div>    
</body>
</html>