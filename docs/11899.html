<html>
<head>
<title>Requests Library in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Pythonä¸­çš„è¯·æ±‚åº“</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/requests-library-in-python-32cfb7da0a30?source=collection_archive---------11-----------------------#2022-04-26">https://levelup.gitconnected.com/requests-library-in-python-32cfb7da0a30?source=collection_archive---------11-----------------------#2022-04-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="082b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">äº†è§£å¦‚ä½•ä½¿ç”¨Pythonä¸­çš„è¯·æ±‚åº“ä¸APIè¿›è¡Œé€šä¿¡ã€‚</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9b89e602dbf41ca9c56e95f63fb7ba2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nCCbVzGpL8F5jAs-Y2pfMw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">Pythonä¸­çš„è¯·æ±‚åº“</figcaption></figure><p id="05c7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ä½œä¸ºç¨‹åºå‘˜ï¼Œæˆ‘ä»¬æ¯å¤©éƒ½è¦å’ŒAPIæ‰“äº¤é“ã€‚ä¸ç®¡ä½ çš„ç«‹åœºå¦‚ä½•ï¼Œæ€»ä¼šæœ‰ä¸å¾—ä¸ä½¿ç”¨APIçš„æ—¶å€™ã€‚å¦‚æœä½ æ­£åœ¨ä½¿ç”¨Pythonè¯­è¨€ï¼Œå¹¶ä¸”æƒ³å­¦ä¹ å¦‚ä½•åœ¨Pythonä¸­ä½¿ç”¨APIï¼Œé‚£ä¹ˆè¿™ä¸ªåšå®¢å°±æ˜¯ä¸ºä½ å‡†å¤‡çš„ã€‚</p><p id="7c0a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">è¿™ä¸ªåšå®¢å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•ä½¿ç”¨<a class="ae lu" href="https://docs.python-requests.org/en/latest/" rel="noopener ugc nofollow" target="_blank">è¯·æ±‚</a>åº“è¿›è¡Œä¸åŒçš„APIæ“ä½œã€‚æˆ‘ä»¬å°†è®¨è®ºAPIçš„GETã€POSTã€PATCHå’ŒDELETEæ–¹æ³•ã€‚ä¸ºäº†æ¼”ç¤ºæ‰€æœ‰æ“ä½œï¼Œæˆ‘å°†ä½¿ç”¨<a class="ae lu" href="https://jsonplaceholder.typicode.com/" rel="noopener ugc nofollow" target="_blank"> JSONå ä½ç¬¦</a> APIã€‚JSON Placeholderæ˜¯ä¸€ä¸ªå…è´¹çš„ä¼ªAPIï¼Œç”¨äºæµ‹è¯•å’ŒåŸå‹å¼€å‘ã€‚</p><h1 id="d29d" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">Pythonä¸­è¯·æ±‚åº“çš„ç”¨é€”</h1><p id="c645" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">ä¸ºäº†é€šè¿‡äº’è”ç½‘è·å–ä»»ä½•ç±»å‹çš„æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨HTTPåè®®ã€‚æ— è®ºæ˜¯è·å–ç½‘é¡µè¿˜æ˜¯è°ƒç”¨APIï¼Œä»»ä½•é€šè¿‡äº’è”ç½‘ä¼ è¾“çš„æ•°æ®éƒ½å¿…é¡»éµå¾ªHTTPåè®®ã€‚<strong class="la iu">è¯·æ±‚</strong>åº“å…è®¸æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¹‹å¤–ä½¿ç”¨è¿™ä¸ªHTTPåè®®ã€‚</p><blockquote class="ms mt mu"><p id="4bc1" class="ky kz mv la b lb lc ju ld le lf jx lg mw li lj lk mx lm ln lo my lq lr ls lt im bi translated">ä½ å¯èƒ½ä¼šé—®ï¼Œæ—¢ç„¶æœ‰å¾ˆå¤šå…¶ä»–é€‰æ‹©ï¼Œä¸ºä»€ä¹ˆè¿˜è¦ä½¿ç”¨è¯·æ±‚å‘¢ï¼ŸğŸ¤”</p></blockquote><p id="db8b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å¦‚æœä½ çœ‹çœ‹è¿™ä¸ªé¡¹ç›®çš„ç»Ÿè®¡æ•°æ®ï¼Œä½ ä¼šç›¸ä¿¡æˆ‘ã€‚ä¸ä»…ä»…æ˜¯ç»Ÿè®¡æ•°æ®ï¼Œæˆ‘çŸ¥é“å¾ˆå¤šäººæ›´å–œæ¬¢Requestsåº“è€Œä¸æ˜¯å…¶ä»–HTTPæ¨¡å—ã€‚æ ¹æ®Requests pythonåº“çš„<a class="ae lu" href="https://docs.python-requests.org/en/latest/" rel="noopener ugc nofollow" target="_blank">å®˜æ–¹é¡µé¢</a>ï¼Œ<br/>â€œ<em class="mv">è¯·æ±‚è®©ä½ æå…¶è½»æ¾çš„å‘é€HTTP/1.1è¯·æ±‚ã€‚æ²¡æœ‰å¿…è¦æ‰‹åŠ¨æ·»åŠ æŸ¥è¯¢å­—ç¬¦ä¸²åˆ°ä½ çš„URLï¼Œæˆ–è€…å¯¹ä½ çš„æ–‡ç« æ•°æ®è¿›è¡Œæ ¼å¼ç¼–ç ã€‚Keep-aliveå’ŒHTTPè¿æ¥æ± æ˜¯100%è‡ªåŠ¨çš„ï¼Œæ„Ÿè°¢</em><a class="ae lu" href="https://github.com/urllib3/urllib3" rel="noopener ugc nofollow" target="_blank"><em class="mv">urllib 3</em></a><em class="mv">ã€‚</em></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/1b26cddeca378bcd4b7a8e9449e6e992.png" data-original-src="https://miro.medium.com/v2/resize:fit:504/format:webp/1*bQSHrQeyr6vKfqa-BTmpqA.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">å¯¹<a class="ae lu" href="https://github.com/psf/requests" rel="noopener ugc nofollow" target="_blank"> GitHub </a>çš„è¯·æ±‚</figcaption></figure><h1 id="5871" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">ç”¨Pythonå®‰è£…è¯·æ±‚</h1><p id="a3cd" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">åœ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»»ä½•ç¬¬ä¸‰æ–¹åº“ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»å®‰è£…å®ƒã€‚è¦å®‰è£…è¯·æ±‚ï¼Œè¯·åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="40fd" class="nf lw it nb b gy ng nh l ni nj">pip install requests</span></pre><p id="fbc4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">åœ¨åŸºäºMacå’ŒLinuxçš„æ“ä½œç³»ç»Ÿä¸Šï¼Œè¯¥å‘½ä»¤å¯èƒ½ä¼šæ˜¾ç¤ºä¸€ä¸ªé”™è¯¯ï¼Œæç¤ºpipä¸å¯ç”¨ã€‚å¦‚æœæœ‰ï¼Œé‚£å°±è¯•è¯•</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="137d" class="nf lw it nb b gy ng nh l ni nj">pip3 install requests</span></pre><p id="219f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å¦‚æœæ‚¨ä»ç„¶å¾—åˆ°ä¸€ä¸ªé”™è¯¯ï¼Œé‚£ä¹ˆæ‚¨å¯èƒ½éœ€è¦å…ˆå®‰è£…pipã€‚è¦åœ¨æ‚¨çš„ç³»ç»Ÿä¸Šå®‰è£…pipï¼Œè¯·æŸ¥çœ‹è¿™ä¸ª<a class="ae lu" href="https://pip.pypa.io/en/stable/installation/" rel="noopener ugc nofollow" target="_blank">æ–‡æ¡£</a>ã€‚</p><p id="9216" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">è¦éªŒè¯å®‰è£…ï¼Œæ‚¨å¯ä»¥åœ¨python shellä¸­å°è¯•<strong class="la iu">å¯¼å…¥è¯·æ±‚</strong>ã€‚</p><h1 id="597e" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">è¯·æ±‚ä¸­ä¸åŒçš„HTTPæ–¹æ³•</h1><h1 id="b18d" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">è¯·æ±‚åº“ä¸­çš„GETæ–¹æ³•</h1><p id="0c86" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">é¡¾åæ€ä¹‰ï¼Œgetè¯·æ±‚ç”¨äºè·å–æ•°æ®ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿè¦ä½¿ç”¨GETæ–¹æ³•ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦å¯¼å…¥å®ƒã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»»ä½•æ–¹æ³•ä»requestsæ¨¡å—å¯¼å…¥GETã€‚</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="303e" class="nf lw it nb b gy ng nh l ni nj">from requests import get<br/>response = get('https://jsonplaceholder.typicode.com/posts/1')</span></pre><p id="c1b3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">è¿ç­¹å­¦</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="6e86" class="nf lw it nb b gy ng nh l ni nj">import requests<br/>response = requests.get('https://jsonplaceholder.typicode.com/posts/1')</span></pre><p id="9de0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨äº†JSONPLaceholder APIã€‚å¦‚æœè¯¥è°ƒç”¨æˆåŠŸï¼ŒAPIå°†è¿”å›ä»¥ä¸‹æ•°æ®ã€‚</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="750a" class="nf lw it nb b gy ng nh l ni nj">{<br/>  "userId": 1,<br/>  "id": 1,<br/>  "title": "sunt aut facere repellat provident occaecati excepturi optio reprehenderit",<br/>  "body": "quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto"<br/>}</span></pre><blockquote class="ms mt mu"><p id="ae39" class="ky kz mv la b lb lc ju ld le lf jx lg mw li lj lk mx lm ln lo my lq lr ls lt im bi translated"><em class="it">æ‰€ä»¥ï¼Œé—®é¢˜æ˜¯æˆ‘ä»¬å¦‚ä½•çŸ¥é“APIè°ƒç”¨æˆåŠŸäº†ï¼Œå¹¶ä¸”æˆ‘ä»¬å¾—åˆ°äº†æ•°æ®ã€‚</em></p></blockquote><p id="90e4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">æ£€æŸ¥æˆ‘ä»¬æ˜¯å¦å¯ä»¥ä½¿ç”¨<code class="fe nk nl nm nb b">response.ok</code>ã€<code class="fe nk nl nm nb b">response.status_code</code>æˆ–<code class="fe nk nl nm nb b">response.raise_for_status()</code>ã€‚è®©æˆ‘å‘æ‚¨å±•ç¤ºè¿™ä¸‰ä¸ªå±æ€§å’Œå¯¹è±¡åŸºäºAPIè°ƒç”¨çš„æˆåŠŸè€Œè¿”å›çš„å†…å®¹ã€‚</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="3371" class="nf lw it nb b gy ng nh l ni nj">from requests import get</span><span id="4ee2" class="nf lw it nb b gy nn nh l ni nj">response = get('https://jsonplaceholder.typicode.com/posts/1')<br/>print(f"OK: {response.ok}")<br/>print(f"Status Code: {response.status_code}")<br/>print(f"Error: {response.raise_for_status()}")</span><span id="e3ce" class="nf lw it nb b gy nn nh l ni nj">"""<br/>OUTPUT:<br/>-------<br/>OK: True<br/>Status Code: 200<br/>Error: None<br/>"""</span></pre><p id="12e2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å¯¹äºä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœAPIè°ƒç”¨æˆåŠŸï¼Œé‚£ä¹ˆ<code class="fe nk nl nm nb b">response.ok</code>å°†è¿”å›Trueï¼Œ<code class="fe nk nl nm nb b">response.status_code</code>å°†è¿”å›200ç³»åˆ—çš„çŠ¶æ€ä»£ç ã€‚ä½†æ˜¯è¿™é‡Œè¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯<code class="fe nk nl nm nb b">response.raise_for_status()</code>æ²¡æœ‰è¿”å›ä»»ä½•ä¸œè¥¿ã€‚<strong class="la iu"> <em class="mv">ä¸ºä»€ä¹ˆï¼Ÿ</em> </strong>å› ä¸ºæˆ‘ä»¬æ²¡æœ‰æ”¶åˆ°ä»»ä½•æ¥è‡ªåç«¯æˆ–APIè°ƒç”¨çš„é”™è¯¯ã€‚</p><p id="0fca" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ä¸ºäº†æ›´å¥½åœ°ç†è§£è¿™ä¸€åˆ‡ï¼Œç°åœ¨è®©æˆ‘ä»¬æ¥çœ‹çœ‹å½“APIè°ƒç”¨ä¸æˆåŠŸæ—¶ä¼šå‘ç”Ÿä»€ä¹ˆã€‚</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="f13a" class="nf lw it nb b gy ng nh l ni nj">from requests import get</span><span id="eeb0" class="nf lw it nb b gy nn nh l ni nj">response = get('https://jsonplaceholder.typicode.com/garbage')<br/>print(f"OK: {response.ok}")<br/>print(f"Status Code: {response.status_code}")<br/>print(f"Error: {response.raise_for_status()}")</span><span id="9983" class="nf lw it nb b gy nn nh l ni nj">"""<br/>OUTPUT:<br/>-------<br/>OK: False<br/>Status Code: 404<br/>Traceback (most recent call last):<br/>  File "C:\Users\Sahil\Documents\pCloud\Blog\Python\Code\API.py", line 6, in &lt;module&gt;<br/>    print(f"Error: {response.raise_for_status()}")<br/>  File "C:\Users\Sahil\AppData\Local\Programs\Python\Python310\lib\site-packages\requests\models.py", line 960, in raise_for_status<br/>    raise HTTPError(http_error_msg, response=self)<br/>requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://jsonplaceholder.typicode.com/garbag<br/>"""</span></pre><p id="0c39" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°äº†ï¼Œä½†æ˜¯è®©æˆ‘æ¥è§£é‡Šä¸€ä¸‹ã€‚ä¸æˆåŠŸçš„APIè°ƒç”¨ä¸º<code class="fe nk nl nm nb b">response.ok</code>å±æ€§è¿”å›Falseï¼Œä¸º<code class="fe nk nl nm nb b">response.status_code</code>å±æ€§è¿”å›404ã€‚ä½†æ˜¯ï¼Œä¸æˆåŠŸçš„è°ƒç”¨ä¸åŒï¼Œæˆ‘ä»¬ä»<code class="fe nk nl nm nb b">response.raise_for_status()</code>æ–¹æ³•æ”¶åˆ°äº†ä¸€ä¸ªé”™è¯¯ã€‚é¡¾åæ€ä¹‰ï¼Œä»è¯·æ±‚æ¨¡å—çš„å®˜æ–¹æ–‡æ¡£æ¥çœ‹ï¼Œ<strong class="la iu"> raise_for_status </strong>æ–¹æ³•å°†å¼•å‘HTTPErrorï¼Œå¦‚æœå®ƒå‘ç”Ÿçš„è¯ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œé™¤äº†200ç³»åˆ—ä»¥å¤–çš„ä»»ä½•ä¸œè¥¿éƒ½è¢«è®¤ä¸ºæ˜¯é”™è¯¯çš„ã€‚</p><p id="6af3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">æ‰€ä»¥åƒè®¸å¤šäººä¸€æ ·ï¼Œæˆ‘æ›´å–œæ¬¢ä½¿ç”¨<strong class="la iu"> status_code </strong>å±æ€§ï¼Œè¿™æ ·æˆ‘å°±å¯ä»¥æ‰‹åŠ¨å¤„ç†é”™è¯¯ï¼Œå¹¶ä¸”å½“æˆ‘å¾—åˆ°ä¸€ä¸ªé”™è¯¯æ—¶ï¼Œæˆ‘çš„ä»£ç å¦‚ä½•è¡¨ç°å°±åœ¨æˆ‘çš„æ‰‹ä¸­ã€‚æ¯«æ— ç–‘é—®ï¼Œå¦‚æœä½ å–œæ¬¢ä½¿ç”¨<strong class="la iu"> raise_for_status() </strong>ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€èˆ¬çš„é”™è¯¯å¤„ç†ã€‚</p><blockquote class="ms mt mu"><p id="e32a" class="ky kz mv la b lb lc ju ld le lf jx lg mw li lj lk mx lm ln lo my lq lr ls lt im bi translated"><em class="it">æˆ‘ä»¬çš„è¯·æ±‚æˆåŠŸäº†ï¼Œç°åœ¨æ€ä¹ˆåŠï¼Ÿ</em></p></blockquote><p id="82f6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ä¸ºäº†ä»<strong class="la iu">å“åº”</strong>ä¸­æå–æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶è½¬æ¢æˆJSONæ ¼å¼ã€‚åœ¨è¿™ç¯‡åšå®¢ä¸­ï¼Œæˆ‘å°†é‡ç‚¹è®¨è®ºæ–‡æœ¬æ•°æ®ã€‚å¦‚æœä½ æƒ³è®©æˆ‘å†™å…¶ä»–ç±»å‹çš„æ•°æ®ï¼Œå¯ä»¥åœ¨æ¨ç‰¹ä¸Šè”ç³»æˆ‘ï¼Œæˆ–è€…åœ¨LinkedInä¸Šè”ç³»æˆ‘ğŸ‘‡â€</p><p id="8f06" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">è¦åœ¨JSONä¸­è½¬æ¢å“åº”ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<strong class="la iu"> json() </strong>æ–¹æ³•ã€‚</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="ae4a" class="nf lw it nb b gy ng nh l ni nj">from requests import get</span><span id="26a0" class="nf lw it nb b gy nn nh l ni nj">response = get('https://jsonplaceholder.typicode.com/posts/1')<br/>data = response.json()<br/>print(data)</span><span id="f24f" class="nf lw it nb b gy nn nh l ni nj">"""<br/>OUTPUT:<br/>------<br/>{<br/>  "userId": 1,<br/>  "id": 1,<br/>  "title": "sunt aut facere repellat provident occaecati excepturi optio reprehenderit",<br/>  "body": "quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto"<br/>}<br/>"""</span></pre><p id="74b5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">é»˜è®¤æƒ…å†µä¸‹ï¼ŒPythonä¼šå°†ä»»ä½•JSONæ•°æ®è½¬æ¢ä¸ºå…¶æœ¬åœ°å­—å…¸æ ¼å¼ã€‚å¦‚æœä½ æ‰“å°<strong class="la iu">ç±»å‹(æ•°æ®)</strong>ï¼Œå®ƒä¼šè¿”å›<code class="fe nk nl nm nb b">&lt;class 'dict'&gt;</code>ã€‚æ‰€ä»¥ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥åƒåœ¨pythonä¸­æ“ä½œå­—å…¸ä¸€æ ·æ“ä½œæ•°æ®ã€‚æœ‰æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å°†å¸¦æœ‰URLçš„èº«ä»½éªŒè¯ä»¤ç‰Œä¼ é€’ç»™æœåŠ¡å™¨ã€‚ç¨åæˆ‘ä¼šåœ¨è¿™ä¸ªåšå®¢ä¸­å‘Šè¯‰ä½ å¦‚ä½•å‘é€è¿™äº›é‚®ä»¶ã€‚é¦–å…ˆï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•åœ¨è¯·æ±‚åº“ä¸­ä½¿ç”¨POSTæ–¹æ³•ã€‚</p><h1 id="1aa2" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">è¯·æ±‚åº“ä¸­çš„POSTæ–¹æ³•</h1><p id="7a84" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">POSTæ–¹æ³•é€šå¸¸ç”¨äºåˆ›å»ºè®°å½•ã€‚ä¾‹å¦‚ï¼Œä½ å¿…é¡»å»ºç«‹ä¸€ä¸ªç”µå­å•†åŠ¡ç½‘ç«™ï¼Œç°åœ¨ä½ æƒ³ä»ç®¡ç†é¢æ¿æ·»åŠ äº§å“åˆ°æ‚¨çš„ç½‘ç«™ã€‚ä¸ºæ­¤ï¼Œæ‚¨å°†ä½¿ç”¨æ‰€æœ‰å¿…è¦çš„æ•°æ®å’Œå‡­è¯åˆ›å»ºä¸€ä¸ªPOSTè¯·æ±‚ã€‚ä¸€æ—¦æˆåŠŸè¿›è¡ŒPOST APIè°ƒç”¨ï¼Œå°±å¯ä»¥ä½¿ç”¨getæ–¹æ³•è·å–æ–°æ•°æ®ã€‚è¦å‘å‡ºpostè¯·æ±‚ï¼Œæ‚¨ä¸»è¦éœ€è¦ä¸¤æ ·ä¸œè¥¿ï¼Œä¸€ä¸ªåˆé€‚çš„ç«¯ç‚¹å’Œæ•°æ®ã€‚åœ¨å¤§å¤šæ•°è¯·æ±‚ä¸­ï¼Œæ‚¨è¿˜éœ€è¦æä¾›èº«ä»½éªŒè¯æ•°æ®ã€‚ä½†æ˜¯ç°åœ¨ï¼Œè®©æˆ‘ä»¬æŠŠé‡ç‚¹æ”¾åœ¨ç«¯ç‚¹å’Œæ•°æ®ä¸Šã€‚</p><p id="60fd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">æ‰€ä»¥ï¼Œå¦‚æœæˆ‘ä»¬æƒ³åœ¨JSONå ä½ç¬¦APIä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„postï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨<code class="fe nk nl nm nb b">/posts</code>ä½œä¸ºç«¯ç‚¹ã€‚æˆ‘ä»¬å°†æ”¶åˆ°æ¥è‡ªJSONå ä½ç¬¦APIçš„å“åº”ï¼Œå³æ·»åŠ çš„è®°å½•ã€‚ä»»ä½•æ–¹æ³•çš„å“åº”éƒ½å–å†³äºå…¶é…ç½®æ–¹å¼ã€‚ä¸è¦æ±‚å†æ¬¡å‘é€æ•°æ®ï¼Œä½†é€šå¸¸æƒ…å†µä¸‹ï¼Œå‘é€å›æ–°æ·»åŠ æˆ–æ›´æ–°çš„è®°å½•æ˜¯ä¸€ç§æ ‡å‡†ã€‚</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="e6de" class="nf lw it nb b gy ng nh l ni nj">from requests import post</span><span id="4eed" class="nf lw it nb b gy nn nh l ni nj">new_post_data = { 'title': 'foo', 'body': 'bar', 'userId': 1}<br/>response = post('https://jsonplaceholder.typicode.com/posts', data=new_post_data)<br/>data = response.json()<br/>print(data)</span><span id="d868" class="nf lw it nb b gy nn nh l ni nj">"""<br/>OUTPUT:<br/>-------<br/>{<br/>  "userId": 1,<br/>  "id": 101,<br/>  "title": "foo",<br/>  "body": "bar"<br/>}<br/>"""</span></pre><p id="6ed7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">è¿™é‡Œï¼Œä¸ºäº†ä¼ é€’æ•°æ®ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†Pythonå­—å…¸ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æ„¿æ„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨JSONæ•°æ®ã€‚è¦ä½¿ç”¨JSONæ•°æ®è€Œä¸æ˜¯<code class="fe nk nl nm nb b">data</code>ä½œä¸ºå‚æ•°ï¼Œæ‚¨éœ€è¦ä½¿ç”¨<code class="fe nk nl nm nb b">json</code>ã€‚</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="caff" class="nf lw it nb b gy ng nh l ni nj">from requests import post</span><span id="d40e" class="nf lw it nb b gy nn nh l ni nj">new_post_data = { 'title': 'foo', 'body': 'bar', 'userId': 1}<br/>response = post('https://jsonplaceholder.typicode.com/posts', json=new_post_data)<br/>data = response.json()<br/>print(data)</span><span id="a1b1" class="nf lw it nb b gy nn nh l ni nj">"""<br/>OUTPUT:<br/>-------<br/>{<br/>  "userId": 1,<br/>  "id": 101,<br/>  "title": "foo",<br/>  "body": "bar"<br/>}<br/>"""</span></pre><p id="6f02" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ä½ å¯èƒ½ä¼šæƒ³ï¼Œçœ‹èµ·æ¥æ˜¯ä¸€æ ·çš„ï¼Œä¸ºä»€ä¹ˆä¼šæœ‰ä¸¤ä¸ªä¸åŒçš„è®ºç‚¹ã€‚å¯¹äºæˆ‘ä»¬çš„<code class="fe nk nl nm nb b">new_post_data</code>å˜é‡ï¼Œpythonè‡ªåŠ¨å°†å…¶è½¬æ¢æˆJSONï¼Œåä¹‹äº¦ç„¶ã€‚ä½†æ˜¯æœ‰æ—¶æˆ‘ä»¬å¯èƒ½ä¼šä»å…¶ä»–APIè¯·æ±‚æ¥æ”¶JSONæ•°æ®ï¼Œå¹¶éœ€è¦å°†å®ƒä¼ é€’åˆ°POSTè¯·æ±‚çš„ä¸»ä½“ä¸­ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨<code class="fe nk nl nm nb b">json</code>å‚æ•°ã€‚Pythonä¼šå°†æ•°æ®è½¬æ¢æˆå®ƒçš„å†…éƒ¨æ•°æ®ç±»å‹ï¼Œä½†å¹¶ä¸æ˜¯æ¯æ¬¡éƒ½è¿™æ ·ï¼Œæ‰€ä»¥å¤§å¤šæ•°æ—¶å€™ï¼Œäººä»¬å€¾å‘äºä¿®æ”¹æ•°æ®æˆ–å°†æ•°æ®è½¬æ¢æˆå†…éƒ¨æ ¼å¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨<code class="fe nk nl nm nb b">data</code>å‚æ•°ã€‚</p><h1 id="8192" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">è¯·æ±‚åº“ä¸­çš„ä¿®è¡¥å’Œä¸Šä¼ æ–¹æ³•</h1><p id="3eee" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">ä¿®è¡¥å’Œä¸Šä¼ ï¼Œè¿™ä¸¤ç§æ–¹æ³•éƒ½ç”¨äºæ›´æ–°æ•°æ®ã€‚å¤§å¤šæ•°æ—¶å€™ä½ å¯ä»¥é€‰æ‹©ä½¿ç”¨å®ƒä»¬ã€‚å¦‚æœæƒ³äº†è§£æ›´å¤šï¼Œå¯ä»¥è¯•è¯•è¿™ä¸ª<a class="ae lu" href="https://stackoverflow.com/questions/21660791/what-is-the-main-difference-between-patch-and-put-request" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu">æ ˆæº¢å‡º</strong> </a>è§£é‡Šã€‚åœ¨è¿™é‡Œï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•å¯¹RequestsåŒ…ä½¿ç”¨PATCHæ–¹æ³•ã€‚PATCH/PUTæ–¹æ³•éœ€è¦ä¸POSTæ–¹æ³•ç›¸åŒç±»å‹çš„å‚æ•°ã€‚ä½†æ˜¯ä¸»è¦çš„åŒºåˆ«æ˜¯ï¼Œæˆ‘ä»¬ä¸æ˜¯è°ƒç”¨ä¸€èˆ¬çš„ç«¯ç‚¹ï¼Œè€Œæ˜¯ä½¿ç”¨ç‰¹å®šè®°å½•çš„ç«¯ç‚¹ã€‚ä¾‹å¦‚ï¼Œä¸ºäº†æ›´æ–°JSONå ä½ç¬¦APIä¸­ç¬¬äºŒæ¡è®°å½•çš„æ•°æ®ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<code class="fe nk nl nm nb b">/posts/2</code>ç«¯ç‚¹ã€‚</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="9165" class="nf lw it nb b gy ng nh l ni nj">from requests import get, patch</span><span id="ac7f" class="nf lw it nb b gy nn nh l ni nj">response = get('https://jsonplaceholder.typicode.com/posts/2')<br/>data = response.json()<br/>print(data)<br/>print('-'*15)</span><span id="591e" class="nf lw it nb b gy nn nh l ni nj">new_post_data = { 'title': 'foo', 'body': 'bar', 'userId': 1}<br/>response = patch('https://jsonplaceholder.typicode.com/posts/2', json=new_post_data)<br/>data = response.json()<br/>print(data)</span><span id="0dc1" class="nf lw it nb b gy nn nh l ni nj">"""<br/>OUTPUT:<br/>-------<br/>{'userId': 1, 'id': 2, 'title': 'qui est esse', 'body': 'est rerum tempore vitae\nsequi sint nihil reprehenderit dolor beatae ea dolores neque\nfugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\nqui aperiam non debitis possimus qui neque nisi nulla'}<br/>---------------<br/>{'userId': 1, 'id': 2, 'title': 'foo', 'body': 'bar'}<br/>"""</span></pre><p id="ce09" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">æ‚¨å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸POSTæ–¹æ³•ç›¸åŒçš„å‚æ•°å’Œè¿‡ç¨‹ã€‚</p><h1 id="8a38" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">è¯·æ±‚åº“ä¸­çš„åˆ é™¤æ–¹æ³•</h1><p id="15a8" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">é¡¾åæ€ä¹‰ï¼ŒDELETEæ–¹æ³•ç”¨äºä½¿è®°å½•è¢«åˆ é™¤æˆ–ä¸æ´»åŠ¨ã€‚æˆ‘ä»¬åƒåœ¨è¡¥ä¸æ–¹æ³•ä¸­ä¸€æ ·ä½¿ç”¨ç‰¹å®šçš„ç«¯ç‚¹ã€‚æœ‰äº›æƒ…å†µä¸‹ï¼Œäººä»¬ä¼šåˆ›å»ºä¸€ä¸ªç«¯ç‚¹æ¥åˆ é™¤æ‰€æœ‰è®°å½•ï¼Œä½†è¿‡ç¨‹ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚æ‚¨åªéœ€æ›´æ”¹ç«¯ç‚¹ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œä»JSONå ä½ç¬¦APIä¸­åˆ é™¤ç¬¬ä¸‰æ¡è®°å½•ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ä»¥ä¸‹ä»£ç :</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="9c79" class="nf lw it nb b gy ng nh l ni nj">from requests import delete</span><span id="cebd" class="nf lw it nb b gy nn nh l ni nj">response = delete('https://jsonplaceholder.typicode.com/posts/3')<br/>data = response.json()<br/>print(data)<br/>print(response.status_code)</span><span id="0931" class="nf lw it nb b gy nn nh l ni nj">"""<br/>OUTPUT:<br/>-------<br/>{}<br/>200<br/>"""</span></pre><p id="fdb8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å¯¹äºåˆ é™¤æ–¹æ³•ï¼Œæˆ‘ä»¬æ²¡æœ‰æ”¶åˆ°ä»»ä½•æ•°æ®ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬åœ¨è¾“å‡ºä¸­çœ‹åˆ°<code class="fe nk nl nm nb b">{}</code>çš„åŸå› ã€‚</p><p id="7ac0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">åœ¨æˆ‘ä»¬è¿›å…¥ä¸‹ä¸€éƒ¨åˆ†ä¹‹å‰ï¼Œæˆ‘æƒ³æä¸€ä¸‹ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨<code class="fe nk nl nm nb b">response.text</code>æ¥æ£€ç´¢æ•°æ®ã€‚ä½†æ˜¯å®ƒå°†ä»¥å­—ç¬¦ä¸²çš„å½¢å¼è¿”å›ã€‚æˆ‘ä»¬å¾—è‡ªå·±æŠŠå®ƒè½¬æ¢æˆdict/jsonã€‚</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="e488" class="nf lw it nb b gy ng nh l ni nj">from ast import literal_eval<br/>from json import loads<br/>from requests import get</span><span id="9ab1" class="nf lw it nb b gy nn nh l ni nj">response = get('https://jsonplaceholder.typicode.com/posts/3')</span><span id="a0e1" class="nf lw it nb b gy nn nh l ni nj">text_data = response.text<br/>print(text_data)<br/>print(type(text_data))<br/>print('-'*15)</span><span id="28f9" class="nf lw it nb b gy nn nh l ni nj">json_data = loads(response.text)<br/>print(json_data)<br/>print(type(json_data))<br/>print('-'*15)</span><span id="bef2" class="nf lw it nb b gy nn nh l ni nj">json_data = loads(response.text)<br/>dict_data = literal_eval(text_data)<br/>print(dict_data)<br/>print(type(dict_data))</span><span id="2a02" class="nf lw it nb b gy nn nh l ni nj">"""<br/>OUTPUT:<br/>-------<br/>{<br/>  "userId": 1,<br/>  "id": 3,<br/>  "title": "ea molestias quasi exercitationem repellat qui ipsa sit aut",<br/>  "body": "et iusto sed quo iure\nvoluptatem occaecati omnis eligendi aut ad\nvoluptatem doloribus vel accusantium quis pariatur\nmolestiae porro eius odio et labore et velit aut"<br/>}<br/>&lt;class 'str'&gt;<br/>---------------<br/>{'userId': 1, 'id': 3, 'title': 'ea molestias quasi exercitationem repellat qui ipsa sit aut', 'body': 'et iusto sed quo iure\nvoluptatem occaecati omnis eligendi aut ad\nvoluptatem doloribus vel accusantium quis pariatur\nmolestiae porro eius odio et labore et velit aut'}<br/>&lt;class 'dict'&gt;<br/>---------------<br/>{'userId': 1, 'id': 3, 'title': 'ea molestias quasi exercitationem repellat qui ipsa sit aut', 'body': 'et iusto sed quo iure\nvoluptatem occaecati omnis eligendi aut ad\nvoluptatem doloribus vel accusantium quis pariatur\nmolestiae porro eius odio et labore et velit aut'}<br/>&lt;class 'dict'&gt;<br/>"""</span></pre><p id="3b67" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å¦‚æœè¦åœ¨æ­£æ–‡ä¸­å‘é€æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨<code class="fe nk nl nm nb b">json.dumps()</code>å°†<strong class="la iu"> dict </strong>è½¬æ¢æˆ<strong class="la iu">å­—ç¬¦ä¸²</strong>ã€‚</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="6ab2" class="nf lw it nb b gy ng nh l ni nj">import json<br/>from requests import post</span><span id="1481" class="nf lw it nb b gy nn nh l ni nj">payload_data = {'userId': 1, 'title': 'ea molestias quasi exercitationem repellat qui ipsa sit aut', 'body': 'et iusto sed quo iure\nvoluptatem occaecati omnis eligendi aut ad\nvoluptatem doloribus vel accusantium quis pariatur\nmolestiae porro eius odio et labore et velit aut'}<br/>response = post('https://jsonplaceholder.typicode.com/posts', data=json.dumps(payload_data))</span><span id="1818" class="nf lw it nb b gy nn nh l ni nj">print(response.json())<br/>"""<br/>OUTPUT:<br/>-------<br/>{'id': 101}<br/>"""</span></pre><h1 id="8107" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">è¯·æ±‚æ¨¡å—ä¸­çš„èº«ä»½éªŒè¯å’Œè‡ªå®šä¹‰æ ‡å¤´</h1><p id="2359" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œæ‚¨éœ€è¦éªŒè¯/è¯†åˆ«è‡ªå·±çš„èº«ä»½ã€‚è¿™æ˜¯å¤§å¤šæ•°ç¬¬ä¸‰æ–¹åº“ä¸­çš„åœºæ™¯ã€‚åœ¨ä»»ä½•è¯·æ±‚ä¸­ä¼ é€’è‡ªå®šä¹‰æ ‡å¤´ã€‚æˆ‘ä»¬å¿…é¡»ä½¿ç”¨<strong class="la iu">å¤´</strong>å‚æ•°ã€‚</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="56c7" class="nf lw it nb b gy ng nh l ni nj">import json<br/>from requests import post</span><span id="bee2" class="nf lw it nb b gy nn nh l ni nj">payload_data = {'userId': 1, 'title': 'foo', 'body': 'bar'}</span><span id="40ef" class="nf lw it nb b gy nn nh l ni nj">headers = {'content-type': 'application/json'}<br/>response = post('https://jsonplaceholder.typicode.com/posts', data=json.dumps(payload_data), headers=headers)<br/>print(response.json())<br/>print('-'*15)</span><span id="e0e6" class="nf lw it nb b gy nn nh l ni nj">headers = {'content-type': 'application/text'}<br/>response = post('https://jsonplaceholder.typicode.com/posts', data=json.dumps(payload_data), headers=headers)<br/>print(response.json())</span><span id="9004" class="nf lw it nb b gy nn nh l ni nj">"""<br/>OUTPUT:<br/>-------<br/>{'userId': 1, 'title': 'foo', 'body': 'bar', 'id': 101}<br/>---------------<br/>{'id': 101}<br/>"""</span></pre><p id="143b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥æ³¨æ„åˆ°æˆ‘ä»¬ä½¿ç”¨<code class="fe nk nl nm nb b">application/text</code>å’Œ<code class="fe nk nl nm nb b">application/json</code>æ—¶çš„åŒºåˆ«ã€‚æœ‰æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ˜ç¡®è¯´æ˜æˆ‘ä»¬å‘é€çš„æ˜¯ä»€ä¹ˆç±»å‹çš„æ•°æ®ã€‚è¿™åªæ˜¯ä¸€ç§æƒ…å†µï¼Œä½ å¯ä»¥ä½¿ç”¨å¤šç§ç±»å‹çš„å¤´ã€‚ä½ å¯ä»¥åœ¨å®˜æ–¹æ–‡æ¡£ä¸­æ‰¾åˆ°å®Œæ•´çš„åˆ—è¡¨ã€‚</p><p id="bae9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ç°åœ¨ä½ æ‰€æœŸå¾…çš„æ¥äº†ã€‚å¦‚ä½•ä¼ é€’è®¤è¯æ•°æ®ï¼Ÿåœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä½¿ç”¨Twitter APIæ¥è·å–tweetæ•°æ®ã€‚Twitterè¦æ±‚åœ¨å‘å‡ºä»»ä½•è¯·æ±‚æ—¶ä¼ é€’<strong class="la iu">ä¸è®°åä»¤ç‰Œ</strong>æˆ–å…¶ä»–<strong class="la iu"> OAuthä»¤ç‰Œ</strong>ã€‚</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="f3af" class="nf lw it nb b gy ng nh l ni nj">import json<br/>from requests import get</span><span id="aab6" class="nf lw it nb b gy nn nh l ni nj">URL = "https://api.twitter.com/2/tweets?ids=1505694856240377860&amp;tweet.fields=lang,public_metrics"<br/>headers = {'content-type': 'application/json', 'Authorization': f'Bearer {ACCESS_TOKEN}'}</span><span id="10ef" class="nf lw it nb b gy nn nh l ni nj">response = get(URL, headers=headers)<br/>print(response.json()['data'][0])</span><span id="df00" class="nf lw it nb b gy nn nh l ni nj">"""<br/>OUTPUT:<br/>-------<br/>{<br/>  "text": "Inspiration is perishableâ€”act on it immediately.\n\nâ€” @naval",<br/>  "id": "1505694856240377860",<br/>  "lang": "en",<br/>  "public_metrics": {<br/>    "retweet_count": 29,<br/>    "reply_count": 7,<br/>    "like_count": 351,<br/>    "quote_count": 0<br/>  }<br/>}<br/>"""</span></pre><p id="ef4f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å¦‚æ‚¨æ‰€è§ï¼Œæ‚¨åªéœ€è¦å°†<code class="fe nk nl nm nb b">Authentication</code>é”®-å€¼å¯¹æ·»åŠ åˆ°æ‚¨çš„headerså­—å…¸ä¸­ã€‚ç°åœ¨æˆ‘ä½¿ç”¨çš„æ˜¯ä¸è®°åä»¤ç‰Œï¼Œä½†å¦‚æœä½ ä½¿ç”¨å…¶ä»–ç±»å‹çš„ä»¤ç‰Œï¼Œé‚£ä¹ˆè¿™ä¸ªå€¼å°†ä¸åŒäºè¿™ä¸ª<strong class="la iu">è®¤è¯</strong>å¯†é’¥ã€‚</p><p id="6d4d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å¦‚æœæ‚¨æƒ³ä½¿ç”¨OAuthè®¤è¯è€Œä¸æ˜¯æ‰¿è½½ä»¤ç‰Œï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿè¦ä½¿ç”¨OAuthè®¤è¯ï¼Œå¯ä»¥ä½¿ç”¨<code class="fe nk nl nm nb b">requests-oauthlib</code>åº“ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç»ˆç«¯å‘½ä»¤å®‰è£…å®ƒ:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="4da4" class="nf lw it nb b gy ng nh l ni nj">pip install requests-oauthlib</span></pre><p id="81ea" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ä¸€æ—¦å®‰è£…äº†<strong class="la iu"> requests-oauthlib </strong>åº“å¹¶å¯¹å…¶è¿›è¡Œäº†éªŒè¯ï¼Œä½¿ç”¨ä¸‹é¢çš„ä»£ç ç‰‡æ®µå¯¹è¯·æ±‚æ¨¡å—ä½¿ç”¨OAuth1èº«ä»½éªŒè¯ã€‚</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="f19d" class="nf lw it nb b gy ng nh l ni nj">import json<br/>from requests import get<br/>from requests_oauthlib import OAuth1</span><span id="507a" class="nf lw it nb b gy nn nh l ni nj">URL = "https://api.twitter.com/2/tweets?ids=1505694856240377860&amp;tweet.fields=lang,public_metrics"<br/>auth = OAuth1(CONSUMER_KEY, CONSUMER_SECRET,ACCESS_KEY, ACCESS_SECRET)</span><span id="25ff" class="nf lw it nb b gy nn nh l ni nj">response = get(URL,  auth=auth)<br/>print(response.json()["data"][0])</span><span id="5c37" class="nf lw it nb b gy nn nh l ni nj">"""<br/>OUTPUT:<br/>-------<br/>{<br/>  "text": "Inspiration is perishableâ€”act on it immediately.\n\nâ€” @naval",<br/>  "id": "1505694856240377860",<br/>  "lang": "en",<br/>  "public_metrics": {<br/>    "retweet_count": 29,<br/>    "reply_count": 7,<br/>    "like_count": 351,<br/>    "quote_count": 0<br/>  }<br/>}<br/>"""</span></pre></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h1 id="9348" class="lv lw it bd lx ly nv ma mb mc nw me mf jz nx ka mh kc ny kd mj kf nz kg ml mm bi translated">ç»“è®º</h1><p id="7071" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">ä¹Œffffï¼13åˆ†é’Ÿè¯»å®ŒhağŸ˜†ï¼å°±æ˜¯è¿™æ ·ï¼Œæœ‹å‹ä»¬ã€‚æˆ‘å¸Œæœ›æ‚¨å¯¹å¦‚ä½•ä½¿ç”¨Pythonä¸­çš„è¯·æ±‚åº“æœ‰äº†æ›´å¥½çš„äº†è§£ã€‚é™¤äº†è°ƒç”¨APIä¹‹å¤–ï¼Œè¿˜å¯ä»¥å°†Requestsåº“ä¸å…¶ä»–åº“ç»“åˆèµ·æ¥åšå¾ˆå¤šäº‹æƒ…ã€‚</p><p id="5d64" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">è¯·åŠ¡å¿…åœ¨ä¸‹é¢çš„è¯„è®ºä¸­ç•™ä¸‹ä½ çš„æƒ³æ³•ã€é—®é¢˜æˆ–æ‹…å¿§ã€‚æˆ‘å¾ˆæƒ³çœ‹çœ‹ä»–ä»¬ã€‚å¦‚æœä½ éœ€è¦ä»»ä½•å¸®åŠ©æˆ–è€…æƒ³è®¨è®ºä»€ä¹ˆï¼Œè¯·å‘Šè¯‰æˆ‘ã€‚åœ¨Twitteræˆ–LinkedInä¸Šè”ç³»æˆ‘ã€‚</p><blockquote class="oa"><p id="49a7" class="ob oc it bd od oe of og oh oi oj lt dk translated">æƒ³äº†è§£æ›´å¤šï¼Ÿ</p><p id="bab3" class="ob oc it bd od oe of og oh oi oj lt dk translated">æ³¨å†Œæˆ‘çš„<a class="ae lu" href="https://sahil-fruitwala.medium.com/subscribe" rel="noopener">æ—¶äº‹é€šè®¯</a>ï¼ŒæŠŠæœ€å¥½çš„æ–‡ç« æ”¾è¿›ä½ çš„æ”¶ä»¶ç®±ã€‚</p></blockquote><blockquote class="ms mt mu"><p id="3675" class="ky kz mv la b lb ok ju ld le ol jx lg mw om lj lk mx on ln lo my oo lr ls lt im bi translated">äº†è§£æ›´å¤šå…³äºAPIçš„ä¿¡æ¯ğŸ‘‡</p></blockquote><div class="op oq gp gr or os"><a href="https://javascript.plainenglish.io/what-is-an-api-b53f95aa79a7" rel="noopener  ugc nofollow" target="_blank"><div class="ot ab fo"><div class="ou ab ov cl cj ow"><h2 class="bd iu gy z fp ox fr fs oy fu fw is bi translated">ä»€ä¹ˆæ˜¯APIï¼Ÿåˆå­¦è€…çš„å…¨é¢æŒ‡å—</h2><div class="oz l"><h3 class="bd b gy z fp ox fr fs oy fu fw dk translated">äº†è§£ä»€ä¹ˆæ˜¯APIï¼Œæœ‰å“ªäº›ä¸åŒç±»å‹çš„APIã€‚</h3></div><div class="pa l"><p class="bd b dl z fp ox fr fs oy fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="pb l"><div class="pc l pd pe pf pb pg ks os"/></div></div></a></div></div></div>    
</body>
</html>