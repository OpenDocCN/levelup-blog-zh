<html>
<head>
<title>Prevent Memory Leaks in Angular Observables</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">防止角度观测值中的内存泄漏</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/prevent-memory-leaks-in-angular-observables-eb48cad9eadb?source=collection_archive---------9-----------------------#2021-12-27">https://levelup.gitconnected.com/prevent-memory-leaks-in-angular-observables-eb48cad9eadb?source=collection_archive---------9-----------------------#2021-12-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="ab71" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最近，我在我的Angular项目中遇到了一个问题，每次我找到相同的页面时，内存的大小都会增加。</p><p id="bbc4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">由于内存没有被释放，页面在后续请求中的速度越来越慢。内存泄漏的原因之一是那些未被取消订阅的可观察对象。</p></div><div class="ab cl kl km hu kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="ij ik il im in"><p id="3b78" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里我们将讨论取消订阅可观测量的四种方法。</p><ol class=""><li id="8712" class="ks kt iq jp b jq jr ju jv jy ku kc kv kg kw kk kx ky kz la bi translated">将每个订阅存储在单独的变量中，并在ngOnDestroy上取消订阅，如下所示。</li></ol><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lb"><img src="../Images/4e1388375fca3feba391c0ed67b8d048.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PfYguSPFFCZizHJqvHm96g.png"/></div></div></figure><p id="e748" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2.现在，为每个可观察对象声明一个订阅是一项乏味的任务。如果我们完全去掉所有这些变量，只使用下面的一个变量会怎么样。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi ln"><img src="../Images/64ed5dfb79589d6cbea822ebf76074e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/1*a_ds6JBf4Aph7HrOPEH7eA.png"/></div></figure><p id="08ce" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3.另一种方法是使用主语。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi lo"><img src="../Images/460767d728839d41e62e29a85d3dc680.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/1*VhYfkJjTzK3tZYrxX3bqRA.png"/></div></figure><p id="06a6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">4.最好的方法是使用异步管道。一旦组件被破坏，observable就会自动退订。在这里，数据$是可观察的。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi lp"><img src="../Images/d51594caadefff96bac077f09eeb3778.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/format:webp/1*Bvzt56WvJWw7lLSFoGTQ9w.png"/></div></figure><p id="b52e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">希望你会觉得有用。</p><p id="2247" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">任何反馈都将不胜感激。</p></div><div class="ab cl kl km hu kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="ij ik il im in"><p id="e18f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我在Udemy上创建了一个Angular课程，涵盖了Angular中的许多实际问题和解决方案，包括这个。这可能是你职业生涯的垫脚石。 <a class="ae lr" href="https://www.udemy.com/course/angular-practicals/?couponCode=F48E50E6ECF6D99AD500" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="lq">请看一看。</em> </strong> </a></p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi ls"><img src="../Images/2b539648c9e52f6017ff625f8686ca95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*zJn16C-dCeRj9UHE.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">角实践</figcaption></figure><p id="5e51" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">也可以观看/订阅我的免费<a class="ae lr" href="https://www.youtube.com/channel/UC30-Z9Lz8DWe_Vq93dOs-Gw" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> YouTube频道</strong> </a> <strong class="jp ir">。</strong></p></div><div class="ab cl kl km hu kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="ij ik il im in"><p id="68b3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请订阅/关注/喜欢/鼓掌。</p></div></div>    
</body>
</html>