<html>
<head>
<title>Trix â€” Rich editor for your Rails 6 application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">trixâ€”â€”Rails 6åº”ç”¨ç¨‹åºçš„ä¸°å¯Œç¼–è¾‘å™¨</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/trix-rich-editor-for-your-rails-6-application-7b89e2f33de8?source=collection_archive---------4-----------------------#2020-01-10">https://levelup.gitconnected.com/trix-rich-editor-for-your-rails-6-application-7b89e2f33de8?source=collection_archive---------4-----------------------#2020-01-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/62e73541ffe8f66f7bffd7ee96108271.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gxsZogZJJH93NObpXXmuEw.jpeg"/></div></div></figure><ul class=""><li id="2b02" class="jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">å®‰è£…æ–‡æœ¬ç¼–è¾‘å™¨</li><li id="868e" class="jy jz iq ka b kb kq kd kr kf ks kh kt kj ku kl km kn ko kp bi translated">å‘ActiveRecordæ·»åŠ æ–°çš„æ–‡æœ¬å†…å®¹</li><li id="774b" class="jy jz iq ka b kb kq kd kr kf ks kh kt kj ku kl km kn ko kp bi translated">å®ƒåœ¨è¡¨å•ä¸­çš„æ ·å­</li><li id="bec2" class="jy jz iq ka b kb kq kd kr kf ks kh kt kj ku kl km kn ko kp bi translated">ä¿å­˜å†…å®¹</li></ul></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="9c12" class="pw-post-body-paragraph lc ld iq ka b kb kc le lf kd ke lg lh kf li lj lk kh ll lm ln kj lo lp lq kl ij bi translated">åœ¨æœ¬ç³»åˆ—çš„ç¬¬1éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬è®¨è®ºäº†RESTful APIå’Œä»¤ç‰Œè®¤è¯ã€‚æˆ‘ä»¬å°†ç»§ç»­æ‰©å±•æˆ‘ä»¬çš„æ—…è¡Œè§„åˆ’åº”ç”¨ç¨‹åºã€‚</p><div class="lr ls gp gr lt lu"><a href="https://medium.com/@billy.sf.cheng/a-rails-6-application-part-1-api-1ee5ccf7ed01" rel="noopener follow" target="_blank"><div class="lv ab fo"><div class="lw ab lx cl cj ly"><h2 class="bd ir gy z fp lz fr fs ma fu fw ip bi translated">åœ¨å¸¦æœ‰ä»¤ç‰Œè®¤è¯çš„Rails 6åº”ç”¨ç¨‹åºä¸­æ„å»ºRestful APIs</h2><div class="mb l"><h3 class="bd b gy z fp lz fr fs ma fu fw dk translated">é€šè¿‡ç¤ºä¾‹ä¸€æ­¥ä¸€æ­¥åœ°åœ¨Rails 6ä¸­åˆ›å»ºå¸¦æœ‰ä»¤ç‰Œè®¤è¯çš„æ–°APIã€‚</h3></div><div class="mc l"><p class="bd b dl z fp lz fr fs ma fu fw dk translated">medium.com</p></div></div><div class="md l"><div class="me l mf mg mh md mi jw lu"/></div></div></a></div></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h1 id="2f39" class="mj mk iq bd ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng bi translated">å®‰è£…æ–‡æœ¬ç¼–è¾‘å™¨</h1><p id="9753" class="pw-post-body-paragraph lc ld iq ka b kb nh le lf kd ni lg lh kf nj lj lk kh nk lm ln kj nl lp lq kl ij bi translated">åœ¨Rails 6ä¹‹å‰ï¼Œå¦‚æœæˆ‘ä»¬è¦ä½¿ç”¨æ‰€è§å³æ‰€å¾—ç¼–è¾‘å™¨ï¼Œæœ‰å¾ˆå¤šé€‰é¡¹ï¼Œå¦‚CKEditoræˆ–TinyMCEã€‚ç°åœ¨åœ¨Rails 6ä¸­ï¼Œå®ƒé™„å¸¦äº†ç”±Ruby on Railså’ŒBasecampçš„å¼€å‘è€…å¼€å‘çš„Trixç¼–è¾‘å™¨ã€‚</p><p id="6e5c" class="pw-post-body-paragraph lc ld iq ka b kb kc le lf kd ke lg lh kf li lj lk kh ll lm ln kj lo lp lq kl ij bi translated">å®‰è£…å®ƒéå¸¸ç®€å•ï¼Œä½ è¿è¡Œ<code class="fe nm nn no np b">rails action_text:install</code>ã€‚ä¸€æ—¦å®Œæˆï¼Œä½ ä¼šçœ‹åˆ°</p><pre class="nq nr ns nt gt nu np nv nw aw nx bi"><span id="bb15" class="ny mk iq np b gy nz oa l ob oc"><strong class="np ir">$ rails action_text:install</strong><br/>Copying actiontext.scss to app/assets/stylesheets<br/>      <strong class="np ir">create</strong>  app/assets/stylesheets/actiontext.scss<br/>Copying fixtures to test/fixtures/action_text/rich_texts.yml<br/>      <strong class="np ir">create</strong>  test/fixtures/action_text/rich_texts.yml<br/>Copying blob rendering partial to app/views/active_storage/blobs/_blob.html.erb<br/>      <strong class="np ir">create</strong>  app/views/active_storage/blobs/_blob.html.erb<br/>Installing JavaScript dependencies<br/>      <strong class="np ir">run</strong>  yarn add trix@^1.0.0 @rails/actiontext@^6.0.1 from "."<br/><strong class="np ir">yarn add v1.19.0<br/></strong>[1/4] ğŸ”  Resolving packages...<br/>[2/4] ğŸšš  Fetching packages...<br/>[3/4] ğŸ”—  Linking dependencies...<br/>warning " &gt; webpack-dev-server@3.9.0" has unmet peer dependency "webpack@^4.0.0".<br/>warning "webpack-dev-server &gt; webpack-dev-middleware@3.7.2" has unmet peer dependency "webpack@^4.0.0".<br/>[4/4] ğŸ”¨  Building fresh packages...</span><span id="a334" class="ny mk iq np b gy od oa l ob oc">success Saved lockfile.<br/>warning Your current version of Yarn is out of date. The latest version is "1.19.1", while you're on "1.19.0".<br/>info To upgrade, run the following command:<br/>$ brew upgrade yarn<br/>success Saved 2 new dependencies.<br/>info Direct dependencies<br/>â”œâ”€ @rails/actiontext@6.0.1<br/>â””â”€ trix@1.2.1<br/>info All dependencies<br/>â”œâ”€ @rails/actiontext@6.0.1<br/>â””â”€ trix@1.2.1<br/>âœ¨  Done in 10.97s.<br/>Adding trix to app/javascript/packs/application.js<br/>      <strong class="np ir">append</strong>  app/javascript/packs/application.js<br/>Adding @rails/actiontext to app/javascript/packs/application.js<br/>      <strong class="np ir">append</strong>  app/javascript/packs/application.js<br/>Copied migration 20191124011114_create_active_storage_tables.active_storage.rb from active_storage<br/>Copied migration 20191124011115_create_action_text_tables.action_text.rb from action_text</span></pre></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h1 id="2fcd" class="mj mk iq bd ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng bi translated">åœ¨ActiveRecordä¸­æ·»åŠ æ–°çš„æ–‡æœ¬å†…å®¹</h1><p id="d5d0" class="pw-post-body-paragraph lc ld iq ka b kb nh le lf kd ni lg lh kf nj lj lk kh nk lm ln kj nl lp lq kl ij bi translated">è®©ActiveRecordä½¿ç”¨ActionTextå¾ˆç®€å•ï¼Œåªéœ€æ·»åŠ <code class="fe nm nn no np b">has_rich_text :content</code>å³å¯ã€‚</p><pre class="nq nr ns nt gt nu np nv nw aw nx bi"><span id="a13a" class="ny mk iq np b gy nz oa l ob oc"><strong class="np ir"># app/models/trip.rb</strong><br/>class Trip &lt; ApplicationRecord<br/>  has_rich_text :content<br/>end</span></pre></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h1 id="fa53" class="mj mk iq bd ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng bi translated">å®ƒåœ¨è¡¨å•ä¸­çš„æ ·å­</h1><p id="fb01" class="pw-post-body-paragraph lc ld iq ka b kb nh le lf kd ni lg lh kf nj lj lk kh nk lm ln kj nl lp lq kl ij bi translated">å½“ä½ è¡¨æ¼”<code class="fe nm nn no np b">rails action_text:install</code>æ—¶ï¼Œä¼šæœ‰ä¸€ä¸ª<code class="fe nm nn no np b">actiontext.scss</code>ä¸ºä½ è€Œç”Ÿã€‚ä½ å¿…é¡»åœ¨ä½ çš„<code class="fe nm nn no np b">application.css</code>æ¡£æ¡ˆä¸­â€˜è¦æ±‚â€™è¿™ä¸€ç‚¹ã€‚</p><pre class="nq nr ns nt gt nu np nv nw aw nx bi"><span id="8ab5" class="ny mk iq np b gy nz oa l ob oc"><strong class="np ir"># app/assets/stylesheets/application.scss</strong><br/>//= require actiontext</span></pre><p id="e750" class="pw-post-body-paragraph lc ld iq ka b kb kc le lf kd ke lg lh kf li lj lk kh ll lm ln kj lo lp lq kl ij bi translated">åœ¨æ‚¨çš„è§†å›¾æ–‡ä»¶ä¸­ï¼Œæ‚¨åŒ…å«ä¸€ä¸ª<code class="fe nm nn no np b">rich_text_area</code>ï¼Œå¥‡è¿¹å°±ä¼šå‘ç”Ÿã€‚</p><h2 id="3ed4" class="ny mk iq bd ml oe of dn mp og oh dp mt kf oi oj mx kh ok ol nb kj om on nf oo bi translated">è§†è§’</h2><pre class="nq nr ns nt gt nu np nv nw aw nx bi"><span id="aa9b" class="ny mk iq np b gy nz oa l ob oc"><strong class="np ir"># app/views/trips/_form.html.erb<br/></strong>&lt;%= form_with(model: trip) do |form| %&gt;<br/>  &lt;div class="field"&gt;<br/>    &lt;%= form.label :name %&gt;<br/>    &lt;%= form.text_field :name, class: "form-control" %&gt;<br/>  &lt;/div&gt;</span><span id="166d" class="ny mk iq np b gy od oa l ob oc">&lt;div class="field"&gt;<br/>    &lt;%= form.label :content %&gt;<br/>    &lt;%= form.rich_text_area :content %&gt;<br/>  &lt;/div&gt;<br/>  &lt;div class="field"&gt;<br/>    &lt;button type="submit" class="btn btn-success"&gt;Save&lt;/button&gt;<br/>  &lt;/div&gt;<br/>&lt;% end %&gt;</span><span id="f1ce" class="ny mk iq np b gy od oa l ob oc"><strong class="np ir"># app/views/trip/news.html.erb</strong><br/>&lt;%= render partial: "form", locals: { trip: <a class="ae op" href="http://twitter.com/trip" rel="noopener ugc nofollow" target="_blank">@trip</a> } %&gt;</span></pre><h2 id="a366" class="ny mk iq bd ml oe of dn mp og oh dp mt kf oi oj mx kh ok ol nb kj om on nf oo bi translated">æ§åˆ¶å™¨</h2><pre class="nq nr ns nt gt nu np nv nw aw nx bi"><span id="3c8f" class="ny mk iq np b gy nz oa l ob oc"><strong class="np ir"># app/controllers/trips_controller.rb</strong><br/>class TripsController &lt; ApplicationController<br/>  <br/>  def new<br/>    <a class="ae op" href="http://twitter.com/trip" rel="noopener ugc nofollow" target="_blank">@trip</a> = Trip.new<br/>  end<br/>  <br/>  def create<br/>    trip = Trip.create! trip_params<br/>    redirect_to trip<br/>  end<br/>  <br/>  def show<br/>    <a class="ae op" href="http://twitter.com/trip" rel="noopener ugc nofollow" target="_blank">@trip</a> = Trip.find(params[:id])<br/>  end<br/>  <br/>  private<br/>  <br/>  def trip_params<br/>    params.require(:trip).permit(:name, :content)<br/>  end<br/>  <br/>end</span></pre><h2 id="a748" class="ny mk iq bd ml oe of dn mp og oh dp mt kf oi oj mx kh ok ol nb kj om on nf oo bi translated">ç»“æœ</h2><figure class="nq nr ns nt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oq"><img src="../Images/74a6bc8be0495a0fa58ba69f85792361.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EkWuvq6-EHqmROEuB8a4Yw.png"/></div></div><figcaption class="or os gj gh gi ot ou bd b be z dk translated">ç‰¹é‡Œå…‹æ–¯ç¼–è¾‘å™¨</figcaption></figure><figure class="nq nr ns nt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oq"><img src="../Images/105f82e2d89666be324477cdb7524932.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A0WTDVWR6oxrGF04OVU7jw.png"/></div></div></figure><p id="9a6b" class="pw-post-body-paragraph lc ld iq ka b kb kc le lf kd ke lg lh kf li lj lk kh ll lm ln kj lo lp lq kl ij bi translated">å¦‚æœä½ åƒæˆ‘åœ¨ä¾‹å­ä¸­æ‰€åšçš„é‚£æ ·é™„åŠ å›¾åƒï¼Œä½ ä¹Ÿéœ€è¦å°†<code class="fe nm nn no np b">gem 'image_processing', '~&gt; 1.0'</code>æ·»åŠ åˆ°ä½ çš„Gemfileä¸­ã€‚</p></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h1 id="199c" class="mj mk iq bd ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng bi translated">ä¿å­˜å†…å®¹</h1><figure class="nq nr ns nt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oq"><img src="../Images/03809d484a1e9978157353ca47cee6c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*36bD3aOONkEfYjRS2bkjlw.png"/></div></div></figure></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="f3fd" class="pw-post-body-paragraph lc ld iq ka b kb kc le lf kd ke lg lh kf li lj lk kh ll lm ln kj lo lp lq kl ij bi translated">ç§ï¼Œç°åœ¨åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­æœ‰ä¸€ä¸ªå¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ˜¯éå¸¸ç®€å•å’Œç›´æ¥çš„ã€‚è¯•è¯•å§ï¼Œæˆ‘ä»¬ä¸‹æ¬¡å†è§ï¼</p></div></div>    
</body>
</html>