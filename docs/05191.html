<html>
<head>
<title>Automate Debugging Swift Objects Using the CustomStringConvertible Protocol</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用CustomStringConvertible协议自动调试Swift对象</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/automate-debugging-swift-objects-using-the-customstringconvertible-protocol-c01fff74380f?source=collection_archive---------15-----------------------#2020-08-10">https://levelup.gitconnected.com/automate-debugging-swift-objects-using-the-customstringconvertible-protocol-c01fff74380f?source=collection_archive---------15-----------------------#2020-08-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4530" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一个方便的扩展来复制和粘贴你的应用程序</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/fbf085a1174702acc5564551d73acf6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MRWdAuXtqP-xHZ1g"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@fredmarriage?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">弗雷迪婚姻</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="5ca3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将了解如何在扩展中使用方便的<code class="fe lv lw lx ly b">CustomStringConvertible</code>协议一致性来轻松地自动调试Swift对象。</p><p id="fae1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">扩展的源代码可以在文章的底部找到。</p><p id="1115" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">事不宜迟，我们开始吧。</p><h1 id="9440" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">我们开始吧</h1><p id="a681" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">如果您曾经遵循过<a class="ae ky" href="https://medium.com/better-programming/what-is-the-customstringconvertible-protocol-in-swift-4b7ddbc5785b" rel="noopener"> CustomStringConvertible协议</a>，那么这段代码对您来说会非常熟悉:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/17cfee3ff583f810fd17cff198aa234d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*duJMrNJX7UNHfeNAJsilpA.png"/></div></div></figure><p id="1533" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果只有两个对象需要调试，那就没问题。但是如果你有很多，为每个对象创建相似的<code class="fe lv lw lx ly b">description</code>属性将会非常耗时。</p><p id="567d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">出于这个原因，我们可以通过在协议上创建一个扩展来自动化这个过程，这样你只需要遵守<code class="fe lv lw lx ly b">CustomStringConvertible</code>，这个扩展就会帮你完成繁重的工作。</p><p id="27fb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是扩展:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mx"><img src="../Images/fd0f2ef0e15c70bf26dc31078f1238e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7ak0-HzI9z6JHBCssGlc_A.png"/></div></div></figure><p id="d7b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是它的作用:</p><ul class=""><li id="621c" class="my mz it lb b lc ld lf lg li na lm nb lq nc lu nd ne nf ng bi translated">创建一个显示对象类型的字符串</li><li id="a9b8" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated">创建一个代表对象属性的<code class="fe lv lw lx ly b">Mirror</code>。</li><li id="0041" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated">迭代对象的属性，并将每个属性的名称和值追加到字符串中。</li><li id="db0a" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated">返回完成的字符串</li></ul><p id="71f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，你现在唯一要做的就是简单地符合<code class="fe lv lw lx ly b">CustomStringConvertible</code>，不需要<code class="fe lv lw lx ly b">description</code>属性:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/6f95012ff0e7dccc86861b987d818961.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LgHI5JvH5492uvHr4oIWbg.png"/></div></div></figure><p id="4ec7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，如果我们用一个<code class="fe lv lw lx ly b">Author</code>初始化一个<code class="fe lv lw lx ly b">Message</code>，然后打印它，我们将看到如下内容:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/4b8804d197c09288af38d68c31a4ade2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fLwdEKRDBCwqS1HUTA4PJA.png"/></div></div></figure><p id="988a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">太好了！我们已经成功地自动调试了Swift对象。</p></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><p id="3c2b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有时，您可能希望为每个特定类型提供一个自定义扩展。例如，您的目标可能是以一种方式打印<code class="fe lv lw lx ly b">Codable</code>对象，而其他方式则不同。通过使用类型约束(<code class="fe lv lw lx ly b">where Self: Codable</code>)，比以往任何时候都更容易:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mx"><img src="../Images/cbe4824b2d0493c0f09378ea94818d65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g1m9bmS3SGSiblSs4aknjA.png"/></div></div></figure><p id="514e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在这个扩展只对<code class="fe lv lw lx ly b">Codable</code>对象有效。</p><h1 id="e30a" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">资源</h1><p id="5996" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">扩展的源代码可以在<a class="ae ky" href="https://gist.github.com/zafarivaev/e2d8ccf89e5cf8f72c68d1858f527e12" rel="noopener ugc nofollow" target="_blank">概要</a>中找到。</p><h1 id="e5f8" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">包扎</h1><p id="3970" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">想了解更多酷炫的Swift技巧吗？看看我下面的其他故事:</p><ul class=""><li id="31f0" class="my mz it lb b lc ld lf lg li na lm nb lq nc lu nd ne nf ng bi translated"><a class="ae ky" href="https://medium.com/better-programming/5-useful-swift-extensions-to-use-in-your-ios-app-f54a817ea9a9" rel="noopener">在您的iOS应用中使用的5个有用的Swift扩展</a></li><li id="530b" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://medium.com/cleansoftware/what-is-the-expressiblebyintegerliteral-protocol-in-swift-e71ad4a37a96" rel="noopener">Swift中的ExpressibleByIntegerLiteral协议是什么？</a></li><li id="3b05" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/create-a-uilabel-with-dynamic-font-size-in-swift-5-f49ccc26dc5f">在Swift 5中创建一个动态字体大小的UILabel】</a></li><li id="9746" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://medium.com/better-programming/2-ways-to-make-protocol-methods-optional-in-swift-f032836a343b" rel="noopener">Swift中可选协议方法的2种方式</a></li><li id="813e" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated"><a class="ae ky" href="https://medium.com/better-programming/how-to-screenshot-your-ios-apps-ui-in-swift-5c054a9226a5" rel="noopener">如何在Swift中截图你的iOS应用的UI</a></li></ul><p id="d084" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！</p></div></div>    
</body>
</html>