<html>
<head>
<title>A monorepo template that actually works</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一个有效的monorepo模板</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/a-monorepo-template-that-actually-works-3efd87770fa5?source=collection_archive---------2-----------------------#2022-11-16">https://levelup.gitconnected.com/a-monorepo-template-that-actually-works-3efd87770fa5?source=collection_archive---------2-----------------------#2022-11-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5e19" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">当你做对了，你就再也不会回头了。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2e51e7bed942fe18666f566464a351f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*w_1A_XQdPL-DKUJB.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">实用的monorepo</figcaption></figure><p id="4c16" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我参与过几十个项目，从常见的1-2开发项目到全面的企业应用程序。Monorepo架构是一种流行的方法，起初可能令人生畏，但却是一种令人惊讶的强大工具。</p><p id="e2b4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(顺便说一句，Medium的所有产品服务都使用monorepo。这对我们的团队非常有用。)</p><p id="d402" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我强烈支持用monorepo启动新项目，并且只在monorepo对特定(有限)用例不起作用时才打破常规。</p><p id="6ad0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我最喜欢的monorepo结构简单，易于采用，并且经久耐用。</p><h1 id="2bd0" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">lib:共享库</h1><p id="b204" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated"><code class="fe mr ms mt mu b">/lib/</code>目录包含共享代码。这些库可以部署到包管理器(例如npm、PyPI)。它们应该是相互独立的。</p><p id="829d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您有被多个项目使用的代码，将该代码添加到<code class="fe mr ms mt mu b">/lib/</code>。该文件夹中的公共代码包括protobuf定义、自定义错误包装器和域模型。</p><p id="1440" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe mr ms mt mu b">/lib/</code> <em class="mv">中的库不能</em>作为独立的应用程序部署(那些是<em class="mv">项目</em>)。</p><h1 id="52a8" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">项目:部署的服务</h1><p id="1126" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated"><code class="fe mr ms mt mu b">/projects/</code>中的项目是独立的、可部署的应用程序。它们彼此完全分离，并且<em class="mv">必须</em>能够独立部署(即您可以部署<em class="mv">项目1 </em>而不部署<em class="mv">项目2 </em>)。</p><p id="2aa6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果项目之间需要共享代码，这些代码属于<code class="fe mr ms mt mu b">/lib/</code>。</p><h1 id="44bc" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">秘密:monorepo的加密秘密</h1><p id="d3d5" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated"><code class="fe mr ms mt mu b">/secrets/</code>包含monorepo的加密秘密。每个秘密(或秘密目录)应该包含一个附带的自述文件，解释什么是秘密以及应该如何使用它。</p><p id="7a97" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">秘密通常用于构建管道，但也可以用于开发环境。例如，秘密可能包含用于访问第三方服务的私有API密钥。</p><p id="46b3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="mv">此目录不应被其他目录导入。</em></p><h1 id="776c" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">工具:内部工具</h1><p id="cc13" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated"><code class="fe mr ms mt mu b">/tools/</code>包含内部工具的配置和代码。</p><p id="baf0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="mv">此目录不应被其他目录导入。</em></p><p id="0647" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里常用工具的例子包括Terraform模块和<em class="mv">内部</em>CLI。</p><p id="c42a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我在GitHub上整合了一个模板monorepo。祝你的monorepo好运！</p><div class="mx my gp gr mz na"><a href="https://github.com/bennett-jacob/monorepo" rel="noopener  ugc nofollow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd iu gy z fp nf fr fs ng fu fw is bi translated">GitHub - bennett-jacob/monorepo:一个实用的monorepo模板</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">成功的monorepo的实际开始。</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">github.com</p></div></div><div class="nj l"><div class="nk l nl nm nn nj no ks na"/></div></div></a></div></div></div>    
</body>
</html>