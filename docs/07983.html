<html>
<head>
<title>How Good Developers Fix Vulnerable Apps?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">优秀的开发者如何修复易受攻击的应用？</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-good-developers-fix-insecure-apps-44372b6eac07?source=collection_archive---------7-----------------------#2021-03-26">https://levelup.gitconnected.com/how-good-developers-fix-insecure-apps-44372b6eac07?source=collection_archive---------7-----------------------#2021-03-26</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="41b4" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">如何把不安全和批判逻辑分开？</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/f448f0fefbe5f31b3055bb7935eea3db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QHaxNwKIATknmMps"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">照片由<a class="ae kz" href="https://www.pexels.com/photo/concentrated-diverse-colleagues-brainstorming-together-in-office-6238174/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>的Gabby K 拍摄</figcaption></figure><h1 id="5484" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">业务和UI逻辑生活在哪里？</h1><blockquote class="ls lt lu"><p id="2617" class="lv lw lx ly b lz ma jv mb mc md jy me mf mg mh mi mj mk ml mm mn mo mp mq mr in bi translated">这些是业务规则、验证和计算，它们在数据被引入信息系统或由信息系统显示时对数据进行操作。—马丁·福勒</p></blockquote><p id="8ba0" class="pw-post-body-paragraph lv lw iu ly b lz ma jv mb mc md jy me ms mg mh mi mt mk ml mm mu mo mp mq mr in bi translated">您的服务位于业务层。应用于数据的业务规则，并根据数据得出结论。</p><p id="bfc3" class="pw-post-body-paragraph lv lw iu ly b lz ma jv mb mc md jy me ms mg mh mi mt mk ml mm mu mo mp mq mr in bi translated">您的控制器位于UI层，负责UI、页面和它们周围的简单逻辑。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj mv"><img src="../Images/6048d3a6833cab650797a22c4ef4858b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/0*4RZOMzo1nu-49GsU.png"/></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated"><a class="ae kz" href="https://dzone.com/articles/layered-architecture-is-good" rel="noopener ugc nofollow" target="_blank">分层建筑</a></figcaption></figure></div><div class="ab cl mw mx hy my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="in io ip iq ir"><h1 id="1e51" class="la lb iu bd lc ld nd lf lg lh ne lj lk ka nf kb lm kd ng ke lo kg nh kh lq lr bi translated">为什么业务层至关重要？</h1><p id="7afa" class="pw-post-body-paragraph lv lw iu ly b lz ni jv mb mc nj jy me ms nk mh mi mt nl ml mm mu nm mp mq mr in bi translated">让我们通俗地解释一下。<a class="ae kz" href="https://stackoverflow.com/users/2187273/laurent-s" rel="noopener ugc nofollow" target="_blank"> Laurent S. </a>对这个话题有很棒的解释。我会试着传达他的话，并附上我自己的意见。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nn"><img src="../Images/71c19a00092c1da8c13d62091c706b66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SlF9FL95J407dN5M2cYf3g.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated"><a class="ae kz" href="https://undraw.co/search" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><p id="3685" class="pw-post-body-paragraph lv lw iu ly b lz ma jv mb mc md jy me ms mg mh mi mt mk ml mm mu mo mp mq mr in bi translated">让我们看看卡车装载过程。有两个工人。</p><p id="d01f" class="pw-post-body-paragraph lv lw iu ly b lz ma jv mb mc md jy me ms mg mh mi mt mk ml mm mu mo mp mq mr in bi translated">一个是装卡车的工人，一个是监工，监工。工人代表表象逻辑。主管-业务规则。</p><p id="0634" class="pw-post-body-paragraph lv lw iu ly b lz ma jv mb mc md jy me ms mg mh mi mt mk ml mm mu mo mp mq mr in bi translated">主管关心卡车的重量。<em class="lx">卡车能装多少？</em> —业务规则。</p><p id="25e4" class="pw-post-body-paragraph lv lw iu ly b lz ma jv mb mc md jy me ms mg mh mi mt mk ml mm mu mo mp mq mr in bi translated">工人把箱子放进卡车里。工人决定<em class="lx">将盒子</em>放在哪里——展示逻辑。</p><p id="b70f" class="pw-post-body-paragraph lv lw iu ly b lz ma jv mb mc md jy me ms mg mh mi mt mk ml mm mu mo mp mq mr in bi translated">当你没有主管时，你需要教工人规则。假设是一个简单的规则，1音就是重量限制。</p><p id="1890" class="pw-post-body-paragraph lv lw iu ly b lz ma jv mb mc md jy me ms mg mh mi mt mk ml mm mu mo mp mq mr in bi translated">您的业务扩展了，您雇佣了更多的员工(移动、桌面和其他设备)。你教他们这条规则。</p></div><div class="ab cl mw mx hy my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="in io ip iq ir"><p id="47d5" class="pw-post-body-paragraph lv lw iu ly b lz ma jv mb mc md jy me ms mg mh mi mt mk ml mm mu mo mp mq mr in bi translated">新规则来了。现在你需要遵守国家的法律。法律变化太频繁了。</p><p id="f969" class="pw-post-body-paragraph lv lw iu ly b lz ma jv mb mc md jy me ms mg mh mi mt mk ml mm mu mo mp mq mr in bi translated">您有两种选择:</p><ul class=""><li id="52fe" class="no np iu ly b lz ma mc md ms nq mt nr mu ns mr nt nu nv nw bi translated">雇律师来装满卡车。</li><li id="baae" class="no np iu ly b lz nx mc ny ms nz mt oa mu ob mr nt nu nv nw bi translated">工人打电话给律师。</li></ul><p id="c188" class="pw-post-body-paragraph lv lw iu ly b lz ma jv mb mc md jy me ms mg mh mi mt mk ml mm mu mo mp mq mr in bi translated">假设你选择律师来装满你的卡车。他们知道法律，能算出重量限制。</p><p id="86a4" class="pw-post-body-paragraph lv lw iu ly b lz ma jv mb mc md jy me ms mg mh mi mt mk ml mm mu mo mp mq mr in bi translated">用软件术语来说，你把更多的逻辑放在你的表示层。</p><p id="91ac" class="pw-post-body-paragraph lv lw iu ly b lz ma jv mb mc md jy me ms mg mh mi mt mk ml mm mu mo mp mq mr in bi translated">另一种选择更有利。工人们打电话给律师，询问他们是继续装货还是停止装货。</p><p id="15d9" class="pw-post-body-paragraph lv lw iu ly b lz ma jv mb mc md jy me ms mg mh mi mt mk ml mm mu mo mp mq mr in bi translated">用软件术语来说，将业务规则添加到业务层，UI可以调用它来获取信息。</p></div><div class="ab cl mw mx hy my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="in io ip iq ir"><h1 id="a382" class="la lb iu bd lc ld nd lf lg lh ne lj lk ka nf kb lm kd ng ke lo kg nh kh lq lr bi translated">在UI中做什么是错的？</h1><p id="7262" class="pw-post-body-paragraph lv lw iu ly b lz ni jv mb mc nj jy me ms nk mh mi mt nl ml mm mu nm mp mq mr in bi translated">不要欺骗你的顾客。看下面这篇文章。</p><div class="oc od gq gs oe of"><a href="https://medium.com/dev-genius/are-14-people-currently-looking-at-this-product-e7fe8412f16b" rel="noopener follow" target="_blank"><div class="og ab fp"><div class="oh ab oi cl cj oj"><h2 class="bd iv gz z fq ok fs ft ol fv fx it bi translated">一个网上商店的源代码中揭露的无耻谎言</h2><div class="om l"><h3 class="bd b gz z fq ok fs ft ol fv fx dk translated">14个人真的在看这个产品吗？</h3></div><div class="on l"><p class="bd b dl z fq ok fs ft ol fv fx dk translated">medium.com</p></div></div><div class="oo l"><div class="op l oq or os oo ot kt of"/></div></div></a></div><p id="4bce" class="pw-post-body-paragraph lv lw iu ly b lz ma jv mb mc md jy me ms mg mh mi mt mk ml mm mu mo mp mq mr in bi translated">不要谎称客户活跃。任何开发者都会识破这个谎言。</p><p id="07d5" class="pw-post-body-paragraph lv lw iu ly b lz ma jv mb mc md jy me ms mg mh mi mt mk ml mm mu mo mp mq mr in bi translated">在后端解决这个问题。查看活动会话和额外信息来识别产品。顾客正在看的产品。</p><p id="8cb5" class="pw-post-body-paragraph lv lw iu ly b lz ma jv mb mc md jy me ms mg mh mi mt mk ml mm mu mo mp mq mr in bi translated">向后端查询数据。计算活跃客户，并响应UI层。</p></div><div class="ab cl mw mx hy my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="in io ip iq ir"><p id="9ecf" class="pw-post-body-paragraph lv lw iu ly b lz ma jv mb mc md jy me ms mg mh mi mt mk ml mm mu mo mp mq mr in bi translated">不要在前端做你的业务逻辑。例如，不要在前台计算晋升。</p><div class="oc od gq gs oe of"><a href="https://javascript.plainenglish.io/this-website-accidentally-left-promo-codes-in-their-public-source-code-176c52fbfdc3" rel="noopener  ugc nofollow" target="_blank"><div class="og ab fp"><div class="oh ab oi cl cj oj"><h2 class="bd iv gz z fq ok fs ft ol fv fx it bi translated">这个网站不小心在源代码中留下了推广代码</h2><div class="om l"><h3 class="bd b gz z fq ok fs ft ol fv fx dk translated">通过浏览网站找到有趣的东西</h3></div><div class="on l"><p class="bd b dl z fq ok fs ft ol fv fx dk translated">javascript.plainenglish.io</p></div></div><div class="oo l"><div class="ou l oq or os oo ot kt of"/></div></div></a></div><p id="6878" class="pw-post-body-paragraph lv lw iu ly b lz ma jv mb mc md jy me ms mg mh mi mt mk ml mm mu mo mp mq mr in bi translated">对后端的数据进行操作。对前端隐藏敏感信息。</p><p id="a4fb" class="pw-post-body-paragraph lv lw iu ly b lz ma jv mb mc md jy me ms mg mh mi mt mk ml mm mu mo mp mq mr in bi translated">将您的促销规则保存在后台。促销是条件和行动。您确实需要一些规则引擎来决定促销是否有效。</p><p id="feef" class="pw-post-body-paragraph lv lw iu ly b lz ma jv mb mc md jy me ms mg mh mi mt mk ml mm mu mo mp mq mr in bi translated">做出决定后，应用推广，返回页面。在无头方法中，您调用promo API来获取信息。</p><p id="27bc" class="pw-post-body-paragraph lv lw iu ly b lz ma jv mb mc md jy me ms mg mh mi mt mk ml mm mu mo mp mq mr in bi translated">似乎合乎逻辑，但我们有不好的例子。</p></div><div class="ab cl mw mx hy my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="in io ip iq ir"><h1 id="043e" class="la lb iu bd lc ld nd lf lg lh ne lj lk ka nf kb lm kd ng ke lo kg nh kh lq lr bi translated">UI层什么合适？</h1><p id="5d5e" class="pw-post-body-paragraph lv lw iu ly b lz ni jv mb mc nj jy me ms nk mh mi mt nl ml mm mu nm mp mq mr in bi translated">访问后端逻辑。发送促销代码。得到回复。或者嵌入到应用推广的页面中。</p><p id="0c9f" class="pw-post-body-paragraph lv lw iu ly b lz ma jv mb mc md jy me ms mg mh mi mt mk ml mm mu mo mp mq mr in bi translated">调用后端，获取相关活跃用户进行统计，并呈现在UI上。后端应该计算这个计数。不是jQuery。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ov"><img src="../Images/ef9d0e784d81acb739309d6bfcaff7cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*zwAWyiVLz8r0Ewml.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">不要这样— <a class="ae kz" href="https://medium.com/dev-genius/are-14-people-currently-looking-at-this-product-e7fe8412f16b" rel="noopener">来源</a></figcaption></figure></div><div class="ab cl mw mx hy my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="in io ip iq ir"><h1 id="4f87" class="la lb iu bd lc ld nd lf lg lh ne lj lk ka nf kb lm kd ng ke lo kg nh kh lq lr bi translated">结论</h1><p id="7195" class="pw-post-body-paragraph lv lw iu ly b lz ni jv mb mc nj jy me ms nk mh mi mt nl ml mm mu nm mp mq mr in bi translated">这些是如何打击不良行为的几个例子。</p><p id="66b0" class="pw-post-body-paragraph lv lw iu ly b lz ma jv mb mc md jy me ms mg mh mi mt mk ml mm mu mo mp mq mr in bi translated">在后端执行您的关键规则。检查促销，开发算法，在后端。不太重要的可以放在前端。在这一层开发条件样式。</p><p id="624d" class="pw-post-body-paragraph lv lw iu ly b lz ma jv mb mc md jy me ms mg mh mi mt mk ml mm mu mo mp mq mr in bi translated">有了这个，你可以放心，你的应用程序是受保护的。免受不必要的行为。</p></div><div class="ab cl mw mx hy my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="in io ip iq ir"><h1 id="d698" class="la lb iu bd lc ld nd lf lg lh ne lj lk ka nf kb lm kd ng ke lo kg nh kh lq lr bi translated">资源</h1><div class="oc od gq gs oe of"><a href="https://martinfowler.com/articles/enterprisePatterns.html" rel="noopener  ugc nofollow" target="_blank"><div class="og ab fp"><div class="oh ab oi cl cj oj"><h2 class="bd iv gz z fq ok fs ft ol fv fx it bi translated">企业模式</h2><div class="om l"><h3 class="bd b gz z fq ok fs ft ol fv fx dk translated">近年来，在描述企业开发模式方面有了一个小而有用的增长…</h3></div><div class="on l"><p class="bd b dl z fq ok fs ft ol fv fx dk translated">martinfowler.com</p></div></div><div class="oo l"><div class="ow l oq or os oo ot kt of"/></div></div></a></div><p id="fe4d" class="pw-post-body-paragraph lv lw iu ly b lz ma jv mb mc md jy me ms mg mh mi mt mk ml mm mu mo mp mq mr in bi translated">这个话题大部分来源于这个<a class="ae kz" href="https://softwareengineering.stackexchange.com/questions/423680/is-it-really-possible-to-decouple-the-ui-from-the-business-logic" rel="noopener ugc nofollow" target="_blank">问题</a>。</p></div></div>    
</body>
</html>