<html>
<head>
<title>3 Simple Steps to Successfully Deploy a Spring Boot Application to Production on Azure</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Azure上将Spring Boot应用成功部署到生产环境的3个简单步骤</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/3-simple-steps-to-successfully-deploy-a-spring-boot-application-to-production-on-azure-4eb68c87a623?source=collection_archive---------20-----------------------#2021-01-12">https://levelup.gitconnected.com/3-simple-steps-to-successfully-deploy-a-spring-boot-application-to-production-on-azure-4eb68c87a623?source=collection_archive---------20-----------------------#2021-01-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="2eb6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用GitHub动作自动化您的开发工作流程</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/4b2cf67f3ab107fc97011e927429e548.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*68DMzkv7y-7TUY08eNvdMw.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">图片由来自<a class="ae lb" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=3174729" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae lb" href="https://pixabay.com/users/tayebmezahdia-4194100/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=3174729" rel="noopener ugc nofollow" target="_blank"> Tayeb MEZAHDIA </a>提供</figcaption></figure><h1 id="fdb8" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">概述</h1><ol class=""><li id="7a7c" class="ma mb iq jp b jq mc ju md jy me kc mf kg mg kk mh mi mj mk bi translated">创建Spring Boot应用程序。</li><li id="9ab5" class="ma mb iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">设置Azure应用服务。</li><li id="9da7" class="ma mb iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">使用GitHub动作自动化开发工作流程。</li></ol><h1 id="3077" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">1.创建Spring Boot应用程序</h1><p id="8d71" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy mq ka kb kc mr ke kf kg ms ki kj kk ij bi translated">让我们从使用<a class="ae lb" href="https://start.spring.io/" rel="noopener ugc nofollow" target="_blank"> Spring初始化器</a>创建一个新项目开始。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mt"><img src="../Images/7b705914a8fde36a13f4e7c3f54dafc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kml5fXN-8cOawShhxNS8Jg.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">弹簧初始化r</figcaption></figure><p id="b86a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如上所示填写详细信息，点击<strong class="jp ir">生成</strong>继续。将项目导入任何合适的IDE。</p><p id="b855" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们需要做的第一件事是添加一个控制器。</p><p id="389f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<strong class="jp ir"> src/main/java </strong>文件夹中创建一个名为<strong class="jp ir"> com.example.controller </strong>的包。将文件命名为<strong class="jp ir"> HelloWorldController </strong>，并将下面的内容复制到新文件中。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">HelloWorldController</figcaption></figure><p id="3451" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">运行<strong class="jp ir"> HelloWorldApplication </strong>并浏览到<strong class="jp ir"> localhost:8080 </strong>，如下图所示。一旦这是好的，我们可以进行第二步。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mw"><img src="../Images/bce68a679ca5c8e028803a1827cc2201.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gcn-IwBCTvSvNV5L1CZObA.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">本地主机:8080</figcaption></figure><h1 id="25f3" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">2.设置Azure应用服务</h1><p id="5f66" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy mq ka kb kc mr ke kf kg ms ki kj kk ij bi translated">我们将从创建一个资源组开始这一步。资源组基本上是一个保存Azure解决方案相关资源的容器。</p><p id="9058" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">转到Azure门户，使用搜索栏找到<strong class="jp ir">资源组</strong>。进入该页面后，点击<strong class="jp ir">添加</strong>，并填写如下所示的详细信息。完成后，点击<strong class="jp ir">审核+创建</strong>。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mx"><img src="../Images/02d586a06dad18c5553e3499051e7a7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QIIBeqt3lFYratpUWakcOA.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">在Microsoft Azure上创建资源组</figcaption></figure><p id="0929" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来要做的是创建一个Web应用程序。再次，填写项目详细信息并点击<strong class="jp ir">审查+创建</strong>。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi my"><img src="../Images/63e9bd3bb78837b2a5e90d9849ec0d52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GhIMmFehmuFS9h54EZTjNQ.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">在Microsoft Azure上创建Web应用程序</figcaption></figure><p id="48d8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，我们继续创建一个工作流，并使用GitHub操作来自动化部署。</p><h1 id="28d7" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">3.使用GitHub动作自动部署</h1><p id="94e9" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy mq ka kb kc mr ke kf kg ms ki kj kk ij bi translated">我们在这里要做的第一件事是授权GitHub操作，这样它就可以在Microsoft Azure上成功发布。</p><p id="4029" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们需要下载一个<strong class="jp ir">发布设置</strong>文件。</p><p id="d1b8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为此，点击概览面板中的<strong class="jp ir">获取发布配置文件</strong>，如下所示。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mz"><img src="../Images/67ae1e4216cd088bd14f300f5ff25a29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Iqt38cMakOMK2hMlSDiNzw.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">获取发布配置文件</figcaption></figure><p id="1660" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，导航到您的GitHub项目，并转到<strong class="jp ir">设置</strong>。点击<strong class="jp ir">秘密</strong>并创建一个名为<strong class="jp ir">AZURE _ web app _ PUBLISH _ PROFILE</strong>的新秘密。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi na"><img src="../Images/73b7ef7c413e6419b02db02ee34a90ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-OgHphTAA0wA4JJfyqjnfQ.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">添加新秘密</figcaption></figure><p id="f8f7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">打开<strong class="jp ir"> PublishSettings </strong>文件，将文件内容粘贴到值字段。</p><p id="add4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，我们需要设置工作流。在根文件夹下创建一个新目录，并将其命名为。<strong class="jp ir"> github </strong>。直接在这个文件夹下创建另一个名为<strong class="jp ir">工作流</strong>的目录，然后添加一个名为<strong class="jp ir"> deploy.yml </strong>的新文件。路径应该是这样的:<strong class="jp ir">。github/workflows/deploy.yml </strong></p><p id="aa76" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">将以下内容复制到新文件中。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">部署. yml</figcaption></figure><p id="1746" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面是这个GitHub动作的分解:</p><p id="37ea" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3–6<strong class="jp ir">(master)</strong>:表示一旦代码被推送到或者合并到主分支，就触发工作流，并相应地发布。这是灵活的，可以为许多项目的许多分支进行设置。</p><p id="e101" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">10 <strong class="jp ir"> (ubuntu-latest) </strong>:指定主机环境。</p><p id="6069" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">13 <strong class="jp ir">(设置JDK 11) </strong>:检查并安装Java 11。</p><p id="98a2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">17 <strong class="jp ir">(使用Maven构建)</strong>:这使用Maven构建应用程序。</p><p id="a026" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">19<strong class="jp ir">(azure/web apps-deploy @ v2)</strong>:这使用publish-profile部署应用程序。</p><p id="8f31" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦完成并推送，工作流将被自动触发，应用程序将被部署到Azure Web服务。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nb"><img src="../Images/4543ac040846b485cfffc8d27ebf5382.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KbYAcEZ61g47Gq5HScqn4w.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">成功构建</figcaption></figure><p id="2e3f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，您可以浏览到App Service应用程序URL进行确认。</p><p id="5e21" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">只需三个步骤，您就已成功部署到Azure应用服务。</p></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><blockquote class="nj nk nl"><p id="ea77" class="jn jo nm jp b jq jr js jt ju jv jw jx nn jz ka kb no kd ke kf np kh ki kj kk ij bi translated"><strong class="jp ir">资源</strong></p></blockquote><p id="7fe8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">源代码:<a class="ae lb" href="https://github.com/Oyeyinka/spring-boot-helloworld" rel="noopener ugc nofollow" target="_blank"> spring-boot-helloworld </a></p></div></div>    
</body>
</html>