<html>
<head>
<title>This Simple Code Can Save 50% off Your MacBook Space</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">这段简单的代码可以节省50%的MacBook空间</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/this-simple-code-can-save-50-of-your-macbook-space-763cdbc02415?source=collection_archive---------28-----------------------#2020-09-14">https://levelup.gitconnected.com/this-simple-code-can-save-50-of-your-macbook-space-763cdbc02415?source=collection_archive---------28-----------------------#2020-09-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1fb2" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">大型Final Cut Pro X项目的解决方案</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/effee92d0b93dbdef98e7f7fe512e13a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Wdo57AtbR0EAjNM9"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@imnoom?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Noom Peerapong </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="8d29" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">几个月前，我创建了我的YouTube频道，在那里我发布与编程和技术相关的内容。为了编辑我的视频，我别无选择，只能使用Final Cut Pro X，因为我的低规格13英寸2015 MacBook Pro。在那台机器上编辑大量的项目简直是疯了。</p><p id="aed8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最终削减是惊人的，它是像我这样的低规格设备最好的。唯一的问题是，它就像我吃巧克力松露蛋糕一样耗尽内存，在项目结束之前，内存是。我的每个项目需要大约50到70千兆字节。</p><p id="5a83" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我显然使用外部SSD，但这还不够。大约15个项目之后，它就结束了，你不想删除你的旧项目。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="371e" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">关于Final Cut Pro X的文件结构</h1><p id="129b" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">要编辑视频，您需要首先创建一个库。每个资源库都附带一个事件，如果需要，您可以创建更多事件。要处理该项目，您必须导入媒体和所有必要的文件。</p><p id="5605" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">“导入”会在<strong class="lb iu"> <em class="mz">中创建一个名为“转码媒体”的文件夹。fcpbundle</em>T10】文件。要查看它，右击<strong class="lb iu"> <em class="mz">。fcpbundle </em> </strong>文件，进入事件文件夹。在事件文件夹中，将有一个原始媒体文件夹、渲染文件文件夹和转码媒体文件夹。</strong></p><p id="2847" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">原始媒体文件夹有原始文件的替身，当您在Final Cut中更改时间线时会创建“渲染文件”文件夹，转码后的媒体文件夹是原始媒体的副本，但它会针对Final Cut Pro优化文件。</p><p id="077d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以安全地删除“渲染文件”文件夹，一旦您在Final Cut中打开项目，转码后的媒体文件夹就可以重新生成。这两个文件夹占据了项目中的大部分空间。</p><p id="56c6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="mz">注意:-如果原始媒体不在同一根项目文件夹中，请勿删除转码后的媒体文件夹。这是因为Final Cut在时间线中使用转码后的媒体。如果您删除它，而Final Cut找不到原始媒体，您的项目将被破坏。如果你不知道你在做什么，从下面的代码中删除第24行的这部分</em> </strong> <code class="fe na nb nc nd b"><strong class="lb iu"><em class="mz">or each == “Transcoded Media”</em></strong></code> <strong class="lb iu"> <em class="mz">。</em> </strong></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="72e3" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">以下是解决方案</h1><p id="7c3c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">做这件事有两种方法。</p><p id="c479" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以手动操作，也可以创建一个程序来操作。如果您有一个庞大的项目，资源库中有许多事件，那么进入每个项目并删除每个渲染文件文件夹和转码后的媒体文件夹会很乏味。所以，我创造了一个程序来帮我做这件事。</p><h2 id="e99a" class="ne md it bd me nf ng dn mi nh ni dp mm li nj nk mo lm nl nm mq lq nn no ms np bi translated">代码解释</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">fcpxstorage.py删除FCPX项目中的“渲染文件”文件夹和转码后的媒体文件夹。</figcaption></figure><p id="f30b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我们导入所需的库:<code class="fe na nb nc nd b"><strong class="lb iu">os</strong></code> <strong class="lb iu"> </strong>到<strong class="lb iu"> </strong>访问文件夹，<code class="fe na nb nc nd b"><strong class="lb iu">sys</strong></code>读取命令行参数，<code class="fe na nb nc nd b"><strong class="lb iu">shutil</strong></code>删除文件夹。</p><p id="c7f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe na nb nc nd b"><strong class="lb iu">def get_size()</strong></code> <strong class="lb iu"> </strong>函数使用<code class="fe na nb nc nd b"><a class="ae ky" href="https://docs.python.org/3/library/os.html" rel="noopener ugc nofollow" target="_blank">os.walk</a></code>遍历一个目录中的所有文件，并计算它们的大小。该函数返回文件夹的总大小。</p><p id="7388" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们需要删除渲染文件和转码媒体文件夹。为此，我们再次检查主文件夹中的每个文件夹，并检查是否匹配。如果有，<code class="fe na nb nc nd b"><a class="ae ky" href="https://docs.python.org/3/library/shutil.html" rel="noopener ugc nofollow" target="_blank">shutil.rmtree()</a></code>命令删除它。</p><p id="bb77" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我们再次计算文件夹的大小来计算差异。然后，我们使用花哨的print语句打印文件夹的初始大小和最终大小及其差异。</p><h2 id="aa23" class="ne md it bd me nf ng dn mi nh ni dp mm li nj nk mo lm nl nm mq lq nn no ms np bi translated">如何使用它</h2><p id="70ac" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">打开终端，输入<code class="fe na nb nc nd b">python3</code>，把代码拖到这里，按空格键。现在拖动保存所有项目的文件夹，然后按enter键。就是这样！在你的终端里你会变成这样。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/bedf4653f00ae7ae0de17735699fb990.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LEhTIDaxcZVQR32fYNZmkA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">电脑截图</figcaption></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="618e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">享受额外的记忆。如果你知道更好的方法或者遇到任何问题，请告诉我。</p></div></div>    
</body>
</html>