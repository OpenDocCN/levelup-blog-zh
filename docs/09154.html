<html>
<head>
<title>Data passing in parent and child component with Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带角度的父组件和子组件中的数据传递</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/data-passing-in-parent-and-child-component-with-angular-652e7fd43626?source=collection_archive---------0-----------------------#2021-07-12">https://levelup.gitconnected.com/data-passing-in-parent-and-child-component-with-angular-652e7fd43626?source=collection_archive---------0-----------------------#2021-07-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1bb9" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">@Input、@Output和EventEmitter</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a3247350dd7161e1cb3b8343694bcac9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OZh9rLHi2oD-d-hJkfipRA.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">卡斯帕·卡米尔·鲁宾在<a class="ae kv" href="https://unsplash.com/s/photos/angular?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="8475" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在开发应用程序时，我们需要在几个事件中将数据从一个组件传递到另一个组件。在本文中，我将尝试提供关于如何使用Angular @Input、@Output decorators和EventEmitter在父组件和子组件之间传递数据的详细信息。因此，我确定了实现这一目标的两个主要标准:</p><ol class=""><li id="2f2b" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">从父母到子女的数据交换</li><li id="d641" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">从子到父的数据交换</li></ol><p id="9043" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我将解释我们如何使用@Input、@Output和EventEmitter来实现上述标准。在这种情况下，我创建了一个名为“parent-child”的Angular项目，它有两个组件，一个是作为AppComponent的父组件，另一个是作为child component的子组件。</p><p id="2bc1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">@Input Decorator:这用于定义一个输入属性，并用于将数据从父组件发送到子组件。</p><p id="ce25" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">@Output Decorator:这用于绑定Angular EventEmitter类类型的属性，并用于将数据从子组件传递到父组件。</p><p id="9b3b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://angular.io/api/core/EventEmitter" rel="noopener ugc nofollow" target="_blank"> EventEmitter </a>:用于在组件中发出事件。在组件中使用@Output指令同步或异步发出自定义事件，并通过订阅实例来注册这些事件的处理程序。</p><p id="e2cf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在简要了解了@Input、@Output和EventEmitter术语之后，让我们来关注实现。</p><h2 id="1aac" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated">将数据从父组件交换到子组件</h2><p id="94aa" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">正如我之前提到的，AppComponent是父组件，你可以根据自己的意愿定制app.component.html。在这里，我创建了子组件的一个实例。<hr/>标签将父组件和子组件分开。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="1c61" class="mg mh iq nf b gy nj nk l nl nm">&lt;h1&gt;Angular - Parent child component data passing&lt;/h1&gt;<br/>&lt;h4&gt;Parent Component&lt;/h4&gt;<br/>&lt;hr&gt;&lt;hr&gt;<br/>&lt;app-child&gt;&lt;/app-child&gt;</span></pre><p id="6799" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">之后，使用app.component.ts，我通过在名为“inputText”的参数下传递一个字符串来向孩子发送消息。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="79b0" class="mg mh iq nf b gy nj nk l nl nm">import { Component } from '@angular/core';<br/>@Component({<br/>selector: 'app-root',<br/>templateUrl: './app.component.html',<br/>styleUrls: ['./app.component.css']<br/>})<br/>export class AppComponent {<br/>inputText: string = 'Hi...have a nice day - message from parent';</span><span id="421b" class="mg mh iq nf b gy nn nk l nl nm">}<br/>}</span></pre><p id="67f0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">父组件(AppComponent)发送的消息将由子组件(ChildComponet)接收。然后，app.component.html将这个变量传递到子组件实例中，这个子组件实例传递到父组件中。我们需要在@Input Decorator下和child.component.ts中创建一个名为“inputfromparant”的字符串变量，这个“inputfromparant”将帮助从父节点获取消息。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="e8c0" class="mg mh iq nf b gy nj nk l nl nm">&lt;app-child [inputFromParent] = "inputText"&gt;&lt;/app-child&gt;</span></pre><p id="ca9b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过使用@Input Decorator(从@angular/core导入),它将被子组件捕获。它将使用console.log显示。因此，child.component.ts代码应该如下所示。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="7240" class="mg mh iq nf b gy nj nk l nl nm">import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';<br/>@Component({<br/>selector: 'app-child',<br/>templateUrl: './child.component.html',<br/>styleUrls: ['./child.component.css']<br/>})<br/>export class ChildComponent implements OnInit {<br/>@Input() inputFromParent : string;<br/>constructor() { }<br/>ngOnInit() {<br/>console.log(this.inputFromParent);</span><span id="1da8" class="mg mh iq nf b gy nn nk l nl nm">}<br/>}</span></pre><p id="b898" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">幸福的😊！！！！现在，您已经使用@Input Decorator成功地完成了从父组件到子组件的数据传递。你的控制台将打印“嗨…祝你愉快——来自父母的信息”。</p><h2 id="ea54" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated">从子组件到父组件交换数据</h2><p id="53a0" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">使用@Output Decorator和EventEmitter(从@angular/core导入)子组件将数据发送到父组件。首先，我们需要用@Output Decorator创建一个名为“outputFromChild”的变量，还需要另一个名为“outputText”的变量来存储消息并将其传递给child.component.ts中的父组件。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="924b" class="mg mh iq nf b gy nj nk l nl nm">@Output() outputFromChild : EventEmitter&lt;string&gt; = new EventEmitter();<br/>outputText : string = "Hi ... message from child";</span></pre><p id="9d0d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，为了在我们的控制台中显示该消息，我们需要在我们的ChildComponent中有一个按钮，并将其添加到child.component.html。要激活点击，我们需要一个名为“sendDataToParent”的方法。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="2640" class="mg mh iq nf b gy nj nk l nl nm">&lt;button class="btn btn-success" (click)="sendDataToParent()"&gt;Send to Parent&lt;/button&gt;</span></pre><p id="ad22" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">“sendDataToParent”方法将通过在ChildComponent中发出“outputText”来实现。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="8dde" class="mg mh iq nf b gy nj nk l nl nm">sendDataToParent() {<br/>this.outputFromChild.emit(this.outputText);<br/>}</span></pre><p id="50c4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们需要在app.componet.ts to中实现一个名为“receiveChildData”的方法来接收来自ChildComponent的消息。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="df81" class="mg mh iq nf b gy nj nk l nl nm">receiveChildData(data){<br/>console.log(data);<br/>}</span></pre><p id="9de8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要获取该值，app.component.html必须如下所示。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="e776" class="mg mh iq nf b gy nj nk l nl nm">&lt;app-child [inputFromParent] = "inputText" (outputFromChild) = "receiveChildData($event)"&gt;&lt;/app-child&gt;</span></pre><p id="7d78" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，如果我们单击子组件中的“创建”按钮，将触发“sendDataToParent()”方法，父组件将接收来自子组件的数据，并且控制台显示“Hi … message from child”</p><p id="4012" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们成功地完成了从子组件到父组件的数据发送。</p><p id="1757" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">输出的摘要；</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi no"><img src="../Images/a4630ad6ffc0a0a13682c00ae717432f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lCllZkIFl8UVZVs_WuXTQQ.png"/></div></div></figure><p id="5f7e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里是到GitHub库的链接。</p><p id="c4c3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢您的阅读🤗！！！如果这篇文章对你有帮助，请鼓掌。</p><h2 id="5924" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated">参考</h2><ul class=""><li id="f2d2" class="ls lt iq ky b kz mz lc na lf np lj nq ln nr lr ns ly lz ma bi translated"><a class="ae kv" href="https://www.c-sharpcorner.com/article/input-and-output-decorator-in-angular/" rel="noopener ugc nofollow" target="_blank"> <em class="nt"> @Input()和@Output()装饰器内角</em> </a></li></ul></div></div>    
</body>
</html>