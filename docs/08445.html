<html>
<head>
<title>Tip of the Day: Wall-Jumping in Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">日积月累:在Unity里翻墙</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/tip-of-the-day-wall-jumping-in-unity-496a4d48f18d?source=collection_archive---------9-----------------------#2021-05-03">https://levelup.gitconnected.com/tip-of-the-day-wall-jumping-in-unity-496a4d48f18d?source=collection_archive---------9-----------------------#2021-05-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="7acd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一个非常有趣的功能，可以增加玩家在游戏中的机动性，并可以为你的游戏增加一个惊喜的因素，这就是跳墙。仅仅拥有跳墙的能力就可以打开许多以前无法进入的新关卡设计选项。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi kl"><img src="../Images/ed5fbd6523e5c8cef535084055a45568.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/1*84xk1Q_wSFniiRXpCmcoAg.gif"/></div></figure><blockquote class="kt ku kv"><p id="c056" class="jn jo kw jp b jq jr js jt ju jv jw jx kx jz ka kb ky kd ke kf kz kh ki kj kk ij bi translated">这里是使用角色控制器完成的。</p></blockquote><p id="2316" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">“如果你以前没有设置过角色控制器，请阅读我们以前关于如何设置角色控制器的文章。<a class="ae la" href="https://medium.com/codex/tip-of-the-day-character-controller-in-unity-4516644f695" rel="noopener">此处阅读</a>。</p><p id="c16c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">角色控制器中一个非常有用的方法是<strong class="jp ir"> OnControllerColliderHit </strong>，它检测与玩家的碰撞。</p><p id="a6a6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi lb translated">这里的逻辑是，当玩家跳跃时，如果玩家撞到了一面墙，那么我们检测到与墙的碰撞，并指定我们碰撞到的那面墙的向量3法线。现在我们利用Vector3.normal，用它来检测跳墙的方向。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lk"><img src="../Images/ca4b1fc4e4d5c96a358f7994cf52fc7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mUcVjyWPa2mCirqQP1sDGA.png"/></div></div></figure><p id="db97" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是任何平面的矢量3法线。基本上，它是从平面出来的向量，基于平面的角度。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lp"><img src="../Images/ee9096a1fa4ba90e25917c4661f36ea6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RmJcbjbDO8yRC-IJg4xCNw.png"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk translated">密码</figcaption></figure><p id="d0a0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们得到了Vector3.normal来检测墙跳方向，并允许玩家进行墙跳，在<em class="kw"> Update() </em>方法中，我们监听玩家的输入，只有当_canWallJump布尔值为真时，我们才添加玩家的Y速度，并计算跳跃的方向和速度。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lu"><img src="../Images/527c572d501782d0dd4916e1c1580343.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WNM8qqEhhbYo1QLvsqWJLA.png"/></div></div></figure><p id="8ce1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">将这种方法与前面的方法(使用角色控制器移动，双跳，推动物体)结合起来，你将拥有一个非常灵活和强大的角色控制器。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lv"><img src="../Images/d49f5f66526070c1c17a89876cc7f32d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*A98wNq6DAUNV7drh86hs4Q.gif"/></div></div></figure></div></div>    
</body>
</html>