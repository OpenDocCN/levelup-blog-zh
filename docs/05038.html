<html>
<head>
<title>SwiftUI — ScrollView Sticky Header Tutorial</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI — ScrollView粘性标题教程</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/scrollview-sticky-header-462b9300378e?source=collection_archive---------2-----------------------#2020-07-31">https://levelup.gitconnected.com/scrollview-sticky-header-462b9300378e?source=collection_archive---------2-----------------------#2020-07-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1782" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">快速SwiftUI教程，关于如何在你的ScrollView顶部实现一个粘性标题。将其用于图像和其他自定义视图。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/dee34f328df53b9646d40707dcdb7c0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zQNA3QK1yXIvo6ee80vKYA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">SwiftUI中的粘性标题图像</figcaption></figure><p id="87ac" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">今天的快速提示。如果你不喜欢用户滚动到你的<code class="fe lu lv lw lx b">ScrollView</code>顶部时看到的令人讨厌的空白，粘性标题会非常好用！</p><blockquote class="ly lz ma"><p id="04b5" class="ky kz mb la b lb lc ju ld le lf jx lg mc li lj lk md lm ln lo me lq lr ls lt im bi translated">在开始之前，请考虑使用这个<a class="ae mf" href="https://trailingclosure.com/signup/?utm_source=medium&amp;utm_medium=blog_post&amp;utm_campaign=sticky_header" rel="noopener ugc nofollow" target="_blank">链接</a>订阅，如果你没有在<a class="ae mf" href="https://trailingclosure.com/?utm_source=medium&amp;utm_medium=blog_post&amp;utm_campaign=sticky_header" rel="noopener ugc nofollow" target="_blank">TrailingClosure.com</a>上阅读这篇文章，请随时来看看我们！</p></blockquote><p id="b1da" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">将这个<code class="fe lu lv lw lx b">StickyHeader</code>组件放在一个<code class="fe lu lv lw lx b">ScrollView</code>的顶部，当用户滚动到顶部时，你放进去的任何内容都会在尺寸上伸展以填充那个空隙。请看下面的视频示例！</p><pre class="kj kk kl km gt mg lx mh mi aw mj bi"><span id="bab4" class="mk ml it lx b gy mm mn l mo mp">struct StickyHeader&lt;Content: View&gt;: View {<br/><br/>    var minHeight: CGFloat<br/>    var content: Content<br/>    <br/>    init(minHeight: CGFloat = 200, @ViewBuilder content: () -&gt; Content) {<br/>        self.minHeight = minHeight<br/>        self.content = content()<br/>    }<br/>    <br/>    var body: some View {<br/>        GeometryReader { geo in<br/>            if(geo.frame(in: .global).minY &lt;= 0) {<br/>                content<br/>                    .frame(width: geo.size.width, height: geo.size.height, alignment: .center)<br/>            } else {<br/>                content<br/>                    .offset(y: -geo.frame(in: .global).minY)<br/>                    .frame(width: geo.size.width, height: geo.size.height + geo.frame(in: .global).minY)<br/>            }<br/>        }.frame(minHeight: minHeight)<br/>    }<br/>}</span></pre><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mq mr l"/></div></figure><h2 id="2fa9" class="mk ml it bd ms mt mu dn mv mw mx dp my lh mz na nb ll nc nd ne lp nf ng nh ni bi translated">如何使用</h2><p id="2ca1" class="pw-post-body-paragraph ky kz it la b lb nj ju ld le nk jx lg lh nl lj lk ll nm ln lo lp nn lr ls lt im bi translated">这里有一些快速的例子，告诉你如何在你的下一个项目中使用它。</p><h2 id="9697" class="mk ml it bd ms mt mu dn mv mw mx dp my lh mz na nb ll nc nd ne lp nf ng nh ni bi translated">粘性标题/描述</h2><pre class="kj kk kl km gt mg lx mh mi aw mj bi"><span id="f0a7" class="mk ml it lx b gy mm mn l mo mp">var body: some View {<br/>    ScrollView(.vertical, showsIndicators: false) {<br/>        StickyHeader {<br/>            ZStack {<br/>                Color(red: 35/255, green: 45/255, blue: 50/255)<br/>                VStack {<br/>                    Text("Joshua Tree")<br/>                        .font(.title)<br/>                        .fontWeight(.bold)<br/>                        .foregroundColor(.white)<br/>                    Text("California")<br/>                        .font(.title2)<br/>                        .fontWeight(.semibold)<br/>                        .foregroundColor(.white)<br/>                }<br/>            }<br/>        }<br/>        <br/>        // Scroll View Content Here<br/>        // ...<br/>    }<br/>}</span></pre><h2 id="6cba" class="mk ml it bd ms mt mu dn mv mw mx dp my lh mz na nb ll nc nd ne lp nf ng nh ni bi translated">粘性标题图像</h2><pre class="kj kk kl km gt mg lx mh mi aw mj bi"><span id="bfba" class="mk ml it lx b gy mm mn l mo mp">var body: some View {<br/>    ScrollView(.vertical, showsIndicators: false) {<br/>        StickyHeader {<br/>            StickyHeader {<br/>                Image("cover")<br/>                    .resizable()<br/>                    .aspectRatio(contentMode: .fill)<br/>            }<br/>        }<br/>        <br/>        // Scroll View Content Here<br/>        // ...<br/>    }<br/>}</span></pre></div></div>    
</body>
</html>