<html>
<head>
<title>Deploy an ERC1155 contract from Openzeppelin</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从Openzeppelin部署ERC1155合同</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/deploy-an-erc1155-contract-from-openzeppelin-96c71d741e2e?source=collection_archive---------11-----------------------#2022-09-26">https://levelup.gitconnected.com/deploy-an-erc1155-contract-from-openzeppelin-96c71d741e2e?source=collection_archive---------11-----------------------#2022-09-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="6800" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae ko" href="https://docs.openzeppelin.com/contracts/3.x/erc1155" rel="noopener ugc nofollow" target="_blank"> ERC1155 </a>是一个EVM-以太坊虚拟机-令牌标准，旨在从以前的标准中吸取精华，创建一个<a class="ae ko" href="https://docs.openzeppelin.com/contracts/3.x/tokens#different-kinds-of-tokens" rel="noopener ugc nofollow" target="_blank"><strong class="js iu"/></a>和<strong class="js iu">节能</strong> <a class="ae ko" href="https://docs.openzeppelin.com/contracts/3.x/tokens#but_first_coffee_a_primer_on_token_contracts" rel="noopener ugc nofollow" target="_blank">令牌契约</a>。</p><p id="d4e3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ERC1155和ERC721之间的区别在于，ERC1155允许您创建多个具有相同令牌Id的NFT，这与ERC721不同，在ERC 721中，每个NFT具有不同的令牌id。为一件艺术品制作几份拷贝可能是有用的——他卖的是限量版，而不是一件一件的。还有其他可能的用例，比如为令牌持有者创建一个通行证以访问某些东西，一张活动门票，甚至是一个游戏中物品的限量版。</p><p id="2fc5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您可以在下面的文章中了解有关ERC20、ERC721和ERC1155差异的更多信息:</p><div class="kp kq gp gr kr ks"><a rel="noopener  ugc nofollow" target="_blank" href="/which-one-to-choose-erc-20-vs-erc-721-vs-erc-1155-ethereum-token-smart-contract-red-pill-9bb827148671"><div class="kt ab fo"><div class="ku ab kv cl cj kw"><h2 class="bd iu gy z fp kx fr fs ky fu fw is bi translated">选哪个——ERC-20 vs ERC-721 vs ERC-1155以太币智能合约红丸</h2><div class="kz l"><h3 class="bd b gy z fp kx fr fs ky fu fw dk translated">如果你在这里，那是因为你想知道你应该选择哪种智能合约来创建你的NFTs。</h3></div><div class="la l"><p class="bd b dl z fp kx fr fs ky fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="lb l"><div class="lc l ld le lf lb lg lh ks"/></div></div></a></div><h2 id="7c0a" class="li lj it bd lk ll lm dn ln lo lp dp lq kb lr ls lt kf lu lv lw kj lx ly lz ma bi translated">OpenZeppelin是怎么工作的？</h2><p id="0783" class="pw-post-body-paragraph jq jr it js b jt mb jv jw jx mc jz ka kb md kd ke kf me kh ki kj mf kl km kn im bi translated">你可以看看我以前的文章，我解释了如何从openzeppelin 部署ERC721契约。</p><p id="2eb1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了能够遵循本教程并创建一个ERC1155令牌，您可能需要查看一些<a class="ae ko" rel="noopener ugc nofollow" target="_blank" href="/deploy-your-first-erc20-token-in-5-min-17c1333d8434">以前的文章</a>:</p><p id="7bb1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">🤖<a class="ae ko" rel="noopener ugc nofollow" target="_blank" href="/deploy-your-first-smart-contract-in-5-minutes-67361699ae03"><strong class="js iu">5分钟内部署您的第一份智能合同</strong> </a></p><p id="a9d5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">🚀<a class="ae ko" rel="noopener ugc nofollow" target="_blank" href="/deploy-your-first-erc20-token-in-5-min-17c1333d8434"> <strong class="js iu">在5分钟内部署你的第一个ERC20令牌</strong> </a></p><p id="845a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">🐶今天就在以太坊上创建您自己的柴犬-伊努代币吧！T25】</p><p id="944e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">此外，请查看此智能合同主课程，了解如何创建ERC20、ERC721和ERC1155:</p><p id="2b72" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">👾</strong> <a class="ae ko" href="https://www.udemy.com/course/create-nfts-tokens-and-daos-smart-contracts-masterclass/?referralCode=39A122B4B0FA4780826A" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">创建NFT、令牌和DAOs智能合约大师级</strong> </a></p><p id="cb99" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">好吧！开始吧！</p><p id="a494" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">前往<a class="ae ko" href="https://docs.openzeppelin.com/contracts/4.x/wizard" rel="noopener ugc nofollow" target="_blank"> openzeppelin </a>，我们创建一个名为“CryptoDogPartyPass”的ERC1155令牌名称</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi mg"><img src="../Images/a8e2b53e35af1923b58df304adc1334e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pbpJmEkyyCSzGsspQPiKfg.png"/></div></div></figure><p id="a603" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后，我们将为令牌添加可铸造、可燃烧和供应跟踪功能。让我们简单解释一下他们是做什么的:</p><p id="f2c3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">可铸造</strong>:特权账户将能够铸造新的代币到指定的钱包。</p><p id="06f5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">可燃烧的<strong class="js iu">:代币持有者可以燃烧代币来减少供给。</strong></p><p id="961a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">供应跟踪</strong>:检查代币的总供应量</p><p id="466d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">可暂停:</strong>特权账户可以暂停标记为whenNotPaused的造币功能。</p><p id="0714" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们还可以检查访问控制特性，在这里我们可以分配角色，或者决定谁可以访问某个特定的方法，甚至是整个契约。</p><p id="c9fe" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当所有这些都完成后，我们应该如下图所示，然后我们可以将我们的代码复制到<a class="ae ko" href="https://remix.ethereum.org/" rel="noopener ugc nofollow" target="_blank"> remix </a>来测试和部署。如果你不知道如何使用Remix，可以查看本文开头的链接。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi mg"><img src="../Images/53327ae5395d00f981be06dee01cb4e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ELy1byAqHirxHLVuSZdeaA.png"/></div></div></figure><p id="88f1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">继续复制你的代码，去我们的在线IDE，<a class="ae ko" href="http://remix.ethereum.org/" rel="noopener ugc nofollow" target="_blank"> Remix </a>。创建新工作区如果您一直在关注本系列，并且只创建了ERC20令牌，那么新的ERC1155智能合约<strong class="js iu">在不同的工作区</strong>中非常重要。我将我的工作空间命名为<strong class="js iu"> ERC1155。</strong>点击创建新工作区的按钮，如下图所示。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/f76984f81b57f2906f36bd39b64610a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/0*ejYD_LVB-bGk7xio.png"/></div></figure><p id="7b2c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为你的智能合约创建一个新的文件，最好用你命名的令牌来命名它。我的名字是<strong class="js iu">cryptodogpartypass . sol .</strong>继续从OpenZeppelin向导中粘贴您的代码。</p><p id="80b5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">接下来，转到<strong class="js iu">编译器</strong>并选择编译器0.8.4(或显示在智能合约顶部的任何东西)<strong class="js iu"> </strong>并编译您的代码。确保编译器版本与智能合约的pragma solidity版本相同。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/5b0547de82b23a228767293b4e35bf17.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/0*gOWvFB7lHbD35KpO.png"/></div></figure><p id="d543" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">接下来转到deploy部分，选择<strong class="js iu"> Injected Web 3 </strong>环境，并选择您想要部署的契约。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/3f36b98afe6f6abb436b7b0d8d408bf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:848/format:webp/0*q5HAe61IE5Bvi6bp.png"/></div></figure><p id="f2f4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">点击<strong class="js iu">部署</strong>，它应该会提示你的元掩码。确保现在你已经在Goerli testnet上了。你需要做一些格利测试。如果你还没有，看下面的视频。</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="07d1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">继续操作，单击浏览器扩展部分中的元掩码图标将其激活，然后再次部署。</p><p id="bddb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">现在我们已经将代码部署到了Goerli测试网上…🚀</strong></p><p id="2889" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您应该看到以下内容:</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi mg"><img src="../Images/f4d6a3bf58d4c14de3719dafe61bd91d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jZhdD31fIPXYkbi9cyCGBg.png"/></div></div></figure><p id="ebd6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们调用我们需要的每个方法:</p><p id="4c5a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们应该认识到，<strong class="js iu"> mint() </strong>函数接收令牌所有者的地址、令牌Id、同一令牌的供应量以及一些可选的附加数据。当我们为mint函数传递参数并将其部署在Goerli测试网络上时，请参见下图。</p><p id="7e8b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在下图中，我们调用mint函数将10个令牌id为“3”的令牌存入我们的地址。单击transact后，它会提示元掩码wallet，您可以确认以便执行铸造:)</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi mg"><img src="../Images/454a7a5dd8809ae004fd420f66c3cf95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mnoFrlhpEwCk6nalsNatZg.png"/></div></div></figure><p id="be74" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">由于我们已经设置了令牌细节，现在我们可以使用令牌地址和令牌Id作为参数来检查余额。这就是我们称之为<strong class="js iu"> balanceOf </strong>()方法的地方。从下图可以看出，由于我们没有名为“1”的tokenId，因此它返回“0”。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/ab428bb56854eda0b25beb9d5bd57f90.png" data-original-src="https://miro.medium.com/v2/resize:fit:926/format:webp/1*6QuzMOdAU5rFOf7btYp29Q.png"/></div></figure><p id="397f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们看看我们是否输入token id“3 ”,它会给出可用令牌的数量</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/609976e6739c3270ad93e182120b7605.png" data-original-src="https://miro.medium.com/v2/resize:fit:950/format:webp/1*t2g2mbBEgDjNsnFFdkF16w.png"/></div></figure><p id="1420" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="my">瞧</em>！我们得到了价值“10”的代币，如铸造电话中所述。</p><p id="5dd0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们还可以通过调用<strong class="js iu"> exists() </strong>来检查令牌是否存在，并输入我们试图检查它是否存在的tokenId，它返回一个bool。我们还可以检查<strong class="js iu"> totalSupply() </strong>，它接受tokenId来计算它被铸造了多少。我们还可以调用<strong class="js iu"> owner() </strong>方法来了解谁拥有特定的令牌。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi mg"><img src="../Images/92fe06868bd008073a79037d74b2928e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W37l2DzPsZ98qAZAdOazhw.png"/></div></div></figure><p id="19dc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果我们在以太网扫描的块浏览器上检查我们的钱包地址，我们可以在ERC1155选项卡中查看我们的交易的详细信息，如tokenId、totalSupply。</p><p id="6c72" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在去更新你的智能合同开发简历吧！(不是职业建议..lol)😂</p><p id="fe3f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">如果你对加密、元宇宙、NFTs和DeFi感兴趣，别忘了看看这些:</strong></p><p id="d3ad" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">🤑<a class="ae ko" href="https://www.udemy.com/course/def-i-decentralized-finance-future-of-finance-masterclass/?referralCode=AB3572DA1669084E47E4" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu"> DeFi金融大师班的未来</strong> </a></p><p id="8789" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">🚀<a class="ae ko" href="https://www.udemy.com/course/the-ethereum-merge-upgrades-masterclass/?referralCode=732F453B5B228B789846" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">以太坊合并升级大师级</strong> <br/> </a>😍<a class="ae ko" href="https://www.udemy.com/course/metaverse-for-businesses-how-to-benefit-from-the-metaverse/?referralCode=4B3DF285FE8F0CDC8143" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">元宇宙对商家—如何从元宇宙获益<br/> </strong> </a> <strong class="js iu">👾</strong> <a class="ae ko" href="https://www.udemy.com/course/create-nfts-tokens-and-daos-smart-contracts-masterclass/?referralCode=39A122B4B0FA4780826A" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">创建NFT、令牌和DAOs智能合约主类</strong> <br/> </a>🦄<a class="ae ko" href="https://www.udemy.com/course/metaverse-masterclass-learn-everything-about-the-metaverse/?referralCode=4795AA478A4B496F3BC5" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">元宇宙大师班——了解元宇宙</strong> <br/> </a> ⭐ <a class="ae ko" href="https://www.udemy.com/course/nft-investing-masterclass-pro-tips-about-nft-investing/?referralCode=32FD108E41BB3959925F" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu"> NFT投资大师班——关于NFT投资的亲贴士</strong> <br/> </a>推特:@ <a class="ae ko" href="https://twitter.com/henriquecentiei?s=11" rel="noopener ugc nofollow" target="_blank"> henriquecentiei </a>，LinkedIn:<a class="ae ko" href="https://www.linkedin.com/in/henriquecentieiro" rel="noopener ugc nofollow" target="_blank">Henrique centieiro</a>，YouTube: <a class="ae ko" href="https://www.youtube.com/results?search_query=henrique+centieiro" rel="noopener ugc nofollow" target="_blank"> Crypto Henri </a></p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi mz"><img src="../Images/8b72aedaad8b9a6e7b43554dcf9ce122.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6pm4R0nWOFscElYuyQJfmA.jpeg"/></div></div></figure></div><div class="ab cl na nb hx nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="im in io ip iq"><h1 id="66b0" class="nh lj it bd lk ni nj nk ln nl nm nn lq no np nq lt nr ns nt lw nu nv nw lz nx bi translated">分级编码</h1><p id="6f71" class="pw-post-body-paragraph jq jr it js b jt mb jv jw jx mc jz ka kb md kd ke kf me kh ki kj mf kl km kn im bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="ffbf" class="ny nz it js b jt ju jx jy kb oa kf ob kj oc kn od oe of og bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="4b51" class="ny nz it js b jt oh jx oi kb oj kf ok kj ol kn od oe of og bi translated">📰查看<a class="ae ko" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">升级编码出版物</a>中的更多内容</li><li id="a1d5" class="ny nz it js b jt oh jx oi kb oj kf ok kj ol kn od oe of og bi translated">🔔关注我们:<a class="ae ko" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae ko" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae ko" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="49d4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">🚀👉<a class="ae ko" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">将像你这样的开发人员安置在顶级初创公司和科技公司</strong> </a></p></div></div>    
</body>
</html>