<html>
<head>
<title>The Easiest Way to Print Documents With Javascript — Print.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Javascript打印文档的最简单方法——Print . js</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/the-easiest-way-to-print-documents-with-javascript-print-js-cd512594a98c?source=collection_archive---------2-----------------------#2020-09-24">https://levelup.gitconnected.com/the-easiest-way-to-print-documents-with-javascript-print-js-cd512594a98c?source=collection_archive---------2-----------------------#2020-09-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/></div><div class="ab cl jq jr hx js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="im in io ip iq"><p id="fbad" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">一个极小的javascript库使得从网络上打印变得非常简单。</p><figure class="kw kx ky kz gt la gh gi paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="gh gi kv"><img src="../Images/f467c553ddde064050509ba387d5d80e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NYKaPixuhQYbhAzf"/></div></div><figcaption class="lh li gj gh gi lj lk bd b be z dk translated">弗洛里安·克劳尔在<a class="ae ll" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="6aa7" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">Print.js主要是为了帮助我们直接在应用程序中打印PDF文件而编写的，不需要离开界面，也不需要使用嵌入。对于用户不需要打开或下载PDF文件，而只需要打印它们的特殊情况。例如，当用户请求打印服务器端生成的报告时，这是非常有用的。这些报告以PDF文件的形式发回。在打印之前，不需要打开这些文件。Print.js提供了一种在我们的应用程序中打印这些文件的快捷方式。</p><h1 id="d24f" class="lm ln it bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">1)下载并安装</h1><p id="4392" class="pw-post-body-paragraph jx jy it jz b ka mk kc kd ke ml kg kh ki mm kk kl km mn ko kp kq mo ks kt ku im bi translated">你可以从GitHub版本下载Print.js的<a class="ae ll" href="https://github.com/crabbly/Print.js/releases/tag/v1.2.0" rel="noopener ugc nofollow" target="_blank">最新版本</a> ( <a class="ae ll" href="https://github.com/crabbly/Print.js/releases/tag/v1.2.0" rel="noopener ugc nofollow" target="_blank"> v1.2.0 </a>)或者使用下面给出的两个步骤之一，这取决于你的包管理器。</p><ul class=""><li id="bc7f" class="mp mq it jz b ka kb ke kf ki mr km ms kq mt ku mu mv mw mx bi translated">要使用npm进行安装:</li></ul><pre class="kw kx ky kz gt my mz na nb aw nc bi"><span id="1e43" class="nd ln it mz b gy ne nf l ng nh"><em class="ni">npm install print-js --save</em></span></pre><ul class=""><li id="4d65" class="mp mq it jz b ka kb ke kf ki mr km ms kq mt ku mu mv mw mx bi translated">使用纱线安装:</li></ul><pre class="kw kx ky kz gt my mz na nb aw nc bi"><span id="9917" class="nd ln it mz b gy ne nf l ng nh"><em class="ni">yarn add print-js</em></span></pre><p id="191a" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">通过npm或yarn安装之后，在开始使用它之前，您应该将这个库导入到您的项目中，如下所示。</p><pre class="kw kx ky kz gt my mz na nb aw nc bi"><span id="526d" class="nd ln it mz b gy ne nf l ng nh"><em class="ni">import print from 'print-js'</em></span></pre><h1 id="9546" class="lm ln it bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">2)开始使用</h1><ul class=""><li id="5211" class="mp mq it jz b ka mk ke ml ki nj km nk kq nl ku mu mv mw mx bi translated">首先，我们需要在页面上包含Print.js库:</li></ul><pre class="kw kx ky kz gt my mz na nb aw nc bi"><span id="5385" class="nd ln it mz b gy ne nf l ng nh"><em class="ni">&lt;script src="print.js"&gt;&lt;/script&gt;</em></span></pre><ul class=""><li id="da13" class="mp mq it jz b ka kb ke kf ki mr km ms kq mt ku mu mv mw mx bi translated">如果您将使用模式功能，还需要在页面上包含Print.css:</li></ul><pre class="kw kx ky kz gt my mz na nb aw nc bi"><span id="3a77" class="nd ln it mz b gy ne nf l ng nh"><em class="ni">&lt;link rel="stylesheet" type="text/css" href="print.css"&gt;</em></span></pre><p id="4761" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">就是这样。现在可以在页面中使用Print.js了。</p><blockquote class="nm nn no"><p id="b194" class="jx jy ni jz b ka kb kc kd ke kf kg kh np kj kk kl nq kn ko kp nr kr ks kt ku im bi translated">在编写您的javascript代码时，请记住库占用了一个全局变量<strong class="jz iu"> printJS </strong> <em class="it">。</em></p></blockquote><h1 id="c27d" class="lm ln it bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">3)使用Print.js</h1><p id="e1f6" class="pw-post-body-paragraph jx jy it jz b ka mk kc kd ke ml kg kh ki mm kk kl km mn ko kp kq mo ks kt ku im bi translated">现在，我们已经正确安装并导入了库，让我们开始使用它。</p><p id="1d72" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">使用Print.js可以打印4种类型的文档:</p><p id="898a" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">i) PDF <em class="ni">(默认)</em></p><p id="3138" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">它的基本用法是调用<strong class="jz iu"> printJS() </strong>并只传入一个PDF文档URL:</p><pre class="kw kx ky kz gt my mz na nb aw nc bi"><span id="7a69" class="nd ln it mz b gy ne nf l ng nh"><em class="ni">printJS('docs/PrintJS.pdf')</em></span></pre><p id="374f" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">ii) HTML</p><p id="b751" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">要打印HTML元素，以类似的方式，传入元素id并键入:</p><pre class="kw kx ky kz gt my mz na nb aw nc bi"><span id="f774" class="nd ln it mz b gy ne nf l ng nh"><em class="ni">printJS('myElementId', 'html')</em></span></pre><p id="9a1b" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">iii)图像</p><p id="f3ba" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">对于图像文件，想法是相同的，但是您需要传递第二个参数:</p><pre class="kw kx ky kz gt my mz na nb aw nc bi"><span id="bdb1" class="nd ln it mz b gy ne nf l ng nh"><em class="ni">printJS('images/PrintJS.jpg', 'image')</em></span></pre><p id="4a5a" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">四)JSON</p><p id="0820" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">打印JSON数据时，传入想要打印的数据、类型和数据属性:</p><pre class="kw kx ky kz gt my mz na nb aw nc bi"><span id="ff0e" class="nd ln it mz b gy ne nf l ng nh"><em class="ni">printJS(<br/>         {<br/>           printable: myData, <br/>           type: 'json', <br/>           properties: ['prop1', 'prop2', 'prop3']<br/>         }<br/>)</em><em class="ni">;</em></span></pre><h1 id="174b" class="lm ln it bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">4)示例</h1><p id="7919" class="pw-post-body-paragraph jx jy it jz b ka mk kc kd ke ml kg kh ki mm kk kl km mn ko kp kq mo ks kt ku im bi translated">理论讲够了，现在让我们看看一些有用的插图，看看我们如何使用这个库在我们的网页上完成一些好的打印工作:</p><p id="8980" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><strong class="jz iu"> 1。打印一个HTML表单</strong></p><p id="28f9" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">Print.js接受带参数的对象。现在让我们打印一个带有自定义标题的HTML表单:</p><figure class="kw kx ky kz gt la"><div class="bz fp l di"><div class="ns nt l"/></div><figcaption class="lh li gj gh gi lj lk bd b be z dk translated">使用Print.js打印带标题的HTML表单</figcaption></figure><p id="09bc" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><strong class="jz iu"> 2。打印图像</strong></p><p id="6f9c" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">为了一起打印多个图像，我们可以传递一个图像数组。我们还可以传递要应用于每个图像的样式:</p><figure class="kw kx ky kz gt la"><div class="bz fp l di"><div class="ns nt l"/></div><figcaption class="lh li gj gh gi lj lk bd b be z dk translated">使用Print.js一起打印多个样式的图像</figcaption></figure><p id="ac99" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><strong class="jz iu"> 3。打印JSON数据</strong></p><figure class="kw kx ky kz gt la"><div class="bz fp l di"><div class="ns nt l"/></div><figcaption class="lh li gj gh gi lj lk bd b be z dk translated">使用Print.js将JSON数据打印成表格</figcaption></figure><p id="222b" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><strong class="jz iu"> 4。打印样式化的JSON数据</strong></p><p id="2563" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">现在，我们可以向数据表添加自定义样式，并通过发送对象数组来自定义表头文本:</p><figure class="kw kx ky kz gt la"><div class="bz fp l di"><div class="ns nt l"/></div><figcaption class="lh li gj gh gi lj lk bd b be z dk translated">以表格形式打印样式化的JSON数据</figcaption></figure><p id="a2c4" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><strong class="jz iu"> 5。打印PDF时处理错误</strong></p><p id="074b" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">您还可以使用print.js提供的onError()方法处理错误，并使用警报将它们显示给用户，如下例所示:</p><figure class="kw kx ky kz gt la"><div class="bz fp l di"><div class="ns nt l"/></div><figcaption class="lh li gj gh gi lj lk bd b be z dk translated">Print.js错误处理</figcaption></figure><h1 id="f5fa" class="lm ln it bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">5)浏览器兼容性</h1><p id="e546" class="pw-post-body-paragraph jx jy it jz b ka mk kc kd ke ml kg kh ki mm kk kl km mn ko kp kq mo ks kt ku im bi translated">由于print.js是一个相当新的库，因此，目前并不是所有的库特性都能在浏览器之间工作。然而，大多数主流浏览器都支持这个神奇的库允许我们打印的所有文档类型。以下是使用这些主要浏览器的最新版本进行的测试结果:</p><figure class="kw kx ky kz gt la gh gi paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="gh gi nu"><img src="../Images/30360ca15433031c0dab0d2a50e9069c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gbzjzM2_kJNu5EoJeJNAAA.png"/></div></div><figcaption class="lh li gj gh gi lj lk bd b be z dk translated">演职员表:<a class="ae ll" href="https://printjs.crabbly.com/" rel="noopener ugc nofollow" target="_blank">https://printjs.crabbly.com/</a></figcaption></figure><p id="3304" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">这些测试是使用由<a class="ae ll" href="https://www.browserstack.com/" rel="noopener ugc nofollow" target="_blank"> BrowserStack </a>提供的跨浏览器测试工具完成的。</p></div><div class="ab cl jq jr hx js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="im in io ip iq"><p id="a6a1" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">所以，这就是这个有用的Javascript库。我希望本文提供的信息能够为您提供价值，并帮助您简化和优化web应用程序的未来打印任务。</p><figure class="kw kx ky kz gt la"><div class="bz fp l di"><div class="nv nt l"/></div></figure><blockquote class="nw"><p id="3d63" class="nx ny it bd nz oa ob oc od oe of ku dk translated">参考资料:</p><p id="8e79" class="nx ny it bd nz oa og oh oi oj ok ku dk translated">在https://printjs.crabbly.com/<a class="ae ll" href="https://printjs.crabbly.com/" rel="noopener ugc nofollow" target="_blank">阅读更多关于Print.js的信息</a></p></blockquote><p id="f0c2" class="pw-post-body-paragraph jx jy it jz b ka ol kc kd ke om kg kh ki on kk kl km oo ko kp kq op ks kt ku im bi translated">最初发布于:</p><div class="oq or gp gr os ot"><a href="https://www.theimmigrantprogrammers.com/p/the-easiest-way-to-print-documents" rel="noopener  ugc nofollow" target="_blank"><div class="ou ab fo"><div class="ov ab ow cl cj ox"><h2 class="bd iu gy z fp oy fr fs oz fu fw is bi translated">用Javascript - Print.js打印文档的最简单方法</h2><div class="pa l"><h3 class="bd b gy z fp oy fr fs oz fu fw dk translated">Print.js主要是为了帮助我们直接在应用程序中打印PDF文件，而无需离开界面，并且…</h3></div><div class="pb l"><p class="bd b dl z fp oy fr fs oz fu fw dk translated">www.theimmigrantprogrammers.com</p></div></div><div class="pc l"><div class="pd l pe pf pg pc ph lf ot"/></div></div></a></div></div></div>    
</body>
</html>