<html>
<head>
<title>Create your own Code Editor in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React中创建自己的代码编辑器</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/create-your-own-code-editor-in-react-d75e8e7e1940?source=collection_archive---------2-----------------------#2022-10-13">https://levelup.gitconnected.com/create-your-own-code-editor-in-react-d75e8e7e1940?source=collection_archive---------2-----------------------#2022-10-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/10222d8da0029631d6fcba0a75d5b7e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ND3gmDCecASURzM-yCHzvw.png"/></div></div></figure><h1 id="6428" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">介绍</h1><p id="3203" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">几个基于浏览器的代码编辑器提供了在网页中嵌入全功能代码编辑器的能力。然而，如果您只需要一个简单的编辑器，带有语法高亮显示，没有任何额外的功能，它们可能是多余的，因为它们通常没有一个小的包大小。这可能会使你的应用程序变得更大。</p><p id="f260" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">在这篇文章中，我将指导你如何制作一个简单的带有语法高亮的代码编辑器，使你的网站适合简单的嵌入</p><h1 id="b829" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">设置</h1><p id="3cd5" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">首先用TypeScript创建一个React App，我会用Vite，你想用什么都可以</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="508d" class="mi jz iq me b gy mj mk l ml mm">yarn create vite my-code-editor --template react-ts</span></pre><p id="5b9b" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">接下来，我们安装所需的依赖项</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="3d88" class="mi jz iq me b gy mj mk l ml mm">cd my-code-editor<br/>yarn add react-simple-code-editor prism-react-renderer</span></pre><h1 id="fdab" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">开始编码</h1><p id="c785" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">是一个库，旨在提供一个简单的代码编辑器，支持语法高亮显示，没有任何额外的特性。</p><p id="34ff" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated"><code class="fe mn mo mp me b">prism-react-renderer</code>是一个使用Prism的库，提供了一个小的渲染道具驱动的组件来快速渲染到React中。</p><p id="67e9" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">合并两个库将有助于我们创建应用程序。\</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="d83f" class="mi jz iq me b gy mj mk l ml mm">import Editor from "react-simple-code-editor";<br/>import Highlight, { defaultProps } from "prism-react-renderer";<br/>import darkTheme from "prism-react-renderer/themes/nightOwl";<br/>import lightTheme from "prism-react-renderer/themes/nightOwlLight";</span></pre><p id="6c29" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">如果它没有至少两个主题和荧光笔，它就不是一个好的编辑器。</p><p id="22d9" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">首先，我们需要我们的国家</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="f056" class="mi jz iq me b gy mj mk l ml mm">const [code, setCode] = useState(`function add(a, b) {\n  return a + b;\n}'`);</span><span id="3fdd" class="mi jz iq me b gy mq mk l ml mm">const [theme, setTheme] = useState("dark");</span></pre><p id="f33f" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">一个州持有代码，另一个州持有主题。</p><p id="b3ea" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">接下来，我们创建高光函数:</p><figure class="lz ma mb mc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/33f40d24045e98a366b35ba8523ab7fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lRCIobnIK0ylsGUEulpFxg.png"/></div></div></figure><p id="704d" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">这个功能非常简单。使用带有<code class="fe mn mo mp me b">prism-react-renderer</code>及其defaultProps的<code class="fe mn mo mp me b">Highlight</code>组件，传递正确的主题和代码。选择你的语言，我选择了<code class="fe mn mo mp me b">tsx</code>。</p><figure class="lz ma mb mc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mr"><img src="../Images/22e6cb230e762830c8d78cf3490b0eb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C6OxU2rJgJRXUrqXD4ASIg.png"/></div></div></figure><figure class="lz ma mb mc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ms"><img src="../Images/9bda5775ca1e0f8297a675aa2ba35590.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F0PGkZP8dunlIcjNGgj6jg.png"/></div></div></figure><p id="dd0f" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">最后是渲染功能，我们使用上面导入的<code class="fe mn mo mp me b">Editor</code>组件。<code class="fe mn mo mp me b">value</code>将是代码，不要忘记下面的setter。<code class="fe mn mo mp me b">highlight</code>道具将是上面的<code class="fe mn mo mp me b">highlight</code>功能。设置<code class="fe mn mo mp me b">padding</code>和<code class="fe mn mo mp me b">style</code>，你就可以开始了。</p><h1 id="33d0" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">结果</h1><p id="c987" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">随着更多的造型，结果将看起来像上面的所有图片(我使用自己的编辑器应用程序)，你可以在这里找到<a class="ae mt" href="https://gitlab.com/letrongduc1999/live-code-editor" rel="noopener ugc nofollow" target="_blank">源代码</a></p><h1 id="b938" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">遗言</h1><p id="9855" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">虽然我的内容对每个人都是免费的，但是如果你觉得这篇文章有帮助，<a class="ae mt" href="https://www.buymeacoffee.com/kylele19" rel="noopener ugc nofollow" target="_blank">你可以在这里给我买杯咖啡</a></p></div></div>    
</body>
</html>