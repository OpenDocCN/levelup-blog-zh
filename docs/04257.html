<html>
<head>
<title>Getting Started with Data Analysis Using R and Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用R和Python开始数据分析</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/data-analysis-uniqueness-in-r-and-python-72a11bb1eda8?source=collection_archive---------25-----------------------#2020-06-16">https://levelup.gitconnected.com/data-analysis-uniqueness-in-r-and-python-72a11bb1eda8?source=collection_archive---------25-----------------------#2020-06-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="fa62" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">R和Python编程语言数据分析方法的比较。</p><p id="3b5b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">什么是数据科学&amp;数据分析？</strong></p><p id="4828" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">许多统计学家和数据科学家都认为“数据是新的石油”随着21世纪数据的兴起，数据科学从大型数据集中获得洞察力，并概述独特比较的趋势。</p><p id="e7d2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">线性回归基础知识</strong></p><p id="8ff9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当以图表形式分析数据时，最常用的工具是线性回归。线性回归有助于对数据集之间的趋势和相关性进行建模，以便从中获得洞察力。线性回归是一种基于最佳拟合线(即回归线)的统计方法:</p><pre class="ko kp kq kr gt ks kt ku kv aw kw bi"><span id="38ce" class="kx ky it kt b gy kz la l lb lc">y = a + bx</span></pre><p id="300a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">上式中，(a)是截距，(y)是因变量，(x)是自变量，(b)是直线的斜率。</p><p id="6b94" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">线性回归在分析数据集时特别有用，因为它紧密地模拟了因变量和自变量之间的关系。</p><p id="4474" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">实例案例分析</strong></p><p id="0c7d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于我们的数据分析，我们正在研究家庭生活成本价格指数的例子。包含家庭生活成本价格指数的CSV文件可以在<a class="ae ld" href="https://www.stats.govt.nz/large-datasets/csv-files-for-download/" rel="noopener ugc nofollow" target="_blank">这里</a>找到。任务是用家庭总收入来模拟普通家庭所有者的年龄。我们将使用R和Python中的方法来执行线性回归，并研究普通房主的年龄与其收入之间的相关性。我们将比较这两种编程语言以及它们产生的结果。</p><p id="c91f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">R中的数据分析</strong></p><p id="049b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">首先，让我们设置工作目录，开始提取CSV文件的过程。</p><pre class="ko kp kq kr gt ks kt ku kv aw kw bi"><span id="8694" class="kx ky it kt b gy kz la l lb lc">1 setwd("~/Desktop")</span></pre><p id="ab58" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">创建工作目录后，下一步是使用read.table()函数导入CSV文件:</p><pre class="ko kp kq kr gt ks kt ku kv aw kw bi"><span id="c536" class="kx ky it kt b gy kz la l lb lc">2 house = read.table('HOUSE.csv', header=TRUE, sep=",")</span></pre><p id="8b5d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">显示该表为我们提供了数据集的前18行和前18列:</p><figure class="ko kp kq kr gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="gh gi le"><img src="../Images/818f60d0a0ea0e521aeabfad69f6fb08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_In5xYebNU3hT0RkzzUE1w.png"/></div></div></figure><p id="6065" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">将年龄列标在x轴上，收入列标在y轴上，我们得到的是点分布图:</p><pre class="ko kp kq kr gt ks kt ku kv aw kw bi"><span id="a75a" class="kx ky it kt b gy kz la l lb lc">3 plot(house$age, house$income)</span></pre><figure class="ko kp kq kr gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="gh gi lm"><img src="../Images/ff7b27cb759a3417b3f8cb0f77166076.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3LGBbYKPMQSaz9krKy5u_A.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk translated">数据集的点图</figcaption></figure><p id="b673" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下面我们使用上面创建的点图创建一个线性回归模型。使用R函数abline()绘制直线，该函数可用于向R中的任何图形或数据集添加垂直、水平或回归线。</p><pre class="ko kp kq kr gt ks kt ku kv aw kw bi"><span id="a6ff" class="kx ky it kt b gy kz la l lb lc">4 line &lt;- lm(house$income ~ house$age)<br/>5 abline(line)</span></pre><p id="f86b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在上面代码片段的第4行，函数产生收入(y轴)和年龄(x轴)之间的斜率。在第5行中，abline()函数根据图形的斜率生成一条回归线。结果如下:</p><figure class="ko kp kq kr gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="gh gi lr"><img src="../Images/aa742772f619b0fe96a3b21c26541ad9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7cEFUqN993h38q9X8mTCyg.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk translated">R中的线性回归线</figcaption></figure><p id="b1b0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们走吧！我们推导出R中的回归线，发现年龄和收入之间呈正相关，因为年龄每增加两年，收入就增加大约7000美元。</p><p id="718e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，下一步是在Python中尝试这一点！</p><p id="2a5c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">Python中的数据分析</strong></p><p id="8bee" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">提醒我们的任务:用家庭总收入来模拟普通家庭所有者的年龄。</p><p id="cb8e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">首先，让我们用Python导入分析所需的库:</p><pre class="ko kp kq kr gt ks kt ku kv aw kw bi"><span id="7cb5" class="kx ky it kt b gy kz la l lb lc">1 import math<br/>2 import numpy as np<br/>3 import pandas as pd<br/>4 import matplotlib.pyplot as plt<br/>5 from sklearn.linear_model import LinearRegression<br/>6 from sklearn import metrics<br/>7 %matplotlib inline</span></pre><p id="166e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下一步是使用Python函数导入CSV文件:</p><pre class="ko kp kq kr gt ks kt ku kv aw kw bi"><span id="6f39" class="kx ky it kt b gy kz la l lb lc">8 dataset = pd.read_csv('household-living-costs-price-indexes-march-9 2020-quarter-group-facts.csv')</span></pre><p id="d159" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在让我们显示CSV，并查看行和列:</p><pre class="ko kp kq kr gt ks kt ku kv aw kw bi"><span id="4a4e" class="kx ky it kt b gy kz la l lb lc">10 dataset.describe()</span></pre><figure class="ko kp kq kr gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="gh gi ls"><img src="../Images/ffc7223388ba3eb9d84f087e59bf72c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WZ1tBezvZaT_5QBRUfZS6g.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk translated">家庭收入数据集</figcaption></figure><p id="d2e0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用数据集，我们现在可以将“年龄”和“家庭收入”绘制成点状图(年龄为x轴，家庭收入为y轴):</p><pre class="ko kp kq kr gt ks kt ku kv aw kw bi"><span id="d9fa" class="kx ky it kt b gy kz la l lb lc">11 dataset.plot(x='age', y='income', style='o')<br/>12 plt.title('Age vs Income')<br/>13 plt.xlabel('Age (Years)')<br/>14 plt.ylabel('Income ($)')<br/>15 plt.show()</span></pre><figure class="ko kp kq kr gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="gh gi lt"><img src="../Images/c958c43a4adabb6441ed9d181ff64661.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ryc3E0CW41GGW3-01Gdh_w.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk translated">年龄与收入点图</figcaption></figure><p id="0d58" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下一步是将其转换为NumPy数组格式:</p><pre class="ko kp kq kr gt ks kt ku kv aw kw bi"><span id="2516" class="kx ky it kt b gy kz la l lb lc">16 X = dataset['age'].values.reshape(-1,1)<br/>17 Y = dataset['income'].values.reshape(-1,1)</span></pre><p id="346c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">将它转换成NumPy数组后，我们可以创建LinearRegression类的一个实例，如下所示:</p><pre class="ko kp kq kr gt ks kt ku kv aw kw bi"><span id="06de" class="kx ky it kt b gy kz la l lb lc">18 regress = LinearRegression()<br/>19 regress.fit(X, Y)</span></pre><p id="eedb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下一步是进行预测，以在变量“Y_pred”中创建最佳拟合线:</p><pre class="ko kp kq kr gt ks kt ku kv aw kw bi"><span id="ce05" class="kx ky it kt b gy kz la l lb lc">20 Y_pred = regress.predict(X)</span></pre><p id="e0f5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们走吧！我们的最后一步是将我们的努力付诸实践，绘制分散点并显示回归线:</p><pre class="ko kp kq kr gt ks kt ku kv aw kw bi"><span id="340e" class="kx ky it kt b gy kz la l lb lc">21 plt.scatter(X, Y, color='blue')<br/>22 plt.plot(X, Y_pred, color='red', linewidth=2)<br/>23 plt.title('Age vs Income')<br/>24 plt.xlabel('Age (Years)')<br/>25 plt.ylabel('Income ($)')<br/>26 plt.show()</span></pre><figure class="ko kp kq kr gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="gh gi lu"><img src="../Images/06c8da4a148fe9bac07cf62969d77f8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hHHewlOTSPkJbXlDNZUotA.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk translated">线性回归线</figcaption></figure><p id="9889" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">根据我们在Python中的回归分析，我们绘制了最佳拟合线，现在可以从该图中获得洞察力。首先，我们现在知道年龄每增加两年，收入就会增加大约7000美元。这个结果与使用r获得的结果相同。</p><p id="a9b8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">结论</strong></p><p id="a54b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">比较R和Python两种方法，我们发现线性回归的结果几乎相同！也就是说，需要注意的是，R中的方法大约需要5-6行代码，而Python中的方法大约需要18行函数代码。</p><p id="9aa7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用R的好处是，它有利于数据科学家和分析师，他们希望立即得到结果并对数据集进行统计分析。Python可以执行相对相同的任务，并且在更大的规模上，可以与机器学习算法集成，以设计新产品和程序。如果您想要创建更大规模的产品，Python中的数据分析允许与API和机器学习算法集成，以获得复杂的解决方案。</p><p id="9e78" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">仅此而已！同时使用R和Python，您可以通过对您选择的任何数据集使用线性回归和其他函数来从数据分析中获得一些见解。我鼓励你前进，继续探索！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><div class="ko kp kq kr gt mc"><a href="https://skilled.dev" rel="noopener  ugc nofollow" target="_blank"><div class="md ab fo"><div class="me ab mf cl cj mg"><h2 class="bd iu gy z fp mh fr fs mi fu fw is bi translated">编写面试问题</h2><div class="mj l"><h3 class="bd b gy z fp mh fr fs mi fu fw dk translated">一个完整的平台，在这里我会教你找到下一份工作所需的一切，以及…</h3></div><div class="mk l"><p class="bd b dl z fp mh fr fs mi fu fw dk translated">技术开发</p></div></div><div class="ml l"><div class="mm l mn mo mp ml mq lk mc"/></div></div></a></div></div></div>    
</body>
</html>