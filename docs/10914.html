<html>
<head>
<title>How To Handle Files With Python Like a Pro</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何像专业人士一样用Python处理文件</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-handle-files-with-python-like-a-pro-16ef6bb43e98?source=collection_archive---------12-----------------------#2022-01-24">https://levelup.gitconnected.com/how-to-handle-files-with-python-like-a-pro-16ef6bb43e98?source=collection_archive---------12-----------------------#2022-01-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c919" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Python删除、读取和写入文件的简单指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/655123bccfba983d4a6bbf80ee13dcb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*n-iQ0FU7WWreeZtY"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">萨拉·库菲在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="a9a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">文件处理是最重要和最常用的技能之一。用Python做任何类型的实际应用(如Web报废、数据科学或Web应用)都需要它，这一事实可以看出它的受欢迎程度。然而，在学习Python时，它经常被忽略，但现在不再是了！</p><p id="9a59" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了这个基本技能，你将能够打开，编辑和操作无限的文件格式。例如，你将能够操纵流行的格式，如:</p><ol class=""><li id="0fee" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">逗号分隔值(CSV)</li><li id="52ce" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">活力</li><li id="fe1a" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">纯文本</li><li id="7277" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">JSON</li><li id="da13" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">可扩展标记语言</li><li id="75e3" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">超文本标记语言</li><li id="02f7" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">形象</li><li id="2ed8" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">便携文档格式</li><li id="266c" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">DOCX</li><li id="3e0e" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">MP3文件</li><li id="93fa" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">MP4</li></ol><p id="e440" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，在本文中，我们将主要关注。txt文件，但是这里使用的方法也可以用于其他格式。所以让我们开始真正的交易吧！</p><h1 id="204c" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">1.如何打开文件</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/f84ce930980b14a87a8d3da039ced64f.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*6CAVTewqXKAEgNLTuScNJw.png"/></div></figure><p id="4389" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要打开一个文件，非常简单，只需使用Python内置的<strong class="lb iu"> <em class="nc"> open() </em> </strong> <em class="nc"> </em>函数。</p><p id="ecbe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果文件存在于当前目录中，那么只要文件名就足够了。Python将在同一个文件夹中查看该文件。否则，如果文件存在于当前目录之外，则需要该文件的完整路径。</p><p id="86ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下面的代码中，mode指定了需要对文件做什么以及应该如何打开它。</p><pre class="kj kk kl km gt nd ne nf ng aw nh bi"><span id="edb1" class="ni mk it ne b gy nj nk l nl nm">file = open(name, mode)</span></pre><p id="677f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是经常使用的模式列表，还有一些其他的我没有在下面提到，因为它们没有被广泛使用。</p><pre class="kj kk kl km gt nd ne nf ng aw nh bi"><span id="ab66" class="ni mk it ne b gy nj nk l nl nm">1. r: Read opens a file for reading only. (default)</span><span id="7e3c" class="ni mk it ne b gy nn nk l nl nm">2. w: Write opens a file for writing only, deleting earlier contents</span><span id="909a" class="ni mk it ne b gy nn nk l nl nm">3. a: Append opens a file for appending.</span></pre><p id="f6c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如。</p><pre class="kj kk kl km gt nd ne nf ng aw nh bi"><span id="7a71" class="ni mk it ne b gy nj nk l nl nm">f=<em class="nc">open</em>("scrap.txt","w")</span></pre><p id="3420" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面一行代码将以只写模式打开当前目录中的scrap.txt文件。如果存在任何名为scrap.txt的文件，它将被删除，并创建一个具有给定名称的新文件。</p><p id="d3fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你不想删除已经存在的文件，选择<strong class="lb iu"> <em class="nc">和</em> </strong>是正确的选择。</p><blockquote class="no np nq"><p id="410a" class="kz la nc lb b lc ld ju le lf lg jx lh nr lj lk ll ns ln lo lp nt lr ls lt lu im bi translated">注意:如果在模式参数中没有给出任何东西，那么默认情况下它被设置为<strong class="lb iu"> r </strong></p></blockquote><h1 id="55ab" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">2.如何读取文件</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/edf9cbbca85b25dd761bdad8d197aa2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*QnRr2-3_dmbLJshRhnt0Aw.png"/></div></figure><p id="f7a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要读取文件的内容，必须先打开它。</p><pre class="kj kk kl km gt nd ne nf ng aw nh bi"><span id="8996" class="ni mk it ne b gy nj nk l nl nm">f=<em class="nc">open</em>("scrap.txt")<em class="nc"><br/>print</em>(f.read())</span></pre><blockquote class="no np nq"><p id="7030" class="kz la nc lb b lc ld ju le lf lg jx lh nr lj lk ll ns ln lo lp nt lr ls lt lu im bi translated"><strong class="lb iu">注意:我们使用read()函数是因为，open函数只是存储文件的路径和其他设置，而不是内容。</strong></p></blockquote><p id="d715" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您尝试在不使用read函数的情况下打印f变量，您将在控制台日志中得到以下内容，这些内容主要是文件的详细信息而不是内容。</p><pre class="kj kk kl km gt nd ne nf ng aw nh bi"><span id="00ac" class="ni mk it ne b gy nj nk l nl nm">&lt;_io.TextIOWrapper name=’scrap.txt’ mode=’r’ encoding=’UTF-8'&gt;</span></pre><p id="3be5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有另一种方法来查看文件的内容，这种方法具有更好的控制，那就是遍历文件的每一行。</p><pre class="kj kk kl km gt nd ne nf ng aw nh bi"><span id="68cb" class="ni mk it ne b gy nj nk l nl nm">f=<em class="nc">open</em>("scrap.txt")<br/><br/>for line in f:<br/>    <em class="nc">print</em>(line)</span></pre><h1 id="c01f" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">3.如何写入文件</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/6e8560c1813fa251492fa36d8628badf.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*uSuq9UFGHTs5_fFZLfsSLw.png"/></div></figure><p id="f1d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要写入文件，必须使用write <strong class="lb iu"> <em class="nc"> w </em> </strong>或追加<strong class="lb iu"> <em class="nc"> a </em> </strong>作为方法。</p><pre class="kj kk kl km gt nd ne nf ng aw nh bi"><span id="074f" class="ni mk it ne b gy nj nk l nl nm">f=<em class="nc">open</em>("scrap.txt","w")<br/>f.write("This is how you can use Python to write data in files")<br/>f.close()</span></pre><blockquote class="no np nq"><p id="a4cc" class="kz la nc lb b lc ld ju le lf lg jx lh nr lj lk ll ns ln lo lp nt lr ls lt lu im bi translated"><strong class="lb iu">提示:要添加新的空行，您可以在代码中使用\n字符。这将添加一个空行，否则，你会很快发现一切都乱糟糟的。</strong></p></blockquote><pre class="kj kk kl km gt nd ne nf ng aw nh bi"><span id="ff27" class="ni mk it ne b gy nj nk l nl nm">f.write("This is how you can use Python to write data in files\n")<br/>f.write("Added a new line")</span></pre><h1 id="8ea4" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">4.如何在Python中关闭文件</h1><p id="bc49" class="pw-post-body-paragraph kz la it lb b lc nu ju le lf nv jx lh li nw lk ll lm nx lo lp lq ny ls lt lu im bi translated">使用完文件后关闭它是很重要的，因为关闭文件将释放文件以前使用的所有资源。</p><pre class="kj kk kl km gt nd ne nf ng aw nh bi"><span id="0b81" class="ni mk it ne b gy nj nk l nl nm">f=<em class="nc">open</em>("scrap.txt","w")<br/>f.close()</span></pre><h1 id="3907" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">5.如何删除文件</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/c666bfc0c493975eb50cd99dfdea84f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*0rYW1YKZfqB8X9LRcXzj-w.jpeg"/></div></figure><p id="804c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要删除文件，您必须导入Python OS模块。</p><pre class="kj kk kl km gt nd ne nf ng aw nh bi"><span id="51c8" class="ni mk it ne b gy nj nk l nl nm">import os<br/>os.remove(“scrap.txt”)</span></pre><h1 id="a621" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">结论</h1><p id="da12" class="pw-post-body-paragraph kz la it lb b lc nu ju le lf nv jx lh li nw lk ll lm nx lo lp lq ny ls lt lu im bi translated">在本文中，我们看到了如何使用Python打开、读取、写入和删除文件。有了这项技能，可能的用例是无穷无尽的，因为几乎所有的事情都与操作文件有关。无论是网络报废、自动化、网络应用等…</p><p id="904a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">谢谢你，我希望你喜欢这篇文章:)</p></div></div>    
</body>
</html>