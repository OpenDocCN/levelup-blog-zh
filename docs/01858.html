<html>
<head>
<title>JavaScript Best Practices — Naming, Style, and Comments</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript最佳实践—命名、样式和注释</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/javascript-best-practices-naming-style-and-comments-4a464ac9dc4f?source=collection_archive---------6-----------------------#2020-02-03">https://levelup.gitconnected.com/javascript-best-practices-naming-style-and-comments-4a464ac9dc4f?source=collection_archive---------6-----------------------#2020-02-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/2dbed9f8ff378d35723b60300d79010e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dURZhFC16JQCS2pG"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">米歇尔·卡塔利萨诺在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="2984" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">像任何其他编程语言一样，JavaScript有自己的最佳实践列表，使程序更容易阅读和维护。JavaScript有许多棘手的部分，这意味着我们应该避免某些模式或特性。我们可以遵循一些最佳实践来使我们的JavaScript代码易于阅读。</p><p id="65b7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将研究一些使代码易于阅读的最佳实践。我们关注变量和函数命名，避免全局变量，保持严格的编码风格，适度地注释代码。</p><h1 id="9a2a" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">变量、函数和类的简单、简短和易读的名称</h1><p id="ef86" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">函数名应该简短而有意义。例如，如果我们想创建一个变量来存储某人的生日，它应该有一个表明这一点的名称。</p><p id="f801" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这意味着它不应该是一个像<code class="fe mh mi mj mk b">b</code>这样的名字，但也不应该是一个像<code class="fe mh mi mj mk b">veryVeryVeryLongBirthdayName</code>这样带有无关词汇的东西。将它命名为<code class="fe mh mi mj mk b">birthday</code>将是合适的。</p><p id="2861" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，要避免在名称中将价值和功能结合起来。例如，如果我们想写一个函数来检查某人是否超过成年年龄，我们应该将其命名为<code class="fe mh mi mj mk b">isAdult()</code>而不是<code class="fe mh mi mj mk b">isOverEighteen()</code>。</p><p id="f7c7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这也更有意义，因为不是每个地方都把18岁作为成年年龄。</p><p id="53bc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们也可以考虑用匈牙利符号来命名变量和函数。该符号将返回类型和名称合二为一。由于JavaScript函数没有固定的返回类型，我们可以为函数的类型添加一个前缀。</p><p id="73a1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，如果我们想用我们的<code class="fe mh mi mj mk b">isAdult()</code>函数返回一个布尔值，我们可以写<code class="fe mh mi mj mk b">bIsAdult()</code>，用<code class="fe mh mi mj mk b">b</code>表示它是一个布尔值。</p><p id="2745" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">用英文保存名字也是一个好主意，因为它使所有的东西与代码的其余部分保持一致。所有像<code class="fe mh mi mj mk b">function</code>和<code class="fe mh mi mj mk b">new</code>这样的保留字都是英文的，所以保持其他都是英文是一致的。</p><p id="f5b2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">英语也是一种更加国际化的语言，所以开发人员更有可能懂英语。</p><p id="e94d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">类是构造其他对象的函数，因此它们的命名应该反映这一点。例如，如果我们有一个构造person对象的类，那么它们应该被命名为<code class="fe mh mi mj mk b">Person</code>。</p><p id="b121" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">类名应该是大写的，并且表明我们正在从它创建什么样的对象。</p><h1 id="7e18" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">避免全局变量和函数</h1><p id="58b1" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">在JavaScript中，文件中运行的所有东西都在同一个范围内运行。这是一个真正的问题，因为东西很容易被无意中修改和引用。</p><p id="8436" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">幸运的是，从ES6开始，JavaScript有几个特性可以处理这个问题。一个是模块的使用。对于模块，只有我们显式导出的内容才可供其他模块使用。</p><p id="aa20" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">还应该启用JavaScript严格模式，以防止意外声明全局变量。在严格模式下，如果前面没有关键字<code class="fe mh mi mj mk b">var</code>、<code class="fe mh mi mj mk b">let</code>或<code class="fe mh mi mj mk b">const</code>，类似于<code class="fe mh mi mj mk b">x = 1</code>的内容会导致错误。</p><p id="5ae9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另外<code class="fe mh mi mj mk b">let</code>和<code class="fe mh mi mj mk b">const</code>分别是声明块范围变量和常量的关键字，所以我们不会在块外意外引用它。</p><p id="a168" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，如果我们用<code class="fe mh mi mj mk b">var</code>编写以下代码:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="21ab" class="mt lf it mk b gy mu mv l mw mx">if (true) {<br/>  var x = 1;<br/>}<br/>console.log(x);</span></pre><p id="8dd5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们将从<code class="fe mh mi mj mk b">console.log</code>中看到1，因为它不是块范围的。</p><p id="526c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一方面，如果我们用<code class="fe mh mi mj mk b">let</code>代替<code class="fe mh mi mj mk b">var</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="1cfc" class="mt lf it mk b gy mu mv l mw mx">if (true) {<br/>  let x = 1;<br/>}<br/>console.log(x);</span></pre><p id="e246" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们得到错误“未捕获的引用错误:x未定义。”</p><p id="537d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正如我们所看到的，我们不能在我们不期望的地方引用事物。</p><p id="7bad" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一种方法是将我们希望私有的东西包装在一个函数中。</p><p id="b317" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以写:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="04d9" class="mt lf it mk b gy mu mv l mw mx">(function() {<br/>  var x = 1;<br/>})();</span><span id="eb52" class="mt lf it mk b gy my mv l mw mx">console.log(x);</span></pre><p id="e8c9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还会得到错误“未捕获的引用错误:x未定义。”一个函数在被声明后立即运行，我们称之为立即调用函数表达式，简称IIFE。</p><p id="2bc5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们想在上面的生活中暴露一些东西，我们可以像下面这样返回我们想要的东西:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="d8cb" class="mt lf it mk b gy mu mv l mw mx">let foo = (function() {<br/>  var x = 1;<br/>  return {<br/>    bar: 2<br/>  }<br/>})();<br/>console.log(foo.bar);</span></pre><p id="1e47" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们返回了一个具有<code class="fe mh mi mj mk b">bar</code>属性的对象，并将其分配给<code class="fe mh mi mj mk b">foo</code>。那么我们应该从<code class="fe mh mi mj mk b">console.log</code>输出中得到2。</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mz"><img src="../Images/26bd1c37dc9ff5145d5c197325ad8191.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*465Ml3r9E4vysn6d"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated"><a class="ae kf" href="https://unsplash.com/@mohaumannathoko?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">莫哈乌·曼纳瑟科</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h1 id="c262" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">保持严格的编码风格</h1><p id="1d96" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">如果团队中的每个开发人员决定如何对代码进行样式化，他们将有自己的风格。</p><p id="aedc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这意味着代码在不同的地方会有不同的风格，使得代码难以阅读。</p><p id="6403" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正因为如此，保持风格一致是个好主意。我们可以用ESLint或JSLint之类的程序自动设计我们的代码，它们对我们的代码进行静态检查，以确保它符合设定的风格。</p><p id="193b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">还有一些工具，比如更漂亮的，可以通过我们的代码库以一致的方式格式化代码。</p><p id="275f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">干净的代码易于阅读和维护。它不应该有令人难以阅读和调试的东西。</p><h1 id="69de" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">需要时进行注释</h1><p id="a3d1" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">虽然许多代码都是不言自明的，但有些代码需要澄清。例如，如果代码是一个复杂系统的一部分，那么它可能需要一些注释来澄清。</p><p id="f3e7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">几行长的简单函数可能不需要太多解释。</p><p id="c4d0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们写注释，我们应该使用多行注释<code class="fe mh mi mj mk b">/* */</code>而不是单行注释<code class="fe mh mi mj mk b">//</code>，因为它们更通用。</p><p id="4257" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">注释的一个便利技巧是在结束多行注释之前用双斜线书写，如下所示:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="986c" class="mt lf it mk b gy mu mv l mw mx">/*<br/>  function foo(){<br/>    return 1<br/>  };  <br/>// */</span></pre><p id="d643" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这样，我们可以通过在第一行的左斜杠前加一个斜杠来取消对代码的注释:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="8807" class="mt lf it mk b gy mu mv l mw mx">//*<br/>  function foo(){<br/>    return 1<br/>  };  <br/>// */</span></pre><p id="630e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">上面的代码未被注释。</p><p id="952e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">许多文本编辑器也应该足够智能，能够自动注释和取消注释JavaScript代码。</p><p id="1d6a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">变量和函数应该以一种方式命名，表明它们分别存储什么或做什么。一般来说，类应该以大写字母开头，并且应该根据它们所实例化的对象的种类来命名。</p><p id="ee4c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们应该避免全局变量，因为它们可能会被意外引用并导致无意的修改。我们可以在函数或模块中保持私有。</p><p id="6dca" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使代码易于阅读。保持严格的编码风格是很重要的，这样我们在阅读代码的时候就不会产生任何混乱。</p><p id="1720" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，如果有难以理解的部分，我们可以适度地对代码进行评论。</p></div></div>    
</body>
</html>