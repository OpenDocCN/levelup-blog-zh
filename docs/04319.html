<html>
<head>
<title>Jupyter + Medium Earning: an Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Jupyter +中等收入:一个分析</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/jupyter-medium-earning-an-analysis-11b6f6e8e7fc?source=collection_archive---------8-----------------------#2020-06-20">https://levelup.gitconnected.com/jupyter-medium-earning-an-analysis-11b6f6e8e7fc?source=collection_archive---------8-----------------------#2020-06-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f052ecca3d16571703e8aaa9115e55c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fz6-k6M_V8vd-q49"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">艾萨克·史密斯在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="d489" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我喜欢统计学。我喜欢数字和图表。因此，当我开始写一些文章并在媒体上发表时，我认为有一些这样的统计数据会很好。</p><p id="d81b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我不喜欢Excel。这是一个伟大的工具，我相信是最好的创造之一，但我不特别喜欢使用它。可能因为我是从数据库管理员做起的吧，不知道。</p><p id="5edf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我开始写作的同时，我发现了一个新工具:JUPYTER。</p><p id="e062" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Jupyter是一个基于web的集成开发环境，用于Python和许多其他语言。它主要被数据科学家用来分析数据和快速显示结果。</p><p id="7ed0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你可以在网上找到很多关于Jupyter和他们笔记本的文档。</p><p id="205f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将看到如何用一个来分析你可能从Medium中获得的收益。</p><p id="d5ca" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，我们需要定义我们将要使用的数据。</p><p id="1721" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">先说痛苦的那个，税率。</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="8e92" class="lk ll iq lg b gy lm ln l lo lp">Tax = 0.7</span></pre><p id="8f30" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们需要有我们正在出版的故事。</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="7615" class="lk ll iq lg b gy lm ln l lo lp">class Stories(Enum):<br/>    STORY_1_TITLE = Story("My First Story", 500, 3)<br/>    STORY_2_TITLE = Story("My Second Story", 1000, 5)</span></pre><p id="f21c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第一个参数是题目，第二个是字数，第三个是讲课时间。</p><p id="7553" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们需要输入每个故事的月收益。</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="b606" class="lk ll iq lg b gy lm ln l lo lp">gains = [<br/>    Gain(Stories.STORY_1_TITLE, Platform.Medium, Month.January, 2020, 8.00),<br/>    Gain(Stories.STORY_1_TITLE, Platform.Medium, Month.February, 2020, 9.00),<br/>    Gain(Stories.STORY_1_TITLE, Platform.Medium, Month.March, 2020, 7.00),<br/>    Gain(Stories.STORY_2_TITLE, Platform.Medium, Month.March, 2020, 3.00),<br/>    Gain(Stories.STORY_1_TITLE, Platform.Medium, Month.May, 2020, 9.00),<br/>    Gain(Stories.STORY_2_TITLE, Platform.Medium, Month.May, 2020, 10.00),<br/>    Gain(Stories.STORY_1_TITLE, Platform.Medium, Month.June, 2020, 11.00),<br/>    Gain(Stories.STORY_2_TITLE, Platform.Medium, Month.June, 2020, 7.00)<br/>]</span></pre><p id="3bfe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这很简单。你有了故事，有了平台，有了月份，有了年份，最后有了收获的金额。<em class="lq">金额为税前。</em></p><h1 id="3bc9" class="lr ll iq bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">熊猫+ MATPLOTLIB</h1><p id="2384" class="pw-post-body-paragraph kd ke iq kf b kg mo ki kj kk mp km kn ko mq kq kr ks mr ku kv kw ms ky kz la ij bi translated">我们将使用pandas进行计算，使用matplotlib进行图形显示。</p><h2 id="6b6d" class="lk ll iq bd ls mt mu dn lw mv mw dp ma ko mx my me ks mz na mi kw nb nc mm nd bi translated">步骤1-我们创建熊猫数据框。</h2><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="6307" class="lk ll iq lg b gy lm ln l lo lp">myData = []<br/>for gain in gains:<br/>    ligne = []<br/>    ligne.append(gain.year) # We get the year<br/>    ligne.append(gain.month.name) # We get the month<br/>    ligne.append(gain.month.value) # We get the month index<br/>    ligne.append(gain.story.value.title) # We get the story<br/>    ligne.append(gain.story.value.words) #We get the word count<br/>    ligne.append(gain.story.value.lectureTime) #We get the length<br/>    ligne.append(gain.platform.name) #We get the plateform<br/>    ligne.append(gain.gain) # Gain before tax<br/>    ligne.append(gain.gain * Tax) # Gain After tax<br/>    myData.append(ligne)</span><span id="2e49" class="lk ll iq lg b gy ne ln l lo lp">dataFrame = pd.DataFrame(myData, columns=["YEAR","MONTH","MONTHINDEX","STORY","WORD","LECTURETIME","PLATEFORM","GAIN BEF TAX","GAIN AFT TAX"])</span></pre><p id="c381" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们有了一个表格中的所有数据。</p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nf"><img src="../Images/41fd6178a958775da3d50e3c25988c3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yw6eLp_jgLi8i8SB8IiNgQ.png"/></div></div></figure><h2 id="54a1" class="lk ll iq bd ls mt mu dn lw mv mw dp ma ko mx my me ks mz na mi kw nb nc mm nd bi translated">第2步—每年的收益</h2><p id="9717" class="pw-post-body-paragraph kd ke iq kf b kg mo ki kj kk mp km kn ko mq kq kr ks mr ku kv kw ms ky kz la ij bi translated">熊猫有很多操作数据的功能。我们将使用<em class="lq"> GROUPBY </em>函数对每年的数据进行分组，然后使用<em class="lq"> SUM </em>函数计算总数。最后，我们将显示结果并绘制成条形图。</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="9c78" class="lk ll iq lg b gy lm ln l lo lp">gainsPerYear = dataFrame<strong class="lg ir">.groupby(["YEAR"])["GAIN AFT TAX"].sum()</strong><br/>gainsPerYear.to_frame().reset_index()<br/>gainsPerYear.plot(<strong class="lg ir">kind='bar'</strong>)</span></pre><figure class="lb lc ld le gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/0f6f075c43e33961cd53e79f46dac027.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M2FBshyW--9yIwJ12yBxig.png"/></div></div></figure><h2 id="e5f2" class="lk ll iq bd ls mt mu dn lw mv mw dp ma ko mx my me ks mz na mi kw nb nc mm nd bi translated">步骤3—每年、每月的收益</h2><p id="48f5" class="pw-post-body-paragraph kd ke iq kf b kg mo ki kj kk mp km kn ko mq kq kr ks mr ku kv kw ms ky kz la ij bi translated">现在我们已经掌握了GROUPBY函数，我们可以在列上显示更多或更少的信息。为了得到每月的总和，我们在group by中添加列。</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="6c3e" class="lk ll iq lg b gy lm ln l lo lp">gainsPerYearPerMonth = dataFrame<strong class="lg ir">.groupby(["YEAR","MONTHINDEX"])["GAIN AFT TAX"].sum()</strong><br/>gainsPerYearPerMonth.to_frame().reset_index()<br/>gainsPerYearPerMonth.plot(<strong class="lg ir">kind='line'</strong>)</span></pre><figure class="lb lc ld le gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nh"><img src="../Images/c9142312187c54fa1d6ba6397a519a48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eZfRVanM85bfJsvqpsAGRg.png"/></div></div></figure><p id="73eb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得到了预期的结果。请注意，plot函数采用的是行参数，而不是条形参数。</p><h2 id="10f1" class="lk ll iq bd ls mt mu dn lw mv mw dp ma ko mx my me ks mz na mi kw nb nc mm nd bi translated">第4步——每个故事的收获</h2><p id="d858" class="pw-post-body-paragraph kd ke iq kf b kg mo ki kj kk mp km kn ko mq kq kr ks mr ku kv kw ms ky kz la ij bi translated">我很确定你现在已经明白了。我们将按故事而不是按年分组。代码是一样的。只需更新列的名称。</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="4b87" class="lk ll iq lg b gy lm ln l lo lp">gainsPerStory = dataFrame<strong class="lg ir">.groupby(["STORY"])["GAIN AFT TAX"].sum()</strong><br/>gainsPerStory.to_frame().reset_index()<br/>gainsPerStory.plot(<strong class="lg ir">kind='bar'</strong>)</span></pre><p id="a337" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你可以在GIT上找到整个Jupyter笔记本:<a class="ae kc" href="https://github.com/satan87/Medium-Writing_earning-analysis" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="4002" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">可以直接在Binder上发起:<a class="ae kc" href="https://mybinder.org/v2/gh/satan87/Medium-Writing_earning-analysis/master" rel="noopener ugc nofollow" target="_blank">这里</a>。</p></div></div>    
</body>
</html>