<html>
<head>
<title>Let’s Create a Shakespearean Insult Generator in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们用Python创建一个莎士比亚式的侮辱生成器</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/lets-create-a-shakespearean-insult-generator-in-python-e64909fd7e09?source=collection_archive---------5-----------------------#2021-05-11">https://levelup.gitconnected.com/lets-create-a-shakespearean-insult-generator-in-python-e64909fd7e09?source=collection_archive---------5-----------------------#2021-05-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="60f9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">“天堂真的知道你像地狱一样虚假”</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/fda39e47440db0d3c3e55179541baa21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fxZawJC-4p1aIMcK"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">埃斯特·韦克斯勒在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="f68e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在是周一晚上，这只能意味着一件事:是时候用Python写一个莎士比亚式的侮辱生成器了。</p><p id="2497" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">(我很爽。)</p><p id="d6c7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们面对现实吧。如果说唱之战在他那个时代存在的话，这位吟游诗人将会击败对手。从邪恶(“你是一个沸腾；一个瘟疫疮”(<a class="ae le" href="https://www.nosweatshakespeare.com/resources/shakespeare-insults/" rel="noopener ugc nofollow" target="_blank">李尔王</a>))，对轻蔑者(“你的脸不值得晒黑”(<a class="ae le" href="https://www.nosweatshakespeare.com/resources/shakespeare-insults/" rel="noopener ugc nofollow" target="_blank">亨利五世</a>))，对彻头彻尾的诽谤者(“恶棍，我干了你的母亲”(<a class="ae le" href="https://www.nosweatshakespeare.com/resources/shakespeare-insults/" rel="noopener ugc nofollow" target="_blank">泰特斯·安德洛尼克斯</a>))，莎士比亚的侮辱是无情的，毁灭性的，坦率地说，相当怪异。</p><p id="aac4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本文中，我们将设计并创建一个Python程序，它使用外部文本文件返回随机生成的莎士比亚侮辱。让我们开始吧。</p><h1 id="e1f9" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">第一步。找一些侮辱</h1><p id="3007" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">这部分很简单。快速的谷歌搜索把我带到了一个很棒的网站“无汗莎士比亚”，它展示了一个方便的<a class="ae le" href="https://464078-1464405-raikfcquaxqncofqfm.stackpathdns.com/wp-content/w3-webp/uploads/2011/07/shakespeare-insult-generator.jpgw3.webp" rel="noopener ugc nofollow" target="_blank">莎士比亚侮辱生成器</a>，我用它创建了下面的表格。</p><h2 id="5be0" class="mi lg it bd lh mj mk dn ll ml mm dp lp kb mn mo lt kf mp mq lx kj mr ms mb mt bi translated">下面是我们用来创造一个随机的莎士比亚侮辱的基本格式:</h2><p id="e1e4" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated"><strong class="js iu">第1列</strong>(形容词)+ <strong class="js iu">第2列</strong>(更精细的形容词)+ <strong class="js iu">第3列</strong>(名词)</p><p id="782b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了使事情变得简单，我建议将这些列分成三个文本文档(每列一个。)</p><pre class="kp kq kr ks gt mu mv mw mx aw my bi"><span id="d3cd" class="mi lg it mv b gy mz na l nb nc"><strong class="mv iu">COLUMN 1           COLUMN 2               COLUMN 3</strong></span><span id="7d5b" class="mi lg it mv b gy nd na l nb nc">Artless           base-court            apple-john <br/>Bawdy             bat-fowling           baggage<br/>Beslubbering      beef-witted           barnacle<br/>Bootless          beetle-headed         bladder<br/>Churlish          boil-brained          boar-pig<br/>Cockered          common-kissing        bugbear<br/>Clouted           crook-pated           bum-bailey<br/>Craven            dismal-dreaming       canker-blossom<br/>Currish           dizzy-eyed            clack-dish<br/>Dankish           dog-hearted           clotpole<br/>Dissembling       dread-bolted          coxcomb<br/>Droning           earth-vexing          death-token<br/>Errant            elf-skinned           dewberry<br/>Fawning           fat-kidneyed          flap-dragon<br/>Fobbing           fen-sucked            flax-wench<br/>Froward           flap-mouthed          flirt-gill<br/>Frothy            fly-bitten            foot-licker<br/>Gleeking          folly-fallen          fustilarian<br/>Goatish           fool-born             giglet<br/>Gorbellied        full-gorged           gudgeon<br/>Impertinent       futs-griping          haggard<br/>Infectious        half-faced            harpy<br/>Jarring           hasty-witted          hedge-pig<br/>Loggerheaded      hedge-born            horn-beast<br/>Lumpish           hell-hated            hugger-mugger<br/>Mammering         idle-headed           jolthead<br/>Mangled           ill-nurtured          lewdster<br/>Mewling           knotty-pated          lout<br/>Paunchy           milk-livered          maggot-pie<br/>Pribbling         motley-minded         malt-worm<br/>Puking            onion-eyed            mammet<br/>Puny              plume-plucked         measle<br/>Qualling          pottle-deep           minnow<br/>Rank              pox-marked            miscreant<br/>Reeky             reeling-ripe          moldwarp<br/>Roguish           rough-hewn            mumble-news<br/>Ruttish           rude-growing          nut-hook<br/>Saucy             rump-fed              pigeon-egg<br/>Spleeny           shard-borne           pignut<br/>Spongy            sheep-biting          puttock<br/>Surly             spur-galled           pumpion<br/>Tottering         swag-bellied          ratsbane<br/>Unmuzzled         tardy-gaited          scut<br/>Vain              tickle-brained        skainsmate<br/>Venomed           toad-spotted          strumpet<br/>Villainous        unchin-snouted        vartlot<br/>Warped            weather-bitten        vassal</span></pre><h1 id="dc4e" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">第二步。做一个提纲</h1><p id="4080" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">首先，让我们弄清楚我们希望程序做什么。</p><p id="6fbc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这些常规任务将是我们的<a class="ae le" href="https://www.w3schools.com/python/python_functions.asp" rel="noopener ugc nofollow" target="_blank">功能</a>:</p><ul class=""><li id="8483" class="ne nf it js b jt ju jx jy kb ng kf nh kj ni kn nj nk nl nm bi translated">显示一个问候(我们称这个函数为‘show _ header’)</li><li id="5bec" class="ne nf it js b jt nn jx no kb np kf nq kj nr kn nj nk nl nm bi translated"><strong class="js iu">从每个文档中返回一行</strong>(让我们称这个函数为‘get _ limities’)</li><li id="d07f" class="ne nf it js b jt nn jx no kb np kf nq kj nr kn nj nk nl nm bi translated"><strong class="js iu">格式化这些行以产生一个新的侮辱</strong>(我们的‘main’函数将执行这个任务)</li></ul><p id="4d9b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在让我们进一步分解这些。这将是我们的<a class="ae le" href="https://towardsdatascience.com/pseudocode-101-an-introduction-to-writing-good-pseudocode-1331cb855be7" rel="noopener" target="_blank">伪代码</a>:</p><pre class="kp kq kr ks gt mu mv mw mx aw my bi"><span id="37d3" class="mi lg it mv b gy mz na l nb nc">#Import random module</span><span id="4274" class="mi lg it mv b gy nd na l nb nc">#Define global constants</span><span id="5f48" class="mi lg it mv b gy nd na l nb nc">#Define main function</span><span id="af4f" class="mi lg it mv b gy nd na l nb nc">    #Initialize <a class="ae le" href="https://www.pythonclassroom.com/loops/while-loop-sentinel" rel="noopener ugc nofollow" target="_blank">sentinel value</a> to 'y'<br/>    #While sentinel value == 'y':<br/>        #Call the show_header function<br/>        #Call get_insults function 3x (one for each column)<br/>        #Remove <a class="ae le" href="https://www.freecodecamp.org/news/python-new-line-and-how-to-python-print-without-a-newline/" rel="noopener ugc nofollow" target="_blank">newline character</a> from each insult<br/>        #<a class="ae le" href="https://www.w3schools.com/python/gloss_python_string_concatenation.asp" rel="noopener ugc nofollow" target="_blank">Concatenate</a> insults and display result</span><span id="b6f2" class="mi lg it mv b gy nd na l nb nc">        #See if user wants to get another insult ('y' for yes,<br/>        #any other key for no). This will be the sentinel's new<br/>        #value</span><span id="4bdf" class="mi lg it mv b gy nd na l nb nc">#Define get_insults function (takes a file as argument)</span><span id="3064" class="mi lg it mv b gy nd na l nb nc">        #Create empty list<br/>        #Open file for reading<br/>        #Read through document, append each line to empty list<br/>        #Close file<br/>        #Find length of the list<br/>        #Generate a random number between 0 and the length of the     <br/>        #list - 1<br/>        #Use this number to return a random item from our list</span><span id="2e62" class="mi lg it mv b gy nd na l nb nc">#Define show_header function<br/>     <br/>        #Display greeting</span><span id="141a" class="mi lg it mv b gy nd na l nb nc">#Call the main function</span></pre><h1 id="e118" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">第三步。导入随机模块并定义全局常数</h1><p id="a80e" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">可重用性和可读性在编码中很重要。这就是为什么如果您需要在整个程序中使用特定的值(并且这些值可能会改变)，那么将全局常量写入代码是一个好的做法。</p><p id="81c1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">出于我们的目的，我们在整个代码中使用了三个文本文件，所以让我们将这些文件名设为全局常量。如果我们将来想要使用不同的文件，这允许我们进行更改，而不必遍历每个函数并费力地编辑每个实例。</p><p id="deff" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们还需要使用Python内置的“随机”模块，所以让我们也导入它。</p><pre class="kp kq kr ks gt mu mv mw mx aw my bi"><span id="c19e" class="mi lg it mv b gy mz na l nb nc">import random</span><span id="8bc6" class="mi lg it mv b gy nd na l nb nc">FIRST_COLUMN = "Column1_file.txt"</span><span id="39b6" class="mi lg it mv b gy nd na l nb nc">SECOND_COLUMN = "Column2_file.txt"</span><span id="3c31" class="mi lg it mv b gy nd na l nb nc">THIRD_COLUMN = "Column3_file.txt"</span></pre><h1 id="56bc" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">第四步。编写函数</h1><h2 id="fc0e" class="mi lg it bd lh mj mk dn ll ml mm dp lp kb mn mo lt kf mp mq lx kj mr ms mb mt bi translated">1.get _ limities函数</h2><p id="7139" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">因为我们想用这个函数来打开文件，所以让‘file’成为这个函数的一个参数。(见第1行)</p><p id="055f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">第2行创建了一个空列表。这是我们通读文件时临时存储列表数据的地方。</p><p id="86db" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">第3行以<a class="ae le" href="https://www.w3schools.com/python/python_file_handling.asp" rel="noopener ugc nofollow" target="_blank">“读取”模式</a>打开文件。但是如果文件打不开怎么办？如果文件被移动或重命名了怎么办？</p><pre class="kp kq kr ks gt mu mv mw mx aw my bi"><span id="cf10" class="mi lg it mv b gy mz na l nb nc">1 def get_insults(file):<br/>2         insult_list = []<br/>3         openfile = open(file, 'r')</span></pre><p id="ff86" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，如果打开文件有问题，我们的程序就会崩溃。</p><p id="ae78" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们可以通过编写一个try-except语句来防止这种情况(第3行到第6行):</p><pre class="kp kq kr ks gt mu mv mw mx aw my bi"><span id="bde9" class="mi lg it mv b gy mz na l nb nc">1 def get_insults(file):<br/>2         insult_list = []<br/>3         try:       <br/>4                 openfile = open(file, 'r')<br/>5         except IOError:<br/>6                 print("Unable to open file.")</span></pre><p id="6844" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，如果文件无法打开(即，如果发生IOError)，我们的程序将显示消息“无法打开文件”。</p><p id="d740" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">接下来，让我们开始处理我们的文件。第7行将变量“Line”赋给文件的第一行。这允许我们开始一个“while”循环，该循环一直重复，直到“line”是一个空字符串(这意味着我们已经到达了文档的末尾)。</p><pre class="kp kq kr ks gt mu mv mw mx aw my bi"><span id="9820" class="mi lg it mv b gy mz na l nb nc">    <br/>7         line = openfile.readline()<br/>8         while line != '':<br/>9                 insult_list.append(line)<br/>10                line = openfile.readline()  <br/>11        openfile.close()<br/>12        num_items = len(insult_list)<br/>13        index = random.randint(0, num_items - 1)<br/>14        return insult_list[index]</span></pre><p id="3b92" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在第9行，我们的程序将文件中的每一行追加到我们的临时列表中。一旦文档结束(即' line' = ' ')，我们就关闭文件。</p><p id="5072" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">太棒了。好的——现在让我们从文件中得到我们的短语。在第12行，我们找到了列表的长度。第13行生成了一个至少为0且小于列表长度的随机数。最后(我们快完成了，朋友们！)，在第14行，我们使用这个随机数索引我们的列表，并返回一个随机短语。</p><h2 id="28a8" class="mi lg it bd lh mj mk dn ll ml mm dp lp kb mn mo lt kf mp mq lx kj mr ms mb mt bi translated">2.显示标题函数</h2><p id="5a80" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">这个很容易理解。(请不要评价缺乏艺术性——我尽力了。)</p><pre class="kp kq kr ks gt mu mv mw mx aw my bi"><span id="324d" class="mi lg it mv b gy mz na l nb nc">def header():</span><span id="acba" class="mi lg it mv b gy nd na l nb nc">16  print("----------------------------------------------")<br/>17  print("Welcome to the Shakespearean Insult Generator!")<br/>18  print("----------------------------------------------")<br/>19  print()<br/></span></pre><h2 id="63a3" class="mi lg it bd lh mj mk dn ll ml mm dp lp kb mn mo lt kf mp mq lx kj mr ms mb mt bi translated">3.主要功能</h2><p id="224e" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">*折断指关节*是时候把它们绑在一起了。</p><pre class="kp kq kr ks gt mu mv mw mx aw my bi"><span id="1e6b" class="mi lg it mv b gy mz na l nb nc">20 def main():</span><span id="a15e" class="mi lg it mv b gy nd na l nb nc">21<strong class="mv iu">       #Initialize </strong><a class="ae le" href="https://www.pythonclassroom.com/loops/while-loop-sentinel" rel="noopener ugc nofollow" target="_blank"><strong class="mv iu">sentinel value</strong></a><strong class="mv iu"> to 'y'<br/></strong>22       <strong class="mv iu">#While sentinel value == 'y':</strong></span><span id="c748" class="mi lg it mv b gy nd na l nb nc">23       again = 'y'<br/>24       while again.lower() == 'y':</span><span id="ff94" class="mi lg it mv b gy nd na l nb nc">25<strong class="mv iu">               #Call the show_header function<br/></strong>26               show_header()</span><span id="6e90" class="mi lg it mv b gy nd na l nb nc">27<strong class="mv iu">               #Call get_insults function 3x (one for each column)<br/></strong>28               first_column = get_insults(FIRST_COLUMN)<br/>29               second_column = get_insults(SECOND_COLUMN)<br/>30               third_column = get_insults(THIRD_COLUMN)</span><span id="bd0f" class="mi lg it mv b gy nd na l nb nc">31<strong class="mv iu">               #Remove </strong><a class="ae le" href="https://www.freecodecamp.org/news/python-new-line-and-how-to-python-print-without-a-newline/" rel="noopener ugc nofollow" target="_blank"><strong class="mv iu">newline character</strong></a><strong class="mv iu"> from each insult<br/></strong>32               first_word = first_column.rstrip()<br/>33               second_word = second_column.rstrip()<br/>34                third_word = third_column.rstrip()</span><span id="b961" class="mi lg it mv b gy nd na l nb nc">35<strong class="mv iu">               #</strong><a class="ae le" href="https://www.w3schools.com/python/gloss_python_string_concatenation.asp" rel="noopener ugc nofollow" target="_blank"><strong class="mv iu">Concatenate</strong></a><strong class="mv iu"> insults and display result<br/></strong>36               print("Here's my next random insult:")<br/>37               print(f"{first_word} {second_word} {third_word}! \n")</span><span id="a1c1" class="mi lg it mv b gy nd na l nb nc">38               <strong class="mv iu">#See if user wants to get another insult ('y' for<br/></strong>39<strong class="mv iu">               #yes, any other key for no). This will be the<br/></strong>40<strong class="mv iu">               #sentinel's new value</strong><br/>41               print("Would you like to generate another insult?")<br/>42               again = input("(Press 'y' for yes, or " +<br/>43                               "any other key for no) ")<br/>44     print("Thanks for using the Shakespearean Insult Generator!")</span></pre></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><p id="f7f7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">恭喜你，朋友。你刚刚用Python写了第一个(但可能不是最后一个)莎士比亚侮辱生成器。干得好——去喝杯咖啡吧。</p><p id="b92c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="nz">感谢</em> <a class="ae le" href="https://www.nosweatshakespeare.com/resources/shakespeare-insults/" rel="noopener ugc nofollow" target="_blank"> <em class="nz">无汗莎士比亚</em> </a> <em class="nz">(当然还有吟游诗人本人)。</em></p></div></div>    
</body>
</html>