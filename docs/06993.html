<html>
<head>
<title>Using sudo Is Bad but What Can You Do About It?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用sudo不好，但你能做些什么呢？</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/using-sudo-is-bad-but-what-can-you-do-about-it-a5bce9080e6c?source=collection_archive---------17-----------------------#2021-01-17">https://levelup.gitconnected.com/using-sudo-is-bad-but-what-can-you-do-about-it-a5bce9080e6c?source=collection_archive---------17-----------------------#2021-01-17</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><p id="93e9" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">利用Linux强大功能的开发人员指南</p><figure class="kq kr ks kt gu ku gi gj paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gi gj kp"><img src="../Images/c8678e0080fde90eaeb8c58e4f65608a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cU13zWe6J77lk18gF7RoyA.jpeg"/></div></div><figcaption class="lb lc gk gi gj ld le bd b be z dk translated">照片由<a class="ae lf" href="https://unsplash.com/@lazycreekimages?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Michael Dziedzic </a>在<a class="ae lf" href="https://unsplash.com/s/photos/linux?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="af1a" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">每当我们需要安装一些新程序或访问Linux系统时，每个教程都说你不应该使用<code class="fe lg lh li lj b">sudo</code>来运行任何命令。</p><p id="2bef" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">避免sudo被认为是一个好习惯。但这是为什么呢？</p><p id="87b6" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">今天我们将学习使用sudo有什么不好，以及如何通过创建新用户来避免使用sudo。我们今天最常用的命令是<code class="fe lg lh li lj b">adduser</code>。</p><h1 id="0be8" class="lk ll iu bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">须藤是做什么的？</h1><p id="5146" class="pw-post-body-paragraph jr js iu jt b ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk mm km kn ko in bi translated">当您在Linux机器上运行以sudo为前缀的任何命令时，它会授予您对系统的特权。这样你就可以运行任何东西。系统信任你。</p><p id="cd53" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">只要你知道自己在做什么就好。但大多数时候情况并非如此，因为我们是人，人都会犯错。</p><h1 id="d83c" class="lk ll iu bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">为什么过度使用数独不好</h1><ul class=""><li id="fe96" class="mn mo iu jt b ju mi jy mj kc mp kg mq kk mr ko ms mt mu mv bi translated">你甚至可以在不知道的情况下弄乱你系统的敏感部分。比如你可以用sudo删除整个<code class="fe lg lh li lj b">/</code>文件夹，</li><li id="a389" class="mn mo iu jt b ju mw jy mx kc my kg mz kk na ko ms mt mu mv bi translated">默认情况下，<code class="fe lg lh li lj b">sudo</code>缓存密码15分钟。因此，如果您忘记注销或关闭会话，其他人可能会对您的系统进行危险的更改。</li><li id="fbf4" class="mn mo iu jt b ju mw jy mx kc my kg mz kk na ko ms mt mu mv bi translated">如果你在使用sudo命令时做了一个<code class="fe lg lh li lj b">typo</code>，这可能会破坏你的机器的敏感设置，并且很难处理。</li><li id="376c" class="mn mo iu jt b ju mw jy mx kc my kg mz kk na ko ms mt mu mv bi translated">过度使用<code class="fe lg lh li lj b">sudo</code>意味着你违反了最小特权<strong class="jt iv">原则</strong>，所以尽量避免。</li></ul><h1 id="c26a" class="lk ll iu bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">好吧好吧...告诉我该做什么</h1><p id="0e69" class="pw-post-body-paragraph jr js iu jt b ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk mm km kn ko in bi translated">我们可以将sudo视为成为管理员用户的途径。相反，我们可以创建多个具有特定权限的其他用户，以便他们只能访问执行特定任务所需的资源。</p><p id="10d4" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">例如</p><ul class=""><li id="9fe0" class="mn mo iu jt b ju jv jy jz kc nb kg nc kk nd ko ms mt mu mv bi translated">创建一个用户来管理Tomcat服务器</li><li id="a17f" class="mn mo iu jt b ju mw jy mx kc my kg mz kk na ko ms mt mu mv bi translated">创建另一个用户来管理Nginx服务器</li><li id="dd32" class="mn mo iu jt b ju mw jy mx kc my kg mz kk na ko ms mt mu mv bi translated">创建另一个用户，并允许只做开发工作。</li></ul><p id="f601" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">对于多个用户有如此多的用例。我们稍后将了解它们。</p><p id="74b4" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">首先，让我们看看如何在基于Linux的系统中创建新用户。</p><h2 id="870b" class="ne ll iu bd lm nf ng dn lq nh ni dp lu kc nj nk ly kg nl nm mc kk nn no mg np bi translated">创建新用户</h2><p id="14d7" class="pw-post-body-paragraph jr js iu jt b ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk mm km kn ko in bi translated">允许我们创建新用户的命令是</p><pre class="kq kr ks kt gu nq lj nr ns aw nt bi"><span id="536a" class="ne ll iu lj b gz nu nv l nw nx">sudo useradd username</span></pre><p id="76d5" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated"><code class="fe lg lh li lj b">username</code>可以是您选择的任何名称。例如，以下命令将创建一个名为<code class="fe lg lh li lj b">faisal</code>的新用户。</p><pre class="kq kr ks kt gu nq lj nr ns aw nt bi"><span id="0608" class="ne ll iu lj b gz nu nv l nw nx">sudo useradd faisal</span></pre></div><div class="ab cl ny nz hy oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="in io ip iq ir"><h2 id="34ac" class="ne ll iu bd lm nf ng dn lq nh ni dp lu kc nj nk ly kg nl nm mc kk nn no mg np bi translated">为用户设置密码</h2><p id="3a92" class="pw-post-body-paragraph jr js iu jt b ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk mm km kn ko in bi translated">现在，为了给这个用户设置密码，我们可以做的是</p><pre class="kq kr ks kt gu nq lj nr ns aw nt bi"><span id="4415" class="ne ll iu lj b gz nu nv l nw nx">sudo passwd faisal</span></pre><p id="c0d2" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">它会提示我们输入想要为这个特定用户设置的密码。</p></div><div class="ab cl ny nz hy oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="in io ip iq ir"><h2 id="1689" class="ne ll iu bd lm nf ng dn lq nh ni dp lu kc nj nk ly kg nl nm mc kk nn no mg np bi translated">用新用户登录</h2><p id="e3be" class="pw-post-body-paragraph jr js iu jt b ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk mm km kn ko in bi translated">创建新用户后，我们可以使用以下命令登录到该用户</p><pre class="kq kr ks kt gu nq lj nr ns aw nt bi"><span id="a0b6" class="ne ll iu lj b gz nu nv l nw nx">su faisal</span></pre><p id="2423" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">这个命令将提示我们输入之前设置的密码，瞧！我们现在在那个用户里面。</p><p id="b67e" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">让我们再多谈谈<code class="fe lg lh li lj b">useradd</code>命令…..</p><h1 id="b8a3" class="lk ll iu bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">好的，我已经创建了一个新用户。现在怎么办？</h1><p id="5513" class="pw-post-body-paragraph jr js iu jt b ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk mm km kn ko in bi translated">如果我们想知道可以对新创建的用户做些什么，我们必须对这个<code class="fe lg lh li lj b">useradd</code>命令有更多的了解…</p><h2 id="b78a" class="ne ll iu bd lm nf ng dn lq nh ni dp lu kc nj nk ly kg nl nm mc kk nn no mg np bi translated">这个<code class="fe lg lh li lj b">useradd</code>命令是做什么的？</h2><p id="4b91" class="pw-post-body-paragraph jr js iu jt b ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk mm km kn ko in bi translated">当我们运行<code class="fe lg lh li lj b">useradd</code>命令时，它做3件事</p><ol class=""><li id="a823" class="mn mo iu jt b ju jv jy jz kc nb kg nc kk nd ko of mt mu mv bi translated"><strong class="jt iv">保存用户信息</strong></li></ol><p id="c5ff" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated"><code class="fe lg lh li lj b">etc/passwd</code>、<code class="fe lg lh li lj b">etc/shadow</code>、<code class="fe lg lh li lj b">etc/group</code>、<code class="fe lg lh li lj b">etc/gshadow</code></p><ul class=""><li id="33de" class="mn mo iu jt b ju jv jy jz kc nb kg nc kk nd ko ms mt mu mv bi translated">前两个文件用于保存用户<code class="fe lg lh li lj b">authentication</code>信息</li><li id="47a0" class="mn mo iu jt b ju mw jy mx kc my kg mz kk na ko ms mt mu mv bi translated">后两个文件用于保存用户<code class="fe lg lh li lj b">group</code>信息</li></ul><p id="ce16" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">2.<strong class="jt iv">为新用户设置主目录</strong></p><p id="e5bc" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">3.<strong class="jt iv">设置新创建用户的权限</strong></p><p id="69b7" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">让我们谈一谈这些东西，以及我们可以根据自己的需要定制哪些东西。</p></div><div class="ab cl ny nz hy oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="in io ip iq ir"><h2 id="eeb2" class="ne ll iu bd lm nf ng dn lq nh ni dp lu kc nj nk ly kg nl nm mc kk nn no mg np bi translated">设置用户ID</h2><p id="e17f" class="pw-post-body-paragraph jr js iu jt b ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk mm km kn ko in bi translated">我们可以用下面的命令为新创建的用户设置一个<code class="fe lg lh li lj b">user id</code></p><pre class="kq kr ks kt gu nq lj nr ns aw nt bi"><span id="6cec" class="ne ll iu lj b gz nu nv l nw nx">sudo useradd -u 1234 faisal</span></pre><p id="c4db" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">这将创建一个id为1234的新用户。</p></div><div class="ab cl ny nz hy oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="in io ip iq ir"><h2 id="46b5" class="ne ll iu bd lm nf ng dn lq nh ni dp lu kc nj nk ly kg nl nm mc kk nn no mg np bi translated">设置用户组</h2><p id="1990" class="pw-post-body-paragraph jr js iu jt b ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk mm km kn ko in bi translated">我们可以将用户分配到特定的组来跟踪和管理他们。默认情况下，该命令使用相同的用户名和相同的<code class="fe lg lh li lj b">userid</code>创建一个组。</p><p id="82e4" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">我们可以使用以下命令设置用户<code class="fe lg lh li lj b">groupid</code></p><pre class="kq kr ks kt gu nq lj nr ns aw nt bi"><span id="7ec1" class="ne ll iu lj b gz nu nv l nw nx">sudo useradd -g group_name</span></pre><blockquote class="og oh oi"><p id="21bb" class="jr js oj jt b ju jv jw jx jy jz ka kb ok kd ke kf ol kh ki kj om kl km kn ko in bi translated">记住一件事。该组必须在此命令之前存在，才能正常工作</p></blockquote><p id="1c9f" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">所以如果我们想创建一个新用户</p><ul class=""><li id="4a92" class="mn mo iu jt b ju jv jy jz kc nb kg nc kk nd ko ms mt mu mv bi translated">命名为<code class="fe lg lh li lj b">faisal</code></li><li id="0781" class="mn mo iu jt b ju mw jy mx kc my kg mz kk na ko ms mt mu mv bi translated">属于开发人员组</li><li id="7b04" class="mn mo iu jt b ju mw jy mx kc my kg mz kk na ko ms mt mu mv bi translated">有一个特定的用户标识= 999</li></ul><pre class="kq kr ks kt gu nq lj nr ns aw nt bi"><span id="80f6" class="ne ll iu lj b gz nu nv l nw nx">sudo useradd -u 999 -g developers faisal</span></pre><p id="0144" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">根据设计，任何用户都可以属于一个主要组和多个次要组。我们可以通过<code class="fe lg lh li lj b">-G</code>标志来做到这一点。</p><p id="0974" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">以下命令将创建一个属于<code class="fe lg lh li lj b">developers</code>组并且也包含在<code class="fe lg lh li lj b">juniors</code>组中的用户</p><pre class="kq kr ks kt gu nq lj nr ns aw nt bi"><span id="7dbe" class="ne ll iu lj b gz nu nv l nw nx">sudo useradd -u 999 -g developers -G juniors faisal</span></pre></div><div class="ab cl ny nz hy oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="in io ip iq ir"><h2 id="90db" class="ne ll iu bd lm nf ng dn lq nh ni dp lu kc nj nk ly kg nl nm mc kk nn no mg np bi translated">设置默认主目录</h2><p id="ce46" class="pw-post-body-paragraph jr js iu jt b ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk mm km kn ko in bi translated">大多数Linux发行版在创建新用户时不会自动创建新的主目录。</p><p id="dc0e" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">如果我们想在<code class="fe lg lh li lj b">/home/username</code>下默认创建一个新用户的主目录，我们可以传递<code class="fe lg lh li lj b">-m</code>标志。</p><pre class="kq kr ks kt gu nq lj nr ns aw nt bi"><span id="6952" class="ne ll iu lj b gz nu nv l nw nx">sudo useradd -m faisal</span></pre><p id="133b" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">该命令将在<code class="fe lg lh li lj b">home</code>目录中为新创建的用户创建一个新文件夹。</p></div><div class="ab cl ny nz hy oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="in io ip iq ir"><h2 id="3583" class="ne ll iu bd lm nf ng dn lq nh ni dp lu kc nj nk ly kg nl nm mc kk nn no mg np bi translated">设置选择的主目录</h2><p id="b01f" class="pw-post-body-paragraph jr js iu jt b ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk mm km kn ko in bi translated">但是如果我们想在另一个位置为这个用户创建一个主目录呢？</p><p id="0c1d" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">为此，我们必须传递- <code class="fe lg lh li lj b">d</code>标志。如果我们想在<code class="fe lg lh li lj b">/opt/username</code>下为用户创建一个新的主目录，我们可以做的是</p><pre class="kq kr ks kt gu nq lj nr ns aw nt bi"><span id="7685" class="ne ll iu lj b gz nu nv l nw nx">sudo useradd -m -d /opt/faisal faisal</span></pre></div><div class="ab cl ny nz hy oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="in io ip iq ir"><h2 id="c2f2" class="ne ll iu bd lm nf ng dn lq nh ni dp lu kc nj nk ly kg nl nm mc kk nn no mg np bi translated">创建系统用户</h2><p id="25b4" class="pw-post-body-paragraph jr js iu jt b ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk mm km kn ko in bi translated">我们可以创建一个带有<code class="fe lg lh li lj b">-r</code>标志的系统用户。这种类型的用户与普通用户没有太大的区别，但大多数情况下，我们创建系统用户来安装一些程序。</p><p id="f473" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">创建一个名为<code class="fe lg lh li lj b">tomcat</code>的新系统用户</p><pre class="kq kr ks kt gu nq lj nr ns aw nt bi"><span id="86c6" class="ne ll iu lj b gz nu nv l nw nx">sudo useradd -r tomcat<!-- --> </span></pre><p id="aac4" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">这些系统用户没有任何截止日期，他们的用户id是自动选择的，这不同于普通用户。</p></div><div class="ab cl ny nz hy oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="in io ip iq ir"><h2 id="f5dc" class="ne ll iu bd lm nf ng dn lq nh ni dp lu kc nj nk ly kg nl nm mc kk nn no mg np bi translated">设置外壳</h2><p id="3f49" class="pw-post-body-paragraph jr js iu jt b ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk mm km kn ko in bi translated">Shell是一个接受并解释用户命令的程序。默认情况下，一些发行版将<code class="fe lg lh li lj b">/bin/bash</code>作为默认shell，其他发行版将<code class="fe lg lh li lj b">/bin/sh</code>作为默认shell。</p><p id="6b72" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">但是，如果您想为新创建的用户设置默认shell，您可以使用<code class="fe lg lh li lj b">-s</code>标志。</p><p id="1e46" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">要创建一个使用<code class="fe lg lh li lj b">/usr/bin/zsh</code>作为登录shell的用户，您可以编写以下命令</p><pre class="kq kr ks kt gu nq lj nr ns aw nt bi"><span id="cb50" class="ne ll iu lj b gz nu nv l nw nx">sudo useradd -s /usr/bin/zsh faisal</span></pre></div><div class="ab cl ny nz hy oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="in io ip iq ir"><h2 id="c8de" class="ne ll iu bd lm nf ng dn lq nh ni dp lu kc nj nk ly kg nl nm mc kk nn no mg np bi translated">添加评论</h2><p id="624f" class="pw-post-body-paragraph jr js iu jt b ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk mm km kn ko in bi translated">如果您想对该用户发表评论，您可以使用<code class="fe lg lh li lj b">-c</code>命令。</p><pre class="kq kr ks kt gu nq lj nr ns aw nt bi"><span id="492c" class="ne ll iu lj b gz nu nv l nw nx">sudo useradd -c "Mohammad Faisal" faisal</span></pre><p id="d685" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">然后将创建一个新用户，并带有与之相关联的注释。</p></div><div class="ab cl ny nz hy oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="in io ip iq ir"><h2 id="9587" class="ne ll iu bd lm nf ng dn lq nh ni dp lu kc nj nk ly kg nl nm mc kk nn no mg np bi translated">用户的到期日期</h2><p id="0f74" class="pw-post-body-paragraph jr js iu jt b ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk mm km kn ko in bi translated">您可以为用户设置到期日期。之后，用户将无法登录。</p><pre class="kq kr ks kt gu nq lj nr ns aw nt bi"><span id="faef" class="ne ll iu lj b gz nu nv l nw nx">sudo useradd -e 2019-01-22 faisal</span></pre><p id="e5b6" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">这对于希望更好地控制机器并防止对机器进行不必要的访问的办公环境非常有用。</p><p id="2707" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">如果你想看到用户的密码到期，你可以输入</p><pre class="kq kr ks kt gu nq lj nr ns aw nt bi"><span id="142f" class="ne ll iu lj b gz nu nv l nw nx">sudo chage -l faisal</span></pre><p id="343d" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">这将提供该用户的历史记录。</p></div><div class="ab cl ny nz hy oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="in io ip iq ir"><h2 id="0300" class="ne ll iu bd lm nf ng dn lq nh ni dp lu kc nj nk ly kg nl nm mc kk nn no mg np bi translated">查看详细信息</h2><p id="01f1" class="pw-post-body-paragraph jr js iu jt b ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk mm km kn ko in bi translated">要查看任何用户的详细信息，您可以键入以下命令</p><pre class="kq kr ks kt gu nq lj nr ns aw nt bi"><span id="0080" class="ne ll iu lj b gz nu nv l nw nx">grep username /etc/passwd</span></pre><p id="2351" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">它将为我们提供userid或groupid以及关于我们指定的<code class="fe lg lh li lj b">username</code>的其他相关信息。</p></div><div class="ab cl ny nz hy oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="in io ip iq ir"><h2 id="a2b7" class="ne ll iu bd lm nf ng dn lq nh ni dp lu kc nj nk ly kg nl nm mc kk nn no mg np bi translated">创建后更改用户</h2><p id="e955" class="pw-post-body-paragraph jr js iu jt b ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk mm km kn ko in bi translated">您可以使用Linux的命令<code class="fe lg lh li lj b">usermod</code>来更改所有这些属性。例如，如果您想更改用户的默认shell，您可以做的是…</p><pre class="kq kr ks kt gu nq lj nr ns aw nt bi"><span id="9264" class="ne ll iu lj b gz nu nv l nw nx">usermod --shell /bin/bash username</span></pre><p id="1eff" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">这将把名为<code class="fe lg lh li lj b">username</code>的用户的默认shell更改为<code class="fe lg lh li lj b">/bin/bash</code></p></div><div class="ab cl ny nz hy oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="in io ip iq ir"><p id="031b" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">就是这样。我希望现在您对Linux中的<code class="fe lg lh li lj b">useradd</code>命令有了更好的理解，该命令用于创建新用户并为用户设置边界。您还可以检查其他命令，如<code class="fe lg lh li lj b">chown</code>来了解我们如何更改文件或目录的所有权，以便特定类型的用户可以访问它。</p><p id="f59d" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">另外，我不是系统管理员，或者我对Linux没有深入的了解。作为一名日常软件开发人员，这些命令对我很有用。因此，如果我在这里提到的任何事情是错误的，请随时纠正我。</p><p id="f99a" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">今天到此为止。编码快乐！:D</p><p id="dfdb" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated"><strong class="jt iv">通过</strong> <a class="ae lf" href="https://www.linkedin.com/in/56faisal/" rel="noopener ugc nofollow" target="_blank"> <strong class="jt iv"> LinkedIn </strong> </a> <strong class="jt iv">或我的</strong> <a class="ae lf" href="https://www.mohammadfaisal.dev/" rel="noopener ugc nofollow" target="_blank"> <strong class="jt iv">个人网站</strong> </a> <strong class="jt iv">与我取得联系。</strong></p></div></div>    
</body>
</html>