<html>
<head>
<title>Coding Interview Question: Best Time to Buy and Sell Stock</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">编码面试问题:买卖股票的最佳时机</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/coding-interview-question-best-time-to-buy-and-sell-stock-351314bfa37?source=collection_archive---------2-----------------------#2020-07-06">https://levelup.gitconnected.com/coding-interview-question-best-time-to-buy-and-sell-stock-351314bfa37?source=collection_archive---------2-----------------------#2020-07-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="2666" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">本文将带您浏览JavaScript中的“买卖股票的最佳时机”编码面试问题。<a class="ae kl" href="https://skilled.dev/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">全编码面试课程:Skilled.dev🚀</strong> </a></p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="kr ks l"/></div></figure><p id="dd64" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我从这些视频中得到了很多乐趣，如果你觉得它们有帮助的话，我还打算制作更多。喜欢和 <a class="ae kl" href="https://www.youtube.com/c/treyhuffine1?sub_confirmation=1" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="kt">在YouTube上订阅</em> </strong> </a> <em class="kt">让我知道我应该坚持下去。</em></p><h2 id="a56e" class="ku kv iq bd kw kx ky dn kz la lb dp lc jy ld le lf kc lg lh li kg lj lk ll lm bi translated">问题</h2><p id="1673" class="pw-post-body-paragraph jn jo iq jp b jq ln js jt ju lo jw jx jy lp ka kb kc lq ke kf kg lr ki kj kk ij bi translated">您将获得一个整数数组，其中的项目对应于股票价格，数组的索引对应于连续的天数。写一个函数<code class="fe ls lt lu lv b">getMaxProfit</code>，计算你买一次卖一次能赚的最大金额。你能做的最坏的事情是0美元的利润(你甚至买/卖或者根本不买/卖)。</p><p id="2784" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你只能在买入股票的第二天卖出。</p><ul class=""><li id="70bd" class="lw lx iq jp b jq jr ju jv jy ly kc lz kg ma kk mb mc md me bi translated">买之前不能卖</li><li id="afdf" class="lw lx iq jp b jq mf ju mg jy mh kc mi kg mj kk mb mc md me bi translated">你不能在买入的同一天卖出</li></ul><h2 id="1d47" class="ku kv iq bd kw kx ky dn kz la lb dp lc jy ld le lf kc lg lh li kg lj lk ll lm bi translated">样本输入和输出</h2><p id="2cff" class="pw-post-body-paragraph jn jo iq jp b jq ln js jt ju lo jw jx jy lp ka kb kc lq ke kf kg lr ki kj kk ij bi translated"><strong class="jp ir">例1: </strong></p><pre class="km kn ko kp gt mk lv ml mm aw mn bi"><span id="e793" class="ku kv iq lv b gy mo mp l mq mr"><strong class="lv ir">Input:</strong> [9,2,4,3,8,5]<br/><strong class="lv ir">Output:</strong> 6<br/><strong class="lv ir">Explanation:</strong> Buy on day 1 (price = 2) and sell on day 4 (price = 8), profit = 8-2 = 6.</span></pre><p id="b276" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">例2: </strong></p><pre class="km kn ko kp gt mk lv ml mm aw mn bi"><span id="2d31" class="ku kv iq lv b gy mo mp l mq mr"><strong class="lv ir">Input:</strong> [9,8,7,6,5]<br/><strong class="lv ir">Output:</strong> 0<br/><strong class="lv ir">Explanation:</strong> Since all pricing are decreasing, we would never buy, so max profit = 0.</span></pre><h2 id="060e" class="ku kv iq bd kw kx ky dn kz la lb dp lc jy ld le lf kc lg lh li kg lj lk ll lm bi translated">强力解决方案— O(n)</h2><p id="97c8" class="pw-post-body-paragraph jn jo iq jp b jq ln js jt ju lo jw jx jy lp ka kb kc lq ke kf kg lr ki kj kk ij bi translated">我们将从强力解决方案开始。我们将遍历数组，通过以当前价格购买来计算每件商品的利润，然后在嵌套循环中通过以每个价格出售来确定利润。我们维护最大利润，并在遍历完所有项目后返回这个值。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ms ks l"/></div></figure><p id="ff0d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该功能在<code class="fe ls lt lu lv b">O(n²)</code>时间内运行。每当我们看到嵌套的<code class="fe ls lt lu lv b">for</code>循环，这几乎总是表明你将有二次时间。</p><h2 id="d550" class="ku kv iq bd kw kx ky dn kz la lb dp lc jy ld le lf kc lg lh li kg lj lk ll lm bi translated">最佳线性时间解— O(n)</h2><p id="5c08" class="pw-post-body-paragraph jn jo iq jp b jq ln js jt ju lo jw jx jy lp ka kb kc lq ke kf kg lr ki kj kk ij bi translated">为了更直观地了解如何改进我们的解决方案，我们先来看一些例子。</p><p id="89a3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第一天我们以2美元买入，第四天以8美元卖出，获利6美元。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="gh gi mt"><img src="../Images/d6d2fc930e5edc942927ee00f56e25e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*678S7T4yNtW3uVK2JrGLYw.png"/></div></div></figure><p id="58be" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在让我们添加一个新的点—另一个9美元的股票价格，但在稍后的一天。在这种情况下，我们以2美元买入，9美元卖出。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="gh gi na"><img src="../Images/b66fc3caac318e361fc1adbe753a88db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*07INeJMQPZeGZdZ4nJtPMA.png"/></div></div></figure><p id="10d3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，让我们在目前2美元的低点后再加上1美元的价格。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="gh gi nb"><img src="../Images/59b2d01634656d5434f13f71c7550bc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PJKYeg_asf00laHSPTocnw.png"/></div></div></figure><p id="1717" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当我们加上9美元的额外价格时，我们以更高的价格出售，当我们加上1美元的价格时，我们以更低的价格购买。</p><p id="b761" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通过查看这些图表，我们可以看到，我们不需要跟踪所有的价格，只需要两个数据点。我们需要跟踪的是在任何时候出售的最低价格和最大利润。</p><p id="4e0d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因为我们总是在向前看，当我们遇到一个新的低价时，我们知道根据我们现有的数据在这里买入是最好的选择。这是因为当我们在时间上向前移动时，它将产生更大的利润。</p><p id="456f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，当我们遇到更高的价格时，我们以最大价格出售。</p><p id="f772" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们在每一步都寻找最佳选择。通过计算每个区间的利润，一旦我们完成迭代，我们将知道整个数组的最佳选择。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ms ks l"/></div></figure><p id="dd77" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们的<a class="ae kl" href="https://en.wikipedia.org/wiki/Greedy_algorithm" rel="noopener ugc nofollow" target="_blank">贪婪方法</a>允许我们只用一个循环就能确定最大利润。这将我们的强力<code class="fe ls lt lu lv b">O(n²)</code>解决方案优化为<code class="fe ls lt lu lv b">O(n)</code>线性时间解决方案。</p></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><p id="f8c1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我正在建立一个更深入的课程。注册电子邮件列表以获得独家折扣并获得发布通知。</p><div class="nj nk gp gr nl nm"><a href="https://skilled.dev" rel="noopener  ugc nofollow" target="_blank"><div class="nn ab fo"><div class="no ab np cl cj nq"><h2 class="bd ir gy z fp nr fr fs ns fu fw ip bi translated">编写面试问题</h2><div class="nt l"><h3 class="bd b gy z fp nr fr fs ns fu fw dk translated">掌握编码面试的过程</h3></div><div class="nu l"><p class="bd b dl z fp nr fr fs ns fu fw dk translated">技术开发</p></div></div><div class="nv l"><div class="nw l nx ny nz nv oa my nm"/></div></div></a></div><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="gh gi ob"><img src="../Images/f4c3044c6344f451f9789613fae2134e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VF9j49EAPmKUUPYBfYNYLQ.jpeg"/></div></div></figure></div></div>    
</body>
</html>