<html>
<head>
<title>Import Your Own Python Code Without Pythonpath Tricks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">无需Pythonpath技巧即可导入您自己的Python代码</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/import-your-own-python-code-without-pythonpath-tricks-9068495c1bba?source=collection_archive---------2-----------------------#2021-02-10">https://levelup.gitconnected.com/import-your-own-python-code-without-pythonpath-tricks-9068495c1bba?source=collection_archive---------2-----------------------#2021-02-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1773" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用一行代码和适当的代码结构</h2></div><blockquote class="kf kg kh"><p id="920a" class="ki kj kk kl b km kn jr ko kp kq ju kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kl ir">“我甚至不能导入我自己的脚本！”</strong></p><p id="47f5" class="ki kj kk kl b km kn jr ko kp kq ju kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kl ir">“但它在我的笔记本电脑上工作正常！”</strong></p></blockquote><p id="c87d" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">是的，苦难之神有许多面孔。<em class="kk">最后一个是我的最爱。</em></p><p id="937b" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">让我来解释一下这个问题。 <br/>你的同事给了你这些精彩的、全新的Python脚本，来<em class="kk">终结世界上所有的不公正</em>。您已经准备好运行它们，但是<strong class="kl ir">您不能导入它们的任何函数和类</strong>。</p><p id="3608" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated"><strong class="kl ir">你不仅不能将它们从一个脚本导入到另一个脚本中，</strong>你也不能从你正在运行的Python解释器中导入它们。或许你可以，但前提是<em class="kk">木星</em>和土星成一直线。在同一个文件夹里。或者像一个<em class="kk"> PyCharm </em>。没有人能做得和他一样。</p><p id="1255" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">所以你<em class="kk">(或者你的好心同事给你)</em>选择了东拼西凑的方式。</p><p id="056b" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated"><em class="kk">苦难之道。</em></p><p id="b788" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated"><strong class="kl ir">你修改了你的</strong> <code class="fe li lj lk ll b">PYTHONPATH</code> <strong class="kl ir">。</strong>或类似。你被迫这样做。<strong class="kl ir">而且很乱。</strong></p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi lm"><img src="../Images/163e838d27eac7c9365f6bfbbf3db529.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*O_FcY4gAcwsUWNNF"/></div></div><figcaption class="ly lz gj gh gi ma mb bd b be z dk translated">让我们试着把它分类。照片由<a class="ae mc" href="https://unsplash.com/@noorsethi?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Noor Sethi </a>在<a class="ae mc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="e0e8" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">代码的导入混乱</h1><p id="e3ae" class="pw-post-body-paragraph ki kj iq kl b km mv jr ko kp mw ju kr lf mx ku kv lg my ky kz lh mz lc ld le ij bi translated">你可能已经注意到了，我正在谈论Python导入可能产生的<strong class="kl ir">混乱。或者，更好的是，<strong class="kl ir">乱七八糟的配置</strong>能产生的混乱。</strong></p><p id="1896" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">因为进口本身没有缺点，<em class="kk">可怜的小生物</em> <em class="kk">(那不是真的，我确实有一些关于那方面的话要说……但不是现在)。</em></p><p id="72e3" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">真正的问题是它们被使用或应该被使用的方式。</p><h1 id="c07c" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">从戏法到鬼</h1><p id="4fe9" class="pw-post-body-paragraph ki kj iq kl b km mv jr ko kp mw ju kr lf mx ku kv lg my ky kz lh mz lc ld le ij bi translated">我见过几个避免这个导入问题的方法。<br/>这里只是特别提一下，<strong class="kl ir">强调为什么它们总体上不好</strong>以及它们会带来什么风险。</p><blockquote class="na"><p id="94e8" class="nb nc iq bd nd ne nf ng nh ni nj le dk translated"><strong class="ak">如果你只是想知道最终的工作方案，而不知道为什么比这些招数好，那就跳过这一部分吧！</strong></p></blockquote></div><div class="ab cl nk nl hu nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="ij ik il im in"><h2 id="10e1" class="nr me iq bd mf ns nt dn mj nu nv dp mn lf nw nx mp lg ny nz mr lh oa ob mt oc bi translated"><code class="fe li lj lk ll b">PYTHONPATH</code>的幽灵</h2><p id="5b79" class="pw-post-body-paragraph ki kj iq kl b km mv jr ko kp mw ju kr lf mx ku kv lg my ky kz lh mz lc ld le ij bi translated">第一个是最快的:改变<code class="fe li lj lk ll b">PYTHONPATH</code>环境变量。</p><p id="f304" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">基本上，它像系统路径变量一样工作。<strong class="kl ir">它告诉Python在哪里搜索额外的脚本和模块。</strong>您只需将包含文件夹的路径添加到它的值列表中，就可以开始了。</p><p id="4109" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated"><em class="kk">漂亮的把戏。</em></p><p id="c1c4" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">但是你不得不分享你的代码，甚至只和你的合作者分享，或者因为某些原因你不得不把它转移到其他机器上。什么都不管用了。</p><p id="9cd9" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated"><strong class="kl ir">每次</strong>，你都要手动设置<strong class="kl ir"> </strong> <code class="fe li lj lk ll b">PYTHONPATH</code> <strong class="kl ir">。</strong>您必须在自述文件中的每个地方都用大写字母写下此警告。</p><p id="ef84" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">这个鬼魂会永远缠着你。</p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi od"><img src="../Images/1393d924af12a901431e68b1f9b9b5db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*osgNLR1arUzJkRS5"/></div></div><figcaption class="ly lz gj gh gi ma mb bd b be z dk translated">PYTHONPATH幽灵。照片由<a class="ae mc" href="https://unsplash.com/@grimmwwald?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Syarafina Yusof </a>在<a class="ae mc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="c8c2" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">此外，你<strong class="kl ir">不能创建一个通用的脚本</strong>来避免这一点，因为你不知道你的其他同事会把这些代码放在哪里，所以你<strong class="kl ir">不知道指定的绝对路径</strong>。<br/>但是好吧，也许这是我的DevOps的一面说话，或者我的<em class="kk">什么是-这-请-自动化-一切</em>偏执。我承认。</p><p id="ba68" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">还有另一个更糟糕的问题。也许您在配置文件中导出了那个定义，因为您不想在每次打开shell或IDE时设置它。然而，现在你正和几个不同的项目一起工作，并且定义开始冲突。没有分离。</p><p id="e6c5" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated"><em class="kk">哎哟。</em></p><p id="446e" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">我不是说完全不对<em class="kk">(或者我是？—咳嗽)</em>。<br/> <em class="kk">它在简单的情况下肯定有效</em>，但是<strong class="kl ir">难道就没有另一个普遍有效的解决方案吗？</strong>也许有什么东西可以<strong class="kl ir">自动化</strong>并且<strong class="kl ir">可以在任何地方运行</strong>？</p><blockquote class="kf kg kh"><p id="78b4" class="ki kj kk kl b km kn jr ko kp kq ju kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">另外，你注意到上面的“附加”定义了吗？<br/> " <strong class="kl ir">它告诉Python在哪里搜索<em class="iq">附加的</em>脚本和模块。"</strong> <br/>它来自<a class="ae mc" href="https://docs.python.org/3/using/cmdline.html#envvar-PYTHONPATH" rel="noopener ugc nofollow" target="_blank"> Python文档</a>。</p><p id="fe1c" class="ki kj kk kl b km kn jr ko kp kq ju kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">我的代码怎么可能是一个<strong class="kl ir"> <em class="iq">加法</em> </strong>？它是要运行的主要代码！<br/>更不用说，就在那个页面上，还有一个关于Python替代实现的不同行为的<a class="ae mc" href="https://docs.python.org/3/using/cmdline.html#command-line-and-environment" rel="noopener ugc nofollow" target="_blank">警告</a>——尽管我从未注意到这个特殊案例中的区别。</p></blockquote></div><div class="ab cl nk nl hu nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="ij ik il im in"><h2 id="a763" class="nr me iq bd mf ns nt dn mj nu nv dp mn lf nw nx mp lg ny nz mr lh oa ob mt oc bi translated">sys.path的主幽灵</h2><p id="7cb4" class="pw-post-body-paragraph ki kj iq kl b km mv jr ko kp mw ju kr lf mx ku kv lg my ky kz lh mz lc ld le ij bi translated"><em class="kk">“但是我可以自动完成这种配置！我可以在我的脚本中修改</em> <code class="fe li lj lk ll b"><em class="kk">sys.path</em></code> <em class="kk"/></p><p id="9608" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">但是……<em class="kk">为什么？</em></p><p id="0ae9" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">除了与之前的Ghost几乎相同的问题之外，<strong class="kl ir">这个解决方案将应用程序代码与系统配置代码混合在一起</strong>。</p><p id="6480" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">当某样东西闻起来很臭时，它通常是腐烂了。这个案例并没有什么不同。混合范围总是一个坏主意。</p><p id="55b7" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">此外，你是<strong class="kl ir">在运行时玩弄环境变量</strong>。为什么要等这么久来设置您的代码？设置是<em class="kk">要做的第一件事</em>，而不是最后一件！它使您尽快意识到错误，从可能的原因列表中排除下列组件。</p><p id="66be" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">当您不得不分叉您的进程时，或者当您使用一个没有警告您就这么做的库时，会发生什么？是继承了这些环境变量吗？你每次都要担心这个问题吗？</p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi oe"><img src="../Images/166aa376872db9dc7b78fda306c80462.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hprMFTNLvo1I4o6x"/></div></div><figcaption class="ly lz gj gh gi ma mb bd b be z dk translated">让我们找出正确的解决方案。<a class="ae mc" href="https://unsplash.com/@cobblepot?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">基特·苏曼</a>在<a class="ae mc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><h1 id="df31" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">显而易见的解决办法</h1><p id="57d6" class="pw-post-body-paragraph ki kj iq kl b km mv jr ko kp mw ju kr lf mx ku kv lg my ky kz lh mz lc ld le ij bi translated">如果你密切注意，你会看到它。<br/>看你不得不<strong class="kl ir">从其他库</strong>导入函数和类的方式，我的意思是。除了无缝工作的事实之外，它们在任何地方都可以工作，没有任何变化。</p><p id="6b3b" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">那么，你为什么要使用不同的机制呢？</p><p id="6dc2" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">它们之所以有效，是因为这些包被放在<code class="fe li lj lk ll b">site-packages</code>文件夹下，默认情况下Python会检查这个文件夹。现在的问题是:到底是谁在把他们转移到那里？</p><p id="a94a" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">答案很简单。<strong class="kl ir">是你的</strong> <code class="fe li lj lk ll b">pip install</code> <strong class="kl ir">命令</strong>(或等同)。</p><p id="0df3" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">是的，我将把重点放在pip案例上，其中您也有一个<strong class="kl ir">虚拟环境</strong>。当然，康达恩维斯也是如此。<br/> <em class="kk">这里不适合列举拥有虚拟环境的优势，对吗？</em></p><h1 id="8926" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">安装您自己的代码</h1><p id="7b9c" class="pw-post-body-paragraph ki kj iq kl b km mv jr ko kp mw ju kr lf mx ku kv lg my ky kz lh mz lc ld le ij bi translated">所以这个想法是将你的代码和你的其他包一起安装。这意味着你的代码也必须被构造成一个包。</p><p id="cfb2" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">不要绝望，这很容易！请记住两件事。</p><h2 id="5863" class="nr me iq bd mf ns nt dn mj nu nv dp mn lf nw nx mp lg ny nz mr lh oa ob mt oc bi translated"><strong class="ak"> (1)你只需要把你的代码收集到至少一个文件夹里，里面有一个空的</strong> <code class="fe li lj lk ll b"><strong class="ak">__init__.py</strong></code> <strong class="ak">文件</strong>。</h2><p id="60a0" class="pw-post-body-paragraph ki kj iq kl b km mv jr ko kp mw ju kr lf mx ku kv lg my ky kz lh mz lc ld le ij bi translated">这些文件对于将它们的文件夹标记为<strong class="kl ir"> Python模块是必不可少的。</strong>通过这种方式，它们被识别用于安装(并因此被导入)。它们是强制性的。</p><p id="904b" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">假设你的包裹是<code class="fe li lj lk ll b">justice</code>:</p><pre class="ln lo lp lq gt of ll og oh aw oi bi"><span id="1c0d" class="nr me iq ll b gy oj ok l ol om">justice\<br/>    ...<br/>    innerfolder\<br/>        <strong class="ll ir">__init__.py</strong><br/>        some_script.py<br/>        ...<br/>    ...<br/>    <strong class="ll ir">__init__.py</strong><br/>    one_of_your_scripts.py<br/><strong class="ll ir">setup.py</strong></span></pre><p id="ff4a" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">因此，每个文件夹都有一个<code class="fe li lj lk ll b">__init__.py</code>。</p><h2 id="00de" class="nr me iq bd mf ns nt dn mj nu nv dp mn lf nw nx mp lg ny nz mr lh oa ob mt oc bi translated"><strong class="ak"> (2)还有一个必不可少的棋子:</strong> <code class="fe li lj lk ll b"><strong class="ak">setup.py</strong></code> <strong class="ak">档。</strong></h2><p id="5c8d" class="pw-post-body-paragraph ki kj iq kl b km mv jr ko kp mw ju kr lf mx ku kv lg my ky kz lh mz lc ld le ij bi translated">默认情况下，<code class="fe li lj lk ll b">pip install &lt;package&gt;</code>命令<strong class="kl ir">会搜索并使用<code class="fe li lj lk ll b">setup.py</code>文件</strong>。它告诉了几件事:关于你的包的元数据，在哪里可以找到脚本和<em class="kk">(可选但建议)</em>有什么要求。</p><pre class="ln lo lp lq gt of ll og oh aw oi bi"><span id="b9e8" class="nr me iq ll b gy oj ok l ol om">from setuptools import setup, find_packages</span><span id="58b5" class="nr me iq ll b gy on ok l ol om"># List of requirements<br/>requirements = []  # This could be retrieved from requirements.txt</span><span id="552f" class="nr me iq ll b gy on ok l ol om"># Package (minimal) configuration<br/>setup(<br/>    name="justice",<br/>    version="1.0.0",<br/>    description="End world injustices",<br/>    packages=find_packages(),  # __init__.py folders search<br/>    install_requires=requirements<br/>)</span></pre><p id="9354" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">在那里编写需求会让您的<code class="fe li lj lk ll b">pip install &lt;package&gt;</code>命令<strong class="kl ir">也安装您的包依赖关系</strong>。<em class="kk">是的，只需一声令下！</em>也不需要运行<code class="fe li lj lk ll b">pip install -r requirements.txt</code>。双重福利！</p><blockquote class="kf kg kh"><p id="ced7" class="ki kj kk kl b km kn jr ko kp kq ju kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">这里有很多要说的，也是关于发行版的(source，wheel)。也许在下一篇文章里！</p></blockquote><p id="8808" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">因此，现在您需要做的一切就是使用<code class="fe li lj lk ll b">pip install &lt;path_to_setup.py_folder&gt;</code>安装您的代码，或者在本例中使用<code class="fe li lj lk ll b">pip install .</code></p><p id="997f" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">哇哦。一切都好吗？<strong class="kl ir">就凭那个？</strong></p><p id="d25d" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">是的，差不多了。</p><p id="6e4c" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">因为，实际上，<strong class="kl ir">你不能为你的代码</strong>那样做。这个安装会将您的脚本复制到<code class="fe li lj lk ll b">site-packages</code>文件夹中，就这样。如果你的代码改变了怎么办？<strong class="kl ir">正在开发</strong>，所以这是很有可能的。<strong class="kl ir">你每次都必须安装它。</strong>一点都不顺手。</p><h2 id="a11d" class="nr me iq bd mf ns nt dn mj nu nv dp mn lf nw nx mp lg ny nz mr lh oa ob mt oc bi translated">这就是为什么你应该使用<strong class="ak">这个单一的一行程序救世主:</strong></h2><pre class="ln lo lp lq gt of ll og oh aw oi bi"><span id="53db" class="nr me iq ll b gy oj ok l ol om">pip install -e .</span></pre><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi oo"><img src="../Images/0afbbbac5b9813f02274f23aa93fd654.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nTxbjgEeToSXM047"/></div></div><figcaption class="ly lz gj gh gi ma mb bd b be z dk translated">这才是真正的绝招！照片由<a class="ae mc" href="https://unsplash.com/@acharki95?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">阿齐兹·阿查基</a>在<a class="ae mc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="a2d5" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">开发模式安装</h1><p id="bbd3" class="pw-post-body-paragraph ki kj iq kl b km mv jr ko kp mw ju kr lf mx ku kv lg my ky kz lh mz lc ld le ij bi translated"><code class="fe li lj lk ll b">-e</code>选项告诉pip在“开发模式”下安装它。基本上，它把<strong class="kl ir">只是一个对你的包的引用</strong>放在<code class="fe li lj lk ll b">site-packages</code>文件夹中。所以你可以改变它，而不用担心安装了！</p><p id="eafe" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated"><strong class="kl ir">你只要一劳永逸地做到这一点，</strong>即使你改变了代码。</p><p id="55ad" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">如果你在虚拟环境中安装了你的包，<strong class="kl ir">你可以从任何地方</strong>导入你的代码，从任何shell，只要你激活了那个虚拟环境。</p><p id="e9d3" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">例如:</p><pre class="ln lo lp lq gt of ll og oh aw oi bi"><span id="6f79" class="nr me iq ll b gy oj ok l ol om">from justice import one_of_your_scripts<br/><br/>one_of_your_scripts.a_function()</span></pre><p id="fa6e" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">最重要是，<strong class="kl ir">您可以在任何地方运行确切的安装命令。因为这也适用于你的同事。您不必担心安装的路径。<em class="kk">这意味着简单的自动化。</em></strong></p><p id="e9c6" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated"><strong class="kl ir">快速、干净、通用。</strong></p><p id="1c11" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated"><strong class="kl ir">真正的解决方案应有的一切。</strong></p><h1 id="1b51" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">资源</h1><p id="da19" class="pw-post-body-paragraph ki kj iq kl b km mv jr ko kp mw ju kr lf mx ku kv lg my ky kz lh mz lc ld le ij bi translated"><a class="ae mc" href="https://docs.python.org/3/using/cmdline.html#envvar-PYTHONPATH" rel="noopener ugc nofollow" target="_blank"> [1] Python文档</a></p></div></div>    
</body>
</html>