# 限制数据库成本的 5 个最有效策略

> 原文：<https://levelup.gitconnected.com/the-5-most-effective-strategies-to-limit-your-database-costs-d2e3b5756cd4>

探索可以为您节省大量资金的数据架构变化。

![](img/52a43cc6dbcfbfea0feb1c5769d79620.png)

在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上由 [Ruchindra Gunasekara](https://unsplash.com/@ruchindra?utm_source=medium&utm_medium=referral) 拍摄的照片

您的经理找到您，询问我们如何在不牺牲成本的情况下降低数据仓库的成本。数据仓库的成本是合理的，但有时我们做出的数据架构决策比其他决策更昂贵。

给一些背景知识，当我谈论这些技巧时，它们是针对拥有一百到几千名员工的公司的。在这个例子中，我比较了亚马逊红移([价格](https://aws.amazon.com/redshift/pricing/))、微软 Azure 的 SQL 数据库([价格](https://azure.microsoft.com/en-us/pricing/details/azure-sql-database/single/))和谷歌云平台的 Bigquery ( [价格](https://cloud.google.com/bigquery#section-12))。请注意按需定价。当然，您可以通过使用保留的实例来节省成本，但是如果您还不知道您的消费是多少呢？一至三年内可以发生很多事情。

让我们看看这些建议的数据架构变化。

**1。限制数据仓库中的数据量。**

这似乎很明显，但是大多数人喜欢将他们的数据转储到数据仓库中，这不是数据仓库的目的。相反，将所有原始数据转储到一个数据湖中。数据湖正是为此用例而创建的，而且比数据仓库便宜得多。然后，找出需要处理和聚合的内容，并将其存储在数据仓库中，以便最终用户可以轻松访问。

**2。保持大多数用户阅读的数据数量**

你处理了从 2019 年到 2022 年的所有数据，但用户只读取了最近 6 个月的数据。你是做什么的？您可以将 6 个月的数据保存在数据库中，将其余数据保存在数据湖中。然后，创建一个视图，将数据库和数据湖中的数据合并为一个外部表。当你查询 2019 年到 2021 年的数据时，它会增加一点延迟，但这样会便宜得多。

**3。将计算与存储分开。**

大量的数据需要大量的资源。如果你把你的处理从数据库中移走，这将为你节省一大笔钱。当然，这意味着在短期内，您可能需要投资于您的数据工程师，但从长期来看，这将为您节省大量资金。

**4。暂停和取消暂停数据库**

如果您的流程可能只在晚上 10:00 到凌晨 12:00 之间运行，并且没有用户访问实际数据，那么在凌晨 12:00 到凌晨 5:00 关闭数据库可能是值得的。如果您是一个跨越国界的大型组织，这可能不是一个选项，因为人们总是会访问数据。

**5。针对不同的用例使用不同类型的数据库。**

假设您正在使用您的数据库进行报告，并且您有一个很棒的想法，现在要用相同的信息创建一个网站。现在的使用情形已经从报告您最有可能期待的数据变为拥有实时数据。增加网站的额外压力会导致数据仓库变慢，因此增加一个事务数据库或另一个专注于该数据的数据库将会减轻压力，并限制计算资源成本的增加。

感谢您的来访，并了解更多关于如何优化成本的信息。