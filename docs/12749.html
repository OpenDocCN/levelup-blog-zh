<html>
<head>
<title>Step by Step Guide for Labeling Object Detection Training Images Using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python标记对象检测训练图像的分步指南</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/step-by-step-guide-for-labeling-object-detection-training-images-using-python-f339d73ba464?source=collection_archive---------7-----------------------#2022-07-05">https://levelup.gitconnected.com/step-by-step-guide-for-labeling-object-detection-training-images-using-python-f339d73ba464?source=collection_archive---------7-----------------------#2022-07-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="04fc" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Python进行图像标注</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a8c2b3053e5fc17e5898035ae0ef1da0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3_s_urxAPTVvDHTv"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">汤姆·克鲁在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="017a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">目标检测是当前计算机视觉最热门的领域之一。对象检测简单地说就是为任何图像、视频或直播流中出现的每个项目提供一个标签。</p><p id="8625" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天，我们有许多算法可以为我们提供实时的对象检测结果。当我们谈论实时时，这意味着使用任何闭路电视摄像机，我们都可以从算法中获得实时结果。并且，根据结果，我们可以根据我们的需求执行某些活动。</p><p id="0972" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对象检测是一种监督学习，我们必须向我们的算法传授任何图像的不同属性。在开始对象检测算法的学习阶段之前，我们必须准备图像数据，它们各自的对象标签存在于图像中。</p><p id="cd1d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们正在构建一个对象检测模型，可以检测保险项目，如闭路电视摄像机、灭火器和许多其他项目。这些项目是任何保险行业最常见的检查。您可以选择您感兴趣的任何对象。</p><p id="c881" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第一步是以某种方式标记我们的图像，以便模型可以了解图像的属性。为此，我们需要标记我们的图像数据。这种标记有助于我们的模型定位图像中物体的坐标。</p><p id="b7bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文将一步一步地介绍为目标检测任务标记图像的过程。标签的格式将适用于一组非常流行的对象检测算法，称为YOLO(你只看一次)。</p><p id="38aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们开始标记我们的图像吧！</p><h1 id="5620" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">1.设置所需的包</h1><p id="90f0" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">我们应该在我们的机器上安装python。在这个练习中，我们将使用开源python包“LabelImg”。“LabelImg”是一个python包，它可以帮助我们标记我们的图像数据。</p><p id="c408" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用下面的Git命令安装这个包，或者我们也可以直接下载它<a class="ae ky" href="https://github.com/tzutalin/labelImg" rel="noopener ugc nofollow" target="_blank">这里</a></p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="5b4f" class="mx lw it mt b gy my mz l na nb">git clone <a class="ae ky" href="https://github.com/pranjalAI/labelImg.git" rel="noopener ugc nofollow" target="_blank">https://github.com/pranjalAI/labelImg.git</a></span></pre><p id="fa3f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦我们运行该命令，我们将得到一个可以在任何位置提取的zip文件。</p><h1 id="d59f" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">2.安装助手依赖项</h1><p id="138f" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">LabelImg使用“pyqt5”库调用UI屏幕来执行图像标记任务。要安装该库，请按照下列步骤操作:</p><ul class=""><li id="e8d3" class="nc nd it lb b lc ld lf lg li ne lm nf lq ng lu nh ni nj nk bi translated">打开命令提示符。</li><li id="e37b" class="nc nd it lb b lc nl lf nm li nn lm no lq np lu nh ni nj nk bi translated">移动到名为“labelImg”的文件夹——您已经使用Git命令从源代码中下载了该文件夹，或者直接从这里的链接<a class="ae ky" href="https://github.com/pranjalAI/labelImg.git" rel="noopener ugc nofollow" target="_blank">下载了该文件夹。</a></li><li id="d571" class="nc nd it lb b lc nl lf nm li nn lm no lq np lu nh ni nj nk bi translated">现在，运行下面的命令安装pyqt5</li></ul><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="e0f1" class="mx lw it mt b gy my mz l na nb">pip install pyqt5</span></pre><p id="401f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果命令运行正常，没有错误，这意味着我们可以开始下一步了。</p><h1 id="f5a8" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">3.定义对象的标签</h1><p id="fcd8" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">由于这是监督学习，我们必须定义要学习的类。这些类表示我们希望使用对象检测模型检测的不同项目的名称。</p><p id="9e25" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要定义模型类，我们需要移动到“labelImg\data”文件夹；在那里，你会发现<code class="fe nq nr ns mt b">predefined_classes.txt</code></p><p id="7284" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以键入图像中的对象名称列表。每个新对象都应该在新的一行。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/9c091899fc391a7008c4df64e60bb3f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*hMgNrbmQHto2ungH.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</figcaption></figure><p id="7ce6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将“NumberPlate”和“CCTV”定义为两个类名，因为我希望我的模型只检测这两种对象。您可以根据您的用例需求定义不同的类。</p><h1 id="ee95" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">4.图像标签在行动</h1><p id="c14a" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">移动到我们提取的文件夹，并在那里打开命令提示符。运行以下命令调用该工具的UI。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="5dd5" class="mx lw it mt b gy my mz l na nb">python labelImg.py</span></pre><p id="5b20" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行上述命令后，您将弹出以下屏幕。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/4be32ef43b7a95331185038496075a2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*F1VNWf-qBTX83iqj.png"/></div></div></figure><p id="c8f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过运行“labelImg.py”文件，我们可以根据需要多次启动该工具。工具启动后，我们可以在左侧找到不同的按钮。这些按钮将帮助您选择图像文件夹位置，设置标签信息的路径等。</p><ul class=""><li id="e2ac" class="nc nd it lb b lc ld lf lg li ne lm nf lq ng lu nh ni nj nk bi translated">此过程的第一步是选择需要标记图像的路径。为此，我们可以单击“打开目录”按钮。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/ad310279c2665e599662866a7f0ebce4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lde99Pe1Bl644m8o.gif"/></div></div></figure><ul class=""><li id="55ca" class="nc nd it lb b lc ld lf lg li ne lm nf lq ng lu nh ni nj nk bi translated">现在，您需要设置保存图像标签信息文件的路径。点击“更改保存目录”并选择一个文件夹来保存您的标签文件。</li></ul><p id="18c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦我们这样做，我们将看到一些图像显示在窗口上。</p><p id="b6e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要标记显示的图像，首先需要设置标签格式。如果您使用的是YOLO算法，那么您需要选择YOLO作为图像格式。你可以通过用户界面左下方的按钮来实现(如下图所示)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/54fcf5f29c85caebd5deedbe3829a0eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*v4ulbv2eGM3ikx5o.gif"/></div></div></figure><p id="1c69" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用这个工具，你可以用YOLO格式或者Pascal-VOC格式来标记图像。还有一些其他算法使用Pascal-VOC格式的标签文件；在这种情况下，您可以选择Pascal-VOC格式来相应地标记图像。</p><p id="2f11" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，点击创建矩形框按钮开始绘制边界框，如上图所示。</p><p id="3936" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在绘制边界框时，您可以选择适当的类，这是我们之前定义的。</p><p id="b452" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">标记过程完成后，您可以转到对象详细信息文件夹，在那里您会找到一个单独的图像文本文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/e9a1813e08ae1edda251712dd04093e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1292/format:webp/0*5f3g3rBWpfi_RqH0.png"/></div></figure><p id="1a5f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们可以按照相同的步骤来标记即将到来的图像。最后，我们将得到关于图像数量的标签文件。这些图像及其各自的标签文件现在已经准备好训练您的第一个实时自定义对象检测模型。</p></div><div class="ab cl nx ny hx nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="im in io ip iq"><h1 id="f21e" class="lv lw it bd lx ly oe ma mb mc of me mf jz og ka mh kc oh kd mj kf oi kg ml mm bi translated">结论</h1><p id="0de2" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在本文中，我们逐步介绍了为图像数据生成标签并为对象检测模型做好准备的指南。我们利用了开源Python包labelImg。</p><p id="b532" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注释图像通常是一个手动且耗时的过程。但是你在这个过程中花费的时间越多，你的模型就越好。</p></div><div class="ab cl nx ny hx nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="im in io ip iq"><h1 id="7696" class="lv lw it bd lx ly oe ma mb mc of me mf jz og ka mh kc oh kd mj kf oi kg ml mm bi translated">分级编码</h1><p id="cb65" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">感谢您成为我们社区的一员！更多内容见<a class="ae ky" href="https://levelup.gitconnected.com/" rel="noopener ugc nofollow" target="_blank">级编码出版物</a>。<br/>跟随:<a class="ae ky" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">推特</a>，<a class="ae ky" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">领英</a>，<a class="ae ky" href="https://newsletter.levelup.dev/" rel="noopener ugc nofollow" target="_blank">通迅</a> <br/> <strong class="lb iu">升一级正在改造理工大招聘➡️ </strong> <a class="ae ky" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">加入我们的人才集体</strong> </a></p></div></div>    
</body>
</html>