<html>
<head>
<title>How to fix a broken branch after a git merge or git rebase</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在git合并或git重置后修复一个损坏的分支</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-fix-a-broken-branch-after-a-git-merge-or-git-rebase-4ca61c0cb6fd?source=collection_archive---------16-----------------------#2022-03-14">https://levelup.gitconnected.com/how-to-fix-a-broken-branch-after-a-git-merge-or-git-rebase-4ca61c0cb6fd?source=collection_archive---------16-----------------------#2022-03-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="174e" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">解决常见的git问题</h2><div class=""/><div class=""><h2 id="d12b" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">本指南向您展示了如何使用断开分支的原始更改来创建新分支。</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/51eef1747f7027adaee1d6ac95cadac3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cM2Z7jr2xV5trOuV"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated"><a class="ae lh" href="https://unsplash.com/@yancymin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">扬西·敏</a>在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="2ec3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在git这样的版本控制系统中，合并或重定分支的问题可能会发生在任何人身上。我想向您展示一种非常有效的解决问题的方法。当然，也有其他方法，如恢复rebase并重新进行，但我更喜欢这种方法。</p><h2 id="7187" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">相关git命令</h2><p id="0fa3" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">git精选<br/><a class="ae lh" href="https://git-scm.com/docs/git-log" rel="noopener ugc nofollow" target="_blank">git日志</a><br/><a class="ae lh" href="https://git-scm.com/docs/git-checkout" rel="noopener ugc nofollow" target="_blank">git结帐</a><br/><a class="ae lh" href="https://git-scm.com/docs/git-branch" rel="noopener ugc nofollow" target="_blank">git分支</a></p><h2 id="f6c3" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">1从合并/重定基础目标创建一个新分支</h2><p id="0488" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">让我们假设您想要将<strong class="lk jd"> <em class="nb"> main </em> </strong>分支重置到您的<strong class="lk jd"> <em class="nb"> dev </em> </strong>分支上，并且由于应用程序不再启动而出现了问题。</p><p id="8f4a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">所以你从<strong class="lk jd"> <em class="nb">主</em> </strong>分支中创建一个新分支<strong class="lk jd"> <em class="nb"> dev2 </em> </strong>作为第一步。这意味着您已经在您的分支中拥有了来自<strong class="lk jd"> <em class="nb"> main </em> </strong>的所有最新变更，并且您不再需要重设基础。</p><h2 id="c31f" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">2将中断分支的更改应用到新分支</h2><p id="6748" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">下一步是应用你从<strong class="lk jd"> <em class="nb"> dev </em> </strong>到<strong class="lk jd"> <em class="nb"> dev2 </em> </strong>的所有更改。切换到您的<strong class="lk jd"> <em class="nb"> dev2 </em> </strong>分支，用<code class="fe nc nd ne nf b">git cherry-pick &lt;id&gt;</code>命令获得所有提交。</p><p id="71e4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">要找到提交id，可以使用<strong class="lk jd"> <em class="nb"> dev </em> </strong>分支上的<code class="fe nc nd ne nf b">git log</code>命令(见下图)。按时间顺序应用更改。最后，您拥有了一个包含所有变更以及rebase源代码变更的分支。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/86f824fd93d4834873236fac23831b72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1368/format:webp/1*AgzyDSmUtyou5F2KhnSIcg.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">带有提交id的Git日志</figcaption></figure><h2 id="050c" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">3推新枝</h2><p id="5290" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">最后推<strong class="lk jd"> <em class="nb"> dev2 </em> </strong>分支。您可能需要设置上游，但是git会帮助您完成这项工作。</p><h2 id="ce5b" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">4删除断裂的分支</h2><p id="18de" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">原来的<strong class="lk jd"> <em class="nb"> dev </em> </strong>分支现在已经没用了。您可以在本地存储库中以及远程存储库中删除它。</p><h2 id="6152" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">结论</h2><p id="9dfe" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">我向您展示了一个策略，通过用一个正常工作的分支替换一个断裂的分支来解决问题。这是一个简单明了的方法，将来可能会对你有所帮助。</p></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><p id="5788" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果你喜欢这篇文章，我会很高兴得到掌声👏(你知道可以拍几次吗？😎)另外，如果你还没有跟上我，我也很感激。</p><p id="fbd1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">🌲|☕ <a class="ae lh" href="https://www.buymeacoffee.com/xeladu" rel="noopener ugc nofollow" target="_blank">咖啡</a>🎁<a class="ae lh" href="https://www.paypal.com/donate/?hosted_button_id=JPWK39GGPAAFQ" rel="noopener ugc nofollow" target="_blank">捐赠</a> |💻<a class="ae lh" href="https://github.com/xeladu" rel="noopener ugc nofollow" target="_blank"> GitHub </a>🔔<a class="ae lh" href="https://xeladu.medium.com/subscribe" rel="noopener">订阅</a></p><p id="35f7" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">顺便说一句:如果你还没有Medium会员，我推荐你使用<a class="ae lh" href="https://medium.com/@xeladu/membership" rel="noopener">│我的推荐链接◀ </a> <strong class="lk jd"> <em class="nb"> </em> </strong>，因为它会让你访问Medium上的所有内容，并以一小部分费用支持我，而不会为你带来任何额外的费用。谢谢大家！✨</p></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><h2 id="ac35" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">相关故事</h2><div class="no np gp gr nq nr"><a rel="noopener  ugc nofollow" target="_blank" href="/code-examples-that-will-make-you-lose-faith-in-humanity-a2a36ea9d331"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd jd gy z fp nw fr fs nx fu fw jc bi translated">让你对人性失去信心的代码示例</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">在本文中，我想展示一些我多年来收集的代码“瑰宝”。所有的例子都来自生命…</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="oa l"><div class="ob l oc od oe oa of lb nr"/></div></div></a></div><div class="no np gp gr nq nr"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-customize-your-command-prompt-and-icons-in-your-terminal-f88ea15a5d58"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd jd gy z fp nw fr fs nx fu fw jc bi translated">如何在终端中自定义命令提示符和图标</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">你使用终端吗？你厌倦了枯燥的命令提示符吗？看完这个教程你就不会了！</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="oa l"><div class="og l oc od oe oa of lb nr"/></div></div></a></div><div class="no np gp gr nq nr"><a href="https://xeladu.medium.com/app-management-with-winget-on-windows-e668086a03f7" rel="noopener follow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd jd gy z fp nw fr fs nx fu fw jc bi translated">如何使用winget安装、更新和删除您的Windows应用程序</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">如何用Windows包管理器(winget)安装应用程序，如何保持应用程序更新，以及如何使用…</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">xeladu.medium.com</p></div></div><div class="oa l"><div class="oh l oc od oe oa of lb nr"/></div></div></a></div></div></div>    
</body>
</html>