<html>
<head>
<title>JavaScript Array Instance Methods that You May Have Missed</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">您可能错过的JavaScript数组实例方法</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/javascript-array-instance-methods-that-you-may-have-missed-916a70922daa?source=collection_archive---------15-----------------------#2020-04-02">https://levelup.gitconnected.com/javascript-array-instance-methods-that-you-may-have-missed-916a70922daa?source=collection_archive---------15-----------------------#2020-04-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/6785233536947a63f06bda7d5860b605.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dalT5Hu3yc-VRrDq"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@mehrpouya?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Mehrpouya H </a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="f8c1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">JavaScript在最近的版本中增加了许多新特性。其中之一是新的数组方法，它使得操作数组将其他对象转换为数组变得更加容易。</p><p id="b72f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将看看一些我们已经错过的JavaScript数组方法。</p><h1 id="def7" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">搜索数组元素</h1><p id="aaa9" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以使用<code class="fe mh mi mj mk b">find</code>和<code class="fe mh mi mj mk b">findIndex</code>方法来搜索数组条目的第一个实例。</p><p id="0a30" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">find</code>返回数组中搜索结果的第一个实例。它接受一个回调函数，该函数返回搜索条件的布尔表达式。</p><p id="d818" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它还需要第二个参数来设置回调中<code class="fe mh mi mj mk b">this</code>的值。</p><p id="c0c9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以如下使用<code class="fe mh mi mj mk b">find</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="1072" class="mt lf it mk b gy mu mv l mw mx">const arr = [{<br/>    name: 'Jane'<br/>  },<br/>  {<br/>    name: 'Joe'<br/>  },<br/>];</span><span id="2fa1" class="mt lf it mk b gy my mv l mw mx">const jane = arr.find(n =&gt; n.name == 'Jane');</span></pre><p id="e401" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们传入了一个带有要查找的条件的回调，它是值为<code class="fe mh mi mj mk b">'Jane'</code>的<code class="fe mh mi mj mk b">name</code>属性。</p><p id="3960" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">jane</code>的值<code class="fe mh mi mj mk b">{name: “Jane”}</code>与我们预期的一样。</p><p id="4383" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以设置<code class="fe mh mi mj mk b">this</code>的值，并在回调中使用它，如下所示:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="60e6" class="mt lf it mk b gy mu mv l mw mx">const arr = [{<br/>    name: 'Jane'<br/>  },<br/>  {<br/>    name: 'Joe'<br/>  },<br/>];</span><span id="d22c" class="mt lf it mk b gy my mv l mw mx">const jane = arr.find(function(n) {<br/>  return this.findJane(n);<br/>}, {<br/>  findJane: n =&gt; n.name == 'Jane'<br/>});</span></pre><p id="ec70" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们用<code class="fe mh mi mj mk b">findJane</code>方法作为第三个参数传入了一个对象。</p><p id="de28" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们调用<code class="fe mh mi mj mk b">this.findJane</code>来调用函数并返回结果。</p><p id="d6bb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，我们应该得到与第一个例子中相同的<code class="fe mh mi mj mk b">jane</code>值。</p><p id="cad2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">findIndex</code>返回在数组中找到的第一个结果实例的索引。</p><p id="c82d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它采用与<code class="fe mh mi mj mk b">find</code>相同的参数。</p><p id="b4a2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以写:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="aa58" class="mt lf it mk b gy mu mv l mw mx">const arr = [{<br/>    name: 'Jane'<br/>  },<br/>  {<br/>    name: 'Joe'<br/>  },<br/>];</span><span id="ff4e" class="mt lf it mk b gy my mv l mw mx">const jane = arr.findIndex(n =&gt; n.name == 'Jane');</span></pre><p id="8d7a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们得到<code class="fe mh mi mj mk b">jane</code>的值<code class="fe mh mi mj mk b">0</code>，因为具有<code class="fe mh mi mj mk b">name</code>值<code class="fe mh mi mj mk b">'Jane'</code>的条目在第一个条目中。</p><p id="e17c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">和<code class="fe mh mi mj mk b">find</code>方法一样，我们也可以在回调中设置<code class="fe mh mi mj mk b">this</code>的值。</p><p id="b6c1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以写:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="7e06" class="mt lf it mk b gy mu mv l mw mx">const arr = [{<br/>    name: 'Jane'<br/>  },<br/>  {<br/>    name: 'Joe'<br/>  },<br/>];</span><span id="6b29" class="mt lf it mk b gy my mv l mw mx">const jane = arr.findIndex(function(n) {<br/>  return this.findJane(n);<br/>}, {<br/>  findJane: n =&gt; n.name == 'Jane'<br/>});</span></pre><p id="3630" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们可以做和<code class="fe mh mi mj mk b">find</code>例子一样的事情。我们在回调中将<code class="fe mh mi mj mk b">this</code>的值设置为第二个参数中的对象，并在回调中调用它。</p><p id="60b4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们得到了和上一个例子一样的结果。</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mz"><img src="../Images/b1e7517a29b26869df70e8116136ee2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gf45pStZ3kULcoBv"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@karim_manjra?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">卡里姆·曼吉拉</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="5d49" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><code class="fe mh mi mj mk b">Array.prototype.copyWithin()</code></h1><p id="a8a5" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated"><code class="fe mh mi mj mk b">copyWithin</code>方法将数组的一部分复制到另一个数组，要复制的部分由起始索引到结束索引指示。</p><p id="4ad1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它有以下签名:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="4929" class="mt lf it mk b gy mu mv l mw mx">arr.copyWithin(target[, start[, end]])</span></pre><p id="113d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">其中<code class="fe mh mi mj mk b">target</code>是序列要复制到的从零开始的索引。如果为负数，<code class="fe mh mi mj mk b">target</code>将从末尾开始计数。</p><p id="c05e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果<code class="fe mh mi mj mk b">target</code>等于或大于<code class="fe mh mi mj mk b">arr.length</code>，则不会复制任何内容。如果<code class="fe mh mi mj mk b">target</code>位于<code class="fe mh mi mj mk b">start</code>之后，复制的序列将被修剪以适合<code class="fe mh mi mj mk b">arr.length</code>。</p><p id="e695" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果省略<code class="fe mh mi mj mk b">start</code>，则<code class="fe mh mi mj mk b">copyWithin</code>将从索引<code class="fe mh mi mj mk b">0</code>复制。</p><p id="c8d4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">start</code>是可选参数，它是从零开始复制元素的索引。如果是负数，<code class="fe mh mi mj mk b">start</code>将从末尾开始计数。</p><p id="1b1e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">end</code>是可选参数，是从零开始的索引，在该处结束复制。</p><p id="da7b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果省略<code class="fe mh mi mj mk b">end</code>，则<code class="fe mh mi mj mk b">copyWithin</code>复制到最后一个索引。</p><p id="bd67" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">方法返回修改后的数组，其中复制的项覆盖原始项。</p><p id="7ff8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，如果我们有<code class="fe mh mi mj mk b">const arr = [1, 2, 3, 4, 5].copyWithin(0, 3)</code>，那么<code class="fe mh mi mj mk b">arr</code>就是<code class="fe mh mi mj mk b">[4, 5, 3, 4, 5]</code>，因为我们从条目索引3复制到数组的末尾，并且目标被设置为索引0，这是第一个条目。</p><p id="f282" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，由于复制的零件有2个条目，它会覆盖第一个和第二个条目。</p><p id="e0ec" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一个例子如下:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="dedd" class="mt lf it mk b gy mu mv l mw mx">const arr = [1, 2, 3, 4, 5].copyWithin(-2, -3, -1)</span></pre><p id="3451" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上例中，我们从倒数第三个条目复制到最后一个条目，目标设置为倒数第二个位置。</p><p id="313c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，<code class="fe mh mi mj mk b">3, 4</code>会覆盖原数组中的<code class="fe mh mi mj mk b">4, 5</code>。</p><p id="6030" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以<code class="fe mh mi mj mk b">[1, 2, 3, 3, 4]</code>由<code class="fe mh mi mj mk b">copyWithin</code>返回，我们得到它作为<code class="fe mh mi mj mk b">arr</code>的值。</p><h1 id="d31c" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="bf78" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以使用<code class="fe mh mi mj mk b">find</code>和<code class="fe mh mi mj mk b">findIndex</code>来搜索数组元素。</p><p id="799d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">copyWithin</code>方法对于用数组的一部分覆盖数组的另一部分很方便。</p></div></div>    
</body>
</html>