<html>
<head>
<title>Android Recycler View</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Android回收器视图</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/android-recycler-view-b1bc493cac53?source=collection_archive---------2-----------------------#2020-02-08">https://levelup.gitconnected.com/android-recycler-view-b1bc493cac53?source=collection_archive---------2-----------------------#2020-02-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="584e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">带有点击监听器的recyclerView的高级增强。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/a0220ef0e52059ae9aa0e09a2ce02f48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bfy4k1Dm5WSSyA0FFHfUbQ.jpeg"/></div></div></figure><p id="b9cf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi kx translated">ndroid recyclerview是listview的最高级版本。基本上，android listview用于呈现简单的数据集。如果您想在应用程序中显示大型数据集，您应该使用recyclerview。在本文中，我描述了recyclerview的特性，以及如何通过一个简单的示例应用程序以高级方式实现它。</p><p id="6332" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">RecyclerView是一个更加强大、灵活、流畅的listview的主要增强。以前大多数开发者使用安卓<strong class="jp ir">列表视图</strong>和安卓<strong class="jp ir">网格视图</strong>。根据android开发者网站，recyclerview是由Android Lolipop发起的，版本是支持库下的<a class="ae lg" href="https://developer.android.com/reference/android/support/v7/widget/RecyclerView#" rel="noopener ugc nofollow" target="_blank"> 22.1.0 </a>。而且属于Maven神器(<strong class="jp ir"><em class="lh">com . Android . support:recycler view-V7:28 . 0 . 0-alpha 1)</em></strong><em class="lh">)。</em>recycler view的最新版本(<strong class="jp ir"><em class="lh">AndroidX . recycler view:recycler view:1 . 2 . 0-alpha 01)</em></strong>与AndroidX <strong class="jp ir"> <em class="lh">相关。</em> </strong></p><blockquote class="li lj lk"><p id="5bc5" class="jn jo lh jp b jq jr js jt ju jv jw jx ll jz ka kb lm kd ke kf ln kh ki kj kk ij bi translated">android支持库不再由Android维护。然而，几乎所有由支持库带来的特性都可以在<a class="ae lg" href="https://developer.android.com/jetpack/androidx" rel="noopener ugc nofollow" target="_blank"> AndroidX </a>的支持下使用，AndroidX 是<a class="ae lg" href="https://developer.android.com/jetpack" rel="noopener ugc nofollow" target="_blank"> Jetpack </a>的一部分。</p></blockquote><p id="70ad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">RecyclerView拥有比列表视图项目更吸引人、更流畅的控件、功能和可靠性。recyclerview使用重要的设计模式来呈现结果。比使用其他视图如ListView、GridViews有更多的优势。Recyclerview比listview更具可定制性，并为其开发人员提供了很多控制和权力。</p><h1 id="d4b1" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated"><strong class="ak">使用RecyclerView的优势</strong></h1><p id="05d3" class="pw-post-body-paragraph jn jo iq jp b jq mm js jt ju mn jw jx jy mo ka kb kc mp ke kf kg mq ki kj kk ij bi translated"><strong class="jp ir">【1】。负载性能</strong></p><p id="29bc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用RecyclerView的主要优势是将列表中的列表项加载到视图时的性能。RecyclerView准备可见条目之外的前后视图。当您需要从后台任务获取列表中的位图图像时，它会提供显著的性能。如果您使用RecyclerView.setHasFixedSize，它将为您提供一种非常快速的方法。ListView的前提是，在滚动完成之前，没有办法预先计算或缓存列表中条目的大小。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/36ef87aa89b98cdfe11440d4c67b9701.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TF9I-qDffkpA5RNDD0t2HQ.jpeg"/></div></div></figure><p id="1e8a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">【2】。取景器模式</strong></p><p id="9def" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是listview和recyclerview的主要区别。建议使用ViewHolder设计模式，但这不是必须的。但是，必须使用<a class="ae lg" href="https://developer.android.com/reference/android/support/v7/widget/RecyclerView.ViewHolder.html#RecyclerView.ViewHolder(android.view.View)" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> RecyclerView。视域</strong>T3类。当我们使用listview时，我们遇到了许多问题，这些问题在recyclerview中得到了解决，而且它比其他视图的实现要复杂一些。</a></p><p id="57c2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> [3]。布局管理器</strong></p><p id="a261" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是recyclerview比listview的另一个主要增强。在Listview中，只有一种类型的视图可用。对于水平列表视图，没有最佳的实现方式。使用recyclerview，我们可以使用布局管理器创建不同的布局，并且可以动态地创建所有视图。这些如下。</p><ol class=""><li id="3920" class="mr ms iq jp b jq jr ju jv jy mt kc mu kg mv kk mw mx my mz bi translated">LinearLayoutManager —支持垂直和水平列表</li><li id="3a0a" class="mr ms iq jp b jq na ju nb jy nc kc nd kg ne kk mw mx my mz bi translated">GridLayoutManager支持网格视图列表。(例如:-图片库)</li><li id="f072" class="mr ms iq jp b jq na ju nb jy nc kc nd kg ne kk mw mx my mz bi translated">StaggeredLayoutManager —支持交错列表(例如:- Pinterest)</li></ol><p id="93c0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">【4】。物品装饰</strong></p><p id="91ae" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在ListViews中，通过添加边框或分隔线以及给列表项添加不同的装饰来实现更加困难。但是在RecyclerView的情况下是<a class="ae lg" href="https://developer.android.com/reference/android/support/v7/widget/RecyclerView.ItemDecoration.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> RecyclerView。ItemDecorator </strong> </a>类为开发人员提供了更复杂的控制。然而，这有点更费时间和复杂。</p><p id="c6e0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">【5】。物品动画</strong></p><p id="b658" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Listview并没有给好的动画提供太多的支持。但是，RecyclerView为它带来了一个全新的维度。使用<a class="ae lg" href="https://developer.android.com/reference/android/support/v7/widget/RecyclerView.ItemAnimator.html" rel="noopener ugc nofollow" target="_blank">和<strong class="jp ir">循环查看。ItemAnimator </strong> </a>类，动画视图变得如此容易和直观。</p><p id="1bd5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">【6】。OnItemTouchListener </strong></p><p id="12e0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">RecyclerView通过<a class="ae lg" href="https://developer.android.com/reference/android/support/v7/widget/RecyclerView.OnItemTouchListener.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> RecyclerView给予开发者更强大的控制。OnItemTouchListener</strong></a><strong class="jp ir"/>比<strong class="jp ir"> </strong> ListView <strong class="jp ir">。但是开发者还需要完成更多的实现。虽然ListView中的列表项点击事件可以通过<a class="ae lg" href="https://developer.android.com/reference/android/widget/AdapterView.OnItemClickListener.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> AdapterView来处理。OnItemClickListener </strong> </a>接口。</strong></p><p id="8e76" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">欲了解更多详情，请访问<a class="ae lg" href="https://developer.android.com/guide/topics/ui/layout/recyclerview#structure" rel="noopener ugc nofollow" target="_blank"> Android开发者网站。</a></p><h1 id="c740" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated"><strong class="ak">使用RecyclerView的缺点</strong></h1><ol class=""><li id="ab8a" class="mr ms iq jp b jq mm ju mn jy nf kc ng kg nh kk mw mx my mz bi translated">比ListView更复杂。</li><li id="e470" class="mr ms iq jp b jq na ju nb jy nc kc nd kg ne kk mw mx my mz bi translated">实现比ListView实现花费更多的时间。</li><li id="2b40" class="mr ms iq jp b jq na ju nb jy nc kc nd kg ne kk mw mx my mz bi translated">对于初学者来说，要完全理解RecyclerView可能需要很长时间。</li><li id="7f9f" class="mr ms iq jp b jq na ju nb jy nc kc nd kg ne kk mw mx my mz bi translated">它会不必要地使你的编码生活变得困难。</li></ol><h1 id="e2a6" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated"><strong class="ak"> Android RecyclerView实现</strong></h1><p id="0883" class="pw-post-body-paragraph jn jo iq jp b jq mm js jt ju mn jw jx jy mo ka kb kc mp ke kf kg mq ki kj kk ij bi translated">首先，我应该说，正在使用最新版本的Android Studio和AndroidX来开发这个示例应用程序。在这个例子中，我试图解释如何实现Recylerview以及当列表项被单击时如何处理click事件。代码可以在GitHub中找到，下面会一步步解释。</p><p id="ab98" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">存储库的GitHub链接:</p><div class="ni nj gp gr nk nl"><a href="https://github.com/SupunIsharaWK/RecyclerviewSample" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd ir gy z fp nq fr fs nr fu fw ip bi translated">SupunIsharaWK/RecyclerviewSample</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">此存储库基本展示了recyclerview的实现以及在…中单击项目时的行为</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">github.com</p></div></div><div class="nu l"><div class="nv l nw nx ny nu nz kv nl"/></div></div></a></div><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="oa ob l"/></div></figure></div><div class="ab cl oc od hu oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="ij ik il im in"><h1 id="4737" class="lo lp iq bd lq lr oj lt lu lv ok lx ly lz ol mb mc md om mf mg mh on mj mk ml bi translated"><strong class="ak"> 1。)创建一个新项目</strong></h1><p id="7a55" class="pw-post-body-paragraph jn jo iq jp b jq mm js jt ju mn jw jx jy mo ka kb kc mp ke kf kg mq ki kj kk ij bi translated"><strong class="jp ir">【1】。</strong>在Android Studio中进入文件→新建→新建项目。选择<strong class="jp ir">空活动</strong>并点击<strong class="jp ir">下一步</strong>按钮，然后填写创建新项目所需的详细信息。最后，按下<strong class="jp ir">完成</strong>按钮。</p><p id="0803" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">【2】。</strong>在app级打开<strong class="jp ir"> <em class="lh"> build.gradle </em> </strong>，添加下面提到的依赖项。</p><pre class="km kn ko kp gt oo op oq or aw os bi"><span id="20e7" class="ot lp iq op b gy ou ov l ow ox">implementation 'androidx.recyclerview:recyclerview:1.2.0-alpha01'</span></pre><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi oy"><img src="../Images/c58941ecb9f86a28c1090a512f2bfd90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gScTEyOtvZa0OT41OnKaEQ.png"/></div></div><figcaption class="oz pa gj gh gi pb pc bd b be z dk translated">build.gradle中recyclerview在应用程序级别的依赖关系</figcaption></figure><p id="c773" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">【3】。</strong>拥有最新版本的Android Studio构建工具。它将生成一个名为<strong class="jp ir"><em class="lh">activity _ main . XML .</em></strong>的布局填充，它包含一个CoordinateLayout。出于开发人员的考虑，我将它更改为RelativeLayout。(我在<em class="lh"> activity_main.xml中所做的更改没有什么不同)。</em></p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="pd ob l"/></div><figcaption class="oz pa gj gh gi pb pc bd b be z dk translated"><strong class="ak"><em class="pe">activity _ main . XML</em></strong></figcaption></figure><p id="e6b1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">【3】。在Android项目结构的Android视图中的<strong class="jp ir"> <em class="lh"> res </em> </strong>目录下，有一个值目录。其中，它有<strong class="jp ir"> <em class="lh"> colors.xml、strings.xml、styles.xml </em> </strong></strong></p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="pd ob l"/></div></figure></div><div class="ab cl oc od hu oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="ij ik il im in"><h1 id="9368" class="lo lp iq bd lq lr oj lt lu lv ok lx ly lz ol mb mc md om mf mg mh on mj mk ml bi translated">2.)创建适配器类和视图。</h1><p id="1f57" class="pw-post-body-paragraph jn jo iq jp b jq mm js jt ju mn jw jx jy mo ka kb kc mp ke kf kg mq ki kj kk ij bi translated">添加RecyclerView小部件后，我们应该创建一个适配器类和视图容器来呈现数据。RecyclerView适配器与ListView适配器相同，但它是用RecyclerView adapter扩展的。</p><p id="afaa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">【1】。</strong>用getters和getters创建一个用于数据操作的模型类，在这里我将这个类命名为<strong class="jp ir"> DataModel </strong></p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="pd ob l"/></div><figcaption class="oz pa gj gh gi pb pc bd b be z dk translated">DataModel.java</figcaption></figure><p id="42e9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">【2】。</strong>为列表项创建布局。它用于分别表示列表中的每个项目。清单上的每一个项目都使用过这个视图。这里我在名为<strong class="jp ir"><em class="lh">recycler view _ list _ item . XML</em></strong>的视图中添加了名字、姓氏、联系号码和Id</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="pd ob l"/></div><figcaption class="oz pa gj gh gi pb pc bd b be z dk translated"><strong class="ak"><em class="pe">recycler view _ list _ item . XML</em></strong></figcaption></figure><p id="05eb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">【3】。</strong>通过扩展RecyclerView.Adapter创建一个带有ViewHolder的类名RecyclerViewAdapter，这里我特别要提一下，这里有一些重要的方法，比如<strong class="jp ir"><em class="lh">oncreateviewmoder</em></strong>将布局文件展开到视图中，<strong class="jp ir"><em class="lh">onBindViewHolder</em></strong>将数据设置到视图中的每个视图持有人，以及<strong class="jp ir"><em class="lh">getItemCount()</em></strong>用于获取列表中可用的项目数同样，我还添加了该类的<strong class="jp ir">构造函数</strong>，并将<strong class="jp ir"> <em class="lh">数据模型</em> </strong>类的列表对象作为参数。</p><pre class="km kn ko kp gt oo op oq or aw os bi"><span id="59b3" class="ot lp iq op b gy ou ov l ow ox">//create constructor with list<br/>public RecyclerViewAdapter(List&lt;DataModel&gt; dataModelList) {<br/>    this.dataModelList = dataModelList;<br/>}</span></pre><p id="bd97" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通过扩展RecyclerView。ViewHolder类I已经创建了<strong class="jp ir"><em class="lh">recyclerviewmoder</em></strong>作为adapter类的内部类。</p><pre class="km kn ko kp gt oo op oq or aw os bi"><span id="2193" class="ot lp iq op b gy ou ov l ow ox">// declare view holder inner class<br/>class RecyclerViewHolder extends RecyclerView.ViewHolder {<br/>    TextView tvID;<br/>    TextView tvFirstName;<br/>    TextView tvLastName;<br/>    TextView tvContactNo;<br/>    LinearLayout llItemView;<br/><br/>    public RecyclerViewHolder(View itemView) {<br/>        super(itemView);<br/>        llItemView = itemView.findViewById(R.id.<em class="lh">llItemView</em>);<br/>        tvID = itemView.findViewById(R.id.<em class="lh">tvID</em>);<br/>        tvFirstName = itemView.findViewById(R.id.<em class="lh">tvFirstName</em>);<br/>        tvLastName = itemView.findViewById(R.id.<em class="lh">tvLastName</em>);<br/>        tvContactNo = itemView.findViewById(R.id.<em class="lh">tvContactNo</em>);<br/>    }<br/>}</span></pre><blockquote class="li lj lk"><p id="3d05" class="jn jo lh jp b jq jr js jt ju jv jw jx ll jz ka kb lm kd ke kf ln kh ki kj kk ij bi translated">不要忘记在onCreateViewHolder方法中放大列表项的布局文件</p></blockquote><p id="5d92" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">适配器类代码片段如下。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="pd ob l"/></div><figcaption class="oz pa gj gh gi pb pc bd b be z dk translated">RecyclerviewAdapter.java</figcaption></figure><p id="96df" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后打开<strong class="jp ir"><em class="lh">MainActivity.java</em></strong>，用DataModel对象创建私有列表。</p><pre class="km kn ko kp gt oo op oq or aw os bi"><span id="947d" class="ot lp iq op b gy ou ov l ow ox">private List&lt;DataModel&gt; dataModelList;</span></pre><p id="cfe9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">将数据设置为列表</p><pre class="km kn ko kp gt oo op oq or aw os bi"><span id="90a5" class="ot lp iq op b gy ou ov l ow ox">private void setData() {<br/>    dataModelList = new ArrayList&lt;&gt;();<br/>    dataModelList.add(new DataModel(1, "Supun", "Ishara", "+94711234567"));<br/>    dataModelList.add(new DataModel(2, "Jhon", "Smith", "+11711234567"));<br/>    dataModelList.add(new DataModel(3, "Alexa", "Mori", "+23711234567"));<br/>    dataModelList.add(new DataModel(4, "Kasun", "Weerasekara", "+61711234567"));<br/>    dataModelList.add(new DataModel(5, "Ishara", "De Silva", "+91711234567"));<br/>    dataModelList.add(new DataModel(6, "Sanath", "Weerawarana", "+67711234567"));<br/>    dataModelList.add(new DataModel(7, "Jhone", "English", "+41711234567"));<br/>    dataModelList.add(new DataModel(8, "April", "Beauty", "+32711234567"));<br/>}</span></pre><p id="0f66" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后在<strong class="jp ir"> <em class="lh"> onCreate() </em> </strong>方法中初始化视图和适配器</p><pre class="km kn ko kp gt oo op oq or aw os bi"><span id="3601" class="ot lp iq op b gy ou ov l ow ox">protected void onCreate(Bundle savedInstanceState) {<br/>    super.onCreate(savedInstanceState);<br/>    setContentView(R.layout.<em class="lh">activity_main</em>);<br/><br/>    // Instantiate the recyclerView<br/>    recyclerView = findViewById(R.id.<em class="lh">recyclerView</em>);<br/><br/>    recyclerView.setHasFixedSize(true);<br/>    LinearLayoutManager layoutManager = new LinearLayoutManager(this, LinearLayoutManager.<em class="lh">VERTICAL</em>, false);<br/>    recyclerView.setLayoutManager(layoutManager);<br/>    recyclerView.setFocusable(false);<br/>    setData();<br/>    setDataToRecyclerView();<br/>}</span></pre><p id="3262" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，将数据设置到适配器</p><pre class="km kn ko kp gt oo op oq or aw os bi"><span id="1b6d" class="ot lp iq op b gy ou ov l ow ox">private void setDataToRecyclerView() {<br/>    RecyclerViewAdapter adapter = new RecyclerViewAdapter(dataModelList);<br/>    recyclerView.setAdapter(adapter);<br/>}</span></pre></div><div class="ab cl oc od hu oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="ij ik il im in"><h1 id="fe75" class="lo lp iq bd lq lr oj lt lu lv ok lx ly lz ol mb mc md om mf mg mh on mj mk ml bi translated">3.)实现点击监听器及其用法。</h1><p id="f59e" class="pw-post-body-paragraph jn jo iq jp b jq mm js jt ju mn jw jx jy mo ka kb kc mp ke kf kg mq ki kj kk ij bi translated">当单击RecyclerView中的列表项时，必须管理click事件。因此我们需要监听click事件，所以我们用<strong class="jp ir"><em class="lh">onitemtouchlistener</em></strong>实现了click<strong class="jp ir"><em class="lh">RecyclerTouchListener</em></strong>，这样每个clack事件都会触发recyclerview及其列表项。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/ec201e8a588ab31fcabab21e81bc4318.png" data-original-src="https://miro.medium.com/v2/resize:fit:870/format:webp/1*nLLZRNhQw6Qr-SFnJeFylg.png"/></div><figcaption class="oz pa gj gh gi pb pc bd b be z dk translated">代码的架构</figcaption></figure><p id="398e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这里，我创建了<strong class="jp ir"><em class="lh">recyclerviewclicklelistener</em></strong>用于传输信息，以通知哪个项目被单击。</p><pre class="km kn ko kp gt oo op oq or aw os bi"><span id="5f12" class="ot lp iq op b gy ou ov l ow ox">package com.androidapp.supunisharaweerasekara.recyclerviewapp.interfaces;<br/><br/>import android.view.View;<br/><br/>public interface RecyclerViewClickListener {<br/>    void onClick(View view, int position);<br/>}</span></pre><p id="4ff1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后在<strong class="jp ir">上添加实现<em class="lh">RecyclerTouchListener</em>T7】</strong></p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="pd ob l"/></div><figcaption class="oz pa gj gh gi pb pc bd b be z dk translated"><strong class="ak"><em class="pe">RecyclerTouchListener.java</em></strong></figcaption></figure></div><div class="ab cl oc od hu oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="ij ik il im in"><h1 id="5338" class="lo lp iq bd lq lr oj lt lu lv ok lx ly lz ol mb mc md om mf mg mh on mj mk ml bi translated"><strong class="ak">如何在recyclerView上集成RecyclerTouchListener。</strong></h1><p id="7d5a" class="pw-post-body-paragraph jn jo iq jp b jq mm js jt ju mn jw jx jy mo ka kb kc mp ke kf kg mq ki kj kk ij bi translated">我们需要调用recyclerview对象和<strong class="jp ir"><em class="lh">addOnItemTouchListener</em></strong>进行点操作。在我的示例中，我创建了另一个活动来传递数据，并在单击recyclerview列表项时显示在新活动上。这里您可以看到实现。</p><pre class="km kn ko kp gt oo op oq or aw os bi"><span id="805a" class="ot lp iq op b gy ou ov l ow ox">recyclerView.addOnItemTouchListener(new RecyclerTouchListener(this, recyclerView, new RecyclerViewClickListener() {<br/>    @Override<br/>    public void onClick(View view, int position) {<br/>        String firstName = dataModelList.get(position).getFirstName();<br/>        String lastName = dataModelList.get(position).getLastName();<br/>        String contactNo = dataModelList.get(position).getContactNo();<br/>        int id = dataModelList.get(position).getId();<br/>        Intent intent = new Intent(MainActivity.this, ResultActivity.class);<br/>        intent.putExtra("firstName", firstName);<br/>        intent.putExtra("lastName", lastName);<br/>        intent.putExtra("contactNo", contactNo);<br/>        intent.putExtra("id", id);<br/>        MainActivity.this.startActivity(intent);<br/>    }<br/>}));</span></pre><p id="3a4e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我创建了另一个名为<strong class="jp ir"><em class="lh">result activity</em></strong>的活动，它显示了来自主活动的数据。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="pd ob l"/></div><figcaption class="oz pa gj gh gi pb pc bd b be z dk translated">ResultActivity.java</figcaption></figure></div><div class="ab cl oc od hu oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="ij ik il im in"><p id="9cf8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在就这些了...我知道这个具体例子的内容有限。我希望很快更新更多的文章，包括不同的例子和应用的细节。我会用新的文章链接更新这个页面。</p><p id="e601" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">谢谢你读了这篇文章，我希望你喜欢，鼓掌吧。</p></div></div>    
</body>
</html>