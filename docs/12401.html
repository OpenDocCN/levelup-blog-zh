<html>
<head>
<title>Refactoring 005 — Replace Comment with Function Name</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">重构005 —用函数名替换注释</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/refactoring-005-replace-comment-with-function-name-76dc38114502?source=collection_archive---------10-----------------------#2022-06-07">https://levelup.gitconnected.com/refactoring-005-replace-comment-with-function-name-76dc38114502?source=collection_archive---------10-----------------------#2022-06-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="62d5" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated"><em class="kf">评论应该增值。还有函数名。</em></h2></div><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi kg"><img src="../Images/326aa18c5493593469c8e0ace150bae6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wPzOkXqX_wvsNcs-iUqsqw.png"/></div></div></figure><blockquote class="ks kt ku"><p id="085b" class="kv kw kx ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="iq">TL；大卫:不要评论你正在做的事情。说出你在做什么。</em></p></blockquote><h1 id="f0cc" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">解决的问题</h1><ul class=""><li id="c98b" class="mk ml iq ky b kz mm lc mn mo mp mq mr ms mt lr mu mv mw mx bi translated">糟糕的名字</li><li id="f565" class="mk ml iq ky b kz my lc mz mo na mq nb ms nc lr mu mv mw mx bi translated">评论</li></ul><h1 id="08dd" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">相关代码气味</h1><div class="nd ne gp gr nf ng"><a href="https://blog.devgenius.io/code-smell-05-comment-abusers-feec3aeb926" rel="noopener  ugc nofollow" target="_blank"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd ir gy z fp nl fr fs nm fu fw ip bi translated">代码气味05 —评论滥用者</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">代码有很多注释。注释与实现联系在一起，很难维护。</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">blog.devgenius.io</p></div></div><div class="np l"><div class="nq l nr ns nt np nu kq ng"/></div></div></a></div><div class="nd ne gp gr nf ng"><a href="https://blog.devgenius.io/code-smell-75-comments-inside-a-method-c911f8729ee1" rel="noopener  ugc nofollow" target="_blank"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd ir gy z fp nl fr fs nm fu fw ip bi translated">代码味道75 —方法内部的注释</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">注释通常是一种代码味道。将它们插入到方法中需要紧急重构。</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">blog.devgenius.io</p></div></div><div class="np l"><div class="nv l nr ns nt np nu kq ng"/></div></div></a></div><div class="nd ne gp gr nf ng"><a href="https://blog.devgenius.io/code-smell-06-too-clever-programmer-bffec35daf0b" rel="noopener  ugc nofollow" target="_blank"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd ir gy z fp nl fr fs nm fu fw ip bi translated">代码气味06——太聪明的程序员</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">难以阅读的代码。没有语义的名字很棘手。有时使用语言的意外复杂性。</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">blog.devgenius.io</p></div></div><div class="np l"><div class="nw l nr ns nt np nu kq ng"/></div></div></a></div><h1 id="aa5a" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">步伐</h1><ol class=""><li id="332e" class="mk ml iq ky b kz mm lc mn mo mp mq mr ms mt lr nx mv mw mx bi translated">用前面的注释命名函数</li><li id="12d4" class="mk ml iq ky b kz my lc mz mo na mq nb ms nc lr nx mv mw mx bi translated">删除注释</li></ol><h1 id="8962" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">示例代码</h1><h2 id="edf0" class="ny lt iq bd lu nz oa dn ly ob oc dp mc mo od oe me mq of og mg ms oh oi mi oj bi translated">以前</h2><pre class="kh ki kj kk gt ok ol om on aw oo bi"><span id="0742" class="ny lt iq ol b gy op oq l or os">&lt;?</span><span id="bd13" class="ny lt iq ol b gy ot oq l or os">function repl($str) {<br/>  // Replaces with spaces the braces </span><span id="7bf2" class="ny lt iq ol b gy ot oq l or os">  $str = str_replace(array("\{","\}")," ",$str);<br/>  return $str;</span><span id="7798" class="ny lt iq ol b gy ot oq l or os">}</span></pre><h2 id="7b9f" class="ny lt iq bd lu nz oa dn ly ob oc dp mc mo od oe me mq of og mg ms oh oi mi oj bi translated">在...之后</h2><pre class="kh ki kj kk gt ok ol om on aw oo bi"><span id="f54d" class="ny lt iq ol b gy op oq l or os">&lt;?</span><span id="1b69" class="ny lt iq ol b gy ot oq l or os">// 1. Name the function with the previous comment<br/>// 2. Remove the Comment</span><span id="01a4" class="ny lt iq ol b gy ot oq l or os">function replaceBracesWithSpaces($input) {</span><span id="295d" class="ny lt iq ol b gy ot oq l or os">  return str_replace(array("\{","\}")," ", $input);</span><span id="b676" class="ny lt iq ol b gy ot oq l or os">}</span></pre><h1 id="65de" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">类型</h1><p id="691e" class="pw-post-body-paragraph kv kw iq ky b kz mm jr lb lc mn ju le mo ou lh li mq ov ll lm ms ow lp lq lr ij bi translated">[X]半自动</p><p id="321a" class="pw-post-body-paragraph kv kw iq ky b kz la jr lb lc ld ju le mo lg lh li mq lk ll lm ms lo lp lq lr ij bi translated">一些ide有这种重构，尽管命名不是完全自动的。</p><h1 id="7564" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">为什么代码更好？</h1><p id="fd32" class="pw-post-body-paragraph kv kw iq ky b kz mm jr lb lc mn ju le mo ou lh li mq ov ll lm ms ow lp lq lr ij bi translated">评论总是骗人的。</p><p id="d0c6" class="pw-post-body-paragraph kv kw iq ky b kz la jr lb lc ld ju le mo lg lh li mq lk ll lm ms lo lp lq lr ij bi translated">很难维持评论。</p><p id="554b" class="pw-post-body-paragraph kv kw iq ky b kz la jr lb lc ld ju le mo lg lh li mq lk ll lm ms lo lp lq lr ij bi translated">相反，函数是活的，不言自明的。</p><h1 id="573e" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">限制</h1><p id="54a4" class="pw-post-body-paragraph kv kw iq ky b kz mm jr lb lc mn ju le mo ou lh li mq ov ll lm ms ow lp lq lr ij bi translated">和往常一样，非常重要的设计决策是有效的注释。</p><h1 id="83f2" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">标签</h1><ul class=""><li id="03f5" class="mk ml iq ky b kz mm lc mn mo mp mq mr ms mt lr mu mv mw mx bi translated">评论</li></ul><h1 id="9b98" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">请参见</h1><p id="2639" class="pw-post-body-paragraph kv kw iq ky b kz mm jr lb lc mn ju le mo ou lh li mq ov ll lm ms ow lp lq lr ij bi translated"><a class="ae ox" href="https://medium.com/dev-genius/what-exactly-is-a-name-part-i-the-quest-b812a4b1e0bf" rel="noopener">名字里有什么？</a></p><h1 id="44a5" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">信用</h1><p id="8a76" class="pw-post-body-paragraph kv kw iq ky b kz mm jr lb lc mn ju le mo ou lh li mq ov ll lm ms ow lp lq lr ij bi translated">图片来自<a class="ae ox" href="https://pixabay.com/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae ox" href="https://pixabay.com/users/texler-3778340/" rel="noopener ugc nofollow" target="_blank"> Jannik Texler </a></p></div><div class="ab cl oy oz hu pa" role="separator"><span class="pb bw bk pc pd pe"/><span class="pb bw bk pc pd pe"/><span class="pb bw bk pc pd"/></div><div class="ij ik il im in"><p id="3ade" class="pw-post-body-paragraph kv kw iq ky b kz la jr lb lc ld ju le mo lg lh li mq lk ll lm ms lo lp lq lr ij bi translated">本文是重构系列的一部分。</p></div></div>    
</body>
</html>