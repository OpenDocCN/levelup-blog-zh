<html>
<head>
<title>Crockford Constructors</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">克罗克福德构造函数</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/crockford-constructors-bbfd66d58fbc?source=collection_archive---------12-----------------------#2021-04-15">https://levelup.gitconnected.com/crockford-constructors-bbfd66d58fbc?source=collection_archive---------12-----------------------#2021-04-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/7c1aed741910834d6123c039f18968b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T8-gJlEZooxnP6xmoMBzbA.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由伊万·埃纳奥在Unsplash提供</figcaption></figure><blockquote class="kf kg kh"><p id="519d" class="ki kj kk kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg im bi translated">从我的<a class="ae lh" href="https://fek.io/blog/crockford-constructors/" rel="noopener ugc nofollow" target="_blank">博客文章</a>和创建Crockford风格的构造函数。</p></blockquote><p id="a4da" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">在之前的<a class="ae lh" rel="noopener ugc nofollow" target="_blank" href="/crockford-objects-in-javascript-9947a65fc5e8">帖子</a>中，我讨论了如何使用闭包从函数中创建对象。我的这个例子是基于道格拉斯·克洛克福特在2018年JS Fest上的一次演讲。</p><h1 id="9668" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">构造器</h1><p id="61d6" class="pw-post-body-paragraph ki kj it kl b km mj ko kp kq mk ks kt li ml kw kx lj mm la lb lk mn le lf lg im bi translated">构造函数是一些函数或方法，用于用对象创建时需要封装的值来初始化对象。如果在JavaScript中使用<code class="fe mo mp mq mr b">class</code>语法，实际上有一个名为<code class="fe mo mp mq mr b">constructor</code>的构造函数内置方法。</p><p id="8d05" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">Crockford在这个<a class="ae lh" href="https://www.youtube.com/watch?v=XFTOG895C7c" rel="noopener ugc nofollow" target="_blank">演讲</a>中讨论的一件事是我们如何为定义函数定义构造函数参数。他建议只传递一个对象到函数中。</p><p id="75b3" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">JavaScript允许我们向函数传递任意多的参数。我们遇到的问题是，当你给函数添加一个参数时会发生什么，你必须重构代码中调用那个函数的每一个地方。</p><p id="6a69" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">让我们以定义employee对象的函数为例。对于这个例子，我们将使用一个函数，它为对象中的每个属性都提供了参数；</p><figure class="ms mt mu mv gt ju"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="f56a" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">现在，假设我们需要向该对象添加一个员工编号。我们现在必须将该参数添加到代码中使用该函数的每个地方。</p><figure class="ms mt mu mv gt ju"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="110b" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">将每个值作为单独的参数传递的一个问题是，可能不需要所有的参数。在很多用例中，我们不需要将所有可能的参数都传递给构造函数。在一些用例中，我们可能希望使用默认值。</p><p id="5604" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">更好的方法是将一个参数对象传递给构造函数。</p><figure class="ms mt mu mv gt ju"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="0057" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">这种方法的好处之一是我们可以使用JavaScript析构来从parameters对象中获取特定的值。在上面的例子中，我们只是把需要的参数名放在花括号里，如果这个属性存在，我们可以在函数体中使用它。</p><p id="fd95" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">当您有可能不需要或不可选的参数时，这种技术也非常方便。参数的顺序也无关紧要。在创建参数对象文本时，我们可以按任意顺序放置属性。</p><h1 id="0dd0" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated"><strong class="ak">总结</strong></h1><p id="1727" class="pw-post-body-paragraph ki kj it kl b km mj ko kp kq mk ks kt li ml kw kx lj mm la lb lk mn le lf lg im bi translated">通过使用函数对象而不是单独的参数，我们使得构造函数更加灵活。我们还利用新的JavaScript特性来可选地检查和析构parameters对象，以获得我们需要的值。</p></div></div>    
</body>
</html>