<html>
<head>
<title>Github commands to start your version control journey : part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">开始版本控制之旅的Github命令:第2部分</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/github-commands-to-start-your-version-control-journey-part-2-c8599bdc0253?source=collection_archive---------4-----------------------#2022-10-09">https://levelup.gitconnected.com/github-commands-to-start-your-version-control-journey-part-2-c8599bdc0253?source=collection_archive---------4-----------------------#2022-10-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="9b24" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这一部分中，我们将处理所有常见的场景，在这些场景中，我们想要“修复”一些“问题”！</p><p id="01a0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">请从这篇文章开始</strong></p><div class="ko kp gp gr kq kr"><a href="https://ithinkbot.com/github-commands-to-start-your-version-control-journey-part-1-cae9cec5bffa" rel="noopener  ugc nofollow" target="_blank"><div class="ks ab fo"><div class="kt ab ku cl cj kv"><h2 class="bd iu gy z fp kw fr fs kx fu fw is bi translated">开始版本控制之旅的Github命令:第1部分</h2><div class="ky l"><h3 class="bd b gy z fp kw fr fs kx fu fw dk translated">在本教程中，我们将学习让你开始使用github的命令</h3></div><div class="kz l"><p class="bd b dl z fp kw fr fs kx fu fw dk translated">ithinkbot.com</p></div></div><div class="la l"><div class="lb l lc ld le la lf lg kr"/></div></div></a></div><p id="b2ca" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在我们已经在第1部分中设置了git快速提醒一下，我们有两个文件存放的地方。第一个是本地(您的计算机)，第二个是远程(在云上)。当您对文件进行更改时，它们总是先在本地进行。这些提交(当您使用<code class="fe lh li lj lk b">git commit -m “comment” </code>提交时)总是本地的。这就是为什么即使没有互联网你也可以在上面工作。使用git push将您的提交推送到云/远程是一个好习惯—</p><p id="38b0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在我们开始之前，这是我们目前的状态。我们有1个未更改的跟踪文件和作为未跟踪文件的<code class="fe lh li lj lk b">b.txt</code>。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi ll"><img src="../Images/1a43838b7885acb9033a8bc2dead283f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u9Wgzfp75kPja-j2-w87yg.png"/></div></div></figure><p id="8f0c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">与仓库的云版本/远程版本相比，git push显示一切都是最新的。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi lw"><img src="../Images/1c45c4bc6f1acf93b21cee83df8681fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H1zAqgbCAnwW_c-YFPu79Q.png"/></div></div></figure><p id="b313" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Git日志显示以前的提交及其详细信息(提交)分支为<code class="fe lh li lj lk b">HEAD</code>，远程分支为<code class="fe lh li lj lk b">origin/main</code></p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi lx"><img src="../Images/9a9583d4effa07e1d02b85c1949d1c82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jW9BO2chxyAIcaLB5DSKaA.png"/></div></div></figure><p id="478d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">每次提交都用一个40个字符的哈希来标识(最后一个哈希<code class="fe lh li lj lk b">b976a254576bdfa8e6ba40c93f32c0eca57b299a</code>)。每个散列都是唯一的，这就是git跟踪每次提交的方式。</p><h2 id="b196" class="ly lz it bd ma mb mc dn md me mf dp mg kb mh mi mj kf mk ml mm kj mn mo mp mq bi translated">哎呀，我犯了一个错误:</h2><p id="1dbd" class="pw-post-body-paragraph jq jr it js b jt mr jv jw jx ms jz ka kb mt kd ke kf mu kh ki kj mv kl km kn im bi translated">假设我们提交了一个文件更改，然后发现我们需要恢复——可以使用git revert来恢复到之前的版本，如下所示。恢复后可能会出现错误(也如下所示)。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi mw"><img src="../Images/6355676613762c498621f779ae09c3af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*udTogW8ZnqCDJj6LzfwOXg.png"/></div></div></figure><p id="a7a4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是因为<code class="fe lh li lj lk b">HEAD</code>指的是您的本地环境，而<code class="fe lh li lj lk b">b976a</code>是您(通过<code class="fe lh li lj lk b">pull</code>合并的)分支顶端的SHA。所以，Git不知道是删除文件还是保留文件。您应该首先确认是否要保留该文件。这将是暂存文件(如果您想保留它)(<code class="fe lh li lj lk b">add</code>)或删除文件(<code class="fe lh li lj lk b">rm</code>)。最后，创建一个<code class="fe lh li lj lk b">commit</code>来解决冲突。在这里，我演示了删除文件以修复远程和本地分支之间的合并冲突。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi mx"><img src="../Images/8caa37681e43ace57972dce11deb38b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6Ldq5rSvNvKXiLh0Qz8aqQ.png"/></div></div></figure></div><div class="ab cl my mz hx na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="im in io ip iq"><h2 id="5463" class="ly lz it bd ma mb mc dn md me mf dp mg kb mh mi mj kf mk ml mm kj mn mo mp mq bi translated">正在本地还原更改</h2><p id="a5ea" class="pw-post-body-paragraph jq jr it js b jt mr jv jw jx ms jz ka kb mt kd ke kf mu kh ki kj mv kl km kn im bi translated">现在，假设我们有一个问题，我们只需要向提交添加1个文件，但我们意外地添加了2个文件。让我们创建两个文件<code class="fe lh li lj lk b">abc.txt</code>和<code class="fe lh li lj lk b">abcd.txt </code>，并用regex在git上添加它们</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi nf"><img src="../Images/ab62d694cc3ca2c897c280e14db260c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tTieUScs78UnNXUrhmWsnw.png"/></div></div></figure><p id="6061" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在我们需要删除<code class="fe lh li lj lk b">abcd.txt</code>，因为我们不打算添加它。我们使用git reset命令来实现。Git reset <code class="fe lh li lj lk b">&lt;filename&gt;</code>允许您从阶段变更中移除该文件。一旦我们通过git add <code class="fe lh li lj lk b">&lt;filename&gt;</code>将文件添加到repo中，它就变成了staged。Staged字面意思是这些文件中的更改被跟踪，并且是每次提交时生成的散列的一部分。如下图所示，我们重置了<code class="fe lh li lj lk b">abcd.txt</code>。然后被推。由于我们没有提交任何更改，git恢复了“<code class="fe lh li lj lk b">Everything up-to-date</code>”。因此，我们提交了变更，然后将变更推送到远程存储库。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi mw"><img src="../Images/413f274f2baf9c74b2bcb9b9e8e84187.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5DSnQ0y8yCqc721n_wsn8Q.png"/></div></div></figure></div><div class="ab cl my mz hx na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="im in io ip iq"><h2 id="8177" class="ly lz it bd ma mb mc dn md me mf dp mg kb mh mi mj kf mk ml mm kj mn mo mp mq bi translated">从远程恢复更改</h2><p id="bacc" class="pw-post-body-paragraph jq jr it js b jt mr jv jw jx ms jz ka kb mt kd ke kf mu kh ki kj mv kl km kn im bi translated">比方说，您将变更推送到远程存储库，然后需要移除它。您可以从存储库中删除该文件，并提交这些更改。但是请记住，远程上的前一次提交仍将该文件作为历史记录。如果有提交给remote的敏感内容，您也想从remote分支中删除，那么您将不得不做更多的工作。</p><p id="c3d4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你将需要BFG工具。</p><p id="1af8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里是https://rtyley.github.io/bfg-repo-cleaner/ BFG的主要文档:<a class="ae ng" href="https://rtyley.github.io/bfg-repo-cleaner/" rel="noopener ugc nofollow" target="_blank"><strong class="js iu"/></a></p><p id="5e7a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">例如，要删除包含敏感数据的文件(<code class="fe lh li lj lk b">passwords.txt)</code>)并保持最新提交不变，请运行:</p><pre class="lm ln lo lp gt nh lk ni nj aw nk bi"><span id="a7fc" class="ly lz it lk b gy nl nm l nn no">$ bfg --delete-files passwords.txt</span></pre><p id="38e8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">敏感数据删除后，您必须将您的更改强制推送到GitHub。强制推送会重写存储库历史记录，从而从提交历史记录中删除敏感数据。如果强制推送，可能会覆盖其他人基于其工作的提交。</p><pre class="lm ln lo lp gt nh lk ni nj aw nk bi"><span id="6bf4" class="ly lz it lk b gy nl nm l nn no">$ git push --force</span></pre><p id="1ca5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">参见<a class="ae ng" href="https://rtyley.github.io/bfg-repo-cleaner/" rel="noopener ugc nofollow" target="_blank"> BFG回购清洗器</a>的文档，了解完整的用法和下载说明。</p></div><div class="ab cl my mz hx na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="im in io ip iq"><p id="f21a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后一点，当您创建一个存储库时，您不应该在默认情况下处理主分支，而应该总是创建一个新的分支。更多关于分支的内容将在下一篇第3部分中讨论(仅针对分支)。考虑存储库的结构(在第4部分会有更多的介绍)。有许多可用的模板。创建结构后，将敏感文件添加到<code class="fe lh li lj lk b">.gitignore</code>列表中。我建议使用一种通用模式来识别所有敏感文件，理想情况下，您永远不应该提交这些文件。</p><p id="3db2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">有两种基本防御。</p><ol class=""><li id="af83" class="np nq it js b jt ju jx jy kb nr kf ns kj nt kn nu nv nw nx bi translated"><strong class="js iu">切勿使用</strong> <code class="fe lh li lj lk b"><strong class="js iu">git add *</strong></code>添加文件夹中的所有文件</li><li id="8c6c" class="np nq it js b jt ny jx nz kb oa kf ob kj oc kn nu nv nw nx bi translated"><strong class="js iu">总是将敏感文件添加到</strong> <code class="fe lh li lj lk b"><strong class="js iu">.gitignore</strong></code></li></ol><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi od"><img src="../Images/4248ab53d96ae767dee54bd7ff295755.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cDq5y68bCWRNbOK3EmB9Gg.png"/></div></div></figure><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi oe"><img src="../Images/41a390b7a0c2b5425ef74c077aea4182.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3EBNT2YBU53MpYWvbCj-2w.png"/></div></div></figure><p id="91d1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果我帮助你摆脱了困境，请+50英镑并订阅。</p><p id="6f6c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这里看看如何加速你的熊猫</p><div class="ko kp gp gr kq kr"><a href="https://ithinkbot.com/deeper-dive-alternatives-to-our-beloved-pandas-polars-part-1-e34d31398006" rel="noopener  ugc nofollow" target="_blank"><div class="ks ab fo"><div class="kt ab ku cl cj kv"><h2 class="bd iu gy z fp kw fr fs kx fu fw is bi translated">更深的潜水:我们心爱的熊猫的替代品(极地第一部分)</h2><div class="ky l"><h3 class="bd b gy z fp kw fr fs kx fu fw dk translated">熊猫几乎不需要它自己的介绍。它是最常用的数据操作库之一。熊猫…</h3></div><div class="kz l"><p class="bd b dl z fp kw fr fs kx fu fw dk translated">ithinkbot.com</p></div></div><div class="la l"><div class="of l lc ld le la lf lg kr"/></div></div></a></div><p id="8858" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">请<a class="ae ng" href="https://ithinkbot.com/membership" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu"> <em class="og">成为会员</em></strong></a><em class="og"/><a class="ae ng" href="https://ithinkbot.com/subscribe" rel="noopener ugc nofollow" target="_blank"><strong class="js iu"><em class="og">订阅</em> </strong> </a>获取更多简明教程。</p></div></div>    
</body>
</html>