# 让虫子成为你的朋友

> 原文：<https://levelup.gitconnected.com/let-the-bug-be-your-friend-3d42e4030f66>

虽然我们都希望这永远不会发生，但是我们在生产的时候还是会把错误发布到这个世界上。不一定是世界末日；你可以帮助控制叙述，把它变成积极的——嗯，越积极越好。

![](img/669e0f7fa6d6ded573966f551f27462c.png)

马修·施瓦茨在 [Unsplash](https://unsplash.com/s/photos/bug?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上的照片

上周四我向全世界发布了一个软件 bug。这不是一次火车事故，但这是因为一个我没有考虑到的情况。在我的团队中，我们没有任何实际的用户测试，所以所有的测试都落在我的肩上，还有几个管理员，他们在可能的时候检查我们发布的内容。同样不方便的是，我们没有特定条件的测试环境——这个场景就是其中之一。

这个特殊的错误使程序崩溃了。用户的更改被保存，但是在用户退出程序的方式中产生了一个竞争条件(当时我并没有意识到)。因此，显而易见的做法是重现错误，然后通过代码解决这个问题。我做到了。

# 修复前

如果你有选择的话，尽可能快地面对问题。发送电子邮件或任何大众传播方式，让每个人都知道。甚至是简单的“嘿，我们发现了一个问题。当用户喋喋不休时，就会发生这种情况。我们现在正在制定解决方案。”如果这是一个灾难性的问题，那么快速回滚发布版本可能是值得的，而不是冒着其他用户更加沮丧的风险。回滚的决定与您正在工作的系统的大小、问题的范围等因素成正比。

对于用户来说，最糟糕的事情莫过于偶然发现一个问题，并且觉得这个问题完全被忽视了，他们无法完成自己的工作。当然，软件带着错误发布是很糟糕的，但如果你拒绝承认这一点，在电话开始涌入时一次处理一个电话，那就更糟糕了。

所以，在让每个人都知道有问题之后，你就开始钻研代码。你最终会找到罪犯。接下来，您测试解决方案，如果一切顺利，您就有了一个可以实现的补丁。

# 修复后

修复后的后续步骤是经常被忽视的关键步骤。许多开发人员认为，一旦修复到位，就大功告成了。在大多数情况下，这不是真的。为了变得更好，你真的需要看看这个过程是如何发生的。我曾在遵循不同严格范式的地方工作过，比如“5 个为什么”，但我不是一个粉丝。作为一个规则，我试着遵循这个模板，并在电子邮件中解释它。

## 描述问题

你首先应该关注的是这个问题是如何发生的。回答以下问题:

*   用户做什么会触发这个问题？
*   你为这个问题的发生做了什么(代码做了什么)

就是这样；不要关注这一节的其他内容。

## 描述解决方案

很明显你已经解决了问题，所以你需要解释你做了什么来解决这个问题。

*   代码的行为有何不同？
*   用户的下一个期望功能是什么？
*   这种变化是否涉及他们应该注意的任何其他组件？(在理想世界中，不应该这样，但是旧的代码库有时确实有相互关联的部分，所以尽可能地把它们拼出来)

## 描述经验教训/预防措施

这一步至关重要。解释你将来会做什么不同的事情来防止将来出现这种中断。

*   如果问题是由于不知道一个用户有一个特定的做事方法，那就和几个用户一起回顾一下变化。
*   如果问题是由于你习惯性的编写代码的方式造成的，但是它不起作用，那么从现在开始，你要明确指出你要做什么不同的事情。
*   这是因为没有针对这种情况的单元测试吗？说明你已经添加了那些单元测试，并且会留意那些特殊的异常情况。

## 道歉

最后，你犯了一个错误。它发生了。承认吧。一定要让别人知道你后悔这件事的发生——你感觉很糟糕，这让你很困扰。你是专业人士，这些事应该与你有关。

# 不要这样做

在上面的任何一个步骤中，你都可能掉进一个陷阱，这个陷阱会立刻把这种情况变成一场噩梦——责备。在任何情况下，你都不能把责任推卸给自己。这可能是真的，甚至可能是有保证的，但是一旦你这么做了，所有的可信度就立刻消失了。

我多次看到这种情况，“嗯，发生这种情况的原因是因为我们没有任何测试人员来发现这一点，我们必须在没有任何帮助的情况下自己完成所有的测试。”那叫‘替罪羊’；它尖叫着，“我不是真正的责任人，我是受害者。”更重要的是，它表明你对这个问题不承担任何责任。

# 把它变成积极的

先拥有问题；对你将要提升自己的事情提出建议。在电子邮件的结尾或者你决定的任何交流媒介，甚至可以询问其他人在帮助你提高代码质量方面的任何建议。

我坚信人们真心喜欢帮助别人。如果你写了一个故事，把责任直接放在你的肩膀上，然后你寻求帮助如何改进，你会惊讶地发现出现了许多建议，可能包括，“嗯，如果我们在你发布之前让一些专门的用户测试这个会怎么样？”甚至，“如果在你开始工作之前，我们让一个用户走一遍这个问题，会有帮助吗？”

这些可能是你一直以来的要求，但是通过展示你对质量承诺的认真，我相信你的努力会得到整个组织的响应。