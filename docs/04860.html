<html>
<head>
<title>Write elegant Python code with these 10 tricks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用这10个技巧编写优雅的Python代码</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/write-elegant-python-code-with-these-10-tricks-43ae7b1aa481?source=collection_archive---------7-----------------------#2020-07-20">https://levelup.gitconnected.com/write-elegant-python-code-with-these-10-tricks-43ae7b1aa481?source=collection_archive---------7-----------------------#2020-07-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7c3b" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">开始编写优雅的代码吧！</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/007eb7580464c47d54845947c9d92eb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3hsWXbEuB7Fbj0Qn"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">戴维·兰格尔在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="3e4c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Python现在处于编程食物链的顶端。由于它的可读性、通用性和易学性，程序员对它越来越感兴趣。为了让您的Python之旅更容易，我列出了10个技巧，您可以用它们来编写更漂亮的代码。</p><h2 id="b653" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">交换变量</h2><p id="77e7" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">交换两个变量最常用的方法之一是使用一个“<em class="mq">温度</em>”变量。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="0a50" class="ls lt iq ms b gy mw mx l my mz">a = 10<br/>b = 20<br/>print("Before Swapping:", a, b)</span><span id="6c6f" class="ls lt iq ms b gy na mx l my mz">temp = b<br/>b = a<br/>a = temp<br/>print("After Swapping:", a, b)</span></pre><p id="3d20" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将会回来</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="407b" class="ls lt iq ms b gy mw mx l my mz">Before Swapping: 10 20<br/>After Swapping: 20 10</span></pre><p id="02cb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是，同样的操作可以用更简洁的方式来完成。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="6cd1" class="ls lt iq ms b gy mw mx l my mz">a = 10<br/>b = 20<br/>print("Before Swapping:", a, b)</span><span id="6c99" class="ls lt iq ms b gy na mx l my mz">a,b = b,a<br/>print("After Swapping:", a, b)</span></pre><p id="66d5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这也将返回相同的输出。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="5857" class="ls lt iq ms b gy mw mx l my mz">Before Swapping: 10 20<br/>After Swapping: 20 10</span></pre><h2 id="b08e" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">合并两本词典</h2><p id="a14f" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">两个Python字典可以很容易地合并，不需要使用任何函数或方法。您可以使用下面的代码构建一个合并的字典。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="28cf" class="ls lt iq ms b gy mw mx l my mz">dict1 = {'foo': 1, "baz": 2}<br/>dict2= {'bar' : 3}</span><span id="2490" class="ls lt iq ms b gy na mx l my mz">merged_dict = {**dict1, **dict2}<br/>print(merged_dict)</span></pre><p id="8ccf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这段代码将产生一个合并的字典。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="1ff2" class="ls lt iq ms b gy mw mx l my mz">{'foo': 1, 'baz': 2, 'bar': 3}</span></pre><h2 id="fdbf" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">将列表转换为字符串</h2><p id="f9da" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">当你分割一个字符串，然后连接元素时，这个部分非常方便。使用<em class="mq"> join() </em>方法，您可以创建一个字符串，其中序列的元素通过一个<em class="mq"> str </em>分隔符连接起来。</p><p id="64b7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">举个例子，</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="7a86" class="ls lt iq ms b gy mw mx l my mz">phone_no = ['453', '678', '8909']<br/>print( "-".join(phone_no) )</span></pre><p id="edcb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将把列表转换成带“-”分隔符的字符串。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="9ebb" class="ls lt iq ms b gy mw mx l my mz">'453-678-8909'</span></pre><h2 id="9206" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">列表理解</h2><p id="b666" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">列表理解是一种基于现有列表创建列表的简洁方法。人们还认为，这是一种更紧凑、更快速的创建列表的方式。</p><p id="9253" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里有两个使用迭代和列表理解方法创建列表的例子。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="a01c" class="ls lt iq ms b gy mw mx l my mz">table_of_two = []<br/>for i in range(1,11):<br/>    temp = 2 * i<br/>    table_of_two.append(temp)</span><span id="02f9" class="ls lt iq ms b gy na mx l my mz">print(table_of_two)</span></pre><p id="135a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">创建2的乘法表是一种传统的迭代方法。它会回来的</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="4dea" class="ls lt iq ms b gy mw mx l my mz">[2, 4, 6, 8, 10, 12, 14, 16, 18, 20]</span></pre><p id="6c71" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在有了列表理解，一两行代码就能实现。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="9c6c" class="ls lt iq ms b gy mw mx l my mz">table_of_two = [ 2 * i for i in range(1,11)]<br/>print(table_of_two)</span></pre><p id="529f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这段代码将输出2的乘法表。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="7e72" class="ls lt iq ms b gy mw mx l my mz">[2, 4, 6, 8, 10, 12, 14, 16, 18, 20]</span></pre><h2 id="9f49" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">同时处理两个列表</h2><p id="5ab0" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">内置函数zip()接受iterables作为参数并返回一个迭代器。使用这个函数可以更容易地遍历多个iterable。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="c17f" class="ls lt iq ms b gy mw mx l my mz">table_of_two = [ 2 * i for i in range(1,11)]</span><span id="5021" class="ls lt iq ms b gy na mx l my mz">for x,y in zip(range(1,11), table_of_two):<br/>    print('2 * {} = {}'.format(x,y))</span></pre><p id="0ce4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将输出2的乘法表。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="1c7c" class="ls lt iq ms b gy mw mx l my mz">2 * 1 = 2<br/>2 * 2 = 4<br/>2 * 3 = 6<br/>2 * 4 = 8<br/>2 * 5 = 10<br/>2 * 6 = 12<br/>2 * 7 = 14<br/>2 * 8 = 16<br/>2 * 9 = 18<br/>2 * 10 = 20</span></pre><h2 id="5590" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">从多个列表中获取公共值</h2><p id="a1a1" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">很多时候，需要从两个或多个列表或元组中找到公共值。我们可以用一行代码简单地完成它</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="9cbc" class="ls lt iq ms b gy mw mx l my mz">a = [1,2,3]  <br/>b = [2,3,4]</span><span id="7eca" class="ls lt iq ms b gy na mx l my mz">c = set(a) &amp; set(b)</span></pre><p id="87b6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将输出这两个列表中的公共值。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="d3c9" class="ls lt iq ms b gy mw mx l my mz">{2, 3}</span></pre><h2 id="b35e" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">字符串反转</h2><p id="0f19" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">与其他语言不同，Python中的字符串反转非常简单和容易。无需编写循环并从反面打印。你可以简单地这样做。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="8aa1" class="ls lt iq ms b gy mw mx l my mz">name = 'foobazbar'<br/>name[ : :-1]</span></pre><p id="1721" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将简单地返回反转的字符串。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="1f4a" class="ls lt iq ms b gy mw mx l my mz">'rabzaboof'</span></pre><h2 id="fce6" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">分配变量乘法</h2><p id="bd0d" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">语言是关于语法的！在大多数语言中，我们可以一次给一个变量赋值。但是，Python允许你给多个变量赋值。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="d64c" class="ls lt iq ms b gy mw mx l my mz">name, job = 'foobazbar', 'Analyst'</span><span id="ace6" class="ls lt iq ms b gy na mx l my mz">print(name)<br/>print(job)</span></pre><p id="326c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上面的代码将输出</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="ae73" class="ls lt iq ms b gy mw mx l my mz">foobazbar<br/>Analyst</span></pre><h2 id="75eb" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">dir()函数</h2><p id="a12f" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">内置的dir()方法允许你知道一个对象的属性和方法列表。对象可以是任何函数、模块、列表、字典等。当你没有关于模块的先验知识时，它变得非常有用。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="e640" class="ls lt iq ms b gy mw mx l my mz">name = 'foobazbar'<br/>dir(name)</span></pre><p id="2bdc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将返回字符串对象的所有方法和属性。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nb"><img src="../Images/be883eee89f58cbadf9c8eb8cd8e7669.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EJLwJqKZNU9RuL17anovsw.png"/></div></div></figure><h2 id="9eab" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">乘法字符串</h2><p id="2ae8" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">Python允许你将字符串相乘。不仅仅是数字，它还允许你乘以字符串。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="68f6" class="ls lt iq ms b gy mw mx l my mz">name = 'foo' * 3<br/>print(name)</span></pre><p id="8cfe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将乘以字符串并返回以下输出。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="3c2d" class="ls lt iq ms b gy mw mx l my mz">foofoofoo</span></pre><h2 id="65da" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">总结</h2><p id="08c1" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">我希望这些Python技巧能帮助你创建更好更紧凑的代码。</p><p id="c838" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">感谢阅读！</strong></p><p id="bcba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">和平！</strong></p></div></div>    
</body>
</html>