<html>
<head>
<title>Dear Apple — A Letter From a Non-Apple Developer</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">亲爱的苹果——一封来自非苹果开发者的信</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/dear-apple-a-letter-from-a-non-apple-developer-df229f234147?source=collection_archive---------11-----------------------#2021-11-02">https://levelup.gitconnected.com/dear-apple-a-letter-from-a-non-apple-developer-df229f234147?source=collection_archive---------11-----------------------#2021-11-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5c51" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">苹果的围墙花园发展方式的问题</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2b121e65b89d763c902de2fcb17f43aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TZHQjpETRIoEs9pY"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae ky" href="https://unsplash.com/@truemaulik?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Maulik Sutariya </a>拍摄的照片</figcaption></figure><p id="667e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我目前正在与一家公司合作，我们正在为客户创建一个简单的应用程序。这是一个较小的项目，为每个平台创建一个原生应用程序没有意义。</p><p id="0d09" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然有一些很好的工具来构建跨平台的应用程序，但它们要么不是iOS上的选项，因为web应用程序会错过web推送通知，要么会带来不必要的障碍，比如你必须拥有一台Mac才能构建任何类型的iOS应用程序。</p><p id="2471" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于像我这样没有任何设备的开发者来说，苹果让他们几乎不可能开发出在他们平台上也能运行的应用。</p><h1 id="4291" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">渐进式网络应用</h1><p id="08c7" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">最初的想法是创建一个渐进式网络应用程序(PWA)。这将是一个完美的用例，我是web应用程序的忠实粉丝，因为它们易于开发并且(几乎)在任何地方都能工作。当我几年前创建我的第一个PWA时，它们在iOS上根本不受支持。值得称赞的是，自那以后这种情况已经发生了变化，<a class="ae ky" href="https://love2dev.com/pwa/ios/" rel="noopener ugc nofollow" target="_blank">现代iOS版本(13+)支持PWAs </a>。不过苹果的实现还是有局限性的。它们不支持web推送通知，不幸的是，我们应用程序的最大需求之一是接收推送通知的能力，这意味着PWA不是一个选项。</p><p id="1247" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://developers.google.com/web/updates/2015/03/push-notifications-on-the-open-web" rel="noopener ugc nofollow" target="_blank"> Chrome从2015年</a>开始支持网页推送通知。遗憾的是<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/API/Push_API#browser_compatibility" rel="noopener ugc nofollow" target="_blank">苹果仍然不支持Safari</a>——无论是在桌面上还是在iOS上。这是唯一不支持它们的主流浏览器，我看不出有什么好的理由。过去，有一种观点认为苹果不想要pwa，因为它们会与他们的应用商店模式竞争，而且你可以在其中使用其他支付处理器。然而，他们现在支持常规的pwa，所以这不再是一个争论，尤其是反对推送通知的争论。如果他们担心向用户发送垃圾邮件，就像其他浏览器一样，让它成为一个选择加入系统。有一些希望，苹果公司将在未来改变其立场，甚至有<a class="ae ky" href="https://www.change.org/p/tim-cook-apple-inc-implement-web-push-notifications-on-ios-devices" rel="noopener ugc nofollow" target="_blank">change.org请愿</a>，但对我们的项目来说已经太晚了。</p><h1 id="ccb7" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">混合应用</h1><p id="a4e3" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">当寻找web推送通知的变通办法时，唯一有效的解决方案似乎是使用Apache Cordova这样的工具的混合应用程序。这个想法是围绕一个web应用程序创建一个原生包装器，它基本上是一个带有显示web应用程序的web视图的原生应用程序。然而，与普通的web应用程序不同，可以通过这种方式访问一些本机API。经过几次实验，我们最终得到了<a class="ae ky" href="https://capacitorjs.com/" rel="noopener ugc nofollow" target="_blank"> Capacitor.js </a>，它似乎比Cordova更好用。他们有一个用于推送通知的<a class="ae ky" href="https://capacitorjs.com/docs/apis/push-notifications" rel="noopener ugc nofollow" target="_blank">插件</a>，适用于Android和iOS。</p><p id="f25c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然我应该说它说它支持iOS，因为我没有办法测试它，这要感谢苹果的另一项政策:你只能用Mac开发iOS应用程序，而我没有。</p><p id="051b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我不是苹果的超级粉丝。我不同意他们的许多做法，尤其是他们的价格。然而，我知道其他人更喜欢Mac/iOS，当我创建一个应用程序时，我想让这些人也能使用它。如果我没有Android手机，我就能做到这一点。Android Studio可以在谷歌自己的Chrome操作系统上运行，但也可以在Windows、Mac和Linux等其他操作系统上运行。它包括一个模拟器，所以你可以轻松地测试，构建和发布一个应用程序，而不需要拥有一部Android手机(尽管你可能至少应该从朋友那里借一部来看看你的应用程序在真实设备上的感觉)。</p><p id="8133" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，构建iOS应用程序的唯一官方方法是使用XCode，它只能在macOS上运行。它还包括一个模拟器，所以你不一定需要拥有一部iPhone，但它并不支持所有功能(例如，<a class="ae ky" href="https://stackoverflow.com/questions/1080556/how-can-i-test-apple-push-notification-service-without-an-iphone/60085404#60085404" rel="noopener ugc nofollow" target="_blank">他们去年才在模拟器中添加了推送通知</a>，所以仍然建议你也拥有一部iPhone。不像便宜的安卓手机<a class="ae ky" href="https://medium.com/geekculture/its-crazy-how-good-and-cheap-phones-have-become-6e3101c5bca0" rel="noopener">，你不到100美元</a>就能买到，iPhones要贵得多。我知道有一些在没有Mac的情况下构建iOS应用的方法，比如虚拟机或Hackintosh，但它们没有得到官方支持，而且据我所知，它们并不总是工作得很好。</p><p id="a559" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Capacitor.js会自动创建一个XCode项目，所以假设它可以直接运行(目前我还不能)，我需要花很多钱购买苹果设备，只需要按一次编译按钮，这太疯狂了。幸运的是，我们团队中有其他具有技术专长的人，他们可以访问macOS/iOS设备，可以开发iOS应用程序，但这仍然会带来很多开销和不必要的障碍。</p><h1 id="6561" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">苹果太大了</h1><p id="5b99" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">苹果能够逃脱这些限制性开发政策的唯一原因是因为它们太大了。一家拥有自己的移动操作系统、有类似限制的较小公司将在几个月内破产。发展和维护移动操作系统的唯一方式是应用程序，如果开发人员必须面对如此多的障碍才能在平台上发布他们的产品，他们中的许多人不会这样做，客户会迁移到一个不同的平台，在那里他们可以访问所有的应用程序。但苹果目前太大而不能倒，开发者必须想办法在iOS上发布他们的应用，让他们有机会成功。</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><p id="b706" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为非苹果开发者为iOS开发是一件痛苦的事情。你必须在他们的生态系统中，才能在他们的平台上开发应用。iOS 13+中的PWA支持是朝着正确方向迈出的一步，但如果没有实现推送通知等核心功能，它仍然不是一个好的选择。至于原生或混合应用程序开发，我希望他们能添加一种官方方式来构建Windows或Linux的iOS应用程序，但这种可能性似乎很小。</p></div></div>    
</body>
</html>