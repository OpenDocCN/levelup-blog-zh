<html>
<head>
<title>Set up a React toolchain from the ground up</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从头开始建立反应工具链</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/react-webpack-babel-b76545c6e353?source=collection_archive---------0-----------------------#2018-09-20">https://levelup.gitconnected.com/react-webpack-babel-b76545c6e353?source=collection_archive---------0-----------------------#2018-09-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="5d1c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后更新于2019年6月6日</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/64ca9a4c51e7b24fa4f2bc86d3f16f30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MU9N6RTbTJcZMw5tcNFVbQ.jpeg"/></div></div></figure><p id="e679" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">本指南旨在帮助那些希望在没有预先配置的环境、没有幕后隐藏的魔法的情况下从头开始使用React应用程序的人，或者至少对其有所了解的人。为了充分利用本指南，我强烈建议你一步一步地去做。</p><h1 id="5253" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">谜题</h1><p id="dfb2" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">React应用构建通常是一套用于执行复杂任务的工具，它由三个主要部分组成:<strong class="jp ir">包管理器</strong> <a class="ae ma" href="https://yarnpkg.com/en/" rel="noopener ugc nofollow" target="_blank"> Yarn </a>或<a class="ae ma" href="https://www.npmjs.com/" rel="noopener ugc nofollow" target="_blank"> Npm </a>，<strong class="jp ir">Bundler</strong><a class="ae ma" href="https://webpack.js.org/" rel="noopener ugc nofollow" target="_blank">web pack</a>或<a class="ae ma" href="https://parceljs.org/" rel="noopener ugc nofollow" target="_blank">Package</a>，以及<strong class="jp ir">编译器</strong>如<a class="ae ma" href="https://babeljs.io/" rel="noopener ugc nofollow" target="_blank"> Babel </a>(新的JavaScript特性)。</p><h1 id="e906" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">先决条件</h1><p id="9587" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">节点版本:&gt; = 8.0.0 <br/>包管理器<a class="ae ma" href="https://yarnpkg.com/en/docs/install" rel="noopener ugc nofollow" target="_blank">纱</a></p><blockquote class="mb mc md"><p id="e7ce" class="jn jo me jp b jq jr js jt ju jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj kk ij bi translated"><em class="iq">📌下面的代码片段使用</em> <code class="fe mi mj mk ml b"><em class="iq">$</em></code> <em class="iq">来表示类UNIX操作系统中的shell提示符，尽管它可能被定制为不同的外观。</em></p></blockquote><h1 id="fd1e" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">创建项目目录</h1><pre class="km kn ko kp gt mm ml mn mo aw mp bi"><span id="37a3" class="mq ky iq ml b gy mr ms l mt mu">$ mkdir app &amp;&amp; cd $_<br/>$ yarn init -y</span></pre><p id="bcaf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如您所见，上面的命令非常简单；它做三件事:</p><ul class=""><li id="54b0" class="mv mw iq jp b jq jr ju jv jy mx kc my kg mz kk na nb nc nd bi translated">在当前目录中创建新的“app”文件夹</li><li id="d5c0" class="mv mw iq jp b jq ne ju nf jy ng kc nh kg ni kk na nb nc nd bi translated">将当前工作目录更改为我们最近创建的项目(第二个语句执行)</li><li id="90cc" class="mv mw iq jp b jq ne ju nf jy ng kc nh kg ni kk na nb nc nd bi translated">将yarn初始化为我们的包管理器(交互地创建一个package.json文件)。标志<code class="fe mi mj mk ml b">-y</code>(或<code class="fe mi mj mk ml b">--yes</code>)根据你的<a class="ae ma" href="https://yarnpkg.com/en/docs/cli/init#toc-setting-defaults-for-yarn-init" rel="noopener ugc nofollow" target="_blank">默认值</a>生成一个package.json</li></ul><h1 id="b0ed" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">项目目录结构</h1><p id="2cb1" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">在我们进入安装、配置和所有令人讨厌的事情之前，让我们首先计划我们的项目目录结构，以看到我们的起点和终点的全貌。</p><blockquote class="mb mc md"><p id="9b7f" class="jn jo me jp b jq jr js jt ju jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj kk ij bi translated"><em class="iq">📌对于Windows OS用户，你必须使用</em> <code class="fe mi mj mk ml b"><em class="iq">type null &gt;&gt; file</em></code> <em class="iq">而不是</em> <code class="fe mi mj mk ml b"><em class="iq">touch</em></code> <em class="iq">命令。</em> <code class="fe mi mj mk ml b"><em class="iq">mkdir -p src/{...}</em></code> <em class="iq">命令也不起作用，您可能会发现这个</em> <a class="ae ma" href="https://stackoverflow.com/questions/905226/what-is-equivalent-to-linux-mkdir-p-in-windows" rel="noopener ugc nofollow" target="_blank"> <em class="iq">等效解决方案</em> </a> <em class="iq">很有帮助，或者单独创建这些子目录。</em></p></blockquote><pre class="km kn ko kp gt mm ml mn mo aw mp bi"><span id="9788" class="mq ky iq ml b gy mr ms l mt mu">$ mkdir -p src/components tests<br/>$ touch src/index.html src/index.js<br/>$ touch .babelrc .eslintrc.yml jest.config.js webpack.config.js</span></pre><p id="e711" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">上面我们执行的命令将产生以下文件夹结构:</p><pre class="km kn ko kp gt mm ml mn mo aw mp bi"><span id="e0a1" class="mq ky iq ml b gy mr ms l mt mu">app/<br/>├── src/<br/>│ + components/<br/>│ └── index.html<br/>└── index.js<br/>├── tests/<br/>├── .babelrc<br/>├── .eslintrc.yml<br/>├── jest.config.js<br/>└── webpack.config.js</span></pre><blockquote class="mb mc md"><p id="91ef" class="jn jo me jp b jq jr js jt ju jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj kk ij bi translated"><em class="iq">💡提示:对于Linux和Macintosh用户，使用</em> <code class="fe mi mj mk ml b"><em class="iq">ls -R</em></code> <em class="iq">命令行列出所有文件和子目录内容</em></p></blockquote><h1 id="c459" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">属国</h1><p id="7570" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">我更喜欢使用括号扩展(下面的<em class="me">片段)来安装名称相似的包。它是可修改的，更漂亮，更省时。</em></p><p id="6d1d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">反应</strong> : <a class="ae ma" href="https://yarnpkg.com/en/package/react" rel="noopener ugc nofollow" target="_blank">反应</a>，<a class="ae ma" href="https://yarnpkg.com/en/package/react-dom" rel="noopener ugc nofollow" target="_blank">反应-dom </a>，<a class="ae ma" href="https://yarnpkg.com/en/package/react-hot-loader" rel="noopener ugc nofollow" target="_blank">反应-热加载器</a></p><pre class="km kn ko kp gt mm ml mn mo aw mp bi"><span id="384b" class="mq ky iq ml b gy mr ms l mt mu">$ yarn add react react-{dom,hot-loader}</span></pre><h1 id="bdc6" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">反应道具的类型检查</h1><p id="1519" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">从React v15.5开始，如<a class="ae ma" href="https://reactjs.org/docs/typechecking-with-proptypes.html" rel="noopener ugc nofollow" target="_blank">官方文档</a>所述，不推荐使用<code class="fe mi mj mk ml b">React.PropTypes</code>，建议安装并使用独立的<code class="fe mi mj mk ml b">prop-types</code>库(<strong class="jp ir">强烈推荐</strong>)。</p><p id="e857" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">一石二鸟</strong>；截至今天，React v16+使用道具类型作为其依赖项之一(<strong class="jp ir"> <em class="me">可能会在未来的版本</em> </strong>中删除)，通过安装<a class="ae ma" href="https://yarnpkg.com/en/package/react" rel="noopener ugc nofollow" target="_blank"> react </a>，您应该可以获得开箱即用的<a class="ae ma" href="https://yarnpkg.com/en/package/prop-types" rel="noopener ugc nofollow" target="_blank">道具类型</a>。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nj"><img src="../Images/16e9a369877acf200ab963c9d6769604.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*lJkuzRIZQsyEq_DU.png"/></div></div></figure><p id="b932" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">Babel</strong>:<a class="ae ma" href="https://yarnpkg.com/en/package/@babel/core" rel="noopener ugc nofollow" target="_blank">@ Babel/core</a>，<a class="ae ma" href="https://yarnpkg.com/en/package/@babel/preset-env" rel="noopener ugc nofollow" target="_blank"> @babel/preset-env </a>，<a class="ae ma" href="https://yarnpkg.com/en/package/@babel/preset-react" rel="noopener ugc nofollow" target="_blank"> @babel/preset-react </a>，<a class="ae ma" href="https://yarnpkg.com/en/package/babel-eslint" rel="noopener ugc nofollow" target="_blank"> babel-eslint </a>，<a class="ae ma" href="https://yarnpkg.com/en/package/babel-jest" rel="noopener ugc nofollow" target="_blank"> babel-jest </a>，<a class="ae ma" href="https://yarnpkg.com/en/package/babel-loader" rel="noopener ugc nofollow" target="_blank"> babel-loader </a></p><pre class="km kn ko kp gt mm ml mn mo aw mp bi"><span id="faf2" class="mq ky iq ml b gy mr ms l mt mu">$ yarn add @babel/{core,preset-env,preset-react} -D<br/>$ yarn add babel-{loader,eslint,jest} -D</span></pre><p id="cedc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">节点模块上的(@)前缀称为“作用域包”。作用域是将相关包组合在一起的一种方式。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nj"><img src="../Images/be23328387938dfda2ea039171e0d9e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*TtZzjitEOieCKlTE.png"/></div></div></figure><p id="8676" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">web pack</strong>:<a class="ae ma" href="https://yarnpkg.com/en/package/webpack" rel="noopener ugc nofollow" target="_blank">web pack</a>，<a class="ae ma" href="https://yarnpkg.com/en/package/webpack-cli" rel="noopener ugc nofollow" target="_blank"> webpack-cli </a>，<a class="ae ma" href="https://yarnpkg.com/en/package/webpack-dev-server" rel="noopener ugc nofollow" target="_blank"> webpack-dev-server </a>，<a class="ae ma" href="https://yarnpkg.com/en/package/html-webpack-plugin" rel="noopener ugc nofollow" target="_blank"> html-webpack-plugin </a></p><pre class="km kn ko kp gt mm ml mn mo aw mp bi"><span id="9c03" class="mq ky iq ml b gy mr ms l mt mu">$ yarn add webpack webpack-{cli,dev-server} -D<br/>$ yarn add html-webpack-plugin -D</span></pre><p id="9e0e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">代码质量— Lint </strong>(推荐):<a class="ae ma" href="https://yarnpkg.com/en/package/eslint" rel="noopener ugc nofollow" target="_blank"> eslint </a>，<a class="ae ma" href="https://yarnpkg.com/en/package/eslint-plugin-react" rel="noopener ugc nofollow" target="_blank"> eslint-plugin-react </a></p><pre class="km kn ko kp gt mm ml mn mo aw mp bi"><span id="38c4" class="mq ky iq ml b gy mr ms l mt mu">$ yarn add eslint eslint-plugin-react -D</span></pre><p id="bb72" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">测试</strong>(可选):<a class="ae ma" href="https://yarnpkg.com/en/package/jest" rel="noopener ugc nofollow" target="_blank"> jest </a>，<a class="ae ma" href="https://yarnpkg.com/en/package/react-test-renderer" rel="noopener ugc nofollow" target="_blank"> react-test-renderer </a></p><pre class="km kn ko kp gt mm ml mn mo aw mp bi"><span id="3904" class="mq ky iq ml b gy mr ms l mt mu">$ yarn add jest react-test-renderer -D<br/>$ yarn add babel-core@7.0.0-bridge.0 -D</span></pre><h1 id="1749" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">设置和配置</h1><p id="e257" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated"><strong class="jp ir">网络包</strong> : <code class="fe mi mj mk ml b">webpack.config.js</code></p><pre class="km kn ko kp gt mm ml mn mo aw mp bi"><span id="72b5" class="mq ky iq ml b gy mr ms l mt mu">const HtmlWebPackPlugin = require('html-webpack-plugin');</span><span id="f4b1" class="mq ky iq ml b gy nk ms l mt mu">const HtmlWebpackPluginConfig = new HtmlWebPackPlugin({<br/>  template: './src/index.html',<br/>  filename: './index.html'<br/>});</span><span id="d3d3" class="mq ky iq ml b gy nk ms l mt mu">module.exports = {<br/>  module: {<br/>   rules: [<br/>      {<br/>        test: /\.js|jsx$/,<br/>        exclude: /node_modules/,<br/>        use: { loader: 'babel-loader' }<br/>      }<br/>    ]<br/>  },<br/>  mode: 'development',<br/>  devServer: {<br/>    historyApiFallback: true,<br/>    compress: true,<br/>    port: 3030,<br/>    open: true<br/>  },<br/>  plugins: [<br/>    HtmlWebpackPluginConfig<br/>  ]<br/>};</span></pre><p id="d906" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">分解webpack配置:</p><ul class=""><li id="f241" class="mv mw iq jp b jq jr ju jv jy mx kc my kg mz kk na nb nc nd bi translated"><strong class="jp ir">规则</strong>:我们附加了babel作为我们的加载器，当模块被创建时，规则与请求相匹配</li><li id="eb3c" class="mv mw iq jp b jq ne ju nf jy ng kc nh kg ni kk na nb nc nd bi translated"><strong class="jp ir">模式</strong> : webpack 4引入了生产和开发模式，用于定义webpack开发服务器和其他东西。我们稍后在package.json脚本中内联设置生产模式</li><li id="eff4" class="mv mw iq jp b jq ne ju nf jy ng kc nh kg ni kk na nb nc nd bi translated"><strong class="jp ir"> devServer </strong>:一组基本的<a class="ae ma" href="https://webpack.js.org/configuration/dev-server/#devserver" rel="noopener ugc nofollow" target="_blank">选项</a></li><li id="d25c" class="mv mw iq jp b jq ne ju nf jy ng kc nh kg ni kk na nb nc nd bi translated"><strong class="jp ir">插件</strong>:用于服务我们的webpack包，从<code class="fe mi mj mk ml b">./src</code>下的模板文件生成<code class="fe mi mj mk ml b">./dist/index.html</code></li><li id="4702" class="mv mw iq jp b jq ne ju nf jy ng kc nh kg ni kk na nb nc nd bi translated"><strong class="jp ir">入口</strong>:正如你可能注意到的，我们的配置中没有入口点，幸运的是webpack 4为我们提供了现成的默认入口点<code class="fe mi mj mk ml b">./src/index.js</code> ( <em class="me">你可以覆盖它</em>)</li></ul><p id="79a1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">巴别塔</strong> : <code class="fe mi mj mk ml b">.babelrc</code></p><pre class="km kn ko kp gt mm ml mn mo aw mp bi"><span id="946d" class="mq ky iq ml b gy mr ms l mt mu">{<br/>  "presets": [<br/>    "@babel/preset-env",<br/>    "@babel/preset-react"<br/>  ]<br/>}</span></pre><p id="a711" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">笑话</strong> : <code class="fe mi mj mk ml b">jest.config.js</code></p><pre class="km kn ko kp gt mm ml mn mo aw mp bi"><span id="de07" class="mq ky iq ml b gy mr ms l mt mu">module.exports = {<br/>  verbose: true,<br/>  moduleDirectories: ['node_modules', 'src/components', 'tests']<br/>};</span></pre><p id="4a85" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">出于本教程的目的，我指定了<code class="fe mi mj mk ml b">src/components</code>作为我的模块目录，但是随着你的应用程序的增长，你将不得不根据你的需要覆盖这个设置。</p><p id="7d10" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> Eslint </strong> : <code class="fe mi mj mk ml b">.eslintrc.yml</code></p><pre class="km kn ko kp gt mm ml mn mo aw mp bi"><span id="c2d7" class="mq ky iq ml b gy mr ms l mt mu">parser: "babel-eslint"<br/>env:<br/>  browser: true<br/>  node: true<br/>  jest: true<br/>  es6: true<br/>extends:<br/>  - eslint:recommended<br/>  - plugin:react/recommended<br/>settings:<br/>  react:<br/>    version: "16.0"</span></pre><ul class=""><li id="94bf" class="mv mw iq jp b jq jr ju jv jy mx kc my kg mz kk na nb nc nd bi translated">解析器:指定我们需要支持的JavaScript语法，在我们的例子中，我们设置了Babel(用于现代JavaScript语言)</li><li id="a900" class="mv mw iq jp b jq ne ju nf jy ng kc nh kg ni kk na nb nc nd bi translated"><strong class="jp ir"> env </strong>:一个<a class="ae ma" href="https://eslint.org/docs/user-guide/configuring#specifying-environments" rel="noopener ugc nofollow" target="_blank">环境</a>定义预定义的全局变量</li><li id="063d" class="mv mw iq jp b jq ne ju nf jy ng kc nh kg ni kk na nb nc nd bi translated"><strong class="jp ir">扩展</strong>:一组从基础配置中启用的规则</li><li id="af4a" class="mv mw iq jp b jq ne ju nf jy ng kc nh kg ni kk na nb nc nd bi translated"><strong class="jp ir">设置</strong>:共享<a class="ae ma" href="https://eslint.org/docs/user-guide/configuring#adding-shared-settings" rel="noopener ugc nofollow" target="_blank">设置</a>它将被提供给每个将要执行的规则。</li></ul><p id="83ce" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我在这里对配置文件使用YAML扩展来指定整个目录配置信息，但是您完全可以随意使用，比如JavaScript或JSON。</p><p id="44f6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">脚本</strong> : <code class="fe mi mj mk ml b">package.json</code></p><pre class="km kn ko kp gt mm ml mn mo aw mp bi"><span id="4928" class="mq ky iq ml b gy mr ms l mt mu">"scripts": {<br/>  "start": "webpack-dev-server --hot",<br/>  "lint": "eslint ./src",<br/>  "test": "jest --colors -b -e --logHeapUsage",<br/>  "build": "webpack --mode production"<br/>},</span></pre><p id="b8d2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">反应</strong> : <code class="fe mi mj mk ml b">src/index.html</code>渲染容器</p><pre class="km kn ko kp gt mm ml mn mo aw mp bi"><span id="030a" class="mq ky iq ml b gy mr ms l mt mu">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;meta charset="UTF-8”&gt;<br/>    &lt;meta name="viewport" content="width=device-width"&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="root"&gt;&lt;/div&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="46c5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">反应</strong>:创建<code class="fe mi mj mk ml b">src/components/App.js</code>作为我们的初始组件</p><pre class="km kn ko kp gt mm ml mn mo aw mp bi"><span id="8b03" class="mq ky iq ml b gy mr ms l mt mu">import React from 'react'<br/>import PropTypes from 'prop-types';<br/>import { hot } from 'react-hot-loader';</span><span id="4b15" class="mq ky iq ml b gy nk ms l mt mu">const App = ({message}) =&gt;&lt;h1&gt;Hello from {message}&lt;/h1&gt;; </span><span id="6b0c" class="mq ky iq ml b gy nk ms l mt mu">App.propTypes = { <br/>  message: PropTypes.string <br/>}; </span><span id="b081" class="mq ky iq ml b gy nk ms l mt mu">export default hot(module)(App);</span></pre><p id="07e7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">App组件是一个无状态组件，代表我们的应用程序，由一个实时调整的热加载器包装。</p><p id="2399" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">反应</strong>:打开并编辑我们的入口点<code class="fe mi mj mk ml b">src/index.js</code></p><pre class="km kn ko kp gt mm ml mn mo aw mp bi"><span id="c704" class="mq ky iq ml b gy mr ms l mt mu">import React from 'react';<br/>import ReactDOM from 'react-dom';<br/>import App from './components/App';</span><span id="3f95" class="mq ky iq ml b gy nk ms l mt mu">ReactDOM.render(<br/>  &lt;App /&gt;,<br/>  document.getElementById('root')<br/>);</span></pre><h1 id="bb00" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">快跑男孩快跑</h1><p id="5bf1" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">在我们继续前进之前，我们需要确保一切工作正常(scripts — package.json:)</p><pre class="km kn ko kp gt mm ml mn mo aw mp bi"><span id="e9a6" class="mq ky iq ml b gy mr ms l mt mu">$ yarn start</span></pre><p id="0e7a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">预期行为</strong>:</p><p id="b181" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">应在默认浏览器中打开一个新标签，显示localhost:3030地址<br/>dev tools验证我们的热模块替换已启用<br/>web pack，编译成功</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nj"><img src="../Images/dfd04263fe66bb78b64c74cd6c97ebf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*G89EDhNTG0kiTNnC.png"/></div></div></figure></div><div class="ab cl nl nm hu nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ij ik il im in"><h1 id="33ce" class="kx ky iq bd kz la ns lc ld le nt lg lh li nu lk ll lm nv lo lp lq nw ls lt lu bi translated">测试</h1><p id="d905" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">我们不打算用Jest深入测试细节。我们将创建一个最小的快照测试，以确保我们的测试配置工作正常。在<code class="fe mi mj mk ml b">tests/</code>目录下创建<code class="fe mi mj mk ml b">App.test.js</code>文件。</p><p id="a40c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">笑话</strong>:创造<code class="fe mi mj mk ml b">tests/components/App.spec.js</code></p><pre class="km kn ko kp gt mm ml mn mo aw mp bi"><span id="823d" class="mq ky iq ml b gy mr ms l mt mu">import React from 'react';<br/>import renderer from 'react-test-renderer';<br/>import App from 'App';</span><span id="2492" class="mq ky iq ml b gy nk ms l mt mu">describe('App Component Test Suite', () =&gt; {<br/>  it('Should render properly to DOM', () =&gt; {<br/>    const wrapper = renderer.create();<br/>    expect(wrapper.toJSON()).toMatchSnapshot();<br/>  });<br/>});</span></pre><p id="af49" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">…然后运行测试脚本:</p><pre class="km kn ko kp gt mm ml mn mo aw mp bi"><span id="7ff3" class="mq ky iq ml b gy mr ms l mt mu">$ yarn test</span></pre><p id="fd8a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第一次运行这个测试时，Jest会创建一个快照文件。</p><h1 id="700e" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">最后但并不是最不重要的</h1><p id="81c1" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">我们现在准备在生产模式下捆绑React应用程序，并优化构建以获得最佳性能，我们只需运行以下命令:</p><pre class="km kn ko kp gt mm ml mn mo aw mp bi"><span id="7017" class="mq ky iq ml b gy mr ms l mt mu">$ yarn build</span></pre><p id="aa6e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这将把生产应用程序构建到<code class="fe mi mj mk ml b">dist/build</code>文件夹中。</p></div><div class="ab cl nl nm hu nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ij ik il im in"><h1 id="22af" class="kx ky iq bd kz la ns lc ld le nt lg lh li nu lk ll lm nv lo lp lq nw ls lt lu bi translated">好运🙌</h1><p id="b406" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">一旦您完成了，并且一切都如预期的那样工作，那么您现在已经掌握了从零开始建立自己的React应用程序的基本技术。您可以通过以下方式更进一步:</p><ul class=""><li id="b481" class="mv mw iq jp b jq jr ju jv jy mx kc my kg mz kk na nb nc nd bi translated">扩展webpack加载器，例如:<a class="ae ma" href="https://github.com/webpack-contrib/style-loader" rel="noopener ugc nofollow" target="_blank">样式加载器</a>、<a class="ae ma" href="https://github.com/webpack-contrib/css-loader" rel="noopener ugc nofollow" target="_blank"> CSS加载器</a>或<a class="ae ma" href="https://github.com/webpack-contrib/sass-loader" rel="noopener ugc nofollow" target="_blank"> Sass加载器</a>到您的webpack配置中</li><li id="2e29" class="mv mw iq jp b jq ne ju nf jy ng kc nh kg ni kk na nb nc nd bi translated"><a class="ae ma" href="https://webpack.js.org/guides/code-splitting/" rel="noopener ugc nofollow" target="_blank">代码分割</a></li><li id="b3e5" class="mv mw iq jp b jq ne ju nf jy ng kc nh kg ni kk na nb nc nd bi translated">用Yarn/Npm脚本添加Git钩子:<code class="fe mi mj mk ml b">precommit</code>，<code class="fe mi mj mk ml b">prepush</code>。例如，在进行新的提交之前运行linter</li><li id="360b" class="mv mw iq jp b jq ne ju nf jy ng kc nh kg ni kk na nb nc nd bi translated">…还有很多你可以玩的东西</li></ul></div></div>    
</body>
</html>