<html>
<head>
<title>Adding KaTeX and Markdown in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React中添加KaTeX和Markdown</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/adding-katex-and-markdown-in-react-7b70694004ef?source=collection_archive---------1-----------------------#2020-05-07">https://levelup.gitconnected.com/adding-katex-and-markdown-in-react-7b70694004ef?source=collection_archive---------1-----------------------#2020-05-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5b26" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">关于如何在React Web应用程序中显示TeX和Markdown内容的教程</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/c4d4cb115c493b02dd8ed4c0b2d3d452.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*a-YI6ppCOgtHiLCP"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@jeshoots?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">JESHOOTS.COM</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><p id="8655" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在家学习正成为我们的新常态。学生们正从书本转向在线学习应用。这给开发人员带来了一个挑战，他们需要构建更具交互性的应用程序，为用户显示丰富的内容，包括数学方程式。通过在React中实现KaTeX和Markdown，您的单页应用程序可以在丰富的文本内容中呈现复杂的方程。</p><p id="e5c6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">KaTeX是一个Javascript库，基于TeX布局显示数学符号。它由Khan Academy开发，以比其替代品MathJax更快的渲染速度而闻名。在本教程中，我们将使用以下库，</p><ol class=""><li id="4e67" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated"><a class="ae kv" href="https://github.com/rexxars/react-markdown" rel="noopener ugc nofollow" target="_blank"> React Markdown </a>是将Markdown内容渲染到React组件中。</li><li id="e5d9" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" href="https://github.com/remarkjs/remark-math" rel="noopener ugc nofollow" target="_blank"> Remark Math </a>是一个markdown处理器，用作插件来解析markdown内容中的TeX布局。</li><li id="f2a2" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" href="https://github.com/talyssonoc/react-katex" rel="noopener ugc nofollow" target="_blank"> React KaTeX </a>是在块或内联组件中渲染TeX布局。</li></ol><p id="63d5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以使用下面的<code class="fe mg mh mi mj b">npm</code>将这些库安装到您的项目中，</p><pre class="kg kh ki kj gt mk mj ml mm aw mn bi"><span id="c2fc" class="mo mp iq mj b gy mq mr l ms mt">npm install react-markdown remark-math react-katex</span></pre></div><div class="ab cl mu mv hu mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="ij ik il im in"><h1 id="56e1" class="nb mp iq bd nc nd ne nf ng nh ni nj nk jw nl jx nm jz nn ka no kc np kd nq nr bi translated">添加React降价</h1><p id="abd8" class="pw-post-body-paragraph kw kx iq ky b kz ns jr lb lc nt ju le lf nu lh li lj nv ll lm ln nw lp lq lr ij bi translated">本教程的目标是创建一个可重用的组件来呈现markdown和TeX数据。因此，您可以在项目中添加一个名为<code class="fe mg mh mi mj b">Markdown.component.js</code>的新文件。如果您没有现有的项目，您可以引导一个<a class="ae kv" href="https://create-react-app.dev/" rel="noopener ugc nofollow" target="_blank"> Create React App </a>项目并在那里添加新组件。然后，在组件中，我们会用自己的配置包装<code class="fe mg mh mi mj b">react-markdown</code>库。</p><p id="8c36" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于我们的组件，我们希望呈现HTML以显示更丰富的内容。默认情况下，该库对HTML语法进行转义，因此我们将自己的属性映射到markdown库中，如下所示。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nx ny l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">自定义ReactMarkdown组件</figcaption></figure><p id="95fc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们的组件可以呈现markdown和HTML语法。要使用这个组件，我们可以像下面这样将内容数据作为它的孩子来传递，</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nx ny l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">使用自定义降价组件</figcaption></figure><p id="9512" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它会呈现这个:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/63135acad8f31a6aad16215b53a1a74c.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*_HMe55qpvArfCVDcajcQiQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">呈现降价+ HTML</figcaption></figure><h1 id="740e" class="nb mp iq bd nc nd oa nf ng nh ob nj nk jw oc jx nm jz od ka no kc oe kd nq nr bi translated">添加备注数学</h1><p id="eb37" class="pw-post-body-paragraph kw kx iq ky b kz ns jr lb lc nt ju le lf nu lh li lj nv ll lm ln nw lp lq lr ij bi translated">使用<code class="fe mg mh mi mj b">remark-math</code>库，您可以在markdown内容中编写您的TeX语法。它会将<code class="fe mg mh mi mj b">$</code>中的值解析为<code class="fe mg mh mi mj b">inlineMath</code>节点；并将<code class="fe mg mh mi mj b">$$</code>内的值作为<code class="fe mg mh mi mj b">math</code>节点。</p><p id="7c6d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，我们可以在每个节点上添加自定义渲染器。我们可以使用<code class="fe mg mh mi mj b">inlineMath</code>在句子中内联呈现等式，使用<code class="fe mg mh mi mj b">math</code>在内容中以块的形式呈现等式。</p><p id="b958" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了说明如何将<code class="fe mg mh mi mj b">remark-math</code>用作<code class="fe mg mh mi mj b">react-markdown</code>插件，您可以查看下面的代码，</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nx ny l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">将markdown组件与remark-math一起使用</figcaption></figure><p id="5d03" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以用如下内容测试我们的markdown组件，</p><pre class="kg kh ki kj gt mk mj ml mm aw mn bi"><span id="7406" class="mo mp iq mj b gy mq mr l ms mt">**Below me will be displayed as a block:**<br/>$$<br/>Block Math<br/>$$<br/>**Next to me will be displayed as inline -&gt;** $Inline Math$</span></pre><p id="c635" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们的组件会呈现这个，</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/0c508a07ca0dfce4a4381a98258a9b72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L926cmpLT4iArL4q-2W_fQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">markdown内部呈现注释数学语法</figcaption></figure><blockquote class="og oh oi"><p id="4ab6" class="kw kx oj ky b kz la jr lb lc ld ju le ok lg lh li ol lk ll lm om lo lp lq lr ij bi translated">请记住，当您编写块数学语法<code class="fe mg mh mi mj b">$$</code>时，它应该后跟换行符，就像您在上面的例子中看到的那样。</p></blockquote><h1 id="328a" class="nb mp iq bd nc nd oa nf ng nh ob nj nk jw oc jx nm jz od ka no kc oe kd nq nr bi translated">添加React KaTeX</h1><p id="8cf2" class="pw-post-body-paragraph kw kx iq ky b kz ns jr lb lc nt ju le lf nu lh li lj nv ll lm ln nw lp lq lr ij bi translated">React KaTeX有两个组件来渲染TeX方程。它们是<code class="fe mg mh mi mj b">InlineMath</code>和<code class="fe mg mh mi mj b">BlockMath</code>，我们可以相应地使用从<code class="fe mg mh mi mj b">remark-math</code>插件解析的节点。所以我们最后的组件会是这样的，</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nx ny l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">将markdown组件与react-katex一起使用</figcaption></figure><p id="a942" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，我们有如下内容:</p><pre class="kg kh ki kj gt mk mj ml mm aw mn bi"><span id="3ec3" class="mo mp iq mj b gy mq mr l ms mt">Given a **formula** below<br/>$$<br/>s = ut + \\frac{1}{2}at^{2}<br/>$$<br/>Calculate the value of $s$ when $u = 10\\frac{m}{s}$ and $a = 2\\frac{m}{s^{2}}$ at $t = 1s$</span></pre><p id="13e0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们的组件会把它渲染成这样，</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/6367c68b53f94f96cc48abaa062cd80a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y1fuqJXYhVS1opOG_yQcpA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">渲染纹理内部降价</figcaption></figure></div><div class="ab cl mu mv hu mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="ij ik il im in"><p id="edf7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我希望现在你能够创建自己的在线学习和测验应用程序。如果你需要一个我们的<code class="fe mg mh mi mj b">Markdown</code>组件是如何实现的例子，你可以在下面看到我做的一个简单的数学测验应用。</p><div class="oo op gp gr oq or"><a href="https://github.com/iksena/math-quiz" rel="noopener  ugc nofollow" target="_blank"><div class="os ab fo"><div class="ot ab ou cl cj ov"><h2 class="bd ir gy z fp ow fr fs ox fu fw ip bi translated">iks ENA/数学测验</h2><div class="oy l"><h3 class="bd b gy z fp ow fr fs ox fu fw dk translated">这是一个React web应用程序示例，显示了一个带有等式、公式和图像的数学测验。它实现了以下功能…</h3></div><div class="oz l"><p class="bd b dl z fp ow fr fs ox fu fw dk translated">github.com</p></div></div><div class="pa l"><div class="pb l pc pd pe pa pf kp or"/></div></div></a></div></div></div>    
</body>
</html>