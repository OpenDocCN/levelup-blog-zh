<html>
<head>
<title>How to Add AutoComplete Input to Your Vue.js App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将自动完成输入添加到Vue.js应用程序中</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-add-auto-complete-input-to-your-vue-js-app-f313401e35af?source=collection_archive---------3-----------------------#2019-12-14">https://levelup.gitconnected.com/how-to-add-auto-complete-input-to-your-vue-js-app-f313401e35af?source=collection_archive---------3-----------------------#2019-12-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/edf622ea66ae08e7c2d0d2b929e93e65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Q-vWI-Gv8kynU27A"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated"><a class="ae kf" href="https://unsplash.com/@jtc?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">赫塞·科林斯</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="2ef8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了让用户容易地从长列表中选择，使用自动完成功能的输入比简单的下拉选择更好，因为它允许用户搜索他们想要的条目，而不是从列表中选择。这是web应用程序的一个常见功能，因此开发人员开发了自动完成组件，我们可以轻松地添加该功能。</p><p id="1d41" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将制作一个货币转换器，让用户选择要转换的货币，并按基础货币列出汇率。我们将使用Vue.js来构建应用程序，使用位于<a class="ae kf" href="https://exchangeratesapi.io/" rel="noopener ugc nofollow" target="_blank">https://exchangeratesapi.io/</a>的外汇汇率API来获取我们的汇率，使用位于<a class="ae kf" href="http://openexchangerates.org" rel="noopener ugc nofollow" target="_blank">http://openexchangerates.org</a>的公开汇率API来获取我们的货币列表。</p><p id="01d5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要开始构建应用程序，我们将运行Vue CLI来创建项目。运行<code class="fe le lf lg lh b">npx @vue/cli create currency-converter</code>来创建项目。在向导中，我们选择“手动选择功能”并从列表中选择Babel、CSS预处理器、Vuex和Vue路由器。</p><p id="366b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来，我们安装一些库。我们将使用Axios进行HTTP请求，使用BootstrapVue进行样式设置，使用Vee-Validate进行表单验证，使用Vue-Autosuggest进行自动完成输入。Vue-Autosuggest允许我们定制组件的所有部分。它对样式没有任何意见，这意味着它非常适合Bootstrap样式。</p><p id="837b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们通过运行<code class="fe le lf lg lh b">npm i axios bootstrap-vue vee-validate vue-autosuggest</code>安装所有的库来安装所有的包。</p><p id="967d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来，我们编写应用程序的代码。我们首先添加一个mixin，用于向API发送HTTP请求以获取数据。在<code class="fe le lf lg lh b">src</code>文件夹中创建一个<code class="fe le lf lg lh b">mixins</code>文件夹，然后在<code class="fe le lf lg lh b">src</code>文件夹中添加<code class="fe le lf lg lh b">requestsMixin.js</code>，然后在文件中添加以下代码:</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="4985" class="lq lr it lh b gy ls lt l lu lv">const APIURL = "<a class="ae kf" href="https://api.exchangeratesapi.io" rel="noopener ugc nofollow" target="_blank">https://api.exchangeratesapi.io</a>";<br/>const OPEN_EXCHANGE_RATES_URL =<br/>  "<a class="ae kf" href="http://openexchangerates.org/api/currencies.json" rel="noopener ugc nofollow" target="_blank">http://openexchangerates.org/api/currencies.json</a>";<br/>const axios = require("axios");</span><span id="8ef9" class="lq lr it lh b gy lw lt l lu lv">export const requestsMixin = {<br/>  methods: {<br/>    getCurrenciesList() {<br/>      return axios.get(OPEN_EXCHANGE_RATES_URL);<br/>    },</span><span id="8561" class="lq lr it lh b gy lw lt l lu lv">  getExchangeRates(baseCurrency) {<br/>      return axios.get(`${APIURL}/latest?base=${baseCurrency}`);<br/>    }<br/>  }<br/>};</span></pre><p id="163f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们使用Axios向API发出请求。</p><p id="3c99" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来，我们构建一个页面让用户转换货币。在<code class="fe le lf lg lh b">views</code>文件夹中创建<code class="fe le lf lg lh b">ConvertCurrency.vue</code>并添加:</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="6575" class="lq lr it lh b gy ls lt l lu lv">&lt;template&gt;<br/>  &lt;div class="page"&gt;<br/>    &lt;h1 class="text-center"&gt;Convert Currency&lt;/h1&gt;<br/>    &lt;ValidationObserver ref="observer" v-slot="{ invalid }"&gt;<br/>      &lt;b-form <a class="ae kf" href="http://twitter.com/submit" rel="noopener ugc nofollow" target="_blank">@submit</a>.prevent="onSubmit" novalidate&gt;<br/>        &lt;b-form-group label="Amount" label-for="title"&gt;<br/>          &lt;ValidationProvider name="amount" rules="required|min_value:0" v-slot="{ errors }"&gt;<br/>            &lt;b-form-input<br/>              v-model="form.amount"<br/>              type="text"<br/>              required<br/>              placeholder="Amount"<br/>              name="amount"<br/>            &gt;&lt;/b-form-input&gt;<br/>            &lt;b-form-invalid-feedback :state="errors.length == 0"&gt;Amount is required&lt;/b-form-invalid-feedback&gt;<br/>          &lt;/ValidationProvider&gt;<br/>        &lt;/b-form-group&gt;</span><span id="7620" class="lq lr it lh b gy lw lt l lu lv">&lt;b-form-group label="Currency to Convert From" label-for="start"&gt;<br/>          &lt;ValidationProvider name="fromCurrency" rules="required" v-slot="{ errors }"&gt;<br/>            &lt;vue-autosuggest<br/>              :suggestions="filteredFromCurrencies"<br/>              :input-props="{id:'autosuggest__input', placeholder:'Select Currency to Convert From', class: 'form-control'}"<br/>              v-model="form.fromCurrency"<br/>              :get-suggestion-value="getSuggestionValue"<br/>              :render-suggestion="renderSuggestion"<br/>              component-attr-class-autosuggest-results-container="result"<br/>              <a class="ae kf" href="http://twitter.com/selected" rel="noopener ugc nofollow" target="_blank">@selected</a>="onSelectedFromCurrency"<br/>            &gt;&lt;/vue-autosuggest&gt;<br/>            &lt;b-form-invalid-feedback<br/>              :state="errors.length == 0"<br/>            &gt;Currency to Convert From is required&lt;/b-form-invalid-feedback&gt;<br/>          &lt;/ValidationProvider&gt;<br/>        &lt;/b-form-group&gt;</span><span id="4898" class="lq lr it lh b gy lw lt l lu lv">&lt;b-form-group label="Currency to Convert To" label-for="end"&gt;<br/>          &lt;ValidationProvider name="toCurrency" rules="required" v-slot="{ errors }"&gt;<br/>            &lt;vue-autosuggest<br/>              :suggestions="filteredToCurrencies"<br/>              :input-props="{id:'autosuggest__input', placeholder:'Select Currency to Convert To', class: 'form-control'}"<br/>              v-model="form.toCurrency"<br/>              :get-suggestion-value="getSuggestionValue"<br/>              :render-suggestion="renderSuggestion"<br/>              component-attr-class-autosuggest-results-container="result"<br/>              <a class="ae kf" href="http://twitter.com/selected" rel="noopener ugc nofollow" target="_blank">@selected</a>="onSelectedToCurrency"<br/>            &gt;&lt;/vue-autosuggest&gt;<br/>            &lt;b-form-invalid-feedback :state="errors.length == 0"&gt;Currency to Convert To is required&lt;/b-form-invalid-feedback&gt;<br/>          &lt;/ValidationProvider&gt;<br/>        &lt;/b-form-group&gt;</span><span id="9c60" class="lq lr it lh b gy lw lt l lu lv">&lt;b-button type="submit" variant="primary"&gt;Convert&lt;/b-button&gt;<br/>      &lt;/b-form&gt;<br/>    &lt;/ValidationObserver&gt;</span><span id="582c" class="lq lr it lh b gy lw lt l lu lv">&lt;div v-if="convertedAmount" class="text-center"&gt;<br/>      &lt;h2&gt;Converted Amount&lt;/h2&gt;<br/>      &lt;p&gt;{{form.amount}} {{selectedFromCurrencyCode}} is equal to {{convertedAmount}} {{selectedToCurrencyCode}}&lt;/p&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="fe47" class="lq lr it lh b gy lw lt l lu lv">&lt;script&gt;<br/>import { requestsMixin } from "@/mixins/requestsMixin";</span><span id="ca78" class="lq lr it lh b gy lw lt l lu lv">export default {<br/>  name: "ConvertCurrency",<br/>  mixins: [requestsMixin],<br/>  computed: {<br/>    currencies() {<br/>      return Object.keys(this.$store.state.currencies).map(key =&gt; ({<br/>        value: key,<br/>        name: this.$store.state.currencies[key]<br/>      }));<br/>    },<br/>    filteredFromCurrencies() {<br/>      const filtered =<br/>        this.currencies.filter(<br/>          c =&gt;<br/>            (c.value || "").toLowerCase() !=<br/>              (this.selectedToCurrencyCode || "").toLowerCase() &amp;&amp;<br/>            (c.value || "")<br/>              .toLowerCase()<br/>              .includes((this.form.fromCurrency || "").toLowerCase())<br/>        ) ||<br/>        (c.name || "")<br/>          .toLowerCase()<br/>          .includes((this.form.fromCurrency || "").toLowerCase());<br/>      return [<br/>        {<br/>          data: filtered || []<br/>        }<br/>      ];<br/>    },<br/>    filteredToCurrencies() {<br/>      const filtered =<br/>        this.currencies.filter(<br/>          c =&gt;<br/>            (c.value || "").toLowerCase() !=<br/>              (this.selectedFromCurrencyCode || "").toLowerCase() &amp;&amp;<br/>            (c.value || "")<br/>              .toLowerCase()<br/>              .includes((this.form.toCurrency || "").toLowerCase())<br/>        ) ||<br/>        (c.name || "")<br/>          .toLowerCase()<br/>          .includes((this.form.toCurrency || "").toLowerCase());<br/>      return [<br/>        {<br/>          data: filtered || []<br/>        }<br/>      ];<br/>    }<br/>  },<br/>  data() {<br/>    return {<br/>      form: {<br/>        currency: ""<br/>      },<br/>      exchangeRates: {},<br/>      ratesFound: false,<br/>      selectedFromCurrencyCode: "",<br/>      selectedToCurrencyCode: "",<br/>      convertedAmount: 0<br/>    };<br/>  },<br/>  methods: {<br/>    getSuggestionValue(suggestion) {<br/>      return suggestion &amp;&amp; suggestion.item.name;<br/>    },<br/>    renderSuggestion(suggestion) {<br/>      return suggestion &amp;&amp; suggestion.item.name;<br/>    },<br/>    onSelectedFromCurrency(item) {<br/>      this.selectedFromCurrencyCode = item &amp;&amp; item.item.value;<br/>    },<br/>    onSelectedToCurrency(item) {<br/>      this.selectedToCurrencyCode = item &amp;&amp; item.item.value;<br/>    },<br/>    async onSubmit() {<br/>      const isValid = await this.$refs.observer.validate();<br/>      if (!isValid) {<br/>        return;<br/>      }<br/>      try {<br/>        const { data } = await this.getExchangeRates(<br/>          this.selectedFromCurrencyCode<br/>        );<br/>        const rate = data.rates[this.selectedToCurrencyCode];<br/>        this.convertedAmount = this.form.amount * rate;<br/>      } catch (error) {}<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="0729" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当<code class="fe le lf lg lh b">App.vue</code>加载并存储在Vuex存储中时，货币列表被检索，因此我们可以在所有页面中使用它，而无需重新加载获取货币列表的请求。</p><p id="d778" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们使用Vee-Validate来验证我们的输入。我们使用<code class="fe le lf lg lh b">ValidationObserver</code>组件来观察组件内部表单的有效性，使用<code class="fe le lf lg lh b">ValidationProvider</code>来检查组件内部输入值的有效性规则。在<code class="fe le lf lg lh b">ValidationProvider</code>中，我们为<code class="fe le lf lg lh b">amount</code>字段提供了BootstrapVue输入。</p><p id="5888" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Vue-Autosuggest组件允许用户选择他们想要转换的货币。<code class="fe le lf lg lh b">suggestions</code>属性包含由用户输入过滤的货币列表，还过滤出其他字段设置的货币。<code class="fe le lf lg lh b">input-props</code> prop包含一个带有输入占位符的对象。<code class="fe le lf lg lh b">v-model</code>已经设置了用户到目前为止输入的内容，我们将在<code class="fe le lf lg lh b">scripts</code>部分使用这些内容来过滤货币。<code class="fe le lf lg lh b">get-suggestion-value</code> prop采用一个函数，以您喜欢的方式返回建议的项目。<code class="fe le lf lg lh b">render-suggestion</code> prop通过向prop传递函数，以您喜欢的方式显示选择。<code class="fe le lf lg lh b">component-attr-class-autosuggest-results-container</code>让我们设置结果下拉列表的类，而<code class="fe le lf lg lh b">selected</code>事件处理程序让我们设置最终选择的值。</p><p id="bc27" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<code class="fe le lf lg lh b">filteredFromCurrencies </code>和<code class="fe le lf lg lh b">filteredToCurrencies</code>函数中，我们通过排除已经输入到另一个下拉菜单中的货币来过滤货币，并且以不区分大小写的方式根据用户到目前为止输入的内容进行过滤。</p><p id="f4c4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一旦用户点击保存，则调用<code class="fe le lf lg lh b">onSubmit</code>功能。在函数内部，调用<code class="fe le lf lg lh b">this.$refs.observer.validate();</code>来检查表单验证。<code class="fe le lf lg lh b">observer</code>是<code class="fe le lf lg lh b">ValidationObserver</code>的ref。观察到的表单验证值在这里。如果它解析为<code class="fe le lf lg lh b">true</code>，我们通过调用从mixin添加的<code class="fe le lf lg lh b">getExchangeRates</code>函数获得基础货币的汇率，然后将其转换为最终的转换金额，并显示在表单下方的模板中。</p><p id="84a6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来在<code class="fe le lf lg lh b">Home.vue</code>中，将现有代码替换为:</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="df78" class="lq lr it lh b gy ls lt l lu lv">&lt;template&gt;<br/>  &lt;div class="page"&gt;<br/>    &lt;h1 class="text-center"&gt;Exchange Rates&lt;/h1&gt;</span><span id="d335" class="lq lr it lh b gy lw lt l lu lv">    &lt;vue-autosuggest<br/>      :suggestions="filteredCurrencies"<br/>      :input-props="{id:'autosuggest__input', placeholder:'Select Currency', class: 'form-control'}"<br/>      v-model="form.currency"<br/>      :get-suggestion-value="getSuggestionValue"<br/>      :render-suggestion="renderSuggestion"<br/>      component-attr-class-autosuggest-results-container="result"<br/>      <a class="ae kf" href="http://twitter.com/selected" rel="noopener ugc nofollow" target="_blank">@selected</a>="onSelected"<br/>    &gt;<br/>      &lt;div slot-scope="{suggestion}"&gt;<br/>        &lt;span class="my-suggestion-item"&gt;{{suggestion.item.name}}&lt;/span&gt;<br/>      &lt;/div&gt;<br/>    &lt;/vue-autosuggest&gt;</span><span id="8d35" class="lq lr it lh b gy lw lt l lu lv">    &lt;h2&gt;Rates&lt;/h2&gt;</span><span id="78d8" class="lq lr it lh b gy lw lt l lu lv">    &lt;b-list-group v-if="ratesFound"&gt;<br/>      &lt;b-list-group-item v-for="(key, value) in exchangeRates.rates" :key="key"&gt;{{key}} - {{value}}&lt;/b-list-group-item&gt;<br/>    &lt;/b-list-group&gt;</span><span id="a320" class="lq lr it lh b gy lw lt l lu lv">    &lt;b-list-group v-else&gt;<br/>      &lt;b-list-group-item&gt;Rate not found.&lt;/b-list-group-item&gt;<br/>    &lt;/b-list-group&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="6170" class="lq lr it lh b gy lw lt l lu lv">&lt;script&gt;<br/>import { requestsMixin } from "@/mixins/requestsMixin";</span><span id="50ff" class="lq lr it lh b gy lw lt l lu lv">export default {<br/>  name: "home",<br/>  mixins: [requestsMixin],<br/>  computed: {<br/>    currencies() {<br/>      return Object.keys(this.$store.state.currencies).map(key =&gt; ({<br/>        value: key,<br/>        name: this.$store.state.currencies[key]<br/>      }));<br/>    },<br/>    filteredCurrencies() {<br/>      const filtered = this.currencies.filter(<br/>        c =&gt;<br/>          (c.value || "")<br/>            .toLowerCase()<br/>            .includes(this.form.currency.toLowerCase()) ||<br/>          (c.name || "")<br/>            .toLowerCase()<br/>            .includes(this.form.currency.toLowerCase())<br/>      );<br/>      return [<br/>        {<br/>          data: filtered<br/>        }<br/>      ];<br/>    }<br/>  },<br/>  data() {<br/>    return {<br/>      form: {<br/>        currency: ""<br/>      },<br/>      exchangeRates: {},<br/>      ratesFound: false<br/>    };<br/>  },<br/>  methods: {<br/>    getSuggestionValue(suggestion) {<br/>      return suggestion.item.name;<br/>    },<br/>    renderSuggestion(suggestion) {<br/>      return suggestion.item.name;<br/>    },<br/>    async onSelected(item) {<br/>      try {<br/>        const { data } = await this.getExchangeRates(item.item.value);<br/>        this.exchangeRates = data;<br/>        this.ratesFound = true;<br/>      } catch (error) {<br/>        this.ratesFound = false;<br/>      }<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="b4eb" class="lq lr it lh b gy lw lt l lu lv">&lt;style lang="scss" scoped&gt;<br/>&lt;/style&gt;</span></pre><p id="0cbe" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是我们应用程序的主页。在顶部，我们有Vue-Autosuggest组件来过滤货币列表中的用户输入。货币列表来自Vuex商店。一旦用户选择了他们的最终值，我们运行来自<code class="fe le lf lg lh b">requestsMixin</code>的<code class="fe le lf lg lh b">this.getExchangeRates</code>，加载所选货币的最新汇率(如果找到的话)。</p><p id="cf83" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来在<code class="fe le lf lg lh b">App.vue</code>中，将现有代码替换为:</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="0232" class="lq lr it lh b gy ls lt l lu lv">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;b-navbar toggleable="lg" type="dark" variant="info"&gt;<br/>      &lt;b-navbar-brand to="/"&gt;Currency Converter&lt;/b-navbar-brand&gt;</span><span id="1aa9" class="lq lr it lh b gy lw lt l lu lv">      &lt;b-navbar-toggle target="nav-collapse"&gt;&lt;/b-navbar-toggle&gt;</span><span id="6fc0" class="lq lr it lh b gy lw lt l lu lv">      &lt;b-collapse id="nav-collapse" is-nav&gt;<br/>        &lt;b-navbar-nav&gt;<br/>          &lt;b-nav-item to="/" :active="path  == '/'"&gt;Home&lt;/b-nav-item&gt;<br/>          &lt;b-nav-item to="/convertcurrency" :active="path  == '/convertcurrency'"&gt;Convert Currency&lt;/b-nav-item&gt;<br/>        &lt;/b-navbar-nav&gt;<br/>      &lt;/b-collapse&gt;<br/>    &lt;/b-navbar&gt;<br/>    &lt;router-view /&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="f61f" class="lq lr it lh b gy lw lt l lu lv">&lt;style lang="scss"&gt;<br/>.page {<br/>  padding: 20px;<br/>}</span><span id="a9c9" class="lq lr it lh b gy lw lt l lu lv">.result {<br/>  position: absolute;<br/>  background-color: white;<br/>  min-width: 350px;<br/>  z-index: 1000;<br/>  ul {<br/>    margin: 0;<br/>    padding: 0;<br/>    border: 1px solid #ced4da;<br/>    border-radius: 3px;<br/>    li {<br/>      list-style-type: none;<br/>      padding-left: 10px;<br/>    }<br/>  }<br/>}<br/>&lt;/style&gt;</span><span id="a841" class="lq lr it lh b gy lw lt l lu lv">&lt;script&gt;<br/>import { requestsMixin } from "@/mixins/requestsMixin";</span><span id="4530" class="lq lr it lh b gy lw lt l lu lv">export default {<br/>  mixins: [requestsMixin],<br/>  data() {<br/>    return {<br/>      path: this.$route &amp;&amp; this.$route.path<br/>    };<br/>  },<br/>  watch: {<br/>    $route(route) {<br/>      this.path = route.path;<br/>    }<br/>  },<br/>  beforeMount() {<br/>    this.getCurrencies();<br/>  },<br/>  methods: {<br/>    async getCurrencies() {<br/>      const { data } = await this.getCurrenciesList();<br/>      this.$store.commit("setCurrencies", data);<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="f022" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里我们添加了BootstrapVue导航栏。我们还有显示路线的<code class="fe le lf lg lh b">router-view</code>。在<code class="fe le lf lg lh b">scripts</code>部分，我们观察<code class="fe le lf lg lh b">$route</code>变量来获取用户导航的当前路线，以设置<code class="fe le lf lg lh b">b-nav-item</code>的<code class="fe le lf lg lh b">active</code>属性。此外，当这个组件加载时，我们获取货币并将其放入我们的Vuex存储中，这样我们就可以获取所有组件中的数据。我们在这里加载它，因为这是应用程序的入口组件。</p><p id="3397" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个组件还保存了我们应用程序的全局样式。<code class="fe le lf lg lh b">result</code>类用于设计自动完成下拉菜单的样式。我们将<code class="fe le lf lg lh b">position</code>设置为<code class="fe le lf lg lh b">absolute</code>,使其显示在其他项目之上，并允许其与其他项目重叠。我们还设置了下拉菜单的颜色，并为其添加了边框。当<code class="fe le lf lg lh b">list-style-type</code>设置为<code class="fe le lf lg lh b">none</code>时，列表项目的点被移除。我们有<code class="fe le lf lg lh b">page</code>类来给页面添加一些填充。</p><p id="42fe" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来在<code class="fe le lf lg lh b">main.js</code>中，将现有代码替换为:</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="e3fa" class="lq lr it lh b gy ls lt l lu lv">import Vue from "vue";<br/>import App from "./App.vue";<br/>import router from "./router";<br/>import store from "./store";<br/>import BootstrapVue from "bootstrap-vue";<br/>import "bootstrap/dist/css/bootstrap.css";<br/>import "bootstrap-vue/dist/bootstrap-vue.css";<br/>import VueAutosuggest from "vue-autosuggest";<br/>import { ValidationProvider, extend, ValidationObserver } from "vee-validate";<br/>import { required, min_value } from "vee-validate/dist/rules";<br/>extend("required", required);<br/>extend("min_value", min_value);<br/>Vue.component("ValidationProvider", ValidationProvider);<br/>Vue.component("ValidationObserver", ValidationObserver);<br/>Vue.use(VueAutosuggest);<br/>Vue.use(BootstrapVue);</span><span id="50cc" class="lq lr it lh b gy lw lt l lu lv">Vue.config.productionTip = false;</span><span id="1b0d" class="lq lr it lh b gy lw lt l lu lv">new Vue({<br/>  router,<br/>  store,<br/>  render: h =&gt; h(App)<br/>}).$mount("#app");</span></pre><p id="b00f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们在这里添加了BootstrapVue、Vue-Autosuggest和Vee-Validate到我们的应用程序中。此外，我们添加了我们在这里使用的Vee-Validate验证规则，其中包括用于确保所有内容都被填充的<code class="fe le lf lg lh b">required</code>规则，以及用于金额的<code class="fe le lf lg lh b">min_value</code>规则。这里还包含了引导CSS来设计我们所有组件的样式。</p><p id="d977" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后在<code class="fe le lf lg lh b">router.js</code>中，将现有代码替换为:</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="8884" class="lq lr it lh b gy ls lt l lu lv">import Vue from "vue";<br/>import Router from "vue-router";<br/>import Home from "./views/Home.vue";<br/>import ConvertCurrency from "./views/ConvertCurrency.vue";</span><span id="33cc" class="lq lr it lh b gy lw lt l lu lv">Vue.use(Router);</span><span id="f240" class="lq lr it lh b gy lw lt l lu lv">export default new Router({<br/>  mode: "history",<br/>  base: process.env.BASE_URL,<br/>  routes: [<br/>    {<br/>      path: "/",<br/>      name: "home",<br/>      component: Home<br/>    },<br/>    {<br/>      path: "/convertcurrency",<br/>      name: "convertcurrency",<br/>      component: ConvertCurrency<br/>    }<br/>  ]<br/>});</span></pre><p id="14c6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">添加我们的路线，以便用户可以看到我们的页面。</p><p id="cd79" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<code class="fe le lf lg lh b">store.js</code>中，将现有代码替换为:</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="694b" class="lq lr it lh b gy ls lt l lu lv">import Vue from "vue";<br/>import Vuex from "vuex";</span><span id="6b83" class="lq lr it lh b gy lw lt l lu lv">Vue.use(Vuex);</span><span id="4871" class="lq lr it lh b gy lw lt l lu lv">export default new Vuex.Store({<br/>  state: {<br/>    currencies: {}<br/>  },<br/>  mutations: {<br/>    setCurrencies(state, payload) {<br/>      state.currencies = payload;<br/>    }<br/>  },<br/>  actions: {}<br/>});</span></pre><p id="ff0b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">存储我们在所有组件中使用的货币列表。我们在<code class="fe le lf lg lh b">mutation</code>对象和由组件观察的<code class="fe le lf lg lh b">currencies</code>状态中有setter函数。</p><p id="8ee3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后在<code class="fe le lf lg lh b">index.html</code>中，我们将现有代码替换为:</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="480d" class="lq lr it lh b gy ls lt l lu lv">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;meta charset="utf-8" /&gt;<br/>    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge" /&gt;<br/>    &lt;meta name="viewport" content="width=device-width,initial-scale=1.0" /&gt;<br/>    &lt;link rel="icon" href="&lt;%= BASE_URL %&gt;favicon.ico" /&gt;<br/>    &lt;title&gt;Currency Converter&lt;/title&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;noscript&gt;<br/>      &lt;strong<br/>        &gt;We're sorry but vue-autocomplete-tutorial-app doesn't work properly<br/>        without JavaScript enabled. Please enable it to continue.&lt;/strong<br/>      &gt;<br/>    &lt;/noscript&gt;<br/>    &lt;div id="app"&gt;&lt;/div&gt;<br/>    &lt;!-- built files will be auto injected --&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="ec8e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">改一下标题。</p><p id="9e88" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，当我们运行<code class="fe le lf lg lh b">npm run serve</code>时，我们得到如下结果:</p><figure class="li lj lk ll gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lx"><img src="../Images/a4bc5a7d45d32a2a2eafb174f8942bfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kxp8PeoWFas74deBYb65Ug.png"/></div></div></figure><figure class="li lj lk ll gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lx"><img src="../Images/72c26de99f0f366100fbadeebcea8be3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HGRqS2EK3pywicJu5m-q0A.png"/></div></div></figure></div></div>    
</body>
</html>