<html>
<head>
<title>6 Tips to Avoid Using IF Statements</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">避免使用IF语句的6个技巧</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/6-tips-to-avoid-using-if-statements-17f99f118d23?source=collection_archive---------8-----------------------#2022-12-26">https://levelup.gitconnected.com/6-tips-to-avoid-using-if-statements-17f99f118d23?source=collection_archive---------8-----------------------#2022-12-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="903b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">这些优化技巧将防止我们在JavaScript中过多使用IF语句</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f5d16e58ee196acc306bc2c77d2d4c69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rakOWHpk3RHLZ3c0lvxt7A.png"/></div></div></figure><p id="01c7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在最近重构我的代码时，我注意到早期的代码使用了太多的if语句，达到了我从未见过的程度。这就是为什么我认为分享这些简单的技巧很重要，它们可以帮助我们避免使用太多的if语句。</p><p id="cf9d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">接下来，我们将介绍6种使用if的方法。这并不是抵制使用if妄想症，而是换一种方式思考我们的编码思路。</p><h2 id="8439" class="lq lr it bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">1.三元条件运算符</h2><p id="3cdf" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated"><strong class="kw iu">例1: </strong></p><p id="3d9a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">用IF编码:</p><pre class="kj kk kl km gt mo mp mq bn mr ms bi"><span id="18d2" class="mt lr it mp b be mu mv l mw mx">function customerValidation(customer) {<br/>  if (!customer.email) {<br/>    return error('email is require')<br/>  } else if (!customer.login) {<br/>    return error('login is required')<br/>  } else if (!customer.name) {<br/>    return error('name is required')<br/>  } else {<br/>    return customer<br/>  }<br/>}</span></pre><p id="9fa8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">重构代码:</p><pre class="kj kk kl km gt mo mp mq bn mr ms bi"><span id="05b3" class="mt lr it mp b be mu mv l mw mx">const customerValidation = customer =&gt;<br/>  !customer.email   ? error('email is required')<br/>  : !customer.login ? error('login is required')<br/>  : !customer.name  ? error('name is required')<br/>                    : customer</span></pre><p id="db30" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">例二:</strong></p><p id="625e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">用IF编码:</p><pre class="kj kk kl km gt mo mp mq bn mr ms bi"><span id="812d" class="mt lr it mp b be mu mv l mw mx">function getEventTarget(evt) {<br/>    if (!evt) {<br/>        evt = window.event;<br/>    }<br/>    if (!evt) {<br/>        return;<br/>    }<br/>    const target;<br/>    if (evt.target) {<br/>        target = evt.target;<br/>    } else {<br/>        target = evt.srcElement;<br/>    }<br/>    return target;<br/>}</span></pre><p id="fcbc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">重构代码:</p><pre class="kj kk kl km gt mo mp mq bn mr ms bi"><span id="6521" class="mt lr it mp b be mu mv l mw mx">function getEventTarget(evt) {<br/>  evt = evt || window.event;<br/>  return evt &amp;&amp; (evt.target || evt.srcElement);<br/>}</span></pre><h2 id="86da" class="lq lr it bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">2.短路逻辑运算符</h2><p id="5ff3" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated"><strong class="kw iu">例一:</strong></p><p id="6496" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">用IF编码:</p><pre class="kj kk kl km gt mo mp mq bn mr ms bi"><span id="873c" class="mt lr it mp b be mu mv l mw mx">const isOnline = true;<br/>const makeReservation= ()=&gt;{};<br/>const user = {<br/>    name:'Damian',<br/>    age:32,<br/>    dni:33295000<br/>};<br/><br/>if (isOnline){<br/>    makeReservation(user);<br/>}<br/></span></pre><p id="2b9e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">重构代码:</p><pre class="kj kk kl km gt mo mp mq bn mr ms bi"><span id="49a2" class="mt lr it mp b be mu mv l mw mx">const isOnline = true;<br/>const makeReservation= ()=&gt;{};<br/>const user = {<br/>    name:'Damian',<br/>    age:32,<br/>    dni:33295000<br/>};<br/><br/>isOnline&amp;&amp;makeReservation(user);</span></pre><p id="237e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">例2: </strong></p><p id="54a3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">用IF编码:</p><pre class="kj kk kl km gt mo mp mq bn mr ms bi"><span id="42ee" class="mt lr it mp b be mu mv l mw mx">const active = true;<br/>const loan = {<br/>    uuid:123456,<br/>    ammount:10,<br/>    requestedBy:'rick'<br/>};<br/><br/>const sendMoney = ()=&gt;{};<br/><br/>if (active&amp;&amp;loan){<br/>    sendMoney();<br/>}</span></pre><p id="4ef9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">重构代码:</p><pre class="kj kk kl km gt mo mp mq bn mr ms bi"><span id="fd06" class="mt lr it mp b be mu mv l mw mx">const active = true;<br/>const loan = {<br/>    uuid:123456,<br/>    ammount:10,<br/>    requestedBy:'rick'<br/>};<br/><br/>const sendMoney = ()=&gt;{};<br/><br/>active &amp;&amp; loan &amp;&amp; sendMoney();</span></pre><h2 id="8b8b" class="lq lr it bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">3.职能委托</h2><p id="35e1" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated"><strong class="kw iu">例1: </strong></p><p id="c846" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">用IF编码:</p><pre class="kj kk kl km gt mo mp mq bn mr ms bi"><span id="9c8b" class="mt lr it mp b be mu mv l mw mx">function itemDropped(item, location) {<br/>    if (!item) {<br/>        return false;<br/>    } else if (outOfBounds(location) {<br/>        var error = outOfBounds;<br/>        server.notify(item, error);<br/>        items.resetAll();<br/>        return false;<br/>    } else {<br/>        animateCanvas();<br/>        server.notify(item, location);<br/>        return true;<br/>    }<br/>}</span></pre><p id="0996" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">重构代码:</p><pre class="kj kk kl km gt mo mp mq bn mr ms bi"><span id="9f38" class="mt lr it mp b be mu mv l mw mx">function itemDropped(item, location) {<br/>    const dropOut = function() {<br/>        server.notify(item, outOfBounds);<br/>        items.resetAll();<br/>        return false;<br/>    }<br/><br/>    const dropIn = function() {<br/>        server.notify(item, location);<br/>        animateCanvas();<br/>        return true;<br/>    }<br/><br/>    return !!item &amp;&amp; (outOfBounds(location) ? dropOut() : dropIn());<br/>}</span></pre><h2 id="2fdd" class="lq lr it bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">4.无分支策略</h2><p id="22b8" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated"><strong class="kw iu">例1: </strong></p><p id="9667" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">带开关的代码:</p><pre class="kj kk kl km gt mo mp mq bn mr ms bi"><span id="cb96" class="mt lr it mp b be mu mv l mw mx">switch(breed){<br/>    case 'border':<br/>      return 'Border Collies are good boys and girls.';<br/>      break;  <br/>    case 'pitbull':<br/>      return 'Pit Bulls are good boys and girls.';<br/>      break;  <br/>    case 'german':<br/>      return 'German Shepherds are good boys and girls.';<br/>      break;<br/>    default:<br/>      return 'Im default'<br/>}</span></pre><p id="f9e3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">重构代码:</p><pre class="kj kk kl km gt mo mp mq bn mr ms bi"><span id="56db" class="mt lr it mp b be mu mv l mw mx">const dogSwitch = (breed) =&gt;({<br/>  "border": "Border Collies are good boys and girls.",<br/>  "pitbull": "Pit Bulls are good boys and girls.",<br/>  "german": "German Shepherds are good boys and girls.",  <br/>})[breed]||'Im the default';<br/><br/>dogSwitch("border xxx")</span></pre><h2 id="bd8e" class="lq lr it bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">5.作为数据的函数</h2><p id="6f18" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">我们知道在JS中函数是第一类，所以使用它我们可以把代码分割成一个函数对象。</p><p id="4132" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">用IF编码:</p><pre class="kj kk kl km gt mo mp mq bn mr ms bi"><span id="c04d" class="mt lr it mp b be mu mv l mw mx">const calc = {<br/>    run: function(op, n1, n2) {<br/>        const result;<br/>        if (op == "add") {<br/>            result = n1 + n2;<br/>        } else if (op == "sub" ) {<br/>            result = n1 - n2;<br/>        } else if (op == "mult" ) {<br/>            result = n1 * n2;<br/>        } else if (op == "div" ) {<br/>            result = n1 / n2;<br/>        }<br/>        return result;<br/>    }<br/>}<br/><br/>calc.run("sub", 5, 3); //2</span></pre><p id="d9d6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">重构代码:</p><pre class="kj kk kl km gt mo mp mq bn mr ms bi"><span id="bd73" class="mt lr it mp b be mu mv l mw mx">const calc = {<br/>    add : function(a,b) {<br/>        return a + b;<br/>    },<br/>    sub : function(a,b) {<br/>        return a - b;<br/>    },<br/>    mult : function(a,b) {<br/>        return a * b;<br/>    },<br/>    div : function(a,b) {<br/>        return a / b;<br/>    },<br/>    run: function(fn, a, b) {<br/>        return fn &amp;&amp; fn(a,b);<br/>    }<br/>}<br/><br/>calc.run(calc.mult, 7, 4); //28</span></pre><h2 id="69bf" class="lq lr it bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">6.多态性</h2><p id="fc26" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">多态是一个对象拥有多种形式的能力。OOP中多态性最常见的用途是使用父类引用来引用子类对象。</p><p id="5e23" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">用IF编码:</p><pre class="kj kk kl km gt mo mp mq bn mr ms bi"><span id="2018" class="mt lr it mp b be mu mv l mw mx">const bob = {<br/>  name:'Bob',<br/>  salary:1000,<br/>  job_type:'DEVELOPER'<br/>};<br/><br/>const mary = {<br/>  name:'Mary',<br/>  salary:1000,<br/>  job_type:'QA'<br/>};<br/><br/>const calc = (person) =&gt;{<br/><br/>    if (people.job_type==='DEVELOPER')<br/>        return person.salary+9000*0.10;<br/><br/>    if (people.job_type==='QA')<br/>        return person.salary+1000*0.60;<br/>}<br/><br/>console.log('Salary',calc(bob));<br/>console.log('Salary',calc(mary));</span></pre><p id="857d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">重构代码:</p><pre class="kj kk kl km gt mo mp mq bn mr ms bi"><span id="5921" class="mt lr it mp b be mu mv l mw mx"><br/>const qaSalary  = (base) =&gt; base+9000*0.10;<br/>const devSalary = (base) =&gt; base+1000*0.60;<br/><br/>//Add function to the object.<br/>const bob = {<br/>  name:'Bob',<br/>  salary:1000,<br/>  job_type:'DEVELOPER',<br/>  calc: devSalary<br/>};<br/><br/>const mary = {<br/>  name:'Mary',<br/>  salary:1000,<br/>  job_type:'QA',<br/>  calc: qaSalary<br/>};<br/><br/>console.log('Salary',bob.calc(bob.salary));<br/>console.log('Salary',mary.calc(mary.salary));</span></pre></div></div>    
</body>
</html>