<html>
<head>
<title>Shared Modules in Module Federation Microfrontends</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">模块联合微前端中的共享模块</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/shared-modules-in-module-federation-microfrontends-a547f77e7b54?source=collection_archive---------0-----------------------#2021-10-10">https://levelup.gitconnected.com/shared-modules-in-module-federation-microfrontends-a547f77e7b54?source=collection_archive---------0-----------------------#2021-10-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/eccf66946b0daaa7c31f4e89b22d6f55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*v9xLXzMJIuPova82bK0ouA.gif"/></div></div></figure><p id="4c40" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">本文将解释如何在不同的联邦微前端模块之间共享模块和库</p><p id="607d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在前两篇文章中，我们创建了一个承载两个微前端的门户:产品和事件微前端。我使用不同的回购协议和不同的命名来模拟不同的团队构建它们。</p><div class="kw kx gp gr ky kz"><a rel="noopener  ugc nofollow" target="_blank" href="/microfrontends-hands-on-project-with-module-federation-part-1-c4eda1ffcf10"><div class="la ab fo"><div class="lb ab lc cl cj ld"><h2 class="bd ir gy z fp le fr fs lf fu fw ip bi translated">具有模块联合的微前端实践项目—第1部分</h2><div class="lg l"><h3 class="bd b gy z fp le fr fs lf fu fw dk translated">本文将介绍架构、设计、实现和部署现实生活中的微前端项目。</h3></div><div class="lh l"><p class="bd b dl z fp le fr fs lf fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="li l"><div class="lj l lk ll lm li ln jw kz"/></div></div></a></div><div class="kw kx gp gr ky kz"><a rel="noopener  ugc nofollow" target="_blank" href="/microfrontends-hands-on-project-with-module-federation-events-microfrontend-ce8a7f8a16ad"><div class="la ab fo"><div class="lb ab lc cl cj ld"><h2 class="bd ir gy z fp le fr fs lf fu fw ip bi translated">具有模块联合的动手项目—事件</h2><div class="lg l"><h3 class="bd b gy z fp le fr fs lf fu fw dk translated">在本文中，我们将创建事件Mmicrofrontend并将其添加到门户中</h3></div><div class="lh l"><p class="bd b dl z fp le fr fs lf fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="li l"><div class="lo l lk ll lm li ln jw kz"/></div></div></a></div><p id="c924" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然而，我们没有一起展示两个微前端，因为我们没有解释如何共享模块，尤其是React。让我们在这篇文章中这样做。</p><p id="0123" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi">================================</p><p id="a510" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">克隆起始项目</p><p id="39fb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">按照下面的文章克隆我们将在本次实践中使用的起始项目</p><div class="kw kx gp gr ky kz"><a href="https://www.linkedin.com/pulse/microfrontends-module-federation-project-setup-elhousieny-phd%25E1%25B4%25AC%25E1%25B4%25AE%25E1%25B4%25B0" rel="noopener  ugc nofollow" target="_blank"><div class="la ab fo"><div class="lb ab lc cl cj ld"><h2 class="bd ir gy z fp le fr fs lf fu fw ip bi translated">用于共享模块的带有模块联合项目设置的微前端</h2><div class="lg l"><h3 class="bd b gy z fp le fr fs lf fu fw dk translated">步骤可以在下面的视频中找到:让我们克隆并设置项目，以了解如何共享模块和…</h3></div><div class="lh l"><p class="bd b dl z fp le fr fs lf fu fw dk translated">www.linkedin.com</p></div></div><div class="li l"><div class="lp l lk ll lm li ln jw kz"/></div></div></a></div><figure class="lq lr ls lt gt jr"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="bfba" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">克隆项目后，您将能够在Visual Studio代码中看到如下三个文件夹:</p><figure class="lq lr ls lt gt jr gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/dbde229c2fe9b6bb7b075669a7bb1027.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/1*vCV-dnxksLNoKqyO-22_Hg.png"/></div></figure><p id="3b73" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi">==============</p><p id="596e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你会有产品和其他微前端。让我们确保开发人员工具运行在产品的微前端</p><figure class="lq lr ls lt gt jr gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/4d413515ddd636fc5bd06df65f857139.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/0*I5_iituVT_d2Vmjx"/></div></figure><figure class="lq lr ls lt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ly"><img src="../Images/5f6015b5ec3e62370449d6393bc0465c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_dyn-flmjmz4BfuW"/></div></div></figure><p id="2331" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi">========</p><h1 id="e351" class="lz ma iq bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">分享反应</h1><figure class="lq lr ls lt gt jr"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="07d0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们将react添加到产品微前端，如下所示</p><ol class=""><li id="8718" class="mx my iq ka b kb kc kf kg kj mz kn na kr nb kv nc nd ne nf bi translated">用ctrl + c停止项目</li><li id="7620" class="mx my iq ka b kb ng kf nh kj ni kn nj kr nk kv nc nd ne nf bi translated">将react作为共享模块添加到shared/Products/web pacl . config . js中</li></ol><figure class="lq lr ls lt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nl"><img src="../Images/d0507090c8ddef4dc21ad9b7882b4a6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3obeAXYsdOSe98E0"/></div></div></figure><pre class="lq lr ls lt gt nm nn no np aw nq bi"><span id="8b4c" class="nr ma iq nn b gy ns nt l nu nv">shard: ['react]</span></pre><p id="ec85" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在让我们重新开始这个项目。</p><pre class="lq lr ls lt gt nm nn no np aw nq bi"><span id="1f4b" class="nr ma iq nn b gy ns nt l nu nv">yarn run start</span></pre><figure class="lq lr ls lt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nw"><img src="../Images/01dfdc75e27e34d72574b44065dad65a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Vp2r1eeX5gw1lWRL"/></div></div></figure><p id="c3fb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当您刷新<a class="ae nx" href="http://localhost:8001," rel="noopener ugc nofollow" target="_blank"> http://localhost:8001，</a>时，您将在开发工具控制台中看到如上所示的错误。此外，您会注意到它无法呈现内容。这是加载index.js的常见错误，立即(急切)。请阅读下面的文章，了解完整的解决方案。</p><div class="kw kx gp gr ky kz"><a href="https://www.linkedin.com/pulse/uncaught-error-shared-module-available-eager-rany-elhousieny-phd%E1%B4%AC%E1%B4%AE%E1%B4%B0/" rel="noopener  ugc nofollow" target="_blank"><div class="la ab fo"><div class="lb ab lc cl cj ld"><h2 class="bd ir gy z fp le fr fs lf fu fw ip bi translated">未捕获的错误:共享模块不可用于急切消费</h2><div class="lg l"><h3 class="bd b gy z fp le fr fs lf fu fw dk translated">如果您试图在模块联邦微前端之间共享模块，您可能会面临以下奇怪的…</h3></div><div class="lh l"><p class="bd b dl z fp le fr fs lf fu fw dk translated">www.linkedin.com</p></div></div><div class="li l"><div class="ny l lk ll lm li ln jw kz"/></div></div></a></div><figure class="lq lr ls lt gt jr"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="e58f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi">==============</p><p id="dc55" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">解决问题并添加引导程序后，您将能够正确呈现产品的微前端，如下所示:</p><figure class="lq lr ls lt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nz"><img src="../Images/a746e55724d38cfb5a7566e7343546c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*th2hXEwHPYwjG12m"/></div></div></figure><p id="2ea7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们为events-microfrontend重复相同的步骤，通过添加React作为共享模块，将index.js重命名为bootstrap.js，并用一行代码<code class="fe oa ob oc nn b">import ('./bootstrap.js');</code>创建index.js</p><p id="a411" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">以下视频中的细节</p><figure class="lq lr ls lt gt jr"><div class="bz fp l di"><div class="od lv l"/></div></figure></div></div>    
</body>
</html>