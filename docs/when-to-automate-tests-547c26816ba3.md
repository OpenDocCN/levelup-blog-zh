# 何时自动化测试

> 原文：<https://levelup.gitconnected.com/when-to-automate-tests-547c26816ba3>

![](img/736549e0256cd6de74cbd0b97813eff2.png)

穆罕默德·拉赫马尼在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片

不要被愚弄——测试自动化并不总是优于手工测试。自动化所有的测试是不实际的。即使是这样，一些测试用例更适合手工测试。您如何知道哪些测试需要自动化？考虑以下属性。

# 可重用性

即使测试基础设施已经可用，开发测试脚本也需要时间。如果一个测试只需要执行几次，那么手动运行会更节省时间。

自动化测试的完美候选是任何回归测试。回归测试证实了在新的代码更改后，现有的特性仍然可以正常运行。对于应用持续集成实践的团队来说，每当对存储库进行提交时，都应该运行回归测试。当每个开发人员每天都进行几次提交时，手工测试就不再可行了。

# 测试维护

像任何其他形式的代码一样，测试脚本和框架需要维护。随着测试项目的发展，即使是高度可重用的测试也需要重构。在创建测试用例之前，应该考虑维护测试用例所增加的时间。

# 运行时间

不是所有的测试用例都是即时的。有些可能需要几个小时，甚至几天。运行时间长的测试用例，或者步骤之间有很长的停机时间的测试用例应该自动化。

如何自动化长测试套件？如果测试用例需要可用于开发的硬件或其他资源，那么将它们安排在工作时间之外运行。它只需要一个简单的调度程序，将作业排队并在以后运行。

通过测试脚本节省人力时间是有价值的，但是测试效率并不仅限于自动化。花时间让你的测试套件运行得更快。更快的测试套件允许您执行更多的测试，以便在您的代码发布到产品之前发现更多的 bug。

你如何加速你的测试套件？让它们通过多线程并行运行。假设您有 10 个测试，每个测试需要运行一个小时。单线程需要 10 个小时。如果每个测试都有自己的线程，那么只需要 1 个小时——也就是节省了 9 个小时的测试时间。

# 数据量

如果测试用例使用大量数据或者执行非常重复的任务——比如在压力测试期间——它应该是自动化的。压力测试通过将系统置于极端条件下来确定系统的断裂点。如果您正在测试一个 web 应用程序，您可以执行一个压力测试，用 POST 或 GET 请求淹没它，直到它崩溃。即使手动执行一次该测试也是非常繁琐和耗时的。

![](img/c87600b61cc243141aefe8200d996b7f.png)

# 客观性和决定论及格/不及格

自动化测试用例需要客观的通过/失败条件，比如将值与阈值进行比较或者执行相等性检查。如果你的测试是主观的，那么它就不能自动化。一个永远不应该自动化的测试用例的教科书例子是任何与用户体验相关的东西。无论你的测试有多复杂，它都不能代替用户的意见。

即使您的测试有客观的通过/失败条件，您也必须确保它是确定的，这意味着用相同的输入运行它将总是产生相同的输出。如果您的测试*闪烁*——有时通过，有时失败，而不改变测试中的代码——测试结果不再确保没有引入错误。相反，您将不得不手动检查每个测试运行，这违背了自动化的目的。

# 耗尽性

测试脚本将只使用给定的参数执行被告知的检查。如果中间有任何失败，测试仍然会通过。可以实现许多不同的参数化来提高穷举性，但是测试检查的内容是固定的。在测试用例创建之前，测试人员必须假设系统可能如何失败，允许不可预见的错误被忽略。

另一种不能自动化的测试是临时测试。在特别测试期间，测试人员执行随机检查。没有预设的测试计划，一切都是临时准备的。自动化测试不是探索性的，并且永远无法像人工特别测试人员那样找到角落案例。

# 结论

自动化测试是一把双刃剑。它可以提高你的质量保证实践，也可能是一种损害。在您自动化一个测试用例之前，花时间确定收益是否超过成本。