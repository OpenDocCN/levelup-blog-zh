<html>
<head>
<title>Making a Modular Treasure Chest System</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">制作一个模块化的百宝箱系统</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/making-a-modular-treasure-chest-system-2b0a29a73ec?source=collection_archive---------10-----------------------#2022-07-21">https://levelup.gitconnected.com/making-a-modular-treasure-chest-system-2b0a29a73ec?source=collection_archive---------10-----------------------#2022-07-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div class="gh gi ir"><img src="../Images/2baba006630ff9d520a3aab1ec897323.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*L2ZuqAKCY9ARgJZ0VMGVNw.gif"/></div></figure><div class=""/><p id="9726" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">在我的上一篇文章中，我介绍了如何为你的游戏制作一个电影版的宝箱。这篇文章讲述了如何让游戏设计者更加模块化和可定制化。我们开始吧！</p><p id="4146" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">以下是我将在本文中使用的所有对象。有一个<em class="kv">时间线</em>组件的<em class="kv">导演</em>对象，一个<em class="kv">战利品盒</em>游戏对象，一个<em class="kv">虚拟摄像机</em>用于在收集时查看战利品盒，两个<em class="kv">粒子系统</em>在一个父对象下，一个<em class="kv">音频源</em>，以及一个<em class="kv">画布</em>设置为<em class="kv">世界空间</em>具有一个<em class="kv">文本网格Pro </em>对象。</p><figure class="kx ky kz la gt iv gh gi paragraph-image"><div class="gh gi kw"><img src="../Images/cb6d3080ee8414768a3e6efca2e65fcd.png" data-original-src="https://miro.medium.com/v2/resize:fit:646/format:webp/1*6eXh87gskMhpepl68ZX7sA.png"/></div></figure><p id="ac7c" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><em class="kv">战利品项目文本</em>对象分配有<em class="kv">广告牌脚本</em>组件。</p><figure class="kx ky kz la gt iv gh gi paragraph-image"><div class="gh gi lb"><img src="../Images/e903af2ebee3134b0f26d39465dbdf47.png" data-original-src="https://miro.medium.com/v2/resize:fit:806/format:webp/1*h-IE6cdl61z2pS78O4z78A.png"/></div></figure><p id="4471" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">战利品箱导演对象有一个战利品箱<em class="kv">脚本</em>分配。在这里，设计者可以将一个期望的<em class="kv">互动对象预置</em>分配到<em class="kv">战利品项目</em>分配框中。你可以拖拽一个<em class="kv">物品掉落声音</em>(我可能应该称之为物品收集声音)，也可以输入你想要在箱子上显示的物品的<em class="kv">名称</em>。有一个<em class="kv">位置</em>偏移量，可以用来调整战利品的掉落位置。然后是用于物品掉落的<em class="kv">文本对象</em>以及一个<em class="kv">位置偏移</em>来调整出现在战利品箱上的位置。有两个<em class="kv">等待时间</em>，一个用于<em class="kv">物品掉落</em>的延迟，另一个用于<em class="kv">关闭</em>物品收集后<em class="kv">粒子</em>和文本的延迟。</p><figure class="kx ky kz la gt iv gh gi paragraph-image"><div class="gh gi lc"><img src="../Images/d26076557c02f3b2e9873c4b19368e70.png" data-original-src="https://miro.medium.com/v2/resize:fit:798/format:webp/1*zDUMPmTnXbWxhIWdTEKbEw.png"/></div></figure><p id="9a5d" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><em class="kv">广告牌</em>剧本很短但是很甜。它使用一个<em class="kv">变换</em>赋值给<em class="kv">看</em>一个目标。这个目标将是<em class="kv">主摄像机</em>，它位于<em class="kv">无效启动</em>中。<em class="kv">后期更新</em>被调用是为了避免奇怪的相机移动，它使用<em class="kv">transform。查看</em>面向目标变换的前进方向，确保2D文本始终面向摄像机。</p><figure class="kx ky kz la gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi ld"><img src="../Images/eda1f47af620aa82cca6d1e43e1d35de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m79OgauDDIZgo_7IavRe6g.png"/></div></div></figure><p id="8184" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><em class="kv"> Loot Bin脚本</em>有一个<em class="kv">序列化字段</em>的集合，这是让游戏设计者<em class="kv">在<em class="kv">检查器</em>中分配</em>对象的集合。这正是模块化的用武之地。整个战利品箱导演对象变成一个<em class="kv">预置</em>。现在它可以被拖放到游戏场景中的任何地方并投入使用。放置在场景中的<em class="kv">拾取箱控制器</em>的每个<em class="kv">实例</em>，可以有不同的掉落物品、声音、文本描述、延迟时间和位置偏移。</p><figure class="kx ky kz la gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi li"><img src="../Images/b053a9703cdc274935207c85b48aed86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DUlrOSgHSWsRKL2SVOPoag.png"/></div></div></figure><p id="3997" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">空<em class="kv">开始</em>充满了被<em class="kv">分配</em>的对象。</p><figure class="kx ky kz la gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi lj"><img src="../Images/0077987d3ec7687260e30e42a778094c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*weEpjkB8jWFNYBOgnxJJEg.png"/></div></div></figure><p id="085a" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">在<em class="kv">导演</em>对象上有一个<em class="kv">碰撞器</em>，它使用<em class="kv">控制器</em>，在碰撞时对玩家做出非常灵敏的反应。如果玩家按下“O”<em class="kv">(打开)</em>，同时在战利品箱旁边，将启动<em class="kv">时间线</em>动画。如果战利品已经掉落，当玩家按下<em class="kv"> E键</em>(装备)时，调用<em class="kv">禁用战利品箱</em>额外物品的方法。</p><figure class="kx ky kz la gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi lk"><img src="../Images/345a1e2359e9f2f61cde7ecf5031750e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FHKgDk4yWzvFYva8y7B9hA.png"/></div></div></figure><p id="0f2d" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><em class="kv">创建战利品物品方法</em>首先设置延迟时间。这给了动画播放的时间。然后，被掠夺物品在箱子的<em class="kv">位置</em>被<em class="kv">实例化</em>，加上指定的<em class="kv">偏移量</em>。项目<em class="kv">音频播放</em>，我实际上应该移动到下一个方法，改为收集时播放。Disable方法关闭碰撞器，所以它不再浪费空间。画布和粒子系统都被禁用。</p><figure class="kx ky kz la gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi ll"><img src="../Images/c892f7a825bba55315f8fbaca82d2381.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k_9c-EhE89cSdCE3Y9BU9g.png"/></div></div></figure><p id="3e49" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">作为参考，这里是<em class="kv">时间轴</em>编辑器中的一切。</p><figure class="kx ky kz la gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi lm"><img src="../Images/778c5cf52d69bf9581ea12a86d7d13f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r7-mM7sM6bfRWK-hO28saQ.png"/></div></div></figure><p id="c0a7" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">当该说的都说了，该做的都做了，物品被收集起来并添加到库存中！</p><figure class="kx ky kz la gt iv gh gi paragraph-image"><div class="gh gi ir"><img src="../Images/2baba006630ff9d520a3aab1ec897323.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*L2ZuqAKCY9ARgJZ0VMGVNw.gif"/></div></figure></div></div>    
</body>
</html>