<html>
<head>
<title>A quick tutorial on Hugo templates and creating your theme</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于Hugo模板和创建主题的快速教程</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/a-quick-tutorial-on-hugo-templates-creating-your-theme-a4102b42a85f?source=collection_archive---------3-----------------------#2020-12-15">https://levelup.gitconnected.com/a-quick-tutorial-on-hugo-templates-creating-your-theme-a4102b42a85f?source=collection_archive---------3-----------------------#2020-12-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/eff87b8c24fe3a0802a65b7fe9955e22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AFj6T0QnJbFAK_xz-YdEEg.jpeg"/></div></div></figure><p id="df36" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这个快速实践教程有助于理解Hugo主题和模板背后的逻辑。我们将从头开始创建自己的网站和主题，看看不同的模板布局如何相互作用和内容。</p><p id="4bd3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用<code class="fe kw kx ky kz b">hugo new site</code>命令为我们的新网站创建结构:</p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div class="gh gi la"><img src="../Images/c0c63138a85f55c7f9e4cc58a4ad176d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/1*E8jMmZdv_2UMeppDs5_Svw.png"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">使用“hugo新站点”命令创建新的Hugo站点</figcaption></figure><p id="2946" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如你所见，我们有两个选择:使用现成的主题或创建我们自己的主题。我认为掌握所有不同的布局和内容文件如何交互的最好方法是创建我们自己的主题，并以我们自己的方式工作。我们从<code class="fe kw kx ky kz b">hugo new theme</code>命令开始:</p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div class="gh gi lj"><img src="../Images/e0c6abb19016ffebf0530f452e5c3dcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:798/format:webp/1*qeBZMnIJa58KnpcA4vRt7g.png"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">使用“hugo新主题”命令创建新主题</figcaption></figure><p id="dc8b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">该命令创建一个新的空主题，带有文件夹结构和必要的文件。</p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div class="gh gi lk"><img src="../Images/52b94a87876638c5d45293c62863d07f.png" data-original-src="https://miro.medium.com/v2/resize:fit:350/format:webp/1*xCxlCRuDUR5xW1tagfIMwA.png"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">最近创建的主题的文件夹结构和内容</figcaption></figure><p id="297a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果我们用<code class="fe kw kx ky kz b">hugo server</code>命令启动服务器，我们会得到如下所示的一些警告(我们很快会回到这个问题)。然后，如果我们去<a class="ae ll" href="http://localhost:1313/" rel="noopener ugc nofollow" target="_blank"> localhost:1313 </a>我们得到一个空白页，所以它的工作，但我们没有内容。让我们看看正在使用哪些布局文件以及如何使用。</p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lm"><img src="../Images/68d014bbc251b3ce11f798b8bd40db59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ftyWeVM2TCVNq-sc8RiNQg.png"/></div></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">hugo服务器命令</figcaption></figure><p id="a166" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在继续之前，我们必须告诉Hugo我们正在使用我们的myTheme模板，所以它知道在哪里寻找布局模板文件。我们可以在项目根目录下的<a class="ae ll" href="https://gohugo.io/getting-started/configuration/#configuration-file" rel="noopener ugc nofollow" target="_blank"> config.toml </a>文件中这样做。只需添加主题行并更改主题的名称，以防它被称为其他名称:</p><pre class="lb lc ld le gt ln kz lo lp aw lq bi"><span id="4f21" class="lr ls iq kz b gy lt lu l lv lw">baseURL = “<a class="ae ll" href="http://example.org/" rel="noopener ugc nofollow" target="_blank">http://example.org/</a>"<br/>languageCode = “en-us”<br/>title = “My New Hugo Site”<br/>theme = “myTheme”</span></pre><h2 id="e9c3" class="lr ls iq bd lx ly lz dn ma mb mc dp md kj me mf mg kn mh mi mj kr mk ml mm mn bi translated"><strong class="ak">baseof.html</strong></h2><p id="1287" class="pw-post-body-paragraph jy jz iq ka b kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ms kt ku kv ij bi translated">Hugo文档解释说</p><blockquote class="mt mu mv"><p id="0615" class="jy jz mw ka b kb kc kd ke kf kg kh ki mx kk kl km my ko kp kq mz ks kt ku kv ij bi translated">baseof.html是一个shell，所有的页面都将从这个shell中呈现出来，除非您在靠近<a class="ae ll" href="https://gohugo.io/templates/lookup-order/" rel="noopener ugc nofollow" target="_blank">查找顺序</a>的开头处指定另一个*baseof.html。</p></blockquote><p id="89c1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这就是Hugo用来做我们所有页面的基础。让我们看看themes/myTheme/layouts/_ default/base of . html的内容:</p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div class="gh gi na"><img src="../Images/d7bdc68a9ce6821995333be7b68cde36.png" data-original-src="https://miro.medium.com/v2/resize:fit:774/format:webp/1*XZ1jPd9Yyle0zMmbML9wlw.png"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">base.html档案的内容</figcaption></figure><p id="a35a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">base.html从myTheme/layout/partial文件夹中找到的<strong class="ka ir">head.html、</strong>、footer.html<a class="ae ll" href="https://gohugo.io/templates/partials/" rel="noopener ugc nofollow" target="_blank">局部模板</a> <strong class="ka ir"> </strong>中提取内容。它还从<strong class="ka ir">主</strong>块中提取内容。</p><blockquote class="mt mu mv"><p id="307d" class="jy jz mw ka b kb kc kd ke kf kg kh ki mx kk kl km my ko kp kq mz ks kt ku kv ij bi translated"><strong class="ka ir">主块</strong>来自一个html模板，<strong class="ka ir">使用的模板取决于页面的类型</strong>。</p></blockquote><p id="6cce" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">比如空白的登陆页，它的内容从何而来？那个空白页就是我们的<a class="ae ll" href="https://gohugo.io/templates/homepage/" rel="noopener ugc nofollow" target="_blank">主页</a>，Hugo认为是一种自己类型的<a class="ae ll" href="https://gohugo.io/templates/lists/" rel="noopener ugc nofollow" target="_blank">列表页</a>。像其他列表页面一样，它是由一个给出结构的模板HTML文件和一个包含内容的Markdown文件组成的，我们接下来将对此进行探讨。</p><h2 id="9d87" class="lr ls iq bd lx ly lz dn ma mb mc dp md kj me mf mg kn mh mi mj kr mk ml mm mn bi translated">主页</h2><p id="cf5a" class="pw-post-body-paragraph jy jz iq ka b kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ms kt ku kv ij bi translated">对于主页，我们需要:</p><ul class=""><li id="7974" class="nb nc iq ka b kb kc kf kg kj nd kn ne kr nf kv ng nh ni nj bi translated">布局/索引. html</li><li id="b679" class="nb nc iq ka b kb nk kf nl kj nm kn nn kr no kv ng nh ni nj bi translated">content/_index.md</li></ul><p id="f05a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们主题的layouts/index.html文件位于themes/myTheme/layouts/index . html下，它是空的。我们可以使用雨果文档中给出的示例模板并将其添加到我们主题的<strong class="ka ir">index.html</strong>文件中来解决这个问题:</p><figure class="lb lc ld le gt jr"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="54ea" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这里发生了什么？Hugo正在从_index.md文件中提取标题(第4行)、副标题(第4–6行)和内容(第10行)，以及主页下所有页面摘要的模板(第13–15行)。</p><p id="4d74" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在有了结构，还缺主页<a class="ae ll" href="https://gohugo.io/content-management/" rel="noopener ugc nofollow" target="_blank">内容</a>。</p><blockquote class="mt mu mv"><p id="890c" class="jy jz mw ka b kb kc kd ke kf kg kh ki mx kk kl km my ko kp kq mz ks kt ku kv ij bi translated"><strong class="ka ir">内容文件夹</strong>的结构和组织反映了站点是如何呈现的。它的子文件夹给出了页面路径，决定了内容类型，从而决定了所使用的布局。</p></blockquote><p id="1190" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">主页的内容是从content/_index.md文件中提取的<a class="ae ll" href="https://gohugo.io/templates/homepage/#add-content-and-front-matter-to-the-homepage" rel="noopener ugc nofollow" target="_blank">，我们还缺少这个文件，所以我们来添加它。在内容文件夹下创建<strong class="ka ir"> _index.md </strong>文件，并将此内容添加到其中:</a></p><pre class="lb lc ld le gt ln kz lo lp aw lq bi"><span id="b395" class="lr ls iq kz b gy lt lu l lv lw">---<br/>title: "Homepage"<br/>subtitle: "Here I am"<br/>date: "2020–012–09"<br/>menu: "main"<br/>draft: "false"<br/>---</span><span id="fdf5" class="lr ls iq kz b gy nr lu l lv lw">Hello World! </span></pre><p id="8d79" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你在上面虚线之间看到的叫做<a class="ae ll" href="https://gohugo.io/content-management/front-matter#readout" rel="noopener ugc nofollow" target="_blank"> Frontmatter </a>，它包含了页面的元数据。它可以用来指定一个特定的类型或布局来覆盖默认的类型或布局。</p><p id="2965" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，如果您已经保存了更改并且Hugo server仍在运行，您应该能够在<a class="ae ll" href="http://localhost:1313/" rel="noopener ugc nofollow" target="_blank"> localhost:1313 </a>看到主页的内容。</p><h2 id="1ab5" class="lr ls iq bd lx ly lz dn ma mb mc dp md kj me mf mg kn mh mi mj kr mk ml mm mn bi translated">单页(博客帖子或其他)</h2><p id="8be1" class="pw-post-body-paragraph jy jz iq ka b kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ms kt ku kv ij bi translated">对于我们的博客帖子，我们需要:</p><ul class=""><li id="5d15" class="nb nc iq ka b kb kc kf kg kj nd kn ne kr nf kv ng nh ni nj bi translated">content/post/first-post.md</li><li id="ce82" class="nb nc iq ka b kb nk kf nl kj nm kn nn kr no kv ng nh ni nj bi translated">layouts/_default/single.html</li><li id="afb6" class="nb nc iq ka b kb nk kf nl kj nm kn nn kr no kv ng nh ni nj bi translated">重启服务器</li></ul><p id="477b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们继续添加一篇博客文章，但是同样的过程对于您想要创建的任何类型的单个页面都有效。通过在终端<code class="fe kw kx ky kz b">hugo new post/first-post.md</code>中执行创建一篇新的博客文章。该命令将添加<code class="fe kw kx ky kz b">content/post </code>文件夹，并将<code class="fe kw kx ky kz b">first-post.md</code>文件添加到其中，同时准备好<a class="ae ll" href="https://gohugo.io/content-management/front-matter#readout" rel="noopener ugc nofollow" target="_blank"> Frontmatter </a>。在Frontmatter中，将<code class="fe kw kx ky kz b">draft: false</code>改为<code class="fe kw kx ky kz b">draft: true</code>，否则Hugo在使用普通<code class="fe kw kx ky kz b">hugo server</code>命令时不会显示帖子。要构建和提供草稿，您必须使用<code class="fe kw kx ky kz b">hugo server -D</code>。</p><p id="1148" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">接下来，我们将<a class="ae ll" href="https://gohugo.io/templates/single-page-templates/" rel="noopener ugc nofollow" target="_blank">单页html模板</a>添加到我们在<code class="fe kw kx ky kz b">layouts/_default/single.html </code>中的myTheme。我们可以从<a class="ae ll" href="https://gohugo.io/templates/single-page-templates/#example-single-page-templates" rel="noopener ugc nofollow" target="_blank"> Hugo文档</a>中复制模板:</p><figure class="lb lc ld le gt jr"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="8f7a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">用Ctrl+c停止Hugo服务器，然后执行<code class="fe kw kx ky kz b">hugo server</code>重新启动它。现在你应该可以从<a class="ae ll" href="http://localhost:1313/post/first-post/" rel="noopener ugc nofollow" target="_blank">http://localhost:1313/post/first-post/</a>看到你的博文了。</p><p id="aaf3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">从文章的URL和路径可以看出，<a class="ae ll" href="https://gohugo.io/content-management/organization/" rel="noopener ugc nofollow" target="_blank"> Hugo从文件夹名中取路径，从文件名</a>中取slug。</p><h2 id="3d27" class="lr ls iq bd lx ly lz dn ma mb mc dp md kj me mf mg kn mh mi mj kr mk ml mm mn bi translated">列表页面</h2><p id="7049" class="pw-post-body-paragraph jy jz iq ka b kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ms kt ku kv ij bi translated">对于列表页面，我们需要:</p><ul class=""><li id="a8f5" class="nb nc iq ka b kb kc kf kg kj nd kn ne kr nf kv ng nh ni nj bi translated">content/post/_index.md</li><li id="fbe2" class="nb nc iq ka b kb nk kf nl kj nm kn nn kr no kv ng nh ni nj bi translated">layouts/_default/list.html</li></ul><p id="74d8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">例如，如果你想在一个页面上列出你的文章，或者列出任何其他部分的内容，列表页面会很有用。在我们的例子中，我们希望在http://localhost:1313/post 中有一个页面，列出我们所有的博客文章。</p><p id="db56" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">从执行<code class="fe kw kx ky kz b">hugo new post/_index.md </code>命令的终端创建<code class="fe kw kx ky kz b">content/post/_index.md</code>文件，并将draft更改为false。此外，在虚线后添加一些文本:</p><pre class="lb lc ld le gt ln kz lo lp aw lq bi"><span id="93de" class="lr ls iq kz b gy lt lu l lv lw">---<br/>title: "Post"<br/>date: 2020-12-13T07:41:10+02:00<br/>draft: false<br/>---<br/>Have a look at my blog posts!</span></pre><p id="e59d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">接下来，将模板添加到myTheme的<code class="fe kw kx ky kz b">layouts/_default/list.html</code>中，我们可以再次使用<a class="ae ll" href="https://gohugo.io/templates/lists/#example-project-directory" rel="noopener ugc nofollow" target="_blank"> Hugo文档</a>来完成:</p><figure class="lb lc ld le gt jr"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="a368" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在<a class="ae ll" href="http://localhost:1313/post/" rel="noopener ugc nofollow" target="_blank"> localhost:1313/post/ </a>应该会向您显示列出了您的博客文章的文章页面。</p><h2 id="c9fa" class="lr ls iq bd lx ly lz dn ma mb mc dp md kj me mf mg kn mh mi mj kr mk ml mm mn bi translated">结论</h2><p id="5583" class="pw-post-body-paragraph jy jz iq ka b kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ms kt ku kv ij bi translated">这只是使用Hugo主题和模板的介绍。还有更多，但是现在你已经理解了逻辑，我想你可以充分利用<a class="ae ll" href="https://gohugo.io/documentation/" rel="noopener ugc nofollow" target="_blank"> Hugo文档</a>。继续，添加更多的内容、链接和图片(检查<a class="ae ll" href="https://gohugo.io/content-management/image-processing/" rel="noopener ugc nofollow" target="_blank">这个</a>和<a class="ae ll" href="https://gohugo.io/content-management/shortcodes/#figure" rel="noopener ugc nofollow" target="_blank">这个</a>)到你的站点！</p><p id="996c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">仍然有一个小警告。你还记得myTheme中<code class="fe kw kx ky kz b">layouts/index.html</code>文件中的这一段吗？</p><pre class="lb lc ld le gt ln kz lo lp aw lq bi"><span id="1de7" class="lr ls iq kz b gy lt lu l lv lw">{{ range first 10 .Site.RegularPages }}<br/>  {{ .Render "summary"}}<br/>{{ end }}</span></pre><p id="f175" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为什么不显示博客文章的摘要？检查一下这个看看你能不能修好它！</p></div></div>    
</body>
</html>