<html>
<head>
<title>Adding Meta Tags to Gastby</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">向Gastby添加元标记</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/adding-meta-tags-to-gastby-c4dee655199f?source=collection_archive---------13-----------------------#2020-08-13">https://levelup.gitconnected.com/adding-meta-tags-to-gastby-c4dee655199f?source=collection_archive---------13-----------------------#2020-08-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/2ab60856892da6c0e0fee531c56b327d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SJTqpv3WdQs8Ve2yaL50Fg.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">盖茨比的元标签</figcaption></figure><div class=""/><p id="8eb8" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这是一个非常好的主意，添加元标签，如标题，描述到一个页面，是搜索引擎优化友好。为此，您需要在<code class="fe la lb lc ld b">gatsby-config.js</code>中进行更改。</p><p id="9e23" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">盖茨比-配置. js:</p><pre class="le lf lg lh gt li ld lj lk aw ll bi"><span id="0b93" class="lm ln jf ld b gy lo lp l lq lr">module.exports = {<br/>    siteMetadata: {<br/>        title: 'Gaatsby Workshop',<br/>        description: 'Learn Gatsby From scratch'<br/>    },<br/>    plugins: ['gatsby-plugin-sass']<br/>}</span></pre><p id="e34c" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">添加上述代码片段后，重启gatsby服务器💻</p><p id="f5a0" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">运行服务器后，你将无法在浏览器中看到元标签。因此，要做到这一点，您将使用graphql。</p><p id="535f" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">进入<a class="ae ls" href="http://localhost:8000/___graphql" rel="noopener ugc nofollow" target="_blank">http://localhost:8000/_ _ _ graphql</a>到浏览器，可以看到graph QL的docs中的<code class="fe la lb lc ld b">site</code>。</p><p id="edcf" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">查询下面的命令，你会得到元标签🔖：</p><pre class="le lf lg lh gt li ld lj lk aw ll bi"><span id="c9f7" class="lm ln jf ld b gy lo lp l lq lr">query {<br/>  site{<br/>    siteMetadata {<br/>      title<br/>      description<br/>    }<br/>  }<br/>}</span><span id="ce7f" class="lm ln jf ld b gy lt lp l lq lr">// output:<br/>{<br/>  "data": {<br/>    "site": {<br/>      "siteMetadata": {<br/>        "title": "Gaatsby Workshop",<br/>        "description": "Learn Gatsby From scratch"<br/>      }<br/>    }<br/>  }<br/>}</span></pre><p id="d5a0" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">要使用这个进入页面，需要安装两个插件<code class="fe la lb lc ld b">gatsby-plugin-react-helmet</code>、<code class="fe la lb lc ld b">react-helmet</code>。</p><p id="b176" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">react-helmet是一个用于在react中修改HTML文档头的库。它允许你设置标题，元标签，开放的图形描述或写卡——你可以在这里设置这些(所有的功能，使搜索引擎优化友好的网站)</p><p id="61a6" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">一旦你安装了插件，把它添加到<code class="fe la lb lc ld b">gatsby-config.js</code>，这样你就可以用头盔⛑做服务器端渲染了</p><p id="dc45" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">盖茨比-配置. js:</p><pre class="le lf lg lh gt li ld lj lk aw ll bi"><span id="ca2b" class="lm ln jf ld b gy lo lp l lq lr">plugins: ['gatsby-plugin-sass', 'gatsby-plugin-react-helmet']</span></pre><p id="1c90" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke jg">将头盔添加到具有虚拟内容的布局页面:</strong></p><pre class="le lf lg lh gt li ld lj lk aw ll bi"><span id="91e3" class="lm ln jf ld b gy lo lp l lq lr">import {Helmet} from 'react-helmet'<br/>&lt;Helmet&gt;<br/>        &lt;html lang='en' /&gt;<br/>        &lt;title&gt;Hello Suprabha!&lt;/title&gt;<br/>        &lt;meta name='description' content='Suprabha Blog!' /&gt;<br/>&lt;/Helmet&gt;</span></pre><p id="d2d0" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">就是这样。在浏览器里检查一下，应该可以。💪🏼</p><p id="4c9d" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在，我们将使用配置数据来表示元标签。</p><p id="171c" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">使用-sitemMetadata.js:</p><pre class="le lf lg lh gt li ld lj lk aw ll bi"><span id="a209" class="lm ln jf ld b gy lo lp l lq lr">import {graphql, useStaticQuery} from 'gatsby';<br/>const useSiteMetadata = () =&gt; {<br/>    const data = useStaticQuery(graphql`<br/>        query {<br/>          site{<br/>              siteMetadata {<br/>              title<br/>              description<br/>              }<br/>          }<br/>        }<br/>    `);<br/>    return data.site.siteMetadata;<br/>}</span><span id="1a03" class="lm ln jf ld b gy lt lp l lq lr">export default useSiteMetadata;</span></pre><p id="83b0" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke jg">使用成布局文件📂</strong></p><p id="5ae6" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">布局. js:</p><pre class="le lf lg lh gt li ld lj lk aw ll bi"><span id="0316" class="lm ln jf ld b gy lo lp l lq lr">import {Helmet} from 'react-helmet'<br/>import useSiteMetadata from '../hooks/use-siteMetadata'</span><span id="d3e9" class="lm ln jf ld b gy lt lp l lq lr">const {title, description} = useSiteMetadata();<br/>&lt;Helmet&gt;<br/>      &lt;html lang='en' /&gt;<br/>      &lt;title&gt;{title}&lt;/title&gt;<br/>      &lt;meta name='description' content={description} /&gt;<br/>&lt;/Helmet&gt;</span></pre><p id="daa6" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">重启盖茨比发球。(正如每当您添加/更改graphql查询时，每次都必须重启服务器。)</p><p id="dcd5" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">🌟<a class="ae ls" href="https://twitter.com/suprabhasupi" rel="noopener ugc nofollow" target="_blank">推特</a>👩🏻‍💻<a class="ae ls" href="https://www.suprabha.me/" rel="noopener ugc nofollow" target="_blank"> Suprabha.me </a>🌟<a class="ae ls" href="https://www.instagram.com/suprabhasupi/" rel="noopener ugc nofollow" target="_blank"> Instagram </a></p></div></div>    
</body>
</html>