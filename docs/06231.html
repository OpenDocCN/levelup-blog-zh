<html>
<head>
<title>Oracle Database — Create a custom Listener and register it to a PDB in Oracle Database 19.3c</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Oracle数据库-创建自定义监听程序，并将其注册到Oracle数据库19.3c中的PDB</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/create-custom-listener-and-register-it-to-a-pdb-f6c709d23054?source=collection_archive---------4-----------------------#2020-11-05">https://levelup.gitconnected.com/create-custom-listener-and-register-it-to-a-pdb-f6c709d23054?source=collection_archive---------4-----------------------#2020-11-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/e17361badf3b18e714df4a44855ed892.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sFmJG09lsn090HvdfidyzQ.png"/></div></div></figure><p id="1a54" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在前面的故事中，我们已经介绍了如何创建CDB和pdb。</p><ol class=""><li id="c360" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lb lc ld le bi translated"><em class="lf">第1部分</em> — <strong class="ka ir">在CentOS 7上安装Oracle数据库19.3 c-:</strong><a class="ae lg" href="https://kalanaejayasuriya.medium.com/install-oracle-database-19-3c-on-centos-7-52036876436" rel="noopener">https://kalanaejayasuriya . medium . com/Install-Oracle-Database-19-3c-on-CentOS-7-52036876436</a></li><li id="2f8c" class="kw kx iq ka b kb lh kf li kj lj kn lk kr ll kv lb lc ld le bi translated"><em class="lf">第二部分</em> — <strong class="ka ir"> Oracle数据库19.3c —多租户架构，创建CDB和PDB-:</strong><a class="ae lg" href="https://kalanaejayasuriya.medium.com/oracle-database-multitenant-architecture-create-cdb-and-pdb-4a9bb954803b" rel="noopener">https://kalanaejayasuriya . medium . com/Oracle-Database-multi tenant-Architecture-Create-CDB-and-PD b-4a 9bb 954803 b</a></li></ol><p id="f315" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这一部分，我将谈论监听器，以及我们如何向监听器注册PDB。在我们开始之前，让我们谈谈听众。</p><h1 id="d052" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated"><strong class="ak">甲骨文里的监听器是什么？</strong></h1><p id="e310" class="pw-post-body-paragraph jy jz iq ka b kb mk kd ke kf ml kh ki kj mm kl km kn mn kp kq kr mo kt ku kv ij bi translated">如果我们简单的解释，监听器是用户和服务器之间的中间件。</p><p id="b521" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果我们提前讨论，监听器是一个服务器端进程，它可以监听来自客户端的传入请求，并管理到数据库的流量。</p><p id="cad8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果没有监听器，客户机就无法与服务器通信。</p><p id="c600" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">此外，一个监听器可以监听一个或多个数据库，一个数据库可以监听一个或多个数据库。</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/2ee3f36fdf74fe37f6332513292780f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/1*VIhb81jELuujgC7dd3Yfpg.png"/></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk translated">收听者的功能</figcaption></figure><p id="342d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用侦听器建立连接；听众需要完成以下要求。</p><ol class=""><li id="1bf2" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lb lc ld le bi translated">Host -:监听器运行的位置。</li><li id="1153" class="kw kx iq ka b kb lh kf li kj lj kn lk kr ll kv lb lc ld le bi translated">端口-:监听程序正在使用此端口进行监视。</li><li id="ff2e" class="kw kx iq ka b kb lh kf li kj lj kn lk kr ll kv lb lc ld le bi translated">协议-:监听程序使用的方法。</li><li id="538f" class="kw kx iq ka b kb lh kf li kj lj kn lk kr ll kv lb lc ld le bi translated">服务名-:监听器正在处理的位置。</li></ol><p id="ed3c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">通过以上学习，我想你已经对听者有了一些了解。我们不讨论如何在Oracle数据库中手动创建监听器。在上一部分中，我们没有创建侦听器，因为稍后可能会出现多个错误。</p><p id="a330" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">步骤1 -: </strong>导航到<strong class="ka ir">“数据库/bin”</strong>，有一个名为<strong class="ka ir">“netca”</strong>的文件。通过执行它，我们可以打开网络向导。</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi my"><img src="../Images/87f37ca25ff0036cb6ca337899bf98cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/1*ZQwvfuUp3HdvUho0uYyuOw.png"/></div></div></figure><p id="cc68" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">步骤2 -: </strong>要执行<strong class="ka ir">“netca”</strong>，我们必须使用终端。研究下图片。单击下一步</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mz"><img src="../Images/994fe9b62ef97925cf5ce00b0dec01f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7HUHUPlHhy_epnUlHnEQUA.png"/></div></div></figure><p id="78c3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下一步，我们必须给我们的监听器取一个名字。就我而言，我把它命名为“听众_TST”。</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div class="gh gi na"><img src="../Images/a68d4c64b4e1805e52ee798d57bf917d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*Kz3px18wt0hHgrUF1lkE4A.png"/></div></figure><p id="57e6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在我们必须为我们的监听器设置一个端口号。我们可以设置默认端口号为1521。但是在这种情况下，让我们尝试一个自定义端口号。因此选择<strong class="ka ir">“使用另一个端口号:”</strong>并输入<strong class="ka ir">“1522”</strong>作为自定义端口号。</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/9a8935963abaad34764f1c0800856de6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*cbLzHcgNFHHHiNra58zGXQ.png"/></div></figure><p id="0447" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">步骤5 -: </strong>现在监听器创建任务结束了。然后我们可以试试监听器是否工作。因此，打开终端，键入<strong class="ka ir">“lsnrctl start LISTENER _ TST”。</strong>该命令将启动您的定制监听器。您将看到图像的结尾“监听器不支持任何服务”。发生这种情况是因为我们没有向我们的侦听器注册ani PDB。</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nc"><img src="../Images/ca3b87427dfebfaad5d343752229636c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YjUlT5izZg0fCR0MKZqQ1w.png"/></div></div></figure><p id="f397" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">步骤6 -: </strong>要停止监听器，请键入<strong class="ka ir">“lsnrctl stop LISTENER _ TST”。</strong></p><p id="e70f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在我们配置了我们的定制监听器。下一步是向我们的听众注册我们的PDB。除非客户端无法与服务器建立连接。</p><h1 id="ea9e" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated"><strong class="ak">向听众注册PDB</strong></h1><p id="0a73" class="pw-post-body-paragraph jy jz iq ka b kb mk kd ke kf ml kh ki kj mm kl km kn mn kp kq kr mo kt ku kv ij bi translated">首先，我们必须启动我们的实例。键入<strong class="ka ir">“sqlplus/as SYSDBA”。</strong></p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nd"><img src="../Images/9e08f8c75a15c6305f4662ad80194d27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0guvzIwCri2hRlC4X2pLig.png"/></div></div></figure><p id="e828" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">步骤2 -: </strong>打开您在dbca向导中创建的名为<strong class="ka ir">“pdb test”的PDB。</strong></p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/a491802dbec3f245137372c59bdebd56.png" data-original-src="https://miro.medium.com/v2/resize:fit:798/format:webp/1*yGs_-6P842Mt5t7OffjcZQ.png"/></div></figure><p id="035e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">步骤3 -: </strong>现在定义我们的定制监听器并注册到实例。我们的定制听众是<strong class="ka ir">“听众_TST”。</strong></p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nf"><img src="../Images/0c334743bf2b8efccb3f417a759017b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cH2aEfXf6-VOJ22j7VzRUA.png"/></div></div></figure><p id="0002" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以看到，我在主机下面加了下划线，因为每个系统中的主机都不相同。因此，您必须找到自己的主机名。为此，打开另一个终端并尝试这些命令。</p><ol class=""><li id="f750" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lb lc ld le bi translated"><strong class="ka ir">主机名</strong></li><li id="6576" class="kw kx iq ka b kb lh kf li kj lj kn lk kr ll kv lb lc ld le bi translated"><strong class="ka ir">主机名ctl </strong></li><li id="7307" class="kw kx iq ka b kb lh kf li kj lj kn lk kr ll kv lb lc ld le bi translated"><strong class="ka ir">cat/proc/sys/kernel/hostname</strong></li></ol><p id="4a56" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在你已经向监听器注册了你的PDB。但是，要应用更改，您必须关闭PDB，然后再打开它。之后，您可以从sqlplus中退出。请记住不要关闭您的实例。</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/ee45df99f04cce4a24d57655c43f3087.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jwF5vQ46HCqTNgiM0S_mEA.png"/></div></div></figure><p id="0619" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">第5步-: </strong>现在您可以通过键入<strong class="ka ir">“lsnrctl start LISTENER _ TST”再次启动您的监听器。</strong></p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/cc4f04b850f873fbc7ef2ac951b6093e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/1*feD8h5glRamsjLXZ1QEv6Q.png"/></div></figure><p id="0b2b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">步骤6 -: </strong>现在检查监听器的状态，以确保我们的PDB是否已注册。检查状态类型<strong class="ka ir">“lsnrctl状态监听器_TST”。</strong></p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ni"><img src="../Images/4227bbcf171d69ca46302dc8e556eb08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5FCJQ4bwiflCHjfbRexA8g.png"/></div></div></figure><p id="1c04" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以看到我们的<strong class="ka ir"> PDBTEST </strong>已注册。同样，从教程1到教程3，您可以随时创建多个pdb、监听器。我希望我的教程能对你的学习有所帮助。我很快会看到你的另一个教程。谢谢大家！</p></div></div>    
</body>
</html>