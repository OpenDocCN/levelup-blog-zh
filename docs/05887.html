<html>
<head>
<title>ASP.NET Core 3 - User Secrets</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ASP.NET核心3 -用户秘密</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/asp-net-core-user-secrets-2964219f675b?source=collection_archive---------1-----------------------#2020-10-09">https://levelup.gitconnected.com/asp-net-core-user-secrets-2964219f675b?source=collection_archive---------1-----------------------#2020-10-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9526" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">本文解释了在开发机器上开发ASP.NET核心应用程序期间存储和检索敏感数据的技术</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/cf146d22425827589abc94e264a9fc45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ifDWOOsB0pWhHl6BPBnTMQ.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@dtopkin1?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">戴恩·托普金</a>在<a class="ae kv" href="https://unsplash.com/s/photos/security?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="9669" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">为什么要使用用户机密？</h1><p id="0a2f" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">通常，设置放在“appsettings.json”文件中，但有些设置我们不想在该文件中共享，比如密码。</p><p id="91fa" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">因此，当我们使用用户密码时，这些设置只存在于我们的机器上。</p><h1 id="cd16" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">让我们看看如何配置</h1><p id="913c" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">让我们想象一下，在“appsettings.json”文件中有我们的电子邮件和密码，我们想把它放在<strong class="lq ir">用户机密中。</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/34071840fc1ea9e2d24657cab7d16da5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*rYJbDSMgBNbopQGBknbnvw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">appsettings.json文件中的数据</figcaption></figure><p id="0a7d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">1️⃣要添加用户密码，我们需要右键单击该项目并选择“管理用户密码”。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mq"><img src="../Images/270960eed87e692279865562d7e8a68b.png" data-original-src="https://miro.medium.com/v2/resize:fit:806/format:webp/1*dP_kogZzB92t4AHo3VN4yw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">添加用户机密</figcaption></figure><p id="0ecd" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">此操作会创建一个名为“secrets.json”的文件。</p><p id="00ec" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">注意</strong>:当我们创建文件“secrets.json”时，这是在解决方案的之外创建的<strong class="lq ir">，散列被添加到。<strong class="lq ir"> csproj </strong>，如下图所示。</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/36e8579012cbb1c4118ba9a5f6b0906c.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/1*zqVVeBOhsG95_WrXVA8S3w.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">创建secrets.json的文件夹</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/94a12520058b1863ca2ab9e9fb594441.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/format:webp/1*Sg0011nyR_j2JWHeJRx2vQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">哈希自动添加到。csproj</figcaption></figure><p id="c81a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">2️⃣进入“secrets.json”文件，我们复制我们想要的设置。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/e5006a2f66de85ee41c18f155b64c504.png" data-original-src="https://miro.medium.com/v2/resize:fit:784/format:webp/1*aN3zWZqScaihvZjsVFBYgg.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">Secrets.json文件</figcaption></figure><p id="8547" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">3️⃣现在我们需要创建一个如下所示的类“Security.cs”。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="ea3b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">4️⃣在“Startup.cs”中我们需要添加第23行，以读取“安全”部分的配置。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="2e42" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">5️⃣为了查看代码的工作情况，我们将创建一个如下所示的“HomeController.cs”。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="2e0f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><em class="mw">为了确保它正常工作，我们将删除“appsettings.json”文件中的“security”部分。</em></p><p id="3d44" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">6️⃣运行应用程序来查看结果</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/22174caf4c0e9029c6e618c385936ff8.png" data-original-src="https://miro.medium.com/v2/resize:fit:560/format:webp/1*uf2yoP12o0mALsmeeHcU1Q.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">带有用户秘密数据的请求的结果</figcaption></figure><h1 id="bac3" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">结论</h1><p id="079f" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">您可以看到使用配置用户密码是多么容易。网芯3。</p><p id="ff65" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我上传了这个库中项目<a class="ae kv" href="https://github.com/MarcosdrVinicios/NetCore3.UserSecrets" rel="noopener ugc nofollow" target="_blank">的代码。</a></p><p id="6bd8" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">请留下您对这篇文章的看法。</p><h1 id="d452" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">参考</h1><div class="my mz gp gr na nb"><a href="https://docs.microsoft.com/en-us/aspnet/core/security/app-secrets?view=aspnetcore-2.2&amp;tabs=windows" rel="noopener  ugc nofollow" target="_blank"><div class="nc ab fo"><div class="nd ab ne cl cj nf"><h2 class="bd ir gy z fp ng fr fs nh fu fw ip bi translated">在ASP.NET核心区安全存储开发中的应用程序机密</h2><div class="ni l"><h3 class="bd b gy z fp ng fr fs nh fu fw dk translated">由里克安德森，柯克拉金，丹尼尔罗斯，斯科特阿迪查看或下载样本代码(如何下载)这…</h3></div><div class="nj l"><p class="bd b dl z fp ng fr fs nh fu fw dk translated">docs.microsoft.com</p></div></div><div class="nk l"><div class="nl l nm nn no nk np kp nb"/></div></div></a></div><h1 id="2e91" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">其他文章</h1><div class="my mz gp gr na nb"><a href="https://medium.com/the-innovation/asp-net-core-3-authorization-and-authentication-with-bearer-and-jwt-3041c47c8b1d" rel="noopener follow" target="_blank"><div class="nc ab fo"><div class="nd ab ne cl cj nf"><h2 class="bd ir gy z fp ng fr fs nh fu fw ip bi translated">ASP。网络核心3 -使用载体和JWT进行授权和认证</h2><div class="ni l"><h3 class="bd b gy z fp ng fr fs nh fu fw dk translated">本文的目的是展示授权、无记名身份验证和JWT (JSON Web Token)在</h3></div><div class="nj l"><p class="bd b dl z fp ng fr fs nh fu fw dk translated">medium.com</p></div></div><div class="nk l"><div class="nq l nm nn no nk np kp nb"/></div></div></a></div><div class="my mz gp gr na nb"><a href="https://medium.com/the-innovation/cqrs-what-is-35a7a39aadf" rel="noopener follow" target="_blank"><div class="nc ab fo"><div class="nd ab ne cl cj nf"><h2 class="bd ir gy z fp ng fr fs nh fu fw ip bi translated">CQRS——什么是？</h2><div class="ni l"><h3 class="bd b gy z fp ng fr fs nh fu fw dk translated">如今，我们听到和读到关于CQRS的报道，尤其是在可扩展的架构模式中。</h3></div><div class="nj l"><p class="bd b dl z fp ng fr fs nh fu fw dk translated">medium.com</p></div></div><div class="nk l"><div class="nr l nm nn no nk np kp nb"/></div></div></a></div></div></div>    
</body>
</html>