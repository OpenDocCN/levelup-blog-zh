<html>
<head>
<title>Running amd64 Linux On Apple M1 With qemu/utm</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨qemu/utmåœ¨è‹¹æœM1ä¸Šè¿è¡Œamd64 Linux</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/running-amd64-linux-on-apple-m1-with-qemu-utm-64d67cccd6f8?source=collection_archive---------1-----------------------#2021-11-09">https://levelup.gitconnected.com/running-amd64-linux-on-apple-m1-with-qemu-utm-64d67cccd6f8?source=collection_archive---------1-----------------------#2021-11-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="810e" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">M1 |è‹¹æœèŠ¯ç‰‡| MAC OS | x86 _ 64 | amd64 | QEMU | UTM | Linux VM</h2><div class=""/><div class=""><h2 id="e8e5" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">å“ªç§qemu CPUè®¾ç½®æä¾›æœ€ä½³æ€§èƒ½ã€‚</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/3a034bcb179e69898cfaa8d29a9ffe8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CNRoXWyd9W2-wv7C9jyYVw.png"/></div></div></figure><h1 id="1783" class="la lb iq bd lc ld le lf lg lh li lj lk kf ll kg lm ki ln kj lo kl lp km lq lr bi translated">æ€»ç»“(TLï¼›åšå£«)</h1><p id="bbcc" class="pw-post-body-paragraph ls lt iq lu b lv lw ka lx ly lz kd ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">è¿™ä¸æ˜¯æœ€å¥½çš„ä½“éªŒâ€”â€”å¦‚æœä½ åªéœ€è¦Linuxï¼Œç”¨arm64ç‰ˆæœ¬ä¼šå¥½å¾—å¤šâ€”â€”ä½†å®ƒå·¥ä½œå¾—å¾ˆå¥½ã€‚ä½†æ˜¯ï¼Œå®ƒæ¯”æœ¬æœºæˆ–arm64ä»¿çœŸæ…¢å¾—å¤šã€‚</p><h2 id="4132" class="mo lb iq bd lc mp mq dn lg mr ms dp lk mb mt mu lm mf mv mw lo mj mx my lq iw bi translated">æ›´æ–°(MacBook Pro 16â€œM1â€)</h2><p id="4c83" class="pw-post-body-paragraph ls lt iq lu b lv lw ka lx ly lz kd ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">æ²¡æœ‰æ˜¾è‘—å·®å¼‚ã€‚æˆ‘çš„è§„æ ¼:10ä¸ªCPUæ ¸å¿ƒï¼Œ32GBå†…å­˜ã€‚ä½†æ˜¯<code class="fe mz na nb nc b">sysbench</code>é…ç½®ä¸ºä½¿ç”¨2æ ¸ï¼Œæ‰€ä»¥æ²¡æœ‰åŒºåˆ«ã€‚</p></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="01f9" class="la lb iq bd lc ld nk lf lg lh nl lj lk kf nm kg lm ki nn kj lo kl no km lq lr bi translated">å…ˆå†³æ¡ä»¶</h1><p id="3123" class="pw-post-body-paragraph ls lt iq lu b lv lw ka lx ly lz kd ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">å¼€å§‹å‰å®‰è£…<code class="fe mz na nb nc b">qemu</code>å’Œ<code class="fe mz na nb nc b">utm</code>ã€‚åè€…ä¸æ˜¯å¿…éœ€çš„ï¼Œä½†ä¼šä½¿ç”Ÿæ´»å˜å¾—å®¹æ˜“å¾—å¤šã€‚è¿™å‡è®¾ä½ å·²ç»å®‰è£…äº†è‡ªåˆ¶è½¯ä»¶ã€‚</p><pre class="kp kq kr ks gt np nc nq nr aw ns bi"><span id="8359" class="mo lb iq nc b gy nt nu l nv nw">brew install qemu utm</span></pre><h1 id="9fec" class="la lb iq bd lc ld le lf lg lh li lj lk kf ll kg lm ki ln kj lo kl lp km lq lr bi translated">è®¾ç½®è™šæ‹Ÿæœº</h1><p id="2ef3" class="pw-post-body-paragraph ls lt iq lu b lv lw ka lx ly lz kd ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">å¯åŠ¨<code class="fe mz na nb nc b">utm</code>å¹¶â€œåˆ›å»ºä¸€ä¸ªæ–°çš„è™šæ‹Ÿæœºâ€ï¼Œç»™å®ƒä½ æƒ³è¦çš„åå­—ã€‚</p><p id="c8dd" class="pw-post-body-paragraph ls lt iq lu b lv nx ka lx ly ny kd ma mb nz md me mf oa mh mi mj ob ml mm mn ij bi translated">è½¬åˆ°é©±åŠ¨å™¨ï¼Œåˆ›å»ºä¸€ä¸ªè‡³å°‘10GBå¤§å°çš„é©±åŠ¨å™¨ï¼Œè¶Šå¤§è¶Šå¥½ã€‚ç„¶å<code class="fe mz na nb nc b">import disk</code>ä»ä½ é€‰æ‹©çš„å‘è¡Œç‰ˆä¸­æ·»åŠ ä¸€ä¸ªå¯å¼•å¯¼çš„ISOã€‚</p><h2 id="2afd" class="mo lb iq bd lc mp mq dn lg mr ms dp lk mb mt mu lm mf mv mw lo mj mx my lq iw bi translated">ç³»ç»Ÿè®¾ç½®</h2><ul class=""><li id="1e88" class="oc od iq lu b lv lw ly lz mb oe mf of mj og mn oh oi oj ok bi translated">å»ºç­‘:<code class="fe mz na nb nc b">x86_64</code></li><li id="751d" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">ç³»ç»Ÿ:<code class="fe mz na nb nc b">Standard PC (Q35....) (q35)</code></li><li id="5380" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">å†…å­˜:<code class="fe mz na nb nc b">2048MB</code>ä»¥ä¸Š(æˆ‘ç”¨çš„æ˜¯2048MB)</li><li id="d256" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated"><strong class="lu ja">é«˜çº§è®¾ç½®</strong>:</li><li id="183f" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">CPU: <code class="fe mz na nb nc b">qemu64</code>å¯¹<code class="fe mz na nb nc b">Skylake-Client</code>å¯¹â€¦â€¦</li><li id="683f" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">CPUå†…æ ¸:<code class="fe mz na nb nc b">4</code>æˆ–æ›´å¤š(æˆ‘ç”¨äº†8ä¸ª)</li><li id="dc3d" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">å¼ºåˆ¶å¤šæ ¸:âœ…(è¿™æ˜¾è‘—æé«˜äº†æ€§èƒ½)</li></ul><p id="6562" class="pw-post-body-paragraph ls lt iq lu b lv nx ka lx ly ny kd ma mb nz md me mf oa mh mi mj ob ml mm mn ij bi translated"><strong class="lu ja">æ›´æ–°</strong>:ä½¿ç”¨æ–°çš„<code class="fe mz na nb nc b">utm</code>ç”¨æˆ·ç•Œé¢ï¼Œéµå¾ªä»¥ä¸‹æ­¥éª¤:</p><ul class=""><li id="a80a" class="oc od iq lu b lv nx ly ny mb oq mf or mj os mn oh oi oj ok bi translated">åˆ›å»ºè™šæ‹Ÿæœºâ†’æ¨¡æ‹Ÿ</li><li id="a052" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">é€‰æ‹©â€œLinuxâ€</li><li id="72b6" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">æµè§ˆLinuxå®‰è£…ISO</li><li id="1c3a" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">â€¦ç„¶ååŒä¸Š:æ¶æ„ã€ç³»ç»Ÿâ€¦</li><li id="4b89" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">å®Œæˆåï¼Œå†æ¬¡è¿›å…¥è™šæ‹Ÿæœºçš„è®¾ç½®:è½¬åˆ°<code class="fe mz na nb nc b">System</code>å¹¶æ£€æŸ¥å¼ºåˆ¶å¤šæ ¸:âœ…</li></ul><h2 id="9336" class="mo lb iq bd lc mp mq dn lg mr ms dp lk mb mt mu lm mf mv mw lo mj mx my lq iw bi translated">å®‰è£…æ“ä½œç³»ç»Ÿ</h2><p id="9663" class="pw-post-body-paragraph ls lt iq lu b lv lw ka lx ly lz kd ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">ä»ISOæ˜ åƒå¯åŠ¨åï¼Œåœ¨ç£ç›˜ä¸Šå®‰è£…æ“ä½œç³»ç»Ÿã€‚å®Œæˆåï¼Œåœæ­¢æœºå™¨å¹¶ä»é©±åŠ¨å™¨ä¸­åˆ é™¤ISOï¼Œç„¶åå¯åŠ¨æ–°çš„è™šæ‹Ÿæœºã€‚ä½ å·²ç»å‡†å¤‡å¥½ç©å®ƒäº†ã€‚(æç¤º:å®‰è£…ä¼šæ¯”ä½ é¢„æœŸçš„æ…¢å¾—å¤šï¼Œæ‰€ä»¥è¯·è€å¿ƒç­‰å¾…ã€‚æœ€å¥½é€‰æ‹©<code class="fe mz na nb nc b">qemu64</code>ä½œä¸ºå®‰è£…çš„CPUç±»å‹)ã€‚</p></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="8a0e" class="la lb iq bd lc ld nk lf lg lh nl lj lk kf nm kg lm ki nn kj lo kl no km lq lr bi translated">åŸºå‡†</h1><ul class=""><li id="1459" class="oc od iq lu b lv lw ly lz mb oe mf of mj og mn oh oi oj ok bi translated">MacBook Air M1ï¼Œ16GBå†…å­˜</li><li id="6a30" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">qemu + utm</li><li id="245a" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">æ¥å®¾ç³»ç»Ÿ:Ubuntu 20.04æ¡Œé¢(æœ€å°å®‰è£…)</li><li id="675e" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated"><code class="fe mz na nb nc b">sysbench cpu --threads=2 run</code></li></ul><h2 id="ea52" class="mo lb iq bd lc mp mq dn lg mr ms dp lk mb mt mu lm mf mv mw lo mj mx my lq iw bi translated">CPU sky lake-å®¢æˆ·ç«¯(é»˜è®¤)</h2><pre class="kp kq kr ks gt np nc nq nr aw ns bi"><span id="cbfa" class="mo lb iq nc b gy nt nu l nv nw"># cpu = Skylake-Client<br/>~$ </span><span id="fa24" class="mo lb iq nc b gy ot nu l nv nw">sysbench 1.0.18 (using system LuaJIT 2.1.0-beta3)<br/>[...]</span><span id="21f2" class="mo lb iq nc b gy ot nu l nv nw">CPU speed:<br/>    events per second:   507.37</span><span id="1b57" class="mo lb iq nc b gy ot nu l nv nw">General statistics:<br/>    total time:                          10.0039s<br/>    total number of events:              5080</span><span id="31c7" class="mo lb iq nc b gy ot nu l nv nw">Latency (ms):<br/>         min:                                    3.76<br/>         avg:                                    3.93<br/>         max:                                    5.82<br/>         95th percentile:                        4.18<br/>         sum:                                19962.08</span><span id="2e5c" class="mo lb iq nc b gy ot nu l nv nw">Threads fairness:<br/>    events (avg/stddev):           2540.0000/5.00<br/>    execution time (avg/stddev):   9.9810/0.00</span></pre><h2 id="e6e5" class="mo lb iq bd lc mp mq dn lg mr ms dp lk mb mt mu lm mf mv mw lo mj mx my lq iw bi translated">CPU Penryn</h2><pre class="kp kq kr ks gt np nc nq nr aw ns bi"><span id="a3ec" class="mo lb iq nc b gy nt nu l nv nw"># cpu = Penryn<br/>~$ sysbench cpu --threads=2 run<br/>sysbench 1.0.18 (using system LuaJIT 2.1.0-beta3)<br/>[...]</span><span id="62b9" class="mo lb iq nc b gy ot nu l nv nw">CPU speed:<br/>    events per second:  1455.74</span><span id="4f74" class="mo lb iq nc b gy ot nu l nv nw">General statistics:<br/>    total time:                          10.0032s<br/>    total number of events:              14571</span><span id="7349" class="mo lb iq nc b gy ot nu l nv nw">Latency (ms):<br/>         min:                                    1.25<br/>         avg:                                    1.37<br/>         max:                                   52.02<br/>         95th percentile:                        1.52<br/>         sum:                                19948.56</span><span id="a89a" class="mo lb iq nc b gy ot nu l nv nw">Threads fairness:<br/>    events (avg/stddev):           7285.5000/2.50<br/>    execution time (avg/stddev):   9.9743/0.00</span></pre><h2 id="f98a" class="mo lb iq bd lc mp mq dn lg mr ms dp lk mb mt mu lm mf mv mw lo mj mx my lq iw bi translated">CPU qemu64</h2><pre class="kp kq kr ks gt np nc nq nr aw ns bi"><span id="3806" class="mo lb iq nc b gy nt nu l nv nw"># cpu = qemu64<br/>~$ sysbench cpu --threads=2 run<br/>sysbench 1.0.18 (using system LuaJIT 2.1.0-beta3)<br/>[...]</span><span id="5e1d" class="mo lb iq nc b gy ot nu l nv nw">CPU speed:<br/>    events per second:  1505.28</span><span id="4e7f" class="mo lb iq nc b gy ot nu l nv nw">General statistics:<br/>    total time:                          10.0012s<br/>    total number of events:              15059</span><span id="63f4" class="mo lb iq nc b gy ot nu l nv nw">Latency (ms):<br/>         min:                                    1.24<br/>         avg:                                    1.32<br/>         max:                                    3.37<br/>         95th percentile:                        1.47<br/>         sum:                                19938.66</span><span id="0ce4" class="mo lb iq nc b gy ot nu l nv nw">Threads fairness:<br/>    events (avg/stddev):           7529.5000/2.50<br/>    execution time (avg/stddev):   9.9693/0.00</span></pre><h2 id="bdc7" class="mo lb iq bd lc mp mq dn lg mr ms dp lk mb mt mu lm mf mv mw lo mj mx my lq iw bi translated">æ›´æ–°:M1 16è‹±å¯¸CPU qemu64</h2><pre class="kp kq kr ks gt np nc nq nr aw ns bi"><span id="8899" class="mo lb iq nc b gy nt nu l nv nw"># cpu = qemu64<br/>~$ sysbench cpu --threads=2 run<br/>sysbench 1.0.18 (using system LuaJIT 2.1.0-beta3)<br/>[...]</span><span id="cac8" class="mo lb iq nc b gy ot nu l nv nw">CPU speed:<br/>    events per second:  1605.28</span><span id="91be" class="mo lb iq nc b gy ot nu l nv nw">General statistics:<br/>    total time:                          10.0019s<br/>    total number of events:              16048</span><span id="063a" class="mo lb iq nc b gy ot nu l nv nw">Latency (ms):<br/>         min:                                    1.18<br/>         avg:                                    1.24<br/>         max:                                    3.83<br/>         95th percentile:                        1.32<br/>         sum:                                19931.65</span><span id="a1bf" class="mo lb iq nc b gy ot nu l nv nw">Threads fairness:<br/>    events (avg/stddev):           8024.0000/10.00<br/>    execution time (avg/stddev):   9.9658/0.00</span></pre><h2 id="5f8a" class="mo lb iq bd lc mp mq dn lg mr ms dp lk mb mt mu lm mf mv mw lo mj mx my lq iw bi translated">CPU qemu64-v1</h2><pre class="kp kq kr ks gt np nc nq nr aw ns bi"><span id="a232" class="mo lb iq nc b gy nt nu l nv nw"># cpu = qemu64-v1<br/>~$ sysbench cpu --threads=2 run<br/>sysbench 1.0.18 (using system LuaJIT 2.1.0-beta3)<br/>[...]</span><span id="8764" class="mo lb iq nc b gy ot nu l nv nw">CPU speed:<br/>    events per second:  1474.44</span><span id="0a0a" class="mo lb iq nc b gy ot nu l nv nw">General statistics:<br/>    total time:                          10.0016s<br/>    total number of events:              14751</span><span id="8773" class="mo lb iq nc b gy ot nu l nv nw">Latency (ms):<br/>         min:                                    1.27<br/>         avg:                                    1.35<br/>         max:                                   21.82<br/>         95th percentile:                        1.55<br/>         sum:                                19923.12</span><span id="f286" class="mo lb iq nc b gy ot nu l nv nw">Threads fairness:<br/>    events (avg/stddev):           7375.5000/30.50<br/>    execution time (avg/stddev):   9.9616/0.00</span></pre><h2 id="a2f0" class="mo lb iq bd lc mp mq dn lg mr ms dp lk mb mt mu lm mf mv mw lo mj mx my lq iw bi translated">CPU EPYC</h2><pre class="kp kq kr ks gt np nc nq nr aw ns bi"><span id="ed47" class="mo lb iq nc b gy nt nu l nv nw"># cpu = EPYC<br/>~$ sysbench cpu --threads=2 run<br/>sysbench 1.0.18 (using system LuaJIT 2.1.0-beta3)<br/>[...]</span><span id="a94e" class="mo lb iq nc b gy ot nu l nv nw">CPU speed:<br/>    events per second:  1403.61</span><span id="a6d1" class="mo lb iq nc b gy ot nu l nv nw">General statistics:<br/>    total time:                          10.0024s<br/>    total number of events:              14045</span><span id="d36a" class="mo lb iq nc b gy ot nu l nv nw">Latency (ms):<br/>         min:                                    1.36<br/>         avg:                                    1.42<br/>         max:                                    3.68<br/>         95th percentile:                        1.52<br/>         sum:                                19938.08</span><span id="47a9" class="mo lb iq nc b gy ot nu l nv nw">Threads fairness:<br/>    events (avg/stddev):           7022.5000/1.50<br/>    execution time (avg/stddev):   9.9690/0.00</span></pre><h2 id="19bc" class="mo lb iq bd lc mp mq dn lg mr ms dp lk mb mt mu lm mf mv mw lo mj mx my lq iw bi translated">CPU Haswell</h2><pre class="kp kq kr ks gt np nc nq nr aw ns bi"><span id="f239" class="mo lb iq nc b gy nt nu l nv nw"># cpu = Haswell<br/>~$ sysbench cpu --threads=2 run<br/>sysbench 1.0.18 (using system LuaJIT 2.1.0-beta3)<br/>[...]</span><span id="314a" class="mo lb iq nc b gy ot nu l nv nw">CPU speed:<br/>    events per second:   491.29</span><span id="0d99" class="mo lb iq nc b gy ot nu l nv nw">General statistics:<br/>    total time:                          10.0044s<br/>    total number of events:              4919</span><span id="c253" class="mo lb iq nc b gy ot nu l nv nw">Latency (ms):<br/>         min:                                    3.74<br/>         avg:                                    4.06<br/>         max:                                   53.05<br/>         95th percentile:                        4.33<br/>         sum:                                19955.25</span><span id="4182" class="mo lb iq nc b gy ot nu l nv nw">Threads fairness:<br/>    events (avg/stddev):           2459.5000/3.50<br/>    execution time (avg/stddev):   9.9776/0.00</span></pre><h2 id="625e" class="mo lb iq bd lc mp mq dn lg mr ms dp lk mb mt mu lm mf mv mw lo mj mx my lq iw bi translated">ä¸­å¤®å¤„ç†å™¨kvm64</h2><pre class="kp kq kr ks gt np nc nq nr aw ns bi"><span id="b9de" class="mo lb iq nc b gy nt nu l nv nw"># cpu = kvm64<br/>~$ sysbench cpu --threads=2 run<br/>sysbench 1.0.18 (using system LuaJIT 2.1.0-beta3)<br/>[...]</span><span id="b9e6" class="mo lb iq nc b gy ot nu l nv nw">CPU speed:<br/>    events per second:  1506.38</span><span id="c13d" class="mo lb iq nc b gy ot nu l nv nw">General statistics:<br/>    total time:                          10.0021s<br/>    total number of events:              15076</span><span id="0f5a" class="mo lb iq nc b gy ot nu l nv nw">Latency (ms):<br/>         min:                                    1.24<br/>         avg:                                    1.32<br/>         max:                                    2.83<br/>         95th percentile:                        1.44<br/>         sum:                                19951.28</span><span id="7d47" class="mo lb iq nc b gy ot nu l nv nw">Threads fairness:<br/>    events (avg/stddev):           7538.0000/6.00<br/>    execution time (avg/stddev):   9.9756/0.00</span></pre><h1 id="15c9" class="la lb iq bd lc ld le lf lg lh li lj lk kf ll kg lm ki ln kj lo kl lp km lq lr bi translated">å½“åœ°çš„</h1><p id="370d" class="pw-post-body-paragraph ls lt iq lu b lv lw ka lx ly lz kd ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">æœ¬æœºè¿è¡ŒåŸºå‡†æµ‹è¯•ä¼šäº§ç”Ÿä»¥ä¸‹ç»“æœ:</p><p id="8c76" class="pw-post-body-paragraph ls lt iq lu b lv nx ka lx ly ny kd ma mb nz md me mf oa mh mi mj ob ml mm mn ij bi translated"><code class="fe mz na nb nc b">brew install sysbench</code></p><pre class="kp kq kr ks gt np nc nq nr aw ns bi"><span id="490f" class="mo lb iq nc b gy nt nu l nv nw">~$ sysbench cpu --threads=2 run<br/>sysbench 1.0.20 (using system LuaJIT 2.1.0-beta3)<br/>[...]</span><span id="3e9a" class="mo lb iq nc b gy ot nu l nv nw">CPU speed:<br/>    events per second: 21974674.98</span><span id="7cfa" class="mo lb iq nc b gy ot nu l nv nw">General statistics:<br/>    total time:                          10.0001s<br/>    total number of events:              219755276</span><span id="82ae" class="mo lb iq nc b gy ot nu l nv nw">Latency (ms):<br/>         min:                                    0.00<br/>         avg:                                    0.00<br/>         max:                                    5.28<br/>         95th percentile:                        0.00<br/>         sum:                                 6512.92</span><span id="7457" class="mo lb iq nc b gy ot nu l nv nw">Threads fairness:<br/>    events (avg/stddev):           109877638.0000/249382.00<br/>    execution time (avg/stddev):   3.2565/0.00</span></pre><h2 id="def9" class="mo lb iq bd lc mp mq dn lg mr ms dp lk mb mt mu lm mf mv mw lo mj mx my lq iw bi translated">M1çš„ARM64:</h2><pre class="kp kq kr ks gt np nc nq nr aw ns bi"><span id="ad8b" class="mo lb iq nc b gy nt nu l nv nw"># cpu = cortex-a72<br/>~$ sysbench cpu --threads=2 run<br/>sysbench 1.0.20 (using system LuaJIT 2.1.0-beta3)</span><span id="0e8c" class="mo lb iq nc b gy ot nu l nv nw">Running the test with following options:<br/>Number of threads: 2<br/>Initializing random number generator from current time</span><span id="8d13" class="mo lb iq nc b gy ot nu l nv nw">Prime numbers limit: 10000</span><span id="827d" class="mo lb iq nc b gy ot nu l nv nw">Initializing worker threads...</span><span id="8882" class="mo lb iq nc b gy ot nu l nv nw">Threads started!</span><span id="f3fd" class="mo lb iq nc b gy ot nu l nv nw">CPU speed:<br/>    events per second: 16194.69</span><span id="5697" class="mo lb iq nc b gy ot nu l nv nw">General statistics:<br/>    total time:                          10.0001s<br/>    total number of events:              161958</span><span id="8c59" class="mo lb iq nc b gy ot nu l nv nw">Latency (ms):<br/>         min:                                    0.12<br/>         avg:                                    0.12<br/>         max:                                    1.46<br/>         95th percentile:                        0.13<br/>         sum:                                19968.36</span><span id="52ea" class="mo lb iq nc b gy ot nu l nv nw">Threads fairness:<br/>    events (avg/stddev):           80979.0000/11.00<br/>    execution time (avg/stddev):   9.9842/0.00</span></pre></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="9c43" class="la lb iq bd lc ld nk lf lg lh nl lj lk kf nm kg lm ki nn kj lo kl no km lq lr bi translated">æ‘˜è¦</h1><p id="f821" class="pw-post-body-paragraph ls lt iq lu b lv lw ka lx ly lz kd ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">æ‰€æœ‰åŸºå‡†æµ‹è¯•éƒ½ä»<code class="fe mz na nb nc b">sysbench cpu --threads=2 run</code>å¼€å§‹</p><ul class=""><li id="d588" class="oc od iq lu b lv nx ly ny mb oq mf or mj os mn oh oi oj ok bi translated">æœ¬æœº(macOS): <strong class="lu ja"> ~æ¯ç§’2400ä¸‡</strong>ä¸ªäº‹ä»¶</li><li id="670d" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">Skylake-Client(é»˜è®¤):æ¯ç§’çº¦500ä¸ªäº‹ä»¶ğŸ‘</li><li id="9b54" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">qemu64-v1:æ¯ç§’çº¦1500ä¸ªäº‹ä»¶</li><li id="0da7" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated"><strong class="lu ja"> qemu64 </strong> : <strong class="lu ja"> ~æ¯ç§’1500 </strong>ä¸ªäº‹ä»¶ğŸ‘</li><li id="9499" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">qemu64 + ssse3ï¼Œsse4.1ï¼Œsse4.2:æ¯ç§’çº¦1450ä¸ªäº‹ä»¶</li><li id="cc8a" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">æ¯ç§’å¤§çº¦1500ä¸ªäº‹ä»¶</li><li id="9e62" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">Penryn + ssse3ï¼Œsse4.1ï¼Œsse4.2:æ¯ç§’çº¦1400ä¸ªäº‹ä»¶</li><li id="7c40" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">Haswell:æ¯ç§’çº¦500ä¸ªäº‹ä»¶ğŸ‘</li><li id="8258" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">EPYC:æ¯ç§’å¤§çº¦1400ä¸ªäº‹ä»¶</li><li id="f319" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">kvm64:æ¯ç§’çº¦1500ä¸ªäº‹ä»¶</li><li id="70d3" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">ç°è±¡:æ¯ç§’çº¦1400ä¸ªäº‹ä»¶</li><li id="c01c" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">Nehalem:æ¯ç§’çº¦1400ä¸ªäº‹ä»¶</li><li id="cbea" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">ç¦…é‚£:æ¯ç§’çº¦500ä¸ªäº‹ä»¶ğŸ‘</li><li id="137c" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">Opteron_G5: â€”ä¸å·¥ä½œ</li><li id="0a3d" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">é©¬å…‹æ–¯:â€”ä¸èµ·ä½œç”¨</li><li id="d9fe" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">qemu64: ~1500(æ— å˜åŒ–)</li></ul></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="2d62" class="la lb iq bd lc ld nk lf lg lh nl lj lk kf nm kg lm ki nn kj lo kl no km lq lr bi translated">ä¸ºäº†æ¯”è¾ƒ</h1><p id="d7a5" class="pw-post-body-paragraph ls lt iq lu b lv lw ka lx ly lz kd ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">å®¹å™¨å’Œarm64çš„ä¸€äº›åŸºå‡†æµ‹è¯•ã€‚</p><h2 id="611f" class="mo lb iq bd lc mp mq dn lg mr ms dp lk mb mt mu lm mf mv mw lo mj mx my lq iw bi translated">ç³»ç»Ÿè®¾ç½®</h2><ul class=""><li id="6cbb" class="oc od iq lu b lv lw ly lz mb oe mf of mj og mn oh oi oj ok bi translated">æ¶æ„:<code class="fe mz na nb nc b">ARM64 (aarch64)</code></li><li id="2890" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">ç³»ç»Ÿ:<code class="fe mz na nb nc b">QEMU 6.1 ARM ... (virt)</code></li><li id="0537" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">æ“ä½œç³»ç»Ÿ:Fedora 35</li></ul><h2 id="190d" class="mo lb iq bd lc mp mq dn lg mr ms dp lk mb mt mu lm mf mv mw lo mj mx my lq iw bi translated">ç»“æœ</h2><ul class=""><li id="da9a" class="oc od iq lu b lv lw ly lz mb oe mf of mj og mn oh oi oj ok bi translated">cortex-a72(é»˜è®¤):<strong class="lu ja"> ~æ¯ç§’16200 </strong>ä¸ªäº‹ä»¶</li><li id="e4e7" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">é»˜è®¤å€¼:æ¯ç§’çº¦16000ä¸ªäº‹ä»¶</li><li id="fd51" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">cortex-a8/a9/a15: â€”ä¸å·¥ä½œ</li><li id="0ea9" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated">é©¬å…‹æ–¯:â€”ä¸èµ·ä½œç”¨</li></ul><h2 id="36e1" class="mo lb iq bd lc mp mq dn lg mr ms dp lk mb mt mu lm mf mv mw lo mj mx my lq iw bi translated">æˆ–è€…å’ŒDockeræˆ–Limaä¸€èµ·</h2><div class="ou ov gp gr ow ox"><a href="https://github.com/lima-vm/lima" rel="noopener  ugc nofollow" target="_blank"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd ja gy z fp pc fr fs pd fu fw iz bi translated">GitHub - lima-vm/lima: Linuxè™šæ‹Ÿæœºï¼Œåœ¨macOSä¸Š(åˆåâ€œLinux-on-Macâ€ï¼Œâ€œmacOSå­ç³»ç»Ÿç”¨äºâ€¦</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">Limaæ¨å‡ºäº†å…·æœ‰è‡ªåŠ¨æ–‡ä»¶å…±äº«ã€ç«¯å£è½¬å‘å’Œå®¹å™¨çš„Linuxè™šæ‹Ÿæœºã€‚åˆ©é©¬å¯ä»¥æ˜¯â€¦</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">github.com</p></div></div><div class="pg l"><div class="ph l pi pj pk pg pl ky ox"/></div></div></a></div><ul class=""><li id="2797" class="oc od iq lu b lv nx ly ny mb oq mf or mj os mn oh oi oj ok bi translated"><code class="fe mz na nb nc b">docker run -it --rm --platform=linux/amd64 ubuntu</code>:æ¯ç§’çº¦550ä¸ªäº‹ä»¶</li><li id="b02d" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated"><code class="fe mz na nb nc b">docker run -it --rm ubuntu</code> : (arm64) ~æ¯ç§’550ä¸ªäº‹ä»¶â€¼ï¸</li><li id="8e8a" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated"><code class="fe mz na nb nc b">lima</code> (arm64): <strong class="lu ja"> ~20200 </strong>æ¯ç§’äº‹ä»¶æ•°ğŸ¤˜</li><li id="71d6" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated"><code class="fe mz na nb nc b">lima</code> (x86_64):æ¯ç§’çº¦260ä¸ªäº‹ä»¶</li><li id="9a02" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated"><code class="fe mz na nb nc b">lima container</code>(arm64 VMä¸­çš„arm 64å®¹å™¨):<strong class="lu ja"> ~æ¯ç§’21000 </strong>ä¸ªäº‹ä»¶ğŸ¤˜</li><li id="cbf6" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated"><code class="fe mz na nb nc b">lima container</code>(<a class="ae pm" href="https://github.com/lima-vm/lima/blob/master/docs/multi-arch.md" rel="noopener ugc nofollow" target="_blank">arm 64 VM</a>ä¸­çš„x86_64å®¹å™¨):æ¯ç§’çº¦570ä¸ªäº‹ä»¶</li><li id="0c13" class="oc od iq lu b lv ol ly om mb on mf oo mj op mn oh oi oj ok bi translated"><code class="fe mz na nb nc b">multipass</code> (arm64):æ¯ç§’å¤§çº¦11000ä¸ªäº‹ä»¶(æˆ‘æ²¡æœ‰æ‰¾åˆ°ä¸€ä¸ªé€‰é¡¹æ¥å®‰è£…å¸¦æœ‰multipassçš„x86_64 VM)</li></ul></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="c44b" class="la lb iq bd lc ld nk lf lg lh nl lj lk kf nm kg lm ki nn kj lo kl no km lq lr bi translated">ç»“è®º</h1><p id="338e" class="pw-post-body-paragraph ls lt iq lu b lv lw ka lx ly lz kd ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">ä½ å¯ä»¥åœ¨M1 Macä¸Šè¿è¡Œx86_64 Linuxè™šæ‹Ÿæœºã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ ä¾èµ–å®ƒçš„å¯ç”¨æ€§ç±»ä¼¼äºæœ¬åœ°ä½“éªŒï¼Œé‚£ä¹ˆè‹¹æœç¡…æœºä¸æ˜¯ä½ çš„æ­£ç¡®é€‰æ‹©ã€‚æˆ‘ä»ç„¶éœ€è¦åœ¨ä¸€ä¸ªæ–°çš„M1 Maxä¸Šæµ‹è¯•è¿™ä¸ªï¼Œä½†æ˜¯æˆ‘æ€€ç–‘åœ¨ä¸ä¹…çš„å°†æ¥è¿™å°†ä¼šæ˜¯ä¸€ä¸ªæœ‰è¶£çš„ç»å†ã€‚</p><p id="21b6" class="pw-post-body-paragraph ls lt iq lu b lv nx ka lx ly ny kd ma mb nz md me mf oa mh mi mj ob ml mm mn ij bi translated">ç„¶è€Œï¼Œå½“ä½ å¯ä»¥åœ¨ä¸€ä¸ªLinuxè™šæ‹Ÿæœºä¸Šè¿è¡Œä½ æ‰€éœ€è¦çš„ä¸€åˆ‡æ—¶ï¼Œä½ åº”è¯¥ä¼šå¾ˆå¥½ã€‚å®ƒç¦»åŸç”Ÿä½“éªŒè¿˜å¾ˆè¿œï¼Œä½†æ¯”x86_64æµç•…å¾—å¤š(å¿«10å€)ã€‚</p><p id="e16b" class="pw-post-body-paragraph ls lt iq lu b lv nx ka lx ly ny kd ma mb nz md me mf oa mh mi mj ob ml mm mn ij bi translated">æˆ‘ä¸æ˜¯é“æ†å¼€å‘è€…ï¼Œä½†æˆ‘ç”¨MacBook Airåšäº†å¾ˆå¤šäº‹æƒ…ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘è¿˜æ²¡æœ‰é‡åˆ°å¤§çš„éšœç¢ï¼Œå› ä¸ºæˆ‘ä½¿ç”¨è¿œç¨‹â€œçœŸæ­£çš„â€Linuxæœºå™¨æ¥å¤„ç†å·¥ä½œè´Ÿè½½ï¼Œæ‰€ä»¥æˆ‘ä¸éœ€è¦Linux VMã€‚æ­¤å¤–ï¼Œåˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘åœ¨dockerä¸­è¿è¡Œçš„ä¸€åˆ‡éƒ½åƒé¢„æœŸçš„é‚£æ ·å·¥ä½œ(é™¤äº†è¿™æ ·ä¸€ä¸ªäº‹å®ï¼Œå³å½“æ‚¨éœ€è¦x86_64æˆ–arm64è¿˜æ²¡æœ‰æ˜ åƒæ—¶ï¼Œæ‚¨å¿…é¡»æä¾›<code class="fe mz na nb nc b">--platform=linux/amd64</code>)ã€‚</p><p id="f9a6" class="pw-post-body-paragraph ls lt iq lu b lv nx ka lx ly ny kd ma mb nz md me mf oa mh mi mj ob ml mm mn ij bi translated">Limaæ˜¯æ–°çš„ï¼Œä¼¼ä¹æ˜¯Mac Dockerçš„ä¸€ä¸ªå¾ˆå¥½çš„æ›¿ä»£å“ã€‚æ²¡æœ‰è·¨å¹³å°ï¼Œå®ƒæ¯”Docker for Macæ›´å®¹æ˜“ã€‚</p><div class="ou ov gp gr ow ox"><a href="https://medium.com/nttlabs/containerd-and-lima-39e0b64d2a59" rel="noopener follow" target="_blank"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd ja gy z fp pc fr fs pd fu fw iz bi translated">container d &amp; Lima:Macç‰ˆDockerçš„å¼€æºæ›¿ä»£æ–¹æ¡ˆ</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">ä»Šå¤©ï¼Œç¤¾åŒºè¢«ä¸€ä¸ªçªç„¶çš„æ¶ˆæ¯éœ‡æƒŠäº†ï¼ŒMac/Winç‰ˆDockeræ¡Œé¢ä¸å†å…è´¹æä¾›ç»™â€¦</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">medium.com</p></div></div><div class="pg l"><div class="pn l pi pj pk pg pl ky ox"/></div></div></a></div><h1 id="1df5" class="la lb iq bd lc ld le lf lg lh li lj lk kf ll kg lm ki ln kj lo kl lp km lq lr bi translated">è°¢è°¢ä½ </h1><p id="2e3b" class="pw-post-body-paragraph ls lt iq lu b lv lw ka lx ly lz kd ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">å› ä¸ºçœ‹äº†æˆ‘çš„æ–‡ç« ï¼æ”¯æŒæˆ–å…³æ³¨æˆ‘åœ¨<a class="ae pm" href="http://github.com/drpsychick" rel="noopener ugc nofollow" target="_blank"> GitHub </a>ã€<a class="ae pm" href="https://drpsychick.org" rel="noopener ugc nofollow" target="_blank"> Medium </a>æˆ–<a class="ae pm" href="https://drpsychick.org/drpsychick-on-the-web-a9ccfb0df17e" rel="noopener ugc nofollow" target="_blank">åˆ«å¤„</a>ã€‚</p><p id="cd4f" class="pw-post-body-paragraph ls lt iq lu b lv nx ka lx ly ny kd ma mb nz md me mf oa mh mi mj ob ml mm mn ij bi translated">æˆ‘çš„ç›¸å…³æ–‡ç« </p><div class="ou ov gp gr ow ox"><a rel="noopener  ugc nofollow" target="_blank" href="/im-not-an-apple-fan-but-there-is-no-better-alternative-d1d5250de3d4"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd ja gy z fp pc fr fs pd fu fw iz bi translated">æˆ‘ä¸æ˜¯è‹¹æœç²‰ä¸ï¼Œä½†æ²¡æœ‰æ›´å¥½çš„é€‰æ‹©ã€‚</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">ä¸ºä»€ä¹ˆLinuxå’ŒWindowsæ— æ³•æŠ—è¡¡è‹¹æœç”Ÿæ€ç³»ç»Ÿã€‚</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="pg l"><div class="po l pi pj pk pg pl ky ox"/></div></div></a></div></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="c8d9" class="la lb iq bd lc ld nk lf lg lh nl lj lk kf nm kg lm ki nn kj lo kl no km lq lr bi translated">åˆ†çº§ç¼–ç </h1><p id="9489" class="pw-post-body-paragraph ls lt iq lu b lv lw ka lx ly lz kd ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">æ„Ÿè°¢æ‚¨æˆä¸ºæˆ‘ä»¬ç¤¾åŒºçš„ä¸€å‘˜ï¼å‡çº§æ­£åœ¨æ”¹å˜æŠ€æœ¯æ‹›è˜ã€‚<a class="ae pm" href="https://jobs.levelup.dev/talent" rel="noopener ugc nofollow" target="_blank"> <strong class="lu ja">åœ¨æœ€å¥½çš„å…¬å¸æ‰¾åˆ°ä½ çš„å®Œç¾å·¥ä½œ</strong></a><strong class="lu ja"/>ã€‚</p><div class="ou ov gp gr ow ox"><a href="https://jobs.levelup.dev/talent" rel="noopener  ugc nofollow" target="_blank"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd ja gy z fp pc fr fs pd fu fw iz bi translated">æå‡â€”â€”æ”¹å˜æ‹›è˜æµç¨‹</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">ğŸ”¥è®©è½¯ä»¶å·¥ç¨‹å¸ˆæ‰¾åˆ°ä»–ä»¬çƒ­çˆ±çš„å®Œç¾è§’è‰²ğŸ§ å¯»æ‰¾äººæ‰æ˜¯æœ€ç—›è‹¦çš„éƒ¨åˆ†â€¦</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">ä½œä¸š. levelup.dev</p></div></div><div class="pg l"><div class="pp l pi pj pk pg pl ky ox"/></div></div></a></div></div></div>    
</body>
</html>