<html>
<head>
<title>Go modules in Goland</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Goland中的Go模块</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/go-modules-in-goland-8af712adbcc6?source=collection_archive---------0-----------------------#2021-08-20">https://levelup.gitconnected.com/go-modules-in-goland-8af712adbcc6?source=collection_archive---------0-----------------------#2021-08-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="3f6e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你到底是怎么做到的？</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi kl"><img src="../Images/886388d0892139cf42576b69d0de73ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1060/format:webp/1*A2gxiKOc57Fm1CCWhmko3Q.png"/></div></figure><p id="6860" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我想在这篇文章的开头明确声明我是Golang和Goland的新成员。我喜欢Jet Brains IDE支持如此多的语言，尤其是Pycharm。我怎么推荐他们的产品都不为过。所以我真的很想让Goland开始工作。我写这个是为了帮助我记下一个过程，希望对你有所帮助。</p><h1 id="9ac2" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">问题是</h1><p id="8777" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">目前，围棋模块相对较新，JB对它们的实现甚至更新，他们的在线文档已经过时，他们的<a class="ae lw" href="https://www.youtube.com/watch?v=AufkDPEI2qA" rel="noopener ugc nofollow" target="_blank">教程</a>不值得一看，他们做出了一个糟糕的决定，将他们的围棋IDE命名为与围棋的官方名称相似。因此，当你正在使用的语言被称为<em class="lx"> Golang </em>时，让你的搜索结果集中在<em class="lx"> Goland </em>附近是很困难的。这导致了我的愤怒和沮丧(因此，介绍图片)。</p><p id="a2e6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">除了我的朋友Richard(令人惊叹的用于crypto的box wallet的开发者)的帮助之外，还有两篇关于Go模块的文章，我发现它们真的很有帮助，但都没有关注Goland的实现。所以“感谢”Jody LeCompte和Ulas Turkmen的努力！后一篇文章是在当时真正吸引我的一个域名。</p><h1 id="a147" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">开始</h1><p id="a6ef" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">你已经下载了Goland并安装好了(我在Mac上，只能假设Windows体验差不多)。所以，选择文件-&gt;新建… -&gt;项目，你得到这个窗口。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi ly"><img src="../Images/3d9e48a9b3ab2d139079a7d9f5b4d501.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QjndJrYD8HrKgStTMnA-3w.png"/></div></div></figure><p id="02ce" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">嗯，我不知道你怎么想，但是我对我所有的项目都有自己的文件结构，用我工作的所有语言。所以那个位置对我来说不合适。我发现使用像“golandmodules”这样的名字变得令人困惑，因为很难确定什么是独特的，什么是过程的需求。所以…</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi md"><img src="../Images/883cb62c61a3f81ef36dcf5b32ba9fe9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/format:webp/1*4_VgmUxefruIOouzLDn3LA.png"/></div></figure><p id="b162" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们要做一个名为“footodor”的项目。按下“创建”按钮。现在您得到一个项目窗口，项目结构在左侧。让我们按照推荐的<a class="ae lw" href="https://github.com/golang-standards/project-layout" rel="noopener ugc nofollow" target="_blank">标准Go项目结构</a>，创建他们推荐的两个文件夹，cmd和internal。您可以通过右键单击“footodor”项目名称并创建这些目录来完成此操作。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi me"><img src="../Images/0fb78122f2810ef7dafbafe9486bb0eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*BQ6FFvHQuokJ1wagTRE89A.png"/></div></figure><p id="2063" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来才是真正让我燃烧的一步。(对我来说)如何用Goland接口做到这一点并不明显。在我看来，这就应该发生，你不应该做任何事情。相反，我们需要在命令行终端输入一个命令来使项目工作。我们开始吧:您需要初始化go模块。因此，在项目屏幕的左下方，您会看到一个“终端”选项卡。这将启动一个终端，把你放在“footodor”目录中。键入以下命令:</p><h2 id="ba0f" class="mf ku iq bd kv mg mh dn kz mi mj dp ld jy mk ml lh kc mm mn ll kg mo mp lp mq bi translated">go mod init fish . smell . bad 123/footodor</h2><p id="a869" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">现在，我又做了一次这样的蠢事，这样你就能看出什么是必需的，什么不是。使用你的github帐号(就像我的github.com/hirscr)作为模块的标签已经变得很正常了。但是我发现这也令人困惑，所以为了指出需要什么，我做了“fish . smear . bad 123”的事情。你不需要月经。只是个标签，不是网站。挑一个，什么都用。你的github地址没问题。如果你有自己的域名，就使用它。只是一个标签，需要独一无二。确保您在项目的顶层目录中，并且将项目名称放在斜杠后面。你会看到这个:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/de613d29e99080cffb2d30429cf9a950.png" data-original-src="https://miro.medium.com/v2/resize:fit:966/format:webp/1*S5K2CY52-dFdEsSqYPPjow.png"/></div></figure><p id="ca43" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当然还会有其他文本，你现在不需要担心这个。现在，您应该会在顶层项目目录中看到一个新的go.mod文件。在某个时候，你会在右下角看到一个小窗口，就像这样:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/8f26dcb43315defcbf7351cd97ca0d54.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*cfmYtScNdgjQQzNfeu-02w.png"/></div></figure><p id="1dc6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">继续并启用集成。我不知道为什么它不这样做。之后，它会警告您GOPATH不再索引。太好了。别管我。</p><h1 id="5050" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">制作一个程序</h1><p id="160b" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">我们要做一个非常蠢的程序(但不像Hello World那么蠢)。我们需要一个main.go程序(和主包)，我们需要另一个包。在Goland(和Golang)中，当你想要一个包时，它应该在自己的同名文件夹中。所以，如果我们想要很多包，它们应该在它们自己的文件夹里。在标准结构中，我们希望“内部”包是项目特有的定制包，而不是外部使用的包。所以让我们制作两个包，“内部”目录中的“toejam”和“真菌”以及“cmd”目录中的“主”文件夹。现在我的结构看起来像这样:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/2d0450a5c9fe7d4235ee06483cd79ecd.png" data-original-src="https://miro.medium.com/v2/resize:fit:734/format:webp/1*8HN5mKaHyxpmmz48u2iGwA.png"/></div></figure><p id="a25e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以，现在我们要写一些Go代码。在每个最低的目录中(main，真菌，toejam)，制作一个Go文件。您将看到您创建的每个文件都是该目录包的一部分。如果你在这些目录中创建了更多的文件，Goland会认为它们应该是同一个包的一部分。最后，我们为哑程序做好了准备。</p><p id="2a65" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，让我们在内部包中创建函数:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi mu"><img src="../Images/88e67af8b71e7987866e8c9fb3fe3f36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8bNVy7TZTxkYkRTpQKS-uw.png"/></div></div></figure><p id="e4e9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">是的，这些完全是愚蠢的，但它们是软件包中的功能。现在让我们创建一个调用这些函数的主函数。我这样展示的原因是，Goland很好地为您完成了导入。你不需要在导入区写这些东西，它会写的。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/6bef241e5b486c55c4adf5ec749bf289.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/1*Q_JG0tuV8pXJGwI4knVDig.png"/></div></figure><p id="6b45" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你可以看到Goland把我们之前选择的标签放进去了。它还独立完成两个内部包的功能。所以现在一切都如你所料，我们可以编码了！最后，我的项目结构如下所示:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/b49e571832190cef6ddf47e97bf56abb.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*SvHDtTBmhwd1p-T-yWnBvw.png"/></div></figure><h1 id="3834" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">我们该怎么做呢？</h1><p id="ba94" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">当我想跑步时，又被推迟了。在Pycharm中有一个运行按钮，你只需按下它。在Goland中，一个运行按钮被淡出，似乎我需要设置一个配置，而这些配置似乎都不是我想要的。这些似乎都不对:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/568185749f5f16fc8c814a5e151302db.png" data-original-src="https://miro.medium.com/v2/resize:fit:452/format:webp/1*I3828nyQGPvUWeXz1J5CSg.png"/></div></figure><p id="ac3e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以，我去了运行菜单，选择“运行…”然后这个窗口出现了。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi my"><img src="../Images/8b3d3ae49ee91dd9ca34dc3199858939.png" data-original-src="https://miro.medium.com/v2/resize:fit:848/format:webp/1*D76Eq_gYa0fOfKhgrFACSQ.png"/></div></figure><p id="a369" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通过这样做，它为我做了运行配置。一切都成功了！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/227c5c0ce8479ce6b96fadf28aa9031e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*hcTzkOxs6UxypkP4Dsm8mg.png"/></div></figure><h1 id="ca0e" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">结论</h1><p id="486b" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">我一点也不觉得这很直观。我希望这篇文章对你开始使用Goland有所帮助，我希望这是为我写的。我希望Jet Brains能让这个过程比现在简单得多。</p><p id="d8c7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你有另一种开始的方法，或者你有一个比我放在这里更容易的过程，请把它放到评论里。</p></div></div>    
</body>
</html>