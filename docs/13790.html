<html>
<head>
<title>Building a multi-page app with Streamlit and restricting user access to pages using AWS Cognito</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨Streamlitæ„å»ºå¤šé¡µé¢åº”ç”¨ç¨‹åºï¼Œå¹¶ä½¿ç”¨AWS Cognitoé™åˆ¶ç”¨æˆ·å¯¹é¡µé¢çš„è®¿é—®</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/building-a-multi-page-app-with-streamlit-and-restricting-user-access-to-pages-using-aws-cognito-89a1fb5364a3?source=collection_archive---------0-----------------------#2022-10-06">https://levelup.gitconnected.com/building-a-multi-page-app-with-streamlit-and-restricting-user-access-to-pages-using-aws-cognito-89a1fb5364a3?source=collection_archive---------0-----------------------#2022-10-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6957" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">æœ¬æ–‡å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨Streamlitä¸ºæ‚¨çš„æ•°æ®ç§‘å­¦é¡¹ç›®åˆ›å»ºå¤šé¡µé¢åº”ç”¨ç¨‹åºï¼ŒåŒæ—¶å…è®¸ç™»å½•åŠŸèƒ½å¹¶ä½¿ç”¨AWS Cognitoé™åˆ¶ç”¨æˆ·å¯¹å•ä¸ªé¡µé¢çš„è®¿é—®ã€‚</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/db558b165aeeda52132f75bc671ef296.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*p7zG58nRec88kMui"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">åœ¨<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šç”±<a class="ae kv" href="https://unsplash.com/@towfiqu999999?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Towfiqu barb huya</a>æ‹æ‘„çš„ç…§ç‰‡</figcaption></figure><h1 id="584f" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">å…³äºç»†æµ</h1><p id="601b" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">Streamlitåœ¨Pythonç¤¾åŒºä¸­è¶Šæ¥è¶Šå—æ¬¢è¿ï¼Œä½œä¸ºä¸€ä¸ªæ¡†æ¶ï¼Œå®ƒå¯ä»¥å¿«é€Ÿå¯åŠ¨å„ç§æ•°æ®ç§‘å­¦é¡¹ç›®çš„å‰ç«¯ã€‚å¼€å‘äººå‘˜æ—©å…ˆé¢ä¸´çš„æŒ‘æˆ˜ä¹‹ä¸€æ˜¯åœ¨Streamlitä¸­åˆ›å»ºä¸€ä¸ªå¤šé¡µé¢å‰ç«¯ã€‚Streamlitç°åœ¨å…è®¸åˆ›å»ºå¤šé¡µåº”ç”¨ç¨‹åºã€‚è™½ç„¶åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘æœŸæœ›å¯¹Streamlitæœ‰æ‰€äº†è§£ï¼Œä½†æ˜¯å¦‚æœä½ è¿˜æ²¡æœ‰ä½¿ç”¨è¿‡å®ƒï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œäº†è§£æ›´å¤šå…³äºStreamlit <a class="ae kv" href="https://streamlit.io/" rel="noopener ugc nofollow" target="_blank">çš„ä¿¡æ¯ã€‚è¿™å¾ˆå®¹æ˜“å­¦ã€‚</a></p><h1 id="582a" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">å…³äºAWS Cognito</h1><p id="2fc1" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">AWS Cognitoæ˜¯ä¸€ä¸ªç®€å•çš„â€œå¹³å°å³æœåŠ¡â€(PaaS)å·¥å…·ã€‚è¯¥å·¥å…·å…è®¸ç”¨æˆ·è½»æ¾åœ°æ’å…¥ä»–ä»¬çš„åº”ç”¨ç¨‹åºã€åŠŸèƒ½ï¼Œå¦‚æ³¨å†Œã€ç™»å½•å’Œè®¿é—®æ§åˆ¶ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œäº†è§£æ›´å¤šå…³äºCognito <a class="ae kv" href="https://aws.amazon.com/cognito/" rel="noopener ugc nofollow" target="_blank">çš„ä¿¡æ¯ã€‚è¦åœ¨æœ¬æ–‡ä¸­ä½¿ç”¨AWS Cognitoï¼Œæ‚¨éœ€è¦æœ‰ä¸€ä¸ªAWSå¸æˆ·ã€‚å‡ºäºæœ¬æ–‡çš„ç›®çš„ï¼Œæˆ‘æ³¨å†Œäº†AWSçš„å…è´¹å±‚ï¼Œå®ƒä¹Ÿæä¾›AWS Cognitoä½œä¸ºæœåŠ¡ä¹‹ä¸€ã€‚ç›®å‰ï¼Œå…è´¹å±‚ç‰ˆæœ¬æ¯æœˆä»…å…è®¸50ï¼Œ000åæ´»è·ƒç”¨æˆ·ã€‚</a></p><p id="d810" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">æœ¬æ–‡ç»„ç»‡å¦‚ä¸‹:</strong></p><ol class=""><li id="6c4c" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj mu mv mw mx bi translated">å…ˆå†³æ¡ä»¶</li><li id="734b" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">æˆ‘ä»¬å°†è¦æ„å»ºçš„æ¼”ç¤º</li><li id="8a65" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">ä½¿ç”¨Streamlitåˆ›å»ºåŸºæœ¬çš„å¤šé¡µé¢åº”ç”¨ç¨‹åº</li><li id="fd0a" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">é…ç½®AWSè®¤çŸ¥</li><li id="e8f7" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">åŸåˆ™AWS Cognitoå¦‚ä½•ä¸Streamlité…åˆå·¥ä½œ</li><li id="5cba" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">å°†AWS Cognitoé›†æˆåˆ°æˆ‘ä»¬çš„Streamlitåº”ç”¨ç¨‹åºä¸­</li></ol><h1 id="a8ce" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">å…ˆå†³æ¡ä»¶</h1><p id="dee9" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">æ‚¨éœ€è¦ç†Ÿæ‚‰Pythonï¼Œåˆ›å»ºPythonç¯å¢ƒï¼Œå¹¶ç”¨Pythonå®‰è£…è½¯ä»¶åŒ…ã€‚ç†Ÿæ‚‰Streamlitã€CSSæ ·å¼å’ŒHTMLä¹Ÿæ˜¯æœ‰ç”¨çš„ã€‚ä¸Streamlitå’ŒAWS Cognitoçš„æ—©æœŸç»éªŒå°†æ˜¯æœ‰ç”¨çš„å·¥å…·ã€‚</p><p id="e8b5" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">å‡ºäºæœ¬æ–‡çš„ç›®çš„ï¼Œæˆ‘å·²ç»åˆ›å»ºäº†ä¸€ä¸ª<a class="ae kv" href="https://github.com/MausamGaurav/Streamlit_Multipage_AWSCognito_User_Authentication_Authorization" rel="noopener ugc nofollow" target="_blank"> GitHubå­˜å‚¨åº“</a>ï¼Œå…¶ä¸­åŒ…å«äº†æœ¬æ–‡ä¸­è®¨è®ºçš„æ‰€æœ‰ä»£ç ã€‚</p><p id="9beb" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">åˆ›å»ºä¸€ä¸ªè™šæ‹ŸPythonç¯å¢ƒï¼Œå¹¶ä½¿ç”¨è¿™ä¸ª<a class="ae kv" href="https://github.com/MausamGaurav/Streamlit_Multipage_AWSCognito_User_Authentication_Authorization" rel="noopener ugc nofollow" target="_blank"> requirements.txt </a>æ–‡ä»¶å®‰è£…æ‰€éœ€çš„åŒ…ã€‚</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="122c" class="ni kx iq ne b gy nj nk l nl nm">pip install requirements.txt</span></pre><h1 id="0569" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">æˆ‘ä»¬å°†è¦æ„å»ºçš„æ¼”ç¤º</h1><h2 id="a538" class="ni kx iq bd ky nn no dn lc np nq dp lg lx nr ns li mb nt nu lk mf nv nw lm nx bi translated">å¸¦æœ‰ç™»å½•å’Œé¡µé¢è®¿é—®çš„å¤šé¡µåº”ç”¨ç¨‹åºæ¼”ç¤º</h2><p id="08ca" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">å¤šé¡µåº”ç”¨ç¨‹åºçš„æ¼”ç¤ºå¦‚ä¸‹æ‰€ç¤ºã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/14216ff5b0e10af0c8b9054d0b8f1f7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TR0NGBrn8vgYi8Tr.gif"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><p id="63c4" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">è¯¥åº”ç”¨ç¨‹åºåŒ…æ‹¬ä¸€ä¸ªä¸»é¡µï¼Œè¿™æ˜¯æˆ‘ä»¬åº”ç”¨ç¨‹åºçš„ä¸»è¦ç™»å½•é¡µé¢ï¼Œä»¥åŠå…¶ä»–ä¸‰ä¸ªæ¼”ç¤ºé¡µé¢â€”â€”ç»˜å›¾æ¼”ç¤ºã€åˆ¶å›¾æ¼”ç¤ºå’Œæ•°æ®å¸§æ¼”ç¤ºã€‚</p><p id="b0e3" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">å‰ä¸¤é¡µâ€”â€”ç»˜å›¾æ¼”ç¤ºå’Œç»˜å›¾æ¼”ç¤ºåªèƒ½ç”±æ³¨å†Œç”¨æˆ·ä½¿ç”¨ã€‚ç¬¬ä¸‰é¡µâ€”ä»»ä½•äººéƒ½å¯ä»¥è®¿é—®DataFrameæ¼”ç¤ºã€‚</p><p id="2ba1" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">å½“ç”¨æˆ·æœªç»èº«ä»½éªŒè¯é¦–æ¬¡ç™»å½•åº”ç”¨ç¨‹åºæ—¶ï¼Œç”¨æˆ·æ— æ³•è®¿é—®å‰ä¸¤ä¸ªé¡µé¢(ç»˜å›¾æ¼”ç¤ºã€ç»˜å›¾æ¼”ç¤º)ï¼Œå› ä¸ºåªæœ‰ç»è¿‡èº«ä»½éªŒè¯çš„ç”¨æˆ·æ‰èƒ½è®¿é—®è¿™äº›é¡µé¢ã€‚å½“ç”¨æˆ·ç‚¹å‡»â€œç™»å½•â€æŒ‰é’®æ—¶ï¼Œä¼šæ‰“å¼€AWS CognitoåŸŸä¸Šçš„ç™»å½•é¡µé¢ã€‚åœ¨è¿™ä¸ªç™»å½•é¡µé¢ä¸Šï¼Œå½“æ³¨å†Œç”¨æˆ·ä½¿ç”¨â€œmausam.gaurav@gmail.comâ€ç”µå­é‚®ä»¶ç™»å½•æ—¶ï¼Œä»–ä»¬ä¼šè¢«é‡å®šå‘åˆ°ä¸»é¡µã€‚é‡å®šå‘çš„URL(è¯·åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹URL)åŒ…å«ä¸€ä¸ªæˆæƒä»£ç ä½œä¸ºæŸ¥è¯¢å‚æ•°ã€‚ç™»å½•åï¼Œè¯¥ç”¨æˆ·å¯ä»¥è®¿é—®ç¬¬äºŒé¡µï¼Œä½†ä¸èƒ½è®¿é—®ç¬¬ä¸€é¡µã€‚(<em class="nz">è¿™æ˜¯å› ä¸ºï¼Œæ­£å¦‚åé¢å°†è¦æ˜¾ç¤ºçš„ï¼Œè¿™ä¸ªæ³¨å†Œç”¨æˆ·è¢«æ·»åŠ åˆ°AWS Cognitoä¸Šä¸€ä¸ªåä¸ºâ€œCreditAnalystsâ€çš„ç»„ä¸­ï¼Œåªæœ‰â€œCreditAnalytsâ€ç»„çš„æˆå‘˜æ‰èƒ½è®¿é—®ç¬¬äºŒé¡µ</em>)ã€‚ç¬¬ä¸€é¡µåªèƒ½ç”±â€œæ‰¿é”€å•†â€ç»„çš„ç”¨æˆ·è®¿é—®ï¼Œç”±äºå½“å‰ç”¨æˆ·å±äºâ€œä¿¡ç”¨åˆ†æâ€ç»„ï¼Œè€Œä¸æ˜¯â€œæ‰¿é”€å•†â€ç»„ï¼Œå› æ­¤å½“å‰ç”¨æˆ·ä¸èƒ½è®¿é—®ç¬¬ä¸€é¡µã€‚æ¥ä¸‹æ¥çš„æ¼”ç¤ºæ˜¾ç¤ºï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡å•å‡»â€œæ³¨é”€â€æŒ‰é’®æ³¨é”€ã€‚</p><p id="7041" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">å½“ä¸åŒçš„ç”¨æˆ·â€œmausamgaurav@ymail.comâ€ç™»å½•åˆ°åº”ç”¨ç¨‹åºæ—¶ï¼Œä»–å¯ä»¥è®¿é—®ç¬¬ä¸€é¡µã€‚è¿™æ˜¯å› ä¸ºç”¨æˆ·â€œmausamgaurav@ymail.comâ€å±äºâ€œä¿é™©å•†â€ç»„ï¼Œè¯¥ç»„çš„ç”¨æˆ·å¯ä»¥è®¿é—®ç¬¬ä¸€é¡µã€‚æ‰¿ä¿äººæ— æ³•è®¿é—®ç¬¬äºŒé¡µï¼Œå› æ­¤è¯¥ç”¨æˆ·æ— æ³•è®¿é—®ç¬¬äºŒé¡µã€‚(<em class="nz">æ³¨æ„ï¼Œåº”ç”¨ç¨‹åºä¸­çš„ç¬¬ä¸‰ä¸ªé¡µé¢DataFrame Demoå¯¹ä»»ä½•äººå¼€æ”¾ï¼Œä¸éœ€è¦è®¤è¯ã€‚æˆ‘ä»¬å·²ç»è·³è¿‡äº†å±•ç¤ºä¸‹é¢æ¼”ç¤ºåŠ¨ç”»çš„ç¬¬ä¸‰é¡µ</em></p></div><div class="ab cl oa ob hu oc" role="separator"><span class="od bw bk oe of og"/><span class="od bw bk oe of og"/><span class="od bw bk oe of"/></div><div class="ij ik il im in"><h2 id="ad08" class="ni kx iq bd ky nn no dn lc np nq dp lg lx nr ns li mb nt nu lk mf nv nw lm nx bi translated">ç­¾çº¦é›‡ç”¨</h2><p id="8d41" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">æ–°ç”¨æˆ·å¯ä»¥ä½¿ç”¨AWS Cognitoæ‰˜ç®¡ç™»å½•é¡µé¢ä¸Šçš„æ³¨å†ŒåŠŸèƒ½æ³¨å†Œè¯¥åº”ç”¨ç¨‹åºã€‚æ¼”ç¤ºçš„åŠ¨ç”»å¦‚ä¸‹æ‰€ç¤º:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oh"><img src="../Images/d48f7e95a3bb0494a51fd3d51de80582.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*om6mJKOGKcC9rBMN.gif"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><p id="42a6" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">è¿™æ˜¯ä¸€ä¸ªå¯é€‰åŠŸèƒ½ã€‚å•å‡»æ³¨å†Œé“¾æ¥ä¼šæ‰“å¼€ä¸€ä¸ªè¡¨å•ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨ä»–ä»¬çš„ç”µå­é‚®ä»¶è¿›è¡Œæ³¨å†Œã€‚æœ€åˆæ³¨å†Œæ—¶ï¼Œç”¨æˆ·ä¼šæ”¶åˆ°ä¸€ä¸ªéªŒè¯ç ã€‚</p><p id="59eb" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">æ¼”ç¤ºåŠ¨ç”»è¿˜æ˜¾ç¤ºï¼Œä¸€æ—¦ç”¨æˆ·é€šè¿‡äº†ä»£ç éªŒè¯ï¼Œç®¡ç†å‘˜å°±ä¼šå°†ç”¨æˆ·æ·»åŠ åˆ°AWS Cognitoä¸Šçš„ç”¨æˆ·ç»„ä¸­ã€‚åœ¨æˆ‘ä»¬çš„æ¼”ç¤ºç¤ºä¾‹ä¸­ï¼Œç”¨æˆ·ä½¿ç”¨â€œmausamgaurav@ymail.comâ€æ³¨å†Œï¼Œè¯¥ç”¨æˆ·éšåè¢«ç®¡ç†å‘˜æ·»åŠ åˆ°â€œä¿é™©å•†â€ç»„ã€‚</p><h1 id="24b9" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">ä½¿ç”¨Streamlitåˆ›å»ºåŸºæœ¬çš„å¤šé¡µé¢åº”ç”¨ç¨‹åº</h1><p id="0e48" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">è¿™ä¸€èŠ‚çš„å†…å®¹åŸºæœ¬ä¸Šæ˜¯å¯¹Streamlitç½‘ç«™ä¸Šå±•ç¤ºçš„<a class="ae kv" href="https://docs.streamlit.io/library/get-started/multipage-apps" rel="noopener ugc nofollow" target="_blank">æ•™ç¨‹</a>çš„é‡åšï¼Œä»¥åˆ›å»ºä¸€ä¸ªå¤šé¡µçš„appã€‚æˆ‘ä¹‹æ‰€ä»¥å†æ¬¡æåˆ°è¿™ä¸€ç‚¹ï¼Œæ˜¯å› ä¸ºStreamlitåœ¨ä¸æ–­å‘å±•ï¼Œå°†æ¥ä»–ä»¬å¯èƒ½ä¼šåˆ é™¤è¿™ä¸€é¡µã€‚åœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œä½¿ç”¨çš„Streamlitç‰ˆæœ¬æ˜¯1.12.2ã€‚</p><blockquote class="oi oj ok"><p id="2767" class="lo lp nz lq b lr mk jr lt lu ml ju lw ol mm lz ma om mn md me on mo mh mi mj ij bi translated">è¯·æ³¨æ„ï¼Œåœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œæ‚¨ä¸éœ€è¦å…³æ³¨é¡µé¢çš„å†…å®¹ã€‚<strong class="lq ir">è¿™æ˜¯å› ä¸ºæˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ˜¾ç¤ºç”¨æˆ·å¯¹å•ä¸ªé¡µé¢çš„è®¿é—®ã€‚</strong>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬åªå…³æ³¨åˆ›å»ºå¤šé¡µé¢åº”ç”¨ç¨‹åºã€‚é¡µé¢çš„å†…å®¹å¯ä»¥æ˜¯ä½ æƒ³è¦çš„ä»»ä½•ä¸œè¥¿ã€‚</p></blockquote><p id="5a2c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">è¦ä½¿ç”¨æ­¤ç‰ˆæœ¬çš„Streamlitåˆ›å»ºå¤šé¡µé¢åº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªå…¥å£ç‚¹æ–‡ä»¶ã€‚åŸºæœ¬ä¸Šï¼Œè¿™æ˜¯ä»Streamlitå‘½ä»¤è¿è¡Œçš„ä¸»æ–‡ä»¶ï¼Œç”¨äºå¯åŠ¨å‰ç«¯ã€‚å‘½ä»¤åœ¨ä¸‹é¢ã€‚</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="70bc" class="ni kx iq ne b gy nj nk l nl nm">streamlit run [entrypoint file]</span></pre><p id="cb50" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">æ‰€æœ‰å•ç‹¬çš„é¡µé¢éƒ½éœ€è¦æ·»åŠ åˆ°é¡µé¢ç›®å½•ä¸­ã€‚å› æ­¤ï¼Œå¤šé¡µåº”ç”¨ç¨‹åºçš„ç»“æ„å¦‚ä¸‹æ‰€ç¤º:</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="46b1" class="ni kx iq ne b gy nj nk l nl nm">Home.py # This is the file you run with "streamlit run"<br/>â””â”€â”€â”€ pages/<br/>  â””â”€â”€â”€ 1_ğŸ“ˆ_Plotting_Demo.py # This is a page<br/>  â””â”€â”€â”€ 2_ğŸŒ_Mapping_Demo.py # This is another page<br/>  â””â”€â”€â”€ 3_ğŸ“Š_DataFrame_Demo.py # So is this</span></pre><p id="c813" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">å¦‚æœåº”ç”¨ç¨‹åºæºä»£ç çš„ç»“æ„å¦‚ä¸Šï¼ŒStreamlitä¼šè‡ªåŠ¨æŒ‰æ•°å­—é¡ºåºé€‰å–é¡µé¢ï¼Œå¹¶åœ¨ä¾§è¾¹æ ä¸­åˆ›å»ºé¡µé¢çš„ç›¸åº”é“¾æ¥ã€‚è¿™äº›é“¾æ¥çš„å„ä¸ªé¡µé¢çš„åç§°æ˜¯ä½¿ç”¨é¡µé¢çš„æ–‡ä»¶åè‡ªåŠ¨åˆ›å»ºçš„ã€‚</p><h2 id="b191" class="ni kx iq bd ky nn no dn lc np nq dp lg lx nr ns li mb nt nu lk mf nv nw lm nx bi translated">åˆ›å»ºå…¥å£ç‚¹æ–‡ä»¶</h2><p id="ebb7" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated"><strong class="lq ir"> Home.py </strong>æ–‡ä»¶å¦‚ä¸‹æ‰€ç¤º:</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="2251" class="ni kx iq ne b gy nj nk l nl nm">import streamlit as st</span><span id="3af6" class="ni kx iq ne b gy oo nk l nl nm">st.set_page_config(<br/>    page_title="Home",<br/>    page_icon="ğŸ‘‹",<br/>)</span><span id="e352" class="ni kx iq ne b gy oo nk l nl nm">st.write("# Welcome to Streamlit! ğŸ‘‹")</span><span id="c3ba" class="ni kx iq ne b gy oo nk l nl nm">st.markdown(<br/>    """<br/>    Streamlit is an open-source app framework built specifically for<br/>    Machine Learning and Data Science projects.<br/>    **ğŸ‘ˆ Select a demo from the sidebar** to see some examples<br/>    of what Streamlit can do!<br/>    ### Want to learn more?<br/>    - Check out [streamlit.io](https://streamlit.io)<br/>    - Jump into our [documentation](https://docs.streamlit.io)<br/>    - Ask a question in our [community<br/>        forums](https://discuss.streamlit.io)<br/>    ### See more complex demos<br/>    - Use a neural net to [analyze the Udacity Self-driving Car Image<br/>        Dataset](https://github.com/streamlit/demo-self-driving)<br/>    - Explore a [New York City rideshare dataset](https://github.com/streamlit/demo-uber-nyc-pickups)<br/>"""<br/>)</span></pre><p id="3254" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">åœ¨ä¸Šé¢æˆ‘ä»¬å·²ç»å®šåˆ¶äº†é¡µé¢æ ‡é¢˜å’Œé¡µé¢å›¾æ ‡ã€‚å¦‚æœæˆ‘ä»¬ç°åœ¨è¿è¡Œåº”ç”¨ç¨‹åºï¼Œè€Œä¸æ·»åŠ å…¶ä½™é¡µé¢ï¼Œåº”ç”¨ç¨‹åºå°†å¦‚ä¸‹æ‰€ç¤º:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/d3a0dbc0e8814b58baaad4ece0e8b7c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*lSgokS4sf0yh6wCG.jpg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><h2 id="47be" class="ni kx iq bd ky nn no dn lc np nq dp lg lx nr ns li mb nt nu lk mf nv nw lm nx bi translated">åˆ›å»ºå¤šä¸ªé¡µé¢</h2><p id="f557" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">ç°åœ¨æˆ‘ä»¬åˆ›å»ºå¦‚ä¸‹é¡µé¢:</p><p id="e926" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">ç¬¬/1é¡µ_ğŸ“ˆ_Plotting_Demo.py </strong></p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="b5fc" class="ni kx iq ne b gy nj nk l nl nm">import streamlit as st<br/>import time<br/>import numpy as np</span><span id="df00" class="ni kx iq ne b gy oo nk l nl nm">st.set_page_config(page_title="Plotting Demo", page_icon="ğŸ“ˆ")</span><span id="8193" class="ni kx iq ne b gy oo nk l nl nm">st.markdown("# Plotting Demo")<br/>st.sidebar.header("Plotting Demo")<br/>st.write(<br/>    """This demo illustrates a combination of plotting and animation with<br/>Streamlit. We're generating a bunch of random numbers in a loop for around<br/>5 seconds. Enjoy!"""<br/>)</span><span id="0f85" class="ni kx iq ne b gy oo nk l nl nm">progress_bar = st.sidebar.progress(0)<br/>status_text = st.sidebar.empty()<br/>last_rows = np.random.randn(1, 1)<br/>chart = st.line_chart(last_rows)</span><span id="f77e" class="ni kx iq ne b gy oo nk l nl nm">for i in range(1, 101):<br/>    new_rows = last_rows[-1, :] + np.random.randn(5, 1).cumsum(axis=0)<br/>    status_text.text("%i%% Complete" % i)<br/>    chart.add_rows(new_rows)<br/>    progress_bar.progress(i)<br/>    last_rows = new_rows<br/>    time.sleep(0.05)</span><span id="d1bd" class="ni kx iq ne b gy oo nk l nl nm">progress_bar.empty()</span><span id="f5ab" class="ni kx iq ne b gy oo nk l nl nm"># Streamlit widgets automatically run the script from top to bottom. Since<br/># this button is not connected to any other logic, it just causes a plain<br/># rerun.<br/>st.button("Re-run")</span></pre><p id="6fb4" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">æ·»åŠ ç¬¬ä¸€é¡µåï¼Œåº”ç”¨ç¨‹åºå°†å¦‚ä¸‹æ‰€ç¤º:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/762b9f21cf2d56d5c7ed8754647c0115.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*NGBPVVj_y-hsfyTq.jpg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><p id="cf12" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">é¡µæ•°/2_ğŸŒ_Mapping_Demo.py </strong></p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="ca7c" class="ni kx iq ne b gy nj nk l nl nm">import streamlit as st<br/>import pandas as pd<br/>import pydeck as pdk<br/>from urllib.error import URLError</span><span id="defd" class="ni kx iq ne b gy oo nk l nl nm">st.set_page_config(page_title="Mapping Demo", page_icon="ğŸŒ")</span><span id="1944" class="ni kx iq ne b gy oo nk l nl nm">st.markdown("# Mapping Demo")<br/>st.sidebar.header("Mapping Demo")<br/>st.write(<br/>    """This demo shows how to use<br/>[`st.pydeck_chart`](https://docs.streamlit.io/library/api-reference/charts/st.pydeck_chart)<br/>to display geospatial data."""<br/>)<br/></span><span id="df29" class="ni kx iq ne b gy oo nk l nl nm">@st.experimental_memo<br/>def from_data_file(filename):<br/>    url = (<br/>        "http://raw.githubusercontent.com/streamlit/"<br/>        "example-data/master/hello/v1/%s" % filename<br/>    )<br/>    return pd.read_json(url)<br/></span><span id="c586" class="ni kx iq ne b gy oo nk l nl nm">try:<br/>    ALL_LAYERS = {<br/>        "Bike Rentals": pdk.Layer(<br/>            "HexagonLayer",<br/>            data=from_data_file("bike_rental_stats.json"),<br/>            get_position=["lon", "lat"],<br/>            radius=200,<br/>            elevation_scale=4,<br/>            elevation_range=[0, 1000],<br/>            extruded=True,<br/>        ),<br/>        "Bart Stop Exits": pdk.Layer(<br/>            "ScatterplotLayer",<br/>            data=from_data_file("bart_stop_stats.json"),<br/>            get_position=["lon", "lat"],<br/>            get_color=[200, 30, 0, 160],<br/>            get_radius="[exits]",<br/>            radius_scale=0.05,<br/>        ),<br/>        "Bart Stop Names": pdk.Layer(<br/>            "TextLayer",<br/>            data=from_data_file("bart_stop_stats.json"),<br/>            get_position=["lon", "lat"],<br/>            get_text="name",<br/>            get_color=[0, 0, 0, 200],<br/>            get_size=15,<br/>            get_alignment_baseline="'bottom'",<br/>        ),<br/>        "Outbound Flow": pdk.Layer(<br/>            "ArcLayer",<br/>            data=from_data_file("bart_path_stats.json"),<br/>            get_source_position=["lon", "lat"],<br/>            get_target_position=["lon2", "lat2"],<br/>            get_source_color=[200, 30, 0, 160],<br/>            get_target_color=[200, 30, 0, 160],<br/>            auto_highlight=True,<br/>            width_scale=0.0001,<br/>            get_width="outbound",<br/>            width_min_pixels=3,<br/>            width_max_pixels=30,<br/>        ),<br/>    }<br/>    st.sidebar.markdown("### Map Layers")<br/>    selected_layers = [<br/>        layer<br/>        for layer_name, layer in ALL_LAYERS.items()<br/>        if st.sidebar.checkbox(layer_name, True)<br/>    ]<br/>    if selected_layers:<br/>        st.pydeck_chart(<br/>            pdk.Deck(<br/>                map_style="mapbox://styles/mapbox/light-v9",<br/>                initial_view_state={<br/>                    "latitude": 37.76,<br/>                    "longitude": -122.4,<br/>                    "zoom": 11,<br/>                    "pitch": 50,<br/>                },<br/>                layers=selected_layers,<br/>            )<br/>        )<br/>    else:<br/>        st.error("Please choose at least one layer above.")<br/>except URLError as e:<br/>    st.error(<br/>        """<br/>        **This demo requires internet access.**<br/>        Connection error: %s<br/>    """<br/>        % e.reason<br/>    )</span></pre><p id="5c2c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">æ·»åŠ äº†ç¬¬äºŒä¸ªé¡µé¢åï¼Œè¯¥åº”ç”¨ç¨‹åºå°†å¦‚ä¸‹æ‰€ç¤º:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/85150144e9106b4cab9fd7d656e0679e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GGPM31aEq9KwV2UE.jpg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><p id="58cf" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">ç¬¬/3é¡µ_ğŸ“Š_DataFrame_Demo.py </strong></p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="853d" class="ni kx iq ne b gy nj nk l nl nm">import streamlit as st<br/>import pandas as pd<br/>import altair as alt<br/>from urllib.error import URLError</span><span id="4c0c" class="ni kx iq ne b gy oo nk l nl nm">st.set_page_config(page_title="DataFrame Demo", page_icon="ğŸ“Š")</span><span id="3d9c" class="ni kx iq ne b gy oo nk l nl nm">st.markdown("# DataFrame Demo")<br/>st.sidebar.header("DataFrame Demo")<br/>st.write(<br/>    """This demo shows how to use `st.write` to visualize Pandas DataFrames.<br/>(Data courtesy of the [UN Data Explorer](http://data.un.org/Explorer.aspx).)"""<br/>)<br/></span><span id="7a50" class="ni kx iq ne b gy oo nk l nl nm">@st.cache<br/>def get_UN_data():<br/>    AWS_BUCKET_URL = "http://streamlit-demo-data.s3-us-west-2.amazonaws.com"<br/>    df = pd.read_csv(AWS_BUCKET_URL + "/agri.csv.gz")<br/>    return df.set_index("Region")<br/></span><span id="a789" class="ni kx iq ne b gy oo nk l nl nm">try:<br/>    df = get_UN_data()<br/>    countries = st.multiselect(<br/>        "Choose countries", list(df.index), ["China", "United States of America"]<br/>    )<br/>    if not countries:<br/>        st.error("Please select at least one country.")<br/>    else:<br/>        data = df.loc[countries]<br/>        data /= 1000000.0<br/>        st.write("### Gross Agricultural Production ($B)", data.sort_index())</span><span id="3031" class="ni kx iq ne b gy oo nk l nl nm">        data = data.T.reset_index()<br/>        data = pd.melt(data, id_vars=["index"]).rename(<br/>            columns={"index": "year", "value": "Gross Agricultural Product ($B)"}<br/>        )<br/>        chart = (<br/>            alt.Chart(data)<br/>            .mark_area(opacity=0.3)<br/>            .encode(<br/>                x="year:T",<br/>                y=alt.Y("Gross Agricultural Product ($B):Q", stack=None),<br/>                color="Region:N",<br/>            )<br/>        )<br/>        st.altair_chart(chart, use_container_width=True)<br/>except URLError as e:<br/>    st.error(<br/>        """<br/>        **This demo requires internet access.**<br/>        Connection error: %s<br/>    """<br/>        % e.reason<br/>    )</span></pre><p id="d617" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">æ·»åŠ äº†ç¬¬ä¸‰ä¸ªé¡µé¢åï¼Œè¯¥åº”ç”¨ç¨‹åºå°†å¦‚ä¸‹æ‰€ç¤º:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/1b4140b022924f1a9d795890ee4239e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Z7jcEm5JR0dUB8QO.jpg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><p id="f815" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">åœ¨è¿™ä¸€éƒ¨åˆ†çš„æœ€åï¼Œæˆ‘ä»¬å·²ç»åˆ›å»ºäº†ä¸€ä¸ªå¸¦æœ‰ç™»é™†â€œä¸»é¡µâ€å’Œå…¶ä»–ä¸‰ä¸ªé¡µé¢çš„åº”ç”¨ç¨‹åºã€‚æˆ‘ä»¬è¿˜æ²¡æœ‰ç”¨æˆ·è®¤è¯è®¾ç½®ã€‚è®©æˆ‘ä»¬åœ¨ä¸‹ä¸€èŠ‚çœ‹çœ‹ã€‚</p><h1 id="6c20" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">é…ç½®AWSè®¤çŸ¥</h1><p id="bdcb" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">ç™»å½•AWSæ§åˆ¶å°ï¼Œåœ¨é¡¶éƒ¨çš„æœç´¢æŒ‰é’®æœç´¢Cognitoã€‚è¿›å…¥Cognitoéƒ¨åˆ†åï¼Œæ‚¨å°†çœ‹åˆ°ä¸€ä¸ªç”¨æˆ·æ± ç•Œé¢ã€‚</p><p id="351e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">å•å‡»â€œåˆ›å»ºç”¨æˆ·æ± â€æŒ‰é’®ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oq"><img src="../Images/57cb47cf92db9a1a9eb2e00fe0c07a1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*T0sDft8gFZ261q5Z.jpg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><p id="dbbd" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">ç„¶åï¼Œåœ¨ä¸‹ä¸€ä¸ªé€‰é¡¹(æ­¥éª¤1)ä¸­ï¼Œé€‰æ‹©â€œç”µå­é‚®ä»¶â€ä½œä¸ºâ€œCognitoç”¨æˆ·æ± ç™»å½•é€‰é¡¹â€çš„é€‰é¡¹ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi or"><img src="../Images/40ef44ed22a976ea3146a347832c3046.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Cd9hPU6x1xkc01op.jpg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><p id="d588" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">ç„¶ååœ¨æ­¥éª¤2ä¸­ï¼Œé€‰æ‹©é»˜è®¤å¯†ç é€‰é¡¹å’Œæ— å¤šå› ç´ èº«ä»½éªŒè¯ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi os"><img src="../Images/5053c5971722d21d943e7046f8221a9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qUO4wB5Sha6aGwhA.jpg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ot"><img src="../Images/a387c11e121180e78050c6022fa1f328.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0RZvR0VwVS1wdG7b.jpg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><p id="e392" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">åœ¨ç¬¬3æ­¥ä¸­ï¼Œæˆ‘ä»¬å…è®¸ç”¨æˆ·è‡ªåŠ©æ³¨å†Œï¼Œå…¶ä½™é€‰é¡¹é€‰æ‹©é»˜è®¤å€¼ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ou"><img src="../Images/21fe988e329b1e27743f5e1f81244d03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GLCK7tCh_UDLuwdo.jpg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ov"><img src="../Images/42e3c0ecc0c55d8d12a717f1d5c77d04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*74T4T_1jmD6lwNEw.jpg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><p id="9310" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">åœ¨ç¬¬4æ­¥ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›ç”¨CognitoæœåŠ¡å‘é€ç”µå­é‚®ä»¶ï¼Œå› æ­¤æˆ‘ä»¬é€‰æ‹©äº†è¯¥é€‰é¡¹ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ow"><img src="../Images/eb4a82c55049bcbcf2c8a47741e812c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xnL3ApeMAo5MsEOp.jpg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><p id="562f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">ç¬¬5æ­¥æ˜¯æœ€é‡è¦çš„ä¸€æ­¥ï¼Œåœ¨è¿™ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå®¢æˆ·ç«¯åŠå…¶è®¾ç½®ã€‚</p><p id="8c0d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">é¦–å…ˆé€‰æ‹©ä¸€ä¸ªç”¨æˆ·æ± åç§°ã€‚æˆ‘ä»¬ä½¿ç”¨â€œæ¼”ç¤ºåº”ç”¨ç”¨æˆ·æ± â€ä½œä¸ºåç§°ã€‚æˆ‘ä»¬è¿˜å…è®¸æ‰˜ç®¡è®¤è¯é¡µé¢ã€‚è¿™æ˜¯ä¸ºäº†è®©æˆ‘ä»¬ä½¿ç”¨é»˜è®¤çš„ç™»å½•/æ³¨å†Œç­‰ã€‚AWS Cognitoä¸­æä¾›çš„é¡µé¢ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ov"><img src="../Images/5ac2f0036cf45d8da1ce5b9656200fab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*dm_kw-cy3IokkPGp.jpg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><p id="4757" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">åœ¨CognitoåŸŸä¸­ï¼Œæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªè‡ªå®šä¹‰åŸŸã€‚è¿™æ˜¯ä¸Šé¢çš„Cognito hosted UIé¡µé¢æ‰€åœ¨çš„åŸŸã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ou"><img src="../Images/f921cc793a35bce620769e2ad56234b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*vqxZ8MGIsaHVShQf.jpg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><p id="8849" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">åœ¨â€œåˆå§‹åº”ç”¨å®¢æˆ·ç«¯â€ä¸­ï¼Œæˆ‘ä»¬é€‰æ‹©â€œå…¬å…±å®¢æˆ·ç«¯â€ã€‚æˆ‘ä»¬æä¾›ä¸€ä¸ªåº”ç”¨ç¨‹åºå®¢æˆ·ç«¯åç§°ï¼Œå¦‚â€œæ¼”ç¤ºåº”ç”¨ç¨‹åºå®¢æˆ·ç«¯åç§°â€,å¹¶ç”Ÿæˆä¸€ä¸ªå®¢æˆ·ç«¯å¯†ç ã€‚å¯¹äºå…è®¸çš„å›å«URLï¼Œæˆ‘ä»¬æä¾›äº†Streamlitåº”ç”¨ç¨‹åºä¸»é¡µçš„URLï¼Œå³â€œhttp://localhost:8501/â€ã€‚å›è°ƒURLçš„ä½œç”¨æ˜¯åœ¨æˆåŠŸè®¤è¯(ç™»å½•)åï¼Œç”¨æˆ·è¢«è·¯ç”±å›è¯¥URLã€‚å› ä¸ºæˆ‘ä»¬å·²ç»æä¾›äº†åº”ç”¨ç¨‹åºä¸»é¡µçš„URLï¼Œæ‰€ä»¥åœ¨æˆåŠŸè®¤è¯ä¹‹åï¼Œç”¨æˆ·è¢«é‡å®šå‘åˆ°ä¸»é¡µã€‚è¯·æ³¨æ„ï¼Œåœ¨ç”Ÿäº§ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æä¾›åº”ç”¨ç¨‹åºæ‰€åœ¨çš„åŸŸï¼Œä¾‹å¦‚<a class="ae kv" href="https://mystreamlitapp.com/." rel="noopener ugc nofollow" target="_blank">https://mystreamlitapp.com/.</a></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oq"><img src="../Images/3fa9b386bdc4966de8759a36d8e64740.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GS4RGmkA4ulETZIc.jpg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><p id="9dc0" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">åœ¨é«˜çº§åº”ç”¨ç¨‹åºå®¢æˆ·ç«¯è®¾ç½®ä¸­ï¼Œåœ¨èº«ä»½éªŒè¯æµç¨‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨â€œALLOW_USER_PASSWORD_AUTHâ€é€‰é¡¹ã€‚æˆ‘ä»¬å°†å…¶ä½™é€‰é¡¹ä¿ç•™ä¸ºé»˜è®¤å€¼ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ot"><img src="../Images/744ae9461d9f1f25648aa1c1ffd07cb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cK1PcDAxmlpCv3ms.jpg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><p id="b854" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">åœ¨å…è®¸æ³¨é”€çš„URLä¸­ï¼Œæˆ‘ä»¬å†æ¬¡æä¾›äº†åº”ç”¨ç¨‹åºçš„ä¸»é¡µï¼Œå³â€œhttp://localhost:8501/â€ã€‚è¿™æ„å‘³ç€æ³¨é”€åï¼Œç”¨æˆ·å°†è¢«é‡å®šå‘å›æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºçš„ä¸»é¡µã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ot"><img src="../Images/0145d7932db936f4ab5c18d31db0e830.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*MDdKy0N3Acl5WEep.jpg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><p id="487a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">æœ€åï¼Œåœ¨æ­¥éª¤6ä¸­ï¼Œæˆ‘ä»¬ç¡®è®¤å¹¶åˆ›å»ºç”¨æˆ·æ± ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ot"><img src="../Images/509f86c2d3567416df642b147861266f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PqDm66ZUNKyuZYbv.jpg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><h2 id="22e5" class="ni kx iq bd ky nn no dn lc np nq dp lg lx nr ns li mb nt nu lk mf nv nw lm nx bi translated">å°†ç”¨æˆ·æ·»åŠ åˆ°AWS Cognitoç”¨æˆ·æ± </h2><p id="9dda" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">åˆ›å»ºç”¨æˆ·æ± åï¼Œç”¨æˆ·å¯ä»¥æ‰‹åŠ¨æ·»åŠ åˆ°æ± ä¸­ï¼Œä¹Ÿå¯ä»¥è‡ªè¡Œæ³¨å†Œã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ox"><img src="../Images/9e22cfe6797ae211c986f8e9c5e64008.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yqKGAteslGkS41wv4RlfUw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><p id="ae38" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">å¯ä»¥ä½¿ç”¨â€œåˆ›å»ºç»„â€é€‰é¡¹ä»â€œç»„â€èœå•åˆ›å»ºæ–°ç»„ã€‚å‡ºäºæ¼”ç¤ºçš„ç›®çš„ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸¤ä¸ªç»„â€œä¿¡ç”¨åˆ†æå¸ˆâ€å’Œâ€œæ‰¿é”€å•†â€,å¹¶å‘å…¶ä¸­æ·»åŠ ç›¸åº”çš„ç”¨æˆ·ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oy"><img src="../Images/a9fc0c0424445ecc5949b82b299bbc43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nYf4AWpb3ya0J1v2N1k7zg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><p id="b54d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">å¯ä»¥å°†å•ä¸ªç”¨æˆ·æ·»åŠ åˆ°ç»„ä¸­ï¼Œæ–¹æ³•æ˜¯é¦–å…ˆåœ¨â€œç”¨æˆ·â€èœå•ä¸­å•å‡»å¯ç‚¹å‡»çš„ç”¨æˆ·åï¼Œç„¶åå•å‡»â€œå°†ç”¨æˆ·æ·»åŠ åˆ°ç»„â€æŒ‰é’®ã€‚ä¾‹å¦‚ï¼Œåœ¨æœ¬æ¼”ç¤ºä¸­ï¼Œæˆ‘ä»¬å°†ç”¨æˆ·â€œmausam.gaurav@gmailâ€æ·»åŠ åˆ°â€œCreditAnalystsâ€ç»„ä¸­ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ox"><img src="../Images/953b6e220db59ce041cb6a54d4a016c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UTWCpLCLgb66vmmwENFBvA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><h1 id="a716" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">åŸåˆ™AWS Cognitoå¦‚ä½•ä¸Streamlité…åˆå·¥ä½œ</h1><p id="9713" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">å¦‚æœæˆ‘ä»¬çœ‹ä¸€ä¸‹å¤šé¡µåº”ç”¨ç¨‹åºçš„â€œ<strong class="lq ir">æ¼”ç¤ºå’Œé¡µé¢è®¿é—®</strong>â€éƒ¨åˆ†ä¸­æ˜¾ç¤ºçš„æ¼”ç¤ºåŠ¨ç”»ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°ï¼Œä¸€æ—¦ç”¨æˆ·å•å‡»â€œç™»å½•â€æŒ‰é’®ï¼Œç”¨æˆ·å°±ä¼šè¢«å¸¦åˆ°AWS Cognitoæ‰˜ç®¡çš„ç™»å½•é¡µé¢ã€‚æˆåŠŸç™»å½•åï¼Œç”¨æˆ·è¢«é‡å®šå‘å›ä¸»é¡µã€‚åœ¨ç”¨æˆ·è¢«é‡å®šå‘åˆ°ä¸»é¡µåï¼Œé‡å®šå‘çš„ä¸»é¡µURLè¿˜åŒ…å«ä¸€ä¸ªæŸ¥è¯¢å‚æ•°ã€‚å› æ­¤é‡å®šå‘çš„URLå¯èƒ½çœ‹èµ·æ¥åƒè¿™æ ·ï¼Œ<a class="ae kv" href="http://localhost:8501/?code=3f3de7a2-76c2-476a-8032-950c79a519e8" rel="noopener ugc nofollow" target="_blank"> http://localhost:8501/ï¼Ÿcode = 3 F3 de 7 a 2-76 C2-476 a-8032-950 c 79 a 519 e 8</a>ã€‚è¿™é‡Œçš„æŸ¥è¯¢å‚æ•°æ˜¯â€œcode â€,å®ƒçš„å€¼æ˜¯ç­‰å·åé¢çš„å€¼ï¼Œåœ¨æˆåŠŸè®¤è¯åä»AWS Cognitoè¿”å›ã€‚å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‡½æ•°åœ¨Streamlitä¸­æ•è·è¯¥å€¼(<em class="nz">æ³¨æ„ï¼Œæœ¬èŠ‚ä¸­è®¨è®ºçš„æ‰€æœ‰å‡½æ•°éƒ½æ¥è‡ªæˆ‘ä»¬å‰é¢æåˆ°çš„GitHubå­˜å‚¨åº“ä¸­çš„ä¸€ä¸ªåä¸º'</em><a class="ae kv" href="https://github.com/MausamGaurav/Streamlit_Multipage_AWSCognito_User_Authentication_Authorization/blob/master/components/authenticate.py" rel="noopener ugc nofollow" target="_blank"><em class="nz">authenticate . py</em></a><em class="nz">'çš„æ¨¡å—</em>):</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="291a" class="ni kx iq ne b gy nj nk l nl nm">import streamlit as st</span><span id="c132" class="ni kx iq ne b gy oo nk l nl nm"># ----------------------------------<br/># Get authorization code after login<br/># ----------------------------------<br/>def get_auth_code():<br/>    """<br/>    Gets auth_code state variable.<br/><br/>    Returns:<br/>        Nothing.<br/>    """<br/>    auth_query_params = st.experimental_get_query_params()<br/>    try:<br/>        auth_code = dict(auth_query_params)["code"][0]<br/>    except (KeyError, TypeError):<br/>        auth_code = ""<br/><br/>    return auth_code</span></pre><p id="edc0" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">ä¸€æ—¦æˆ‘ä»¬æœ‰äº†è¿™ä¸ªèº«ä»½éªŒè¯ä»£ç ï¼Œæˆ‘ä»¬å°±å¯ä»¥å‘oauth 2.0ä»¤ç‰Œç«¯ç‚¹å‘å‡ºpostè¯·æ±‚ï¼Œå¦‚AWS APIæ–‡æ¡£<a class="ae kv" href="https://docs.aws.amazon.com/cognito/latest/developerguide/token-endpoint.html" rel="noopener ugc nofollow" target="_blank">ä¸­æ‰€è¿°ï¼Œåœ¨è¿™é‡Œ</a>æ£€ç´¢access_tokenã€id_tokenå’Œrefresh_tokenã€‚åœ¨ä¸‹é¢æ˜¾ç¤ºçš„å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬åªæ£€ç´¢è®¿é—®å’Œidä»¤ç‰Œã€‚</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="90a1" class="ni kx iq ne b gy nj nk l nl nm">import os<br/>import streamlit as st<br/>from dotenv import load_dotenv<br/>import requests<br/>import base64</span><span id="3118" class="ni kx iq ne b gy oo nk l nl nm"># ------------------------------------<br/># Read constants from environment file<br/># ------------------------------------<br/>load_dotenv()<br/>COGNITO_DOMAIN = os.environ.get("COGNITO_DOMAIN")<br/>CLIENT_ID = os.environ.get("CLIENT_ID")<br/>CLIENT_SECRET = os.environ.get("CLIENT_SECRET")<br/>APP_URI = os.environ.get("APP_URI")</span><span id="4bc8" class="ni kx iq ne b gy oo nk l nl nm"># -------------------------------------------------------<br/># Use authorization code to get user access and id tokens<br/># -------------------------------------------------------<br/>def get_user_tokens(auth_code):<br/>    """<br/>    Gets user tokens by making a post request call.<br/><br/>    Args:<br/>        auth_code: Authorization code from cognito server.<br/><br/>    Returns:<br/>        {<br/>        'access_token': access token from cognito server if user is successfully authenticated.<br/>        'id_token': access token from cognito server if user is successfully authenticated.<br/>        }<br/><br/>    """<br/><br/>    # Variables to make a post request<br/>    token_url = f"{COGNITO_DOMAIN}/oauth2/token"<br/>    client_secret_string = f"{CLIENT_ID}:{CLIENT_SECRET}"<br/>    client_secret_encoded = str(<br/>        base64.b64encode(client_secret_string.encode("utf-8")), "utf-8"<br/>    )<br/>    headers = {<br/>        "Content-Type": "application/x-www-form-urlencoded",<br/>        "Authorization": f"Basic {client_secret_encoded}",<br/>    }<br/>    body = {<br/>        "grant_type": "authorization_code",<br/>        "client_id": CLIENT_ID,<br/>        "code": auth_code,<br/>        "redirect_uri": APP_URI,<br/>    }<br/><br/>    token_response = requests.post(token_url, headers=headers, data=body)<br/>    try:<br/>        access_token = token_response.json()["access_token"]<br/>        id_token = token_response.json()["id_token"]<br/>    except (KeyError, TypeError):<br/>        access_token = ""<br/>        id_token = ""<br/><br/>    return access_token, id_token</span></pre><p id="eb0c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">access_tokenå¯ç”¨äºå‘å‡ºå…¶ä»–AWSè®¤çŸ¥APIç”¨æˆ·è¯·æ±‚ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨access_tokenï¼Œå¯ä»¥ä½¿ç”¨<a class="ae kv" href="https://docs.aws.amazon.com/cognito/latest/developerguide/userinfo-endpoint.html" rel="noopener ugc nofollow" target="_blank"> UserInfo APIç«¯ç‚¹</a>æ£€ç´¢ç”¨æˆ·ä¿¡æ¯ã€‚</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="45f7" class="ni kx iq ne b gy nj nk l nl nm">import os<br/>import streamlit as st<br/>from dotenv import load_dotenv<br/>import requests<br/>import base64</span><span id="dde3" class="ni kx iq ne b gy oo nk l nl nm"># ------------------------------------<br/># Read constants from environment file<br/># ------------------------------------<br/>load_dotenv()<br/>COGNITO_DOMAIN = os.environ.get("COGNITO_DOMAIN")<br/>CLIENT_ID = os.environ.get("CLIENT_ID")<br/>CLIENT_SECRET = os.environ.get("CLIENT_SECRET")<br/>APP_URI = os.environ.get("APP_URI")</span><span id="5da8" class="ni kx iq ne b gy oo nk l nl nm"># ---------------------------------------------<br/># Use access token to retrieve user information<br/># ---------------------------------------------<br/>def get_user_info(access_token):<br/>    """<br/>    Gets user info from aws cognito server.<br/><br/>    Args:<br/>        access_token: string access token from the aws cognito user pool<br/>        retrieved using the access code.<br/><br/>    Returns:<br/>        userinfo_response: json object.<br/>    """<br/>    userinfo_url = f"{COGNITO_DOMAIN}/oauth2/userInfo"<br/>    headers = {<br/>        "Content-Type": "application/json;charset=UTF-8",<br/>        "Authorization": f"Bearer {access_token}",<br/>    }<br/><br/>    userinfo_response = requests.get(userinfo_url, headers=headers)<br/><br/>    return userinfo_response.json()</span></pre><p id="80f8" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">ç„¶åï¼Œå¯ä»¥å¯¹access_tokenæˆ–id_tokenè¿›è¡Œbase64è§£ç ï¼Œä»¥è·å¾—user_cognito_groupsä¿¡æ¯ã€‚æ¯”å¦‚æˆåŠŸç™»å½•åï¼Œæ”¶åˆ°çš„æˆæƒç æ˜¯â€˜3 F3 de 7 a 2â€“76 C2â€“476 a-8032â€“950 c 79 a 519 e 8â€™ã€‚ä½¿ç”¨æ­¤æˆæƒä»£ç ï¼Œæˆ‘ä»¬å‘ä»¤ç‰ŒAPIç«¯ç‚¹å‘å‡ºPOSTè¯·æ±‚ï¼Œæ”¶åˆ°çš„â€œæˆæƒä»¤ç‰Œâ€å¦‚ä¸‹:</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="b03c" class="ni kx iq ne b gy nj nk l nl nm">eyJraWQiOiJidWJcL2hHa3N6eXozWmJsMlZMcWdlTTRkN0VYNWtyM2JVelJxSFNNMkVBRT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIyZTJhMTkwNy04NmNjLTRmN2EtOWEyOS0xMTczMmM5YzNlMmIiLCJjb2duaXRvOmdyb3VwcyI6WyJDcmVkaXRBbmFseXN0cyJdLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9ldUxSaWZNQm4iLCJ2ZXJzaW9uIjoyLCJjbGllbnRfaWQiOiI2M2EzY3IzOGk1aW9mbm10dTh0MGRoOWJoNCIsIm9yaWdpbl9qdGkiOiJkMzZmMjhkOS1hNGIyLTQzMDItYjlmYS1hODA4MWNiZGYxNmEiLCJ0b2tlbl91c2UiOiJhY2Nlc3MiLCJzY29wZSI6Im9wZW5pZCBlbWFpbCIsImF1dGhfdGltZSI6MTY2NDEyNTk5OSwiZXhwIjoxNjY0MTI5NTk5LCJpYXQiOjE2NjQxMjU5OTksImp0aSI6IjU4ZjkwN2Y0LWJkOWMtNGJhMC04NjkxLWUzNzZjNDQ4NTdjMCIsInVzZXJuYW1lIjoiMmUyYTE5MDctODZjYy00ZjdhLTlhMjktMTE3MzJjOWMzZTJiIn0.R2i_YGCTX6cSZRyc19pTslPsEYRoDDGZygTjbIKDuVkqDuW1h9dyiOfS8e1LyzEDcSXGXTIcqMAhCJWIPUwdpzAutpWQdFkvUVd1DnY0Wuga5XiVM5Hc7o0_9JTY8qaO7Oo1T9tRPiNpS90q6HncqGzClHObxYF1E5q9duxpFqSllvxg5DNf7Q5kAMDYzf-b-zYHKkzxw1GXAnFyAI8rT_PZlsm4UolXeSQtR42JtFnrfk3EM5HWH10ro5QKRUqOY1NxN7SH_PGWU3_gEznF53kdwrxK7nUEXstZQau_Va0KUoXrIqzLb3cZkliWE-af3RDYro8ggMmQZbGD2m-hhg</span></pre><p id="ac99" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">å¦‚æœæˆ‘ä»¬ç”¨https://jwt.io/<a class="ae kv" href="https://jwt.io/" rel="noopener ugc nofollow" target="_blank">ä¹‹ç±»çš„JWTè§£ç å™¨å¯¹ä¸Šè¿°ä»¤ç‰Œè¿›è¡Œbase64è§£ç ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°è§£ç åçš„æœ‰æ•ˆè½½è·å°†åŒ…å«å¦‚ä¸‹æ‰€ç¤ºçš„ç»„ä¿¡æ¯ã€‚</a></p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="3b84" class="ni kx iq ne b gy nj nk l nl nm">{<br/>  "sub": "2e2a1907-86cc-4f7a-9a29-11732c9c3e2b",<br/>  "cognito:groups": [<br/>    "CreditAnalysts"<br/>  ],<br/>  "iss": "https://cognito-idp.us-east-1.amazonaws.com/us-east-1_euLRifMBn",<br/>  "version": 2,<br/>  "client_id": "63a3cr38i5iofnmtu8t0dh9bh4",<br/>  "origin_jti": "d36f28d9-a4b2-4302-b9fa-a8081cbdf16a",<br/>  "token_use": "access",<br/>  "scope": "openid email",<br/>  "auth_time": 1664125999,<br/>  "exp": 1664129599,<br/>  "iat": 1664125999,<br/>  "jti": "58f907f4-bd9c-4ba0-8691-e376c44857c0",<br/>  "username": "2e2a1907-86cc-4f7a-9a29-11732c9c3e2b"<br/>}</span></pre><p id="27e8" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">è§£ç access_token/id_tokenå¯ä»¥åœ¨Pythonä¸­å®Œæˆï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="5eba" class="ni kx iq ne b gy nj nk l nl nm">import base64<br/>import json</span><span id="e647" class="ni kx iq ne b gy oo nk l nl nm"># -------------------------------------------------------<br/># Decode access token to JWT to get user's cognito groups<br/># -------------------------------------------------------<br/># Ref - https://gist.github.com/GuillaumeDerval/b300af6d4f906f38a051351afab3b95c<br/>def pad_base64(data):<br/>    """<br/>    Makes sure base64 data is padded.<br/><br/>    Args:<br/>        data: base64 token string.<br/><br/>    Returns:<br/>        data: padded token string.<br/>    """<br/>    missing_padding = len(data) % 4<br/>    if missing_padding != 0:<br/>        data += "=" * (4 - missing_padding)<br/>    return data<br/><br/><br/>def get_user_cognito_groups(id_token):<br/>    """<br/>    Decode id token to get user cognito groups.<br/><br/>    Args:<br/>        id_token: id token of a successfully authenticated user.<br/><br/>    Returns:<br/>        user_cognito_groups: a list of all the cognito groups the user belongs to.<br/>    """<br/>    if id_token != "":<br/>        header, payload, signature = id_token.split(".")<br/>        printable_payload = base64.urlsafe_b64decode(pad_base64(payload))<br/>        payload_dict = json.loads(printable_payload)<br/>        user_cognito_groups = list(dict(payload_dict)["cognito:groups"])<br/>    else:<br/>        user_cognito_groups = []<br/>    return user_cognito_groups</span></pre><p id="c1ee" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">ä¸‹ä¸€æ­¥æ˜¯å°†èº«ä»½éªŒè¯ä¿¡æ¯å­˜å‚¨åˆ°Streamlitä¼šè¯å˜é‡ä¸­ï¼Œä»¥ä¾¿è·¨é¡µé¢å…±äº«è¿™äº›å˜é‡ã€‚å¦‚æœæˆ‘ä»¬æˆåŠŸåœ°ä»ä»¤ç‰Œç«¯ç‚¹æ¥æ”¶åˆ°éç©ºå­—ç¬¦ä¸²çš„è®¿é—®ä»¤ç‰Œï¼Œæˆ‘ä»¬å°±çŸ¥é“ç”¨æˆ·æˆåŠŸåœ°é€šè¿‡äº†èº«ä»½éªŒè¯ã€‚è®¤è¯çŠ¶æ€å’Œç”¨æˆ·è®¤çŸ¥ç»„ä¿¡æ¯å¯ä»¥ä¿å­˜åˆ°ä¼šè¯å˜é‡ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="5f02" class="ni kx iq ne b gy nj nk l nl nm">st.session_state["authenticated"] = True<br/>st.session_state["user_cognito_groups"] = user_cognito_groups</span></pre><p id="227e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">æœ¬èŠ‚ä¸­çš„æ‰€æœ‰ä¸Šè¿°æ­¥éª¤éƒ½å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ‰€ç¤ºçš„ä¸»åŠŸèƒ½æ¥å®ç°:</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="d181" class="ni kx iq ne b gy nj nk l nl nm">import streamlit as st</span><span id="5a03" class="ni kx iq ne b gy oo nk l nl nm"># -----------------------------<br/># Set Streamlit state variables<br/># -----------------------------<br/>def set_st_state_vars():<br/>    """<br/>    Sets the streamlit state variables after user authentication.<br/>    Returns:<br/>        Nothing.<br/>    """<br/>    initialise_st_state_vars()<br/>    auth_code = get_auth_code()<br/>    access_token, id_token = get_user_tokens(auth_code)<br/>    user_cognito_groups = get_user_cognito_groups(id_token)<br/><br/>    if access_token != "":<br/>        st.session_state["auth_code"] = auth_code<br/>        st.session_state["authenticated"] = True<br/>        st.session_state["user_cognito_groups"] = user_cognito_groups</span></pre><p id="6004" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">æ³¨æ„ï¼Œåœ¨ä¸Šé¢çš„å‡½æ•°ä¸­ï¼Œå¦‚æœçŠ¶æ€å˜é‡ä¸å­˜åœ¨ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªâ€œåˆå§‹åŒ–_st_state_vars()â€å‡½æ•°æ¥åˆå§‹åŒ–çŠ¶æ€å˜é‡ã€‚è¯¥å‡½æ•°å¦‚ä¸‹æ‰€ç¤º:</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="ccf4" class="ni kx iq ne b gy nj nk l nl nm"># ------------------------------------<br/># Initialise Streamlit state variables<br/># ------------------------------------<br/>def initialise_st_state_vars():<br/>    """<br/>    Initialise Streamlit state variables.<br/><br/>    Returns:<br/>        Nothing.<br/>    """<br/>    if "auth_code" not in st.session_state:<br/>        st.session_state["auth_code"] = ""<br/>    if "authenticated" not in st.session_state:<br/>        st.session_state["authenticated"] = False<br/>    if "user_cognito_groups" not in st.session_state:<br/>        st.session_state["user_cognito_groups"] = []</span></pre><p id="ce0d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">å¯ä»¥åœ¨ç‰¹å®šé¡µé¢ä¸Šä½¿ç”¨ä¼šè¯å˜é‡æ¥äº†è§£ç”¨æˆ·æ˜¯å¦ç»è¿‡èº«ä»½éªŒè¯ä»¥åŠç”¨æˆ·å±äºå“ªä¸ªç»„ã€‚å¦‚æœç”¨æˆ·ç»„ä¿¡æ¯ä¸é¡µé¢ä¸Šè®¿é—®è¯¥é¡µé¢æ‰€éœ€çš„ä¿¡æ¯ç›¸åŒ¹é…ï¼Œé‚£ä¹ˆè¯¥ç‰¹å®šç”¨æˆ·å°±å¯ä»¥è®¿é—®è¯¥é¡µé¢ã€‚</p><p id="2142" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">åœ¨æ¯ä¸ªé¡µé¢ä¸Šï¼Œæˆ‘ä»¬é¦–å…ˆå¯¼å…¥èº«ä»½éªŒè¯æ¨¡å—ã€‚â€œset_st_state_variables()â€å‡½æ•°ç”¨äºåœ¨æ¯ä¸ªé¡µé¢ä¸ŠéªŒè¯ç”¨æˆ·ï¼Œå¹¶æ˜¾ç¤ºç™»å½•å’Œæ³¨é”€æŒ‰é’®(è¿™äº›æ˜¯åœ¨Streamlitä¸­åˆ›å»ºçš„è‡ªå®šä¹‰StreamlitæŒ‰é’®ï¼Œå¹¶åœ¨authenticateæ¨¡å—ä¸­å®šä¹‰)ã€‚</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="849c" class="ni kx iq ne b gy nj nk l nl nm">import components.authenticate as authenticate</span><span id="9958" class="ni kx iq ne b gy oo nk l nl nm"># Check authentication when user lands on the page.<br/>authenticate.set_st_state_vars()</span><span id="5317" class="ni kx iq ne b gy oo nk l nl nm"># Add login/logout buttons<br/>if st.session_state["authenticated"]:<br/>    authenticate.button_logout()<br/>else:<br/>    authenticate.button_login()</span></pre><p id="150c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">æˆ‘ä»¬å¯ä»¥ä½¿ç”¨çŠ¶æ€å˜é‡éšè—/æ˜¾ç¤ºé¡µé¢å†…å®¹ã€‚ä¸‹é¢æ˜¯æˆ‘ä»¬å¦‚ä½•ç¡®ä¿åªæœ‰ç»è¿‡èº«ä»½éªŒè¯å’Œ/æˆ–å±äºç‰¹å®šAWS Cognitoç»„çš„ç”¨æˆ·æ‰èƒ½è®¿é—®é¡µé¢ä¸Šçš„å†…å®¹ã€‚æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç®€å•çš„ifè¯­å¥æ£€æŸ¥ä¼šè¯çŠ¶æ€å˜é‡â€œauthenticatedâ€å’Œâ€œuser_cognito_groups â€,å½“æ»¡è¶³æ¡ä»¶æ—¶ï¼Œè¿è¡Œé¡µé¢çš„ä»£ç ã€‚ä¾‹å¦‚:</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="0dfe" class="ni kx iq ne b gy nj nk l nl nm">if st.session_state["authenticated"] and "Underwriters" in st.session_state["user_cognito_groups"]:<br/>    # Show the page content<br/>    # Contents of page 1<br/>    st.write(<br/>        """This demo illustrates a combination of plotting!..."""<br/>    )</span><span id="cc4a" class="ni kx iq ne b gy oo nk l nl nm"># ...<br/>else:<br/>    if st.session_state["authenticated"]:<br/>        st.write("<!-- -->You do not have access. Please contact the administrator.<!-- -->")<br/>    else:<br/>        st.write("Please login!")</span></pre><p id="f911" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œåªæœ‰å½“ç”¨æˆ·æˆåŠŸé€šè¿‡èº«ä»½éªŒè¯å¹¶ä¸”ä»æœåŠ¡å™¨æ¥æ”¶åˆ°çš„ç”¨æˆ·ç»„ä¿¡æ¯æ˜¯â€œä¿é™©å•†â€æ—¶ï¼Œé¡µé¢çš„å†…å®¹æ‰ä¼šè¢«æ‰§è¡Œå¹¶æ˜¾ç¤ºç»™æœ€ç»ˆç”¨æˆ·ã€‚</p><h1 id="7197" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">å°†AWS Cognitoé›†æˆåˆ°æˆ‘ä»¬çš„Streamlitåº”ç”¨ç¨‹åºä¸­</h1><p id="28d0" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">ä¸ºäº†å°†æˆ‘ä»¬çš„AWS Cognitoç”¨æˆ·æ± é›†æˆåˆ°æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå¦‚ä¸Šæ‰€è¿°çš„å•ç‹¬çš„â€œauthenticate.pyâ€æ¨¡å—æ¥å°è£…æˆ‘ä»¬çš„åŠŸèƒ½ã€‚æˆ‘ä»¬å°†è¿™ä¸ªâ€œauthenticate.pyâ€æ–‡ä»¶ä¿å­˜åœ¨åä¸ºâ€œcomponentsâ€çš„ç›®å½•ä¸­ï¼Œä¸â€œpagesâ€ç›®å½•å¹¶æ’ã€‚åœ¨â€œcomponentsâ€ç›®å½•ä¸­ï¼Œæˆ‘ä»¬è¿˜åˆ›å»ºäº†ä¸€ä¸ª. envæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å°†ä¿å­˜æˆ‘ä»¬çš„ä¸€äº›AWS Cognitoå®¢æˆ·ç«¯è®¾ç½®ã€‚æ³¨æ„ï¼Œæˆ‘ä»¬è¿˜æ·»åŠ äº†ä¸€ä¸ª__init__ã€‚pyæ–‡ä»¶ï¼Œä»¥ä¾¿ç»„ä»¶ç›®å½•å¯ä»¥ä½œä¸ºæ¨¡å—å¯¼å…¥ã€‚</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="37f5" class="ni kx iq ne b gy nj nk l nl nm">Home.py<br/>â””â”€â”€â”€ components/<br/>  â””â”€â”€â”€ __init__.py<br/>  â””â”€â”€â”€ .env<br/>  â””â”€â”€â”€ authenticate.py <br/>â””â”€â”€â”€ pages/<br/>  â””â”€â”€â”€ 1_ğŸ“ˆ_Plotting_Demo.py<br/>  â””â”€â”€â”€ 2_ğŸŒ_Mapping_Demo.py<br/>  â””â”€â”€â”€ 3_ğŸ“Š_DataFrame_Demo.py</span></pre><p id="a265" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">çš„å†…å®¹ã€‚envæ–‡ä»¶å¦‚ä¸‹æ‰€ç¤ºã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä»¬æ²¡æœ‰æ¨é€å®é™…çš„ã€‚envæ–‡ä»¶æ·»åŠ åˆ°GitHubå­˜å‚¨åº“ã€‚å®é™…ä¸Šï¼Œå‡ºäºå®‰å…¨è€ƒè™‘ï¼Œæ‚¨ä¹Ÿä¸åº”è¯¥å°†æ‚¨çš„AWSå‡­è¯æ¨é€åˆ°æ‚¨çš„å­˜å‚¨åº“ä¸­ã€‚</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="3b9b" class="ni kx iq ne b gy nj nk l nl nm">COGNITO_DOMAIN = "https://myappauthentication.auth.us-east-1.amazoncognito.com"<br/>CLIENT_ID = "xyz"<br/>CLIENT_SECRET = "secret-secret"<br/>APP_URI = "http://localhost:8501/"</span></pre><p id="bd55" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">è¿™äº›ç¯å¢ƒå˜é‡çš„å®é™…å€¼åº”è¯¥æ˜¯AWS Cognitoç”¨æˆ·æ± ä¸­çš„å€¼ã€‚ä¾‹å¦‚,â€œCLIENT_IDâ€å’Œâ€œCLIENT_SECRETâ€å€¼å°†æ¥è‡ªå—ç®¡AWS Cognitoæ§åˆ¶å°çš„ä¸‹æ–¹åŒºåŸŸã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oz"><img src="../Images/818dda80bf4df1120527a8b65b273516.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*R9w90HAdjUVfwk2K.jpg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ä½œè€…å›¾ç‰‡</figcaption></figure><p id="961e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">å®Œæ•´çš„'<strong class="lq ir"> authenticate.py </strong>'æ¨¡å—å¦‚ä¸‹æ‰€ç¤ºã€‚</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="cfb1" class="ni kx iq ne b gy nj nk l nl nm">import os<br/>import streamlit as st<br/>from dotenv import load_dotenv<br/>import requests<br/>import base64<br/>import json</span><span id="6263" class="ni kx iq ne b gy oo nk l nl nm"># ------------------------------------<br/># Read constants from environment file<br/># ------------------------------------<br/>load_dotenv()<br/>COGNITO_DOMAIN = os.environ.get("COGNITO_DOMAIN")<br/>CLIENT_ID = os.environ.get("CLIENT_ID")<br/>CLIENT_SECRET = os.environ.get("CLIENT_SECRET")<br/>APP_URI = os.environ.get("APP_URI")<br/></span><span id="6ae8" class="ni kx iq ne b gy oo nk l nl nm"># ------------------------------------<br/># Initialise Streamlit state variables<br/># ------------------------------------<br/>def initialise_st_state_vars():<br/>    """<br/>    Initialise Streamlit state variables.</span><span id="f1ad" class="ni kx iq ne b gy oo nk l nl nm">    Returns:<br/>        Nothing.<br/>    """<br/>    if "auth_code" not in st.session_state:<br/>        st.session_state["auth_code"] = ""<br/>    if "authenticated" not in st.session_state:<br/>        st.session_state["authenticated"] = False<br/>    if "user_cognito_groups" not in st.session_state:<br/>        st.session_state["user_cognito_groups"] = []<br/></span><span id="8dc6" class="ni kx iq ne b gy oo nk l nl nm"># ----------------------------------<br/># Get authorization code after login<br/># ----------------------------------<br/>def get_auth_code():<br/>    """<br/>    Gets auth_code state variable.</span><span id="f01b" class="ni kx iq ne b gy oo nk l nl nm">    Returns:<br/>        Nothing.<br/>    """<br/>    auth_query_params = st.experimental_get_query_params()<br/>    try:<br/>        auth_code = dict(auth_query_params)["code"][0]<br/>    except (KeyError, TypeError):<br/>        auth_code = ""</span><span id="a2fe" class="ni kx iq ne b gy oo nk l nl nm">    return auth_code<br/></span><span id="620e" class="ni kx iq ne b gy oo nk l nl nm"># ----------------------------------<br/># Set authorization code after login<br/># ----------------------------------<br/>def set_auth_code():<br/>    """<br/>    Sets auth_code state variable.</span><span id="537e" class="ni kx iq ne b gy oo nk l nl nm">    Returns:<br/>        Nothing.<br/>    """<br/>    initialise_st_state_vars()<br/>    auth_code = get_auth_code()<br/>    st.session_state["auth_code"] = auth_code<br/></span><span id="8a62" class="ni kx iq ne b gy oo nk l nl nm"># -------------------------------------------------------<br/># Use authorization code to get user access and id tokens<br/># -------------------------------------------------------<br/>def get_user_tokens(auth_code):<br/>    """<br/>    Gets user tokens by making a post request call.</span><span id="a0ff" class="ni kx iq ne b gy oo nk l nl nm">    Args:<br/>        auth_code: Authorization code from cognito server.</span><span id="0d63" class="ni kx iq ne b gy oo nk l nl nm">    Returns:<br/>        {<br/>        'access_token': access token from cognito server if user is successfully authenticated.<br/>        'id_token': access token from cognito server if user is successfully authenticated.<br/>        }</span><span id="12d3" class="ni kx iq ne b gy oo nk l nl nm">    """</span><span id="5751" class="ni kx iq ne b gy oo nk l nl nm">    # Variables to make a post request<br/>    token_url = f"{COGNITO_DOMAIN}/oauth2/token"<br/>    client_secret_string = f"{CLIENT_ID}:{CLIENT_SECRET}"<br/>    client_secret_encoded = str(<br/>        base64.b64encode(client_secret_string.encode("utf-8")), "utf-8"<br/>    )<br/>    headers = {<br/>        "Content-Type": "application/x-www-form-urlencoded",<br/>        "Authorization": f"Basic {client_secret_encoded}",<br/>    }<br/>    body = {<br/>        "grant_type": "authorization_code",<br/>        "client_id": CLIENT_ID,<br/>        "code": auth_code,<br/>        "redirect_uri": APP_URI,<br/>    }</span><span id="aeff" class="ni kx iq ne b gy oo nk l nl nm">    token_response = requests.post(token_url, headers=headers, data=body)<br/>    try:<br/>        access_token = token_response.json()["access_token"]<br/>        id_token = token_response.json()["id_token"]<br/>    except (KeyError, TypeError):<br/>        access_token = ""<br/>        id_token = ""</span><span id="608b" class="ni kx iq ne b gy oo nk l nl nm">    return access_token, id_token<br/></span><span id="6818" class="ni kx iq ne b gy oo nk l nl nm"># ---------------------------------------------<br/># Use access token to retrieve user information<br/># ---------------------------------------------<br/>def get_user_info(access_token):<br/>    """<br/>    Gets user info from aws cognito server.</span><span id="45a6" class="ni kx iq ne b gy oo nk l nl nm">    Args:<br/>        access_token: string access token from the aws cognito user pool<br/>        retrieved using the access code.</span><span id="5db5" class="ni kx iq ne b gy oo nk l nl nm">    Returns:<br/>        userinfo_response: json object.<br/>    """<br/>    userinfo_url = f"{COGNITO_DOMAIN}/oauth2/userInfo"<br/>    headers = {<br/>        "Content-Type": "application/json;charset=UTF-8",<br/>        "Authorization": f"Bearer {access_token}",<br/>    }</span><span id="d22b" class="ni kx iq ne b gy oo nk l nl nm">    userinfo_response = requests.get(userinfo_url, headers=headers)</span><span id="e103" class="ni kx iq ne b gy oo nk l nl nm">    return userinfo_response.json()<br/></span><span id="413f" class="ni kx iq ne b gy oo nk l nl nm"># -------------------------------------------------------<br/># Decode access token to JWT to get user's cognito groups<br/># -------------------------------------------------------<br/># Ref - https://gist.github.com/GuillaumeDerval/b300af6d4f906f38a051351afab3b95c<br/>def pad_base64(data):<br/>    """<br/>    Makes sure base64 data is padded.</span><span id="5f11" class="ni kx iq ne b gy oo nk l nl nm">    Args:<br/>        data: base64 token string.</span><span id="2506" class="ni kx iq ne b gy oo nk l nl nm">    Returns:<br/>        data: padded token string.<br/>    """<br/>    missing_padding = len(data) % 4<br/>    if missing_padding != 0:<br/>        data += "=" * (4 - missing_padding)<br/>    return data<br/></span><span id="b634" class="ni kx iq ne b gy oo nk l nl nm">def get_user_cognito_groups(id_token):<br/>    """<br/>    Decode id token to get user cognito groups.</span><span id="13f9" class="ni kx iq ne b gy oo nk l nl nm">    Args:<br/>        id_token: id token of a successfully authenticated user.</span><span id="9675" class="ni kx iq ne b gy oo nk l nl nm">    Returns:<br/>        user_cognito_groups: a list of all the cognito groups the user belongs to.<br/>    """<br/>    if id_token != "":<br/>        header, payload, signature = id_token.split(".")<br/>        printable_payload = base64.urlsafe_b64decode(pad_base64(payload))<br/>        payload_dict = json.loads(printable_payload)<br/>        user_cognito_groups = list(dict(payload_dict)["cognito:groups"])<br/>    else:<br/>        user_cognito_groups = []<br/>    return user_cognito_groups<br/></span><span id="c4b5" class="ni kx iq ne b gy oo nk l nl nm"># -----------------------------<br/># Set Streamlit state variables<br/># -----------------------------<br/>def set_st_state_vars():<br/>    """<br/>    Sets the streamlit state variables after user authentication.<br/>    Returns:<br/>        Nothing.<br/>    """<br/>    initialise_st_state_vars()<br/>    auth_code = get_auth_code()<br/>    access_token, id_token = get_user_tokens(auth_code)<br/>    user_cognito_groups = get_user_cognito_groups(id_token)</span><span id="5109" class="ni kx iq ne b gy oo nk l nl nm">    if access_token != "":<br/>        st.session_state["auth_code"] = auth_code<br/>        st.session_state["authenticated"] = True<br/>        st.session_state["user_cognito_groups"] = user_cognito_groups<br/></span><span id="00ff" class="ni kx iq ne b gy oo nk l nl nm"># -----------------------------<br/># Login/ Logout HTML components<br/># -----------------------------<br/>login_link = f"{COGNITO_DOMAIN}/login?client_id={CLIENT_ID}&amp;response_type=code&amp;scope=email+openid&amp;redirect_uri={APP_URI}"<br/>logout_link = f"{COGNITO_DOMAIN}/logout?client_id={CLIENT_ID}&amp;logout_uri={APP_URI}"</span><span id="2d36" class="ni kx iq ne b gy oo nk l nl nm">html_css_login = """<br/>&lt;style&gt;<br/>.button-login {<br/>  background-color: skyblue;<br/>  color: white !important;<br/>  padding: 1em 1.5em;<br/>  text-decoration: none;<br/>  text-transform: uppercase;<br/>}</span><span id="0e50" class="ni kx iq ne b gy oo nk l nl nm">.button-login:hover {<br/>  background-color: #555;<br/>  text-decoration: none;<br/>}</span><span id="3ee3" class="ni kx iq ne b gy oo nk l nl nm">.button-login:active {<br/>  background-color: black;<br/>}</span><span id="02be" class="ni kx iq ne b gy oo nk l nl nm">&lt;/style&gt;<br/>"""</span><span id="cb49" class="ni kx iq ne b gy oo nk l nl nm">html_button_login = (<br/>    html_css_login<br/>    + f"&lt;a href='{login_link}' class='button-login' target='_self'&gt;Log In&lt;/a&gt;"<br/>)<br/>html_button_logout = (<br/>    html_css_login<br/>    + f"&lt;a href='{logout_link}' class='button-login' target='_self'&gt;Log Out&lt;/a&gt;"<br/>)<br/></span><span id="321d" class="ni kx iq ne b gy oo nk l nl nm">def button_login():<br/>    """</span><span id="9031" class="ni kx iq ne b gy oo nk l nl nm">    Returns:<br/>        Html of the login button.<br/>    """<br/>    return st.sidebar.markdown(f"{html_button_login}", unsafe_allow_html=True)<br/></span><span id="1825" class="ni kx iq ne b gy oo nk l nl nm">def button_logout():<br/>    """</span><span id="3b44" class="ni kx iq ne b gy oo nk l nl nm">    Returns:<br/>        Html of the logout button.<br/>    """<br/>    return st.sidebar.markdown(f"{html_button_logout}", unsafe_allow_html=True)</span></pre><p id="d898" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">å¦‚æœæˆ‘ä»¬é˜…è¯»â€œauthenticate.pyâ€æ¨¡å—ï¼Œè¿™äº›å‡½æ•°æ˜¯ä¸è¨€è‡ªæ˜çš„ã€‚è¿™äº›å‡½æ•°åœ¨é¡µé¢ä¸Šçš„æ‰§è¡Œé¡ºåºåœ¨åä¸ºâ€œset_st_state_variables()â€çš„ä¸»å‡½æ•°ä¸­ã€‚æ­£å¦‚å·²ç»è®¨è®ºè¿‡çš„ï¼Œè¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯ï¼Œæ¯å½“ç”¨æˆ·ç™»é™†ä¸€ä¸ªé¡µé¢æ—¶ï¼Œå¦‚æœä¼šè¯çŠ¶æ€å˜é‡ä¸å­˜åœ¨ï¼Œå®ƒé¦–å…ˆå°è¯•åˆ›å»ºå®ƒä»¬ï¼Œç„¶åèµ‹äºˆé»˜è®¤å€¼ã€‚ç„¶åï¼Œå®ƒä½¿ç”¨get_auth_code()å‡½æ•°è·å–æˆæƒç ã€‚ä½¿ç”¨â€œget_user_tokens(auth_code)â€å‡½æ•°ï¼Œæ£€ç´¢è®¿é—®å’Œidä»¤ç‰Œã€‚ç„¶åä½¿ç”¨â€œget _ user_cognito_groups(id _ token)â€å‡½æ•°ï¼Œæ¥æ”¶user _ cogn ITO _ groupsä¿¡æ¯ã€‚è¿™äº›ç„¶åè¢«å­˜å‚¨åœ¨Streamlitä¼šè¯å˜é‡ä¸­ã€‚</p><p id="fb5a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">authenticateæ¨¡å—è¿˜æœ‰ä¸¤ä¸ªå®šåˆ¶çš„htmlé“¾æ¥æŒ‰é’®ï¼Œåä¸ºbutton_login()å’Œbutton_logout()ï¼Œç”¨äºåœ¨æ¯ä¸ªé¡µé¢ä¸Šæ˜¾ç¤ºç™»å½•å’Œæ³¨é”€æŒ‰é’®ã€‚è¿™äº›æŒ‰é’®çš„ä»£ç éå¸¸ç®€å•â€”â€”æˆ‘ä»¬åªæ˜¯ä½¿ç”¨URLé“¾æ¥çš„è‡ªå®šä¹‰HTML markdownåˆ›å»ºäº†ä¸€ä¸ªStreamlitå…ƒç´ ï¼Œè¿™äº›é“¾æ¥ä½¿ç”¨CSSè¿›è¡Œäº†æ ·å¼åŒ–ï¼Œçœ‹èµ·æ¥åƒæŒ‰é’®ã€‚ä½¿ç”¨Streamlit ' ST . sidebar . markdown 'ï¼Œæˆ‘ä»¬ç¡®ä¿æŒ‰é’®å‡ºç°åœ¨ä¾§è¾¹æ ä¸Šã€‚</p><p id="483c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬åªéœ€åƒå‰é¢è®¨è®ºçš„é‚£æ ·ä¿®æ”¹æ¯ä¸ªStreamlité¡µé¢ï¼Œä»¥å¯¼å…¥authenticateæ¨¡å—å¹¶ç›¸åº”åœ°ä¿®æ”¹é¡µé¢ä»£ç ï¼Œä»è€Œæ ¹æ®ç”¨æˆ·æ˜¯å¦ç»è¿‡èº«ä»½éªŒè¯ä»¥åŠä»–ä»¬æ˜¯å¦å±äºç‰¹å®šç»„æ¥å…è®¸ç”¨æˆ·è®¿é—®é¡µé¢å†…å®¹ã€‚</p><p id="2f51" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">å„ä¸ªé¡µé¢çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚</p><p id="2ded" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> Home.py </strong></p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="c426" class="ni kx iq ne b gy nj nk l nl nm">import streamlit as st<br/>import components.authenticate as authenticate</span><span id="ff97" class="ni kx iq ne b gy oo nk l nl nm">st.set_page_config(<br/>    page_title="Home",<br/>    page_icon="ğŸ‘‹",<br/>)</span><span id="e44c" class="ni kx iq ne b gy oo nk l nl nm">st.write("# Welcome to Streamlit! ğŸ‘‹")</span><span id="2301" class="ni kx iq ne b gy oo nk l nl nm">st.markdown(<br/>    """<br/>    Streamlit is an open-source app framework built specifically for<br/>    Machine Learning and Data Science projects.<br/>    **ğŸ‘ˆ Select a demo from the sidebar** to see some examples<br/>    of what Streamlit can do!<br/>    ### Want to learn more?<br/>    - Check out [streamlit.io](https://streamlit.io)<br/>    - Jump into our [documentation](https://docs.streamlit.io)<br/>    - Ask a question in our [community<br/>        forums](https://discuss.streamlit.io)<br/>    ### See more complex demos<br/>    - Use a neural net to [analyze the Udacity Self-driving Car Image<br/>        Dataset](https://github.com/streamlit/demo-self-driving)<br/>    - Explore a [New York City rideshare dataset](https://github.com/streamlit/demo-uber-nyc-pickups)<br/>"""<br/>)</span><span id="abec" class="ni kx iq ne b gy oo nk l nl nm"># Check authentication when user lands on the home page.<br/>authenticate.set_st_state_vars()</span><span id="3845" class="ni kx iq ne b gy oo nk l nl nm"># Add login/logout buttons<br/>if st.session_state["authenticated"]:<br/>    authenticate.button_logout()<br/>else:<br/>    authenticate.button_login()</span></pre><p id="242b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">å¦‚å‰æ‰€è¿°ï¼Œå¦‚æœçœ‹çœ‹åº•éƒ¨çš„ä»£ç ï¼Œæˆ‘ä»¬é¦–å…ˆä½¿ç”¨â€œauthenticate.set_st_state_vars()â€å‡½æ•°åœ¨ç”¨æˆ·ç™»å½•é¡µé¢æ—¶æ£€æŸ¥èº«ä»½éªŒè¯ã€‚ç„¶åï¼Œåœ¨è¿™ä¸ªé¡µé¢ä¸Šï¼Œæˆ‘ä»¬åªéœ€æ£€æŸ¥ç”¨æˆ·æ˜¯å¦é€šè¿‡äº†èº«ä»½éªŒè¯ï¼Œå¦‚æœç”¨æˆ·æ²¡æœ‰é€šè¿‡èº«ä»½éªŒè¯ï¼Œåˆ™æ˜¾ç¤ºç™»å½•æŒ‰é’®ï¼Œå¦‚æœç”¨æˆ·é€šè¿‡äº†èº«ä»½éªŒè¯ï¼Œåˆ™æ˜¾ç¤ºæ³¨é”€æŒ‰é’®ã€‚</p><p id="f76f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">ç¬¬/1é¡µ_ğŸ“ˆ_Plotting_Demo.py </strong></p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="d882" class="ni kx iq ne b gy nj nk l nl nm">import streamlit as st<br/>import time<br/>import numpy as np<br/>import components.authenticate as authenticate</span><span id="5809" class="ni kx iq ne b gy oo nk l nl nm"># Page configuration<br/>st.set_page_config(page_title="Plotting Demo", page_icon="ğŸ“ˆ")</span><span id="2976" class="ni kx iq ne b gy oo nk l nl nm"># Check authentication<br/>authenticate.set_st_state_vars()</span><span id="bbfe" class="ni kx iq ne b gy oo nk l nl nm"># Add login/logout buttons<br/>if st.session_state["authenticated"]:<br/>    authenticate.button_logout()<br/>else:<br/>    authenticate.button_login()</span><span id="2f8a" class="ni kx iq ne b gy oo nk l nl nm"># Rest of the page<br/>st.markdown("# Plotting Demo")<br/>st.sidebar.header("Plotting Demo")</span><span id="3ea3" class="ni kx iq ne b gy oo nk l nl nm">if (<br/>    st.session_state["authenticated"]<br/>    and "Underwriters" in st.session_state["user_cognito_groups"]<br/>):<br/>    st.write(<br/>        """This demo illustrates a combination of plotting and animation with<br/>    Streamlit. We're generating a bunch of random numbers in a loop for around<br/>    5 seconds. Enjoy!"""<br/>    )</span><span id="95a9" class="ni kx iq ne b gy oo nk l nl nm">progress_bar = st.sidebar.progress(0)<br/>    status_text = st.sidebar.empty()<br/>    last_rows = np.random.randn(1, 1)<br/>    chart = st.line_chart(last_rows)</span><span id="c0fc" class="ni kx iq ne b gy oo nk l nl nm">for i in range(1, 101):<br/>        new_rows = last_rows[-1, :] + np.random.randn(5, 1).cumsum(axis=0)<br/>        status_text.text("%i%% Complete" % i)<br/>        chart.add_rows(new_rows)<br/>        progress_bar.progress(i)<br/>        last_rows = new_rows<br/>        time.sleep(0.05)</span><span id="15ad" class="ni kx iq ne b gy oo nk l nl nm">progress_bar.empty()</span><span id="9161" class="ni kx iq ne b gy oo nk l nl nm"># Streamlit widgets automatically run the script from top to bottom. Since<br/>    # this button is not connected to any other logic, it just causes a plain<br/>    # rerun.<br/>    st.button("Re-run")<br/>else:<br/>    if st.session_state["authenticated"]:<br/>        st.write("You do not have access. Please contact the administrator.")<br/>    else:<br/>        st.write("Please login!")</span></pre><p id="3a4c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">åœ¨æ­¤é¡µé¢ä¸Šï¼Œæˆ‘ä»¬é¦–å…ˆæ£€æŸ¥èº«ä»½éªŒè¯çŠ¶æ€ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ ¹æ®èº«ä»½éªŒè¯çŠ¶æ€æ˜¾ç¤ºç™»å½•/æ³¨é”€æŒ‰é’®ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬æ£€æŸ¥ç”¨æˆ·æ˜¯å¦ç»è¿‡èº«ä»½éªŒè¯ï¼Œä»¥åŠç”¨æˆ·æ˜¯å¦å±äºâ€œä¿é™©å•†â€ç»„ã€‚å¦‚æœæ»¡è¶³è¿™äº›æ¡ä»¶ï¼Œåˆ™æ‰§è¡Œè¯¥é¡µé¢çš„ä»£ç å¹¶æ˜¾ç¤ºç»™ç”¨æˆ·ã€‚å¦‚æœä¸æ»¡è¶³è¿™äº›æ¡ä»¶ï¼Œå°†å‘ç”¨æˆ·æ˜¾ç¤ºä¸€æ¡æ¶ˆæ¯â€œè¯·ç™»å½•ï¼â€æˆ–è€…â€œæ‚¨æ²¡æœ‰è®¿é—®æƒé™â€ã€‚è¯·è”ç³»ç®¡ç†å‘˜ã€‚è¿™å–å†³äºä¼šè¯çŠ¶æ€å˜é‡çš„å€¼ã€‚</p><p id="ad37" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">é¡µæ•°/2_ğŸŒ_Mapping_Demo.py</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="7aab" class="ni kx iq ne b gy nj nk l nl nm">import streamlit as st<br/>import pandas as pd<br/>import pydeck as pdk<br/>from urllib.error import URLError<br/>import components.authenticate as authenticate</span><span id="7d4a" class="ni kx iq ne b gy oo nk l nl nm"># Page configuration<br/>st.set_page_config(page_title="Mapping Demo", page_icon="ğŸŒ")</span><span id="4688" class="ni kx iq ne b gy oo nk l nl nm"># Check authentication<br/>authenticate.set_st_state_vars()</span><span id="54c5" class="ni kx iq ne b gy oo nk l nl nm"># Add login/logout buttons<br/>if st.session_state["authenticated"]:<br/>    authenticate.button_logout()<br/>else:<br/>    authenticate.button_login()</span><span id="70f7" class="ni kx iq ne b gy oo nk l nl nm"># Rest of the page<br/>st.markdown("# Mapping Demo")<br/>st.sidebar.header("Mapping Demo")</span><span id="ad6c" class="ni kx iq ne b gy oo nk l nl nm">if (<br/>    st.session_state["authenticated"]<br/>    and "CreditAnalysts" in st.session_state["user_cognito_groups"]<br/>):<br/>    st.write(<br/>        """This demo shows how to use<br/>    [`st.pydeck_chart`](<a class="ae kv" href="https://docs.streamlit.io/library/api-reference/charts/st.pydeck_chart" rel="noopener ugc nofollow" target="_blank">https://docs.streamlit.io/library/api-reference/charts/st.pydeck_chart</a>)<br/>    to display geospatial data."""<br/>    )</span><span id="31b0" class="ni kx iq ne b gy oo nk l nl nm"><a class="ae kv" href="http://twitter.com/st" rel="noopener ugc nofollow" target="_blank">@st</a>.experimental_memo<br/>    def from_data_file(filename):<br/>        url = (<br/>            "<a class="ae kv" href="http://raw.githubusercontent.com/streamlit/" rel="noopener ugc nofollow" target="_blank">http://raw.githubusercontent.com/streamlit/</a>"<br/>            "example-data/master/hello/v1/%s" % filename<br/>        )<br/>        return pd.read_json(url)</span><span id="7dc2" class="ni kx iq ne b gy oo nk l nl nm">try:<br/>        ALL_LAYERS = {<br/>            "Bike Rentals": pdk.Layer(<br/>                "HexagonLayer",<br/>                data=from_data_file("bike_rental_stats.json"),<br/>                get_position=["lon", "lat"],<br/>                radius=200,<br/>                elevation_scale=4,<br/>                elevation_range=[0, 1000],<br/>                extruded=True,<br/>            ),<br/>            "Bart Stop Exits": pdk.Layer(<br/>                "ScatterplotLayer",<br/>                data=from_data_file("bart_stop_stats.json"),<br/>                get_position=["lon", "lat"],<br/>                get_color=[200, 30, 0, 160],<br/>                get_radius="[exits]",<br/>                radius_scale=0.05,<br/>            ),<br/>            "Bart Stop Names": pdk.Layer(<br/>                "TextLayer",<br/>                data=from_data_file("bart_stop_stats.json"),<br/>                get_position=["lon", "lat"],<br/>                get_text="name",<br/>                get_color=[0, 0, 0, 200],<br/>                get_size=15,<br/>                get_alignment_baseline="'bottom'",<br/>            ),<br/>            "Outbound Flow": pdk.Layer(<br/>                "ArcLayer",<br/>                data=from_data_file("bart_path_stats.json"),<br/>                get_source_position=["lon", "lat"],<br/>                get_target_position=["lon2", "lat2"],<br/>                get_source_color=[200, 30, 0, 160],<br/>                get_target_color=[200, 30, 0, 160],<br/>                auto_highlight=True,<br/>                width_scale=0.0001,<br/>                get_width="outbound",<br/>                width_min_pixels=3,<br/>                width_max_pixels=30,<br/>            ),<br/>        }<br/>        st.sidebar.markdown("### Map Layers")<br/>        selected_layers = [<br/>            layer<br/>            for layer_name, layer in ALL_LAYERS.items()<br/>            if st.sidebar.checkbox(layer_name, True)<br/>        ]<br/>        if selected_layers:<br/>            st.pydeck_chart(<br/>                pdk.Deck(<br/>                    map_style="mapbox://styles/mapbox/light-v9",<br/>                    initial_view_state={<br/>                        "latitude": 37.76,<br/>                        "longitude": -122.4,<br/>                        "zoom": 11,<br/>                        "pitch": 50,<br/>                    },<br/>                    layers=selected_layers,<br/>                )<br/>            )<br/>        else:<br/>            st.error("Please choose at least one layer above.")<br/>    except URLError as e:<br/>        st.error(<br/>            """<br/>            **This demo requires internet access.**<br/>            Connection error: %s<br/>        """<br/>            % e.reason<br/>        )<br/>else:<br/>    if st.session_state["authenticated"]:<br/>        st.write("You do not have access. Please contact the administrator.")<br/>    else:<br/>        st.write("Please login!")</span></pre><p id="f7e2" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">åœ¨è¿™ä¸ªé¡µé¢ä¸Šï¼Œæˆ‘ä»¬æ£€æŸ¥ä¸ç¬¬ä¸€ä¸ªé¡µé¢ç›¸åŒçš„å†…å®¹ï¼Œå¹¶ç›¸åº”åœ°æ‰§è¡Œè¯¥é¡µé¢ã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œæˆ‘ä»¬æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å±äºâ€œä¿¡ç”¨åˆ†æå¸ˆâ€ç»„ã€‚</p><p id="9583" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><em class="nz">è¯·æ³¨æ„ï¼Œæˆ‘ä»¬å·²ç»è·³è¿‡äº†ç¬¬ä¸‰é¡µçš„èº«ä»½éªŒè¯å’Œç”¨æˆ·è®¿é—®ï¼Œå› æ­¤æ²¡æœ‰ä»»ä½•æ›´æ”¹ã€‚</em></p><p id="be97" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">é€šè¿‡pagesè®¾ç½®ï¼Œå¦‚æœæ‚¨å†æ¬¡å¯åŠ¨Streamlitåº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬ç°åœ¨åº”è¯¥å¯ä»¥åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­çœ‹åˆ°ç”¨æˆ·èº«ä»½éªŒè¯å’Œéƒ¨åˆ†è®¿é—®ï¼Œå¦‚æœ¬æ–‡å¼€å¤´çš„æ¼”ç¤ºæ‰€ç¤ºã€‚</p><p id="0e94" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">æ–‡ç« çš„GitHubé¡µé¢æ˜¯<a class="ae kv" href="https://github.com/MausamGaurav/Streamlit_Multipage_AWSCognito_User_Authentication_Authorization.git" rel="noopener ugc nofollow" target="_blank">è¿™é‡Œæ˜¯</a>ã€‚</p><p id="12cc" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">å¸Œæœ›ä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ã€‚å¿«ä¹æµçº¿å‹ğŸš£ï¼ï¼</p></div></div>    
</body>
</html>