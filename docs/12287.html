<html>
<head>
<title>4 Upcoming JavaScript Array Methods</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">4个即将推出的JavaScript数组方法</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/4-upcoming-javascript-array-methods-6b1c7539eafd?source=collection_archive---------11-----------------------#2022-05-29">https://levelup.gitconnected.com/4-upcoming-javascript-array-methods-6b1c7539eafd?source=collection_archive---------11-----------------------#2022-05-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6c19" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">他们在解决什么问题？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b91ce8459dc47d0dbb3a4ef9ea7dbf7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*N2RxzaRCjV2JiMYl"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">Muhannad Ajjan 在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="09dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">TC39即将完成一个技术方案——<a class="ae ky" href="https://github.com/tc39/proposal-change-array-by-copy" rel="noopener ugc nofollow" target="_blank">通过复制</a>改变数组。现在已经到了第三阶段，也就是说各大浏览器厂商会在不久的将来实现。本文将向您简要介绍它们。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="d939" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">具体来说，以下函数属性将被导入到<code class="fe mc md me mf b">Array.prototype</code>和<code class="fe mc md me mf b">TypedArray.prototype</code>中:</p><h1 id="1d76" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">1.反向()</h1><p id="5366" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">和之前的<code class="fe mc md me mf b">Array.prototype.reverse()</code>相比，<code class="fe mc md me mf b">Array.prototype.toReversed()</code>并没有改变原来的阵列。</p><p id="7982" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/84b092b46265cca9d0f9a6cd1ab89fce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fHko2UzqOA2c-mNIOLB2zA.png"/></div></div></figure><h1 id="9e98" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">2.toSorted(比较)</h1><p id="5535" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated"><code class="fe mc md me mf b">Array.prototype.toSorted(compareFn)</code>也差不多，它不像<code class="fe mc md me mf b">Array.prototype.sort(compareFn)</code>那样改变原来的阵列。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/00a7544ec34025a0bce4397740d9a2c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GAuuEtOqKbqJT3zIBoAtxw.png"/></div></div></figure><h1 id="3f98" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">3.toSpliced(开始，删除计数，…项)</h1><p id="deb1" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">前面的<code class="fe mc md me mf b">Array.prototype.splice(start, deleteCount, …items)</code>可以从<code class="fe mc md me mf b">start</code>中删除<code class="fe mc md me mf b">deleteCount</code>元素，并将<code class="fe mc md me mf b">...item</code>添加到数组中。调用此方法时，将返回已删除的数组，并且它还会更改原始数组。我在之前的文章里有详细的对比:</p><div class="nf ng gp gr nh ni"><a href="https://javascript.plainenglish.io/interviewer-please-tell-me-the-difference-between-slice-splice-and-split-5a6617692395" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd iu gy z fp nn fr fs no fu fw is bi translated">面试官:请告诉我切片、拼接和分割的区别？</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">你打算怎么回复他？</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nr l"><div class="ns l nt nu nv nr nw ks ni"/></div></div></a></div><p id="850a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后<code class="fe mc md me mf b">Array.prototype.toSpliced(start, deleteCount, …items)</code>类似于<code class="fe mc md me mf b">splice</code>，但是不改变原来的数组。调用此方法将返回原始数组的已更改副本，而不是已删除的数组。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/62cad56cb75bc2d2a9d89bf3050b5522.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H6H_ESnFGtNgXhPUUPoP4Q.png"/></div></div></figure><h1 id="0347" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">4.with(索引，值)</h1><p id="9aa6" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated"><code class="fe mc md me mf b">Array.prototype.with(index, value)</code>可以给数组的索引项赋值，类似于<code class="fe mc md me mf b">array[index] = value</code>。但是它返回原始数组的一个更改后的副本，对原始数组没有任何影响。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/f2b9a3dae457f0ad1f4a37bd255bb598.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*81ZuJOXjwRVdW2UxfX-rNw.png"/></div></div></figure><h1 id="fe0b" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">结论</h1><p id="0292" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">可以看出，这些方法保持原始数组不变，并返回一个已更改的副本。这在某些情况下很有用。目前还没有量产，TC39也提供了它的<a class="ae ky" href="https://github.com/tc39/proposal-change-array-by-copy/blob/main/polyfill.js" rel="noopener ugc nofollow" target="_blank"> polyfill.js </a>(极简参考实现)。</p><p id="89ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从<a class="ae ky" href="https://github.com/tc39/proposal-change-array-by-copy/blob/main/polyfill.js#L102-L110" rel="noopener ugc nofollow" target="_blank"> polyfill.js </a>也可以看出，这些方法返回的是原数组的浅拷贝。一旦原始数组存储了引用类型数据，了解引用类型数据的特性以避免意外情况是很重要的。</p><p id="9cce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么你对这些即将到来的函数方法怎么看？</p><h1 id="3bc0" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">参考</h1><p id="eaa8" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">[1]https://github.com/tc39/proposal-change-array-by-copy<a class="ae ky" href="https://github.com/tc39/proposal-change-array-by-copy" rel="noopener ugc nofollow" target="_blank"/></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="19fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nx">今天就到这里。我是Zachary，我将继续输出与web开发相关的故事。如果你喜欢这样的故事，想支持我，请考虑成为</em> <a class="ae ky" href="https://medium.com/@islizeqiang/membership" rel="noopener"> <em class="nx">中等会员</em> </a> <em class="nx">。每月5美元，你可以无限制地访问媒体内容。如果你通过</em> <a class="ae ky" href="https://medium.com/@islizeqiang/membership" rel="noopener"> <em class="nx">我的链接</em> </a> <em class="nx">报名，我会得到一点佣金。</em></p><p id="780b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你的支持对我来说非常重要——谢谢。</p></div></div>    
</body>
</html>