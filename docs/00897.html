<html>
<head>
<title>Expose localhost as a public URL and debug using ngrok</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将localhost公开为公共URL，并使用ngrok进行调试</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/expose-localhost-as-a-public-url-and-debug-using-ngrok-8912a91e6740?source=collection_archive---------1-----------------------#2019-09-08">https://levelup.gitconnected.com/expose-localhost-as-a-public-url-and-debug-using-ngrok-8912a91e6740?source=collection_archive---------1-----------------------#2019-09-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div class="gh gi jq"><img src="../Images/016c17c07426eead96286c35f735b3c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*T3XG1CfzGDVy00uO4v8AFw.jpeg"/></div></figure><p id="a445" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">ngrok是一个非常棒的开源工具，它可以通过SSL将您的本地端口公开为一个公共URL，您可以从CLI复制它。它提供了到本地主机服务器的安全通道。这意味着您的localhost web服务器将通过公共URL接收请求，如果您需要共享或演示或调试只接受公共URL的集成环境，这将非常方便。我们走一遍吧！</p><h1 id="1e31" class="kv kw it bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">Ngrok设置</h1><ol class=""><li id="c94e" class="lt lu it jz b ka lv ke lw ki lx km ly kq lz ku ma mb mc md bi translated">登录<a class="ae me" href="https://ngrok.com/" rel="noopener ugc nofollow" target="_blank">官方网站</a>并注册</li><li id="6356" class="lt lu it jz b ka mf ke mg ki mh km mi kq mj ku ma mb mc md bi translated">下载工具(这是一个单一的exe或dmg文件)</li><li id="d76a" class="lt lu it jz b ka mf ke mg ki mh km mi kq mj ku ma mb mc md bi translated">在本地计算机上设置身份验证令牌</li><li id="d4d2" class="lt lu it jz b ka mf ke mg ki mh km mi kq mj ku ma mb mc md bi translated">您已经准备好公开您的本地端口</li></ol><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mk"><img src="../Images/fef99c6d20e4c36f0e80950cebe030ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gbRHE014B3Hboxdj.png"/></div></div></figure><h1 id="6f19" class="kv kw it bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">向公共URL公开localhost REST API并进行调试</h1><p id="e942" class="pw-post-body-paragraph jx jy it jz b ka lv kc kd ke lw kg kh ki mt kk kl km mu ko kp kq mv ks kt ku im bi translated">这在集成中非常有用，因为其他部分只能接受公共URL，而您希望调试REST API，看看它是如何工作的。这个用例的一个例子是Alexa技能调试。</p><p id="1eeb" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">Alexa技能开发人员控制台需要一个可公开访问的端点来处理请求。使用ngrok，您可以将本地主机暴露给一个公共URL，并在Alexa开发人员控制台中使用和调试它。</p><p id="7ace" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">以下示例公开了一个Azure函数，使其可公开访问。这避免了将其部署到Azure进行集成测试，</p><ol class=""><li id="523f" class="lt lu it jz b ka kb ke kf ki mw km mx kq my ku ma mb mc md bi translated">创建Azure函数</li><li id="27fb" class="lt lu it jz b ka mf ke mg ki mh km mi kq mj ku ma mb mc md bi translated">运行函数并检查它运行的端口。</li></ol><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mz"><img src="../Images/04f042d5641c9ee164a6dc349b74e55f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gVmGsUixN0Wg1j57.png"/></div></div></figure><p id="5787" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">3.使用您的工具路径打开命令，并运行以下命令来显示您的本地端口</p><pre class="ml mm mn mo gt na nb nc nd aw ne bi"><span id="a29f" class="nf kw it nb b gy ng nh l ni nj">ngrok http 7071</span></pre><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/41113e6b1bd5b2e5c7b84661d67bc55c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1378/format:webp/0*xGgedf2MQRri9xAq.png"/></div></figure><p id="f33d" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">现在，我可以在Alexa dev控制台中配置它，测试它，并根据需要将其分享给全世界。</p><h1 id="aaae" class="kv kw it bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">将localhost作为web服务器公开给公共URL并进行调试</h1><p id="ce60" class="pw-post-body-paragraph jx jy it jz b ka lv kc kd ke lw kg kh ki mt kk kl km mu ko kp kq mv ks kt ku im bi translated">如果您正在为本地主机寻找一个临时的公共URL，这将非常有用。您可以共享这个公共URL来演示它，也可以使用它来测试集成环境。最棒的是你可以调试它。这是你如何做它。</p><ol class=""><li id="ee76" class="lt lu it jz b ka kb ke kf ki mw km mx kq my ku ma mb mc md bi translated">创建一个web应用程序并在本地运行。我在用。NET Core Web app。检查它正在运行的端口。</li></ol><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nl"><img src="../Images/1d3d6789361b160ea1d00afe5955e5ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*s1LSrZeq74q2s1M9.png"/></div></div></figure><p id="a2d8" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">2.使用您的工具路径打开命令，并运行以下命令来显示您的本地端口</p><pre class="ml mm mn mo gt na nb nc nd aw ne bi"><span id="f4ae" class="nf kw it nb b gy ng nh l ni nj">ngrok http -host-header="localhost:57142" 57142</span></pre><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/6bcea79ba0ee3edf88603f120e6b860b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/0*dg9wncDu9CGiAtNh.png"/></div></figure><p id="2e9b" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">3.使用公共地址运行，并根据需要与全世界共享。</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nn"><img src="../Images/fd415e0f60a29f3fb2e2d34c4c66c0d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*MI3UaOT8BIgU0lNk.png"/></div></div></figure><h1 id="6571" class="kv kw it bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">ngrok故障排除</h1><p id="43c5" class="pw-post-body-paragraph jx jy it jz b ka lv kc kd ke lw kg kh ki mt kk kl km mu ko kp kq mv ks kt ku im bi translated">如果ngrok不工作，可能是以下原因之一。</p><ol class=""><li id="72ff" class="lt lu it jz b ka kb ke kf ki mw km mx kq my ku ma mb mc md bi translated">如果您在代理之后，请检查您的代理和防火墙设置。</li><li id="ae22" class="lt lu it jz b ka mf ke mg ki mh km mi kq mj ku ma mb mc md bi translated">总是暴露HTTP端口，ngrok会给你HTTPS并正确重定向。</li><li id="75f8" class="lt lu it jz b ka mf ke mg ki mh km mi kq mj ku ma mb mc md bi translated">免费帐户只会给你一个网址。</li></ol><h1 id="6240" class="kv kw it bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">ngrok安全可靠吗？</h1><p id="502a" class="pw-post-body-paragraph jx jy it jz b ka lv kc kd ke lw kg kh ki mt kk kl km mu ko kp kq mv ks kt ku im bi translated">关于安全问题有很多争论。它是开源的，可以监控你的流量。我只将它用于非敏感数据的开发测试。如果它让你更担心，那就在<a class="ae me" href="https://github.com/gtriggiano/ngrok-tunnel" rel="noopener ugc nofollow" target="_blank"> docker </a>用非敏感数据。</p></div></div>    
</body>
</html>