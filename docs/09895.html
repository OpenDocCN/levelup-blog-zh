<html>
<head>
<title>Vue.js – How I made an animating number component in Vue 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何在Vue 2中制作一个数字动画组件</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/vue-js-how-i-made-a-animating-number-component-in-vue-634371bc6a69?source=collection_archive---------7-----------------------#2021-09-28">https://levelup.gitconnected.com/vue-js-how-i-made-a-animating-number-component-in-vue-634371bc6a69?source=collection_archive---------7-----------------------#2021-09-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/f01295909c3d275f1344e870f95cebc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/1*7hCDVOn6lkELD-isdiE8WQ.gif"/></div></figure><p id="ebd7" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我最近不得不在vue中制作一个组件，其中一个数字会随着变化而变化。我在想这有多难，所以作为一个真正的开发者，我坐下来开始谷歌“在change vue.js上制作一个数字动画”。我很惊讶的发现这个问题还没人回答的结论(也可能是我瞎了眼)。无论如何，我们在这里，我终于做到了，我很乐意与你分享我是如何做到的。</p><p id="d114" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">好了，我们现在都知道我们是怎么结束的了，让我们开始吧。</p><h2 id="86e5" class="ks kt iq bd ku kv kw dn kx ky kz dp la kf lb lc ld kj le lf lg kn lh li lj lk bi translated">链接到项目</h2><p id="15fa" class="pw-post-body-paragraph ju jv iq jw b jx ll jz ka kb lm kd ke kf ln kh ki kj lo kl km kn lp kp kq kr ij bi translated">我在文章的最后添加了一个<strong class="jw ir"> TLDR </strong>链接到这个项目</p><h1 id="cedc" class="lq kt iq bd ku lr ls lt kx lu lv lw la lx ly lz ld ma mb mc lg md me mf lj mg bi translated">🧱建筑</h1><p id="0e0a" class="pw-post-body-paragraph ju jv iq jw b jx ll jz ka kb lm kd ke kf ln kh ki kj lo kl km kn lp kp kq kr ij bi translated">因此，对于我们的小应用程序的结构，我将使用以下文件夹结构:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="090f" class="ks kt iq mm b gy mq mr l ms mt">My Awesome Animating Number Project/<br/>├── public/<br/>│   ├── index.html<br/>│   ├── favicon.ico<br/>├── src/<br/>│   ├──components<br/>│   │  └── AnimateInteger.vue<br/>│   ├── main.js<br/>│   └── App.vue<br/>└── package.json</span></pre><p id="88a2" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在请注意，如果你正在做一个项目，你想实现这个，你的结构看起来有点不同，不要担心它保持你的结构，任何时候我说<strong class="jw ir"> AnimateInteger.vue </strong>我指的是你有你想要动画的数字的组件。</p><p id="cd0c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">好了，当文件夹结构就位后，让我们在App.vue中放一些代码，我们将从模板开始。</p><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="cedd" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">对于我们的<strong class="jw ir"> AnimateInteger.vue </strong>组件，我们将在模板中添加以下内容</p><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="6b60" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在，我们可以将<strong class="jw ir"> AnimateInteger.vue </strong>导入到<strong class="jw ir"> App.vue </strong>中，同时，我们还要将脚本标签添加到我们的两个组件和一些初始值中</p><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="5764" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们将使用三个基本属性</p><ol class=""><li id="e2e2" class="mw mx iq jw b jx jy kb kc kf my kj mz kn na kr nb nc nd ne bi translated"><strong class="jw ir"> value — </strong>在App.vue中使用，我们用<code class="fe nf ng nh mm b">v-model</code>将它连接到输入，然后将它作为道具传递给我们的AnimateInteger.vue组件。</li><li id="d4d6" class="mw mx iq jw b jx ni kb nj kf nk kj nl kn nm kr nb nc nd ne bi translated"><strong class="jw ir">display value—</strong>display value是我们在应用程序中显示的值(我知道的聪明的命名约定)</li><li id="7df2" class="mw mx iq jw b jx ni kb nj kf nk kj nl kn nm kr nb nc nd ne bi translated"><strong class="jw ir"> tweenValue — </strong> tweenValue是一个值，我们将知道我们的显示值应该与哪个数字进行比较，因此也知道它应该动画到哪个数字。</li></ol><p id="a757" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">好了，现在问题解决了，让我们进入下一步。</p><h1 id="db21" class="lq kt iq bd ku lr ls lt kx lu lv lw la lx ly lz ld ma mb mc lg md me mf lj mg bi translated">让我们安装GSAP软件包📦</h1><p id="47c2" class="pw-post-body-paragraph ju jv iq jw b jx ll jz ka kb lm kd ke kf ln kh ki kj lo kl km kn lp kp kq kr ij bi translated">因此，在我们开始更多的编码之前，我们必须安装来自NPM的包，GSAP是“绿石动画平台”的缩写，它是由一个非常聪明的叫做绿石的开发团队制作的，用他们自己的话说，绿石团队是这样描述GSAP的:</p><blockquote class="no np nq"><p id="2c8c" class="ju jv nr jw b jx jy jz ka kb kc kd ke ns kg kh ki nt kk kl km nu ko kp kq kr ij bi translated">一个强大的JavaScript工具集，将开发人员变成动画超级英雄。我们专注于性能、兼容性和支持，因此您不必担心。</p></blockquote><p id="16e6" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">有各种各样的方法来安装GSAP，如果你曾经读过我的其他文章，你会知道我喜欢呈现各种选项，所以你可以选择你喜欢的方式。</p><h1 id="1b3c" class="lq kt iq bd ku lr ls lt kx lu lv lw la lx ly lz ld ma mb mc lg md me mf lj mg bi translated">经由NPM安装GSAP</h1><p id="86be" class="pw-post-body-paragraph ju jv iq jw b jx ll jz ka kb lm kd ke kf ln kh ki kj lo kl km kn lp kp kq kr ij bi translated">因此，安装GSAP的第一种方法是我的首选方式:通过<a class="ae nn" href="https://www.npmjs.com" rel="noopener ugc nofollow" target="_blank"> NPM </a>，你可能已经知道NPM，但对于你来说，如何没有使用它之前，我们将安装GSAP使用以下命令在我们的终端:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="9325" class="ks kt iq mm b gy mq mr l ms mt">$ npm install gsap</span></pre><p id="3578" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">然后我们将它导入到<strong class="jw ir"> AnimateInteger.vue </strong>中</p><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="aa6b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">随着GSAP的安装和导入，每当<code class="fe nf ng nh mm b">value</code>改变时，现在是时候使用GSAP来激活数字了。</p><h1 id="6327" class="lq kt iq bd ku lr ls lt kx lu lv lw la lx ly lz ld ma mb mc lg md me mf lj mg bi translated">让我们开始制作动画吧</h1><p id="0efa" class="pw-post-body-paragraph ju jv iq jw b jx ll jz ka kb lm kd ke kf ln kh ki kj lo kl km kn lp kp kq kr ij bi translated">首先，让我们谈谈我们想要做的事情——本质上，我们想要做的是从一个数字到另一个数字的动画，所以当当前数字改变时，我们想要将浏览器中显示的数字动画为新的数字。</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/a956f431260a1c3feb9e53c777c91915.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/1*QePU5nDkhfwDqHqWYCOqUw.gif"/></div><figcaption class="nv nw gj gh gi nx ny bd b be z dk translated">期待结果</figcaption></figure><p id="bf9d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我们把它分成两部分:</p><h2 id="0b24" class="ks kt iq bd ku kv kw dn kx ky kz dp la kf lb lc ld kj le lf lg kn lh li lj lk bi translated">1.我们想知道属性"<code class="fe nf ng nh mm b">value"</code>何时改变。</h2><p id="692d" class="pw-post-body-paragraph ju jv iq jw b jx ll jz ka kb lm kd ke kf ln kh ki kj lo kl km kn lp kp kq kr ij bi translated">如果你是Vue的新手，了解这一点可能对你有用，因为这不会是你最后一次做类似的事情，如果你不是Vue的新手:嗯，做一点回顾不会有什么坏处。</p><p id="9216" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">那么，我们如何知道价值何时改变呢？有几种方法可以做到这一点，我们可以在输入字段上监听v-on:input事件，但有一种更方便的方法可以做到这一点。我们将使用我首选的方式:<code class="fe nf ng nh mm b">watch</code> <strong class="jw ir"> </strong>属性。本质上，<code class="fe nf ng nh mm b">watch</code> <strong class="jw ir"> </strong>属性所做的是监听我们告诉它要监听的属性的变化。</p><p id="f817" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">好了，Jannick，说得够多了，让我们来看一个关于我们项目的例子。</p><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="02d0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在“所有”我们要做的就是在每次属性<code class="fe nf ng nh mm b">value</code>改变时启动手表属性内的动画。我们将使用GSAP的<code class="fe nf ng nh mm b">to()</code>补间，因为它允许我们定义目标值(value)。让我们看看它的背景，然后我会进一步解释。</p><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="950e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">GSAP自动计算出当前值，我们只需向它提供tweenValue —在本例中是我们的属性<code class="fe nf ng nh mm b">value</code>。GSAP提供了一个更新回调函数，这样当when值更新时，我们可以告诉GSAP做一些事情。在这种情况下，我们将displayedValue设置为tweenValue，然后GSAP会为我们处理剩下的事情。</p></div><div class="ab cl nz oa hu ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="ij ik il im in"><p id="38f0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">好了，这就是我关于这个话题的全部内容。我希望你喜欢阅读我构建这个组件的过程，并且我希望你能从中获得一些价值，可以为你的下一个项目带来一些价值。</p><p id="5a29" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果您有任何问题或反馈，请留下您的评论！</p><h1 id="1f28" class="lq kt iq bd ku lr ls lt kx lu lv lw la lx ly lz ld ma mb mc lg md me mf lj mg bi translated"><strong class="ak"> TLDR —项目链接</strong></h1><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="og mv l"/></div></figure></div></div>    
</body>
</html>