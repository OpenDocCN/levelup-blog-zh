<html>
<head>
<title>PyQt5 tutorial: learn GUI programming with Python and PyQt5</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PyQt5教程:用Python和PyQt5学习GUI编程</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/pyqt5-tutorial-learn-gui-programming-with-python-and-pyqt5-df4225d2e3b8?source=collection_archive---------8-----------------------#2021-03-30">https://levelup.gitconnected.com/pyqt5-tutorial-learn-gui-programming-with-python-and-pyqt5-df4225d2e3b8?source=collection_archive---------8-----------------------#2021-03-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/56f06eb62024a80c0b138b690b8d4e4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0mQfnImycK2HFOI0"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@ffstop?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Fotis Fotopoulos </a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="9939" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Pyqt5是图形用户界面小部件工具包。它是最强大和最流行的python接口之一。它是Qt模块和python编程的结合。Qt本身就是一个C++绑定。Pyqt5是一个免费的开源小部件工具包，可以在跨平台应用程序开发上实现。PyQt是由英格兰的河岸计算公司开发和维护的免费软件，而Qt是由一家名为Qt公司的芬兰公司开发的。在本文中，我们将介绍如何使用Pyqt5构建桌面应用程序。</p><h1 id="ce26" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">Pyqt5的特性:</h1><ol class=""><li id="a656" class="mc md it ki b kj me kn mf kr mg kv mh kz mi ld mj mk ml mm bi translated">图形用户界面</li><li id="43c5" class="mc md it ki b kj mn kn mo kr mp kv mq kz mr ld mj mk ml mm bi translated">XML处理</li><li id="1963" class="mc md it ki b kj mn kn mo kr mp kv mq kz mr ld mj mk ml mm bi translated">网络通信</li><li id="e524" class="mc md it ki b kj mn kn mo kr mp kv mq kz mr ld mj mk ml mm bi translated">多媒体</li><li id="1031" class="mc md it ki b kj mn kn mo kr mp kv mq kz mr ld mj mk ml mm bi translated">数据库</li><li id="e845" class="mc md it ki b kj mn kn mo kr mp kv mq kz mr ld mj mk ml mm bi translated">网页浏览</li><li id="3bb2" class="mc md it ki b kj mn kn mo kr mp kv mq kz mr ld mj mk ml mm bi translated">多线程</li></ol><h1 id="e9a4" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">安装:</h1><p id="2f5c" class="pw-post-body-paragraph kg kh it ki b kj me kl km kn mf kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">您需要在系统中安装最新版本的python。如果您已经安装了python，那么在windows和Mac和Linux的终端的命令提示符下执行以下命令。</p><p id="b25c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mv mw mx my b">pip install PyQt5</code></p><h1 id="8541" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">PyQt5的基本概念:</h1><p id="0647" class="pw-post-body-paragraph kg kh it ki b kj me kl km kn mf kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">基本概念你将看到我们如何为桌面应用程序构建一个窗口。</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="8ade" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">祝贺你创建了你的第一个桌面应用程序窗口。让我们看看每一个程序。前两行我们只是在python文件中导入模块。<code class="fe mv mw mx my b">Sys module</code>是Python内置模块，具有操作系统交互功能。接下来，我们有了Pyqt5模块，从中我们导入了所选的类QtWidget、QApplication、QWidget。</p><p id="6cdb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mv mw mx my b">QWidget</code>是pyqt5中UI的基类，你在桌面应用程序中看到的所有东西，像按钮、搜索栏、下拉菜单等等都是小部件，所以你可以说小部件是在小部件中构建的。这将有助于您通过嵌套小部件来构建复杂的用户界面。</p><p id="295f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">是一个Qwidget类方法，可以将你的窗口调整到任意高度和宽度。它们有两个参数，第一个是表示宽度的x，第二个是表示高度的y。</p><p id="7d29" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mv mw mx my b">w.setwindowtitle(“Basic pyqt5”)</code>是一个Qt widget类方法，它以一个字符串参数作为参数，改变你的桌面应用程序标题栏。</p><p id="54b7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mv mw mx my b">w.show()</code>是在屏幕上显示窗口的Qtwidget方法。</p><p id="3bd8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mv mw mx my b">sys.exit(app.exec_())</code>将启动Qt/C++事件循环，因为我们知道Qt是纯内置的C++语言，而<code class="fe mv mw mx my b">app.exec_()</code>将简单地启动应用程序的循环机制，您不能像在其他应用程序中一样通过简单地按ctrl + c来关闭桌面应用程序，您需要单击应用程序的关闭按钮。</p><h2 id="1cb2" class="nf lf it bd lg ng nh dn lk ni nj dp lo kr nk nl ls kv nm nn lw kz no np ma nq bi translated">输出:</h2><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nr"><img src="../Images/d05ce25da57c692d673d708519d566c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:676/format:webp/1*2AWPmnKRPXMWQE0f18e3mA.png"/></div></div></figure><h1 id="0c9e" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">PyQt5组件模块</h1><p id="ea58" class="pw-post-body-paragraph kg kh it ki b kj me kl km kn mf kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">这些是Python的Qt绑定使用的基本模块，特别是PyQt5。以下是模块及其说明。</p><ol class=""><li id="2b95" class="mc md it ki b kj kk kn ko kr ns kv nt kz nu ld mj mk ml mm bi translated"><strong class="ki iu"> QtWidget </strong>是一个pyqt5模块类，包含了pyqt5的大部分小部件</li><li id="178b" class="mc md it ki b kj mn kn mo kr mp kv mq kz mr ld mj mk ml mm bi translated"><strong class="ki iu"> QtCore </strong>是pyqt5类的核心模块，包含非图形用户界面组件，如信号、插槽连接、事件循环等。</li><li id="eca4" class="mc md it ki b kj mn kn mo kr mp kv mq kz mr ld mj mk ml mm bi translated">QtMultimedia是PyQt5的一个基本类，用于处理多媒体内容，它还提供了必要的API来访问您的相机功能。</li><li id="af6b" class="mc md it ki b kj mn kn mo kr mp kv mq kz mr ld mj mk ml mm bi translated">QtGui是一个pyqt5模块类，包含Gui组件并扩展了QtCore模块</li><li id="aa4f" class="mc md it ki b kj mn kn mo kr mp kv mq kz mr ld mj mk ml mm bi translated">QtSql 是一个处理Sql数据库的pyqt5模块。它支持ODBC、MySQL、Oracle、SQLite和PostgreSQL。</li><li id="6120" class="mc md it ki b kj mn kn mo kr mp kv mq kz mr ld mj mk ml mm bi translated"><strong class="ki iu"> QtNetwork </strong>是一个pyqt5模块，用于实现网络编程。它支持TCP服务器、TCP套接字、UDP套接字、SSL处理、网络会话和DNS查找。</li></ol><h1 id="8946" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">窗口布局和OOP</h1><p id="11fb" class="pw-post-body-paragraph kg kh it ki b kj me kl km kn mf kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">Pyqt5用户界面编程可以用更容易理解和维护代码的面向对象编程来完成。如果你看到了下面的代码，在第4行我们实现了一个带有参数<code class="fe mv mw mx my b">QWidget</code>的类名<code class="fe mv mw mx my b">App()</code>，然后<code class="fe mv mw mx my b">def __ini__()</code>我们声明了Gui类title，left，top，width，height的实例。我们有另一个名为def initUI(self)方法，你也可以自己命名这个类方法，在我使用的方法<code class="fe mv mw mx my b">setWindowTitle()</code>中，它接受字符串参数，但我传递了一个我在<code class="fe mv mw mx my b">__init__() method</code>中创建的类的实例，接下来，我们使用<code class="fe mv mw mx my b">setGeometry()</code>来设置我们的窗口<code class="fe mv mw mx my b">self.left</code>的大小，而<code class="fe mv mw mx my b">self.top</code>显示了在屏幕上显示Gui窗口的位置，最后<code class="fe mv mw mx my b">self.show()</code>显示了Pyqt5 Gui窗口。</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><h1 id="0e98" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">文本框</h1><p id="5c1c" class="pw-post-body-paragraph kg kh it ki b kj me kl km kn mf kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">在许多用户界面程序中，会有一个输入框，你可以在里面输入文本到软件中，软件会根据它们的功能提供结果。Pyqt5 Qwidget有一个在你的Gui程序中制作文本框的方法。在QWidget类内部的类。您可以使用<code class="fe mv mw mx my b">move() method</code>通过传递x，y坐标来设置文本框的位置，也可以使用<code class="fe mv mw mx my b">resize()</code>通过传递高度和宽度来调整文本框的大小。<code class="fe mv mw mx my b"> QLineEdit()</code>有<code class="fe mv mw mx my b">setText() method</code>来设置你的文本框的文本，而<code class="fe mv mw mx my b">getText() method</code>将获得文本框中的输入文本。</p><pre class="mz na nb nc gt nv my nw nx aw ny bi"><span id="f41a" class="nf lf it my b gy nz oa l ob oc">self.textbox = QLineEdit(self)<br/>self.textbox.move(20, 20)<br/>self.textbox.resize(280,40)<br/></span></pre><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><h2 id="6ea2" class="nf lf it bd lg ng nh dn lk ni nj dp lo kr nk nl ls kv nm nn lw kz no np ma nq bi translated">输出:</h2><figure class="mz na nb nc gt ju gh gi paragraph-image"><div class="gh gi od"><img src="../Images/5e9c81a8a58521531113dfebfcd41d8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:746/format:webp/1*ESvXPMIDC8eYcq88RpWZMg.png"/></div></figure><h1 id="e07a" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">文本标签</h1><p id="6dfa" class="pw-post-body-paragraph kg kh it ki b kj me kl km kn mf kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">文本标签是简单的显示字符串文本，显示在任何用户界面软件上，Pyqt5有一个类名<code class="fe mv mw mx my b">Qlabel()</code>，可以用来在屏幕上显示文本。您可以使用<code class="fe mv mw mx my b">move method</code>来设置您的文本在程序屏幕上的位置，并使用<code class="fe mv mw mx my b">setText method</code>来设置标签文本。</p><pre class="mz na nb nc gt nv my nw nx aw ny bi"><span id="603f" class="nf lf it my b gy nz oa l ob oc"><em class="oe">self</em>.label = QLabel(<em class="oe">self</em>)<br/><em class="oe">self</em>.label.move(100, 100)<br/>self.label.setText("Hello Pyqt5")</span></pre><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><h2 id="c480" class="nf lf it bd lg ng nh dn lk ni nj dp lo kr nk nl ls kv nm nn lw kz no np ma nq bi translated">输出:</h2><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi of"><img src="../Images/d908b5d42a1c88f58b9ee4ef733370d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:716/format:webp/1*ltuVJgmeSmPmV_stOV_PSA.png"/></div></div></figure><h1 id="ef40" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">小跟班</h1><p id="1dcc" class="pw-post-body-paragraph kg kh it ki b kj me kl km kn mf kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">pyqt5中的按钮是用Qpushbutton类实现的。众所周知，按钮是任何软件的重要组成部分。button类接受一个字符串按钮名称参数。接下来，我们可以使用move函数来设置按钮在GUI屏幕中的位置。首先用以下代码行更新您的代码。</p><pre class="mz na nb nc gt nv my nw nx aw ny bi"><span id="5267" class="nf lf it my b gy nz oa l ob oc">from PyQt5.QtWidgets import QApplication, QWidget, QPushButton<br/>from PyQt5.QtCore import pyqtSlot</span></pre><p id="f43e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们已经导入了Buttons类和Pyqtslot类，这将在按钮动作中使用，您将在下面的代码中看到。</p><pre class="mz na nb nc gt nv my nw nx aw ny bi"><span id="695e" class="nf lf it my b gy nz oa l ob oc">self.button = QPushButton('PyQt5 Button', self)<br/>self.button.move(100,70)</span></pre><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><h2 id="24e7" class="nf lf it bd lg ng nh dn lk ni nj dp lo kr nk nl ls kv nm nn lw kz no np ma nq bi translated">输出:</h2><figure class="mz na nb nc gt ju gh gi paragraph-image"><div class="gh gi og"><img src="../Images/5c971ec94375be375c9186b9a80c56f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:730/format:webp/1*JEXxmkGFYyPxvuaK6HQBFw.png"/></div></figure><h2 id="4e29" class="nf lf it bd lg ng nh dn lk ni nj dp lo kr nk nl ls kv nm nn lw kz no np ma nq bi translated">按钮操作:</h2><p id="7700" class="pw-post-body-paragraph kg kh it ki b kj me kl km kn mf kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">我们在Gui窗口屏幕上实现了一个按钮，但是如果我们点击它，它什么也不做。我们需要让它有用，因为我们需要设置他们的动作，这意味着如果我们点击按钮，他们的事情应该发生。为此，如果你还记得upward代码块，我们导入了一个<code class="fe mv mw mx my b">PyQt 5</code>类名<code class="fe mv mw mx my b">pyqtslot</code>，它将像按钮被按下一样工作，然后运行<code class="fe mv mw mx my b">pyqtslot</code>类型方法。检查下面的代码，我们在代码块中做了更改，添加了新的一行<code class="fe mv mw mx my b">self.button.clicked.connect(self.on_click)</code>和<code class="fe mv mw mx my b">@pyqtslot</code>的方法类型。当按钮被按下时，Pyqt5知道它连接到类型为<code class="fe mv mw mx my b">pyqtslot</code>的方法名on_click()并执行该方法代码行。</p><pre class="mz na nb nc gt nv my nw nx aw ny bi"><span id="8db0" class="nf lf it my b gy nz oa l ob oc">@pyqtSlot()<br/>def on_click(self):<br/>    print('Button click')</span></pre><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><h1 id="495e" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">MessageBox</h1><p id="e877" class="pw-post-body-paragraph kg kh it ki b kj me kl km kn mf kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">当您想通过任何消息或询问用户问题来提醒用户时，消息框非常有用。举一个简单的例子来理解，如果你试图关闭你正在工作的任何软件，并且没有保存软件，将会在问题消息框中询问你，你想要保存工作吗？也许正如我提到的，它可以在你的软件中用于任何目的。如果软件中的任何过程完成，它会显示一个消息框，告诉用户过程已经完成。在PyQt5中，我们有一个消息框类，它接受self参数、字符串文本和Question Yes和Question No参数，这样它就生成了问题消息框，在下一行，如果你看到下面的代码，我们已经实现了一个<code class="fe mv mw mx my b">if-else logic</code>来打印消息框上用户活动的结果。</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><h2 id="10e6" class="nf lf it bd lg ng nh dn lk ni nj dp lo kr nk nl ls kv nm nn lw kz no np ma nq bi translated">输出:</h2><figure class="mz na nb nc gt ju gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/d032454d7772ae6482a31b67b4461ca5.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/format:webp/1*7y-VaUF_fczSWR9XE6C3nw.png"/></div></figure><h1 id="2278" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论:</h1><p id="4a38" class="pw-post-body-paragraph kg kh it ki b kj me kl km kn mf kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">到目前为止，我们在PyQt5中学到了很多东西，这个特性是我们可以在任何软件开发和简单的Gui程序中使用的通用特性。只需点击此<a class="ae kf" href="https://www.riverbankcomputing.com/static/Docs/PyQt5/" rel="noopener ugc nofollow" target="_blank"> <em class="oe"> Doc URL </em> </a> <em class="oe">即可了解更多新东西，发现PyQt5的更多类别。您将被重定向到PyQt5文档页面。这是PyQt5的初学者指南，帮助你了解PyQt5的工作原理和使用方法。我希望这篇文章在将来对你有用，并随时分享你的回应</em></p></div></div>    
</body>
</html>