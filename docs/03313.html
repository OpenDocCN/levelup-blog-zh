<html>
<head>
<title>React vs Vue — Components and Props Basics</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React与Vue —组件和道具基础知识</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/react-vs-vue-components-and-props-basics-4d4b047e36c1?source=collection_archive---------3-----------------------#2020-05-02">https://levelup.gitconnected.com/react-vs-vue-components-and-props-basics-4d4b047e36c1?source=collection_archive---------3-----------------------#2020-05-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/86b5223296a32700fad2b6d823bf6267.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NU8Xh17d7ZhFX8W8"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@ornellabinni?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">奥内拉·宾尼</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="9fac" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">React是最近几年最流行的前端库。</p><p id="e4c3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Vue是一个前端框架，在过去几年里，它的流行程度已经赶上了React。</p><p id="fbf4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">很难在这两种框架之间做出选择，因为它们各有利弊。当我们选择了一个，我们必须坚持几年。</p><p id="c4f6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将比较如何创建React和Vue组件，处理道具以及哪一个对开发人员更方便。</p><h1 id="8565" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">创建组件</h1><p id="3856" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">使用React，我们通过创建函数来创建组件，并在<code class="fe mh mi mj mk b">props</code>参数中传递属性。</p><p id="57fd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以通过编写以下代码来创建一个组件并将一个道具传递给它:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="0209" class="mt lf it mk b gy mu mv l mw mx">import React from "react";</span><span id="58ba" class="mt lf it mk b gy my mv l mw mx">function Foo({ msg }) {<br/>  return &lt;div&gt;{msg}&lt;/div&gt;;<br/>}</span><span id="fe46" class="mt lf it mk b gy my mv l mw mx">export default function App() {<br/>  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;Foo msg="hello" /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="ea69" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们创建了一个带有从<code class="fe mh mi mj mk b">App</code>传递到<code class="fe mh mi mj mk b">Foo</code>的<code class="fe mh mi mj mk b">msg</code>道具的<code class="fe mh mi mj mk b">Foo</code>组件。然后我们访问<code class="fe mh mi mj mk b">Foo</code>组件中<code class="fe mh mi mj mk b">prop</code>参数的<code class="fe mh mi mj mk b">msg</code>属性，并在那里显示<code class="fe mh mi mj mk b">msg</code>。</p><p id="75af" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用Vue，我们定义组件和使用它们的方式与React示例相似。</p><p id="b361" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以创建一个Vue组件并将一个道具传递给它，如下所示:</p><p id="0ec0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">index.html</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="295f" class="mt lf it mk b gy mu mv l mw mx">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;Foo msg="hello"&gt;&lt;/Foo&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="55bf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">index.js</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="bfa5" class="mt lf it mk b gy mu mv l mw mx">Vue.component("Foo", {<br/>  props: ["msg"],<br/>  template: "&lt;div&gt;{{msg}}&lt;/div&gt;"<br/>});</span><span id="be8e" class="mt lf it mk b gy my mv l mw mx">const app = new Vue({<br/>  el: "#app",<br/>  data: {}<br/>});</span></pre><p id="4846" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们用<code class="fe mh mi mj mk b">Vue.component</code>创建了一个<code class="fe mh mi mj mk b">Foo</code>组件，然后将<code class="fe mh mi mj mk b">msg</code>属性指定为道具。</p><p id="1f86" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后在<code class="fe mh mi mj mk b">index.html</code>中，我们引用<code class="fe mh mi mj mk b">Foo</code>并传入<code class="fe mh mi mj mk b">msg</code>属性，就像我们对React示例所做的那样。</p><p id="8aea" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正如我们所看到的，这个简单的例子在React和Vue之间非常相似。</p><h1 id="b62c" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">将数据从子代传递到父代</h1><p id="a42d" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">React和Vue都能够将数据从子节点传递到父节点。</p><p id="1665" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用React，我们可以将一个函数传递给带有一些参数的子组件。</p><p id="b541" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">子进程调用该函数，以便父进程可以获取数据。</p><p id="0b1e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以做我们用React描述的事情，如下所示:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="ec4f" class="mt lf it mk b gy mu mv l mw mx">import React, { useState } from "react";</span><span id="1a8a" class="mt lf it mk b gy my mv l mw mx">function FooInput({ setMsg }) {<br/>  return &lt;input onChange={e =&gt; setMsg(e.target.value)} /&gt;;<br/>}</span><span id="5aef" class="mt lf it mk b gy my mv l mw mx">export default function App() {<br/>  const [msg, setMsg] = useState();<br/>  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;FooInput setMsg={setMsg} /&gt;<br/>      &lt;br /&gt;<br/>      &lt;span&gt;{msg}&lt;/span&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="be1b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们将从<code class="fe mh mi mj mk b">useState</code>钩子返回的<code class="fe mh mi mj mk b">setMsg</code>函数传递给了我们的<code class="fe mh mi mj mk b">FooInput</code>组件。</p><p id="77dc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后<code class="fe mh mi mj mk b">FooInput</code>用输入的值调用我们从props传入的<code class="fe mh mi mj mk b">setMsg</code>函数。</p><p id="4a67" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将把输入值设置为<code class="fe mh mi mj mk b">msg</code>的值。</p><p id="3ef1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，我们在span中显示<code class="fe mh mi mj mk b">msg</code>的值。</p><p id="856f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有了Vue，我们不必将父组件的功能直接传递给子组件。</p><p id="5bb4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">相反，我们可以发出一个事件，其值是我们希望发送给父节点的值。然后父节点可以对这个值做任何他们想做的事情。</p><p id="49ff" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以在React示例中用Vue做同样的事情，如下所示:</p><p id="0dd9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">index.html</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="c452" class="mt lf it mk b gy mu mv l mw mx">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;foo-input v-bind:value="msg" v-on:input="msg = $event"&gt;&lt;/foo-input&gt;<br/>      &lt;br /&gt;<br/>      &lt;span&gt;{{msg}}&lt;/span&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="aeac" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">index.js</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="3e42" class="mt lf it mk b gy mu mv l mw mx">Vue.component("foo-input", {<br/>  props: ["value"],<br/>  data() {<br/>    return {<br/>      msg: ""<br/>    };<br/>  },<br/>  watch: {<br/>    value(val) {<br/>      this.msg = val;<br/>    }<br/>  },<br/>  template: `&lt;input v-model="msg" @input="$emit('input', $event.target.value)"&gt;`<br/>});</span><span id="4497" class="mt lf it mk b gy my mv l mw mx">const app = new Vue({<br/>  el: "#app",<br/>  data: {<br/>    msg: ""<br/>  }<br/>});</span></pre><p id="5793" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们有一个<code class="fe mh mi mj mk b">foo-input</code>组件，它接受一个<code class="fe mh mi mj mk b">value</code>属性，我们用观察器将它的最新值设置为<code class="fe mh mi mj mk b">this.msg</code>，这样我们就不会直接改变<code class="fe mh mi mj mk b">value</code>属性。</p><p id="09f5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们用<code class="fe mh mi mj mk b">input</code>事件名和输入的值调用<code class="fe mh mi mj mk b">$emit</code>，输入的值存储在<code class="fe mh mi mj mk b">$event.target.value</code>中。</p><p id="6e13" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输入的值随后被发送到父对象，并在<code class="fe mh mi mj mk b">$event</code>对象中可用。</p><p id="27c6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们监听事件，通过写入以下内容将值设置到<code class="fe mh mi mj mk b">msg</code>字段:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="ce01" class="mt lf it mk b gy mu mv l mw mx">v-on:input="msg = $event"</span></pre><p id="9e9e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">作为<code class="fe mh mi mj mk b">foo-input</code>组件上的指令。</p><p id="d09f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们在<code class="fe mh mi mj mk b">foo-input</code>组件下面的跨度中显示<code class="fe mh mi mj mk b">msg</code>的值。</p><p id="2cde" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一旦我们完成了所有这些，我们应该看到我们输入的内容显示在输入下面。</p><p id="13ca" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">的简写:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="cc07" class="mt lf it mk b gy mu mv l mw mx">v-bind:value="msg" v-on:input="msg = $event"</span></pre><p id="2d0d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">是:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="c0a0" class="mt lf it mk b gy mu mv l mw mx">v-model='msg'</span></pre><p id="ffc3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是一个特例，不适用于应用程序发出的事件。</p><p id="eca9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以我们可以写:</p><p id="ba57" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">index.html</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="c704" class="mt lf it mk b gy mu mv l mw mx">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;foo-input v-model="msg"&gt;&lt;/foo-input&gt;<br/>      &lt;br /&gt;<br/>      &lt;span&gt;{{msg}}&lt;/span&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="2f07" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">无论如何，React示例更简单。从子组件和父组件传递数据肯定比Vue更容易反应。</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mz"><img src="../Images/cee07cf16ec8a169ee1127ea7a2df2f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*B_It5u1cCR7k6oN1"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">克里斯·莱佩尔特在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="ee2b" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">裁决</h1><p id="9b00" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">比较React和Vue时，创建组件和从父级和子级传递道具的过程非常相似。</p><p id="6cad" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">React确实比Vue更容易将数据从孩子传递给父母。我们只是将一个函数传递给孩子，并从那里调用它，而不是发出事件并监听它们。</p></div></div>    
</body>
</html>