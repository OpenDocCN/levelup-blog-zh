<html>
<head>
<title>How to recognise when not to gitignore</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何识别何时不应忽视</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-recognise-when-not-to-gitignore-e2e87edf2653?source=collection_archive---------21-----------------------#2020-10-30">https://levelup.gitconnected.com/how-to-recognise-when-not-to-gitignore-e2e87edf2653?source=collection_archive---------21-----------------------#2020-10-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="fcee" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一个关于粗心和愚蠢的故事</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c60574a84ff6cf2d24e7b67f650ec7b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oP9dRUaHcr-uioAL"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@kylertrautner?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">凯勒·特劳特纳</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="0fbb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我从事版本控制系统的工作已经有20年了，所以我真的应该了解更多。自从开始写简历以来，它就一直灌输给我:</p><blockquote class="lv lw lx"><p id="7248" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">检查你的来源，那些一旦丢失就无法恢复的东西</p></blockquote><p id="92de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这条规则从来没有例外，如果你认为有例外，请三思。我的意思是:真的花点时间好好想想你的异常，然后意识到为什么你仍然应该对那个文件进行版本控制。</p><p id="a19d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一个关于粗心的自动完成的小故事，是Unix的一个怪癖，也是一个仓促组装的。gitignore文件。读者，当心。</p><h1 id="f6eb" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">GitHub页面</h1><p id="0b3c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我责备GitHub Pages几乎和我责备自己一样多。它不仅免费得可笑，还让维护一个静态站点的整个过程变得简单得愚蠢。在这里，重点是在愚蠢的。</p><p id="8396" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我不仅懒，而且有点吝啬。对于程序员来说，这通常是一个有用的组合，但在这种情况下，它让我更加重视节省空间。因为，你看，GitHub Pages <em class="ly">并不是</em>好得令人难以置信:有空间限制(一个站点1 GB)。显然，这是有道理的，但是这让我想到我可以忽略一些我真的不应该忽略的东西。</p><h1 id="4cbe" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">Sass文件</h1><p id="eb0b" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated"><a class="ae ky" href="https://sass-lang.com/" rel="noopener ugc nofollow" target="_blank"> Sass </a>是一种CSS预处理语言:你用‘Sass语言’编写样式表，然后用Sass生成相应的CSS文件。我仍在尝试与人斗嘴；现在，我只是用它来使我的主CSS文件不那么冗长。不管怎样，我使用的文件是——这是重点。</p><p id="68b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">生成的文件,<code class="fe mz na nb nc b">.css</code>文件仍然是相同的，当然，这和我的灾难有点关系。我最大的错误是:<strong class="lb iu">我签入了我的CSS文件，但没有签入我的Sass文件</strong>。那个，我选择了<code class="fe mz na nb nc b">.gitignore</code>。</p><p id="2550" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我的想法是这样的:<em class="ly">这是一个我从不想通过我的GitHub Pages站点提供的文件，它只是生成另一个文件——哪个</em> <strong class="lb iu"> <em class="ly">是</em> </strong> <em class="ly">签入的——我可以让它不受版本控制</em>。愚蠢。</p><h1 id="7413" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">近乎灾难</h1><p id="77e6" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">以下是我典型的Sass流程:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="cc38" class="nh md it nc b gy ni nj l nk nl">$ sass css/styles.scss &gt; css/styles.css</span></pre><p id="31e7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mz na nb nc b">sass</code>程序将一个输入文件作为它的参数，并输出生成的CSS，我将它重定向到一个<code class="fe mz na nb nc b">.css</code>文件。</p><p id="5955" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一个我经常使用的命令，我真的应该把它添加到Makefile中，但是它是如此的快速和简单，我只是在命令行上笨拙地输入，当我需要它的时候重新输入，就像一个穴居人一样。</p><p id="222e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不管怎样，今天我到了这一步，在扩展名的第一个字母后，我快速地打了个错别字，然后匆忙地自动补全:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="b490" class="nh md it nc b gy ni nj l nk nl">$ sass css/styles.scss &gt; css/styles.scss</span></pre><p id="0af5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">读者，我可能只差半秒钟就要按下那个命令了。灾难性的，对吗？操作系统能把我从自己的愚蠢中拯救出来吗？当然不是。我会以两个相同的文件结束吗，每个文件都包含生成的CSS输出，所有重要的Sass源永远消失了吗？当然可以。</p><p id="afa9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">实际上，我的Sass代码可能会丢失，但有趣的是，实际结果会略有不同…</p><h1 id="8e46" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">文件处理的一个题外话</h1><p id="a2e4" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">下面是一个用Sass语言编写的输入文件示例:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="7fd2" class="nh md it nc b gy ni nj l nk nl">$ cat styles.scss</span><span id="beb0" class="nh md it nc b gy nm nj l nk nl">a {<br/>    b {<br/>        color: green;<br/>    }<br/>}</span></pre><p id="53d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">(注意用于区分Sass文件和CSS文件的标准<code class="fe mz na nb nc b">.scss</code>扩展名)</p><p id="b23d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当一切进展顺利时，应该会发生以下情况:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="68c2" class="nh md it nc b gy ni nj l nk nl">$ sass styles.scss &gt; styles.css<br/>$ cat styles.css</span><span id="e259" class="nh md it nc b gy nm nj l nk nl">a b {<br/>  color: green;<br/>}</span></pre><p id="a5c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是下面是<em class="ly">实际上</em>发生的事情，有点令人惊讶，当你不小心重复同一个文件名时:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="4a7b" class="nh md it nc b gy ni nj l nk nl">$ sass styles.scss &gt; styles.scss<br/>$ cat styles.scss</span></pre><p id="b23c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那就是没有产出。一个空文件。拉链。这与我的期望相差甚远；当然，<code class="fe mz na nb nc b">styles.css</code>依然完好无损，但是为什么<code class="fe mz na nb nc b">styles.scss</code>会被上面的命令彻底消灭？</p><p id="2f66" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://askubuntu.com/a/8418" rel="noopener ugc nofollow" target="_blank">这个精彩的StackExchange回答</a>总结了正在发生的事情:</p><blockquote class="lv lw lx"><p id="fd44" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">当您像这样使用I/O重定向时，在执行命令之前，shell <em class="it">会打开“输入”和“输出”文件。打开一个文件进行覆盖等同于在写入前截断它。结果:<em class="it"> [ </em> <code class="fe mz na nb nc b">sass</code> <em class="it"> ] </em>在输入时看到一个空文件...</em></p></blockquote><p id="a821" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">换句话说，作为<em class="ly">输出</em>文件的<code class="fe mz na nb nc b">.scss</code>文件在作为<em class="ly">输入</em>文件读入之前被截断。</p><h1 id="911c" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">这堂课到此结束</h1><p id="458c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如果你有<code class="fe mz na nb nc b">.scss</code>文件(或任何类似的东西)，<em class="ly">马上把它们签入你的存储库</em>。即使你不希望它们出现在你的网络服务器上，即使你担心它们正在消耗的<code class="fe mz na nb nc b">4.6K</code>，也不要像我一样。给他们登记。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="b1df" class="nh md it nc b gy ni nj l nk nl">$ git add styles.scss</span></pre><p id="d9c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">是的，我现在在我的web服务器上有一个不需要的Sass文件，如果人们真的想查看的话，他们可以查看它。是的，它占用了(少量)宝贵的空间。不，这远不如意外删除一个无法恢复且不受版本控制的文件糟糕！</p><blockquote class="nn"><p id="64e5" class="no np it bd nq nr ns nt nu nv nw lu dk translated">如果你关心它，就对它进行版本控制。</p></blockquote></div></div>    
</body>
</html>