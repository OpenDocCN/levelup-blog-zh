<html>
<head>
<title>Building a 200TB Chia Farming Rig</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">建造一个200TB的Chia农业钻机</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/building-a-200tb-chia-farming-rig-c9478ed7b92f?source=collection_archive---------2-----------------------#2021-06-16">https://levelup.gitconnected.com/building-a-200tb-chia-farming-rig-c9478ed7b92f?source=collection_archive---------2-----------------------#2021-06-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="8542" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对Chia加密货币农业(采矿)系统从组件选择到软件配置的完整回顾。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/da58c25cb680a5f86c74a26052520470.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9Y_h310C-MKJn94m_zyGxQ.png"/></div></div></figure><h1 id="5c6d" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">介绍</h1><p id="cf1c" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated"><a class="ae md" href="https://github.com/Chia-Network/chia-blockchain" rel="noopener ugc nofollow" target="_blank"> Chia </a>是一种新的加密货币，旨在以比同行更低的每次交易能耗实现去中心化共识。这是通过<a class="ae md" href="https://docs.google.com/document/d/1tmRIb7lgi4QfKkNaxuKOBHRmwbVlGL4f7EsBDr_5xZE/edit" rel="noopener ugc nofollow" target="_blank">空间算法</a>而不是<a class="ae md" href="https://en.wikipedia.org/wiki/Proof_of_work" rel="noopener ugc nofollow" target="_blank">工作证明</a>来实现的。</p><p id="066e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">虽然工作证明依赖于连续计算数学问题(通常是SHA256之类的散列)以试图找到匹配所需模式的结果，但Chia却依赖于检查唯一的预生成文件(称为plots)中是否存在某些属性。</p><p id="3a23" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这一过程分为两步，称为<a class="ae md" href="https://www.chiaexplorer.com/what-is-farming" rel="noopener ugc nofollow" target="_blank">耕作</a>，包括:</p><ol class=""><li id="e4bd" class="me mf it js b jt ju jx jy kb mg kf mh kj mi kn mj mk ml mm bi translated"><a class="ae md" href="https://www.chiaexplorer.com/plotting" rel="noopener ugc nofollow" target="_blank">绘制</a>创建大型独特文件(通常为101.6GB)。</li><li id="397c" class="me mf it js b jt mn jx mo kb mp kf mq kj mr kn mj mk ml mm bi translated">和<a class="ae md" href="https://www.chiaexplorer.com/what-is-farming" rel="noopener ugc nofollow" target="_blank">收获</a>，其中检查先前创建的文件，以寻找赢得该块奖励的机会(目前为2个Chia)。</li></ol><p id="589d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一个节点拥有的图形越多(使用的存储空间越大)，赢得该块奖励的机会就越大。每天有4608次获胜的机会，赢得该区块奖励的概率主要基于一个人拥有的地块数量与总网络大小的比例。这里提供了一个收益计算器<a class="ae md" href="https://chiacalculator.com/" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="3296" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">因此，<strong class="js iu">为了最大化回报，我们希望拥有尽可能大的存储量</strong>和足够的计算资源来用图填充所述存储。</p><h1 id="21da" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">选择设备</h1><p id="9b72" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">与大多数设计问题一样，对于可用于种植Chia的设备组合，有无限多种有效的解决方案。为了帮助缩小选择范围，我首先决定了一些约束条件和优先级:</p><ol class=""><li id="4622" class="me mf it js b jt ju jx jy kb mg kf mh kj mi kn mj mk ml mm bi translated">尽管增加了复杂性(在合理范围内)，但每TB的成本应该最小化。</li><li id="590c" class="me mf it js b jt mn jx mo kb mp kf mq kj mr kn mj mk ml mm bi translated">由于我可用于这个项目的时间有限，系统应该主要由现成的部件组成(没有定制的PCB，定制的机箱等)。</li></ol><h2 id="dd29" class="ms lb it bd lc mt mu dn lg mv mw dp lk kb mx my lo kf mz na ls kj nb nc lw nd bi translated">绘图-处理</h2><p id="2c7f" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">根据硬件设置，创建一个单独的图可能需要4到20个小时。因此，选择正确的绘图硬件可能是在几天或几个月内填满整个农场的区别。</p><p id="d10e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">重要的是，不仅要考虑每个绘图的速度，还要考虑可以创建的并发绘图的数量。例如，在12小时内创建10个并发图的设置将产生20个图(约2TB/天)，而每4小时绘制1个并发图的设置每天仅产生6个图(0.6 TB/天)。</p><p id="eeaf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了降低成本，我决定搜索退役的服务器。这些服务器有一些有趣的属性，可以使它们成为强大的绘图仪，包括:</p><ol class=""><li id="91db" class="me mf it js b jt ju jx jy kb mg kf mh kj mi kn mj mk ml mm bi translated">大量的核心可以允许几个平行的图。阶段1(大约一半的绘制时间)是多线程的(通常配置为2到4个线程)，但其余阶段是单线程的。</li><li id="36a2" class="me mf it js b jt mn jx mo kb mp kf mq kj mr kn mj mk ml mm bi translated">可用RAM通常超过绘图所需的容量(约4GB/并发绘图)。</li><li id="bef3" class="me mf it js b jt mn jx mo kb mp kf mq kj mr kn mj mk ml mm bi translated">设计用于长时间高负荷运行。</li></ol><p id="cd10" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在考虑了几十个选项和可能的配置后，我最终选择了一台HP ProLiant DL380p Gen8，它配有2个英特尔E5–2670和192 GB DDR 3 RAM。启用超线程技术后，该服务器可以支持在第一阶段同时绘制多达16幅图，成本不到400美元。</p><h2 id="1d68" class="ms lb it bd lc mt mu dn lg mv mw dp lk kb mx my lo kf mz na ls kj nb nc lw nd bi translated">绘图—临时存储</h2><p id="8806" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">由于绘图创建期间的高写入负载(对于k=32的绘图，大约为1.6TB)，临时存储介质的选择会对绘图时间和成本产生重大影响。有几点需要考虑:</p><ol class=""><li id="cb82" class="me mf it js b jt ju jx jy kb mg kf mh kj mi kn mj mk ml mm bi translated">存储速度越快，绘图速度就越快。<a class="ae md" href="https://chiaforum.com/t/plotting-to-ram-disk-instead-of-ssd/992" rel="noopener ugc nofollow" target="_blank">这个线程</a>讨论了使用RAMDISK的4小时绘图时间(将一个文件夹挂载到RAM)。</li><li id="f5f5" class="me mf it js b jt mn jx mo kb mp kf mq kj mr kn mj mk ml mm bi translated">鉴于写入量很大，考虑介质的耐久性很重要。一个消费级1TB NVMe固态硬盘通常有大约600 TBW(写入太字节)的耐用性，这意味着它可能会出现故障，这意味着它可以进行大约375次绘图。</li></ol><p id="3479" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我最终选择购买一台12机架HP StorageWorks D2600，配有15K 450GB SAS驱动器。通过这种设置，我可以同时绘制到每个驱动器，而不会有驱动器级别的IO争用风险。JBOD +驱动器比NVMe驱动器的同等设置便宜得多(甚至不考虑到达TBW后的更换成本)。</p><h2 id="04db" class="ms lb it bd lc mt mu dn lg mv mw dp lk kb mx my lo kf mz na ls kj nb nc lw nd bi translated">农场—长期储存</h2><p id="6889" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">与绘图存储不同，采集存储不需要高吞吐量或IOPs。因此，最大限度地降低成本是重中之重。</p><p id="30d8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">有几种可能的设置，其中一些将在<a class="ae md" href="https://github.com/Chia-Network/chia-blockchain/wiki/Reference-Farming-Hardware" rel="noopener ugc nofollow" target="_blank">这里</a>讨论。然而，在易贝搜索二手选项后，一些事情变得清晰了:</p><ol class=""><li id="3086" class="me mf it js b jt ju jx jy kb mg kf mh kj mi kn mj mk ml mm bi translated">较大的3.5英寸硬盘往往成本最低。这是有意义的，因为现在大多数设备已经转向更小的2.5英寸或1.8英寸尺寸。</li><li id="ecd8" class="me mf it js b jt mn jx mo kb mp kf mq kj mr kn mj mk ml mm bi translated">SAS硬盘驱动器(不是SSD)似乎每TB成本最低，有些批次低至10美元/TB(截至2021年5月)。这些SAS驱动器与SATA(消费)板不兼容，通常在从公司的数据中心退役后在易贝出售。</li></ol><p id="e6d1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当我确定使用3.5英寸SAS硬盘时，我需要找到一种方法将它们连接到我的收割机/绘图仪上。坚持不构建机箱/背板的限制，我开始寻找可以容纳这些驱动器的二手机箱，同时保持最低的每机架成本。</p><p id="3c00" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我在易贝遇到了几个选项，最终购买了几个不同的型号，包括一个24机架的HP 3PAR和两个12机架的IBM DS3512。</p><h2 id="7a1b" class="ms lb it bd lc mt mu dn lg mv mw dp lk kb mx my lo kf mz na ls kj nb nc lw nd bi translated">完整列表</h2><p id="d66c" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">组件的最终列表如下所示。它包括上面讨论的主要组件，但也包括将系统组装在一起所需的辅助部件。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ne"><img src="../Images/b562235da36c62524cc958a931d1bf2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mccci1BMAKKkBHGayuldiQ.png"/></div></div></figure><p id="fe18" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">值得一提的是HBA卡。正是PCIe卡暴露了来自JBODs的电缆将连接到的SAS外部连接器。购买时，请确保您购买的是启动器目标(it)模式卡，以便驱动器直接显示在操作系统上，而不是IR模式卡上。作为一个很好的选择，你可能想要一张有更新操作系统(版本20)的闪存卡。</p><h1 id="a16a" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">设置—硬件</h1><p id="dbbb" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">设置大多是直观的。电缆连接到适合它们的孔中。然而，连接JBODs和绘图/采集机器的SAS电缆是菊花链连接的。</p><p id="9dbc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在我的例子中，我有两条离开服务器的电缆(HBA的每个端口一条)。其中一根电缆连接到临时存储阵列(HP D2600)的输入端，该阵列的输出端连接到HP 3PAR阵列。另一根电缆连接到第一个IBM阵列，其输出连接到第二个IBM阵列。JBODs通常有一个输入(主)端口和一个输出端口(通常标有向外的箭头)。</p><h1 id="57fd" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">设置—软件</h1><p id="02e9" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">我在服务器上安装了<a class="ae md" href="https://ubuntu.com/#download" rel="noopener ugc nofollow" target="_blank"> Ubuntu 20.04 LTS </a>，因为这是一个广泛使用的Linux发行版，这意味着如果出现任何问题，可以更容易地找到故障排除论坛。以下步骤概述了剩余的配置。</p><h2 id="8e89" class="ms lb it bd lc mt mu dn lg mv mw dp lk kb mx my lo kf mz na ls kj nb nc lw nd bi translated">步骤1:确保所有驱动器都可用</h2><p id="0b4a" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">第一步是检查操作系统正在检测哪些驱动器。这可以通过运行<code class="fe nf ng nh ni b">lsscsi</code>命令来完成。其输出如下所示。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nj"><img src="../Images/e59e2a993e3ac34bab07d5f3f0d5f868.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H3wQi_7yRKqdbqrl8UGPIg.png"/></div></div></figure><p id="295e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">请注意，上述命令不提供有关文件系统或驱动器大小的信息。为此，运行<code class="fe nf ng nh ni b">lsblk</code>命令。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nk"><img src="../Images/41bfc643b322c19d77a338b987574b73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4yGGMay4Wsgc2QaYUmYSGw.png"/></div></div></figure><p id="1adb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">重要提示:</strong>请注意，并非所有驱动器都会出现在两个命令下！出现在<code class="fe nf ng nh ni b">lsscsi</code>下而不是<code class="fe nf ng nh ni b">lsblk</code>下的驱动器可能存在一些不兼容性，导致操作系统无法将其用于挂载等。这方面的一个例子是<code class="fe nf ng nh ni b">/dev/sdaw</code>。</p><p id="c947" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在我的例子中，这个问题是由我安装的Linux内核不支持的扇区大小520引起的(关于这个主题的讨论可以在这里找到<a class="ae md" href="https://forum.level1techs.com/t/how-to-reformat-520-byte-drives-to-512-bytes-usually/133021" rel="noopener ugc nofollow" target="_blank">这里找到</a>和<a class="ae md" href="https://mikeyurick.com/reformat-emc-hard-drives-to-use-in-other-systems-520-to-512-block-size-conversion-solved/" rel="noopener ugc nofollow" target="_blank">这里找到</a>)。您可以通过查看<code class="fe nf ng nh ni b">dmesg</code>命令日志中类似<code class="fe nf ng nh ni b">[sdaw] Unsupported sector size 520</code>的错误信息来确定这是否是您的情况。</p><p id="99b3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了解决这个问题，我用命令<code class="fe nf ng nh ni b">sg_format -v --format --size=512 /dev/sdX</code>使用512的块大小重新格式化了驱动器。运行该命令可能需要很长时间(几个小时)，输出如下所示。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nl"><img src="../Images/a1a84e2791bff52ad71565bef659f1f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cfcbc4lvFSgCeV1qPFV-6g.png"/></div></div></figure><p id="1274" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">完成后，驱动应出现在<code class="fe nf ng nh ni b">lsblk</code>输出中。</p><h2 id="ba1b" class="ms lb it bd lc mt mu dn lg mv mw dp lk kb mx my lo kf mz na ls kj nb nc lw nd bi translated">步骤2:在驱动器上创建文件系统</h2><p id="69a5" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">为了用<a class="ae md" href="https://en.wikipedia.org/wiki/Ext4" rel="noopener ugc nofollow" target="_blank"> ext4 </a>文件系统格式化驱动器，我运行了以下命令:<code class="fe nf ng nh ni b">sudo mkfs -t ext4 — verbose /dev/sda</code>。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/dd3ca74c90fd689d80f158557ebf0887.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2yBLpxib_-lg_m6NTCrLcw.png"/></div></div></figure><h2 id="2b9f" class="ms lb it bd lc mt mu dn lg mv mw dp lk kb mx my lo kf mz na ls kj nb nc lw nd bi translated">步骤3:安装驱动器</h2><p id="d6f6" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">既然我们可以访问驱动器，并且它们已经用所需的文件系统格式化，我们就可以<a class="ae md" href="https://askubuntu.com/a/20681" rel="noopener ugc nofollow" target="_blank">挂载</a>这些驱动器了。</p><ol class=""><li id="bc9c" class="me mf it js b jt ju jx jy kb mg kf mh kj mi kn mj mk ml mm bi translated">创建我们将要安装驱动器的文件夹。例如:<code class="fe nf ng nh ni b">/mnt/farm/00</code>至<code class="fe nf ng nh ni b">/mnt/farm/23</code>用于存储最终绘图的驱动器，而<code class="fe nf ng nh ni b">/mnt/plot-tmp/00</code>至<code class="fe nf ng nh ni b">/mnt/plot-tmp/11</code>用于临时绘图位置。</li><li id="3f61" class="me mf it js b jt mn jx mo kb mp kf mq kj mr kn mj mk ml mm bi translated">运行<code class="fe nf ng nh ni b">sudo blkid</code>来获得你的驱动器(或分区)的唯一id。它将输出几行，如<code class="fe nf ng nh ni b">/dev/sdae: UUID=”29494f44–2f75–4c01-a766–18755eb583d7" TYPE=”ext4"</code>。</li><li id="b70a" class="me mf it js b jt mn jx mo kb mp kf mq kj mr kn mj mk ml mm bi translated">用<code class="fe nf ng nh ni b">sudo vim /etc/fstab</code>编辑fstab文件，并将每个驱动器与其对应的<code class="fe nf ng nh ni b">/mnt/...</code>文件夹相关联。小心不要编辑文件的第一行，因为这些是安装操作系统根目录所需的。我的最终文件如下所示。</li><li id="ebf0" class="me mf it js b jt mn jx mo kb mp kf mq kj mr kn mj mk ml mm bi translated">运行<code class="fe nf ng nh ni b">sudo mount -a</code>来挂载fstab文件中指定的所有驱动器。它将只装载尚未装载的驱动器，因此可以安全地运行多次。</li><li id="5c37" class="me mf it js b jt mn jx mo kb mp kf mq kj mr kn mj mk ml mm bi translated">通过运行sudo <code class="fe nf ng nh ni b">chmod -R 777 /mnt/farm/00</code>，确保用户能够访问硬盘及其文件。</li></ol><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nn"><img src="../Images/e3696248b4584a66865453fe2f088762.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vNsca_rMivhI2rtgDupw3g.png"/></div></div></figure><h2 id="27ba" class="ms lb it bd lc mt mu dn lg mv mw dp lk kb mx my lo kf mz na ls kj nb nc lw nd bi translated">第四步:运行Chia区块链软件</h2><ol class=""><li id="6e81" class="me mf it js b jt ly jx lz kb no kf np kj nq kn mj mk ml mm bi translated">按照这里指定的官方说明<a class="ae md" href="https://github.com/Chia-Network/chia-blockchain/wiki/INSTALL#ubuntudebian" rel="noopener ugc nofollow" target="_blank">安装奇亚区块链(我没有安装GUI)。</a></li><li id="b78d" class="me mf it js b jt mn jx mo kb mp kf mq kj mr kn mj mk ml mm bi translated">运行<code class="fe nf ng nh ni b">chia start farmer</code>来启动钱包、收割机等的守护进程。</li></ol><h2 id="4eac" class="ms lb it bd lc mt mu dn lg mv mw dp lk kb mx my lo kf mz na ls kj nb nc lw nd bi translated">步骤5:设置Plotman(可选)</h2><p id="0eff" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated"><a class="ae md" href="https://github.com/ericaltendorf/plotman" rel="noopener ugc nofollow" target="_blank"> Plotman </a>是一个绘图管理器，将接管新绘图任务的创建。这是一个方便的工具(不是必需的)。</p><ol class=""><li id="1ddc" class="me mf it js b jt ju jx jy kb mg kf mh kj mi kn mj mk ml mm bi translated">按照此处的说明<a class="ae md" href="https://github.com/ericaltendorf/plotman#installation" rel="noopener ugc nofollow" target="_blank">安装绘图仪。</a></li><li id="fc7a" class="me mf it js b jt mn jx mo kb mp kf mq kj mr kn mj mk ml mm bi translated">根据您的绘图仪规格编辑<code class="fe nf ng nh ni b">plotman.yaml</code>。我的最终文件如下所示。</li></ol><pre class="kp kq kr ks gt nr ni ns nt aw nu bi"><span id="c2bf" class="ms lb it ni b gy nv nw l nx ny">user_interface:<br/>  use_stty_size: True<br/>directories:<br/>  log: /home/plotter/plotman-logs<br/>  tmp:<br/>    - /mnt/plot-tmp/f00<br/>    - /mnt/plot-tmp/f01<br/>    - /mnt/plot-tmp/f02<br/>    - /mnt/plot-tmp/f03<br/>    - /mnt/plot-tmp/f04<br/>    - /mnt/plot-tmp/f05<br/>    - /mnt/plot-tmp/f06<br/>    - /mnt/plot-tmp/f07<br/>    - /mnt/plot-tmp/f08<br/>    - /mnt/plot-tmp/f09<br/>    - /mnt/plot-tmp/f10<br/>    - /mnt/plot-tmp/f11<br/>  dst:<br/>    #- /mnt/farm/00 FULL<br/>    #- /mnt/farm/01 FULL<br/>    #- /mnt/farm/02 FULL<br/>    #- /mnt/farm/03 FULL<br/>    #- /mnt/farm/04 FULL<br/>    #- /mnt/farm/05 FULL<br/>    #- /mnt/farm/06 FULL<br/>    #- /mnt/farm/07 FULL<br/>    #- /mnt/farm/08 FULL<br/>    #- /mnt/farm/09 FULL<br/>    #- /mnt/farm/10 FULL<br/>    #- /mnt/farm/11 FULL<br/>    - /mnt/farm/12<br/>    - /mnt/farm/13<br/>    - /mnt/farm/14<br/>    - /mnt/farm/15<br/>    - /mnt/farm/16<br/>    - /mnt/farm/17<br/>    - /mnt/farm/18<br/>    - /mnt/farm/19<br/>    - /mnt/farm/20<br/>    - /mnt/farm/21<br/>    - /mnt/farm/22<br/>    - /mnt/farm/23<br/>scheduling:<br/>  tmpdir_stagger_phase_major: 2<br/>  tmpdir_stagger_phase_minor: 1<br/>  tmpdir_stagger_phase_limit: 1<br/>  tmpdir_max_jobs: 1<br/>  global_max_jobs: 20<br/>  global_stagger_m: 40<br/>  polling_time_s: 30<br/>plotting:<br/>  k: 32<br/>  e: False # Use -e plotting option<br/>  n_threads: 2 # Threads per job<br/>  n_buckets: 128 # Number of buckets to split data into<br/>  job_buffer: 8096 # Per job memory</span></pre><p id="c1ac" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">值得一提的几点:</p><ol class=""><li id="7556" class="me mf it js b jt ju jx jy kb mg kf mh kj mi kn mj mk ml mm bi translated">当驱动器已满时，Plotman不会停止调度农场驱动器(截至撰写本文时)。因此，您需要删除它们(或者如上注释掉它们)。</li><li id="54b2" class="me mf it js b jt mn jx mo kb mp kf mq kj mr kn mj mk ml mm bi translated">Plotman将自动添加农场驱动器到chia收割机。</li><li id="a283" class="me mf it js b jt mn jx mo kb mp kf mq kj mr kn mj mk ml mm bi translated">我使用等于1的<code class="fe nf ng nh ni b">tmpdir_max_jobs</code>,因为我正在绘制硬盘，与固态硬盘相比，硬盘没有良好的寻道性能。</li></ol><h2 id="95ca" class="ms lb it bd lc mt mu dn lg mv mw dp lk kb mx my lo kf mz na ls kj nb nc lw nd bi translated">步骤6:运行绘图仪</h2><p id="e93f" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">此时，开始绘图所需要的就是运行<code class="fe nf ng nh ni b">plotman interactive</code>。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nz"><img src="../Images/d3373c6474a179636482b6ca50a78e5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uMFVoXeepz0PoEwotAUlPA.png"/></div></div></figure><p id="a59d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">注意:标绘到<code class="fe nf ng nh ni b">/dev/farm/usb2</code>的长时间运行作业是一次调试运行，并不意味着运行完成。</p><h1 id="78b9" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">最后的话</h1><p id="c0f9" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">希望这能有助于给你一个概念是什么需要农场嘉！</p><p id="e5cc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">到目前为止，我的农场已经满了1/3，我计划在它满了的时候和我开始重新绘制池子的时候发布更新。</p><p id="d3dc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">特别感谢凯蒂·甘多米对开发的帮助。</p><p id="55ed" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">开心种田！</p><p id="0938" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="oa">如果你觉得这篇文章很有帮助，请点击</em>👏按钮或<em class="oa">捐赠一些Chia (XCH)到我的地址:</em></p><p id="fbbd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">xch 159 qvpvafcx 4 jxllk 9 xe 9 NPH 42 xw 50j 56 mpt 03 DSA 05 svll 7 kmd LQ 04 UCM 8</p><p id="a589" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="oa">如果你有任何问题或者只是想聊聊创业、创业、承包或工程，就发邮件给我吧保罗@</em><a class="ae md" href="https://avantsoft.com.br/" rel="noopener ugc nofollow" target="_blank"><em class="oa"/></a><em class="oa">。</em></p></div></div>    
</body>
</html>