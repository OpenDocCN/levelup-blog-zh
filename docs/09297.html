<html>
<head>
<title>Setup MacOs for Go Development</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为Go开发设置MacOs</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/setup-macos-for-go-development-93e45a371044?source=collection_archive---------4-----------------------#2021-07-25">https://levelup.gitconnected.com/setup-macos-for-go-development-93e45a371044?source=collection_archive---------4-----------------------#2021-07-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9b68" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何安装Go并设置Visual Studio代码</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/8f98fbc1fb653c59e9dba6e0036fd407.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5EeTpWg1ZCwPZaL9Aqltew.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">由<a class="ae kv" href="https://unsplash.com/@fossy?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Fab Lentz </a>在<a class="ae kv" href="https://unsplash.com/s/photos/neon-go?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="5b0e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">前几天，我想到了一个业余爱好项目的主意，围棋非常适合这个项目。</p><p id="68f7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">距离我上次尝试围棋已经有一段时间了。那时候Go的依赖管理一片混乱。然而，自从引入Go模块以来，事情似乎朝着正确的方向发展，所以我觉得是时候再试一次了。</p><p id="290c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我开始玩之前，我需要设置我的MacBook进行Go开发。本文介绍了如何做到这一点。我们将安装Go，试验Go模块，并设置Visual Studio代码。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="df1e" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">先决条件</h1><p id="a144" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">按照这篇文章，你需要有家酿安装。你可以在<a class="ae kv" href="https://brew.sh/" rel="noopener ugc nofollow" target="_blank">官网</a>找到安装说明。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="1370" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">安装Go</h1><p id="992d" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">几年前，安装go是一次痛苦的经历，因为你必须创建一个特定的文件夹结构，以确保依赖关系管理能够正常工作。我还记得不得不摆弄像<code class="fe mw mx my mz b">GOPATH</code>这样的东西。</p><p id="b11d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在你需要做的就是执行命令:</p><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="943f" class="ne ma iq mz b gy nf ng l nh ni">brew install go</span></pre><p id="3a1f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在编写本文时，这个命令安装Go版本<code class="fe mw mx my mz b">1.16</code>。之后，您可以通过<code class="fe mw mx my mz b">go version</code>来验证安装，这将产生如下响应:</p><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="7926" class="ne ma iq mz b gy nf ng l nh ni">go version</span><span id="002c" class="ne ma iq mz b gy nj ng l nh ni">go version go1.16.6 darwin/amd64</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="eb57" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">示例项目</h1><p id="675d" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">安装了Go之后，是时候创建一个简单的示例项目了。</p><h2 id="42c7" class="ne ma iq bd mb nk nl dn mf nm nn dp mj lf no np ml lj nq nr mn ln ns nt mp nu bi translated">创建新项目</h2><p id="ef7e" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">让我们首先为我们的项目创建一个目录:</p><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="81f3" class="ne ma iq mz b gy nf ng l nh ni">mkdir example<br/>cd example</span></pre><p id="c345" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Go通过一个<code class="fe mw mx my mz b">go.mod</code>文件管理依赖关系。我们可以通过<code class="fe mw mx my mz b">go mod init</code> <a class="ae kv" href="https://golang.org/ref/mod#go-mod-init" rel="noopener ugc nofollow" target="_blank">命令</a>创建一个<code class="fe mw mx my mz b">go.mod</code>文件。这个命令需要你的模块名。通常，该名称将等于代码所在的存储库，例如<code class="fe mw mx my mz b">github.com/&lt;GITHUB_USERNAME&gt;/example</code>。</p><p id="de70" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们将只使用<code class="fe mw mx my mz b">example.com/example</code>:</p><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="14da" class="ne ma iq mz b gy nf ng l nh ni">go mod init example.com/example</span></pre><p id="04f0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">运行这个命令后，您应该在<code class="fe mw mx my mz b">example</code>目录中有一个<code class="fe mw mx my mz b">go.mod</code>文件。一个<code class="fe mw mx my mz b">go.mod</code>文件描述了模块的属性，包括它对其他模块的依赖性。</p><p id="3d01" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">既然我们已经创建了文件，那么添加一个<code class="fe mw mx my mz b">main.go</code>文件到带有hello world示例的项目中。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="b4f5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们运行代码，它会将<code class="fe mw mx my mz b">Hello, Medium!</code>打印到控制台。您可以通过执行以下命令来运行代码:</p><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="f8b9" class="ne ma iq mz b gy nf ng l nh ni">go run .</span></pre><h2 id="9732" class="ne ma iq bd mb nk nl dn mf nm nn dp mj lf no np ml lj nq nr mn ln ns nt mp nu bi translated">外部模块</h2><p id="31cf" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">不使用默认的<code class="fe mw mx my mz b">fmt.Println()</code>来打印我们的消息，我们可能想要使用一个真正的日志记录器。一个流行的日志包是<code class="fe mw mx my mz b"><a class="ae kv" href="https://pkg.go.dev/github.com/sirupsen/logrus" rel="noopener ugc nofollow" target="_blank">logrus</a></code>。这个包不是标准库的一部分，所以我们将使用Go模块将它导入到我们的项目中。</p><p id="b62e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先将<code class="fe mw mx my mz b">main.go</code>中的代码更新为:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="8cf0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们需要将这个模块添加到我们的<code class="fe mw mx my mz b">go.mod</code>文件中。我们可以使用<code class="fe mw mx my mz b">go mod tidy</code>来为我们工作。这个命令在你的<code class="fe mw mx my mz b">go.mod</code>文件中添加和删除模块，使其与你的模块中的源代码相匹配。它还添加了一个<code class="fe mw mx my mz b">go.sum</code>文件，用于模块认证。</p><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="b0f5" class="ne ma iq mz b gy nf ng l nh ni">go mod tidy</span></pre><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nv nw l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">生成的go.mod文件</figcaption></figure><p id="f4a4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果再次运行该代码，应该会显示三条日志消息。</p><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="0a5f" class="ne ma iq mz b gy nf ng l nh ni">go run .</span><span id="d212" class="ne ma iq mz b gy nj ng l nh ni">INFO[0000] Just an INFO log, no worries<br/>WARN[0000] A WARN log might make us a bit nervous...<br/>ERRO[0000] Now something is really wrong!</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="9fd1" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">Visual Studio代码</h1><p id="a150" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">说到用于Go开发的IDE，无论是JetBrains的<a class="ae kv" href="https://www.jetbrains.com/go/" rel="noopener ugc nofollow" target="_blank"> GoLand </a>还是微软的<a class="ae kv" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> Visual Studio Code </a>都不会错。因为我不想为GoLand付费，因为这只是一个爱好项目，所以我选择了Visual Studio代码。</p><p id="4b30" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">家酿使安装Visual Studio代码变得容易:</p><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="cc3d" class="ne ma iq mz b gy nf ng l nh ni">brew install --cask visual-studio-code</span></pre><h2 id="4558" class="ne ma iq bd mb nk nl dn mf nm nn dp mj lf no np ml lj nq nr mn ln ns nt mp nu bi translated">安装Go扩展</h2><p id="b39e" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">你需要一个扩展来充分利用像智能感知和代码导航这样的东西。</p><p id="7e4d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">打开Visual Studio代码，导航到<code class="fe mw mx my mz b">code &gt; preferences &gt; extensions</code>并搜索<a class="ae kv" href="https://marketplace.visualstudio.com/items?itemName=golang.go" rel="noopener ugc nofollow" target="_blank"> Go for Visual Studio Code </a>扩展。</p><p id="bc9e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该扩展依赖于一些额外的命令行工具。如果它们丢失了，当你第一次打开包含Go代码的目录或工作空间时，你会看到一个弹出窗口。点击<code class="fe mw mx my mz b">Install All</code>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nx"><img src="../Images/e4ee60ff76361e708495cdb17aeb2693.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xVyLKly_4E_KkmRw_rIHww.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">看到此弹出窗口时，单击“全部安装”。</figcaption></figure><h2 id="d820" class="ne ma iq bd mb nk nl dn mf nm nn dp mj lf no np ml lj nq nr mn ln ns nt mp nu bi translated">启用自动保存</h2><p id="a651" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">使用默认设置，Visual Studio代码需要手动操作来保存您正在处理的文件。在本地测试期间，未保存的更改让我困惑了很多次。我总是为Visual Studio代码启用自动保存。您可以通过<code class="fe mw mx my mz b">File &gt; Auto Save</code>启用自动保存。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="b99f" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">结论</h1><p id="b8b9" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">与几年前相比，安装过程简单多了。不再需要用复杂且容易出错的文件夹结构来设置工作区。</p><p id="b58e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我对通过Go模块进行依赖管理的第一印象也是积极的。这让我有足够的信心用这门语言开始一个新的爱好项目。</p><p id="c813" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如人们所料，Visual Studio代码的Go扩展似乎工作得很好。如果我将来做更多的围棋编程，我可能会转到GoLand，因为我也使用JetBrains IDE进行Java开发。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="678c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢您的阅读。我希望这有所帮助。如果您有任何问题或反馈，请随时回复。</p></div></div>    
</body>
</html>