<html>
<head>
<title>QR Code Scanner in Kotlin</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">科特林的二维码扫描仪</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/qr-code-scanner-in-kotlin-e15dd9bfbb1f?source=collection_archive---------7-----------------------#2020-02-25">https://levelup.gitconnected.com/qr-code-scanner-in-kotlin-e15dd9bfbb1f?source=collection_archive---------7-----------------------#2020-02-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div class="gh gi jq"><img src="../Images/7c28b8c3feb1b578358ed7d8ef35f71f.png" data-original-src="https://miro.medium.com/v2/resize:fit:558/format:webp/1*cM8HoZ2MsISDp8Z0nq4miw.png"/></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk translated">使用渲染的3D立方体检测QR码</figcaption></figure><p id="e7d4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">本文包含几个Kotlin示例，这些示例从较高的层面描述了如何在任何计算机上创建和扫描图像和网络摄像头中的<a class="ae kz" href="https://en.wikipedia.org/wiki/QR_code" rel="noopener ugc nofollow" target="_blank"> QR码</a>,并涉及Android。此外，它还展示了如何利用QR码实时估计物体的3D位置，例如增强现实或机器人定位。所有这些都是在科特林使用<a class="ae kz" href="https://boofcv.org/" rel="noopener ugc nofollow" target="_blank"> BoofCV </a>计算机视觉库完成的。</p><p id="2c02" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><em class="la">查看该基准测试，了解BoofCV与其他二维码检测器的</em> <a class="ae kz" href="https://boofcv.org/index.php?title=Performance:QrCode" rel="noopener ugc nofollow" target="_blank"> <em class="la">对比。</em>T9】</a></p><h2 id="0709" class="lb lc it bd ld le lf dn lg lh li dp lj km lk ll lm kq ln lo lp ku lq lr ls lt bi translated">创建简单的项目</h2><p id="8dbc" class="pw-post-body-paragraph kb kc it kd b ke lu kg kh ki lv kk kl km lw ko kp kq lx ks kt ku ly kw kx ky im bi translated">要将BoofCV添加到您的<a class="ae kz" href="https://kotlinlang.org/docs/reference/using-gradle.html" rel="noopener ugc nofollow" target="_blank"> Gradle JVM Kotlin </a>项目中，只需添加下面的依赖项:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="8591" class="lb lc it me b gy mi mj l mk ml">arrayOf("core","swing","kotlin","WebcamCapture").forEach()<br/><strong class="me iu">{ </strong>implementation("org.boofcv:boofcv-$it:0.41") <strong class="me iu">}</strong></span></pre><p id="d576" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">要查看本文中的工作示例和所有源代码，请查看Github上的<a class="ae kz" href="https://github.com/lessthanoptimal/KBoofExamples" rel="noopener ugc nofollow" target="_blank"> KBoofExamples </a>。</p><h2 id="45ae" class="lb lc it bd ld le lf dn lg lh li dp lj km lk ll lm kq ln lo lp ku lq lr ls lt bi translated">创建二维码</h2><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/f15337a3aca3f34f1c632b2207ec6881.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/format:webp/1*PNniLVIC_Hc7gNIxjvWPWg.png"/></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk translated">这个例子生成的二维码。使用下面提到的Android演示扫描它！</figcaption></figure><p id="0d2a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">下面的三行代码将创建一个二维码，并在一个窗口中显示上图。</p><figure class="lz ma mb mc gt ju"><div class="bz fp l di"><div class="mn mo l"/></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk translated"><em class="mp">完整来源</em><a class="ae kz" href="https://github.com/lessthanoptimal/KBoofExamples/blob/master/src/main/kotlin/QrCodeCreate.kt" rel="noopener ugc nofollow" target="_blank"><em class="mp">QR code create . kt</em></a></figcaption></figure><p id="8b6c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这应该可以在Windows、Linux和Mac OS X上运行。如果你愿意，它也可以保存到磁盘或作为PDF文档。这是高度可配置的，您可以手动指定QR码中的每个<a class="ae kz" href="https://www.qrcode.com/en/about/standards.html" rel="noopener ugc nofollow" target="_blank">参数</a>。</p><h2 id="71ef" class="lb lc it bd ld le lf dn lg lh li dp lj km lk ll lm kq ln lo lp ku lq lr ls lt bi translated">扫描文件夹中的所有图像</h2><p id="afa9" class="pw-post-body-paragraph kb kc it kd b ke lu kg kh ki lv kk kl km lw ko kp kq lx ks kt ku ly kw kx ky im bi translated">在本例中，将打开一个窗口，要求您选择一个文件夹。然后下面的代码将递归地扫描所有的文件夹寻找图像。输出是一个包含图像名称和其中包含的所有消息的映射。</p><figure class="lz ma mb mc gt ju"><div class="bz fp l di"><div class="mn mo l"/></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk translated"><em class="mp">完整来源</em><a class="ae kz" href="https://github.com/lessthanoptimal/KBoofExamples/blob/master/src/main/kotlin/QrCodeDiskScanning.kt" rel="noopener ugc nofollow" target="_blank"><em class="mp">QR codediskscanning . kt</em></a></figcaption></figure><h2 id="4f07" class="lb lc it bd ld le lf dn lg lh li dp lj km lk ll lm kq ln lo lp ku lq lr ls lt bi translated">网络摄像头的实时处理</h2><p id="1f4d" class="pw-post-body-paragraph kb kc it kd b ke lu kg kh ki lv kk kl km lw ko kp kq lx ks kt ku ly kw kx ky im bi translated">在这里，我们打开你电脑上的默认摄像头，扫描二维码。如果找到一个，它的轮廓会用红色画出来。</p><figure class="lz ma mb mc gt ju"><div class="bz fp l di"><div class="mn mo l"/></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk translated">完整来源<a class="ae kz" href="https://github.com/lessthanoptimal/KBoofExamples/blob/master/src/main/kotlin/QrCodeWebcam.kt" rel="noopener ugc nofollow" target="_blank"> QrCodeWebcam.kt </a></figcaption></figure><h2 id="1347" class="lb lc it bd ld le lf dn lg lh li dp lj km lk ll lm kq ln lo lp ku lq lr ls lt bi translated">使用网络摄像头进行实时姿态估计</h2><figure class="lz ma mb mc gt ju"><div class="bz fp l di"><div class="mq mo l"/></div></figure><p id="eebc" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这里有一个有趣的。我们打开一个网络摄像头，猜测一些参数，然后在QR码所在的图像中呈现一个3D框。这被称为增强现实，你可以在图像中显示更多有趣的物体。</p><figure class="lz ma mb mc gt ju"><div class="bz fp l di"><div class="mn mo l"/></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk translated">完整来源<a class="ae kz" href="https://github.com/lessthanoptimal/KBoofExamples/blob/master/src/main/kotlin/QrCodePoseEstimate.kt" rel="noopener ugc nofollow" target="_blank">qrcodeposeeestimate . kt</a></figcaption></figure><h2 id="c140" class="lb lc it bd ld le lf dn lg lh li dp lj km lk ll lm kq ln lo lp ku lq lr ls lt bi translated">机器人</h2><p id="9583" class="pw-post-body-paragraph kb kc it kd b ke lu kg kh ki lv kk kl km lw ko kp kq lx ks kt ku ly kw kx ky im bi translated">虽然谷歌提供了自己的二维码检测器，但你可以使用BoofCV扫描二维码，获得比谷歌提供的更多的信息。比如你需要估计3D姿态的角。这个过程基本上和你已经看到的一样。你只需要把图像从Android的格式转换成BoofCV能理解的格式。</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="66f4" class="lb lc it me b gy mi mj l mk ml">ConvertCameraImage.<em class="la">imageToBoof</em>(androidImage, ColorFormat.<em class="la">RGB</em>, boofcvImage, null);</span></pre><p id="a6bc" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">想在你的手机上看到这一点吗？查看<a class="ae kz" href="https://play.google.com/store/apps/details?id=org.boofcv.android&amp;hl=en_US" rel="noopener ugc nofollow" target="_blank">安卓演示应用</a>！</p></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><p id="8180" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">暂时就这样吧！如果你想知道更多关于一个特殊的例子，请在下面提问。如果有足够的兴趣，我会张贴一个详细的文章示例，说明姿势估计的例子是如何工作的。</p></div></div>    
</body>
</html>