<html>
<head>
<title>Use RethinkDB and Node for Real-Time apps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">对实时应用程序使用RethinkDB和Node</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/use-rethinkdb-and-node-for-real-time-apps-85c435b89be4?source=collection_archive---------9-----------------------#2022-07-18">https://levelup.gitconnected.com/use-rethinkdb-and-node-for-real-time-apps-85c435b89be4?source=collection_archive---------9-----------------------#2022-07-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="2101" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本帖中，我们将使用一个以实时为理念的数据库。我们的用法将是最简单的，所以它会很短，你会明白这个想法，你也有一些代码来运行这个基本的例子，所以让我们开始…</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/0500e4c483b2b16259a6d9d0fbc5945f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ngL_clPImT88N_fhgolh0w.png"/></div></div></figure><h1 id="dc90" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">什么是RethinkDB？</h1><p id="8923" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">RethinkDB是一个<strong class="jp ir"> <em class="ma">非SQL </em> </strong>数据库。是<strong class="jp ir"> <em class="ma">开源</em> </strong>你可以在这里找到资源库<a class="ae mb" href="https://github.com/rethinkdb/rethinkdb" rel="noopener ugc nofollow" target="_blank">。它的显著特点是<strong class="jp ir"> <em class="ma">实时</em> </strong>并让你查询变化。是用c++写的。</a></p><h1 id="d096" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">为什么我要写这个？</h1><ul class=""><li id="5e59" class="mc md iq jp b jq lv ju lw jy me kc mf kg mg kk mh mi mj mk bi translated">这是一个开源项目，值得尊重。</li><li id="d4ec" class="mc md iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">实时应用对某些领域来说非常重要和关键(陈旧的数据没有任何价值)</li><li id="4abf" class="mc md iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">当你在一个特定的领域工作时(在这种情况下<em class="ma">实时</em>)，你的工具很有可能成为那个特定领域的最佳选择。</li><li id="7c65" class="mc md iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">它支持你对数据库的所有期望，比如可伸缩性、可用性，你还可以使用各种查询和聚合，甚至是时间序列。</li></ul><h1 id="bd0e" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">其他数据库能做RethinkDB在做的事情吗？</h1><p id="754d" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">答案是肯定的，也是否定的，RethinkDB正在努力的是成为最好的实时DB。其他数据库也有监听变化的功能，例如MongoDB有<a class="ae mb" href="https://www.mongodb.com/docs/manual/changeStreams/" rel="noopener ugc nofollow" target="_blank">变化流</a>，在MySQL和PostgreSQL上我们有一个可以读取的changelog文件，或者我们可以为需要实时数据的情况创建触发器。它们都具有为我们提供实时数据的功能，但没有一个是专门为此设计的，因此我们需要更多的努力来做同样的事情。</p><h1 id="5f85" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">安装RethinkDB</h1><p id="035a" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">在Mac或Linux上，如果您有<code class="fe mq mr ms mt b">brew</code>使用此命令:</p><pre class="km kn ko kp gt mu mt mv mw aw mx bi"><span id="0260" class="my ky iq mt b gy mz na l nb nc">brew update &amp;&amp; brew install rethinkdb</span></pre><p id="4425" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于Ubuntu，请查看这个页面。</p><p id="5e3c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果安装成功，您应该能够使用以下命令启动RethinkDB:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nd"><img src="../Images/3e7796f12ae37a270cd52c33d4e4bed7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35KdFV1QbgAczYjiMPwEXw.png"/></div></div><figcaption class="ne nf gj gh gi ng nh bd b be z dk translated">运行RethinkDB</figcaption></figure><h1 id="18d7" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">空谈不值钱！</h1><p id="3c9d" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated"><em class="ma">示例定义</em> : <br/>一个Node.js应用程序，它连接到一个RethinkDB数据库，当我们在这个数据库表中进行一些更改时，用户可以听到这些更改，并获得最新的结果。</p><h2 id="d7db" class="my ky iq bd kz ni nj dn ld nk nl dp lh jy nm nn ll kc no np lp kg nq nr lt ns bi translated">连接到数据库</h2><p id="22fd" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">首先安装<code class="fe mq mr ms mt b">rethinkdb</code> nodejs库:</p><p id="66b8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mq mr ms mt b">npm i rethinkdb</code>并且记住默认端口是<code class="fe mq mr ms mt b">28015</code>。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nt nu l"/></div><figcaption class="ne nf gj gh gi ng nh bd b be z dk translated">连接到RethinkDB</figcaption></figure><p id="697c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是基于文档的方法，但是如果你问我你可以使用<a class="ae mb" href="https://en.wikipedia.org/wiki/Singleton_pattern" rel="noopener ugc nofollow" target="_blank">单例模式</a>并且<a class="ae mb" href="https://stackoverflow.com/questions/22519784/how-do-i-convert-an-existing-callback-api-to-promises" rel="noopener ugc nofollow" target="_blank">承诺</a>连接回调，因为我们在不同的地方需要连接。让我们这样做:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nt nu l"/></div><figcaption class="ne nf gj gh gi ng nh bd b be z dk translated">更好的连接处理</figcaption></figure><p id="f9ad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在如果有人使用<code class="fe mq mr ms mt b">getRethinkDBConnection()</code>功能就可以接入连接。</p><h2 id="251d" class="my ky iq bd kz ni nj dn ld nk nl dp lh jy nm nn ll kc no np lp kg nq nr lt ns bi translated">创建我们的第一个表</h2><p id="cfd8" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">默认情况下，数据库<code class="fe mq mr ms mt b">test</code>在RethinkDB中，所以我们将继续。<br/>为了创建名为“<strong class="jp ir"> <em class="ma">分数</em> </strong>的表格，我们只需要连接，因此我们应该导入<code class="fe mq mr ms mt b">getRethinkDBConnection</code>:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nt nu l"/></div><figcaption class="ne nf gj gh gi ng nh bd b be z dk translated">创建RethinkDB表</figcaption></figure><p id="c6df" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在运行:<code class="fe mq mr ms mt b">node createTable.js</code>在RethinkDB中创建第一个表。</p><h2 id="d4c0" class="my ky iq bd kz ni nj dn ld nk nl dp lh jy nm nn ll kc no np lp kg nq nr lt ns bi translated">插入样本数据</h2><p id="b0e9" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">为此，我们将实现我们的插入函数:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nt nu l"/></div><figcaption class="ne nf gj gh gi ng nh bd b be z dk translated">将示例数据添加到RethkinkDB</figcaption></figure><p id="edb4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通过运行以下代码:</p><pre class="km kn ko kp gt mu mt mv mw aw mx bi"><span id="51c0" class="my ky iq mt b gy mz na l nb nc">node ./sampleData.js</span></pre><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nv"><img src="../Images/37b431e1997a8144d2759bdaaf70a6bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sxvx6R78AgrcQNNagsRyvw.png"/></div></div><figcaption class="ne nf gj gh gi ng nh bd b be z dk translated">插入数据</figcaption></figure><h2 id="2d9a" class="my ky iq bd kz ni nj dn ld nk nl dp lh jy nm nn ll kc no np lp kg nq nr lt ns bi translated">获取我们插入的样本数据</h2><p id="612b" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated"><code class="fe mq mr ms mt b">generated_keys</code>是“id ”,默认情况下是主键。我们可以用它来取这个。让我们实现<code class="fe mq mr ms mt b">getScoreById</code>功能:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nt nu l"/></div><figcaption class="ne nf gj gh gi ng nh bd b be z dk translated">按Id获取分数</figcaption></figure><p id="2326" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们已经使用了<code class="fe mq mr ms mt b">get</code>命令来获取基于<code class="fe mq mr ms mt b">id</code>的项目，并且我们承诺回调来实现<code class="fe mq mr ms mt b">getScoreById</code>功能。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nv"><img src="../Images/15ab6e67d449ce4713ac7d95d9d17f78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wLdq7vMCebDWJbzXA4ZziQ.png"/></div></div><figcaption class="ne nf gj gh gi ng nh bd b be z dk translated">get查询的结果</figcaption></figure><h2 id="1ad0" class="my ky iq bd kz ni nj dn ld nk nl dp lh jy nm nn ll kc no np lp kg nq nr lt ns bi translated">记分牌</h2><p id="7f70" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">让我们用一个简单的express应用程序来实现记分板。</p><p id="00ac" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首次安装express:</p><pre class="km kn ko kp gt mu mt mv mw aw mx bi"><span id="1a8b" class="my ky iq mt b gy mz na l nb nc">npm i express;</span></pre><p id="01c6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是我们简单的快递应用程序:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nt nu l"/></div><figcaption class="ne nf gj gh gi ng nh bd b be z dk translated">应用程序初始化</figcaption></figure><p id="9f05" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在使用node或nodemon运行您的服务器:</p><pre class="km kn ko kp gt mu mt mv mw aw mx bi"><span id="9a8e" class="my ky iq mt b gy mz na l nb nc">node app.js</span></pre><p id="8837" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">这里如何实现实时更新？</strong></p><p id="b381" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们有两种方式:<a class="ae mb" href="https://www.educative.io/answers/what-is-http-long-polling" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="ma"> HTTP轮询</em> </strong> </a> <em class="ma"> </em>和<em class="ma"/><a class="ae mb" href="https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="ma">web sockets</em></strong></a><em class="ma">。</em></p><p id="fb80" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最直接的方法是使用WebSocket库。众所周知的是<a class="ae mb" href="https://socket.io" rel="noopener ugc nofollow" target="_blank">插座。IO </a>。让我们看看是否可以向客户端发送更新:<br/>这是服务器端的实现:</p><ul class=""><li id="b99b" class="mc md iq jp b jq jr ju jv jy nw kc nx kg ny kk mh mi mj mk bi translated">我们需要在我们服务的HTTP实例上创建我们的套接字</li><li id="041e" class="mc md iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">通过使用时间间隔，我们每秒发送一次数据，我们将在客户端接收该数据。</li><li id="ef59" class="mc md iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">用户向<code class="fe mq mr ms mt b">/scoreboard</code>发送请求，我们正在向用户发送<code class="fe mq mr ms mt b">index.html</code>文件。</li><li id="9a67" class="mc md iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">下一步，我们将创建<code class="fe mq mr ms mt b">index.html</code>作为套接字客户端，我们将根据来自后端的数据更新用户界面。</li></ul><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nt nu l"/></div><figcaption class="ne nf gj gh gi ng nh bd b be z dk translated">套接字io有助于发送实时更新</figcaption></figure><h2 id="b3fc" class="my ky iq bd kz ni nj dn ld nk nl dp lh jy nm nn ll kc no np lp kg nq nr lt ns bi translated">客户端实现</h2><p id="2a4d" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">我们在这里也使用了<code class="fe mq mr ms mt b">socketio</code>，我们正在监听来自开放套接字的事件:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nt nu l"/></div><figcaption class="ne nf gj gh gi ng nh bd b be z dk translated">套接字io客户端实现</figcaption></figure><p id="cabd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们有id为<code class="fe mq mr ms mt b">scores</code>的<code class="fe mq mr ms mt b">div</code>，每次我们收到一条消息，我们都会在第16行添加一个项目<code class="fe mq mr ms mt b">&lt;li&gt;message&lt;/li&gt;</code>。<br/>让我们看看一切是否正常:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nz"><img src="../Images/6caef468661d8cf851ecf8edd1f2efc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*9QnMyH5QLhrdObgcN_znEQ.gif"/></div></div><figcaption class="ne nf gj gh gi ng nh bd b be z dk translated">使用SocketIO更新UI</figcaption></figure><h2 id="18cc" class="my ky iq bd kz ni nj dn ld nk nl dp lh jy nm nn ll kc no np lp kg nq nr lt ns bi translated">从RethinkDB获取更改</h2><p id="8da9" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">使用<code class="fe mq mr ms mt b">changes</code>的方法，我们可以简单地从RethinkDB获得数据变更:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nt nu l"/></div><figcaption class="ne nf gj gh gi ng nh bd b be z dk translated">获取分数变化</figcaption></figure><p id="5452" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们只需要传递一个<strong class="jp ir">回调函数</strong>来处理数据。Changes函数返回<em class="ma">光标</em>，我们可以对其进行迭代并记录值。</p><p id="2f53" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通过传递这个选项<code class="fe mq mr ms mt b">{ includeInitial: true }</code>，我们在第一个事件中获得表的所有数据。</p><p id="3892" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们看看实际情况，我将对<code class="fe mq mr ms mt b">scores</code>进行一些随机更新，我们可以看到这些变化。默认情况下，我们可以使用端口<code class="fe mq mr ms mt b">8080</code>上的RethinkDB UI:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nz"><img src="../Images/c961b26752d20364f1773ecf62f6eac6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*sXBOJLWiH2g-wXMgDwOevQ.gif"/></div></div><figcaption class="ne nf gj gh gi ng nh bd b be z dk translated">使用更改功能记录更改</figcaption></figure><h2 id="6114" class="my ky iq bd kz ni nj dn ld nk nl dp lh jy nm nn ll kc no np lp kg nq nr lt ns bi translated">使用SocketIO发送乐谱更改</h2><p id="303f" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">现在是时候将这些更改发送到response了。</p><p id="5344" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们需要做的就是传递一个回调函数给<code class="fe mq mr ms mt b">getChanges</code>函数:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nt nu l"/></div><figcaption class="ne nf gj gh gi ng nh bd b be z dk translated">将数据库更改写入响应</figcaption></figure><p id="133b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">每次在<code class="fe mq mr ms mt b">scores</code>表中发生变化时，我们的回调函数都会被执行，结果它会向前端发出新的变化。</p><h2 id="fb10" class="my ky iq bd kz ni nj dn ld nk nl dp lh jy nm nn ll kc no np lp kg nq nr lt ns bi translated">让我们让index.html使用套接字数据</h2><p id="bf15" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">为了显示每次从服务器返回数据的结果，我们创建了以下元素:</p><pre class="km kn ko kp gt mu mt mv mw aw mx bi"><span id="00fa" class="my ky iq mt b gy mz na l nb nc">&lt;li&gt;<br/>  &lt;span&gt; Team1 &lt;/span&gt;<br/>  &lt;span&gt; Score &lt;/span&gt;<br/>  &lt;span&gt; Team 2 &lt;/span&gt;</span><span id="7d99" class="my ky iq mt b gy oa na l nb nc">&lt;/li&gt;</span></pre><p id="8990" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果文档已经存在，我们将<a class="ae mb" href="https://developer.mozilla.org/en-US/docs/Web/API/Element/replaceWith" rel="noopener ugc nofollow" target="_blank">用新的分数元素替换</a>当前的分数元素:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nt nu l"/></div><figcaption class="ne nf gj gh gi ng nh bd b be z dk translated">使用套接字数据的工作示例</figcaption></figure><p id="24ca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们看看演示:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nz"><img src="../Images/47e8943fdcf36e331203248c6595235e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*jzLuwAzAk4TiMKlzF5FSeg.gif"/></div></div><figcaption class="ne nf gj gh gi ng nh bd b be z dk translated">更改分数并在线查看更改</figcaption></figure><h1 id="c8e4" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">后续步骤</h1><ul class=""><li id="ae01" class="mc md iq jp b jq lv ju lw jy me kc mf kg mg kk mh mi mj mk bi translated">为玩家创建另一个表，并在文档中存储得分，RethinkDB支持连接。</li><li id="66ca" class="mc md iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">在监听变化时使用过滤器，在本例中，您可以根据联盟进行过滤。</li><li id="6a2d" class="mc md iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">让用户在另一个表格中对每个游戏发表评论或反应</li></ul><p id="d25a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你可以签出这个github项目中的文件</p><div class="ob oc gp gr od oe"><a href="https://javascript.plainenglish.io/working-with-nodejs-streams-a0d35aca0cc0" rel="noopener  ugc nofollow" target="_blank"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd ir gy z fp oj fr fs ok fu fw ip bi translated">使用Node.js流</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">什么是流，我们在哪里使用它们？</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="on l"><div class="oo l op oq or on os kv oe"/></div></div></a></div><div class="ob oc gp gr od oe"><a href="https://medium.com/meroxa/stream-your-database-changes-with-change-data-capture-aa8797fa9070" rel="noopener follow" target="_blank"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd ir gy z fp oj fr fs ok fu fw ip bi translated">通过变更数据捕获，流式传输您的数据库变更</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">没有人想看仪表盘或用昨天的数据做决定。我们生活在一个实时…</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">medium.com</p></div></div><div class="on l"><div class="ot l op oq or on os kv oe"/></div></div></a></div></div></div>    
</body>
</html>