<html>
<head>
<title>Full Guide: Add Husky to your React Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">完整指南:将Husky添加到React项目中</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/full-guide-add-husky-to-your-react-project-e049935f20d5?source=collection_archive---------5-----------------------#2022-11-02">https://levelup.gitconnected.com/full-guide-add-husky-to-your-react-project-e049935f20d5?source=collection_archive---------5-----------------------#2022-11-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/161e1d296d5ffac338fdd96840d45f4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KaqQxvu1D6JrLO4oNKzc7Q.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">来自ankurkedia.com</figcaption></figure><p id="bb28" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">本教程将帮助你在React项目中实现一个git挂钩。它会在你做<code class="fe la lb lc ld b">git command</code>之前自动运行你设置的动作。</p></div><div class="ab cl le lf hu lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ij ik il im in"><p id="6822" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">以前的课程</strong></p><p id="8c4d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><a class="ae ll" href="https://medium.com/@steveleung9527/full-guide-add-eslint-to-react-typescript-project-406618192b9" rel="noopener">添加Eslint到React类型脚本项目</a></p><div class="lm ln gp gr lo lp"><a href="https://medium.com/@steveleung9527/full-guide-add-eslint-to-react-typescript-project-406618192b9" rel="noopener follow" target="_blank"><div class="lq ab fo"><div class="lr ab ls cl cj lt"><h2 class="bd ir gy z fp lu fr fs lv fu fw ip bi translated">完整指南:将Eslint添加到React TypeScript项目</h2><div class="lw l"><h3 class="bd b gy z fp lu fr fs lv fu fw dk translated">这将是帮助您从零开始使用React应用程序的完整指南，包括以下内容:</h3></div><div class="lx l"><p class="bd b dl z fp lu fr fs lv fu fw dk translated">medium.com</p></div></div><div class="ly l"><div class="lz l ma mb mc ly md jw lp"/></div></div></a></div></div><div class="ab cl le lf hu lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ij ik il im in"><p id="4b4d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在我们将在react项目中实现<code class="fe la lb lc ld b">Husky</code>。</p><ol class=""><li id="237a" class="me mf iq ke b kf kg kj kk kn mg kr mh kv mi kz mj mk ml mm bi translated">安装husky</li></ol><pre class="mn mo mp mq gt mr ld ms mt aw mu bi"><span id="c91c" class="mv mw iq ld b gy mx my l mz na">npm i --save-dev husky</span></pre><p id="f5f3" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><code class="fe la lb lc ld b">— save-dev</code> husky仅供我们开发使用，因此将其安装在<code class="fe la lb lc ld b">devDependencies</code></p><p id="5bd9" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">2.初始化husky</p><pre class="mn mo mp mq gt mr ld ms mt aw mu bi"><span id="beff" class="mv mw iq ld b gy mx my l mz na">npx husky install</span></pre><p id="464e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这将帮助你初始化并创建一个名为<code class="fe la lb lc ld b">.husky</code>的文件夹</p><p id="97fd" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">3.添加预提交挂钩</p><pre class="mn mo mp mq gt mr ld ms mt aw mu bi"><span id="7f5b" class="mv mw iq ld b gy mx my l mz na">npx husky add .husky/pre-commit</span></pre><p id="0d48" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这将在<code class="fe la lb lc ld b">.husky</code>文件夹下创建一个预提交钩子<code class="fe la lb lc ld b">pre-commimt </code>。当你做<code class="fe la lb lc ld b">git commit</code>的时候这个钩子就会运行。现在将<code class="fe la lb lc ld b">undefined</code>替换为<code class="fe la lb lc ld b">npx lint-staged</code></p><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nb"><img src="../Images/35d91583d9858db40ab04f8a16bb9c49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*D8otEgRS2cXB-lzgvXOG0A.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">更新的预提交文件</figcaption></figure><p id="1503" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">4.安装lint-暂存</p><pre class="mn mo mp mq gt mr ld ms mt aw mu bi"><span id="c6c0" class="mv mw iq ld b gy mx my l mz na">npm i --save-dev lint-staged</span></pre><p id="98df" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">为什么是lint-staged？？</p><blockquote class="nc nd ne"><p id="e62a" class="kc kd nf ke b kf kg kh ki kj kk kl km ng ko kp kq nh ks kt ku ni kw kx ky kz ij bi translated">在提交代码之前运行林挺更有意义。通过这样做，您可以确保没有错误进入存储库，并加强代码风格。但是对整个项目运行lint过程是缓慢的，并且林挺结果可能是不相关的。最终，您只想lint将要提交的文件。</p></blockquote><p id="ecd1" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">当林挺文件出错时，lint-staged将停止git提交</p><p id="ac47" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">5.更新<code class="fe la lb lc ld b">package.json</code></p><pre class="mn mo mp mq gt mr ld ms mt aw mu bi"><span id="a72f" class="mv mw iq ld b gy mx my l mz na">// package.json<br/>{<br/>  "scripts": {<br/>    "lint": "eslint --fix --ext .ts,.tsx ./src"</span><span id="c7c6" class="mv mw iq ld b gy nj my l mz na">  },</span><span id="2126" class="mv mw iq ld b gy nj my l mz na">  "lint-staged": {<br/>    "**/*.{js,jsx,ts,tsx}": [<br/>      "npm run lint"<br/>    ]<br/>}</span></pre><p id="6589" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">将这几行添加到您的<code class="fe la lb lc ld b">package.json</code>中。它告诉<code class="fe la lb lc ld b">lint-staged</code>应该对特定文件运行什么命令。</p><p id="4bd2" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">6.测试</p><pre class="mn mo mp mq gt mr ld ms mt aw mu bi"><span id="608e" class="mv mw iq ld b gy mx my l mz na">git init<br/>git add .<br/>git commit -m "add lint-staged &amp; husky"</span></pre><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/3551b7bfaec74e9392a267179226ad60.png" data-original-src="https://miro.medium.com/v2/resize:fit:980/format:webp/1*VD1MapXVkAM00h_2pnUAcQ.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">lint阶段的成功</figcaption></figure><p id="0731" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果您在lint-staged失败，<strong class="ke ir">不会提交任何东西</strong>，您应该使用<code class="fe la lb lc ld b">ESLint</code>检查您的文件</p><p id="a0ff" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">缺少Lint脚本？？？试着按照这个教程来设置你的eslint！！！</p><div class="lm ln gp gr lo lp"><a href="https://medium.com/@steveleung9527/full-guide-add-eslint-to-react-typescript-project-406618192b9" rel="noopener follow" target="_blank"><div class="lq ab fo"><div class="lr ab ls cl cj lt"><h2 class="bd ir gy z fp lu fr fs lv fu fw ip bi translated">完整指南:将Eslint添加到React TypeScript项目</h2><div class="lw l"><h3 class="bd b gy z fp lu fr fs lv fu fw dk translated">这将是帮助您从零开始使用React应用程序的完整指南，包括以下内容:</h3></div><div class="lx l"><p class="bd b dl z fp lu fr fs lv fu fw dk translated">medium.com</p></div></div><div class="ly l"><div class="lz l ma mb mc ly md jw lp"/></div></div></a></div></div><div class="ab cl le lf hu lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ij ik il im in"><p id="12c7" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">下次将设置<code class="fe la lb lc ld b">Jest</code>，并更新我们的<code class="fe la lb lc ld b">webpack </code>文件用于生产！！</p><p id="7fb8" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">请为我鼓掌，如果你发现这篇文章有用，请跟我来。</p></div></div>    
</body>
</html>