<html>
<head>
<title>Sync Your Medium Post Revenue Data Into a Notion Database</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将您的媒体发布收入数据同步到概念数据库中</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/sync-your-medium-post-revenue-data-into-notion-database-9619bf8c644c?source=collection_archive---------9-----------------------#2021-09-30">https://levelup.gitconnected.com/sync-your-medium-post-revenue-data-into-notion-database-9619bf8c644c?source=collection_archive---------9-----------------------#2021-09-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e2a3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">同步后收入数据从媒体到概念数据库真的对每个作家都很有帮助</h2></div><p id="1f2a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae le" href="https://medium.com/" rel="noopener"> <strong class="kk iu">中</strong> </a>和<a class="ae le" href="https://www.notion.so/" rel="noopener ugc nofollow" target="_blank"> <strong class="kk iu">观念</strong> </a>是高效作家的两个绝佳平台。前者是一个流行的在线发布平台。而另一个是流行的笔记工具。它还提供数据库、维基、日历和提醒。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/971162a0b8c6041dbe055610fb2323f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0xBYFuVuR6SorjFgVD6y7w.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">中等邮政收入数据</figcaption></figure><p id="5c47" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">作为一个媒介写作者，你想知道以下几个问题吗？</p><ul class=""><li id="6425" class="lv lw it kk b kl km ko kp kr lx kv ly kz lz ld ma mb mc md bi translated">昨天哪个帖子贡献的收入最多？</li><li id="7931" class="lv lw it kk b kl me ko mf kr mg kv mh kz mi ld ma mb mc md bi translated">一生中哪个岗位贡献的收入最多？</li><li id="98ed" class="lv lw it kk b kl me ko mf kr mg kv mh kz mi ld ma mb mc md bi translated">哪个帖子收到的阅读量最多？</li><li id="72d1" class="lv lw it kk b kl me ko mf kr mg kv mh kz mi ld ma mb mc md bi translated">你一共发了多少帖子？</li><li id="fce5" class="lv lw it kk b kl me ko mf kr mg kv mh kz mi ld ma mb mc md bi translated">总字数和总阅读时间是多少？</li></ul><p id="720e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你对以上问题感兴趣，这篇文章就是为你准备的！我将给出一步一步的程序来建立一个工具，从媒体到概念做数据同步</p><p id="e88c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在开始之前，让我们看一下最终的概念数据库结果。</p><h1 id="30b7" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">概念的最终结果</h1><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nb"><img src="../Images/cbec1bf7384d9d2f9fcee0574297a4c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tPcpV_1yQRfcRDUFrn-HXw.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">中等发布状态数据</figcaption></figure><p id="dcf1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这个概念数据库中，我们有一些收入数据列，这些数据有30天、60天、90天，甚至是最后一天。我们还有其他有用的指标，如字数、总浏览量和阅读时间。</p><p id="a487" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这个数据库的帮助下，我们可以很容易地回答上述问题。</p><p id="86cf" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，让我们开始建造它吧！</p></div><div class="ab cl nc nd hx ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="im in io ip iq"><h2 id="0cbb" class="nj mk it bd ml nk nl dn mp nm nn dp mt kr no np mv kv nq nr mx kz ns nt mz nu bi translated">步骤1:创建一个概念集成令牌</h2><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nv"><img src="../Images/8b2b1993659ce2e1e6e24fdb0bfa7270.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8J3Q73RCr43dw8XOdRb1bw.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">概念集成页面</figcaption></figure><ul class=""><li id="47aa" class="lv lw it kk b kl km ko kp kr lx kv ly kz lz ld ma mb mc md bi translated">转到<a class="ae le" href="https://www.notion.com/my-integrations" rel="noopener ugc nofollow" target="_blank">https://www.notion.com/my-integrations</a>。</li><li id="3db6" class="lv lw it kk b kl me ko mf kr mg kv mh kz mi ld ma mb mc md bi translated">点击“<strong class="kk iu">+新整合</strong>”按钮。</li><li id="2a45" class="lv lw it kk b kl me ko mf kr mg kv mh kz mi ld ma mb mc md bi translated">给你的集成起个名字——我选择了“<em class="nw">中等同步集成</em>”。</li><li id="6b1c" class="lv lw it kk b kl me ko mf kr mg kv mh kz mi ld ma mb mc md bi translated">选择要安装此集成的工作区。</li><li id="f5ad" class="lv lw it kk b kl me ko mf kr mg kv mh kz mi ld ma mb mc md bi translated">点击<strong class="kk iu">提交</strong>创建集成。</li><li id="c2df" class="lv lw it kk b kl me ko mf kr mg kv mh kz mi ld ma mb mc md bi translated">复制下一页的“<strong class="kk iu">内部集成令牌</strong>”并保存以备将来使用。</li></ul><h2 id="3e08" class="nj mk it bd ml nk nl dn mp nm nn dp mt kr no np mv kv nq nr mx kz ns nt mz nu bi translated">步骤2:创建一个概念数据库</h2><ul class=""><li id="422f" class="lv lw it kk b kl nx ko ny kr nz kv oa kz ob ld ma mb mc md bi translated">去你的观念工作区:<a class="ae le" href="https://www.notion.com" rel="noopener ugc nofollow" target="_blank">https://www.notion.com</a></li><li id="7761" class="lv lw it kk b kl me ko mf kr mg kv mh kz mi ld ma mb mc md bi translated">从新页面开始，通过键入<code class="fe oc od oe of b">/table</code>并选择一个整页表来插入一个新数据库。</li><li id="4cac" class="lv lw it kk b kl me ko mf kr mg kv mh kz mi ld ma mb mc md bi translated">给它一个标题——我选择“<em class="nw">中等岗位状态</em>”。</li><li id="f09a" class="lv lw it kk b kl me ko mf kr mg kv mh kz mi ld ma mb mc md bi translated">删除旧的列/属性，并插入新的列/属性，如下所示</li></ul><pre class="lg lh li lj gt og of oh oi aw oj bi"><span id="83d2" class="nj mk it of b gy ok ol l om on">|  Properties     |              Description            |<br/>|-----------------| ------------------------------------|<br/>|  Title          |    title of a medium post           |<br/>|  Total View     |    total view of a medium post      |  <br/>|  Total Earning  |    total lifetime earning           |                      <br/>|  Earning 1d     |    earning of the past 1 day        |                         <br/>|  Earning 30d    |    earning of the past 30 days      |<br/>|  Earning 60d    |    earning of the past 60 days      |<br/>|  Earning 90d    |    earning of the past 90 days      |<br/>|  Word Count     |    how many words                   |<br/>|  Reading Time   |    how many minutes to read         |</span></pre><ul class=""><li id="aa06" class="lv lw it kk b kl km ko kp kr lx kv ly kz lz ld ma mb mc md bi translated">从地址栏的链接中提取数据库id。格式看起来像是“https://www . opinion . com/{ {<em class="nw">database _ id</em>} }？…."，保存它以备将来使用。</li></ul><h2 id="d5f0" class="nj mk it bd ml nk nl dn mp nm nn dp mt kr no np mv kv nq nr mx kz ns nt mz nu bi translated">步骤3:共享概念数据库</h2><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi oo"><img src="../Images/7b1dca365b0ca7a57cf7a15768a007c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fJVA8lLMhZI65E4XsSrhBw.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">与您的集成令牌共享概念数据库</figcaption></figure><p id="4307" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">点击<code class="fe oc od oe of b">Share</code>按钮，使用选择器通过名称找到您的集成，然后点击<code class="fe oc od oe of b">Invite</code></p><h2 id="8ad1" class="nj mk it bd ml nk nl dn mp nm nn dp mt kr no np mv kv nq nr mx kz ns nt mz nu bi translated">步骤4:获取中型登录Cookie</h2><ul class=""><li id="6662" class="lv lw it kk b kl nx ko ny kr nz kv oa kz ob ld ma mb mc md bi translated">转到https://medium.com/me/partner/dashboard<a class="ae le" href="https://medium.com/me/partner/dashboard" rel="noopener">页面</a></li><li id="cc0e" class="lv lw it kk b kl me ko mf kr mg kv mh kz mi ld ma mb mc md bi translated">点击列表中任一帖子的<strong class="kk iu">查看统计</strong></li><li id="ce57" class="lv lw it kk b kl me ko mf kr mg kv mh kz mi ld ma mb mc md bi translated">右击空白区域，点击“<strong class="kk iu">检查</strong></li><li id="bf5e" class="lv lw it kk b kl me ko mf kr mg kv mh kz mi ld ma mb mc md bi translated">如图，选择“<strong class="kk iu">网络页签</strong>”，按“<strong class="kk iu"> graphql </strong>”关键字过滤，选择“<strong class="kk iu"> fetch/xhr </strong>”按钮</li></ul><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi op"><img src="../Images/aed04b5ff1b20e8ef3a3748498e7c0af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mod2OYpNKGkSdQx7TXiQjQ.jpeg"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">获取中等cookie数据</figcaption></figure><ul class=""><li id="7503" class="lv lw it kk b kl km ko kp kr lx kv ly kz lz ld ma mb mc md bi translated">通过键盘快捷键<strong class="kk iu">命令+R </strong>刷新页面</li><li id="b3c5" class="lv lw it kk b kl me ko mf kr mg kv mh kz mi ld ma mb mc md bi translated">现在，登录cookie数据如下所示，让我们复制它以供将来使用</li></ul><h2 id="700c" class="nj mk it bd ml nk nl dn mp nm nn dp mt kr no np mv kv nq nr mx kz ns nt mz nu bi translated">步骤5:运行代码</h2><p id="193f" class="pw-post-body-paragraph ki kj it kk b kl nx ju kn ko ny jx kq kr oq kt ku kv or kx ky kz os lb lc ld im bi translated">我们有以下两个脚本。</p><ul class=""><li id="d152" class="lv lw it kk b kl km ko kp kr lx kv ly kz lz ld ma mb mc md bi translated">为了从介质中获取post数据并进行一些计算，下面是<a class="ae le" href="https://gist.github.com/jerryan999/b595049841e1c16ea6671bf647ffb9a8" rel="noopener ugc nofollow" target="_blank">代码</a></li><li id="22fb" class="lv lw it kk b kl me ko mf kr mg kv mh kz mi ld ma mb mc md bi translated">为了将数据和计算出的指标同步到概念数据库中，下面是代码<a class="ae le" href="https://gist.github.com/jerryan999/94f40c3c61cf0fb04933a8790ae3b433" rel="noopener ugc nofollow" target="_blank">和</a></li></ul><p id="c963" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">请注意，在运行之前应该提供以下三个变量值。</p><pre class="lg lh li lj gt og of oh oi aw oj bi"><span id="fc8b" class="nj mk it of b gy ok ol l om on">NOTION_TOKEN = "YOUR KEY" <br/>DATABASE_ID_MEADIUM_STATS = "YOURE DATABASE ID"<br/>MEDIUM_COOKIES = "YOUR COOKIES"</span></pre><p id="f01a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在我们可以每天在电脑上运行上述代码。但是最好的解决方案是部署在服务器上，并安排它们定期运行。也许我会再发一个帖子来展示如何去做。</p></div><div class="ab cl nc nd hx ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="im in io ip iq"><p id="19c2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你对以上内容感兴趣，请给一些意见，我很乐意给更多的解释。</p></div></div>    
</body>
</html>