<html>
<head>
<title>7 Different Ways to Merge Dictionaries in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python合并字典的7种不同方法</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/7-different-ways-to-merge-dictionaries-in-python-30148bf27add?source=collection_archive---------8-----------------------#2020-09-14">https://levelup.gitconnected.com/7-different-ways-to-merge-dictionaries-in-python-30148bf27add?source=collection_archive---------8-----------------------#2020-09-14</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="3859" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">Python中合并字典的不同方式</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/53d0c7dbf0a20cab164a09571868d02e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LJykXETwZ4sfMCkEuBjmrQ.jpeg"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">照片由<a class="ae kz" href="https://www.pexels.com/@bongkarn-thanyakij-683719?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> bongkarn thanyakij </a>从<a class="ae kz" href="https://www.pexels.com/photo/person-holding-white-jigsaw-puzzle-piece-3740403/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>拍摄</figcaption></figure><h1 id="f1c6" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">合并Python字典</h1><p id="172b" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">在python中，我们可以使用不同的方法合并两个字典。让我们在这篇文章中了解一下这一点。</p><p id="1f23" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">关于<a class="ae kz" href="https://medium.com/analytics-vidhya/an-introduction-to-python-dictionary-520302924ef8" rel="noopener"> Python字典，参考我的文章。</a></p><h1 id="672e" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">两本词典合并的不同方法</h1><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj mt"><img src="../Images/9ebcc6786343fb1a01a085529e42b407.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*KQ6-ge3-eYh-H_U_.png"/></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">图片来源:作者</figcaption></figure><h1 id="7f9e" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">1.字典更新()</h1><p id="40e4" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated"><code class="fe mu mv mw mx b"><strong class="lu iv">update</strong>([<em class="my">other</em>])</code></p><blockquote class="mz na nb"><p id="cc08" class="ls lt my lu b lv mo jv lx ly mp jy ma nc mq md me nd mr mh mi ne ms ml mm mn in bi translated">用来自<em class="iu"> other </em>的键/值对更新字典，覆盖现有的键。返回<code class="fe mu mv mw mx b">None</code>。— <a class="ae kz" href="https://docs.python.org/3/library/stdtypes.html#dict.update" rel="noopener ugc nofollow" target="_blank"> python文档</a></p></blockquote><p id="5c77" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><strong class="lu iv">示例1:使用update()方法合并具有唯一关键字的两个字典d1、d2。</strong></p><p id="e8aa" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><code class="fe mu mv mw mx b">d1.update(d2)</code></p><p id="a9f8" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">用d1和d2中的键值对更新d1字典。</p><p id="9c36" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">返回类型为<code class="fe mu mv mw mx b">None</code>。它将更新原来的字典<code class="fe mu mv mw mx b">d1</code>。</p><pre class="kk kl km kn gu nf mx ng nh aw ni bi"><span id="cbda" class="nj lb iu mx b gz nk nl l nm nn">d1={<strong class="mx iv">'a'</strong>:1,<strong class="mx iv">'b'</strong>:2}<br/>d2={<strong class="mx iv">'c'</strong>:3,<strong class="mx iv">'d'</strong>:4}<br/>d1.update(d2)<br/>print (d1)<br/><em class="my">#Output:{'a': 1, 'b': 2, 'c': 3, 'd': 4}</em></span></pre><p id="a19c" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><strong class="lu iv">示例2:使用</strong> <code class="fe mu mv mw mx b"><strong class="lu iv"> update()</strong></code> <strong class="lu iv">方法合并具有不同值的公共关键字的两个字典。</strong></p><p id="f519" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><code class="fe mu mv mw mx b">d1.update(d2)</code> <br/>用d1和d2的键值对更新d1字典。d1和d2中常见的键将包含d2中的值。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj no"><img src="../Images/c4d82c0af2613afe2b35c82fed800818.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YV1zI8Ste-oqSJ0U"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">图片来源:作者</figcaption></figure><pre class="kk kl km kn gu nf mx ng nh aw ni bi"><span id="4373" class="nj lb iu mx b gz nk nl l nm nn">d1={<strong class="mx iv">'a'</strong>:1,<strong class="mx iv">'b'</strong>:2}<br/>d2={<strong class="mx iv">'a'</strong>:99,<strong class="mx iv">'c'</strong>:3,<strong class="mx iv">'d'</strong>:4}<br/>d1.update(d2)<br/>print (d1)<br/><em class="my">#Output:{'a': 99, 'b': 2, 'c': 3, 'd': 4}</em></span></pre><p id="d9fb" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><code class="fe mu mv mw mx b">d2.update(d1)</code></p><p id="afe8" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">用d1和d2中的键值对更新d2字典。d1和d2中常见的键将包含d1中的值。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj no"><img src="../Images/c4d82c0af2613afe2b35c82fed800818.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YV1zI8Ste-oqSJ0U"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">图片来源:作者</figcaption></figure><pre class="kk kl km kn gu nf mx ng nh aw ni bi"><span id="2834" class="nj lb iu mx b gz nk nl l nm nn">d1={<strong class="mx iv">'a'</strong>:1,<strong class="mx iv">'b'</strong>:2}<br/>d2={<strong class="mx iv">'a'</strong>:99,<strong class="mx iv">'c'</strong>:3,<strong class="mx iv">'d'</strong>:4}<br/>d2.update(d1)<br/>print (d2)<br/><em class="my">#Output:{'a': 1, 'c': 3, 'd': 4, 'b': 2}</em></span></pre><p id="c41f" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">返回类型为None。它只更新原始字典(d2)。</p><pre class="kk kl km kn gu nf mx ng nh aw ni bi"><span id="13cf" class="nj lb iu mx b gz nk nl l nm nn">d1={<strong class="mx iv">'a'</strong>:1,<strong class="mx iv">'b'</strong>:2}<br/>d2={<strong class="mx iv">'a'</strong>:99,<strong class="mx iv">'c'</strong>:3,<strong class="mx iv">'d'</strong>:4}<br/>print (d2.update(d1))<br/><em class="my">#Output:None</em></span></pre><h1 id="ded1" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">2.使用deepcopy()和dict.update()</h1><p id="ef04" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">如果我们不想更新原始字典的意思，我们可以创建字典的副本并更新它。</p><p id="67bb" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">要合并两个字典d1和d2，将<code class="fe mu mv mw mx b">deepcopy(d1)</code>创建为<code class="fe mu mv mw mx b">d</code>，然后执行<code class="fe mu mv mw mx b">update</code>方法。这样，原来的字典就不会被修改。</p><p id="7e1b" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><code class="fe mu mv mw mx b">d=deepcopy(d1)<br/>d.update(d2)</code></p><p id="df1b" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">deepcopy参考<a class="ae kz" href="https://medium.com/analytics-vidhya/shallow-copy-vs-deep-copy-vs-assignment-in-python-921d7e413a3a" rel="noopener">我的故事。</a></p><pre class="kk kl km kn gu nf mx ng nh aw ni bi"><span id="4252" class="nj lb iu mx b gz nk nl l nm nn"><strong class="mx iv">from </strong>copy <strong class="mx iv">import </strong>deepcopy<br/>d1={<strong class="mx iv">'a'</strong>:1,<strong class="mx iv">'b'</strong>:2,<strong class="mx iv">'c'</strong>:3}<br/>d2={<strong class="mx iv">'a'</strong>:99,<strong class="mx iv">'d'</strong>:4}<br/>d=deepcopy(d1)<br/>d.update(d2)<br/>print (d)<br/><em class="my">#Output:{'a': 99, 'b': 2, 'c': 3, 'd': 4}</em></span></pre></div><div class="ab cl np nq hy nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="in io ip iq ir"><h1 id="2d75" class="la lb iu bd lc ld nw lf lg lh nx lj lk ka ny kb lm kd nz ke lo kg oa kh lq lr bi translated">3.{**d1，**d2}</h1><p id="db44" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated"><code class="fe mu mv mw mx b">d3={**d1,**d2}</code></p><p id="0524" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><em class="my">双星号</em> <code class="fe mu mv mw mx b"><em class="my">**</em></code> <em class="my">表示字典解包。它的操作数必须是映射。每个映射项都被添加到新字典中。较晚的值替换由较早的密钥对和较早的字典解包已经设置的值。- </em> <a class="ae kz" href="https://docs.python.org/3/reference/expressions.html#dictionary-displays" rel="noopener ugc nofollow" target="_blank"> <em class="my"> python文档</em> </a></p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj no"><img src="../Images/c4d82c0af2613afe2b35c82fed800818.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YV1zI8Ste-oqSJ0U"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">图片来源:作者</figcaption></figure><p id="5efe" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><strong class="lu iv">使用**kwargs合并两个具有唯一键的字典</strong></p><p id="3513" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><code class="fe mu mv mw mx b">d3={**d1,**d2}</code></p><p id="d6d8" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">它将把字典d1和d2的内容扩展为键值对的集合，并更新字典d3。</p><pre class="kk kl km kn gu nf mx ng nh aw ni bi"><span id="f49c" class="nj lb iu mx b gz nk nl l nm nn">d1={<strong class="mx iv">'a'</strong>:1,<strong class="mx iv">'b'</strong>:2}<br/>d2={<strong class="mx iv">'c'</strong>:3,<strong class="mx iv">'d'</strong>:4}<br/>d3={**d1,**d2}<br/>print (d3)<br/><em class="my">#Output:{'a': 1, 'b': 2, 'c': 3, 'd': 4}</em></span></pre><p id="2811" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><strong class="lu iv">使用**kwargs合并具有公共关键字的两个字典</strong></p><p id="7678" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><code class="fe mu mv mw mx b">d3={**d1,**d2}</code></p><p id="463a" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">它将把字典d1和d2的内容扩展为键值对的集合，并更新字典d3。d1和d2中常见的键将包含d2中的值。</p><p id="d794" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">如果<code class="fe mu mv mw mx b">d3={**d2,**d1}</code>-d1和d2中共同的键将包含D1中的值。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj no"><img src="../Images/c4d82c0af2613afe2b35c82fed800818.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YV1zI8Ste-oqSJ0U"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">图片来源:作者</figcaption></figure><pre class="kk kl km kn gu nf mx ng nh aw ni bi"><span id="a24c" class="nj lb iu mx b gz nk nl l nm nn">d1={<strong class="mx iv">'a'</strong>:1,<strong class="mx iv">'b'</strong>:2}<br/>d2={<strong class="mx iv">'a'</strong>:99,<strong class="mx iv">'c'</strong>:3,<strong class="mx iv">'d'</strong>:4}<br/>d3={**d1,**d2}<br/>print (d3)<br/><em class="my">#Output:{'a': 99, 'b': 2, 'c': 3, 'd': 4}</em></span></pre><p id="4dd6" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><strong class="lu iv">使用**kwargs合并两个以上的字典</strong></p><p id="fe7f" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><code class="fe mu mv mw mx b">d4={**d1,**d2,**d3}</code></p><p id="63cc" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">它将把字典d1、d2、d3的内容扩展为键-值对的集合，并更新字典d4。</p><p id="0a0f" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">d1和d2中常见的键将包含d2中的值。<br/>D1和d3共有的关键字将包含d3的值。<br/>D1、d2和d3共有的键将包含d3的值。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj no"><img src="../Images/c4d82c0af2613afe2b35c82fed800818.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YV1zI8Ste-oqSJ0U"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">图片来源:作者</figcaption></figure><pre class="kk kl km kn gu nf mx ng nh aw ni bi"><span id="64ec" class="nj lb iu mx b gz nk nl l nm nn">d1={<strong class="mx iv">'a'</strong>:1,<strong class="mx iv">'b'</strong>:2}<br/>d2={<strong class="mx iv">'a'</strong>:99,<strong class="mx iv">'d'</strong>:4}<br/>d3={<strong class="mx iv">'c'</strong>:3,<strong class="mx iv">'b'</strong>:77}<br/>d4={**d1,**d2,**d3}<br/>print (d4)<br/><em class="my">#Output:{'a': 99, 'b': 77, 'd': 4, 'c': 3}</em></span></pre></div><div class="ab cl np nq hy nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="in io ip iq ir"><h1 id="38bd" class="la lb iu bd lc ld nw lf lg lh nx lj lk ka ny kb lm kd nz ke lo kg oa kh lq lr bi translated">4.字典(d1，**d2)</h1><p id="4010" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">d3 =字典(d1，**d2)</p><p id="0311" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">d3将包含来自d1和d2的键值对。d1和d2中常见的键将包含d2中的值。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj no"><img src="../Images/c4d82c0af2613afe2b35c82fed800818.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YV1zI8Ste-oqSJ0U"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">图片来源:作者</figcaption></figure><pre class="kk kl km kn gu nf mx ng nh aw ni bi"><span id="5724" class="nj lb iu mx b gz nk nl l nm nn">d1={<strong class="mx iv">'a'</strong>:1,<strong class="mx iv">'b'</strong>:2}<br/>d2={<strong class="mx iv">'a'</strong>:99,<strong class="mx iv">'c'</strong>:3}<br/>d3=dict(d1,**d2)<br/>print (d3)<br/><em class="my">#Output:{'a': 99, 'b': 2, 'c': 3}</em></span></pre><p id="820b" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">d3=dict(d1，* * d2)——这只有在D2完全由<strong class="lu iv">字符串键控</strong>时才有效。</p><p id="ccc9" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">如果<code class="fe mu mv mw mx b"><strong class="lu iv">int</strong></code>作为d2中的一个键给定，将会升高<code class="fe mu mv mw mx b"><strong class="lu iv">TypeError</strong></code>。</p><pre class="kk kl km kn gu nf mx ng nh aw ni bi"><span id="d4dd" class="nj lb iu mx b gz nk nl l nm nn">d1={<strong class="mx iv">'a'</strong>:1,<strong class="mx iv">'b'</strong>:2}<br/>d2={<strong class="mx iv">'a'</strong>:99,1:3}<br/>d3=dict(d1,**d2)<br/>print (d3)<br/><em class="my">#Output:TypeError: keywords must be strings</em></span></pre><p id="87f6" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">d1不必是字符串键控的。给定<code class="fe mu mv mw mx b"> int</code>作为d1的键。</p><pre class="kk kl km kn gu nf mx ng nh aw ni bi"><span id="4067" class="nj lb iu mx b gz nk nl l nm nn">d1={<strong class="mx iv">'a'</strong>:1,1:2}<br/>d2={<strong class="mx iv">'a'</strong>:99,<strong class="mx iv">'c'</strong>:3}<br/>d3=dict(d1,**d2)<br/>print (d3)<br/><em class="my">#Output:{'a': 99, 1: 2, 'c': 3}</em></span></pre></div><div class="ab cl np nq hy nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="in io ip iq ir"><h1 id="2d82" class="la lb iu bd lc ld nw lf lg lh nx lj lk ka ny kb lm kd nz ke lo kg oa kh lq lr bi translated">5.收藏。链式地图</h1><blockquote class="mz na nb"><p id="7d82" class="ls lt my lu b lv mo jv lx ly mp jy ma nc mq md me nd mr mh mi ne ms ml mm mn in bi translated"><strong class="lu iv"> ChainMap: </strong> <br/>一个ChainMap组的多个字典或其他映射一起创建一个单一的、可更新的视图。— <a class="ae kz" href="https://docs.python.org/3/library/collections.html#collections.ChainMap" rel="noopener ugc nofollow" target="_blank"> python文档</a></p></blockquote><p id="2858" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><code class="fe mu mv mw mx b">collections.ChainMap(*maps)</code></p><p id="5cf5" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">返回类型是<strong class="lu iv">collections . chain map .<br/></strong>我们可以使用<strong class="lu iv"> dict() </strong>构造函数转换成dict。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ob"><img src="../Images/fac9f74147e84e35bde8bbeb567e7b5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gUisZfZZZhsykVic"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">图片来源:作者</figcaption></figure><pre class="kk kl km kn gu nf mx ng nh aw ni bi"><span id="a3e0" class="nj lb iu mx b gz nk nl l nm nn">d3=ChainMap(d1,d2)</span></pre><p id="e5dc" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">d1和d2中常见的键将具有来自d1的值(第一次看到的值)</p><p id="d88c" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><strong class="lu iv">使用collections.ChainMap合并两个具有唯一关键字的字典</strong></p><pre class="kk kl km kn gu nf mx ng nh aw ni bi"><span id="c9d7" class="nj lb iu mx b gz nk nl l nm nn"><strong class="mx iv">from </strong>collections <strong class="mx iv">import </strong>ChainMap<br/>d1={<strong class="mx iv">'a'</strong>:1,<strong class="mx iv">'b'</strong>:2}<br/>d2={<strong class="mx iv">'c'</strong>:3,<strong class="mx iv">'d'</strong>:4}<br/>d3=ChainMap(d1,d2)<br/>print (d3)<br/><em class="my">#Output:ChainMap({'a': 1, 'b': 2}, {'c': 3, 'd': 4})<br/></em>print (dict(d3))<br/><em class="my">#Output:{'c': 3, 'd': 4, 'a': 1, 'b': 2}</em></span></pre><p id="13b1" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><strong class="lu iv">合并具有相同关键字的两个字典。d1和d2中的公共键将只包含d1中的值(第一次看到的值)</strong></p><pre class="kk kl km kn gu nf mx ng nh aw ni bi"><span id="dbe1" class="nj lb iu mx b gz nk nl l nm nn"><strong class="mx iv">from </strong>collections <strong class="mx iv">import </strong>ChainMap<br/>d1={<strong class="mx iv">'a'</strong>:1,<strong class="mx iv">'b'</strong>:2}<br/>d2={<strong class="mx iv">'c'</strong>:3,<strong class="mx iv">'d'</strong>:4,<strong class="mx iv">'a'</strong>:99}<br/>d3=ChainMap(d1,d2)<br/>print (d3)<br/><em class="my">#Output:ChainMap({'a': 1, 'b': 2}, {'c': 3, 'd': 4, 'a': 99})<br/></em>print (dict(d3))<br/><em class="my">#Output:{'c': 3, 'd': 4, 'a': 1, 'b': 2}</em></span></pre></div><div class="ab cl np nq hy nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="in io ip iq ir"><h1 id="9811" class="la lb iu bd lc ld nw lf lg lh nx lj lk ka ny kb lm kd nz ke lo kg oa kh lq lr bi translated">6.itertools.chain():</h1><blockquote class="mz na nb"><p id="cbe4" class="ls lt my lu b lv mo jv lx ly mp jy ma nc mq md me nd mr mh mi ne ms ml mm mn in bi translated">创建一个迭代器，从第一个iterable开始返回一个元素，直到元素用尽，然后继续下一个iterable。它会将连续的序列视为单个序列。- <a class="ae kz" href="https://docs.python.org/3/library/itertools.html#itertools.chain" rel="noopener ugc nofollow" target="_blank">巨蟒</a> <strong class="lu iv"> <br/> </strong> <code class="fe mu mv mw mx b">itertools.chain(*iterables)</code></p></blockquote><p id="96bc" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">Dictionary也是可迭代的，所以我们可以使用itertools.chain()合并两个字典。返回类型将是<em class="my"> itertools.chain对象。</em>我们可以使用<strong class="lu iv"> dict() </strong>构造函数转换成dict。</p><p id="982a" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><strong class="lu iv">使用itertools.chain() </strong>合并两个具有唯一关键字的字典</p><pre class="kk kl km kn gu nf mx ng nh aw ni bi"><span id="52c7" class="nj lb iu mx b gz nk nl l nm nn"><strong class="mx iv">import </strong>itertools<br/>d1={<strong class="mx iv">'a'</strong>:1,<strong class="mx iv">'b'</strong>:2}<br/>d2={<strong class="mx iv">'c'</strong>:3,<strong class="mx iv">'d'</strong>:4}<br/>num1=itertools.chain(d1.items(),d2.items())<br/><em class="my">#Returns an iterator object</em><br/>print (num1)<br/>#Output:&lt;itertools.chain object at 0x029FE4D8&gt;<br/><em class="my">#converting iterator object to dict object</em><br/>print(dict(num1))<br/>#Output:{'a': 1, 'b': 2, 'c': 3, 'd': 4}</span></pre><p id="8377" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><strong class="lu iv">使用itertools.chain() </strong>合并具有公共关键字的两个字典</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj no"><img src="../Images/c4d82c0af2613afe2b35c82fed800818.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YV1zI8Ste-oqSJ0U"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">图片来源:作者</figcaption></figure><pre class="kk kl km kn gu nf mx ng nh aw ni bi"><span id="5e1d" class="nj lb iu mx b gz nk nl l nm nn"><strong class="mx iv">import </strong>itertools<br/>d1={<strong class="mx iv">'a'</strong>:1,<strong class="mx iv">'b'</strong>:2}<br/>d2={<strong class="mx iv">'a'</strong>:99,<strong class="mx iv">'d'</strong>:4}<br/>num1=itertools.chain(d1.items(),d2.items())<br/><em class="my">#Returns an iterator object<br/></em>print (num1)<br/><em class="my">#Output:&lt;itertools.chain object at 0x029FE4D8&gt;<br/>#converting iterator object to dict object<br/></em>print(dict(num1))<br/><em class="my">#Output:{'a': 99, 'b': 2, 'd': 4}</em></span></pre></div><div class="ab cl np nq hy nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="in io ip iq ir"><h1 id="384a" class="la lb iu bd lc ld nw lf lg lh nx lj lk ka ny kb lm kd nz ke lo kg oa kh lq lr bi translated">7.词典理解</h1><p id="3795" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">我们可以使用字典理解合并两本字典。</p><p id="9436" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">参考我的<a class="ae kz" href="https://medium.com/analytics-vidhya/list-set-dictionary-comprehensions-in-python-8a0a7c06115e" rel="noopener">字典理解的故事</a>。</p><p id="db3f" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><strong class="lu iv">使用字典理解合并具有公共关键字的两个字典</strong></p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj no"><img src="../Images/c4d82c0af2613afe2b35c82fed800818.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YV1zI8Ste-oqSJ0U"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">图片来源:作者</figcaption></figure><pre class="kk kl km kn gu nf mx ng nh aw ni bi"><span id="cec0" class="nj lb iu mx b gz nk nl l nm nn">d1={<strong class="mx iv">'a'</strong>:1,<strong class="mx iv">'b'</strong>:2}<br/>d2={<strong class="mx iv">'c'</strong>:3,<strong class="mx iv">'d'</strong>:4,<strong class="mx iv">'a'</strong>:99}</span><span id="7491" class="nj lb iu mx b gz oc nl l nm nn">d3={k:v <strong class="mx iv">for </strong>d <strong class="mx iv">in </strong>(d1,d2) <strong class="mx iv">for </strong>k,v <strong class="mx iv">in </strong>d.items()}<br/>print (d3)<br/><em class="my">#Output:{'a': 99, 'b': 2, 'c': 3, 'd': 4}</em></span></pre><p id="ce67" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><strong class="lu iv">使用字典理解合并两个具有唯一关键字的字典</strong></p><pre class="kk kl km kn gu nf mx ng nh aw ni bi"><span id="fc37" class="nj lb iu mx b gz nk nl l nm nn">d1={<strong class="mx iv">'a'</strong>:1,<strong class="mx iv">'b'</strong>:2}<br/>d2={<strong class="mx iv">'c'</strong>:3,<strong class="mx iv">'d'</strong>:4}</span><span id="7a8a" class="nj lb iu mx b gz oc nl l nm nn">d3={k:v <strong class="mx iv">for </strong>d <strong class="mx iv">in </strong>(d1,d2) <strong class="mx iv">for </strong>k,v <strong class="mx iv">in </strong>d.items()}<br/>print (d3)<br/><em class="my">#Output:{'a': 1, 'b': 2, 'c': 3, 'd': 4}</em></span></pre></div><div class="ab cl np nq hy nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="in io ip iq ir"><h1 id="58a4" class="la lb iu bd lc ld nw lf lg lh nx lj lk ka ny kb lm kd nz ke lo kg oa kh lq lr bi translated">结论</h1><ul class=""><li id="db91" class="od oe iu lu b lv lw ly lz mb of mf og mj oh mn oi oj ok ol bi translated">所有示例中使用的Python版本:<strong class="lu iv"> Python 3.8.1 </strong></li><li id="5f58" class="od oe iu lu b lv om ly on mb oo mf op mj oq mn oi oj ok ol bi translated"><strong class="lu iv">D1 . update(D2)</strong>-返回类型为<code class="fe mu mv mw mx b">None</code>。它将更新原始字典本身(d1)。</li><li id="0863" class="od oe iu lu b lv om ly on mb oo mf op mj oq mn oi oj ok ol bi translated"><strong class="lu iv"> {**d1，**d2} </strong> —返回类型为<code class="fe mu mv mw mx b">dictionary</code>。</li><li id="40ca" class="od oe iu lu b lv om ly on mb oo mf op mj oq mn oi oj ok ol bi translated"><strong class="lu iv">收藏。链图</strong> -返回类型为<code class="fe mu mv mw mx b"><strong class="lu iv"> collections.ChainMap.</strong></code></li><li id="7f7c" class="od oe iu lu b lv om ly on mb oo mf op mj oq mn oi oj ok ol bi translated"><strong class="lu iv">ITER tools . chain()</strong>-返回类型为<code class="fe mu mv mw mx b"> itertools.chain object</code></li><li id="da11" class="od oe iu lu b lv om ly on mb oo mf op mj oq mn oi oj ok ol bi translated"><strong class="lu iv"> dict(d1，* * d2)</strong>-只有当D2完全由<strong class="lu iv">字符串键入</strong>时，这才会起作用。</li><li id="cf86" class="od oe iu lu b lv om ly on mb oo mf op mj oq mn oi oj ok ol bi translated"><strong class="lu iv">“上次显示的赢”</strong> —上次显示的值将覆盖现有的键。</li></ul><pre class="kk kl km kn gu nf mx ng nh aw ni bi"><span id="7208" class="nj lb iu mx b gz nk nl l nm nn"><strong class="mx iv">1. d1.update(d2)<br/>2. {**d1,**d2} <br/>3. dict(d1,**d2)<br/>4. itertool.chain()<br/>5. dictionary comprehension.</strong></span></pre><ul class=""><li id="bf65" class="od oe iu lu b lv mo ly mp mb or mf os mj ot mn oi oj ok ol bi translated"><strong class="lu iv">“第一次看到的获胜”</strong>而不是“最后一次看到的获胜”</li></ul><p id="9c06" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><code class="fe mu mv mw mx b"><strong class="lu iv">1. collections.ChainMap</strong></code></p></div><div class="ab cl np nq hy nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="in io ip iq ir"><h2 id="5070" class="nj lb iu bd lc ou ov dn lg ow ox dp lk mb oy oz lm mf pa pb lo mj pc pd lq pe bi translated">我的其他博客链接</h2><p id="29c2" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated"><a class="ae kz" href="https://medium.com/analytics-vidhya/merging-lists-in-python-4a386e4b2f21" rel="noopener">在Python中合并列表</a></p><p id="0744" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><a class="ae kz" href="https://medium.com/analytics-vidhya/list-set-dictionary-comprehensions-in-python-8a0a7c06115e" rel="noopener">Python中的列表、集合、字典理解</a></p></div><div class="ab cl np nq hy nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="in io ip iq ir"><h2 id="067d" class="nj lb iu bd lc ou ov dn lg ow ox dp lk mb oy oz lm mf pa pb lo mj pc pd lq pe bi translated">资源</h2><p id="9c9e" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated"><a class="ae kz" href="https://www.python.org/dev/peps/pep-0584/" rel="noopener ugc nofollow" target="_blank"> PEP-584 </a></p><p id="f1e6" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><a class="ae kz" href="https://www.python.org/dev/peps/pep-0448/" rel="noopener ugc nofollow" target="_blank"> PEP-448 </a></p><p id="8de1" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><a class="ae kz" href="https://docs.python.org/dev/reference/expressions.html#dictionary-displays" rel="noopener ugc nofollow" target="_blank">字典显示</a></p></div><div class="ab cl np nq hy nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="in io ip iq ir"><p id="f207" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><em class="my">关注此空间，获取更多关于Python和数据科学的文章。如果你喜欢看更多我的教程，就关注我的</em> <a class="ae kz" href="https://medium.com/@IndhumathyChelliah" rel="noopener"> <strong class="lu iv"> <em class="my">中</em> </strong> </a>，<a class="ae kz" href="https://www.linkedin.com/in/indhumathy-chelliah/" rel="noopener ugc nofollow" target="_blank"><strong class="lu iv"><em class="my">LinkedIn</em></strong></a><strong class="lu iv"><em class="my">，</em> </strong> <a class="ae kz" href="https://twitter.com/IndhuChelliah" rel="noopener ugc nofollow" target="_blank"> <strong class="lu iv"> <em class="my">推特</em> </strong> </a> <strong class="lu iv"> <em class="my">。</em> </strong></p><p id="8416" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">感谢阅读！</p></div></div>    
</body>
</html>