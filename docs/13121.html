<html>
<head>
<title>How to Create Callable Objects in Python: Python OOP Complete Course — Part 20</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Python中创建可调用对象:Python OOP完整教程—第20部分</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-create-callable-objects-in-python-python-oop-complete-course-part-20-15fe46e3e2c3?source=collection_archive---------4-----------------------#2022-08-09">https://levelup.gitconnected.com/how-to-create-callable-objects-in-python-python-oop-complete-course-part-20-15fe46e3e2c3?source=collection_archive---------4-----------------------#2022-08-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="57a2" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解如何在Python OOP中调用你的类对象。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a869ea94a46cb14a9f1d7490790e81bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X5VtDJiH8tIms96VUcQktA.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@arturorey" rel="noopener ugc nofollow" target="_blank"> Arturo Rey </a>在<a class="ae ky" href="https://unsplash.com/s/photos/callable-objects" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="3c81" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们开始之前，让我告诉你</p><ul class=""><li id="dd39" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">这篇文章是Python面向对象编程完整课程的一部分，你可以在这里找到它。</li><li id="738f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">所有资源都可以在下面的“资源”部分找到。</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h2 id="b044" class="mq mr it bd ms mt mu dn mv mw mx dp my li mz na nb lm nc nd ne lq nf ng nh ni bi translated">介绍</h2><p id="a714" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">你试过调用你的类对象吗？？</p><p id="bfe7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在编写Python代码时，通常可以调用预定义的函数和方法，但不能调用类对象。</p><p id="ce37" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">重要的是要知道在Python中你可以将你的对象转换成<strong class="lb iu">可调用的</strong>对象。要了解如何做到这一点，请继续阅读…</p><p id="465b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">目录</strong></p><ol class=""><li id="3992" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu no mb mc md bi translated"><a class="ae ky" href="#963f" rel="noopener ugc nofollow">什么是可调用对象？</a></li><li id="6835" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu no mb mc md bi translated"><a class="ae ky" href="#39b4" rel="noopener ugc nofollow">如何使对象可调用</a></li><li id="6c1c" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu no mb mc md bi translated"><a class="ae ky" href="#4b1c" rel="noopener ugc nofollow">如何覆盖</a> <code class="fe np nq nr ns b"><a class="ae ky" href="#4b1c" rel="noopener ugc nofollow">__call__</a></code> <a class="ae ky" href="#4b1c" rel="noopener ugc nofollow">方法？</a></li></ol><h2 id="963f" class="mq mr it bd ms mt mu dn mv mw mx dp my li mz na nb lm nc nd ne lq nf ng nh ni bi translated">1.什么是可调用对象？</h2><p id="fde8" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">它是可以像Python中任何其他传统函数一样调用的对象。</p><p id="adec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些对象最常见的一个用例是在<strong class="lb iu">深度学习</strong>库中(如<code class="fe np nq nr ns b">PyTorch</code>)，在这些库中可以调用数据转换类对象。<br/>在这种情况下，首先，你定义一个对象并通过所需的转换参数初始化它，然后你调用这个对象将实际的转换应用到数据本身。</p><h2 id="39b4" class="mq mr it bd ms mt mu dn mv mw mx dp my li mz na nb lm nc nd ne lq nf ng nh ni bi translated">2.如何使对象可调用</h2><p id="7be0" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">简单地说，你通过覆盖特殊方法<code class="fe np nq nr ns b">__call__()</code>使一个对象<strong class="lb iu">可调用</strong>。</p><p id="9f49" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe np nq nr ns b">__call__(self, arg1, .., argn, *args, **kwargs)</code>:这个方法和Python中的其他普通方法一样。它还可以接受位置参数和任意参数。当你在你的类中定义这个方法时，你实际上是在定义当你的类中的一个对象被调用时的行为。如果需要，这个方法<strong class="lb iu">返回</strong>一个值。</p><h2 id="4b1c" class="mq mr it bd ms mt mu dn mv mw mx dp my li mz na nb lm nc nd ne lq nf ng nh ni bi translated">3.如何重写__call__方法？</h2><p id="4c04" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">现在，让我们看一个真实的用例来理解<strong class="lb iu">可调用的</strong>对象。</p><p id="b5ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个例子的灵感来自于NLP的深度学习库。假设您想要定义一个<code class="fe np nq nr ns b">TextSlicing</code>类来帮助您从字符串中提取一些单词。在这个例子中，我假设这个类有两个实例属性:</p><ul class=""><li id="c169" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated"><code class="fe np nq nr ns b">world_ind</code>:也就是第一个字的位置。</li><li id="650f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><code class="fe np nq nr ns b">num_words</code>:你要返回的字数。</li></ul><p id="2afe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了使这些类对象可调用，我们必须覆盖<code class="fe np nq nr ns b">__call__()<strong class="lb iu"> </strong></code>方法。这个方法将决定这个类应该如何根据属性<code class="fe np nq nr ns b">word_ind</code>和<code class="fe np nq nr ns b">num_words</code>分割传递的文本。</p><p id="7f2b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的代码显示了类定义和两个具有不同参数的不同对象。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="3750" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出:</p><pre class="kj kk kl km gt nv ns nw nx aw ny bi"><span id="5e9a" class="mq mr it ns b gy nz oa l ob oc">['I', 'Live']<br/>['USA.', 'I']</span></pre><p id="e937" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如您所看到的，对象的行为取决于参数的值，这就是创建一个可调用对象的简单程度。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="c65c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们总结一下我们在这篇文章中学到了什么。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/dd42ce95c035cbd870dff4fd5c710c5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*TtWnDRI2rzj6cEGozDqvyA.jpeg"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://www.pexels.com/@ann-h-45017/" rel="noopener ugc nofollow" target="_blank">安H </a>在<a class="ae ky" href="https://www.pexels.com/" rel="noopener ugc nofollow" target="_blank">像素</a>上拍摄</figcaption></figure><ul class=""><li id="673f" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated"><strong class="lb iu">可调用对象:</strong>是Python中可以像其他传统函数一样调用的对象。</li><li id="9dfa" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">您可以通过覆盖特殊方法<code class="fe np nq nr ns b">__call__()</code>来使您的类的对象<strong class="lb iu">可调用</strong>。</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="62e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="oe">附:</em> </strong>非常感谢您花时间阅读我的故事。在你离开之前，让我快速地提两点:</p><ul class=""><li id="c5f0" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">首先，要直接在您的收件箱中获得我的帖子，请在此处订阅<a class="ae ky" href="https://medium.com/@samersallam92/subscribe" rel="noopener"><strong class="lb iu"><em class="oe"/></strong></a>，您可以在此处关注我<em class="oe"/><a class="ae ky" href="https://medium.com/@samersallam92" rel="noopener"><strong class="lb iu"><em class="oe"/></strong></a>。</li><li id="78fc" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第二，作家在媒体上赚了几千美元。为了无限制地访问媒体故事并开始赚钱，<a class="ae ky" href="https://medium.com/@samersallam92/membership" rel="noopener"> <strong class="lb iu"> <em class="oe">现在就注册成为媒体会员</em> </strong> </a>，每月仅需5美元。通过此链接  报名<em class="oe"> </em> <a class="ae ky" href="https://medium.com/@samersallam92/membership" rel="noopener"> <strong class="lb iu"> <em class="oe">，可以直接支持我，不需要你额外付费。</em></strong></a></li></ul><div class="of og gp gr oh"><div role="button" tabindex="0" class="ab bv gv cb fp oi oj bn ok ks ex"><div class="ol l"><div class="ab q"><div class="l di"><img alt="Samer Sallam" class="l de bw om on fe" src="../Images/7d756fa3da76843e747e5ecde71b84d0.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*4O9o5xxtyHdOvuDDgqPDiQ.jpeg"/><div class="fb bw l om on fc n aw fd"/></div><div class="hh l fo"><p class="bd b dl z fp fq fr fs ft fu fv fw dk translated">萨梅尔·萨拉姆</p></div></div><div class="oq or gw l"><h2 class="bd iu ty lv fp tz fr fs ua fu fw is bi translated">Python面向对象编程的完整教程</h2></div><div class="ab q"><div class="l fo"><a class="bd b be z bi ub au uc ud ue qn uf an eh ei ug uh ui el em eo de bk ep" href="https://medium.com/@samersallam92/list/the-complete-course-in-objectoriented-programming-in-python-7b54126a7f4e?source=post_page-----15fe46e3e2c3--------------------------------" rel="noopener follow" target="_top">View list</a></div><div class="uj l fo"><span class="bd b dl z dk">24 stories</span></div></div></div><div class="pd dh pe fp ab pf fo di"><div class="di ov bv ow ox"><div class="dh l"><img alt="A magnifying glass with the Python logo and a set of objects and arrows connecting between them to indicate that everything in Python is an object" class="dh" src="../Images/ce97e46734c67f4f565df3877a88bd11.png" width="194" height="194" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*oEBVsGg3ZoemmQrO5XsEjg.png"/></div></div><div class="di ov bv oy oz pa"><div class="dh l"><img alt="A dummy image for better reading and navigation." class="dh" src="../Images/926249cc12e1f2c807e7711382599fb6.png" width="194" height="194" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*-3K07ESmZjOLyOJfQx79Og.jpeg"/></div></div><div class="di bv pb pc pa"><div class="dh l"><img alt="A dummy image for better reading and navigation." class="dh" src="../Images/2d5e5c2a38605b91a621b6b26d9ab546.png" width="194" height="194" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*v9F3xOiuKmEWZo37t0MuxQ.png"/></div></div></div></div></div></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="114f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要回到上一篇文章，您可以使用以下链接:</p><p id="5c16" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/how-to-create-a-custom-context-manager-in-python-oop-python-oop-complete-course-part-19-6f6647a97f5c">第19部分:如何在Python OOP中创建自定义上下文管理器</a></p><p id="557f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要阅读下一篇文章，您可以使用以下链接:</p><p id="71d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/special-methods-in-python-oop-conclusion-python-oop-complete-course-part-21-23eba4b18d3">第21部分:Python OOP中的特殊方法结论</a></p><h2 id="7915" class="mq mr it bd ms mt mu dn mv mw mx dp my li mz na nb lm nc nd ne lq nf ng nh ni bi translated">资源:</h2><ul class=""><li id="14a9" class="lv lw it lb b lc nj lf nk li pj lm pk lq pl lu ma mb mc md bi translated">GitHub <a class="ae ky" href="https://github.com/samersallam/The-Complete-Course-in-Object-Oriented-Programming-in-Python/tree/main/Callable%20Objects" rel="noopener ugc nofollow" target="_blank">这里</a>。</li></ul></div></div>    
</body>
</html>