<html>
<head>
<title>How to Protect a Website From Threats</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何保护网站免受威胁</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-protect-a-website-from-common-threats-78ce938c7bd5?source=collection_archive---------8-----------------------#2021-11-07">https://levelup.gitconnected.com/how-to-protect-a-website-from-common-threats-78ce938c7bd5?source=collection_archive---------8-----------------------#2021-11-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="b969" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">WEB开发:</h2><div class=""/><div class=""><h2 id="7576" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">包含逐步说明的完整解决方案</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/8b2b15e0325d73f34301b798d925205d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WIvOscYGrOig6Ih_PrK1dg.jpeg"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">图片由<a class="ae lh" href="https://unsplash.com/photos/q2Zk10NBnsA" rel="noopener ugc nofollow" target="_blank"> Jornada Produtora </a></figcaption></figure><h2 id="2a93" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">总结:</h2><p id="7946" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">阅读本文的主要好处是，您将学习如何使用商业级加密，防止敏感信息泄露，以及保护您的客户、网站和web服务器免受最常见的网络攻击。这将阻止web服务器可以阻止的所有类型的攻击。然而，这不能防止由我们自己编写的糟糕代码、弱密码和第三方插件引起的攻击。</p><p id="365d" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">我们将使用Linode作为我们的云服务提供商，因为他们的产品易于使用、价格合理、可扩展，并且他们的客户服务非常出色。我们将使用Nginx作为我们的网络服务器，因为他们的产品是免费的，处理高网站流量，并为世界上10万个顶级网站中的60%提供支持。</p><p id="cabe" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">推广:</strong>这个<a class="ae lh" href="https://linode.gvw92c.net/P0BmGX" rel="noopener ugc nofollow" target="_blank">推荐链接</a>为Linode提供100美元的信用</p><pre class="ks kt ku kv gt nb nc nd ne aw nf bi"><span id="fa22" class="li lj it nc b gy ng nh l ni nj"><strong class="nc jd"># How to Put a High Performance Website on the Internet:<br/></strong>01. <a class="ae lh" href="https://medium.com/p/915acad9c15f" rel="noopener">How to Host a Website in the Cloud</a><br/>02. <a class="ae lh" href="https://medium.com/p/78ce938c7bd5/" rel="noopener">How to Protect a Website From Threats</a><br/>03. <a class="ae lh" href="https://medium.com/p/3d67f11018ec" rel="noopener">How to Optimize a Website to Load in 1 Second</a><br/>04. <a class="ae lh" href="https://medium.com/p/8d36d1e77316" rel="noopener">How to Add a Database to a Website</a><br/>05. <a class="ae lh" href="https://medium.com/p/7cbc15c714ae" rel="noopener">How to Protect a Database from Threats</a><br/>06. <a class="ae lh" href="https://medium.com/p/1192fc4629f2" rel="noopener">How to Backup a Database in the Cloud</a><br/>07. <a class="ae lh" href="https://medium.com/p/382a8d960f77" rel="noopener">How to Scale a Website to Handle High Traffic</a><br/>08. <a class="ae lh" href="https://medium.com/p/57218f9dfaaa" rel="noopener">How to Add a Node.js Application to a Website</a><br/>09. How to Add a Python Application to a Website<br/>10. How to Add a Payment Method to a Website</span></pre></div><div class="ab cl nk nl hx nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="im in io ip iq"><h2 id="68c0" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">目录:</h2><ol class=""><li id="31a1" class="nr ns it mf b mg mh mj mk lr nt lv nu lz nv mv nw nx ny nz bi translated"><a class="ae lh" href="#70dd" rel="noopener ugc nofollow">创建用户账户</a></li><li id="558c" class="nr ns it mf b mg oa mj ob lr oc lv od lz oe mv nw nx ny nz bi translated"><a class="ae lh" href="#0559" rel="noopener ugc nofollow"> SSH进入虚拟机(Linux) </a></li><li id="3487" class="nr ns it mf b mg oa mj ob lr oc lv od lz oe mv nw nx ny nz bi translated"><a class="ae lh" href="#99ae" rel="noopener ugc nofollow"> SSH进入虚拟机(Windows) </a></li><li id="5f94" class="nr ns it mf b mg oa mj ob lr oc lv od lz oe mv nw nx ny nz bi translated"><a class="ae lh" href="#8ad7" rel="noopener ugc nofollow"> SSH进入虚拟机(Mac) </a></li><li id="c42a" class="nr ns it mf b mg oa mj ob lr oc lv od lz oe mv nw nx ny nz bi translated"><a class="ae lh" href="#f5a6" rel="noopener ugc nofollow">安装SSL证书</a></li><li id="9a96" class="nr ns it mf b mg oa mj ob lr oc lv od lz oe mv nw nx ny nz bi translated"><a class="ae lh" href="#cd28" rel="noopener ugc nofollow">更新SSL证书</a></li><li id="4d06" class="nr ns it mf b mg oa mj ob lr oc lv od lz oe mv nw nx ny nz bi translated"><a class="ae lh" href="#f10b" rel="noopener ugc nofollow">禁用Root登录</a></li><li id="f2e6" class="nr ns it mf b mg oa mj ob lr oc lv od lz oe mv nw nx ny nz bi translated"><a class="ae lh" href="#3036" rel="noopener ugc nofollow">禁用密码认证</a></li><li id="3bf7" class="nr ns it mf b mg oa mj ob lr oc lv od lz oe mv nw nx ny nz bi translated"><a class="ae lh" href="#9de5" rel="noopener ugc nofollow">防止分布式拒绝服务攻击</a></li><li id="7c8c" class="nr ns it mf b mg oa mj ob lr oc lv od lz oe mv nw nx ny nz bi translated"><a class="ae lh" href="#3b13" rel="noopener ugc nofollow">防止版本泄露漏洞</a></li><li id="6563" class="nr ns it mf b mg oa mj ob lr oc lv od lz oe mv nw nx ny nz bi translated"><a class="ae lh" href="#dbb9" rel="noopener ugc nofollow">防止目录列表漏洞</a></li><li id="1a08" class="nr ns it mf b mg oa mj ob lr oc lv od lz oe mv nw nx ny nz bi translated"><a class="ae lh" href="#be71" rel="noopener ugc nofollow">防止跨站脚本攻击</a></li><li id="bc05" class="nr ns it mf b mg oa mj ob lr oc lv od lz oe mv nw nx ny nz bi translated"><a class="ae lh" href="#7e86" rel="noopener ugc nofollow">防止点击劫持攻击</a></li><li id="6966" class="nr ns it mf b mg oa mj ob lr oc lv od lz oe mv nw nx ny nz bi translated"><a class="ae lh" href="#e6e4" rel="noopener ugc nofollow">防止内容嗅探攻击</a></li><li id="12d8" class="nr ns it mf b mg oa mj ob lr oc lv od lz oe mv nw nx ny nz bi translated"><a class="ae lh" href="#abb4" rel="noopener ugc nofollow">防止图片热链接攻击</a></li></ol><h2 id="70dd" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">创建用户帐户:</h2><p id="afac" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">用户帐户是可以访问文件和执行命令的实体。这使得攻击者更难侵入我们的网络服务器，因为他们需要先破解我们的用户名，然后才能破解我们的密码。在本节中，我们将创建一个具有管理权限的用户帐户。</p><pre class="ks kt ku kv gt nb nc nd ne aw nf bi"><span id="abda" class="li lj it nc b gy ng nh l ni nj"><strong class="nc jd"># locate ip address to website</strong><br/>1. open "linodes" page on <a class="ae lh" href="https://cloud.linode.com/linodes" rel="noopener ugc nofollow" target="_blank">linode</a><br/>2. click "website-1" linode<br/>3. find ip address under "ip addresses" label<br/>4. write down ip address</span><span id="0935" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># open console as root user<br/></strong>1. click "launch lish console" link<br/>2. press "return" key<br/>3. enter "root" into "login" prompt<br/>4. enter your password into "password" prompt<br/>5. press "return" key<br/>6. paste commands into console</span><span id="5091" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># change "placeholder" to unique username<br/></strong>username="placeholder"</span><span id="ad4c" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># create new user on virtual machine<br/></strong>sudo adduser $username</span><span id="b1ca" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># choose password for new user</strong><br/>1. enter password for user account<br/>2. press "return"<br/>3. re-enter password<br/>4. press "return"<br/>5. press "return" to enter the default value<br/>6. enter "y" to confirm information<br/>7. press "return"</span><span id="8672" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># add admin group to sudo file</strong><br/>sudo groupadd admin</span><span id="4892" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># grant administrative permissions to new user</strong><br/>sudo usermod -aG admin $username</span><span id="0968" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># switch to new user</strong><br/>sudo su $username</span><span id="f934" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># create ssh directory</strong><br/>sudo mkdir -p ~/.ssh</span><span id="fda2" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># change "placeholder" to unique username from earlier<br/></strong>username="placeholder"</span><span id="0c8e" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># assign ownership of .ssh directory to new user<br/></strong>sudo chown -R $username: /home/$username/.ssh</span><span id="010f" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># assign ownership of nginx directory to new user<br/></strong>sudo chown $username: /etc/nginx/nginx.conf</span><span id="f817" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># restart ssh</strong><br/>sudo service ssh restart</span><span id="7ae1" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># switch back to root user</strong><br/>exit</span><span id="daf8" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># exit console<br/></strong>exit</span></pre><h2 id="0559" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">SSH到虚拟机(Linux):</h2><p id="c40b" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">SSH协议是一种鉴定方法，用于在两台电脑之间远程建立安全连接。这将允许您从您的计算机连接到我们的虚拟机，而无需输入密码。在本节中，我们将创建我们的SSH密钥，将我们的私钥存储在您的计算机上，并将我们的公钥存储在我们的虚拟机上。</p><pre class="ks kt ku kv gt nb nc nd ne aw nf bi"><span id="21d0" class="li lj it nc b gy ng nh l ni nj"><strong class="nc jd"># open terminal<br/></strong>1. click “activities” in top-left corner<br/>2. enter “terminal” into search bar<br/>3. click “terminal”<br/>4. paste commands into terminal</span><span id="fb11" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># install openssh in terminal</strong><br/>sudo apt-get install openssh-server</span><span id="6c3a" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># enable ssh in terminal<br/></strong>sudo systemctl enable ssh</span><span id="6db5" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># start ssh in terminal</strong><br/>sudo systemctl start ssh</span><span id="8f29" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># create ssh directory in terminal<br/></strong>sudo mkdir -p ~/.ssh</span><span id="8063" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># create ssh key in terminal</strong><br/>ssh-keygen -t rsa -b 2048 -f ~/.ssh/id_rsa_linode</span><span id="42d5" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># create ssh key without a passphrase in terminal</strong><br/>1. press "return" to use no passphrase<br/>2. press "return" to confirm</span><span id="43fb" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># change "placeholder" to ip address from earlier in terminal<br/></strong>ip_address="placeholder"</span><span id="af7c" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># change "placeholder" to unique username from earlier<br/></strong>username="placeholder"</span><span id="2b35" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># add ip address to ssh configuration file in terminal</strong><br/>echo -e "\nhost website\n    hostname $ip_address\n    identityfile ~/.ssh/id_rsa_linode\n" &gt;&gt; ~/.ssh/config</span><span id="d781" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># add ssh key to "authorized_keys" list in terminal</strong><br/>sudo cat ~/.ssh/id_rsa_linode.pub | ssh $username@website "cat &gt;&gt; ~/.ssh/authorized_keys"</span><span id="9518" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># add virtual machine to "known hosts" list<br/></strong>1. enter "yes" to continue<br/>2. press "return" key<br/>3. enter password for virtual machine<br/>4. press "return" key</span><span id="125d" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># connect to virtual machine<br/></strong>ssh $username@website</span><span id="ff8b" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># change text size in bash configuration file</strong><br/>sudo echo "stty cols 177 rows 21" &gt;&gt; ~/.bashrc</span><span id="0541" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># reload bash configuration file</strong><br/>source ~/.bashrc</span></pre><h2 id="99ae" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">SSH进入虚拟机(Windows):</h2><p id="eb5b" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">SSH协议是一种鉴定方法，用于在两台电脑之间远程建立安全连接。这将允许您从您的计算机连接到我们的虚拟机，而无需输入密码。在本节中，我们将创建我们的SSH密钥，将我们的私钥存储在您的计算机上，并将我们的公钥存储在我们的虚拟机上。</p><pre class="ks kt ku kv gt nb nc nd ne aw nf bi"><span id="a9ef" class="li lj it nc b gy ng nh l ni nj"><strong class="nc jd"># open powershell</strong><br/>1. press “⊞ windows” key<br/>2. enter “powershell” into search bar<br/>3. click “run as administrator” option<br/>4. paste commands into powershell</span><span id="fe5d" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># create putty directory in powershell<br/></strong>mkdir <!-- -->$home<!-- -->\putty -force</span><span id="084b" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># download putty in powershell<br/></strong>invoke-webrequest -uri <a class="ae lh" href="https://the.earth.li/~sgtatham/putty/latest/w64/putty.exe" rel="noopener ugc nofollow" target="_blank">https://the.earth.li/~sgtatham/putty/latest/w64/putty.exe</a> -outfile $home\putty\putty.exe</span><span id="3173" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># download puttygen in powershell<br/></strong>invoke-webrequest -uri <a class="ae lh" href="https://the.earth.li/~sgtatham/putty/latest/w64/puttygen.exe" rel="noopener ugc nofollow" target="_blank">https://the.earth.li/~sgtatham/putty/latest/w64/puttygen.exe</a> -outfile $home\putty\puttygen.exe</span><span id="03ea" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># download pscp in powershell</strong><br/>invoke-webrequest -uri <a class="ae lh" href="https://the.earth.li/~sgtatham/putty/latest/w64/pscp.exe" rel="noopener ugc nofollow" target="_blank">https://the.earth.li/~sgtatham/putty/latest/w64/pscp.exe</a> -outfile $home\putty\pscp.exe</span><span id="3293" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># open puttygen in powershell<br/></strong>invoke-item $home\putty\puttygen.exe</span><span id="0810" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># create public key in putty</strong><br/>1. click "generate" button<br/>2. move mouse around in empty space under progress bar<br/>3. click "save public key" button<br/>4. navigate to desktop directory<br/>5. enter "public_key.txt" into "file name" text field<br/>6. click "save" button</span><span id="84ed" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># create private key in putty<br/></strong>1. click "save private key" button<br/>2. click "yes" to save without a passphrase<br/>3. enter "private_key.ppk" into "file name" text field<br/>4. click "save" button</span><span id="7e9b" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># move public key to putty directory in powershell<br/></strong>move-item -path $home\desktop\public_key.txt -destination $home\putty\public_key.txt</span><span id="0748" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># move private key to putty directory in powershell<br/></strong>move-item -path $home\desktop\private_key.ppk -destination $home\putty\private_key.ppk</span><span id="ef8e" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># change "placeholder" to ip address from earlier in powershell<br/></strong>$ip_address="placeholder"</span><span id="03c9" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># change "placeholder" to unique username from earlier in powershell<br/></strong>$username="placeholder"</span><span id="c497" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># change "placeholder" to password from earlier in powershell</strong><br/>$password="placeholder"</span><span id="144d" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># copy public key to virtual machine in powershell</strong><br/>&amp; $home<!-- -->\putty\pscp.exe -pw $<!-- -->password $home<!-- -->\putty\public_key.txt $<!-- -->username<!-- -->@$ip_address`:/home/$username/.ssh</span><span id="b8b7" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># open putty in powershell</strong><br/>invoke-item $home\putty\putty.exe</span><span id="5f68" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># load private key in putty</strong><br/>1. double-click "ssh" subcategory in "connection" category<br/>2. click "auth" subcategory in "ssh" subcategory<br/>3. click "browse" button<br/>4. navigate to "putty" directory (c:\users\username\putty\)<br/>5. click "private_key.ppk" file<br/>6. click "open" button</span><span id="9b3f" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># save settings in putty<br/></strong>1. click "data" subcategory in "connection" category<br/>2. enter username from earlier into "auto-login username" text field<br/>3. click "session" category<br/>4. enter ip address from earlier into "host name" text field<br/>5. enter "website" into "saved session" text field<br/>6. click "save" button</span><span id="2911" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># connect to virtual machine in putty<br/></strong>1. click "open" button<br/>2. click "accept" button<br/>3. enter password from earlier<br/>4. press "return" key</span><span id="ff25" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># install dos2unix in putty</strong><br/>sudo apt-get install --yes dos2unix</span><span id="9e18" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># convert text file format to unix in putty<br/></strong>sudo dos2unix ~/.ssh/public_key.txt</span><span id="c305" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># add ssh key to "authorized_keys" list in putty</strong><br/>sudo ssh-keygen -i -f ~/.ssh/public_key.txt &gt;&gt; ~/.ssh/authorized_keys</span><span id="23c9" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># exit putty</strong><br/>exit</span><span id="fda1" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># reopen putty</strong><br/>1. press “⊞ windows” key<br/>2. enter “putty.exe” into search bar<br/>3. click "putty.exe" result</span><span id="2c80" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># connect to virtual machine in putty<br/></strong>1. click "website" in "saved sessions" section<br/>2. click "load button<br/>3. click "open" button"</span><span id="1f65" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># change text size in bash configuration file</strong><br/>sudo echo "stty cols 177 rows 21" &gt;&gt; ~/.bashrc</span><span id="e73a" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># reload bash configuration file</strong><br/>source ~/.bashrc</span></pre><h2 id="8ad7" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">SSH到虚拟机(Mac):</h2><p id="eaef" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">SSH协议是一种鉴定方法，用于在两台电脑之间远程建立安全连接。这将允许您从您的计算机连接到我们的虚拟机，而无需输入密码。在本节中，我们将创建我们的SSH密钥，将我们的私钥存储在您的计算机上，并将我们的公钥存储在我们的虚拟机上。</p><pre class="ks kt ku kv gt nb nc nd ne aw nf bi"><span id="ad10" class="li lj it nc b gy ng nh l ni nj"><strong class="nc jd"># open terminal<br/></strong>1. press “command ⌘ + spacebar” keys<br/>2. enter “terminal” into search bar<br/>3. press “return” key<br/>4. paste commands into terminal</span><span id="ba19" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># create ssh key in terminal</strong><br/>ssh-keygen -t rsa -b 2048 -f ~/.ssh/id_rsa_linode</span><span id="2873" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># create ssh key without a passphrase in terminal</strong><br/>1. press "return" to use no passphrase<br/>2. press "return" to confirm</span><span id="c44c" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># change "placeholder" to ip address from earlier in terminal<br/></strong>ip_address="placeholder"</span><span id="7563" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># change "placeholder" to unique username from earlier<br/></strong>username="placeholder"</span><span id="ca69" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># add ip address to ssh configuration file in terminal</strong><br/>echo -e "\nhost website\n    hostname $ip_address\n    identityfile ~/.ssh/id_rsa_linode\n" &gt;&gt; ~/.ssh/config</span><span id="e3fc" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># add ssh key to "authorized_keys" list in terminal</strong><br/>sudo cat ~/.ssh/id_rsa_linode.pub | ssh $username@website "cat &gt;&gt; ~/.ssh/authorized_keys"</span><span id="f26e" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># add virtual machine to "known hosts" list<br/></strong>1. enter "yes" into terminal<br/>2. press "return" key<br/>3. enter password for virtual machine<br/>4. press "return" key</span><span id="089c" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># connect to virtual machine in terminal</strong><br/>ssh $username@website</span><span id="013f" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># change text size in bash configuration file</strong><br/>sudo echo "stty cols 177 rows 21" &gt;&gt; ~/.bashrc</span><span id="023d" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># reload bash configuration file</strong><br/>source ~/.bashrc</span></pre><h2 id="f5a6" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">安装SSL证书:</h2><p id="71ed" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">SSL协议是一种身份验证方法，用于通过web浏览器在我们的web服务器和我们的用户之间建立安全连接。这将允许我们的网站显示锁图标和HTTPS计划与您的域名。在本节中，我们将创建SSL证书，下载配置文件，并定制web服务器。</p><pre class="ks kt ku kv gt nb nc nd ne aw nf bi"><span id="424a" class="li lj it nc b gy ng nh l ni nj"><strong class="nc jd"># reopen website-1 linode<br/></strong>1. open "linodes" page on <a class="ae lh" href="https://cloud.linode.com/linodes" rel="noopener ugc nofollow" target="_blank">linode</a><br/>2. click "website-1" linode</span><span id="d4a8" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># open console as new user<br/></strong>1. click "launch lish console" link<br/>2. press "return" key<br/>3. enter unique username from earlier into "login" prompt<br/>4. enter your password into "password" prompt<br/>5. press "return" key<br/>6. paste commands into console</span><span id="608c" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># change "placeholder.com" to your domain name</strong><br/>domain_name="placeholder.com"</span><span id="2fe1" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># change "placeholder" to email address<br/></strong>email="placeholder"</span><span id="a887" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># install certbot</strong><br/>sudo apt-get install --yes certbot python3-certbot-nginx</span><span id="41e3" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># create ssl certificate</strong><br/>sudo certbot certonly --webroot -w /var/www/html -d $domain_name -d <a class="ae lh" href="http://www.$domain_name" rel="noopener ugc nofollow" target="_blank">www.$domain_name</a> --non-interactive --agree-tos --email $email</span><span id="cb3d" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># download nginx configuration file</strong><br/>sudo curl -o /etc/nginx/nginx.conf <a class="ae lh" href="https://gist.githubusercontent.com/david-littlefield/59ddd7b03c22c759ebb95b1fcf923b32/raw" rel="noopener ugc nofollow" target="_blank">https://gist.githubusercontent.com/david-littlefield/59ddd7b03c22c759ebb95b1fcf923b32/raw</a></span><span id="02d7" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># store number of worker connections<br/></strong>worker_connections=$(ulimit -n)</span><span id="a68b" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># add number of worker connections to configuration file</strong><br/>sudo sed "s|#worker_connections_placeholder#|$worker_connections|g" -i /etc/nginx/nginx.conf</span><span id="5804" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># add domain name to configuration file<br/></strong>sudo sudo sed "s|#domain_name_placeholder#|$domain_name|g" -i /etc/nginx/nginx.conf</span><span id="c7d5" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># store php-fpm socket<br/></strong>php_fpm_socket=$(sudo find / -name *[0-9][\-]fpm.sock)</span><span id="4695" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># add "php-fpm socket" path to configuration file</strong><br/>sudo sed "s|#php_fpm_socket_placeholder#|$php_fpm_socket|g" -i /etc/nginx/nginx.conf</span><span id="31e1" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># create dh parameters<br/></strong>sudo openssl dhparam -out /etc/nginx/dhparam.pem 2048</span><span id="07cb" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># restart nginx</strong><br/>sudo systemctl restart nginx</span><span id="206a" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># evaluate ssl certificate strength with ssl server test<br/></strong>1. open <a class="ae lh" href="https://www.ssllabs.com/ssltest/index.html" rel="noopener ugc nofollow" target="_blank">ssl server test</a><br/>2. enter your domain name into "hostname" text field<br/>3. click "submit" button<br/>4. review "overall rating" score</span></pre><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="og oh l"/></div></figure><h2 id="cd28" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">续订SSL证书:</h2><p id="5ba4" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">Lets Encrypt是一个证书颁发机构，提供所有主流web浏览器都信任的免费SSL证书，有效期为90天。这将允许我们的网站被看到，而不会被网页浏览器的警告所阻止。在本节中，我们将通过下载我们的续订脚本并安排它每月运行一次来自动续订我们的SSL证书。</p><pre class="ks kt ku kv gt nb nc nd ne aw nf bi"><span id="d706" class="li lj it nc b gy ng nh l ni nj"><strong class="nc jd"># download ssl renewal bash file</strong><br/>sudo curl -o /etc/nginx/letsencrypt_ssl_renewal.sh <a class="ae lh" href="https://gist.githubusercontent.com/david-littlefield/e9120ee22b33d5f99a0ece9274ff3434/raw" rel="noopener ugc nofollow" target="_blank">https://gist.githubusercontent.com/david-littlefield/e9120ee22b33d5f99a0ece9274ff3434/raw</a></span></pre><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="og oh l"/></div></figure><pre class="ks kt ku kv gt nb nc nd ne aw nf bi"><span id="32fd" class="li lj it nc b gy ng nh l ni nj"><strong class="nc jd"># download certbot cron file</strong><br/>sudo curl -o ~/certbot <a class="ae lh" href="https://gist.githubusercontent.com/david-littlefield/6114ba5e160b1bd3dca38fdd2101e991/raw" rel="noopener ugc nofollow" target="_blank">https://gist.githubusercontent.com/david-littlefield/6114ba5e160b1bd3dca38fdd2101e991/raw</a></span><span id="2a66" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># move certbot cron file to cron.d directory<br/></strong>sudo mv ~/certbot /etc/cron.d/certbot</span></pre><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="og oh l"/></div></figure><h2 id="f10b" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">禁用Root登录:</h2><p id="c1d3" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">root用户是一个用户帐户，可以无限制地访问每个基于Linux的操作系统预装的整个系统。这为攻击者提供了他们入侵我们的网络服务器所需的一半信息。在本节中，我们将通过更改SSH配置文件中的设置来防止root用户访问我们的虚拟机。</p><pre class="ks kt ku kv gt nb nc nd ne aw nf bi"><span id="d617" class="li lj it nc b gy ng nh l ni nj"><strong class="nc jd"># disable root login</strong><br/>sudo sed "s|PermitRootLogin yes|PermitRootLogin no|g" -i /etc/ssh/sshd_config</span><span id="6228" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># restart ssh</strong><br/>sudo service ssh restart</span></pre><h2 id="3036" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">禁用密码验证:</h2><p id="af0c" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">密码是一种身份验证方法，当密码太弱或被许多不同的帐户重复使用时，它会成为一种威胁。这使得攻击者有可能通过反复试验来破解密码。在本节中，我们将通过更改SSH配置中的设置来防止用户使用密码身份验证访问我们的虚拟机。</p><pre class="ks kt ku kv gt nb nc nd ne aw nf bi"><span id="f6d5" class="li lj it nc b gy ng nh l ni nj"><strong class="nc jd"># disable password authentication<br/></strong>sudo sed "s|PasswordAuthentication yes|PasswordAuthentication no|" -i /etc/ssh/sshd_config</span><span id="bab1" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># restart ssh</strong><br/>sudo service ssh restart</span></pre><h2 id="9de5" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">防止分布式拒绝服务攻击:</h2><p id="c77c" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">分布式拒绝服务攻击试图使我们网站上的传入网络流量过载，以降低我们网站服务器的速度或使其崩溃。这可以通过限制一个ip地址在给定时间内可以向我们的web服务器发出的请求数量来防止。在本节中，我们将在配置文件的“http”块中添加“limit_req_zone”指令，在“location”块中添加“limit_req”指令。</p><pre class="ks kt ku kv gt nb nc nd ne aw nf bi"><span id="f584" class="li lj it nc b gy ng nh l ni nj"><strong class="nc jd"># store distributed denial-of-service 1<br/></strong>ddos_1=$(curl <a class="ae lh" href="https://gist.githubusercontent.com/david-littlefield/66396a7328549591b03c0b779e6ddd3c/raw)" rel="noopener ugc nofollow" target="_blank">https://gist.githubusercontent.com/david-littlefield/66396a7328549591b03c0b779e6ddd3c/raw)</a></span><span id="1459" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># add "limit_req_zone" directive to configuration file<br/></strong>sudo sed "s|#distributed_denial_of_service_1_placeholder#|$ddos_1|g" -i /etc/nginx/nginx.conf</span></pre><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="og oh l"/></div></figure><pre class="ks kt ku kv gt nb nc nd ne aw nf bi"><span id="2751" class="li lj it nc b gy ng nh l ni nj"><strong class="nc jd"># store distributed denial-of-service 2<br/></strong>ddos_2=$(curl <a class="ae lh" href="https://gist.githubusercontent.com/david-littlefield/8318ea096d2906c4cf0b4a26235ae51d/raw)" rel="noopener ugc nofollow" target="_blank">https://gist.githubusercontent.com/david-littlefield/8318ea096d2906c4cf0b4a26235ae51d/raw)</a></span><span id="77ba" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># add "limit_req" directive to configuration file<br/></strong>sudo sed "s|#distributed_denial_of_service_2_placeholder#|$ddos_2|g" -i /etc/nginx/nginx.conf</span><span id="18cf" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># restart nginx</strong><br/>sudo systemctl restart nginx</span></pre><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="og oh l"/></div></figure><h2 id="3b13" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">防止版本泄露漏洞:</h2><p id="e586" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">版本泄露漏洞是一种敏感信息泄漏，可用于识别我们web服务器当前版本中的漏洞。这可以通过在错误页面和HTTP头中隐藏版本号和操作系统来避免。在本节中，我们将在配置文件的“http”块中添加“server_tokens”指令。</p><pre class="ks kt ku kv gt nb nc nd ne aw nf bi"><span id="fa3c" class="li lj it nc b gy ng nh l ni nj"><strong class="nc jd"># store version disclosure<br/></strong>version_disclosure=$(curl <a class="ae lh" href="https://gist.githubusercontent.com/david-littlefield/bcd43f1554118b4081c9146fe37f7612/raw)" rel="noopener ugc nofollow" target="_blank">https://gist.githubusercontent.com/david-littlefield/bcd43f1554118b4081c9146fe37f7612/raw)</a></span><span id="5d48" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># add "server_tokens" directive to configuration file<br/></strong>sudo sed "s|#version_disclosure_placeholder#|$version_disclosure|g" -i /etc/nginx/nginx.conf</span><span id="ba78" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># restart nginx</strong><br/>sudo systemctl restart nginx</span></pre><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="og oh l"/></div></figure><h2 id="dbb9" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">防止目录列表漏洞:</h2><p id="63cc" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">目录列表漏洞是一种敏感信息泄漏，它会泄露我们的web服务器上没有索引文件的目录的内容。这可以通过禁用显示没有索引文件的目录内容的功能来防止。在本节中，我们将在配置文件的“http”块中添加“autoindex”指令。</p><pre class="ks kt ku kv gt nb nc nd ne aw nf bi"><span id="060a" class="li lj it nc b gy ng nh l ni nj"><strong class="nc jd"># store directory listing<br/></strong>directory_listing=$(curl <a class="ae lh" href="https://gist.githubusercontent.com/david-littlefield/84cd612cf08c74a04158568053f9ee16/raw)" rel="noopener ugc nofollow" target="_blank">https://gist.githubusercontent.com/david-littlefield/84cd612cf08c74a04158568053f9ee16/raw)</a></span><span id="30a5" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># add "autoindex" directive to configuration file<br/></strong>sudo sed "s|#directory_listing_placeholder#|$directory_listing|g" -i /etc/nginx/nginx.conf</span><span id="a322" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># restart nginx</strong><br/>sudo systemctl restart nginx</span></pre><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="og oh l"/></div></figure><h2 id="be71" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">防止跨站点脚本攻击:</h2><p id="3709" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">跨站点脚本攻击是试图将恶意脚本注入我们的网站，从我们的用户那里提取敏感信息。这可以通过在我们的HTTP响应头中添加一个头来防止，当检测到攻击时，它会阻止我们的网站加载。在本节中，我们将在配置文件的“server”块中添加“add_header”指令。</p><pre class="ks kt ku kv gt nb nc nd ne aw nf bi"><span id="5c03" class="li lj it nc b gy ng nh l ni nj"><strong class="nc jd"># store cross-site scripting<br/></strong>cross_site_scripting=$(curl <a class="ae lh" href="https://gist.githubusercontent.com/david-littlefield/51654dec3034fbfe651abc375a0f70a2/raw)" rel="noopener ugc nofollow" target="_blank">https://gist.githubusercontent.com/david-littlefield/51654dec3034fbfe651abc375a0f70a2/raw)</a></span><span id="cf94" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># add "add_header" directive to configuration file<br/></strong>sudo sed "s|#cross_site_scripting_placeholder#|$cross_site_scripting|g" -i /etc/nginx/nginx.conf</span><span id="aa7d" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># restart nginx</strong><br/>sudo systemctl restart nginx</span></pre><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="og oh l"/></div></figure><h2 id="7e86" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">防止点击劫持攻击:</h2><p id="cd25" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">点击劫持攻击试图将我们的网站嵌入到恶意网站中，该恶意网站使用交互式覆盖来提取我们用户的敏感信息。这可以通过向我们的HTTP响应头添加一个头来防止，该头只允许我们的网站从来自我们的协议、域和端口的HTTP请求中加载。在本节中，我们将在配置文件的“server”块中添加“add_header”指令。</p><pre class="ks kt ku kv gt nb nc nd ne aw nf bi"><span id="cd49" class="li lj it nc b gy ng nh l ni nj"><strong class="nc jd"># store clickjacking<br/></strong>clickjacking=$(curl <a class="ae lh" href="https://gist.githubusercontent.com/david-littlefield/b8a267f4463072fc34454ee0a93ae73d/raw)" rel="noopener ugc nofollow" target="_blank">https://gist.githubusercontent.com/david-littlefield/b8a267f4463072fc34454ee0a93ae73d/raw)</a></span><span id="5793" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># add "add_header" directive to configuration file<br/></strong>sudo sed "s|#clickjacking_placeholder#|$clickjacking|g" -i /etc/nginx/nginx.conf</span><span id="fb72" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># restart nginx</strong><br/>sudo systemctl restart nginx</span></pre><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="og oh l"/></div></figure><h2 id="e6e4" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">防止内容嗅探攻击:</h2><p id="dc50" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">内容嗅探攻击试图欺骗web浏览器执行伪装成不同文件类型的脚本。这可以通过在我们的HTTP响应头中添加一个头来防止，这个头可以阻止web浏览器执行任何不属于“content-type”头中包含的文件类型的文件。在本节中，我们将在配置文件的“server”块中添加“add_header”指令。</p><pre class="ks kt ku kv gt nb nc nd ne aw nf bi"><span id="c1d5" class="li lj it nc b gy ng nh l ni nj"><strong class="nc jd"># store content sniffing<br/></strong>content_sniffing=$(curl <a class="ae lh" href="https://gist.githubusercontent.com/david-littlefield/7c54f4c4f81a4be7ca4d2fc634a8a6d9/raw)" rel="noopener ugc nofollow" target="_blank">https://gist.githubusercontent.com/david-littlefield/7c54f4c4f81a4be7ca4d2fc634a8a6d9/raw)</a></span><span id="eeec" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># add "add_header" directive to configuration file<br/></strong>sudo sed "s|#content_sniffing_placeholder#|$content_sniffing|g" -i /etc/nginx/nginx.conf</span><span id="17cb" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># restart nginx</strong><br/>sudo systemctl restart nginx</span></pre><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="og oh l"/></div></figure><h2 id="abb4" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">防止热链接攻击:</h2><p id="75a5" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">热链接攻击是试图将我们网站上的文件嵌入到另一个网站上，以使用我们的带宽而不是他们的带宽。这可以通过添加一个HTTP头来防止，该头只允许来自我们的域和子域的HTTP请求。在本节中，我们将在配置文件的“location”块中添加“valid_referers”指令。</p><pre class="ks kt ku kv gt nb nc nd ne aw nf bi"><span id="0cd1" class="li lj it nc b gy ng nh l ni nj"><strong class="nc jd"># store hotlinking<br/></strong>hotlinking=$(curl <a class="ae lh" href="https://gist.githubusercontent.com/david-littlefield/63d6ed79801a6c23d7554a89d88d2aa4/raw)" rel="noopener ugc nofollow" target="_blank">https://gist.githubusercontent.com/david-littlefield/63d6ed79801a6c23d7554a89d88d2aa4/raw)</a></span><span id="8151" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># add "location" block to configuration file<br/></strong>sudo sed "s|#hotlinking_placeholder#|$hotlinking|g;" -i /etc/nginx/nginx.conf</span><span id="4ff7" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># change "placeholder.com" to your domain name from earlier</strong><br/>domain_name="placeholder.com"</span><span id="5fcb" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># add domain name to configuration file<br/></strong>sudo sudo sed "s|#domain_name_placeholder#|$domain_name|g" -i /etc/nginx/nginx.conf</span><span id="23ab" class="li lj it nc b gy of nh l ni nj"><strong class="nc jd"># restart nginx</strong><br/>sudo systemctl restart nginx</span></pre><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="og oh l"/></div></figure></div><div class="ab cl nk nl hx nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="im in io ip iq"><h2 id="1e71" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">后续步骤:</h2><p id="17bb" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">以下文章包含一个宝石本身，但一起宝藏。</p><pre class="ks kt ku kv gt nb nc nd ne aw nf bi"><span id="cebe" class="li lj it nc b gy ng nh l ni nj"><strong class="nc jd"># How to Put a High Performance Website on the Internet:<br/></strong>01. <a class="ae lh" href="https://medium.com/p/915acad9c15f" rel="noopener">How to Host a Website in the Cloud</a><br/>02. <a class="ae lh" href="https://medium.com/p/78ce938c7bd5/" rel="noopener">How to Protect a Website From Threats</a><br/>03. <a class="ae lh" href="https://medium.com/p/3d67f11018ec" rel="noopener">How to Optimize a Website to Load in 1 Second</a><br/>04. <a class="ae lh" href="https://medium.com/p/8d36d1e77316" rel="noopener">How to Add a Database to a Website</a><br/>05. <a class="ae lh" href="https://medium.com/p/7cbc15c714ae" rel="noopener">How to Protect a Database from Threats</a><br/>06. <a class="ae lh" href="https://medium.com/p/1192fc4629f2" rel="noopener">How to Backup a Database in the Cloud</a><br/>07. <a class="ae lh" href="https://medium.com/p/382a8d960f77" rel="noopener">How to Scale a Website to Handle High Traffic</a><br/>08. <a class="ae lh" href="https://medium.com/p/57218f9dfaaa" rel="noopener">How to Add a Node.js Application to a Website</a><br/>09. How to Add a Python Application to a Website<br/>10. How to Add a Payment Method to a Website</span></pre></div></div>    
</body>
</html>