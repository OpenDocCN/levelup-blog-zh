<html>
<head>
<title>Flutter Web &amp; Mixpanel</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">颤动网和混合面板</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/flutter-web-mixpanel-6046ffb664fb?source=collection_archive---------2-----------------------#2021-12-26">https://levelup.gitconnected.com/flutter-web-mixpanel-6046ffb664fb?source=collection_archive---------2-----------------------#2021-12-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="be10" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">将颤振腹板与Mixpanel事件联系起来</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/2d0333adca1635bac60009de2b3835d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FGtLfXN4zjh9IVnqktfsNQ.png"/></div></div></figure><p id="234d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">MixPanel于2021年12月3日发布了颤振腹板支持:</p><div class="kx ky gp gr kz la"><a href="https://github.com/mixpanel/mixpanel-flutter" rel="noopener  ugc nofollow" target="_blank"><div class="lb ab fo"><div class="lc ab ld cl cj le"><h2 class="bd ir gy z fp lf fr fs lg fu fw ip bi translated">GitHub-mixpanel/Mixpanel-Flutter:用于Mixpanel分析的官方颤振跟踪库</h2><div class="lh l"><h3 class="bd b gy z fp lf fr fs lg fu fw dk translated">欢迎来到官方Mixpanel Flutter SDK。Mixpanel Flutter SDK是一个开源项目，我们希望看到…</h3></div><div class="li l"><p class="bd b dl z fp lf fr fs lg fu fw dk translated">github.com</p></div></div><div class="lj l"><div class="lk l ll lm ln lj lo kv la"/></div></div></a></div><p id="3f6b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">利用这些信息，我们将把Mixpanel和Flutter Web连接起来。值得注意的一件很酷的事情；Flutter Web支持也适用于移动版本——谈论一下同时做两件事！</p><p id="2d5d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将从头开始做这件事，但是我将假设你在开始本教程之前至少知道如何安装flutter并让它工作。如果你还没有……查看一下<a class="ae lp" href="https://flutter.dev/" rel="noopener ugc nofollow" target="_blank"> Flutter网站</a>,让它运行起来，一旦你完成了就回来这里！</p><p id="6264" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">此外，我将使用IntelliJ作为我的IDE选择，但你可以随意使用。</p><p id="16d2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">说到这里……让我们开始吧！</strong></p></div><div class="ab cl lq lr hu ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="ij ik il im in"><ol class=""><li id="2d9b" class="lx ly iq jp b jq jr ju jv jy lz kc ma kg mb kk mc md me mf bi translated">开始一个空白的Flutter项目，想怎么叫就怎么叫。确保您启用了web！</li></ol><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mg"><img src="../Images/f478b1680f6298f02f5ddf144e5be94c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WCdhWLqywk0es4frePhp8g.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">使用IntelliJ设置项目。</figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ml"><img src="../Images/a05d82ec963bed582f2a72fa5bbf3e9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IEaG7OC0eoRLJ8_UnevjnQ.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">标准锅炉板与开始一个新的颤振项目。</figcaption></figure><p id="e76b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2.清理锅炉板！我们将删除所有的评论和旧的计数器应用程序代码！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mm"><img src="../Images/5feaa0f8ee4014514cd6301318401170.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r9Eyb8fZHVXYF2qnBh0HPA.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">清理了锅炉板！</figcaption></figure><p id="3f9e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3.我们将在lib文件夹中创建3个单独的页面。这一步将帮助我们在后面的步骤中展示Mixpanel的威力！所以让我们做些准备。每个页面将包含非常通用的代码，以保持这个超级简单。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/2fe3483fc6d6be685664a44c8fc364a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*Y8A3QyNSmrk1w7herMq5-Q.png"/></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">创建我们的页面(目录)和3个单独的文件，第1页，第2页和第3页</figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mo"><img src="../Images/4eb8cb06fd12925a410e445b6eeeac84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ew_Jrfie6zPPZ2lhw0k4XA.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">这是通用代码，我们没有每个新页面。它们都是无状态的，与文件同名。</figcaption></figure><p id="8694" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">4.创建到我们每个普通页面的导航路线。我们很快将通过MixPanel用这些路径演示页面中的事件！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mp"><img src="../Images/3e8f5aa1972c4d267dc966586acb0988.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zUjQj8MH7CQRzHVEegHFyA.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">我们为基础应用程序创建了路线。</figcaption></figure><p id="59ae" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">5.我们准备步骤的最后一部分，我们将在所有页面中创建基本按钮，以便在它们之间进行路由！</p><p id="71c5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面是代码的要点——您可以复制和粘贴！将此应用于所有(4)页面—主页、第1页、第2页和第3页。请确保调整代码以匹配要粘贴的页面。</p><pre class="km kn ko kp gt mq mr ms mt aw mu bi"><span id="9692" class="mv mw iq mr b gy mx my l mz na">// Make sure you change the route names and titles according to the page you are copying and pasting this code to!</span><span id="c00c" class="mv mw iq mr b gy nb my l mz na"><em class="nc">return </em>Scaffold(<br/>  appBar: AppBar(<br/>    title: <em class="nc">const </em>Text('Mixpanel Example'),<br/>  ),<br/>  body: Center(<br/>    child: Column(<br/>      mainAxisAlignment: MainAxisAlignment.center,<br/>      children: &lt;Widget&gt;[<br/>        ElevatedButton(<br/>          child: <em class="nc">const </em>Text('Page 1'),<br/>          onPressed: () {<br/>            Navigator.pushNamed(context, '/1');<br/>          },<br/>        ),<br/>        ElevatedButton(<br/>          child: <em class="nc">const </em>Text('Page 2'),<br/>          onPressed: () {<br/>            Navigator.pushNamed(context, '/2');<br/>          },<br/>        ),<br/>        ElevatedButton(<br/>          child: <em class="nc">const </em>Text('Page 3'),<br/>          onPressed: () {<br/>            Navigator.pushNamed(context, '/3');<br/>          },<br/>        ),<br/>      ],<br/>    ),<br/>  ),<br/>);</span></pre><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nd"><img src="../Images/d54a7ef1ff50b9b9ba89e4461ca95b16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F6T5FgGOLtg_2VvYHEKV6w.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">复制并粘贴上面的代码示例。这是我们应用程序的第1页。</figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ne"><img src="../Images/6eacec442b0b0b701ccbc41d5071e84b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rGDNDA0oAumqKKdMYoyGnQ.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">基本的web应用程序。它不漂亮，但也不是故意的！这是我们为网络路线做的基本准备。</figcaption></figure><p id="fdcf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">6.设置mixpanel_flutter包！现在我们已经做好了准备——让我们把mixpanel包下载到我们的pubspec.yaml上。</p><div class="kx ky gp gr kz la"><a href="https://pub.dev/packages/mixpanel_flutter" rel="noopener  ugc nofollow" target="_blank"><div class="lb ab fo"><div class="lc ab ld cl cj le"><h2 class="bd ir gy z fp lf fr fs lg fu fw ip bi translated">mixpanel_flutter | Flutter包</h2><div class="lh l"><h3 class="bd b gy z fp lf fr fs lg fu fw dk translated">欢迎来到官方Mixpanel Flutter SDK。Mixpanel Flutter SDK是一个开源项目，我们希望看到…</h3></div><div class="li l"><p class="bd b dl z fp lf fr fs lg fu fw dk translated">公共开发</p></div></div><div class="lj l"><div class="nf l ll lm ln lj lo kv la"/></div></div></a></div><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ng"><img src="../Images/c8d2e62532e97ef3b7833225d119b47c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WEKdNMagcC5rla9Czcgarg.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">转到“安装”选项卡，找到flutter_mixpanel依赖项。</figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nh"><img src="../Images/d0c4458d62dfe007c5874a648177fcf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_qRmOeHeQvpT25mvmiZikQ.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">回到应用程序，进入你的pubspec.yaml文件。将依赖项粘贴到cupertino_icons依赖项下，并运行Pub get。</figcaption></figure><p id="7d4a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">7.在网站上启动一个Mixpanel项目，并找到你的项目令牌。</p><p id="ffd1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae lp" href="https://mixpanel.com/" rel="noopener ugc nofollow" target="_blank">https://mixpanel.com/</a></p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ni"><img src="../Images/3e85a7aae3a399eeb2987d0a9cc07c42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wigNni5LWNXGrYfXrKF3bA.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">在mixpanel上创建一个项目将允许你访问项目令牌。这位于项目中的设置下。</figcaption></figure><p id="eaa7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">8.现在你已经知道了Mixpanel项目的令牌，让我们在项目中使用它吧！首先，我们需要创建一个自定义类，在main()函数上初始化它。(比听起来容易)。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nj"><img src="../Images/f593240ac260700305cdb75ad5b8750c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J2opzuHlzLEvEvjscvDgMg.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">让我们创建另一个文件:mixpanel.dart。这个文件将包含我们新的未来initMixpanel。</figcaption></figure><pre class="km kn ko kp gt mq mr ms mt aw mu bi"><span id="6b9f" class="mv mw iq mr b gy mx my l mz na"><em class="nc">import </em>'package:mixpanel_flutter/mixpanel_flutter.dart';<br/><br/>Future initMixpanel(String message) <em class="nc">async </em>{<br/>  Mixpanel mixpanel;<br/>  mixpanel = <em class="nc">await </em>Mixpanel.init('mixpanel_project_token', optOutTrackingDefault: <em class="nc">false</em>);<br/><br/>  mixpanel.track(message);<br/>}</span></pre><p id="cc18" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">分解如下:</p><blockquote class="nk nl nm"><p id="3ba6" class="jn jo nc jp b jq jr js jt ju jv jw jx nn jz ka kb no kd ke kf np kh ki kj kk ij bi translated">a.我们正在导入新的包<em class="iq">“mixpanel _ flutter”</em></p><p id="84d6" class="jn jo nc jp b jq jr js jt ju jv jw jx nn jz ka kb no kd ke kf np kh ki kj kk ij bi translated">b.我们创建了一个名为initMixpanel的新未来，它需要一个名为“message”的字符串。我们使用这个字符串来调用另一个名为mixpanel.track的mixpanel方法。</p><p id="4e66" class="jn jo nc jp b jq jr js jt ju jv jw jx nn jz ka kb no kd ke kf np kh ki kj kk ij bi translated">c.然后我们要调用mixpanel令牌函数，这样无论何时调用这个类，我们都可以初始化我们的Mixpanel。</p><p id="f60b" class="jn jo nc jp b jq jr js jt ju jv jw jx nn jz ka kb no kd ke kf np kh ki kj kk ij bi translated">d.最后，在这个阶级内部；我们调用mixpanel.track。这将从我们的应用程序触发一个事件到mixpanel！使用我们需要的字符串消息——我们可以指定我们想要在mixpanel上显示什么。</p></blockquote><p id="328a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">9.在我们的主应用上初始化我们的mixpanel类。将这一点包括在内也很重要:</p><pre class="km kn ko kp gt mq mr ms mt aw mu bi"><span id="e106" class="mv mw iq mr b gy mx my l mz na">WidgetsFlutterBinding.ensureInitialized();</span></pre><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nq"><img src="../Images/799bcc92e184e271c5f714ab13880af9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5G-23ErGedhHsjx4mYxOlw.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">在我们的main.dart中，我们将在主类中调用我们的新类“initMixpanel ”!首先确保它是异步的。</figcaption></figure><p id="122d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">10.我们Mixpanel调用的最终设置！在我们的index.html中运行脚本。</p><pre class="km kn ko kp gt mq mr ms mt aw mu bi"><span id="27b1" class="mv mw iq mr b gy mx my l mz na">&lt;script <em class="nc">src</em>="./assets/packages/mixpanel_flutter/assets/mixpanel.js"&gt;&lt;/script&gt;</span></pre><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nr"><img src="../Images/7af6b1fa0b68541e07c9a5c9971e9c1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4u0c13-bj-VdZwFAJndnKQ.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">位于我们的网站-index.html，添加上面的mixpanel脚本。</figcaption></figure><p id="7b79" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">11.测试一下！执行热重启，然后查看Mixpanel事件的结果！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ns"><img src="../Images/e4dfa4063ce667ffe11cc75fd00dc6ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qdOCkeiDKTVQzs-l9LDCdw.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">新重启的App！</figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nt"><img src="../Images/82cdc85257908ee6e7b88380fb04f0a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SYYwpqy2O5GMtCFc3G2qUw.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">因为我们在应用程序启动时初始化了我们的类——只要我们的main()被触发，它就会出现在这里！</figcaption></figure><p id="6d68" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">12.每当我们想看到一个事件时，调用initMixpanel类。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nu"><img src="../Images/ff6723d5830743abe6135f682dd892f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iQYlW8aQkmFhxCKDdqzolA.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">我们所需要做的就是用所需的字符串调用initMixpanel类，它会在树重建时出现！</figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nv"><img src="../Images/216e9bb57ddc5bb84f2837ac6f903c02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VMdf4lTml2RMiPVE2ocstw.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">这些是我们从initMixpanel类中创建的新捕获的事件！</figcaption></figure></div><div class="ab cl lq lr hu ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="ij ik il im in"><p id="5558" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这结束了我们的颤振网络与Mixpanel教程！</p><p id="4734" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从这里可以做几件事情，例如环境特定的触发器，隐藏令牌和api信息的正确方法，当按钮被按下时触发事件等等！</p><p id="0dc7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一定要检查Mixpanel文档，看看你还能做什么！</p><p id="152e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我希望这篇教程对你的帮助和对我的一样多！</p><p id="78ba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">干杯，</p></div></div>    
</body>
</html>