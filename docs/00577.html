<html>
<head>
<title>How to Build an Ionic Chat App with React and Stream</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用React和Stream搭建一个Ionic聊天App</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-build-an-ionic-chat-app-with-react-and-stream-739b67611280?source=collection_archive---------0-----------------------#2019-05-15">https://levelup.gitconnected.com/how-to-build-an-ionic-chat-app-with-react-and-stream-739b67611280?source=collection_archive---------0-----------------------#2019-05-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/a69976c2d55d47767b6a38691788df88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CMMkfmNoi28-21KQ4hwM-w.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">如何用React和Stream搭建一个Ionic聊天App</figcaption></figure><p id="78fa" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">与Ionic相比，<a class="ae la" href="https://facebook.github.io/react-native/" rel="noopener ugc nofollow" target="_blank"> React Native </a>和<a class="ae la" href="https://flutter.dev/" rel="noopener ugc nofollow" target="_blank"> Flutter </a>等平台之间存在巨大差异。Ionic认为，驱动当今网络的开放技术是未来的发展方向，应该用于构建移动应用。因为这种方法，Ionic是唯一一个流行的平台，允许你在网络和移动上重用相同的代码库。</p><p id="fdd5" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">另一方面，Flutter和React Native取代了web的技术堆栈。Flutter通过其<a class="ae la" href="https://github.com/flutter/flutter/wiki/The-Engine-architecture#architecture-overview" rel="noopener ugc nofollow" target="_blank">渲染引擎</a>来实现这一点，并将原生钩子反应到<a class="ae la" href="https://facebook.github.io/react-native/" rel="noopener ugc nofollow" target="_blank"> iOS和Android的原生渲染引擎</a>中。</p><p id="7c1f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">Ionic的好处是你可以使用开放的基于网络的技术，并且可以重用一个代码库。Flutter &amp; React Native不允许你复用那么多，但是他们的性能更接近于原生应用。</p><p id="313e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我在推特上关注了爱奥尼亚的创始人马克斯·林奇，并想尝试一下。事实证明，起床跑步是非常容易的。本教程向你展示了如何用React(你在网络上使用的普通老版本)和<a class="ae la" href="https://getstream.io/chat/" rel="noopener ugc nofollow" target="_blank"> Stream的聊天API </a>构建一个聊天应用。</p><blockquote class="lb lc ld"><p id="95df" class="kc kd le ke b kf kg kh ki kj kk kl km lf ko kp kq lg ks kt ku lh kw kx ky kz ij bi translated">如果你想跳过前面的内容，可以在<a class="ae la" href="https://appetize.io/app/afcadgqt1p2q26rqdecvb10w68?device=nexus5&amp;scale=100&amp;orientation=portrait&amp;osVersion=9.0&amp;deviceColor=white" rel="noopener ugc nofollow" target="_blank">quite</a>上看到一个演示，这样你就可以自己评估性能了(注意，ceilite确实会让速度慢一些)。你也可以<a class="ae la" href="https://cl.ly/549207e68774" rel="noopener ugc nofollow" target="_blank">下载安卓版的签名APK</a>以获得更好的体验。<a class="ae la" href="https://github.com/GetStream/ionic-chat-tutorial-react" rel="noopener ugc nofollow" target="_blank">这里是React / Ionic GitHub repo </a>这里是API GitHub repo 。</p></blockquote><p id="d966" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在本教程中，我将带您了解如何构建一个由React和Stream Chat支持的轻量级Ionic聊天应用程序。</p><blockquote class="lb lc ld"><p id="5dab" class="kc kd le ke b kf kg kh ki kj kk kl km lf ko kp kq lg ks kt ku lh kw kx ky kz ij bi translated">对此有一些要求，主要是Node.js的版本(我更喜欢使用nvm进行节点版本管理)，如果你在macOS上，则是iOS的<a class="ae la" href="https://developer.apple.com/xcode/" rel="noopener ugc nofollow" target="_blank"> XCode </a>，或者如果你在macOS或Windows上，并且想要针对Android进行构建，则是<a class="ae la" href="https://developer.android.com/studio" rel="noopener ugc nofollow" target="_blank"> Android Studio </a>，以及用于依赖管理的yarn。</p></blockquote><p id="e687" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们来编码吧！🤓</p><h1 id="4f68" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">1.安装离子</h1><p id="54a8" class="pw-post-body-paragraph kc kd iq ke b kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv mk kx ky kz ij bi translated">要开始使用Ionic，请使用npm下载Ionic CLI:</p><p id="14d3" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> $纱全球添加离子</strong></p><p id="f5ca" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">安装完成后，使用新的CLI从命令行登录Ionic:</p><p id="aa64" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> $ ionic登录</strong></p><p id="6330" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在，这就是我们要做的一切。我们将使用Create React App(下一步)继续安装。</p><h1 id="9a39" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">2.安装创建React应用程序和依赖项</h1><p id="2b95" class="pw-post-body-paragraph kc kd iq ke b kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv mk kx ky kz ij bi translated">与我们安装Ionic的方式类似，让我们继续使用npm在全球范围内安装Create React App (CRA ):</p><p id="816c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">$ yarn global add create-react-app</strong></p><p id="bb8d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">接下来，创建一个新目录。我将在我的<strong class="ke ir"> ~/Code </strong>目录中工作，但是您可以自由使用您选择的目录:</p><p id="bd12" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> $ cd ~/Code </strong></p><p id="3858" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在，使用CRA安装React(ionic-chat是将要生成的目录的名称——这也是可选的，因为您可以随意命名它):</p><p id="0070" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> $ npx创建-反应-应用离子-聊天</strong></p><p id="36a7" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">进入ionic-chat目录，我们将开始安装必要的依赖项。</p><p id="88a3" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> $ yarn添加流-聊天流-聊天-react axios react-路由器react-路由器-dom @ionic/react </strong></p><p id="a35a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">安装完依赖项后，让我们继续进行下一步设置。</p><h1 id="b24c" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">3.用Heroku设置API</h1><p id="267b" class="pw-post-body-paragraph kc kd iq ke b kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv mk kx ky kz ij bi translated">这个API虽然很小，但在聊天中起着重要的作用。该API接受来自登录屏幕的用户凭证，并生成一个在其中使用的JWT。它还将用户添加到频道中。</p><p id="36ca" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">为了加速API，我加入了一个简单的<a class="ae la" href="https://heroku.com/deploy?template=https://github.com/GetStream/ionic-chat-tutorial-react-api" rel="noopener ugc nofollow" target="_blank">一键式Heroku按钮</a>。这将在Heroku上生成一个新的应用程序，然后创建一个流聊天试用版供您使用。点击Heroku按钮后，系统会提示您添加一个应用程序名，要唯一。然后点击“部署”开始Heroku部署过程。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ml"><img src="../Images/cb031ec41dd4ebe62aa4208d32e3dc0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wPh5Fmzcw2n9OPcs7zehsw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">Heroku仪表板</figcaption></figure><p id="2512" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">安装完成后，从Heroku获取环境变量(它们是由Heroku创建时生成的)并放到您的<strong class="ke ir">中。env </strong>文件。环境变量可以在Heroku仪表板的“设置”部分找到，如Heroku 的这篇博文中的<a class="ae la" href="https://devcenter.heroku.com/articles/config-vars" rel="noopener ugc nofollow" target="_blank">所示。注意，只有一个环境变量叫做“STREAM_URL”。密钥和机密由“:”分隔，第一个是密钥，第二个是机密。</a></p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mq"><img src="../Images/aa0cf9a2b2c05ba5db87d1d45d009027.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-Yub8mF6HUur2m5tsJZVXQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">Heroku —环境变量</figcaption></figure><blockquote class="lb lc ld"><p id="1d2d" class="kc kd le ke b kf kg kh ki kj kk kl km lf ko kp kq lg ks kt ku lh kw kx ky kz ij bi translated">或者，如果你想跳过Heroku，你可以<a class="ae la" href="https://github.com/GetStream/ionic-chat-tutorial-react-api" rel="noopener ugc nofollow" target="_blank">克隆这个GitHub repo </a>并使用yarn start命令运行API确保在启动之前运行yarn install，并确保填写你的。env带有在Stream dashboard上找到的凭证(您将需要启用免费聊天试用)。</p></blockquote><h1 id="15d8" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">4.安装iOS模拟器</h1><p id="25f9" class="pw-post-body-paragraph kc kd iq ke b kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv mk kx ky kz ij bi translated">如果你已经安装了XCode，那你就基本上一切就绪了。如果没有，你想下载XCode，你可以在这里下载<a class="ae la" href="https://developer.apple.com/xcode/" rel="noopener ugc nofollow" target="_blank">。默认情况下，XCode与iOS模拟器捆绑在一起。</a></p><p id="7046" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果你不想安装XCode，你可以选择安装这个npm包，它会为你安装一个独立的iOS模拟器。</p><p id="585f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> $ yarn global添加ios-sim </strong></p><blockquote class="lb lc ld"><p id="e620" class="kc kd le ke b kf kg kh ki kj kk kl km lf ko kp kq lg ks kt ku lh kw kx ky kz ij bi translated">如何使用它的完整说明在这里:<a class="ae la" href="https://www.npmjs.com/package/ios-sim" rel="noopener ugc nofollow" target="_blank">https://www.npmjs.com/package/ios-sim</a></p></blockquote><h1 id="e5c2" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">5.安装Android Studio(可选)</h1><p id="bfa4" class="pw-post-body-paragraph kc kd iq ke b kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv mk kx ky kz ij bi translated">在装有macOS的iOS上运行似乎是测试你的代码最快的方法；然而，如果你使用的是Windows或者只是想使用Android，我会在下面介绍。</p><p id="0066" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">前往<a class="ae la" href="https://developer.android.com/studio/" rel="noopener ugc nofollow" target="_blank"> Android Studio下载页面</a>并选择您的下载选项。Android Studio适用于iOS、Windows和macOS。这是一个很大的文件，所以下载可能需要很长时间。</p><p id="8102" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">下载完成后，按照安装说明操作，打开Android Studio。我们将下载必要的SDK并创建一个Android虚拟设备(AVD)。</p><p id="32cf" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">打开Android Studio，点击“配置”，然后点击“SDK管理器”。</strong></p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mr"><img src="../Images/2c88fa22f60d1dc727d966d1e47ac0e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9Lp4muQuewXTAD_nYwSFfA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">Android Studio —配置</figcaption></figure><p id="4b0f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">在SDK管理器打开的情况下，选择“Android 9.0 (Pie)”，然后单击“应用”。</strong></p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ms"><img src="../Images/a0dadf9ccbf46fc97af0bf05a8918cbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2n7ayFXOBdgO0nm-pNraaw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">Android Studio — Android 9.0 (Pie)</figcaption></figure><p id="28f5" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">您的下载将开始。完成后，返回主屏幕，点击“配置”按钮，然后点击“AVD管理器”。在AVD管理器屏幕上，您需要单击“+创建虚拟设备”。</p><p id="6cd8" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">选择“Pixel 3 XL”设备，然后点击“下一步”。为您的API级别选择“饼图(28)”，然后单击“下一步”按钮。</strong></p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mt"><img src="../Images/ef7787c2a16373273b023fd1833ca3d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3FRxvcvyc3fO5W_PtDdUzw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">Android Studio —操作系统下载</figcaption></figure><p id="7ce6" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">最后，点击“完成”,你的AVD将被配置。一旦完成，您可以安全地退出AVD屏幕，您将在AVD管理器中看到您新创建的AVD。</strong></p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mr"><img src="../Images/5ea633f3405f1546a611f2b1f8dca680.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lJWjZ5k6KId_PLvyQDnkGg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">AVD经理</figcaption></figure><p id="3767" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果您点击绿色的播放按钮，您的AVD将会启动！</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/b82d2ccb7d4decc2869cfdf70b697b0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*PebrUP45OO2use52lPXDBw.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">Android Pie模拟器</figcaption></figure><p id="a774" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">恭喜你！您已经成功地在Android Studio中生成了一个AVD！我们现在还不打算使用它，但是在本教程后面的测试中，AVD将会派上用场。</p><h1 id="94f8" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">6.创建文件</h1><p id="5f5f" class="pw-post-body-paragraph kc kd iq ke b kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv mk kx ky kz ij bi translated">我们已经设置好了一切，现在是时候添加必要的文件来使我们的代码工作了！我们需要创建一些文件，所以请密切注意:</p><ol class=""><li id="02a9" class="mv mw iq ke b kf kg kj kk kn mx kr my kv mz kz na nb nc nd bi translated">在你的根目录下，创建<strong class="ke ir"> ionic.config.json </strong>，内容如下:</li></ol><figure class="mm mn mo mp gt jr"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">ionic.config.json</figcaption></figure><p id="7040" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">2.在<strong class="ke ir"> public/index.html </strong>中，将当前html替换为以下内容:</p><figure class="mm mn mo mp gt jr"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">public/index.html</figcaption></figure><p id="8aa0" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">3.进入<strong class="ke ir"> src/ </strong>目录，我们将创建并修改几个文件:</p><p id="be61" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">在app.css中，将所有现有的css换成这个:</strong></p><figure class="mm mn mo mp gt jr"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">App.css</figcaption></figure><p id="285d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">在App.js中，替换掉这个JavaScript的现有代码(这个逻辑将负责文件之间的路由):</strong></p><figure class="mm mn mo mp gt jr"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">App.js</figcaption></figure><p id="6dda" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">创建一个名为AuthedRoute.js的文件，并将以下内容放入该文件:</strong></p><figure class="mm mn mo mp gt jr"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">AuthedRoute.js</figcaption></figure><p id="53fb" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">创建一个名为Chat.js的文件，并使用下面的代码(这是支持Chat的所有逻辑):</strong></p><figure class="mm mn mo mp gt jr"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">聊天. js</figcaption></figure><p id="8f1d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">接下来，创建一个名为Login.js的文件，并使用以下代码(这会将auth添加到您的应用程序中):</strong></p><figure class="mm mn mo mp gt jr"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">Login.js</figcaption></figure><blockquote class="lb lc ld"><p id="9e8d" class="kc kd le ke b kf kg kh ki kj kk kl km lf ko kp kq lg ks kt ku lh kw kx ky kz ij bi translated">请记住在您的。env与您的Heroku端点。</p></blockquote><p id="2831" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">现在，创建一个名为un delegate route . js的文件，以容纳未经身份验证就进入的用户:</strong></p><figure class="mm mn mo mp gt jr"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">un delegate route . js</figcaption></figure><p id="e3a2" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">创建一个名为withSession.js的文件:</strong></p><figure class="mm mn mo mp gt jr"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">withSession.js</figcaption></figure><p id="558e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">4.在package.json文件中安装Ionic构建脚本:</p><figure class="mm mn mo mp gt jr"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">package.json</figcaption></figure><p id="ddae" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">Capacitor是Ionic提供的开源框架，可以帮助你构建渐进式的本地网络应用、移动应用和桌面应用。它针对Ionic应用进行了优化；然而，它几乎可以用于任何框架。</p><p id="c1a7" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们将使用Capacitor来提升和准备我们的iOS和Android版本。不过首先，让我们安装电容器！</p><p id="b470" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> $离子电容加ios </strong></p><p id="ffc9" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">然后，从根目录使用以下命令启动React应用程序:</p><p id="e0bb" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> $纱开始</strong></p><p id="54dd" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在iOS上打开:</p><p id="f17c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> $离子电容开ios </strong></p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/4aad2b8fba26f0bcc8d9d573cafc8652.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MhG6AxV38Hwq5UFABtnDMQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">电容— iOS</figcaption></figure><p id="22aa" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">或者，在Android上打开:</p><p id="2c7b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> $离子电容开安卓</strong></p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/bfedccb34bf06334e811529e4c18c96c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AF5EDO6Qlc72uL-7xGOkTw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">电容器— Android</figcaption></figure><p id="b566" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">因为我运行的是macOS，所以我将使用iOS模拟器。运行<strong class="ke ir">离子电容打开ios </strong>后，XCode将启动。您需要等待大约一分钟，让它对项目进行索引，然后您可以按下run按钮。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nh"><img src="../Images/877dd3ab20c7480e92024b7f7b19c8e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EwABnG70hnBhIn3H-pqnVA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">XCode</figcaption></figure><p id="c544" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">您的iOS模拟器应该在安装了应用程序的情况下启动，您应该会看到类似于以下内容的登录屏幕:</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/6a3aad73658ef3a96b0190b6aad2bdf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*pNI9YhkT0wJUZSH3jkaHiw.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">iOS —登录</figcaption></figure><p id="6549" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">继续使用您的姓名和电子邮件地址登录。别担心，您的信息仅存储在本地存储中，不会保存到任何第三方平台。加载聊天窗口后，您就可以开始聊天了！</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/6a70ecb8ea4f70b66feade68d94fbc8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*3mfK5Lvh2B9TdGpdqcCb_A.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">iOS —聊天</figcaption></figure><h1 id="0d26" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">下一步是什么？</h1><p id="0aa1" class="pw-post-body-paragraph kc kd iq ke b kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv mk kx ky kz ij bi translated">我鼓励你继续开发你已经创建的代码库。如果你遇到了任何问题，你可以从GitHub 中克隆回购协议来重新开始。</p><p id="b89a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在将应用程序部署到iOS或Android等独立设备方面，Ionic有一套很好的教程来指导如何做。iOS和Android出版物的教程<a class="ae la" href="https://ionicframework.com/docs/publishing/app-store" rel="noopener ugc nofollow" target="_blank">都可以在Ionic文档</a>中找到。</p><p id="0143" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">想了解更多<a class="ae la" href="https://getstream.io/chat/" rel="noopener ugc nofollow" target="_blank">流聊</a>？看看我们的交互式<a class="ae la" href="https://getstream.io/chat/get_started/" rel="noopener ugc nofollow" target="_blank"> API之旅</a>，它将带您从零开始使用Stream创建聊天的各个步骤。我们也有令人惊奇的API文档和漂亮的UI套件，允许你建立任何类型的聊天。</p><p id="9b90" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">编码快乐！✌</p></div></div>    
</body>
</html>