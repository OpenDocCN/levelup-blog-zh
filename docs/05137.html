<html>
<head>
<title>Pandas: Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫:蟒蛇</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/pandas-python-e69f4829fee1?source=collection_archive---------8-----------------------#2020-08-06">https://levelup.gitconnected.com/pandas-python-e69f4829fee1?source=collection_archive---------8-----------------------#2020-08-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ce9a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Pandas是一个功能强大且易于使用的开源工具，专门用于数据分析和操作。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e372d4edd9928ba49ed78beb9fb5afc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f4b2ryaKqlOaTVOXLS7_Lg.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">锡德·巴拉钱德朗在<a class="ae ky" href="https://unsplash.com/s/photos/pandas?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="c3b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Pandas是在NumPy包的基础上构建的，它的关键数据结构叫做Dataframe。熊猫还支持另一种数据结构，叫做Series。在本文中，我们将学习更多关于系列和数据框架的知识。</p><p id="461c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Pandas主要用于数据操作、数据可视化、构建机器学习工具等。如果我们在Python中使用Pandas，我们必须熟悉NumPy库。</p><p id="567d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Pandas是Python中使用最多的库之一。要初始化Pandas库，使用的命令是:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="9b12" class="ma mb it lw b gy mc md l me mf">import pandas as pd</span></pre><p id="9c66" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如前所述，Pandas中有两种主要的数据结构:</p><ol class=""><li id="67fa" class="mg mh it lb b lc ld lf lg li mi lm mj lq mk lu ml mm mn mo bi translated">系列</li><li id="b428" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu ml mm mn mo bi translated">数据帧</li></ol><h2 id="8e40" class="ma mb it bd mu mv mw dn mx my mz dp na li nb nc nd lm ne nf ng lq nh ni nj nk bi translated">系列</h2><p id="3d75" class="pw-post-body-paragraph kz la it lb b lc nl ju le lf nm jx lh li nn lk ll lm no lo lp lq np ls lt lu im bi translated">系列是熊猫中最基本的对象。这是一个一维数组，能够保存任何类型的数据(整数、字符串、浮点等)。).与NumPy数组不同，Series可以存储非数字数据(字符、时间、日期、布尔值等。).</p><p id="6c4b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们通过使用以下命令从阵列创建Pandas系列:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="c817" class="ma mb it lw b gy mc md l me mf">pd.Series(data, dtype)</span></pre><p id="a33d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们创建一个简单的熊猫系列:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><p id="be32" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出看起来会像这样。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/fdc4e58b5922e670c32a55b4f4a56d96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*CeMim2Q5RnxraT6YdlDZtg.jpeg"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">熊猫系列</figcaption></figure><p id="e8c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有另一种称为<strong class="lb iu">日期时间</strong>的序列类型，一旦我们给出开始和结束日期，它将显示从开始到结束的日期。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><p id="e5a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">代码的输出如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/fb01d4eb01c51626c27d7ea9564d0859.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JgGBK6S8oKTMLHJgWbgVww.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">Python中的日期序列</figcaption></figure><p id="c5d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上述series对象的数据类型称为“Datetime”。</p><blockquote class="ob"><p id="0e66" class="oc od it bd oe of og oh oi oj ok lu dk translated">序列中的每个元素都有一个索引，索引从“0”开始。</p></blockquote><h2 id="5449" class="ma mb it bd mu mv ol dn mx my om dp na li on nc nd lm oo nf ng lq op ni nj nk bi translated">数据帧</h2><p id="bc74" class="pw-post-body-paragraph kz la it lb b lc nl ju le lf nm jx lh li nn lk ll lm no lo lp lq np ls lt lu im bi translated">Dataframe是一种二维数据结构，它允许我们按照行和列来存储和操作数据。数据帧主要是由行和列组成的表格。</p><p id="a029" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建数据帧的方法有很多，比如从字典、JSON对象、从。txt，。csv文件等。</p><p id="263c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">从字典创建数据帧:</strong></p><p id="0afa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们有一组国家的人口、首都及其面积的数据。现在，我们必须创建一个以“国家”、“人口”和“地区”为关键字的字典，并将它们与值对应起来。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><p id="c915" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上述代码的输出如下所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/f383769137fef69307866e0e5c51c6b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:858/format:webp/1*oAf__nlq6aVDmMwKcXsQgQ.jpeg"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">数据帧</figcaption></figure><p id="af74" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">通过导入文件创建数据帧:</strong></p><p id="d4eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建数据帧的另一种方法是使用Pandas导入文件。</p><p id="f02a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们的系统中有一个cars.csv文件，其中包含以下数据:</p><ul class=""><li id="0230" class="mg mh it lb b lc ld lf lg li mi lm mj lq mk lu or mm mn mo bi translated">区域码</li><li id="5a54" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu or mm mn mo bi translated">国家</li><li id="8d9a" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu or mm mn mo bi translated">国家代码</li><li id="7760" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu or mm mn mo bi translated">人均汽车</li><li id="4eea" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu or mm mn mo bi translated">向右行驶</li></ul><p id="e0e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">文件中的数据如下所示</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi os"><img src="../Images/0e5fbcabea3c0cd606fc33494408d4da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1038/format:webp/1*Xd63b1P8lv65rL-fpyEf_Q.jpeg"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">数据输入。csv文件</figcaption></figure><p id="ddbe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，如果文件存储在我们当前的工作目录中，我们可以简单地通过<strong class="lb iu"> read_csv </strong>命令导入数据:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><p id="1b06" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上述代码的输出将是:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/984c5161611e9aa78fbb88046dd8a9fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/format:webp/1*NGk4-MS8B-mF2sYnbgkNhw.jpeg"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">的输出。csv文件</figcaption></figure><p id="a939" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们观察。csv文件在输出中作为列标题，而不是值。让我们看看如何防止这种情况:</p><p id="eacc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们只需在<strong class="lb iu"> read_csv </strong>命令中传递<strong class="lb iu"> header = None </strong>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><p id="a338" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出将是:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/4cf5c5faab2cf2a615036a84701ec9be.png" data-original-src="https://miro.medium.com/v2/resize:fit:730/format:webp/1*t1Topc-Byog0QQo_Rak9kg.jpeg"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">没有标题的输出</figcaption></figure><p id="a34a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果文件不在我们的工作目录中，那么在read命令中我们必须传递文件位置的路径，以便从. csv中读取数据。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><p id="0850" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们传递上面的命令，我们将得到与上面相同的输出。</p><blockquote class="ob"><p id="97ae" class="oc od it bd oe of og oh oi oj ok lu dk translated">在传递文件的位置路径时，我们必须确保在位置路径中应该是“/”，而不是“\”。</p></blockquote><p id="c75a" class="pw-post-body-paragraph kz la it lb b lc ov ju le lf ow jx lh li ox lk ll lm oy lo lp lq oz ls lt lu im bi translated">数据帧中最重要的概念是<strong class="lb iu">索引</strong>和<strong class="lb iu">标签。</strong></p><h2 id="2d06" class="ma mb it bd mu mv mw dn mx my mz dp na li nb nc nd lm ne nf ng lq nh ni nj nk bi translated">数据框架:索引</h2><p id="27f3" class="pw-post-body-paragraph kz la it lb b lc nl ju le lf nm jx lh li nn lk ll lm no lo lp lq np ls lt lu im bi translated">如果我们看到了上面的dataframe输出，我们可以观察到每一行都有一个从“0”开始的索引。</p><p id="dc0f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了使输出更有意义，我们可以通过在<strong class="lb iu"> read_csv </strong>命令中输入<strong class="lb iu"> index_col </strong>来操作索引。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><p id="3f71" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上述命令的输出将是:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pa"><img src="../Images/769d5e56997ef67ed6ca7e246486ef1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:676/format:webp/1*ZzcAgZgVpjks_SbVvQGKYQ.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">删除默认索引</figcaption></figure><p id="5ffe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，删除索引“2”的标签。我们将编写以下命令</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><p id="98d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">执行上述命令后，输出将是，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/a07349c7690f91b03195962f65269971.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/1*-FBQsyXMzFsWj7QXhtD6Rw.jpeg"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">删除索引号</figcaption></figure><p id="30da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">拥有有意义的行索引有助于我们轻松地对数据帧进行子集划分。现在，让我们看看如何标记列索引。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><p id="e55e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出将是，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/67ddd25679dfeca4466f93946bf771d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/format:webp/1*8YIVKe61IyrC9h1v6fLvIw.jpeg"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">标记列索引</figcaption></figure><p id="7093" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">没有列标签，很难理解列中的信息是关于什么的。</p><p id="2d3d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们也可以有多个索引作为行。被称为<strong class="lb iu">多重分度</strong>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><p id="a059" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出将是，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/5e7ce376aaf831863811e94db9aa0c29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/1*M6Lq-CitGCaeNRJrE8r4yQ.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">多重指数</figcaption></figure><p id="827f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们需要数据帧中的索引信息，我们只需传递命令<strong class="lb iu"> dataframe.index. </strong></p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="f370" class="ma mb it lw b gy mc md l me mf">cars.index</span></pre><p id="c029" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">索引信息如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/5bcc181c700696b804238b268a6d7d31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1064/format:webp/1*e0UiYtviQZitJMJDTICA8g.jpeg"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">关于索引的信息</figcaption></figure><p id="7e1f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有许多命令，如:</p><ol class=""><li id="1562" class="mg mh it lb b lc ld lf lg li mi lm mj lq mk lu ml mm mn mo bi translated"><strong class="lb iu"> dataframe.head(n): </strong>这将给出dataframe中的前n个条目。</li><li id="ebb1" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu ml mm mn mo bi translated"><strong class="lb iu"> dataframe.tail(n): </strong>这给出了一个数据帧的最后n个条目。</li><li id="e525" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu ml mm mn mo bi translated"><strong class="lb iu"> dataframe.info(): </strong>打印数据帧的信息，如索引数据类型和列数据类型，非空值的计数等。</li><li id="66a6" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu ml mm mn mo bi translated"><strong class="lb iu"> dataframe.describe(): </strong>这有助于生成数据帧的描述性统计数据，即平均值、中值、最小值、最大值等。</li></ol><p id="28b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦我们开始使用Pandas，我们会遇到更多这样的命令，比如使用lambda函数创建新列，如何在dataframe中创建分层索引，如何使用标签，以及使用<strong class="lb iu">进行基于位置的索引。锁定</strong>和<strong class="lb iu">。iloc </strong>方法等。要了解更多关于这样的二元运算，你可以访问这个<a class="ae ky" href="https://pandas.pydata.org/pandas-docs/version/0.25/reference/frame.html#binary-operator-functions" rel="noopener ugc nofollow" target="_blank">链接</a>。</p><h2 id="63d8" class="ma mb it bd mu mv mw dn mx my mz dp na li nb nc nd lm ne nf ng lq nh ni nj nk bi translated">分组和旋转:熊猫</h2><p id="4ad2" class="pw-post-body-paragraph kz la it lb b lc nl ju le lf nm jx lh li nn lk ll lm no lo lp lq np ls lt lu im bi translated"><strong class="lb iu">分组</strong>是数据分析中最常用的操作。分组分析有三个部分:</p><ul class=""><li id="756a" class="mg mh it lb b lc ld lf lg li mi lm mj lq mk lu or mm mn mo bi translated">将数据分组</li><li id="01b9" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu or mm mn mo bi translated">对每个组应用必要的函数</li><li id="ed5b" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu or mm mn mo bi translated">将结果合并到数据结构中</li></ul><p id="f914" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们有一个名为“车辆”的excel表格，</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><p id="4955" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，车辆数据框看起来像这样</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/c05559769336bba95e07065ed20bef55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1072/format:webp/1*0-qjBzd_U7O2gyx9nD_vRg.jpeg"/></div></figure><blockquote class="ob"><p id="d8cf" class="oc od it bd oe of pg ph pi pj pk lu dk translated">上图所示的值是随机生成的。它只是用来学习概念的。</p></blockquote><p id="dfa4" class="pw-post-body-paragraph kz la it lb b lc ov ju le lf ow jx lh li ox lk ll lm oy lo lp lq oz ls lt lu im bi translated">现在，如果我们想知道在r.t. Market上完成了多少订单和销售，我们可以直接对这两列进行分组，并在分组结束时通过传递<strong class="lb iu"> sum() </strong>对完成的订单进行求和。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><p id="e1c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，车辆的输出看起来像，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pl"><img src="../Images/2399c4b18c277769084091f2dad1673d.png" data-original-src="https://miro.medium.com/v2/resize:fit:626/format:webp/1*a4aWeqbM980hnXux-m5YzA.jpeg"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">分组西印度群岛市场</figcaption></figure><p id="86b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了使用<strong class="lb iu">sum()</strong>方法，我们还可以根据自己的需要使用很多其他方法，如<strong class="lb iu"> max() </strong>、<strong class="lb iu"> min() </strong>、<strong class="lb iu"> mean() </strong>。通过导入<strong class="lb iu">Matplotlib</strong>库，我们还可以使用dataframe根据列中的数据绘制图表。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><p id="65f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面代码的条形图看起来像，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pm"><img src="../Images/71df6988a2f62220b90738408cf98fdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/format:webp/1*1KFgXb7SHUNWhkBHELKMkw.jpeg"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">数据帧的图形表示</figcaption></figure><p id="367b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以看我以前的文章<strong class="lb iu">、</strong>、<strong class="lb iu"> Matplotlib: Python </strong>、、，在那里我解释了如何用Python实现图形。现在，让我们看看熊猫的旋转。</p><h2 id="ff27" class="ma mb it bd mu mv mw dn mx my mz dp na li nb nc nd lm ne nf ng lq nh ni nj nk bi translated"><strong class="ak">绕轴旋转</strong></h2><p id="bef3" class="pw-post-body-paragraph kz la it lb b lc nl ju le lf nm jx lh li nn lk ll lm no lo lp lq np ls lt lu im bi translated"><strong class="lb iu"> pivot() </strong>函数用于重塑由给定索引/列值组织的给定数据帧。使用透视使您可以使用一组分组标签作为结果表的列。</p><p id="cd03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看一个例子，</p><p id="959a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们在一个数据帧中有以下数据。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/e5516e14ce0f8f689f456dac73b7a781.png" data-original-src="https://miro.medium.com/v2/resize:fit:618/format:webp/1*ESWE2yoh_0SeKe8tsq4BMQ.jpeg"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">透视前的数据帧</figcaption></figure><p id="02ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们观察上面的图片，我们可以看到工作日索引和城市列有重复的条目。通过使用Pivot，我们可以使数据框架更加精确。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><p id="3b18" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">结果数据帧看起来像这样，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi po"><img src="../Images/7800c327388cd5c80916452d312009e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/format:webp/1*VQHaA7z5NWOqJlXcsiwSDg.jpeg"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">旋转后的数据框架</figcaption></figure><p id="562b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以看到原始数据帧和应用<strong class="lb iu"> pivot()后的数据帧的差异。</strong></p><h1 id="8f53" class="pp mb it bd mu pq pr ps mx pt pu pv na jz pw ka nd kc px kd ng kf py kg nj pz bi translated">结论</h1><p id="89ae" class="pw-post-body-paragraph kz la it lb b lc nl ju le lf nm jx lh li nn lk ll lm no lo lp lq np ls lt lu im bi translated">Pandas为Python中的数据分析提供了各种函数。我们已经了解了系列和数据框架，它们是Pandas及其功能提供的基本数据结构。熊猫是一个很大的话题，随着我们练习得越来越多，我们会遇到各种各样的方法和功能。但是，这些是我们在使用熊猫图书馆时需要知道的最基本的功能。</p><p id="0058" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">感谢您阅读</strong>和<strong class="lb iu">快乐编码！！！</strong></p><h1 id="7dab" class="pp mb it bd mu pq pr ps mx pt pu pv na jz pw ka nd kc px kd ng kf py kg nj pz bi translated">在这里查看我以前关于Python的文章</h1><ul class=""><li id="4434" class="mg mh it lb b lc nl lf nm li qa lm qb lq qc lu or mm mn mo bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/matplotlib-python-ecc7ba303848">T5】Matplotlib:PythonT7】</a></li><li id="2eff" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu or mm mn mo bi translated"><a class="ae ky" href="https://medium.com/coderbyte/numpy-python-f8c8f2bbd13e" rel="noopener"> <strong class="lb iu"> NumPy: Python </strong> </a></li><li id="67b3" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu or mm mn mo bi translated"><a class="ae ky" href="https://medium.com/swlh/time-complexity-and-its-importance-in-python-2b2ba03c786b" rel="noopener"><strong class="lb iu">Python中的时间复杂度及其重要性</strong> </a></li><li id="b5df" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu or mm mn mo bi translated"><a class="ae ky" href="https://medium.com/python-in-plain-english/python-recursion-or-recursive-function-in-python-5802c74c1844" rel="noopener"> <strong class="lb iu"> Python中的递归或递归函数</strong> </a></li><li id="9ae1" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu or mm mn mo bi translated"><a class="ae ky" href="https://medium.com/python-in-plain-english/python-programs-to-check-for-armstrong-number-n-digit-and-fenced-matrix-bc84a1bf32aa" rel="noopener"> <strong class="lb iu"> Python程序检查阿姆斯特朗数(n位数)和栅栏矩阵</strong> </a></li><li id="a874" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu or mm mn mo bi translated"><a class="ae ky" href="https://medium.com/python-in-plain-english/python-problems-for-basics-reference-swapping-factorial-reverse-digits-pattern-print-241dde763c74" rel="noopener"> <strong class="lb iu"> Python:基础参考问题——对换、阶乘、倒位数、模式打印</strong> </a></li></ul><h1 id="00e8" class="pp mb it bd mu pq pr ps mx pt pu pv na jz pw ka nd kc px kd ng kf py kg nj pz bi translated">参考</h1><ul class=""><li id="0e71" class="mg mh it lb b lc nl lf nm li qa lm qb lq qc lu or mm mn mo bi translated"><strong class="lb iu">蟒蛇熊猫教程:</strong><a class="ae ky" href="https://www.tutorialspoint.com/python_pandas/index.htm" rel="noopener ugc nofollow" target="_blank">https://www.tutorialspoint.com/python_pandas/index.htm</a></li><li id="0897" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu or mm mn mo bi translated"><strong class="lb iu">熊猫基础知识</strong>:<a class="ae ky" href="https://www.learnpython.org/en/Pandas_Basics" rel="noopener ugc nofollow" target="_blank">https://www.learnpython.org/en/Pandas_Basics</a></li><li id="df57" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu or mm mn mo bi translated"><strong class="lb iu"> Python熊猫教程:初学者完全入门:</strong><a class="ae ky" href="https://www.learndatasci.com/tutorials/python-pandas-tutorial-complete-introduction-for-beginners/" rel="noopener ugc nofollow" target="_blank">https://www . learn datasci . com/tutorials/Python-Pandas-tutorials-Complete-Introduction-for-初学者/ </a></li><li id="2510" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu or mm mn mo bi translated"><strong class="lb iu">熊猫:</strong>https://www.kaggle.com/learn/pandas<a class="ae ky" href="https://www.kaggle.com/learn/pandas" rel="noopener ugc nofollow" target="_blank"/></li><li id="c117" class="mg mh it lb b lc mp lf mq li mr lm ms lq mt lu or mm mn mo bi translated"><strong class="lb iu"> Pandas DataFrame: pivot()函数:</strong><a class="ae ky" href="https://www.w3resource.com/pandas/dataframe/dataframe-pivot.php" rel="noopener ugc nofollow" target="_blank">https://www . w3 resource . com/Pandas/data frame/data frame-pivot . PHP</a></li></ul></div></div>    
</body>
</html>