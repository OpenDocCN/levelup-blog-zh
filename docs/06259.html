<html>
<head>
<title>Memory management in swift (Part -01)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">swiftä¸­çš„å†…å­˜ç®¡ç†(ç¬¬ä¸€éƒ¨åˆ†)</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/arc-memory-management-in-swift-165fd0329f16?source=collection_archive---------8-----------------------#2020-11-09">https://levelup.gitconnected.com/arc-memory-management-in-swift-165fd0329f16?source=collection_archive---------8-----------------------#2020-11-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="66ad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æè¿°å¦‚ä½•åœ¨Swiftä¸­ä½¿ç”¨è‡ªåŠ¨å¼•ç”¨è®¡æ•°æ¥ç®¡ç†åº”ç”¨ç¨‹åºå†…å­˜ã€‚</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/4ec0ab04fc40b9361d9b69f617172d0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nAVeH4muYbtwXnjShsRvdQ.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">ç“¦ä¼¦ä¸Â·å¡”çº³ç´¢ç»´å¥‡é€šè¿‡<a class="ae lb" href="https://www.pexels.com/@pixabay" rel="noopener ugc nofollow" target="_blank">æ´¾å…‹æ–¯</a>æ‹æ‘„çš„ç…§ç‰‡</figcaption></figure><h1 id="f834" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">æ¦‚è§‚</h1><p id="7619" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">å¼€å‘ç§»åŠ¨åº”ç”¨ç¨‹åºæ—¶ï¼Œå†…å­˜æ˜¯ä¸€ä¸ªå¤§é—®é¢˜ã€‚ä¸å¯»å¸¸çš„å†…å­˜è®¿é—®ä¼šé™ä½åº”ç”¨ç¨‹åºçš„æ€§èƒ½ï¼Œå¯¼è‡´åº”ç”¨ç¨‹åºæ„å¤–å´©æºƒã€‚å¹¸è¿çš„æ˜¯ï¼ŒSwiftä½¿ç”¨ARC(è‡ªåŠ¨å¼•ç”¨è®¡æ•°)æ¥ç®¡ç†æ‚¨çš„åº”ç”¨ç¨‹åºå†…å­˜ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼ŒARCä¼šè‡ªå·±æ¸…ç†å†…å­˜ï¼Œä½†æœ‰æ—¶ä¼šå› ä¸ºæŸäº›å…³ç³»è€Œæ— æ³•æ¸…ç†ã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨ARCæ¥é‡Šæ”¾Swiftçš„å†…å­˜ã€‚</p><blockquote class="mf mg mh"><p id="8e6e" class="jn jo mi jp b jq jr js jt ju jv jw jx mj jz ka kb mk kd ke kf ml kh ki kj kk ij bi translated"><em class="iq">æœ¬æ•™ç¨‹ä½¿ç”¨</em> <strong class="jp ir"> <em class="iq"> Swift 5ï¼ŒXcode 12.1ç¼–å†™ã€‚</em>T9ã€‘</strong></p></blockquote><h1 id="0ede" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">ä»€ä¹ˆæ˜¯ARCï¼Ÿ</h1><p id="e155" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">å½“æˆ‘ä»¬ä½¿ç”¨init()åˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹æ—¶ï¼Œä¼šä¸ºå®ƒåˆ†é…ä¸€äº›å†…å­˜å—ã€‚å½“ä¸å†ä½¿ç”¨è¿™ä¸ªå®ä¾‹æ—¶ï¼Œè°ƒç”¨deinit()æ–¹æ³•ï¼ŒARCé‡Šæ”¾è¯¥å¯¹è±¡å ç”¨çš„å†…å­˜ã€‚</p><p id="5b2c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä½†äº‹æƒ…å¹¶ä¸æ˜¯æ¯æ¬¡éƒ½è¿™ä¹ˆç®€å•ã€‚æœ‰æ—¶ç”±äºæŸç§å…³ç³»ï¼Œdeinit()æ–¹æ³•ä¸æ‰§è¡Œï¼ŒARCä¸èƒ½é‡Šæ”¾å†…å­˜ã€‚æ‚¨å¯èƒ½ä¼šæ³¨æ„åˆ°ï¼Œåœ¨iOSå¼€å‘ä¸­ï¼Œæœ‰æ—¶å˜é‡ä½¿ç”¨å¼±å…³é”®å­—æˆ–æ— ä¸»å…³é”®å­—å£°æ˜ã€‚è¿™äº›å…³é”®å­—å®é™…ä¸Šä¸ä¸€ä¸ªå˜é‡å’Œä¸€ä¸ªç±»è”ç³»åœ¨ä¸€èµ·ã€‚æˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•èªæ˜åœ°å¤„ç†å®ƒä»¬å¹¶é‡Šæ”¾æœªä½¿ç”¨çš„å†…å­˜ã€‚</p><h1 id="4101" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">â€œå¼ºâ€å‚è€ƒå’Œä¿ç•™å‘¨æœŸ</h1><p id="03c7" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç®€å•çš„ç±»<strong class="jp ir"> Student </strong>ï¼Œå®ƒæœ‰ä¸€ä¸ªå±æ€§åˆå§‹åŒ–å™¨æ¥åˆå§‹åŒ–å®ƒçš„å±æ€§ã€‚</p><pre class="km kn ko kp gt mm mn mo mp aw mq bi"><span id="18e7" class="mr ld iq mn b gy ms mt l mu mv">class Student {<br/>    let studentName: String<br/>    init(studentName: String) {<br/>        self.studentName = studentName<br/>        print("\(studentName) created")<br/>    }</span><span id="fba1" class="mr ld iq mn b gy mw mt l mu mv"><strong class="mn ir">    </strong>deinit {<br/>        print("Deinit student \(studentName)")<br/>    }<br/>}</span></pre><p id="bdfa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å­¦ç”Ÿç±»ä¹Ÿæœ‰ä¸€ä¸ªååˆå§‹åŒ–å™¨ã€‚å½“ä¸€ä¸ªç±»çš„å±æ€§è¢«ARCä»å†…å­˜ä¸­å–æ¶ˆåˆå§‹åŒ–æ—¶ï¼Œå°†è°ƒç”¨deinit()æ–¹æ³•ã€‚</p><p id="c5e7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç®€å•çš„å˜é‡<strong class="jp ir">å­¦ç”Ÿ</strong>çš„<strong class="jp ir">å­¦ç”Ÿ</strong>ç±»ã€‚è¯¥å˜é‡å°†åˆ›å»ºä¸€ä¸ªå¯¹<strong class="jp ir"> Student </strong>ç±»çš„å¼ºå¼•ç”¨ï¼ŒStudentç±»çš„å¼•ç”¨è®¡æ•°å°†å˜ä¸º0æ¯”1ã€‚</p><pre class="km kn ko kp gt mm mn mo mp aw mq bi"><span id="29d6" class="mr ld iq mn b gy ms mt l mu mv">var student: Student? = Student(studentName: â€œJohnâ€)</span><span id="c170" class="mr ld iq mn b gy mw mt l mu mv"><strong class="mn ir">Console output:</strong><br/><em class="mi">John created</em></span></pre><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/b8e5a927ad2f96fd6cbb7973695a9d5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:938/format:webp/1*fs5X541jLadMlnyONCx2hA.png"/></div></figure><p id="73d6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†<strong class="jp ir">å­¦ç”Ÿ</strong>å˜é‡å€¼è®¾ç½®ä¸ºé›¶æ¥ç§»é™¤å¼•ç”¨ã€‚<strong class="jp ir"> <em class="mi">æ³¨æ„</em> </strong> <strong class="jp ir"> <em class="mi">æ³¨æ„ï¼Œé€šè¿‡å°†å˜é‡è®¾ç½®ä¸ºé›¶ï¼Œæˆ‘ä»¬ä¸æ˜¯åˆ é™¤å˜é‡ï¼Œè€Œä¸ä»…ä»…æ˜¯åˆ é™¤å¼•ç”¨ã€‚</em>T29ã€‘</strong></p><pre class="km kn ko kp gt mm mn mo mp aw mq bi"><span id="6d2a" class="mr ld iq mn b gy ms mt l mu mv">student = nil</span><span id="53ad" class="mr ld iq mn b gy mw mt l mu mv"><strong class="mn ir">Console output:<br/></strong><em class="mi">Deinit student John</em></span></pre><p id="18c0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¯¥è¯­å¥å°†åˆ é™¤<strong class="jp ir">å­¦ç”Ÿ</strong>å˜é‡ä¸<strong class="jp ir">å­¦ç”Ÿ</strong>ç±»çš„å…³ç³»ï¼Œæ‰§è¡Œdeinit()æ–¹æ³•ï¼Œå¹¶ä¸”<strong class="jp ir">å­¦ç”Ÿ</strong>ç±»å¼•ç”¨è®¡æ•°ä»1å˜ä¸º0ã€‚</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi my"><img src="../Images/4e10be4e003d2756a80b40ff042d5c2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:942/format:webp/1*eF-VE_eLwYVOWtch5YMdCQ.png"/></div></figure><p id="56a6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨å‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªä¸åŒçš„ç­çº§ä½œä¸º<strong class="jp ir">å­¦ç”Ÿ</strong>å’Œ<strong class="jp ir">è¯¾ç¨‹</strong></p><pre class="km kn ko kp gt mm mn mo mp aw mq bi"><span id="1f08" class="mr ld iq mn b gy ms mt l mu mv">class Student {<br/>    var course: Course?<br/>    let studentName: String<br/>    init(studentName: String) {<br/>        self.studentName = studentName<br/>        print("\(studentName) created")<br/>    }<br/><strong class="mn ir">    </strong>deinit {<br/>        print("Deinit student \(studentName)")<br/>    }<br/>}</span><span id="d1fb" class="mr ld iq mn b gy mw mt l mu mv">class Course{<br/>    var student: Student?<br/>    let courseName: String<br/>    init(courseName: String) {<br/>        self.courseName = courseName<br/>        print("\(courseName) generated")<br/>    }<br/>    deinit {<br/>        print("Deinit course \(courseName)")<br/>    }<br/>}</span></pre><p id="3eb9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬åˆå§‹åŒ–<strong class="jp ir">å­¦ç”Ÿ</strong> &amp; <strong class="jp ir">è¯¾ç¨‹</strong>ç­çº§å¦‚ä¸‹</p><pre class="km kn ko kp gt mm mn mo mp aw mq bi"><span id="372e" class="mr ld iq mn b gy ms mt l mu mv">var student: Student? = Student(studentName: â€œJohnâ€)<br/>var course: Course? = Course(courseName: â€œCS-190â€)</span><span id="b383" class="mr ld iq mn b gy mw mt l mu mv"><strong class="mn ir">Console output:<br/></strong><em class="mi">John created<br/>CS-190 generated</em></span></pre><p id="c8d7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨è¿™ä¸¤ä¸ªç±»çš„å¼•ç”¨è®¡æ•°éƒ½æ˜¯1ï¼Œå› ä¸ºæˆ‘ä»¬ä¸ºå®ƒä»¬åˆ›å»ºäº†ä¸¤ä¸ªå•ç‹¬çš„å¼•ç”¨ã€‚</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/6155d8a684baa18ffbcdab7fea2d1093.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/1*0iLC01zBcwvwU9V07Zk-Sw.png"/></div></figure><p id="a56d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å½“æˆ‘ä»¬åˆ†åˆ«ä¸º<strong class="jp ir">å­¦ç”Ÿ</strong>å’Œ<strong class="jp ir">è¯¾ç¨‹</strong>ç±»ä¸­çš„<strong class="jp ir">è¯¾ç¨‹</strong>å’Œ<strong class="jp ir">å­¦ç”Ÿ</strong>å±æ€§è®¾ç½®å€¼æ—¶ï¼Œå®ƒä»¬ä¹‹é—´ä¼šåˆ›å»ºä¸€ä¸ªå¼ºå¼•ç”¨ã€‚ä¸¤ä¸ªç±»çš„å¼•ç”¨è®¡æ•°éƒ½ä»1å˜ä¸º2ã€‚</p><pre class="km kn ko kp gt mm mn mo mp aw mq bi"><span id="ec6c" class="mr ld iq mn b gy ms mt l mu mv">student?.course = course<br/>course?.student = student</span><span id="f084" class="mr ld iq mn b gy mw mt l mu mv"><strong class="mn ir">Console output:<br/></strong><em class="mi">John created<br/>CS-190 generated</em></span></pre><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/3636cdf2c248b3e5c30aaf5e67bc1565.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/1*5bJQQ4fi7Z_nnLHQyIp4Lg.png"/></div></figure><p id="8d71" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä½†æ˜¯ç°åœ¨å¦‚æœæˆ‘ä»¬æ‰“ç ´<strong class="jp ir">å­¦ç”Ÿ</strong>å’Œ<strong class="jp ir">è¯¾ç¨‹</strong>å˜é‡çš„å¼ºå¼•ç”¨ï¼Œå°†å®ƒä»¬è®¾ç½®ä¸ºé›¶ï¼Œé‚£ä¹ˆ<strong class="jp ir">å­¦ç”Ÿ</strong> &amp; <strong class="jp ir">è¯¾ç¨‹</strong>çš„å¼•ç”¨è®¡æ•°å°†ä¸ä¼šåƒæˆ‘ä»¬é¢„æœŸçš„é‚£æ ·ä»2ä¸‹é™åˆ°0ã€‚è¿™ä¸¤ä¸ªç±»çš„å¼•ç”¨è®¡æ•°éƒ½æ˜¯1ğŸ˜®</p><pre class="km kn ko kp gt mm mn mo mp aw mq bi"><span id="37ab" class="mr ld iq mn b gy ms mt l mu mv">course = nil<strong class="mn ir"><br/></strong>student = nil</span><span id="2169" class="mr ld iq mn b gy mw mt l mu mv"><strong class="mn ir">Console output:<br/></strong><em class="mi">John created<br/>CS-190 generated</em></span></pre><p id="4c08" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ£€æŸ¥æ‚¨çš„æ§åˆ¶å°è¾“å‡ºã€‚æ‚¨å°†æ‰¾ä¸åˆ°ä»»ä½•å…³äºå–æ¶ˆåˆå§‹åŒ–çš„å†…å®¹ï¼Œå› ä¸ºæ‚¨çš„<strong class="jp ir"> deinit() </strong>æ–¹æ³•æ²¡æœ‰æ‰§è¡Œã€‚è™½ç„¶<strong class="jp ir">è¯¾ç¨‹</strong> &amp; <strong class="jp ir">å­¦ç”Ÿ</strong>è¢«æ˜ç¡®è®¾ç½®ä¸º0ï¼Œä½†æ˜¯å„ç­ä¹‹é—´ç›¸äº’å‚ç…§ã€‚</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi my"><img src="../Images/1224a115b9c03667d17626660d8ffd35.png" data-original-src="https://miro.medium.com/v2/resize:fit:942/format:webp/1*C2yG_MwsipyEgVwUD0QDnw.png"/></div></figure><p id="41bd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™ç§æƒ…å†µè¢«ç§°ä¸º<strong class="jp ir">å†…å­˜æ³„æ¼</strong>ã€‚ARCæ— æ³•é‡Šæ”¾å†…å­˜ï¼Œå› ä¸ºè¿™ä¸¤ä¸ªç±»ä¹‹é—´éƒ½æœ‰ä¸€ä¸ª<strong class="jp ir">å¼º</strong>ä¿ç•™å¾ªç¯ã€‚</p><h1 id="9b83" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">â€œå¼±â€å¼•ç”¨ä»¥é¿å…ä¿ç•™å¾ªç¯</h1><p id="36f4" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">æ ¹æ®swiftæ–‡æ¡£ï¼Œ</p><blockquote class="mf mg mh"><p id="72d8" class="jn jo mi jp b jq jr js jt ju jv jw jx mj jz ka kb mk kd ke kf ml kh ki kj kk ij bi translated">å¼±å¼•ç”¨ä¸ä¼šåœ¨å®ƒæ‰€å¼•ç”¨çš„å®ä¾‹ä¸Šä¿ç•™æ®ç‚¹ï¼Œå½“å¼±å¼•ç”¨ä»åœ¨å¼•ç”¨å®ƒæ—¶ï¼Œè¯¥å®ä¾‹æœ‰å¯èƒ½è¢«é‡Šæ”¾ã€‚å› æ­¤ï¼Œå½“å®ƒå¼•ç”¨çš„å®ä¾‹è¢«é‡Šæ”¾æ—¶ï¼ŒARCè‡ªåŠ¨å°†å¼±å¼•ç”¨è®¾ç½®ä¸ºnilã€‚</p></blockquote><p id="2ae4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">å¼±</strong>å±æ€§ä¸ä¿ç•™æ®ç‚¹ï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬è®¾ç½®ä¸€ä¸ªå±æ€§ä¸º<strong class="jp ir">å¼±</strong>ï¼Œå®ƒä¸ä¼šå¢åŠ ç›¸å…³ç±»çš„å¼•ç”¨è®¡æ•°ã€‚ä½¿ç”¨<strong class="jp ir">å¼±</strong>å‚è€ƒçš„æ—¶é—´ï¼Œå°†<strong class="jp ir">å­¦ç”Ÿ</strong>å†…çš„<strong class="jp ir">è¯¾ç¨‹</strong>å˜é‡è®¾ç½®ä¸º</p><pre class="km kn ko kp gt mm mn mo mp aw mq bi"><span id="d408" class="mr ld iq mn b gy ms mt l mu mv">weak var course: Course?</span></pre><p id="2537" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™å°†åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå½±å“åˆ°<strong class="jp ir">å­¦ç”Ÿ</strong> &amp; <strong class="jp ir">è¯¾ç¨‹</strong>ç­çº§çš„å…³ç³»ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å®ƒå¦‚ä½•é¿å…å†…å­˜æ³„æ¼ã€‚</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi na"><img src="../Images/37ebae45a13f24f5123e5179d93440e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:970/format:webp/1*bBraMVD1OGMHi9WTMBngig.png"/></div></figure><p id="a61c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç›®å‰ï¼Œ<strong class="jp ir">å­¦ç”Ÿ</strong>ç±»æœ‰ä¸¤ä¸ªå¼ºå¼•ç”¨ï¼Œè€Œ<strong class="jp ir">è¯¾ç¨‹</strong>ç±»æœ‰ä¸€ä¸ªå¼ºå¼•ç”¨ï¼Œå¦ä¸€ä¸ªå¼±å¼•ç”¨ã€‚å¦‚æœæˆ‘ä»¬è®¾ç½®<strong class="jp ir">è¿›ç¨‹</strong>å˜é‡ä¸º<strong class="jp ir"> nilï¼Œ</strong>å®ƒ<strong class="jp ir"> </strong>å°†è§£å†³<strong class="jp ir">å†…å­˜æ³„æ¼</strong>ğŸ˜² ğŸ˜²</p><p id="db22" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ˜¯çš„ï¼Œè¿™èƒŒåçš„é»‘å®¢æ˜¯å½“æˆ‘ä»¬å°†<strong class="jp ir">è¯¾ç¨‹</strong>å˜é‡è®¾ç½®ä¸º0æ—¶ï¼Œ<strong class="jp ir">è¯¾ç¨‹</strong> &amp; <strong class="jp ir">å­¦ç”Ÿ</strong>ç±»ä¹‹é—´çš„å¼ºå…³ç³»ä¸å¤å­˜åœ¨(è‡ªåŠ¨ç§»é™¤ï¼Œå› ä¸º<strong class="jp ir">è¯¾ç¨‹</strong>å¼•ç”¨è¢«ç§»é™¤)ã€‚</p><p id="9f85" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä½†æ˜¯å¦ä¸€ä¸ªå¼±å¼•ç”¨å‘¢ï¼Ÿå¼±å‚è€ƒå°†åœ¨è®¾ç½®ä¸º<strong class="jp ir">é›¶</strong>çš„è¿‡ç¨‹åç«‹å³é€šè¿‡ARCè®¾ç½®ä¸º<strong class="jp ir">é›¶</strong>ã€‚è¿™å°±æ˜¯å¼±å…³é”®å­—çš„åŠ›é‡ğŸ˜ƒ</p><p id="60f3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨è®¾ç½®<strong class="jp ir">èˆªå‘</strong>å˜é‡<strong class="jp ir"> </strong>ä¸º<strong class="jp ir">é›¶</strong>å¹¶çœ‹åˆ°ä½ çš„æ§åˆ¶å°å‡ºæ¥ã€‚</p><pre class="km kn ko kp gt mm mn mo mp aw mq bi"><span id="bd7a" class="mr ld iq mn b gy ms mt l mu mv">course = nil</span><span id="1f9e" class="mr ld iq mn b gy mw mt l mu mv"><strong class="mn ir">Console output:<br/></strong>John created<br/>CS-190 generated<br/>Deinit course CS-190</span></pre><p id="5627" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">è°ƒç”¨<strong class="jp ir">è¯¾ç¨‹</strong>ç±»ä¸­çš„deinit() </strong>æ–¹æ³•ã€‚è¿™æ„å‘³ç€ARCæˆåŠŸåœ°ä»å†…å­˜ä¸­åˆ é™¤äº†<strong class="jp ir">èˆªå‘</strong>å˜é‡ã€‚</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi na"><img src="../Images/2bb73ded3145dd0bd320fd76684282c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:970/format:webp/1*lxCq-tjXYf4D6gm3VXpH-A.png"/></div></figure><p id="fb2c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">çœ‹ä¸åˆ°æ›´å¤šçš„ä¿ç•™å‘¨æœŸï¼Œæ²¡æœ‰æ›´å¤šçš„å†…å­˜æ³„æ¼ã€‚ç°åœ¨ï¼Œå¦‚æœä¸å†éœ€è¦ï¼Œæ‚¨ä¹Ÿå¯ä»¥å°†<strong class="jp ir">å­¦ç”Ÿ</strong>å˜é‡è®¾ç½®ä¸º<strong class="jp ir">é›¶</strong>ã€‚</p><h1 id="9ca8" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">â€œæ— ä¸»â€å¼•ç”¨</h1><p id="b089" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated"><strong class="jp ir">æ— ä¸»</strong>æ˜¯å¦ä¸€ç§æœ€å°åŒ–å¼•ç”¨è®¡æ•°çš„æ–¹æ³•ã€‚ç±»ä¼¼äº<strong class="jp ir">å¼±</strong>ä½†ä¸¤è€…ç•¥æœ‰åŒºåˆ«ã€‚<strong class="jp ir">å¼±</strong>å‚è€ƒå¿…é¡»æ˜¯å¯é€‰ç±»å‹ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå½“ä¸å†éœ€è¦å¼•ç”¨æ—¶ï¼ŒARCå¯ä»¥å°†nilè®¾ç½®ä¸ºå¼±å¼•ç”¨ã€‚</p><p id="a089" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ— ä¸»çš„ä¸èƒ½æ˜¯å¯æœ‰å¯æ— çš„ï¼Œå¹¶æœŸæœ›æ€»æœ‰ä¸€äº›ä»·å€¼ã€‚æ‰€ä»¥ARCä¸èƒ½æŠŠä¸€ä¸ªæœªçŸ¥çš„å‚è€ƒå€¼è®¾ç½®ä¸ºnilã€‚è¯·è€ƒè™‘ä»¥ä¸‹äº‹å®ï¼Œæ³¨æ„ä½¿ç”¨unownedã€‚æ ¹æ®swiftæ–‡æ¡£ï¼Œ</p><blockquote class="mf mg mh"><p id="be84" class="jn jo mi jp b jq jr js jt ju jv jw jx mj jz ka kb mk kd ke kf ml kh ki kj kk ij bi translated">ä»…å½“æ‚¨ç¡®å®šå¼•ç”¨æ€»æ˜¯å¼•ç”¨å°šæœªè¢«é‡Šæ”¾çš„å®ä¾‹æ—¶ï¼Œæ‰ä½¿ç”¨æ— ä¸»å¼•ç”¨ã€‚</p><p id="28ce" class="jn jo mi jp b jq jr js jt ju jv jw jx mj jz ka kb mk kd ke kf ml kh ki kj kk ij bi translated">å¦‚æœæ‚¨è¯•å›¾åœ¨å®ä¾‹è¢«é‡Šæ”¾åè®¿é—®ä¸€ä¸ªæ— ä¸»å¼•ç”¨çš„å€¼ï¼Œæ‚¨å°†å¾—åˆ°ä¸€ä¸ªè¿è¡Œæ—¶é”™è¯¯ã€‚</p></blockquote><p id="42e1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¸<strong class="jp ir">æ— ä¸»ç›¸å…³çš„ä¾‹å­ã€‚æˆ‘ä»¬æœ‰ä¸¤ä¸ªç­çº§<strong class="jp ir">å­¦ç”Ÿ</strong> &amp; <strong class="jp ir">å¤§å­¦</strong>ã€‚ç­çº§ä¹‹é—´çš„å…³ç³»ä¸ä»¥å‰çš„ç­çº§ç•¥æœ‰ä¸åŒã€‚ä¸€ä¸ªå­¦ç”Ÿå¯èƒ½æœ‰ä¹Ÿå¯èƒ½æ²¡æœ‰ä»»ä½•å¤§å­¦ï¼Œä½†æ¯ä¸ªå¤§å­¦éƒ½å¿…é¡»æœ‰å­¦ç”Ÿã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬æŠŠ<strong class="jp ir">å¤§å­¦</strong>ç±»<strong class="jp ir"> </strong>é‡Œé¢çš„<strong class="jp ir">å­¦ç”Ÿ</strong>å˜é‡å£°æ˜ä¸º<strong class="jp ir">æ— ä¸»</strong>ä¸èƒ½å†å¯é€‰äº†ã€‚</strong></p><pre class="km kn ko kp gt mm mn mo mp aw mq bi"><span id="a06e" class="mr ld iq mn b gy ms mt l mu mv">class Students {<br/>    let studentName: String<br/>    var university: University?</span><span id="9995" class="mr ld iq mn b gy mw mt l mu mv">    init(studentName: String) {<br/>        self.studentName = studentName<br/>    }<br/>    deinit { <br/>        print(â€œ\(studentName) is being deinitializedâ€) }<br/>    }</span><span id="3693" class="mr ld iq mn b gy mw mt l mu mv">class University {<br/>    let universityName: String<br/>    unowned let student: Students</span><span id="59a0" class="mr ld iq mn b gy mw mt l mu mv">    init(universityName: String, student: Students) {<br/>        self.universityName = universityName <br/>        self.student = student<br/>    }</span><span id="2071" class="mr ld iq mn b gy mw mt l mu mv">    deinit {<br/>        print(â€œ\(universityName) is being deinitializedâ€) }<br/>    }</span><span id="778c" class="mr ld iq mn b gy mw mt l mu mv">var student: Students?<br/>student = Students(studentName: â€œJohnâ€)<br/>student!.university = University(universityName: â€œABCâ€, student: student!)</span></pre><p id="a30b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨è¿™ä¸¤ä¸ªé˜¶çº§ä¹‹é—´çš„å…³ç³»å°±åƒä¸‹å›¾ä¸€æ ·</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/cb6e1128a1aad61662e9a1404541125f.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*2FpJXPe83ObLEss92vdtFA.png"/></div></figure><p id="1aef" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¦‚æœæˆ‘ä»¬æƒ³é‡Šæ”¾ä½ çš„å†…å­˜ï¼Œåªéœ€å°†<strong class="jp ir">å­¦ç”Ÿ</strong>å˜é‡è®¾ç½®ä¸º<strong class="jp ir">é›¶</strong>ã€‚</p><pre class="km kn ko kp gt mm mn mo mp aw mq bi"><span id="d09b" class="mr ld iq mn b gy ms mt l mu mv">student = nil</span><span id="438e" class="mr ld iq mn b gy mw mt l mu mv"><strong class="mn ir">Console output:<br/></strong>John is being deinitialized<br/>ABC is being deinitialized</span></pre><p id="15f4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ£€æŸ¥ä½ çš„æ§åˆ¶å°ï¼ŒARCæˆåŠŸåœ°ä»å†…å­˜ä¸­åˆ é™¤äº†å¯¹è±¡çš„å¼•ç”¨ï¼Œé…·ğŸ˜å…¶è¾“å‡ºå°†å¦‚ä¸‹æ‰€ç¤ºã€‚</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/0c298cf7eef19c2dd4c155707f8b6ed4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*hRfawoDTiaIwMzMIoj89cQ.png"/></div></figure><p id="d461" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä½†æ˜¯ç­‰åˆ°<strong class="jp ir">æ— ä¸»çš„æ—¶å€™</strong>ä¼šå‡ºé—®é¢˜å—ï¼Ÿå°†<strong class="jp ir"> student </strong>å¯¹è±¡è®¾ç½®ä¸º<strong class="jp ir"> nil </strong>åï¼Œå°è¯•å¦‚ä¸‹è®¿é—®<strong class="jp ir"> University </strong>ç±»çš„<strong class="jp ir"> student </strong>å±æ€§ã€‚</p><pre class="km kn ko kp gt mm mn mo mp aw mq bi"><span id="611f" class="mr ld iq mn b gy ms mt l mu mv">student = nil<br/>university.student //Run time error</span></pre><p id="9eb4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ ¹æ®<strong class="jp ir"> unowned </strong>çš„å®šä¹‰ï¼Œå®ƒå¿…é¡»æœ‰ä¸€ä¸ªå¯¹è¯¥å¯¹è±¡çš„éé›¶å¼•ç”¨ã€‚ç”±äºæ‰€æœ‰è€…å¯¹è±¡å·²ç»è¢«é‡Šæ”¾ï¼Œå®ƒå´©æºƒäº†ã€‚</p><p id="854c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘æƒ³ç°åœ¨æ‚¨å·²ç»å¯¹ä½¿ç”¨Swiftç¼–ç¨‹è¯­è¨€è¿›è¡Œå†…å­˜ç®¡ç†æœ‰äº†ä¸€äº›äº†è§£ã€‚å¦‚æœä½ æƒ³äº†è§£æ›´å¤šï¼ŒæŸ¥çœ‹æˆ‘çš„å†…å­˜ç®¡ç†æ•™ç¨‹ç¬¬äºŒéƒ¨åˆ†<a class="ae lb" href="https://medium.com/@arifulislam14/memory-management-in-swift-part-02-b5b5f9fbb12b" rel="noopener">è¿™é‡Œ</a>ã€‚ä½ ä¼šåœ¨<a class="ae lb" href="https://docs.swift.org/swift-book/LanguageGuide/AutomaticReferenceCounting.html" rel="noopener ugc nofollow" target="_blank"> Swiftçš„å®˜æ–¹æ–‡æ¡£</a>ä¸­æ‰¾åˆ°å¯¹å®ƒä»¬çš„ç®€çŸ­è®¨è®ºã€‚</p><p id="6445" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰ç”¨ï¼Œè¯·åˆ†äº«å¹¶é¼“æŒ</strong>ğŸ‘ğŸ‘ğŸ‘<br/>åœ¨<a class="ae lb" href="https://medium.com/@arifulislam14" rel="noopener"> Medium </a>ä¸ŠæŸ¥çœ‹æˆ‘çš„å…¶ä»–æ–‡ç« ï¼Œåœ¨<a class="ae lb" href="https://www.linkedin.com/in/arifparvez14/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>ä¸Šå¸®æˆ‘è”ç³»ã€‚</p><p id="3bf6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ„Ÿè°¢æ‚¨é˜…è¯»&amp;å¿«ä¹ç¼–ç ğŸ™‚</p></div></div>    
</body>
</html>