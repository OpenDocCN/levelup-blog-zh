<html>
<head>
<title>What’s lazy loading</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是懒加载</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/whats-lazy-loading-e3d967554863?source=collection_archive---------12-----------------------#2021-10-05">https://levelup.gitconnected.com/whats-lazy-loading-e3d967554863?source=collection_archive---------12-----------------------#2021-10-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4d3a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">每个web开发人员都应该知道的基本技术之一！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d1b17daed90f7b2bbc2a4e7230d0b0c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cjhqI6ARSLykDi5gbKPknw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">作者:FAM</figcaption></figure><p id="0b18" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">谁愿意等待应用程序被加载？我不知道。有时候我们选择抛弃app，而不是等待。让用户访问你的网站并不容易。所以，付出了那么多努力，失去他真的是一种浪费。除此之外，第一印象很重要。这是我们赢得访客的机会。</p><p id="e798" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因此，我们希望最大限度地缩短用户请求应用程序和显示其第一个模板之间的时间。对于这个问题，懒加载是我们最好的朋友。</p><p id="b2e0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">说明性示例和文件基于Angular app结构。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="8b2d" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">什么是懒加载</h1><p id="15d8" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">通常，当我们想到懒惰加载时，我们会想到一些缓慢的东西。但是我们的路线可以同时懒惰和快速。</p><ul class=""><li id="6fe8" class="my mz it la b lb lc le lf lh na ll nb lp nc lt nd ne nf ng bi translated">为了理解这个问题，这里有一个解释性的图像。当我们第一次在浏览器中查询网站时。网络服务器发送给我们一个index.html文件。该文件不会呈现整个应用程序，因为浏览器需要包含模块、功能和库的主包来运行应用程序。这就是一个应用程序的加载时间。而app要么空白，要么显示一个加载器告诉你:“<em class="nh">请等待</em>”如果开发者是好心的话。然后，我们收到本金包，我们的应用程序最终显示出来。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/df441748b2872b4526822b2aa15a3e6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2QVhKdti48JDwFQw.jpeg"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">作者:FAM</figcaption></figure><p id="0581" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">以避免让用户等待应用程序开始。我们可以将我们的应用程序分成几个小部分。因此，开始时只下载需要的文件，其他文件在用户要求时才下载，也就是按需下载，这就是所谓的<strong class="la iu"> <em class="nh">延迟加载</em> </strong>。因此，我们会有这样的事情:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/e3c6447a53c5f07b31b18c9c8184eb5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*rKNv6Eg1sVKo_OZo.jpeg"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">作者:FAM</figcaption></figure><p id="c5c0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这一次主包将花费更少的时间，因为我们没有加载所有的东西。因此，下载量更少，Angular编译量也更少。<strong class="la iu">因此，启动应用程序的时间更少</strong>。这大大缩短了启动时间，尤其是对于企业应用程序。</p><p id="e940" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">惰性加载是用来加快我们的应用程序的启动时间，给我们的应用程序最好的印象。</p><p id="2e8d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了更深入地了解Angular，让我们来看看Angular在有惰性加载和没有惰性加载的情况下是如何构建的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/cdf9173a48ad22de9b55240eb4c7648c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Ep4YrurIlqQ1UhXO.png"/></div></figure><ul class=""><li id="e879" class="my mz it la b lb lc le lf lh na ll nb lp nc lt nd ne nf ng bi translated">包含我们的代码缩小，和丑化</li><li id="7cc6" class="my mz it la b lb nn le no lh np ll nq lp nr lt nd ne nf ng bi translated"><code class="fe nj nk nl nm b"><strong class="la iu"><em class="nh">polyfills.js</em></strong></code>拥有所需的polyfills脚本，以确保应用程序能够在所有现代浏览器中运行。</li><li id="af45" class="my mz it la b lb nn le no lh np ll nq lp nr lt nd ne nf ng bi translated"><code class="fe nj nk nl nm b"><strong class="la iu"><em class="nh">runtime.js</em></strong></code>是一个用来加载其他文件的文件。</li><li id="41ba" class="my mz it la b lb nn le no lh np ll nq lp nr lt nd ne nf ng bi translated"><code class="fe nj nk nl nm b"><strong class="la iu"><em class="nh">style.js</em></strong></code>这个包包含应用程序风格</li><li id="2ffc" class="my mz it la b lb nn le no lh np ll nq lp nr lt nd ne nf ng bi translated"><code class="fe nj nk nl nm b"><strong class="la iu"><em class="nh">vendor.js</em></strong></code>包含运行应用程序所需的库，包括Angular库。</li></ul><p id="8c78" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们在-prod模式下启动应用程序。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/f6bee6eb83db3edcf89914e8ebcac054.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*d3ZsM0b8IqDRBWHf.png"/></div></figure><p id="d6ed" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您会注意到的第一件事是，编译要花费更多的时间。让我们分析一下捆绑包:</p><ul class=""><li id="5251" class="my mz it la b lb lc le lf lh na ll nb lp nc lt nd ne nf ng bi translated">我们注意到<strong class="la iu"> <em class="nh"> vender.js </em> </strong>已经消失了。那是因为，在生产模式下，Angular使用了<strong class="la iu"><em class="nh">【AOT】</em></strong>编译器<em class="nh">(提前)</em>。我们所有的图书馆都在我们的主包里。</li><li id="d6ee" class="my mz it la b lb nn le no lh np ll nq lp nr lt nd ne nf ng bi translated"><strong class="la iu"> <em class="nh"> AOT </em> </strong>编译器将我们的模板和类型脚本代码转换成Javascript由浏览器呈现，而不需要每次都将编译器包含在捆绑包中为我们编译。</li><li id="20ef" class="my mz it la b lb nn le no lh np ll nq lp nr lt nd ne nf ng bi translated">主包是一个巨大的包，这是意料之中的，因为它包含了我们所有的代码和所需的库。</li></ul><p id="a8c8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们想减少应用程序的加载时间，我们应该减少主包的大小。</p><p id="fea0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">而这就是<strong class="la iu">懒加载登场的地方。</strong></p><p id="9754" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它的作用是构建应用程序启动和显示初始页面所必需的主包。需要时加载其他包。这就是为什么对了，这叫懒装。我们只按需装载。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="957a" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">外卖</h1><ul class=""><li id="121e" class="my mz it la b lb mt le mu lh ns ll nt lp nu lt nd ne nf ng bi translated">我们可以通过延迟加载一些很少被请求的功能来优化我们的应用程序。</li><li id="eeda" class="my mz it la b lb nn le no lh np ll nq lp nr lt nd ne nf ng bi translated">只有特定角色的用户才能访问的功能也可以延迟加载，以加快应用程序的加载速度。</li><li id="182f" class="my mz it la b lb nn le no lh np ll nq lp nr lt nd ne nf ng bi translated">延迟加载=延迟到需要时=仅按需加载=更小的包大小=更少的应用加载时间=更好的用户体验</li></ul></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><blockquote class="nv"><p id="c980" class="nw nx it bd ny nz oa ob oc od oe lt dk translated"><em class="of">当</em> <a class="ae og" href="https://famzil.medium.com/subscribe" rel="noopener"> <em class="of">有新的热门文章出来，第一个被通知</em> </a> <em class="of">！</em></p></blockquote><p id="76a2" class="pw-post-body-paragraph ky kz it la b lb oh ju ld le oi jx lg lh oj lj lk ll ok ln lo lp ol lr ls lt im bi translated">如果你有兴趣成为付费会员，你可以使用我的推荐链接。下次见</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><p id="1b64" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">亲爱的读者，感谢你在我生命中的存在。</p><p id="c683" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">让我们在</strong> <a class="ae og" href="https://medium.com/@famzil/" rel="noopener"> <strong class="la iu">上取得联系</strong></a><strong class="la iu"/><a class="ae og" href="https://www.linkedin.com/in/fatima-amzil-9031ba95/" rel="noopener ugc nofollow" target="_blank"><strong class="la iu">Linkedin</strong></a><strong class="la iu"/><a class="ae og" href="https://www.facebook.com/The-Front-End-World" rel="noopener ugc nofollow" target="_blank"><strong class="la iu">脸书</strong></a><strong class="la iu"/><a class="ae og" href="https://www.instagram.com/the_frontend_world/" rel="noopener ugc nofollow" target="_blank"><strong class="la iu">insta gram</strong></a><strong class="la iu"/><a class="ae og" href="https://www.youtube.com/channel/UCaxr-f9r6P1u7Y7SKFHi12g" rel="noopener ugc nofollow" target="_blank"><strong class="la iu">Youtube</strong></a><strong class="la iu">或</strong> <a class="ae og" href="https://twitter.com/FatimaAMZIL9" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu"/></a></p><p id="baf3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">参见我的关于网络要素和一般文化的电子书。</p></div></div>    
</body>
</html>