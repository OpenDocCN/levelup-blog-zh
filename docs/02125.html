<html>
<head>
<title>I built a M.E.R.N codebase in an hour</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我在一小时内建立了一个M.E.R.N代码库</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/i-built-a-m-e-r-n-codebase-in-an-hour-742acd71ed7e?source=collection_archive---------4-----------------------#2020-02-20">https://levelup.gitconnected.com/i-built-a-m-e-r-n-codebase-in-an-hour-742acd71ed7e?source=collection_archive---------4-----------------------#2020-02-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="7734" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">构建React应用程序的终极指南。</h2><div class=""/><div class=""><h2 id="41ce" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">在<strong class="ak"> React和Node.js </strong>中启动一个想法或构建一个三层架构需要多长时间？如果它花费你<strong class="ak">超过一天，那么停止！</strong>休息5分钟。然后，用接下来的一个小时<strong class="ak"> </strong>(如果你已经知道的话可能会少一点)<strong class="ak"> </strong>来构建你自己的创业代码库。</h2></div><h1 id="2c5e" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated"><strong class="ak">作者注</strong></h1><p id="0252" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">问候读者，</p><p id="a191" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">本文是“<strong class="ll jd"> <em class="mk">我与创业公司一起成长”</em></strong>系列文章的一部分，该系列文章由各种软件开发的<em class="mk">技术教程、新闻和技巧</em>组成:</p><ol class=""><li id="2222" class="ml mm it ll b lm mf lp mg ls mn lw mo ma mp me mq mr ms mt bi translated"><a class="ae mu" href="https://medium.com/swlh/a-complete-guide-build-a-scalable-3-tier-architecture-with-mern-stack-es6-ca129d7df805" rel="noopener">用Node.js(第一部分)— ES6构建一个结构良好的三层架构</a></li><li id="664c" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me mq mr ms mt bi translated"><a class="ae mu" href="https://medium.com/swlh/2-simple-tips-to-increase-your-team-code-quality-143b879ae2f7" rel="noopener">提高团队代码质量的两个简单技巧</a></li><li id="80e2" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me mq mr ms mt bi translated"><a class="ae mu" href="https://medium.com/swlh/perfect-structure-to-authenticate-authorize-api-with-node-js-and-passport-jwt-d529b1a618ba" rel="noopener">完美的认证结构&amp;用Node.js授权你的API</a></li><li id="e4e2" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me mq mr ms mt bi translated"><strong class="ll jd">我在一个小时内构建了一个M.E.R.N代码库(第2部分)</strong></li><li id="ea91" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me mq mr ms mt bi translated"><a class="ae mu" href="https://medium.com/@calvinqc/build-a-simple-rest-apis-with-java-8-tomcat-jsp-mysql-intellij-on-mac-3308f4e59a03" rel="noopener">如何用Java构建REST API&amp;MySQL使用Tomcat </a></li><li id="738e" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me mq mr ms mt bi translated"><a class="ae mu" href="https://medium.com/swlh/multi-purposes-mailing-api-using-nodemailer-gmail-google-oauth-28de49118d77" rel="noopener">使用Nodemailer、Gmail &amp; Google OAuth2 </a>构建自己的邮件API</li><li id="31d4" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me mq mr ms mt bi translated"><a class="ae mu" href="https://medium.com/swlh/webrtc-the-technology-that-powers-google-meet-hangout-facebook-messenger-and-discord-cb926973d786" rel="noopener">WebRTC——支持Google Meet、Facebook Messenger的技术</a></li><li id="73a9" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me mq mr ms mt bi translated"><a class="ae mu" href="https://medium.com/@calvinqc/say-hello-to-the-new-github-clis-7e2612fb3918" rel="noopener">向新的Github CLIs问好</a></li><li id="cee7" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me mq mr ms mt bi translated"><a class="ae mu" rel="noopener ugc nofollow" target="_blank" href="/easy-java-springboot-apache-kafka-setup-on-macos-ceb481e167f8">使用Java、Springboot、Kafka进行简单设置</a></li><li id="6d77" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me mq mr ms mt bi translated"><a class="ae mu" rel="noopener ugc nofollow" target="_blank" href="/what-it-takes-to-have-a-successful-team-cooperation-bc21b82e9f3">成功的团队合作需要什么</a></li><li id="0198" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me mq mr ms mt bi translated"><a class="ae mu" href="https://medium.com/swlh/how-to-deploy-an-application-to-aws-using-docker-ecs-and-ecr-aa7785fc9667" rel="noopener">如何使用Docker、EC2、ECS和ECR将应用部署到AWS</a></li><li id="9282" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me mq mr ms mt bi translated"><a class="ae mu" href="https://medium.com/@calvinqc/we-cut-down-45-of-our-budget-by-switching-to-google-cloud-storage-7e5a6a10542" rel="noopener">通过将我们的客户端托管到云存储，我们节省了45%的总成本</a></li></ol><p id="66a3" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">感谢访问这个系列，并享受阅读！</p></div><div class="ab cl na nb hx nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="im in io ip iq"><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi nh"><img src="../Images/d344dc385efc8355b0fed6ce3ea989ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HKxsnwKQVNPpSZ-2"/></div></div><figcaption class="nt nu gj gh gi nv nw bd b be z dk translated">为每样东西找到一个完美的构造是很难的，这只是需要时间！(图片来源:马文·迈耶)</figcaption></figure><p id="b51f" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">在一个帖子中展示所有内容将会让人不知所措。所以我分成两部分。这是M.E.R.N全栈系列的<strong class="ll jd">第二篇文章</strong>，在第1部分中，我们将重点构建与Node.js服务器协同工作的React客户端。</p><ol class=""><li id="580e" class="ml mm it ll b lm mf lp mg ls mn lw mo ma mp me mq mr ms mt bi translated">构建具有身份验证/授权的服务器。如果您还没有构建自己的服务器，请查看关于如何构建Node.js服务器的第1部分<a class="ae mu" href="https://medium.com/swlh/a-complete-guide-build-a-scalable-3-tier-architecture-with-mern-stack-es6-ca129d7df805" rel="noopener">。 </a> <strong class="ll jd"> </strong>否则，可以随意克隆下面的示例服务器。</li><li id="1b83" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me mq mr ms mt bi translated"><strong class="ll jd">构建实时更新的客户端应用并与服务器协同工作</strong></li></ol><h1 id="bcfb" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated">你将学到什么</h1><ol class=""><li id="873b" class="ml mm it ll b lm ln lp lq ls nx lw ny ma nz me mq mr ms mt bi translated">前端:<a class="ae mu" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank"> React.js </a>，<a class="ae mu" href="https://github.com/reduxjs/redux-thunk" rel="noopener ugc nofollow" target="_blank"> Redux-thunk </a>，<a class="ae mu" href="https://www.axios.com/" rel="noopener ugc nofollow" target="_blank"> React-router </a>，<a class="ae mu" href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage" rel="noopener ugc nofollow" target="_blank"> LocalStorage </a>，<a class="ae mu" href="https://www.axios.com/" rel="noopener ugc nofollow" target="_blank"> Axios </a></li><li id="dcf4" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me mq mr ms mt bi translated">后端:<a class="ae mu" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> Node.js </a>，<a class="ae mu" href="https://expressjs.com/" rel="noopener ugc nofollow" target="_blank"> Express.js </a>，<a class="ae mu" href="https://www.mongodb.com/" rel="noopener ugc nofollow" target="_blank"> MongoDB </a>，<a class="ae mu" href="https://www.postman.com/" rel="noopener ugc nofollow" target="_blank"> Postman </a></li></ol><h2 id="59de" class="oa ks it bd kt ob oc dn kx od oe dp lb ls of og ld lw oh oi lf ma oj ok lh iz bi translated">预期结果</h2><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/59df76b2ad33941cba94b7e2df19fbaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*itS1Ey9An5Gv6XK15vNKUw.gif"/></div></figure><p id="5b96" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated"><strong class="ll jd">最终代码</strong> <a class="ae mu" href="https://github.com/calvinqc/trivin/tree/master/templates/mern" rel="noopener ugc nofollow" target="_blank"> <strong class="ll jd">此处</strong> </a> <strong class="ll jd">！</strong></p></div><div class="ab cl na nb hx nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="im in io ip iq"><h1 id="e2bf" class="kr ks it bd kt ku om kw kx ky on la lb ki oo kj ld kl op km lf ko oq kp lh li bi translated">要求</h1><h2 id="1a70" class="oa ks it bd kt ob oc dn kx od oe dp lb ls of og ld lw oh oi lf ma oj ok lh iz bi translated">开发工具</h2><ol class=""><li id="0156" class="ml mm it ll b lm ln lp lq ls nx lw ny ma nz me mq mr ms mt bi translated"><a class="ae mu" href="https://www.npmjs.com/" rel="noopener ugc nofollow" target="_blank"> npm </a></li><li id="883b" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me mq mr ms mt bi translated"><a class="ae mu" href="https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd?hl=en" rel="noopener ugc nofollow" target="_blank"> <strong class="ll jd"> <em class="mk"> Redux Dev Tools扩展</em> </strong> </a> <strong class="ll jd"> <em class="mk"> —这个对你以后调试</em> </strong>很有帮助</li><li id="7e71" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me mq mr ms mt bi translated">文本编辑器:<a class="ae mu" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> VSCode </a>或者……任何你喜欢的东西。</li></ol><h2 id="c6cc" class="oa ks it bd kt ob oc dn kx od oe dp lb ls of og ld lw oh oi lf ma oj ok lh iz bi translated">服务器设置</h2><ol class=""><li id="630b" class="ml mm it ll b lm ln lp lq ls nx lw ny ma nz me mq mr ms mt bi translated">创建<code class="fe or os ot ou b">MyProject/</code> : <code class="fe or os ot ou b">$ mkdir MyProject/ &amp;&amp; cd MyProject/</code>。该项目将包含服务器和客户端文件夹</li><li id="a224" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me mq mr ms mt bi translated">全球安装<a class="ae mu" href="https://github.com/calvinqc/trivin" rel="noopener ugc nofollow" target="_blank">trivin</a>:<code class="fe or os ot ou b">$ npm i trivin -g</code></li><li id="f76c" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me mq mr ms mt bi translated">用passport-jwt认证设置<a class="ae mu" href="https://medium.com/swlh/perfect-structure-to-authenticate-authorize-api-with-node-js-and-passport-jwt-d529b1a618ba" rel="noopener">一个节点项目，用Trivin添加<code class="fe or os ot ou b">-i</code>安装项目的所有依赖项</a></li></ol><pre class="ni nj nk nl gt ov ou ow ox aw oy bi"><span id="ae5d" class="oa ks it ou b gy oz pa l pb pc">$ trivin server node-passport-jwt -i</span></pre><h1 id="172d" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated">设置您的项目</h1><ol class=""><li id="af0c" class="ml mm it ll b lm ln lp lq ls nx lw ny ma nz me mq mr ms mt bi translated">在你喜欢的编辑器中打开<code class="fe or os ot ou b">MyProject/</code></li><li id="8cb1" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me mq mr ms mt bi translated">在<code class="fe or os ot ou b">Ctrl `</code>前打开终端，在<code class="fe or os ot ou b">cd server/ &amp;&amp; npm start</code>前启动服务器</li><li id="5fee" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me mq mr ms mt bi translated">打开另一个终端，输入<code class="fe or os ot ou b">cd client/</code>。我们将主要在这个客户端文件夹中工作</li><li id="e134" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me mq mr ms mt bi translated">此时，您的VSCode将如下所示</li></ol><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi pd"><img src="../Images/2d0ac2ddb567fa9d465e34c843bbd3ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lZgduRV7BrFMv4jSN2G_iw.png"/></div></div></figure></div><div class="ab cl na nb hx nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="im in io ip iq"><h1 id="8f6a" class="kr ks it bd kt ku om kw kx ky on la lb ki oo kj ld kl op km lf ko oq kp lh li bi translated">让我们来构建您的客户端</h1><ol class=""><li id="4502" class="ml mm it ll b lm ln lp lq ls nx lw ny ma nz me mq mr ms mt bi translated">首先，创建一个<code class="fe or os ot ou b">package.json</code> : <code class="fe or os ot ou b"><strong class="ll jd">$ touch package.json</strong></code>并添加这段代码:</li></ol><figure class="ni nj nk nl gt nm"><div class="bz fp l di"><div class="pe pf l"/></div></figure><p id="88ee" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">2.通过<code class="fe or os ot ou b">$ npm i</code>安装所有软件包</p><p id="1a6e" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">3.设置客户端结构:</p><pre class="ni nj nk nl gt ov ou ow ox aw oy bi"><span id="2f7c" class="oa ks it ou b gy oz pa l pb pc">$ mkdir public &amp;&amp; touch public/index.html<br/>$ mkdir src &amp;&amp; cd src<br/>$ mkdir api components pages router store store/reducers store/actions<br/>$ touch constants.js index.js utils.js store/store.js App.js router/RouterComponent.js router/RoutesComponent.js</span></pre><p id="2a50" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">5.将此代码添加到<code class="fe or os ot ou b">public/index.html</code>中。在这里，我给了<a class="ae mu" href="https://materializecss.com/" rel="noopener ugc nofollow" target="_blank">物化</a>一个尝试。</p><figure class="ni nj nk nl gt nm"><div class="bz fp l di"><div class="pe pf l"/></div></figure><p id="a792" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">6.添加3个文件到你的客户端文件夹:</p><pre class="ni nj nk nl gt ov ou ow ox aw oy bi"><span id="b212" class="oa ks it ou b gy oz pa l pb pc">$ touch .eslintrc .gitignore .prettierrc</span></pre><p id="268c" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated"><strong class="ll jd">。prettierrc </strong></p><figure class="ni nj nk nl gt nm"><div class="bz fp l di"><div class="pe pf l"/></div></figure><p id="b976" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated"><strong class="ll jd">。eslintrc </strong></p><figure class="ni nj nk nl gt nm"><div class="bz fp l di"><div class="pe pf l"/></div></figure><p id="3ad1" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated"><strong class="ll jd">。gitignore </strong></p><figure class="ni nj nk nl gt nm"><div class="bz fp l di"><div class="pe pf l"/></div></figure><p id="d3d8" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">现在，您的项目的结构将看起来像这样(在左边):</p><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi pg"><img src="../Images/51dc3a475331a614dbb81493237fcd5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5MxdXq3reXf5si71OlpjVQ.png"/></div></div></figure></div><div class="ab cl na nb hx nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="im in io ip iq"><h1 id="b32c" class="kr ks it bd kt ku om kw kx ky on la lb ki oo kj ld kl op km lf ko oq kp lh li bi translated">构建您的第一个组件</h1><h1 id="9a3c" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated">什么是反应？</h1><blockquote class="ph pi pj"><p id="d927" class="lj lk mk ll b lm mf kd lo lp mg kg lr pk mh lu lv pl mi ly lz pm mj mc md me im bi translated">React是一个声明式的、高效的、灵活的JavaScript库，用于构建用户界面。它可以让你用称为“组件”的小而孤立的代码片段组成复杂的ui。</p></blockquote><ul class=""><li id="3553" class="ml mm it ll b lm mf lp mg ls mn lw mo ma mp me pn mr ms mt bi translated">简单来说，React可以通过将类似的HTML代码分解成许多<strong class="ll jd">组件</strong>来帮助你降低前端代码的复杂性，这样你就可以在许多页面中重用它。</li><li id="8f99" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me pn mr ms mt bi translated">它让你前端的所有东西，不是全部，而是几乎所有<strong class="ll jd">里的东西都是实时的</strong>。</li><li id="c753" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me pn mr ms mt bi translated">在您的<strong class="ll jd">组件</strong>文件夹中创建一个文件名<code class="fe or os ot ou b"><strong class="ll jd">Landing.js</strong></code>和<code class="fe or os ot ou b"><strong class="ll jd">Home.js</strong></code>。</li></ul><h2 id="3426" class="oa ks it bd kt ob oc dn kx od oe dp lb ls of og ld lw oh oi lf ma oj ok lh iz bi translated">Landing.js</h2><figure class="ni nj nk nl gt nm"><div class="bz fp l di"><div class="pe pf l"/></div></figure><h2 id="028d" class="oa ks it bd kt ob oc dn kx od oe dp lb ls of og ld lw oh oi lf ma oj ok lh iz bi translated">Home.js</h2><figure class="ni nj nk nl gt nm"><div class="bz fp l di"><div class="pe pf l"/></div></figure><h2 id="8d60" class="oa ks it bd kt ob oc dn kx od oe dp lb ls of og ld lw oh oi lf ma oj ok lh iz bi translated">半铸钢ˌ钢性铸铁(Cast Semi-Steel)</h2><p id="fcaa" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">在客户端<code class="fe or os ot ou b"><strong class="ll jd">/public/index.html</strong></code>输入第14~21行</p><figure class="ni nj nk nl gt nm"><div class="bz fp l di"><div class="pe pf l"/></div></figure></div><div class="ab cl na nb hx nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="im in io ip iq"><h1 id="e6cc" class="kr ks it bd kt ku om kw kx ky on la lb ki oo kj ld kl op km lf ko oq kp lh li bi translated">起始文件</h1><p id="8df4" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated"><code class="fe or os ot ou b"><strong class="ll jd">index.js</strong></code>是运行react项目的主文件。添加此代码:</p><pre class="ni nj nk nl gt ov ou ow ox aw oy bi"><span id="1cca" class="oa ks it ou b gy oz pa l pb pc">import React from 'react';<br/>import ReactDOM from 'react-dom';<br/>import App from './App';</span><span id="6c3e" class="oa ks it ou b gy po pa l pb pc">ReactDOM.render(&lt;App /&gt;, document.getElementById('root'));</span></pre><h1 id="7a15" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated">您的主应用程序</h1><p id="86ec" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">在index.js里面可以看到ReactDOM.render里面，我在启动项目的时候调用<code class="fe or os ot ou b">&lt;App /&gt;</code>来渲染App。去你的<code class="fe or os ot ou b"><strong class="ll jd">App.js</strong></code>然后导入这个:</p><pre class="ni nj nk nl gt ov ou ow ox aw oy bi"><span id="d943" class="oa ks it ou b gy oz pa l pb pc">import React, { Component } from 'react';</span><span id="b3ce" class="oa ks it ou b gy po pa l pb pc">import Landing from './components/Landing';</span><span id="e14b" class="oa ks it ou b gy po pa l pb pc">class App extends Component {<br/>  render() {<br/>    return (<br/>      &lt;div&gt;<br/>        &lt;Landing /&gt;<br/>      &lt;/div&gt;<br/>    );<br/>  }<br/>}</span><span id="bf5b" class="oa ks it ou b gy po pa l pb pc">export default App;</span></pre><h1 id="86ad" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated">常数</h1><ul class=""><li id="6f30" class="ml mm it ll b lm ln lp lq ls nx lw ny ma nz me pn mr ms mt bi translated">对于您将在程序的不同地方使用的值，我强烈建议创建<code class="fe or os ot ou b"><strong class="ll jd">CONSTANTS</strong></code>变量来提高代码的可重用性和可读性。</li><li id="9d74" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me pn mr ms mt bi translated">这也将允许您的文本编辑器为我自动完成，减少字符串中的打字错误，并节省我决定更改这些变量的时间。</li></ul><p id="065f" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">将这些添加到<code class="fe or os ot ou b"><strong class="ll jd">constants.js</strong></code>文件中:</p><figure class="ni nj nk nl gt nm"><div class="bz fp l di"><div class="pe pf l"/></div></figure><h1 id="eb7e" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated">实用工具</h1><p id="6d73" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">该文件用于添加您想要全局使用的任何函数。例如，我使用<strong class="ll jd">本地存储</strong>来保存JWT令牌，以避免在用户关闭浏览器时再次调用登录API。</p><h1 id="c50d" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated">什么是LocalStorage？</h1><p id="463a" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated"><strong class="ll jd">问题:</strong>想象你坐在书桌前，正在阅读一本书。然后，你去远处角落的书架把书放回去。5分钟后，你必须回到书架上拿起书，再读一遍。<strong class="ll jd"> </strong>如果10分钟内一直来回5次，那就是浪费时间。</p><p id="a8c1" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated"><strong class="ll jd">解决方法:</strong>看完书，你没有把它放回书架，而是放到了桌子上的小书架上。下一次，你可以不离开椅子抓住书。</p><p id="4b13" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated"><strong class="ll jd">本地存储:</strong>你桌子上的小架子可以被认为是本地存储<strong class="ll jd">，</strong>你在那里存储任何东西，比如USER_TOKEN，所以下次当你打开网站的时候，你不需要进行API调用来节省时间&amp;成本。</p><p id="e2eb" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated"><strong class="ll jd">现实生活中的例子:</strong>类似于你重新打开脸书浏览器，你不需要重新登录，因为你的客户端已经有一个令牌了。</p><p id="895c" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated"><strong class="ll jd">优势:</strong>使用本地存储将避免用户向您的服务器发出许多请求，从而<strong class="ll jd">节省时间和费用</strong></p><figure class="ni nj nk nl gt nm"><div class="bz fp l di"><div class="pe pf l"/></div></figure><h1 id="31bc" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated">反应类</h1><ul class=""><li id="8c6d" class="ml mm it ll b lm ln lp lq ls nx lw ny ma nz me pn mr ms mt bi translated">React类将包含特定页面的所有内容，其中包括触发按钮的功能、该页面中的组件。</li><li id="f56d" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me pn mr ms mt bi translated">现在，创建<code class="fe or os ot ou b">HomePage.js</code>来渲染着陆组件:<code class="fe or os ot ou b"><strong class="ll jd">$ touch src/pages/HomePage.js</strong></code></li></ul><pre class="ni nj nk nl gt ov ou ow ox aw oy bi"><span id="cfaa" class="oa ks it ou b gy oz pa l pb pc">import React, { Component } from 'react';<br/>import Landing from '../components/Landing';</span><span id="1614" class="oa ks it ou b gy po pa l pb pc">class HomePage extends Component {<br/>  render() {<br/>    return &lt;Landing /&gt;;<br/>  }<br/>}</span><span id="6116" class="oa ks it ou b gy po pa l pb pc">export default HomePage;</span></pre><p id="4651" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">通过<code class="fe or os ot ou b"><strong class="ll jd">npm start</strong></code> <strong class="ll jd">运行你的App。这将在您的浏览器中打开<code class="fe or os ot ou b">localhost:3000/</code>。</strong></p></div><div class="ab cl na nb hx nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="im in io ip iq"><h1 id="7f40" class="kr ks it bd kt ku om kw kx ky on la lb ki oo kj ld kl op km lf ko oq kp lh li bi translated">还原-thunk</h1><p id="1b57" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated"><strong class="ll jd"> <em class="mk">注意:</em> </strong> <em class="mk">如果您无法运行React app，请确保您安装了</em><a class="ae mu" href="https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd?hl=en" rel="noopener ugc nofollow" target="_blank"><strong class="ll jd"><em class="mk">Redux Dev Tools扩展</em> </strong> </a></p><p id="2f58" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">在这个项目中，我决定使用redux-thunk，因为我认为使用<a class="ae mu" href="https://github.com/reduxjs/redux-thunk" rel="noopener ugc nofollow" target="_blank"> <strong class="ll jd"> react-redux </strong> </a>会更容易上手。</p><ol class=""><li id="e0fe" class="ml mm it ll b lm mf lp mg ls mn lw mo ma mp me mq mr ms mt bi translated">将它安装到您的客户端文件夹:<code class="fe or os ot ou b">$ npm i react-redux redux redux-thunk react-router-dom</code></li><li id="166f" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me mq mr ms mt bi translated">在<code class="fe or os ot ou b">store/</code>文件夹中创建3个文件:<code class="fe or os ot ou b"><strong class="ll jd">$ touch src/store/reducers/index.js src/store/reducers/userReducer.js src/store/actions/auth.action.js</strong></code></li></ol><h2 id="08c4" class="oa ks it bd kt ob oc dn kx od oe dp lb ls of og ld lw oh oi lf ma oj ok lh iz bi translated">1.初始化Redux存储</h2><p id="58b7" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">将此添加到<code class="fe or os ot ou b">store/store.js</code>:</p><figure class="ni nj nk nl gt nm"><div class="bz fp l di"><div class="pe pf l"/></div></figure><h2 id="8e98" class="oa ks it bd kt ob oc dn kx od oe dp lb ls of og ld lw oh oi lf ma oj ok lh iz bi translated">2.初始化减速器</h2><ul class=""><li id="79f2" class="ml mm it ll b lm ln lp lq ls nx lw ny ma nz me pn mr ms mt bi translated"><code class="fe or os ot ou b"><strong class="ll jd">index.js</strong></code>是将所有减速器组合成一个文件的地方，添加以下内容:</li></ul><pre class="ni nj nk nl gt ov ou ow ox aw oy bi"><span id="6367" class="oa ks it ou b gy oz pa l pb pc">import { combineReducers } from 'redux';<br/>import userReducer from './userReducer';</span><span id="8f74" class="oa ks it ou b gy po pa l pb pc">export default combineReducers({<br/>  user: userReducer,<br/>});</span></pre><ul class=""><li id="bc5b" class="ml mm it ll b lm mf lp mg ls mn lw mo ma mp me pn mr ms mt bi translated">在<code class="fe or os ot ou b"><strong class="ll jd">userReducer.js</strong></code>中，初始化所有状态:</li></ul><figure class="ni nj nk nl gt nm"><div class="bz fp l di"><div class="pe pf l"/></div></figure><h1 id="cfd5" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated">反应路由器</h1><p id="0b4f" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">现在，我们需要一种更好、更有效的方法，在我们转到<code class="fe or os ot ou b">locahost:3000/home</code>或<code class="fe or os ot ou b">localhost:3000/login</code>时，将我们重新路由到特定页面</p><h2 id="a24d" class="oa ks it bd kt ob oc dn kx od oe dp lb ls of og ld lw oh oi lf ma oj ok lh iz bi translated">1.主路由器类别</h2><p id="44f6" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">将此添加到<code class="fe or os ot ou b"><strong class="ll jd">RouterComponent.js</strong></code></p><pre class="ni nj nk nl gt ov ou ow ox aw oy bi"><span id="c979" class="oa ks it ou b gy oz pa l pb pc">import React, { Component } from 'react';<br/>import { connect } from 'react-redux';</span><span id="a4b8" class="oa ks it ou b gy po pa l pb pc">import { BrowserRouter as Router } from 'react-router-dom';</span><span id="c333" class="oa ks it ou b gy po pa l pb pc">import RoutesComponent from './RoutesComponent';</span><span id="b4a9" class="oa ks it ou b gy po pa l pb pc">class RouterComponent extends Component {<br/>  render() {<br/>    const { user } = this.props || {};</span><span id="79dc" class="oa ks it ou b gy po pa l pb pc">return (<br/>      &lt;Router basename="/"&gt;<br/>        &lt;div&gt;<br/>          &lt;RoutesComponent user={user} /&gt;<br/>        &lt;/div&gt;<br/>      &lt;/Router&gt;<br/>    );<br/>  }<br/>}</span><span id="3fe5" class="oa ks it ou b gy po pa l pb pc">export default connect()(RouterComponent);</span></pre><h2 id="e623" class="oa ks it bd kt ob oc dn kx od oe dp lb ls of og ld lw oh oi lf ma oj ok lh iz bi translated">2.初始化所有路线</h2><p id="e8eb" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">接下来，添加<code class="fe or os ot ou b"><strong class="ll jd">RoutesComponent.js</strong></code>，这是您将为React应用程序定义所有路线的地方</p><pre class="ni nj nk nl gt ov ou ow ox aw oy bi"><span id="3628" class="oa ks it ou b gy oz pa l pb pc">import React, { Component } from 'react';<br/>import { Route } from 'react-router-dom';</span><span id="4a32" class="oa ks it ou b gy po pa l pb pc">// Page<br/>import HomePage from '../pages/HomePage';</span><span id="db8b" class="oa ks it ou b gy po pa l pb pc">class RoutesComponent extends Component {<br/>  render() {<br/>    return (<br/>      &lt;div&gt;<br/>        &lt;Route exact path="/" component={HomePage} /&gt;<br/>      &lt;/div&gt;<br/>    );<br/>  }<br/>}</span><span id="1e4f" class="oa ks it ou b gy po pa l pb pc">export default RoutesComponent;</span></pre><h2 id="9a2c" class="oa ks it bd kt ob oc dn kx od oe dp lb ls of og ld lw oh oi lf ma oj ok lh iz bi translated">3.将路由器和应用程序连接在一起</h2><p id="7e5f" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">修改你的<code class="fe or os ot ou b"><strong class="ll jd">App.js</strong></code>:</p><pre class="ni nj nk nl gt ov ou ow ox aw oy bi"><span id="0c35" class="oa ks it ou b gy oz pa l pb pc">import React, { Component } from 'react';<br/><strong class="ou jd">import RouterComponent from './router/RouterComponent';</strong></span><span id="7fc9" class="oa ks it ou b gy po pa l pb pc">class App extends Component {<br/>  render() {<br/>    return (<br/>      &lt;div&gt;<br/><strong class="ou jd">        &lt;RouterComponent /&gt;</strong><br/>      &lt;/div&gt;<br/>    );<br/>  }<br/>}</span><span id="7791" class="oa ks it ou b gy po pa l pb pc">export default App;</span></pre></div><div class="ab cl na nb hx nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="im in io ip iq"><h1 id="2ae8" class="kr ks it bd kt ku om kw kx ky on la lb ki oo kj ld kl op km lf ko oq kp lh li bi translated">组合路由器+ Redux-thunk + App</h1><ul class=""><li id="0675" class="ml mm it ll b lm ln lp lq ls nx lw ny ma nz me pn mr ms mt bi translated">修改你的<code class="fe or os ot ou b"><strong class="ll jd">App.js</strong></code></li></ul><figure class="ni nj nk nl gt nm"><div class="bz fp l di"><div class="pe pf l"/></div></figure><ul class=""><li id="56f1" class="ml mm it ll b lm mf lp mg ls mn lw mo ma mp me pn mr ms mt bi translated">修改<code class="fe or os ot ou b"><strong class="ll jd">index.js</strong></code> <strong class="ll jd"> : </strong></li></ul><figure class="ni nj nk nl gt nm"><div class="bz fp l di"><div class="pe pf l"/></div></figure><ul class=""><li id="b832" class="ml mm it ll b lm mf lp mg ls mn lw mo ma mp me pn mr ms mt bi translated">将此添加到<code class="fe or os ot ou b">auth.action.js</code>:</li></ul><figure class="ni nj nk nl gt nm"><div class="bz fp l di"><div class="pe pf l"/></div></figure><p id="699b" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">打开你的浏览器，你仍然会看到同一个登陆页面，使用React-router，Redux-thunk也能很好地工作</p><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi pp"><img src="../Images/1ad3e14342475f68e112f908401c160c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MhGx0UMRAOOwQU-wkLtjIg.png"/></div></div></figure><p id="87a5" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">现在，让我们学习如何使用您的后端项目。</p></div><div class="ab cl na nb hx nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="im in io ip iq"><h1 id="6e63" class="kr ks it bd kt ku om kw kx ky on la lb ki oo kj ld kl op km lf ko oq kp lh li bi translated">构建登录页面</h1><ol class=""><li id="b10d" class="ml mm it ll b lm ln lp lq ls nx lw ny ma nz me mq mr ms mt bi translated">初始化组件和类:<code class="fe or os ot ou b"><strong class="ll jd">$ touch src/pages/LoginPage.js src/components/Login.js</strong></code></li></ol><p id="f9bd" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated"><strong class="ll jd">登录组件</strong></p><figure class="ni nj nk nl gt nm"><div class="bz fp l di"><div class="pe pf l"/></div></figure><p id="cbcb" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated"><strong class="ll jd">登录页面类</strong></p><figure class="ni nj nk nl gt nm"><div class="bz fp l di"><div class="pe pf l"/></div></figure><h2 id="12de" class="oa ks it bd kt ob oc dn kx od oe dp lb ls of og ld lw oh oi lf ma oj ok lh iz bi translated">登录路线</h2><ul class=""><li id="5d26" class="ml mm it ll b lm ln lp lq ls nx lw ny ma nz me pn mr ms mt bi translated">在<code class="fe or os ot ou b">RoutesComponent</code>中添加登录路径:</li></ul><figure class="ni nj nk nl gt nm"><div class="bz fp l di"><div class="pe pf l"/></div></figure><h1 id="0876" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated">使用Axios进行API调用</h1><ol class=""><li id="31a2" class="ml mm it ll b lm ln lp lq ls nx lw ny ma nz me mq mr ms mt bi translated">安装Axios: <code class="fe or os ot ou b">$ npm i axios</code></li><li id="7c2c" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me mq mr ms mt bi translated">创建文件进行API调用:<code class="fe or os ot ou b"><strong class="ll jd">$ touch src/api/login.api.js</strong></code></li><li id="0d3b" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me mq mr ms mt bi translated">将此添加到<code class="fe or os ot ou b">login.api.js</code>:</li></ol><figure class="ni nj nk nl gt nm"><div class="bz fp l di"><div class="pe pf l"/></div></figure></div><div class="ab cl na nb hx nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="im in io ip iq"><h1 id="562c" class="kr ks it bd kt ku om kw kx ky on la lb ki oo kj ld kl op km lf ko oq kp lh li bi translated">测试</h1><ol class=""><li id="3197" class="ml mm it ll b lm ln lp lq ls nx lw ny ma nz me mq mr ms mt bi translated">使用样本邮箱和密码登录:<code class="fe or os ot ou b">user@testing.com</code> &amp; <code class="fe or os ot ou b">12345678</code></li><li id="47e1" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me mq mr ms mt bi translated">在浏览器上点击右键，“Inspect”，“Application”，“Local Storage”，“localhost:3000/”。</li><li id="da32" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me mq mr ms mt bi translated">你会注意到网站有一个<strong class="ll jd">用户令牌</strong>。</li></ol><figure class="ni nj nk nl gt nm gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/4dfec7aaa96eb1cb8dc80c85d46480f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*830YqmfjrJW4wgvgF9Sw9Q.gif"/></div></figure><h1 id="a53e" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated">注销</h1><p id="24ee" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">成功登录后，我们希望:</p><ol class=""><li id="9366" class="ml mm it ll b lm mf lp mg ls mn lw mo ma mp me mq mr ms mt bi translated">重定向到登录用户的主页</li><li id="e81a" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me mq mr ms mt bi translated">添加<strong class="ll jd">注销功能</strong></li></ol><p id="c219" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">修改<strong class="ll jd"> HomePage.js </strong></p><figure class="ni nj nk nl gt nm"><div class="bz fp l di"><div class="pe pf l"/></div></figure><p id="94d8" class="pw-post-body-paragraph lj lk it ll b lm mf kd lo lp mg kg lr ls mh lu lv lw mi ly lz ma mj mc md me im bi translated">现在，再次测试你的应用程序，你会看到上面的结果！</p><h1 id="1163" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated"><strong class="ak">跟进</strong></h1><ul class=""><li id="5d79" class="ml mm it ll b lm ln lp lq ls nx lw ny ma nz me pn mr ms mt bi translated">如果你喜欢阅读<strong class="ll jd"> <em class="mk">《我与创业公司一起成长</em> </strong>》，并希望在未来阅读更多。请在此订阅<a class="ae mu" href="http://eepurl.com/g5qIBf" rel="noopener ugc nofollow" target="_blank">。</a></li><li id="125c" class="ml mm it ll b lm mv lp mw ls mx lw my ma mz me pn mr ms mt bi translated">在<a class="ae mu" href="https://github.com/calvinqc" rel="noopener ugc nofollow" target="_blank"> Github </a>、<a class="ae mu" href="https://www.linkedin.com/in/calvinqc/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上和我联系</li></ul></div></div>    
</body>
</html>