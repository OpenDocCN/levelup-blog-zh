<html>
<head>
<title>Python Sorting Essentials</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python排序基础</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/sorting-in-python-using-keys-d2622edd7a92?source=collection_archive---------2-----------------------#2021-05-24">https://levelup.gitconnected.com/sorting-in-python-using-keys-d2622edd7a92?source=collection_archive---------2-----------------------#2021-05-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="213c" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">如何有效使用Python内置的排序算法</h2><div class=""/><div class=""><h2 id="1b27" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">Python中用键和Lambda函数排序</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/29e8241efb8b31a3a537498097e1f421.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DAk_9mHFG1chnLZC"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">由<a class="ae le" href="https://unsplash.com/@bergerteam?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">弗洛里安·伯杰</a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="e95b" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">作为一名高中计算机科学教师，我发现使用键对列表进行排序对学生来说常常是一个挑战。排序是几乎所有Python项目必不可少的例行编码任务，因此掌握它的使用对您的编程未来至关重要。</p><p id="985d" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">本文将带您了解Python中使用内置函数和方法对列表(和其他对象)进行排序的最常见和最有用的方法。本文是为使用Python3的程序员新手写的。</p><h2 id="23d1" class="mb mc iq bd md me mf dn mg mh mi dp mj lo mk ml mm ls mn mo mp lw mq mr ms iw bi translated">引擎盖下发生了什么？</h2><p id="9d2c" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">Python使用Tim Peters编写的内部算法(该算法被亲切地称为TimSort)。它既快速又高效。它是合并排序和插入排序的组合，适用于任何常规排序任务。</p><p id="8326" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">Python中有两种访问排序算法的方法:</p><ul class=""><li id="119b" class="my mz iq lh b li lj ll lm lo na ls nb lw nc ma nd ne nf ng bi translated"><code class="fe nh ni nj nk b"><a class="ae le" href="https://docs.python.org/3/library/stdtypes.html?highlight=sort#list.sort" rel="noopener ugc nofollow" target="_blank">sort() method</a></code>(应用于iterable对象对其进行排序)</li><li id="48c5" class="my mz iq lh b li nl ll nm lo nn ls no lw np ma nd ne nf ng bi translated"><code class="fe nh ni nj nk b"><a class="ae le" href="https://docs.python.org/3/library/functions.html?highlight=sorted#sorted" rel="noopener ugc nofollow" target="_blank">sorted() function</a></code>(返回一个排序后的对象)</li></ul><p id="376a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如果你对其他类型的排序算法的工作原理和用途感兴趣，我建议从Toptal的这个<a class="ae le" href="https://www.toptal.com/developers/sorting-algorithms" rel="noopener ugc nofollow" target="_blank">非常酷的互动</a>开始。我也喜欢YouTube频道上绝对奇异而可爱的算法，它通过传统的民族舞蹈展示了流行的排序算法。</p><h1 id="4b02" class="nq mc iq bd md nr ns nt mg nu nv nw mj kf nx kg mm ki ny kj mp kl nz km ms oa bi translated">sort()方法</h1><p id="1264" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">排序方法可以直接应用于现有列表，因为它是一种方法，所以它直接作用于对象并对其进行排序。字符串的默认排序根据<a class="ae le" href="http://www.asciitable.com/" rel="noopener ugc nofollow" target="_blank"> ASCII表</a>按字母顺序排列。请注意大写字母先于小写字母(即<code class="fe nh ni nj nk b">‘apple’</code>先于<code class="fe nh ni nj nk b">‘banana’</code><em class="ob">，而<code class="fe nh ni nj nk b">Apple’</code>先于</em><code class="fe nh ni nj nk b">‘banana’</code><em class="ob">)。只需确保您使用的是相同的案例(<code class="fe nh ni nj nk b">.upper()</code>或<code class="fe nh ni nj nk b">.lower()</code>字符串方法)。对于文本和数字数据，它按从低到高(AtoZ或0，1，2，3)的顺序排列，如下所示。</em></p><pre class="kp kq kr ks gt oc nk od oe aw of bi"><span id="b446" class="mb mc iq nk b gy og oh l oi oj">names = [<strong class="nk ja">'Eve'</strong>, <strong class="nk ja">'Cam'</strong>, <strong class="nk ja">'Bev'</strong>, <strong class="nk ja">'Abe'</strong>, <strong class="nk ja">'Dan'</strong>, <strong class="nk ja">'Flo'</strong>]<br/>names.sort()<br/>print(names)</span><span id="95d6" class="mb mc iq nk b gy ok oh l oi oj">numbers = [5, 3, 0, 1, 4, 2]<br/>numbers.sort()<br/>print(numbers)</span><span id="3163" class="mb mc iq nk b gy ok oh l oi oj">-------OUTPUT-------<br/>['Abe', 'Bev', 'Cam', 'Dan', 'Eve', 'Flo']<br/>[0, 1, 2, 3, 4, 5]</span></pre><p id="66a0" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如果您想按降序排列(ZtoA或3，2，1，0)，有一个可选的关键字参数<code class="fe nh ni nj nk b">reverse</code>可以使用，如下所示:</p><pre class="kp kq kr ks gt oc nk od oe aw of bi"><span id="fc73" class="mb mc iq nk b gy og oh l oi oj">names = [<strong class="nk ja">'Eve'</strong>, <strong class="nk ja">'Cam'</strong>, <strong class="nk ja">'Bev'</strong>, <strong class="nk ja">'Abe'</strong>, <strong class="nk ja">'Dan'</strong>, <strong class="nk ja">'Flo'</strong>]<br/>names.sort(reverse=<strong class="nk ja">True</strong>)<br/>print(names)</span><span id="8316" class="mb mc iq nk b gy ok oh l oi oj">-------OUTPUT-------<br/>['Flo', 'Eve', 'Dan', 'Cam', 'Bev', 'Abe']</span></pre><h1 id="d366" class="nq mc iq bd md nr ns nt mg nu nv nw mj kf nx kg mm ki ny kj mp kl nz km ms oa bi translated">排序的()函数</h1><p id="205e" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">通常，您希望保留原始列表(或其他可编辑对象)并创建一个新的排序列表。为此，使用<code class="fe nh ni nj nk b">sorted()</code>功能。它的排序方式与<code class="fe nh ni nj nk b">.sort()</code>方法相同，但是<strong class="lh ja">返回</strong>一个排序列表，而不是就地改变当前的列表。下面是我们返回并获取<code class="fe nh ni nj nk b">sorted</code>函数结果的简单用法。</p><pre class="kp kq kr ks gt oc nk od oe aw of bi"><span id="d300" class="mb mc iq nk b gy og oh l oi oj">dogs = [<strong class="nk ja">'dachshund'</strong>, <strong class="nk ja">'beagle'</strong>, <strong class="nk ja">'corgi'</strong>, <strong class="nk ja">'akita'</strong>]<br/>sorted_dogs = sorted(dogs)<br/><br/>print(dogs)<br/>print(sorted_dogs)</span><span id="eee0" class="mb mc iq nk b gy ok oh l oi oj">-------OUTPUT-------<br/>['dachshund', 'beagle', 'corgi', 'akita']<br/>['akita', 'beagle', 'corgi', 'dachshund']</span></pre><p id="3f3e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">该功能还接受关键字<code class="fe nh ni nj nk b">reverse</code>。</p><h1 id="9baa" class="nq mc iq bd md nr ns nt mg nu nv nw mj kf nx kg mm ki ny kj mp kl nz km ms oa bi translated">使用键进行排序</h1><p id="5058" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">您可能已经理解了本文，并在寻找上面简单分类之外的东西。如果您想按字母或数字以外的任何方式对列表进行排序，请使用关键字参数<code class="fe nh ni nj nk b">key</code>进行排序。</p><p id="3b60" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><code class="fe nh ni nj nk b">key</code>参数应该被分配一个函数作为参数。这通常是初学者第一次接触这个概念。事实证明，你可以把任何东西传递给一个函数，包括另一个函数。您作为<code class="fe nh ni nj nk b">key</code>传入的函数，只需要能够接受每个列表项并返回一个您希望排序的值，如下所示。</p><h2 id="d22e" class="mb mc iq bd md me mf dn mg mh mi dp mj lo mk ml mm ls mn mo mp lw mq mr ms iw bi translated">使用Python内置函数作为密钥</h2><p id="a11a" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">现有的Python函数当然可以作为键传入<code class="fe nh ni nj nk b">.sort()</code>或<code class="fe nh ni nj nk b">sorted()</code>。这个简单的实现是我们学习如何使用<code class="fe nh ni nj nk b">key</code>参数的一个好的开始。</p><pre class="kp kq kr ks gt oc nk od oe aw of bi"><span id="0c8d" class="mb mc iq nk b gy og oh l oi oj">dogs = [<strong class="nk ja">'dachshund'</strong>, <strong class="nk ja">'beagle'</strong>, <strong class="nk ja">'corgi'</strong>, <strong class="nk ja">'akita'</strong>, <strong class="nk ja">'pug'</strong>]<br/>dogs.sort(key=len)<br/>print(dogs)</span><span id="360f" class="mb mc iq nk b gy ok oh l oi oj">-------OUTPUT-------<br/>['pug', 'corgi', 'akita', 'beagle', 'dachshund']</span></pre><p id="31bd" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在上面的代码中，我们使用内置函数<code class="fe nh ni nj nk b">len</code>对狗进行分类，该函数只返回单词的长度。新的排序列表现在有最短的狗的名字第一。</p><p id="5abc" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">注</strong>:有平手的时候(柯基犬和秋田犬是同数字母)，保留单词原来的顺序。</p><h2 id="6a0f" class="mb mc iq bd md me mf dn mg mh mi dp mj lo mk ml mm ls mn mo mp lw mq mr ms iw bi translated">使用用户定义的函数作为键</h2><p id="c5ed" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">键也可以是用户定义的函数，如下所示。这是最通用的，因为在函数中可以做的事情没有限制。下面是一个函数，它接受一对数字，并使用勾股定理返回该点离原点的距离。</p><p id="cdd3" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">当用作关键点时，点列表按照它们与原点的接近程度进行排序。</p><pre class="kp kq kr ks gt oc nk od oe aw of bi"><span id="7b7f" class="mb mc iq nk b gy og oh l oi oj"><strong class="nk ja">def </strong>dist(point):<br/>    <em class="ob"># distance from origin using c = sqrt(a**2 + b**2)<br/>    </em>distance = (point[0]**2 + point[1]**2) ** 0.5<br/>    <strong class="nk ja">return </strong>distance<br/><br/><br/>points = [[5, 2], [4, 4], [1, 1], [3, 0], [0, 1]]<br/><br/>points.sort(key=dist)<br/>print(points)</span><span id="e3ec" class="mb mc iq nk b gy ok oh l oi oj">-------OUTPUT-------<br/>[[0, 1], [1, 1], [3, 0], [5, 2], [4, 4]]</span></pre><h2 id="75bd" class="mb mc iq bd md me mf dn mg mh mi dp mj lo mk ml mm ls mn mo mp lw mq mr ms iw bi translated">使用lambda函数作为密钥</h2><p id="da5d" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">现在是经常让我的学生出错的部分lambda函数的介绍。有时候我觉得名字是这里最吓人的部分。</p><p id="2be4" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">lambda函数只是一个匿名函数(这意味着我们没有用<code class="fe nh ni nj nk b">def</code>来命名它)。它是一个单一的表达式，我们不能在lambda函数中使用<code class="fe nh ni nj nk b">return</code>。除了这两点之外，lambda函数可以以与常规函数完全相同的方式使用。让它变得超级有用的额外好处是，它可以在一行代码中创建。在我们的例子中，我们可以直接在排序函数中创建它。Lambda函数是编写更复杂的Python代码的关键构件，所以如果你打算在这门语言上走得更远，就要尽快掌握它们。</p><p id="144f" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">示例1: </strong>这是一个使用lambda函数按绝对值对数字列表进行排序的简单示例:</p><pre class="kp kq kr ks gt oc nk od oe aw of bi"><span id="dfde" class="mb mc iq nk b gy og oh l oi oj">nums = [-2, -5, 8, 2, 1, 0]<br/>nums.sort(key=<strong class="nk ja">lambda </strong>x: abs(x))<br/><br/>print(nums)</span><span id="b386" class="mb mc iq nk b gy ok oh l oi oj">-------OUTPUT-------<br/>[0, 1, -2, 2, -5, 8]</span></pre><p id="529a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我们添加了一些新的语法，如下图所示。它无非是一个简化的<code class="fe nh ni nj nk b">def</code>。关键字<code class="fe nh ni nj nk b">lambda</code>后面紧跟着您想要的函数的输入参数(在本例中我调用了mine x)。冒号的另一边是函数的返回值。这就是lambda函数的全部，输入和输出由冒号分隔。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ol"><img src="../Images/445badae15c65607ebd29fad0a62d181.png" data-original-src="https://miro.medium.com/v2/resize:fit:894/format:webp/1*JGzEfPjS0j5mp0jrf1pMaQ.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">按绝对值排序</figcaption></figure><p id="dfee" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">例2:按索引排序。</strong>一个非常常见的任务是根据特定元素对列表进行排序。在下面的例子中，我们希望按照测验分数对<code class="fe nh ni nj nk b">grades</code>列表进行排序。</p><pre class="kp kq kr ks gt oc nk od oe aw of bi"><span id="be8b" class="mb mc iq nk b gy og oh l oi oj">grades = [('Cam', 88), ('Bev', 95), ('Abe', 88), ('Dan', 90)]<br/><br/>grades.sort(key=<strong class="nk ja">lambda </strong>x: x[1])<br/>print(grades)</span><span id="5b03" class="mb mc iq nk b gy ok oh l oi oj">-------OUTPUT-------<br/>[('Cam', 88), ('Abe', 88), ('Dan', 90), ('Bev', 95)]</span></pre><p id="a84c" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">lambda将x作为参数(我使用了x，但是您可以在这里使用任何您想要的变量名称)。我们的等级列表中的每个元组都作为x发送到lambda函数中。我们返回x[1]的值(数字等级)。然后，sort方法使用返回值对列表进行排序。我们可以看到输出是一个按等级排序的列表，从最低到最高。如果您想颠倒顺序，只需包含reverse=True参数。</p><p id="ea63" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">例3:按多个指标排序。</strong>我从上一个示例中注意到，Abe和Cam得分相同，但Cam名列第一，因为他们在原始列表中名列第一。让我们通过添加第二个索引来解决这个问题。</p><pre class="kp kq kr ks gt oc nk od oe aw of bi"><span id="deb2" class="mb mc iq nk b gy og oh l oi oj">grades = [('Cam', 88), ('Bev', 95), ('Abe', 88), ('Dan', 90)]</span><span id="05a7" class="mb mc iq nk b gy ok oh l oi oj">grades.sort(key=<strong class="nk ja">lambda </strong>x: (x[1], x[0]))<br/>print(grades)</span><span id="6d61" class="mb mc iq nk b gy ok oh l oi oj">-------OUTPUT-------<br/>[('Abe', 88), ('Cam', 88), ('Dan', 90), ('Bev', 95)]</span></pre><p id="135e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">注意，lambda返回一组值。您可以根据放入该元组中的项目进行排序。如果在第一个项目上有一个“tie ”,那么它将转到元组中的第二个项目。如果第一项和第二项出现平局，则进入第三项，以此类推。</p><p id="4a80" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">例4:不区分大小写的排序。这是另一个相当常见的任务。我想在保留原始文本内容的同时，按字母顺序对文本列表进行排序。正如我们前面看到的，使用ASCII规则排序时，大小写很重要。通过执行以下操作，我可以在不改变列表内容的情况下解决这个问题:</strong></p><pre class="kp kq kr ks gt oc nk od oe aw of bi"><span id="e6cd" class="mb mc iq nk b gy og oh l oi oj">games = [<strong class="nk ja">'Monopoly'</strong>, <strong class="nk ja">'Boggle'</strong>, <strong class="nk ja">'chess'</strong>, <strong class="nk ja">'backgammon'</strong>, <strong class="nk ja">'Sorry'</strong>]</span><span id="cdd1" class="mb mc iq nk b gy ok oh l oi oj"># without lambda function<br/>games.sort() <br/>print(games)</span><span id="ab9a" class="mb mc iq nk b gy ok oh l oi oj"># with lambda function<br/>games.sort(key=<strong class="nk ja">lambda </strong>x: x.upper())<br/>print(games)</span><span id="201e" class="mb mc iq nk b gy ok oh l oi oj">-------OUTPUT-------<br/>['Boggle', 'Monopoly', 'Sorry', 'backgammon', 'chess']<br/>['backgammon', 'Boggle', 'chess', 'Monopoly', 'Sorry']</span></pre><p id="da9b" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">当我们不使用lambda时，ASCII顺序将大写单词放在前面。我们通过使用lambda对每个列表项的所有大写文本进行排序来纠正这一问题。(我们也可以使用<code class="fe nh ni nj nk b">.lower()</code>按小写字母排序，效果相同)</p><p id="9740" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">例5:对类对象进行排序。</strong>如果你正在处理一个对象列表，按属性或者甚至按方法的返回值对它们进行排序通常是很方便的。这里有一个更复杂的版本，是我们之前对分数排序所做的。这次我创建了一个<code class="fe nh ni nj nk b">Student</code>类的实例来代表每个学生，并将这些实例放在一个名为<code class="fe nh ni nj nk b">students</code>的列表中。</p><pre class="kp kq kr ks gt oc nk od oe aw of bi"><span id="d963" class="mb mc iq nk b gy og oh l oi oj"><strong class="nk ja">class </strong>Student:<br/>    <strong class="nk ja">def </strong>__init__(self, name, grades):<br/>        self.name = name<br/>        self.grades = grades<br/>    <strong class="nk ja">def </strong>get_average(self):<br/>        <em class="ob"># get average of all grades<br/>        </em>average = sum(self.grades) / len(self.grades)<br/>        <strong class="nk ja">return </strong>average<br/>    <strong class="nk ja">def </strong>__repr__(self):<br/>        <em class="ob"># just here so we have something to print<br/>        </em><strong class="nk ja">return </strong>repr((self.name))</span><span id="930c" class="mb mc iq nk b gy ok oh l oi oj"><br/><em class="ob"># create a list of Student objects using names and all grades<br/></em>students = [Student(<strong class="nk ja">'Dan'</strong>, [88, 89, 96]),<br/>            Student(<strong class="nk ja">'Bev'</strong>, [95, 99, 88]),<br/>            Student(<strong class="nk ja">'Cam'</strong>, [88, 75, 90]),<br/>            Student(<strong class="nk ja">'Abe'</strong>, [90, 88, 88])]</span><span id="d6dd" class="mb mc iq nk b gy ok oh l oi oj"># sort the students by name<br/>students.sort(key=<strong class="nk ja">lambda </strong>student: student.name)<br/>print(students)</span><span id="d775" class="mb mc iq nk b gy ok oh l oi oj"># sort the students by average grade<br/>students.sort(key=<strong class="nk ja">lambda </strong>student: student.get_average())<br/>print(students)</span><span id="f100" class="mb mc iq nk b gy ok oh l oi oj">-------OUTPUT-------<br/>['Abe', 'Bev', 'Cam', 'Dan']<br/>['Cam', 'Abe', 'Dan', 'Bev']</span></pre><p id="9f3b" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">当我们使用点标记法(在我们的例子中是student.name)来使用对象属性时，我们使用返回的属性作为排序顺序。</p><p id="ca7a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">当我们在lambda函数中使用一个方法时，我们使用该方法的返回值进行排序。</p><h1 id="f3a0" class="nq mc iq bd md nr ns nt mg nu nv nw mj kf nx kg mm ki ny kj mp kl nz km ms oa bi translated">操作员功能</h1><p id="68be" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">根据一个或多个列表索引进行排序是一项非常常见的任务，Python有一个名为<code class="fe nh ni nj nk b">operator</code>的“包含电池”库来帮助我们。<code class="fe nh ni nj nk b">itemgetter</code>函数可以代替lambda用作键。您可以在函数中包含您想要排序的索引号，如下所示。<code class="fe nh ni nj nk b">itemgetter</code>执行速度比lambda函数稍快，因此如果您正在处理一个大的list/dict，它会很有用。然而，当您有更多的特殊排序需求时，它比使用lambda或用户定义的函数更受限制。</p><pre class="kp kq kr ks gt oc nk od oe aw of bi"><span id="bfbb" class="mb mc iq nk b gy og oh l oi oj"><strong class="nk ja">from </strong>operator <strong class="nk ja">import </strong>itemgetter<br/><br/>cities = [[<strong class="nk ja">'Albuquerque'</strong>, <strong class="nk ja">'NM'</strong>], [<strong class="nk ja">'Decatur'</strong>, <strong class="nk ja">'IL'</strong>], [<strong class="nk ja">'Boston'</strong>, <strong class="nk ja">'MA'</strong>], [<strong class="nk ja">'Chicago'</strong>, <strong class="nk ja">'IL'</strong>]]<br/><br/>cities.sort(key=itemgetter(1))<br/>print(cities)<br/><br/>cities.sort(key=itemgetter(1, 0))<br/>print(cities)</span><span id="ac9a" class="mb mc iq nk b gy ok oh l oi oj">-------OUTPUT-------<br/>[['Decatur', 'IL'], ['Chicago', 'IL'], ['Boston', 'MA'], ['Albuquerque', 'NM']]</span><span id="d47b" class="mb mc iq nk b gy ok oh l oi oj">[['Chicago', 'IL'], ['Decatur', 'IL'], ['Boston', 'MA'], ['Albuquerque', 'NM']]</span></pre><p id="3668" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在第一次排序中，我使用itemgetter(1)按州缩写排序。注意迪凯特和芝加哥的顺序。</p><p id="295b" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在第二次排序中，我向itemgetter(1，0)传递了两个索引。它先按州排序，然后按城市排序。现在芝加哥在迪凯特之前。</p><p id="8ea2" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">注意</strong>:还有一个叫做<code class="fe nh ni nj nk b">attrgetter</code>的函数，用于按对象属性排序。</p><h1 id="a23c" class="nq mc iq bd md nr ns nt mg nu nv nw mj kf nx kg mm ki ny kj mp kl nz km ms oa bi translated">总结性的新闻报导</h1><p id="f1bd" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">Python是一种很好的数据排序语言。这是一项非常普通的任务，所以现在练习这项技能将会在以后获得回报。</p><p id="8a4c" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在我的例子中，我主要使用了<code class="fe nh ni nj nk b">.sort()</code>方法和<code class="fe nh ni nj nk b">lists</code>。同样的<code class="fe nh ni nj nk b">key</code>技术可转移到<code class="fe nh ni nj nk b">sorted()</code>函数，也可用于其他可迭代类型(<code class="fe nh ni nj nk b">dicts</code>、<code class="fe nh ni nj nk b">tuples</code>)。python文档对于排序非常有用；在那里可以找到对概念的进一步解释，我只包括了最常见的任务和更多的例子。</p><p id="31d5" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我知道这个话题对我的一些编程学生来说是个棘手的问题，所以我希望这里的解释能帮助到一些人。</p><p id="8d1a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如果您有问题，发现任何错误，或者对如何改进本文有建议，请告诉我。如果这篇文章对你有所帮助，一定要让我知道，这就是为什么我做它们。感谢阅读！</p><p id="5880" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">祝你好运🍀</p></div></div>    
</body>
</html>