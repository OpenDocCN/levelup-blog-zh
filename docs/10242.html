<html>
<head>
<title>Material You App Icons: Part Way There</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">材料你应用图标:中途有</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/material-you-app-icons-part-way-there-bb8cb02ce452?source=collection_archive---------5-----------------------#2021-11-10">https://levelup.gitconnected.com/material-you-app-icons-part-way-there-bb8cb02ce452?source=collection_archive---------5-----------------------#2021-11-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="72a2" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">争取非官方支持的尝试</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ab13187abdd61edd1b1735ff6a02a257.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ttzcAN1xwIPK6uHG3kuSUw.jpeg"/></div></div></figure><p id="1551" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">随着<a class="ae lq" href="https://go.oliverspryn.com/material-design-3" rel="noopener ugc nofollow" target="_blank"> Material Design 3 </a>的推出，更普遍的说法是Material You，谷歌为Android上的主要材料设计提供了新的定制深度。兼容的应用程序不再依赖于应用程序设计者的想象力来完全实现。现在，用户的偏好可以左右调色板和其他设计美学。</p><p id="201b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这种级别的定制可以扩展到应用程序本身的图标。目前，谷歌还没有任何关于在应用程序中实现这一功能的官方文档。因此，这项工作留给了社区来拼凑和测试。</p><p id="1647" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我一直在为我专业开发的应用程序<a class="ae lq" href="https://go.oliverspryn.com/myupmc-android" rel="noopener ugc nofollow" target="_blank"> MyUPMC Android </a>研究一些下一代工具。我想知道在我的发现过程中，我可以让用户在多大程度上定制应用程序，包括应用程序图标本身。虽然结果并不是我所希望的那样，但它确实产生了一些丰硕的成果，无论何时谷歌正式向更广泛的受众开放这一定制，都将使这一过程变得更加容易。</p><h1 id="b2c2" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">愿望清单</h1><p id="379e" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">假设你可以使用他们最新版本的Pixel launcher访问Android 12。在这种情况下，您会注意到几个内置的应用程序遵循您的材料自定义设置的规则。也就是说，这些是您可以更改的选项:</p><ul class=""><li id="9cb7" class="mo mp it kw b kx ky la lb ld mq lh mr ll ms lp mt mu mv mw bi translated"><strong class="kw iu">深色主题:</strong>图标应该遵循用户的深色主题/浅色主题偏好。</li><li id="990a" class="mo mp it kw b kx mx la my ld mz lh na ll nb lp mt mu mv mw bi translated"><strong class="kw iu">主题图标:</strong>当开关关闭时应使用图标的默认样式，否则应遵循系统主题。</li></ul><p id="81f5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，理想的期望已经很清楚了，让我们对我们的应用程序图标进行必要的更改。</p><h1 id="aa5e" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">材料</h1><p id="9e81" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">像任何项目或DIY组装程序一样，我们需要一些材料:</p><ul class=""><li id="9d14" class="mo mp it kw b kx ky la lb ld mq lh mr ll ms lp mt mu mv mw bi translated">Android 12，默认Pixel启动器，如前所述。</li><li id="816c" class="mo mp it kw b kx mx la my ld mz lh na ll nb lp mt mu mv mw bi translated">带有路径的自适应图标，您可以快速识别和修改<code class="fe nc nd ne nf b">fillColor</code>或<code class="fe nc nd ne nf b">color</code>属性。这种技术在传统的mipmap启动器图标集上不起作用。</li><li id="6577" class="mo mp it kw b kx mx la my ld mz lh na ll nb lp mt mu mv mw bi translated">各种<code class="fe nc nd ne nf b">color.xml</code>文件供操作系统定义你的图标使用哪种颜色。</li></ul><p id="49b3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我将在我的示例应用程序中使用默认的Android应用程序图标，但为了简单起见，没有任何花哨的人工制品。这意味着我不会有这个图标特有的背景网格或阴影。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/983e1608f96e4939dd398579e951352c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*DoY5L_81ZHMU7Cr3.jpg"/></div></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated">与我将要使用的图标相比，默认的Android应用程序图标</figcaption></figure><h1 id="1309" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">创建颜色资源文件</h1><p id="bba8" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">首先，我建议从图标的矢量资产中提取你的品牌的所有颜色，并将它们移动到默认的<code class="fe nc nd ne nf b">colors.xml</code>文件中。一旦你这样做了，你的vector资产就不应该自己定义任何颜色，而应该通过它的<code class="fe nc nd ne nf b">@color</code>资源标识符来引用每种颜色。</p><p id="6fb7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我的例子很简单。我需要创建两种颜色，一种用于背景，另一种用于前景。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated">使用我品牌配色方案的调色板</figcaption></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated">一个自适应的安卓应用图标</figcaption></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated">自适应Android应用程序图标的前景</figcaption></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated">自适应Android应用程序图标的背景</figcaption></figure><p id="d4e3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">注意所有的颜色定义是如何驻留在默认的<code class="fe nc nd ne nf b">colors.xml</code>文件中的。接下来，我们需要一个<code class="fe nc nd ne nf b">colors.xml</code>用于<code class="fe nc nd ne nf b">night-v31</code>变体。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/a83aabf12cbd29b4bb28661a897acd7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SQGEs81nBdmpdVsY.jpg"/></div></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated">Android Studio针对colors.xml的API 31黑暗模式变体的新资源创建窗口</figcaption></figure><p id="920b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于黑暗模式变体，Android更喜欢使用<code class="fe nc nd ne nf b">@android:color/system_accent1_100</code>作为图标的原色，使用<code class="fe nc nd ne nf b">@android:color/system_neutral1_800</code>作为背景的原色。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated">调色板的暗模式变体</figcaption></figure><p id="44d9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当然，如果你有一个更复杂的图标需要表达，你可以自由地偏离这个方案，但是当你填充图片的其余部分时，不要偏离这个基线太远是有益的。谷歌的Material 3颜色主题页面提供了更多关于你可以选择的标准托盘的信息。坚持使用材料3中的预定义调色板是很重要的，这样你就可以从系统定义的主题中受益。</p><p id="fae9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最后，我们需要一个<code class="fe nc nd ne nf b">colors.xml</code>的<code class="fe nc nd ne nf b">notnight-v31</code>变体。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/7b387421599620a37d0262324e319ac6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*7FZ5IOITUOWn7g1u.jpg"/></div></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated">Android Studio的新资源创建窗口，用于colors.xml的API 31光模式变体</figcaption></figure><p id="9c01" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">同样，我们需要从标准的颜色选择中进行选择，以匹配谷歌在他们的其他应用程序中所做的事情。这里我们需要做的是交换背景和前景原色的角色。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated">调色板的灯光模式变体</figcaption></figure><h1 id="4750" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">测试</h1><p id="bcea" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">为您的设备选择主题并首次安装应用程序后，应用程序启动器上的图标会按预期做出响应:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/c3be8058ce34acb024b713c2180cb52d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/format:webp/1*5FpRfqWZtBF2FE8NOf076Q.jpeg"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated">我们的应用程序在Pixel launcher上显示了一个匹配的配色方案</figcaption></figure><p id="17b1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然而，我们在应用程序列表上遇到了第一个麻烦，这里没有像其他应用程序那样使用品牌颜色:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/eb0c5ad4c6a6d7e7ae0deb5a748dfd4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/format:webp/1*Zegv27pgN-WYXkn9eCkoYA.jpeg"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated">我们的应用图标是唯一一个没有在应用列表中显示品牌颜色的图标</figcaption></figure><p id="168f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们的图标在改变后不会跟随系统颜色:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/c7f4b5e29b47e7b47317646c10839b9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/format:webp/1*r8gVaY3C6DtUVb9xHqAVjg.jpeg"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated">图标不会像其他颜色一样从橙色变为绿色</figcaption></figure><p id="c674" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">有趣的是，你可以看到任务列表中应用程序上方的图标已经响应了变更请求:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/1d608bfc51bfd02666c104e2ea10314e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/format:webp/1*kZe-0nrKRjAziw0N8Szv5w.jpeg"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated">与启动器图标不同，任务列表中应用程序上方的图标是绿色的</figcaption></figure><p id="2e5a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">将图标从应用程序列表拖到启动器时，在图标被拿起并放到最终位置之前，图标会显示正确的颜色:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/ef75f73b3c0b2b7fe5c24e0749d2b2ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/1*2pRxNMk50e-lp7lkOuTxdQ.gif"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated">拖动图标显示正确的绿色，直到它被拖放到启动器上</figcaption></figure><p id="f38a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">卸载并重新安装该应用程序似乎可以解决问题，不过:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/a2940fe1423d4534eee10c3aa3ffa245.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/format:webp/1*gSX9xU0UjFHAWlMOhFY_-A.jpeg"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated">卸载应用程序并在启动器上替换它可以纠正颜色不匹配的问题</figcaption></figure><p id="fd66" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">明暗模式的切换似乎马上就生效了。在少数情况下，我发现这种情况下也需要重新安装:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/c4ee70e333ca7bdcf406a86f84fbd1a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/format:webp/1*5kU_9NKt25jVdXv0EuVD2w.jpeg"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated">亮暗模式之间的切换有时是即时的</figcaption></figure><p id="98a6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最后，在我禁用了主题图标设置之后，除了这个图标之外的所有图标都反映了这一变化:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/e98bd21163c37f0f5ef85105058f1c0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/format:webp/1*1JkWN36dGZKL3IQ-Xuxd4Q.jpeg"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated">当指示这样做时，应用程序图标也不会跟随品牌的颜色</figcaption></figure><h1 id="e61c" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">结论</h1><p id="323c" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">虽然这可能是一个令人失望的诚实努力的总结，但它确实提供了一些关于谷歌如何在自己的应用程序中实现这一点的见解。我们成功地为浅色和深色主题设计了配色方案，但是不能使用我们的品牌颜色，也不能按照指示改变图标的颜色。</p><p id="8330" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在Google发布一些关于这个定制特性的官方指导之前，我建议推迟，直到这些关键问题得到解决。就我而言，我期待着有一天在我的应用程序中使用它的机会。所以，你可以确信我会密切关注官方声明。</p><h1 id="b658" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">参考</h1><p id="6925" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">这一发现工作的大部分是由社区来完成的。我要感谢这些资源为我指明了正确的方向:</p><ul class=""><li id="7ead" class="mo mp it kw b kx ky la lb ld mq lh mr ll ms lp mt mu mv mw bi translated"><a class="ae lq" href="https://go.oliverspryn.com/material-you-icons-issue" rel="noopener ugc nofollow" target="_blank">材料组件GitHub发布</a></li><li id="673f" class="mo mp it kw b kx mx la my ld mz lh na ll nb lp mt mu mv mw bi translated">【StackOverflow的素材你图标</li></ul><h1 id="416e" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">喜欢你读的东西吗？</h1><p id="8f11" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">媒体上还有成千上万篇类似的文章。我是这个网站的付费会员，我完全认为这项投资是值得的。<a class="ae lq" href="https://go.oliverspryn.com/medium-membership" rel="noopener ugc nofollow" target="_blank">点击这里加入</a>，你将用你的一部分会员身份支持我的工作。</p><p id="d3c6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">本文最初发表于<a class="ae lq" href="https://oliverspryn.com/" rel="noopener ugc nofollow" target="_blank">https://oliverspryn.com/</a>。加入我的邮件列表。</p></div></div>    
</body>
</html>