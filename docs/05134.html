<html>
<head>
<title>Operating System Concepts — Sockets</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">操作系统概念—套接字</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/operating-system-concepts-sockets-a78ddb9b5f9c?source=collection_archive---------5-----------------------#2020-08-06">https://levelup.gitconnected.com/operating-system-concepts-sockets-a78ddb9b5f9c?source=collection_archive---------5-----------------------#2020-08-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/174eca898ad331d954edc8ac469271c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*isK07L2cR-PtwWBQJDcfZw.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">格雷格·罗森克在Unsplash上的照片</figcaption></figure><p id="c38b" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">套接字是用于进程间通信的策略。它主要用于基于客户机-服务器的系统。当两个系统想要相互通信时，套接字是通信进程两端的端点。</p><ul class=""><li id="a188" class="ld le it kh b ki kj km kn kq lf ku lg ky lh lc li lj lk ll bi translated">通过网络通信的一对进程使用一对套接字，每个进程一个套接字。</li></ul><blockquote class="lm ln lo"><p id="6c48" class="kf kg lp kh b ki kj kk kl km kn ko kp lq kr ks kt lr kv kw kx ls kz la lb lc im bi translated">当两个进程想要通信时，它们之间需要有一个连接，并且在连接的每一端，每个进程都将使用一个套接字，因此一对通过网络进行通信的进程将使用一对套接字，每个进程一个套接字。</p></blockquote><p id="92e1" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们如何识别插座？</p><ul class=""><li id="d3e9" class="ld le it kh b ki kj km kn kq lf ku lg ky lh lc li lj lk ll bi translated">套接字由一个IP地址和一个端口号来标识。<br/>实现特定服务(如TELNET、FTP和HTTP)的服务器监听众所周知的端口。<br/>比如说，</li><li id="6f5e" class="ld le it kh b ki lt km lu kq lv ku lw ky lx lc li lj lk ll bi translated">TELNET服务器用于监听端口23的远程日志记录</li><li id="66cb" class="ld le it kh b ki lt km lu kq lv ku lw ky lx lc li lj lk ll bi translated">FTP(文件传输协议)用于传输文件，服务器监听端口21</li><li id="612d" class="ld le it kh b ki lt km lu kq lv ku lw ky lx lc li lj lk ll bi translated">Web或Http(超文本传输协议)服务器监听端口80</li><li id="997c" class="ld le it kh b ki lt km lu kq lv ku lw ky lx lc li lj lk ll bi translated">端口号将标识将要提供的每个进程和服务。</li></ul><blockquote class="ly"><p id="9cab" class="lz ma it bd mb mc md me mf mg mh lc dk translated">所有低于1024的端口都被认为是已知的；我们可以用它们来实现标准服务。</p></blockquote><p id="ab2c" class="pw-post-body-paragraph kf kg it kh b ki mi kk kl km mj ko kp kq mk ks kt ku ml kw kx ky mm la lb lc im bi translated"><strong class="kh iu">使用一对套接字的这些进程之间的通信是如何发生的？</strong></p><ul class=""><li id="b0dd" class="ld le it kh b ki kj km kn kq lf ku lg ky lh lc li lj lk ll bi translated">服务器通过监听指定的端口来等待传入的客户端请求。一旦接收到请求，服务器就接受来自客户机套接字的连接以完成连接。</li></ul><blockquote class="lm ln lo"><p id="0c42" class="kf kg lp kh b ki kj kk kl km kn ko kp lq kr ks kt lr kv kw kx ls kz la lb lc im bi translated">在客户机-服务器系统中，客户机向服务器请求信息，服务器向客户机提供信息。为了让客户端与服务器通信，而服务器又与客户端通信，客户端和服务器之间需要有一个连接。为了建立这种连接，我们将使用套接字。</p></blockquote><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mn"><img src="../Images/a9fd9478dd449db33b4b1441f8751d46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9v2AEs2SnJ9cH59ilII04w.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated"><strong class="bd ms">使用套接字进行通信</strong></figcaption></figure><p id="300c" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">从上图来看，第一部分是主机，第二部分是Web服务器。第一部分是客户端，第二部分是服务器。</p><ul class=""><li id="f4a3" class="ld le it kh b ki kj km kn kq lf ku lg ky lh lc li lj lk ll bi translated">客户想要从服务器请求一些东西，服务器必须满足客户对服务器的任何要求。换句话说，要做到这一点，服务器和客户端之间必须有通信链路。使用我们前面定义的套接字概念建立通信链路。</li><li id="2d3e" class="ld le it kh b ki lt km lu kq lv ku lw ky lx lc li lj lk ll bi translated">从图的第一部分开始，客户端进程试图在客户端和服务器之间建立连接。主机将分配一个端口号给这个想要与服务器通信的进程。</li><li id="d4df" class="ld le it kh b ki lt km lu kq lv ku lw ky lx lc li lj lk ll bi translated">上图中主机的IP地址是<code class="fe mt mu mv mw b">146.86.5.20</code>一个属于主机的进程想要与Web服务器通信。为此，主机将为客户端进程分配一个特定的端口号。<br/>然后IP地址被分配一个端口号<code class="fe mt mu mv mw b">146.86.5.20:1625:1625</code>端口号是大于1024的任意数字。它大于1024，因为小于1024的端口号被认为是众所周知的，用于实现标准服务。</li><li id="fde7" class="ld le it kh b ki lt km lu kq lv ku lw ky lx lc li lj lk ll bi translated">类似地，在B部分(Web服务器)中，Web服务器有一个套接字。套接字属于Web服务器中将要与客户端进程通信的进程。它有一个IP地址和端口号<code class="fe mt mu mv mw b">161.25.19.8:80</code></li></ul><p id="5551" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">端口号80小于1024，因为它是Web服务器而不是客户端。客户端试图从服务器访问一些服务，端口号80属于标准服务。</p><p id="c2f4" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">从客户端进程传输到服务器进程的数据包会根据端口号进行适当的传递</p><p id="b3fe" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">如果来自主机的另一个进程想要与Web服务器的同一个套接字通信，该进程将再次被分配另一个套接字。插槽号将是一个不同于<code class="fe mt mu mv mw b">1625</code>且大于<code class="fe mt mu mv mw b">1024</code>的新号码</p><p id="8a8a" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh iu">结论</strong></p><p id="dba0" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">这就是使用套接字在系统/进程之间进行通信的方式。这是用于进程间通信的另一种策略，非常专门用于客户端-服务器系统。</p><blockquote class="lm ln lo"><p id="8f39" class="kf kg lp kh b ki kj kk kl km kn ko kp lq kr ks kt lr kv kw kx ls kz la lb lc im bi translated">套接字专门用于基于客户机-服务器的系统。</p></blockquote><ul class=""><li id="6c41" class="ld le it kh b ki kj km kn kq lf ku lg ky lh lc li lj lk ll bi translated">你也可以在Twitter上联系我或者在G上找到我。</li></ul><p id="a4b3" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh iu">如果这篇文章有帮助，请点击拍手👏按钮下面几下，以示你对作者的支持！⬇ </strong></p></div></div>    
</body>
</html>