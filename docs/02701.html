<html>
<head>
<title>Make professional mobile apps with React Native and Typescript — Make a hello world app (Chapter 1, Part 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用React Native和Typescript制作专业的移动应用程序—制作hello world应用程序(第1章，第1部分)</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/make-professional-mobile-apps-with-react-native-and-typescript-make-hello-world-app-chapter-1-dd39e4dc79e?source=collection_archive---------8-----------------------#2020-03-30">https://levelup.gitconnected.com/make-professional-mobile-apps-with-react-native-and-typescript-make-hello-world-app-chapter-1-dd39e4dc79e?source=collection_archive---------8-----------------------#2020-03-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="19e1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用React Native和TypeScript安装开发工具和构建您的第一个Hello world应用程序的说明。</p></div><div class="ab cl ko kp hx kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="im in io ip iq"><blockquote class="kv kw kx"><p id="55ca" class="jq jr ky js b jt ju jv jw jx jy jz ka kz kc kd ke la kg kh ki lb kk kl km kn im bi translated"><strong class="js iu">先决条件</strong>:虽然你可以在Windows、Linux、macOS中开发和构建Android应用，但构建iOS应用需要macOS。本教程是用macOS编写的，我假设你也在macOS上工作(用Macbook、Mac Pro、Hackintosh机器或VMWare/Virtual box上的macOS)</p></blockquote></div><div class="ab cl ko kp hx kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="im in io ip iq"><h1 id="55a2" class="lc ld it bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">安装开发工具</h1><p id="aad1" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">现在让我们把你的手弄脏。</p><p id="e36f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">重要的事情先来。您必须安装开发所需的工具。使用<a class="ae mj" href="https://brew.sh/" rel="noopener ugc nofollow" target="_blank">自制软件</a>安装<code class="fe mf mg mh mi b">node</code>和<code class="fe mf mg mh mi b">watchman</code>(脸书开发的一种用于观察文件系统变化的工具):</p><pre class="mk ml mm mn gt mo mi mp mq aw mr bi"><span id="528a" class="ms ld it mi b gy mt mu l mv mw">brew install node</span><span id="4138" class="ms ld it mi b gy mx mu l mv mw">brew install watchman</span></pre><p id="cccc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">iOS版</strong>:从iOS版<a class="ae mj" href="https://apps.apple.com/us/app/xcode/id497799835?mt=12" rel="noopener ugc nofollow" target="_blank"> Mac App Store </a>安装最新的<strong class="js iu"> Xcode </strong>。然后安装cocoa pods(Xcode项目的依赖管理器):</p><pre class="mk ml mm mn gt mo mi mp mq aw mr bi"><span id="66e3" class="ms ld it mi b gy mt mu l mv mw">sudo gem install cocoapods</span></pre><p id="b299" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">对于Android: </strong>安装<strong class="js iu"> Java开发包</strong>。</p><pre class="mk ml mm mn gt mo mi mp mq aw mr bi"><span id="424d" class="ms ld it mi b gy mt mu l mv mw">brew cask install adoptopenjdk/openjdk/adoptopenjdk8</span></pre><p id="0263" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后从<a class="ae mj" href="https://developer.android.com/studio/index.html" rel="noopener ugc nofollow" target="_blank">这里</a>安装<strong class="js iu"> Android studio </strong>。当提示选择安装类型时，选择“自定义”安装。确保选中以下所有选项旁边的框:</p><ul class=""><li id="1988" class="my mz it js b jt ju jx jy kb na kf nb kj nc kn nd ne nf ng bi translated"><em class="ky">安卓SDK </em></li><li id="d71e" class="my mz it js b jt nh jx ni kb nj kf nk kj nl kn nd ne nf ng bi translated"><em class="ky"> Android SDK平台</em></li><li id="6dbd" class="my mz it js b jt nh jx ni kb nj kf nk kj nl kn nd ne nf ng bi translated"><em class="ky">性能(Intel HAXM)(</em><a class="ae mj" href="https://android-developers.googleblog.com/2018/07/android-emulator-amd-processor-hyper-v.html" rel="noopener ugc nofollow" target="_blank"><em class="ky">AMD</em></a><em class="ky">)</em>见此</li><li id="2c5a" class="my mz it js b jt nh jx ni kb nj kf nk kj nl kn nd ne nf ng bi translated"><em class="ky">安卓虚拟设备</em></li></ul><p id="b517" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">打开Android studio。进入<strong class="js iu">首选项</strong> → <strong class="js iu"> <em class="ky">外观&amp;行为→系统设置→ Android SDK。</em> </strong>从SDK管理器中选择“SDK平台”选项卡，然后选中右下角“显示软件包详细信息”旁边的框。查找并展开<em class="ky"> Android 9 (Pie) </em>条目，然后确保检查以下项目:</p><ul class=""><li id="e274" class="my mz it js b jt ju jx jy kb na kf nb kj nc kn nd ne nf ng bi translated"><em class="ky"> Android SDK平台28 </em></li><li id="fa77" class="my mz it js b jt nh jx ni kb nj kf nk kj nl kn nd ne nf ng bi translated"><em class="ky">英特尔x86 Atom_64系统映像</em>或<em class="ky">谷歌API英特尔x86 Atom系统映像</em></li></ul><p id="1435" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">接下来，选择“SDK Tools”选项卡，并选中“Show Package Details”旁边的框。查找并展开“Android SDK构建工具”条目，然后确保选择了<code class="fe mf mg mh mi b">28.0.3</code>。</p><p id="bf26" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">将以下几行添加到您的<code class="fe mf mg mh mi b">$HOME/.bash_profile</code>或<code class="fe mf mg mh mi b">$HOME/.bashrc</code>配置文件中。这是构建您的Android应用程序所必需的。</p><pre class="mk ml mm mn gt mo mi mp mq aw mr bi"><span id="85c5" class="ms ld it mi b gy mt mu l mv mw">export ANDROID_HOME=$HOME/Library/Android/sdk</span><span id="d2b1" class="ms ld it mi b gy mx mu l mv mw">export PATH=$PATH:$ANDROID_HOME/emulator</span><span id="20ca" class="ms ld it mi b gy mx mu l mv mw">export PATH=$PATH:$ANDROID_HOME/tools</span><span id="023d" class="ms ld it mi b gy mx mu l mv mw">export PATH=$PATH:$ANDROID_HOME/tools/bin</span><span id="2952" class="ms ld it mi b gy mx mu l mv mw">export PATH=$PATH:$ANDROID_HOME/platform-tools</span></pre><p id="0767" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">之后，键入<code class="fe mf mg mh mi b">source $HOME/.bash_profile</code>将配置加载到当前的shell中。通过运行<code class="fe mf mg mh mi b">echo $PATH</code>验证ANDROID_HOME已经添加到您的路径中。<strong class="js iu">您必须完成这一步，以确保脚本可以正常运行并构建Android应用程序。</strong></p><blockquote class="kv kw kx"><p id="a601" class="jq jr ky js b jt ju jv jw jx jy jz ka kz kc kd ke la kg kh ki lb kk kl km kn im bi translated">对于Windows和Linux用户，你应该遵循脸书的这个指令。</p></blockquote><p id="cad9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们现在最不应该安装的是<strong class="js iu">纱。</strong></p><p id="9845" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe mf mg mh mi b">brew install yarn</code></p><blockquote class="kv kw kx"><p id="cae9" class="jq jr ky js b jt ju jv jw jx jy jz ka kz kc kd ke la kg kh ki lb kk kl km kn im bi translated"><strong class="js iu">专业提示</strong>:我个人更喜欢Yarn而不是npm，因为它提供了更好的缓存，更好的性能，并且使用yarn.lock来安装我们已经使用过的确切的包。因此，我们在本地机器和CI系统中有相同的包。</p></blockquote><p id="7d3b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">安装所有这些可能需要很长时间，所以你现在应该喝杯咖啡，等待安装完成。</p></div><div class="ab cl ko kp hx kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="im in io ip iq"><h1 id="9322" class="lc ld it bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">初始化项目</h1><p id="4116" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">现在，通过运行以下命令初始化您的第一个项目:</p><pre class="mk ml mm mn gt mo mi mp mq aw mr bi"><span id="4ab7" class="ms ld it mi b gy mt mu l mv mw">npx react-native init <strong class="mi iu">mobile</strong> --template react-native-template-typescript</span></pre><p id="3820" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它会创建一个新的文件夹<strong class="js iu"> mobile </strong>，其中包含您的源代码，并自动安装节点模块和cocoa pods。</p><p id="6f4e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">React原生版本:<strong class="js iu"> 0.62.0 </strong>。</p><blockquote class="kv kw kx"><p id="1420" class="jq jr ky js b jt ju jv jw jx jy jz ka kz kc kd ke la kg kh ki lb kk kl km kn im bi translated"><strong class="js iu"> Pro提示</strong>:您的项目名称(<strong class="js iu"> mobile </strong>)用于命名<strong class="js iu"> android </strong>和<strong class="js iu"> ios </strong>文件夹中的包、文件夹、文件。通过将您的项目命名为通用名称，我们可以在以后将它用作其他移动项目的模板。</p></blockquote><p id="a330" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后运行这两个命令:</p><pre class="mk ml mm mn gt mo mi mp mq aw mr bi"><span id="66ce" class="ms ld it mi b gy mt mu l mv mw">yarn android<br/>yarn ios</span></pre><p id="2f22" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">该系统将构建您的代码，启动iOS和Android模拟器，安装您的应用程序并为您打开它。您应该会看到以下屏幕:</p><figure class="mk ml mm mn gt nn gh gi paragraph-image"><div role="button" tabindex="0" class="no np di nq bf nr"><div class="gh gi nm"><img src="../Images/214c71d5a748ad3ae200751057667003.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*223JwrknvaIWyhvdceP5aQ.png"/></div></div><figcaption class="nu nv gj gh gi nw nx bd b be z dk translated">Android &amp; iOS截图</figcaption></figure><p id="8fb5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如屏幕所示，您可以编辑App.tsx，然后保存它。您的更改将自动反映在模拟器上。或者，你可以按<strong class="js iu"> R </strong>(安卓)<strong class="js iu"> </strong>或者<strong class="js iu"> Cmd + R </strong> (iOS)来重新加载你的app。要打开调试菜单，请按下<strong class="js iu"> Cmd + M </strong> (Android)或<strong class="js iu"> Cmd + D </strong> (iOS)或<strong class="js iu">摇动</strong>您的设备。</p><p id="d393" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您还应该花时间阅读第<em class="ky">部分的文章，了解更多信息</em>。</p><blockquote class="kv kw kx"><p id="a452" class="jq jr ky js b jt ju jv jw jx jy jz ka kz kc kd ke la kg kh ki lb kk kl km kn im bi translated"><strong class="js iu"> Pro提示:</strong>将此脚本<code class="fe mf mg mh mi b"><em class="it">“postinstall”: “cd ios &amp;&amp; pod install &amp;&amp; cd ..”</em></code>添加到<strong class="js iu"> package.json. </strong>中的<strong class="js iu"> scripts </strong>部分，稍后在本教程中添加新库时，cocoa pods会自动安装。</p></blockquote></div><div class="ab cl ko kp hx kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="im in io ip iq"><h1 id="1bec" class="lc ld it bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">制作Hello world应用程序</h1><p id="8e64" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">现在让我们制作Hello world应用程序。</p><p id="36ae" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">移除根文件夹中的<strong class="js iu"> <em class="ky"> App.tsx </em> </strong>。在根文件夹中创建<strong class="js iu"> <em class="ky"> src </em> </strong>文件夹。然后添加2个文件<strong class="js iu"> <em class="ky"> app.tsx </em> </strong>和<strong class="js iu"> <em class="ky"> app.style.ts </em>。</strong></p><figure class="mk ml mm mn gt nn"><div class="bz fp l di"><div class="ny nz l"/></div><figcaption class="nu nv gj gh gi nw nx bd b be z dk translated">app.tsx</figcaption></figure><blockquote class="kv kw kx"><p id="7dcd" class="jq jr ky js b jt ju jv jw jx jy jz ka kz kc kd ke la kg kh ki lb kk kl km kn im bi translated"><strong class="js iu">专业提示:</strong>将你所有的源代码和资产(图片、json文件等)保存在<strong class="js iu"> src </strong>文件夹中。这有助于您更轻松地维护它。在本系列的后面，我将指导您如何构建代码库。</p></blockquote><p id="ded9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后打开<strong class="js iu"> <em class="ky"> index.js </em> </strong>，将<code class="fe mf mg mh mi b">import App from ‘./App’;</code>改为<code class="fe mf mg mh mi b">import { App } from ‘./App’;</code></p><p id="efd0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">将<strong class="js iu"> __tests__/App-test.tsx </strong>更改为<strong class="js iu">_ _ tests _ _/App . test . tsx .</strong>然后打开它并将<code class="fe mf mg mh mi b">import {App} from '../App';</code>更改为<code class="fe mf mg mh mi b">import {App} from ‘../src/App’;</code></p><p id="4d0b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在重新加载你的应用程序(它可能会自动重新加载)。您应该会在屏幕上看到一个按钮。点击它，将出现消息<code class="fe mf mg mh mi b">Hello world</code>。</p><figure class="mk ml mm mn gt nn gh gi paragraph-image"><div role="button" tabindex="0" class="no np di nq bf nr"><div class="gh gi oa"><img src="../Images/4131fa9a320be336f8c8d0f5827bd932.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eD4zySRT7lc4E9p8hRX7qA.png"/></div></div></figure><p id="d344" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们来看看<strong class="js iu"> <em class="ky"> app.tsx. </em> </strong>它使用JSX(请阅读关于<a class="ae mj" href="https://reactjs.org/docs/introducing-jsx.html" rel="noopener ugc nofollow" target="_blank"> it </a>)来定义<strong class="js iu"> App </strong>组件，所以它不得不使用<strong class="js iu"> <em class="ky"> tsx </em> </strong>扩展。<strong class="js iu"> App </strong>组件包含一个按钮，一个由SafeAreaView组件包装的文本，因此它们被呈现在“安全区域”(不重叠圆角或相机凹口)。</p><p id="90ed" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> App </strong>组件有一个名为<code class="fe mf mg mh mi b">showMessage</code>的状态，默认为<em class="ky">假</em>。只有当它的值为true时，才会显示消息。当按钮被按下时，事件<strong class="js iu"> <em class="ky"> onPress </em> </strong>被触发，调用<strong class="js iu"> <em class="ky"> sayHello </em> </strong>。该函数调用<strong class="js iu"><em class="ky">setShowMessage</em></strong>并将showMessagevalue更改为<em class="ky"> true </em>。然后屏幕上显示消息。我们在<strong class="js iu"><em class="ky">app . style . ts</em></strong><em class="ky">中定义样式，然后让text使用它。</em></p><blockquote class="kv kw kx"><p id="aa35" class="jq jr ky js b jt ju jv jw jx jy jz ka kz kc kd ke la kg kh ki lb kk kl km kn im bi translated">专业提示:永远避免使用内嵌样式。相反，在单独的文件中定义它们。它有助于你的代码清理。</p><p id="ee3f" class="jq jr ky js b jt ju jv jw jx jy jz ka kz kc kd ke la kg kh ki lb kk kl km kn im bi translated"><strong class="js iu">专业提示</strong>:使用snake_case命名你的文件夹和文件。就我个人而言，我认为它比骆驼案、帕斯卡案和烤肉串案更容易阅读。</p></blockquote><p id="5c57" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">祝贺你！</strong>你已经制作了第一个Hello world应用程序。</p></div><div class="ab cl ko kp hx kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="im in io ip iq"><p id="4c6d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您也可以在此处克隆示例:</p><pre class="mk ml mm mn gt mo mi mp mq aw mr bi"><span id="d0ed" class="ms ld it mi b gy mt mu l mv mw">git clone -b make_hello_world_app <a class="ae mj" href="https://github.com/thinhtran3588/react-native-starter-kit.git" rel="noopener ugc nofollow" target="_blank">https://github.com/thinhtran3588/react-native-starter-kit.git</a></span></pre></div><div class="ab cl ko kp hx kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="im in io ip iq"><p id="d93d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae mj" href="https://medium.com/@thinhtran3588/make-professional-mobile-apps-with-react-native-and-typescript-understand-react-natives-13a2c2577ab7" rel="noopener">接下来:了解<strong class="js iu"> React Native </strong>架构。</a></p><p id="d44b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae mj" href="https://medium.com/@thinhtran3588/make-professional-mobile-apps-with-react-native-and-typescript-introduction-777ba2423c35" rel="noopener">回到简介</a>。</p></div></div>    
</body>
</html>