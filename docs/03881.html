<html>
<head>
<title>Vue Best Practices — Templates and Variables</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vue最佳实践—模板和变量</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/vue-best-practices-templates-and-variables-99cc7e1fd42b?source=collection_archive---------14-----------------------#2020-05-31">https://levelup.gitconnected.com/vue-best-practices-templates-and-variables-99cc7e1fd42b?source=collection_archive---------14-----------------------#2020-05-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/f56d77f69dd8958c1893dae61b753d4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6jJi38GXVFuW5CF0"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated"><a class="ae kf" href="https://unsplash.com/@brookelark?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">布鲁克·拉克</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="8aa6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Vue是一个易于使用的前端框架。它让我们轻松地创建应用程序。</p><p id="2df4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，当我们用它们编写应用程序时，仍然有许多事情需要我们注意。</p><p id="8f38" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这篇文章中，我们将看看在构建Vue应用时应该遵循的一些基本规则。</p><h1 id="b731" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">没有未使用的组件</h1><p id="ab77" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们的项目中不应该有未使用的组件。</p><p id="0fee" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以与其写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="01d2" class="mq lf it mm b gy mr ms l mt mu">&lt;template &gt;<br/>  &lt;div id="app"&gt;&lt;/div&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>import HelloWorld from "./components/HelloWorld";<br/>export default {<br/>  name: "App",<br/>  components: {<br/>    HelloWorld<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="609e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们应该写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="5a66" class="mq lf it mm b gy mr ms l mt mu">&lt;template &gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;HelloWorld/&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>import HelloWorld from "./components/HelloWorld";<br/>export default {<br/>  name: "App",<br/>  components: {<br/>    HelloWorld<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><h1 id="3a50" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">v-for中没有未使用的变量定义</h1><p id="a194" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">当我们定义一个<code class="fe mv mw mx mm b">v-for</code>循环时，我们应该使用所有被定义的变量。</p><p id="30a5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，不写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="916a" class="mq lf it mm b gy mr ms l mt mu">&lt;template &gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;ol v-for="i in 5"&gt;<br/>      &lt;li&gt;foo&lt;/li&gt;<br/>    &lt;/ol&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>export default {<br/>  name: "App"<br/>};<br/>&lt;/script&gt;</span></pre><p id="1127" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们应该写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="10e8" class="mq lf it mm b gy mr ms l mt mu">&lt;template &gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;ol v-for="i in 5"&gt;<br/>      &lt;li&gt;{{ i }}&lt;/li&gt;<br/>    &lt;/ol&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>export default {<br/>  name: "App"<br/>};<br/>&lt;/script&gt;</span></pre><h1 id="6e51" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">不要同时使用v-if和v-for</h1><p id="1ed2" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated"><code class="fe mv mw mx mm b">v-for</code>和<code class="fe mv mw mx mm b">v-if</code>不应该一起使用，因为它比使用计算属性慢。</p><p id="3343" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们应该使用competed属性来呈现更少的项目，而不是使用<code class="fe mv mw mx mm b">v-if</code>来检查每个项目是否应该被呈现。</p><p id="7e08" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，不写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="0d76" class="mq lf it mm b gy mr ms l mt mu">&lt;template &gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;ul v-for="a in arr" v-if="a % 2 === 0" :key="a"&gt;<br/>      &lt;li&gt;{{ a }}&lt;/li&gt;<br/>    &lt;/ul&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>export default {<br/>  name: "App",<br/>  data() {<br/>    return {<br/>      arr: [1, 2, 3, 4, 5]<br/>    };<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="3888" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们写道:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="5482" class="mq lf it mm b gy mr ms l mt mu">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;ul v-for="a in evenNums" :key="a"&gt;<br/>      &lt;li&gt;{{ a }}&lt;/li&gt;<br/>    &lt;/ul&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>export default {<br/>  name: "App",<br/>  computed: {<br/>    evenNums() {<br/>      return this.arr.filter(a =&gt; a % 2 === 0);<br/>    }<br/>  },<br/>  data() {<br/>    return {<br/>      arr: [1, 2, 3, 4, 5]<br/>    };<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><h1 id="bf76" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">将is Prop添加到Component组件</h1><p id="1b03" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">为了动态显示组件，我们必须使用<code class="fe mv mw mx mm b">component</code>组件来显示项目。</p><p id="f2e5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">属性设置要显示的com[onent]的名称。</p><p id="91ef" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，不写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="2063" class="mq lf it mm b gy mr ms l mt mu">&lt;template &gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;component/&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>export default {<br/>  name: "App"<br/>};<br/>&lt;/script&gt;</span></pre><p id="a107" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们写道:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="e7f0" class="mq lf it mm b gy mr ms l mt mu">&lt;template &gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;component :is="name"&gt;&lt;/component&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>import HelloWorld from "./components/HelloWorld";<br/>export default {<br/>  components: {<br/>    HelloWorld<br/>  },<br/>  name: "App",<br/>  data() {<br/>    return {<br/>      name: "HelloWorld"<br/>    };<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><h1 id="3806" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">属性类型应该是构造函数</h1><p id="e09a" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们应该将构造函数作为<code class="fe mv mw mx mm b">props</code>属性的值，以确保它们是某个构造函数的实例。</p><p id="6b7c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，不写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="ca91" class="mq lf it mm b gy mr ms l mt mu">&lt;template &gt;<br/>  &lt;div id="app"&gt;&lt;/div&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>export default {<br/>  name: "App",<br/>  props: {<br/>    name: "String"<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="0095" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们应该写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="3a82" class="mq lf it mm b gy mr ms l mt mu">&lt;template &gt;<br/>  &lt;div id="app"&gt;&lt;/div&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>export default {<br/>  name: "App",<br/>  props: {<br/>    name: String<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="90df" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们的道具可以有多种类型，它也可以是一个数组:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="cb35" class="mq lf it mm b gy mr ms l mt mu">&lt;template &gt;<br/>  &lt;div id="app"&gt;&lt;/div&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>export default {<br/>  name: "App",<br/>  props: {<br/>    name: [String]<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><h1 id="e0c8" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">渲染函数应该返回一些东西</h1><p id="0083" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">渲染函数应该返回我们想要渲染的东西。</p><p id="2030" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，不写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="247d" class="mq lf it mm b gy mr ms l mt mu">Vue.component("hello", {<br/>  render(createElement) {<br/>    if (Math.random() &lt; 0.5) {<br/>      return createElement("div", "hello");<br/>    }<br/>  }<br/>});</span></pre><p id="9950" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们应该写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="718f" class="mq lf it mm b gy mr ms l mt mu">Vue.component("hello", {<br/>  render(createElement) {<br/>    return createElement("div", "hello");    <br/>  }<br/>});</span></pre><p id="5f7a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们确保渲染函数总是返回一些东西。</p><h1 id="e687" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">为v-for渲染的项目添加关键道具</h1><p id="59ee" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们需要对任何由<code class="fe mv mw mx mm b">v-for</code>渲染的东西使用<code class="fe mv mw mx mm b">key</code>道具，这样Vue就可以正确地跟踪它。</p><p id="10fe" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们应该写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="b9e5" class="mq lf it mm b gy mr ms l mt mu">&lt;template &gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;div v-for="a in 5"&gt;{{a}}&lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>export default {<br/>  name: "App"<br/>};<br/>&lt;/script&gt;</span></pre><p id="5010" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们写道:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="94ea" class="mq lf it mm b gy mr ms l mt mu">&lt;template &gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;div v-for="a in 5" :key="a"&gt;{{a}}&lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>export default {<br/>  name: "App"<br/>};<br/>&lt;/script&gt;</span></pre><p id="e4ad" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在Vue可以正确地跟踪渲染的项目了。</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi my"><img src="../Images/77433c6d7f2070c9fc7ab91c68483292.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YCaFB4KMfqdRY49s"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">汤姆·约瑟夫在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h1 id="d314" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="d279" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们应该确保我们有一个<code class="fe mv mw mx mm b">key</code>道具添加到由<code class="fe mv mw mx mm b">v-for</code>渲染的任何东西上。</p><p id="e4dd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">不使用的组件应该从我们的代码中删除。</p><p id="0ed1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">渲染函数应该总是返回要渲染的内容。</p><p id="766d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">适当类型应该是构造函数。否则，道具类型检查将不起作用。</p></div></div>    
</body>
</html>