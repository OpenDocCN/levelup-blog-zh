<html>
<head>
<title>Next.js + serverless personal webpage in a couple of hours — Deploying to Production with Vercel (Part 4)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Next.js +几个小时后的无服务器个人网页——使用Vercel部署到生产环境(第4部分)</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/next-js-serverless-personal-webpage-in-a-couple-of-hours-deploying-to-production-with-vercel-b35fe5daeaa7?source=collection_archive---------37-----------------------#2021-02-22">https://levelup.gitconnected.com/next-js-serverless-personal-webpage-in-a-couple-of-hours-deploying-to-production-with-vercel-b35fe5daeaa7?source=collection_archive---------37-----------------------#2021-02-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="45fc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在过去，部署意味着FTP或SSH你的网站捆绑到一些远程web主机。如果您有一个独立的非生产/生产环境，这意味着用不同版本的代码重复相同的过程。这既费时又乏味，而且容易出错。Azure、AWS和谷歌云平台等IaaS平台并没有让部署变得容易。事实上，它们只会让扩展变得更容易，但让事情运转起来却更难。</p><p id="a765" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然而，有了无服务器或有时被称为后端即服务，事情开始变得真正容易。</p><blockquote class="kl km kn"><p id="c3c3" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated">要了解什么是无服务器以及为什么它是静态网页的好选择，请参见<a class="ae ks" href="https://www.cloudflare.com/learning/serverless/what-is-serverless/" rel="noopener ugc nofollow" target="_blank">https://www . cloud flare . com/learning/server less/what-is-server less/</a></p></blockquote><p id="a280" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是我为记录我在一个晚上建立个人网页的旅程而写的系列文章的第4部分:</p><p id="ce4e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae ks" href="https://jeremy-chan.medium.com/creating-a-personal-webpage-from-scratch-in-2021-development-environment-part-1-b0b45396da00" rel="noopener">第1部分:开发环境设置</a> <br/> <a class="ae ks" href="https://jeremy-chan.medium.com/creating-a-personal-webpage-from-scratch-in-a-couple-of-hours-getting-a-domain-name-and-email-73a462a4c183" rel="noopener">第2部分:购买自己的域名并设置邮件转发<br/> </a> <a class="ae ks" href="https://jeremy-chan.medium.com/next-js-serverless-personal-webpage-in-a-couple-of-hours-bootstrapping-the-app-with-next-js-b87d468f9cdc" rel="noopener">第3部分:用Next.js <br/> </a> <a class="ae ks" href="https://jeremy-chan.medium.com/next-js-serverless-personal-webpage-in-a-couple-of-hours-deploying-to-production-with-vercel-b35fe5daeaa7" rel="noopener">引导app第4部分:用Vercel </a>(📍你在这里)<a class="ae ks" href="https://jeremy-chan.medium.com/next-js-serverless-personal-webpage-in-a-couple-of-hours-deploying-to-production-with-vercel-b35fe5daeaa7" rel="noopener"> <br/> </a> <a class="ae ks" href="https://jeremy-chan.medium.com/next-js-serverless-personal-webpage-in-a-couple-of-hours-create-contact-form-with-formspree-5-cb6419f86917" rel="noopener">第5部分:将你的联系人表单与forms spree<br/></a><a class="ae ks" href="https://jeremy-chan.medium.com/next-js-serverless-personal-webpage-in-a-couple-of-hours-pull-medium-posts-w-serverless-func-6-65855599509d" rel="noopener">第6部分:用无服务器功能从介质中提取博客文章</a></p><h1 id="79e4" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated"><strong class="ak">将我们的应用程序上传到Vercel (20分钟)</strong></h1><p id="ab39" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">Vercel(以前的ZEIT)是Next.js背后的公司。他们还提供免费的后端即服务，支持定制域、Git集成和无服务器功能。在本文中，我们将把Next.js应用程序部署到Vercel上。</p><blockquote class="kl km kn"><p id="240a" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated"><strong class="jp ir">厂商锁定？</strong></p><p id="ab04" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated">使用这些无服务器提供商(例如Heroku、Vercel、Netlify)时，您可能会担心供应商锁定。我不认为这是一个问题。当转换到另一个供应商的成本如此之高，以至于你被“套牢”时，就会发生供应商“锁定”。然而，我们现在只投入很少的资金来建立我们的部署。这些公司都在相互竞争，通过为通用框架(如Next.js)提供开箱即用的构建，使过程尽可能无缝。只要做最少的改动，我们就可以轻松地将我们的部署从Vercel切换到Netlify。</p></blockquote><p id="1d2c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦您在Vercel上登录您的帐户，您将获得连接到您的源代码控制和导入Git存储库的选项。可以和GitHub，GitLab或者Bitbucket集成。在这里，我使用GitHub，并且只有grantly Vercel权限才能看到我希望部署的存储库。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/ec25f3514dacada4c5e22ee9ce18cfc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/format:webp/1*CRl9OM4DfbFQPqCu9I_76A.png"/></div></figure><p id="57a0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在下一个屏幕上，您可以配置如何构建您的项目。选择Next.js预设，其他一切保持默认。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div class="gh gi me"><img src="../Images/de1ebfbdce1f056fddda1530cd9abac7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*tyHnUuCtg13PcL_bny7TrA.png"/></div></figure><p id="e630" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">单击Deploy按钮，Vercel将从GitHub主分支中提取文件，查看package.json并开始构建💪。</p><p id="8949" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在部署页面上，您可以看到部署列表。默认情况下，每当主分支上有新的提交时，Vercel都会触发一个构建。它还为您提供了一个唯一的URL，供您对页面进行实时测试。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mf"><img src="../Images/bd56d9d80e56dcd37becd732ab45cdf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4Wc_J7VduZE9CpyG_7lowQ.png"/></div></div></figure><p id="f972" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对部署满意后，单击“升级到生产”。瞧啊。您的网页已在<a class="ae ks" href="https://jeremychan-net.vercel.app/" rel="noopener ugc nofollow" target="_blank"> https://【项目名称】. vercel.app/ </a>上线。那不是很容易吗？</p><p id="c2cd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">将我们的自定义域指向Vercel </strong></p><p id="9527" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们希望将我们在第2部分中购买的自定义域指向我们的Vercel生产应用程序，转到设置页面并导航到域。在文本框中键入您购买的域名，然后单击添加。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mk"><img src="../Images/c120d1130aa88dc73a59d4632b376324.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i0ldRxEXNBwqVs5FGOoS1w.png"/></div></div></figure><p id="fc9c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Vercel会告诉你域名DNS记录没有被正确的设置来引导访问者到Vercel。它还告诉您在您的DNS提供商中建立一个A记录，让我们这样做。</p><p id="f307" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">去你选择的域名提供商那里找到“DNS”的设置页面。找到可以添加“记录”的地方。我们将添加一个名为<code class="fe ml mm mn mo b">@</code>(意味着没有子域，只有<em class="ko">yourdomainname.com</em>)的A记录，并将其指向Vercel提供的IP地址。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mp"><img src="../Images/9906642e10d99798cea07103f60d7979.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5hmlskwWRtDH_HxRxevj0Q.png"/></div></div></figure><p id="6625" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">添加记录后，Vercel应该检测到配置现在是有效的。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mq"><img src="../Images/d31e6e7f8a3842d28e99798611278877.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mi4SSDS24sx_FjGQDWUPrA.png"/></div></div></figure><p id="4fb2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">尝试启动它，您应该看到您的Next.js应用程序在您的域下启动并运行。你也可以自动获得HTTPS，因为Vercel集成了<strong class="jp ir">让我们加密</strong>来提供免费的SSL证书。多好的体验啊！✔️</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/7569c8e7f8b7b6c548634446137bf89d.png" data-original-src="https://miro.medium.com/v2/resize:fit:890/format:webp/1*Un1cBvSypvYcIL0Ers_uGQ.png"/></div></figure><p id="8b42" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">结论</strong></p><p id="ad60" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在短短20分钟内，我们设法获得了一个自动构建管道，将我们的源代码控制连接到Vercel上的生产无服务器部署。</p><p id="c69c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在下一部分中，我们将研究如何利用第三方服务，以无服务器的方式构建一个“联系人”表单。</p><p id="b48e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae ks" href="https://jeremy-chan.medium.com/creating-a-personal-webpage-from-scratch-in-2021-development-environment-part-1-b0b45396da00" rel="noopener">第一部分:开发环境设置</a> <br/> <a class="ae ks" href="https://jeremy-chan.medium.com/creating-a-personal-webpage-from-scratch-in-a-couple-of-hours-getting-a-domain-name-and-email-73a462a4c183" rel="noopener">第二部分:购买自己的域名并设置邮件转发<br/> </a> <a class="ae ks" href="https://jeremy-chan.medium.com/next-js-serverless-personal-webpage-in-a-couple-of-hours-bootstrapping-the-app-with-next-js-b87d468f9cdc" rel="noopener">第三部分:用Next.js引导app<br/></a><a class="ae ks" href="https://jeremy-chan.medium.com/next-js-serverless-personal-webpage-in-a-couple-of-hours-deploying-to-production-with-vercel-b35fe5daeaa7" rel="noopener">第四部分:用Vercel部署到生产</a>(📍你在这里)<a class="ae ks" href="https://jeremy-chan.medium.com/next-js-serverless-personal-webpage-in-a-couple-of-hours-deploying-to-production-with-vercel-b35fe5daeaa7" rel="noopener"> <br/> </a> <a class="ae ks" href="https://jeremy-chan.medium.com/next-js-serverless-personal-webpage-in-a-couple-of-hours-create-contact-form-with-formspree-5-cb6419f86917" rel="noopener">第5部分:将你的联系人表单与Formspree集成<br/> </a> <a class="ae ks" href="https://jeremy-chan.medium.com/next-js-serverless-personal-webpage-in-a-couple-of-hours-pull-medium-posts-w-serverless-func-6-65855599509d" rel="noopener">第6部分:用无服务器功能从介质中提取博客文章</a></p></div></div>    
</body>
</html>