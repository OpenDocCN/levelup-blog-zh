<html>
<head>
<title>Deep dive into Gatsby — Building a static blog using Gatsby, React and GraphQL</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">深入了解Gatsby——使用Gatsby、React和GraphQL构建静态博客</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/deep-dive-into-gatsby-building-a-static-blog-using-gatsby-react-and-graphql-f8cb8d8fd036?source=collection_archive---------0-----------------------#2019-01-19">https://levelup.gitconnected.com/deep-dive-into-gatsby-building-a-static-blog-using-gatsby-react-and-graphql-f8cb8d8fd036?source=collection_archive---------0-----------------------#2019-01-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/838cfd4fdcdcaf31c67815a4063db4e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*quFXFh5o_DZj-kZ5.png"/></div></div></figure><p id="b7c0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Gatsby.js是这十年来发布的最令人兴奋的web技术之一。建设闪电般快速的网站从未如此简单。Gatsby结合了React的灵活性和GraphQL的特性，轻松构建静态网站。为了不与盖茨比的工作相混淆，网站上的描述清楚地说明了盖茨比是什么。</p><blockquote class="kw kx ky"><p id="d262" class="jy jz kz ka b kb kc kd ke kf kg kh ki la kk kl km lb ko kp kq lc ks kt ku kv ij bi translated">js是一个静态PWA(渐进式Web应用程序)生成器。您可以获得开箱即用的代码和数据分割。Gatsby只加载关键的HTML、CSS、数据和JavaScript，所以你的站点加载得越快越好。一旦加载完毕，Gatsby就会预取其他页面的资源，因此点击网站的速度快得令人难以置信。</p></blockquote><p id="35c2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kz">官方</em> <a class="ae ld" href="https://www.gatsbyjs.org/" rel="noopener ugc nofollow" target="_blank"> <em class="kz">盖茨比网站</em> </a> <em class="kz">。</em></p><h2 id="f908" class="le lf iq bd lg lh li dn lj lk ll dp lm kj ln lo lp kn lq lr ls kr lt lu lv lw bi translated">入门指南</h2><p id="642a" class="pw-post-body-paragraph jy jz iq ka b kb lx kd ke kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv ij bi translated">Gatsby提供了一个惊人的CLI来轻松启动任何Gatsby项目。本教程的大部分内容都集中在Linux/Mac机器上。如果你使用的是安装了最新版本Node.js和NPM的Windows，你就可以开始了。如果你还没有安装，看看我们的文章，如何在Linux/mac系统和Windows系统上安装Node.js和npm</p><h2 id="be85" class="le lf iq bd lg lh li dn lj lk ll dp lm kj ln lo lp kn lq lr ls kr lt lu lv lw bi translated">第一步。安装Gatsby-CLI</h2><p id="2580" class="pw-post-body-paragraph jy jz iq ka b kb lx kd ke kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv ij bi translated"><a class="ae ld" href="https://www.gatsbyjs.org/docs/gatsby-cli/" rel="noopener ugc nofollow" target="_blank"> Gatsby CLI </a>是一个简单的工具，可以帮助我们使用任何<a class="ae ld" href="https://www.gatsbyjs.org/starters/" rel="noopener ugc nofollow" target="_blank"> Gatsby starter模板</a>。在这里，我们将使用一个简单的入门模板和基本的样板文件。启动终端并执行以下命令，使用npm安装Gatsby-CLI</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="618e" class="le lf iq mh b gy ml mm l mn mo">npm install -g gatsby-cli</span></pre><p id="8733" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这将在您的系统上快速安装Gatsby-CLI。接下来，我们将使用一个入门模板来创建我们的博客。</p><p id="fd4b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">注意:本文中使用的所有代码和创建的示例项目都可以在我们的<a class="ae ld" href="https://github.com/zocada/gatsby-blog-tutorial-1" rel="noopener ugc nofollow" target="_blank"> GitHub repo </a>中获得。如果你在下面的说明中迷失了方向，去那里先睹为快吧。</p><h2 id="38bd" class="le lf iq bd lg lh li dn lj lk ll dp lm kj ln lo lp kn lq lr ls kr lt lu lv lw bi translated">第二步。使用启动器创建新项目</h2><p id="7519" class="pw-post-body-paragraph jy jz iq ka b kb lx kd ke kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv ij bi translated">一旦您准备好了Gatsby CLI，我们就可以开始创建您的第一个Gatsby项目了。将您的终端导航到您想要的目录，并执行以下命令。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="af55" class="le lf iq mh b gy ml mm l mn mo">gatsby new my-blog</span></pre><figure class="mc md me mf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mp"><img src="../Images/092ddb2c3e18768197e0b2c0e1638a1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2ySA9NftRf5tCDyH.png"/></div></div></figure><p id="c38c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这将克隆<a class="ae ld" href="https://www.gatsbyjs.org/starters/gatsbyjs/gatsby-starter-default/" rel="noopener ugc nofollow" target="_blank"> Gatsby-Starter-Default </a>并执行一个<code class="fe mq mr ms mh b">npm install</code>来安装所有的依赖项和插件。</p><h2 id="15cc" class="le lf iq bd lg lh li dn lj lk ll dp lm kj ln lo lp kn lq lr ls kr lt lu lv lw bi translated">第三步。正在启动gatsby开发服务器</h2><p id="7e41" class="pw-post-body-paragraph jy jz iq ka b kb lx kd ke kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv ij bi translated">进入项目文件夹，打开你最喜欢的编辑器(显然，VSCODE ❤).启动一个终端，在项目目录下运行<code class="fe mq mr ms mh b">gatsby develop</code>来启动开发服务器。</p><figure class="mc md me mf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mt"><img src="../Images/b81e7a678cc2d7136917a7aa048698ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*l39GGAz9lkUl-SVD.png"/></div></div></figure><p id="2df9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一旦服务器启动，你可以在浏览器中访问<code class="fe mq mr ms mh b">localhost:8000</code>,看到令人愉快的盖茨比登陆页面。</p><figure class="mc md me mf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mu"><img src="../Images/f8d6a1b66f826d1aa59c2225f9a635b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*TFklyBUAetc4EXb9.png"/></div></div></figure><p id="8190" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">厉害！您已经成功完成了基本步骤！现在，让我们开始编码吧！</p><h2 id="6cfc" class="le lf iq bd lg lh li dn lj lk ll dp lm kj ln lo lp kn lq lr ls kr lt lu lv lw bi translated">第三步。了解项目结构。</h2><p id="736e" class="pw-post-body-paragraph jy jz iq ka b kb lx kd ke kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv ij bi translated">在引擎盖下，Gatsby项目是react应用程序。嗯，这是一个完整的react应用程序，Gatsby参与的唯一部分是通过执行所有graphql查询、优化图像、从数据源导入必要的数据以及使用webpack等技术将网站分解为静态内容来构建网站。如果您有使用React开发的背景，当前的项目结构可能看起来很熟悉。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="08cf" class="le lf iq mh b gy ml mm l mn mo">my-blog/<br/>│<br/>├── node_modules/<br/>│   └── [You don't wanna get in here]<br/>│<br/>├── public/<br/>│   ├── [Your site's static contents]<br/>│   └── [Automatically generated by gatsby]<br/>│<br/>├── src/<br/>|   ├── components/<br/>│   │   ├── [These are the building blocks of your website]<br/>│   │   └── [All your react components]<br/>│   │<br/>│   ├── images/<br/>│   │<br/>│   └── pages/<br/>│       ├── 404.js [Your site's 404 page]<br/>│       ├── index.js [the front/first page of your site]<br/>│       └── page-2.js [yet another page]<br/>│<br/>├── gatsby-browser.js<br/>├── gatsby-config.js<br/>├── gatsby-node.js<br/>├── gatsby-ssr.js<br/>├── package.json<br/>├── package-lock.json<br/>└── LICENSE</span></pre><p id="4338" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们仔细看看这些文件和目录是什么..</p><p id="0606" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> node_modules/ : </strong>这个目录包含了你的项目所依赖的所有代码模块(npm包)都是自动安装的。</p><p id="e223" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> public/ : </strong>包含自动生成的站点静态构建。这是由盖茨比在发出命令<code class="fe mq mr ms mh b">gatsby build</code>或<code class="fe mq mr ms mh b">gatsby develop</code>时自动完成的</p><p id="62ef" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> src/ : </strong>该目录将包含所有与您将在网站前端看到的内容(您在浏览器中看到的内容)相关的代码，例如您的网站标题或页面模板。src是“源代码”的约定。</p><p id="5817" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> src/components/ : </strong>该子目录将包含react应用程序构建块所需的所有组件。</p><p id="246a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> src/pages/ </strong> : Gatsby对这个目录的处理方式不同，在这个目录中作为react组件添加的任何Javascript文件都将被视为你网站的一个页面。您只需从浏览器导航到这些页面，无需文件扩展名。例如<code class="fe mq mr ms mh b">localhost:8000/404</code>或<code class="fe mq mr ms mh b">localhost:8000/page-2</code>，其中<code class="fe mq mr ms mh b">index.js</code>将被视为您的默认登录页面。</p><p id="5a9a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">Gatsby-browser . js:</strong>Gatsby期望在这个文件中找到<a class="ae ld" href="https://www.gatsbyjs.org/docs/browser-apis/" rel="noopener ugc nofollow" target="_blank"> Gatsby浏览器API(如果有的话)</a>的任何用法。这些允许自定义/扩展影响浏览器的默认Gatsby设置。</p><p id="25ac" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">gatsby-node.js : 这个文件是gatsby期望找到Gatsby节点API的任何用法(如果有的话)的地方。这些允许定制/扩展影响站点构建过程的默认Gatsby设置。</p><p id="a806" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">gatsby-SSR . js:</strong>Gatsby希望在这个文件中找到Gatsby服务器端呈现API的任何用法(如果有的话)。这些允许影响服务器端呈现的缺省Gatsby设置的定制。</p><p id="ae78" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> gatsby-config.js : </strong>这是gatsby站点的主配置文件。在这里你可以指定关于你的站点的信息(元数据),比如站点标题和描述，你想要包含哪些Gatsby插件等等。(查看<a class="ae ld" href="https://www.gatsbyjs.org/docs/gatsby-config/" rel="noopener ugc nofollow" target="_blank">配置文件</a>了解更多详情)。</p><h2 id="0b99" class="le lf iq bd lg lh li dn lj lk ll dp lm kj ln lo lp kn lq lr ls kr lt lu lv lw bi translated">第四步。安装必要的插件</h2><p id="5ffa" class="pw-post-body-paragraph jy jz iq ka b kb lx kd ke kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv ij bi translated">如果你对这个概念不熟悉的话，《盖茨比》就是关于果酱堆的:</p><blockquote class="kw kx ky"><p id="2f61" class="jy jz kz ka b kb kc kd ke kf kg kh ki la kk kl km lb ko kp kq lc ks kt ku kv ij bi translated"><strong class="ka ir"> JAMstack </strong> : <em class="iq">名词\'jam-stak'\ </em> <br/>基于客户端JavaScript、可重用API和预建标记的现代web开发架构。</p></blockquote><p id="05f3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这里，我们将使用markdown编写我们的博客，使用GraphQL查询我们的markdown文件(就像一个API)并使用React显示数据。因此，我们需要一些Gatsby插件来开始在markdown中编写博客，并使用GraphQL查询它们。在项目目录中执行下面的命令来安装必要的插件。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="18c3" class="le lf iq mh b gy ml mm l mn mo">npm install --save gatsby-source-filesystem gatsby-transformer-remark gatsby-remark-images</span></pre><h2 id="7258" class="le lf iq bd lg lh li dn lj lk ll dp lm kj ln lo lp kn lq lr ls kr lt lu lv lw bi translated">应用您的插件</h2><p id="d45b" class="pw-post-body-paragraph jy jz iq ka b kb lx kd ke kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv ij bi translated">我们需要向Gatsby指定我们正在使用哪些插件，以便Gatsby可以使用它们来集成到我们项目的工作流中。将下面几行添加到您的<code class="fe mq mr ms mh b">gatsby-config.js</code>文件中以启用插件。在此之前，我们需要创建一个目录来存储我们所有的帖子，这些帖子将被写入markdown。因此，在<code class="fe mq mr ms mh b">src/</code>目录中创建一个新的子目录，名为<code class="fe mq mr ms mh b">posts</code>。您的目录结构现在应该看起来有点像这样。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="9aff" class="le lf iq mh b gy ml mm l mn mo">.<br/>.<br/>.<br/>├── src/<br/>|   ├── components/<br/>│   ├── pages/<br/>│   ├── posts/  &lt;-- The directory you need to create<br/>│   └── images/<br/>│   <br/>.<br/>.</span></pre><p id="62b1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在应用<code class="fe mq mr ms mh b">gatsby-config.js</code>中的插件，这样你的文件应该看起来像这样。</p><figure class="mc md me mf gt jr"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="a05b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们正在创建我们的博客文章，并将它们作为降价文件进行查询。盖茨比使用备注库来实现这一点。因为我们已经安装了插件，我们可以把我们的博客文章写在markdown文件中，并把它们放在<code class="fe mq mr ms mh b">posts</code>目录中。一个示例帖子将类似于此。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="20e0" class="le lf iq mh b gy ml mm l mn mo">---<br/>slug: /my-first-blog-post<br/>date: 2018-10-27<br/>author: Jhone Doe<br/>title: My first blog post on gatsby<br/>---<br/><br/>The contents of your blog in either markdown or html.<br/>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.<br/>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.<br/>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.<br/>Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</span></pre><p id="e9ba" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可能想知道什么是<code class="fe mq mr ms mh b">---</code>破折号？用破折号括起来的部分称为文件的开头部分。它通常在Jekyll中使用，作为在markdown中存储附加数据的一种便捷方式。减价商品里的数据是用YAML格式写的。你可以在<a class="ae ld" href="https://docs.ansible.com/ansible/latest/reference_appendices/YAMLSyntax.html" rel="noopener ugc nofollow" target="_blank">这里</a>了解更多关于YAML语法的知识。请注意，你的frontmatter中的<code class="fe mq mr ms mh b">slug</code>是你的博客在你的网站中的相对url。也就是说，您的博客文章将在哪里可见。</p><p id="bf24" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在<code class="fe mq mr ms mh b">src/posts/</code>子目录中创建几篇博文，这样我们就可以开始创建我们网站的主页，上面列出了所有的博文。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="3968" class="le lf iq mh b gy ml mm l mn mo">.<br/>.<br/>.<br/>├── src/<br/>|   ├── components/<br/>│   ├── pages/<br/>│   ├── posts/ <br/>│   │   ├── my_first_blog.md<br/>│   │   ├── my_second_blog.md<br/>│   │   └── my_third_blog.md<br/>│   └── images/<br/>│   <br/>.<br/>.</span></pre><h2 id="2bd8" class="le lf iq bd lg lh li dn lj lk ll dp lm kj ln lo lp kn lq lr ls kr lt lu lv lw bi translated">第五步。使用GraphQL获取数据并显示在主页上</h2><p id="1add" class="pw-post-body-paragraph jy jz iq ka b kb lx kd ke kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv ij bi translated">Gatsby提供了对使用GaraphQL的现成支持，并附带了一个内置的GraphiQL IDE。如果你已经在你的终端上运行了<code class="fe mq mr ms mh b">gatsby develop</code>，你可能会看到gatsby打印出一个额外的URL到Graphiql作为<code class="fe mq mr ms mh b">localhost:8000/___graphql</code>。让我们创建一个graphQL查询来获取博客文章的标题，并将其显示在主页上。在<code class="fe mq mr ms mh b">localhost:8000/___graphql</code>从浏览器进入GraphQL编辑器，执行下面的查询来获取所有帖子的JSON数据。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="d4d6" class="le lf iq mh b gy ml mm l mn mo">query postsQuery {<br/>    allMarkdownRemark (<br/>        sort: { fields: [frontmatter___date], order: DESC } <br/>    ) {<br/>        edges {<br/>          node {<br/>            frontmatter {<br/>              slug<br/>              title<br/>            }<br/>          }<br/>        }<br/>    }<br/>}</span></pre><figure class="mc md me mf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mx"><img src="../Images/d0014ff979569774d1b07da9cf8e7a04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qBXpIKoKdNHkfkq7.png"/></div></div></figure><p id="b34a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这篇文章中，我们不会深入GraphQL，但是为了记录在案:<code class="fe mq mr ms mh b">edges</code>意味着，我们让graphQL知道我们正在寻找一个数组，而<code class="fe mq mr ms mh b">node</code>提到每个元素应该是什么样子。在提到我们从降价文件中查询的内容时,<code class="fe mq mr ms mh b">node</code>中的内容非常直白。</p><p id="d3e3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以将<code class="fe mq mr ms mh b">src/pages/index.js</code>修改成这样，使用graphQL获取数据并将它们传递给React组件。</p><figure class="mc md me mf gt jr"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="82ac" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一旦您通过从您的<code class="fe mq mr ms mh b">src/pages/index.js</code>文件中删除不必要的元素并添加GraphQL查询完成了上述更改。重新启动开发服务器。你可以在浏览器上看到你的网站，上面列出了你创建的所有博客。</p><figure class="mc md me mf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi my"><img src="../Images/8a441b50997314bc76e20e40b70ba127.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*RLTbo_XLupRqIPRO.png"/></div></div></figure><p id="0684" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所有的链接将呈现一个404错误页面，因为我们还没有创建任何页面来显示我们的博客文章的内容。</p><h2 id="55ff" class="le lf iq bd lg lh li dn lj lk ll dp lm kj ln lo lp kn lq lr ls kr lt lu lv lw bi translated">第六步。创建模板以显示博客文章</h2><p id="d425" class="pw-post-body-paragraph jy jz iq ka b kb lx kd ke kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv ij bi translated">在这一步，我们将创建一个简单的模板，将我们的博客文章的内容呈现到一个模板中，并在指定的slug url上查看它们。所以，让我们从在<code class="fe mq mr ms mh b">src/</code>中创建一个新的子目录作为<code class="fe mq mr ms mh b">src/templates/</code>开始。创建一个名为<code class="fe mq mr ms mh b">blog_template.js</code>的新文件，并添加以下代码行。它包含一个简单的react组件和一个GraphQL查询，用于从gatsby提供的特定url获取数据。</p><figure class="mc md me mf gt jr"><div class="bz fp l di"><div class="mv mw l"/></div></figure><h2 id="c636" class="le lf iq bd lg lh li dn lj lk ll dp lm kj ln lo lp kn lq lr ls kr lt lu lv lw bi translated">第七步。使用Gatsby的节点API生成页面</h2><p id="01f5" class="pw-post-body-paragraph jy jz iq ka b kb lx kd ke kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv ij bi translated">我们需要与Gatsby的节点API进行交互，告诉Gatsby使用所有的markdown文件，并使用上面创建的模板生成页面。打开<code class="fe mq mr ms mh b">gatsby-node.js</code>文件，添加以下代码，使用Gatsby完成简单博客的构建。</p><figure class="mc md me mf gt jr"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="1668" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这里，我们使用Gatsby的<a class="ae ld" href="https://www.gatsbyjs.org/docs/node-apis/#createPages" rel="noopener ugc nofollow" target="_blank"> createPages() </a>节点API来告诉Gatsby执行一个查询来查找所有markdown文件，并使用模板在文件的frontmatter中提供的slug处创建页面。</p><p id="2608" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">重启Gatsby dev服务器，进入<code class="fe mq mr ms mh b">localhost:8000</code>查看你的网站，点击任何博客链接查看你的博客文章。啊啊。</p><figure class="mc md me mf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi my"><img src="../Images/bca884832d085cd20c656167cf93e918.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*iIrzTfLs-hEGyJDW.png"/></div></div></figure><p id="aa36" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在接下来的文章中，我们将会更多地探讨如何添加封面图片并设计静态博客的风格。到那时，干杯！</p></div><div class="ab cl mz na hu nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ij ik il im in"><p id="5846" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kz">最初发表于</em><a class="ae ld" href="https://zocada.com/deep-dive-gatsby-building-a-simple-static-blog-using-gatsby-react-and-graphql/" rel="noopener ugc nofollow" target="_blank"><em class="kz">zocada</em></a><em class="kz">。</em></p></div><div class="ab cl mz na hu nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ij ik il im in"><figure class="mc md me mf gt jr gh gi paragraph-image"><a href="https://levelup.gitconnected.com"><div class="gh gi ng"><img src="../Images/ff5028ba5a0041d2d76d2a155f00f05e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JaoZbi7tTKJ5vL7i2OAYMQ.png"/></div></a></figure><div class="nh ni gp gr nj nk"><a href="https://gitconnected.com/learn/graphql" rel="noopener  ugc nofollow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd ir gy z fp np fr fs nq fu fw ip bi translated">学习GraphQL -最佳GraphQL教程(2019) | gitconnected</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">9大GraphQL教程-免费学习GraphQL。课程由开发人员提交并投票，使您能够…</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">gitconnected.com</p></div></div><div class="nt l"><div class="nu l nv nw nx nt ny jw nk"/></div></div></a></div></div></div>    
</body>
</html>