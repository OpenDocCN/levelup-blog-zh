<html>
<head>
<title>Make your own Smarthome Server with NodeJS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用NodeJS制作你自己的智能家居服务器</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/make-your-own-smarthome-server-with-nodejs-86e7aa0f63f4?source=collection_archive---------16-----------------------#2021-04-06">https://levelup.gitconnected.com/make-your-own-smarthome-server-with-nodejs-86e7aa0f63f4?source=collection_archive---------16-----------------------#2021-04-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/efb2dd04898cfdeaf6adf022b8ccadd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3Qnzs0hEW2pPz0B9"/></div></div></figure><p id="98ac" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi kw translated">智能家居产品领域的竞争比以往任何时候都更加激烈，许多公司都在竞争成为你为家里购买的下一个酷产品。但是作为一个消费者，在决定一个产品是否与你的系统或者你想买的东西兼容时，挑选一个产品会有很多麻烦。对于电视等许多产品来说，如果不支持HomeKit，你可以买到更便宜的电视，因为这通常意味着它要旧几年。但是，如果您仍然可以添加HomeKit支持，以便您可以从您的手机控制这些设备，这不是很酷吗？</p><p id="a2b3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">进入<a class="ae lf" href="https://github.com/homebridge/homebridge" rel="noopener ugc nofollow" target="_blank"> Homebridge </a>，这是一个轻量级NodeJS服务器，可以在模拟iOS HomeKit API的家庭网络上运行。随着开源插件库的不断增长，Homebridge正迅速成为任何希望为智能家居添加更多功能的人的可靠选择。</p><h1 id="310e" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated"><strong class="ak">我的经历</strong></h1><figure class="mf mg mh mi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi me"><img src="../Images/fbf34c858643b8ce45b90b67cfef4ea9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X-g-Ty3emO3rEFz5QturOQ.jpeg"/></div></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk translated">来源:<a class="ae lf" href="https://techcrunch.com/2019/12/19/anybody-can-now-make-homekit-accessories/" rel="noopener ugc nofollow" target="_blank"> TechCrunch </a></figcaption></figure><p id="c3b4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Homekit允许我扩展我的智能家居功能，并添加自动化功能，否则这是不可能的。从我拿到一台不知何故不支持Homekit的2019 <a class="ae lf" href="https://www.amazon.com/Samsung-QN75Q70RAFXZA-Flat-QLED-Smart/dp/B07N4MVTXB/ref=asc_df_B07N4MVTXB/?tag=hyprod-20&amp;linkCode=df0&amp;hvadid=241883071164&amp;hvpos=&amp;hvnetw=g&amp;hvrand=8233342149939902883&amp;hvpone=&amp;hvptwo=&amp;hvqmt=&amp;hvdev=c&amp;hvdvcmdl=&amp;hvlocint=&amp;hvlocphy=9030890&amp;hvtargid=pla-654607754631&amp;psc=1" rel="noopener ugc nofollow" target="_blank">三星Q70智能电视</a>开始。我在电视上买了一个杀手锏，但那年晚些时候发布的新型号都支持Homekit，当然价格要高得多。我有一个<a class="ae lf" href="https://www.amazon.com/CanaKit-Raspberry-Power-Supply-Listed/dp/B07BC6WH7V" rel="noopener ugc nofollow" target="_blank"> Raspberry Pi B+ </a>闲置着，所以我决定对它进行修补，看看我能否让Homebridge在其上运行。不到30分钟后，我就可以毫无问题地启动并运行一切了。我想是因为它太容易了，所以不会很稳定，但它确实很稳定。它实际上就像第一方Homekit支持一样。从那以后，我在我的homebridge服务器上添加了一个<a class="ae lf" href="https://www.amazon.com/LEVOIT-LV-PUR131-Purifier-Allergies-Eliminator/dp/B06W54K29J" rel="noopener ugc nofollow" target="_blank"> Levoit空气净化器</a>，效果也很好。</p><h1 id="ba7b" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated"><strong class="ak">安装</strong></h1><figure class="mf mg mh mi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f1d38bfd2f3a6b8631b9c83e4b9cf3e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lFFGMmWLK2xJWxG3"/></div></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk translated">来源:<a class="ae lf" href="https://blog.pimoroni.com/a-deep-dive-into-the-raspberry-pi-3-b-hardware/" rel="noopener ugc nofollow" target="_blank">桑迪·麦克唐纳</a></figcaption></figure><p id="d42e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">已经有很多已经安装Homebridge的故障，而且<a class="ae lf" href="https://github.com/homebridge/homebridge/wiki" rel="noopener ugc nofollow" target="_blank">官方文档非常可靠</a>。我想我会记录我是如何做的，因为我认为我的实现更干净一点。</p><p id="edba" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">第一步是弄清楚您将在什么系统上运行它，并下载正确的映像。我没有安装Homebridge UI，我有点希望我安装了，因为它使管理变得更容易。我强烈推荐使用树莓派，因为它很容易上手。按照基本步骤下载完所有内容后，我做了以下工作来在Linux上运行<a class="ae lf" href="https://words.bombast.net/homebridge-service-debian/" rel="noopener ugc nofollow" target="_blank">home bridge as a service</a>:</p><ul class=""><li id="d575" class="mn mo iq ka b kb kc kf kg kj mp kn mq kr mr kv ms mt mu mv bi translated"><em class="mw">sudo nano/etc/systemd/system/home bridge . service</em>和<a class="ae lf" href="https://words.bombast.net/homebridge-service-debian/" rel="noopener ugc nofollow" target="_blank">把这个</a>粘贴在那里。</li><li id="bc33" class="mn mo iq ka b kb mx kf my kj mz kn na kr nb kv ms mt mu mv bi translated"><em class="mw"> sudo systemctl守护进程-重新加载</em></li><li id="b259" class="mn mo iq ka b kb mx kf my kj mz kn na kr nb kv ms mt mu mv bi translated"><em class="mw"> sudo systemctl启用homebridge </em></li><li id="1356" class="mn mo iq ka b kb mx kf my kj mz kn na kr nb kv ms mt mu mv bi translated"><em class="mw">sudo system CTL start home bridge</em></li></ul><p id="2ee0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这些命令创建了一个系统服务和系统管理器，它已经广泛成为Linux发行版的新标准。这样做的好处是，只要pi启动，服务就会立即运行，因此无需担心停电或任何导致Homebridge崩溃的故障。这只是重新启动。</p><p id="b7c9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在您运行服务之后，重启您的pi，您就可以开始安装任何您想要的插件了。</p><p id="9646" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你遇到任何问题，Github、Discord、Reddit和T21都有很好的社区可以帮助你。如果你对我如何得到我的套装有疑问，请在这里发微博给我。</p></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><p id="57cb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所以，走出去，让你的家变得更智能吧！</p></div></div>    
</body>
</html>