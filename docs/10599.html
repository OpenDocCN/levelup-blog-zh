<html>
<head>
<title>Getting Started with Minikube as Your Local Kubernetes Cluster</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">开始使用Minikube作为您的本地Kubernetes集群</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/getting-started-with-minikube-as-your-local-kubernetes-cluster-cfebf87abc39?source=collection_archive---------6-----------------------#2021-12-24">https://levelup.gitconnected.com/getting-started-with-minikube-as-your-local-kubernetes-cluster-cfebf87abc39?source=collection_archive---------6-----------------------#2021-12-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="87e1" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">免费创建您的单节点本地Kubernetes集群。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/cd3a9787056489c1f65076526827790a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F_5ve5Bf9Q6V2Cy-MarDTw.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">真实机构在<a class="ae kv" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的<a class="ae kv" href="https://unsplash.com/@trueagency?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"/></figcaption></figure><p id="b533" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> Kubernetes </strong>或<strong class="ky ir"> <em class="ls"> K8s </em> </strong>在DevOps中起着主要作用，目前，大多数应用程序都可能部署在Kubernetes集群中。在2013年推出Docker之前，虚拟化在IT行业发挥了巨大的作用。</p><p id="9590" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你肯定听说过不同的工具，如<strong class="ky ir"> <em class="ls">虚拟盒子</em></strong><strong class="ky ir"><em class="ls">虚拟机软件</em> </strong>等，而且很可能你今天已经体验过了。但是在容器出现之后，开发人员开始将他们的应用程序容器化，因为这种技术给了他们更进一步的可行性解决方案。</p><p id="8072" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦Google引入了Kubernetes，这是一个在集群环境中管理容器化应用程序的强大系统，真正的变化就开始发生了。Kubernetes是一个开源系统，拥有自己的架构，并兼容不同的第三方工具和适配器。</p><p id="15be" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在集群环境中，您可能有几个主节点和工作节点，其中大多数可以是物理机器或云环境。但是，如果您需要在本地机器上测试一些东西，该怎么办呢？它可能是一个简单的容器化应用程序，也可能是一个需要在部署之前进行测试的生产级应用程序。无论如何，这并不意味着您需要购买所有必需的物理机或云环境来在集群中测试它们。</p><p id="d491" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">那么，你会有什么选择呢？</p><p id="f7eb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是迷你库贝的照片。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="9693" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">Minikube是什么？</h1><p id="a6f4" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">Minikube是一个开源工具，它为您提供了一个<strong class="ky ir">单节点</strong>集群，主进程和工作进程都在该节点内运行。您可以轻松地在计算机上安装Minikube，并使用它测试您的应用程序。Minikube为您提供预装Docker作为您的容器运行时，这样您就不需要单独安装Docker。</p><p id="d3a5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Minikube需要一个虚拟机管理程序或虚拟机管理程序<em class="ls">(例如:Virtual Box、VMware、Hyperkit、Hyper-V、KVM等)</em>和Kubernetes命令行工具，即所谓的<strong class="ky ir"> <em class="ls"> kubectl </em> </strong>来与您的Kubernetes工作负载和服务进行交互。您可以使用以下链接根据您的操作系统安装Minikube。</p><div class="mx my gp gr mz na"><a href="https://minikube.sigs.k8s.io/docs/start/" rel="noopener  ugc nofollow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd ir gy z fp nf fr fs ng fu fw ip bi translated">minikube启动</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">minikube是本地Kubernetes，专注于让Kubernetes易于学习和开发。你所需要的是码头工人…</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">minikube.sigs.k8s.io</p></div></div></div></a></div></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="495a" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">安装Minikube</h1><p id="c146" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">本教程我使用的是Mac，与其他操作系统相比，这个过程在Mac上更容易一些。然而，如果你使用的是其他操作系统而不是Mac OS，你可以通过上面的链接按照所有的步骤操作。</p><p id="a74f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，如果您使用的是Mac，您可以和我一起继续，我会向您展示在Mac上需要遵循的所有必要步骤。要安装Minikube，你需要在Mac电脑上安装<strong class="ky ir">自制软件</strong>。如果你还没有安装它，使用下面的链接来安装家酿。</p><div class="mx my gp gr mz na"><a href="https://brew.sh/" rel="noopener  ugc nofollow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd ir gy z fp nf fr fs ng fu fw ip bi translated">公司自产自用</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">macOS(或Linux)缺失的软件包管理器。</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">brew.sh</p></div></div><div class="nj l"><div class="nk l nl nm nn nj no kp na"/></div></div></a></div><p id="e03f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，您可能在Mac上安装了Homebrew，但最近没有更新它。所以，在安装Minikube之前，我们先在Mac上更新一下Homebrew。在终端上运行以下命令，将Homebrew更新到其最新功能。</p><pre class="kg kh ki kj gt np nq nr ns aw nt bi"><span id="0303" class="nu mb iq nq b gy nv nw l nx ny">$ brew update</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/131a9c0169c9b339a87205abb9095311.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Vv2S1N_M2g1s-t5D"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">作者截图</figcaption></figure><p id="aeb3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你不需要总是打开发射台来获得终端，按<strong class="ky ir">命令+空格键</strong>来获得聚光灯搜索，在那里你可以键入<strong class="ky ir"> <em class="ls">终端</em> </strong>并打开它。</p><p id="22f9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你想知道更多Mac上隐藏的功能和快捷方式，去看看下面的帖子，熟悉它们。</p><div class="mx my gp gr mz na"><a href="https://randiltennakoon.medium.com/10-features-hidden-in-your-mac-1ae526b18cf6" rel="noopener follow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd ir gy z fp nf fr fs ng fu fw ip bi translated">Mac中隐藏的10项功能</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">许多用户甚至在使用Mac几年后都没有意识到这些隐藏的功能。</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">randiltennakoon.medium.com</p></div></div><div class="nj l"><div class="oa l nl nm nn nj no kp na"/></div></div></a></div><p id="cfba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦你完成了自制，你可以去选择一个虚拟机管理器来安装Minikube。我使用<strong class="ky ir"> <em class="ls"> Hyperkit </em> </strong>作为我的管理程序<strong class="ky ir"> <em class="ls"> </em> </strong>，因为用自制软件<strong class="ky ir"> <em class="ls"> </em> </strong>安装很容易，而且你可以选择你喜欢的。要安装Hyperkit，请在终端上运行以下命令。</p><pre class="kg kh ki kj gt np nq nr ns aw nt bi"><span id="10ef" class="nu mb iq nq b gy nv nw l nx ny">$ brew install hyperkit</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/2aa1deecea1d47bd6913fdf862ce2c00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*guXZtZBhjVsUhu8J"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">作者截图</figcaption></figure><p id="b884" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦您完成安装Hyperkit，您就可以开始安装Minikube。要安装Minikube，请在您的终端上运行以下命令。</p><pre class="kg kh ki kj gt np nq nr ns aw nt bi"><span id="b108" class="nu mb iq nq b gy nv nw l nx ny">$ brew install minikube</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/cbb414b1e497f8e63de0b87a339f8963.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4cAo2S7Ig3tLulJ1"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">作者截图</figcaption></figure><p id="708c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这个截图中，你可以看到Minikube正在安装Kubernetes命令行工具<strong class="ky ir"><em class="ls">(kubectl)</em></strong><em class="ls"/>作为依赖项，这样你就不需要单独安装了。但是如果你有任何关于<strong class="ky ir"> <em class="ls"> kubectl、</em> </strong>的问题，请务必参考关于<strong class="ky ir"> <em class="ls">安装和设置kubectl </em> </strong>的官方文档。</p><div class="mx my gp gr mz na"><a href="https://kubernetes.io/docs/tasks/tools/" rel="noopener  ugc nofollow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd ir gy z fp nf fr fs ng fu fw ip bi translated">安装工具</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">在您的计算机上设置Kubernetes工具。Kubernetes命令行工具kubectl允许您运行命令…</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">kubernetes.io</p></div></div><div class="nj l"><div class="ob l nl nm nn nj no kp na"/></div></div></a></div><p id="9d68" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您能够成功完成到此为止的所有步骤，那么您就准备好启动您的本地Kubernetes集群了。但在此之前，在你的终端上运行<strong class="ky ir"> kubectl </strong>和<strong class="ky ir"> minikube </strong>，以验证你是否得到相关的输出。</p><p id="9ffe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦完成了<strong class="ky ir"> kubectl </strong>和<strong class="ky ir"> minikube </strong>的操作，就可以使用下面的命令启动本地集群。</p><pre class="kg kh ki kj gt np nq nr ns aw nt bi"><span id="e30c" class="nu mb iq nq b gy nv nw l nx ny">$ minikube start --vm-driver=hyperkit</span></pre><p id="4700" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe oc od oe nq b">minikube start</code>是我们用来启动本地Kubernetes集群的命令，在这个命令中，您需要指定您正在使用哪个管理程序来运行Minikube。因为我们选择Hyperkit作为hypervisor，所以我们需要在上面的<code class="fe oc od oe nq b">minikube start</code>命令的末尾指定它。</p><p id="55a0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此命令将需要一些时间来完成，当您第一次运行它时，它可能会询问您的Mac密码来完成此过程。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/5bd080d58cd4d523cd89a104f92c0306.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*64qUSY81vETi2BW8"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">作者截图</figcaption></figure><p id="4693" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在您几乎完成了安装。接下来，您可以尝试不同的<strong class="ky ir"> <em class="ls"> kubectl </em> </strong>命令来获得输出。运行以下命令将您的节点放入集群。</p><pre class="kg kh ki kj gt np nq nr ns aw nt bi"><span id="ebfd" class="nu mb iq nq b gy nv nw l nx ny">$ kubectl get nodes</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/b764d572ab9171ad123a1cc233212d3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qnTQu2vMU3Fkb0Wr"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">作者截图</figcaption></figure><p id="671a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上面的屏幕截图证实了我们已经成功地在我们的计算机上安装了Minikube，并且在这个屏幕截图中，您可以看到我们的集群只有一个节点，正如我上面提到的，Minikube为我们提供了一个单节点集群，以便在本地环境中测试我们的应用程序。</p><p id="e265" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">也试试下面的命令，查看更多关于Kubernetes和Minikube的信息。</p><pre class="kg kh ki kj gt np nq nr ns aw nt bi"><span id="1ae7" class="nu mb iq nq b gy nv nw l nx ny">$ kubectl version</span></pre><p id="e14a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用这个命令，您可以看到Kubernetes客户端和服务器版本，当您将第三方工具和适配器与Kubernetes集成时，这些版本非常重要。</p><pre class="kg kh ki kj gt np nq nr ns aw nt bi"><span id="955e" class="nu mb iq nq b gy nv nw l nx ny">$ minikube status</span></pre><p id="1d3a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此命令为您提供Minikube的当前状态，您可以验证Minikube是否在您的计算机上运行。</p><p id="a1c8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在您的终端上运行<code class="fe oc od oe nq b">kubectl</code>和<code class="fe oc od oe nq b">minikube</code>，您将看到所有可用的命令，当您深入Kubernetes时，熟悉这些命令总是一个好的实践。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="4f18" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">结论</h1><p id="2f9a" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated"><strong class="ky ir"> <em class="ls">恭喜恭喜！</em> </strong> <em class="ls"> </em>🎉</p><p id="af69" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您已经使用Minikube创建了本地Kubernetes集群。Minikube是从Kubernetes开始的一个很好的工具，它为你提供了入门所需的所有基本特性。如果你是DevOps的初学者，我觉得使用Minikube会给你更好的上手体验，而且不用花钱。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><p id="b8de" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢您的阅读！</p></div></div>    
</body>
</html>