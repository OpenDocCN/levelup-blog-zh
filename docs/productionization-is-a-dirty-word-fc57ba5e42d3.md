# “生产化”是一个肮脏的词

> 原文：<https://levelup.gitconnected.com/productionization-is-a-dirty-word-fc57ba5e42d3>

## 扔掉它&从头开始

![](img/458061d3c34830766a5b34b6d48650cf.png)

有没有在一天之内完成了一个概念验证，却在六个月后还在努力发布？你并不孤单。

这些年来，我有幸参与了许多黑客马拉松。想法总是一样的——把一群聪明的人聚集在同一个房间里，花一天时间(或者一个周末，如果你真的很热衷的话)去创造一些新的东西。

这种热情和乐观是我们作为开发人员所追求的。在有限的时间和明确的目标下，我们在一天内取得的进步比通常一周内取得的进步还要多。

为什么？因为黑客马拉松将开发速度放在首位。

# 黑客马拉松=速度？

黑客马拉松有限的时间框架迫使我们将项目归结为最重要的特性。这是创业心态的放大——也就是说，如果你不能在一天内证明你的概念，那么它就不会成功。

有了我们的迷你路线图，我们在很短的时间内产生了看似惊人的结果。这经常导致一个错误的假设，即我们可以通过在一次黑客马拉松中快速构建软件。

如果可以的话，我想揭穿这个神话。

十年前(几乎是同一天)，在我的第一次黑客马拉松中，我正在帮助一个新项目实现。整个团队走到了一起——软件开发人员、营销人员、设计人员，以及任何能够编写代码、拿起电话或在软件开发时对其进行测试的人。

在这一点上，我们想从技术和商业的角度证明这个概念是可行的。人们非常关注用户体验，但不太关注干净的代码、测试或可伸缩性。

只有八个小时从头开始写项目，我们自然会偷工减料。每一项功能都需要时间，根据你所拥有的时间来决定这些功能的优先级。

这对任何项目来说都是标准的，但在黑客马拉松中尤其重要。如果你在发布时只期望有几十个用户，那么拥有一个可以处理 10，000 个并发用户的应用有什么用呢？如果您的第一个版本只针对一个地区，为什么要关注国际化呢？

所以，我们到了那天的最后，有了一个概念的工作证明，用一些烟雾和镜子使演示看起来比实际更完整一点。

从用户的角度来看，这个项目看起来已经准备好了，所以我们决定在接下来的一周完成这个项目。利益相关者的兴趣很高，我们确信我们会在月底之前让项目上线。

它从未上线过。我们又花了几天时间试图让它越过终点线，结果却发现我们还离终点很远。利益相关者的兴趣减少到无法证明完成项目所需时间的程度。

这个项目逐渐结束，因为我们首先关注的是那些容易摘到的水果和最显眼的物品。听说过 80/20 原则吗？用 20%的时间完成 80%的工作。

这听起来很棒，直到你意识到剩下的 20%的工作将占用你 80%的时间。对于许多黑客马拉松项目来说，这是致命的一击，因为在第一天结束时，你会认为自己已经快到终点线了。

如果再花四天时间完成，我的第一个黑客马拉松项目可能已经成功了。但是在大多数情况下，80/20 法则应该叫做 99.5/0.5 法则。

让我们列出一些在概念验证中我们可能需要但很少考虑的东西。

# 可维护性

这通常是我们在开发速度祭坛上牺牲的第一件事。

硬编码一切。不用担心关注点的分离。在整个应用中复制和粘贴代码，而不是创建可重用的类。你可以以后再解决，对吗？

## 自动化测试

编写合适的测试需要时间。人们(几乎)普遍认为，从长期来看，自动化测试加速了开发，但是只有最坚定的测试支持者会认为它们有短期的好处。

如果你只有八个小时来写一个概念证明，测试就是你没有的奢侈品。

## 自动化部署

与测试类似，自动化部署是您随着时间的推移而获得的好处。这是那种我为一个项目建立了一次，然后就忘记了的事情。

因此，当我开始一个新项目时，我必须重新学习如何设置上一个项目。我有必要为了概念证明而这么做吗？当然不是——我只是像麻瓜一样，在服务器上手动复制粘贴文件。

## 可量测性

假设我已经部署到服务器上，可伸缩性不是概念验证的问题，除非 PoC 是如何扩展。除了在我的笔记本电脑上演示应用程序之外，我可能不需要扩展。

## 配置和定制

大多数应用程序都有用户，通常这些用户对他们想要的东西如何工作有偏好。

还记得亨利·福特的名言吗？

> “你可以有任何你喜欢的颜色，只要是黑色的”。

如果你想快速地构建一些东西，就把它应用到软件定制的主题上。

## 跳回

这是那些直到你需要的时候才需要的东西之一。您可能会在黑客马拉松中通过不实现常规数据库备份来偷工减料，但是您肯定在投入使用之前需要它们。

# 黑客马拉松之后

那么，您已经建立了一个概念验证。取决于它有多好，它可以代表概念的证明，也可以代表一堆垃圾。

你已经生产出了看起来像完成的软件的东西，因为这是你给让你花一天时间在黑客马拉松项目上的涉众留下印象的方式。

因为没有必要拥有一堆可扩展的、经过测试的、自动部署的东西。最好先有一堆东西，然后再添加。

除了添加这些东西既不迷人也不可见。你的利益相关者可能无法鼓起热情来支持你的努力。他们现在就想要结果，所以他们要求你“生产”你已经造好的东西。

能有多难？见鬼，作为一个经验丰富的开发人员，我陷入了这个陷阱，所以我不会责怪非技术利益相关者犯同样的错误。

假设你*可以*生产你的 PoC，有很多理由你不应该。

## 祭祀建筑

对于概念证明，你能做的最好的事情就是扔掉它，重新开始。你已经证明了这个概念是可行的，所以现在去做吧。

不要在薄弱的基础上构建应用程序。这类似于用硬纸板制作一辆汽车的概念证明，然后试图在里面装上一个引擎。

我曾经构建了一个 Windows Explorer 风格的界面，用于管理内容管理系统中的静态资产。还可以。

几年后，我为另一家公司构建了一个几乎相同的项目。这个更好，因为我已经从第一次尝试中吸取了教训。如果我现在再建造一次，我确信它会在数光年之前。

我并不是建议你不断重新发明轮子，只是建议你认识到你的第一次尝试可能不是你最好的作品。

如果你试图生产你的有缺陷的概念证明，你就剥夺了自己基于新的理解重新评估和重新制定决策的机会。

如果你想了解更多关于祭祀建筑的知识，你可能会比阅读[马丁·福勒关于这个主题的观点更糟糕。](https://martinfowler.com/bliki/SacrificialArchitecture.html)

## 预期

由于大多数原型都涉及到一定程度的技巧，你可能会陷入一种抱歉的心态，怀疑自己的交付能力。这个项目为什么没有任何进展？为什么质量这么低？

原型的巧妙运用是意料之中的——不要为此道歉，要诚实地面对有待完成的工作。管理期望，不要坚持维护一个还没有准备好的项目。

如果你歪曲事实，让这个项目看起来已经完成了，你将会通过设定高于预期的期望来惩罚你的未来。

作为一名前端开发人员，与后端开发人员为整个应用程序实现端到端安全性相比，我经常因为更改按钮的字体而获得更多的赞扬。那些东西是复杂的、必要的，并且对用户来说是不可见的。

问题是，如果 PoC *看起来*完成了，用户会认为已经完成了。您可能已经使前端看起来很棒，从而使 PoC 看起来很好，但它只是在幕后掩饰了将所有内容结合在一起的胶带。

## 规划和选择

有时，您的概念证明是用您手头的语言和框架编写的。这并不总是意味着它们是正确的选择。

有时候，语言或者框架影响不大。Java vs. C#，React vs . Angular——有许多明显的决策点可能不会影响项目的成败，假设这些选项具有相似的功能。

然而，有时你做出的选择会对最终结果产生根本性的影响。在决定“生产化”PoC 之前，您应该花时间重新评估您的选择。

我曾经为一个需要动态数据结构的系统构建了一个概念验证。我决定使用 SQL Server 来构建它，因为那是我当时唯一知道的数据库技术。

NoSQL 数据库开始流行，当概念验证结束时，我应该重新评估并用 MongoDB 编写系统。

相反，我“生产化”了我的 PoC，最终得到了一个缓慢且难以维护的系统。六个月后，我还是用 MongoDB 重写了一遍。

请记住:概念验证并不总是成功的。这就是我们编写它们的原因——在我的案例中，从技术角度来看，PoC 是失败的——它证明了关系数据库不适合我的用例。

当你的概念验证接近尾声时，停下来思考一下。像从零开始一样处理项目，选择合适的技术，而不是你必须掌握的技术。

# 结论

我能想到我参与的许多其他项目都受益于牺牲性建筑思维。你自己可能也做过一些——我知道很多人渴望有机会把桌子打扫干净，然后重新开始。

这并不是说你应该——对自己所付出的努力保持诚实，记住这不是一个全有或全无的选择。您可以重写系统的某些部分，而让其他部分保持原样。但是您需要平衡稳定性、特性开发和可维护性。

需要注意的重要事情是你可以或者应该生产某种东西的假设。

有时，最好在撰写 PoC 之前就是否重写它达成一致。否则，你可能最终只能擦亮一坨屎。