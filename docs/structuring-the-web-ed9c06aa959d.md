# 构建网络

> 原文：<https://levelup.gitconnected.com/structuring-the-web-ed9c06aa959d>

## 什么是休息，它是如何工作的？

![](img/d53671318125829b251778241dca712e.png)

图片来源:Pexels 上的百丽公司

# **架构**

1850 年建造的房子和 2015 年建造的房子看起来不一样。他们有不同的风格和不同的标准。有时这种风格仅仅是审美的。但有时候真的很重要。

1989 年，一场地震摧毁了旧金山。超过 60 人死亡。地震造成了近 60 亿美元财产损失。在幸存的建筑中，许多都不适合地震。灾难过后，城市要求对这些旧建筑进行翻新。建筑必须改变，同时保持社区的美丽和风格。

互联网也有建筑。它需要好的架构。它需要美。

# 是什么把我们带到这里的？

想象一下在网飞、YouTube 和维基百科出现之前的生活。让我们回到谷歌刚刚创立的时候。1999 年的互联网看起来有所不同。我们中的许多人家里甚至没有电脑。那时候有建筑风格。SOAP(简单对象访问协议)和 CORBA(公共对象请求代理架构)是常见的选择。

他们很安全。他们可以抵抗地震。堡垒。

![](img/09cc86acdf3408b8a950dc6f7e8c1ab9.png)

照片来源:弗朗斯·范·黑尔登

但是它们很丑，很难使用，也很难接近。安全和用户友好之间没有平衡。

2000 年，情况发生了变化。罗伊·菲尔丁于 2000 年在加州大学欧文分校获得博士学位。在他的论文中，他为所谓的 REST(代表性状态转移)提出了指导方针。从 1990 年到 2000 年，互联网发生了变化。有些变化是好的，有些是坏的。变化只会继续。菲尔丁在论文摘要中写道:

> 为了确定 Web 需要改进的方面并避免不必要的修改，需要一个现代 Web 体系结构的模型来指导其设计、定义和部署

REST 旨在以一种用户友好和有组织的方式标准化 web。REST 是为了改造互联网。

这场斗争是为了保持平衡。一方面，互联网需要安全可靠。肥皂非常安全。事实上，SOAP 现在可以用于需要高安全级别的系统。网站也必须简单和用户友好。这并不是 SOAP 擅长的。REST 旨在平衡这些需求。

# 休息指南

REST 通过 6 条指导方针实现了这一点。web API 必须满足这 6 条准则才能被认为是 RESTful 的:

## 1.客户机/服务器体系结构

客户端和服务器是独立的。它们相互作用，但不连接。客户端和服务器有特定的角色。客户端是发出请求的一方，而服务器则负责传递响应。这分离了关注点，并允许客户端和服务器彼此独立地开发。

## 2.无国籍

客户端请求包含所有必要的信息。客户端维护用户会话。因此，服务器不应该更改状态或会话本身。无论客户是谁，回答都是一样的。如果一个客户端发送与另一个客户端完全相同的请求，他将收到完全相同的响应。

## 3.统一界面

web 应用程序的设计应该是简单的。菲德林解释说，REST 是“为网络的普遍情况”而构建的 URL 的布局和用户从一个网页到下一个网页的方式都是有逻辑的。

## 4.可缓存资源

每个响应都被标记为是否可以被缓存。缓存的资源可以加载到客户端以提高性能。将发生变化的资源应该标记为不可缓存。这再次加强了 REST 的用户友好性，因为这提高了单个用户的效率。

## 5.分层系统

在客户端和服务器之间可以存在多个层。例如，有人可能想在他们的网站上增加一层安全措施。或者他们可能想添加一个负载平衡器。这些系统应该作为附加层构建在服务器之上，并且不应该禁止或改变请求和响应。

## 6.按需编码(可选)

响应可以包含客户端脚本(即 Javascript、Java 小程序)。

Fielding 解释了该指南的可选性:

> 可选约束的概念可能看起来矛盾。然而，在包含多个组织边界的系统的架构设计中，它确实有其用途。这意味着，当已知可选约束对整个系统的某个领域有效时，体系结构只获得可选约束的好处(并承受其缺点)。例如，如果已知一个组织内的所有客户端软件都支持 Java 小应用程序，那么该组织内的服务可以被构造为通过可下载的 Java 类获得增强功能的好处。然而，与此同时，组织的防火墙可能阻止来自外部源的 Java 小应用程序的传输，因此对于 Web 的其余部分，看起来好像这些客户端不支持按需编码。一个可选的约束允许我们设计一个在一般情况下支持期望行为的架构，但是要理解它在某些上下文中可能被禁用。

# 构建 RESTful 网站

那么 REST 在实现中是什么样子的呢？我们如何让我们的 web 应用程序 RESTful？关键在于服务器的简单性和组织。

菲尔丁在他的论文中写道，

> “表述性状态转移”这一名称旨在描绘一个设计良好的 Web 应用程序是如何工作的:一个网页网络(一个虚拟状态机)，用户通过选择链接(状态转换)在应用程序中前进，从而将下一个页面(代表应用程序的下一个状态)转移给用户并呈现给他们使用

换句话说，用户可以按照逻辑流程从一个页面转到下一个页面。URL 以一种可以理解的方式随着时间的推移而发展。从用户的角度来看，显示的页面可能看起来像:

/products —所有产品的索引

/products/new —创建新产品的页面

/products/1 —第一个产品的显示页面

/products/1/edit —编辑第一个产品的页面

这也为开发人员提供了一个优势。有了这些约定，他们可以在真正有意义的选择上花更多的时间。他们不必担心产品展示页面的名称。相反，他们可以担心如何显示该页面，以及如何实现安全性，以便只有正确的人才能看到该页面。

# 结论

REST 旨在提供最佳的网络用户体验。它的惯例确保我们始终关注用户。我们的网站需要简洁，这是一种美。有时候，我们需要像肥皂一样的东西:一个堡垒。在其他时候，我们需要关注一些更加用户友好的东西。这就是休息的目的。休息是给用户的。

# 进一步阅读

*   为您的应用实现 REST—[https://hacker noon . com/restful-API-design-step-by-step-guide-2 F2 c 9 f 9 fcdbf](https://hackernoon.com/restful-api-design-step-by-step-guide-2f2c9f9fcdbf)
*   休息和肥皂的区别——https://raygun.com/blog/soap-vs-rest-vs-json/
*   罗伊·菲尔丁的论文——https://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm[——本文中所有未注明出处的引文都摘自他的论文。](https://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm)
*   CORBA—[http://www.ois.com/Products/what-is-corba.html](http://www.ois.com/Products/what-is-corba.html)
*   肥皂—[https://www.w3.org/TR/soap12/](https://www.w3.org/TR/soap12/)