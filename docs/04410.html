<html>
<head>
<title>What’s new in CoreLocation for iOS 14</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">iOS 14的CoreLocation有什么新功能</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/whats-new-with-corelocation-in-ios-14-bd28421c95c4?source=collection_archive---------2-----------------------#2020-06-25">https://levelup.gitconnected.com/whats-new-with-corelocation-in-ios-14-bd28421c95c4?source=collection_archive---------2-----------------------#2020-06-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="b898" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">iOS 14中新的准确度授权</p><p id="89d4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<strong class="jp ir"> WWDC 20 </strong>中，苹果为iOS用户推出新的位置隐私授权是<strong class="jp ir"> CLAccuracyAuthorization </strong>，其中包括:<strong class="jp ir"> fullAccuracy </strong>和<strong class="jp ir"> reducedAccuracy </strong>。它们是什么？</p><blockquote class="kl km kn"><p id="0e0e" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated"><strong class="jp ir"> fullAccuracy: </strong>接收准确的位置信息。</p><p id="88aa" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated"><strong class="jp ir">降低精确度:</strong>位置估计的水平精确度约为<strong class="jp ir">5公里</strong>。应用程序应该准备好接收20分钟前的位置。</p></blockquote><p id="233e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在iOS 14里看起来怎么样？</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi ks"><img src="../Images/7348eb739f876382d9d8b2d336945054.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1o8T1CpD3ODKTJY8VP0GtQ.png"/></div></div></figure><p id="7242" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从哪里获得这种状态的代码？</p><p id="9803" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您为您的<strong class="jp ir"> locationManager </strong>设置了一个代理，您可以在此功能中获取状态(从iOS 14)</p><blockquote class="kl km kn"><p id="efbb" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated">func<strong class="jp ir">locationmanagerdichangeauthorization</strong>(<strong class="jp ir">_</strong>管理者:CLLocationManager)</p></blockquote><p id="83d7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">上面的函数是这个函数的替代品(适用于所有14以下的iOS)</p><blockquote class="kl km kn"><p id="0cc7" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated">func<strong class="jp ir">location manager</strong>(<strong class="jp ir">_</strong>manager:CLLocationManager，didChangeAuthorization status)</p></blockquote><p id="ee26" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面是处理用户选择哪种准确性授权的示例代码</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="le lf l"/></div></figure><p id="27ce" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有一个键<strong class="jp ir">NSLocationDefaultAccuracyReduced</strong>(Bool)<strong class="jp ir"/>可以让你在请求位置授权时设置默认精度降低与否。在<strong class="jp ir"> Info.plist </strong>中设置该键</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="le lf l"/></div></figure><p id="df6d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果将<strong class="jp ir">NSLocationDefaultAccuracyReduced</strong>设置为true或false会怎么样？</p><p id="e219" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">假</strong>:可以切换选择。<strong class="jp ir">全精度</strong>或<strong class="jp ir">。降低精确度</strong></p><p id="4f21" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">真</strong>:默认为。<strong class="jp ir">降低精确度</strong></p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi lg"><img src="../Images/b87784060e37c05366e0bb3ab38d6c84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yQH1wmiBQAZKuo7XWwYwiQ.png"/></div></div></figure><p id="74d4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当用户选择<strong class="jp ir">精确</strong>是<strong class="jp ir">关闭</strong>但你想问他们准确的位置时，苹果还在iOS 14中支持我们2个新功能:</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="le lf l"/></div></figure><p id="2093" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里的<strong class="jp ir">目的键</strong>是什么？</p><p id="9fbb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">目的键</strong>是一个键，让应用程序知道您在<strong class="jp ir"> Info.plist </strong>中设置的每种情况的解释</p><p id="f7c0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如，如果你在<strong class="jp ir"> Info.plist </strong>文件中设置了这些键和值</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="le lf l"/></div></figure><p id="777f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当你用<strong class="jp ir">目的键</strong>请求临时完全准确授权时:“交货”</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="le lf l"/></div></figure><p id="ec98" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你会看到这样的弹出窗口</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi lh"><img src="../Images/f4843ace402f457ff1c91453c7656aaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4p4cnO6cSVfs6GgKSp7efA.png"/></div></div></figure><p id="11fe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这两个函数仅在accuracyAuthorization为。<strong class="jp ir">降低精确度</strong></p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="le lf l"/></div></figure></div><div class="ab cl li lj hu lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ij ik il im in"><p id="19dd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以上都是iOS 14对<strong class="jp ir"> CoreLocation的一些改动。</strong></p><p id="96f6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">完整的代码供您尝试</p><div class="lp lq gp gr lr ls"><a href="https://github.com/ryanisnhp/accuracy_authorization" rel="noopener  ugc nofollow" target="_blank"><div class="lt ab fo"><div class="lu ab lv cl cj lw"><h2 class="bd ir gy z fp lx fr fs ly fu fw ip bi translated">ryanisnhp/准确性_授权</h2><div class="lz l"><h3 class="bd b gy z fp lx fr fs ly fu fw dk translated">iOS 14新增精度授权。创建一个帐户，为ryanisnhp/accuracy _ authorization开发做贡献…</h3></div><div class="ma l"><p class="bd b dl z fp lx fr fs ly fu fw dk translated">github.com</p></div></div><div class="mb l"><div class="mc l md me mf mb mg lc ls"/></div></div></a></div></div></div>    
</body>
</html>