<html>
<head>
<title>Mount Storage Volumes onto Linux Operating Systems</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将存储卷装载到Linux操作系统上</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/mount-storage-volumes-onto-linux-operating-systems-24283d9a676e?source=collection_archive---------12-----------------------#2021-12-31">https://levelup.gitconnected.com/mount-storage-volumes-onto-linux-operating-systems-24283d9a676e?source=collection_archive---------12-----------------------#2021-12-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/881e114a5cae079822ce80be821d270f.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*kt2zmGouHJtMblUb1AZvpg.png"/></div></figure><p id="ecdb" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">了解如何将外部存储设备连接到基于Linux的操作系统。从分区和格式化到自动挂载。</p><p id="6e8d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><a class="ae ks" href="#4e33" rel="noopener ugc nofollow">外部存储设备</a> <br/> ∘ <a class="ae ks" href="#1480" rel="noopener ugc nofollow"> Linux设备命名</a> <br/> ∘ <a class="ae ks" href="#80b0" rel="noopener ugc nofollow">分区&amp;格式</a> <br/> ∘ <a class="ae ks" href="#1c08" rel="noopener ugc nofollow">挂载卷</a> <br/> <a class="ae ks" href="#f36a" rel="noopener ugc nofollow">高级主题</a> <br/> ∘ <a class="ae ks" href="#12db" rel="noopener ugc nofollow">自动挂载</a> <br/> <a class="ae ks" href="#83f4" rel="noopener ugc nofollow">摘要</a></p><h1 id="4e33" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">外部存储设备</h1><p id="f449" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">这些说明涵盖了将外部存储设备连接到Linux操作系统的必要步骤。</p><h2 id="1480" class="lw ku iq bd kv lx ly dn kz lz ma dp ld kf mb mc lh kj md me ll kn mf mg lp mh bi translated">Linux设备命名</h2><p id="9a33" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated"><strong class="jw ir">什么是</strong> <code class="fe mi mj mk ml b"><strong class="jw ir">/dev/sda1</strong></code> <strong class="jw ir">？</strong></p><p id="ff0c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">Linux中的外部卷带有前缀<code class="fe mi mj mk ml b">sd</code>，代表<strong class="jw ir"> S </strong> CSI <strong class="jw ir"> D </strong> isk。<br/> <code class="fe mi mj mk ml b">SCSI</code>是<strong class="jw ir">S</strong>mall<strong class="jw ir">C</strong>computer<strong class="jw ir">S</strong>system<strong class="jw ir">I</strong>interface的缩写。</p><p id="5ed1" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><code class="fe mi mj mk ml b">sd</code>的后缀为<code class="fe mi mj mk ml b">sda</code>、<code class="fe mi mj mk ml b">sdb</code>、<code class="fe mi mj mk ml b">sdc</code>是指第一/第二/第三<code class="fe mi mj mk ml b">SCSI</code>安装的设备。每个已安装设备的数值，即<code class="fe mi mj mk ml b">sda1</code>、<code class="fe mi mj mk ml b">sda2</code>是每个磁盘内的分区。</p></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h2 id="80b0" class="lw ku iq bd kv lx ly dn kz lz ma dp ld kf mb mc lh kj md me ll kn mf mg lp mh bi translated">分区和格式</h2><p id="754a" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">在这个例子中，我将使用USB驱动器作为外部卷，并将其连接到名为<code class="fe mi mj mk ml b">kmaster</code>的Raspberry Pi板，这些说明与每个Linux发行版相关，如果与您无关，请跳过第一步。</p><ol class=""><li id="9b92" class="mt mu iq jw b jx jy kb kc kf mv kj mw kn mx kr my mz na nb bi translated"><strong class="jw ir">(可选)</strong>:将外部存储设备连接到一个Raspberry Pi节点，并SSH到其中</li></ol><pre class="nc nd ne nf gt ng ml nh ni aw nj bi"><span id="7528" class="lw ku iq ml b gy nk nl l nm nn">ssh pi@kmaster</span></pre><p id="d81b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">2.列出RPi服务器上的所有磁盘分区</p><pre class="nc nd ne nf gt ng ml nh ni aw nj bi"><span id="b16a" class="lw ku iq ml b gy nk nl l nm nn">sudo lsblk -o UUID,NAME,FSTYPE,SIZE,MOUNTPOINT,LABEL,MODEL</span></pre><figure class="nc nd ne nf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gh gi no"><img src="../Images/42b3bc617deabef1047060b8cec8fa83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UdTbubLljrrlvK33qZYshQ.png"/></div></div></figure><p id="21cd" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">3.列出RPi服务器上的当前设备</p><pre class="nc nd ne nf gt ng ml nh ni aw nj bi"><span id="b2af" class="lw ku iq ml b gy nk nl l nm nn">sudo fdisk -l</span></pre><figure class="nc nd ne nf gt jr gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/cb1c50a34f87a3f4aa40f9f217f4c97c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*_j6KCPPDC6ZkarIKv8NsCw.png"/></div></figure><p id="c16f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">4.验证外部存储设备的<code class="fe mi mj mk ml b">sdX</code>名称，并创建新的分区表</p><pre class="nc nd ne nf gt ng ml nh ni aw nj bi"><span id="d5ad" class="lw ku iq ml b gy nk nl l nm nn">sudo fdisk /dev/sda<br/>   <br/><em class="nu"># m - print commands menu (for visibility)</em><br/><em class="nu"># g - create a new empty GPT partition table</em><br/><em class="nu"># n - add a new partition</em><br/><em class="nu"># Press enter x3 for defaults (Partition number, First sector, Last sector)</em><br/><em class="nu"># w - write table to disk and exit</em></span></pre><blockquote class="nv nw nx"><p id="cb58" class="ju jv nu jw b jx jy jz ka kb kc kd ke ny kg kh ki nz kk kl km oa ko kp kq kr ij bi translated"><strong class="jw ir">重要提示:</strong>确保您正在当前的<code class="fe mi mj mk ml b">sdX</code>设备上工作，外部存储设备上的所有数据即将被擦除，将表写入磁盘后将无法恢复！</p></blockquote><p id="adec" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">5.检查外部存储设备是否在Linux文件系统下正确分区</p><p id="13c9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir"> fdisk </strong></p><figure class="nc nd ne nf gt jr gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/cd5b87af1a359f80311d87a7f26d317b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*KF7VCDQ1mh0Gi_FDTNig7w.png"/></div></figure><p id="e2ce" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir"> lsblk </strong></p><figure class="nc nd ne nf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gh gi oc"><img src="../Images/6abc260cbe5ebb76399c62c9bbced1f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MAVOIik8gmcLvWgg_bDiTQ.png"/></div></div></figure><p id="e3ec" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">6.将外部存储设备格式化为<code class="fe mi mj mk ml b">ext4</code>文件系统</p><pre class="nc nd ne nf gt ng ml nh ni aw nj bi"><span id="4b7f" class="lw ku iq ml b gy nk nl l nm nn">sudo mkfs.ext4 /dev/sda1</span></pre><p id="5d0c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">7.验证外部存储设备是否正确格式化为<code class="fe mi mj mk ml b">ext4</code>文件系统</p><figure class="nc nd ne nf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gh gi oc"><img src="../Images/81428cb0a95887f3881450968d695d3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gyGkGUk10CyUkBy0yIUuIA.png"/></div></div></figure></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h2 id="1c08" class="lw ku iq bd kv lx ly dn kz lz ma dp ld kf mb mc lh kj md me ll kn mf mg lp mh bi translated">装载卷</h2><ol class=""><li id="5e8d" class="mt mu iq jw b jx lr kb ls kf od kj oe kn of kr my mz na nb bi translated">找到存储设备磁盘分区的<code class="fe mi mj mk ml b">UUID</code></li></ol><pre class="nc nd ne nf gt ng ml nh ni aw nj bi"><span id="7da2" class="lw ku iq ml b gy nk nl l nm nn">sudo blkid</span></pre><figure class="nc nd ne nf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gh gi og"><img src="../Images/efae302ce5bcd5d516bf89fbc29542fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L_lRhQ88Kx1bjzK-gWzhVA.png"/></div></div></figure><p id="0b3b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">2.创建一个目标文件夹作为存储设备的挂载点(在本例中为<code class="fe mi mj mk ml b">container-registry</code>)</p><pre class="nc nd ne nf gt ng ml nh ni aw nj bi"><span id="fe44" class="lw ku iq ml b gy nk nl l nm nn">sudo mkdir /mnt/container-registry</span></pre><p id="b49c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">3.在挂载点<code class="fe mi mj mk ml b">/mnt/container-registry</code>挂载存储设备分区<code class="fe mi mj mk ml b">/dev/sda1</code></p><pre class="nc nd ne nf gt ng ml nh ni aw nj bi"><span id="b618" class="lw ku iq ml b gy nk nl l nm nn">sudo mount /dev/sda1 /mnt/container-registry</span></pre><p id="3470" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">4.验证存储设备是否已成功装载</p><pre class="nc nd ne nf gt ng ml nh ni aw nj bi"><span id="0417" class="lw ku iq ml b gy nk nl l nm nn">ls -lah /mnt/container-registry</span></pre><p id="dccd" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">5.<strong class="jw ir">(可选)</strong>:卸载存储设备</p><pre class="nc nd ne nf gt ng ml nh ni aw nj bi"><span id="626a" class="lw ku iq ml b gy nk nl l nm nn">sudo umount /mnt/container-registry</span></pre><blockquote class="nv nw nx"><p id="d3cc" class="ju jv nu jw b jx jy jz ka kb kc kd ke ny kg kh ki nz kk kl km oa ko kp kq kr ij bi translated"><strong class="jw ir">重要提示:</strong>从树莓Pi板上拔下存储设备之前，记得先卸载！</p></blockquote></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h1 id="f36a" class="kt ku iq bd kv kw oh ky kz la oi lc ld le oj lg lh li ok lk ll lm ol lo lp lq bi translated">高级主题</h1><p id="797a" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">这些说明适用于任何Linux发行版操作系统。该部分的方向将围绕<code class="fe mi mj mk ml b">Debian OS</code>展开，这是正在使用的树莓Pi操作系统。请按照<a class="ae ks" rel="noopener ugc nofollow" target="_blank" href="/setting-up-a-raspberry-pi-cluster-b0fda1ee44ba">设置树莓Pi集群</a>帖子获取更多信息。</p><h2 id="12db" class="lw ku iq bd kv lx ly dn kz lz ma dp ld kf mb mc lh kj md me ll kn mf mg lp mh bi translated">自动安装</h2><p id="257a" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">我们将编辑OS文件系统表<code class="fe mi mj mk ml b">fstab</code>以便在Raspberry Pi服务器启动时自动挂载外部存储设备。</p><ol class=""><li id="8874" class="mt mu iq jw b jx jy kb kc kf mv kj mw kn mx kr my mz na nb bi translated">找到存储设备磁盘分区的<code class="fe mi mj mk ml b">UUID</code>和<code class="fe mi mj mk ml b">TYPE</code></li></ol><pre class="nc nd ne nf gt ng ml nh ni aw nj bi"><span id="eb3d" class="lw ku iq ml b gy nk nl l nm nn">sudo blkid</span></pre><figure class="nc nd ne nf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gh gi og"><img src="../Images/efae302ce5bcd5d516bf89fbc29542fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L_lRhQ88Kx1bjzK-gWzhVA.png"/></div></div></figure><p id="c22a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">2.编辑操作系统文件系统表<code class="fe mi mj mk ml b">fstab</code></p><pre class="nc nd ne nf gt ng ml nh ni aw nj bi"><span id="6e45" class="lw ku iq ml b gy nk nl l nm nn"><em class="nu"># Open fstab for editing</em><br/>sudo vi /etc/fstab</span></pre><p id="5198" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">3.将下面一行附加到文件末尾</p><pre class="nc nd ne nf gt ng ml nh ni aw nj bi"><span id="da4b" class="lw ku iq ml b gy nk nl l nm nn"><em class="nu"># Append to end of file</em><br/>UUID<strong class="ml ir">=</strong>&lt;value-from-step-1&gt; /mnt/container-registry ext4 defaults,auto,users,rw,nofail,x-systemd.device-timeout<strong class="ml ir">=</strong>30 0 0</span></pre><blockquote class="nv nw nx"><p id="b8d4" class="ju jv nu jw b jx jy jz ka kb kc kd ke ny kg kh ki nz kk kl km oa ko kp kq kr ij bi translated"><strong class="jw ir">注意:</strong>我们已经用<code class="fe mi mj mk ml b">ext4</code>文件系统设置了一个挂载点<code class="fe mi mj mk ml b">/mnt/container-registry</code>，并为RPi板定义了一个<code class="fe mi mj mk ml b">30 sec</code>超时，如果RPi启动时存储磁盘断开。</p></blockquote></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h1 id="83f4" class="kt ku iq bd kv kw oh ky kz la oi lc ld le oj lg lh li ok lk ll lm ol lo lp lq bi translated">摘要</h1><p id="b201" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">完成这篇文章后，你应该熟悉如何识别外部存储设备并将其连接到Linux操作系统💾</p><p id="6427" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">现在怎么办？直接从CLI分区、格式化并挂载你需要的任何外部存储设备到你的Linux发行版操作系统上！</strong></p><p id="dc8c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">请在下面的讨论中留下您的评论、建议或任何其他您认为与本文相关的意见。</p><p id="710d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">喜欢这个帖子？</strong> <br/>您可以通过以下方式了解更多信息:</p><p id="53b9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">查看我的博客:<a class="ae ks" href="https://blog.zachinachshon.com/" rel="noopener ugc nofollow" target="_blank">https://blog.zachinachshon.com</a><br/>在推特上关注我:<a class="ae ks" href="https://twitter.com/zachinachshon" rel="noopener ugc nofollow" target="_blank"> @zachinachshon </a></p><p id="2af0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">感谢阅读！❤️</p></div></div>    
</body>
</html>