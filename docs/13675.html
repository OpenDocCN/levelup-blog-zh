<html>
<head>
<title>Get Started with Hugging Face Auto Train</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">拥抱脸汽车列车入门</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/get-started-with-hugging-face-auto-train-5a2ac5fa2fa4?source=collection_archive---------28-----------------------#2022-09-26">https://levelup.gitconnected.com/get-started-with-hugging-face-auto-train-5a2ac5fa2fa4?source=collection_archive---------28-----------------------#2022-09-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b538" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">拥抱脸汽车列车实践教程</h2></div><div class="ki kj gp gr kk kl"><a href="https://jorgepit-14189.medium.com/membership" rel="noopener follow" target="_blank"><div class="km ab fo"><div class="kn ab ko cl cj kp"><h2 class="bd iu gy z fp kq fr fs kr fu fw is bi translated">用我的推荐链接加入媒体-乔治皮皮斯</h2><div class="ks l"><h3 class="bd b gy z fp kq fr fs kr fu fw dk translated">阅读乔治·皮皮斯(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接支持…</h3></div><div class="kt l"><p class="bd b dl z fp kq fr fs kr fu fw dk translated">jorgepit-14189.medium.com</p></div></div><div class="ku l"><div class="kv l kw kx ky ku kz la kl"/></div></div></a></div><p id="bb6c" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">拥抱脸已经推出了<a class="ae lx" href="https://huggingface.co/autotrain" rel="noopener ugc nofollow" target="_blank"> <strong class="ld iu">自动训练</strong> </a>，这是一种自动训练、评估和部署最先进的机器学习模型的新方法。它使我们能够通过简单地上传数据来训练定制的机器学习模型。在引擎盖下，它自动运行不同的模型。最后，我们直接从<a class="ae lx" href="https://huggingface.co/models" rel="noopener ugc nofollow" target="_blank">拥抱面部中枢</a>使用我们的模型。目前，它支持以下任务:</p><ul class=""><li id="c0b2" class="ly lz it ld b le lf lh li lk ma lo mb ls mc lw md me mf mg bi translated">图像分类</li><li id="1226" class="ly lz it ld b le mh lh mi lk mj lo mk ls ml lw md me mf mg bi translated">文本分类</li><li id="f7b1" class="ly lz it ld b le mh lh mi lk mj lo mk ls ml lw md me mf mg bi translated">令牌分类</li><li id="c05d" class="ly lz it ld b le mh lh mi lk mj lo mk ls ml lw md me mf mg bi translated">问题回答</li><li id="b7db" class="ly lz it ld b le mh lh mi lk mj lo mk ls ml lw md me mf mg bi translated">翻译</li><li id="9920" class="ly lz it ld b le mh lh mi lk mj lo mk ls ml lw md me mf mg bi translated">摘要</li><li id="b15d" class="ly lz it ld b le mh lh mi lk mj lo mk ls ml lw md me mf mg bi translated">文本回归</li><li id="eed7" class="ly lz it ld b le mh lh mi lk mj lo mk ls ml lw md me mf mg bi translated">表格数据分类</li><li id="7cfa" class="ly lz it ld b le mh lh mi lk mj lo mk ls ml lw md me mf mg bi translated">表格数据回归</li></ul><p id="030a" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">在本教程中，我们将研究一个文本分类的例子。</p><h1 id="be77" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">基于拥抱人脸自动训练的文本分类</h1><p id="a3bb" class="pw-post-body-paragraph lb lc it ld b le ne ju lg lh nf jx lj lk ng lm ln lo nh lq lr ls ni lu lv lw im bi translated">让我们开始使用拥抱脸自动训练建立我们的文本分类模型。你必须在<a class="ae lx" href="https://huggingface.co/autotrain" rel="noopener ugc nofollow" target="_blank">拥抱脸</a>上签到。然后，你点击“<strong class="ld iu">创建新项目</strong>按钮。</p><figure class="nk nl nm nn gt no gh gi paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gh gi nj"><img src="../Images/2cebb77ed7ed4faf00463bf3623f3a33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2EsJm5ihPosuLUsS.png"/></div></div></figure><p id="b1d9" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">然后，您给出项目名称，并选择一个任务。在我们的例子中，我们将使用一个“<strong class="ld iu">文本</strong>”任务，更具体地说是一个“<strong class="ld iu">文本分类(二进制)</strong>”，最后我们单击“<strong class="ld iu">创建项目</strong></p><figure class="nk nl nm nn gt no gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/5fb2cb47d9cfe96b8412a32b41867849.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/0*vEhqxEETbfQfo8rb.png"/></div></figure><p id="5588" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">然后，我们可以上传两栏的<code class="fe nv nw nx ny b">.csv</code>文件，比如<code class="fe nv nw nx ny b">text</code>和<code class="fe nv nw nx ny b">target</code>。</p><figure class="nk nl nm nn gt no gh gi paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gh gi nj"><img src="../Images/d0a97922cbea9a5ba2bf5ec12f64f050.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*AqVfrSKAFo1LUgxw.png"/></div></div></figure><p id="7cbe" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">对于这个例子，我从酒店评论中选择了一个数据集。该文件由两列组成，文本和目标采用两个值，<strong class="ld iu"> 0(负)或1(正)</strong>。</p><figure class="nk nl nm nn gt no gh gi paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gh gi nj"><img src="../Images/3a4b316ddf6e0c78f8d2024a9cc56ba4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*974j2H3o2eeWsp43.png"/></div></div></figure><p id="51c1" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">注意，对于<strong class="ld iu">免费</strong>版本，数据集<strong class="ld iu">必须少于3000行！</strong>上传数据后，我们点击“<strong class="ld iu">添加到项目</strong>”。然后我们准备好训练模型，通过点击“<strong class="ld iu">进入训练</strong>”。</p><figure class="nk nl nm nn gt no gh gi paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gh gi nj"><img src="../Images/2ade4fb55743d5dfe541a39c40e64e4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*fgetwQhqQscu7LJP.png"/></div></div></figure><p id="b64c" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">免费版允许我们训练多达5个模型。</p><figure class="nk nl nm nn gt no gh gi paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gh gi nj"><img src="../Images/ce82716c817cd68f25ba489af897777b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tio3fzvigXOsWX1Q.png"/></div></div></figure><p id="bb5c" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">这5个模型并行运行，您可以看到它们的准确性。</p><figure class="nk nl nm nn gt no gh gi paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gh gi nj"><img src="../Images/c602099e45c02152beae61efc9662916.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*c8Dql6YlKt9lRHsx.png"/></div></div></figure><p id="89ea" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">如果我们单击该模型，我们可以看到其他指标，如精确度、召回率、Auc、F1和损失。</p><figure class="nk nl nm nn gt no gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/eacab4259e152de86b6014bef589970b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*pjAoCcATe0eoJ4BV.png"/></div></figure><p id="672b" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">或者，如果我们转到指标部分，我们可以看到所有模型的摘要视图。</p><figure class="nk nl nm nn gt no gh gi paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gh gi nj"><img src="../Images/a5ddeb6289cfa7f28bf4e0b3059634eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Zzn-HOYJct4QI9Uh.png"/></div></div></figure><h1 id="df5a" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">从用户界面进行预测</h1><p id="54da" class="pw-post-body-paragraph lb lc it ld b le ne ju lg lh nf jx lj lk ng lm ln lo nh lq lr ls ni lu lv lw im bi translated">当我们在指标部分时，我们可以单击任何型号ID。让我们试试评论“<strong class="ld iu">这家酒店太棒了</strong>”。</p><figure class="nk nl nm nn gt no gh gi paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gh gi nj"><img src="../Images/f902dbd7c19bb6c14d6698ae2c400550.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8_VuNSHWwamIIlNt.png"/></div></div></figure><p id="5aad" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">我们得到一个标签=1，这意味着有95%的概率是肯定的。</p><h1 id="5d30" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">使用Python进行预测</h1><p id="4db5" class="pw-post-body-paragraph lb lc it ld b le ne ju lg lh nf jx lj lk ng lm ln lo nh lq lr ls ni lu lv lw im bi translated">在左下方，你可以看到一个名为“<strong class="ld iu">用法</strong>的部分，它展示了如何进行curl和Python调用。我们只需要复制粘贴Python API代码片段的代码。</p><figure class="nk nl nm nn gt no gh gi paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gh gi nj"><img src="../Images/244de527d06c3997fcc118540fd1e5ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*AMIDsmNE9ZHLNDfb.png"/></div></div></figure><p id="8fcd" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">为了从Python API调用模型，我们需要创建一个<code class="fe nv nw nx ny b">use_auth_token</code>。我们应该转到<a class="ae lx" href="https://huggingface.co/settings/tokens" rel="noopener ugc nofollow" target="_blank">设置/令牌</a>并为auto_train创建一个新令牌。</p><figure class="nk nl nm nn gt no gh gi paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gh gi nj"><img src="../Images/1617a530267d325b84f8085697edd6b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*UMn8kevMPRnLWqHI.png"/></div></div></figure><p id="647f" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">一旦我们创建了访问令牌，我们就可以复制并使用它，如下所示。现在，让我们转移到Colab。我们必须安装transformers库，然后简单地粘贴我们上面复制的代码片段。对于<code class="fe nv nw nx ny b">use_aut_token</code>，我们将传递我们之前生成的访问令牌。</p><pre class="nk nl nm nn gt oa ny ob oc aw od bi"><span id="ac69" class="oe mn it ny b gy of og l oh oi">!pip install transformers</span><span id="ee6f" class="oe mn it ny b gy oj og l oh oi">from transformers import AutoModelForSequenceClassification, AutoTokenizer</span><span id="8fe8" class="oe mn it ny b gy oj og l oh oi">model = AutoModelForSequenceClassification.from_pretrained("gpipis/autotrain-auto_train_text_classification-1557955500", use_auth_token='xxx')</span><span id="26a5" class="oe mn it ny b gy oj og l oh oi">tokenizer = AutoTokenizer.from_pretrained("gpipis/autotrain-auto_train_text_classification-1557955500", use_auth_token='xxx')</span><span id="5039" class="oe mn it ny b gy oj og l oh oi">inputs = tokenizer("I love AutoTrain", return_tensors="pt")</span><span id="e09e" class="oe mn it ny b gy oj og l oh oi">outputs = model(**inputs)</span><span id="c0d1" class="oe mn it ny b gy oj og l oh oi">outputs</span></pre><p id="cb44" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">输出</p><pre class="nk nl nm nn gt oa ny ob oc aw od bi"><span id="89f1" class="oe mn it ny b gy of og l oh oi">SequenceClassifierOutput(loss=None, logits=tensor([[-1.3991,  1.5701]], grad_fn=&lt;AddmmBackward0&gt;), hidden_states=None, attentions=None)</span></pre><p id="2198" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">输出返回逻辑。如果我们想得到每一类的概率，我们需要使用softmax函数，如下所示:</p><pre class="nk nl nm nn gt oa ny ob oc aw od bi"><span id="56f3" class="oe mn it ny b gy of og l oh oi">from torch import nn</span><span id="332e" class="oe mn it ny b gy oj og l oh oi">pt_predictions  = nn.functional.softmax(outputs.logits, dim=-1)<br/>pt_predictions</span></pre><p id="f064" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">输出</p><pre class="nk nl nm nn gt oa ny ob oc aw od bi"><span id="886c" class="oe mn it ny b gy of og l oh oi">tensor([[0.0488, 0.9512]], grad_fn=&lt;SoftmaxBackward0&gt;)</span></pre><h2 id="f8b0" class="oe mn it bd mo ok ol dn ms om on dp mw lk oo op my lo oq or na ls os ot nc ou bi translated">使用管道进行预测</h2><p id="189d" class="pw-post-body-paragraph lb lc it ld b le ne ju lg lh nf jx lj lk ng lm ln lo nh lq lr ls ni lu lv lw im bi translated">我们可以使用如下管道进行预测。</p><pre class="nk nl nm nn gt oa ny ob oc aw od bi"><span id="968f" class="oe mn it ny b gy of og l oh oi">from transformers import pipeline<br/>my_pipeline = pipeline(task="text-classification", model=model, tokenizer=tokenizer)</span><span id="33ac" class="oe mn it ny b gy oj og l oh oi">my_score = my_pipeline('The hotel was amazing')<br/>my_score</span></pre><p id="b684" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">输出</p><pre class="nk nl nm nn gt oa ny ob oc aw od bi"><span id="b1ab" class="oe mn it ny b gy of og l oh oi">[{'label': '1', 'score': 0.9511635303497314}]</span></pre><p id="95a5" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">正如我们所看到的，我们在UI上得到了相同的结果，这意味着标签等于1的概率为95%。</p><h1 id="2717" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">更多关于变形金刚和抱脸？</h1><ul class=""><li id="5825" class="ly lz it ld b le ne lh nf lk ov lo ow ls ox lw md me mf mg bi translated"><a class="ae lx" href="https://predictivehacks.com/mastering-sentence-transformers-for-sentence-similarity/" rel="noopener ugc nofollow" target="_blank">掌握句子相似度的句子变形器</a></li><li id="5b06" class="ly lz it ld b le mh lh mi lk mj lo mk ls ml lw md me mf mg bi translated"><a class="ae lx" href="https://predictivehacks.com/how-to-fine-tune-an-nlp-regression-model-with-transformers-and-huggingface/" rel="noopener ugc nofollow" target="_blank">如何使用Transformers和HuggingFace微调NLP回归模型</a></li><li id="bdd9" class="ly lz it ld b le mh lh mi lk mj lo mk ls ml lw md me mf mg bi translated"><a class="ae lx" href="https://predictivehacks.com/how-to-build-an-nlp-classification-model-with-transformers-on-aws-sagemaker/" rel="noopener ugc nofollow" target="_blank">如何在AWS SageMaker上用变压器建立NLP分类模型</a></li><li id="1a65" class="ly lz it ld b le mh lh mi lk mj lo mk ls ml lw md me mf mg bi translated"><a class="ae lx" href="https://predictivehacks.com/how-to-fine-tuned-an-nlp-classification-model-with-transformers-and-huggingface/" rel="noopener ugc nofollow" target="_blank">如何使用变压器和HuggingFace微调NLP分类模型</a></li><li id="08fa" class="ly lz it ld b le mh lh mi lk mj lo mk ls ml lw md me mf mg bi translated"><a class="ae lx" href="https://predictivehacks.com/how-to-paraphrase-documents-using-transformers/" rel="noopener ugc nofollow" target="_blank">如何使用变形金刚意译文档</a></li><li id="5399" class="ly lz it ld b le mh lh mi lk mj lo mk ls ml lw md me mf mg bi translated"><a class="ae lx" href="https://predictivehacks.com/answering-questions-with-transformers/" rel="noopener ugc nofollow" target="_blank">用变形金刚回答问题</a></li><li id="879f" class="ly lz it ld b le mh lh mi lk mj lo mk ls ml lw md me mf mg bi translated"><a class="ae lx" href="https://predictivehacks.com/text-summarization-with-transformers/" rel="noopener ugc nofollow" target="_blank">变形金刚文本摘要</a></li><li id="328c" class="ly lz it ld b le mh lh mi lk mj lo mk ls ml lw md me mf mg bi translated"><a class="ae lx" href="https://predictivehacks.com/?all-tips=how-to-change-column-names-in-huggingface-datasets" rel="noopener ugc nofollow" target="_blank">如何更改HuggingFace数据集中的列名</a></li><li id="2f32" class="ly lz it ld b le mh lh mi lk mj lo mk ls ml lw md me mf mg bi translated"><a class="ae lx" href="https://predictivehacks.com/?all-tips=how-to-load-csv-files-as-huggingface-dataset" rel="noopener ugc nofollow" target="_blank">如何加载CSV文件作为Huggingface数据集</a></li></ul></div><div class="ab cl oy oz hx pa" role="separator"><span class="pb bw bk pc pd pe"/><span class="pb bw bk pc pd pe"/><span class="pb bw bk pc pd"/></div><div class="im in io ip iq"><p id="7d7e" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">最初由<a class="ae lx" href="https://predictivehacks.com/get-started-with-hugging-face-auto-train/" rel="noopener ugc nofollow" target="_blank">预测黑客</a>发布</p></div></div>    
</body>
</html>