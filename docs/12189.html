<html>
<head>
<title>Creating a Basic Login App using Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Flutter创建一个基本的登录应用程序</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/creating-a-basic-login-app-using-flutter-2493bba87263?source=collection_archive---------5-----------------------#2022-05-22">https://levelup.gitconnected.com/creating-a-basic-login-app-using-flutter-2493bba87263?source=collection_archive---------5-----------------------#2022-05-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="17f1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Flutter基于Dart。它允许开发web、ios、android和桌面应用程序。我绝不是专业的flutter开发者，我只是刚刚开始学习。在本文中，我要做的就是用Firebase和Flutter (firebase_auth，firebase_core和素材库)创建一个非常基础的登录app。</p><p id="1391" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先下载颤振去这里:<a class="ae kl" href="https://docs.flutter.dev/get-started/install/macos" rel="noopener ugc nofollow" target="_blank">https://docs.flutter.dev/get-started/install/</a></p><p id="86b0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下载完成后，在您的终端中使用下面的命令创建一个文件夹。</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="5608" class="kv kw iq kr b gy kx ky l kz la">flutter create</span></pre><p id="d1f6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你还需要创建一个firebase项目:你可以在这里做:【https://console.firebase.google.com/<a class="ae kl" href="https://console.firebase.google.com/u/0/" rel="noopener ugc nofollow" target="_blank"/></p><p id="0091" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦创建了firebase项目，就可以进行身份验证并创建一些测试用户。</p><figure class="km kn ko kp gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi lb"><img src="../Images/1756b4720702a600ba2df5d81f80da5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*74cMrRWpPg8KVBIMThSl-w.png"/></div></div></figure><p id="d0f2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">运行这里找到的安装命令，在你的项目文件夹中获得必要的firebase依赖项:【https://firebase.google.com/docs/flutter/setup?authuser=0】T4&amp;HL = en&amp;platform = IOs # available-plugins。确保登录到firebase，以便连接到正确的firebase项目。接下来安装firebase _ auth<a class="ae kl" href="https://pub.dev/packages/firebase_auth/install" rel="noopener ugc nofollow" target="_blank">https://pub.dev/packages/firebase_auth/install</a>。这应该会将包作为一行添加到您的pubspec.yaml文件中。</p><figure class="km kn ko kp gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi lj"><img src="../Images/eda4c8159a870b396ad78e401e8fe48d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*McfjgL8XJBX4QCFaXI-LuA.png"/></div></div></figure><p id="6355" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将创建三个文件:main.dart、home.dart和login_page.dart。</p><h1 id="ff8c" class="lk kw iq bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">主.镖</h1><p id="f684" class="pw-post-body-paragraph jn jo iq jp b jq mh js jt ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk ij bi translated">在lib中应该有一个名为main.dart的文件。在这个文件中，我们将初始化我们的应用程序。</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="5776" class="kv kw iq kr b gy kx ky l kz la">import 'package:flutter/material.dart';</span><span id="c28f" class="kv kw iq kr b gy mm ky l kz la">import 'package:firebase_auth/firebase_auth.dart';</span><span id="64d5" class="kv kw iq kr b gy mm ky l kz la">import 'package:firebase_core/firebase_core.dart';</span><span id="38db" class="kv kw iq kr b gy mm ky l kz la">import 'firebase_options.dart'; // the file generated by initializing firebase in your project directory</span><span id="2d3c" class="kv kw iq kr b gy mm ky l kz la">import 'login_page.dart'; // we'll be adding this file after</span><span id="2fec" class="kv kw iq kr b gy mm ky l kz la">Future&lt;void&gt; main() async {<br/>await Firebase.initializeApp(</span><span id="5ec5" class="kv kw iq kr b gy mm ky l kz la">options: DefaultFirebaseOptions.currentPlatform,</span><span id="4e0b" class="kv kw iq kr b gy mm ky l kz la">); // connect to firebase</span><span id="93ec" class="kv kw iq kr b gy mm ky l kz la">runApp(App());  // run app</span><span id="9c53" class="kv kw iq kr b gy mm ky l kz la">}</span><span id="23e7" class="kv kw iq kr b gy mm ky l kz la">// the ui of the app</span><span id="7d5d" class="kv kw iq kr b gy mm ky l kz la">class App extends StatelessWidget {</span><span id="685b" class="kv kw iq kr b gy mm ky l kz la">@override</span><span id="67fb" class="kv kw iq kr b gy mm ky l kz la">Widget build(BuildContext context) {</span><span id="405f" class="kv kw iq kr b gy mm ky l kz la">return MaterialApp(</span><span id="d67f" class="kv kw iq kr b gy mm ky l kz la">title: 'Flutter Demo',</span><span id="9963" class="kv kw iq kr b gy mm ky l kz la">theme: ThemeData(</span><span id="b443" class="kv kw iq kr b gy mm ky l kz la">primarySwatch: Colors.blue,</span><span id="a8d1" class="kv kw iq kr b gy mm ky l kz la">),</span><span id="7d17" class="kv kw iq kr b gy mm ky l kz la">home: LoginPage(),</span><span id="71c6" class="kv kw iq kr b gy mm ky l kz la">);</span><span id="45a0" class="kv kw iq kr b gy mm ky l kz la">}</span><span id="e016" class="kv kw iq kr b gy mm ky l kz la">}</span></pre><h1 id="1c05" class="lk kw iq bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated"><strong class="ak">登录Page.dart </strong></h1><p id="7d8a" class="pw-post-body-paragraph jn jo iq jp b jq mh js jt ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk ij bi translated">下面的登录页面代码将使用一个名为“Form”的小部件。当这个表单被提交(通过按提升的按钮部件)时，将运行一个名为“onPressed”的异步函数。当被触发时，该功能将通过firebase验证电子邮件和密码是否正确，然后使用导航器将用户推至主页。</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="69cc" class="kv kw iq kr b gy kx ky l kz la">import 'package:flutter/material.dart';</span><span id="9eab" class="kv kw iq kr b gy mm ky l kz la">import 'home.dart';</span><span id="36f6" class="kv kw iq kr b gy mm ky l kz la">import 'package:firebase_auth/firebase_auth.dart';</span><span id="92ed" class="kv kw iq kr b gy mm ky l kz la">class LoginPage extends StatefulWidget {</span><span id="29d8" class="kv kw iq kr b gy mm ky l kz la">@override</span><span id="faf7" class="kv kw iq kr b gy mm ky l kz la">_LoginPageState createState() =&gt; _LoginPageState();</span><span id="1f7d" class="kv kw iq kr b gy mm ky l kz la">}</span><span id="6529" class="kv kw iq kr b gy mm ky l kz la">class _LoginPageState extends State&lt;LoginPage&gt;{</span><span id="ca92" class="kv kw iq kr b gy mm ky l kz la">final _formKey = GlobalKey&lt;FormState&gt;();</span><span id="8e80" class="kv kw iq kr b gy mm ky l kz la">String? _password='';</span><span id="4ef1" class="kv kw iq kr b gy mm ky l kz la">String? _email='';</span><span id="1b65" class="kv kw iq kr b gy mm ky l kz la">@override</span><span id="eb2e" class="kv kw iq kr b gy mm ky l kz la">Widget build(BuildContext context){</span><span id="d531" class="kv kw iq kr b gy mm ky l kz la">return Scaffold(</span><span id="afcd" class="kv kw iq kr b gy mm ky l kz la">appBar:AppBar(</span><span id="d98b" class="kv kw iq kr b gy mm ky l kz la">title:Text('Login'),</span><span id="ca8a" class="kv kw iq kr b gy mm ky l kz la">),</span><span id="988c" class="kv kw iq kr b gy mm ky l kz la">body: Container(</span><span id="d742" class="kv kw iq kr b gy mm ky l kz la">padding: EdgeInsets.all(20.0),</span><span id="5536" class="kv kw iq kr b gy mm ky l kz la">child: Form(</span><span id="97fe" class="kv kw iq kr b gy mm ky l kz la">key: _formKey, // for validating the fields</span><span id="2ac4" class="kv kw iq kr b gy mm ky l kz la">child: Column(</span><span id="4caf" class="kv kw iq kr b gy mm ky l kz la">//set password</span><span id="3d38" class="kv kw iq kr b gy mm ky l kz la">children: &lt;Widget&gt;[</span><span id="23fc" class="kv kw iq kr b gy mm ky l kz la">Text(</span><span id="b9ee" class="kv kw iq kr b gy mm ky l kz la">'Login Information',</span><span id="df03" class="kv kw iq kr b gy mm ky l kz la">style: TextStyle(fontSize: 20),</span><span id="b1a8" class="kv kw iq kr b gy mm ky l kz la">),</span><span id="a11d" class="kv kw iq kr b gy mm ky l kz la">TextFormField(</span><span id="99ef" class="kv kw iq kr b gy mm ky l kz la">onSaved: (value) =&gt; _email= value,</span><span id="a5a0" class="kv kw iq kr b gy mm ky l kz la">keyboardType: TextInputType.emailAddress,</span><span id="a051" class="kv kw iq kr b gy mm ky l kz la">decoration: InputDecoration(labelText: "Email Address")),</span><span id="5a74" class="kv kw iq kr b gy mm ky l kz la">TextFormField(</span><span id="7e14" class="kv kw iq kr b gy mm ky l kz la">onSaved: (value) =&gt; _password=value.toString(),</span><span id="bab2" class="kv kw iq kr b gy mm ky l kz la">obscureText: true,</span><span id="29de" class="kv kw iq kr b gy mm ky l kz la">decoration: InputDecoration(labelText: "Password")),</span><span id="6b92" class="kv kw iq kr b gy mm ky l kz la">ElevatedButton(child: Text("Login"), onPressed: () async{</span><span id="8f0c" class="kv kw iq kr b gy mm ky l kz la">final form = _formKey.currentState;</span><span id="16eb" class="kv kw iq kr b gy mm ky l kz la">print('form: $_formKey');</span><span id="96f0" class="kv kw iq kr b gy mm ky l kz la">if(form != null &amp;&amp; _email != null &amp;&amp; _password != null){</span><span id="2428" class="kv kw iq kr b gy mm ky l kz la">form.save();</span><span id="980c" class="kv kw iq kr b gy mm ky l kz la">if (form.validate()){</span><span id="c0e9" class="kv kw iq kr b gy mm ky l kz la">try {</span><span id="b445" class="kv kw iq kr b gy mm ky l kz la">var result = await FirebaseAuth.instance</span><span id="79e7" class="kv kw iq kr b gy mm ky l kz la">.signInWithEmailAndPassword(email: _email.toString(), password: _password.toString());</span><span id="85b6" class="kv kw iq kr b gy mm ky l kz la">Navigator.push(</span><span id="6933" class="kv kw iq kr b gy mm ky l kz la">context,</span><span id="b9ad" class="kv kw iq kr b gy mm ky l kz la">MaterialPageRoute(builder: (context) =&gt; HomePage()),</span><span id="0cfc" class="kv kw iq kr b gy mm ky l kz la">);</span><span id="02d8" class="kv kw iq kr b gy mm ky l kz la">}  catch (e) {</span><span id="2b7b" class="kv kw iq kr b gy mm ky l kz la">print("error");</span><span id="0667" class="kv kw iq kr b gy mm ky l kz la">}</span><span id="1efa" class="kv kw iq kr b gy mm ky l kz la">}</span><span id="c2be" class="kv kw iq kr b gy mm ky l kz la">}</span><span id="00aa" class="kv kw iq kr b gy mm ky l kz la">}),</span><span id="d4dc" class="kv kw iq kr b gy mm ky l kz la">],</span><span id="0fe0" class="kv kw iq kr b gy mm ky l kz la">),</span><span id="4fa0" class="kv kw iq kr b gy mm ky l kz la">),</span><span id="7ae3" class="kv kw iq kr b gy mm ky l kz la">),</span><span id="7d7b" class="kv kw iq kr b gy mm ky l kz la">);</span><span id="03fb" class="kv kw iq kr b gy mm ky l kz la">}</span><span id="fdcc" class="kv kw iq kr b gy mm ky l kz la">}</span></pre><h1 id="7cb4" class="lk kw iq bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">Home.dart</h1><p id="a725" class="pw-post-body-paragraph jn jo iq jp b jq mh js jt ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk ij bi translated">这是一个基本的主页。</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="1e28" class="kv kw iq kr b gy kx ky l kz la">import 'package:flutter/material.dart';</span><span id="5893" class="kv kw iq kr b gy mm ky l kz la">class HomePage extends StatefulWidget {</span><span id="8be5" class="kv kw iq kr b gy mm ky l kz la">@override</span><span id="067e" class="kv kw iq kr b gy mm ky l kz la">_HomePageState createState() =&gt; _HomePageState();</span><span id="d69c" class="kv kw iq kr b gy mm ky l kz la">}</span><span id="0fad" class="kv kw iq kr b gy mm ky l kz la">class _HomePageState extends State&lt;HomePage&gt; {</span><span id="671e" class="kv kw iq kr b gy mm ky l kz la">@override</span><span id="6197" class="kv kw iq kr b gy mm ky l kz la">Widget build(BuildContext context) {</span><span id="61e2" class="kv kw iq kr b gy mm ky l kz la">return  Scaffold(</span><span id="a979" class="kv kw iq kr b gy mm ky l kz la">appBar: AppBar(</span><span id="d21b" class="kv kw iq kr b gy mm ky l kz la">title: Text("Home Flutter Firebase"),</span><span id="ee50" class="kv kw iq kr b gy mm ky l kz la">//actions: &lt;Widget&gt;[LogoutButton()],</span><span id="0974" class="kv kw iq kr b gy mm ky l kz la">),</span><span id="61f0" class="kv kw iq kr b gy mm ky l kz la">body: Center(</span><span id="f5a4" class="kv kw iq kr b gy mm ky l kz la">child: Text('Home Page Flutter Firebase  Content'),</span><span id="38ef" class="kv kw iq kr b gy mm ky l kz la">),</span><span id="425b" class="kv kw iq kr b gy mm ky l kz la">);</span><span id="fb74" class="kv kw iq kr b gy mm ky l kz la">}</span><span id="edef" class="kv kw iq kr b gy mm ky l kz la">}</span></pre><p id="8dc0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">创建完这三个文件后，您可以运行</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="f07b" class="kv kw iq kr b gy kx ky l kz la">flutter run</span></pre><p id="d09c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您应该会看到登录屏幕。输入之前创建的测试帐户，然后登录。</p><figure class="km kn ko kp gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi mn"><img src="../Images/ba8b5917ef3cc4d36d3031ea721c691a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VoH3YRdpMp3bTf2WvE4ZiQ.png"/></div></div></figure><figure class="km kn ko kp gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi mo"><img src="../Images/2e842767fd3e7ca98adf7cb2d84af1a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*plyHTvOver_MAvRstcQYSw.png"/></div></div></figure><p id="f245" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">搞定了。</p></div></div>    
</body>
</html>