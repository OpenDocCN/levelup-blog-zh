<html>
<head>
<title>Edit Someone Else’s Website: contenteditable &amp; designMode</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">编辑别人的网站:内容可编辑&amp;设计模式</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/edit-someone-elses-website-contenteditable-designmode-eb1b9fe4c0d5?source=collection_archive---------17-----------------------#2022-10-19">https://levelup.gitconnected.com/edit-someone-elses-website-contenteditable-designmode-eb1b9fe4c0d5?source=collection_archive---------17-----------------------#2022-10-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/149ddfab03f1aa76c04659c0e32028cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pw2LqM_vYu-MotfxZNW4lw.png"/></div></div></figure><div class=""/><figure class="gl gn kb kc kd iv"><div class="bz fp l di"><div class="ke kf l"/></div></figure><p id="d0fb" class="pw-post-body-paragraph kg kh je ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我第一次打开我的devtools并改变一个网站的内容时，我真的以为我黑了它。我想，“天哪，我释放了什么样的疯狂力量？”</p><p id="925f" class="pw-post-body-paragraph kg kh je ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我一点也不知道这只是一个局部变化，当我重新加载浏览器时就会消失。尽管如此，想到我们能做到这一点还是很酷的。</p><p id="1450" class="pw-post-body-paragraph kg kh je ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我今天提出来，是因为实际上有几个API是相关的，我想强调一下。</p><h1 id="ebd8" class="le lf je bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><code class="fe mc md me mf b">contenteditable</code></h1><p id="101f" class="pw-post-body-paragraph kg kh je ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated"><code class="fe mc md me mf b"><a class="ae ml" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/contenteditable" rel="noopener ugc nofollow" target="_blank">contenteditable</a></code>是一个HTML属性，当被赋予<code class="fe mc md me mf b">"true"</code>的值时，允许从前端修改元素的内容。</p><p id="dde0" class="pw-post-body-paragraph kg kh je ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mc md me mf b">contenteditable</code>很酷，因为你可以将它添加到任何你想要的HTML元素中，并允许用户从他们的终端修改该元素的内容。</p><p id="7c79" class="pw-post-body-paragraph kg kh je ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，如果你首先想到的是一个低成本的网站可视化编辑器，不幸的是，<code class="fe mc md me mf b"><a class="ae ml" href="https://medium.engineering/why-contenteditable-is-terrible-122d8a40e480" rel="noopener ugc nofollow" target="_blank">contenteditable</a></code> <a class="ae ml" href="https://medium.engineering/why-contenteditable-is-terrible-122d8a40e480" rel="noopener ugc nofollow" target="_blank">并不是一个很好的解决方案</a>。它有很多陷阱，业界一致认为这不是正确的方法。</p><p id="e77b" class="pw-post-body-paragraph kg kh je ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">(参见<a class="ae ml" href="https://twitter.com/nicksantos" rel="noopener ugc nofollow" target="_blank">尼克·桑托斯</a>的《<a class="ae ml" href="https://medium.engineering/why-contenteditable-is-terrible-122d8a40e480" rel="noopener ugc nofollow" target="_blank">为什么内容可编辑很糟糕</a>)</p><p id="ea91" class="pw-post-body-paragraph kg kh je ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，这是我想分享的一个非常有趣的特性。我提出这一点是因为contenteditable是对我想分享的下一件事的很好介绍。</p><h1 id="b44c" class="le lf je bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><code class="fe mc md me mf b">designMode</code></h1><p id="7811" class="pw-post-body-paragraph kg kh je ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">在<code class="fe mc md me mf b">document</code>对象上有一个名为<code class="fe mc md me mf b"><a class="ae ml" href="https://developer.mozilla.org/en-US/docs/Web/API/Document/designMode" rel="noopener ugc nofollow" target="_blank">designMode</a></code>的API，你可以将它设置为<code class="fe mc md me mf b">"on"</code>或<code class="fe mc md me mf b">"off"</code>。这个<code class="fe mc md me mf b">designMode</code>很酷的一点是它允许您在整个文档上启用那个<code class="fe mc md me mf b">contenteditable</code>状态。</p><p id="9699" class="pw-post-body-paragraph kg kh je ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以我们可以去我的网站，打开devtools，将<code class="fe mc md me mf b">document.designMode</code>设置为<code class="fe mc md me mf b">"on"</code>，然后关闭devtools，现在网站上的所有内容都可以编辑了。</p><pre class="mm mn mo mp gt mq mf mr ms aw mt bi"><span id="ab71" class="mu lf je mf b gy mv mw l mx my">document.designMode = "on"</span></pre><p id="0d98" class="pw-post-body-paragraph kg kh je ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这意味着只需几次点击和击键，我们就可以将它变成:</p><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mz"><img src="../Images/8810518be2e0056caee9900e1f85d378.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*io1Vv41IHeSttB25.png"/></div></div></figure><p id="fdc2" class="pw-post-body-paragraph kg kh je ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">变成这样:</p><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mz"><img src="../Images/003fdf8a54398af69166076d20ff93d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*OUtzIcmTFq8bWm9H.png"/></div></div></figure><p id="bddf" class="pw-post-body-paragraph kg kh je ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">怎么样？我已经破坏了我自己的网站。</p><p id="6392" class="pw-post-body-paragraph kg kh je ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你没有听说过这两个浏览器特性，我不会感到惊讶，因为它们相当罕见。原因是它们没有太多很好的用例。</p><p id="16f3" class="pw-post-body-paragraph kg kh je ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">也许你可以创建一个浏览器扩展来打开和关闭<code class="fe mc md me mf b">designMode</code>。然后允许用户轻松地修改网页，以便向团队成员提供反馈，或者可以在屏幕截图中捕捉它，或者将其发送到Slack或GitHub。我不知道，我敢肯定那里有一些东西，但它可能不会经常对大多数人有用。</p><p id="4234" class="pw-post-body-paragraph kg kh je ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">…除非你和我一样，喜欢给《纽约时报》写讽刺文章的标题。</p><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mz"><img src="../Images/cd60ad5e713238fae26e677e34183904.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1oGaF4n8sGRu7-4p.png"/></div></div></figure><p id="4990" class="pw-post-body-paragraph kg kh je ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">出于法律原因，让我明确声明:我不鼓励或提倡使用这些功能来修改网站，传播错误信息。那是一件可怕的事情。</p><p id="1088" class="pw-post-body-paragraph kg kh je ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，这些都是很酷、很有趣的API，我想我应该分享一下。</p><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi na"><img src="../Images/5da66835bd6fa74e60505b9349e89da1.png" data-original-src="https://miro.medium.com/v2/resize:fit:2/0*rF-tgFrRJrdWIKkT.gif"/></div></figure><p id="63bc" class="pw-post-body-paragraph kg kh je ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">非常感谢您的阅读。如果你喜欢这篇文章，请<a class="ae ml" href="https://twitter.com/share?via=heyAustinGil" rel="noopener ugc nofollow" target="_blank">分享给</a>。这是支持我的最好方式之一。你也可以<a class="ae ml" href="https://austingil.com/newsletter/" rel="noopener ugc nofollow" target="_blank">注册我的时事通讯</a>或者<a class="ae ml" href="https://twitter.com/heyAustinGil" rel="noopener ugc nofollow" target="_blank">在Twitter上关注我</a>如果你想知道什么时候有新文章发表。</p></div><div class="ab cl nb nc hx nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="im in io ip iq"><p id="5a03" class="pw-post-body-paragraph kg kh je ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ni">原载于</em><a class="ae ml" href="https://austingil.com/contenteditable-and-designmode/" rel="noopener ugc nofollow" target="_blank"><em class="ni">austingil.com</em></a><em class="ni">。</em></p></div></div>    
</body>
</html>