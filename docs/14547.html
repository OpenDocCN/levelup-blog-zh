<html>
<head>
<title>Payment System Simplified</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">简化的支付系统</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/payment-system-simplified-c26117f2da1b?source=collection_archive---------13-----------------------#2022-12-06">https://levelup.gitconnected.com/payment-system-simplified-c26117f2da1b?source=collection_archive---------13-----------------------#2022-12-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/19cef9c721ba8bab2e43e0c5db872994.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aW5yhm-XKmZUarqBWje1wQ.png"/></div></div></figure><h1 id="e8c5" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">介绍</h1><p id="1fb7" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">你有没有想过，当用户从网上市场订购商品并点击支付按钮时会发生什么？整个支付交易过程在短短几秒钟内无缝完成，但很多事情都在幕后进行。</p><p id="9f43" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">在这篇文章中，我们将探索在你点击任何购物网站上的支付按钮后发生在幕后的支付过程。</p><h1 id="c788" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">该过程</h1><ol class=""><li id="db91" class="lz ma iq ky b kz la ld le lh mb ll mc lp md lt me mf mg mh bi translated">用户点击支付按钮后，将创建一个新的<strong class="ky ir">支付细节</strong>对象，其中包含订单的所有信息。</li></ol><p id="1b96" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">一个非常简单的<strong class="ky ir">支付细节</strong>看起来像这样，有支付id、总支付金额和订单列表，每个订单包含订单id、订单金额、卖家id等信息。</p><pre class="mi mj mk ml gt mm mn mo bn mp mq bi"><span id="653c" class="mr jz iq mn b be ms mt l mu mv">{<br/>  id: '37874892-b0f9-48af-8b7f',<br/>  total: {<br/>    amount: {<br/>      currency: 'USD',<br/>      value: 89.93,<br/>    },<br/>  },<br/>  orders: [<br/>    {<br/>      id: '0ec07ccf-c431-47aa-b0a9',<br/>      amount: {<br/>        currency: 'USD',<br/>        value: 19.57,<br/>      },<br/>      seller: '9b1deb4d-3b7d-4bad-9bdd',<br/>      ...<br/>    },<br/>    ...<br/>  ],<br/>  ...<br/>};</span></pre><p id="a470" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">2.接下来，<strong class="ky ir">支付细节</strong>对象被发送到<strong class="ky ir">支付服务</strong>，该服务处理网站上的所有订单和支付。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/38af64ae120a8a471b578e6b4f6617c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sXhSLfk9fJyNA7m9aKF-Ow.png"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">支付细节被发送到支付服务</figcaption></figure><p id="3838" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">3.首先，<strong class="ky ir">支付服务</strong>会将此支付存储在<strong class="ky ir">支付数据库</strong>中</p><p id="bc38" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">4.然后，它为每个订单分别调用一个<strong class="ky ir">支付处理程序</strong>服务</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/9b3011c0eab5d421f9856d2a24ed8ac8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fathQQbU8lmlvqlY-5Mv4Q.png"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">支付服务将支付细节存储在数据库中，并调用支付处理服务</figcaption></figure><p id="08b4" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">5.<strong class="ky ir">付款处理器</strong>将该订单存储在<strong class="ky ir">订单数据库</strong>中</p><p id="c108" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">6.它调用<strong class="ky ir">支付服务提供商</strong>，如PayPal或Stripe，执行信用卡支付</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/02c69b34578891c4e8e1bf5526e9166d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dP9w1_LkkTHXj5hssFtRnA.png"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">支付处理程序将订单存储在订单数据库中，并调用PSP来执行支付</figcaption></figure><p id="e3a7" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">7.现在支付已经成功执行，<strong class="ky ir">支付服务</strong>调用<strong class="ky ir">钱包服务</strong></p><p id="2d08" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">8.<strong class="ky ir">钱包服务</strong>通过添加订单支付金额来更新卖家的钱包余额(在<strong class="ky ir">钱包数据库</strong>中)</p><p id="7134" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">9.最后，<strong class="ky ir">支付服务</strong>将调用<strong class="ky ir">总账服务</strong></p><p id="d7b0" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">10.它会将分类帐信息附加到<strong class="ky ir">分类帐数据库</strong></p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/cc2fa84414eab1dd23f789d86b5e23a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*075oL_1Cw8DcVyrXiYbSmA.png"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">支付服务调用钱包和分类帐服务来更新余额</figcaption></figure><h1 id="44b5" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">摘要</h1><p id="d32b" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">这就是简化的支付流程。</p><p id="fa5b" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">过去需要几天的付款过程现在处理得更快了，通常，最多需要2个工作日才能完成付款并出现在卖家的银行账户中，这也有助于买家快速收到订单。</p><p id="801d" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">感谢您阅读并关注每周开发文章。</p></div><div class="ab cl nb nc hu nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ij ik il im in"><h1 id="f45b" class="jy jz iq bd ka kb ni kd ke kf nj kh ki kj nk kl km kn nl kp kq kr nm kt ku kv bi translated">分级编码</h1><p id="66cf" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="9903" class="lz ma iq ky b kz lu ld lv lh nn ll no lp np lt nq mf mg mh bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="c1d3" class="lz ma iq ky b kz nr ld ns lh nt ll nu lp nv lt nq mf mg mh bi translated">📰查看<a class="ae nw" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">级编码出版物</a>中的更多内容</li><li id="2f7c" class="lz ma iq ky b kz nr ld ns lh nt ll nu lp nv lt nq mf mg mh bi translated">🔔关注我们:<a class="ae nw" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">推特</a> | <a class="ae nw" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a> | <a class="ae nw" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="c077" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">🚀👉<a class="ae nw" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">加入升级人才集体，找到一份惊艳的工作</strong> </a></p></div></div>    
</body>
</html>