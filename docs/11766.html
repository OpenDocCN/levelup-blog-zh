<html>
<head>
<title>Generics Example in Go - MinMax</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Go - MinMax中的泛型示例</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/generics-example-in-go-minmax-40593f0adaa8?source=collection_archive---------10-----------------------#2022-04-14">https://levelup.gitconnected.com/generics-example-in-go-minmax-40593f0adaa8?source=collection_archive---------10-----------------------#2022-04-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="fa4d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">仿制药太牛逼了！为什么不试一个例子呢</h2></div><p id="b296" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">泛型编程支持以泛型形式表示函数和数据结构，并去掉了类型。</p><p id="b384" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是什么意思？</p><p id="7b3a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这篇文章用一个例子来说明为什么以及如何在Go中使用泛型。</p><h1 id="c047" class="le lf it bd lg lh li lj lk ll lm ln lo jz lp ka lq kc lr kd ls kf lt kg lu lv bi translated">最小-最大问题</h1><p id="4e6b" class="pw-post-body-paragraph ki kj it kk b kl lw ju kn ko lx jx kq kr ly kt ku kv lz kx ky kz ma lb lc ld im bi translated">给定一系列类型都为整数(浮点或字符串)的值，返回最小值/最大值。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/530a313539af3508afda03017cb56a78.png" data-original-src="https://miro.medium.com/v2/resize:fit:822/format:webp/1*lSt5HR4103wKwkgai82b9Q.jpeg"/></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk translated">最小-最大问题</figcaption></figure><p id="7e10" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在Go1.18之前，处理这个问题非常不方便，因为你必须为不同的类型定义单独的min/max函数。</p><figure class="mc md me mf gt mg"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="969a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">还好！随着Go 1.18中<a class="ae mp" href="https://go.googlesource.com/proposal/+/refs/heads/master/design/43651-type-parameters.md" rel="noopener ugc nofollow" target="_blank">新的被接受的提议</a>，我们终于可以通过使用泛型来简化我们的生活了。</p><h1 id="f58f" class="le lf it bd lg lh li lj lk ll lm ln lo jz lp ka lq kc lr kd ls kf lt kg lu lv bi translated">泛型概念概述</h1><ul class=""><li id="4b92" class="mq mr it kk b kl lw ko lx kr ms kv mt kz mu ld mv mw mx my bi translated">函数可以有一个额外的<strong class="kk iu">类型参数列表</strong>，它使用方括号，但看起来像一个普通的参数列表:<code class="fe mz na nb nc b">func Function<strong class="kk iu">[</strong>T any<strong class="kk iu">]</strong>(p T) { ... }</code>。</li><li id="4ef7" class="mq mr it kk b kl nd ko ne kr nf kv ng kz nh ld mv mw mx my bi translated">这些类型参数可以由常规参数和函数体使用。</li><li id="483a" class="mq mr it kk b kl nd ko ne kr nf kv ng kz nh ld mv mw mx my bi translated">类型也可以有一个类型参数列表:<code class="fe mz na nb nc b">type M[T any] []T</code>。</li><li id="7d3a" class="mq mr it kk b kl nd ko ne kr nf kv ng kz nh ld mv mw mx my bi translated">每个类型参数都有一个<strong class="kk iu">类型约束</strong>，就像每个普通参数都有一个类型:<code class="fe mz na nb nc b">func Function[T <strong class="kk iu">Constraint</strong>](p T) { ... }</code>。</li><li id="a7a8" class="mq mr it kk b kl nd ko ne kr nf kv ng kz nh ld mv mw mx my bi translated">类型约束是接口类型。</li><li id="a767" class="mq mr it kk b kl nd ko ne kr nf kv ng kz nh ld mv mw mx my bi translated">新的预声明名称<code class="fe mz na nb nc b">any</code>是一个允许任何类型的类型约束。</li><li id="97ec" class="mq mr it kk b kl nd ko ne kr nf kv ng kz nh ld mv mw mx my bi translated">泛型函数只能使用约束所允许的所有类型支持的操作。</li><li id="d743" class="mq mr it kk b kl nd ko ne kr nf kv ng kz nh ld mv mw mx my bi translated">使用泛型函数或类型需要传递类型参数。</li><li id="4de7" class="mq mr it kk b kl nd ko ne kr nf kv ng kz nh ld mv mw mx my bi translated"><strong class="kk iu">类型推断</strong>允许在一般情况下省略函数调用的类型参数。</li></ul><h1 id="36f3" class="le lf it bd lg lh li lj lk ll lm ln lo jz lp ka lq kc lr kd ls kf lt kg lu lv bi translated">泛型函数声明示例</h1><figure class="mc md me mf gt mg"><div class="bz fp l di"><div class="mn mo l"/></div></figure><h2 id="3589" class="ni lf it bd lg nj nk dn lk nl nm dp lo kr nn no lq kv np nq ls kz nr ns lu nt bi translated">说明</h2><h2 id="ae2a" class="ni lf it bd lg nj nk dn lk nl nm dp lo kr nn no lq kv np nq ls kz nr ns lu nt bi translated">第6行</h2><p id="b750" class="pw-post-body-paragraph ki kj it kk b kl lw ju kn ko lx jx kq kr ly kt ku kv lz kx ky kz ma lb lc ld im bi translated">包<code class="fe mz na nb nc b">constraints</code>定义了一组与类型参数一起使用的有用约束。</p><h2 id="0cef" class="ni lf it bd lg nj nk dn lk nl nm dp lo kr nn no lq kv np nq ls kz nr ns lu nt bi translated">第9行</h2><p id="9e46" class="pw-post-body-paragraph ki kj it kk b kl lw ju kn ko lx jx kq kr ly kt ku kv lz kx ky kz ma lb lc ld im bi translated"><code class="fe mz na nb nc b">Ordered</code>是一个约束，允许任何支持运算符&lt; &lt; = &gt; = &gt;的有序类型，例如<code class="fe mz na nb nc b">int</code> <code class="fe mz na nb nc b">float</code> <code class="fe mz na nb nc b">string</code></p><p id="247f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">参数<code class="fe mz na nb nc b">args</code>被称为<em class="nu">可变参数</em>,因为它可以用任意数量的t类型尾随参数调用</p><p id="17ce" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">记住在函数实现中可变参数的类型是[]T；但是，可变参数的类型是...函数声明中的t。</p><h1 id="f3f7" class="le lf it bd lg lh li lj lk ll lm ln lo jz lp ka lq kc lr kd ls kf lt kg lu lv bi translated">泛型功能测试</h1><p id="bee5" class="pw-post-body-paragraph ki kj it kk b kl lw ju kn ko lx jx kq kr ly kt ku kv lz kx ky kz ma lb lc ld im bi translated">测试上面的代码非常容易；你需要运行代码。</p><pre class="mc md me mf gt nv nc nw nx aw ny bi"><span id="077d" class="ni lf it nc b gy nz oa l ob oc">go test -v</span></pre><figure class="mc md me mf gt mg"><div class="bz fp l di"><div class="mn mo l"/></div></figure></div><div class="ab cl od oe hx of" role="separator"><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi"/></div><div class="im in io ip iq"><p id="fc98" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我希望你喜欢读这篇文章😄。如果你想支持我☕作为一个作家，考虑注册<a class="ae mp" href="https://jerryan.medium.com/membership" rel="noopener">成为一个媒体成员</a>。你还可以无限制地访问媒体上的每个故事。</p><h2 id="eb21" class="ni lf it bd lg nj nk dn lk nl nm dp lo kr nn no lq kv np nq ls kz nr ns lu nt bi translated">资源</h2><ul class=""><li id="b08f" class="mq mr it kk b kl lw ko lx kr ms kv mt kz mu ld mv mw mx my bi translated"><a class="ae mp" href="https://go.googlesource.com/proposal/+/refs/heads/master/design/43651-type-parameters.md" rel="noopener ugc nofollow" target="_blank">https://go . Google source . com/proposal/+/refs/heads/master/design/43651-type-parameters . MD</a></li><li id="3a5c" class="mq mr it kk b kl nd ko ne kr nf kv ng kz nh ld mv mw mx my bi translated"><a class="ae mp" href="https://github.com/mattn/go-generics-example" rel="noopener ugc nofollow" target="_blank"> Go仿制药的例子</a></li><li id="d6ec" class="mq mr it kk b kl nd ko ne kr nf kv ng kz nh ld mv mw mx my bi translated"><a class="ae mp" href="https://github.com/akutz/go-generics-the-hard-way" rel="noopener ugc nofollow" target="_blank">走仿制药这条路</a></li><li id="21b6" class="mq mr it kk b kl nd ko ne kr nf kv ng kz nh ld mv mw mx my bi translated"><a class="ae mp" href="https://codilime.com/blog/generics-in-go-definition-history-and-examples-of-use/" rel="noopener ugc nofollow" target="_blank">泛型编程替代品—在Go 1.18之前</a></li><li id="1033" class="mq mr it kk b kl nd ko ne kr nf kv ng kz nh ld mv mw mx my bi translated"><a class="ae mp" href="https://itnext.io/generics-in-golang-1-18-no-need-to-write-max-min-anymore-maybe-d79f3392ca38" rel="noopener ugc nofollow" target="_blank">https://it next . io/generics-in-golang-1-18-no-need-to-write-max-min-more-maybe-d79f 3392 ca 38</a></li></ul></div></div>    
</body>
</html>