<html>
<head>
<title>Lambda Cold Starts, What’s the Problem?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Lambda冷启动，有什么问题？</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/lambda-cold-starts-d9489fbc4bf8?source=collection_archive---------11-----------------------#2021-02-18">https://levelup.gitconnected.com/lambda-cold-starts-d9489fbc4bf8?source=collection_archive---------11-----------------------#2021-02-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3235" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">冷起动不是问题，或者至少应该是问题</h2></div><p id="47f3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb">由DPG媒体的AWS云解决方案架构师Gert Leenders撰写</em></p><p id="b7e0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">当我说Lambda冷启动是一个受欢迎的讨论话题时，我在陈述明显的事实。DPG媒体也不例外。我已经花了相当多的时间在DPG媒体的咖啡角进行冷启动讨论。所以为什么不写下来呢，对吗？</strong></p><p id="8e4a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我经常听到人们抱怨Lambda冷启动。这经常导致数小时的讨论和耗时的寻找答案。对我来说，Lambda冷启动不是问题，或者至少应该是问题。请允许我解释这是为什么。</p><h1 id="8b0d" class="lc ld iq bd le lf lg lh li lj lk ll lm jw ln jx lo jz lp ka lq kc lr kd ls lt bi translated">大数定律</h1><p id="b88c" class="pw-post-body-paragraph kf kg iq kh b ki lu jr kk kl lv ju kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">语境决定一切。如果您的无服务器应用程序每八小时只需处理一个客户，那么是的，Lambda冷启动可能会对您造成严重打击。至少不难想象它不会被忽视。另一方面，如果您运行一个平均处理1000个并发用户的服务，那么很有可能冷启动会迷失在人群中。我猜它甚至不会出现在你的95%统计中。因此，在做出有利于Lambdas的架构决策时，请记住您的服务的上下文。</p><h1 id="3f9c" class="lc ld iq bd le lf lg lh li lj lk ll lm jw ln jx lo jz lp ka lq kc lr kd ls lt bi translated">票据法律</h1><p id="ec3c" class="pw-post-body-paragraph kf kg iq kh b ki lu jr kk kl lv ju kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">谈论大数定律将我们无缝地带入第二个话题:<a class="ae lz" href="https://en.wikipedia.org/wiki/Law_of_the_instrument" rel="noopener ugc nofollow" target="_blank">工具定律</a>。</p><p id="64dc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">虽然我爱用Lambda，但它不是金锤。如果冷启动严重伤害了你——特别是在请求数量很少的情况下——那么Lambda可能不是这项工作的合适工具。我同意，很可能这是最便宜的选择。但是为了捍卫价格，我认为您的时间太宝贵了，不应该投资于一个项目，因为额外的一便士购买一个ECS Fargate容器或一个t3a.nano EC2实例会导致交易失败。此外，在请求数量较少的情况下，可能不需要进行伸缩。因此，我们也可以将易于扩展的Lambda优势排除在外。</p><figure class="mb mc md me gt mf gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi ma"><img src="../Images/900133b8a705cd9f012b411f561ff254.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AdaSY5qokvxYMJME"/></div></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk translated">Todd Quackenbush 在<a class="ae lz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><h1 id="1de8" class="lc ld iq bd le lf lg lh li lj lk ll lm jw ln jx lo jz lp ka lq kc lr kd ls lt bi translated">冷启动与λ纠缠在一起</h1><p id="24f7" class="pw-post-body-paragraph kf kg iq kh b ki lu jr kk kl lv ju kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">在这一点上，我已经应该让你相信冷启动是与λ纠缠在一起的。正如每项技术一样，它既有优点也有缺点。软件架构师的工作是考虑技术的各个方面，并为这项工作选择最好的工具。这是一种权衡，Lambda以非常低的价格为您提供了强大的功能和可伸缩性。然而，这是以时不时的较慢响应为代价的…</p><h1 id="acbc" class="lc ld iq bd le lf lg lh li lj lk ll lm jw ln jx lo jz lp ka lq kc lr kd ls lt bi translated">供应的并发性如何？</h1><p id="287a" class="pw-post-body-paragraph kf kg iq kh b ki lu jr kk kl lv ju kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated"><a class="ae lz" href="https://aws.amazon.com/blogs/aws/new-provisioned-concurrency-for-lambda-functions/" rel="noopener ugc nofollow" target="_blank">自2019年12月起，可以为Lambda </a>启用预配并发。对于某些用例来说，它无疑具有附加值。另一方面，你使用它会付出一些额外的代价，如果你跨过了配置的门槛，你会感到和以前一样的痛苦。</p><p id="fc71" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">即使是现在，随着供应的并发可用，冷启动只是Lambda的一部分。我仍然相信，在大多数用例中，冷启动不会对您的应用程序产生明显的影响。如果是这样，您应该弄清楚好处(灵活性和易于扩展)是否超过冷启动。</p><h1 id="73aa" class="lc ld iq bd le lf lg lh li lj lk ll lm jw ln jx lo jz lp ka lq kc lr kd ls lt bi translated">编程语言的选择</h1><p id="d74c" class="pw-post-body-paragraph kf kg iq kh b ki lu jr kk kl lv ju kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">最后，我想多花一分钟讨论一下关于编程语言对Lambda冷启动的影响的争论。在这场辩论中让我恼火的是，它跑题了。</p><p id="3ede" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我见过的冷启动案例中，语言选择增加的延迟开销与Lambda源代码本身增加的延迟形成了鲜明对比。查询AWS SSM参数存储的一次往返已经比通过Lambda冷启动的最快和最慢语言之间的差异具有更大的影响。</p></div></div>    
</body>
</html>