<html>
<head>
<title>How to Set Up a Web Server Using Node.js and Express</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Node.js和Express设置Web服务器</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-set-up-a-web-server-using-node-js-and-express-ff03ec14ae3b?source=collection_archive---------10-----------------------#2021-07-27">https://levelup.gitconnected.com/how-to-set-up-a-web-server-using-node-js-and-express-ff03ec14ae3b?source=collection_archive---------10-----------------------#2021-07-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1163" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Node.js和Express简介</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9c4afac16e6b07e4107fd8d8da1eedac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-Hbafhd-UXXKSc5X"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@stickermule?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">贴纸骡子</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><p id="66d3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为一个前端开发者，后端让我害怕。工作中，经常看一眼服务器端的代码，却感觉完全迷失了。</p><p id="8aaa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，作为一名开发人员，继续学习并保持好奇心是很重要的。所以我2021年下半年的目标是开始学习后端开发。这是我未来成为全栈开发者的第一步。</p><p id="f7e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我始终相信，学习一件事情的最好方法之一就是教它。因此，在这一系列文章中，我将向您介绍我一直在学习的后端开发部分。请加入我的旅程，我将尝试使用Node.js、Express和MongoDB构建一个功能完整的后端。</p><p id="c52e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在第一篇文章中，我们将研究Express并使用它来构建一个web服务器。</p><h1 id="adb1" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">什么是快递？</h1><p id="f326" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated"><a class="ae ky" href="https://www.npmjs.com/package/express" rel="noopener ugc nofollow" target="_blank"> Express </a>是Node.js的一个web框架，使得构建web服务器变得很容易。它是最受欢迎的Node.js框架之一，在npm上每周下载量超过1600万次。</p><blockquote class="ms"><p id="abbc" class="mt mu it bd mv mw mx my mz na nb lu dk translated">Express的理念是为HTTP服务器提供小型、健壮的工具，使其成为单页应用程序、网站、混合或公共HTTP APIs的优秀解决方案</p></blockquote><p id="59af" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">使用Express的一些好处包括:</p><ul class=""><li id="dadf" class="nh ni it lb b lc ld lf lg li nj lm nk lq nl lu nm nn no np bi translated">使Node.js应用程序的开发变得快速而简单</li><li id="58f0" class="nh ni it lb b lc nq lf nr li ns lm nt lq nu lu nm nn no np bi translated">用更少的代码快速设置REST API服务器</li><li id="5360" class="nh ni it lb b lc nq lf nr li ns lm nt lq nu lu nm nn no np bi translated">包括各种中间件来执行附加任务</li><li id="3b07" class="nh ni it lb b lc nq lf nr li ns lm nt lq nu lu nm nn no np bi translated">帮助组织您的应用程序架构</li><li id="1e94" class="nh ni it lb b lc nq lf nr li ns lm nt lq nu lu nm nn no np bi translated">帮助处理错误</li><li id="6e06" class="nh ni it lb b lc nq lf nr li ns lm nt lq nu lu nm nn no np bi translated">轻松连接到数据库</li></ul><p id="efcf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们使用Express来构建一个web服务器。按照本文，您需要在您的计算机上安装<a class="ae ky" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> Node.js </a>。</p></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><h1 id="d38a" class="lv lw it bd lx ly oc ma mb mc od me mf jz oe ka mh kc of kd mj kf og kg ml mm bi translated">初始化项目并安装Express</h1><p id="5d01" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">首先，创建并打开一个新目录。在这个目录中，您可以使用<code class="fe oh oi oj ok b">npm init -y</code>初始化一个新项目。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/ec15d7552554bf1b802ae2f1baa69c52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QAe494YfEYQdN3T_WcFtSg.png"/></div></div></figure><p id="0628" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将创建一个<code class="fe oh oi oj ok b">package.json</code>文件，您现在可以开始安装软件包了。</p><h2 id="e7bd" class="om lw it bd lx on oo dn mb op oq dp mf li or os mh lm ot ou mj lq ov ow ml ox bi translated">安装快速</h2><pre class="kj kk kl km gt oy ok oz pa aw pb bi"><span id="0094" class="om lw it ok b gy pc pd l pe pf"><em class="pg">// Install express</em><br/>npm install express</span></pre><h2 id="c8b5" class="om lw it bd lx on oo dn mb op oq dp mf li or os mh lm ot ou mj lq ov ow ml ox bi translated">将nodemon作为开发依赖项安装(可选)</h2><p id="1871" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated"><a class="ae ky" href="https://www.npmjs.com/package/nodemon" rel="noopener ugc nofollow" target="_blank"> Nodemon </a>是一个在开发Node.js应用时很有帮助的工具。每当检测到文件更改时，该工具将重新启动节点应用程序。Nodemon不是必需的，但强烈建议使用。</p><pre class="kj kk kl km gt oy ok oz pa aw pb bi"><span id="ce57" class="om lw it ok b gy pc pd l pe pf"><em class="pg">// Install nodemon as a dev dependency</em><br/>npm install nodemon --save-dev</span></pre><h2 id="731e" class="om lw it bd lx on oo dn mb op oq dp mf li or os mh lm ot ou mj lq ov ow ml ox bi translated">设置脚本</h2><p id="eaf8" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">这个脚本允许你输入<code class="fe oh oi oj ok b">npm start</code>来启动你的服务器。</p><pre class="kj kk kl km gt oy ok oz pa aw pb bi"><span id="691b" class="om lw it ok b gy pc pd l pe pf"><em class="pg">// If you installed nodemon</em><br/>"scripts": {<br/>  "start": "nodemon app.js"<br/>}</span><span id="045b" class="om lw it ok b gy ph pd l pe pf"><em class="pg">// If you did not install nodemon</em><br/>"scripts": {<br/>  "start": "node app.js"<br/>}</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pi"><img src="../Images/4c13e5d4674e84015a47f800fcd56448.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yW7QhsRFjnSomToKaIzMVA.png"/></div></div></figure><h1 id="9295" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">创建web服务器</h1><p id="0c91" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">既然我们的项目已经建立，我们将开始创建一个web服务器。第一步是导入express包。如果您有前端开发人员的经验，您可能熟悉如下的导入语句:</p><pre class="kj kk kl km gt oy ok oz pa aw pb bi"><span id="4e0e" class="om lw it ok b gy pc pd l pe pf">import express from 'express';</span></pre><p id="9e90" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可以在Node.js中使用这个选项，但是需要在<code class="fe oh oi oj ok b">package.json</code>文件中设置<em class="pg"> "type" </em>到<em class="pg"> "module" </em>。你可以在这里阅读更多关于这个<a class="ae ky" href="https://nodejs.org/api/esm.html#esm_import_expressions" rel="noopener ugc nofollow" target="_blank">的内容</a>。</p><p id="f6b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">否则，您可以使用require，这是一个内置函数，允许您将外部模块包含到项目中。</p><pre class="kj kk kl km gt oy ok oz pa aw pb bi"><span id="f732" class="om lw it ok b gy pc pd l pe pf">const express = require('express');</span></pre><p id="b637" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们将调用express函数，并将其存储在一个名为<code class="fe oh oi oj ok b">app</code>的变量中。我们可以使用app变量来配置服务器。</p><p id="3cf0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">app对象上的一个方法是<code class="fe oh oi oj ok b">app.listen</code>方法。这个函数有两个参数，一个端口号和一个回调函数。</p><pre class="kj kk kl km gt oy ok oz pa aw pb bi"><span id="0e54" class="om lw it ok b gy pc pd l pe pf">app.listen(3000, () =&gt; {<br/>  console.log(`Listening on port 3000`);<br/>});</span></pre><p id="15e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用上面的代码调用listen方法将在端口3000上启动服务器。当服务器启动时，回调函数将会运行。</p><p id="0909" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我现在可以运行<code class="fe oh oi oj ok b">npm start</code>来启动服务器。我们可以看到控制台的日志，<em class="pg">“监听端口3000”</em>，确认我们的服务器正在运行。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pj"><img src="../Images/ac4897592f7bce01e155885131a3a5c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fU3TH3KycYlriXRCJSnaJg.png"/></div></div></figure><h1 id="4058" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">创建路线</h1><p id="d414" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">本文中我们要看的最后一部分是创建一条路线。我们的服务器已经启动并运行，但是如果我们在<strong class="lb iu"> localhost:3000 </strong>访问它，我们将会看到下面的错误。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pk"><img src="../Images/2b91d933259037e11915e7722eb8a082.png" data-original-src="https://miro.medium.com/v2/resize:fit:636/format:webp/1*SVTAHoI3Bl7ylJYNERCPgw.png"/></div></figure><p id="c878" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">发生这个错误是因为我们还没有设置服务器做任何事情。我们可以使用<code class="fe oh oi oj ok b">app.get</code>方法创建一条路线。get函数有两个参数，一个路径和一个回调函数。</p><pre class="kj kk kl km gt oy ok oz pa aw pb bi"><span id="9f10" class="om lw it ok b gy pc pd l pe pf">app.get('/', (<em class="pg">req</em>, <em class="pg">res</em>) =&gt; {<br/>  <em class="pg">res</em>.send('Hello World!');<br/>});</span></pre><p id="0d1b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于路径参数，我们将传递“/”。回调函数接受两个参数，一个请求和一个响应。</p><p id="c6ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请求是传入的数据；响应是我们发回的数据。对于这个例子，我们将发送一个带有文本的响应，<em class="pg">“Hello World！”</em>。</p><p id="d961" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，如果我们回头看一下<strong class="lb iu"> localhost:3000 </strong>，我们将看到以下文本，确认我们的“/”路由正在发送响应。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pl"><img src="../Images/a551ad52fdaaef748243861bbba5702a.png" data-original-src="https://miro.medium.com/v2/resize:fit:592/format:webp/1*9qxSCemxxYk6cfsoIvjc4w.png"/></div></figure><p id="02f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">恭喜你！您刚刚创建了第一个web服务器，并发送了对HTTP请求的响应。</p><p id="ba98" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">查看下面的完整源代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pm pn l"/></div></figure></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><h1 id="f669" class="lv lw it bd lx ly oc ma mb mc od me mf jz oe ka mh kc of kd mj kf og kg ml mm bi translated">结论</h1><p id="79aa" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">感谢阅读！我希望这篇文章对您开始使用Express有所帮助。</p><p id="9e9b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将更深入地研究后端开发，尤其是Node.js Express和MongoDB。我的目标是完成REST API的构建，并探索一些其他特性。敬请期待！</p><p id="4c6e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">更多阅读</strong></p><div class="po pp gp gr pq pr"><a href="https://betterprogramming.pub/10-tips-to-improve-your-technical-writing-skills-78d98faaef36" rel="noopener  ugc nofollow" target="_blank"><div class="ps ab fo"><div class="pt ab pu cl cj pv"><h2 class="bd iu gy z fp pw fr fs px fu fw is bi translated">提高技术写作技巧的10个技巧</h2><div class="py l"><h3 class="bd b gy z fp pw fr fs px fu fw dk translated">根据我在谷歌开发者技术写作预备课程的学习经验</h3></div><div class="pz l"><p class="bd b dl z fp pw fr fs px fu fw dk translated">better编程. pub</p></div></div><div class="qa l"><div class="qb l qc qd qe qa qf ks pr"/></div></div></a></div></div></div>    
</body>
</html>