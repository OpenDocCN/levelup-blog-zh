<html>
<head>
<title>A Poor Man’s Unit Testing Framework For Powershell</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Powershell的穷人单元测试框架</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/a-poor-mans-unit-testing-framework-for-powershell-c14e146b7578?source=collection_archive---------9-----------------------#2019-12-14">https://levelup.gitconnected.com/a-poor-mans-unit-testing-framework-for-powershell-c14e146b7578?source=collection_archive---------9-----------------------#2019-12-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/fa92a9d3f17ee77d22b4b9868b35a697.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qKTAxg_w9ex0WqbpBZ-hUg.jpeg"/></div></div></figure><p id="f5e7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我为一个政府机构工作，该机构不允许安装第三方软件，这意味着我不能使用percept进行单元测试。</p><p id="eb69" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我讨厌在无法快速知道代码是否还在工作的情况下修改代码，所以我制作了自己的Powershell单元测试框架。</p><p id="c6e7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">单元测试框架做的最好的事情，是让你为你运行所有的单元测试，所以你不必手动运行每一个单元测试。</p><p id="a23a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这正是我的框架所做的。你像平常一样写你的测试，按F5，它们都会告诉你哪些测试失败了/通过了。</p><p id="0208" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">只会执行以<code class="fe kw kx ky kz b">Test_</code>开头的函数名。</p><p id="c9e7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这允许您拥有可以在测试函数中重用的帮助函数。</p><p id="d452" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你也可以从我的<a class="ae la" href="https://github.com/DavidKlempfner/PoorMansUnitTestingFramework" rel="noopener ugc nofollow" target="_blank"> GitHub </a>页面下载下面的代码。</p><h1 id="0e6d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">该模块</h1><p id="4a99" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">这个模块需要被导入到您的每个测试文件中，并且将运行这个模块被导入到的文件中的每个函数:</p><figure class="me mf mg mh gt jr"><div class="bz fp l di"><div class="mi mj l"/></div></figure><h1 id="ee7e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">示例:</h1><p id="75d1" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">下面是一个例子，说明如何使用它进行一些单元测试，用于<a class="ae la" href="https://github.com/backwardsDave1/ExtractOptionIdValuesFromNetsh/blob/master/ExtractOptionIdValuesFromNetsh.ps1" rel="noopener ugc nofollow" target="_blank">提取netsh DHCP选项ID值</a>:</p><figure class="me mf mg mh gt jr"><div class="bz fp l di"><div class="mi mj l"/></div></figure></div></div>    
</body>
</html>