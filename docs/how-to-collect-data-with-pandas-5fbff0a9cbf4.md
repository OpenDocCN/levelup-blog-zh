# å¦‚ä½•ç”¨ç†ŠçŒ«æ”¶é›†æ•°æ®

> åŸæ–‡ï¼š<https://levelup.gitconnected.com/how-to-collect-data-with-pandas-5fbff0a9cbf4>

## TLï¼›DR:ä½¿ç”¨ Python ä»æ–‡ä»¶å’Œç½‘ç«™ä¸­æå–æ•°æ®

æ¯ä¸ªæ•°æ®ç§‘å­¦ç›¸å…³é¡¹ç›®çš„ç¬¬ä¸€æ­¥â€”â€”å³ä½¿ä½ è®¡åˆ’åœ¨ Google Sheets ä¸­æ˜¾ç¤ºä¸€äº›ç»Ÿè®¡æ•°æ®â€”â€”æ˜¯æ”¶é›†æ•°æ®ã€‚

æ•°æ®å¯ä»¥æ˜¯æ•°æ®åº“ç­‰ç»“æ„åŒ–æ•°æ®ï¼Œä¹Ÿå¯ä»¥æ˜¯ç¤¾äº¤åª’ä½“å›¾ç‰‡å’Œè§†é¢‘ç­‰éç»“æ„åŒ–æ•°æ®ã€‚ä¸€æ—¦æ”¶é›†äº†è¿™äº›æ•°æ®ï¼Œåœ¨ä¼ä¸šå¯ä»¥ä½¿ç”¨è¿™äº›æ•°æ®æ¥åšå‡ºå†³ç­–ä¹‹å‰ï¼Œéœ€è¦å¯¹å…¶è¿›è¡Œ**å¤„ç†**å’Œ**è½¬æ¢æˆä¿¡æ¯**ã€‚

åœ¨æœ¬æ–‡ä¸­ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨ä¸€ä¸ªåä¸º[ç†ŠçŒ«](https://pandas.pydata.org/)çš„æµè¡Œ Python åº“ä»è®¸å¤šæµè¡Œçš„æ•°æ®æºä¸­æå–æ•°æ®ã€‚

å¦‚æœæ‚¨ä¸äº†è§£ Pythonï¼Œæ‚¨å¯ä»¥é˜…è¯»æˆ‘ä¸“é—¨ä¸ºæ‚¨åˆ›å»ºçš„è¿™ç¯‡æ–‡ç« :

[](/the-basics-of-python-for-data-science-7f9662e921d1) [## æ•°æ®ç§‘å­¦çš„ Python åŸºç¡€

### Python çš„å®‰è£…å’Œä¸»è¦æ¦‚å¿µ

levelup.gitconnected.com](/the-basics-of-python-for-data-science-7f9662e921d1) 

æˆ‘å°†é¦–å…ˆä»‹ç»ç†ŠçŒ«å›¾ä¹¦é¦†ï¼Œç„¶åè§£é‡Šå¦‚ä½•ä»å¤šä¸ªæ¥æºæå–æ•°æ®ã€‚

ä¸è¦çŠ¹è±«ï¼Œç›´æ¥è”ç³»æ‚¨æ„Ÿå…´è¶£çš„æ•°æ®æº:

*   [å¦‚ä½•ä» CSV æ–‡ä»¶ä¸­æå–æ•°æ®](/how-to-collect-data-with-pandas-5fbff0a9cbf4#7ca3)
*   [å¦‚ä½•ä» Excel æ–‡ä»¶ä¸­æå–æ•°æ®](/how-to-collect-data-with-pandas-5fbff0a9cbf4#f9c3)
*   [å¦‚ä½•ä»ç½‘ç«™æå–æ•°æ®](/how-to-collect-data-with-pandas-5fbff0a9cbf4#7e2b)
*   [(åŠ åˆ†)å¦‚ä½•ä» JSON æ–‡ä»¶ä¸­æå–æ•°æ®](/how-to-collect-data-with-pandas-5fbff0a9cbf4#3585)
*   [(åŠ åˆ†)å°†æ•°æ®å¸§è½¬æ¢æˆå¦ä¸€ç§æ ¼å¼](/how-to-collect-data-with-pandas-5fbff0a9cbf4#fc10)

![](img/63eeff66d54334c67f47fbb23dc3b26f.png)

**å¦‚ä½•ç”¨ç†ŠçŒ« Python åº“æ”¶é›†æ•°æ®**ï¼Œæ‘„å½±[å¾ä¸–é˜³](https://unsplash.com/@ltmonster?utm_source=medium&utm_medium=referral)

# Pandasï¼Œä¸€ä¸ªæ“ä½œæ•°æ®æ¡†çš„åº“

**pandas** æ˜¯ä¸€ä¸ªå¿«é€Ÿã€å¼ºå¤§ã€çµæ´»ä¸”æ˜“äºä½¿ç”¨çš„å¼€æºæ•°æ®åˆ†æå’Œæ“ä½œå·¥å…·ï¼Œæ„å»ºäº [Python](https://www.python.org/) ç¼–ç¨‹è¯­è¨€ä¹‹ä¸Šã€‚

è¿™ä¸ªåº“çš„å¤§éƒ¨åˆ†éƒ½é›†ä¸­åœ¨ä¸€ä¸ªåä¸ºâ€œDataFrameâ€çš„å¯¹è±¡ä¸Šï¼Œæ‚¨å¯ä»¥å°†å®ƒä¸ Excel ç”µå­è¡¨æ ¼è¿›è¡Œæ¯”è¾ƒã€‚

`[**DataFrame**](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame)`æ˜¯ä¸€ä¸ªäºŒç»´æ•°æ®ç»“æ„ï¼Œå¯ä»¥åœ¨åˆ—ä¸­å­˜å‚¨ä¸åŒç±»å‹çš„æ•°æ®(åŒ…æ‹¬å­—ç¬¦ã€æ•´æ•°ã€æµ®ç‚¹å€¼ã€åˆ†ç±»æ•°æ®ç­‰ç­‰):

![](img/83b1c1088720c84293932c344724ab4a.png)

ä¸€ä¸ªæ•°æ®æ¡†æ¶ï¼Œæ¥è‡ª[ç†ŠçŒ«æ–‡çŒ®](https://pandas.pydata.org/docs/getting_started/intro_tutorials/01_table_oriented.html)

ä½ ä½¿ç”¨ Python åŒ…ç®¡ç†å™¨ [pip](https://pip.pypa.io/en/stable/installation/) å®‰è£…å®ƒ:

```
pip install pandas
```

## å¦‚ä½•åˆ›å»ºç†ŠçŒ«æ•°æ®æ¡†

æ‚¨å¯ä»¥æ ¹æ®åˆ—è¡¨æˆ– Python å­—å…¸åˆ›å»ºæ•°æ®æ¡†:

## ä½ èƒ½ä»æ•°æ®å¸§ä¸­è·å¾—ä»€ä¹ˆä¿¡æ¯ï¼Ÿ

è®¿é—®å…³äº*æ•°æ®å¸§*çš„ä¸»è¦ä¿¡æ¯çš„æœ€ç®€å•æ–¹æ³•æ˜¯æ‰§è¡Œ [**describe()** å‡½æ•°](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.describe.html)ã€‚æ‚¨å°†è·å¾—ä¸€ç»„å…³äºæ‰€è€ƒè™‘æ•°æ®é›†çš„ç»Ÿè®¡ä¿¡æ¯:

*   æ¡ç›®æ•°(æ³¨æ˜â€œ*è®¡æ•°*â€)ï¼›
*   å¹³å‡å€¼(æ ‡æ³¨â€œ*è¡¨ç¤º*â€)ï¼›
*   æ ‡å‡†å·®(è®°å½•ä¸ºâ€œ*STD*â€)ï¼›
*   æœ€å°å€¼å’Œæœ€å¤§å€¼(æ³¨æ˜â€œ*æœ€å°å€¼*â€ã€â€œ*æœ€å¤§å€¼*â€)ï¼›
*   ç¬¬ä¸€ã€ç¬¬äºŒå’Œç¬¬ä¸‰å››åˆ†ä½æ•°(è®°ä¸º *25%* ã€ *50%* å’Œ*75%*)ï¼›

> ä¸å¯èƒ½è®¡ç®—éæ•°å­—åˆ—æˆ–å˜é‡çš„è¿™äº›å±æ€§ï¼Œä¾‹å¦‚äº§å“çš„åç§°å’Œæè¿°ã€‚

ä½¿ç”¨*åˆ—*å±æ€§åˆ—å‡ºå¯ç”¨å˜é‡ï¼Œå¹¶ä½¿ç”¨ [**rename()** å‡½æ•°](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.rename.html)é‡å‘½åè¿™äº›åˆ—:

## åœ¨æ•°æ®å¸§ä¸­æŸ¥æ‰¾ä¿¡æ¯

æ‚¨åƒç®¡ç†å­—å…¸ä¸€æ ·ç®¡ç†*æ•°æ®æ¡†æ¶*ï¼Œå› æ­¤å¾ˆå®¹æ˜“ä»*æ•°æ®æ¡†æ¶*ä¸­è·å–ä¸€åˆ—æˆ–å¤šåˆ—ï¼Œæˆ–è€…åªè·å–ä¸€å®šæ•°é‡çš„è¡Œã€‚

çœ‹çœ‹å¦‚ä½•ä»æˆ‘ä¸ºæ‚¨å‡†å¤‡çš„*æ•°æ®æ¡†æ¶*ä¸­é€‰æ‹©å…·ä½“çš„åˆ—(*æ‚¨å°†åœ¨ä¸‹ä¸€èŠ‚*ä¸­åŠ è½½):

å¦‚æœæ‚¨ç­›é€‰ä¸€äº›è¡Œï¼Œæ¯”å¦‚å‰ 10 è¡Œï¼Œä»¥è·å¾—æ•°æ®çš„æ¦‚è§ˆ:

ç‰¹å®šäºæ•°æ®æ¡†çš„å‡½æ•°å…è®¸æ‚¨é€šè¿‡ä»…æ˜¾ç¤ºå‡ è¡Œ(å‰å‡ è¡Œ)æ¥äº†è§£è¢«æ“ä½œçš„æ•°æ®é›†ã€‚

ä¸ºæ­¤ï¼Œä½¿ç”¨ [**å¤´()**åŠŸèƒ½](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.head.html)ã€‚

> ä½ è®¤ä¸º [**tail()** å‡½æ•°](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.tail.html)æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ

## ä½¿ç”¨ query()å‡½æ•°è¿‡æ»¤ä¿¡æ¯

[**query()** å‡½æ•°](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.query.html)å…è®¸æ‚¨æ ¹æ®é€‚ç”¨äºä¸åŒåˆ—(æˆ–å˜é‡)çš„æ¡ä»¶è¿‡æ»¤*æ•°æ®æ¡†æ¶*ä¸­çš„ä¿¡æ¯ã€‚

ä¾‹å¦‚ï¼Œè¦æ£€ç´¢â€œä¾›åº”å“â€ç±»åˆ«çš„æ‰€æœ‰è®¢å•:

```
orders_furniture = super_store.query('Category == "Furniture"')
```

æˆ–è€…ï¼Œé‡‘é¢åœ¨ 10 ç¾å…ƒåˆ° 50 ç¾å…ƒä¹‹é—´çš„æ‰€æœ‰è®¢å•:

```
sales = super_store.query('Sales > 10 and Sales < 50')
```

å¦‚æœä½ æ‡‚ SQLï¼Œè¿™ä¸ªå‡½æ•°ä½¿ç”¨ç±»ä¼¼çš„è¯­è¨€ã€‚

å¦‚æœæ‚¨ä¸çŸ¥é“ï¼ŒSQL å¹¶ä¸éš¾ï¼Œæ‚¨å¯ä»¥ä»æˆ‘ä¸»è¦ä¸ºæ‚¨å†™çš„æ–‡ç« å¼€å§‹:

[](/how-to-learn-sql-10-minutes-a-day-bbe023c01470) [## å¦‚ä½•å­¦ä¹  SQLï¼Œæ¯å¤© 10 åˆ†é’Ÿ

### è¿™æ˜¯æˆ‘ä½œä¸ºé¦–å¸­æŠ€æœ¯/æ•°æ®ä¿æŒæœ€æ–°çŠ¶æ€çš„æ–¹æ³•ã€‚

levelup.gitconnected.com](/how-to-learn-sql-10-minutes-a-day-bbe023c01470) 

# å¦‚ä½•ä» CSV æ–‡ä»¶ä¸­æå–æ•°æ®

æ‚¨å¯èƒ½æƒ³çŸ¥é“å¦‚ä½•è‡ªå·±è®¿é—®è¶…çº§å•†åº—æ•°æ®ã€‚

ç°åœ¨ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•ä» CSV æ–‡ä»¶åŠ è½½æ•°æ®ğŸ˜‰

å¤§å¤šæ•°å…¬å¸å°†å…¶æ•°æ®å­˜å‚¨åœ¨æ–‡ä»¶æˆ–æ•°æ®åº“ä¸­ï¼Œæ‚¨å¯ä»¥ä»ä¸­è·å¾—å¯¼å‡ºã€‚

æ‚¨å¯ä»¥ä»ä»»ä½•æ•°æ®ä¸­è·å– CSV æ–‡ä»¶(ç”¨äºâ€œé€—å·åˆ†éš”å€¼â€)ã€‚åƒ Excel è¿™æ ·çš„è‘—åè½¯ä»¶ä»¥åŠå¤§å¤šæ•°è½¯ä»¶éƒ½æä¾›äº†ä»¥è¿™ç§æ ¼å¼å¯¼å‡ºçš„é€‰é¡¹ã€‚â€”æ‰€æœ‰æ•°æ®åº“ã€‚

pandas çš„åº“æœ‰ [read_csv()å‡½æ•°](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html)æ¥ä»è¿™ä¸ªæ–‡ä»¶ç±»å‹åˆ›å»ºä¸€ä¸ª*æ•°æ®å¸§*ã€‚

## åˆ†ç¦»å™¨çš„é€‰æ‹©

CSV æ–‡ä»¶ç”¨é€—å·åˆ†éš”å˜é‡ï¼Œä½†æœ‰æ—¶æ‚¨ä¼šå‘ç°æ–‡ä»¶ä½¿ç”¨äº†ä¸åŒçš„åˆ†éš”ç¬¦ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨ **read_csv()** å‡½æ•°çš„ **sep** å‚æ•°å®šä¹‰â€œåˆ†éš”ç¬¦â€ã€‚

æŸ¥çœ‹â€œpeople.csvâ€æ–‡ä»¶çš„å†…å®¹:

```
lastname;firstname;age
andrieu;mickaÃ«l;36
doe;john;27
karembeu;adriana;44
```

ä»¥åŠè£…è½½çš„ç»“æœï¼Œä¸ä½¿ç”¨å’Œä½¿ç”¨ **sep** è°ƒèŠ‚å™¨:

## ç¼–ç é€‰æ‹©

æœ‰æ—¶ä½ ä¼šåœ¨ä¸¤ä¸ªä¸åŒçš„ç¯å¢ƒä¹‹é—´å¾—åˆ°ä¸€ä¸ªæ–‡ä»¶(ä¾‹å¦‚ï¼ŒWindows å’Œ Mac OSX)ï¼Œä½ ä¼šé‡åˆ°ç‰¹æ®Šå­—ç¬¦çš„é—®é¢˜ã€‚

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœæ‚¨çŸ¥é“æºæ–‡ä»¶çš„ç¼–ç ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥ä½¿ç”¨**ç¼–ç **å‚æ•°åœ¨ **read_csv()** å‡½æ•°ä¸­æŒ‡å®šå®ƒ:

> ç”±äºæ­£ç¡®çš„ç¼–ç ï¼Œåƒè¡¨æƒ…ç¬¦å·è¿™æ ·çš„ç‰¹æ®Šå­—ç¬¦å°†è¢«æ­£ç¡®å‘ˆç°ã€‚

## ä¼˜åŒ–æ•°æ®å¸§åŠ è½½çš„æ€§èƒ½

å¦‚æœè¦å¤„ç†çš„æ–‡ä»¶éå¸¸å¤§ï¼ŒåŒ…å«æ•°ç™¾ä¸‡è¡Œï¼Œé‚£ä¹ˆå®šä¹‰æ‚¨æƒ³è¦åœ¨æ‚¨çš„*æ•°æ®æ¡†æ¶*ä¸­åŠ è½½å¤šå°‘è¡Œå¯èƒ½ä¼šå¾ˆæœ‰è¶£ã€‚

å®šä¹‰å‚æ•° **nrows** å’Œ**skipows**å°±è¶³ä»¥ç¡®å®šè¦æ£€ç´¢å¤šå°‘è¡Œä»¥åŠä»å“ªä¸€è¡Œå¼€å§‹è£…è½½ã€‚

æ‚¨å®šä¹‰æ–‡ä»¶è¡Œï¼Œå…¶ä¸­æ ‡é¢˜(åˆ—å)ä½¿ç”¨äº†**æ ‡é¢˜**å‚æ•°ã€‚*ä¸€ä¸ªæŠ€å·§*æ˜¯ä½¿ç”¨ [**range()** å‡½æ•°](https://docs.python.org/3/tutorial/controlflow.html#the-range-function)æ¥æ¶ˆé™¤é™¤ç¬¬ä¸€è¡Œä¹‹å¤–çš„æ‰€æœ‰è¡Œ:

# å¦‚ä½•ä» Excel æ–‡ä»¶ä¸­æå–æ•°æ®

**Excel æ–‡ä»¶(æ‰©å±•åä¸ºã€‚xls æˆ–è€…ã€‚xlsx)æ˜¯å…¬å¸é‡Œæœ€å—æ¬¢è¿çš„ã€‚**

ç†ŠçŒ«å›¾ä¹¦é¦†å®Œå…¨æœ‰èƒ½åŠ›é˜…è¯»è¿™äº›æ–‡ä»¶ã€‚è¿™ä¸€æ¬¡æ‚¨å°†ä½¿ç”¨å¦ä¸€ä¸ªåœ¨äº’è”ç½‘ä¸Šå¯ç”¨çš„ Excel æ–‡ä»¶ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¼€æºç‰ˆæœ¬:ç‰ˆæœ¬ 4 ä¸­çš„ Opquast å­˜å‚¨åº“ã€‚

> æ‚¨å¯ä»¥ä¸‹è½½å®ƒå¹¶è¿è¡Œä¸‹ä¸€ç¯‡æ–‡ç« ä¸­å»ºè®®çš„å‘½ä»¤ã€‚

å°±åƒæœ‰ **read_csv()** å‡½æ•°è¯»å– csv æ–‡ä»¶ä¸€æ ·ï¼Œè¿™æ¬¡ä½ ç”¨ [**read_excel()** å‡½æ•°](https://pandas.pydata.org/docs/reference/api/pandas.read_excel.html?highlight=read_excel)åŠ è½½ excel æ–‡ä»¶ã€‚

è¯¥åŠŸèƒ½è¯»å–ä¸¤ä¸ª*ã€‚xlsx* å’Œ*ã€‚xls* æ–‡ä»¶ï¼Œä½†æ˜¯å¯¹äºã€‚xls æ–‡ä»¶(Excel 2007/2010 ç‰ˆæœ¬çš„ Excel æ–‡ä»¶)ï¼Œå¿…é¡»ä¸‹è½½ [xlrd](https://github.com/python-excel/xlrd) æ‰©å±•å:

è¦è§£å†³æ­¤é—®é¢˜ï¼Œè¯·å®‰è£…ç¼ºå°‘çš„æ¨¡å—:

```
pip install xlrd
```

## é€‰æ‹©è¦è£…è½½çš„çº¸å¼ 

ä¸ CSV æ–‡ä»¶ç›¸åï¼ŒExcel æ–‡ä»¶å°†åŒ…å«å‡ ä¸ªæ‚¨å¯ä»¥é€‰æ‹©è½¬æ¢æˆ*æ•°æ®æ¡†*çš„å·¥ä½œè¡¨ã€‚

ä¸ºæ­¤ï¼Œæ‚¨å°†å®šä¹‰ **sheetname** å‚æ•°ï¼Œå®ƒå¯ä»¥æ˜¯ä¸€ä¸ªæ•°å€¼(ç¬¬ä¸€å¼ ã€ç¬¬äºŒå¼ æˆ–â€œç¬¬ n å¼ â€å·¥ä½œè¡¨ï¼Ÿ)ã€å­—ç¬¦ä¸²(å·¥ä½œè¡¨çš„åç§°)æˆ–åˆ—è¡¨(åŒ…å«æ•°å­—æˆ–åç§°):

## æ–‡ä»¶æ ‡é¢˜çš„è¯†åˆ«å’Œé€‰æ‹©

æœ‰æ—¶æ•°æ®ä¸æ˜¯é¢„æœŸçš„æ ¼å¼ï¼Œé€‰æ‹©æˆ–åˆ›å»ºæ–‡æ¡£æ ‡é¢˜æ˜¯å¿…è¦çš„ã€‚æ­¤åæ£€æŸ¥ï¼Œæ ‡é¢˜åœ¨ç¬¬ 4 è¡Œå¯ç”¨ï¼Œæˆ‘ä»¬å¿…é¡»å¿½ç•¥æ‰€é€‰å·¥ä½œè¡¨çš„å‰ä¸‰è¡Œ:

![](img/c7af88a3cdbf0befdb45c94a67179b6c.png)

> è¿™éƒ¨åˆ†å¯èƒ½ä¼šè®©ä½ å›°æƒ‘ï¼Œä½†æ˜¯æˆ‘ä¿è¯**èŒƒå›´(0ï¼Œ4)** ä¼šä» 0 åˆ° 3 å¾ªç¯**ï¼Œè€Œä¸æ˜¯ 4 *ğŸ˜¶ã€‚***

## æ–‡æ¡£å¤„ç†å¼•æ“

ç†ŠçŒ«åº“çš„ **read_excel()** å‡½æ•°è¯»å–äº†å¾ˆå¤šâ€œç”µå­è¡¨æ ¼â€ç±»å‹çš„æ–‡ä»¶è€Œä¸ä»…ä»…æ˜¯ excel æ–‡ä»¶â€¦â€¦å¯¹äº†ï¼Œæ˜¯å“ªäº›å‘¢ï¼Ÿ

äº‹å®ä¸Šï¼ŒExcel æ–‡ä»¶ä¼šæ ¹æ®æ‰€ç”¨è½¯ä»¶çš„ç‰ˆæœ¬è€Œå‘å±•ï¼Œå¹¶ä¸”å¯ä»¥æŒ‡å®šä½¿ç”¨å“ªä¸ªâ€œå¼•æ“â€æ¥åˆ›å»ºæ‚¨çš„*æ•°æ®æ¡†æ¶*ã€‚

æ‚¨å°†é…ç½® **read_excel()** çš„å¼•æ“å±æ€§:

*   **xlrd** ç”¨äºæ—§çš„ Excel æ–‡ä»¶(**)ã€‚xls**)ï¼›
*   **openpyxl** ç”¨äºè¾ƒæ–°çš„ Excel æ–‡ä»¶(**)ã€‚xlsx**)ï¼›
*   **odf** ç”¨äºä» *Libre Office* æˆ– *Open Office* ( **)è·å¾—çš„æ–‡ä»¶ã€‚ODT**)ï¼›

> ç”±äº pandas è¯•å›¾æ£€æµ‹è¦ä½¿ç”¨çš„æœ€ä½³å¼•æ“ï¼Œå› æ­¤æŒ‡å®šè¯¥å±æ€§æ˜¯å¯é€‰çš„ã€‚

# å¦‚ä½•ä»ç½‘ç«™ä¸­æå–æ•°æ®

æœ‰æ—¶å€™ï¼Œä½ åªèƒ½è®¿é—®ç½‘ç«™ä¸Šçš„ HTML è¡¨æ ¼ã€‚

ç†ŠçŒ«å›¾ä¹¦é¦†æœ‰é’ˆå¯¹è¿™ç§æƒ…å†µçš„ [**read_html()** åŠŸèƒ½](https://pandas.pydata.org/docs/reference/api/pandas.read_html.html)ï¼Œåœ¨é‚£é‡Œä½ å°†ä¸å¾—ä¸**ä»äº’è”ç½‘ä¸Šæœé›†ä¿¡æ¯**ç”¨äºåˆ†æç›®çš„ã€‚

> ä½œä¸ºä¸€ä¸ªå®é™…ä¾‹å­ï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•ä»ç»´åŸºç™¾ç§‘ç½‘ç«™æ£€ç´¢ä¸ä¸–ç•Œäººå£ç»Ÿè®¡ç›¸å…³çš„ä¿¡æ¯ã€‚

ç”±äºä¸€ä¸ªç½‘ç«™é¡µé¢å¯ä»¥åŒ…å«å¤šä¸ªè¡¨æ ¼ï¼Œè¯¥å‡½æ•°è¿”å›**ä¸€ä¸ª *DataFrames*** åˆ—è¡¨:

ç„¶åä½ å¿…é¡»ä»åˆ—è¡¨ä¸­é€‰æ‹©ä½ æ„Ÿå…´è¶£çš„*æ•°æ®å¸§*ã€‚ä¸‹é¢æ˜¯ç¬¬ä¸€ä¸ª(æ‰€ä»¥å®ƒåœ¨ä½ç½® 0):

## é€‰æ‹©æ­£ç¡®çš„ä¿¡æ¯

æ‚¨å¯ä»¥è®¾ç½® **match** å‚æ•°æ¥æŸ¥æ‰¾ HTML è¡¨ä¸­å­˜åœ¨çš„è¡¨è¾¾å¼ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸º *DataFrame* ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœä½ æŸ¥çœ‹æ³•å›½çš„[ç»´åŸºç™¾ç§‘é¡µé¢ï¼Œä½ ä¼šæ³¨æ„åˆ°å®ƒæœ‰å¾ˆå¤šè¡¨æ ¼ã€‚](https://fr.wikipedia.org/wiki/France)

**è¿™äº›ä¿¡æ¯æ˜¯å¦æ”¹å–„äº† read_html()å‡½æ•°çš„è¿”å›ï¼Ÿ**

> æˆ‘ä¸æƒ³è°ˆè®º HTML å°¤å…¶æ˜¯ CSS çš„åŸºç¡€çŸ¥è¯†ã€‚ä½†æ˜¯å¦‚æœä½ æƒ³é€šè¿‡ç†ŠçŒ«å›¾ä¹¦é¦†åœ¨ç½‘ä¸Šæœé›†ä¿¡æ¯ï¼Œä½ å¯èƒ½éœ€è¦å®ƒä»¬ã€‚**ä¼ é€’ä¸€ä¸ª CSS é€‰æ‹©å™¨ä¼šæ˜¾è‘—æé«˜æ»¤é•œçš„è´¨é‡ã€‚**

å¦‚æœä½ å¯¹ç½‘ç»œæŠ“å–æ„Ÿå…´è¶£ï¼Œä½ æœ€å¥½ç”¨ HTMLã€CSS å’Œ Python BeautifulSoup åº“æ¥å®Œæˆä½ çš„å­¦ä¹ :

[](https://towardsdatascience.com/data-science-skills-web-scraping-using-python-d1a85ef607ed) [## æ•°æ®ç§‘å­¦æŠ€èƒ½:ä½¿ç”¨ Python è¿›è¡Œç½‘ç»œæœé›†

### ä½œä¸ºä¸€åæ•°æ®ç§‘å­¦å®¶ï¼Œæˆ‘åœ¨å·¥ä½œä¸­æ¥å—çš„ç¬¬ä¸€æ‰¹ä»»åŠ¡ä¹‹ä¸€å°±æ˜¯ç½‘ç»œæœé›†ã€‚è¿™å®Œå…¨æ˜¯â€¦

towardsdatascience.com](https://towardsdatascience.com/data-science-skills-web-scraping-using-python-d1a85ef607ed) 

# (åŠ åˆ†)å¦‚ä½•ä» JSON æ–‡ä»¶ä¸­æå–æ•°æ®

æœ‰æ—¶æ•°æ®ä¸èƒ½ä½œä¸ºæ–‡ä»¶ç›´æ¥è®¿é—®ï¼Œè€Œæ˜¯ä»¥ JSON æ ¼å¼ä½œä¸º REST APIâ€œå…¬å¼€â€ã€‚

JSON(for "**J**ava**S**script**O**object**N**rotation ")æ ¼å¼å¾ˆæµè¡Œï¼Œè®¸å¤šå…¬å¸éƒ½ä½¿ç”¨è¿™ç§æ ¼å¼å…±äº«æ•°æ®:

*   å¦‚æœä½ æƒ³æ£€ç´¢[ä¸€åˆ—æ¨æ–‡](https://developer.twitter.com/en/docs/api-reference-index)ï¼ŒTwitter æä¾›äº† JSON æ ¼å¼çš„ API
*   å¦‚æœæ‚¨æ‰“ç®—[æ£€ç´¢åŠ å¯†èµ„äº§çš„æ¯æ—¥ä¼°ä»·](https://coinmarketcap.com/api/documentation/v1/)ï¼ŒCoinMarketCap æä¾›äº†ä¸€ä¸ª JSON æ ¼å¼çš„ API
*   å¦‚æœä½ æƒ³å¾—åˆ°æ³•å›½æ‰€æœ‰åŸå¸‚çš„åˆ—è¡¨ï¼Œæ”¿åºœæä¾›äº† JSON æ ¼å¼çš„ API

ç„¶åä½¿ç”¨ **read_json()** å‡½æ•°å°†è¯¥æ•°æ®åŠ è½½åˆ° *DataFrame* ä¸­:

## ç½‘ç»œé“¾æ¥çš„ä½¿ç”¨

åƒå‰é¢æ‰€æœ‰çš„å‡½æ•°ä¸€æ ·ï¼Œæ‚¨å¯ä»¥å°† URIs ä½œä¸ºè¿™äº›å‡½æ•°çš„åŠ è½½å‚æ•°è¿›è¡Œä¼ é€’ã€‚

æ­¤å¤–ï¼Œå¦‚æœä¸‹é¢çš„é“¾æ¥ä»ç„¶æœ‰æ•ˆï¼Œåˆ™æ‰§è¡Œä¸‹é¢çš„ä»£ç ç­‰åŒäºå‰é¢çš„è¯­å¥:

# (å¥–åŠ±)å°†æ•°æ®å¸§è½¬æ¢æˆå¦ä¸€ç§æ ¼å¼

pandas åº“çš„ä¸€ä¸ªä¾¿åˆ©ç‰¹æ€§æ˜¯ä»è®¸å¤šæ¥æºå¯¼å…¥æ•°æ®ï¼Œä½†æ˜¯è¿™ä¸ªåº“ä¹Ÿå¯ä»¥å°†ä¸€ä¸ª*æ•°æ®å¸§*å¯¼å‡ºä¸ºä¸€ä¸ªæ–‡ä»¶ã€‚

> æ‚¨ä¼šå‘ç°è¿™å¯¹äºå°†(ä»¥å‰)è·å¾—çš„ JSON æ–‡ä»¶è½¬æ¢æˆ Excel æ–‡ä»¶ç‰¹åˆ«æœ‰å¸®åŠ©ï¼

ä½¿ç”¨é€‚åˆæ‚¨éœ€æ±‚çš„åŠŸèƒ½:

*   [**to_excel()** å‡½æ•°](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_excel.html)è·å–ä¸€ä¸ª. xls æ–‡ä»¶ï¼›
*   [**to_csv()** å‡½æ•°](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_csv.html)è·å–ä¸€ä¸ª. csv æ–‡ä»¶ï¼›
*   è€Œ [**ä¸ºä»€ä¹ˆä¸åœ¨å¦ä¸€ä¸ªä¸Šä¸‹æ–‡ä¸­è°ƒç”¨ _json()** å‡½æ•°](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_json.html)ï¼›

è¦æ‰§è¡Œ **to_excel()** å‡½æ•°ï¼Œæ‚¨å¿…é¡»å®‰è£…ä¸€äº›é¢å¤–çš„ Python æ¨¡å—:

```
pip install openpyxl xlwt 
```

è€Œè¿™ç¬¬äºŒç¯‡å°±ç»“æŸäº†ã€‚æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼

å¦‚æœæ‚¨éœ€è¦æé«˜æ‚¨çš„ Python çŸ¥è¯†ï¼Œè¯·å…³æ³¨æˆ‘çš„ 3 ä¸ªæœˆå…è´¹è®¡åˆ’:

[](/master-python-10-minutes-a-day-5aeab489e227) [## å¦‚ä½•å­¦ä¹  Pythonï¼Œæ¯å¤© 10 åˆ†é’Ÿ

### è¿™å°±æ˜¯æˆ‘ä½œä¸ºæ•°æ®/äººå·¥æ™ºèƒ½é¡¾é—®å¦‚ä½•è·Ÿä¸Šæ—¶ä»£çš„æ–¹æ³•

levelup.gitconnected.com](/master-python-10-minutes-a-day-5aeab489e227) [](https://mickael-andrieu.medium.com/membership) [## é€šè¿‡æˆ‘çš„æ¨èé“¾æ¥åŠ å…¥ Medium-mickal Andrieu

### ä½œä¸ºä¸€ä¸ªåª’ä½“ä¼šå‘˜ï¼Œä½ çš„ä¼šå‘˜è´¹çš„ä¸€éƒ¨åˆ†ä¼šç»™ä½ é˜…è¯»çš„ä½œå®¶ï¼Œä½ å¯ä»¥å®Œå…¨æ¥è§¦åˆ°æ¯ä¸€ä¸ªæ•…äº‹â€¦

mickael-andrieu.medium.com](https://mickael-andrieu.medium.com/membership) 

å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·éšæ—¶å‘è¡¨è¯„è®ºï¼Œå¦‚æœæ‚¨å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œ[å…³æ³¨æˆ‘](https://mickael-andrieu.medium.com/)ï¼Œå½“æˆ‘ä¸‹ä¸€æ¬¡å‘å¸ƒæ—¶ï¼Œæ‚¨ä¼šæ”¶åˆ°é€šçŸ¥ã€‚