<html>
<head>
<title>Steganography and Image Forensics</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">隐写术和图像取证</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/ethical-hacking-part-16-steganography-and-image-forensics-889bed5789dd?source=collection_archive---------6-----------------------#2020-11-09">https://levelup.gitconnected.com/ethical-hacking-part-16-steganography-and-image-forensics-889bed5789dd?source=collection_archive---------6-----------------------#2020-11-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1c7e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">数字取证和隐藏图像信息的迷人世界！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2563ed94a1295e30b2e62715b9a242fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0VF7XlG2PxHDOyyMikVuqQ.jpeg"/></div></div></figure><p id="3a14" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">隐写术是将消息或信息隐藏在其他非机密文本或数据中的做法。</p><p id="e4ba" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">实际上，您会惊讶于一个图像或视频文件可以存储多少元数据。在取证调查期间，媒体文件的元数据通常可以揭示很多信息。例如，您可能会在社交媒体上分享一张在家中拍摄的照片，但您的相机在元数据中包含关于您和您的位置的个人信息，这是最好的情况。</p><p id="d17e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在更险恶的情况下，有害的有效载荷可能被包括在内。虽然图像查看器或web服务器不可能自动运行恶意代码，但这是黑客或僵尸网络在系统上预加载有效负载而不被检测到的一种方式。然后，他们需要做的就是访问系统并执行来自无缝无害媒体文件的有效载荷。</p><p id="8e43" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您的企业处理上传的媒体文件，那么在上传时清除文件的元数据是值得的，除非有任何字段是绝对必要的。我将在后面介绍如何做到这一点。</p><h2 id="11c3" class="lq lr it bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">如何查看媒体文件的元数据？</h2><p id="6692" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">大多数操作系统允许您检查媒体文件的属性。然而，它们可能只显示几个选定的字段，但文件中可能包含更多的字段。Linux和macOS系统有一个非常方便的工具，叫做“<strong class="kw iu"> file </strong>”，用来查看最常见的元数据字段。</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="11ed" class="lq lr it mp b gy mt mu l mv mw">% <strong class="mp iu">file someimage.jpg</strong> <br/>someimage.jpg: JPEG image data, JFIF standard 1.01, aspect ratio, density 1x1, segment length 16, progressive, precision 8, 1920x1280, components 3</span></pre><p id="b940" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">有一个非常强大的工具叫做<a class="ae mx" href="https://exiftool.org/" rel="noopener ugc nofollow" target="_blank"> ExifTool </a>，适用于Windows、macOS和Linux。对于Linux和macOS，您可以使用Brew、Aptitude或Yum等常用的软件包安装程序来安装它。如果你去<a class="ae mx" href="https://exiftool.org/" rel="noopener ugc nofollow" target="_blank"> ExifTool </a>官方网站，你可以看到支持读写的媒体格式的广泛列表。</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="74d4" class="lq lr it mp b gy mt mu l mv mw">% <strong class="mp iu">exiftool someimage.jpg</strong> <br/>ExifTool Version Number         : 12.00<br/>File Name                       : someimage.jpg<br/>Directory                       : .<br/>File Size                       : 66 kB<br/>File Modification Date/Time     : 2020:11:09 13:05:58+00:00<br/>File Access Date/Time           : 2020:11:09 13:14:53+00:00<br/>File Inode Change Date/Time     : 2020:11:09 13:14:52+00:00<br/>File Permissions                : rw-r--r--<br/>File Type                       : JPEG<br/>File Type Extension             : jpg<br/>MIME Type                       : image/jpeg<br/>JFIF Version                    : 1.01<br/>Resolution Unit                 : None<br/>X Resolution                    : 1<br/>Y Resolution                    : 1<br/>Image Width                     : 1920<br/>Image Height                    : 1280<br/>Encoding Process                : Progressive DCT, Huffman coding<br/>Bits Per Sample                 : 8<br/>Color Components                : 3<br/>Y Cb Cr Sub Sampling            : YCbCr4:2:0 (2 2)<br/>Image Size                      : 1920x1280<br/>Megapixels                      : 2.5</span></pre><h2 id="f1f8" class="lq lr it bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">如何将有效负载包含到媒体文件中？</h2><p id="52a2" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">第一步是去<a class="ae mx" href="https://exiftool.org/" rel="noopener ugc nofollow" target="_blank"> ExifTool </a>官方网站，检查你想要使用的媒体格式是否支持书写。为了这个教程，我去了<a class="ae mx" href="https://pixabay.com/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>下载了一个免版税的JPEG图片来玩。</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="f5ed" class="lq lr it mp b gy mt mu l mv mw">% <strong class="mp iu">exiftool -Comment='&lt;?php system("touch newfile1"); ?&gt;' someimage.jpg <br/>    1 image files updated</strong></span></pre><p id="bef0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您会注意到ExifTool会为您创建一个原始文件的副本。</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="7b41" class="lq lr it mp b gy mt mu l mv mw">% <strong class="mp iu">ls someimage.jpg*</strong><br/>someimage.jpg  <strong class="mp iu">someimage.jpg_original</strong></span></pre><p id="272d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你可以看到有效载荷是这样的…</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="6e16" class="lq lr it mp b gy mt mu l mv mw">% <strong class="mp iu">file someimage.jpg</strong><br/>someimage.jpg: JPEG image data, JFIF standard 1.01, aspect ratio, density 1x1, segment length 16, comment: "<strong class="mp iu">&lt;?php system("touch newfile1"); ?&gt;</strong>", progressive, precision 8, 1920x1280, components 3</span><span id="718a" class="lq lr it mp b gy my mu l mv mw">% <strong class="mp iu">exiftool someimage.jpg</strong><br/>ExifTool Version Number         : 12.00<br/>File Name                       : someimage.jpg<br/>Directory                       : .<br/>File Size                       : 66 kB<br/>File Modification Date/Time     : 2020:11:09 13:39:55+00:00<br/>File Access Date/Time           : 2020:11:09 13:39:58+00:00<br/>File Inode Change Date/Time     : 2020:11:09 13:39:57+00:00<br/>File Permissions                : rw-r--r--<br/>File Type                       : JPEG<br/>File Type Extension             : jpg<br/>MIME Type                       : image/jpeg<br/>JFIF Version                    : 1.01<br/>Resolution Unit                 : None<br/>X Resolution                    : 1<br/>Y Resolution                    : 1<br/>Comment                         : <strong class="mp iu">&lt;?php system("touch newfile1"); ?&gt;</strong><br/>Image Width                     : 1920<br/>Image Height                    : 1280<br/>Encoding Process                : Progressive DCT, Huffman coding<br/>Bits Per Sample                 : 8<br/>Color Components                : 3<br/>Y Cb Cr Sub Sampling            : YCbCr4:2:0 (2 2)<br/>Image Size                      : 1920x1280<br/>Megapixels                      : 2.5</span></pre><p id="3e47" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">也许我们也可以这样做…</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="96f3" class="lq lr it mp b gy mt mu l mv mw">% <strong class="mp iu">mv someimage.jpg_original someimage.jpg    </strong>                 </span><span id="4eb0" class="lq lr it mp b gy my mu l mv mw">% <strong class="mp iu">exiftool -Comment="touch newfile2" someimage.jpg </strong><br/>    1 image files updated</span></pre><p id="7384" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">并这样看待它…</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="e8ee" class="lq lr it mp b gy mt mu l mv mw">% <strong class="mp iu">file someimage.jpg</strong><br/>someimage.jpg: JPEG image data, JFIF standard 1.01, aspect ratio, density 1x1, segment length 16, comment: "<strong class="mp iu">touch newfile2</strong>", progressive, precision 8, 1920x1280, components 3</span><span id="f3b0" class="lq lr it mp b gy my mu l mv mw">% <strong class="mp iu">exiftool someimage.jpg</strong><br/>ExifTool Version Number         : 12.00<br/>File Name                       : someimage.jpg<br/>Directory                       : .<br/>File Size                       : 66 kB<br/>File Modification Date/Time     : 2020:11:09 13:47:18+00:00<br/>File Access Date/Time           : 2020:11:09 13:47:21+00:00<br/>File Inode Change Date/Time     : 2020:11:09 13:47:20+00:00<br/>File Permissions                : rw-r--r--<br/>File Type                       : JPEG<br/>File Type Extension             : jpg<br/>MIME Type                       : image/jpeg<br/>JFIF Version                    : 1.01<br/>Resolution Unit                 : None<br/>X Resolution                    : 1<br/>Y Resolution                    : 1<br/>Comment                         : <strong class="mp iu">touch newfile2</strong><br/>Image Width                     : 1920<br/>Image Height                    : 1280<br/>Encoding Process                : Progressive DCT, Huffman coding<br/>Bits Per Sample                 : 8<br/>Color Components                : 3<br/>Y Cb Cr Sub Sampling            : YCbCr4:2:0 (2 2)<br/>Image Size                      : 1920x1280<br/>Megapixels                      : 2.5</span></pre><p id="e9a7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们可以这样运行它…</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="7d18" class="lq lr it mp b gy mt mu l mv mw">% <strong class="mp iu">PAYLOAD="$(exiftool -Comment someimage.jpg | sed 's/Comment.*:.//g')"</strong></span><span id="0b08" class="lq lr it mp b gy my mu l mv mw">% <strong class="mp iu">echo $PAYLOAD</strong>                                   <br/>touch newfile2</span><span id="45c5" class="lq lr it mp b gy my mu l mv mw">% <strong class="mp iu">eval $PAYLOAD</strong></span><span id="4406" class="lq lr it mp b gy my mu l mv mw">% <strong class="mp iu">ls newfile2</strong> <br/>newfile2</span><span id="3e98" class="lq lr it mp b gy my mu l mv mw"><strong class="mp iu">% unset PAYLOAD</strong></span></pre><p id="8e36" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">正如你所看到的，我已经预加载了一些bash代码，当执行这些代码时，将创建一个名为“<strong class="kw iu"> newfile2 </strong>”的新文件。然而，这需要在目标系统上安装“<strong class="kw iu"> exiftool </strong>”，但实际情况可能并非如此。</p><p id="4073" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在我上面的例子中，我在JPEG文件中使用了“<strong class="kw iu"> Comment </strong>”元数据字段，如果有人检查该文件以查看是否嵌入了可疑代码，这将是非常明显的。</p><p id="7acd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们可以更有创意，也许base64编码的有效载荷，并将其隐藏在另一个领域，如“<strong class="kw iu">证书</strong>”。</p><p id="5e24" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们试试另一种方式…</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="ab77" class="lq lr it mp b gy mt mu l mv mw">% <strong class="mp iu">mv someimage.jpg_original someimage.jpg</strong></span><span id="7ddf" class="lq lr it mp b gy my mu l mv mw">% <strong class="mp iu">exiftool -Certificate="$(echo 'touch newfile3' | base64)" someimage.jpg</strong>                   <br/>    1 image files updated</span></pre><p id="6388" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我在这里做了什么？我对字符串“<strong class="kw iu">触摸新文件3 </strong>”进行了base64编码，并将其嵌入到“<strong class="kw iu">证书</strong>”元数据字段中。</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="dfda" class="lq lr it mp b gy mt mu l mv mw">% <strong class="mp iu">file someimage.jpg</strong><br/>someimage.jpg: JPEG image data, JFIF standard 1.01, aspect ratio, density 1x1, segment length 16, progressive, precision 8, 1920x1280, components 3</span><span id="59f4" class="lq lr it mp b gy my mu l mv mw">% <strong class="mp iu">exiftool someimage.jpg</strong><br/>ExifTool Version Number         : 12.00<br/>File Name                       : someimage.jpg<br/>Directory                       : .<br/>File Size                       : 68 kB<br/>File Modification Date/Time     : 2020:11:09 14:19:56+00:00<br/>File Access Date/Time           : 2020:11:09 14:19:59+00:00<br/>File Inode Change Date/Time     : 2020:11:09 14:19:58+00:00<br/>File Permissions                : rw-r--r--<br/>File Type                       : JPEG<br/>File Type Extension             : jpg<br/>MIME Type                       : image/jpeg<br/>JFIF Version                    : 1.01<br/>Resolution Unit                 : None<br/>X Resolution                    : 1<br/>Y Resolution                    : 1<br/>XMP Toolkit                     : Image::ExifTool 12.00<br/>Certificate                     : <strong class="mp iu">dG91Y2ggbmV3ZmlsZTMK</strong><br/>Image Width                     : 1920<br/>Image Height                    : 1280<br/>Encoding Process                : Progressive DCT, Huffman coding<br/>Bits Per Sample                 : 8<br/>Color Components                : 3<br/>Y Cb Cr Sub Sampling            : YCbCr4:2:0 (2 2)<br/>Image Size                      : 1920x1280<br/>Megapixels                      : 2.5</span></pre><p id="46c0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您现在会注意到，“<strong class="kw iu">文件</strong>”没有显示“<strong class="kw iu">证书</strong>”字段。您还会注意到，我们的base64编码的有效载荷现在位于“<strong class="kw iu"> Certificate </strong>”字段中，实际上看起来是无害的。</p><p id="4f29" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们运行与上面相同的过程…</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="24f3" class="lq lr it mp b gy mt mu l mv mw">% <strong class="mp iu">PAYLOAD="$(exiftool -Certificate someimage.jpg | sed 's/Certificate.*:.//g' | base64 -d)"</strong></span><span id="b0c8" class="lq lr it mp b gy my mu l mv mw">% <strong class="mp iu">echo $PAYLOAD</strong>                                   <br/>touch newfile3</span><span id="30c3" class="lq lr it mp b gy my mu l mv mw">% <strong class="mp iu">eval $PAYLOAD</strong></span><span id="2219" class="lq lr it mp b gy my mu l mv mw">% <strong class="mp iu">ls newfile2</strong> <br/>newfile3</span><span id="7826" class="lq lr it mp b gy my mu l mv mw"><strong class="mp iu">% unset PAYLOAD</strong></span></pre><p id="9889" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果不使用ExifTool，这怎么能执行呢？</p><p id="8941" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们在一个新的终端窗口中使用Python <strong class="kw iu">快速启动一个HTTP服务器。</strong></p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="bba9" class="lq lr it mp b gy mt mu l mv mw"># If you are using Python 2</span><span id="51c9" class="lq lr it mp b gy my mu l mv mw">% <strong class="mp iu">python2 -m SimpleHTTPServer 8000 </strong><br/>Serving HTTP on 0.0.0.0 port 8000 ...</span><span id="fe4d" class="lq lr it mp b gy my mu l mv mw"># If you are using Python 3</span><span id="bd3d" class="lq lr it mp b gy my mu l mv mw">% <strong class="mp iu">python3 -m http.server 8000</strong><br/>Serving HTTP on :: port 8000 (<a class="ae mx" href="http://[::]:8000/" rel="noopener ugc nofollow" target="_blank">http://[::]:8000/</a>) ...</span></pre><p id="43e0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">回到我们最初的终端窗口，运行这个…</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="fc83" class="lq lr it mp b gy mt mu l mv mw">% <strong class="mp iu">curl </strong><a class="ae mx" href="http://localhost:8000/someimage.jpg" rel="noopener ugc nofollow" target="_blank"><strong class="mp iu">http://localhost:8000/someimage.jpg</strong></a> <br/>Warning: Binary output can mess up your terminal. Use "--output -" to tell <br/>Warning: curl to output it to your terminal anyway, or consider "--output <br/>Warning: &lt;FILE&gt;" to save to a file.</span></pre><p id="369d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们可以这样做来保存文件。</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="d88e" class="lq lr it mp b gy mt mu l mv mw">% <strong class="mp iu">curl </strong><a class="ae mx" href="http://localhost:8000/someimage.jpg" rel="noopener ugc nofollow" target="_blank"><strong class="mp iu">http://localhost:8000/someimage.jpg</strong></a><strong class="mp iu"> --output newimage.jpg</strong></span></pre><p id="9b69" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">并检查它是否仍然是正确的图像，它是。</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="c5bb" class="lq lr it mp b gy mt mu l mv mw">% <strong class="mp iu">exiftool newimage.jpg</strong>                    <br/>ExifTool Version Number         : 12.00<br/>File Name                       : newimage.jpg<br/>Directory                       : .<br/>File Size                       : 68 kB<br/>File Modification Date/Time     : 2020:11:09 14:29:48+00:00<br/>File Access Date/Time           : 2020:11:09 14:29:50+00:00<br/>File Inode Change Date/Time     : 2020:11:09 14:29:48+00:00<br/>File Permissions                : rw-r--r--<br/>File Type                       : JPEG<br/>File Type Extension             : jpg<br/>MIME Type                       : image/jpeg<br/>JFIF Version                    : 1.01<br/>Resolution Unit                 : None<br/>X Resolution                    : 1<br/>Y Resolution                    : 1<br/>XMP Toolkit                     : Image::ExifTool 12.00<br/>Certificate                     : <strong class="mp iu">dG91Y2ggbmV3ZmlsZTMK</strong><br/>Image Width                     : 1920<br/>Image Height                    : 1280<br/>Encoding Process                : Progressive DCT, Huffman coding<br/>Bits Per Sample                 : 8<br/>Color Components                : 3<br/>Y Cb Cr Sub Sampling            : YCbCr4:2:0 (2 2)<br/>Image Size                      : 1920x1280<br/>Megapixels                      : 2.5</span></pre><p id="d408" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们看看是否可以从二进制文件中提取“<strong class="kw iu">证书</strong>”有效负载…</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="34b9" class="lq lr it mp b gy mt mu l mv mw">% <strong class="mp iu">PAYLOAD=$(curl -s </strong><a class="ae mx" href="http://localhost:8000/someimage.jpg" rel="noopener ugc nofollow" target="_blank"><strong class="mp iu">http://localhost:8000/someimage.jpg</strong></a><strong class="mp iu"> | grep Certificate -a | sed 's/&lt;[^&gt;]*&gt;//g' | base64 -d)</strong></span><span id="97ee" class="lq lr it mp b gy my mu l mv mw">% <strong class="mp iu">echo $PAYLOAD</strong> <br/>touch newfile3</span><span id="c8bc" class="lq lr it mp b gy my mu l mv mw">% <strong class="mp iu">eval $PAYLOAD</strong></span><span id="16d8" class="lq lr it mp b gy my mu l mv mw">% <strong class="mp iu">ls newfile3</strong> <br/>newfile3</span><span id="290b" class="lq lr it mp b gy my mu l mv mw"><strong class="mp iu">% unset PAYLOAD</strong></span></pre><p id="9956" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">黑客可以进一步隐藏其攻击负载的另一种方式是在不同的映像中包含部分代码，并在目标系统上重新构建它们。</p><p id="36ae" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这可能看起来很可怕，但幸运的是，作为一名安全架构师，通过适当地清除媒体文件上的元数据，这是相当容易防止的。</p><h2 id="d78d" class="lq lr it bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">如何从媒体文件中删除元数据？</h2><p id="2fbf" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">ExifTool允许您通过一个简单的命令来实现这一点…</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="daf1" class="lq lr it mp b gy mt mu l mv mw">% <strong class="mp iu">exiftool -all= someimage.jpg</strong></span></pre><p id="f28b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">“<strong class="kw iu">元数据匿名化工具包2 </strong>”或“<strong class="kw iu"> MAT2 </strong>”在这方面也是一个非常有用的工具。它可以使用Aptitude或Yum安装在Linux系统上。</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="6d31" class="lq lr it mp b gy mt mu l mv mw">kali@kali:~$ <strong class="mp iu">sudo apt-get install mat -y</strong><br/>Reading package lists... Done<br/>Building dependency tree       <br/>Reading state information... Done<br/>mat is already the newest version (0.11.0-1).</span><span id="8e93" class="lq lr it mp b gy my mu l mv mw">kali@kali:~$ <strong class="mp iu">mat2 --help</strong><br/>usage: mat2 [-h] [-V] [--unknown-members policy] [--inplace]<br/>            [--no-sandbox] [-v] [-l] [--check-dependencies] [-L | -s]<br/>            [files [files ...]]</span><span id="e5d6" class="lq lr it mp b gy my mu l mv mw">Metadata anonymisation toolkit 2</span><span id="be47" class="lq lr it mp b gy my mu l mv mw">positional arguments:<br/>  files                 the files to process</span><span id="3537" class="lq lr it mp b gy my mu l mv mw">optional arguments:<br/>  -h, --help            show this help message and exit<br/>  -V, --verbose         show more verbose status information<br/>  --unknown-members policy<br/>                        how to handle unknown members of archive-style<br/>                        files (policy should be one of: abort, omit,<br/>                        keep) [Default: abort]<br/>  --inplace             clean in place, without backup<br/>  --no-sandbox          Disable bubblewrap's sandboxing<br/>  -v, --version         show program's version number and exit<br/>  -l, --list            list all supported fileformats<br/>  --check-dependencies  check if mat2 has all the dependencies it needs<br/>  -L, --lightweight     remove SOME metadata<br/>  -s, --show            list harmful metadata detectable by mat2 without<br/>                        removing them</span></pre><p id="e9fb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我希望你觉得这篇文章有趣并且有用。如果您想随时了解情况，请不要忘记关注我，注册我的<a class="ae mx" href="https://whittle.medium.com/subscribe" rel="noopener">电子邮件通知</a>。</p><h1 id="1323" class="mz lr it bd ls na nb nc lv nd ne nf ly jz ng ka mb kc nh kd me kf ni kg mh nj bi translated">迈克尔·惠特尔</h1><ul class=""><li id="04d1" class="nk nl it kw b kx mj la mk ld nm lh nn ll no lp np nq nr ns bi translated"><strong class="kw iu"> <em class="nt">如果你喜欢这个，请</em> </strong> <a class="ae mx" href="https://whittle.medium.com/" rel="noopener"> <strong class="kw iu"> <em class="nt">跟我上媒</em> </strong> </a></li><li id="436f" class="nk nl it kw b kx nu la nv ld nw lh nx ll ny lp np nq nr ns bi translated"><strong class="kw iu"> <em class="nt">更多有趣的文章，请</em> </strong> <a class="ae mx" href="https://medium.com/trading-data-analysis" rel="noopener"> <strong class="kw iu"> <em class="nt">关注我的刊物</em> </strong> </a></li><li id="9379" class="nk nl it kw b kx nu la nv ld nw lh nx ll ny lp np nq nr ns bi translated"><strong class="kw iu"> <em class="nt">有兴趣合作吗？</em> </strong> <a class="ae mx" href="https://www.linkedin.com/in/miwhittle/" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu"> <em class="nt">我们来连线LinkedIn上的</em> </strong> </a></li><li id="f45c" class="nk nl it kw b kx nu la nv ld nw lh nx ll ny lp np nq nr ns bi translated"><strong class="kw iu"> <em class="nt">支持我和其他媒体作者</em> </strong> <a class="ae mx" href="https://whittle.medium.com/membership" rel="noopener"> <strong class="kw iu"> <em class="nt">在此报名</em> </strong> </a></li><li id="872e" class="nk nl it kw b kx nu la nv ld nw lh nx ll ny lp np nq nr ns bi translated"><strong class="kw iu"> <em class="nt">请别忘了为文章鼓掌:)←谢谢！</em>T13】</strong></li></ul></div></div>    
</body>
</html>