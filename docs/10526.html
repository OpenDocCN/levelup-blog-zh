<html>
<head>
<title>How to: Save Contacts on SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何:在SwiftUI上保存联系人</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-save-contacts-on-swiftui-80ab70eb4da0?source=collection_archive---------6-----------------------#2021-12-18">https://levelup.gitconnected.com/how-to-save-contacts-on-swiftui-80ab70eb4da0?source=collection_archive---------6-----------------------#2021-12-18</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="8032" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">将姓名、电话号码、地址等保存到SwiftUI上的Apple Contacts应用程序的简单教程。</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/8b709b5f91c6cb04e175f00d1f4207c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mW4nFJ0JnR19nAxShn1rrA.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">Xcode 13</figcaption></figure><p id="87b5" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">想使用SwiftUI保存联系人吗？这是给你的一个快速演示。</p><h1 id="7793" class="lv lw iu bd lx ly lz ma mb mc md me mf ka mg kb mh kd mi ke mj kg mk kh ml mm bi translated">开始</h1><h2 id="e690" class="mn lw iu bd lx mo mp dn mb mq mr dp mf li ms mt mh lm mu mv mj lq mw mx ml my bi translated">环境</h2><ul class=""><li id="eec9" class="mz na iu lb b lc nb lf nc li nd lm ne lq nf lu ng nh ni nj bi translated">macOS 12.2</li><li id="2bb1" class="mz na iu lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated">Xcode 13.2.1 (13C100)</li><li id="0848" class="mz na iu lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated">SwiftUI + CoreData(可选)+ CloudKit(可选)</li><li id="6cb0" class="mz na iu lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated">iOS 15.2</li></ul><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj np"><img src="../Images/83b405419b5bf254d1146b9152830d7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CUjRKVYmx5RQFUpTYziE4g@2x.png"/></div></div></figure><h1 id="cd74" class="lv lw iu bd lx ly lz ma mb mc md me mf ka mg kb mh kd mi ke mj kg mk kh ml mm bi translated">步伐</h1><ol class=""><li id="3788" class="mz na iu lb b lc nb lf nc li nd lm ne lq nf lu nq nh ni nj bi translated"><code class="fe nr ns nt nu b">import Contacts</code></li><li id="b2a0" class="mz na iu lb b lc nk lf nl li nm lm nn lq no lu nq nh ni nj bi translated">创建一个<em class="nv">可变对象</em>添加到联系人。<br/> <em class="nv">可变对象</em>是指创建后可以修改的对象状态。</li><li id="5564" class="mz na iu lb b lc nk lf nl li nm lm nn lq no lu nq nh ni nj bi translated"><code class="fe nr ns nt nu b">let contact = CNMutableContact()</code></li><li id="ea4a" class="mz na iu lb b lc nk lf nl li nm lm nn lq no lu nq nh ni nj bi translated">您可以添加不同的联系人信息，如姓名、地址、电话号码、生日等。</li><li id="7b41" class="mz na iu lb b lc nk lf nl li nm lm nn lq no lu nq nh ni nj bi translated">例如，我们添加姓名和电话号码:<br/> <code class="fe nr ns nt nu b">contact.givenName = "Ming"<br/>contact.phoneNumbers = [CNLabeledValue(label: CNLabelPhoneNumberiPhone, value: CNPhoneNumber(stringValue: "12345678"))]<br/></code> *期望生日(DateComponents)，所有条目都应该是<strong class="lb iv">字符串</strong>。</li><li id="5a71" class="mz na iu lb b lc nk lf nl li nm lm nn lq no lu nq nh ni nj bi translated">现在，我们保存创建的联系人。<br/>T3】</li><li id="988f" class="mz na iu lb b lc nk lf nl li nm lm nn lq no lu nq nh ni nj bi translated">最后，我们将上面的代码放入一个按钮中。<br/>样本:</li></ol><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nw nx l"/></div></figure><p id="3d2c" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">现在，打开一个模拟器或你的iPhone，看看点击黑色按钮会发生什么。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ny"><img src="../Images/49cc93994a725074ee475e2c82aeaa2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hHp8eN7aeOLjKlP7SjtzMw@2x.png"/></div></div></figure><p id="d702" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">哦不！应用程序崩溃… <br/>让我们看看控制台中的错误日志。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nz"><img src="../Images/30c32ecb81f0d2215b642829c7528340.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m-r2bq8G7L7O4WgZ3fCX2Q@2x.png"/></div></div></figure><p id="78f4" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">从错误日志中，我们可以看到<code class="fe nr ns nt nu b">Contacts Usage Privacy Description </code>被遗漏了。所以，我们需要添加下面的<code class="fe nr ns nt nu b">description</code> inside info.plist。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oa"><img src="../Images/d0a564c1b16d64c0d96d2db1c3693bfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bvb3WjBKZnSoxbYIjZTTHw@2x.png"/></div></div></figure><p id="7c0b" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">再次运行应用程序。<br/>如果一切正确，点击黑色按钮后会弹出该警告框。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ob"><img src="../Images/2e016fa5b51959496e4710e166567f34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IaNVbAqJatSqtgsgQamxVQ.png"/></div></div></figure><p id="276a" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">点击<strong class="lb iv"> OK </strong>完成！最后，打开联系人应用程序，您会看到添加了一个新的联系人。</p><div class="kk kl km kn gu ab cb"><figure class="oc ko od oe of og oh paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><img src="../Images/e0188947964ed5626c166ee68144ace8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*2AVxEl0kKmKPMLS4BGLXyA.png"/></div></figure><figure class="oc ko od oe of og oh paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><img src="../Images/bc325d38c813df310a41b6e9263d0d00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*XRdHd28wZ7nzQmfGc84X_A.png"/></div></figure></div><h1 id="1bb2" class="lv lw iu bd lx ly lz ma mb mc md me mf ka mg kb mh kd mi ke mj kg mk kh ml mm bi translated">感谢阅读！👏</h1></div><div class="ab cl oi oj hy ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="in io ip iq ir"><h1 id="af16" class="lv lw iu bd lx ly op ma mb mc oq me mf ka or kb mh kd os ke mj kg ot kh ml mm bi translated"><strong class="ak">有困难或错误？别担心！今天Github上的所有源代码都是开源的👨‍💻</strong></h1><div class="ou ov gq gs ow ox"><a href="https://github.com/1998code/SwiftUISaveContacts" rel="noopener  ugc nofollow" target="_blank"><div class="oy ab fp"><div class="oz ab pa cl cj pb"><h2 class="bd iv gz z fq pc fs ft pd fv fx it bi translated">GitHub-1998 code/swiftuisavecontents:带有保存联系人API的SwiftUI 3</h2><div class="pe l"><p class="bd b dl z fq pc fs ft pd fv fx dk translated">github.com</p></div></div><div class="pf l"><div class="pg l ph pi pj pf pk kt ox"/></div></div></a></div></div><div class="ab cl oi oj hy ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="in io ip iq ir"><h1 id="9cd0" class="lv lw iu bd lx ly op ma mb mc oq me mf ka or kb mh kd os ke mj kg ot kh ml mm bi translated">参考</h1><div class="ou ov gq gs ow ox"><a href="https://developer.apple.com/documentation/contacts" rel="noopener  ugc nofollow" target="_blank"><div class="oy ab fp"><div class="oz ab pa cl cj pb"><h2 class="bd iv gz z fq pc fs ft pd fv fx it bi translated">Apple开发者文档</h2><div class="pe l"><p class="bd b dl z fq pc fs ft pd fv fx dk translated">developer.apple.com</p></div></div></div></a></div></div></div>    
</body>
</html>