<html>
<head>
<title>Learning Typescript with Web Components &amp; Lit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Web组件学习Typescript with</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/learning-typescript-with-web-components-lit-4f38fae47e27?source=collection_archive---------6-----------------------#2022-07-13">https://levelup.gitconnected.com/learning-typescript-with-web-components-lit-4f38fae47e27?source=collection_archive---------6-----------------------#2022-07-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/9fc66cf3db8c984f59432a40083172d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yZkXPsucfMlXpdiUJXQa-Q.png"/></div></div></figure><h1 id="a745" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">第1部分:属性、值和数据绑定</h1><blockquote class="kw kx ky"><p id="da10" class="kz la lb lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">在我的关于web组件入门的3部分系列文章中，我们创建了一个示例应用程序来展示定制Web组件是如何工作的。在这个衍生产品中，我们将使用这些组件作为容器来演示使用Typescript开发web应用程序的一些基础知识。</p></blockquote><p id="2c09" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated"><strong class="lc ir">快速索引<br/> </strong>第一部分:<a class="ae ly" rel="noopener ugc nofollow" target="_blank" href="/learning-typescript-with-web-components-lit-4f38fae47e27">属性，值，&amp;数据绑定</a> <br/>第二部分:<a class="ae ly" rel="noopener ugc nofollow" target="_blank" href="/learning-typescript-with-web-components-part-2-9798ec0b67e2">处理数组</a> <br/>第三部分:<a class="ae ly" rel="noopener ugc nofollow" target="_blank" href="/learning-typescript-with-web-components-part-3-a599c8d26213">处理JSON对象</a></p><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mc"><img src="../Images/d610c24dc11a40ad09adba47a2ca93e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0ujbOTBlCkAm6JmmpjosGg.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">Typescript是JavaScript的未来版本，最初由微软发起。</figcaption></figure><h1 id="a20c" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">为什么要学Typescript？</h1><p id="f3c1" class="pw-post-body-paragraph kz la iq lc b ld ml lf lg lh mm lj lk lz mn ln lo ma mo lr ls mb mp lv lw lx ij bi translated"><a class="ae ly" href="https://www.typescriptlang.org/" rel="noopener ugc nofollow" target="_blank"> Typescript </a>无非是JavaScript的下一个版本，这是世界上最流行和最重要的编程语言。今天，您可以通过使用支持Typescript的服务器和构建器来享受它的未来派特性。添加一个支持Typescript的IDE，您就可以开始了！</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mq"><img src="../Images/23d013e82f2889998514e79370c25c3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*issmk3mnGrTUIx32mAkrUA.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">今天，我推荐用最小的开销构建定制web组件的Lit。我的<a class="ae ly" href="https://hexxedgame.com" rel="noopener ugc nofollow" target="_blank"> Hexxed游戏</a>使用TS和Lit来渲染巨型动物，带有反应图标的按钮，以及响应用户的调色板。</figcaption></figure><h1 id="d70c" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">为什么要学习Web组件和Lit的TS？</h1><p id="9eb6" class="pw-post-body-paragraph kz la iq lc b ld ml lf lg lh mm lj lk lz mn ln lo ma mo lr ls mb mp lv lw lx ij bi translated">由于<a class="ae ly" href="https://en.wikipedia.org/wiki/Document_Object_Model" rel="noopener ugc nofollow" target="_blank"> DOM </a>(浏览器实际呈现的)使用起来丑陋而可怕，许多JavaScript编程示例试图完全避免使用它！相反，他们会要求你使用“<a class="ae ly" href="https://jsfiddle.net/" rel="noopener ugc nofollow" target="_blank">编码操场</a>”，在那里他们设置了一个web界面来显示你的代码输出。另一种选择是<code class="fe mr ms mt mu b">console.log()</code>语句，它们甚至不显示在HTML页面内部，而是显示在页面外部的调试面板中。呸。</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/5ba9793bd69cc82c5849e88d6f7440b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5owQJayNYYeRc3bMofp71g.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">没有一些HTML来显示我们的Typescript结果，我们只剩下右边难看的<strong class="bd ka"> console.log() </strong>。</figcaption></figure><p id="80ee" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">然而，如果我们在<strong class="lc ir"> web组件已经安装好</strong>的情况下开始Typescript学习之旅，我们可以直接从编写Typescript开始，在浏览器中查看它的实际输出。如果我们正在开发任何一种带有web UI的应用程序，我们可以用Typescript来搭建我们的组件行为和外观。</p><h1 id="9ef5" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">先决条件:VSCode、Lit和Vite</h1><blockquote class="kw kx ky"><p id="6273" class="kz la lb lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">如果您从这里开始本系列，您将需要安装了Lit和Vite的VSCode。您可以在我的web组件系列的第2部分中找到这些的逐步说明，或者您可以从GitHub下载我的<a class="ae ly" href="https://github.com/garranplum/lit-starter" rel="noopener ugc nofollow" target="_blank"> Lit starter kit </a>，它是现成可用的。</p></blockquote><h1 id="bbf2" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">在组件中使用值</h1><p id="d0a0" class="pw-post-body-paragraph kz la iq lc b ld ml lf lg lh mm lj lk lz mn ln lo ma mo lr ls mb mp lv lw lx ij bi translated">在前一系列的第3部分的最后，我们构建了一个执行<em class="lb">路由</em>的web组件。结果是根据用户的URL显示两个不同的内容页面。让我们看看这是如何实现的:</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/cf8b2e988ad3fbc6de0c81b51964be6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7zDhPQr8vP_DhAaGuENcOg.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">这个组件使用一个<strong class="bd ka"> JSON对象</strong>和一个<strong class="bd ka">属性</strong>，以便在HTML输出中呈现()一个动态值。</figcaption></figure><h1 id="ad9f" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">分配一个常数值</h1><p id="4d2b" class="pw-post-body-paragraph kz la iq lc b ld ml lf lg lh mm lj lk lz mn ln lo ma mo lr ls mb mp lv lw lx ij bi translated">为了存储HTML页面的内容，我们使用了一个Typescript常量，编写为<code class="fe mr ms mt mu b">const</code>。根据定义，常量是一个<strong class="lc ir">变量</strong>，它不应该<strong class="lc ir">改变</strong>！换句话说，如果我们不期望或不希望它的值在我们的应用中改变，我们就定义一个常数。</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/32fdeb0420fd0a173d8be0155a62dcb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*LaE3iiDqd1XynV-zuJTI7A.png"/></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">常量定义以<strong class="bd ka"> const </strong>开始，然后是它的名字。灰色阴影区域是该常数表示的Typescript类型的VSCode建议。在后面的章节中会有更多的介绍！</figcaption></figure><p id="5768" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">我们对<code class="fe mr ms mt mu b">Pages</code>的<code class="fe mr ms mt mu b">const</code>定义也为<a class="ae ly" href="https://en.wikipedia.org/wiki/Assignment_(computer_science)" rel="noopener ugc nofollow" target="_blank"> <strong class="lc ir">赋值</strong> </a> <strong class="lc ir">一个值</strong>(在<code class="fe mr ms mt mu b">=</code>符号之后)。值周围的花括号告诉我们这是一个JSON对象。</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div class="gh gi my"><img src="../Images/34c4906d61758df5a03d2980c7f319af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*G6DGn-Jua5-OMcq-"/></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">“万物不都是对象吗？”“是的，但那现在不重要。”</figcaption></figure><h1 id="851b" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">一切都是物体</h1><p id="562b" class="pw-post-body-paragraph kz la iq lc b ld ml lf lg lh mm lj lk lz mn ln lo ma mo lr ls mb mp lv lw lx ij bi translated">你可能听说过在JavaScript中，一切都是对象。这是真的，但现在不重要。出于我们的目的，我将使用术语<strong class="lc ir"> JSON对象</strong>，这样我们就知道我们在模型中讨论的是<a class="ae ly" href="https://en.wikipedia.org/wiki/JSON" rel="noopener ugc nofollow" target="_blank"> JSON格式</a>的数据。JSON(发音为“JAY-sun”)是JavaScript中所有数据(以及其他所有东西)的标准表示方式，因此在Typescript中也是如此。</p><p id="3cf4" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">一旦你知道规则，JSON读起来并不可怕。</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/fec6057e08d9cb46191a834796074c3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*xy3Vj3RYFuNeglgpMZCUuQ.png"/></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">这里黄色的文字是两个<strong class="bd ka">键</strong>。它们必须以冒号结尾。这里的<strong class="bd ka">值</strong>是蓝色的，必须用逗号隔开。</figcaption></figure><p id="3b20" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">JSON对象可以被认为是一种字典。字典中的每个条目都有一个键和值。虽然我们可以通过关键字在字典中查找任何东西，但是条目<em class="lb">没有任何特定的顺序。</em>每个键必须是唯一的，我们需要确切的键来获取值。</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mz"><img src="../Images/bfb02d7799ff9107f939afa6c8e75901.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bMzi44o6LDVn8p7b"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">Typescript中的数据绑定就像精灵一样。自从1965年这个节目播出以来，我们已经走过了漫长的道路。</figcaption></figure><h1 id="fce7" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">使用${expression}输出数据</h1><p id="2a23" class="pw-post-body-paragraph kz la iq lc b ld ml lf lg lh mm lj lk lz mn ln lo ma mo lr ls mb mp lv lw lx ij bi translated">如果页面内容存储在我们的JSON模型中，我们需要一种方法在组件呈现时显示它(在<code class="fe mr ms mt mu b">render()</code>函数的<code class="fe mr ms mt mu b">return</code>中)。</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div class="gh gi na"><img src="../Images/1573a954583f161313d1b6732c3c7db3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/1*yuwsDYfVOA9xyTeM6KEgrA.png"/></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">我们可以在<strong class="bd ka"> $花括号</strong>中编写任何有效的Typescript表达式，包括来自我们模型的函数调用或值，就像这里的<strong class="bd ka"> Pages </strong>。</figcaption></figure><p id="ef40" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">为了从我们的模型中输出数据，我们使用了<code class="fe mr ms mt mu b">${expression}</code>语法，其中<code class="fe mr ms mt mu b">expression</code>是来自我们模型的某个东西(包括函数调用)。</p><h1 id="62e1" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">从JSON中获取值</h1><p id="20b9" class="pw-post-body-paragraph kz la iq lc b ld ml lf lg lh mm lj lk lz mn ln lo ma mo lr ls mb mp lv lw lx ij bi translated">为了在JSON对象中查找某些东西，我们使用了一个<strong class="lc ir">访问器</strong>。有两种。我们先来看看这段代码中的那个。</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/134fdc1b9fdfed8fe8546c14cb0e033a.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*hGAa1KV9E7U9rFvzf5CwnQ.png"/></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated"><strong class="bd ka">页</strong>是对我们定义的常数的引用。<strong class="bd ka">【方括号】</strong>中的值是我们想要从Pages中访问的键。</figcaption></figure><h1 id="ba9f" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">方括号访问器</h1><p id="c816" class="pw-post-body-paragraph kz la iq lc b ld ml lf lg lh mm lj lk lz mn ln lo ma mo lr ls mb mp lv lw lx ij bi translated">这里，我们在方括号内传递我们想要的键。如果我们在编写代码时不知道关键字，这种访问JSON对象的方法特别有用，就像这里的情况一样。另一种说法是，关键是<strong class="lc ir">变量</strong>。在这种情况下，它来自一个<em class="lb">属性</em>，我们马上就会看到这个属性。</p><h1 id="6034" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">带文字的方括号</h1><figure class="md me mf mg gt jr gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/6cb079f244cc84131c908a44b3e987ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/format:webp/1*xkWrnwx208gNnb2-PugPkw.png"/></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">以文字形式提供键将总是产生相同的页面。</figcaption></figure><p id="e33a" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">如果我们事先知道密钥，我们就可以用引号传递一个<strong class="lc ir">文字</strong>值。例如，如果总是想要欢迎页面而不是其他页面，我们可以只写<code class="fe mr ms mt mu b">“welcome”</code>加引号。</p><p id="062e" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">请注意，在Typescript中，使用三种类型的引号并不重要，只要每种类型都是属性嵌套的。然而，特殊的<strong class="lc ir">反引号</strong>(在这里用在<code class="fe mr ms mt mu b">html</code>之后包围HTML内容)具有理解<code class="fe mr ms mt mu b">${expression}</code>语法的神奇特性。</p><h1 id="e567" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">文字的快捷访问器</h1><p id="9b32" class="pw-post-body-paragraph kz la iq lc b ld ml lf lg lh mm lj lk lz mn ln lo ma mo lr ls mb mp lv lw lx ij bi translated">当我们<em class="lb">确实</em>知道密钥时，有一个更短的方法来写它。带一个点。</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/b9eff372b374d42d67782864dd055c0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/1*zGy7l5qg3GnIppiwH-l7Mg.png"/></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">后面有一个<strong class="bd ka">点</strong>的对象是点后面的<strong class="bd ka">键</strong>的访问器。</figcaption></figure><figure class="md me mf mg gt jr gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/b305f47078666f5872ed91f09fbbc95a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/format:webp/0*7-3THGLNk3xNI2sK.png"/></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">在《我爱露西》的一个著名情节中，弗雷德自豪地烤了一个“七层深”的蛋糕。</figcaption></figure><p id="6ff8" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">事实上，我们一直在使用这种技术，甚至不知道它。每次我们在Typescript中编写<em class="lb"> object.key </em>(这是很多)时，我们只是在某个JSON对象上使用这个快捷方式。我们甚至已经看到在我们的<code class="fe mr ms mt mu b"> &lt;dta-home&gt;</code>组件中有<code class="fe mr ms mt mu b">document.location.pathname</code>的“三层深度”。</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nf"><img src="../Images/b788878950d0924221e59c78ae2457ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tNuS2jXKzMt3yI7Bmcjx-w.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">这里，位置是文档<strong class="bd ka">对象</strong>的关键点。该键的值是另一个具有路径名键的<strong class="bd ka">对象</strong>。</figcaption></figure><p id="ea4d" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">JSON对象可以并且经常在它们的值中包含其他JSON对象。当这种情况发生时，我们可以使用这种快捷方式来“向下钻取”这些键，以获得我们想要的值。在这个例子中，名为<code class="fe mr ms mt mu b">document</code>的JSON对象有一个<code class="fe mr ms mt mu b">location</code>键。那个键的值是<strong class="lc ir">另一个JSON对象</strong>，它有一个名为<code class="fe mr ms mt mu b">pathname</code>的键。</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/c9dfec46adf90f3d9d5b1064477b5853.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*evNuhzMmiK_bNjcy"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">你听说过地产兄弟吗？在JS中，<strong class="bd ka">属性</strong>和<strong class="bd ka">属性</strong>是兄弟。他们还需要是同卵双胞胎<strong class="bd ka"><em class="nh"/></strong>才能完成任何工作！</figcaption></figure><h1 id="d78a" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">介绍属性</h1><p id="901c" class="pw-post-body-paragraph kz la iq lc b ld ml lf lg lh mm lj lk lz mn ln lo ma mo lr ls mb mp lv lw lx ij bi translated">这对于不变的、静态的值(比如我们预定义的页面内容)来说很好。但是为了给我们的组件提供动态行为(比如改变页面)，我们需要<strong class="lc ir">属性</strong>。属性是一种特殊的变量，具有两个独特的特征。</p><ol class=""><li id="f01e" class="ni nj iq lc b ld le lh li lz nk ma nl mb nm lx nn no np nq bi translated">属性可以通过自定义元素上的<strong class="lc ir">属性</strong>从外部设置。</li><li id="afe7" class="ni nj iq lc b ld nr lh ns lz nt ma nu mb nv lx nn no np nq bi translated">如果显示的属性发生变化，Lit将重新绘制组件。</li></ol><p id="8844" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">为了从外部引入数据，我们需要一个属性。在这种情况下，我们希望从外部获得的数据是我们应该显示的页面的关键。这类属性通常被称为public，表示它们会受到外部代码的影响。在<code class="fe mr ms mt mu b">render() </code>输出之前，将所有这些定义放在一起是很好的编程实践。因此，我将在代码中添加一个部分和一个注释:</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nw"><img src="../Images/eed468bb91be4afa347307c6fc8cb52a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*9JSwOkk3zlPR5khtgy7K_w.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">你的public <strong class="bd ka">属性</strong>应该在你的CSS之后，render()输出之前。</figcaption></figure><p id="8daf" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">这个属性定义表明，当我们在其他HTML中使用这个组件时，我们模型中的<code class="fe mr ms mt mu b">this.page</code>的值将总是等于从外部传入的值。所以让我们开始吧！</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nx"><img src="../Images/d5493f355f191804ac272f29c9978483.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DHWpuklVyCD_LUUESJ4gVQ.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">在<dta-home>中，我们传递我们想要的<strong class="bd ka"> page= </strong>属性的值。</dta-home></figcaption></figure><h1 id="2fe7" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">将值传递给组件</h1><p id="0f91" class="pw-post-body-paragraph kz la iq lc b ld ml lf lg lh mm lj lk lz mn ln lo ma mo lr ls mb mp lv lw lx ij bi translated">事实上，这种用属性设置属性的方法是web组件相互通信的主要方式。这样，每个组件只获得它需要的信息，并且以方便的形式供您传递。</p><p id="8658" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">这时你可能会奇怪，“如果我们正在设置属性，为什么我们要把它们叫做<em class="lb">属性</em>？”答案是attribute在这里特指HTML元素上的<code class="fe mr ms mt mu b">propertyName=”value”</code>。该元素本身具有其他属性，因此有单独的名称。在本文中，当我指属性上的“发送”值时，我将使用术语<code class="fe mr ms mt mu b">page=</code>属性，当我指子组件中的“接收”值时，我将使用术语<code class="fe mr ms mt mu b">page</code>属性。听起来不错吧？</p><h1 id="a89b" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">处理默认值</h1><p id="076d" class="pw-post-body-paragraph kz la iq lc b ld ml lf lg lh mm lj lk lz mn ln lo ma mo lr ls mb mp lv lw lx ij bi translated">在web应用程序中，经常需要处理缺省值或缺失值。即使在这个非常简单的应用程序中，我们只定义了两个web“页面”我们从来没有说过如果用户没有导航到任何一个会发生什么！让我们看看处理缺省值和缺失值的两种技术。</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nx"><img src="../Images/d5493f355f191804ac272f29c9978483.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DHWpuklVyCD_LUUESJ4gVQ.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">在<strong class="bd ka"> page= </strong>属性中，我们使用“or技术”来处理一个<strong class="bd ka"> null </strong>或空值。</figcaption></figure><figure class="md me mf mg gt jr gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/fe3829aeb8cf1dfeb110bab1c5a49f2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/1*oOiIIA4bsDihKLvZtDsRkw.png"/></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">不仅仅是编程，所有的逻辑谜题，像著名的<a class="ae ly" href="https://en.wikipedia.org/wiki/The_Lady,_or_the_Tiger%3F" rel="noopener ugc nofollow" target="_blank">女士或老虎</a>，都可以用<a class="ae ly" href="https://en.wikipedia.org/wiki/Boolean_algebra" rel="noopener ugc nofollow" target="_blank">布尔</a>运算符如AND、or、and NOT来解决。在硅层面，芯片在硬件中以相同的逻辑运行，称为<a class="ae ly" href="https://en.wikipedia.org/wiki/Logic_gate" rel="noopener ugc nofollow" target="_blank">门</a>。</figcaption></figure><h1 id="0336" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">使用or对Null进行陷印</h1><p id="0e85" class="pw-post-body-paragraph kz la iq lc b ld ml lf lg lh mm lj lk lz mn ln lo ma mo lr ls mb mp lv lw lx ij bi translated">计算机应用程序的大量业务逻辑可以归结为对<code class="fe mr ms mt mu b">AND</code>和<code class="fe mr ms mt mu b">OR</code>的简单测试。在JS和TS中，or操作符(写为<code class="fe mr ms mt mu b">||</code>，读为“OR”)有一个处理空值的有用特性。如果第一个值为空，则返回第二个值！我们可以这样说，“如果<code class="fe mr ms mt mu b">pageKey</code>是空的，使用<code class="fe mr ms mt mu b">‘welcome’</code>”</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/c608e31a1b6af617ae7aa9a712e54886.png" data-original-src="https://miro.medium.com/v2/resize:fit:908/format:webp/1*h_A-5xwJZVO1tivazjTcXA.png"/></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">来自W3Schools 的这个片段展示了如何在Typescript中编写<strong class="bd ka">和</strong>以及<strong class="bd ka">或</strong>。</figcaption></figure><p id="3761" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">如果用户没有在URL上键入路径，在<code class="fe mr ms mt mu b">page=</code>属性中使用OR会导致传递默认值“welcome”。但是如果我们根本没有提供一个<code class="fe mr ms mt mu b">page=</code>属性<strong class="lc ir"/>呢？</p><h1 id="0ed4" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">设置属性默认值</h1><figure class="md me mf mg gt jr gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/1a348f068e42e5c91450b05a11bbbfce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1064/format:webp/1*E_CpjL59nUsWv3ya44cO7g.png"/></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">在<dta-page>中，如果属性丢失，我们可以设置默认值。</dta-page></figcaption></figure><p id="51ca" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">在您的组件定义中，很多时候您会希望为根本不传递的值设置默认值。这使得编写元素更加简单，因为您只需要传递非默认值的属性。</p><p id="0744" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">为了实现这一点，您可以简单地<strong class="lc ir">在组件中定义属性时给它赋值</strong>。就像我们之前对<code class="fe mr ms mt mu b">const</code>的赋值一样，新值写在<code class="fe mr ms mt mu b">=</code>符号之后。在这种情况下，它是字符串<code class="fe mr ms mt mu b">“welcome”</code>，如果没有给我们一个键，我们希望提供它。</p><h1 id="b829" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">把所有的放在一起</h1><p id="2145" class="pw-post-body-paragraph kz la iq lc b ld ml lf lg lh mm lj lk lz mn ln lo ma mo lr ls mb mp lv lw lx ij bi translated">那好吧！如果<em class="lb">已经正确定义了</em>属性(在其组件定义中)并且<em class="lb">正确使用了</em>(在其<strong class="lc ir">调用方</strong>或<strong class="lc ir">父</strong>组件中)，属性的值应该在组件的模型中可用。让我们看看是不是…</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ob"><img src="../Images/d7d5f90bc4781242cc98ab92ce51689d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*XVUQmiCCVramB54yiK7Hfw.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">我用新的HTML值添加了第三个键。</figcaption></figure><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oc"><img src="../Images/d9f4796cd2d8a73145f0fb0538b6ff2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*87YoE7es2R82gx9_TVkvGg.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">访问新的URL会生成新的页面，不需要任何其他更改。</figcaption></figure><h1 id="48f6" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">我们已经走了这么远！</h1><p id="4591" class="pw-post-body-paragraph kz la iq lc b ld ml lf lg lh mm lj lk lz mn ln lo ma mo lr ls mb mp lv lw lx ij bi translated">那么，旅伴们，我们到哪里了？我们已经了解了如何定义一个<strong class="lc ir"> JSON对象</strong>，它的作用就像一个字典，并根据我们请求的<strong class="lc ir">键</strong>返回<strong class="lc ir">值</strong>。我们已经看到了<strong class="lc ir">属性</strong>和<strong class="lc ir">属性</strong>如何结合起来将数据从一个web组件传递到另一个web组件。我们已经展示了如何在输出HTML中使用可变数据和表达式，一起被称为<strong class="lc ir">数据绑定</strong>，可以使web组件毫不费力地更新自己。</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi od"><img src="../Images/6216390912666f311c72bd1558084068.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*88cBMsnqjWfI7Fem"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">比利时布鲁塞尔的<a class="ae ly" href="https://en.wikipedia.org/wiki/Atomium" rel="noopener ugc nofollow" target="_blank">原子博物馆</a>是一座雕塑建筑，你可以在里面漫步(我就这样做过！).它是以铁原子为模型，放大了1650亿倍。使用web组件的小型模块化设计，您可以构建哪些令人兴奋的大东西？</figcaption></figure><h1 id="b6e2" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">接下来，精彩的数组世界</h1><p id="5a20" class="pw-post-body-paragraph kz la iq lc b ld ml lf lg lh mm lj lk lz mn ln lo ma mo lr ls mb mp lv lw lx ij bi translated">在第二部分的<a class="ae ly" href="https://medium.com/gitconnected/learning-typescript-with-web-components-part-2-9798ec0b67e2" rel="noopener">中，我们将看看数组的概念，JS处理<em class="lb">事物列表</em>的奇妙方式。我们将创建一个定制的<code class="fe mr ms mt mu b">&lt;dta-palette&gt;</code>组件，可以显示我们提供的颜色列表的色卡。在这个过程中，我们将会看到在Typescript中使用数组的一些很好的技术。</a></p><p id="c825" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">一如既往的感谢您的阅读。下次见！</p><p id="1444" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated"><em class="lb"> — D </em></p></div><div class="ab cl oe of hu og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ij ik il im in"><h1 id="ce62" class="jy jz iq bd ka kb ol kd ke kf om kh ki kj on kl km kn oo kp kq kr op kt ku kv bi translated">分级编码</h1><pre class="md me mf mg gt oq mu or os aw ot bi"><span id="b102" class="ou jz iq mu b gy ov ow l ox oy">Thanks for being a part of our community! More content in the <a class="ae ly" href="https://levelup.gitconnected.com/" rel="noopener ugc nofollow" target="_blank">Level Up Coding publication</a>.</span><span id="ac4f" class="ou jz iq mu b gy oz ow l ox oy">Follow: <a class="ae ly" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">Twitter</a>, <a class="ae ly" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>, <a class="ae ly" href="https://newsletter.levelup.dev/" rel="noopener ugc nofollow" target="_blank">Newsletter</a></span><span id="decd" class="ou jz iq mu b gy oz ow l ox oy"><strong class="mu ir">Level Up is transforming tech recruiting</strong> 👉 <a class="ae ly" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"><strong class="mu ir">Join our talent collective</strong></a></span></pre></div></div>    
</body>
</html>