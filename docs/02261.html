<html>
<head>
<title>Getting Started with Sequence Unpacking in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python序列解包入门</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-unpack-sequences-in-python-8b3c0e6ef4fa?source=collection_archive---------6-----------------------#2020-03-01">https://levelup.gitconnected.com/how-to-unpack-sequences-in-python-8b3c0e6ef4fa?source=collection_archive---------6-----------------------#2020-03-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a1ce" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">序列解包介绍</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ef0174dadc9ee7d37f4e4d49399cdc1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dOXfCDgCl-W0fGRYUZPd4g.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://www.pexels.com/photo/grayscale-photo-of-computer-laptop-near-white-notebook-and-ceramic-mug-on-table-169573/" rel="noopener ugc nofollow" target="_blank">像素</a>上的<a class="ae ky" href="https://www.pexels.com/@negativespace" rel="noopener ugc nofollow" target="_blank">负空间</a>拍摄</figcaption></figure><p id="e86d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无论您是软件工程师还是数据科学家，对数据结构和算法有深刻的理解都是很有价值的。在这篇文章中，我将介绍在python中解包不同类型序列的过程。这篇文章中的例子是基于<a class="ae ky" href="https://d.cxcore.net/Python/Python_Cookbook_3rd_Edition.pdf" rel="noopener ugc nofollow" target="_blank"> <em class="lv"> Python食谱</em> </a>的“数据结构和算法”一章。</p><p id="4422" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们开始吧！</p><p id="f5a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，通过在终端中键入“python”并按enter键打开python交互式shell(确保您安装了python)。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="3faa" class="mb mc it lx b gy md me l mf mg">$ python</span></pre><p id="0b26" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于我们的例子，我们将使用股票市场信息。首先，让我们定义一个名为“favorite_stocks”的元组:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="48a0" class="mb mc it lx b gy md me l mf mg">&gt;&gt; favorite_stocks = (‘MSFT’, ‘AAPL’)</span></pre><p id="2dcd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">元组用括号指定，它们是一系列不可变的python对象。这仅仅意味着，与列表不同，不能对元组进行元素赋值。</p><p id="d083" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果变量的数量和结构与序列相匹配，那么上面这样的序列可以被解包到变量中。例如:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="aeeb" class="mb mc it lx b gy md me l mf mg">&gt;&gt; x, y = favorite_stocks </span></pre><p id="2921" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们执行“x ”,我们会得到:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="b068" class="mb mc it lx b gy md me l mf mg">&gt;&gt; x<br/>'MSFT'</span></pre><p id="e394" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，让我们定义一个名为“stock_data”的列表:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="2d5d" class="mb mc it lx b gy md me l mf mg">&gt;&gt; stock_data = ['MSFT', 100, 162, (2020, 02, 28)]</span></pre><p id="9618" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第一个元素是股票名称，第二个是股票数量，第三个是股票价格，最后一个元素是日期。我们可以用以下方式解开这个序列:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="bc88" class="mb mc it lx b gy md me l mf mg">&gt;&gt; name, shares, price, date = stock_data</span></pre><p id="6334" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们执行“股份”,我们会得到:</p><p id="3462" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输入:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="6393" class="mb mc it lx b gy md me l mf mg">&gt;&gt;shares<br/></span></pre><p id="923c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="519c" class="mb mc it lx b gy md me l mf mg">100</span></pre><p id="2976" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们执行date，我们会得到:</p><p id="e695" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输入:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="6a72" class="mb mc it lx b gy md me l mf mg">&gt;&gt;date</span></pre><p id="f2e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="eb52" class="mb mc it lx b gy md me l mf mg">(2020, 02, 28)</span></pre><p id="2caf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是另一个元组。我们可以通过以下方式进一步解包这个元组:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="fc41" class="mb mc it lx b gy md me l mf mg">&gt;&gt; name, shares, price, (year, month, day) = stock_data</span></pre><p id="a0b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，如果我们执行一个月，我们会得到:</p><p id="2d2c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输入:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="5168" class="mb mc it lx b gy md me l mf mg">&gt;&gt;month</span></pre><p id="30d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="470b" class="mb mc it lx b gy md me l mf mg">02</span></pre><p id="cbc7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当解包变量时，您需要确保元素的数量没有不匹配，否则您会得到一个错误。让我们回到我们的“最喜爱的股票”的例子:</p><p id="fe85" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输入:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="7ee4" class="mb mc it lx b gy md me l mf mg">&gt;&gt;x, y, z = favorite_stocks</span></pre><p id="4b71" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="6a14" class="mb mc it lx b gy md me l mf mg">Traceback (most recent call last):<br/>File "&lt;stdin&gt;", line 1, in &lt;module&gt;<br/>ValueError: not enough values to unpack (expected 3, got 2)</span></pre><p id="4500" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">序列解包可以应用于任何可迭代的对象。这包括字符串、迭代器和生成器。例如，如果我们有‘MSFT:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="3da6" class="mb mc it lx b gy md me l mf mg">&gt;&gt;stock_name = ‘MSFT’</span></pre><p id="3193" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以如下解包字符串:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="724a" class="mb mc it lx b gy md me l mf mg">&gt;&gt;a, b, c, d = stock_name </span></pre><p id="fd0c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输入:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="9fbc" class="mb mc it lx b gy md me l mf mg">&gt;&gt;a</span></pre><p id="7568" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="5d2c" class="mb mc it lx b gy md me l mf mg">'M'</span></pre><p id="2d7b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">解包变量时，也可以用下划线“_”来表示一次性变量(不使用的变量)。例如:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="43c2" class="mb mc it lx b gy md me l mf mg">&gt;&gt;_, b, c, _= stock_name</span></pre><p id="d2f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，你只会对使用b和c感兴趣。</p><p id="c91e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将讨论的最后一件事是从任意长度的可重复项中解包元素。假设我们有一个网站的用户记录，包括用户名、电子邮件和在网站上花费的时间列表:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="19cd" class="mb mc it lx b gy md me l mf mg">&gt;&gt;user_record = ('robin1991', 'robin91@gmail.com', 5, 4, 2, 8, 7)</span></pre><p id="f4b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以用以下方式打开包装:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="8863" class="mb mc it lx b gy md me l mf mg">&gt;&gt;user_name, email, *hours = user_record</span></pre><p id="d3c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">执行“用户名”，我们得到:</p><p id="0565" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输入:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="58df" class="mb mc it lx b gy md me l mf mg">&gt;&gt;user_name</span></pre><p id="51d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="5b96" class="mb mc it lx b gy md me l mf mg">'robin1991'</span></pre><p id="7085" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">执行我们得到'小时数'，</p><p id="2fa5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输入:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="8b52" class="mb mc it lx b gy md me l mf mg">&gt;&gt;hours</span></pre><p id="e067" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="e37a" class="mb mc it lx b gy md me l mf mg">[ 5, 4, 2, 8, 7]</span></pre><p id="d7c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望这能对你有所帮助。有问题请留言评论！</p></div></div>    
</body>
</html>