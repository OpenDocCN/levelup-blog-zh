# Xcode 中的手动代码签名

> 原文：<https://levelup.gitconnected.com/manual-code-signing-in-xcode-4ad194af0802>

![](img/fcd634765a6997ece8b3d313d4a2a1b3.png)

olga brajnovic 在 [Unsplash](https://unsplash.com/s/photos/honey-bee?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上拍摄的照片

手动签署 iOS 应用程序可能会非常混乱，尤其是如果你是 iOS 开发的新手。我已经创建了一个简明指南，介绍如何在 Xcode 中手动签署你的应用程序。大多数时候，我使用**自动管理签名**选项，但最近决定学习如何手动操作，并与 iOS 社区分享。

## 创建证书

证书对应用程序的二进制文件进行签名，有两种类型的主要证书—开发和分发。它们与**预置描述文件** *-* 一起工作，我们将在下面介绍它们——现在，只需知道每个预置描述文件都必须包含相应的证书。你可以在苹果的开发者网站上阅读所有关于代码签名的内容。

**开发证书**签署在内部设备上开发和部署的应用。开发证书通常与私钥成对出现。请注意，您确实能够将证书和私钥从钥匙串导出到一个**个人信息交换**文件(也称为***P12******文件*** )。在这里阅读更多关于密码学[中的 PKCS12。一个**发行证书**签署你计划提交给应用商店的应用程序。](https://en.wikipedia.org/wiki/PKCS_12)

*要通过 Xcode 创建证书，请按照以下步骤操作:*

1.  在 Xcode 中，转到应用程序的**签名&功能。**
2.  确保“**自动管理签名”**未选中，因为本指南侧重于手动签名应用程序。
3.  点击 **Xcode - >首选项(Command +，)**
4.  如果你还没有在 Xcode 中添加账户，点击左下角的 **+** 进入 **Apple ID** 账户添加流程。
5.  在选中的 Apple ID 中，选择左下角的**管理认证**->+，以及你想要创建的认证类型。这将自动将证书放入**钥匙串访问**以及您的**苹果开发者账户。**

前面我提到过，您可以导出开发证书和私钥。为了将证书和私钥一起导出，您可以打开**钥匙串访问**并找到您想要导出的证书。单击证书，然后单击**文件- >导出项目**并将文件保存为 P12 格式(这是此操作的默认格式，因此您可以给文件取一个新名称或保持原样，然后单击**保存**)。

在**签名&功能**中，有一个**配置文件** *的下拉菜单。*预置描述文件定义了在设备上运行应用程序的某些参数。它包含许多信息，如应用程序 ID、团队名称、UUID、授权、证书和供应的设备。签署应用程序时，必须包含预置描述文件。

## 创建预置描述文件

1.  登录你的苹果开发者[账户](https://developer.apple.com/account/)。
2.  点击**档案- > +**
3.  选择您想要创建的预置描述文件的类型。
4.  选择您想要包含在个人资料中的应用 ID。
5.  选择要包含在配置文件中的证书。
6.  如果您正在生成开发描述文件，请选择您想要包含在描述文件中的设备。
7.  命名预置描述文件。
8.  点击**生成。**

如果一切设置正确，您将能够在 Xcode 的**签名&功能**部分选择预置描述文件。

1.  点击**配置文件**下拉菜单。
2.  点击**下载**调出您的 Apple ID 的预置描述文件列表。
3.  选择与应用程序关联的预配配置文件。

请注意，您也可以从 Apple 开发者帐户下载预置描述文件，然后在 Xcode 中选择**导入描述文件**选项来导入下载的描述文件。

感谢您的阅读，祝您编码愉快！