<html>
<head>
<title>How to make a Hand tracking module using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Python制作手部跟踪模块</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/hand-tracking-module-using-python-eb27c8772664?source=collection_archive---------6-----------------------#2021-11-24">https://levelup.gitconnected.com/hand-tracking-module-using-python-eb27c8772664?source=collection_archive---------6-----------------------#2021-11-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="5e4c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">仅仅通过在空中挥动你的手就能让不同的事情发生，这有多好？这种神奇的力量可以比作拥有你的设备网络，就像钢铁侠指挥他的人工智能系统网络一样。如果你为自己创造一个不是很好吗？</p><p id="6a7f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">嗯，追踪你的手是你需要做的第一步。在本文中，我们将创建我们的实时手跟踪模块来检测我们的手和估计界标。</p><h1 id="8e41" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">我们开始吧</h1><p id="931f" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">信不信由你，如果你在计算机视觉领域工作，你肯定用过OpenCV库，或者如果你是初学者，你至少见过这个库。你猜怎么着？我们将在我们的项目中使用这个库。OpenCV将帮助我们访问网络摄像头。如果您不知道如何使用OpenCV库，请不要担心。我会解释每一行代码。对于手和界标估计，我们将使用Mediapipe。</p><h1 id="64c4" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">什么是Mediapipe？🤔</h1><p id="3d25" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">Mediapipe是Google开发的机器学习框架。它是开源的，并且是轻量级的。Mediapipe提供了很多ML解决方案API，比如人脸检测，人脸网格，虹膜，手，姿势，还有很多。点击查看更多关于Mediapipe <a class="ae lo" href="https://google.github.io/mediapipe/" rel="noopener ugc nofollow" target="_blank">的信息。</a></p><p id="0ce8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这个项目中，我们将使用Mediapipe的<strong class="jp ir">双手地标模型。</strong></p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/fc5357e8d7f2670e449b732a34a5775b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*uxsbUUiXbH62L4cz.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">图1: <a class="ae lo" href="https://google.github.io/mediapipe/solutions/hands.html" rel="noopener ugc nofollow" target="_blank"> Mediapip双手地标模型</a></figcaption></figure><p id="db32" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们从一些基本代码开始</p><pre class="lq lr ls lt gt mf mg mh mi aw mj bi"><span id="dea8" class="mk km iq mg b gy ml mm l mn mo">1. import cv2<br/>2. import mediapipe as mp</span><span id="ec59" class="mk km iq mg b gy mp mm l mn mo">3. cap = cv2.VideoCapture(0) <br/>4. mp_hands = mp.solutions.hands<br/>5. hands = mp_hands.Hands()<br/>6. mp_draw = mp.solutions.drawing_utils</span></pre><p id="abd8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你不熟悉OpenCV，让我帮助你理解上面的代码。我们导入了两个库，这是我们项目的一个依赖项。在3号线上，我们正在访问我们系统的网络摄像头。Mediapipe提供了手动模块API，我们正在4号线上访问它们。我们正在第5行创建类<strong class="jp ir"> <em class="mq"> Hands </em> </strong>的对象。<strong class="jp ir"> <em class="mq"> Hands() </em> </strong>类的构造函数有一些可选参数，如，<strong class="jp ir"> <em class="mq"> static_image_mode、max_num_hands、min_detection_confidence和min_tracking_confidence。</em> </strong>为了这个项目，我们不打算使用它们中的任何一个，但是你可以根据你的项目需要来配置它们。还有关于<strong class="jp ir"> <em class="mq"> mp_draw </em> </strong>你一会儿就知道了。</p><h1 id="492a" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">探测手</h1><figure class="lq lr ls lt gt lu"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="1042" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们正在通过类<strong class="jp ir"> <em class="mq"> VideoCapture() </em> </strong>提供的<strong class="jp ir"> <em class="mq"> cap.read() </em> </strong>方法读取第12行的网络摄像头中的帧。我们将把网络摄像头捕捉到的图像(帧)转换成RGB。等等，Jiten，为什么我们要把图像转换成RGB图像？我看过大部分教程，也读过大部分文章，但是没有人真正解释我们为什么要这么做？但别担心，我会解释给你听。我们这样做的原因是，当OpenCV在许多年前首次被开发时，读取图像的标准是BGR顺序。多年来，标准现在已经变成了RGB，但是OpenCV仍然保持这种<strong class="jp ir"/>BGR顺序，以确保现有代码不被破坏。</p><p id="f243" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，我们在一个<strong class="jp ir"><em class="mq">hand . process()</em></strong>方法(第14行)的帮助下检测帧中的手。一旦检测到手，我们进一步定位关键点(图1)，然后高亮显示关键点中的点。我们检查用户是否在网络摄像头上展示他/她的手(第17行)。如果是，那么我们必须捕捉用户的手的标志。我们循环手部标志(第19–22行),并在检测到的关键点上画圈。</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi mt"><img src="../Images/f72f7713daccc98d648561121cf819de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H_JEA-X5Bo33LDz5Vfi3xw.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">作者图片</figcaption></figure><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/3f757fd9937e4e2bfc5038c88e6a0862.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*ho8dUKPjYuanNeRj6ivJpg.gif"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">作者GIF</figcaption></figure><p id="f547" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">还记得我们访问Mediapipe的绘图工具API，我告诉过你以后再解释吗？media pipe<strong class="jp ir"><em class="mq">drawing _ utils</em></strong>提供了一个名为<strong class="jp ir"><em class="mq">draw _ landmarks()</em></strong>的方法，帮助我们将检测到的点(关键点)连接起来。最后但同样重要的是，我们必须向用户显示最终的输出、最终的图像，这就是<strong class="jp ir"> <em class="mq"> cv2.imshow() </em> </strong>方法派上用场的地方。我们已经将整个手部跟踪代码包装到一个while循环中。这是一个无限循环。我们之所以将整个代码包装成一个无限循环，是因为这是一个连续的过程。每当网络摄像头捕捉到一帧，我们就必须处理该帧(图像)，检测帧中的手，检测手上的关键点，并连接关键点。那么，我们如何打破这个无限循环呢？在第26行，我们检查用户是否按下了<strong class="jp ir">“q”</strong>，然后我们退出循环。</p><h1 id="e435" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">最终输出</h1><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi mv"><img src="../Images/ee8c923f4530de530331218c2b5a1ee5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mqo4Gy4DJyWmiYiBGewWnQ.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">作者图片</figcaption></figure><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/28f3130a76d7a37e37b695bf42b0e2fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*PqE_v3TfqVmLV9YVqqhVGw.gif"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">作者GIF</figcaption></figure></div><div class="ab cl mw mx hu my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="ij ik il im in"><p id="19e3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">谢谢你来这里！我很欣赏你。这个项目的代码可以在我的<a class="ae lo" href="https://github.com/TheBoy-WhoCode/handtracker" rel="noopener ugc nofollow" target="_blank"> Github </a>上找到。如果你喜欢它，别忘了在Github上给它一个⭐️星，如果你喜欢这篇文章，别忘了给一个赞赏的手势(鼓掌)👏。</p><p id="a546" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<a class="ae lo" href="https://www.linkedin.com/in/jiten-patel-jp/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> LinkedIn </strong> </a> <strong class="jp ir">，</strong> <a class="ae lo" href="https://twitter.com/thejitenpatel" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> Twitter </strong> </a> <strong class="jp ir">，</strong>&amp;<a class="ae lo" href="https://www.instagram.com/thejitenpatel/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">insta gram</strong></a>上与我联系</p><p id="49aa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">快乐编码😄</strong></p></div></div>    
</body>
</html>