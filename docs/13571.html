<html>
<head>
<title>8 Years of Java Stream API, Understand Streams Through 8 Questions!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">8年Java Stream API，通过8个问题了解Streams！</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/8-years-of-java-stream-api-understand-streams-through-8-questions-bd9e5d9d8bc?source=collection_archive---------0-----------------------#2022-09-17">https://levelup.gitconnected.com/8-years-of-java-stream-api-understand-streams-through-8-questions-bd9e5d9d8bc?source=collection_archive---------0-----------------------#2022-09-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="faf4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">是的，自从Java SE 8发布以来已经有8年了，它提供了流API、函数接口、时间API和许多更重要的特性，但是是<em class="kl"> Lambdas和Streams </em>向Java开发人员介绍了函数式编程。</p><blockquote class="km"><p id="d6a9" class="kn ko iq bd kp kq kr ks kt ku kv kk dk translated">让我们来了解流及其用法！</p></blockquote><figure class="kx ky kz la lb lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi kw"><img src="../Images/39491419a8ecf2f64e2e5c0bd30f2437.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NVTHmjdHGx9VVpJv"/></div></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk translated">由<a class="ae ln" href="https://unsplash.com/@mattpaul?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">马特·保罗·卡塔拉诺</a>在<a class="ae ln" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><blockquote class="lo lp lq"><p id="2b12" class="jn jo kl jp b jq jr js jt ju jv jw jx lr jz ka kb ls kd ke kf lt kh ki kj kk ij bi translated">一些基础知识:</p></blockquote><ol class=""><li id="fa1e" class="lu lv iq jp b jq jr ju jv jy lw kc lx kg ly kk lz ma mb mc bi translated"><strong class="jp ir">函数接口</strong>:只有一个抽象方法的接口。</li><li id="c9d9" class="lu lv iq jp b jq md ju me jy mf kc mg kg mh kk lz ma mb mc bi translated"><strong class="jp ir"> Lambda表达式</strong>:实现函数接口的单一抽象方法。</li><li id="a32f" class="lu lv iq jp b jq md ju me jy mf kc mg kg mh kk lz ma mb mc bi translated"><strong class="jp ir">流:</strong> Lambda表达式作为参数传递给流操作，以读取/修改数据。</li></ol><h1 id="a26b" class="mi mj iq bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">1.什么是溪流？</h1><p id="27ae" class="pw-post-body-paragraph jn jo iq jp b jq ng js jt ju nh jw jx jy ni ka kb kc nj ke kf kg nk ki kj kk ij bi translated">提供了一种使用函数式编程范式对一系列元素执行一系列操作的方法。如果你不知道函数式编程，看看第8个问题。</p><figure class="nl nm nn no gt lc"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk translated">收集大于25的数字的平方。</figcaption></figure><h1 id="2426" class="mi mj iq bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">2.什么不是溪流？</h1><ol class=""><li id="ca44" class="lu lv iq jp b jq ng ju nh jy nr kc ns kg nt kk lz ma mb mc bi translated">Stream不像Collections那样是一种数据结构，Stream只知道在管道中需要元素时在哪里寻找元素。</li><li id="c052" class="lu lv iq jp b jq md ju me jy mf kc mg kg mh kk lz ma mb mc bi translated">集合侧重于有效地组织数据。</li><li id="6fd0" class="lu lv iq jp b jq md ju me jy mf kc mg kg mh kk lz ma mb mc bi translated">Streams专注于高效地组织计算。</li></ol><h1 id="8509" class="mi mj iq bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">3.如何创建流？</h1><p id="a7c9" class="pw-post-body-paragraph jn jo iq jp b jq ng js jt ju nh jw jx jy ni ka kb kc nj ke kf kg nk ki kj kk ij bi translated">流由三部分组成</p><ol class=""><li id="20a0" class="lu lv iq jp b jq jr ju jv jy lw kc lx kg ly kk lz ma mb mc bi translated">元素来源</li><li id="6531" class="lu lv iq jp b jq md ju me jy mf kc mg kg mh kk lz ma mb mc bi translated">零个或多个中间操作</li><li id="ccff" class="lu lv iq jp b jq md ju me jy mf kc mg kg mh kk lz ma mb mc bi translated">触发流的单个终端操作。</li></ol><h2 id="d924" class="nu mj iq bd mk nv nw dn mo nx ny dp ms jy nz oa mw kc ob oc na kg od oe ne of bi translated"><strong class="ak"> 1。来源</strong></h2><p id="a80a" class="pw-post-body-paragraph jn jo iq jp b jq ng js jt ju nh jw jx jy ni ka kb kc nj ke kf kg nk ki kj kk ij bi translated">元素的来源可以是集合、数组、生成器函数和I/O通道。您可以使用不同的方法在源上创建顺序或并行流。下面列出了其中的一些。</p><figure class="nl nm nn no gt lc"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk translated">方法来创建流</figcaption></figure><p id="213a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">并行流使用工作线程在元素源上并行执行操作。值得注意的是，并行流并不总是更快，但它确实有自己的开销，即把流分成多个部分并在最后合并结果。必须注意，在这种情况下，Lambdas必须以无状态的方式实现，因为它们可以由多个线程并行执行。抛开这些不谈，并行流确实有很大的潜力来优化性能。</p><blockquote class="km"><p id="e555" class="kn ko iq bd kp kq kr ks kt ku kv kk dk translated">你会知道什么时候需要并行流，所以在那之前保持简单！</p></blockquote><h2 id="a2cd" class="nu mj iq bd mk nv og dn mo nx oh dp ms jy oi oa mw kc oj oc na kg ok oe ne of bi translated"><strong class="ak"> 2。中间操作:</strong></h2><ol class=""><li id="edbd" class="lu lv iq jp b jq ng ju nh jy nr kc ns kg nt kk lz ma mb mc bi translated">一个流可以有零个或多个中间操作。</li><li id="0b59" class="lu lv iq jp b jq md ju me jy mf kc mg kg mh kk lz ma mb mc bi translated">它可以是有状态或无状态的操作。像<em class="kl"> sorted() </em>这样的有状态操作依赖于流中的所有元素，而像<em class="kl"> filter() </em>和<em class="kl"> map() </em>这样的无状态操作可以在流元素上独立执行。通过执行并行执行，可以在内部优化无状态操作。</li></ol><figure class="nl nm nn no gt lc"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk translated">中间操作</figcaption></figure><h2 id="b749" class="nu mj iq bd mk nv nw dn mo nx ny dp ms jy nz oa mw kc ob oc na kg od oe ne of bi translated">3.终端操作:</h2><ol class=""><li id="2647" class="lu lv iq jp b jq ng ju nh jy nr kc ns kg nt kk lz ma mb mc bi translated">该操作触发流管道执行操作</li><li id="a5b5" class="lu lv iq jp b jq md ju me jy mf kc mg kg mh kk lz ma mb mc bi translated">操作可以是缩短流长度的短路操作，如<em class="kl"> limit()、findFirst() </em>，也可以是非短路操作，如<em class="kl"> collect()、forEach()。</em></li></ol><figure class="nl nm nn no gt lc"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk translated">终端操作</figcaption></figure><h1 id="7b84" class="mi mj iq bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">5.如何使用流？</h1><figure class="nl nm nn no gt lc"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk translated">流示例</figcaption></figure><h1 id="76fd" class="mi mj iq bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">6.Stream内部是如何工作的？</h1><p id="21fb" class="pw-post-body-paragraph jn jo iq jp b jq ng js jt ju nh jw jx jy ni ka kb kc nj ke kf kg nk ki kj kk ij bi translated"><strong class="jp ir">创建流:</strong></p><ol class=""><li id="4fcf" class="lu lv iq jp b jq jr ju jv jy lw kc lx kg ly kk lz ma mb mc bi translated"><em class="kl"> Spliteterator </em>是Java SE 8中引入的另一个迭代器，它通过拆分和迭代流元素来支持并行编程。</li><li id="4f25" class="lu lv iq jp b jq md ju me jy mf kc mg kg mh kk lz ma mb mc bi translated">Stream还捕获描述元素特征的不同状态标志，如果源是TreeSet，则捕获标志排序。</li></ol><blockquote class="km"><p id="30df" class="kn ko iq bd kp kq ol om on oo op kk dk translated">像SIZED、DISTINCT、SORTED和ORDER这样的标志用于捕获流元素的状态。</p></blockquote><p id="0b15" class="pw-post-body-paragraph jn jo iq jp b jq oq js jt ju or jw jx jy os ka kb kc ot ke kf kg ou ki kj kk ij bi translated"><strong class="jp ir">中间操作:</strong></p><ol class=""><li id="3f7b" class="lu lv iq jp b jq jr ju jv jy lw kc lx kg ly kk lz ma mb mc bi translated">在每个操作中，如果流的状态改变或增加，则利用状态标志进行优化或修改</li><li id="86fa" class="lu lv iq jp b jq md ju me jy mf kc mg kg mh kk lz ma mb mc bi translated">这些标志用于每个阶段的优化，就像如果流在前一阶段已经排序，那么就不会再排序。</li></ol><p id="ec84" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">终端操作:</strong></p><ol class=""><li id="65a7" class="lu lv iq jp b jq jr ju jv jy lw kc lx kg ly kk lz ma mb mc bi translated">它根据无状态操作(如<em class="kl"> filter()、map()和flatMap() </em>)和有状态操作(如<em class="kl"> sorted()、limit()和distinct() </em>)来决定流</li><li id="bbd4" class="lu lv iq jp b jq md ju me jy mf kc mg kg mh kk lz ma mb mc bi translated">如果流水线是顺序执行的，或者是并行执行的，但是由所有无状态的操作组成，那么它可以在一次通过中被计算。否则，流水线在有状态操作边界处被分成多个部分，并且在多个通道中被计算。</li><li id="5422" class="lu lv iq jp b jq md ju me jy mf kc mg kg mh kk lz ma mb mc bi translated">终端操作要么是类似<em class="kl"> limit()、findFirst() </em>的短路操作，要么是类似<em class="kl"> reduce()、collect() </em>的非短路操作。如果终端操作为非短路，可使用<em class="kl">分割符</em>的<em class="kl"> forEachRemaining() </em>方法批量处理数据。如果是短路，必须使用<em class="kl"> tryAdvance() </em>一次处理一个元素</li></ol><h1 id="c2f0" class="mi mj iq bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">7.甲流的优势是什么？</h1><ol class=""><li id="c103" class="lu lv iq jp b jq ng ju nh jy nr kc ns kg nt kk lz ma mb mc bi translated">简洁明了的代码。</li><li id="2f55" class="lu lv iq jp b jq md ju me jy mf kc mg kg mh kk lz ma mb mc bi translated">您可以轻松阅读和理解包含大量复杂操作的代码。</li><li id="4689" class="lu lv iq jp b jq md ju me jy mf kc mg kg mh kk lz ma mb mc bi translated">并行处理不需要重写代码。一旦确定，就在源上使用并行流。</li><li id="d4c9" class="lu lv iq jp b jq md ju me jy mf kc mg kg mh kk lz ma mb mc bi translated">通过使用状态标志，将流管道表示为操作序列可以实现几种有用的执行策略。</li><li id="030c" class="lu lv iq jp b jq md ju me jy mf kc mg kg mh kk lz ma mb mc bi translated">我们可以从API方法返回流，而以前您可能会返回一个数组或集合。这将有助于客户端代码按照要求收集流。</li></ol><h1 id="41be" class="mi mj iq bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">8.什么是函数式编程？</h1><p id="f42c" class="pw-post-body-paragraph jn jo iq jp b jq ng js jt ju nh jw jx jy ni ka kb kc nj ke kf kg nk ki kj kk ij bi translated">让我们快速理解一下，函数式编程是声明式编程的一个子集</p><p id="df45" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">陈述型风格vs通常的命令型风格？</em></p><p id="40f3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在声明式风格中，你定义<em class="kl">做什么</em>，而不是<em class="kl">如何做</em>。看看下面这个简单的例子。</p><p id="bd64" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">命令式</strong>:我们定义变量total sum，迭代10个数，加到total sum上。基本上，我们正在定义如何将10个数字相加。</p><figure class="nl nm nn no gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi ov"><img src="../Images/2ce86ac59970bb9be6faae987b9a5a62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6JiqctksIXXVfglhj9V9bQ.png"/></div></div></figure><p id="7c49" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">陈述式:</strong>做10个数的求和。刚声明的。</p><figure class="nl nm nn no gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi ov"><img src="../Images/0153febfcb36fbf99a13680fba7ea886.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*654MkRwmlKxMwIwLBic62g.png"/></div></div></figure><p id="59de" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">就这样，谢谢！</p></div><div class="ab cl ow ox hu oy" role="separator"><span class="oz bw bk pa pb pc"/><span class="oz bw bk pa pb pc"/><span class="oz bw bk pa pb"/></div><div class="ij ik il im in"><p id="68d0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请关注以获取更多内容！🤝</p><p id="04fd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">看看我关于系统设计的另一个故事</p><div class="pd pe gp gr pf pg"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-approach-system-design-interviews-c272996bdfaa"><div class="ph ab fo"><div class="pi ab pj cl cj pk"><h2 class="bd ir gy z fp pl fr fs pm fu fw ip bi translated">我是如何与亚马逊和微软进行系统设计面试的？</h2><div class="pn l"><h3 class="bd b gy z fp pl fr fs pm fu fw dk translated">系统设计方法，它帮助我在Amazon清除SDE2，在Microsoft清除L61</h3></div><div class="po l"><p class="bd b dl z fp pl fr fs pm fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="pp l"><div class="pq l pr ps pt pp pu lh pg"/></div></div></a></div></div><div class="ab cl ow ox hu oy" role="separator"><span class="oz bw bk pa pb pc"/><span class="oz bw bk pa pb pc"/><span class="oz bw bk pa pb"/></div><div class="ij ik il im in"><h1 id="7e6b" class="mi mj iq bd mk ml pv mn mo mp pw mr ms mt px mv mw mx py mz na nb pz nd ne nf bi translated">分级编码</h1><p id="da67" class="pw-post-body-paragraph jn jo iq jp b jq ng js jt ju nh jw jx jy ni ka kb kc nj ke kf kg nk ki kj kk ij bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="c5f4" class="lu lv iq jp b jq jr ju jv jy lw kc lx kg ly kk qa ma mb mc bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="5bed" class="lu lv iq jp b jq md ju me jy mf kc mg kg mh kk qa ma mb mc bi translated">📰查看<a class="ae ln" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">升级编码出版物</a>中的更多内容</li><li id="e8bd" class="lu lv iq jp b jq md ju me jy mf kc mg kg mh kk qa ma mb mc bi translated">🔔关注我们:<a class="ae ln" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae ln" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae ln" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="5359" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">🚀👉<a class="ae ln" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">加入人才集体，找到一份令人惊喜的工作</strong> </a></p></div></div>    
</body>
</html>