<html>
<head>
<title>Brightening GitHub Contributions Calendar — Migrating Gitlab Contributions to GitHub</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">亮点GitHub贡献日历—将Gitlab贡献迁移到GitHub</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/brightening-github-contributions-calendar-migrating-gitlab-contributions-to-github-ce65ca6f04a7?source=collection_archive---------7-----------------------#2020-05-11">https://levelup.gitconnected.com/brightening-github-contributions-calendar-migrating-gitlab-contributions-to-github-ce65ca6f04a7?source=collection_archive---------7-----------------------#2020-05-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="4c72" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">前几天我在更新我的个人GitHub页面时，在推出一些代码时，我偶然发现了GitHub贡献图表。你可能见过这个图表，GitHub称之为“贡献日历”</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ko"><img src="../Images/6057b36ace7b19247efd5e3e10ae0402.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/format:webp/0*TZOvqmRL5cUl69TC.png"/></div><figcaption class="kw kx gj gh gi ky kz bd b be z dk translated">来自GitHub帮助网站的投稿日历图片</figcaption></figure><p id="79f3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">GitHub贡献图表跟踪每天的贡献数量，但是什么是贡献呢？GitHub的帮助页面将贡献定义为“提交到存储库的默认分支或<code class="fe la lb lc ld b">gh-pages</code>分支，打开一个问题，提出一个拉请求，或者提交一个拉请求。”</p><p id="d2e8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">贡献图表显示了你在网站上的活跃程度。虽然意义不大，是个奇怪的程序员flex但是谁<strong class="js iu">不</strong>喜欢flex呢？</p><blockquote class="le"><p id="0afc" class="lf lg it bd lh li lj lk ll lm ln kn dk translated">…这是一个奇怪的程序员flex，但是谁<strong class="ak">不喜欢</strong>flex呢？</p></blockquote><p id="afd7" class="pw-post-body-paragraph jq jr it js b jt lo jv jw jx lp jz ka kb lq kd ke kf lr kh ki kj ls kl km kn im bi translated">我看着自己的投稿日历，它看起来是如此的光秃秃和空虚，这是怎么回事呢？我每天为私人的工作或个人项目编码和使用git。我没有亮绿色贡献图表的原因是因为我们在工作中使用私人服务器上的GitLab。这让我开始思考，GitLab的贡献可以轻松地迁移到GitHub上，而不需要复制或迁移项目本身吗？</p></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><p id="978f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这意味着两件事:</p><ol class=""><li id="dee5" class="ma mb it js b jt ju jx jy kb mc kf md kj me kn mf mg mh mi bi translated">承诺与其他项目中相同数量的贡献，并回溯这些贡献。</li><li id="72a3" class="ma mb it js b jt mj jx mk kb ml kf mm kj mn kn mf mg mh mi bi translated">从GitLab轻松加载贡献的计数和日期。</li></ol><p id="ab2d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们从任务一开始，创建回溯提交。Git围绕着两个时间戳，GIT_AUTHOR_DATE和GIT_COMMITER_DATE变量。如果我们修改这些日期，git提交会看起来像是在那时创建的吗？</p><pre class="kp kq kr ks gt mo ld mp mq aw mr bi"><span id="1e8a" class="ms mt it ld b gy mu mv l mw mx">mkdir “Test Git Backdated”<br/>cd Test\ Git\ Backdated/<br/>git init<br/>echo "first commit on my birthday" &gt;&gt; commit.md <br/>export GIT_COMMITTER_DATE=“10-02-1996 12:00:00"<br/>export GIT_AUTHOR_DATE="10-02-1996 12:00:00"<br/>git add --all<br/>git commit --date="96-10-02 12:00:00" -m "commited on my bday"<br/>echo "commited today" &gt;&gt; commit.md<br/>unset GIT_AUTHOR_DATE<br/>unset GIT_COMMITTER_DATE<br/>git commit -am "committed today"</span></pre><p id="615e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在上面的代码中，我创建了一个测试目录，并用git初始化它。在我提交了一个带有过去某个日期(也就是我的生日)的文件，并检查了git日志以查看回溯提交是否有效之后。然后，我想添加到提交文件中，取消日期设置，将其改回当前日期，并查看新的提交日期是否更新为今天。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi my"><img src="../Images/bd6808c9da4ee804be8db6181e0d588d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LCnMKd1yusaXcJAW9YynLw.png"/></div></div><figcaption class="kw kx gj gh gi ky kz bd b be z dk translated">显示提交结果的屏幕截图</figcaption></figure><p id="5e68" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在上图中，我们可以看到第一次提交的时间戳显示它是在23年前提交的！现在我们可以回溯git提交，让我们开始第二步，从GitLab加载提交。所有的网站都是HTML页面，这对我们来说非常有利！我们可以简单地找到图表HTML，解析它，然后在当天提交多次，以匹配贡献计数。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nd ne l"/></div><figcaption class="kw kx gj gh gi ky kz bd b be z dk translated">gitlab-contrib-migrator.py —用于迁移GitLab contribs的脚本</figcaption></figure><p id="0336" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">点击查看完整文件和代码<a class="ae nf" href="https://github.com/ssk1002/gitlab-contribution-migration-tool/blob/master/gitlab-contrib-migrator.py" rel="noopener ugc nofollow" target="_blank">。</a></p></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><p id="6423" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">运行时间——我想显示contribs图表的强烈着色，所以我决定选择<a class="ae nf" href="https://gitlab.com/gitlab-bot" rel="noopener ugc nofollow" target="_blank"> gitlab-bot </a>来迁移贡献。只要看看下面的贡献图，就知道这个bot的作用有多大了！</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi ng"><img src="../Images/14890e56f33e29e3c147cc53bd09009c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b0mXmbvQwRQVxU88aWazcA.png"/></div></div><figcaption class="kw kx gj gh gi ky kz bd b be z dk translated">Gitlab Bot贡献图</figcaption></figure><p id="9dea" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我下载了这个页面的HTML文件，启动了脚本，决定去吃点东西。我回来后发现脚本<strong class="js iu">在2小时内只执行了46%。我发现我不小心把这个例子看得太极端了，为了让这个运行更快，我决定把提交限制在每天最多30次。</strong></p><pre class="kp kq kr ks gt mo ld mp mq aw mr bi"><span id="ec16" class="ms mt it ld b gy mu mv l mw mx"># Code Modification</span><span id="f305" class="ms mt it ld b gy nh mv l mw mx">def createNumOfCommitsOnDate(numOfCommits, date):<br/>    if numOfCommits &gt; 30:<br/>        numOfCommits = 30<br/>    ...</span></pre><p id="0d47" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这个改变之后，剩下的52%只花了大约10分钟，这更合理，因为正常人每天最多只有30次提交。</p><p id="c79b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在是推的时候了，在检查GitHub时，我注意到没有提交添加到我的贡献图表中，但是带有提交的repo有64，797个提交！在更多的调查之后，GitHub help说，“在提交了一个满足计算贡献要求的请求之后，你可能需要等待24小时才能看到这个贡献出现在你的贡献图上。”</p><p id="b9c4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然而，我一天也不想等——我想看到立竿见影的效果。我试图看看我是否去了我创建的存储库，并检查了提交的见解。我看到一个“处理这些信息”的屏幕，我想我必须开始一些工作来更新这些数据。当页面加载时，我看到了我全年的提交时间表！下面是我所看到的，包括47%的下降，我把提交限制在30/天。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi ni"><img src="../Images/ae60b37d075351030b31485d4ff289df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mZbJfaRyPPrghIRdFVS1jw.png"/></div></div><figcaption class="kw kx gj gh gi ky kz bd b be z dk translated">随着时间的推移提交，速率限制下降47%</figcaption></figure><p id="0f15" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">是时候看看我的贡献表了！万岁，它成功了，我一天都不用等。我的投稿图表也更新了，如下图所示。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi nj"><img src="../Images/bce8015641178f121e476cb5e7747db3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s2v0KPNsrMDfHkl5agClUA.png"/></div></div><figcaption class="kw kx gj gh gi ky kz bd b be z dk translated">使用Gitlab Bot迁移运行脚本后的贡献日历</figcaption></figure><p id="e533" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">注意:要从你的日历中删除这些贡献，只需删除回购或将其设为私有。</p><p id="5773" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">祝你好运迁移！</p></div></div>    
</body>
</html>