<html>
<head>
<title>Check if a map contains a key in Go</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">检查地图是否包含Go中的关键字</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/check-if-a-map-contains-a-key-in-go-70277760e0a2?source=collection_archive---------16-----------------------#2022-11-14">https://levelup.gitconnected.com/check-if-a-map-contains-a-key-in-go-70277760e0a2?source=collection_archive---------16-----------------------#2022-11-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/d5be2a9eb23a52f1c6fa406abfbb268b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dEQqK0AG5xR7ddFM"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">由<a class="ae kf" href="https://unsplash.com/es/@pactovisual?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Pacto Visual </a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="8c64" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当有人试图使用Go编写软件时，这是一个非常流行的问题。</p><blockquote class="le"><p id="de65" class="lf lg it bd lh li lj lk ll lm ln ld dk translated"><strong class="ak"> <em class="lo">“如何检查给定的键是否存在于映射中？”</em> </strong></p></blockquote><p id="7c9e" class="pw-post-body-paragraph kg kh it ki b kj lp kl km kn lq kp kq kr lr kt ku kv ls kx ky kz lt lb lc ld im bi translated">对于那些急着寻找答案的人来说，这就是答案:)</p><pre class="lu lv lw lx gt ly lz ma bn mb mc bi"><span id="baa8" class="md me it lz b be mf mg l mh mi">if val, ok := dict["apple"]; ok {<br/>    //do something here<br/>}</span></pre><p id="415b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">映射是强大的内置数据结构，它将一种类型的值(<em class="mj">键</em>)与另一种类型的值(<em class="mj">元素</em>或<em class="mj">值</em>)相关联。</p><p id="5489" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个内置的“键”可以是为其定义了等式运算符的任何类型，例如整数、浮点、复数、字符串、指针、接口、结构和数组。</p><p id="292e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">可以使用常用的复合文字语法和冒号分隔的键值对来构造映射，例如:</p><pre class="lu lv lw lx gt ly lz ma bn mb mc bi"><span id="06dc" class="md me it lz b be mf mg l mh mi">var timeZone = map[string]int{<br/>    "UTC":  0*60*60,<br/>    "EST": -5*60*60,<br/>    "CST": -6*60*60,<br/>    "MST": -7*60*60,<br/>    "PST": -8*60*60,<br/>}</span></pre><p id="4e97" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当使用映射中不存在的键提取映射值时，将为该类型返回零值。</p><p id="91a4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，如果映射包含整数，查找一个不存在的键将返回<code class="fe mk ml mm lz b">0</code>。在下面的代码中，当搜索一个现有的人和一个不存在的人时，返回相同的map值。</p><pre class="lu lv lw lx gt ly lz ma bn mb mc bi"><span id="8e5c" class="md me it lz b be mf mg l mh mi">func main() {<br/> persons := map[string]int{<br/>  "ram":   0,<br/>  "rahim": 1,<br/> }<br/> fmt.Println(persons["ram"])<br/> fmt.Println(persons["abby"])<br/>}<br/><br/>//output <br/>0<br/>0</span></pre><p id="8025" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有时，您需要区分丢失的条目和零值。因此，有一个很好的习语叫做“逗号ok ”,这将非常有用。</p><p id="61e5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本例中，如果存在<code class="fe mk ml mm lz b">ram"</code>，则<code class="fe mk ml mm lz b">score</code>将被适当设置，<code class="fe mk ml mm lz b">ok</code>将为真；否则，<code class="fe mk ml mm lz b">score</code>将被设置为零，并且<code class="fe mk ml mm lz b">ok</code>将为假。这里有一个函数将它与一个漂亮的错误报告放在一起:</p><pre class="lu lv lw lx gt ly lz ma bn mb mc bi"><span id="db38" class="md me it lz b be mf mg l mh mi">func main() {<br/> persons := map[string]int{<br/>  "ram":   0,<br/>  "rahim": 1,<br/> }<br/><br/> if score, ok := persons["ram"]; ok {<br/>  fmt.Println("ram has a score", score)<br/> } else {<br/>  fmt.Println("ram does not exists")<br/> }<br/><br/> if score, ok := persons["abby"]; ok {<br/>  fmt.Println("abby has a score", score)<br/> } else {<br/>  fmt.Println("abby does not exists")<br/> }<br/>}<br/><br/>//output<br/>ram has a score 0<br/>abby does not exists</span></pre><p id="ee64" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了在不担心实际值的情况下测试在地图中的存在，我们可以使用<a class="ae kf" href="https://go.dev/doc/effective_go#blank" rel="noopener ugc nofollow" target="_blank">空白标识符</a> ( <code class="fe mk ml mm lz b">_</code>)来代替通常的值变量。</p><pre class="lu lv lw lx gt ly lz ma bn mb mc bi"><span id="c437" class="md me it lz b be mf mg l mh mi"> _, present := persons["abby"]<br/> fmt.Println("abby is present ?", present)<br/><br/>//output <br/>abby is present ? false</span></pre><p id="4c74" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">附加阅读:</p><p id="e901" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae kf" href="https://go.dev/doc/effective_go#maps" rel="noopener ugc nofollow" target="_blank">https://go.dev/doc/effective_go#maps</a></p></div></div>    
</body>
</html>