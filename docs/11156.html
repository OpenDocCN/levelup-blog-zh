<html>
<head>
<title>Evaluating socio-economical indicators with exploratory analysis and hierarchical clustering</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用探索性分析和层次聚类法评价社会经济指标</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/evaluating-socio-economical-indicators-with-exploratory-analysis-and-hierarchical-clustering-af1575782141?source=collection_archive---------5-----------------------#2022-02-21">https://levelup.gitconnected.com/evaluating-socio-economical-indicators-with-exploratory-analysis-and-hierarchical-clustering-af1575782141?source=collection_archive---------5-----------------------#2022-02-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1414" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用凝聚层次聚类对巴塞罗那的相似邻域进行分组</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/192371d9ed581f31119787a6743b9176.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eGLS3nUx7_1YWPZu"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图片由<a class="ae kv" href="https://unsplash.com/@miquelmigg" rel="noopener ugc nofollow" target="_blank"> Miquel Migg </a>在Unsplash拍摄</figcaption></figure><p id="7ea3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">分层聚类是一种<strong class="ky ir">无监督学习技术</strong>，它通过连续合并或拆分来构建嵌套聚类。这种方法产生了一个完整的聚类层次结构，使我们能够很容易地确定聚类的数量和数据点之间的相似性。在本文中，我们将应用<strong class="ky ir">凝聚层次聚类</strong>来根据社会阶层对巴塞罗纳的各个地区进行分类。为此，我们使用<strong class="ky ir">三个属性</strong> : (1) <strong class="ky ir">收入</strong>、( 2) <strong class="ky ir">失业率</strong>、(3) <strong class="ky ir">教育水平</strong>。在对社区进行聚类之后，我们将能够识别出5个社会阶层。从商业的角度来看，根据社会阶层对地区进行分类非常有用，可以使商业策略适应顾客的偏好和习惯。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="82e7" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">数据集</h1><p id="d1eb" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">本文中使用的数据集可在<strong class="ky ir">巴塞罗那开放数据中获得。</strong></p><h2 id="9aba" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">失业</h2><p id="c9cf" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">该数据集包含巴塞罗那市16至64岁人口按月份和地区统计的失业率。</p><div class="ni nj gp gr nk nl"><a href="https://opendata-ajuntament.barcelona.cat/data/en/dataset/est-atur-pes" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd ir gy z fp nq fr fs nr fu fw ip bi translated">城市16至64岁人口中登记失业的比重</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">这些数据是根据巴塞罗那一级登记处的估计数据提供的</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">open data-a jument . Barcelona . cat</p></div></div><div class="nu l"><div class="nv l nw nx ny nu nz kp nl"/></div></div></a></div><h2 id="c1d9" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated"><strong class="ak">收入</strong></h2><p id="7a37" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">该数据集包含巴塞罗那市的平均家庭收入。</p><div class="ni nj gp gr nk nl"><a href="https://opendata-ajuntament.barcelona.cat/data/en/dataset/renda-tributaria-unitat-consum-atlas-distribucio" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd ir gy z fp nq fr fs nr fu fw ip bi translated">巴塞罗那市每户平均税收收入-巴塞罗那公开数据</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">这是INE国家统计局人口司的一份报告</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">open data-a jument . Barcelona . cat</p></div></div><div class="nu l"><div class="oa l nw nx ny nu nz kp nl"/></div></div></a></div><h2 id="9108" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">教育</h2><p id="4b7d" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">数据集包含按性别和学术水平分列的巴塞罗那居民人数。</p><div class="ni nj gp gr nk nl"><a href="https://opendata-ajuntament.barcelona.cat/data/en/dataset/est-padro-nivell-academic-sexe" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd ir gy z fp nq fr fs nr fu fw ip bi translated">居民登记册。按性别和学术水平分列的巴塞罗那市人口-公开数据…</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">居民登记册。按性别和学术水平分列的巴塞罗那市人口</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">-开放数据……居民登记册。按性别和学术水平分列的巴塞罗那市人口</p></div></div><div class="nu l"><div class="ob l nw nx ny nu nz kp nl"/></div></div></a></div><p id="a091" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">注:所有数据集中的信息均指2018年。</strong></p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="c46c" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">开源代码库</h1><p id="335f" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">这个项目的代码可以从GitHub上的Jupyter笔记本中获得。</p><div class="ni nj gp gr nk nl"><a href="https://github.com/amandaiglesiasmoreno" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd ir gy z fp nq fr fs nr fu fw ip bi translated">amandaiglesiasmoreno -概述</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">github.com</p></div></div><div class="nu l"><div class="oc l nw nx ny nu nz kp nl"/></div></div></a></div></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="fd32" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">项目步骤</h1><p id="dc02" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">该项目由以下部分组成:</p><ol class=""><li id="961b" class="od oe iq ky b kz la lc ld lf of lj og ln oh lr oi oj ok ol bi translated"><strong class="ky ir">探索性数据分析和数据清理</strong></li><li id="772c" class="od oe iq ky b kz om lc on lf oo lj op ln oq lr oi oj ok ol bi translated"><strong class="ky ir">理论介绍:层次聚类</strong></li><li id="1c63" class="od oe iq ky b kz om lc on lf oo lj op ln oq lr oi oj ok ol bi translated"><strong class="ky ir">用Scipy进行层次聚类</strong></li><li id="7f2e" class="od oe iq ky b kz om lc on lf oo lj op ln oq lr oi oj ok ol bi translated"><strong class="ky ir">用树状图可视化层级</strong></li><li id="a8fb" class="od oe iq ky b kz om lc on lf oo lj op ln oq lr oi oj ok ol bi translated"><strong class="ky ir">聚类图上聚类的可视化</strong></li><li id="c069" class="od oe iq ky b kz om lc on lf oo lj op ln oq lr oi oj ok ol bi translated"><strong class="ky ir">每组社会经济指标的平均值</strong></li><li id="138c" class="od oe iq ky b kz om lc on lf oo lj op ln oq lr oi oj ok ol bi translated"><strong class="ky ir">为什么从商业角度来看，识别社会阶层如此重要？</strong></li><li id="ee8b" class="od oe iq ky b kz om lc on lf oo lj op ln oq lr oi oj ok ol bi translated"><strong class="ky ir">项目总结</strong></li></ol></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="bae9" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">1.<strong class="ak">探索性数据分析和数据清理</strong></h1><p id="25b7" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">本节的目标是创建一个包含后续分析所需的所有数据的数据框。<strong class="ky ir">最终数据框架包含三栏:(1)每户平均收入，(2)受过大学教育的人口比例，以及(3)失业水平</strong>。该信息是为巴塞罗那市的每个区提供的。GitHub上的Jupyter笔记本详细介绍了清理数据的所有必要步骤。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi or"><img src="../Images/8fa47de9c0abec98e130bdc1f373031b.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*bRSEQfBu-5DO0KDme6s0sw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">清理后的最终数据帧(df_all)</figcaption></figure><h1 id="3e07" class="lz ma iq bd mb mc os me mf mg ot mi mj jw ou jx ml jz ov ka mn kc ow kd mp mq bi translated">2.理论介绍:层次聚类</h1><p id="c0d4" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">分层聚类是一种<strong class="ky ir">无监督学习技术</strong>，用一系列嵌套分区对数据进行分组。有两种类型的层次聚类算法:凝聚和分裂。</p><h2 id="048d" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated"><strong class="ak">凝聚与分裂层次聚类</strong></h2><p id="3ae1" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated"><strong class="ky ir">使用<strong class="ky ir">自顶向下</strong>或<strong class="ky ir">自底向上</strong>的方法生成层次聚类</strong>。</p><ul class=""><li id="d40f" class="od oe iq ky b kz la lc ld lf of lj og ln oh lr ox oj ok ol bi translated"><strong class="ky ir">凝聚层次聚类(自下而上):</strong>该过程从大小为1的n个聚类开始(每个观察值都有其自己的聚类)，并以大小为n的1个聚类结束(一个包含所有观察值的聚类)。</li><li id="edea" class="od oe iq ky b kz om lc on lf oo lj op ln oq lr ox oj ok ol bi translated"><strong class="ky ir">分裂式层次聚类(自上而下)</strong>:所有观察值最初都是一个单一聚类的一部分。这个初始聚类被递归地分成越来越小的聚类，直到每个观察值自己形成一个聚类。</li></ul><p id="bf39" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们使用自下而上的方法(凝聚层次聚类)根据社会经济指标将相似的社区分组。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oy"><img src="../Images/48486e6cafdba231da49933e0c5f2560.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mJyWOD9nANqab4W0Qn0Ehw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">凝聚与分裂的层次聚类(图片由作者创建)</figcaption></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="4997" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">层次聚类:链接方法</h2><p id="0d2a" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated"><strong class="ky ir">凝聚层次聚类</strong>的目标是将彼此相似的元素放在一起。在该过程的任何阶段，具有最小连锁距离的两个簇融合形成单个簇。</p><p id="27d1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有许多链接方法可供选择。最常用的方法是(1)单，(2)完全，(3)平均，(4)质心连接。</p><ul class=""><li id="7ec9" class="od oe iq ky b kz la lc ld lf of lj og ln oh lr ox oj ok ol bi translated"><strong class="ky ir">单链接</strong>:该方法使用两个簇之间的最小距离来确定链接。</li><li id="f57b" class="od oe iq ky b kz om lc on lf oo lj op ln oq lr ox oj ok ol bi translated"><strong class="ky ir">完全链接</strong>:该方法考虑两个聚类元素之间所有成对距离的最大值。</li><li id="ff4e" class="od oe iq ky b kz om lc on lf oo lj op ln oq lr ox oj ok ol bi translated"><strong class="ky ir">平均关联</strong>:两个聚类之间的距离定义为两个聚类的观测值之间所有成对距离的平均距离。</li><li id="6ac1" class="od oe iq ky b kz om lc on lf oo lj op ln oq lr ox oj ok ol bi translated"><strong class="ky ir">质心联动</strong>:两个簇之间的距离就是它们质心之间的距离。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oz"><img src="../Images/5fa281c9a5e2a51013be13d960c3236b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vv5YongFHeRldYa2bujSPg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">链接方法(图片由作者创建)</figcaption></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="260e" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated"><strong class="ak"> 3。使用Scipy进行层次聚类</strong></h1><p id="09ad" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我们使用<code class="fe pa pb pc pd b">linkage</code>函数来执行NumPy数组<code class="fe pa pb pc pd b">X_standard</code>的行的分层聚类，使用4种链接方法:(1) <strong class="ky ir">单个</strong>、( 2) <strong class="ky ir">完整</strong>、(3) <strong class="ky ir">平均</strong>和(4) <strong class="ky ir">质心</strong>。这个函数返回一个<strong class="ky ir"> (n-1)乘4 </strong>的矩阵。前两列包含组合在一起形成新分类的分类。第三列表示列1和列2的簇之间的距离。第四列包含新创建的分类中的观察次数。正如所料，最后形成的聚类总共包含73个观察值(我们数据集中的地区数)。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pe pf l"/></div></figure><p id="df93" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如下所示，结果取决于使用的链接方法。重要的是要记住，在计算数据点之间的距离之前，有必要对所有列进行标准化，因为这些列具有非常不同的范围。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pg"><img src="../Images/12f1da04427e08cbaa816972d5034b8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qzDT-K1A23MQS8bGQ6SVgw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">采用不同链接方法的聚类(图片由作者创建)</figcaption></figure><p id="f629" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们确定了链接矩阵之后，我们可以将结果传递给树状图函数。</p><p id="edde" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如上所示，链接方法average和centroid提供了真正相似的划分，其中可以区分3或5个不同的聚类。最后，我们将决定继续使用平均链接方法，并在下面的部分中更详细地可视化所获得的聚类。</p><h1 id="e20c" class="lz ma iq bd mb mc os me mf mg ot mi mj jw ou jx ml jz ov ka mn kc ow kd mp mq bi translated"><strong class="ak"> 4。用树状图可视化层级</strong></h1><p id="b4cd" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">分层聚类产生一种称为树状图的树状结构。节点的水平位置(通常是垂直的)对应于聚类被合并的顺序。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pe pf l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ph"><img src="../Images/67f22c50059c68ead18f300ecdcda939.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vX7_ElfzHPEYpGvN-PHiHg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">树状图(图片由作者创建)</figcaption></figure><p id="f039" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在特定高度切割树状图会将邻域分割成不相交的簇。在这种情况下，我们决定切割树状图以形成5个聚集。这些聚类表示根据社会经济指标彼此相似的邻居组。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="5f6f" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">5.聚类图中聚类的可视化</h1><p id="38ab" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在确定链接矩阵并可视化结果之后，我们使用<code class="fe pa pb pc pd b">cut_tree</code>函数来形成5个不相连的聚类(<code class="fe pa pb pc pd b">n_clusters=5</code>)。</p><p id="20e0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">获得的结果存储在名为<code class="fe pa pb pc pd b">clusters_districs</code>的<strong class="ky ir">数据帧</strong>中，其中<strong class="ky ir">列</strong> <code class="fe pa pb pc pd b">clusters</code>代表<strong class="ky ir">簇</strong>，<strong class="ky ir">列</strong> <code class="fe pa pb pc pd b">NOM</code>代表城市的不同<strong class="ky ir">区。如上图所示，我们已经重命名了地区<code class="fe pa pb pc pd b">el Poble Sec</code>，以匹配<strong class="ky ir"> JSON文件</strong>中使用的名称。</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pe pf l"/></div></figure><p id="f48d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了构建地图，我们使用了Geopandas库。构建choropleth图主要有两个要素:</p><ul class=""><li id="a8fe" class="od oe iq ky b kz la lc ld lf of lj og ln oh lr ox oj ok ol bi translated">一个JSON文件,包含巴塞罗那每个区的边界(多边形)。本文中使用的JSON文件可以在下面的GitHub存储库中找到:</li></ul><p id="cbdb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://raw.githubusercontent.com/martgnz/bcn-geodata/master/barris/barris.json" rel="noopener ugc nofollow" target="_blank">https://raw . githubusercontent . com/martgnz/BCN-geodata/master/barris/barris . JSON</a></p><ul class=""><li id="7ed6" class="od oe iq ky b kz la lc ld lf of lj og ln oh lr ox oj ok ol bi translated">一个<strong class="ky ir">数据帧</strong>，包含我们想要表示的值(在本例中为集群)。</li></ul><p id="a7f3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们使用<code class="fe pa pb pc pd b">geopandas.read_file</code>函数将<strong class="ky ir"> JSON文件</strong>作为<strong class="ky ir">地理数据框架</strong>读取。选择感兴趣的列(<code class="fe pa pb pc pd b">NOM</code>和<code class="fe pa pb pc pd b">geometry</code>)后，我们将聚类标签添加到<strong class="ky ir">地理数据框</strong>。最后，我们使用<code class="fe pa pb pc pd b">plot</code>方法可视化结果。</p><p id="6ef9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面的<strong class="ky ir">簇分布图</strong>显示了每个簇(共5个)的位置。这些聚类代表了巴塞罗那的社会阶层，是根据以下<strong class="ky ir">社会经济指标</strong>计算出来的:(1)失业率，(2)每户收入，以及(3)拥有大学学历的公民比例。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pe pf l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/4f4e3b5039261c6ad1ab44de3709e2ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1082/format:webp/1*UuQJGDfQGWHZhSboQRJbYg.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">Choropleth地图(图片由作者创建)</figcaption></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="734b" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">6.按类别分列的每个社会经济指标的平均值</h1><p id="fc13" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">下表显示了<strong class="ky ir">得出的聚类(总共五个)的每个社会经济指标</strong>的平均值。通过观察这些值，我们可以进行以下联想。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pe pf l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pj"><img src="../Images/bb01bf8b6a031a68eb6adb915b028020.png" data-original-src="https://miro.medium.com/v2/resize:fit:826/format:webp/1*6hSGPPt76W5e-TVS_fQ9Ag.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">作者创造的形象</figcaption></figure><h2 id="0fcc" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">高级社区(聚类3-紫色)</h2><p id="da52" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">巴塞罗那的<strong class="ky ir">上流区</strong>分别是:(1) Pedralbes，(2) Sant Gervasi — Galvany，(3) Sant Gervasi — la Bonanova，(4) Sarrià，(5) les Tres Torres。那些地区位于城市的内部。他们呈现出真正的<strong class="ky ir">低失业率</strong> (3.35%)，<strong class="ky ir">高受教育率</strong> (51.52)，和<strong class="ky ir">高人均收入</strong> (74793)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pk"><img src="../Images/ed94c87d54104cb5d1026c11ebb7379e.png" data-original-src="https://miro.medium.com/v2/resize:fit:852/format:webp/1*Hec1PqOtvC8sA0zKiRBJRQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">高级社区(图片由作者创建)</figcaption></figure><p id="2d61" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这些数值远远高于西班牙和加泰罗尼亚的平均水平，甚至高于挪威、瑞典或丹麦等国家的平均收入(见https://en.wikipedia.org/wiki/Median_income)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pl"><img src="../Images/ec5a185327b2e248570cf0bd2b68765a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*9iMM9KlCnKxB34FM9BVTJA.png"/></div></figure><h2 id="84e6" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">高中产阶级社区(聚类4-黄色)</h2><p id="6f53" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated"><strong class="ky ir">高中产阶级区</strong>位于城市内部和市中心。有5个社区属于这个组群:(1) Vallvidrera，el Tibidabo i les Planes，(2) el Putxet i el Farró，(3) l'Antiga Esquerra de l'Eixample，(4) la Dreta de l'Eixample，(5)la Vila olmpica del poblenu。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pm"><img src="../Images/d8582783909d0e95e9b6fe8489026170.png" data-original-src="https://miro.medium.com/v2/resize:fit:842/format:webp/1*X-ImSoLCaGtRSF7c0wwg9Q.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">高中产阶级社区(图片由作者创建)</figcaption></figure><p id="7d2a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这些社区显示出高教育率(都超过40%)、低失业率和相对较高的收入。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/e55abfe74182e33190ab8325e5c3b55b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/format:webp/1*YoVhM6vYsDlVKYF0b-zKYQ.png"/></div></figure><h2 id="f734" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">中产阶级社区(聚类1-鲑鱼)</h2><p id="cb4b" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">正如我们所料，大多数街区属于<strong class="ky ir">中产阶级集群</strong>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi po"><img src="../Images/b643a2c792296499accd3721cf0c153c.png" data-original-src="https://miro.medium.com/v2/resize:fit:858/format:webp/1*FcRL_aU6Azxq37cqsNXERQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">中产阶级社区(图片由作者创建)</figcaption></figure><p id="3292" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如下图，这些街坊的收入从25485到50563不等。失业率不到9%,教育率超过17%。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/9e3be8b9f497cf6ff26e37eb71023766.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*B4iOHXzKxUzYNB2T6FhXUQ.png"/></div></figure><h2 id="b939" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">低中产阶级(聚类0 —蓝色)</h2><p id="328a" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">低中产阶级社区位于城市的北部和南部。教育水平不到20%，失业率非常高(平均8.67%)</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pq"><img src="../Images/3a9357018f594d05b879ee0b7efffb2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:862/format:webp/1*u0GG8IyrAguUxbbIDTg-uw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">低中产阶级社区(图片由作者创建)</figcaption></figure><h2 id="c7e6" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">低阶层社区(聚类2-绿色)</h2><p id="b4bd" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">低阶层社区位于港口附近和城市的内北侧。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pr"><img src="../Images/88c56d9eea1b7b01f22887f9d4efd55d.png" data-original-src="https://miro.medium.com/v2/resize:fit:832/format:webp/1*WTxViUYOxw0DHSjDoeuEQw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">下层社区(图片由作者创建)</figcaption></figure><p id="fee4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">目前的失业率非常高(超过12%)，教育水平低，收入低，如下表所示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ps"><img src="../Images/5f3879b33b05cafb2f2664b4c3addfdb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/1*aK3M--X-86-9o57mFOi3Tg.png"/></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="7535" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">为什么从商业角度来看，识别社会阶层如此重要？</h1><p id="f34a" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">从商业角度来看，社会阶层通常被衡量为多种属性的组合，如收入、教育、职业、财富和其他变量。社会阶层对消费习惯有很大的影响。例如，高上层阶级的个人购买昂贵的珠宝和豪华汽车，而那些属于下层阶级的人则倾向于日常生活，将大部分收入花在食物和住所上。营销人员应该了解目标市场的社会阶层，以制定适合个人品味和需求的营销策略。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="e555" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">8.项目摘要</h1><p id="d62d" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在这个项目中，我们使用了无监督学习，根据三个经济方面创建了巴塞罗那地区的层次聚类:(1)家庭人均收入，(2)失业水平，以及(3)大学入学率。我们已经能够区分5个社会等级，这些等级已经使用choropleth图可视化。从商业角度来看，这种根据社会因素对社区进行的划分有助于适应顾客的需求和愿望。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="f092" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读💜</p><p id="10d5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">阿曼达·伊格莱西亚斯</p></div></div>    
</body>
</html>