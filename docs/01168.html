<html>
<head>
<title>How to Build a Basic (but cool) React App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何构建一个基本的(但很酷的)React应用程序</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-build-a-basic-but-cool-react-app-c674788c91ab?source=collection_archive---------2-----------------------#2019-11-21">https://levelup.gitconnected.com/how-to-build-a-basic-but-cool-react-app-c674788c91ab?source=collection_archive---------2-----------------------#2019-11-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="bf8b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">似乎JavaScript已经好得不能再好了，它的库React改变了web开发游戏。React负责MVC结构中的“V”(模型-视图-控制器，供非技术人员使用)。React使构建用户界面变得更加容易。React最好的一点是它使用了JSX语法，允许我们用JavaScript编写HTML元素并直接操作DOM。这意味着没有了”。innerHTML”、“appendChild()”或“createElement()”。</p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="kt ku l"/></div></figure><p id="e091" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这篇博客中，我将带你了解如何创建一个基本的React应用程序。我想把我的罪恶快乐列一个清单，并把它们加到另一个叫做“我应该戒掉的事情”的清单上。因为你知道，快过年了；是时候开始思考这些决议了。</p><p id="3ee7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在我们开始编码之前，我们需要画出我们的组件树。React有“组件”,可以是类，也可以是函数。功能组件，也称为表示组件，接收属性，没有状态。类组件有状态，也接收属性。这两种类型的组件都呈现HTML元素。</p><p id="089a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下面是组件树。App是以Header和Main Container组件作为其子元素的父most元素。主容器是应用程序的下一个“顶层”组件，这将是大多数道具被传递和定义的地方。主容器有事物容器和退出容器作为其子容器。事物容器将保存我喜欢的“事物”,而退出容器将保存我需要退出的“事物”。两个容器都有“Thing”组件作为其子组件。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="gh gi kv"><img src="../Images/0bf853efb7276988dd282c7e24596aea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6Nx3KFuM-9cZJbQe1DQYaQ.png"/></div></div></figure><p id="1327" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">首先，在您的终端中键入以下内容:</p><pre class="ko kp kq kr gt lc ld le lf aw lg bi"><span id="6f8a" class="lh li it ld b gy lj lk l ll lm">npx create-react-app thingsListApp<br/>cd thingsListApp</span></pre><p id="b4d1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在src文件夹中，创建两个文件夹:1)组件2)容器。在components文件夹中，添加以下文件1) Header.js 2) Thing.js，在containers文件夹中，添加1)main container . js 2)things container . js 3)quit container。</p><p id="3c72" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我将创建一个db.json文件来为应用程序创建数据。它应该是这样的:</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="gh gi ln"><img src="../Images/05559ab3f2271a752685bfa8f4782b98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OTYLozKES8E725HK3OhrqQ.png"/></div></div></figure><p id="0b10" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">接下来，在您的终端中输入这3行代码</p><pre class="ko kp kq kr gt lc ld le lf aw lg bi"><span id="fd20" class="lh li it ld b gy lj lk l ll lm">npm install -g json-server</span><span id="8674" class="lh li it ld b gy lo lk l ll lm">json-server --watch db.json</span><span id="bae6" class="lh li it ld b gy lo lk l ll lm">npm start</span></pre><p id="610a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">前两行运行json-server，这样我们可以从db.json文件中检索数据。npm start打开React应用程序。</p><p id="a083" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在每个组件和容器文件(包括App.js)中，第一行代码应该是</p><pre class="ko kp kq kr gt lc ld le lf aw lg bi"><span id="1e99" class="lh li it ld b gy lj lk l ll lm">import React, { Component } from 'react'</span></pre><p id="f4d8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们从React库导入。在App.js中，代码应该如下所示:</p><pre class="ko kp kq kr gt lc ld le lf aw lg bi"><span id="3815" class="lh li it ld b gy lj lk l ll lm">import React, { Component } from 'react';</span><span id="53d6" class="lh li it ld b gy lo lk l ll lm">import Header from './components/Header'</span><span id="66b9" class="lh li it ld b gy lo lk l ll lm">import MainContainer from './containers/MainContainer'</span><span id="2477" class="lh li it ld b gy lo lk l ll lm"><br/>class App extends Component {</span><span id="b781" class="lh li it ld b gy lo lk l ll lm">  render() {</span><span id="0e4e" class="lh li it ld b gy lo lk l ll lm">    return (</span><span id="75e6" class="lh li it ld b gy lo lk l ll lm">      &lt;div&gt;</span><span id="a050" class="lh li it ld b gy lo lk l ll lm">         &lt;Header/&gt;</span><span id="3dc2" class="lh li it ld b gy lo lk l ll lm">         &lt;MainContainer/&gt;</span><span id="526f" class="lh li it ld b gy lo lk l ll lm">      &lt;/div&gt;</span><span id="f7dd" class="lh li it ld b gy lo lk l ll lm">    );</span><span id="9a34" class="lh li it ld b gy lo lk l ll lm">  }</span><span id="68ba" class="lh li it ld b gy lo lk l ll lm">}</span><span id="7fa8" class="lh li it ld b gy lo lk l ll lm">export default App;</span></pre><blockquote class="lp lq lr"><p id="fe8a" class="jq jr ls js b jt ju jv jw jx jy jz ka lt kc kd ke lu kg kh ki lv kk kl km kn im bi translated">提示:我们总是导入组件的子组件。如果组件没有子组件，我们只从“react”导入react或从“React”导入React，{ Component }。</p></blockquote><p id="4866" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们需要写“export default ”,这样我们就可以在其他文件中调用这个组件。我们还在这里呈现了头部和主容器组件。接下来让我们填写Header组件。</p><p id="7b6c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在Header.js中，代码如下所示:</p><pre class="ko kp kq kr gt lc ld le lf aw lg bi"><span id="6ec8" class="lh li it ld b gy lj lk l ll lm">import React, { Component } from 'react';</span><span id="6d89" class="lh li it ld b gy lo lk l ll lm">class Header extends Component {</span><span id="9470" class="lh li it ld b gy lo lk l ll lm">  render() {</span><span id="1752" class="lh li it ld b gy lo lk l ll lm">    return (</span><span id="03bd" class="lh li it ld b gy lo lk l ll lm">      &lt;header&gt;</span><span id="eb7b" class="lh li it ld b gy lo lk l ll lm">        &lt;h1 style={{"font-color":"magenta"}} className="text-center"&gt;🎀 Belle's Exciting Life ✌️&lt;/h1&gt;</span><span id="77dd" class="lh li it ld b gy lo lk l ll lm">      &lt;/header&gt;</span><span id="711b" class="lh li it ld b gy lo lk l ll lm">    );</span><span id="584d" class="lh li it ld b gy lo lk l ll lm">  }</span><span id="c4d7" class="lh li it ld b gy lo lk l ll lm">}</span><span id="3c2b" class="lh li it ld b gy lo lk l ll lm">export default Header;</span></pre><p id="6110" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如你所见，我们在render方法下使用了HTML元素！</p><p id="e1c0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">接下来，让我们看看主容器。主容器应该导入所有这些内容:</p><pre class="ko kp kq kr gt lc ld le lf aw lg bi"><span id="0902" class="lh li it ld b gy lj lk l ll lm">import React, { Component } from 'react';</span><span id="375d" class="lh li it ld b gy lo lk l ll lm">import ThingsContainer from './ThingsContainer'</span><span id="5809" class="lh li it ld b gy lo lk l ll lm">import QuitContainer from './QuitContainer'</span></pre><p id="b532" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它也应该容纳国家。现在的状态包括things和quitList，它们都是空数组。</p><pre class="ko kp kq kr gt lc ld le lf aw lg bi"><span id="ec59" class="lh li it ld b gy lj lk l ll lm">class MainContainer extends Component {</span><span id="42b7" class="lh li it ld b gy lo lk l ll lm">state = {</span><span id="a931" class="lh li it ld b gy lo lk l ll lm">  things: [],</span><span id="e3f5" class="lh li it ld b gy lo lk l ll lm">  quitList: []</span><span id="c2c3" class="lh li it ld b gy lo lk l ll lm">}</span></pre><p id="0873" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在让我们使用名为“componentDidMount”的方法来获取数据。</p><pre class="ko kp kq kr gt lc ld le lf aw lg bi"><span id="e47c" class="lh li it ld b gy lj lk l ll lm">componentDidMount(){</span><span id="988c" class="lh li it ld b gy lo lk l ll lm">  fetch("http://localhost:3000/things")</span><span id="9dc3" class="lh li it ld b gy lo lk l ll lm">    .then(res =&gt; res.json())</span><span id="80df" class="lh li it ld b gy lo lk l ll lm">    .then(thingsData =&gt;</span><span id="4b21" class="lh li it ld b gy lo lk l ll lm">      this.setState({</span><span id="07ed" class="lh li it ld b gy lo lk l ll lm">        things: thingsData</span><span id="f0fd" class="lh li it ld b gy lo lk l ll lm">      }))</span><span id="15cb" class="lh li it ld b gy lo lk l ll lm">}</span></pre><p id="07e3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">this.setState更改状态。</p><pre class="ko kp kq kr gt lc ld le lf aw lg bi"><span id="7733" class="lh li it ld b gy lj lk l ll lm">render() {</span><span id="432f" class="lh li it ld b gy lo lk l ll lm">  return (</span><span id="4160" class="lh li it ld b gy lo lk l ll lm">    &lt;div className="row"&gt;</span><span id="f306" class="lh li it ld b gy lo lk l ll lm">      &lt;div className="col-8"&gt;</span><span id="dae5" class="lh li it ld b gy lo lk l ll lm">        &lt;ThingsContainer things={this.state.things}/&gt;</span><span id="37ca" class="lh li it ld b gy lo lk l ll lm">      &lt;/div&gt;</span><span id="0b43" class="lh li it ld b gy lo lk l ll lm">      &lt;div className="col-4"&gt;</span><span id="3a55" class="lh li it ld b gy lo lk l ll lm">        &lt;QuitContainer quitList={this.state.quitList}</span><span id="b0c6" class="lh li it ld b gy lo lk l ll lm">      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  )<br/>}</span><span id="640a" class="lh li it ld b gy lo lk l ll lm">export default MainContainer;</span></pre><p id="c03c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">“things”作为道具从ThingsContainer组件中传递下来。Props允许组件是动态的，这是我们传递信息给组件的方式。道具“东西”等于状态中的“东西”数组。类似地，对于QuitContainer，它有“quitList”属性，该属性等于状态中的quitList数组。</p><p id="a677" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">接下来，让我们看看ThingsContainer。代码应该如下所示:</p><pre class="ko kp kq kr gt lc ld le lf aw lg bi"><span id="d8cd" class="lh li it ld b gy lj lk l ll lm">import React, { Component } from 'react';</span><span id="2569" class="lh li it ld b gy lo lk l ll lm">import Thing from '../components/Thing'</span><span id="1b72" class="lh li it ld b gy lo lk l ll lm">class ThingsContainer extends Component {</span><span id="795d" class="lh li it ld b gy lo lk l ll lm">  render() {</span><span id="d01c" class="lh li it ld b gy lo lk l ll lm">    return (</span><span id="2d50" class="lh li it ld b gy lo lk l ll lm">      &lt;div&gt;</span><span id="6dad" class="lh li it ld b gy lo lk l ll lm">        &lt;h2&gt;Guilty Pleasures 😍&lt;/h2&gt;</span><span id="8da6" class="lh li it ld b gy lo lk l ll lm">          {</span><span id="0c1e" class="lh li it ld b gy lo lk l ll lm">            this.props.things.map(thing =&gt;</span><span id="1281" class="lh li it ld b gy lo lk l ll lm">              &lt;Thing thing={thing}</span><span id="ee6f" class="lh li it ld b gy lo lk l ll lm">                key={thing.id}</span><span id="133e" class="lh li it ld b gy lo lk l ll lm">              /&gt;)</span><span id="7b4d" class="lh li it ld b gy lo lk l ll lm">          }</span><span id="2673" class="lh li it ld b gy lo lk l ll lm">      &lt;/div&gt;</span><span id="f951" class="lh li it ld b gy lo lk l ll lm">    );</span><span id="9a82" class="lh li it ld b gy lo lk l ll lm">  }</span><span id="0894" class="lh li it ld b gy lo lk l ll lm">}</span><span id="e88e" class="lh li it ld b gy lo lk l ll lm">export default ThingsContainer;</span></pre><p id="3b3a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里，我们映射到“things”数组，并将每个“thing”对象转换成一个Thing组件的实例。每个事物组件都有关键的道具，也就是id和一个完整的“事物”对象。</p><p id="7749" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">接下来，让我们去QuitContainer。代码应该如下所示:</p><pre class="ko kp kq kr gt lc ld le lf aw lg bi"><span id="8d48" class="lh li it ld b gy lj lk l ll lm">import React, { Component } from 'react';</span><span id="473b" class="lh li it ld b gy lo lk l ll lm">import Thing from '../components/Thing'<br/></span><span id="f958" class="lh li it ld b gy lo lk l ll lm">class QuitContainer extends Component {</span><span id="f13d" class="lh li it ld b gy lo lk l ll lm">   render() {</span><span id="859f" class="lh li it ld b gy lo lk l ll lm">     return (</span><span id="7832" class="lh li it ld b gy lo lk l ll lm">       &lt;div&gt;</span><span id="ffb0" class="lh li it ld b gy lo lk l ll lm">         &lt;h2&gt;Things I Need to Quit 🚫&lt;/h2&gt;</span><span id="5df5" class="lh li it ld b gy lo lk l ll lm">         {</span><span id="1334" class="lh li it ld b gy lo lk l ll lm">           this.props.quitList.map((thing, index) =&gt;</span><span id="6e31" class="lh li it ld b gy lo lk l ll lm">             &lt;Thing thing={thing}</span><span id="0916" class="lh li it ld b gy lo lk l ll lm">               key={`${thing.name}-${index}`}</span><span id="a4cc" class="lh li it ld b gy lo lk l ll lm">             /&gt;)</span><span id="edb7" class="lh li it ld b gy lo lk l ll lm">         }</span><span id="fa0f" class="lh li it ld b gy lo lk l ll lm">       &lt;/div&gt;</span><span id="12fb" class="lh li it ld b gy lo lk l ll lm">      );</span><span id="f830" class="lh li it ld b gy lo lk l ll lm">   }</span><span id="6fee" class="lh li it ld b gy lo lk l ll lm">}</span><span id="a652" class="lh li it ld b gy lo lk l ll lm">export default QuitContainer;</span></pre><p id="bd0b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">“关键”的道具具有索引值，因为这考虑了多次选择某个项目的问题。为了区分相同的项目，我们可以使用它们的索引号。</p><p id="dae7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在让我们来看看事物组件。代码显示为:</p><pre class="ko kp kq kr gt lc ld le lf aw lg bi"><span id="4a96" class="lh li it ld b gy lj lk l ll lm">import React from 'react'</span><span id="909e" class="lh li it ld b gy lo lk l ll lm">const Thing = (props) =&gt; (</span><span id="0e1f" class="lh li it ld b gy lo lk l ll lm">  &lt;div&gt;</span><span id="0059" class="lh li it ld b gy lo lk l ll lm">    &lt;div className="card" onClick={ () =&gt;   </span><span id="0e8a" class="lh li it ld b gy lo lk l ll lm">      props.handleClick(props.thing)}&gt;</span><span id="88f1" class="lh li it ld b gy lo lk l ll lm">        &lt;div className="card-body"&gt;</span><span id="c10a" class="lh li it ld b gy lo lk l ll lm">          &lt;img src={`${props.thing.image}`} width={150} height={100}&gt;&lt;/img&gt;</span><span id="a5a8" class="lh li it ld b gy lo lk l ll lm">          &lt;p className="card-text"&gt;</span><span id="25a7" class="lh li it ld b gy lo lk l ll lm">            {`${props.thing.name}`} </span><span id="c254" class="lh li it ld b gy lo lk l ll lm">          &lt;/p&gt;</span><span id="94a6" class="lh li it ld b gy lo lk l ll lm">        &lt;/div&gt;</span><span id="e374" class="lh li it ld b gy lo lk l ll lm">      &lt;/div&gt;</span><span id="1241" class="lh li it ld b gy lo lk l ll lm">    &lt;/div&gt;</span><span id="449a" class="lh li it ld b gy lo lk l ll lm">);</span><span id="26fb" class="lh li it ld b gy lo lk l ll lm">export default Thing</span></pre><p id="1c4a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们看看我们的应用程序，看看它目前的样子！</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="gh gi lw"><img src="../Images/cf08503c7c362d95438aa45f25b7060f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SFXkqcZ-MaNf3MQrs4KQyw.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">硅谷是一场精彩的演出。薯条和范莱文冰淇淋是我最喜欢的食物。优步，因为MTA可能是一个噩梦。</figcaption></figure><p id="a869" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">漂亮！一切都如我们所愿。现在，我们应该转移到应用程序的功能。我希望能够点击罪恶快乐列表中的一个项目，它应该添加到退出列表中。我还想通过点击从退出列表中删除一个项目。</p><p id="1b44" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们回到我们的MainContainer组件，并将这段代码添加到componentDidMount()下。</p><pre class="ko kp kq kr gt lc ld le lf aw lg bi"><span id="4bfb" class="lh li it ld b gy lj lk l ll lm">addThing = (thing) =&gt; {</span><span id="72e9" class="lh li it ld b gy lo lk l ll lm">   this.setState((prevState) =&gt; {</span><span id="5f13" class="lh li it ld b gy lo lk l ll lm">     return {</span><span id="0f51" class="lh li it ld b gy lo lk l ll lm">       quitList: [thing, ...prevState.quitList]</span><span id="b4f4" class="lh li it ld b gy lo lk l ll lm">     }</span><span id="b264" class="lh li it ld b gy lo lk l ll lm">   })</span><span id="a18b" class="lh li it ld b gy lo lk l ll lm">}</span><span id="8368" class="lh li it ld b gy lo lk l ll lm">removeThing = (thing) =&gt; {</span><span id="0943" class="lh li it ld b gy lo lk l ll lm">   let index = this.state.quitList.indexOf(thing)</span><span id="e160" class="lh li it ld b gy lo lk l ll lm">   let copyQuitList = [...this.state.quitList]</span><span id="e25b" class="lh li it ld b gy lo lk l ll lm">   copyQuitList.splice(index,1)</span><span id="c463" class="lh li it ld b gy lo lk l ll lm">   this.setState({</span><span id="4d91" class="lh li it ld b gy lo lk l ll lm">     quitList: copyQuitList</span><span id="4f1a" class="lh li it ld b gy lo lk l ll lm">   })</span><span id="e8cf" class="lh li it ld b gy lo lk l ll lm">}</span></pre><p id="4da5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">addThing方法说明了一个“Thing”对象将被添加到quitList数组中。setState接受第一个参数为当前状态(prevState)的函数，返回值将更新状态。</p><p id="31b4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">removeThing方法显示一个“Thing”对象将从quitList数组中删除。我们在这里使用spread操作符([…this.state.quitList])来表示当前状态。我们在当前状态下调用splice方法来移除我们刚刚单击的项目。</p><p id="af36" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们在MainContainer文件中为ThingsContainer和QuitContainer组件添加另一个道具。</p><pre class="ko kp kq kr gt lc ld le lf aw lg bi"><span id="6987" class="lh li it ld b gy lj lk l ll lm">&lt;ThingsContainer things={this.state.things} addThing={this.addThing}/&gt;</span><span id="25c8" class="lh li it ld b gy lo lk l ll lm">&lt;QuitContainer quitList={this.state.quitList}</span><span id="db32" class="lh li it ld b gy lo lk l ll lm">removeThing={this.removeThing}/&gt;</span></pre><p id="a864" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">回到ThingsContainer文件，让我们将addThing函数放入Thing组件。</p><pre class="ko kp kq kr gt lc ld le lf aw lg bi"><span id="97c2" class="lh li it ld b gy lj lk l ll lm">this.props.things.map(thing =&gt;</span><span id="2d60" class="lh li it ld b gy lo lk l ll lm">&lt;Thing thing={thing}</span><span id="058e" class="lh li it ld b gy lo lk l ll lm">key={thing.id}</span><span id="f81f" class="lh li it ld b gy lo lk l ll lm">handleClick={this.props.addThing}/&gt;)</span></pre><p id="1b83" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，让我们将removeThing函数放入QuitContainer文件中的Thing组件。</p><pre class="ko kp kq kr gt lc ld le lf aw lg bi"><span id="8d72" class="lh li it ld b gy lj lk l ll lm">this.props.quitList.map((thing, index) =&gt;</span><span id="c769" class="lh li it ld b gy lo lk l ll lm">&lt;Thing thing={thing}</span><span id="e15d" class="lh li it ld b gy lo lk l ll lm">key={`${thing.name}-${index}`}</span><span id="6cbc" class="lh li it ld b gy lo lk l ll lm">handleClick={this.props.removeThing} /&gt;</span></pre><p id="8760" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">就是这样！关键时刻到了。让我们最后看看我们的应用程序是如何运行的。</p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="mb ku l"/></div></figure><p id="081a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">太好了！一切正常！为我们一起成功打造React app干杯！</p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="mc ku l"/></div></figure></div></div>    
</body>
</html>