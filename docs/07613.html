<html>
<head>
<title>10 Important Things That Improve Code Review</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">改进代码审查的10件重要事情</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/10-important-things-that-improve-code-review-4b6198e40066?source=collection_archive---------9-----------------------#2021-02-28">https://levelup.gitconnected.com/10-important-things-that-improve-code-review-4b6198e40066?source=collection_archive---------9-----------------------#2021-02-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="f400" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是你可以在参考资料部分找到的几篇文章的总结。</p><h1 id="c100" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">0.构建和测试—在代码评审之前</h1><p id="1241" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">在开始评审流程之前，使用CI工具检查测试是否通过以及应用程序是否可以构建。</p><h1 id="ae99" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">1.使用代码审查工具</h1><p id="8d31" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">使用这些工具可以节省很多时间。这些工具可以突出显示变更，您也可以使用这些工具与开发人员或审核人员进行交互。</p><ol class=""><li id="b203" class="lo lp iq jp b jq jr ju jv jy lq kc lr kg ls kk lt lu lv lw bi translated"><a class="ae lx" href="https://kinsta.com/blog/code-review-tools/#1-review-board" rel="noopener ugc nofollow" target="_blank">审查委员会</a></li><li id="7145" class="lo lp iq jp b jq ly ju lz jy ma kc mb kg mc kk lt lu lv lw bi translated"><a class="ae lx" href="https://kinsta.com/blog/code-review-tools/#2-crucible" rel="noopener ugc nofollow" target="_blank">坩埚</a></li><li id="9199" class="lo lp iq jp b jq ly ju lz jy ma kc mb kg mc kk lt lu lv lw bi translated"><a class="ae lx" href="https://kinsta.com/blog/code-review-tools/#3-github" rel="noopener ugc nofollow" target="_blank"> GitHub </a></li><li id="c861" class="lo lp iq jp b jq ly ju lz jy ma kc mb kg mc kk lt lu lv lw bi translated"><a class="ae lx" href="https://kinsta.com/blog/code-review-tools/#4-phabricator" rel="noopener ugc nofollow" target="_blank">造粒机</a></li><li id="9897" class="lo lp iq jp b jq ly ju lz jy ma kc mb kg mc kk lt lu lv lw bi translated"><a class="ae lx" href="https://kinsta.com/blog/code-review-tools/#5-collaborator" rel="noopener ugc nofollow" target="_blank">合作者</a></li><li id="d4ad" class="lo lp iq jp b jq ly ju lz jy ma kc mb kg mc kk lt lu lv lw bi translated"><a class="ae lx" href="https://kinsta.com/blog/code-review-tools/#6-codescene" rel="noopener ugc nofollow" target="_blank">代码场景</a></li><li id="80e9" class="lo lp iq jp b jq ly ju lz jy ma kc mb kg mc kk lt lu lv lw bi translated"><a class="ae lx" href="https://kinsta.com/blog/code-review-tools/#7-visual-expert" rel="noopener ugc nofollow" target="_blank">视觉专家</a></li><li id="74ea" class="lo lp iq jp b jq ly ju lz jy ma kc mb kg mc kk lt lu lv lw bi translated"><a class="ae lx" href="https://kinsta.com/blog/code-review-tools/#8-gerrit" rel="noopener ugc nofollow" target="_blank">格里特</a></li><li id="46a9" class="lo lp iq jp b jq ly ju lz jy ma kc mb kg mc kk lt lu lv lw bi translated"><a class="ae lx" href="https://kinsta.com/blog/code-review-tools/#9-rhodecode" rel="noopener ugc nofollow" target="_blank"> Rhodecode </a></li><li id="5a99" class="lo lp iq jp b jq ly ju lz jy ma kc mb kg mc kk lt lu lv lw bi translated"><a class="ae lx" href="https://kinsta.com/blog/code-review-tools/#10-veracode" rel="noopener ugc nofollow" target="_blank"> Veracode </a></li><li id="131b" class="lo lp iq jp b jq ly ju lz jy ma kc mb kg mc kk lt lu lv lw bi translated"><a class="ae lx" href="https://kinsta.com/blog/code-review-tools/#11-reviewable" rel="noopener ugc nofollow" target="_blank">可复审</a></li><li id="1e68" class="lo lp iq jp b jq ly ju lz jy ma kc mb kg mc kk lt lu lv lw bi translated"><a class="ae lx" href="https://kinsta.com/blog/code-review-tools/#12-peer-review-for-trac" rel="noopener ugc nofollow" target="_blank">Trac同行评审</a></li></ol><h1 id="7d0b" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">2.设定早期预期</h1><p id="6cc6" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">开发人员应该在评审过程之前注释他们的源代码。通过让作者仔细通读并注释他们自己的代码，在将代码交给他们的团队评审之前，发现了更少的缺陷。</p><h1 id="583c" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">3.知道在代码评审中要寻找什么</h1><p id="3daf" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">你心里应该有一些问题，你应该寻找答案。你可能会问自己一些问题，比如下面列出的这些问题:</p><ul class=""><li id="5b9a" class="lo lp iq jp b jq jr ju jv jy lq kc lr kg ls kk md lu lv lw bi translated"><strong class="jp ir">我明白代码的作用吗</strong>？</li><li id="2718" class="lo lp iq jp b jq ly ju lz jy ma kc mb kg mc kk md lu lv lw bi translated">代码是否如我预期的那样运行？</li><li id="413a" class="lo lp iq jp b jq ly ju lz jy ma kc mb kg mc kk md lu lv lw bi translated"><strong class="jp ir">本规范是否满足监管要求</strong>？</li><li id="b592" class="lo lp iq jp b jq ly ju lz jy ma kc mb kg mc kk md lu lv lw bi translated">考虑库或现有的产品代码。当有人重新实现现有功能时，通常只是因为他们不知道它已经存在。有时，代码或功能是故意复制的，例如，为了避免依赖性。在这种情况下，代码注释可以阐明意图</li><li id="1029" class="lo lp iq jp b jq ly ju lz jy ma kc mb kg mc kk md lu lv lw bi translated"><strong class="jp ir">变化遵循标准模式吗？</strong>已建立的代码库通常围绕命名约定、程序逻辑分解、数据类型定义等展示模式。</li><li id="913c" class="lo lp iq jp b jq ly ju lz jy ma kc mb kg mc kk md lu lv lw bi translated"><strong class="jp ir">想想你会如何解决这个问题。</strong>如果不一样，那是为什么？你的代码处理更多的(边缘)情况吗？它是否更短/更容易/更干净/更快/更安全但功能相当？你是否发现了一些当前代码没有捕捉到的潜在模式？</li><li id="f1cd" class="lo lp iq jp b jq ly ju lz jy ma kc mb kg mc kk md lu lv lw bi translated">代码是否符合编码指南和代码风格？</li><li id="24e1" class="lo lp iq jp b jq ly ju lz jy ma kc mb kg mc kk md lu lv lw bi translated"><strong class="jp ir">这个代码有TODOs吗？TODOs只是堆积在代码中，随着时间的推移变得陈旧。</strong></li><li id="1b07" class="lo lp iq jp b jq ly ju lz jy ma kc mb kg mc kk md lu lv lw bi translated"><strong class="jp ir">这段代码需要集成测试吗？</strong>有时候，代码不能仅仅通过单元测试得到充分的测试，特别是当代码与外部系统或配置交互时。</li><li id="72da" class="lo lp iq jp b jq ly ju lz jy ma kc mb kg mc kk md lu lv lw bi translated"><strong class="jp ir">外部文件更新了吗？</strong>如果您的项目维护了自述文件、变更日志或其他文档，是否对其进行了更新以反映变更？</li><li id="4e6d" class="lo lp iq jp b jq ly ju lz jy ma kc mb kg mc kk md lu lv lw bi translated"><strong class="jp ir">这个改动是否打破了向后兼容性？</strong>如果是这样，是否可以在此时合并变更，或者是否应该将其推送到以后的版本中？</li></ul><h1 id="b305" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">4.每天做一定量的代码审查</h1><p id="23ff" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">即使不是每一句台词。在宣布代码完整之前，开发人员会对他们自己的代码更加认真，众所周知，一个开发团队将每天审查代码。</p><h1 id="156d" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">5.审查代码的时间不要超过60分钟</h1><p id="ccb1" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">在许多资料中提到，你每次复习的时间不应该超过60分钟。从那以后，表现和对细节的关注就会下降。</p><h1 id="a36c" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">6.一次检查不超过400行</h1><p id="8e5f" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">如果你试图一次检查太多行代码，你就不太可能发现缺陷。</p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div class="gh gi me"><img src="../Images/e93bec40625c231acfb477afba3cedaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/1*cZDsPmUH6ZxSR23etuBTRg.gif"/></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk translated">缺陷密度与LOC</figcaption></figure><h1 id="df57" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">7.传达目标和期望</h1><p id="2bff" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">您应该在代码审查过程中有目标和期望，一个简单的方法是创建一个代码审查检查表，所有开发人员在审查彼此的代码时都应该遵循该检查表。您可以在此找到这些检查表的示例:</p><div class="mq mr gp gr ms mt"><a href="https://www.evoketechnologies.com/blog/code-review-checklist-perform-effective-code-reviews/" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd ir gy z fp my fr fs mz fu fw ip bi translated">代码评审清单——执行有效的代码评审</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">这个博客通过探索代码审查清单，为代码审查人员提供了一个很好的起点。帮助代码…</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">www.evoketechnologies.com</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh mk mt"/></div></div></a></div><div class="mq mr gp gr ms mt"><a href="https://www.codementor.io/blog/code-review-checklist-76q7ovkaqj" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd ir gy z fp my fr fs mz fu fw ip bi translated">你的代码审查清单:包括14件事</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">代码审查在开发团队中越来越普遍。这是一个工作流程，开发人员在其中提交他们的…</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">www.codementor.io</p></div></div><div class="nc l"><div class="ni l ne nf ng nc nh mk mt"/></div></div></a></div><h1 id="369a" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">8.让每个人都参与代码评审过程</h1><p id="57ae" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">通常，当人们知道有人会看他们的代码时，他们会写得更好。不管开发人员有多高级，他/她的代码都应该被审查。它最少的好处是，初级开发人员可以通过在评审过程中提问向高级开发人员学习，并理解代码。</p><h1 id="f7f1" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">9.提供有助于培养积极文化的反馈</h1><h2 id="5af4" class="nj km iq bd kn nk nl dn kr nm nn dp kv jy no np kz kc nq nr ld kg ns nt lh nu bi translated">9.1反馈</h2><p id="dac8" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">问问题而不是做陈述是个好主意。通过给予表扬，你是在告诉你的学校，你意识到了他/她的努力，这样那个人就不会对你的反馈感到难过。</p><h2 id="79d2" class="nj km iq bd kn nk nl dn kr nm nn dp kv jy no np kz kc nq nr ld kg ns nt lh nu bi translated">9.2令开发者不安</h2><p id="a1ff" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">评审员有时认为，如果评审员坚持改进，开发人员会不高兴。有时候开发人员确实会变得沮丧，但是这通常是短暂的，他们后来会非常感激你帮助他们提高了代码的质量。通常，如果你在评论中<a class="ae lx" href="https://google.github.io/eng-practices/review/reviewer/comments.html#courtesy" rel="noopener ugc nofollow" target="_blank">礼貌</a>，开发者实际上一点也不会变得不高兴，担心的只是评论者的想法。令人不快的通常更多的是关于<a class="ae lx" href="https://google.github.io/eng-practices/review/reviewer/comments.html#courtesy" rel="noopener ugc nofollow" target="_blank">写评论的方式</a>，而不是评论者对代码质量的坚持。</p><h2 id="c1de" class="nj km iq bd kn nk nl dn kr nm nn dp kv jy no np kz kc nq nr ld kg ns nt lh nu bi translated">9.3培养积极的</h2><p id="6947" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">围绕评论培养积极的文化是很重要的。重要的是bug在进入产品之前就被发现了。这是值得庆祝的。经理有责任培养发现缺陷的积极态度。代码评审为所有团队成员提供了纠正坏习惯、学习新技巧和扩展能力的机会。</p><h2 id="5955" class="nj km iq bd kn nk nl dn kr nm nn dp kv jy no np kz kc nq nr ld kg ns nt lh nu bi translated">9.4指导</h2><p id="a973" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">代码评审有一个重要的功能，那就是向开发人员传授一些关于语言、框架或通用软件设计原则的新知识。留下有助于开发者学习新东西的评论总是好的。随着时间的推移，共享知识是改善系统代码健康的一部分。请记住，如果您的评论纯粹是教育性的，但对满足本文档中描述的标准并不重要，请在前面加上“Nit:”前缀，或者以其他方式表明作者不一定要在本文档中解决它。</p><h1 id="8c6b" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">10.建立修复发现缺陷的流程</h1><p id="f564" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">创建一个过程来确保缺陷被修复。在一些代码评审工具中，比如Github，你可以请求修改，并且只有在缺陷被修复的情况下，你才能批准这些修改。</p><p id="2454" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">参考</p><div class="mq mr gp gr ms mt"><a href="https://www.perforce.com/blog/qac/9-best-practices-for-code-review" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd ir gy z fp my fr fs mz fu fw ip bi translated">9代码审查最佳实践| Perforce软件</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">寻找代码审查的最佳实践？获取我们的九个代码审查最佳实践。您将学习如何编写您的代码…</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">www.perforce.com</p></div></div><div class="nc l"><div class="nv l ne nf ng nc nh mk mt"/></div></div></a></div><div class="mq mr gp gr ms mt"><a href="https://smartbear.com/learn/code-review/guide-to-code-review-process/" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd ir gy z fp my fr fs mz fu fw ip bi translated">有效代码评审流程的12个步骤[信息图]</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">不管这是你第一次还是第500次做代码审查，可能会有一些你需要的问题…</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">smartbear.com</p></div></div><div class="nc l"><div class="nw l ne nf ng nc nh mk mt"/></div></div></a></div><div class="mq mr gp gr ms mt"><a href="https://google.github.io/eng-practices/review/reviewer/standard.html" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd ir gy z fp my fr fs mz fu fw ip bi translated">代码审查的标准</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">代码审查的主要目的是确保谷歌代码库的整体代码健康状况正在改善…</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">google.github.io</p></div></div></div></a></div><div class="mq mr gp gr ms mt"><a href="https://smartbear.com/learn/code-review/best-practices-for-peer-code-review/" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd ir gy z fp my fr fs mz fu fw ip bi translated">代码审查的最佳实践</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">正如您不应该过快地审查代码一样，您也不应该一次审查太长时间。当人们…</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">smartbear.com</p></div></div><div class="nc l"><div class="nx l ne nf ng nc nh mk mt"/></div></div></a></div><div class="mq mr gp gr ms mt"><a href="https://google.github.io/eng-practices/review/reviewer/standard.html" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd ir gy z fp my fr fs mz fu fw ip bi translated">代码审查的标准</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">代码审查的主要目的是确保谷歌代码库的整体代码健康状况正在改善…</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">google.github.io</p></div></div></div></a></div><div class="mq mr gp gr ms mt"><a href="https://medium.com/palantir/code-review-best-practices-19e02780015f" rel="noopener follow" target="_blank"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd ir gy z fp my fr fs mz fu fw ip bi translated">代码评审最佳实践</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">互联网提供了大量关于代码评审的材料:关于代码评审对公司文化的影响，关于正式的…</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">medium.com</p></div></div><div class="nc l"><div class="ny l ne nf ng nc nh mk mt"/></div></div></a></div><div class="mq mr gp gr ms mt"><a href="https://kinsta.com/blog/code-review-tools/" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd ir gy z fp my fr fs mz fu fw ip bi translated">开发人员的12个最佳代码审查工具(2021版)</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">代码审查是软件开发过程的一部分，它包括测试源代码以在软件开发过程中识别错误。</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">kinsta.com</p></div></div><div class="nc l"><div class="nz l ne nf ng nc nh mk mt"/></div></div></a></div></div></div>    
</body>
</html>