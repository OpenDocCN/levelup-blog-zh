<html>
<head>
<title>How to Use the SectionList Component — React Native Basics</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用SectionList组件—反应本机基础</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-use-the-sectionlist-component-react-native-basics-b7ffcf809be5?source=collection_archive---------0-----------------------#2019-11-28">https://levelup.gitconnected.com/how-to-use-the-sectionlist-component-react-native-basics-b7ffcf809be5?source=collection_archive---------0-----------------------#2019-11-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/2511cdb108d04a4ee9e7970fb0261262.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rKxpXulpLU5twQI6LZgpnw.jpeg"/></div></div></figure><p id="20e5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">自从React Native的v0.43发布以来，我们有两个新的组件来呈现数据列表，即<code class="fe kz la lb lc b">FlatList</code> <em class="ld"> </em>和<code class="fe kz la lb lc b">SectionList</code> <em class="ld">。今天我们将学习<code class="fe kz la lb lc b">SectionList</code>组件。</em></p><h2 id="dd76" class="le lf it bd lg lh li dn lj lk ll dp lm km ln lo lp kq lq lr ls ku lt lu lv lw bi translated"><strong class="ak">介绍章节列表组件</strong></h2><p id="fc33" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated"><code class="fe kz la lb lc b">SectionList</code>组件允许我们创建一个分成可滚动部分的内容列表。SectionLists类似于FlatList，但是它们进一步扩展了flat list的功能。</p><h2 id="8056" class="le lf it bd lg lh li dn lj lk ll dp lm km ln lo lp kq lq lr ls ku lt lu lv lw bi translated"><strong class="ak">使用SectionList组件</strong></h2><p id="ac48" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">在本例中，我们将创建一个简单的硬编码数据节列表。数据道具中的每一项都被渲染成一个<code class="fe kz la lb lc b">Text</code>组件。</p><p id="6da8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">首先，让我们确保我们已经导入了<code class="fe kz la lb lc b">SectionList</code> <em class="ld"> </em>以及本例中其他必要的导入。</p><figure class="mc md me mf gt ju"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="bf9f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">接下来让我们在类中实现一个<code class="fe kz la lb lc b">render</code>方法，并返回一个由根<code class="fe kz la lb lc b">View</code>组件包装的<code class="fe kz la lb lc b">SectionListComponent</code>。</p><figure class="mc md me mf gt ju"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="2e5b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">但是我们必须通过一些关键的支持。首先，我们应该能够将数据放到SectionList中，我们将通过<code class="fe kz la lb lc b">sections</code> prop来实现这一点。<code class="fe kz la lb lc b">sections</code> <em class="ld"> </em>属性保存了一个表示每个部分的数据数组，数组中的每一项都是一个对象。</p><figure class="mc md me mf gt ju"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="1e95" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在让我们传递一些数据给它。</p><figure class="mc md me mf gt ju"><div class="bz fp l di"><div class="mg mh l"/></div></figure></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><p id="5642" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如上所示，<code class="fe kz la lb lc b">title</code> <em class="ld"> </em>是我们将用于我们的部分标题，它将作为我们各个部分的标题可见。<code class="fe kz la lb lc b">data</code> <em class="ld"> </em>表示用于创建列表的数组，通常是对象数组。</p><p id="f9d9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">下一个需要的道具是<code class="fe kz la lb lc b">renderItem</code> <em class="ld">，</em>，它将负责呈现我们的数据数组中的每一项。<code class="fe kz la lb lc b">renderItem</code> <em class="ld"> </em> prop是一个从数据数组中取出一个<code class="fe kz la lb lc b">item</code> <em class="ld"> </em>并返回一个React元素的函数。</p><figure class="mc md me mf gt ju"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="69f5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如上面的代码所示，<code class="fe kz la lb lc b">item</code>表示数据数组中的每一项。</p><p id="fd7e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">接下来，我们给万添加了<code class="fe kz la lb lc b">renderSectionHeader</code> <em class="ld"> </em>道具。<code class="fe kz la lb lc b">renderSectionHeader</code> <em class="ld"> </em>显示列表视图的页眉部分。</p><figure class="mc md me mf gt ju"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="5492" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们不应该忘记添加<code class="fe kz la lb lc b">keyExtractor</code> <em class="ld"> </em>功能，允许跟踪项目。或者如React本地文档所述:</p><blockquote class="mp mq mr"><p id="d5e0" class="kb kc ld kd b ke kf kg kh ki kj kk kl ms kn ko kp mt kr ks kt mu kv kw kx ky im bi translated">用于提取指定索引处给定项的唯一键。Key用于缓存，并作为react键来跟踪项目重新排序。默认提取器检查<code class="fe kz la lb lc b"><em class="it">item.key</em></code>，然后像React一样使用索引。</p></blockquote><p id="06a4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这是我们有的</p><figure class="mc md me mf gt ju gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/e6d2899486fd52185917ed8fcaed7aa1.png" data-original-src="https://miro.medium.com/v2/resize:fit:684/1*Tt6msqtd8Q9OkbFxKtnp4w.gif"/></div></figure><p id="0b72" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">最后，为了让你的看起来像上面的截图，你可以添加下面的样式。</p><figure class="mc md me mf gt ju"><div class="bz fp l di"><div class="mg mh l"/></div></figure><h2 id="8c02" class="le lf it bd lg lh li dn lj lk ll dp lm km ln lo lp kq lq lr ls ku lt lu lv lw bi translated"><strong class="ak">完整源代码</strong></h2><p id="3fdf" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">帮助我们演示这一概念的完整源代码如下:</p><figure class="mc md me mf gt ju"><div class="bz fp l di"><div class="mg mh l"/></div></figure></div></div>    
</body>
</html>