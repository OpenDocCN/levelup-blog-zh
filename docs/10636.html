<html>
<head>
<title>Stop Using Redux With React!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">停止使用Redux With React！</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/stop-using-redux-with-react-blindly-ec92b4affead?source=collection_archive---------6-----------------------#2021-12-28">https://levelup.gitconnected.com/stop-using-redux-with-react-blindly-ec92b4affead?source=collection_archive---------6-----------------------#2021-12-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="545e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">这就是为什么你可能根本不需要Redux</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3d8c66e3d5cebddab97bc3c664adef8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7IIL44GTg8bjyb5_"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">图片由<a class="ae ky" href="https://unsplash.com/@lautaroandreani" rel="noopener ugc nofollow" target="_blank">劳塔罗·安德烈亚尼</a>在<a class="ae ky" href="https://unsplash.com/photos/xkBaqlcqeb4" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="74b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设您将要创建一个新的单页面应用程序。您初始化一个新的节点项目，并开始安装您需要的所有依赖项——React和一些用于捆绑和传输的工具。然后，您打开您最喜欢的编辑器，编写所有初始配置和样板代码，并准备好踏上应用程序成型之旅。</p><p id="bbbf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是随后，您开始在命令行中键入<code class="fe lv lw lx ly b">npm install redux react-redux</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/36d0103bdf664eb94b957d72fcbb3f4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/0*Ppo5YVii8baS2Cmc"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://giphy.com/gifs/reaction-1zSz5MVw4zKg0" rel="noopener ugc nofollow" target="_blank">资料来源:Giphy </a></figcaption></figure><p id="919a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我打断你一下！是时候后退一步了。</p><p id="a19c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在你在应用程序中安装Redux之前，问问你自己，“我真的需要Redux吗？”</p><p id="c540" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我不知道它是什么，但我们很多人似乎认为没有Redux的React应用程序是不完整的，就好像这是天造地设的一对。我也为此感到内疚。</p><p id="d440" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我见过很多开发人员，包括我自己，只是在他们创建的每个React应用程序中安装Redux，而没有先问自己这个问题。最重要的是，我们中的一些人会开始将所有状态都放入Redux中，而忽略React本身具有非常可靠的状态管理机制这一事实。对于新手开发者来说尤其如此。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><p id="95f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">想想你将会陷入什么样的境地！当您将所有东西都存储在Redux中时，每次添加一个新的状态时，您都会增加创建和管理额外的reducers和动作的开销——这些都是乏味的样板代码。</p><p id="0d8d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，在重新获取数据之前，您还需要知道一些数据是否仍然存在于存储中。如果您宁愿每次都重新获取数据，那么您就没有真正很好地利用全局存储。</p><p id="322f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果需要在actions内部执行异步操作，需要再添加一个类似<a class="ae ky" href="https://github.com/reduxjs/redux-thunk" rel="noopener ugc nofollow" target="_blank"> redux-thunk </a>或者<a class="ae ky" href="https://redux-saga.js.org/" rel="noopener ugc nofollow" target="_blank"> redux-saga </a>的库。如果你不知道如何使用这些库，你需要学习它们。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><p id="4dd4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么，如何确定你的项目是否真的需要Redux呢？</p><p id="b905" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">只有你能决定。每个项目都不一样。然而，这里有一些你可能使用Redux的例子。</p><ul class=""><li id="9fb5" class="mh mi it lb b lc ld lf lg li mj lm mk lq ml lu mm mn mo mp bi translated">有些状态需要在项目中的多个视图之间共享。但是，每个需要数据的组件总是可以从后端再次请求数据。如果后端的计算很昂贵并且很难缓存，您总是可以在顶层组件中或者通过使用<a class="ae ky" href="https://reactjs.org/docs/context.html" rel="noopener ugc nofollow" target="_blank">上下文API </a>来管理这些数据。如果他们似乎不能满足你的需求，那么你需要Redux。</li><li id="e90f" class="mh mi it lb b lc mq lf mr li ms lm mt lq mu lu mm mn mo mp bi translated">项目中的数据流和关系非常复杂，很难跟踪数据如何变化来解决bug。在这种情况下，<a class="ae ky" href="https://github.com/zalmoxisus/redux-devtools-extension" rel="noopener ugc nofollow" target="_blank"> Redux devtools </a>中的回放/时间旅行机制肯定会派上用场。</li><li id="7cae" class="mh mi it lb b lc mq lf mr li ms lm mt lq mu lu mm mn mo mp bi translated">您的应用程序自己创建、管理和操作所有数据，并简单地将更新的数据推送到某个存储中。这方面的一个例子可能是只在特定时间间隔与服务器同步数据的应用程序。</li></ul><p id="7d5d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不要只相信我的话，即使Redux的readme也有一个<a class="ae ky" href="https://github.com/reduxjs/redux#before-proceeding-further" rel="noopener ugc nofollow" target="_blank">的完整章节</a>来帮助你决定它是否适合你的项目。</p><p id="7ac9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，这里还有一些你可能使用Redux的个人原因。</p><ul class=""><li id="60ef" class="mh mi it lb b lc ld lf lg li mj lm mk lq ml lu mm mn mo mp bi translated">你和你的团队只是喜欢使用Redux API，并且已经非常习惯了。就我个人而言，我讨厌编写和管理redux样板文件。</li><li id="ab64" class="mh mi it lb b lc mq lf mr li ms lm mt lq mu lu mm mn mo mp bi translated">您不喜欢将状态与组件一起存储，而是希望使用一个集中的存储来存储所有的应用程序数据。</li></ul><p id="b14f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">撇开个人原因不谈，如果您的项目中确实有Redux，那么您不必将每个状态都存储在Redux中。您可以在Redux中存储跨多个视图共享的数据。此外，如果数据仅用于显示并且从不改变，那么上下文API无疑是一个很好的选择。Redux也在内部使用上下文API。我甚至创建了一个<a class="ae ky" href="https://github.com/mrdivinemaniac/react-context-store" rel="noopener ugc nofollow" target="_blank">小演示</a>来展示如何将上下文API用作存储。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><p id="4a7a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">底线是，即使你只是因为喜欢这个API而在一个项目中使用Redux也没有关系。它很可能不会以任何显著的方式影响您的最终用户。然而，重要的是要知道你为什么在你的项目中使用一个工具或者一个依赖，不管这个原因是多么的微不足道。</p><p id="7db7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将有助于您在未来的项目中做出明智的决策，或者在您需要更换有问题的技术时做出明智的决策。这不仅适用于Redux，也适用于您可能在任何项目中使用的任何其他工具或技术。</p></div></div>    
</body>
</html>