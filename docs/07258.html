<html>
<head>
<title>Automated messaging using Python3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python3的自动化消息传递</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/automated-messaging-using-twilio-and-python3-b1b28ddae0fb?source=collection_archive---------17-----------------------#2021-02-03">https://levelup.gitconnected.com/automated-messaging-using-twilio-and-python3-b1b28ddae0fb?source=collection_archive---------17-----------------------#2021-02-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/0c85aebe8a6ee0fd3ca45e372d031faf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1306/format:webp/1*4y4cg2RoXaq4qiYvxyF0wQ.png"/></div></figure><p id="9fab" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">大家好！在今天的教程中，我们将学习如何使用python发送自动消息。首先，让我们像上次一样创建一个虚拟环境。让我们打开终端/命令提示符，将目录(cd)更改到我们想要存储项目文件的文件夹，例如my desktop文件夹。我们将创建一个名为auto_sms的新目录(mkdir ),如下所示:</p><pre class="ks kt ku kv gt kw kx ky kz aw la bi"><span id="9e68" class="lb lc iq kx b gy ld le l lf lg">cd Desktop<br/>mkdir auto_sms</span></pre><p id="03f8" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在我的上一篇使用selenium进行web抓取的教程中，我们安装了一个名为virtualenv的模块，所以你可以<a class="ae lh" href="https://ishanc.medium.com/basics-of-selenium-in-python3-6ed4293c67ef" rel="noopener">查看一下</a>，但是没有必要使用虚拟环境。你可以简单地做:</p><pre class="ks kt ku kv gt kw kx ky kz aw la bi"><span id="9d3e" class="lb lc iq kx b gy ld le l lf lg">pip3 install Twilio</span></pre><p id="0e15" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">但我更喜欢使用虚拟环境，所以如果你愿意，你可以跟着一起做。将目录更改为auto_sms目录，并创建一个虚拟环境，如下所示:</p><pre class="ks kt ku kv gt kw kx ky kz aw la bi"><span id="b91b" class="lb lc iq kx b gy ld le l lf lg">cd auto_sms<br/>virtualenv -p python .</span></pre><p id="7a5d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">任何类似的信息:</p><figure class="ks kt ku kv gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi li"><img src="../Images/51909238130ec5695d365467b6efdc55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*19uoNStrVstH1cqMenW54A.png"/></div></div></figure><p id="6264" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">那么这是个好消息！虚拟环境现已创建。要在macOS上激活它，请键入:</p><pre class="ks kt ku kv gt kw kx ky kz aw la bi"><span id="af86" class="lb lc iq kx b gy ld le l lf lg">source Scripts/activate</span></pre><p id="115c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在windows类型上:</p><pre class="ks kt ku kv gt kw kx ky kz aw la bi"><span id="43cf" class="lb lc iq kx b gy ld le l lf lg">Scripts\activate</span></pre><p id="89e9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">要发送自动消息，我们将使用Twilio客户端。首先，去twilio.com<a class="ae lh" href="https://www.twilio.com/" rel="noopener ugc nofollow" target="_blank">的</a>注册一个免费账户。登录后，您将看到一个类似如下的控制台:</p><figure class="ks kt ku kv gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi ln"><img src="../Images/80dcb9993510cc3825e7142e49700ec1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dck5uXaDJ9G5S4V_10IHVQ.png"/></div></div></figure><p id="85a7" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">不要向任何人显示您的帐户SID和授权令牌；有人会用它来对付你。如果没有帐户SID和授权令牌，就无法使用该号码。现在你可以看到我的试算表是14美元。然而，你将有15美元，除非你以前使用过Twilio帐户。如果你看到下面的“这是你的Twilio试用帐户的工作方式”，有一个超链接，并附有文字，“验证的数字”。点击它。</p><p id="edbc" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果您没有经过验证的电话号码，那么您就不能向任何号码发送消息。点击链接后，您的屏幕将显示如下内容:</p><figure class="ks kt ku kv gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi lo"><img src="../Images/8185acd4a8d3d6649e616cd7c862dc58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*es0p1C6n1esoSqw-E1We_g.png"/></div></div></figure><p id="20f4" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">点击验证一个号码，然后通过这两个步骤来验证您想要发送消息的号码。现在窗口看起来会像这样:</p><figure class="ks kt ku kv gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi lp"><img src="../Images/d94312747726386dd6929efc877e7f6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xjQ9iiY8-PQCJUGDabygkA.png"/></div></div></figure><p id="55d9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">紫色代表你的号码。现在，让我们回到控制台，回到我们的终端。现在让我们像这样安装Twilio客户机:</p><pre class="ks kt ku kv gt kw kx ky kz aw la bi"><span id="18bf" class="lb lc iq kx b gy ld le l lf lg">pip3 install twilio</span></pre><p id="4ba8" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果您收到如下消息:</p><figure class="ks kt ku kv gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi lq"><img src="../Images/deec9869df61a880918451eace0b7e03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KA6IC3oeV0bdwNb9cmx_sA.png"/></div></div></figure><p id="9083" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">恭喜你！安装成功。现在让我们继续创建一个新的目录调用src，将我们的实际代码与auto_sms文件夹中的文件分开。</p><pre class="ks kt ku kv gt kw kx ky kz aw la bi"><span id="4c8e" class="lb lc iq kx b gy ld le l lf lg">mkdir src<br/>cd src</span></pre><p id="e200" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在创建一个python文件，名称随意。您可以使用任何您想要的IDE或文本编辑器，但是我将使用Vim。</p><p id="5f62" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我们从从twilio导入客户端开始:</p><pre class="ks kt ku kv gt kw kx ky kz aw la bi"><span id="b7c7" class="lb lc iq kx b gy ld le l lf lg">from twilio.rest import Client</span></pre><p id="b9c1" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在我们要创建两个变量。变量名应该和我写的一模一样，因为接下来，我们会给客户端类，我们已经导入的，这两个值。所以保持名字和我写的一样很重要。</p><p id="080e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">首先让我们创建变量‘ACCOUNT _ SID ’,然后将我们的帐户SID从控制台复制到这个变量。帐户SID和身份验证令牌位于项目信息下:</p><figure class="ks kt ku kv gt jr gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/6fb9275384fa09906945bb9d1c57af0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1114/format:webp/1*AjurqE2P2bVs5VqlEEhQUA.png"/></div></figure><p id="b230" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">点击我圈出来的按钮复制。现在给变量这个值。我们还将复制auth token，并将其赋予变量AUTH_TOKEN。最后，代码看起来会像这样:</p><pre class="ks kt ku kv gt kw kx ky kz aw la bi"><span id="8ff9" class="lb lc iq kx b gy ld le l lf lg">ACCOUNT_SID = ('Your Account SID')<br/>AUTH_TOKEN = ('Your Authorization Token')</span></pre><p id="efd0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在让我们创建一个名为client的新变量，并将ACCOUNT_SID和AUTH_TOKEN的值提供给我们导入的客户端类，如下所示:</p><pre class="ks kt ku kv gt kw kx ky kz aw la bi"><span id="44cb" class="lb lc iq kx b gy ld le l lf lg">client = Client(ACCOUNT_SID, AUTH_TOKEN)</span></pre><p id="1f96" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在在你的代码中写下这个:</p><pre class="ks kt ku kv gt kw kx ky kz aw la bi"><span id="5f41" class="lb lc iq kx b gy ld le l lf lg">client.messages.create(from_='Trial Number over here',<br/>                       to='Number you verified',<br/>                       body='Your message over here')</span></pre><p id="a028" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">其中，试验编号是指项目信息下显示的编号:</p><figure class="ks kt ku kv gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi ls"><img src="../Images/b7ea8b078c10607885e73356eacc30c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*Q6m_WfNjYHOjcZZ3O7pCHQ.png"/></div></div></figure><p id="9dc6" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果没有，您需要创建一个；项目信息下有一个选项。既然已经做了，我就把数字放在from_变量里。尽管数字是整数，但应该用引号括起来，作为一个字符串。你也必须让+1在那里。“到”变量将包含您验证的数字。它还必须包括你的地方的标准代码。最后，正文将包含消息的文本。让我们运行代码。</p><p id="056e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">虽然你的终端上什么也不会出现。检查您发送信息的电话号码。我的信息是‘我是通过python写的’。我手机上的短信应用程序显示</p><figure class="ks kt ku kv gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi lt"><img src="../Images/08f439aa167069b81df52376944bd5ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iK22q2LxYiWfDw27UaljFA.jpeg"/></div></div></figure><p id="4e94" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">就这么简单！我希望你喜欢这篇博客，如果你喜欢，请喜欢，分享和关注这篇博客，以获得更多这样的教程。下面是最终的代码:</p><pre class="ks kt ku kv gt kw kx ky kz aw la bi"><span id="5fd0" class="lb lc iq kx b gy ld le l lf lg">from twilio.rest import Client</span><span id="e31c" class="lb lc iq kx b gy lu le l lf lg">ACCOUNT_SID = ('Your account SID')<br/>AUTH_TOKEN = ('Your Auth Token')</span><span id="8438" class="lb lc iq kx b gy lu le l lf lg">client = Client(ACCOUNT_SID, AUTH_TOKEN)</span><span id="1590" class="lb lc iq kx b gy lu le l lf lg">client.messages.create(from_='Trial Number',<br/>                        to='+Verified Number',<br/>                        body='Message that you would like to write')<br/>#Link to github repository<br/># <a class="ae lh" href="https://github.com/Ishan-Choudhary/Automated-messaging-using-Twilio-and-Python3.git" rel="noopener ugc nofollow" target="_blank">https://github.com/Ishan-Choudhary/Automated-messaging-using-Twilio-and-Python3.git</a></span></pre><p id="ed0f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">再次感谢您的阅读！</p></div></div>    
</body>
</html>