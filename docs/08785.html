<html>
<head>
<title>How To Make Interactive Maps With Folium</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用leav制作交互式地图</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-make-interactive-maps-with-folium-f0b66f157737?source=collection_archive---------1-----------------------#2021-06-05">https://levelup.gitconnected.com/how-to-make-interactive-maps-with-folium-f0b66f157737?source=collection_archive---------1-----------------------#2021-06-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e7d6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何用叶子和熊猫制作交互式地图的教程</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/762efec955ebdb61a7615cd08c03488c.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/format:webp/0*Tc8XvaFZ6eqmnh7x.png"/></div></figure><div class="kq kr gp gr ks kt"><a href="https://jorgepit-14189.medium.com/membership" rel="noopener follow" target="_blank"><div class="ku ab fo"><div class="kv ab kw cl cj kx"><h2 class="bd iu gy z fp ky fr fs kz fu fw is bi translated">用我的推荐链接加入媒体-乔治皮皮斯</h2><div class="la l"><h3 class="bd b gy z fp ky fr fs kz fu fw dk translated">阅读乔治·皮皮斯(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接支持…</h3></div><div class="lb l"><p class="bd b dl z fp ky fr fs kz fu fw dk translated">jorgepit-14189.medium.com</p></div></div><div class="lc l"><div class="ld l le lf lg lc lh ko kt"/></div></div></a></div><p id="51d9" class="pw-post-body-paragraph li lj it lk b ll lm ju ln lo lp jx lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">follow为fleet . js提供了一个python接口。fleet . js是一个用于交互式地图的Javascript库，了解它本身会很有用。通过yellow使用这个库的好处是，yellow使得在Jupyter笔记本中使用和访问python数据结构(例如Pandas DataFrames)变得非常容易。可以在其<a class="ae me" href="https://python-visualization.github.io/folium/" rel="noopener ugc nofollow" target="_blank">官方网站</a>上找到关于leav的文档。在本教程中，我们将使用<a class="ae me" href="https://data.baltimorecity.gov/datasets/arrests/explore?location=38.978750%2C-76.515650%2C9.86&amp;showTable=true" rel="noopener ugc nofollow" target="_blank">巴尔的摩的逮捕数据</a>。</p><h1 id="1de2" class="mf mg it bd mh mi mj mk ml mm mn mo mp jz mq ka mr kc ms kd mt kf mu kg mv mw bi translated">带有巴尔的摩逮捕数据的交互式地图</h1><p id="d3c9" class="pw-post-body-paragraph li lj it lk b ll mx ju ln lo my jx lq lr mz lt lu lv na lx ly lz nb mb mc md im bi translated">该地图将包括以下维度:</p><ul class=""><li id="8ee4" class="nc nd it lk b ll lm lo lp lr ne lv nf lz ng md nh ni nj nk bi translated">年龄:以<code class="fe nl nm nn no b">isAdult</code>的形式，在每一次观察中都会有一个<code class="fe nl nm nn no b">pop-up</code></li><li id="585f" class="nc nd it lk b ll np lo nq lr nr lv ns lz nt md nh ni nj nk bi translated">种族:每个种族都有不同的颜色点</li><li id="f5a1" class="nc nd it lk b ll np lo nq lr nr lv ns lz nt md nh ni nj nk bi translated">坐标</li><li id="5985" class="nc nd it lk b ll np lo nq lr nr lv ns lz nt md nh ni nj nk bi translated">热图形式的事件频率。</li></ul><pre class="kj kk kl km gt nu no nv nw aw nx bi"><span id="1564" class="ny mg it no b gy nz oa l ob oc">import folium<br/>from folium.plugins import HeatMap<br/>import pandas as pd<br/>import numpy as np</span><span id="0268" class="ny mg it no b gy od oa l ob oc"># load the data<br/>arrest_table = pd.read_csv("Arrests.csv")</span><span id="b715" class="ny mg it no b gy od oa l ob oc"># create the isAdult variable<br/>arrest_table['isAdult'] = np.where(arrest_table['Age']&gt;=20,"Adult","Teenager")</span><span id="42c5" class="ny mg it no b gy od oa l ob oc"># start the map of Baltimore<br/>map_osm = folium.Map(location=[39.29, -76.61], zoom_start=11)<br/>map_osm</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="of og di oh bf oi"><div class="gh gi oe"><img src="../Images/1ba97905924e81c3792b818f3a7e6a23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*JX0WChI4Mk2ZyBju.png"/></div></div></figure><p id="24a1" class="pw-post-body-paragraph li lj it lk b ll lm ju ln lo lp jx lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在，我们将处理比赛，最后，我们将对<strong class="lk iu"> 1K </strong>的观察结果进行取样。</p><pre class="kj kk kl km gt nu no nv nw aw nx bi"><span id="5d4a" class="ny mg it no b gy nz oa l ob oc">arrest_table = arrest_table.sample(n=1000, replace=False, random_state=1)</span><span id="1dc3" class="ny mg it no b gy od oa l ob oc">arrest_table.dropna(subset=['Race'],inplace=True)</span><span id="5bdd" class="ny mg it no b gy od oa l ob oc">def race_col(x):<br/>  if x=='B':<br/>    return 'black'<br/>  if x=='W':<br/>    return 'blue'<br/>  if x=='A':<br/>    return 'yellow'<br/>  if x=='H':<br/>    return 'red'<br/>  else:<br/>    return 'green'</span><span id="35b6" class="ny mg it no b gy od oa l ob oc">arrest_table['color_race'] = arrest_table['Race'].apply(lambda x:race_col(x) )</span><span id="fca7" class="ny mg it no b gy od oa l ob oc"># Create the Heat Map<br/>#Make the list of Lat an Long<br/>lat = arrest_table.Latitude.tolist()<br/>lng = arrest_table.Longitude.tolist()<br/>HeatMap(list(zip(lat, lng))).add_to(map_osm)</span><span id="8b77" class="ny mg it no b gy od oa l ob oc"># Add the Circles with the corresponding races based on the color<br/>arrest_table.apply(lambda x:folium.Circle(location=[x['Latitude'], x['Longitude']], radius=50, fill=True, color=x['color_race'], popup=x['isAdult']).add_to(map_osm), axis=1)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="of og di oh bf oi"><div class="gh gi oj"><img src="../Images/3a9e04a37c69fa65d3aa601cc1e14a17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*JoLwvWpJMGUuuKOD.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/2b282524d328c1a95d7ef6f9ecdcab54.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/format:webp/0*D1O1iRM2PuROYqE5.png"/></div></figure></div><div class="ab cl ok ol hx om" role="separator"><span class="on bw bk oo op oq"/><span class="on bw bk oo op oq"/><span class="on bw bk oo op"/></div><div class="im in io ip iq"><p id="e520" class="pw-post-body-paragraph li lj it lk b ll lm ju ln lo lp jx lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">最初发布于<a class="ae me" href="https://predictivehacks.com/how-to-make-interactive-maps-with-folium/" rel="noopener ugc nofollow" target="_blank">预测黑客</a></p></div></div>    
</body>
</html>