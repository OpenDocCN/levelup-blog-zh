<html>
<head>
<title>Code Smell 131 — Zero Argument Constructor</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">代码气味131 —零参数构造函数</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/code-smell-131-zero-argument-constructor-b48b518aa9e4?source=collection_archive---------0-----------------------#2022-04-22">https://levelup.gitconnected.com/code-smell-131-zero-argument-constructor-b48b518aa9e4?source=collection_archive---------0-----------------------#2022-04-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7510" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">没有参数创建的对象通常是可变的和不稳定的</h2></div><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi kg"><img src="../Images/7a7d7e920f286eb494f4f9af05e040f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*txKgRR04ji4UuyUUTIhWmA.jpeg"/></div></div></figure><blockquote class="ks kt ku"><p id="4bf3" class="kv kw kx ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="iq">TL；DR:在创建对象时传递你所有的基本参数。</em></p></blockquote><h1 id="09be" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">问题</h1><ul class=""><li id="8e79" class="mk ml iq ky b kz mm lc mn mo mp mq mr ms mt lr mu mv mw mx bi translated"><a class="ae my" href="https://codeburst.io/the-evil-powers-of-mutants-f803281ef82e" rel="noopener" target="_blank">易变性</a></li><li id="362a" class="mk ml iq ky b kz mz lc na mo nb mq nc ms nd lr mu mv mw mx bi translated">贫血模型</li></ul><h1 id="2f64" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">解决方法</h1><ol class=""><li id="f596" class="mk ml iq ky b kz mm lc mn mo mp mq mr ms mt lr ne mv mw mx bi translated">使用一个完整的单一构造函数。</li><li id="d955" class="mk ml iq ky b kz mz lc na mo nb mq nc ms nd lr ne mv mw mx bi translated">避免<a class="ae my" href="https://mcsee.medium.com/code-smell-28-setters-5b0e764049aa" rel="noopener">设置器</a>和<a class="ae my" href="https://blog.devgenius.io/code-smell-68-getters-68571a0f7fa8" rel="noopener ugc nofollow" target="_blank">吸气器</a></li></ol><h1 id="76d0" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">语境</h1><p id="58b1" class="pw-post-body-paragraph kv kw iq ky b kz mm jr lb lc mn ju le mo nf lh li mq ng ll lm ms nh lp lq lr ij bi translated">使用零参数构造函数和一堆setters来改变它是很常见的用法。</p><p id="83b6" class="pw-post-body-paragraph kv kw iq ky b kz la jr lb lc ld ju le mo lg lh li mq lk ll lm ms lo lp lq lr ij bi translated"><a class="ae my" href="https://en.wikipedia.org/wiki/JavaBeans" rel="noopener ugc nofollow" target="_blank">豆子</a>就是这种码味的一个众所周知的例子。</p><h1 id="185a" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">示例代码</h1><h1 id="3928" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">错误的</h1><pre class="kh ki kj kk gt ni nj nk nl aw nm bi"><span id="a9a1" class="nn lt iq nj b gy no np l nq nr">public Person();</span><span id="56d5" class="nn lt iq nj b gy ns np l nq nr">// Anemic and mutable</span></pre><h1 id="80e2" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">对吧</h1><pre class="kh ki kj kk gt ni nj nk nl aw nm bi"><span id="d3c0" class="nn lt iq nj b gy no np l nq nr">public Person(String name, int age){<br/>     this.name = name;<br/>     this.age = age;<br/>     } <br/> }</span><span id="84c4" class="nn lt iq nj b gy ns np l nq nr">// We 'pass' the essence to the object <br/>// So it does not mutate</span></pre><h1 id="e929" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">侦查</h1><p id="888e" class="pw-post-body-paragraph kv kw iq ky b kz mm jr lb lc mn ju le mo nf lh li mq ng ll lm ms nh lp lq lr ij bi translated">[X]自动</p><p id="9cd0" class="pw-post-body-paragraph kv kw iq ky b kz la jr lb lc ld ju le mo lg lh li mq lk ll lm ms lo lp lq lr ij bi translated">我们可以检查所有的构造函数，但是有一些误报。</p><p id="3190" class="pw-post-body-paragraph kv kw iq ky b kz la jr lb lc ld ju le mo lg lh li mq lk ll lm ms lo lp lq lr ij bi translated">无状态对象是一个有效的例子。</p><h1 id="c119" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">标签</h1><ul class=""><li id="311e" class="mk ml iq ky b kz mm lc mn mo mp mq mr ms mt lr mu mv mw mx bi translated">易变性</li></ul><h1 id="88ad" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="4216" class="pw-post-body-paragraph kv kw iq ky b kz mm jr lb lc mn ju le mo nf lh li mq ng ll lm ms nh lp lq lr ij bi translated">空构造函数是可变性提示和意外的实现问题。</p><p id="20a3" class="pw-post-body-paragraph kv kw iq ky b kz la jr lb lc ld ju le mo lg lh li mq lk ll lm ms lo lp lq lr ij bi translated">我们需要研究使用方法来改进我们的解决方案。</p><h1 id="9b68" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">关系</h1><div class="nt nu gp gr nv nw"><a href="https://blog.devgenius.io/code-smell-68-getters-68571a0f7fa8" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd ir gy z fp ob fr fs oc fu fw ip bi translated">代码气味68 —吸气剂</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">得到的东西是广泛而安全的。但这是一种非常糟糕的做法。</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">blog.devgenius.io</p></div></div><div class="of l"><div class="og l oh oi oj of ok kq nw"/></div></div></a></div><div class="nt nu gp gr nv nw"><a href="https://blog.devgenius.io/code-smell-28-setters-5b0e764049aa" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd ir gy z fp ob fr fs oc fu fw ip bi translated">气味代码28 —设定器</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">初级程序员做的第一个练习。ide、教程和高级开发人员不断教他们这种反模式。</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">blog.devgenius.io</p></div></div><div class="of l"><div class="ol l oh oi oj of ok kq nw"/></div></div></a></div><div class="nt nu gp gr nv nw"><a href="https://blog.devgenius.io/code-smell-01-anemic-models-f9fb5a1323b3" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd ir gy z fp ob fr fs oc fu fw ip bi translated">代码气味01——贫血模型</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">你的对象是一堆没有行为的公共属性。</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">blog.devgenius.io</p></div></div><div class="of l"><div class="om l oh oi oj of ok kq nw"/></div></div></a></div><div class="nt nu gp gr nv nw"><a href="https://blog.devgenius.io/code-smell-40-dtos-ca35f5d8f7c9" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd ir gy z fp ob fr fs oc fu fw ip bi translated">代码气味40—dto</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">dto被广泛使用并“解决”了实际问题，是吗？</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">blog.devgenius.io</p></div></div><div class="of l"><div class="on l oh oi oj of ok kq nw"/></div></div></a></div><h1 id="eda7" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">更多信息</h1><ul class=""><li id="48b7" class="mk ml iq ky b kz mm lc mn mo mp mq mr ms mt lr mu mv mw mx bi translated"><a class="ae my" href="https://en.wikipedia.org/wiki/Nullary_constructor" rel="noopener ugc nofollow" target="_blank">空构造函数</a></li><li id="ecb6" class="mk ml iq ky b kz mz lc na mo nb mq nc ms nd lr mu mv mw mx bi translated"><a class="ae my" href="https://medium.com/dev-genius/nude-models-part-i-setters-77ac784a91f3" rel="noopener">裸体模特——第一部分:设定者</a></li><li id="198f" class="mk ml iq ky b kz mz lc na mo nb mq nc ms nd lr mu mv mw mx bi translated"><a class="ae my" href="https://medium.com/dev-genius/nude-models-part-ii-getters-b039e5ad3427" rel="noopener">裸体模特——第二部分:吸气剂</a></li><li id="d680" class="mk ml iq ky b kz mz lc na mo nb mq nc ms nd lr mu mv mw mx bi translated"><a class="ae my" href="https://codeburst.io/the-evil-powers-of-mutants-f803281ef82e" rel="noopener" target="_blank">变种人的邪恶力量</a></li></ul><h1 id="352b" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">信用</h1><p id="d52d" class="pw-post-body-paragraph kv kw iq ky b kz mm jr lb lc mn ju le mo nf lh li mq ng ll lm ms nh lp lq lr ij bi translated">照片由<a class="ae my" href="https://unsplash.com/@adebowax" rel="noopener ugc nofollow" target="_blank">阿德·阿德博瓦尔</a>在<a class="ae my" href="https://unsplash.com/s/photos/crane" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></div><div class="ab cl oo op hu oq" role="separator"><span class="or bw bk os ot ou"/><span class="or bw bk os ot ou"/><span class="or bw bk os ot"/></div><div class="ij ik il im in"><blockquote class="ks kt ku"><p id="ad36" class="kv kw kx ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不要担心设计，如果你倾听你的代码，一个好的设计就会出现…倾听技术人员的意见。如果他们在抱怨做出改变的困难，那么认真对待这样的抱怨，给他们时间来解决问题。</p></blockquote><p id="ddad" class="pw-post-body-paragraph kv kw iq ky b kz la jr lb lc ld ju le mo lg lh li mq lk ll lm ms lo lp lq lr ij bi translated">马丁·福勒</p><div class="nt nu gp gr nv nw"><a href="https://blog.devgenius.io/software-engineering-great-quotes-3af63cea6782" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd ir gy z fp ob fr fs oc fu fw ip bi translated">软件工程名言</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">有时一个简短的想法可以带来惊人的想法。</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">blog.devgenius.io</p></div></div><div class="of l"><div class="ov l oh oi oj of ok kq nw"/></div></div></a></div></div><div class="ab cl oo op hu oq" role="separator"><span class="or bw bk os ot ou"/><span class="or bw bk os ot ou"/><span class="or bw bk os ot"/></div><div class="ij ik il im in"><p id="3bec" class="pw-post-body-paragraph kv kw iq ky b kz la jr lb lc ld ju le mo lg lh li mq lk ll lm ms lo lp lq lr ij bi translated">本文是CodeSmell系列的一部分。</p><div class="nt nu gp gr nv nw"><a href="https://blog.devgenius.io/how-to-find-the-stinky-parts-of-your-code-fa8df47fc39c" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd ir gy z fp ob fr fs oc fu fw ip bi translated">如何找到你的代码中有问题的部分</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">代码很难闻。让我们看看如何改变香味。</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">blog.devgenius.io</p></div></div><div class="of l"><div class="ow l oh oi oj of ok kq nw"/></div></div></a></div></div></div>    
</body>
</html>