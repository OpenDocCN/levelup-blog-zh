<html>
<head>
<title>Do You Write Dishonest Methods?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你写不诚实的方法吗？</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/do-you-write-dishonest-methods-6ec21349e8db?source=collection_archive---------26-----------------------#2021-01-12">https://levelup.gitconnected.com/do-you-write-dishonest-methods-6ec21349e8db?source=collection_archive---------26-----------------------#2021-01-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="114c" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">固执己见的观点</h2><div class=""/><div class=""><h2 id="1fc0" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">可能没有什么比糟糕的方法声明更让开发人员头疼了…</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/77f20a27127a989b1807833e755e9820.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PIWRdIHh6WPqg9XeD8aNxw.jpeg"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">图片由<a class="lh li ep" href="https://medium.com/u/7c7a43b3d9de?source=post_page-----6ec21349e8db--------------------------------" rel="noopener" target="_blank">尼克拉斯·米勒德</a></figcaption></figure><p id="cb1e" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">方法声明就像开发人员之间的通信单元。它们传达意图和行动。</p><p id="4309" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">对于初学者来说，方法声明就是组成方法的一切，除了它的实现。这意味着访问修饰符、返回类型、方法名和参数列表。</p><p id="48df" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">下面这个方法看起来很简单。没什么大不了的。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi mf"><img src="../Images/5bd91e94717a9262a914bb912126d95b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*71Kt8XgLp3G_k5G-3hUSbg.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">简单方法声明的示例。</figcaption></figure><p id="533f" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">上面的方法可能会对我们撒谎，导致你或其他人的应用程序崩溃。</p><p id="3652" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">您通常会在存储库类中找到这些类型的方法声明。我想任何一个开发者都会理解上面的方法声明。它将返回一个<code class="fe mg mh mi mj b">Person</code>类的实例，带有一个与方法参数匹配的社会保险号。没什么特别的，真的。</p><p id="82c2" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">尽管这个例子有些做作，但无论如何，我们可以从用这个简单的方法检查问题中获得一些经验。</p><p id="3584" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">我相信任何有经验的开发人员都知道这种方法给我们的所有错误提示。没有经验的开发人员可能不会考虑或抓住这种方法告诉我们的两个潜在的谎言。</p><p id="5199" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">所以，让我给不熟悉这个问题的人解释一下。</p><h2 id="97e8" class="mk ml it bd mm mn mo dn mp mq mr dp ms ls mt mu mv lw mw mx my ma mz na nb iz bi translated">那么，有什么问题呢？</h2><p id="de48" class="pw-post-body-paragraph lj lk it ll b lm nc kd lo lp nd kg lr ls ne lu lv lw nf ly lz ma ng mc md me im bi translated">首先，这个方法的返回类型和名字对我们不诚实。由于返回类型是一个类，该方法很可能返回null而不是对象实例。忘记执行空值检查将不可避免地在某些时候搞乱您的应用程序。</p><p id="a0d5" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">其次，这个方法的参数告诉我们任何字符串都是有效的。当然，我们可以从参数名:社会保险号中得到一些提示。但是，老实说，这个方法的一些用户可能会传入一个疯狂的值，仅仅是因为我们允许他们这样做。</p><h2 id="344f" class="mk ml it bd mm mn mo dn mp mq mr dp ms ls mt mu mv lw mw mx my ma mz na nb iz bi translated">有一个简单的解决方案。</h2><p id="9fb1" class="pw-post-body-paragraph lj lk it ll b lm nc kd lo lp nd kg lr ls ne lu lv lw nf ly lz ma ng mc md me im bi translated">停止编写不诚实的方法声明。</p><p id="b1ce" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">更好的声明如下所示。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nh"><img src="../Images/1ef3b98adb2a4171d83485ce2416cb16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NKNrKz9wsIT69njU1Fq9yA.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">更好的方法声明。</figcaption></figure><p id="43f7" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">当然，它现在稍微长了一点，增加了一些复杂性，但它是诚实的，相对简单，最重要的是，我们知道会发生什么。这个方法现在告诉我们:“提供一个社会保险号，你要么得到一个人对象，要么可能什么也没有。”</p><p id="1e72" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">在C#中，我们可以使用可空类型，因此在Person返回类型的末尾有一个问号——我相信您选择的语言也有类似的东西。该名称现在包括“order default”，意思是Person的默认值—这是一个空值，因为类是引用类型。</p><p id="5c71" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">最后，我们去掉了荒谬的字符串参数。我们现在希望用户只提供有效的社会安全号码。我们可以简单地通过创建一个特定的类型来完成所有自己的有效性检查，从而获取验证社会保险号是否合法所需的所有业务知识。</p></div><div class="ab cl ni nj hx nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt np mj nq nr aw ns bi"><span id="566d" class="mk ml it mj b gy nt nu l nv nw">Resources for the curious<br/>--------------------------<br/><a class="ae nx" href="https://www.whitman.edu/mathematics/java_tutorial/java/javaOO/methoddecl.html#:~:text=Besides%20the%20name%20of%20the,objects%20can%20call%20the%20method" rel="noopener ugc nofollow" target="_blank">The Method Declaration - whitman.edu</a></span><span id="4295" class="mk ml it mj b gy ny nu l nv nw"><a class="ae nx" href="https://docs.microsoft.com/en-us/dotnet/csharp/methods" rel="noopener ugc nofollow" target="_blank">Methods - C# guide</a> by Microsoft</span><span id="90c2" class="mk ml it mj b gy ny nu l nv nw"><a class="ae nx" href="https://www.dotnetcurry.com/patterns-practices/1449/pure-impure-methods-csharp" rel="noopener ugc nofollow" target="_blank">Writing Honest Methods in C#</a> by Yacoub Massad</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nz"><img src="../Images/745b6019f001879654cae7d29d306420.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LZ0-rAawOB4iv6uI.png"/></div></div></figure><p id="cc49" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated"><strong class="ll jd"> Nicklas Millard </strong>是一名软件开发工程师，供职于一家发展最快的银行，负责构建关键金融服务基础设施。</p><p id="7bfa" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">此前，他是Big4的高级技术顾问，为商业客户和政府机构开发软件。</p><blockquote class="oa ob oc"><p id="71d7" class="lj lk od ll b lm ln kd lo lp lq kg lr oe lt lu lv of lx ly lz og mb mc md me im bi translated"><a class="ae nx" href="https://www.youtube.com/channel/UCaUy83EAkVdXsZjF3xGSvMw" rel="noopener ugc nofollow" target="_blank">新的YouTube频道(@Nicklas Millard) </a></p><p id="f1a4" class="lj lk od ll b lm ln kd lo lp lq kg lr oe lt lu lv of lx ly lz og mb mc md me im bi translated"><em class="it">连接上</em> <a class="ae nx" href="https://www.linkedin.com/in/nicklasmillard/" rel="noopener ugc nofollow" target="_blank"> <em class="it"> LinkedIn </em> </a></p></blockquote></div></div>    
</body>
</html>