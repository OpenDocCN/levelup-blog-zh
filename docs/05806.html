<html>
<head>
<title>Exploiting insecure code management</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">利用不安全的代码管理</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/exploiting-insecure-code-management-23fcd00eba60?source=collection_archive---------6-----------------------#2020-10-03">https://levelup.gitconnected.com/exploiting-insecure-code-management-23fcd00eba60?source=collection_archive---------6-----------------------#2020-10-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/4ed5617bf0e14ad1df1056eca32eed9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mQJd_HK9XO2YIORFPsS-lQ.png"/></div></div></figure><p id="1215" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">用现实世界的例子:</strong></p><p id="a303" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">不安全的代码管理/版本控制历史:“</strong>”</p><p id="7e49" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">为了维护和跟踪代码中的变化，web应用程序通常使用git存储库，但在此过程中，“有时开发人员会保存一些敏感信息”，如数据库信息或凭据、API密钥、配置文件等，而攻击者会利用这些保存的信息。</p><p id="920d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">安装在网站根目录下的Git目录如果公开的话，可以给我们提供很多有趣的信息。因此，git dir应该从公共访问中移除。".git”源代码可以在本地系统上恢复，并且可以搜索提交历史记录，这可能会暴露大量敏感信息。有很多方法可以搜索网站的git repos，下面给出了一些方法:</p><p id="0108" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">在搜索引擎:</strong>后插入<strong class="kd iu"> intext:" Index of /。git" </strong>字符串在任何搜索引擎我们将网站在哪里。git存储库是公开可访问的。</p><p id="4c26" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">搜索引擎:</p><p id="69bb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Bing:</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div class="gh gi kz"><img src="../Images/e3210b32cddf69b97fcae511b6fd8db1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1050/format:webp/1*waEzMCGNg-HP3rLD3Y0ftQ.png"/></div></figure><p id="0a31" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">谷歌:</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div class="gh gi le"><img src="../Images/9548b2be69f48e29df564ac7177a7aec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1060/format:webp/1*EEruJLXGVouFa6JJrdKBcQ.png"/></div></figure><p id="ac14" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">通过使用目录暴力工具。</p><p id="ccbc" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">通过使用dirbuster，我们可以获取多个隐藏的目录。。git也可以被它取。这个工具在windows和unix/linux中都可用。</p><p id="1960" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">语法:dirb &lt; URL带http/https&gt;T11】</strong></p><p id="5be7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们也可以使用</p><h1 id="94b2" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated"><strong class="ak">https://github.com/guptabless/gitfinder</strong></h1><p id="89b4" class="pw-post-body-paragraph kb kc it kd b ke md kg kh ki me kk kl km mf ko kp kq mg ks kt ku mh kw kx ky im bi translated">这个python脚本还有助于搜索隐藏的git目录并转储其内容。</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mi"><img src="../Images/3a54885d8859b2fb1266985abf269fb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aH5aYmCGGtJy5Xafb6sWag.png"/></div></div></figure><h1 id="368f" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated"><strong class="ak">语法</strong>:python git . py–u&lt;URL&gt;</h1><p id="6368" class="pw-post-body-paragraph kb kc it kd b ke md kg kh ki me kk kl km mf ko kp kq mg ks kt ku mh kw kx ky im bi translated"><strong class="kd iu"> URL </strong>:我们要搜索的地方。git目录，我们必须提供没有http:/https或URL。git追加。</p><p id="a1d9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果。git目录存在于URL上，它将显示git整个结构。</p><p id="bad9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">工作/利用:</strong>一个开发人员不小心在git中写了敏感的管理员密码，但是在意识到他从git中删除了该密码之后，却忘记了删除提交历史</p><p id="c2a9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">追加。git在URL中我们可以看到。git目录。</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/ef65cb600fb7c9b26741266ac0dd49b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1174/format:webp/1*HFyMzXA7ZCv5Y0BWdqHrxQ.png"/></div></figure><p id="a1b6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">因此，为了寻找提交历史，我们必须从网站上克隆它，然后我们可以寻找它的提交历史。</p><p id="3bf3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">克隆git工具:</strong>我们可以使用gitools通过下面给出的命令克隆它。Gitools在bash/python中有三个小脚本。</p><p id="5712" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">语法</strong> : Git克隆<a class="ae mk" href="https://github.com/internetwache/GitTools.git" rel="noopener ugc nofollow" target="_blank">https://github.com/internetwache/GitTools.git</a></p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/64fd6b63dfb2ed4be0da0359b2e4201b.png" data-original-src="https://miro.medium.com/v2/resize:fit:908/format:webp/1*FL6szwA6ZPyg_9L9bHfTcQ.png"/></div></figure><p id="3fbd" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">一、</strong> <strong class="kd iu">翻车机:</strong>我们可以存储。本地git源代码。我们有一个Dumper“git Dumper . sh”脚本，在这个脚本中，您可以传递附加了git目录的网站和您想要保存内容的文件夹。正如你在下面的截图中看到的。我给“gitrepo”文件夹命名并存储它。</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mm"><img src="../Images/e8e48770ba2848c42822727db831e506.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mdK2OWu2nxd6pcihy5_bmg.png"/></div></div></figure><p id="84f4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我仍然看不到保存的文件夹中的任何内容。</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/3b38a72b75e6b506defe04154d907944.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*HUQm5WkhAZckHiyubbEIqw.png"/></div></figure><p id="c6b2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">尝试使用ls -la命令，因为内容似乎是隐藏的</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/2ea7798837abcaa66dbf964ff1f61972.png" data-original-src="https://miro.medium.com/v2/resize:fit:1138/format:webp/1*QQo4vrVdrh6vXaPWEA3DvQ.png"/></div></figure><p id="7692" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们可以看到所有成功克隆的文件夹。</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mp"><img src="../Images/60399e057d2c98012ce9fb91ba127476.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fcKF7a9MFZZFIaqQSlvs_w.png"/></div></div></figure><p id="1e30" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们通常在git存储库中搜索logs文件夹。我们有头和</p><p id="2eab" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">日志文件夹中的引用。</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mq"><img src="../Images/babacfbe7cd1339da099090826aa64bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iZV1FRytEZJyOXLfU28Tfw.png"/></div></div></figure><p id="34ce" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">管理员进行了初始提交。在那之后已经被纠正了。它有一个惟一的git id，通过这个id可以查找添加或删除了什么内容。要进行显示，您可以复制git id，然后在终端中使用该命令<strong class="kd iu"> git show &lt; Commit ID &gt; </strong></p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mr"><img src="../Images/88b08bb0c19c9e6651ee384b362b56db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZaeTuwl2HpaOMuXOzwgR9g.png"/></div></div></figure><p id="f0ed" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">整治</strong></p><p id="576c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">切勿在GitHub的代码/配置中存储敏感数据。</p><p id="5fa5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">删除文件和GitHub历史记录中的敏感数据。</p><p id="4e03" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">仔细验证您的GitHub应用程序</p><p id="f9ee" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">移除并拒绝访问您网站上的git文件夹。</p></div></div>    
</body>
</html>