<html>
<head>
<title>How to create Light / Dark mode toggle with CSS and Javascript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用CSS和Javascript创建亮/暗模式切换</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-create-light-dark-mode-toggle-with-css-and-javascript-8c297e7ab806?source=collection_archive---------10-----------------------#2021-04-05">https://levelup.gitconnected.com/how-to-create-light-dark-mode-toggle-with-css-and-javascript-8c297e7ab806?source=collection_archive---------10-----------------------#2021-04-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/55479217bdcbec810f90b799628cd496.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9TwF3uaswTGRDaz4vTllDQ.jpeg"/></div></div></figure><h1 id="3a75" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">介绍</h1><p id="14d1" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">随着黑暗模式成为2021年的主要趋势之一，越来越多的人开始将黑暗模式融入他们的新项目，因为它的高可达性和它给观众眼睛带来的低到零的压力。在本教程中，我将带领你完成仅使用普通Javascript和CSS创建亮/暗模式切换的完整过程。我们将看一个小卡片示例，但概念是相同的，可以很容易地调整以适合您自己的业务案例。</p></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h1 id="1309" class="jy jz iq bd ka kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv bi translated">准备好HTML</h1><p id="103d" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">对于HTML，除了from container div元素，我们只需要关心toggler元素和card元素。</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="1e6b" class="mp jz iq ml b gy mq mr l ms mt">&lt;!-- Container --&gt;<br/>&lt;div class="container"&gt;<br/>  &lt;div class="inner-wrapper"&gt;<br/>    &lt;!-- Controller Row --&gt;<br/>    &lt;div class="controller-row"&gt;<br/>      &lt;label class="switch"&gt;<br/>        &lt;input id="toggler" type="checkbox"&gt;<br/>        &lt;span class="slider round"&gt;&lt;/span&gt;<br/>      &lt;/label&gt;<br/>    &lt;/div&gt;&lt;!-- End of controller row --&gt;<br/>    &lt;!-- Card --&gt;<br/>    &lt;div class="card"&gt;<br/>      &lt;div class="card__header"&gt;<br/>        &lt;h2 class="__title"&gt;Card Title&lt;/h2&gt;<br/>      &lt;/div&gt;<br/>      &lt;div class="card__body"&gt;<br/>        &lt;p class="__detail"&gt;<br/>          Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.<br/>        &lt;/p&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;&lt;!-- End of card --&gt;<br/>  &lt;/div&gt;<br/>&lt;/div&gt;&lt;!-- End of container--&gt;</span></pre><p id="fa83" class="pw-post-body-paragraph kw kx iq ky b kz mu lb lc ld mv lf lg lh mw lj lk ll mx ln lo lp my lr ls lt ij bi translated">在我们继续之前，需要注意一些CSS类:</p><ul class=""><li id="e848" class="mz na iq ky b kz mu ld mv lh nb ll nc lp nd lt ne nf ng nh bi translated">容器:环绕所有元素的Div元素。将是我们的主要背景。</li><li id="692f" class="mz na iq ky b kz ni ld nj lh nk ll nl lp nm lt ne nf ng nh bi translated">card:我们整个卡的父div元素。这也是盒影将要生活的地方。</li><li id="6871" class="mz na iq ky b kz ni ld nj lh nk ll nl lp nm lt ne nf ng nh bi translated">_ _标题:卡片标题</li><li id="e72e" class="mz na iq ky b kz ni ld nj lh nk ll nl lp nm lt ne nf ng nh bi translated">__detail:卡片的正文</li></ul><p id="4b2e" class="pw-post-body-paragraph kw kx iq ky b kz mu lb lc ld mv lf lg lh mw lj lk ll mx ln lo lp my lr ls lt ij bi translated">HTML上的主要元素:</p><p id="8dc8" class="pw-post-body-paragraph kw kx iq ky b kz mu lb lc ld mv lf lg lh mw lj lk ll mx ln lo lp my lr ls lt ij bi translated"><strong class="ky ir">容器</strong> <br/>在本教程中，我们使用一个带有CSS类<em class="nn">容器</em>的div元素作为页面背景，但在实际项目中，这可能是body元素或父元素。</p><p id="9ad6" class="pw-post-body-paragraph kw kx iq ky b kz mu lb lc ld mv lf lg lh mw lj lk ll mx ln lo lp my lr ls lt ij bi translated">Toggler元素直接取自W3School，因为它不是本教程的主要焦点，但是您可以用自己的开关替换它。</p><p id="3be5" class="pw-post-body-paragraph kw kx iq ky b kz mu lb lc ld mv lf lg lh mw lj lk ll mx ln lo lp my lr ls lt ij bi translated"><strong class="ky ir">卡片</strong> <br/>卡片包含三个元素:标题、正文和阴影。我们将改变这些元素在亮模式和暗模式下的外观。</p></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h1 id="5ac3" class="jy jz iq bd ka kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv bi translated">准备CSS变量</h1><p id="437b" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">为了轻松地在亮模式和暗模式之间切换外观，我们需要创建一些CSS变量。稍后我们将在HTML元素中直接使用这些变量定义的颜色。通过这样做，我们可以在黑暗模式下覆盖这些变量，而不是为黑暗模式重写整个CSS集。</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="a03c" class="mp jz iq ml b gy mq mr l ms mt">/*** Light Mode Theme ***/<br/>:root, [data-theme="default"] {<br/>  --body-bg-color: #fff;<br/>  --card-bg-color: #fff;<br/>  --box-shadow-color: rgba(0,0,0,0.2);<br/>  --text-color: #333;<br/>  --switch-on-color: #444352;<br/>  --switch-off-color: #ccc;<br/>  --toggler-color: #fff;<br/>}<br/>/* Dark Mode Theme */<br/>[data-theme="dark"] {<br/>  --body-bg-color: #444352;<br/>  --card-bg-color: #545363;<br/>  --box-shadow-color: rgb(18, 18, 19, 0.2);<br/>  --text-color: #efefef;<br/>  --toggler-color: #444352;<br/>  --switch-on-color: #fff;<br/>  --switch-off-color: #ccc;<br/>}</span></pre><p id="2ad4" class="pw-post-body-paragraph kw kx iq ky b kz mu lb lc ld mv lf lg lh mw lj lk ll mx ln lo lp my lr ls lt ij bi translated">在上面的CSS代码中，我们首先创建了针对根元素和默认主题的CSS变量。(亮模式)然后我们覆盖这些变量，并在暗模式选择器中给它们不同的值。亮模式和暗模式是通过使用HTML属性来定义的:<strong class="ky ir"> data-theme </strong>当然你可以将这个属性命名为任何你想要的值。</p><p id="d3bb" class="pw-post-body-paragraph kw kx iq ky b kz mu lb lc ld mv lf lg lh mw lj lk ll mx ln lo lp my lr ls lt ij bi translated">注意。<br/>在SCSS中，建议在＄符号上使用原生CSS var()函数，因为对于CSS变量，当您覆盖变量的属性时，它们将直接应用于引用它们的HTML元素。另一方面，使用SCSS $符号，您需要将变量重新分配给所需的元素。</p></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h1 id="ad0a" class="jy jz iq bd ka kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv bi translated">将CSS变量绑定到HTML</h1><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="4971" class="mp jz iq ml b gy mq mr l ms mt">* {<br/>  font-family: 'Poppins', sans-serif;<br/>  // Bind text color to the '--text-color' variable<br/>  color: var(--text-color);<br/>  transition: color .45s ease-in;<br/>}<br/>.container {<br/>  height: 100vh;<br/>  width: 100vw;<br/>  display: flex;<br/>  // Bind page background color to the '--body-bg-color' variable<br/>  background-color: var(--body-bg-color); <br/>  transition: background-color .45s ease-in;<br/>}<br/>.card {<br/>  margin: auto;<br/>  width: 300px;<br/>  padding: 10px 15px;<br/>  box-shadow: 2px 3px 4px 1px var(--box-shadow-color);<br/>  // Bind box shadow color to the '--box-shadow-color' variable<br/>  box-shadow-color: var(--box-shadow-color);<br/>  background-color: var(--card-bg-color);<br/>  transition: background-color .45s ease-in,<br/>              box-shadow-color .45s ease-in;<br/>}<br/>.slider {<br/>  position: absolute;<br/>  cursor: pointer;<br/>  top: 0;<br/>  left: 0;<br/>  right: 0;<br/>  bottom: 0;<br/>  // Bind the toggle background color (unchecked) to the '--switch-off-color' variable<br/>  background-color: var(--switch-off-color);<br/>  -webkit-transition: .4s;<br/>  transition: .4s;<br/>}<br/>.slider:before {<br/>  position: absolute;<br/>  content: "";<br/>  height: 12px;<br/>  width: 12px;<br/>  left: 4px;<br/>  bottom: 4px;<br/>  // Bind the toggle inner circle color to the '--toggler-color' variable<br/>  background-color: var(--toggler-color);<br/>  -webkit-transition: .4s;<br/>  transition: .4s;<br/>}<br/>input:checked + .slider {<br/>  // Bind the toggle background color (checked) to the '--switch-on-color' variable<br/>  background-color: var(--switch-on-color);<br/>}<br/>input:focus + .slider {<br/>  // Bind the toggle box shadow color to the '--switch-on-color' variable<br/>  box-shadow: 0 0 1px var(--switch-on-color);<br/>}</span></pre><p id="a070" class="pw-post-body-paragraph kw kx iq ky b kz mu lb lc ld mv lf lg lh mw lj lk ll mx ln lo lp my lr ls lt ij bi translated">在变量绑定过程中需要指出的重要一点是，如果你想给你的元素添加平滑过渡或动画，确保你使用的是<strong class="ky ir">背景色</strong>而不是<strong class="ky ir">背景色</strong>。</p></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h1 id="9eb2" class="jy jz iq bd ka kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv bi translated">Javascript逻辑</h1><p id="d82a" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">Javascript部分相对简单。当用户切换开关时，我们希望设置或移除<strong class="ky ir">容器</strong> div元素的<strong class="ky ir">数据主题</strong>属性。我们可以通过向switch toggle添加一个事件监听器来实现这一点。</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="4737" class="mp jz iq ml b gy mq mr l ms mt">// On toggler clicked<br/>var container = document.getElementsByClassName('container')[0];<br/>document.getElementById('toggler').addEventListener('change', (event) =&gt; {<br/>  console.log(toggler)<br/>  event.target.checked ? container.removeAttribute('data-theme') : container.setAttribute('data-theme', 'dark');<br/>});</span></pre></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h1 id="8f91" class="jy jz iq bd ka kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv bi translated">点睛之笔—添加过渡</h1><p id="a971" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">作为最后的润色，您可以将过渡添加到我们与变量绑定的CSS属性中，例如颜色、框阴影颜色和背景颜色。它将使颜色过渡平滑，并改善整体用户体验。</p><p id="fbfd" class="pw-post-body-paragraph kw kx iq ky b kz mu lb lc ld mv lf lg lh mw lj lk ll mx ln lo lp my lr ls lt ij bi translated">最终结果:</p><figure class="mg mh mi mj gt jr gh gi paragraph-image"><div class="gh gi no"><img src="../Images/310c737e6427ec3e4b90f0d49cbcd1fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/1*yYAG43bfiy1fjfqYvQcq3Q.gif"/></div></figure><p id="26a5" class="pw-post-body-paragraph kw kx iq ky b kz mu lb lc ld mv lf lg lh mw lj lk ll mx ln lo lp my lr ls lt ij bi translated">你可以在https://codepen.io/chen1223/pen/PobxwMj的<br/>的CodePen上找到完整的代码</p><p id="36b5" class="pw-post-body-paragraph kw kx iq ky b kz mu lb lc ld mv lf lg lh mw lj lk ll mx ln lo lp my lr ls lt ij bi translated">这就是本教程，欢迎在下面留下评论或分享你对黑暗模式和css变量的想法。</p><p id="46f8" class="pw-post-body-paragraph kw kx iq ky b kz mu lb lc ld mv lf lg lh mw lj lk ll mx ln lo lp my lr ls lt ij bi translated">原帖:<br/><a class="ae np" href="https://simpleweblearning.com/how-to-create-light-dark-mode-toggle-with-css-and-javascript" rel="noopener ugc nofollow" target="_blank">https://simple web learning . com/how-to-create-light-dark-mode-toggle-with-CSS-and-JavaScript</a></p></div></div>    
</body>
</html>