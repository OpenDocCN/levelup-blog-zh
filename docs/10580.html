<html>
<head>
<title>The IPSec Framework overview</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">IPSec框架概述</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/the-ipsec-framework-overview-bea5725025db?source=collection_archive---------13-----------------------#2021-12-22">https://levelup.gitconnected.com/the-ipsec-framework-overview-bea5725025db?source=collection_archive---------13-----------------------#2021-12-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="da9c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">互联网协议</strong>用于将连接机器之间发送的数据报寻址和路由到网络。这种协议没有任何保证，在现代计算中，特别是在网络领域，它被广泛使用。</p><p id="0149" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">由于没有保证，一种“新”的方法出现来解决这个问题，这就是为什么<strong class="jp ir"> IPsec框架</strong>存在的原因。<strong class="jp ir">互联网协议安全</strong>是一组确保IP通信安全的工具，基本上以多种方式为<strong class="jp ir"> IP协议</strong>提供安全性，但我们可以将数据报加密和设备认证的功能推广到比<strong class="jp ir"> SSL </strong>更广的范围。</p><p id="5ba2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> IPSec </strong>可用于<strong class="jp ir"> IPv4 </strong>和<strong class="jp ir"> IPv6 </strong>符号，向数据报添加信息，换句话说，向数据包添加新的报头。</p><p id="78ad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在IPSec 提供的所有特性中，值得一提的是这些基础元素。</p><ol class=""><li id="da88" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk kq kr ks kt bi translated"><strong class="jp ir"> IPSec </strong>为<strong class="jp ir">封装安全</strong>提供了一种机制<strong class="jp ir">有效载荷(ESP) </strong>，这种加密用于保证传输信息的完整性和机密性</li><li id="7666" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">还提供了一个<strong class="jp ir">认证头(AH) </strong>来保证完整性和机密性，但是，它使用一个秘密共享密钥、数据报内容及其剩余元素来执行哈希计算。</li><li id="5f55" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">一个完整的<strong class="jp ir">密钥管理系统</strong>，基于<strong class="jp ir"> IKE </strong>协议。</li></ol><h2 id="e614" class="kz la iq bd lb lc ld dn le lf lg dp lh jy li lj lk kc ll lm ln kg lo lp lq lr bi translated">IP数据报</h2><p id="85b8" class="pw-post-body-paragraph jn jo iq jp b jq ls js jt ju lt jw jx jy lu ka kb kc lv ke kf kg lw ki kj kk ij bi translated">为了了解<strong class="jp ir"> IP数据报</strong>是如何用<strong class="jp ir"> IPSec </strong>改进的，请看这张图片。</p><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi lx"><img src="../Images/76259439db7e0682c1aba8e342c9d705.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q9z7bGIQQfUTocaSWWhPyQ.png"/></div></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk translated">IP传统数据报</figcaption></figure><p id="6610" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一个常规的<strong class="jp ir"> IP数据报</strong>报头，它包含许多用于识别和正确传递的信息。现在，让我们探索一下新的特性，其中大多数都存在于IP报头中。</p><p id="b8c8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">先说一下<strong class="jp ir"> IPSec </strong> <strong class="jp ir">认证</strong>。</p><p id="ca4a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">认证过程</strong>通过使用寻址到特定设备的标识码实现，该标识码仅可用于授权设备，并禁止不同设备参与所述通信。认证报头与NAT过程不兼容，事实上，该报头值保护数据有效载荷和完整报头本身。</p><p id="dd46" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<strong class="jp ir"> IPSec </strong>中的密钥管理有助于避免拦截，它被用来解密通信。但是，它可以应用于设备、VPN、路由器或隧道。</p><p id="9d72" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们比较一下不同之处。</p><p id="9df9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你参考上面的图片，你会看到一个IP数据包结构的细节。它完全由IP报头和TCP有效载荷来表示，对吗？有了<strong class="jp ir"> IPSec，</strong>这个全景改善了很多。</p><p id="050e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们有两种方法，带ESP的<strong class="jp ir"> IPSec和带AH的<strong class="jp ir"> IPSec</strong></strong></p><h2 id="7a4a" class="kz la iq bd lb lc ld dn le lf lg dp lh jy li lj lk kc ll lm ln kg lo lp lq lr bi translated">带ESP的IPSec</h2><p id="b737" class="pw-post-body-paragraph jn jo iq jp b jq ls js jt ju lt jw jx jy lu ka kb kc lv ke kf kg lw ki kj kk ij bi translated">整个数据报现在由。</p><ol class=""><li id="d02d" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk kq kr ks kt bi translated">IP报头</li><li id="a86e" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">电动选择型</li><li id="6425" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">加密有效负载</li><li id="ff88" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">NH:下一个头字节</li><li id="53d7" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">发送者验证数据</li></ol><h2 id="83c7" class="kz la iq bd lb lc ld dn le lf lg dp lh jy li lj lk kc ll lm ln kg lo lp lq lr bi translated">带AH的IPSec</h2><p id="4908" class="pw-post-body-paragraph jn jo iq jp b jq ls js jt ju lt jw jx jy lu ka kb kc lv ke kf kg lw ki kj kk ij bi translated">这与<strong class="jp ir"> ESP </strong>几乎是一回事，但是，不是发送<strong class="jp ir"> ESP </strong>，而是设置<strong class="jp ir"> AH </strong>散列。</p><p id="abbc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">太好了。我们继续吧。</p><p id="6bce" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当<strong class="jp ir"> IPSec </strong>在传输模式下实现时，设备之间的通信产生，数据报被加密，但报头被加密。在某些时候，这整个机密性和完整性可能会受到损害。</p><p id="2ddd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这种特殊模式下，由于<strong class="jp ir"> AH </strong>的原因，不允许<strong class="jp ir">进程停滞</strong>。任何时候一个<strong class="jp ir"> NAT </strong>被完成，散列就会变化，数据报的完整性就会失效。对此的解决方案可以是执行横向<strong class="jp ir"> NAT </strong>过程，这样，路由过程的其余部分保持不变。</p><p id="c3e3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">另一个<strong class="jp ir"> IPSec </strong>用法是在<strong class="jp ir">隧道</strong>过程中发现的，简而言之，这是针对不同网络之间的IPSec，它确实没有太大变化，原始数据报被完全加密，然后被封装在另一个普通数据报中。这将让你以一种简单的方式进行交谈。</p><p id="4c34" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这种机制是在不可信或不安全的安全中的不同分离网络之间的通用方法。</p><p id="c395" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">尽管如此，这仍然是IP协议，但经过了改进，因为路由是通过IP协议进行的，它可以以不同的方式往返。<strong class="jp ir"> IPSec </strong>实现索引和安全参数来识别数据流、规则甚至算法。</p><p id="93b4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里的另一个重要组件是密钥交换和如何管理。事实是，您可以执行手动分配，甚至自动化一切，这可能会因网络的规模而异，但这不是严格的评估因素。</p><p id="5966" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通常对于小型和静态网络，手动密钥分配是针对每个设备进行的。可以使用<strong class="jp ir"> IKE协议</strong>在连接的设备之间动态地进行自动(按需)密钥分配。</p><p id="3579" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一个关于<strong class="jp ir"> IPSec </strong>和如何改变<strong class="jp ir"> IP协议</strong>的简单概述。</p><p id="ae34" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">开心联网:)</p></div></div>    
</body>
</html>