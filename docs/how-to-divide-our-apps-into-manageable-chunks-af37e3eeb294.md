# MVC 解释了如何将我们的应用分成易于管理的块

> 原文：<https://levelup.gitconnected.com/how-to-divide-our-apps-into-manageable-chunks-af37e3eeb294>

![](img/7f6eede4e530258cdeb8b15311d5a399.png)

马库斯·斯皮斯克在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片

编写用户使用的应用很难。因此，我们必须将它们分成小块，以便每个部分都易于管理。

在这篇文章中，我们将看看我们可以做到这一点的方法。

# 将系统分成模块

我们需要将我们的软件系统划分成模块，这样它们只能做一件事情，并且模块之间的耦合很小。

这样，维护将变得容易，我们不必担心我们的更改会破坏应用程序的另一部分。

# 发布/订阅

我们不应该通过一个单一的程序来推动所有的事件。这违反了对象封装。一个例程非常了解许多对象之间的交互。

耦合也因此而增加。发出事件的对象必须知道这些事件。

我们可能不得不违反“不要重复自己”的原则来绕过紧耦合。此外，没有正交性，因为紧耦合意味着系统一部分的一个变化会影响另一部分。

我们可以使用发布和订阅模式将模型从模型的视图中分离出来。这样，我们只需发布一个事件，任何想要收听该事件的实体都可以收听它。

这比让每个实体彼此紧密耦合要好得多。

我们可以通过实现事件总线来实现这一点，事件总线在一个位置传递事件，任何发送和监听事件的东西都可以监听同一个位置。

# 模型-视图-控制器

模型-视图-控制器(MVC)模式是一种简单的设计模式，它将数据层和表示层分开。

模型层有业务逻辑和数据操作逻辑。视图显示需要显示的任何数据，但不进行任何数据操作。

控制器充当模型和视图之间的桥梁。

这是一个很好的设计，因为视图与任何业务逻辑都是分离的，这正是我们想要的，因为我们不希望在不同的位置出现重复的数据。还有，我们不希望不同的地方有做相似或相同事情的逻辑。

# 从模型中分离视图

将视图从模型中分离出来减少了表示逻辑和业务逻辑之间的耦合。这比在不同的地方放不同的东西灵活多了。

例如，如果我们必须从数据库中获取数据，然后在程序中以图表的形式显示出来，那么我们就编写一个程序来获取数据并显示出来。数据位于从数据库获取数据的包装类中，视图只显示从数据库中检索的数据。

# 超越图形用户界面

MVC 可以在 GUI 之外使用。这是一种通用的编程技术。视图是对模型的解释，它不一定是图形化的。

控制器只是一个协调机制，它不必来自任何输入设备。

如果我们把 MVC 的概念推广到任何程序，那么这个模式仍然做着和图形程序一样的事情。

视图订阅来自模型的变更和来自控制器的逻辑事件。

控制器是控制视图的方式。它从模型和视图中发布事件。

例如，对于 REST API，视图是 JSON 响应。控制器是获取这些查询参数、请求体和头并将它们传递给模型的代码。它还将 JSON 响应传递给视图。

无论视图中呈现何种类型的响应，模型都以相同的方式进行数据操作。

![](img/4375649cd9b0056df6e3aee6bd2efff4.png)

照片由 [Marija Zaric](https://unsplash.com/@simplicity?utm_source=medium&utm_medium=referral) 在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄

# 黑板

除了 MVC 模式之外，还有黑板模式，在这种模式下，任何实体都不互相认识。

有发出事件的模块和订阅发出事件的模块，但是它们都不知道彼此的存在。黑板是所有模块读取的状态的全局位置。

知识源是将状态从黑板转换成所需表示的模块。控制组件选择、配置和运行模块。

这种模式使得动态组合异构模块变得容易。由于没有太多的耦合，这些模块是可重用的，并且易于更改。

这使得系统更加健壮。

# 结论

MVC 和 blackboard 模式是减少我们代码中的耦合的模式，它们都涉及到在不同的模块之间传递数据，而每个模块不需要太多关于另一个模块的知识。