<html>
<head>
<title>Typescript Generics Explained Easily</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Typescript泛型很容易解释</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/typescript-generics-explained-easily-aafc634d8391?source=collection_archive---------10-----------------------#2022-06-01">https://levelup.gitconnected.com/typescript-generics-explained-easily-aafc634d8391?source=collection_archive---------10-----------------------#2022-06-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/67f4d577068fbba2507b0feb74a29c23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*t3SeNCjglaHmeAxU.png"/></div></div></figure><p id="2fd8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在本文中，我将解释Typescript中泛型的基础知识。</p><p id="a520" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">typescript中的泛型可能会令人困惑，但它非常简单。这是一个伟大而有用的功能。我将尽可能简单地解释它。</p><h1 id="56f3" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">视频教程</h1><figure class="lu lv lw lx gt jr"><div class="bz fp l di"><div class="ly lz l"/></div></figure><h1 id="c6ac" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">什么是泛型？</h1><p id="82f8" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated">让我给你举个简单的例子:</p><pre class="lu lv lw lx gt mf mg mh mi aw mj bi"><span id="913f" class="mk kx iq mg b gy ml mm l mn mo">const printNum = (num: number) =&gt; {<br/>    console.log(num)<br/>}</span><span id="6d0e" class="mk kx iq mg b gy mp mm l mn mo">printNum(12)<br/>printNum(92)<br/>printNum(2)</span><span id="f4e5" class="mk kx iq mg b gy mp mm l mn mo">// result<br/>// 12<br/>// 92<br/>// 2</span></pre><p id="ef0f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">该函数将一个数字作为参数，并将其打印在控制台上。num参数可以是任何值。我们不知道。每当您调用带有参数的函数时，<code class="fe mq mr ms mg b">num</code>参数就会变成该参数值。</p><p id="8aa1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Typescript泛型有点像这样。但是我们期望类型，而不是期望值作为参数。我们将类型作为参数传递。我认为typescript泛型名称有点误导。这个名字让它看起来很复杂。但事实并非如此。应该叫类型参数之类的。</p><p id="3293" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们看看它是如何工作的:</p><pre class="lu lv lw lx gt mf mg mh mi aw mj bi"><span id="9810" class="mk kx iq mg b gy ml mm l mn mo">const createNewUser = (user: object) =&gt; {<br/>    const newUser = { ...user, active: true, power: 100 }</span><span id="b403" class="mk kx iq mg b gy mp mm l mn mo">    return newUser<br/>}</span><span id="ecf8" class="mk kx iq mg b gy mp mm l mn mo">const user = createNewUser({ name: 'John Doe', age: 21 })</span><span id="ca0f" class="mk kx iq mg b gy mp mm l mn mo">console.log(user)<br/>console.log(user.name) // error: Property 'name' does not exist on type '{ active: boolean; power: number; }'.</span></pre><p id="e8bd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这个函数接受一个必须是对象的用户参数。我们将使用用户对象的属性创建一个新的用户对象，并添加active和power属性。将返回新的用户对象。</p><p id="2cb6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们正在创建一个新用户，该函数将一个用户对象作为参数传递。最后，我们打印用户对象。</p><p id="3928" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们没有任何错误。但是如果我们试图访问<code class="fe mq mr ms mg b">age</code>属性的<code class="fe mq mr ms mg b">name</code>,我们会得到这样的错误:</p><pre class="lu lv lw lx gt mf mg mh mi aw mj bi"><span id="7fb6" class="mk kx iq mg b gy ml mm l mn mo">Property 'name' does not exist on type '{ active: boolean; power: number; }'.</span></pre><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/1ccfdc673c3dee6268d9e378d82f6bd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:388/format:webp/0*aju1oqoCAYDrRle4.jpg"/></div></figure><p id="8a16" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因为<code class="fe mq mr ms mg b">user</code>参数有对象类型，但是我们没有指定任何属性和它们的类型。所以编译器不知道包括什么类型。</p><p id="ef1a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以通过指定一个接口来解决这个问题:</p><pre class="lu lv lw lx gt mf mg mh mi aw mj bi"><span id="12ad" class="mk kx iq mg b gy ml mm l mn mo">interface User {<br/>    name: string<br/>    age: number<br/>}</span><span id="f2fb" class="mk kx iq mg b gy mp mm l mn mo">const createNewUser = (user: User) =&gt; {<br/>    const newUser = { ...user, active: true, power: 100 }</span><span id="e313" class="mk kx iq mg b gy mp mm l mn mo">    return newUser<br/>}</span><span id="6ec0" class="mk kx iq mg b gy mp mm l mn mo">const user = createNewUser({ name: 'John Doe', age: 21 })</span><span id="18aa" class="mk kx iq mg b gy mp mm l mn mo">console.log(user)<br/>console.log(user.name) // works fine</span></pre><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/4287c27e14778393bd3e5eda408c06c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/0*qsrQAvA8qgcN3WI2.png"/></div></figure><p id="78b1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但是不同的用户可能需要不同的属性。所以，如果你使用一个单一的界面，那么你就不能为不同的用户使用它。</p><p id="e14d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这就是Typescript泛型发挥作用的地方。我们可以期待一个函数的类型参数。当我们调用函数时，我们也可以传递类型。</p><pre class="lu lv lw lx gt mf mg mh mi aw mj bi"><span id="c950" class="mk kx iq mg b gy ml mm l mn mo">const createNewUser = &lt;T&gt;(user: T) =&gt; {<br/>    const newUser = { ...user, active: true, power: 100 }</span><span id="4e21" class="mk kx iq mg b gy mp mm l mn mo">    return newUser<br/>}</span><span id="7065" class="mk kx iq mg b gy mp mm l mn mo">const user = createNewUser({ name: 'John Doe', age: 21 })</span><span id="92c7" class="mk kx iq mg b gy mp mm l mn mo">console.log(user)<br/>console.log(user.name) // works fine</span></pre><p id="7362" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们通过在函数名后添加<code class="fe mq mr ms mg b">&lt;&gt;</code>来向函数添加类型参数(泛型)。然后可以指定类型参数名。你可以随便叫它什么，但是大多数人使用<code class="fe mq mr ms mg b">T</code>是为了简单。</p><p id="66d6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后我们将用户指定为类型<code class="fe mq mr ms mg b">T</code>。现在，无论您将在函数调用中传递什么参数，<code class="fe mq mr ms mg b">user</code>都将是那个类型。想传什么类型都可以。但是如果你想让<code class="fe mq mr ms mg b">T</code>成为一个特定的类型，那么你可以扩展那个类型。</p><pre class="lu lv lw lx gt mf mg mh mi aw mj bi"><span id="22d4" class="mk kx iq mg b gy ml mm l mn mo">const createNewUser = &lt;T extends object&gt;(user: T) =&gt; {<br/>    const newUser = { ...user, active: true, power: 100 }</span><span id="7353" class="mk kx iq mg b gy mp mm l mn mo">    return newUser<br/>}</span><span id="1685" class="mk kx iq mg b gy mp mm l mn mo">const user = createNewUser({ name: 'John Doe', age: 21 })</span><span id="88d2" class="mk kx iq mg b gy mp mm l mn mo">console.log(user)<br/>console.log(user.name) // works fine</span></pre><p id="6d6e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在你总是要传递一个对象。<br/>你也可以在函数调用中传递类型。如果总想传一些接口怎么办？</p><pre class="lu lv lw lx gt mf mg mh mi aw mj bi"><span id="6b02" class="mk kx iq mg b gy ml mm l mn mo">const createNewUser = &lt;T&gt;(user: T) =&gt; {<br/>    const newUser = { ...user, active: true, power: 100 }</span><span id="7f68" class="mk kx iq mg b gy mp mm l mn mo">    return newUser<br/>}</span><span id="1a9a" class="mk kx iq mg b gy mp mm l mn mo">interface User {<br/>    name: string<br/>    age: number<br/>}</span><span id="cf77" class="mk kx iq mg b gy mp mm l mn mo">const user = createNewUser&lt;User&gt;({ name: 'John Doe', age: 21 })</span><span id="eb09" class="mk kx iq mg b gy mp mm l mn mo">interface User2 extends User {<br/>    country: string<br/>}</span><span id="4bb4" class="mk kx iq mg b gy mp mm l mn mo">const user2 = createNewUser&lt;User2&gt;({<br/>    name: 'John Doe',<br/>    age: 21,<br/>    country: 'BD',<br/>})</span></pre><p id="92df" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这一次，我们创建了两个用户界面，并将用户界面作为参数传递。<br/>而那两个用户对象将是他们的接口类型。</p><p id="5b58" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我希望你现在明白了一切。如果没有，我再举个例子。</p><pre class="lu lv lw lx gt mf mg mh mi aw mj bi"><span id="6738" class="mk kx iq mg b gy ml mm l mn mo">interface User&lt;T&gt; {<br/>    name: string<br/>    age: number<br/>    extraInfo: T<br/>}</span></pre><p id="9dab" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们有这个<code class="fe mq mr ms mg b">User</code>接口和<code class="fe mq mr ms mg b">extraInfo</code>属性可以是任何类型。我们只是不知道。但是不要放过<code class="fe mq mr ms mg b">any</code>式。</p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/d6d5281ff6dd7fedffe6d123ae08c181.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/0*y_CAfj7GqQv1unsa.png"/></div></figure><p id="addb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这就是我们使用泛型的原因。</p><pre class="lu lv lw lx gt mf mg mh mi aw mj bi"><span id="64b8" class="mk kx iq mg b gy ml mm l mn mo">interface User&lt;T&gt; {<br/>    name: string<br/>    age: number<br/>    extraInfo: T<br/>}</span><span id="32c6" class="mk kx iq mg b gy mp mm l mn mo">interface Address {<br/>    city: string<br/>    country: string<br/>}</span><span id="fece" class="mk kx iq mg b gy mp mm l mn mo">const user: User&lt;Address&gt; = {<br/>    name: 'Anjan',<br/>    age: 20,<br/>    extraInfo: {<br/>        city: 'Dhaka',<br/>        country: 'BD',<br/>    },<br/>}</span></pre><p id="d251" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在<code class="fe mq mr ms mg b">extraInfo</code>的类型是<code class="fe mq mr ms mg b">Address</code>。</p><h1 id="4220" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">泛型中的多种类型。</h1><pre class="lu lv lw lx gt mf mg mh mi aw mj bi"><span id="2fa4" class="mk kx iq mg b gy ml mm l mn mo">interface User&lt;T, A&gt; {<br/>    name: string<br/>    age: A<br/>    extraInfo: T<br/>}</span><span id="f1ff" class="mk kx iq mg b gy mp mm l mn mo">const user: User&lt;Address, number&gt; = {<br/>    name: 'Anjan',<br/>    age: 20,<br/>    extraInfo: {<br/>        city: 'Dhaka',<br/>        country: 'BD',<br/>    },<br/>}</span></pre><h1 id="8a5e" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">默认类型</h1><pre class="lu lv lw lx gt mf mg mh mi aw mj bi"><span id="292b" class="mk kx iq mg b gy ml mm l mn mo">interface User&lt;T, A = number&gt; {<br/>    name: string<br/>    age: A<br/>    extraInfo: T<br/>}</span><span id="ccaf" class="mk kx iq mg b gy mp mm l mn mo">const user: User&lt;Address&gt; = {<br/>    name: 'Anjan',<br/>    age: 20,<br/>    extraInfo: {<br/>        city: 'Dhaka',<br/>        country: 'BD',<br/>    },<br/>}</span></pre><h1 id="808b" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">无耻的插头</h1><figure class="lu lv lw lx gt jr"><div class="bz fp l di"><div class="ly lz l"/></div></figure><p id="2386" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我用React和Styled组件做了一个Xbox登陆页面克隆。我希望你会喜欢它。<br/>请考虑喜欢这个视频，订阅我的频道。</p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/7821bb36fc7aaaa38b9f00f3a0d2b967.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2AwKm4T3h1DASFIw.png"/></div></div></figure><p id="c2d8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这个博客到此为止。我试图简单地解释事情。如果你卡住了，你可以问我问题。</p><p id="e46e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">顺便说一下，我正在一家公司寻找一个新的机会，在那里我可以用我的技能提供巨大的价值。如果你是一名招聘人员，正在寻找一个精通全栈web开发并对变革世界充满热情的人，请随时联系我。此外，我愿意谈论任何自由职业者的项目。我可以在<a class="ae mx" href="https://www.upwork.com/freelancers/~01371a902900049821" rel="noopener ugc nofollow" target="_blank">上班</a></p><h1 id="fd85" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">联系人</h1><ul class=""><li id="60e0" class="my mz iq ka b kb ma kf mb kj na kn nb kr nc kv nd ne nf ng bi translated">邮箱:<a class="ae mx" href="mailto:thatanjan@gmail.com" rel="noopener ugc nofollow" target="_blank">thatanjan@gmail.com</a></li><li id="f63d" class="my mz iq ka b kb nh kf ni kj nj kn nk kr nl kv nd ne nf ng bi translated">linkedin: <a class="ae mx" href="https://linkedin.com/in/thatanjan/" rel="noopener ugc nofollow" target="_blank"> @thatanjan </a></li><li id="496d" class="my mz iq ka b kb nh kf ni kj nj kn nk kr nl kv nd ne nf ng bi translated">投资组合:<a class="ae mx" href="https://thatanjan.me/" rel="noopener ugc nofollow" target="_blank">安健</a></li><li id="96c6" class="my mz iq ka b kb nh kf ni kj nj kn nk kr nl kv nd ne nf ng bi translated">Github: <a class="ae mx" href="https://github.com/thatAnjan/" rel="noopener ugc nofollow" target="_blank"> @thatanjan </a></li><li id="a4d8" class="my mz iq ka b kb nh kf ni kj nj kn nk kr nl kv nd ne nf ng bi translated">Instagram(个人):<a class="ae mx" href="https://instagram.com/thatAnjan/" rel="noopener ugc nofollow" target="_blank"> @thatanjan </a></li><li id="b96b" class="my mz iq ka b kb nh kf ni kj nj kn nk kr nl kv nd ne nf ng bi translated">推特:<a class="ae mx" href="https://twitter.com/thatAnjan" rel="noopener ugc nofollow" target="_blank"> @thatanjan </a></li></ul></div></div>    
</body>
</html>