<html>
<head>
<title>Code comments? No comments</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">代码注释？没有评论</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/code-comments-no-comments-1cb843766240?source=collection_archive---------8-----------------------#2022-03-09">https://levelup.gitconnected.com/code-comments-no-comments-1cb843766240?source=collection_archive---------8-----------------------#2022-03-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="227b" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">关于评论的很多评论</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/eded8711baf5e6ab4a4b44f49ea74c0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*TVUIjaZLSkJx90sD.jpg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">与pic无关:向爱德华大喊！</figcaption></figure><h2 id="0c56" class="kv kw iq bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">序文</h2><p id="9404" class="pw-post-body-paragraph lr ls iq lt b lu lv jr lw lx ly ju lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">说到写代码注释，大家都有注释(包括<a class="ae mk" href="https://medium.com/p/133647f2a869" rel="noopener">本人过去的</a>；以后再读！)</p><p id="642b" class="pw-post-body-paragraph lr ls iq lt b lu ml jr lw lx mm ju lz le mn mb mc li mo me mf lm mp mh mi mj ij bi translated">评论应该<strong class="lt ir">而不是</strong>成为常态。如果需要的话，尽量少用。我相信添加过多评论的文化是从学校开始的。当我们学习代码时，我们看到代码中散布着注释；profs在代码提交中征求意见。因此，当我们转向更大的项目，开始编写复杂的逻辑时，这个习惯会一直伴随着我们；我们认为评论是默认的。但事实上，编码文学在<strong class="lt ir">年</strong>一直提倡反对注释(我最喜欢的参考是2008年写的！)为什么“评论一切”这个概念会一直存在？我的三个理论:</p><ol class=""><li id="ed38" class="mq mr iq lt b lu ml lx mm le ms li mt lm mu mj mv mw mx my bi translated">这个习惯一直延续着</li><li id="ebce" class="mq mr iq lt b lu mz lx na le nb li nc lm nd mj mv mw mx my bi translated">一些在评论盛行的时候还是编码员的人，现在领导着团队，并且更喜欢这种方法</li><li id="7405" class="mq mr iq lt b lu mz lx na le nb li nc lm nd mj mv mw mx my bi translated">最佳实践会发生变化，但是团队约定仍然存在，因为遵循它更容易</li></ol><p id="2cba" class="pw-post-body-paragraph lr ls iq lt b lu ml jr lw lx mm ju lz le mn mb mc li mo me mf lm mp mh mi mj ij bi translated">我们可以开始了，不用写下一行评论。</p><h2 id="abfd" class="kv kw iq bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">为什么不是评论？</h2><p id="fc07" class="pw-post-body-paragraph lr ls iq lt b lu lv jr lw lx ly ju lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">烂片的一个标志就是大量的暴露，如果我们能通过观看故事发生来了解故事，不是很好吗？代码也是一样。代码是内容，评论是，只是评论。当我们添加注释时，我们已经放弃了让代码讲述故事。</p><p id="3d7f" class="pw-post-body-paragraph lr ls iq lt b lu ml jr lw lx mm ju lz le mn mb mc li mo me mf lm mp mh mi mj ij bi translated">过多的注释会损害代码质量的三个实际原因:</p><ol class=""><li id="52dd" class="mq mr iq lt b lu ml lx mm le ms li mt lm mu mj mv mw mx my bi translated">它们是另一个维护点，随着代码的发展，它们可能会过时</li><li id="87ab" class="mq mr iq lt b lu mz lx na le nb li nc lm nd mj mv mw mx my bi translated">依靠评论来解释故事将延续使用评论来讲述故事的习惯，而不是花费时间来编写代码(还记得那些论述吗？)</li><li id="2cce" class="mq mr iq lt b lu mz lx na le nb li nc lm nd mj mv mw mx my bi translated">强制执行过多的注释约定(例如，Javadoc everything，comment every property)会抑制使用适当的代码结构来避免额外的工作(例如，工程师可能会发现Javadoc很麻烦，并在同一个函数中编写所有的逻辑，而不是分解成小的、描述性的函数)</li></ol><p id="6104" class="pw-post-body-paragraph lr ls iq lt b lu ml jr lw lx mm ju lz le mn mb mc li mo me mf lm mp mh mi mj ij bi translated">如果不清楚，编写过多注释的替代方法不是简单地丢弃注释，而是编写自我记录、自我解释的代码，这样注释就变得多余了。(继续类比:从一部电影中去掉解说并不能让它变好；改进内容，使阐述变得不必要，使其变得更好)</p><h2 id="80bb" class="kv kw iq bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">当评论？</h2><p id="337e" class="pw-post-body-paragraph lr ls iq lt b lu lv jr lw lx ly ju lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">那么什么时候加评论呢？以下是一些使用案例:</p><ol class=""><li id="cb68" class="mq mr iq lt b lu ml lx mm le ms li mt lm mu mj mv mw mx my bi translated">为面向公众的接口或API编写Javadoc时</li><li id="cc52" class="mq mr iq lt b lu mz lx na le nb li nc lm nd mj mv mw mx my bi translated">对于复杂的逻辑(例如:性能高度优化的代码)</li><li id="4a47" class="mq mr iq lt b lu mz lx na le nb li nc lm nd mj mv mw mx my bi translated">对于非常规逻辑或陷阱(例如，调用一个应该返回错误状态但实际上总是抛出的方法)</li><li id="4f6b" class="mq mr iq lt b lu mz lx na le nb li nc lm nd mj mv mw mx my bi translated">当你的短绒(或“权力”)需要的时候。既然这样，也许给他们看看这篇文章，希望能改过来？</li><li id="077a" class="mq mr iq lt b lu mz lx na le nb li nc lm nd mj mv mw mx my bi translated">这是你自己的项目(而且是你一个人的)，在这种情况下..规则是你定的！</li></ol><p id="1b7e" class="pw-post-body-paragraph lr ls iq lt b lu ml jr lw lx mm ju lz le mn mb mc li mo me mf lm mp mh mi mj ij bi translated"><strong class="lt ir">后记</strong></p><p id="209f" class="pw-post-body-paragraph lr ls iq lt b lu ml jr lw lx mm ju lz le mn mb mc li mo me mf lm mp mh mi mj ij bi translated">如果你忘记了上面的一切，只要记住这一点:</p><blockquote class="nf ng nh"><p id="073c" class="lr ls ne lt b lu ml jr lw lx mm ju lz ni mn mb mc nj mo me mf nk mp mh mi mj ij bi translated">秀，不要说</p></blockquote><p id="63a6" class="pw-post-body-paragraph lr ls iq lt b lu ml jr lw lx mm ju lz le mn mb mc li mo me mf lm mp mh mi mj ij bi translated">默认情况下避免注释，只有当你能证明它是正确的时候才添加。这里有一些来自其他文章的片段。</p><p id="9272" class="pw-post-body-paragraph lr ls iq lt b lu ml jr lw lx mm ju lz le mn mb mc li mo me mf lm mp mh mi mj ij bi translated">来自https://blog.codinghorror.com/coding-without-comments/<a class="ae mk" href="https://blog.codinghorror.com/coding-without-comments/" rel="noopener ugc nofollow" target="_blank"/>(我最喜欢的参考，来自2008年):</p><blockquote class="nf ng nh"><p id="89b7" class="lr ls ne lt b lu ml jr lw lx mm ju lz ni mn mb mc nj mo me mf nk mp mh mi mj ij bi translated">当你已经重写、重构和重新架构了你的代码十几次，以使你的开发伙伴更容易阅读和理解的时候——当你不可能想象出任何可以想象的方法来改变你的代码，使之变得更简单明了的时候——然后，只有在<em class="iq">之后</em>，你应该感到有必要添加一个注释来解释你的代码是做什么的。</p></blockquote><p id="217c" class="pw-post-body-paragraph lr ls iq lt b lu ml jr lw lx mm ju lz le mn mb mc li mo me mf lm mp mh mi mj ij bi translated">来自鲍勃叔叔的《干净代码》一书:</p><blockquote class="nf ng nh"><p id="e250" class="lr ls ne lt b lu ml jr lw lx mm ju lz ni mn mb mc nj mo me mf nk mp mh mi mj ij bi translated">用代码解释你自己</p></blockquote><p id="cffe" class="pw-post-body-paragraph lr ls iq lt b lu ml jr lw lx mm ju lz le mn mb mc li mo me mf lm mp mh mi mj ij bi translated">来自<a class="ae mk" href="https://visualstudiomagazine.com/articles/2013/07/26/why-commenting-code-is-still-bad.aspx" rel="noopener ugc nofollow" target="_blank">https://visual studio magazine . com/articles/2013/07/26/why-commenting-code-is-still-bad . aspx</a></p><blockquote class="nf ng nh"><p id="1385" class="lr ls ne lt b lu ml jr lw lx mm ju lz ni mn mb mc nj mo me mf nk mp mh mi mj ij bi translated">…代码的编写和重写应该尽可能显而易见。留给注释去做的是解释编译器不能访问的东西:为什么代码在那里。</p></blockquote><p id="9983" class="pw-post-body-paragraph lr ls iq lt b lu ml jr lw lx mm ju lz le mn mb mc li mo me mf lm mp mh mi mj ij bi translated">摘自https://www.martinfowler.com/bliki/CodeAsDocumentation.html(2005年):</p><blockquote class="nf ng nh"><p id="cda7" class="lr ls ne lt b lu ml jr lw lx mm ju lz ni mn mb mc nj mo me mf nk mp mh mi mj ij bi translated">如果没有意愿让代码变得清晰，那么它自己变得清晰的可能性就很小。因此，清理代码的第一步是接受代码是文档，然后努力使它变得清晰。</p></blockquote></div><div class="ab cl nl nm hu nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ij ik il im in"><p id="d270" class="pw-post-body-paragraph lr ls iq lt b lu ml jr lw lx mm ju lz le mn mb mc li mo me mf lm mp mh mi mj ij bi translated"><strong class="lt ir">您可能喜欢的其他文章</strong></p><ul class=""><li id="9eaa" class="mq mr iq lt b lu ml lx mm le ms li mt lm mu mj ns mw mx my bi translated"><a class="ae mk" rel="noopener ugc nofollow" target="_blank" href="/write-fluent-code-in-kotlin-133647f2a869">用Kotlin写流畅的代码</a></li><li id="29d7" class="mq mr iq lt b lu mz lx na le nb li nc lm nd mj ns mw mx my bi translated"><a class="ae mk" href="https://medium.com/dont-code-me-on-that/tryhackme-network-services-room-writeup-e00f88b7b599" rel="noopener">房间报道:网络服务</a></li><li id="5c07" class="mq mr iq lt b lu mz lx na le nb li nc lm nd mj ns mw mx my bi translated"><a class="ae mk" href="https://medium.com/dont-code-me-on-that/tryhackme-mr-robot-ctf-log-c64fc17069c1" rel="noopener"> CTF日志:机器人先生</a></li></ul></div></div>    
</body>
</html>