<html>
<head>
<title>Farewell boto3, You Won’t Be Missed!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">再见了boto3，你不会被错过的！</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/farewell-boto3-you-wont-be-missed-93302e4168f9?source=collection_archive---------10-----------------------#2021-02-19">https://levelup.gitconnected.com/farewell-boto3-you-wont-be-missed-93302e4168f9?source=collection_archive---------10-----------------------#2021-02-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7d98" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">我甚至数不清为了封装boto3我不得不做了多少次辅助函数…但是痛苦终于结束了！</h2></div><p id="07f1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你经常使用Python和AWS，我敢打赌你和我一样，创建几十个库来帮助管理boto3。这里有一个很好的例子:</p><figure class="le lf lg lh gt li"><div class="bz fp l di"><div class="lj lk l"/></div></figure><p id="9286" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这一切都是因为我想把《秘密》当成一本字典…应该没那么难吧！</p></div><div class="ab cl ll lm hx ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="im in io ip iq"><h1 id="c22b" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">见见awswrangler！boto3库应该是</h1><p id="2bfd" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">和许多其他人一样，我已经盲目地使用boto3很长时间了…但是最近被介绍到AWS的新的<a class="ae mp" href="https://github.com/awslabs/aws-data-wrangler" rel="noopener ugc nofollow" target="_blank"><strong class="kk iu">awswrangler</strong></a><strong class="kk iu"/>库(一个<em class="mq"> n AWS专业服务开源倡议)</em>，现在我只是不能相信我们被迫忍受boto3这么长时间…</p><figure class="le lf lg lh gt li gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/c1861005584b5f051db9d2d2af84434d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/format:webp/1*r-di20JZn0ms5frnmVU2hw.png"/></div></figure><p id="8216" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们来看看一些最终变得简单的事情！</p><h2 id="970d" class="mu lt it bd lu mv mw dn ly mx my dp mc kr mz na me kv nb nc mg kz nd ne mi nf bi translated">获取秘密作为字典？这很简单，先生…</h2><p id="d476" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">字面上的进口和一个班轮…</p><figure class="le lf lg lh gt li"><div class="bz fp l di"><div class="lj lk l"/></div></figure><h2 id="3215" class="mu lt it bd lu mv mw dn ly mx my dp mc kr mz na me kv nb nc mg kz nd ne mi nf bi translated">读/写拼花文件，并使用并发请求推送到S3</h2><p id="e249" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">使用pandas数据帧，一行代码就足以创建拼花地板并推送到s3。</p><figure class="le lf lg lh gt li gh gi paragraph-image"><div role="button" tabindex="0" class="nh ni di nj bf nk"><div class="gh gi ng"><img src="../Images/9d405671dd3bc5d7fcb97dce7eca9fc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qjwRoGroMv3l5c6KIffC6w.png"/></div></div><figcaption class="nl nm gj gh gi nn no bd b be z dk translated">AWS示例见<a class="ae mp" href="https://aws-data-wrangler.readthedocs.io/en/2.4.0-docs/stubs/awswrangler.s3.to_parquet.html#awswrangler.s3.to_parquet" rel="noopener ugc nofollow" target="_blank"> s3.to_parquet文档</a></figcaption></figure><p id="3d9d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您还可以做更多事情，您可以即时创建/使用/更新Glue metastore信息:</p><figure class="le lf lg lh gt li gh gi paragraph-image"><div role="button" tabindex="0" class="nh ni di nj bf nk"><div class="gh gi np"><img src="../Images/502e00fed9029d57bb6118ddb1332d3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*suzC1UX9gmd_kPSuOjXLOg.png"/></div></div><figcaption class="nl nm gj gh gi nn no bd b be z dk translated">AWS示例见<a class="ae mp" href="https://aws-data-wrangler.readthedocs.io/en/2.4.0-docs/stubs/awswrangler.s3.to_parquet.html#awswrangler.s3.to_parquet" rel="noopener ugc nofollow" target="_blank"> s3.to_parquet文档</a></figcaption></figure><p id="34c5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">还有阅读…再一次，非常简单！</p><figure class="le lf lg lh gt li gh gi paragraph-image"><div role="button" tabindex="0" class="nh ni di nj bf nk"><div class="gh gi nq"><img src="../Images/c95851373476bce88e8c0033c3ecd878.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2GDnZFNQOzyM4X07B1jc_Q.png"/></div></div><figcaption class="nl nm gj gh gi nn no bd b be z dk translated">AWS示例见<a class="ae mp" href="https://aws-data-wrangler.readthedocs.io/en/2.4.0-docs/stubs/awswrangler.s3.read_parquet.html#awswrangler.s3.read_parquet" rel="noopener ugc nofollow" target="_blank"> s3.read_parquet文档</a></figcaption></figure><h2 id="55cc" class="mu lt it bd lu mv mw dn ly mx my dp mc kr mz na me kv nb nc mg kz nd ne mi nf bi translated">从Glue Metastore获取所有主要配置</h2><p id="fdd1" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated"><a class="ae mp" href="https://gist.github.com/joao-marques-at-databeyond/1ec294051d7197d911679c2ac7376d07" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/Joao-marques-at-databeyond/1ec 294051d 7197d 911679 c2ac 7376d 07</a></p><h2 id="21e7" class="mu lt it bd lu mv mw dn ly mx my dp mc kr mz na me kv nb nc mg kz nd ne mi nf bi translated">从S3文件夹复制多个文件到红移</h2><p id="eadc" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated"><a class="ae mp" href="https://gist.github.com/joao-marques-at-databeyond/4476c201be47a2707444f761a62cdc88" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/Joao-marques-at-databeyond/4476 c 201 be 47 a 2707444 f 761 a 62 CDC 88</a></p><h2 id="1a74" class="mu lt it bd lu mv mw dn ly mx my dp mc kr mz na me kv nb nc mg kz nd ne mi nf bi translated">查询雅典娜</h2><figure class="le lf lg lh gt li gh gi paragraph-image"><div role="button" tabindex="0" class="nh ni di nj bf nk"><div class="gh gi nr"><img src="../Images/813cd5220d640170631c22df81e26cfc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tuj09v4TQ-DGMmm7OOiaMQ.png"/></div></div><figcaption class="nl nm gj gh gi nn no bd b be z dk translated">AWS示例见<a class="ae mp" href="https://aws-data-wrangler.readthedocs.io/en/2.4.0-docs/stubs/awswrangler.athena.read_sql_table.html#awswrangler.athena.read_sql_table" rel="noopener ugc nofollow" target="_blank"> athena.read_sql_table文档</a></figcaption></figure><h2 id="d1f1" class="mu lt it bd lu mv mw dn ly mx my dp mc kr mz na me kv nb nc mg kz nd ne mi nf bi translated">还有更多！</h2><p id="1e63" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">awswrangler目前有简单的接口函数</p><ul class=""><li id="4376" class="ns nt it kk b kl km ko kp kr nu kv nv kz nw ld nx ny nz oa bi translated">机密管理器和安全令牌服务(STS)</li><li id="75ee" class="ns nt it kk b kl ob ko oc kr od kv oe kz of ld nx ny nz oa bi translated">EMR，Glue，Athena，S3</li><li id="a989" class="ns nt it kk b kl ob ko oc kr od kv oe kz of ld nx ny nz oa bi translated">Redshfit，Postgres，MySql，SQL Server</li><li id="3fa8" class="ns nt it kk b kl ob ko oc kr od kv oe kz of ld nx ny nz oa bi translated">DynamoDB，时间流</li><li id="8065" class="ns nt it kk b kl ob ko oc kr od kv oe kz of ld nx ny nz oa bi translated">CloudWatch日志</li><li id="64bd" class="ns nt it kk b kl ob ko oc kr od kv oe kz of ld nx ny nz oa bi translated">快速瞄准</li></ul><h1 id="c7bf" class="ls lt it bd lu lv og lx ly lz oh mb mc jz oi ka me kc oj kd mg kf ok kg mi mj bi translated">结论</h1><p id="b2cd" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">我真的不认为自己会回到boto3，除非是非常特殊的用例。新的awswrangler似乎真的解决了你想用AWS做的大部分日常工作，它真的很有效。</p></div></div>    
</body>
</html>