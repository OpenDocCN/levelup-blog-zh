<html>
<head>
<title>How to setup PostgreSQL + pgAdmin + PostGraphile in Docker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Docker中设置PostgreSQL+pg admin+PostGraphile</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/setup-postgresql-pgadmin-postgraphile-in-docker-d5bd1d97b17a?source=collection_archive---------7-----------------------#2020-03-29">https://levelup.gitconnected.com/setup-postgresql-pgadmin-postgraphile-in-docker-d5bd1d97b17a?source=collection_archive---------7-----------------------#2020-03-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b33e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">Docker、PostgreSQL、pgAdmin和PostGraphile的组合是让应用程序数据库和GraphQL API运行的终极武器。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/60aff5e8e21bea408cc8acc7500f65ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZlmFEHVXYLWHBEM3DlKlag.jpeg"/></div></div></figure><p id="c4c0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我试图建立一个简单的PostGraphile的例子，我没有找到任何简单的步骤，我决定创建这个。</p><p id="9012" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">GraphQL 是一个与服务器端数据通信的绝佳解决方案。它允许开发人员创建快速可靠的API，通过允许那些与服务器交互的人指定服务器所需数据的精确结构，来解决数据的过度获取和不足获取问题。这意味着为那些使用GraphQL APIs构建应用程序的人提供更好的开发人员体验，也为最终用户提供更快的应用程序。</p><p id="b04a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">PostGraphile ，以前被称为PostGraphQL，在将这两种技术结合起来方面做得很好，允许开发人员快速组装一个全功能的GraphQL服务器，在PostgreSQL数据库上存储数据。PostGraphile利用数据库驱动的开发从Postgres数据库模式生成和更新您的Graphql服务器，自动检测您对模式所做的更改，并相应地更新您的服务器。</p><p id="2926" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">用他们自己的话说:</p><blockquote class="lo lp lq"><p id="843a" class="kr ks lr kt b ku kv jr kw kx ky ju kz ls lb lc ld lt lf lg lh lu lj lk ll lm ij bi translated">PostgreSQL已经有了惊人的授权和关系基础设施，为什么还要在自定义API中复制这种逻辑呢？</p></blockquote><p id="b55b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">PostGraphile处理高性能和符合标准的GraphQL API层的创建，允许开发人员专注于产品。这也大大减少了开发时间。</p><p id="ffbb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">PostGraphile还拥有一个强大的插件系统，有几个<a class="ae ln" href="https://www.graphile.org/postgraphile/community-plugins/" rel="noopener ugc nofollow" target="_blank">社区开发的插件</a>，可以帮助以各种方式扩展其功能。</p><p id="a4e1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在本文中，我们将了解如何使用PostGraphile在几分钟内启动并运行一个全功能的服务器。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/caff16e653c973cdd7d9b093f9c3ff14.png" data-original-src="https://miro.medium.com/v2/resize:fit:402/format:webp/1*H2gtGzMOhZbIb665JWuITQ.png"/></div></figure></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="5f0b" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">设置网络以执行容器</h1><pre class="kg kh ki kj gt mv mw mx my aw mz bi"><span id="adb5" class="na me iq mw b gy nb nc l nd ne">$ docker network create --driver bridge postgres-network</span></pre><p id="5074" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">该网络将用于容器之间的交互。</p><h1 id="aacd" class="md me iq bd mf mg nf mi mj mk ng mm mn jw nh jx mp jz ni ka mr kc nj kd mt mu bi translated">设置Postgres容器</h1><p id="696f" class="pw-post-body-paragraph kr ks iq kt b ku nk jr kw kx nl ju kz la nm lc ld le nn lg lh li no lk ll lm ij bi translated">以下命令下载一个<a class="ae ln" href="https://hub.docker.com/_/postgres/" rel="noopener ugc nofollow" target="_blank"> PostgreSQL docker映像</a>:</p><pre class="kg kh ki kj gt mv mw mx my aw mz bi"><span id="6a20" class="na me iq mw b gy nb nc l nd ne">$ docker pull postgres</span></pre><p id="bf35" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用<code class="fe np nq nr mw b">postgres</code>图像运行Docker容器。为了保留在容器中创建的数据库和数据，必须使用以下参数运行映像:</p><pre class="kg kh ki kj gt mv mw mx my aw mz bi"><span id="ebb1" class="na me iq mw b gy nb nc l nd ne">$ docker run --name <!-- -->postgres<!-- --> --network=postgres-network -v /home/user/project/postgresql/data:/var/lib/postgresql/data -e POSTGRES_PASSWORD=<!-- -->postgres<!-- --> -p 5432:5432 -d postgres</span></pre><h2 id="1518" class="na me iq bd mf ns nt dn mj nu nv dp mn la nw nx mp le ny nz mr li oa ob mt oc bi translated">参数描述:</h2><ul class=""><li id="4ec3" class="od oe iq kt b ku nk kx nl la of le og li oh lm oi oj ok ol bi translated"><strong class="kt ir">名称</strong>:集装箱的名称。在上面的例子中，值是<strong class="kt ir"> postgres </strong>，但是您可以选择自己喜欢的名称。</li><li id="54fe" class="od oe iq kt b ku om kx on la oo le op li oq lm oi oj ok ol bi translated"><strong class="kt ir">网络</strong>:我们之前为容器交互创建的桥的名称。</li><li id="e4a4" class="od oe iq kt b ku om kx on la oo le op li oq lm oi oj ok ol bi translated"><strong class="kt ir"> v </strong> : Volume，你主机上的project文件夹和你容器中的PostgreSQL文件夹之间的映射，格式<code class="fe np nq nr mw b">host_folder:container_folder</code>。在<code class="fe np nq nr mw b">container_folder</code>中生成的所有文件将被复制到<code class="fe np nq nr mw b">host_folder</code>中，这样当停止/重启容器时，您可以保存和检索您的数据。将主机文件夹替换为您选择的目标。如果它不存在，将自动创建它。</li><li id="a939" class="od oe iq kt b ku om kx on la oo le op li oq lm oi oj ok ol bi translated"><strong class="kt ir"> e </strong>:容器的环境变量。<code class="fe np nq nr mw b">POSTGRES_PASSWORD</code>设置PostgreSQL超级用户的密码。在上面的例子中，值是<code class="fe np nq nr mw b">postgres</code>，但是你应该选择一个更强的密码。</li><li id="d1d3" class="od oe iq kt b ku om kx on la oo le op li oq lm oi oj ok ol bi translated"><strong class="kt ir"> p </strong> : Port，你的主机端口和你的容器端口之间的映射，格式<code class="fe np nq nr mw b">host_port:container_port</code>。</li><li id="9dd0" class="od oe iq kt b ku om kx on la oo le op li oq lm oi oj ok ol bi translated"><strong class="kt ir"> d </strong>:以守护程序的方式运行容器。</li><li id="d918" class="od oe iq kt b ku om kx on la oo le op li oq lm oi oj ok ol bi translated"><strong class="kt ir"> postgres </strong>:用于运行容器的Docker图像的名称。</li></ul><p id="d419" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这之后，你应该让你的Postgres运行在<a class="ae ln" href="http://0.0.0.0:5432" rel="noopener ugc nofollow" target="_blank"> 0.0.0.0:5432 </a>中。</p><h1 id="5d87" class="md me iq bd mf mg nf mi mj mk ng mm mn jw nh jx mp jz ni ka mr kc nj kd mt mu bi translated">设置pgAdmin容器</h1><p id="18ae" class="pw-post-body-paragraph kr ks iq kt b ku nk jr kw kx nl ju kz la nm lc ld le nn lg lh li no lk ll lm ij bi translated">以下命令下载pgAdmin映像:</p><pre class="kg kh ki kj gt mv mw mx my aw mz bi"><span id="4f1b" class="na me iq mw b gy nb nc l nd ne">$ docker pull dpage/pgadmin4</span></pre><p id="bf60" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用以下命令运行pgAdmin容器:</p><pre class="kg kh ki kj gt mv mw mx my aw mz bi"><span id="ae5f" class="na me iq mw b gy nb nc l nd ne">docker run --name pgadmin --network=postgres-network -p 80:80 -e PGADMIN_DEFAULT_EMAIL=admin -e PGADMIN_DEFAULT_PASSWORD=admin -d dpage/pgadmin4</span></pre><h2 id="b439" class="na me iq bd mf ns nt dn mj nu nv dp mn la nw nx mp le ny nz mr li oa ob mt oc bi translated">参数描述:</h2><ul class=""><li id="a1cd" class="od oe iq kt b ku nk kx nl la of le og li oh lm oi oj ok ol bi translated"><strong class="kt ir">名称</strong>:集装箱的名称。在上面的例子中，值是<strong class="kt ir"> pgadmin </strong>，但是您可以选择自己喜欢的名称。</li><li id="fb4e" class="od oe iq kt b ku om kx on la oo le op li oq lm oi oj ok ol bi translated"><strong class="kt ir">网络</strong>:我们之前为容器交互创建的桥的名称。</li><li id="9a0b" class="od oe iq kt b ku om kx on la oo le op li oq lm oi oj ok ol bi translated"><strong class="kt ir"> e </strong>:容器的环境变量。<code class="fe np nq nr mw b">PGADMIN_PASSWORD</code>设置pgAdmin超级用户的密码，<code class="fe np nq nr mw b">PGADMIN_DEFAULT_EMAIL</code>设置pgAdmin超级用户的电子邮件。在上面的两个例子中，值都是<code class="fe np nq nr mw b">admin</code>。</li><li id="281b" class="od oe iq kt b ku om kx on la oo le op li oq lm oi oj ok ol bi translated"><strong class="kt ir"> p </strong> : Port，你的主机端口和你的容器端口之间的映射，格式<code class="fe np nq nr mw b">host_port:container_port</code>。</li><li id="61a6" class="od oe iq kt b ku om kx on la oo le op li oq lm oi oj ok ol bi translated"><strong class="kt ir"> d </strong>:以守护程序的方式运行容器。</li><li id="d252" class="od oe iq kt b ku om kx on la oo le op li oq lm oi oj ok ol bi translated"><strong class="kt ir"> dpage/pgadmin4 </strong>:用于运行容器的Docker映像的名称。</li></ul><p id="2362" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这之后，你应该让你的pgAdmin在<a class="ae ln" href="http://0.0.0.0:80" rel="noopener ugc nofollow" target="_blank"> 0.0.0.0:80 </a>中运行。</p><h1 id="1127" class="md me iq bd mf mg nf mi mj mk ng mm mn jw nh jx mp jz ni ka mr kc nj kd mt mu bi translated">创建pgAdmin和数据库之间的连接</h1><p id="fe1f" class="pw-post-body-paragraph kr ks iq kt b ku nk jr kw kx nl ju kz la nm lc ld le nn lg lh li no lk ll lm ij bi translated">转到pgAdmin并使用默认密码登录。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi or"><img src="../Images/e1016d233e64161d967c3fd7800d6332.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2I0A19BBEOTMzMzUT5szNQ.png"/></div></div></figure><p id="dc76" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">创建新服务器后:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi os"><img src="../Images/a293416bdd387e51572101fb51d66a9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*FkfHEYF2QbxjpQ6Z0a5Lnw.png"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/686ac38e8fb821431d8248bc76106043.png" data-original-src="https://miro.medium.com/v2/resize:fit:1010/format:webp/1*MGdup4nqySNzGyCiwZSgLw.png"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/314b4f58e9a8eb9096638ca24a3a77c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/1*eIr_eVARhxGZYIrzbRffpQ.png"/></div></figure><p id="0402" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后单击保存。你会有一个相似的结构:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/a58baac53fc91b9a6de04bd60dabd7e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:608/format:webp/1*MWyBOhOyYTQrEMUN8KJYrQ.png"/></div></figure><p id="23c0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们已经连接了数据库，让我们通过单击查询工具来创建一些关系，您将看到查询编辑器:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/e4bf6d725969f81f6fd4f55ca9b9852d.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*WMQsCJd_ZemqH-8xU96zsA.png"/></div></figure><p id="c6ce" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们的数据库将是这样的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/337f3e3e44a5316635f72aef9add80ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1042/format:webp/1*pJhiQqFb58JoCbO7HeVyWw.png"/></div></figure><p id="ce42" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因此，运行以下SQL:</p><pre class="kg kh ki kj gt mv mw mx my aw mz bi"><span id="c7fc" class="na me iq mw b gy nb nc l nd ne">CREATE SCHEMA your_schema;</span><span id="2c66" class="na me iq mw b gy oy nc l nd ne">CREATE TABLE your_schema.parent_table (<br/>    id SERIAL PRIMARY KEY,<br/>    name TEXT,<br/>    description TEXT,<br/>    created_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,<br/>    updated_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP<br/>);</span><span id="3b54" class="na me iq mw b gy oy nc l nd ne">COMMENT ON TABLE your_schema.parent_table IS<br/>'Provide a description for your parent table.';</span><span id="54ec" class="na me iq mw b gy oy nc l nd ne">CREATE TABLE your_schema.child_table (<br/>    id SERIAL PRIMARY KEY,<br/>    name TEXT,<br/>    description TEXT,<br/>    created_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,<br/>    updated_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,<br/>    parent_table_id INTEGER NOT NULL REFERENCES your_schema.parent_table(id)<br/>);</span><span id="2bb0" class="na me iq mw b gy oy nc l nd ne">COMMENT ON TABLE your_schema.child_table IS<br/>'Provide a description for your child table.';</span></pre><p id="aedb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们插入一些数据:</p><pre class="kg kh ki kj gt mv mw mx my aw mz bi"><span id="155d" class="na me iq mw b gy nb nc l nd ne">INSERT INTO your_schema.parent_table (name, description) VALUES<br/>('Parent name 1', 'Parent description 1'),<br/>('Parent name 2', 'Parent description 2'),<br/>('Parent name 3', 'Parent description 3');INSERT INTO your_schema.child_table (name, description, parent_table_id) VALUES<br/>('Child name 1', 'Child description 1', 1),<br/>('Child name 2', 'Child description 2', 2),<br/>('Child name 3', 'Child description 3', 3);</span></pre><p id="8ecc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您想查看数据:</p><pre class="kg kh ki kj gt mv mw mx my aw mz bi"><span id="b00e" class="na me iq mw b gy nb nc l nd ne">SELECT A.id, A.name, A.description, B.id, B.name, B.description<br/>FROM your_schema.parent_table A<br/>INNER JOIN your_schema.child_table B ON A.id=B.parent_table_id;</span></pre><h1 id="489b" class="md me iq bd mf mg nf mi mj mk ng mm mn jw nh jx mp jz ni ka mr kc nj kd mt mu bi translated">设置后期图像</h1><p id="1d93" class="pw-post-body-paragraph kr ks iq kt b ku nk jr kw kx nl ju kz la nm lc ld le nn lg lh li no lk ll lm ij bi translated">以下命令下载一个<a class="ae ln" href="https://hub.docker.com/r/graphile/postgraphile/" rel="noopener ugc nofollow" target="_blank">postgrapile docker图像</a>。</p><pre class="kg kh ki kj gt mv mw mx my aw mz bi"><span id="92a6" class="na me iq mw b gy nb nc l nd ne">$ docker pull graphile/postgraphile</span></pre><p id="092c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了将PostgreSQL容器连接到PostgreSQL容器，必须使用以下参数运行<code class="fe np nq nr mw b">graphile/postgraphile</code>图像:</p><pre class="kg kh ki kj gt mv mw mx my aw mz bi"><span id="98a8" class="na me iq mw b gy nb nc l nd ne">$ docker run --name pgql -p 5000:5000 -d graphile/postgraphile --connection postgres://postgres:postgres@host:5432/your_database --schema your_schema --watch</span></pre><p id="5165" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">参数描述:</p><ul class=""><li id="3f0a" class="od oe iq kt b ku kv kx ky la oz le pa li pb lm oi oj ok ol bi translated"><strong class="kt ir">名称</strong>:集装箱的名称。在上面的例子中，值是<strong class="kt ir"> pgql </strong>，但是您可以选择一个自己喜欢的名称。</li><li id="12d0" class="od oe iq kt b ku om kx on la oo le op li oq lm oi oj ok ol bi translated"><strong class="kt ir"> p </strong> : Port，你的主机端口和你的容器端口之间的映射，格式<code class="fe np nq nr mw b">host_port:container_port</code>。在上面的命令中，端口都被设置为<strong class="kt ir"> 5000 </strong>。</li><li id="4efa" class="od oe iq kt b ku om kx on la oo le op li oq lm oi oj ok ol bi translated">d :以守护进程的方式运行容器。</li><li id="348a" class="od oe iq kt b ku om kx on la oo le op li oq lm oi oj ok ol bi translated"><strong class="kt ir"> graphile/postgraphile </strong>:用于运行容器的Docker图像的名称。</li><li id="0cad" class="od oe iq kt b ku om kx on la oo le op li oq lm oi oj ok ol bi translated"><strong class="kt ir">连接</strong>:PostgreSQL容器和数据库的连接字符串，格式为<code class="fe np nq nr mw b">postgres://db_user:password@host:port/your_database</code>。在上面的命令中，值设置如下:</li><li id="ba7b" class="od oe iq kt b ku om kx on la oo le op li oq lm oi oj ok ol bi translated"><code class="fe np nq nr mw b">db_user</code> : PostgreSQL超级用户是<strong class="kt ir"> postgres </strong>。</li><li id="be75" class="od oe iq kt b ku om kx on la oo le op li oq lm oi oj ok ol bi translated"><code class="fe np nq nr mw b">password</code>:您在运行postgres容器时用于<code class="fe np nq nr mw b">POSTGRES_PASSWORD</code>参数的值。</li><li id="7b53" class="od oe iq kt b ku om kx on la oo le op li oq lm oi oj ok ol bi translated"><code class="fe np nq nr mw b">host</code>:运行postgres容器的本地机器的IP地址。你可以在终端窗口中输入<code class="fe np nq nr mw b">ifconfig</code>找到它。</li><li id="ccbe" class="od oe iq kt b ku om kx on la oo le op li oq lm oi oj ok ol bi translated"><code class="fe np nq nr mw b">port</code>:在postgres容器上打开的端口。上一步打开的端口是<strong class="kt ir"> 5432 </strong>，这是PostgreSQL的默认端口。</li><li id="159d" class="od oe iq kt b ku om kx on la oo le op li oq lm oi oj ok ol bi translated"><code class="fe np nq nr mw b">your_database</code>:PostgreSQL数据库的名称。</li><li id="149a" class="od oe iq kt b ku om kx on la oo le op li oq lm oi oj ok ol bi translated"><strong class="kt ir">模式</strong>:PostgeSQL数据库中模式的名称。</li><li id="e862" class="od oe iq kt b ku om kx on la oo le op li oq lm oi oj ok ol bi translated"><strong class="kt ir">watch</strong>:watch标志自动检测对数据库所做的更改，并相应地重新加载GraphiQL接口。</li></ul><h1 id="0159" class="md me iq bd mf mg nf mi mj mk ng mm mn jw nh jx mp jz ni ka mr kc nj kd mt mu bi translated">测试GraphQL API</h1><p id="d7f5" class="pw-post-body-paragraph kr ks iq kt b ku nk jr kw kx nl ju kz la nm lc ld le nn lg lh li no lk ll lm ij bi translated">导航到<a class="ae ln" href="http://0.0.0.0:5000/graphiql" rel="noopener ugc nofollow" target="_blank">http://0 . 0 . 0 . 0:5000/GraphiQL</a>以可视化API GraphiQL文档。从那里，您可以执行查询和变异，如下例所示。API端点本身就是<a class="ae ln" href="http://0.0.0.0:5000/graphql" rel="noopener ugc nofollow" target="_blank">http://0 . 0 . 0 . 0:5000/graph QL</a>。</p><h1 id="6fa7" class="md me iq bd mf mg nf mi mj mk ng mm mn jw nh jx mp jz ni ka mr kc nj kd mt mu bi translated">查询示例</h1><pre class="kg kh ki kj gt mv mw mx my aw mz bi"><span id="f9e3" class="na me iq mw b gy nb nc l nd ne">query {<br/>  allParentTables {<br/>    nodes {<br/>      id<br/>      name<br/>      description<br/>      childTablesByParentTableId {<br/>        nodes {<br/>          id<br/>          name<br/>          description<br/>        }<br/>      }<br/>    }<br/>  }<br/>}</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pc"><img src="../Images/f3e258bcae70de0f5efcd0ce09f006ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JJUu41IBFkFyqKQKh-1Ckw.png"/></div></div></figure><h1 id="2f6f" class="md me iq bd mf mg nf mi mj mk ng mm mn jw nh jx mp jz ni ka mr kc nj kd mt mu bi translated">突变示例</h1><pre class="kg kh ki kj gt mv mw mx my aw mz bi"><span id="f221" class="na me iq mw b gy nb nc l nd ne">mutation {<br/>  createParentTable(<br/>    input: {<br/>      parentTable: {<br/>        name: "Parent name 4"<br/>        description: "Parent description 4"<br/>      }<br/>    }<br/>  ) {<br/>    parentTable {<br/>      id<br/>      name<br/>      description<br/>    }<br/>  }<br/>}</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pd"><img src="../Images/b140c9a79da6aa2815f62ef0035ac46a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*chtCnOAqo_QAn90N4uR_GA.png"/></div></div></figure><p id="e305" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">正如您所看到的，您有一个功能性的GraphQL API！</p><p id="edf2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">理解了这些概念之后，你就可以使用docker-compose文件轻松地创建和开发容器了，请阅读下面的文章:</p><div class="pe pf gp gr pg ph"><a rel="noopener  ugc nofollow" target="_blank" href="/setup-postgresql-in-10-seconds-c22f7a1369cf"><div class="pi ab fo"><div class="pj ab pk cl cj pl"><h2 class="bd ir gy z fp pm fr fs pn fu fw ip bi translated">在10秒内设置PostgreSQL</h2><div class="po l"><h3 class="bd b gy z fp pm fr fs pn fu fw dk translated">上个月我写了一篇关于如何在Docker中设置PostgreSQL+pg admin+PostGraphile的文章，有一个…</h3></div><div class="pp l"><p class="bd b dl z fp pm fr fs pn fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="pq l"><div class="pr l ps pt pu pq pv kp ph"/></div></div></a></div></div></div>    
</body>
</html>