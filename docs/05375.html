<html>
<head>
<title>These Mistakes Can Make Your AR Foundation App Display A Black Screen</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">这些错误会让你的AR基金会App显示黑屏</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/these-mistakes-can-make-your-ar-foundation-app-display-a-black-screen-3b5b505c28b1?source=collection_archive---------3-----------------------#2020-08-24">https://levelup.gitconnected.com/these-mistakes-can-make-your-ar-foundation-app-display-a-black-screen-3b5b505c28b1?source=collection_archive---------3-----------------------#2020-08-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/45dc9a4aa51011b84f8f76b14688c6ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xd27OITkaMB0V0vaVr8MDw.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">丹尼尔·弗兰克在<a class="ae kf" href="https://unsplash.com/s/photos/augmented-reality?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="b41c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi le translated"><span class="l lf lg lh bm li lj lk ll lm di">在</span>近几年，AR技术发展迅速。继去年发布令人惊叹的ARKit 3之后，今年苹果在WWDC 2020上发布了ARKit 4。Unity还扩展了其AR基础，以快速添加ARKit 3.5和ARKit 4的这些新功能。随着AR技术的发展，越来越多的开发者使用Unity的AR基础来开发运行在不同平台上的AR应用。</p><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ln"><img src="../Images/cc05d80be7ef9e1efe7e0c93dcb78730.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*acX9JZm_ul1_hYxD.jpg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">Unity中的AR基金会</figcaption></figure><p id="9a31" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是，作为一个使用Unity的AR基础的开发者，在开发一个AR应用时，有一些错误可能会让你感觉很糟糕。这篇文章将详细介绍导致AR应用程序在手机上显示黑屏的4个常见错误。</p><h1 id="abc0" class="ls lt it bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">错误#1你没有为特定的平台安装平台包</h1><p id="499b" class="pw-post-body-paragraph kg kh it ki b kj mq kl km kn mr kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">我认为这是AR开发者在Unity中使用AR Foundation开发AR应用时可能遇到的最常见的错误。从上面Unity中AR解决方案的架构可以看出，你会发现AR Foundation只是开发者使用C#编程语言在Unity中开发自己AR App的一个抽象层。</p><p id="ffdb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您仅通过Unity软件包管理器安装AR基础软件包，它不会自动为您安装特定平台上所需的平台软件包。你必须手动安装它/它们。</p><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mv"><img src="../Images/a82f82e67df4b80be7c7b8089b3a574e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hTJ3IpCuUdSH21akQCWtyw.png"/></div></div></figure><p id="94eb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">比如你想在<strong class="ki iu"> <em class="mw"> iOS平台</em> </strong>上创建一个AR app，那么你需要安装<strong class="ki iu"> <em class="mw"> ARKit XR插件</em> </strong> <em class="mw">。</em></p><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mx"><img src="../Images/8a54765ebaf5089488c1765922c336b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jbxqfk6BmUNlm-mdnadk5A.png"/></div></div></figure><h1 id="d20e" class="ls lt it bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">错误#2设备不支持AR功能</h1><p id="5b21" class="pw-post-body-paragraph kg kh it ki b kj mq kl km kn mr kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">和第一个错误类似，但是很容易被开发者忽略，就是设备本身的能力。</p><p id="6327" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们再来看看AR基金会的架构。是的，有一个比Unity的平台包更低的层次，就是设备提供的SDK层。</p><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi my"><img src="../Images/447d410181a985bccde525e20c868680.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*OA9BNxrkq2sWwSfv.jpg"/></div></div></figure><p id="6ad5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这种错误在Android设备上比在iOS设备上更常见，比如不能安装Google的AR Core SDK的Android手机，或者设备的Android OS版本不符合AR Core SDK的要求。</p><h1 id="1417" class="ls lt it bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">错误3:通用渲染管道设置不正确</h1><p id="c165" class="pw-post-body-paragraph kg kh it ki b kj mq kl km kn mr kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">如果你想使用通用渲染管道而不是Unity内置的渲染管道，那么你需要将你的AR基础包和对应的ARKit XR插件包更新到3.0.0或更高版本，因为Unity 2019.x上AR基础包的默认验证版本是2.x.x。</p><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mz"><img src="../Images/2ca48167c2715cc03ef87e510f1ff203.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oAArCsKo2iWN98-naZSbzA.png"/></div></div></figure><p id="5185" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来，安装通用RP包，并将UniversalRenderPipelineAsset设置为项目的图形设置，以替换内置的渲染管道。构建你的AR应用在你的iPhone上运行，然后你会看到一个黑屏。</p><p id="7fad" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">除了升级您的AR Foundation版本，您还需要正确设置通用渲染管道，以成功替换内置渲染管道。对于AR应用程序，我们需要将AR背景渲染器功能添加到URP渲染器中。可以看下面的gif。</p><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi na"><img src="../Images/32ef3bc6ea2457cb9911205e7085107e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*OtKC-ixYZdH_ujNhLK0bmw.gif"/></div></div></figure><h1 id="2aad" class="ls lt it bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">错误#4更新到AR Foundation 4.0.x并且没有正确设置</h1><p id="eab0" class="pw-post-body-paragraph kg kh it ki b kj mq kl km kn mr kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">想必上面的错误你都改正了，可能还会遇到第四个错误导致黑屏。</p><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nb"><img src="../Images/27dbf2e7addd3150a57506192e42b896.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FOQ4c6kmzlQccrRzmvQJZA.png"/></div></div></figure><p id="1963" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，让我们将AR基础包和相应的平台包(ARKit XR插件)更新到4.0.2，其他所有设置保持不变。构建应用程序并在您的iPhone上运行，您将得到另一个黑屏，并显示以下错误信息。</p><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nc"><img src="../Images/6aad40c8d9083400a02f03d97f8cbbd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-5YZziJRt8oxiTwB2VXLZQ.png"/></div></div></figure><p id="1635" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">修复这个错误并不难，你只需要在XR插件管理面板中检查插件提供者。但是在AR Foundation 4.x之前不一定要做。</p><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi na"><img src="../Images/5a5ca7a377687c2eeceb68eecdbc8c3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Z5uF8rT6joxLu48LCuVyew.gif"/></div></div></figure><p id="372d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，您的应用程序应该可以按预期运行了。</p></div><div class="ab cl nd ne hx nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="im in io ip iq"><h1 id="baf3" class="ls lt it bd lu lv nk lx ly lz nl mb mc md nm mf mg mh nn mj mk ml no mn mo mp bi translated">我的新书！</h1><p id="8ce0" class="pw-post-body-paragraph kg kh it ki b kj mq kl km kn mr kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">嘿，朋友们，我非常兴奋地宣布，我的新书已经可以在亚马逊上预购了！</p><div class="np nq gp gr nr ns"><a href="https://www.amazon.com/Game-Development-Unity-NET-Developers-ebook-dp-B09P5R4QPS/dp/B09P5R4QPS" rel="noopener  ugc nofollow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd iu gy z fp nx fr fs ny fu fw is bi translated">游戏开发与统一。NET开发者:用Unity创建游戏的终极指南…</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">Amazon.com:使用Unity进行游戏开发。NET开发者:用Unity和…创建游戏的终极指南</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">www.amazon.com</p></div></div><div class="ob l"><div class="oc l od oe of ob og jz ns"/></div></div></a></div><p id="b363" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本书中，我们将探索如何使用<strong class="ki iu"> Unity游戏引擎</strong>和<strong class="ki iu">微软游戏开发</strong>，包括<strong class="ki iu">微软Azure云</strong>和<strong class="ki iu">微软Azure PlayFab </strong>服务，来创建游戏。</p></div></div>    
</body>
</html>