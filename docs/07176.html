<html>
<head>
<title>Executing long-running tasks/processes in AWS Lambda</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在AWS Lambda中执行长期运行的任务/流程</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/executing-long-running-tasks-in-aws-lambda-de983c0df0b?source=collection_archive---------6-----------------------#2021-01-29">https://levelup.gitconnected.com/executing-long-running-tasks-in-aws-lambda-de983c0df0b?source=collection_archive---------6-----------------------#2021-01-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/ef0199b33e3a8234de58350fd2a737d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1ZeapnydLKHS-VXA.png"/></div></div></figure><p id="796e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://aws.amazon.com/lambda/" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> AWS </strong> </a> Lambda是一个事件驱动、<a class="ae kw" href="https://aws.amazon.com/serverless/" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir">无服务器</strong> </a>的计算平台，它执行你的代码来响应事件。无服务器或多或少支持几乎所有的用例，但是有一件事仍然需要思考和寻找方法，那就是使用lambda来执行长时间运行的任务。</p><p id="f263" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为此，我们有许多其他选项，但它们并不经济高效，而且其他选项需要更多的工作，从使用案例的角度来看，这有点昂贵。例如，我们想将旧数据从s3迁移到其他数据源，如Elasticsearch或DynamoDB。</p><p id="f743" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为此，如果我们启动一个EC2实例并运行一个系统或windows服务来进行数据迁移，这将浪费大量资源，而且不是一个好的工程实践，因为我们可以使用无服务器，这在开发、工作和资金方面更具成本效益。</p><p id="406f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在阻止我们的是AWS Lambda执行超时，这是有限的<br/>为此，我们有许多方法，其中一种方法是通过在<a class="ae kw" href="https://docs.aws.amazon.com/step-functions/latest/dg/amazon-states-language-state-machine-structure.html" rel="noopener ugc nofollow" target="_blank">状态机</a>中执行Lambda，并跟踪您的当前状态。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi kx"><img src="../Images/7113306fc89871bce4ebd4a93f3464a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*24w0EMrDqfIzy7inzAXGuQ.png"/></div></div></figure><p id="1426" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是C#中的代码示例，我们通过跟踪lambda执行的剩余时间来重新启动我们的状态机，最重要的是记住我们的当前状态以备下次执行，因为我们不想一次又一次地执行相同的逻辑，陷入无限循环。</p></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><p id="782e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">希望你得到了，并享受阅读。如果你有任何疑问，请在评论区告诉我。</p></div></div>    
</body>
</html>