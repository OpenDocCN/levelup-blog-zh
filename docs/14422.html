<html>
<head>
<title>Requesting App Store Ratings with SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用SwiftUI请求App Store评级</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/requesting-app-store-ratings-with-swiftui-481ea4e62be?source=collection_archive---------5-----------------------#2022-11-27">https://levelup.gitconnected.com/requesting-app-store-ratings-with-swiftui-481ea4e62be?source=collection_archive---------5-----------------------#2022-11-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="bb5f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何让用户在App Store中评价和评论你的应用</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e1b567ce080a0c0ed3b86ad6a7da8c4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zG_Ri0hGIArEeB0qvwQbWQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">评级和审查屏幕</figcaption></figure><p id="ebc6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当推出一款新应用时，获得用户评论和反馈非常重要。一个有多个(正面)评价的应用会让你从竞争中脱颖而出，向人们展示你的应用值得一试。在理想世界中，所有喜欢你的应用程序的用户都会留下评论，然而，不幸的是，通常情况并非如此。提醒人们离开评论是建立反馈基础的好方法。这篇文章将带你完成这些步骤。</p><h1 id="f453" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">初始实施</h1><p id="a42f" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">创建评级和评论警报实际上是Apple store kit框架的内置部分，因此我们首先使用视图顶部的“import StoreKit ”,我们希望警报出现在那里。下一步是访问必要的环境密钥——称为requestReview。最后，调用requestReview()属性，这将提示用户离开评论。</p><p id="81c0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下面的代码片段将这些步骤付诸实施。在这个具体的例子中，有一个“离开评论”按钮，当点击它时，将出现提示窗口，要求评级/评论。</p><pre class="kj kk kl km gt mr ms mt bn mu mv bi"><span id="af27" class="mw lv it ms b be mx my l mz na">import StoreKit<br/>import SwiftUI<br/><br/>struct RatingAlertCode: View {<br/>   <br/>    @Environment(\.requestReview) var requestReview<br/>    <br/>    var body: some View {<br/>        <br/>        Button("Leave a review") {<br/>            requestReview()<br/>        }<br/>   <br/>    }<br/>}</span></pre><h1 id="b9df" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">微调</h1><p id="2e64" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">虽然那种方法可行，但不太实用。通常你希望你的用户在被提示离开评论之前已经使用了一段时间。此提示的正确时间可能会因您的应用程序而异，应进行相应调整。</p><p id="afdf" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这篇文章中，我们将举一个例子，我们希望用户在第三次看到欢迎屏幕时被要求评论。</p><p id="966c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为此，首先创建一个保存在AppStorage内存中的名为“openCount”的变量。虽然应该谨慎使用AppStorage变量，但它非常适合这种情况，因为它是一个只使用少量内存的属性。</p><p id="0175" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">每次显示视图时，变量增加1。这可以通过在视图的主VStack上使用onAppear修改器来完成。然后在同一个修饰符中添加一个‘if’语句，当这个变量达到3时，它将触发审查警报。</p><p id="4404" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">该警告将只显示一次，以免过多的弹出窗口打扰任何用户。</p><pre class="kj kk kl km gt mr ms mt bn mu mv bi"><span id="1e7e" class="mw lv it ms b be mx my l mz na">struct ReviewAppCode: View {<br/>    <br/>    @Environment(\.requestReview) var requestReview<br/>    @AppStorage("openCount") private var openCount = 0<br/><br/>    var body: some View {<br/>        VStack{<br/>            Text("Welcome to my App")<br/>                .font(.headline)<br/>            Text("You have opened the app \(openCount) times")<br/>        }.onAppear(perform: {<br/>            openCount += 1<br/>            if openCount == 3 {<br/>                requestReview()<br/>            }<br/>        })<br/>    }<br/>}</span></pre><h1 id="a406" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">摘要</h1><p id="f885" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">添加评论提醒是鼓励用户评价你的应用程序的好方法，也增加了更多人发现你努力制作的产品的机会。尽管实施起来很简单，但应该花时间来考虑提示审查的最佳时间范围。不要等太久，以便尽可能多地吸引用户，但也要让人们有足够的时间使用应用程序，以免留下过早的评级。</p><p id="01d9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">希望这是有帮助的...如果有什么可以解释得更好，或者你打算如何在你自己的项目中实现，请在评论中告诉我！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/33280b9e9a9301f9026d9111e47065b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*cONelvQUIiVrTz2rLSSAYA.gif"/></div></figure><blockquote class="nc nd ne"><p id="79dc" class="ky kz nf la b lb lc ju ld le lf jx lg ng li lj lk nh lm ln lo ni lq lr ls lt im bi translated"><em class="it">感谢阅读！如果你喜欢这个帖子并想阅读更多，请务必查看我的个人资料或</em> <a class="ae nj" href="/subscribe/@simply_stef" rel="noopener ugc nofollow" target="_blank"> <em class="it">订阅</em> </a> <em class="it">的类似帖子。</em></p><p id="e239" class="ky kz nf la b lb lc ju ld le lf jx lg ng li lj lk nh lm ln lo ni lq lr ls lt im bi translated"><em class="it">订阅Medium，无限获取所有可用的内容和想法。如果你通过这个链接加入Medium，我会从你的费用中收取一点点——而且不会花你任何额外的钱！</em>T13】</p></blockquote></div><div class="ab cl nk nl hx nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="im in io ip iq"><h1 id="a3d4" class="lu lv it bd lw lx nr lz ma mb ns md me jz nt ka mg kc nu kd mi kf nv kg mk ml bi translated">分级编码</h1><p id="e0e5" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="f312" class="nw nx it la b lb lc le lf lh ny ll nz lp oa lt ob oc od oe bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="caed" class="nw nx it la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated">📰查看<a class="ae nj" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">升级编码出版物</a>中的更多内容</li><li id="3f8a" class="nw nx it la b lb of le og lh oh ll oi lp oj lt ob oc od oe bi translated">🔔关注我们:<a class="ae nj" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae nj" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae nj" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="51b3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">🚀👉<a class="ae nj" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu">加入升级人才集体，找到一份惊艳的工作</strong> </a></p></div></div>    
</body>
</html>