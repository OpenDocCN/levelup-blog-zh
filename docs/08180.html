<html>
<head>
<title>This Angular Technique Will Significantly Lower Code Duplication in Big Projects</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">这种角度技术将显著降低大型项目中的代码重复</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/this-angular-technique-will-significantly-lower-code-duplication-in-big-projects-28fd62c3eadd?source=collection_archive---------1-----------------------#2021-04-07">https://levelup.gitconnected.com/this-angular-technique-will-significantly-lower-code-duplication-in-big-projects-28fd62c3eadd?source=collection_archive---------1-----------------------#2021-04-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="70e8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">告别大型项目中ng模板的代码重复和性能问题</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e4127e5e9a1fa7c48371efe464c343f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-iaoVkWl-I63mpN5OgmJLA.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">图片由来自<a class="ae ky" href="https://www.pexels.com/cs-cz/foto/dovolena-voda-modra-hotel-189296/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>的<a class="ae ky" href="https://www.pexels.com/cs-cz/@donaldtong94?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Donald Tong </a>提供</figcaption></figure><h1 id="cc71" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">🏢大型应用和角度</h1><p id="2a90" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Angular的生态系统是一致的，并且符合其<em class="mn">的面向对象的观点</em>，它肯定是一个开发长寿命大规模企业应用程序的伟大框架。然而，过了一段时间，当每个应用程序增长时，几个不太被提及的问题出现了，最常见的是<em class="mn">代码重复</em>和<em class="mn">模块结构的不适当粒度</em>。在本文中，我将描述我们在Angular项目中遇到的这样一个问题，并提出一个简单而优雅的解决方案。</p><h1 id="682c" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">♨️的问题</h1><p id="5641" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们的应用程序有几个所谓的<em class="mn">不可知组件</em>——具有来自外部的可定制HTML部件的组件——即下拉菜单，它允许我们将ng-template传递给它的输入，并以这种方式定制呈现。从长远来看，不可知组件确实是减少代码重复和提高组件灵活性的好方法。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b3cf7efb750f9b96161f4893a2ea0f85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nCnUd4qM-BrDq-s-Jtje_A.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">不可知的组件及其用例</figcaption></figure><p id="c4e6" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">在我们的项目规模达到大约200，000行代码后，我们有几次对话，我们需要内容完全相同的<em class="mn"> ng模板，在使用它们的每个父组件中复制。</em></p><p id="4937" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">在评估了这些代码副本后，他们有几个共同的特征:</p><ul class=""><li id="c1e9" class="mt mu it lt b lu mo lx mp ma mv me mw mi mx mm my mz na nb bi translated">每个ng模板总是绑定到<em class="mn">呈现一个特定类型的对象</em>(例如，它呈现一个国家类型的实体)，</li><li id="8713" class="mt mu it lt b lu nc lx nd ma ne me nf mi ng mm my mz na nb bi translated">每个ng-template在一个有限的范围内被复制<em class="mn">——例如，在一个懒惰模块中，</em></li><li id="1478" class="mt mu it lt b lu nc lx nd ma ne me nf mi ng mm my mz na nb bi translated">在我们的组件中使用ng-template会导致我们的应用程序出现严重的<em class="mn">减速</em>(有时)。</li></ul><p id="0a34" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">让我们假设我们正在建立一个简单的角药店。在下图中，有三个组件可以想象成屏幕。这些屏幕包含用户应该使用下拉组件(灰色框)选择国家和/或药品的表单。红框是用于呈现下拉列表中药品实体的ng模板，蓝框是用于呈现下拉列表中国家实体的ng模板。显而易见，这种使用ng模板定制组件的方法在代码复制方面并不是最佳的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/f3ddaf31490866a334057e09c857d55e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KXGbFZAxfdsR5LtIf-vz3w.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">ng-模板复制图解</figcaption></figure><h1 id="9a6c" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">💡我的解决方案</h1><p id="c9fb" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">作为一名软件工程师，我喜欢阅读和思考编程模式，所以我决定自己创建一个。</p><p id="bbd3" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">我的主要灵感来源是著名的永恒书籍<em class="mn">中的Flyweight模式:设计模式:可重用的面向对象软件的元素</em>，如果你还没有这样做的话，我推荐你去读一读。Flyweight模式用于<em class="mn">性能密集型/内存密集型对象在其他几个使用它们的对象之间共享的情况</em>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/19532fae4657c7fd07f280690b9167f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*45XajWMw5vIopEHrBIMPiw.jpeg"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">轻量级模式— UML (Gamma等人，1995年，第198页)</figcaption></figure><p id="20c5" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">轻量级模式本质上是这样工作的:</p><blockquote class="nj nk nl"><p id="50c1" class="lr ls mn lt b lu mo ju lw lx mp jx lz nm mq mc md nn mr mg mh no ms mk ml mm im bi translated">一个客户端调用FlyweightFactory来获取一个ConcreteFlyweight(所有的concrete flyweight共享相同的一组公共方法，但是它们的状态不同)。FlyweightFactory决定是构建一个新的ConcreteFlyweight还是重用一个现有的ConcreteFlyweight，以便节省系统资源(CPU/RAM)。在这两种情况下，客户机都获得了一个ConcreteFlyweight的实例，并根据需要进一步使用它。</p></blockquote><p id="932e" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">回到角度。让我们将用例映射到Flyweight模式:</p><ul class=""><li id="da9a" class="mt mu it lt b lu mo lx mp ma mv me mw mi mx mm my mz na nb bi translated"><em class="mn">客户端</em>将是我们的业务组件，</li><li id="d2e8" class="mt mu it lt b lu nc lx nd ma ne me nf mi ng mm my mz na nb bi translated"><em class="mn">具体的Flyweight </em>将是一个名为<em class="mn">模板库</em>的组件，它将扩展<em class="mn">抽象模板库(映射到Flyweight) </em>并包含我们想要共享的ng模板。</li><li id="6021" class="mt mu it lt b lu nc lx nd ma ne me nf mi ng mm my mz na nb bi translated"><em class="mn"> Flyweight Factory </em>将是一个名为<em class="mn">模板池</em>的服务，包含<em class="mn">模板库</em>，它将提供业务组件所需的模板。</li><li id="161d" class="mt mu it lt b lu nc lx nd ma ne me nf mi ng mm my mz na nb bi translated">业务组件将使用一些模板，通过@Inputs将它们传递给其子组件。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/53355fb842ec16bc23b6bfaf61732379.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oPKWonHbmFWtp7XJy90VUQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">模板池模式— UML</figcaption></figure><p id="396b" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">由于已经存在一些术语，例如<em class="mn">连接池</em>和<em class="mn">线程池</em>，它们做的事情非常相似，但是在不同的上下文中，我决定将我的小角度编程模式<strong class="lt iu"> <em class="mn">模板池模式</em> </strong>。</p><p id="ffc7" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">它在业务组件中的用法非常简单:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/8ad1e0c1370a116be4b644c0c8f98908.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2Y8S0VPZhc2Be40wN3K2fA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">模板池使用—控制器</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/0ad49ec7faca5d37a3aec1ae69d79e2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Nlh1EwRRrBPlaHVC15lzpw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">模板池用途— HTML</figcaption></figure><p id="7fa0" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">现在让我们<em class="mn">将</em>缩小一点，看看这个解决方案的全貌:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/b3d75a1570f7d9bd0ef43d61509e98e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7TnVsyYyqns14AA_I5I5FQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">使用模板池和模板库可以有效地消除ng模板复制</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/17816051ddb8bc8a2f0c5e26ec494d83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CUbPYrnUOoVRu1c1lm9vgw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">利用模板池模式的架构优点</figcaption></figure><h2 id="e71e" class="nu la it bd lb nv nw dn lf nx ny dp lj ma nz oa ll me ob oc ln mi od oe lp of bi translated">更简单的选择</h2><p id="22d8" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">顺便说一下，我还考虑过使用包含所有模板的子组件，然后使用模板变量(#templatePool)将模板传递给下拉输入。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/0e72742cdc723c3d83b6cac91e8b7260.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PMWVINZ7joFSHZJ0Z9z6RA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">简化的模板池—演示</figcaption></figure><p id="462b" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">下图描绘了该解决方案的总体情况:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/9b007911d0c9543079e1ae9a783cefcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SrhZpsi5RR4qMQh75YLBrA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">减少ng模板重复的ViewChild方法</figcaption></figure><p id="d36a" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">如您所见，这是一个比基于服务的模板池简单得多的解决方案。然而，这种方法有几个缺点，即性能问题——当您将一个新的充满模板的子组件放入消费者组件时，该子组件<em class="mn">将有自己的生命周期</em> —这意味着这不仅会给模板带来<em class="mn">的一点重复</em>(当将该组件包含到消费者组件模板中时),而且还会降低应用程序的性能。</p><p id="899c" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">此外，当构建<em class="mn">数据驱动解决方案</em>时，如果您希望将ng模板传递给数据驱动组件的属性，这种基于TemplateRef的解决方案被证明是相当笨拙的<em class="mn">，因为它需要在控制器中创建一个ViewChild属性，并在引用模板库的某个组件中初始化这些数据驱动解决方案。</em></p><h1 id="950d" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">🔌使用</h1><p id="a717" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">这是我的解决方案的一个片段。也可在我的<a class="ae ky" href="https://github.com/radekbusa/ng-template-pools-demo" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上获得。</p><h2 id="32b6" class="nu la it bd lb nv nw dn lf nx ny dp lj ma nz oa ll me ob oc ln mi od oe lp of bi translated">1.创建模板存储库</h2><p id="401b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">首先，您的定制模板存储库应该扩展<em class="mn">abstracttemplatereportory</em>。</p><p id="caff" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">对于编写存储库的代码，有几个重要的注意事项:</p><ul class=""><li id="5b5e" class="mt mu it lt b lu mo lx mp ma mv me mw mi mx mm my mz na nb bi translated">储存库应该是<em class="mn">无状态的</em>(这意味着除了ViewChild TemplateRefs之外，控制器成员变量中不应该有任何东西)因为<em class="mn">它与变更检测</em>断开连接，</li><li id="463f" class="mt mu it lt b lu nc lx nd ma ne me nf mi ng mm my mz na nb bi translated">储存库<em class="mn">的HTML模板应该只包含带有模板引用变量</em>的ng模板，</li><li id="7035" class="mt mu it lt b lu nc lx nd ma ne me nf mi ng mm my mz na nb bi translated">储存库的控制器内部的TemplateRefs，由ViewChild decorator注释，应该以“Template”/“Template”为前缀/后缀。该约定被强制执行以确保良好的命名约定(没有上述前缀/后缀的TemplateRefs将<em class="mn">不能</em>在消费者组件中访问)。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/489b12796f4c05e187aaebb6ac328957.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*36pRB-i-hfKWhW3Mo1kTeg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">模板存储库— HTML</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/8a3136f611673469778eabf91811526f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hbP329kosHaAxaBCjgrhXQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">模板存储库—控制器</figcaption></figure><h2 id="51f6" class="nu la it bd lb nv nw dn lf nx ny dp lj ma nz oa ll me ob oc ln mi od oe lp of bi translated">2.为注入设置模板池</h2><p id="4ae1" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">很简单，只要把它包含到你选择的模块中。也有可能为每个惰性模块/每个注入器声明一个模板存储库。对于这样的用例，我实现了forRoot/forChild模块工厂模式。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/61ad4a4368931df8f346d0c5e3e3f483.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*guT-lb5G_x6nIGo0gi3Umw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">将TemplatePoolModule导入您的应用程序</figcaption></figure><p id="2386" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">如果您对Angular中的模块化结构感兴趣，即核心模块和共享模块之间的<em class="mn">微妙但重要的细微差别</em>，请查看这篇文章:</p><div class="ol om gp gr on oo"><a rel="noopener  ugc nofollow" target="_blank" href="/where-shall-i-put-that-core-vs-shared-module-in-angular-5fdad16fcecc"><div class="op ab fo"><div class="oq ab or cl cj os"><h2 class="bd iu gy z fp ot fr fs ou fu fw is bi translated">“我该把它放在哪里？”-核心模块与角度共享模块</h2><div class="ov l"><h3 class="bd b gy z fp ot fr fs ou fu fw dk translated">核心模块与共享模块的角度，专业的提示和技巧，加上一个经验法则，以确定哪个模块放置您的…</h3></div><div class="ow l"><p class="bd b dl z fp ot fr fs ou fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="ox l"><div class="oy l oz pa pb ox pc ks oo"/></div></div></a></div><h2 id="ed8b" class="nu la it bd lb nv nw dn lf nx ny dp lj ma nz oa ll me ob oc ln mi od oe lp of bi translated">3.在组件中使用模板池</h2><p id="7776" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">API和模板池的初始化是完全同步的过程——这很好，因为它们不会给开发过程带来不必要的摩擦。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/b7770bc0776f23731e1dc37f04eb4d80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PtwgZWDJfmI3mRxGchcVmA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">模板池用途— HTML</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/9fdb51b8f8f291d9c23ed3ee7e2b12c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4SBQ5EoSoayaAWtmzL1pWg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">模板池使用—控制器</figcaption></figure><p id="9919" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">如果需要，您甚至可以将ng模板传递给Angular服务中的模型驱动组件:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/04a0a4c18777ef4091e0464e731bc694.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u8U-lwa01SfSjG2JOWZq5A.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">模板池也非常适合配置模型驱动的组件</figcaption></figure><p id="8052" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">就是这样！<em class="mn">享受您共享的ng模板，无需性能开销。</em></p><h1 id="2562" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">👍优势</h1><ul class=""><li id="0d15" class="mt mu it lt b lu lv lx ly ma pe me pf mi pg mm my mz na nb bi translated"><em class="mn">降低ng模板的复制</em>，</li><li id="7d36" class="mt mu it lt b lu nc lx nd ma ne me nf mi ng mm my mz na nb bi translated"><em class="mn">集中式</em>用于商业实体渲染的不可知角度组件的真实来源，</li><li id="963f" class="mt mu it lt b lu nc lx nd ma ne me nf mi ng mm my mz na nb bi translated"><em class="mn">没有性能开销</em> —模板存储库不监听来自传统视图的变更检测调用。</li></ul><h1 id="c6b9" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">👀限制</h1><ul class=""><li id="fc84" class="mt mu it lt b lu lv lx ly ma pe me pf mi pg mm my mz na nb bi translated">限于<em class="mn">每个注射器一个模板库</em>。这个<em class="mn">大概就是</em>的意思，在根应用模块中有一个模板存储库，每个惰性特性模块有一个模板存储库(除非使用高级的DI技术，比如组件提供的服务和令牌)，</li><li id="e1ef" class="mt mu it lt b lu nc lx nd ma ne me nf mi ng mm my mz na nb bi translated">必须仔细执行代码审查，尤其是在修改模板库以保持代码整洁的情况下。</li></ul><h1 id="1d35" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">📦结论</h1><p id="6ed7" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">您已经看到了我如何使用一个简单而强大的解决方案来解决大型企业应用程序的典型问题。它极大地简化了我们的应用程序代码，让我的队友们在实现他们常用的东西时更加开心。</p><p id="7233" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">如果你喜欢这个解决方案，在你自己的项目中采用了它，对它做了一些有趣的改进，或者不喜欢它的一些技术方面，请在评论中告诉我！</p><h1 id="2ea9" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">👓值得一看的文章</h1><div class="ol om gp gr on oo"><a rel="noopener  ugc nofollow" target="_blank" href="/handling-loading-indicators-in-angular-applications-the-right-way-11ff8b8896ba"><div class="op ab fo"><div class="oq ab or cl cj os"><h2 class="bd iu gy z fp ot fr fs ou fu fw is bi translated">正确处理角度应用中的负载指示器</h2><div class="ov l"><h3 class="bd b gy z fp ot fr fs ou fu fw dk translated">一个优雅的，没有麻烦的方式来摆脱无意义的技术管道在您的业务角组件。</h3></div><div class="ow l"><p class="bd b dl z fp ot fr fs ou fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="ox l"><div class="ph l oz pa pb ox pc ks oo"/></div></div></a></div><div class="ol om gp gr on oo"><a rel="noopener  ugc nofollow" target="_blank" href="/auto-unsubscribing-in-angular-components-like-a-pro-742220b01d0c"><div class="op ab fo"><div class="oq ab or cl cj os"><h2 class="bd iu gy z fp ot fr fs ou fu fw is bi translated">像专业人士一样自动退订角度组件</h2><div class="ov l"><h3 class="bd b gy z fp ot fr fs ou fu fw dk translated">快速处理unsubscribe()调用的5个技巧</h3></div><div class="ow l"><p class="bd b dl z fp ot fr fs ou fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="ox l"><div class="pi l oz pa pb ox pc ks oo"/></div></div></a></div><h1 id="c640" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">🔥实例+下载</h1><p id="0b65" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">该解决方案的StackBlitz演示可作为下面的嵌入。如果你看起来有问题，这里有链接:<a class="ae ky" href="https://stackblitz.com/edit/ng-template-pools-demo?file=src%2Fapp%2Fapp.component.html" rel="noopener ugc nofollow" target="_blank"> StackBlitz </a>。或者，你可能想直接查看GitHub上的代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pj pk l"/></div></figure><h1 id="7510" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">📚参考</h1><p id="9298" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">伽马，埃里希；理查德·赫尔姆；约翰逊，拉尔夫和Vlissides，约翰(1995年)。设计模式:可重用的面向对象软件的元素。艾迪森-卫斯理。</p></div><div class="ab cl pl pm hx pn" role="separator"><span class="po bw bk pp pq pr"/><span class="po bw bk pp pq pr"/><span class="po bw bk pp pq"/></div><div class="im in io ip iq"><h1 id="a408" class="kz la it bd lb lc ps le lf lg pt li lj jz pu ka ll kc pv kd ln kf pw kg lp lq bi translated">分级编码</h1><p id="c87d" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">感谢您成为我们社区的一员！<a class="ae ky" href="https://www.youtube.com/channel/UC3v9kBR_ab4UHXXdknz8Fbg?sub_confirmation=1" rel="noopener ugc nofollow" target="_blank">订阅我们的YouTube频道</a>或者加入<a class="ae ky" href="https://skilled.dev/" rel="noopener ugc nofollow" target="_blank"> <strong class="lt iu"> Skilled.dev编码面试课程</strong> </a>。</p><div class="ol om gp gr on oo"><a href="https://skilled.dev" rel="noopener  ugc nofollow" target="_blank"><div class="op ab fo"><div class="oq ab or cl cj os"><h2 class="bd iu gy z fp ot fr fs ou fu fw is bi translated">编写面试问题+获得开发工作</h2><div class="ov l"><h3 class="bd b gy z fp ot fr fs ou fu fw dk translated">掌握编码面试的过程</h3></div><div class="ow l"><p class="bd b dl z fp ot fr fs ou fu fw dk translated">技术开发</p></div></div><div class="ox l"><div class="px l oz pa pb ox pc ks oo"/></div></div></a></div></div></div>    
</body>
</html>