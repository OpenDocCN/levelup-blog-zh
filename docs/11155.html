<html>
<head>
<title>MATLAB to NumPy Array</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">MATLAB到NumPy数组</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/matlab-to-numpy-array-eee6de42b5de?source=collection_archive---------4-----------------------#2022-02-21">https://levelup.gitconnected.com/matlab-to-numpy-array-eee6de42b5de?source=collection_archive---------4-----------------------#2022-02-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/e1fa51df0c9e83488b45d411bc7eca78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kS9K5DWndvKdUjqPFYY4jA.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated"><a class="ae jg" href="https://pixabay.com/vectors/evolution-walking-charles-darwin-297234/" rel="noopener ugc nofollow" target="_blank">https://pix abay . com/vectors/evolution-walking-Charles-Darwin-297234/</a></figcaption></figure><div class=""/><h1 id="095f" class="kg kh jj bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">将一种数据结构转换成另一种数据结构</h1><p id="0375" class="pw-post-body-paragraph le lf jj lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">我最近被要求解决一个有趣的数据结构转换问题。它从下面一行Python代码开始:</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="6b0c" class="ml kh jj mh b gy mm mn l mo mp">return unknown_data_type</span></pre><p id="f2d6" class="pw-post-body-paragraph le lf jj lg b lh mq lj lk ll mr ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">unknown_data_type原来是一个NumPy数组，看起来像这样:</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="2eac" class="ml kh jj mh b gy mm mn l mo mp">array([ ...numerical data... ])</span></pre><p id="2766" class="pw-post-body-paragraph le lf jj lg b lh mq lj lk ll mr ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">挑战在于，我需要放弃函数，直到返回语句，并返回从MATLAB加载的数据。改为mat文件。我从未听说过。所以需要做一些调查。当然，从. mat文件加载的数据与NumPy数组不匹配。剩下的代码寻找一个NumPy数组，这意味着我必须将。mat文件来精确匹配NumPy数组。</p><blockquote class="mv mw mx"><p id="c1fd" class="le lf my lg b lh mq lj lk ll mr ln lo mz ms lr ls na mt lv lw nb mu lz ma mb im bi translated"><a class="ae jg" href="https://www.reviversoft.com/file-extensions/mat#:~:text=Files%20with%20the.mat%20extension%20are%20files%20that%20are,that%20include%20variables%2C%20functions%2C%20arrays%20and%20other%20information." rel="noopener ugc nofollow" target="_blank">文件带着。mat扩展名是MATLAB程序使用的二进制数据容器格式的文件。</a></p></blockquote><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="e88f" class="ml kh jj mh b gy mm mn l mo mp"># jupyter notebook --NotebookApp.iopub_data_rate_limit=10000000000</span><span id="0cfc" class="ml kh jj mh b gy nc mn l mo mp">import scipy.io as sio<br/>mat = sio.loadmat('mat_filename.mat') # insert your filename here<br/>print(mat) # find the fieldname you're looking for</span><span id="4d98" class="ml kh jj mh b gy nc mn l mo mp">mat_load = [[element for element in upperElement] for upperElement in mat['fieldname_in_mat_file']] # insert your fieldname here</span><span id="7b42" class="ml kh jj mh b gy nc mn l mo mp">mat_list = [] # create an empty list<br/>length = 100 # update with the number of values you want/need...<br/>for i in range(length): # ...or just hardcode it here<br/>    mat_list.append(mat_load[i][0]) # append the values to the list</span><span id="affc" class="ml kh jj mh b gy nc mn l mo mp">np_array = np.array(mat_list) # convert the list to a NumPy array</span><span id="81e1" class="ml kh jj mh b gy nc mn l mo mp">int32_array = np_array.astype(np.int32) # convert values to int32<br/>int32_array # visually confirm that the output is a NumPy array</span></pre><p id="dbdd" class="pw-post-body-paragraph le lf jj lg b lh mq lj lk ll mr ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">您的默认data_rate_limit旨在保护您的计算机/服务器，但您可能需要更改它以与配合使用。mat文件。上面已经注释掉了，但是这是我需要执行的代码行，以便在本地运行这段代码。</p><p id="ddae" class="pw-post-body-paragraph le lf jj lg b lh mq lj lk ll mr ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">前几行加载并显示。mat文件。我这样做是为了找到包含我需要的数据的字段。然后，我只加载了那个字段。然后，我获取该字段数据并创建一个列表，然后将它添加到一个NumPy数组中。最后，我必须将数据转换为int32。在所有这些之后。mat文件与return语句之前的代码生成的NumPy数组完全匹配。</p><h2 id="fcf9" class="ml kh jj bd ki nd ne dn km nf ng dp kq lp nh ni ku lt nj nk ky lx nl nm lc nn bi translated">收场白</h2><p id="96e5" class="pw-post-body-paragraph le lf jj lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">在我做这件事的时候，我几乎找不到关于。mat文件。因此，我分享这个，以防其他人会觉得有帮助。</p></div></div>    
</body>
</html>