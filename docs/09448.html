<html>
<head>
<title>Working with Arrays Part II: For and Foreach Loops</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用数组第二部分:For和Foreach循环</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/working-with-arrays-part-ii-for-and-foreach-loops-cc4fd1499e8c?source=collection_archive---------6-----------------------#2021-08-11">https://levelup.gitconnected.com/working-with-arrays-part-ii-for-and-foreach-loops-cc4fd1499e8c?source=collection_archive---------6-----------------------#2021-08-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div class="gh gi ir"><img src="../Images/e032ae83f718117b37e1ba2fa505626f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/1*2pMfTWLwr2wd6RuRitL2YQ.gif"/></div></figure><div class=""/><p id="4e2c" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">在本文中，我将更深入地研究数组，稍后展示一个在数组中使用循环来做有趣事情的实际应用。首先，我创建了两个<strong class="jz jb">数组变量</strong>。一个是保存<strong class="jz jb">名字</strong>的<strong class="jz jb">字符串类型</strong>，另一个是保存相应<strong class="jz jb"> nameID号</strong>的<strong class="jz jb"> int类型</strong>。</p><figure class="kw kx ky kz gt iv gh gi paragraph-image"><div class="gh gi kv"><img src="../Images/83f02fd1505eb956eb4f42b5a21bde42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/1*2J8mXNwJauGC6FwUGklMzA.png"/></div></figure><p id="d7ea" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">在<strong class="jz jb">保存</strong>之后，我利用Unity的<strong class="jz jb">检查器</strong>添加剩余的数组数据。每个<strong class="jz jb">名称</strong>将有一个对应的<strong class="jz jb">名称ID </strong>，而每个名称和ID都有一个对应的<strong class="jz jb">元素</strong>编号。</p><figure class="kw kx ky kz gt iv gh gi paragraph-image"><div class="gh gi la"><img src="../Images/b83f994624ac0c274e022996e9f992c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/format:webp/1*6hCaBKix9yLDragZGhzqMw.png"/></div></figure><p id="b1bc" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">在本例中，当按下<strong class="jz jb">空格</strong>键时，循环的<strong class="jz jb">将针对<strong class="jz jb">名称ID数组</strong>中存储的每个不同值运行一次。对于for循环的每个实例，两个<strong class="jz jb">调试</strong>消息被发送到控制台。第一条消息使用<strong class="jz jb">名称索引</strong>变量，在循环通过每个循环时发送<strong class="jz jb">当前名称ID </strong>。第二条消息使用相同的<strong class="jz jb">名称索引</strong>变量从<strong class="jz jb">名称数组</strong>发送<strong class="jz jb">当前名称</strong>。随着循环的进行，所有的姓名和姓名ID都被打印到控制台上。</strong></p><figure class="kw kx ky kz gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi lb"><img src="../Images/58364e40a572467f23c10e74b2e0658d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rb_RPE0SpzkrXUQA8FaFaw.png"/></div></div></figure><p id="f68a" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><em class="lg">在for循环中使用变量名"</em> <strong class="jz jb"> <em class="lg"> i </em> </strong> <em class="lg">"是标准的做法，因为它是一个</em> <strong class="jz jb"> <em class="lg"> int索引值</em> </strong> <em class="lg">。为了我自己的清晰和理解，我选择使用</em><strong class="jz jb"><em class="lg">names index</em></strong><em class="lg">作为一个更具体的变量名来表示我正在进行的工作。</em></p><p id="7f38" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">下面是上面代码的结果。每个<strong class="jz jb">名称ID </strong>数字在它所代表的<strong class="jz jb">名称</strong>之前打印出来。</p><figure class="kw kx ky kz gt iv gh gi paragraph-image"><div class="gh gi lh"><img src="../Images/7b6caa62b0d4d31d3b5f6f59edf1daf3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1110/format:webp/1*xzvmShxQ0rso6Svs4VAXGg.png"/></div></figure><p id="ded4" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">要打印特定的名称，可以使用名称索引来检查它是否等于相应的ID号。在这种情况下，我检查<strong class="jz jb"> 3 </strong>的编号ID。这是Vanessa的姓名ID，因此当发送到控制台时会打印她的姓名。</p><figure class="kw kx ky kz gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi li"><img src="../Images/197752b144e74d27a76f172bf239c047.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-A8IRhHyExY5SMjV4YQquw.png"/></div></div></figure><p id="07a6" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">下面是上面代码的打印结果。</p><figure class="kw kx ky kz gt iv gh gi paragraph-image"><div class="gh gi lj"><img src="../Images/fbd73dbb3b2023984a6b17d7e79887b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1072/format:webp/1*KnPcW_bUSD5mQnU5cmwgdA.png"/></div></figure><p id="8c0e" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">搜索也可以采用一个字符串参数，所以这里我简单地将<strong class="jz jb"> 3 </strong>改为<em class="lg">“Tabitha”</em>，并再次运行代码。</p><figure class="kw kx ky kz gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi li"><img src="../Images/4557c60153f60ffc5708b7e58638a840.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eAcEAfRoupLk1sHaMvVEUw.png"/></div></div></figure><p id="2a69" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">现在Tabitha和她相应的名字ID打印到控制台。</p><figure class="kw kx ky kz gt iv gh gi paragraph-image"><div class="gh gi lk"><img src="../Images/70ce98e5a7d8f3fa3db3a0f76da79f83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1108/format:webp/1*Tl-nPB4fS3sp5See1wtaNg.png"/></div></figure></div><div class="ab cl ll lm hx ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="im in io ip iq"><p id="58cf" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">Unity赋予用户使用<strong class="jz jb"> foreach </strong>循环的特殊能力。它的功能类似于for循环，只是语法更清晰，结果更容易理解。首先，使用<strong class="jz jb"> foreach关键字</strong>。那么<strong class="jz jb">变量</strong>可以被用作一个<strong class="jz jb">通用数据类型</strong>的声明。使用时,<strong class="jz jb"> var </strong>变量将检查它正在寻找的数组的数据类型，并相应地进行匹配。所以，我在这里整理名字的时候，用词非常直接。对于names数组中的每个名称，打印出当前名称。</p><figure class="kw kx ky kz gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi li"><img src="../Images/1d557a4a2a168e489df3832c5899644c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2LvQrTjD4h_gxTgMSSYVmw.png"/></div></div></figure><p id="42f8" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">这是数组中名称的打印输出。</p><figure class="kw kx ky kz gt iv gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/537d0f0f6da106865c5a1f859ea6bf70.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*n6dVGDtV4_p_w81TVre1ag.png"/></div></figure><p id="9691" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">这里<strong class="jz jb"> foreach </strong>循环检查<em class="lg">“Simon”</em>的<strong class="jz jb">字符串值</strong>，如果找到，则将Simon的名字打印到控制台。</p><figure class="kw kx ky kz gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi li"><img src="../Images/b404f5c05308cbdddbe0d5f98d73c73c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S2atLD3zxm3CoKAwDfGCUQ.png"/></div></div></figure><p id="d547" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">你好，西蒙！</p><figure class="kw kx ky kz gt iv gh gi paragraph-image"><div class="gh gi lt"><img src="../Images/fdff0e4c9be96140c3dd0fbe5f079372.png" data-original-src="https://miro.medium.com/v2/resize:fit:1094/format:webp/1*RWw4P3Klb_gBT1GgJHDRBg.png"/></div></figure><p id="4d17" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">在下一个例子中，<strong class="jz jb">名称</strong>存储在它自己的<strong class="jz jb">类</strong>中。该类可以使用<strong class="jz jb">系统。可连载</strong>，每个名字都有一个<strong class="jz jb"> ID </strong>，一个<strong class="jz jb">名字</strong>和一个<strong class="jz jb">年龄</strong>。然后，Name类可以组成一个名称数组，并被赋予一个变量名<em class="lg"> (nameGenerator) </em>。</p><figure class="kw kx ky kz gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi lu"><img src="../Images/74510035dae12923bee9e4d449e5c7e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZJqdpkLGhG6Zxv7oGWCkxg.png"/></div></div></figure><p id="97b6" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">保存并返回Unity后，<strong class="jz jb">检查器</strong>显示所有新添加的空间，我需要在那里填写数据。</p><figure class="kw kx ky kz gt iv gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/196921841a200136655cc21d69b0d889.png" data-original-src="https://miro.medium.com/v2/resize:fit:678/format:webp/1*UcUFCT_LLCRe8Ju5dw2n9g.png"/></div></figure><p id="a44c" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">这是输入数据后的个人统计数据。</p><figure class="kw kx ky kz gt iv gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/6542fccc55e3e82221b396f04adcd792.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/format:webp/1*gYDCNJ_7tC-8OxtPBmjwWQ.png"/></div></figure><p id="3c38" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">一个<strong class="jz jb"> foreach </strong>循环现在可以检查<strong class="jz jb">名称生成器</strong>数组，并将所有的<strong class="jz jb">名称</strong>打印到控制台，并带有它们对应的<strong class="jz jb"> ID </strong>和<strong class="jz jb">年龄</strong>。</p><figure class="kw kx ky kz gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi lx"><img src="../Images/39ce8b2a456914a73eed06a7d5d321ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3H9cfAg78tvH9vHD0AmJ2g.png"/></div></div></figure><p id="37fe" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">下面是运行中脚本。</p><figure class="kw kx ky kz gt iv gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/d422c2c6889fef7dafc8c0d88fcd8667.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/1*iM6CkB8ou7BTmOElyrOpeQ.png"/></div></figure><p id="f4d3" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">举个实际的例子，让我们在通过数组访问一些游戏对象后，改变它们的<strong class="jz jb">颜色</strong>。我从一个叫做<em class="lg">球体</em>的<strong class="jz jb">游戏对象数组</strong>开始。</p><figure class="kw kx ky kz gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi lz"><img src="../Images/026962d116e3f8faefeadb56381aa2a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2xvjSAPhfoICCVVyuwiwEA.png"/></div></div></figure><p id="688b" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">回到Unity，我在场景视图中制作了三个简单的球体<strong class="jz jb">游戏物体</strong>并把它们隔开。</p><figure class="kw kx ky kz gt iv gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/2ead6a68c14758f8c9eb37441e3326c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:592/format:webp/1*QsPFqNLkkAh1hKCTGPsv9Q.png"/></div></figure><p id="a672" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">你好小悬浮球！</p><figure class="kw kx ky kz gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi mb"><img src="../Images/60e4c08b42b48bbd945b61c3d0659799.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*Ylp7N9nNyexHg2tDbCzoMg.png"/></div></div></figure><p id="7be5" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">然后我将它们添加到<strong class="jz jb">检查器</strong>中的<strong class="jz jb">球体数组</strong>中。它们可以简单地从场景视图中拖进来。</p><figure class="kw kx ky kz gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi mc"><img src="../Images/c6b611d80845e1468d725853c53837db.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/1*GtGtdLqMz8ipUhr9BcWHgA.png"/></div></div></figure><p id="2e85" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">现在，当按下<strong class="jz jb">空格键</strong>时，<strong class="jz jb"> foreach </strong>循环将遍历数组并访问每个球体游戏对象。每个球体都有一个对其<strong class="jz jb">网格渲染器</strong>的<strong class="jz jb"> GetComponent </strong>调用，随后将材质<strong class="jz jb">颜色</strong>设置为<em class="lg">蓝色</em>。</p><figure class="kw kx ky kz gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi lb"><img src="../Images/96f06f416e101bb8f737073606d95172.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TprHSeXFwVLirJ-xQFz4RQ.png"/></div></div></figure><p id="81e9" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">当我按下空格键时，这些球会变成蓝色！</p><figure class="kw kx ky kz gt iv gh gi paragraph-image"><div class="gh gi md"><img src="../Images/bc71141ec9e9a9b0d1a22a9a05a3e938.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/1*ukcp6v6Q4qlEATscPLxQuQ.gif"/></div></figure><p id="fcbb" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">我被要求将这个<strong class="jz jb"> foreach </strong>循环转换成循环的<strong class="jz jb">。我决定通过添加一个<strong class="jz jb">颜色数组</strong>来进一步挑战自己，当我按下空格键时，它将随机改变球体的颜色。I <strong class="jz jb">硬编码</strong>一些颜色值到颜色数组中。当按下<strong class="jz jb">空格键</strong>时，我使用一个局部变量<strong class="jz jb"> randomColor </strong>在<strong class="jz jb">零</strong> <em class="lg"> (min) </em>和<strong class="jz jb">数组</strong> <em class="lg"> (max)中的<strong class="jz jb">颜色数量</strong>之间随机化一个数值。</em></strong></p><figure class="kw kx ky kz gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi me"><img src="../Images/ba24cd8ec72c617d697b502912242d07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FjodwB7wwlIFPCDiYXb0mw.png"/></div></div></figure><p id="a08a" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">正如这里所看到的，每当我按下空格键时，球体会变成随机的颜色。</p><figure class="kw kx ky kz gt iv gh gi paragraph-image"><div class="gh gi ir"><img src="../Images/ef3687e932ac49f33ca886c3c520f7e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/1*KbeL0Aiu7mPJZQXnVT6Tiw.gif"/></div></figure><p id="a9de" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">我该如何让每个球都变成随机的颜色呢？嗯，都是操作顺序的问题。我将<strong class="jz jb"> randomColor int变量</strong>移动到循环的<strong class="jz jb">中，这样在循环运行时它也会被调用来改变每个球体的颜色。</strong></p><figure class="kw kx ky kz gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi me"><img src="../Images/f65db487cda5c05832420a3530be87e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BhWq9pqUQrD2Rr_Q1p2ZdQ.png"/></div></div></figure><p id="73a2" class="pw-post-body-paragraph jx jy ja jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">这是一个随机变色球体的样本！</p><figure class="kw kx ky kz gt iv gh gi paragraph-image"><div class="gh gi ir"><img src="../Images/e032ae83f718117b37e1ba2fa505626f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/1*2pMfTWLwr2wd6RuRitL2YQ.gif"/></div></figure></div></div>    
</body>
</html>