<html>
<head>
<title>A Completely Self-sufficient Angular Button that Can Hide Any Parent</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一个完全独立的角形按钮，可以隐藏任何父按钮</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/a-completely-self-sufficient-angular-button-that-can-hide-any-parent-7066770c567a?source=collection_archive---------8-----------------------#2020-03-04">https://levelup.gitconnected.com/a-completely-self-sufficient-angular-button-that-can-hide-any-parent-7066770c567a?source=collection_archive---------8-----------------------#2020-03-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6209" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">庆祝独立</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/061bcdae9510edf257b5675b9e5cec37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*T2o6nHdEKjD0GEDwgDNvRw.png"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk translated">图片来源:Freepik</figcaption></figure><p id="c45b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Angular最有趣的事情之一——是的，我说有趣<em class="lq">和</em>我不是在讽刺——是想出了创建完全模块化的组件的方法，并且可以以即插即用的态度执行功能。例如，我创建了一个按钮，只需将它的组件包含在您要隐藏的组件中，就可以隐藏任何父组件。</p><h1 id="f4fe" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">从通用按钮组件开始</h1><p id="c566" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">每一个好的组件的核心都是绝对最低限度的基础。如果您想要利用模块化方法，请确保您使用的构建块足够灵活，能够在其上进行构建，并且是松散耦合的，这样它们就不会在以后变得受限。换句话说，您希望构建可以自信地更改的组件，因为您知道这些更改将被隔离，不会引起意外的连锁反应。</p><p id="2d14" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">第一步是创建一个按钮组件，它将成为所有其他按钮的基础。例如，下面是我用于我的博客网站的<a class="ae mo" href="https://cloudengineering.studio/articles" rel="noopener ugc nofollow" target="_blank">的基本按钮组件。它给开发者一个选项来为按钮添加他们想要的任何内容，如<code class="fe mp mq mr ms b">&lt;ng-content&gt;</code>所示。</a></p><p id="b312" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">button.component.html</strong></p><pre class="kj kk kl km gt mt ms mu mv aw mw bi"><span id="6935" class="mx ls it ms b gy my mz l na nb">&lt;button [ngClass]="class" [disabled]="disabled"&gt;<br/>  &lt;ng-content&gt;&lt;/ng-content&gt;<br/>&lt;/button&gt;</span></pre><h1 id="492f" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">向按钮添加CSS</h1><p id="5296" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated"><strong class="kw iu"> button.component.scss </strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="68f7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">开发人员可以通过将disabled属性设置为true来禁用按钮。我添加了CSS使禁用按钮的不透明度为0.25，这样它看起来也是禁用的。</p><p id="fd60" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我没有为悬停状态硬编码颜色，而是设置了一个过滤器，使亮度为125%，这样它就可以应用于任何按钮，不管它是什么颜色。我还添加了光标，以便在悬停时变成手形，或者更准确地说是指针，因为这不是默认行为。</p><p id="7c7f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">开发人员也可以选择没有边框或填充。</p><p id="f086" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> button.component.ts </strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nc nd l"/></div></figure><h1 id="1897" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">创建可以隐藏其父级的按钮</h1><p id="ccd3" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">我为用户添加了输入来传递标签，如果需要的话可以选择默认图标。如果开发人员想要使用应用于按钮的样式，例如字体大小、填充、图标大小等，这是很有用的。</p><p id="d45a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">button-hide-parent.component.html</strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="43e9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">按钮-隐藏-parent.component.ts </strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="d4f4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">通过创建一个<a class="ae mo" href="https://angular.io/api/core/ElementRef" rel="noopener ugc nofollow" target="_blank"> ElementRef </a>的实例，我可以很容易地获得对组件的引用，从而获得组件的父组件，而不必查询DOM。通过使用<a class="ae mo" href="https://angular.io/api/core/Renderer2" rel="noopener ugc nofollow" target="_blank">渲染器2 </a>，我能够安全地定位父组件并应用样式<code class="fe mp mq mr ms b">display:none</code>。</p><p id="fb31" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我还添加了一个EventEmitter 以防父母需要知道父母被隐藏了。</p><h1 id="5a5b" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">使用新建按钮</h1><p id="9f66" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">要使用new按钮，请在HTML模板中包含您想要隐藏的组件的选择器。不需要额外的代码来使它工作。</p><p id="c790" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">注意:</strong>你可以在按钮上指定另一个click事件处理程序，以防你想在父的typescript文件中添加另一个函数。通过这样做，单击按钮将调用子方法和父方法。</p></div></div>    
</body>
</html>