<html>
<head>
<title>Setup Redux for Large React Projects — without Tears</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为大型React项目设置Redux没有眼泪</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/setup-redux-for-large-react-projects-without-tears-ca59e81df171?source=collection_archive---------21-----------------------#2021-02-23">https://levelup.gitconnected.com/setup-redux-for-large-react-projects-without-tears-ca59e81df171?source=collection_archive---------21-----------------------#2021-02-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/5432f9394fee9147508932ef539f5971.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*08xX668JuoIskJD1Il34Xg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由Elevate在Unsplash上拍摄</figcaption></figure><p id="ac07" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">对于小型React项目，在React组件之间传递道具很酷，从北极到南极😃。随着复杂性的增加，我们传递更多的props，并可能加入React上下文来管理嵌套兄弟组件之间的一些状态数据。</p><p id="9a89" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">随着项目的增长，对适当的状态管理工具的需求变得不可避免。这是React项目中像Redux这样的工具的最佳选择。然而，设置Redux被认为是非常困难的，因为需要大量的样板文件。</p><p id="dead" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在本帖中，我们将建立一个适合大型项目的redux商店，而不流眼泪。这篇文章的范围不包括为异步操作设置Thunk中间件或持久存储。</p><p id="2114" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们将主要关注商店创建、项目组合、实体可重用性和可管理性。在React项目中使用Redux的开发人员非常担心代码库与状态变量增加的卷积。</p><p id="bbcd" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">Redux是什么？<br/>快速导演剪辑给那些不熟悉Redux的人。Redux是JavaScript应用程序的健壮状态容器。窥视横幅图像中的桶。就像他们可能在你的地窖里装酒一样，Redux在你的JavaScript应用程序中为应用程序数据创建了一个盒子。</p><p id="e4b1" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">Redux创建应用程序数据存储，并提供检索和修改存储数据的逻辑。想知道状态管理是如何在最低限度下工作的吗？我用HTML和JavaScript写了<a class="ae la" href="https://hackmamba.io/blog/2020/09/explaining-web-apps-state-management-like-abc/" rel="noopener ugc nofollow" target="_blank">这篇文章。</a></p><p id="9846" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">有了像React-Redux这样的配套工具，React应用中的状态管理变得无缝。随着状态从组件提升到应用层，前端应用程序的交互性变得几乎没有限制。</p><h1 id="a13b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">先决条件</h1><p id="e97e" class="pw-post-body-paragraph kc kd iq ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">这篇文章需要JavaScript和React.js的知识。我们将使用来自应用程序状态的数据在CodeSandbox上创建一个简单的计数器应用程序。</p><h1 id="354d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">创建React项目</h1><p id="5ccc" class="pw-post-body-paragraph kc kd iq ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">使用React starter by CodeSandBox创建一个新的CodeSandbox。你可以在这里找到这篇文章的最终代码。</p><p id="cfd6" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">创建的项目带有样板代码，app入口点在<code class="fe me mf mg mh b">src/index.js </code>中，主页在<code class="fe me mf mg mh b">src/App.js</code>中。基本的CSS样式是用<code class="fe me mf mg mh b">src/styles.css</code>写的。</p><p id="33af" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在<code class="fe me mf mg mh b">App.js</code>中用2个按钮和一个计数器显示创建计数器应用程序的基本HTML结构。将文件修改为:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9ea7" class="mq lc iq mh b gy mr ms l mt mu">import React from "react";<br/>import "./styles.css";<br/><br/>export default function App() {<br/>  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;h1&gt;Hello CodeSandbox&lt;/h1&gt;<br/>      &lt;h2&gt;Start editing to see some magic happen!&lt;/h2&gt;<br/>      &lt;h2&gt;Counter is 0&lt;/h2&gt;<br/>      &lt;button&gt;Increment&lt;/button&gt;<br/>      &lt;button&gt;Decrement&lt;/button&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="cc26" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">按钮当前处于非活动状态，并且<em class="mv"> h2 </em>中的计数器显示没有交互作用。</p><h1 id="05fa" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">安装依赖项</h1><p id="312c" class="pw-post-body-paragraph kc kd iq ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">我们的最低封装要求是<code class="fe me mf mg mh b">redux</code>、<code class="fe me mf mg mh b">react-redux</code>和<code class="fe me mf mg mh b">redux-actions</code>。Redux-actions用于灵活地创建动作。</p><p id="5b99" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">使用资源管理器的“依赖项”部分在CodeSandbox中添加这些依赖项。一旦安装了模块，项目就会自动重新加载。</p><h1 id="56df" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">设置文件结构</h1><p id="b468" class="pw-post-body-paragraph kc kd iq ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">为大型项目设置Redux的很大一部分是在文件结构中。该结构应该考虑到易维护性，并考虑到在具有多个独立特性的项目中关注点的分离。</p><p id="2418" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">对于此设置，我们将进行以下设置考虑:</p><ul class=""><li id="61c6" class="mw mx iq ke b kf kg kj kk kn my kr mz kv na kz nb nc nd ne bi translated">每个应用程序特性/部分将在一个文件夹中保存其Redux设置</li><li id="84fb" class="mw mx iq ke b kf nf kj ng kn nh kr ni kv nj kz nb nc nd ne bi translated">每个文件夹都有自己的“功能”缩减器。</li><li id="faee" class="mw mx iq ke b kf nf kj ng kn nh kr ni kv nj kz nb nc nd ne bi translated">文件夹中的每个文件都代表一个特定的动作及其缩减器。</li><li id="7a0e" class="mw mx iq ke b kf nf kj ng kn nh kr ni kv nj kz nb nc nd ne bi translated">单个文件将保存应用程序的缩减器</li><li id="974f" class="mw mx iq ke b kf nf kj ng kn nh kr ni kv nj kz nb nc nd ne bi translated">一个文件将包含商店设置。</li></ul><p id="c61d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">还是复杂？让我们创建文件夹来保存“计数器”功能的设置。</p><p id="9bf8" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在<code class="fe me mf mg mh b">src</code>中，新建一个名为<code class="fe me mf mg mh b">redux</code>的文件夹。在<code class="fe me mf mg mh b">src/redux</code>中，创建两个名为<code class="fe me mf mg mh b">store.js</code>和<code class="fe me mf mg mh b">reducer.js</code>的文件。继续为<code class="fe me mf mg mh b">src/redux</code>中名为<code class="fe me mf mg mh b">counter.js</code>的特征创建一个文件夹。</p><p id="299b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">最终的项目结构如下所示:</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/aa50a760dd66bc4bb889632e592034ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1308/format:webp/1*7l3Tbf5CKHrxSXpzvxvXjA.png"/></div></figure><p id="62b0" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">注意</strong>:这个文件结构的一个重要部分是可重用性。在大多数情况下，我们将利用命名导出来确保我们将函数放在同一个上下文中。</p><p id="8932" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">Redux的基础在于3个实体——常量、动作和Reducers。你可能以前听过这些，把它们放到显微镜下:</p><ul class=""><li id="bc98" class="mw mx iq ke b kf kg kj kk kn my kr mz kv na kz nb nc nd ne bi translated">常量(类型)是每个动作的<strong class="ke ir">唯一标识符，它们包含在动作对象中。</strong></li><li id="93b4" class="mw mx iq ke b kf nf kj ng kn nh kr ni kv nj kz nb nc nd ne bi translated">动作<strong class="ke ir">指定需要修改状态的哪一部分</strong>。动作定义是将数据作为参数并返回一个对象的函数，该对象包含动作的常数和所提供的数据(有效载荷)(如果需要和定义的话)。</li><li id="a476" class="mw mx iq ke b kf nf kj ng kn nh kr ni kv nj kz nb nc nd ne bi translated">减速器定义了<strong class="ke ir">状态如何被修改</strong>。Reducers是采用旧状态和动作，然后指定要在该状态上执行的操作的函数。</li></ul><p id="d092" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">每个特征文件夹将保存特征上各种动作和缩减器的文件，所有单个缩减器合并成一个“特征缩减器”。每个文件将包含一个导出的常数、动作和缩减器。让我们开始吧！</p><h1 id="9068" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">创建常数、动作和缩减器</h1><p id="d61b" class="pw-post-body-paragraph kc kd iq ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">在<code class="fe me mf mg mh b">redux/counter</code>中创建三个名为<code class="fe me mf mg mh b">increment-counter-action.js</code>、<code class="fe me mf mg mh b">decrement-counter-action.js</code>和<code class="fe me mf mg mh b">index.js</code>的文件。Index.js是特征缩减器的入口点。</p><blockquote class="nl nm nn"><p id="c0b8" class="kc kd mv ke b kf kg kh ki kj kk kl km no ko kp kq np ks kt ku nq kw kx ky kz ij bi translated"><em class="iq">在一个电子商务项目中，一个特征文件夹可以是“目录”，文件可以是</em> <code class="fe me mf mg mh b"><em class="iq">setProductList.js</em></code> <em class="iq">、</em> <code class="fe me mf mg mh b"><em class="iq">setSearchQuery</em></code> <em class="iq">、</em> <code class="fe me mf mg mh b"><em class="iq">setFavoriteProduct</em></code> <em class="iq">。</em></p></blockquote><p id="c7fe" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在<code class="fe me mf mg mh b">increment-counter-action.js</code>中，我们将使用以下内容创建常量、动作和减速器:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="2887" class="mq lc iq mh b gy mr ms l mt mu">import { createAction } from "redux-actions";<br/><br/>// create constant<br/>export const IncrementCounterRdxConst = "Counter/IncrementCounter";<br/><br/>// create action<br/>export const IncrementCounterAction = createAction(<br/>  IncrementCounterRdxConst,<br/>  (payload) =&gt; payload<br/>);<br/><br/>// create reducer<br/>export const IncrementCounterReducer = (state, action) =&gt; {<br/>  return state + 1;<br/>};</span></pre><p id="3920" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们使用<code class="fe me mf mg mh b">createAction</code>函数创建一个具有指定常量和定义有效负载的action对象。有效负载是一个可选参数。注意到常数和动作的分离了吗？这些文件也可以单独导出，供文件外使用。此操作的缩减器只是将当前状态值增加1。</p><p id="7abf" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">对decrement-counter-action.js文件重复类似的操作。</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="d308" class="mq lc iq mh b gy mr ms l mt mu">import { createAction } from "redux-actions";<br/><br/>export const DecrementCounterRdxConst = "Counter/DecrementCounter";<br/><br/>// create action<br/>export const DecrementCounterAction = createAction(DecrementCounterRdxConst);<br/><br/>// Create reducer<br/>export const DecrementCounterReducer = (state, action) =&gt; {<br/>  return state - 1;<br/>};</span></pre><h1 id="6f02" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">创建要素缩减器</h1><p id="d9a2" class="pw-post-body-paragraph kc kd iq ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">接下来，我们需要为该特性创建一个缩减器，它在传播的操作常量上使用一个switch语句来返回一个特定的缩减器。</p><p id="d1a7" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在<code class="fe me mf mg mh b">src/redux/counter/index.js</code>中，我们有:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="877f" class="mq lc iq mh b gy mr ms l mt mu">import {<br/>  DecrementCounterReducer,<br/>  DecrementCounterRdxConst<br/>} from "./decrement-counter-action";<br/>import {<br/>  IncrementCounterReducer,<br/>  IncrementCounterRdxConst<br/>} from "./increment-counter-action";<br/><br/>export const counterReducer = (state = 0, action) =&gt; {<br/>  switch (action.type) {<br/>    case IncrementCounterRdxConst:<br/>      return IncrementCounterReducer(state, action);<br/>    case DecrementCounterRdxConst:<br/>      return DecrementCounterReducer(state, action);<br/>    default:<br/>      return state;<br/>  }<br/>};</span></pre><p id="c61f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们简单地创建了一个reducer函数，它根据所提供的动作返回任何已创建的reducer。注意导入常量和缩减器的灵活性吗？在新冠肺炎封锁期间，一切都像高速公路一样清晰明了！😁</p><p id="77ed" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">向<code class="fe me mf mg mh b">counterReducer</code>传递初始状态值，在本例中为0。你可以定义初始状态值；然而，它符合您的使用情况。</p><p id="5240" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">对于一个新的动作，我们只需在这里添加一个新的case，从一个文件中导入常量和reducer。</p><p id="6be4" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在我们已经完成了特征归约器，我们需要将它和其他特征归约器一起添加到根归约器中。</p><h1 id="b46d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">创建一个根缩减器</h1><p id="4292" class="pw-post-body-paragraph kc kd iq ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">在较大的项目中，有多个特性或范围状态属于应用程序的不同部分。每个都有一个文件夹和一个特征缩减器设置。在<code class="fe me mf mg mh b">src/redux/reducer.js</code>中，我们将所有的特征归约器组合成一个根归约器。使用以下工具执行此操作:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="cf52" class="mq lc iq mh b gy mr ms l mt mu">import { combineReducers } from "redux";<br/>import { counterReducer } from "./counter";<br/><br/>export const rootReducer = combineReducers({<br/>  counter: counterReducer<br/>  // other feature reducers come in here<br/>});</span></pre><p id="2e7b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><code class="fe me mf mg mh b">combineReducers</code>功能将所有减速器合并成一个根减速器。这是您的应用程序的状态定义。即<code class="fe me mf mg mh b">state.counter</code>返回计数器状态的数据。根据您的状态数据结构，您可以有多个嵌套值并相应地访问它们。</p><h1 id="5ace" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">创建商店</h1><p id="37a1" class="pw-post-body-paragraph kc kd iq ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">随着操作和reducers的设置，我们将创建商店。在<code class="fe me mf mg mh b">src/redux/store.js</code>创建一个商店，包括:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="6796" class="mq lc iq mh b gy mr ms l mt mu">import { rootReducer } from "./reducer";<br/>import { createStore } from "redux";<br/><br/>export const appStore = createStore(rootReducer);</span></pre><p id="d43a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">你可能想知道为什么额外的文件只是为了创建一个商店。在较大的项目中，其他redux设置放在这里。这包括设置中间件和向商店添加持久存储。对于这个项目，我们将只创建商店。</p><p id="bd38" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><code class="fe me mf mg mh b">react-redux</code>有一个<code class="fe me mf mg mh b">Provider</code>组件，我们将用它来包装我们的根元素。这为应用程序提供了存储。将<code class="fe me mf mg mh b">src/index.js </code>修改为:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="c2bb" class="mq lc iq mh b gy mr ms l mt mu">import React from "react";<br/>import ReactDOM from "react-dom";<br/>import {Provider} from 'react-redux'<br/>import {appStore} from './redux/store'<br/><br/>import App from "./App";<br/><br/>const rootElement = document.getElementById("root");<br/>ReactDOM.render(<br/>  &lt;Provider store={appStore}&gt;<br/>  &lt;React.StrictMode&gt;<br/>    &lt;App /&gt;<br/>  &lt;/React.StrictMode&gt;<br/>  &lt;/Provider&gt;,<br/>  rootElement<br/>);</span></pre><p id="72d6" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们把所有的app都用<code class="fe me mf mg mh b">Provider</code>包装起来，传递给它进口店的道具。</p><h1 id="71e8" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">消费状态</h1><p id="d11d" class="pw-post-body-paragraph kc kd iq ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">如果您已经做到了这一步，那么您已经安装了redux，并且可以利用应用程序状态的数据。</p><p id="531c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><code class="fe me mf mg mh b">react-redux</code>提供了两个非常有用的钩子来存储和检索redux中的数据。它们是<code class="fe me mf mg mh b">useSelector</code>和<code class="fe me mf mg mh b">useDispatch</code>，分别用来检索数据和调度动作。我们将修改<code class="fe me mf mg mh b">src/App.js</code>来利用这些钩子使计数器交互。使用以下工具执行此操作:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="312e" class="mq lc iq mh b gy mr ms l mt mu">import React from "react";<br/>import "./styles.css";<br/>import { useSelector, useDispatch } from "react-redux";<br/>import { IncrementCounterAction } from "./redux/counter/increment-counter-action";<br/>import { DecrementCounterAction } from "./redux/counter/decrement-counter-action";<br/><br/>export default function App() {<br/>  const counter = useSelector((state) =&gt; state.counter);<br/>  const dispatch = useDispatch();<br/><br/>  const _handleIncrement = () =&gt; {<br/>    dispatch(IncrementCounterAction());<br/>  };<br/><br/>  const _handleDecrement = () =&gt; {<br/>    dispatch(DecrementCounterAction());<br/>  };<br/><br/>  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;h1&gt;Hello CodeSandbox&lt;/h1&gt;<br/>      &lt;h2&gt;Start editing to see some magic happen!&lt;/h2&gt;<br/>      &lt;h2&gt;Counter is {counter}&lt;/h2&gt;<br/>      &lt;button onClick={_handleIncrement}&gt;Increment&lt;/button&gt;<br/>      &lt;button onClick={_handleDecrement}&gt;Decrement&lt;/button&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="9b7b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这里，我们导入了将在递增和递减时调度的动作。我们创建了两个函数来处理分派。<code class="fe me mf mg mh b">counter </code>数据也从初始值为0的redux状态中检索。在有有效载荷的情况下，它作为参数传递给动作调用。</p><p id="fe31" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">递增和递减函数被传递给按钮的<code class="fe me mf mg mh b">onClick</code>处理程序，以分别递增和递减计数器变量。</p><p id="0a59" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">你可以测试一下按钮。</p><p id="9121" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在看起来是这样的:</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nr"><img src="../Images/5acf8c509de3f3ee42007dea02d51b80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FozoNjraaT8ssQDJ6njkGA.png"/></div></div></figure><p id="5904" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">你可以在这里找到<a class="ae la" href="https://codesandbox.io/s/redux-boilerplate-2h87u" rel="noopener ugc nofollow" target="_blank"> CodeSandbox演示。</a></p><h1 id="2361" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">摘要</h1><p id="2496" class="pw-post-body-paragraph kc kd iq ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">在这篇文章中，我们建立了一个包含常量、缩减器和动作的redux存储。存储数据在计数器应用中使用。</p><p id="a037" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这篇文章的一个关键要点是redux商店的设置和关注点的分离。这确保了当应用程序规模增加和状态变量增多时，设置新的动作和减少器是无缝的。此外，代码库是可维护的。</p><p id="9bac" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">为了变得更好，戴上面具，现在。😃</p><p id="a623" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">威廉。</p><p id="4fa6" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">本文原载于<a class="ae la" href="https://hackmamba.io/blog/2020/12/setup-redux-for-large-react-projects-without-tears/" rel="noopener ugc nofollow" target="_blank"> Hackmamba </a>。</p></div></div>    
</body>
</html>