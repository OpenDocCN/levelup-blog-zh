<html>
<head>
<title>Traits of a good accessible iOS app</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一个好的可访问的iOS应用程序的特征</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/traits-of-a-good-accessible-ios-app-25266ee08fb9?source=collection_archive---------1-----------------------#2021-01-14">https://levelup.gitconnected.com/traits-of-a-good-accessible-ios-app-25266ee08fb9?source=collection_archive---------1-----------------------#2021-01-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="f926" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您可能知道可以用可访问性标签来配置UI组件。可访问性标签是组件的名称。您还可以配置一个可访问性特征。可访问性特征是组件的角色，它为用户提供了如何与组件交互的信息。使用VoiceOver时，特征通常在可访问性标签后发声。</p><p id="4e57" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">应用程序中的每个UI控件都有一个accessibilityTraits属性(这是UIAccessibility协议的一部分)。在底层，它是一个位掩码，定义了哪些不同的可访问性特征可以更好地描述UI组件。请原谅，这比听起来容易。</p><p id="a178" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在写这篇文章的时候，有17种不同的特性可以用来定义你的UI控件。按钮、选中、未启用、可调整…都是一些例子。你可以在苹果的文档中找到完整的列表。但有时，在文档中理解这些特征的真正含义，或者它们如何影响用户体验可能并不简单，所以我认为写一些关于它们的内容是个好主意。</p><p id="52ea" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您可以组合这些特征中的一个以上来定义单个组件。为了方便在Swift中操作可访问性特征，该属性符合OptionalSet协议，该协议符合SetAlgebra one。这意味着您可以使用像插入和移除这样的操作来更改定义组件的特征。</p><p id="4989" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这可能很容易理解为什么你会插入或添加一个特征。但是去掉它们呢？你为什么要这么做？我们将看到一个带有“选择”特征的例子。</p><p id="6548" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在我们开始之前，我认为这是一个很好的时机来提及，如果您使用UIKit组件，很多时候事情将会正常工作，不需要配置额外的可访问性特征。所以请尽可能地依赖原生UI组件。</p><h1 id="f331" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated"><strong class="ak">按钮</strong></h1><p id="2f12" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">它让用户知道，当组件拥有VoiceOver的焦点时，他们可以通过在屏幕上的任何地方双击来与它进行交互。它还告诉交换机控制它是一个交互组件。一个<em class="ls"> UIButton </em>在默认情况下具有按钮特征，那么你为什么需要给一个控件赋予按钮特征呢？</p><p id="44d0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">按钮特性经常被忽略的一个最常见的例子是表/集合视图中的一些单元格。很多时候，单元格是触发一个动作的“按钮”，比如播放一些音乐，或将用户带到应用程序中的另一个屏幕。</p><figure class="lt lu lv lw gt lx"><div class="bz fp l di"><div class="ly lz l"/></div><figcaption class="ma mb gj gh gi mc md bd b be z dk translated">插入按钮可访问性特征。</figcaption></figure><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi me"><img src="../Images/a8e61bb8c1e13bd17c9d847d2f3915ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MnEhyCBxFYP5g9S5RMZzXg.png"/></div></div><figcaption class="ma mb gj gh gi mc md bd b be z dk translated">左图:带有按钮特征的集合视图单元格。右图:具有按钮特征的表格视图单元格。</figcaption></figure><p id="956e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是，如果单元格具有公开指示器附件类型，则不需要添加按钮特征。那样的话，iOS会为你添加特质…魔法！</p><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi ml"><img src="../Images/6837baf16cfd7431e113afbfaa49a827.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vfJ4_O6SxLYOOCytsnptPA.png"/></div></div><figcaption class="ma mb gj gh gi mc md bd b be z dk translated">具有公开指示器附件类型的单元格不需要可访问性按钮特征。</figcaption></figure><p id="c12e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">也有一些应用程序从普通UIViews创建自定义按钮组件。他们这样做的一个原因是给按钮添加动画，当它被点击时。</p><h1 id="8ba4" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated"><strong class="ak">表头</strong></h1><p id="28ab" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">可能是最重要的一个，因为它经常帮助用户以更直观和更快的方式导航应用程序。</p><p id="075d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">从视觉上看，标题有助于快速识别信息组，这样我们就可以快速跳转到我们感兴趣的内容。VoiceOver用户也可以这样做。通过使用转子，只需在屏幕上向下/向上轻扫一下，您就可以浏览标题并直接跳到屏幕上的下一个/上一个标题。</p><p id="c1e4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">若要启用转子，当VoiceOver打开时，在屏幕上旋转两个手指，就像试图转动一个看不见的旋钮一样。转子将出现在屏幕上，让您在许多导航模式和定制之间进行选择。</p><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi mm"><img src="../Images/413337cfe344e4f158d7059de4936eba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9JbA4mQksvgnfOQHuokHjA.png"/></div></div><figcaption class="ma mb gj gh gi mc md bd b be z dk translated">使用转子实现航向导航</figcaption></figure><p id="0b00" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">假设您正在使用VoiceOver浏览图片中显示的屏幕。有一个话题云，标题写着“播客”，上面有11个条目。下一个话题云是给艺人的。如果没有配置标题，用户必须向右轻击12次才能找到艺术家。通过配置标题，用户只需向下滑动一下就可以到达那里。</p><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi mn"><img src="../Images/d8dceba4db659dc32088df7551a1dea2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TJiMDGn-7jysCD3jtC8vLw.png"/></div></div><figcaption class="ma mb gj gh gi mc md bd b be z dk translated">浏览标题需要一次滑动，从播客标题到艺术家标题。否则用户需要向右滑动12次才能到达那里。</figcaption></figure><p id="19ad" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了让用户浏览你的应用程序中的标题，你所要做的就是插入<em class="ls">。header </em> trait应用程序中代表标题的任何标签或视图。这就是我所说的速战速决！</p><h1 id="c928" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated"><strong class="ak">链接</strong></h1><p id="d036" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">这一点可能有点令人困惑，特别是如果你来自web开发世界，在那里按钮和链接之间有明显的区别，这似乎并不总是适用于iOS应用程序。按钮特性通常是为触发某个动作而配置的，但也是为把用户带到应用程序中其他地方而配置的。链接特征通常适用于打开一些网页内容的东西，它通常出现在内容中，并由带下划线的文本表示。</p><h1 id="3ec3" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated"><strong class="ak">搜索字段</strong></h1><p id="42a8" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">它不同于文本域，因为它不仅让用户知道他们可以输入一些文本，而且它可能会触发一些变化，在他们输入时显示新的结果。</p><h1 id="6788" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated"><strong class="ak">可调</strong></h1><p id="a4d0" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">对于可以改变它们所保存的值的UI组件。一个很好的例子是一个评级UI组件，它的值可以调整为1个拇指向上，2个拇指向上… 5个拇指向上。它有时也用在旋转木马上，所以你可以上下滑动来选择旋转木马上的一个项目，向右滑动来跳到屏幕上的下一个元素。大多数时候，我认为旋转木马有标题是一个更好的解决方案。在<a class="ae ko" href="https://medium.com/bbc-design-engineering" rel="noopener"> BBC的设计&amp;工程媒体刊物</a>上有一篇关于这个话题的很好的<a class="ae ko" href="https://medium.com/bbc-design-engineering/adding-voiceover-to-carousel-components-3c5e2607fe84" rel="noopener">博文</a>，作者<a class="mo mp ep" href="https://medium.com/u/74bbba8c3765?source=post_page-----25266ee08fb9--------------------------------" rel="noopener" target="_blank">汉娜·比林斯利-达德</a>。</p><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi mq"><img src="../Images/965b01d157f8225b150030ba15ddaee9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wh7U9-vro-7XaqPOnRUf6g.png"/></div></div><figcaption class="ma mb gj gh gi mc md bd b be z dk translated">自定义评级UI组件的示例。从1个拇指向上到5个拇指向上。</figcaption></figure><p id="a346" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">可调也有点特殊，因为仅仅配置特质可能还不够。要使它正常工作，还需要一个额外的步骤，您需要覆盖并实现<em class="ls"> accessibilityIncrement() </em>和<em class="ls"> accessibilityDecrement() </em>函数，以指定当用户通过向上/向下滑动来增加/减少组件的值而与组件交互时的行为。</p><figure class="lt lu lv lw gt lx"><div class="bz fp l di"><div class="ly lz l"/></div><figcaption class="ma mb gj gh gi mc md bd b be z dk translated">您可以通过向上或向下滑动来指定值需要增加或减少的量。</figcaption></figure><p id="0bb5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="ls"> UISliders </em>默认情况下是可调的，但是您可以使用<em class="ls">accessibilityIncrement()</em>和<em class="ls">accessibilityDecrement()</em>来指定滑块的值应该增加或减少多少。想象一个从0到1000的滑块。你可能不想把它递增1，100乘以100可能更合理。</p><h1 id="c621" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated"><strong class="ak">选中</strong></h1><p id="ab2e" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">有些元素可以选择，也可以不选择。例如，表格视图中的单元格有可能被选中。在这些情况下，您可以使用selected trait让用户知道该元素已被选中。它通常用于充当开关的按钮，可以有开或关的状态。</p><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi mr"><img src="../Images/4d30516386de2bb6c784e024f2ff750d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J612t408JO11RK5sIqbewQ.png"/></div></div><figcaption class="ma mb gj gh gi mc md bd b be z dk translated">like按钮具有按钮特性。当它被选中时，我们还会将选中的特征添加到它的可访问性特征中。</figcaption></figure><p id="ea4d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是记住，如果它没有被选中，你也需要删除选中的特征。</p><figure class="lt lu lv lw gt lx"><div class="bz fp l di"><div class="ly lz l"/></div></figure><h1 id="e808" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated"><strong class="ak">频繁更新</strong></h1><p id="0a18" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">这对于更改标签或值的视图很有用，并且您希望在焦点在组件上时更新用户。我认为下载进度条就是一个很好的例子。如果没有这种特性，用户在登陆时只会听到组件的价值。有了这个特征，可访问性特征会不时地轮询更新，并向用户通告任何变化。</p><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi ms"><img src="../Images/3ec581d9a5c119cab8e7843a577eff2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_SjnC6EBVYVxoBxHwcdP0Q.png"/></div></div><figcaption class="ma mb gj gh gi mc md bd b be z dk translated">下载进度条的示例，该进度条通过。更新频繁可访问性特征。</figcaption></figure><h1 id="9a7a" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated"><strong class="ak">无</strong></h1><p id="ac46" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">不是很有趣，只是对重置组件的可访问性特征有用。</p><figure class="lt lu lv lw gt lx"><div class="bz fp l di"><div class="ly lz l"/></div><figcaption class="ma mb gj gh gi mc md bd b be z dk translated">重置视图的可访问性特征。</figcaption></figure><h1 id="8aa5" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">还有更多！</h1><p id="a092" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated"><strong class="js iu">未启用</strong>:它使VoiceOver在辅助功能标签后说“变暗”，指示用户该组件已被禁用，他们目前不能与之交互。</p><p id="5c80" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">开始媒体会话</strong>:如果一个按钮的目的是开始播放一些音乐或视频，这个特性会导致你一与它互动，VoiceOver通知就会停止。<strong class="js iu">播放声音</strong>产生类似的效果。</p><p id="3ded" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">键盘键</strong>:可用于自定义键盘键，如仅包含数字的自定义pin键盘。虽然它阻止VoiceOver说出button，所以可能不太理想。</p><p id="e0cc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">允许直接交互</strong>:如果您有一个控制不适合VoiceOver的手势，您可以允许用户直接与之交互。我想这类似于当用户启用直接触摸输入模式时发生的事情。在这种情况下，触摸键盘中的一个键会导致该键被激活，而不是需要首先选择它，然后双击它。</p><h1 id="50a4" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated"><strong class="ak">面向界面构建爱好者</strong></h1><p id="e01d" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">如果您使用界面构建器来构建应用程序的UI，您可以配置辅助功能特征，就像“身份”检查器中的许多其他辅助功能属性一样。</p><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/024146a07b1a592f41c074ef49d6ddcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:522/format:webp/1*2xRyj3OuYpse0kx0_EV4xQ.png"/></div><figcaption class="ma mb gj gh gi mc md bd b be z dk translated">界面构建器中的辅助功能配置</figcaption></figure><h1 id="3c72" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated"><strong class="ak">一言为定！</strong></h1><p id="d6bd" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">我希望这有所帮助，并且你已经在这篇文章中确定了你的应用程序中的一些UI控件，它们可能是配置这些特性的很好的候选。我想听听你的意见。你愿意分享你的应用中的例子吗？你认为我错过了什么重要的事情吗？这篇文章中有什么你不知道并且现在可能开始使用的可访问性特征吗？你可以在Medium post中写下你的评论/问题/反馈，或者在Twitter上用<a class="ae ko" href="https://twitter.com/dadederk" rel="noopener ugc nofollow" target="_blank"> @dadederk </a>联系我。感谢阅读！</p><p id="45a8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果您已经是使用SwiftUI的幸运者之一，那么您通常拥有等同的属性和修饰符来添加和删除元素的特征。要了解更多，我完全推荐<a class="ae ko" href="https://medium.com/flawless-app-stories/swiftui-accessibility-traits-5fee4b56c272" rel="noopener">罗布·惠特克</a>的这篇博文。</p><h1 id="863a" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">资源</h1><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi mu"><img src="../Images/57a3fdaecf06f17b90ac5cd8eafa2654.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*17XQYdV_G298yPy8.png"/></div></div><figcaption class="ma mb gj gh gi mc md bd b be z dk translated"><a class="ae ko" href="https://www.apress.com/gp/book/9781484253076" rel="noopener ugc nofollow" target="_blank">开发可访问的iOS应用</a>作者<a class="ae ko" href="https://twitter.com/dadederk" rel="noopener ugc nofollow" target="_blank">丹尼尔·德弗萨·德克森-斯塔茨</a></figcaption></figure><p id="8955" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你可以在我的书《开发可访问的iOS应用》中找到所有这些技巧，还有更多。</p><p id="0799" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">有以下版本可供选择:</p><ul class=""><li id="8d4f" class="mv mw it js b jt ju jx jy kb mx kf my kj mz kn na nb nc nd bi translated">亚马逊:【https://amzn.to/2PDr9cs T4】</li><li id="4a83" class="mv mw it js b jt ne jx nf kb ng kf nh kj ni kn na nb nc nd bi translated">学徒:<a class="ae ko" href="https://www.apress.com/gp/book/9781484253076" rel="noopener ugc nofollow" target="_blank">https://www.apress.com/gp/book/9781484253076</a></li><li id="f30b" class="mv mw it js b jt ne jx nf kb ng kf nh kj ni kn na nb nc nd bi translated">apple Books:<a class="ae ko" href="https://books.apple.com/gb/book/developing-accessible-ios-apps/id1490937769" rel="noopener ugc nofollow" target="_blank">https://Books . apple . com/GB/book/developing-accessible-IOs-apps/id 1490937769</a></li><li id="4a0a" class="mv mw it js b jt ne jx nf kb ng kf nh kj ni kn na nb nc nd bi translated">或者你最喜欢的网上书店。</li></ul><p id="c6af" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">以及我的书《回购》中一些有用的可访问性代码示例:<a class="ae ko" href="https://github.com/Apress/developing-accessible-iOS-apps" rel="noopener ugc nofollow" target="_blank">https://github.com/Apress/developing-accessible-iOS-apps</a></p></div></div>    
</body>
</html>