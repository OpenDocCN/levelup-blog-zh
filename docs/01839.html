<html>
<head>
<title>How to use SVGs in React Native with Expo</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在React Native with Expo中使用SVG</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-use-svgs-in-react-native-with-expo-ec34f085f5e0?source=collection_archive---------0-----------------------#2020-02-02">https://levelup.gitconnected.com/how-to-use-svgs-in-react-native-with-expo-ec34f085f5e0?source=collection_archive---------0-----------------------#2020-02-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="84d8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> SVG是一种矢量格式，可以缩放到任何大小而不损失其质量，</strong>这是它们在移动应用程序开发中非常受欢迎的原因。然而，React Native还没有完全解决使用SVG的所有问题。</p><p id="948b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在写这篇文章的时候，有很多方法可以尝试在你的项目中使用SVG图像。最常见和稳定的一种是使用<a class="ae kl" href="https://github.com/vault-development/react-native-svg-uri" rel="noopener ugc nofollow" target="_blank"> react-native-svg-uri </a>。它允许您使用SvgUri组件在React Native中从URL或静态文件呈现SVG图像。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi km"><img src="../Images/55014d834569db9feef9ed7038fd4a99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*Z5v9bsyY5EOvSoTAX92HoA.png"/></div></figure><p id="2094" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">虽然这是一个<em class="ku">奇妙的</em>和<em class="ku">简单的</em>库<em class="ku"> </em>来使用，但它有一个<strong class="jp ir">主要</strong>错误:在Android上，开发时一切似乎都正常，但在发布模式下无法加载文件。这意味着当你在开发或调试模式下测试你的应用程序时，你的SVG会显示出来，但当你推送到Google Play商店时，你的SVG就不再呈现在Android设备上了。</p><p id="982a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">到目前为止，唯一已知的解决方法是在svgXmlData属性中传递SVG内容。但是，只有在使用以下命令链接到<a class="ae kl" href="https://github.com/react-native-community/react-native-svg" rel="noopener ugc nofollow" target="_blank"> react-native-svg </a>时，才能访问这个属性:</p><pre class="kn ko kp kq gt kv kw kx ky aw kz bi"><span id="b37c" class="la lb iq kw b gy lc ld l le lf">react-native link react-native-svg</span></pre><p id="bce3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，如果您没有使用Expo，您可以在这里停下来，成功地链接到react-native-svg并使用SvgUri组件和svgXmlData prop。但是如果你使用Expo，这就是它发挥作用的地方。</p><p id="a29c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Expo最大的限制是你不能在不分离的情况下添加你自己的原生模块。所以，如果你想使用任何需要<em class="ku"> react-native link的东西，</em>就像上面所要求的那样，那么你需要分离你的项目，用或不用ExpoKit来开发它。一个解决方案？当然，只要你不介意在这样做的时候失去某些功能和集成(如Expo的推送通知服务)，但这是Expo作为一体化软件包提供的权衡。分离时，您会失去这些功能。</p><p id="2149" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">那么，我们如何在React原生项目中实现SVG，而不丢失Expo提供的所有附加功能和集成呢？</strong></p><p id="b970" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">嗯，有一种方法可以同时运行Expo和raw React Native，如果你有兴趣了解更多，你可以在这里查看这篇文章<a class="ae kl" href="https://codersera.com/blog/running-expo-react-native-together/" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="7736" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">否则，您可以跟随我向您展示如何快速将iOS <strong class="jp ir">和</strong> Android支持的SVG添加到您的Expo应用程序中。</p><ol class=""><li id="e822" class="lg lh iq jp b jq jr ju jv jy li kc lj kg lk kk ll lm ln lo bi translated"><strong class="jp ir">创建新的世博App </strong></li></ol><pre class="kn ko kp kq gt kv kw kx ky aw kz bi"><span id="d373" class="la lb iq kw b gy lc ld l le lf">expo init my-expo-app</span></pre><p id="8d7c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">选择一个裸应用JavaScript模板，并在您喜欢的编辑器中打开它。</p><p id="f924" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2.<strong class="jp ir">添加react-native-svg </strong></p><pre class="kn ko kp kq gt kv kw kx ky aw kz bi"><span id="3c47" class="la lb iq kw b gy lc ld l le lf">expo install react-native-svg</span></pre><p id="f984" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3.<strong class="jp ir">将你的SVG文件添加到<em class="ku">资产</em>文件夹</strong></p><p id="05e2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">4.<strong class="jp ir">在项目的根目录下添加一个文件夹</strong></p><p id="bb9d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我将把我的命名为SVG，但是您可以随意命名</p><p id="7836" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">5.<strong class="jp ir">在我们在步骤4 </strong>中创建的文件夹中添加一个. js文件</p><p id="d6dd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我将我的命名为SvgTest.js，但是同样，您可以随意命名它</p><p id="4b52" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">6.<strong class="jp ir">导入适当的组件并创建您的功能</strong></p><pre class="kn ko kp kq gt kv kw kx ky aw kz bi"><span id="6b72" class="la lb iq kw b gy lc ld l le lf">import React from "react";<br/>import { SvgXml } from "react-native-svg";</span><span id="6ab7" class="la lb iq kw b gy lp ld l le lf">export default function SvgTest(){</span><span id="2d1e" class="la lb iq kw b gy lp ld l le lf">    return()</span><span id="65ce" class="la lb iq kw b gy lp ld l le lf">}</span></pre><p id="a496" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">7.<strong class="jp ir">走进你的。svg文件并复制那里的所有内容</strong></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi lq"><img src="../Images/1b2a0d90bc4b1ba34eaac4f477d272b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*65jmDxPVewu9lzv244-DpA.png"/></div></div></figure><p id="cb78" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">8.<strong class="jp ir">在你的。js文件并将您的SVG内容粘贴到一对反勾号中</strong></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi lv"><img src="../Images/1df4adf2b2921751bf23c9bb880df9a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EtDIg6VLRRWaZLYID0iIaQ.png"/></div></div></figure><p id="ad90" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">9.<strong class="jp ir">在您的。js文件并使用react-native-svg中的SvgXml组件</strong></p><p id="3401" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这里，您将把之前的常量传递给xml prop。你也可以定义你的高度和宽度。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/49da73137750b7146496aefe02b4a157.png" data-original-src="https://miro.medium.com/v2/resize:fit:1266/format:webp/1*WpBSB6vUybyoGT8IE241vw.png"/></div></figure><p id="f33c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">10.<strong class="jp ir">返回您的函数</strong></p><p id="5172" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你完成了。js文件应该是这样的</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi lx"><img src="../Images/5c702ac0f0cac655c5c8a090455ccf1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YR8JbdtN09gt3q_Y2uEMqQ.png"/></div></div></figure><p id="cd5a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">11.将你的新SVG组件导入到你的App.js中，并像普通的React本地组件一样使用它</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi ly"><img src="../Images/89aa1d3a3466daeea38f4e4b39f05154.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F_dF1ZY0Gj0nEaBddl4usQ.png"/></div></div></figure><p id="8f2b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">12.<strong class="jp ir">运行您的项目并启动您的模拟器</strong></p><pre class="kn ko kp kq gt kv kw kx ky aw kz bi"><span id="2d64" class="la lb iq kw b gy lc ld l le lf">expo start</span></pre><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/4b5c449f47c533110a0a7c6d9eb3a9f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:712/format:webp/1*AiBGFEslZCbnds623DKvPg.png"/></div><figcaption class="ma mb gj gh gi mc md bd b be z dk translated">iPhone 11 Pro Max上显示的SVG</figcaption></figure></div></div>    
</body>
</html>