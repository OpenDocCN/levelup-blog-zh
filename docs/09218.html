<html>
<head>
<title>Effective PRs for contributing code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">贡献代码的有效PRs</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/effective-prs-for-contributing-code-da783a00c48?source=collection_archive---------2-----------------------#2021-07-18">https://levelup.gitconnected.com/effective-prs-for-contributing-code-da783a00c48?source=collection_archive---------2-----------------------#2021-07-18</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="0cc1" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">关于PR中有多少锁定或提交频率的意见</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/cc05406cbd1b8f86aea7e00d78e363f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0s81nq7MTYqkbakG"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">凯勒·伍兹在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="ae21" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我负责一个小型开发团队，包括我自己在内共有六人。我是团队领导，所以除了编码之外，我还有几项职责。其中一些是:</p><ul class=""><li id="d0e5" class="lw lx iu lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated">提前规划新功能。</li><li id="0d70" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">资源分配。</li><li id="c27e" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">当我的团队对Github问题或代码库有疑问时，为他们提供指导。</li><li id="2718" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">指导他们，让他们更好地了解自己的职业道路。</li><li id="8fdc" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated"><strong class="lc iv">审查减贫战略。</strong></li></ul><p id="6f5c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我认为PRs是了解您团队的代码技能和怪癖的最佳知识来源，特别是自从COVID以来，一切都远程运行。你只能从松散的消息或缩放的电话中得到这么多。阅读他人编写和提交的代码会让你对他们的思想状态有更多的了解。</p><p id="7ee4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">有时你会看到一些令人费解的代码，有时你会看到“聪明”的代码，只会让整个事情变得不可读，有时你会得到这样的珍宝:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj mk"><img src="../Images/2235b1c073dba19413baedfcd1953bc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PDryqS7-KamybL2utGSNCQ.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">我的开发人员的一个测试文件中的代码😆</figcaption></figure><p id="9925" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在我的团队进行了无数次PR之后，我发现了在向代码库添加有意义的代码和避免臃肿和难以审查的PR之间的最佳平衡。</p><h1 id="433b" class="ml mm iu bd mn mo mp mq mr ms mt mu mv ka mw kb mx kd my ke mz kg na kh nb nc bi translated">500行代码。</h1><p id="353e" class="pw-post-body-paragraph la lb iu lc b ld nd jv lf lg ne jy li lj nf ll lm ln ng lp lq lr nh lt lu lv in bi translated">对我来说这是个神奇的数字。我仍然可以对代码进行可靠的审查，而不会迷失在其中，但它也足够大，所以我的开发人员觉得他们正在为项目的更大范围做出贡献。</p><p id="a6a9" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">为什么有500行代码？</p><ul class=""><li id="f4ce" class="lw lx iu lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated">很容易发现漏洞。</li><li id="e65d" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">它使评审者和被评审者之间的来回沟通更快、更清晰。</li><li id="4100" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">可以更快地推送和部署代码，使整个开发生命周期更有效率。</li><li id="1beb" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">产品更新更频繁，客户也乐于看到更频繁的变化。</li></ul><h1 id="9072" class="ml mm iu bd mn mo mp mq mr ms mt mu mv ka mw kb mx kd my ke mz kg na kh nb nc bi translated">代码的变化需要逐渐发生。</h1><p id="6bcd" class="pw-post-body-paragraph la lb iu lc b ld nd jv lf lg ne jy li lj nf ll lm ln ng lp lq lr nh lt lu lv in bi translated">如果PR太大，可能是在确定特性范围时出现了问题。这意味着它可能被分割成多个更小的特征。这是任何开发团队保持理智的关键。小功能带来小胜利。小胜鼓舞士气。</p><p id="806f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">软件已经从一个整体变成了相互连接的多种服务。为什么不对PRs做同样的事情呢？</p><p id="71e1" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果是2000行代码，将它合并到代码库中需要多少时间和精力？几小时，几天，几周？把它分成几份公关，然后把你的下一份公关建立在前一份的基础上。</p><p id="8811" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">所以有人在复习PR 1的时候，你可以继续PR 2。他们要求修改PR 1？去执行它们吧。然后将这些更改合并到PR 2中。这样，在等待评审时就不会有阻碍，评审者也更容易发现潜在的错误或给出适当的反馈。</p><h1 id="ff26" class="ml mm iu bd mn mo mp mq mr ms mt mu mv ka mw kb mx kd my ke mz kg na kh nb nc bi translated">经常提交，即使只有一行代码。</h1><p id="3383" class="pw-post-body-paragraph la lb iu lc b ld nd jv lf lg ne jy li lj nf ll lm ln ng lp lq lr nh lt lu lv in bi translated">还记得我说过PRs是了解您团队的代码技能和怪癖的最佳知识来源吗？为了实现这一点，我要求我的开发人员尽可能多地提交。</p><p id="af29" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">当审查PRs时，我可以看到提交历史、消息和他们所做的代码更改。如果我在代码上看到一些奇怪的东西，我就检查一下历史记录，看看哪里“出错”了。</p><p id="da40" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">对一个超过1000行代码的特性进行一次提交，说"<strong class="lc iv">实现了特性A" </strong>,对我来说毫无意义。这让我的工作更加困难，花费的时间更长，合并代码变得几乎不可能。也许你会说1000行代码并不多，但我是<a class="ae kz" href="https://en.wikipedia.org/wiki/KISS_principle" rel="noopener ugc nofollow" target="_blank">接吻原则</a>的信徒，所以对我来说1000行代码并不简单。</p><h1 id="d5f4" class="ml mm iu bd mn mo mp mq mr ms mt mu mv ka mw kb mx kd my ke mz kg na kh nb nc bi translated">如果使用Github，使用模板。</h1><p id="c21b" class="pw-post-body-paragraph la lb iu lc b ld nd jv lf lg ne jy li lj nf ll lm ln ng lp lq lr nh lt lu lv in bi translated">Github有一个很好的功能，当你创建一个新的PR时，你可以使用一个<a class="ae kz" href="https://docs.github.com/en/communities/using-templates-to-encourage-useful-issues-and-pull-requests/creating-a-pull-request-template-for-your-repository" rel="noopener ugc nofollow" target="_blank">模板</a>来预先填充你的描述。在这个描述中，你可以写出公关想要达到的目标。公关信息越多越好。</p><p id="f981" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们遵循这种模板格式(抱歉我不记得是从哪里得到的):</p><pre class="kk kl km kn gu ni nj nk nl aw nm bi"><span id="7c7b" class="nn mm iu nj b gz no np l nq nr">[Ticket #[ADD_TICKET_NUMBER]](url to your ticketing system, eg. Zenhub)</span><span id="260c" class="nn mm iu nj b gz ns np l nq nr">- **What kind of change does this PR introduce?** (Bug fix, feature, docs update, ...)</span><span id="6cd9" class="nn mm iu nj b gz ns np l nq nr">- **What is the current behaviour?** (You can also link to an open issue here)</span><span id="8694" class="nn mm iu nj b gz ns np l nq nr">- **What is the new behaviour (if this is a feature change)?**</span><span id="76bc" class="nn mm iu nj b gz ns np l nq nr">- **Does this PR introduce a breaking change?** (What changes might users need to make in their application due to this PR?)</span><span id="8931" class="nn mm iu nj b gz ns np l nq nr">- **Other information**:</span></pre><p id="fb27" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">当开发人员填写它时，它让我对代码的目的有了一个清晰的了解，这让我很高兴，不会感到困惑。</p></div><div class="ab cl nt nu hy nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="in io ip iq ir"><p id="2d32" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我知道这种制作PRs的方式可能会让人们对他们的编码方式感到不舒服，甚至可能不受欢迎，但在我的团队中，这种方式非常有效。当编码时，每个人都需要花费时间和精力来开始这样思考，但是从长远来看，这样做的好处是值得的🎉</p><div class="oa ob gq gs oc od"><a href="https://blog.jagonzalr.com/membership" rel="noopener  ugc nofollow" target="_blank"><div class="oe ab fp"><div class="of ab og cl cj oh"><h2 class="bd iv gz z fq oi fs ft oj fv fx it bi translated">加入我的介绍链接媒体-何塞安东尼奥冈萨雷斯罗德里格斯</h2><div class="ok l"><h3 class="bd b gz z fq oi fs ft oj fv fx dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="ol l"><p class="bd b dl z fq oi fs ft oj fv fx dk translated">blog.jagonzalr.com</p></div></div><div class="om l"><div class="on l oo op oq om or kt od"/></div></div></a></div></div></div>    
</body>
</html>