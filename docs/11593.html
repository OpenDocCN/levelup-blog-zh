<html>
<head>
<title>Random User Generator with API + Vue.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有API + Vue.js的随机用户生成器</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/random-user-generator-with-api-vue-js-dd60b2f82772?source=collection_archive---------8-----------------------#2022-03-29">https://levelup.gitconnected.com/random-user-generator-with-api-vue-js-dd60b2f82772?source=collection_archive---------8-----------------------#2022-03-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b29aff8465fbbda1843b5de09d020e73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pcFGLzykHQuUPsFe83g1Ow.png"/></div></div></figure><p id="b621" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这个简短的教程中，我们将构建一个仅在客户端技术上运行的随机用户生成器。这个工具对于那些想在网站上注册临时使用而不泄露真实信息的用户来说很有用。它还将链接到一个临时的电子邮件生成器，他们可以在那里接收电子邮件。</p><p id="83e6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">随着可用的API服务越来越多，无需在后端工作就可以构建简单而有用的工具。该项目从<a class="ae kw" href="https://randomuser.me/" rel="noopener ugc nofollow" target="_blank">随机用户</a> API获取数据，执行快速密码生成操作和日期格式化，并将用户配置文件数据返回给用户。我们开始吧！</p><p id="a2cf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于样式，我将使用Bootstrap和Vue.js来处理客户端脚本。我们将从CDN中使用Vue，而不是通常的CLI工具。这是为了保持项目第一部分的简单性。</p><h1 id="eaaf" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">步骤1:创建布局</h1><p id="3cf1" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">如果您熟悉bootstrap，这一部分对您来说应该很容易。我使用了简单的引导类和一些从网上得到的自定义样式。</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="me mf l"/></div></figure><p id="ebde" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">(运行于codepen:【https://codepen.io/redwolf333/pen/dyJRmWr】T2</p><p id="c2cd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这里，我使用表格来样式化用户数据，主要使用引导样式和一些自定义样式。我还添加了谷歌字体链接和一个脚本源到Vue3库中。我们还有一个app.js，我们将在那里为应用程序编写Vue代码。您可以花一些时间研究标记并理解布局。</p><h1 id="6855" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">步骤2:创建Vue应用程序</h1><p id="cc3b" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">我们需要创建一个Vue app实例，并将其绑定到id为“app”的元素。这是在html布局中创建的。为了创建Vue应用程序，我们将绑定将加载到html模板中的初始数据:</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="me mf l"/></div></figure><p id="4b65" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">此外，我们更新了html布局，以显示JavaScript代码中定义的数据:</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="me mf l"/></div></figure><h1 id="7f54" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">步骤3:创建所需的函数</h1><p id="f04d" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">我总是喜欢将我的代码分解成单元函数，以鼓励重用和扩展。对于这个项目，我们需要少量的功能来执行以下任务:</p><ul class=""><li id="9cf9" class="mg mh iq ka b kb kc kf kg kj mi kn mj kr mk kv ml mm mn mo bi translated">从随机用户API获取数据</li><li id="59ea" class="mg mh iq ka b kb mp kf mq kj mr kn ms kr mt kv ml mm mn mo bi translated">更新我们在Vue数据()部分中定义的字段</li><li id="4b0f" class="mg mh iq ka b kb mp kf mq kj mr kn ms kr mt kv ml mm mn mo bi translated">生成密码</li></ul><p id="c27d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们将在下面的代码片段中定义这三个函数:</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="me mf l"/></div></figure><p id="2ff6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">fetchDataAPI使用async关键字来返回一个承诺(异步执行)并确保fetch请求和json函数按顺序运行。因此，这两个函数像普通函数一样运行，并返回具体的值。</p><p id="2413" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于updateFields函数，我传递了“that”参数，并在fetchDataAPI函数中做了同样的事情。这是因为这些函数影响另一个作用域中的数据，所以我们通过“This”键盘将作用域设置为调用者的作用域。为了更好地理解，我们将在稍后阶段实现它。</p><h1 id="edd1" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">步骤4:应用程序加载时发送请求</h1><p id="2686" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">目前，我们所拥有的只是在data()函数中设置的默认值。然而，我们想要的是，在加载应用程序时，除了生成另一个配置文件的选项之外，用户还应该加载一个新的配置文件。</p><p id="2fa0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为此，我们将使用Vue的挂载功能。一旦触发了Vue的mounted事件，就会调用此函数(当应用程序完全装载到“app”id上时)。下面是它在Vue.createApp()调用中的情况:</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="me mf l"/></div></figure><p id="366d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在data()函数之后，我们插入了mounted()函数(第21行)。这将调用先前定义的获取数据的fetchDataAPI函数，并调用updateFields函数来更新当前数据。注意使用“this”的范围识别。</p><h1 id="d2b0" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">步骤5:创建生成数据的方法</h1><p id="ff14" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">在html模板中，您会注意到一个按钮，上面写着“生成新用户”。这使用了一个Vue事件处理程序，它在被单击时触发一个名为getUser()的方法。我们将在Vue createApp函数中定义这个方法:</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="me mf l"/></div></figure><h1 id="4631" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">步骤6:运行您的应用程序</h1><p id="c26a" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">目前就这些。您可以运行您的应用程序，看看它是如何工作的。如果你遇到任何问题，请告诉我。</p><p id="c32a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下面是完整的代码:</p><p id="4be0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">HTML代码:</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="me mf l"/></div></figure><p id="2b9b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">JavaScript代码:</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="me mf l"/></div></figure><h1 id="0fd6" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">链接</h1><p id="577f" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">项目的GitHub库:<a class="ae kw" href="https://github.com/joshuaetim/vue-user-generator" rel="noopener ugc nofollow" target="_blank">https://github.com/joshuaetim/vue-user-generator</a></p><p id="bb16" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">项目现场演示:【https://joshuaetim.github.io/vue-user-generator/ T2】</p><p id="a462" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">随机用户API:【https://randomuser.me/ T4】</p></div></div>    
</body>
</html>