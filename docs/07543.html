<html>
<head>
<title>Writing a reproducible research paper</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">撰写可重复的研究论文</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/writing-a-reproducible-research-paper-8ac561c105fd?source=collection_archive---------12-----------------------#2021-02-23">https://levelup.gitconnected.com/writing-a-reproducible-research-paper-8ac561c105fd?source=collection_archive---------12-----------------------#2021-02-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="4d57" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是我和朱庇特一起做的。</p><p id="6f21" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">今天我提交了我作为博士生的第三篇会议论文。我对可重复研究的努力给了我一个工具链，现在我想分享一下。在我们进入技术细节之前，我想先讨论一下我自己对于可重复研究的动机。</p><h1 id="b0dd" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">可重复的研究</h1><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div class="gh gi lk"><img src="../Images/5b6305df7a1ddb4c07b9032a89aca6a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*-HeA7yEVu_D6yPyvhIAnIg.jpeg"/></div></figure><p id="f695" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae kl" href="https://coderefinery.github.io/reproducible-research/01-motivation/" rel="noopener ugc nofollow" target="_blank">再现性</a>是科学中必不可少的东西。对于任何研究项目，独立的研究人员应该能够复制实验。在大多数严肃的研究项目中，这可能是真的，但在现实中往往相当困难，因为:</p><ul class=""><li id="5fc2" class="ls lt iq jp b jq jr ju jv jy lu kc lv kg lw kk lx ly lz ma bi translated">数据不可用</li><li id="d67e" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated">使用的代码不可用</li><li id="6d39" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated">代码是可用的，但是非常混乱(编写代码的人是唯一可以运行它的人)。</li></ul><p id="c423" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于这些情况，结果很难再现，这实际上使它变得非常无用。结果很不靠谱。没有人可以在这项工作的基础上，扩展它，或帮助它。</p><p id="a1be" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你强迫自己变得透明，你就不会受到欺骗的诱惑，不管它可能是多么无害。另一方面，如果没有人能看到你的代码，调整它以获得奇妙的结果，将是非常诱人的。透明意味着忠于你的研究，无论成功与否，对自己和他人都要非常诚实。</p><h1 id="77e8" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">我第三篇论文使用的工具</h1><p id="310f" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">在本文中，我们的想法是将物理比例模型试验、CFD计算和一种半经验方法的数据结合起来，预测模型船的横摇阻尼，如下图所示。</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/70522d66f04676ccf1088b5674a2e6e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/format:webp/1*q5A9hzPCoLnnzVJBz8t36A.jpeg"/></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk translated">用本文的验证试验案例进行缩尺模型试验。</figcaption></figure><h2 id="c9c3" class="mq kn iq bd ko mr ms dn ks mt mu dp kw jy mv mw la kc mx my le kg mz na li nb bi translated">开源代码库</h2><p id="5d6d" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">本文开发的代码和数据放在GitHub上:</p><div class="nc nd gp gr ne nf"><a href="https://github.com/martinlarsalbert/Prediction-of-roll-motion-using-fully-nonlinear-potential-flow-and-Ikedas-method/blob/main/reports/ISOPE_outline/01.1.outline.ipynb" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd ir gy z fp nk fr fs nl fu fw ip bi translated">martinlarsalbert/用完全非线性势流和Ikedas法预测滚转运动</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">对martinlarsalbert/用完全非线性势流和Ikedas方法预测滚转运动作出贡献…</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">github.com</p></div></div><div class="no l"><div class="np l nq nr ns no nt lq nf"/></div></div></a></div><p id="ab8b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我使用了<a class="ae kl" href="https://drivendata.github.io/cookiecutter-data-science/" rel="noopener ugc nofollow" target="_blank"> Cookiecutter数据科学</a>来得到这个项目的一个很好的结构。</p><p id="b595" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">论文最终提交时使用的代码被加上了标签，以防提交后继续开发。</p><h2 id="d66b" class="mq kn iq bd ko mr ms dn ks mt mu dp kw jy mv mw la kc mx my le kg mz na li nb bi translated">乳液</h2><p id="0e04" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">写论文是一个反复的过程。表格和图表中的结果需要多次更新。拥有一个自动化的工作流程来实现这一点至关重要。由于大多数结果是用Python生成的，而不是在MS Office中生成的，因此为LaTeX创建这个工作流要容易得多。对基于文本的LaTeX文件使用版本控制也非常方便。</p><p id="a144" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我使用背面的作为LaTeX编辑器，这简化了与论文合著者的合作。<a class="ae kl" href="https://github.com/martinlarsalbert/inviscid_CFD_-roll_decay" rel="noopener ugc nofollow" target="_blank">论文</a>被保存为<a class="ae kl" href="https://github.com/martinlarsalbert/Prediction-of-roll-motion-using-fully-nonlinear-potential-flow-and-Ikedas-method" rel="noopener ugc nofollow" target="_blank">主存储库</a>的GIT子模块，该主存储库连接到背面的项目。</p><h2 id="8a15" class="mq kn iq bd ko mr ms dn ks mt mu dp kw jy mv mw la kc mx my le kg mz na li nb bi translated">Jupyter笔记本</h2><p id="1ab5" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">撰写一篇科学论文包括一个研究部分:实验/分析和论文写作部分，你可以写下你的发现。在研究部分，我探索了各种想法，为论文找到一些有趣的结果。然而，这一阶段收集的大部分材料并没有最终形成论文。Jupyter Notbooks非常适合这项工作:将代码、文本和情节并排放在一起。笔记本放在<a class="ae kl" href="https://github.com/martinlarsalbert/Prediction-of-roll-motion-using-fully-nonlinear-potential-flow-and-Ikedas-method/tree/main/notebooks" rel="noopener ugc nofollow" target="_blank">笔记本</a>文件夹中，按照<a class="ae kl" href="https://drivendata.github.io/cookiecutter-data-science/" rel="noopener ugc nofollow" target="_blank"> Cookiecutter数据科学</a>进行编号和命名。除此之外，我还有一个日志<a class="ae kl" href="https://github.com/martinlarsalbert/Prediction-of-roll-motion-using-fully-nonlinear-potential-flow-and-Ikedas-method/blob/main/notebooks/logbook.ipynb" rel="noopener ugc nofollow" target="_blank">记录我的研究进展，参考其他笔记本。</a></p><p id="6095" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在某个阶段，我得到了足够多的结果，是时候写真正的论文了。之前的意思是:创建一个Word或LaTeX文档，并用研究笔记本中的内容填充它。</p><p id="9f6a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于第三篇论文，我尝试了一种稍微不同的方法。我试着在笔记本上写论文。我意识到这将是一个非常长的笔记本，但是<a class="ae kl" href="https://jupyter-contrib-nbextensions.readthedocs.io/en/latest/nbextensions/toc2/README.html#" rel="noopener ugc nofollow" target="_blank">目录</a>扩展使它易于管理。如果你愿意，你可以看一看作为Jupyter笔记本的<a class="ae kl" href="https://nbviewer.jupyter.org/github/martinlarsalbert/Prediction-of-roll-motion-using-fully-nonlinear-potential-flow-and-Ikedas-method/blob/main/reports/ISOPE_outline/01.1.outline.ipynb" rel="noopener ugc nofollow" target="_blank">纸</a>。</p><p id="81cc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我使用模块来隐藏大量代码，这样笔记本看起来就像期末论文，而不是杂乱的代码。</p><h2 id="ca03" class="mq kn iq bd ko mr ms dn ks mt mu dp kw jy mv mw la kc mx my le kg mz na li nb bi translated">nbconvert</h2><p id="15b1" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">从一开始，这个想法就是在朱庇特的笔记本上做一个提纲，作为真正写作的良好起点。当我在Jupyter笔记本纸上写满内容时，是时候换成LaTeX了。nbconvert 似乎是实现这种转变的最佳方式。我从<a class="ae kl" href="http://blog.juliusschulz.de/blog/ultimate-ipython-notebook" rel="noopener ugc nofollow" target="_blank"> Julius Schulz的博客</a>中获得了很多灵感来编写一个模块:<a class="ae kl" href="https://github.com/martinlarsalbert/Prediction-of-roll-motion-using-fully-nonlinear-potential-flow-and-Ikedas-method/blob/main/src/notebook_to_latex.py" rel="noopener ugc nofollow" target="_blank"> notebook_to_latex.py </a>来处理从<a class="ae kl" href="https://github.com/martinlarsalbert/Prediction-of-roll-motion-using-fully-nonlinear-potential-flow-and-Ikedas-method/blob/main/reports/ISOPE_outline/create_latex_report.py" rel="noopener ugc nofollow" target="_blank"> create_latex_report.py </a>运行的转换。我使用细胞标记来选择应该从论文中排除的细胞。图说明文字等。在单元元数据中指定了。我创建了Jupyters容器类的子类，例如将<a class="ae kl" href="https://ipython.readthedocs.io/en/stable/api/generated/IPython.display.html#IPython.display.Math" rel="noopener ugc nofollow" target="_blank"> Math </a>类子类化到我的<a class="ae kl" href="https://github.com/martinlarsalbert/Prediction-of-roll-motion-using-fully-nonlinear-potential-flow-and-Ikedas-method/blob/cf28036d0a493ad75446c90f621a4403910af6c6/src/notebook_to_latex.py#L420" rel="noopener ugc nofollow" target="_blank"> Equation </a>类中，该类也可以处理LaTeX标签和标题。</p><h2 id="672e" class="mq kn iq bd ko mr ms dn ks mt mu dp kw jy mv mw la kc mx my le kg mz na li nb bi translated">cite2c</h2><p id="4c97" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">对于参考文献，我使用了<a class="ae kl" href="https://github.com/takluyver/cite2c" rel="noopener ugc nofollow" target="_blank"> cite2c </a>，这使得在Jupyter笔记本中参考其他论文(取自我的<a class="ae kl" href="https://www.zotero.org/" rel="noopener ugc nofollow" target="_blank"> zotero </a>)成为可能。这些参考用于为乳胶纸创建bibtex文件。</p><h2 id="ad12" class="mq kn iq bd ko mr ms dn ks mt mu dp kw jy mv mw la kc mx my le kg mz na li nb bi translated">粘合剂</h2><p id="e4b0" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">为了提高再现性，我将纸张再生的整个过程制作在活页夹上:</p><p id="4f2c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae kl" href="https://mybinder.org/v2/gh/martinlarsalbert/Prediction-of-roll-motion-using-fully-nonlinear-potential-flow-and-Ikedas-method/submission1?filepath=reports%2FISOPE_outline%2F01.1.outline.ipynb" rel="noopener ugc nofollow" target="_blank">https://my binder . org/v2/GH/martinlarsalbert/Prediction-of-roll-motion-using-fully-nonlinear-potential-flow-and-Ikedas-method/submission 1？file path = reports % 2f scope _ outline % 2f 01.1 . outline . ipynb</a></p><h1 id="6f5d" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">结论</h1><p id="21cc" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">我选择了在我的研究中非常透明。这迫使我在任何阶段都要诚实面对结果。对于这第三篇论文，我比以前更进一步地考虑了再现性。我很惊讶可以将论文连接到活页夹，这样任何有网络连接的人都可以在几分钟内复制它。不需要在本地机器上复制我的环境，安装软件包和下载数据。现在一切都在那里了，正是写这篇论文时的样子。</p><p id="5bb5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我遇到的一个复杂情况是，nbconvert单向转换为LaTeX。当我的合著者对背页的LaTeX进行修改时，我需要手工更新笔记本。</p><p id="2b7b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">不知道第四篇论文会怎么创作？我能否说服我的合著者也使用Jupyter，这样就可以避免不可逆转化的问题？</p></div></div>    
</body>
</html>