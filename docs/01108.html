<html>
<head>
<title>Master Destructing Values in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的主析构值</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/mastering-destructing-values-in-javascript-68a4e3b7b79?source=collection_archive---------4-----------------------#2019-11-10">https://levelup.gitconnected.com/mastering-destructing-values-in-javascript-68a4e3b7b79?source=collection_archive---------4-----------------------#2019-11-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5471" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">了解如何在JavaScript中将数组和对象属性析构为变量。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/c88cba37912289a904f942190fd5e064.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AXpdlQHYUqs29mib0AfC8g.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图片来自Unsplash</figcaption></figure><p id="aa49" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">析构语法允许我们根据属性名从对象或数组中提取多个值。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="175f" class="lw lx iq ls b gy ly lz l ma mb"><strong class="ls ir">                       // Destructing array</strong><br/>var num = [1,2,3,4,5];</span><span id="0c04" class="lw lx iq ls b gy mc lz l ma mb">var [a, b] = num;</span><span id="6e6e" class="lw lx iq ls b gy mc lz l ma mb">console.log(a, b); //1,2</span><span id="7571" class="lw lx iq ls b gy mc lz l ma mb"><strong class="ls ir">                       // Destructing Object </strong><br/><br/>var obj = { </span><span id="32ec" class="lw lx iq ls b gy mc lz l ma mb">  name : "JavaScript Jeep",</span><span id="082b" class="lw lx iq ls b gy mc lz l ma mb">  work : "Blogging"</span><span id="1cf6" class="lw lx iq ls b gy mc lz l ma mb">};<br/><br/>var {name, work} = obj;</span><span id="dc4d" class="lw lx iq ls b gy mc lz l ma mb">console.log(name, work); // <!-- -->"Javascript Jeep", "Blogging"</span></pre><h1 id="327a" class="md lx iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">数组析构</h1><p id="da67" class="pw-post-body-paragraph kv kw iq kx b ky mu jr la lb mv ju ld le mw lg lh li mx lk ll lm my lo lp lq ij bi translated">数组中的值根据它们的索引进行分解。该变量可以被命名为您想要的任何名称。与索引相关联的变量名是如何分配的。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="300c" class="lw lx iq ls b gy ly lz l ma mb">var fruits = ["🍎", "🍌", "🍍"];</span><span id="29c4" class="lw lx iq ls b gy mc lz l ma mb"><strong class="ls ir">var [apple, banana, pineapple] = fruits;</strong></span><span id="38f9" class="lw lx iq ls b gy mc lz l ma mb">console.log(<!-- -->apple, banana, pineapple<!-- -->); // <!-- -->"🍎", "🍌", "🍍"</span></pre><p id="c5a9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们也可以给已经声明的变量赋值。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="4f4f" class="lw lx iq ls b gy ly lz l ma mb">var apple = "apple";</span><span id="1f52" class="lw lx iq ls b gy mc lz l ma mb">var banana = "banana";<br/><br/><strong class="ls ir">[apple, banana] = ["🍎", "🍌"]</strong></span><span id="484c" class="lw lx iq ls b gy mc lz l ma mb">console.log(apple, banana); // <!-- -->"🍎", "🍌"</span></pre><p id="87b2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果变量多于数组长度，那么剩余变量的值变成<code class="fe mz na nb ls b">undefined</code>。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="adf5" class="lw lx iq ls b gy ly lz l ma mb">var arr = [1]  </span><span id="f30c" class="lw lx iq ls b gy mc lz l ma mb"><strong class="ls ir">var [a, b] = arr;  </strong></span><span id="3258" class="lw lx iq ls b gy mc lz l ma mb">console.log(a, b); 1, undefined</span></pre><p id="8313" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">在析构中使用rest运算符:</strong></p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="f02e" class="lw lx iq ls b gy ly lz l ma mb">var numbers = [1,2,3,4,5,6];  </span><span id="2e33" class="lw lx iq ls b gy mc lz l ma mb"><strong class="ls ir">var [a, b, ...rest] = numbers;  </strong></span><span id="e2ac" class="lw lx iq ls b gy mc lz l ma mb">console.log(a, b, rest);  // 1, 2, [3,4,5,6]</span></pre><p id="da56" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">rest <code class="fe mz na nb ls b">...</code>操作符允许您累积未被析构的剩余项。</p><p id="ff2c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用rest运算符时，<code class="fe mz na nb ls b">rest</code>元素应该是最后一个元素，否则会抛出<code class="fe mz na nb ls b">Syntax Error</code>。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="afca" class="lw lx iq ls b gy ly lz l ma mb"><strong class="ls ir">var [a, ...b, c] = [1, 2, 3]; // error</strong><br/><br/><strong class="ls ir">var [a, ...b,] = [1, 2, 3]; // error because trailing comma after rest element</strong></span></pre><p id="b0c1" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">为变量设置默认值:</strong></p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="d0b6" class="lw lx iq ls b gy ly lz l ma mb">var fruits = ["🍎", "🍍"];<br/><br/>                      <strong class="ls ir">//without default value</strong></span><span id="d008" class="lw lx iq ls b gy mc lz l ma mb"><strong class="ls ir">var [apple, pineapple, banana ] = fruits;</strong></span><span id="d5f4" class="lw lx iq ls b gy mc lz l ma mb">console.log(apple, pineapple, banana); // "🍎", "🍍", undefined </span><span id="e675" class="lw lx iq ls b gy mc lz l ma mb">                      <strong class="ls ir">// with default value</strong></span><span id="35d7" class="lw lx iq ls b gy mc lz l ma mb">var [apple, pineapple, <strong class="ls ir">banana= "🍌" </strong>]<strong class="ls ir"> = </strong>fruits<strong class="ls ir">;</strong></span><span id="8ba9" class="lw lx iq ls b gy mc lz l ma mb">console.log(apple, pineapple, banana); // "🍎", "🍍", <strong class="ls ir"> "🍌"</strong></span></pre><p id="6d42" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">跳过数组的值</strong></p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="1210" class="lw lx iq ls b gy ly lz l ma mb">var num = [1,2,3];</span><span id="7bb6" class="lw lx iq ls b gy mc lz l ma mb">var [<strong class="ls ir">one,,three</strong>] = num;</span><span id="ba2e" class="lw lx iq ls b gy mc lz l ma mb">console.log(one, three); 1, 3</span></pre><p id="0dd8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">提示:通过数组析构，我们可以很容易地交换值</strong></p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="1e04" class="lw lx iq ls b gy ly lz l ma mb">var a = 10,b = 20;<br/><br/><strong class="ls ir">[b, a] = [a, b]</strong><br/><br/>console.log(a, b); 20, 10</span></pre><h1 id="ff43" class="md lx iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">对象析构</h1><p id="ed4a" class="pw-post-body-paragraph kv kw iq kx b ky mu jr la lb mv ju ld le mw lg lh li mx lk ll lm my lo lp lq ij bi translated">我们可以使用对象析构从对象的属性中提取数据。这里，变量的名称与对象的属性相匹配，相应的属性值从对象中检索并赋给变量。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="1b07" class="lw lx iq ls b gy ly lz l ma mb">var user = {name : "Ram", age : 20};<br/><br/><strong class="ls ir">var {name, age} = user;</strong></span><span id="a7ea" class="lw lx iq ls b gy mc lz l ma mb">console.log(name, age); // "Ram", 20</span></pre><p id="1854" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">示例2:</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="274a" class="lw lx iq ls b gy ly lz l ma mb"><strong class="ls ir">var {name, age} = {name: "Ram", age : 20};</strong></span><span id="5ef1" class="lw lx iq ls b gy mc lz l ma mb">console.log(name, age); // "Ram", 20</span></pre><p id="a8a4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果变量名与对象的属性不匹配，那么不匹配变量的值将是<code class="fe mz na nb ls b">undefined</code>。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="4775" class="lw lx iq ls b gy ly lz l ma mb">var {name, age, <strong class="ls ir">salary</strong>} = {name: "Ram", age : 20};</span><span id="4cde" class="lw lx iq ls b gy mc lz l ma mb"><strong class="ls ir">salary</strong>; //undefined</span></pre><p id="b3cf" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">使用rest运算符</strong></p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="d8a2" class="lw lx iq ls b gy ly lz l ma mb">var user = {name: "Mike", age : 30, weight : 50};  </span><span id="e3f5" class="lw lx iq ls b gy mc lz l ma mb">var {name, <strong class="ls ir">...details</strong>} = user;  </span><span id="d23b" class="lw lx iq ls b gy mc lz l ma mb">console.log(name, details);  // <strong class="ls ir">"Mike" , {age: 30, weight : 30}</strong></span></pre><p id="c760" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">析构一个已经声明的变量</strong></p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="8542" class="lw lx iq ls b gy ly lz l ma mb">var name , age; </span><span id="7c50" class="lw lx iq ls b gy mc lz l ma mb">var user = {name: "Ram", age : 20}; </span></pre><p id="951a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们不能像<code class="fe mz na nb ls b">{name, age} = user;</code>那样做，因为“{”是第一个标记，所以JavaScript认为它是块的开始。</p><p id="41c1" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为了解决这个问题</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="eeb5" class="lw lx iq ls b gy ly lz l ma mb"><strong class="ls ir">({name, age} = user);</strong></span></pre><p id="cce6" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">给新变量名赋值</strong></p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="c7fc" class="lw lx iq ls b gy ly lz l ma mb">var user = {name : "Ram"};</span><span id="7f3a" class="lw lx iq ls b gy mc lz l ma mb">var {<strong class="ls ir">name: userName</strong>} = user;<br/><br/>userName; // "Ram"</span></pre><p id="146d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">上面的代码从<code class="fe mz na nb ls b">user</code>中获取<code class="fe mz na nb ls b">name</code>属性，创建一个名为<code class="fe mz na nb ls b">userName</code>的新变量，并将值赋给<code class="fe mz na nb ls b">userName</code>变量。</p><p id="f19a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">提示:当对象的属性是无效的标识符名称时，我们可以使用新的变量名</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="f0db" class="lw lx iq ls b gy ly lz l ma mb">var user = {<strong class="ls ir">"user-name"</strong> : "Mike"};  </span><span id="08f2" class="lw lx iq ls b gy mc lz l ma mb">var {<strong class="ls ir">"user-name": userName</strong>} = user;</span><span id="503b" class="lw lx iq ls b gy mc lz l ma mb">userName; //Mike</span></pre><p id="f537" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">分配默认值</strong></p><p id="13c3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果属性不在对象中，则可以将默认值赋给变量。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="4070" class="lw lx iq ls b gy ly lz l ma mb">var user1 = {name : "Mike", nickName : "mic"};  </span><span id="9480" class="lw lx iq ls b gy mc lz l ma mb">var {name1, <strong class="ls ir">nickName1="Noob Master"</strong>} = user1;<strong class="ls ir">  </strong></span><span id="1646" class="lw lx iq ls b gy mc lz l ma mb">console.log(<strong class="ls ir">nickName1</strong>); // "mic"<br/></span><span id="d32a" class="lw lx iq ls b gy mc lz l ma mb">               <strong class="ls ir">//If the property not present </strong></span><span id="80a3" class="lw lx iq ls b gy mc lz l ma mb">var user2 = {name : "Ram"};  </span><span id="e33a" class="lw lx iq ls b gy mc lz l ma mb">var {name2, <strong class="ls ir">nickName2="Noob Master"</strong>} = user2;  </span><span id="514f" class="lw lx iq ls b gy mc lz l ma mb">console.log(<strong class="ls ir">nickName2</strong>); //<strong class="ls ir">"Noob Master"</strong></span></pre><p id="fe2d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">使用默认值和新变量名</strong></p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="5337" class="lw lx iq ls b gy ly lz l ma mb">var user = {};  </span><span id="7cdb" class="lw lx iq ls b gy mc lz l ma mb">var { <strong class="ls ir">name: userName = "Default Name" </strong>} = user;  </span><span id="762c" class="lw lx iq ls b gy mc lz l ma mb">console.log(userName); // "<strong class="ls ir">Default Name</strong>"</span></pre><p id="0122" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">使用对象析构作为函数参数</strong></p><p id="d557" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="nc">不析构</em></p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="79dd" class="lw lx iq ls b gy ly lz l ma mb">function logUser(user) <br/>{   <br/>    var name = user.name;   <br/>    var age = user.age;   <br/>    console.log(name, age); <br/>}  </span><span id="985c" class="lw lx iq ls b gy mc lz l ma mb">var user = {name : "Mike", age : 20}; </span><span id="d17e" class="lw lx iq ls b gy mc lz l ma mb">logUser(user); // "Mike", 20</span></pre><p id="5b8b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">上面的代码可以简化为</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="899f" class="lw lx iq ls b gy ly lz l ma mb">function logUser( <strong class="ls ir">{name, age} </strong>) <br/>{   <br/>    console.log(name, age); <br/>}  </span><span id="a23d" class="lw lx iq ls b gy mc lz l ma mb">var user = {name : "Mike", age : 20}; </span><span id="69d6" class="lw lx iq ls b gy mc lz l ma mb">logUser(user); // "Mike", 20</span></pre><p id="ce84" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">在函数参数析构中使用默认值和新变量名</strong></p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="7120" class="lw lx iq ls b gy ly lz l ma mb">function logUser( <strong class="ls ir">{name:userName, age: userAge = 30}</strong> ) <br/>{   </span><span id="5335" class="lw lx iq ls b gy mc lz l ma mb">    console.log(<strong class="ls ir">userName</strong>, <strong class="ls ir">userAge</strong>); </span><span id="5bfd" class="lw lx iq ls b gy mc lz l ma mb">}  </span><span id="7718" class="lw lx iq ls b gy mc lz l ma mb">var user = {name : "Mike"}; </span><span id="77b9" class="lw lx iq ls b gy mc lz l ma mb">logUser(user); // "Mike" , 30</span></pre><p id="db66" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果我们在没有任何参数的情况下调用方法，上面的方法<code class="fe mz na nb ls b">logUser</code>将会抛出一个错误。如果我们不传递任何参数，它试图析构<code class="fe mz na nb ls b">undefined</code>,因此抛出错误。要解决这个问题:</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="4f7f" class="lw lx iq ls b gy ly lz l ma mb">function logUser({name: Name="Jack", age: Age = 30} <strong class="ls ir">= {}</strong>) <br/>{<br/>   <br/>    console.log(Name, Age);</span><span id="b93c" class="lw lx iq ls b gy mc lz l ma mb">} </span><span id="3804" class="lw lx iq ls b gy mc lz l ma mb">logUser(); // Jack 30</span></pre><p id="591d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">谢谢😊 🙏为了阅读📖。</p><p id="62ac" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">关注我<a class="ae nd" href="https://medium.com/u/f9ffc26e7e69?source=post_page-----98efbae5e8aa----------------------" rel="noopener"> JavaScript吉普🚙💨</a>。</p><p id="cbb4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">请在这里捐款<a class="ae nd" href="https://www.paypal.com/paypalme2/jagathishSaravanan" rel="noopener ugc nofollow" target="_blank">。你捐款的80%捐给了需要食物的人🥘。提前感谢。</a></p></div></div>    
</body>
</html>