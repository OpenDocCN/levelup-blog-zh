<html>
<head>
<title>Websockets with Postman and Discord</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">有邮递员和不和谐的网络插座</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/websockets-with-postman-and-discord-db26efed56c1?source=collection_archive---------3-----------------------#2021-06-02">https://levelup.gitconnected.com/websockets-with-postman-and-discord-db26efed56c1?source=collection_archive---------3-----------------------#2021-06-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="247b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Postman现在支持Web套接字！让我们看看我们能用Discord的WebSocket网关做些什么。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/a8eddaad85ff4214e748b7408ad48c2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bdXm9CaY3jntT3b1Ln_XCQ.jpeg"/></div></div></figure><p id="56ce" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Postman发布了使用WebSockets与服务器通信的能力。使它可以连接的服务类型多样化，并在与事件驱动架构的交互方面迈出一大步。WebSockets用于实时通信(RTC ),而不是常规的REST API端点。</p><p id="3f60" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">REST APIs非常适合更新和检索数据库中的数据，或者通过表单或页面元素与服务进行交互。但WebSockets让你能够拥有聊天应用，并在HTTP协议的保证下传输实时数据。</p><p id="3b91" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了更好地理解这一点，我想展示一个使用现有WebSocket服务的现场演示。由于受欢迎，我决定使用不和谐。</p><p id="dc36" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Discord调用他们的WebSocket服务<strong class="js iu">网关</strong>:</p><blockquote class="la lb lc"><p id="1820" class="jq jr ld js b jt ju jv jw jx jy jz ka le kc kd ke lf kg kh ki lg kk kl km kn im bi translated">网关是Discord通过安全WebSockets进行实时通信的一种形式。客户端将通过它们所连接的网关接收事件和数据，并通过REST API发送数据。</p></blockquote><p id="82df" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">正如你在上面看到的，我们只能订阅服务器中的事件，有点像webhook。</p><h2 id="9729" class="lh li it bd lj lk ll dn lm ln lo dp lp kb lq lr ls kf lt lu lv kj lw lx ly lz bi translated"><strong class="ak">这里的计划是使用Postman获得并连接到一个Discord Gateway WebSocket连接，然后从那里，我们可以订阅通道内的事件。</strong></h2><h1 id="8439" class="ma li it bd lj mb mc md lm me mf mg lp mh mi mj ls mk ml mm lv mn mo mp ly mq bi translated">检查您的应用程序中是否有WebSocket请求</h1><p id="24c0" class="pw-post-body-paragraph jq jr it js b jt mr jv jw jx ms jz ka kb mt kd ke kf mu kh ki kj mv kl km kn im bi translated">Postman WebSockets请求仍然被认为是一个测试功能，所以你的Postman应用程序需要更新到最新版本的<strong class="js iu"> v8 </strong>。或者你可以直接进入网络应用<a class="ae mw" href="https://go.postman.co/build" rel="noopener ugc nofollow" target="_blank">在线</a>。在那里，您可以单击角落中的加号图标来创建WebSocket连接。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/3976be28dcfc89ee26b9aa137ef3ccd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*AoRBK3btks7Aumbm_ERzcw.png"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">单击“新建”创建新请求</figcaption></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nc"><img src="../Images/77f4b9671c3a0c5ddae9aa2d38f8eedf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dXCUbQm0vjxF62twy7PdhA.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">从菜单中选择WebSocket请求</figcaption></figure><h1 id="5fe6" class="ma li it bd lj mb mc md lm me mf mg lp mh mi mj ls mk ml mm lv mn mo mp ly mq bi translated">创造不和谐机器人</h1><p id="5497" class="pw-post-body-paragraph jq jr it js b jt mr jv jw jx ms jz ka kb mt kd ke kf mu kh ki kj mv kl km kn im bi translated">我们需要创建一个不和谐的机器人来代替我们想要观看的频道的用户。为此，我们创建了一个不和谐应用程序，然后创建了一个不和谐机器人。</p><p id="0d66" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">转到<a class="ae mw" href="https://discord.com/developers/applications/" rel="noopener ugc nofollow" target="_blank"> Discord应用平台</a>，然后创建一个新的应用。给它一个唯一的名称。在左侧菜单中选择机器人。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nd"><img src="../Images/bfce7f3ff0aca327977cde24f61c4275.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Uog13hA5fJxlahqSvnhZZw.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">在Discord应用子菜单中点击Bot</figcaption></figure><p id="9d73" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一旦您在菜单中创建了一个Bot，您现在就有了一个令牌来进行身份验证。我们稍后会用到它。</p><h1 id="472b" class="ma li it bd lj mb mc md lm me mf mg lp mh mi mj ls mk ml mm lv mn mo mp ly mq bi translated">将机器人添加到频道</h1><p id="d903" class="pw-post-body-paragraph jq jr it js b jt mr jv jw jx ms jz ka kb mt kd ke kf mu kh ki kj mv kl km kn im bi translated">要将机器人添加到我们想要观看的Discord频道，请进入左侧菜单并选择OAuth2。在范围下选择<em class="ld">机器人</em>复选框<em class="ld">。</em>现在，我们在scopes框的底部有了一个URL。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ne"><img src="../Images/dd4580cdfbdeffd096468cec6e629fe8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fi7D6Ub8NP54rAMtNaZzZg.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">生成一个OAuth2.0链接，为服务器订阅Bot</figcaption></figure><p id="3ad2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">导航到此URL，您将可以选择要将此Bot添加到哪个服务器。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nf"><img src="../Images/e3a692c8fec04259bea3ee7ec27e1ff9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nRbm_g2fATM3NpvryGPHBQ.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">选择希望机器人加入的服务器</figcaption></figure><p id="14cc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您应该会在常规聊天中看到一条消息，说明添加了一个机器人。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ng"><img src="../Images/4dd493f9c563ed731490a97bdcd8ff1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FEUTvt_wB8nXF2iuBmSo7Q.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">你可以看到机器人已经加入了服务器</figcaption></figure><h1 id="684d" class="ma li it bd lj mb mc md lm me mf mg lp mh mi mj ls mk ml mm lv mn mo mp ly mq bi translated">获取WebSocket URL</h1><p id="3e90" class="pw-post-body-paragraph jq jr it js b jt mr jv jw jx ms jz ka kb mt kd ke kf mu kh ki kj mv kl km kn im bi translated">现在我们有了一个不和谐机器人，我们可以调用网关端点来获得一个有效的WSS端点。</p><p id="4d34" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">打开Postman应用程序，创建一个新的标准请求。只需调用一个GET到下面的URL。不需要标记、头、参数和主体。</p><blockquote class="la lb lc"><p id="3dc1" class="jq jr ld js b jt ju jv jw jx jy jz ka le kc kd ke lf kg kh ki lg kk kl km kn im bi translated"><a class="ae mw" href="https://discordapp.com/api/gateway/" rel="noopener ugc nofollow" target="_blank">https://discordapp.com/api/gateway/</a></p></blockquote><p id="60d2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">从这里您将得到一个返回WebSocket网关URL的简单响应。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nh"><img src="../Images/f76621ecb88b8bc304b50f174c581287.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aHeaQKnrIyWVdl6f-oBUrg.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">用于从Discord API连接的WebSocket URL</figcaption></figure><p id="9e1f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了让这更有趣，我添加了一个环境，并用我的机器人令牌填充了它，我们可以从Discord的开发人员应用程序平台上获取这些令牌。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ni"><img src="../Images/6f124fb0bebfff3df7eb8a811f52dfe0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xpbgYxsCuFhxUQyHLnqxzw.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">获取需要识别的机器人令牌</figcaption></figure><p id="d61f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这里，我创建了一个简单的脚本，将URL保存到Postman环境中。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nj"><img src="../Images/aeb670207543648f97f2c566b47e337d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t6Pa6bx-ps5vh-D_wLUBfQ.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">获取url并将其放入环境中的脚本</figcaption></figure><p id="20eb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">添加令牌并运行请求后，您的环境应该如下所示:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nk"><img src="../Images/5ffd5ad2931d8ae308d4c7e98e160a54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o1loelYSvOsXQh6gN6l3UA.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">在我们开始连接之前，我们的环境应该是什么样的</figcaption></figure><p id="5ee9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">一定要在右上角选择你的环境！！！</strong></p><p id="af5b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在让我们弄清楚如何在Postman中使用WebSocket与Discord交互。在本教程的顶部，我们单击<strong class="js iu"> <em class="ld">新建按钮</em> </strong> <em class="ld"> </em>，然后我们可以选择我们的<strong class="js iu"> <em class="ld"> WebSocket请求</em> </strong> <em class="ld"> </em>选项<em class="ld">。</em></p><p id="4a5e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">从这里使用我们的环境我们可以添加WebSocket URL，<strong class="js iu"><em class="ld">{ { ws _ URL } }</em></strong><em class="ld">。</em></p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nl"><img src="../Images/f83872166e570ba6034b2e63cfb2e21f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SFNJeLsfJqRm2JQHNa17HA.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">WebSocket请求窗口</figcaption></figure><p id="39d8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们连线吧！成功连接后，我们应该会看到一个蓝色的向下箭头和一些数据。蓝色的向下箭头是从Discord Gateway收到的WebSocket消息。</p><p id="49a5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">不和谐的第一反应通常是这样的:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/6ea79094f879689d6b29e19d7ff6e8b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gRtIZ-BhSVmaTul9Ad7D3g.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">第一次响应与心跳间隔不一致</figcaption></figure><h1 id="92ad" class="ma li it bd lj mb mc md lm me mf mg lp mh mi mj ls mk ml mm lv mn mo mp ly mq bi translated">心跳</h1><p id="df3a" class="pw-post-body-paragraph jq jr it js b jt mr jv jw jx ms jz ka kb mt kd ke kf mu kh ki kj mv kl km kn im bi translated">在第一个响应中，我们可以看到在Discord的消息对象模式后面有一个JSON块，你可以在这里阅读更多关于<a class="ae mw" href="https://discord.com/developers/docs/topics/gateway#heartbeating" rel="noopener ugc nofollow" target="_blank">的信息。</a></p><p id="3a4b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在“<strong class="js iu"> <em class="ld"> d </em> </strong>”或数据段中，我们有一个<strong class="js iu"> heartbeat_intreval </strong>。这告诉我们每隔<strong class="js iu">毫秒发送一条<strong class="js iu">心跳</strong>消息，以保持连接打开，否则连接将关闭，您必须保持重新连接。</strong></p><p id="5695" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">根据Discord的文档，要发送<strong class="js iu">心跳</strong>消息，我们需要发送<strong class="js iu"> 1操作码</strong>。您可以在数据中设置会话号，“<strong class="js iu"> <em class="ld"> d </em> </strong>”。会话号只是正在发送的消息的订单号，但它可以是任何数字，并且仍然有效。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nn"><img src="../Images/82c32d38badc758d2eb182bd2ab8199a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DYa9gmdNOZFkb1YqM3DTAQ.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">心跳消息</figcaption></figure><p id="0ad6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当您成功地向网关发送了一个<strong class="js iu">心跳</strong>消息时，您应该得到一个带有<strong class="js iu"> 11 </strong> <strong class="js iu">操作码</strong>的消息。这仅仅意味着Discord已经认可了你的<strong class="js iu">心跳</strong>，并将保持连接。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi no"><img src="../Images/edc8be7d76a91ff5d646aaf0ee0e5854.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y5qrvR1nHrVtq9kEZ67dnA.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">心跳响应</figcaption></figure><p id="93f7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们必须经常向WebSocket发送这个请求，否则我们将面临连接关闭的风险！</p><h1 id="0ed4" class="ma li it bd lj mb mc md lm me mf mg lp mh mi mj ls mk ml mm lv mn mo mp ly mq bi translated">识别</h1><p id="cbba" class="pw-post-body-paragraph jq jr it js b jt mr jv jw jx ms jz ka kb mt kd ke kf mu kh ki kj mv kl km kn im bi translated">有了标识，我们开始接触Discord协议是如何工作的。每个WebSocket服务都不一样，<em class="ld">这个只和Discord的服务有关。</em></p><p id="f65d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最小不一致消息包含一个<em class="ld">操作码</em>，如我们之前所见(1表示心跳，10表示Hello)。对于<em class="ld">，标识</em>为2。</p><p id="db17" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们根据<a class="ae mw" href="https://discord.com/developers/docs/topics/gateway#identify-identify-structure" rel="noopener ugc nofollow" target="_blank"> Discord的身份模式</a>来创建JSON。</p><p id="5370" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">使用这个环境，我们在请求的“d”部分添加我们的Bot令牌</strong>和属性。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi np"><img src="../Images/f833f2a031569afbe9251631f736ec6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E_wRvPeu__zXnRVrQg7a1w.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">识别消息</figcaption></figure><p id="fdd3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">发送之后，您应该会在连接窗口中收到一条<strong class="js iu">就绪</strong>消息。这让您知道您已成功通过身份验证。有时，如果你是第一次与服务器互动，你也会看到一条<strong class="js iu"> GUILD_CREATE </strong>消息。这只是不和谐创建一些元数据附加到您的不和谐机器人和您连接的服务器。我们不会进入公会，因为严格来说这是一个不和谐的概念，在本教程中没有必要理解。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nq"><img src="../Images/a1c2ac8175bf8cdd2449aaf97bd13a1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uQA1g5Pk5PErMbRrrVs8oQ.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">识别就绪消息</figcaption></figure><p id="8fd1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在这个机器人已经通过认证了！</p><h1 id="6f08" class="ma li it bd lj mb mc md lm me mf mg lp mh mi mj ls mk ml mm lv mn mo mp ly mq bi translated"><strong class="ak">捕捉事件</strong></h1><p id="829c" class="pw-post-body-paragraph jq jr it js b jt mr jv jw jx ms jz ka kb mt kd ke kf mu kh ki kj mv kl km kn im bi translated">现在我们在WebSocket连接上通过了身份验证，让我们在您添加了机器人的服务器的常规聊天中创建一条消息，或者邀请某人，或者让某人加入。</p><p id="129b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">即使您没有创建WebSocket请求，您也会看到在WebSocket连接上收到的新消息，<em class="ld">！</em></p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nr"><img src="../Images/ddfa6d4b4bc625c846985a808859350d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*poDQSqb-QvmF_yedXDsCuQ.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">捕获到不一致的新消息</figcaption></figure><p id="f6ae" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">检查这个<strong class="js iu"> MESSAGE_CREATE </strong>消息，您应该看到消息的详细信息以及创建它的用户。即使不是你，也是实时的。</p><p id="52a7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，您可以通过Postman监控和管理您的频道活动！</p><p id="8c61" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Postman的WebSockets还是很新的。我们可以看到有一个未来的选项来创建脚本，并希望在Monitor中运行它，这样我们就可以在未来创建持久的机器人。但这是非常令人兴奋的，我个人迫不及待地想知道这个功能的下一步是什么！</p><h1 id="bfdd" class="ma li it bd lj mb mc md lm me mf mg lp mh mi mj ls mk ml mm lv mn mo mp ly mq bi translated">TL；速度三角形定位法(dead reckoning)</h1><ul class=""><li id="84df" class="ns nt it js b jt mr jx ms kb nu kf nv kj nw kn nx ny nz oa bi translated">Postman在v8中具有与WebSockets连接和发送/接收的能力！引入了一种全新的与RTC数据交互的方式。</li><li id="94fd" class="ns nt it js b jt ob jx oc kb od kf oe kj of kn nx ny nz oa bi translated">我们连接到Discord的WebSocket服务网关来监听服务器事件，并能够通过发送WebSocket消息来管理它们</li><li id="36b6" class="ns nt it js b jt ob jx oc kb od kf oe kj of kn nx ny nz oa bi translated">Postman WebSockets请求仍处于测试阶段，因此请留意脚本和监视器等新功能！</li></ul><p id="2832" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你喜欢你所阅读的内容，请在Twitter或T2 LinkedIn上关注我</p></div></div>    
</body>
</html>