<html>
<head>
<title>React CRUD app with and without Redux — Convert a React App to a React+Redux App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带和不带Redux的React CRUD应用程序—将React应用程序转换为React+Redux应用程序</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/react-crud-app-without-and-with-redux-da4cd87f2eab?source=collection_archive---------0-----------------------#2018-11-04">https://levelup.gitconnected.com/react-crud-app-without-and-with-redux-da4cd87f2eab?source=collection_archive---------0-----------------------#2018-11-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2b10" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">创建一个没有Redux的应用程序，然后将其转换为Redux应用程序</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f2863c5a0a42b6e45f69ae0c03fbdf71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZKshIYzU9mkFpA4AGb_SMg.png"/></div></div></figure><p id="0895" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我使用React已经有几年了。这是一次有趣的旅程，所有的事情都变得美妙而简单。有些父组件可以有子组件。他们可以使用state和props共享数据。React有一个强大的构图模型，在开始涉足Flux/Redux之前，我一直很喜欢构图。我很高兴使用axios从服务器获取数据，在父节点上设置状态，将道具传递给子节点，并冒泡事件以将数据传递给父节点。一切都很好，直到我把脚伸进Redux。</p><p id="4c26" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我对Redux的最初尝试感觉有点困难，尤其是当我看到一个完整的工作示例，它的所有活动部分都编织在一起时——这有点让人不知所措。</p><p id="4120" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对我来说，理解Redux商店的所有组件是如何配合和协同工作的并不容易。因此，我想为什么不创建一个没有Redux的React应用程序，并将其转换为带有Redux的React应用程序。这个过程将帮助我们理解Redux的不同部分以及它们是如何协同工作的。此外，由于我们将有一个工作的非Redux，应用程序将更容易理解Redux范式。我们在现实生活中创建的大多数应用程序都是CRUD应用程序，因此有了这个选择。</p><p id="e6e2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我将要创建的示例是一个非常基本的学生注册表。这个应用程序将有能力创建，编辑和删除学生数据，如他们的姓名，年级和学校。学生数据将存储在浏览器本地存储中，以便离线保存。</p><p id="2b3c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先，让我们启动一个新项目，在没有Redux的情况下创建React应用程序。</p><pre class="kg kh ki kj gt ln lo lp lq aw lr bi"><span id="df69" class="ls lt iq lo b gy lu lv l lw lx">npx create-react-app studentregistry<br/>cd studentregistry<br/>npm start</span></pre><p id="d73e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">关于https://reactjs.org/docs/create-a-new-react-app.html<code class="fe ly lz ma lo b">create-react-app</code>→<a class="ae mb" href="https://reactjs.org/docs/create-a-new-react-app.html" rel="noopener ugc nofollow" target="_blank">的更多细节</a></p><p id="73d5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">上面的命令将创建一个样板react项目，然后运行它。对<strong class="kt ir"> App.js </strong>做如下修改，添加两个新文件<strong class="kt ir"> StudentList.jsx </strong>和<strong class="kt ir"> StudentItem.jsx </strong>，代码如下。</p><h1 id="8acf" class="mc lt iq bd md me mf mg mh mi mj mk ml jw mm jx mn jz mo ka mp kc mq kd mr ms bi translated"><strong class="ak"> App.js </strong></h1><pre class="kg kh ki kj gt ln lo lp lq aw lr bi"><span id="0d94" class="ls lt iq lo b gy lu lv l lw lx"><em class="mt">import React, { Component } from 'react';<br/>import logo from './logo.svg';<br/>import './App.css';<br/>import StudentList from './StudentList.jsx';</em></span><span id="2977" class="ls lt iq lo b gy mu lv l lw lx">const studentList = [<br/>  {id:1,name:'John Doe',grade:1,school:'React Redux School'},<br/>  {id:2,name:'Jane Doe',grade:2,school:'React Redux School'},  <br/>  {id:3,name:'Terry Adams',grade:3,school:'React Redux School'},<br/>  {id:4,name:'Jenny Smith',grade:4,school:'React Redux School'}<br/>];</span><span id="d7c1" class="ls lt iq lo b gy mu lv l lw lx">if (localStorage.getItem("students") === null) {<br/>  localStorage.setItem('students', JSON.stringify(studentList));<br/>}</span><span id="10a1" class="ls lt iq lo b gy mu lv l lw lx"><strong class="lo ir">class App extends Component</strong> {<br/>  <strong class="lo ir">constructor</strong>(props) {<br/>    super(props);<br/>    this.state = {<br/>      studentList: []<br/>    }</span><span id="4481" class="ls lt iq lo b gy mu lv l lw lx">    this.editStudentSubmit = this.editStudentSubmit.bind(this);<br/>    this.deleteStudent = this.deleteStudent.bind(this);<br/>    this.addNewStudent = this.addNewStudent.bind(this);<br/>  }</span><span id="f294" class="ls lt iq lo b gy mu lv l lw lx"><strong class="lo ir">  componentWillMount</strong>() {<br/>    let studentList = JSON.parse(localStorage.getItem("students"));<br/>    this.setState((prevState, props) =&gt; ({<br/>      studentList: studentList<br/>    });<br/>  }</span><span id="02c2" class="ls lt iq lo b gy mu lv l lw lx"><strong class="lo ir">  addNewStudent</strong>() {<br/>    this.setState((prevState, props) =&gt; ({<br/>      studentList: [...prevState.studentList, {  <br/>        id: Math.max(...prevState.studentList.map(function(o){<br/>          return o.id<br/>        })) + 1,name: '', grade: 1, school: '' <br/>      }]<br/>    }));<br/>  }</span><span id="508b" class="ls lt iq lo b gy mu lv l lw lx"><strong class="lo ir">  deleteStudent</strong>(id) {<br/>    let r = window.confirm("Do you want to delete this item");<br/>    if (r === true) {<br/>      let filteredStudentList = this.state.studentList.filter(<br/>        x =&gt; x.id !== id<br/>      );</span><span id="a965" class="ls lt iq lo b gy mu lv l lw lx">       this.setState((prevState, props) =&gt; ({<br/>          studentList: filteredStudentList<br/>       }));</span><span id="993c" class="ls lt iq lo b gy mu lv l lw lx">       localStorage.setItem(<br/>         'students',<br/>         JSON.stringify(filteredStudentList)<br/>       );<br/>    }<br/>  }</span><span id="f6d9" class="ls lt iq lo b gy mu lv l lw lx"><strong class="lo ir">  editStudentSubmit</strong>(id,name, grade, school) {<br/>    let studentListCopy = this.state.studentList.map((student) =&gt; {<br/>    <br/>      if (student.id === id) {<br/>        student.name = name;<br/>        student.grade = grade;<br/>        student.school = school;<br/>      }</span><span id="3223" class="ls lt iq lo b gy mu lv l lw lx">      return student;<br/>    });</span><span id="3743" class="ls lt iq lo b gy mu lv l lw lx">    this.setState((prevState, props) =&gt; ({<br/>      studentList: studentListCopy<br/>    }));</span><span id="6312" class="ls lt iq lo b gy mu lv l lw lx">    localStorage.setItem(<br/>      'students',<br/>      JSON.stringify(studentListCopy)<br/>    );<br/>  }</span><span id="2d0f" class="ls lt iq lo b gy mu lv l lw lx"><strong class="lo ir">  render</strong>() {<br/>    return (<br/>      &lt;div className="container-fluid"&gt;<br/>        &lt;div className="row mt-3"&gt;&lt;div className="col-lg-12"&gt;<br/>          &lt;div className="card"&gt;<br/>            &lt;div className="card-header"&gt;<br/>              Student Registry<br/>            &lt;/div&gt;<br/>            &lt;div className="card-body"&gt;<br/>              &lt;table className="table table-hover"&gt;<br/>                &lt;thead className="thead-dark"&gt;&lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Grade&lt;/th&gt;&lt;th&gt;School&lt;/th&gt;&lt;th&gt;Edit/Save&lt;/th&gt;&lt;th&gt;Delete&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;<br/>                &lt;StudentList<br/>                  deleteStudent={this.deleteStudent}<br/>                  studentList={this.state.studentList}<br/>                  editStudentSubmit={this.editStudentSubmit}<br/>                /&gt;<br/>              &lt;/table&gt;<br/>            &lt;button<br/>              className="btn btn-dark pull-left"<br/>              onClick={this.addNewStudent}&gt;<br/>              Add New<br/>            &lt;/button&gt;<br/>          &lt;/div&gt;<br/>        &lt;/div&gt;<br/>      &lt;/div&gt;<br/>     &lt;/div&gt;<br/>    &lt;/div&gt;<br/>   );<br/>  }<br/>}</span><span id="ef7e" class="ls lt iq lo b gy mu lv l lw lx">export default App;</span></pre><h1 id="307a" class="mc lt iq bd md me mf mg mh mi mj mk ml jw mm jx mn jz mo ka mp kc mq kd mr ms bi translated"><strong class="ak"> StudentList.jsx </strong></h1><pre class="kg kh ki kj gt ln lo lp lq aw lr bi"><span id="4df2" class="ls lt iq lo b gy lu lv l lw lx"><em class="mt">import React, { Component } from 'react';<br/>import StudentItem from './StudentItem.jsx';</em></span><span id="9848" class="ls lt iq lo b gy mu lv l lw lx"><strong class="lo ir">export default class StudentList extends Component</strong> {<br/>  <strong class="lo ir">render</strong>() {<br/>    let students = this.props.studentList;<br/>    const trItem = students.map((item,index) =&gt; (<br/>      &lt;StudentItem<br/>        key={index}<br/>        student={item}<br/>        index={index}<br/>        editStudentSubmit={this.props.editStudentSubmit}      <br/>        deleteStudent={this.props.deleteStudent}<br/>      /&gt;<br/>    ));</span><span id="bb43" class="ls lt iq lo b gy mu lv l lw lx">    return &lt;tbody&gt;{trItem}&lt;/tbody&gt;;<br/>  }<br/>}</span></pre><h1 id="9b0b" class="mc lt iq bd md me mf mg mh mi mj mk ml jw mm jx mn jz mo ka mp kc mq kd mr ms bi translated"><strong class="ak"> StudentItem.jsx </strong></h1><pre class="kg kh ki kj gt ln lo lp lq aw lr bi"><span id="98b9" class="ls lt iq lo b gy lu lv l lw lx"><em class="mt">import React, { Component } from 'react';</em></span><span id="7043" class="ls lt iq lo b gy mu lv l lw lx"><strong class="lo ir">export default class StudentItem extends Component </strong>{<br/>  <strong class="lo ir">constructor</strong>(props){<br/>    super(props);<br/>    this.state ={isEdit:false}<br/>    this.editStudent = this.editStudent.bind(this);<br/>    this.editStudentSubmit = this.editStudentSubmit.bind(this);<br/>    this.deleteStudent = this.deleteStudent.bind(this);<br/>  }</span><span id="670c" class="ls lt iq lo b gy mu lv l lw lx"><strong class="lo ir">  deleteStudent</strong>(){<br/>    const {id} = this.props.student;<br/>    this.props.deleteStudent(id);<br/>  }</span><span id="834f" class="ls lt iq lo b gy mu lv l lw lx"><strong class="lo ir">  editStudent</strong>(){<br/>    this.setState((prevState,props) =&gt; ({<br/>      isEdit : !prevState.isEdit<br/>    }))<br/>  }</span><span id="f1ea" class="ls lt iq lo b gy mu lv l lw lx"><strong class="lo ir">  editStudentSubmit</strong>(){<br/>    const {id} = this.props.student;<br/>    this.setState((prevState,props) =&gt; ({<br/>      isEdit : !prevState.isEdit<br/>    }));</span><span id="85de" class="ls lt iq lo b gy mu lv l lw lx">     <br/>    this.props.editStudentSubmit(<br/>      id,<br/>      this.nameInput.value,<br/>      this.gradeInput.value,<br/>      this.schoolInput.value<br/>    );<br/>  }</span><span id="8ec3" class="ls lt iq lo b gy mu lv l lw lx"><strong class="lo ir">  render</strong>() {<br/>    const {name,grade,school} = this.props.student;</span><span id="a41b" class="ls lt iq lo b gy mu lv l lw lx">    return (<br/>      this.state.isEdit === true ? (<br/>        &lt;tr className="bg-warning" key={this.props.index}&gt;<br/>          &lt;td&gt;<br/>            &lt;input ref={nameInput =&gt; this.nameInput = nameInput} defaultValue ={name}/&gt;<br/>          &lt;/td&gt;<br/>          &lt;td&gt;&lt;input defaultValue={grade} ref={gradeInput =&gt; this.gradeInput = gradeInput}/&gt;<br/>          &lt;/td&gt;<br/>          &lt;td&gt;<br/>            &lt;input ref={schoolInput =&gt; this.schoolInput = schoolInput} defaultValue={school}/&gt;<br/>          &lt;/td&gt;<br/>          &lt;td&gt;&lt;i className="far fa-save" onClick={this.editStudentSubmit}&gt;&lt;/i&gt;<br/>          &lt;/td&gt;<br/>          &lt;td&gt;&lt;i className="fas fa-trash"&gt;&lt;/i&gt;&lt;/td&gt;<br/>        &lt;/tr&gt;<br/>      ) : (<br/>        &lt;tr key={this.props.index}&gt;<br/>          &lt;td&gt;{name}&lt;/td&gt;<br/>          &lt;td&gt;{grade}&lt;/td&gt;<br/>          &lt;td&gt;{school}&lt;/td&gt;<br/>          &lt;td&gt;&lt;i className="far fa-edit" onClick={this.editStudent}&gt;&lt;/i&gt;&lt;/td&gt;<br/>          &lt;td&gt;&lt;i className="fas fa-trash" onClick={this.deleteStudent}&gt;&lt;/i&gt;&lt;/td&gt;<br/>&lt;/tr&gt;<br/>      )<br/>    );<br/>  }<br/>}</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mv"><img src="../Images/31088ee487897d5429d9b592f0278fed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HHE_A06IXqx1DdyKX-pM7Q.jpeg"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mw"><img src="../Images/486e28cd673e21d04114cdf9af744daa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7_9Ik_GSj_bUw1kq3fRxpQ.jpeg"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mx"><img src="../Images/25f9ac6aa3c71aee8c19fd93bd630ba5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rr097Jjpbjw8eUBUSfFmSQ.jpeg"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/da43b167474576e8efa2814311b6d1a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0DtSqCPROT5K7SuF-tgCbg.jpeg"/></div></div></figure><p id="c7a3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对<strong class="kt ir"> <em class="mt"> App.js、StudentList.jsx和StudentItem.jsx </em> </strong>做了这些更改后，如果现在运行<code class="fe ly lz ma lo b"><strong class="kt ir">npm start</strong></code>，上面的页面应该会打开。这是一个简单的React CRUD应用程序，完成了所有的CRUD操作。</p></div><div class="ab cl mz na hu nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ij ik il im in"><h2 id="6757" class="ls lt iq bd md ng nh dn mh ni nj dp ml la nk nl mn le nm nn mp li no np mr nq bi translated"><strong class="ak">还原React应用:</strong></h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nr"><img src="../Images/b638ee0b7cf6a03203310ac5b2363845.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gZgzQTPqgS9opZBvjB9tUg.png"/></div></div></figure><p id="7eb4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这是我们将要创建的同一个学生注册应用程序，但是状态管理现在将由Redux处理。让我们使用CRA CLI创建一个常规的React应用程序，然后安装Redux及其React绑定。所以回到终端，输入以下命令-</p><pre class="kg kh ki kj gt ln lo lp lq aw lr bi"><span id="e22d" class="ls lt iq lo b gy lu lv l lw lx"><strong class="lo ir">npx create-react-app studentregistryredux<br/>npm install --save redux react-redux</strong></span></pre><p id="b6b9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir"> Redux </strong>是一个状态管理库，可以用来<strong class="kt ir">管理任何应用的状态</strong>，而不仅仅是React。当使用Redux时，你会发现我们可能需要写更多的代码来完成同样的事情。这是由设计决定的，但是您的应用程序状态更易于管理，测试也变得容易。</p><h1 id="20a2" class="mc lt iq bd md me mf mg mh mi mj mk ml jw mm jx mn jz mo ka mp kc mq kd mr ms bi translated">Redux的三大支柱</h1><blockquote class="ns nt nu"><p id="8f61" class="kr ks mt kt b ku kv jr kw kx ky ju kz nv lb lc ld nw lf lg lh nx lj lk ll lm ij bi translated"><strong class="kt ir">商店</strong></p><p id="fc82" class="kr ks mt kt b ku kv jr kw kx ky ju kz nv lb lc ld nw lf lg lh nx lj lk ll lm ij bi translated"><strong class="kt ir">动作</strong></p><p id="6516" class="kr ks mt kt b ku kv jr kw kx ky ju kz nv lb lc ld nw lf lg lh nx lj lk ll lm ij bi translated"><strong class="kt ir">减速器</strong></p></blockquote><p id="9ceb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们通过执行以下操作对<code class="fe ly lz ma lo b">index.js</code>进行更改:</p><ol class=""><li id="a397" class="ny nz iq kt b ku kv kx ky la oa le ob li oc lm od oe of og bi translated">添加具有初始状态的存储。向存储提供初始状态是可选的。</li><li id="317e" class="ny nz iq kt b ku oh kx oi la oj le ok li ol lm od oe of og bi translated"><strong class="kt ir">存储:</strong>存储是将动作和还原器集合在一起的对象。</li><li id="8910" class="ny nz iq kt b ku oh kx oi la oj le ok li ol lm od oe of og bi translated">商店有以下责任:</li></ol><p id="4e48" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">保存应用程序状态。允许通过<code class="fe ly lz ma lo b">getState()</code>访问状态。允许通过<code class="fe ly lz ma lo b">dispatch(action)</code>更新状态。</p><p id="2e1c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">4.用来自<code class="fe ly lz ma lo b">react-redux</code>的<code class="fe ly lz ma lo b">Provider</code>封装<code class="fe ly lz ma lo b">App</code>并将存储注入提供者</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="6708" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接下来，让我们在<code class="fe ly lz ma lo b">src</code>下创建一个名为<code class="fe ly lz ma lo b">reducers</code>的文件夹，添加一个名为<code class="fe ly lz ma lo b">studentReducer.js</code>的文件，并粘贴以下代码。</p><p id="df54" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">reducer</strong>—reducer指定应用程序的状态如何改变，以响应发送到商店的<a class="ae mb" href="https://redux.js.org/basics/actions" rel="noopener ugc nofollow" target="_blank">动作</a>。记住，动作只描述了发生了什么，而没有描述应用程序的状态是如何变化的。<a class="ae mb" href="https://redux.js.org/basics/reducers" rel="noopener ugc nofollow" target="_blank">https://redux.js.org/basics/reducers</a></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="a745" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接下来，让我们在<code class="fe ly lz ma lo b">src</code>下创建一个名为actions的新文件夹，并创建一个名为<code class="fe ly lz ma lo b">studentActions.js</code>的文件，然后粘贴以下代码。我为每个动作创建了独立的导出函数，因为它在导入它们方面提供了更多的灵活性。它们可以像这里一样单独导入，也可以使用i <code class="fe ly lz ma lo b">mport *</code>批量导入。</p><p id="dde1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">操作— </strong>操作是将数据从您的应用程序发送到您的商店的有效信息负载。他们是商店唯一的信息来源。Reducers知道如何根据执行的动作更新应用程序存储/状态。<a class="ae mb" href="https://redux.js.org/basics/actions" rel="noopener ugc nofollow" target="_blank">https://redux.js.org/basics/actions</a></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="05d8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">需要对<strong class="kt ir"> App.js </strong>文件进行重大修改。这是与Redux存储器连接的容器或<strong class="kt ir">智能组件</strong>，而<code class="fe ly lz ma lo b">StudentList</code>和<code class="fe ly lz ma lo b">StudentItem</code>是不与存储器连接的<strong class="kt ir">虚拟组件</strong>。所有传统的状态管理代码已经从App.js中移除，现在状态由<strong class="kt ir"> Redux </strong>管理。</p><p id="b822" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">下面的代码部分显示了使用Redux <code class="fe ly lz ma lo b"><strong class="kt ir">connect</strong></code>中的<code class="fe ly lz ma lo b"><strong class="kt ir">mapStateToProps</strong></code> <strong class="kt ir"> </strong>将商店中的状态映射到<code class="fe ly lz ma lo b">props</code>的位置。我们在<code class="fe ly lz ma lo b">studentActions.js</code>中创建的动作也使用<code class="fe ly lz ma lo b"><strong class="kt ir">connect</strong></code> <strong class="kt ir"> </strong>中的<code class="fe ly lz ma lo b"><strong class="kt ir">mapDispatchToProps</strong></code> <strong class="kt ir"> </strong>与它们对应的用户事件进行映射，如下所示。</p><pre class="kg kh ki kj gt ln lo lp lq aw lr bi"><span id="9445" class="ls lt iq lo b gy lu lv l lw lx">const <strong class="lo ir">mapStateToProps </strong>= (state) =&gt; {<br/>  return {<br/>    studentList : state<br/>  }<br/>}</span><span id="2df5" class="ls lt iq lo b gy mu lv l lw lx">const <strong class="lo ir">mapDispatchToProps </strong>= (dispatch) =&gt; {<br/>  return bindActionCreators({<br/>    addStudent:addStudent,<br/>    deleteStudent:deleteStudent,<br/>    updateStudent:updateStudent<br/>  },dispatch);<br/>}</span><span id="4280" class="ls lt iq lo b gy mu lv l lw lx">export default<strong class="lo ir"> connect(mapStateToProps,mapDispatchToProps)</strong>(App);</span></pre><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="3f3e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">通过这些更改，我们完成了简化react应用程序所需的所有更改。</p><p id="8dfb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">万岁！！我们完成了，我们可以看到学生注册的行为和没有Redux时一样。</p><h2 id="5bef" class="ls lt iq bd md ng nh dn mh ni nj dp ml la nk nl mn le nm nn mp li no np mr nq bi translated">简化应用程序的更改摘要:</h2><ol class=""><li id="667d" class="ny nz iq kt b ku oo kx op la oq le or li os lm od oe of og bi translated">安装npm软件包<code class="fe ly lz ma lo b">redux react-redux</code></li><li id="b8bd" class="ny nz iq kt b ku oh kx oi la oj le ok li ol lm od oe of og bi translated">添加具有可选初始状态的Redux存储</li><li id="6e3a" class="ny nz iq kt b ku oh kx oi la oj le ok li ol lm od oe of og bi translated">添加减速器</li><li id="c6d8" class="ny nz iq kt b ku oh kx oi la oj le ok li ol lm od oe of og bi translated">用来自<code class="fe ly lz ma lo b">react-redux</code>的<code class="fe ly lz ma lo b">Provider</code>封装<code class="fe ly lz ma lo b">App</code>，并将存储注入提供者</li><li id="2e86" class="ny nz iq kt b ku oh kx oi la oj le ok li ol lm od oe of og bi translated">添加操作</li><li id="d34d" class="ny nz iq kt b ku oh kx oi la oj le ok li ol lm od oe of og bi translated">在容器组件中添加<code class="fe ly lz ma lo b"><strong class="kt ir">mapStateToProps</strong></code> <strong class="kt ir">、</strong> <code class="fe ly lz ma lo b"><strong class="kt ir">mapDispatchToProps</strong></code> <strong class="kt ir"> </strong>和<code class="fe ly lz ma lo b"><strong class="kt ir">connect</strong></code> <strong class="kt ir"> </strong>。</li></ol><p id="f847" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这两款应用都使用bootstrap 4和fontawesome图标。这是一个基本的示例应用程序，通过与常规的React应用程序进行比较和对比来帮助您理解Redux，并解释如何将Redux的基本组件放在一起。希望对你有用。</p><p id="6edd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">暂时就这样了。快乐编码。</p><p id="c96b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我知道它是否适合你，或者如果你有任何问题，请评论。</p><p id="2e64" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你觉得这篇文章有帮助，鼓掌！👏👏👏。</p><p id="f385" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir"> GitHub链接:</strong></p><div class="ot ou gp gr ov ow"><a href="https://github.com/cakiran/StudentRegistryRedux" rel="noopener  ugc nofollow" target="_blank"><div class="ox ab fo"><div class="oy ab oz cl cj pa"><h2 class="bd ir gy z fp pb fr fs pc fu fw ip bi translated">cakiran/StudentRegistryRedux</h2><div class="pd l"><h3 class="bd b gy z fp pb fr fs pc fu fw dk translated">用Redux反应CRUD app。在GitHub上创建一个帐户，为cakiran/StudentRegistryRedux开发做贡献。</h3></div><div class="pe l"><p class="bd b dl z fp pb fr fs pc fu fw dk translated">github.com</p></div></div><div class="pf l"><div class="pg l ph pi pj pf pk kp ow"/></div></div></a></div><div class="ot ou gp gr ov ow"><a href="https://github.com/cakiran/StudentRegistry" rel="noopener  ugc nofollow" target="_blank"><div class="ox ab fo"><div class="oy ab oz cl cj pa"><h2 class="bd ir gy z fp pb fr fs pc fu fw ip bi translated">caki ran/学生注册表</h2><div class="pd l"><h3 class="bd b gy z fp pb fr fs pc fu fw dk translated">React CRUD app不带Redux。在GitHub上创建一个帐户，为cakiran/StudentRegistry的开发做出贡献。</h3></div><div class="pe l"><p class="bd b dl z fp pb fr fs pc fu fw dk translated">github.com</p></div></div><div class="pf l"><div class="pl l ph pi pj pf pk kp ow"/></div></div></a></div></div><div class="ab cl mz na hu nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ij ik il im in"><div class="kg kh ki kj gt ow"><a href="https://gitconnected.com/learn/react" rel="noopener  ugc nofollow" target="_blank"><div class="ox ab fo"><div class="oy ab oz cl cj pa"><h2 class="bd ir gy z fp pb fr fs pc fu fw ip bi translated">学习React -最佳React教程(2019) | gitconnected</h2><div class="pd l"><h3 class="bd b gy z fp pb fr fs pc fu fw dk translated">React是一个现代JavaScript库，前端web开发人员使用它来构建用户界面(UI)。它用于…</h3></div><div class="pe l"><p class="bd b dl z fp pb fr fs pc fu fw dk translated">gitconnected.com</p></div></div><div class="pf l"><div class="pm l ph pi pj pf pk kp ow"/></div></div></a></div></div></div>    
</body>
</html>