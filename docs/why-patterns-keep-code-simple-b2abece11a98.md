# 为什么模式保持代码简单

> 原文：<https://levelup.gitconnected.com/why-patterns-keep-code-simple-b2abece11a98>

![](img/3e28fed92868d8fb5172c7d710411208.png)

菲利普·米德尔顿在 [Unsplash](https://unsplash.com/s/photos/simple-building?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上的照片

像大多数开发人员一样，我发现自己每天都在解决许多相同的问题。它们在上下文中不同，但通常在结构或目标上相似。像大多数开发人员一样，当我解决这些问题时，我试图在代码中找到共同的线索，这样我每次都能以相似的方式解决它们。

正是这种需求驱使四人组写了他们的开创性著作*设计模式*。如果你在过去的二十年里一直是一名开发人员，你可能听说过这本书。这是一本充满了解决常见问题的有用模式的书。

虽然是针对面向对象的问题，但下面的核心思想适用于所有的编码范例。一个模式不一定是面向对象的、函数式的、过程式的或其他的。模式只是解决已知问题的已知方法。

我这篇文章的目标是提供更多的背景知识，让模式变得强大。如果你不明白某样东西为什么会起作用，盲目地复制它就有点像撒谎。这是最真实的“假装你成功了”。相反，我们应该努力获得尽可能好的理解。

## 起源

为了理解模式出现的原因，我们需要看一看一些建筑历史。

克里斯托弗·亚历山大是 40 年代、50 年代及以后的建筑师。他对建筑和一般设计的最大贡献之一是他对模式的重视。他看到，作为一名建筑师，他一遍又一遍地重新设计建筑的相似部分。当他注意到这一点时，他后退了一步，以确定正在发生什么，以及如何考虑重新设计已经设计好的东西的需要。他在 1977 年写了一本书， [*一种模式语言*](https://en.wikipedia.org/wiki/A_Pattern_Language)*，从此塑造了建筑、计算机科学和城市规划领域。*

*该书的核心论点是“模式语言”的思想。你可能会问什么？维基百科的定义有点枯燥，但它是这样的:*

> *模式语言是一种在专业领域内描述良好设计实践或有用组织模式的方法*

*即使这样也是相当抽象的…这在某种程度上是一种讽刺。我是这样定义模式语言的:**一种谈论常见问题及其解决方案的常见方式** s。*

*不需要描述一个领域中的每一个问题(设计、架构、软件、规划等等)。)你可以在反复出现的问题中找到共性。然后你给这个问题一个名字。接下来，您可以描述该问题的通用解决方案，并将该解决方案与相同的名称相关联。由于每个问题现在都有一个名称和解决方案，如果其他人对相同的问题和解决方案使用相同的名称，您可以有一个共享的语言来讨论和协作。那道题和它的解法都是一个模式。*

## *名称又能代表什么呢*

*有了这样的背景，我们就能明白为什么仅仅存在一个模式是有帮助的了。它消除了混乱、模糊和冗长的技术解释的需要。*

*因为我们有了模式，不需要每次看到都用小说的方式解决问题。相反，我们可以参考在现实世界中发现、定义、提炼和使用的解决方案。当正确应用时，模式可以在代码库内(以及跨代码库)产生可重用的抽象。).所有这些都有助于保持我们的代码简单。*

*此外，当我们的团队意识到相同的模式和语言时，我们就不需要花时间去写那些明天就会过时的无限的文档或注释。我们可以简单地说“这个组件与另一个组件结合使用，形成一个装饰器”。或者“这个组件负责减少从待办组件发出的动作”。*

*如果你明白那些东西是什么，那么你就知道我在说什么。如果一个想法，即使是一个复杂的想法，可以简单地交流和表达，在某些方面，想法本身变得更简单。*

*我们的*语言*现在在另一个层面上，我们可以更有效地交流，因为更容易理解彼此在说什么。了解每个团队、组织和代码库自然会创建他们自己的模式语言也很重要。这是一件**好**的事情，进一步有助于在相关人员之间建立理解。*

## *简单不代表基本*

*许多人可能在阅读和思考“上次我阅读一个模式 UML 图时，它非常令人困惑并且高度技术性”。这是很重要的一点，也是我想谈的一点。*

*我的回答是，简单的代码并不意味着它是基本的。这可能需要对指针的工作原理有更深的理解。这可能需要更好地理解一些数据或交互的模型。但是在所有这些情况下，你拥有的知识越多，你的代码*就会越简单。如果你曾经读过一些来自算法或破解代码访谈的伪代码，那就非常简单了。它也是解决非常棘手问题的代码。**

*另一个例子是我们这个时代最伟大的运动员。他们有简单的规则来管理他们的生活:吃饭、睡觉、练习等等。但是，仅仅因为它们简单，并不意味着它们容易或不那么有意义。他们不再追求下一个复杂的训练制度或饮食，而是专注于他们可以遵循的简单规则，这样在一年多的时间里，他们将在健身房或球场上度过数百个小时。*

## *模式不能保证简单*

*在这一点上，我必须提醒你，模式不是魔术。添加一个“正当理由”模式不会让你的代码变得更好。像任何工具一样，它们可能被误用、滥用或生锈。当这种情况发生时，很有可能你的代码不是简单的，而是粗糙的，难以维护的。*

*这又回到了亚历山大最初关于模式的想法。在他描述的模式中，他提到没有一个是最终的或绝对的。他告诫不要采取“一刀切”的做法，他说:*

> *所有 253 种模式仍然是假设，因此都是试验性的，在新的经验和观察的影响下可以自由发展。*
> 
> *— Christopher Alexander 等，一种模式语言，第 xv 页*

*整篇文章都可以写在那一句引语上。简而言之，它只是说模式会改变。Alexander 所定义的(以及软件工程师所定义的)模式仅仅是一种假设，即你应该在你的特定环境中测试。如果有帮助，那就用吧！如果没有，就不要勉强。*

*所有这些都是为了说明模式保持代码简单，因为它们促进了对已知问题和已知解决方案的共同理解。没有一个是完美的，或者适合你需要解决的所有问题，所以要考虑周全，在需要的时候测试它们。*

*编码快乐！*