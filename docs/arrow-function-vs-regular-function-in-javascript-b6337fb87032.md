# JavaScript ä¸­çš„ç®­å¤´å‡½æ•°ä¸å¸¸è§„å‡½æ•°

> åŸæ–‡ï¼š<https://levelup.gitconnected.com/arrow-function-vs-regular-function-in-javascript-b6337fb87032>

![](img/98925b19c735314afde3d7b550ed8d23.png)

è‡ª ECMAScript 2015 ä»¥æ¥ï¼Œç®­å¤´å‡½æ•°å·²è¢«é‡‡ç”¨ï¼Œè¿™æ˜¯ä¸€ä¸ªç®€å•ä½†éå¸¸å¼ºå¤§çš„åŠŸèƒ½ã€‚ç„¶è€Œï¼Œç®­å¤´å‡½æ•°ä¸åŒäºæ™®é€šå‡½æ•°ã€‚é‚£æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ

# è¯­æ³•:

```
// (param1, param2, paramN) => expression// ES5 Regular function
var add = function(x, y) { 
return x + y;
};// ES6 Arrow function
let add = (x, y) => { return x + y };
```

JavaScript ç®­å¤´å‡½æ•°å¤§è‡´ç›¸å½“äº python ä¸­çš„ [lambda å‡½æ•°æˆ–è€… Ruby](https://www.programiz.com/python-programming/anonymous-function) ä¸­çš„[å—ï¼Œä½†æ˜¯å®ƒä»¬æœ‰æ›´å¤æ‚çš„ç»†èŠ‚ã€‚ç®­å¤´å‡½æ•°å…è®¸å¼€å‘äººå‘˜ç”¨æ›´å°‘çš„ä»£ç è¡Œå’Œå¤§çº¦ä¸€åŠçš„è¾“å…¥æ¥å®Œæˆç›¸åŒçš„ç»“æœã€‚](http://ruby-for-beginners.rubymonstas.org/blocks.html)

å¦‚æœåªæœ‰ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå°±ä¸éœ€è¦èŠ±æ‹¬å·ï¼Œå®ƒä¼šä»å‡½æ•°ä¸­éšå¼è¿”å›è¿™ä¸ªç»“æœã€‚ä¸Šé¢çš„ä¾‹å­ä¹Ÿå¯ä»¥å†™æˆè¿™æ ·:

```
let add = (x, y) => x + y;
```

![](img/75374e4ddd9d0ca61896c74fb97ade39.png)

# `"this"` è£…è®¢

ä¸å¸¸è§„å‡½æ•°ä¸åŒï¼Œç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„`this`æˆ–`arguments`ç»‘å®šã€‚ç›¸åï¼Œè¿™äº›æ ‡è¯†ç¬¦åƒä»»ä½•å…¶ä»–å˜é‡ä¸€æ ·åœ¨è¯æ³•èŒƒå›´å†…è¢«è§£æã€‚è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­:

```
name ="Arrow function"
let me = { 
 name: "Regular function", 
 thisInArrow:() => { 
   console.log("Example of " + this.name); //no 'this' binding here 
 }, 
 thisInRegular(){ 
   console.log("Example of " + this.name); //'this' binding works here 
 } 
};
me.thisInArrow(); 
me.thisInRegular();
```

ä¸å¸¸è§„å‡½æ•°ä¸åŒï¼Œç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„`this`ã€‚åœ¨ç®­å¤´å‡½æ•°çš„æƒ…å†µä¸‹ï¼Œ`this`æŒ‡çš„æ˜¯ç®­å¤´å‡½æ•°åœ¨ä¸­å®šä¹‰çš„*ç¯å¢ƒä¸­çš„`this`çš„å€¼(å³åœ¨ç®­å¤´å‡½æ•°çš„â€œå¤–éƒ¨â€)ï¼Œå¹¶ä¸”åœ¨å‡½æ•°çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­ä¿æŒä¸å˜ï¼Œå¹¶ä¸”æ€»æ˜¯ç»‘å®šåˆ°æœ€è¿‘çš„éç®­å¤´çˆ¶å‡½æ•°ä¸­çš„`this`çš„å€¼ã€‚*

è®©æˆ‘ä»¬å†çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­:

![](img/890468c1170497a23e98034e23b0e6e7.png)![](img/d4228d0b522334e65822d610dbdf6074.png)

åœ¨å‡½æ•°è¡¨è¾¾å¼ä¸­ï¼Œ`this`æŒ‡çš„æ˜¯åœ¨`createObject`ä¸­åˆ›å»ºçš„å¯¹è±¡ã€‚åœ¨ç®­å¤´åŠŸèƒ½æƒ…å†µä¸‹ï¼Œ`this`æ˜¯æŒ‡`createObject`æœ¬èº«çš„`this`ã€‚

# â€œå‚æ•°â€ç»‘å®š:

Arguments å¯¹è±¡åœ¨ç®­å¤´å‡½æ•°ä¸­ä¸å¯ç”¨ï¼Œä½†åœ¨å¸¸è§„å‡½æ•°ä¸­å¯ç”¨ã€‚

***å¸¸è§„åŠŸèƒ½:***

```
let myFunc = { 
 showArgs(){ 
   console.log(arguments); 
 } 
}; 
myFunc.showArgs(1, 2, 3, 4);
```

![](img/bda87a65d76ce761df5af269dce6df9d.png)

**ç®­å¤´åŠŸèƒ½:**

```
let myFunc = { 
 showArgs : ()=> {
      console.log(arguments); 
   }
}; 
myFunc.showArgs(1, 2, 3, 4);
```

![](img/6f173187248d9d0cf99ab4992f343f54.png)

# **ç®­å¤´åŠŸèƒ½ä¸èƒ½ç”¨ã€æ–°**è°ƒç”¨

ES6 åŒºåˆ†äº†*å¯è°ƒç”¨*çš„å‡½æ•°å’Œ*å¯æ„é€ *çš„å‡½æ•°ã€‚

å¦‚æœå‡½æ•°æ˜¯å¯æ„é€ çš„ï¼Œå¯ä»¥ç”¨`new`è°ƒç”¨ï¼Œå³`new User()`ã€‚å¦‚æœä¸€ä¸ªå‡½æ•°æ˜¯å¯è°ƒç”¨çš„ï¼Œé‚£ä¹ˆä¸éœ€è¦`new`å°±å¯ä»¥è°ƒç”¨(å³æ­£å¸¸çš„å‡½æ•°è°ƒç”¨)ã€‚

é€šè¿‡å‡½æ•°å£°æ˜/è¡¨è¾¾å¼åˆ›å»ºçš„å¸¸è§„å‡½æ•°æ—¢å¯æ„é€ åˆå¯è°ƒç”¨ã€‚

```
let x = **function**(){
   console.log(arguments);
};**new** x =(1,2,3);
```

![](img/df9eec8bbfbbd02065969838c3ccf4c7.png)

**ç®­å¤´å‡½æ•°**(å’Œæ–¹æ³•)ä»…å¯è°ƒç”¨ï¼Œå³ç®­å¤´å‡½æ•°æ°¸è¿œä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°ã€‚å› æ­¤ï¼Œæ°¸è¿œä¸èƒ½ç”¨å…³é”®å­—`new`è°ƒç”¨å®ƒä»¬ã€‚

```
let x = ()=> {
   console.log(arguments); 
};**new** x(1,2,3);
```

![](img/a5653e5de2808d35adcd3817a693e682.png)

# ä½•æ—¶ä¸ä½¿ç”¨ç®­å¤´åŠŸèƒ½:

æˆ‘å¸Œæœ›ä½ æ˜ç™½ï¼Œç®­å¤´å‡½æ•°å¹¶ä¸èƒ½åœ¨æ‰€æœ‰æƒ…å†µä¸‹å–ä»£å¸¸è§„å‡½æ•°ã€‚

åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œæ‚¨ä¸åº”è¯¥æŸ¥çœ‹ç®­å¤´å‡½æ•°ï¼Œ

**1ã€‚å¯¹è±¡æ–¹æ³•**

```
var cat = {
  lives: 9,
  jumps: () => {
    this.lives--;
  }
}
```

å½“ä½ å‘¼å«`cat.jumps`æ—¶ï¼Œç”Ÿå‘½æ•°é‡ä¸å‡å°‘ã€‚è¿™æ˜¯å› ä¸º`this`æ²¡æœ‰ç»‘å®šä»»ä½•ä¸œè¥¿ï¼Œå°†ä»å…¶çˆ¶ä½œç”¨åŸŸç»§æ‰¿`this`çš„å€¼ã€‚

**2ã€‚å…·æœ‰åŠ¨æ€ä¸Šä¸‹æ–‡çš„å›è°ƒå‡½æ•°**

çœ‹çœ‹ä¸‹é¢è¿™ä¸ªäº‹ä»¶å¤„ç†ç¨‹åº:

```
var button = document.getElementById('press');
button.addEventListener('click', () => {
  this.classList.toggle('on');
});
```

å¦‚æœæˆ‘ä»¬ç‚¹å‡»æŒ‰é’®ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸ªç±»å‹é”™è¯¯ã€‚è¿™æ˜¯å› ä¸º`this`æ²¡æœ‰ç»‘å®šåˆ°æŒ‰é’®ï¼Œè€Œæ˜¯ç»‘å®šåˆ°äº†å®ƒçš„çˆ¶ä½œç”¨åŸŸã€‚

**3ã€‚æ‰¿è¯ºå’Œæ‰¿è¯ºé“¾**

ç®­å¤´å‡½æ•°ä½¿ä»£ç æ›´å¹²å‡€ã€æ›´ç›´è§‚çš„å¦ä¸€ä¸ªåœ°æ–¹æ˜¯ç®¡ç†å¼‚æ­¥ä»£ç ã€‚

[æ‰¿è¯º](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises)è®©ç®¡ç†å¼‚æ­¥ä»£ç å˜å¾—æ›´åŠ å®¹æ˜“ã€‚ç„¶è€Œï¼Œä½¿ç”¨ promises ä»ç„¶éœ€è¦å®šä¹‰åœ¨å¼‚æ­¥ä»£ç æˆ–è°ƒç”¨å®Œæˆåè¿è¡Œçš„å‡½æ•°ã€‚

è¿™æ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°çš„ç†æƒ³ä½ç½®ï¼Œç‰¹åˆ«æ˜¯å¦‚æœä½ çš„ç»“æœå‡½æ•°æ˜¯æœ‰çŠ¶æ€çš„ï¼Œå¼•ç”¨ä½ çš„å¯¹è±¡ä¸­çš„ä¸€äº›ä¸œè¥¿ã€‚

ç¼ºç‚¹æ˜¯ç¡®ä¿ä½ å†æ¬¡ç†è§£`this`å°†å¦‚ä½•å·¥ä½œã€‚ç¤ºä¾‹:

```
**this**.doSomethingAsync().then((result) **=>** { **this**.storeResult(result); });
```

**4ã€‚å½“å®ƒä½¿ä½ çš„ä»£ç å¯è¯»æ€§é™ä½æ—¶**

æœ‰å¿…è¦è€ƒè™‘ä¸€ä¸‹æˆ‘ä»¬å‰é¢æåˆ°çš„å„ç§è¯­æ³•ã€‚æœ‰äº†å¸¸è§„å‡½æ•°ï¼Œäººä»¬å°±çŸ¥é“ä¼šå‘ç”Ÿä»€ä¹ˆã€‚ä½¿ç”¨ç®­å¤´åŠŸèƒ½ï¼Œå¯èƒ½å¾ˆéš¾ç›´æ¥ç ´è¯‘ä½ æ­£åœ¨çœ‹çš„ä¸œè¥¿ã€‚

# æœ€åçš„æƒ³æ³•ğŸ’­ ğŸ¤”

ç®­å¤´å‡½æ•°æ˜¯å¯¹ JavaScript è¯­è¨€çš„ä¸€ä¸ªå¾ˆå¥½çš„è¡¥å……ï¼Œåœ¨è®¸å¤šæƒ…å†µä¸‹å¯ä»¥å®ç°æ›´åŠ ç¬¦åˆäººä½“å·¥ç¨‹å­¦çš„ä»£ç ã€‚

ç„¶è€Œï¼Œåƒå…¶ä»–åŠŸèƒ½ä¸€æ ·ï¼Œå®ƒä»¬ä¹Ÿæœ‰ä¼˜ç‚¹å’Œç¼ºç‚¹ã€‚æˆ‘ä»¬åº”è¯¥æŠŠå®ƒä»¬ä½œä¸ºæˆ‘ä»¬å·¥å…·ç®±ä¸­çš„å¦ä¸€ä¸ªå·¥å…·ï¼Œè€Œä¸æ˜¯ä½œä¸ºæ‰€æœ‰åŠŸèƒ½çš„ä¸€æ½å­æ›¿ä»£å“ã€‚

è°¢è°¢ğŸ˜Šçœ‹äº†æˆ‘çš„æ–‡ç« ï¼Œå¦‚æœä½ å–œæ¬¢å°±åˆ†äº«å§ï¼æŸ¥çœ‹æˆ‘çš„å…¶ä»–æ–‡ç« 

**å»¶ä¼¸é˜…è¯»:**

[](https://medium.com/better-programming/difference-between-regular-functions-and-arrow-functions-f65639aba256) [## å¸¸è§„å‡½æ•°å’Œç®­å¤´å‡½æ•°çš„åŒºåˆ«

### æ¢ç´¢ ES6 ä¸­æ–°çš„èƒ–ç®­å¤´åŠŸèƒ½

medium.com](https://medium.com/better-programming/difference-between-regular-functions-and-arrow-functions-f65639aba256) [](https://www.geeksforgeeks.org/higher-order-arrow-functions-in-javascript/) [## JavaScript - GeeksforGeeks ä¸­çš„é«˜é˜¶ç®­å¤´å‡½æ•°

### å…ˆå†³æ¡ä»¶:ç®­å¤´å‡½æ•°é«˜é˜¶å‡½æ•°æ˜¯ä¸€ä¸ªæ¥å—å‡½æ•°ä½œä¸ºè‡ªå˜é‡çš„å‡½æ•°ï¼Œå¦åˆ™â€¦

www.geeksforgeeks.org](https://www.geeksforgeeks.org/higher-order-arrow-functions-in-javascript/) [](https://www.freecodecamp.org/news/when-and-why-you-should-use-es6-arrow-functions-and-when-you-shouldnt-3d851d7f0b26/) [## ä»€ä¹ˆæ—¶å€™(ä¸ºä»€ä¹ˆ)åº”è¯¥ä½¿ç”¨ ES6 ç®­å¤´åŠŸèƒ½ï¼Œä»€ä¹ˆæ—¶å€™ä¸åº”è¯¥ä½¿ç”¨

### ç”±è¾›è¥¿å¨…æä½•æ—¶(ä»¥åŠä¸ºä»€ä¹ˆ)ä½ åº”è¯¥ä½¿ç”¨ ES6 ç®­å¤´åŠŸèƒ½-å½“ä½ ä¸åº”è¯¥ç®­å¤´åŠŸèƒ½(ä¹Ÿç§°ä¸ºâ€¦

www.freecodecamp.org](https://www.freecodecamp.org/news/when-and-why-you-should-use-es6-arrow-functions-and-when-you-shouldnt-3d851d7f0b26/) [](https://stackoverflow.com/questions/34361379/are-arrow-functions-and-functions-equivalent-exchangeable) [## â€œç®­å¤´å‡½æ•°â€å’Œâ€œå‡½æ•°â€æ˜¯ç­‰ä»·çš„/å¯äº¤æ¢çš„å—ï¼Ÿ

### TLï¼›ç›:ä¸ï¼ç®­å¤´å‡½æ•°å’Œå‡½æ•°å£°æ˜/è¡¨è¾¾å¼æ˜¯ä¸ç­‰ä»·çš„ï¼Œä¸èƒ½ç›²ç›®æ›¿æ¢â€¦

stackoverflow.com](https://stackoverflow.com/questions/34361379/are-arrow-functions-and-functions-equivalent-exchangeable)