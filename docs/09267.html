<html>
<head>
<title>Tip of the Day: Scriptable Objects 101 in Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">日积月累:Unity中的可脚本化对象101</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/tip-of-the-day-scriptable-objects-101-in-unity-a1730c911b4d?source=collection_archive---------5-----------------------#2021-07-22">https://levelup.gitconnected.com/tip-of-the-day-scriptable-objects-101-in-unity-a1730c911b4d?source=collection_archive---------5-----------------------#2021-07-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="cc0d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在游戏开发过程中，总有一天你会需要在同一个游戏对象数据中添加大量不同的数据。例如，假设您正在制作一个纸牌游戏，您想要使用相同的纸牌模板创建30张不同的纸牌。一遍又一遍地同时制作30张不同的卡片会让人精疲力尽。空闲的方法是创建一个卡模板和一个数据容器模板。这就是<strong class="jp ir"> <em class="kl">可脚本化对象</em> </strong>发挥作用的地方。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/cbb5f912b08a0728fd1a9fee33a8e798.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bNFKrxajE_CrgpFvIEfI8g.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><a class="ae lc" href="https://forum.unity.com/threads/released-scriptableobject-architecture.591403/" rel="noopener ugc nofollow" target="_blank">团结论坛</a></figcaption></figure><blockquote class="ld le lf"><p id="14ea" class="jn jo kl jp b jq jr js jt ju jv jw jx lg jz ka kb lh kd ke kf li kh ki kj kk ij bi translated">什么是可脚本化对象</p></blockquote><p id="d4b7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">可脚本化对象基本上是一个数据容器，可以保存大量数据，独立于类实例。这意味着，现在你可以通过使用可脚本化的对象来节省空间和内存，而不是必须复制和存储许多占用大量空间和使用更多内存的预置实例。</p><blockquote class="ld le lf"><p id="15e7" class="jn jo kl jp b jq jr js jt ju jv jw jx lg jz ka kb lh kd ke kf li kh ki kj kk ij bi translated">如何使用它们</p></blockquote><p id="7287" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们以下面的例子，你需要建立一个移动动物园应用程序与互动地图，每当你点击一个栖息地，你想显示不同的动物卡。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi lj"><img src="../Images/74b95626b4edc6ff077b720a4b6f490a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9bq1hcn7g-xlrYz9x-ib2w.jpeg"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">交互式地图</figcaption></figure><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi lk"><img src="../Images/1ce88a3060adc42cbf38db8e3e1fbb57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WGNDc_pq5AYtpaiiM41r-Q.jpeg"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">动物卡片</figcaption></figure><p id="ee1d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">那么现在，如果你有10个甚至50个栖息地，每个都需要自己的动物卡，那该怎么办呢？你可以制作50张不同的动物卡片，并预先制作好它们，存放在你的场景中，但是这样会占用更多的空间和内存。</p><p id="ed3c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi ll translated">我认为我们应该使用可脚本化的对象。首先让我们创建一个C#脚本，名为“CardModelSO”。</p><ol class=""><li id="70b9" class="lu lv iq jp b jq jr ju jv jy lw kc lx kg ly kk lz ma mb mc bi translated">将脚本的继承从MonoBehaviour更改为ScriptableObject。</li><li id="7462" class="lu lv iq jp b jq md ju me jy mf kc mg kg mh kk lz ma mb mc bi translated">添加您希望存储在SO中的变量</li><li id="0d93" class="lu lv iq jp b jq md ju me jy mf kc mg kg mh kk lz ma mb mc bi translated">使用类上面的属性“CreateAssetMenu”。这将允许我们在编辑器中快速创建不同的可脚本化的对象。</li></ol><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mi"><img src="../Images/49d86dd3082a7cbb080fc0f2b3540f26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZAjoMPkLn67a2lhfZjz-aA.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">可编写脚本的对象脚本</figcaption></figure><p id="3fae" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，您可以在编辑器中创建可脚本化的对象。根据需要创建任意数量的对象，并将数据添加到每个可编写脚本的对象中。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/4dc6d0c0ff85e8a9a29b1fd038221519.png" data-original-src="https://miro.medium.com/v2/resize:fit:1142/format:webp/1*Hbsx73D-Vt1KHfTR265q0A.png"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">我们为销售订单创建的菜单名称</figcaption></figure><p id="6031" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在下面的GIF中，您将看到创建一个销售订单并在其中填入您的数据是多么容易。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/bdf10ebbaf09521061cab92262e30132.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/1*XDV7xOLQmTtX4bvgyGMlhg.gif"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">创建SO</figcaption></figure><p id="e227" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们为卡片本身创建了一个单独的C#脚本，它将受益于我们创建的so，这样，每次我们单击一个栖息地，它将根据我们的SO填充不同的数据。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mi"><img src="../Images/6a2dde25efbdb84bc1f5c8e1ba2fc7cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eBO0vJODzq1UAd6Vh4GuNw.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">模板视图卡片脚本</figcaption></figure><p id="d28a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，我们将把模板卡的每个UI元素分配给这个脚本，并将我们创建的So添加到数组中。数组的每个元素都有自己的索引，我们将使用它来让UI按钮知道使用哪个。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/749de610150351a9d2800664ec26d740.png" data-original-src="https://miro.medium.com/v2/resize:fit:788/format:webp/1*JSyw3qQeriGV9nk9ld1QLA.jpeg"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">查看卡片</figcaption></figure><p id="6156" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在交互式地图按钮上，我们将添加两个On Click()事件，一个事件将打开卡片，另一个事件将调用PopulateSelectedCard方法并指定和索引它，以便它知道要打开哪个so。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/0b99e66aecbd0811c3f9f231d0dd5e61.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*BkjaumlSiBpcgPX7c8G5zw.jpeg"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">点击事件时</figcaption></figure><p id="e18b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是它在游戏过程中的样子，正如你在下面看到的，它反应超级快，有助于提高游戏性能。每点击一次按钮，卡片就会被新数据填充。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mn"><img src="../Images/98a92ca5c828d2cd17e751727311e122.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*G26lFW9WMse61weRpLZ78w.gif"/></div></div></figure></div></div>    
</body>
</html>