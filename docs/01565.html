<html>
<head>
<title>Using GitHub Actions with iOS and Android Xamarin apps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在iOS和Android Xamarin应用程序中使用GitHub操作</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/using-github-actions-with-ios-and-android-xamarin-apps-693a93b48a61?source=collection_archive---------8-----------------------#2020-01-13">https://levelup.gitconnected.com/using-github-actions-with-ios-and-android-xamarin-apps-693a93b48a61?source=collection_archive---------8-----------------------#2020-01-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="f1e8" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">使用DEVOPS自动化您的工作流程</h2><div class=""/><div class=""><h2 id="ef34" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">从为每个推送或合并请求创建自动化构建开始</h2></div><p id="b792" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><a class="ae ln" href="https://theagileadmin.com/what-is-devops/" rel="noopener ugc nofollow" target="_blank"> DevOps </a>是每个软件架构师的必备之物，GitHub的CI/CD<code class="fe lo lp lq lr b"><a class="ae ln" href="https://github.com/features/actions" rel="noopener ugc nofollow" target="_blank">Actions</a></code>只是让每个人都能访问DevOps的又一步。自从我有机会看到CI/CD对移动团队效率的巨大影响，我就知道它对每个团队项目来说都是显而易见的！</p><h2 id="03e8" class="ls lt it bd lu lv lw dn lx ly lz dp ma la mb mc md le me mf mg li mh mi mj iz bi translated">介绍</h2><p id="6669" class="pw-post-body-paragraph kr ks it kt b ku mk kd kw kx ml kg kz la mm lc ld le mn lg lh li mo lk ll lm im bi translated">本文将教你如何最简单地使用GitHub操作:运行GitHub操作来对你的应用程序进行健全性测试——确保iOS和Android应用程序在每次提交或合并请求时构建，确保提交中没有引入会破坏构建的错误。</p><figure class="mq mr ms mt gt mu gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi mp"><img src="../Images/a199c3a32e71b5c6c4247ac85b3a6391.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Nn4eFS4E9FnE8ntawq_XLw.png"/></div></div><figcaption class="nb nc gj gh gi nd ne bd b be z dk translated">MainActivity中缺少分号的合并请求无法通过Android检查</figcaption></figure><p id="ad6b" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kt jd"> <em class="nf">第一个原型</em> </strong> <em class="nf">是一家新兴的移动App设计开发咨询小企业，专注于Xamarin表单和原生App。在</em> <a class="ae ln" href="https://thefirstprototype.com/mobile-app-development-detroit-ios-android.html" rel="noopener ugc nofollow" target="_blank"> <em class="nf">我们的网站</em> </a> <em class="nf">，和</em> <a class="ae ln" href="http://twitter.com/prototypemakers" rel="noopener ugc nofollow" target="_blank"> <em class="nf">支持</em> </a> <em class="nf">我们在</em> <a class="ae ln" href="http://instagram.com/prototypemakers" rel="noopener ugc nofollow" target="_blank"> <em class="nf">社交媒体</em> </a> <em class="nf">上报名，在</em><a class="ae ln" href="https://apps.apple.com/app/numberbomb/id1560372045" rel="noopener ugc nofollow" target="_blank"><em class="nf">iOS</em></a><em class="nf">&amp;</em><a class="ae ln" href="https://play.google.com/store/apps/details?id=com.tfp.numberbomb" rel="noopener ugc nofollow" target="_blank"><em class="nf">Android</em></a>上了解我们精彩的新数字炸弹游戏</p><h2 id="00f6" class="ls lt it bd lu lv lw dn lx ly lz dp ma la mb mc md le me mf mg li mh mi mj iz bi translated">你需要什么</h2><p id="96ca" class="pw-post-body-paragraph kr ks it kt b ku mk kd kw kx ml kg kz la mm lc ld le mn lg lh li mo lk ll lm im bi translated">你需要Github上<a class="ae ln" href="https://github.com/saamerm/Xamarin-GitHubActions-DevOps" rel="noopener ugc nofollow" target="_blank"> a库</a>中的任何Xamarin解决方案。对，可以是Xamarin。原生或Xamarin。表单，存储库可以是公共的，也可以是私有的。你不需要Jenkins、Azure DevOps、CircleCI、Bit-rise或任何其他听起来花哨的东西，因为GitHub Actions <a class="ae ln" href="https://help.github.com/en/actions/automating-your-workflow-with-github-actions/software-installed-on-github-hosted-runners" rel="noopener ugc nofollow" target="_blank">拥有你需要的一切</a>。</p><h2 id="27be" class="ls lt it bd lu lv lw dn lx ly lz dp ma la mb mc md le me mf mg li mh mi mj iz bi translated">这有多简单？</h2><p id="effa" class="pw-post-body-paragraph kr ks it kt b ku mk kd kw kx ml kg kz la mm lc ld le mn lg lh li mo lk ll lm im bi translated">你花的时间不会超过60秒:</p><ol class=""><li id="a866" class="ng nh it kt b ku kv kx ky la ni le nj li nk lm nl nm nn no bi translated">转到存储库的主文件夹，点击<code class="fe lo lp lq lr b">Create new file</code>按钮</li><li id="2df8" class="ng nh it kt b ku np kx nq la nr le ns li nt lm nl nm nn no bi translated">将文件命名为<code class="fe lo lp lq lr b">.github/workflows/main.yml</code>并添加这个<a class="ae ln" href="https://github.com/saamerm/Xamarin-GitHubActions-DevOps/blob/master/.github/workflows/main.yml" rel="noopener ugc nofollow" target="_blank">代码片段</a></li><li id="ebfa" class="ng nh it kt b ku np kx nq la nr le ns li nt lm nl nm nn no bi translated">将<code class="fe lo lp lq lr b">Blank</code>替换为您正在使用的名称，然后点击<code class="fe lo lp lq lr b">Commit new file</code></li></ol><figure class="mq mr ms mt gt mu"><div class="bz fp l di"><div class="nu nv l"/></div><figcaption class="nb nc gj gh gi nd ne bd b be z dk translated">main.yml文件的内容</figcaption></figure><figure class="mq mr ms mt gt mu gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi nw"><img src="../Images/efa00b34dfb78add091328edb0dca725.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j22xKPPVa2VqEX-c1vHyVg.png"/></div></div><figcaption class="nb nc gj gh gi nd ne bd b be z dk translated">提交文件后，您的操作应该立即开始。</figcaption></figure><p id="b9ce" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">如果您拥有那个存储库，您只能看到<code class="fe lo lp lq lr b">Actions</code>选项卡，但是如果回购是公开的，您可以在<code class="fe lo lp lq lr b">Pull requests</code>中看到<code class="fe lo lp lq lr b"><a class="ae ln" href="https://github.com/saamerm/WheresMyKombucha/pull/4/checks" rel="noopener ugc nofollow" target="_blank">Checks</a></code>选项卡。</p><h2 id="fdc4" class="ls lt it bd lu lv lw dn lx ly lz dp ma la mb mc md le me mf mg li mh mi mj iz bi translated">这里发生了什么事？</h2><p id="f9f5" class="pw-post-body-paragraph kr ks it kt b ku mk kd kw kx ml kg kz la mm lc ld le mn lg lh li mo lk ll lm im bi translated">名为“推和拉请求上的CI”的操作/工作流在每个推和合并请求上运行，由3个作业组成。<code class="fe lo lp lq lr b">Practice</code>作业不是必需的，它包含多个步骤，其输出日志将帮助您理解和创建令人惊叹的工作流。</p><figure class="mq mr ms mt gt mu gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi nx"><img src="../Images/2f828359e7caf2e765c46c1d84252f70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C_ApvVpKMYxN_GawAFqFNw.png"/></div></div><figcaption class="nb nc gj gh gi nd ne bd b be z dk translated">“练习”作业的输出日志</figcaption></figure><p id="2f42" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">另外两个作业首先<code class="fe lo lp lq lr b">cd</code>(更改目录)到有解决方案的文件夹，然后恢复所有的nuget包。然后，它执行“全部重建”,只有在所有依赖项目都已构建的情况下，该操作才会通过。所以，如果共享的项目(核心/表单)被破坏，两个iOS系统的检查都将失败。</p><figure class="mq mr ms mt gt mu gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi ny"><img src="../Images/6c63f9eec63f6f0476b506adbfea30a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S0LjxyYfbfMpvcVZAofuwg.png"/></div></div><figcaption class="nb nc gj gh gi nd ne bd b be z dk translated">失败作业的日志可以方便地指出修复方法</figcaption></figure><p id="92d0" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">为了测试它，我成功地创建了多个合并请求来添加自动化的工作流，包括<a class="ae ln" href="https://github.com/davidortinau/TheLittleThingsPlayground/pull/20" rel="noopener ugc nofollow" target="_blank">这个</a>。</p><h2 id="e8de" class="ls lt it bd lu lv lw dn lx ly lz dp ma la mb mc md le me mf mg li mh mi mj iz bi translated">特别感谢</h2><p id="3403" class="pw-post-body-paragraph kr ks it kt b ku mk kd kw kx ml kg kz la mm lc ld le mn lg lh li mo lk ll lm im bi translated">我花了几个月的时间试图让GitHub Actions与Xamarin一起工作，直到我放弃，告诉自己葡萄是酸的，我只是太雄心勃勃了。但是，唉，我想通了！在这次旅程中，我接触到了并从中获得了灵感:</p><ul class=""><li id="9e98" class="ng nh it kt b ku kv kx ky la ni le nj li nk lm nz nm nn no bi translated"><a class="ae ln" href="https://twitter.com/martinwoodward/" rel="noopener ugc nofollow" target="_blank">马丁·伍德沃德</a>的<a class="ae ln" href="https://twitter.com/martinwoodward/status/1206983885608886280" rel="noopener ugc nofollow" target="_blank">圣诞树行动</a> —他的行动将他家中的物联网与他回购上的“星星”按钮联系起来</li><li id="ce60" class="ng nh it kt b ku np kx nq la nr le ns li nt lm nz nm nn no bi translated">Frank A. Krueger 的<a class="ae ln" href="https://github.com/praeclarum/FuGetGallery/actions?query=workflow%3ABuild" rel="noopener ugc nofollow" target="_blank"> FuGet Gallery动作</a>——每当有人创建一个合并请求时，他的动作都会运行一个健全性测试</li><li id="6b27" class="ng nh it kt b ku np kx nq la nr le ns li nt lm nz nm nn no bi translated"><a class="ae ln" href="https://twitter.com/ethomson" rel="noopener ugc nofollow" target="_blank">爱德华·托马斯</a>的<a class="ae ln" href="https://edwardthomson.com/blog/github_actions_1_cicd_triggers.html" rel="noopener ugc nofollow" target="_blank"> GitHub行动日</a></li><li id="59f9" class="ng nh it kt b ku np kx nq la nr le ns li nt lm nz nm nn no bi translated"><a class="ae ln" href="https://twitter.com/danielcauser" rel="noopener ugc nofollow" target="_blank">丹尼尔·考瑟</a>的<a class="ae ln" href="https://causerexception.com/2019/11/03/build-once-release-everywhere-apk/" rel="noopener ugc nofollow" target="_blank">构建一次到处发布</a></li></ul><p id="ecd6" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">请在评论里或者<a class="ae ln" href="http://twitter.com/saamerm" rel="noopener ugc nofollow" target="_blank"> @saamerm </a>告诉我你的想法和你的构建。也请给<a class="ae ln" href="https://t.co/WB3b7kjntU?amp=1" rel="noopener ugc nofollow" target="_blank">加点爱，这个Xamarin用一些喜欢形成增强请求</a>。</p></div><div class="ab cl oa ob hx oc" role="separator"><span class="od bw bk oe of og"/><span class="od bw bk oe of og"/><span class="od bw bk oe of"/></div><div class="im in io ip iq"><p id="4032" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">如果你是一个更注重视觉的人，这里有一个快速视频教程:</p><figure class="mq mr ms mt gt mu"><div class="bz fp l di"><div class="oh nv l"/></div><figcaption class="nb nc gj gh gi nd ne bd b be z dk translated">演练设置构件的整个过程</figcaption></figure></div></div>    
</body>
</html>