<html>
<head>
<title>Shift Left: Fail faster in 7 Steps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">左移:7步失败更快</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/shift-left-7-stages-to-speed-up-application-development-while-improving-quality-498d9a7b9393?source=collection_archive---------4-----------------------#2021-02-26">https://levelup.gitconnected.com/shift-left-7-stages-to-speed-up-application-development-while-improving-quality-498d9a7b9393?source=collection_archive---------4-----------------------#2021-02-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="19d6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让我们以敏捷的方式来做这件事</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3ba746a5fea6e4fdc53506a556d1634e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AKoifR7QR7wABlw7rm4XKQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者:马丁·托马斯</figcaption></figure><p id="6017" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi lu translated">你越快发现错误，就越容易改正。这就是“左移”的全部思想。当你接到老板或支持团队的电话说“它不起作用”时，你知道这甚至需要一段时间来确定问题在哪里。大多数非开发人员很难与开发人员交流问题。我们应该确保他们不必费心去学习这项技能。</p><p id="d72b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，您将学习在不同的开发阶段捕捉错误的策略。在最后，我还将指出其他人所说的“左移”的典型含义。开始吧！</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h1 id="1e25" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">概念阶段:规划和设计</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nc"><img src="../Images/35ba88dd11a4c926877778d4445b49ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RfuOsCI7LMtuV4ft"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae nd" href="https://unsplash.com/@kellysikkema?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">凯利·西克玛</a>在<a class="ae nd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="d8cc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在开发人员开始实现一个困难的特性之前，人们通常需要讨论这个特性。要接触的人可能是产品负责人或产品经理、客户、不同的开发团队(前端、后端、Android、iOS等等)、运营团队、市场营销等等</p><p id="596a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了传达想法，您可以创建两种类型的文档:</p><ul class=""><li id="640b" class="ne nf it la b lb lc le lf lh ng ll nh lp ni lt nj nk nl nm bi translated"><strong class="la iu">产品设计文档</strong>:新功能解决了用户的哪个问题？用户会受到怎样的影响？</li><li id="d562" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated"><strong class="la iu">工程设计文件</strong>:特性要求什么？需要开发哪些子系统，需要服务多少请求，大量数据存储/处理/发送到哪里？什么是计算开销大的？这个想法的总体规模如何？</li></ul><p id="75f8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在更小的层面上，如果特色不是那么大，你可以把这两个视角放在你的门票/故事里(比如吉拉)。</p><p id="e37c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要在文档或票证中交流想法，您可以使用多种技巧:</p><ul class=""><li id="9f88" class="ne nf it la b lb lc le lf lh ng ll nh lp ni lt nj nk nl nm bi translated"><strong class="la iu">线框</strong>:我喜欢线框。Balsamiq是我在这里选择的工具，但是当然还有更多。它的重点不是有一个完成的设计。重点是给出一个大概的概念，哪些元素是必需的。如果它们看起来很像仿制品，这是一个优势。</li><li id="6fdb" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated"><strong class="la iu">用户故事</strong>:为了确保你从用户的角度看问题，你可以创建角色，讲述角色如何使用你正在开发的软件或特性的故事。</li><li id="6ecd" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated"><strong class="la iu">序列图</strong>:什么时候发生？谁用哪种方式交流？序列图在某些情况下非常有用。我喜欢websequencediagrams.com的<a class="ae nd" href="https://www.websequencediagrams.com/" rel="noopener ugc nofollow" target="_blank">来创造它们。</a></li><li id="7355" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated"><strong class="la iu">架构图</strong>:显示你使用了哪些微服务，哪些数据库或缓存已经到位，哪些类型的设备访问软件，如果你有一个任务队列——所有这些都有助于获得第一手概述。我通常用<a class="ae nd" href="https://app.diagrams.net/" rel="noopener ugc nofollow" target="_blank"> draw.io </a>来表示。</li><li id="b34f" class="ne nf it la b lb nn le no lh np ll nq lp nr lt nj nk nl nm bi translated"><strong class="la iu">数据库模式图</strong>:显示关系数据库的表格告诉了我很多关于系统如何工作的信息。当我创建较小的web服务时，我通常用phpMyAdmin的“设计器”特性创建一个数据库模式图——即使我不使用MySQL。我只是喜欢这个设计师😅如果你有更简单的工具，请告诉我。</li></ul><p id="59b1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，这如何防止你犯错误？</p><p id="0e9e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">用“建筑失败”的图片搜索给你一些思路(<a class="ae nd" href="https://www.pinterest.de/pin/550213279445067754/" rel="noopener ugc nofollow" target="_blank"> 1 </a>、<a class="ae nd" href="https://www.pinterest.de/pin/AU1UDUS-wlPeLaIwDqQdtpWHVSMzk3Tw3_aYUHhiJfHMC4uxjB-MZs4/" rel="noopener ugc nofollow" target="_blank"> 2 </a>、<a class="ae nd" href="https://www.demilked.com/funny-architectural-nightmares/" rel="noopener ugc nofollow" target="_blank"> 3 </a>):</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="0ed1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这些错误现在看起来非常明显，但在此期间没有人注意到它们。因此，要么没有人检查，要么没有好的概念来实际看到有问题。这两个设计文档有助于你发现错误。</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h1 id="f3f3" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">实施阶段:你的编辑</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/2e8acdc8dac0bbc898c8b3c2f3f339d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p-Wvxp7p8LTrlb5B3wH07Q.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者:马丁·托马斯</figcaption></figure><p id="0159" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我是一名软件开发人员，现在已经超过15年了。我仍然会犯愚蠢的错误，比如忘记现在是<code class="fe nv nw nx ny b">os.path.isfile</code>而不是<code class="fe nv nw nx ny b">os.isfile</code>。幸运的是，我们不需要记住所有的基本细节。编辑器和ide为我们做了很多。如果我们使用了一个没有在这个范围内声明的变量，它们会警告我们。他们可以告诉我们，我们创建了一个没有使用的变量。他们可以在我们写的时候给我们显示类型检查错误。</p><p id="7980" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我非常喜欢用于Python开发的Visual Studio代码:</p><div class="nz oa gp gr ob oc"><a href="https://towardsdatascience.com/visual-studio-code-python-editors-in-review-e5e4f269b4e4" rel="noopener follow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd iu gy z fp oh fr fs oi fu fw is bi translated">Visual Studio代码— Python编辑器回顾</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">我想我坠入爱河了</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">towardsdatascience.com</p></div></div><div class="ol l"><div class="om l on oo op ol oq ks oc"/></div></div></a></div><p id="9915" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是Python还有很多其他优秀的编辑器，比如<a class="ae nd" href="https://medium.com/python-in-plain-english/pycharm-professional-python-editors-in-review-b978f0e5c4ba" rel="noopener"> PyCharm </a>或者<a class="ae nd" href="https://py.plainenglish.io/python-editors-in-review-sublime-text-b71956c32375" rel="noopener ugc nofollow" target="_blank"> Sublime Text </a>。有些人对vim/emacs也有强烈的看法，他们肯定会以完全相同的方式支持你。</p><p id="9834" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里的重点不是拿一个具体的编辑器。关键是要确保你有一个适合你的。希望能抓住你经常犯的错误类型。</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/b56c803e2a66961de42c328488591b9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LF8JxiMjqMaDm5sHOfBJFg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者:马丁·托马斯</figcaption></figure><h1 id="eb0f" class="mk ml it bd mm mn os mp mq mr ot mt mu jz ou ka mw kc ov kd my kf ow kg na nb bi translated">实现:提交</h1><p id="fd2f" class="pw-post-body-paragraph ky kz it la b lb ox ju ld le oy jx lg lh oz lj lk ll pa ln lo lp pb lr ls lt im bi translated">我有时在不同的编辑器中提交，有时会错过编辑器警告。幸运的是，还有另一条安全线:预提交挂钩。</p><p id="7847" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">预提交挂钩是在提交更改之前执行的脚本。他们可以进行任意更改，也可以中止提交。与Python包<a class="ae nd" href="https://pre-commit.com/" rel="noopener ugc nofollow" target="_blank">预提交</a>相结合，它们非常方便。您可以从大量要执行的工具中进行选择——甚至不一定是Python。我自己也创造了一些。如果您想了解关于预提交的更多信息，我可以为您提供:</p><div class="nz oa gp gr ob oc"><a href="https://towardsdatascience.com/pre-commit-hooks-you-must-know-ff247f5feb7e" rel="noopener follow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd iu gy z fp oh fr fs oi fu fw is bi translated">你必须知道的预提交钩子</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">在5分钟内提高您的生产力和代码质量</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">towardsdatascience.com</p></div></div><div class="ol l"><div class="pc l on oo op ol oq ks oc"/></div></div></a></div><h1 id="6d45" class="mk ml it bd mm mn os mp mq mr ot mt mu jz ou ka mw kc ov kd my kf ow kg na nb bi translated">实施:CI-管道</h1><p id="0c51" class="pw-post-body-paragraph ky kz it la b lb ox ju ld le oy jx lg lh oz lj lk ll pa ln lo lp pb lr ls lt im bi translated">持续集成管道(CI管道)是在您推送变更时自动执行的代码。对于开源项目来说，它们非常有用，可以确保每个合并请求都具有相同的质量水平。您可以执行单元测试来防止回归，您可以执行林挺来确保遵循代码风格规则，代码复杂性检查可能会将开发人员引向难以阅读的部分。类型检查、静态应用程序安全测试(SAST)、检查第三方包的漏洞以及许可证兼容性(SCA)是您可能想要考虑集成的事情。</p><div class="nz oa gp gr ob oc"><a rel="noopener  ugc nofollow" target="_blank" href="/ci-pipelines-for-python-projects-9ac2830d2e38"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd iu gy z fp oh fr fs oi fu fw is bi translated">Python项目的CI管道</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">什么是持续集成管道，我如何使用它？</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="ol l"><div class="pd l on oo op ol oq ks oc"/></div></div></a></div></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h1 id="eabc" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">测试:代码审查</h1><p id="3dd0" class="pw-post-body-paragraph ky kz it la b lb ox ju ld le oy jx lg lh oz lj lk ll pa ln lo lp pb lr ls lt im bi translated">代码评审、同行评审和<a class="ae nd" href="https://en.wikipedia.org/wiki/Two-man_rule" rel="noopener ugc nofollow" target="_blank">两人规则</a>都遵循同一个想法:一个人可能会错过另一个人看到的东西。有时候你对一个话题太深入了，以至于看不到明显的缺陷。同行评审是一种分享知识的方式，如果一个经验不足的开发人员评审一个资深开发人员的某些东西，它们也能起作用。一个好的合并请求(或拉请求)只做一件事，并包含一些提出它的背景。</p><p id="7354" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在Github上，看起来<a class="ae nd" href="https://github.com/OpenShot/openshot-qt/pull/3738" rel="noopener ugc nofollow" target="_blank">是这样的</a>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pe"><img src="../Images/140ca0a014c6bc31c5244f7c891fabad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NgfyhQZVFRj1JZlLVGX2xQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者:马丁·托马斯</figcaption></figure><p id="38fb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可以看到完成了多少提交，与提出变更的人交谈，询问问题，查看CI流程的自动检查，检查每一个变更。</p><h1 id="9342" class="mk ml it bd mm mn os mp mq mr ot mt mu jz ou ka mw kc ov kd my kf ow kg na nb bi translated">测试:非生产环境</h1><p id="e7cd" class="pw-post-body-paragraph ky kz it la b lb ox ju ld le oy jx lg lh oz lj lk ll pa ln lo lp pb lr ls lt im bi translated">您的软件变得越复杂，需要相互交流的服务就越多，您就越不想将更改直接部署到您的生产环境中。您希望有一个与生产系统几乎相同的环境，但是如果您破坏了某些东西，没有客户会受到影响。这些环境通常被称为开发或集成或试运行。在这里，当变更通过CI管道和评审时，您可以直接部署变更。它们集成了正确测试您的软件可能需要的所有其他服务。</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h1 id="bb59" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">测试:生产</h1><p id="6d1f" class="pw-post-body-paragraph ky kz it la b lb ox ju ld le oy jx lg lh oz lj lk ll pa ln lo lp pb lr ls lt im bi translated">不可能测试所有的东西。尤其是在没有将软件发布给真实用户的情况下，用户行为和接受度很难测试，而且测试成本很高。在某些时候，您必须发布变更。但是你可以聪明一点。你可以先把它释放给一个对你没那么重要的群体。也许您首先为自己的员工激活了变更。或者可能有一个完整的国家与你的业务不太相关。我听说脸书首先在巴西部署新功能，以测试它们在美国上线之前是否有效。不过，我可能会搞混一些东西，因为我找不到参考文献。</p><p id="6ee8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这一程序被称为“金丝雀释放”或“金丝雀测试”。引用丹尼洛·佐藤的话:</p><blockquote class="pf"><p id="dce3" class="pg ph it bd pi pj pk pl pm pn po lt dk translated"><strong class="ak"> Canary release </strong>是一种降低在生产中引入新软件版本的风险的技术，它通过在向整个基础设施推广并让每个人都可以使用之前，缓慢地向一小部分用户推广更改来实现。</p></blockquote><p id="ff23" class="pw-post-body-paragraph ky kz it la b lb pp ju ld le pq jx lg lh pr lj lk ll ps ln lo lp pt lr ls lt im bi translated">当然，那只有在你有一定规模的情况下才行得通。但是经常发布和发布较小的变更是一个好主意。</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h1 id="ff65" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">现在…别人怎么说？</h1><p id="60fb" class="pw-post-body-paragraph ky kz it la b lb ox ju ld le oy jx lg lh oz lj lk ll pa ln lo lp pb lr ls lt im bi translated">当我读到左移和不同的阶段(从右到左)时，听起来很像瀑布方法。作者可能并没有这个意思，但这是我在只看到“项目阶段”时读到的，比如(1)需求(2)设计(3)代码(4)测试(5)验收(6)生产(7)维护。大多数文档关注错误出现的地方，但是我关注的是如何防止它。大部分文章看起来都是从管理角度出发，但我有一个开发者的角度。</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h1 id="ef9f" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">你学到了什么</h1><p id="c6cd" class="pw-post-body-paragraph ky kz it la b lb ox ju ld le oy jx lg lh oz lj lk ll pa ln lo lp pb lr ls lt im bi translated">您已经看到了在您出色的新功能交付给最终客户之前的7个测试阶段的示例:</p><ol class=""><li id="9647" class="ne nf it la b lb lc le lf lh ng ll nh lp ni lt pu nk nl nm bi translated">内部交流思想的策略</li><li id="fe69" class="ne nf it la b lb nn le no lh np ll nq lp nr lt pu nk nl nm bi translated">编辑如何防止错别字和其他愚蠢的错误</li><li id="3085" class="ne nf it la b lb nn le no lh np ll nq lp nr lt pu nk nl nm bi translated">预提交钩子——可能会阻止你<a class="ae nd" rel="noopener ugc nofollow" target="_blank" href="/leaking-secrets-240a3484cb80">泄露秘密</a></li><li id="2c77" class="ne nf it la b lb nn le no lh np ll nq lp nr lt pu nk nl nm bi translated">使用CI管道加强代码质量</li><li id="6e52" class="ne nf it la b lb nn le no lh np ll nq lp nr lt pu nk nl nm bi translated">重视你的同龄人；通过彻底的回顾来支持他们</li><li id="4b00" class="ne nf it la b lb nn le no lh np ll nq lp nr lt pu nk nl nm bi translated">如果您有许多交互服务，那么非生产环境是必要的</li><li id="a52f" class="ne nf it la b lb nn le no lh np ll nq lp nr lt pu nk nl nm bi translated">如果你够大的话，金丝雀放生会很酷</li></ol><p id="8832" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在写点高质量的牛逼东西吧！</p></div></div>    
</body>
</html>