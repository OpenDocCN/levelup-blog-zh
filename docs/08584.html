<html>
<head>
<title>How to Use Supabase Authentication in a React Application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在React应用程序中使用超级身份验证</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-use-supabase-authentication-in-a-react-application-b23cd24e591b?source=collection_archive---------8-----------------------#2021-05-14">https://levelup.gitconnected.com/how-to-use-supabase-authentication-in-a-react-application-b23cd24e591b?source=collection_archive---------8-----------------------#2021-05-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b158" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Supabase简介:Firebase替代方案</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b840e8be23abb5f2e7359880299451d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kYMbVlj0ntbQt7NM"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">托拜厄斯·菲舍尔在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="bbdf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你以前用过Firebase，你会发现它是多么有用的一个工具，尤其是对前端开发人员来说。您可以在几分钟内建立一个数据库和身份验证。</p><p id="8cbe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Supabase是Firebase的开源替代方案。Supabase没有Firebase的所有功能，但是它有一个数据库、认证和存储。</p><p id="0f3b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用Supabase，您可以执行以下操作:</p><ul class=""><li id="501a" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">监听数据库更改</li><li id="f56b" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">查询您的表，包括过滤、分页和深层嵌套关系(如GraphQL)</li><li id="cf02" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">创建、更新和删除行</li><li id="0786" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">管理您的用户及其权限</li><li id="d0cd" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">使用简单的用户界面与数据库进行交互</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="64ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将了解如何做到以下几点:</p><ul class=""><li id="d680" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">使用Supabase创建新项目</li><li id="d0a8" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">将Supabase连接到React应用程序</li><li id="9581" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">创建身份验证上下文挂钩</li><li id="0ab2" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">使用身份验证挂钩</li></ul><p id="e906" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这篇文章将是我们建立网站系列的延续。在上一篇文章中，我们学习了Material-UI中的网格组件。如果你错过了那篇文章，你可以点击查看<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/using-the-grid-component-in-material-ui-to-create-responsive-layouts-7b9de0d11c6">。</a></p><p id="d305" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您还可以在下面找到本系列所有文章的链接。</p><ol class=""><li id="1508" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu mq mb mc md bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/create-a-signup-page-with-react-and-material-ui-9b203d18cf3f">用React和Material-UI创建一个注册页面</a></li><li id="072e" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu mq mb mc md bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/using-react-hook-form-with-material-ui-components-ba42ace9507a">将React挂钩形式与Material-UI组件一起使用</a></li><li id="42b7" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu mq mb mc md bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/how-to-create-a-navigation-bar-with-material-ui-9cbcfcec2570">如何用Material-UI创建导航栏</a></li><li id="6f1f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu mq mb mc md bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/how-to-create-a-hero-section-with-video-using-react-player-aa46445094db">如何使用React播放器创建带有视频的英雄部分</a></li><li id="d660" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu mq mb mc md bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/using-the-grid-component-in-material-ui-to-create-responsive-layouts-7b9de0d11c6">使用Material-UI中的网格组件创建响应式布局</a></li><li id="0880" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu mq mb mc md bi translated"><strong class="lb iu">如何在React应用中使用Supabase认证</strong></li></ol><p id="81af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您正在阅读本系列文章，我对文件结构、注册表单和导航栏做了以下更改:</p><ul class=""><li id="7f1b" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">为资产、组件和上下文创建文件夹</li><li id="0439" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">添加状态值以在登录表单和注册表单之间进行更改</li><li id="c189" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">如果用户已登录，则添加注销按钮</li></ul><p id="bc77" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以在下面我的GitHub repo获得这个项目的完整源代码。请务必查看<em class="mr"> supabase </em>分支以获取最新更新。</p><div class="ms mt gp gr mu mv"><a href="https://github.com/chadmuro/medium-signup/tree/supabase" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd iu gy z fp na fr fs nb fu fw is bi translated">Chad muro/中型注册</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">这个项目是用Create React App引导的。在项目目录中，您可以运行:在…中运行应用程序</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">github.com</p></div></div><div class="ne l"><div class="nf l ng nh ni ne nj ks mv"/></div></div></a></div></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="be7a" class="nk nl it bd nm nn no np nq nr ns nt nu jz nv ka nw kc nx kd ny kf nz kg oa ob bi translated">使用Supabase创建新项目</h1><p id="ac0c" class="pw-post-body-paragraph kz la it lb b lc oc ju le lf od jx lh li oe lk ll lm of lo lp lq og ls lt lu im bi translated">要开始使用Supabase，请访问<a class="ae ky" href="https://app.supabase.io/" rel="noopener ugc nofollow" target="_blank"> app.supabase.io </a>。您可以使用您的GitHub帐户创建一个新的Supabase帐户。</p><p id="7873" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从那里，点击<strong class="lb iu">新项目</strong>按钮创建一个新项目。您需要选择一个组织。选择后，将出现以下页面。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/9a15ecb0931d754717ce1af4d234744f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HYo95o64vAPIYbmpEvRfEA.png"/></div></div></figure><p id="9715" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">给项目取一个名称和密码，然后选择离您最近的区域。</p><p id="9c4b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">构建数据库和API需要几分钟时间。完成后，进入<strong class="lb iu">设置</strong> - &gt; <strong class="lb iu"> API </strong>，复制URL和API密钥以备后用。</p><h1 id="a0af" class="nk nl it bd nm nn oi np nq nr oj nt nu jz ok ka nw kc ol kd ny kf om kg oa ob bi translated">将Supabase连接到React应用程序</h1><p id="becb" class="pw-post-body-paragraph kz la it lb b lc oc ju le lf od jx lh li oe lk ll lm of lo lp lq og ls lt lu im bi translated">现在我们已经在Supabase中创建了一个新项目，让我们学习如何将它连接到我们的React应用程序。</p><p id="c76e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，在您的项目中安装Supabase库。</p><pre class="kj kk kl km gt on oo op oq aw or bi"><span id="cddd" class="os nl it oo b gy ot ou l ov ow">npm install @supabase/supabase-js</span></pre><p id="b485" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，用<code class="fe ox oy oz oo b">createClient</code>函数初始化一个新的Supabase客户端。在我们的例子中，我们将在项目中创建一个名为<code class="fe ox oy oz oo b">supabase.js</code>的新文件。</p><p id="d451" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe ox oy oz oo b">createClient</code>函数有两个参数，Supabase URL和Supabase密钥。我们将使用在上一节中保存的URL和API键。</p><pre class="kj kk kl km gt on oo op oq aw or bi"><span id="dfc4" class="os nl it oo b gy ot ou l ov ow">import { createClient } from '@supabase/supabase-js';</span><span id="a235" class="os nl it oo b gy pa ou l ov ow">export const supabase = createClient(<br/>  // replace with your URL and API key <br/>  'SUPABASE_URL',<br/>  'SUPABASE_API_KEY'<br/>);</span></pre><h1 id="b9c0" class="nk nl it bd nm nn oi np nq nr oj nt nu jz ok ka nw kc ol kd ny kf om kg oa ob bi translated">创建身份验证上下文挂钩</h1><p id="6a98" class="pw-post-body-paragraph kz la it lb b lc oc ju le lf od jx lh li oe lk ll lm of lo lp lq og ls lt lu im bi translated">接下来，我们将在React中使用上下文API创建一个身份验证挂钩。我们将能够在整个应用程序中使用这个钩子。如果你不熟悉React中的上下文API，可以在这里查看他们的文档<a class="ae ky" href="https://reactjs.org/docs/context.html" rel="noopener ugc nofollow" target="_blank"/>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pb pc l"/></div></figure><h1 id="833f" class="nk nl it bd nm nn oi np nq nr oj nt nu jz ok ka nw kc ol kd ny kf om kg oa ob bi translated">使用身份验证挂钩</h1><p id="9af8" class="pw-post-body-paragraph kz la it lb b lc oc ju le lf od jx lh li oe lk ll lm of lo lp lq og ls lt lu im bi translated">为了使用我们创建的<code class="fe ox oy oz oo b">useAuth</code>钩子，我们首先需要用<code class="fe ox oy oz oo b">AuthProvider</code>包装我们的应用程序。在<code class="fe ox oy oz oo b">App.js</code>文件中，导入<code class="fe ox oy oz oo b">AuthProvider</code>并用它包装您的应用程序。App组件现在看起来将是这样的。</p><pre class="kj kk kl km gt on oo op oq aw or bi"><span id="baf4" class="os nl it oo b gy ot ou l ov ow">const App = () =&gt; {<br/>  return (<br/>    &lt;ThemeProvider&gt;<br/>      &lt;AuthProvider&gt;<br/>        &lt;Navbar /&gt;<br/>        &lt;Hero /&gt;<br/>        &lt;Features /&gt;<br/>      &lt;/AuthProvider&gt;<br/>    &lt;/ThemeProvider&gt;<br/>  );<br/>};</span></pre><p id="b199" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在可以在应用程序的任何地方导入<code class="fe ox oy oz oo b">useAuth</code>钩子，使用我们创建的方法，并访问用户数据。</p><p id="5b39" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要使用<code class="fe ox oy oz oo b">useAuth</code>钩子，我们只需要在一个功能组件中导入并调用它。我们的useAuth钩子返回<code class="fe ox oy oz oo b">signUp</code>、<code class="fe ox oy oz oo b">signIn</code>和<code class="fe ox oy oz oo b">signOut</code>方法，以及类似这样的<code class="fe ox oy oz oo b">user</code>数据对象。</p><pre class="kj kk kl km gt on oo op oq aw or bi"><span id="a07a" class="os nl it oo b gy ot ou l ov ow">const { user, signUp, signIn, signOut } = useAuth();</span></pre><p id="c9ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于我们的网站，我们将在<code class="fe ox oy oz oo b">Form.js</code>文件和<code class="fe ox oy oz oo b">Navbar.js</code>文件中使用<code class="fe ox oy oz oo b">useAuth</code>钩子。查看完整的源代码<a class="ae ky" href="https://github.com/chadmuro/medium-signup/tree/supabase" rel="noopener ugc nofollow" target="_blank">这里</a>看到最终产品。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="5a46" class="nk nl it bd nm nn no np nq nr ns nt nu jz nv ka nw kc nx kd ny kf nz kg oa ob bi translated">结论</h1><p id="fd75" class="pw-post-body-paragraph kz la it lb b lc oc ju le lf od jx lh li oe lk ll lm of lo lp lq og ls lt lu im bi translated">感谢阅读！Supabase仍处于测试阶段，但他们似乎正在添加许多新功能。我有信心，他们可以与Firebase竞争，并成为一个不错的选择。</p><p id="d333" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您想了解更多，请查看他们的网站和文档。</p><div class="ms mt gp gr mu mv"><a href="https://supabase.io/" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd iu gy z fp na fr fs nb fu fw is bi translated">开源Firebase替代方案| Supabase</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">Firebase的开源替代方案。</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">supabase.io</p></div></div><div class="ne l"><div class="pd l ng nh ni ne nj ks mv"/></div></div></a></div><p id="c996" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您错过了我们使用Material-UI的网格组件构建特性部分的上一篇文章，请查看下面的内容。</p><div class="ms mt gp gr mu mv"><a rel="noopener  ugc nofollow" target="_blank" href="/using-the-grid-component-in-material-ui-to-create-responsive-layouts-7b9de0d11c6"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd iu gy z fp na fr fs nb fu fw is bi translated">使用Material-UI中的网格组件创建响应式布局</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">了解网格容器和网格项目之间的区别</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="ne l"><div class="pe l ng nh ni ne nj ks mv"/></div></div></a></div></div></div>    
</body>
</html>