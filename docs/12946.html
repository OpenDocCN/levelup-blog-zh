<html>
<head>
<title>Working With Text Files in Python Made Easy!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python处理文本文件变得简单！</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/working-with-text-files-in-python-3095a0604143?source=collection_archive---------3-----------------------#2022-07-25">https://levelup.gitconnected.com/working-with-text-files-in-python-3095a0604143?source=collection_archive---------3-----------------------#2022-07-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="7e6f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">处理文本文件可能会令人沮丧。</p><p id="4603" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">用Python让它变得简单吧！</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/36d41c12cc43c008c4fa6ebc4274e1b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kg3cCYOodjxICsvQ"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">照片由<a class="ae le" href="https://unsplash.com/@borodinanadi?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">纳迪·博罗迪纳</a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="4c67" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">用Python读取文本文件</h1><p id="e32c" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">让我们在我们的目录中创建一个文本文件<code class="fe mi mj mk ml b">info.txt</code>,并将以下信息保存在其中。</p><pre class="kp kq kr ks gt mm ml mn mo aw mp bi"><span id="c436" class="mq lg it ml b gy mr ms l mt mu">$ echo "Hello" &gt; info.txt</span></pre><p id="ef5d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">确认该文本文件的内容:</p><pre class="kp kq kr ks gt mm ml mn mo aw mp bi"><span id="3ae2" class="mq lg it ml b gy mr ms l mt mu">$ cat info.txt</span><span id="2216" class="mq lg it ml b gy mv ms l mt mu">//Output : Hello</span></pre><p id="8095" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们开始处理这个文本文件。</p><p id="4be7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要读取单行/多行文本文件，我们使用下面的语法和<code class="fe mi mj mk ml b">.read()</code>方法。</p><pre class="kp kq kr ks gt mm ml mn mo aw mp bi"><span id="c5a1" class="mq lg it ml b gy mr ms l mt mu"><strong class="ml iu">with open</strong>("info.txt", "<strong class="ml iu">r</strong>") <strong class="ml iu">as</strong> info_txt:<br/>    info_text_content = info_txt.<strong class="ml iu">read</strong>()</span><span id="b2fc" class="mq lg it ml b gy mv ms l mt mu">    print(info_text_content)</span><span id="3913" class="mq lg it ml b gy mv ms l mt mu">#Prints: Hello</span></pre><p id="7c94" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这就创建了一个<strong class="js iu">上下文管理器</strong>，它打开一个文件，执行打印操作，然后在执行完该操作后关闭该文件。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mw"><img src="../Images/5bcfee1ad4e6b8d143a3d63aa48e28fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6MWwonR-D1h1_iHa"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated"><a class="ae le" href="https://unsplash.com/@artturijalli?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Artturi Jalli </a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="615d" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">读取多行文本文件</h1><p id="5fba" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">假设我们有一个名为<code class="fe mi mj mk ml b">paragraph.txt</code>的文本文件，有多行。</p><pre class="kp kq kr ks gt mm ml mn mo aw mp bi"><span id="e3f3" class="mq lg it ml b gy mr ms l mt mu">I wandered lonely as a cloud<br/>That floats on high o’er vales and hills,<br/>When all at once I saw a crowd,<br/>A host, of golden daffodils;<br/>Beside the lake, beneath the trees,<br/>Fluttering and dancing in the breeze …</span></pre><h2 id="aa7b" class="mq lg it bd lh mx my dn ll mz na dp lp kb nb nc lt kf nd ne lx kj nf ng mb nh bi translated">逐行阅读</h2><p id="4007" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">要逐行读取这个文件，我们可以使用下面的语法和<code class="fe mi mj mk ml b">.readline()</code>方法。</p><pre class="kp kq kr ks gt mm ml mn mo aw mp bi"><span id="c651" class="mq lg it ml b gy mr ms l mt mu"><strong class="ml iu">with open</strong>("paragraph.txt", <strong class="ml iu">"r"</strong>)<strong class="ml iu"> as</strong> para_txt:<br/>    line_1 = para_txt.<strong class="ml iu">readline</strong>()</span><span id="f6df" class="mq lg it ml b gy mv ms l mt mu">    print(line_1) #Prints: I wandered lonely as a cloud</span><span id="74df" class="mq lg it ml b gy mv ms l mt mu">    line_2 = para_txt.<strong class="ml iu">readline</strong>() </span><span id="9093" class="mq lg it ml b gy mv ms l mt mu">    print(line_2) #Prints: That floats on high o’er vales and hills,</span></pre><h2 id="0f3c" class="mq lg it bd lh mx my dn ll mz na dp lp kb nb nc lt kf nd ne lx kj nf ng mb nh bi translated">一起读所有的行</h2><p id="86b9" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">为了一起阅读所有的行，我们使用下面的语法和<code class="fe mi mj mk ml b">.readlines()</code>方法。</p><pre class="kp kq kr ks gt mm ml mn mo aw mp bi"><span id="7a24" class="mq lg it ml b gy mr ms l mt mu"><strong class="ml iu">with open</strong>("paragraph.txt", <strong class="ml iu">"r"</strong>)<strong class="ml iu"> as</strong> para_txt:<br/>    for line in para_txt.readlines():<br/>        print(line)</span></pre><p id="9dc2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe mi mj mk ml b">para_txt.readlines()</code>生成一个可以迭代的行列表，以打印所有的行。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ni"><img src="../Images/9ff37d647eb689fba831ef1907e9a88f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tILM8nmS-1GZO6IP"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">照片由<a class="ae le" href="https://unsplash.com/@esmiloenak?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">伊斯哈格·罗宾</a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="8caa" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">写入文本文件</h1><p id="20a1" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">为了创建并写入一个名为<code class="fe mi mj mk ml b">new_file.txt</code>的新文本文件，其内容为<code class="fe mi mj mk ml b">Hello</code>，下面的语法可以与<code class="fe mi mj mk ml b">.write()</code>方法一起使用。</p><pre class="kp kq kr ks gt mm ml mn mo aw mp bi"><span id="5fa4" class="mq lg it ml b gy mr ms l mt mu"><strong class="ml iu">with open</strong>("new_file.txt", "<strong class="ml iu">w</strong>") <strong class="ml iu">as</strong> new_file:<br/>  new_file.write("Hello")</span></pre><p id="41ac" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">打开该文件时，它将如下所示:</p><pre class="kp kq kr ks gt mm ml mn mo aw mp bi"><span id="b3d5" class="mq lg it ml b gy mr ms l mt mu">Hello</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nj"><img src="../Images/10dd495e20a400d99de0aad1f23eb491.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RFdtDqWMf8IrpS7U"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">照片由<a class="ae le" href="https://unsplash.com/@cathrynlavery?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">凯瑟琳·拉威利</a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="42ee" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">向文本文件添加数据</h1><p id="8d54" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">为了将文本添加到现有的文本文件中，下面的语法可以和<code class="fe mi mj mk ml b">.write()</code>方法一起使用。</p><pre class="kp kq kr ks gt mm ml mn mo aw mp bi"><span id="7623" class="mq lg it ml b gy mr ms l mt mu"><strong class="ml iu">with open</strong>("new_file.txt", "<strong class="ml iu">a</strong>") <strong class="ml iu">as</strong> new_file:<br/>  new_file.write("Ashish")</span></pre><p id="c8b6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这将在新的一行中向文件内容追加/添加<code class="fe mi mj mk ml b">Ashish</code>。</p><p id="ec83" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">打开文本文件时，它将如下所示:</p><pre class="kp kq kr ks gt mm ml mn mo aw mp bi"><span id="bfeb" class="mq lg it ml b gy mr ms l mt mu">Hello<br/>Ashish</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nk"><img src="../Images/8561af427095383c9b337f1152c7f5c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BtGDaCMkK6OrJa5U"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">由<a class="ae le" href="https://unsplash.com/@_ferh97?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Fernando Hernandez </a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="7174" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">希望这能让你处理文本文件更简单！</p></div><div class="ab cl nl nm hx nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="im in io ip iq"><p id="3bb4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="ns">感谢您阅读本文！</em></p><p id="1966" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="ns">如果你是Python或编程的新手，可以看看我的新书《没有公牛**t学习Python指南<strong class="js iu">’</strong><em class="ns">下面:</em></em></p><div class="nt nu gp gr nv nw"><a href="https://bamaniaashish.gumroad.com/l/python-book" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd iu gy z fp ob fr fs oc fu fw is bi translated">学习Python的无牛指南</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">你是一个正在考虑学习编程却不知道从哪里开始的人吗？我有适合你的解决方案…</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">bamaniaashish.gumroad.com</p></div></div><div class="of l"><div class="og l oh oi oj of ok ky nw"/></div></div></a></div><div class="nt nu gp gr nv nw"><a href="https://bamania-ashish.medium.com/membership" rel="noopener follow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd iu gy z fp ob fr fs oc fu fw is bi translated">通过我的推荐链接加入Medium-Ashish Bama nia博士</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">阅读Ashish Bamania博士(以及Medium上成千上万的其他作家)的每一个故事。您的会员费直接…</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">bamania-ashish.medium.com</p></div></div><div class="of l"><div class="ol l oh oi oj of ok ky nw"/></div></div></a></div></div><div class="ab cl nl nm hx nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="im in io ip iq"><h1 id="2a05" class="lf lg it bd lh li om lk ll lm on lo lp lq oo ls lt lu op lw lx ly oq ma mb mc bi translated">分级编码</h1><p id="ee16" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="388d" class="or os it js b jt ju jx jy kb ot kf ou kj ov kn ow ox oy oz bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="773b" class="or os it js b jt pa jx pb kb pc kf pd kj pe kn ow ox oy oz bi translated">📰查看<a class="ae le" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">升级编码出版物</a>中的更多内容</li><li id="203a" class="or os it js b jt pa jx pb kb pc kf pd kj pe kn ow ox oy oz bi translated">🔔关注我们:<a class="ae le" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae le" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae le" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="8ac7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">🚀👉<a class="ae le" href="https://jobs.levelup.dev/jobs?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">软件工程师的顶级工作</strong> </a></p></div></div>    
</body>
</html>