<html>
<head>
<title>Folding the Flat with CSS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ç”¨CSSæŠ˜å å¹³é¢</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/folding-the-flat-with-css-3a88bd0ecd0b?source=collection_archive---------4-----------------------#2019-07-22">https://levelup.gitconnected.com/folding-the-flat-with-css-3a88bd0ecd0b?source=collection_archive---------4-----------------------#2019-07-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d0dc" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">ä¸€ç§çº¯ç²¹çš„CSSæ–¹æ³•ï¼Œå°†å±å¹•å¤–çš„é¢æ¿æŠ˜å æˆå¹³é¢ã€‚</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ec9da73e56468d39b8ba24edab3d133e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WukqvNr6vo8E6DwJelH0hQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://elmahdim.github.io/OffScreenPanel/" rel="noopener ugc nofollow" target="_blank">æ¼”ç¤º</a></figcaption></figure><p id="aa06" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªå±å¹•å¤–é¢æ¿ï¼Œå®ƒå…·æœ‰æŠ˜å æ•ˆæœå’Œå†…éƒ¨å†…å®¹çš„å¼¹æ€§è¿åŠ¨ã€‚</p><p id="9eba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">è¿™äº›å¹´æ¥ï¼Œæˆ‘åœ¨äº’è”ç½‘ä¸Šçœ‹åˆ°äº†å¾ˆå¤šå¾ˆé…·çš„æ¼”ç¤ºï¼Œéƒ½æ˜¯ç”¨Canvasã€Threejså’Œæ‰€æœ‰è¿™äº›æ²‰é‡çš„æŠ€æœ¯å®Œæˆçš„ã€‚ä»é‚£ä»¥åæˆ‘ä¸€ç›´åœ¨å¯»æ‰¾æ›´ç®€å•çš„æ–¹æ³•ï¼</p><p id="8f6a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å‰å‡ å¤©æˆ‘æœ‰ä¸€ä¸ªä»»åŠ¡ï¼Œä¸ºæˆ‘æ­£åœ¨åšçš„é¡¹ç›®å»ºç«‹ä¸€ä¸ªèŠå¤©é¢æ¿ï¼Œç‚¹å‡»ç”¨æˆ·ä¸ªäººèµ„æ–™ä¸Šçš„â€œå‘é€æ¶ˆæ¯â€æŒ‰é’®å°±ä¼šå‡ºç°ï¼Œè¿™æ ·ç”¨æˆ·å°±å¯ä»¥äº’ç›¸äº¤æµäº†ã€‚åœ¨å®Œæˆä¸»è¦åŠŸèƒ½å¹¶å……åˆ†å·¥ä½œåï¼ŒåŸºäºæˆ‘ä»¬çš„å·¥ä½œæµç¨‹ï¼Œæˆ‘å¿…é¡»åœ¨å®Œæˆåå°†å…¶è½¬å‘ç»™QAå›¢é˜Ÿï¼Œä»¥ä¾¿ä»–ä»¬å¼€å§‹æµ‹è¯•ï¼åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘æœ‰è¶³å¤Ÿçš„æ—¶é—´ï¼Œæˆ‘æƒ³ç”¨è¾ƒå°‘çš„åŠªåŠ›ä½¿èŠå¤©æˆä¸ºä¸€ä¸ªå¯æŠ˜å çš„åŠ¨ç”»é¢æ¿ğŸ¦¸â€â™‚ï¸.ç‰‡åˆ»ä¹‹åï¼Œæˆ‘åˆ®äº†åˆ®èƒ¡å­ï¼Œå†³å®šä½¿ç”¨ä¸€ç‚¹CSS <code class="fe ls lt lu lv b">transition</code>å’Œ<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/CSS/clip-path" rel="noopener ugc nofollow" target="_blank">å‰ªè¾‘è·¯å¾„</a> <code class="fe ls lt lu lv b">polygon(...)</code>æ¥å®Œæˆè¿™ä¸ªåŠŸèƒ½/ä»»åŠ¡ã€‚</p><h1 id="ca2f" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">æ¼”ç¤º</h1><p id="7b8b" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">æˆ‘åœ¨è¿™ä¸ªæ¼”ç¤ºä¸­ä½¿ç”¨äº†ä¸€ä¸ª<a class="ae kv" href="https://github.com/facebook/create-react-app" rel="noopener ugc nofollow" target="_blank"> CRA </a>æ ·æ¿æ¥åˆ›å»ºä¸€ä¸ª<a class="ae kv" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank">ååº”</a>ç»„ä»¶ã€‚ä½†ä½ å¯ä»¥åšæŒä½¿ç”¨ä½ è§‰å¾—åˆé€‚çš„ç­¹ç ã€‚</p><p id="6561" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æ¼”ç¤ºé“¾æ¥:<a class="ae kv" href="https://elmahdim.github.io/OffScreenPanel/" rel="noopener ugc nofollow" target="_blank">https://elmahdim.github.io/OffScreenPanel/</a></p><h1 id="cc0c" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">å±å¹•å¤–é¢æ¿ç»„ä»¶</h1><pre class="kg kh ki kj gt mt lv mu mv aw mw bi"><span id="ffc7" class="mx lx iq lv b gy my mz l na nb">import React, { useState } from 'react';<br/>import classNames from 'classnames';<br/>import PropTypes from 'prop-types';</span><span id="07ea" class="mx lx iq lv b gy nc mz l na nb">import styles from './OffScreenPanel.module.css';</span><span id="d521" class="mx lx iq lv b gy nc mz l na nb">export const OffScreenPanel = (props) =&gt; {<br/>  const [open, toggleVisibility] = useState(false);<br/>  const toggle = () =&gt; toggleVisibility(!open);</span><span id="4319" class="mx lx iq lv b gy nc mz l na nb">  return (<br/>    &lt;div className={classNames('offScreenPanel', {<br/>      [styles.open]: open<br/>    })}&gt;<br/>      &lt;button type="button" className={styles.button} onClick={toggle}&gt;<br/>        ....<br/>      &lt;/button&gt;<br/>      &lt;div className={styles.panel}&gt;<br/>        &lt;div className={styles.body}&gt;{open &amp;&amp; props.children}&lt;/div&gt;<br/>      &lt;/div&gt;<br/>      &lt;div role="presentation" className={styles.overlay} onClick={toggle} /&gt;<br/>    &lt;/div &gt;<br/>  );<br/>};</span><span id="a3fa" class="mx lx iq lv b gy nc mz l na nb">OffScreenPanel.propTypes = {<br/>  children: PropTypes.any,<br/>};</span><span id="9c99" class="mx lx iq lv b gy nc mz l na nb">export default OffScreenPanel;</span></pre><p id="86ea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ä¸Šé¢çš„ä»£ç ä»£è¡¨äº†ä¸€ä¸ªä½¿ç”¨<a class="ae kv" href="https://reactjs.org/docs/hooks-intro.html" rel="noopener ugc nofollow" target="_blank">é’©å­</a>å’Œ<a class="ae kv" href="https://facebook.github.io/create-react-app/docs/adding-a-css-modules-stylesheet" rel="noopener ugc nofollow" target="_blank"> CSSæ¨¡å—æ ·å¼è¡¨</a>çš„åŠŸèƒ½æ€§<code class="fe ls lt lu lv b">OffScreenPanel</code>ç»„ä»¶ã€‚</p><h1 id="5c9f" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">æ™®é€šHTML</h1><p id="3032" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">æˆ‘ä»¬éœ€è¦æŠ˜å /å±•å¼€é¢æ¿çš„ä¸»è¦å…ƒç´ æ²¡æœ‰ååº”ã€‚</p><pre class="kg kh ki kj gt mt lv mu mv aw mw bi"><span id="5ccd" class="mx lx iq lv b gy my mz l na nb">&lt;div class="offScreenPanel open"&gt;<br/>  &lt;div class="panel"&gt;<br/>    &lt;div class="body"&gt;...&lt;/div&gt;<br/>  &lt;/div&gt;<br/>  &lt;div role="presentation" class="overlay"&gt;&lt;/div&gt;<br/>&lt;/div&gt;</span></pre><p id="0aa6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">åœ¨<code class="fe ls lt lu lv b">offScreenPanel</code>å…ƒç´ ä¸Š<code class="fe ls lt lu lv b">open</code>ç±»æ˜¯å¯åˆ‡æ¢çš„(é€šè¿‡JavaScript)ã€‚å®ƒæ²¡æœ‰å…³è”çš„æ ·å¼ã€‚</p><p id="a4d0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">panel</code>å…ƒç´ è´Ÿè´£æŠ˜å /å±•å¼€å…¶å¸ƒå±€ã€‚æˆ‘ä»¬æœ‰ä¸¤ä¸ªé€‰æ‹©æ¥è¾¾åˆ°è¿™ä¸ªæ•ˆæœ:æ·»åŠ ä¸¤ä¸ªé¢å¤–çš„å…ƒç´ ï¼Œæˆ–è€…ä½¿ç”¨ä¸€ä¸ªCSSä¼ªå…ƒç´ ï¼</p><p id="ad3c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æˆ‘å°†é€‰æ‹©ç¬¬äºŒä¸ªé€‰é¡¹ï¼Œå®ƒä½¿ç”¨ä¼ªå…ƒç´ (<code class="fe ls lt lu lv b">::before</code>ï¼Œ<code class="fe ls lt lu lv b">::after</code>)ã€‚å®ƒä½¿æˆ‘ä»¬çš„æ ‡è®°æ›´å¹²å‡€ï¼ŒHTMLä»£ç æ›´å°‘ã€‚</p><p id="be73" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å†…éƒ¨å†…å®¹å°†ç”±å…ƒç´ <code class="fe ls lt lu lv b">body</code>åŒ…è£…ã€‚</p><h1 id="0bde" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">é£æ ¼</h1><pre class="kg kh ki kj gt mt lv mu mv aw mw bi"><span id="3077" class="mx lx iq lv b gy my mz l na nb">/*<br/> * panel:<br/> * is out of screen (offset right) by default<br/> */<br/>.panel {<br/>  position: fixed;<br/>  top: 0;<br/>  right: 0;<br/>  width: 450px;<br/>  bottom: 0;<br/>  z-index: 2;<br/>  transform: translateX(450px);<br/>}</span><span id="4649" class="mx lx iq lv b gy nc mz l na nb">/*<br/> * panel:<br/> * on open we set its horizontally offset to "0"<br/> */<br/>.open .panel {<br/>  transform: translateX(0);<br/>  transition: all 400ms ease;<br/>}</span><span id="778c" class="mx lx iq lv b gy nc mz l na nb">/*<br/> * panel - the folding element [[]]<br/> * make each element half width of its parent (panel) size<br/> */<br/>.panel::before,<br/>.panel::after {<br/>  content: '';<br/>  position: absolute;<br/>  top: 0;<br/>  bottom: 0;<br/>  width: 225px;<br/>  transition: all 400ms ease-out;<br/>}</span><span id="87f9" class="mx lx iq lv b gy nc mz l na nb">/*<br/> * panel - the folding element []]<br/> */<br/>.panel::before {<br/>  clip-path: polygon(100% 10%, 100% 0, 100% 100%, 100% 90%);<br/>  left: 0;<br/>}</span><span id="5838" class="mx lx iq lv b gy nc mz l na nb">/*<br/> * panel - the folding element []]<br/> */<br/>.panel::after {<br/>  background: #f0f0f0 linear-gradient(to right, #f7f7f7 0%, #fff 100%);<br/>  clip-path: polygon(100% 50%, 100% 0, 100% 100%, 100% 50%);<br/>  right: 0;<br/>}</span><span id="501b" class="mx lx iq lv b gy nc mz l na nb">/*<br/> * panel - the folding element []]<br/> */<br/>.open .panel::before,<br/>.open .panel::after {<br/>  clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);<br/>}</span><span id="ec16" class="mx lx iq lv b gy nc mz l na nb">/*<br/> * panel - the folding element [[]<br/> * giving the left panel a paper book like background,<br/> * off-white and light grey<br/> */<br/>.open .panel::before {<br/>  transition-delay: 400ms;<br/>  background: #f0f0f0 linear-gradient(to right, #f3f3f3 0%, #f1f1f1 48%, #f1f1f1 100%);<br/>}</span><span id="8316" class="mx lx iq lv b gy nc mz l na nb">/*<br/> * body, one thin line centered by default<br/> */<br/>.body {<br/>  position: absolute;<br/>  top: 0;<br/>  right: 0;<br/>  height: 100%;<br/>  left: 0;<br/>  background-color: #fff;<br/>  transition: all 300ms cubic-bezier(0.22, 0.61, 0.36, 1);<br/>  z-index: 1;<br/>  clip-path: polygon(50% 50%, 50% 50%, 50% 50%, 50% 50%);<br/>}</span><span id="ea17" class="mx lx iq lv b gy nc mz l na nb">/*<br/> * body, folded and fits its parent with on open<br/> */<br/>.open .panel .body {<br/>  transition-delay: 0.8s;<br/>  clip-path: polygon(0 0, 100% 0, 100% 100%, 0% 100%);<br/>}</span><span id="8176" class="mx lx iq lv b gy nc mz l na nb">/*<br/> * overlay, hidden by default. to overlap the content behind<br/> * and closes the panel on click outside<br/> */<br/>.overlay {<br/>  background-color: rgba(0, 0, 0, 0.2);<br/>  position: fixed;<br/>  visibility: hidden;<br/>  top: 0;<br/>  right: 0;<br/>  bottom: 0;<br/>  width: 100%;<br/>  height: 100%;<br/>  z-index: 1;<br/>  opacity: 0;<br/>}</span><span id="c71c" class="mx lx iq lv b gy nc mz l na nb">/*<br/> * overlay, visible on open<br/> */<br/>.open .panel + .overlay {<br/>  opacity: 1;<br/>  visibility: visible;<br/>  transition: all 400ms ease;<br/>}</span></pre><p id="b3c3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">è¿™æ˜¯å®ƒåœ¨ä¸¤ç§çŠ¶æ€ä¸‹çš„æ ·å­:é»˜è®¤å’Œæ‰“å¼€</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/b3bb8c56c9754ca82ecbe9b4866ec6b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*S0d_S7T7oXxuu2-w.png"/></div></div></figure></div></div>    
</body>
</html>