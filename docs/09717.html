<html>
<head>
<title>Introducing React Native Whirlwind</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">介绍反应原生旋风</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/introducing-react-native-whirlwind-1c3ad9ffd4a5?source=collection_archive---------8-----------------------#2021-09-07">https://levelup.gitconnected.com/introducing-react-native-whirlwind-1c3ad9ffd4a5?source=collection_archive---------8-----------------------#2021-09-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="64f8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">设计React本机应用程序样式的现代方法</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/00d5c0aaeaa405fa3d0bd014548d76a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mMPTD9W-TINejAlJ0ND3_A.jpeg"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">罗伯特·谢尔比年科拍摄的照片；通过Unsplash</figcaption></figure><h1 id="4c9a" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">为什么是另一个样式框架？</h1><p id="a170" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">我非常喜欢在我的React web项目中使用<a class="ae le" href="https://styled-components.com/" rel="noopener ugc nofollow" target="_blank">风格的组件</a>,因为它们提供了一种简单有效的方式来创建完全风格的、可重用的React组件。然而，当使用React Native时，样式突然变得非常有限。您不能设置子组件的样式或选择同级元素。不能用<code class="fe mi mj mk ml b">:hover</code>或者<code class="fe mi mj mk ml b">:focus</code>这样的伪类。您不能使用媒体查询。不能用<code class="fe mi mj mk ml b">:before</code>和<code class="fe mi mj mk ml b">:after</code>、<code class="fe mi mj mk ml b">:first-child</code>和<code class="fe mi mj mk ml b">:last-child</code>，也不能用<code class="fe mi mj mk ml b">:nth-child</code>伪类。这些限制使得定义可重用的样式变得繁琐和逐字逐句，而且许多在响应式网站上学到的东西根本不适用于React Native。原因是React Native使用的是<a class="ae le" href="https://yogalayout.com/" rel="noopener ugc nofollow" target="_blank"> Yoga </a>布局引擎，而不是像网页一样使用CSS。任何样式框架都需要从一开始就考虑这些限制。</p><p id="d438" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">虽然有许多用于web的CSS框架，但我发现只有少数是专门为React Native设计的。几年前，我偶然发现了用于在React和Vue中设计网页样式的<a class="ae le" href="https://tailwindcss.com/" rel="noopener ugc nofollow" target="_blank"> Tailwind CSS </a>框架。从概念上讲，这似乎准确地捕捉到了我对React Native中样式系统的需求。然而，各种React Native(重新)实现并没有说服我:<a class="ae le" href="https://github.com/vadimdemedes/tailwind-rn" rel="noopener ugc nofollow" target="_blank"> tailwind-rn </a>和<a class="ae le" href="https://github.com/jaredh159/tailwind-react-native-classnames" rel="noopener ugc nofollow" target="_blank">tailwind-React-Native-class names</a>都使用自定义字符串来模拟tailwind的CSS类系统。不幸的是，两者都没有在Visual Studio代码中提供自动完成提示，这使得它们很难使用，并且对于团队中不熟悉Tailwind术语的新开发人员来说容易出错。我更赞成用<a class="ae le" href="https://github.com/TVke/react-native-tailwindcss" rel="noopener ugc nofollow" target="_blank"> react-native-tailwindcss </a>实现的样式类系统。但是缺乏对Typescript的支持对我来说是一个直接的阻碍。尽管如此，我今天要介绍的框架<strong class="js iu"> React Native Whirlwind </strong>的一些概念和源代码都是直接来源于<a class="ae le" href="https://github.com/TVke/react-native-tailwindcss" rel="noopener ugc nofollow" target="_blank">React-Native-tailwindcss</a>。</p><h1 id="fb80" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">那么，什么是反应原生旋风呢？</h1><p id="f51c" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">先说<strong class="js iu"> React原生旋风</strong>不是什么:它不像Material UI或者<a class="ae le" href="https://reactnativeelements.com/" rel="noopener ugc nofollow" target="_blank"> React原生元素</a>那样是一个成熟的UI框架。事实上，你可以将React Native Whirlwind与React Native Elements结合使用，这是我在许多React Native项目中正在做的事情。它也不是一个新的组件样式框架，比如<a class="ae le" href="https://styled-components.com/" rel="noopener ugc nofollow" target="_blank">样式组件</a>。但是你可以用React原生旋风来<a class="ae le" href="https://arabold.github.io/react-native-whirlwind/core-concepts/theming" rel="noopener ugc nofollow" target="_blank">T21你的样式组件</a>！</p><p id="38ef" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> React Native Whirlwind </strong>是专门为<a class="ae le" href="https://reactnative.dev/" rel="noopener ugc nofollow" target="_blank"> React Native </a>设计的实用至上的CSS框架。它在很大程度上受到了<a class="ae le" href="https://tachyons.io/" rel="noopener ugc nofollow" target="_blank">超光速粒子</a>和<a class="ae le" href="https://tailwindcss.com/" rel="noopener ugc nofollow" target="_blank">顺风CSS </a>的启发，并使用低级构建模块来快速构建定制设计。</p><p id="75f0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一些核心设计原则是:</p><ul class=""><li id="83de" class="mn mo it js b jt ju jx jy kb mp kf mq kj mr kn ms mt mu mv bi translated"><strong class="js iu">可读</strong>👀—所有类都遵循简单、一致的命名约定</li><li id="0dc6" class="mn mo it js b jt mw jx mx kb my kf mz kj na kn ms mt mu mv bi translated"><strong class="js iu">轻量级</strong> 🪶 —不依赖第三方</li><li id="4281" class="mn mo it js b jt mw jx mx kb my kf mz kj na kn ms mt mu mv bi translated"><strong class="js iu">可组合</strong>🧱——用于快速成型的可组合类</li><li id="e96d" class="mn mo it js b jt mw jx mx kb my kf mz kj na kn ms mt mu mv bi translated"><strong class="js iu">表演</strong>🚀—没有不必要的计算，没有不必要的字符串解析，只有纯粹而快速的静态样式</li><li id="bfaf" class="mn mo it js b jt mw jx mx kb my kf mz kj na kn ms mt mu mv bi translated">可重用的♻️——提高团队的可重用性，减少代码库中的冗余</li><li id="3e01" class="mn mo it js b jt mw jx mx kb my kf mz kj na kn ms mt mu mv bi translated"><strong class="js iu">先反应原生和打字稿</strong>🥇—专为React Native构建，100%以TypeScript编写，提供一流的开发人员体验</li></ul><h1 id="31cf" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">给我看看！</h1><p id="a1af" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">React Native有一个强大的特性，它允许你传递一个样式数组，而不仅仅是一个对象到组件的属性。这可以用来继承和扩展样式。React Nativ Whirlwind 依靠这个机制来提供一个简单的、可组合的API来构建定制设计。</p><h2 id="762f" class="nb lg it bd lh nc nd dn ll ne nf dp lp kb ng nh lt kf ni nj lx kj nk nl mb nm bi translated">“传统”方式:定制设计需要定制风格</h2><p id="2d89" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">传统上，您会使用React Native的<code class="fe mi mj mk ml b">StyleSheet</code>类来定义您的样式，为您设计的每个元素定义一个样式类:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nn no l"/></div></figure><h2 id="03be" class="nb lg it bd lh nc nd dn ll ne nf dp lp kb ng nh lt kf ni nj lx kj nk nl mb nm bi translated">旋风方式:使用实用程序类而不使用编写风格</h2><p id="83c2" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated"><strong class="js iu"> Whirlwind </strong>不使用语义CSS类，而是鼓励使用自由组合的实用类来设计您的最终外观:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="7cf1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">实用程序类是可重用的构建块，带有一个内置的主题，您可以很容易地更改它。在上述设计中，我们使用了:</p><ul class=""><li id="e002" class="mn mo it js b jt ju jx jy kb mp kf mq kj mr kn ms mt mu mv bi translated"><code class="fe mi mj mk ml b">t.mT9</code>和<code class="fe mi mj mk ml b">t.mT2</code>定义一个顶部边距。我们的默认主题分别将其初始化为48像素和4像素。</li><li id="79e2" class="mn mo it js b jt mw jx mx kb my kf mz kj na kn ms mt mu mv bi translated"><code class="fe mi mj mk ml b">t.sansBold</code>，一个选择无衬线字体的实用程序类，</li><li id="7323" class="mn mo it js b jt mw jx mx kb my kf mz kj na kn ms mt mu mv bi translated">和<code class="fe mi mj mk ml b">t.font3Xl</code>使用更大的字体。</li><li id="55fa" class="mn mo it js b jt mw jx mx kb my kf mz kj na kn ms mt mu mv bi translated">最后，<code class="fe mi mj mk ml b">t.textPrimary</code>用我们的原色渲染文本，这可以在我们的主题中定义。</li></ul><p id="c7f6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这种方法允许我们实现完全自定义的组件设计，而无需定义一个单独的自定义样式类。通过在整个应用程序中重用相同的构建模块，您可以确保一致的外观和感觉，同时还可以通过Whirlwind的主题引擎提供很大的灵活性。</p><p id="2ba9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">实用类的使用听起来仍然很糟糕吗？相信我，很快就会感觉很自然，<strong class="js iu">但你可能必须尝试一下，看看效果如何</strong>！</p><h2 id="67ce" class="nb lg it bd lh nc nd dn ll ne nf dp lp kb ng nh lt kf ni nj lx kj nk nl mb nm bi translated">活生生的例子</h2><p id="c7f5" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">这里有一个React Native Whirlwind的简单实例，你可以在手机或浏览器上试试:</p><div class="np nq gp gr nr ns"><a href="https://snack.expo.dev/@arabold/react-native-whirlwind" rel="noopener  ugc nofollow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd iu gy z fp nx fr fs ny fu fw is bi translated">反应-本地-旋风-小吃</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">在你的手机上尝试这个项目！使用Expo的在线编辑器进行更改并保存您自己的副本。</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">零食. expo.dev</p></div></div><div class="ob l"><div class="oc l od oe of ob og ky ns"/></div></div></a></div><h1 id="122e" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">好吧，我们开始吧！</h1><p id="21f0" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated"><strong class="js iu"> React原生旋风</strong>目前正在公测。然而，这并不意味着它还不能用于生产。事实上，它已经在Google Play和iOS应用商店的几个不同的应用程序中使用，总计有几十万活跃用户。测试版指的是API还没有完全成熟，仍然缺少一些文档、操作指南等等。但是底层实现只是简单的、静态的React本机样式定义。这使得它既快如闪电，又非常坚固。</p><p id="800b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">第一步:使用<code class="fe mi mj mk ml b">npm</code>(或者<code class="fe mi mj mk ml b">yarn</code>，安装React Native Whirlwind】的最新版本:</strong></p><pre class="kp kq kr ks gt oh ml oi oj aw ok bi"><span id="33dd" class="nb lg it ml b gy ol om l on oo">npm install react-native-whirlwind</span></pre><p id="8948" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">第二步:创建你的第一个主题定义</strong></p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="e18d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这将自定义你的应用程序的主要和次要颜色。输出的常量<code class="fe mi mj mk ml b">t</code>作为旋风风格系统的入口点。您可以使用任何变量名，但我建议使用简短易记的名称，因为它将在您的应用程序中大量使用。换句话说:只要坚持使用<code class="fe mi mj mk ml b">t</code>😉</p><p id="2f37" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">第三步:使用你的主题！</p><p id="c61a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">将您的<code class="fe mi mj mk ml b">theme.jsx</code>导入到您的应用程序中，并根据需要导入组件:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="0def" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">就是这样！真的没有更多的了。</strong></p><p id="c816" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">查看React Native Whirlwind 的<a class="ae le" href="https://arabold.github.io/react-native-whirlwind/" rel="noopener ugc nofollow" target="_blank">文档，获取所有可用样式类的列表，以及如何进一步</a><a class="ae le" href="https://arabold.github.io/react-native-whirlwind/core-concepts/theming" rel="noopener ugc nofollow" target="_blank">定制你的主题</a>。</p><h1 id="b14a" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">语义CSS、功能CSS和“关注点分离”</h1><p id="617e" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">在我结束这篇文章之前，我想写下一些关于使用语义和功能CSS的想法，因为我以前听说过一个问题:对于许多开发人员来说，使用实用优先的CSS类似乎是一个坏主意，违反了“关注点分离”的概念。多年来，我们已经知道HTML应该只包含内容，而所有的样式细节都应该在CSS中专门定义。CSS在整体设计组件样式方面非常强大，它可以有效地为子组件、兄弟组件等定义样式。许多工程团队遵循这种分离HTML和CSS的策略，有些人虔诚地这样做。</p><p id="76db" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然而，这种态度似乎又开始转变，公用事业优先和混合解决方案<a class="ae le" href="https://wptavern.com/state-of-css-2020-survey-results-tailwind-css-wins-most-adopted-technology-utility-first-css-on-the-rise" rel="noopener ugc nofollow" target="_blank">最近变得更受欢迎</a>。Adam Wathan，<a class="ae le" href="https://tailwindcss.com/" rel="noopener ugc nofollow" target="_blank"> Tailwind CSS </a>的作者在这里写了他创建实用优先CSS类<a class="ae le" href="https://adamwathan.me/css-utility-classes-and-separation-of-concerns/" rel="noopener ugc nofollow" target="_blank">的动机。因此，我不会在这里重复他的所有观点，但我会尝试给出一个简短的总结:</a></p><p id="da02" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">相似的组件应该使用相似的样式。然而，很多时候你会发现自己已经有了一个先前创建的CSS类——例如，一个<code class="fe mi mj mk ml b">.author-bio</code>类来设计你网页上的图书作者的信息卡。现在您想重用这种风格来为不同的书籍呈现信息卡。所以，你要么将你的<code class="fe mi mj mk ml b">.author-bio</code>类重命名为一个更通用的、与内容无关的、在两种情况下都可以使用的类，最终导致一个<code class="fe mi mj mk ml b">.card</code>或<code class="fe mi mj mk ml b">.content</code>类。或者，将您的<code class="fe mi mj mk ml b">.author-bio</code>样式复制粘贴到您的新书组件中，导致代码重复。</p><p id="0eb3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">基本上你有两个选择:</p><ol class=""><li id="8fd2" class="mn mo it js b jt ju jx jy kb mp kf mq kj mr kn op mt mu mv bi translated">以你的样式所对应的组件命名你的样式(比如<code class="fe mi mj mk ml b">.author-bio</code>)，创建依赖于HTML 的<em class="mm"> CSS。在这个模型中，您的HTML是可重新设计的(您只需更改CSS和组件更新)，但是您的CSS是不可重用的。</em></li><li id="bc52" class="mn mo it js b jt mw jx mx kb my kf mz kj na kn op mt mu mv bi translated">以内容不可知的方式命名你的样式，比如<code class="fe mi mj mk ml b">.card</code>或<code class="fe mi mj mk ml b">.content</code>，在这种情况下你的<em class="mm"> HTML依赖于你的CSS </em>。在这个模型中，你的CSS是可重用的，但是你的HTML是不可重用的。</li></ol><p id="a266" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">那么你更喜欢哪一个</strong>:可重构的HTML还是可重用的CSS？</p><p id="8f68" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">根据我的经验，我创建的任何网站或应用程序都没有利用第一个选项提供的灵活性。专业网站不会经常改变，当他们改变时，通常是因为有许多新页面和组件的重大重新设计，而不仅仅是样式上的简单改变。这就是为什么我一般推荐第二个选项:可重用性，而不是重新设计我的HTML。实用类将这种选择推向了极端:类变得越来越简单，以至于一个CSS类只能做一件事情。</p><p id="d5ef" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这种方法给我们带来了几个好处:</p><ul class=""><li id="bf7c" class="mn mo it js b jt ju jx jy kb mp kf mq kj mr kn ms mt mu mv bi translated"><strong class="js iu">不再担心类名</strong>。不要浪费大脑能量在<code class="fe mi mj mk ml b">.author-bio</code>、<code class="fe mi mj mk ml b">.author-bio-wrapper</code>、<code class="fe mi mj mk ml b">.author-bio-inner-container</code>、<code class="fe mi mj mk ml b">.author-bio-title</code>、<code class="fe mi mj mk ml b">.author-bio-title-wrapper</code>和其他愚蠢的名字上，因为那只是一个flexbox。</li><li id="506f" class="mn mo it js b jt mw jx mx kb my kf mz kj na kn ms mt mu mv bi translated"><strong class="js iu">让您的设计更加稳健</strong>。再也不用担心在一个地方改变设计会破坏另一个地方的设计。跨多个页面和组件重用复杂的CSS类会带来隐藏的、难以管理的依赖性。更改公共类通常会导致无法预料的后果。但是有了实用程序类，更新组件的设计就像切换出必要的类一样简单，而且没有副作用。</li><li id="6eaf" class="mn mo it js b jt mw jx mx kb my kf mz kj na kn ms mt mu mv bi translated"><strong class="js iu">车载工程师更快</strong>。Whirlwind的实用程序类已经定义好了，您可以马上开始使用它们。他们总是以特定的方式行动。使用一致的颜色和间距方案可以使整个应用程序保持一致。</li></ul><p id="5f10" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我希望我能概述我创作<strong class="js iu">反应原生旋风</strong>的理由，并能说服你在你的下一个项目中尝试一下。</p><div class="np nq gp gr nr ns"><a href="https://github.com/arabold/react-native-whirlwind" rel="noopener  ugc nofollow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd iu gy z fp nx fr fs ny fu fw is bi translated">GitHub-arabold/react-native-旋风</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">Whirlwind是一个实用至上的CSS框架，专门为React Native设计。它深受超光速粒子的启发…</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">github.com</p></div></div><div class="ob l"><div class="oq l od oe of ob og ky ns"/></div></div></a></div></div></div>    
</body>
</html>