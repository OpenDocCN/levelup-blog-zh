<html>
<head>
<title>Connecting React Native App From iPhone To Mac</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将React本机应用程序从iPhone连接到Mac</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/connecting-react-native-app-from-iphone-to-mac-d422f8b91f2f?source=collection_archive---------17-----------------------#2020-10-13">https://levelup.gitconnected.com/connecting-react-native-app-from-iphone-to-mac-d422f8b91f2f?source=collection_archive---------17-----------------------#2020-10-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="9c26" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于我们这些一直从事React应用的人来说，当我们在后端启动Rails服务器时，localhost:3000是我们永远的伴侣。当我们需要来自后端的数据时，简单地从本地主机URL获取数据通常就足够了。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/ae66f5f6d7faa9568cb4e6a13b5faf35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X-Nz-wVe4Yk3uW2MJknWVA.png"/></div></div></figure><p id="80a1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然而，当我开始深入React Native(使用Expo)时，事情变得有点不确定。我想如果你在你的终端命令行上做了足够多的“rails s”的话，大家应该都很熟悉下面这些。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/8c0d8354f6e1cf21b717abd2fe2d39e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZiKGIPlNiyNqwBuZa8mmKw.png"/></div></div></figure><p id="95f4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">IP地址127.0.0.1，localhost，正在侦听端口3000，所以当我的JavaScript获取指向那个主机名和端口号时，我从我的Rails后端应用程序取回我的JSON数据。然而，通过Expo在iPhone上运行的React本机应用程序不识别localhost。据我所知，我们需要使用实际的IP地址。由于我的iPhone与运行后端Rails应用程序的Macbook Pro连接到同一个WiFi网络，我应该可以将我的URL从“http://localhost:3000”更改为“http://127.0.0.1:3000”，对吗？</p><p id="aa2f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">不完全是。这是我得到的:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kx"><img src="../Images/109593904d8ce91ff35bab21bd96b7b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sS03IhXeeIhQim1AZjjHIA.png"/></div></div></figure><p id="089a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">网络请求失败！！！显然，我在iPhone上运行的Expo应用程序无法到达该IP地址和端口。经过大量的研究和尝试不同的东西，结果发现我忽略了一件重要的事情——我的Mac的网络设置(系统偏好/网络)！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ky"><img src="../Images/b98952d119efe89f7c01a931c90945fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EtlEzlH0I9O2woM3THbakw.png"/></div></div></figure><p id="31fd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我的Mac实际上的IP地址是10.0.1.11，而不是Rails默认的IP地址127.0.0.1！如何解决这个问题？结果是我必须通过“rails s -b 10.0.1.11”将我的Rails服务器绑定到那个IP和端口。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kz"><img src="../Images/cdc7fac0dfca8bffdfa92248f057113e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O-I98KcaDk4WoTzQXzMasQ.png"/></div></div></figure><p id="76b8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，我的后端应用程序在10.0.1.11:3000监听，我可以从中获取数据。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kz"><img src="../Images/d14e0a7ca68da4ed56c82a010a449d2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GJQb6JuvFiddM2ZTpOrNIQ.png"/></div></div></figure><p id="0fff" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我花了几个小时四处寻找，才意识到Rails应用程序的默认IP地址和我自己的服务器(我的Macbook Pro)地址不匹配。如果你遇到类似的问题，希望这能节省你一点时间。</p></div></div>    
</body>
</html>