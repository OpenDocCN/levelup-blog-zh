<html>
<head>
<title>Hello Marine — a SC2 AI Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你好，海洋——SC2人工智能指南</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/hello-marine-a-sc2-ai-guide-67f77543016c?source=collection_archive---------3-----------------------#2020-09-05">https://levelup.gitconnected.com/hello-marine-a-sc2-ai-guide-67f77543016c?source=collection_archive---------3-----------------------#2020-09-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/19f95e0a7d4fbe75b699a744585800a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3PuR__uuz5Tqx7SE.jpg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">暴雪娱乐公司的官方作品</figcaption></figure><p id="29e7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">先决条件:</strong></p><ul class=""><li id="1720" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated"><a class="ae kc" href="https://starcraft2.com/en-gb/" rel="noopener ugc nofollow" target="_blank">星际争霸2安装完毕。</a></li><li id="5354" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><a class="ae kc" href="https://dotnet.microsoft.com/download/dotnet-core/3.1" rel="noopener ugc nofollow" target="_blank"> NET Core 3.1 SDK(或更新版本)</a></li><li id="b4f6" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">分叉克隆<a class="ae kc" href="https://github.com/schmidtgit/SC2Abathur" rel="noopener ugc nofollow" target="_blank"> SC2Abathur </a></li></ul><p id="847f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第一次运行SC2Abathur项目将生成开始使用Abathur所需的一切。您应该会看到类似如下的输出:</p><figure class="lq lr ls lt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lp"><img src="../Images/0f70e63293168ed407248984db06b259.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w7jNVVCiguCrzNesqzDAwA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">SC2Abathur首次在Windows机器上推出。图片作者。</figcaption></figure><p id="e053" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">该项目将自动启动包含的演示，但一旦开始播放就可以安全地关闭。此过程将在您的计算机上生成三个文件，以及一个日志文件夹，默认情况下，每次运行后都会用一个新文件填充该文件夹。</p><p id="55d8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lu"> essence.data </em>是一个包含游戏具体细节的二进制文件——比如单位成本、单位生命值、升级成本等。暴雪经常调整这些东西，所以最好在新补丁发布时重新生成这个文件。</p><p id="b926" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lu"> setup.json </em>是一个小文件，描述您的Abathur代理将运行哪些模块。这个文件是用一个小的演示程序初始化的。</p><pre class="lq lr ls lt gt lv lw lx ly aw lz bi"><span id="0d85" class="ma mb iq lw b gy mc md l me mf">{<br/>  "IsParallelized": false,<br/>  "Modules": [<br/>    "RandomDemo",<br/>    "AutoHarvestGather",<br/>    "AutoSupply"<br/>  ]<br/>}</span></pre><p id="2026" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后一个文件是<em class="lu"> gamesettings.json </em>，它包含了启动客户端和设置第一个游戏时Abathur需要知道的所有内容。在此编辑以更改地图或比赛。默认情况下，该文件将被初始化为启动<em class="lu">云王国LE </em>与<em class="lu">随机竞赛</em>对抗<em class="lu">非常简单的</em>随机AI的设置。</p><pre class="lq lr ls lt gt lv lw lx ly aw lz bi"><span id="9a0c" class="ma mb iq lw b gy mc md l me mf">{<br/>  "FolderPath": "C:\\Program Files (x86)\\StarCraft II",<br/>  "ConnectionAddress": "127.0.0.1",<br/>  "ConnectionServerPort": 8165,<br/>  "ConnectionClientPort": 8170,<br/>  "MultiplayerSharedPort": 8175,<br/>  "InterfaceOptions": {<br/>    "Raw": true,<br/>    "Score": true,<br/>    "FeatureLayer": null,<br/>    "Render": null<br/>  },<br/>  "Fullscreen": false,<br/>  "ClientWindowWidth": 1024,<br/>  "ClientWindowHeight": 768,<br/>  "GameMap": "Cloud Kingdom LE",<br/>  "DisableFog": false,<br/>  "Realtime": false,<br/>  "ParticipantRace": 4,<br/>  "Opponents": [<br/>    {<br/>      "Type": 2,<br/>      "Race": 4,<br/>      "Difficulty": 1<br/>    }<br/>  ]<br/>}</span></pre></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="1bf6" class="mn mb iq bd mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj bi translated">添加新模块</h1><p id="8aee" class="pw-post-body-paragraph kd ke iq kf b kg nk ki kj kk nl km kn ko nm kq kr ks nn ku kv kw no ky kz la ij bi translated">消毒代理由<em class="lu">模块</em>组成。模块必须继承自<em class="lu"> IModule </em>或<em class="lu"> IReplaceableModule — </em>后者允许在游戏中添加和删除模块，例如启动特殊策略。</p><p id="2dab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">本教程将使用一个简单的IModule。文件可以添加到解决方案中的任何地方，但是我建议放在SC2Abathur.Modules中，由于都是void方法，所以坚持接口相对简单。</p><pre class="lq lr ls lt gt lv lw lx ly aw lz bi"><span id="24cf" class="ma mb iq lw b gy mc md l me mf">using Abathur.Modules;<br/>using System;<br/><br/>namespace SC2Abathur.Modules<br/>{<br/>  class MarineModule : IModule<br/>  {<br/>    void IModule.Initialize() {}<br/>    void IModule.OnGameEnded() {}<br/>    void IModule.OnRestart() {}<br/>    void IModule.OnStart() =&gt; Console.WriteLine("Hi from Marine");<br/>    void IModule.OnStep() {}<br/>  }<br/>}</span></pre><p id="9b24" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Abathur将调用这些方法，但是首先我们需要指定我们希望在代理中包含我们的MarineModule。这是通过更新<em class="lu"> setup.json </em>文件来完成的。我们选择仍然包括“自动收割”和“自动供应”——它们是简单的助手模块，让空闲的工人工作，并在达到供应极限时创建新的供应站/塔/领主。</p><pre class="lq lr ls lt gt lv lw lx ly aw lz bi"><span id="13a8" class="ma mb iq lw b gy mc md l me mf">{<br/>  "IsParallelized": false,<br/>  "Modules": [<br/>    "MarineModule",<br/>    "AutoHarvestGather",<br/>    "AutoSupply"<br/>  ]<br/>}</span></pre><p id="8bd0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还需要更新<em class="lu"> gamesettings.json </em>来指定我们想玩哪个种族。<em class="lu">人族(1)，虫族(2)，神族(3)或者随机(4)。</em></p><pre class="lq lr ls lt gt lv lw lx ly aw lz bi"><span id="d531" class="ma mb iq lw b gy mc md l me mf">{<br/>  ... [removed for brevity] ...<br/>  "ParticipantRace": 1,<br/>  ... [removed for brevity] ...<br/>}</span></pre><p id="a986" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">再次启动该解决方案应该会产生类似这样的结果。请注意，它的启动速度明显更快，因为基本文件已经存在。</p><figure class="lq lr ls lt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi np"><img src="../Images/bcb934359ada203ffc9ad02bfbd729e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rjl-6AelExJa4lQmQfOAgA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">使用MarineModule启动。图片作者。</figcaption></figure></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="b2b4" class="mn mb iq bd mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj bi translated">转移一名陆战队员。</h1><p id="9868" class="pw-post-body-paragraph kd ke iq kf b kg nk ki kj kk nl km kn ko nm kq kr ks nn ku kv kw no ky kz la ij bi translated">我们已经确认Abathur承认我们模块的存在，现在有趣的部分来了。Abathur公开了许多服务或<em class="lu">管理器。</em>这些都是可以通过依赖注入获得的，所以我们可以在我们模块的构造函数中添加我们需要的。</p><blockquote class="nq nr ns"><p id="3e18" class="kd ke lu kf b kg kh ki kj kk kl km kn nt kp kq kr nu kt ku kv nv kx ky kz la ij bi translated"><strong class="kf ir">IProductionManager<em class="iq"/></strong><em class="iq">处理单位和建筑的生产。<br/></em><strong class="kf ir">IIntelManager</strong><em class="iq">处理与当前游戏状态相关的一切。<br/></em><strong class="kf ir">ICombatManager</strong><em class="iq">为控制单元提供快捷方式。</em></p></blockquote><p id="2d02" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在游戏的第一帧，Abathur将调用<em class="lu"> OnStart() </em>方法。我们在这里向生产经理添加了一个单个海洋生物的请求。海军陆战队需要兵营，兵营需要补给站——但默认情况下，这都是由生产经理为我们处理的。</p><p id="6a62" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们在<em class="lu">United self</em>事件上注册我们的自定义处理程序<em class="lu"> OnUnitCreated </em>，告诉IIntelManager在发现(创建)新的非工作单元时通知我们。</p><p id="c232" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们告诉我们勇敢的新陆战队员去战斗。这是通过查看所有的<em class="lu">菌落来完成的。</em> Abathur指一个适合作为基地的地点(附近有船只和矿藏)作为殖民地。敌人可能的起始位置标有“IsStartingLocation”标志——这使我们很容易找到敌人在云王国le的基地，因为只有一个。</p><pre class="lq lr ls lt gt lv lw lx ly aw lz bi"><span id="07a8" class="ma mb iq lw b gy mc md l me mf">using Abathur.Constants;<br/>using Abathur.Core;<br/>using Abathur.Model;<br/>using Abathur.Modules;<br/>using System.Linq;<br/><br/>namespace SC2Abathur.Modules {<br/>  class MarineModule : IModule {<br/>    private IProductionManager pm;<br/>    private IIntelManager im;<br/>    private ICombatManager cm;<br/>    private IUnit raynor;<br/>    <br/>    public MarineModule(<br/>      IProductionManager pm,<br/>      IIntelManager im, <br/>      ICombatManager cm) {<br/>      this.pm = pm; this.im = im; this.cm = cm;<br/>    }<br/><br/>    void IModule.OnStart() { <br/>      pm.QueueUnit(BlizzardConstants.Unit.Marine);<br/>      im.Handler.RegisterHandler(Case.UnitAddedSelf, OnUnitCreated);<br/>    }<br/><br/>    void OnUnitCreated(IUnit unit) {<br/>      if (raynor != null || unit.UnitType != BlizzardConstants.Unit.Marine)<br/>        return;<br/>      raynor = unit;<br/>    }<br/><br/>    void IModule.OnStep() {<br/>      if(raynor?.Orders.Count == 0) {<br/>        IPosition p = im.Colonies<br/>          .Where(c =&gt; c.IsStartingLocation)<br/>          .FirstOrDefault();<br/>        cm.AttackMove(raynor.Tag, p.Point);<br/>      }<br/>    }<br/><br/>    void IModule.Initialize() {}<br/>    void IModule.OnGameEnded() {}<br/>    void IModule.OnRestart() {}<br/>  }<br/>}</span></pre><p id="281b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lu">注意，攻击动作可以直接在OnUnitCreated处理程序中完成，但是我想展示IUnit类可以作为一个单元的持久引用。</em></p><p id="6d16" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这就是创建和移动我们第一个陆战队员所需要的全部代码。即使不是最好的特工，也是一名特工。下面的视频展示了这段代码的预期行为；</p><figure class="lq lr ls lt gt jr"><div class="bz fp l di"><div class="nw nx l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">运行MarineModule的结果。作者视频。</figcaption></figure><h1 id="171d" class="mn mb iq bd mo mp ny mr ms mt nz mv mw mx oa mz na nb ob nd ne nf oc nh ni nj bi translated">结论</h1><p id="e519" class="pw-post-body-paragraph kd ke iq kf b kg nk ki kj kk nl km kn ko nm kq kr ks nn ku kv kw no ky kz la ij bi translated">我们设法用相当有限的代码移动了星际争霸2中的一个陆战队员。耶！SC2Abathur 包括三个原始的样本机器人，可以对抗内置的“非常简单”的人工智能。我建议在扩展您的简单代理时从那里汲取灵感——参见<a class="ae kc" href="https://github.com/schmidtgit/SC2Abathur/tree/master/SC2Abathur/Modules/Examples" rel="noopener ugc nofollow" target="_blank"> <em class="lu">模块。</em>例题</a></p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><p id="9e2f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lu">原载于2020年9月5日</em><a class="ae kc" href="https://adequatesource.com/hello-marine/" rel="noopener ugc nofollow" target="_blank"><em class="lu">【https://adequatesource.com】</em></a><em class="lu">。</em></p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="b301" class="mn mb iq bd mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj bi translated">分级编码</h1><p id="659c" class="pw-post-body-paragraph kd ke iq kf b kg nk ki kj kk nl km kn ko nm kq kr ks nn ku kv kw no ky kz la ij bi translated">感谢您成为我们社区的一员！<a class="ae kc" href="https://www.youtube.com/channel/UC3v9kBR_ab4UHXXdknz8Fbg?sub_confirmation=1" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a>或者加入<a class="ae kc" href="https://skilled.dev/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> Skilled.dev编码面试课程</strong> </a>。</p><div class="od oe gp gr of og"><a href="https://skilled.dev" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd ir gy z fp ol fr fs om fu fw ip bi translated">编写面试问题</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">掌握编码面试的过程</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">技术开发</p></div></div><div class="op l"><div class="oq l or os ot op ou jw og"/></div></div></a></div></div></div>    
</body>
</html>