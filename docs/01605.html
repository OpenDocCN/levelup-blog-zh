<html>
<head>
<title>3 Ways to Swap Values without a Temporary Variable</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">3种不用临时变量交换值的方法</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/3-ways-to-swap-values-without-a-temporary-variable-c5a2fbee4527?source=collection_archive---------12-----------------------#2020-01-15">https://levelup.gitconnected.com/3-ways-to-swap-values-without-a-temporary-variable-c5a2fbee4527?source=collection_archive---------12-----------------------#2020-01-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5c66" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">去掉那个尴尬的tmp。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8d84882ad2b4387ddd615fc99f013e8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NjQ78Dv56CVjJbJ-OIb9hw.png"/></div></div></figure><p id="4a09" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在这篇文章中，我将展示不需要第三个变量交换两个值的三种方法。尽管这些方法可能适用于任何语言，但我将展示它们在Python中的实现。</p><h1 id="39b3" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">交换任务</h1><p id="e3ba" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">这可能是最广为人知的方法，它包括<strong class="kw iu">在一条语句中给每个变量赋予另一个变量的值。</strong>该解决方案可按如下方式实施:</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="5194" class="ms lr it mo b gy mt mu l mv mw">x = 3<br/>y = 5</span><span id="b29a" class="ms lr it mo b gy mx mu l mv mw">x, y = y, x</span><span id="9f5f" class="ms lr it mo b gy mx mu l mv mw">print(x)  # 5<br/>print(y)  # 3</span></pre><p id="7bf8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">一个简单的方法来拯救我们从一个额外的变量！</p><h1 id="a04a" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">算术交换</h1><p id="85a0" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">这种方法使用了<strong class="kw iu">，一个优雅的算术技巧</strong>，其中我们用这两个值的和来覆盖两个变量中的一个，然后从结果值中减去第二个变量来获得第一个变量。然后，我们用总和减去先前获得的值来覆盖第一个值。迷茫？让我们来看看它的实现:</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="9854" class="ms lr it mo b gy mt mu l mv mw">x = 3<br/>y = 5</span><span id="0f3f" class="ms lr it mo b gy mx mu l mv mw">x = x + y  # x = 3 + 5 = 8<br/>y = x - y  # y = 8 - 5 = 3<br/>x = x - y  # x = 8 - 3 = 5</span><span id="ea44" class="ms lr it mo b gy mx mu l mv mw">print(x)  # 5<br/>print(y)  # 3</span></pre><p id="0967" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您喜欢这种方法，您将会看到，如果您用乘法代替加法，用除法代替减法(不过在Python 3中，将结果数字转换为浮点值)，这种方法也是可行的。</p><h1 id="064c" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">异或交换</h1><p id="06c7" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">最后但同样重要的是(实际上这是我最喜欢的)，异或交换。如果您不记得什么是<strong class="kw iu">XOR(异或)运算符</strong>，它是一个按位运算符，类似于OR运算符，只是为了获得输出值1，输入值中只有一个(而不是两个)应该为1。为了更好地理解，请看一下它的真值表:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi my"><img src="../Images/1f016cc849d0e1af1d42b1e8abe00589.png" data-original-src="https://miro.medium.com/v2/resize:fit:348/format:webp/1*4Yxw-8d_-Sq7mTkVzr6J6g.png"/></div></figure><p id="2c75" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们来看看这种方法的实现。请注意，Python的XOR运算符用^符号表示:</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="5f0e" class="ms lr it mo b gy mt mu l mv mw">x = 3<br/>y = 5</span><span id="a1a4" class="ms lr it mo b gy mx mu l mv mw">x = x ^ y<br/>y = x ^ y<br/>x = x ^ y</span><span id="c54d" class="ms lr it mo b gy mx mu l mv mw">print(x)  # 5<br/>print(y)  # 3</span></pre><p id="b0a7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这种方法为什么有效？让我们一步一步地看一下我们的例子:</p><ol class=""><li id="37f4" class="mz na it kw b kx ky la lb ld nb lh nc ll nd lp ne nf ng nh bi translated">3的3位二进制表示是011，而5的表示是101。</li><li id="9547" class="mz na it kw b kx ni la nj ld nk lh nl ll nm lp ne nf ng nh bi translated">x = x ^ y = 011 ^ 101给出的结果是110。</li><li id="2dac" class="mz na it kw b kx ni la nj ld nk lh nl ll nm lp ne nf ng nh bi translated">y = x ^ y = 110 ^ 101给出的结果是011(相当于十进制表示中的3)。</li><li id="e111" class="mz na it kw b kx ni la nj ld nk lh nl ll nm lp ne nf ng nh bi translated">x = x ^ y = 110 ^ 011得出的结果是101(相当于十进制表示中的5)。</li></ol><p id="5442" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">请注意，尽管在您的代码库中包含这样一个优雅的技巧很有诱惑力，但出于两个原因，我建议不要这样做(请原谅，我不得不在列表中包含这种技术，它实在太美了):</p><ul class=""><li id="9ae9" class="mz na it kw b kx ky la lb ld nb lh nc ll nd lp nn nf ng nh bi translated">你的同事对此不会很高兴:好吧，你今天已经学会了这个技巧，但你的同事可能不知道，而且我不确定如果有一个bug需要修复，他们是否会喜欢。</li><li id="b2bc" class="mz na it kw b kx ni la nj ld nk lh nl ll nm lp nn nf ng nh bi translated">它有一些技术说明:看看<a class="ae no" href="https://stackoverflow.com/q/1723575/" rel="noopener ugc nofollow" target="_blank">这个</a>和<a class="ae no" href="https://stackoverflow.com/q/32218275/" rel="noopener ugc nofollow" target="_blank">这个</a>。<strong class="kw iu">TLDR；</strong>您将被限制为整数值，即使在这种情况下，您也需要小心，因为一个值与其自身进行XOR运算将总是返回0(比如，您想用它来对可能有重复数字的列表进行排序)。</li></ul><p id="b599" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">就是这样！你刚刚学习了三种交换两个值的方法，而不需要第三个变量。<strong class="kw iu">如果你的编程语言允许的话，希望你会使用第一种解决方案</strong>，主要考虑它的可读性(而且，从CPU的角度来看，它应该更便宜)。</p></div></div>    
</body>
</html>