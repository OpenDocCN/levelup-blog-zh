<html>
<head>
<title>Build Tic Tac Toe With React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用React构建井字游戏</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/build-tic-tac-toe-with-reactjs-a967e99a0de1?source=collection_archive---------4-----------------------#2022-12-13">https://levelup.gitconnected.com/build-tic-tac-toe-with-reactjs-a967e99a0de1?source=collection_archive---------4-----------------------#2022-12-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="5b41" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本文中，我们将用Reactjs创建一个简单的井字游戏</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/646528f2aaa11cc661079816c4ee95dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xImJLBMcNPpE0zUxvNfQIA.png"/></div></div></figure><h1 id="2f85" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">涵盖的内容</h1><p id="ceac" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">—组件设计<br/> —高级JS游戏逻辑<br/> —高级CSS悬停特效<br/> — CSS Flex <br/> — CSS形状构建</p><p id="9662" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们的井字游戏结果将如下所示:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="dd9e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用create-react-app命令创建React.js应用程序的最简单方法。在您的终端中使用以下命令安装该软件包。</p><pre class="kp kq kr ks gt mf mg mh bn mi mj bi"><span id="ae86" class="mk lb it mg b be ml mm l mn mo">npx create-react-app Tic-Tac-Toe-using-React<br/>cd Tic-Tac-Toe-using-React<br/>npm start</span></pre><p id="1bf6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">像这样准备文件和文件夹:</p><pre class="kp kq kr ks gt mf mg mh bn mi mj bi"><span id="48cb" class="mk lb it mg b be ml mm l mn mo">src/<br/> App.css<br/> App.js<br/> EndGame.js<br/> index.js<br/> Square.js<br/> TicTacToe.js</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mp"><img src="../Images/9f7f583111bfe6f77d9f50b06ecfc840.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_1cHdKpxX-RAJz44MNBK7A.png"/></div></div></figure><p id="2725" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们将从方形组件开始</p><p id="fa4b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">方形构件</strong></p><p id="37fc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">用下面的代码打开“Square.js”文件并保存。</p><pre class="kp kq kr ks gt mf mg mh bn mi mj bi"><span id="70e8" class="mk lb it mg b be ml mm l mn mo">const Square = ({ clickedArray, handleClick }) =&gt; {<br/>  return (<br/>    &lt;div className="board"&gt;<br/>      {clickedArray.map((item, index) =&gt; {<br/>        if (item === "") {<br/>          return (<br/>            &lt;div<br/>              key={index}<br/>              className="square"<br/>              onClick={() =&gt; handleClick(index)}<br/>            &gt;<br/>              {item}<br/>            &lt;/div&gt;<br/>          );<br/>        } else {<br/>          return (<br/>            &lt;div key={index} className="square clicked"&gt;<br/>              {item}<br/>            &lt;/div&gt;<br/>          );<br/>        }<br/>      })}<br/>    &lt;/div&gt;<br/>  );<br/>};<br/>export default Square;</span></pre><p id="fcfc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">残局组件</strong></p><p id="3db3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">打开<strong class="js iu">残局</strong>。js "文件并编写代码:</p><pre class="kp kq kr ks gt mf mg mh bn mi mj bi"><span id="810f" class="mk lb it mg b be ml mm l mn mo">const EndGame = ({ newGame, player, draw, X_PLAYER, O_PLAYER }) =&gt; {<br/>  return (<br/>    &lt;div className="end-game-screen"&gt;<br/>      {!draw &amp;&amp; (<br/>        &lt;span className="win-text"&gt;<br/>          Player {player ? O_PLAYER : X_PLAYER} Win!<br/>        &lt;/span&gt;<br/>      )}<br/>      {draw &amp;&amp; &lt;span className="win-text"&gt;Draw&lt;/span&gt;}<br/>      &lt;button className="btn" onClick={newGame}&gt;<br/>        New Game<br/>      &lt;/button&gt;<br/>    &lt;/div&gt;<br/>  );<br/>};<br/>export default EndGame;</span></pre><p id="a967" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">节气门组件</strong></p><p id="d50f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个组件将存储我们的游戏逻辑，但是我们稍后将添加游戏逻辑</p><pre class="kp kq kr ks gt mf mg mh bn mi mj bi"><span id="016c" class="mk lb it mg b be ml mm l mn mo">import { useState } from "react";<br/>import Square from "./Square";<br/>import EndGame from "./EndGame";<br/>const INITIAL = "";<br/>const X_PLAYER = "X";<br/>const O_PLAYER = "O";<br/>const winCombination = [<br/>  [0, 1, 2],<br/>  [3, 4, 5],<br/>  [6, 7, 8],<br/>  [0, 3, 6],<br/>  [1, 4, 7],<br/>  [2, 5, 8],<br/>  [0, 4, 8],<br/>  [2, 4, 6],<br/>];<br/>const TicTacToe = () =&gt; {<br/>  const [grid, setGrid] = useState(Array(9).fill(INITIAL));<br/>  const [player, setPlayer] = useState(false);<br/>  const [gameFinished, setGameFinished] = useState(false);<br/>  const [draw, setDraw] = useState(false);<br/>  const newGame = () =&gt; {<br/>    setGrid(Array(9).fill(INITIAL));<br/>    setGameFinished(false);<br/>    setDraw(false);<br/>  };<br/> <br/>  return (<br/>    &lt;div&gt;<br/>      &lt;div className="player-turn"&gt;<br/>        Turn player: {player ? X_PLAYER : O_PLAYER}<br/>      &lt;/div&gt;<br/>      {gameFinished &amp;&amp; (<br/>        &lt;EndGame<br/>          newGame={newGame}<br/>          player={player}<br/>          draw={draw}<br/>          X_PLAYER={X_PLAYER}<br/>          O_PLAYER={O_PLAYER}<br/>        /&gt;<br/>      )}<br/>      &lt;Square clickedArray={grid} handleClick={handleClick} /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>};<br/>export default TicTacToe;</span></pre><p id="979d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为我们的游戏增添风格</p><p id="52d8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">App.css</p><pre class="kp kq kr ks gt mf mg mh bn mi mj bi"><span id="f39c" class="mk lb it mg b be ml mm l mn mo">* {<br/>  margin: 0;<br/>  padding: 0;<br/>  box-sizing: border-box;<br/>  font-family: "PT Sans", sans-serif;<br/>}<br/>.App {<br/>  height: 100vh;<br/>  background: #cbd2d6;<br/>  display: flex;<br/>  align-items: center;<br/>  justify-content: center;<br/>}<br/>.square {<br/>  background: #498da6;<br/>  height: 10rem;<br/>  width: 10rem;<br/>  display: flex;<br/>  align-items: center;<br/>  justify-content: center;<br/>  cursor: pointer;<br/>  color: white;<br/>  font-size: 4rem;<br/>}<br/>.square:hover {<br/>  background: #fcf649;<br/>}<br/>.square.clicked {<br/>  background: #01233d;<br/>  cursor: not-allowed;<br/>}<br/>.board {<br/>  display: grid;<br/>  grid-template-columns: repeat(3, auto);<br/>  align-items: center;<br/>  justify-content: center;<br/>  grid-gap: 5px;<br/>}<br/>.end-game-screen {<br/>  display: flex;<br/>  align-items: center;<br/>  justify-content: center;<br/>  flex-direction: column;<br/>  position: absolute;<br/>  top: 0;<br/>  left: 0;<br/>  height: 100vh;<br/>  width: 100vw;<br/>  background: rgba(0, 0, 0, 0.8);<br/>}<br/>.btn {<br/>  background: #cbd2d6;<br/>  color: #01233d;<br/>  border: 2px solid #cbd2d6;<br/>  font-size: 2rem;<br/>  margin-bottom: 1rem;<br/>  padding: 10px 14px;<br/>  cursor: pointer;<br/>  border-radius: 5px;<br/>  transition: 0.3s ease-out;<br/>  max-height: 7rem;<br/>}<br/>.win-text {<br/>  color: white;<br/>  font-size: 10rem;<br/>}<br/>.player-turn {<br/>  color: #01233d;<br/>  font-size: 2rem;<br/>  margin: 2rem 0;<br/>}</span></pre><p id="d17f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们打开App.js并修改代码</p><pre class="kp kq kr ks gt mf mg mh bn mi mj bi"><span id="7568" class="mk lb it mg b be ml mm l mn mo">import "./App.css";<br/>import TicTacToe from "./TicTacToe";<br/>const App = () =&gt; {<br/>  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;TicTacToe /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>};<br/>export default App;</span></pre><p id="cb33" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你应该看到这样的结果，但它还没有工作。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mq"><img src="../Images/2baa2bc0eba28e4c836df39b62f2aad6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LYOsZ3_vn4jlVTCAX0H7kA.png"/></div></div></figure><p id="0b6f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后一步实现我们的游戏逻辑，打开TicTacToe组件修改handleClick函数并添加isGameOver函数。</p><p id="8cb7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最终TicTacToe组件代码</p><pre class="kp kq kr ks gt mf mg mh bn mi mj bi"><span id="b9c2" class="mk lb it mg b be ml mm l mn mo">import { useState } from "react";<br/>import Square from "./Square";<br/>import EndGame from "./EndGame";<br/>const INITIAL = "";<br/>const X_PLAYER = "X";<br/>const O_PLAYER = "O";<br/>const winCombination = [<br/>  [0, 1, 2],<br/>  [3, 4, 5],<br/>  [6, 7, 8],<br/>  [0, 3, 6],<br/>  [1, 4, 7],<br/>  [2, 5, 8],<br/>  [0, 4, 8],<br/>  [2, 4, 6],<br/>];<br/>const TicTacToe = () =&gt; {<br/>  const [grid, setGrid] = useState(Array(9).fill(INITIAL));<br/>  const [player, setPlayer] = useState(false);<br/>  const [gameFinished, setGameFinished] = useState(false);<br/>  const [draw, setDraw] = useState(false);<br/>  const newGame = () =&gt; {<br/>    setGrid(Array(9).fill(INITIAL));<br/>    setGameFinished(false);<br/>    setDraw(false);<br/>  };<br/>  const handleClick = (id) =&gt; {<br/>    setGrid(<br/>      grid.map((item, index) =&gt; {<br/>        if (index === id) {<br/>          if (player) {<br/>            return X_PLAYER;<br/>          } else {<br/>            return O_PLAYER;<br/>          }<br/>        } else {<br/>          return item;<br/>        }<br/>      })<br/>    );<br/>    setPlayer(!player);<br/>  };<br/>  const isGameOver = () =&gt; {<br/>    if (!gameFinished) {<br/>      for (let i = 0; i &lt; 8; i++) {<br/>        if (<br/>          grid[winCombination[i][0]] === X_PLAYER &amp;&amp;<br/>          grid[winCombination[i][1]] === X_PLAYER &amp;&amp;<br/>          grid[winCombination[i][2]] === X_PLAYER<br/>        ) {<br/>          setGameFinished(true);<br/>          return;<br/>        }<br/>      }<br/>      for (let i = 0; i &lt; 8; i++) {<br/>        if (<br/>          grid[winCombination[i][0]] === O_PLAYER &amp;&amp;<br/>          grid[winCombination[i][1]] === O_PLAYER &amp;&amp;<br/>          grid[winCombination[i][2]] === O_PLAYER<br/>        ) {<br/>          setGameFinished(true);<br/>          return;<br/>        }<br/>      }<br/>      if (!grid.includes(INITIAL)) {<br/>        setDraw(true);<br/>        setGameFinished(true);<br/>      }<br/>    }<br/>  };<br/>  isGameOver();<br/><br/>  return (<br/>    &lt;div&gt;<br/>      &lt;div className="player-turn"&gt;<br/>        Turn player: {player ? X_PLAYER : O_PLAYER}<br/>      &lt;/div&gt;<br/>      {gameFinished &amp;&amp; (<br/>        &lt;EndGame<br/>          newGame={newGame}<br/>          player={player}<br/>          draw={draw}<br/>          X_PLAYER={X_PLAYER}<br/>          O_PLAYER={O_PLAYER}<br/>        /&gt;<br/>      )}<br/>      &lt;Square clickedArray={grid} handleClick={handleClick} /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>};<br/>export default TicTacToe;</span></pre><h1 id="a766" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">结论</h1><p id="0e79" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">搞定了。对于任何希望在学习React、JavaScript和CSS概念的同时获得乐趣的人来说，这是一个极好的项目。</p><p id="9fd6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">源代码:<a class="ae mr" href="https://github.com/easywebsify/Tic-Tac-Toe-React" rel="noopener ugc nofollow" target="_blank">https://github.com/easywebsify/Tic-Tac-Toe-React</a></p></div></div>    
</body>
</html>