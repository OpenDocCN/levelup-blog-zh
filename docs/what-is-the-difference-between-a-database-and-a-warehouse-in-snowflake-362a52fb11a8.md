# 雪花中的数据库和仓库有什么区别？

> 原文：<https://levelup.gitconnected.com/what-is-the-difference-between-a-database-and-a-warehouse-in-snowflake-362a52fb11a8>

## 在雪花数据平台中，数据库是存储数据的虚拟硬盘，而仓库是用于运行分析查询的虚拟计算资源。以下是需要了解的内容。

![](img/9577e7fe0008834f00c2b70ea57005a0.png)

封面照片由 [Aaron Burden](https://unsplash.com/@aaronburden?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 在 [Unsplash](https://unsplash.com/s/photos/snowflake?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上拍摄

雪花是一个数据分析平台，为各种有趣的数据工程和分析应用提供了优于传统数据库的优势。

雪花使用数据库来保存大量数据(“存储”)，与“[虚拟仓库](https://www.propeldata.com/blog/what-are-warehouses-in-snowflake-data-analytics-platform)”(或只是“仓库”)分开，虚拟仓库处理和操作这些数据(“计算”)。

虽然数据仓库是用于报告和数据分析的数据的中央存储库，但 Snowflake 使用术语“仓库”专门表示虚拟计算集群，它允许您操作和处理数据以进行分析查询。

> *“虚拟仓库是一个计算资源集群。执行某些类型的 SQL 语句需要仓库，因为它提供 CPU、内存和本地存储等资源。”–*[*雪花单据*](https://docs.snowflake.com/en/sql-reference/ddl-virtual-warehouse.html)

同时，雪花中的数据库有一个更传统的定义。雪花的关系数据库是使用 SQL(结构化查询语言)构建的，它们是您存储将在平台中使用的数据的地方。

> *“雪花中的所有数据都是在数据库中维护的。每个数据库由一个或多个模式组成，这些模式是数据库对象(如表和视图)的逻辑分组–*[*雪花单据*](https://docs.snowflake.com/en/user-guide/databases.html)

每个模式属于一个雪花数据库，每个数据库只属于一个雪花帐户。在雪花中，数据库和模式一起被称为“名称空间”。雪花不限制您能够在单个帐户中创建的数据库数量、模式数量(在一个数据库中)或对象数量(在一个模式中)。

# 雪花里的仓库和数据库有什么区别？

雪花的仓库是计算引擎，允许您轻松地扩大和缩小运行分析查询的计算集群的规模。仓库是雪花中运行分析的东西，而数据库本身只是保存数据的静态存储库。

与其他数据仓库解决方案相比，雪花有一种独特的数据库方法。雪花的优势来自微分区的使用，微分区是 50 到 500MB 的小分区，自动创建，比静态分区的查询速度更快。

在雪花中自动创建聚类被称为自动聚类，这是一个消耗雪花信用从而花钱的过程。但是，自动集群不需要您手动设置虚拟仓库；它在幕后自动发生。然而，除了存储成本之外，您还必须支付这些仓库资源的费用。

雪花的存储数据库包括连续数据保护(CDP)功能，称为时间旅行和故障安全。雪花时间旅行允许从雪花表、模式和数据库查询、克隆和恢复 1 天(雪花标准版)或最多 90 天(雪花企业版)的历史数据。雪花故障安全是一个历史数据的灾难恢复系统，允许在时间旅行到期后恢复 7 天。这些 CDP 特性都不需要运行仓库，但都会产生存储成本。

总之，雪花是一个数据仓库，它将存储与计算资源分开。雪花中保存的数据保存在名称空间中，名称空间由数据库和模式组成，而虚拟仓库处理分析查询。您使用雪花信用来支付数据库中的存储以及处理时间(当仓库运行时)。

德里克·奥斯汀博士是《职业编程:如何在 6 个月内成为一名成功的 6 位数程序员 》一书的作者，该书现已在亚马逊上架。‍