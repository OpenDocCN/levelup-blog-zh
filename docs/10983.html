<html>
<head>
<title>Pragmatic approach to software architecture decisions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">软件架构决策的实用方法</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/pragmatic-approach-to-software-architecture-decisions-ac8a365e461b?source=collection_archive---------14-----------------------#2022-02-02">https://levelup.gitconnected.com/pragmatic-approach-to-software-architecture-decisions-ac8a365e461b?source=collection_archive---------14-----------------------#2022-02-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><blockquote class="jq"><p id="d2c7" class="jr js it bd jt ju jv jw jx jy jz ka dk translated">为了做出一个好的决定，你实际上需要考虑它，轮廓和后果。</p><p id="7203" class="jr js it bd jt ju kb kc kd ke kf ka dk translated">—斯泰西·艾布拉姆斯</p></blockquote><p id="c260" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ka im bi translated">做出软件架构决策是一项技能。制定严格的流程和法规需要几个月的时间来做出这样的决定。另一方面，一些团队只是继续开发，甚至没有花任何时间考虑问题陈述的各种其他解决方案。软件架构的决策将通过简单而有效的方法来进行。</p><figure class="le lf lg lh gt li gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi ld"><img src="../Images/a89e10a1a8083c038eb55d541b99140a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z5X2JcMllfZiMuRxuxvvDg.jpeg"/></div></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk translated">Alexander Schimmeck 在<a class="ae lt" href="https://unsplash.com/s/photos/decisions?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="2085" class="pw-post-body-paragraph kg kh it ki b kj lu kl km kn lv kp kq kr lw kt ku kv lx kx ky kz ly lb lc ka im bi translated">我将撰写一系列文章，讨论如何通过一些用例做出架构决策。在本文中，我将带您了解做出架构决策的实用方法，以及如何避免常见的陷阱。</p><h1 id="034f" class="lz ma it bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">从产品或技术需求开始</h1><p id="c3e1" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ka im bi translated">从真实的产品或技术需求开始。产品需求就像构建一个新的特性，给一个特性添加一个功能，构建一个全新的产品，等等。甚至有时不是每个产品需求都需要一个架构决策，比如添加一个新的字段，添加一个对现有字段的验证。这可能是一个小的变化，因此团队甚至可以排除架构决策，并可以继续实现。</p><p id="e69b" class="pw-post-body-paragraph kg kh it ki b kj lu kl km kn lv kp kq kr lw kt ku kv lx kx ky kz ly lb lc ka im bi translated">与产品需求一样，可能存在技术需求，如重构、偿还技术债务、重新架构，以改善一些架构特征，如系统的可用性、可伸缩性、一致性或容错性。在大多数情况下，技术需求要求一个架构决策，即使它改变了一些基本参数和系统的性质。</p><blockquote class="nc nd ne"><p id="b97e" class="kg kh nf ki b kj lu kl km kn lv kp kq ng lw kt ku nh lx kx ky ni ly lb lc ka im bi translated">如果你没有真正的产品或技术需求，就不要改变任何东西。当然也不需要架构决策。</p></blockquote><figure class="le lf lg lh gt li gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi nj"><img src="../Images/3f6db880c5d819bf8a91e22e761a545a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6JxE02gmd4AEKgxaDkyLtg@2x.png"/></div></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk translated">架构决策流程图</figcaption></figure><h1 id="1d26" class="lz ma it bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">收集需求</h1><p id="e60e" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ka im bi translated">一旦你确定了产品或技术需求，就从各自的利益相关者那里收集需求。产品需求的要求来自于产品所有者。对于技术需求，技术所有者将定义需求。即使是产品需求，非功能性需求，如可伸缩性、可用性等。应该考虑。</p><h1 id="c98b" class="lz ma it bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">应用约束</h1><p id="ec9a" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ka im bi translated">架构约束是规范，它使开发人员能够形式化架构应该遵守的设计规则，比如给定架构模式或风格的拓扑条件。这些约束可以作为更好地理解现有架构描述的文档，并且可以在应用架构更改后进行检查，以查看设计规则是否仍然有效。像任何规范一样，架构约束可以重用。此外，这些约束是在架构设计时指定和检查的。</p><p id="7d86" class="pw-post-body-paragraph kg kh it ki b kj lu kl km kn lv kp kq kr lw kt ku kv lx kx ky kz ly lb lc ka im bi translated">每个需求都会有一些约束。在做架构决策时，忽略或不考虑约束是一个灾难的处方。如果没有正确处理约束，您可能会以错误的解决方案告终。</p><h1 id="8fea" class="lz ma it bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">集体讨论方法</h1><p id="288b" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ka im bi translated">每个需求或问题陈述都可以通过多种方法实现。在很好地理解了需求和约束之后，是时候想出相同的不同方法了。在这个阶段，建议考虑可以在内部构建的方法，而不是依赖于“购买”选项。通过这种方式，你为你的团队提供了一个以多种可能的方式进行研究、提议和创新的机会。直接选择“购买”不会给你的团队思考的机会。</p><h1 id="8c12" class="lz ma it bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">系统依赖性</h1><p id="adc9" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ka im bi translated">做出架构决策时，需要分析和指定与系统和组件的其他部分的依赖关系。这有助于理解决策的影响以及如何使其与系统的其他部分兼容。</p><h1 id="24ea" class="lz ma it bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">获得认证</h1><p id="8183" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ka im bi translated"><strong class="ki iu">下一步是通过成本、专业知识、资源和时间获得认证。</strong>通过这4个方面介绍所有可能的方法，了解它们如何适用于您的要求和情况。您的团队需要专业知识来构建内部解决方案并终生维护它。如果你的团队有这方面的专业知识，下一步就是大致了解一个方法需要多长时间。如果您的团队觉得他们没有专业知识，并且不确定他们是否能够完成，那么可以开发概念证明来获得对方法的一些信心。成本是衡量各种方法时需要考虑的另一个重要因素。如果一种方法的成本极高，我们真的要考虑替代方案。还必须考虑实施一种方法的可用人力资源。</p><p id="ba18" class="pw-post-body-paragraph kg kh it ki b kj lu kl km kn lv kp kq kr lw kt ku kv lx kx ky kz ly lb lc ka im bi translated">想象一下，如果您盲目地选择一项没有通过认证流程的技术，最终会导致高成本、团队专业知识减少、耗费大量时间和资源，那么请做好最坏的打算！<strong class="ki iu">这是炒作驱动发展的结果。</strong></p><blockquote class="nc nd ne"><p id="7b05" class="kg kh nf ki b kj lu kl km kn lv kp kq ng lw kt ku nh lx kx ky ni ly lb lc ka im bi translated">工具和技术不应该定义你的架构。你的架构&amp;需求应该要求先验。</p></blockquote><p id="d629" class="pw-post-body-paragraph kg kh it ki b kj lu kl km kn lv kp kq kr lw kt ku kv lx kx ky kz ly lb lc ka im bi translated">如果所有通过认证的方面都失败了，这意味着你的团队还没有准备好完成整个项目。<strong class="ki iu">到目前为止，建议缩小需求范围，重新进行认证流程，以了解缩小的范围是否可实现</strong>。做一个MVP并在多个迭代中工作将会降低项目本身的风险，因为团队可以在他们发布一些迭代时获得一些概述，随着时间的推移，专业知识也将会建立。</p><h1 id="45e6" class="lz ma it bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">构建与购买</h1><p id="e2e6" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ka im bi translated">如果团队没有任何方法的专业知识和资源，而组织有尽快发布的策略，现在是时候考虑“构建vs购买”了。随着购买路线，它再次迭代各种选项。比较每个供应商提供的规格和产品，并权衡我们能够承受的成本，最终会是一笔划算的买卖。甚至可以对各种购买选项进行最低限度的概念验证，以了解可能涉及的集成工作。</p><h1 id="7383" class="lz ma it bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">入职利益相关方</h1><p id="4a64" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ka im bi translated">一旦做出决定，其他利益相关者可以参与进来，向他们提供项目时间表、所涉及的权衡和后果的清晰性。<strong class="ki iu">软件架构中的每一个决定都涉及到一些权衡</strong>。重要的是不要忽略这些，向利益相关者传达这一点将有助于他们设定对用户体验的期望。</p><h1 id="9ef7" class="lz ma it bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">记录决策</h1><p id="e61d" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ka im bi translated">记录架构决策可以用尽可能简单的格式来完成。迈克尔·尼加德发明了一种记录架构决策的简单格式，叫做<a class="ae lt" href="https://adr.github.io/" rel="noopener ugc nofollow" target="_blank"> ADR </a>(架构决策记录)。对于决策，“为什么”部分是最重要的方面，因为人们可以在以后参考为什么做出某些架构决策，为什么忽略其他选择，涉及哪些约束和权衡，以及提到的后果是什么。</p></div><div class="ab cl nk nl hx nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="im in io ip iq"><p id="a189" class="pw-post-body-paragraph kg kh it ki b kj lu kl km kn lv kp kq kr lw kt ku kv lx kx ky kz ly lb lc ka im bi translated">在上面显示的架构决策流程图中，<strong class="ki iu">如果您直接得出一种方法，会发生什么？</strong> —您可能会错过约束，不会分析任何参数，也不会考虑其他选项。<strong class="ki iu">最坏的情况，甚至可能没有真正的产品或技术需求。记住这一点，并采取如上所述的务实方法，将使你远离炒作驱动的开发，减少交付的风险，而且只获得需求。</strong></p><p id="4f3a" class="pw-post-body-paragraph kg kh it ki b kj lu kl km kn lv kp kq kr lw kt ku kv lx kx ky kz ly lb lc ka im bi translated">目前就是这样——目标不是将制定架构决策的过程制度化。它仍然应该尽可能保持精简，优先考虑自主性和简单性，但同时有一些指导原则可供参考。上述方法在不同的团队中可能完全不同。根据您的需求和团队的情况进行定制。</p><p id="c273" class="pw-post-body-paragraph kg kh it ki b kj lu kl km kn lv kp kq kr lw kt ku kv lx kx ky kz ly lb lc ka im bi translated">我将会写一系列的文章，包括用例，以及我们如何应用上面的步骤来制定一个架构决策和一个ADR。敬请期待🤞。</p><p id="e589" class="pw-post-body-paragraph kg kh it ki b kj lu kl km kn lv kp kq kr lw kt ku kv lx kx ky kz ly lb lc ka im bi translated">你在做架构决策时有什么经验？—我很想知道你的想法。</p></div><div class="ab cl nk nl hx nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="im in io ip iq"><p id="9738" class="pw-post-body-paragraph kg kh it ki b kj lu kl km kn lv kp kq kr lw kt ku kv lx kx ky kz ly lb lc ka im bi translated"><em class="nf">阅读阿南特·拉玛钱德朗(以及媒体上成千上万的其他作家)的每一个故事:</em>【https://ananthanarayanan-r.medium.com/membership】<em class="nf"><a class="ae lt" href="https://ananthanarayanan-r.medium.com/membership" rel="noopener">——你的会员费直接支持阿南特·拉玛钱德朗和你阅读的其他作家。你也可以在媒体上看到所有的故事。</a></em></p></div></div>    
</body>
</html>