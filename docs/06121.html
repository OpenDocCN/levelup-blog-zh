<html>
<head>
<title>Introduction to Angular Testing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">角度测试简介</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/introduction-to-angular-testing-c596aff78a3a?source=collection_archive---------4-----------------------#2020-10-28">https://levelup.gitconnected.com/introduction-to-angular-testing-c596aff78a3a?source=collection_archive---------4-----------------------#2020-10-28</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="a168" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">隔离、浅层、集成和端到端测试。是什么，什么时候用？</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/84f89578e36a0aa170620045d57e600d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DCLQnZcShsUHmhP3"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">西蒙·艾布拉姆斯在Unsplash<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">拍摄的照片</a></figcaption></figure><p id="a75d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在Angular中，我们有许多不同类型的测试。可以想象你看到的时候有很多疑问。我有这个问题，所以我深入了解了一下。在这篇文章的最后，我希望这些对你也有意义。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="85ca" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">角度测试工具</h1><p id="0402" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">在Angular中，我们使用一些不同的工具来建立自动化测试。</p><p id="ef98" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果您已经使用CLI创建了Angular项目，并且没有说它应该忽略测试，那么CLI的测试功能已经为您设置好了。</p><p id="ef04" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">默认情况下，Angular CLI将Jasmin设置为我们的测试框架，将Karma设置为我们的测试运行程序。但是如果你想利用Jest或者其他测试框架，你可以自由地这样做。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="d097" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">角度测试的类型</h1><p id="cef8" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">在Angular中，我们有4种不同的主要测试类型。</p><ul class=""><li id="b481" class="na nb iu lc b ld le lg lh lj nc ln nd lr ne lv nf ng nh ni bi translated">独立单元测试</li><li id="cb69" class="na nb iu lc b ld nj lg nk lj nl ln nm lr nn lv nf ng nh ni bi translated">浅层单元测试</li><li id="4f8b" class="na nb iu lc b ld nj lg nk lj nl ln nm lr nn lv nf ng nh ni bi translated">集成测试</li><li id="63ea" class="na nb iu lc b ld nj lg nk lj nl ln nm lr nn lv nf ng nh ni bi translated">端到端测试</li></ul></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="ccba" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">独立单元测试</h1><p id="4feb" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">一个单元可能包含需要隔离测试的业务逻辑。</p><p id="99dd" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">有几个角度单位可以单独测试。</p><ul class=""><li id="323f" class="na nb iu lc b ld le lg lh lj nc ln nd lr ne lv nf ng nh ni bi translated">管</li><li id="760f" class="na nb iu lc b ld nj lg nk lj nl ln nm lr nn lv nf ng nh ni bi translated">服务</li><li id="6ae8" class="na nb iu lc b ld nj lg nk lj nl ln nm lr nn lv nf ng nh ni bi translated">班级</li><li id="a7af" class="na nb iu lc b ld nj lg nk lj nl ln nm lr nn lv nf ng nh ni bi translated">成分</li><li id="b311" class="na nb iu lc b ld nj lg nk lj nl ln nm lr nn lv nf ng nh ni bi translated">指令</li></ul><p id="f068" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在孤立中，我们应该总是嘲笑我们的依赖，否则，就不再是孤立了。</p><pre class="kk kl km kn gu no np nq nr aw ns bi"><span id="48ff" class="nt me iu np b gz nu nv l nw nx">import { FormComponent } from './my-form.component'</span><span id="761d" class="nt me iu np b gz ny nv l nw nx">describe('NgqFormComponent', () =&gt; {<br/>	let component: FormComponent<br/>	let mockApiService</span><span id="f85a" class="nt me iu np b gz ny nv l nw nx">	beforeEach(() =&gt; {<br/>		mockApiService = jasmine.createSpyObj([<br/>			'logout',<br/>			'init',<br/>			'getApiJson',<br/>			'getCurrentRoute',<br/>			// add morehere<br/>		])</span><span id="419c" class="nt me iu np b gz ny nv l nw nx">		component = new FormComponent(mockApiService)<br/>	})</span><span id="5866" class="nt me iu np b gz ny nv l nw nx">	it('should be defined', () =&gt; {<br/>		expect(component).toBeDefined()<br/>	})<br/>})</span></pre><p id="dd69" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">例如，FormComponent依赖于<code class="fe nz oa ob np b">apiService</code>。所以我们用Jasmine的createSpyObj来模拟它，它用我们真正的服务所拥有的所有公共方法来模拟服务。</p><p id="3c29" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">由于这个方法，我们还可以测试某个方法是否被调用。当需要重写一个方法时，我们也可以这样做。</p><p id="2d35" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在独立单元测试中，我们不测试组件的模板部分，只测试它背后的逻辑。在这个测试中，我们测试了所有具有预期行为的方法。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="7676" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">浅层单元测试</h1><p id="c967" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">使用浅层单元测试，我们用模板测试一个组件，但是我们忽略了子组件的渲染。通过将NO_ERRORS_SCHEMA传递到我们的配置中，我们可以实现这一点。否则你会得到很多错误。</p><pre class="kk kl km kn gu no np nq nr aw ns bi"><span id="4d6d" class="nt me iu np b gz nu nv l nw nx">beforeEach(async(() =&gt; {</span><span id="5e04" class="nt me iu np b gz ny nv l nw nx">  TestBed.configureTestingModule({<br/>   declarations: [<br/>    FormComponent,<br/>  ],<br/>   imports: [<br/>    BrowserModule,<br/>   ],<br/>  ],<br/>  schemas: [NO_ERRORS_SCHEMA]<br/>  })<br/>  .compileComponents();<br/> }));</span></pre></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="7fce" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">集成测试</h1><p id="8b22" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">在集成测试中，我们测试两个或更多的组件如何相互协作。当组件相互依赖时，我们可以这样做。</p><p id="b291" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">当您想要一起测试更多的组件时，您可以通过测试模块导入它们。</p><pre class="kk kl km kn gu no np nq nr aw ns bi"><span id="d2b4" class="nt me iu np b gz nu nv l nw nx">beforeEach(async(() =&gt; {</span><span id="5c01" class="nt me iu np b gz ny nv l nw nx">  const todo1 = new TODOItem('Buy milk', 'Remember to buy milk');<br/>  todo1.completed = true;<br/>  const todoList = [<br/>   todo1,<br/>   new TODOItem('Buy flowers', 'Remember to buy flowers'),<br/>  ];</span><span id="ac8d" class="nt me iu np b gz ny nv l nw nx">  TestBed.configureTestingModule({<br/>   declarations: [<br/>    AppComponent,<br/>    NavbarComponent,<br/>    TodoListComponent,<br/>    TodoItemComponent,<br/>    FooterComponent,<br/>    AddTodoComponent,<br/>    TodoListCompletedComponent,<br/>  ],<br/>   imports: [<br/>    BrowserModule,<br/>    NgbModule.forRoot(),<br/>    FormsModule,<br/>    appRouterModule<br/>   ],<br/>   providers: [<br/>    {provide: APP_BASE_HREF, useValue : completedTodoPath },<br/>    {<br/>     provide: TodoListService,<br/>     useValue: {<br/>      todoList: todoList<br/>     }<br/>    }<br/>   ]<br/>  })<br/>  .compileComponents();<br/>}));</span></pre></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="ff5a" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">端到端测试</h1><p id="899f" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">使用端到端测试，我们在一个工作的应用程序中测试应用程序的各个部分。我们可以测试前端和后端的工作组合。</p><p id="1873" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">对于这种类型的测试，我们可以使用<a class="ae kz" href="https://www.selenium.dev/" rel="noopener ugc nofollow" target="_blank"> Selenium </a>、<a class="ae kz" href="https://www.protractortest.org/#/" rel="noopener ugc nofollow" target="_blank">量角器</a>、<a class="ae kz" href="https://www.cypress.io/" rel="noopener ugc nofollow" target="_blank"> Cypress </a>、<a class="ae kz" href="https://webdriver.io/" rel="noopener ugc nofollow" target="_blank"> Webdriver.io </a>。</p><p id="8869" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">另一种选择，检查这个伟大的职位。</p><div class="oc od gq gs oe of"><a href="https://medium.com/@aswinkumar4018/which-e2e-testing-framework-to-use-for-js-based-client-applications-fbcac9aab680" rel="noopener follow" target="_blank"><div class="og ab fp"><div class="oh ab oi cl cj oj"><h2 class="bd iv gz z fq ok fs ft ol fv fx it bi translated">哪个E2E测试框架用于基于JS的客户端应用程序？</h2><div class="om l"><h3 class="bd b gz z fq ok fs ft ol fv fx dk translated">让我们为基于Javascript的客户端应用程序确定合适的E2E测试框架，并提出有效的E2E…</h3></div><div class="on l"><p class="bd b dl z fq ok fs ft ol fv fx dk translated">medium.com</p></div></div><div class="oo l"><div class="op l oq or os oo ot kt of"/></div></div></a></div><p id="a225" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">端到端测试也是测试不同设备上不同浏览器之间差异的好方法。有多种服务可以帮助您在CI/CD中进行设置。</p><ul class=""><li id="9cb5" class="na nb iu lc b ld le lg lh lj nc ln nd lr ne lv nf ng nh ni bi translated"><a class="ae kz" href="https://www.browserstack.com/" rel="noopener ugc nofollow" target="_blank">浏览器堆栈</a></li><li id="bc08" class="na nb iu lc b ld nj lg nk lj nl ln nm lr nn lv nf ng nh ni bi translated"><a class="ae kz" href="https://saucelabs.com/" rel="noopener ugc nofollow" target="_blank">酱油实验室</a></li><li id="7766" class="na nb iu lc b ld nj lg nk lj nl ln nm lr nn lv nf ng nh ni bi translated"><a class="ae kz" href="https://testingbot.com/" rel="noopener ugc nofollow" target="_blank">测试机器人</a></li></ul></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="0dd3" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">谢谢</h1><p id="4f0a" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">我们了解了Angular中有哪些类型的测试以及何时使用。对我来说，这很有意义。</p><p id="0638" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果你对Angular的一些测试有疑问，请在评论中告诉我。我会尽全力进一步帮助你👍</p><blockquote class="ou"><p id="cb0a" class="ov ow iu bd ox oy oz pa pb pc pd lv dk translated">最终，我们都需要别人的帮助。所以不要害羞！只是问问😉</p></blockquote><p id="5595" class="pw-post-body-paragraph la lb iu lc b ld pe jv lf lg pf jy li lj pg ll lm ln ph lp lq lr pi lt lu lv in bi translated"><em class="pj">快乐编码🚀</em></p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="de53" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">阅读更多</h1><div class="oc od gq gs oe of"><a href="https://medium.com/dev-together/3-todos-before-applying-for-a-junior-developer-job-26fc0d8ba2b9" rel="noopener follow" target="_blank"><div class="og ab fp"><div class="oh ab oi cl cj oj"><h2 class="bd iv gz z fq ok fs ft ol fv fx it bi translated">申请初级开发人员工作前的3件事</h2><div class="om l"><h3 class="bd b gz z fq ok fs ft ol fv fx dk translated">我见过很多初级开发人员的求职申请。大多数申请都是出于好意…</h3></div><div class="on l"><p class="bd b dl z fq ok fs ft ol fv fx dk translated">medium.com</p></div></div><div class="oo l"><div class="pk l oq or os oo ot kt of"/></div></div></a></div><div class="oc od gq gs oe of"><a href="https://medium.com/dev-together/how-to-learn-javascript-the-easy-way-2aa37007c481" rel="noopener follow" target="_blank"><div class="og ab fp"><div class="oh ab oi cl cj oj"><h2 class="bd iv gz z fq ok fs ft ol fv fx it bi translated">如何以最简单的方式学习JavaScript？</h2><div class="om l"><h3 class="bd b gz z fq ok fs ft ol fv fx dk translated">1.先从理论开始！</h3></div><div class="on l"><p class="bd b dl z fq ok fs ft ol fv fx dk translated">medium.com</p></div></div><div class="oo l"><div class="pl l oq or os oo ot kt of"/></div></div></a></div><div class="oc od gq gs oe of"><a href="https://medium.com/better-programming/tips-to-create-developer-tutorials-62cb3a25b8e5" rel="noopener follow" target="_blank"><div class="og ab fp"><div class="oh ab oi cl cj oj"><h2 class="bd iv gz z fq ok fs ft ol fv fx it bi translated">创建开发人员教程的技巧</h2><div class="om l"><h3 class="bd b gz z fq ok fs ft ol fv fx dk translated">想写更多的教程，但你不知道从哪里开始？从这里开始</h3></div><div class="on l"><p class="bd b dl z fq ok fs ft ol fv fx dk translated">medium.com</p></div></div><div class="oo l"><div class="pm l oq or os oo ot kt of"/></div></div></a></div><div class="oc od gq gs oe of"><a href="https://medium.com/dev-together/use-cli-tools-from-mac-linux-on-windows-subsystem-for-linux-37d16f012489" rel="noopener follow" target="_blank"><div class="og ab fp"><div class="oh ab oi cl cj oj"><h2 class="bd iv gz z fq ok fs ft ol fv fx it bi translated">在适用于Linux的Windows子系统上使用Mac/Linux中的CLI工具</h2><div class="om l"><h3 class="bd b gz z fq ok fs ft ol fv fx dk translated">WSL2如此强大，使得从Mac到wsl 2的转换轻而易举。</h3></div><div class="on l"><p class="bd b dl z fq ok fs ft ol fv fx dk translated">medium.com</p></div></div><div class="oo l"><div class="pn l oq or os oo ot kt of"/></div></div></a></div><div class="oc od gq gs oe of"><a href="https://medium.com/better-programming/why-tutorials-wont-make-you-a-professional-developer-271108c74ddb" rel="noopener follow" target="_blank"><div class="og ab fp"><div class="oh ab oi cl cj oj"><h2 class="bd iv gz z fq ok fs ft ol fv fx it bi translated">为什么教程不能让你成为专业的开发者</h2><div class="om l"><h3 class="bd b gz z fq ok fs ft ol fv fx dk translated">精通不仅仅来自于做教程。尝试，失败，学习，重复！</h3></div><div class="on l"><p class="bd b dl z fq ok fs ft ol fv fx dk translated">medium.com</p></div></div><div class="oo l"><div class="po l oq or os oo ot kt of"/></div></div></a></div></div></div>    
</body>
</html>