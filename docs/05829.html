<html>
<head>
<title>Never Swallow Exceptions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">永远不要吞下异常</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/never-swallow-exceptions-5e01c6bb5b8a?source=collection_archive---------17-----------------------#2020-10-05">https://levelup.gitconnected.com/never-swallow-exceptions-5e01c6bb5b8a?source=collection_archive---------17-----------------------#2020-10-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="966c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">避免不必要的头痛——无论是象征性的还是字面上的</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/bedf17b6673787a996ecc4b886e9ec9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nSI51OP1Rq-CKeCZ"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@punttim?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Tim Gouw </a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h2 id="022c" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">我刚刚目睹了另一起犯罪。</h2><blockquote class="ls"><p id="d08a" class="lt lu iq bd lv lw lx ly lz ma mb mc dk translated">“一个人中枪了。</p><p id="6ccd" class="lt lu iq bd lv lw lx ly lz ma mb mc dk translated">他屏住呼吸，有足够的力气坐公交车。</p><p id="215f" class="lt lu iq bd lv lw lx ly lz ma mb mc dk translated">10英里后，这个人下了公共汽车，走了几个街区，然后死了。”— <a class="ae kv" href="https://stackoverflow.com/questions/921471/why-do-java-people-frequently-consume-exceptions-silently/921583#921583" rel="noopener ugc nofollow" target="_blank">奥斯卡瑞兹</a></p></blockquote><p id="2d75" class="pw-post-body-paragraph md me iq mf b mg mh jr mi mj mk ju ml lf mm mn mo lj mp mq mr ln ms mt mu mc ij bi translated">警察碰巧发现了尸体，但不知道刚刚发生了什么。</p><p id="de9a" class="pw-post-body-paragraph md me iq mf b mg mw jr mi mj mx ju ml lf my mn mo lj mz mq mr ln na mt mu mc ij bi translated">上面描述了吞下一个异常是什么感觉。玩笑归玩笑，用<code class="fe nb nc nd ne b">throw</code> it代替<code class="fe nb nc nd ne b">surrounding it with try-catch</code><em class="mv"/>可能已经是常识了，但是如果不能呢？你会诉诸吞咽例外吗？事实证明你可以做得更好。</p></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><h1 id="67e3" class="nm kx iq bd ky nn no np lb nq nr ns le jw nt jx li jz nu ka lm kc nv kd lq nw bi translated">当您不能抛出异常时——场景</h1><p id="d62d" class="pw-post-body-paragraph md me iq mf b mg nx jr mi mj ny ju ml lf nz mn mo lj oa mq mr ln ob mt mu mc ij bi translated">对于检查异常，您可能会遇到不允许抛出它的情况。为了进行演示，请考虑以下场景:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oc od l"/></div></figure><p id="5c58" class="pw-post-body-paragraph md me iq mf b mg mw jr mi mj mx ju ml lf my mn mo lj mz mq mr ln na mt mu mc ij bi translated">上面的代码甚至无法编译。鉴于<code class="fe nb nc nd ne b">Runnable</code>是一个预定义的界面，对它进行修改不在我们的控制之内。人们可能会尝试使用IDE提供的唯一建议，即<code class="fe nb nc nd ne b">surround with try/catch</code>选项。不要这样做。除非你真的有理由这么做，或者你真的能从中恢复过来。否则，不要做。</p></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><h1 id="f8db" class="nm kx iq bd ky nn no np lb nq nr ns le jw nt jx li jz nu ka lm kc nv kd lq nw bi translated">好的，坏的，和马车。</h1><p id="ea67" class="pw-post-body-paragraph md me iq mf b mg nx jr mi mj ny ju ml lf nz mn mo lj oa mq mr ln ob mt mu mc ij bi translated">在进入正确的解决方案之前，我假设对于你们中的一些人来说，考虑到场景的简单性，这是显而易见的，让我们首先探索导致<em class="mv">吞咽异常的不同实现。</em></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oc od l"/></div></figure><p id="5d7a" class="pw-post-body-paragraph md me iq mf b mg mw jr mi mj mx ju ml lf my mn mo lj mz mq mr ln na mt mu mc ij bi translated">我们怎样才能做得更好？对于这个场景，一个好问题应该是:“我们真的需要读取<code class="fe nb nc nd ne b">run()</code>方法中的文件吗？有没有可能在别的地方做？”。幸运的是，它是。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oc od l"/></div></figure><p id="5369" class="pw-post-body-paragraph md me iq mf b mg mw jr mi mj mx ju ml lf my mn mo lj mz mq mr ln na mt mu mc ij bi translated">从这个解决方案中，我们可以看到我们现在是<code class="fe nb nc nd ne b">throwing</code>这个例外。为了避免混淆，值得一提的是我们在这里使用的<code class="fe nb nc nd ne b">try</code>是一个<code class="fe nb nc nd ne b">try-with-resources</code>。我们在这里使用它的唯一原因是确保资源在使用后被关闭。</p></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><h1 id="2570" class="nm kx iq bd ky nn no np lb nq nr ns le jw nt jx li jz nu ka lm kc nv kd lq nw bi translated">结论</h1><p id="0cd1" class="pw-post-body-paragraph md me iq mf b mg nx jr mi mj ny ju ml lf nz mn mo lj oa mq mr ln ob mt mu mc ij bi translated">回到我们之前的故事，如果有人没有吞下这个异常，场景可能是:</p><blockquote class="ls"><p id="8865" class="lt lu iq bd lv lw lx ly lz ma mb mc dk translated">一名男子被枪击中，当场死亡，尸体就躺在刚刚发生谋杀的地方 <a class="ae kv" href="https://stackoverflow.com/questions/921471/why-do-java-people-frequently-consume-exceptions-silently/921583#921583" rel="noopener ugc nofollow" target="_blank"> OscarRyz </a></p></blockquote><p id="3c86" class="pw-post-body-paragraph md me iq mf b mg mh jr mi mj mk ju ml lf mm mn mo lj mp mq mr ln ms mt mu mc ij bi translated"><em class="mv">当警察到达时，所有的证据都已就位。</em></p></div></div>    
</body>
</html>