<html>
<head>
<title>More Basic Angular Directives</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">更多基本角度指令</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/more-basic-angular-directives-69177a92db00?source=collection_archive---------2-----------------------#2020-03-07">https://levelup.gitconnected.com/more-basic-angular-directives-69177a92db00?source=collection_archive---------2-----------------------#2020-03-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/4892521c884f37664f34b770d612b8e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ApPRK1o3luinxbWY"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">鲍里斯·斯莫克罗维奇在Unsplash的照片</figcaption></figure><p id="db14" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Angular是Google制作的一个流行的前端框架。像其他流行的前端框架一样，它使用基于组件的架构来构建应用程序。</p><p id="2491" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将看看<code class="fe le lf lg lh b">NgModel</code>、<code class="fe le lf lg lh b">NgIf</code>和<code class="fe le lf lg lh b">NgFor</code>角度指令。</p><h1 id="cf59" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">NgModel</h1><p id="14a8" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">我们可以使用<code class="fe le lf lg lh b">ngModel</code>进行双向数据绑定。在我们编写值访问器之前，它不能用于非形式的本机元素或第三方自定义元素。</p><p id="405b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">[(ngModel)]</code>是<code class="fe le lf lg lh b">[ngModel]</code>和<code class="fe le lf lg lh b">(ngModelChange)</code>的简写。</p><p id="2e93" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，以下内容:</p><p id="11c1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">app.module.ts</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="4da2" class="mt lj it lh b gy mu mv l mw mx">import { BrowserModule } from "@angular/platform-browser";<br/>import { NgModule } from "@angular/core";<br/>import { FormsModule } from "@angular/forms";</span><span id="170c" class="mt lj it lh b gy my mv l mw mx">import { AppComponent } from "./app.component";</span><span id="fe2a" class="mt lj it lh b gy my mv l mw mx">@NgModule({<br/>  declarations: [AppComponent],<br/>  imports: [BrowserModule, FormsModule],<br/>  providers: [],<br/>  bootstrap: [AppComponent]<br/>})<br/>export class AppModule {}</span></pre><p id="d0a6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">app.component.ts</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="9898" class="mt lj it lh b gy mu mv l mw mx">import { Component } from "@angular/core";</span><span id="bc6c" class="mt lj it lh b gy my mv l mw mx">@Component({<br/>  selector: "app-root",<br/>  templateUrl: "./app.component.html",<br/>  styleUrls: ["./app.component.css"]<br/>})<br/>export class AppComponent {<br/>  name: string;<br/>}</span></pre><p id="4ca9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">app.component.html</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="08cc" class="mt lj it lh b gy mu mv l mw mx">&lt;input [(ngModel)]="name" /&gt;<br/>&lt;p&gt;{{name}}&lt;/p&gt;</span></pre><p id="931c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">与以下内容相同:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="d158" class="mt lj it lh b gy mu mv l mw mx">&lt;input [ngModel]="name" (ngModelChange)="name = $event" /&gt;<br/>&lt;p&gt;{{name}}&lt;/p&gt;</span></pre><p id="6be3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">其余的都是一样的。</p><h1 id="9264" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">内置结构指令</h1><p id="7056" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">结构指令负责呈现HTML布局。它们通过添加、删除和操作它们所附加的宿主元素来重塑DOM结构。</p><p id="6233" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Angular有以下结构指令:</p><ul class=""><li id="1a4a" class="mz na it ki b kj kk kn ko kr nb kv nc kz nd ld ne nf ng nh bi translated"><code class="fe le lf lg lh b">NgIf</code> —有条件地从模板创建或销毁子视图</li><li id="7a07" class="mz na it ki b kj ni kn nj kr nk kv nl kz nm ld ne nf ng nh bi translated"><code class="fe le lf lg lh b">NgFor</code> —为列表中的每个项目重复一个节点</li><li id="2810" class="mz na it ki b kj ni kn nj kr nk kv nl kz nm ld ne nf ng nh bi translated"><code class="fe le lf lg lh b">NgSwitch</code> —一组在选项之间切换的指令</li></ul><h1 id="e8ee" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">NgIf</h1><p id="b09c" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">我们可以通过对一个主机元素应用<code class="fe le lf lg lh b">NgIf</code>指令来添加或删除DOM中的一个元素。</p><p id="a99d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它用于有条件地显示项目。例如，我们可以写:</p><p id="3b9e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">app.component.ts</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="71aa" class="mt lj it lh b gy mu mv l mw mx">import { Component } from "@angular/core";</span><span id="0105" class="mt lj it lh b gy my mv l mw mx">@Component({<br/>  selector: "app-root",<br/>  templateUrl: "./app.component.html",<br/>  styleUrls: ["./app.component.css"]<br/>})<br/>export class AppComponent {<br/>  showFoo: boolean = false;<br/>}</span></pre><p id="8dca" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">app.component.html</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="2851" class="mt lj it lh b gy mu mv l mw mx">&lt;button (click)="showFoo = !showFoo"&gt;toggle&lt;/button&gt;<br/>&lt;p *ngIf="showFoo"&gt;foo&lt;/p&gt;</span></pre><p id="de0f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们在<code class="fe le lf lg lh b">AppComponent</code>中有<code class="fe le lf lg lh b">showFoo</code>字段。</p><p id="e268" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后在<code class="fe le lf lg lh b">app.component.html</code>中，我们有一个在<code class="fe le lf lg lh b">true</code>和<code class="fe le lf lg lh b">false</code>之间切换<code class="fe le lf lg lh b">showFoo</code>的按钮和一个p元素，由于<code class="fe le lf lg lh b">*ngIf</code>指令，该元素仅在<code class="fe le lf lg lh b">showFoo</code>为<code class="fe le lf lg lh b">true</code>时显示。</p><p id="2c43" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当我们点击按钮时，我们会看到单词“foo”被显示和隐藏。</p><h2 id="302f" class="mt lj it bd lk nn no dn lo np nq dp ls kr nr ns lw kv nt nu ma kz nv nw me nx bi translated">显示/隐藏与<code class="fe le lf lg lh b">NgIf</code></h2><p id="274c" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">我们还可以显示和隐藏具有<code class="fe le lf lg lh b">hidden</code>类或<code class="fe le lf lg lh b">display</code>样式的元素。</p><p id="def8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这些和<code class="fe le lf lg lh b">NgIf</code>的区别在于，如果我们设置的表达式返回一个错误的值，那么<code class="fe le lf lg lh b">NgIf</code>会从DOM中删除这个条目。</p><p id="1856" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">hidden</code>和<code class="fe le lf lg lh b">display</code>让它们在DOM中，不管它们是否被隐藏。</p><p id="4219" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以通过编写以下代码来使用<code class="fe le lf lg lh b">hidden</code>类:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="08b4" class="mt lj it lh b gy mu mv l mw mx">&lt;div [class.hidden]="isGreen"&gt;green&lt;/div&gt;</span></pre><p id="3fb3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们也可以如下使用<code class="fe le lf lg lh b">display</code>样式:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="0341" class="mt lj it lh b gy mu mv l mw mx">&lt;div [style.display]="isGreen? 'none' : 'block'"&gt;green&lt;/div&gt;</span></pre><h2 id="03ea" class="mt lj it bd lk nn no dn lo np nq dp ls kr nr ns lw kv nt nu ma kz nv nw me nx bi translated">警惕空值</h2><p id="8cb6" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">我们可以使用<code class="fe le lf lg lh b">NgIf</code>来防范空值。</p><p id="d071" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，在下面的例子中，<code class="fe le lf lg lh b">customer</code>可能是<code class="fe le lf lg lh b">null</code>或<code class="fe le lf lg lh b">undefined</code>，所以我们可以这样写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="86a8" class="mt lj it lh b gy mu mv l mw mx">&lt;div *ngIf="customer"&gt;Hello, {{customer.name}}&lt;/div&gt;</span></pre><p id="7ca0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，如果<code class="fe le lf lg lh b">customer</code>是<code class="fe le lf lg lh b">null</code>或<code class="fe le lf lg lh b">undefined</code>，我们从DOM中移除div。</p><h1 id="454b" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">NgFor</h1><p id="d9d9" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated"><code class="fe le lf lg lh b">NgFor</code>用于在屏幕上显示项目列表。我们可以定义一个单独的HTML块，然后使用<code class="fe le lf lg lh b">NgFor</code>对列表上的项目重复它。</p><p id="04b4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以如下使用它:</p><p id="88eb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">app.component.ts</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="fa63" class="mt lj it lh b gy mu mv l mw mx">import { Component } from "@angular/core";</span><span id="3377" class="mt lj it lh b gy my mv l mw mx">@Component({<br/>  selector: "app-root",<br/>  templateUrl: "./app.component.html",<br/>  styleUrls: ["./app.component.css"]<br/>})<br/>export class AppComponent {<br/>  persons = [{ name: "John" }, { name: "Jane" }, { name: "Mary" }];<br/>}</span></pre><p id="0147" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">app.component.html</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="5b54" class="mt lj it lh b gy mu mv l mw mx">&lt;div *ngFor="let p of persons"&gt;{{p.name}}&lt;/div&gt;</span></pre><p id="d863" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们在<code class="fe le lf lg lh b">AppComponent</code>中有一个<code class="fe le lf lg lh b">persons</code>字段，其中的对象在每个条目中都有<code class="fe le lf lg lh b">name</code>属性。</p><p id="54e7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们使用<code class="fe le lf lg lh b">NgFor</code>遍历<code class="fe le lf lg lh b">persons</code>的每个条目，然后显示每个条目的<code class="fe le lf lg lh b">name</code>属性值。</p><p id="8b6a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">NgFor</code>也可用于重复成分元素。</p><p id="f8bd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以写:</p><p id="e780" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">app.module.ts</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="e3cb" class="mt lj it lh b gy mu mv l mw mx">import { BrowserModule } from "@angular/platform-browser";<br/>import { NgModule } from "@angular/core";<br/>import { FormsModule } from "@angular/forms";</span><span id="92c1" class="mt lj it lh b gy my mv l mw mx">import { AppComponent } from "./app.component";<br/>import { PersonComponent } from "./person.component";</span><span id="f68a" class="mt lj it lh b gy my mv l mw mx">@NgModule({<br/>  declarations: [AppComponent, PersonComponent],<br/>  imports: [BrowserModule, FormsModule],<br/>  providers: [],<br/>  bootstrap: [AppComponent]<br/>})<br/>export class AppModule {}</span></pre><p id="1465" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">person.component.ts</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="55e5" class="mt lj it lh b gy mu mv l mw mx">import { Component, Input } from "@angular/core";</span><span id="0af3" class="mt lj it lh b gy my mv l mw mx">@Component({<br/>  selector: "app-person",<br/>  templateUrl: "./person.component.html"<br/>})<br/>export class PersonComponent {<br/>  @Input() person;<br/>}</span></pre><p id="971a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">person.component.html</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="cdbb" class="mt lj it lh b gy mu mv l mw mx">&lt;div&gt;{{person.name}}&lt;/div&gt;</span></pre><p id="5318" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">app.component.ts</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="7156" class="mt lj it lh b gy mu mv l mw mx">import { Component } from "@angular/core";</span><span id="c7cb" class="mt lj it lh b gy my mv l mw mx">@Component({<br/>  selector: "app-root",<br/>  templateUrl: "./app.component.html",<br/>  styleUrls: ["./app.component.css"]<br/>})<br/>export class AppComponent {<br/>  persons = [{ name: "John" }, { name: "Jane" }, { name: "Mary" }];<br/>}</span></pre><p id="c972" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">app.component.html</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="430c" class="mt lj it lh b gy mu mv l mw mx">&lt;app-person *ngFor="let p of persons" [person]="p"&gt;&lt;/app-person&gt;</span></pre><p id="05a3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们创建了一个新的<code class="fe le lf lg lh b">PersonComponent</code>组件，它接受一个<code class="fe le lf lg lh b">person</code>属性，并在<code class="fe le lf lg lh b">person.component.html</code>中显示<code class="fe le lf lg lh b">person</code>的<code class="fe le lf lg lh b">name</code>属性值。</p><p id="f25b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后在<code class="fe le lf lg lh b">app.component.ts</code>中，我们有了之前的<code class="fe le lf lg lh b">persons</code>数组。</p><p id="0287" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们显示<code class="fe le lf lg lh b">app-person</code>元素，它是带有<code class="fe le lf lg lh b">*ngFor</code>的<code class="fe le lf lg lh b">PersonComponent</code>组件，并传入<code class="fe le lf lg lh b">p</code>作为<code class="fe le lf lg lh b">persons</code>的值。</p><p id="ae24" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">*ngFor</code>是一个microsyntax，是Angular解读的语言。</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ny"><img src="../Images/cd4e5604d4ba33ecc8e573d6141dad18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jW0Y6ujC745qsqmc"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">文森特·范·扎林格在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h2 id="1f5d" class="mt lj it bd lk nn no dn lo np nq dp ls kr nr ns lw kv nt nu ma kz nv nw me nx bi translated"><code class="fe le lf lg lh b">*ngFor</code>同<code class="fe le lf lg lh b">index</code></h2><p id="872c" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">通过将<code class="fe le lf lg lh b">index</code>设置为模板中的一个变量，我们可以得到被循环的元素的索引。</p><p id="c92e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以这样写:</p><p id="a26a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">app.component.ts</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="dcfa" class="mt lj it lh b gy mu mv l mw mx">import { Component } from "@angular/core";</span><span id="e26d" class="mt lj it lh b gy my mv l mw mx">@Component({<br/>  selector: "app-root",<br/>  templateUrl: "./app.component.html",<br/>  styleUrls: ["./app.component.css"]<br/>})<br/>export class AppComponent {<br/>  persons = [{ name: "John" }, { name: "Jane" }, { name: "Mary" }];<br/>}</span></pre><p id="5550" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">app.component.html</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="3448" class="mt lj it lh b gy mu mv l mw mx">&lt;div *ngFor="let p of persons; let i = index"&gt;<br/>  {{i}} - {{p.name}}<br/>&lt;/div&gt;</span></pre><p id="4a55" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，<code class="fe le lf lg lh b">i</code>被设置为<code class="fe le lf lg lh b">app.componet.html</code>中的<code class="fe le lf lg lh b">index</code>，<code class="fe le lf lg lh b">index</code>是被循环的元素的索引。</p><p id="08a3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，我们应该看到:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="51bb" class="mt lj it lh b gy mu mv l mw mx">0 - John</span><span id="f7c9" class="mt lj it lh b gy my mv l mw mx">1 - Jane</span><span id="a141" class="mt lj it lh b gy my mv l mw mx">2 - Mary</span></pre><p id="7272" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">显示在屏幕上。</p><h2 id="4f24" class="mt lj it bd lk nn no dn lo np nq dp ls kr nr ns lw kv nt nu ma kz nv nw me nx bi translated">*ngFor with trackBy</h2><p id="6093" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">我们可以使用<code class="fe le lf lg lh b">trackBy</code>来提高大型列表的操作效率。它防止列表在每次更改时都被从头开始重新呈现。</p><p id="f4cc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要使用它，我们必须向组件添加一个方法来返回应该跟踪的内容。</p><p id="e560" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以如下使用它:</p><p id="7e11" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">app.component.ts</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="7707" class="mt lj it lh b gy mu mv l mw mx">import { Component } from "@angular/core";</span><span id="4902" class="mt lj it lh b gy my mv l mw mx">@Component({<br/>  selector: "app-root",<br/>  templateUrl: "./app.component.html",<br/>  styleUrls: ["./app.component.css"]<br/>})<br/>export class AppComponent {<br/>  persons = [<br/>    { id: 1, name: "John" },<br/>    { id: 2, name: "Jane" },<br/>    { id: 3, name: "Mary" }<br/>  ];</span><span id="fe2f" class="mt lj it lh b gy my mv l mw mx">  trackById(person) {<br/>    return person.id;<br/>  }<br/>}</span></pre><p id="6b04" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">app.component.html</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="561c" class="mt lj it lh b gy mu mv l mw mx">&lt;div *ngFor="let p of persons; trackBy: trackById"&gt;<br/>  {{p.name}}<br/>&lt;/div&gt;</span></pre><p id="6b5b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们给<code class="fe le lf lg lh b">AppComponent</code>添加了一个<code class="fe le lf lg lh b">trackById</code>方法，它接受一个<code class="fe le lf lg lh b">person</code>对象，我们用<code class="fe le lf lg lh b">*ngFor</code>作为参数来循环这个对象。然后我们可以在方法中从<code class="fe le lf lg lh b">person</code>返回<code class="fe le lf lg lh b">id</code>属性。</p><p id="5241" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后在<code class="fe le lf lg lh b">app.component.html</code>中，将<code class="fe le lf lg lh b">trackBy</code>属性集添加到我们的<code class="fe le lf lg lh b">trackById</code>方法中。</p><h1 id="e684" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">结论</h1><p id="e59d" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated"><code class="fe le lf lg lh b">NgModel</code>让我们在模板和组件之间绑定值。</p><p id="ba25" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">NgIf</code>根据条件，通过在DOM中添加或删除项目来有条件地显示项目。</p><p id="1dab" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从iterable对象中呈现一个项目列表。</p></div></div>    
</body>
</html>