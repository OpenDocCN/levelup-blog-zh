<html>
<head>
<title>OpenShift — The Next Level of Kubernetes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">open shift——Kubernetes的下一个级别</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/openshift-the-next-level-of-kubernetes-6d58ad722b26?source=collection_archive---------14-----------------------#2021-04-06">https://levelup.gitconnected.com/openshift-the-next-level-of-kubernetes-6d58ad722b26?source=collection_archive---------14-----------------------#2021-04-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="fb45" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">关于OpenShift你应该知道的事情</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1b739d39ad9e2739eb6bf6849881d68c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G31_f94Sc7gJAD6Vcucv3w.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">米尔科·布利克在<a class="ae ky" href="https://unsplash.com/collections/1560710/next-level?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="786c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当谈到容器编排时，首先想到的是“<strong class="lb iu"> Kubernetes </strong>”，但现在<strong class="lb iu"> OpenShift </strong>是主导者。这并不是说我们应该停止使用Kubernetes，因为在容器领域没有什么能打败Kubernetes。事实上，Kubernetes是OpenShift中主要的底层技术。</p><p id="26c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">OpenShift和Kubernetes看起来很相似，都是为了容器编排，唯一的区别是OpenShift提供了额外的特性和功能，我们将详细讨论它们。</p><p id="8223" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将分析这两个流行的容器编排平台，并探索它们的根本区别。最后，我将向你展示OpenShift的快速安装，你可以使用下面的链接跳到安装部分。</p><p id="64d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="#0cb4" rel="noopener ugc nofollow"> <strong class="lb iu">快速安装OpenShift </strong> </a></p><h1 id="3a35" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">红帽OpenShift</h1><p id="4430" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">Red Hat将OpenShift作为一个平台即服务(PaaS)产品进行营销，其中包括Kubernetes，在此基础上添加了许多其他功能和一个支持计划。在其核心，OpenShift是一个开源工具，利用Kubernetes平台来管理<a class="ae ky" href="https://www.bmc.com/blogs/3-steps-to-introduce-docker-containers-in-enterprise/" rel="noopener ugc nofollow" target="_blank"> Docker容器</a>以实现一致性:</p><ul class=""><li id="6454" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated"><a class="ae ky" href="https://www.bmc.com/blogs/what-is-workload-automation/" rel="noopener ugc nofollow" target="_blank">工作量管理</a></li><li id="40f8" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">自我监控</li><li id="c88c" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">集中式策略供应</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/8336aecf9723fec66a9c27418aa2eade.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/1*kcmrGD4zCGpz9QLDJTImKQ.png"/></div></figure><p id="d919" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用OpenShift，开发人员可以在集成开发环境(IDE)中部署容器化的应用程序，同时使用Kubernetes来管理它们。</p><h1 id="0365" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">差异</h1><p id="1d93" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">OpenShift和Kubernetes基本上做同样的事情，有了Kubernetes，你可以部署和管理容器，同样的openshift也可以为你做同样的事情。两者之间没有太多的区别，但区别在于<strong class="lb iu"> OpenShift本身如何处理应用从构建到部署的完整工作流程，而Kubernetes不能。</strong></p><p id="319c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可能会认为OpenShift是kubernetes的抽象层，因为kubernetes是openshift中的主要底层技术，但不仅仅是Kubernetes，<strong class="lb iu"> <em class="nh"> Openshift是多种工具和技术</em> </strong>的集合，如CI/CD、监控、编排、私有存储库等。</p><h2 id="54c0" class="ni lw it bd lx nj nk dn mb nl nm dp mf li nn no mh lm np nq mj lq nr ns ml nt bi translated">OpenShift —接近单一解决方案</h2><p id="29ca" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">有了Kubernetes，你可以做很多事情，比如部署应用、自动伸缩、公开应用(或负载平衡)、存储协调、自我监控等。但是在Kubernetes中，要为你的应用程序启动一个pod，你需要提供一个容器图像(或Docker图像),比如来自DockerHub或任何其他存储库的图像。</p><p id="a5cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先对于容器映像，您需要为您的应用程序构建映像，然后将其推送到某个存储库。所以，这个<strong class="lb iu">构建映像</strong>的过程不能用Kubernetes来完成，你需要借助一些其他工具来自动化这个过程，比如你可以使用<a class="ae ky" href="https://www.jenkins.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">詹金斯</strong> </a> <strong class="lb iu"> </strong>这是一个<strong class="lb iu"> CI/CD </strong>工具。但是这里你需要<em class="nh"> </em>整合Jenkins和Kubernetes，同时确保安全性，这是非常关键的。</p><p id="2309" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，这里只是为了建立你的应用程序的形象，你必须做这么多的工作和配置多种东西。<strong class="lb iu">建立形象是我们在集装箱领域最常做的事情，但我们仍然需要在这方面投入时间和金钱。但是现在没有OpenShift了。</strong></p><p id="cf6f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Openshift提供了内置的功能来构建图像，你只需要提供你的网页的源代码，如PHP，HTML等，然后openshift会自动确定网页编写的语言，然后为其构建图像并推送图像。是不是很神奇！！</p><p id="36db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Openshift创建您自己的私有存储库，并将所有图像存储在那里，因此它可以确保您的应用程序图像的安全，并且使用openshift，您不需要进行多次集成，它将为您完成几乎所有事情。同样，在Kubernetes中进行监控，您需要集成一些可视化工具，如Grafana，但OpenShift将监控一切，并创建一些图表。</p><p id="4aed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，只需使用OpenShift，您就可以创建从构建到部署的完整工作流，而使用Kubernetes，您需要集成其他工具来设置这样的结构。并做一些额外的安全工作。<strong class="lb iu">因此，OpenShift遵循的方法是成为主要用例的单一解决方案。</strong></p><h2 id="a924" class="ni lw it bd lx nj nk dn mb nl nm dp mf li nn no mh lm np nq mj lq nr ns ml nt bi translated">装置</h2><p id="76ad" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">随着Kubernetes越来越受欢迎，使用案例越来越多，与Kubernetes兼容的工具也呈指数级增长。这在开发者中仍然是一个重要的考虑因素，当涉及到平台、复杂性和升级时，这实质上提供了选择的自由。</p><p id="f963" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更重要的是，Kubernetes的广泛接受也是因为Kubernetes在所有三个主要的公共云平台上管理服务:</p><ul class=""><li id="37d9" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated">谷歌GCP的GKE</li><li id="b1c0" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">AKS for Azure</li><li id="3a69" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">亚马逊AWS的EKS</li></ul><p id="d971" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">相反，OpenShift提供了有限的安装选项，因为您只能在三个Linux发行版上安装它:</p><ul class=""><li id="97ee" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated">对于OpenShift 3，您需要使用Red Hat Atomic或Red Hat Enterprise Linux (RHEL)。</li><li id="62b2" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">要安装OpenShift 4，您需要RedHat CoreOS。</li><li id="adf6" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">安装开源版本(OKD)需要CentOS或RHEL。</li></ul><p id="4c3d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://aws.amazon.com/quickstart/architecture/openshift/" rel="noopener ugc nofollow" target="_blank">最近AWS也推出了在AWS上部署红帽OpenShift容器平台的服务。</a></p><h2 id="6b8d" class="ni lw it bd lx nj nk dn mb nl nm dp mf li nn no mh lm np nq mj lq nr ns ml nt bi translated">易用性</h2><p id="b0fe" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">Kubernetes web界面很复杂，不推荐新手使用。要访问Kubernetes Web GUI，您需要安装Kubernetes仪表板，并使用<strong class="lb iu"> kube-proxy </strong>将本地机器的端口地址转发给集群服务器。因为仪表板缺少登录页面，所以您还必须创建不记名令牌，以便于授权和身份验证。</p><p id="b606" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">相反，OpenShift有一个直观的web控制台，带有一键登录页面。控制台为您提供了一个简单的基于表单的界面，让您可以轻松地修改、添加和删除资源。可视化集群角色、项目和服务器也更加容易。</p><p id="6941" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">OpenShift的CLI提供了<code class="fe nu nv nw nx b">oc</code>命令，该命令结合了许多Kubernetes命令的功能，如kubectl、kubens和kubectx。它允许许多操作，比如支持日志记录、在项目和名称空间之间切换以及从源代码构建容器映像，这些都需要Kubernetes上的外部工具。</p><h2 id="9f57" class="ni lw it bd lx nj nk dn mb nl nm dp mf li nn no mh lm np nq mj lq nr ns ml nt bi translated">集成图像注册表</h2><p id="7d47" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">Kubernetes使您能够建立自己的Docker注册中心，但是您不会得到一个集成的图像注册中心。</p><p id="40cc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">OpenShift提供了一个集成的图像注册表，您可以使用Red Hat或<a class="ae ky" href="https://hub.docker.com/" rel="noopener ugc nofollow" target="_blank"> Docker Hub </a>。image registry有一个控制台，您可以在其中搜索有关图像和图像流的信息，并将其传送到集群中的项目。</p><h2 id="2dd3" class="ni lw it bd lx nj nk dn mb nl nm dp mf li nn no mh lm np nq mj lq nr ns ml nt bi translated">安全性</h2><p id="7024" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">OpenShift提供了严格的安全策略，比Kubernetes更加严格。例如，默认情况下，它不允许以root用户身份运行容器，这就是为什么DockerHub上的许多官方图像都不被允许的原因。但是，您可以使用root权限运行一些容器(一些容器，如Redis或Postgres，需要root权限)。</p><p id="612f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">基于角色的访问控制(RBAC)是作为<a class="ae ky" href="https://blog.openshift.com/understanding-service-accounts-sccs/" rel="noopener ugc nofollow" target="_blank"> OpenShift的安全方法</a>的一部分而实施的，这很有意义，因为权限至关重要，尤其是在生产系统中。</p><p id="bef9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">认证是OpenShift的另一个亮点。它特别支持LDAP和Active Directory集成，还支持外部应用程序的身份验证和授权。所有这些都是通过集中式OAuth实现来完成的。虽然大部分——如果不是全部的话——可以通过像GKE上的Firebase这样的服务在Kubernetes上实现，但它需要更多的努力，这给了OpenShift一个明显的优势。</p></div><div class="ab cl ny nz hx oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="im in io ip iq"><h1 id="0cb4" class="lv lw it bd lx ly of ma mb mc og me mf jz oh ka mh kc oi kd mj kf oj kg ml mm bi translated">OpenShift的快速安装</h1><p id="da2d" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">如果您可能已经安装了Kubernetes，那么您可能知道“<a class="ae ky" href="https://minikube.sigs.k8s.io/" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu">”Minikube</strong></a><strong class="lb iu">”</strong>，它用于在本地设置单节点Kubernetes集群。同样，对于OpenShift，有一个相同类型的程序，即“<a class="ae ky" href="https://www.okd.io/minishift/" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu">Minishift</strong></a><strong class="lb iu">”</strong>，通过它我们可以在本地系统中设置单节点OpenShift集群。</p><p id="af60" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">OpenShift有2个版本<a class="ae ky" href="https://www.okd.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> OKD </strong> </a>和<strong class="lb iu"> RHOCP </strong>，<strong class="lb iu"> OKD(原社区分布)</strong>是OpenShift的开源版本，由某开源社区维护。但是RHOCP是<a class="ae ky" href="https://www.openshift.com/products/container-platform" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Red Hat OpenShift容器平台</strong> </a> <strong class="lb iu"> </strong>由Red Hat的人维护，它附带了一个费用巨大的订阅。</p><p id="77c9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Minishift将安装OpenShit的开源版本，即<strong class="lb iu"> OKD。</strong> Minishift在虚拟机中设置openshift集群，因此为此您需要已经安装了<strong class="lb iu">虚拟盒</strong>或<strong class="lb iu"> VMWare </strong>。你可以从<a class="ae ky" href="https://github.com/minishift/minishift/releases/tag/v1.34.3" rel="noopener ugc nofollow" target="_blank">这里</a>下载Minishift。</p><p id="5cf0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下载minishift后，您只需在Windows命令提示符或Powershell中运行该命令。</p><pre class="kj kk kl km gt ok nx ol om aw on bi"><span id="8c1d" class="ni lw it nx b gy oo op l oq or"><strong class="nx iu">minishift start --vm-driver virtualbox  --network-nameserver  8.8.8.8</strong></span></pre><p id="e8a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nh">在运行该命令之前，您需要切换到您下载minishift的目录，或者您可以在windows环境变量中添加minishift。</em></p><p id="950a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当OpenShift安装成功时，您将看到这个屏幕</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/858f99dd4be6cf8a6a6e96f73f77c55f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fzGWGQhf77NkeXbC"/></div></div></figure><p id="4820" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可能会遇到一些超时错误。为此，首先删除minishift虚拟机，然后再次运行start命令。</p><pre class="kj kk kl km gt ok nx ol om aw on bi"><span id="d5c8" class="ni lw it nx b gy oo op l oq or">minishift stop<br/>minishift delete -f</span></pre><p id="5fdd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">安装完成后，使用此命令访问openshift控制台或WebUI</p><pre class="kj kk kl km gt ok nx ol om aw on bi"><span id="a2c8" class="ni lw it nx b gy oo op l oq or">minishift console</span></pre><p id="d88a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">OpenShift OKD控制台看起来像这样</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/62e2a7bb61052e93822ff481414c6561.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q4zLxSBXYDobcoKEvh3LZQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">openshift webui</figcaption></figure><p id="b275" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">OpenShift已经准备好了，你现在可以使用它了！！</p><h1 id="59f2" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">结论</h1><p id="d5f0" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">Kubernetes和OpenShift都是不可忽视的容器编排的突出选择。两者在工作中都是最好的，唯一的区别是我们通常在现实世界中做的一些其他功能，如CI/CD，我们不能用Kubernetes做，我们必须将Kubernetes与其他一些工具集成才能实现这些功能，这很耗时，但OpenShift内置了所有这些功能，所以它使我们的工作更容易，更安全。</p><p id="b516" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，如果您希望快速部署应用程序，而不太担心容器环境的复杂性，Redhat的OpenShift更适合您。但是，如果你更喜欢完全控制，那么像GKE管理Kubernetes供应商是一条路要走。</p><p id="3d00" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望现在你能够判断Kubernetes和OpenShift之间的实际区别，以及为什么OpenShift是Kubernetes的下一个级别。</p><p id="e35d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<a class="ae ky" href="https://www.linkedin.com/in/pathak-ajay" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上联系我</p></div></div>    
</body>
</html>