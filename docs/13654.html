<html>
<head>
<title>Convert a Jupyter notebook to a web app with a few lines of code.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用几行代码将Jupyter笔记本转换成web应用程序。</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/convert-a-jupyter-notebook-to-a-web-app-with-a-few-lines-of-code-e01fbac4a876?source=collection_archive---------7-----------------------#2022-09-26">https://levelup.gitconnected.com/convert-a-jupyter-notebook-to-a-web-app-with-a-few-lines-of-code-e01fbac4a876?source=collection_archive---------7-----------------------#2022-09-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="3e4c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Mercury Library可以将您的Jupyter笔记本转换为一个独立的web应用程序，可以在web上托管。</p><p id="9546" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本文中，我们将以一个使用OPENCV将任何照片转换成黑白照片的笔记本为例。</p><p id="7549" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们安装我们需要的库。</p><pre class="ko kp kq kr gt ks kt ku kv aw kw bi"><span id="6292" class="kx ky it kt b gy kz la l lb lc">pip install mljar-mercury</span><span id="147e" class="kx ky it kt b gy ld la l lb lc">pip install opencv-python-headless</span><span id="eb8a" class="kx ky it kt b gy ld la l lb lc">pip install pillow</span><span id="ce9b" class="kx ky it kt b gy ld la l lb lc">pip install matplotlib</span></pre><p id="6875" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Pillow (Python图像库)是一个图像处理库。它为python提供了轻量级的图像处理能力，如创建、裁剪、颜色模式提取、大小信息等。</p><p id="8b41" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Mercury是一个框架，可以将您的jupyter笔记本转换为独立的web应用程序。您可以向笔记本添加交互式小部件。最终用户可以调整小部件的值，并使用新参数执行笔记本。最终的笔记本可以下载为PDF或HTML文件。笔记本电脑也可以轻松托管，我们还可以为笔记本电脑添加身份验证。</p><p id="7ab4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">OpenCV-python-headless是OpenCV-python减去GUI模块的非官方版本。在这个例子中，我们不需要GUI模块。</p><p id="cba2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们开始吧！</p><p id="cc9b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">通过在命令提示符下运行以下命令，创建新的jupyter笔记本:</p><pre class="ko kp kq kr gt ks kt ku kv aw kw bi"><span id="e91c" class="kx ky it kt b gy kz la l lb lc">jupyter notebook</span></pre><p id="ef41" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您应该会看到类似这样的内容:</p><figure class="ko kp kq kr gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="gh gi le"><img src="../Images/1371aa7917e3f5adc055312b8b4b48c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dlVgF1LI36oLu9d7emuCRg.png"/></div></div></figure><p id="c308" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您可以更改jupyter笔记本的名称，例如，我将其命名为Mercury-App。</p><p id="41e7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们从导入包和设置matplotlib设置开始。</p><pre class="ko kp kq kr gt ks kt ku kv aw kw bi"><span id="61c2" class="kx ky it kt b gy kz la l lb lc">import<!-- --> <!-- -->os</span><span id="92ee" class="kx ky it kt b gy ld la l lb lc">import<!-- --> <!-- -->cv2</span><span id="22e5" class="kx ky it kt b gy ld la l lb lc">from<!-- --> <!-- -->PIL<!-- --> <!-- -->import<!-- --> <!-- -->Image</span><span id="8370" class="kx ky it kt b gy ld la l lb lc">from<!-- --> <!-- -->matplotlib<!-- --> <!-- -->import<!-- --> <!-- -->pyplot<!-- --> <!-- -->as<!-- --> <!-- -->plt</span><span id="5bbb" class="kx ky it kt b gy ld la l lb lc">import<!-- --> <!-- -->matplotlib<!-- --> <!-- -->as<!-- --> <!-- -->mpl</span><span id="aa0d" class="kx ky it kt b gy ld la l lb lc">mpl.rcParams['figure.figsize']<!-- --> <!-- -->=<!-- --> <!-- -->(12,12)</span><span id="1125" class="kx ky it kt b gy ld la l lb lc">mpl.rcParams['axes.grid']<!-- --> <!-- -->=<!-- --> <!-- -->False</span></pre><p id="8690" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们创建两个变量来存储图像路径和output_dir</p><pre class="ko kp kq kr gt ks kt ku kv aw kw bi"><span id="4c9d" class="kx ky it kt b gy kz la l lb lc">image_path<!-- --> <!-- -->=<!-- --> r”<!-- -->C:\Users\ag7629\Desktop\blog\Jupyter to webapp”</span><span id="6dc3" class="kx ky it kt b gy ld la l lb lc">output_dir<!-- --> <!-- -->=<!-- --> <!-- -->"output_images"</span></pre><p id="86d4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">image_path存储图像文件的路径，output_dir是图像输出的文件夹。</p><p id="e165" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下面的方法接收一个图像并在jupyter中绘制它。</p><pre class="ko kp kq kr gt ks kt ku kv aw kw bi"><span id="10dd" class="kx ky it kt b gy kz la l lb lc">def<!-- --> <!-- -->imshow(image,<!-- --> <!-- -->title=None,<!-- --> <!-- -->fname=None):</span><span id="858f" class="kx ky it kt b gy ld la l lb lc">if<!-- --> <!-- -->len(image.shape)<!-- --> <!-- -->&gt;<!-- --> <!-- -->3:</span><span id="dc2c" class="kx ky it kt b gy ld la l lb lc">image<!-- --> <!-- -->=<!-- --> <!-- -->tf.squeeze(image,<!-- --> <!-- -->axis=0)</span><span id="fa15" class="kx ky it kt b gy ld la l lb lc">plt.imshow(image)</span><span id="2b28" class="kx ky it kt b gy ld la l lb lc">plt.axis('off')</span><span id="13c2" class="kx ky it kt b gy ld la l lb lc">if<!-- --> <!-- -->title:</span><span id="489f" class="kx ky it kt b gy ld la l lb lc">plt.title(title)</span><span id="6371" class="kx ky it kt b gy ld la l lb lc">if<!-- --> <!-- -->fname:</span><span id="24e6" class="kx ky it kt b gy ld la l lb lc">plt.savefig(fname)</span></pre><p id="cada" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们使用imshow函数来显示图像。</p><figure class="ko kp kq kr gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="gh gi lm"><img src="../Images/6ca76abe9f1eb70e823a381c03750c2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J4jURe-ttAzLrHQqpygIsA.png"/></div></div></figure><p id="7016" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您应该会在笔记本中看到输出。</p><figure class="ko kp kq kr gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="gh gi ln"><img src="../Images/3260d92692e1a492e768d23a01ffdb12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8Ybc8R_bw27ShfV24Y3Nqw.jpeg"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk translated">Sofia Costa 在<a class="ae ls" href="https://unsplash.com/t/architecture?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="6be1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下面的代码对图像应用了一些变换，以便将彩色图像转换为黑白图像。</p><pre class="ko kp kq kr gt ks kt ku kv aw kw bi"><span id="9290" class="kx ky it kt b gy kz la l lb lc">img = cv2.imread(image_path)</span><span id="b563" class="kx ky it kt b gy ld la l lb lc">RGB_img = cv2.cvtColor(img, cv2.COLOR_BGR2RGB)</span><span id="4f1c" class="kx ky it kt b gy ld la l lb lc">imshow(RGB_img)</span></pre><p id="17bb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">转换后的图像应该是这样的:</p><figure class="ko kp kq kr gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="gh gi lt"><img src="../Images/d27193ba3ce075554bcddaaf88a0a3ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fvJNdjUcGYhyLIaopew_Sw.png"/></div></div></figure><p id="9717" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在我们有一个笔记本，上面有我们的代码，我们如何将它更改为webapp？</p><p id="bb37" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">打开cmd并运行以下命令:</p><pre class="ko kp kq kr gt ks kt ku kv aw kw bi"><span id="b020" class="kx ky it kt b gy kz la l lb lc">mercury watch Mercury-app.ipynb</span></pre><p id="4dad" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在访问127.0.0.1:8000</p><p id="e81b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你应该会看到这样一个网页。</p><figure class="ko kp kq kr gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="gh gi lu"><img src="../Images/34de43c1629dde21b4ef25210c9a63ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1_XQMezamF6AAqfPv8rjWw.png"/></div></div></figure><p id="a576" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你点击笔记本，你会得到一个类似下面的错误。</p><figure class="ko kp kq kr gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="gh gi lv"><img src="../Images/dcdced8ee6dcce1248c546c3da70af63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YEQd3xop-AJy9IpQ-JLdmw.png"/></div></div></figure><p id="b385" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">该错误指出YAML配置丢失。让我们添加一个原始的NBConvert单元格，并添加一个YAML文件。</p><figure class="ko kp kq kr gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="gh gi lw"><img src="../Images/4eff83c4c6b25fa8897f8a67ee3ed0f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-9FNkTHhUInev8u6I7XEug.png"/></div></div></figure><p id="fe5a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">YAML割台配置:</p><ul class=""><li id="8ee5" class="lx ly it js b jt ju jx jy kb lz kf ma kj mb kn mc md me mf bi translated"><strong class="js iu">标题</strong> —在主视图和笔记本视图侧边栏顶部使用的应用程序标题，</li><li id="8c3d" class="lx ly it js b jt mg jx mh kb mi kf mj kj mk kn mc md me mf bi translated"><strong class="js iu">描述</strong> —描述应用程序正在做什么的文本</li><li id="7bda" class="lx ly it js b jt mg jx mh kb mi kf mj kj mk kn mc md me mf bi translated"><strong class="js iu">显示代码</strong> —决定是否显示或隐藏笔记本代码的变量</li><li id="8f64" class="lx ly it js b jt mg jx mh kb mi kf mj kj mk kn mc md me mf bi translated"><strong class="js iu"> params </strong> —添加到笔记本的小部件。</li></ul><p id="84b9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">将以下代码添加到笔记本中。</p><pre class="ko kp kq kr gt ks kt ku kv aw kw bi"><span id="7c29" class="kx ky it kt b gy kz la l lb lc">title: Convert Photo to Black and White</span><span id="3f22" class="kx ky it kt b gy ld la l lb lc">description: Create Black and White Photo from uploaded a photo</span><span id="266f" class="kx ky it kt b gy ld la l lb lc">show-code: False</span><span id="625f" class="kx ky it kt b gy ld la l lb lc">params:</span><span id="b617" class="kx ky it kt b gy ld la l lb lc">image_path:</span><span id="419f" class="kx ky it kt b gy ld la l lb lc">input: file</span><span id="16f1" class="kx ky it kt b gy ld la l lb lc">label: Please upload a photo</span><span id="c222" class="kx ky it kt b gy ld la l lb lc">output_dir:</span><span id="ab24" class="kx ky it kt b gy ld la l lb lc">output: dir</span><span id="4f29" class="kx ky it kt b gy ld la l lb lc"> — -</span></pre><figure class="ko kp kq kr gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="gh gi ml"><img src="../Images/66a249510a0449354aaeb91728a352a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nf6IMPyonh4DjQ6cVXCd1w.png"/></div></div></figure><p id="c6b2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在保存笔记本并重新运行水星应用程序。</p><p id="b3f8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您应该会看到类似这样的内容:</p><figure class="ko kp kq kr gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="gh gi mm"><img src="../Images/ba05f9bba6b043000f13eeefecf52b33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0AK3FJu3cxDNKHxg6AwBOg.png"/></div></div></figure><p id="0b0e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在点击打开按钮。</p><p id="3980" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这将打开您的web应用程序。</p><figure class="ko kp kq kr gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="gh gi lv"><img src="../Images/9c3da46ebf0fd9060d9fd2d6f92d0080.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LgACXlyiBbXCu_Vl2h9ozA.png"/></div></div></figure><p id="7f8a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">点击浏览并选择你想转换成黑白的图像。</p><p id="5bba" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们将使用这张图片来测试我们的web应用程序。</p><figure class="ko kp kq kr gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="gh gi mn"><img src="../Images/e5f012908ca1676335263599ef283085.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*94bVQv3pLLyMDXW5X_paPg.jpeg"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk translated">由<a class="ae ls" href="https://unsplash.com/@redapollos?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">克里斯蒂安·朗斯特伦</a>在<a class="ae ls" href="https://unsplash.com/t/travel?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="3965" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">选择图像后，单击运行。</p><p id="3182" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">该应用程序会将图像转换为黑白。</p><p id="db66" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您应该会看到这样的输出。</p><figure class="ko kp kq kr gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="gh gi mo"><img src="../Images/ff18ac159269d483b709e348587286b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AMW5Kclpf5nVTQgmk5VBEA.png"/></div></div></figure><p id="16a4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下载按钮允许您下载pdf或HTML格式的结果。</p><p id="5809" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">了解将Jupyter笔记本转换为webapp有多简单。</p><div class="mp mq gp gr mr ms"><a rel="noopener  ugc nofollow" target="_blank" href="/remove-objects-from-images-using-ai-a00876460dd1"><div class="mt ab fo"><div class="mu ab mv cl cj mw"><h2 class="bd iu gy z fp mx fr fs my fu fw is bi translated">基于人工智能的数字图像修复</h2><div class="mz l"><h3 class="bd b gy z fp mx fr fs my fu fw dk translated">只需几个简单的步骤，就可以使用人工智能从你的令人敬畏的图像中删除照片炸弹。</h3></div><div class="na l"><p class="bd b dl z fp mx fr fs my fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="nb l"><div class="nc l nd ne nf nb ng lk ms"/></div></div></a></div><div class="mp mq gp gr mr ms"><a rel="noopener  ugc nofollow" target="_blank" href="/run-python-in-html-pyscript-by-anaconda-cb9fb370a6b9"><div class="mt ab fo"><div class="mu ab mv cl cj mw"><h2 class="bd iu gy z fp mx fr fs my fu fw is bi translated">通过Anaconda在HTML: Pyscript中运行Python</h2><div class="mz l"><h3 class="bd b gy z fp mx fr fs my fu fw dk translated">Pyscript是anaconda开发的一个新框架，它允许您在HTML代码中运行python。</h3></div><div class="na l"><p class="bd b dl z fp mx fr fs my fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="nb l"><div class="nh l nd ne nf nb ng lk ms"/></div></div></a></div></div><div class="ab cl ni nj hx nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="im in io ip iq"><p id="dc59" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="np">嘿伙计们，</em></p><p id="454a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我是一个在媒体上写作的新手，希望听到你的反馈。如果你喜欢我写的东西，不要犹豫，竖起大拇指或者留下小费。如果您有任何问题或建议，请随时发表评论。我阅读每一条信息，并尽可能快地回复。</p><p id="c10b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="np">阿尔琼·古尔巴德哈尔</em></p></div></div>    
</body>
</html>