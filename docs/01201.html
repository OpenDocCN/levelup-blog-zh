<html>
<head>
<title>Comparing Non-English Strings with JavaScript Collators</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript排序器比较非英语字符串</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/comparing-non-english-strings-with-javascript-collators-dcce6845c878?source=collection_archive---------1-----------------------#2019-11-26">https://levelup.gitconnected.com/comparing-non-english-strings-with-javascript-collators-dcce6845c878?source=collection_archive---------1-----------------------#2019-11-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/c1bc6c2492694d34a6293145f769f045.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*h-x05cGPaefVuoIo"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@kylejglenn?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">凯尔·格伦</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="9ed8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过将两倍等于或三倍等于操作符与字符串方法相结合，我们可以很容易地以区分大小写或不区分大小写的方式比较字符串。然而，这没有考虑非英语字符串中的字符，如法语或意大利语。这些语言的字母可能包含重音符号，这在普通的字符串比较中是无法识别的。</p><p id="a69f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了处理这个场景，我们可以使用<code class="fe le lf lg lh b">Intl.Collator</code>对象来比较带有重音符号的字符串或者不同地区的字符串。对象是排序器的构造器，排序器是让我们以语言敏感的方式比较字符的对象。使用排序器，我们可以根据指定的语言比较单个字符的顺序。</p><h1 id="1d78" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">字符串相等比较的基本排序器用法</h1><p id="b48e" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">要使用排序器，我们可以构造一个排序器对象，然后使用它的<code class="fe le lf lg lh b">compare</code>方法。<code class="fe le lf lg lh b">compare</code>方法根据地区对整个字符串的字母顺序进行比较。例如，如果我们想使用德语字母表的顺序比较两个字符串，我们可以编写以下代码:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="2500" class="mt lj it lh b gy mu mv l mw mx">const collator = new Intl.Collator('de');<br/>const order = collator.compare('Ü', 'ß');<br/>console.log(order);</span></pre><p id="2b0d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们通过编写<code class="fe le lf lg lh b">new Intl.Collator(‘de’)</code>来指定我们正在比较德语字母表中的字符串，从而创建了Collator对象。然后我们使用创建的<code class="fe le lf lg lh b">compare</code>方法，该方法将两个参数作为您想要以字符串形式比较的两个字符串。</p><p id="ba59" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后从<code class="fe le lf lg lh b">compare</code>函数返回一个数字。如果第一个参数中的字符串按字母顺序排在第二个之后，则返回<code class="fe le lf lg lh b">1</code>，如果两个字符串相同，则返回<code class="fe le lf lg lh b">0</code>，如果第一个参数中的字符串按字母顺序排在第二个字符串之前，则返回<code class="fe le lf lg lh b">-1</code>。</p><p id="7487" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，如果我们像下面的代码那样颠倒字符串的顺序:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="377a" class="mt lj it lh b gy mu mv l mw mx">const collator = new Intl.Collator('de');<br/>const order = collator.compare('ß', 'Ü');<br/>console.log(order);</span></pre><p id="5acc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后<code class="fe le lf lg lh b">console.log</code>输出-1。</p><p id="dad0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果它们相同，如下面的代码所示:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="1baa" class="mt lj it lh b gy mu mv l mw mx">const collator = new Intl.Collator('de');<br/>const order = collator.compare('ß', 'ß');<br/>console.log(order);</span></pre><p id="ffb0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们为<code class="fe le lf lg lh b">order</code>返回0。</p><p id="b45b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">总结:</strong>如果字符串相等，函数返回<code class="fe le lf lg lh b">0</code>。如果不相等，函数返回<code class="fe le lf lg lh b">1</code>或<code class="fe le lf lg lh b">-1</code>，这也表示字符串的字母顺序。</p><h1 id="5d70" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">高级用法</h1><p id="8491" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">排序器很有用，因为我们可以把它作为回调函数放在<code class="fe le lf lg lh b">Array.sort</code>方法中，对数组中的多个字符串进行排序。例如，如果数组中有多个德语字符串，如下面的代码所示:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="cdb5" class="mt lj it lh b gy mu mv l mw mx">const collator = new Intl.Collator('de');<br/>const sortedLetters = ['Z', 'Ä', 'Ö', 'Ü', 'ß'].sort(collator.compare);<br/>console.log(sortedLetters);</span></pre><p id="0f38" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们得到<code class="fe le lf lg lh b">[“Ä”, “Ö”, “ß”, “Ü”, “Z”]</code>。</p><p id="660b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">该构造函数采用了许多选项，这些选项考虑了不同语言的字母表的特征。正如我们在上面看到的，构造函数中的第一个参数是locale，它是BCP-47语言标签，或者是这种标签的数组。这是一个可选参数。BCP-47语言标签的简略列表包括:</p><ul class=""><li id="e4b3" class="my mz it ki b kj kk kn ko kr na kv nb kz nc ld nd ne nf ng bi translated">ar —阿拉伯语</li><li id="e7e0" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">保加利亚语</li><li id="3180" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">加利福尼亚—加泰罗尼亚语</li><li id="5bfe" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">zh-Hans-中文，汉族(简体变体)</li><li id="9d05" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">cs —捷克语</li><li id="031f" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">da —丹麦语</li><li id="779d" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">德语</li><li id="9504" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">el —现代希腊语(1453年及以后)</li><li id="8aad" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">英语</li><li id="5f23" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">es —西班牙语</li><li id="ee72" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">fi —芬兰语</li><li id="6afc" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">fr —法语</li><li id="4640" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">他—希伯来语</li><li id="dc52" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">胡—匈牙利语</li><li id="87f4" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">是—冰岛语</li><li id="a8cb" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">它—意大利语</li><li id="df61" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">ja —日语</li><li id="b633" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">朝鲜文</li><li id="4eb3" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">nl —荷兰语</li><li id="c52f" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">不——挪威人</li><li id="59af" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">pl —波兰语</li><li id="1a28" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">pt —葡萄牙语</li><li id="134a" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">rm —罗曼语</li><li id="650d" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">ro —罗马尼亚语</li><li id="8299" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">ru —俄语</li><li id="3349" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">HR-克罗地亚语</li><li id="cf46" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">sk —斯洛伐克语</li><li id="1d70" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">sq —阿尔巴尼亚语</li><li id="fd91" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">sv —瑞典语</li><li id="1cbe" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">泰语</li><li id="3bc0" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">tr —土耳其语</li><li id="131e" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">乌尔都语</li><li id="4553" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">id —印度尼西亚语</li><li id="1b0a" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">英国—乌克兰语</li><li id="3d80" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">是—白俄罗斯人</li><li id="269a" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">sl —斯洛文尼亚语</li><li id="8311" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">et —爱沙尼亚语</li><li id="1912" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">lv —拉脱维亚语</li><li id="8cf0" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">lt —立陶宛语</li><li id="5443" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">tg —塔吉克语</li><li id="f4cc" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">fa —波斯语</li><li id="6d87" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">六—越南语</li><li id="f1a0" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">hy —亚美尼亚语</li><li id="9fbc" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">az —阿塞拜疆语</li><li id="a274" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">欧盟—巴斯克语</li><li id="c0bc" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">hsb —上索布语</li><li id="1c78" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">mk —马其顿语</li><li id="81a0" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">tn —茨瓦纳</li><li id="bb10" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">科萨语</li><li id="46eb" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">祖祖鲁</li><li id="5f93" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">af —南非荷兰语</li><li id="6486" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">ka语—格鲁吉亚语</li><li id="3abb" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">fo —法罗群岛语</li><li id="648f" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">嗨—印地语</li><li id="22d8" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">马耳他山</li><li id="16f1" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">东南-北萨米人</li><li id="71f7" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">ga —爱尔兰语</li><li id="c740" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">马来语(宏语言)</li><li id="2733" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">kk —哈萨克语</li><li id="873a" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">ky —吉尔吉斯</li><li id="bc59" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">西南语——斯瓦希里语(宏观语言)</li><li id="fca1" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">tk —土库曼语</li><li id="b38e" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">乌兹别克语</li><li id="5166" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">tt —鞑靼语</li><li id="1a55" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">bn —孟加拉语</li><li id="355d" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">pa-Panjabi</li><li id="12d7" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">gu —古吉拉特语</li><li id="c5f7" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">或者——奥瑞亚</li><li id="5e65" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">塔语—泰米尔语</li><li id="5020" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">泰—泰卢固语</li><li id="da47" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">卡纳达语</li><li id="9ae2" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">ml —马拉雅拉姆语</li><li id="4e3c" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">阿萨姆语</li><li id="9d12" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">马拉蒂先生</li><li id="b068" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">sa —梵语</li><li id="08b2" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">蒙古语</li><li id="10f4" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">博语—藏语</li><li id="69ad" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">cy —威尔士语</li><li id="986e" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">km —高棉语中部</li><li id="a680" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">老挝语</li><li id="ab40" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">gl —加利西亚语</li><li id="51bf" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">kok-kon kani语(宏观语言)</li><li id="72db" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">叙利亚语</li><li id="3608" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">西-僧伽罗语</li><li id="b6d9" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">iu —因纽特人</li><li id="e44b" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">am-阿姆哈拉语</li><li id="3e36" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">tzm —中央地图集Tamazight</li><li id="3bcd" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">尼泊尔语</li><li id="6bee" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">fy —西弗里斯兰</li><li id="0ab2" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">ps — Pushto</li><li id="40c7" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">菲律宾语</li><li id="c720" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">dv —迪维希语</li><li id="d989" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">哈—豪萨</li><li id="6838" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">哟——约鲁巴语</li><li id="546d" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">库斯科-克丘亚州</li><li id="48ee" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">国家统计局-儿科</li><li id="f6bb" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">巴-巴什基尔</li><li id="3d9f" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">lb —卢森堡语</li><li id="e56c" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">吉隆坡—卡拉利苏特</li><li id="c5c9" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">ig —伊博人</li><li id="1dda" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">二—四川彝族</li><li id="e7c1" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">阿恩-马普顿贡</li><li id="ebd3" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">MOH-Mohawk</li><li id="9a88" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">布雷顿</li><li id="7316" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">ug —维吾尔语</li><li id="7004" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">米—毛利人</li><li id="a724" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">oc-Occitan(1500年后)</li><li id="aec5" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">科西嘉岛</li><li id="b5e7" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">gsw —瑞士德语</li><li id="ee58" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">SAH-Yakut</li><li id="0097" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">qut —危地马拉</li><li id="809d" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">rw —基尼亚卢旺达语</li><li id="a0aa" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">沃-沃洛夫</li><li id="d060" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">prs —达里语</li><li id="e67d" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">gd —苏格兰盖尔语</li></ul><p id="a551" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，<code class="fe le lf lg lh b">de</code>代表德语，<code class="fe le lf lg lh b">fr-ca</code>代表加拿大法语。因此，我们可以通过运行以下代码对加拿大法语字符串进行排序:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="aa7e" class="mt lj it lh b gy mu mv l mw mx">const collator = new Intl.Collator('fr-ca');<br/>const sortedLetters = ['ç', 'à', 'c'].sort(collator.compare);<br/>console.log(sortedLetters);</span></pre><p id="b644" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Collator的构造函数也可以接受一个字符串数组，用于多地区比较— <code class="fe le lf lg lh b">new Intl.Collator([/* local strings */])</code>。array参数允许我们对来自多个地区的字符串进行排序。例如，我们可以同时对加拿大法语字母表和德语字母表进行排序:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="61ee" class="mt lj it lh b gy mu mv l mw mx">const collator = new Intl.Collator(['fr-ca', 'de']);<br/>const sortedLetters = [<br/>  'Ü', 'ß', 'ç', 'à', 'c'<br/>].sort(collator.compare);</span><span id="2196" class="mt lj it lh b gy nm mv l mw mx">console.log(sortedLetters);</span></pre><p id="c14a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们从<code class="fe le lf lg lh b">console.log</code>语句中得到<code class="fe le lf lg lh b">[“à”, “c”, “ç”, “ß”, “Ü”]</code>。</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nn"><img src="../Images/d3045172cd652b319d6d45ef2fe1ca42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*w-d7jqqRrcB6d2o9"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated"><a class="ae kf" href="https://unsplash.com/@macauphotoagency?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">澳门图片社</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><h1 id="6a7d" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">附加选项</h1><p id="94fa" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">Unicode扩展键包括<code class="fe le lf lg lh b">"big5han"</code>、<code class="fe le lf lg lh b">"dict"</code>、<code class="fe le lf lg lh b">"direct"</code>、<code class="fe le lf lg lh b">"ducet"</code>、<code class="fe le lf lg lh b">"gb2312"</code>、<code class="fe le lf lg lh b">"phonebk"</code>、<code class="fe le lf lg lh b">"phonetic"</code>、<code class="fe le lf lg lh b">"pinyin"</code>、<code class="fe le lf lg lh b">"reformed"</code>、<code class="fe le lf lg lh b">"searchjl"</code>、<code class="fe le lf lg lh b">"stroke"</code>、<code class="fe le lf lg lh b">"trad"</code>、<code class="fe le lf lg lh b">"unihan"</code>在我们的区域设置字符串中也是允许的。它们指定了我们想要用来比较字符串的排序规则。但是，当第二个参数的选项中有与此重叠的字段时，参数中的选项将覆盖第一个参数中指定的Unicode扩展键。</p><p id="6afa" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">可以通过在第一个参数中将<code class="fe le lf lg lh b">kn</code>添加到您的区域设置字符串中来指定数字排序规则。例如，如果我们想比较数字串，那么我们可以写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="9bfe" class="mt lj it lh b gy mu mv l mw mx">const collator = new Intl.Collator(['en-u-kn-true']);<br/>const sortedNums = ['10', '2'].sort(collator.compare);<br/>console.log(sortedNums);</span></pre><p id="b9d9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们得到了<code class="fe le lf lg lh b">[“2”, “10”]</code>,因为我们在构造函数的locale字符串中指定了<code class="fe le lf lg lh b">kn</code>,这使得collator比较数字。</p><p id="e26e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，我们可以用<code class="fe le lf lg lh b">kf</code>扩展键指定是先排序大写字母还是小写字母。可能的选项有<code class="fe le lf lg lh b">upper</code>、<code class="fe le lf lg lh b">lower</code>或<code class="fe le lf lg lh b">false</code>。<code class="fe le lf lg lh b">false</code>表示区域设置的默认值将是选项。该选项可以在区域设置字符串中通过添加Unicode扩展键来设置，如果两者都提供了，那么<code class="fe le lf lg lh b">option</code>属性将优先。例如，要使大写字母优先于小写字母，我们可以写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="ae9a" class="mt lj it lh b gy mu mv l mw mx">const collator = new Intl.Collator('en-ca-u-kf-upper');<br/>const sorted = ['Able', 'able'].sort(collator.compare);<br/>console.log(sorted);</span></pre><p id="044a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将首先对大写字母相同的单词进行排序。当我们运行<code class="fe le lf lg lh b">console.log</code>时，我们得到<code class="fe le lf lg lh b">[“Able”, “able”]</code>，因为我们在‘Able’中有一个大写的‘A’，在‘Able’中有一个小写的‘A’。另一方面，如果我们改为在构造函数中传递<code class="fe le lf lg lh b">en-ca-u-kf-lower</code>，如下面的代码所示:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="77e2" class="mt lj it lh b gy mu mv l mw mx">const collator = new Intl.Collator('en-ca-u-kf-<!-- -->lower<!-- -->');<br/>const sorted = ['Able', 'able'].sort(collator.compare);<br/>console.log(sorted);</span></pre><p id="249e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后在<code class="fe le lf lg lh b">console.log</code>之后，我们得到<code class="fe le lf lg lh b">[“able”, “Able”]</code>，因为<code class="fe le lf lg lh b">kf-lower</code>意味着我们将小写字母的同一个单词排在大写字母的前面。</p><p id="953e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">构造函数的第二个参数接受一个可以有多个属性的对象。对象接受的属性有<code class="fe le lf lg lh b">localeMatcher</code>、<code class="fe le lf lg lh b">usage</code>、<code class="fe le lf lg lh b">sensitivity</code>、<code class="fe le lf lg lh b">ignorePunctuation</code>、<code class="fe le lf lg lh b">numeric</code>和<code class="fe le lf lg lh b">caseFirst</code>。<code class="fe le lf lg lh b">numeric</code>与区域设置字符串中Unicode扩展键的<code class="fe le lf lg lh b">kn</code>选项相同，<code class="fe le lf lg lh b">caseFirst</code>与区域设置字符串中Unicode扩展键的<code class="fe le lf lg lh b">kf</code>选项相同。<code class="fe le lf lg lh b">localeMatcher</code>选项指定要使用的语言环境匹配算法。可能的值是<code class="fe le lf lg lh b">lookup</code>和<code class="fe le lf lg lh b">best fit</code>。查找算法搜索区域设置，直到找到符合正在比较的字符串的字符集的区域设置。<code class="fe le lf lg lh b">best fit</code>找到至少比<code class="fe le lf lg lh b">lookup</code>算法更适合的语言环境。</p><p id="acd0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">usage</code>选项指定排序器是用于排序还是搜索字符串。默认选项是<code class="fe le lf lg lh b">sort</code>。</p><p id="9a46" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">敏感度选项指定比较字符串的方式。可能的选项有<code class="fe le lf lg lh b">base</code>、<code class="fe le lf lg lh b">accent</code>、<code class="fe le lf lg lh b">case</code>和<code class="fe le lf lg lh b">variant</code>。</p><p id="d285" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">base</code>比较字母的基数，忽略重音。例如<code class="fe le lf lg lh b">a</code>与<code class="fe le lf lg lh b">b</code>不同，而<code class="fe le lf lg lh b">a</code>与<code class="fe le lf lg lh b">á</code>相同，<code class="fe le lf lg lh b">a</code>与<code class="fe le lf lg lh b">Ä</code>相同。</p><p id="df40" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">accent</code>指定一个字符串只有在有一个基本字母或它们的重音不相等时才是不同的，那么它们就是不相等的，忽略大小写。所以<code class="fe le lf lg lh b">a</code>和<code class="fe le lf lg lh b">b</code>不一样，但是<code class="fe le lf lg lh b">a</code>和<code class="fe le lf lg lh b">A</code>一样。<code class="fe le lf lg lh b">a</code>和<code class="fe le lf lg lh b">á</code>不一样。</p><p id="4532" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">case</code>选项指定基本字母或大小写不同的字符串被视为不相等，因此<code class="fe le lf lg lh b">a</code>不会与<code class="fe le lf lg lh b">A</code>相同，<code class="fe le lf lg lh b">a</code>不会与<code class="fe le lf lg lh b">c</code>相同，但<code class="fe le lf lg lh b">a</code>与<code class="fe le lf lg lh b">á</code>相同。</p><p id="b912" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">variant</code>表示基本字母、重音、其他标记或大小写不同的字符串被视为不相等。例如<code class="fe le lf lg lh b">a</code>不会与<code class="fe le lf lg lh b">A</code>相同，而<code class="fe le lf lg lh b">a</code>不会与<code class="fe le lf lg lh b">c</code>相同。但是<code class="fe le lf lg lh b">a</code>也不等同于<code class="fe le lf lg lh b">á</code>。</p><p id="7c44" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">ignorePunctuation</code>指定排序字符串时是否应忽略标点符号。这是一个布尔属性，默认值是<code class="fe le lf lg lh b">false</code>。</p><p id="b97b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以按以下方式使用带有第二个参数的排序器构造函数:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="9cab" class="mt lj it lh b gy mu mv l mw mx">const collator = new Intl.Collator('en-ca', {<br/>  ignorePunctuation: false,<br/>  sensitivity: "base",<br/>  usage: 'sort'<br/>});<br/>console.log(collator.compare('Able', 'able'));</span></pre><p id="ff53" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们通过检查标点符号进行排序，只有在基本字母不同的情况下才考虑字母的不同，我们保留大写字母首先排序的默认设置，因此我们在<code class="fe le lf lg lh b">console.log</code>中得到<code class="fe le lf lg lh b">[‘Able’, ‘able’]</code>。</p><p id="c439" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以按如下方式搜索字符串:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="d55f" class="mt lj it lh b gy mu mv l mw mx">const arr = ["ä", "ad", "af", "a"];<br/>const stringToSearchFor = "af";</span><span id="d19d" class="mt lj it lh b gy nm mv l mw mx">const collator = new Intl.Collator("fr", {<br/>  usage: "search"<br/>});<br/>const matches = arr.filter((str) =&gt; collator.compare(str, stringToSearchFor) === 0);<br/>console.log(matches);</span></pre><p id="b7f6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们将<code class="fe le lf lg lh b">usage</code>选项设置为<code class="fe le lf lg lh b">search</code>来使用排序器搜索字符串，当<code class="fe le lf lg lh b">compare</code>方法返回<code class="fe le lf lg lh b">0</code>时，我们知道我们有相同的字符串。所以当我们运行<code class="fe le lf lg lh b">console.log(matches)</code>时，我们得到<code class="fe le lf lg lh b">[“af”]</code>日志。</p><p id="b57b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以调整比较字母的选项，所以如果我们有:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="bb32" class="mt lj it lh b gy mu mv l mw mx">const arr = ["ä", "ad", "ef", "éf", "a"];<br/>const stringToSearchFor = "ef";</span><span id="7fac" class="mt lj it lh b gy nm mv l mw mx">const collator = new Intl.Collator("fr", {<br/>  sensitivity: 'base',<br/>  usage: "search"<br/>});</span><span id="4d7e" class="mt lj it lh b gy nm mv l mw mx">const matches = arr.filter((str) =&gt; collator.compare(str, stringToSearchFor) === 0);</span><span id="5f3f" class="mt lj it lh b gy nm mv l mw mx">console.log(matches);</span></pre><p id="dfbf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们在<code class="fe le lf lg lh b">console.log</code>中得到<code class="fe le lf lg lh b">[“ef”, “éf”]</code>,因为我们将<code class="fe le lf lg lh b">sensitivity</code>指定为<code class="fe le lf lg lh b">base</code>,这意味着我们认为具有相同基本重音的字母是相同的。</p><p id="1a27" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，我们可以指定numeric选项来对数字进行排序。例如，如果我们有:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="2fdd" class="mt lj it lh b gy mu mv l mw mx">const collator = new Intl.Collator(['en-u-kn-false'], {<br/>  numeric: true<br/>});<br/>const sortedNums = ['10', '2'].sort(collator.compare);<br/>console.log(sortedNums);</span></pre><p id="a345" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们得到<code class="fe le lf lg lh b">[“2”, “10”]</code>，因为第二个参数中对象的<code class="fe le lf lg lh b">numeric</code>属性覆盖了第一个参数中的<code class="fe le lf lg lh b">kn-false</code>。</p><h1 id="7bfd" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">结论</h1><p id="1460" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">JavaScript提供了很多字符串比较选项来比较非英语的字符串。<code class="fe le lf lg lh b">Intl</code>中的Collator构造函数提供了许多选项，让我们可以用普通的比较操作符(如double或triple equals)无法完成的方式来搜索或排序字符串。它让我们对数字进行排序，并考虑大小写、重音、标点符号或每个字符中这些特征的组合来比较字符串。此外，它接受带有键扩展名的区域设置字符串进行比较。</p><p id="39ca" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所有这些选项使JavaScript的排序器构造函数成为比较国际字符串的最佳选择。</p></div></div>    
</body>
</html>