<html>
<head>
<title>A very famous Javascript interview question</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一个非常著名的Javascript面试问题</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/a-very-famous-javascript-interview-question-aae174592fb2?source=collection_archive---------7-----------------------#2020-01-29">https://levelup.gitconnected.com/a-very-famous-javascript-interview-question-aae174592fb2?source=collection_archive---------7-----------------------#2020-01-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/fdf22066afd92084142478a9eaf34f96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SqmCWd64IULXdYXd"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">约翰娜·布格特在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="ea6e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">今天我们将看到一个常见的Javascript面试问题。</p><p id="cf02" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">问题是这样的:</p><blockquote class="lb lc ld"><p id="f51a" class="kd ke le kf b kg kh ki kj kk kl km kn lf kp kq kr lg kt ku kv lh kx ky kz la ij bi translated">实现一个<code class="fe li lj lk ll b"><strong class="kf ir">product</strong></code>方法，当使用以下两种方法调用时，该方法将返回两个数的乘积</p></blockquote><p id="12a7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">a) <code class="fe li lj lk ll b">product(4, 5)</code></p><p id="7570" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">b) <code class="fe li lj lk ll b">product(4)(5)</code></p><p id="2afe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是一个非常著名的Javascript面试问题，因为它测试你对函数式Javascript、闭包和函数参数的知识。要解决这个，我们先来了解一些基本概念。</p><h2 id="a181" class="lm ln iq bd lo lp lq dn lr ls lt dp lu ko lv lw lx ks ly lz ma kw mb mc md me bi translated"><strong class="ak">高阶函数</strong></h2><p id="e36e" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">高阶函数是接受函数、返回函数或两者兼有的函数。</p><p id="bdc8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">例如:</strong>数组<code class="fe li lj lk ll b">map</code>、<code class="fe li lj lk ll b">filter</code>、<code class="fe li lj lk ll b">reduce</code>方法都接受一个函数作为自变量，并且是高阶函数。</p><p id="7b5c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当一个函数返回另一个函数时，它也被称为高阶函数。</p><pre class="mk ml mm mn gt mo ll mp mq aw mr bi"><span id="bc22" class="lm ln iq ll b gy ms mt l mu mv">function greet(message) {<br/> return function(name) {<br/>  console.log(message, name);<br/> };<br/>}</span><span id="9fcc" class="lm ln iq ll b gy mw mt l mu mv">const hello = greet('Hello');<br/>console.log(hello('Mark')); // Hello Mark</span></pre><p id="d019" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这里，我们不用创建一个单独的变量来存储<code class="fe li lj lk ll b">greet</code>函数的结果，而是可以像这样直接调用它:</p><pre class="mk ml mm mn gt mo ll mp mq aw mr bi"><span id="1ab1" class="lm ln iq ll b gy ms mt l mu mv">console.log(greet('Hello')('Mark')); // Hello Mark</span></pre><h2 id="fab6" class="lm ln iq bd lo lp lq dn lr ls lt dp lu ko lv lw lx ks ly lz ma kw mb mc md me bi translated"><strong class="ak">自变量对象</strong></h2><p id="72f1" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">我们编写的每个函数都可以访问<code class="fe li lj lk ll b">arguments</code>对象，该对象包含调用函数时传递的值列表:</p><pre class="mk ml mm mn gt mo ll mp mq aw mr bi"><span id="be06" class="lm ln iq ll b gy ms mt l mu mv">function add() {<br/> let sum = 0;<br/> for(let i = 0; i &lt; arguments.length; i++) {<br/>  sum += arguments[i];<br/> }<br/> console.log(sum); // 15<br/>}</span><span id="df38" class="lm ln iq ll b gy mw mt l mu mv">add(1,2,3,4,5);</span></pre><p id="18b3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">注意:箭头函数不能访问参数对象</strong></p><p id="06f7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以使用这个高阶函数和<code class="fe li lj lk ll b">arguments</code>对象，我们可以通过以下两种方式实现<code class="fe li lj lk ll b">product</code>方法。</p><ol class=""><li id="69f9" class="mx my iq kf b kg kh kk kl ko mz ks na kw nb la nc nd ne nf bi translated"><strong class="kf ir">通过计算参数长度:</strong></li></ol><pre class="mk ml mm mn gt mo ll mp mq aw mr bi"><span id="03b8" class="lm ln iq ll b gy ms mt l mu mv">function product(a) {<br/> if (arguments.length == 2) {<br/>  return arguments[0] * arguments[1];<br/> } else {<br/>   return function(b) {<br/>    return a * b;<br/>   };<br/> }<br/>}</span><span id="224b" class="lm ln iq ll b gy mw mt l mu mv">console.log(product(4, 5)); // 20<br/>console.log(product(4)(5)); // 20</span></pre><p id="2ab6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">2.<strong class="kf ir">通过检查第二个参数是否存在:</strong></p><pre class="mk ml mm mn gt mo ll mp mq aw mr bi"><span id="907c" class="lm ln iq ll b gy ms mt l mu mv">function product(a, b) {<br/> if (b) { // if b exists<br/>  return a * b;<br/> } else {<br/>   return function(b) {<br/>    return a * b;<br/>  };<br/> }<br/>}</span><span id="cd47" class="lm ln iq ll b gy mw mt l mu mv">console.log(product(4, 5)); // 20<br/>console.log(product(4)(5)); // 20</span></pre><p id="b57b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第二种方法有一个问题。在javascript中，<strong class="kf ir"> 0 </strong>被认为是falsy值。点击了解更多信息。因此，如果我们调用如下所示的函数，我们会得到不同的输出</p><pre class="mk ml mm mn gt mo ll mp mq aw mr bi"><span id="b831" class="lm ln iq ll b gy ms mt l mu mv">console.log(product(4, 0)); // function (b) {}<br/>console.log(product(4)(0)); // 0</span></pre><p id="87fe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了解决这个问题，我们可以将上面的函数改写为</p><pre class="mk ml mm mn gt mo ll mp mq aw mr bi"><span id="cc9e" class="lm ln iq ll b gy ms mt l mu mv">function product(a, b) {<br/> if (b || b === 0) { // if b exists or b is zero<br/>  return a * b;<br/> } else {<br/>   return function(b) {<br/>    return a * b;<br/>  };<br/> }<br/>}<br/>console.log(product(4, 0)); // 0<br/>console.log(product(4)(0)); // 0</span><span id="bff0" class="lm ln iq ll b gy mw mt l mu mv">console.log(product(4, 5)); // 20<br/>console.log(product(4)(5)); // 20</span></pre><p id="2919" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您还可以在函数中添加额外的验证，以检查传递给函数的值是否为数字，然后返回product，否则会返回一些一般性的错误消息，如“输入无效”</p><p id="2447" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">今天到此为止。希望你今天学到了新东西。</p><p id="e6da" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">别忘了直接在你的收件箱</strong> <a class="ae kc" href="https://yogeshchavan.dev" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">这里</strong> </a> <strong class="kf ir">订阅我的每周时事通讯，里面有惊人的技巧、诀窍和文章。</strong></p></div></div>    
</body>
</html>