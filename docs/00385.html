<html>
<head>
<title>Applications as Configurations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">应用程序作为配置</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/applications-as-configurations-5d43e3fec890?source=collection_archive---------3-----------------------#2019-01-30">https://levelup.gitconnected.com/applications-as-configurations-5d43e3fec890?source=collection_archive---------3-----------------------#2019-01-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="6ad1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我有个想法:</p><blockquote class="kl km kn"><p id="f7fd" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated">“大多数软件应用程序在不同的配置中包含相同的基本功能”。</p></blockquote><p id="7aa2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们来玩玩这个。想象一下，一种超高级语言可以简洁地描述一个软件应用程序，但仍然能捕捉到应用程序的有用性。</p><h2 id="ea28" class="ks kt iq bd ku kv kw dn kx ky kz dp la jy lb lc ld kc le lf lg kg lh li lj lk bi translated">✏️我们的应用</h2><pre class="ll lm ln lo gt lp lq lr ls aw lt bi"><span id="4c4f" class="ks kt iq lq b gy lu lv l lw lx"><strong class="lq ir">Example 1</strong><br/>App: Twitter<br/>  Allow user to: login<br/>  Allow user to: send a tweet<br/>  Allow user to: follow another user<br/>  Allow user to: view a timeline of tweets</span><span id="688e" class="ks kt iq lq b gy ly lv l lw lx"><a class="ae lz" href="https://gist.github.com/aido179/1734bb23182d801f4db3b3e694d54a63" rel="noopener ugc nofollow" target="_blank">(further examples here)</a></span></pre><ul class=""><li id="f67c" class="ma mb iq jp b jq jr ju jv jy mc kc md kg me kk mf mg mh mi bi translated">我们的应用程序需要一个名字，我们将以Twitter为例。<br/> <em class="ko">我已经举过其他例子</em> <a class="ae lz" href="https://gist.github.com/aido179/1734bb23182d801f4db3b3e694d54a63" rel="noopener ugc nofollow" target="_blank"> <em class="ko">这里</em> </a> <em class="ko">也是如此。</em></li><li id="7318" class="ma mb iq jp b jq mj ju mk jy ml kc mm kg mn kk mf mg mh mi bi translated">非常不言自明，而且如此普遍，以至于我们可以假设它已经融入了语言之中。<code class="fe mo mp mq lq b">login</code>变成了<code class="fe mo mp mq lq b">library.login</code>,表示我们将使用提供的库行为，而不是自定义实现。</li><li id="e71d" class="ma mb iq jp b jq mj ju mk jy ml kc mm kg mn kk mf mg mh mi bi translated"><code class="fe mo mp mq lq b">send a tweet</code>是一个非常常见的动作的独特实例:获取一些用户输入(数据:文本、图像、视频、音频等)并将其存储在某个地方(写入)，以便稍后可以返回(读取)。我们可以稍后更详细地说明所有这些。现在，让我们想象<code class="fe mo mp mq lq b">send a tweet</code>只是引用了其他地方的进一步配置，变成了<code class="fe mo mp mq lq b">custom.tweet</code></li><li id="b247" class="ma mb iq jp b jq mj ju mk jy ml kc mm kg mn kk mf mg mh mi bi translated"><code class="fe mo mp mq lq b">follow another user</code>同样，一个常见动作的独特名称:在两个事物之间建立链接、联系或关系，在这种情况下，是我们应用程序的用户。在twitter的例子中，关注者与被关注者的关系是多对一。脸书朋友对朋友的关系是一对一的。在reddit上，用户到子编辑的订阅是一对多的。<br/>  <code class="fe mo mp mq lq b">follow another user </code>变成了<code class="fe mo mp mq lq b">custom.follow</code></li><li id="dd9b" class="ma mb iq jp b jq mj ju mk jy ml kc mm kg mn kk mf mg mh mi bi translated"><code class="fe mo mp mq lq b">view a timeline of tweets</code>是一个读动作。它将得到一些东西，以某种方式排列它们，并显示给用户。它可能会有嵌套的动作，比如<em class="ko">喜欢</em>、<em class="ko">转发</em>和<em class="ko">回复</em>，但是我们会在后面处理。它变成了<code class="fe mo mp mq lq b">custom.timeline</code></li></ul><p id="e039" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">好了，我们迭代一下。</p><pre class="ll lm ln lo gt lp lq lr ls aw lt bi"><span id="925e" class="ks kt iq lq b gy lu lv l lw lx"><strong class="lq ir">Example 2</strong><br/>App: Twitter<br/>  Allow user to: library.login<br/>  Allow user to: custom.tweet<br/>  Allow user to: custom.follow<br/>  Allow user to: custom.timeline</span></pre><p id="5898" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">每个<code class="fe mo mp mq lq b">allow user to</code>行对应一个app的功能，但可能包含多个UI组件。<code class="fe mo mp mq lq b">Library.login</code>显然需要一个登录页面，一个注销按钮和其他元素来更新密码和其他信息。<code class="fe mo mp mq lq b">custom.follow</code>可能会出现在整个应用程序的多个地方。</p><h2 id="ba86" class="ks kt iq bd ku kv kw dn kx ky kz dp la jy lb lc ld kc le lf lg kg lh li lj lk bi translated">🌇结构和视图</h2><p id="cbba" class="pw-post-body-paragraph jn jo iq jp b jq mr js jt ju ms jw jx jy mt ka kb kc mu ke kf kg mv ki kj kk ij bi translated">单独定义应用程序的结构可能是有意义的，但是要参考前面定义的动作。</p><pre class="ll lm ln lo gt lp lq lr ls aw lt bi"><span id="b2ad" class="ks kt iq lq b gy lu lv l lw lx"><strong class="lq ir">Example 3</strong><br/>App: Twitter<br/>  Actions:<br/>    #Allow the user do these...<br/>    - library.login<br/>    - custom.tweet<br/>    - custom.follow<br/>    - custom.timeline<br/>  Views:<br/>    # Allow the user to view these <br/>    - library.landingPage<br/>    - custom.home<br/>    - custom.profile</span></pre><p id="d37d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这里，我将应用程序分成了<code class="fe mo mp mq lq b">Actions</code>和<code class="fe mo mp mq lq b">Views</code>。我们将列表中的第一个视图(library.landingPage)视为默认视图或索引。同样，使用库意味着它是内置的。允许我们使用这样的默认样板文件应该有助于加速开发。我们可以随时回来使用自定义视图。</p><h2 id="3a35" class="ks kt iq bd ku kv kw dn kx ky kz dp la jy lb lc ld kc le lf lg kg lh li lj lk bi translated">🔗观点和行动</h2><p id="4b4d" class="pw-post-body-paragraph jn jo iq jp b jq mr js jt ju ms jw jx jy mt ka kb kc mu ke kf kg mv ki kj kk ij bi translated">将动作映射到应用程序结构的各个部分并不简单。有些页面会有特定的动作，有些动作会在许多视图中重用。每个视图都应该准确定义它需要的动作。</p><pre class="ll lm ln lo gt lp lq lr ls aw lt bi"><span id="c223" class="ks kt iq lq b gy lu lv l lw lx"><strong class="lq ir">Example 4</strong><br/>App: Twitter<br/>  Actions:<br/>    #Allow the user do these...<br/>    - library.login<br/>    - custom.tweet<br/>    - custom.follow<br/>    - custom.timeline<br/>  Views:<br/>    # Allow the user to view these <br/>    - library.landingPage<br/>        - library.login<br/>    - custom.home<br/>        - library.login.isUserloggedIn<br/>        - custom.tweet<br/>        - custom.timeline<br/>    - custom.profile<br/>        - library.login.isUserloggedIn<br/>        - custom.follow</span></pre><p id="33dc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在视图有了具体的动作。我们现在可以拥有功能性，额外的好处是每个视图中发生的事情一目了然。</p><p id="559d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">注意<code class="fe mo mp mq lq b">library.login</code>是如何在每个视图中使用的。<code class="fe mo mp mq lq b">library.login</code>动作就像一个包含许多嵌套函数的包。我们应该能够使用像这样的动作的特定部分——我们不需要让用户在每个页面上登录，而只需要检查他们是否登录。</p><h1 id="3145" class="mw kt iq bd ku mx my mz kx na nb nc la nd ne nf ld ng nh ni lg nj nk nl lj nm bi translated">🗣️讨论</h1><p id="b414" class="pw-post-body-paragraph jn jo iq jp b jq mr js jt ju ms jw jx jy mt ka kb kc mu ke kf kg mv ki kj kk ij bi translated">可以想象，这样的配置可以用来为应用程序生成所有必要的样板文件。此时，应用程序也可以在任何平台上生成。</p><p id="b6fc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这些都不一定是新的。<a class="ae lz" href="https://www.meteor.com/" rel="noopener ugc nofollow" target="_blank"> Meteor </a>提供默认的应用程序生成、样板登录功能和客户端-服务器通信。<a class="ae lz" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank"> React </a>有<a class="ae lz" href="https://github.com/facebook/create-react-app" rel="noopener ugc nofollow" target="_blank"> create-react-app </a>，它…为你创建一个React app。<a class="ae lz" href="https://cli.vuejs.org/guide/creating-a-project.html" rel="noopener ugc nofollow" target="_blank"> Vue CLI </a> <em class="ko"> create </em>命令将搭建你的应用。事实上，像<a class="ae lz" href="https://yeoman.io/" rel="noopener ugc nofollow" target="_blank"> Yeoman </a>这样的工具实际上允许你定义一个“生成器”并生成一个搭建好的应用程序。此外，<a class="ae lz" href="https://facebook.github.io/react-native/" rel="noopener ugc nofollow" target="_blank"> React Native </a>采用一个JavaScript项目(基本上是一个高度特色的配置)并生成本地应用，类似于<a class="ae lz" href="https://cordova.apache.org/" rel="noopener ugc nofollow" target="_blank"> Cordova </a>。</p><p id="c032" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">代码生成并不新鲜。那么这里有什么不同呢？</p><p id="6923" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在使用<em class="ko">约曼</em>、<em class="ko">创建-反应-应用</em>和VUE <em class="ko">创建</em>命令的情况下，一旦生成了脚手架，一切都取决于您。剩下的是标准的应用程序代码，开发照常继续。我在这里提议的是一个紧密耦合，其中配置变成了应用程序，而不仅仅是一个蓝图。也就是说，如果您在任何时候更改配置，代码将会更新以反映该更改。编写与配置冲突的代码，就会出现错误。</p><p id="3045" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">开发人员应该能够查看配置并知道应用程序严格符合该定义。</p><p id="7dd0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在Meteor的例子中，通过其高度功能化的登录样板和客户端-服务器通信(pub/sub)(顺便说一下，我认为这很棒)这更进了一步。用户身份验证和登录并不是一个碰巧工作得很好的方便的包——它应该嵌入到系统的核心。使用Meteor，开发人员仍然需要编写基于用户登录状态显示/隐藏内容或路线的模板。这太傻了。充其量，这是不方便的，并导致模板开销。在最坏的情况下，当开发人员由于意外或缺乏经验而没有正确处理身份验证时，这是一个安全风险。</p><p id="20f8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">创建不安全的app应该是不可能的！</strong></p><p id="a102" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当视图被这样定义时:</p><pre class="ll lm ln lo gt lp lq lr ls aw lt bi"><span id="c621" class="ks kt iq lq b gy lu lv l lw lx">...<br/>Views:<br/>    - custom.home<br/>        - library.login.isUserloggedIn<br/>        ...</span></pre><p id="d494" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">应该没别的事可做了。如果用户没有被正确鉴定，它是不可访问的。就是这样。没有摆弄客户端路由器，入口事件，或应用程序范围的模板或其他任何东西。配置就是上帝。配置获胜。</p><p id="5a3e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，(就目前而言)在部署和维护方面有巨大的好处。确定性配置应该提供可靠的部署，并使依赖性管理变得容易。想象一下你5年前使用library构建的应用程序。登录:你应该能够相信新的部署将包括最新的身份验证代码——因为你的应用程序将使用标准配置生成，它总是向后兼容的。即使需要进行大规模的高层修改，只要使用<code class="fe mo mp mq lq b">library.login.isUserloggedIn</code>，你的视图也会被生成的app代码在更高的层次上保护。</p><h2 id="04c4" class="ks kt iq bd ku kv kw dn kx ky kz dp la jy lb lc ld kc le lf lg kg lh li lj lk bi translated">🎬结论</h2><p id="581a" class="pw-post-body-paragraph jn jo iq jp b jq mr js jt ju ms jw jx jy mt ka kb kc mu ke kf kg mv ki kj kk ij bi translated">我知道我现在非常理想化。我敢肯定，有边缘情况和并发症，使这完全不切实际的一些目的。但这不应该是万灵药。它应该适用于90%的需要通过用户认证保护CRUD操作的应用程序。</p><p id="7af2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是做梦很有趣。</p><figure class="ll lm ln lo gt no gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/6225eacab78cd9832db6b54567c60956.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*yfvCORQgYCtThAaG4Ecr2g.jpeg"/></div><figcaption class="nr ns gj gh gi nt nu bd b be z dk translated">这是一条鱼。</figcaption></figure><p id="95d7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我叫艾丹·布林，在爱尔兰都柏林经营一家T2软件咨询公司。如果你喜欢这篇文章，可以考虑在<a class="ae lz" href="https://twitter.com/aidanbreen" rel="noopener ugc nofollow" target="_blank">推特</a>上关注我，或者注册我的<a class="ae lz" href="https://apbsoftwareandhardware.us3.list-manage.com/subscribe?u=bd4ace12c9503b0fb9dde0282&amp;id=6081e1a8d6" rel="noopener ugc nofollow" target="_blank">个人邮件列表</a>，不要一个月更新一次。</p></div><div class="ab cl nv nw hu nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="ij ik il im in"><figure class="ll lm ln lo gt no gh gi paragraph-image"><a href="https://levelup.gitconnected.com"><div class="gh gi oc"><img src="../Images/9914c5dd23ac08b70eea6f4f9ba6fed2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E6CoI_MRyZ1JInNPsBSHtA.png"/></div></a></figure><div class="od oe gp gr of og"><a href="https://gitconnected.com/learn" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd ir gy z fp ol fr fs om fu fw ip bi translated">了解如何编码-查找编码教程| gitconnected</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">使用我们完整的编码资源列表学习任何编程语言或框架。我们分享、汇总和排名…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">gitconnected.com</p></div></div><div class="op l"><div class="oq l or os ot op ou np og"/></div></div></a></div></div></div>    
</body>
</html>