<html>
<head>
<title>How to create Node global variables to use in a React app</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何创建用于React应用程序的节点全局变量</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-create-node-global-variables-to-use-in-react-app-9df1514a4eb7?source=collection_archive---------7-----------------------#2021-02-24">https://levelup.gitconnected.com/how-to-create-node-global-variables-to-use-in-react-app-9df1514a4eb7?source=collection_archive---------7-----------------------#2021-02-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="81c5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">修复返回未定义的process.env.VARIABLE_NAME</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b6ed7294a37fd4d205355aa08f7d2267.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MeR_3xPaESa6IP8E1yqzQw.png"/></div></div></figure><p id="7dc6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Avery应用程序有自己的敏感凭证，我们无法以某种方式将它们存储在变量中而不将其暴露给外界。本文是一篇简短的教程，介绍如何在React应用程序中声明和使用敏感的环境变量。</p><p id="2bcb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们开始吧！</p><h1 id="a1fe" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated"><strong class="ak"> <em class="mi">步骤#1: </em> </strong>安装<strong class="ak"> <em class="mi"> dotenv </em> </strong>包</h1><p id="dc55" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">为此，我们将安装<code class="fe mo mp mq mr b">doenv</code>包，允许我们在<code class="fe mo mp mq mr b">.env</code>文件中使用变量。像任何其他包一样，我们所需要的就是使用<code class="fe mo mp mq mr b">npm install</code>或<code class="fe mo mp mq mr b">yarn</code>:</p><pre class="kj kk kl km gt ms mr mt mu aw mv bi"><span id="4112" class="mw lr it mr b gy mx my l mz na">npm install <strong class="mr iu"><em class="nb">dotenv</em></strong> --save</span></pre><h1 id="6534" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated"><strong class="ak"> <em class="mi">步骤#2: </em>创建<em class="mi">。env </em>文件放在正确的位置，并在那里列出你的变量</strong></h1><p id="fb7e" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">现在我们已经安装了ower依赖项，我们可以继续创建<strong class="kw iu"> <em class="nb">。env </em> </strong>在你的项目的根更确切地说是在同一层次的<code class="fe mo mp mq mr b">package.json</code>文件中。位置对这个作品来说非常重要。</p><p id="21df" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这里有一个例子:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/e7f86dab32c0934577ba1bc4e4aea090.png" data-original-src="https://miro.medium.com/v2/resize:fit:564/format:webp/1*OKzrBSTJSzPueighqBwWmQ.png"/></div></figure><p id="87dc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">里面的<em class="nb">。env </em> </strong>文件，我们如下声明我们的变量:</p><pre class="kj kk kl km gt ms mr mt mu aw mv bi"><span id="209a" class="mw lr it mr b gy mx my l mz na"><strong class="mr iu">REACT_APP</strong>_DB_URI=<em class="nb">mongodb://localhost:27017/myDB<br/></em><strong class="mr iu">REACT_APP</strong>_PORT=5000</span></pre><p id="07b0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> /！\ — </strong>注意，对于每个变量，我们在每一行的末尾使用前缀<code class="fe mo mp mq mr b">React_APP</code>和<strong class="kw iu">而不是</strong>逗号<code class="fe mo mp mq mr b">,</code>。</p><h1 id="3619" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated"><strong class="ak"> <em class="mi">步骤#3: </em> </strong>导入dotenv配置</h1><p id="30ef" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">现在我们有了变量，我们准备使用它们。但是，在此之前，我们需要导入<strong class="kw iu"> <em class="nb"> dotenv </em> </strong>包配置以便我们的<strong class="kw iu"> <em class="nb">。可以找到并读取env </em>和</strong>文件。下面是导入配置需要添加的内容:</p><pre class="kj kk kl km gt ms mr mt mu aw mv bi"><span id="fd15" class="mw lr it mr b gy mx my l mz na">require('dotenv').config();</span></pre><h1 id="2493" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated"><strong class="ak"> <em class="mi">步骤#4: </em> </strong>使用变量</h1><p id="77c5" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">就是这样。我们的变量和配置都已经设置好了。要使用它们，我们需要这样称呼它们:</p><pre class="kj kk kl km gt ms mr mt mu aw mv bi"><span id="edea" class="mw lr it mr b gy mx my l mz na">process.env.VARIABLE_NAME</span></pre><h1 id="e353" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">第五步:真实的例子</h1><p id="3fe7" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">这是我的express服务器，我在其中使用数据库的URI:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><p id="26ef" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">本文到此为止，谢谢！</p><p id="3297" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我希望你和你的家人无论在哪里都平安无事！ </p><p id="c01c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> <em class="nb">坚持住。明天会更好！</em>T56】</strong></p><p id="913b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> FAM </strong></p><p id="5a64" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">关注我上</strong> <a class="ae nm" href="https://medium.com/@famzil/" rel="noopener"> <strong class="kw iu">中</strong> </a> <strong class="kw iu">，</strong><a class="ae nm" href="https://www.linkedin.com/in/fatima-amzil-9031ba95/" rel="noopener ugc nofollow" target="_blank"><strong class="kw iu">Linkedin</strong></a><strong class="kw iu">，</strong> <a class="ae nm" href="https://www.facebook.com/The-Front-End-World" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu">【脸书</strong> </a> <strong class="kw iu">，</strong><a class="ae nm" href="https://twitter.com/FatimaAMZIL9" rel="noopener ugc nofollow" target="_blank"><strong class="kw iu">Twitter</strong></a><strong class="kw iu">查看更多文章。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/707435193d16112305f9e742b8ab1689.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uXFG_R9BgzZQ_-McvtLTEw.png"/></div></div></figure></div></div>    
</body>
</html>