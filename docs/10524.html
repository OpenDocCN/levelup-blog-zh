<html>
<head>
<title>Read-only properties in Swift</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Swift中的只读属性</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/read-only-properties-in-swift-c90faa6f999e?source=collection_archive---------4-----------------------#2021-12-18">https://levelup.gitconnected.com/read-only-properties-in-swift-c90faa6f999e?source=collection_archive---------4-----------------------#2021-12-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="1edd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">什么是只读属性？如何用Swift编程语言创建一个？</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi kl"><img src="../Images/e157f22a40eef6455d9ef96fae171b0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*G8wa3HRjxwkHU7VOQC1CuA.png"/></div></figure><blockquote class="kt ku kv"><p id="5069" class="jn jo kw jp b jq jr js jt ju jv jw jx kx jz ka kb ky kd ke kf kz kh ki kj kk ij bi translated">只读意味着我们可以访问属性的值，但不能给它赋值。</p></blockquote><p id="6f21" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当我们向开发人员询问定义时，他们经常会混淆只读的<strong class="jp ir">和<strong class="jp ir">常量</strong>！</strong></p><h1 id="aca3" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">对只读属性的期望是什么？</h1><p id="0de0" class="pw-post-body-paragraph jn jo iq jp b jq ly js jt ju lz jw jx jy ma ka kb kc mb ke kf kg mc ki kj kk ij bi translated">让我们想象一个叫做加法的类，如下图所示</p><pre class="km kn ko kp gt md me mf mg aw mh bi"><span id="f992" class="mi lb iq me b gy mj mk l ml mm"><em class="kw">class Addition {<br/>  var lhs: Int = 0<br/>  var rhs: Int = 0<br/>  var sum: Int = 0<br/>}</em></span></pre><p id="6b6c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当您试图从该类的实例中打印属性“sum”时，控制台应该总是打印“lhs”和“rhs”的值的总和。打印sum一次后，如果我们更改“lhs”或“rhs”或两者的值，并再次打印“sum”的值，它应该会打印“lhs”和“rhs”的更新值。</p><p id="7fa3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">稍后，如果我们试图给“sum”赋值，比如</p><pre class="km kn ko kp gt md me mf mg aw mh bi"><span id="ead3" class="mi lb iq me b gy mj mk l ml mm"><em class="kw">var obj = Addition()<br/>obj.lhs = 10<br/>obj.rhs = 20<br/>print(obj.sum)</em></span><span id="349d" class="mi lb iq me b gy mn mk l ml mm"><em class="kw">obj.sum = 50 // compiler error here<br/>print(obj.sum)</em></span></pre><p id="2465" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这将导致编译器错误。</p><h1 id="53cc" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">创建只读属性</h1><p id="8d4f" class="pw-post-body-paragraph jn jo iq jp b jq ly js jt ju lz jw jx jy ma ka kb kc mb ke kf kg mc ki kj kk ij bi translated">只读属性<strong class="jp ir">在Swift中也称为<em class="kw">计算属性</em> </strong>。包括Swift在内的大多数编程语言都有“Getters &amp; Setters”的概念。</p><p id="5dc7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">默认情况下，您在Swift中创建的任何普通变量都有一个getter &amp; setter。因为这是内部发生的，所以我们不必担心。有时，开发人员会想要亲自动手，为他们的变量定义一个定制的getter &amp; setter。</p><pre class="km kn ko kp gt md me mf mg aw mh bi"><span id="4733" class="mi lb iq me b gy mj mk l ml mm"><em class="kw">var myValue: Int {<br/>  get {<br/>    return 10<br/>  }<br/>  set {<br/>    save(newValue)<br/>  }<br/>}</em></span></pre><blockquote class="kt ku kv"><p id="a2da" class="jn jo kw jp b jq jr js jt ju jv jw jx kx jz ka kb ky kd ke kf kz kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="iq">在swift中，我们可以通过只为一个变量定义一个getter来创建一个只读属性。意思是没有二传手！</em>T13】</strong></p></blockquote><pre class="km kn ko kp gt md me mf mg aw mh bi"><span id="163b" class="mi lb iq me b gy mj mk l ml mm">v<em class="kw">ar sum: Int {<br/>  get {<br/>    return lhs + rhs<br/>  }<br/>} </em></span></pre><p id="4f92" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">由于变量只有一个getter，所以当我们试图给“sum”赋值时，编译器会抛出一个错误。</p><p id="1d0e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">借助Swift的新更新，您甚至可以减少像这样输入的行数:</p><pre class="km kn ko kp gt md me mf mg aw mh bi"><span id="12c1" class="mi lb iq me b gy mj mk l ml mm"><em class="kw">var sum: Int {<br/>  lhs + rhs<br/>}</em></span></pre><h1 id="bbdc" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">提问时间！</h1><p id="1dc9" class="pw-post-body-paragraph jn jo iq jp b jq ly js jt ju lz jw jx jy ma ka kb kc mb ke kf kg mc ki kj kk ij bi translated">尝试在Objective C 中创建一个<strong class="jp ir">只读属性。如果你有答案，请回复！</strong></p></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><h2 id="95c3" class="mi lb iq bd lc mv mw dn lg mx my dp lk jy mz na lo kc nb nc ls kg nd ne lw nf bi translated">奖金！</h2><h1 id="a316" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">什么是常数？</h1><blockquote class="kt ku kv"><p id="f62e" class="jn jo kw jp b jq jr js jt ju jv jw jx kx jz ka kb ky kd ke kf kz kh ki kj kk ij bi translated"><strong class="jp ir">常量是程序在正常执行过程中不应改变的值。</strong></p></blockquote><p id="fee2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在swift中，我们可以通过使用“<strong class="jp ir"> let </strong>关键字来创建一个常量值。例如:</p><pre class="km kn ko kp gt md me mf mg aw mh bi"><span id="916e" class="mi lb iq me b gy mj mk l ml mm"><em class="kw">let aConstant = 10</em></span></pre><h1 id="1da9" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">关于我</h1><blockquote class="kt ku kv"><p id="f784" class="jn jo kw jp b jq jr js jt ju jv jw jx kx jz ka kb ky kd ke kf kz kh ki kj kk ij bi translated"><strong class="jp ir">查:【https://about.me/chandrachudhk】<em class="iq"/><a class="ae ng" href="https://about.me/chandrachudhk" rel="noopener ugc nofollow" target="_blank"><em class="iq"/></a></strong></p></blockquote><h2 id="7679" class="mi lb iq bd lc mv mw dn lg mx my dp lk jy mz na lo kc nb nc ls kg nd ne lw nf bi translated">这是给你的甜甜圈！</h2><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="ni nj di nk bf nl"><div class="gh gi nh"><img src="../Images/ac51f8a13e63a8e24ae985c4f4543a7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*_a1Lm-U7KsvmzPcm_H24kg.gif"/></div></div></figure></div></div>    
</body>
</html>