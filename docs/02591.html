<html>
<head>
<title>Tab bar navigation in Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">颤振中的标签栏导航</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/tab-bar-navigation-in-flutter-5363e5ee8a60?source=collection_archive---------2-----------------------#2020-03-24">https://levelup.gitconnected.com/tab-bar-navigation-in-flutter-5363e5ee8a60?source=collection_archive---------2-----------------------#2020-03-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="1ac8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这篇文章中，我将介绍使用底部标签栏导航的基础知识。到本文结束时，您将拥有一个在不同屏幕之间导航的基本应用程序。</p><div class="ko kp kq kr gt ab cb"><figure class="ks kt ku kv kw kx ky paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><img src="../Images/5f077fcaf0961ec1e45478e04d81b624.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*WGxbVEOtThN4veDkYq2ijQ.png"/></div></figure><figure class="ks kt ku kv kw kx ky paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><img src="../Images/06641f4af6ae7f3a2d405508e8b4a92b.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*iP7NmD03EV7G9CJNMMVSVA.png"/></div></figure><figure class="ks kt ku kv kw kx ky paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><img src="../Images/6453084884a487cc201a5cba2a8f3a29.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*eilWuF93AKWSiDotXrbz2w.png"/></div></figure></div><h1 id="d9fa" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">入门指南</h1><p id="a651" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">创建一个新的颤振项目。清除<em class="mi"> main.dart </em>文件中的所有内容。</p><p id="4659" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在在我们的fresh clean文件中，导入材料组件:</p><pre class="ko kp kq kr gt mj mk ml mm aw mn bi"><span id="4281" class="mo lg it mk b gy mp mq l mr ms">import 'package:flutter/material.dart';</span></pre><p id="111e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">定义应用程序的入口点:</p><pre class="ko kp kq kr gt mj mk ml mm aw mn bi"><span id="ad6b" class="mo lg it mk b gy mp mq l mr ms">void main(){</span><span id="9575" class="mo lg it mk b gy mt mq l mr ms">  runApp(MyApp());</span><span id="1dcc" class="mo lg it mk b gy mt mq l mr ms">}</span></pre><p id="df18" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">此时，您肯定会得到一个错误，并且由于显而易见的原因，您的文件中没有名为<em class="mi"> MyApp() </em>的内容。</p><p id="c963" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们继续定义一个有状态的小部件MyApp()。</p><pre class="ko kp kq kr gt mj mk ml mm aw mn bi"><span id="bc47" class="mo lg it mk b gy mp mq l mr ms">class MyApp extends StatefulWidget {</span><span id="977e" class="mo lg it mk b gy mt mq l mr ms">    @override _MyAppState createState() =&gt; _MyAppState();</span><span id="4443" class="mo lg it mk b gy mt mq l mr ms">}</span><span id="632d" class="mo lg it mk b gy mt mq l mr ms">class _MyAppState extends State&lt;MyApp&gt; {</span><span id="eec1" class="mo lg it mk b gy mt mq l mr ms">    @override Widget build(BuildContext context) {</span><span id="9cd5" class="mo lg it mk b gy mt mq l mr ms">        return MaterialApp(</span><span id="3732" class="mo lg it mk b gy mt mq l mr ms">            debugShowCheckedModeBanner: false,</span><span id="3158" class="mo lg it mk b gy mt mq l mr ms">            home: Scaffold(),</span><span id="881e" class="mo lg it mk b gy mt mq l mr ms">         );</span><span id="4d79" class="mo lg it mk b gy mt mq l mr ms">    }</span><span id="4f16" class="mo lg it mk b gy mt mq l mr ms">}</span></pre><p id="eb6a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你现在有一个空白的白色屏幕。太好了！</p><h1 id="a3b6" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">屏幕</h1><p id="15b2" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">现在让我们从屏幕开始。</p><p id="4eda" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了简单起见，我所有的屏幕都是白色背景，屏幕号在中间。</p><p id="1f78" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我将在返回它们的值的函数中定义它们。</p><p id="a4e0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">屏幕1:</p><pre class="ko kp kq kr gt mj mk ml mm aw mn bi"><span id="6c62" class="mo lg it mk b gy mp mq l mr ms">screen1() {</span><span id="12b6" class="mo lg it mk b gy mt mq l mr ms">    return Center(child: Text('Screen 1'),);</span><span id="b1b5" class="mo lg it mk b gy mt mq l mr ms">}</span></pre><p id="2798" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">同样，屏幕2和屏幕3:</p><pre class="ko kp kq kr gt mj mk ml mm aw mn bi"><span id="19aa" class="mo lg it mk b gy mp mq l mr ms">screen2() {</span><span id="c694" class="mo lg it mk b gy mt mq l mr ms">    return Center(child: Text('Screen 2'),);</span><span id="e19d" class="mo lg it mk b gy mt mq l mr ms">}</span><span id="ed70" class="mo lg it mk b gy mt mq l mr ms">screen3() {</span><span id="6a96" class="mo lg it mk b gy mt mq l mr ms">    return Center(child: Text('Screen 3'),);</span><span id="b8c2" class="mo lg it mk b gy mt mq l mr ms">}</span></pre><p id="e135" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在我们有三个屏幕可以在应用程序的入口点之间导航，让我们继续导航:</p><h1 id="b9f9" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">底部导航栏</h1><p id="128d" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated"><em class="mi">脚手架</em>小部件有一个名为<em class="mi"> bottomNavigationBar </em>的参数。</p><p id="66e5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个参数需要一个类型为<em class="mi"> BottomNavigationBar </em>的值，它有自己的一些参数。最基本的有<em class="mi"> currentIndex、onTap </em>和<em class="mi"> items </em>。</p><p id="c92e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="mi">当前索引</em> </strong>表示当前正在显示的屏幕的索引。所以，一个<em class="mi"> int </em>值。</p><p id="c3ef" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="mi"> onTap </em> </strong>跟踪当前显示的小工具。</p><p id="f0c5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="mi">项</em> </strong>是<em class="mi">BottomNavigationBarItem</em>的列表。这些项目的数量将等于屏幕的数量。永远！</p><p id="e4fe" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在让我们在_MyAppState类中定义所有这些参数的值。</p><pre class="ko kp kq kr gt mj mk ml mm aw mn bi"><span id="bf6d" class="mo lg it mk b gy mp mq l mr ms">int index = 0;</span><span id="4684" class="mo lg it mk b gy mt mq l mr ms">List&lt;Widget&gt; _widgets = [</span><span id="b926" class="mo lg it mk b gy mt mq l mr ms">    screen1(),</span><span id="e1ec" class="mo lg it mk b gy mt mq l mr ms">    screen2(),</span><span id="39e7" class="mo lg it mk b gy mt mq l mr ms">    screen3()</span><span id="f79e" class="mo lg it mk b gy mt mq l mr ms">];</span><span id="3bdc" class="mo lg it mk b gy mt mq l mr ms">tapped(int tappedIndex){</span><span id="2a5b" class="mo lg it mk b gy mt mq l mr ms">    setState(() {</span><span id="ea3f" class="mo lg it mk b gy mt mq l mr ms">        index = tappedIndex;</span><span id="5a0c" class="mo lg it mk b gy mt mq l mr ms">    });</span><span id="9454" class="mo lg it mk b gy mt mq l mr ms">}</span></pre><p id="618d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">变量<em class="mi"> index </em>设置为0，所以用户看到的第一个屏幕是<em class="mi"> screen1 </em>。</p><p id="9617" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="mi"> _widgets </em>是一个Widget数组，定义了所有的Widget。</p><p id="631a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">函数<em class="mi"> tapped() </em>采用int类型的值，并更改<em class="mi">索引</em>变量的值。但最重要的是，通过<em class="mi"> setState() </em>函数。尝试在不使用setState()函数的情况下改变索引，看看会发生什么，但是要等到最后。</p><p id="eb7b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在我们已经有了所有的值，让我们在<em class="mi">底部导航栏的</em>参数中使用它们。</p><pre class="ko kp kq kr gt mj mk ml mm aw mn bi"><span id="79cc" class="mo lg it mk b gy mp mq l mr ms">currentIndex: index,</span><span id="81f1" class="mo lg it mk b gy mt mq l mr ms">onTap: tapped,</span></pre><p id="9db5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="mi">项目</em>是<em class="mi">BottomNavigationBarItem</em>的列表，不是<em class="mi"> Widget </em>的列表。所以<em class="mi">物品</em>绝对不能等于<em class="mi"> _widgets </em>。</p><p id="dd2c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="mi">项目</em>是出现在底部的内容，图标和包含图标的文本。</p><p id="937f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">items数组中的每个元素都是一个<em class="mi"> BottomNavigationBarItem。</em>这个<em class="mi"> BottomNavigationBarItem </em>有两个强制属性，<em class="mi">图标</em>和<em class="mi">标题</em>。</p><pre class="ko kp kq kr gt mj mk ml mm aw mn bi"><span id="ca51" class="mo lg it mk b gy mp mq l mr ms">items: [</span><span id="2a76" class="mo lg it mk b gy mt mq l mr ms">    BottomNavigationBarItem(icon: new Icon(Icons.looks_one), title: Text('One')),</span><span id="6ac5" class="mo lg it mk b gy mt mq l mr ms">    BottomNavigationBarItem(icon: new Icon(Icons.looks_two), title: Text('Two')),</span><span id="ba09" class="mo lg it mk b gy mt mq l mr ms">    BottomNavigationBarItem(icon: new Icon(Icons.looks_3), title: Text('Three')),</span><span id="480b" class="mo lg it mk b gy mt mq l mr ms">],</span></pre><p id="594e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">此时，您的应用程序应该看起来像这样:</p><figure class="ko kp kq kr gt kt gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/251b7704206ddeee8697de3e3743fdb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/format:webp/1*YfkRyxmYgvY5ThttfT6iAw.png"/></div></figure><p id="c390" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是不管你点击哪个底部的项目，屏幕都是空白的。</p><h1 id="3b54" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">卡弗德车身</h1><p id="9b00" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">我们有屏幕，有导航栏，也有应用程序的入口点。但是我们还没有指定这些屏幕将在哪里显示。</p><p id="0156" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们的绞刑架需要一具尸体！</p><p id="497b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">回到支架上，在身体参数中，</p><pre class="ko kp kq kr gt mj mk ml mm aw mn bi"><span id="3075" class="mo lg it mk b gy mp mq l mr ms">body: _widgets[index]</span></pre><p id="9b4e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们的Scaffold body将成为一个小部件，这取决于所选择的底部导航栏项目。</p><p id="acbb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">保存文件并再次运行。</p><figure class="ko kp kq kr gt kt gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/a32f236e3b4182f1f30784572737dee7.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/format:webp/1*WGxbVEOtThN4veDkYq2ijQ.png"/></div><figcaption class="nd ne gj gh gi nf ng bd b be z dk translated">屏幕1</figcaption></figure><p id="f799" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是一个功能齐全的应用程序，底部有一个导航栏。</p><p id="1ae8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">继续用你选择的东西替换简单的屏幕部件。</p><p id="de36" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果您的应用程序无法运行，请查看以下代码:</p><pre class="ko kp kq kr gt mj mk ml mm aw mn bi"><span id="1c62" class="mo lg it mk b gy mp mq l mr ms">import 'package:flutter/material.dart';</span><span id="9f6b" class="mo lg it mk b gy mt mq l mr ms"><br/>void main() {runApp(MyApp());}</span><span id="aeb7" class="mo lg it mk b gy mt mq l mr ms">class MyApp extends StatefulWidget {</span><span id="ab0f" class="mo lg it mk b gy mt mq l mr ms">    @override _MyAppState createState() =&gt; _MyAppState();</span><span id="46c9" class="mo lg it mk b gy mt mq l mr ms">}</span><span id="28be" class="mo lg it mk b gy mt mq l mr ms">class _MyAppState extends State&lt;MyApp&gt; {</span><span id="763e" class="mo lg it mk b gy mt mq l mr ms">    int index = 0;</span><span id="f1c0" class="mo lg it mk b gy mt mq l mr ms">    List&lt;Widget&gt; _widgets = [screen1(), screen2(), screen3()];</span><span id="4d73" class="mo lg it mk b gy mt mq l mr ms">    tapped(int tappedIndex) {</span><span id="c673" class="mo lg it mk b gy mt mq l mr ms">        setState(() {index = tappedIndex;});</span><span id="6239" class="mo lg it mk b gy mt mq l mr ms">    }</span><span id="f763" class="mo lg it mk b gy mt mq l mr ms">    @override Widget build(BuildContext context) {</span><span id="485f" class="mo lg it mk b gy mt mq l mr ms">        return MaterialApp(</span><span id="cb5d" class="mo lg it mk b gy mt mq l mr ms">            debugShowCheckedModeBanner: false,</span><span id="108a" class="mo lg it mk b gy mt mq l mr ms">            home: Scaffold(</span><span id="5295" class="mo lg it mk b gy mt mq l mr ms">                body: _widgets[index],</span><span id="d627" class="mo lg it mk b gy mt mq l mr ms">                bottomNavigationBar: BottomNavigationBar(</span><span id="2ff4" class="mo lg it mk b gy mt mq l mr ms">                currentIndex: index,</span><span id="12eb" class="mo lg it mk b gy mt mq l mr ms">                onTap: tapped,</span><span id="291a" class="mo lg it mk b gy mt mq l mr ms">                items: [</span><span id="ca16" class="mo lg it mk b gy mt mq l mr ms">                    BottomNavigationBarItem(icon: new Icon(Icons.looks_one), title: Text('One')),</span><span id="1b6f" class="mo lg it mk b gy mt mq l mr ms">                    BottomNavigationBarItem(icon: new Icon(Icons.looks_two), title: Text('Two')),</span><span id="a2b6" class="mo lg it mk b gy mt mq l mr ms">                    BottomNavigationBarItem(icon: new Icon(Icons.looks_3), title: Text('Three')),</span><span id="de62" class="mo lg it mk b gy mt mq l mr ms">                 ],</span><span id="f93d" class="mo lg it mk b gy mt mq l mr ms">             ),</span><span id="21a9" class="mo lg it mk b gy mt mq l mr ms">         ),</span><span id="8207" class="mo lg it mk b gy mt mq l mr ms">     );</span><span id="8aec" class="mo lg it mk b gy mt mq l mr ms">   }</span><span id="ffd6" class="mo lg it mk b gy mt mq l mr ms">}</span><span id="3d9d" class="mo lg it mk b gy mt mq l mr ms">screen1() {</span><span id="e07c" class="mo lg it mk b gy mt mq l mr ms">    return Center(child: Text('Screen 1'),);</span><span id="4b2c" class="mo lg it mk b gy mt mq l mr ms">}</span><span id="a6c5" class="mo lg it mk b gy mt mq l mr ms">screen2() {</span><span id="5d21" class="mo lg it mk b gy mt mq l mr ms">    return Center(child: Text('Screen 2'),);</span><span id="b3f8" class="mo lg it mk b gy mt mq l mr ms">}</span><span id="2c28" class="mo lg it mk b gy mt mq l mr ms">screen3() {</span><span id="8287" class="mo lg it mk b gy mt mq l mr ms">    return Center(child: Text('Screen 3'),);</span><span id="df26" class="mo lg it mk b gy mt mq l mr ms">}</span></pre></div></div>    
</body>
</html>