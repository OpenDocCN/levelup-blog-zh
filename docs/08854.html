<html>
<head>
<title>Deploying a WordPress site over AWS using RDS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用RDS在AWS上部署WordPress站点</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/deploying-a-wordpress-site-over-aws-using-rds-b2e5e62902c9?source=collection_archive---------7-----------------------#2021-06-12">https://levelup.gitconnected.com/deploying-a-wordpress-site-over-aws-using-rds-b2e5e62902c9?source=collection_archive---------7-----------------------#2021-06-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/efc269cc7b67d35636d950f36a8defda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/0*k4E8tZNPKrXpGgU1.png"/></div></figure><p id="b732" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">WordPress是一个非常受欢迎的内容管理系统(CMS ),互联网上超过30%的网站都在使用它。它最常用于博客，但也可以用于运行电子商务网站、留言板和许多其他流行的用例。</p><p id="d248" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir"> MySQL </strong>是一个开源的关系数据库管理系统(RDBMS ),可以在本地或通过托管提供商的云轻松实现和管理。</p><p id="c5eb" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">有了Amazon RDS for MySQL，我们可以实现自动备份和恢复，这样您就不会在发生事故时丢失数据；定期更新和补丁，保持您的数据库安全和高性能，易于安装智能默认参数。</p><p id="a044" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在这篇博客中，我们将看到如何使用Amazon RDS for MySQL来配置WordPress安装。要配置这个WordPress站点，您将在AWS中创建以下资源:</p><ul class=""><li id="da81" class="ks kt iq jw b jx jy kb kc kf ku kj kv kn kw kr kx ky kz la bi translated">安装和托管WordPress应用程序的Amazon EC2实例；</li><li id="6cd8" class="ks kt iq jw b jx lb kb lc kf ld kj le kn lf kr kx ky kz la bi translated">一个Amazon RDS for MySQL数据库来存储你的WordPress数据。</li></ul><p id="fe01" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">首先，我们需要启动AWS EC2实例，如下所示:</p><div class="lg lh li lj gt ab cb"><figure class="lk jr ll lm ln lo lp paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><img src="../Images/b899a91588d9d1a3d14f95ada55693d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*L_3nm5M-t1iOOplLS3iF6A.png"/></div></figure><figure class="lk jr ll lm ln lo lp paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><img src="../Images/116e323abb435be58ab4ce67adc09641.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*NK3cayTjmBETHuAJZqdpbg.png"/></div></figure></div><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="gh gi lu"><img src="../Images/d70e5da8d2a6374d889044f7ce130db4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Id4rLEVpafhvx0ovI2Xxsg.png"/></div></div><figcaption class="lv lw gj gh gi lx ly bd b be z dk translated">ec2发布</figcaption></figure><p id="2020" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我在这里使用所有默认配置启动实例，在“配置安全性”部分允许所有流量(这在实际用例场景中确实不是一个好的做法)，选择一个密钥对，然后启动我的ec2实例。</p><p id="9ca1" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">WordPress(软件)是一个网络应用程序。要在任何机器上运行WordPress，我们需要安装Apache、PHP和MySQL。因此，一旦实例启动，我们就可以连接到实例并在那里进行一些配置。使用sudo切换到root帐户(这也不是一个好的做法),并在那里运行以下命令:</p><pre class="lg lh li lj gt lz ma mb mc aw md bi"><span id="37a5" class="me mf iq ma b gy mg mh l mi mj">$ yum install httpd -y<br/>$ yum install mysql -y</span></pre><p id="cde7" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">WordPress是用PHP编写的，我们需要在实例上安装PHP，使用:</p><pre class="lg lh li lj gt lz ma mb mc aw md bi"><span id="5aa0" class="me mf iq ma b gy mg mh l mi mj">$ amazon-linux-extras enable php7.4<br/>$ yum install php-cli php-pdo php-fpm php-json php-mysqlnd</span></pre><p id="30dc" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">然后进入文档根目录，/var/www/html，下载WordPress文件并解压。</p><pre class="lg lh li lj gt lz ma mb mc aw md bi"><span id="ca33" class="me mf iq ma b gy mg mh l mi mj">$ wget http://wordpress.org/latest.tar.gz<br/>$ tar -xzf latest.tar.gz</span></pre><p id="a0ff" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">最后，启动httpd服务并使其永久化:</p><pre class="lg lh li lj gt lz ma mb mc aw md bi"><span id="c592" class="me mf iq ma b gy mg mh l mi mj">$ systemctl start httpd<br/>$ systemctl enable httpd</span></pre><div class="lg lh li lj gt ab cb"><figure class="lk jr mk lm ln lo lp paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><img src="../Images/91689a9aae05815d132b2f2d460c8901.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*hht0lN9p3uYnJiLcul9Zxg.png"/></div></figure><figure class="lk jr ml lm ln lo lp paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><img src="../Images/0126e008eea3b8f751895713d4a0f130.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*CAyb9DQUuY5A1GrhpEAV4Q.png"/></div></figure></div><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="gh gi mm"><img src="../Images/92bc5b68aef6d59914fccb1e511ae5a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0Piu1aa-k3jRuAr1XjlCgA.png"/></div></div></figure><p id="ced9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">WordPress使用MySQL来存储这些内容，所以这里我们使用Amazon RDS for MySQL。您可以创建多个WordPress安装，连接到RDS上的一个MySQL实例，允许您水平扩展您的站点。</p><p id="ea50" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这里，我使用一个标准的创建和免费层来启动MySQL。我已经提供了主用户名和密码以及初始数据库名(在附加配置中)。</p><div class="lg lh li lj gt ab cb"><figure class="lk jr ll lm ln lo lp paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><img src="../Images/dc1d47f1d7264f1972d2da90a134af4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*X5tP-lDkuvGrQNmNWlkOiw.png"/></div></figure><figure class="lk jr ll lm ln lo lp paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><img src="../Images/9cfa211c2fe6e6581024827ccc00562d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*ads6U6pO5Y6JwHlSA8_opA.png"/></div></figure></div><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="gh gi lu"><img src="../Images/df4fe95fc7a24cacb61acc22bbbf18b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oieudN-KVEY3_8nPFkw3Bg.png"/></div></div></figure><p id="fde5" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在，我们可以使用以下命令通过EC2实例登录到我们的数据库:</p><pre class="lg lh li lj gt lz ma mb mc aw md bi"><span id="c818" class="me mf iq ma b gy mg mh l mi mj">$ mysql -h &lt;endpoint&gt; -u &lt;username&gt; -p</span></pre><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="gh gi mm"><img src="../Images/ec53b7a809eab2d0d255901cdf947500.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4lF1xBv6BGxoTpdnFdGziQ.png"/></div></div></figure><p id="9222" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在浏览器中输入ec2实例的IP地址，通过输入初始数据库名称、用户名、密码和数据库的DNS端点来打开WordPress配置菜单。</p><div class="lg lh li lj gt ab cb"><figure class="lk jr ll lm ln lo lp paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><img src="../Images/bf4177313ba95e009fe83f41d7dd297b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*wxoOCjx0HBMjc4c_c08o0Q.png"/></div></figure><figure class="lk jr ll lm ln lo lp paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><img src="../Images/e07f22ae438ba69cc1cc2db692af581f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*UlCNL1KN3lTOpE2PALOUMg.png"/></div></figure></div><p id="86e0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在在提交之后，你可以编辑/var/www/html文件夹中的<em class="mn">wp-config-sample.php</em>的内容，并通过提供用户名、密码、数据库名称等来更新它，或者通过复制WordPress页面中显示的内容来直接覆盖它的内容。完成后，将文件重命名为wp-config.php<strong class="jw ir"><em class="mn"/></strong>，然后点击“运行安装程序”并使用以下命令重启httpd服务:</p><pre class="lg lh li lj gt lz ma mb mc aw md bi"><span id="3e91" class="me mf iq ma b gy mg mh l mi mj">systemctl restart httpd</span></pre><p id="dbc0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在到了有趣的部分——去玩你的新网站吧。配置设计，添加页面和帖子，并开始让用户访问您的网站。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="gh gi lu"><img src="../Images/65ed93dc7618a4dea9334f38a4a3ff94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GsUVA2F6cXV89mOqGKM9_w.png"/></div></div></figure><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="gh gi lu"><img src="../Images/6925fcf3f5148ee127818ef28c1137f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G122ntFqbFYXzNic_e15Fw.png"/></div></div></figure><div class="lg lh li lj gt ab cb"><figure class="lk jr ll lm ln lo lp paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><img src="../Images/19454ccb356a1d707722c24ae8b99987.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*3ThrdXN6f08iF0fyT-Iymw.png"/></div></figure><figure class="lk jr ll lm ln lo lp paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><img src="../Images/10f06fa8b8c03f448819bb822fd75231.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*KvWFWrmoV_qLOifZOzaKTg.png"/></div></figure></div><blockquote class="mo mp mq"><p id="a128" class="ju jv mn jw b jx jy jz ka kb kc kd ke mr kg kh ki ms kk kl km mt ko kp kq kr ij bi translated">这就是所有的人…谢谢你的阅读:)</p><p id="d604" class="ju jv mn jw b jx jy jz ka kb kc kd ke mr kg kh ki ms kk kl km mt ko kp kq kr ij bi translated">这项任务是与Prithviraj Singh合作完成的，因此我要感谢他一直以来的帮助和指导。-</p></blockquote></div></div>    
</body>
</html>