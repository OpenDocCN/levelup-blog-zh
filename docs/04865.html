<html>
<head>
<title>After Effect Animations in React Native with Lottie 🧨</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">洛蒂·🧨在《原生反应》中的特效动画</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/after-effect-animations-in-react-native-with-lottie-abe939a6bdb8?source=collection_archive---------12-----------------------#2020-07-20">https://levelup.gitconnected.com/after-effect-animations-in-react-native-with-lottie-abe939a6bdb8?source=collection_archive---------12-----------------------#2020-07-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="20dd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">洛蒂允许我们在手机和网络上自然地渲染后效动画</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/a4f159e6cddc12300eaf84349490a399.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GmTlrZseDI98FH0DrIlo5g.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">Unsplash: <a class="ae lb" href="https://dribbble.com/yoga" rel="noopener ugc nofollow" target="_blank">瑜伽Perdana </a></figcaption></figure><h1 id="4b46" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">介绍</h1><p id="af27" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">动画有助于使你的应用程序更加动态，更加用户友好。您可能知道，使用Adobe After Effect创建动画视频是可能的。</p><p id="8f62" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为什么不将这些动画集成到我们的应用程序中呢？</p><p id="77a5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这时洛蒂来帮助我们😎。</p><h2 id="6066" class="mf ld iq bd le mg mh dn li mi mj dp lm jy mk ml lq kc mm mn lu kg mo mp ly mq bi translated">洛蒂是什么？</h2><p id="4996" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">Lottie是一个库，允许我们在iOS、Android、React Native等中添加动画。</p><p id="2ee5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Lottie的主要目标是通过使用JSON文件将After Effects动画集成到我们的应用程序中(我们不会看到如何从AE传递到JSON文件。你可以在这里看到它<a class="ae lb" href="https://github.com/airbnb/lottie-web" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="0010" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本文中，我们将在空白的<a class="ae lb" href="https://expo.io/" rel="noopener ugc nofollow" target="_blank"> Expo </a> app中添加动画。</p><h1 id="e930" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">设置</h1><p id="d843" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">在使用Lottie之前，我们需要在我们的项目中安装这个包:</p><p id="f17a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在项目的根目录下，运行:</p><pre class="km kn ko kp gt mr ms mt mu aw mv bi"><span id="5723" class="mf ld iq ms b gy mw mx l my mz">yarn add lottie-react-native<br/>yarn add lottie-ios@3.1.3</span></pre><p id="4e63" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">添加软件包后，我们需要安装iOS依赖项:</p><pre class="km kn ko kp gt mr ms mt mu aw mv bi"><span id="a95e" class="mf ld iq ms b gy mw mx l my mz">cd ios<br/>pod install</span></pre><p id="990c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在洛蒂应该安装了🛠</p></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h1 id="4b3c" class="lc ld iq bd le lf nh lh li lj ni ll lm ln nj lp lq lr nk lt lu lv nl lx ly lz bi translated">使用动画</h1><p id="c8ec" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">如前所述，洛蒂使用JSON文件来运行我们的动画。在本文中，我们将从<a class="ae lb" href="https://lottiefiles.com/" rel="noopener ugc nofollow" target="_blank">lotti files</a>下载它。</p><p id="0eda" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下载后，您需要将它放在项目文件夹中。然后我们可以像这样使用文件:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nm nn l"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">App.tsx</figcaption></figure><p id="038e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我的情况下，我在我的应用程序上得到它:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi no"><img src="../Images/1a1fbea22dbc3d896bed32a1aa5ae0ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/1*rhhjvy4DiyWSIFclFywPyg.gif"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated"><a class="ae lb" href="https://lottiefiles.com/26973-earth-moon" rel="noopener ugc nofollow" target="_blank">洛蒂菲莱斯:潘吉维卡索诺</a></figcaption></figure><h2 id="f096" class="mf ld iq bd le mg mh dn li mi mj dp lm jy mk ml lq kc mm mn lu kg mo mp ly mq bi translated">以编程方式播放/暂停动画</h2><p id="8a25" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">LottieView为我们提供了一个<strong class="jp ir">命令式API </strong>，让我们按照自己的意愿<strong class="jp ir">播放</strong>和<strong class="jp ir">暂停</strong>动画。</p><p id="fc2b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，我们需要向视图传递一个引用，并调用不同的方法，如下所示:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nm nn l"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">App.tsx</figcaption></figure><p id="18c4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">添加播放/暂停后，我们会看到:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi no"><img src="../Images/498640bb6f2fd7dc2f8a4d2865f289e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/1*RUZJLLYsg8KM-97c5K-hFQ.gif"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated"><a class="ae lb" href="https://lottiefiles.com/26973-earth-moon" rel="noopener ugc nofollow" target="_blank">洛蒂菲莱斯:潘吉维卡索诺</a></figcaption></figure><p id="9ce9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，举例来说，当用户完成一个动作，组件已经安装，等等，就可以开始你的动画了。(其他方法可在<a class="ae lb" href="https://github.com/react-native-community/lottie-react-native/blob/master/docs/api.md" rel="noopener ugc nofollow" target="_blank">文档</a>中找到)</p></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h1 id="ee10" class="lc ld iq bd le lf nh lh li lj ni ll lm ln nj lp lq lr nk lt lu lv nl lx ly lz bi translated">结论</h1><p id="0662" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">现在，你可以在你的应用程序中实现动画，让她更有活力。</p><p id="647e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">GitLab回购:<a class="ae lb" href="https://dmg.link/blog-lottie-repo" rel="noopener ugc nofollow" target="_blank">dmg.link/blog-lottie-repo</a>。</p><p id="1280" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">你可以在这里</strong>  <strong class="jp ir">找到我的其他文章并关注我</strong> <a class="ae lb" href="https://medium.com/@nicolas_dmg" rel="noopener"> <strong class="jp ir">。感谢阅读，我希望你今天学到了一些新东西🚀</strong></a></p></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><div class="km kn ko kp gt np"><a rel="noopener  ugc nofollow" target="_blank" href="/automate-your-react-native-app-with-fastlane-ea516b4a893"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd ir gy z fp nu fr fs nv fu fw ip bi translated">使用浪子自动化您的React原生应用程序</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">简化截图、测试版部署、应用商店部署和React原生应用的登录🚀</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="ny l"><div class="nz l oa ob oc ny od kv np"/></div></div></a></div><div class="oe of gp gr og np"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-sign-in-with-apple-on-react-native-4c445de5ff8c"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd ir gy z fp nu fr fs nv fu fw ip bi translated">如何在React Native上“登录苹果”</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">在React Native和Node.js上使用Apple认证用户的简单指南</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="ny l"><div class="oh l oa ob oc ny od kv np"/></div></div></a></div></div></div>    
</body>
</html>