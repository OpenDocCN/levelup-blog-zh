<html>
<head>
<title>Flutter: Use Platform Widgets to Adopt Native Look and Feel</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Flutter:使用平台小部件来采用原生外观和感觉</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/flutter-use-platform-widgets-to-adopt-native-look-feel-c12bec89fffb?source=collection_archive---------1-----------------------#2020-06-10">https://levelup.gitconnected.com/flutter-use-platform-widgets-to-adopt-native-look-feel-c12bec89fffb?source=collection_archive---------1-----------------------#2020-06-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/e07b2cac784896875fc98b7b623e1437.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kzYJXg_FcdKcNRE7yRP3mQ.jpeg"/></div></div></figure><div class=""/><p id="087e" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">就最终产品质量而言，我不太相信跨平台UI会成为现实(顺便说一句，我认为现实可能是Kotlin多平台逻辑+原生UI层)，如果我们谈论快速原型化和部署，没有人会怀疑像Flutter或React Native这样的工具确实有效。</p><p id="97b0" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">尤其是Flutter，它能帮助你用几行代码就能实现一个好看的材质设计应用。但是一个物质应用不是也永远不会是一个真正的iOS应用，所以你需要使用<a class="ae kw" href="https://flutter.dev/docs/development/ui/widgets/cupertino" rel="noopener ugc nofollow" target="_blank"> Cupertino widgets </a>复制大量代码。如果有一个包可以使用自适应小部件，那不是很好吗？</p><h2 id="12d5" class="kx ky jb bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated">平台部件</h2><p id="8e00" class="pw-post-body-paragraph jy jz jb ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">那个包是存在的，而且是<code class="fe lv lw lx ly b"><a class="ae kw" href="https://pub.dev/packages/flutter_platform_widgets" rel="noopener ugc nofollow" target="_blank">flutter_platform_widgets</a></code>。您可以在<code class="fe lv lw lx ly b">pubspec.yaml</code>文件中轻松安装它:</p><figure class="lz ma mb mc gt is"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="10ba" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">主要的构建模块是<code class="fe lv lw lx ly b">PlatformWidget</code>，它是一个小部件，能够感知目标平台的外观。</p><figure class="lz ma mb mc gt is"><div class="bz fp l di"><div class="md me l"/></div></figure><figure class="lz ma mb mc gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mf"><img src="../Images/f27c24be75376687769ba4696f92930a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZRxJsooX4fo7L2eCcJv7rA.png"/></div></div></figure><p id="c521" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">平台部件包公开了许多有用的自适应部件，所有东西都列在<a class="ae kw" href="https://github.com/stryder-dev/flutter_platform_widgets/blob/master/README.md" rel="noopener ugc nofollow" target="_blank">项目的read me </a>中。</p><h2 id="ed2e" class="kx ky jb bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated">将材料应用程序迁移到自适应应用程序</h2><p id="661a" class="pw-post-body-paragraph jy jz jb ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">先说一个典型的素材app，有一个抽屉，app栏下面有一些内容。</p><figure class="lz ma mb mc gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mg"><img src="../Images/78e084ae534b4a366c1732ea95405246.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aUE-lwQhtM1wO5XpxWCyvg.png"/></div></div></figure><p id="2321" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如你所见，这不是iOS的正确外观。让我们在内容中使用自适应小部件。</p><figure class="lz ma mb mc gt is"><div class="bz fp l di"><div class="md me l"/></div></figure><figure class="lz ma mb mc gt is gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/2c8428d4bd11fad72a3576ca78340eaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:266/format:webp/1*DttZzq1NbGRskMUCBU5BqQ.png"/></div></figure><p id="1100" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">瞧啊！你想要一个更大的旋转器吗？没问题:</p><figure class="lz ma mb mc gt is"><div class="bz fp l di"><div class="md me l"/></div></figure><figure class="lz ma mb mc gt is gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/9cea764e31cec7da0e8d5d7ba72df958.png" data-original-src="https://miro.medium.com/v2/resize:fit:330/format:webp/1*TRsw07udvqFR2ZhtKy_aKg.png"/></div></figure><p id="9e37" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们试着给应用程序栏一个更自然的外观。</p><figure class="lz ma mb mc gt is"><div class="bz fp l di"><div class="md me l"/></div></figure><figure class="lz ma mb mc gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mj"><img src="../Images/4bdafa511bf06d5ecdf0dbd1f9e65fba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*85opIWX0QA9rniDd8BwJ8A.png"/></div></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk translated">开发技巧:将PlatformApp包含在PlatformProvider小部件中可能会很有用，以便能够通过initialPlatform属性在不同的环境中强制使用平台。</figcaption></figure><p id="69e0" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如你所见，我们在iOS中丢失了抽屉。那是因为<code class="fe lv lw lx ly b">CupertinoApp</code>不支持，所以必须指示<code class="fe lv lw lx ly b">PlatformScaffold</code>在物质环境中继续使用。这是正确的，因为苹果不鼓励汉堡菜单反模式。相反，您希望有一个标签栏。</p><figure class="lz ma mb mc gt is"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="2d59" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后…什么也没发生！平台小部件包忽略了此属性。显然它是故意这样做的:</p><blockquote class="mo mp mq"><p id="b98e" class="jy jz mr ka b kb kc kd ke kf kg kh ki ms kk kl km mt ko kp kq mu ks kt ku kv ij bi translated">这个库的目的是在ios和android之间提供一个类似的接口。<br/>—<a class="ae kw" href="https://github.com/stryder-dev/flutter_platform_widgets/issues/72#issuecomment-531204229" rel="noopener ugc nofollow" target="_blank">https://github . com/stry der-dev/flutter _ platform _ widgets/issues/72 # issue comment-531204229</a></p></blockquote><h2 id="f1fa" class="kx ky jb bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated">使用不同的范例</h2><p id="79dc" class="pw-post-body-paragraph jy jz jb ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">所以我们要直接用<code class="fe lv lw lx ly b">PlatformWidget</code>来达到想要的结果。</p><figure class="lz ma mb mc gt is"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="f386" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe lv lw lx ly b">MaterialLayout</code>是一个小型无状态小部件，用于封装素材布局:</p><figure class="lz ma mb mc gt is"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="7e22" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">请注意，我并没有在这里定义一个应用程序栏，而是委托给<code class="fe lv lw lx ly b">AppContent</code>小部件中的真实页面。如果我处理抽屉选择，这个小部件的复杂性会增加。</p><p id="aa39" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe lv lw lx ly b">TabbedLayout</code>有点复杂，因为为Cupertino范式定义了选项卡栏:</p><figure class="lz ma mb mc gt is"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="c5c1" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">请注意特定于平台的图标的用法，并且每个选项卡都描述了一个独立的导航器，即使用户在选项卡之间切换，导航器也会保留导航堆栈。</p><p id="95fd" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe lv lw lx ly b">AppContent</code> widget现在输出一个<code class="fe lv lw lx ly b">PlatformScaffold</code>，带有UI的公共部分:</p><figure class="lz ma mb mc gt is"><div class="bz fp l di"><div class="md me l"/></div></figure><figure class="lz ma mb mc gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mv"><img src="../Images/c8b4dd2ec3136245a6f3ba3bf97d1bdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0sXcT7MWxigR1sN7Al0_tw.png"/></div></div></figure><h2 id="4433" class="kx ky jb bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated">导航到第二个屏幕</h2><p id="06f1" class="pw-post-body-paragraph jy jz jb ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">支持开箱即用的导航。您只需在<code class="fe lv lw lx ly b">Navigator.push()</code>调用中使用<code class="fe lv lw lx ly b">platformPageRoute()</code>:</p><figure class="lz ma mb mc gt is"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="c3a8" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe lv lw lx ly b">Details</code>是一个简单的无状态小部件，它构建了一个<code class="fe lv lw lx ly b">PlatformScaffold</code>:</p><figure class="lz ma mb mc gt is"><div class="bz fp l di"><div class="md me l"/></div></figure><figure class="lz ma mb mc gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mw"><img src="../Images/3ded32fa7f41e650a2282978ac63c4fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ifpjQYEsi1-CvFlF100Ang.png"/></div></div></figure><h2 id="49b9" class="kx ky jb bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated">主题</h2><p id="56b5" class="pw-post-body-paragraph jy jz jb ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">您还可以指定不同的应用程序级主题:</p><figure class="lz ma mb mc gt is"><div class="bz fp l di"><div class="md me l"/></div></figure><figure class="lz ma mb mc gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mx"><img src="../Images/2d1369a48207911afc1089a82a72d505.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j6_lMTHcwvPKlk2QDDC0rw.png"/></div></div></figure><p id="5ebf" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后你可以调整一些特定的颜色，层次更深。例如，禁用的选项卡颜色不可读:</p><figure class="lz ma mb mc gt is"><div class="bz fp l di"><div class="md me l"/></div></figure><figure class="lz ma mb mc gt is gh gi paragraph-image"><div class="gh gi my"><img src="../Images/e390a7c7587ef109bc64b2a97ffbd1d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*Uus6IyVPdSAklvCW85WZAQ.png"/></div></figure></div><div class="ab cl mz na hu nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ij ik il im in"><div class="lz ma mb mc gt ng"><a href="https://skilled.dev" rel="noopener  ugc nofollow" target="_blank"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd jc gy z fp nl fr fs nm fu fw ja bi translated">编写面试问题</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">一个完整的平台，在这里我会教你找到下一份工作所需的一切，以及…</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">技术开发</p></div></div><div class="np l"><div class="nq l nr ns nt np nu ix ng"/></div></div></a></div></div></div>    
</body>
</html>