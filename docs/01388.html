<html>
<head>
<title>React Hooks + MobX TodoList</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React Hooks + MobX TodoList</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/react-hooks-mobx-todolist-c138eb4f3d04?source=collection_archive---------0-----------------------#2019-12-21">https://levelup.gitconnected.com/react-hooks-mobx-todolist-c138eb4f3d04?source=collection_archive---------0-----------------------#2019-12-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f31230fe43bf9f14a1c08afae7c7f3b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RAPSFZoRKs_gKRcBkdyB1A.jpeg"/></div></div></figure><p id="5d4e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ä»Šå¤©æˆ‘ä»¬è¦ç”¨React Hookså’ŒMobXå†™ä¸€ä¸ªç®€å•çš„å¾…åŠäº‹é¡¹åˆ—è¡¨ã€‚</p><p id="726e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æˆ‘å°†ä¸ºä¸ç†Ÿæ‚‰è¿™äº›åº“çš„äººæä¾›ä¸€ä¸ªç®€çŸ­çš„ä»‹ç»ã€‚å¦‚æœä½ å·²ç»çŸ¥é“äº†ï¼Œå¯ä»¥è·³è¿‡è¿™ä¸€èŠ‚ã€‚</p><h2 id="ea89" class="kw kx iq bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated"><a class="ae lp" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank">ååº”è¿‡æ¥</a></h2><p id="b2a6" class="pw-post-body-paragraph jy jz iq ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">ä¸€ä¸ªç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„JavaScriptåº“ï¼Œç”±è„¸ä¹¦åœ¨2013å¹´æ¨å‡ºï¼Œç”¨äºåˆ›å»ºwebåº”ç”¨ç¨‹åºçš„UIã€‚ä¸Angularå’ŒVueä¸åŒï¼ŒReactä¸æ˜¯ä¸€ä¸ªæ¡†æ¶ï¼Œåªæä¾›æ˜¾ç¤ºUIç»„ä»¶çš„å·¥å…·ã€‚</p><h2 id="b705" class="kw kx iq bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated"><a class="ae lp" href="https://reactjs.org/docs/hooks-intro.html" rel="noopener ugc nofollow" target="_blank">ååº”é’©</a></h2><p id="ff39" class="pw-post-body-paragraph jy jz iq ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">å¯¹äºå·²ç»äº†è§£Reactçš„äººæ¥è¯´ï¼ŒHooksæ˜¯åŠŸèƒ½ç»„ä»¶çš„å¢å¼ºï¼Œæ›´å¤šè¯¦ç»†ä¿¡æ¯å¯ä»¥åœ¨é“¾æ¥ä¸­é˜…è¯»ã€‚</p><h2 id="be34" class="kw kx iq bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated"><a class="ae lp" href="https://mobx.js.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="ak"> MobX </strong> </a></h2><p id="e10b" class="pw-post-body-paragraph jy jz iq ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">MobXæ˜¯ä¸€ä¸ªä¹…ç»è€ƒéªŒçš„åº“ï¼Œå®ƒé€šè¿‡é€æ˜åœ°åº”ç”¨å‡½æ•°å¼ååº”å¼ç¼–ç¨‹(TFRP)ä½¿çŠ¶æ€ç®¡ç†å˜å¾—ç®€å•å’Œå¯ä¼¸ç¼©ã€‚MobXèƒŒåçš„ç†å¿µéå¸¸ç®€å•(æ¥è‡ªæ–‡æ¡£)ã€‚</p><p id="d34a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æ—¢ç„¶æˆ‘ä»¬çŸ¥é“äº†è¦ç”¨ä»€ä¹ˆï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹è¿™ä¸ªé¡¹ç›®äº†ã€‚</p></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><p id="b09f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">è®©æˆ‘ä»¬æ‰“å¼€ä¸€ä¸ªæ–°çš„reacté¡¹ç›®ï¼Œæœ‰ä¸€ä¸ªåä¸º<a class="ae lp" href="https://create-react-app.dev/docs/adding-typescript/" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir">Create React App</strong></a>çš„å¤§å‹å¯åŠ¨é¡¹ç›®ï¼Œå—ç¤¾åŒºæ”¯æŒï¼Œå…·æœ‰å¯åŠ¨æ–°React Appæ‰€éœ€çš„æ‰€æœ‰åŠŸèƒ½ã€‚(é…ç½®ä¸€ä¸ªæ–°çš„Reacté¡¹ç›®å¯èƒ½éœ€è¦æ—¶é—´ï¼Œæ‰€ä»¥æœ‰è¿™ä¸ªæ ·æ¿æ–‡ä»¶å¾ˆå¥½)ã€‚æˆ‘ä»¬ä¹Ÿå°†ä¸ºæ­¤ä½¿ç”¨TypeScript:)</p><p id="5d0d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æ‰“å¼€ç»ˆç«¯ï¼Œå†™ä¸‹ä»¥ä¸‹å‘½ä»¤:</p><ul class=""><li id="052b" class="mc md iq ka b kb kc kf kg kj me kn mf kr mg kv mh mi mj mk bi translated">ç”¨typescriptå®‰è£…create-react-app</li><li id="d4d1" class="mc md iq ka b kb ml kf mm kj mn kn mo kr mp kv mh mi mj mk bi translated">å®‰è£…typescriptæ‰€éœ€çš„ç±»å‹(åœ¨devDependenciesä¸‹ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨è¿è¡Œæ—¶ä¸ä½¿ç”¨å®ƒä»¬)</li><li id="b57e" class="mc md iq ka b kb ml kf mm kj mn kn mo kr mp kv mh mi mj mk bi translated">å®‰è£…mobxåŠå…¶è¿æ¥è¿›è¡Œååº”</li></ul><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="844d" class="kw kx iq mv b gy mz na l nb nc">npx create-react-app my-app --template typescript</span><span id="afef" class="kw kx iq mv b gy nd na l nb nc">npm install --save-dev typescript @types/node @types/react @types/react-dom @types/jest</span><span id="ddad" class="kw kx iq mv b gy nd na l nb nc">npm i mobx mobx-react-lite</span></pre><p id="f2c5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">MobXä½¿ç”¨decoratorsï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨tsconfigä¸­æ·»åŠ ä¸‹ä¸€è¡Œ<code class="fe ne nf ng mv b">"experimentalDecorators": true</code>ã€‚</p></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><p id="40e2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">è®©æˆ‘ä»¬å»ºç«‹æˆ‘ä»¬çš„mobxå•†åº—ï¼Œå¹¶å°†å…¶è¿æ¥åˆ°æˆ‘ä»¬çš„reacté¡¹ç›®ã€‚æˆ‘ä»¬çš„ç¬¬ä¸€æ­¥æ˜¯:</p><ul class=""><li id="f186" class="mc md iq ka b kb kc kf kg kj me kn mf kr mg kv mh mi mj mk bi translated">åˆ›å»ºTodoListå’ŒTodoItem</li><li id="26c3" class="mc md iq ka b kb ml kf mm kj mn kn mo kr mp kv mh mi mj mk bi translated">åˆ›å»ºä¸Šä¸‹æ–‡å¹¶å°†æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸å…¶æä¾›å•†åŒ…è£…åœ¨ä¸€èµ·ï¼Œä»¥å…±äº«mobxå•†åº—</li><li id="47e5" class="mc md iq ka b kb ml kf mm kj mn kn mo kr mp kv mh mi mj mk bi translated">åˆ›å»ºä¸€ç§ä»ä¸Šä¸‹æ–‡ä¸­è·å–å­˜å‚¨çš„æ–¹æ³•</li></ul><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="369c" class="kw kx iq mv b gy mz na l nb nc">export class TodoList {<br/>    @<strong class="mv ir"><em class="nh">observable</em></strong>.shallow list: TodoItem[] = [];<br/><br/>    constructor(todos: string[]) {<br/>        todos.forEach(this.addTodo);<br/>    }<br/><br/>    @action<br/>    addTodo = (text: string) =&gt; {<br/>        this.list.push(new TodoItem(text));<br/>    }<br/><br/>    @action<br/>    removeTodo = (todo: TodoItem) =&gt; {<br/>        this.list.splice(this.list.indexOf(todo), 1);<br/>    };<br/><br/>    @computed<br/>    get finishedTodos(): TodoItem[] {<br/>        return this.list.filter(todo =&gt; todo.isDone);<br/>    }<br/><br/>    @computed<br/>    get openTodos(): TodoItem[] {<br/>        return this.list.filter(todo =&gt; !todo.isDone);<br/>    }<br/>}</span></pre><p id="71f1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æˆ‘ä»¬åˆ›å»ºäº†ä¿å­˜<code class="fe ne nf ng mv b">TodoItem</code>çš„<code class="fe ne nf ng mv b">@observable</code>æ•°ç»„çš„<code class="fe ne nf ng mv b">TodoList</code>ç±»ã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä»¬ç»™å®ƒèµ‹äº†ä¸€ä¸ªåˆå§‹å€¼ï¼Œå¹¶ä½¿å¯è§‚å¯Ÿå€¼å˜æµ…ï¼Œè¿™æ ·å®ƒå°±ä¸ä¼šè‡ªå·±åŒ…è£…æ•°ç»„ä¸­çš„å€¼ã€‚æˆ‘ä»¬è®©å®ƒæ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„æ¥åˆå§‹åŒ–æˆ‘ä»¬çš„åˆ—è¡¨ï¼Œå¹¶æ·»åŠ ä¸¤ä¸ªç®€å•çš„å‡½æ•°addå’Œremoveï¼Œæˆ‘ä»¬å¯¹åŠ¨ä½œä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œå› ä¸ºæˆ‘ä»¬ä¾èµ–äº<code class="fe ne nf ng mv b">this</code>ï¼Œæˆ‘ä»¬ä¸æƒ³åœ¨å¯¹getterå‡½æ•°æ‰§è¡ŒåŠ¨ä½œ<code class="fe ne nf ng mv b">todos.forEach(this.addTodo)</code>æ—¶ä¸¢å¤±ä¸Šä¸‹æ–‡ï¼Œæˆ‘ä»¬ä¸ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œå› ä¸ºæˆ‘ä»¬åªå°†å®ƒç”¨ä½œgetterã€‚</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="9edd" class="kw kx iq mv b gy mz na l nb nc">export default class TodoItem {<br/>    id = <strong class="mv ir"><em class="nh">Date</em></strong>.now();<br/><br/>    @observable text: string = '';<br/>    @observable isDone: boolean = false;<br/><br/>    constructor(text: string) {<br/>        this.text = text;<br/>    }<br/><br/>    @action<br/>    toggleIsDone = () =&gt; {<br/>        this.isDone = !this.isDone<br/>    }<br/><br/>    @action<br/>    updateText = (text: string) =&gt; {<br/>        this.text = text;<br/>    }<br/>}</span></pre><p id="5a54" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç®€å•çš„<code class="fe ne nf ng mv b">TodoItem</code>ç±»ï¼Œç»™å®ƒ2ä¸ªå¯è§‚å¯Ÿçš„æ–‡æœ¬å±æ€§å’Œ<code class="fe ne nf ng mv b">isDone</code>ä»¥åŠ2ä¸ªå‡½æ•°æ¥åˆ‡æ¢å®ƒçš„çŠ¶æ€å’Œæ›´æ–°æ–‡æœ¬ã€‚</p><p id="95c2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ç°åœ¨æˆ‘ä»¬å°†ä½¿ç”¨<a class="ae lp" href="https://reactjs.org/docs/context.html#reactcreatecontext" rel="noopener ugc nofollow" target="_blank">ååº”ä¸Šä¸‹æ–‡</a>ã€‚å®ƒå…è®¸æˆ‘ä»¬åœ¨æä¾›è€…å†…éƒ¨çš„æ‰€æœ‰Reactç»„ä»¶ä¹‹é—´å…±äº«æ•°æ®ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨Reactä¸­çš„<code class="fe ne nf ng mv b">createContext</code>åˆ›å»ºä¸Šä¸‹æ–‡ï¼Œå¹¶å‘å…¶ä¼ é€’ä¸€ä¸ªç©ºå¯¹è±¡çš„é»˜è®¤å€¼ï¼Œå¹¶ä¸ºå…¶åˆ†é…æˆ‘ä»¬çš„å­˜å‚¨ç±»å‹<code class="fe ne nf ng mv b">TodoList</code>(é€šå¸¸åœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œå®ƒå¯ä»¥æ˜¯æ ¹å­˜å‚¨)ã€‚</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="2156" class="kw kx iq mv b gy mz na l nb nc">import { createContext } from 'react';<br/>import {TodoList} from "../stores/todo-list";<br/><br/>export const <strong class="mv ir"><em class="nh">StoreContext </em></strong>= createContext&lt;TodoList&gt;({} as TodoList);<br/>export const <strong class="mv ir"><em class="nh">StoreProvider </em></strong>= <strong class="mv ir"><em class="nh">StoreContext</em></strong>.Provider;</span></pre><p id="18d5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æˆ‘ä»¬è½¬åˆ°æˆ‘ä»¬çš„<code class="fe ne nf ng mv b">index.tsx</code>æ–‡ä»¶ï¼Œåˆ›å»ºæˆ‘ä»¬çš„todoåˆ—è¡¨å­˜å‚¨ï¼Œå¹¶ç”¨ä»æˆ‘ä»¬çš„ä¸Šä¸‹æ–‡ä¸­è·å¾—çš„æä¾›è€…åŒ…è£…or <code class="fe ne nf ng mv b">&lt;App /&gt;</code>ç»„ä»¶ï¼Œå¹¶å°†todo listä½œä¸ºå€¼ä¼ é€’ç»™å®ƒã€‚</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="b108" class="kw kx iq mv b gy mz na l nb nc">const todoList = new TodoList([<br/>    'Should Starting Writing in React',<br/>    'Should Learn MobX',<br/>    'Should Watch Once Piece :)'<br/>]);<br/><br/>ReactDOM.<strong class="mv ir"><em class="nh">render</em></strong>(<br/>    &lt;StoreProvider value={todoList}&gt;<br/>        &lt;App/&gt;<br/>    &lt;/StoreProvider&gt;<br/>    , <strong class="mv ir"><em class="nh">document</em></strong>.getElementById('root'));</span></pre><p id="6a3c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æœ€åï¼Œæˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ªå‡½æ•°æ¥å¸®åŠ©æˆ‘ä»¬è·å–Reactå‡½æ•°ä¸­çš„å­˜å‚¨ã€‚ä½¿ç”¨<code class="fe ne nf ng mv b">useContext</code> Reactæä¾›ç»™æˆ‘ä»¬ï¼Œæˆ‘ä»¬å°†ä¹‹å‰åˆ›å»ºçš„ä¸Šä¸‹æ–‡ä¼ é€’ç»™å®ƒï¼Œå¹¶æ¥æ”¶æˆ‘ä»¬æä¾›çš„å€¼(todoList)ã€‚</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="08ab" class="kw kx iq mv b gy mz na l nb nc">export const useStore = (): TodoList =&gt; useContext(<strong class="mv ir"><em class="nh">StoreContext</em></strong>);</span></pre></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><p id="fab4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ç°åœ¨æˆ‘ä»¬å¯ä»¥å¼€å§‹ç¼–å†™æˆ‘ä»¬çš„react hooksç»„ä»¶äº†ğŸ†ã€‚æˆ‘ä»¬å°†åˆ›å»º3ä¸ªç»„ä»¶:</p><ul class=""><li id="dfac" class="mc md iq ka b kb kc kf kg kj me kn mf kr mg kv mh mi mj mk bi translated">æ‰˜å¤šåˆ©æ–¯ç‰¹</li><li id="57db" class="mc md iq ka b kb ml kf mm kj mn kn mo kr mp kv mh mi mj mk bi translated">æ‰˜å¤šä¼Šæ³°å§†</li><li id="265c" class="mc md iq ka b kb ml kf mm kj mn kn mo kr mp kv mh mi mj mk bi translated">æ‰˜å¤šçº½</li></ul><p id="359e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æˆ‘ä»¬å°†ä»<code class="fe ne nf ng mv b">TodoList</code>å¼€å§‹:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="cae1" class="kw kx iq mv b gy mz na l nb nc">export const TodoList = () =&gt; {<br/>    const todoList = useStore();<br/><br/>    return useObserver(() =&gt; (<br/>        &lt;div className="todo-list"&gt;<br/>            &lt;div className="open-todos"&gt;<br/>                &lt;span&gt;Open Todos&lt;/span&gt;<br/>                {todoList.openTodos.map(todo =&gt; &lt;TodoItem key={`${todo.id}-${todo.text}`} todo={todo}/&gt;)}<br/>            &lt;/div&gt;<br/>            &lt;div className="finished-todos"&gt;<br/>                &lt;span&gt;Finished Todos&lt;/span&gt;<br/>                {todoList.finishedTodos.map(todo =&gt; &lt;TodoItem key={`${todo.id}-${todo.text}`} todo={todo}/&gt;)}<br/>            &lt;/div&gt;<br/>        &lt;/div&gt;<br/>    ));<br/>};</span></pre><p id="604b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æˆ‘ä»¬ä½¿ç”¨æˆ‘ä»¬çš„åŠ©æ‰‹å‡½æ•°<code class="fe ne nf ng mv b">useStore</code>æ¥æ£€ç´¢todoListï¼Œç„¶åæˆ‘ä»¬ç®€å•åœ°ä»todoåˆ—è¡¨å­˜å‚¨çš„è®¡ç®—å€¼ä¸­è¿”å›ä¸¤ä¸ªå·²å®Œæˆå’Œæœªå®Œæˆçš„todoåˆ—è¡¨ã€‚</p><p id="76c6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">é‡è¦çš„æ˜¯ä½¿ç”¨è¿™é‡Œçš„<code class="fe ne nf ng mv b">useObserver</code> from <code class="fe ne nf ng mv b">mobx-react-lite</code>æ¥åŒ…è£…è¿”å›å€¼ï¼Œè®©mobxçŸ¥é“è·Ÿè¸ªé‡Œé¢çš„å¯è§‚å¯Ÿå€¼ã€‚å¦åˆ™ï¼Œå¦‚æœä½ è¯•å›¾ä»å¤–éƒ¨æ›´æ–°åˆ—è¡¨ï¼Œå®ƒå°†æ— æ³•å·¥ä½œ(ä½ å¯ä»¥åœ¨è¿™é‡Œé˜…è¯»æ›´å¤šç›¸å…³ä¿¡æ¯<a class="ae lp" href="https://mobx-react.js.org/observe-how" rel="noopener ugc nofollow" target="_blank">https://mobx-react.js.org/observe-how</a>)ã€‚</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="15f4" class="kw kx iq mv b gy mz na l nb nc">export const TodoItem = ({todo}: Props) =&gt; {<br/>    const todoList = useStore();<br/>    const [newText, setText] = useState('');<br/>    const [isEditing, setEdit] = useState(false);<br/><br/>    const saveText = () =&gt; {<br/>      todo.updateText(newText);<br/>      setEdit(false);<br/>      setText('');<br/>    };<br/><br/>    return (<br/>        &lt;div className="todo-item"&gt;<br/>            {<br/>                isEditing ?<br/>                    &lt;div&gt;<br/>                        &lt;input type="text" onKeyDown={onEnterPress(saveText)} onChange={(e) =&gt; setText(e.target.value)}/&gt;<br/>                        &lt;button onClick={saveText}&gt;save&lt;/button&gt;<br/>                    &lt;/div&gt;<br/>                    :<br/>                    &lt;div&gt;<br/>                        &lt;span&gt;{todo.text}&lt;/span&gt;<br/>                        &lt;input type="checkbox" onChange={todo.toggleIsDone} defaultChecked={todo.isDone}&gt;&lt;/input&gt;<br/>                        &lt;button onClick={() =&gt; setEdit(true)}&gt;edit&lt;/button&gt;<br/>                        &lt;button onClick={() =&gt; todoList.removeTodo(todo)}&gt;X&lt;/button&gt;<br/>                    &lt;/div&gt;<br/>            }<br/>        &lt;/div&gt;<br/>    )<br/>};</span></pre><p id="b481" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æˆ‘ä»¬åˆ›å»º<code class="fe ne nf ng mv b">TodoItem</code>ï¼Œå®ƒæ¥æ”¶propsä¸­todoçš„mobxç±»æ¨¡å‹ã€‚æˆ‘ä»¬ä¸ºç»„ä»¶æä¾›äº†ç¼–è¾‘ã€åˆ é™¤å’Œæ›´æ–°æ–‡æœ¬çš„åŸºæœ¬åŠŸèƒ½ã€‚è¿™é‡Œé‡è¦çš„äº‹æƒ…æ˜¯çœ‹æˆ‘ä»¬å¦‚ä½•è®©todoæ›´æ–°æ–‡æœ¬æœ¬èº«ï¼Œå¹¶ä¸”ä¸éœ€è¦ä¸ºæ­¤æ›´æ–°æ•´ä¸ªåˆ—è¡¨(æˆ‘æ·»åŠ äº†ä¸€ä¸ª<code class="fe ne nf ng mv b">onEnterPress</code>å¸®åŠ©å™¨å‡½æ•°æ¥ä½¿è¾“å…¥é”®çš„æ£€æŸ¥æ›´å®¹æ˜“)ï¼Œè¿™é‡Œæˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨<code class="fe ne nf ng mv b">useObserver</code>ï¼Œå› ä¸ºåœ¨<code class="fe ne nf ng mv b">TodoList</code>ä¸­å·²ç»è§‚å¯Ÿåˆ°äº†<code class="fe ne nf ng mv b">todo</code>ã€‚</p><p id="8fd9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æ‚¨å¯ä»¥åœ¨Githubåº“ä¸­çœ‹åˆ°çš„<code class="fe ne nf ng mv b">TodoNew</code>ç»„ä»¶ã€‚è¿™é‡Œå°±ä¸åŠ äº†ï¼Œå› ä¸ºæ¦‚å¿µå’Œä»£ç éƒ½ä¸€æ ·ã€‚</p><p id="67a1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Githubå›è´­:<a class="ae lp" href="https://github.com/stolenng/react-hooks-mobx" rel="noopener ugc nofollow" target="_blank">https://github.com/stolenng/react-hooks-mobx</a></p></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><p id="f0ba" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æ€»è€Œè¨€ä¹‹ï¼Œè¿™ä¸ªç®€å•çš„æŒ‡å—å±•ç¤ºäº†æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨<code class="fe ne nf ng mv b">mobx-react-lite</code>å°†<code class="fe ne nf ng mv b">react</code>å’Œ<code class="fe ne nf ng mv b">hooks</code>ä¸<code class="fe ne nf ng mv b">mobx</code>è¿æ¥èµ·æ¥ï¼Œæˆ‘è®¤ä¸ºReactå‡½æ•°ç»„ä»¶(é’©å­)ä¸mobxçš„è¿™ç§ç»“åˆäº§ç”Ÿäº†ä»¤äººæ•¬ç•çš„ä»£ç ï¼Œéå¸¸ç®€å•æ˜äº†ã€‚ä½ å¯ä»¥ç”¨å®ƒä½œä¸ºmobxçš„å¯åŠ¨é¡¹ç›®ï¼Œå¹¶æ ¹æ®ä½ çš„å–œå¥½è¿›è¡Œè°ƒæ•´ã€‚</p></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><p id="dba0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> <em class="nh"> 9/20æ›´æ–°</em> </strong></p><p id="025f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æˆ‘å‘å¸ƒäº†ä¸€ä¸ªå…³äºMobXçš„å¹¿æ³›è¯¾ç¨‹ï¼Œè¯·åœ¨è¿™é‡Œéšæ„æŸ¥çœ‹:</p><div class="ni nj gp gr nk nl"><a href="https://www.udemy.com/course/mobx-in-depth-with-react/?referralCode=B7FD24C7EB1A51684160" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd ir gy z fp nq fr fs nr fu fw ip bi translated">ä½¿ç”¨Reactæ·±å…¥ç ”ç©¶MobX(Hooks+TypeScript)</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">é«˜çº§è½¯ä»¶å¼€å‘äººå‘˜-æœåŠ¡äºä»¥è‰²åˆ—ç©ºå†›ä½œä¸ºä¸€ä¸ªè½¯ä»¶å¼€å‘äººå‘˜3å¹´-å·¥ä½œä½œä¸ºä¸€ä¸ªâ€¦</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">www.udemy.com</p></div></div><div class="nu l"><div class="nv l nw nx ny nu nz jw nl"/></div></div></a></div></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><p id="4580" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">å¦‚æœä»»ä½•äººæœ‰é—®é¢˜æˆ–è€…åªæ˜¯æƒ³è°ˆè®ºè¿™ä¸ªè¯é¢˜ï¼Œæ¬¢è¿PMæˆ‘:)</p><ul class=""><li id="0ce0" class="mc md iq ka b kb kc kf kg kj me kn mf kr mg kv mh mi mj mk bi translated"><a class="ae lp" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank">https://reactjs.org/</a></li><li id="f09d" class="mc md iq ka b kb ml kf mm kj mn kn mo kr mp kv mh mi mj mk bi translated"><a class="ae lp" href="https://mobx.js.org/" rel="noopener ugc nofollow" target="_blank">https://mobx.js.org/</a></li><li id="1dde" class="mc md iq ka b kb ml kf mm kj mn kn mo kr mp kv mh mi mj mk bi translated"><a class="ae lp" href="https://reactjs.org/docs/hooks-intro.html" rel="noopener ugc nofollow" target="_blank">https://reactjs.org/docs/hooks-intro.html</a></li><li id="f939" class="mc md iq ka b kb ml kf mm kj mn kn mo kr mp kv mh mi mj mk bi translated"><a class="ae lp" href="https://github.com/mobxjs/mobx-react-lite" rel="noopener ugc nofollow" target="_blank">https://github.com/mobxjs/mobx-react-lite</a></li><li id="d82a" class="mc md iq ka b kb ml kf mm kj mn kn mo kr mp kv mh mi mj mk bi translated"><a class="ae lp" href="https://reactjs.org/docs/context.html" rel="noopener ugc nofollow" target="_blank">https://reactjs.org/docs/context.html</a></li><li id="0ecc" class="mc md iq ka b kb ml kf mm kj mn kn mo kr mp kv mh mi mj mk bi translated"><a class="ae lp" href="https://mobx-react.js.org/observe-how" rel="noopener ugc nofollow" target="_blank">https://mobx-react.js.org/observe-how</a></li></ul></div></div>    
</body>
</html>