# ä½¿ç”¨ ElasticSearch å’Œ sist2 ç´¢å¼•å’Œæœç´¢æœ¬åœ°æ–‡ä»¶ä¸­çš„æ–‡æœ¬

> åŸæ–‡ï¼š<https://levelup.gitconnected.com/index-and-search-text-from-local-files-using-elasticsearch-and-sist2-c51f3a6f7b7c>

ä¸‹é¢è¿™ç¯‡æ–‡ç« è§£é‡Šäº†å¦‚ä½•å®‰è£…å’Œè¿è¡Œ [ElasticSearch](https://www.elastic.co/) å’Œ [sist2](https://github.com/simon987/sist2) æ¥ç´¢å¼•æ–‡ä»¶å’Œä½¿ç”¨ [Docker](https://www.docker.com/) æœç´¢ä½ çš„æœ¬åœ°æœºå™¨ã€‚ä»*ç´¢å¼•å†…å®¹ã€‚pdfï¼Œ*ã€‚pptxï¼Œ*ã€‚docx å’Œå…¶ä»–æ­¤ç±»æ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨æµè§ˆå™¨ç”¨æˆ·ç•Œé¢ä»æ–‡ä»¶å†…éƒ¨æœç´¢æ–‡æœ¬ã€‚

![](img/4edadbc1bf6136d13e0a5dd2298fdf83.png)

è‡³å°‘å¯¹æˆ‘æ¥è¯´ï¼Œè¿™ä¸€å ä¹¦çš„åŠ¨æœºæ˜¯ä¸ºäº†å‡†å¤‡è€ƒè¯•ã€‚ğŸ¤­æœ‰äº›è¯¾ç¨‹åˆ†äº«äº† 40+ã€‚æœ‰äº›æ–‡ä»¶è¶…è¿‡ 100 é¡µï¼Œæ‰€ä»¥ CTRL+F æ˜¯ä¸å¯èƒ½çš„ã€‚ä½†æ˜¯æˆ‘ä»ç„¶éœ€è¦å¿«é€Ÿæ‰¾åˆ°æ­£ç¡®çš„æ–‡ä»¶ï¼Œè¿™ä¸€ç‚¹ sist2 éå¸¸å¥½ï¼å®ƒç»™å‡ºäº†æ–‡ä»¶å’Œå†…å®¹çš„ä¸€ä¸ªå°é¢„è§ˆã€‚é€šè¿‡ web UI å¯ä»¥æ§åˆ¶è¿”å›æ–‡æœ¬çš„é•¿åº¦(è¯·çœ‹æŠ€å·§ 2)ã€‚

å½“ç„¶ï¼Œè¿™å¹¶ä¸æ„å‘³ç€è¿™æ˜¯è¯¥å·¥å…·çš„å”¯ä¸€ç”¨é€”ã€‚çœ‹çœ‹ sist2 æ–‡æ¡£ï¼Œå¯»æ‰¾ç´¢å¼•å…¶ä»–å†…å®¹çš„çµæ„Ÿã€‚

æˆ‘æŸ¥çœ‹äº†ä¸åŒçš„é€‰é¡¹æ¥ç´¢å¼•æœ¬åœ°æ–‡ä»¶å¹¶ä½¿å®ƒä»¬å¯è¢«æœç´¢ã€‚æˆ‘åœ¨ç½‘ä¸Šæ‰¾åˆ°äº†ä¸€äº›åº”ç”¨ç¨‹åºï¼Œä½†å¤§å¤šæ•°ä¼¼ä¹æ˜¯ä¸º Windows 98 è®¾è®¡çš„ã€‚æ­¤å¤–ï¼Œæˆ‘å¸Œæœ›è¿™ä¸ªå †æ ˆå¯ä»¥ä¸åŒå­¦å…±äº«(è¿™æ ·ä»–ä»¬ä¹Ÿå¯ä»¥åœ¨å¼€å·è€ƒè¯•ä¸­ä½¿ç”¨)ã€‚

# æˆ‘å°è¯•è¿‡çš„æ›¿ä»£æ–¹æ³•

[Fscrawler](https://fscrawler.readthedocs.io/en/latest/index.html) ä½¿ç”¨ ElasticSearch å’Œ [Kibana](https://www.elastic.co/what-is/kibana) ã€‚ğŸ¤”è™½ç„¶å®ƒæœ‰æ•ˆï¼Œä½†æˆ‘æœ€ç»ˆæ²¡æœ‰ä½¿ç”¨é‚£ä¸ªå †æ ˆã€‚è®© Fscrawler åœ¨ Windows ä¸Šå·¥ä½œå¾ˆéš¾ï¼Œå› ä¸ºéœ€è¦å†²çªçš„ç‰ˆæœ¬å’Œä¾èµ–å…³ç³»ã€‚å¦å¤–ï¼ŒKibana ç¬¬ä¸€æ¬¡å¯èƒ½æ²¡é‚£ä¹ˆç›´è§‚ã€‚æ­¤å¤–ï¼Œä¸æ”¯æŒæ–‡ä»¶ç¼©ç•¥å›¾ç”Ÿæˆï¼Œåœ¨ Kibana ä¸­è·å¾—æ›´å¤šæ–‡æœ¬é¢„è§ˆæˆ–é€šè¿‡ localhost é“¾æ¥æ‰“å¼€æ–‡ä»¶å¯¹æˆ‘æ¥è¯´æ˜¯å¤ªç»†ç²’åº¦çš„é…ç½®ã€‚

## æç¤º#1

å¼€å§‹ç´¢å¼•ä¹‹å‰ï¼Œè¯·å…ˆè½¬æ¢ã€‚docï¼Œã€‚pptx ç­‰ã€‚éœ€è¦å¤–éƒ¨å·¥å…·æ‰èƒ½æ‰“å¼€ä¸º. pdf çš„æ–‡ä»¶ç±»å‹ã€‚è¿™å…è®¸æ‚¨åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€æ–‡ä»¶ã€‚

![](img/032b8119e500c91bab45306aac88e486.png)

## æç¤º#2

åœ¨ sist2 UI ä¸­ï¼Œè¿›å…¥è®¾ç½®->ä»¥å­—ç¬¦ä¸ºå•ä½çªå‡ºæ˜¾ç¤ºä¸Šä¸‹æ–‡å¤§å°-ä»¥å¢åŠ æ–‡æœ¬é¢„è§ˆçš„é•¿åº¦ã€‚

![](img/f01a28e9a90f2503552aa2db6dd038f0.png)

# å¦‚ä½•ä½¿ç”¨

1.  å®‰è£… Docker
2.  ä¸‹è½½ start.bat å’Œ docker-compose.yml
3.  è¿è¡Œ start.bat

# æ¥æº

è¯´æ˜å’Œæºä»£ç å¯ä»¥åœ¨ GitHub[https://github.com/Nurech/sist2_index_files](https://github.com/Nurech/sist2_index_files)æ‰¾åˆ°

# CMD è„šæœ¬

![](img/5d74539fc03c423a30f2f8ae562843ed.png)![](img/f820b06f0150e02e03aec43e314ebe89.png)

åšåŸºæœ¬çš„æ–‡ä»¶å¤¹è®¾ç½®ï¼Œæå–å›¾åƒï¼Œç„¶åè¿è¡Œ Docker Composeã€‚å°†æ‚¨æƒ³è¦ç´¢å¼•çš„æ–‡ä»¶æ‹–åˆ°`\documents`æ–‡ä»¶å¤¹ä¸­ã€‚å®¹å™¨åªè¿è¡Œä¸€æ¬¡ï¼Œè¿™æ„å‘³ç€æ‰«æå°†ç´¢å¼•æ‚¨å½“å‰åœ¨ documents æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶ã€‚å¦‚æœæ‚¨å¸Œæœ›ç´¢å¼•å’Œæ‰«æåœ¨ä¸€å®šçš„æ—¶é—´é—´éš”å†…å·¥ä½œï¼Œæ‚¨å¿…é¡»è®¾ç½® [windows æœåŠ¡](https://stackoverflow.com/a/13294293/15439733)æ¥å®šæœŸè¿è¡Œæ‰§è¡Œç´¢å¼•å’Œæ‰«æå·¥ä½œçš„å®¹å™¨ã€‚

[https://raw . githubusercontent . com/Nurech/sis T2 _ index _ files/main/start . bat](https://raw.githubusercontent.com/Nurech/sist2_index_files/main/start.bat)

# Docker æ’°å†™

å¼€å§‹å †å  ElasticSearch å’Œ sist2 å›¾åƒã€‚

![](img/7fd166bdc23e83d7032de735eb5f064c.png)

1.  å¼€å§‹å¼¹æ€§æœç´¢
2.  æ‰«ææ–‡ä»¶å¹¶åˆ¶ä½œç´¢å¼•
3.  å‘ ElasticSearch å‘é€ç´¢å¼•
4.  å¯åŠ¨ web ç”¨æˆ·ç•Œé¢ä»¥æŸ¥çœ‹ç´¢å¼•æ–‡ä»¶

[https://raw . githubusercontent . com/Nurech/sis T2 _ index _ files/main/docker-compose . yml](https://raw.githubusercontent.com/Nurech/sist2_index_files/main/docker-compose.yml)

æ„Ÿè°¢é˜…è¯»ï¼