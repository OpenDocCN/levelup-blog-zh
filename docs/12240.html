<html>
<head>
<title>8 Mistakes That Every Python Programmer Should Avoid</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">每个Python程序员都应该避免的8个错误</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/8-mistakes-that-every-python-programmer-should-avoid-7acdf4e61dc7?source=collection_archive---------5-----------------------#2022-05-25">https://levelup.gitconnected.com/8-mistakes-that-every-python-programmer-should-avoid-7acdf4e61dc7?source=collection_archive---------5-----------------------#2022-05-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ee8e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">需要注意的Python错误</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/97d93e20d59a238b382ff3245d28d1c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*N-jO_xHF82UGk1Qj"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@raduflorin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">拉杜·弗罗林</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="9ea3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Python是一种简单易学的编程语言。许多初级程序员选择python作为他们的第一编程语言，因为它的语法简单，易于使用和应用。</p><p id="79a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然python是一种简单且用户友好的编程语言，但python程序员在编写代码时会犯一些常见的错误。这种常见的错误有时可能会破坏您的代码，因此最好提前了解这些错误。</p><p id="6844" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我总结了许多python程序员常犯的一些错误。我们开始吧！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="f232" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">1.迭代时修改列表</h2><p id="376b" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">迭代时修改列表/集合是一个非常糟糕的主意。在迭代时从列表中删除一个条目是许多程序员经常犯的错误。</p><p id="a1ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里有一个例子:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="ade7" class="mc md it nb b gy nf ng l nh ni">#Program to remove odd numbers from list<br/>odd = lambda x : bool(x % 2)</span><span id="9383" class="mc md it nb b gy nj ng l nh ni">numbers = [i for i in range(10)]<br/>for i in range(len(numbers)):<br/>   if odd(numbers[i]):<br/>      del numbers[i]    #deleting odd number while iteration</span></pre><p id="1d96" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">错误如下:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="2d66" class="mc md it nb b gy nf ng l nh ni">Traceback (most recent call last):<br/>  File "&lt;string&gt;", line 7, in &lt;module&gt;<br/>IndexError: list index out of range</span></pre><p id="12eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">解决方案:</strong></p><p id="33b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个错误可以通过使用列表理解来避免:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="b647" class="mc md it nb b gy nf ng l nh ni">odd = lambda x : bool(x % 2)</span><span id="afc4" class="mc md it nb b gy nj ng l nh ni">nums = [i for i in range(10)]<br/>nums[:] = [i for i in nums if not odd(i)]<br/>print(nums)</span></pre><h2 id="c529" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">2.模块名称冲突</h2><p id="a5bd" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">Python在包和库方面非常丰富。因此，您可能会遇到python模块的名称与Python标准库中同名模块的名称冲突。</p><p id="15c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，您的代码中可能有一个名为<code class="fe nk nl nm nb b">math.py</code>或<code class="fe nk nl nm nb b">email.py</code>的模块，这可能会与同名的标准库模块冲突。</p><p id="912f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这可能会导致一些具有挑战性的问题，比如假设您正在导入一个库，而这个库又试图导入模块的Python标准库版本。现在，由于您也有一个同名的模块，包可能会错误地导入您的模块版本，而不是Python标准库中的版本。</p><p id="4a83" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，您应该始终避免使用Python标准库中的模块名称，以避免任何歧义和冲突。</p><h2 id="cfd4" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">3.不关闭以前打开的文件</h2><p id="d7be" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">在python中，一旦对文件执行了所有特定的操作，并且现在不再需要对其进行操作，关闭打开的文件总是一个好的做法。</p><p id="e554" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请记住，打开的文件会占用您的系统资源，并且可能会被锁定，如果您在使用这些文件后不关闭它们，它们将继续使用系统资源，并可能会阻止其他程序使用这些资源。</p><p id="3d29" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了避免这种情况，在读取文件时使用<code class="fe nk nl nm nb b">with</code>总是一个好的做法。它总是会帮你关闭文件。</p><p id="4f88" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">举例:</strong></p><p id="2f4d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">而不是:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="fc21" class="mc md it nb b gy nf ng l nh ni">file = open('filename.txt', 'w')</span><span id="b76d" class="mc md it nb b gy nj ng l nh ni">file.write('new_data')</span><span id="5eeb" class="mc md it nb b gy nj ng l nh ni">file.close()</span></pre><p id="3714" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用这个:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="25ed" class="mc md it nb b gy nf ng l nh ni"><strong class="nb iu">with</strong> open('filename.txt', 'w') <strong class="nb iu">as</strong> file:<br/>    file.write('new_data')</span></pre><h2 id="3b0c" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">4.误解Python函数</h2><p id="abd2" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">Python有大量的内置函数。他们中的一些人可能做着同样的工作，但执行的方式不同。</p><p id="64d3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为程序员，我们需要理解一个特定的函数是如何工作的，因为使用错误的函数可能不会给我们预期的结果。</p><p id="1f05" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，在python中，为了对集合进行排序，我们有两个函数<code class="fe nk nl nm nb b">sort()</code>和<code class="fe nk nl nm nb b">sorted()</code>。这两个函数具有相同的功能，即对集合进行排序。但是这两个功能的工作方式不同。</p><p id="252d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">示例:</strong></p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="19ea" class="mc md it nb b gy nf ng l nh ni">list1 = [6, 1, 7, 2, 9, 5]<br/>print(list1.sort())</span><span id="6206" class="mc md it nb b gy nj ng l nh ni">list2 = [6, 2, 8, 5, 3, 11]<br/>print(sorted(list2))</span></pre><p id="4924" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">输出:</strong></p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="a4c2" class="mc md it nb b gy nf ng l nh ni"><strong class="nb iu">None</strong></span><span id="2ffb" class="mc md it nb b gy nj ng l nh ni"><strong class="nb iu">[2, 3, 5, 6, 8, 11]</strong></span></pre><p id="144b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，刚刚发生了什么？这两个函数都用于排序，但是<code class="fe nk nl nm nb b">sort()</code>的输出是None，而<code class="fe nk nl nm nb b">sorted()</code>打印排序后的列表。</p><p id="ed27" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，原因是<code class="fe nk nl nm nb b">sort()</code>执行就地排序(对原始序列进行更改)并返回none。而<code class="fe nk nl nm nb b">sorted()</code>总是返回一个排序后的列表，不对原始序列做任何改变。</p><h2 id="734b" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">5.误用_init_方法</h2><p id="fe41" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">在python中，<code class="fe nk nl nm nb b">_init_</code>方法是一个保留的方法，在Python类中用作构造函数。当python为一个新的类对象分配内存时，它被调用，并允许该对象初始化该类的属性。</p><p id="8d32" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此方法的目的是在创建类的对象时初始化该类的数据成员的值。但是，程序员有时使用这个方法返回值，这不是这个<code class="fe nk nl nm nb b">_init_</code>方法的目的，并且偏离了它的实际目的。</p><h2 id="ecdf" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">6.使用导入*</h2><p id="68c0" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">每当感觉懒惰时，许多程序员通常使用<code class="fe nk nl nm nb b">import *</code>从包中导入所有东西。</p><p id="0516" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种惰性导入被认为是一种不好的做法，原因有很多，比如:</p><ul class=""><li id="f457" class="nn no it lb b lc ld lf lg li np lm nq lq nr lu ns nt nu nv bi translated">它降低了代码的可读性，因为我们不知道导入的是什么，因此我们不能容易地识别某个函数是从哪个模块导入的。</li><li id="3bc8" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">由于<code class="fe nk nl nm nb b">import *</code>，覆盖某个变量/函数的风险始终存在。</li><li id="79df" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">污染名称空间，因为<code class="fe nk nl nm nb b">import *</code>导入名称空间中所有可能与用户定义的函数和类冲突的函数和类。</li></ul><p id="1c54" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">例如:</strong></p><p id="4e00" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<code class="fe nk nl nm nb b">import *</code>:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="2398" class="mc md it nb b gy nf ng l nh ni"><strong class="nb iu">from</strong> math <strong class="nb iu">import</strong> *</span><span id="2a5d" class="mc md it nb b gy nj ng l nh ni">print(floor(3.14))<br/>print(ceil(3.14))<br/>print(pi)</span></pre><blockquote class="ob oc od"><p id="a945" class="kz la oe lb b lc ld ju le lf lg jx lh of lj lk ll og ln lo lp oh lr ls lt lu im bi translated">更好的方法:</p></blockquote><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="f76d" class="mc md it nb b gy nf ng l nh ni"><strong class="nb iu">import</strong> math<br/><strong class="nb iu">from</strong> math <strong class="nb iu">import</strong> pi </span><span id="ee1e" class="mc md it nb b gy nj ng l nh ni">print(math.floor(3.14))<br/>print(math.ceil(3.14))<br/>print(pi)</span></pre><h2 id="64ff" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">7.不正确的缩进</h2><p id="f07e" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">就代码中的缩进而言，Python是一种非常严格的编程语言，因为它不使用或依赖括号来分隔代码块。与其他编程语言不同，在Python中，缩进比仅仅让代码看起来干净有用得多。</p><p id="a75b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，正确的缩进是必要的，否则即使一个缩进错误也会破坏你的代码并给你带来意想不到的结果。</p><p id="c8fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当您在代码中使用多个用户定义的函数时，正确的缩进变得更加重要，有时它可能不会给您带来缩进错误，但可能会导致代码中出现严重的bug。</p><h2 id="b5fd" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">8.未使用的库导入</h2><p id="13a3" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">通常，程序员在python文件的开头导入库，但从不在代码的后面使用它们。</p><p id="6a36" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种未使用的导入创建了一个不需要存在于代码中的依赖，并且它也使得理解代码变得困难，因为我们不知道这些导入的库在哪里被使用。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="1b15" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">结论</h2><p id="cba1" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">这就是这篇文章的全部内容。在本文中，我们讨论了python程序员会犯的一些常见错误。实践和动手处理这些错误，让你的编码生活变得简单和没有错误。</p><p id="d244" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><blockquote class="ob oc od"><p id="5b36" class="kz la oe lb b lc ld ju le lf lg jx lh of lj lk ll og ln lo lp oh lr ls lt lu im bi translated"><em class="it">在你走之前……</em></p></blockquote><p id="1cf8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你喜欢这篇文章，并希望<strong class="lb iu">继续关注</strong>更多<strong class="lb iu">精彩</strong>文章，请考虑使用我的推荐链接<a class="ae ky" href="https://pralabhsaxena.medium.com/membership" rel="noopener">https://pralabhsaxena.medium.com/membership</a>成为一名中级会员。</p><p id="5379" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另外，你可以在这里免费订阅我的时事通讯:<a class="ae ky" href="https://pralabhsaxena.medium.com/subscribe" rel="noopener"> Pralabh的时事通讯</a>。</p></div></div>    
</body>
</html>