<html>
<head>
<title>How to make Next.js 13’s Optimized Fonts work with Tailwind CSS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何让Next.js 13的优化字体与Tailwind CSS一起工作</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-make-next-js-13s-optimized-fonts-work-with-tailwind-css-c3c5e57d38aa?source=collection_archive---------1-----------------------#2022-11-10">https://levelup.gitconnected.com/how-to-make-next-js-13s-optimized-fonts-work-with-tailwind-css-c3c5e57d38aa?source=collection_archive---------1-----------------------#2022-11-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="f198" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">几周前，Vercel发布了Next.js 13，以及一个非常有用的工具:<a class="ae kl" href="https://nextjs.org/docs/basic-features/font-optimization" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">优化字体</strong> </a>。</p><p id="af8e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这使得在你的应用程序中使用谷歌字体变得非常容易，并且具有自托管文件的优势。<a class="ae kl" href="https://nextjs.org/docs/basic-features/font-optimization#google-fonts" rel="noopener ugc nofollow" target="_blank">这意味着更快的加载速度，更多的用户隐私，以及更少的手动下载字体的麻烦。</a></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/2ad7229246ed07fe9682e4293f3c5387.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*avIFBXvTK0zB7xDd"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">安德鲁·希曼在<a class="ae kl" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="80ea" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">下面是如何在Next.js 13应用程序中使用Tailwind的优化字体特性</h1><p id="96be" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">首先，确保你已经更新到Next.js 13(咄！)</p><h2 id="2661" class="mf ld iq bd le mg mh dn li mi mj dp lm jy mk ml lq kc mm mn lu kg mo mp ly mq bi translated">对_app.tsx的更改</h2><p id="313a" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">现在，进入你的<strong class="jp ir"> _app.tsx </strong>文件，导入你喜欢的谷歌字体:</p><pre class="kn ko kp kq gt mr ms mt mu aw mv bi"><span id="577f" class="mf ld iq ms b gy mw mx l my mz">import { Lora } from '<a class="ae kl" href="http://twitter.com/next/font" rel="noopener ugc nofollow" target="_blank">@next/font</a>/google';</span></pre><p id="0a9b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，我们实例化导入的字体，并添加一些设置:</p><pre class="kn ko kp kq gt mr ms mt mu aw mv bi"><span id="e8f6" class="mf ld iq ms b gy mw mx l my mz">const lora = Lora({<br/>  subsets: ['latin'],<br/>});</span></pre><blockquote class="na"><p id="a02f" class="nb nc iq bd nd ne nf ng nh ni nj kk dk translated">现在字体已经加载了，但是我们如何应用它呢？</p></blockquote><p id="b9bf" class="pw-post-body-paragraph jn jo iq jp b jq nk js jt ju nl jw jx jy nm ka kb kc nn ke kf kg no ki kj kk ij bi translated"><strong class="jp ir">不幸的是，Next.js随机重命名了font family属性，所以我们不能只在CSS中使用‘Lora’</strong>。<a class="ae kl" href="https://nextjs.org/docs/api-reference/next/font#css-variables" rel="noopener ugc nofollow" target="_blank">虽然有通过Next.js </a>自动设置CSS变量名的选项，但这似乎在@next/font的13.0.2版本中被打破了。所以让我们自己来做:</p><p id="a8d9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">仍然在<strong class="jp ir"> _app.tsx </strong>中，将以下内容添加到函数的输出中:</p><pre class="kn ko kp kq gt mr ms mt mu aw mv bi"><span id="2cde" class="mf ld iq ms b gy mw mx l my mz">&lt;style jsx global&gt;<br/>{`<br/>  :root {<br/>    --lora-font: ${lora.style.fontFamily};<br/>  }<br/>`}<br/>&lt;/style&gt;</span></pre><p id="aad7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这将为我们的字体手动定义CSS变量。</p><h2 id="e6d7" class="mf ld iq bd le mg mh dn li mi mj dp lm jy mk ml lq kc mm mn lu kg mo mp ly mq bi translated">总之，这就是我们的复制-粘贴-就绪_app.tsx</h2><pre class="kn ko kp kq gt mr ms mt mu aw mv bi"><span id="0099" class="mf ld iq ms b gy mw mx l my mz">import { Lora } from '<a class="ae kl" href="http://twitter.com/next/font" rel="noopener ugc nofollow" target="_blank">@next/font</a>/google';<br/>import { AppProps } from 'next/app';</span><span id="f7c8" class="mf ld iq ms b gy np mx l my mz">import '@/styles/globals.css';</span><span id="005b" class="mf ld iq ms b gy np mx l my mz">const lora = Lora({<br/>  subsets: ['latin'],<br/>});</span><span id="c09f" class="mf ld iq ms b gy np mx l my mz">function MyApp({ Component, pageProps }: AppProps) {<br/>  return (<br/>    &lt;&gt;<br/>      &lt;style jsx global&gt;<br/>        {`<br/>          :root {<br/>            --lora-font: ${lora.style.fontFamily};<br/>          }<br/>        `}<br/>      &lt;/style&gt;<br/>      &lt;Component {...pageProps} /&gt;;<br/>    &lt;/&gt;<br/>  );<br/>}</span><span id="0207" class="mf ld iq ms b gy np mx l my mz">export default MyApp;</span></pre></div><div class="ab cl nq nr hu ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ij ik il im in"><h2 id="5d1b" class="mf ld iq bd le mg mh dn li mi mj dp lm jy mk ml lq kc mm mn lu kg mo mp ly mq bi translated">配置tailwind.config.js</h2><p id="7137" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">最后，我们必须重新配置Tailwind来使用这种字体。幸运的是，我们也可以在这里使用CSS变量。</p><p id="60b9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">只要确保你的<strong class="jp ir"> tailwind.config.js </strong>看起来像这样:</p><pre class="kn ko kp kq gt mr ms mt mu aw mv bi"><span id="09e9" class="mf ld iq ms b gy mw mx l my mz">const { fontFamily } = require('tailwindcss/defaultTheme');</span><span id="9250" class="mf ld iq ms b gy np mx l my mz">/** <a class="ae kl" href="http://twitter.com/type" rel="noopener ugc nofollow" target="_blank">@type</a> {import('tailwindcss').Config} */<br/>module.exports = {<br/>  // ...<br/>  theme: {<br/>    extend: {<br/>      fontFamily: {<br/>        primary: ['var(--lora-font)', ...fontFamily.sans],<br/>        serif: ['var(--lora-font)', ...fontFamily.serif],<br/>      },<br/>    }<br/>  },<br/>  // ...<br/>};</span></pre><p id="a540" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">就是这样！</p></div><div class="ab cl nq nr hu ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ij ik il im in"><p id="6441" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我很确定在接下来的几个月里，当这个功能成熟时，这个过程会变得更容易，所以如果你找到了一个更好的方法来给Tailwind 添加优化的字体，请留下你的评论。我会尽量把这个作为一个活文档:)</p><p id="d112" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">继续编码！</p></div></div>    
</body>
</html>