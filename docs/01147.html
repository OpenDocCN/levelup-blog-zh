<html>
<head>
<title>Monolithic vs. Microservices Architecture</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">单片与微服务架构</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/monolithic-vs-microservices-architecture-b333c8754187?source=collection_archive---------1-----------------------#2019-11-17">https://levelup.gitconnected.com/monolithic-vs-microservices-architecture-b333c8754187?source=collection_archive---------1-----------------------#2019-11-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7e05" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">讨论整体架构和基于微服务的架构及其优缺点</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/34dad7023f2eb82fcf7f7d37d4b53479.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*peFcjUE63oxJ9w_9DsmW6Q.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图片鸣谢:<a class="ae kv" href="https://19yw4b240vb03ws8qm25h366-wpengine.netdna-ssl.com/wp-content/uploads/Monolith-vs-Microservices.png" rel="noopener ugc nofollow" target="_blank">https://19 yw4b 240 VB 03 ws 8 QM 25h 366-WP engine . net DNA-SSL . com/WP-content/uploads/Monolith-vs-micro services . png</a></figcaption></figure><p id="08a9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我将讨论单片和基于微服务的架构及其优缺点。</p><p id="d0e2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在实习期间，我有机会开发一个基于微服务架构的应用程序。我参与了一些现有的微服务，也参与了一个新添加的用于身份验证的微服务。你可以从下面的链接中参考我从认证服务中得到的一些经验。</p><div class="ls lt gp gr lu lv"><a href="https://medium.com/@bhanuka.16/authentication-using-json-web-tokens-part-ii-b21455692a0b" rel="noopener follow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">使用JSON Web令牌进行身份验证(第二部分)</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">在上一篇文章中，我介绍了JSON web令牌以及如何使用它进行身份验证。我更喜欢…</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">medium.com</p></div></div><div class="me l"><div class="mf l mg mh mi me mj kp lv"/></div></div></a></div><p id="419e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">根据我从这些工作中获得的经验，我对微服务架构以及整体(传统)架构进行了一些挖掘。</p><h2 id="c04d" class="mk ml iq bd mm mn mo dn mp mq mr dp ms lf mt mu mv lj mw mx my ln mz na nb nc bi translated">什么是单片应用？</h2><p id="0ab7" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">首先，我们看看单词“<em class="ni">单片</em>是什么。</p><blockquote class="nj"><p id="2937" class="nk nl iq bd nm nn no np nq nr ns lr dk translated">在信息技术中，Monolithic指的是非常大(可能很大)或由一整块组成，这取决于特定的上下文；该术语以不同的方式用于描述集成电路、组织、应用程序和存储系统等。</p></blockquote><p id="afe4" class="pw-post-body-paragraph kw kx iq ky b kz nt jr lb lc nu ju le lf nv lh li lj nw ll lm ln nx lp lq lr ij bi translated">在单个软件应用程序中，可能有许多组件与之相关联。举个例子，</p><ul class=""><li id="f896" class="ny nz iq ky b kz la lc ld lf oa lj ob ln oc lr od oe of og bi translated">数据库层，负责应用程序的数据库访问。</li><li id="52b6" class="ny nz iq ky b kz oh lc oi lf oj lj ok ln ol lr od oe of og bi translated">负责认证用户的认证组件。</li><li id="7bc3" class="ny nz iq ky b kz oh lc oi lf oj lj ok ln ol lr od oe of og bi translated">可以有一个组件来定义应用程序的业务逻辑。</li><li id="3c96" class="ny nz iq ky b kz oh lc oi lf oj lj ok ln ol lr od oe of og bi translated">用于处理所有通知的通知管理器。等等..</li></ul><p id="9766" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，在这种架构中，所有组件都被组合到来自单个平台的单个程序中。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/67b4e23332d21a8505da83edb90f889a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cLQjJqeqI5e3AZOz0ej5iQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</figcaption></figure><h2 id="1852" class="mk ml iq bd mm mn mo dn mp mq mr dp ms lf mt mu mv lj mw mx my ln mz na nb nc bi translated">为什么是单片？</h2><p id="a876" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">在项目开始时，采用这种架构要容易得多，因为开发很容易。它易于测试，部署也非常简单。但是这种简单的方法在大小和复杂性方面有限制。</p><h2 id="6f28" class="mk ml iq bd mm mn mo dn mp mq mr dp ms lf mt mu mv lj mw mx my ln mz na nb nc bi translated">单片架构的缺点</h2><p id="3f84" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">当应用程序的规模变大时，会有很多缺点。应用程序的大小可能会减慢启动时间。您必须在每次更新时重新部署整个应用程序，而且连续部署也很困难。</p><p id="e99f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就可靠性而言，单片应用存在重大问题。如果任何组件有一个错误，那么它会导致整个应用程序停止整个过程。</p><p id="ea33" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">随着技术的快速发展和新技术的发明，这些应用程序采用它们有很大的障碍。由于框架或语言的变化会影响整个应用程序，因此在时间和成本上都非常昂贵。</p><h2 id="5ced" class="mk ml iq bd mm mn mo dn mp mq mr dp ms lf mt mu mv lj mw mx my ln mz na nb nc bi translated">什么是微服务？</h2><p id="77e3" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">不是将不同的软件组件保存在一个单一的应用程序中，而是将所有的组件分割成互连的小块，称之为微服务。</p><p id="ddd1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每个微服务都是一个小应用程序，并有其六边形架构，由业务逻辑和各种适配器组成。根据应用程序和数据库之间的关系，每个服务都有自己的数据库模式，而不是与其他服务共享一个数据库模式。</p><p id="c38a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这些微服务可以暴露给REST API、RPC或基于消息的API，大多数服务都使用其他服务提供的API。其他微服务可能会实现web UI。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/f01c9d71efd7fbb96f029dcdbcb0e9b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QvLFzM0cwUeqyukIKLGSqg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</figcaption></figure><h2 id="a6e5" class="mk ml iq bd mm mn mo dn mp mq mr dp ms lf mt mu mv lj mw mx my ln mz na nb nc bi translated">为什么选择微服务？</h2><p id="07c3" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">在软件开发中使用微服务架构有很多好处。</p><p id="d3a7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">微服务架构提供每个微服务的独立部署。不需要在每次更新时重新部署整个应用程序，而且对于复杂的应用程序，连续部署也是可能的。</p><p id="a299" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就开发而言，每个微服务都可以由专注于该服务的团队独立开发。分解应用程序使得快速开发、理解和维护应用程序变得更加容易。</p><p id="e114" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">适应新技术非常容易，因为开发人员可以独立选择对他们的服务有意义的技术，而不受项目开始时所做选择的约束。</p><h2 id="d514" class="mk ml iq bd mm mn mo dn mp mq mr dp ms lf mt mu mv lj mw mx my ln mz na nb nc bi translated">微服务架构的缺点</h2><p id="5082" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">应用程序组件的分发也产生了一些缺点。开发人员在创建分布式系统时不得不面对一些额外的复杂性。</p><p id="830c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">基于微服务的应用中的分区数据库架构有时会给开发人员带来挑战。更新多个业务实体的业务事务需要更新不同服务拥有的多个数据库。</p><p id="886f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当出现跨越多个微服务的变更时，比单片应用更难解决。我们需要仔细地计划和协调每个服务的变更。</p><p id="a868" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">整体应用程序的部署比基于微服务的应用程序更容易。它不像单一的应用程序，因为它有大量的服务，并且每个服务都需要配置、部署、扩展和监控。微服务应用的成功部署需要高度的自动化。</p><h2 id="ce65" class="mk ml iq bd mm mn mo dn mp mq mr dp ms lf mt mu mv lj mw mx my ln mz na nb nc bi translated">哪个更好？</h2><p id="425c" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">所以，我想你已经了解了什么是单片应用和基于微服务的应用。对于简单、轻量级的应用程序，最好使用单片架构。如果你的目标是微服务架构，不要从单片开始。微服务架构是复杂、不断发展的应用的更好选择。</p><p id="d456" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢您的阅读！</p><h2 id="7d50" class="mk ml iq bd mm mn mo dn mp mq mr dp ms lf mt mu mv lj mw mx my ln mz na nb nc bi translated">参考</h2><p id="ecc8" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">[1]玛格利特·劳斯，<strong class="ky ir"> </strong> <a class="ae kv" href="https://whatis.techtarget.com/definition/monolithic" rel="noopener ugc nofollow" target="_blank">国防<strong class="ky ir"> </strong>单片</a> (2016)，whatis.techtarget.com</p><p id="2ecb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">[2] Anton Kharenko，<a class="ae kv" href="https://articles.microservices.com/monolithic-vs-microservices-architecture-5c4848858f59" rel="noopener ugc nofollow" target="_blank">单片与微服务架构</a> (2015)，articles.microservices.com</p></div></div>    
</body>
</html>