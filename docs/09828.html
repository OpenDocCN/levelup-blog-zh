<html>
<head>
<title>The Ultimate Face-off: Flask vs. FastAPI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">终极对决:Flask vs. FastAPI</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/the-ultimate-face-off-flask-vs-fastapi-79b8e775552b?source=collection_archive---------2-----------------------#2021-09-20">https://levelup.gitconnected.com/the-ultimate-face-off-flask-vs-fastapi-79b8e775552b?source=collection_archive---------2-----------------------#2021-09-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/376334343630ef81aae0b248e0038700.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2ZiR-Eii7Y6xPkxbZq8SGQ.png"/></div></div></figure><p id="d974" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">选择一个框架并不容易，这就是为什么我在这里帮助你摆脱头痛。</p><p id="9dd8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为什么我们还要比较<a class="ae kw" href="https://flask.palletsprojects.com/en/2.0.x/" rel="noopener ugc nofollow" target="_blank">烧瓶</a>和<a class="ae kw" href="https://fastapi.tiangolo.com/" rel="noopener ugc nofollow" target="_blank"> FastAPI </a>？</p><p id="8990" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">他们是相似的。两者都是精简的Python微框架，没有臃肿的花里胡哨，这意味着更快的开发时间和更大的灵活性。此外，两者都用于构建API和web应用程序。</p><p id="d8bf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">他们也不一样。Flask经过了更多的战斗考验，因此稍微更可靠，并且被广泛使用。FastAPI是一个更新、更现代的框架，以其速度和许多内置支持而闻名，如Pydantic和SwaggerUI。</p><p id="5c75" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，您对每个框架都有了更好的理解，让我们开始面对面的交流吧！</p><h1 id="465a" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">装置</h1><p id="dc7d" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">有时候学习新事物最具挑战性的部分实际上是开始。这就是我们从安装开始的原因。</p><p id="77d7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用Python最喜欢的安装程序pip安装Flask和FastAPI相对简单。将两者都安装在虚拟环境中也是一种很好的做法，虚拟环境是为每个Python项目提供的隔离环境，可以消除冲突错误。</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="me mf l"/></div></figure><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="me mf l"/></div></figure><p id="a26d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">结论</strong>:注意你是用Uvicorn安装FastAPI的。可以把Uvicorn想象成一个快如闪电的服务器，让你的应用程序执行得更快。</p><h1 id="8056" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">Hello World应用程序</h1><p id="5ba5" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">如果你一生中只写过一行代码，我敢打赌是这样的:</p><p id="277f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mg mh mi mj b">print("Hello World")</code></p><p id="dc60" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这有点像你在学习另一种语言，比如说普通话。有一个叫做拼音的系统，它将汉字转换成英语，这样人们就可以发音了。它旨在让您快速启动并运行，就像Hello World应用程序一样。</p><p id="d2ac" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们看看hello world应用程序在Flask和FastAPI中是什么样子的。</p><h2 id="5bef" class="mk ky iq bd kz ml mm dn ld mn mo dp lh kj mp mq ll kn mr ms lp kr mt mu lt mv bi translated">Flask &lt; 2.0</h2><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="me mf l"/></div></figure><h2 id="3ace" class="mk ky iq bd kz ml mm dn ld mn mo dp lh kj mp mq ll kn mr ms lp kr mt mu lt mv bi translated">Flask 2.0</h2><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="me mf l"/></div></figure><h2 id="5039" class="mk ky iq bd kz ml mm dn ld mn mo dp lh kj mp mq ll kn mr ms lp kr mt mu lt mv bi translated">FastAPI</h2><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="me mf l"/></div></figure><p id="4421" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">结论</strong>:在Flask的新版本中，您可以使用<code class="fe mg mh mi mj b">@app.get()</code>和<code class="fe mg mh mi mj b">@app.post()</code>装饰器作为路由的快捷方式。使用<code class="fe mg mh mi mj b">@app.route()</code>的前一种方式要求您将HTTP动词传递给一个方法列表，如下所示:<code class="fe mg mh mi mj b">methods=\["GET", "POST"]</code>。</p><blockquote class="mw mx my"><p id="ee46" class="jy jz mz ka b kb kc kd ke kf kg kh ki na kk kl km nb ko kp kq nc ks kt ku kv ij bi translated"><em class="iq">注意:Flask默认做一个</em> <code class="fe mg mh mi mj b"><em class="iq">GET</em></code> <em class="iq">，所以不需要在方法列表中指定。<br/>FastAPI中也有这些方法，支持每个HTTP方法的以下修饰路由:</em></p></blockquote><ul class=""><li id="310b" class="nd ne iq ka b kb kc kf kg kj nf kn ng kr nh kv ni nj nk nl bi translated"><code class="fe mg mh mi mj b">@app.get()</code></li><li id="5fa1" class="nd ne iq ka b kb nm kf nn kj no kn np kr nq kv ni nj nk nl bi translated"><code class="fe mg mh mi mj b">@app.post()</code></li><li id="1a9d" class="nd ne iq ka b kb nm kf nn kj no kn np kr nq kv ni nj nk nl bi translated"><code class="fe mg mh mi mj b">@app.put()</code></li><li id="3a44" class="nd ne iq ka b kb nm kf nn kj no kn np kr nq kv ni nj nk nl bi translated"><code class="fe mg mh mi mj b">@app.delete()</code></li></ul><h1 id="eeb4" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">正在开发中运行</h1><p id="44c9" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">一旦你写好了你的“Hello World”应用程序，你会想在把它投入生产让全世界看到之前，先在开发中运行它——或者在你的机器上本地运行。如果你的应用程序不能按预期运行，人们肯定会抓狂。你想把这种怪癖减到最小。</p><p id="ea1a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，在您的终端中，运行以下命令:</p><h2 id="5727" class="mk ky iq bd kz ml mm dn ld mn mo dp lh kj mp mq ll kn mr ms lp kr mt mu lt mv bi translated">瓶</h2><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="me mf l"/></div></figure><h2 id="cee1" class="mk ky iq bd kz ml mm dn ld mn mo dp lh kj mp mq ll kn mr ms lp kr mt mu lt mv bi translated">FastAPI</h2><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="me mf l"/></div></figure><p id="4ca9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">结论</strong> : FastAPI使用热重载，在你修改代码的时候保持应用运行。因此，您不必一直重启开发服务器。使用Flask，您需要一个额外的终端命令:<code class="fe mg mh mi mj b">export FLASK_ENV=development</code>，它允许您在不重启开发服务器的情况下修改代码。</p><h1 id="536b" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">HTTP方法</h1><p id="d9df" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">在Hello World示例中，我们看到了Flask和FastAPI中的GET是什么样子，所以现在让我们更仔细地看看POST方法。</p><h2 id="a9ba" class="mk ky iq bd kz ml mm dn ld mn mo dp lh kj mp mq ll kn mr ms lp kr mt mu lt mv bi translated">Flask &lt; 2.0</h2><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="me mf l"/></div></figure><h2 id="aaa7" class="mk ky iq bd kz ml mm dn ld mn mo dp lh kj mp mq ll kn mr ms lp kr mt mu lt mv bi translated">Flask 2.0</h2><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="me mf l"/></div></figure><h2 id="5e37" class="mk ky iq bd kz ml mm dn ld mn mo dp lh kj mp mq ll kn mr ms lp kr mt mu lt mv bi translated">FastAPI</h2><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="me mf l"/></div></figure><p id="f99a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">结论</strong> : Flask 2.0和FastAPI在做POST方法的时候看起来很像。诀窍在于观察新数据是如何产生的。</p><p id="4399" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用Flask，您必须使用类似Postman的工具作为客户端，这样您就可以看到您的POST请求和您以JSON格式创建的数据。<br/> FastAPI自带Pydantic和SwaggerUI，允许您使用自动文档与来自浏览器的请求进行交互，包括POST请求。</p><p id="0d4c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Flask也可以使用自动文档，但是您必须使用flask-swagger安装它。让它工作还需要很多配置。让我们在下一节看看如何在FastAPI中查看您的POST请求。</p><h1 id="c6b6" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">自动文档</h1><p id="7140" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">如果你相信魔法，你肯定会喜欢自动文档。</p><p id="83bf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">FastAPI基于Pydantic，这是一个用于轻松建模和验证对象的框架。它从盒子里出来，所以不需要安装它。Pydantic消除了编写构造函数的痛苦，您可以获得所有神奇的方法。Pydantic还进行数据验证，显示更友好的错误并使用python类型提示，从而减少调试时间。要访问您的自动文档，请确保您的开发服务器正在运行，然后转到您的本地主机和您的应用程序正在运行的端口:</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="me mf l"/></div></figure><p id="945d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您将看到您的帖子请求，如下例所示；如果您正在使用其他HTTP方法，这些也将是可见的。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nr"><img src="../Images/aee7c83066c0b76321ca1a05ccffd97b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XsZ9GgBouNDB16ER"/></div></div></figure><p id="cf9f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们做一些更酷的事情，这样我们就可以看到自动化文档的美妙之处。假设我们在FastAPI中有这样的代码:</p><h2 id="cf61" class="mk ky iq bd kz ml mm dn ld mn mo dp lh kj mp mq ll kn mr ms lp kr mt mu lt mv bi translated">FastAPI</h2><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="me mf l"/></div></figure><p id="99e0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">注意，为了使用Pydantic，您必须导入<code class="fe mg mh mi mj b">Player</code>类将继承的<code class="fe mg mh mi mj b">BaseModel</code>。我们还在类中声明变量作为类型提示，并在POST请求中返回一个字典。</p><p id="62fd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当您打开自动文档时，您会看到一个模式。这个模式是带有变量的模型的框架，从中可以看出哪些字段是必需的，哪些是可选的。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ns"><img src="../Images/8037891a93f8c9b9916eb662d0ed001f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4oKwvfDEXw5TK99E"/></div></div></figure><p id="75dd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您还可以通过传入变量值来“尝试”和测试您的API端点。例如，在这里，我们为String类型的变量<code class="fe mg mh mi mj b">player_name</code>传入<code class="fe mg mh mi mj b">"Michael Jordan"</code>。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nt"><img src="../Images/b7900aeb82ebbd354388c969d4fce0e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uKwbSx3bC-5kxvCd"/></div></div></figure><p id="c3c0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后，当你点击执行，它会给你一个响应体。不需要使用邮差之类的额外工具。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nu"><img src="../Images/f84d9e149982efa469796c5759f38493.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*u_KOOHl9cIMQvMux"/></div></div></figure><p id="4c9d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您的交互式文档还会为您生成一个curl命令，因此您不必从头开始编写:</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nv"><img src="../Images/bebfb99f35bceda4dcb789b86bf16309.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*p-C9dYVJDx4qgMfq"/></div></div></figure><p id="579a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">结论</strong>:由于自动化文档是与FastAPI以及Pydantic和Swagger UI一起开箱即用的，这些特性肯定会加快您的开发时间。您不必安装任何外部工具来测试您的请求。</p><h1 id="61e4" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">数据有效性</h1><p id="fae6" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">由于我们可爱的朋友Pydantic在安装时附带了FastAPI，当您的代码遇到问题时，它会给出一些非常友好的错误消息。</p><h2 id="57b5" class="mk ky iq bd kz ml mm dn ld mn mo dp lh kj mp mq ll kn mr ms lp kr mt mu lt mv bi translated">FastAPI</h2><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="me mf l"/></div></figure><p id="b69f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这里我们创建了一个类登录，它继承了Pydantic BaseModel，并在其中包含了类型提示变量。我们首先检查<code class="fe mg mh mi mj b">username</code>是否是<code class="fe mg mh mi mj b">janedoe</code>和<code class="fe mg mh mi mj b">password</code>是否是<code class="fe mg mh mi mj b">passworld12345</code>，然后我们相应地返回一个成功或失败的消息。</p><p id="cfb9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们转向自动文档，通过将<code class="fe mg mh mi mj b">None</code>传递给用户名来测试我们的请求体:</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nw"><img src="../Images/742f10abcf73e3fc82036bfe1b5632a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vgJJQ-AJJUF6Rqqy"/></div></div></figure><p id="4ccf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Pydantic将发挥它的魔力，您将得到一条友好的消息，告诉您到底是什么错误。在这种情况下，它返回错误<code class="fe mg mh mi mj b">Expecting Value</code>，这是正确的，因为我们将<code class="fe mg mh mi mj b">None</code>传递给了<code class="fe mg mh mi mj b">username</code>。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nr"><img src="../Images/632dfa92173a0cd0197d3f90dd404ce2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FrQaTXtbtofYw9CN"/></div></div></figure><p id="9381" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">结论</strong> : Flask没有任何内部数据验证支持。您可以通过安装<em class="mz"> Flask-Pydantic </em>来使用强大的Pydantic包进行数据验证。</p><p id="f73b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">路径或URL参数获取一个单项。假设我们想要一个单一玩家。无论哪个玩家拥有我们传入URL的id，都将被返回给用户。</p><h1 id="3374" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">URL或路径参数</h1><p id="f658" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">假设我们有一个字典列表，我们想从这个JSON文件中获取一个播放器:</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="me mf l"/></div></figure><h2 id="e601" class="mk ky iq bd kz ml mm dn ld mn mo dp lh kj mp mq ll kn mr ms lp kr mt mu lt mv bi translated">瓶</h2><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="me mf l"/></div></figure><p id="3115" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这里，我们将id为2的路由传递到端口5000上的localhost，并返回id为2的播放器。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nx"><img src="../Images/5f52afc6188d054f444ec238bfc1a356.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lLDgfX5YYRYuQRiZ"/></div></div></figure><h2 id="4dc6" class="mk ky iq bd kz ml mm dn ld mn mo dp lh kj mp mq ll kn mr ms lp kr mt mu lt mv bi translated">FastAPI</h2><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="me mf l"/></div></figure><p id="d3ef" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这里，我们将id为1的路由传递到端口8000上的localhost，并返回id为1的播放器。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ny"><img src="../Images/49ed0a0226135992c880a5f29a6af001.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PWctoXrQwP8pLMnM"/></div></div></figure><p id="a1af" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">结论</strong>:有了FastAPI，因为它使用Python类型提示，你可以把你的代码移植到其他框架，比如Django。对于Flask，它是不可移植的，因为我们使用的是特定于框架的类型提示，而不是Python提示。</p><h1 id="805a" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">模板文件夹</h1><p id="da70" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">当你在Flask或FastAPI中构建一个web应用程序时，Templates文件夹存储你的HTML文件，你必须使用Jinja在HTML中显示你的变量。Jinja是一个模板引擎，允许你编写类似Python的代码来显示HTML。</p><h2 id="56d9" class="mk ky iq bd kz ml mm dn ld mn mo dp lh kj mp mq ll kn mr ms lp kr mt mu lt mv bi translated">瓶</h2><p id="7573" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">默认情况下，Flask在“templates”文件夹中查找模板。您只需要在您的文件结构中创建一个。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/84c5bab055d9e6b9013023d33749195d.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/0*njOIiR6v4TMLSsVO"/></div></figure><figure class="ma mb mc md gt jr gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/c3a501cb34f3cde1d9789110d579fcd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:776/0*naH1j5iCxF05d4Fz"/></div></figure><p id="2772" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后，您可以使用Jinja显示变量，方法是用双花括号将它们括起来:</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="me mf l"/></div></figure><p id="dd7b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">结论</strong>:jinja安装时自带烧瓶，这是一个巨大的优势。在FastAPI中，您必须安装Jinja并在代码中定义templates文件夹。</p><h1 id="2f44" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">生产服务器</h1><p id="2514" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">在某种程度上，您会想要部署您的应用程序并向全世界展示它。</p><h2 id="4cff" class="mk ky iq bd kz ml mm dn ld mn mo dp lh kj mp mq ll kn mr ms lp kr mt mu lt mv bi translated">瓶</h2><p id="96ac" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">Flask使用名为WSGI的web服务器，它代表Web服务器网关接口，多年来一直是Python标准。缺点是同步的。这意味着，如果您有一堆请求，它们必须排队等待队列完成。</p><h2 id="d852" class="mk ky iq bd kz ml mm dn ld mn mo dp lh kj mp mq ll kn mr ms lp kr mt mu lt mv bi translated">FastAPI</h2><p id="0335" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">FastAPI使用一个叫做ASGI或异步服务器网关接口的web服务器，它速度很快，因为它——嗯，你猜对了——是异步的。因此，如果有一堆请求进来，它们不必等待其他请求完成后才被处理。</p><p id="ff95" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">结论</strong> : ASGI有助于提高web应用程序的性能，因为它们异步处理请求。</p><p id="d456" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">请击鼓。</p><p id="7297" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">获胜者是…嗯，看情况。</p><p id="f7e5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是你可以选择的方式。</p><p id="03a9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">如果需要，使用</strong> <a class="ae kw" href="https://flask.palletsprojects.com/en/2.0.x/" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir">烧瓶</strong></a><strong class="ka ir">:</strong></p><ul class=""><li id="7bd8" class="nd ne iq ka b kb kc kf kg kj nf kn ng kr nh kv ni nj nk nl bi translated">久经考验的框架，因为它已经存在了很长时间</li><li id="bdd5" class="nd ne iq ka b kb nm kf nn kj no kn np kr nq kv ni nj nk nl bi translated">开发一个快速原型</li><li id="7d8d" class="nd ne iq ka b kb nm kf nn kj no kn np kr nq kv ni nj nk nl bi translated">进行web应用程序开发</li></ul><p id="67c8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">使用</strong><a class="ae kw" href="https://fastapi.tiangolo.com/" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir">FastAPI</strong></a><strong class="ka ir">如果你愿意:</strong></p><ul class=""><li id="9939" class="nd ne iq ka b kb kc kf kg kj nf kn ng kr nh kv ni nj nk nl bi translated">速度，如开发时间和性能</li><li id="0fa6" class="nd ne iq ka b kb nm kf nn kj no kn np kr nq kv ni nj nk nl bi translated">为了减少代码中的bug和错误</li><li id="49ae" class="nd ne iq ka b kb nm kf nn kj no kn np kr nq kv ni nj nk nl bi translated">从头开始构建API</li></ul><p id="9fcd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">好了，你已经看到了Flask和FastAPI的运行。现在你对两者都有了更好的理解，并且你已经知道哪一个更适合你的下一个项目。</p><p id="8eda" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">那么你选择了哪个框架呢？发微博给我们<a class="ae kw" href="https://twitter.com/VonageDev" rel="noopener ugc nofollow" target="_blank"> @VonageDev </a>或者<a class="ae kw" href="https://twitter.com/TonyaSims" rel="noopener ugc nofollow" target="_blank"> @tonyasims </a>。</p></div><div class="ab cl ob oc hu od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ij ik il im in"><p id="afb2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="mz">原载于</em><a class="ae kw" href="https://learn.vonage.com/blog/2021/08/10/the-ultimate-face-off-flask-vs-fastapi/" rel="noopener ugc nofollow" target="_blank"><em class="mz">https://learn . vonage . com/blog/2021/08/10/the-ultimate-face-off-flask-vs-fastapi/</em></a></p></div></div>    
</body>
</html>