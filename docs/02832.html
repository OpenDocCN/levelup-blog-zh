<html>
<head>
<title>Yet another TODO app! With Redis and Go (Part 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åˆä¸€ä¸ªTODOåº”ç”¨ï¼ä½¿ç”¨Rediså’ŒGo(ç¬¬1éƒ¨åˆ†)</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/yet-another-todo-app-with-redis-and-go-part-1-7a1134f5752e?source=collection_archive---------11-----------------------#2020-04-06">https://levelup.gitconnected.com/yet-another-todo-app-with-redis-and-go-part-1-7a1134f5752e?source=collection_archive---------11-----------------------#2020-04-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3a52" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">é€šè¿‡ä½¿ç”¨Goæ„å»ºCLIåº”ç”¨ç¨‹åºæ¥å­¦ä¹ Redis</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/470552d9bed7c224ecc0f07f9ecdd3b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6ZnlHRBxtXq3nG8m"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">æ ¼ä¼¦Â·å¡æ–¯æ»•æ–¯-å½¼å¾—æ–¯åœ¨<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹æ‘„çš„ç…§ç‰‡</figcaption></figure><p id="4298" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://redis.io/" rel="noopener ugc nofollow" target="_blank"> Redis </a>æ˜¯ä¸€ä¸ªå¤šåŠŸèƒ½çš„é”®å€¼å­˜å‚¨ï¼Œæ”¯æŒå¤šç§<a class="ae kv" href="https://redis.io/commands/" rel="noopener ugc nofollow" target="_blank">ä¸°å¯Œçš„æ•°æ®ç»“æ„</a>ï¼Œå¦‚<code class="fe ls lt lu lv b">List</code>ã€<code class="fe ls lt lu lv b">Set</code>ã€<code class="fe ls lt lu lv b">Sorted Set</code>ã€<code class="fe ls lt lu lv b">Hash</code>ç­‰ã€‚â€”â€”è¿™æ„å‘³ç€ä»·å€¼è§‚å¯ä»¥ä¸ä»…ä»…æ˜¯ç®€å•çš„<code class="fe ls lt lu lv b">string</code>ã€‚è¿™äº›æ•°æ®ç»“æ„ç»“åˆåœ¨ä¸€èµ·ï¼Œå¯ä»¥ç”¨äºæ„å»ºå¼ºå¤§çš„åº”ç”¨ç¨‹åºï¼ŒåŒ…æ‹¬ç¼“å­˜(Redisçš„åŸºç¡€)ã€å®æ—¶å¤„ç†ã€åˆ†å¸ƒå¼å·¥ä½œé˜Ÿåˆ—ã€æ’è¡Œæ¦œã€ä¼šè¯å­˜å‚¨ç­‰ã€‚</p><p id="544b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">è¿™ä¸ª<em class="lw">ä¸¤éƒ¨åˆ†çš„åšå®¢ç³»åˆ—</em>å°†å€ŸåŠ©ä¸€ä¸ªç®€å•è€Œå®ç”¨çš„ä¾‹å­è®²è¿°ä¸€äº›Redisæ•°æ®ç»“æ„:<em class="lw">åˆä¸€ä¸ª</em> <strong class="ky ir"> TODOåº”ç”¨</strong>ï¼ğŸ˜‰è€Œä¸æ˜¯æ„å»ºä¸€ä¸ªåŸºäºwebçš„å‰ç«¯ç•Œé¢(è€å®è¯´ï¼Œè¿™çœŸçš„ä¸æ˜¯æˆ‘å–œæ¬¢çš„ï¼)æˆ‘é€‰æ‹©ä¿æŒç®€å•ï¼Œæä¾›ä¸€ä¸ªå‘½ä»¤è¡Œç•Œé¢(CLI)ã€‚å®ƒå†…ç½®äº<code class="fe ls lt lu lv b"><a class="ae kv" href="https://golang.org/" rel="noopener ugc nofollow" target="_blank">Go</a></code>ä¸­ï¼Œå¸¦æœ‰æµè¡Œçš„ç”¨äºCLIåº”ç”¨çš„<code class="fe ls lt lu lv b"><a class="ae kv" href="https://github.com/spf13/cobra" rel="noopener ugc nofollow" target="_blank">cobra</a></code>åº“ï¼Œå¹¶ä½¿ç”¨<code class="fe ls lt lu lv b">Redis</code>ä½œä¸ºåç«¯å­˜å‚¨ã€‚</p><p id="8d32" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">é€šè¿‡é˜…è¯»æœ¬ç³»åˆ—ï¼Œæ‚¨å°†äº†è§£åˆ°:</p><ul class=""><li id="2a82" class="lx ly iq ky b kz la lc ld lf lz lj ma ln mb lr mc md me mf bi translated">é€šç”¨çš„<code class="fe ls lt lu lv b">Redis</code>æ•°æ®ç»“æ„â€”â€”è¿™ä¸ªåº”ç”¨ç¨‹åºåˆ©ç”¨äº†<code class="fe ls lt lu lv b">HASH</code>å’Œ<code class="fe ls lt lu lv b">SET</code></li><li id="bbe3" class="lx ly iq ky b kz mg lc mh lf mi lj mj ln mk lr mc md me mf bi translated">ä½¿ç”¨<code class="fe ls lt lu lv b"><a class="ae kv" href="https://github.com/go-redis/redis" rel="noopener ugc nofollow" target="_blank">go-redis</a></code>å®¢æˆ·ç«¯ä¸Redisäº¤äº’</li><li id="89a7" class="lx ly iq ky b kz mg lc mh lf mi lj mj ln mk lr mc md me mf bi translated">å¦‚ä½•ä½¿ç”¨<code class="fe ls lt lu lv b">cobra</code>åº“(å®ƒä¹Ÿæ”¯æŒCLIå·¥å…·ï¼Œå¦‚<code class="fe ls lt lu lv b">docker</code>ã€<code class="fe ls lt lu lv b">kubectl</code>ç­‰)ã€‚)</li><li id="2aad" class="lx ly iq ky b kz mg lc mh lf mi lj mj ln mk lr mc md me mf bi translated">ä½ å¯ä»¥è¯•ç”¨æœ‰å‡ ä¸ªä¸åŒé€‰é¡¹çš„<code class="fe ls lt lu lv b">todo</code>åº”ç”¨ç¨‹åº:<code class="fe ls lt lu lv b">Docker</code>æˆ–<a class="ae kv" href="https://docs.microsoft.com/azure/azure-cache-for-redis/?WT.mc_id=medium-blog-abhishgu" rel="noopener ugc nofollow" target="_blank"> Azure Redisç¼“å­˜</a></li></ul><p id="1177" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘æŠŠå®ƒåˆ†æˆäº†ä¸¤éƒ¨åˆ†ã€‚ç¬¬ä¸€éƒ¨åˆ†(è¿™ä¸ªåšå®¢)å°†æä¾›ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œå®‰è£…å’Œè®¾ç½®(åŒ…æ‹¬<code class="fe ls lt lu lv b">Azure Redis Cache</code>)çš„å¿«é€Ÿæ¦‚è¿°ï¼Œå¹¶å°è¯•å®ƒã€‚ç¬¬äºŒéƒ¨åˆ†å°†æ·±å…¥ç ”ç©¶ä»£ç å’Œå®ç°ç»†èŠ‚</p><blockquote class="ml mm mn"><p id="9437" class="kw kx lw ky b kz la jr lb lc ld ju le mo lg lh li mp lk ll lm mq lo lp lq lr ij bi translated"><em class="iq">ä»£ç ä¸º</em> <a class="ae kv" href="https://github.com/abhirockzz/redis-todo-cli-app" rel="noopener ugc nofollow" target="_blank"> <em class="iq">å¯åœ¨Github </em> </a>ä¸Šè·å¾—</p></blockquote></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="2535" class="my mz iq bd na nb nc nd ne nf ng nh ni jw nj jx nk jz nl ka nm kc nn kd no np bi translated"><code class="fe ls lt lu lv b">todo</code>åº”ç”¨æ¦‚è¿°</h1><p id="28c8" class="pw-post-body-paragraph kw kx iq ky b kz nq jr lb lc nr ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated">ä¸‹é¢æ˜¯æ‚¨å¯ä»¥ä½¿ç”¨<code class="fe ls lt lu lv b">todo</code> CLIåº”ç”¨ç¨‹åºåšäº›ä»€ä¹ˆçš„å¿«é€Ÿæ¦‚è¿°ã€‚ä½¿ç”¨<code class="fe ls lt lu lv b">todo --help</code>å¾ˆå®¹æ˜“è§£å†³è¿™ä¸ªé—®é¢˜:è¾“å‡ºæ˜¯ä¸è¨€è‡ªæ˜çš„:</p><pre class="kg kh ki kj gt nv lv nw nx aw ny bi"><span id="1913" class="nz mz iq lv b gy oa ob l oc od">Yet another TODO app. Uses Go and Redis</span><span id="6cc3" class="nz mz iq lv b gy oe ob l oc od">Usage:<br/>  todo [command]</span><span id="3bf4" class="nz mz iq lv b gy oe ob l oc od">Available Commands:<br/>  create      create a todo with description<br/>  delete      delete a todo<br/>  help        Help about any command<br/>  list        list all todos<br/>  update      update todo description, status or both</span><span id="8466" class="nz mz iq lv b gy oe ob l oc od">Flags:<br/>  -h, --help      help for todo<br/>  -v, --version   version for todo</span><span id="09cb" class="nz mz iq lv b gy oe ob l oc od">Use "todo [command] --help" for more information about a command.</span></pre><p id="35e1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å¯ä»¥<code class="fe ls lt lu lv b">create</code>ã€<code class="fe ls lt lu lv b">list</code>ã€<code class="fe ls lt lu lv b">update</code>å’Œ<code class="fe ls lt lu lv b">delete</code> todos(å¥½è€çš„CRUDï¼)</p><ul class=""><li id="0fb6" class="lx ly iq ky b kz la lc ld lf lz lj ma ln mb lr mc md me mf bi translated">è¦<code class="fe ls lt lu lv b">create</code> a <code class="fe ls lt lu lv b">todo</code>ï¼Œåªéœ€è¾“å…¥<code class="fe ls lt lu lv b">description</code> -è¯¦æƒ…è¯·ä½¿ç”¨<code class="fe ls lt lu lv b">todo create --help</code></li><li id="1170" class="lx ly iq ky b kz mg lc mh lf mi lj mj ln mk lr mc md me mf bi translated">è¦<code class="fe ls lt lu lv b">list</code>æ‰€æœ‰å¾…åŠäº‹é¡¹ï¼Œåªéœ€ä½¿ç”¨<code class="fe ls lt lu lv b">todo list</code>ã€‚ä¹Ÿå¯ä»¥é€šè¿‡<code class="fe ls lt lu lv b">status</code>(å·²å®Œæˆæˆ–æœªå®Œæˆ)è¿›è¡Œè¿‡æ»¤â€”â€”è¯¦æƒ…è¯·ä½¿ç”¨<code class="fe ls lt lu lv b">todo list --help</code></li></ul><p id="d213" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ä»¥ä¸‹æ˜¯æ¥è‡ª<code class="fe ls lt lu lv b">todo list</code>çš„è¾“å‡º:</p><pre class="kg kh ki kj gt nv lv nw nx aw ny bi"><span id="4b85" class="nz mz iq lv b gy oa ob l oc od">+----+--------------------------------+-------------+<br/>| ID |          DESCRIPTION           |   STATUS    |<br/>+----+--------------------------------+-------------+<br/>|  3 | push redis todo cli app code   | pending     |<br/>|    | to github                      |             |<br/>|  2 | write tutorial for redis todo  | in-progress |<br/>|    | cli app                        |             |<br/>|  1 | implement todo cli app         | completed   |<br/>+----+--------------------------------+-------------+</span></pre><ul class=""><li id="50bd" class="lx ly iq ky b kz la lc ld lf lz lj ma ln mb lr mc md me mf bi translated">æ‚¨å¯ä»¥é€šè¿‡æŒ‡å®štodo <code class="fe ls lt lu lv b">id</code>æ¥<code class="fe ls lt lu lv b">update</code>ä¸€ä¸ª<code class="fe ls lt lu lv b">todo</code>çš„<code class="fe ls lt lu lv b">description</code>ã€<code class="fe ls lt lu lv b">status</code>(æˆ–ä¸¤è€…éƒ½æœ‰)â€”â€”è¯¦ç»†ä¿¡æ¯ï¼Œè¯·ä½¿ç”¨<code class="fe ls lt lu lv b">todo update --help</code></li><li id="a7be" class="lx ly iq ky b kz mg lc mh lf mi lj mj ln mk lr mc md me mf bi translated">å¯¹äº<code class="fe ls lt lu lv b">delete</code>å¾…åŠäº‹é¡¹ï¼Œåªéœ€ä½¿ç”¨<code class="fe ls lt lu lv b">todo delete</code>å’Œå®ƒçš„<code class="fe ls lt lu lv b">id</code>å³å¯â€”â€”è¯¦æƒ…è¯·ä½¿ç”¨<code class="fe ls lt lu lv b">todo delete --help</code></li></ul><h1 id="47a0" class="my mz iq bd na nb of nd ne nf og nh ni jw oh jx nk jz oi ka nm kc oj kd no np bi translated"><code class="fe ls lt lu lv b">todo</code>åº”ç”¨ç¨‹åºå®‰è£…</h1><blockquote class="ml mm mn"><p id="68f4" class="kw kx lw ky b kz la jr lb lc ld ju le mo lg lh li mp lk ll lm mq lo lp lq lr ij bi translated"><em class="iq">æˆ‘å‡è®¾ä½ å·²ç»å®‰è£…äº†</em><code class="fe ls lt lu lv b"><a class="ae kv" href="https://golang.org/" rel="noopener ugc nofollow" target="_blank"><em class="iq">Go</em></a></code><em class="iq"/></p></blockquote><p id="6c28" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ä»å…‹éš†å›è´­å¼€å§‹:</p><pre class="kg kh ki kj gt nv lv nw nx aw ny bi"><span id="deeb" class="nz mz iq lv b gy oa ob l oc od">git clone https://github.com/abhirockzz/redis-todo-cli-app<br/>cd redis-todo-cli-app</span></pre><p id="509c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æ„å»ºåº”ç”¨ç¨‹åºå¹¶è®¾ç½®<code class="fe ls lt lu lv b">PATH</code>å˜é‡</p><pre class="kg kh ki kj gt nv lv nw nx aw ny bi"><span id="52f4" class="nz mz iq lv b gy oa ob l oc od">go build -o todo<br/>export PATH=$(pwd):$PATH</span></pre><p id="bb0b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">è¦ç¡®è®¤ï¼Œä½¿ç”¨<code class="fe ls lt lu lv b">todo --help</code></p><p id="3ce6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">åœ¨ä½¿ç”¨è¯¥åº”ç”¨ç¨‹åºä¹‹å‰ï¼Œè®¾ç½®ä¸€ä¸ªRediså®ä¾‹</p></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="0fc5" class="my mz iq bd na nb nc nd ne nf ng nh ni jw nj jx nk jz nl ka nm kc nn kd no np bi translated">Redisè®¾ç½®</h1><p id="63c5" class="pw-post-body-paragraph kw kx iq ky b kz nq jr lb lc nr ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated"><code class="fe ls lt lu lv b">todo</code>å­˜å‚¨åœ¨<code class="fe ls lt lu lv b">Redis</code>ä¸­ã€‚è·å¾—<code class="fe ls lt lu lv b">Redis</code>å®ä¾‹çš„æœ€å¿«æ–¹æ³•ä¹‹ä¸€æ˜¯æå–å®ƒçš„Dockeræ˜ åƒå¹¶å¼€å§‹ä½¿ç”¨å®ƒ:</p><pre class="kg kh ki kj gt nv lv nw nx aw ny bi"><span id="47d0" class="nz mz iq lv b gy oa ob l oc od">docker pull redis<br/>docker run -d --name todo_redis -p 6379:6379 redis</span></pre><p id="fb31" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ç°åœ¨ä½ åº”è¯¥æœ‰Redis Dockerå®¹å™¨åœ¨åå°è¿è¡Œï¼Œå¹¶ä¸”åº”è¯¥å¯ä»¥é€šè¿‡ç«¯å£<code class="fe ls lt lu lv b">6379</code>è®¿é—®</p><blockquote class="ml mm mn"><p id="206c" class="kw kx lw ky b kz la jr lb lc ld ju le mo lg lh li mp lk ll lm mq lo lp lq lr ij bi translated"><em class="iq">è¦åˆ é™¤å®¹å™¨(ä¸æ˜¯å›¾åƒ)ï¼Œåªéœ€ä½¿ç”¨</em> <code class="fe ls lt lu lv b"><em class="iq">docker rm -f todo_redis</em></code></p></blockquote><p id="cf97" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å¦‚æœä½ ä½¿ç”¨åŸºäºDockerçš„è®¾ç½®ï¼Œä½ å¯ä»¥è·³è¿‡å‰©ä¸‹çš„éƒ¨åˆ†ï¼Œç›´æ¥è¿›å…¥ä¸‹ä¸€ä¸ª(æœ€åçš„)éƒ¨åˆ†ï¼Œå› ä¸ºè¿™ä¸ªåº”ç”¨ç¨‹åºä½¿ç”¨<code class="fe ls lt lu lv b">localhost:6379</code>ä½œä¸ºé»˜è®¤çš„Redisä¸»æœº</p><p id="0baf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å¦‚æœæ‚¨å·²ç»æƒ³è¦†ç›–å®ƒï¼Œåªéœ€è®¾ç½®<code class="fe ls lt lu lv b">REDIS_HOST</code>ç¯å¢ƒå˜é‡ï¼Œä¾‹å¦‚</p><pre class="kg kh ki kj gt nv lv nw nx aw ny bi"><span id="3dc9" class="nz mz iq lv b gy oa ob l oc od">export REDIS_HOST=myredis:6379</span></pre><p id="e245" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å¦‚æœæ‚¨çš„Rediså®ä¾‹å—å¯†ç ä¿æŠ¤ï¼Œåªéœ€å°†<code class="fe ls lt lu lv b">REDIS_PASSWORD_REQUIRED</code>ç¯å¢ƒå˜é‡è®¾ç½®ä¸º<code class="fe ls lt lu lv b">true</code>å¹¶ä½¿ç”¨<code class="fe ls lt lu lv b">REDIS_PASSWORD</code>ç¯å¢ƒå˜é‡æ¥æŒ‡å®šå¯†ç ï¼Œä¾‹å¦‚</p><pre class="kg kh ki kj gt nv lv nw nx aw ny bi"><span id="82ce" class="nz mz iq lv b gy oa ob l oc od">export REDIS_HOST=my-secure-redis:6379<br/>export REDIS_PASSWORD_REQUIRED=true<br/>export REDIS_PASSWORD=foobarredis</span></pre><h2 id="b216" class="nz mz iq bd na ok ol dn ne om on dp ni lf oo op nk lj oq or nm ln os ot no ou bi translated">Azure Redisç¼“å­˜</h2><p id="3787" class="pw-post-body-paragraph kw kx iq ky b kz nq jr lb lc nr ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated"><a class="ae kv" href="https://docs.microsoft.com/azure/azure-cache-for-redis/cache-overview?WT.mc_id=medium-blog-abhishgu" rel="noopener ugc nofollow" target="_blank"> Azure Cache for Redisæ˜¯äº‘ä¸­çš„æ‰˜ç®¡äº§å“</a>ã€‚å®ƒæä¾›å¯¹æ‰˜ç®¡åœ¨Azureä¸­çš„å®‰å…¨ä¸“ç”¨Redisç¼“å­˜çš„è®¿é—®ï¼ŒAzureå†…å¤–çš„ä»»ä½•åº”ç”¨ç¨‹åºéƒ½å¯ä»¥è®¿é—®è¯¥ç¼“å­˜ã€‚</p><p id="553f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å‡ºäºè¿™ç¯‡åšå®¢çš„ç›®çš„ï¼Œæˆ‘ä»¬å°†è®¾ç½®ä¸€ä¸ªå¸¦æœ‰<code class="fe ls lt lu lv b">Basic</code>å±‚çš„Azure Redisç¼“å­˜ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸é€‚åˆå¼€å‘/æµ‹è¯•å’Œéå…³é”®å·¥ä½œè´Ÿè½½çš„å•èŠ‚ç‚¹ç¼“å­˜ã€‚è¯·æ³¨æ„ï¼Œæ‚¨è¿˜å¯ä»¥ä»<code class="fe ls lt lu lv b">Standard</code>å’Œ<code class="fe ls lt lu lv b">Premium</code>å±‚ä¸­é€‰æ‹©<a class="ae kv" href="https://docs.microsoft.com/azure/azure-cache-for-redis/cache-overview?WT.mc_id=medium-blog-abhishgu#feature-comparison" rel="noopener ugc nofollow" target="_blank">æä¾›ä¸åŒçš„ç‰¹æ€§ï¼ŒåŒ…æ‹¬æŒä¹…æ€§ã€é›†ç¾¤ã€åœ°ç†å¤åˆ¶ç­‰</a>ã€‚</p><p id="6c91" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æ‚¨å¯ä»¥ä½¿ç”¨Azure CLIé€šè¿‡<code class="fe ls lt lu lv b"><a class="ae kv" href="https://docs.microsoft.com/cli/azure/redis?view=azure-cli-latest&amp;WT.mc_id=medium-blog-abhishgu#az-redis-create" rel="noopener ugc nofollow" target="_blank">az redis create</a></code>å‘½ä»¤å¿«é€Ÿè®¾ç½®Azure Redisç¼“å­˜å®ä¾‹ï¼Œä¾‹å¦‚</p><pre class="kg kh ki kj gt nv lv nw nx aw ny bi"><span id="0e75" class="nz mz iq lv b gy oa ob l oc od">az redis create --location westus2 --name todo-redis --resource-group todo-app-group --sku Basic --vm-size c0</span></pre><blockquote class="ml mm mn"><p id="cf83" class="kw kx lw ky b kz la jr lb lc ld ju le mo lg lh li mp lk ll lm mq lo lp lq lr ij bi translated"><em class="iq">ç»“å¸</em> <a class="ae kv" href="https://docs.microsoft.com/azure/azure-cache-for-redis/scripts/create-cache?WT.mc_id=medium-blog-abhishgu" rel="noopener ugc nofollow" target="_blank"> <em class="iq">â€œä¸ºRedisåˆ›å»ºAzureç¼“å­˜â€</em> </a> <em class="iq">è·å–åˆ†æ­¥æŒ‡å—</em></p></blockquote><p id="1b19" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å®Œæˆåï¼Œæ‚¨éœ€è¦è·å–è¿æ¥åˆ°Azure Redisç¼“å­˜å®ä¾‹æ‰€éœ€çš„ä¿¡æ¯ï¼Œå³ä¸»æœºã€ç«¯å£å’Œè®¿é—®å¯†é’¥ã€‚è¿™ä¹Ÿå¯ä»¥ä½¿ç”¨CLIæ¥å®Œæˆï¼Œä¾‹å¦‚</p><pre class="kg kh ki kj gt nv lv nw nx aw ny bi"><span id="e16d" class="nz mz iq lv b gy oa ob l oc od">//host and (SSL) port<br/>az redis show --name todo-redis --resource-group todo-app-group --query [hostName,sslPort] --output tsv</span><span id="bbc0" class="nz mz iq lv b gy oe ob l oc od">//primary access key<br/>az redis list-keys --name todo-redis --resource-group todo-app-group --query [primaryKey] --output tsv</span></pre><blockquote class="ml mm mn"><p id="4b6f" class="kw kx lw ky b kz la jr lb lc ld ju le mo lg lh li mp lk ll lm mq lo lp lq lr ij bi translated"><em class="iq"> Checkout </em> <a class="ae kv" href="https://docs.microsoft.com/azure/azure-cache-for-redis/scripts/cache-keys-ports?WT.mc_id=medium-blog-abhishgu" rel="noopener ugc nofollow" target="_blank"> <em class="iq">â€œè·å–Redisçš„Azureç¼“å­˜çš„ä¸»æœºåã€ç«¯å£å’Œå¯†é’¥â€</em> </a> <em class="iq">è·å–åˆ†æ­¥æŒ‡å—</em></p></blockquote><p id="6d84" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å¥½äº†ï¼Œç°åœ¨æ‚¨å¯ä»¥ç”¨åˆšåˆšæå–çš„ä¿¡æ¯è®¾ç½®æ‰€éœ€çš„ç¯å¢ƒå˜é‡ï¼Œä¾‹å¦‚</p><pre class="kg kh ki kj gt nv lv nw nx aw ny bi"><span id="6331" class="nz mz iq lv b gy oa ob l oc od">//todo-redis is the name of the cache<br/>export REDIS_HOST=todo-redis.redis.cache.windows.net:6380<br/>export REDIS_PASSWORD_REQUIRED=true<br/>export REDIS_PASSWORD=[primary access key]<br/>export REDIS_SSL_REQUIRED=true</span></pre><blockquote class="ml mm mn"><p id="9a7a" class="kw kx lw ky b kz la jr lb lc ld ju le mo lg lh li mp lk ll lm mq lo lp lq lr ij bi translated"><em class="iq">åº”ç”¨ç¨‹åºä½¿ç”¨TLS 1.2é€šè¿‡SSLè¿æ¥åˆ°Redisâ€”</em><a class="ae kv" href="https://docs.microsoft.com/azure/azure-cache-for-redis/cache-remove-tls-10-11?WT.mc_id=medium-blog-abhishgu" rel="noopener ugc nofollow" target="_blank"><em class="iq">è¿™æ˜¯æ¨èçš„æ–¹æ³•</em> </a></p></blockquote><p id="32df" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ä½ åº”è¯¥å·²ç»å‡†å¤‡å¥½è¯•ç”¨è¿™ä¸ªåº”ç”¨ç¨‹åºäº†</p></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="825e" class="my mz iq bd na nb nc nd ne nf ng nh ni jw nj jx nk jz nl ka nm kc nn kd no np bi translated">ä¸€äº›todosï¼</h1><p id="c1bf" class="pw-post-body-paragraph kw kx iq ky b kz nq jr lb lc nr ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated">é¦–å…ˆåˆ›å»ºä¸€ä¸ª<code class="fe ls lt lu lv b">todo</code></p><pre class="kg kh ki kj gt nv lv nw nx aw ny bi"><span id="73e4" class="nz mz iq lv b gy oa ob l oc od">todo create --description "write the todo cli app"</span></pre><p id="6fbe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æ‚¨åº”è¯¥ä¼šçœ‹åˆ°è¿™ä¸ªå“åº”</p><pre class="kg kh ki kj gt nv lv nw nx aw ny bi"><span id="b29b" class="nz mz iq lv b gy oa ob l oc od">created todo! use 'todo list' to get your todos</span></pre><p id="aad5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å¤šåˆ›é€ ä¸€äº›</p><pre class="kg kh ki kj gt nv lv nw nx aw ny bi"><span id="8cad" class="nz mz iq lv b gy oa ob l oc od">todo create --description "write the tutorial for redis cli app using go"<br/>todo create --description "push cli app code to github"<br/>todo create --description "get some sleep"</span></pre><p id="a649" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ç”¨<code class="fe ls lt lu lv b">todo list</code>åˆ—å‡ºä½ æ‰€æœ‰çš„<code class="fe ls lt lu lv b">todo</code>ã€‚æ‚¨åº”è¯¥çœ‹åˆ°:</p><pre class="kg kh ki kj gt nv lv nw nx aw ny bi"><span id="cb3d" class="nz mz iq lv b gy oa ob l oc od">+----+--------------------------------+---------+<br/>| ID |          DESCRIPTION           | STATUS  |<br/>+----+--------------------------------+---------+<br/>|  3 | push cli app code to github    | pending |<br/>|  2 | write the tutorial for redis   | pending |<br/>|    | cli app using go               |         |<br/>|  1 | write the todo cli app         | pending |<br/>|  4 | get some sleep                 | pending |<br/>+----+--------------------------------+---------+</span></pre><p id="ba44" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æ›´æ–°å‡ ä¸ª<code class="fe ls lt lu lv b">todo</code>å¹´ä»£</p><pre class="kg kh ki kj gt nv lv nw nx aw ny bi"><span id="8886" class="nz mz iq lv b gy oa ob l oc od">todo update --id 1 --status completed<br/>todo update --id 2 --status in-progress<br/>todo update --id 4 --description "get some sleep NOW"</span></pre><p id="9f17" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">åˆ—å‡º<code class="fe ls lt lu lv b">todo</code>åº”è¯¥ä¼šç»™ä½ æ›´æ–°çš„ä¿¡æ¯:</p><pre class="kg kh ki kj gt nv lv nw nx aw ny bi"><span id="a02b" class="nz mz iq lv b gy oa ob l oc od">+----+--------------------------------+-------------+<br/>| ID |          DESCRIPTION           |   STATUS    |<br/>+----+--------------------------------+-------------+<br/>|  3 | push cli app code to github    | pending     |<br/>|  2 | write the tutorial for redis   | in-progress |<br/>|    | cli app using go               |             |<br/>|  1 | write the todo cli app         | completed   |<br/>|  4 | get some sleep NOW             | pending     |<br/>+----+--------------------------------+-------------+</span></pre><p id="5f9a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ä»…åˆ—å‡º<code class="fe ls lt lu lv b">pending</code> <code class="fe ls lt lu lv b">todo</code> s:</p><pre class="kg kh ki kj gt nv lv nw nx aw ny bi"><span id="9d84" class="nz mz iq lv b gy oa ob l oc od">todo list --status pending</span></pre><p id="f171" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æ‚¨åº”è¯¥å¾—åˆ°:</p><pre class="kg kh ki kj gt nv lv nw nx aw ny bi"><span id="0b4a" class="nz mz iq lv b gy oa ob l oc od">+----+-----------------------------+---------+<br/>| ID |         DESCRIPTION         | STATUS  |<br/>+----+-----------------------------+---------+<br/>|  3 | push cli app code to github | pending |<br/>|  4 | get some sleep NOW          | pending |<br/>+----+-----------------------------+---------+</span></pre><p id="9727" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å…ˆåˆ äº†<code class="fe ls lt lu lv b">todo</code> #4(è°éœ€è¦ç¡è§‰ï¼ï¼Ÿ)</p><pre class="kg kh ki kj gt nv lv nw nx aw ny bi"><span id="d1e8" class="nz mz iq lv b gy oa ob l oc od">todo delete --id 4</span></pre><p id="61d2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ä¸å†éœ€è¦ç¡çœ ï¼(æ ¹æ®<code class="fe ls lt lu lv b">todo list</code></p><pre class="kg kh ki kj gt nv lv nw nx aw ny bi"><span id="a8c1" class="nz mz iq lv b gy oa ob l oc od">+----+--------------------------------+-------------+<br/>| ID |          DESCRIPTION           |   STATUS    |<br/>+----+--------------------------------+-------------+<br/>|  3 | push cli app code to github    | pending     |<br/>|  2 | write the tutorial for redis   | in-progress |<br/>|    | cli app using go               |             |<br/>|  1 | write the todo cli app         | completed   |<br/>+----+--------------------------------+-------------+</span></pre><h2 id="37d1" class="nz mz iq bd na ok ol dn ne om on dp ni lf oo op nk lj oq or nm ln os ot no ou bi translated">ä¸è¦å¿˜è®°æ£€æŸ¥Redis</h2><p id="5d25" class="pw-post-body-paragraph kw kx iq ky b kz nq jr lb lc nr ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated">è®©æˆ‘ä»¬é€šè¿‡æŸ¥çœ‹Redisæ•°æ®ç»“æ„æ¥ç¡®è®¤ä¸€ä¸‹ã€‚ä¸ºæ­¤ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨<code class="fe ls lt lu lv b"><a class="ae kv" href="https://redis.io/topics/rediscli" rel="noopener ugc nofollow" target="_blank">redis-cli</a></code>ã€‚å¦‚æœä½ ä½¿ç”¨Azure Redisç¼“å­˜ï¼Œæˆ‘ä¼šæ¨èä½¿ç”¨ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„åŸºäºwebçš„Redisæ§åˆ¶å°</p><p id="19ae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">è®©æˆ‘ä»¬æ£€æŸ¥å·²ç»åˆ›å»ºçš„æ•°æ®ç»“æ„ã€‚æˆ‘ä»¬ä½¿ç”¨<code class="fe ls lt lu lv b">todo</code>æ¥å‘½åæ•°æ®ç»“æ„(å®ç°ç»†èŠ‚åœ¨ä¸‹ä¸€ç¯‡åšæ–‡ä¸­)ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code class="fe ls lt lu lv b"><a class="ae kv" href="https://redis.io/commands/scan" rel="noopener ugc nofollow" target="_blank">SCAN</a></code>æ¥ä½¿ç”¨è¿™ä¸ªæ¨¡å¼</p><pre class="kg kh ki kj gt nv lv nw nx aw ny bi"><span id="392e" class="nz mz iq lv b gy oa ob l oc od">SCAN 0 COUNT 1000 MATCH todo*</span></pre><blockquote class="ml mm mn"><p id="0a5a" class="kw kx lw ky b kz la jr lb lc ld ju le mo lg lh li mp lk ll lm mq lo lp lq lr ij bi translated"><em class="iq">å‡ºäºæ€§èƒ½è€ƒè™‘</em> <code class="fe ls lt lu lv b"><a class="ae kv" href="https://redis.io/commands/keys" rel="noopener ugc nofollow" target="_blank"><em class="iq">KEYS</em></a></code> <em class="iq">å‘½ä»¤è¢«ç¦æ­¢</em></p></blockquote><p id="9869" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æ‚¨å°†çœ‹åˆ°ä»¥ä¸‹è¾“å‡º:</p><pre class="kg kh ki kj gt nv lv nw nx aw ny bi"><span id="c549" class="nz mz iq lv b gy oa ob l oc od">1) "0"<br/>2) 1) "todos-id-set"<br/>   2) "todo:1"<br/>   3) "todo:2"<br/>   4) "todo:3"<br/>   5) "todoid"</span></pre><p id="f833" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">todos-id-set</code>å’Œ<code class="fe ls lt lu lv b">todoid</code>åˆ†åˆ«å¯¹åº”<code class="fe ls lt lu lv b">SET</code>å’Œ<code class="fe ls lt lu lv b">STRING</code>(è®¡æ•°å™¨)æ•°æ®ç±»å‹ã€‚<code class="fe ls lt lu lv b">todo:1</code>ã€<code class="fe ls lt lu lv b">todo:2</code>å’Œ<code class="fe ls lt lu lv b">todo:3</code>æ˜¯åŒ…å«<code class="fe ls lt lu lv b">todo</code>ç»†èŠ‚çš„<code class="fe ls lt lu lv b">HASH</code>æ•°æ®ç±»å‹ã€‚è®©æˆ‘ä»¬çœ‹çœ‹<code class="fe ls lt lu lv b">todo:1</code>(å³<code class="fe ls lt lu lv b">todo</code>ä¸<code class="fe ls lt lu lv b">id</code> 1)</p><pre class="kg kh ki kj gt nv lv nw nx aw ny bi"><span id="5965" class="nz mz iq lv b gy oa ob l oc od">HGETALL todo:1</span></pre><p id="afa8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æ‚¨åº”è¯¥ä¼šå¾—åˆ°ä»¥ä¸‹å“åº”:</p><pre class="kg kh ki kj gt nv lv nw nx aw ny bi"><span id="527f" class="nz mz iq lv b gy oa ob l oc od">1) "status"<br/>2) "pending"<br/>3) "desc"<br/>4) "write the todo cli app"</span></pre><blockquote class="ml mm mn"><p id="9708" class="kw kx lw ky b kz la jr lb lc ld ju le mo lg lh li mp lk ll lm mq lo lp lq lr ij bi translated"><em class="iq">ä½œä¸ºç»ƒä¹ ï¼Œç¡®è®¤å…¶ä»–</em> <code class="fe ls lt lu lv b"><em class="iq">todo</em></code> <em class="iq"> sï¼ŒåŒæ—¶æŸ¥çœ‹</em> <code class="fe ls lt lu lv b"><em class="iq">SET</em></code> <em class="iq">å’Œ</em> <code class="fe ls lt lu lv b"><em class="iq">STRING</em></code> <em class="iq">è®¡æ•°å™¨æ•°æ®ç±»å‹</em></p></blockquote><p id="07bb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å¥½å§ï¼è¿™ç¯‡åšæ–‡åˆ°æ­¤ç»“æŸã€‚è¯·ç»§ç»­å…³æ³¨ç¬¬äºŒéƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†æ¢ç´¢ä»£ç å¹¶äº†è§£äº‹æƒ…æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</p></div></div>    
</body>
</html>