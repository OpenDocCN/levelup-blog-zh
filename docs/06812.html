<html>
<head>
<title>Build a Color Scale Generator with Chroma.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Chroma.js构建色标生成器</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/build-a-color-scale-generator-with-chroma-js-810b7cf7b587?source=collection_archive---------6-----------------------#2021-01-04">https://levelup.gitconnected.com/build-a-color-scale-generator-with-chroma-js-810b7cf7b587?source=collection_archive---------6-----------------------#2021-01-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3e49" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让我们来看看chroma.js缩放函数</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f0161fd91a7805ba6b8989632c10f8b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5w-om6b7tWkvH46Q"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">里卡多·戈麦斯·安吉尔在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="704b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我最近偶然发现了一个有用的JavaScript库，叫做<a class="ae ky" href="https://gka.github.io/chroma.js/" rel="noopener ugc nofollow" target="_blank"> chroma.js </a>。Chroma.js是一个小型的零依赖JavaScript库，支持各种颜色转换和色阶。</p><p id="d432" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用chroma.js可以做很多事情，包括:</p><ul class=""><li id="81b3" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">从多种格式中读取颜色</li><li id="7bbc" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">分析和处理颜色</li><li id="fea5" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">将颜色转换成多种格式</li><li id="f2aa" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">不同颜色空间中的线性插值和贝塞尔插值</li></ul><p id="3737" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将通过使用HTML、CSS和JavaScript构建一个色标生成器来看看这个库。这是我们将要构建的预览。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/f2473745a571ffbcfc779910dd503731.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*5h95KSj-iMXSH1JkO1pyKA.gif"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">我们将构建的预览</figcaption></figure><p id="c712" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以在这里查看项目实况<a class="ae ky" href="https://chadmuro.github.io/color-scale-generator/" rel="noopener ugc nofollow" target="_blank"/>，或者在下面的我的GitHub repo查看整个项目的代码。</p><div class="ml mm gp gr mn mo"><a href="https://github.com/chadmuro/color-scale-generator" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd iu gy z fp mt fr fs mu fu fw is bi translated">Chad muro/色标发生器</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">在GitHub上创建一个帐户，为Chad muro/色标生成器的开发做出贡献。</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">github.com</p></div></div><div class="mx l"><div class="my l mz na nb mx nc ks mo"/></div></div></a></div></div><div class="ab cl nd ne hx nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="im in io ip iq"><h1 id="c317" class="nk nl it bd nm nn no np nq nr ns nt nu jz nv ka nw kc nx kd ny kf nz kg oa ob bi translated">设置我们的HTML</h1><p id="b3c9" class="pw-post-body-paragraph kz la it lb b lc oc ju le lf od jx lh li oe lk ll lm of lo lp lq og ls lt lu im bi translated">让我们首先设置我们的应用程序。我们将有三个文件，index.html，样式. css和脚本. js</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/75055f10a566beee8b225b8f33ec7486.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/1*SVlIZ5H_rRaUKsnW7v_taA.png"/></div></figure><p id="9c58" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将首先连接styles.css和script.js文件，并将chroma.js的<a class="ae ky" href="https://cdnjs.com/libraries/chroma-js" rel="noopener ugc nofollow" target="_blank"> CDN </a>添加到我们的HTML文件中。将这行代码添加到head标记中。</p><pre class="kj kk kl km gt oi oj ok ol aw om bi"><span id="130c" class="on nl it oj b gy oo op l oq or">&lt;link rel="stylesheet" href="styles.css"&gt;</span></pre><p id="62fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">结束body标签上面的这几行代码。</p><pre class="kj kk kl km gt oi oj ok ol aw om bi"><span id="0757" class="on nl it oj b gy oo op l oq or">&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/chroma-js/2.1.0/chroma.min.js"&gt;&lt;/script&gt;<br/>&lt;script src="script.js"&gt;&lt;/script&gt;</span></pre><p id="568d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们构建HTML文件的主体。在body标签中，我们将有一个带有h1标签的标题。呆在我们的头中，我们将创建一个div来保存我们的颜色输入。这里，我们有两个颜色类型的输入，每个输入都有一个id。在我们的标题下面，我们将有一个div标签，它将是显示色阶的容器。我们的HTML文件应该如下所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/4da36f212d661406f9934a794774fd88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x6jIYGEKh6x06i1IBiabVg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">index.html</figcaption></figure><h1 id="f68b" class="nk nl it bd nm nn ot np nq nr ou nt nu jz ov ka nw kc ow kd ny kf ox kg oa ob bi translated">使用CSS添加样式</h1><p id="7e5d" class="pw-post-body-paragraph kz la it lb b lc oc ju le lf od jx lh li oe lk ll lm of lo lp lq og ls lt lu im bi translated">我们将使用CSS为我们的应用程序添加一些基本的样式。在我们的应用程序中，我们利用flexbox进行布局和悬停功能。如果你不熟悉flexbox，可以看看下面的CSS-Tricks指南。</p><div class="ml mm gp gr mn mo"><a href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd iu gy z fp mt fr fs mu fu fw is bi translated">Flexbox | CSS-技巧完全指南</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">我们的CSS flexbox布局综合指南。这份完整的指南解释了flexbox的一切，重点是所有…</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">css-tricks.com</p></div></div><div class="mx l"><div class="oy l mz na nb mx nc ks mo"/></div></div></a></div><p id="606d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想复制这个文件，你可以看看下面的styles.css图片或者检查我的报告。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/878ff3b949effe0727f8856b6093c8e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/format:webp/1*Iff_caMJRbxK9Dz7LBKw0Q.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">样式. css</figcaption></figure><h1 id="5aca" class="nk nl it bd nm nn ot np nq nr ou nt nu jz ov ka nw kc ow kd ny kf ox kg oa ob bi translated">Chroma.js的比例函数</h1><p id="80eb" class="pw-post-body-paragraph kz la it lb b lc oc ju le lf od jx lh li oe lk ll lm of lo lp lq og ls lt lu im bi translated">在我们的应用程序中，我们将使用chroma.js中的scale函数来生成一个色标。这是一个将数值映射到调色板的函数。您可以将颜色数组传递给chroma.scale。如果您传递两种以上的颜色，它们将沿渐变分布。</p><pre class="kj kk kl km gt oi oj ok ol aw om bi"><span id="ad6f" class="on nl it oj b gy oo op l oq or">chroma.scale([color1, color2]);</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pa"><img src="../Images/5722b5c75c946265ca6085bd0d23921c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VYoE8EUkF90gXK0OWKgzGA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://gka.github.io/chroma.js/#chroma-scale" rel="noopener ugc nofollow" target="_blank">https://gka.github.io/chroma.js/#chroma-scale</a></figcaption></figure><p id="744b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还将链接另一个名为scale.colors的函数，它接受一个数字作为参数。该函数从色标中获取该数量的等距颜色，并返回一个颜色数组。</p><pre class="kj kk kl km gt oi oj ok ol aw om bi"><span id="9896" class="on nl it oj b gy oo op l oq or">chroma.scale([color1, color2]).colors(6);</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pb"><img src="../Images/622086e27693b5868acfde12dad81d7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oWOr9ZxuNv_7nm1MKYCAIA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">https://gka.github.io/chroma.js/#scale-colors<a class="ae ky" href="https://gka.github.io/chroma.js/#scale-colors" rel="noopener ugc nofollow" target="_blank"/></figcaption></figure><p id="1df5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们的应用程序中，我们将只使用chroma.scale和scale.colors函数。但是，您可以查看许多其他有用的函数，包括scale.domain和scale.mode。</p><p id="3040" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">scale.domain允许您将输入域更改为您的用例。当有两种以上的颜色输入时，您也可以设定每种颜色的位置。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pc"><img src="../Images/880be2969e327de054408100c549d17a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*syEjmwiB6IMwvLzZ1gjoPA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">【https://gka.github.io/chroma.js/#scale-domain T4】</figcaption></figure><p id="7136" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">scale.mode允许您更改想要使用的颜色模式。有时当你混合颜色时，中心周围的渐变会变暗。我肯定不是这方面的专家，但我发现这个<a class="ae ky" href="https://www.youtube.com/watch?v=LKnqECcg6Gw" rel="noopener ugc nofollow" target="_blank">视频</a>有助于解释为什么会发生这种情况。下图显示了改变模式时颜色渐变的一些效果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/404eb77d8ebf39431d38645df85de3c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yJicfK07n7HxJfLiKDKv8Q.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://gka.github.io/chroma.js/#scale-mode" rel="noopener ugc nofollow" target="_blank">https://gka.github.io/chroma.js/#scale-mode</a></figcaption></figure><h1 id="46b5" class="nk nl it bd nm nn ot np nq nr ou nt nu jz ov ka nw kc ow kd ny kf ox kg oa ob bi translated">创建我们的JavaScript文件</h1><p id="3600" class="pw-post-body-paragraph kz la it lb b lc oc ju le lf od jx lh li oe lk ll lm of lo lp lq og ls lt lu im bi translated">既然我们已经了解了如何使用chroma scale函数，那么让我们通过用JavaScript添加功能来完成我们的应用程序。我们将首先获取对颜色输入和颜色容器的引用。</p><pre class="kj kk kl km gt oi oj ok ol aw om bi"><span id="9110" class="on nl it oj b gy oo op l oq or">const colorOne = document.getElementById('color1');<br/>const colorTwo = document.getElementById('color2');<br/>const colorContainer = document.getElementById('container');</span></pre><p id="064a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，让我们在颜色输入上添加事件侦听器，每当颜色输入改变时，事件侦听器就会触发。</p><pre class="kj kk kl km gt oi oj ok ol aw om bi"><span id="9770" class="on nl it oj b gy oo op l oq or">colorOne.addEventListener('change', () =&gt; {<br/>  generateColors(colorOne.value, colorTwo.value);<br/>});<br/>colorTwo.addEventListener('change', () =&gt; {<br/>  generateColors(colorOne.value, colorTwo.value);<br/>});</span></pre><p id="cb01" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们将创建generateColors函数。这个函数将接受颜色输入值，并使用chroma.js生成一个色标。</p><pre class="kj kk kl km gt oi oj ok ol aw om bi"><span id="c8dc" class="on nl it oj b gy oo op l oq or">const generateColors = (color1, color2) =&gt; {<br/>  colorContainer.innerHTML = '';<br/>  const colorPalette = chroma.scale([color1, color2]).colors(6);<br/>  <br/>  colorPalette.forEach(color =&gt; {<br/>    const colorItem = document.createElement('div');<br/>    colorItem.classList.add('container-item');<br/>    colorItem.style.background = color;<br/>    colorContainer.appendChild(colorItem);<br/>  });<br/>};</span></pre><p id="a05d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我们将使用输入中的默认值来调用generateColors函数。</p><pre class="kj kk kl km gt oi oj ok ol aw om bi"><span id="8515" class="on nl it oj b gy oo op l oq or">generateColors(colorOne.value, colorTwo.value);</span></pre><p id="cd15" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最终的script.js文件应该如下所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pe"><img src="../Images/a10493da07c2628d23cc5f346792f25d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NFyt3ttGMT_Evs4KuPTrYQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">script.js</figcaption></figure></div><div class="ab cl nd ne hx nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="im in io ip iq"><p id="8133" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就是这样！你的应用程序现在应该是完整的，你可以继续添加更多你喜欢的样式和功能。</p><p id="5e44" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用chroma.js库可以对颜色做很多事情，我建议查看他们的<a class="ae ky" href="https://gka.github.io/chroma.js/" rel="noopener ugc nofollow" target="_blank">文档</a>以了解更多信息。</p><p id="a800" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！如果你喜欢这篇文章，看看下面的文章，我们看了Anime.js库并创建了一个弹跳动画。</p><div class="ml mm gp gr mn mo"><a href="https://medium.com/javascript-in-plain-english/build-a-bouncing-basketball-app-with-anime-js-90eb5b4630d1" rel="noopener follow" target="_blank"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd iu gy z fp mt fr fs mu fu fw is bi translated">用Anime.js搭建弹跳篮球App</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">用Anime.js创建弹跳效果</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">medium.com</p></div></div><div class="mx l"><div class="pf l mz na nb mx nc ks mo"/></div></div></a></div></div></div>    
</body>
</html>