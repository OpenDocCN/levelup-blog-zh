<html>
<head>
<title>Covid19 Tweet Analysis (with source code)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Covid19推文分析(带源代码)</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/covid19-tweet-analysis-with-source-code-e916e2871de6?source=collection_archive---------7-----------------------#2021-01-24">https://levelup.gitconnected.com/covid19-tweet-analysis-with-source-code-e916e2871de6?source=collection_archive---------7-----------------------#2021-01-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="b147" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用原始NLP和NLTK的基本情感分析。情感分析是分析给定文本背后的情感的技术。在本文中，我们将研究分析给定文本情感的方法，然后使用GetOldTweets3 API分析Twitter数据。你应该熟悉python，将它安装在你的系统中，并且拥有你自己的IDE。所以不多说了，让我们开始吧！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/127c33ae514c323e669b48cae89f76e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*UZhsdofe-RS4ov1u.png"/></div></div></figure><h1 id="ee96" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">情感分析</h1><p id="9a00" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated"><strong class="jp ir"> <em class="ma">第一步:清理数据，</em> </strong>我们将从清理要分析情绪的文本开始。因此，我们将创建一个外部文本文件，将要分析的段落插入到该特定的文本文件中，比如说“main.txt”。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/3fbd5fe41d8ec6e3b5ecc5785dd3d041.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/0*LkbNkTAsde2-yRlS.png"/></div></figure><p id="28e1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">清理给定数据的第一步是将其转换为一种通用的独立格式，这里我们将坚持小写。因此，我们将把“main.txt”中的文本读入python，并将其转换成小写字母。接下来，我们要删除文章中所有的标点符号。第三个子步骤是将半清理的数据标记化。通过标记化，我的意思是将一个数据块分割成一个单词列表(我们将使用split函数)，最后我们将寻找停用词(没有任何情感的单词)并将它们从我们最终清理的文本列表中删除。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mc"><img src="../Images/f2a9e1dc0a570f3dfb1e69b307c52811.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C1ueGNtO6WY7LrGBE3dOCQ.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk translated">将文本转换成小写，并删除所有标点符号。</figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mh"><img src="../Images/9ef48b64eee565364941bcf305bb2dd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X1HUFkYP34XO-15leMOPSg.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk translated">标记并删除停用词(没有NLTK)。</figcaption></figure><p id="7977" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="ma">第二步:情感算法(基本的自然语言处理)，</em> </strong>一旦我们清理完数据，我们需要创建一个外部文件(emotions.txt)，里面包含单词以及附加在单词上的情感。例如“game”:“happy”，所以一旦创建了文件，我们需要将它读入python并对其进行清理。清理之后，我们需要检查emotions.txt中的单词是否也存在于我们之前清理的单词的标记化列表中。这样，我们就能知道文章中包含的情感。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mi"><img src="../Images/783b828e9a3d77a19b27818cdb59da28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*77XNnJG2PZQyySbLm8YOpg.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk translated">emotions.txt</figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mj"><img src="../Images/631f781916ae71616de44b8322ccdf1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xstMkv0SYarlZVh9uMdRQw.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk translated">阅读并清理情绪. txt</figcaption></figure><p id="8d80" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们确实找到了与文章相关的情感，但我们真正需要的是统计数据，所以我们需要计算特定情感出现的次数，进行计算，并绘制图表。(确保从集合导入计数器添加<strong class="jp ir">，以便使用计数器功能)</strong></p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mk"><img src="../Images/f2d5ce51fd755798f96e55785774e16d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-59ho8nvXE96mpa_EIxG_w.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk translated">(计数器是从集合包导入的)</figcaption></figure><p id="12bf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="ma">最后一步:使用Mat Plot Lib绘制图表，</em> </strong>一旦计数完成，就可以将这些计数绘制成条形图，这样在视觉上就令人愉悦了。</p><div class="km kn ko kp gt ab cb"><figure class="ml kq mm mn mo mp mq paragraph-image"><img src="../Images/7cc4b2a3d361ad176bd6062eb0e6aa78.png" data-original-src="https://miro.medium.com/v2/resize:fit:870/format:webp/1*LpYfB1Dvwq53qrk4TusIZQ.png"/></figure><figure class="ml kq mr mn mo mp mq paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><img src="../Images/c789cde18839f6a79a9bac77fd207ddd.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*Wn4yfABkuMWocyPOJR8IEA.png"/></div></figure></div><h1 id="8832" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated"><strong class="ak"> <em class="ms"> Covid19推文分析</em> </strong></h1><p id="3e08" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">我们之所以从基本的情感分析开始，是因为推文分析完全基于它。这里唯一不同的是，我们要分析的文本。以前，我们习惯于将段落加载到外部文本文件(main.txt)中并对其进行分析。这里，我们将调用Mottl 开发的名为<a class="ae mt" href="https://github.com/Mottl/GetOldTweets3" rel="noopener ugc nofollow" target="_blank"> GetOldTweets3的API，而不是外部文本文件。</a></p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mu"><img src="../Images/6045744e339457c6b5ef8a11032707f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AmZC4d8_BjsBzGtmBKcyFQ.png"/></div></div></figure><p id="4bd8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将定义一个名为get_tweets的函数，在该函数下，我们将编写代码来获取给定时间线、给定关键字以及给定限制的tweets。官方<a class="ae mt" href="https://github.com/Mottl/GetOldTweets3" rel="noopener ugc nofollow" target="_blank"> GetOldTweets3文档</a>中提供了代码。除此之外的一切几乎和我们的情感分析部分一样。推文分析的源代码附在本文末尾。</p><h1 id="ebe3" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">自然语言工具包(NLTK)</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mv"><img src="../Images/8ec1f8e9cf48474c6e9a6e054266da0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FKKw9QRJlM_ppfHh63134A.png"/></div></div></figure><p id="d78b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">NLTK帮助我们标记、产生预定义的停用词，以及帮助我们容易地定义情绪。因此，现在我们可以摆脱迄今为止必须做的所有手工工作。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mw"><img src="../Images/5dffd467c27b0cbcddca95fba3c9fbca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LVgPsTafo8XQxf2SrRfBeQ.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk translated">NLTK安装</figcaption></figure><p id="8390" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">NLTK非常快速高效！但是它需要安装，而且可能会很慢，这取决于你的系统。所以我提供了没有NLTK的源代码。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mx"><img src="../Images/9cb41696a1cf403ef49bb9cda4ef0004.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QNupvZjc-WnydRw7mNLsWw.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk translated">使用NLTK进行标记化、停用词生成、情感生成</figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi my"><img src="../Images/faddf5af7397cac027d38dcae41f69a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1308/format:webp/1*WR84lKE6YQNjlX2KA_QU5A.png"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/90eb73ceb56be67fa04a720cc31568d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/0*xmA_RtI-0IR2fdps.gif"/></div></figure><p id="c4b2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">【https://github.com/ritchiepulikottil/covid19_tweet_analysis】covid 19 Tweet分析的源代码<strong class="jp ir">(不含NLTK): </strong> <a class="ae mt" href="https://github.com/ritchiepulikottil/covid19_tweet_analysis" rel="noopener ugc nofollow" target="_blank"/></p><p id="9122" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae mt" href="https://github.com/ritchiepulikottil" rel="noopener ugc nofollow" target="_blank"> GitHub </a></p><p id="ef0f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae mt" href="https://www.linkedin.com/in/ritchie-pulikottil-6876341aa/" rel="noopener ugc nofollow" target="_blank">领英</a></p><p id="4132" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae mt" href="https://twitter.com/itsritchie1005" rel="noopener ugc nofollow" target="_blank">推特</a></p><p id="dc4b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae mt" href="https://instagram.com/ritchiepulikottil" rel="noopener ugc nofollow" target="_blank"> Instagram </a></p></div></div>    
</body>
</html>