<html>
<head>
<title>A Simple Introduction to the ES6 Map Data Structure in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中ES6地图数据结构的简单介绍</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/simple-introduction-to-map-in-javascript-6786034f9154?source=collection_archive---------0-----------------------#2019-06-04">https://levelup.gitconnected.com/simple-introduction-to-map-in-javascript-6786034f9154?source=collection_archive---------0-----------------------#2019-06-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/9ccc3bef3d7c3ddb015bc2e17c7da292.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dh69tzZdLKJ9B1hOhviNAQ.jpeg"/></div></div></figure><p id="283c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一个<code class="fe kw kx ky kz b">Map</code>是一个<code class="fe kw kx ky kz b">key🔑 — value</code>对的集合，类似于一个对象。它按照插入顺序存储<code class="fe kw kx ky kz b">key🔑 — value</code>对。</p><p id="f6a8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以通过传递一个iterable对象来创建一个<code class="fe kw kx ky kz b">Map</code>，该对象的元素是<code class="fe kw kx ky kz b">key🔑 — value</code>(例如<code class="fe kw kx ky kz b"><strong class="ka ir">[ [1,”one”], [2,”two”] ]</strong></code>)的形式，或者您可以创建一个空的<code class="fe kw kx ky kz b">Map</code>，然后插入条目。</p><h2 id="7ffc" class="la lb iq bd lc ld le dn lf lg lh dp li kj lj lk ll kn lm ln lo kr lp lq lr ls bi translated"><strong class="ak">如果我们有对象，为什么我们需要地图</strong></h2><ol class=""><li id="85da" class="lt lu iq ka b kb lv kf lw kj lx kn ly kr lz kv ma mb mc md bi translated">映射类似于对象，但是任何值都可以用作映射中的键，但是对象中的键只是字符串和符号</li></ol><figure class="mf mg mh mi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi me"><img src="../Images/05c31b0e21529d4d7ac0668c7b23525f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FeRuZyr7PZpgWVrLJATQCg.png"/></div></div></figure><p id="5693" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">2.<code class="fe kw kx ky kz b">Map</code>中的<code class="fe kw kx ky kz b"> key🔑 — value</code>对保持插入顺序，而Object不保持。</p><p id="146f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">3.你可以获取<code class="fe kw kx ky kz b">Map</code>的<code class="fe kw kx ky kz b">size</code>，但是我们没有内置的方法来获取Object中的size(但是我们可以手动完成)。</p><p id="cb1d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">4.映射是可迭代的，而默认情况下对象是不可迭代的。</p><p id="2f5f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">5.贴图具有普通对象不可用的附加方法</p><h2 id="5865" class="la lb iq bd lc ld le dn lf lg lh dp li kj lj lk ll kn lm ln lo kr lp lq lr ls bi translated"><strong class="ak">中的方法</strong>中的<code class="fe kw kx ky kz b"><strong class="ak">Maps</strong></code></h2><figure class="mf mg mh mi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mj"><img src="../Images/ddb8456709442042c8a2bd76827d5fbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9qa6KOy0EtF53Wypx48PSQ.png"/></div></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk translated">地图备忘单</figcaption></figure><p id="213f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">示例:</p><ol class=""><li id="08c9" class="lt lu iq ka b kb kc kf kg kj mo kn mp kr mq kv ma mb mc md bi translated">创建地图的不同方法</li></ol><figure class="mf mg mh mi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mr"><img src="../Images/b371b68483093e137f330c7556518513.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4lCYor7BuJW3_gfCsIaLGQ.png"/></div></div></figure><p id="30cc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">2.地图方法</p><p id="f879" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们创建简单的地图:</p><pre class="mf mg mh mi gt ms kz mt mu aw mv bi"><span id="6128" class="la lb iq kz b gy mw mx l my mz">//<strong class="kz ir"> creating a map </strong><br/>var fruits = new Map();</span><span id="4f35" class="la lb iq kz b gy na mx l my mz">fruits.set('🍎', "Apple");</span><span id="988b" class="la lb iq kz b gy na mx l my mz">fruits.set('🍋', "Mango");</span><span id="393a" class="la lb iq kz b gy na mx l my mz">fruits; //{"🍎" =&gt; "Apple", "🍋" =&gt; "Mango"}</span></pre><p id="3fe1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Map有一个属性<code class="fe kw kx ky kz b">size</code>，它返回当前的Map大小(条目总数)。</p><pre class="mf mg mh mi gt ms kz mt mu aw mv bi"><span id="1feb" class="la lb iq kz b gy mw mx l my mz">// size</span><span id="706d" class="la lb iq kz b gy na mx l my mz">fruits.size; // 2</span></pre><p id="05ba" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe kw kx ky kz b"><strong class="ka ir">set(🔑, value)</strong></code> <strong class="ka ir"> </strong> →设置地图中键的值并返回地图。如果键已经存在于映射中，那么值将被覆盖。</p><pre class="mf mg mh mi gt ms kz mt mu aw mv bi"><span id="c712" class="la lb iq kz b gy mw mx l my mz">//<strong class="kz ir"> set(key , value) method</strong></span><span id="84a6" class="la lb iq kz b gy na mx l my mz">fruits.set( '🍇', "Grapes");</span><span id="fe12" class="la lb iq kz b gy na mx l my mz">fruits; // {"🍎" =&gt; "Apple", "🍋" =&gt; "Mango", "🍇" =&gt; "Grapes"}</span></pre><p id="d7de" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe kw kx ky kz b"><strong class="ka ir">get(🔑)</strong></code> <strong class="ka ir"> </strong> →返回与键相关联的值，如果地图上没有与传递的键匹配的键，则返回undefined。</p><pre class="mf mg mh mi gt ms kz mt mu aw mv bi"><span id="fb9a" class="la lb iq kz b gy mw mx l my mz"><strong class="kz ir">// get(key)</strong><br/>fruits.get('🍇'); // GRAPES.</span><span id="ac8b" class="la lb iq kz b gy na mx l my mz">fruits.get('🍊'); //undefined.</span></pre><p id="2799" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe kw kx ky kz b"><strong class="ka ir">delete(🔑)</strong></code> <strong class="ka ir"> </strong> →删除与键匹配的条目，返回true。如果在映射中找不到该键，则返回false。</p><pre class="mf mg mh mi gt ms kz mt mu aw mv bi"><span id="cbc8" class="la lb iq kz b gy mw mx l my mz"><strong class="kz ir">// delete(key)</strong></span><span id="6035" class="la lb iq kz b gy na mx l my mz">fruits.delete('🍊') //false</span><span id="1692" class="la lb iq kz b gy na mx l my mz">fruits.delete('🍇'); // true</span></pre><p id="dbb9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe kw kx ky kz b"><strong class="ka ir">has(🔑)</strong></code> <strong class="ka ir"> </strong> →如果地图提供了关键字，则返回true，否则返回false。</p><pre class="mf mg mh mi gt ms kz mt mu aw mv bi"><span id="df00" class="la lb iq kz b gy mw mx l my mz"><strong class="kz ir">//HAS(key)</strong></span><span id="c3b7" class="la lb iq kz b gy na mx l my mz">fruits.has('🍇'); // true</span><span id="0d15" class="la lb iq kz b gy na mx l my mz">fruits.has('🍊'); //false</span></pre><p id="8245" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe kw kx ky kz b"><strong class="ka ir">keys()</strong></code> <strong class="ka ir"> </strong> →返回一个新的迭代器，其中包含按插入顺序排列的键。</p><pre class="mf mg mh mi gt ms kz mt mu aw mv bi"><span id="dfe7" class="la lb iq kz b gy mw mx l my mz"><strong class="kz ir">//keys</strong></span><span id="31e4" class="la lb iq kz b gy na mx l my mz">fruits.keys() // MapIterator {"🍎", "🍋"}</span></pre><p id="ce3b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe kw kx ky kz b"><strong class="ka ir">values()</strong></code> <strong class="ka ir"> </strong> →返回一个新的迭代器，其中包含按插入顺序排列的值。</p><pre class="mf mg mh mi gt ms kz mt mu aw mv bi"><span id="b1c2" class="la lb iq kz b gy mw mx l my mz"><strong class="kz ir">// values</strong></span><span id="1dad" class="la lb iq kz b gy na mx l my mz">fruits.values() // MapIterator {"Apple", "Mango"}</span></pre><p id="687d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe kw kx ky kz b"><strong class="ka ir">entries()</strong></code> →返回一个迭代器，它有一个数组[🔑-value]按插入顺序对。</p><pre class="mf mg mh mi gt ms kz mt mu aw mv bi"><span id="5c3b" class="la lb iq kz b gy mw mx l my mz"><strong class="kz ir">//entries --&gt; returns key value pair</strong></span><span id="10ad" class="la lb iq kz b gy na mx l my mz">fruits.entries() // MapIterator {"🍎" =&gt; "Apple", "🍋" =&gt; "Mango"}</span></pre><p id="9380" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe kw kx ky kz b"><strong class="ka ir">clear()</strong></code> →删除所有键🔑-映射中的值对。</p><pre class="mf mg mh mi gt ms kz mt mu aw mv bi"><span id="dfd1" class="la lb iq kz b gy mw mx l my mz"><strong class="kz ir">// clear</strong></span><span id="bade" class="la lb iq kz b gy na mx l my mz">fruits.clear(); // deletes all element</span><span id="ae5f" class="la lb iq kz b gy na mx l my mz">fruits; // Map(0) {}</span></pre><h2 id="e384" class="la lb iq bd lc ld le dn lf lg lh dp li kj lj lk ll kn lm ln lo kr lp lq lr ls bi translated">关于地图你应该知道的事情</h2><p id="bfdf" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj nb kl km kn nc kp kq kr nd kt ku kv ij bi translated">您可以使用任何值(对象、函数或原语)作为<code class="fe kw kx ky kz b">Map</code>中的键。<code class="fe kw kx ky kz b">Map</code>使用<a class="ae ne" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Equality_comparisons_and_sameness#Same-value-zero_equality" rel="noopener ugc nofollow" target="_blank"> SameValueZero </a>算法。它类似于严格的等式(<code class="fe kw kx ky kz b">===</code>)，但区别在于<code class="fe kw kx ky kz b">NaN</code>被认为等于<code class="fe kw kx ky kz b">NaN</code>(即NaN === NaN → true。<strong class="ka ir"> </strong>在正常的JS中，这是不成立的。在这种情况下，<code class="fe kw kx ky kz b">NaN</code>可以用作键，我们没有任何重复的NaN)。</p><pre class="mf mg mh mi gt ms kz mt mu aw mv bi"><span id="8c3b" class="la lb iq kz b gy mw mx l my mz">var map = new Map()</span><span id="745d" class="la lb iq kz b gy na mx l my mz">var obj = {};</span><span id="8d74" class="la lb iq kz b gy na mx l my mz">var arr = [];</span><span id="9fe5" class="la lb iq kz b gy na mx l my mz">var nan = NaN;</span><span id="6806" class="la lb iq kz b gy na mx l my mz">var fun = function() {}</span><span id="b512" class="la lb iq kz b gy na mx l my mz"><strong class="kz ir">map.set(obj, "object");</strong></span><span id="d14d" class="la lb iq kz b gy na mx l my mz"><strong class="kz ir">map.set(arr , "array");</strong></span><span id="377d" class="la lb iq kz b gy na mx l my mz"><strong class="kz ir">map.set(fun, "function");</strong></span><span id="f9b3" class="la lb iq kz b gy na mx l my mz"><strong class="kz ir">map.set(nan, "Wrong number");</strong></span><span id="2207" class="la lb iq kz b gy na mx l my mz">map.keys(); // MapIterator {<strong class="kz ir">{…}, Array(0), ƒ, NaN</strong>}</span><span id="7595" class="la lb iq kz b gy na mx l my mz">map.values(); // <strong class="kz ir">MapIterator {"object", "array", "function","Wrong number"}</strong></span></pre><h2 id="b20c" class="la lb iq bd lc ld le dn lf lg lh dp li kj lj lk ll kn lm ln lo kr lp lq lr ls bi translated">遍历地图</h2><p id="2851" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj nb kl km kn nc kp kq kr nd kt ku kv ij bi translated">使用<code class="fe kw kx ky kz b"><strong class="ka ir">for…of</strong></code></p><pre class="mf mg mh mi gt ms kz mt mu aw mv bi"><span id="d320" class="la lb iq kz b gy mw mx l my mz">//<strong class="kz ir"> creating a map </strong><br/>var fruits = new Map();</span><span id="0015" class="la lb iq kz b gy na mx l my mz">fruits.set('🍎', "Apple");</span><span id="58b0" class="la lb iq kz b gy na mx l my mz">fruits.set('🍋', "Mango");</span><span id="2d29" class="la lb iq kz b gy na mx l my mz">fruits; //{"🍎" =&gt; "Apple", "🍋" =&gt; "Mango"}</span><span id="4e21" class="la lb iq kz b gy na mx l my mz">--------------------------------------------------------------------</span><span id="0a13" class="la lb iq kz b gy na mx l my mz">//Method 1:</span><span id="dbca" class="la lb iq kz b gy na mx l my mz">for(<strong class="kz ir">var [key, val] of fruits</strong>) {</span><span id="e390" class="la lb iq kz b gy na mx l my mz">    <strong class="kz ir">console.log(key, value);</strong></span><span id="8794" class="la lb iq kz b gy na mx l my mz">}<br/>🍎 Apple<br/>🍋 Mango</span><span id="a2c6" class="la lb iq kz b gy na mx l my mz">--------------------------------------------------------------------</span><span id="0302" class="la lb iq kz b gy na mx l my mz">Method 4 --&gt; using entries</span><span id="a771" class="la lb iq kz b gy na mx l my mz">for (<strong class="kz ir">var [key, val] of fruits.entries()</strong>) {</span><span id="04b3" class="la lb iq kz b gy na mx l my mz"><strong class="kz ir">  console.log(key , val);</strong></span><span id="a263" class="la lb iq kz b gy na mx l my mz">}</span><span id="d957" class="la lb iq kz b gy na mx l my mz">🍎 Apple<br/>🍋 Mango</span><span id="be5a" class="la lb iq kz b gy na mx l my mz">--------------------------------------------------------------------<br/>// Method 2 --&gt; using keys</span><span id="8bbf" class="la lb iq kz b gy na mx l my mz">for(<strong class="kz ir">var key of fruits.keys()</strong>) {</span><span id="da84" class="la lb iq kz b gy na mx l my mz"><strong class="kz ir">   console.log(key, fruits.get(key));</strong></span><span id="d834" class="la lb iq kz b gy na mx l my mz">}<br/>🍎 Apple<br/>🍋 Mango<br/>--------------------------------------------------------------------<br/>Method 3 --&gt; using values</span><span id="5aab" class="la lb iq kz b gy na mx l my mz">for(<strong class="kz ir">var val of fruits.values()</strong>) {</span><span id="7cd2" class="la lb iq kz b gy na mx l my mz"><strong class="kz ir">   console.log(val);</strong></span><span id="56ee" class="la lb iq kz b gy na mx l my mz">}</span><span id="39ec" class="la lb iq kz b gy na mx l my mz">Apple <br/>Mango</span></pre><p id="d6bb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你发现这个有用的惊喜🎁我这里的<a class="ae ne" href="https://www.paypal.me/jagathishSaravanan" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"/></a><strong class="ka ir">。</strong></p><p id="67bd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">开心就分享。</strong></p><p id="4dec" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">跟随</strong> <a class="nf ng ep" href="https://medium.com/u/f9ffc26e7e69?source=post_page-----6786034f9154--------------------------------" rel="noopener" target="_blank"> <strong class="ka ir"> Javascript Jeep🚙</strong> </a> <strong class="ka ir">如果你觉得值得。</strong></p></div></div>    
</body>
</html>