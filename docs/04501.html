<html>
<head>
<title>Localize Your Flutter App in 3 Steps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分三步本地化你的Flutter应用</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-localize-your-flutter-app-in-3-steps-f0e55b96f934?source=collection_archive---------27-----------------------#2020-06-29">https://levelup.gitconnected.com/how-to-localize-your-flutter-app-in-3-steps-f0e55b96f934?source=collection_archive---------27-----------------------#2020-06-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3604" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">不需要第三方软件包</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c8852d552d455362329cf3a1a1232ebf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IUDERQlogG-IIxtqJ7dC2g.png"/></div></div></figure><p id="d3f7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">今天我们将学习如何轻松地用不同的语言本地化一个Flutter应用程序。它包括三个步骤:</p><ul class=""><li id="cf5e" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated">创建一个包含本地化值和引用它的<code class="fe lz ma mb mc b">LocalizationsDelegate</code>的文件</li><li id="8df3" class="lq lr it kw b kx md la me ld mf lh mg ll mh lp lv lw lx ly bi translated">将支持的语言列表添加到<code class="fe lz ma mb mc b">MaterialApp</code></li><li id="08bc" class="lq lr it kw b kx md la me ld mf lh mg ll mh lp lv lw lx ly bi translated">在您的<code class="fe lz ma mb mc b">Widget</code>中引用本地化值</li></ul><p id="92e9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">完成的项目的源代码可以在文章的底部找到。</p><h1 id="72c7" class="mi mj it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">我们开始吧</h1><p id="0770" class="pw-post-body-paragraph ku kv it kw b kx na ju kz la nb jx lc ld nc lf lg lh nd lj lk ll ne ln lo lp im bi translated">在我们开始添加本地化的<code class="fe lz ma mb mc b">String</code>之前，首先我们需要在<code class="fe lz ma mb mc b">pubspec.yaml</code>文件中添加<code class="fe lz ma mb mc b">flutter_localizations</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="42f8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，我们准备一步一步地工作，并将我们的应用程序本地化为英语和西班牙语。</p><h1 id="2c16" class="mi mj it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">1)创建AppLocalizations类和LocalizationsDelegate</h1><p id="a8f7" class="pw-post-body-paragraph ku kv it kw b kx na ju kz la nb jx lc ld nc lf lg lh nd lj lk ll ne ln lo lp im bi translated">为了简单起见，在我们的应用程序中，我们只需要为一个词提供不同的语言支持:“Hello”。这就是<code class="fe lz ma mb mc b">AppLocalizations</code>类和<code class="fe lz ma mb mc b">LocalizationsDelegate</code>的样子(它们可以在同一个文件中创建):</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="2d2c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们可以看到在<code class="fe lz ma mb mc b">AppLocalizations</code>文件中有一个<code class="fe lz ma mb mc b">Map</code>，包含作为键的语言代码和作为值的字符串的<code class="fe lz ma mb mc b">Map</code>。</p><p id="0641" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们还有一个名为<code class="fe lz ma mb mc b">hello</code>的变量，它根据当前选择的语言获取值。</p><p id="b143" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在实际情况下，您将有更多的<code class="fe lz ma mb mc b">String</code>要本地化，所以您需要做的就是修改<code class="fe lz ma mb mc b">_localizedValues</code>映射并为每个字符串创建一个变量。</p><h1 id="8f45" class="mi mj it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">2)向MaterialApp添加支持的语言</h1><p id="4506" class="pw-post-body-paragraph ku kv it kw b kx na ju kz la nb jx lc ld nc lf lg lh nd lj lk ll ne ln lo lp im bi translated">我们在这里需要做的就是引用我们之前创建的AppLocalizationsDelegate类，并添加一个<code class="fe lz ma mb mc b">Locale</code>列表:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="55b4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">请注意，我们还添加了其他代表:</p><p id="1903" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><code class="fe lz ma mb mc b">GlobalMaterialLocalizations.delegate<br/> GlobalWidgetsLocalizations.delegate<br/> GlobalCupertinoLocalizations.delegate</code></p><p id="87ad" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这些代理翻译内置小部件包含的。<code class="fe lz ma mb mc b">AppLocalizationsDelegate</code>负责我们自定义的值。</p><h1 id="7a91" class="mi mj it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">3)引用小部件中的本地化值</h1><p id="e3e5" class="pw-post-body-paragraph ku kv it kw b kx na ju kz la nb jx lc ld nc lf lg lh nd lj lk ll ne ln lo lp im bi translated">最后，我们能够通过在<code class="fe lz ma mb mc b">Text</code>小部件中显示本地化的<code class="fe lz ma mb mc b">String</code>来完成这个过程:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><p id="4a0b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们通过将<code class="fe lz ma mb mc b">MaterialApp</code>的地区设置为西班牙语来测试实现:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="5f87" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果我们运行该应用程序，我们将看到如预期显示的“Hola ”:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b06b7a30e2797571aeecb794dea70b8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DDSjeYOc43hKN1yTauGY8w.png"/></div></div></figure></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><h1 id="5c78" class="mi mj it bd mk ml no mn mo mp np mr ms jz nq ka mu kc nr kd mw kf ns kg my mz bi translated">资源</h1><p id="af98" class="pw-post-body-paragraph ku kv it kw b kx na ju kz la nb jx lc ld nc lf lg lh nd lj lk ll ne ln lo lp im bi translated">GitHub上提供了源代码:</p><div class="nt nu gp gr nv nw"><a href="https://github.com/zafarivaev/Flutter-LocalizedApp" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd iu gy z fp ob fr fs oc fu fw is bi translated">zafarivaev/Flutter-本地化应用程序</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">新的颤振应用。这个项目是颤振应用的起点。一些资源让你…</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">github.com</p></div></div><div class="of l"><div class="og l oh oi oj of ok ks nw"/></div></div></a></div><h1 id="cfdb" class="mi mj it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">包扎</h1><p id="327d" class="pw-post-body-paragraph ku kv it kw b kx na ju kz la nb jx lc ld nc lf lg lh nd lj lk ll ne ln lo lp im bi translated">想了解更多关于旋舞镖的知识？请随意查看我的其他相关文章:</p><ul class=""><li id="1b9c" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated"><a class="ae ol" href="https://medium.com/better-programming/create-a-cross-platform-tabbed-app-in-flutter-c728ca5e30f6" rel="noopener">在Flutter中创建跨平台标签式App</a></li><li id="131b" class="lq lr it kw b kx md la me ld mf lh mg ll mh lp lv lw lx ly bi translated"><a class="ae ol" href="https://medium.com/better-programming/how-to-implement-the-delegation-design-pattern-in-dart-d782de77c886" rel="noopener">如何在Dart </a>中实现委托设计模式</li></ul><p id="76a1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">感谢阅读！</p></div></div>    
</body>
</html>