<html>
<head>
<title>How to run PyPy as your VS Code Jupyter interpreter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何运行PyPy作为你的VS代码Jupyter解释器</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-run-pypy-as-your-vs-code-jupyter-interpreter-70836adf44c6?source=collection_archive---------3-----------------------#2021-07-10">https://levelup.gitconnected.com/how-to-run-pypy-as-your-vs-code-jupyter-interpreter-70836adf44c6?source=collection_archive---------3-----------------------#2021-07-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="a335" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">想知道如何在Visual Studio代码中运行PyPy作为Jupyter笔记本的解释器吗？嗯，我有。我花了很长时间才成功。</p><p id="9a56" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我不知道这对你来说怎么样，但是我花在设置环境和安装所需库上的时间比实际编码的时间还多。</p><p id="c98c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">由于我无法找到一个关于如何在我的windows系统上为我的VS代码设置PyPy的全面指南，所以我决定分享我的发现，并且(可能)让你的生活变得稍微轻松一点。</p><h1 id="a610" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">你需要什么？</h1><ul class=""><li id="e99f" class="lj lk iq jp b jq ll ju lm jy ln kc lo kg lp kk lq lr ls lt bi translated">Visual Studio代码2021</li><li id="8dfe" class="lj lk iq jp b jq lu ju lv jy lw kc lx kg ly kk lq lr ls lt bi translated">Visual Studio代码Python扩展</li><li id="f419" class="lj lk iq jp b jq lu ju lv jy lw kc lx kg ly kk lq lr ls lt bi translated">Visual Studio 2019</li><li id="4971" class="lj lk iq jp b jq lu ju lv jy lw kc lx kg ly kk lq lr ls lt bi translated">PyPy 3.7</li></ul><h1 id="e3ea" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">步骤1:安装Visual Studio代码</h1><p id="9733" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">如果你还没有VS代码，现在是时候下载了！你可以在这里下载想要的版本<a class="ae mc" href="https://code.visualstudio.com/download" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="2847" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下载启动执行文件后，请遵循安装指南。安装不需要任何管理权限。随后启动VSCode，主屏幕将弹出。</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi md"><img src="../Images/cae66742d172ad6e036fa1d304837339.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tKKJryj7ndokZ1q4.png"/></div></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk translated">VSCode主屏幕。图片作者。</figcaption></figure><h1 id="1eae" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">步骤2:获取Python扩展</h1><p id="a054" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">VS Code提供了一个随时可用的Python扩展，使您能够在VS Code中使用Jupyter笔记本。要安装扩展，请打开VSCode，然后按Ctrl + Shift + X打开扩展选项卡。在搜索栏中键入“Python”，选择Microsoft的Python扩展并安装。</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi md"><img src="../Images/8780bb03517974b7330e979325eed4bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*t2lq_VYhCZqcg_cX.png"/></div></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk translated">微软的Python扩展包。图片作者。</figcaption></figure><p id="4e9d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要启动新的Python项目，请按Ctrl + Shift + P打开VSCode中的命令行，然后键入“Python:Create New Blank Jupyter Notebook”。按回车键，VSCode将为您打开一个新的Jupyter笔记本:</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi md"><img src="../Images/820454d805d99939d48f78f307e2ab38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*KSinHfQcztZiz42W.png"/></div></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk translated">VSCode中的Jupyter笔记本。图片作者。</figcaption></figure><h1 id="342a" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">步骤3:安装PyPy</h1><p id="e803" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">接下来，我们需要下载PyPy 3.7并将其安装在我们想要的路径中。你可以在这里下载PyPy<a class="ae mc" href="https://www.pypy.org/download.html" rel="noopener ugc nofollow" target="_blank"/>。下载完ZIP文件夹后，将它解压到您想要的路径。</p><p id="9485" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">理论上，您现在已经准备好在您的系统上执行PyPy了。但是，强烈建议您首先将PyPy执行文件的路径添加到windows系统中。为此，请遵循以下步骤:</p><p id="c80c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通过按windows键并键入“控制面板”来打开系统控制面板。然后点击“系统”。</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mt"><img src="../Images/32dedda4a1e88e9ea2ba2aa40e130082.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HGlIgHQZwaBMqKc9B_6L_Q.png"/></div></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk translated">控制面板。图片作者。</figcaption></figure><p id="29fd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，单击“高级系统设置”并提供您的管理员详细信息。</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mu"><img src="../Images/169b1fc30dae25d70fea4d644650bc70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8exycB3iSwRgxf_hikId-A.png"/></div></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk translated">系统面板。图片作者。</figcaption></figure><p id="055f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一个新窗口将会打开。在这里，选择“环境变量”。</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/d5d68bbbae70fee36c4c953ce05f82f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/1*acdBvFHq1wh21DHEaNL5sQ.png"/></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk translated">高级系统设置。图片作者。</figcaption></figure><p id="bfd3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后点击“路径”和“新建”。然后，您可以使用您的pypy3.exe将路径添加到文件夹中，并为环境变量指定一个相应的名称。</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/4dc38de1236eaffd569fcd019d6d231f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/1*4tJXvKKgLA3FVuvoK2p31Q.png"/></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk translated">环境变量。图片作者。</figcaption></figure><h1 id="db61" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">第四步:确保pip</h1><p id="2dfc" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">好吧！既然我们现在已经成功安装了PyPy，我们需要确保可以通过pip命令安装所需的库。为此，我们需要打开windows命令控制台并输入以下命令:</p><pre class="me mf mg mh gt mx my mz na aw nb bi"><span id="4098" class="nc km iq my b gy nd ne l nf ng">pypy <!-- -->-m ensurepip</span></pre><p id="6261" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有时上述命令不起作用，因为可能需要提供pypy3.exe的完整路径。在这种情况下，将完整路径添加到您的pypy3.exe，并重复命令:</p><pre class="me mf mg mh gt mx my mz na aw nb bi"><span id="6dd6" class="nc km iq my b gy nd ne l nf ng">PATH -m ensurepip</span></pre><p id="15ba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我的例子中是这样的:</p><pre class="me mf mg mh gt mx my mz na aw nb bi"><span id="2cb2" class="nc km iq my b gy nd ne l nf ng">C:\Users\MauriceHenry\Documents\PyPy\pypy3.7-v7.3.5-win64\pypy3.exe -m ensurepip</span></pre><h1 id="64d2" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">第五步:安装Visual Studio 2019</h1><p id="2705" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">完美！理论上，到现在为止，我们已经准备好选择PyPy作为我们VS代码Jupyter中的解释器了。但是，PyPy要求我们重新安装Ipython内核。但是，由于安装程序找不到名为“vcvarsall.bat”的文件，安装将会抛出一个令人讨厌的小错误。</p><p id="1ba1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该文件是“使用C++工作负载的桌面开发”包的一部分，可以通过Visual Studio 2019安装。为此，请从这个<a class="ae mc" href="https://visualstudio.microsoft.com/de/downloads/" rel="noopener ugc nofollow" target="_blank">页面</a>安装Visual Studio 2019。</p><p id="aea6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下载完成后，运行安装程序，选择以下软件包并点击start。根据您的规格，这一步需要一些时间，所以我建议在这一点上有一个快速的咖啡休息。</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi nh"><img src="../Images/4c12faa754f75e430b829ce803b7fc76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NhllzC2127OvXdKdl25Jww.png"/></div></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk translated">Visual Studio 2019中的工作负载部分。图片作者。</figcaption></figure><h1 id="6d42" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">第六步:选择PyPy作为你的翻译</h1><p id="e86f" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">如果想在VS代码中切换不同的解释器，按Ctrl + Shift + P打开命令行，输入“Python: Select interpreter”。VSCode将显示当前活动的解释器和其他选项。要添加一个新的解释器，选择“输入解释器路径…”并简单地将路径复制到你的pypy3.exe文件中，然后点击回车。</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi ni"><img src="../Images/f52026985cafc6863f90244b42e97da1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HX6Gfas0GSfiVSVYsM145g.png"/></div></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk translated">VS代码中解释程序的选择。图片作者。</figcaption></figure><h1 id="5f8f" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">步骤7:为PyPy安装Ipython内核</h1><p id="8422" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">在我们准备用PyPy作为解释器开始编码之前，我们仍然需要安装Ipython内核。幸运的是，微软的Python扩展将帮助你做到这一点。</p><p id="0157" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">只需在第一个Jupyter单元格中键入您选择的代码片段并执行它。VS代码随后会打开一个弹出窗口，询问您是否要安装Ipython内核。一旦你按下“安装”，你就可以往后靠，看VS代码为你安装内核。</p><figure class="me mf mg mh gt mi"><div class="bz fp l di"><div class="nj nk l"/></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk translated">幽居症反应GIF。图片由Gliphy提供。</figcaption></figure><p id="8495" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">瞧啊。您将看到您的代码在安装后已经执行。现在，您可以在VS Code Jupyter笔记本中使用PyPy作为解释器了。</p></div></div>    
</body>
</html>