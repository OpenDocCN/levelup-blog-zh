<html>
<head>
<title>How to Use Visual Studio Code to Manage Web Servers, Application Servers, and Web Applications</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Visual Studio代码管理Web服务器、应用程序服务器和Web应用程序</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-use-visual-studio-code-to-manage-web-servers-application-servers-and-web-applications-in-44afcc954d38?source=collection_archive---------14-----------------------#2022-01-31">https://levelup.gitconnected.com/how-to-use-visual-studio-code-to-manage-web-servers-application-servers-and-web-applications-in-44afcc954d38?source=collection_archive---------14-----------------------#2022-01-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="a041" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">Web开发</h2><div class=""/><div class=""><h2 id="00f6" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">在Linode、数字海洋、亚马逊网络服务(AWS)、谷歌云平台和微软Azure上</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/2cbd2243b9888de09034da20dc099d91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*alnv1hjUO5Tc7HTratwKTA.jpeg"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">图片来自<a class="ae lh" href="https://unsplash.com/photos/46juD4zY1XA" rel="noopener ugc nofollow" target="_blank">大卫·皮斯诺伊</a></figcaption></figure><h2 id="c7b8" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">总结:</h2><p id="42ce" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">大多数云服务提供商都有一个基于web的终端应用程序，允许他们的用户远程管理虚拟机。这提供了一种通过安全连接连接到虚拟机的简单方法，不需要密码或SSH密钥配置。然而，基于web的应用程序有一些限制，使其难以在生产中使用。它不能滚动输出，窗口太小，粘贴的文本格式不正确。</p><p id="e894" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">Visual Studio Code (VS Code)是一个流行的文本编辑器，它使得在生产环境中的虚拟机上工作变得更加容易。它可以像普通计算机一样在文本编辑器中创建、打开、编辑和传输虚拟机上的文件。它可以同时在多个终端应用程序上运行命令。它也没有基于web的终端应用程序所具有的任何限制。</p></div><div class="ab cl nb nc hx nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="im in io ip iq"><h2 id="12e2" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">目录:</h2><ol class=""><li id="335a" class="ni nj it mf b mg mh mj mk lr nk lv nl lz nm mv nn no np nq bi translated"><a class="ae lh" href="#6b43" rel="noopener ugc nofollow">获取虚拟机的IP地址</a></li><li id="062b" class="ni nj it mf b mg nr mj ns lr nt lv nu lz nv mv nn no np nq bi translated"><a class="ae lh" href="#9e76" rel="noopener ugc nofollow">安装SSH客户端</a></li><li id="f11c" class="ni nj it mf b mg nr mj ns lr nt lv nu lz nv mv nn no np nq bi translated"><a class="ae lh" href="#2026" rel="noopener ugc nofollow">安装SSH服务器</a></li><li id="f075" class="ni nj it mf b mg nr mj ns lr nt lv nu lz nv mv nn no np nq bi translated"><a class="ae lh" href="#b168" rel="noopener ugc nofollow">生成SSH密钥</a></li><li id="789f" class="ni nj it mf b mg nr mj ns lr nt lv nu lz nv mv nn no np nq bi translated"><a class="ae lh" href="#273a" rel="noopener ugc nofollow">创建SSH配置文件</a></li><li id="b2dc" class="ni nj it mf b mg nr mj ns lr nt lv nu lz nv mv nn no np nq bi translated"><a class="ae lh" href="#9a7b" rel="noopener ugc nofollow">连接到虚拟机</a></li></ol></div><div class="ab cl nb nc hx nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="im in io ip iq"><h2 id="6b43" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">获取虚拟机的IP地址:</h2><p id="03c9" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated"><code class="fe nw nx ny nz b">virtual machine</code>是一个虚拟操作系统，它存储、运行和管理web服务器、应用服务器和web应用程序。它提供了Visual Studio代码用来从远程连接访问虚拟机的IP地址。在本节中，我们将登录云服务提供商以检索虚拟机的IP地址。</p><pre class="ks kt ku kv gt oa nz ob oc aw od bi"><span id="001d" class="li lj it nz b gy oe of l og oh"><strong class="nz jd"># linode</strong><br/>1. log into <a class="ae lh" href="https://cloud.linode.com/linodes" rel="noopener ugc nofollow" target="_blank">linode</a><br/>2. click "linodes" link in navigation panel<br/>3. click desired linode<br/>4. find "ip addresses" label<br/>5. write down ip address</span><span id="f64f" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># digital ocean</strong><br/>1. log into <a class="ae lh" href="https://cloud.digitalocean.com/" rel="noopener ugc nofollow" target="_blank">digital ocean</a><br/>2. click "droplets" link in navigation panel<br/>3. click desired droplet<br/>4. find "ipv4" label<br/>5. write down ip address</span><span id="6fc5" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># amazon web services (aws)</strong><br/>1. log into <a class="ae lh" href="https://console.aws.amazon.com/ec2/" rel="noopener ugc nofollow" target="_blank">amazon web services</a><br/>2. click "instances" link in navigation panel<br/>3. click desired instance<br/>4. find "ipv4 public ip" label<br/>5. write down ip address</span><span id="4e25" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># google cloud platform</strong><br/>1. log into <a class="ae lh" href="https://console.cloud.google.com/compute/" rel="noopener ugc nofollow" target="_blank">google cloud platform</a><br/>2. click "vm instances" link in navigation panel<br/>3. click desired instance<br/>4. scroll to "network interfaces" section<br/>5. find "external ip" label<br/>6. write down ip address</span><span id="eb3a" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># microsoft azure</strong><br/>1. log into <a class="ae lh" href="https://portal.azure.com/" rel="noopener ugc nofollow" target="_blank">microsoft azure</a><br/>2. click "virtual machines" link in navigation panel<br/>3. click desired virtual machine<br/>4. find "public ip adddress" label<br/>5. write down ip address</span></pre><h2 id="9e76" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">安装SSH客户端:</h2><p id="c6ad" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated"><code class="fe nw nx ny nz b">PowerShell</code>是一种命令行shell和面向对象的脚本语言。它使用小命令(cmdlets)在Windows操作系统上执行管理任务。在本节中，我们将使用几个cmdlets在Windows操作系统上安装、启用和启动SSH客户端。</p><pre class="ks kt ku kv gt oa nz ob oc aw od bi"><span id="681e" class="li lj it nz b gy oe of l og oh"><strong class="nz jd"># open powershell shell</strong><br/>1. press “⊞ windows” key<br/>2. enter “powershell” into search bar<br/>3. right-click "windows powershell" search result<br/>4. click “run as administrator” menu item<br/>5. paste commands into powershell</span><span id="c036" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># enable copy and paste shortcuts<br/></strong>1. click powershell icon in top left corner<br/>2. click "properties" menu item<br/>3. check "use ctrl + shift + c / v as copy / paste" checkbox<br/>4. click "ok" button</span><span id="aa34" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># install openssh client </strong><br/>add-windowscapability -online -name openssh.client</span><span id="3ce1" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># start sshd</strong><br/>start-service sshd</span><span id="a546" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># set ssh to start at boot<br/></strong>set-service -name sshd -startuptype 'automatic'</span></pre><h2 id="2026" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">安装SSH服务器:</h2><p id="43a0" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">是一组程序，允许两台计算机使用安全连接进行远程通信。它使用启动连接的客户端程序和验证并接受连接的服务器程序。在本节中，我们将连接到虚拟机，并在Linux操作系统上安装、启用和启动SSH服务器。</p><pre class="ks kt ku kv gt oa nz ob oc aw od bi"><span id="7e75" class="li lj it nz b gy oe of l og oh"><strong class="nz jd"># change placeholder to user on virtual machine</strong><br/>$user="placeholder"</span><span id="6940" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># change placeholder to ip address of virtual machine</strong><br/>$linux_ip_address="placeholder"</span><span id="bf92" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># connect to virtual machine with password</strong><br/>ssh $user@$linux_ip_address</span><span id="94f2" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># add ip address to known hosts file<br/></strong>1. enter "yes"<br/>2. enter user password<br/>3. press "enter" key</span><span id="a288" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># update package information</strong><br/>sudo apt-get update</span><span id="955b" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># install openssh package</strong><br/>sudo apt-get install openssh-server</span><span id="3c3d" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># set ssh to start at boot</strong><br/>sudo systemctl enable ssh</span><span id="8ef2" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># start ssh</strong><br/>sudo systemctl start ssh</span><span id="81f4" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># create ssh directory</strong><br/>sudo mkdir -p ~/.ssh</span><span id="3593" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># disconnect from virtual machine<br/></strong>exit</span></pre><h2 id="b168" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">生成SSH密钥:</h2><p id="beb6" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated"><code class="fe nw nx ny nz b">SSH keys</code>是一种认证方法，用于在SSH客户端和SSH服务器之间建立加密连接。它包括一对公钥和私钥。SSH客户端请求连接到SSH服务器。SSH服务器使用公钥加密消息，并用加密的消息响应连接请求。SSH客户端使用私钥解密加密的消息，并将解密的消息返回给SSH服务器。然后，SSH客户机和SSH服务器建立连接。在本节中，我们将生成SSH密钥，将公钥传输到远程计算机，将公钥添加到授权密钥列表中，并使用SSH密钥连接到虚拟机。</p><pre class="ks kt ku kv gt oa nz ob oc aw od bi"><span id="ef6a" class="li lj it nz b gy oe of l og oh"><strong class="nz jd"># create .ssh directory</strong><br/>mkdir $home\.ssh\id_rsa -force</span><span id="4892" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># generate ssh key</strong><br/>ssh-keygen.exe -t ed25519 -a 100 -o -c "<!-- -->$($user)<!-- -->@$($linux_ip_address)" -f $home\.ssh\id_rsa</span><span id="9247" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># copy ssh key from windows to linux</strong><br/>scp $home\.ssh\id_rsa.pub ($user)@$($linux_ip_address):~/.ssh/id_rsa.pub</span><span id="c728" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># connect to virtual machine with password</strong><br/>ssh $user@$linux_ip_address</span><span id="74b7" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># add public key to authorized_keys file<br/></strong>sudo cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</span><span id="1a52" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># disconnect from virtual machine<br/></strong>exit</span><span id="205a" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># connect to virtual machine with ssh key</strong><br/>ssh $user@$linux_ip_address</span><span id="20cd" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># disconnect from virtual machine<br/></strong>exit</span></pre><h2 id="273a" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">创建SSH配置文件:</h2><p id="db56" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated"><code class="fe nw nx ny nz b">SSH configuration file</code>是一个存储用于远程连接特定计算机的设置的文件。它消除了跟踪连接到每台计算机所需的用户名、密码和IP地址的需要。在本节中，我们将创建配置文件，并存储连接到虚拟机所需的设置。</p><pre class="ks kt ku kv gt oa nz ob oc aw od bi"><span id="bc53" class="li lj it nz b gy oe of l og oh"><strong class="nz jd"># get ssh key path<br/></strong>echo $home\.ssh\id_rsa</span><span id="5b38" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># open ssh configuration file<br/></strong>start-process notepad $home\.ssh\config</span><span id="b785" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># create configuration file <br/></strong>1. click "yes"</span><span id="e8bc" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># edit configuration file</strong><br/>1. add following configuration to configuration file<br/>2. change #ip_address_placeholder# to ip address from earlier<br/>3. change #user_placeholder# to user on virtual machine<br/>4. change #path_placeholder# to ssh key path from earlier</span><span id="903b" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># save configuration file</strong><br/>1. click "file" menu<br/>2. click "save" menu item</span></pre><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="oj ok l"/></div></figure><h2 id="9a7b" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">连接到虚拟机:</h2><p id="64b5" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">已经安装了SSH客户机和SSH服务器，生成了SSH密钥，并且创建了SSH配置文件。这允许我们使用安全连接连接到虚拟机，而不需要密码。在本节中，我们将下载并安装Visual Studio代码，安装远程开发扩展，连接到虚拟机，并在虚拟机上执行一些常见任务。</p><pre class="ks kt ku kv gt oa nz ob oc aw od bi"><span id="6452" class="li lj it nz b gy oe of l og oh"><strong class="nz jd"># download visual studio code</strong><br/>1. open "download" page on <a class="ae lh" href="https://code.visualstudio.com/download" rel="noopener ugc nofollow" target="_blank">visual studio</a><br/>2. click "windows" button</span><span id="3d90" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># install visual studio code</strong><br/>1. open the "vscodeusersetup" file<br/>2. click "i accept the agreement" radio button<br/>3. click "next" button<br/>4. click "next" button<br/>5. click "install" button<br/>6. click "finish" button</span><span id="a70e" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># open visual studio code</strong><br/>1. press “⊞ windows” key<br/>2. enter “visual studio code” into search bar<br/>3. click "visual studio code" search result</span><span id="cf6e" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># install remote development extension</strong><br/>1. press "control + shift + x" keys<br/>2. enter "remote development extension" into search bar<br/>3. press "enter" key<br/>4. click "remote development"<br/>5. click "install" button</span><span id="2edf" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># connect to virtual machine<br/></strong>1. click "view" menu<br/>2. click "command palette" menu item<br/>3. enter "remote-ssh: connect to host..." into search bar<br/>4. click "+ add new ssh host..." search result<br/>5. click "virtual-machine" option</span><span id="c5c6" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># open terminal on virtual machine</strong><br/>1. click "terminal" menu<br/>2. click "new terminal" menu item<br/>3. paste command into terminal</span><span id="5162" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># create html directory</strong><br/>sudo mkdir -p /var/www/html</span><span id="6944" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># open html directory</strong><br/>1. press "ctrl + shift + e" keys<br/>2. click "open folder" button<br/>3. enter "/var/www/html" into text field<br/>4. click "ok" button<br/>5. click "yes, i trust the authors" button</span><span id="b5a0" class="li lj it nz b gy oi of l og oh"><strong class="nz jd"># create new file on virtual machine</strong><br/>1. click "file" menu<br/>2. click "new file" menu item<br/>3. click "file" menu<br/>4. click "save" menu item<br/>5. enter "/var/www/html/index.html" into text field<br/>6. click "ok" button</span></pre></div></div>    
</body>
</html>