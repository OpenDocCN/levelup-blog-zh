<html>
<head>
<title>How to Use Multiple Fragments in ViewPager2 with TabLayout</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在带有TabLayout的ViewPager2中使用多个片段</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-use-multiple-fragments-in-viewpager2-with-tablayout-2a625d97f2?source=collection_archive---------5-----------------------#2022-11-14">https://levelup.gitconnected.com/how-to-use-multiple-fragments-in-viewpager2-with-tablayout-2a625d97f2?source=collection_archive---------5-----------------------#2022-11-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="e43c" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">ANDROID |查看页面2</h2><div class=""/><figure class="gl gn ka kb kc kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi jz"><img src="../Images/3f473f638bc0ce11ccbc5ad4efc71dfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zsBnsmHzmG-E2Chl8ZNJmA.png"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">作者创建的图像</figcaption></figure><p id="2ba8" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">作为一名Android开发人员，我们都知道处理多个片段有多困难，当它们需要在ViewPager或TabLayout中绑定在一起时也是如此。</p><p id="f9ac" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">这是在支持TabLayout的ViewPager2中添加多个片段的最简单方法之一</p><p id="c128" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">让我们开始吧:</p><h2 id="e70a" class="lm ln it bd lo lp lq dn lr ls lt dp lu kz lv lw lx ld ly lz ma lh mb mc md iz bi translated">步骤1:在XML文件中添加TabLayout和ViewPager2</h2><p id="5acb" class="pw-post-body-paragraph ko kp it kq b kr me kt ku kv mf kx ky kz mg lb lc ld mh lf lg lh mi lj lk ll im bi translated">要开始这个过程，只需在各自的XML文件中添加TabLayout和ViewPager2。给他们id，以便以后在我们的Kotlin文件中使用。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h2 id="469e" class="lm ln it bd lo lp lq dn lr ls lt dp lu kz lv lw lx ld ly lz ma lh mb mc md iz bi translated">步骤2:创建片段以保存在ViewPager2中</h2><p id="5b7c" class="pw-post-body-paragraph ko kp it kq b kr me kt ku kv mf kx ky kz mg lb lc ld mh lf lg lh mi lj lk ll im bi translated">现在下一步是最显而易见的一步，即创建您的片段类和它们各自的设计文件，您想要使用它们并将其添加到ViewPager2中用于滑动目的。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h2 id="b7ca" class="lm ln it bd lo lp lq dn lr ls lt dp lu kz lv lw lx ld ly lz ma lh mb mc md iz bi translated">步骤3:添加FragmentStateAdapter类的时间—来自ViewPager2</h2><figure class="mq mr ms mt gt kd"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="5ed8" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">您可以在activity类之外创建这个适配器，或者只在activity类内部创建这个适配器<strong class="kq jd">，以便将您的多个片段与您的view page 2</strong>和TabLayout绑定在一起。</p><p id="cfd9" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">可以包含任意数量的片段，但是要确保在适配器的<strong class="kq jd"> getItemCount() </strong>方法中更新总计数。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h2 id="1855" class="lm ln it bd lo lp lq dn lr ls lt dp lu kz lv lw lx ld ly lz ma lh mb mc md iz bi translated">步骤4:用view page 2设置您的适配器，并用view page 2附加您的TabLayout</h2><figure class="mq mr ms mt gt kd"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="84a5" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">这里将使用<strong class="kq jd">tablayoutdeciator</strong>方法将您的TabLayout附加到ViewPager2。</p><p id="9500" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">您还可以看到如何在ViewPager2适配器变量中设置您创建的<strong class="kq jd"> ScreenSlidePagerAdapter </strong>。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h2 id="2dda" class="lm ln it bd lo lp lq dn lr ls lt dp lu kz lv lw lx ld ly lz ma lh mb mc md iz bi translated">步骤5:是时候在TabLayoutMediator lambda中给你的标签添加一些标题或图标了</h2><figure class="mq mr ms mt gt kd"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="3d9d" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">正如你所看到的，我们有两个参数<strong class="kq jd">标签</strong>和<strong class="kq jd">位置</strong>，我们可以用它们来设置每个标签的标题或图标。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h2 id="0cc1" class="lm ln it bd lo lp lq dn lr ls lt dp lu kz lv lw lx ld ly lz ma lh mb mc md iz bi translated">结论，</h2><p id="0959" class="pw-post-body-paragraph ko kp it kq b kr me kt ku kv mf kx ky kz mg lb lc ld mh lf lg lh mi lj lk ll im bi translated">只是想和大家分享一下在我们最新的ViewPager2中添加多个片段的最快最简单的方法，支持TabLayout。</p><p id="2e96" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">让我知道这个教程是否对你有所帮助，或者只是和一些急需的人分享。</p><h1 id="4ee1" class="mw ln it bd lo mx my mz lr na nb nc lu nd ne nf lx ng nh ni ma nj nk nl md nm bi translated">在那之前，</h1><blockquote class="nn no np"><p id="7930" class="ko kp nq kq b kr ks kt ku kv kw kx ky nr la lb lc ns le lf lg nt li lj lk ll im bi translated"><em class="it">如果你喜欢这个故事，并且想在Medium上阅读我和各种顶级作家写的成千上万个这样的故事，你可以成为Medium会员，每月只需支付</em> <strong class="kq jd"> <em class="it"> 5美元</em> </strong> <em class="it">。如果您愿意支持我的写作，</em> <a class="ae nu" href="https://dharmeshbasapati.medium.com/membership" rel="noopener"> <strong class="kq jd"> <em class="it">使用我的推荐链接</em> </strong> </a> <em class="it">，我将免费获得您的一部分会员资格。</em></p></blockquote><p id="9575" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">太棒了！！！</p></div></div>    
</body>
</html>