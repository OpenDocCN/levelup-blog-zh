<html>
<head>
<title>Containerize a Flask Application Using Docker — Deployment</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Docker-Deployment将Flask应用程序容器化</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/containerize-a-flask-application-using-docker-deployment-59382e5cae4e?source=collection_archive---------18-----------------------#2020-12-22">https://levelup.gitconnected.com/containerize-a-flask-application-using-docker-deployment-59382e5cae4e?source=collection_archive---------18-----------------------#2020-12-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ae67" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在本教程中，我们将讨论如何使用Docker封装Flask应用程序。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e9d4a3fe708fe554cf433c7166f2ebb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hsNHtPXunAXJ4srOZ_nqNA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</figcaption></figure><p id="05f4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">目录</strong></p><ul class=""><li id="95f8" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated">介绍</li><li id="e8f0" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">创建一个简单的烧瓶应用程序</li><li id="7e87" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">创建具有依赖关系的文件</li><li id="b530" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">安装Docker</li><li id="4633" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">创建Docker文件</li><li id="5b97" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">建立码头工人形象</li><li id="3908" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">运行Docker容器</li><li id="3efc" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">结论</li></ul></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="62ad" class="mp mq it bd mr ms mt mu mv mw mx my mz jz na ka nb kc nc kd nd kf ne kg nf ng bi translated">介绍</h1><p id="ce60" class="pw-post-body-paragraph ky kz it la b lb nh ju ld le ni jx lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">码头和集装箱化是MLOps和部署的最大趋势之一。应用程序容器化有显著的优势。</p><p id="6581" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Docker的最大优势之一是能够在一个称为容器的隔离环境中运行应用程序。</p><p id="18ec" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Docker容器很容易通过Docker Hub或Git Hub存储库共享，这简化了通信并有助于项目的协作。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="d5d2" class="mp mq it bd mr ms mt mu mv mw mx my mz jz na ka nb kc nc kd nd kf ne kg nf ng bi translated">创建一个简单的烧瓶应用程序</h1><p id="063c" class="pw-post-body-paragraph ky kz it la b lb nh ju ld le ni jx lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">首先，我们将创建一个非常简单的Flask应用程序，只有一个页面，上面写着“Hello World！”。</p><p id="fd42" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要继续本节，我们需要安装Flask库。</p><p id="b3f9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您没有安装它，请打开“命令提示符”(在Windows上)并使用以下代码安装它:</p><pre class="kj kk kl km gt nm nn no np aw nq bi"><span id="0ec5" class="nr mq it nn b gy ns nt l nu nv">pip install Flask</span></pre><p id="dfbd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">安装完成后，让我们为我们的项目创建一个单独的文件夹，并将其命名为“Docker Flask”(您可以选择任何名称)。在这个文件夹中创建一个子文件夹，并将其命名为“src”(我们将把它作为源代码的专用隔离目录)。</p><p id="b61e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我的大部分工作都是在<a class="ae nw" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> VS Code </a>中完成的，这是微软的一个免费IDE。我鼓励你下载并在这个项目中使用它，因为在文件夹架构中导航会容易得多(而且它通常适用于所有项目)。</p><p id="3902" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在我们已经创建了我们的文件夹，让我们制作第一个Python文件(在“src”文件夹中)并将其命名为<strong class="la iu"> app.py </strong>。该文件将包括以下烧瓶代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nx ny l"/></div></figure><p id="c8b1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">重要提示:如果您想在本地测试运行应用程序，您应该有<strong class="la iu"> app.run() </strong>但是当我们希望将应用程序容器化时，我们将其切换到app.run(host='0.0.0.0 '，port=80 ),因为本地端口127.0.0.1不能在Docker容器中捕获，并且Flask默认情况下也使用端口5000，所以我们将其切换到端口80。</p><p id="b0cd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如你所见，这是一个非常简单的单页应用程序(不要忘记保存代码(Ctrl + S))。</p><p id="52f9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">到目前为止，您的文件体系结构应该如下所示:</p><p id="0109" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">多克烧瓶<br/> └─── src <br/> └─── app.py</p><p id="1618" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">太好了，我们已经准备好了烧瓶应用程序。现在让我们深入Docker！</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="1aa5" class="mp mq it bd mr ms mt mu mv mw mx my mz jz na ka nb kc nc kd nd kf ne kg nf ng bi translated">创建具有依赖关系的文件</h1><p id="1d38" class="pw-post-body-paragraph ky kz it la b lb nh ju ld le ni jx lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">回想一下，为了在本地运行应用程序，我们在本地计算机上安装了Flask。</p><p id="ef47" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在我们的目标是让这个Flask应用程序独立运行，并允许Docker从源代码组装一个容器。</p><p id="f86e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">简单地说，我们需要让Docker知道我们正在使用Flask库，并且它需要成为环境的一部分。</p><p id="e299" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下一步，我们将在Docker Flask文件夹(主文件夹)中创建一个空白的requirements.txt文件。然后向其中添加依赖项。</p><p id="14d6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对于简单的Flask应用程序，我们唯一的需求是Flask库。我们只需要找到包的版本，然后将它添加到文件中。</p><p id="8d28" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要查找已安装的Flask版本，只需在命令提示符下运行以下代码:</p><pre class="kj kk kl km gt nm nn no np aw nq bi"><span id="3846" class="nr mq it nn b gy ns nt l nu nv">Flask --version</span></pre><p id="e213" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您应该得到:</p><pre class="kj kk kl km gt nm nn no np aw nq bi"><span id="327b" class="nr mq it nn b gy ns nt l nu nv">Python 3.7.4<br/>Flask 1.1.2<br/>Werkzeug 1.0.1</span></pre><p id="24b7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我安装的版本是1.1.2，所以我们继续将<strong class="la iu"> Flask==1.1.2 </strong>添加到requirements.txt文件中。</p><p id="fd41" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您使用VS代码并打开requirements.txt文件，您应该有这样的代码:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/79d984bc8e599e9b89a444160364cbfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/0*TL84g06cVoEzRb77"/></div></figure><p id="82b4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">此时，您的文件体系结构应该如下所示:</p><p id="b305" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Docker flask <br/> ├───要求. txt <br/> └─── src <br/> └─── app.py</p><p id="abe4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">好了，现在我们准备开始容器化我们的Flask应用程序了！</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="930e" class="mp mq it bd mr ms mt mu mv mw mx my mz jz na ka nb kc nc kd nd kf ne kg nf ng bi translated">安装Docker</h1><p id="cdf3" class="pw-post-body-paragraph ky kz it la b lb nh ju ld le ni jx lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">为了完成剩下的部分，我们需要<a class="ae nw" href="https://www.docker.com/get-started" rel="noopener ugc nofollow" target="_blank">安装Docker Desktop </a>，以便能够在本地管理集装箱化的环境。</p><p id="99e0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">遵循一个简单的安装指南(可能需要您重新启动计算机)，安装程序应该可以使用了。</p><p id="b0ae" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">继续在你的电脑上打开Docker桌面。</p><p id="a5fd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您应该看到以下内容:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/2fcdbd7a1eec83b775f4cb7bf5644916.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LG5qqc5U3s1qkKZ9"/></div></div></figure></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="08eb" class="mp mq it bd mr ms mt mu mv mw mx my mz jz na ka nb kc nc kd nd kf ne kg nf ng bi translated">创建Dockerfile文件</h1><p id="5960" class="pw-post-body-paragraph ky kz it la b lb nh ju ld le ni jx lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">Docker通过从<a class="ae nw" href="https://docs.docker.com/engine/reference/builder/" rel="noopener ugc nofollow" target="_blank">docker文件</a>中读取指令来自动构建图像。Docker文件基本上是一个文本文件，它包含所有由Docker执行以创建Docker映像的指令(命令)。</p><p id="7ca5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">听起来有很多令人困惑的信息？别担心，让我简单地解释一下。</p><p id="c4d2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">基本上，当我们希望Docker将我们的Flask应用程序容器化时，我们需要告诉它需要做的一切，从我们使用什么软件，到代码的位置，等等。</p><p id="7067" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了有效地做到这一点，我们创建了一组指令(类似于组装计算机或其他东西时的指令)，并告诉Docker引用该文件并执行所需的操作。</p><p id="1659" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Dockerfile没有扩展名，只称为“Dockerfile”。这也是我鼓励您使用VS代码的原因之一，因为它支持所有这些新技术，并且可以通过名字识别Dockerfile。</p><p id="bfb2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因此，我们首先要做的是创建一个空文件(在Docker Flask文件夹中)，并将其命名为“Dockerfile”。如果您使用的是VS代码，此时您的文件结构应该如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/159a9a8ded787149d7add81f8be22947.png" data-original-src="https://miro.medium.com/v2/resize:fit:454/0*MsWd6Gm-2kzAXY8m"/></div></figure><p id="df8e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你会注意到VS代码识别了这个文件，并自动在旁边创建了一个“鲸鱼”图标(你可能需要在VS代码中安装Docker附加组件)。</p><p id="8e52" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在让我们来配置Docker文件！</p><p id="b177" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是一个比其他信息多一点的部分，我会尽量详细解释，但如果你还有问题，网上有很多很棒的文章解释如何创建Dockerfiles。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nx ny l"/></div></figure><p id="abf7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">上面docker文件中的每一行都有注释，希望这个过程有意义。Docker文件现在配置了一组过程，这些过程将在我们构建Docker映像时执行。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="721b" class="mp mq it bd mr ms mt mu mv mw mx my mz jz na ka nb kc nc kd nd kf ne kg nf ng bi translated">建立码头工人形象</h1><p id="4738" class="pw-post-body-paragraph ky kz it la b lb nh ju ld le ni jx lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">下一步，我们要做的实际上是从我们刚刚创建的Docker文件构建Docker映像。</p><p id="8eb2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Docker映像是带有创建Docker容器的指令的模板，Docker容器是映像的可运行实例。</p><p id="32c3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Docker的其余功能应该从终端运行。如果您使用的是VS代码，那么您的终端接口就可以在文件所在的目录中找到。</p><p id="89fb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您决定使用命令提示符运行它，首先您应该使用<strong class="la iu"> /cd </strong>命令导航到“Docker Flask”文件夹，然后才执行下面的代码。</p><p id="5dd8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了构建Docker映像，我们将使用<a class="ae nw" href="https://docs.docker.com/engine/reference/commandline/build/" rel="noopener ugc nofollow" target="_blank"> docker build </a>命令:</p><pre class="kj kk kl km gt nm nn no np aw nq bi"><span id="7da0" class="nr mq it nn b gy ns nt l nu nv">docker build -t flask-image .</span></pre><p id="520a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里，<strong class="la iu"> flask-image </strong>是我为我们将要构建的Docker图像取的名字(为什么我们使用<strong class="la iu"> -t </strong>，因为我们正在设置一个项目标签)。</p><p id="078f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Docker守护进程将逐个执行Docker文件中的指令。有多个步骤，Docker将向您展示每个步骤的进度。</p><p id="a042" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这一步完成后，Docker映像就创建好了。我们可以通过运行<a class="ae nw" href="https://docs.docker.com/engine/reference/commandline/images/" rel="noopener ugc nofollow" target="_blank"> docker images </a>命令来查看可用的Docker图像列表:</p><pre class="kj kk kl km gt nm nn no np aw nq bi"><span id="70ae" class="nr mq it nn b gy ns nt l nu nv">docker images</span></pre><p id="5d95" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们看到:</p><pre class="kj kk kl km gt nm nn no np aw nq bi"><span id="c3fe" class="nr mq it nn b gy ns nt l nu nv">REPOSITORY    TAG       IMAGE ID       CREATED        SIZE<br/>flask-image   latest    a7b8af8c82ec   2 minutes ago  927MB</span></pre><p id="18bb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">此时，我们使用Docker完成了封装Flask应用程序的大部分工作。现在让我们运行容器，看看我们的Flask应用程序！</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="5a82" class="mp mq it bd mr ms mt mu mv mw mx my mz jz na ka nb kc nc kd nd kf ne kg nf ng bi translated">运行Docker容器</h1><p id="11ad" class="pw-post-body-paragraph ky kz it la b lb nh ju ld le ni jx lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">创建Docker文件并从中构建Docker映像后，我们现在可以使用Flask应用程序运行Docker容器。</p><p id="a2c3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了启动Docker容器，我们使用<a class="ae nw" href="https://docs.docker.com/engine/reference/commandline/run/" rel="noopener ugc nofollow" target="_blank"> docker run </a>命令:</p><pre class="kj kk kl km gt nm nn no np aw nq bi"><span id="801e" class="nr mq it nn b gy ns nt l nu nv">docker run -d -p 80:80 flask-image</span></pre><p id="239f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">几个要点:</p><ul class=""><li id="0c53" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated">我们使用<strong class="la iu"> -d </strong> (-detatch)在后台运行容器</li><li id="8f98" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">我们使用<strong class="la iu"> -p </strong> (-publish)向主机发布容器的端口</li><li id="fc4c" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">我们将<strong class="la iu"> 80:80 </strong>作为容器端口80映射到本地机器端口80</li></ul><p id="aa71" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">此时，容器应该已经启动并运行了。您可以使用<a class="ae nw" href="https://docs.docker.com/engine/reference/commandline/ps/" rel="noopener ugc nofollow" target="_blank"> docker ps </a>命令获得容器及其状态的列表:</p><pre class="kj kk kl km gt nm nn no np aw nq bi"><span id="c10e" class="nr mq it nn b gy ns nt l nu nv">docker ps</span></pre><p id="eedf" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您应该得到:</p><pre class="kj kk kl km gt nm nn no np aw nq bi"><span id="973c" class="nr mq it nn b gy ns nt l nu nv">CONTAINER ID    IMAGE         COMMAND             CREATED<br/>b6709c1ba42b    flask-image   "python ./app.py"   12 minutes ago<br/>STATUS          PORTS                NAMES<br/>Up 12 minutes   0.0.0.0:80-&gt;80/tcp   nifty_jang</span></pre><p id="2967" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所以容器正在运行，你可以在你的本地机器上通过访问<a class="ae nw" href="http://127.0.0.1/" rel="noopener ugc nofollow" target="_blank"> http://127.0.0.1/ </a>或<a class="ae nw" href="http://localhost:80/" rel="noopener ugc nofollow" target="_blank"> http://localhost:80/ </a>来访问它，你应该会看到你的“Hello World！”Flask app。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="91b6" class="mp mq it bd mr ms mt mu mv mw mx my mz jz na ka nb kc nc kd nd kf ne kg nf ng bi translated">结论</h1><p id="0f30" class="pw-post-body-paragraph ky kz it la b lb nh ju ld le ni jx lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">在本教程中，我们讨论了如何使用Docker封装Flask应用程序。</p><p id="ac74" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对于希望了解Docker的更多信息并部署自己的应用程序的人来说，这里展示的例子是一个很好的起点。</p><p id="4539" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我也鼓励你看看我在<a class="ae nw" href="https://pyshark.com/category/python-programming/" rel="noopener ugc nofollow" target="_blank"> Python编程</a>上的其他帖子。</p><p id="d642" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你有任何问题或者对编辑有任何建议，请在下面留下你的评论。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><p id="9409" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="oc">原载于2020年12月22日https://pyshark.com</em><em class="oc"/><a class="ae nw" href="https://pyshark.com/containerize-a-flask-application-using-docker/" rel="noopener ugc nofollow" target="_blank"><em class="oc">。</em></a></p></div></div>    
</body>
</html>