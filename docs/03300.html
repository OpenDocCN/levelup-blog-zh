<html>
<head>
<title>6 Months Of Using GraphQL</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用GraphQL个月</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/6-months-of-using-graphql-faa0fb68b4af?source=collection_archive---------1-----------------------#2020-05-01">https://levelup.gitconnected.com/6-months-of-using-graphql-faa0fb68b4af?source=collection_archive---------1-----------------------#2020-05-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3c04" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在后端使用GraphQL做了6个月的项目后，我衡量了这项技术是否适合开发工作流程</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/10658b2d7dab5ab9787df99c185f97e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SYo5JVMz3D79G_OEfs8q_g.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">我的终端的graphql输出</figcaption></figure><h1 id="e596" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">首先</h1><p id="46e1" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">GraphQL是一种API查询语言，也是一种用现有数据完成这些查询的运行时语言。GraphQL为API中的数据提供了完整且易于理解的描述，并赋予了客户要求他们所需要的一切的权利。</p><p id="1d05" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">它是由脸书开发的，作为他们移动应用的内部解决方案，后来向社区开源。</p><h1 id="0098" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">好人</h1><h2 id="951b" class="mr kz it bd la ms mt dn le mu mv dp li lz mw mx lk md my mz lm mh na nb lo nc bi translated">实用数据交换</h2><p id="878a" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">使用GraphQL，可以为客户机需要的字段定义查询，不多也不少。真的就这么简单。如果<em class="nd">前端</em>需要一个<em class="nd">人</em>的<code class="fe ne nf ng nh b"><em class="nd">first name</em></code>和<code class="fe ne nf ng nh b"><em class="nd">age</em></code>，只能请求。在响应中不会发送<code class="fe ne nf ng nh b"><em class="nd">person</em></code>的<code class="fe ne nf ng nh b"><em class="nd">last name</em></code>和<code class="fe ne nf ng nh b"><em class="nd">address</em></code>。</p><h2 id="fd2a" class="mr kz it bd la ms mt dn le mu mv dp li lz mw mx lk md my mz lm mh na nb lo nc bi translated">使用数据加载器减少网络调用</h2><p id="1212" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">虽然数据加载器不是GraphQL库本身的一部分，但它是一个实用程序库，可以用来分离应用程序中不相关的部分，而不会牺牲批量数据加载的性能。虽然加载程序提供了一个加载单个值的API，但是所有并发请求都将被合并并呈现给批加载函数。这允许您的应用程序在整个应用程序中安全地分发数据获取。</p><p id="316b" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">这方面的一个例子是从另一个名为<em class="nd">事务服务</em>的服务中获取<code class="fe ne nf ng nh b"><em class="nd">person</em></code>的<code class="fe ne nf ng nh b"><em class="nd">bank details</em></code>，而<em class="nd">后端</em>可以从<em class="nd">事务服务</em>中获取<code class="fe ne nf ng nh b"><em class="nd">bank details</em></code>，然后将结果与<code class="fe ne nf ng nh b"><em class="nd">person</em></code>的<code class="fe ne nf ng nh b"><em class="nd">first name</em></code>和<code class="fe ne nf ng nh b"><em class="nd">age</em></code>相结合，并将资源发送回来。</p><h2 id="c2c4" class="mr kz it bd la ms mt dn le mu mv dp li lz mw mx lk md my mz lm mh na nb lo nc bi translated">公开的数据和数据库模型之间的解耦</h2><p id="51ef" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">GraphQL的一大优点是可以将数据库建模数据与数据向消费者公开的方式分离开来。这样，在设计我们的持久层时，我们可以专注于该层的需求，然后分别考虑向外部世界公开数据的最佳方式。这与数据加载器的使用密切相关，因为您可以在将数据发送给用户之前将数据组合在一起，为公开的数据设计模型变得非常容易。</p><h2 id="349e" class="mr kz it bd la ms mt dn le mu mv dp li lz mw mx lk md my mz lm mh na nb lo nc bi translated">忘记API的版本控制</h2><p id="b14b" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">API的版本化是一个常见的问题，一般来说，通过在前面添加一个<em class="nd"> v2 </em>来添加相同API的新版本是相当简单的。有了GraphQL，情况就不同了，你可以有同样的解决方案，但这不符合GraphQL的精神。文档清楚地指出，您应该改进您的API，这意味着向现有端点添加更多字段不会破坏您的API。前端仍然可以使用相同的API进行查询，并且如果需要的话可以请求新的字段。很简单。</p><p id="67ff" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">当涉及到与前端团队协作时，这个特性非常有用。他们可以请求添加一个由于设计变更而需要的新字段，后端可以轻松地添加该字段，而不会干扰现有的API。</p><h2 id="cea6" class="mr kz it bd la ms mt dn le mu mv dp li lz mw mx lk md my mz lm mh na nb lo nc bi translated">独立团队</h2><p id="f943" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">有了GraphQL，前端和后端团队可以独立工作。有了GraphQL的严格类型模式，团队可以并行工作。首先，<em class="nd">前端团队</em>可以轻松地从后端生成一个模式，甚至不用看代码。生成的模式可以直接用于创建查询。其次，<em class="nd">前端</em> <em class="nd">团队</em>可以继续使用API的模拟版本。他们也可以用它来测试代码。这给了开发人员一个愉快的体验，而不会阻碍他们的开发工作。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/f355446a40e3166089c1e9cc2a8535da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ClSi_KEJVSWlHwUL"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae nj" href="https://unsplash.com/@perrygrone?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">佩里·格罗内</a>在<a class="ae nj" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure></div><div class="ab cl nk nl hx nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="im in io ip iq"><h1 id="efe6" class="ky kz it bd la lb nr ld le lf ns lh li jz nt ka lk kc nu kd lm kf nv kg lo lp bi translated">坏事</h1><h2 id="7c09" class="mr kz it bd la ms mt dn le mu mv dp li lz mw mx lk md my mz lm mh na nb lo nc bi translated">不是所有的API都能进化</h2><p id="3a13" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">有时，业务或设计会发生一些变化，这就需要对API的实现进行彻底的改变。在这种情况下，您将不得不依靠旧的方法来进行版本控制。</p><h2 id="c177" class="mr kz it bd la ms mt dn le mu mv dp li lz mw mx lk md my mz lm mh na nb lo nc bi translated">不可读的代码</h2><p id="b7d9" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">正如多次经历的那样，在使用数据加载器获取数据时，代码有时会分散到多个地方，这可能很难维护。</p><h2 id="65fa" class="mr kz it bd la ms mt dn le mu mv dp li lz mw mx lk md my mz lm mh na nb lo nc bi translated">更长的响应时间</h2><p id="1aaf" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">由于查询会不断发展并变得庞大，因此有时会影响响应时间。为了避免这种情况，请确保保持响应资源的简洁。关于指南，请看一下<a class="ae nj" href="https://developer.github.com/v4/" rel="noopener ugc nofollow" target="_blank"> Github GraphQL API。</a></p><h2 id="cc8f" class="mr kz it bd la ms mt dn le mu mv dp li lz mw mx lk md my mz lm mh na nb lo nc bi translated">贮藏</h2><p id="b221" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">缓存API响应的目标主要是为了更快地从将来的请求中获得响应。与GraphQL不同，缓存内置在HTTP规范中，RESTful APIs能够利用它。如前所述，GraphQL查询可以请求资源的任何字段，缓存本身就很困难。</p></div><div class="ab cl nk nl hx nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="im in io ip iq"><h1 id="1f54" class="ky kz it bd la lb nr ld le lf ns lh li jz nt ka lk kc nu kd lm kf nv kg lo lp bi translated">结论</h1><p id="4335" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">我会强烈推荐使用GraphQL作为REST APIs的替代品。GraphQL所提供的灵活性无疑取代了它的痛点。这里提到的优点和缺点可能并不总是适用，但是值得在查看GraphQL时考虑它们，看看它们是否能对您的项目有所帮助。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/08411346a9793cbb891bd4f2b61585ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-jsGLZ-91ESQVtJjhsLIuA.png"/></div></div></figure><p id="ffad" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">其他你可能感兴趣的故事。</p><div class="nx ny gp gr nz oa"><a href="https://towardsdatascience.com/graphql-best-practices-3fda586538c4" rel="noopener follow" target="_blank"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd iu gy z fp of fr fs og fu fw is bi translated">GraphQL最佳实践</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">在使用GraphQL 6个月之后，我分享了我对创建graph QL服务器的良好实践的想法</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">towardsdatascience.com</p></div></div><div class="oj l"><div class="ok l ol om on oj oo ks oa"/></div></div></a></div><div class="nx ny gp gr nz oa"><a rel="noopener  ugc nofollow" target="_blank" href="/5-mindsets-of-unsuccessful-developers-5d9bd5e4f700"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd iu gy z fp of fr fs og fu fw is bi translated">不成功开发者的5种心态</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">#3学习只发生在工作中</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="oj l"><div class="op l ol om on oj oo ks oa"/></div></div></a></div><div class="nx ny gp gr nz oa"><a rel="noopener  ugc nofollow" target="_blank" href="/lessons-ive-learned-in-5-years-as-a-software-engineer-ee483f12d83a"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd iu gy z fp of fr fs og fu fw is bi translated">作为一名软件工程师，我在5年里学到的经验教训</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">“让你到这里的东西不会让你到那里”——马歇尔·戈德史密斯</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="oj l"><div class="oq l ol om on oj oo ks oa"/></div></div></a></div></div></div>    
</body>
</html>