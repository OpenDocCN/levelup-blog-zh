<html>
<head>
<title>Python ASCII Art Generator.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python ASCII艺术生成器。</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/python-ascii-art-generator-60ba9eb559d7?source=collection_archive---------0-----------------------#2020-06-07">https://levelup.gitconnected.com/python-ascii-art-generator-60ba9eb559d7?source=collection_archive---------0-----------------------#2020-06-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="e7ce" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">了解如何使用Python从图像生成ASCII图片。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/ff9afe53cea66656fd774d405043d1c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mHCId4nzjtCR_0VOnwOF3w.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">用Python生成</figcaption></figure><p id="f556" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">将图像转换为ASCII字符的步骤</p><ul class=""><li id="6db5" class="lb lc iq jp b jq jr ju jv jy ld kc le kg lf kk lg lh li lj bi translated">加载图像</li><li id="bb05" class="lb lc iq jp b jq lk ju ll jy lm kc ln kg lo kk lg lh li lj bi translated">调整图像大小</li><li id="9a9e" class="lb lc iq jp b jq lk ju ll jy lm kc ln kg lo kk lg lh li lj bi translated">将图像转换为灰度</li><li id="8c54" class="lb lc iq jp b jq lk ju ll jy lm kc ln kg lo kk lg lh li lj bi translated">将每个像素的灰度数据转换成各自的ASCII字符</li></ul><h1 id="153b" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">使用PIL图像库加载图像</h1><p id="a702" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">为了加载图像，我们将使用<code class="fe ms mt mu mv b"><strong class="jp ir">PIL</strong></code>库。</p><pre class="km kn ko kp gt mw mv mx my aw mz bi"><span id="c10e" class="na lq iq mv b gy nb nc l nd ne">import PIL.Image<br/><br/>def main():<br/>    path = input("Enter the path to the image fiel : \n")<br/>    try:<br/>        image = PIL.Image.open(path)<br/>    except:<br/>        print(path, "Unable to find image ");</span></pre><p id="d434" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">上面的代码从用户给定的路径读取图像。如果图像不在给定的路径上，我们将显示一条错误消息。</p><h1 id="fcd6" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">定义ASCII列表</h1><p id="fbe7" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">让我们创建一个ASCII字符列表，</p><pre class="km kn ko kp gt mw mv mx my aw mz bi"><span id="4756" class="na lq iq mv b gy nb nc l nd ne">ASCII_CHARS = ["@", "#", "$", "%", "?", "*", "+", ";", ":", ",", "."]</span></pre><p id="7416" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ASCII字符从最暗到最亮排列。这意味着最暗的像素将被替换为<code class="fe ms mt mu mv b"><strong class="jp ir">@</strong></code>，最亮的像素将被替换为<code class="fe ms mt mu mv b"><strong class="jp ir">.</strong></code></p><h1 id="ed6b" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">调整图像大小</h1><p id="1671" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">我们需要将图像转换成较小的宽度和高度，这样就不会产生大尺寸的文本。要找到<code class="fe ms mt mu mv b"><strong class="jp ir">new_height</strong></code>，将<code class="fe ms mt mu mv b"><strong class="jp ir">new_width</strong></code>乘以<code class="fe ms mt mu mv b"><strong class="jp ir">old_height</strong></code>，然后除以<code class="fe ms mt mu mv b"><strong class="jp ir">old_width</strong></code>。</p><pre class="km kn ko kp gt mw mv mx my aw mz bi"><span id="f71f" class="na lq iq mv b gy nb nc l nd ne">def resize(image, new_width = 100):<br/>    width, height = image.size<br/>    new_height = new_width * height / width<br/>    return image.resize((new_width, new_height))</span></pre><h1 id="c2c0" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">将图像转换为灰度</h1><p id="476b" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">我们可以在带有<code class="fe ms mt mu mv b"><strong class="jp ir">L</strong></code>选项的<code class="fe ms mt mu mv b"><strong class="jp ir">image</strong></code>上使用<code class="fe ms mt mu mv b"><strong class="jp ir">convert</strong></code>方法来获得灰度图像</p><pre class="km kn ko kp gt mw mv mx my aw mz bi"><span id="e5ac" class="na lq iq mv b gy nb nc l nd ne">def to_greyscale(image):<br/>    return image.convert("L")</span></pre><h1 id="2ff7" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">将灰度图像转换为ASCII字符</h1><p id="2ed9" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">要先将图像转换成ASCII字符，获取每个像素值<code class="fe ms mt mu mv b"><strong class="jp ir">(0-255)</strong></code>。获取相应的ASCII字符，并将它们连接成一个字符串</p><pre class="km kn ko kp gt mw mv mx my aw mz bi"><span id="e085" class="na lq iq mv b gy nb nc l nd ne">def pixel_to_ascii(image):<br/>    pixels = image.getdata()<br/>    ascii_str = "";<br/>    for pixel in pixels:<br/>        ascii_str += ASCII_CHARS[pixel//25];<br/>    return ascii_str</span></pre><p id="dc5f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们有一个<code class="fe ms mt mu mv b"><strong class="jp ir">to_greyscale</strong></code>方法将图像转换为灰度图像，<code class="fe ms mt mu mv b"><strong class="jp ir">pixel_to_ascii</strong></code>方法将灰度图像转换为ASCII字符串，一旦我们得到图像的ASCII字符串，我们需要根据图像的宽度分割字符串，并将其保存在文件中。</p><pre class="km kn ko kp gt mw mv mx my aw mz bi"><span id="1522" class="na lq iq mv b gy nb nc l nd ne">import PIL.Image</span><span id="2656" class="na lq iq mv b gy nf nc l nd ne">def main():<br/>    path = input("Enter the path to the image fiel : \n")<br/>    try:<br/>        image = PIL.Image.open(path)<br/>    except:<br/>        print(path, "Unable to find image ")</span><span id="a0ea" class="na lq iq mv b gy nf nc l nd ne">    #resize image<br/>    image = resize(image);</span><span id="4b3a" class="na lq iq mv b gy nf nc l nd ne">    #convert image to greyscale image<br/>    greyscale_image = to_greyscale(image)</span><span id="c08d" class="na lq iq mv b gy nf nc l nd ne">    # convert greyscale image to ascii characters<br/>    ascii_str = pixel_to_ascii(greyscale_image)<br/></span><span id="0378" class="na lq iq mv b gy nf nc l nd ne">    img_width = greyscale_image.width<br/>    ascii_str_len = len(ascii_str)<br/>    ascii_img=""</span><span id="4e66" class="na lq iq mv b gy nf nc l nd ne">    #Split the string based on width  of the image<br/>    for i in range(0, ascii_str_len, img_width):<br/>        ascii_img += ascii_str[i:i+img_width] + "\n"</span><span id="e456" class="na lq iq mv b gy nf nc l nd ne">    #save the string to a file<br/>    with open("ascii_image.txt", "w") as f:<br/>        f.write(ascii_img);<br/>main()</span></pre><p id="f33a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">感谢阅读。跟随<a class="ng nh ep" href="https://medium.com/u/f9ffc26e7e69?source=post_page-----60ba9eb559d7--------------------------------" rel="noopener" target="_blank"> Javascript吉普🚙💨</a>了解更多教程</p></div><div class="ab cl ni nj hu nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ij ik il im in"><h1 id="bce7" class="lp lq iq bd lr ls np lu lv lw nq ly lz ma nr mc md me ns mg mh mi nt mk ml mm bi translated">分级编码</h1><p id="f8ee" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">感谢您成为我们社区的一员！<a class="ae nu" href="https://www.youtube.com/channel/UC3v9kBR_ab4UHXXdknz8Fbg?sub_confirmation=1" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">订阅我们的YouTube频道</strong> </a>或者加入<a class="ae nu" href="https://skilled.dev/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> Skilled.dev编码面试课程</strong> </a>。</p><div class="nv nw gp gr nx ny"><a href="https://skilled.dev" rel="noopener  ugc nofollow" target="_blank"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd ir gy z fp od fr fs oe fu fw ip bi translated">编写面试问题+获得开发工作</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">掌握编码面试的过程</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">技术开发</p></div></div><div class="oh l"><div class="oi l oj ok ol oh om kv ny"/></div></div></a></div></div></div>    
</body>
</html>