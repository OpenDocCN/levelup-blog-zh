<html>
<head>
<title>Creating Jars in Java</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Java创建jar</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/creating-jars-in-java-7427f94fe128?source=collection_archive---------9-----------------------#2021-02-12">https://levelup.gitconnected.com/creating-jars-in-java-7427f94fe128?source=collection_archive---------9-----------------------#2021-02-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="cab1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">从命令行制作jar</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4d5b00e4b0ee0c5c03d2a2105925c2e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nh_IJgCm15as1kJYoeoOpQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://www.flickr.com/photos/11139979@N06/5656337970" rel="noopener ugc nofollow" target="_blank"/>Ricky _ artigas的《陶罐》由2.0 的<a class="ae ky" href="https://creativecommons.org/licenses/by/2.0/?ref=ccsearch&amp;atype=rich" rel="noopener ugc nofollow" target="_blank"> CC授权</a></figcaption></figure><p id="254c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">罐子。<strong class="lb iu">T13】JAT15】va a<strong class="lb iu">T17】RT19】韭菜。这是一种允许您将Java代码打包成单一文件格式的文件格式。这种文件格式可以用于存储，也可以是<strong class="lb iu"><em class="lv"/></strong>。Runnable的意思是，点击一个按钮，它就会启动你的应用程序(就像你桌面上的那些图标一样)。</strong></strong></p><p id="6c09" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">拥有一个<strong class="lb iu"> <em class="lv"> JAR </em> </strong>文件为我们打包代码提供了一个简单的方法。它内置了压缩功能，以减少代码的大小，并且由于文件是一个更小的单一文件，因此更容易跨介质传输代码。</p><p id="e568" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="lv"> JARs </em> </strong>也可以存储你的Java代码中使用的图像和其他文件，或者它只能存储编译后的Java代码(<code class="fe lw lx ly lz b">.class</code> /字节码)本身，这些代码将用于执行你的程序。</p><p id="81f4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将向您展示用Java创建一个<strong class="lb iu"> <em class="lv"> JAR </em> </strong>文件是多么容易。</p><p id="1d5c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注意:这将在windows机器上完成。</strong></p><h1 id="8ec2" class="ma mb it bd mc md me mf mg mh mi mj mk jz ml ka mm kc mn kd mo kf mp kg mq mr bi translated">我们开始吧！</h1><p id="f082" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">这是我们将要使用的代码结构。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mx"><img src="../Images/9cea4c889dfcf365dffeae1f5397a493.png" data-original-src="https://miro.medium.com/v2/resize:fit:1342/format:webp/1*DKoBXe_qMbqDsM0WT8-6iA.png"/></div></div></figure><p id="96fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们有两个文件夹<code class="fe lw lx ly lz b">src</code>和<code class="fe lw lx ly lz b">bin</code>。<code class="fe lw lx ly lz b">src</code>将包含我们的源代码。在我们的<code class="fe lw lx ly lz b">src</code>文件夹中有一个名为<code class="fe lw lx ly lz b">contact</code>的包。</p><p id="200e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">代码可以在下面的Github存储库中找到:</p><div class="my mz gp gr na nb"><a href="https://github.com/jordan-medium/jar-project/tree/master/src/contact" rel="noopener  ugc nofollow" target="_blank"><div class="nc ab fo"><div class="nd ab ne cl cj nf"><h2 class="bd iu gy z fp ng fr fs nh fu fw is bi translated">约旦-中型/jar-项目</h2><div class="ni l"><h3 class="bd b gy z fp ng fr fs nh fu fw dk translated">通过在GitHub上创建一个帐户，为jordan-medium/jar项目开发做出贡献。</h3></div><div class="nj l"><p class="bd b dl z fp ng fr fs nh fu fw dk translated">github.com</p></div></div><div class="nk l"><div class="nl l nm nn no nk np ks nb"/></div></div></a></div><p id="dae6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个项目的根目录中，我们将编译并运行我们的代码，使用下面的命令测试它是否运行:</p><pre class="kj kk kl km gt nq lz nr ns aw nt bi"><span id="84b3" class="nu mb it lz b gy nv nw l nx ny">javac -d bin src\contact\*.java</span><span id="ca7e" class="nu mb it lz b gy nz nw l nx ny">java -cp bin contact.Contact</span></pre><p id="1e8a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出:</p><pre class="kj kk kl km gt nq lz nr ns aw nt bi"><span id="97aa" class="nu mb it lz b gy nv nw l nx ny">Age: 10<br/>Name: Brown,John<br/>enty number: 1</span><span id="a8b6" class="nu mb it lz b gy nz nw l nx ny">Email list:<br/>[<a class="ae ky" href="mailto:email@email.com" rel="noopener ugc nofollow" target="_blank">email@email.com</a>, <a class="ae ky" href="mailto:jordan@email.com" rel="noopener ugc nofollow" target="_blank">jordan@email.com</a>]</span><span id="64f0" class="nu mb it lz b gy nz nw l nx ny">Address list:<br/>[1 Any Street, Any Town, Jamaica]</span><span id="5884" class="nu mb it lz b gy nz nw l nx ny">Phone list:<br/>[(876) 524-5788, (876) 690-8731]</span></pre><p id="2af6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面显示了我们脚本的输出。</p><p id="246c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您不熟悉如何在终端中运行Java程序，请查看我以前的文章<em class="lv">“终端中的Java:学习如何仅使用命令行运行Java”</em>。</p><div class="my mz gp gr na nb"><a rel="noopener  ugc nofollow" target="_blank" href="/java-in-the-terminal-8888310a16ae"><div class="nc ab fo"><div class="nd ab ne cl cj nf"><h2 class="bd iu gy z fp ng fr fs nh fu fw is bi translated">终端中的Java</h2><div class="ni l"><h3 class="bd b gy z fp ng fr fs nh fu fw dk translated">学习如何仅使用命令行运行Java</h3></div><div class="nj l"><p class="bd b dl z fp ng fr fs nh fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="nk l"><div class="oa l nm nn no nk np ks nb"/></div></div></a></div><p id="666c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的程序已经确认运行。现在让我们创建我们的<strong class="lb iu"> <em class="lv"> JAR </em> </strong>文件。</p><p id="b1fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建<strong class="lb iu"> <em class="lv"> JAR </em> </strong>文件的过程将包括打包我们编译的<code class="fe lw lx ly lz b">.class</code>并指定入口点。<strong class="lb iu"> <em class="lv">入口点</em> </strong>是运行我们的应用程序的主类。要指定我们的主类，我们必须将它添加到所谓的<strong class="lb iu"> <em class="lv">清单</em> </strong>文件中。</p><p id="b25b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个<strong class="lb iu"> <em class="lv">清单</em> </strong>文件包含关于打包在<strong class="lb iu"> <em class="lv"> JAR </em> </strong>文件中的文件的信息。一旦<strong class="lb iu"> <em class="lv"> JAR </em> </strong>文件被创建，该文件总是被创建。</p><p id="84c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将在创建<strong class="lb iu"> <em class="lv"> JAR </em> </strong>期间指定将进入清单文件的信息。</p><p id="8251" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们项目代码的根目录中，创建一个<code class="fe lw lx ly lz b">manifest.txt</code>文件。这将包含我们想要添加到我们的<strong class="lb iu"> <em class="lv"> JAR </em> </strong>文件内的<strong class="lb iu"> <em class="lv">清单</em> </strong>文件中的信息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/015b64ef64d27d995b4e5cd61011dab9.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*qMxu4j56u8WqRjm40sY87A.png"/></div></figure><p id="04f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的<code class="fe lw lx ly lz b">manifest.txt</code>文件应该类似于下面的代码片段:</p><pre class="kj kk kl km gt nq lz nr ns aw nt bi"><span id="4999" class="nu mb it lz b gy nv nw l nx ny">Main-Class: contact.Contact<br/></span></pre><p id="cc41" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这指定了我们的主类的位置。我们的主类是<code class="fe lw lx ly lz b">Contact</code>类，它在我们的<code class="fe lw lx ly lz b">contact</code>包中。</p><p id="c326" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<strong class="lb iu"> <em class="lv">清单</em> </strong>文件中定义了<code class="fe lw lx ly lz b">Main-Class</code>之后，注意空行的存在是非常重要的。我们必须用新的一行结束我们的<strong class="lb iu"> <em class="lv">清单</em> </strong>文件，否则我们的<code class="fe lw lx ly lz b">manifest.txt</code>文件将在<strong class="lb iu"> <em class="lv"> JAR </em> </strong>创建期间被完全忽略。</p><p id="cf66" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注意:我们不必将文件命名为</strong> <code class="fe lw lx ly lz b"><strong class="lb iu">manifest.txt</strong></code> <strong class="lb iu">。我们可以给它取任何名字，只要在创建JAR时使用这个名字。</strong></p><p id="6070" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，使用下面的命令实际创建我们的<strong class="lb iu"> <em class="lv"> JAR </em> </strong>文件:</p><pre class="kj kk kl km gt nq lz nr ns aw nt bi"><span id="7809" class="nu mb it lz b gy nv nw l nx ny">jar cvfm app.jar manifest.txt -C bin .</span></pre><p id="e7e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们分解这个命令，好吗？</p><p id="8ae7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lw lx ly lz b">jar</code>命令负责所有<strong class="lb iu"> <em class="lv"> JAR </em> </strong>操作。<code class="fe lw lx ly lz b">cvfm</code>是我们想要指定我们想要进行的操作类型的地方。<code class="fe lw lx ly lz b">cvfm</code>的细分如下:</p><ul class=""><li id="8158" class="oc od it lb b lc ld lf lg li oe lm of lq og lu oh oi oj ok bi translated"><code class="fe lw lx ly lz b">c </code> —这指定您想要创建一个<strong class="lb iu"> <em class="lv"> JAR </em> </strong>文件。</li><li id="0060" class="oc od it lb b lc ol lf om li on lm oo lq op lu oh oi oj ok bi translated"><code class="fe lw lx ly lz b">f </code> —指定创建的<strong class="lb iu"> <em class="lv"> JAR </em> </strong>将是一个文件。默认情况下，它会简单地将<strong class="lb iu"> <em class="lv"> JAR </em> </strong>输出到终端中。<code class="fe lw lx ly lz b">app.jar</code>是该文件的名称。</li><li id="165d" class="oc od it lb b lc ol lf om li on lm oo lq op lu oh oi oj ok bi translated"><code class="fe lw lx ly lz b">v</code>——这个意思是<strong class="lb iu"> <em class="lv">啰嗦</em> </strong>。它给出了在终端中创建的<strong class="lb iu"> <em class="lv"> JAR </em> </strong>的信息。没有必要。</li><li id="a01d" class="oc od it lb b lc ol lf om li on lm oo lq op lu oh oi oj ok bi translated"><code class="fe lw lx ly lz b">m</code> —指来自我们<code class="fe lw lx ly lz b">manifest.txt</code>的将被添加到我们<strong class="lb iu"><em class="lv">JAR</em></strong><strong class="lb iu"><em class="lv">manifest</em></strong>文件中的信息。</li></ul><p id="5af5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些命令的顺序很重要，因为它们决定了字段的输入顺序。</p><ul class=""><li id="1b30" class="oc od it lb b lc ld lf lg li oe lm of lq og lu oh oi oj ok bi translated"><code class="fe lw lx ly lz b">-C</code> —将目录更改为指定的文件夹。在这种情况下，那就是<code class="fe lw lx ly lz b">bin</code>文件夹。然后我们需要指定<code class="fe lw lx ly lz b">bin</code>文件夹中需要什么文件。这就是为什么我们之后使用<code class="fe lw lx ly lz b">".”</code>来指定该目录中的所有文件。</li></ul><p id="dd1d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出:</p><pre class="kj kk kl km gt nq lz nr ns aw nt bi"><span id="516d" class="nu mb it lz b gy nv nw l nx ny">added manifest<br/>adding: contact/(in = 0) (out= 0)(stored 0%)<br/>adding: contact/Address.class(in = 1999) (out= 1105)(deflated 44%)<br/>adding: contact/Contact.class(in = 4258) (out= 2177)(deflated 48%)<br/>adding: contact/Gender.class(in = 799) (out= 468)(deflated 41%)<br/>adding: contact/Name.class(in = 1020) (out= 549)(deflated 46%)<br/>adding: contact/Person.class(in = 1643) (out= 855)(deflated 47%)<br/>adding: contact/Phone.class(in = 1896) (out= 1019)(deflated 46%)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/26208e4d1a389b86b679000c21cbb394.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PLMK2_sn6bT4Y_xEZvC20g.png"/></div></div></figure><p id="b7c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的<strong class="lb iu"> <em class="lv"> JAR </em> </strong>文件现在创建好了。</p><h2 id="7901" class="nu mb it bd mc or os dn mg ot ou dp mk li ov ow mm lm ox oy mo lq oz pa mq pb bi translated">现在，让我们试着运行它！</h2><pre class="kj kk kl km gt nq lz nr ns aw nt bi"><span id="99ca" class="nu mb it lz b gy nv nw l nx ny">java -jar app.jar</span></pre><p id="bae5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出:</p><pre class="kj kk kl km gt nq lz nr ns aw nt bi"><span id="ac60" class="nu mb it lz b gy nv nw l nx ny">Age: 10<br/>Name: Brown,John<br/>enty number: 1</span><span id="dde0" class="nu mb it lz b gy nz nw l nx ny">Email list:<br/>[<a class="ae ky" href="mailto:email@email.com" rel="noopener ugc nofollow" target="_blank">email@email.com</a>, <a class="ae ky" href="mailto:jordan@email.com" rel="noopener ugc nofollow" target="_blank">jordan@email.com</a>]</span><span id="dc6e" class="nu mb it lz b gy nz nw l nx ny">Address list:<br/>[1 Any Street, Any Town, Jamaica]</span><span id="ec5e" class="nu mb it lz b gy nz nw l nx ny">Phone list:<br/>[(876) 524-5788, (876) 690-8731]</span></pre><h1 id="000a" class="ma mb it bd mc md me mf mg mh mi mj mk jz ml ka mm kc mn kd mo kf mp kg mq mr bi translated">总结:</h1><blockquote class="pc"><p id="d9da" class="pd pe it bd pf pg ph pi pj pk pl lu dk translated">现在不难了吧？</p></blockquote><p id="b62b" class="pw-post-body-paragraph kz la it lb b lc pm ju le lf pn jx lh li po lk ll lm pp lo lp lq pq ls lt lu im bi translated">我们使用Java创建了自己的<strong class="lb iu"> <em class="lv"> JAR </em> </strong>文件。记住我们的<strong class="lb iu"> <em class="lv"> JAR </em> </strong>文件是我们的Java代码的简单压缩，分成两个文件夹，即我们的<code class="fe lw lx ly lz b">src</code>和我们的<code class="fe lw lx ly lz b">bin</code>文件夹。我们的源代码，即扩展名为<code class="fe lw lx ly lz b">.java</code>的代码文件存储在<code class="fe lw lx ly lz b">src</code>文件夹中，而扩展名为<code class="fe lw lx ly lz b">.class</code>的类文件存储在<code class="fe lw lx ly lz b">bin</code>文件夹中。</p><p id="fcf3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lw lx ly lz b">jar cvfm &lt;file/foler name&gt; manifest.txt -C bin .</code>用于实际创建我们的<strong class="lb iu"> <em class="lv"> JAR </em> </strong>文件。JAR  通过运行单个文件，可以使你的项目更具可移植性。如果使用GUI库，只需点击jar就可以打开。</p></div></div>    
</body>
</html>