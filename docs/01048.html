<html>
<head>
<title>A Practical Introduction to Python Lambda Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python Lambda函数的实用介绍</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/a-practical-introduction-to-python-lambda-functions-3b4a0702b6a1?source=collection_archive---------2-----------------------#2019-10-29">https://levelup.gitconnected.com/a-practical-introduction-to-python-lambda-functions-3b4a0702b6a1?source=collection_archive---------2-----------------------#2019-10-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/fca548d6dce2951988ca51d1767fc841.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*lh2rR23r4LRdJb3h.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">看，一艘形似Lambda的星球大战飞船！</figcaption></figure><blockquote class="kf kg kh"><p id="fa79" class="ki kj kk kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg im bi translated">想获得灵感？快来加入我的<a class="ae lh" href="https://www.superquotes.co/?utm_source=mediumtech&amp;utm_medium=web&amp;utm_campaign=sharing" rel="noopener ugc nofollow" target="_blank"> <strong class="kl iu">超级行情快讯</strong> </a>。😎</p></blockquote><p id="0507" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">在Python中，<em class="kk"> Lambda函数</em>指的是一个小型的匿名函数。我们称这些函数为匿名函数，因为从技术上来说它没有名字——我们不用Python中常用的标准关键字<code class="fe ll lm ln lo b">def</code>来定义它。相反，Lambda函数被定义为执行单个表达式的一行程序。</p><p id="6a7e" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">尽管它们看起来不同，Lambda函数的行为方式与使用<code class="fe ll lm ln lo b">def</code>关键字声明的常规函数相同。它们的执行方式与常规Python函数类似，只是它们严格执行单个表达式。</p><p id="2393" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">Lambda函数主要用于创建小型的一次性函数。你经常会看到它们代替了一个完全定义的函数，但是为了节省时间和空间，它们被写成了Lambda。来自<a class="ae lh" href="https://docs.python.org/3/faq/design.html" rel="noopener ugc nofollow" target="_blank"> Python设计和历史常见问题解答</a>:</p><blockquote class="lp"><p id="2411" class="lq lr it bd ls lt lu lv lw lx ly lg dk translated">与其他语言中添加功能的lambda形式不同，如果你懒得定义函数，Python lambdas只是一种速记符号。</p></blockquote><p id="286f" class="pw-post-body-paragraph ki kj it kl b km lz ko kp kq ma ks kt li mb kw kx lj mc la lb lk md le lf lg im bi translated">具体描述，λ函数可以通过以下3点来理解:</p><ul class=""><li id="1c3e" class="me mf it kl b km kn kq kr li mg lj mh lk mi lg mj mk ml mm bi translated">Lambda函数必须总是执行单个表达式</li><li id="f061" class="me mf it kl b km mn kq mo li mp lj mq lk mr lg mj mk ml mm bi translated">表达式是由lambda函数运行的Python代码，它可能会也可能不会返回任何值</li><li id="e613" class="me mf it kl b km mn kq mo li mp lj mq lk mr lg mj mk ml mm bi translated">lambda函数可以接受任意数量的输入参数并返回任意数量的输出参数，只要该函数被维护为单个表达式</li></ul><h1 id="2d77" class="ms mt it bd mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np bi translated">Python中的基本Lambda函数</h1><p id="c56e" class="pw-post-body-paragraph ki kj it kl b km nq ko kp kq nr ks kt li ns kw kx lj nt la lb lk nu le lf lg im bi translated">所有Python Lambda函数遵循完全相同的语法:</p><pre class="nv nw nx ny gt nz lo oa ob aw oc bi"><span id="208a" class="od mt it lo b gy oe of l og oh">lambda arguments: expression</span></pre><p id="48a5" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">例如，假设我们想要声明一个Lambda函数来计算除法运算的余数。当然，我们可以不用Python的<code class="fe ll lm ln lo b">%</code>操作符来实现这个功能，但是在浏览代码时可读性不是很好。第一遍通读的时候很容易漏掉，也不直观抓。</p><p id="2b67" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">然而，当我们使用Lambda函数时，我们能够进行清理，以获得更好的可读性和更干净的代码:</p><pre class="nv nw nx ny gt nz lo oa ob aw oc bi"><span id="98d8" class="od mt it lo b gy oe of l og oh">compute_remainder = lambda x, y: x % y</span></pre><p id="cf70" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">我们的Lambda函数接受两个参数，<code class="fe ll lm ln lo b">x</code>和<code class="fe ll lm ln lo b">y</code>，然后通过<code class="fe ll lm ln lo b">x % y</code>使用Python的<code class="fe ll lm ln lo b">%</code>操作符计算这两个参数的余数。要调用该函数，我们所要做的就是像应用任何其他常规Python函数一样，传递参数并将返回值保存在一个变量中。</p><pre class="nv nw nx ny gt nz lo oa ob aw oc bi"><span id="171d" class="od mt it lo b gy oe of l og oh">### Prints out 1<br/>r = compute_remainder(10, 3)<br/>print(r)</span></pre><p id="b2d6" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">我们使用Lambda函数的代码简单且包含。</p><h1 id="191c" class="ms mt it bd mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np bi translated">filter()函数</h1><p id="4b40" class="pw-post-body-paragraph ki kj it kl b km nq ko kp kq nr ks kt li ns kw kx lj nt la lb lk nu le lf lg im bi translated"><code class="fe ll lm ln lo b">filter()</code>函数用于从Python序列中选择特定的元素。Python序列是一种可以保存多个元素的数据类型，例如列表、元组、集合或字符串。</p><p id="ac84" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">过滤函数将两个项目作为输入，一个<em class="kk">对象</em>和一个<em class="kk">序列:</em></p><pre class="nv nw nx ny gt nz lo oa ob aw oc bi"><span id="dbc6" class="od mt it lo b gy oe of l og oh">filter(object, sequence)</span></pre><p id="8a55" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">对象将是我们的Python Lambda函数。因此，我们正在使用Python Lambda函数过滤<em class="kk">序列</em>。</p><p id="ee3b" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">由于我们传递的Lambda函数将执行过滤操作，我们将需要它严格返回一个布尔值— <code class="fe ll lm ln lo b">True</code>保留一个元素，<code class="fe ll lm ln lo b">False</code>将其过滤掉。然后，filter函数将返回另一个序列，该序列仅包含Lambda评估为True的元素。</p><p id="e3f4" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">例如，假设我们有一个数字列表，我们想过滤掉所有小于50的数字。我们可以通过列表理解来做到这一点:</p><pre class="nv nw nx ny gt nz lo oa ob aw oc bi"><span id="bc77" class="od mt it lo b gy oe of l og oh">### Prints out [66, 91, 98, 80, 99]</span><span id="a685" class="od mt it lo b gy oi of l og oh">data = [66, 15, 91, 30, 35, 38, 43, 20, 38, 28, 98, 50, 7, 80, 99]<br/>filtered = [d for d in data if d &gt; 50]<br/>print(filtered)</span></pre><p id="1e74" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">虽然列表理解绝对是Pythonic式的，但对读者来说不是很友好。相反，带有Lambda的过滤函数看起来要干净得多。</p><pre class="nv nw nx ny gt nz lo oa ob aw oc bi"><span id="0e11" class="od mt it lo b gy oe of l og oh">### Prints out [66, 91, 98, 80, 99]</span><span id="585e" class="od mt it lo b gy oi of l og oh">data = [66, 15, 91, 30, 35, 38, 43, 20, 38, 28, 98, 50, 7, 80, 99]<br/>filtered = list(filter(lambda x: (x &gt; 50), data))<br/>print(filtered)</span></pre><p id="bf1d" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">我们的过滤器非常适合一行程序，同时比列表理解更具可读性，并能完成相同的任务。</p><h1 id="47da" class="ms mt it bd mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np bi translated">map()函数</h1><p id="8518" class="pw-post-body-paragraph ki kj it kl b km nq ko kp kq nr ks kt li ns kw kx lj nt la lb lk nu le lf lg im bi translated"><code class="fe ll lm ln lo b">map()</code>函数用于将操作符或表达式应用于序列中的每个元素。例如，如果您的序列是一个数字列表，您可能希望将每个数字除以2，这是使用<code class="fe ll lm ln lo b">map()</code>函数的最佳情况。</p><p id="ec8c" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">map函数将两个项目作为输入，一个<em class="kk">对象</em>和一个<em class="kk">序列:</em></p><pre class="nv nw nx ny gt nz lo oa ob aw oc bi"><span id="c402" class="od mt it lo b gy oe of l og oh">map(object, sequence)</span></pre><p id="28ed" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">就像之前一样，对象将是我们的Python Lambda函数。因此，我们对<em class="kk">序列</em>中的每个元素执行Lambda中的表达式。</p><p id="019e" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">因为我们传递的Lambda函数将在每个列表元素上执行一个表达式，所以我们的Lambda可以返回任何类型的值。唯一需要注意的是你的列表中没有任何元素会给你的Lambda函数带来错误。例如，您可能有一个既包含整数又包含字符串的列表，所以试图将每个元素除以2是行不通的。</p><p id="47a3" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">让我们用一个和<code class="fe ll lm ln lo b">filter()</code>相似的例子，我们有一个数字列表。在这种情况下，我们将编写代码来计算列表中每个元素的平方。同样，我们总是可以通过列表理解来做到这一点:</p><pre class="nv nw nx ny gt nz lo oa ob aw oc bi"><span id="8a21" class="od mt it lo b gy oe of l og oh">### Prints out [33.0, 7.5, 45.5, 15.0, 17.5, 19.0, 21.5, 10.0, 19.0, ### 14.0, 49.0, 25.0, 3.5, 40.0, 49.5]</span><span id="1ec4" class="od mt it lo b gy oi of l og oh">data = [66, 15, 91, 30, 35, 38, 43, 20, 38, 28, 98, 50, 7, 80, 99]<br/>mapped = [(x / 2) for x in data]<br/>print(mapped)</span></pre><p id="b2c4" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">虽然列表理解肯定是<em class="kk">python式的</em>，但它对读者来说不是很友好。相反，带有Lambda的map函数看起来要干净得多。</p><pre class="nv nw nx ny gt nz lo oa ob aw oc bi"><span id="e7ad" class="od mt it lo b gy oe of l og oh">### Prints out [33.0, 7.5, 45.5, 15.0, 17.5, 19.0, 21.5, 10.0, 19.0, ### 14.0, 49.0, 25.0, 3.5, 40.0, 49.5]</span><span id="cc0e" class="od mt it lo b gy oi of l og oh">data = [66, 15, 91, 30, 35, 38, 43, 20, 38, 28, 98, 50, 7, 80, 99]<br/>mapped = list(map(lambda x: (x / 2), data))<br/>print(mapped)</span></pre><p id="cfae" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">我们的映射非常适合一行程序，同时比列表理解更具可读性，并完成相同的任务。</p></div><div class="ab cl oj ok hx ol" role="separator"><span class="om bw bk on oo op"/><span class="om bw bk on oo op"/><span class="om bw bk on oo"/></div><div class="im in io ip iq"><h1 id="9137" class="ms mt it bd mu mv oq mx my mz or nb nc nd os nf ng nh ot nj nk nl ou nn no np bi translated">喜欢学习？</h1><p id="e3b7" class="pw-post-body-paragraph ki kj it kl b km nq ko kp kq nr ks kt li ns kw kx lj nt la lb lk nu le lf lg im bi translated">在Twitter上关注我，我会在这里发布所有最新最棒的人工智能、技术和科学！也在<a class="ae lh" href="https://www.linkedin.com/in/georgeseif/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上和我联系吧！</p></div></div>    
</body>
</html>