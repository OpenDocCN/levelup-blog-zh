<html>
<head>
<title>Cleaning Up Your Code With F-Strings in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python中的F字符串清理代码</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/cleaning-up-your-code-with-f-strings-in-python-685318256319?source=collection_archive---------43-----------------------#2021-02-22">https://levelup.gitconnected.com/cleaning-up-your-code-with-f-strings-in-python-685318256319?source=collection_archive---------43-----------------------#2021-02-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="acf3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">格式化字符串的初学者指南</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/0c7ef9cd614744d481891d2364c310ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3ykFBOa-2ZP3QNgR"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated"><a class="ae le" href="https://unsplash.com/@jeshoots?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">JESHOOTS.COM</a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><p id="b32d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当然，性爱很酷，但是你曾经写过第一次就能成功的高效代码吗？f-string是编写干净、简洁代码的一个很好的工具。如果你是Python的新手，或者只是想快速复习一下代码，那就省点时间学习f字符串吧。</p><h1 id="a3d8" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated"><strong class="ak">什么是f弦？</strong></h1><p id="8193" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">f字符串是一种格式化的Python字符串文字。这无疑是我遇到的最用户友好的Python特性，对于一个新程序员来说，这是一个极大的信心助推器。</p><p id="84f0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下面是f字符串的基本格式:</p><blockquote class="mi mj mk"><p id="f2a2" class="jq jr ml js b jt ju jv jw jx jy jz ka mm kc kd ke mn kg kh ki mo kk kl km kn im bi translated">print(<strong class="js iu">f</strong>"[string]{ placeholder 1 } { placeholder 2 } ")</p></blockquote><p id="533a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它在这里看起来不太像，但是在字符串中处理数字和多个变量时非常有用。</p><h1 id="4f7c" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated"><strong class="ak">带有f字符串的示例程序:</strong></h1><p id="0d97" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">假设您想要显示一条消息，该消息通过名称问候用户，并告诉他们该月的预算还剩多少。</p><p id="e7b6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> ◆我们的代码最后会显示什么:“</strong>您好{用户的名字}！您这个月已经花了{x}美元，还剩下{x}美元可以花。</p><p id="cd61" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> ◆我们需要从用户那里得到什么:</strong>他们的名字，以及他们这个月花了多少美元</p><p id="3da1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> ◆我们需要计算的:</strong>用户每月500美元的预算还剩多少美元</p><p id="d3c8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">我们的第一步是获取用户的名字。</strong></p><blockquote class="mi mj mk"><p id="5de7" class="jq jr ml js b jt ju jv jw jx jy jz ka mm kc kd ke mn kg kh ki mo kk kl km kn im bi translated">#获取用户的名字</p><p id="c4f6" class="jq jr ml js b jt ju jv jw jx jy jz ka mm kc kd ke mn kg kh ki mo kk kl km kn im bi translated">名字 = input("你的名字是什么？")</p></blockquote><p id="1f50" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您可能已经知道变量<strong class="js iu"> first_name </strong>将引用用户输入的任何值。在这种情况下，假设一个用户输入他们的名字:Emily。现在，当你输入名字时，程序会返回‘Emily’。</p><p id="c89c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">接下来，我们将获得用户当月的消费金额:</strong></p><blockquote class="mi mj mk"><p id="1113" class="jq jr ml js b jt ju jv jw jx jy jz ka mm kc kd ke mn kg kh ki mo kk kl km kn im bi translated">#获取消费金额(美元)</p><p id="8d0d" class="jq jr ml js b jt ju jv jw jx jy jz ka mm kc kd ke mn kg kh ki mo kk kl km kn im bi translated"><strong class="js iu">美元_花费</strong> = float(input("你这个月花了多少钱(美元)？"))</p></blockquote><p id="ffff" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">假设我们的用户Emily输入<strong class="js iu"> 375.5 </strong>。现在，变量<strong class="js iu">美元_花费</strong>引用值‘375.5’。</p><p id="46d9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，我们将使用来自变量<strong class="js iu">dollars _ spend</strong>的输入值来<strong class="js iu">计算用户这个月还剩下多少钱可以花。</strong>在这种情况下，程序假设用户每月的预算为500美元。因此，它将从500.00中减去<strong class="js iu">美元_支出</strong>变量。</p><blockquote class="mi mj mk"><p id="0e94" class="jq jr ml js b jt ju jv jw jx jy jz ka mm kc kd ke mn kg kh ki mo kk kl km kn im bi translated">#计算剩余金额</p><p id="d214" class="jq jr ml js b jt ju jv jw jx jy jz ka mm kc kd ke mn kg kh ki mo kk kl km kn im bi translated"><strong class="js iu">美元_剩余</strong> = 500.00美元_已花</p></blockquote><p id="6dcb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">f弦出现的地方:</strong></p><p id="7f53" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">由于<strong class="js iu"> first_name </strong>、<strong class="js iu">dollars _ spend、</strong>和<strong class="js iu"> dollars_remaining </strong>变量将会改变，您将放入一个被称为“<strong class="js iu">占位符</strong>”的东西:一组包含变量名称的{括号}。</p><p id="baad" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">到目前为止，代码看起来是这样的:</strong></p><blockquote class="mi mj mk"><p id="9021" class="jq jr ml js b jt ju jv jw jx jy jz ka mm kc kd ke mn kg kh ki mo kk kl km kn im bi translated">名字 = input("你的名字是什么？")</p></blockquote><p id="b115" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">用户输入→ <strong class="js iu">艾米丽</strong></p><blockquote class="mi mj mk"><p id="85b9" class="jq jr ml js b jt ju jv jw jx jy jz ka mm kc kd ke mn kg kh ki mo kk kl km kn im bi translated"><strong class="js iu">美元_花费</strong> = float(input("你这个月花了多少钱(美元)？"))</p></blockquote><p id="44a2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">用户输入→ <strong class="js iu"> 375.5 </strong></p><blockquote class="mi mj mk"><p id="25ad" class="jq jr ml js b jt ju jv jw jx jy jz ka mm kc kd ke mn kg kh ki mo kk kl km kn im bi translated"><strong class="js iu">美元_剩余</strong> = 500.00美元_已用</p><p id="fb00" class="jq jr ml js b jt ju jv jw jx jy jz ka mm kc kd ke mn kg kh ki mo kk kl km kn im bi translated">print(f "你好，{名字}！本月您已经花费了$ { dollars _ spent },还剩下${dollars_remaining}可以使用。)</p><p id="c0eb" class="jq jr ml js b jt ju jv jw jx jy jz ka mm kc kd ke mn kg kh ki mo kk kl km kn im bi translated"><strong class="js iu">输出→ </strong>艾米丽你好！你这个月花了375.5美元，还剩124.5美元。</p></blockquote><p id="c249" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用这些占位符允许多个用户输入数据并生成新的输出，而无需重复代码。众所周知，高效的代码是最好的代码。</p><h1 id="b3d3" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">最后一步:格式化代码显示的小数位数。</h1><p id="df3e" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">$375.5看起来很奇怪——让我们确保我们的程序显示两位小数，而不是一位。</p><p id="861d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为此，我们只需将“:. 2f”添加到美元_支出和美元_剩余占位符中。<strong class="js iu">这是我们完成的代码的样子:</strong></p><blockquote class="mi mj mk"><p id="9aa0" class="jq jr ml js b jt ju jv jw jx jy jz ka mm kc kd ke mn kg kh ki mo kk kl km kn im bi translated">print(f "你好，{名字}！本月您已经花费了$ { dollars _ spend:. 2f }，还剩下${dollars_remaining:.2f}可以使用。)</p><p id="9c49" class="jq jr ml js b jt ju jv jw jx jy jz ka mm kc kd ke mn kg kh ki mo kk kl km kn im bi translated"><strong class="js iu">新输出→ </strong>你好，艾米丽！你这个月已经花了375.50美元，还剩下124.50美元。</p></blockquote><p id="ec0b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一句话:给自己留点时间，玩玩f弦。它将有助于清理您的编码风格，并使您的生活更加轻松。搞砸是没有后果的，而且，正如我在上一篇文章中提到的，<a class="ae le" rel="noopener ugc nofollow" target="_blank" href="/top-5-mistakes-i-made-while-learning-to-code-in-school-7e9212ba2b04">你必须练习写代码才能学会写代码。</a></p><p id="4ffe" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">编码快乐！</p></div></div>    
</body>
</html>