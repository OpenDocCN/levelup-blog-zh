<html>
<head>
<title>How to: Create Live Activities Widget for iOS 16</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何:为iOS 16创建实时活动Widget</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-create-live-activities-widget-for-ios-16-2c07889f1235?source=collection_archive---------0-----------------------#2022-07-29">https://levelup.gitconnected.com/how-to-create-live-activities-widget-for-ios-16-2c07889f1235?source=collection_archive---------0-----------------------#2022-07-29</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="28f4" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">面向苹果开发者的第一个教程和SwiftUI示例代码</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj kj"><img src="../Images/10d87ed4f53e99581cbca4757ccb68ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:512/format:webp/0*WNBJ-Uz0EWu4I_wx.png"/></div><figcaption class="kr ks gk gi gj kt ku bd b be z dk translated">苹果公司的ActivityKit</figcaption></figure><p id="f35d" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi lr translated"><span class="l ls lt lu bm lv lw lx ly lz di">正如</span>苹果<a class="ae ma" href="https://developer.apple.com/news/?id=hi37aek8" rel="noopener ugc nofollow" target="_blank">宣布的那样，Live Activities现已推出测试版</a>，许多像你一样的开发者正在寻求将这个小工具集成到iPhone应用中。因此，我基于Apple文档创建了一个示例SwiftUI项目来帮助您开始。我们走吧！👨‍💻</p><h1 id="b4bd" class="mb mc iu bd md me mf mg mh mi mj mk ml ka mm kb mn kd mo ke mp kg mq kh mr ms bi translated">什么是现场活动？</h1><blockquote class="mt mu mv"><p id="41e4" class="kv kw mw kx b ky kz jv la lb lc jy ld mx lf lg lh my lj lk ll mz ln lo lp lq in bi translated">实时活动将帮助您直接从锁定屏幕跟踪正在进行的活动，因此您可以跟踪您的食品交付进度或使用正在播放的控件，而无需解锁您的设备。—苹果公司</p></blockquote><h1 id="bb68" class="mb mc iu bd md me mf mg mh mi mj mk ml ka mm kb mn kd mo ke mp kg mq kh mr ms bi translated">主题:披萨外卖</h1><p id="9bcc" class="pw-post-body-paragraph kv kw iu kx b ky na jv la lb nb jy ld le nc lg lh li nd lk ll lm ne lo lp lq in bi translated">本教程将使用SwiftUI、WidgetKit和ActivityKit创建一个披萨外卖应用程序。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="ng nh di ni bf nj"><div class="gi gj nf"><img src="../Images/04a95cd86b27b47d6a0e26b4e9142564.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*r-dAsbwD0mc-i5hi.gif"/></div></div><figcaption class="kr ks gk gi gj kt ku bd b be z dk translated">试映</figcaption></figure><p id="0d7b" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">重要事项:请确保您已升级到iOS 16 beta 4和Xcode 14 beta 4或更高版本。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nk nl l"/></div></figure><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nk nl l"/></div></figure><h1 id="8ed7" class="mb mc iu bd md me mf mg mh mi mj mk ml ka mm kb mn kd mo ke mp kg mq kh mr ms bi translated">环境</h1><ul class=""><li id="7b5a" class="nm nn iu kx b ky na lb nb le no li np lm nq lq nr ns nt nu bi translated">Xcode 14 beta 4</li><li id="9867" class="nm nn iu kx b ky nv lb nw le nx li ny lm nz lq nr ns nt nu bi translated">iOS 14 beta 4</li></ul><p id="e427" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">更新:最新版本(包括动态岛)请参考<a class="ae ma" href="https://1998design.medium.com/how-to-create-dynamic-island-widgets-on-ios-16-1-or-above-dca0a7dd1483" rel="noopener">最新教程</a>和<a class="ae ma" href="https://github.com/1998code/iOS16-Live-Activities" rel="noopener ugc nofollow" target="_blank">回购</a>。</p><h1 id="54ee" class="mb mc iu bd md me mf mg mh mi mj mk ml ka mm kb mn kd mo ke mp kg mq kh mr ms bi translated">使用</h1><p id="8382" class="pw-post-body-paragraph kv kw iu kx b ky na jv la lb nb jy ld le nc lg lh li nd lk ll lm ne lo lp lq in bi translated">首先，在<code class="fe oa ob oc od b">Info.plist</code>中添加<code class="fe oa ob oc od b">NSSupportsLiveActivities</code>键，并设置为<code class="fe oa ob oc od b">YES</code>。</p><p id="6287" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">其次，您需要为应用程序和小部件导入<strong class="kx iv"> ActivityKit </strong>。</p><p id="f38d" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated"><code class="fe oa ob oc od b">import ActivityKit</code></p><p id="2d3d" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">然后，为这个比萨饼外卖应用程序和小部件设置活动属性。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oe nl l"/></div></figure><p id="62f8" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">添加启动、更新、停止和显示活动的功能。您可以使用按钮或远程通知来触发这些事件。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oe nl l"/></div></figure><p id="a083" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">要配置微件，将<code class="fe oa ob oc od b">StaticConfiguration</code>更改为<code class="fe oa ob oc od b">ActivityConfiguration</code>。提供的示例如下:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oe nl l"/></div></figure><p id="bcea" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">你可以得到回应，例如:</p><p id="5aa5" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">开始一个事件:<code class="fe oa ob oc od b">Requested a pizza delivery Live Activity DA288E1B-F6F5–4BF1-AA73-E43E0CC13150</code></p><p id="9be5" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">全部显示:<code class="fe oa ob oc od b">Pizza delivery details: DA288E1B-F6F5–4BF1-AA73-E43E0CC13150 -&gt; PizzaDeliveryAttributes(numberOfPizzas: 1, totalAmount: “$99”)</code></p><h1 id="f31e" class="mb mc iu bd md me mf mg mh mi mj mk ml ka mm kb mn kd mo ke mp kg mq kh mr ms bi translated">有问题吗？</h1><p id="023c" class="pw-post-body-paragraph kv kw iu kx b ky na jv la lb nb jy ld le nc lg lh li nd lk ll lm ne lo lp lq in bi translated">别担心！找到下面的源代码。您可以随时打开新的问题并提问。</p><div class="of og gq gs oh oi"><a href="https://github.com/1998code/iOS16-Live-Activities" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fp"><div class="ok ab ol cl cj om"><h2 class="bd iv gz z fq on fs ft oo fv fx it bi translated">GitHub-1998 code/IOs 16-Live-Activities:Apple activity kit &amp; widget kit的SwiftPizza应用程序</h2><div class="op l"><h3 class="bd b gz z fq on fs ft oo fv fx dk translated">这是第一个引用最新Apple ActivityKit测试版的项目示例。现场活动将帮助您…</h3></div><div class="oq l"><p class="bd b dl z fq on fs ft oo fv fx dk translated">github.com</p></div></div><div class="or l"><div class="os l ot ou ov or ow kp oi"/></div></div></a></div></div><div class="ab cl ox oy hy oz" role="separator"><span class="pa bw bk pb pc pd"/><span class="pa bw bk pb pc pd"/><span class="pa bw bk pb pc"/></div><div class="in io ip iq ir"><h1 id="9dd0" class="mb mc iu bd md me pe mg mh mi pf mk ml ka pg kb mn kd ph ke mp kg pi kh mr ms bi translated">感谢阅读:)</h1><h2 id="776b" class="pj mc iu bd md pk pl dn mh pm pn dp ml le po pp mn li pq pr mp lm ps pt mr pu bi translated">跟踪并关注最新技术。</h2><div class="of og gq gs oh oi"><a href="https://twitter.com/1998design" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fp"><div class="ok ab ol cl cj om"><h2 class="bd iv gz z fq on fs ft oo fv fx it bi translated">明@ 1998设计</h2><div class="op l"><h3 class="bd b gz z fq on fs ft oo fv fx dk translated">跟随</h3></div><div class="oq l"><p class="bd b dl z fq on fs ft oo fv fx dk translated">twitter.com</p></div></div><div class="or l"><div class="pv l ot ou ov or ow kp oi"/></div></div></a></div></div><div class="ab cl ox oy hy oz" role="separator"><span class="pa bw bk pb pc pd"/><span class="pa bw bk pb pc pd"/><span class="pa bw bk pb pc"/></div><div class="in io ip iq ir"><h1 id="924d" class="mb mc iu bd md me pe mg mh mi pf mk ml ka pg kb mn kd ph ke mp kg pi kh mr ms bi translated">分级编码</h1><p id="74cc" class="pw-post-body-paragraph kv kw iu kx b ky na jv la lb nb jy ld le nc lg lh li nd lk ll lm ne lo lp lq in bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="a5be" class="nm nn iu kx b ky kz lb lc le pw li px lm py lq nr ns nt nu bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="2668" class="nm nn iu kx b ky nv lb nw le nx li ny lm nz lq nr ns nt nu bi translated">📰查看<a class="ae ma" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">级编码出版物</a>中的更多内容</li><li id="0ae8" class="nm nn iu kx b ky nv lb nw le nx li ny lm nz lq nr ns nt nu bi translated">🔔关注我们:<a class="ae ma" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">推特</a> | <a class="ae ma" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a> | <a class="ae ma" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="53b5" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">🚀👉<a class="ae ma" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kx iv">加入升级人才集体，找到一份惊艳的工作</strong> </a></p></div></div>    
</body>
</html>