<html>
<head>
<title>Guide to Using Variables in Go</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Go中变量使用指南</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/guide-to-using-variables-in-go-7288dd34e3e9?source=collection_archive---------9-----------------------#2022-11-15">https://levelup.gitconnected.com/guide-to-using-variables-in-go-7288dd34e3e9?source=collection_archive---------9-----------------------#2022-11-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/fc586a357121e2637c737d26292e78e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bX-si-etRb0wz5wQ"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@piggybank?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">小猪银行</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="435f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在Go中，<em class="le">变量</em>被编译器显式声明和使用，例如检查函数调用的类型正确性。</p><p id="aee6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">变量可以像常量一样初始化，但是初始化器可以是在运行时计算的一般表达式。</p><h1 id="8dea" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">长格式:</h1><blockquote class="md me mf"><p id="b37e" class="kg kh le ki b kj kk kl km kn ko kp kq mg ks kt ku mh kw kx ky mi la lb lc ld im bi translated"><strong class="ki iu"> var i int </strong></p></blockquote><p id="9d3c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里var语句声明了一个变量列表；与函数参数列表一样，类型在最后。</p><p id="5b3b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一个<code class="fe mj mk ml mm b">var</code>语句可以在包或函数级别。我们在上面的例子中看到了这两种情况。</p><h1 id="6778" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">简短形式:</h1><blockquote class="md me mf"><p id="ec88" class="kg kh le ki b kj kk kl km kn ko kp kq mg ks kt ku mh kw kx ky mi la lb lc ld im bi translated">我:= 10 </p></blockquote><p id="64ae" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里我们声明一个名为“I”的变量，并存储10作为它的值。到这里通过类型推断自动猜测变量类型</p><h1 id="e91d" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">带有初始值设定项的变量</h1><blockquote class="md me mf"><p id="ed91" class="kg kh le ki b kj kk kl km kn ko kp kq mg ks kt ku mh kw kx ky mi la lb lc ld im bi translated"><strong class="ki iu"> var i，j int = 1，2 </strong></p></blockquote><p id="8e94" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">var声明可以包含初始化器，每个变量一个。如果初始值设定项存在，则可以省略该类型；变量将采用初始化器的类型。</p><h1 id="4072" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">多重声明</h1><pre class="mn mo mp mq gt mr mm ms bn mt mu bi"><span id="cc22" class="mv lg it mm b be mw mx l my mz">var (<br/>    home string<br/>    userID,age = 1,20<br/>    isPresent boolean<br/>)</span></pre><p id="7bc2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这在同一个语句中声明了具有不同类型和值的多个变量。</p><p id="30be" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的例子中，userID的第二行值是1，年龄是20。</p><h1 id="9c9b" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">基本类型</h1><pre class="mn mo mp mq gt mr mm na nb aw nc bi"><span id="b112" class="nd lg it mm b gy ne nf l ng mz">string<br/>bool</span><span id="af35" class="nd lg it mm b gy nh nf l ng mz">int  int8  int16  int32  int64<br/>uint uint8 uint16 uint32 uint64 uintptr</span><span id="c248" class="nd lg it mm b gy nh nf l ng mz">byte // alias for uint8</span><span id="a4ed" class="nd lg it mm b gy nh nf l ng mz">rune // alias for int32<br/>     // represents a Unicode code point</span><span id="c667" class="nd lg it mm b gy nh nf l ng mz">float32 float64</span><span id="e4b3" class="nd lg it mm b gy nh nf l ng mz">complex64 complex128</span></pre><p id="bf8e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面的例子显示了几种类型的变量，并且变量声明可以“分解”到块中，就像导入语句一样。</p><pre class="mn mo mp mq gt mr mm ms bn mt mu bi"><span id="49a5" class="mv lg it mm b be mw mx l my mz">package main<br/><br/>import (<br/> "fmt"<br/> "math/cmplx"<br/>)<br/><br/>var (<br/> ToBe   bool       = false<br/> MaxInt uint64     = 1&lt;&lt;64 - 1<br/> z      complex128 = cmplx.Sqrt(-5 + 12i)<br/>)<br/><br/>func main() {<br/> fmt.Printf("Type: %T Value: %v\n", ToBe, ToBe)<br/> fmt.Printf("Type: %T Value: %v\n", MaxInt, MaxInt)<br/> fmt.Printf("Type: %T Value: %v\n", z, z)<br/>}</span></pre><p id="9b3e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在32位系统上，<code class="fe mj mk ml mm b">int</code>、<code class="fe mj mk ml mm b">uint</code>和<code class="fe mj mk ml mm b">uintptr</code>类型通常是32位宽，在64位系统上是64位宽。当你需要一个整数值时，你应该使用<code class="fe mj mk ml mm b">int</code>,除非你有特殊的理由使用有大小的或者无符号的整数类型。</p><h1 id="bebd" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">零值</h1><p id="7e69" class="pw-post-body-paragraph kg kh it ki b kj ni kl km kn nj kp kq kr nk kt ku kv nl kx ky kz nm lb lc ld im bi translated">没有显式初始值的变量被赋予零值。</p><p id="c2f5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">零值为:</p><ul class=""><li id="c6ac" class="nn no it ki b kj kk kn ko kr np kv nq kz nr ld ns nt nu nv bi translated"><code class="fe mj mk ml mm b">0</code>对于数值类型，</li><li id="6f5d" class="nn no it ki b kj nw kn nx kr ny kv nz kz oa ld ns nt nu nv bi translated"><code class="fe mj mk ml mm b">false</code>为布尔型，与</li><li id="b824" class="nn no it ki b kj nw kn nx kr ny kv nz kz oa ld ns nt nu nv bi translated"><code class="fe mj mk ml mm b">""</code>(空字符串)为字符串。</li></ul><h1 id="2f21" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">应该使用哪种形式？</h1><p id="fc18" class="pw-post-body-paragraph kg kh it ki b kj ni kl km kn nj kp kq kr nk kt ku kv nl kx ky kz nm lb lc ld im bi translated">通常，当一个人不能事先知道要存储什么数据时，就使用长声明，否则，短声明一般也可以。当需要一起定义多个变量时，使用多个声明有助于提高代码的可读性。</p><p id="7ea8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">短声明不能在函数之外使用，包括<em class="le"> main </em>函数，否则编译器会抛出以下错误:</p><p id="5aa3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">语法错误:函数体外部的非声明语句。不太好。</em></p><h1 id="389d" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">其他包可访问的变量</h1><p id="8050" class="pw-post-body-paragraph kg kh it ki b kj ni kl km kn nj kp kq kr nk kt ku kv nl kx ky kz nm lb lc ld im bi translated">这种使变量对代码中的其他包可用的方法被称为<em class="le">导出</em>。对于要包作用域的变量，我们只能使用一个长声明或多个声明。</p><p id="23bf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使一个变量可用就像大写它的第一个字母一样简单。</p><p id="653d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">示例:</p><pre class="mn mo mp mq gt mr mm ms bn mt mu bi"><span id="a0f7" class="mv lg it mm b be mw mx l my mz">package main<br/><br/>func main() {<br/> var age int //unexported<br/> var Name string //exported<br/>}</span></pre></div></div>    
</body>
</html>