<html>
<head>
<title>How To Use .groupby() Effectively As A Data Scientist</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¦‚ä½•ä½¿ç”¨ã€‚groupby()æœ‰æ•ˆåœ°ä½œä¸ºæ•°æ®ç§‘å­¦å®¶</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/how-to-use-groupby-effectively-as-a-data-scientist-9e1d931e1619?source=collection_archive---------1-----------------------#2022-12-26">https://levelup.gitconnected.com/how-to-use-groupby-effectively-as-a-data-scientist-9e1d931e1619?source=collection_archive---------1-----------------------#2022-12-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="3722" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi ko translated">ä½œä¸ºä¸€åæ•°æ®ç§‘å­¦å®¶ï¼Œä½¿ç”¨æ­£ç¡®çš„å·¥å…·å’ŒæŠ€æœ¯æ¥å……åˆ†åˆ©ç”¨æ•°æ®æ˜¯éå¸¸é‡è¦çš„ã€‚Pandasåº“æ˜¯ä¸€ä¸ªéå¸¸æ£’çš„æ•°æ®æ“ä½œã€åˆ†æå’Œå¯è§†åŒ–å·¥å…·ï¼Œä¹Ÿæ˜¯ä»»ä½•æ•°æ®ç§‘å­¦å®¶å·¥å…·ç®±ä¸­å¿…ä¸å¯å°‘çš„ä¸€éƒ¨åˆ†ã€‚ç„¶è€Œï¼Œæœ‰æ•ˆåœ°ä½¿ç”¨ç†ŠçŒ«æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ï¼Œè¿™ä¼šå¯¼è‡´æ—¶é—´å’Œç²¾åŠ›çš„æµªè´¹ã€‚å¹¸è¿çš„æ˜¯ï¼Œæœ‰ä¸€äº›æœ€ä½³å®è·µå¯ä»¥å¸®åŠ©æ•°æ®ç§‘å­¦å®¶å……åˆ†åˆ©ç”¨ä»–ä»¬çš„ç†ŠçŒ«ä½“éªŒã€‚ä»ä½¿ç”¨çŸ¢é‡åŒ–æ“ä½œåˆ°åˆ©ç”¨å†…ç½®å‡½æ•°ï¼Œè¿™äº›æœ€ä½³å®è·µå°†å¸®åŠ©æ•°æ®ç§‘å­¦å®¶ä½¿ç”¨Pandaså¿«é€Ÿå‡†ç¡®åœ°åˆ†æå’Œå¯è§†åŒ–æ•°æ®ã€‚äº†è§£å¹¶åº”ç”¨è¿™äº›æœ€ä½³å®è·µå°†æœ‰åŠ©äºæ•°æ®ç§‘å­¦å®¶æé«˜å·¥ä½œæ•ˆç‡å’Œå‡†ç¡®æ€§ï¼Œä»è€Œæ›´å¿«åœ°åšå‡ºæ›´å¥½çš„å†³ç­–ã€‚</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi kx"><img src="../Images/15c56195df0ebc653083ea7ecedbf42f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-f4WiRspjvXS_gLJ"/></div></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk translated">ç”±<a class="ae ln" href="https://unsplash.com/@martinsanchez?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">é©¬ä¸Â·æ¡‘åˆ‡æ–¯</a>åœ¨<a class="ae ln" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹æ‘„çš„ç…§ç‰‡</figcaption></figure><p id="e76a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨å¦‚ä½•ä½¿ç”¨<strong class="js iu">ã€‚groupby() </strong>æ ¹æ®ç‰¹å®šç‰¹æ€§çš„å€¼æœ‰æ•ˆåœ°å¯¹æ•°æ®å¸§çš„æ¡ç›®è¿›è¡Œåˆ†ç»„ã€‚<strong class="js iu">ã€‚groupby() </strong>æ–¹æ³•åº”ç”¨äºæ•°æ®å¸§ï¼Œå¹¶æ ¹æ®ç‰¹å¾å¯¹å…¶è¿›è¡Œåˆ†ç»„ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥å¯¹åˆ†ç»„çš„å¯¹è±¡åº”ç”¨ä¸€äº›ç®€å•æˆ–æ›´å¤æ‚çš„å‡½æ•°ã€‚å¯¹äºæ¯ä¸€ä¸ªä»äº‹è¡¨æ ¼æˆ–ç»“æ„åŒ–æ•°æ®å·¥ä½œçš„<strong class="js iu">æ•°æ®ç§‘å­¦å®¶</strong>æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„å·¥å…·ï¼Œå› ä¸ºå®ƒå°†å¸®åŠ©ä½ æ›´å®¹æ˜“ã€æ›´æœ‰æ•ˆåœ°æ“ä½œæ•°æ®ã€‚</p><h2 id="fe49" class="lo lp it bd lq lr ls dn lt lu lv dp lw kb lx ly lz kf ma mb mc kj md me mf mg bi translated">ç›®å½•:</h2><ol class=""><li id="428b" class="mh mi it js b jt mj jx mk kb ml kf mm kj mn kn mo mp mq mr bi translated"><strong class="js iu">ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦é«˜æ•ˆçš„ç¼–ç ï¼Ÿ</strong></li><li id="0f57" class="mh mi it js b jt ms jx mt kb mu kf mv kj mw kn mo mp mq mr bi translated"><strong class="js iu">ä¸ä¸€èµ·ä½¿ç”¨çš„å¸¸ç”¨åŠŸèƒ½ã€‚groupby() </strong></li><li id="5e7e" class="mh mi it js b jt ms jx mt kb mu kf mv kj mw kn mo mp mq mr bi translated"><strong class="js iu">ç¼ºå¤±å€¼æ’è¡¥ä½¿ç”¨ã€‚groupby() &amp;ã€‚å˜æ¢()</strong></li><li id="5983" class="mh mi it js b jt ms jx mt kb mu kf mv kj mw kn mo mp mq mr bi translated"><strong class="js iu">æ•°æ®è¿‡æ»¤ä½¿ç”¨ã€‚groupby() &amp;ã€‚è¿‡æ»¤å™¨()</strong></li></ol><h2 id="4057" class="lo lp it bd lq lr ls dn lt lu lv dp lw kb lx ly lz kf ma mb mc kj md me mf mg bi translated">æ‚¨å¯ä»¥åœ¨GitHubçŸ¥è¯†åº“ä¸­æ‰¾åˆ°æœ¬æ–‡ä¸­ä½¿ç”¨çš„ä»£ç å’Œæ•°æ®é›†:</h2><div class="mx my gp gr mz na"><a href="https://github.com/youssefHosni/Efficient-Python-for-Data-Scientists" rel="noopener  ugc nofollow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd iu gy z fp nf fr fs ng fu fw is bi translated">GitHub-youssefHosni/é¢å‘æ•°æ®ç§‘å­¦å®¶çš„é«˜æ•ˆPython</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">ä½œä¸ºæ•°æ®ç§‘å­¦å®¶å­¦ä¹ å¦‚ä½•ç¼–å†™é«˜æ•ˆçš„pythonä»£ç å¦‚ä½•ç¼–å†™Pythonå¹²å‡€çš„ä»£ç [æ–‡ç« ]ç¼–å†™é«˜æ•ˆâ€¦</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">github.com</p></div></div><div class="nj l"><div class="nk l nl nm nn nj no lh na"/></div></div></a></div></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><p id="a56f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å¦‚æœä½ æƒ³å…è´¹å­¦ä¹ æ•°æ®ç§‘å­¦å’Œæœºå™¨å­¦ä¹ ï¼Œçœ‹çœ‹è¿™äº›èµ„æº:</p><ul class=""><li id="6d73" class="mh mi it js b jt ju jx jy kb nw kf nx kj ny kn nz mp mq mr bi translated">å…è´¹äº’åŠ¨è·¯çº¿å›¾ï¼Œè‡ªå­¦æ•°æ®ç§‘å­¦å’Œæœºå™¨å­¦ä¹ ã€‚ä»è¿™é‡Œå¼€å§‹:<a class="ae ln" href="https://aigents.co/learn/roadmaps/intro" rel="noopener ugc nofollow" target="_blank">https://aigents.co/learn/roadmaps/intro</a></li><li id="5ec4" class="mh mi it js b jt ms jx mt kb mu kf mv kj mw kn nz mp mq mr bi translated">æ•°æ®ç§‘å­¦å­¦ä¹ èµ„æºæœç´¢å¼•æ“(å…è´¹)ã€‚å°†ä½ æœ€å–œæ¬¢çš„èµ„æºåŠ å…¥ä¹¦ç­¾ï¼Œå°†æ–‡ç« æ ‡è®°ä¸ºå®Œæ•´ï¼Œå¹¶æ·»åŠ å­¦ä¹ ç¬”è®°ã€‚<a class="ae ln" href="https://aigents.co/learn" rel="noopener ugc nofollow" target="_blank">https://aigents.co/learn</a></li><li id="d26e" class="mh mi it js b jt ms jx mt kb mu kf mv kj mw kn nz mp mq mr bi translated">æƒ³è¦åœ¨å¯¼å¸ˆå’Œå­¦ä¹ ç¤¾åŒºçš„æ”¯æŒä¸‹ä»å¤´å¼€å§‹å­¦ä¹ æ•°æ®ç§‘å­¦å—ï¼Ÿå…è´¹åŠ å…¥è¿™ä¸ªå­¦ä¹ åœˆ:ã€https://community.aigents.co/spaces/9010170/ã€‘T2</li></ul></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><p id="c01f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">å¦‚æœä½ æƒ³åœ¨æ•°æ®ç§‘å­¦&amp;äººå·¥æ™ºèƒ½é¢†åŸŸå¼€å§‹èŒä¸šç”Ÿæ¶¯ï¼Œä½†ä¸çŸ¥é“å¦‚ä½•å¼€å§‹ã€‚æˆ‘æä¾›æ•°æ®ç§‘å­¦æŒ‡å¯¼è¯¾ç¨‹å’Œé•¿æœŸèŒä¸šæŒ‡å¯¼:</strong></p><ul class=""><li id="922f" class="mh mi it js b jt ju jx jy kb nw kf nx kj ny kn nz mp mq mr bi translated">é•¿æœŸå¸ˆå¾’:<a class="ae ln" href="https://lnkd.in/dtdUYBrM" rel="noopener ugc nofollow" target="_blank">https://lnkd.in/dtdUYBrM</a></li><li id="c794" class="mh mi it js b jt ms jx mt kb mu kf mv kj mw kn nz mp mq mr bi translated">è¾…å¯¼è¯¾ç¨‹:<a class="ae ln" href="https://lnkd.in/dXeg3KPW" rel="noopener ugc nofollow" target="_blank">https://lnkd.in/dXeg3KPW</a></li></ul><p id="d774" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="oa">åŠ å…¥</em> </strong> <a class="ae ln" href="https://youssefraafat57.medium.com/membership" rel="noopener"> <strong class="js iu"> <em class="oa">ä¸­ç­‰ä¼šå‘˜</em> </strong> </a> <strong class="js iu"> <em class="oa">è®¡åˆ’ç»§ç»­æ— é™åˆ¶å­¦ä¹ ã€‚å¦‚æœä½ ä½¿ç”¨ä¸‹é¢çš„é“¾æ¥ï¼Œæˆ‘ä¼šæ”¶åˆ°ä¸€å°éƒ¨åˆ†ä¼šå‘˜è´¹ï¼Œä¸éœ€è¦ä½ é¢å¤–ä»˜è´¹ã€‚</em> </strong></p><div class="mx my gp gr mz na"><a href="https://youssefraafat57.medium.com/membership" rel="noopener follow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd iu gy z fp nf fr fs ng fu fw is bi translated">åŠ å…¥æˆ‘çš„ä»‹ç»é“¾æ¥åª’ä½“-ä¼˜ç´ ç¦èƒ¡æ–¯å°¼</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">é˜…è¯»Youssef Hosni(ä»¥åŠåª’ä½“ä¸Šæˆåƒä¸Šä¸‡çš„å…¶ä»–ä½œå®¶)çš„æ¯ä¸€ä¸ªæ•…äº‹ã€‚æ‚¨çš„ä¼šå‘˜è´¹ç›´æ¥æ”¯æŒâ€¦</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">youssefraafat57.medium.com</p></div></div><div class="nj l"><div class="ob l nl nm nn nj no lh na"/></div></div></a></div></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><h1 id="de53" class="oc lp it bd lq od oe of lt og oh oi lw oj ok ol lz om on oo mc op oq or mf os bi translated">1.ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦é«˜æ•ˆçš„ç¼–ç ï¼Ÿ</h1><p id="8f86" class="pw-post-body-paragraph jq jr it js b jt mj jv jw jx mk jz ka kb ot kd ke kf ou kh ki kj ov kl km kn im bi translated">é«˜æ•ˆä»£ç æ˜¯æŒ‡æ‰§è¡Œé€Ÿåº¦æ›´å¿«ã€è®¡ç®—å†…å­˜æ›´å°‘çš„ä»£ç ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<strong class="js iu"> time() </strong>å‡½æ•°æ¥æµ‹é‡è®¡ç®—æ—¶é—´ã€‚è¿™ä¸ªå‡½æ•°æµ‹é‡å½“å‰æ—¶é—´ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†åœ¨ä»£ç æ‰§è¡Œå‰å’Œæ‰§è¡ŒåæŠŠå®ƒèµ‹ç»™ä¸€ä¸ªå˜é‡ï¼Œç„¶åè®¡ç®—å·®å€¼ï¼Œå°±çŸ¥é“ä»£ç çš„è®¡ç®—æ—¶é—´ã€‚ä¸‹é¢çš„ä»£ç æ˜¾ç¤ºäº†ä¸€ä¸ªç®€å•çš„ä¾‹å­:</p><pre class="ky kz la lb gt ow ox oy bn oz pa bi"><span id="6710" class="pb lp it ox b be pc pd l pe pf">import time<br/># record time before execution<br/>start_time = time.time()<br/># execute operation<br/>result = 5 + 2<br/># record time after execution<br/>end_time = time.time()<br/>print("Result calculated in {} sec".format(end_time - start_time))</span></pre><p id="12df" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">è®©æˆ‘ä»¬çœ‹ä¸€äº›åº”ç”¨é«˜æ•ˆä»£ç æ–¹æ³•å°†å¦‚ä½•æé«˜ä»£ç è¿è¡Œæ—¶é—´å’Œé™ä½è®¡ç®—æ—¶é—´å¤æ‚æ€§çš„ä¾‹å­:æˆ‘ä»¬å°†è®¡ç®—ä»é›¶åˆ°ä¸€ç™¾ä¸‡çš„æ¯ä¸ªæ•°å­—çš„å¹³æ–¹ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å°†ä½¿ç”¨list comprehensionæ¥æ‰§è¡Œè¿™ä¸ªæ“ä½œï¼Œç„¶åä½¿ç”¨forå¾ªç¯é‡å¤ç›¸åŒçš„è¿‡ç¨‹ã€‚</p><p id="5aaf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ç¬¬ä¸€æ¬¡ä½¿ç”¨åˆ—è¡¨ç†è§£:</p><pre class="ky kz la lb gt ow ox oy bn oz pa bi"><span id="29d5" class="pb lp it ox b be pc pd l pe pf">#using List comprehension <br/><br/>list_comp_start_time = time.time()<br/>result = [i*i for i in range(0,1000000)]<br/>list_comp_end_time = time.time()<br/>print("Time using the list_comprehension: {} sec".format(list_comp_end_time -<br/>list_comp_start_time))</span></pre><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi pg"><img src="../Images/9ab80eec9ee70a737a29a69ac4598366.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/0*GPg-J9H2qz_TZbXP.png"/></div></figure><p id="6d8b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ç°åœ¨æˆ‘ä»¬å°†ä½¿ç”¨forå¾ªç¯æ¥æ‰§è¡Œç›¸åŒçš„æ“ä½œ:</p><pre class="ky kz la lb gt ow ox oy bn oz pa bi"><span id="1b42" class="pb lp it ox b be pc pd l pe pf"># Using For loop<br/><br/>for_loop_start_time= time.time()<br/>result=[]<br/>for i in range(0,1000000):<br/>  result.append(i*i)<br/>for_loop_end_time= time.time()<br/>print("Time using the for loop: {} sec".format(for_loop_end_time - for_loop_start_time))</span></pre><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi ph"><img src="../Images/407ccd9e7bbc3b048164ef3a4be1cf72.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/format:webp/0*vnv9AQ4zNfE4nnnP.png"/></div></figure><p id="d222" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒä»¬ä¹‹é—´æœ‰å¾ˆå¤§çš„å·®å¼‚ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ç™¾åˆ†æ¯”æ¥è®¡ç®—å®ƒä»¬ä¹‹é—´çš„å·®å¼‚:</p><pre class="ky kz la lb gt ow ox oy bn oz pa bi"><span id="1479" class="pb lp it ox b be pc pd l pe pf">list_comp_time = list_comp_end_time - list_comp_start_time<br/>for_loop_time = for_loop_end_time - for_loop_start_time<br/>print("Difference in time: {} %".format((for_loop_time - list_comp_time)/<br/>list_comp_time*100))</span></pre><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/6154590862e9ab639509b7495608d8b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:730/format:webp/0*JksMrLUJc_ybNYJZ.png"/></div></figure><p id="784e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">è¿™é‡Œæœ‰å¦ä¸€ä¸ªä¾‹å­æ¥å±•ç¤ºç¼–å†™é«˜æ•ˆä»£ç çš„æ•ˆæœã€‚æˆ‘ä»¬æƒ³è®¡ç®—ä»1åˆ°100ä¸‡çš„æ‰€æœ‰è¿ç»­æ•°å­—çš„æ€»å’Œã€‚æœ‰ä¸¤ç§æ–¹æ³•ç¬¬ä¸€ç§æ˜¯ä½¿ç”¨è›®åŠ›ï¼Œæˆ‘ä»¬å°†ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°å¢åŠ åˆ°ä¸€ç™¾ä¸‡ã€‚</p><pre class="ky kz la lb gt ow ox oy bn oz pa bi"><span id="4737" class="pb lp it ox b be pc pd l pe pf">def sum_brute_force(N):<br/>  res = 0<br/>  for i in range(1,N+1):<br/>    res+=i<br/>  return res<br/><br/># Using brute force<br/>bf_start_time = time.time()<br/>bf_result = sum_brute_force(1000000)<br/>bf_end_time = time.time()<br/><br/>print("Time using brute force: {} sec".format(bf_end_time - bf_start_time))</span></pre><p id="3e7e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å¦ä¸€ä¸ªæ›´æœ‰æ•ˆçš„æ–¹æ³•æ˜¯ç”¨å…¬å¼æ¥è®¡ç®—ã€‚å½“æˆ‘ä»¬æƒ³è®¡ç®—ä»1åˆ°ä¸€ä¸ªæ•°çš„æ‰€æœ‰æ•´æ•°çš„å’Œæ—¶ï¼Œæ¯”å¦‚è¯´Nï¼Œæˆ‘ä»¬å¯ä»¥æŠŠNä¹˜ä»¥N+1ï¼Œç„¶åé™¤ä»¥2ï¼Œè¿™æ ·å°±ä¼šå¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚è¿™ä¸ªé—®é¢˜å®é™…ä¸Šåœ¨19ä¸–çºªå°±äº¤ç»™äº†å¾·å›½çš„ä¸€äº›å­¦ç”Ÿï¼Œä¸€ä¸ªåå«å¡å°”-å¼—é‡Œå¾·é‡Œå¸ŒÂ·é«˜æ–¯çš„èªæ˜å­¦ç”Ÿè®¾è®¡äº†è¿™ä¸ªå…¬å¼æ¥åœ¨å‡ ç§’é’Ÿå†…è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><pre class="ky kz la lb gt ow ox oy bn oz pa bi"><span id="a7f9" class="pb lp it ox b be pc pd l pe pf">def sum_formula(N):<br/>  return N*(N+1)/2<br/>  <br/># Using the formula<br/>formula_start_time = time.time()<br/>formula_result = sum_formula(1000000)<br/>formula_end_time = time.time()<br/><br/>print("Time using the formula: {} sec".format(formula_end_time - formula_start_time))</span></pre><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi pj"><img src="../Images/f48563bdd836401dde86b9fd5befbb9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/0*C_gpP0KZX8djtL8G.png"/></div></figure><p id="fa02" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">è¿è¡Œè¿™ä¸¤ç§æ–¹æ³•åï¼Œæˆ‘ä»¬å®ç°äº†è¶…è¿‡160ï¼Œ000%çš„å·¨å¤§æ”¹è¿›ï¼Œè¿™æ¸…æ¥šåœ°è¡¨æ˜äº†ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦é«˜æ•ˆå’Œä¼˜åŒ–çš„ä»£ç ï¼Œå³ä½¿å¯¹äºç®€å•çš„ä»»åŠ¡ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><h1 id="a9e6" class="oc lp it bd lq od oe of lt og oh oi lw oj ok ol lz om on oo mc op oq or mf os bi translated">2.ä¸ä¸€èµ·ä½¿ç”¨çš„å¸¸ç”¨å‡½æ•°ã€‚groupby()</h1><p id="8429" class="pw-post-body-paragraph jq jr it js b jt mj jv jw jx mk jz ka kb ot kd ke kf ou kh ki kj ov kl km kn im bi translated">åº”ç”¨äºèšåˆç»„çš„æœ€ç®€å•æ–¹æ³•ä¹‹ä¸€æ˜¯<strong class="js iu">ã€‚è®¡æ•°()ã€‚</strong>åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†æŠŠå®ƒåº”ç”¨äºé¤é¦†æ•°æ®é›†ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬æ ¹æ®é¡¾å®¢æ˜¯å¦å¸çƒŸå¯¹é¤é¦†æ•°æ®è¿›è¡Œåˆ†ç»„ã€‚ç„¶åï¼Œæˆ‘ä»¬åº”ç”¨<strong class="js iu">ã€‚</strong>è®¡æ•°()æ–¹æ³•ã€‚æˆ‘ä»¬è·å¾—äº†å¸çƒŸè€…å’Œä¸å¸çƒŸè€…çš„äººæ•°ã€‚</p><pre class="ky kz la lb gt ow ox oy bn oz pa bi"><span id="a871" class="pb lp it ox b be pc pd l pe pf">restaurant = pd.read_csv('restaurant_data.csv')<br/><br/>restaurant_grouped = restaurant.groupby('smoker')<br/>print(restaurant_grouped.count())</span></pre><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi pk"><img src="../Images/b8487460c17d456e09889238ceb87905.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/0*io4FN_swTTSJ9PRH.png"/></div></figure><p id="43c8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ¯«ä¸å¥‡æ€ªï¼Œæˆ‘ä»¬å¾—åˆ°çš„æ‰€æœ‰ç‰¹å¾çš„ç»“æœéƒ½ä¸<strong class="js iu">ç›¸åŒã€‚count() </strong>æ–¹æ³•ç»Ÿè®¡æ¯ç»„åœ¨æ¯ä¸ªç‰¹å¾ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚å› ä¸ºæˆ‘ä»¬çš„æ•°æ®ä¸­æ²¡æœ‰ç¼ºå¤±å€¼ï¼Œæ‰€ä»¥æ‰€æœ‰åˆ—ä¸­çš„ç»“æœåº”è¯¥æ˜¯ç›¸åŒçš„ã€‚</p><p id="f946" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ ¹æ®ç‰¹å®šç‰¹æ€§çš„å€¼å¯¹æ•°æ®å¸§çš„æ¡ç›®è¿›è¡Œåˆ†ç»„åï¼Œæˆ‘ä»¬å¯ä»¥åº”ç”¨æˆ‘ä»¬æ„Ÿå…´è¶£çš„ä»»ä½•ç±»å‹çš„<strong class="js iu">è½¬æ¢</strong>ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬å°†åº”ç”¨zå¾—åˆ†ï¼Œè¿™æ˜¯ä¸€ç§å½’ä¸€åŒ–å˜æ¢ï¼Œå³æ¯ä¸ªå€¼ä¸å¹³å‡å€¼ä¹‹é—´çš„è·ç¦»é™¤ä»¥æ ‡å‡†å·®ã€‚è¿™æ˜¯ç»Ÿè®¡å­¦ä¸­éå¸¸æœ‰ç”¨çš„å˜æ¢ï¼Œé€šå¸¸åœ¨æ ‡å‡†åŒ–æµ‹è¯•ä¸­ä¸zæµ‹è¯•ä¸€èµ·ä½¿ç”¨ã€‚è¦å°†è¿™ç§è½¬æ¢åº”ç”¨äºåˆ†ç»„å¯¹è±¡ï¼Œæˆ‘ä»¬åªéœ€è°ƒç”¨ã€‚transform()æ–¹æ³•åŒ…å«æˆ‘ä»¬å®šä¹‰çš„lambdaè½¬æ¢ã€‚</p><p id="1e4f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">è¿™æ¬¡ï¼Œæˆ‘ä»¬å°†æ ¹æ®<strong class="js iu">é¤</strong>çš„ç±»å‹åˆ†ç»„:æ˜¯æ™šé¤è¿˜æ˜¯åˆé¤ï¼Ÿç”±äºzå¾—åˆ†è½¬æ¢æ˜¯ä¸ç»„ç›¸å…³çš„è½¬æ¢ï¼Œå› æ­¤ç”Ÿæˆçš„è¡¨åªæ˜¯åŸå§‹è¡¨ã€‚å¯¹äºæ¯ä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬å‡å»å¹³å‡å€¼ï¼Œç„¶åé™¤ä»¥å®ƒæ‰€å±ç»„çš„æ ‡å‡†åå·®ã€‚æˆ‘ä»¬è¿˜å¯ä»¥çœ‹åˆ°ï¼Œæ•°å€¼å˜æ¢åªåº”ç”¨äºæ•°æ®å¸§çš„æ•°å€¼ç‰¹å¾ã€‚</p><pre class="ky kz la lb gt ow ox oy bn oz pa bi"><span id="e512" class="pb lp it ox b be pc pd l pe pf">zscore = lambda x: (x - x.mean() ) / x.std()<br/><br/>restaurant_grouped = restaurant.groupby('time')<br/><br/>restaurant_transformed = restaurant_grouped.transform(zscore)<br/>restaurant_transformed.head()</span></pre><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi pl"><img src="../Images/6f5bbb8e0ecaf2f137eff14b56ff1574.png" data-original-src="https://miro.medium.com/v2/resize:fit:554/format:webp/0*mis7RtD_CKx8mydW.png"/></div></figure><p id="a151" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">è™½ç„¶<strong class="js iu"> transform() </strong>æ–¹æ³•å¤§å¤§ç®€åŒ–äº†äº‹æƒ…ï¼Œä½†å®ƒçœŸçš„æ¯”ä½¿ç”¨åŸç”ŸPythonä»£ç æ›´æœ‰æ•ˆå—ï¼Ÿæ­£å¦‚æˆ‘ä»¬ä¹‹å‰æ‰€åšçš„ï¼Œæˆ‘ä»¬é¦–å…ˆå¯¹æ•°æ®è¿›è¡Œåˆ†ç»„ï¼Œè¿™æ¬¡æ˜¯æ ¹æ®æ€§åˆ«è¿›è¡Œåˆ†ç»„ã€‚ç„¶åï¼Œæˆ‘ä»¬åº”ç”¨ä¹‹å‰åº”ç”¨çš„zåˆ†æ•°å˜æ¢ï¼Œæµ‹é‡å…¶æ•ˆç‡ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œçœç•¥äº†æµ‹é‡æ¯ä¸ªæ“ä½œæ—¶é—´çš„ä»£ç ï¼Œå› ä¸ºæ‚¨å¯¹æ­¤å·²ç»å¾ˆç†Ÿæ‚‰äº†ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡ä½¿ç”¨transform()å‡½æ•°ï¼Œæˆ‘ä»¬å®ç°äº†å·¨å¤§çš„é€Ÿåº¦æå‡ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬åªä½¿ç”¨ä¸€è¡Œä»£ç æ¥æ‰§è¡Œæ„Ÿå…´è¶£çš„æ“ä½œã€‚</p><pre class="ky kz la lb gt ow ox oy bn oz pa bi"><span id="c19b" class="pb lp it ox b be pc pd l pe pf">restaurant.groupby('sex').transform(zscore)<br/><br/>mean_female = restaurant.groupby('sex').mean()['total_bill']['Female']<br/>mean_male = restaurant.groupby('sex').mean()['total_bill']['Male']<br/>std_female = restaurant.groupby('sex').std()['total_bill']['Female']<br/>std_male = restaurant.groupby('sex').std()['total_bill']['Male']<br/><br/>for i in range(len(restaurant)):<br/>  if restaurant.iloc[i][2] == 'Female':<br/>    restaurant.iloc[i][0] = (restaurant.iloc[i][0] - mean_female)/std_female<br/>  else:<br/>    restaurant.iloc[i][0] = (restaurant.iloc[i][0] - mean_male)/std_male</span></pre></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><h1 id="6fa9" class="oc lp it bd lq od oe of lt og oh oi lw oj ok ol lz om on oo mc op oq or mf os bi translated">3.ç¼ºå¤±å€¼æ’è¡¥ä½¿ç”¨ã€‚groupby() &amp;ã€‚è½¬æ¢()</h1><p id="2b8b" class="pw-post-body-paragraph jq jr it js b jt mj jv jw jx mk jz ka kb ot kd ke kf ou kh ki kj ov kl km kn im bi translated">æ—¢ç„¶æˆ‘ä»¬å·²ç»çœ‹åˆ°äº†ä¸ºä»€ä¹ˆä»¥åŠå¦‚ä½•åœ¨ä¸€ä¸ªåˆ†ç»„çš„ç†ŠçŒ«å¯¹è±¡ä¸Šä½¿ç”¨<strong class="js iu"> transform() </strong>å‡½æ•°ï¼Œæˆ‘ä»¬å°†å¤„ç†ä¸€ä¸ªéå¸¸å…·ä½“çš„ä»»åŠ¡ï¼Œå³è¾“å…¥ç¼ºå¤±å€¼ã€‚</p><p id="643b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">åœ¨æˆ‘ä»¬å®é™…äº†è§£å¦‚ä½•ä½¿ç”¨<strong class="js iu">å˜æ¢()</strong>å‡½æ•°è¿›è¡Œç¼ºå¤±å€¼æ’è¡¥ä¹‹å‰ï¼Œæˆ‘ä»¬å°†äº†è§£æ¯ç»„ä¸­æˆ‘ä»¬æ„Ÿå…´è¶£çš„å˜é‡ä¸­æœ‰å¤šå°‘ç¼ºå¤±å€¼ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ä¸‹é¢çœ‹åˆ°æ¯ä¸ªâ€œ<strong class="js iu">æ—¶é—´â€</strong>ç‰¹å¾çš„æ•°æ®ç‚¹æ•°ï¼Œå®ƒä»¬æ˜¯176+68 = 244ã€‚</p><pre class="ky kz la lb gt ow ox oy bn oz pa bi"><span id="aa31" class="pb lp it ox b be pc pd l pe pf">prior_counts = restaurant.groupby('time')<br/>prior_counts['total_bill'].count()</span></pre><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi pm"><img src="../Images/47248556a0c6b84e91d72524cb79155f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1312/format:webp/0*jan48gduyxbkhF1i.png"/></div></figure><p id="7ef1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ª<strong class="js iu"> restaurant_nan </strong>æ•°æ®é›†ï¼Œå…¶ä¸­ä½¿ç”¨ä¸‹é¢çš„ä»£ç å°†10%éšæœºè§‚å¯Ÿçš„æ€»è´¦å•è®¾ç½®ä¸º<strong class="js iu"> NaN </strong>:</p><pre class="ky kz la lb gt ow ox oy bn oz pa bi"><span id="dd40" class="pb lp it ox b be pc pd l pe pf">import pandas as pd<br/>import numpy as np<br/><br/>p = 0.1 #percentage missing data required<br/><br/>mask = np.random.choice([np.nan,1], size=len(restaurant), p=[p,1-p])<br/>restaurant_nan = restaurant.copy()<br/>restaurant_nan['total_bill'] =  restaurant_nan['total_bill'] * mask</span></pre><p id="bc2a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ‰“å°æ¯ä¸ªâ€œ<strong class="js iu">æ—¶é—´â€</strong>ç‰¹å¾ä¸­çš„æ•°æ®ç‚¹æ•°ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒä»¬ç°åœ¨æ˜¯155+62 = 217ã€‚ç”±äºæˆ‘ä»¬æ‹¥æœ‰çš„æ€»æ•°æ®ç‚¹æ˜¯244ä¸ªï¼Œé‚£ä¹ˆä¸¢å¤±çš„æ•°æ®ç‚¹æ˜¯24ä¸ªï¼Œç›¸å½“äº10%ã€‚</p><pre class="ky kz la lb gt ow ox oy bn oz pa bi"><span id="a240" class="pb lp it ox b be pc pd l pe pf">prior_counts = restaurant.groupby('time')<br/>prior_counts['total_bill'].count()</span></pre><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/46aeae4141e95bb17f00cef1ede009a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/0*8k0X7MDKPenFzDVh.png"/></div></figure><p id="14b1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">åœ¨ç»Ÿè®¡äº†æ•°æ®ä¸­ç¼ºå¤±å€¼çš„æ•°é‡åï¼Œæˆ‘ä»¬å°†å±•ç¤ºå¦‚ä½•ç”¨ç‰¹å®šäºç»„çš„å‡½æ•°æ¥å¡«å……è¿™äº›ç¼ºå¤±å€¼ã€‚æœ€å¸¸è§çš„é€‰æ‹©æ˜¯å‡å€¼å’Œä¸­ä½æ•°ï¼Œé€‰æ‹©ä¸æ•°æ®çš„åæ–œåº¦æœ‰å…³ã€‚æ­£å¦‚æˆ‘ä»¬ä¹‹å‰æ‰€åšçš„ï¼Œæˆ‘ä»¬ä½¿ç”¨<strong class="js iu"> fillna </strong>()å‡½æ•°å®šä¹‰äº†ä¸€ä¸ª<strong class="js iu"> lambda </strong>è½¬æ¢ï¼Œç”¨å®ƒçš„ç»„å¹³å‡å€¼æ›¿æ¢æ¯ä¸ªç¼ºå¤±å€¼ã€‚å’Œä»¥å‰ä¸€æ ·ï¼Œæˆ‘ä»¬æ ¹æ®ç”¨é¤æ—¶é—´å¯¹æ•°æ®è¿›è¡Œåˆ†ç»„ï¼Œç„¶åé€šè¿‡åº”ç”¨é¢„å®šä¹‰çš„è½¬æ¢æ¥æ›¿æ¢ç¼ºå¤±çš„å€¼ã€‚</p><pre class="ky kz la lb gt ow ox oy bn oz pa bi"><span id="ae1c" class="pb lp it ox b be pc pd l pe pf"># Missing value imputation<br/><br/>missing_trans = lambda x: x.fillna(x.mean())<br/>restaurant_nan_grouped = restaurant_nan.groupby('time')['total_bill']<br/>restaurant_nan_grouped.transform(missing_trans)</span></pre><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi po"><img src="../Images/6d3890723b31caee382d0912caa26d88.png" data-original-src="https://miro.medium.com/v2/resize:fit:850/format:webp/0*E2kuLZfcEYYB_LEz.png"/></div></figure><p id="812f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ­£å¦‚æˆ‘ä»¬æ‰€çœ‹åˆ°çš„ï¼Œç´¢å¼•0å’Œç´¢å¼•4å¤„çš„è§‚å¯Ÿå€¼å®Œå…¨ç›¸åŒï¼Œè¿™æ„å‘³ç€å®ƒä»¬çš„ç¼ºå¤±å€¼å·²è¢«å®ƒä»¬ç»„çš„å‡å€¼æ‰€å–ä»£ã€‚</p><p id="c706" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä½¿ç”¨è¿™ç§æ–¹æ³•çš„è®¡ç®—æ—¶é—´æ˜¯0.007ç§’ã€‚</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/69b0d5ac89aa3d6985f3148ef9654671.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/0*ibkz5UIlPDV1x0aF.png"/></div></figure><p id="9e32" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">è®©æˆ‘ä»¬å°†å…¶ä¸ä¼ ç»Ÿæ–¹æ³•è¿›è¡Œæ¯”è¾ƒ:</p><pre class="ky kz la lb gt ow ox oy bn oz pa bi"><span id="de28" class="pb lp it ox b be pc pd l pe pf">start_time = time.time()<br/>mean_din = restaurant_nan.loc[restaurant_nan.time =='Dinner']['total_bill'].mean()<br/>mean_lun = restaurant_nan.loc[restaurant_nan.time == 'Lunch']['total_bill'].mean()<br/><br/>for row in range(len(restaurant_nan)):<br/>  if restaurant_nan.iloc[row]['time'] == 'Dinner':<br/>    restaurant_nan.loc[row, 'total_time'] = mean_din<br/>  else:<br/>    restaurant_nan.loc[row, 'total_time'] = mean_lun<br/>print("Results from the above operation calculated in %s seconds" % (time.time() - start_time))</span></pre><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi pm"><img src="../Images/45b9135b818cc2fa81757d83aa910516.png" data-original-src="https://miro.medium.com/v2/resize:fit:1312/format:webp/0*oiIT5Arlfq4Ok8Np.png"/></div></figure><p id="7406" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä½¿ç”¨<strong class="js iu">ã€‚transform() </strong>åº”ç”¨äºåˆ†ç»„å¯¹è±¡çš„å‡½æ•°æ¯”æ‰§è¡Œæ­¤ä»»åŠ¡çš„åŸç”ŸPythonä»£ç æ‰§è¡Œé€Ÿåº¦æ›´å¿«ã€‚</p></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><h1 id="fb76" class="oc lp it bd lq od oe of lt og oh oi lw oj ok ol lz om on oo mc op oq or mf os bi translated">4.ä½¿ç”¨è¿›è¡Œæ•°æ®è¿‡æ»¤ã€‚groupby() &amp;ã€‚è¿‡æ»¤å™¨()</h1><p id="0e87" class="pw-post-body-paragraph jq jr it js b jt mj jv jw jx mk jz ka kb ot kd ke kf ou kh ki kj ov kl km kn im bi translated">ç°åœ¨æˆ‘ä»¬å°†è®¨è®ºå¦‚ä½•ä½¿ç”¨ï¼Ÿ<strong class="js iu"> filter() </strong>å¯¹åˆ†ç»„çš„ç†ŠçŒ«å¯¹è±¡æ‰§è¡ŒåŠŸèƒ½ã€‚è¿™å…è®¸æˆ‘ä»¬æ ¹æ®ä¸€äº›ç‰¹å®šçš„æ¡ä»¶ï¼ŒåªåŒ…æ‹¬è¿™äº›ç»„çš„ä¸€ä¸ªå­é›†ã€‚</p><p id="7f73" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">é€šå¸¸ï¼Œåœ¨æ ¹æ®ç‰¹å®šç‰¹å¾å¯¹æ•°æ®å¸§çš„æ¡ç›®è¿›è¡Œåˆ†ç»„ä¹‹åï¼Œæˆ‘ä»¬æ„Ÿå…´è¶£çš„æ˜¯åŸºäºæŸäº›æ¡ä»¶åªåŒ…æ‹¬é‚£äº›ç»„çš„å­é›†ã€‚è¿‡æ»¤æ¡ä»¶çš„ä¸€äº›ç¤ºä¾‹åŒ…æ‹¬ç¼ºå¤±å€¼çš„æ•°é‡ã€ç‰¹å®šè¦ç´ çš„å¹³å‡å€¼æˆ–ç»„åœ¨æ•°æ®é›†ä¸­çš„å‡ºç°æ¬¡æ•°ã€‚</p><p id="91a7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æˆ‘ä»¬æ„Ÿå…´è¶£çš„æ˜¯åœ¨æ”¯ä»˜ç»™æœåŠ¡å‘˜çš„å¹³å‡é‡‘é¢è¶…è¿‡20ç¾å…ƒçš„æ—¥å­é‡Œï¼Œæ‰¾åˆ°ç»™å°è´¹çš„å¹³å‡é‡‘é¢ã€‚<strong class="js iu">ã€‚filter() </strong>å‡½æ•°æ¥å—å¯¹æ¯ä¸ªç»„çš„æ•°æ®å¸§è¿›è¡Œæ“ä½œçš„<strong class="js iu">Î»</strong>å‡½æ•°ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œlambdaå‡½æ•°é€‰æ‹©â€œtotal_billâ€å¹¶æ£€æŸ¥<strong class="js iu"> mean() </strong>æ˜¯å¦å¤§äº20ã€‚å¦‚æœlambdaå‡½æ•°è¿”å›çœŸï¼Œåˆ™è®¡ç®—å°è´¹<strong class="js iu">å¹³å‡å€¼()</strong>ã€‚å¦‚æœæˆ‘ä»¬æ¯”è¾ƒæç¤ºçš„æ€»å¹³å‡å€¼ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªå€¼ä¹‹é—´å­˜åœ¨å·®å¼‚ï¼Œè¿™æ„å‘³ç€è¿‡æ»¤æ­£ç¡®æ‰§è¡Œã€‚</p><pre class="ky kz la lb gt ow ox oy bn oz pa bi"><span id="df2c" class="pb lp it ox b be pc pd l pe pf">restaurant_grouped = restaurant.groupby('day')<br/>filter_trans = lambda x : x['total_bill'].mean() &gt; 20<br/>restaurant_filtered = restaurant_grouped.filter(filter_trans)</span></pre><pre class="pq ow ox oy bn oz pa bi"><span id="068c" class="pb lp it ox b be pc pd l pe pf">print(restaurant_filtered['tip'].mean())</span></pre><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi pr"><img src="../Images/2c20eb26a7e53d7d78e470044b4429c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:866/format:webp/0*VLAxtEELcSdvwxrv.png"/></div></figure><pre class="ky kz la lb gt ow ox oy bn oz pa bi"><span id="c797" class="pb lp it ox b be pc pd l pe pf">print(restaurant['tip'].mean())</span></pre><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi ps"><img src="../Images/b66a71ba8b26d798edcc24fd9fb54dc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/0*o9mkY2tVKKlNZE5T.png"/></div></figure><p id="822e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å¦‚æœæˆ‘ä»¬è¯•å›¾åœ¨ä¸ä½¿ç”¨<strong class="js iu"> groupby() </strong>çš„æƒ…å†µä¸‹æ‰§è¡Œè¿™ä¸ªæ“ä½œï¼Œæˆ‘ä»¬æœ€ç»ˆä¼šå¾—åˆ°è¿™ä¸ªä½æ•ˆçš„ä»£ç ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨list comprehensionæ¥æå–æ•°æ®å¸§ä¸­æ¶‰åŠå¹³å‡è†³é£Ÿè¶…è¿‡20ç¾å…ƒçš„æ—¥æœŸçš„æ¡ç›®ï¼Œç„¶åä½¿ç”¨forå¾ªç¯å°†å®ƒä»¬æ·»åŠ åˆ°ä¸€ä¸ªåˆ—è¡¨ä¸­å¹¶è®¡ç®—å¹³å‡å€¼ã€‚è¿™å¯èƒ½çœ‹èµ·æ¥éå¸¸ç›´è§‚ï¼Œä½†æ­£å¦‚æˆ‘ä»¬æ‰€è§ï¼Œè¿™ä¹Ÿæ˜¯éå¸¸ä½æ•ˆçš„ã€‚</p><pre class="ky kz la lb gt ow ox oy bn oz pa bi"><span id="5b38" class="pb lp it ox b be pc pd l pe pf">t=[restaurant.loc[restaurant['day'] == i]['tip'] for i in restaurant['day'].unique()<br/>  if restaurant.loc[restaurant['day'] == i]['total_bill'].mean()&gt;20]<br/>restaurant_filtered = t[0]<br/><br/>for j in t[1:]:<br/>  restaurant_filtered=restaurant_filtered.append(j,ignore_index=True)</span></pre></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><h1 id="071b" class="oc lp it bd lq od oe of lt og oh oi lw oj ok ol lz om on oo mc op oq or mf os bi translated">å‚è€ƒ</h1><p id="af6b" class="pw-post-body-paragraph jq jr it js b jt mj jv jw jx mk jz ka kb ot kd ke kf ou kh ki kj ov kl km kn im bi translated"><a class="ae ln" href="https://app.datacamp.com/learn/courses/writing-efficient-code-with-pandas" rel="noopener ugc nofollow" target="_blank">ç”¨pandasç¼–å†™é«˜æ•ˆä»£ç æ•™ç¨‹ï¼Œç¬¬4ç« </a></p></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><p id="71f5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="oa">æ„Ÿè°¢é˜…è¯»ï¼å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·åŠ¡å¿…:</em> </strong></p><ul class=""><li id="987c" class="mh mi it js b jt ju jx jy kb nw kf nx kj ny kn nz mp mq mr bi translated"><strong class="js iu">ğŸ‘ä¸ºè¿™ä¸ªæ•…äº‹é¼“æŒ(50æ¬¡)å¹¶è·Ÿæˆ‘æ¥ğŸ‘‰</strong></li><li id="37e3" class="mh mi it js b jt ms jx mt kb mu kf mv kj mw kn nz mp mq mr bi translated"><strong class="js iu">ğŸ“°æŸ¥çœ‹æˆ‘çš„åª’ä½“æ¡£æ¡ˆä¸­çš„æ›´å¤šå†…å®¹</strong></li><li id="1ce8" class="mh mi it js b jt ms jx mt kb mu kf mv kj mw kn nz mp mq mr bi translated"><strong class="js iu">ğŸ””å…³æ³¨æˆ‘:</strong><a class="ae ln" href="https://www.linkedin.com/in/youssef-hosni-b2960b135/" rel="noopener ugc nofollow" target="_blank"><strong class="js iu">LinkedIn</strong></a><strong class="js iu">|</strong><a class="ae ln" href="https://medium.com/@youssefraafat57" rel="noopener"><strong class="js iu">Medium</strong></a><strong class="js iu">|</strong><a class="ae ln" href="https://twitter.com/Youssef70125494" rel="noopener ugc nofollow" target="_blank"><strong class="js iu">Twitter</strong></a><strong class="js iu">|</strong><a class="ae ln" href="https://github.com/youssefHosni" rel="noopener ugc nofollow" target="_blank"><strong class="js iu">GitHub</strong></a></li><li id="912c" class="mh mi it js b jt ms jx mt kb mu kf mv kj mw kn nz mp mq mr bi translated"><em class="oa">ğŸš€ğŸ‘‰</em> <strong class="js iu"> <em class="oa">åŠ å…¥</em> </strong> <a class="ae ln" href="https://youssefraafat57.medium.com/membership" rel="noopener"> <strong class="js iu"> <em class="oa">ä¸­ç­‰ä¼šå‘˜</em> </strong> </a> <strong class="js iu"> <em class="oa">è®¡åˆ’ç»§ç»­æ— é™åˆ¶å­¦ä¹ ã€‚å¦‚æœä½ ä½¿ç”¨ä¸‹é¢çš„é“¾æ¥ï¼Œæˆ‘ä¼šæ”¶åˆ°ä¸€å°éƒ¨åˆ†ä¼šå‘˜è´¹ï¼Œä¸éœ€è¦ä½ é¢å¤–ä»˜è´¹ã€‚</em>T59ã€‘</strong></li></ul><div class="mx my gp gr mz na"><a href="https://youssefraafat57.medium.com/membership" rel="noopener follow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd iu gy z fp nf fr fs ng fu fw is bi translated">åŠ å…¥æˆ‘çš„ä»‹ç»é“¾æ¥åª’ä½“-ä¼˜ç´ ç¦èƒ¡æ–¯å°¼</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">é˜…è¯»Youssef Hosni(ä»¥åŠåª’ä½“ä¸Šæˆåƒä¸Šä¸‡çš„å…¶ä»–ä½œå®¶)çš„æ¯ä¸€ä¸ªæ•…äº‹ã€‚æ‚¨çš„ä¼šå‘˜è´¹ç›´æ¥æ”¯æŒâ€¦</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">youssefraafat57.medium.com</p></div></div><div class="nj l"><div class="ob l nl nm nn nj no lh na"/></div></div></a></div></div></div>    
</body>
</html>