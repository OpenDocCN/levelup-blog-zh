<html>
<head>
<title>Master backend engineering</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">主后端工程</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/master-backend-engineering-2b92904ea8ca?source=collection_archive---------10-----------------------#2022-12-12">https://levelup.gitconnected.com/master-backend-engineering-2b92904ea8ca?source=collection_archive---------10-----------------------#2022-12-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="094a" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">权威指南</h2><div class=""/><div class=""><h2 id="44e5" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">构建后端系统的基本概念</h2></div><p id="ac88" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在设计、构建和扩展支持几个旗舰产品的后端系统的漫长旅程中，我从失败中吸取了教训，有时我会想，如果有人告诉我一个值得掌握的概念会怎么样？</p><p id="e106" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在这里，我为一个刚刚开始职业生涯的人写一篇关于概念的非常小的一瞥,通过了解基本原理会有很大的收获。在高层次上了解这些概念是万能的，但只会得到一个，然而了解每个概念的基本原理有助于做出明智的决定和每个概念所涉及的成本。</p><p id="bc5a" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">掌握这些是一步一个脚印的努力，它涉及到许多实验，没有一本书/课程可以教授所有的知识，但我会在最后留下一些链接供额外阅读</p><h1 id="0d1a" class="ln lo it bd lp lq lr ls lt lu lv lw lx ki ly kj lz kl ma km mb ko mc kp md me bi translated"><strong class="ak">通信协议</strong></h1><p id="bd26" class="pw-post-body-paragraph kr ks it kt b ku mf kd kw kx mg kg kz la mh lc ld le mi lg lh li mj lk ll lm im bi translated">通信协议允许通信系统的两个或多个实体通过任何种类的物理量变化来传输信息。该协议定义了规则、语法、语义、通信同步以及可能的错误恢复方法。</p><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi mk"><img src="../Images/5617f1012effc24de7cf449b0bc373cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mdtKCXx1s1nN3BPUPyLA7Q.png"/></div></div></figure><p id="a3c6" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">如果我们看看OSI模型中的传输层，它是“网络”层。这里主要使用的协议是TCP和UDP</p><p id="5637" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kt jd"> TCP: </strong>这是一种传输协议，用在IP之上，确保数据包的可靠传输。TCP包括解决基于分组的消息传递所产生的问题的机制，例如丢失的分组、乱序的分组、重复的分组和损坏的分组。因为TCP是IP之上最常用的协议，所以有时也称为TCP/IP。</p><p id="4a94" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">UDP: 用户数据报协议(UDP)是一种轻量级的数据传输协议，工作在IP之上。UDP提供了一种机制来检测数据包中的损坏数据，但它并不试图解决数据包中出现的其他问题，如数据包丢失或失序。</p><p id="39c8" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">虽然UDP与IP上的其他协议相比简单而快速。它通常用于对时间敏感的应用(如实时视频流)，在这些应用中，速度比准确性更重要。这就是为什么理解这两种协议之间的差异有助于做出正确的选择。这不是关于哪个更好，而是关于你正在构建的应用程序需要什么。</p><p id="4cc0" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">后来将OSI模型应用到应用程序中，有几种主要使用的协议，其中HTTP协议是流行的，它建立在TCP之上，因为我们需要可靠地发送请求和响应。随着web的发展，web和后端层之间的资源调用变得越来越昂贵，一个连接不足以同时发送多个请求。因此，浏览器开始建立越来越多的连接，并且为每个请求建立连接的成本很高，因此，它导致了为流引入HTTP/2，以便可以在同一连接上发送多个请求。后来，HTTP/2不得不用HTTP/3重写在UDP之上，以解决TCP的行首问题。</p><p id="b473" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">如果您更想了解为什么会有HTTP/3，并了解它的过去、现在和未来，我推荐一篇来自Cloudflare的非常好的文章</p><p id="70cc" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在构建API时，知道使用任何协议都是有代价的，这一点非常重要，它肯定有助于做出明智的决定。例如，如果应用程序需要实时双向通信(聊天服务器、在线多人游戏)，那么像WebSockets这样的协议比其他协议更受欢迎。</p><p id="8e0c" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">最后，对于后端工程师来说，学习通信协议是很重要的，任何协议都值得深入学习。</p><h1 id="0a1b" class="ln lo it bd lp lq lr ls lt lu lv lw lx ki ly kj lz kl ma km mb ko mc kp md me bi translated"><strong class="ak">数据库</strong></h1><p id="c7ef" class="pw-post-body-paragraph kr ks it kt b ku mf kd kw kx mg kg kz la mh lc ld le mi lg lh li mj lk ll lm im bi translated">这是另一个基本主题，正确的数据建模和选择合适的存储需要很长时间。数据库的核心概念是以持久的方式一致地存储和检索数据。深入研究的第一个重要步骤是理解每个数据库属性是什么。主要有四种性质，简称为酸性质。一个<strong class="kt jd">紧凑、一致、孤立和持久。</strong></p><p id="adc9" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">有几种类型的数据库，从了解关系数据库和NoSQL数据库开始会有所帮助。了解每个数据库提供什么以及您的应用程序需要什么来选择合适的存储是非常重要的。例如，关系数据库是完全ACID的，需要模式，而MongoDB是作为基于文档的数据库构建的，具有基本的原子性(文档级)，没有模式。Redis有一个高性能的缓存，默认牺牲耐久性。</p><p id="225c" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">数据库中接下来要学习的是如何使用<strong class="kt jd">索引</strong>，以及如何在表格、文档或图形中组织数据。了解如何实现最佳I/O读取。无论一个人在数据库中学到了多少，总会有新的东西，因为这是一个巨大的概念，因此在学习这个主题时，要一步一步来。</p><h1 id="ae01" class="ln lo it bd lp lq lr ls lt lu lv lw lx ki ly kj lz kl ma km mb ko mc kp md me bi translated"><strong class="ak">网络服务器</strong></h1><p id="b0cf" class="pw-post-body-paragraph kr ks it kt b ku mf kd kw kx mg kg kz la mh lc ld le mi lg lh li mj lk ll lm im bi translated">Web服务器非常重要，因为大多数构建的应用程序都是通过HTTP中继，经由web服务器向公共/私人受众公开的。静态和动态内容都是通过HTTP协议提供的。根据您选择的编程语言，有数百种web服务器，例如python的Express或Django，Java的Apache tomcat。</p><p id="fcca" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">大多数Web服务器都支持HTTP/1.1和HTTP/2。HTTP/3协议。用正确的协议配置web服务器同样取决于它要服务的应用程序的类型例如，如果用例期望来自同一个客户机的多个并发请求或者来自许多客户机的较少请求？基于这一点，要么是多路复用HTTP/2，要么是简单的HTTP/1.1。</p><p id="8a09" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">接下来是网络服务器的内部机制，比如单线程和多线程。知道哪一个使用when是很好的，因为当应用程序需要一次处理多个请求时，拥有多个线程或进程将有助于应用程序，但是这并不意味着两个请求将被更快地处理。拥有一个进程或线程池对web服务器的性能非常有帮助，但是在大多数情况下这并不明显，除非CPU有多个内核。</p><p id="3f43" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">此外，web服务器可以是CDN类型的，其作用类似于缓存，并与原始后端web服务器通信以获取内容。API网关是一个web服务器，它验证用户并提供API响应。</p><p id="9306" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">一些流行的web服务器是Apache Tomcat、Apache httpd和NGINX。</p><h1 id="4989" class="ln lo it bd lp lq lr ls lt lu lv lw lx ki ly kj lz kl ma km mb ko mc kp md me bi translated"><strong class="ak">信息系统</strong></h1><p id="7d3f" class="pw-post-body-paragraph kr ks it kt b ku mf kd kw kx mg kg kz la mh lc ld le mi lg lh li mj lk ll lm im bi translated">消息传递有助于通过异步的程序到程序的通信，在网络上从一台计算机向另一台计算机传输数据。消息传递通过分离数据的发送和接收，使应用程序能够连接和扩展。这里有几个重要的概念，比如消息、通道/队列、发送者/生产者、接收者/消费者</p><blockquote class="mx my mz"><p id="e6ac" class="kr ks na kt b ku kv kd kw kx ky kg kz nb lb lc ld nc lf lg lh nd lj lk ll lm im bi translated"><strong class="kt jd">消息</strong>:计算机之间发送的数据包(消息)<br/> <strong class="kt jd">通道/队列</strong>:连接程序和传递消息的逻辑路径。<br/> <strong class="kt jd">发送者/制作者</strong>:通过将消息写入通道来发送消息的程序。<br/> <strong class="kt jd">接收者/消费者</strong>:通过从通道读取消息来接收消息的程序。</p></blockquote><p id="7b48" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">消息传递中有两个重要的概念，</p><p id="d884" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kt jd">发送并忘记</strong>发送应用程序将消息发送到消息通道(队列)。一旦该步骤完成，当消息传递系统在后台传输消息时，发送者就忘记了这一点。发送者不必等待消费者接收该消息。</p><p id="12bc" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kt jd">存储转发</strong>，这里消息传递系统存储消息并传递给接收方。</p><p id="914f" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">消息传递系统的核心支持一个称为发布-订阅的特性，其中一个客户端可以发布一条消息，其他客户端可以订阅以使用该内容。如何构建发布和消费的选择取决于消息传递系统。例如，Kafka使用长轮询模型，而RabbitMQ使用推送模型，两者各有利弊。</p><h1 id="d563" class="ln lo it bd lp lq lr ls lt lu lv lw lx ki ly kj lz kl ma km mb ko mc kp md me bi translated"><strong class="ak">消息格式:标题、有效载荷和页脚</strong></h1><p id="3deb" class="pw-post-body-paragraph kr ks it kt b ku mf kd kw kx mg kg kz la mh lc ld le mi lg lh li mj lk ll lm im bi translated">消息是用于通过网络发送信息的结构。它们因一种协议/技术而异，正如我在上一主题中所描述的，它们也有许多不同的名称(JSON、XML、协议缓冲区),但是消息最重要的不同之处在于它们的内容。</p><p id="fb5f" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">每种协议都使用特殊的格式化方法来确定消息的结构。Web服务器和浏览器之间的消息不同于连接两个低层以太网设备的消息。基本消息元素包含以下三个基本元素:</p><blockquote class="mx my mz"><p id="21a5" class="kr ks na kt b ku kv kd kw kx ky kg kz nb lb lc ld nc lf lg lh nd lj lk ll lm im bi translated"><strong class="kt jd">头</strong>:放在实际数据之前的信息。报头包含控制信息，控制信息用于传达关于消息包含的数据以及如何解释消息的事实。<br/> <strong class="kt jd">数据</strong>:实际要传输的数据大多数消息都包含某种形式的数据。<br/> <strong class="kt jd">页脚</strong>:一般包含控制字段。</p></blockquote><p id="7193" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">例如，当客户端向web服务器发送消息时，它将消息从语言数据结构序列化为二进制格式，当后端接收到该消息时，它必须将消息从该格式反序列化。例如，javascript客户端使用JSON作为消息格式与Go服务器通信，Javascript的本地JSON对象将被转换为JSON字节串，Go后端可以将该字节串反序列化为结构。代表一本字典。了解序列化和反序列化消息格式的相关成本非常重要。</p><p id="b1e1" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">非常好的补充读物:<a class="ae mw" href="http://www.tcpipguide.com/contact.htm" rel="noopener ugc nofollow" target="_blank">http://www.tcpipguide.com/contact.htm</a></p><h1 id="29df" class="ln lo it bd lp lq lr ls lt lu lv lw lx ki ly kj lz kl ma km mb ko mc kp md me bi translated"><strong class="ak">结论</strong></h1><p id="4a2f" class="pw-post-body-paragraph kr ks it kt b ku mf kd kw kx mg kg kz la mh lc ld le mi lg lh li mj lk ll lm im bi translated">重要的是不断重读这些基本主题，并理解它们，真正获得该主题的专业知识，并有助于以最简单和最可靠的方式建模复杂系统。</p><p id="cc7d" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">设计/构建应用程序没有唯一正确的方法，关键在于选择一种最适合给定需求的方法，做出成本较低的决策，同时将决策/设计/数据模型…记录在案，这样，如果需要更改系统，您就可以计算出所涉及的工作量以及在此过程中受到影响的系统，以便以最佳方式处理更改。</p><p id="bcb8" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">祝你事业有成。</p><p id="ba0a" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kt jd">补充阅读:</strong><a class="ae mw" href="https://blog.cloudflare.com/http3-the-past-present-and-future/" rel="noopener ugc nofollow" target="_blank">http://www . tcpip guide . com/free/t _ messageformattingheadersspayloadsandfooters . htm</a></p><p id="5e22" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">【https://www.educba.com/what-is-osi-model/ T4】</p></div></div>    
</body>
</html>