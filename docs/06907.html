<html>
<head>
<title>This Is Why Your Code Reviewer Hates You</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">这就是你的代码审查者讨厌你的原因</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/this-is-why-your-code-reviewer-hates-you-b3f4a7ffc7b6?source=collection_archive---------27-----------------------#2021-01-11">https://levelup.gitconnected.com/this-is-why-your-code-reviewer-hates-you-b3f4a7ffc7b6?source=collection_archive---------27-----------------------#2021-01-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="348a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">提高代码审查水平的技巧。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/9bc7a0bd2a39e4b31ebfc066385dba56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*egXa839_cF8wBvR5"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae le" href="https://unsplash.com/@heylagostechie?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">海拉戈斯蒂奇</a>拍摄的照片</figcaption></figure><p id="81cd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这篇文章中，我们将揭示一些容易但经常被忽视的技术，它们帮助我打动了我的代码审查者。然而，在此之前，确保我们精通代码审查的概念以及它需要什么是至关重要的？请允许我的朋友<em class="lf">互联网</em>来帮助我，</p><blockquote class="lg lh li"><p id="0e51" class="jq jr lf js b jt ju jv jw jx jy jz ka lj kc kd ke lk kg kh ki ll kk kl km kn im bi translated">代码审查是一种软件质量保证活动，在这种活动中，一个或几个人主要通过查看和阅读程序的部分源代码来检查程序，他们在实现之后或作为实现的中断来这样做。至少其中一个人必须不是代码的作者。</p><p id="4598" class="jq jr lf js b jt ju jv jw jx jy jz ka lj kc kd ke lk kg kh ki ll kk kl km kn im bi translated">-维基百科</p></blockquote><h1 id="f98e" class="lm ln it bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">指导原则</h1><p id="2750" class="pw-post-body-paragraph jq jr it js b jt mk jv jw jx ml jz ka kb mm kd ke kf mn kh ki kj mo kl km kn im bi translated">所以，首先，让我们记住黄金法则，<em class="lf">珍惜你的评审时间。</em></p><p id="085e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">从个人经验来说，有些人将他们的代码评审员视为他们自己的质量保证技术人员。他们毫不费力地寻找自己的错误。相反，为了让评论正常工作，你需要让它成为一个双向的过程，你和你的评论者互相信任。因此，你需要确保你也遵守了自己的承诺，不要让你的评审觉得他们在做所有的工作。</p><p id="2d7f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这让我想到了第一个原则。</p><h1 id="5761" class="lm ln it bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">原则1:首先检查你自己的代码</h1><p id="eb0b" class="pw-post-body-paragraph jq jr it js b jt mk jv jw jx ml jz ka kb mm kd ke kf mn kh ki kj mo kl km kn im bi translated">在创建一个合并请求并询问你询问的人是谁之前，确保你先<em class="lf">检查你的代码</em>；不要只是检查错误，像第一次一样阅读代码，并标记任何你觉得混乱的地方。每个人都有一个模式的错误，他们往往会在不经意间重复，但你想变得更好；寻找这样的模式(如果有的话)，并尝试使您的代码足够健壮以承受这些错误，或者甚至更好地尝试完全防止它们！</p><p id="3060" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你应该知道犯错误不是世界末日，它是每个程序员旅程的一部分。然而，如果它们发生得太频繁，而且，如果你一直重复同样的错误，这显示出你的草率，并告诉你的评审者你不重视他们的时间。</p><h1 id="32bf" class="lm ln it bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">原则2:自动化简单的事情</h1><p id="72b9" class="pw-post-body-paragraph jq jr it js b jt mk jv jw jx ml jz ka kb mm kd ke kf mn kh ki kj mo kl km kn im bi translated">无论是你还是你的评审者都不应该浪费时间去寻找一个丢失的花括号或者修正你的代码的语法。这就是<em class="lf">自动化测试</em>的作用！这些测试应该是您团队的标准工作流程的一部分，并且所有的代码评审应该在您的代码通过CI/CD环境中的自动化测试之后进行。</p><p id="f5f2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然而，如果你工作的团队/公司不使用CI/CD过程<em class="lf">(就像我的不使用)</em>，我仍然有一个有效的方法来确保我们的开发环境符合适当的约定。方法是使用<em class="lf">棉绒</em>和<em class="lf">格式化器</em>。</p><blockquote class="lg lh li"><p id="ded6" class="jq jr lf js b jt ju jv jw jx jy jz ka lj kc kd ke lk kg kh ki ll kk kl km kn im bi translated">如果你想知道什么是linters/formatters，以及如何使用它们来编写完美的无错代码，你可能想要阅读我们的<a class="ae le" href="https://www.theimmigrantprogrammers.com/p/error-free-code-is-not-just-a-dream" rel="noopener ugc nofollow" target="_blank">文章</a>，或者观看我们关于它的<a class="ae le" href="https://youtu.be/yTdiuY1FIE8" rel="noopener ugc nofollow" target="_blank">视频</a>。</p></blockquote><p id="1b64" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">好吧，回到我的观点，正如我前面指出的，代码审查不是为了发现语法错误；你的评论者对你有更高的期望。</p><h1 id="2657" class="lm ln it bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">原则3:用代码本身回答问题</h1><p id="f883" class="pw-post-body-paragraph jq jr it js b jt mk jv jw jx ml jz ka kb mm kd ke kf mn kh ki kj mo kl km kn im bi translated">所以，我是这家公司的新员工，我被分配了一个项目，我应该从头开始。在我最初的一次代码审查中，我的审查者问了我一些关于我在代码中使用的一些预定义常数(带有一些特定值)的问题，这是可以理解的，因为他不知道代码的上下文，因为这是一个全新的项目。为了回答他的问题，我安排了一次与他的会面，向他解释我做出这些决定的原因。正如预期的那样，一切都很顺利，我的审查员相信了我所有的论点，我们继续以同样的方式工作。</p><p id="c33f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">六个月后，我们公司来了一名新员工，他被分配到了我之前参与的这个项目。现在，在检查我的代码部分时，这个新来的女孩有一些问题要问我，这些问题恰好是我的评审员在我们最初的代码评审会议上问我的问题。唉，已经六个月了，谁还记得他们六个月前做的一切！！！此外，当时我并没有<em class="lf"/>“有时间”记录我的代码(像大多数开发人员一样)。</p><p id="ecd6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里的要点是，当你的读者对代码如何工作表示困惑时，解决方案不是向一个人解释，你应该能够向任何人解释你的代码。现在，我已经意识到最好的方法是让你的<em class="lf">代码自己回答所有的问题</em>，也就是说，试着编写<em class="lf">不言自明的</em>代码。代码注释当然是一个可以接受的解决方案，但是它们不如自然记录自身的代码。</p><h1 id="74c7" class="lm ln it bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">原则4:原子提交</h1><p id="c35b" class="pw-post-body-paragraph jq jr it js b jt mk jv jw jx ml jz ka kb mm kd ke kf mn kh ki kj mo kl km kn im bi translated">有时候，在实现一个新特性的时候，我们倾向于重温几个月前编写的旧代码。然而，在这段时间里，作为一个不断发展的开发人员，我们质疑我们的旧技术，现在，在学习了一些更新更好的方法来处理事情之后，我们对自己说，既然我已经在这里了，对这个文件做了一些更改，我还不如修复这个其他的东西。然而，我们没有想到的是，由于我们的这一举措，我们的代码审查人员将很难找出哪些更改服务于目标A，哪些更改服务于目标b。因此，使您的更改原子化非常重要。</p><blockquote class="lg lh li"><p id="d3b7" class="jq jr lf js b jt ju jv jw jx jy jz ka lj kc kd ke lk kg kh ki ll kk kl km kn im bi translated">解耦不相关的变更将允许您将不同的代码片段发送给不同的人，并让他们同时审查那些变更。</p></blockquote><h1 id="6c53" class="lm ln it bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">原则5:功能性和非功能性变化</h1><p id="4363" class="pw-post-body-paragraph jq jr it js b jt mk jv jw jx ml jz ka kb mm kd ke kf mn kh ki kj mo kl km kn im bi translated">下一项技术是上一项技术的母技术，<em class="lf">尝试将功能性和非功能性的变化分开。这是我违反过的一条原则，我不知道违反了多少次；恐怕我是吃了苦头才知道的！</em></p><p id="da59" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">例如，您做了一个影响代码行为的两行小改动，然后您决定格式化整个文件。这意味着您的代码审查人员将不得不在数百行空白更改中翻箱倒柜，只为了找到隐藏在其中的两行功能性代码或更改，它们实际上需要被审查。那不是很讨厌吗？</p><h1 id="41d7" class="lm ln it bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">原则6:优雅地回应批评</h1><p id="0ccf" class="pw-post-body-paragraph jq jr it js b jt mk jv jw jx ml jz ka kb mm kd ke kf mn kh ki kj mo kl km kn im bi translated">虽然，我觉得这可能是最明显的技术，它仍然值得一提。我从自助书籍中学到了一些关于人性的理论，但凭经验，我可以保证这对你寻求帮助的任何人来说都是最真实的。当你<em class="lf">表现出对建设性批评的欣赏</em>时，人们会付出更多努力，并提供更好的反馈，因为他们知道他们可以指望你认真对待他们的反馈。本声明完全适用于您和您的审查者。</p><h1 id="6f74" class="lm ln it bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">原则7:即使是你的评论者错了，也要有耐心</h1><p id="80a7" class="pw-post-body-paragraph jq jr it js b jt mk jv jw jx ml jz ka kb mm kd ke kf mn kh ki kj mo kl km kn im bi translated">试着质疑你的方式，即使是你的评论者错了。试着这样想，如果你的代码审查员误读了代码的某一部分，其他人也会犯同样的错误吗？读者真的需要进行那种不正常的审查来确保不存在某个特定的bug吗？代码真的这么费解吗？</p><ul class=""><li id="7f03" class="mp mq it js b jt ju jx jy kb mr kf ms kj mt kn mu mv mw mx bi translated">寻找<em class="lf">方法来重构代码</em>，尽可能地添加注释，使代码对每个人都很直观，容易理解。</li><li id="e2ac" class="mp mq it js b jt my jx mz kb na kf nb kj nc kn mu mv mw mx bi translated">如果这种困惑源于您所知道的某一段代码或某一语言的某一特性，但大多数人似乎并不十分熟悉，那么请尝试用一种更常用的方式重写代码，以便团队中的其他成员更容易理解。</li></ul><h1 id="a98f" class="lm ln it bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">原则8:巧妙地询问缺失的信息</h1><p id="34bf" class="pw-post-body-paragraph jq jr it js b jt mk jv jw jx ml jz ka kb mm kd ke kf mn kh ki kj mo kl km kn im bi translated">如果你收到一个类似“这是令人困惑的！”，来自您的代码审查者。你的第一反应会是什么？嗯，对于大多数人来说，第一反应是问一个后续问题，可能是这样的，“有什么令人困惑的吗？”但相信我，这会让人觉得有点不高兴。相反，一个更好的后续问题是，从你的评价者那里收集更多的信息而又不显得暴躁，简单地问一下，<em class="lf">什么样的改变会有帮助！</em></p><p id="19db" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当你的评审者回复的时候，你可以再看一眼你的代码，通常总有这样或那样的东西你可以修改以提高代码的清晰度。修订会让你的评审者知道你对改变持开放态度(即使这并不是他们想要的)。</p></div><div class="ab cl nd ne hx nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="im in io ip iq"><p id="09c0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">嗯，这些是我在职业生涯中学到的一些技巧，用于简单流畅的代码审查。如果你认为我错过了什么，或者如果你想分享更多在过去对你有帮助或者你最近学到的技巧，我很乐意在评论中听到它们。我希望本文提供的信息对您有价值。感谢阅读。快乐学习！</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="ccf1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="lf">最初发表于</em><a class="ae le" href="https://www.theimmigrantprogrammers.com/p/this-is-why-your-code-reviewer-hates" rel="noopener ugc nofollow" target="_blank">T5【https://www.theimmigrantprogrammers.com】</a><em class="lf">。</em></p></div></div>    
</body>
</html>