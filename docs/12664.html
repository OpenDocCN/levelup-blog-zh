<html>
<head>
<title>How to Add a Background Image to Your Streamlit App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何向您的Streamlit应用程序添加背景图像</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-add-a-background-image-to-your-streamlit-app-96001e0377b2?source=collection_archive---------1-----------------------#2022-06-28">https://levelup.gitconnected.com/how-to-add-a-background-image-to-your-streamlit-app-96001e0377b2?source=collection_archive---------1-----------------------#2022-06-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="785f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">从图像的URL或您的本地计算机——学习两种方法</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/403f752c229e48ea9f38333b6d2598b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ddtswLMjG04yDQoA3Ezw6w.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自<a class="ae ky" href="https://pixabay.com/vectors/landscape-nature-mountain-field-1606431/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae ky" href="https://pixabay.com/users/davidrockdesign-2595351/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1606431" rel="noopener ugc nofollow" target="_blank"> DavidRockDesign </a></figcaption></figure><p id="4810" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我喜欢在业余时间开发Streamlit应用程序，既是为了学习，也是为了娱乐。Streamlit是一个趋势性的全python框架，它允许像我这样的数据科学家、程序员或任何知道如何用python编码的人快速轻松地构建漂亮的机器学习和数据应用程序。使用Streamlit构建web应用不需要有前端web开发经验。如果你对python相当精通，你就可以开始了！</p><p id="7a28" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在今天的帖子中，我将向您展示如何从URL或您的本地计算机向Streamlit应用程序添加背景图像。在下面的<a class="ae ky" href="https://towardsdatascience.com/create-a-simple-language-learning-app-using-streamlit-21d6ce1b68c" rel="noopener" target="_blank">文章</a>中，我们将使用“语言学习应用程序”进行演示，并看看如何给它添加背景图片。如果你已经建立了一个应用程序，你只需要简单地将今天文章中的代码片段插入到你的应用程序的python文件中，你的背景图片就会立即添加到你的应用程序中。</p><div class="lv lw gp gr lx ly"><a href="https://towardsdatascience.com/create-a-simple-language-learning-app-using-streamlit-21d6ce1b68c" rel="noopener follow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">使用Streamlit创建简单的语言学习应用程序</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">如何使用Streamlit和Googletrans构建自己的语言翻译和学习应用程序</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm ks ly"/></div></div></a></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mn"><img src="../Images/e037f56b3436fe9167c1736332ce38e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-LWamoztjI1H7rn5R3L26A.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">作者提供的图片(背景图片由<a class="ae ky" href="https://pixabay.com/illustrations/flower-clouds-heaven-4151900/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>提供)</figcaption></figure></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><p id="16cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要将背景图像添加到您的Streamlit应用程序中，您需要将<code class="fe mv mw mx my b">st.markdown()</code>与CSS结合使用。好吧，我知道我之前说过，你不需要有任何前端web开发经验来构建一个Streamlit应用程序。在这个用例中，我们确实需要应用一点HTML/CSS知识来完成工作。</p><p id="05ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么什么是CSS呢？CSS是级联样式表的缩写，是一种样式表语言，用于控制以HTML或XML等标记语言编写的网页的布局和样式。使用CSS，你可以定义各种各样的网页样式，比如颜色、字体、文本大小、不同的HTML元素如何布局、使用什么样的背景图片等等。</p><p id="09f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，我们可以用CSS <code class="fe mv mw mx my b">background-image</code>属性指定<code class="fe mv mw mx my b">&lt;style&gt;</code>元素中的背景图像。这个HTML元素由开始标签&lt;样式&gt;和结束标签&lt;/样式&gt;标记。代码如下所示:</p><pre class="kj kk kl km gt mz my na nb aw nc bi"><span id="3f0a" class="nd ne it my b gy nf ng l nh ni">&lt;style&gt;<br/>p {<br/> background-image: url(‘img_file.jpg’);<br/>}<br/>&lt;/style&gt;</span></pre><p id="d46b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，我们将HTML元素作为一个字符串放在<code class="fe mv mw mx my b">st.markdown(body, unsafe_allow_html=False)</code>中。默认情况下，在<code class="fe mv mw mx my b">body</code>中找到的任何HTML标签都将被转义，因此被视为纯文本。然而，我们可以通过将<code class="fe mv mw mx my b">unsafe_allow_html </code>参数设置为<code class="fe mv mw mx my b">False</code>来关闭这种行为。所以代码看起来会像这样:</p><pre class="kj kk kl km gt mz my na nb aw nc bi"><span id="c033" class="nd ne it my b gy nf ng l nh ni">st.markdown(</span><span id="c6cf" class="nd ne it my b gy nj ng l nh ni">   f”””</span><span id="18d5" class="nd ne it my b gy nj ng l nh ni">   &lt;style&gt;<br/>   p {<br/>   background-image: url(‘img_file.jpg’);<br/>   }<br/>   &lt;/style&gt;</span><span id="1fc0" class="nd ne it my b gy nj ng l nh ni">   ”””,</span><span id="b689" class="nd ne it my b gy nj ng l nh ni">   unsafe_allow_html=True)</span></pre><p id="eb24" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好的。我希望你现在明白了什么是CSS，以及使用<code class="fe mv mw mx my b">st.markdown()</code>在HTML元素上指定背景图片的基本代码片段。让我们看看如何使用CSS将背景图片插入“语言学习”Streamlit应用程序。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h2 id="a931" class="nd ne it bd nk nl nm dn nn no np dp nq li nr ns nt lm nu nv nw lq nx ny nz oa bi translated">选项1:从URL添加背景图像</h2><p id="9ab4" class="pw-post-body-paragraph kz la it lb b lc ob ju le lf oc jx lh li od lk ll lm oe lo lp lq of ls lt lu im bi translated">从URL添加背景图片非常简单。让我们首先定义一个名为<code class="fe mv mw mx my b">add_bg_from_url()</code>的函数来指定<code class="fe mv mw mx my b">st.markdown()</code>内<code class="fe mv mw mx my b">style</code>元素中的背景图像。然后，我们只需调用函数<code class="fe mv mw mx my b">add_bg_from_url()</code>将背景图片添加到“语言学习”应用程序中。</p><p id="6366" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意，我们还将<code class="fe mv mw mx my b">background-size</code>属性设置为<code class="fe mv mw mx my b">cover</code>。这样，背景图像将覆盖整个元素。我们还将<code class="fe mv mw mx my b">background-attachment</code>属性设置为<code class="fe mv mw mx my b">fixed</code>，这样整个元素总是被覆盖，没有拉伸——这意味着图像将保持其原始比例。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h2 id="53e8" class="nd ne it bd nk nl nm dn nn no np dp nq li nr ns nt lm nu nv nw lq nx ny nz oa bi translated">选项2:从您的计算机添加背景图像</h2><p id="190c" class="pw-post-body-paragraph kz la it lb b lc ob ju le lf oc jx lh li od lk ll lm oe lo lp lq of ls lt lu im bi translated">从你的本地计算机添加背景图片有点棘手。首先，需要将图像文件与应用程序的python文件放在同一个文件夹中。接下来，您需要使用<code class="fe mv mw mx my b">b64.encode</code>(第3–4行)将图像文件转换成一个<code class="fe mv mw mx my b">base64</code>字符串。之后，您使用<code class="fe mv mw mx my b">.decode()</code>解码将在HTML元素中使用的<code class="fe mv mw mx my b">base64 string</code>(第7行),并将所有内容放入<code class="fe mv mw mx my b">background-image</code>属性中。</p><p id="f47e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的代码也适用于其他图像文件类型，如JPG或GIF。只需将第9行中的“png”改为“jpg”或“gif”就可以了！试试看！</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/ddf5c8c19b0a58879c8702bf736d7db4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WkvL6CQLsxChA1B-p0I52w.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">作者提供的图片(背景图片由<a class="ae ky" href="https://pixabay.com/illustrations/texture-background-soft-blue-light-1668079/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>提供)</figcaption></figure><p id="09e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就对了。我们已经成功地将背景图片添加到“语言学习”Streamlit应用程序中。感谢阅读。我希望你喜欢这篇关于Streamlit的短文，并且今天学到了一些新东西！要了解更多关于Streamlit的信息，请查看我的<a class="ae ky" href="https://medium.com/@insightsbees" rel="noopener"> Medium博客</a>，获取各种Streamlit应用示例的完整列表。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><p id="90de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以通过这个<a class="ae ky" href="https://medium.com/@insightsbees/membership" rel="noopener">推荐链接</a>注册Medium会员(每月5美元)来获得我的作品和Medium的其他内容。通过这个链接注册，我将收到你的会员费的一部分，不需要你额外付费。谢谢大家！</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="8b91" class="oj ne it bd nk ok ol om nn on oo op nq jz oq ka nt kc or kd nw kf os kg nz ot bi translated">分级编码</h1><p id="91d5" class="pw-post-body-paragraph kz la it lb b lc ob ju le lf oc jx lh li od lk ll lm oe lo lp lq of ls lt lu im bi translated">感谢您成为我们社区的一员！更多内容请参见<a class="ae ky" href="https://levelup.gitconnected.com/" rel="noopener ugc nofollow" target="_blank">升级编码出版物</a>。<br/>跟随:<a class="ae ky" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">推特</a>，<a class="ae ky" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">领英</a>，<a class="ae ky" href="https://newsletter.levelup.dev/" rel="noopener ugc nofollow" target="_blank">通迅</a> <br/> <strong class="lb iu">升一级正在转型的理工大招聘➡️ </strong> <a class="ae ky" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">加入我们的人才集体</strong> </a></p></div></div>    
</body>
</html>