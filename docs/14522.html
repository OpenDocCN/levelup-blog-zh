<html>
<head>
<title>11 Powerful Python Methods For File Operations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">11种强大的文件操作Python方法</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/11-powerful-python-methods-for-file-operations-f32377c4ddad?source=collection_archive---------9-----------------------#2022-12-04">https://levelup.gitconnected.com/11-powerful-python-methods-for-file-operations-f32377c4ddad?source=collection_archive---------9-----------------------#2022-12-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/08e75bf4bd4be479bed34c10749f4ca4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jUd6v-YZ2Ck9Vzp1u_qoYg.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@frantic?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">亚历克斯·科特利亚斯基</a>在<a class="ae kf" href="https://unsplash.com/s/photos/powerful-coding?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="7cf8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Python是一种通用的编程语言，可以用于很多任务。</p><p id="aeef" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是python最酷的一点是管理文件和对文件执行多种操作的能力，而不需要外部库或资源。</p><p id="d778" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为什么要使用Python呢？</p><p id="966f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，重命名一个文件最好手动完成。但是，如果您想根据10k文件的修改日期来重命名它们，或者根据它们包含的内容来重命名，该怎么办呢？</p><p id="ae1b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为成千上万的文件做这件事要花很长时间！</p><p id="2604" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">不仅如此，还有几个惊人的事情会让你的任务变得更容易，给你的文件和文件夹的权力，继续阅读找到答案。</p><p id="e08a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">会很棒的！</p><h1 id="9d66" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">1.获取当前目录</h1><p id="1a09" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">在进行文件操作时，最重要的部分是了解当前目录。</p><p id="8aaf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这也是您应该做的第一件事，第一个原因是您可以仔细检查您是否在正确的目录中，从而提供一个总体的认识。</p><p id="d57f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您应该使用当前目录的另一个主要原因是它使应用程序变得动态。</p><p id="fadd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">绝对路径是系统特有的。运行使用绝对路径的脚本不能保证它会运行。</p><p id="4521" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">同时，相对路径，或者首先获取当前目录，然后使用它转到不同的文件夹树，将确保它是一致的。</p><p id="9557" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要获得当前目录，需要导入一个名为OS的python模块。OS模块是做什么用的？</p><p id="f627" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Python中的OS模块提供了创建和删除目录(文件夹)、获取其内容、更改和标识当前目录等功能。</p><p id="c66a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，要与底层操作系统交互，需要使用这个模块。</p><p id="186b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以让我们开始吧…</p><pre class="mh mi mj mk gt ml mm mn bn mo mp bi"><span id="fb39" class="mq lf it mm b be mr ms l mt mu">import os<br/>os.getcwd()</span></pre><pre class="mv ml mm mn bn mo mp bi"><span id="f42b" class="mq lf it mm b be mr ms l mw mu">OUPUT: 'C:\\Users\\Falcon\\Desktop\\Notebooks'</span></pre><h1 id="be57" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">2.更改目录</h1><p id="4a8b" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated"><code class="fe mx my mz mm b">chdir()</code>用于将目录从当前工作目录改变到指定路径。</p><p id="5a72" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个方法只接受一个参数作为新的工作目录路径。</p><pre class="mh mi mj mk gt ml mm mn bn mo mp bi"><span id="e60b" class="mq lf it mm b be mr ms l mt mu">os.chdir(‘C:\\Users\\Ali\\Desktop\\)</span></pre><h1 id="79fc" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">3.列出当前目录中的文件</h1><p id="9cd9" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">要获取当前目录中的文件，我们可以使用<code class="fe mx my mz mm b">listdir()</code>方法。它接受一个路径作为参数，如果你没有指定路径，那么它接受当前目录作为它的路径。</p><p id="6cfb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">注意，这个方法以列表的形式返回目录名。</p><pre class="mh mi mj mk gt ml mm mn bn mo mp bi"><span id="5681" class="mq lf it mm b be mr ms l mt mu">os.listdir()</span></pre><pre class="mv ml mm mn bn mo mp bi"><span id="d8ef" class="mq lf it mm b be mr ms l mw mu">Output:[‘.ipynb_checkpoints’,<br/> ‘desktop.ini’,<br/> ‘d_and_a’,<br/> ‘linearAlgebra’,<br/> ‘Notebooks’,<br/> ‘PythonScripts’,<br/> ‘Untitled Folder’]</span></pre><h1 id="29b2" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">4.正在创建目录</h1><p id="f7f5" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">创建新目录有两种方法，命名为<code class="fe mx my mz mm b">mkrdir()</code>和<code class="fe mx my mz mm b">makedirs()</code></p><p id="ebba" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我个人使用<code class="fe mx my mz mm b">makedirs()</code>方法，原因是它递归地创建目录。这使我们能够创建多个目录。</p><p id="3c48" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，如果您指定的路径不存在，这个方法将为您创建这些目录，因为它是递归运行的。</p><p id="ca6a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">而<code class="fe mx my mz mm b">mkdir()</code>方法创建一个您已经指定的目录路径。并且该路径应该存在，否则它将抛出一个错误。</p><p id="1e2f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">注意:如果已经存在同名的目录，那么将抛出一个错误。</p><pre class="mh mi mj mk gt ml mm mn bn mo mp bi"><span id="db07" class="mq lf it mm b be mr ms l mt mu">os.makedirs(“data/pictures”)</span></pre><p id="4003" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我没有数据文件夹，但是因为我使用了<code class="fe mx my mz mm b">makedirs()</code>方法，它为我创建了。</p><h1 id="b337" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">5.删除目录</h1><p id="dc91" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">要删除目录，我们可以用<code class="fe mx my mz mm b">rmdir()</code>的方法。我们需要确保文件夹是空的，否则它不会被删除并抛出一个错误，说目录不是空的。</p><p id="e212" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，在尝试使用操作系统模块删除文件夹之前，您需要移出文件。</p><pre class="mh mi mj mk gt ml mm mn bn mo mp bi"><span id="089c" class="mq lf it mm b be mr ms l mt mu">os.rmdir(“data”)</span></pre><h1 id="7d48" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">6.删除文件</h1><p id="da38" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">要删除一个文件，我们可以用<code class="fe mx my mz mm b">os.remove()</code>的方法删除一个文件。<code class="fe mx my mz mm b">rmdir()</code>方法用于删除一个目录，而这将删除文件。如果您尝试删除目录，将会引发错误。</p><pre class="mh mi mj mk gt ml mm mn bn mo mp bi"><span id="81ab" class="mq lf it mm b be mr ms l mt mu">os.remove(file1.txt)</span></pre><h1 id="7d76" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">8.重命名文件</h1><p id="8742" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">要重命名一个文件，我们可以使用<code class="fe mx my mz mm b">os.rename()</code>方法。我们必须给出两个参数，第一个是文件路径，另一个是它的新名称。</p><pre class="mh mi mj mk gt ml mm mn bn mo mp bi"><span id="3644" class="mq lf it mm b be mr ms l mt mu">os.rename(file1.txt, ‘new_file.txt’)</span></pre><h1 id="5da9" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">9.检查文件是否存在</h1><p id="1179" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以使用<code class="fe mx my mz mm b">os.path.exists()</code>方法来检查一个文件是否存在。该方法返回一个布尔值，该值为true或false。</p><pre class="mh mi mj mk gt ml mm mn bn mo mp bi"><span id="f73c" class="mq lf it mm b be mr ms l mt mu">os.path.exists(‘file1.txt’)</span></pre><h1 id="415d" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">10.加入路径</h1><p id="1812" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">顾名思义，这个方法连接了两条路径。此方法返回带有串联路径的字符串。</p><p id="1ca3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">除了连接路径，它还有一个有用的功能。Windows和mac对文件路径使用不同的斜线。这个方法根据脚本运行的系统动态地使用右斜杠。</p><p id="2d93" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">简单地说，join函数为我们处理OS限制，并为我们生成join路径文件。</p><pre class="mh mi mj mk gt ml mm mn bn mo mp bi"><span id="b5c8" class="mq lf it mm b be mr ms l mt mu">path_1=os.getcwd()<br/>path2=”newfile.txt”<br/>os.path.join(path1,path2)</span></pre><p id="7e8e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">注意:我们可以给<code class="fe mx my mz mm b">join()</code>方法任意多的参数。</p><h1 id="c249" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">11.显示统计数据</h1><p id="127b" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以使用<code class="fe mx my mz mm b">os.stat()</code>方法来显示该文件夹或文件的统计数据。运行这个方法将给出关于该文件或文件夹的一系列有用信息。</p><p id="c1f5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">其中一些是以字节为单位的大小、修改时间等等。</p><pre class="mh mi mj mk gt ml mm mn bn mo mp bi"><span id="c5c4" class="mq lf it mm b be mr ms l mt mu">os.stat(os.getcwd())</span></pre><h1 id="2135" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="242e" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">在本文中，我们研究了OS模块为使用Python处理文件提供的一些功能。</p><p id="10b6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们研究的函数是:</p><p id="96d7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mx my mz mm b">getcwd()</code></p><p id="c96b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mx my mz mm b">chdir()</code></p><p id="ef04" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mx my mz mm b">listdir()</code></p><p id="b98e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mx my mz mm b">mkrdir()</code></p><p id="8e26" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mx my mz mm b">makedirs()</code></p><p id="c0bf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mx my mz mm b">rmdir()</code></p><p id="3883" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mx my mz mm b">os.remove()</code></p><p id="6973" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mx my mz mm b">os.rename()</code></p><p id="4a79" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mx my mz mm b">os.path.exists()</code></p><p id="0e86" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mx my mz mm b">join()</code></p><p id="c851" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mx my mz mm b">os.stat()</code></p></div></div>    
</body>
</html>