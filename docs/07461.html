<html>
<head>
<title>Create a Gantt chart component, using simple math, and CSS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用简单的数学和CSS创建甘特图组件</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/angular-gantt-chart-component-using-simple-maths-and-css-1de51fdbaaab?source=collection_archive---------0-----------------------#2021-02-20">https://levelup.gitconnected.com/angular-gantt-chart-component-using-simple-maths-and-css-1de51fdbaaab?source=collection_archive---------0-----------------------#2021-02-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a660" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">创建一个通用的角度组件，它将事件和里程碑的集合作为输入，并呈现出一个甘特图</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/2b3160575555d47cd6ab65fc9c95670c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NYexfZ_u6nOVxgxZrRYnSQ.jpeg"/></div></div></figure><p id="c84d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在我被设计界诋毁之前，我必须在此声明，我绝不是一名设计师。我也强烈主张使用第三方软件包，只要它们符合要求。</p><p id="cdb4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你想使用基本的CSS原理而不是复杂的CSS网格布局或依赖第三方库来生成灵活的甘特图组件，请继续阅读。请记住，本博客中使用的所有代码都是出于演示的目的而从头开始编写的，因此请将此作为指南，而不是在生产代码中逐字使用。Github资源库的链接可以在本文末尾找到。</p><p id="0a2e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因此，警告的方式，让我们进入正题。</p><h1 id="1004" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">要求</h1><p id="1e25" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">当我们的团队开发新产品时，出现了一个要求，即构建一个允许用户看到以下内容的功能:</p><p id="0f57" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在可预见的未来，重要事件可能会重叠。</p><p id="84c8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">每个事件可以跨越几天/几周，也可以是一个时间点(一个里程碑)。</p><p id="6dae" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">有些事件可能会频繁重复(例如，每月报告义务)。这与标准的甘特图略有不同，因为我们选择在同一行显示这些事件来描述这个场景，如下所示。(不使用第三方软件包的另一个原因。)</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mk"><img src="../Images/d3a315c6a4ded558d3b7db5bd512d1a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pJ1EnbwtRmbCXv8hlCCRvA.jpeg"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">所有原始样式和上下文都已更改，删除了任何IP。</figcaption></figure></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><h1 id="021d" class="ln lo iq bd lp lq mw ls lt lu mx lw lx jw my jx lz jz mz ka mb kc na kd md me bi translated">概念</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nb"><img src="../Images/a9591dd1b0f41a145b3f98972cd3c021.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*17qgArlDVBGPs0PC_XD_HA.png"/></div></div></figure><h1 id="3900" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">实施</h1><h2 id="c924" class="nc lo iq bd lp nd ne dn lt nf ng dp lx la nh ni lz le nj nk mb li nl nm md nn bi translated">首先，让我们创建一个日期服务来封装我们所有的日期计算。</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><h2 id="061b" class="nc lo iq bd lp nd ne dn lt nf ng dp lx la nh ni lz le nj nk mb li nl nm md nn bi translated">接下来，我们需要一个模型来表示甘特图中的每一行，它将被组件接受为输入。</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><h2 id="ea69" class="nc lo iq bd lp nd ne dn lt nf ng dp lx la nh ni lz le nj nk mb li nl nm md nn bi translated">以每月为列构建标题行</h2><p id="04a8" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">创建一个方法，该方法返回包含月份名称和月份持续时间百分比(作为甘特图周期的一部分)的month对象模型集合。请注意，在计算两个月之间的天数时，我们需要考虑到周期可能会跨越两年。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="c461" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">生成月行</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ef4df9d27fa2f70cf334f8500194a581.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nSarzoepB1kSKdcAPJ9M0Q.png"/></div></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><h2 id="5bdd" class="nc lo iq bd lp nd ne dn lt nf ng dp lx la nh ni lz le nj nk mb li nl nm md nn bi translated">生成主事件行</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nr"><img src="../Images/60487d4b459a4d9c77fd87538ed64cc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XH76eehJWGcwQKp9zGevtg.png"/></div></div></figure><p id="38db" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们只需要两个方法来呈现我们的事件周期——一个用于设置事件元素的宽度，另一个用于在行内正确定位元素。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="814f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用上面的两种方法，我们现在可以迭代甘特图中的每一行，并根据事件持续时间以正确的位置和宽度呈现事件周期。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="cef9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">创建垂直网格线</strong></p><p id="d95f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">每月创建一个元素，高度设置为甘特图容器的100%，边框向右。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><h2 id="fe65" class="nc lo iq bd lp nd ne dn lt nf ng dp lx la nh ni lz le nj nk mb li nl nm md nn bi translated">最终视图</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ns"><img src="../Images/f2b0140acb00fc1ac7f67bd6c700429e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a5HdSR4IZ2HfuW5VcITaGw.png"/></div></div></figure><h1 id="ed3c" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">摘要</h1><p id="9758" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">如果你能走到这一步，我还没有把你烦死，这是个好消息。希望这对于任何在互联网上寻找创建简单甘特图的方法的人都是有用的，和我的团队有相似的需求。现在，虽然我在这个例子中使用了angular，但是没有什么可以阻止你用普通的Javascript和HTML来实现它。</p><p id="0c42" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你在寻找更复杂的东西，比如不同事件或分组事件之间的依赖线，我推荐使用第三方库，比如Kendo UI，它也是一个很棒的库，可以用于各种很棒的组件(需要许可证)。</p><p id="a1a8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这篇博文的所有代码都可以在下面找到。我期待听到您对此实现的反馈/改进。</p><div class="nt nu gp gr nv nw"><a href="https://github.com/amay5027/simple-gantt-chart" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd ir gy z fp ob fr fs oc fu fw ip bi translated">简单甘特图</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">此项目是使用Angular CLI版本10.2.0生成的。允许您显示甘特图的角度控件…</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">github.com</p></div></div><div class="of l"><div class="og l oh oi oj of ok kp nw"/></div></div></a></div></div></div>    
</body>
</html>