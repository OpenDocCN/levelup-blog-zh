<html>
<head>
<title>How to set up a Wordpress site on AWS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在AWS上建立一个Wordpress站点</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-set-up-a-wordpress-site-on-aws-8312aead5e77?source=collection_archive---------9-----------------------#2019-11-08">https://levelup.gitconnected.com/how-to-set-up-a-wordpress-site-on-aws-8312aead5e77?source=collection_archive---------9-----------------------#2019-11-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7af5" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">一本没有废话的指南，包含了你需要的所有代码片段</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f7ed16ced42c7e4d86c4a85d07f2af89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*v0nuJrKxYs2versw.jpg"/></div></div></figure><p id="ffb8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">按照下面链接中指南的第1到5节，在AWS Lightsail上创建一个新的服务器，用Wordpress加载它，并获取它的管理员证书:</p><div class="ln lo gp gr lp lq"><a href="https://lightsail.aws.amazon.com/ls/docs/en_us/articles/amazon-lightsail-tutorial-launching-and-configuring-wordpress#tutorial-launching-and-configuring-wordpress-sign-up-for-aws" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">教程:在Amazon Lightsail中启动和配置一个WordPress实例</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">如果你只需要实例(虚拟的……)的话，Amazon Lightsail是开始使用Amazon Web Services (AWS)最简单的方法</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">lightsail.aws.amazon.com</p></div></div></div></a></div><h2 id="fe39" class="lz ma iq bd mb mc md dn me mf mg dp mh la mi mj mk le ml mm mn li mo mp mq mr bi translated">添加您的域</h2><p id="69f6" class="pw-post-body-paragraph kr ks iq kt b ku ms jr kw kx mt ju kz la mu lc ld le mv lg lh li mw lk ll lm ij bi translated">完成第5步后，为您的域创建以下DNS记录(您通常可以在DNS提供商的仪表板中完成此操作):</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="f2d4" class="lz ma iq my b gy nc nd l ne nf">Type: A<br/>Value: The static IP address that you just attached on AWS in step 5<br/>TTL: Any value will work here</span></pre><p id="fa8c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在剩下的就是等待更改传播，这应该不会超过1小时。</p><h2 id="c221" class="lz ma iq bd mb mc md dn me mf mg dp mh la mi mj mk le ml mm mn li mo mp mq mr bi translated">向您的站点添加SSL证书，启用https</h2><p id="258a" class="pw-post-body-paragraph kr ks iq kt b ku ms jr kw kx mt ju kz la mu lc ld le mv lg lh li mw lk ll lm ij bi translated">一旦DNS更改已经传播，并且您可以在您的域中看到Wordpress页面，访问shell并执行以下命令，用您的域替换YOURDOMAIN.com:</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="703a" class="lz ma iq my b gy nc nd l ne nf">sudo apt-get update<br/>sudo apt-get install software-properties-common<br/>sudo apt-add-repository ppa:certbot/certbot -y<br/>sudo apt-get update -y<br/>sudo apt-get install certbot -y<br/>DOMAIN=YOURDOMAIN.com<br/>WILDCARD=*.$DOMAIN<br/>sudo certbot -d $DOMAIN -d $WILDCARD --manual --preferred-challenges dns certonly</span></pre><blockquote class="ng nh ni"><p id="9b3b" class="kr ks nj kt b ku kv jr kw kx ky ju kz nk lb lc ld nl lf lg lh nm lj lk ll lm ij bi translated">关于如何使用自己的ssh客户端而不是AWS提供的可怕的web shell进行连接的简短教程，请查看本文底部的附录</p></blockquote><p id="8878" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">按照certbot的说明操作，一旦完成该过程并收到证书，运行以下命令以指示您的web服务器使用它们并启用https:</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="f0f5" class="lz ma iq my b gy nc nd l ne nf">sudo /opt/bitnami/ctlscript.sh stop<br/>sudo mv /opt/bitnami/apache2/conf/server.crt /opt/bitnami/apache2/conf/server.crt.old<br/>sudo mv /opt/bitnami/apache2/conf/server.key /opt/bitnami/apache2/conf/server.key.old<br/>sudo mv /opt/bitnami/apache2/conf/server.csr /opt/bitnami/apache2/conf/server.csr.old<br/>sudo ln -s /etc/letsencrypt/live/$DOMAIN/privkey.pem /opt/bitnami/apache2/conf/server.key<br/>sudo ln -s /etc/letsencrypt/live/$DOMAIN/fullchain.pem /opt/bitnami/apache2/conf/server.crt<br/>sudo /opt/bitnami/ctlscript.sh start</span></pre><h2 id="fefd" class="lz ma iq bd mb mc md dn me mf mg dp mh la mi mj mk le ml mm mn li mo mp mq mr bi translated">移除bitnami横幅</h2><p id="411d" class="pw-post-body-paragraph kr ks iq kt b ku ms jr kw kx mt ju kz la mu lc ld le mv lg lh li mw lk ll lm ij bi translated">运行这些命令:</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="17bd" class="lz ma iq my b gy nc nd l ne nf">sudo /opt/bitnami/apps/wordpress/bnconfig --disable_banner 1<br/>sudo reboot</span></pre><p id="17a2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">恭喜，你成功了！享受你的新Wordpress网站！</p><h2 id="54db" class="lz ma iq bd mb mc md dn me mf mg dp mh la mi mj mk le ml mm mn li mo mp mq mr bi translated">附录:使用您自己的ssh客户端进行连接</h2><ol class=""><li id="5196" class="nn no iq kt b ku ms kx mt la np le nq li nr lm ns nt nu nv bi translated">进入您的<a class="ae nw" href="https://lightsail.aws.amazon.com/ls/webapp/account/keys" rel="noopener ugc nofollow" target="_blank"> Lightsail账户页面</a>。</li><li id="fcb4" class="nn no iq kt b ku nx kx ny la nz le oa li ob lm ns nt nu nv bi translated">单击您刚刚创建服务器的区域旁边的“下载”按钮。</li><li id="5f85" class="nn no iq kt b ku nx kx ny la nz le oa li ob lm ns nt nu nv bi translated">使用以下命令通过ssh连接:</li></ol><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="7864" class="lz ma iq my b gy nc nd l ne nf">ssh -i LightsailDefaultKey-eu-central-1.pem <a class="ae nw" href="mailto:ubuntu@safudex.com" rel="noopener ugc nofollow" target="_blank">ubuntu@1</a>.2.3.4</span></pre><p id="1c5b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">将AWS服务器的IP替换为1.2.3.4，将下载文件的文件名替换为“LightsailDefaultKey-eu-central-1 . PEM”。</p></div></div>    
</body>
</html>