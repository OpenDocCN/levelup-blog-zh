# 良好提交消息的重要性

> 原文：<https://levelup.gitconnected.com/the-importance-of-good-commit-messages-9331251e5e33>

![](img/350048ae0127f198e3354097c0b11668.png)

一辆面包车[通过](https://pixabay.com/nl/users/Pexels-2286921/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1853305)[皮克斯贝](https://pixabay.com/nl/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1853305)运送

## 以及如何改进您的提交消息

编写错误提交消息的艺术，可能是我们以前都犯过的错误。我们都见过并写过次优的提交消息——说得非常微妙。

创建一个好的提交消息一点也不难，只需要一些努力。但是，许多开发人员往往有编写糟糕的提交消息的坏习惯。这很可能是因为没有认识到一个好的提交消息的重要性。

但是为什么提交消息如此重要呢？

# 为什么错误的提交消息如此重要

久而久之:你最终还是要看一看过去发生的一些变化。无论您是想找出某个 bug 是何时引入的，还是谁创建了一段代码，在查看修订历史时都应该准备好。

在最理想的情况下，当查看提交消息时，您想要获得一些上下文，最好是掌握为什么要做某些事情背后的思维过程。

实际上，您看到的只是一个混乱的修订历史，其中包含提交消息，如“WIP”和“fixed some bug”。很抱歉，但无论如何这些都不是*好的承诺信息。*

既然提交消息没有提供任何帮助，那么剩下的唯一选择就是一个接一个地检查所有的差异。你将不得不浪费很多额外的时间，这些时间本可以用在更有用的事情上。

那么，我们如何定义一个*坏的*提交消息呢？

为了编写一个错误的提交消息，您必须键入一串没有提供任何值的空单词。一些错误的提交消息(经常使用)的例子有:

*   “致力于特性 X”，连续 10 次提交。
*   “Bugfix”、“零钱”或“WIP”。
*   提交需要 3 分钟阅读的邮件。

花时间和精力写一条好的提交消息是你应该养成的习惯。可能很难理解或记住过去为什么要在自己的代码中做一些更改，更不用说团队成员的代码了。

您希望有好的提交消息，为您提供关于*什么*改变了以及*为什么*改变的有用信息。因为当事情真的趋于恶化时，修订历史是一个很好的资源，可以很快找出到底哪里出了问题。

# 如何提高提交消息的质量

到目前为止，您可能已经明白为什么好的提交消息很重要了。

但是我们如何提高提交消息的质量呢？

为了帮助自己编写更好的提交消息，您可以做的第一件事是保持提交量较小。小提交使得开发者给出描述性的提交消息成为可能。

“修复了一些问题”是*而不是*一个描述性的提交消息。你刚刚完成了一些代码，所以你应该可以做得更好一点。你完全知道你在做什么，只需要花一点时间来解释一下。

小提交带来了一些其他的好处，比如使调试代码变得更容易，以及代码审查变得更容易。

理想情况下，您希望以某种格式组织提交消息。为了创建一个有用的修订历史，您应该在您的团队中就要使用的提交消息约定达成一致。

例如，您可以使用提交消息的第一行来表示您正在处理的票据编号或问题编号。有几种方法可以组织你的提交信息——选择一种适合你的团队的方法。

组织提交消息的一种方法是使用第一行作为摘要。摘要是一个简短的，通常少于 50 个字符的总结变更的行。通常摘要是用祈使语气写的，意思是“说的或写的好像在发出命令或指示”。

摘要后面是一个空行，然后是更详细的描述。这个描述被称为提交消息的*主体*。请注意，并不是每条提交消息都需要主题和正文，在某些情况下，一行就足够了。

试着解释一下*什么*和*为什么* vs. *如何在体内*。

有些人也喜欢在他们的提交消息中添加结束语。结束行提供了额外的信息，比如 JIRA 的机票号码。

```
Fix email validation in user registration formHere you can add some more explanatory stuff that helps other developer understand the what and why.Fixes issue: MYPROJ-57
```

这只是格式化提交消息的一种方式。我强烈建议您创建一种最适合您和您的团队的格式。

# 包装它

既然您知道应该花些精力编写描述性的提交消息，并且“修复了一些问题”不是一个好的提交消息，那么是时候对您自己的提交消息进行批判性的审视了。

你是否以某种方式构建了你的提交消息？或者您是否发现自己时不时地编写糟糕的提交消息？

为了改进您的提交消息，尽可能使它们具有描述性。有帮助的是保持你的承诺小。坚持你和你的团队成员约定的提交信息的惯例。一种方法是将提交消息分成三部分——主题、正文和(可选的)结束语。

感谢阅读！