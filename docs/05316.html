<html>
<head>
<title>Learning JavaScript: for Loops</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">学习JavaScript: for循环</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/learning-javascript-for-loops-b010567a18d?source=collection_archive---------10-----------------------#2020-08-18">https://levelup.gitconnected.com/learning-javascript-for-loops-b010567a18d?source=collection_archive---------10-----------------------#2020-08-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/7438e683705b95ac6e846494e3ade97c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DrahhJyae-5mqywd"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@priscilladupreez?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">普里西拉·杜·普里兹</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="1196" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我将介绍JavaScript中不同形式的<code class="fe le lf lg lh b">for</code>循环。有普通的<code class="fe le lf lg lh b">for</code>回路、<code class="fe le lf lg lh b">for..in</code>回路和<code class="fe le lf lg lh b">for..of </code>回路。我将描述每个循环是如何工作的，以及何时是使用每个循环类型的正确时机。</p><p id="797c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我省略了<code class="fe le lf lg lh b">Array.forEach</code>循环，因为它是专门针对数组的，并且需要一些我还没有涉及到的函数知识。</p><h1 id="854d" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">通用for循环</h1><p id="216d" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">我想讨论的第一种形式的<code class="fe le lf lg lh b">for</code>循环是大多数编程语言中标准的通用<code class="fe le lf lg lh b">for</code>循环。与<code class="fe le lf lg lh b">while </code>循环相反，这种循环主要用在编写程序时迭代次数未知的情况下，例如当您处理文件中未知数量的数据或记录时。</p><p id="bf45" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通用for循环的语法模板是:</p><p id="9398" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ml"> for(循环变量初始化；条件；循环变量修改){ <br/>语句；<br/> } </em></p><p id="8a6a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">循环变量是一个被初始化、测试、然后修改的变量，直到它导致条件变为假。下面是一个简单的<code class="fe le lf lg lh b">for</code>循环的例子，它打印数字1到10:</p><pre class="mm mn mo mp gt mq lh mr ms aw mt bi"><span id="63cd" class="mu lj it lh b gy mv mw l mx my">for (let i = 1; i &lt;= 10; i++) {<br/>  putstr(i + " ");<br/>}</span></pre><p id="b674" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个程序的输出是:</p><pre class="mm mn mo mp gt mq lh mr ms aw mt bi"><span id="e142" class="mu lj it lh b gy mv mw l mx my">1 2 3 4 5 6 7 8 9 10</span></pre><p id="f0d9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们看看这个循环是如何处理数组的:</p><pre class="mm mn mo mp gt mq lh mr ms aw mt bi"><span id="692e" class="mu lj it lh b gy mv mw l mx my">let names = ["Terri", "Meredith", "Allison", "Mason"];<br/>for (let i = 0; i &lt; names.length; i++) {<br/>  putstr(names[i] + " ");<br/>}</span></pre><p id="5fc1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">该程序输出:</p><pre class="mm mn mo mp gt mq lh mr ms aw mt bi"><span id="4a71" class="mu lj it lh b gy mv mw l mx my">Terri Meredith Allison Mason</span></pre><p id="466e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">循环体中可以有多个语句。以下程序接受用户的输入，并显示输入的5个数字的总和:</p><pre class="mm mn mo mp gt mq lh mr ms aw mt bi"><span id="4354" class="mu lj it lh b gy mv mw l mx my">let total = 0;<br/>let number = 0;<br/>const numEntries = 5;<br/>for (let i = 1; i &lt;= numEntries; i++) {<br/>  putstr("Enter a number: ");<br/>  number = parseInt(readline());<br/>  total += number;<br/>}<br/>print("The total is: " + total);</span></pre><p id="1d5d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是这个程序运行一次的输出:</p><pre class="mm mn mo mp gt mq lh mr ms aw mt bi"><span id="b1cc" class="mu lj it lh b gy mv mw l mx my">Enter a number: 1<br/>Enter a number: 2<br/>Enter a number: 3<br/>Enter a number: 4<br/>Enter a number: 5<br/>The total is: 15</span></pre><p id="1f4c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">还有其他方法可以编写一般的<code class="fe le lf lg lh b">for</code>循环，尽管我不支持它们。例如，您可以在循环外初始化循环控制变量，这将变量的范围从块级更改为程序级。下面是一个使用shell的示例:</p><pre class="mm mn mo mp gt mq lh mr ms aw mt bi"><span id="0e63" class="mu lj it lh b gy mv mw l mx my">js&gt; let i = 1;<br/>js&gt; for (; i &lt;= 10; i++) {<br/>      putstr(i + " ");<br/>    }</span><span id="00d3" class="mu lj it lh b gy mz mw l mx my">1 2 3 4 5 6 7 8 9 10 js&gt; i<br/>11</span><span id="21c1" class="mu lj it lh b gy mz mw l mx my">js&gt; for (let i = 1; i &lt;= 10; i++) {<br/>      putstr(i + " ");<br/>    }<br/>1 2 3 4 5 6 7 8 9 10 js&gt; i<br/>typein:4:1 ReferenceError: i is not defined<br/>Stack:<br/>@typein:4:1<br/>js&gt;</span></pre><p id="711d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">大多数情况下，您不希望for循环控制变量在循环本身之外可见。因此，您应该避免在循环体外部初始化循环控制变量。</p><p id="4573" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您可以做的另一件事是通过将修改步骤放在循环体中来更改循环控制变量的修改位置，如下例所示:</p><pre class="mm mn mo mp gt mq lh mr ms aw mt bi"><span id="600b" class="mu lj it lh b gy mv mw l mx my">js&gt; for (let i = 1; i &lt;= 5;) {<br/>      putstr(i + " ");<br/>      i++;<br/>    }<br/>1 2 3 4 5 5<br/>js&gt; for (let i = 1; i &lt;= 5; i++) {<br/>      putstr(i + " ");<br/>    }<br/>1 2 3 4 5 js&gt;</span></pre><p id="cb0e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个程序的意义没有改变，但是将修改步骤放在循环体之外被认为是不标准的，你应该避免这样做。</p><h1 id="852c" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">森林..在回路中</h1><p id="51d0" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated"><code class="fe le lf lg lh b">for..in</code>循环用于循环对象的属性。这个循环适用于数组以及更一般的对象，但是不应该用于数组；将用于..我将在下面解释。</p><p id="a589" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是<code class="fe le lf lg lh b">for..in </code>循环的语法模板:</p><p id="35f8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ml"> for(数据结构中的变量声明){ <br/>语句；<br/> } </em></p><p id="b9c9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是一个使用<code class="fe le lf lg lh b">for..in</code>循环显示一个简单对象的属性和值的例子:</p><pre class="mm mn mo mp gt mq lh mr ms aw mt bi"><span id="375b" class="mu lj it lh b gy mv mw l mx my">js&gt; let student1 = {<br/>      name: "John Doe",<br/>      id: 123,<br/>      major: "Computer Science"<br/>    }<br/>js&gt; for (const prop in student1) {<br/>      print(student1[prop]);<br/>    }<br/>John Doe<br/>123<br/>Computer Science</span></pre><p id="3e3b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">虽然这种循环形式在JavaScript中是可用的，但大多数专家认为在大多数情况下不应该使用这种循环，尤其是对于数组，除了调试之外。原因是<code class="fe le lf lg lh b">for..in</code>循环不一定按照元素存储在数组中的顺序返回数组元素。如果顺序不重要，可以使用它，但是如果顺序很重要，就使用<code class="fe le lf lg lh b">for..of </code>循环，我将在下面讨论。</p><h1 id="eb1d" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">森林..循环的</h1><p id="31ff" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">在讨论这种循环类型之前，我需要定义术语<em class="ml"> iterable </em>。一个数据结构是可迭代的，如果你可以从结构的开始到结构的结尾从一个元素移动到另一个元素。数组是可迭代的；地图是可迭代的；像上面student1这样的对象是不可迭代的。在内部，使用迭代器遍历可迭代对象，我将在另一篇文章中讨论。</p><p id="3e25" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">for..of</code>循环是遍历可迭代对象(如数组或地图)的首选方式。这种循环类型从结构的第一个元素移动到最后一个元素，按照存储的顺序访问元素。</p><p id="0a2c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是<code class="fe le lf lg lh b">for..of</code>循环的语法模板:</p><p id="5330" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ml"> for(数据结构的变量声明){ <br/>语句；<br/> } </em></p><p id="f2b4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是一个使用数组的<code class="fe le lf lg lh b">for..of</code>循环的例子:</p><pre class="mm mn mo mp gt mq lh mr ms aw mt bi"><span id="873e" class="mu lj it lh b gy mv mw l mx my">let numbers = [1,2,3,4,5];<br/>for (const number of numbers) {<br/>  putstr(number + " ");<br/>}</span></pre><p id="9a4d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个程序的输出是:</p><pre class="mm mn mo mp gt mq lh mr ms aw mt bi"><span id="28f2" class="mu lj it lh b gy mv mw l mx my">1 2 3 4 5</span></pre><p id="2439" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这种类型的数组遍历优于使用一般的<code class="fe le lf lg lh b">for</code>循环，因为如果循环控制变量值赋值错误，很容易在数组开始之前或结束之后意外访问数组。</p><p id="3559" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">字符串也是可迭代的对象。下面是一个使用<code class="fe le lf lg lh b">for..of</code>循环单独显示单词字母的程序:</p><pre class="mm mn mo mp gt mq lh mr ms aw mt bi"><span id="4003" class="mu lj it lh b gy mv mw l mx my">js&gt; let word = "extraordinary";<br/>js&gt; for (const letter of word) {<br/>      putstr(letter + " ");<br/>    }<br/>e x t r a o r d i n a r y js&gt;</span></pre><p id="8d41" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一个使用<code class="fe le lf lg lh b">for..of</code>循环的可迭代JavaScript结构是地图，但是我还没有讨论过地图，我将把这个例子留到我关于地图的文章中。</p><h1 id="9e06" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">学习循环很重要</h1><p id="4ca7" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">要成为一名优秀的JavaScript程序员，你需要熟悉并习惯使用<code class="fe le lf lg lh b">for</code>循环，并知道何时以及为何使用每种形式。为了证明<code class="fe le lf lg lh b">for</code>循环的重要性，编程语言Go(由Google开发)除了<code class="fe le lf lg lh b">for</code>循环之外没有任何其他循环类型，这使得选择循环类型变得很容易。<code class="fe le lf lg lh b">for</code>循环可以用于任何迭代问题，尽管<code class="fe le lf lg lh b">while</code>循环和<code class="fe le lf lg lh b">do while</code>循环有时从可读性的角度来看更有意义。</p><p id="3f1f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢您的阅读，请给我发电子邮件提出意见和建议。如果你对我的在线编程课程感兴趣，请访问<a class="ae kf" href="https://learningcpp.teachable.com" rel="noopener ugc nofollow" target="_blank">https://learningcpp.teachable.com</a>。</p></div></div>    
</body>
</html>