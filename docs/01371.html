<html>
<head>
<title>What I Learned Doing Advent of Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我在《代码降临》中学到了什么</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/what-i-learned-doing-advent-of-code-3ddef528198d?source=collection_archive---------8-----------------------#2019-12-18">https://levelup.gitconnected.com/what-i-learned-doing-advent-of-code-3ddef528198d?source=collection_archive---------8-----------------------#2019-12-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="09af" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">数据科学家学习创建“生产就绪”代码的旅程</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/e71bebe67358f83ed18f3fd81c68f33d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vnzKHqShU8Mn0ecH"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">扎克·卢塞罗在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="92f3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是季节！请注意，这不是与家人共度时光的季节，也不是用金属箔和彩灯装饰房子的时候。不要！“t”是学习数据结构、控制流、类型注释、断言测试、时间和空间效率以及文档字符串的季节！</p><p id="dac3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">代码的<a class="ae le" href="https://adventofcode.com/" rel="noopener ugc nofollow" target="_blank">出现是一个漂亮的小编码挑战，几乎数据科学和软件开发领域的每个人都知道。它给了你一个圣诞主题的谜语和一个令人难以置信的考验你作为一个开发者的价值。如果你认为25个代码挑战不足以满足你，不要担心，因为它们有两个部分。在你解决了第一部分之后，第二部分改变了你需要修改的代码。它。工作。</a></p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="lf lg l"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">我能想到的最好的蒂姆·古恩印象。</figcaption></figure><p id="9b61" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">因此，当我参加这个编码挑战时——并且仍然每天缓慢地工作——我发现自己学到了更多关于那些讨厌的计算机科学的东西，那些数据科学家试图忽略的东西。但是，是时候面对我们的恐惧，开始真正注释我们的Jupyter笔记本了(或者，喘息一下，真正从Jupyter笔记本中取出我们的代码，创建模块化功能！).我写这篇文章的目的不是试图详细描述我的每一个小发现，而是激励你努力应对代码的出现，并学习一些你可能一直忽略的东西。</p><h1 id="5782" class="lh li it bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">我学到了什么</h1><h2 id="9bea" class="mf li it bd lj mg mh dn ln mi mj dp lr kb mk ml lv kf mm mn lz kj mo mp md mq bi translated">数据结构</h2><p id="6034" class="pw-post-body-paragraph jq jr it js b jt mr jv jw jx ms jz ka kb mt kd ke kf mu kh ki kj mv kl km kn im bi translated">啊，数据结构。</p><p id="fe76" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你有你的<code class="fe mw mx my mz b">int</code>你有你的<code class="fe mw mx my mz b">str</code>你有你的<code class="fe mw mx my mz b">dict</code>你有你的<code class="fe mw mx my mz b">list</code>和经常被遗忘的<code class="fe mw mx my mz b">array</code>(是的，数组存在于NumPy之外！只需导入数组Python模块。需要复习吗？查看<a class="ae le" href="https://medium.com/backticks-tildes/list-vs-array-python-data-type-40ac4f294551" rel="noopener">这篇关于Python中列表和数组区别的get Medium帖子</a>。)</p><p id="6750" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">关键是，你必须根据你打算用它做什么来选择你的数据结构。而且基于你的数据结构，它可以让操作变得非常快或者非常痛苦。代码出现的第三天教会了我(或者说，提醒了我)当你试图寻找两个事物之间的交集或者共同元素时，集合可以是列表的一个很好的替代品。</p><p id="4552" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">第三天，你要找到两条导线的交点，每条导线在笛卡尔平面上跨越超过150，000个点。强力检查导线1的每个位置和导线2的每个位置的大O符号是什么？您得到了它— O(n)(假设wire 1和wire 2都有位置名称编号“n”，在这种情况下基本上是正确的)。这是非常低效和耗时的。</p><p id="2f7a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">虽然遍历集合比遍历列表开销更大，但检查集合中是否存在元素却快得离谱。为什么？都在set类的实现中。python中的集合是一个"<a class="ae le" href="https://stackoverflow.com/questions/2831212/python-sets-vs-lists" rel="noopener ugc nofollow" target="_blank">不同的可散列对象</a>的无序集合"，集合试图通过计算关键字的散列来找到元素。</p><p id="59b5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">老实说，我忘了大多数日子都有电视。但是现在，当我需要寻找交集时，我会记得使用集合来代替。</p><h2 id="1619" class="mf li it bd lj mg mh dn ln mi mj dp lr kb mk ml lv kf mm mn lz kj mo mp md mq bi translated">流控制</h2><p id="b19c" class="pw-post-body-paragraph jq jr it js b jt mr jv jw jx ms jz ka kb mt kd ke kf mu kh ki kj mv kl km kn im bi translated">如果需要一个简单的<code class="fe mw mx my mz b">if</code>、<code class="fe mw mx my mz b">elif</code>、<code class="fe mw mx my mz b">else</code>陈述，我很乐意。我已经开始使用<code class="fe mw mx my mz b">break</code>和<code class="fe mw mx my mz b">continue</code>语句，有时甚至尝试厚颜无耻的<code class="fe mw mx my mz b">While True</code>语句。但是我必须承认，为了吸取教训，我已经陷入了过多的循环。</p><p id="cb6d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae le" href="https://adventofcode.com/2019/day/4" rel="noopener ugc nofollow" target="_blank">第4天</a>您已经尝试过密码破解，并确保您对流程控制了如指掌。你必须重复输入所有可能的密码。然后您需要一个内部循环来遍历密码中的所有数字，以确保它们是单调递增的。但是你也有另一个标准来确保至少有一组两位数。虽然您可以两次检查密码的整个长度，但是一旦发现密码无效，就退出更有计算意义。</p><p id="045d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果这还不够，第2部分确保您可以跟踪重复数字持续多长时间。</p><p id="0f2a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我特别学到了什么？使用<code class="fe mw mx my mz b">break</code>的战略方式。一旦我发现这些数字不是单调递增的，我就会从迭代密码数字的内部循环中脱离出来。</p><pre class="kp kq kr ks gt na mz nb nc aw nd bi"><span id="2f24" class="mf li it mz b gy ne nf l ng nh">def find_password(start=402328, end=864247):<br/>    possible_passwords = []<br/>    for i in range(start, end+1):<br/>        i_str = str(i)<br/><br/>        criteria1 = True      # criteria1: digits never decrease<br/>        <br/>        for j in range(0, 5):<br/>            if i_str[j+1] &lt; i_str[j]:<br/>                criteria1 = False<br/>                break</span><span id="9f09" class="mf li it mz b gy ni nf l ng nh"># code continues ...</span></pre><h2 id="906d" class="mf li it bd lj mg mh dn ln mi mj dp lr kb mk ml lv kf mm mn lz kj mo mp md mq bi translated">键入注释</h2><p id="a484" class="pw-post-body-paragraph jq jr it js b jt mr jv jw jx ms jz ka kb mt kd ke kf mu kh ki kj mv kl km kn im bi translated">类型注释不是我在做《代码的来临》时学到的东西，但这是我第一次系统地、持续地实现它。</p><p id="14d6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你会问，什么是类型注释？如果你在问这个问题，你可能是一个数据科学家，而不是一个核心开发人员。Python是大多数数据科学家选择的语言，它做了一些被称为动态类型化的事情，其中类型检查是在程序执行期间执行的，而不是在运行之前。那是什么意思？这意味着您不需要显式定义变量的数据类型，Python不会阻止您尝试向字符串添加int，直到为时已晚。</p><p id="2c6f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Python 3.6引入了类型注释，实际上我第一次看到它是在奥莱利的JupyterCon上的乔尔·格鲁什的演讲中，题目是“为什么我讨厌笔记本”。(热拍。此外，令人难以置信的演示——我强烈推荐它。)当我从头开始阅读<a class="ae le" href="https://www.amazon.com/Data-Science-Scratch-Principles-Python/dp/1492041130/ref=pd_sbs_14_t_0/136-0456662-7495958?_encoding=UTF8&amp;pd_rd_i=1492041130&amp;pd_rd_r=d72819e4-87df-4f9e-9319-122a35da8dee&amp;pd_rd_w=AWD8S&amp;pd_rd_wg=ri36F&amp;pf_rd_p=5cfcfe89-300f-47d2-b1ad-a4e27203a02a&amp;pf_rd_r=GGQFB32ZDSBTPTNGGM0N&amp;psc=1&amp;refRID=GGQFB32ZDSBTPTNGGM0N" rel="noopener ugc nofollow" target="_blank">Data Science</a>时，这让我真的想尝试对我的代码进行类型注释，以至少提高可读性。更重要的是，我希望它可以帮助我避免陷入忘记我要做什么和我正在使用哪种数据结构的坏习惯。</p><p id="b933" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是我在代码出现的第一天<a class="ae le" href="https://adventofcode.com/2019/day/1" rel="noopener ugc nofollow" target="_blank">写的带类型注释的代码的一个例子。</a></p><pre class="kp kq kr ks gt na mz nb nc aw nd bi"><span id="e913" class="mf li it mz b gy ne nf l ng nh">from typing import List<br/>def load_day1_input(filename: str) -&gt; List[int]:<br/>    mass_lst = []<br/>    with open(filename) as f:<br/>        for line in f:<br/>            mass_lst.append(int(line))<br/>    return mass_lst</span></pre><p id="70d2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">(注意:Python中的类型注释本身不做任何事情。它没有把Python变成静态类型语言。但是代码清晰总是好的——对你的程序员同事和未来的你都是如此。)</p><p id="d375" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">注意在参数声明后使用了<code class="fe mw mx my mz b">: str</code>——这表示我们期望类型为<code class="fe mw mx my mz b">str</code>的输入。而<code class="fe mw mx my mz b">-&gt; List[int]</code>只是说函数的输出是一个整数列表。为了使用<code class="fe mw mx my mz b">List[int]</code>类型注释，我们首先需要从<code class="fe mw mx my mz b">typing</code>模块导入<code class="fe mw mx my mz b">List</code>类。</p><p id="b917" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你想了解更多关于类型注释的知识，我强烈推荐这篇<a class="ae le" href="https://medium.com/@yothinix/python-type-annotation-and-why-we-need-it-91820a708170" rel="noopener">中型文章</a>。</p><h2 id="b1c2" class="mf li it bd lj mg mh dn ln mi mj dp lr kb mk ml lv kf mm mn lz kj mo mp md mq bi translated">断言和单元测试</h2><p id="e5a3" class="pw-post-body-paragraph jq jr it js b jt mr jv jw jx ms jz ka kb mt kd ke kf mu kh ki kj mv kl km kn im bi translated">这是另一件事，作为数据科学家，我们做得不够，乔尔·格鲁责备我们。(他是对的。)在编写代码时，使用Python中的Assert语句来确保您的代码按预期运行，这对于确保您的代码按预期运行至关重要。您编写几个断言语句——通常是常见的用例，然后是不同的边缘用例，以确保您没有任何错误——然后继续编写代码，直到您的断言语句通过。</p><p id="ef82" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">断言语句也是实现单元测试的好方法。例如，在代码出现的第一天，我编写了下面的assert语句，以确保我获得燃料需求的计算是正确的:</p><pre class="kp kq kr ks gt na mz nb nc aw nd bi"><span id="bc76" class="mf li it mz b gy ne nf l ng nh"># Day 1 Part 1 Testing<br/>assert get_fuel_requirements(1969) == 654, "calculation to get fuel requirements is incorrect"</span></pre><p id="f14f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">作为断言语句的快速介绍，您有三个组件:</p><ol class=""><li id="f10c" class="nk nl it js b jt ju jx jy kb nm kf nn kj no kn np nq nr ns bi translated"><code class="fe mw mx my mz b">assert</code>关键字，指定这是您想要检查的内容的开始</li><li id="b2b2" class="nk nl it js b jt nt jx nu kb nv kf nw kj nx kn np nq nr ns bi translated">要检查的逻辑表达式。在这种情况下，表达式正在检查我的函数<code class="fe mw mx my mz b">get_fuel_requirements</code>的输出，与给出的示例相同</li><li id="2752" class="nk nl it js b jt nt jx nu kb nv kf nw kj nx kn np nq nr ns bi translated">可选地，一个逗号<code class="fe mw mx my mz b">,</code>和一个用双引号括起来的语句，该语句是AssertionError，如果assert语句失败，它将弹出您的终端。如果assert语句是<code class="fe mw mx my mz b">True</code>，您的代码将继续顺利运行。</li></ol><p id="8ff7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要成为assert语句高手，参考这篇<a class="ae le" href="https://medium.com/better-programming/an-intro-to-python-assert-statements-bdd45834d303" rel="noopener">中帖</a>！</p><h2 id="00ee" class="mf li it bd lj mg mh dn ln mi mj dp lr kb mk ml lv kf mm mn lz kj mo mp md mq bi translated">时间和空间效率</h2><p id="cabc" class="pw-post-body-paragraph jq jr it js b jt mr jv jw jx ms jz ka kb mt kd ke kf mu kh ki kj mv kl km kn im bi translated">我们都知道这是什么。它把你糟糕的、蛮力的O(n)代码进行重构，这样它就能在我们的太阳内爆之前完成运行并给你一个答案。</p><p id="33c1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">还需要我多说吗？不。但是如果你想要更多的解释，回到数据结构，想象一下试图计算两个150K+元素列表的交集。(不是集合，是列表。)</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ny"><img src="../Images/8509ced6954e27da69c72e5deae0f4e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*M2S5e5PfFoGTaKAI"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">你职业生涯的太阳下山了，因为你的代码没有完成的意思。Johannes Plenio 在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h2 id="c1e8" class="mf li it bd lj mg mh dn ln mi mj dp lr kb mk ml lv kf mm mn lz kj mo mp md mq bi translated">文档字符串</h2><p id="7c8e" class="pw-post-body-paragraph jq jr it js b jt mr jv jw jx ms jz ka kb mt kd ke kf mu kh ki kj mv kl km kn im bi translated">我不会哀叹docstrings的观点。但是当我试着让自己在写代码的时候记录文档(而不是承诺自己会回去记录文档，然后立刻忽略掉)，这个代码挑战让我保持诚实。我不想再上传没有docstrings的函数了，你也不应该。</p><p id="fb34" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们都应该在2020年翻开新的一页，并确保我们的代码是干净的，有文档记录的，并为生产做好准备。</p><pre class="kp kq kr ks gt na mz nb nc aw nd bi"><span id="2eb8" class="mf li it mz b gy ne nf l ng nh">def get_total_fuel_requirements(mass_lst: List[int]) -&gt; int:</span><span id="fd18" class="mf li it mz b gy ni nf l ng nh">    """<br/>    Iterates through the list of masses,<br/>    calls the function to calculate fuel,<br/>    and returns the total fuel requirement.<br/>    <br/>    Args:<br/>        mass_lst: List of masses (int)</span><span id="510b" class="mf li it mz b gy ni nf l ng nh">    Returns:<br/>        The total fuel requirement (int)<br/>    """</span><span id="1a17" class="mf li it mz b gy ni nf l ng nh">    total_fuel = 0</span><span id="aa16" class="mf li it mz b gy ni nf l ng nh">    for mass in mass_lst:<br/>        fuel_requirement = get_fuel_requirements(mass)<br/>        total_fuel += fuel_requirement</span><span id="e955" class="mf li it mz b gy ni nf l ng nh">    return total_fuel</span></pre><p id="58ec" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">啊。如此清新，如此干净。</p><h1 id="7138" class="lh li it bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">旅程还在继续</h1><p id="29bd" class="pw-post-body-paragraph jq jr it js b jt mr jv jw jx ms jz ka kb mt kd ke kf mu kh ki kj mv kl km kn im bi translated">通过我的<a class="ae le" href="https://github.com/kathrinv/advent-of-code-2019" rel="noopener ugc nofollow" target="_blank"> github repo </a>继续我的代码之旅。我会慢慢地把每天的结果放在这里。</p><p id="cc83" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">是的，我在回购名称中包含了这一年，因为我大胆地假设今后的每一年我都会参与。</p><p id="e7a1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">是的，我建议你在代码出现的时候也完全尝试一下！挑战自己，看看你能学到什么或提高什么！</p></div></div>    
</body>
</html>