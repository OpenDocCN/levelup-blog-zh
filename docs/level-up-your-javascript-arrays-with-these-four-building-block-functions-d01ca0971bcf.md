# ç”¨è¿™å››ä¸ªæ„å»ºå—å‡½æ•°æå‡æ‚¨çš„ JavaScript æ•°ç»„

> åŸæ–‡ï¼š<https://levelup.gitconnected.com/level-up-your-javascript-arrays-with-these-four-building-block-functions-d01ca0971bcf>

## ä½¿ç”¨ Mapã€Reduceã€Filter å’Œ Findï¼Œæ‚¨å¯ä»¥ç¼–å†™æ›´å¥½çš„ JavaScript ä»£ç ã€‚

![](img/f057845c6ada6cd6f17bb02b83986991.png)

ç”±[è©¹å§†æ–¯Â·åºå¾·](https://unsplash.com/@jamesponddotco?utm_source=medium&utm_medium=referral)åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) æ‹æ‘„çš„ç…§ç‰‡

JavaScript ä¸­çš„æ•°ç»„æœ‰äº›ç‰¹æ®Šï¼Œå› ä¸ºå®ƒä»¬åˆ©ç”¨äº† JS çš„åŸå‹ç‰¹æ€§ï¼Œå¹¶æä¾›äº†ä¸€ç§æ–¹ä¾¿çš„æ–¹æ³•æ¥ç›´æ¥ä»å¯¹æ•°ç»„å®ä¾‹çš„å¼•ç”¨è¿è¡Œå‡½æ•°ã€‚

æˆ‘ç›¸ä¿¡åœ¨ä½ çš„ä»£ç ä¸­å°½å¯èƒ½å¤šåœ°ä½¿ç”¨è¿™å››ä¸ªåŠŸèƒ½ä¸ä»…ä¼šè®©ä½ æ›´æœ‰æ•ˆç‡ï¼Œè€Œä¸”ä¼šè®©ä½ åœ¨å›¢é˜Ÿä¸­æ›´å—æ¬¢è¿ï¼Œé€šå¸¸ä¼šå¯¹ä½ æ‰€åšçš„äº‹æƒ…æ›´æ„Ÿå…´è¶£ã€‚

æ‰€æœ‰è¿™å››ä¸ªåŸå‹å‡½æ•°éƒ½æ¥å—ä¸€ä¸ªâ€œå›è°ƒâ€å‡½æ•°ï¼Œè¿™æ˜¯ä¸€ä¸ªçº¯ç²¹çš„å‡½æ•°ï¼Œæ¥å—å‚æ•°å¹¶å¿…é¡»å°†é¢„æœŸçš„ä¸œè¥¿è¿”å›ç»™è°ƒç”¨è€…ï¼Œæ— è®ºæ˜¯åƒ`true`æˆ–`false`è¿™æ ·çš„`boolean`ï¼Œè¿˜æ˜¯åƒ`String`ã€`Object`ã€`Array`æˆ–`Number`è¿™æ ·çš„ç±»å‹ã€‚

è®©æˆ‘ä»¬æ¥çœ‹çœ‹è¿™äº›æœ‰ç”¨çš„æ•°ç»„å‡½æ•°ï¼Œå¹¶å­¦ä¹ ä½¿æˆ‘ä»¬çš„ä»£ç æ›´åŠ ç®€æ´ï¼

# map-array . prototype . map()

![](img/98ca2a451829c5f883ffd1cb859a862b.png)

ç…§ç‰‡ç”±[Louis Hansel @ shotsoflouis](https://unsplash.com/@louishansel?utm_source=medium&utm_medium=referral)åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šæ‹æ‘„

`map`æ˜¯å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€çš„æ„å»ºæ¨¡å—ï¼Œå¹¶ä¸”ç»å¯¹æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„`Array`å‡½æ•°ã€‚

ä¾‹å¦‚ï¼Œè¿™ä¸€è¡Œä»£ç å°†éå†`ANIMALS`å¹¶åˆ›å»ºä¸€ä¸ª`Strings`æ•°ç»„ï¼Œå…¶ä¸­åŒ…å«å®ƒä»¬çš„åå­—å’ŒåŠ¨ç‰©ç±»å‹:

å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨ React æˆ– Vue è¿™æ ·çš„å‰ç«¯æ¡†æ¶ï¼Œæ‚¨å¯èƒ½å·²ç»ç†Ÿæ‚‰äº†`map`,åœ¨è¿™äº›æ¡†æ¶ä¸­ï¼Œæ‚¨ç»å¸¸éœ€è¦éå†ä¸€ç»„æ•°æ®æ¥ç”Ÿæˆ HTML:

```
<ul>
    {ANIMALS.map((animal) =>
        <li>
            {animal.name} ({animal.type})
        </li>
    )}
</ul>
â€‹
// produces:
<ul>
    <li>Spot (dog)</li>
    <li>Fluffy (cat)</li>
    <li>Peppy (bird)</li>
    <li>Lizzy (lizard)</li>
</ul>
```

`map`å‡½æ•°å¯¹äº*å°† X çš„æ•°ç»„è½¬æ¢æˆ Y çš„æ•°ç»„*éå¸¸æœ‰ç”¨ã€‚

# reduce-array . prototype . reduce()

`reduce`åŠŸèƒ½çš„ç”¨æ³•ä¸`map`ç›¸ä¼¼ï¼Œä½†æ›´è¿›ä¸€æ­¥ã€‚

ä»£æ›¿*å°† X çš„æ•°ç»„è½¬æ¢æˆ Y çš„æ•°ç»„* , `reduce`è¢«è®¾è®¡æˆ*å°† X çš„æ•°ç»„è½¬æ¢æˆ Y çš„æ•°ç»„*ï¼Œæ„æ€æ˜¯**ä½ ä¸ä»…ä»…å±€é™äºåšä¸€ä¸ªæ–°çš„æ•°ç»„**ã€‚

ä½ å¯ä»¥æŠŠä¸€ä¸ªæ•°ç»„å˜æˆ`Objects`ã€`Numbers`æˆ–è€…`Strings`ã€‚è¿™é‡Œæˆ‘ä»¬åˆè®¡ä¸€ä¸‹æ‰€æœ‰`ANIMALS`çš„æ€»é‡é‡:

`reduce`æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„æ•°ç»„å‡½æ•°ï¼Œå®ƒè¶³å¤Ÿçµæ´»ï¼Œå¯ä»¥äº§ç”Ÿå’Œ`map`ä¸€æ ·çš„æ•ˆæœã€‚çœ‹çœ‹è¿™ä¸ª`reduce`ç‰ˆæœ¬çš„`map`å‡½æ•°:

# Filter â€” Array.prototype.filter()

![](img/03acfccd811b9bbae76c09e2daaec0b3.png)

ç…§ç‰‡ç”± [Caleb Dow](https://unsplash.com/@calebscamera?utm_source=medium&utm_medium=referral) åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šæ‹æ‘„

`filter`å·¥ä½œèµ·æ¥å°±åƒå®ƒå¬èµ·æ¥ä¸€æ ·ï¼Œå¹¶ä¸”åªä»ä¸€ä¸ªæ•°ç»„ä¸­æ£€ç´¢é‚£äº›ä»ä½ çš„å›è°ƒå‡½æ•°ä¸­äº§ç”ŸçœŸå€¼çš„é¡¹ç›®ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¯»æ‰¾æ‹¥æœ‰æŸ”è½¯çš®æ¯›æˆ–ç¾½æ¯›çš„`ANIMALS`:

è¿™æ˜¯å¦ä¸€ä¸ªä¾‹å­ï¼Œç”¨æ•°å­¦æ¯”è¾ƒã€‚åªè¦å‡½æ•°è¿”å›ä¸€ä¸ª true/falsy å€¼ï¼Œå®ƒå°±ä¼šæŒ‰é¢„æœŸå·¥ä½œã€‚è¿™é‡Œæˆ‘ä»¬åªé€‰æ‹©é‡é‡å°äº 10 ç£…çš„`ANIMALS`:

# Find â€” Array.prototype.find()

æœ€åï¼Œæˆ‘ä»¬æœ‰`find`ï¼Œå®ƒå¸®åŠ©ä½ ä½¿ç”¨`callback`æœç´¢ä¸€ä¸ªæ•°ç»„ã€‚è¿™éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå®ƒæä¾›äº†ä¸€ä¸ªæ¥å£æ¥æœç´¢ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥æ•°ç»„è¿˜å¯ä»¥ä¸ä¸€ä¸ªåä¸º`findIndex`çš„å§å¦¹å‡½æ•°ä¸€èµ·å·¥ä½œã€‚

åªè¦æ‚¨çš„å‡½æ•°è¿”å›çœŸå€¼ï¼Œè¿”å›çš„ç¬¬ä¸€ä¸ª**çœŸå€¼å°†é€€å‡º`find`æœç´¢å¹¶ä»æ•°ç»„è¿”å›è¯¥è¡Œã€‚**

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬`find`ä¸€åªåå«æ–‘ç‚¹çš„ç‹—:

# ç»„åˆæ•°ç»„å‡½æ•°

![](img/e9fabceecdac622c4a91384f5205efaa.png)

ç…§ç‰‡ç”±[é˜¿é‡ŒÂ·å¶æµ·äºš](https://unsplash.com/@ayahya09?utm_source=medium&utm_medium=referral)åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šæ‹æ‘„

ç°åœ¨æ‚¨å·²ç»æŒæ¡äº†è¿™å››ä¸ªæ„å»ºæ¨¡å—åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒä»¬ç»“åˆåœ¨ä¸€èµ·:

ä¸Šé¢ï¼Œæˆ‘ä»¬é¦–å…ˆ`map`è¶…è¿‡æˆ‘ä»¬çš„`ANIMALS`å¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå®ƒä»¬çš„**é‡é‡**å’Œ**ç±»å‹**ï¼Œä¹Ÿå€Ÿæ­¤æœºä¼šå–‚å…»æ¯ä¸€ä¸ªã€‚æˆ‘ä»¬ç»™å®ƒä»¬å–‚é£Ÿï¼Œå®ƒä»¬å¯èƒ½ä¼šåœ¨è¿›é£Ÿåä½“é‡å¢åŠ  1%â€”â€”è¿™åªæ˜¯çŒœæµ‹ã€‚

ç„¶åæˆ‘ä»¬åªè¿‡æ»¤æ‰æœ‰çš®æ¯›æˆ–ç¾½æ¯›çš„åŠ¨ç‰©ï¼Œæ³¨æ„æˆ‘ä»¬åœ¨å–‚é£Ÿååšäº†è¿™ä¸ª*ï¼Œå› ä¸ºæˆ‘ä»¬ä¸æƒ³è®©èœ¥èœ´ Lizzy æŒ¨é¥¿ğŸ¦ï¼š*

`.filter((animal) => animal.type !== 'lizard') // only soft`

ç„¶åæˆ‘ä»¬è¿‡æ»¤æ‰è¶…è¿‡ä¸€å®šé‡é‡é™åˆ¶çš„åŠ¨ç‰©ï¼Œè¿™å°±å»é™¤äº†ç‹—çš„æ¡ç›®ğŸ•ï¼š

`.filter((animal) => animal.weight < 10) // only light (after eating)`

æœ€åï¼Œæˆ‘ä»¬å°†å‰©ä½™çš„åŠ¨ç‰©è¡Œç®€åŒ–ä¸ºä¸€ä¸ªå€¼ï¼Œä¸€ä¸ªä»£è¡¨å®ƒä»¬ä½“é‡çš„æ•°å­—ğŸˆğŸ¦ï¼š

`.reduce((weightSum, animal) => weightSum + animal.weight, 0); // get total weight`

å¤šäºäº†æ•°ç»„åŸå‹å’Œ JavaScript é­”æ³•ï¼Œæ‰€æœ‰è¿™äº›éƒ½å¯ä»¥è½»æ¾ã€å®Œç¾åœ°é“¾æ¥åœ¨ä¸€èµ·ã€‚