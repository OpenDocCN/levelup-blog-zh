<html>
<head>
<title>Proper Ways to Clone an Object in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScriptä¸­å…‹éš†å¯¹è±¡çš„æ­£ç¡®æ–¹æ³•</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/proper-ways-to-clone-an-object-in-javascript-c7dc41bab96c?source=collection_archive---------14-----------------------#2020-07-22">https://levelup.gitconnected.com/proper-ways-to-clone-an-object-in-javascript-c7dc41bab96c?source=collection_archive---------14-----------------------#2020-07-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/a0d6bcdcee3ef9372528237284bdcbd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3MBOGQB4P2dtrBud"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated"><a class="ae kf" href="https://unsplash.com/@bedeviere?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Bimata Prathama </a>åœ¨<a class="ae kf" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹æ‘„çš„ç…§ç‰‡</figcaption></figure><p id="92f4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">JavaScriptä¸­çš„å¯¹è±¡æ˜¯å¼•ç”¨å€¼ï¼Œå¯ä»¥å­˜å‚¨å¤æ‚çš„é”®å€¼å±æ€§ã€‚</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="c5c0" class="ln lo it lj b gy lp lq l lr ls">let story = {<br/>    title: 'Proper Ways to Copy(Clone) an Object in JavaScript',<br/>    author:{<br/>            name:'pkoulianos',<br/>            email:'petran@pkoulianos.com'<br/>    },<br/>    tags:['Javascript','programming']<br/>};</span></pre><p id="95a6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å¤åˆ¶ä¸€ä¸ªå¯¹è±¡å¯èƒ½æœ‰ç‚¹æ£˜æ‰‹ã€‚ä½†æ˜¯ä¸è¦æ‹…å¿ƒï¼Œåœ¨è¿™ä¸ªæ•…äº‹ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»å¦‚ä½•ä»¥é€‚å½“çš„æ–¹å¼å¤åˆ¶ä¸€ä¸ªå¯¹è±¡ã€‚</p><h1 id="3b73" class="lt lo it bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">1.è‡´å‘½çš„ğŸ˜¡å¤åˆ¶å¯¹è±¡çš„æ–¹å¼</h1><p id="6740" class="pw-post-body-paragraph kg kh it ki b kj mq kl km kn mr kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">å°è¯•å¤åˆ¶å¯¹è±¡çš„ä¸€ä¸ªè‡´å‘½æ–¹æ³•æ˜¯ä½¿ç”¨èµ‹å€¼<code class="fe mv mw mx lj b">=</code>æ“ä½œç¬¦ã€‚åŸå› æ˜¯èµ‹å€¼æ“ä½œç¬¦åªä¼šå°†å¼•ç”¨ä¼ é€’ç»™æ–°å˜é‡ã€‚</p><p id="3ece" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="e667" class="ln lo it lj b gy lp lq l lr ls">let car1 = { color:â€™whiteâ€™, type:â€™4X4' };// fatal way to copy an object<br/>let car2 = car1;//change the color property</span><span id="cd5d" class="ln lo it lj b gy my lq l lr ls">car2.color = â€˜redâ€™;</span><span id="f767" class="ln lo it lj b gy my lq l lr ls">console.log(car1);<br/><strong class="lj iu">// { color: 'red', type: '4X4' }</strong></span><span id="812f" class="ln lo it lj b gy my lq l lr ls">console.log(car2);<br/><strong class="lj iu">// { color: 'red', type: '4X4' }</strong></span></pre><p id="e009" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å¯¹è±¡<code class="fe mv mw mx lj b">car1</code>ï¼Œå¹¶ç”¨<code class="fe mv mw mx lj b">=</code>æ“ä½œç¬¦å°†å®ƒå¤åˆ¶åˆ°ä¸€ä¸ªæ–°çš„å˜é‡<code class="fe mv mw mx lj b">car2</code>ä¸­ï¼Œå¹¶ä¸”æˆ‘ä»¬æ”¹å˜äº†é¢œè‰²å±æ€§ã€‚æ‰“å°ä¸¤ä¸ªå¯¹è±¡æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ˜¯ç›¸åŒçš„ï¼ŒåŸå› æ˜¯<code class="fe mv mw mx lj b">car1</code>å’Œ<code class="fe mv mw mx lj b">car2</code>éƒ½æœ‰ç›¸åŒçš„å¯¹è±¡å¼•ç”¨ã€‚</p><h1 id="0c7d" class="lt lo it bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">2.å¾—åˆ°ä¸€ä¸ªæµ…è–„çš„ğŸ’§å¤åˆ¶</h1><blockquote class="mz na nb"><p id="da95" class="kg kh nc ki b kj kk kl km kn ko kp kq nd ks kt ku ne kw kx ky nf la lb lc ld im bi translated"><a class="ae kf" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" rel="noopener ugc nofollow" target="_blank"><em class="it"/></a><em class="it">æµ…å¤åˆ¶å°†æ‰€æœ‰</em> <a class="ae kf" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/propertyIsEnumerable" rel="noopener ugc nofollow" target="_blank"> <em class="it">å¯æšä¸¾çš„</em> </a> <em class="it"> </em> <a class="ae kf" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty" rel="noopener ugc nofollow" target="_blank"> <em class="it">è‡ªèº«å±æ€§</em> </a> <em class="it">ä»æºå¯¹è±¡å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ã€‚</em></p></blockquote><p id="18b8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç®€å•æ¥è¯´ï¼Œè‚¤æµ…çš„å¤åˆ¶<strong class="ki iu">ä¸ä¼šçœŸæ­£å¤åˆ¶</strong>:</p><ol class=""><li id="2197" class="ng nh it ki b kj kk kn ko kr ni kv nj kz nk ld nl nm nn no bi translated">æ•°ç»„ã€é›†åˆç­‰</li><li id="3555" class="ng nh it ki b kj np kn nq kr nr kv ns kz nt ld nl nm nn no bi translated">å†…éƒ¨å¯¹è±¡</li></ol><p id="c554" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç”¨<code class="fe mv mw mx lj b">Object.assign()</code>è·å¾—æµ…æ‹·è´</p><p id="6ac9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mv mw mx lj b">Object.assign()</code>ä¼šç»™ä½ ä¸€ä¸ªç›®æ ‡å¯¹è±¡çš„æµ…å±‚æ‹·è´:</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="fbd2" class="ln lo it lj b gy lp lq l lr ls">let post = {<br/>   title:'How to copy objects in JS',<br/>   tags:['js','js-basics','programming'],<br/>   date: new Date(),<br/>   author:{<br/>         name:'petros',<br/>         email:'petran@pkoulianos.com'<br/>   },<br/>   getAuthorData: function(){<br/>              return this.author.name+'-'+this.author.email;<br/>   }<br/>};let newPost = Object.assign({},post);<br/>newPost.title = 'I love js'<br/>newPost.tags[0] = 'web-programming'<br/>newPost.author.name = 'Petran';<br/>newPost.date = new Date(1970);console.log(post);<br/>console.log(newPost);//console output<br/>{ title: 'How to copy objects in JS',<br/>  tags: [ 'web-programming', 'js-basics', 'programming' ],<br/>  date: 2020-07-21T18:48:29.112Z,<br/>  author: { name: 'Petran', email: '<a class="ae kf" href="mailto:petran@pkoulianos.com" rel="noopener ugc nofollow" target="_blank">petran@pkoulianos.com</a>' },<br/>  getAuthorData: [Function: getAuthorData] }<br/>{ title: 'I love js',ğŸ˜€<br/>  tags: [ 'web-programming', 'js-basics', 'programming' ],ğŸ˜‚<br/>  date: 1970-01-01T00:00:01.970Z,ğŸ˜€<br/>  author: { name: 'Petran', email: '<a class="ae kf" href="mailto:petran@pkoulianos.com" rel="noopener ugc nofollow" target="_blank">petran@pkoulianos.com</a>' },ğŸ˜‚<br/>  getAuthorData: [Function: getAuthorData] }ğŸ˜€</span></pre><p id="a1b1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å¯¹è±¡<code class="fe mv mw mx lj b">post</code>ï¼Œå¹¶ç”¨<code class="fe mv mw mx lj b">Object.assign()</code>å°†å®ƒå¤åˆ¶åˆ°ä¸€ä¸ªæ–°çš„å˜é‡<code class="fe mv mw mx lj b">newPost</code>ä¸­ï¼Œå¹¶ä¸”æˆ‘ä»¬æ”¹å˜äº†æ‰€æœ‰çš„å±æ€§ã€‚æ‰“å°ä¸¤ä¸ªå¯¹è±¡æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæµ…æ‹·è´<code class="fe mv mw mx lj b">newPost</code>æ­£ç¡®åœ°æ‹·è´äº†<code class="fe mv mw mx lj b">title</code>ã€<code class="fe mv mw mx lj b">date</code>å’Œ<code class="fe mv mw mx lj b">getAuthorData</code>ï¼Œä½†æ˜¯<code class="fe mv mw mx lj b">tags</code>å’Œ<code class="fe mv mw mx lj b">author</code>è¢«å¼•ç”¨é€šè¿‡ã€‚</p><h1 id="35e7" class="lt lo it bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">ç”¨â€¦ Spreadè¿ç®—ç¬¦è·å¾—æµ…å±‚å‰¯æœ¬</h1><p id="1a94" class="pw-post-body-paragraph kg kh it ki b kj mq kl km kn mr kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">spreadæ“ä½œç¬¦è¿˜ä¼šå¾—åˆ°ç›®æ ‡å¯¹è±¡çš„ä¸€ä¸ªæµ…å±‚å‰¯æœ¬:</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="2200" class="ln lo it lj b gy lp lq l lr ls">/ *** / <br/><strong class="lj iu">let newPost = {...post}</strong><br/>/ *** /<br/>console.log(post);<br/>console.log(newPost);//console output</span><span id="5cb6" class="ln lo it lj b gy my lq l lr ls">{ title: 'How to copy objects in JS',<br/>  tags: [ 'web-programming', 'js-basics', 'programming' ],<br/>  date: 2020-07-21T18:48:29.112Z,<br/>  author: { name: 'Petran', email: '<a class="ae kf" href="mailto:petran@pkoulianos.com" rel="noopener ugc nofollow" target="_blank">petran@pkoulianos.com</a>' },<br/>  getAuthorData: [Function: getAuthorData] }</span><span id="77e1" class="ln lo it lj b gy my lq l lr ls">{ title: 'I love js',<br/>  tags: [ 'web-programming', 'js-basics', 'programming' ],<br/>  date: 1970-01-01T00:00:01.970Z,<br/>  author: { name: 'Petran', email: '<a class="ae kf" href="mailto:petran@pkoulianos.com" rel="noopener ugc nofollow" target="_blank">petran@pkoulianos.com</a>' },<br/>  getAuthorData: [Function: getAuthorData] }</span></pre><h1 id="2e0f" class="lt lo it bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">3.æ·±å…¥äº†è§£ğŸŒŠå¤åˆ¶</h1><p id="f06b" class="pw-post-body-paragraph kg kh it ki b kj mq kl km kn mr kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">ä¸€ä¸ªå¯¹è±¡çš„æ·±å±‚æ‹·è´å°†è§£å†³è·å¾—å†…éƒ¨å¯¹è±¡å’Œæ•°ç»„ã€é›†åˆç­‰çš„æ­£ç¡®æ‹·è´çš„ç§˜å¯†ï¼Œä½†æ˜¯æ—¥æœŸå¯¹è±¡å°†è¢«è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œå‡½æ•°å°†æ ¹æœ¬ä¸ä¼šè¢«æ‹·è´ã€‚</p><p id="7576" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨JSONå¯¹è±¡è·å¾—æ·±å±‚å‰¯æœ¬ã€‚</p><p id="ec89" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mv mw mx lj b"><strong class="ki iu">let targetObj = JSON.parse(JSON.stringify(sourceObj));</strong></code></p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="1fbd" class="ln lo it lj b gy lp lq l lr ls">/ *** / <br/>let newPost = JSON.parse(JSON.stringify(post));<br/>/ *** /<br/>console.log(post);<br/>console.log(newPost);//console output<br/>{ title: 'How to copy objects in JS',<br/>  tags: [ 'js', 'js-basics', 'programming' ],<br/>  date: 2020-07-21T18:54:35.964Z,<br/>  author: { name: 'petros', email: '<a class="ae kf" href="mailto:petran@pkoulianos.com" rel="noopener ugc nofollow" target="_blank">petran@pkoulianos.com</a>' },<br/>  getAuthorData: [Function: getAuthorData] }<br/>{ title: 'I love js',<br/>  tags: [ 'web-programming', 'js-basics', 'programming' ],<br/>  date: <strong class="lj iu">'2020-07-21T18:54:35.964Z'</strong>,ğŸ˜‚<br/>  author: { name: 'Petran', email: '<a class="ae kf" href="mailto:petran@pkoulianos.com" rel="noopener ugc nofollow" target="_blank">petran@pkoulianos.com</a>' } }</span></pre><p id="d313" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ‰“å°è¿™ä¸¤ä¸ªå¯¹è±¡æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ·±åº¦å‰¯æœ¬<code class="fe mv mw mx lj b">newPost</code>æ­£ç¡®åœ°å¤åˆ¶äº†<code class="fe mv mw mx lj b">title</code>ã€<code class="fe mv mw mx lj b">tags</code>å’Œ<code class="fe mv mw mx lj b">author</code>ï¼Œä½†æ˜¯<code class="fe mv mw mx lj b">date</code>è¢«è½¬æ¢ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œ<code class="fe mv mw mx lj b">getAuthorData</code>æ ¹æœ¬æ²¡æœ‰è¢«å¤åˆ¶ã€‚</p><h1 id="ba2a" class="lt lo it bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">5.ç»“è®º</h1><p id="a974" class="pw-post-body-paragraph kg kh it ki b kj mq kl km kn mr kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">æµ…æ‹·è´å’Œæ·±æ‹·è´å„æœ‰åˆ©å¼Šã€‚åœ¨æˆ‘ä»¬å†³å®šå“ªä¸ªå‰¯æœ¬æ˜¯æ­£ç¡®çš„ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»ç¡®å®šå¯¹è±¡çš„å±æ€§ã€‚</p><h1 id="defd" class="lt lo it bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">å‚è€ƒ</h1><ul class=""><li id="2dfc" class="ng nh it ki b kj mq kn mr kr nu kv nv kz nw ld nx nm nn no bi translated"><a class="ae kf" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" rel="noopener ugc nofollow" target="_blank">https://developer . Mozilla . org/en-US/docs/Web/JavaScript/Reference/Global _ Objects/Object/assign</a></li></ul><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="ny nz l"/></div></figure></div></div>    
</body>
</html>