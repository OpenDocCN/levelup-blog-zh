<html>
<head>
<title>How to do branch-based development</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何进行基于分支的开发</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-do-branch-based-development-3b9bcebd417b?source=collection_archive---------5-----------------------#2020-10-02">https://levelup.gitconnected.com/how-to-do-branch-based-development-3b9bcebd417b?source=collection_archive---------5-----------------------#2020-10-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/8e1f211a991713de05289aa1b0cc3c10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JeB0C2PdLXJLNtQOd-itlQ.jpeg"/></div></div></figure><p id="bdb7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">软件开发是一个内在的迭代过程。每次迭代都会改变代码，让软件系统做一些新的事情，改进已经做过的事情，或者删除不再需要的功能。这适用于所有类型的软件，从简短的shell脚本到拥有超过一百万行代码的代码库。</p><p id="fb58" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">基于分支的开发是一种非常适合迭代开发过程的工作方式。每个分支开始一个新的迭代，每个合并结束一个迭代。这个概念在理论上听起来简单而优雅，但不幸的是，它在实践中经常过于复杂或被误用。</p><p id="d614" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这篇操作指南中，我将向您展示如何从零开始，为一个小型的真实应用程序进行基于分支的开发。</p><h2 id="5db2" class="kz la it bd lb lc ld dn le lf lg dp lh km li lj lk kq ll lm ln ku lo lp lq lr bi translated">选择哪个分支工作流？</h2><p id="c606" class="pw-post-body-paragraph kb kc it kd b ke ls kg kh ki lt kk kl km lu ko kp kq lv ks kt ku lw kw kx ky im bi translated">您可能以前听说过不同的基于分支的开发工作流。目前最流行的工作流程是:</p><ul class=""><li id="a68e" class="lx ly it kd b ke kf ki kj km lz kq ma ku mb ky mc md me mf bi translated"><a class="ae mg" href="https://nvie.com/posts/a-successful-git-branching-model/" rel="noopener ugc nofollow" target="_blank"> GitFlow </a></li><li id="4d1a" class="lx ly it kd b ke mh ki mi km mj kq mk ku ml ky mc md me mf bi translated"><a class="ae mg" href="https://guides.github.com/introduction/flow/" rel="noopener ugc nofollow" target="_blank"> GitHub流量</a></li><li id="f1d3" class="lx ly it kd b ke mh ki mi km mj kq mk ku ml ky mc md me mf bi translated"><a class="ae mg" href="https://trunkbaseddevelopment.com/" rel="noopener ugc nofollow" target="_blank">基于主干的开发</a></li></ul><p id="418b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果你想深入了解，Martin Fowler写了一篇非常全面的文章(<a class="ae mg" href="https://martinfowler.com/articles/branching-patterns.html" rel="noopener ugc nofollow" target="_blank">管理源代码分支的模式</a>)，比较和评估了这些分支工作流。</p><p id="2afc" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这篇操作指南中，我将使用一个看起来非常类似于GitHub flow的工作流。GitHub flow因开源开发的GitHub fork模型而流行起来，但它肯定不局限于开源项目。GitHub flow是我见过的最简单、最安全的策略之一，它成功地应用于从独立项目到行业团队开发的系统的代码库。</p><p id="e67a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">其他工作流呢？</p><p id="1719" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">根据我的经验，GitFlow是一个复杂的分支策略，除非你的项目类型绝对需要，否则你应该避免使用它。<br/>基于主干的开发实际上完全避免了分支，但这并不是最容易开始的工作流程(尤其是在团队中)。如果您的分支规模小且寿命短，那么下面讨论的工作流比基于主干的开发更容易采用。</p><h2 id="c948" class="kz la it bd lb lc ld dn le lf lg dp lh km li lj lk kq ll lm ln ku lo lp lq lr bi translated">从零到发射🚀一次一个分支</h2><p id="d1f2" class="pw-post-body-paragraph kb kc it kd b ke ls kg kh ki lt kk kl km lu ko kp kq lv ks kt ku lw kw kx ky im bi translated">我将使用的迭代开发工作流有5个步骤:</p><ol class=""><li id="56c3" class="lx ly it kd b ke kf ki kj km lz kq ma ku mb ky mm md me mf bi translated">制造一个问题</li><li id="fbb6" class="lx ly it kd b ke mh ki mi km mj kq mk ku ml ky mm md me mf bi translated">创建分支</li><li id="5b47" class="lx ly it kd b ke mh ki mi km mj kq mk ku ml ky mm md me mf bi translated">做你的编码魔术✨</li><li id="8fe5" class="lx ly it kd b ke mh ki mi km mj kq mk ku ml ky mm md me mf bi translated">打开拉式请求</li><li id="0d2e" class="lx ly it kd b ke mh ki mi km mj kq mk ku ml ky mm md me mf bi translated">合并你的分支</li></ol><p id="f46e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">伴随这一过程而来的是使这一过程真正起作用的3条准则:</p><ol class=""><li id="1f1e" class="lx ly it kd b ke kf ki kj km lz kq ma ku mb ky mm md me mf bi translated">总是从主/主要分支分支，并且总是合并到主主要分支</li><li id="9aa6" class="lx ly it kd b ke mh ki mi km mj kq mk ku ml ky mm md me mf bi translated">你的分行必须是短命的(不超过2天的工作)</li><li id="67ee" class="lx ly it kd b ke mh ki mi km mj kq mk ku ml ky mm md me mf bi translated">合并不应该破坏主/主要分支</li></ol><p id="d212" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">就是这样！重复这5个步骤，一遍又一遍地遵循这3条指导方针，看着你的代码库成长壮大。</p><h2 id="6b7e" class="kz la it bd lb lc ld dn le lf lg dp lh km li lj lk kq ll lm ln ku lo lp lq lr bi translated">打招呼👋去背包</h2><p id="c7bc" class="pw-post-body-paragraph kb kc it kd b ke ls kg kh ki lt kk kl km lu ko kp kq lv ks kt ku lw kw kx ky im bi translated">为了向您展示基于分支的开发如何适用于现实世界的应用程序，我将从头开始构建一个小型命令行实用程序:Backpack</p><p id="e553" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Backpack是一个组织文件的工具，这些文件通常放在你的电脑上。想想您桌面上的文件，或者您个人文件夹中的文件。你不想永久保存这些文件(比如在Dropbox或Google drive上),但又对删除它们犹豫不决。这就是Backpack拯救你的桌面和个人文件夹的地方。</p><h2 id="4a2c" class="kz la it bd lb lc ld dn le lf lg dp lh km li lj lk kq ll lm ln ku lo lp lq lr bi translated">设置您的开发环境</h2><p id="466d" class="pw-post-body-paragraph kb kc it kd b ke ls kg kh ki lt kk kl km lu ko kp kq lv ks kt ku lw kw kx ky im bi translated">你可以按照这个指南中的所有步骤去做。<br/>首先，让我们创建一个新的存储库:进入<a class="ae mg" href="https://github.com" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上的存储库页面，点击绿色的“新建”按钮。在下一个屏幕上，创建一个名为“backpack”的公共存储库，其中包含一个自述文件:</p><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mn"><img src="../Images/1151b4cc183c2507541db662e979e3d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ySjUiFo1RUVa-1Mx6Xr8kg.png"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated">创建新的存储库</figcaption></figure><p id="f3db" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">从下一个屏幕中复制存储库URL，并在您的开发环境中进行克隆:</p><pre class="mo mp mq mr gt mw mx my mz aw na bi"><span id="21f4" class="kz la it mx b gy nb nc l nd ne">$ <strong class="mx iu">git clone </strong><a class="ae mg" href="mailto:git@github.com" rel="noopener ugc nofollow" target="_blank"><strong class="mx iu">git@github.com</strong></a><strong class="mx iu">:&lt;your-github-username&gt;/backpack.git</strong></span></pre><p id="b254" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">为了完成设置，我们将安装一个GitHub应用程序，它会自动从一个问题创建一个分支(这是我们工作流程的第一步)。<br/> <em class="nf">全披露:我是这个GitHub App的维护者。</em></p><p id="135a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">打开<a class="ae mg" href="https://github.com/apps/create-issue-branch" rel="noopener ugc nofollow" target="_blank">https://github.com/apps/create-issue-branch</a>并安装背包库(或你所有的库)的应用程序:</p><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ng"><img src="../Images/fe6193c3f1c8a42975c664b0518aa249.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iD_PM4ebRS_kOX5Sx8VtHA.png"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated">安装创建问题分支应用程序</figcaption></figure><p id="d4d7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">好了，我们现在准备开始我们的第一次开发迭代了！</p></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><h2 id="718b" class="kz la it bd lb lc ld dn le lf lg dp lh km li lj lk kq ll lm ln ku lo lp lq lr bi translated">步骤1:创建第一个问题</h2><p id="e55c" class="pw-post-body-paragraph kb kc it kd b ke ls kg kh ki lt kk kl km lu ko kp kq lv ks kt ku lw kw kx ky im bi translated">Backpack是一个命令行工具，所以我们的第一张票是设置所有必要的代码，通过在shell提示符下键入<code class="fe no np nq mx b">bp</code>来启动backpack。转到背包repo的问题页面，创建一个新问题“创建命令行命令:bp”:</p><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mn"><img src="../Images/7a5f6e10c70340d4809948d28e21c080.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D-BOJqluPWxCZ6myjyoe1Q.png"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated">制造问题</figcaption></figure><p id="377f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">点击“提交新问题”按钮，我们就完成了这一步。</p><h2 id="a6f0" class="kz la it bd lb lc ld dn le lf lg dp lh km li lj lk kq ll lm ln ku lo lp lq lr bi translated">步骤2:创建第一个分支</h2><p id="6d09" class="pw-post-body-paragraph kb kc it kd b ke ls kg kh ki lt kk kl km lu ko kp kq lv ks kt ku lw kw kx ky im bi translated">在问题#1的页面上，单击受托人后面的齿轮图标并选择您自己。此操作将触发创建问题分支应用程序创建一个名为<code class="fe no np nq mx b">issue-1-Create_command_line_interface_bp</code>的新分支</p><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mn"><img src="../Images/1f4cf06278f447e3742dcada43b2f21e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9oCSCu3bXskU_plP8WhA4w.png"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated">将您自己分配给该问题，将会自动创建一个分支</figcaption></figure><p id="9ce6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">更新您的本地存储库并切换到新创建的分支:</p><pre class="mo mp mq mr gt mw mx my mz aw na bi"><span id="b982" class="kz la it mx b gy nb nc l nd ne">$ <strong class="mx iu">cd backpack</strong><br/>[backpack] $ <strong class="mx iu">git pull</strong><br/>From github.com:robvanderleek/backpack<br/> * [new branch]      issue-1-Create_command_line_interface_bp -&gt; origin/issue-1-Create_command_line_interface_bp<br/>Already up to date.<br/>[backpack] $ <strong class="mx iu">git checkout issue-1-Create_command_line_interface_bp</strong><br/>Branch 'issue-1-Create_command_line_interface_bp' set up to track remote branch 'issue-1-Create_command_line_interface_bp' from 'origin'.<br/>Switched to a new branch 'issue-1-Create_command_line_interface_bp'</span></pre><p id="4ca6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在我们准备做一些编码工作！</p><h2 id="0fe1" class="kz la it bd lb lc ld dn le lf lg dp lh km li lj lk kq ll lm ln ku lo lp lq lr bi translated">第三步:编写魔法代码</h2><p id="dd39" class="pw-post-body-paragraph kb kc it kd b ke ls kg kh ki lt kk kl km lu ko kp kq lv ks kt ku lw kw kx ky im bi translated">第一个目标是创建一个可以从命令行调用的<code class="fe no np nq mx b">bp</code>命令。我们将使用NodeJS，所以请确保您已经安装了它<a class="ae mg" href="https://nodejs.org/en/download/package-manager/" rel="noopener ugc nofollow" target="_blank"/>。首先，我们将初始化一个新的NodeJS项目:</p><pre class="mo mp mq mr gt mw mx my mz aw na bi"><span id="f62e" class="kz la it mx b gy nb nc l nd ne">[backpack] $ <strong class="mx iu">npm init -y</strong><br/>Wrote to /Users/rob/projects/robvanderleek/backpack/package.json:</span><span id="4f31" class="kz la it mx b gy nr nc l nd ne">{<br/>  "name": "backpack",<br/>  "version": "1.0.0",<br/>  "description": "",<br/>  "main": "index.js",<br/>  "scripts": {<br/>    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1"<br/>  },<br/>  "repository": {<br/>    "type": "git",<br/>    "url": "git+<a class="ae mg" href="https://github.com/robvanderleek/backpack.git" rel="noopener ugc nofollow" target="_blank">https://github.com/robvanderleek/backpack.git</a>"<br/>  },<br/>  "keywords": [],<br/>  "author": "",<br/>  "license": "ISC",<br/>  "bugs": {<br/>    "url": "<a class="ae mg" href="https://github.com/robvanderleek/backpack/issues" rel="noopener ugc nofollow" target="_blank">https://github.com/robvanderleek/backpack/issues</a>"<br/>  },<br/>  "homepage": "<a class="ae mg" href="https://github.com/robvanderleek/backpack#readme" rel="noopener ugc nofollow" target="_blank">https://github.com/robvanderleek/backpack#readme</a>"<br/>}</span></pre><p id="f593" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">接下来，在存储库的根目录下创建一个名为<code class="fe no np nq mx b">index.js</code>的新文件，包含以下内容:</p><pre class="mo mp mq mr gt mw mx my mz aw na bi"><span id="150f" class="kz la it mx b gy nb nc l nd ne">#!/usr/bin/env node<br/>console.log("Welcome to Backpack!");</span></pre><p id="38ae" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">最后，将下面几行添加到<code class="fe no np nq mx b">package.json</code>配置对象中:</p><pre class="mo mp mq mr gt mw mx my mz aw na bi"><span id="4c4f" class="kz la it mx b gy nb nc l nd ne">"bin": {<br/>  "bp": "index.js"<br/>}</span></pre><p id="a234" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在，您可以全局安装该软件包。为了便于开发，NPM将创建指向您的存储库的符号链接:</p><pre class="mo mp mq mr gt mw mx my mz aw na bi"><span id="9b30" class="kz la it mx b gy nb nc l nd ne">[backpack]$ <strong class="mx iu">npm install -g</strong><br/>/usr/local/bin/bp -&gt; /usr/local/lib/node_modules/backpack/index.js<br/>+ backpack@1.0.0<br/>updated 1 package in 0.094s</span></pre><p id="4146" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">此时，您应该能够从终端运行<code class="fe no np nq mx b">bp</code>命令了:</p><pre class="mo mp mq mr gt mw mx my mz aw na bi"><span id="304a" class="kz la it mx b gy nb nc l nd ne">$ <strong class="mx iu">bp</strong><br/>Welcome to Backpack!</span></pre><p id="143d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">将新创建的文件添加到Git，然后将您的更改提交并推送到GitHub:</p><pre class="mo mp mq mr gt mw mx my mz aw na bi"><span id="4cde" class="kz la it mx b gy nb nc l nd ne">[backpack] $ <strong class="mx iu">git add index.js</strong><br/>[backpack] $ <strong class="mx iu">git add package.js<br/></strong>[backpack] $<strong class="mx iu"> git commit -m "Basic CLI"</strong><br/>[backpack] $ <strong class="mx iu">git push</strong></span></pre><p id="1b2e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">搞定了。你已经为下一步做好了准备</p><h2 id="fb2d" class="kz la it bd lb lc ld dn le lf lg dp lh km li lj lk kq ll lm ln ku lo lp lq lr bi translated">步骤4:打开第一个拉取请求</h2><p id="e9ad" class="pw-post-body-paragraph kb kc it kd b ke ls kg kh ki lt kk kl km lu ko kp kq lv ks kt ku lw kw kx ky im bi translated">转到GitHub.com上的库，在代码选项卡上单击“分支”，这将向您显示一个类似于以下内容的屏幕:</p><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mn"><img src="../Images/196ca1aed80e3eea73f663731fde24a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4z0zjwQ7rY1np1LyYWj0hw.png"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated">点击该屏幕中的“新拉动请求”</figcaption></figure><p id="41ee" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">单击其中一个“新拉动请求”按钮。</p><p id="8eeb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">下一个屏幕显示您将要创建一个Pull请求，用于将<code class="fe no np nq mx b">issue-1-Create_command_line_interface_bp</code>分支中的工作合并到存储库的<code class="fe no np nq mx b">master</code>分支中:</p><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mn"><img src="../Images/d25aacf810ad89c155984c87b2d5197c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wb8k1E16q7K9JIk58hKvPA.png"/></div></div></figure><p id="d282" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">单击绿色的“创建拉动式请求”按钮，瞧，您已经创建了此回购中的第一个PR。</p><h2 id="f48c" class="kz la it bd lb lc ld dn le lf lg dp lh km li lj lk kq ll lm ln ku lo lp lq lr bi translated">步骤5:合并分支</h2><p id="06ba" class="pw-post-body-paragraph kb kc it kd b ke ls kg kh ki lt kk kl km lu ko kp kq lv ks kt ku lw kw kx ky im bi translated">“拉动请求”屏幕为您提供了分支机构中发生的所有工作的概览:</p><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mn"><img src="../Images/19f80b3ba66f13181f7cdbb7fc669462.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ADnlavB7-A28EBF1O8kbLA.png"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated">这个屏幕上有关于你的拉取请求的所有信息</figcaption></figure><p id="45f4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您可以单击Commits选项卡来查看提交历史记录，或者单击“Files changed”选项卡来检查代码更改。</p><p id="743c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Pull Request屏幕上有更多的功能，例如要求某人审查您的代码或检查自动化代码检查的输出(例如:CI工具、测试结果或代码质量报告)。这超出了本指南的范围，但是我在CI/CD管道上的<a class="ae mg" href="https://medium.com/@robvanderleek/how-to-build-a-modern-ci-cd-pipeline-5faa01891a5b" rel="noopener">帖子是一个很好的后续指南。</a></p><p id="9031" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在，单击绿色的“合并拉取请求”按钮，然后单击“确认合并”按钮。合并后，您可以单击“删除分支”按钮。不要忘记删除问题(提示:创建问题分支应用程序<a class="ae mg" href="https://github.com/robvanderleek/create-issue-branch#automatically-close-issues-after-a-pull-request-merge" rel="noopener ugc nofollow" target="_blank">可以自动为您删除问题</a>)。</p><p id="dc64" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">要在GitHub上合并后更新您的本地存储库，请签出主分支并获取更改:</p><pre class="mo mp mq mr gt mw mx my mz aw na bi"><span id="e41f" class="kz la it mx b gy nb nc l nd ne">[backpack] $ <strong class="mx iu">git checkout master<br/></strong>[backpack] $ <strong class="mx iu">git pull</strong></span></pre><p id="b865" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><em class="nf">你可以在背包GitHub资源库</em>中找到这个 <a class="ae mg" href="https://github.com/robvanderleek/backpack/issues/1" rel="noopener ugc nofollow" target="_blank"> <em class="nf">问题</em> </a> <em class="nf">和</em> <a class="ae mg" href="https://github.com/robvanderleek/backpack/pull/2" rel="noopener ugc nofollow" target="_blank"> <em class="nf">拉-请求</em> </a> <em class="nf"/></p></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><h2 id="f3ca" class="kz la it bd lb lc ld dn le lf lg dp lh km li lj lk kq ll lm ln ku lo lp lq lr bi translated">去下一个分支！</h2><p id="a0a1" class="pw-post-body-paragraph kb kc it kd b ke ls kg kh ki lt kk kl km lu ko kp kq lv ks kt ku lw kw kx ky im bi translated">在开发迭代中，我们希望为用户添加一种方式，让用户可以将文件放入，并从他们的“背包”中获取文件。</p><p id="a573" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">让我们为此创建一个新票证:</p><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mn"><img src="../Images/adeb4d6b82b4515766921da2368241e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oO_P9Ave5h_IKN3fKY1vrQ.png"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated">第二期</figcaption></figure><p id="f3f5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在创建问题并将其分配给自己之后，将您的本地存储库切换到新创建的<code class="fe no np nq mx b">issue-3-Add_basic_put_and_get_support</code>分支，并将<code class="fe no np nq mx b">index.js</code>的内容更改为:</p><figure class="mo mp mq mr gt ju"><div class="bz fp l di"><div class="ns nt l"/></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated">索引. js</figcaption></figure><p id="3e76" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">新代码增加了将文件放入你的背包(用<code class="fe no np nq mx b">bp -i foo.txt</code>)并再次取回(用<code class="fe no np nq mx b">bp -e foo.txt</code>)的功能。文件存储在您主目录的一个文件夹中，该文件夹遵循<a class="ae mg" href="https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html" rel="noopener ugc nofollow" target="_blank"> XDG基本目录规范</a>指南。当你输入<code class="fe no np nq mx b">bp</code>时，还有一个友好的用法信息。</p><p id="6dfb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">提交代码并推送到GitHub。创建一个新的拉请求，检查您的更改，并将其合并到主分支中。然后，删除分支，删除问题，您就为第三次开发迭代做好了准备！</p><p id="7784" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><em class="nf">你可以在背包GitHub资源库</em>中找到这个 <a class="ae mg" href="https://github.com/robvanderleek/backpack/issues/3" rel="noopener ugc nofollow" target="_blank"> <em class="nf">问题</em> </a> <em class="nf">和</em> <a class="ae mg" href="https://github.com/robvanderleek/backpack/pull/4" rel="noopener ugc nofollow" target="_blank"> <em class="nf">拉-请求</em> </a> <em class="nf"/></p></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><h2 id="5119" class="kz la it bd lb lc ld dn le lf lg dp lh km li lj lk kq ll lm ln ku lo lp lq lr bi translated">让我们再做一个分支</h2><p id="4d95" class="pw-post-body-paragraph kb kc it kd b ke ls kg kh ki lt kk kl km lu ko kp kq lv ks kt ku lw kw kx ky im bi translated">使用一个简单的、基于问题的分支策略，可以让您始终将主/主要分支保持在可发布的状态(在您需要快速修复错误的情况下是必不可少的),同时致力于短期(=低风险！)特色分支。</p><p id="b71e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">让我们再做一个小功能分支:允许用户列出他们背包的内容。</p><p id="4e5d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您现在对开发流程相当熟悉，首先创建票证:</p><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mn"><img src="../Images/7e77913ad392f506bee69bf6e607220b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U8IxRKGC3VjKcl3YBFklTQ.png"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated">每次迭代都从一个新问题开始</figcaption></figure><p id="02d5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">切换到分支<code class="fe no np nq mx b">issue-5-Add_command_to_list_backpack_contents</code>，并将下面diff中显示的新代码行添加到<code class="fe no np nq mx b">index.js</code>:</p><figure class="mo mp mq mr gt ju"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="f9d6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">提交并推动更改，打开一个PR，将其合并到master/main，并通过键入以下内容来赞美您的劳动成果:</p><pre class="mo mp mq mr gt mw mx my mz aw na bi"><span id="e345" class="kz la it mx b gy nb nc l nd ne">$ <strong class="mx iu">bp -l<br/></strong>1: foo.txt</span></pre><p id="65e7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><em class="nf">你可以在背包GitHub库</em>中找到这个 <a class="ae mg" href="https://github.com/robvanderleek/backpack/issues/5" rel="noopener ugc nofollow" target="_blank"> <em class="nf">发布</em> </a> <em class="nf">和</em> <a class="ae mg" href="https://github.com/robvanderleek/backpack/pull/6" rel="noopener ugc nofollow" target="_blank"> <em class="nf">拉取请求</em> </a> <em class="nf"/></p></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><h2 id="af23" class="kz la it bd lb lc ld dn le lf lg dp lh km li lj lk kq ll lm ln ku lo lp lq lr bi translated">结论</h2><p id="c29a" class="pw-post-body-paragraph kb kc it kd b ke ls kg kh ki lt kk kl km lu ko kp kq lv ks kt ku lw kw kx ky im bi translated">虽然这里讨论的只是处理分支和拉请求的冰山一角，但是5个步骤的过程:</p><ol class=""><li id="f29c" class="lx ly it kd b ke kf ki kj km lz kq ma ku mb ky mm md me mf bi translated">制造一个问题</li><li id="5f8e" class="lx ly it kd b ke mh ki mi km mj kq mk ku ml ky mm md me mf bi translated">创建分支</li><li id="97c8" class="lx ly it kd b ke mh ki mi km mj kq mk ku ml ky mm md me mf bi translated">做你的编码魔术✨</li><li id="963f" class="lx ly it kd b ke mh ki mi km mj kq mk ku ml ky mm md me mf bi translated">打开拉式请求</li><li id="2b76" class="lx ly it kd b ke mh ki mi km mj kq mk ku ml ky mm md me mf bi translated">合并你的分支</li></ol><p id="a1a8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">使您能够在短时间内构建高级代码库，无论是自己还是在一个小团队中。每当你陷入一个分支，或者想做别的事情，总会有一个稳定的主分支可以依靠。</p><p id="0100" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">3项准则:</p><ol class=""><li id="118e" class="lx ly it kd b ke kf ki kj km lz kq ma ku mb ky mm md me mf bi translated">总是从主/主要分支分支，并且总是合并到主主要分支</li><li id="08fa" class="lx ly it kd b ke mh ki mi km mj kq mk ku ml ky mm md me mf bi translated">你的分行必须是短命的(不超过2天的工作)</li><li id="2764" class="lx ly it kd b ke mh ki mi km mj kq mk ku ml ky mm md me mf bi translated">合并不应该破坏主/主要分支</li></ol><p id="c66a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">保护您免受最常见的分支陷阱。指导方针不是严格的规则，你可能会不时地违反它们，但是要注意，每一次违反都会让你更接近一个陷阱，所以要认真对待这些指导方针。</p><p id="181d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">享受实践基于分支的开发的乐趣&amp;快乐编码！</p><div class="nu nv gp gr nw nx"><a href="https://github.com/robvanderleek/backpack" rel="noopener  ugc nofollow" target="_blank"><div class="ny ab fo"><div class="nz ab oa cl cj ob"><h2 class="bd iu gy z fp oc fr fs od fu fw is bi translated">robvanderleek/背包</h2><div class="oe l"><h3 class="bd b gy z fp oc fr fs od fu fw dk translated">在GitHub上创建一个帐户，为robvanderleek/backpack开发做贡献。</h3></div><div class="of l"><p class="bd b dl z fp oc fr fs od fu fw dk translated">github.com</p></div></div><div class="og l"><div class="oh l oi oj ok og ol jz nx"/></div></div></a></div></div></div>    
</body>
</html>