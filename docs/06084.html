<html>
<head>
<title>Building Jason Chess — Part 1: Rendering the Board and Pieces</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建Jason Chess —第1部分:渲染棋盘和棋子</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/building-jason-chess-part-1-rendering-the-board-and-pieces-b6cc039b8433?source=collection_archive---------0-----------------------#2020-10-25">https://levelup.gitconnected.com/building-jason-chess-part-1-rendering-the-board-and-pieces-b6cc039b8433?source=collection_archive---------0-----------------------#2020-10-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="20f5" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">一个正在进行的关于建立一个名为Jason Chess的React应用程序的系列，如果你的名字是Jason，你就不会输。</h2></div><h1 id="2c19" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">这都是什么？</h1><p id="7fd8" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">由于隔离，我对象棋上瘾了。我喜欢随机机会在游戏中扮演的小角色。相反，更好的球员是通过几个小时的痴迷学习表现出来的。越来越擅长国际象棋已经从我周围崩溃的世界中转移了很大的注意力，哈哈。</p><p id="3b19" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">作为一名工程师，我的工作是构建问题的解决方案，对吗？没错。好吧，我会找出存在的一个问题:每当我下棋输了。解决这个问题是我的工作。我的解决方案是:杰森·切斯。</p><p id="25d5" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">杰森国际象棋是一种国际象棋，如果你的名字是“杰森”，你就不会输。</p><p id="c5b1" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">本博客将跟踪杰森·切斯的发展。我的目标是给你提供一些有指导意义的东西，或者至少，我希望你能在这个想法中找到一些幽默。</p><p id="645d" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">我是一个初级开发人员，所以请原谅我的不精确。如果您有任何反馈，请评论或发邮件至<code class="fe ly lz ma mb b">jason.melton2@gmail.com</code>给我。</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mc"><img src="../Images/fec82079be239a698aad050c64f7a27d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yxZ63ZuwmeAxa4jb8GEIxA.png"/></div></div></figure><blockquote class="mo mp mq"><p id="8769" class="kx ky mr kz b la lt jr lc ld lu ju lf ms lv li lj mt lw lm ln mu lx lq lr ls ij bi translated"><a class="ae mv" href="https://github.com/cooljasonmelton/jason-chess" rel="noopener ugc nofollow" target="_blank"> <em class="iq">跳转到GitHub </em> </a></p></blockquote><h1 id="973f" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">呈现棋盘和棋子</h1><h2 id="b968" class="mw kg iq bd kh mx my dn kl mz na dp kp lg nb nc kr lk nd ne kt lo nf ng kv nh bi translated">目录</h2><ul class=""><li id="9312" class="ni nj iq kz b la lb ld le lg nk lk nl lo nm ls nn no np nq bi translated">初级垃圾</li><li id="94b9" class="ni nj iq kz b la nr ld ns lg nt lk nu lo nv ls nn no np nq bi translated">基本布局和菜单</li><li id="6b04" class="ni nj iq kz b la nr ld ns lg nt lk nu lo nv ls nn no np nq bi translated">渲染电路板</li><li id="9850" class="ni nj iq kz b la nr ld ns lg nt lk nu lo nv ls nn no np nq bi translated">渲染作品</li><li id="6e0c" class="ni nj iq kz b la nr ld ns lg nt lk nu lo nv ls nn no np nq bi translated">结论</li></ul><h2 id="0f29" class="mw kg iq bd kh mx my dn kl mz na dp kp lg nb nc kr lk nd ne kt lo nf ng kv nh bi translated">初级垃圾</h2><p id="605c" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">为了让这个坏男孩开始，我设置了一个create-react-app，删除了默认垃圾，并创建了一个GitHub库。在继续之前，我花了一些时间做计划。我喜欢按计划写作，所以我会在自述文件中保留一些注释，直到项目完成。</p><p id="4765" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">我把工作分成两部分:逻辑和渲染——非常类似于前端和后端的划分。然而，在这种情况下，我不会有一个真正的后端。</p><p id="21b2" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">棋盘的逻辑将是一个由八个数组组成的数组。每个数组的长度为8，代表棋盘上的64个空格。棋子将用两个字符串编码。</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi nw"><img src="../Images/42dc0a27ebdcef8099c38fa987464a19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RmRdKtoqPcKNQys0F8bfQg.png"/></div></div></figure><p id="a018" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">渲染将包括将<code class="fe ly lz ma mb b">boardArr</code>映射到相应的组件中。</p><h2 id="3fb8" class="mw kg iq bd kh mx my dn kl mz na dp kp lg nb nc kr lk nd ne kt lo nf ng kv nh bi translated">基本布局和菜单</h2><p id="ffa4" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">现在，我将保持页面简单。将有两个主要元素:棋盘和菜单。</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mc"><img src="../Images/fec82079be239a698aad050c64f7a27d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yxZ63ZuwmeAxa4jb8GEIxA.png"/></div></div></figure><p id="63cb" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">稍后，我还会在上面和下面添加一个框，用于输入玩家的姓名。记住，如果你输入“杰森”这个名字，你就不能被将死。</p><p id="5d71" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">我从<a class="ae mv" href="https://coolors.co/0a090c-f0edee-07393c-2c666e-90ddf0" rel="noopener ugc nofollow" target="_blank">Coolors.co</a>中挑选了一些颜色，并给<code class="fe ly lz ma mb b">App</code>组件添加了高度和宽度。我还创建了一个名为<code class="fe ly lz ma mb b">.cfb</code>(代表center flex box)的类，我用它在整个项目中居中放置东西。</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi nw"><img src="../Images/164b0927ce3d8da296d7ef1452418f3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mNqZI4RTxxEgDWid5Fel3w.png"/></div></div></figure><p id="625f" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">菜单是一个简单的组件，<code class="fe ly lz ma mb b">Navbar</code>:</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi nw"><img src="../Images/2d24a1e298f000229961d6cd100e455c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_JtSh0rnr_g1PDHV-byzBQ.png"/></div></div></figure><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi nw"><img src="../Images/fa2cf5305dbb1b89a41f2b9115b2d515.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hOXgKaDyYINPM-wnU3Lduw.png"/></div></div></figure><p id="6afd" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">我将在接下来的两节中介绍棋盘。</p><h2 id="3651" class="mw kg iq bd kh mx my dn kl mz na dp kp lg nb nc kr lk nd ne kt lo nf ng kv nh bi translated">渲染电路板</h2><p id="b2cd" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我对棋盘的计划是这样的:我将把我的<code class="fe ly lz ma mb b">boardArr</code>映射成64个div，这些div将使用CSS网格均匀显示。</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mc"><img src="../Images/10990cf3d2ffb4f7af4b3c70a5932683.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DIxzsOC-Hlu1PQV3EsndAQ.png"/></div></div></figure><p id="ef5a" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">我将展示整个<code class="fe ly lz ma mb b">Board</code>组件和CSS文件，并解释我的工作:</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi nx"><img src="../Images/2a1af081371bfe6911a964192237a99e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xvIYfrmfKqVWoy82fxYdaQ.png"/></div></div></figure><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi nx"><img src="../Images/912059b085441b26f1a0f380f1ef280d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i9sobjG5dT1c8OKt5Osulg.png"/></div></div></figure><p id="8410" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated"><code class="fe ly lz ma mb b">Board</code>得到了<code class="fe ly lz ma mb b">boardArr</code>作为道具。函数<code class="fe ly lz ma mb b">renderBoard()</code>映射<code class="fe ly lz ma mb b">boardArr</code>的每个等级，然后每个等级的每个方块返回一个div。这样我们就能拿到64分。</p><p id="07f8" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">我使用函数<code class="fe ly lz ma mb b">squareClass()</code>来确定每个方块的类名。亮方块得到一类<code class="fe ly lz ma mb b">cfb</code>，暗方块得到一类<code class="fe ly lz ma mb b">cfb dark</code>。如前所述，<code class="fe ly lz ma mb b">cfb</code>添加了一个居中的柔性框，<code class="fe ly lz ma mb b">dark</code>添加了一个浅蓝色的背景色。</p><p id="2812" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated"><code class="fe ly lz ma mb b">squareClass()</code>也决定了哪些方块是暗方块。我使用助手函数<code class="fe ly lz ma mb b">isEven()</code>来做这件事。从0开始，偶数行和奇数列是暗的，而在奇数行，偶数方块是暗的。我找到每个方块的等级和文件，并将<code class="fe ly lz ma mb b">dark</code>添加到适当的div中。</p><h2 id="7da8" class="mw kg iq bd kh mx my dn kl mz na dp kp lg nb nc kr lk nd ne kt lo nf ng kv nh bi translated">渲染作品</h2><p id="5e15" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我分两步渲染这些作品:</p><ol class=""><li id="01f4" class="ni nj iq kz b la lt ld lu lg ny lk nz lo oa ls ob no np nq bi translated">我创建了一个可以通过对象访问的图片库。</li><li id="ce2d" class="ni nj iq kz b la nr ld ns lg nt lk nu lo nv ls ob no np nq bi translated">我创建了一个动态函数，为<code class="fe ly lz ma mb b">boardArr</code>中的字符串代码插入正确的图像。</li></ol><p id="7743" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">我为棋子SVG找到了这个伟大的<a class="ae mv" href="https://commons.wikimedia.org/wiki/Category:SVG_chess_pieces" rel="noopener ugc nofollow" target="_blank">站点</a>。我将这些图片放在一个文件夹中，并创建了一个名为<code class="fe ly lz ma mb b">index.js</code>的文件。在那里，我创建了一个名为<code class="fe ly lz ma mb b">pieceObject</code>的对象，它根据与数组中的字符串代码相对应的键来访问图像。</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/cb128902392248492dec5c30eac4712a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/format:webp/1*QryHJt2YaMrXVvQhbsUs6A.png"/></div></figure><p id="b348" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">接下来，我将这个对象提供给一个名为<code class="fe ly lz ma mb b">PieceImg</code>的组件。</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi od"><img src="../Images/1b9ea709657b23ed42755cef0092e230.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mQs9kqS7hC7sZHCKJO0usw.png"/></div></div></figure><p id="91fa" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated"><code class="fe ly lz ma mb b">PieceImg</code>拿道具的棋子将是一个代码，就像<code class="fe ly lz ma mb b">bp</code>代表黑色棋子或者<code class="fe ly lz ma mb b">wn</code>代表白色骑士。<code class="fe ly lz ma mb b">pieceObject</code>查找相应的图像。同样，如果方块上没有块代码，<code class="fe ly lz ma mb b">piece</code>将指向<code class="fe ly lz ma mb b">false</code>，我将返回一个空的div。</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi od"><img src="../Images/565602959896bf835bcfa6bdddba3c41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A8ZCBqzAuilnM3HmYlBQOA.png"/></div></div></figure><p id="e1b9" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">再看一下<code class="fe ly lz ma mb b">Board</code>中的<code class="fe ly lz ma mb b">renderBoard()</code>功能。在这里你可以看到<code class="fe ly lz ma mb b">PieceImg</code>正在被喂一个片码或者<code class="fe ly lz ma mb b">false</code>的道具。</p><h2 id="dbe2" class="mw kg iq bd kh mx my dn kl mz na dp kp lg nb nc kr lk nd ne kt lo nf ng kv nh bi translated">结论</h2><p id="60dd" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">非常感谢你的阅读。我再次假设有一些很好的方法来制作象棋游戏。我想出了这个办法，并磨出了虫子。我相信有更好的方法，所以我喜欢你的反馈。请给我留言或发邮件。</p><p id="7f56" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">这将是一个正在进行的项目，所以我可能会与博客不一致，但我感谢你阅读。</p><p id="5798" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">最好的，杰森</p></div></div>    
</body>
</html>