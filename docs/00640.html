<html>
<head>
<title>Introduction to Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Node.js简介</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/introduction-to-nodejs-fb9a6f540be9?source=collection_archive---------5-----------------------#2019-06-14">https://levelup.gitconnected.com/introduction-to-nodejs-fb9a6f540be9?source=collection_archive---------5-----------------------#2019-06-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="c76a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Node.js是一个开源的跨平台JavaScript运行时环境。它运行在V8 JavaScript引擎(Google Chrome的核心)上，允许JavaScript在浏览器之外的任何平台上运行。JavaScript代码可以在任何安装了Nodejs的系统上运行。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/9ae6d5fc4344a18944e37f3cae52f966.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m5RYM_Wkj4LsZewpigV5tg.jpeg"/></div></div></figure><h1 id="5c43" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated"><strong class="ak"> Nodejs背景</strong></h1><p id="e737" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">Node.js的创建者Ryan Dhal在2009年的JS-EU会议上首次将node . JS引入社区。他发现了I/O阻塞的问题，以及JavaScript如何成为让主流程序员在服务器上进行异步编程的完美语言。他的演讲受到了起立鼓掌欢迎。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/b7490d301fb6232aa8ed8a8b183451c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/format:webp/1*Ga5ph8kEP-TSHd7cwTCPPQ.png"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">Ryan Dhal在2009年JS-EU会议上的发言人简介</figcaption></figure><p id="88b8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在击败Ruby on Rails和jQuery等重量级项目后，Node.js成为Github上最受欢迎的项目之一。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mf"><img src="../Images/4a680528deb5392445871170b6b93d83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ri4bvhl7iLSwnnajU3iQ3Q.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">github上的节点报告</figcaption></figure><h1 id="f143" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">跨平台</h1><p id="65f6" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">Node.js是跨平台的。它可以在Windows、Unix和Mac OS X上运行。</p><h1 id="a180" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">NPM(节点包经理)</h1><p id="20d2" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">与节点一起自动安装</p><p id="4787" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">命令:<code class="fe mg mh mi mj b">npm help</code> | <code class="fe mg mh mi mj b">install</code> | <code class="fe mg mh mi mj b">ls</code> | <code class="fe mg mh mi mj b">search</code></p><p id="77eb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">软件包可以通过-g进行本地或全局安装(对于将软件包用作命令行工具很有用)</p><p id="db85" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Npm安装将创建一个目录。/节点模块/</p><h1 id="e642" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated"><strong class="ak"> Nodejs构建模块</strong></h1><p id="ac87" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">一个事件循环和一个低级I/O API调用Libuv，Google Chrome的V8和自定义C++，以及专门为Node.js平台本身开发的JavaScript代码。这三样东西组成了Nodejs平台。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/f58408482e07dd3935e41e51195aebe0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1092/format:webp/1*j8fVKts9GpweMifdeLl6Cg.png"/></div></figure><h1 id="b0b1" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">事件循环</h1><p id="c494" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">事件循环通过将操作卸载到系统内核(操作系统的核心)，允许Node.js执行非阻塞I/O操作，即使JavaScript是单线程的。当这些操作中的一个完成时，内核告诉Node.js适当的回调可以被添加到轮询队列中以最终被执行。</p><h1 id="d042" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated"><strong class="ak">node . js启动时</strong></h1><ol class=""><li id="f862" class="ml mm iq jp b jq lv ju lw jy mn kc mo kg mp kk mq mr ms mt bi translated">初始化事件循环</li><li id="ab17" class="ml mm iq jp b jq mu ju mv jy mw kc mx kg my kk mq mr ms mt bi translated">处理提供的输入脚本。这可以进行异步API调用，调度定时器，或者调用<code class="fe mg mh mi mj b">process.nextTick()</code>。</li><li id="8148" class="ml mm iq jp b jq mu ju mv jy mw kc mx kg my kk mq mr ms mt bi translated">开始处理事件循环，直到没有更多的事件可用</li></ol><h1 id="45f6" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated"><strong class="ak">事件循环结构</strong></h1><p id="c7f8" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">由阶段组成。每个阶段都有一个FIFO(先进先出)回调队列来执行。</p><p id="30e3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在每个阶段，Node.js运行特定于该阶段的任何操作，然后在该阶段的队列中运行回调，直到执行了空队列或最大数量的回调，然后移动到下一个阶段。</p><p id="d799" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">由于任何操作都可能调度更多的操作，并且在轮询阶段处理的新事件由内核排队，所以轮询事件可以在处理轮询事件的同时排队。</p><p id="9779" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在事件循环的每次运行之间，Node.js检查它是否在等待任何异步I/O或计时器，如果没有，就彻底关闭。</p><p id="431e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">定时器:</strong>执行<code class="fe mg mh mi mj b">setTimeout()</code>和<code class="fe mg mh mi mj b">setInterval()</code>安排的回调。计时器指定阈值，在该阈值之后可以执行所提供的回调，而不是人们希望它运行的确切时间。</p><p id="9c4b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">挂起的I/O回调</strong>:执行除关闭回调、定时器调度的回调和<code class="fe mg mh mi mj b">setImmediate</code>之外的几乎所有回调。</p><p id="22e4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">闲置，准备:</strong>仅供内部使用。</p><p id="c4e1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">轮询:</strong>检索新的I/O事件；节点将在适当的时候阻塞这里。</p><p id="cd15" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">两个主要功能:</p><ol class=""><li id="390c" class="ml mm iq jp b jq jr ju jv jy mz kc na kg nb kk mq mr ms mt bi translated">为超过阈值的计时器执行脚本，然后</li><li id="8f35" class="ml mm iq jp b jq mu ju mv jy mw kc mx kg my kk mq mr ms mt bi translated">处理轮询队列中的事件。</li></ol><h1 id="7102" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">模块和包</h1><p id="98cd" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">模块是可以由Node.js使用<code class="fe mg mh mi mj b">require()</code>加载的任何文件或目录。</p><p id="b333" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">包是一个由<code class="fe mg mh mi mj b">package.json</code>描述的文件或目录。</p><p id="a4db" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在Node.js模块系统中，每个文件都被视为一个单独的模块</p><pre class="km kn ko kp gt nc mj nd ne aw nf bi"><span id="ce94" class="ng ky iq mj b gy nh ni l nj nk">// mymodule.js</span><span id="6ed2" class="ng ky iq mj b gy nl ni l nj nk">const anotherModule = require(‘anotherModule’)</span><span id="f4c0" class="ng ky iq mj b gy nl ni l nj nk">console.log(module);</span></pre><p id="10ba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在每个模块中，模块自由变量是对代表当前模块的对象的引用。</p><p id="f956" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当一个文件直接从Node.js运行时，<code class="fe mg mh mi mj b">require.main</code>被设置为它的模块。这意味着可以通过测试<code class="fe mg mh mi mj b">require.main===module</code>直接确定文件是否已经运行。</p><p id="9ccf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于一个<code class="fe mg mh mi mj b">file foo.js</code>，如果通过节点<code class="fe mg mh mi mj b">foo.js</code>运行则为<code class="fe mg mh mi mj b">true</code>，如果通过<code class="fe mg mh mi mj b">require(‘./foo’)</code>运行则为false，因为模块提供了一个filename属性，可以通过检查<code class="fe mg mh mi mj b">require.main.filename</code>获得当前app的入口点。</p><h1 id="53b6" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated"><strong class="ak">核心模块</strong></h1><p id="e14f" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">核心模块被编译成节点二进制分布，并在节点进程启动时自动加载。尽管如此，为了在您的应用程序中使用，这些仍然需要被导入。</p><p id="ffe7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一些核心模块:<strong class="jp ir"> http，url，querystring，path，fs，util。</strong></p><h1 id="187f" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">实践中的Node.js</h1><p id="5153" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated"><strong class="jp ir"> JavaScript </strong></p><p id="d380" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">分型:</strong>动态，弱</p><p id="c907" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">多范例:</strong>命令式、面向对象、函数式、事件驱动。</p><p id="4894" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">标准:</strong> ECMAScript — ES'2015 (ES6):类、模块、生成器、箭头函数、承诺。</p><p id="2a77" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">受</strong>影响:Java，C，Python。</p><p id="cd1f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">原始类型</strong>:数字、字符串、布尔、空、未定义。</p><h1 id="693e" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">例子</h1><pre class="km kn ko kp gt nc mj nd ne aw nf bi"><span id="0b98" class="ng ky iq mj b gy nh ni l nj nk">var x = 10.7; // hoisted at global or function level</span><span id="0082" class="ng ky iq mj b gy nl ni l nj nk">const y = “hello”; // block-level scoped</span><span id="0e68" class="ng ky iq mj b gy nl ni l nj nk">var arr = [1,2,3];</span><span id="51c7" class="ng ky iq mj b gy nl ni l nj nk">for(var i = 0; i&lt;arr.length; i++) {<br/>  console.log(arr[i]);<br/>}</span></pre><h1 id="73b7" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">学习途径和资源</h1><p id="904d" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">要学习Node.js，你需要3样东西。</p><ul class=""><li id="d423" class="ml mm iq jp b jq jr ju jv jy mz kc na kg nb kk nm mr ms mt bi translated">JavaScript知识</li><li id="cb7c" class="ml mm iq jp b jq mu ju mv jy mw kc mx kg my kk nm mr ms mt bi translated">了解服务器端如何工作</li><li id="99a1" class="ml mm iq jp b jq mu ju mv jy mw kc mx kg my kk nm mr ms mt bi translated">节点. js</li></ul><p id="e2d5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">教程</strong></p><p id="9ba1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae nn" href="https://gitconnected.com/learn/node-js" rel="noopener ugc nofollow" target="_blank">学习Node.js —最佳Node.js教程</a> <br/> <a class="ae nn" href="https://ilovecoding.org/courses/learn-node-js-in-a-week/" rel="noopener ugc nofollow" target="_blank">通过视频截屏一周学习Node JS</a><br/><a class="ae nn" href="http://nodeschool.io/" rel="noopener ugc nofollow" target="_blank">Node school</a><br/><a class="ae nn" href="http://nodeguide.com/" rel="noopener ugc nofollow" target="_blank">Felix的Node.js指南</a><br/><a class="ae nn" href="http://nodetuts.com/" rel="noopener ugc nofollow" target="_blank">Node Tuts</a><br/><a class="ae nn" href="http://net.tutsplus.com/tutorials/javascript-ajax/node-js-for-beginners/" rel="noopener ugc nofollow" target="_blank">Node . JS适合初学者</a> <br/> Thinkful <a class="ae nn" href="https://www.thinkful.com/bootcamp/web-development/flexible/" rel="noopener ugc nofollow" target="_blank"> Web开发训练营</a>|<a class="ae nn" href="https://www.thinkful.com/courses/learn-nodejs-online/" rel="noopener ugc nofollow" target="_blank">Node技能课程</a></p><p id="17ad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">书籍</strong></p><p id="e6b2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae nn" href="http://nodebeginner.org/" rel="noopener ugc nofollow" target="_blank">Node初学者书籍</a> <br/> <a class="ae nn" href="http://visionmedia.github.com/masteringnode/" rel="noopener ugc nofollow" target="_blank">熟练掌握Node.js </a> <br/> <a class="ae nn" href="http://chimera.labs.oreilly.com/books/1234000001808/index.html" rel="noopener ugc nofollow" target="_blank">启动并运行Node.js </a> <br/> <a class="ae nn" href="http://www.manning.com/cantelon/" rel="noopener ugc nofollow" target="_blank"> Node.js在行动</a> <br/> <a class="ae nn" href="http://amzn.com/B008Z5OEUY" rel="noopener ugc nofollow" target="_blank">粉碎Node . js:JavaScript ever wher</a><br/><a class="ae nn" href="http://www.amazon.de/dp/389864829X" rel="noopener ugc nofollow" target="_blank">Node . js&amp;co .(德文)</a> <br/> <a class="ae nn" href="http://jsbooks.revolunet.com/" rel="noopener ugc nofollow" target="_blank">最详细的免费JavaScript书籍列表</a></p></div></div>    
</body>
</html>