<html>
<head>
<title>JavaScript Best Practices — Using Libraries and Shortcuts That are Clear</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript最佳实践—使用清晰的库和快捷方式</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/javascript-best-practices-using-libraries-and-shortcuts-that-are-clear-5959328953df?source=collection_archive---------19-----------------------#2020-02-07">https://levelup.gitconnected.com/javascript-best-practices-using-libraries-and-shortcuts-that-are-clear-5959328953df?source=collection_archive---------19-----------------------#2020-02-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/2d8f20e5f6c7060bae0f9f5f4cfa23d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vGBjYEwwZksLsDZy"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">苏珊·尹在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="bc2c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">像任何其他编程语言一样，JavaScript有自己的最佳实践列表，使程序更容易阅读和维护。JavaScript有很多棘手的部分，所以我们应该避免降低代码质量的事情。通过遵循最佳实践，我们可以创建优雅且易于管理的代码，任何人都可以轻松使用。</p><p id="b68f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将讨论如何使用库、使用有意义的快捷方式、从数组构建字符串的捷径，以及了解开发和实时代码之间的区别。</p><h1 id="3f2a" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">使用存在的库</h1><p id="d45e" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">如果有人已经做了一个库来做我们想做的事情，我们应该使用这个库，而不是从头再写一遍。</p><p id="fb5d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">重新发明轮子是一个耗时的过程，然后测试所有的情况需要更长的时间。</p><p id="65a2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这意味着我们应该使用库来加速软件开发，而不是重新发明轮子。</p><p id="b258" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如今，客户端应用程序比以往任何时候都更加复杂，用户希望在我们编写的应用程序中获得流畅的用户体验。这意味着从头开始编写所有东西几乎是不可能的。</p><p id="0bf1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这也是Angular、React、Vue这样的框架越来越受欢迎的原因。一切都用普通JavaScript编写的糟糕的旧时代已经一去不复返了。</p><p id="bd5a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">前端开发不再仅仅是在我们的后端应用程序上添加一些东西。</p><p id="d449" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，当我们学习JavaScript时，我们仍然应该首先通过编写普通的JavaScript代码来学习，以了解使这些库和框架工作的原理。</p><p id="fbf6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如今，客户端应用程序已经足够复杂，很难避免使用大量的库来构建一些功能性的东西。</p><h1 id="ba17" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">开发代码和实时代码的区别</h1><p id="51ca" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们读写的代码库不应该被误认为是正在运行的代码。</p><p id="adf5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们遵循在线社区列出的最佳实践，大多数浏览器都会优化代码。</p><p id="4634" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">浏览器在运行时把我们写的代码转换成机器码，让它运行得更快。</p><p id="1c59" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，许多客户端应用程序现在都有一个相关的构建过程，通过缩小代码并将冗余代码合并到一个地方等方式来优化代码。</p><p id="10ac" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这意味着我们应该为了可读性和可维护性而构建代码，而不是试图让我们认为会使代码运行得更快的代码变得难以阅读。</p><p id="fd33" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">浏览器不再从脚本文件逐行运行代码。</p><h1 id="743c" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">当有意义时，使用速记</h1><p id="dbea" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">JavaScript中一些较老的缩写令人困惑。例如，如果我们运行以下代码:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="7639" class="mq lf it mm b gy mr ms l mt mu">if(false)<br/>   var x = false<br/>   let y = 0<br/>console.log(x, y)</span></pre><p id="8adb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们记录了<code class="fe mv mw mx mm b">undefined</code>和0。<code class="fe mv mw mx mm b">undefined</code>有道理，但是为什么<code class="fe mv mw mx mm b">y</code>是0呢？这是因为<code class="fe mv mw mx mm b">y</code>的申报实际上不属于<code class="fe mv mw mx mm b">if</code>区块。</p><p id="165c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以看到，没有花括号的<code class="fe mv mw mx mm b">if</code>语句令人困惑。只有<code class="fe mv mw mx mm b">if</code>语句后的第一行被认为是在<code class="fe mv mw mx mm b">if</code>块内。</p><p id="7d45" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，我们应该始终用花括号将我们的<code class="fe mv mw mx mm b">if</code>块括起来。</p><p id="a81f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">上面代码片段的另一个问题是我们没有分号。这是另一个问题，因为当不知道线在哪里结束。最好在末尾加上分号，这样就清楚了。</p><p id="e31f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，从ES6开始，我们有了很多非常有用且不会混淆的简写。</p><p id="48ad" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，spread和rest操作符分别对于复制或组合对象以及获取数组中的参数非常有用。</p><p id="c008" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">扩展运算符可以按如下方式使用:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="b66c" class="mq lf it mm b gy mr ms l mt mu">const obj1 = { foo: 1, bar: 2 }, obj2 = { baz: 3 };<br/>const obj3 = { ...obj1, ...obj2 };</span></pre><p id="e65e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们得到<code class="fe mv mw mx mm b">obj3</code>的值:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="236b" class="mq lf it mm b gy mr ms l mt mu">{ foo: 1, bar: 2, baz: 3 }</span></pre><p id="3249" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">rest操作符使用相同的3个点，但是作用于函数。例如，我们可以用rest运算符编写一个函数，如下所示:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="3935" class="mq lf it mm b gy mr ms l mt mu">const add = (a, b, ...rest) =&gt; {<br/>  return a + b + rest.reduce((a, b) =&gt; a + b, 0);<br/>}</span></pre><p id="05e5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">其中<code class="fe mv mw mx mm b">...rest</code>是一个数组，其参数不是前2个。</p><p id="9fb1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那么我们可以这样称呼它:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="102d" class="mq lf it mm b gy mr ms l mt mu">console.log(add(1, 2));<br/>console.log(add(1, 2, 3));<br/>console.log(add(1, 2, 3, 4, 5));</span></pre><p id="7800" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们分别得到3，6和15。</p><p id="e58e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一个方便而清晰的快捷方式是析构赋值语法。它对对象和数组都有效。例如，我们可以将数组析构为变量，如下所示:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="94ab" class="mq lf it mm b gy mr ms l mt mu">const [a, b] = [1, 2];<br/>console.log(a, b);</span></pre><p id="50f9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">同样，对于对象，我们可以写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="1c55" class="mq lf it mm b gy mr ms l mt mu">const {<br/>  foo,<br/>  bar<br/>} = {<br/>  foo: 1,<br/>  bar: 2<br/>};<br/>console.log(foo, bar);</span></pre><p id="8404" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在两个例子中，我们分别为<code class="fe mv mw mx mm b">a</code>和<code class="fe mv mw mx mm b">b</code>得到1和2。</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi my"><img src="../Images/48862894de3524becdbaa2d319e14954.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-6QH_lmXFBytVb4G"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@hnyuuu?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">何</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></figcaption></figure><h1 id="c5cf" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">构建字符串的最短方法</h1><p id="7a39" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">在JavaScript中，从字符串数组构建字符串有多种方式。一种方法是使用如下循环:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="cccb" class="mq lf it mm b gy mr ms l mt mu">const arr = ['foo', 'bar', 'baz'];<br/>let str = '';<br/>for (let i = 0; i &lt; arr.length; i++) {<br/>  str += arr[i];<br/>  if (i !== arr.length - 1) {<br/>    str += ',';<br/>  }<br/>}</span></pre><p id="fd1d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一种方法是使用内置到数组对象中的<code class="fe mv mw mx mm b">join</code>方法:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="c8ff" class="mq lf it mm b gy mr ms l mt mu">const arr = ['foo', 'bar', 'baz'];<br/>let str = arr.join(',');</span></pre><p id="ade0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正如我们所看到的，循环要复杂得多，因此也更容易出错。我们必须遍历数组，连接每个条目，如果不是最后一个条目，就在它后面加一个逗号。</p><p id="7f01" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一方面，<code class="fe mv mw mx mm b">join</code>方法只是用一行逗号连接数组条目。</p><p id="f907" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">今天的JavaScript应用程序比以往更加复杂。这就是为什么我们应该使用库和框架来构建应用程序，以使我们的生活更加轻松。</p><p id="ee3d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这也意味着我们应该编写使开发变得容易的代码，而不是考虑如何适应浏览器。然而，在编写代码时，我们仍然应该考虑性能。</p><p id="3a0a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，我们还应该使用快捷方式，使开发和阅读代码变得容易。ES6或更高版本引入的大多数快捷方式都具有这两个特征。像编写不带花括号的<code class="fe mv mw mx mm b">if</code>语句这样的更古老的快捷方式则不是。</p><p id="7539" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，我们应该使用现有的方法来简化代码。例如，当从字符串数组中生成逗号分隔的字符串时，我们可以使用<code class="fe mv mw mx mm b">join</code>方法，而不是编写循环来完成。</p></div></div>    
</body>
</html>