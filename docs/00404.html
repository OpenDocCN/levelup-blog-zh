<html>
<head>
<title>A first look at StanfordNLP — A Python library ready to process 53 human languages</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Stanford NLP——一个可以处理53种人类语言的Python库</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/first-look-at-stanfordnlp-2b7d43190957?source=collection_archive---------2-----------------------#2019-02-08">https://levelup.gitconnected.com/first-look-at-stanfordnlp-2b7d43190957?source=collection_archive---------2-----------------------#2019-02-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/8d05443cda4f7dc44a6b58f7802dda21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nPmL459GOwL0HkfWvOYMLQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">由mauricio Santos在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="a77e" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">介绍</h1><p id="1f93" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">StanfordNLP是一个Python库，它解决了许多常见的自然语言处理问题。数据科学家和Python开发人员很容易理解这种用法。这个库是由斯坦福大学的自然语言处理小组开发的。</p><h1 id="01df" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">语言</h1><p id="f12c" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">StanfordNLP配备了针对<a class="ae kc" href="https://stanfordnlp.github.io/stanfordnlp/installation_download.html#human-languages-supported-by-stanfordnlp" rel="noopener ugc nofollow" target="_blank"> 53种人类语言</a>的预训练深度学习模型，并使用<a class="ae kc" href="https://pytorch.org/" rel="noopener ugc nofollow" target="_blank"> PyTorch </a>作为其机器学习基础设施</p><p id="2096" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">每种语言都有一个<a class="ae kc" href="https://en.wikipedia.org/wiki/Treebank" rel="noopener ugc nofollow" target="_blank">树库</a>，这是一个庞大的文本数据集，已经针对语法结构和/或语义内容进行了可靠的注释。对于某些语言，这个库提供了不止一个树库。</p><p id="56b5" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">如果您必须拥有自己的带注释的语料库(这并不经常发生！)你可以基于你的语料库训练一个新的模型。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/d9c7aa05cfa01642115cb26f6d77f82f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oyp0lPpHG5oR7wZIUd__3g.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">解析句子！</figcaption></figure><h1 id="2fa1" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">范围</h1><p id="0562" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">该库有助于以下任务:</p><ul class=""><li id="6b5d" class="mi mj iq ld b le lz li ma lm mk lq ml lu mm ly mn mo mp mq bi translated">取一个给定的文本，将其拆分成句子和单词(标记化)。标记化会将一个文本(“土拨鼠吸引注意力的日子”)转换成一个由七个单词组成的序列(“the”、“day”、“of”、“The”、“土拨鼠”、“吸引”、“注意力”)。</li><li id="3de9" class="mi mj iq ld b le mr li ms lm mt lq mu lu mv ly mn mo mp mq bi translated">给一个给定的单词分配一个基本形式(词汇化)。一个引理器会把“<em class="mw">吸引</em>”、“<em class="mw">吸引</em>”、“<em class="mw">吸引</em>”与同一个引理联系起来(例如，“<em class="mw">吸引</em>”)。</li><li id="d0bb" class="mi mj iq ld b le mr li ms lm mt lq mu lu mv ly mn mo mp mq bi translated">在一个句子中，将单词与词性(POS)相关联。所以“<em class="mw">日</em>”是名词而“<em class="mw">吸引</em>是动词。</li><li id="c101" class="mi mj iq ld b le mr li ms lm mt lq mu lu mv ly mn mo mp mq bi translated">单词有形态特征，如单数或现在时。图书馆也会在这方面有所帮助。</li><li id="2790" class="mi mj iq ld b le mr li ms lm mt lq mu lu mv ly mn mo mp mq bi translated">它也能产生句子的句法结构</li><li id="2d46" class="mi mj iq ld b le mr li ms lm mt lq mu lu mv ly mn mo mp mq bi translated">最后，它可以与众所周知的范围更广的斯坦福CoreNLP整合。</li></ul><p id="1153" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">在这篇文章中，我们将玩标记化，词性和形态特征。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/d66befb78299cea67617d7bc3fcb209f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hRvysMkYE_z3YJtIuknHvw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">斯坦福NLP管道</figcaption></figure><h1 id="3927" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">管道</h1><p id="a5ac" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">在这篇由<a class="mx my ep" href="https://medium.com/u/1113acadcea4?source=post_page-----2b7d43190957--------------------------------" rel="noopener" target="_blank">唯帅(Ishaya)艾布拉姆斯</a>撰写的<a class="ae kc" href="https://hackernoon.com/machine-learning-model-pipelines-part-i-e138b7a7c1ef" rel="noopener ugc nofollow" target="_blank">文章</a>中，机器学习的管道得到了很好的解释。就我们的目的而言，我们可以把一个库想象成一系列组件，它们以一种方式执行，一个组件的输出是另一个组件的输入(的一部分)。这种设计允许替换管道中的一个专用组件，同时保留其余组件。</p><p id="86d6" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">因此，假设文本在管道中流动，在管道中，文本在不同的步骤中被处理。</p><p id="02e0" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">在StanfodNLP中，管道与语言和树库相关联。详情见<a class="ae kc" href="https://stanfordnlp.github.io/stanfordnlp/pipeline.html" rel="noopener ugc nofollow" target="_blank">这张</a>，不过你现在还不需要。StanfordNLP管道用于模型评估，而不是用于模型定型。</p><h1 id="e026" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">装置</h1><p id="00c0" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">在做任何事情之前，我们需要安装库。我们假设已经安装了Python 3.6或更高版本。正如开发人员所解释的，安装StanfordNLP最简单的方法是使用pip:</p><pre class="me mf mg mh gt mz na nb nc aw nd bi"><span id="fad5" class="ne ke iq na b gy nf ng l nh ni">pip install stanfordnlp</span></pre><p id="02fc" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">然后我们应该下载我们想要使用的语言，例如:</p><pre class="me mf mg mh gt mz na nb nc aw nd bi"><span id="bfbc" class="ne ke iq na b gy nf ng l nh ni">import stanfordnlp</span><span id="4c21" class="ne ke iq na b gy nj ng l nh ni"># You only download languages once<br/># Each language requires more that 1GB of disk space<br/># It takes time... have a coffee!</span><span id="717b" class="ne ke iq na b gy nj ng l nh ni">stanfordnlp.download('en')<br/>stanfordnlp.download('es')<br/>stanfordnlp.download('fr')</span></pre><p id="7b50" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">系统会询问您将下载的语言包存储在哪里。建议的默认值可用于本练习。下载完成后，您可以检查每种语言都有一个相应的文件夹，其中保存了许多将在我们将要介绍的各种NLP任务中使用的<strong class="ld ir"> PyTorch </strong>模型。</p><h1 id="34f6" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">词性标注及其有用的原因</h1><p id="8351" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">词性标注是在更复杂的自然语言处理活动中使用的基本任务。想想文本分类、情感分析或信息索引和检索。建立文本的基本句法结构为进一步的文本处理奠定了基础。</p><h1 id="ebfa" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">解析和标记句子</h1><p id="fa5b" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">我们用法语取下面这个句子:</p><blockquote class="nk nl nm"><p id="ca62" class="lb lc mw ld b le lz lg lh li ma lk ll nn mb lo lp no mc ls lt np md lw lx ly ij bi translated">这种说法很像是在说一个人对六方的看法(勒内·笛卡尔，关于方法的说法)</p></blockquote><p id="2158" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">不过不用担心，我们会短很多的！让我们分析笛卡尔的句子，以评估每个单词在句子中的作用。记号赋予者和词性标注者进场。</p><pre class="me mf mg mh gt mz na nb nc aw nd bi"><span id="f447" class="ne ke iq na b gy nf ng l nh ni">import stanfordnlp</span><span id="6311" class="ne ke iq na b gy nj ng l nh ni"># English is the default language, so you<br/># just invoke stanfordnlp.Pipeline()<br/># For Spanish you would call <br/># stanfordnlp.Pipeline(lang="es", treebank="es_ancora")</span><span id="7d14" class="ne ke iq na b gy nj ng l nh ni"># This sets up a neural pipeline in French<br/>nlp = stanfordnlp.Pipeline(lang="fr", treebank="fr_gsd")</span><span id="4164" class="ne ke iq na b gy nj ng l nh ni"># a document is made of sentences<br/>doc = nlp("Si ce discours semble trop long pour être lu en une fois, on le pourra distinguer en six parties")</span><span id="6986" class="ne ke iq na b gy nj ng l nh ni"># we pick our first and only sentence<br/>only_sentence = doc.sentences[0]<br/><br/># a sentence is made of words. <br/># Each word is tagged with a part of speech (POS)<br/># Good pythonic guys prefer list comprehensions over for loops!</span><span id="e644" class="ne ke iq na b gy nj ng l nh ni">print(" ". join(["{} ({})".format(word.text, word.upos) for word in only_sentence.words]))</span></pre><p id="d390" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">在一些信息性的信息之后，我们得到单词列表，每个单词都被附加到其相应的词性上:</p><pre class="me mf mg mh gt mz na nb nc aw nd bi"><span id="36ea" class="ne ke iq na b gy nf ng l nh ni">Si (SCONJ) ce (DET) discours (NOUN) semble (VERB) trop (ADV) long (ADJ) pour (ADP) être (AUX) lu (VERB) en (ADP) une (DET) fois (NOUN) , (PUNCT) on (PRON) le (PRON) pourra (VERB) distinguer (VERB) en (ADP) six (NUM) parties (NOUN)</span></pre><p id="b6fc" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">它告诉我们这样的事实:six是一个数字限定词，parties是一个名词。请注意，虽然<strong class="ld ir">路</strong>被确定为动词，但<strong class="ld ir">tre</strong>被标记为助动词。</p><p id="bedc" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">StanfordNLP利用了<a class="ae kc" href="https://universaldependencies.org/u/pos/" rel="noopener ugc nofollow" target="_blank"> t </a> he <a class="ae kc" href="https://universaldependencies.org/u/pos/" rel="noopener ugc nofollow" target="_blank">通用词类</a>集合，其优点是适用于多种语言。但是，只要树库支持，特定于语言的词性也会被属性<strong class="ld ir"> pos </strong>使用和展示。其他NLP库，如<a class="ae kc" href="https://spacy.io/" rel="noopener ugc nofollow" target="_blank"> spacy </a>也使用通用和特定语言的词性集合。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/9e91560f93b291e89958c449b900f293.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i-M30OxVm6p-HFliHCD1SQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">乔姆斯基的笑话</figcaption></figure><h1 id="ff1d" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">处理多义词</h1><p id="efc1" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">现在我们将试着对图书馆开一个无害的玩笑。我们想知道这个英语句子的词性:</p><blockquote class="nk nl nm"><p id="92e6" class="lb lc mw ld b le lz lg lh li ma lk ll nn mb lo lp no mc ls lt np md lw lx ly ij bi translated">你在书摊上袖手旁观时，我在看书</p></blockquote><p id="2220" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">不仅<em class="mw">书</em>和<em class="mw">摊</em>在同一句话里带着两种不同的意思。它们也充当动词和名词。对这句话运行类似的代码块，我们得到:</p><pre class="me mf mg mh gt mz na nb nc aw nd bi"><span id="436c" class="ne ke iq na b gy nf ng l nh ni">I (PRON) book (VERB) the (DET) book (NOUN) while (SCONJ) you (PRON) stand (VERB) by (ADP) the (DET) stand (NOUN)</span></pre><p id="5e63" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">我用这个简单的例子来引起读者的注意，说明词性标注不仅仅是在字典中查找单词，而是单词周围的句法结构决定了词性。这是库里的学习模型展示他们的部分能力的地方。</p><h1 id="6932" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">形态特征</h1><p id="51cd" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">除了通用和特定语言形式的POS之外，库中的Word类还带有属性<strong class="ld ir"> feats </strong>中单词的形态特征(注意文档中可能有一个小错误，该属性被称为ufeats)。</p><p id="cf27" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">我们运行下面的代码</p><pre class="me mf mg mh gt mz na nb nc aw nd bi"><span id="535f" class="ne ke iq na b gy nf ng l nh ni">en_nlp = stanfordnlp.Pipeline()</span><span id="9d86" class="ne ke iq na b gy nj ng l nh ni">doc = en_nlp("My taylor is drunk") <br/>only_sentence = doc.sentences[0]<br/>print(" ". join(["{} ({} - {})".format(word.text, word.upos, word.feats) for word in only_sentence.words]))</span></pre><p id="3a02" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">然后得到</p><pre class="me mf mg mh gt mz na nb nc aw nd bi"><span id="1895" class="ne ke iq na b gy nf ng l nh ni">My (PRON - Number=Sing|Person=1|Poss=Yes|PronType=Prs)<br/>taylor (NOUN - Number=Sing) <br/>is (AUX - Mood=Ind|Number=Sing|Person=3|Tense=Pres|VerbForm=Fin) drunk (ADJ - Degree=Pos)</span></pre><p id="0acf" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">其中每个单词由其特征来表征，主要是但不仅仅是名词和动词。要解读以上内容，你可以查阅索引。例如，Degree=Pos表示<a class="ae kc" href="https://universaldependencies.org/u/feat/Degree.html#Pos" rel="noopener ugc nofollow" target="_blank">正，第一级表示</a>。注意<em class="mw">醉</em>是识别形容词，不是动词。</p><h1 id="c213" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">关闭</h1><p id="a325" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">我想今天就够了。我们喜欢这个图书馆，使用起来也很舒服。当文档不够时，您可以随时查看源代码来完善您的理解。展望未来，我们打算完成对StanfordNLP提供的其余功能的理解。</p></div><div class="ab cl nq nr hu ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ij ik il im in"><figure class="me mf mg mh gt jr gh gi paragraph-image"><a href="https://levelup.gitconnected.com"><div class="gh gi jn"><img src="../Images/9914c5dd23ac08b70eea6f4f9ba6fed2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E6CoI_MRyZ1JInNPsBSHtA.png"/></div></a></figure><div class="nx ny gp gr nz oa"><a href="https://gitconnected.com/learn/python" rel="noopener  ugc nofollow" target="_blank"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd ir gy z fp of fr fs og fu fw ip bi translated">学习Python -最佳Python教程(2019) | gitconnected</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">50大Python教程-免费学习Python。课程由开发人员提交并投票，使您能够…</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">gitconnected.com</p></div></div><div class="oj l"><div class="ok l ol om on oj oo jw oa"/></div></div></a></div></div></div>    
</body>
</html>