<html>
<head>
<title>Publish React components as an npm package</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将React组件发布为npm包</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/publish-react-components-as-an-npm-package-7a671a2fb7f?source=collection_archive---------0-----------------------#2021-04-01">https://levelup.gitconnected.com/publish-react-components-as-an-npm-package-7a671a2fb7f?source=collection_archive---------0-----------------------#2021-04-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b0bfd2cda77caa194c2a93670b827345.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pcg6r5A13549drQzaMfYhw.png"/></div></div></figure><p id="549d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">本文将回顾如何用Babel 7(撰写本文时的最新版本)将React组件发布为npm包，以及常见错误。</p><p id="0748" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我发现自己从一个项目到另一个项目复制粘贴了我的React组件，并希望创建一个npm包，这样我就可以轻松地导入它们。为此，我必须学习如何发布一个npm包。很难在网上找到太多关于用Babel 7发布React组件的更新信息，而且我得到了很多构建错误，所以我决定写这篇文章作为参考。这将假设反应能力，但很少或没有使用npm的经验。</p><p id="22fe" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">看看最终的<a class="ae kw" href="https://www.npmjs.com/package/jawblia" rel="noopener ugc nofollow" target="_blank"> npm包</a>和<a class="ae kw" href="https://github.com/jawblia/npm-test" rel="noopener ugc nofollow" target="_blank"> GitHub repo </a></p><p id="6687" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">前置条件:</strong></p><ul class=""><li id="9546" class="kx ky iq ka b kb kc kf kg kj kz kn la kr lb kv lc ld le lf bi translated">创建一个npm帐户并登录。您可以从npm网站登录，也可以通过运行<code class="fe lg lh li lj b">npm login</code>从CLI登录。</li><li id="a5f6" class="kx ky iq ka b kb lk kf ll kj lm kn ln kr lo kv lc ld le lf bi translated">一款React应用。我用<code class="fe lg lh li lj b">npx create-react-app npm-test</code>为这篇文章创建了样板文件。在本地机器上运行应用程序。</li></ul><h2 id="418f" class="lp lq iq bd lr ls lt dn lu lv lw dp lx kj ly lz ma kn mb mc md kr me mf mg mh bi translated">1.创建并隔离要发布的零部件</h2><p id="a298" class="pw-post-body-paragraph jy jz iq ka b kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr mm kt ku kv ij bi translated">在样板应用程序中，我进入<strong class="ka ir"> src </strong>文件夹，删除了除App.js、app.css和index.js之外的所有内容。</p><p id="e340" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我还添加了一个名为<code class="fe lg lh li lj b">lib</code>的文件夹，它将存储我想在npm上发布的所有内容。在<code class="fe lg lh li lj b">lib</code>中，有一个名为<code class="fe lg lh li lj b">components</code>的文件夹来存储组件元素，还有一个名为<code class="fe lg lh li lj b">index.js</code>的文件来导出它们。(这似乎是一个标准，基于其他教程和Carbon的库。)</p><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mn"><img src="../Images/b3bba3fc76df1a903b588b02a7a5ee8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rhEcHTMPWsF8CLEc4WjWkA.png"/></div></div></figure><p id="4cad" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在components文件夹中，我创建了名为<code class="fe lg lh li lj b">Button.js</code>和<code class="fe lg lh li lj b">Badge.js</code>的新文件，它们将是npm包中要使用的组件。这些组件的代码不是很重要，但是我会在下面列出来。</p><p id="a1a2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> &gt; Button.js </strong></p><pre class="mo mp mq mr gt ms lj mt mu aw mv bi"><span id="1a79" class="lp lq iq lj b gy mw mx l my mz">import React from 'react';</span><span id="519c" class="lp lq iq lj b gy na mx l my mz">const Button = (props) =&gt; {<br/>   return (<br/>      &lt;button className={`btn btn--${props.kind} CTA`}<br/>        data-id={props.id}<br/>        type={props.type}<br/>        name={props.name}<br/>        value={props.value}<br/>        disabled={props.disabled}<br/>        onClick={props.handleClick}&gt; <br/>           &lt;h4&gt;{props.label}&lt;/h4&gt;<br/>      &lt;/button&gt;<br/>   )<br/>}</span><span id="d57c" class="lp lq iq lj b gy na mx l my mz">export default Button;</span></pre><p id="3f4b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> &gt; Badge.js </strong></p><pre class="mo mp mq mr gt ms lj mt mu aw mv bi"><span id="2542" class="lp lq iq lj b gy mw mx l my mz">import React from 'react';</span><span id="98ac" class="lp lq iq lj b gy na mx l my mz">const Badge = (props) =&gt; {<br/>   return (<br/>      &lt;div className={`badge ${!props.value ? 'badge--none' :''} `}<br/>        &lt;h4 className="heavy"&gt;{props.value || 0}&lt;/h4&gt;<br/>      &lt;/div&gt;<br/>     )<br/>}</span><span id="80b1" class="lp lq iq lj b gy na mx l my mz">export default Badge;</span></pre><blockquote class="nb nc nd"><p id="54b9" class="jy jz ne ka b kb kc kd ke kf kg kh ki nf kk kl km ng ko kp kq nh ks kt ku kv ij bi translated">I <strong class="ka ir">重要的</strong>:要设计这些组件的样式，他们要么需要1。css直接导入到组件中，2。内联样式，可以直接应用于组件，或者借助css-in-js包，如<a class="ae kw" href="https://styled-components.com/" rel="noopener ugc nofollow" target="_blank"> styled-components </a>或3。预编译和捆绑的sass/scss，我相信可以用一个带有<a class="ae kw" href="https://www.npmjs.com/package/sass-loader" rel="noopener ugc nofollow" target="_blank"> sass-loader </a>的React应用程序来应用，但这超出了本文的范围。</p></blockquote><p id="df31" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这些组件都在<code class="fe lg lh li lj b">components</code>文件夹中。然后，我们将它们添加到index.js文件中:</p><pre class="mo mp mq mr gt ms lj mt mu aw mv bi"><span id="c6a8" class="lp lq iq lj b gy mw mx l my mz">import Badge from './components/Badge';<br/>import Button from './components/Button';</span><span id="0f11" class="lp lq iq lj b gy na mx l my mz">export { Badge, Button };</span></pre><h2 id="6adc" class="lp lq iq bd lr ls lt dn lu lv lw dp lx kj ly lz ma kn mb mc md kr me mf mg mh bi translated">1b。为组件创建一个repo</h2><p id="4396" class="pw-post-body-paragraph jy jz iq ka b kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr mm kt ku kv ij bi translated">这在技术上是可选的，因为组件不必在Github上发布到npm中。但是这非常方便，因为您的repo的自述文件将自动作为npm中的软件包文档进行填充。</p><h2 id="d01a" class="lp lq iq bd lr ls lt dn lu lv lw dp lx kj ly lz ma kn mb mc md kr me mf mg mh bi translated">2.安装Babel并构建<code class="fe lg lh li lj b">dist</code>文件夹</h2><p id="5668" class="pw-post-body-paragraph jy jz iq ka b kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr mm kt ku kv ij bi translated">要安装Babel，请在CLI中运行以下命令:</p><pre class="mo mp mq mr gt ms lj mt mu aw mv bi"><span id="52db" class="lp lq iq lj b gy mw mx l my mz">npm install --save-dev @babel/core @babel/cli @babel/preset-env </span><span id="a94d" class="lp lq iq lj b gy na mx l my mz">npm install -save @babel/polyfill</span></pre><p id="926d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用以@符号开头的巴别塔版本对于匹配预置很重要。无论哪种方式，使用未划分范围的巴别塔版本(没有@符号)和有范围的预设(用@符号指定)都会导致构建错误。</p><p id="33a6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在项目的顶层文件夹中，添加一个名为<code class="fe lg lh li lj b">babel.config.json</code>的文件，并添加以下预设:</p><pre class="mo mp mq mr gt ms lj mt mu aw mv bi"><span id="7dd7" class="lp lq iq lj b gy mw mx l my mz">{<br/> "presets": [<br/>  [<br/>   "@babel/env",<br/>    {<br/>     "targets": {<br/>     "edge": "17",<br/>     "firefox": "60",<br/>     "chrome": "67",<br/>     "safari": "11.1"<br/>      },<br/>   "useBuiltIns": "usage",<br/>   "corejs": "3.6.5"<br/>    }<br/>],<br/>   "@babel/preset-react"<br/>]<br/>}</span></pre><p id="20f4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe lg lh li lj b">@babel/env</code>告诉浏览器它应该以哪个版本为目标，<code class="fe lg lh li lj b">@babel/preset-react</code>允许巴别塔编译JSX。</p><p id="2d6b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在<code class="fe lg lh li lj b">package.json</code>中的<code class="fe lg lh li lj b">scripts</code>下，用以下内容替换构建脚本:</p><pre class="mo mp mq mr gt ms lj mt mu aw mv bi"><span id="b0a7" class="lp lq iq lj b gy mw mx l my mz">"build": "rm -rf dist &amp;&amp; NODE_ENV=production babel src/lib --out-dir dist --copy-files";</span></pre><p id="bf50" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这将把<code class="fe lg lh li lj b">src/lib</code>复制到一个名为<code class="fe lg lh li lj b">dist</code>的新文件夹中。此文件夹不可见，但会在生成后添加到您的根文件夹中。</p><p id="2695" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在CLI中运行命令<code class="fe lg lh li lj b">npm run build</code>。</p><p id="8990" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果构建成功，并且在根文件夹中写入了<code class="fe lg lh li lj b">ls -a</code>，您将会看到一个名为<code class="fe lg lh li lj b">dist</code>的新文件夹:</p><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ni"><img src="../Images/d364b7ca0c84864ce99685e790b4be93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CuMt5uqBbRHKao1mb9n1pQ.png"/></div></div><figcaption class="nj nk gj gh gi nl nm bd b be z dk translated">有趣的事实！您可以自定义CLI的配色方案</figcaption></figure><h2 id="e965" class="lp lq iq bd lr ls lt dn lu lv lw dp lx kj ly lz ma kn mb mc md kr me mf mg mh bi translated">3.更改package.json以进行发布</h2><p id="c5d9" class="pw-post-body-paragraph jy jz iq ka b kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr mm kt ku kv ij bi translated">这是最精彩的部分！必须将<code class="fe lg lh li lj b">package.json </code>更改为发布到npm。</p><p id="5bf1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是我的<code class="fe lg lh li lj b">package.json</code>的第一部分:</p><pre class="mo mp mq mr gt ms lj mt mu aw mv bi"><span id="64b0" class="lp lq iq lj b gy mw mx l my mz">"name": "npm-test",<br/>"version": "0.1.0",<br/>"private": true,</span></pre><p id="89e3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这里的<code class="fe lg lh li lj b">name</code>必须是一个没有被现有npm包使用的唯一名称(您可以使用npm搜索来检查名称是否被使用)。<code class="fe lg lh li lj b">version</code>是包版本，每次重新发布都必须更改。版本语法指明了主要版本、次要版本和补丁版本，更多信息可以在npm文档中的<a class="ae kw" href="https://docs.npmjs.com/about-semantic-versioning" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><p id="e2e7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe lg lh li lj b">description</code>、<code class="fe lg lh li lj b">keywords</code>和<code class="fe lg lh li lj b">author</code>都是可选字段，可以让潜在的最终用户对软件包有更好的了解。此处全<code class="fe lg lh li lj b">package.json </code>。</p><pre class="mo mp mq mr gt ms lj mt mu aw mv bi"><span id="4cc8" class="lp lq iq lj b gy mw mx l my mz">"name": "jawblia",<br/>"description": "Two test React components",<br/>"author": "Jawblia",<br/>"keywords": ["react", "components", "ui"],<br/>"version": "0.1.0",<br/>"private": false,<br/>"main": "dist/index.js",<br/>"module": "dist/index.js",<br/>"files": [ "dist", "README.md" ],<br/>"repository": {<br/>    "type": "git",<br/>    "url": "git+https://github.com/jawblia/npm-test.git"<br/>},</span></pre><p id="3929" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">文件已为<code class="fe lg lh li lj b">npm publish</code>准备好。</p><h2 id="596e" class="lp lq iq bd lr ls lt dn lu lv lw dp lx kj ly lz ma kn mb mc md kr me mf mg mh bi translated">4.使用新的软件包</h2><p id="d4d7" class="pw-post-body-paragraph jy jz iq ka b kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr mm kt ku kv ij bi translated">在CLI和您的npm配置文件中检查程序包已发布的内容。要确保它正常工作，请在本地机器上打开一个不同的项目，并尝试使用该包:</p><p id="913e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe lg lh li lj b">npm install jawblia</code></p><p id="3584" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在新项目中，尝试通过导入来使用其中一个组件:</p><p id="7ca0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">&gt; App.js</p><pre class="mo mp mq mr gt ms lj mt mu aw mv bi"><span id="5e04" class="lp lq iq lj b gy mw mx l my mz"><strong class="lj ir">import { Button } from 'jawblia';<br/></strong>import Flex from './layout/Flex';</span><span id="ba33" class="lp lq iq lj b gy na mx l my mz">function App() {</span><span id="f75d" class="lp lq iq lj b gy na mx l my mz">return (<br/>  &lt;Flex middle center column className="page" gap={1.5}&gt;<br/>   &lt;h3&gt;This is my new project&lt;/h3&gt;<br/><strong class="lj ir">   &lt;Button label="test" kind="primary"/&gt;<br/></strong>  &lt;/Flex&gt;</span><span id="a109" class="lp lq iq lj b gy na mx l my mz">);</span><span id="3df6" class="lp lq iq lj b gy na mx l my mz">}</span><span id="fb5c" class="lp lq iq lj b gy na mx l my mz">export default App;</span></pre><p id="ca6b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在浏览器中，我们看到:</p><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nn"><img src="../Images/847fee90c4137c10681c6c767d75dc4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qtgqgcjuwd-UvF7xLQG-7g.png"/></div></div><figcaption class="nj nk gj gh gi nl nm bd b be z dk translated">从npm包导入的按钮正在工作</figcaption></figure><p id="b213" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以使用原始组件中的任何道具，并更改按钮的标签、类型和样式。国家预防机制一揽子计划正在发挥作用。</p><h2 id="bb46" class="lp lq iq bd lr ls lt dn lu lv lw dp lx kj ly lz ma kn mb mc md kr me mf mg mh bi translated">尾声:一些警告</h2><p id="8bed" class="pw-post-body-paragraph jy jz iq ka b kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr mm kt ku kv ij bi translated">这里漏掉了一些值得一提的东西。</p><p id="b379" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">类型:</strong></p><p id="063b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您导入您的新包，您会注意到这样的警告:</p><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi no"><img src="../Images/0b259b81feff43a7a616ce2e08885d4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d84O_EHrA63gSL8o1Xcv1w.png"/></div></div></figure><p id="3c5c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所有的React npm包也可以与Typescript一起使用。为一个包声明类型需要创建一个声明文件，并用<code class="fe lg lh li lj b">typings</code>键将它添加到package.json中。或者，您不需要声明类型，但是Typescript用户必须声明他们自己的类型。</p><p id="ebe1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> scss: </strong></p><p id="3ee7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我在我的组件上使用了scss作为样式，并在<code class="fe lg lh li lj b">components</code>文件夹中添加了一个名为<code class="fe lg lh li lj b">styles</code>的独立文件夹。这个样式全部编译到主src文件夹中的App.css表中。如果你不想让scss预编译，我发现<a class="ae kw" href="https://stackoverflow.com/questions/66548611/customisable-component-library-in-reactjs/66670203#66670203" rel="noopener ugc nofollow" target="_blank">这个堆栈溢出回答</a>解决了这个问题。</p><p id="97df" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">巴别塔版本:</strong></p><p id="97b3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您的预设语法和导入的Babel版本不一致，您可能会得到如下错误消息:</p><pre class="mo mp mq mr gt ms lj mt mu aw mv bi"><span id="9fc9" class="lp lq iq lj b gy mw mx l my mz">ReferenceError: [BABEL] src/lib/index.js: Unknown option: /Users/juliabell/skylight/node_modules/babel-preset-react-app/index.js.overrides. Check out [&lt;http://babeljs.io/docs/usage/options/&gt;](&lt;http://babeljs.io/docs/usage/options/&gt;) for more information about options.</span><span id="1f58" class="lp lq iq lj b gy na mx l my mz">A common cause of this error is the presence of a configuration options object without the corresponding preset name. Example:</span><span id="bfb6" class="lp lq iq lj b gy na mx l my mz">Invalid: { presets: [{option: value}] } Valid: { presets: [['presetName', {option: value}]] }</span></pre><p id="e21b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">或者</p><pre class="mo mp mq mr gt ms lj mt mu aw mv bi"><span id="2b83" class="lp lq iq lj b gy mw mx l my mz">Requires Babel “7.0.0-0” but was loaded with “6.26.3” #8482</span></pre><p id="d8b0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">从网上看，这些错误可能是由于全球和本地安装了不同版本的巴别塔，在父文件夹中有一个<code class="fe lg lh li lj b">.babelrc</code>或<code class="fe lg lh li lj b">babel.config.json</code>文件，或者使用了不正确的预设语法。在我的例子中，我在预置中使用了不正确的语法，并且在我最初安装未作用域的巴别塔版本(<code class="fe lg lh li lj b">babel</code>)时添加了作用域的巴别塔版本(<code class="fe lg lh li lj b">@ babel</code>)。</p><p id="aa27" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">许可证:</strong></p><p id="acbe" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">建议npm软件包使用许可证来定义它们的用途。我没有添加，但是下面链接的Ben Awad视频解释了如何添加。</p><p id="1068" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">参考文献:</strong></p><div class="np nq gp gr nr ns"><a href="https://babeljs.io/docs/en/usage/" rel="noopener  ugc nofollow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ir gy z fp nx fr fs ny fu fw ip bi translated">使用指南巴别塔</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">在Babel工具链中有相当多的工具试图让你更容易地使用Babel，不管你是一个…</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">babeljs.io</p></div></div></div></a></div><div class="np nq gp gr nr ns"><a href="https://betterprogramming.pub/how-to-publish-a-react-component-library-c89a07566770" rel="noopener  ugc nofollow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ir gy z fp nx fr fs ny fu fw ip bi translated">如何发布React组件库</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">既然你已经创造了一些有用的东西，那就和全世界分享吧</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">better编程. pub</p></div></div><div class="ob l"><div class="oc l od oe of ob og jw ns"/></div></div></a></div><figure class="mo mp mq mr gt jr"><div class="bz fp l di"><div class="oh oi l"/></div></figure><div class="np nq gp gr nr ns"><a href="https://www.pluralsight.com/guides/export-reactjs-components-as-node-modules-to-npm" rel="noopener  ugc nofollow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ir gy z fp nx fr fs ny fu fw ip bi translated">将React组件作为节点模块导出到NPM</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">多重视觉指南</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">www.pluralsight.com</p></div></div></div></a></div><div class="np nq gp gr nr ns"><a href="https://hackernoon.com/creating-a-library-of-react-components-using-create-react-app-without-ejecting-d182df690c6b" rel="noopener  ugc nofollow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ir gy z fp nx fr fs ny fu fw ip bi translated">使用Create React App创建React组件库</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">更新:您可以使用npm包create-component-lib来自动化本文中描述的所有步骤。</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">hackernoon.com</p></div></div><div class="ob l"><div class="oj l od oe of ob og jw ns"/></div></div></a></div><p id="cd37" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://itnext.io/how-to-package-your-react-component-for-distribution-via-npm-d32d4bf71b4f" rel="noopener ugc nofollow" target="_blank">https://it next . io/how-to-package-your-react-component-for-distribution-via-NPM-d 32d 4 BF 71 b 4</a></p></div><div class="ab cl ok ol hu om" role="separator"><span class="on bw bk oo op oq"/><span class="on bw bk oo op oq"/><span class="on bw bk oo op"/></div><div class="ij ik il im in"><h1 id="b858" class="or lq iq bd lr os ot ou lu ov ow ox lx oy oz pa ma pb pc pd md pe pf pg mg ph bi translated">分级编码</h1><p id="9489" class="pw-post-body-paragraph jy jz iq ka b kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr mm kt ku kv ij bi translated">感谢您成为我们社区的一员！升级正在改变技术招聘。<a class="ae kw" href="https://jobs.levelup.dev/talent" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir">在最好的公司</strong>找到你最完美的工作 </a> <strong class="ka ir">。</strong></p><div class="np nq gp gr nr ns"><a href="https://jobs.levelup.dev/talent" rel="noopener  ugc nofollow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ir gy z fp nx fr fs ny fu fw ip bi translated">提升——改变招聘流程</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">🔥让软件工程师找到他们热爱的完美角色🧠寻找人才是最痛苦的部分…</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">作业. levelup.dev</p></div></div><div class="ob l"><div class="pi l od oe of ob og jw ns"/></div></div></a></div></div></div>    
</body>
</html>