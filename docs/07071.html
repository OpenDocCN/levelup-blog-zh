<html>
<head>
<title>Setup Tailwind CSS with Webpack</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Webpack设置顺风CSS</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/setup-tailwind-css-with-webpack-3458be3eb547?source=collection_archive---------0-----------------------#2021-01-22">https://levelup.gitconnected.com/setup-tailwind-css-with-webpack-3458be3eb547?source=collection_archive---------0-----------------------#2021-01-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="ee65" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">用Webpack设置Tailwind CSS花了我相当多的时间，所以我在这里记录了我的步骤，以帮助我未来的自己和他人。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/f3a12739bade31ba73f72791c42462f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CqsHI888KIRkjCBG"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated"><a class="ae lb" href="https://unsplash.com/@pankajpatel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Pankaj Patel </a>在<a class="ae lb" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="cc0d" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">装置</h1><ol class=""><li id="63ae" class="ma mb iq jp b jq mc ju md jy me kc mf kg mg kk mh mi mj mk bi translated">制作一个目录并放入光盘。</li></ol><p id="acc2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe ml mm mn mo b">mkdir tailwind-webpack-test &amp;&amp; cd tailwind-webpack-test</code></p><p id="70c4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2.创建<code class="fe ml mm mn mo b">package.json</code>。</p><p id="6c35" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe ml mm mn mo b">npm init -y</code></p><p id="d486" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3.安装webpack和必要的加载程序。</p><pre class="km kn ko kp gt mp mo mq mr aw ms bi"><span id="4974" class="mt ld iq mo b gy mu mv l mw mx">npm install --save-dev webpack webpack-cli webpack-dev-server babel-loader @babel/core @babel/preset-env style-loader css-loader postcss postcss-loader postcss-preset-env</span></pre><p id="4f19" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">4.安装尾翼css。</p><p id="f7e8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe ml mm mn mo b">npm install --save-dev tailwindcss</code></p><h1 id="9f68" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">设置</h1><ol class=""><li id="a839" class="ma mb iq jp b jq mc ju md jy me kc mf kg mg kk mh mi mj mk bi translated">创建webpack入口和输出点。</li></ol><p id="9663" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe ml mm mn mo b">mkdir dist src &amp;&amp; touch dist/index.html src/index.js src/style.css</code></p><p id="1012" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2.将以下内容复制到您的目录根目录下的<code class="fe ml mm mn mo b">webpack.config.js</code>。</p><pre class="km kn ko kp gt mp mo mq mr aw ms bi"><span id="e330" class="mt ld iq mo b gy mu mv l mw mx">const path = require('path');</span><span id="ea4e" class="mt ld iq mo b gy my mv l mw mx">module.exports = {</span><span id="47fa" class="mt ld iq mo b gy my mv l mw mx">  mode: 'production',</span><span id="4d6a" class="mt ld iq mo b gy my mv l mw mx">  entry: './src/index.js',</span><span id="8583" class="mt ld iq mo b gy my mv l mw mx">  output: {</span><span id="fca3" class="mt ld iq mo b gy my mv l mw mx">    path: path.resolve(__dirname, 'dist'),</span><span id="3b27" class="mt ld iq mo b gy my mv l mw mx">    filename: 'bundle.js',</span><span id="c1bb" class="mt ld iq mo b gy my mv l mw mx">  },</span><span id="32f2" class="mt ld iq mo b gy my mv l mw mx">  module: {</span><span id="362f" class="mt ld iq mo b gy my mv l mw mx">    rules: [</span><span id="56ad" class="mt ld iq mo b gy my mv l mw mx">      {</span><span id="9c88" class="mt ld iq mo b gy my mv l mw mx">        test: /\.js$/i,</span><span id="99ed" class="mt ld iq mo b gy my mv l mw mx">        include: path.resolve(__dirname, 'src'),</span><span id="11a0" class="mt ld iq mo b gy my mv l mw mx">        use: {</span><span id="cd2c" class="mt ld iq mo b gy my mv l mw mx">          loader: 'babel-loader',</span><span id="571c" class="mt ld iq mo b gy my mv l mw mx">          options: {</span><span id="4fdb" class="mt ld iq mo b gy my mv l mw mx">            presets: ['@babel/preset-env'],<br/>          },</span><span id="f280" class="mt ld iq mo b gy my mv l mw mx">        },</span><span id="6bed" class="mt ld iq mo b gy my mv l mw mx">      },</span><span id="70cd" class="mt ld iq mo b gy my mv l mw mx">      {</span><span id="3684" class="mt ld iq mo b gy my mv l mw mx">        test: /\.css$/i,</span><span id="0290" class="mt ld iq mo b gy my mv l mw mx">        include: path.resolve(__dirname, 'src'),</span><span id="f110" class="mt ld iq mo b gy my mv l mw mx">        use: ['style-loader', 'css-loader', 'postcss-loader'],</span><span id="39c7" class="mt ld iq mo b gy my mv l mw mx">      },</span><span id="098f" class="mt ld iq mo b gy my mv l mw mx">    ],</span><span id="528c" class="mt ld iq mo b gy my mv l mw mx">  },</span><span id="9ca2" class="mt ld iq mo b gy my mv l mw mx">  devServer: {</span><span id="ec39" class="mt ld iq mo b gy my mv l mw mx">    static: 'dist',<br/>    watchContentBase: true,</span><span id="7f47" class="mt ld iq mo b gy my mv l mw mx">  },</span><span id="3d3a" class="mt ld iq mo b gy my mv l mw mx">};</span></pre><p id="56f7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3.将以下内容复制到<code class="fe ml mm mn mo b">src/style.css</code>中。</p><pre class="km kn ko kp gt mp mo mq mr aw ms bi"><span id="8475" class="mt ld iq mo b gy mu mv l mw mx">@tailwind base;</span><span id="07ed" class="mt ld iq mo b gy my mv l mw mx">@tailwind components;</span><span id="c130" class="mt ld iq mo b gy my mv l mw mx">@tailwind utilities;</span></pre><p id="81c9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">4.通过运行<code class="fe ml mm mn mo b">npx tailwindcss init</code>生成<code class="fe ml mm mn mo b">tailwind.config.js</code>，并将<code class="fe ml mm mn mo b">'./dist/*.html'</code>添加到清除数组。Tailwind CSS将清除所有未被purge数组中指定的文件使用的样式。</p><pre class="km kn ko kp gt mp mo mq mr aw ms bi"><span id="e5d4" class="mt ld iq mo b gy mu mv l mw mx">module.exports = {</span><span id="cf2a" class="mt ld iq mo b gy my mv l mw mx">  purge: [<!-- -->'./dist/*.html'<!-- -->],</span><span id="6b3e" class="mt ld iq mo b gy my mv l mw mx">  darkMode: false, // or 'media' or 'class'</span><span id="fc72" class="mt ld iq mo b gy my mv l mw mx">  theme: {</span><span id="5a71" class="mt ld iq mo b gy my mv l mw mx">    extend: {},</span><span id="7a6d" class="mt ld iq mo b gy my mv l mw mx">  },</span><span id="94b3" class="mt ld iq mo b gy my mv l mw mx">  variants: {</span><span id="e76d" class="mt ld iq mo b gy my mv l mw mx">  extend: {},</span><span id="a93a" class="mt ld iq mo b gy my mv l mw mx">  },</span><span id="fb1d" class="mt ld iq mo b gy my mv l mw mx">  plugins: [],</span><span id="7696" class="mt ld iq mo b gy my mv l mw mx">};</span></pre><p id="fe15" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">5.将以下内容复制到<code class="fe ml mm mn mo b">postcss.config.js</code>中。</p><pre class="km kn ko kp gt mp mo mq mr aw ms bi"><span id="102d" class="mt ld iq mo b gy mu mv l mw mx">const tailwindcss = require('tailwindcss');</span><span id="5684" class="mt ld iq mo b gy my mv l mw mx">module.exports = {</span><span id="87ee" class="mt ld iq mo b gy my mv l mw mx">  plugins: [<br/>    'postcss-preset-env',<br/>    tailwindcss<br/>  ],</span><span id="3c1b" class="mt ld iq mo b gy my mv l mw mx">};</span></pre><p id="c216" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">6.打开<code class="fe ml mm mn mo b">src/index.js</code>并添加这一行来导入我们的css。</p><pre class="km kn ko kp gt mp mo mq mr aw ms bi"><span id="15d0" class="mt ld iq mo b gy mu mv l mw mx">import './style.css';</span></pre><p id="2feb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">7.在HTML中链接我们的<code class="fe ml mm mn mo b">bundle.js</code>,方法是在结束body标签之前添加这一行。</p><pre class="km kn ko kp gt mp mo mq mr aw ms bi"><span id="d505" class="mt ld iq mo b gy mu mv l mw mx">&lt;script src="bundle.js"&gt;&lt;/script&gt;</span></pre><p id="ef55" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">8.在您的<code class="fe ml mm mn mo b">package.json</code>中添加以下脚本，以优化您的工作流程。我们在构建脚本中设置节点环境，因为除非环境被设置为生产环境，否则tailwind不会清除任何css文件。</p><pre class="km kn ko kp gt mp mo mq mr aw ms bi"><span id="5768" class="mt ld iq mo b gy mu mv l mw mx">"scripts": {<br/>    "start": "webpack serve --mode=development --open",<br/>    "build": "export NODE_ENV=production &amp;&amp; webpack"<br/>},</span></pre><h1 id="33dc" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">试验</h1><p id="3e0c" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy mz ka kb kc na ke kf kg nb ki kj kk ij bi translated">打开您的<code class="fe ml mm mn mo b">dist/index.html</code>并添加一些hello world代码，然后运行<code class="fe ml mm mn mo b">npm start</code>在您的默认浏览器中打开您的项目。</p><pre class="km kn ko kp gt mp mo mq mr aw ms bi"><span id="7319" class="mt ld iq mo b gy mu mv l mw mx">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;</span><span id="c759" class="mt ld iq mo b gy my mv l mw mx">&lt;head&gt;<br/>  &lt;meta charset="UTF-8"&gt;<br/>  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;<br/>  &lt;title&gt;Tailwind Webpack Test&lt;/title&gt;<br/>&lt;/head&gt;</span><span id="7ea2" class="mt ld iq mo b gy my mv l mw mx">&lt;body&gt;<br/>  &lt;h1 class="bg-red-900 text-white"&gt;Hello world&lt;/h1&gt;<br/>  &lt;script src="bundle.js"&gt;&lt;/script&gt;<br/>&lt;/body&gt;</span><span id="9c55" class="mt ld iq mo b gy my mv l mw mx">&lt;/html&gt;</span></pre><p id="c212" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">恭喜你。！如果你看到红底白字，说明你已经成功设置了顺风:)</p></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><p id="d75e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">注意</strong>:如果你想使用stylelint来lint你的项目，确保在你的<code class="fe ml mm mn mo b">.stylelintrc.json</code>中添加以下规则。</p><pre class="km kn ko kp gt mp mo mq mr aw ms bi"><span id="ebaf" class="mt ld iq mo b gy mu mv l mw mx">"rules": {<br/>    "at-rule-no-unknown": [<br/>      true,<br/>      {<br/>        "ignoreAtRules": [<br/>          "extends",<br/>          "apply",<br/>          "tailwind",<br/>          "components",<br/>          "utilities",<br/>          "screen"<br/>        ]<br/>      }<br/>    ]<br/>  }</span></pre></div></div>    
</body>
</html>