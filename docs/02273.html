<html>
<head>
<title>Monitoring Application using Elastic APM</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用弹性APM的监控应用</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/monitoring-application-using-elastic-apm-7e2d8548b983?source=collection_archive---------9-----------------------#2020-03-02">https://levelup.gitconnected.com/monitoring-application-using-elastic-apm-7e2d8548b983?source=collection_archive---------9-----------------------#2020-03-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f3a7a6eaa9d5b364d91707e7f8fbf71b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0BTpCbkrnleBMEsT9E9W4w.png"/></div></div></figure><p id="e546" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在之前的博客“用弹性APM配置Django应用程序”中，我已经介绍了如何用Django博客应用程序配置APM代理。现在，在Django应用程序中完成配置更改后，我们应该转到Kibana接口，看看如何完成APM接口配置，以查看应用程序指标。要在Kibana中设置APM接口，我们需要执行以下操作:</p><p id="57a6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">1)打开Kibana URL，并在左侧菜单中单击“APM”链接。这将打开APM默认页面。</p><p id="6293" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">2)现在单击页面左上方的“设置”链接。这将打开“代理远程配置”页面，并显示一条消息“未找到配置”，因为我们是第一次配置它。</p><p id="376a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">3)单击“创建配置”按钮，这将打开“创建配置”弹出窗口，我们可以在其中选择应用程序的名称、环境和其他设置。请参考下面的截图:</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi kx"><img src="../Images/be7e38c065d898e91cdad1639a7c02fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*WCWryCHrQ-48cDwDPuiN2A.png"/></div></figure><p id="12a8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">4)保存配置后，我们可以看到带有应用程序名称的列表页面。这个应用程序名称与我们在Django设置中的APM代理配置中给出的名称相同。请参考下面的截图:</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lc"><img src="../Images/7c08db044de479d8d5c0b111f94c66f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q1Iu4AxjjOlJXpXpMRObLg.png"/></div></div></figure><blockquote class="ld le lf"><p id="a5fc" class="jy jz lg ka b kb kc kd ke kf kg kh ki lh kk kl km li ko kp kq lj ks kt ku kv ij bi translated"><em class="iq">如果想知道如何用Django应用程序配置APM代理，请参考之前的博客:“</em> <a class="ae kw" href="https://bqstack.com/b/detail/108/Configuring-Django-application-with-Elastic-APM" rel="noopener ugc nofollow" target="_blank"> <em class="iq">用弹性APM配置Django应用程序</em></a><em class="iq">”</em></p></blockquote><p id="8c9b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">5)现在我们需要再次进入Kibana的APM页面，点击“设置说明”链接。</p><p id="95f0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">6)在此页面中，我们需要转到APM代理部分，并单击“检查代理状态”按钮，以查看代理是否正常工作并发送数据。如果我们没有得到数据，那么我们需要再次检查是否一切都配置正确。</p><p id="880e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">7)现在点击“加载Kibana对象”按钮，创建APM索引模式。</p><p id="b80f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">8)之后，单击“启动APM”按钮打开APM页面。这将打开带有APM应用程序名称的页面。</p><p id="bdef" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">9)单击APM应用程序名称，这将打开一个显示不同指标的仪表板，如“按span类型划分的时间”、“事务持续时间”、“每分钟请求数”和“事务数”等。请参考以下屏幕:</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lk"><img src="../Images/9c4f0af273c92ea71c92beb3db069b75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*seswER5IovxDyQMFSz_pjQ.png"/></div></div></figure><p id="7db0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">10)在事务下，我们可以看到不同类型的事务，如获取、发布和N/A等。我们可以单击任何交易链接来获得进一步的深入细节。因此，在这里，我将单击“POST blogs.views.BlogsClass”链接来查看交易详细信息。</p><p id="39db" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">11)同样，我们可以看到一些指标，如“事务持续时间”、“每分钟请求数”、“事务持续时间分布”和“跟踪样本”。</p><p id="e7e5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">12)跟踪样本在这里非常重要，因为它提供了关于应用程序的一些重要信息。它有一个时间轴和元数据。</p><p id="98b2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">13)在时间线下，我们可以获得关于如何完成请求的详细信息。它显示了各种活动完成请求所花费的时间。请参考下面的截图:</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ll"><img src="../Images/eff7c032f6b28e96d0c261235298b394.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ieq_kL3cAPcur_tE_dUsMA.png"/></div></div></figure><p id="c20a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">14)在元数据下，我们可以获得各种详细信息，如事务id、HTTP详细信息、主机详细信息、服务详细信息、进程详细信息、代理详细信息、URL详细信息和用户代理详细信息等。</p><p id="7311" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">通过这种方式，我们可以使用APM获取应用程序的重要信息。</p><p id="f5e5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://bqstack.com/b/detail/90/Bucket-Aggregation-in-Elasticsearch" rel="noopener ugc nofollow" target="_blank">如何创建Elasticsearch集群<br/>Elastic Search中的桶聚合</a><br/><a class="ae kw" href="https://bqstack.com/b/detail/89/Metrics-Aggregation-in-Elasticsearch" rel="noopener ugc nofollow" target="_blank">Elastic Search中的度量聚合</a> <br/> <a class="ae kw" href="https://bqstack.com/b/detail/76/Configure-Logstash-to-push-MySQL-data-into-Elasticsearch" rel="noopener ugc nofollow" target="_blank">配置Logstash将MySQL数据推入Elastic Search</a><br/><a class="ae kw" href="https://bqstack.com/b/detail/87/Wildcard-and-Boolean-Search-in-Elasticsearch" rel="noopener ugc nofollow" target="_blank">Elastic Search中的通配符和布尔搜索</a><br/><a class="ae kw" href="https://bqstack.com/b/detail/83/Elasticsearch-Rest-API" rel="noopener ugc nofollow" target="_blank">Elastic Search Rest API</a><br/><a class="ae kw" href="https://bqstack.com/b/detail/84/Basics-of-Data-Search-in-Elasticsearch" rel="noopener ugc nofollow" target="_blank">Elastic Search中数据搜索的基础知识</a><br/><a class="ae kw" href="https://bqstack.com/b/detail/83/Elasticsearch-Rest-API" rel="noopener ugc nofollow" target="_blank">Elastic Search Rest API</a><a class="ae kw" href="http://bqstack.com/b/detail/1/Log-analysis-with-Elastic-stack" rel="noopener ugc nofollow" target="_blank"><br/></a></p></div><div class="ab cl lm ln hu lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ij ik il im in"><p id="9380" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> Learning Kibana 7 </strong>本书被评为最佳新弹性搜索书籍</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi lt"><img src="../Images/e9e34d3e2f02455225f888e14a19a28c.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/0*YISEo8biYXvUHFf3"/></div></figure><p id="6190" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我很高兴地宣布，我的书《学习Kibana 7:用Kibana的数据可视化功能构建强大的弹性仪表板，第二版》获得了https://bookauthority.org/books/new-elasticsearch-books?<a class="ae kw" href="https://bookauthority.org/books/new-elasticsearch-books?t=11vp86&amp;s=award&amp;book=1838550364" rel="noopener ugc nofollow" target="_blank">book authority的最佳新弹性搜索书籍</a> : <br/> <a class="ae kw" href="https://bookauthority.org/books/new-elasticsearch-books?t=11vp86&amp;s=award&amp;book=1838550364" rel="noopener ugc nofollow" target="_blank">t = 11vp 86&amp;s = award&amp;book = 1838550364</a><br/>book authority收集并排名世界上最好的书籍，能得到这种认可是莫大的荣幸。谢谢大家的支持！这本书在亚马逊上<a class="ae kw" href="https://www.amazon.com/dp/1838550364?tag=uuid10-20" rel="noopener ugc nofollow" target="_blank">有售。</a></p></div><div class="ab cl lm ln hu lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ij ik il im in"><p id="efcc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如有任何疑问，请留下您的意见。你也可以在推特上关注我:<a class="ae kw" href="https://twitter.com/anubioinfo" rel="noopener ugc nofollow" target="_blank">https://twitter.com/anubioinfo</a></p><p id="944a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lg">如果你觉得这篇文章很有趣，那么你可以探索一下“</em> <a class="ae kw" href="https://www.amazon.com/Mastering-Kibana-6-x-Visualize-histograms/dp/1788831039/ref=olp_product_details?_encoding=UTF8&amp;me=" rel="noopener ugc nofollow" target="_blank"> <em class="lg">掌握基巴纳6.0 </em> </a> <em class="lg">”、“</em> <a class="ae kw" href="https://www.amazon.com/Kibana-Quick-Start-Guide-Elasticsearch/dp/1789804035" rel="noopener ugc nofollow" target="_blank"> <em class="lg">基巴纳7快速入门指南</em> </a> <em class="lg">”、“</em> <a class="ae kw" href="https://www.amazon.com/Learning-Kibana-dashboards-visualization-capabilities-ebook/dp/B07V4SQR6T" rel="noopener ugc nofollow" target="_blank"> <em class="lg">学习基巴纳7 </em> </a> <em class="lg">”、</em> <a class="ae kw" href="https://www.amazon.com/gp/product/1789803322?pf_rd_p=2d1ab404-3b11-4c97-b3db-48081e145e35" rel="noopener ugc nofollow" target="_blank"> <em class="lg"> Elasticsearch 7快速入门指南</em> </a> <em class="lg"/></p></div><div class="ab cl lm ln hu lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ij ik il im in"><p id="5770" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lg">最初发表于</em><a class="ae kw" href="https://bqstack.com/b/detail/109/Monitoring-Application-using-Elastic-APM" rel="noopener ugc nofollow" target="_blank"><em class="lg">https://bqstack.com</em></a>T43。</p></div></div>    
</body>
</html>