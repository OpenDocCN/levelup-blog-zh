<html>
<head>
<title>Learning C++: while and do while Loops</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">学习C++: while和do while循环</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/learning-c-while-and-do-while-loops-654500343590?source=collection_archive---------16-----------------------#2020-07-19">https://levelup.gitconnected.com/learning-c-while-and-do-while-loops-654500343590?source=collection_archive---------16-----------------------#2020-07-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/eb2434612f552ec2e3f28aa2fabd25ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zy_VhWrLPq50oAe2"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@etiennegirardet?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">艾蒂安·吉拉代</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="8eef" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在之前的<a class="ae kf" rel="noopener ugc nofollow" target="_blank" href="/learning-c-for-loops-229e5a803002">文章</a>中，我讨论了如何在C++中使用<code class="fe le lf lg lh b">for</code>循环。在本文中，我将讨论C++中的另外两种基本循环类型——<code class="fe le lf lg lh b">while</code>循环和<code class="fe le lf lg lh b">do while</code>循环。当事先不知道要处理循环体的次数时，可以使用这些循环类型。</p><p id="f7db" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，当处理一个文件的内容时，您不知道文件中有多少条记录，所以您不能使用<code class="fe le lf lg lh b">for</code>循环来执行循环体一定的次数。另一个例子是，当您处理用户输入时，用户可以决定何时停止处理。</p><p id="6f66" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这些类型的编程场景需要一个开放式循环，该循环将在达到特定条件时结束，而不是在特定次数的迭代之后结束。</p><h1 id="d49b" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">while循环</h1><p id="17ef" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">对于大多数迭代次数不确定的编程问题，可以选择<code class="fe le lf lg lh b">while</code>循环。下面是<code class="fe le lf lg lh b">while</code>循环的语法模板:</p><p id="dbc8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ml"> while(条件){ <br/>循环体；<br/> } </em></p><p id="8b67" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">模板中的条件是一个关系表达式，必须计算为true，循环体才能执行。条件通常包含在条件中检查的变量(循环控制变量)。</p><p id="09fa" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我要展示的第一个例子是使用一个带有sentinel值的<code class="fe le lf lg lh b">while</code>循环。<em class="ml">标记</em>是一个值，当遇到该值时，会导致循环停止。第一个例子是一个程序，它让用户输入测试分数来计算测试平均分。当用户输入值-99(标记值)时，程序将停止。</p><p id="3bac" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">程序如下:</p><pre class="mm mn mo mp gt mq lh mr ms aw mt bi"><span id="0291" class="mu lj it lh b gy mv mw l mx my">#include &lt;iostream&gt;<br/>using namespace std;</span><span id="2961" class="mu lj it lh b gy mz mw l mx my">int main () {<br/>  int grade = 0, total = 0, count = 0;<br/>  cout &lt;&lt; "Enter a grade: ";<br/>  cin &gt;&gt; grade;<br/>  while (grade != -99) {<br/>    total += grade;<br/>    count++;<br/>    cout &lt;&lt; "Enter a grade: ";<br/>    cin &gt;&gt; grade;<br/>  }<br/>  double average = static_cast&lt;double&gt;(total) / count;<br/>  cout &lt;&lt; "The average grade is: " &lt;&lt; average &lt;&lt; endl;<br/>  return 0;<br/>}</span></pre><p id="a192" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是这个程序运行一次的输出:</p><pre class="mm mn mo mp gt mq lh mr ms aw mt bi"><span id="ae38" class="mu lj it lh b gy mv mw l mx my">Enter a grade: 77<br/>Enter a grade: 81<br/>Enter a grade: 92<br/>Enter a grade: 83<br/>Enter a grade: 76<br/>Enter a grade: -99<br/>The average grade is: 81.8</span></pre><p id="357b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当我教我的学生<code class="fe le lf lg lh b">while</code>循环时，我告诉他们在设计使用while循环的代码时必须考虑四件事。它们是:</p><p id="ace2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ml"> 1。条件必须明确，并反映出你要解决的问题。</em></p><p id="415a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ml"> 2。条件中的循环控制变量必须为true才能进入条件。</em></p><p id="c9ba" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ml"> 3。知道你想在循环体中完成什么。</em></p><p id="1c0d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ml"> 4。确保修改循环控制变量，以便循环最终停止。</em></p><p id="d763" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所有这些都很重要，但最后一个尤其重要。如果不修改循环内部的循环控制变量，循环就会一直运行下去，这叫做<em class="ml">无限循环</em>。</p><p id="fb7e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">虽然您通常会选择使用for循环，但是您可以创建一个<code class="fe le lf lg lh b">while</code>循环来执行某个任务一定的次数。这被称为<em class="ml">计数控制</em>T1】循环。这种循环的一个例子是当你想用用户的数据初始化一个数组时。以下是一个计数控制循环的示例:</p><pre class="mm mn mo mp gt mq lh mr ms aw mt bi"><span id="6136" class="mu lj it lh b gy mv mw l mx my">int main () {<br/>  const int numElements = 5;<br/>  int numbers[numElements];<br/>  int count = 0;<br/>  int number;<br/>  while (count &lt; numElements) {<br/>    cout &lt;&lt; "Enter an integer: ";<br/>    cin &gt;&gt; number;<br/>    numbers[count] = number;<br/>    count++;<br/>  }<br/>  for (int num : numbers) {<br/>    cout &lt;&lt; num &lt;&lt; " ";<br/>  }<br/>  return 0;<br/>}</span></pre><p id="603b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我在最后添加了range <code class="fe le lf lg lh b">for</code>循环，这样你就可以确保所有的数据都被输入到数组中。</p><p id="3ad2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果省略count++语句；，循环将永远运行，数组将不会正确填充。</p><h1 id="caf3" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">do while循环</h1><p id="90b6" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated"><code class="fe le lf lg lh b">do while</code>循环的执行与while循环非常相似，但有一个重要的区别——条件是在循环体的末尾，而不是在循环体之前。这使得一些程序更容易编写，因为条件测试是在第一次执行循环体之后执行的。</p><p id="fead" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是do while循环的语法模板:</p><p id="510d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ml"> do { <br/>循环体；<br/> } while(条件)；</em></p><p id="7512" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面的程序是一个<code class="fe le lf lg lh b">do while</code>循环的例子。该程序要求用户输入他们的密码，只有当输入的密码和存储的密码匹配时才中断循环。</p><p id="0639" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">程序是这样的:</p><pre class="mm mn mo mp gt mq lh mr ms aw mt bi"><span id="4916" class="mu lj it lh b gy mv mw l mx my">#include &lt;iostream&gt;<br/>#include &lt;string&gt;<br/>using namespace std;</span><span id="5d13" class="mu lj it lh b gy mz mw l mx my">int main ()<br/>{<br/>  string password = "letmein";<br/>  string loggedPW;<br/>  do {<br/>    cout &lt;&lt; "Enter your password: ";<br/>    cin &gt;&gt; loggedPW;<br/>  } while (loggedPW != password);<br/>  cout &lt;&lt; "Password accepted!" &lt;&lt; endl;<br/>  return 0;<br/>}</span></pre><p id="f609" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是这个程序运行一次的输出:</p><pre class="mm mn mo mp gt mq lh mr ms aw mt bi"><span id="82a5" class="mu lj it lh b gy mv mw l mx my">Enter your password: password<br/>Enter your password: 123456<br/>Enter your password: mypassword<br/>Enter your password: letmein<br/>Password accepted!</span></pre><p id="8e51" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">选择<code class="fe le lf lg lh b">do while</code>循环而不是<code class="fe le lf lg lh b">while</code>循环的关键是，当循环体必须至少执行一次时，选择<code class="fe le lf lg lh b">do while </code>循环。一个例子是当你向用户显示一个菜单选项时(这个例子只在基于字符的应用程序中有意义)。下面是这样一个菜单的例子:</p><pre class="mm mn mo mp gt mq lh mr ms aw mt bi"><span id="b2a3" class="mu lj it lh b gy mv mw l mx my">int main ()<br/>{<br/>  int choice = 0;<br/>  do {<br/>    cout &lt;&lt; "1. Do this." &lt;&lt; endl;<br/>    cout &lt;&lt; "2. Do that." &lt;&lt; endl;<br/>    cout &lt;&lt; "3. Quit." &lt;&lt; endl;<br/>    cout &lt;&lt; "Enter choice: ";<br/>    cin &gt;&gt; choice;<br/>  } while (choice &lt; 1 || choice &gt; 3);<br/>  return 0;<br/>}</span></pre><p id="8d6c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是这个程序的一次运行:</p><pre class="mm mn mo mp gt mq lh mr ms aw mt bi"><span id="aaf2" class="mu lj it lh b gy mv mw l mx my">1. Do this.<br/>2. Do that.<br/>3. Quit.<br/>Enter choice: 0<br/>1. Do this.<br/>2. Do that.<br/>3. Quit.<br/>Enter choice: 4<br/>1. Do this.<br/>2. Do that.<br/>3. Quit.<br/>Enter choice: 3</span></pre><h1 id="cc6f" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">关于while循环选择的总结</h1><p id="45b4" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">当循环要求不确定时，应使用<code class="fe le lf lg lh b">while</code>循环或<code class="fe le lf lg lh b">do while</code>循环。换句话说，如果你不知道你希望循环体执行多少次，你应该使用这两个版本的<code class="fe le lf lg lh b">while</code>循环中的一个。如果你想保证循环体至少运行一次，你应该选择一个<code class="fe le lf lg lh b">do while</code>循环，否则，总是选择while循环，因为它更容易阅读和调试。</p><p id="876d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢您的阅读，请给我发电子邮件提出意见和建议。</p></div></div>    
</body>
</html>