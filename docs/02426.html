<html>
<head>
<title>Android Alert Dialogs in Kotlin — Tutorial</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Kotlin中的Android警告对话框——教程</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/android-alert-dialogs-in-kotlin-tutorial-fbbe1f787015?source=collection_archive---------3-----------------------#2020-03-12">https://levelup.gitconnected.com/android-alert-dialogs-in-kotlin-tutorial-fbbe1f787015?source=collection_archive---------3-----------------------#2020-03-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6ff3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">对话框和提醒是每个Android应用的基础部分，在本教程中，我将向你展示使用它们的基础知识</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8f57441e0129b9d9c7c8da3940b54217.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Kg3K-JayKRoM4s4d"/></div></div></figure><p id="6567" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在数字世界中，对话出现在我们的日常生活中。当提到对话框时，几乎每个用户都知道我们在说什么:“那些覆盖屏幕并打断你想做的事情的烦人的小窗口”…差不多吧。它就像我们大多数的Android UI工具一样，是一种与用户交流重要信息的方式。这就是为什么我在Kotlin教程中创建了这个Android警告对话框。</p><p id="cd1c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">首先，看看Android官方对对话框的定义，我们发现如下:</p><blockquote class="lq lr ls"><p id="39d1" class="ku kv lt kw b kx ky ju kz la lb jx lc lu le lf lg lv li lj lk lw lm ln lo lp im bi translated">对话框是一个小窗口，提示用户做出决定或输入附加信息。对话框不会填满屏幕，通常用于需要用户在继续操作之前采取行动的模式事件。</p><p id="7898" class="ku kv lt kw b kx ky ju kz la lb jx lc lu le lf lg lv li lj lk lw lm ln lo lp im bi translated"><a class="ae lx" href="https://developer.android.com/guide/topics/ui/dialogs" rel="noopener ugc nofollow" target="_blank">T3【https://developer.android.com/guide/topics/ui/dialogs】T5</a></p></blockquote><p id="caf5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">作为一名Android开发者，你会在你的大多数应用程序中使用对话框，想想你每天使用的应用程序中的例子。我想到了三个简单的例子。</p><ol class=""><li id="09cb" class="ly lz it kw b kx ky la lb ld ma lh mb ll mc lp md me mf mg bi translated">确认消息。</li><li id="7445" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp md me mf mg bi translated">提醒输入日期或文本。</li><li id="d201" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp md me mf mg bi translated">提示选择一个选项。</li></ol><h1 id="266a" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">Android Kotlin警告对话框教程</h1><p id="e8ee" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">你可能已经知道，在本教程中，我们将学习如何创建一个Android对话框。虽然这是一个初学者教程，但任何人都可以跟着学习基础知识并了解最佳实践。从创建一个新的Android Studio项目开始，如果你不知道如何做，请在这里查看我的<a class="ae lx" href="http://www.evanamargain.com/blog/android/new-android-studio-project-for-kotlin-and-java-tutorial/" rel="noopener ugc nofollow" target="_blank">教程</a>，为了这个教程的目的，我使用:</p><ul class=""><li id="c1a1" class="ly lz it kw b kx ky la lb ld ma lh mb ll mc lp nj me mf mg bi translated">Android Studio 3.5.3</li><li id="d0e9" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp nj me mf mg bi translated">科特林1.3</li><li id="b549" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp nj me mf mg bi translated">Compat库:AndroidX</li></ul><p id="8daa" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你喜欢下载我的源代码，你可以在这里得到它:</p><p id="33b5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><a class="ae lx" href="http://www.evanamargain.com/blog/wp-content/uploads/2020/05/Project-Starter.zip" rel="noopener ugc nofollow" target="_blank">启动项目</a></p></div><div class="ab cl nk nl hx nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="im in io ip iq"><h1 id="3552" class="mm mn it bd mo mp nr mr ms mt ns mv mw jz nt ka my kc nu kd na kf nv kg nc nd bi translated">开始项目</h1><p id="a7df" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">从“空活动模板”开始，配置默认设置，如下图1所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/68f4a220ca7cc947f50c8e1312150223.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rTtHbtbsSO3DQgRP"/></div></div><figcaption class="nx ny gj gh gi nz oa bd b be z dk translated">图1。要开始的项目设置</figcaption></figure><p id="dccc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">运行应用程序，你应该能够看到类似于图片2的东西，颜色可能会有所不同。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/19388871de5be96183f13f757ebcfa7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*FbOO7r3OHX9Hwu3Zh8vRXw.png"/></div><figcaption class="nx ny gj gh gi nz oa bd b be z dk translated">图2。初始屏幕</figcaption></figure><h1 id="2cff" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">第1部分:警报基础知识</h1><h2 id="40d2" class="oc mn it bd mo od oe dn ms of og dp mw ld oh oi my lh oj ok na ll ol om nc on bi translated">创建一个按钮来显示警告</h2><p id="35ed" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">在这个屏幕上，您需要做的第一件事是将屏幕上的“Hello World”文本替换为一个按钮。这个按钮会触发我们最基本的警报。要做到这一点，头到<strong class="kw iu"> activity_main.xml </strong>，该文件应该已经在您创建项目时打开，否则，在文件夹<strong class="kw iu"><em class="lt">app&gt;RES&gt;drawable</em></strong>中查找。第一次打开文件时，你会在左下角看到两个标签，设计和文本，最有可能选择的是“设计”(图3)，虽然这是一个很好的预览屏幕，但几乎总是在“文本”部分编辑代码。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/f89b2350d6b29a9a75b6f993f4ad29e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3sYdlmV92Y7GwhpB"/></div></div><figcaption class="nx ny gj gh gi nz oa bd b be z dk translated">图3。XML '设计'可视化编辑器</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/748c9b3ca463d5c52b8b0e258f736a15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P9EZ8o-ZYo1nv1bcnb7hSg.png"/></div></div><figcaption class="nx ny gj gh gi nz oa bd b be z dk translated">图4。XML“文本”代码编辑器</figcaption></figure><p id="d853" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">代表“Hello world”文本的行在<textview>标记中，在上图(图4)中，它们代表第9行到第16行。将该代码替换为以下内容:</textview></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="a6b2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你比较我们之前在图4中的代码和新代码，你会注意到我们只改变了文本和标签的名称，之前是“文本视图”，现在是“按钮”。如你所见，Android XML布局代码非常简单，我们没有修改的其他行是视图的属性，指示它在空间中的位置，现在不要担心它们的意思。回到“设计”选项卡，您现在可以预览按钮，如下图所示(图5)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/d2a33025386487c5b1e584776f6a44e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZFutVfb8IKiXoQOd"/></div></div><figcaption class="nx ny gj gh gi nz oa bd b be z dk translated">图5。设计预览</figcaption></figure><p id="5daf" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在运行应用程序，你应该会看到屏幕上的按钮，顺便说一下，类似于预览。如果你想知道你的结果应该是什么样子，看看下面的图片6。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi or"><img src="../Images/4e30e25e0875972b07cfba3c67a00759.png" data-original-src="https://miro.medium.com/v2/resize:fit:1316/format:webp/1*O6a1Y60idKPGZRfo-aSA_g.png"/></div><figcaption class="nx ny gj gh gi nz oa bd b be z dk translated">图6。带有显示对话框按钮的屏幕。</figcaption></figure><h2 id="a98f" class="oc mn it bd mo od oe dn ms of og dp mw ld oh oi my lh oj ok na ll ol om nc on bi translated">为警报对话框编写Kotlin代码</h2><p id="0add" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">打开MainActivity.kt，这是包含我们之前编辑的控制屏幕的所有Kotlin代码的代码。如果您在项目创建后没有打开该文件，您可以在app &gt; java &gt;您的项目名称&gt; MainActivity.kt中找到它。正如您可能看到的，该文件包含少量代码:</p><ol class=""><li id="61de" class="ly lz it kw b kx ky la lb ld ma lh mb ll mc lp md me mf mg bi translated">它所属的包的名称。</li><li id="9829" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp md me mf mg bi translated">一些默认导入。</li><li id="05ee" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp md me mf mg bi translated">你的主要活动课。</li><li id="f4ad" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp md me mf mg bi translated">onCreate()函数，这是一个在屏幕“创建”后执行的函数。在它的内部，通过<em class="lt">setContentView(r . layout . activity _ main)</em>指令，您告诉应用程序使用activity_main.xml文件作为这段代码的布局。</li></ol><p id="189b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">解释够了，让我们来看代码吧！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/ec675c53ef36bb9e6a67bbf21cb2aa82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MC6DqCVtXo0R-JK6K-09bg.jpeg"/></div></div></figure><h1 id="eef1" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">导入所需的类</h1><p id="9624" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">首先，在导入行中，添加以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="3d6f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">导入可能被最小化，你可以通过单词import后面的…信号知道这一点。通过双击这些省略号或者通过线右侧的(非常小的)“+”图标来打开它。别担心顺序，没什么区别。</p><h2 id="1cbe" class="oc mn it bd mo od oe dn ms of og dp mw ld oh oi my lh oj ok na ll ol om nc on bi translated">创建显示警报的方法</h2><p id="54ad" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">现在，对于警报本身，在onCreate()方法下，创建一个新方法，用以下代码显示警报:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="9f11" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们一部分一部分地检查这段代码。为了便于解释，我用注释(不一定要包含在项目中)标记了这些部分:</p><ol class=""><li id="ff6e" class="ly lz it kw b kx ky la lb ld ma lh mb ll mc lp md me mf mg bi translated">Android提供了一个默认的“生成器”来创建警告对话框，所以你不必担心背后的逻辑。使用它，并告诉应用程序在“这个”类上创建一个生成器。</li><li id="eadf" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp md me mf mg bi translated">您可以设置警报的标题和消息。</li><li id="4574" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp md me mf mg bi translated">您请求构建器显示警告。</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/3e81303d194339bc38b41bc681ad49a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sRpGb_zSg7oDkE27UO6N0w.jpeg"/></div></div></figure><p id="e2cc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在我们需要以某种方式调用这个方法，在onCreate()的底部添加这行代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="8225" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你对你的代码现在应该是什么样子有点困惑，看看下面的图片(图7)来澄清一下。不要担心，这是很多新的信息，编码与实践是齐头并进的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/ef0f11ac8b6f96395280dacb60959096.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1eGq53nd0TW_32X2"/></div></div><figcaption class="nx ny gj gh gi nz oa bd b be z dk translated">图7。主要活动Kotlin代码</figcaption></figure><p id="8dec" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在运行应用程序，看看会发生什么。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/297ee0b583c7cf501ed1d86c4cd28ffb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1328/format:webp/1*P86dOAzMcjPCSRAbpJ2vlw.png"/></div><figcaption class="nx ny gj gh gi nz oa bd b be z dk translated">图8。警报显示</figcaption></figure><p id="8273" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">发生了什么事？应用程序可以运行，但是……屏幕启动时显示警报，您能确定为什么会出现这种情况吗？由于我们在最后一步中添加到onCreate()方法中的代码行，警报立即显示出来，这不是我们想要做的，但至少我们知道我们的警报现在可以工作了。</p><h2 id="ef11" class="oc mn it bd mo od oe dn ms of og dp mw ld oh oi my lh oj ok na ll ol om nc on bi translated">将showAlert()方法附加到按钮操作</h2><p id="5047" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">下一步是让按钮触发警报，而不是让onCreate()来完成这项工作。为此，返回到activity_main.xml文件，在button标记中添加下面一行:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="4031" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">XML文件的结果如下图所示(图9)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/1de8829fd666705501fdbc98e6d56824.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*o6lN8yzKUTMnfd7_"/></div></div><figcaption class="nx ny gj gh gi nz oa bd b be z dk translated">图9。activity_main.xml代码</figcaption></figure><p id="a9b7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您需要注意的是，添加到onClick属性中的参数与我们在上面创建的函数名称"<em class="lt">funshowBasicDialog(View:View？)</em>”，这里的关键是‘view’参数，你在onClick上使用的方法，必须有一个view参数才能工作。</p><p id="e55c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在从onCreate中删除“<em class="lt">showBasicDialog(</em><strong class="kw iu"><em class="lt">null</em></strong><em class="lt">)</em>”调用，运行app。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi or"><img src="../Images/e4852d287a38e942f009dc1442555699.png" data-original-src="https://miro.medium.com/v2/resize:fit:1316/1*dFknb0XBiWxsInKjuGJsoQ.gif"/></div><figcaption class="nx ny gj gh gi nz oa bd b be z dk translated">图10。点击按钮时显示警告</figcaption></figure><p id="b2ea" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">成功了吗？太好了！这是创建警报的第一步。</p></div><div class="ab cl nk nl hx nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="im in io ip iq"><h1 id="fd0e" class="mm mn it bd mo mp nr mr ms mt ns mv mw jz nt ka my kc nu kd na kf nv kg nc nd bi translated">第2部分:添加交互</h1><p id="a672" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">让我们停下来想一想，我们脑海中第一个想到的词是对话，或者说警报。现在将它与我们上一篇文章的结果进行比较(图11)，如果你需要提醒，这里是上一篇教程的结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi or"><img src="../Images/e4852d287a38e942f009dc1442555699.png" data-original-src="https://miro.medium.com/v2/resize:fit:1316/1*dFknb0XBiWxsInKjuGJsoQ.gif"/></div><figcaption class="nx ny gj gh gi nz oa bd b be z dk translated">图11。上一个教程的结果</figcaption></figure><p id="c5b5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">问题是…少了什么？这种警报通常缺少什么？我首先想到的是“纽扣”。大多数提醒是交互式的，我们的意思是它们给你提供了选项和选择的可能性。你可能熟悉我们实现的功能，通过点击周围的灰色区域来消除，但这不是最好的主意。作为应用开发者，我们必须优先考虑用户体验，缩写为UX。</p><h1 id="f730" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">纽扣和UX</h1><p id="a0ff" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">按钮是数字世界中一个非常有趣的元素，但如果我们探究按钮的起源，它不是后计算机时代的一部分，按钮在计算机和智能手机之前就存在了。这就是按钮的魔力，它们属于物理世界，这就是为什么每个人几乎凭直觉就知道如何使用它们。另一方面，点击对话框外的灰色区域是我们从技术和现代设计实践中学到的，但不一定是直观的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/30608bcc9e8f6bcde255c3110119b38e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*11Okk7X4-H6SyDYB"/></div></div></figure><blockquote class="lq lr ls"><p id="5ab2" class="ku kv lt kw b kx ky ju kz la lb jx lc lu le lf lg lv li lj lk lw lm ln lo lp im bi translated">按钮是交互设计中常见的元素。虽然它们看起来是非常简单的UI元素，但它们仍然是最重要的创建元素之一。</p><p id="b9e8" class="ku kv lt kw b kx ky ju kz la lb jx lc lu le lf lg lv li lj lk lw lm ln lo lp im bi translated"><a class="ae lx" href="https://www.smashingmagazine.com/2016/11/a-quick-guide-for-designing-better-buttons/" rel="noopener ugc nofollow" target="_blank"><em class="it">https://www . smashingmagazine . com/2016/11/a-quick-guide-for-design-better-buttons/</em></a></p></blockquote><h1 id="0c39" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">向您的提醒添加按钮</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/698e2e24647938314b9a65607339dae1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G3StQDDXhq61f9Rxe9Co-Q.jpeg"/></div></div></figure><p id="3556" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">记住按钮给我们选择是很重要的，大多数警告对话框会让你在两个选项中选择，通常是“是”和“否”。请注意，根据您的行动，这些词语可能会被其他词语替换。</p><p id="c05f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> <em class="lt"> Pro-tip </em> </strong> <em class="lt">:使用实际告诉用户按钮将做什么的文字，例如:你要删除这个文件吗？好标签:“删除”/“不要删除”，坏标签:“是”、“否”。这可能看起来很傻，但对于一些用户来说，这可能是意外丢失文件或保持文件安全的区别。</em></p><p id="a2b9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">一旦您打开了项目，请转到文件'<strong class="kw iu"> MainActivity.kt </strong>，并在'<strong class="kw iu">builder . set message(" your message ")</strong>'指令之后和'<strong class="kw iu"> builder.show() </strong>'之前找到<strong class="kw iu">showBasicDialogFragment()</strong>，您将为对话框添加选项。在那里添加以下代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="07e7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">该应用程序也很可能会用红色标记术语“toast”，这是因为缺少导入，所以在顶部添加Toast导入。你也可以使用快捷键<em class="lt"> option+intro </em>或者<em class="lt"> ctrl+intro </em>来自动导入。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="19af" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">注意:我在下面增加了一个解释什么是祝酒词的部分，以防你对它的工作原理感到好奇。</p><p id="c201" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在让我们一部分一部分地回顾这段代码:</p><ol class=""><li id="6303" class="ly lz it kw b kx ky la lb ld ma lh mb ll mc lp md me mf mg bi translated">你是在告诉构建器对象，创建一个‘肯定的’按钮。默认情况下，Android已经知道什么是正按钮，有时根据系统或可访问性设置，你可以通过语音命令或其他方式触发它。您表示要显示的文本是“<strong class="kw iu">是</strong>”。然后添加两个参数，第一个指示它是一个对话框，然后一个'<em class="lt"> which </em>'参数告诉它当点击它时做什么。</li><li id="c28c" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp md me mf mg bi translated">这是点击<em class="lt">“是”/肯定</em>按钮时将执行的动作。在本例中，您正在创建一个<strong class="kw iu"> Toast </strong>项目，它也有文本“Yes”来测试您的按钮的功能。</li><li id="e8c0" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp md me mf mg bi translated">该代码与第一个代码相同，但是在本例中，您定义了一个“否定”按钮，文本为“否”。</li><li id="097d" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp md me mf mg bi translated">就像上一个一样，这和第二个一样，但是有“不”的文字。</li></ol><p id="9d6e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">运行应用程序并检查结果。</p><h1 id="9ca8" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">挑战</h1><p id="0a71" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">在对话框中添加一个可能按钮！</p><p id="af0b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">见下文获得提示或查看完整答案。但是之前，试着自己做！</p></div><div class="ab cl nk nl hx nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="im in io ip iq"><p id="a3be" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">提示:</strong>就像Android有正反按钮的方法一样，它也有一个你可以设置的中性按钮。</p></div><div class="ab cl nk nl hx nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="ce7b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">就像上面的元素一样，中立按钮是用文本和动作设置的。看看下面的gif，看看运行app后的行为。你得到了同样的结果吗？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/7a086d96c42886f72fa334709766dd39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1312/1*Cl2hBmksc3bFD_mjh4NdHg.gif"/></div></figure><h1 id="5689" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">烤面包片</h1><p id="effa" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">敬酒项目，也称为祝酒🍞。是Android中使用的元素，用于在某个时刻显示某些内容，然后自动将其删除。几年前，它们是快速消息的标准，但现在它们主要被开发人员用来显示对用户来说不太重要的错误，或者在开发过程中用来测试。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/c75a6b3cd7dbbe33df191a4f0f9a4cbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YyemjtVXy6J3iVEMevZABw.jpeg"/></div></div></figure><p id="cd2c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">就这样，现在你的提醒有了按钮，并对用户的动作做出反应。</p><h1 id="7667" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">第3部分:列表对话框</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9833baaddf94d6164fa2fb1873e6216a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fCCy5cuWKPGNHTBK"/></div></div></figure><p id="f215" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你可能需要在你的对话框中添加很多东西，在这最后一部分，你将学习如何在你的对话框中添加选择列表，它分为三类:</p><ol class=""><li id="77cf" class="ly lz it kw b kx ky la lb ld ma lh mb ll mc lp md me mf mg bi translated">纯文本列表，您可以从中选择一个选项。</li><li id="ff6d" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp md me mf mg bi translated">单选按钮列表，也用于单个选项。</li><li id="27ad" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp md me mf mg bi translated">复选框列表，用于选择多个选项。</li></ol><h1 id="32b2" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">添加更多按钮来显示对话框</h1><p id="75cb" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">在使用这个应用程序之前，我们将为每个新的提醒添加4个按钮，这样你就可以保留所有的例子，并在你的个人项目中重用它们。</p><h1 id="b950" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">设置新按钮</h1><p id="96e0" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">将以下代码添加到<strong class="kw iu"> activity_main.xml </strong>中，位于上一个按钮的下方:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="62e0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这段代码与上一个按钮非常相似，但是有3点需要注意:</p><ol class=""><li id="dd9a" class="ly lz it kw b kx ky la lb ld ma lh mb ll mc lp md me mf mg bi translated">第一行有一个id。id对于操纵代码中的视图并能够引用它们非常重要。你会明白我为什么加这个。</li><li id="349f" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp md me mf mg bi translated">onClick方法仍然指向<strong class="kw iu"> showBasicDialog </strong>，这将在我们创建显示列表的方法后改变，但现在，让它像这样以避免Android Studio的错误。</li><li id="548d" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp md me mf mg bi translated">我们已经将按钮的文本更改为另一个文本。</li></ol><p id="956b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">构建并运行该应用程序，您应该会得到以下内容。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/4b770e9fc8e323cf16d1196a8e46fb7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1328/format:webp/1*wh-xGwlD4TLcOiBzAAooJw.png"/></div></figure><p id="bde4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你看它，你应该注意到新的按钮被放置在前一个按钮之上，这就是为什么我们添加了ID。为您的上一个按钮添加一个ID:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="d25e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我更喜欢将它们作为XML项的第一项来添加，以便于识别它们，但是它可以放在任何地方。现在注意两个按钮都有一些引用约束<strong class="kw iu"> layout_constraintX_toYOf </strong>的行。在移动开发领域，也就是Android和iOS，用约束来管理视图是很常见的。这些约束基本上告诉项目，它们在屏幕中的位置，如果你看两个按钮，它们被约束到'<strong class="kw iu">父节点【T3 ' '，这意味着它们到屏幕的顶部、底部、右侧和左侧有相等的距离。为了显示两个按钮，我们需要相对于第二个按钮的顶部约束放置第一个按钮的底部约束。这就是这里需要id的原因。</strong></p><h1 id="b8bd" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">限制</h1><p id="fc82" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">更改第一个按钮的<strong class="kw iu">layout _ constraint bottom _ to bottom of</strong>，如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="c8bc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">请注意，底部现在被约束为“<strong class="kw iu">到顶部</strong>”，而之前是“<strong class="kw iu">到底部</strong>”。</p><p id="94d1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在第二个按钮中改变<strong class="kw iu">layout _ constraint top _ toTopOf</strong>，为:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="584a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">注意:<strong class="kw iu">layout _ constraint bottom _ toTopOf</strong>和<strong class="kw iu">layout _ constraint top _ tobottom of</strong>两者不一定都加，但是如果把它们都加起来，你会得到更多的练习和逻辑感。</p><p id="e0e9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在再次运行应用程序，你应该可以看到两个按钮。此时，它们将显示相同的对话框，因为它们都引用showBasicDialog操作。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/fa607471a694de99a2f90e51f1fe051c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*QqNqeKpSYqzviUrg4B_2ZQ.png"/></div></figure><h1 id="c94b" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">添加其余的按钮</h1><p id="28c6" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">挑战:再添加两个按钮，文本为“显示单选按钮列表！”和“显示复选框列表！”。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="c67f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">添加四个按钮后，您应该会在屏幕上看到以下内容:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/e42a4ac0148f94d31ec76c20dabefc73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*krIUQ46G-HL7kjjNZvv_Gg.png"/></div></figure><p id="5dfa" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">准备工作完成后，让我们开始对话。</p><h1 id="d0db" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">带有列表的Android对话框</h1><p id="5e10" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">正如本文开头提到的，Android提供了三个主要的列表选项来添加到对话框中:纯文本，没有指示器，单选按钮和复选框。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/b018d00564440e9bc7ac9bf9cb4f77d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OmDZPE8E75d4cXAL1HowdQ.jpeg"/></div></div></figure><h1 id="e2f0" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">添加可选的文本列表</h1><p id="cd44" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">这第一种列表在Android文档中被称为“传统的单项选择列表”。</p><p id="b477" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">转到MainActivity.kt并创建一个新函数:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="35cf" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于任何列表，您都需要创建一个包含您想要显示的项目的数组。假设你想问用户他最喜欢的爱好，在函数内部添加数组，像这样添加选项:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="945f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">接下来，添加创建对话框的代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="56fa" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们回顾一下上面的代码:</p><ol class=""><li id="fdc9" class="ly lz it kw b kx ky la lb ld ma lh mb ll mc lp md me mf mg bi translated">任何对话框都需要一个生成器，这个生成器总是以同样的方式创建。这个词指的是应用程序的上下文。我们还添加了一个标题，但注意这不是必需的。</li><li id="4aa1" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp md me mf mg bi translated">您将“爱好”数组中的项目设置为构建器，因此它知道您正在提供一个列表。添加OnClickListener方法，让它知道当某项被单击时该做什么。</li><li id="37c6" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp md me mf mg bi translated">正如您在基本示例中所做的那样，当用户选择一个项目时，您将显示一个祝酒词。请注意，第二个参数现在引用的是单击的数组“which”项。请注意，它给出了一个索引，因此您将引用爱好[1]，这将为您提供显示在toast中的字符串。</li><li id="a38e" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp md me mf mg bi translated">你需要让建造者知道它必须被展示。请记住这一点，我经常忘记它，并最终在长时间的思考是什么错了。注意这同样适用于吐司，很容易忘记在最后加上“show()”。</li></ol><p id="4bed" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，转到activity_main.xml文件，通过更改相应按钮的onClick方法中的内容来引用该函数:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="1ada" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">运行应用程序，点击<strong class="kw iu">显示单选列表</strong>按钮。您应该会看到类似下图的内容:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/4dc7afbe54dd0b6323eaf9757eade5fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*xfIm9cDgRcgdNO9Jc9La5g.png"/></div></figure><h1 id="1044" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">添加单选按钮列表</h1><p id="f9de" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">如果你得到了前一点的工作，我有好消息给你！添加一个带有单选按钮和复选标记的列表(我们的下一点)几乎和“传统列表”一样，但是继续下去，这样你就可以练习和掌握对话了。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/6d74221357a4778551db99daac4bb909.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IydTULtEZspDJzKq"/></div></div></figure><p id="0af3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于这一个，我们需要跟踪所选择的项目，所以在函数之外，我们将为此创建一个变量:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="1d40" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们添加-1的原因是“不选择任何”，您可能希望在没有预先选择的情况下开始您的对话框。</p><p id="3087" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">接下来，正如我们在其他例子中所做的那样，创建一个函数，在本例中称为<strong class="kw iu">showRadioButtonListDialog</strong>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="0216" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">要添加到函数中的代码如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="9544" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们再次一步一步地看代码:</p><ol class=""><li id="4e01" class="ly lz it kw b kx ky la lb ld ma lh mb ll mc lp md me mf mg bi translated">你创建了一个城市的数组，想象你想让你的用户选择他们想住在哪个城市，因为有了技术一切皆有可能，所以我们有4个城市给他们作为选择。</li><li id="e0d5" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp md me mf mg bi translated">如上所述，每个对话框都需要一个生成器。我们再一次加上标题。</li><li id="1ba9" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp md me mf mg bi translated">现在我们的第一个变化是，你会看到条目现在是通过方法<strong class="kw iu">setsinglectioneitems()</strong>添加的，这是告诉构建器你想要一个单选按钮列表。这个方法与上面的<strong class="kw iu"> setItems </strong>()方法的区别在于，这个方法接收的是“默认”项，也就是您之前创建的名为selectedRadioItem的变量。</li><li id="9b36" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp md me mf mg bi translated">您将selectRadioItem设置为新选择的项目。在函数之外创建这个变量的原因是为了保存所选择的项，否则，每次调用函数时，保存的值都会被覆盖。正如您之前所做的，您正在输出一个祝酒词，以查看您的选择是否正确。</li><li id="726f" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp md me mf mg bi translated">对于这种对话框，您需要添加一个确认按钮，因为用户可能仍然不确定，并且希望再次更改选择，直到确认。</li><li id="5f7f" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp md me mf mg bi translated">再次提醒，记得显示对话框。</li></ol><p id="ccac" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在有一个问题，在这之后我们还有一步才能看到我们的新对话框，你还记得吗？</p><p id="ad5e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您需要将该方法添加到activity_main.xml中按钮的onClick中</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="d89c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">再次运行应用程序，点击<strong class="kw iu">显示单选按钮列表</strong>项，查看更改结果，您可以看到下图以供参考:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/1387d269f038b9b8558bdf4836c171f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/format:webp/1*NFsAOxSux3qdiCOag_NlVA.png"/></div></figure><h1 id="63d3" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">添加勾号列表</h1><p id="0631" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">我希望到现在为止，您已经了解了警报是如何工作的，否则请不要担心，软件开发是一项实践，这就是为什么我们现在将再次使用复选标记列表。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/4e731faf3e6688534942aa0ec5f4c674.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-61HSv24zc3tOcbClVAg7A.jpeg"/></div></div></figure><p id="42d2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">与单选按钮一样，您需要在函数外部创建一个变量来跟踪哪些项被选中，这可以通过一个布尔项数组来完成:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="23cf" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，创建一个名为<strong class="kw iu"> showCheckmarkList </strong>的函数来显示最后一个对话框:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="8d87" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于函数内部的代码，我们将有以下内容:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="1dfe" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们像以前一样回顾一下代码的每一部分，看看它到底是关于什么的。</p><ol class=""><li id="6626" class="ly lz it kw b kx ky la lb ld ma lh mb ll mc lp md me mf mg bi translated">我们在对话框中显示的项目数组。</li><li id="acb4" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp md me mf mg bi translated">您创建每个对话框都需要的生成器。</li><li id="036f" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp md me mf mg bi translated">在这种情况下，您使用“setMultiChoiceItems”来显示复选标记列表。这个方法与单选按钮的方法非常相似，唯一的区别是它接收我们的布尔数组来跟踪选中的项目。</li><li id="5541" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp md me mf mg bi translated">您相应地选中或取消选中项目，并再次显示带有所选项目的祝酒词。</li><li id="68d6" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp md me mf mg bi translated">与单选按钮对话框的模式相同，我们需要一个按钮来确认选择。</li><li id="bcfb" class="ly lz it kw b kx mh la mi ld mj lh mk ll ml lp md me mf mg bi translated">我再说一遍，记得给你的建造者看。</li></ol><p id="9f00" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们只差了一步，你还记得是哪一步吗？将方法调用添加到按钮的onClick中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="3ec1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">搞定了。运行应用程序，你的对话框应该如下图所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/d32dcf4fb63b24aaef341bfb6749aa36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*IsF6MD9nmDRq_DaYhQq2Vg.png"/></div></figure><p id="5683" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">今天到此为止！我希望一切都很容易理解，这个Android Alert Dialogs Kotlin教程对你有用。如果你想看这个教程的结果，你可以下载下面的项目</p><p id="f969" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><a class="ae lx" href="https://evanamargain.com/wp-content/uploads/2020/02/Project-Finisher-Part-3-Android-Kotlin-Dialogs.zip" rel="noopener ugc nofollow" target="_blank">最终项目</a></p><p id="069c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我希望你喜欢这篇文章的内容。如果你有任何疑问，不要犹豫留下评论，我会尽快回复。</p><p id="090f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">下次见！</p><p id="9b06" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">埃娃娜·马尔甘·普伊格</p></div></div>    
</body>
</html>