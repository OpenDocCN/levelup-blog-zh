<html>
<head>
<title>How to Create a Java Project with Maven</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Maven创建Java项目</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-create-a-java-project-with-maven-89867bef811a?source=collection_archive---------1-----------------------#2022-04-14">https://levelup.gitconnected.com/how-to-create-a-java-project-with-maven-89867bef811a?source=collection_archive---------1-----------------------#2022-04-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9e25" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">只需几分钟即可启动并运行！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/aafd2be03f864eb4f1fd2a20b4b983cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U-p7zL9wxENueOTiUaOLiQ.png"/></div></div></figure><p id="44af" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Maven是管理软件项目的流行工具。它可以帮助您创建、构建、测试、记录和部署您的应用。Maven对于Java项目来说是一个很好的选择，可以通过命令行或者IntelliJ这样的IDE来运行。</p><p id="d888" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您是Java新手，那么学习工具生态系统可能会令人望而生畏。但是，通过使用一个称为原型的项目模板，您可以在几分钟内用Maven创建您的第一个Java项目！在本文中，我们将向您展示如何实现。</p><h1 id="5ce1" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">步骤1:安装Java</h1><p id="4024" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">可以从<a class="ae mn" href="https://www.oracle.com/java/technologies/downloads/" rel="noopener ugc nofollow" target="_blank">甲骨文的网站</a>下载安装Java。为macOS、Linux或Windows选取您想要的版本。</p><h1 id="9ec4" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">步骤2:设置Java环境变量</h1><p id="d02e" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">建议设置一个名为<code class="fe mo mp mq mr b">JAVA_HOME</code>的环境变量，存储Java在机器上的安装路径。对于Mac用户，您可以像这样将其添加到您的<code class="fe mo mp mq mr b">~/.bash_profile</code>文件中:</p><pre class="kj kk kl km gt ms mr mt mu aw mv bi"><span id="916c" class="mw lr it mr b gy mx my l mz na">export JAVA_HOME="/Library/Java/JavaVirtualMachines/jdk-18.jdk/Contents/Home"</span></pre><p id="4b14" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">只需确保用正确的位置和Java版本修改该值。</p><h1 id="2919" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">步骤3:验证是否安装了Java</h1><p id="540f" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">一旦在您的机器上安装了Java，您就可以从命令行运行以下命令来检查Java是否已经安装:</p><pre class="kj kk kl km gt ms mr mt mu aw mv bi"><span id="f379" class="mw lr it mr b gy mx my l mz na">java -version</span></pre><p id="7db3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这将向您的控制台输出几行如下所示的内容:</p><pre class="kj kk kl km gt ms mr mt mu aw mv bi"><span id="6ba1" class="mw lr it mr b gy mx my l mz na">java version "18" 2022-03-22<br/>Java(TM) SE Runtime Environment (build 18+36-2087)<br/>Java HotSpot(TM) 64-Bit Server VM (build 18+36-2087, mixed mode, sharing)</span></pre><p id="b09c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">同样，确切的输出会根据您的操作系统和您使用的Java版本而有所不同。</p><h1 id="6fb6" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">步骤4:安装Maven</h1><p id="5232" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">接下来，我们可以从<a class="ae mn" href="https://maven.apache.org/download.cgi" rel="noopener ugc nofollow" target="_blank"> Apache Maven项目网站</a>下载安装Maven。撰写本文时的最新版本是3.8.5。</p><h1 id="9339" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">步骤5:设置Maven环境变量</h1><p id="1606" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">一旦安装了Maven，我们还需要为Maven设置几个环境变量。对于Mac用户来说，这也可以放在你的<code class="fe mo mp mq mr b">~/.bash_profile</code>文件中:</p><pre class="kj kk kl km gt ms mr mt mu aw mv bi"><span id="490a" class="mw lr it mr b gy mx my l mz na">export MAVEN_ROOT="$HOME<!-- -->/path/to/maven<!-- -->/apache-maven-3.8.5"<br/>export PATH="$MAVEN_ROOT/bin:$PATH"</span></pre><p id="2775" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">同样，一定要用Maven目录的正确位置来修改这个值。</p><p id="94d9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们在这里使用的<code class="fe mo mp mq mr b">MAVEN_ROOT</code>变量只是一个辅助变量。重要的部分是将Maven的可执行文件添加到您的<code class="fe mo mp mq mr b">PATH</code>变量中，以便您的机器可以成功执行Maven命令。</p><h1 id="dd90" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">步骤6:验证Maven已经安装</h1><p id="052d" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">我们可以通过从命令行运行以下命令来验证是否正确安装了Maven:</p><pre class="kj kk kl km gt ms mr mt mu aw mv bi"><span id="adcb" class="mw lr it mr b gy mx my l mz na">mvn --version</span></pre><p id="7faa" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">输出将如下所示:</p><pre class="kj kk kl km gt ms mr mt mu aw mv bi"><span id="aa9e" class="mw lr it mr b gy mx my l mz na">Apache Maven 3.8.5 (3599d3414f046de2324203b78ddcf9b5e4388aa0)<br/>Maven home: /Users/yourusername/path/to/maven/apache-maven-3.8.5<br/>Java version: 18, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk-18.jdk/Contents/Home<br/>Default locale: en_US, platform encoding: UTF-8<br/>OS name: "mac os x", version: "10.14.4", arch: "x86_64", family: "mac"</span></pre><p id="6940" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您得到一个无法找到<code class="fe mo mp mq mr b">mvn</code>命令的错误消息，请确保环境变量中的路径是正确的，然后尝试在新的终端shell中运行该命令，或者用<code class="fe mo mp mq mr b">source ~/.bash_profile</code>重新加载bash概要文件。</p><h1 id="7876" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">步骤7:使用原型生成项目</h1><p id="5cfd" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">现在我们已经成功安装了Java和Maven，我们可以使用原型创建一个新的Maven项目。原型是基于您选择的原型为您引导应用程序的项目模板。</p><p id="c222" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在我们的例子中，我们将使用<code class="fe mo mp mq mr b">maven-archetype-quickstart</code>原型。在希望创建项目的目录中，从命令行运行以下命令:</p><pre class="kj kk kl km gt ms mr mt mu aw mv bi"><span id="ceea" class="mw lr it mr b gy mx my l mz na">mvn archetype:generate -DgroupId=com.tylerhawkins.examples -DartifactId=plinko -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false</span></pre><p id="8d16" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们来分解一下。</p><p id="a856" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><code class="fe mo mp mq mr b">mvn archtype:generate</code>是我们正在运行的命令。<code class="fe mo mp mq mr b">-D</code>前缀用于给命令添加参数。</p><p id="e2cb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们使用<code class="fe mo mp mq mr b">-DgroupId</code>来指定我们的组ID，这将是我们希望存储它的高级包。您的公司可能有一个他们使用的通用约定，但是这实际上是一个任意的值。我选了<code class="fe mo mp mq mr b">com.tylerhawkins.examples</code>，但它可能是任何东西。</p><p id="8db8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们使用<code class="fe mo mp mq mr b">-DartifactId</code>来命名我们的项目和它创建的构建工件。我正在构建一个Plinko游戏，所以我将我的游戏命名为<code class="fe mo mp mq mr b">plinko</code>。</p><p id="bcee" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们使用<code class="fe mo mp mq mr b">-DarchetypeArtifactId</code>来指定我们想要使用的原型或者项目模板。我们选择了<code class="fe mo mp mq mr b">maven-archetype-quickstart</code>。</p><p id="b0cd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最后，我们使用<code class="fe mo mp mq mr b">-DinteractiveMode=false</code>来运行这个命令，而不需要我们任何进一步的交互输入。</p><p id="a910" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">新创建的项目将位于名为<code class="fe mo mp mq mr b">plinko</code>(工件ID的名称)的目录中，目录结构如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/b73d96e7512a028a150a955b45000b20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/1*C2-wEF7hO12_hzkgiSat5w.png"/></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk translated">新Maven项目的项目目录结构</figcaption></figure><p id="48a6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Maven对其项目的目录结构有自己的看法，偏爱约定胜于配置。您可以看到在<code class="fe mo mp mq mr b">src</code>目录中有两个文件树，一个用于app代码，一个用于测试代码。<code class="fe mo mp mq mr b">target</code>目录是编译和打包代码的地方。<code class="fe mo mp mq mr b">pom.xml</code>文件是一个项目对象模型文件，包含了我们项目的所有元数据。</p><h1 id="1779" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">步骤8:指定您想要使用的Java的源版本和目标版本</h1><p id="6f3d" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">我们几乎准备好构建我们的应用程序了。首先，我们需要指定我们正在使用的Java的源和目标版本。源是我们用来编写代码的Java版本，目标是我们希望编译后的应用程序与之兼容的Java版本。</p><p id="2340" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们可以将这些属性添加到我们的<code class="fe mo mp mq mr b">pom.xml</code>文件中。我对源和目标都使用Java 18:</p><pre class="kj kk kl km gt ms mr mt mu aw mv bi"><span id="6009" class="mw lr it mr b gy mx my l mz na">&lt;properties&gt;<br/>  &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;<br/>  &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;<br/>&lt;/properties&gt;</span></pre><h1 id="4e61" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">步骤9:构建并测试应用程序</h1><p id="4b18" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">这样，我们就可以构建和测试我们的应用程序了。Maven有内置的生命周期，其中包含完成各种工作的阶段。默认Maven构建生命周期的一些阶段是<code class="fe mo mp mq mr b">validate</code>、<code class="fe mo mp mq mr b">compile</code>、<code class="fe mo mp mq mr b">test</code>、<code class="fe mo mp mq mr b">package</code>、<code class="fe mo mp mq mr b">integration-test</code>、<code class="fe mo mp mq mr b">verify</code>、<code class="fe mo mp mq mr b">install</code>和<code class="fe mo mp mq mr b">deploy</code>。</p><p id="8606" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们可以通过从项目根目录运行以下命令来构建和测试我们的应用程序:</p><pre class="kj kk kl km gt ms mr mt mu aw mv bi"><span id="39bb" class="mw lr it mr b gy mx my l mz na">mvn clean package</span></pre><p id="1870" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><code class="fe mo mp mq mr b">clean</code>命令从<code class="fe mo mp mq mr b">target</code>目录中删除以前的构建输出，然后<code class="fe mo mp mq mr b">package</code>命令运行几个阶段来编译、测试和打包应用程序到可执行的JAR文件中。</p><h1 id="e7cd" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">第十步:运行应用程序</h1><p id="f6fa" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">最后，我们可以通过从项目根目录运行以下命令来运行我们的应用程序:</p><pre class="kj kk kl km gt ms mr mt mu aw mv bi"><span id="6ee5" class="mw lr it mr b gy mx my l mz na">java -cp target/classes com.tylerhawkins.examples.App</span></pre><p id="d956" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这将运行我们的<code class="fe mo mp mq mr b">App</code>文件，它简单地输出:</p><pre class="kj kk kl km gt ms mr mt mu aw mv bi"><span id="6a08" class="mw lr it mr b gy mx my l mz na">Hello World!</span></pre><p id="4879" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们做到了！我们使用Maven创建了一个Java应用程序，并成功运行了它！</p><h1 id="c1c6" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">后续步骤</h1><p id="b936" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">现在您已经有了一个应用程序的基本框架，您可以开始编写Java代码了。您可能会添加更多的源文件，向您的<code class="fe mo mp mq mr b">pom.xml</code>文件添加更多的配置，并编写更多的测试。我们不会在这里讨论这些，但是到现在为止，您应该已经知道了足够多的知识，至少可以开始运行了。如果你想看工作示例的完整代码，这里是我创建的<a class="ae mn" href="https://github.com/thawkin3/plinko-java-maven" rel="noopener ugc nofollow" target="_blank"> Plinko应用</a>。</p><p id="f9ac" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">感谢您的阅读，祝您编码愉快！</p></div></div>    
</body>
</html>