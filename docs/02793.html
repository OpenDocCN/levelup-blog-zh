<html>
<head>
<title>Hello Express!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你好快递！</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/hello-express-44db467f47de?source=collection_archive---------20-----------------------#2020-04-04">https://levelup.gitconnected.com/hello-express-44db467f47de?source=collection_archive---------20-----------------------#2020-04-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="fce8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">第一个基于节点的API的婴儿指南。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5f0ffc7ee5596a28dd528628c2ecd4d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y10FLtefxAXbuajBlzCt2g.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">是的，我也喜欢快速时尚的女装，但这不是重点！</figcaption></figure><p id="0af6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">作为排名第一并且<a class="ae lu" href="https://dealbreaker.com/2020/04/softbank-wont-buy-wework-shares" rel="noopener ugc nofollow" target="_blank">可能很快就要成为非WeWork子公司</a> — <a class="ae lu" href="https://flatironschool.com/" rel="noopener ugc nofollow" target="_blank">熨斗学校</a>的毕业生，我被训练成一名“全栈工程师”，这意味着我能够创建一个前端，当用户访问网站时，他们将在那里进行交互，以及一个后端(对我来说是无数笑话的来源，<a class="ae lu" href="https://www.youtube.com/watch?v=PNHyKWhf69M" rel="noopener ugc nofollow" target="_blank">前喜剧演员</a>)，这是一个服务器/数据库，处理不同人对网站的所有不同使用，存储他们的数据，并将数据提供给</p><p id="6fdf" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">例如，脸书知道你的朋友是谁，他们在做什么，并能给你这些信息的方式是，你“登录”到他们的服务器，它用你特有的数据填充前端网站。他们的“前端”永远不会改变，但你看到的信息是不同的。</p><p id="fd2b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我学的前端语言框架是JavaScript/React/Redux，很棒。React是一个非常受欢迎的框架，尽管一群巨魔可能会告诉你去上Vue，React仍然是美国第一。反应看起来是这样的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/83aeda1353a18d378db10818d88af461.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TZH-R5OFns4icnDrhPKQlw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">类组件？？恶心！</figcaption></figure><p id="83b6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当然，我们这里有一些花哨的语法和一些浏览器API，如“fetch”(你们知道它在Node中不起作用吗？)但本质上，我们这里拥有的是包含数组、类、对象等的JavaScript。</p><p id="12ea" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，我为创建我的服务器而学习的后端语言看起来完全不同。是<a class="ae lu" href="https://rubyonrails.org/" rel="noopener ugc nofollow" target="_blank"> Ruby on Rails </a>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/b29c8e81dfba386bf3c80474944d1070.png" data-original-src="https://miro.medium.com/v2/resize:fit:1178/format:webp/1*EzFjekXMNSv3px6q8gQ-Sw.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">是的，我的许多项目都包括狗，因为它们很棒。</figcaption></figure><p id="9715" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，我不认为这是一件坏事。Ruby是一门美丽的语言！它充满了功能强大的工具，没有太多经验的人也可以使用。它给出的错误是惊人的，交互式的，告诉你哪里有问题，然后帮助你尝试解决它。Rails本身，一个Ruby的web框架，甚至比Ruby更擅长处理错误！就更好用了。制作一个API非常简单。</p><pre class="kj kk kl km gt lx ly lz ma aw mb bi"><span id="a779" class="mc md it ly b gy me mf l mg mh">rails new example-project --api <br/>cd example-project<br/>rails g resource user name password<br/>rails g resource jokes content user:belongs_to<br/>rails db:create &amp;&amp; rails db:migrate</span></pre><p id="e212" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后你就差不多完成了。</p><p id="cdbe" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当然，你必须写下你想让它在RESTful动作<a class="ae lu" href="https://restfulapi.net/" rel="noopener ugc nofollow" target="_blank">的情况下做什么，比如“GET，PATCH，POST”，但是你在控制器中写这些，看起来几乎和我上面显示的一模一样，而且文件大部分已经为你做好了！</a></p><p id="e469" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我认为Ruby很棒，它在语法上类似于更流行的后端语言<a class="ae lu" href="https://www.python.org/" rel="noopener ugc nofollow" target="_blank"> Python </a>，同时也更容易学习。</p><p id="cd16" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是我想做一些看起来像我的前端！而我就是在那里了解到<a class="ae lu" href="https://expressjs.com/" rel="noopener ugc nofollow" target="_blank">快递的！</a></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mi"><img src="../Images/65761bec06fad80d26f030206b71db54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZSTREPkemzO7ZIN-yn7A2w.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">这才是真正的快递！不是那个购物网站！在这里购买你的女装！</figcaption></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="4778" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，这篇文章将假设你对Node有一些了解，如果没有，你可以查阅<a class="ae lu" rel="noopener ugc nofollow" target="_blank" href="/a-pirate-y-intro-to-node-cli-apps-and-yargs-4af9410f034d">我以前的文章</a>或者查看<a class="ae lu" href="http://nodejs.org/" rel="noopener ugc nofollow" target="_blank"> Node的网站</a>。</p><p id="8212" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是用Express创建一个API真的很简单，尽管它不像Rails那么简单(Rails被设计成“固执己见”或“这是我们认为事情应该做的方式，这里有很多免费的内容与之配套”，而不是“不固执己见”或“做任何你想做的事情，但是你必须写更多的东西！”).</p><p id="e251" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们来看一些简单的命令，再次假设您已经安装了Node和<a class="ae lu" href="https://www.npmjs.com/" rel="noopener ugc nofollow" target="_blank">节点包管理器(NPM) </a>。</p><pre class="kj kk kl km gt lx ly lz ma aw mb bi"><span id="783a" class="mc md it ly b gy me mf l mg mh">mkdir express-testing-not-clothes<br/>cd express-testing-not-clothes</span><span id="6f12" class="mc md it ly b gy mq mf l mg mh">npm init --y<br/>npm install express<br/>touch this-is-not-a-clothing-website.js</span></pre><p id="0abe" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所有这些将建立您的快速体验，而<code class="fe mr ms mt ly b">--y</code>标志只是为您创建一个默认的“package.json”文件，它基本上是您的项目的信息和脚本。</p><p id="1ffd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">开始时，我们只需要你的新文件中的几行代码！</p><pre class="kj kk kl km gt lx ly lz ma aw mb bi"><span id="c6dd" class="mc md it ly b gy me mf l mg mh">//this-is-not-a-clothing-website.js</span><span id="d87b" class="mc md it ly b gy mq mf l mg mh">const express = require('express')</span><span id="cea7" class="mc md it ly b gy mq mf l mg mh">const app = express()</span><span id="2650" class="mc md it ly b gy mq mf l mg mh">app.get('/', (req, res) =&gt; {</span><span id="98b2" class="mc md it ly b gy mq mf l mg mh">  res.send("I'm sorry, human. But this is not your fancy store.")</span><span id="9525" class="mc md it ly b gy mq mf l mg mh">})</span><span id="ff74" class="mc md it ly b gy mq mf l mg mh">app.listen(3000, () =&gt; console.log('The store is open!'))</span></pre><p id="8c31" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在我们可以稍微分解一下。</p><pre class="kj kk kl km gt lx ly lz ma aw mb bi"><span id="7cb9" class="mc md it ly b gy me mf l mg mh">const express = require('express')</span></pre><p id="9f55" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这只是Node包含其他人代码的语法！因为我们已经完成了“npm快速安装”和“npm初始化”,我们现在可以在我们的应用程序中包含express。</p><pre class="kj kk kl km gt lx ly lz ma aw mb bi"><span id="0df5" class="mc md it ly b gy me mf l mg mh">const app = express()</span></pre><p id="163c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">说到我们包含的Express，原来它是一个函数，只要调用它，我们就能得到一个完整的应用程序！</p><pre class="kj kk kl km gt lx ly lz ma aw mb bi"><span id="0df0" class="mc md it ly b gy me mf l mg mh">app.get('/', (req, res) =&gt; {</span><span id="cfcb" class="mc md it ly b gy mq mf l mg mh">  res.send("I'm sorry, human. But this is not your fancy store.")</span><span id="f1cd" class="mc md it ly b gy mq mf l mg mh">})</span></pre><p id="2ca8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是一个模仿<a class="ae lu" href="https://www.w3schools.com/tags/ref_httpmethods.asp" rel="noopener ugc nofollow" target="_blank"> HTTP请求/响应周期</a>的<strong class="la iu">路由</strong>！</p><p id="6463" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">基本上，它是说当获得基本URL或“/”时，“发送”一个响应或“res ”,在这种情况下是一个字符串或通俗地说，只是一串单词。</p><pre class="kj kk kl km gt lx ly lz ma aw mb bi"><span id="88ff" class="mc md it ly b gy me mf l mg mh">app.listen(3000, () =&gt; console.log('The store is open!'))</span></pre><p id="37c6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里我们告诉我们的应用程序监听一个端口，比如3000。如果我们要部署它，我们可能会将其抽象为:</p><pre class="kj kk kl km gt lx ly lz ma aw mb bi"><span id="5f71" class="mc md it ly b gy me mf l mg mh">const port = process.env.PORT || 3000</span></pre><p id="ebe6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它只是说，如果有一个像<a class="ae lu" href="http://herokuapp.com/" rel="noopener ugc nofollow" target="_blank"> Heroku </a>这样的服务指定的端口，你可能会部署，使用它，或者，如果它不存在，使用3000，然后这一行看起来像这样。</p><pre class="kj kk kl km gt lx ly lz ma aw mb bi"><span id="15b9" class="mc md it ly b gy me mf l mg mh">app.listen(port, () =&gt; console.log('The store is open!'))</span></pre><p id="0c09" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，我的express服务器已经基本完成了！</p><p id="6fa2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我在终端输入一个命令:</p><pre class="kj kk kl km gt lx ly lz ma aw mb bi"><span id="deb5" class="mc md it ly b gy me mf l mg mh">node this-is-not-a-clothing-website.js</span></pre><p id="8dab" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我转到“http://localhost:3000 ”,看到:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/e2b3457252cd7f3e10b083bb60d5f29f.png" data-original-src="https://miro.medium.com/v2/resize:fit:842/format:webp/1*HQyKAfCB_TBzSDUiWG3uHw.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">成功！</figcaption></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="f8ac" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是等等！这是奖金！</p><p id="e79d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">JSON呢？那是JavaScript对象符号！这是最流行的运行API的方式，也是成千上万的后端服务器如何与它们的前端对话的方式！</p><p id="41fb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所以让我们自己做一些改变吧！</p><pre class="kj kk kl km gt lx ly lz ma aw mb bi"><span id="1d1c" class="mc md it ly b gy me mf l mg mh">const<em class="mv"> express </em>=<em class="mv"> require</em>('express')</span><span id="884d" class="mc md it ly b gy mq mf l mg mh">const<em class="mv"> app </em>=<em class="mv"> express</em>()</span><span id="9f92" class="mc md it ly b gy mq mf l mg mh"><em class="mv">app.use</em>(<em class="mv">express.json</em>())</span><span id="fb1f" class="mc md it ly b gy mq mf l mg mh"><em class="mv">app.get</em>('/', (req, res) =&gt; {</span><span id="cf4f" class="mc md it ly b gy mq mf l mg mh"><em class="mv">  res.send</em>({</span><span id="45b6" class="mc md it ly b gy mq mf l mg mh">    message: "I'm sorry, human. But this is not your fancy store.",</span><span id="b88b" class="mc md it ly b gy mq mf l mg mh">    thisIsAClothingStore: false,</span><span id="92c9" class="mc md it ly b gy mq mf l mg mh">    costOfADressAtExpressInDollars: 88,</span><span id="2ed0" class="mc md it ly b gy mq mf l mg mh">    expressIsSlightlyOverPriced: ["true", "but so are many stores", "slave labor, bruh"]</span><span id="6837" class="mc md it ly b gy mq mf l mg mh">  })</span><span id="c93c" class="mc md it ly b gy mq mf l mg mh">})</span><span id="763a" class="mc md it ly b gy mq mf l mg mh"><em class="mv">app.listen</em>(3000, () =&gt; console<em class="mv">.</em>log('The store is open!'))</span></pre><p id="1561" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这里，您可以看到一些变化，包括一些“中间件”或一些改变我们应用程序工作方式的代码，在本例中为“app.use(express.json())”我们现在可以为get请求提供一个json对象！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/cb8113b3339d50fe8112c1194c55e7cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1316/format:webp/1*vF2MeuOpCGVzTyArRSeSOw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">必须说实话。</figcaption></figure><p id="1773" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们在这里有各种各样的数据，包括一个数字，一个字符串，一个布尔值，甚至一个数组！所有这些都来自几行代码。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="da7c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">而这只是快递的冰山一角。你可以使用<a class="ae lu" href="https://mongoosejs.com/" rel="noopener ugc nofollow" target="_blank">mongose</a>和<a class="ae lu" href="https://www.mongodb.com/" rel="noopener ugc nofollow" target="_blank"> MongoDB </a>来制作一个带有数据库的REST API！你可以使用<a class="ae lu" href="https://sequelize.org/" rel="noopener ugc nofollow" target="_blank">序列</a>来制作你自己的MySQL数据库！您甚至可以做一些很酷的web抓取或者聚合对其他API的调用来提供定制数据。</p><p id="6ff3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里有完整的代码供任何想要的人使用！</p><p id="6f29" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不管是谁，我希望这些东西对你有帮助，如果没有，我可以给你介绍一个人，他就是曼尼。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mx"><img src="../Images/5d0e72a9d1bcefab9e0071cb5d1aad5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vj5kEWdI0i4vBRm1X_blIQ.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">曼尼。</figcaption></figure><p id="7f87" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">曼尼尽职尽责地在7-11店外等着他的主人。我不得不去告诉他曼尼很可爱。他是一只乐于分享等待可爱的小狗。</p><p id="5c24" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">谢谢你曼尼。</p><p id="72ef" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">到目前为止，</p><p id="54c7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">网络信息中心(Network Information Center)ˌ网路界面卡(Network Interface Card)ˌ全国工业理事会(National Industrial Council)ˌ航行情报中心(Navigation Information Center)</p></div></div>    
</body>
</html>