<html>
<head>
<title>Keyboard Input</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">键盘输入</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/keyboard-input-typing-practice-w-machine-learning-b5c5a9a362a7?source=collection_archive---------20-----------------------#2020-09-29">https://levelup.gitconnected.com/keyboard-input-typing-practice-w-machine-learning-b5c5a9a362a7?source=collection_archive---------20-----------------------#2020-09-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0869" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">通过机器学习进行打字练习</h2></div><p id="636f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb">免责声明:虽然这个系列是关于机器学习的，但这个帖子不会有任何内容。</em></p><blockquote class="lc ld le"><p id="9cd4" class="kf kg lb kh b ki kj jr kk kl km ju kn lf kp kq kr lg kt ku kv lh kx ky kz la ij bi translated">本系列文章:<br/> 1。<a class="ae li" href="https://medium.com/@bayan.bennett/typing-practice-with-machine-learning-introduction-aa3bb5d24134" rel="noopener">简介</a>2<br/>。<a class="ae li" rel="noopener ugc nofollow" target="_blank" href="/pseudo-english-typing-practice-with-machine-learning-5700eb4dc54">伪英语</a> <br/> 3。<a class="ae li" rel="noopener ugc nofollow" target="_blank" href="/keyboard-input-typing-practice-w-machine-learning-b5c5a9a362a7">键盘输入</a>(你在这里)<br/> 4。<a class="ae li" rel="noopener ugc nofollow" target="_blank" href="/inference-using-web-workers-f47266b7ef11"> Web Worker推断</a></p><p id="1692" class="kf kg lb kh b ki kj jr kk kl km ju kn lf kp kq kr lg kt ku kv lh kx ky kz la ij bi translated">完工项目位于:<a class="ae li" href="https://www.bayanbennett.com/projects/rnn-typing-practice" rel="noopener ugc nofollow" target="_blank">https://www.bayanbennett.com/projects/rnn-typing-practice</a></p></blockquote><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi lj"><img src="../Images/5fb105d6e8208700990aaadcd40070b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bSx5NmESjICNa8r-"/></div></div><figcaption class="lv lw gj gh gi lx ly bd b be z dk translated">照片由<a class="ae li" href="https://unsplash.com/@peppytoad?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Peppy Toad </a>在<a class="ae li" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="abad" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">要求</h1><ul class=""><li id="bbe1" class="mr ms iq kh b ki mt kl mu ko mv ks mw kw mx la my mz na nb bi translated">显示用户必须激活的区域</li><li id="a0c7" class="mr ms iq kh b ki nc kl nd ko ne ks nf kw ng la my mz na nb bi translated">显示一系列字母</li><li id="96e8" class="mr ms iq kh b ki nc kl nd ko ne ks nf kw ng la my mz na nb bi translated">接收键盘输入</li><li id="04fa" class="mr ms iq kh b ki nc kl nd ko ne ks nf kw ng la my mz na nb bi translated">将输入与当前字母进行比较</li><li id="b638" class="mr ms iq kh b ki nc kl nd ko ne ks nf kw ng la my mz na nb bi translated">用正确的输入从一个字母前进到另一个字母</li><li id="76bf" class="mr ms iq kh b ki nc kl nd ko ne ks nf kw ng la my mz na nb bi translated">当光标到达行尾时，它移动到下一行。</li></ul><h1 id="9ec6" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">信</h1><p id="0288" class="pw-post-body-paragraph kf kg iq kh b ki mt jr kk kl mu ju kn ko nh kq kr ks ni ku kv kw nj ky kz la ij bi translated"><strong class="kh ir">符合要求:</strong></p><ul class=""><li id="aed0" class="mr ms iq kh b ki kj kl km ko nk ks nl kw nm la my mz na nb bi translated">显示一系列字母</li></ul><p id="ab74" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我很好奇想看看其他人制作了什么。以下是一些流行的实现:</p><h2 id="2f3b" class="nn ma iq bd mb no np dn mf nq nr dp mj ko ns nt ml ks nu nv mn kw nw nx mp ny bi translated">10fastfingers.com</h2><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi nz"><img src="../Images/c63b191a80e325fa5b12385f2b4de146.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8-IcVH-s10hENOLW.png"/></div></div></figure><p id="8e9e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">目标文本和键入区域是分开的。点击空格键更新目标文本并清除输入。当前输入错误的单词以红色突出显示。未纠正的错误有红色字体。</p><p id="db7c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">打字区域和目标文本的分离有点不协调。任何时候，当我不得不看着我的文本纠正错误时，我不得不把我的目光从目标文本上移开，这使得一旦我犯了一个错误，就很难保持任何流动。有时完全跳过这个单词比试图改正它更容易。</p><h2 id="d207" class="nn ma iq bd mb no np dn mf nq nr dp mj ko ns nt ml ks nu nv mn kw nw nx mp ny bi translated">打字学院</h2><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi oa"><img src="../Images/89d9191f1520f35332fff39d9977bbb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*eh2t_vmirpGyhPtX.png"/></div></div></figure><p id="baa2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一个三角形标记了光标的当前位置。当出现错误时，它不会让用户继续，直到错误被纠正。之后，它会用红色字母标记错误。虽然这种将光标保持在中间并将文本推过用户的方法看起来很花哨，但它没有正确的感觉。</p><ol class=""><li id="7919" class="mr ms iq kh b ki kj kl km ko nk ks nl kw nm la ob mz na nb bi translated">我们的眼睛会自然地向前看，看即将发生的事情。在正常情况下，单词在扫视过程中不会移动。在这种情况下，我们必须用目光瞄准移动的目标。</li><li id="b996" class="mr ms iq kh b ki nc kl nd ko ne ks nf kw ng la ob mz na nb bi translated">在阅读我们输入的单词时，我们的眼睛也需要运动。</li><li id="81b5" class="mr ms iq kh b ki nc kl nd ko ne ks nf kw ng la ob mz na nb bi translated">大多数屏幕的刷新率不超过60Hz，所以移动的文本更难阅读，因为它在移动时会模糊不清。</li></ol><h2 id="5228" class="nn ma iq bd mb no np dn mf nq nr dp mj ko ns nt ml ks nu nv mn kw nw nx mp ny bi translated">keybr.com</h2><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi oc"><img src="../Images/991332a7cf51273a3006a7fc0ca56071.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*lhl6BZ_TY_p6BAF-.jpg"/></div></div></figure><p id="48db" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">光标是一个闪烁的矩形，就像您在终端中看到的一样。一旦一封信被打出来，如果你打对了，它会变成灰色，如果你打错了，它会变成红色。如果你做得不对，这个页面不会让你进入下一个字符…嗯，在某种程度上。有一个例外，如果你开始正确地输入下一个单词，它会直接跳到那个单词。我喜欢这个页面的一点是，如果你想继续练习，你不必与这个页面互动。</p><h2 id="b669" class="nn ma iq bd mb no np dn mf nq nr dp mj ko ns nt ml ks nu nv mn kw nw nx mp ny bi translated">typingclub.com</h2><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi od"><img src="../Images/756cbd157ef05543aa083ef7101afe4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kTXIIaONSZetNivy.jpg"/></div></div></figure><p id="515b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个网站是其中最有特色的。绿色代表你写对了，红色代表你写错了，黄色代表你改正了。光标是蓝色下划线。一旦你完成了你的台词，你必须与页面互动才能进入下一课。</p><h2 id="27ed" class="nn ma iq bd mb no np dn mf nq nr dp mj ko ns nt ml ks nu nv mn kw nw nx mp ny bi translated">我的实现</h2><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi oe"><img src="../Images/9ab11850d7382d3bb53830d996942a97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Xou3c-G99Fk7pTxa.png"/></div></div></figure><p id="376a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一些显而易见的选择:</p><pre class="lk ll lm ln gt of og oh oi aw oj bi"><span id="7057" class="nn ma iq og b gy ok ol l om on">/* use the browser default monospaced font */<br/>font-family: monospace;</span><span id="99be" class="nn ma iq og b gy oo ol l om on">/* remove the margins */<br/>margin: 0;</span><span id="01c5" class="nn ma iq og b gy oo ol l om on">/* center the child elements */<br/>display: flex;<br/>flex-flow: row nowrap;</span></pre><p id="814f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最初，我设计了类似typing.academy的东西，但由于typing.academy部分提到的原因，我对它并不满意。我喜欢keybr和typingclub处理这个问题的方式。我想要的一件事是有一个连续的文本流供用户输入。</p><p id="ad85" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我使用了一个由5行组成的数组。</p><pre class="lk ll lm ln gt of og oh oi aw oj bi"><span id="a3f0" class="nn ma iq og b gy ok ol l om on">0: Hidden line<br/>1: Previous line<br/>2: Current line<br/>3: Next line<br/>4: Hidden line</span></pre><p id="d14c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当用户完成输入一行时，删除<code class="fe op oq or og b">0</code>行，生成下一行并连接到行数组的末尾，使行数回到5。实现这一切的诀窍是改变线条的高度:</p><ul class=""><li id="3d9e" class="mr ms iq kh b ki kj kl km ko nk ks nl kw nm la my mz na nb bi translated"><code class="fe op oq or og b">1</code> ➡ <code class="fe op oq or og b">0</code>:高度缩小到<code class="fe op oq or og b">0px</code></li><li id="42fc" class="mr ms iq kh b ki nc kl nd ko ne ks nf kw ng la my mz na nb bi translated"><code class="fe op oq or og b">4</code> ➡ <code class="fe op oq or og b">3</code>:当身高增长到<code class="fe op oq or og b">1.5em</code></li></ul><p id="a75d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">设置高度的逻辑在下面的最终样式组件中。在同一组件中，对于不是当前行的所有行，不透明度也被设置为<code class="fe op oq or og b">0.1</code>。</p><p id="6e09" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是最终的样式组件:</p><pre class="lk ll lm ln gt of og oh oi aw oj bi"><span id="1c09" class="nn ma iq og b gy ok ol l om on">const Letters = styled.h1`<br/>  font-family: monospace;<br/>  margin: 0;<br/>  display: flex;<br/>  flex-flow: row nowrap;<br/>  justify-content: center;<br/>  transition: height 0.3s ease, opacity 0.3s ease;<br/>  <br/>  /* Sets the height and opacity based on the index of the line */ <br/>  height: ${(p) =&gt; (p.index === 0 || p.index === 4 ? 0 : “1.5em”)};<br/>  opacity: ${(p) =&gt; (p.index === 2 ? 1 : 0.1)};<br/>`;</span></pre><h1 id="cc90" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">信</h1><p id="9813" class="pw-post-body-paragraph kf kg iq kh b ki mt jr kk kl mu ju kn ko nh kq kr ks ni ku kv kw nj ky kz la ij bi translated">有趣的是，不同的地点是如何对待空间的。我喜欢keybr.com用标记来明确表示空格的方式。然而，我选择了一个小圆点(<code class="fe op oq or og b">·</code>)，因为当你点击MS Word上的<code class="fe op oq or og b">¶</code>符号来显示隐藏的格式符号时，这是用作空格的。</p><pre class="lk ll lm ln gt of og oh oi aw oj bi"><span id="1d14" class="nn ma iq og b gy ok ol l om on">const Letter = styled.span`<br/>  position: relative;<br/>  opacity: ${(p) =&gt; (p.prev ? 0.3 : 1)};<br/>  transition: opacity 0.3s ease;<br/>  ::after {<br/>    opacity: ${(p) =&gt; (p.current ? 1 : 0)};<br/>    position: absolute;<br/>    content: “🔺”;<br/>    font-size: 0.4em;<br/>    text-align: center;<br/>    bottom: -1ch;<br/>    left: -0.5ch;<br/>    right: -0.5ch;<br/>  }<br/>`;</span></pre><p id="0c2a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">相对定位只是为了让<code class="fe op oq or og b">::after</code>伪元素被绝对定位，并且需要一些东西来锚定。</p><p id="2738" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当字符是当前字符时，我们希望箭头在它下面。当一个字符是前一个字符时，它的不透明度应该为“0.3”。</p><h1 id="d35b" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">输入栏</h1><p id="32f3" class="pw-post-body-paragraph kf kg iq kh b ki mt jr kk kl mu ju kn ko nh kq kr ks ni ku kv kw nj ky kz la ij bi translated"><strong class="kh ir">满足要求:</strong></p><ul class=""><li id="e02e" class="mr ms iq kh b ki kj kl km ko nk ks nl kw nm la my mz na nb bi translated">显示用户必须激活的区域</li><li id="ab68" class="mr ms iq kh b ki nc kl nd ko ne ks nf kw ng la my mz na nb bi translated">接收键盘输入</li></ul><p id="a429" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为什么这是必要的？不是的。</p><p id="da6d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在任何运行JavaScript的网站中，有可能让任何元素监听按键，而普通用户却不知道。有点吓人，对吧？这就是为什么<a class="ae li" href="https://en.wikipedia.org/wiki/Cross-site_scripting" rel="noopener ugc nofollow" target="_blank"> XSS </a>如此危险的原因之一，把一个网页变成键盘记录器并不需要太多。</p><p id="fe81" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">具有专用输入元件解决了两个问题:</p><ol class=""><li id="98e2" class="mr ms iq kh b ki kj kl km ko nk ks nl kw nm la ob mz na nb bi translated">这给了用户一些信心，他们的按键不会被听到，除非他们点击一个按钮。这不是一个保证，但它至少告诉用户这是一个被想到的东西。</li><li id="2b30" class="mr ms iq kh b ki nc kl nd ko ne ks nf kw ng la ob mz na nb bi translated">它允许移动用户在输入区域点击时弹出键盘。</li></ol><p id="ef76" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">虽然这个应用程序不是为移动使用而设计的，但对于用户来说，能够在移动上使用这个应用程序仍然是一个不错的选择。</p><h2 id="a0ad" class="nn ma iq bd mb no np dn mf nq nr dp mj ko ns nt ml ks nu nv mn kw nw nx mp ny bi translated">属性</h2><pre class="lk ll lm ln gt of og oh oi aw oj bi"><span id="a1a4" class="nn ma iq og b gy ok ol l om on"><strong class="og ir">value=""</strong> to make sure the input area starts with an empty string<br/><strong class="og ir">placeholder="CLICK TO ACTIVATE" </strong>this text will show when the input is not focused<br/><strong class="og ir">autoCapitalize="none" </strong>prevents mobile keyboards from capitalizig the first letter<br/><strong class="og ir">autoCorrect="false" </strong>prevent auto-correct</span></pre><p id="a5f5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面是最终组件的样子(使用样式化组件编写)。对<code class="fe op oq or og b">p.theme</code>的任何引用都来自<a class="ae li" href="https://material-ui.com/customization/default-theme/" rel="noopener ugc nofollow" target="_blank">材质UI的主题</a></p><pre class="lk ll lm ln gt of og oh oi aw oj bi"><span id="d822" class="nn ma iq og b gy ok ol l om on">const Input = styled.input.attrs({<br/> value: “”,<br/> placeholder: “CLICK TO ACTIVATE”,<br/> autoCapitalize: “none”,<br/> autoCorrect: “false”,<br/>})`<br/>  resize: none;<br/>  position: absolute;<br/>  left: 0;<br/>  top: 0;<br/>  right: 0;<br/>  bottom: 0;<br/>  width: 100%;<br/>  height: 100%;<br/>  opacity: 0.87;<br/>  z-index: 1; <br/>  cursor: default;<br/>  border: none;<br/>  border-radius: ${(p) =&gt; p.theme.shape.borderRadius}px;<br/>  margin: 0;<br/>  background-color: ${(p) =&gt; p.theme.palette.primary.main};<br/>  text-align: center;<br/>  transition: box-shadow 0.1s ease;<br/>  ::placeholder {<br/>    color: ${(p) =&gt; p.theme.palette.primary.contrastText};<br/>    ${(p) =&gt; p.theme.typography.h5}<br/>  }<br/>  :focus {<br/>    background-color: transparent;<br/>    cursor: none;<br/>    color: transparent;<br/>    box-shadow: ${(p) =&gt; p.theme.shadows[8]};<br/>    outline: none;<br/>    ::placeholder {<br/>      color: transparent;<br/>    }<br/> }<br/>`;</span></pre><h2 id="fa58" class="nn ma iq bd mb no np dn mf nq nr dp mj ko ns nt ml ks nu nv mn kw nw nx mp ny bi translated">键盘输入</h2><p id="b48c" class="pw-post-body-paragraph kf kg iq kh b ki mt jr kk kl mu ju kn ko nh kq kr ks ni ku kv kw nj ky kz la ij bi translated"><strong class="kh ir">满足要求:</strong></p><ul class=""><li id="307b" class="mr ms iq kh b ki kj kl km ko nk ks nl kw nm la my mz na nb bi translated">将输入与当前字母进行比较</li><li id="c3fd" class="mr ms iq kh b ki nc kl nd ko ne ks nf kw ng la my mz na nb bi translated">用正确的输入从一个字母前进到另一个字母</li><li id="47c8" class="mr ms iq kh b ki nc kl nd ko ne ks nf kw ng la my mz na nb bi translated">当光标到达行尾时，它移动到下一行</li></ul><p id="88fb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">获取输入就像给<code class="fe op oq or og b">Input</code>元素添加一个<code class="fe op oq or og b">onChange</code>属性一样简单。在将值发送到“handleKeypress”操作之前，它是小写的，并从我们的有效字符集中转换为整数。</p><pre class="lk ll lm ln gt of og oh oi aw oj bi"><span id="7105" class="nn ma iq og b gy ok ol l om on">&lt;Input<br/>  onChange={<br/>  ({ target }) =&gt; dispatch({<br/>    type: “handleKeypress”,<br/>    payload: char2Int(target.value.toLowerCase())<br/>    })<br/>  }<br/>/&gt;</span></pre><p id="7f53" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用<code class="fe op oq or og b">dispatch</code>是因为我正在使用Reducer来管理我的状态(<a class="ae li" href="https://reactjs.org/docs/hooks-reference.html#usereducer" rel="noopener ugc nofollow" target="_blank">参见:useReducer </a>)</p><pre class="lk ll lm ln gt of og oh oi aw oj bi"><span id="03c4" class="nn ma iq og b gy ok ol l om on">const handleKeypress = (state, charInt) =&gt; {<br/>  const {<br/>    linesOfText,<br/>    cursor,<br/>    prevTime,<br/>    prevCharInt,<br/>    mlKeyboardWorker,<br/>    bigram,<br/> } = state;</span><span id="79f6" class="nn ma iq og b gy oo ol l om on">  // If there aren’t enough lines, do nothing<br/>  if (linesOfText.length &lt; 3) return state;</span><span id="d73e" class="nn ma iq og b gy oo ol l om on">  // Get the current time (higher precision than Date.now())<br/>  const keypressTime = performance.now();</span><span id="5049" class="nn ma iq og b gy oo ol l om on">  // Check that the pressed key is the current key<br/>  const requiredCharInt = linesOfText[2].keys[cursor].charInt;<br/>  if (charInt !== requiredCharInt) return state;</span><span id="ebd1" class="nn ma iq og b gy oo ol l om on">  // Record the duration between keypresses<br/>  const duration = keypressTime — prevTime;</span><span id="1775" class="nn ma iq og b gy oo ol l om on">  // If the previous pressed key exists<br/>  // and the duration is less than the maximum allowed,<br/>  // save the duration to our bigram<br/>  if (prevTime !== null &amp;&amp; prevCharInt !== null &amp;&amp; duration &lt; MAX_DURATION) {<br/>    const {<br/>      [prevCharInt]: { [charInt]: prevTime = null },<br/>    } = bigram;<br/>    bigram[prevCharInt][charInt] = calcEma(prevTime, duration);<br/> }</span><span id="7dee" class="nn ma iq og b gy oo ol l om on">  // Increment the cursor<br/>  const nextCursor = cursor + 1;</span><span id="d4c1" class="nn ma iq og b gy oo ol l om on">  if (nextCursor &lt; MAX_LENGTH) {<br/>    return {<br/>      …state,<br/>      linesOfText,<br/>      cursor: nextCursor,<br/>      prevCharInt: charInt,<br/>      prevTime: keypressTime,<br/>      bigram,<br/>   };<br/>  }<br/>  // Handle what happens at the end of the line</span><span id="bcd0" class="nn ma iq og b gy oo ol l om on">  // Remove first line<br/>  linesOfText.shift();</span><span id="34cf" class="nn ma iq og b gy oo ol l om on">  // Send a message to our web worker to get the next line<br/>  mlKeyboardWorker.postMessage({<br/>    type: actionTypes.worker.getNextLine,<br/>    payload: bigram,<br/>  });</span><span id="953d" class="nn ma iq og b gy oo ol l om on">  return {<br/>    …state,<br/>    linesOfText,<br/>    cursor: 0,<br/>    prevCharInt: null,<br/>    prevTime: null,<br/>    bigram,<br/>  };<br/>};</span></pre><h1 id="4069" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">摘要</h1><p id="2787" class="pw-post-body-paragraph kf kg iq kh b ki mt jr kk kl mu ju kn ko nh kq kr ks ni ku kv kw nj ky kz la ij bi translated">这里有一个需求的快速回顾</p><ul class=""><li id="5093" class="mr ms iq kh b ki kj kl km ko nk ks nl kw nm la my mz na nb bi translated">显示用户必须激活的区域</li><li id="22a5" class="mr ms iq kh b ki nc kl nd ko ne ks nf kw ng la my mz na nb bi translated">显示一系列字母</li><li id="43d6" class="mr ms iq kh b ki nc kl nd ko ne ks nf kw ng la my mz na nb bi translated">接收键盘输入</li><li id="180f" class="mr ms iq kh b ki nc kl nd ko ne ks nf kw ng la my mz na nb bi translated">将输入与当前字母进行比较</li><li id="4e8c" class="mr ms iq kh b ki nc kl nd ko ne ks nf kw ng la my mz na nb bi translated">用正确的输入从一个字母前进到另一个字母</li><li id="3456" class="mr ms iq kh b ki nc kl nd ko ne ks nf kw ng la my mz na nb bi translated">当光标到达行尾时，它移动到下一行</li></ul><p id="d849" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当一个项目包含触觉部分时，它总是特别的。尝试一个新功能，看看感觉如何，可以做出明智的设计决策。</p><p id="807b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">本系列的最后一部分是关于使用TensorFlow和Web Workers的推理！</p></div><div class="ab cl os ot hu ou" role="separator"><span class="ov bw bk ow ox oy"/><span class="ov bw bk ow ox oy"/><span class="ov bw bk ow ox"/></div><div class="ij ik il im in"><p id="549b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb">来源于:</em></p><div class="oz pa gp gr pb pc"><a href="https://www.bayanbennett.com/posts/keyboard-input-typing-practice-w-machine-learning" rel="noopener  ugc nofollow" target="_blank"><div class="pd ab fo"><div class="pe ab pf cl cj pg"><h2 class="bd ir gy z fp ph fr fs pi fu fw ip bi translated">键盘输入-使用机器学习进行打字练习</h2><div class="pj l"><h3 class="bd b gy z fp ph fr fs pi fu fw dk translated">完成的项目位于这里:https://www.bayanbennett.com/projects/rnn-typing-practice的要求得到满足:我是…</h3></div><div class="pk l"><p class="bd b dl z fp ph fr fs pi fu fw dk translated">www.bayanbennett.com</p></div></div><div class="pl l"><div class="pm l pn po pp pl pq lt pc"/></div></div></a></div></div></div>    
</body>
</html>