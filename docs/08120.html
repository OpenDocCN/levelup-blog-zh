<html>
<head>
<title>ImageColorSwitcher in Flutter: Part 2-Vector Image Coloring</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">颤振中的ImageColorSwitcher:第2部分-矢量图像着色</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/imagecolorswitcher-in-flutter-part-2-vector-image-coloring-97509fd6a90a?source=collection_archive---------11-----------------------#2021-04-04">https://levelup.gitconnected.com/imagecolorswitcher-in-flutter-part-2-vector-image-coloring-97509fd6a90a?source=collection_archive---------11-----------------------#2021-04-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="3e8d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="kl">从光栅到矢量图像着色的经验教训。</em>T3】</strong></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/997bb05105af692a09a90eb419edfb9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZgEH8aFpVaKRH6HCS7jV9A.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><strong class="bd lc">I<em class="ld">magecolor switcher in Flutter:第二部——矢量图像着色</em> </strong></figcaption></figure><p id="fd83" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae le" href="#2bfa" rel="noopener ugc nofollow">回顾往昔</a> <br/> <a class="ae le" href="#f45c" rel="noopener ugc nofollow">缺失部分</a> <br/> <a class="ae le" href="#ca05" rel="noopener ugc nofollow">光栅VS矢量图像</a> <br/> <a class="ae le" href="#d54e" rel="noopener ugc nofollow">画布绘画策略</a> <br/> <a class="ae le" href="#706d" rel="noopener ugc nofollow">其时间代码</a> <br/> <a class="ae le" href="#caff" rel="noopener ugc nofollow">最后一个镜头</a> <br/> ∘ <a class="ae le" href="#5f3f" rel="noopener ugc nofollow">步骤1:添加颤振_SVG包</a> <br/> ∘ <a class="ae le" href="#198a" rel="noopener ugc nofollow">步骤2:从ILLUSTRATOR </a>中导出SVG 屏幕 <br/> ∘ <a class="ae le" href="#1d58" rel="noopener ugc nofollow">第五步:运行代码</a> <br/> <a class="ae le" href="#28df" rel="noopener ugc nofollow">结论</a> <br/> <a class="ae le" href="#7916" rel="noopener ugc nofollow">引用</a></p><h1 id="2bfa" class="lf lg iq bd lc lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">回顾过去的一瞥</h1><p id="d730" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">欢迎进入第二部分；我希望你喜欢第一部。之前，我们发现了使用Flutter在图像上应用特定颜色的不同技术。虽然我们讨论了功能，但由于图像的光栅性质，它看起来并不太好。</p><p id="51fa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从现在开始，我们将重点放在使用矢量格式着色相同的图像。我们将探索编写高效代码和减少大量样板代码的方法。最后，我们将通过比较以前的结果和当前的结果来看差异。</p><p id="4f8f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="kl">友情提示:如果你不清楚上下文，我建议你阅读文章的第一部分。</em>T49】</strong></p><div class="mh mi gp gr mj mk"><a rel="noopener  ugc nofollow" target="_blank" href="/imagecolorswitcher-in-flutter-part-1-raster-image-coloring-90f2cd0c8788"><div class="ml ab fo"><div class="mm ab mn cl cj mo"><h2 class="bd ir gy z fp mp fr fs mq fu fw ip bi translated">Flutter中的ImageColorSwitcher:第1部分光栅图像着色</h2><div class="mr l"><h3 class="bd b gy z fp mp fr fs mq fu fw dk translated">从光栅到矢量图像着色的经验教训。</h3></div><div class="ms l"><p class="bd b dl z fp mp fr fs mq fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="mt l"><div class="mu l mv mw mx mt my kw mk"/></div></div></a></div><h1 id="f45c" class="lf lg iq bd lc lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">缺失的部分</h1><p id="46cd" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">请记住，我提到过，即使代码是一个工作解决方案，仍然缺少一些东西。好了，现在是时候揭开即将到来的悬念了。我在Illustrator中打开了源图像文件，并将其与结果图像进行了比较。我注意到图像的某些部分模糊不清；为什么是<strong class="jp ir">？</strong></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mz"><img src="../Images/a4c0c68cac3830a318f845ff29d63663.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GXvqqmhrg7HGTXCl9MR5qQ.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><strong class="bd lc">图1:平滑和像素化图像的比较</strong></figcaption></figure><p id="1727" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<strong class="jp ir"> <em class="kl">图1 </em> </strong>中，平滑的图片取自Illustrator，而像素化的图片是使用<strong class="jp ir"><em class="kl">ImageColorSwitcher</em></strong>生成的。仔细看看平滑的图像；你可以看到阴影部分有锐利的边缘，而像素化的图像有一些模糊的效果。</p><h1 id="ca05" class="lf lg iq bd lc lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">光栅与矢量图像</h1><p id="b5bc" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">那么这些术语<strong class="jp ir">【光栅】</strong><strong class="jp ir">【矢量】</strong>是什么呢？</p><blockquote class="na nb nc"><p id="a5ad" class="jn jo kl jp b jq jr js jt ju jv jw jx nd jz ka kb ne kd ke kf nf kh ki kj kk ij bi translated">光栅图形是位图。位图是由单个像素组成的网格，这些像素共同构成一幅图像。光栅图形将图像渲染为无数小方块的集合。每个方块或像素都用特定的色调或阴影编码。单个来看，这些像素毫无价值。合在一起，它们胜过千言万语。</p><p id="6c92" class="jn jo kl jp b jq jr js jt ju jv jw jx nd jz ka kb ne kd ke kf nf kh ki kj kk ij bi translated">与基于像素的光栅图像不同，矢量图形基于定义几何图元(如多边形、直线、曲线、圆和矩形)的数学公式。因为矢量图形是由真正的几何图元组成的，所以它们最适合用来表示更结构化的图像，例如具有平坦、统一颜色的艺术线条图形。大多数创建的图像(与自然图像相反)都符合这些规范，包括徽标、信头和字体。</p><p id="4b73" class="jn jo kl jp b jq jr js jt ju jv jw jx nd jz ka kb ne kd ke kf nf kh ki kj kk ij bi translated"><a class="ae le" href="https://www.printcnx.com/resources-and-support/addiational-resources/raster-images-vs-vector-graphics/" rel="noopener ugc nofollow" target="_blank">光栅图像与矢量图形|打印连接</a></p></blockquote><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/e068f189c7845eeee6c6638d48061991.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*PN9qupuX1GUBKZOIzQggvw.png"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><strong class="bd lc"> <em class="ld">图2:光栅和矢量图像的描绘(来源:</em></strong><a class="ae le" href="https://www.printcnx.com/resources-and-support/addiational-resources/raster-images-vs-vector-graphics/" rel="noopener ugc nofollow" target="_blank"><strong class="bd lc">print cnx</strong></a><strong class="bd lc">)。com) </strong></figcaption></figure><p id="91f2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">简单来说，Illustrator以SVG(可缩放矢量图形)格式制作高质量的图像。相比之下，在PNG(可移植网络图形)格式中，矢量被转换为光栅图像(像素)。</p><h1 id="d54e" class="lf lg iq bd lc lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">画布绘画策略</h1><p id="30b9" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">所以现在我想，与其用. png文件，不如用. svg文件。我的第一个策略是将图像分成三个主要层；参见<strong class="jp ir"> <em class="kl">图3 </em> </strong>。</p><p id="a4e6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">感谢<a class="ae le" href="https://dribbble.com/mustafa616" rel="noopener ugc nofollow" target="_blank">穆斯塔法·艾哈迈德</a> <strong class="jp ir"> </strong>这位平面设计师帮助我进行插画的工作。</p><ol class=""><li id="4918" class="nh ni iq jp b jq jr ju jv jy nj kc nk kg nl kk nm nn no np bi translated"><strong class="jp ir"> <em class="kl">身体部位:</em> </strong>在这一层里面，<a class="ae le" href="https://dribbble.com/mustafa616" rel="noopener ugc nofollow" target="_blank">穆斯塔法</a>将切换图像颜色后不会产生影响的图像成分全部分组。</li><li id="c5e1" class="nh ni iq jp b jq nq ju nr jy ns kc nt kg nu kk nm nn no np bi translated"><strong class="jp ir"> <em class="kl">较轻的部分:</em> </strong>在这一层里面，他把所有柔和的颜色放在一起。</li><li id="fd54" class="nh ni iq jp b jq nq ju nr jy ns kc nt kg nu kk nm nn no np bi translated"><strong class="jp ir"> <em class="kl">较暗的部分:</em> </strong>在这一层里面，他综合了所有的暗色调；</li></ol><p id="7b06" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="kl">图3 </em> </strong>描绘了将图像分割成单独图层的想法。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi nv"><img src="../Images/227e5aa7207551da80919e4d48fe55a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wn1TTnwes6sD8RBVWuhITA.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><strong class="bd lc">图3:图像分解成多个图层</strong></figcaption></figure><p id="1cf7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">之后，我使用这些图层手动放置图像的各个部分，如图<strong class="jp ir"> <em class="kl">图4 </em> </strong>所示。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi nw"><img src="../Images/c02c094abc9b119c939e94e6a1e4f0c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*mTS-nN2Kr87Yq1cA-I19xg.gif"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><strong class="bd lc">图4:组装图像组件</strong></figcaption></figure><p id="8b15" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你可能想知道为什么我要把零件组装回来，因为我需要把图像导出为SVG格式。保持冷静和耐心；这个谜很快就会解开。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi nw"><img src="../Images/0d1bf4da77bc174d5566e389c5733540.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Pdcsw91KTp-5BYsT2mimXg.gif"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><strong class="bd lc">图5:图像颜色切换演示</strong></figcaption></figure><p id="9246" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如<strong class="jp ir"> <em class="kl">图5 </em> </strong>所示，我应用了颜色切换来观察将要发生的变化；这些观察被证明是成功的步骤。</p><h1 id="706d" class="lf lg iq bd lc lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><strong class="ak">该编码了</strong></h1><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi nx"><img src="../Images/5b7a5baae678eafe6b1caa4a416b2a2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*X3jzchhTaBGt-itp"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">照片由<a class="ae le" href="https://unsplash.com/@altumcode?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">替代码</a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="7af0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最初，我想到使用普通的Dart代码在画布上呈现SVG。为此，我找到了一个在线工具，<strong class="jp ir"> " </strong> <a class="ae le" href="https://www.flutterclutter.dev/tools/svg-to-flutter-path-converter/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> SVG到颤振路径转换器</strong> </a> <strong class="jp ir">"，</strong>由<strong class="jp ir"> <em class="kl">马克·gerken⁴开发，</em> </strong> <em class="kl"> </em>将SVG文件转换成颤振路径，一个简写代码生成器。</p><p id="c5bc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我很高兴节省了时间，但是，唉，所有的希望都落空了。该工具生成了一长串样板代码，对我来说还不够处理。下面的代码片段只是显示一些图像组件的一个小片段。</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="ny nz l"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">庞大的样板代码</figcaption></figure><p id="e5a6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">绘制路径、将它们层层叠加、将它们链接在一起并控制颜色切换机制将是一项非常繁琐的工作；参见<strong class="jp ir"> <em class="kl">图6 </em> </strong>。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/bb4aa245158089ebf2143906737b0983.png" data-original-src="https://miro.medium.com/v2/resize:fit:652/format:webp/1*c2PI391T6dxINoUxhtjydg.png"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><strong class="bd lc">图6:呈现在画布上的图像部分的图示</strong></figcaption></figure><h1 id="caff" class="lf lg iq bd lc lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">最后一枪</h1><p id="b41e" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">我还不打算放弃，所以经过一番研究，我找到了解决办法。我深入研究了基于XML(可扩展标记语言)<strong class="jp ir"> ⁵ </strong>的SVG代码结构。</p><p id="79c9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">记住，我说过这个谜很快就会解开；现在是时候了。<br/>就编程而言，我的方法是加载SVG资产文件，并通过用可变的颜色和阴影替换恒定的十六进制值来切换颜色。</p><p id="43c2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你想知道我是怎么做到的吗？嗯，按照下面的步骤:</p><h2 id="5f3f" class="ob lg iq bd lc oc od dn lk oe of dp lo jy og oh ls kc oi oj lw kg ok ol ma om bi translated">步骤1:添加FLUTTER_SVG包</h2><p id="cf42" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">目前，flutter不直接支持SVG我们需要在pubspec.yaml文件中添加<strong class="jp ir"><em class="kl">flutter _ SVGpackage⁶</em></strong>；参见下面的片段。</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="ny nz l"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">在pubspec.yaml文件中增加了flutter_svg</figcaption></figure><h2 id="198a" class="ob lg iq bd lc oc od dn lk oe of dp lo jy og oh ls kc oi oj lw kg ok ol ma om bi translated">步骤2:从ILLUSTRATOR导出SVG</h2><p id="af00" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">我告诉<a class="ae le" href="https://dribbble.com/mustafa616" rel="noopener ugc nofollow" target="_blank">穆斯塔法</a>按照包文档指南以SVG格式导出自行车图像；参见<strong class="jp ir"> <em class="kl">图7 </em> </strong>。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi on"><img src="../Images/8ae89854a474507e79a5909c05bc22bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:802/format:webp/0*PxTtzCrIAOcNC0nF.png"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><strong class="bd lc">图7:推荐Adobe Illustrator SVG配置(来源:</strong><a class="ae le" href="https://pub.dev/packages/flutter_svg" rel="noopener ugc nofollow" target="_blank"><strong class="bd lc">flutter _ SVG</strong></a><strong class="bd lc">)</strong></figcaption></figure><h2 id="d499" class="ob lg iq bd lc oc od dn lk oe of dp lo jy og oh ls kc oi oj lw kg ok ol ma om bi translated">步骤3:创建一个新的颜色滑块</h2><p id="a888" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">我注意到SVG有一个非常独特的颜色命名约定<strong class="jp ir"> ⁷ </strong>。因此，我必须创建一个遵循SVG颜色命名法的新颜色滑块。我不再键入样板代码，而是专注于使用速记符号。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/31239bdda4f09c2ada517b3678687d67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*ay4yz7YViq7TNFrmIBVpHA.png"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><strong class="bd lc">图8:主题、颜色、色调概念示意图</strong></figcaption></figure><ul class=""><li id="1f7c" class="nh ni iq jp b jq jr ju jv jy nj kc nk kg nl kk op nn no np bi translated">我创建了一个map<strong class="jp ir"><em class="kl">_ colorMap</em></strong>来保存一个字符串&amp;一个颜色值。</li><li id="bb26" class="nh ni iq jp b jq nq ju nr jy ns kc nt kg nu kk op nn no np bi translated">在map key内部，我定义了一个编码字符串“Theme.color:shade”(如图<strong class="jp ir"> <em class="kl">图8 </em> </strong>)同样:<br/> ★ <strong class="jp ir"> <em class="kl"> Theme </em> </strong>:主题的名称。<br/> ★ <strong class="jp ir"> <em class="kl">颜色</em> </strong>:颜色的名称或十六进制值。<strong class="jp ir"> <em class="kl"> <br/> </em> ★ <em class="kl">阴影:</em> </strong>阴影的名称或十六进制值。</li><li id="2d44" class="nh ni iq jp b jq nq ju nr jy ns kc nt kg nu kk op nn no np bi translated">在贴图值内部，我使用了<strong class="jp ir"><em class="kl">color . from argb</em></strong>构造函数。</li></ul><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="ny nz l"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">SVGColorSlider小部件代码</figcaption></figure><ul class=""><li id="79ee" class="nh ni iq jp b jq jr ju jv jy nj kc nk kg nl kk op nn no np bi translated">在<strong class="jp ir"> <em class="kl">构建</em> </strong>方法中，我将<strong class="jp ir"> <em class="kl"> _colorMap </em> </strong>条目转换成圆形容器，包裹在<strong class="jp ir"> <em class="kl"> ListView </em> </strong>中。</li><li id="969f" class="nh ni iq jp b jq nq ju nr jy ns kc nt kg nu kk op nn no np bi translated">为了显示容器的背景颜色，我使用了<strong class="jp ir"> <em class="kl"> mapEntry </em> </strong>值。</li><li id="5664" class="nh ni iq jp b jq nq ju nr jy ns kc nt kg nu kk op nn no np bi translated">点击<strong class="jp ir"> <em class="kl"> onTap </em> </strong>函数后，我返回了选中的<strong class="jp ir"> <em class="kl"> mapEntry </em> </strong>键(编码字符串)而不是颜色值。</li></ul><h2 id="73b1" class="ob lg iq bd lc oc od dn lk oe of dp lo jy og oh ls kc oi oj lw kg ok ol ma om bi translated">步骤4:在屏幕上加载图像</h2><p id="f27b" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">flutter_svg有一个<strong class="jp ir"><em class="kl">svg picture . string</em></strong>构造函数，它接受SVG代码并返回一个可缩放的矢量图形。我已经知道需要替换的十六进制值，</p><ul class=""><li id="64b7" class="nh ni iq jp b jq jr ju jv jy nj kc nk kg nl kk op nn no np bi translated">我创建了一个名为<strong class="jp ir"> <em class="kl"> Bike_Painter的自定义无状态小部件。</em>T82】</strong></li><li id="77fd" class="nh ni iq jp b jq nq ju nr jy ns kc nt kg nu kk op nn no np bi translated">我创建了两个字符串变量，<strong class="jp ir"> <em class="kl">【颜色】</em> </strong> &amp; <strong class="jp ir"> <em class="kl">【阴影】</em> </strong>，并将它们传递给<strong class="jp ir"> <em class="kl"> Bike_Painter的</em> </strong>构造函数。</li><li id="d742" class="nh ni iq jp b jq nq ju nr jy ns kc nt kg nu kk op nn no np bi translated">在<strong class="jp ir"> <em class="kl"> build </em> </strong>方法中，我声明了一个私有变量_ <strong class="jp ir"> <em class="kl"> bytes </em> </strong>来保存SVG代码。</li><li id="6e48" class="nh ni iq jp b jq nq ju nr jy ns kc nt kg nu kk op nn no np bi translated">点击<strong class="jp ir"> <em class="kl"> ctrl+H </em> </strong>搜索十六进制值并用变量<strong class="jp ir"> <em class="kl">颜色</em> </strong> &amp; <strong class="jp ir"> <em class="kl">阴影</em> </strong>如图<strong class="jp ir"> <em class="kl">图9 </em> </strong>所示。</li></ul><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi nw"><img src="../Images/d8465ac9aad87b7fee6d9fc2b608d44a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*_8LJF04GerKw8SZeGZlSdw.gif"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><strong class="bd lc"> <em class="ld">图9:vs code</em></strong>中颜色和阴影替换的图示</figcaption></figure><ul class=""><li id="d127" class="nh ni iq jp b jq jr ju jv jy nj kc nk kg nl kk op nn no np bi translated">最后，我将<strong class="jp ir"> <em class="kl"> _bytes </em> </strong>变量传递给<strong class="jp ir"><em class="kl">SVG picture . string</em></strong>构造函数；参见下面的片段。</li></ul><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="ny nz l"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">自行车画家小部件代码</figcaption></figure><p id="ea58" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"/></p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="ny nz l"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">代码缩放矢量图像</figcaption></figure><h2 id="1d58" class="ob lg iq bd lc oc od dn lk oe of dp lo jy og oh ls kc oi oj lw kg ok ol ma om bi translated">步骤5:运行代码</h2><p id="618f" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">最后，我在main.dart文件中集成了<strong class="jp ir"><em class="kl">bike painter</em></strong>&amp;<strong class="jp ir"><em class="kl">SVGColorSlider</em></strong>小部件；参见下面的片段。</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="ny nz l"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">矢量图像着色代码</figcaption></figure><p id="df45" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="kl">图10 </em> </strong>说明了结果。</p><h1 id="28df" class="lf lg iq bd lc lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/e60da9da1719b3744bcca0001997186d.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*Cth5XH4sU__QebpfYOkE-A.gif"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><strong class="bd lc">图10:最终结果示意图</strong></figcaption></figure><p id="92c9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">与光栅着色相比，矢量是一种理想的解决方案。它不仅减少了样板代码，而且工作速度更快。请参见下图，图中显示了光栅和矢量图像颜色的对比。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi or"><img src="../Images/34dc4c5b7f6023cb5e854af496167bf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i32700ZFQo6ii8J4RwV_og.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><strong class="bd lc">光栅的特写图&amp;矢量图像</strong></figcaption></figure><div class="kn ko kp kq gt ab cb"><figure class="os kr ot ou ov ow ox paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><img src="../Images/ac4df0bef1e46d68fd44f4f36d1bfb78.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*wQnDIaZIvs1PrT1OiH_J1A.png"/></div></figure><figure class="os kr oy ou ov ow ox paragraph-image"><img src="../Images/9e9ba0467f168a9f0b692c9c085cb757.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*TC7Gq_rzsHNqThAR6aY3Aw.png"/><figcaption class="ky kz gj gh gi la lb bd b be z dk oz di pa pb translated"><strong class="bd lc">红色&amp;绿色彩色图像比较</strong></figcaption></figure></div><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/b28e5697cedd44c535bccb6b087ac0ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1034/format:webp/1*K1UsGXIeiw_xaQn3OofyNg.png"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><strong class="bd lc">蓝色图像比较</strong></figcaption></figure><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi pd"><img src="../Images/41212391de32df907d7e8240a769d444.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-L23Jlh0OmQ0VWFS2GTA0w.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><strong class="bd lc">光栅图&amp;矢量差</strong></figcaption></figure><p id="f252" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我希望你今天能学到新东西。我已经更新了<a class="ae le" href="https://github.com/Zujaj/image_color_switcher" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="kl">github repo</em></strong></a><strong class="jp ir"><em class="kl">⁸</em></strong>上的代码，所以你可以看到两种颜色切换技术以及混合滑块。</p><h1 id="7916" class="lf lg iq bd lc lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">参考</h1><p id="578d" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated"><strong class="jp ir">【1】:<em class="kl">ImageColorSwitcher in Flutter:Part 1光栅图像着色</em></strong><strong class="jp ir"><em class="kl"><br/></em></strong><a class="ae le" rel="noopener ugc nofollow" target="_blank" href="/imagecolorswitcher-in-flutter-part-1-raster-image-coloring-90f2cd0c8788">https://level up . git connected . com/ImageColorSwitcher-in-Flutter-Part-1-Raster-Image-Coloring-90 F2 CD 0 c 8788</a></p><p id="5007" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">【2】:<em class="kl">光栅图像vs矢量图形|打印连接<br/></em></strong><a class="ae le" href="https://www.printcnx.com/resources-and-support/addiational-resources/raster-images-vs-vector-graphics/" rel="noopener ugc nofollow" target="_blank">https://www . print cnx . com/resources-and-support/additional-resources/Raster-Images-vs-Vector-Graphics/</a></p><p id="2e7e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">【3】:<em class="kl">穆斯塔法艾哈迈德|德里布尔<br/></em></strong><a class="ae le" href="https://dribbble.com/mustafa616" rel="noopener ugc nofollow" target="_blank">https://dribbble.com/mustafa616</a></p><p id="58cd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">【4】:</strong><strong class="jp ir"><em class="kl">SVG到颤振路径转换器</em></strong><br/><a class="ae le" href="https://www.flutterclutter.dev/tools/svg-to-flutter-path-converter/" rel="noopener ugc nofollow" target="_blank">https://www . Flutter clutter . dev/tools/SVG-to-Flutter-path-converter/</a></p><p id="65b1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">【5】:<em class="kl">什么是SVG文件用于&amp;为什么开发者应该使用它们<br/></em></strong><a class="ae le" href="https://deliciousbrains.com/svg-advantages-developers/" rel="noopener ugc nofollow" target="_blank">https://deliciousbrains.com/svg-advantages-developers/</a></p><p id="070d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">【6】:【https://pub.dev/packages/flutter_svg】颤振_svg |颤振包<br/></strong><a class="ae le" href="https://pub.dev/packages/flutter_svg" rel="noopener ugc nofollow" target="_blank"/></p><p id="f30f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">【7】:<em class="kl">基础数据类型和接口— SVG 1.1(第二版)<br/></em></strong><a class="ae le" href="https://www.w3.org/TR/SVG11/types.html#ColorKeywords" rel="noopener ugc nofollow" target="_blank">https://www.w3.org/TR/SVG11/types.html#ColorKeywords</a></p><p id="0cc2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">【8】:<em class="kl">图像颜色切换器Github Repo<br/></em></strong><a class="ae le" href="https://github.com/Zujaj/image_color_switcher" rel="noopener ugc nofollow" target="_blank">https://github.com/Zujaj/image_color_switcher</a></p></div></div>    
</body>
</html>