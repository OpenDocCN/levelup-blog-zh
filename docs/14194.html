<html>
<head>
<title>How to extract the colour of a pixel using Javascript and HTML 5</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¦‚ä½•ä½¿ç”¨Javascriptå’ŒHTML 5æå–åƒç´ çš„é¢œè‰²</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/how-to-extract-the-colour-of-a-pixel-using-javascript-and-html-5-f3661f54473?source=collection_archive---------7-----------------------#2022-11-08">https://levelup.gitconnected.com/how-to-extract-the-colour-of-a-pixel-using-javascript-and-html-5-f3661f54473?source=collection_archive---------7-----------------------#2022-11-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/b505e34ac9028c5d5efe460031ef46c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QzWUcdknLPQRVncfQ8sP2Q.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">å›¾ä¸º<a class="ae kf" href="https://unsplash.com/@umby?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">ç¿è´æ‰˜</a>åœ¨<a class="ae kf" href="https://unsplash.com/s/photos/pixel?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></figcaption></figure><p id="2061" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†ä»‹ç»å¦‚ä½•æå–ç»™å®šå›¾åƒä¸­åƒç´ çš„é¢œè‰²ä»£ç ã€‚</p><figure class="lf lg lh li gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi le"><img src="../Images/31cd2f9f4af3142d6543d4923ba16f27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*MohPHNHFWVKBpn1gNjWlPg.gif"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">é¼ æ ‡ç§»åŠ¨æ—¶é¢œè‰²é€‰æ‹©å™¨çš„ä½œç”¨</figcaption></figure><p id="a77e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘ä»¬å°†ä½¿ç”¨HTML 5çš„<a class="ae kf" href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API" rel="noopener ugc nofollow" target="_blank"> Canvaså…ƒç´ çš„API</a>å’Œä¸€äº›æ™®é€šçš„javascriptä»£ç ã€‚</p><p id="05ed" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å®Œæˆå¤§éƒ¨åˆ†ç¹é‡å·¥ä½œçš„ä»£ç å¦‚ä¸‹</p><figure class="lf lg lh li gt ju"><div class="bz fp l di"><div class="lj lk l"/></div></figure><p id="418a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ­£å¦‚æ‚¨æ‰€çœ‹åˆ°çš„ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ›å»ºä¸€ä¸ªç©ºçš„ç”»å¸ƒå…ƒç´ ï¼Œç„¶ååƒè¿™æ ·ç»˜åˆ¶å›¾åƒã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä»¬æ˜¯å¦‚ä½•å°†ç”»å¸ƒä¸Šçš„x &amp; yåæ ‡ä¿æŒä¸º0ï¼Œ0ï¼Œå¹¶ä¸”æˆ‘ä»¬è¿˜ä¿æŒç”»å¸ƒçš„å°ºå¯¸ä¸å›¾åƒçš„å°ºå¯¸ç›¸åŒã€‚</p><pre class="lf lg lh li gt ll lm ln lo aw lp bi"><span id="1ab8" class="lq lr it lm b gy ls lt l lu lv">canvas.width = img.width;<br/>canvas.height = img.height;</span><span id="d972" class="lq lr it lm b gy lw lt l lu lv">let ctx: CanvasRenderingContext2D = canvas.getContext("2d") as CanvasRenderingContext2D;</span><span id="a1d1" class="lq lr it lm b gy lw lt l lu lv">ctx.drawImage(img, 0, 0);</span></pre><p id="44ac" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç„¶åæˆ‘ä»¬åˆ©ç”¨canvasçš„APIå¹¶è°ƒç”¨<code class="fe lx ly lz lm b">getImageData</code>å‡½æ•°ï¼Œè¯¥å‡½æ•°å°†è¿”å›ä¸€ä¸ª<a class="ae kf" href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/getImageData" rel="noopener ugc nofollow" target="_blank">å¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä»£è¡¨canvas </a>çš„æŒ‡å®šéƒ¨åˆ†çš„åº•å±‚åƒç´ æ•°æ®ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­æ˜¯æ•´ä¸ªCanvasã€‚</p><pre class="lf lg lh li gt ll lm ln lo aw lp bi"><span id="6987" class="lq lr it lm b gy ls lt l lu lv">const imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);</span></pre><p id="5ddc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªéå¸¸å¤§çš„åƒç´ æ•°æ®æ•°ç»„ï¼Œæ‰€ä»¥æˆ‘ä»¬ç°åœ¨è¦åšçš„å°±æ˜¯æ•è·é¼ æ ‡ç§»åŠ¨äº‹ä»¶ï¼Œå¹¶ä»å›¾åƒæ•°æ®æ•°ç»„ä¸­æ‰¾åˆ°åƒç´ æ•°æ®</p><pre class="lf lg lh li gt ll lm ln lo aw lp bi"><span id="a10e" class="lq lr it lm b gy ls lt l lu lv">canvas.addEventListener("mousemove", (ev) =&gt; {<br/>  //as the mouse moves around the image<br/>  let cols = canvas.width;<br/>  let { offsetX, offsetY } = ev;<br/>  <br/>   //call the method to get the r,g,b,a values for current pixel<br/>   let c = extractPixelColor(cols, offsetY, offsetX);<br/>   <br/>   //build a colour string for <br/>   let colour = `rgb(${c.red}, ${c.green}, ${c.blue})`} ;<br/>   let hexCode = `#${[c.red, c.green, c.blue].map((x) =&gt;<br/>    x.toString(16).padStart(2, "0")).join("")}`;<br/>        <br/>});</span></pre><p id="d01c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æœ€åï¼Œæœ‰è¶£çš„æ˜¯ä»å›¾åƒæ•°æ®ä¸­è·å–åƒç´ å€¼ã€‚</p><p id="6130" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¿…é¡»äº†è§£åƒç´ æ˜¯å¦‚ä½•æ’åˆ—çš„ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ª5x5åƒç´ çš„å›¾åƒï¼Œé‚£ä¹ˆè¯¥æ•°ç»„å°†å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><figure class="lf lg lh li gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ma"><img src="../Images/446b031ad04039bf9e0fc4bbf8dde060.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dL_l9oMB-J1bCdyeiJLGew.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">5x5åƒç´ å›¾åƒè¡¨ç¤º</figcaption></figure><p id="e699" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¸Šå›¾ä¸­çš„æ¯ä¸ªå…ƒç´ ä»£è¡¨ä¸€ä¸ªåƒç´ ï¼Œæ¯ä¸ªåƒç´ æœ‰4ä¸ªRGBAå€¼(çº¢ã€ç»¿ã€è“å’Œé˜¿å°”æ³•)ã€‚å› æ­¤ï¼ŒåŒ…å«è¿™äº›åƒç´ çš„æ•°ç»„å°†æœ‰<code class="fe lx ly lz lm b">5*5*4 = 100</code>ä¸ªå…ƒç´ ã€‚ä½ å¯ä»¥æƒ³è±¡ä¸€æ—¦æˆ‘ä»¬åŠ è½½ä¸€ä¸ªæ›´å¤§çš„å›¾åƒï¼Œè¿™ä¸ªæ•°ç»„ä¼šå˜å¾—éå¸¸å¤§ã€‚</p><p id="9a6e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç°åœ¨ï¼Œå¦‚æœæ‚¨å¸Œæœ›æå–å…ƒç´ (2ï¼Œ2)çš„å€¼ï¼Œé‚£ä¹ˆè¯¥åƒç´ ç´¢å¼•çš„æ•°å­¦å…¬å¼å°†æ˜¯</p><pre class="lf lg lh li gt ll lm ln lo aw lp bi"><span id="a428" class="lq lr it lm b gy ls lt l lu lv">PixelIndex = (Total number of columns * Row Number) + Column Number<br/>// PixelIndex value for (2,2) will be (5*2)+3 = 28</span></pre><p id="deb4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¸€æ—¦æœ‰äº†åƒç´ æŒ‡æ•°ï¼Œè·å–RGBAçš„å€¼å°±ç›¸å½“ç®€å•äº†ã€‚</p><pre class="lf lg lh li gt ll lm ln lo aw lp bi"><span id="83de" class="lq lr it lm b gy ls lt l lu lv">red = imgData[PixelIndex * 4]<br/>green = imgData[(PixelIndex * 4) + 1]<br/>blue = imgData[(PixelIndex * 4) + 2]<br/>alpha = imgData[(PixelIndex * 4) + 3]</span></pre><p id="83bf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æœ€åï¼Œ<code class="fe lx ly lz lm b">extractPixelColour</code>å‡½æ•°å°†å¦‚ä¸‹æ‰€ç¤º</p><figure class="lf lg lh li gt ju"><div class="bz fp l di"><div class="lj lk l"/></div></figure><p id="6f53" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è·å¾—å›¾åƒæ•°æ®ä¸­çš„RGBå€¼åï¼Œæ‚¨å¯ä»¥å°†å®ƒä»¬è½¬æ¢ä¸ºåå…­è¿›åˆ¶è‰²ç å€¼ï¼Œå¦‚ä¸‹æ‰€ç¤º</p><pre class="lf lg lh li gt ll lm ln lo aw lp bi"><span id="2d60" class="lq lr it lm b gy ls lt l lu lv">hexcolorcode = `#${[red, green, blue].map((x) =&gt; x.toString(16).padStart(2, "0")).join("")}`</span></pre></div><div class="ab cl mb mc hx md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="im in io ip iq"><ul class=""><li id="fad4" class="mi mj it ki b kj kk kn ko kr mk kv ml kz mm ld mn mo mp mq bi translated"><strong class="ki iu">æ¼”ç¤ºç°åœº</strong>:<a class="ae kf" href="https://tools.meta-collective.co.uk/" rel="noopener ugc nofollow" target="_blank">https://tools.meta-collective.co.uk/</a></li><li id="b653" class="mi mj it ki b kj mr kn ms kr mt kv mu kz mv ld mn mo mp mq bi translated"><strong class="ki iu">GitHub</strong>:ã€https://github.com/metacollective9/canvasfun T2ã€‘T3ã€‘</li><li id="bf76" class="mi mj it ki b kj mr kn ms kr mt kv mu kz mv ld mn mo mp mq bi translated">ã€å‚è€ƒæ–‡çŒ®ã€‘https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API<br/>â€“<a class="ae kf" href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API" rel="noopener ugc nofollow" target="_blank"/></li></ul></div><div class="ab cl mb mc hx md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="im in io ip iq"><p id="17d7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼Œå¦‚æœæ‚¨æƒ³æ”¯æŒæˆ‘ï¼Œè¯·å…³æ³¨æˆ‘ï¼Œæˆä¸ºä¼šå‘˜ï¼Œè®©æˆ‘ä»¬æ‰€æœ‰äººéƒ½ç•™åœ¨è¿™ä¸ªå¹³å°ä¸Šã€‚</p><div class="mw mx gp gr my mz"><a href="https://medium.com/@metacollective/membership" rel="noopener follow" target="_blank"><div class="na ab fo"><div class="nb ab nc cl cj nd"><h2 class="bd iu gy z fp ne fr fs nf fu fw is bi translated">é€šè¿‡æˆ‘çš„æ¨èé“¾æ¥åŠ å…¥åª’ä½“Meta Collective</h2><div class="ng l"><h3 class="bd b gy z fp ne fr fs nf fu fw dk translated">ä½œä¸ºä¸€ä¸ªåª’ä½“ä¼šå‘˜ï¼Œä½ çš„ä¼šå‘˜è´¹çš„ä¸€éƒ¨åˆ†ä¼šç»™ä½ é˜…è¯»çš„ä½œå®¶ï¼Œä½ å¯ä»¥å®Œå…¨æ¥è§¦åˆ°æ¯ä¸€ä¸ªæ•…äº‹â€¦</h3></div><div class="nh l"><p class="bd b dl z fp ne fr fs nf fu fw dk translated">medium.com</p></div></div><div class="ni l"><div class="nj l nk nl nm ni nn jz mz"/></div></div></a></div></div><div class="ab cl mb mc hx md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="im in io ip iq"><h1 id="8d86" class="no lr it bd np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh oi oj ok bi translated">åˆ†çº§ç¼–ç </h1><p id="82aa" class="pw-post-body-paragraph kg kh it ki b kj ol kl km kn om kp kq kr on kt ku kv oo kx ky kz op lb lc ld im bi translated">æ„Ÿè°¢æ‚¨æˆä¸ºæˆ‘ä»¬ç¤¾åŒºçš„ä¸€å‘˜ï¼åœ¨ä½ ç¦»å¼€ä¹‹å‰:</p><ul class=""><li id="b8e8" class="mi mj it ki b kj kk kn ko kr mk kv ml kz mm ld mn mo mp mq bi translated">ğŸ‘ä¸ºæ•…äº‹é¼“æŒï¼Œè·Ÿç€ä½œè€…èµ°ğŸ‘‰</li><li id="c626" class="mi mj it ki b kj mr kn ms kr mt kv mu kz mv ld mn mo mp mq bi translated">ğŸ“°æŸ¥çœ‹<a class="ae kf" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">å‡çº§ç¼–ç å‡ºç‰ˆç‰©</a>ä¸­çš„æ›´å¤šå†…å®¹</li><li id="9515" class="mi mj it ki b kj mr kn ms kr mt kv mu kz mv ld mn mo mp mq bi translated">ğŸ””å…³æ³¨æˆ‘ä»¬:<a class="ae kf" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae kf" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae kf" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">æ—¶äº‹é€šè®¯</a></li></ul><p id="e82d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ğŸš€ğŸ‘‰<a class="ae kf" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu">åŠ å…¥å‡çº§äººæ‰é›†ä½“ï¼Œæ‰¾åˆ°ä¸€ä»½ç¥å¥‡çš„å·¥ä½œ</strong> </a></p></div></div>    
</body>
</html>