<html>
<head>
<title>How to customize your command prompt and icons in your terminal</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在终端中自定义命令提示符和图标</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-customize-your-command-prompt-and-icons-in-your-terminal-f88ea15a5d58?source=collection_archive---------1-----------------------#2022-04-10">https://levelup.gitconnected.com/how-to-customize-your-command-prompt-and-icons-in-your-terminal-f88ea15a5d58?source=collection_archive---------1-----------------------#2022-04-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="a17a" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">让它闪闪发光！</h2><div class=""/><div class=""><h2 id="11f0" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">你使用终端吗？你厌倦了枯燥的命令提示符吗？看完这个教程你就不会了！</h2></div><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div class="ab gu cl kw"><img src="../Images/8d5b2eb6cbddf1370cf230b0ff99798f.png" data-original-src="https://miro.medium.com/v2/format:webp/1*f5m94xGy-kVCxqEuY2JFtg.png"/></div></figure><p id="4a3d" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本教程中，我将向您展示如何在您的终端中定制您的命令提示符。我的例子可以在<a class="ae lv" href="https://ohmyposh.dev/docs/installation/windows" rel="noopener ugc nofollow" target="_blank"> Windows </a>终端和PowerShell内核上运行，但是你也可以在你的<a class="ae lv" href="https://ohmyposh.dev/docs/installation/macos" rel="noopener ugc nofollow" target="_blank"> MacOS </a>或者<a class="ae lv" href="https://ohmyposh.dev/docs/installation/linux" rel="noopener ugc nofollow" target="_blank"> Linux </a>系统上运行。目前支持的Shell列表包括PowerShell、cmd、zsh、bash、fish和nu。我将一步一步地向您展示如何转变这一点</p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div class="ab gu cl kw"><img src="../Images/9dc5a42ed95e28972b5bda36975d47d1.png" data-original-src="https://miro.medium.com/v2/format:webp/1*_PuQsp1fT0yloVa8x8B_iQ.png"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">原始PowerShell用户界面</figcaption></figure><p id="13a7" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">变成那样！</p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div class="ab gu cl kw"><img src="../Images/8d5b2eb6cbddf1370cf230b0ff99798f.png" data-original-src="https://miro.medium.com/v2/format:webp/1*f5m94xGy-kVCxqEuY2JFtg.png"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">自定义的PowerShell UI</figcaption></figure><h2 id="de30" class="ma mb it bd mc md me dn mf mg mh dp mi li mj mk ml lm mm mn mo lq mp mq mr iz bi translated">安装PowerShell和Windows终端</h2><p id="2c22" class="pw-post-body-paragraph kz la it lb b lc ms kd le lf mt kg lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">首先，确保你已经安装了<strong class="lb jd"> PowerShell Core </strong>。使用命令<code class="fe mx my mz na b">$PSVersionTable</code>可以检查这一点。</p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div class="ab gu cl kw"><img src="../Images/40a0c20dc10dcbc8b3e60255b8310e2e.png" data-original-src="https://miro.medium.com/v2/format:webp/1*rkIRUTlBFdZjNr45NSUaFA.png"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">PowerShell中的版本检查</figcaption></figure><p id="4010" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如有必要，按照以下步骤之一安装<strong class="lb jd"> PowerShell核心</strong>。使用<a class="ae lv" href="https://docs.microsoft.com/en-us/powershell/scripting/install/installing-powershell-on-windows?view=powershell-7.2#msi" rel="noopener ugc nofollow" target="_blank"> msi包</a> <br/>手动安装使用winget <code class="fe mx my mz na b">winget install Microsoft.PowerShell</code> <br/>安装使用<a class="ae lv" href="https://www.microsoft.com/store/productId/9MZ1SNWT0N5D" rel="noopener ugc nofollow" target="_blank">微软商店</a>安装</p><p id="2f55" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下一步，你需要安装<strong class="lb jd"> Windows终端</strong>，如果你还没有安装的话。用<a class="ae lv" href="https://github.com/microsoft/terminal/releases/tag/v1.12.10732.0" rel="noopener ugc nofollow" target="_blank"> msi包</a>手动安装<br/>用winget <code class="fe mx my mz na b">winget install Microsoft.WindowsTerminal</code>安装<br/>用<a class="ae lv" href="https://www.microsoft.com/store/productId/9N0DX20HK701" rel="noopener ugc nofollow" target="_blank">微软商店安装</a></p><p id="e77b" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一切都安装好了吗？那我们继续有趣的部分🎉</p><h2 id="9153" class="ma mb it bd mc md me dn mf mg mh dp mi li mj mk ml lm mm mn mo lq mp mq mr iz bi translated">更改命令提示符</h2><p id="e5f3" class="pw-post-body-paragraph kz la it lb b lc ms kd le lf mt kg lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">定制你的命令提示符的工具是<a class="ae lv" href="https://ohmyposh.dev/docs" rel="noopener ugc nofollow" target="_blank">我的天哪</a>。你可以在<a class="ae lv" href="https://ohmyposh.dev/docs/installation/windows" rel="noopener ugc nofollow" target="_blank"> Windows </a>上用winget、scoop或chocolatey这样的包管理器安装它。对于<a class="ae lv" href="https://ohmyposh.dev/docs/installation/linux" rel="noopener ugc nofollow" target="_blank"> Linux </a>和<a class="ae lv" href="https://ohmyposh.dev/docs/installation/macos" rel="noopener ugc nofollow" target="_blank"> MacOS </a>检查安装说明。还有一个安装软件的PowerShell命令。</p><p id="b504" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">❗以下命令是针对<strong class="lb jd"> PowerShell </strong>和<strong class="lb jd"> Windows的！</strong></p><p id="34ab" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们需要初始化oh-my-posh。它将加载默认主题，我们稍后会更改。使用命令<br/> <code class="fe mx my mz na b">notepad $PROFILE</code>编辑您的PowerShell配置文件，并插入以下代码。</p><pre class="kr ks kt ku gt nb na nc nd aw ne bi"><span id="a9c9" class="ma mb it na b gy nf ng l nh ni">oh-my-posh init pwsh --config &lt;path-to-theme-file&gt; | Invoke-Expression</span></pre><p id="d5f9" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在你需要选择一个<a class="ae lv" href="https://ohmyposh.dev/docs/themes" rel="noopener ugc nofollow" target="_blank">主题文件</a>。有很多选项可供选择，所以挑选你最喜欢的并下载JSON文件。如果你愿意，你也可以使用我当前的主题。将JSON文件存储在您的计算机上，将路径插入到上面的命令中，然后保存您的配置文件。使用<code class="fe mx my mz na b">. $PROFILE</code>重新加载您更改的设置。您定制的命令提示符现在应该是可见的。</p><p id="3b42" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">❗把你的路径放在引号("")中，如果它包含空格。不然主题就找不到了。</p><p id="15e7" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">❗如果您无法编辑您的个人资料，文件可能已丢失。执行<code class="fe mx my mz na b">$PROFILE</code>找到期望的路径，然后在该位置创建一个空文件。默认文件名为<code class="fe mx my mz na b">Microsoft.PowerShell_profile.ps1</code>，默认位置为<code class="fe mx my mz na b">C:\Users\&lt;user&gt;\Documents\PowerShell</code>。</p><p id="a87e" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">❗如果PowerShell阻止脚本执行，请查看以下链接来解决问题。</p><div class="nj nk gp gr nl nm"><a href="https://stackoverflow.com/a/68505597" rel="noopener  ugc nofollow" target="_blank"><div class="nn ab fo"><div class="no ab np cl cj nq"><h2 class="bd jd gy z fp nr fr fs ns fu fw jc bi translated">运行“set-execution policy-Scope Process-execution policy bypass”是否安全</h2><div class="nt l"><h3 class="bd b gy z fp nr fr fs ns fu fw dk translated">保存当前执行策略...$ curr policy = Get-execution policy #...并临时将策略设置为“绕过”…</h3></div><div class="nu l"><p class="bd b dl z fp nr fr fs ns fu fw dk translated">stackoverflow.com</p></div></div><div class="nv l"><div class="nw l nx ny nz nv oa kx nm"/></div></div></a></div><p id="f80f" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要使提示真正成为你自己的，查看一下关于主题的文档。例如，您可以插入片段来显示<a class="ae lv" href="https://ohmyposh.dev/docs/segments/spotify" rel="noopener ugc nofollow" target="_blank">当前播放的Spotify歌曲</a>，<a class="ae lv" href="https://ohmyposh.dev/docs/segments/dotnet" rel="noopener ugc nofollow" target="_blank">当前。NET版本</a>，git 的<a class="ae lv" href="https://ohmyposh.dev/docs/segments/git" rel="noopener ugc nofollow" target="_blank">版本控制信息，或者</a><a class="ae lv" href="https://ohmyposh.dev/docs/segments/executiontime" rel="noopener ugc nofollow" target="_blank">最后一条命令</a>的执行时间。编辑您当前的主题文件或从头创建一个新的。如有疑问，请阅读文档。挺好的😊</p><p id="1186" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我的提示包含6个部分:</p><p id="9032" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">🔹<a class="ae lv" href="https://ohmyposh.dev/docs/segments/os" rel="noopener ugc nofollow" target="_blank"> OS </a>段(Windows图标)<br/>🔹<a class="ae lv" href="https://ohmyposh.dev/docs/segments/path" rel="noopener ugc nofollow" target="_blank">路径</a>段(显示当前文件夹)<br/>🔹<a class="ae lv" href="https://ohmyposh.dev/docs/segments/time" rel="noopener ugc nofollow" target="_blank">时间段</a>段(显示当前时间)<br/>🔹<a class="ae lv" href="https://ohmyposh.dev/docs/segments/git" rel="noopener ugc nofollow" target="_blank"> git </a>段(显示当前分支，仅在git文件夹中可见)<br/>🔹<a class="ae lv" href="https://ohmyposh.dev/docs/segments/dotnet" rel="noopener ugc nofollow" target="_blank">点网</a>段(显示当前。NET版，只在。网络文件夹)<br/>🔹<a class="ae lv" href="https://ohmyposh.dev/docs/segments/exit" rel="noopener ugc nofollow" target="_blank">退出</a>段(显示最后一条命令的状态)</p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/538b428cf00f4d9f046b2b07ce946db3.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*WAy1A0O7Ox3YJQuXw5qVPg.png"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">我当前的命令提示符</figcaption></figure><h2 id="7f1a" class="ma mb it bd mc md me dn mf mg mh dp mi li mj mk ml lm mm mn mo lq mp mq mr iz bi translated">更改字体</h2><p id="4677" class="pw-post-body-paragraph kz la it lb b lc ms kd le lf mt kg lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">建议使用书呆子字体，这样你定制的命令提示符就不会显示任何错误。</p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/48027f10c335c1fe1a4039b52bc67364.png" data-original-src="https://miro.medium.com/v2/resize:fit:804/format:webp/1*215gDCGxTMPRMqYMrSm3nw.png"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">没有书呆子字体的提示</figcaption></figure><p id="d68f" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">检查这个<a class="ae lv" href="https://www.nerdfonts.com/font-downloads" rel="noopener ugc nofollow" target="_blank">存档</a>的字体，选择你最喜欢的，下载，安装，并在你的shell中设置为默认字体。在Windows终端中，进入“设置”，选择您的配置文件，进入“外观”选项卡，并从列表中选择已安装的字体。如果字体不可用，可能需要重新启动终端。</p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div role="button" tabindex="0" class="oe of di og bf oh"><div class="gh gi od"><img src="../Images/631474e93303eb0feac2e5bbc3449624.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lgSzBSb7JgBMvixmw3AC3w.png"/></div></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">在Windows终端中设置自定义字体</figcaption></figure><p id="248c" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更改后，您的提示符应该显示正确的字符和图标。</p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/5eb899238a6b2703bf3b1ad54e082124.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/format:webp/1*qRUM1aekyc3BRyv2tNgZzw.png"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">用书呆子字体提示</figcaption></figure><h2 id="08e0" class="ma mb it bd mc md me dn mf mg mh dp mi li mj mk ml lm mm mn mo lq mp mq mr iz bi translated">更改图标(仅限PowerShell！)</h2><p id="5dc4" class="pw-post-body-paragraph kz la it lb b lc ms kd le lf mt kg lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">与前面的步骤相比，更换<strong class="lb jd">图标</strong>相当容易。您只需要在PowerShell中执行命令<code class="fe mx my mz na b">Install-Module -Name Terminal-Icons -Repository PSGallery</code>，并将命令<code class="fe mx my mz na b">Import-Module -Name Terminal-Icons</code>添加到您的配置文件中。然后开始一个新的PowerShell会话或使用<code class="fe mx my mz na b">. $PROFILE</code>重新加载配置文件，图标应该已经改变。</p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div class="ab gu cl kw"><img src="../Images/bbc81d51496fbaa1327798cda7577c40.png" data-original-src="https://miro.medium.com/v2/format:webp/1*y3w7s8ffXqibhghOCNkPFQ.png"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">图标已更改的PowerShell用户界面</figcaption></figure><h2 id="c36a" class="ma mb it bd mc md me dn mf mg mh dp mi li mj mk ml lm mm mn mo lq mp mq mr iz bi translated">结论</h2><p id="7175" class="pw-post-body-paragraph kz la it lb b lc ms kd le lf mt kg lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">PowerShell命令提示符的定制不仅仅是一个光学上的改进。根据您配置的内容和您的工作流，好处可能非常巨大。</p><p id="f73a" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">查看<a class="ae lv" href="https://ohmyposh.dev/docs" rel="noopener ugc nofollow" target="_blank">我的奢华</a>、<a class="ae lv" href="https://www.nerdfonts.com/" rel="noopener ugc nofollow" target="_blank">书呆子字体</a>和<a class="ae lv" href="https://github.com/devblackops/Terminal-Icons" rel="noopener ugc nofollow" target="_blank">终端图标</a>来定制你想要的提示！<a class="ae lv" href="https://www.hanselman.com/blog/my-ultimate-powershell-prompt-with-oh-my-posh-and-the-windows-terminal" rel="noopener ugc nofollow" target="_blank"> Scott Hanselman </a>也写了关于这个话题的博客，并创建了一个很好的指南。如果你有更详细的问题，请查看。</p></div><div class="ab cl oj ok hx ol" role="separator"><span class="om bw bk on oo op"/><span class="om bw bk on oo op"/><span class="om bw bk on oo"/></div><div class="im in io ip iq"><p id="1ef1" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你喜欢这篇文章，我会很高兴得到掌声👏(你知道可以拍几次吗？😎)另外，如果你还没有跟上我，我也很感激。</p><p id="b798" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">🌲<a class="ae lv" href="https://linktr.ee/xeladu" rel="noopener ugc nofollow" target="_blank"> linktr.ee </a> | ☕ <a class="ae lv" href="https://www.buymeacoffee.com/xeladu" rel="noopener ugc nofollow" target="_blank">咖啡</a> |🎁<a class="ae lv" href="https://www.paypal.com/donate/?hosted_button_id=JPWK39GGPAAFQ" rel="noopener ugc nofollow" target="_blank">捐赠</a> |💻GitHub  |🔔<a class="ae lv" href="https://xeladu.medium.com/subscribe" rel="noopener">订阅</a></p><p id="e8bb" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">顺便说一句:如果你还没有Medium会员，我建议你使用我的◀推荐链接，因为它会让你访问Medium上的所有内容，并以一小部分费用支持我，而不会为你带来任何额外费用。谢谢大家！✨</p><h2 id="5834" class="ma mb it bd mc md me dn mf mg mh dp mi li mj mk ml lm mm mn mo lq mp mq mr iz bi translated">相关故事</h2><div class="nj nk gp gr nl nm"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-fix-a-broken-branch-after-a-git-merge-or-git-rebase-4ca61c0cb6fd"><div class="nn ab fo"><div class="no ab np cl cj nq"><h2 class="bd jd gy z fp nr fr fs ns fu fw jc bi translated">如何在git合并或git重置后修复一个损坏的分支</h2><div class="nt l"><h3 class="bd b gy z fp nr fr fs ns fu fw dk translated">本指南向您展示了如何使用断开分支的原始更改来创建新分支。</h3></div><div class="nu l"><p class="bd b dl z fp nr fr fs ns fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="nv l"><div class="oq l nx ny nz nv oa kx nm"/></div></div></a></div><div class="nj nk gp gr nl nm"><a href="https://xeladu.medium.com/app-management-with-winget-on-windows-e668086a03f7" rel="noopener follow" target="_blank"><div class="nn ab fo"><div class="no ab np cl cj nq"><h2 class="bd jd gy z fp nr fr fs ns fu fw jc bi translated">如何使用winget安装、更新和删除您的Windows应用程序</h2><div class="nt l"><h3 class="bd b gy z fp nr fr fs ns fu fw dk translated">如何用Windows包管理器(winget)安装应用程序，如何保持应用程序更新，以及如何使用…</h3></div><div class="nu l"><p class="bd b dl z fp nr fr fs ns fu fw dk translated">xeladu.medium.com</p></div></div><div class="nv l"><div class="or l nx ny nz nv oa kx nm"/></div></div></a></div><div class="nj nk gp gr nl nm"><a rel="noopener  ugc nofollow" target="_blank" href="/speed-up-old-notebooks-with-google-chromeos-flex-3db16509b013"><div class="nn ab fo"><div class="no ab np cl cj nq"><h2 class="bd jd gy z fp nr fr fs ns fu fw jc bi translated">如何用新的谷歌ChromeOS Flex加速旧笔记本</h2><div class="nt l"><h3 class="bd b gy z fp nr fr fs ns fu fw dk translated">我将向您展示如何在旧的Windows笔记本上安装谷歌ChromeOS Flex，并解释其优点和缺点。</h3></div><div class="nu l"><p class="bd b dl z fp nr fr fs ns fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="nv l"><div class="os l nx ny nz nv oa kx nm"/></div></div></a></div></div></div>    
</body>
</html>