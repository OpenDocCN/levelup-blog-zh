<html>
<head>
<title>Keeping Multiple Tabs In Sync Using the NGXS State Management Library, RxJS, and localStorage</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用NGXS状态管理库、RxJS和localStorage保持多个选项卡同步</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/keeping-multiple-tab-in-sync-using-ngxs-state-management-library-rxjs-and-localstorage-840c0bf615fa?source=collection_archive---------1-----------------------#2019-01-22">https://levelup.gitconnected.com/keeping-multiple-tab-in-sync-using-ngxs-state-management-library-rxjs-and-localstorage-840c0bf615fa?source=collection_archive---------1-----------------------#2019-01-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/5ba8644cebc88e0a2c2638019700112c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LZ3gsuwU3rlW3nrNGKnKlQ.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">“安全专家建议你在驾驶时持续扫描所有的后视镜”</figcaption></figure><p id="831b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">一周前我在<a class="ae la" href="https://blog.angularindepth.com/keeping-browser-tabs-in-sync-using-localstorage-ngrx-and-rxjs-87de3bca4e2c" rel="noopener ugc nofollow" target="_blank">这里</a>看到一篇关于“<strong class="ke ir">保持多个标签同步</strong>”的博文。</p><p id="23af" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">作者@ <a class="ae la" href="https://blog.angularindepth.com/@timdeschryver" rel="noopener ugc nofollow" target="_blank"> Tim Deschryver </a>是NGRX图书馆团队成员之一。他有非常棒的帖子。</p><p id="af49" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在这篇文章中，我决定为Angular编写一个与状态管理库相同的概念，名为<a class="ae la" href="https://github.com/ngxs/store" rel="noopener ugc nofollow" target="_blank"> <strong class="ke ir"> NGXS </strong> </a>。</p><p id="c28f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我认为NGXS为angular提供了更好的模式库。</p><blockquote class="lb lc ld"><p id="856c" class="kc kd le ke b kf kg kh ki kj kk kl km lf ko kp kq lg ks kt ku lh kw kx ky kz ij bi translated">有人想知道为什么我更喜欢使用NGXS而不是NGRX，也可以看看这个帖子；"<a class="ae la" href="https://blog.singular.uk/why-i-prefer-ngxs-over-ngrx-df727cd868b5" rel="noopener ugc nofollow" target="_blank">为什么我更喜欢NGXS而不是NGRX </a>"</p></blockquote></div><div class="ab cl li lj hu lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ij ik il im in"><p id="b56b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">让我们回到正题；</p><ol class=""><li id="afec" class="lp lq iq ke b kf kg kj kk kn lr kr ls kv lt kz lu lv lw lx bi translated">我们将在angular应用程序中使用NGXS进行状态管理</li><li id="b131" class="lp lq iq ke b kf ly kj lz kn ma kr mb kv mc kz lu lv lw lx bi translated">将我们的操作名称保存到localStorage</li><li id="f906" class="lp lq iq ke b kf ly kj lz kn ma kr mb kv mc kz lu lv lw lx bi translated">使用<code class="fe md me mf mg b">fromEvent</code>操作员监听<code class="fe md me mf mg b">window.storage</code>事件</li></ol><p id="15fd" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">结果；</strong></p><ol class=""><li id="d9e5" class="lp lq iq ke b kf kg kj kk kn lr kr ls kv lt kz lu lv lw lx bi translated">我们将在一个选项卡中更改数据，另一个选项卡将自动更新。</li><li id="1673" class="lp lq iq ke b kf ly kj lz kn ma kr mb kv mc kz lu lv lw lx bi translated">举个简单的例子，我们将检查登录状态。如果用户在一个选项卡中注销，其他选项卡也会将他重定向到登录页面。</li></ol><p id="16e9" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> Demo App视频；</strong></p><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="9e6e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> <em class="le">完整代码在我的GitHub profile</em></strong><a class="ae la" href="https://github.com/mehmetakifalp/ngxs-keep-browser-tab-sync" rel="noopener ugc nofollow" target="_blank"><strong class="ke ir">https://github.com/mehmetakifalp/ngxs-keep-browser-tab-sync</strong></a></p><p id="abf5" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> StackBlitz演示；</strong></p><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="mn mm l"/></div></figure><blockquote class="lb lc ld"><p id="ee6b" class="kc kd le ke b kf kg kh ki kj kk kl km lf ko kp kq lg ks kt ku lh kw kx ky kz ij bi translated"><strong class="ke ir">关注我在</strong> <a class="ae la" href="https://twitter.com/mhmtakifalp" rel="noopener ugc nofollow" target="_blank"> <strong class="ke ir">推特</strong> </a> <strong class="ke ir">和</strong> <a class="ae la" href="https://github.com/mehmetakifalp" rel="noopener ugc nofollow" target="_blank"> <strong class="ke ir"> GitHub </strong> </a></p></blockquote><h1 id="2b42" class="mo mp iq bd mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl bi translated">步骤；</h1><p id="9360" class="pw-post-body-paragraph kc kd iq ke b kf nm kh ki kj nn kl km kn no kp kq kr np kt ku kv nq kx ky kz ij bi translated"><strong class="ke ir">使用CLI创建angular应用程序</strong></p><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="nr mm l"/></div></figure><p id="fd71" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">向package.json添加NGXS依赖关系</strong></p><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="nr mm l"/></div></figure><p id="6504" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">创建登录、注销状态、动作。</strong></p><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="nr mm l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">登录状态</figcaption></figure><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="nr mm l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">登录/注销操作</figcaption></figure><p id="299f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">使用来自Rxjs的from event</strong></p><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="nr mm l"/></div></figure><p id="e602" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">登录组件</strong></p><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="nr mm l"/></div></figure><p id="86aa" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">在App模块导入</strong></p><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="nr mm l"/></div></figure><h1 id="cae0" class="mo mp iq bd mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl bi translated">完整演示！</h1><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="mn mm l"/></div></figure><div class="ns nt gp gr nu nv"><a href="https://stackblitz.com/edit/angular-rxjs-localstorage-fromevent?embed=1&amp;file=src/app/app.component.ts&amp;view=preview" rel="noopener  ugc nofollow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd ir gy z fp oa fr fs ob fu fw ip bi translated">angular-rxjs-local storage-from event-stack blitz</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">保持多个浏览器标签与ngxs、localStorage和Rxjs同步</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">stackblitz.co</p></div></div><div class="oe l"><div class="of l og oh oi oe oj jw nv"/></div></div></a></div><p id="6347" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">感谢阅读！下一篇文章我打算写一下<strong class="ke ir"> addEventListener与fromEvent </strong>的比较。</p><p id="4aa2" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在github跟随我:【https://github.com/mehmetakifalp T2】</p><p id="35c6" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">跟我来中音:【https://medium.com/@mehmetakifalp T4】</p><blockquote class="lb lc ld"><p id="ac94" class="kc kd le ke b kf kg kh ki kj kk kl km lf ko kp kq lg ks kt ku lh kw kx ky kz ij bi translated">来，<a class="ae la" href="https://twitter.com/ngturkiye" rel="noopener ugc nofollow" target="_blank">在Twitter上向我们问好。</a>我们是一群来自土耳其的Angular爱好者，围绕Angular组织聚会、发布文章、贡献开源项目。— NG土耳其</p></blockquote></div></div>    
</body>
</html>