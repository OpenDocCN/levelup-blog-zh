<html>
<head>
<title>Code Smell 146 — Getter Comments</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">代码气味146 — Getter注释</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/code-smell-146-getter-comments-ebada3aa5d08?source=collection_archive---------17-----------------------#2022-07-05">https://levelup.gitconnected.com/code-smell-146-getter-comments-ebada3aa5d08?source=collection_archive---------17-----------------------#2022-07-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3198" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated"><em class="kf">评论是一股码味。Getters是另一种代码味道。你猜怎么着？</em></h2></div><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi kg"><img src="../Images/23001470f1cca8b6970e929666a266d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HMQ6WgYoVeN6fDi9zm7MZQ.jpeg"/></div></div></figure><blockquote class="ks kt ku"><p id="8f75" class="kv kw kx ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="iq">TL；DR:不要用吸气剂。不评论getters </em></p></blockquote><h1 id="7e53" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">问题</h1><ul class=""><li id="a008" class="mk ml iq ky b kz mm lc mn mo mp mq mr ms mt lr mu mv mw mx bi translated">评论滥用者</li><li id="af85" class="mk ml iq ky b kz my lc mz mo na mq nb ms nc lr mu mv mw mx bi translated">可读性</li><li id="e93a" class="mk ml iq ky b kz my lc mz mo na mq nb ms nc lr mu mv mw mx bi translated">吸气剂</li></ul><h1 id="04e9" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">解决方法</h1><ol class=""><li id="a363" class="mk ml iq ky b kz mm lc mn mo mp mq mr ms mt lr nd mv mw mx bi translated">删除getter注释</li><li id="98ba" class="mk ml iq ky b kz my lc mz mo na mq nb ms nc lr nd mv mw mx bi translated">移除吸气剂</li></ol><h1 id="9907" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">语境</h1><p id="f3cc" class="pw-post-body-paragraph kv kw iq ky b kz mm jr lb lc mn ju le mo ne lh li mq nf ll lm ms ng lp lq lr ij bi translated">几十年前，我们习惯于评论每一种方法。即使是琐碎的事情</p><p id="43cc" class="pw-post-body-paragraph kv kw iq ky b kz la jr lb lc ld ju le mo lg lh li mq lk ll lm ms lo lp lq lr ij bi translated">注释应该只描述关键的设计决策。</p><h1 id="c218" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">示例代码</h1><h1 id="8015" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">错误的</h1><pre class="kh ki kj kk gt nh ni nj nk aw nl bi"><span id="e7d0" class="nm lt iq ni b gy nn no l np nq">pragma solidity &gt;=0.5.0 &lt;0.9.0;</span><span id="0f2e" class="nm lt iq ni b gy nr no l np nq">contract Property{<br/>    int public price;   </span><span id="6ca0" class="nm lt iq ni b gy nr no l np nq">    function getPrice() public view returns(int){</span><span id="0531" class="nm lt iq ni b gy nr no l np nq">           /* returns the Price  */</span><span id="5ef4" class="nm lt iq ni b gy nr no l np nq">        return price;<br/>    }<br/>}</span></pre><h1 id="b9c4" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">对吧</h1><pre class="kh ki kj kk gt nh ni nj nk aw nl bi"><span id="ce44" class="nm lt iq ni b gy nn no l np nq">pragma solidity &gt;=0.5.0 &lt;0.9.0;</span><span id="0be0" class="nm lt iq ni b gy nr no l np nq">contract Property{<br/>    int public _price;   </span><span id="33ea" class="nm lt iq ni b gy nr no l np nq">    function price() public view returns(int){        <br/>        return _price;<br/>    }<br/>}</span></pre><h1 id="1f4f" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">侦查</h1><p id="a676" class="pw-post-body-paragraph kv kw iq ky b kz mm jr lb lc mn ju le mo ne lh li mq nf ll lm ms ng lp lq lr ij bi translated">[X]半自动</p><p id="aac6" class="pw-post-body-paragraph kv kw iq ky b kz la jr lb lc ld ju le mo lg lh li mq lk ll lm ms lo lp lq lr ij bi translated">我们可以检测一个方法是否是getter并有注释。</p><h1 id="7de7" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">例外</h1><p id="bbc0" class="pw-post-body-paragraph kv kw iq ky b kz mm jr lb lc mn ju le mo ne lh li mq nf ll lm ms ng lp lq lr ij bi translated">这个函数需要一个注释，这个注释偶然是一个getter，并且这个注释与一个设计决策相关</p><h1 id="2c17" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">标签</h1><ul class=""><li id="096f" class="mk ml iq ky b kz mm lc mn mo mp mq mr ms mt lr mu mv mw mx bi translated">评论</li></ul><h1 id="42a7" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="3984" class="pw-post-body-paragraph kv kw iq ky b kz mm jr lb lc mn ju le mo ne lh li mq nf ll lm ms ng lp lq lr ij bi translated">不要评论getters。</p><p id="d538" class="pw-post-body-paragraph kv kw iq ky b kz la jr lb lc ld ju le mo lg lh li mq lk ll lm ms lo lp lq lr ij bi translated">它们没有增加真正的价值，并且会使你的代码膨胀。</p><h1 id="9a93" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">关系</h1><div class="ns nt gp gr nu nv"><a href="https://blog.devgenius.io/code-smell-05-comment-abusers-feec3aeb926" rel="noopener  ugc nofollow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd ir gy z fp oa fr fs ob fu fw ip bi translated">代码气味05 —评论滥用者</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">代码有很多注释。注释与实现联系在一起，很难维护。</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">blog.devgenius.io</p></div></div><div class="oe l"><div class="of l og oh oi oe oj kq nv"/></div></div></a></div><div class="ns nt gp gr nu nv"><a href="https://blog.devgenius.io/code-smell-68-getters-68571a0f7fa8" rel="noopener  ugc nofollow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd ir gy z fp oa fr fs ob fu fw ip bi translated">代码气味68 —吸气剂</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">得到的东西是广泛而安全的。但这是一种非常糟糕的做法。</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">blog.devgenius.io</p></div></div><div class="oe l"><div class="ok l og oh oi oe oj kq nv"/></div></div></a></div><div class="ns nt gp gr nu nv"><a href="https://blog.devgenius.io/code-smell-01-anemic-models-f9fb5a1323b3" rel="noopener  ugc nofollow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd ir gy z fp oa fr fs ob fu fw ip bi translated">代码气味01——贫血模型</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">你的对象是一堆没有行为的公共属性。</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">blog.devgenius.io</p></div></div><div class="oe l"><div class="ol l og oh oi oe oj kq nv"/></div></div></a></div><h1 id="56f4" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">信用</h1><p id="870f" class="pw-post-body-paragraph kv kw iq ky b kz mm jr lb lc mn ju le mo ne lh li mq nf ll lm ms ng lp lq lr ij bi translated">照片由Reimond de Zuñ iga在Unsplash上拍摄</p></div><div class="ab cl om on hu oo" role="separator"><span class="op bw bk oq or os"/><span class="op bw bk oq or os"/><span class="op bw bk oq or"/></div><div class="ij ik il im in"><blockquote class="ks kt ku"><p id="8afe" class="kv kw kx ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="iq">代码应该非常有表现力，以避免大部分的注释。会有一些例外，但是我们应该把评论看作是“表达的失败”,直到被证明是错误的。</em></p></blockquote><p id="edb9" class="pw-post-body-paragraph kv kw iq ky b kz la jr lb lc ld ju le mo lg lh li mq lk ll lm ms lo lp lq lr ij bi translated">罗伯特·马丁</p><div class="ns nt gp gr nu nv"><a href="https://blog.devgenius.io/software-engineering-great-quotes-3af63cea6782" rel="noopener  ugc nofollow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd ir gy z fp oa fr fs ob fu fw ip bi translated">软件工程名言</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">有时一个简短的想法可以带来惊人的想法。</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">blog.devgenius.io</p></div></div><div class="oe l"><div class="ot l og oh oi oe oj kq nv"/></div></div></a></div></div><div class="ab cl om on hu oo" role="separator"><span class="op bw bk oq or os"/><span class="op bw bk oq or os"/><span class="op bw bk oq or"/></div><div class="ij ik il im in"><p id="6501" class="pw-post-body-paragraph kv kw iq ky b kz la jr lb lc ld ju le mo lg lh li mq lk ll lm ms lo lp lq lr ij bi translated">本文是CodeSmell系列的一部分。</p><div class="ns nt gp gr nu nv"><a href="https://blog.devgenius.io/how-to-find-the-stinky-parts-of-your-code-fa8df47fc39c" rel="noopener  ugc nofollow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd ir gy z fp oa fr fs ob fu fw ip bi translated">如何找到你的代码中有问题的部分</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">代码很难闻。让我们看看如何改变香味。</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">blog.devgenius.io</p></div></div><div class="oe l"><div class="ou l og oh oi oe oj kq nv"/></div></div></a></div></div></div>    
</body>
</html>