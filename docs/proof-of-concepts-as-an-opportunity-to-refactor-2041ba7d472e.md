# 概念证明是重构的机会

> 原文：<https://levelup.gitconnected.com/proof-of-concepts-as-an-opportunity-to-refactor-2041ba7d472e>

![](img/1946e3b12850bce0f4dcc1be9cebb132.png)

[托利党主教](https://unsplash.com/@torybgd?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 的照片

我看过那个[理查德·费曼](https://en.wikipedia.org/wiki/Richard_Feynman)在解决问题的时候，对数据和方法毫不留情的质疑。虽然其他人可能基于广为接受的观察和方法提出了解决方案，但他会首先评估这些方法，对它们进行调整，然后通过这些改进的方法获得自己的观察结果。我非常钦佩这一点，也对他提问的努力和深度感到害怕。

## 重构，经常被忽视的技术债务

在成熟的项目中，开发人员通常会识别出有价值的重构。随着代码的有机增长、事物的变化和需求的漂移，总会有需要重构的地方。可怕的队伍是看不到的。糟糕的团队会看到它，但会忽略它，因为*就像*一样在工作。好的团队会看到它，确定应该做什么，并将其添加到 backlog 中。真正优秀的团队会持续解决这个问题*。*

## 概念证明

当处理一个重要的新功能时，一个常见的策略是采用概念验证(PoC)项目。PoC 可以是电子表格，也可以是最终用户无法立即访问的成熟功能。通常，POC 的实施在工具、时间和方法上比普通功能有更大的自由度。

## 概念验证往往遵循几条途径

让我们考虑一个使用供应商提供的新 HTTP API 的 PoC。PoC 的目的是看看新的 API 是否可以被独特地应用来实现一些新的目标。

## 方法一:最小的努力

使用类似于 *curl* 的东西来调用 API 并分析结果。这是一种常见的权宜之计，但实际上并不像看起来那样权宜。最简方法的问题是，虽然您可能很快得到一些结果，但是使这些结果对实际分析有用可能需要越来越多的额外的最简步骤，您如何处理 JSON blobs curl 产生的结果呢？虽然每一步都很小，但你最终可能会有很多小步骤，结果可能是一台[鲁布·戈德堡](https://en.wikipedia.org/wiki/Rube_Goldberg_machine)机器。此外，你可能会依赖于一个独特的功能或你的工具。例如，如果您使用 curl 的`--insecure`来“暂时忽略证书问题”，当您需要整理证书时，您可能会后悔这个选择。

## 方法二:重新利用你现有的东西

您可以分支一个现有的 HTTP 客户端服务，只需修改它来支持新的 API。这种方法具有利用现有投资的优势，并且您不会意外地使用当前工具中不可用的一些特性。这里的风险是，如果您尝试 PoC 的是一个非常新的概念，而您现有的代码不能胜任该任务，那么您在将方钉应用于圆孔时所做的妥协实际上可能会破坏 PoC 的目标。

## 方法三:绿色领域

创建一个新项目，在学习现有 HTTP 客户机的同时，为新的 API 生成一个新的服务。如果您使用 chose 来导入现有代码，请在导入的过程中重构/清理它。让概念验证不仅仅是证明目标概念的机会，也是应用您考虑过的一些重构的机会。

## 去绿地吧

把 PoCs 当成重构的机会。拉一个 Feynman，并利用 PoC 作为一个机会来重新考虑事情应该如何完成。如果你试图证明一个新概念，解构先前的假设，使用新的基本原理来构建新概念。

## 为什么？

首先，你会得到一个比其他棕色地带更好的答案。第二，将 PoCs 视为一个机会，一般来说，虽然它们通常有时间限制，但它们不太受审查和负责。一旦 PoC 完成，即使业务部门决定不采用这个概念，也要把所有最好的部分带回来，并把它们放回你的主线工作中。这就是我喜欢接受概念验证的原因，即使企业选择不接受结果，改进的代码也可能有显著的好处。