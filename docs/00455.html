<html>
<head>
<title>Intro to Web Development with Rust for NodeJS Developers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向NodeJS开发人员的Rust Web开发简介</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/intro-to-web-programming-in-rust-for-nodejs-developers-1a9c048c4de1?source=collection_archive---------0-----------------------#2019-03-10">https://levelup.gitconnected.com/intro-to-web-programming-in-rust-for-nodejs-developers-1a9c048c4de1?source=collection_archive---------0-----------------------#2019-03-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="ce71" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">铁锈不一样。你可以在周末学习Python或Ruby，创建第一个CRUD应用程序，并对结果感到满意。</p><p id="6a70" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">有了Rust…有了Rust，你将很难把一个字符串传递给不同的方法，改变并返回它。然后，您将订购Rust book，看看它的大小，叹口气，然后开始。</p><p id="a7fc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在工作之余苦读了几周之后，你放弃了，等着别人创造一个简单易懂的教程。</p><h2 id="4856" class="ko kp it bd kq kr ks dn kt ku kv dp kw kb kx ky kz kf la lb lc kj ld le lf lg bi translated">这是你的“简单”教程</h2><p id="fe51" class="pw-post-body-paragraph jq jr it js b jt lh jv jw jx li jz ka kb lj kd ke kf lk kh ki kj ll kl km kn im bi translated">我也在纠结同样的问题。然而，生活环境给了我几个月的时间来真正关注铁锈。</p><p id="6874" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">接下来是第一个概述、概念和要遵循的路径。在接下来的几周和几个月里，我将发表一系列文章来帮助你从概念到产品。</p><h2 id="27b4" class="ko kp it bd kq kr ks dn kt ku kv dp kw kb kx ky kz kf la lb lc kj ld le lf lg bi translated">NodeJS vs Rust</h2><p id="25aa" class="pw-post-body-paragraph jq jr it js b jt lh jv jw jx li jz ka kb lj kd ke kf lk kh ki kj ll kl km kn im bi translated">安装它们之后(在这个例子中我选择了macOS的<code class="fe lm ln lo lp b">brew</code>，方法无关紧要)，底层堆栈看起来就不一样了。NodeJS需要来自Google的运行时引擎V8和JavaScript库的绑定来运行JavaScript代码。</p><p id="72ef" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">铁锈几乎完全取决于铁锈本身。只是编译器用的是用C和C++写的<code class="fe lm ln lo lp b"><a class="ae lq" href="https://llvm.org/" rel="noopener ugc nofollow" target="_blank">llvm</a></code> <a class="ae lq" href="https://llvm.org/" rel="noopener ugc nofollow" target="_blank">库</a>。</p><figure class="ls lt lu lv gt lw gh gi paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="gh gi lr"><img src="../Images/c22c0fb000b14dccb674c296ce355df3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VVW_BFV4pt8Twqb5wPqRPQ.png"/></div></div></figure><h2 id="c27d" class="ko kp it bd kq kr ks dn kt ku kv dp kw kb kx ky kz kf la lb lc kj ld le lf lg bi translated">有多少“网”在生锈？</h2><p id="d14d" class="pw-post-body-paragraph jq jr it js b jt lh jv jw jx li jz ka kb lj kd ke kf lk kh ki kj ll kl km kn im bi translated">Rust 中不包含标准的http库是一个设计决策<a class="ae lq" href="https://users.rust-lang.org/t/announcing-the-http-crate/12123" rel="noopener ugc nofollow" target="_blank">。因此，OSI层的覆盖范围有所不同:</a></p><figure class="ls lt lu lv gt lw gh gi paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="gh gi md"><img src="../Images/aa3f7b9c486bbdf7b6659e006c1c250c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o82nUghM17eZtSHb3Cw-xQ.png"/></div></div></figure><p id="14c7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Node涵盖了整个堆栈，并提供了Koa和Express，这两个众所周知的“坚如磐石”的web框架可以帮助您在HTTP之上构建应用程序。</p><p id="35f0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在Rust方面，Rust内核中只实现了<a class="ae lq" href="https://doc.rust-lang.org/std/net/struct.TcpStream.html" rel="noopener ugc nofollow" target="_blank"> TCP </a>。当前的web框架(<a class="ae lq" href="https://actix.rs/actix/actix/" rel="noopener ugc nofollow" target="_blank"> actix </a>和<a class="ae lq" href="https://rocket.rs/" rel="noopener ugc nofollow" target="_blank"> rocket </a>)实现了HTTP之前的所有东西。所以你不需要关心这是从哪里来的。</p><p id="fc7f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果想在没有任何更大框架的情况下使用纯HTTP调用，可以安装实现HTTP协议的“crates”(相当于节点世界的npm包)(像<a class="ae lq" href="https://github.com/hyperium/hyper" rel="noopener ugc nofollow" target="_blank"> hyper </a>和<a class="ae lq" href="https://github.com/tiny-http/tiny-http" rel="noopener ugc nofollow" target="_blank"> tiny_http </a>)。</p><h2 id="9613" class="ko kp it bd kq kr ks dn kt ku kv dp kw kb kx ky kz kf la lb lc kj ld le lf lg bi translated">npm与货物</h2><p id="d50b" class="pw-post-body-paragraph jq jr it js b jt lh jv jw jx li jz ka kb lj kd ke kf lk kh ki kj ll kl km kn im bi translated">节点正在使用npm进行程序包管理:</p><ul class=""><li id="0452" class="me mf it js b jt ju jx jy kb mg kf mh kj mi kn mj mk ml mm bi translated"><code class="fe lm ln lo lp b">npm install</code>正在安装依赖项</li><li id="a6ac" class="me mf it js b jt mn jx mo kb mp kf mq kj mr kn mj mk ml mm bi translated"><code class="fe lm ln lo lp b">npm run xyz</code>正在执行<code class="fe lm ln lo lp b">package.json</code>内部的脚本</li></ul><p id="96b3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">另一方面，<code class="fe lm ln lo lp b"><a class="ae lq" href="https://doc.rust-lang.org/cargo/" rel="noopener ugc nofollow" target="_blank">cargo</a></code> <a class="ae lq" href="https://doc.rust-lang.org/cargo/" rel="noopener ugc nofollow" target="_blank">正在处理与你的项目相关的一切事情</a>:</p><ul class=""><li id="a86b" class="me mf it js b jt ju jx jy kb mg kf mh kj mi kn mj mk ml mm bi translated"><code class="fe lm ln lo lp b">cargo new NAME --bin</code>正在创建应用程序</li><li id="3006" class="me mf it js b jt mn jx mo kb mp kf mq kj mr kn mj mk ml mm bi translated"><code class="fe lm ln lo lp b">cargo new NAME --lib</code>创建图书馆</li><li id="96f2" class="me mf it js b jt mn jx mo kb mp kf mq kj mr kn mj mk ml mm bi translated"><code class="fe lm ln lo lp b">cargo run</code>正在执行代码</li><li id="01ad" class="me mf it js b jt mn jx mo kb mp kf mq kj mr kn mj mk ml mm bi translated"><code class="fe lm ln lo lp b">cargo build</code>正在创建可执行文件</li><li id="6a55" class="me mf it js b jt mn jx mo kb mp kf mq kj mr kn mj mk ml mm bi translated"><code class="fe lm ln lo lp b">cargo test</code>正在运行项目内部的所有测试</li></ul><p id="1657" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae lq" href="https://github.com/rust-lang/cargo/issues/5586" rel="noopener ugc nofollow" target="_blank">有一个打开的PR </a>来添加<code class="fe lm ln lo lp b">cargo add</code>来安装依赖项。现在你必须手动将它们添加到你的<code class="fe lm ln lo lp b">Cargo.toml</code>文件中。如您所见，您不需要在<code class="fe lm ln lo lp b">package.json</code>中包含脚本来运行测试或者构建和测试您的应用程序。</p><blockquote class="ms mt mu"><p id="9c27" class="jq jr mv js b jt ju jv jw jx jy jz ka mw kc kd ke mx kg kh ki my kk kl km kn im bi translated">心态变化:货物在<code class="fe lm ln lo lp b">cargo run</code>后取包，只是版本变了。所以第一次它会获取所有的包，第二次只是在版本号发生变化的时候。不像<code class="fe lm ln lo lp b">npm i</code>会立即获取包，并使用<code class="fe lm ln lo lp b">save</code>符号将其添加到<code class="fe lm ln lo lp b">package.json</code>中。</p></blockquote><h2 id="57cf" class="ko kp it bd kq kr ks dn kt ku kv dp kw kb kx ky kz kf la lb lc kj ld le lf lg bi translated">生态系统</h2><p id="a010" class="pw-post-body-paragraph jq jr it js b jt lh jv jw jx li jz ka kb lj kd ke kf lk kh ki kj ll kl km kn im bi translated">节点无缘无故不成功。生态系统丰富而繁荣。Rust还在发展，但已经有了很多伟大的“板条箱”。网站<a class="ae lq" href="http://www.arewewebyet.org/" rel="noopener ugc nofollow" target="_blank">arewewebyet.org</a>正在追踪进度，并向你展示铁锈世界中有趣的软件包。</p><p id="e2b6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">还有人试图创建一个官方的Rust Web框架，名为<a class="ae lq" href="https://github.com/rustasync/tide" rel="noopener ugc nofollow" target="_blank"> Tide </a>。它已经相当成熟，可以用于辅助项目。在Rust中，您可以自由地贡献并帮助创建一个web开发的良好环境。</p><h2 id="480c" class="ko kp it bd kq kr ks dn kt ku kv dp kw kb kx ky kz kf la lb lc kj ld le lf lg bi translated">Asnyc编程又名承诺又名未来</h2><p id="b86c" class="pw-post-body-paragraph jq jr it js b jt lh jv jw jx li jz ka kb lj kd ke kf lk kh ki kj ll kl km kn im bi translated">节点杀手特性是承诺。虽然并不总是容易理解和处理，但承诺和事件循环是Node如此有利可图的原因。</p><p id="1edd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Rust还实现了一个异步机制，这还没有在最终版本中实现。它们被称为<a class="ae lq" href="https://github.com/rust-lang-nursery/futures-rs" rel="noopener ugc nofollow" target="_blank">期货</a>。一个名为<a class="ae lq" href="https://tokio.rs/" rel="noopener ugc nofollow" target="_blank"> Tokio </a>的库已经提供了异步运行时。您可以在<a class="ae lq" href="https://areweasyncyet.rs/" rel="noopener ugc nofollow" target="_blank">areweasynctive</a>的Rust over中跟踪异步编程的进度。</p><h2 id="8b6d" class="ko kp it bd kq kr ks dn kt ku kv dp kw kb kx ky kz kf la lb lc kj ld le lf lg bi translated">如何入门？</h2><ol class=""><li id="409f" class="me mf it js b jt lh jx li kb mz kf na kj nb kn nc mk ml mm bi translated">安装铁锈:<code class="fe lm ln lo lp b">curl https://sh.rustup.rs -sSf | sh</code></li><li id="592a" class="me mf it js b jt mn jx mo kb mp kf mq kj mr kn nc mk ml mm bi translated">创建新项目:<code class="fe lm ln lo lp b">cargo new web-app --bin</code></li><li id="5677" class="me mf it js b jt mn jx mo kb mp kf mq kj mr kn nc mk ml mm bi translated"><code class="fe lm ln lo lp b">cd web-app</code></li></ol><p id="5217" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在你可以选择你的web框架了。你可以从<a class="ae lq" href="https://rocket.rs/" rel="noopener ugc nofollow" target="_blank">火箭</a>或者<a class="ae lq" href="https://actix.rs/" rel="noopener ugc nofollow" target="_blank"> actix </a>开始。您可以按照网站上的教程来运行第一个web应用程序。</p><h2 id="bb1e" class="ko kp it bd kq kr ks dn kt ku kv dp kw kb kx ky kz kf la lb lc kj ld le lf lg bi translated">抬头:未定义、借用和类型</h2><p id="3384" class="pw-post-body-paragraph jq jr it js b jt lh jv jw jx li jz ka kb lj kd ke kf lk kh ki kj ll kl km kn im bi translated">为了在我的下一篇文章之前不感到沮丧，这里有你必须习惯的关于Rust的四件主要事情(过一段时间后会很棒)。</p><p id="4d05" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下面的例子已经涵盖了大量的新概念。确保将<code class="fe lm ln lo lp b">reqwest</code>添加到您的<code class="fe lm ln lo lp b">Cargo.toml</code>依赖项中:</p><pre class="ls lt lu lv gt nd lp ne nf aw ng bi"><span id="9046" class="ko kp it lp b gy nh ni l nj nk">reqwest = “0.9.11</span></pre><figure class="ls lt lu lv gt lw gh gi paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="gh gi nl"><img src="../Images/d52bc2f44c84c4707232b1bbd88885ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*19buWOAtuYgd4I9q4Qtuhw.png"/></div></div></figure><ol class=""><li id="a1e7" class="me mf it js b jt ju jx jy kb mg kf mh kj mi kn nc mk ml mm bi translated">没有未定义的。Rust没有真正的空值。这是一个特点。Rust有一个名为<a class="ae lq" href="https://doc.rust-lang.org/std/option/index.html" rel="noopener ugc nofollow" target="_blank"> Option </a>的类型，它要么封装返回值，要么不封装。在这种情况下，我们使用<a class="ae lq" href="https://doc.rust-lang.org/std/result/#result-and-option" rel="noopener ugc nofollow" target="_blank">结果</a>类型返回值。你可以不返回一个字符串，而是返回一个可能有一个字符串值的选项，或者如果我们从中获取的网站不包含任何文本，则没有字符串值。一个简单的解决方案是<code class="fe lm ln lo lp b">.unwrap()</code>将字符串从封装中取出，但在生产中不应该使用。<a class="ae lq" href="https://doc.rust-lang.org/std/result/#result-and-option" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">作业(click):尝试检查GET请求是否出错，在这种情况下返回错误而不是Ok()。</strong> </a></li><li id="4b01" class="me mf it js b jt mn jx mo kb mp kf mq kj mr kn nc mk ml mm bi translated">你一定听说过<a class="ae lq" href="https://doc.rust-lang.org/book/ch04-02-references-and-borrowing.html" rel="noopener ugc nofollow" target="_blank">借</a>。简而言之:对非平凡类型(没有固定大小的所有类型)的每一次赋值(=)都会转移所有权。方法<code class="fe lm ln lo lp b">fetch_text()</code>不是接管<code class="fe lm ln lo lp b">url</code>的所有权，而是使用对它的引用(通过<code class="fe lm ln lo lp b">&amp;</code>)。<strong class="js iu"> </strong> <a class="ae lq" href="https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2018&amp;gist=d7527a2b8570393dd70c2083172d621a" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">作业(点击):弄清楚这里的这段代码为什么会失败，如何解决。</strong>T13】</a></li><li id="4c1a" class="me mf it js b jt mn jx mo kb mp kf mq kj mr kn nc mk ml mm bi translated">你必须知道方法返回的是哪种类型。在这个例子中，我们的HTTP crate <code class="fe lm ln lo lp b">reqwest</code>正在返回一个实现某些方法的响应结构(类型)。文件，就像许多板条箱一样，非常好。<a class="ae lq" href="https://docs.rs/reqwest/0.9.11/reqwest/struct.Response.html#method.text" rel="noopener ugc nofollow" target="_blank">所以看这里</a>。</li><li id="ff55" class="me mf it js b jt mn jx mo kb mp kf mq kj mr kn nc mk ml mm bi translated">你不必键入<code class="fe lm ln lo lp b">return</code>来从一个方法返回值。只是不要在一个语句的末尾加一个<code class="fe lm ln lo lp b">;</code>，它将成为你的返回值。</li></ol><p id="8a3a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用这个例子来试验一下，看看在哪里可以得到错误并学习修复它们。</p><h2 id="22a4" class="ko kp it bd kq kr ks dn kt ku kv dp kw kb kx ky kz kf la lb lc kj ld le lf lg bi translated">就这些吗？</h2><p id="bac8" class="pw-post-body-paragraph jq jr it js b jt lh jv jw jx li jz ka kb lj kd ke kf lk kh ki kj ll kl km kn im bi translated">两种意见:</p><ul class=""><li id="9390" class="me mf it js b jt ju jx jy kb mg kf mh kj mi kn mj mk ml mm bi translated">“可惜没有！”</li><li id="b092" class="me mf it js b jt mn jx mo kb mp kf mq kj mr kn mj mk ml mm bi translated">“没有，但这是好事！”</li></ul><p id="d458" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你实际上必须学会相当多的铁锈才能开始。这就是我来这里的目的。在接下来的几天、几周或几个月里，我将讲述基础知识，直到创建一个可靠的web应用程序。</p><p id="1084" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在此之前，我可以推荐Exercism.io上的<a class="ae lq" href="https://exercism.io/my/tracks/rust" rel="noopener ugc nofollow" target="_blank">Rust track</a>和<a class="ae lq" href="https://doc.rust-lang.org/stable/book/" rel="noopener ugc nofollow" target="_blank"> Rust Book </a>，你也可以在当地书店或亚马逊找到纸质版。</p><p id="27b5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">正如我在第一篇文章中提到的，Rust让你成为更好的开发者，所以这条路有时会很长，但总是值得的。在<a class="ae lq" href="https://twitter.com/byteadventures" rel="noopener ugc nofollow" target="_blank"> twitter </a>或<a class="ae lq" href="https://medium.com/@gruberbastian" rel="noopener"> Medium </a>上关注我，了解最新动态！</p></div><div class="ab cl nm nn hx no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="im in io ip iq"><figure class="ls lt lu lv gt lw gh gi paragraph-image"><a href="https://levelup.gitconnected.com"><div class="gh gi nt"><img src="../Images/9914c5dd23ac08b70eea6f4f9ba6fed2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E6CoI_MRyZ1JInNPsBSHtA.png"/></div></a></figure><div class="nu nv gp gr nw nx"><a href="https://gitconnected.com/learn/rust" rel="noopener  ugc nofollow" target="_blank"><div class="ny ab fo"><div class="nz ab oa cl cj ob"><h2 class="bd iu gy z fp oc fr fs od fu fw is bi translated">学习Rust -最佳Rust教程(2019) | gitconnected</h2><div class="oe l"><h3 class="bd b gy z fp oc fr fs od fu fw dk translated">14大铁锈教程-免费学习铁锈。课程由开发者提交并投票，使您能够找到…</h3></div><div class="of l"><p class="bd b dl z fp oc fr fs od fu fw dk translated">gitconnected.com</p></div></div><div class="og l"><div class="oh l oi oj ok og ol mb nx"/></div></div></a></div></div></div>    
</body>
</html>