<html>
<head>
<title>Test-Driven Development (TDD): why every programmer should learn it</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">测试驱动开发(TDD):为什么每个程序员都应该学习它</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/test-driven-development-tdd-why-every-programmer-should-learn-it-9f5e1d7b270?source=collection_archive---------10-----------------------#2020-08-23">https://levelup.gitconnected.com/test-driven-development-tdd-why-every-programmer-should-learn-it-9f5e1d7b270?source=collection_archive---------10-----------------------#2020-08-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/eee4548d6b8490130a0938f06eaf6d02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7DdFYKM-Kzq7GGTm"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">费伦茨·阿尔马西在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="cb2c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">就编程而言，对开发人员来说，测试代码和实际代码本身一样重要。有些人可能认为这甚至更重要。你会问，这是为什么？在你编码之前写你自己的测试迫使你思考它应该如何工作。这可以帮助您在开发过程中减少时间，隔离特定的问题或错误，甚至可以避免在添加新功能时出现倒退。这个博客将定义什么是TDD，并介绍“红色、绿色、重构”原则。</p><h2 id="05e3" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">什么是TDD？</h2><p id="d50c" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">TDD，或测试驱动开发，是一种编码模式，它帮助程序员以一种递增的方式构建他们的代码。它是在你开始写代码之前写测试代码，也称为测试套件<em class="lz">。这里的目标是迫使你思考一些东西应该如何工作，这样你就可以一点一点地构建代码。</em></p><p id="919e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面是一个用RSpec编写的测试块的例子，RSpec是Ruby的行为驱动开发(BDD)语言。<em class="lz">(注意TDD和BDD略有不同，但总体概念是相同的——使用测试套件来驱动开发)。在我看来，我们将使用这个例子，因为它的语法可读性很强，可以帮助你快速理解这个想法。</em></p><figure class="mb mc md me gt jr gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/f4f16e120199e9467b3403ace19c148d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1046/format:webp/1*Oz7yZx9mYEUvplrZGjI5aw.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">测试块，用Ruby的RSpec编写</figcaption></figure><p id="572e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我不会详细讨论该语言的语法，但是这个例子测试了一个Card类在创建一个新实例时是否有一个名为“Ace of黑桃”的类型。为了通过这个测试，我们可以逐步接近它，并且:</p><ol class=""><li id="3df4" class="mf mg iq kf b kg kh kk kl ko mh ks mi kw mj la mk ml mm mn bi translated">创建一个卡类</li><li id="8712" class="mf mg iq kf b kg mo kk mp ko mq ks mr kw ms la mk ml mm mn bi translated">用名为“type”的实例变量初始化它</li><li id="fc49" class="mf mg iq kf b kg mo kk mp ko mq ks mr kw ms la mk ml mm mn bi translated">添加一个getter方法来获取值</li></ol><p id="48dc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们执行上面的测试块:</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mt"><img src="../Images/914d940acb2eeeab73eb771b7685a221.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y34e8pfuAV6fvIoLWw0lZg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">测试失败，名称为错误</figcaption></figure><p id="f3eb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在编写代码之前执行该测试块<em class="lz">时，失败。这是显而易见的，因为没有要测试的代码。测试抛出了一个“name error:initialized constant Card ”,因为我们还没有创建卡类。</em></p><p id="0342" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们通过创建Card类来解决这个名称错误。一旦我们创建了一个Card类，遵循TDD模式，我们将执行相同的测试块。结果如下:</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mu"><img src="../Images/ddf47dacc0c514904f26abc29ec31cce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N5McyUNED-Af0a2RXSOXYg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">测试失败，出现参数错误</figcaption></figure><p id="6963" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一个新的错误！这意味着我们成功地创建了Card类，并可以进入下一个阶段，即解决ArgumentError。</p><p id="68bd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这种执行测试块、读取错误、解决问题，然后继续处理新错误的模式被称为TDD。开发人员正在使用他们创建的测试套件，通过一点一点地增量构建代码来帮助指导他们进行开发。如果我们按照前面的步骤继续上面的例子，我们将通过测试。这意味着我们已经成功地满足了测试块的期望，并且创建了我们想要的正确代码。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/0d89230969d4f6cf356536e20d0cc1ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1318/format:webp/1*VckWGNiTlFyJkOBaSx3PEg.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">通过测试</figcaption></figure><h2 id="74b4" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">红色、绿色、重构</h2><p id="eb85" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">TDD的核心模式也被称为“红绿重构”原则。红色对应于您预计会收到的错误，因为相应的代码没有正确编写。绿色对应于为了通过测试而必须编写的最少代码。获得绿色通行证后，您可以重构您的代码以优化和偏好的风格。重构代码时，可能会出现红色错误信息，然后您必须重新编写代码才能再次得到绿色信息。这个过程会一直重复，直到你对重构满意，并且代码仍然通过测试。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/98ad7f057bafb650628f8c57e0dc4965.png" data-original-src="https://miro.medium.com/v2/resize:fit:978/format:webp/0*4XtxMGOskA-8Gkkb.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">红绿重构口头禅。图片<a class="ae kc" href="http://hanwax.github.io/2014/08/16/testing/" rel="noopener ugc nofollow" target="_blank">来源</a>。</figcaption></figure><p id="7761" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">TDD是每个程序员都应该使用的强大工具。它将在开发过程中为您提供指导，让您在编写代码时保持专注和高效。</p><p id="9e49" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">留意后续的博客，它解释了在编写测试套件时可以使用的不同类型的测试，以及哪种更好。简短的回答是——“看情况。”</p><p id="6626" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">快乐编码😄</p></div></div>    
</body>
</html>