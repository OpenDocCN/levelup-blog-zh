<html>
<head>
<title>Namespaces and Scopes: An Easy Lesson In Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">名称空间和作用域:Python中的一堂简单课</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/namespaces-scopes-an-easy-lesson-in-python-13d654a95ee?source=collection_archive---------6-----------------------#2022-08-24">https://levelup.gitconnected.com/namespaces-scopes-an-easy-lesson-in-python-13d654a95ee?source=collection_archive---------6-----------------------#2022-08-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="59c9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Python是一种面向对象的编程语言。Python中的一切都是对象，每个对象都有其属性和方法。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/4c52cff4e2022d93a1ff674b17ee3131.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-ZPPvnblN4qcWm3v"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">照片由<a class="ae le" href="https://unsplash.com/@hiteshchoudhary?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Hitesh Choudhary </a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="e8f9" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">什么是名称空间？</h1><p id="b4dd" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">正如Python文档中所定义的:</p><p id="be9b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi mi translated"><span class="l mj mk ml bm mm mn mo mp mq di">N</span>T16】命名空间是从名字到对象的映射。</p><p id="9e0d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当我们在Python中定义对象时，这些对象的名称保存在字典中。</p><p id="fcf7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个字典是一个名称空间。</p><p id="719d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">该字典的<em class="mr">键</em>是定义对象的名称，而<em class="mr">值</em>是这些名称引用的对象。</p><p id="9e25" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们举个例子。</p><p id="cb8b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们定义了两个变量叫做<code class="fe ms mt mu mv b">firstName</code> &amp; <code class="fe ms mt mu mv b">lastName</code>(记住这些也是对象)。</p><pre class="kp kq kr ks gt mw mv mx my aw mz bi"><span id="f054" class="na lg it mv b gy nb nc l nd ne">firstName = 'Ashish'<br/>lastName = 'Bamania'</span></pre><p id="31ff" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了了解Python如何将它们存储在名称空间中，我们将使用<code class="fe ms mt mu mv b">globals</code>函数。</p><pre class="kp kq kr ks gt mw mv mx my aw mz bi"><span id="2284" class="na lg it mv b gy nb nc l nd ne">print(globals())</span></pre><p id="ed33" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">其输出将是:</p><pre class="kp kq kr ks gt mw mv mx my aw mz bi"><span id="8f0b" class="na lg it mv b gy nb nc l nd ne">{'__name__': '__main__', 'firstName': 'Ashish', 'lastName': 'Bamania'}</span></pre><blockquote class="nf ng nh"><p id="050b" class="jq jr mr js b jt ju jv jw jx jy jz ka ni kc kd ke nj kg kh ki nk kk kl km kn im bi translated">注意，<code class="fe ms mt mu mv b">'__name__' : ‘__main__'</code>表示应用程序入口点所在环境的名称是<code class="fe ms mt mu mv b">__main__</code></p></blockquote><p id="e0a5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你想知道我们从哪里得到的 <code class="fe ms mt mu mv b"><strong class="js iu">globals</strong></code> <strong class="js iu">函数吗？</strong>来说说吧。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nl"><img src="../Images/a4908c6da792d26a10eb39c6b3c9e745.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TKRYGeA0LsS4_Jcm"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">克里斯·里德在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="da4f" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">命名空间的类型</h1><p id="73a0" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">命名空间是在不同的时间创建的，具有不同的生存期。</p><p id="f792" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">有三种类型的名称空间:</p><ul class=""><li id="f507" class="nm nn it js b jt ju jx jy kb no kf np kj nq kn nr ns nt nu bi translated">内置名称空间</li><li id="f3fa" class="nm nn it js b jt nv jx nw kb nx kf ny kj nz kn nr ns nt nu bi translated">全局名称空间</li><li id="bede" class="nm nn it js b jt nv jx nw kb nx kf ny kj nz kn nr ns nt nu bi translated">本地名称空间</li></ul><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/6ca5aeb8005c304cad1383c38cbdff3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*EHebedjtQzYKzhh3xsowBg.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">名称空间的类型(按作者分类的图像)</figcaption></figure><h2 id="832c" class="na lg it bd lh ob oc dn ll od oe dp lp kb of og lt kf oh oi lx kj oj ok mb ol bi translated">内置名称空间</h2><p id="a30f" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">这是名称空间的最高级别。</p><p id="c931" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它是在Python解释器启动时创建的，永远不会终止。</p><p id="8979" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要查看这个名称空间的组成，请使用:</p><pre class="kp kq kr ks gt mw mv mx my aw mz bi"><span id="2512" class="na lg it mv b gy nb nc l nd ne">print(dir(__builtins__))</span></pre><p id="317d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">该命令的输出是:</p><pre class="kp kq kr ks gt mw mv mx my aw mz bi"><span id="9c6c" class="na lg it mv b gy nb nc l nd ne">['ArithmeticError', 'AssertionError', 'AttributeError', 'BaseException', 'BlockingIOError', 'BrokenPipeError', 'BufferError', 'BytesWarning', 'ChildProcessError', 'ConnectionAbortedError', 'ConnectionError', 'ConnectionRefusedError', 'ConnectionResetError', 'DeprecationWarning', 'EOFError', 'Ellipsis', 'EncodingWarning', 'EnvironmentError', 'Exception', 'False', 'FileExistsError', 'FileNotFoundError', 'FloatingPointError', 'FutureWarning', 'GeneratorExit', 'IOError', 'ImportError', 'ImportWarning', 'IndentationError', 'IndexError', 'InterruptedError', 'IsADirectoryError', 'KeyError', 'KeyboardInterrupt', 'LookupError', 'MemoryError', 'ModuleNotFoundError', 'NameError', 'None', 'NotADirectoryError', 'NotImplemented', 'NotImplementedError', 'OSError', 'OverflowError', 'PendingDeprecationWarning', 'PermissionError', 'ProcessLookupError', 'RecursionError', 'ReferenceError', 'ResourceWarning', 'RuntimeError', 'RuntimeWarning', 'StopAsyncIteration', 'StopIteration', 'SyntaxError', 'SyntaxWarning', 'SystemError', 'SystemExit', 'TabError', 'TimeoutError', 'True', 'TypeError', 'UnboundLocalError', 'UnicodeDecodeError', 'UnicodeEncodeError', 'UnicodeError', 'UnicodeTranslateError', 'UnicodeWarning', 'UserWarning', 'ValueError', 'Warning', 'WindowsError', 'ZeroDivisionError', '__build_class__', '__debug__', '__doc__', '__import__', '__loader__', '__name__', '__package__', '__spec__', 'abs', 'aiter', 'all', 'anext', 'any', 'ascii', 'bin', 'bool', 'breakpoint', 'bytearray', 'bytes', 'callable', 'chr', 'classmethod', 'compile', 'complex', 'copyright', 'credits', 'delattr', 'dict', 'dir', 'divmod', 'enumerate', 'eval', 'exec', 'exit', 'filter', 'float', 'format', 'frozenset', 'getattr', 'globals', 'hasattr', 'hash', 'help', 'hex', 'id', 'input', 'int', 'isinstance', 'issubclass', 'iter', 'len', 'license', 'list', 'locals', 'map', 'max', 'memoryview', 'min', 'next', 'object', 'oct', 'open', 'ord', 'pow', 'print', 'property', 'quit', 'range', 'repr', 'reversed', 'round', 'set', 'setattr', 'slice', 'sorted', 'staticmethod', 'str', 'sum', 'super', 'tuple', 'type', 'vars', 'zip']</span></pre><p id="cb8c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个名称空间包括Python中默认可用的所有函数。</p><p id="764d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你不需要导入任何模块来使用这些函数(<code class="fe ms mt mu mv b">max</code>、<code class="fe ms mt mu mv b">str</code>、<code class="fe ms mt mu mv b">dir</code>、<code class="fe ms mt mu mv b">print</code>等等)。</p><p id="cf1e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这也包括例外(<code class="fe ms mt mu mv b">NameError</code>、<code class="fe ms mt mu mv b">AssertionError</code>等)。)以及像<code class="fe ms mt mu mv b">True</code>、<code class="fe ms mt mu mv b">None</code>和<code class="fe ms mt mu mv b">False</code>这样的值。</p><h2 id="a547" class="na lg it bd lh ob oc dn ll od oe dp lp kb of og lt kf oh oi lx kj oj ok mb ol bi translated">全局名称空间</h2><p id="1139" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">它是内置命名空间之后的下一级命名空间。</p><p id="908e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它在主程序开始执行时创建，一直持续到程序执行完毕/解释程序退出。</p><p id="e3be" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当我们定义一个对象(变量/函数)时，它被存储在全局名称空间中。</p><p id="9fb5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们定义几个变量和一个函数。</p><pre class="kp kq kr ks gt mw mv mx my aw mz bi"><span id="cad8" class="na lg it mv b gy nb nc l nd ne">firstName = 'Ashish'<br/>lastName = 'Bamania'</span><span id="a149" class="na lg it mv b gy om nc l nd ne">def print_name(firstName, lastName):<br/>    return firstName + ' ' + lastName</span></pre><p id="8e79" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们可以使用<code class="fe ms mt mu mv b">globals</code>函数(从内置名称空间)访问全局名称空间中的值。</p><p id="d30c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe ms mt mu mv b">print(globals())</code>的输出为:</p><pre class="kp kq kr ks gt mw mv mx my aw mz bi"><span id="ed16" class="na lg it mv b gy nb nc l nd ne">{'__name__': '__main__', '__doc__': None, '__package__': None, '__loader__': &lt;class '_frozen_importlib.BuiltinImporter'&gt;, '__spec__': None, '__annotations__': {}, '__builtins__': &lt;module 'builtins' (built-in)&gt;, '<strong class="mv iu">firstName</strong>': 'ashish', '<strong class="mv iu">lastName</strong>': 'bamania', '<strong class="mv iu">print_name</strong>': &lt;function print_name at 0x0000026ED74A3E20&gt;}</span></pre><h2 id="c98d" class="na lg it bd lh ob oc dn ll od oe dp lp kb of og lt kf oh oi lx kj oj ok mb ol bi translated">本地名称空间</h2><p id="654e" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">这是名称空间的最低/最深层次，是为每个函数创建的。</p><p id="9f5d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">本地命名空间是在调用函数时创建的，当函数返回或引发函数内未处理的异常时删除。</p><p id="753b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们用两个局部变量<code class="fe ms mt mu mv b">str</code>和<code class="fe ms mt mu mv b">name</code>创建一个函数。</p><p id="7da8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们将使用<code class="fe ms mt mu mv b">locals()</code>函数(来自内置名称空间)来访问这个函数的本地名称空间中的值。</p><pre class="kp kq kr ks gt mw mv mx my aw mz bi"><span id="ca11" class="na lg it mv b gy nb nc l nd ne">def say_hi():<br/>    str = "Hi"<br/>    name = "Ashish"<br/>    print(str + " " + name + !)<br/>    print(locals()) </span></pre><p id="ba92" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">调用此函数时的输出是:</p><pre class="kp kq kr ks gt mw mv mx my aw mz bi"><span id="17c5" class="na lg it mv b gy nb nc l nd ne">Hi Ashish!</span><span id="3f70" class="na lg it mv b gy om nc l nd ne">{'<strong class="mv iu">str</strong>':'Hi','<strong class="mv iu">name</strong>':'Ashish'}</span></pre><blockquote class="nf ng nh"><p id="571b" class="jq jr mr js b jt ju jv jw jx jy jz ka ni kc kd ke nj kg kh ki nk kk kl km kn im bi translated">注意，如果我们在函数的上下文之外执行<code class="fe ms mt mu mv b">locals</code>函数，它将充当<code class="fe ms mt mu mv b">globals</code>函数。</p></blockquote><p id="fa52" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">请记住，当我们编写递归函数或嵌套函数时，每个函数执行都有自己的本地名称空间。</p><p id="c13c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们继续讨论示波器！</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi on"><img src="../Images/f1ee124dcc161e5bdfd9302fba9f8869.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WC19QYsM-j-ixo6Y"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">由<a class="ae le" href="https://unsplash.com/@soberanes?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">乌列尔·索伯兰斯</a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="23d8" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">什么是示波器？</h1><p id="d953" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">根据Python文档，</p><p id="08d1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi mi translated">SS<em class="mr">cope</em>是Python程序的一个文本区域，其中可以直接访问名称空间。</p><p id="3246" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">简单地说，当我们有多个名称空间时，作用域是一种检查名称空间中的对象并找到其值的机制。</p><p id="15fe" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">首先，在不同名称空间中定义的变量只能从特定的作用域中访问。</p><h1 id="f68c" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">范围的类型</h1><p id="d2e5" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">有四种类型/级别的范围。这些是:</p><ul class=""><li id="db9b" class="nm nn it js b jt ju jx jy kb no kf np kj nq kn nr ns nt nu bi translated">内置范围</li><li id="c289" class="nm nn it js b jt nv jx nw kb nx kf ny kj nz kn nr ns nt nu bi translated">全球范围</li><li id="663a" class="nm nn it js b jt nv jx nw kb nx kf ny kj nz kn nr ns nt nu bi translated">封闭范围</li><li id="1c94" class="nm nn it js b jt nv jx nw kb nx kf ny kj nz kn nr ns nt nu bi translated">局部范围</li></ul><p id="8ef3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们自下而上地学习:</p><h2 id="a673" class="na lg it bd lh ob oc dn ll od oe dp lp kb of og lt kf oh oi lx kj oj ok mb ol bi translated">局部范围</h2><p id="42ed" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">这是最里面的作用域。</p><p id="df6b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它是在调用函数时创建的，并提供对本地名称空间中定义的本地对象的访问。</p><p id="c1e7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于下面定义的函数，<code class="fe ms mt mu mv b">greeting</code>是<code class="fe ms mt mu mv b">greet</code>函数的本地名称空间中的一个变量。</p><pre class="kp kq kr ks gt mw mv mx my aw mz bi"><span id="7879" class="na lg it mv b gy nb nc l nd ne">def greet():<br/>    greeting= "Hello!"<br/>    print(greeting)</span></pre><p id="e4ca" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当我们从函数外部调用<code class="fe ms mt mu mv b">print(greeting)</code>时，我们得到以下错误:</p><pre class="kp kq kr ks gt mw mv mx my aw mz bi"><span id="90ca" class="na lg it mv b gy nb nc l nd ne">NameError: name 'greeting' is not defined</span></pre><p id="2737" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是因为<code class="fe ms mt mu mv b">print(greeting)</code>无权访问本地范围/本地名称空间。</p><h2 id="3507" class="na lg it bd lh ob oc dn ll od oe dp lp kb of og lt kf oh oi lx kj oj ok mb ol bi translated">封闭范围</h2><p id="affd" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">这是在一个函数中定义的作用域，该函数中有一个嵌套函数。</p><p id="108e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它允许内部/嵌套函数访问外部/封闭函数中的所有对象。</p><p id="20e7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">看看下面的例子。</p><pre class="kp kq kr ks gt mw mv mx my aw mz bi"><span id="f25e" class="na lg it mv b gy nb nc l nd ne">def func_outer():<br/>    value_outer = 1<br/>    <br/>    def func_inner():<br/>        value_inner = 2<br/>        <strong class="mv iu">print(value_outer)</strong></span><span id="059e" class="na lg it mv b gy om nc l nd ne">    func_inner()</span><span id="2df9" class="na lg it mv b gy om nc l nd ne">func_outer()</span></pre><p id="0a28" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这将输出到<code class="fe ms mt mu mv b">1</code>。</p><p id="a8a8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">再看一个例子。</p><pre class="kp kq kr ks gt mw mv mx my aw mz bi"><span id="a3b8" class="na lg it mv b gy nb nc l nd ne">def func_outer():<br/>    value_outer = 1<br/>    <strong class="mv iu">print(value_inner)<br/></strong>    <br/>    def func_inner():<br/>        value_inner = 2</span><span id="dee6" class="na lg it mv b gy om nc l nd ne">    func_inner()</span><span id="0569" class="na lg it mv b gy om nc l nd ne">func_outer()</span></pre><p id="ad38" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这将输出到:</p><pre class="kp kq kr ks gt mw mv mx my aw mz bi"><span id="e8db" class="na lg it mv b gy nb nc l nd ne">NameError: name 'value_inner' is not defined</span></pre><h2 id="4062" class="na lg it bd lh ob oc dn ll od oe dp lp kb of og lt kf oh oi lx kj oj ok mb ol bi translated">全球范围</h2><p id="e011" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">这是局部范围和封闭范围之上的范围级别。</p><p id="dd70" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在全局命名空间中定义的所有对象都可以在程序中的任何地方被访问，因为它们在全局范围内。</p><pre class="kp kq kr ks gt mw mv mx my aw mz bi"><span id="3131" class="na lg it mv b gy nb nc l nd ne">firstName = "ashish"<br/>lastName = "bamania"</span><span id="65a6" class="na lg it mv b gy om nc l nd ne">def print_firstName():<br/>    print(firstName)</span><span id="b64c" class="na lg it mv b gy om nc l nd ne">print_firstName()</span></pre><p id="1fcd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这将输出到<code class="fe ms mt mu mv b">ashish</code>。</p><h2 id="b3c0" class="na lg it bd lh ob oc dn ll od oe dp lp kb of og lt kf oh oi lx kj oj ok mb ol bi translated">内置范围</h2><p id="8723" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">这是最高级别的作用域，允许访问内置名称空间中的函数/异常和值。</p><p id="044b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">例如，您可以在程序中的任何地方使用<code class="fe ms mt mu mv b">print</code>函数，因为内置作用域可以访问内置名称空间。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oo"><img src="../Images/606d4ba6325cc07f96e92d7e7881815e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NHYs7vXx8Z2Rd_VU"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">照片由<a class="ae le" href="https://unsplash.com/@tsellobenok?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Dzmitry Tselabionak </a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="15f0" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">LEGB规则和范围解析</h1><blockquote class="nf ng nh"><p id="f166" class="jq jr mr js b jt ju jv jw jx jy jz ka ni kc kd ke nj kg kh ki nk kk kl km kn im bi translated">LEGB=本地、封闭、全局和内置</p></blockquote><p id="88fd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">此规则定义如何在名称空间中搜索对象。</p><p id="d207" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">据此，Python解释器将首先搜索最低/最深级别(本地名称空间)中的对象，并且总是向上移动以搜索更高的名称空间(按照LEGB的顺序)。</p><blockquote class="nf ng nh"><p id="e766" class="jq jr mr js b jt ju jv jw jx jy jz ka ni kc kd ke nj kg kh ki nk kk kl km kn im bi translated">因此，<strong class="js iu">最低/最深的名称空间可以访问上面名称空间中的所有对象。</strong></p></blockquote><p id="6fdc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个过程被称为<strong class="js iu">范围解析</strong>。</p></div><div class="ab cl op oq hx or" role="separator"><span class="os bw bk ot ou ov"/><span class="os bw bk ot ou ov"/><span class="os bw bk ot ou"/></div><div class="im in io ip iq"><p id="b44e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这里阅读更多关于名称空间和作用域的信息:</p><div class="ow ox gp gr oy oz"><a href="https://docs.python.org/3/tutorial/classes.html#python-scopes-and-namespaces" rel="noopener  ugc nofollow" target="_blank"><div class="pa ab fo"><div class="pb ab pc cl cj pd"><h2 class="bd iu gy z fp pe fr fs pf fu fw is bi translated">9.类- Python 3.10.6文档</h2><div class="pg l"><h3 class="bd b gy z fp pe fr fs pf fu fw dk translated">类提供了一种将数据和功能捆绑在一起的方法。创建一个新类会创建一个新类型的对象…</h3></div><div class="ph l"><p class="bd b dl z fp pe fr fs pf fu fw dk translated">docs.python.org</p></div></div></div></a></div><div class="ow ox gp gr oy oz"><a href="https://www.w3schools.com/python/python_scope.asp" rel="noopener  ugc nofollow" target="_blank"><div class="pa ab fo"><div class="pb ab pc cl cj pd"><h2 class="bd iu gy z fp pe fr fs pf fu fw is bi translated">Python范围</h2><div class="pg l"><h3 class="bd b gy z fp pe fr fs pf fu fw dk translated">变量只能在创建它的区域内使用。这就叫范围。在…内部创建的变量</h3></div><div class="ph l"><p class="bd b dl z fp pe fr fs pf fu fw dk translated">www.w3schools.com</p></div></div><div class="pi l"><div class="pj l pk pl pm pi pn ky oz"/></div></div></a></div><div class="ow ox gp gr oy oz"><a href="https://www.geeksforgeeks.org/namespaces-and-scope-in-python/" rel="noopener  ugc nofollow" target="_blank"><div class="pa ab fo"><div class="pb ab pc cl cj pd"><h2 class="bd iu gy z fp pe fr fs pf fu fw is bi translated">Python - GeeksforGeeks中的名称空间和范围</h2><div class="pg l"><h3 class="bd b gy z fp pe fr fs pf fu fw dk translated">名称空间是Python中每个对象都有唯一名称的系统。一个对象可能是一个变量或一个…</h3></div><div class="ph l"><p class="bd b dl z fp pe fr fs pf fu fw dk translated">www.geeksforgeeks.org</p></div></div><div class="pi l"><div class="po l pk pl pm pi pn ky oz"/></div></div></a></div></div><div class="ab cl op oq hx or" role="separator"><span class="os bw bk ot ou ov"/><span class="os bw bk ot ou ov"/><span class="os bw bk ot ou"/></div><div class="im in io ip iq"><p id="314e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">非常感谢你阅读这篇文章！</p><div class="ow ox gp gr oy oz"><a href="https://bamania-ashish.medium.com/membership" rel="noopener follow" target="_blank"><div class="pa ab fo"><div class="pb ab pc cl cj pd"><h2 class="bd iu gy z fp pe fr fs pf fu fw is bi translated">通过我的推荐链接加入Medium-Ashish Bama nia博士</h2><div class="pg l"><h3 class="bd b gy z fp pe fr fs pf fu fw dk translated">阅读Ashish Bamania博士(以及Medium上成千上万的其他作家)的每一个故事。您的会员费直接…</h3></div><div class="ph l"><p class="bd b dl z fp pe fr fs pf fu fw dk translated">bamania-ashish.medium.com</p></div></div><div class="pi l"><div class="pp l pk pl pm pi pn ky oz"/></div></div></a></div></div><div class="ab cl op oq hx or" role="separator"><span class="os bw bk ot ou ov"/><span class="os bw bk ot ou ov"/><span class="os bw bk ot ou"/></div><div class="im in io ip iq"><h1 id="c485" class="lf lg it bd lh li pq lk ll lm pr lo lp lq ps ls lt lu pt lw lx ly pu ma mb mc bi translated">分级编码</h1><p id="3be8" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="1564" class="nm nn it js b jt ju jx jy kb no kf np kj nq kn nr ns nt nu bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="03f3" class="nm nn it js b jt nv jx nw kb nx kf ny kj nz kn nr ns nt nu bi translated">📰查看<a class="ae le" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">级编码出版物</a>中的更多内容</li><li id="81d9" class="nm nn it js b jt nv jx nw kb nx kf ny kj nz kn nr ns nt nu bi translated">🔔关注我们:<a class="ae le" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">推特</a> | <a class="ae le" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a> | <a class="ae le" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="dd45" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">🚀👉<a class="ae le" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">加入升级人才集体，找到一份惊艳的工作</strong> </a></p></div></div>    
</body>
</html>