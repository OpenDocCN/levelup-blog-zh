<html>
<head>
<title>How to Build a Virtual Classroom iOS App with Video and Chat</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用视频和聊天构建虚拟教室iOS应用程序</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-build-a-virtual-classroom-ios-app-with-video-and-chat-fe834bee6678?source=collection_archive---------19-----------------------#2020-07-09">https://levelup.gitconnected.com/how-to-build-a-virtual-classroom-ios-app-with-video-and-chat-fe834bee6678?source=collection_archive---------19-----------------------#2020-07-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="c893" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本教程中，我们将构建一个iOS应用程序，学生和教师可以在虚拟教室中使用<a class="ae ko" href="https://getstream.io/chat/" rel="noopener ugc nofollow" target="_blank"> Stream Chat </a>进行交互，以提供<a class="ae ko" href="https://getstream.io/tutorials/ios-chat/" rel="noopener ugc nofollow" target="_blank">全功能聊天组件</a>，以及<a class="ae ko" href="https://Dolby.io" rel="noopener ugc nofollow" target="_blank"> Dolby.io </a>，以提供高质量的音频和视频。到最后，我们将有一个类似于下面截图的应用程序。额外的好处是，它兼容明暗模式。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi kp"><img src="../Images/a3a3344aa201172f6c057ca2a157703f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mYD7xgdhv_VS5KPW"/></div></div></figure><p id="3114" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果您在本教程中迷路了，您可以在本<a class="ae ko" href="https://github.com/GetStream/edtech-classroom-app-ios/" rel="noopener ugc nofollow" target="_blank"> GitHub repo </a>中查看已完成的项目。让我们开始我们的EdTech应用程序开发吧！</p></div><div class="ab cl lb lc hx ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="im in io ip iq"><h1 id="9070" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">什么是流聊天？</h1><blockquote class="mg mh mi"><p id="d996" class="jq jr mj js b jt ju jv jw jx jy jz ka mk kc kd ke ml kg kh ki mm kk kl km kn im bi translated"><em class="it">用更少的时间建立实时聊天。借助我们高度可靠的聊天基础架构，快速发送应用内消息。使用流聊天消息平台API&amp;SDK推动应用内转换、参与和保留。</em></p><p id="8a23" class="jq jr mj js b jt ju jv jw jx jy jz ka mk kc kd ke ml kg kh ki mm kk kl km kn im bi translated"><a class="ae ko" href="https://getstream.io/chat/" rel="noopener ugc nofollow" target="_blank"> <em class="it">流聊天&amp;留言</em> </a></p></blockquote><h1 id="a16d" class="li lj it bd lk ll mn ln lo lp mo lr ls lt mp lv lw lx mq lz ma mb mr md me mf bi translated">什么是Dolby.io的客户端SDK？</h1><blockquote class="mg mh mi"><p id="ffc1" class="jq jr mj js b jt ju jv jw jx jy jz ka mk kc kd ke ml kg kh ki mm kk kl km kn im bi translated"><em class="it">Dolby interactive API提供了一个统一通信和协作的平台。流内通信是指语音、视频和消息的组合，以对最终用户有凝聚力的方式集成到您的应用程序中。这与应用程序外通信形成对比，在应用程序外通信中，用户必须停止使用您的应用程序，转而使用第三方工具。</em></p><p id="5958" class="jq jr mj js b jt ju jv jw jx jy jz ka mk kc kd ke ml kg kh ki mm kk kl km kn im bi translated"><a class="ae ko" href="https://dolby.io/developers/interactivity-apis/client-sdk/overview" rel="noopener ugc nofollow" target="_blank"> <em class="it">杜比. io文件</em> </a></p></blockquote></div><div class="ab cl lb lc hx ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="im in io ip iq"><h1 id="a0fe" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">要求</h1><ul class=""><li id="97d4" class="ms mt it js b jt mu jx mv kb mw kf mx kj my kn mz na nb nc bi translated">xc code 11+</li><li id="f4c6" class="ms mt it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated">iOS 13+</li><li id="e511" class="ms mt it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated">一<a class="ae ko" href="https://getstream.io/accounts/signup/" rel="noopener ugc nofollow" target="_blank">流</a>帐</li><li id="7e2f" class="ms mt it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated">A <a class="ae ko" href="https://dolby.io/organizations/register" rel="noopener ugc nofollow" target="_blank"> Dolby.io </a>账户</li></ul></div><div class="ab cl lb lc hx ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="im in io ip iq"><h1 id="6495" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">创建Xcode项目</h1><p id="4d91" class="pw-post-body-paragraph jq jr it js b jt mu jv jw jx mv jz ka kb ni kd ke kf nj kh ki kj nk kl km kn im bi translated">首先，我们打开Xcode，创建一个单视图应用程序项目。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi nl"><img src="../Images/5bd5f2d0f1c9d416fb9c1fe9fc29cd34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*P0he6EZPmppGPxt1"/></div></div></figure><p id="5011" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">确保为用户界面选择“故事板”。</p></div><div class="ab cl lb lc hx ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="im in io ip iq"><h1 id="b53b" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">安装依赖项</h1><p id="775a" class="pw-post-body-paragraph jq jr it js b jt mu jv jw jx mv jz ka kb ni kd ke kf nj kh ki kj nk kl km kn im bi translated">为了安装<a class="ae ko" href="https://github.com/getstream/stream-chat-swift" rel="noopener ugc nofollow" target="_blank">流聊天</a>和<a class="ae ko" href="https://github.com/voxeet/voxeet-sdk-ios" rel="noopener ugc nofollow" target="_blank"> Dolby.io的客户端SDK </a>依赖项，我们将使用<a class="ae ko" href="https://cocoapods.org/" rel="noopener ugc nofollow" target="_blank">cocapods</a>。如果您更喜欢迦太基，两个框架都支持它。</p><p id="9c34" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在保存项目的文件夹中，运行<code class="fe nm nn no np b">pod init</code>，将<code class="fe nm nn no np b">StreamChat</code>和<code class="fe nm nn no np b">VoxeetUXKit</code>添加到<code class="fe nm nn no np b">Podfile</code>中。它应该看起来像这样:</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="c30a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">之后，运行<code class="fe nm nn no np b">pod install</code>，等待它完成，并通过CocoaPods创建的<code class="fe nm nn no np b">.xcworkspace</code>打开项目。</p></div><div class="ab cl lb lc hx ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="im in io ip iq"><h1 id="dea1" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">配置流聊天仪表板</h1><p id="5b3c" class="pw-post-body-paragraph jq jr it js b jt mu jv jw jx mv jz ka kb ni kd ke kf nj kh ki kj nk kl km kn im bi translated">在<a class="ae ko" href="https://getstream.io" rel="noopener ugc nofollow" target="_blank"> GetStream.io </a>注册，创建应用，确保选择开发而不是生产。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ns"><img src="../Images/1cdaed00c2b267a428f5c7130671ee26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pu9umR6_eywD1udc"/></div></div></figure><p id="0826" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在为了简单起见，让我们禁用授权检查和权限检查。确保点击保存。当您的应用程序处于生产状态时，您应该保持启用这些功能。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi nt"><img src="../Images/9dd55d2fbdcf335b2b65fd5044573a65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*z7XPfld07JHzHlo1"/></div></div></figure><p id="4ee3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你可以在这里看到关于认证<a class="ae ko" href="https://getstream.io/chat/docs/tokens_and_authentication/?language=swift" rel="noopener ugc nofollow" target="_blank">的文档，在这里</a>看到关于权限<a class="ae ko" href="https://getstream.io/chat/docs/chat_permission_policies/?language=swift" rel="noopener ugc nofollow" target="_blank">的文档。</a></p><p id="0271" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，保存您的流凭据，因为我们需要它们来支持应用程序中的聊天。因为我们禁用了auth和permissions，所以我们现在只需要这个密钥。尽管如此，在产品中，您将使用后端的秘密来<a class="ae ko" href="https://getstream.io/docs/auth_and_permissions/" rel="noopener ugc nofollow" target="_blank">实现适当的认证，为流聊天发放用户令牌</a>，因此用户可以安全地与您的应用程序交互。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi nt"><img src="../Images/ec55b191c0b961a576594476f6a7e140.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QQCxrf0uIWGguZwo"/></div></div></figure><p id="cb2e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如你所见，我把钥匙涂黑了。你应该确保保管好你的凭证。</p></div><div class="ab cl lb lc hx ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="im in io ip iq"><h1 id="7830" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">配置Dolby.io仪表板</h1><p id="4275" class="pw-post-body-paragraph jq jr it js b jt mu jv jw jx mv jz ka kb ni kd ke kf nj kh ki kj nk kl km kn im bi translated">配置<a class="ae ko" href="https://dolby.io" rel="noopener ugc nofollow" target="_blank"> Dolby.io </a>仪表盘更加简单。只要在那里创建一个帐户，它应该已经为您设置了一个初始应用程序。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ns"><img src="../Images/6e5b369b79ea4e6e349f95281e76911b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DFQrB_p1TkMjjlJg"/></div></div></figure><p id="461d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，保存您的凭据，因为我们需要它们来支持应用程序中的音频和视频流。与流凭证一样，您可以将它们用于开发。在生产中，您需要设置适当的身份验证。这里详细描述<a class="ae ko" href="https://dolby.io/developers/interactivity-apis/client-sdk/initializing#secure-authentication" rel="noopener ugc nofollow" target="_blank">。</a></p></div><div class="ab cl lb lc hx ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="im in io ip iq"><h1 id="a30f" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">配置流聊天和Dolby.io的SDK</h1><p id="0604" class="pw-post-body-paragraph jq jr it js b jt mu jv jw jx mv jz ka kb ni kd ke kf nj kh ki kj nk kl km kn im bi translated">代码的第一步是使用仪表板中的凭证配置流和Dolby SDK。打开<code class="fe nm nn no np b">AppDelegate.swift</code>文件并对其进行修改，如下所示:</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="5344" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">该代码使用您在前两步中获得的凭据初始化Dolby.io和Stream Chat SDKs。</p></div><div class="ab cl lb lc hx ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="im in io ip iq"><h1 id="c97b" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">创建加入屏幕</h1><p id="7b08" class="pw-post-body-paragraph jq jr it js b jt mu jv jw jx mv jz ka kb ni kd ke kf nj kh ki kj nk kl km kn im bi translated">让我们开始构建“加入”屏幕。该屏幕由两个<code class="fe nm nn no np b">UIButton</code>实例组成。一个作为学生加入，另一个作为教师参与。为了使本教程更短，更快地获得聊天、音频和视频功能，这是一种过于简化的做法。在你完整的应用程序中，你需要适当的注册，数据库，等等。对于本教程，屏幕将类似于下面的截图。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi nu"><img src="../Images/d58181384f0d48f3de12ca95c2ceae7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cbi5AHUzA9hYtlS6"/></div></div></figure><p id="e14c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">转到故事板，选择默认的视图控制器，并单击<code class="fe nm nn no np b">Editor &gt; Embed In &gt; Navigation Controller</code>。这将把它放在一个导航控制器下，我们将使用它来导航到教室屏幕。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi nl"><img src="../Images/0fd91216c2dd751e14928d635066759f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_W6LaPA_TgsTvtpc"/></div></div></figure><p id="fcc4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一定要把<code class="fe nm nn no np b">ViewController</code>改名为<code class="fe nm nn no np b">JoinViewController</code>，这样以后就不会搞混了。你可以通过右击<code class="fe nm nn no np b">ViewController.swift</code>中的<code class="fe nm nn no np b">ViewController</code>并选择<code class="fe nm nn no np b">refactor</code>来轻松做到这一点。</p><p id="0acd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了使事情简单，让我们像这样离开故事板，从现在开始只使用代码。要设置这两个按钮，我们需要<code class="fe nm nn no np b">JoinViewController.swift</code>中的以下代码:</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="d10b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这些代码设置了我们需要的视图、约束和处理程序。让我们从扩展<code class="fe nm nn no np b">JoinViewController</code>来定义<code class="fe nm nn no np b">setupViews</code>开始:</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="05d1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">该代码将创建按钮并将它们添加到控制器的视图中。接下来，我们需要定义三者之间的约束。让我们通过扩展<code class="fe nm nn no np b">JoinViewController</code>来定义<code class="fe nm nn no np b">setupConstraints</code>来做到这一点:</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="cbda" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">该代码将确保<code class="fe nm nn no np b">studentButton</code>位于屏幕中央，而<code class="fe nm nn no np b">teacherButton</code>位于其下方。现在我们需要设置用户按下按钮时的处理程序。让我们通过扩展控制器来再次定义<code class="fe nm nn no np b">setupHandlers</code>:</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="2800" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当用户按下按钮时，根据用户按下的按钮，为教师或学生创建并设置一个<code class="fe nm nn no np b">ClassViewController</code>。我们将在下一步创建<code class="fe nm nn no np b">ClassViewController</code>。</p></div><div class="ab cl lb lc hx ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="im in io ip iq"><h1 id="d133" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">创建教室屏幕</h1><p id="8f80" class="pw-post-body-paragraph jq jr it js b jt mu jv jw jx mv jz ka kb ni kd ke kf nj kh ki kj nk kl km kn im bi translated">现在，让我们创建一个屏幕，学生和老师将在这里通过聊天进行交谈，并且他们可以在这里开始视频通话。我们将从定义ClassViewController开始。它看起来将类似于下面的截图。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi nv"><img src="../Images/bb35084b45d3f11fda9f7d84b0f6dbc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xW5WqOAJdN97GnZG"/></div></div></figure><p id="4d27" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">第一步是创建一个ClassViewController.swift文件并粘贴下面的代码。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="4111" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">该代码定义了ChatViewController的一个子类，它提供了我们需要的大多数聊天行为和UI。它还定义了学生和教师<code class="fe nm nn no np b">User</code>对象和一个<code class="fe nm nn no np b">Channel</code>对象。这些对象将用于与流API进行交互。此外，我们正在使用下面的字符串扩展为学生生成一个随机id。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="983e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在<code class="fe nm nn no np b">viewDidLoad</code>上，我们也调用<code class="fe nm nn no np b">setupViews</code>和<code class="fe nm nn no np b">setupHandlers</code>来设置所需的视图和处理程序。接下来我们将定义这些函数。</p><p id="8afe" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是，我们先定义一下将当前流聊天用户设置为学生的<code class="fe nm nn no np b">setupStudent</code>函数，以及将其设置为老师的<code class="fe nm nn no np b">setupTeacher</code>函数。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="42d3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在我们定义<code class="fe nm nn no np b">setupViews</code>来设置我们需要的视图。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="f37d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这些功能将显示一个开始通话的按钮。为了让它工作，我们还需要定义<code class="fe nm nn no np b">setupHandlers</code>。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="b58b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">那些函数将<code class="fe nm nn no np b">callButtonPressed</code>设置为当call按钮被按下时要调用的函数，该函数又调用我们接下来定义的<code class="fe nm nn no np b">startCall</code>。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="234b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，该函数使用Dolby.io SDK来启动电话会议。</p></div><div class="ab cl lb lc hx ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="im in io ip iq"><h1 id="be3e" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">配置用法描述</h1><p id="0a25" class="pw-post-body-paragraph jq jr it js b jt mu jv jw jx mv jz ka kb ni kd ke kf nj kh ki kj nk kl km kn im bi translated">如果你现在运行应用程序，你将能够聊天，但按下通话按钮将导致应用程序崩溃。这是因为我们需要在<code class="fe nm nn no np b">Info.plist</code>文件中配置麦克风和视频的用法描述。为此，只需打开<code class="fe nm nn no np b">Info.plist</code>并设置<code class="fe nm nn no np b">NSMicrophoneUsageDescription</code>和<code class="fe nm nn no np b">NSCameraUsageDescription</code>键，如下图所示。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi nl"><img src="../Images/d41e0cdda7ddbe9a04ef5bb60bdcf72b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UILC65j8feLuUM4m"/></div></div></figure><p id="f33d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，我们在两个设备中打开应用程序，通过聊天，我们可以开始通话。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi kp"><img src="../Images/63c28dc222f2885cb5dbb081e906007d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jfyjS8fqmMt2siEl"/></div></div></figure></div><div class="ab cl lb lc hx ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="im in io ip iq"><h1 id="6267" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">包扎</h1><p id="a05c" class="pw-post-body-paragraph jq jr it js b jt mu jv jw jx mv jz ka kb ni kd ke kf nj kh ki kj nk kl km kn im bi translated">恭喜你！您已经用Stream Chat和Dolby.io构建了一个功能正常的EdTech应用程序的基础。我鼓励您浏览<a class="ae ko" href="https://getstream.io/chat/docs/introduction/?language=swift" rel="noopener ugc nofollow" target="_blank"> Stream Chat的文档</a>、<a class="ae ko" href="https://dolby.io/developers/interactivity-apis/client-sdk/overview" rel="noopener ugc nofollow" target="_blank"> Dolby.io的文档</a>，并尝试您刚刚构建的项目。祝您的EdTech应用程序开发好运！</p></div><div class="ab cl lb lc hx ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="im in io ip iq"><p id="a583" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="mj">原载于</em><a class="ae ko" href="https://getstream.io/blog/edtech-virtual-classroom-ios/" rel="noopener ugc nofollow" target="_blank"><em class="mj">https://getstream . io</em></a><em class="mj">。</em></p></div></div>    
</body>
</html>