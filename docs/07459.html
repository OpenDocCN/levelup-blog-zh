<html>
<head>
<title>API management overview</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">API管理概述</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/api-management-overview-5aa3799e216?source=collection_archive---------12-----------------------#2021-02-19">https://levelup.gitconnected.com/api-management-overview-5aa3799e216?source=collection_archive---------12-----------------------#2021-02-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/ca09d9c04e78de6f1feb9ef8b071fa27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xUOSnKh4v6wBcqd5"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">马丁·范·登·霍维尔在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="8e11" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这篇新帖中，我将以一种通用的方式回顾API管理，因为这是一个相当广泛的话题。正如您可能已经知道的，API是用于以有效的方式在环境之间公开数据的机制。</p><p id="579c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">许多年前，与第三方组件连接或共享数据是不可能的，因为抓取技术的效率很高，这是当时从不同的服务或网站抓取数据的唯一解决方案。</p><p id="307d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">废弃网站很大程度上依赖于HTML结构。如果源端在他们的前端结构中执行了一个改变，你的scrapper代码将不能成功地收集数据。这样做的好处是，当报废发生时，你不会被跟踪。</p><p id="42f9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">API是一个用于数据管理的用户界面，它用一个定义良好的请求数据的契约和一个已知的带有结果值的响应结构来取代任何基于废弃技术的复制。</p><p id="ba27" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在21世纪初，XML是数据通信的参考，尤其是XML-RPC定义，一段时间后，另一个基于XML的标准SOAP成为主角。基于XML的标准只是在安全性、事务和格式方面定义了如何交换消息的结构。</p><p id="a5e5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">随着spa和移动应用的兴起，开发人员开始抱怨XML的笨重和性能低下。不久以后，JSON成为了一种替代方案，它具有更简单的语法和更好的性能。</p><h2 id="5ae2" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">休息时代</h2><p id="f3f3" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated"><strong class="kf ir"> REST </strong>或<strong class="kf ir">表述性状态转移</strong>是全球顶尖公司广泛使用的架构原则，主要基于API实现。</p><p id="da44" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在RESTful APIs的世界中，资源是神经组件，它为软件和业务逻辑设置属性和定义。</p><p id="ad22" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在软件POV中，资源是在数据库中处理的属性，它们的状态会根据执行的操作而变化。状态表示在软件的后端进行管理。</p><p id="b7ef" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">代表性状态可以被看作是由API加入的数据库行。这种状态可以转换成任何类型的格式，例如XML、JSON和TXT，用于移动和SPAs客户端，甚至用于JPG、PDF和XLS</p><p id="c765" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> REST </strong>不是标准，也不是技术，而是一种架构风格。访问是在请求的帮助下完成的，请求的形式有URL、参数和动词，如<code class="fe lz ma mb mc b">PUT</code>、<code class="fe lz ma mb mc b">DELETE</code>、<code class="fe lz ma mb mc b">HEAD</code>、<code class="fe lz ma mb mc b">GET</code>、<code class="fe lz ma mb mc b">TRACE</code>、<code class="fe lz ma mb mc b">OPTIONS</code>等。因此，要被认为是一个Restful API，它必须遵循一种架构风格。</p><p id="0d0f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">HTTP协议是RESTful APIs使用最多的协议，但不是唯一的协议。</p><h2 id="2d49" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">API类型</h2><p id="0b10" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">API可以在<strong class="kf ir">私有</strong>、<strong class="kf ir">公共</strong>和<strong class="kf ir">合作伙伴</strong>表单中找到，其中<strong class="kf ir">私有</strong>用于同一个组织的内部消费者，<strong class="kf ir">公共</strong>用于组织外的用户，合作伙伴用于他们之间有联盟或信任关系的公司。</p><p id="ebf9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">他们之间没有技术上的区别，但管理方式发生了变化。</p><ol class=""><li id="67ca" class="md me iq kf b kg kh kk kl ko mf ks mg kw mh la mi mj mk ml bi translated">私有API由内部开发人员、内部组织或某些外部应用程序的公众使用。它是在企业的边缘设置的(如果需要公共访问)。</li><li id="8dc3" class="md me iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated"><strong class="kf ir">公共API</strong>面向对创建能够连接到企业应用的第三方应用感兴趣的开发人员。它总是在企业的边缘，只是为了向开发人员提供访问权限</li><li id="7f8c" class="md me iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated"><strong class="kf ir">合作伙伴API</strong>是向可信合作伙伴公开的API，在内部，开发人员可以在他们自己的上下文中进行连接，并与提供商的企业应用程序进行交互。</li></ol><h2 id="d60d" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">安全呢？</h2><p id="0104" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">重度用户需要一些基本的认证和专有方案来访问私有API。对于公共和合作伙伴企业API，您不能盲目地信任用户，为了使用它们，这两者都用密钥/秘密令牌和OAuth进行了增强。</p><p id="8d36" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">不管执行什么功能，您总是可以根据基本的API设计规划来调整任何标准的安全方案(组合或不组合)。这也包括SLA文件中建立的任何限制。</p><h1 id="1a62" class="mr lc iq bd ld ms mt mu lg mv mw mx lj my mz na lm nb nc nd lp ne nf ng ls nh bi translated">API管理</h1><p id="f9cf" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">管理包括在安全和可扩展的环境中发布、记录和监督API的整个过程。还有生命周期，生产力，安全性，流量分析，如何将你的API产品化和货币化。</p><p id="4e51" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">API基础设施有两种模式，基于代理和基于代理。第一种存在于企业网络中，它以受控的方式公开API，流量通过安全网关。之后，API策略通过平台提供的“代理”应用于API服务器。</p><p id="c01f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">基于代理的设置在企业的边缘，它执行对代理的调用，这些调用使用代理级别而不是API级别的策略路由到API服务器。这用于安全和交通监控。</p><p id="6395" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">API的生命周期遵循四个步骤，其中:</p><ol class=""><li id="0142" class="md me iq kf b kg kh kk kl ko mf ks mg kw mh la mi mj mk ml bi translated"><strong class="kf ir">构建</strong>阶段是开发人员创建API的时候</li><li id="89ba" class="md me iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated"><strong class="kf ir">发布</strong>阶段之前需要一个测试步骤，但是包括部署到生产环境中，以便以后调用和访问API</li><li id="1bae" class="md me iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated">一段时间后，<strong class="kf ir">弃用的</strong>阶段声明该API不再可用或不再受支持。有时会发布新版本，推荐使用。</li><li id="4407" class="md me iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated">最后，<strong class="kf ir">退出了</strong>阶段，这意味着API被删除并且不再使用。</li></ol><p id="f2c8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个生命周期可以用非标准化的方式来完成。首先，建立过程、实践和角色是很常见的，然后，通过提前发布路线图，您可以设置不推荐的和退役的版本。之后，您可以设置开发人员交流，并最终利用和创建产品。</p><p id="da6a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这可能会有所不同，并且会根据要实现的产品以特定的方式进行</p><p id="7ec6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这一点上，我们已经准备好使用它，但是，我们不知道如何去做。</p><p id="1839" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了提高工作效率，您将需要一个工具来进行自助配置和支持，以及记录。API开发人员必须根据最佳实践生成用户指南、代码示例、框架和建议。</p><p id="b105" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在设计和开发方面，交付基于规范的工具和实用程序以及策略实现是很常见的。</p><h2 id="b1b7" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">构建开发人员门户</h2><p id="217d" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">根据您的应用程序的范围，构建一个开发人员门户可能是夸张的，也可能是非常恰当的。这就像是应用程序开发人员的一站式商店，因为它捆绑了正确使用API的所有要求和指导。它通常包括:</p><ol class=""><li id="897f" class="md me iq kf b kg kh kk kl ko mf ks mg kw mh la mi mj mk ml bi translated">API文档作为代码示例、SDK以及使用、访问和集成手册(仅举几例)的外部文档。</li><li id="8ffd" class="md me iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated">用于生成凭证(如授权级别、密钥、机密、策略和令牌)的自我配置部分。所有这些都被用作所有者和开发人员或利益相关者之间的一个步骤。</li><li id="e2cb" class="md me iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated">基于所使用的API类型，提供故障排除、最佳实践、联系方式、错误报告等方面的支持。</li></ol><p id="8bb0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当进行手动自供应时，整个API密钥-秘密生成过程是以编程方式完成的。为了获得凭证，您需要描述基于策略的使用意图。</p><p id="a8a6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">安全管理与自我配置步骤紧密相连，因为参与者增强了安全性。</p><p id="037a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一个事实是，所有API都必须至少需要一个最低限度的安全性或API密钥。这整个密钥-秘密生成也必须有一些策略，您应该为行为不端的客户端进行更新、失效、限制和范围管理。一个有利但广受欢迎的方面是分析和指标的使用。</p><p id="02b1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">OAuth 2.0已经成为某种标准。</p><h2 id="f251" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">功能性威胁</h2><p id="1767" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">我将展示五种常见的场景，不管API级别的设计缺陷和攻击媒介如何，它们都有助于减轻可能的功能威胁。</p><ol class=""><li id="af64" class="md me iq kf b kg kh kk kl ko mf ks mg kw mh la mi mj mk ml bi translated">实现和执行测试是强制性的。甚至在采用工具时，这也被认为是一件好事。</li><li id="5c72" class="md me iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated">使用第三方工具进行漏洞评估。</li><li id="d00c" class="md me iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated">执行持续监控以检测攻击和可能的威胁。</li><li id="f0e6" class="md me iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated">建立保护原料药的积极态度</li><li id="3300" class="md me iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated">也在策略中实施威胁防护。</li></ol><p id="ad81" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当然，还可以更多，技术的发展比你和你的团队更快。</p><p id="9f93" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">不管您的客户和开发人员的技能如何，您总是需要对安全案例进行教育和指导。及时了解威胁并制定应急计划。</p><h2 id="30b1" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">最后，货币化</h2><p id="2d11" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">大多数时候在构建API的时候，你的业务视角会超越，通常会把API看成是产品的一部分，而根本不是产品本身。或者至少，我是这么看的。</p><p id="cfcc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">产品是可以提供给市场的任何东西，可以满足客户的需求，有时是API本身，那么，如何将API演化为产品呢？</p><p id="08c4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">就像任何产品一样，它从需要证明的商业案例开始，然后通过研究如何向客户展示它，根据交付或规划试点以及营销策略创建原型或功能性产品，并推出它。</p><p id="1ebb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">基于API的类型，你可以使用免费增值、企业或开发者的商业模式，你可以使用任何货币化模式，这必须至少包括一个良好的产品定义、指标和报告。</p><p id="bb9b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">像任何软件产品一样，API需要全面和详细的管理。如果你想发布一个基于API的产品，你需要考虑所有这些方面，当然，如果你想成功，你的产品将决定特殊性，但这是当今现代软件中常见的。</p><p id="61b9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">快乐编码:)</p></div></div>    
</body>
</html>