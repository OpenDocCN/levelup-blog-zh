<html>
<head>
<title>Microfrontends Hands-On Project with Module Federation — Events Microfrontend</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">具有模块联合的动手项目—事件</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/microfrontends-hands-on-project-with-module-federation-events-microfrontend-ce8a7f8a16ad?source=collection_archive---------0-----------------------#2021-09-08">https://levelup.gitconnected.com/microfrontends-hands-on-project-with-module-federation-events-microfrontend-ce8a7f8a16ad?source=collection_archive---------0-----------------------#2021-09-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/9401992345df43c349f5c98ab3a3ad0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*m59cAQIQRSaIwDyVON769w.gif"/></div></div></figure><p id="e52b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在本文中，我们将创建事件Mmicrofrontend并将其添加到门户中</p><h1 id="b711" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">目录</h1><p id="f9c0" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><a class="ae lz" href="#51e3" rel="noopener ugc nofollow"> <strong class="ka ir">事件微前端</strong> </a></p><ul class=""><li id="2572" class="ma mb iq ka b kb kc kf kg kj mc kn md kr me kv mf mg mh mi bi translated"><a class="ae lz" href="#41f7" rel="noopener ugc nofollow">迎接赛事团队</a></li><li id="3478" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><a class="ae lz" href="#316d" rel="noopener ugc nofollow">实现</a></li><li id="96c5" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><a class="ae lz" href="#f75e" rel="noopener ugc nofollow">向门户添加事件</a></li></ul><h1 id="1b1c" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">事件微前端</h1><p id="d13c" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">这篇文章是以下文章的延续</p><div class="mo mp gp gr mq mr"><a rel="noopener  ugc nofollow" target="_blank" href="/microfrontends-hands-on-project-with-module-federation-part-1-c4eda1ffcf10"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd ir gy z fp mw fr fs mx fu fw ip bi translated">具有模块联合的微前端实践项目—第1部分</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">本文将介绍架构、设计、实现和部署现实生活中的微前端项目。</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="na l"><div class="nb l nc nd ne na nf jw mr"/></div></div></a></div><h2 id="41f7" class="ng kx iq bd ky nh ni dn lc nj nk dp lg kj nl nm lk kn nn no lo kr np nq ls nr bi translated">认识“活动”团队</h2><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ns"><img src="../Images/9cd80d760d727f469fc77d88e90dfebc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*wt-Xcgi1dGO-r6EXXbdcHw.gif"/></div></div></figure><p id="2a09" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">事件微前端归事件团队所有。他们创建、测试、部署和共享微前端。他们有自己的回购和部署流程。此外，他们还负责后端(后端对前端— BFF)。</p><h2 id="316d" class="ng kx iq bd ky nh ni dn lc nj nk dp lg kj nl nm lk kn nn no lo kr np nq ls nr bi translated">履行</h2><p id="e0e4" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">事件微前端的实现与产品微前端非常相似。您可以关注以下文章:</p><div class="mo mp gp gr mq mr"><a href="https://www.linkedin.com/pulse/create-microfrontend-using-webpack-5-module-rany-elhousieny-phd%E1%B4%AC%E1%B4%AE%E1%B4%B0" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd ir gy z fp mw fr fs mx fu fw ip bi translated">使用Webpack 5模块联合创建微前端</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">创建一个React应用程序按照下面的文章创建一个没有CRA的React应用程序或下载/复制下面的…</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">www.linkedin.com</p></div></div></div></a></div><p id="4a45" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后更改以下内容:</p><h2 id="3887" class="ng kx iq bd ky nh ni dn lc nj nk dp lg kj nl nm lk kn nn no lo kr np nq ls nr bi translated">在webpack.config.js中，更改三件事，如下图所示</h2><ol class=""><li id="ac9c" class="ma mb iq ka b kb lu kf lv kj nx kn ny kr nz kv oa mg mh mi bi translated">到8002的服务器端口</li><li id="7ef5" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv oa mg mh mi bi translated">事件名称Microfrontend</li><li id="7069" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv oa mg mh mi bi translated">“暴露”。/EventsIndex '</li></ol><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ob"><img src="../Images/84ca773019947a194a518880d8b4e8f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OL7niLqBdOxKFVsJAYhUXw.png"/></div></div></figure><h2 id="26fa" class="ng kx iq bd ky nh ni dn lc nj nk dp lg kj nl nm lk kn nn no lo kr np nq ls nr bi translated">在src/index.js中:</h2><ol class=""><li id="6722" class="ma mb iq ka b kb lu kf lv kj nx kn ny kr nz kv oa mg mh mi bi translated">将h3标题中的“产品”一词改为事件</li><li id="cf55" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv oa mg mh mi bi translated">将选择器中的id更改为事件</li></ol><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oc"><img src="../Images/a5c979ead50ef207e884f6dc7cfd1594.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KHnlW_YVDT24OS7ciupqrg.png"/></div></div></figure><h2 id="392a" class="ng kx iq bd ky nh ni dn lc nj nk dp lg kj nl nm lk kn nn no lo kr np nq ls nr bi translated">在public/index.html中将id更改为events</h2><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi od"><img src="../Images/92b5c29269da78291063f4d548e9bfe0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VvUmnOJ9RC0zODF-gpQG0Q.png"/></div></div></figure><p id="862d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以下载/克隆以下项目:</p><pre class="nt nu nv nw gt oe of og oh aw oi bi"><span id="46ac" class="ng kx iq of b gy oj ok l ol om">git clone --single-branch --branch Events-Microfrontend-Start <a class="ae lz" href="https://github.com/ranyelhousieny/events-microfrontend" rel="noopener ugc nofollow" target="_blank">https://github.com/ranyelhousieny/events-microfrontend</a></span><span id="fa67" class="ng kx iq of b gy on ok l ol om">cd events-microfrontend</span><span id="1294" class="ng kx iq of b gy on ok l ol om">yarn install</span><span id="1b76" class="ng kx iq of b gy on ok l ol om">code .</span><span id="1345" class="ng kx iq of b gy on ok l ol om">yarn start</span></pre><p id="9f60" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">将在<a class="ae lz" href="http://localhost:8002/" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir">渲染http://localhost:8002/</strong></a></p><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/e4684928a02b88a82ea6e62172faffb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/format:webp/1*hu-bfhWSuyXhRk4XWDEcMg.png"/></div></figure><p id="9351" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">而这里是曝光的<a class="ae lz" href="http://localhost:8002/remoteEntry.js" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir">http://localhost:8002/</strong>remote entry . js</a></p><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi op"><img src="../Images/c8d3dc973cc00bb7e1eb54ac373416ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bWxlEBEvVompM68EtpRplg.png"/></div></div></figure></div><div class="ab cl oq or hu os" role="separator"><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov"/></div><div class="ij ik il im in"><h2 id="f75e" class="ng kx iq bd ky nh ni dn lc nj nk dp lg kj nl nm lk kn nn no lo kr np nq ls nr bi translated">将事件微前端导入门户</h2><p id="52ef" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">您可以克隆/下载:</p><pre class="nt nu nv nw gt oe of og oh aw oi bi"><span id="8209" class="ng kx iq of b gy oj ok l ol om">git clone --single-branch --branch AddingEvents <a class="ae lz" href="https://github.com/ranyelhousieny/partner-portal.git" rel="noopener ugc nofollow" target="_blank">https://github.com/ranyelhousieny/partner-portal.git</a></span><span id="4d06" class="ng kx iq of b gy on ok l ol om">cd partner-portal</span><span id="3f40" class="ng kx iq of b gy on ok l ol om">yarn install</span><span id="4367" class="ng kx iq of b gy on ok l ol om">code .</span><span id="c5b1" class="ng kx iq of b gy on ok l ol om">yarn run start</span></pre><p id="501f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在门户<strong class="ka ir"><em class="ox">web pack . config . js</em></strong>中，增加一个遥控器，如下</p><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oy"><img src="../Images/ea618af3decf6069af74f241851de096.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fzNtt6DjRBrrkZshs8Mf2A.png"/></div></div></figure><pre class="nt nu nv nw gt oe of og oh aw oi bi"><span id="e242" class="ng kx iq of b gy oj ok l ol om">EventsMicrofrontend: 'EventsMicrofrontend@http://localhost:8002/remoteEntry.js',</span></pre><p id="2fb0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在<strong class="ka ir"> <em class="ox"> bootstrap.js </em> </strong>中导入它</p><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oz"><img src="../Images/f0f0893be70fdf1e1c1338c67ba1f932.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KMnBhQ-U6SZBCrvAl5cRbA.png"/></div></div></figure><pre class="nt nu nv nw gt oe of og oh aw oi bi"><span id="7043" class="ng kx iq of b gy oj ok l ol om">import 'EventsMicrofrontend/EventsIndex';</span></pre><p id="de3f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">将其添加到<strong class="ka ir">index.html<em class="ox">中</em>T29】</strong></p><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi pa"><img src="../Images/7b70cbfcedc0bae40b98fa60c138f726.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zWelJLzk3wKXphFhPcPyOw.png"/></div></div></figure><pre class="nt nu nv nw gt oe of og oh aw oi bi"><span id="e06d" class="ng kx iq of b gy oj ok l ol om">&lt;div <em class="ox">id</em>="events"&gt;&lt;/div&gt;</span></pre><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi pb"><img src="../Images/fbe0aeb06c77b6a0fe7f3a6280a068f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ArD472LL_pZtaqUvQ3hpMw.png"/></div></div></figure><p id="7f3a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在浏览器上，当您检查/network时，您可以看到加载远程js文件的顺序:</p><figure class="nt nu nv nw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi pc"><img src="../Images/ed4ec4d4cb78f9c05028f3f5e8080451.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vAKiKFLrwT_Kv2YctN1CAw.png"/></div></div></figure><p id="5ab9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi">=================</p><h1 id="18c0" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">共享联邦模块</h1><p id="8f80" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">现在，在下面的文章中，让我们看看如何共享React作为一个单体来呈现两个微前端:</p><p id="2c10" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae lz" href="https://ranyel.medium.com/shared-modules-in-module-federation-microfrontends-a547f77e7b54" rel="noopener">https://ranyel . medium . com/shared-modules-in-module-Federation-micro frontends-a 547 f 77 e 7b 54</a></p><p id="7431" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi">===========</p><h1 id="04bd" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">添加React渲染和微前端模式</h1><p id="d2ca" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">到目前为止，我们一直使用querySelector渲染到屏幕上，并在独立模式下构建。让我们按照这篇<a class="ae lz" href="https://www.linkedin.com/pulse/microntends-module-federation-standalone-vs-rany-elhousieny-phd%E1%B4%AC%E1%B4%AE%E1%B4%B0" rel="noopener ugc nofollow" target="_blank">文章</a>添加React渲染并移动到微前端模式。</p><p id="3678" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae lz" href="https://www.linkedin.com/pulse/microntends-module-federation-standalone-vs-rany-elhousieny-phd%E1%B4%AC%E1%B4%AE%E1%B4%B0" rel="noopener ugc nofollow" target="_blank">https://www . LinkedIn . com/pulse/micro tends-module-Federation-standalone-vs-rany-elhousieny-PhD % E1 % B4 % AC % E1 % B4 % AE % E1 % B4 % B0</a></p><p id="5e82" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi">======</p></div></div>    
</body>
</html>