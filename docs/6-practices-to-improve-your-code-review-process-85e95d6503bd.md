# 改进代码评审过程的 6 个实践

> 原文：<https://levelup.gitconnected.com/6-practices-to-improve-your-code-review-process-85e95d6503bd>

## 为您和您的团队提供更好的软件开发过程

![](img/0e29a01f64580acf6b90d3af0aa6f7d8.png)

在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上由[海拉戈斯蒂奇](https://unsplash.com/@heylagostechie?utm_source=medium&utm_medium=referral)拍摄的照片

我们能谈谈代码审查吗？代码评审是软件工程的重要组成部分。如果你是一名软件工程师，你必须参与整个代码审查过程。不管你是高级开发人员还是实习生。代码审查是不可避免的。也就是说，你可以做一些事情来改善整个过程。在这篇文章中，我将分享作为一名软件工程师如何更好地处理代码评审的不同技巧，包括提交代码进行代码评审和进行代码评审。我将分享三个当你发送代码进行代码审查时的技巧和三个当你审查别人的代码时的技巧。

为了内化这些技巧以及它们为什么有用，我们必须首先了解为什么代码评审存在。代码评审的存在是为了改善软件开发的生命周期。它们的存在是为了改进你——软件工程师——正在编写的软件和代码。怎么会？代码审查为软件开发生命周期增加了一层，在此期间，如果您遗漏了一些错误，您的一位同事可以清除您代码中的错误，并发现代码中的改进，从而使代码更易于维护或扩展。为了证明这一点，代码评审过程是为你和你的团队编写更好的代码和软件服务的。不要把它当成一个你必须通过的任务或者类似的事情。

从工作量的角度来看，代码审查过程确实给你的工作增加了额外的一层。它给你——软件工程师——更多的工作要做，从而减慢你的速度。你的目标——作为一个与这个过程互动的人，应该是让这个过程尽可能无摩擦和无缝。换句话说，如果代码评审的目标是让您的代码评审人员发现您的潜在错误，那么您应该确保代码评审过程实现了这个目标。记住所有这些，让我们深入了解在提交代码进行代码评审时应该遵循的三个技巧。

## 1.保持你的拉取请求简短

这是我看到大多数开发人员做错的一件事。您希望在单个块中、在一个拉请求中或者在一个变更列表中，尽可能少地发送用于代码评审的代码量。您不希望一次提交一千行代码进行审查。这只会导致灾难。太可怕了。一千行或更多的代码对于评审者来说太多了。会很难过，也会消耗很多时间。用这么多行代码来捕捉 bug 就更加困难了。

您应该尽最大努力减少在单个代码审查请求中发送的代码行。怎么会？试着在你自己身上多花一点功夫，把你的拉请求或者你的代码分割成孤立的逻辑片段。那将大有帮助。根据经验，最好的拉请求类型是包含 10 到 100 行代码的拉请求。任何更多的东西，都会成为代码审查者的负担。

## 2.留下美好的描述

我什么意思？你需要给那些将要审查你的代码的人一个背景。为什么？最好的情况是，审查你的代码的人会知道你在代码中写了什么，最坏的情况是，他们什么都不知道。例如，如果你的代码审查人员在一个完全不同的团队，或者是一个完全陌生的人，他们将不知道你写了什么。给他们一些你在这个代码的拉请求中所要解决的上下文将会有很大的帮助。这样，当有人审查它时，他们就不必花时间去弄清楚你的代码是为了什么。

## 3.留下一条写给你的代码审查员的评论，以便澄清

好吧，我知道这个标题不像我希望的那样清晰。请允许我解释。这一点与您的代码中有一个片段有关，该片段与主存储库中的主逻辑无关，但在 pull 请求中是必需的。给你的代码审查者留下一个注释是明智的，只是为了让他们知道为什么它首先出现在拉请求中。换句话说，如果你的拉取请求中有一些不明显的东西，或者对其他人来说不清楚，留下一个先发制人的评论，解释为什么它会在那里，以及你把它放在那里的逻辑。

现在，让我们换个话题，谈谈在你审查代码时的一些技巧。

## 4.清晰明了，过度沟通

我确信过度交流的部分一定让大多数人感到不舒服，所以我会解释。当你在你的代码评审中离开评审意见时，你应该确保你尽可能的清晰明了，并且尽你所能的传达你的想法。为什么？在代码评审中，你能做的最糟糕的事情就是给接收者留下不清楚的注释。这让他们无所适从，不知道该做什么。

有很多方法可以让你清楚。这可能是你建议他们做出改变，你想确保他们明白这种改变是什么。这可能意味着你对你留下的评论没有强烈的感觉，你想确保他们知道这一点。如果你留下的仅仅是建议，而不是可操作的评论，让接收者知道你在提出一个建议，如果他们愿意，他们可以忽略这个建议。

另一种你可以在评论中表达清楚的方式是，当你对开发者写的东西提出问题，而你并不完全明白为什么。要非常清楚，让他们知道你的意图是什么，并且他们不会在事后感到受阻。

## 5.为您的代码评审建立一套规则

这与为您的队友设置何时批准或何时不批准拉取请求的规则有关。我这么说是什么意思？当有人发送一个 pull 请求以供审查时，您可以留下许多注释，但是最后，您可以批准 pull 请求，这将允许该人合并代码，即使他们已经在主存储库中处理了注释，或者您可以不批准 pull 请求，或者有时您甚至可以明确地拒绝它。

在这里，正如我所说的，您必须与您的团队讨论，以了解您的规则或标准是什么，何时批准或不批准拉动式请求。事实上，没有什么比当您将代码提交评审时，您的代码评审员会回复一些评论，但他们不批准您的代码评审更不尊重您或打击您的积极性了。除非你有一个明确的标准或者不批准代码评审的理由，否则看起来就像你，评审者，故意试图减慢被评审者的速度。您可以有一个简单的规则来拒绝带有不允许进入生产环境的错误的拉请求。您甚至可以更进一步，解释生产中出现该错误的结果。

## 6.将对话脱机

这个和第一个提示有关。这是关于知道什么时候离线，而不是把它保存在拉请求注释或代码审查注释中。让我们假设你正在审查代码，并且需要一个大的对话。也许代码需要完全重写什么的。这需要更多的努力和时间。与其浪费时间留下一些大段大段的评论，然后对方会回应，然后你会再次回应，不如在个人层面或通过即时消息进行沟通，如果你是远程的。这会节省你很多时间。

当你回应代码评审评论时，我想补充的一个快速提示是，如果出于某种原因，有一个你忽略的代码评审评论，回答这个评论并解释为什么你不同意它或者为什么你不会对它采取行动是有帮助的和有礼貌的。否则，作为代码审查者，没有什么比当你看到有人合并他们的拉请求，却不加解释地忽略你所有的评论更糟糕的了。那不是好的礼节。

希望这些提示对你有所帮助。请记住，这些不是行业标准。它们只是我看到的为我工作的提示。你可以分享一些，以防我没有提到任何有用的你可能有的。