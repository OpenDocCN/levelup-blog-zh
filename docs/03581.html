<html>
<head>
<title>JavaScript Best Practices — Property Names and Semicolons</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript最佳实践—属性名和分号</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/javascript-best-practices-property-names-and-semicolons-e30b200afa2a?source=collection_archive---------12-----------------------#2020-05-17">https://levelup.gitconnected.com/javascript-best-practices-property-names-and-semicolons-e30b200afa2a?source=collection_archive---------12-----------------------#2020-05-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/969ecf938017ca3ef964304a264f21d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*C2c3SfA32os7RZ0K"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@franagain?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">弗兰·霍根</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="9b2d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">JavaScript是一种非常宽容的语言。编写可以运行但有错误的代码很容易。</p><p id="3913" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将探讨向对象添加属性以及向JavaScript代码添加分号的最佳方式。</p><h1 id="8595" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">对象文字属性名的引号</h1><p id="7735" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">只有当属性不是作为字符串写的，作为属性名无效时，我们才应该在对象文字属性名两边加上引号。</p><p id="7c1e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们不把下面对象的属性用引号括起来，因为属性名是一个有效的标识符。</p><p id="2c21" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们有以下对象:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="4a90" class="mq lf it mm b gy mr ms l mt mu">const foo = {<br/>  a: 1<br/>};</span></pre><p id="aebf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那么我们不需要用引号将<code class="fe mv mw mx mm b">a</code>括起来，因为<code class="fe mv mw mx mm b">a</code>在JavaScript中已经是一个有效的标识符名称。</p><p id="7656" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在JavaScript中，标识符区分大小写，可以包含Unicode字母、<code class="fe mv mw mx mm b">$</code>、<code class="fe mv mw mx mm b">_</code>和数字。但是，有效的JavaScript标识符不能以数字开头。</p><p id="bedb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们想用一个违反上述任何规则的标识符来命名一个属性，那么我们需要用引号将它们括起来，这样它们就可以写成字符串。</p><p id="acfd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，如果我们想要一个两个单词之间有空格的属性名，我们可以编写以下代码:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="8be1" class="mq lf it mm b gy mr ms l mt mu">const foo = {<br/>  'foo bar': 1<br/>};</span></pre><p id="3196" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在代码中，我们有<code class="fe mv mw mx mm b">foo</code>对象，它有属性<code class="fe mv mw mx mm b">'foo bar'</code>，由于<code class="fe mv mw mx mm b">foo</code>和<code class="fe mv mw mx mm b">bar</code>之间的空格，这个属性必须用引号括起来。</p><p id="602c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那么我们只能通过使用如下括号符号来访问它:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="254c" class="mq lf it mm b gy mr ms l mt mu">foo['foo bar']</span></pre><p id="49d3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">获取属性的值。</p><p id="359a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，如果它是一个有效的标识符，那么我们不需要在属性名两边加引号。否则，我们只能用括号符号来访问它。</p><h1 id="afaa" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">字符串中反斜线、双引号或单引号的一致使用</h1><p id="3c28" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">在所有3个字符串分隔符中，反勾号是最通用的，因为我们可以用它来创建模板字符串和常规字符串。</p><p id="cef1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">模板字符串允许我们将表达式插入到字符串中，而不是将表达式与多个子字符串连接起来</p><p id="f3cb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">插值比字符串连接更容易阅读和输入。我们需要编写的代码量要少得多，因为我们不需要到处都有串联操作符。</p><p id="012d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们不写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="afaf" class="mq lf it mm b gy mr ms l mt mu">const baz = 1;<br/>const foo = 'foo ' + baz + ' bar';</span></pre><p id="c9d2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以将上面的字符串写成模板字符串，如下所示:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="2ac1" class="mq lf it mm b gy mr ms l mt mu">const baz = 1;<br/>const foo = `foo ${baz} bar`;</span></pre><p id="22dd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们将表达式<code class="fe mv mw mx mm b">baz</code>放入模板字符串中，而不是连接。</p><p id="e494" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">阅读和输入模板字符串都更容易。</p><p id="d206" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用模板字符串，我们不必总是插入表达式，我们只需创建一个常规字符串，如:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="ba54" class="mq lf it mm b gy mr ms l mt mu">const foo = `foo bar`;</span></pre><p id="981c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，我们可以在字符串中使用单引号和双引号，而不必用反斜杠进行转义。</p><p id="fb5f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以编写以下代码，将单引号和双引号一起用作字符串中的字符，而不是字符串分隔符:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="655b" class="mq lf it mm b gy mr ms l mt mu">const foo = `'foo' "bar"`;</span></pre><p id="387a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是使用反斜杠作为字符串分隔符的另一个优点，因为单引号和双引号在句子和子句中使用得更多。然而，反勾号并不是常用的英文标点符号。</p><p id="cc4d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，反斜杠是很好的字符串分隔符。它甚至更好，因为我们使用反斜线来创建JavaScript模板字符串，其中可以插入JavaScript表达式。</p><p id="0830" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">单引号和双引号适用于引用文本。</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi my"><img src="../Images/bf97fc4d29300f4e6244b743113bdfaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iDuPoQHjQv88NvX0"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae kf" href="https://unsplash.com/@otohp_by_sakul?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">卢克阿什·vaňátko</a>的照片</figcaption></figure><h1 id="b941" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">添加我们自己的分号比自动分号插入(ASI)要好</h1><p id="e43e" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">当我们编写JavaScript代码时，我们应该总是显式地写出分号，而不是依赖自动分号插入功能来自动插入它们。</p><p id="1a1d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ASI并不总是把它们插在我们想要的地方。例如，如果我们有以下代码:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="d1ae" class="mq lf it mm b gy mr ms l mt mu">const foo = () =&gt; {<br/>  return <br/>  {<br/>    name: "foo"<br/>  }<br/>}</span></pre><p id="30c1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那么它将被解释为:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="ab54" class="mq lf it mm b gy mr ms l mt mu">const foo = () =&gt; {<br/>  return;<br/>  {<br/>    name: "foo"<br/>  };<br/>}</span></pre><p id="b936" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此当我们调用<code class="fe mv mw mx mm b">foo</code>时，它将返回<code class="fe mv mw mx mm b">undefined</code>。</p><p id="5564" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可能不希望这样，所以我们应该自己输入分号，如下所示:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="ad16" class="mq lf it mm b gy mr ms l mt mu">const foo = () =&gt; {<br/>  return {<br/>    name: "foo"<br/>  };<br/>}</span></pre><h1 id="3261" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="3459" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">对于不是有效的JavaScript标识符名称的属性名称，我们只需要用引号将它们括起来。</p><p id="1a2c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">反斜杠是最好的字符串分隔符，因为它可以创建模板字符串和常规字符串，并将单引号和双引号作为引号分隔符，而不是字符串分隔符。</p></div></div>    
</body>
</html>