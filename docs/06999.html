<html>
<head>
<title>Working with JSON — Data Types and Schemas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用JSON —数据类型和模式</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/working-with-json-data-types-and-schemas-ba11121aa4dc?source=collection_archive---------23-----------------------#2021-01-17">https://levelup.gitconnected.com/working-with-json-data-types-and-schemas-ba11121aa4dc?source=collection_archive---------23-----------------------#2021-01-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/eb46227e6245b0f56cd0df4c12343ea0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*S-XccFhmfBCQRh0o"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">由<a class="ae kf" href="https://unsplash.com/@davidvig?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> David Vig </a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="d233" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将看看如何使用JSON。</p><h1 id="275a" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">JSON数字数据类型</h1><p id="5b24" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">JSON支持数字。我们只是把它们作为值相加。</p><p id="1b52" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="79fa" class="mq lf it mm b gy mr ms l mt mu">{<br/>    "latitude": 49.606209,<br/>    "longitude": -122.332071<br/>}</span></pre><p id="2f30" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">将数字作为值相加。</p><p id="c378" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">JSON中有十进制数。我们也可以有整数。</p><h1 id="0e84" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">JSON布尔数据类型</h1><p id="dd25" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">JSON对象也可以有布尔值。布尔值可以有值<code class="fe mv mw mx mm b">true</code>或<code class="fe mv mw mx mm b">false</code>。</p><p id="0999" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="b12f" class="mq lf it mm b gy mr ms l mt mu">{<br/>    "toastWithBreakfast": false,<br/>    "breadWithLunch": true<br/>}</span></pre><p id="9633" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">将它们作为值相加。</p><h1 id="f678" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">JSON空数据类型</h1><p id="ce45" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">空数据类型可以有值<code class="fe mv mw mx mm b">null</code>。</p><p id="8a75" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它用来表示什么都没有。</p><p id="79db" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="f798" class="mq lf it mm b gy mr ms l mt mu">{<br/>    "freckleCount": 1,<br/>    "hairy": false,<br/>    "color": null<br/>}</span></pre><p id="1a0a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们将<code class="fe mv mw mx mm b">color</code>的值设置为<code class="fe mv mw mx mm b">null</code>，这意味着没有设置颜色。</p><h1 id="5ca8" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">JSON数组数据类型</h1><p id="3a04" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">JSON支持数组来存储数据集合。</p><p id="71fd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="83f7" class="mq lf it mm b gy mr ms l mt mu">{<br/>    "fruits": [<br/>        "apple",<br/>        "orange",<br/>        "grape"<br/>    ]<br/>}</span></pre><p id="02ff" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">将<code class="fe mv mw mx mm b">fruits</code>属性添加到JSON中，并将值设置为一个数组，并用方括号将值括起来。</p><p id="6f57" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以向数组添加<code class="fe mv mw mx mm b">null</code>来添加空值:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="3b46" class="mq lf it mm b gy mr ms l mt mu">{<br/>    "fruits": [<br/>        "apple",<br/>        "orange",<br/>        null,<br/>        "grape"<br/>    ]<br/>}</span></pre><p id="c3de" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以像JavaScript数组一样在JSON数组中混合和匹配数据类型。</p><p id="8ee4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">JSON数组可以在一个对象中包含任何JSON支持的数据类型。</p><p id="2af9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以我们可以写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="ef16" class="mq lf it mm b gy mr ms l mt mu">{<br/>    "scores": [<br/>        92.5,<br/>        62.7,<br/>        84.6,<br/>        92<br/>    ]<br/>}</span></pre><p id="97e0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">或者</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="9276" class="mq lf it mm b gy mr ms l mt mu">{<br/>    "answers": [<br/>        true,<br/>        false,<br/>        false,<br/>        true,<br/>        false,<br/>        true,<br/>        true<br/>    ]<br/>}</span></pre><p id="d9e8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">或者</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="e139" class="mq lf it mm b gy mr ms l mt mu">{<br/>    "students": [<br/>        "james smith",<br/>        "bob jones",<br/>        "jane smith"<br/>    ]<br/>}</span></pre><p id="a6ce" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">数组中也可以有数组。</p><p id="16bd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="50d3" class="mq lf it mm b gy mr ms l mt mu">{<br/>    "tests": [<br/>        [<br/>            true,<br/>            false,<br/>            false<br/>        ],<br/>        [<br/>            true,<br/>            true,<br/>            false<br/>        ],<br/>        [<br/>            true,<br/>            false,<br/>            true<br/>        ]<br/>    ]<br/>}</span></pre><p id="4ac1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们在一个数组中添加布尔值，然后将数组放在它外面的另一个数组中。</p><h1 id="ea47" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">JSON模式</h1><p id="68cd" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">JSON模式让我们可以检查我们的JSON结构是否符合我们的期望。</p><p id="3630" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以验证数据与模式的一致性，并修复发现的错误。</p><p id="341e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">验证错误让我们修复发现的错误。</p><p id="d9ef" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这让我们对数据充满信心。</p><p id="1c34" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要将JSON模式添加到我们的对象中，我们可以编写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="e113" class="mq lf it mm b gy mr ms l mt mu">{<br/>    "$schema": "http://json-schema.org/draft-04/schema#",<br/>    "title": "Person",<br/>    "properties": {<br/>        "name": {<br/>            "type": "string"<br/>        },<br/>        "age": {<br/>            "type": "number",<br/>            "description": "Your person's age in years."<br/>        },<br/>        "gender": {<br/>            "type": "string"<br/>        }<br/>    }<br/>}</span></pre><p id="f912" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们用<code class="fe mv mw mx mm b">$schema</code>属性定义了模式对象。</p><p id="6893" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们使用<code class="fe mv mw mx mm b">title</code>将标题添加到模式中。</p><p id="e599" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们有了带有JSON对象中允许的属性的<code class="fe mv mw mx mm b">properties</code>对象，我们用它来检查这个模式。</p><p id="f9b6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，如果我们有:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="c653" class="mq lf it mm b gy mr ms l mt mu">{<br/>    "name": "james",<br/>    "age": 20,<br/>    "gender": "male"<br/>}</span></pre><p id="239f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那么这符合我们的模式。</p><h1 id="c2ca" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="f213" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">JSON允许我们在JSON对象中使用各种数据类型。</p><p id="8a3f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，我们可以创建JSON模式来验证对象。</p></div></div>    
</body>
</html>