<html>
<head>
<title>A Beginner’s Guide to MongoDB</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">MongoDB初学者指南</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/a-beginners-guide-to-mongodb-9a321226544?source=collection_archive---------2-----------------------#2019-11-02">https://levelup.gitconnected.com/a-beginners-guide-to-mongodb-9a321226544?source=collection_archive---------2-----------------------#2019-11-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1c74" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">MongoDB是一个开源的、基于文档的NoSQL数据库</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f635a1d5dae0af88840847a2f4a73921.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*o0fZ-E88iFhriYyH.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">MongoDB(图片提供:谷歌图片，标记为重复使用)</figcaption></figure></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="1d7c" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">概观</h1><p id="e119" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi mt translated">ongoDB是一个开源的、基于文档的NoSQL数据库。它以类似JSON的格式存储数据，具有企业级的特性，如高可用性、可伸缩性和安全性。</p><p id="a601" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated">以下是MongoDB数据库的一些显著特性:</p><ol class=""><li id="7246" class="nh ni it lz b ma nc md nd mg nj mk nk mo nl ms nm nn no np bi translated">这是一个开源的、跨平台的、基于文档的NoSQL数据库。</li><li id="062c" class="nh ni it lz b ma nq md nr mg ns mk nt mo nu ms nm nn no np bi translated">没有像关系数据库那样的数据库模式概念。数据存储为集合和文档。</li><li id="6beb" class="nh ni it lz b ma nq md nr mg ns mk nt mo nu ms nm nn no np bi translated">集合之间没有通常在关系数据库表中完成的复杂连接。通常在通过组合文档来存储数据的同时执行连接。</li><li id="41c0" class="nh ni it lz b ma nq md nr mg ns mk nt mo nu ms nm nn no np bi translated">数据以<a class="ae nv" href="https://stackoverflow.com/questions/12438280/what-is-bson-and-exactly-how-is-it-different-from-json" rel="noopener ugc nofollow" target="_blank"> BSON </a>格式存储(类似JSON文档的二进制编码)。</li><li id="f397" class="nh ni it lz b ma nq md nr mg ns mk nt mo nu ms nm nn no np bi translated">存储在集合中的数据不需要有相似的结构。一个文档可以有一组特定的字段，而另一个文档可以有一组完全不同的字段(类型和数量)。</li><li id="ca0d" class="nh ni it lz b ma nq md nr mg ns mk nt mo nu ms nm nn no np bi translated">MongoDB提供了一个名为<strong class="lz iu">测试</strong>的默认数据库。如果在存储数据时没有选择数据库，MongoDB使用这个数据库来存储数据。</li></ol></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="bc8f" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">安装MongoDB</h1><p id="9856" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">在这一节中，我们将讨论在本地计算机上安装MongoDB。MongoDB有两种版本:</p><ol class=""><li id="32d3" class="nh ni it lz b ma nc md nd mg nj mk nk mo nl ms nm nn no np bi translated">社区版</li><li id="3f35" class="nh ni it lz b ma nq md nr mg ns mk nt mo nu ms nm nn no np bi translated">企业版</li></ol><p id="bfff" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated">MongoDB的社区版是开源的，可以免费获得。企业版已获得许可，可提供一系列商业支持的企业级功能。</p><p id="6f2f" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated">关于如何下载和安装MongoDB社区版的分步说明可以在<a class="ae nv" href="https://docs.mongodb.com/manual/administration/install-community/" rel="noopener ugc nofollow" target="_blank">这里</a>找到。在安装时，MongoDB提供了一个安装MongoDB Compass的选项，这是一个用于访问MongoDB数据库的GUI控制台。或者，也可以从命令行shell访问MongoDB数据库。</p><p id="c878" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated">以下是MongoDB的命令行界面:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/0c456d92b57c4b553f3e4bf0ced7a5d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SAgIMGxDh19Ls0TIatQ8vQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">MongoDB Shell</figcaption></figure><p id="b2b0" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated">以下是图形用户界面(MongoDB Compass):</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/d50574c8ae105ddf4f1ccc1895e0ed04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9-NJnTXkzFD8H7cB52mWpA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">MongoDB罗盘</figcaption></figure><p id="7cfa" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated">在本文中，我们将使用MongoDB命令行界面。</p></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="ada9" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">MongoDB组件</h1><p id="0b9d" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">MongoDB有几个数据库组件。然而，我们对两个主要组件感兴趣。我们将在本文中使用这两个组件:</p><p id="8e11" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated">mongod: 这是在后台运行的数据库守护进程。</p><p id="9dd3" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu"> mongo: </strong> MongoDB shell。这用于连接到守护进程并执行各种数据库命令。</p></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="8e8f" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">了解MongoDB存储结构</h1><p id="26ef" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">在关系数据库中，我们使用数据库模式。如这里的<a class="ae nv" href="https://www.lifewire.com/definition-of-a-schema-in-a-database-1019262" rel="noopener ugc nofollow" target="_blank">详细描述的</a>，数据库模式可以定义如下:</p><blockquote class="ny"><p id="5a3e" class="nz oa it bd ob oc od oe of og oh ms dk translated"><em class="oi">数据库模式</em>是描述数据库中对象和信息之间关系的数据库元数据的集合。设想模式的一个简单方法是把它想象成一个包含表、存储过程、视图和相关数据资产的盒子。一个模式定义了这个盒子的基础结构</p></blockquote><p id="16e8" class="pw-post-body-paragraph lx ly it lz b ma oj ju mc md ok jx mf mg ol mi mj mk om mm mn mo on mq mr ms im bi translated">但是，在MongoDB中没有模式的概念。它主要使用数据库、集合和文档的概念。以下是对其中每一项的详细描述。为了更好地理解，我们将通过与结构化查询语言(SQL)的比较来定义这些术语。</p><p id="75ad" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">数据库</strong>:数据库是集合的物理<strong class="lz iu">容器</strong>。</p><p id="feb0" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">集合:</strong>集合是一组MongoDB文档。在SQL术语中，这类似于数据库<strong class="lz iu">表。</strong></p><p id="e494" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">文档:</strong>文档是一组键值对。在SQL术语中，这类似于数据库表中的<strong class="lz iu">行</strong>。</p><p id="39f9" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">字段:</strong>字段是文档中的关键字。在SQL术语中，这类似于数据库表中的<strong class="lz iu">列</strong>。</p><p id="8068" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">嵌入文档:</strong>嵌入文档是多个文档的拼接。在SQL术语中，这类似于连接几个数据库表。</p></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="2b17" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">开始使用MongoDB</h1><p id="6243" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">在这一节中，我们将探索MongoDB的各种特性。我们将创建数据库，集合，从现有集合中检索数据，施加条件等等。</p><blockquote class="ny"><p id="0289" class="nz oa it bd ob oc od oe of og oh ms dk translated">大多数MongoDB命令都是用<strong class="ak"> db构建的。&lt;任务&gt;(选项)。在这种情况下，任务名称遵循camelCase命名模式。例如，要创建一个新的空集合，我们使用db . create collection(collection name)</strong></p></blockquote><h2 id="5bc4" class="oo lg it bd lh op oq dn ll or os dp lp mg ot ou lr mk ov ow lt mo ox oy lv oz bi translated">通过MongoDB Shell连接到MongoDB</h2><p id="75b4" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">打开命令提示符并键入<strong class="lz iu"> mongo </strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pa"><img src="../Images/d0bf6eb72b3782760737361e3cedf56e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6HjPAs6Iwz-YO-Eues0aEA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">通过<strong class="bd lh"> <em class="oi"> mongo </em> </strong>打开MongoDB Shell</figcaption></figure><h2 id="9311" class="oo lg it bd lh op pb dn ll or pc dp lp mg pd ou lr mk pe ow lt mo pf oy lv oz bi translated"><strong class="ak">使用帮助</strong></h2><p id="2c28" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">MongoDB通过<strong class="lz iu"> db.help()提供了一个有用的数据库命令列表。</strong>该命令列出了所有主要命令，并附有简明描述:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pg"><img src="../Images/28491b783cd5b2b69dc7447f4c6aa32e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Oe_bOufoSNxDJINMP92qeQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">db.help()获取详细的命令列表</figcaption></figure><h2 id="8972" class="oo lg it bd lh op pb dn ll or pc dp lp mg pd ou lr mk pe ow lt mo pf oy lv oz bi translated">使用显示</h2><p id="1bd4" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">还有一个show命令列表，用于显示各种元素，如数据库、集合、用户等。以下是show命令列表:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ph"><img src="../Images/ab865741fc435ef45c4090d7aa218f38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*02SHzWJXSS-VfyFwl_28gQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">显示命令</figcaption></figure><p id="08af" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated">例如，我们可以运行<code class="fe pi pj pk pl b">show dbs</code> <em class="pm"> </em>来列出所有现有的数据库:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/7b1bbcdf6162f56145e7106cfb683973.png" data-original-src="https://miro.medium.com/v2/resize:fit:526/format:webp/1*_LPkyC-r8puzQSj9_f1Aeg.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">我的机器中的数据库列表</figcaption></figure><h2 id="1889" class="oo lg it bd lh op pb dn ll or pc dp lp mg pd ou lr mk pe ow lt mo pf oy lv oz bi translated"><strong class="ak">创建MongoDB数据库</strong></h2><p id="b325" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">我们可以通过用数据库名指定<code class="fe pi pj pk pl b">use</code>来创建一个新的数据库。如果数据库存在，将使用它。否则，将创建一个新的。</p><p id="595a" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">命令:</strong>T1】</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi po"><img src="../Images/d410d804db2a17ef3c195e9ab21b5707.png" data-original-src="https://miro.medium.com/v2/resize:fit:704/format:webp/1*C4OKIMNjlZsLEawBcW3oEA.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">创建新的数据库</figcaption></figure><p id="2f41" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated">注意，尽管数据库已创建，但在至少有一个集合之前，它不会显示在<code class="fe pi pj pk pl b">show dbs</code>命令中。</p><h2 id="7af9" class="oo lg it bd lh op pb dn ll or pc dp lp mg pd ou lr mk pe ow lt mo pf oy lv oz bi translated"><strong class="ak">删除一个MongoDB数据库</strong></h2><p id="e08e" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">使用<code class="fe pi pj pk pl b">use &lt;dbname&gt;</code>命令切换到要删除的数据库，然后运行以下命令:</p><p id="937c" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">命令:</strong>T4】</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/c2107a4b3b0285f461c699fa13fc51c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:676/format:webp/1*cP-nilRfLZTxjqq5qKivaw.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">删除数据库</figcaption></figure><blockquote class="ny"><p id="b932" class="nz oa it bd ob oc pq pr ps pt pu ms dk translated">注意，如果我们不选择数据库，MongoDB将使用默认的<em class="oi">测试</em>数据库。如果在没有选择特定数据库的情况下执行db.dropDatabase()，它也会删除这个默认数据库</p></blockquote><h2 id="793e" class="oo lg it bd lh op oq dn ll or os dp lp mg ot ou lr mk ov ow lt mo ox oy lv oz bi translated"><strong class="ak">创作系列</strong></h2><p id="b31a" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">可以使用以下命令创建新的集合。</p><p id="9491" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">命令:</strong>T5】</p><p id="b4b5" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated">这将在选定的数据库中创建一个空集合</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pv"><img src="../Images/5df07599c5529541e42fe87b5790e45d.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*w9bJZqlZIcXEBGC6OmoZBA.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">在MongoDB中创建空集合</figcaption></figure><p id="1830" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated">一个集合也可以被<em class="pm">限制</em>，我们可以用可选的options属性定义可以存储在该集合中的文档的最大大小和数量。</p><p id="58ce" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">选项:</strong></p><p id="2e09" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">封顶:</strong>可能值为真或假。此选项决定此集合是否有上限。</p><p id="9c84" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">大小:</strong>此选项决定此集合中可以存储的最大文档数。</p><p id="32aa" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu"> Max: </strong>这个选项决定这个集合可以容纳的最大字节数。首先检查最大值选项，然后验证大小。</p><p id="9dc1" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">例如:</strong>T6】</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pw"><img src="../Images/70eb81a552008866bddb89b1664182d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iVnCGqV1Je19_Cvn6s0ZWw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">创建封顶的集合</figcaption></figure><h2 id="aa09" class="oo lg it bd lh op pb dn ll or pc dp lp mg pd ou lr mk pe ow lt mo pf oy lv oz bi translated"><strong class="ak">丢弃收藏</strong></h2><p id="af6c" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">可以使用以下命令删除集合:</p><p id="7373" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">命令:</strong>T7】</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi px"><img src="../Images/c61dc4434f2b758094b74ef557c674ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:564/format:webp/1*zfmwdtlfIOW6jkZ9SXYdWw.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">删除收藏</figcaption></figure><h2 id="53d1" class="oo lg it bd lh op pb dn ll or pc dp lp mg pd ou lr mk pe ow lt mo pf oy lv oz bi translated"><strong class="ak">插入文件</strong></h2><p id="fa63" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">可以使用<code class="fe pi pj pk pl b">insert()</code>或<code class="fe pi pj pk pl b">save()</code>方法将文档插入集合</p><p id="bef1" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">命令:</strong> <code class="fe pi pj pk pl b">db.<em class="pm">&lt;collectionName&gt;</em>.insert()</code> <strong class="lz iu">或</strong> <code class="fe pi pj pk pl b">db.&lt;c<em class="pm">ollectionName&gt;</em>.save()</code> <br/> <strong class="lz iu">例如:</strong></p><p id="14e9" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated">以下示例显示了如何在集合中插入单个<strong class="lz iu">文档:</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi py"><img src="../Images/c01007b3384518e38312b73eab13edd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M8LR6WGl9VT0N1J7MXq8vA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">插入单个文档</figcaption></figure><p id="e976" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated">以下示例显示了如何在集合中插入多个文档:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pz"><img src="../Images/719e2b6c4f44628166ba74eb36c8b3db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1046/format:webp/1*vNgdso3gtoZ1FGmrC6KY8w.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">插入多个文档</figcaption></figure><p id="1bcc" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated">在上面的插入示例中，我们只提供了两个完全有效的字段。以下是电影收藏中的文档列表:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qa"><img src="../Images/4ffa5b6ad2645e6f4edf97e92d50841a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jw9zqdZhJmN4X1WxP8414A.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">电影收藏中的文档列表</figcaption></figure><p id="6048" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated">在我们的任何文档中，我们都没有提供ObjectId。MongoDB为这些文档分别创建了一个。</p><h2 id="c12c" class="oo lg it bd lh op pb dn ll or pc dp lp mg pd ou lr mk pe ow lt mo pf oy lv oz bi translated"><strong class="ak">查找文件</strong></h2><p id="544b" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">可以使用<code class="fe pi pj pk pl b">find()</code>从MongoDB中检索集合中的文档</p><p id="fe4e" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">命令:</strong>T1】</p><ol class=""><li id="367a" class="nh ni it lz b ma nc md nd mg nj mk nk mo nl ms nm nn no np bi translated">从集合中查找所有文档:</li></ol><p id="8b9a" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">命令:</strong> <code class="fe pi pj pk pl b">db.<em class="pm">&lt;collectionName&gt;</em>.find()</code> <br/> <strong class="lz iu">举例:</strong> <code class="fe pi pj pk pl b">db.movies.find({})</code></p><p id="0507" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated">我们在find()中提供了一个{}来检索集合中的所有文档。在SQL中，这类似于如下所示:</p><blockquote class="qb qc qd"><p id="e4ef" class="lx ly pm lz b ma nc ju mc md nd jx mf qe ne mi mj qf nf mm mn qg ng mq mr ms im bi translated">从<table>中选择*</table></p></blockquote><blockquote class="ny"><p id="e741" class="nz oa it bd ob oc pq pr ps pt pu ms dk translated">pretty()与find()一起使用来美化文档输出</p></blockquote><figure class="qi qj qk ql qm kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qh"><img src="../Images/64122020e5f2685ca6ce27a3c527f78f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rG6Aybw3T_bNZ51GCihPYw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">从一个集合中查找具有漂亮字体的所有文档</figcaption></figure><p id="2a95" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated">2.在find方法中使用子句</p><p id="4898" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated">上面的find()语法用于从一个集合中查找所有的文档。然而，从集合中检索所有文档并不总是有用的，我们通常希望根据条件过滤数据。在SQL中，我们使用WHERE子句从表中过滤数据。</p><p id="1d46" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated">例如<code class="fe pi pj pk pl b">SELECT col1, col2 FROM table WHERE &lt;condition(s)&gt;</code></p><p id="38fd" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated">MongnDB让我们在find()方法中添加各种子句来从集合中获取数据:</p><p id="432a" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">相等</strong></p><p id="ad10" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">命令:</strong> <code class="fe pi pj pk pl b">db.coll.find({key:value})</code> <br/> <strong class="lz iu">举例:</strong> <code class="fe pi pj pk pl b">db.movies.find({‘title’ : ‘Salt’})</code></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qn"><img src="../Images/8248e918f1c6076883fa69a48dec7092.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uvB3x4ozngF31EpdEYX9JQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">查找有条件的文档</figcaption></figure><p id="aa2e" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">小于</strong></p><p id="3e28" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">命令:</strong> <code class="fe pi pj pk pl b">db.coll.find({key : {$lt: value}})</code> <br/> <strong class="lz iu">举例:</strong> <code class="fe pi pj pk pl b">db.movies.find({releaseYear : {$lt: 2016}})</code></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qo"><img src="../Images/bf9bade8eff78c3958e99acce1b463d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zJi-nID0eTJlprGcwlOtpA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">查找小于条件的文档</figcaption></figure><p id="68a3" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">小于等于</strong></p><p id="14ab" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">命令:</strong> <code class="fe pi pj pk pl b">db.coll.find({key : {$lte: value}})</code> <br/> <strong class="lz iu">示例:</strong> <code class="fe pi pj pk pl b">db.movies.find({releaseYear : {$lte: 2016}})</code></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qp"><img src="../Images/e5d52003cc52a70a41ac89ba2fcb9ee5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PpBvUl_FSGacwtCXGwm9VA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">查找小于等于条件的文档</figcaption></figure><p id="89c1" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">大于</strong></p><p id="cf7f" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">命令:</strong> <code class="fe pi pj pk pl b">db.coll.find({key : {$gt: value}})</code> <br/> <strong class="lz iu">举例:</strong> <code class="fe pi pj pk pl b">db.movies.find({releaseYear : {$gt: 2015}})</code></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qq"><img src="../Images/14ffb9d6a0259ea144cebbe60ee75c35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fYtoiSAZA7AtnDUDzwzXcQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">查找具有大于条件的文档</figcaption></figure><p id="01c2" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">大于等于</strong></p><p id="e9dd" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">命令:</strong> <code class="fe pi pj pk pl b">db.coll.find({key : {$gte: value}})</code> <br/> <strong class="lz iu">举例:</strong> <code class="fe pi pj pk pl b">db.movies.find({releaseYear : {$gte: 2016}})</code></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qr"><img src="../Images/7b21b3325054915bf235fdb944f11822.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A3UHRuqOC4BRExOZRfD4ow.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">查找具有大于等于条件的文档</figcaption></figure><p id="f377" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">不等于</strong></p><p id="a14d" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">命令:</strong> <code class="fe pi pj pk pl b">db.coll.find({key : {$ne: value}})</code> <br/> <strong class="lz iu">举例:</strong> <code class="fe pi pj pk pl b">db.movies.find({releaseYear : {$ne: 2016}})</code></p><p id="4bc9" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated">MongoDB还允许我们用AND和OR组合多个条件</p><p id="a637" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">和</strong></p><p id="7c5b" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">命令:</strong> <code class="fe pi pj pk pl b">db.coll.find({$and : [{key:value}, {key:value}]})</code> <br/> <strong class="lz iu">举例:</strong> <code class="fe pi pj pk pl b">db.movies.find({$and: [{title : ‘Jai Ho’}, {releaseYear : 2016}]})</code></p><p id="71eb" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">或</strong></p><p id="09f1" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">命令:</strong> <code class="fe pi pj pk pl b">db.coll.find({$or : [{key:value}, {key:value}]})</code> <br/> <strong class="lz iu">举例:</strong> <code class="fe pi pj pk pl b">db.movies.find({$or: [{title : ‘Jai Ho’}, {releaseYear : 2016}]})</code></p><p id="55d1" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">将AND和OR结合在一起</strong></p><p id="f2a1" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">命令:</strong> <code class="fe pi pj pk pl b">db.coll.find({key : {$lt : value}, $or: [{key:value}, {key:value}]})</code> <br/> <strong class="lz iu">举例:</strong> <code class="fe pi pj pk pl b">db.coll.find({releaseYear : {$lte : 2016}, $or: [{title : ‘Jai Ho’}, {title : ‘Dangal’}]})</code></p><h2 id="aa1a" class="oo lg it bd lh op pb dn ll or pc dp lp mg pd ou lr mk pe ow lt mo pf oy lv oz bi translated"><strong class="ak">更新文档</strong></h2><p id="5191" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">集合中的现有文档可以用update或save方法更新。</p><p id="d68c" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">命令:<br/> </strong> <code class="fe pi pj pk pl b">db.&lt;collectionName&gt;.update(SELECTION_CRITERIA, UPDATED_DATA)</code> <br/> <code class="fe pi pj pk pl b">db.&lt;collectionName&gt;.save(SELECTION_CRITERIA, NEW_DATA)</code></p><p id="ec59" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">举例:</strong> <code class="fe pi pj pk pl b">db.movies.update({title: ‘Jai Ho’}, {$set: {releaseYear : 2003}})</code></p><h2 id="030d" class="oo lg it bd lh op pb dn ll or pc dp lp mg pd ou lr mk pe ow lt mo pf oy lv oz bi translated"><strong class="ak">删除文件</strong></h2><p id="cf07" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">可以使用remove()方法从集合中移除文档</p><p id="9404" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">命令:<br/> </strong> <code class="fe pi pj pk pl b">db.&lt;collectionName&gt;.remove(DEL_CRITERIA, JUSTONE)</code></p><p id="9edf" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><strong class="lz iu">举例:</strong></p><p id="c0b3" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><code class="fe pi pj pk pl b">db.movies.remove({title: ‘Jai Ho’})</code> - &gt;只删除满足条件的。</p><p id="2253" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><code class="fe pi pj pk pl b">db.movies.remove({releaseYear: 2016}, 1)</code> - &gt;如果多个文件满足条件，则仅删除一个。</p><p id="2116" class="pw-post-body-paragraph lx ly it lz b ma nc ju mc md nd jx mf mg ne mi mj mk nf mm mn mo ng mq mr ms im bi translated"><code class="fe pi pj pk pl b">db.movies.remove({})</code> - &gt;从集合中删除所有文档。这相当于SQL中的truncate命令。</p></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="2f8c" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">结论</h1><p id="4179" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">在本文中，我们介绍了最流行和最常用的NoSQL数据库之一，MongoDB。我们已经解释了与这个数据库交互的方式。一旦您熟悉了这些概念和语法，请参考<a class="ae nv" href="https://docs.mongodb.com/" rel="noopener ugc nofollow" target="_blank">文档</a>以了解更多关于MongoDB的信息。</p></div></div>    
</body>
</html>