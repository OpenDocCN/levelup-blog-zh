<html>
<head>
<title>An Analysis of Shingling and Random Projection Algorithms</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">收缩和随机投影算法分析</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/an-analysis-of-shingling-and-random-projection-algorithms-cfe550c82a4a?source=collection_archive---------21-----------------------#2022-01-17">https://levelup.gitconnected.com/an-analysis-of-shingling-and-random-projection-algorithms-cfe550c82a4a?source=collection_archive---------21-----------------------#2022-01-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/de28b15feed9f511138f39b584dc7da6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vJnDOlT-xdrWd5el"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">鲁本·特奥在<a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><div class=""/><p id="ae52" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<a class="ae jd" href="https://kyleziegler.medium.com/dynamic-programming-for-sequence-similarity-ccc26472912e" rel="noopener">之前的一篇文章</a>中，我们通过Levenshtein距离讨论了序列相似性，并在O(m*n)处对其进行了评估。当我们希望将这种算法应用于更大规模的数据集时，它变得不切实际。这里要考虑的用例是搜索引擎网页索引和剽窃。对于搜索引擎来说，重要的是检测相近的重复项，并评估它们的页面更新、镜像、垃圾邮件、钓鱼网站，并减少抓取错误。</p><p id="4e0f" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">假设我们想要检测严格的重复——在计算机科学中有一种我们已经熟悉的非常快速的方法，散列法。但是，如果我想检测近似重复呢？改变一个字符将完全改变散列算法的输出。</p><h1 id="b6e4" class="lb lc jg bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">Shingling (Broder等人，1997年)</h1><p id="1097" class="pw-post-body-paragraph kd ke jg kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">Shingling，也称为w-shingling，是一种比较无序集中作为重叠n元文法的两个序列之间的相似性的技术。例如，作为重叠三元组的序列“我们将评估的用例”将是{“我们的用例”，“我们将评估的用例”，…}。然后，我们使用Jaccard系数来描述这两个集合之间的差异，即由并集归一化的两个集合的重叠。您的输出将以[0，1]为界</p><p id="9bdb" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">请注意，收缩的一个限制是局部顺序被保留，而全局顺序不被保留，当您想要显示数学差异时，可能会出现文档中的项目被四处移动并且您的相似性是相同的情况。收缩的运行时间是O(m+n ),而Levenshtein距离的运行时间是O(n*m)。</p><h1 id="616e" class="lb lc jg bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">步伐</h1><ol class=""><li id="5001" class="me mf jg kf b kg lz kk ma ko mg ks mh kw mi la mj mk ml mm bi translated">标记两个输入序列</li><li id="a470" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">从序列中创建n-grams</li><li id="0756" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">返回两个序列之间的Jaccard相似度</li></ol><h1 id="fb63" class="lb lc jg bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">Python实现</h1><p id="3611" class="pw-post-body-paragraph kd ke jg kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我还包含了Jaccard相似性的代码。注意，你可以给它传递一个你想要创建的n克的长度值。对于您传入的序列，我会在2到5之间进行实验。</p><figure class="ms mt mu mv gt is"><div class="bz fp l di"><div class="mw mx l"/></div></figure><h1 id="fd7d" class="lb lc jg bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">最优化:随机投影算法</h1><p id="5430" class="pw-post-body-paragraph kd ke jg kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">MinHash和局部敏感性散列是进一步改进分析两个序列之间差异的两种方法。例如，使用shingling和Jaccard来比较文件夹中的文档具有O(N /2)的上限，因为我们不必比较doc[0] &lt;&gt; doc[1]和doc[1] &lt;&gt; doc[0]，所以这是相同的计算。MinHash是一种比较两个文档的近似算法，比单独使用shingling和Jaccard相似性要快得多。</p><h2 id="615f" class="my lc jg bd ld mz na dn lh nb nc dp ll ko nd ne lp ks nf ng lt kw nh ni lx nj bi translated">算法</h2><ol class=""><li id="ce33" class="me mf jg kf b kg lz kk ma ko mg ks mh kw mi la mj mk ml mm bi translated">创建一个最小散列签名，不管集合的长度是多少，该签名的长度总是相同的</li><li id="61e1" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">随机洗牌2组中的物品</li><li id="416d" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">比较每个集合中的第一个值:hashed_a[0] == hashed_b[0]</li></ol><p id="4fc8" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里的关键是MinHash签名比文档中的瓦片数要短得多。更直观的，我们可以把哈希后第一项的概率想成和shingling一样，得到两个集合的Jaccard相似度。</p><p id="ffaf" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例子</p><blockquote class="nk nl nm"><p id="8398" class="kd ke nn kf b kg kh ki kj kk kl km kn no kp kq kr np kt ku kv nq kx ky kz la ij bi translated">vec_a[3，10，7]，vec_b[9，3，11]</p></blockquote><p id="7fa1" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有一个共同点，洗牌后“3”成为向量中第一个元素的几率有多大？</p><p id="98de" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里的集合相似度是1/3，对于MinHash，它是组件的数量乘以匹配的概率，这与Jaccard相似度相同。我们期望MinHash相似性的输出接近Jaccard相似性。</p><h1 id="280c" class="lb lc jg bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">参考</h1><ul class=""><li id="37fd" class="me mf jg kf b kg lz kk ma ko mg ks mh kw mi la nr mk ml mm bi translated"><a class="ae jd" href="https://www.cs.utah.edu/~jeffp/teaching/cs7931-S15/cs7931/3-rp.pdf" rel="noopener ugc nofollow" target="_blank">随机投影和哈希法，2015年</a></li><li id="10bb" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la nr mk ml mm bi translated">(Broder，Glassman，Manasse，和Zweig 1997) <em class="nn">网页的句法聚类</em>。SRC技术说明。</li><li id="0606" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la nr mk ml mm bi translated"><a class="ae jd" href="http://cs.brown.edu/courses/cs253/papers/nearduplicate.pdf" rel="noopener ugc nofollow" target="_blank">识别和过滤近似重复的文档</a> (Broder等人，2000年)</li><li id="66e3" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la nr mk ml mm bi translated"><a class="ae jd" href="https://bib.dbvis.de/uploadedFiles/155.pdf" rel="noopener ugc nofollow" target="_blank">关于高维空间中距离度量的惊人行为</a> (Aggarwal，Hinneburg等人，2001年)</li><li id="b6c1" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la nr mk ml mm bi translated"><a class="ae jd" href="https://mccormickml.com/2015/06/12/minhash-tutorial-with-python-code/" rel="noopener ugc nofollow" target="_blank">Python代码的MinHash教程</a> ( <a class="ae jd" href="https://mccormickml.com/" rel="noopener ugc nofollow" target="_blank">克里斯·麦考密克</a>，2015)</li></ul></div><div class="ab cl ns nt hu nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ij ik il im in"><h1 id="82f9" class="lb lc jg bd ld le nz lg lh li oa lk ll lm ob lo lp lq oc ls lt lu od lw lx ly bi translated">分级编码</h1><p id="237c" class="pw-post-body-paragraph kd ke jg kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="d274" class="me mf jg kf b kg kh kk kl ko oe ks of kw og la nr mk ml mm bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="a234" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la nr mk ml mm bi translated">📰查看<a class="ae jd" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">升级编码出版物</a>中的更多内容</li><li id="4085" class="me mf jg kf b kg mn kk mo ko mp ks mq kw mr la nr mk ml mm bi translated">🔔关注我们:<a class="ae jd" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae jd" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae jd" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="c901" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">🚀👉<a class="ae jd" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kf jh">加入升级人才集体，找到一份惊艳的工作</strong> </a></p></div></div>    
</body>
</html>