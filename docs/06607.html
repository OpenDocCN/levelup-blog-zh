<html>
<head>
<title>3D with Svelte and Babylon.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带Svelte和Babylon.js的3D</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/3d-with-svelte-and-babylon-js-4f9387728d35?source=collection_archive---------1-----------------------#2020-12-11">https://levelup.gitconnected.com/3d-with-svelte-and-babylon-js-4f9387728d35?source=collection_archive---------1-----------------------#2020-12-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/773b81092f476bb671ca2c5bbe946afb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*SwxJwP059B_jiHL_wtCcEw.gif"/></div></div></figure><p id="7bdb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">作为我上一篇关于<a class="ae kw" href="https://jasonsturges.medium.com/3d-with-svelte-and-three-js-f4366f342f9f" rel="noopener">3D with svelite and three . js</a>的帖子的后续，这里有一个类似的例子，将<a class="ae kw" href="https://svelte.dev/" rel="noopener ugc nofollow" target="_blank">svelite</a>与<a class="ae kw" href="https://www.babylonjs.com/" rel="noopener ugc nofollow" target="_blank"> Babylon.js </a>引擎结合在一起。</p><p id="d6f6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">跟随，或者<a class="ae kw" href="https://github.com/jasonsturges/babylonjs-svelte-boilerplate" rel="noopener ugc nofollow" target="_blank">在GitHub上检查库</a>。</p><h1 id="3f57" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">创建解决方案</h1><p id="ea20" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">首先，通过在终端中执行以下命令，使用<code class="fe ma mb mc md b">npx degit</code>设置Svelte的模板来搭建项目:</p><pre class="me mf mg mh gt mi md mj mk aw ml bi"><span id="25c5" class="mm ky iq md b gy mn mo l mp mq">npx degit sveltejs/template svelte-app</span></pre><p id="eedf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">继续添加<code class="fe ma mb mc md b">babylonjs</code>包:</p><pre class="me mf mg mh gt mi md mj mk aw ml bi"><span id="8aea" class="mm ky iq md b gy mn mo l mp mq">npm add babylonjs</span></pre><p id="8eb9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Npm会添加Babylon.js并自动安装包。</p><h1 id="853b" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">App.svelte</h1><p id="6dc3" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">在<code class="fe ma mb mc md b">App.svelte</code>中创建一个<code class="fe ma mb mc md b">canvas</code>元素，使用Svelte的<a class="ae kw" href="https://svelte.dev/tutorial/bind-this" rel="noopener ugc nofollow" target="_blank">绑定</a>链接DOM元素，并将其传递给<code class="fe ma mb mc md b">createScene()</code>函数。</p><figure class="me mf mg mh gt jr"><div class="bz fp l di"><div class="mr ms l"/></div><figcaption class="mt mu gj gh gi mv mw bd b be z dk translated">App.svelte</figcaption></figure><p id="5154" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">需要注意的是，这需要Svelte的<code class="fe ma mb mc md b">onMount()</code>的<a class="ae kw" href="https://svelte.dev/tutorial/onmount" rel="noopener ugc nofollow" target="_blank">生命周期</a>方法，该方法在组件首次呈现到DOM后运行。</p><h1 id="968c" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">scene.js</h1><p id="4175" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">创建一个名为<code class="fe ma mb mc md b">scene.js</code>的新文件——我们将镜像一个与Three.js示例中相似的场景，但是使用他们的<a class="ae kw" href="https://github.com/BabylonJS/Babylon.js" rel="noopener ugc nofollow" target="_blank"> Getting Started </a> GitHub使用文档的示例代码来适应巴比伦。</p><figure class="me mf mg mh gt jr"><div class="bz fp l di"><div class="mr ms l"/></div><figcaption class="mt mu gj gh gi mv mw bd b be z dk translated">scene.js</figcaption></figure><p id="ec16" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在上面的代码中，巴比伦<code class="fe ma mb mc md b">engine</code>被实例化为<code class="fe ma mb mc md b">canvas</code>。一个<code class="fe ma mb mc md b">scene</code>、<code class="fe ma mb mc md b">camera</code>和<code class="fe ma mb mc md b">light</code>被设置为利用自动旋转摄像机控制器环绕场景。</p><p id="a0e1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这个场景中，构建了一个<code class="fe ma mb mc md b">cube</code>网格，并应用了一个<code class="fe ma mb mc md b">material</code>来给网格一个外观。</p><p id="60fe" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">渲染动画的每一帧都使用Babylon engine内置的<code class="fe ma mb mc md b">runRenderLoop()</code>函数。</p><p id="daeb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了调整浏览器窗口的大小，添加了一个<code class="fe ma mb mc md b">resize</code>事件监听器来将引擎更新为新的画布大小。</p><h1 id="d250" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">global.css</h1><p id="93d3" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">最后，对于视觉外观，更新<code class="fe ma mb mc md b">global.css</code>以填充屏幕:</p><figure class="me mf mg mh gt jr"><div class="bz fp l di"><div class="mr ms l"/></div><figcaption class="mt mu gj gh gi mv mw bd b be z dk translated">global.css</figcaption></figure><h1 id="39c4" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">发射它</h1><p id="1a62" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">从终端执行<code class="fe ma mb mc md b">npm run dev</code>启动Svelte的live reload with Rollup，打开<a class="ae kw" href="http://localhost:5000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:5000 </a>查看结果。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mx"><img src="../Images/6c5595bf0dd418e405f8f1e4da904c1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*65AMhXZQFkf--UIpxogSVg.gif"/></div></div></figure><p id="f465" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用鼠标环绕场景。</p></div></div>    
</body>
</html>