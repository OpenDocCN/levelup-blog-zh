<html>
<head>
<title>There Can Be Only One: The Singleton Design Pattern</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">只能有一种:单例设计模式</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/there-can-be-only-one-the-singleton-design-pattern-bf1d47e43a24?source=collection_archive---------17-----------------------#2020-11-16">https://levelup.gitconnected.com/there-can-be-only-one-the-singleton-design-pattern-bf1d47e43a24?source=collection_archive---------17-----------------------#2020-11-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0099" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">单例模式的一个例子以及为什么使用它</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/2b48641f628fcbcb6b5bbc2d830099c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*BeQvd2ro8-l1eA5AG9xuZg.jpeg"/></div></figure><h1 id="9acd" class="kn ko iq bd kp kq kr ks kt ku kv kw kx jw ky jx kz jz la ka lb kc lc kd ld le bi translated">什么时候使用单例模式？</h1><p id="d7d5" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">当你一次只需要一个对象的实例时，使用单例模式。</p><p id="f890" class="pw-post-body-paragraph lf lg iq lh b li mb jr lk ll mc ju ln lo md lq lr ls me lu lv lw mf ly lz ma ij bi translated">这种模式有用的一个例子是数据库的访问点💾。在一个应用程序中，拥有一个数据库入口点比拥有多个入口点更有利(就像使用构造函数的常规类一样)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi mg"><img src="../Images/afcc6ebfd4988343646395966ec32149.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jK17mO0IsrFDua3QE3nnCA.jpeg"/></div></div></figure><p id="7af2" class="pw-post-body-paragraph lf lg iq lh b li mb jr lk ll mc ju ln lo md lq lr ls me lu lv lw mf ly lz ma ij bi translated">在上图中，我们有三个用户想要一个盒子📦，我们的盒子服务给它们指向同一个实例的指针，而不是为每个实例创建新的指针。如果创建一个“盒子”是一个昂贵的或长时间的任务，这是有用的⏱️，使用singleton，我们只需要创建一个。</p><h1 id="7f31" class="kn ko iq bd kp kq kr ks kt ku kv kw kx jw ky jx kz jz la ka lb kc lc kd ld le bi translated">个案研究</h1><p id="ecd3" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我们将创建一个小应用程序，其中我们有一个DBAccessor类，我们只希望一次存在一个。我们将有两个客户端请求使用访问器，并确认它们使用的是同一个访问器。</p><h2 id="e5a6" class="ml ko iq bd kp mm mn dn kt mo mp dp kx lo mq mr kz ls ms mt lb lw mu mv ld mw bi translated">单身者</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="d7a4" class="pw-post-body-paragraph lf lg iq lh b li mb jr lk ll mc ju ln lo md lq lr ls me lu lv lw mf ly lz ma ij bi translated">这是一个单例类的例子，我们通过显式声明一个私有构造函数来去掉默认构造函数，这样它就不能被调用了🚫课外。</p><p id="be41" class="pw-post-body-paragraph lf lg iq lh b li mb jr lk ll mc ju ln lo md lq lr ls me lu lv lw mf ly lz ma ij bi translated">如果一个客户想要获得DBAccessor的实例，他们必须使用<em class="mz"> getInstance() </em>方法。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="b21a" class="pw-post-body-paragraph lf lg iq lh b li mb jr lk ll mc ju ln lo md lq lr ls me lu lv lw mf ly lz ma ij bi translated">这里我们创建了两个dbAccessors，它们实际上指向同一个对象。</p><pre class="kg kh ki kj gt na nb nc nd aw ne bi"><span id="3a62" class="ml ko iq nb b gy nf ng l nh ni">Query number 1<br/>Query number 2</span></pre><p id="bfd1" class="pw-post-body-paragraph lf lg iq lh b li mb jr lk ll mc ju ln lo md lq lr ls me lu lv lw mf ly lz ma ij bi translated">当我们查询两个“不同”的对象时，我们实际上是在查询同一个对象，所以它先递增1，然后递增2。如果我们有不同的实例，我们会看到…</p><pre class="kg kh ki kj gt na nb nc nd aw ne bi"><span id="c1d1" class="ml ko iq nb b gy nf ng l nh ni">Query number 1<br/>Query number 1</span></pre><p id="01de" class="pw-post-body-paragraph lf lg iq lh b li mb jr lk ll mc ju ln lo md lq lr ls me lu lv lw mf ly lz ma ij bi translated">singleton模式是最简单和最容易理解的设计模式之一，对于如何实现它，以及什么时候和为什么你想要使用Singleton而不是一个带有公共构造函数的常规对象，有一个清晰的理解。</p></div></div>    
</body>
</html>