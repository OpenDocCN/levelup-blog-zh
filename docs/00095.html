<html>
<head>
<title>Multiple Layouts for VueJS Single Page Apps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">VueJS单页应用的多种布局</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/multiple-layouts-for-vue-spa-app-fafda6b2bfc7?source=collection_archive---------0-----------------------#2018-03-10">https://levelup.gitconnected.com/multiple-layouts-for-vue-spa-app-fafda6b2bfc7?source=collection_archive---------0-----------------------#2018-03-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="9e2a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi kl translated"><span class="l km kn ko bm kp kq kr ks kt di"> It </span>甚至一个<strong class="jp ir">的单页面应用</strong>都需要M个<strong class="jp ir">多布局</strong>来显示视图，这是一个普遍的问题。例如，登录页面可能不需要不必要的工具栏等。</p><p id="b0ba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">今天我将向你们展示我是如何用<strong class="jp ir"> VueJS </strong>克服这一点的。对于本教程，我将假设您了解<strong class="jp ir"> VueJS、VueRouter、</strong>和<strong class="jp ir"> Vuex </strong>。我们将使用<a class="ae ku" href="https://vuetifyjs.com" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">VuetifyJS</strong></a><strong class="jp ir"/>来设计我们的应用程序并简化设置。但是，您可以使用任何其他样式指南来使用这种方法。</p><h1 id="5993" class="kv kw iq bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">我们开始吧</h1><p id="1c4b" class="pw-post-body-paragraph jn jo iq jp b jq lt js jt ju lu jw jx jy lv ka kb kc lw ke kf kg lx ki kj kk ij bi translated">首先安装<strong class="jp ir"> vue-cli </strong>并使用vue化模板开始一个全新的SPA项目。</p><blockquote class="ly lz ma"><p id="730e" class="jn jo mb jp b jq jr js jt ju jv jw jx mc jz ka kb md kd ke kf me kh ki kj kk ij bi translated">对于非资格项目，程序是相同的。</p></blockquote><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="2a02" class="mo kw iq mk b gy mp mq l mr ms">npm install -g vue-cli<br/>vue init vuetifyjs/webpack my-project<br/>cd my-project<br/>npm install<br/>npm run dev</span></pre><figure class="mf mg mh mi gt mu gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi mt"><img src="../Images/1a015f80957a0487f21aededd5195d51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9cOQFPwhBzd-HTM98oq9UQ.png"/></div></div><figcaption class="nb nc gj gh gi nd ne bd b be z dk translated">使用<strong class="bd kx"> vue-cli </strong>安装并配置<strong class="bd kx"> vue </strong>应用程序</figcaption></figure><p id="7126" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这些命令将启动您机器上的<strong class="jp ir"> <em class="mb"> webpack开发服务器</em> </strong>。为了简单起见，我们忽略设置测试部分。</p><p id="8de3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在你会在你的浏览器上看到这个</p><figure class="mf mg mh mi gt mu gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi nf"><img src="../Images/6bdbd728f09770a493037bd0745656ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ACPFhJpX4ceKrbP2qpQGYw.png"/></div></div><figcaption class="nb nc gj gh gi nd ne bd b be z dk translated">使用<strong class="bd kx">vu entify</strong>模板创建的默认应用程序</figcaption></figure><p id="0e12" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在使用安装<a class="ae ku" href="https://vuex.vuejs.org/en/" rel="noopener ugc nofollow" target="_blank"> Vuex </a></p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="fb2a" class="mo kw iq mk b gy mp mq l mr ms">npm install --save vuex</span></pre><h1 id="c5df" class="kv kw iq bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated"><strong class="ak">动态组件</strong></h1><p id="4782" class="pw-post-body-paragraph jn jo iq jp b jq lt js jt ju lu jw jx jy lv ka kb kc lw ke kf kg lx ki kj kk ij bi translated"><strong class="jp ir"> VueJS </strong>牛逼。它几乎有你需要的一切。对于我们的任务，我们的目标是使用<a class="ae ku" href="https://vuejs.org/v2/guide/components.html#Dynamic-Components" rel="noopener ugc nofollow" target="_blank">动态组件</a>。</p><p id="048a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> VueJS允许你使用相同的元素</strong>在组件之间动态切换。</p><h1 id="473a" class="kv kw iq bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">您的布局</h1><p id="8393" class="pw-post-body-paragraph jn jo iq jp b jq lt js jt ju lu jw jx jy lv ka kb kc lw ke kf kg lx ki kj kk ij bi translated">在我们开始之前，我们需要有一些布局。我们将创建其中的两个。</p><ul class=""><li id="7b6e" class="ng nh iq jp b jq jr ju jv jy ni kc nj kg nk kk nl nm nn no bi translated">简单:简单的布局，顾名思义</li><li id="457e" class="ng nh iq jp b jq np ju nq jy nr kc ns kg nt kk nl nm nn no bi translated">应用程序:应用程序布局，带有漂亮的侧边栏和工具栏</li></ul><p id="0075" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">继续创建一个文件夹<strong class="jp ir"> src/layouts </strong>并在其中添加这两个文件</p><figure class="mf mg mh mi gt mu"><div class="bz fp l di"><div class="nu nv l"/></div><figcaption class="nb nc gj gh gi nd ne bd b be z dk translated"><strong class="ak">src/layouts/simple layout . vue</strong></figcaption></figure><figure class="mf mg mh mi gt mu"><div class="bz fp l di"><div class="nu nv l"/></div><figcaption class="nb nc gj gh gi nd ne bd b be z dk translated">(这看起来可能很复杂，但你可以把路由器视图放在你想放的地方)</figcaption></figure><p id="4b29" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以在这两个文件中，你可以看到我放了一个<code class="fe nw nx ny mk b">&lt;router-view&gt;&lt;/router-view&gt;</code>元素。这被<strong class="jp ir"> VueRouter </strong>用来在应用程序上显示路由器视图。</p><p id="927a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们有两种不同的布局。例如显示一个登录页面<strong class="jp ir">可以使用简单布局</strong>。</p><h1 id="7325" class="kv kw iq bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">用Vuex保持应用程序状态</h1><p id="fedb" class="pw-post-body-paragraph jn jo iq jp b jq lt js jt ju lu jw jx jy lv ka kb kc lw ke kf kg lx ki kj kk ij bi translated">由于我们的应用程序将会很复杂，我们将在这里使用Vuex来管理应用程序的状态。</p><p id="0774" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">创建<strong class="jp ir"> src/store/index.js </strong>，并在其中添加以下内容</p><figure class="mf mg mh mi gt mu"><div class="bz fp l di"><div class="nu nv l"/></div><figcaption class="nb nc gj gh gi nd ne bd b be z dk translated">将该文件保存为<strong class="ak"> src/store/index.js </strong></figcaption></figure><p id="6d5d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一个非常简单的Vuex存储，用来保存应用程序的状态。这里你可以看到布局<strong class="jp ir">有一个状态变量</strong>，它被设置为<strong class="jp ir">简单布局</strong>。这是布局的名称，我们将很快在应用程序中定义它。</p><p id="d416" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们设置了一个名为<strong class="jp ir"> SET_LAYOUT </strong>的变异来改变布局状态。如您所知，在Vuex中，改变状态的唯一方法是使用变异进行提交。</p><p id="f171" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们还定义了一个名为<strong class="jp ir"> layout </strong>的getter来获取这个变量的状态。</p><h1 id="1d12" class="kv kw iq bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">显示您的布局</h1><p id="d513" class="pw-post-body-paragraph jn jo iq jp b jq lt js jt ju lu jw jx jy lv ka kb kc lw ke kf kg lx ki kj kk ij bi translated">现在你需要一种方法来显示你想要的布局。我们有两个，现在我们还有一个Vuex存储来跟踪应用程序中的当前布局。</p><p id="da94" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为此，打开<strong class="jp ir"> src/App.vue </strong>并添加以下内容</p><figure class="mf mg mh mi gt mu"><div class="bz fp l di"><div class="nu nv l"/></div><figcaption class="nb nc gj gh gi nd ne bd b be z dk translated"><strong class="ak"> src/App.vue </strong></figcaption></figure><p id="c23b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这里，我们已经导入了我们的布局，并将它们放在脚本中的组件部分下。我们还为每个组件取了一个名字。正如你在<strong class="jp ir">商店</strong>中看到的，我们使用了<em class="mb">简单布局</em>作为默认，它指的是这里的组件。</p><p id="a85d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们有一个计算属性，也称为布局。该计算属性从vuex存储中获取其值。</p><p id="ce45" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">由于计算属性的更改会导致UI更新，因此当store中的值发生更改时，它也会在该组件中进行必要的UI更新。</p><p id="174e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里最重要的是</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="66c4" class="mo kw iq mk b gy mp mq l mr ms">&lt;component v-bind:is="layout"&gt;&lt;/component&gt;</span></pre><p id="9663" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是vue中的一个<strong class="jp ir">动态组件</strong>。它在运行时绑定到一个组件，并使用相同的元素在组件之间切换。</p><p id="12ca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如您所见，它被绑定到布局计算属性。所以一旦存储更新了它的值，它也会被传递给<code class="fe nw nx ny mk b">v-bind:is</code>。现在，这会将传递的组件绑定到标签中。</p><h1 id="842e" class="kv kw iq bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">测试时间到了</h1><p id="0864" class="pw-post-body-paragraph jn jo iq jp b jq lt js jt ju lu jw jx jy lv ka kb kc lw ke kf kg lx ki kj kk ij bi translated">是时候测试我们的应用程序了。在此之前，我们需要一个测试组件。进入<strong class="jp ir"> src/components </strong>创建一个名为<strong class="jp ir"> MyComponent.vue </strong>的新文件，并添加以下简单内容</p><figure class="mf mg mh mi gt mu"><div class="bz fp l di"><div class="nu nv l"/></div><figcaption class="nb nc gj gh gi nd ne bd b be z dk translated"><strong class="ak">src/components/my component . vue</strong></figcaption></figure><p id="f546" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在下面的简单文件中，我们创建了两个在布局之间切换的按钮和一个用于改变布局的方法<code class="fe nw nx ny mk b">setLayout</code>。</p><p id="9199" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe nw nx ny mk b">setLayout</code>是一个简单的方法，它对商店进行提交，改变商店的布局值。</p><p id="ff80" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">正如我们所知，这将触发<code class="fe nw nx ny mk b">App.vue</code>中的computed属性来改变它在动态组件中的布局值</p><p id="212c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后打开你的<strong class="jp ir"> router/index.js </strong>，像这样导入这个组件</p><figure class="mf mg mh mi gt mu"><div class="bz fp l di"><div class="nu nv l"/></div><figcaption class="nb nc gj gh gi nd ne bd b be z dk translated">样本路由器文件<strong class="ak"> src/router/index.js </strong></figcaption></figure><p id="7ee7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这只是将<code class="fe nw nx ny mk b">MyComponent</code>挂载到根中。</p><p id="8a75" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在你的<code class="fe nw nx ny mk b">main.js</code>还有一件事要做，导入并使用你的商店</p><figure class="mf mg mh mi gt mu"><div class="bz fp l di"><div class="nu nv l"/></div><figcaption class="nb nc gj gh gi nd ne bd b be z dk translated"><strong class="ak"> src/main.js </strong></figcaption></figure><p id="0dd4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是您的应用程序的入口点，现在您的商店已注册。</p><p id="d3af" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">保存所有文件并检查你的浏览器</p><figure class="mf mg mh mi gt mu gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi nz"><img src="../Images/5866fb10db9262e8215f6c21f3b3d2e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Ktm1KzgEuyldwbAgZz99oQ.gif"/></div></div><figcaption class="nb nc gj gh gi nd ne bd b be z dk translated"><strong class="bd kx">工作申请</strong></figcaption></figure><h1 id="51ac" class="kv kw iq bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">结论</h1><p id="17c5" class="pw-post-body-paragraph jn jo iq jp b jq lt js jt ju lu jw jx jy lv ka kb kc lw ke kf kg lx ki kj kk ij bi translated">在这里，我使用<strong class="jp ir"> VuetifyJS </strong>和<strong class="jp ir"> Vuex </strong>给出了一个完整的应用程序实现。Vuex用于向您展示如何在整个应用程序中使用这种技术，因此您可以随时随地在应用程序中更改布局。</p><p id="0e9a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">除此之外，概念很简单。都是动态组件。仅此而已。当与Vuex结合使用时，我们可以根据需要用任意多的布局来制作我们想要的梦想应用，而不局限于默认布局。</p><p id="a561" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">现在，您可以让您的SPA应用程序同时具有多个布局</strong></p><p id="1eea" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你可以在这里得到代码<a class="ae ku" href="https://github.com/kasvith/vue-spa-multiple-layouts-example" rel="noopener ugc nofollow" target="_blank"/></p></div><div class="ab cl oa ob hu oc" role="separator"><span class="od bw bk oe of og"/><span class="od bw bk oe of og"/><span class="od bw bk oe of"/></div><div class="ij ik il im in"><figure class="mf mg mh mi gt mu gh gi paragraph-image"><a href="https://levelup.gitconnected.com"><div class="gh gi oh"><img src="../Images/9914c5dd23ac08b70eea6f4f9ba6fed2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E6CoI_MRyZ1JInNPsBSHtA.png"/></div></a></figure><div class="oi oj gp gr ok ol"><a href="https://gitconnected.com/learn/vue-js" rel="noopener  ugc nofollow" target="_blank"><div class="om ab fo"><div class="on ab oo cl cj op"><h2 class="bd ir gy z fp oq fr fs or fu fw ip bi translated">学习Vue.js -最佳Vue.js教程(2019) | gitconnected</h2><div class="os l"><h3 class="bd b gy z fp oq fr fs or fu fw dk translated">27大Vue.js教程-免费学习Vue.js。课程由开发人员提交并投票，使您能够…</h3></div><div class="ot l"><p class="bd b dl z fp oq fr fs or fu fw dk translated">gitconnected.com</p></div></div><div class="ou l"><div class="ov l ow ox oy ou oz mz ol"/></div></div></a></div></div></div>    
</body>
</html>