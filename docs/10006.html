<html>
<head>
<title>Deploy a Flask App in Kubernetes ğŸ•¸</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åœ¨kuberneteséƒ¨ç½²ä¸€ä¸ªFlaskåº”ç”¨ç¨‹åº</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/deploy-a-flask-app-in-kubernetes-f3e12100de9a?source=collection_archive---------3-----------------------#2021-10-14">https://levelup.gitconnected.com/deploy-a-flask-app-in-kubernetes-f3e12100de9a?source=collection_archive---------3-----------------------#2021-10-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/d0e33741ff644b37a524b12dec198d1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6sIHgq-YOWhhO9wN.png"/></div></div></figure><p id="8a6e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ä¸€ä¸ª<a class="ae kz" href="https://kubernetes.io/docs/concepts/services-networking/ingress/" rel="noopener ugc nofollow" target="_blank">å…¥å£</a>æ˜¯ä¸€ä¸ªAPIå¯¹è±¡ï¼Œå®ƒå®šä¹‰äº†å…è®¸å¤–éƒ¨è®¿é—®é›†ç¾¤ä¸­æœåŠ¡çš„è§„åˆ™ã€‚ä¸€ä¸ª<a class="ae kz" href="https://kubernetes.io/docs/concepts/services-networking/ingress-controllers/" rel="noopener ugc nofollow" target="_blank">å…¥å£æ§åˆ¶å™¨</a>å®ç°å…¥å£ä¸­è®¾ç½®çš„è§„åˆ™ã€‚</p><h1 id="7118" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">å¯åŠ¨minikube</h1><p id="34ef" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">å¦‚æœæ‚¨åœ¨æœ¬åœ°å®‰è£…äº†Minikubeï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤:</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="2c3b" class="mm lb it mi b gy mn mo l mp mq">minikube start</span></pre><h1 id="60ac" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">å¯ç”¨å…¥å£æ§åˆ¶å™¨</h1><p id="a2b5" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">è¦å¯ç”¨NGINXå…¥å£æ§åˆ¶å™¨ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤:</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="e132" class="mm lb it mi b gy mn mo l mp mq">minikube addons enable ingress</span></pre><p id="bafb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">å…‹éš†æˆ‘çš„GitHubé¡¹ç›®æ¥è·Ÿè¿›</p><div class="mr ms gp gr mt mu"><a href="https://github.com/alvisf/kubernetes-flask-poc" rel="noopener  ugc nofollow" target="_blank"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd iu gy z fp mz fr fs na fu fw is bi translated">alvisf/Kubernetes-flask-POC</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">åœ¨GitHubä¸Šåˆ›å»ºä¸€ä¸ªå¸æˆ·ï¼Œä¸ºalvisf/Kubernetes-flask-pocçš„å¼€å‘åšå‡ºè´¡çŒ®ã€‚</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">github.com</p></div></div><div class="nd l"><div class="ne l nf ng nh nd ni jz mu"/></div></div></a></div><h1 id="a012" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">åˆ›å»ºDockerfileæ–‡ä»¶</h1><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="497c" class="mm lb it mi b gy mn mo l mp mq">FROM alpine:latest<br/>RUN apk add --no-cache python3-dev \&amp;&amp; apk add --no-cache py-pip<br/>WORKDIR /appCOPY . /app<br/>RUN pip3 --no-cache install Flask<br/>EXPOSE 5002<br/>ENTRYPOINT ["python3"]CMD ["main.py"]</span></pre><p id="9fa0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è¿™åªæ˜¯ä¸€ä¸ªç®€å•çš„dockeræ–‡ä»¶ï¼Œå®ƒå°†åˆ›å»ºä¸€ä¸ªdockeråŒ–çš„flaskåº”ç”¨ç¨‹åºã€‚</p><p id="ddc7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">å»ºç«‹dockerå½¢è±¡</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="f818" class="mm lb it mi b gy mn mo l mp mq">docker build -t frontendvm .</span></pre><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nj"><img src="../Images/e5768286a7eb827e2e7bf0e6ea3a9b31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LppxlSQ3k3sDLtKD.png"/></div></div></figure><p id="b631" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ç°åœ¨dockeræ˜ åƒå·²ç»åˆ›å»ºå¥½äº†ï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­åˆ›å»ºKubernetesæ–‡ä»¶äº†</p><h1 id="8255" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">åˆ›å»ºK8séƒ¨ç½²æ–‡ä»¶</h1><p id="3691" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">è¦åˆ›å»ºéƒ¨ç½²ï¼Œè¯·ä½¿ç”¨å‘½ä»¤</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="a5da" class="mm lb it mi b gy mn mo l mp mq">kubectl apply -f hello-deployment.yaml</span></pre><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/8cffb4979a168f57e42c05b30053b9c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:60/0*TLSsHK1v8vxqCF99"/></div></figure><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nl"><img src="../Images/7de95feea974e50da6e24c071b794e76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ePvQsX1geztqWYfL.png"/></div></div></figure><p id="1b06" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è¦æŸ¥çœ‹è¿™ä¸ªæ‰“å¼€çš„minikubeä»ªè¡¨æ¿</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="8fa6" class="mm lb it mi b gy mn mo l mp mq">minikube dashboard</span></pre><p id="f0be" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ç°åœ¨æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªæœåŠ¡æ¥è¿æ¥åˆ°æˆ‘ä»¬éƒ¨ç½²çš„pod</p><p id="0a2b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ä½¿ç”¨å‘½ä»¤åˆ›å»ºæœåŠ¡</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="37a8" class="mm lb it mi b gy mn mo l mp mq">kubectl apply -f hello-service.yaml</span></pre><p id="035f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ç°åœ¨å®Œæˆäº†ï¼Œæˆ‘ä»¬å°†æœ‰ä¸€ä¸ªè¿è¡Œçš„åº”ç”¨ç¨‹åºåˆ°ä¸€ä¸ªéšæœºçš„URL</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="fbdd" class="mm lb it mi b gy mn mo l mp mq">minikube service flask-service --url</span></pre><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nm"><img src="../Images/569f55312404f15d6b5023f1f5ff6f29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*R63fQ0UliyKX6UAF.png"/></div></div></figure><p id="c07e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è¾“å‡º:-</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/46fa72a876d6775b415e5f8f66657fc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/0*UeUg2n71n0tmMdE5.png"/></div></figure><p id="49fd" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ç°åœ¨æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªå…¥å£è§„åˆ™æ¥åœ¨æˆ‘ä»¬çš„æœåŠ¡å™¨ä¸Šæ‰˜ç®¡åº”ç”¨ç¨‹åº</p><h1 id="4716" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">ä¸ºK8såˆ›å»ºå…¥å£</h1><p id="e968" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">ä½¿ç”¨å‘½ä»¤åˆ›å»ºæœåŠ¡</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="c84a" class="mm lb it mi b gy mn mo l mp mq">kubectl apply -f hello-nginx-service.yaml</span></pre><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi no"><img src="../Images/51ab35ea46b90ae6c11b7e40eba18bf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/0*jOISsewi-jeZa0XV.png"/></div></figure><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/01e4ec23cccbf21554ece985207f25f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*V0xPWC0n4mMG2Rqd.png"/></div></div></figure><p id="9cbd" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æˆ‘ä»¬éœ€è¦å¯¹æˆ‘ä»¬çš„<strong class="kd iu"> /etc/hosts </strong>æ–‡ä»¶åšä¸€ä¸ªå°å°çš„æ”¹åŠ¨</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi np"><img src="../Images/d7d5d68f4549710615f757096919991d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SZyb7EzuVVwhLjQP.png"/></div></div></figure><p id="617f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">åƒè¿™æ ·æŠŠä¸Šé¢å¾—åˆ°çš„å€¼ç›¸åŠ </p><p id="13bb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æ‰€æœ‰è¿™äº›éƒ½å°†æˆä¸ºä½ çš„è¾“å‡º</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/97fe734f50853a2d54ad204326c80375.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/0*lZGljpkd92Fykkk1.png"/></div></figure><p id="6a82" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è¯·éšæ—¶è”ç³»æˆ‘</p><div class="mr ms gp gr mt mu"><a href="https://linkedin.com/in/alvisf" rel="noopener  ugc nofollow" target="_blank"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd iu gy z fp mz fr fs na fu fw is bi translated">é˜¿å°”ç»´æ–¯F -å®ä¹ ç”Ÿ- EY | LinkedIn</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">åœ¨å…¨çƒæœ€å¤§çš„èŒä¸šç¤¾åŒºLinkedInä¸ŠæŸ¥çœ‹Alvis Fçš„ä¸ªäººèµ„æ–™ã€‚é˜¿å°”ç»´æ–¯æœ‰4ä¸ªå·¥ä½œåˆ—åœ¨ä»–ä»¬çš„â€¦</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">linkedin.com</p></div></div><div class="nd l"><div class="nq l nf ng nh nd ni jz mu"/></div></div></a></div></div></div>    
</body>
</html>