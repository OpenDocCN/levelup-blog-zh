<html>
<head>
<title>How to Create Powerful Web Apps and Dashboards using Dash 2.0</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Dash 2.0创建强大的Web应用和仪表盘</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-create-powerful-web-apps-and-dashboards-using-dash-2-0-a05db174f20d?source=collection_archive---------1-----------------------#2021-09-14">https://levelup.gitconnected.com/how-to-create-powerful-web-apps-and-dashboards-using-dash-2-0-a05db174f20d?source=collection_archive---------1-----------------------#2021-09-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3aa0" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Python设计多页面Web应用程序</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/903f34d447dbbe5345d55df52384d433.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*snjGckVIBTFynAkP"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@brookecagle?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">布鲁克·卡吉尔</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><h1 id="15b1" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">不熟悉Dash或Python？</h1><p id="cecd" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">自从我创建了<a class="ae ky" href="http://pythondashboards.com" rel="noopener ugc nofollow" target="_blank">pythondashboards.com</a>来帮助人们学习<a class="ae ky" href="https://dash.plotly.com/" rel="noopener ugc nofollow" target="_blank"> Dash框架</a>以来，已经有一年多了，到目前为止，我的教程已经获得了超过30万的浏览量。我真诚地感谢所有支持我并发现我的内容有帮助的人。我感谢反馈，并将继续发布内容来帮助初学者和其他人掌握Dash库。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mn"><img src="../Images/2eb95f10a8bd8a810f75991796351b4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4pQWAymB8lMrSqFwxDPpXA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">读者的评价。作者图片</figcaption></figure><p id="0100" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">在本文中，我先来看看Dash 2！Plotly最近宣布了它，并提供了预发布版本。它是99%向后兼容的，但是当在Dash 2.0中启动旧的1.x代码时，你仍然会看到一些警告。</p><h2 id="698a" class="mt la it bd lb mu mv dn lf mw mx dp lj ma my mz ll me na nb ln mi nc nd lp ne bi translated">入门指南</h2><p id="e9cd" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">创建一个新的Python环境，然后用:<code class="fe nf ng nh ni b">pip install dash==2.0.0rc2</code>安装Dash 2。</p><p id="5fea" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">对于完全的初学者，我将解释如何创建一个简单的Dash 2.0 web应用程序，然后看一个使用多个页面和选项卡的复杂示例！</p><p id="2155" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">如果你是一个短跑初学者或者需要复习，这是最适合你的文章。它分为5个主要部分:</p><p id="d9d9" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">1.什么是破折号<br/> 2。仪表板基础知识<br/> 3。创建一个简单的Dash应用程序<br/> 4。造型仪表板应用程序<br/> 5。创建一个复杂的Dash应用程序BattleTech应用程序(在我的github上找到完整的代码)</p><p id="d5da" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated"><a class="ae ky" href="https://go.plotly.com/announcing-dash-2" rel="noopener ugc nofollow" target="_blank">如果你已经是Dash专业人士，只想看看2.0中的新功能，请查看公告页面</a>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/0f4273cd7d95970c41da9dca2132475e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CS-0SA4FknvdxBlN04PyGA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">BattleTech应用(图片由作者提供)</figcaption></figure><h1 id="ffe1" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">Dash是什么？</h1><p id="560b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Dash by Plotly是一个基于Flask、Plotly.js和React.js编写的强大的Python框架，它将这些技术的复杂性抽象为易于应用的组件。任何有一点Python和HTML经验的人都会觉得Dash使他们能够毫不费力地创建基于web的交互式应用程序，如网站和仪表盘。引用Dash文档“Dash非常简单，您可以在一个下午的时间内围绕您的Python代码绑定一个用户界面。”</p><p id="8cda" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">Dash是一个强大的工具，非常适合Python程序员。它有一个不断增长的社区，充满了热情的开发者和创造者。由于该框架是开源的，<a class="ae ky" href="https://plotly.com/dash-community-components/" rel="noopener ugc nofollow" target="_blank">社区开发了一些非常酷的组件，可以集成到任何Dash应用程序中</a>！此外，正如我们在2.0版本中看到的，Plotly团队正在继续开发和改进Dash，以进一步简化用户体验。</p><h1 id="7265" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">仪表板基础</h1><p id="3e95" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">虽然Dash的设计考虑到了分析，但是<a class="ae ky" href="https://medium.com/swlh/how-to-start-a-business-in-an-afternoon-using-python-and-dash-48a8cb08f290" rel="noopener">完全可以使用Dash来设计博客、联盟营销或电子商务等网站</a>。使用Dash，您不需要从头开始编写任何HTML或CSS，尽管理解每种语言的基础对用户界面设计肯定有帮助。</p><p id="c1e1" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">Dash应用程序主要由两部分组成:</p><p id="f003" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">1.布局</p><p id="56ab" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">2.复试</p><h2 id="a439" class="mt la it bd lb mu mv dn lf mw mx dp lj ma my mz ll me na nb ln mi nc nd lp ne bi translated">仪表板布局</h2><p id="d8b8" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">布局由组件树组成，描述应用程序的外观以及用户如何体验内容。如果熟练掌握JavaScript和React.js，可以构建自己的组件；然而，Dash附带了多个组件库，如<strong class="lt iu"> dash_core_components </strong>、<strong class="lt iu"> dash_html_components </strong>和<strong class="lt iu"> Dash DataTable </strong>。</p><p id="c023" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated"><strong class="lt iu"><em class="nk">Dash 2.0</em></strong>中新增，用户现在可以创建<a class="ae ky" href="https://dash.plotly.com/all-in-one-components" rel="noopener ugc nofollow" target="_blank">一体化组件(AIOC) </a>，本质上是用纯Python编写的可共享组件。稍后我会介绍更多关于AIOC的内容。</p><p id="b853" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated"><strong class="lt iu"> dash_html_components </strong>库几乎为每个html标签都提供了一个组件。<strong class="lt iu"> dash_core_components </strong>库包括更高级别的交互式组件，如按钮、输入字段、图表和下拉菜单。Dash DataTable 使得将可过滤的、分页的数据表集成到你的应用程序中变得容易。查看文档以获得核心组件库的完整列表。</p><h2 id="4c14" class="mt la it bd lb mu mv dn lf mw mx dp lj ma my mz ll me na nb ln mi nc nd lp ne bi translated">Dash回调</h2><p id="5dbb" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">回调是让Dash应用程序交互的逻辑所在。现在，只要理解回调是Python函数，只要输入组件的属性改变，就会自动调用它。例如，想象一个网站上的按钮。单击时，会在后台触发一个回调，触发按钮的功能。可以链接回调，使一个更改触发整个应用程序的多个更新。</p><p id="34a8" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">基本上，回调由<strong class="lt iu"> <em class="nk">输入</em> </strong>和<strong class="lt iu"> <em class="nk">输出</em> </strong>组成。该功能通过app.callback <a class="ae ky" href="https://www.python-course.eu/python3_decorators.php" rel="noopener ugc nofollow" target="_blank"> decorator </a>实现。输入和输出只是用户可以与之交互的组件的属性。例如，输入可以是从下拉列表中选择的选项，输出可以是可视化。假设我有一个州的下拉列表，当我选择CA时，加利福尼亚会在地图上突出显示。</p><p id="7a22" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated"><strong class="lt iu"><em class="nk">Dash 2.0中新增的</em> </strong>，<code class="fe nf ng nh ni b">app.callback</code>接受各种输入和输出参数形状，如字典、分组元组等等。这使得回调签名比Dash 1灵活得多。例如:</p><pre class="kj kk kl km gt nl ni nm nn aw no bi"><span id="14a3" class="mt la it ni b gy np nq l nr ns"><a class="ae ky" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.callback( <br/>    output={'x':Output(...), 'y':Output(...)},<br/>    inputs=dict(a=Input(...), b=Input(...)),<br/>def callback(a, b):<br/>    return dict(x=a *a, y=a * b)</span></pre><h1 id="f76d" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">创建一个简单的Dash 2.0应用</h1><p id="96a7" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">看一些代码，基础知识会更有意义，所以让我们按照以下四个步骤构建一个简单的Dash应用程序:</p><p id="46e7" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">步骤1: <br/>导入依赖项，如Dash和组件库。</p><p id="18b4" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated"><strong class="lt iu"> <em class="nk">在Dash 2.0中新增，</em> </strong>导入被简化。在Dash 1中，每个应用程序都有几行相同的样本导入。Dash 2合并了包，允许在一行中完成导入:</p><pre class="kj kk kl km gt nl ni nm nn aw no bi"><span id="0060" class="mt la it ni b gy np nq l nr ns">from dash import Dash, Input, Output, State, html, dcc, dash_table, callback</span></pre><p id="bdb4" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">注意<strong class="lt iu">回调</strong>包含在依赖项中。使用<strong class="lt iu"> <em class="nk">回调</em> </strong>装饰器是Dash 1中常用的<strong class="lt iu"> <em class="nk"> app.callback </em> </strong>的替代方法。当构建All in One组件时，使用alternative decorator非常有用。</p><p id="426e" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">步骤2: <br/>使用这段代码实例化应用程序:</p><pre class="kj kk kl km gt nl ni nm nn aw no bi"><span id="b5f6" class="mt la it ni b gy np nq l nr ns">app = Dash(__name__)</span></pre><p id="d4dc" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">步骤3: <br/>使用<a class="ae ky" href="https://dash.plotly.com/dash-html-components" rel="noopener ugc nofollow" target="_blank"> Dash HTML组件</a>定义布局。</p><pre class="kj kk kl km gt nl ni nm nn aw no bi"><span id="7ceb" class="mt la it ni b gy np nq l nr ns">app.layout = html.Div(id = 'div1', children = [html.H1("My first Dash app!")])</span></pre><p id="23e6" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">步骤4: <br/>使用下面的样板代码运行服务器。Dash使用Flask作为其服务器后端，因此您可以将<em class="nk"> debug=True </em>传递到服务器调用中以启用一些诊断。</p><pre class="kj kk kl km gt nl ni nm nn aw no bi"><span id="7865" class="mt la it ni b gy np nq l nr ns">if __name__ == "__main__":<br/>     app.run_server(debug = True) </span></pre><p id="e2cd" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">综合起来，代码将如下所示:</p><pre class="kj kk kl km gt nl ni nm nn aw no bi"><span id="2e74" class="mt la it ni b gy np nq l nr ns">#step 1<br/>from dash import Dash, Input, Output, State, html, dcc, dash_table, callback</span><span id="c64b" class="mt la it ni b gy nt nq l nr ns">#step 2<br/>app = Dash(__name__)</span><span id="658a" class="mt la it ni b gy nt nq l nr ns">#step 3<br/>app.layout = html.Div(id = ‘div1’, children = [html.H1("My first Dash 2.0 app!")])</span><span id="c06e" class="mt la it ni b gy nt nq l nr ns">#step 4<br/>if __name__ == "__main__":<br/>     app.run_server(debug = True)</span></pre><p id="3f1f" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">注意在步骤3中<strong class="lt iu"> app.layout </strong>是我们开始构建Dash应用组件树的地方。通常的做法是以html开始布局。Div 组件，因为HTML &lt; div &gt;标签充当容器并定义HTML文档中的分部或部分。</p><p id="d30a" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">注意这个<strong class="lt iu"> html。Div </strong>组件的属性:<strong class="lt iu"> id </strong>和<strong class="lt iu">子级</strong>。</p><p id="e374" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">它们是所有Dash HTML组件的属性。在后面的例子中，我们将在回调中使用id值，并使用回调来动态加载孩子。我在这个例子中添加了孩子，但是默认情况下，我们不需要显式声明<em class="nk"> children= </em>，因为这个例子中的代码非常简单。代码可以简单地是<strong class="lt iu"> html。Div([html。H1(……)])</strong>。</p><p id="8afb" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated"><strong class="lt iu"> html。H1 </strong>组件在<strong class="lt iu"> html中。Div </strong>为文本创建一个<em class="nk">一级</em>标题。</p><h2 id="0173" class="mt la it bd lb mu mv dn lf mw mx dp lj ma my mz ll me na nb ln mi nc nd lp ne bi translated">运行应用程序</h2><p id="7078" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">通过键入以下内容，在控制台中运行应用程序:</p><pre class="kj kk kl km gt nl ni nm nn aw no bi"><span id="198a" class="mt la it ni b gy np nq l nr ns">$ python medium1.py</span></pre><p id="726d" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">然后在web <strong class="lt iu"> </strong>浏览器中访问<a class="ae ky" href="http://127.0.0.1:8050/" rel="noopener ugc nofollow" target="_blank"> http://127.0.0.1:8050/ </a>。<strong class="lt iu"> </strong>控制台中将显示以下内容:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/fee3d02846ee8ee8ec30af94598bd1d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1364/format:webp/1*aV5T400yVL55KYP_draOBg.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">Dash应用程序运行(图片由作者提供)</figcaption></figure><p id="220c" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">当您转到该URL时，您应该会看到如下所示的页面:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/d998710c0bb7587226a9ec14bf591672.png" data-original-src="https://miro.medium.com/v2/resize:fit:658/format:webp/1*hVDzbw7y1kbpDqSY2RDIvA.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">Dash 2.0应用程序(图片由作者提供)</figcaption></figure><p id="b1ce" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">在引擎盖下，Python代码基本上被转换成HTML，如下所示:</p><pre class="kj kk kl km gt nl ni nm nn aw no bi"><span id="6767" class="mt la it ni b gy np nq l nr ns">&lt;div&gt;</span><span id="a949" class="mt la it ni b gy nt nq l nr ns">&lt;h1&gt;My first Dash app!&lt;/h1&gt;</span><span id="b751" class="mt la it ni b gy nt nq l nr ns">&lt;/div&gt;</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/fcf3300676fc4010dfafde3fd755df8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1186/format:webp/1*6uEtUaPgiPB7DpmC337s-A.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Glossary/Element" rel="noopener ugc nofollow" target="_blank">https://developer.mozilla.org/en-US/docs/Glossary/Element</a></figcaption></figure><p id="0d24" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">如果你将它复制到一个文本文件中并保存为一个<em class="nk">。你会在你的Dash应用中看到同样的东西！</em></p><p id="f0dc" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">使用HTML组件来定义Dash应用程序的外观。以下是一些常见的HTML组件。我建议阅读Dash html组件文档，通过将这些组件添加到我们刚刚创建的示例应用程序中来研究它们，看看它们如何影响布局:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/547c39c42718ecef70f679365142afb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H6EEURoPQD44hvYx_NvKow.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">常见html组件(图片由作者提供)</figcaption></figure><h1 id="7165" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">设计Dash应用程序</h1><p id="15a1" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">大多数HTML组件都有一个样式参数，允许你传递一个带有CSS的字典来修改组件的外观。例如，如果我们想在第一个应用程序示例中添加一个<strong class="lt iu"> <em class="nk">背景图像</em> </strong>，我们可以在html.Div中添加<strong class="lt iu"> <em class="nk">样式</em> </strong>。代码如下所示:</p><pre class="kj kk kl km gt nl ni nm nn aw no bi"><span id="4dc5" class="mt la it ni b gy np nq l nr ns">html.Div(<strong class="ni iu">style={<br/>        'background-image': 'url("/assets/btimage1.png")',<br/>        'background-position': 'center',<br/>        }</strong><br/>        ,id = 'div1'<br/>        , children = [<br/>            html.H1("My first Dash 2.0 app!")<br/>            , html.Br()<br/>            , html.H1("This app has been styled with an image.")<br/>            , html.Br()<br/>            , html.H1("This text is black.")<br/>            , html.Br()<br/>            , html.H1(<strong class="ni iu">style = {'color':'red'}</strong><br/>                       , children=["This text is red."])<br/>            <br/>          ]#end children<br/>       )#end div</span></pre><p id="e924" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">注意，我给html添加了样式。H1的成分也一样。输出结果是这样的(图像可能有所不同):</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/ab8844670b4435f8b04de2557b3f043b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/1*UfJPZkNeG0-2P2hnj5Uerg.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">带造型的Dash应用程序(图片由作者提供，包含来自BattleTech universe的图片[1])</figcaption></figure><h2 id="191d" class="mt la it bd lb mu mv dn lf mw mx dp lj ma my mz ll me na nb ln mi nc nd lp ne bi translated">什么是CSS？</h2><p id="ef47" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">级联样式表(CSS)通常是外部文件，可以描述webapp中的HTML元素在设备上的显示方式。样式表很有用，因为它们可以一次影响多个页面，因此如果在后台使用多个页面，可以节省大量时间和精力。CSS本质上允许我们定义Dash应用程序的风格，它影响用户界面在不同屏幕尺寸上的显示方式。</p><h2 id="09d3" class="mt la it bd lb mu mv dn lf mw mx dp lj ma my mz ll me na nb ln mi nc nd lp ne bi translated">仪表板引导组件</h2><p id="b13c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">除了Dash的核心库，我还使用Dash Bootstrap组件库来简化网站<a class="ae ky" href="https://en.wikipedia.org/wiki/Responsive_web_design" rel="noopener ugc nofollow" target="_blank">响应式设计</a>。类似于Dash HTML组件库允许您使用Python应用HTML，Dash Bootstrap CSS组件库允许您应用受Bootstrap CSS框架影响的Bootstrap前端组件。引用文档:</p><blockquote class="nz oa ob"><p id="eb9c" class="lr ls nk lt b lu mo ju lw lx mp jx lz oc mq mc md od mr mg mh oe ms mk ml mm im bi translated">“dash-bootstrap-components依赖Twitter Bootstrap。要使用这个包，请将引导样式表注入到应用程序中。为了方便起见，主题模块中包含了到托管在<a class="ae ky" href="https://www.bootstrapcdn.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="lt iu"> bootstrapcdn </strong> </a>上的引导CSS的链接。</p></blockquote><p id="56b3" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated"><strong class="lt iu">使用pip安装Dash引导组件库:</strong></p><pre class="kj kk kl km gt nl ni nm nn aw no bi"><span id="a565" class="mt la it ni b gy np nq l nr ns">pip install dash-bootstrap-components</span></pre><p id="7152" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated"><a class="ae ky" href="https://medium.com/swlh/dashboards-in-python-for-beginners-using-dash-responsive-mobile-dashboards-with-bootstrap-css-2a0d05a53cf6" rel="noopener">bootstrap CSS中的响应式<em class="nk">网格系统</em>和方便的<em class="nk">容器</em>包装器允许大量定制</a>。它有助于使网站在移动设备上看起来更好，这在当今很重要。点击这里查看我的深入教程:</p><div class="of og gp gr oh oi"><a href="https://medium.com/swlh/dashboards-in-python-for-beginners-using-dash-responsive-mobile-dashboards-with-bootstrap-css-2a0d05a53cf6" rel="noopener follow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">Python中的仪表盘，适合使用Dash的初学者——带有引导CSS的响应式移动仪表盘…</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">使用Python构建移动就绪的仪表盘和应用程序！Dash和Bootstrap CSS组件使其易于制作…</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">medium.com</p></div></div><div class="or l"><div class="os l ot ou ov or ow ks oi"/></div></div></a></div><p id="705a" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">Bootstrap的<a class="ae ky" href="https://dash-bootstrap-components.opensource.faculty.ai/docs/components/layout/" rel="noopener ugc nofollow" target="_blank">网格系统</a>使用一系列容器、行和12列，用户可以在其中布置和对齐内容。这些已经作为组件包含在<strong class="lt iu">dash-bootstrap-components</strong><em class="nk"/>库中，分别为<em class="nk"> </em> <code class="fe nf ng nh ni b">Container</code>、<code class="fe nf ng nh ni b">Row</code>、<code class="fe nf ng nh ni b">Col</code></p><h2 id="7b26" class="mt la it bd lb mu mv dn lf mw mx dp lj ma my mz ll me na nb ln mi nc nd lp ne bi translated">网格系统的一个简单例子</h2><p id="a10c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">要将应用程序配置为使用默认的引导CSS主题运行，当我们实例化Dash应用程序时，您将需要包含这段样板代码，因为我们需要将stypesheet注入Dash应用程序:</p><pre class="kj kk kl km gt nl ni nm nn aw no bi"><span id="eab5" class="mt la it ni b gy np nq l nr ns">app = Dash(__name__, external_stylesheets =[dbc.themes.BOOTSTRAP])</span></pre><p id="8f4a" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">注意这是设置外部样式表的地方。如果我们使用自己的定制CSS样式表，它将取代<em class="nk"> dbc.themes.BOOTSTRAP </em>。</p><p id="3bf8" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">导入依赖项时，包含<strong class="lt iu">dash _ bootstrap _ components</strong>库，并将其别名为<strong class="lt iu"> dbc </strong>。</p><pre class="kj kk kl km gt nl ni nm nn aw no bi"><span id="629c" class="mt la it ni b gy np nq l nr ns">import dash_bootstrap_components as dbc<br/>from dash import Dash, Input, Output, State, html, dcc, dash_table, callback</span><span id="d07d" class="mt la it ni b gy nt nq l nr ns">#step 2<br/>app = Dash(__name__)</span><span id="966c" class="mt la it ni b gy nt nq l nr ns">#step 3<br/>app.layout = html.Div([ <br/>         html.H1("Bootstrap Grid System Example")<br/>         , dbc.Row(dbc.Col(html.Div(dbc.Alert("This is one column", color= "primary")))<br/>                   )#end row 1<br/>         , dbc.Row([<br/>              dbc.Col(html.Div(dbc.Alert("One of three columns", color= "primary")))<br/>              , dbc.Col(html.Div(dbc.Alert("One of three columns", color= "primary")))<br/>              , dbc.Col(html.Div(dbc.Alert("One of three columns", color= "primary")))<br/>              ]) #end row 2<br/>         ]) #end div</span><span id="89f0" class="mt la it ni b gy nt nq l nr ns">#step 4<br/>if __name__ == "__main__":<br/>     app.run_server(debug = True)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/16f8c2a836f8827eecb6fd2cb0965469.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/format:webp/1*2b-YTfWO4KQ2-hwkJpw88g.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">Boot Strap Grid Dash应用程序(图片由作者提供)</figcaption></figure><h1 id="77b4" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">一个复杂的应用程序示例—设计BattleTech Alpha Strike应用程序</h1><p id="e322" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">既然我们已经建立了如何使用简单的html和bootstrap组件创建应用程序布局，现在是时候看看一个使用回调的更复杂的例子了。这是我为游戏BattleTech Alpha Strike创建的一个应用程序，用来帮助我分析我的力量。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/f99c4c65dce0921b2496f34235e62744.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ymea5VGbrB6bccJ7IBz9ww.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">作者提供的BattleTech应用图片</figcaption></figure><p id="0e25" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">应用程序的文件结构如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/807e38ff0cb3299e9e9a3d957b451511.png" data-original-src="https://miro.medium.com/v2/resize:fit:682/format:webp/1*x96GrGDSgTAPOGg-DZn0gw.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">文件结构(作者图片)</figcaption></figure><p id="818b" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">我将分解每个文件夹的用途、内容，并解释我是如何将所有代码放在一起的。</p><h2 id="404c" class="mt la it bd lb mu mv dn lf mw mx dp lj ma my mz ll me na nb ln mi nc nd lp ne bi translated">资产文件夹</h2><p id="ea01" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">正如我们在前面的例子中看到的，资产文件夹被Dash用来存储静态文件，比如图像。如果您想让Dash正确地识别静态数据，您必须始终将它们存储在名为assets的文件夹中。</p><h2 id="9034" class="mt la it bd lb mu mv dn lf mw mx dp lj ma my mz ll me na nb ln mi nc nd lp ne bi translated">数据库文件夹</h2><p id="627e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">支持该应用的数据库和其他数据文件(csv、xlsx等)包含在这里，还有一个包含数据转换代码的python文件。</p><p id="e49c" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">数据集来自<a class="ae ky" href="http://www.masterunitlist.info/" rel="noopener ugc nofollow" target="_blank"> Battletech主单位列表</a>。从Kaggle.com可以下载到<a class="ae ky" href="https://www.kaggle.com/bendgame/battletechbattlemech-unit-data" rel="noopener ugc nofollow" target="_blank">的一组数据。</a></p><h2 id="00e1" class="mt la it bd lb mu mv dn lf mw mx dp lj ma my mz ll me na nb ln mi nc nd lp ne bi translated">标签文件夹</h2><p id="79f6" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">为了避免用所有的应用程序代码创建一个单一的长文件，我把代码分成易于管理的文件。需要添加新标签页吗？轻松点。只需添加一个新的选项卡文件，并更新index.py文件来查找新的选项卡。</p><h1 id="b862" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">编写应用程序</h1><p id="be60" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在创建应用程序布局和回调之前，我们需要确保数据按照我们想要的方式进行转换。<a class="ae ky" href="https://medium.com/codex/exploring-the-battlemechs-from-the-battletech-master-unit-list-using-python-58f83a7098b3" rel="noopener">许多数据转换在我以前写的一篇文章中有深入的描述，所以我只简单介绍一下</a>。</p><h2 id="0b3d" class="mt la it bd lb mu mv dn lf mw mx dp lj ma my mz ll me na nb ln mi nc nd lp ne bi translated">命名规格</h2><p id="6284" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">使用回调，我们将为组件分配一个ID。当给一个组件分配一个ID时，我发现有一个命名约定很有帮助。我总是用小写字母和破折号分开单词。</p><p id="bcdf" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">例如，这是我的命名约定。</p><h2 id="76e9" class="mt la it bd lb mu mv dn lf mw mx dp lj ma my mz ll me na nb ln mi nc nd lp ne bi translated">Transformations.py</h2><p id="cf3b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">转换可以分为以下几个部分:</p><ol class=""><li id="c52c" class="pa pb it lt b lu mo lx mp ma pc me pd mi pe mm pf pg ph pi bi translated">将数据读入熊猫数据框。</li><li id="db9b" class="pa pb it lt b lu pj lx pk ma pl me pm mi pn mm pf pg ph pi bi translated">删除不需要的列。</li><li id="5f72" class="pa pb it lt b lu pj lx pk ma pl me pm mi pn mm pf pg ph pi bi translated">设置数据类型</li><li id="5e4b" class="pa pb it lt b lu pj lx pk ma pl me pm mi pn mm pf pg ph pi bi translated">计算应用程序中可视化的值。</li></ol><pre class="kj kk kl km gt nl ni nm nn aw no bi"><span id="1993" class="mt la it ni b gy np nq l nr ns">import pandas as pd<br/>import re<br/>import plotly.graph_objs as go<br/>from dash import Dash, callback, html, dcc, dash_table, Input, Output</span><span id="dd18" class="mt la it ni b gy nt nq l nr ns">#read the data<br/>df = pd.read_csv(r"BTdata.csv", header = 0)</span><span id="382b" class="mt la it ni b gy nt nq l nr ns">#drop unwanted columns<br/>df = df.drop(columns=['Unnamed: 0'])</span><span id="d7e6" class="mt la it ni b gy nt nq l nr ns">#set data types<br/>df['Type']=df['Type'].astype(str)<br/>df['Abilities']=df['Abilities'].astype(str)<br/>df['Move']=df['Move'].astype(str)<br/>df['Type'] = [v.replace('bm', 'BM') for v in df['Type']]</span><span id="0f53" class="mt la it ni b gy nt nq l nr ns">df = df.sort_values('Name')<br/>df = df.reset_index()<br/>df = df.drop(columns=['index'])</span><span id="c7d7" class="mt la it ni b gy nt nq l nr ns">#create subsets of battlemechs by size<br/>bmm1 = df.loc[(df['BFSize']==1) &amp; (df['BFType']=='BM')]<br/>bmm2 = df.loc[(df['BFSize']==2) &amp; (df['BFType']=='BM')]<br/>bmm3 = df.loc[(df['BFSize']==3) &amp; (df['BFType']=='BM')]<br/>bmm4 = df.loc[(df['BFSize']==4) &amp; (df['BFType']=='BM')]</span><span id="048b" class="mt la it ni b gy nt nq l nr ns">#calucalte mean values for each subset<br/>me1 = pd.DataFrame(dict(<br/>    r=[bmm1['BFArmor'].mean().round(2), bmm1['BFStructure'].mean().round(2), bmm1['BFTMM'].mean().round(2),  bmm1['BFDamageShort'].mean().round(2), bmm1['BFDamageMedium'].mean().round(2), bmm1['BFDamageLong'].mean().round(2)],<br/>    theta=['Armor','Structure','TMM', 'Short','Medium','Long']))</span><span id="ebf0" class="mt la it ni b gy nt nq l nr ns">me2 = pd.DataFrame(dict(<br/>    r=[bmm2['BFArmor'].mean().round(2), bmm2['BFStructure'].mean().round(2), bmm2['BFTMM'].mean().round(2),  bmm2['BFDamageShort'].mean().round(2), bmm2['BFDamageMedium'].mean().round(2), bmm2['BFDamageLong'].mean().round(2)],<br/>    theta=['Armor','Structure','TMM', 'Short','Medium','Long']))</span><span id="91ea" class="mt la it ni b gy nt nq l nr ns">me3 = pd.DataFrame(dict(<br/>    r=[bmm3['BFArmor'].mean().round(2), bmm3['BFStructure'].mean().round(2), bmm3['BFTMM'].mean().round(2),  bmm3['BFDamageShort'].mean().round(2), bmm3['BFDamageMedium'].mean().round(2), bmm3['BFDamageLong'].mean().round(2)],<br/>    theta=['Armor','Structure','TMM', 'Short','Medium','Long']))</span><span id="9301" class="mt la it ni b gy nt nq l nr ns">me4 = pd.DataFrame(dict(<br/>    r=[bmm4['BFArmor'].mean().round(2), bmm4['BFStructure'].mean().round(2), bmm4['BFTMM'].mean().round(2),  bmm4['BFDamageShort'].mean().round(2), bmm4['BFDamageMedium'].mean().round(2), bmm4['BFDamageLong'].mean().round(2)],<br/>    theta=['Armor','Structure','TMM', 'Short','Medium','Long']))</span></pre><p id="5dbd" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">请注意，BattleMech数据集分为四组，每种尺寸一组。然后对于每一组，计算平均值</p><h2 id="6bc6" class="mt la it bd lb mu mv dn lf mw mx dp lj ma my mz ll me na nb ln mi nc nd lp ne bi translated">侧板. py</h2><p id="66d8" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">侧面板可以分为四个部分，在app的整体布局中起着核心作用。在最高层，侧面板是由html组成的。包装<strong class="lt iu"> html的Div。Img </strong>和<strong class="lt iu"> dcc。排</strong>组件。该行包含两个<strong class="lt iu"> dbc。Col </strong>组件。第一列是<em class="nk"> width= 2 </em>，包含可以影响选项卡2上数据表可视化效果的过滤器。第二列是<em class="nk"> width= 10 </em>，包含选项卡呈现的空间。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi po"><img src="../Images/b74d267100a6eea4182a913ae16e4b2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aER16Uzc7U-c38RytS1bjQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">sidePanel.py文件高级组件。作者图片</figcaption></figure><p id="44eb" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">用于过滤应用程序中数据的组件包括一个<strong class="lt iu"> dcc。检查表</strong>、<strong class="lt iu"> dcc。滑块</strong>和<strong class="lt iu"> dcc.Dropdown. </strong>每个部分使用<strong class="lt iu"> dbc。卡</strong>组件作为容器。使用像卡片这样的容器可以帮助防止应用程序“抖动”，这是一个结构不良的引导组件可能发生的问题。</p><pre class="kj kk kl km gt nl ni nm nn aw no bi"><span id="914f" class="mt la it ni b gy np nq l nr ns">import plotly<br/>import dash_bootstrap_components as dbc <br/>import pandas<br/>from dash import Dash, callback, html, dcc, dash_table, Input, Output, State, MATCH, ALL<br/>from tabs import tab1, tab2                    <br/>from database import transforms</span><span id="b866" class="mt la it ni b gy nt nq l nr ns">df = transforms.df<br/>min_p=df.Points.min()<br/>max_p=df.Points.max()</span><span id="9fad" class="mt la it ni b gy nt nq l nr ns">def side_panel():<br/>    sp = <strong class="ni iu">html.Div([</strong><br/>      <strong class="ni iu">html.Img</strong>(src= "/assets/BattleTech_Logo.png")<br/>      , <strong class="ni iu">dbc.Row([dbc.Col(</strong><br/>        html.Div([dbc.Card(dbc.CardBody([<br/>         html.H2('Filters')<br/>         ,dcc.Checklist(id='battlemech-only'<br/>           , options = [{'label':' Only BattleMechs '<br/>                , 'value':'Y'}]<br/>           ) #end checklist<br/>          , html.H5('Points Slider')<br/>          , dcc.RangeSlider(id='points-slider'<br/>            , min = min_p<br/>            , max= max_p<br/>            , marks = {0: '0',<br/>                    20: '20',<br/>                    40: '40',<br/>                    60: '60',<br/>                    80: '80',<br/>                    100: '100',<br/>                    }<br/>            , value = [1,100]<br/>            ) #end slider            <br/>          , html.H5('Role')<br/>          , dcc.Dropdown(id = 'role-drop'<br/>            , options= [{'label':i, 'value': i} <br/>                    for i in sorted(df['Role'].unique())]<br/>            , multi = True<br/>            )<br/>            ]))        <br/>        ], style={'marginBottom': 50, 'marginTop': 25<br/>                , 'marginLeft':15, 'marginRight':15}<br/>        ) #end div  <br/>            <strong class="ni iu">, width=2<br/>        )#end col 1</strong><br/>    <br/>#card wraps tab display<br/>    <strong class="ni iu">, dbc.Col</strong>(html.Div( children=[<br/>         dbc.Card(dbc.CardBody([<br/>           dcc.Tabs(id="tabs", value='tab-1', children=[<br/>             dcc.Tab(label='Unit Explorer', value='tab-1')<br/>             , dcc.Tab(label='Macro Analysis', value='tab-2')<br/>            ])<br/>           ]))#end card<br/>        , html.Div(id='tabs-content')<br/>        <strong class="ni iu">]), width=10)</strong> #end col 2<br/>        ])#end row <br/>    ],style={<br/>        'background-image': 'url("/assets/btimage1.png")',<br/>        'background-position': 'center',<br/>        <strong class="ni iu">}) #end div</strong><br/>    <br/>    return sp</span></pre><p id="27e8" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">注意为<strong class="lt iu"> dcc设置的<em class="nk"> id </em>。为<strong class="lt iu"> dcc设置的标签</strong>和<em class="nk">值</em>。标签</strong>。这些是我将编写的回调的<em class="nk">输入</em>，以使标签交互并返回一个布局。作为回调的输出，我将使用来自<strong class="lt iu"> html的<em class="nk"> id </em>值“tabs-content”。Div(id='tabs-content') </strong>。如果我在没有回调的情况下运行应用程序，它看起来会像这样:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pp"><img src="../Images/12c29f01cb43b56299415f52be5553c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jRo8iOpb1oDtcdk080mggg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">空白标签(作者图片)</figcaption></figure><h2 id="84db" class="mt la it bd lb mu mv dn lf mw mx dp lj ma my mz ll me na nb ln mi nc nd lp ne bi translated">选项卡&gt; tab1.py</h2><p id="8f75" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">第一个选项卡包含<strong class="lt iu"> dash_table。数据表</strong>组件，显示单位并允许用户选择一个。<a class="ae ky" href="https://plotly.com/python/reference/scatterpolar/#scatterpolar" rel="noopener ugc nofollow" target="_blank">数据表旁边是<strong class="lt iu"> go。来自Plotly库</strong></a>的散点图图形对象。它在<strong class="lt iu"> dcc内。绘制</strong>组件，并显示所选单元与每个尺寸的平均单元相比的情况。布局使用1个<strong class="lt iu"> dbc。带2个<strong class="lt iu"> dbc的</strong>排。Col </strong>，每个<em class="nk">宽度=6 </em>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pq"><img src="../Images/8e4862b77977a417871c4e930a4fbb6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8SSHqjJekNbTWFVua8TDiw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">表1数据表和雷达图(图片由作者提供)</figcaption></figure><pre class="kj kk kl km gt nl ni nm nn aw no bi"><span id="399c" class="mt la it ni b gy np nq l nr ns">import plotly<br/>import dash_bootstrap_components as dbc <br/>import pandas as pd<br/>from database import transforms<br/>import plotly.graph_objects as go<br/>from dash import Dash, callback, html, dcc, dash_table, Input, Output, State, MATCH, ALL</span><span id="1bb1" class="mt la it ni b gy nt nq l nr ns">df = transforms.df</span><span id="5e07" class="mt la it ni b gy nt nq l nr ns">def tab1():<br/>    PAGE_SIZE = 15<br/>    layout =  html.Div(children =[dbc.Row(<br/>     [dbc.Col(dbc.Card([dbc.CardBody(<br/>      [html.H2('Select a unit:'), dash_table.DataTable(<br/>        id='table-sorting-filtering'<br/>        , columns=[{'name': i, 'id': i} for i in df.columns]<br/>        , style_table={'height':'600px'<br/>            ,'overflowX': 'scroll'}<br/>        , style_data_conditional=[<br/>             {'if': {'row_index': 'odd'}<br/>             , 'backgroundColor': 'rgb(248, 248, 248)'<br/>            }]<br/>        , style_cell={<br/>            'height': '30'<br/>            # all three widths are needed<br/>            , 'minWidth': '120px'<br/>            , 'width': '120px'<br/>            , 'maxWidth': '190px'<br/>            , 'textAlign': 'left'<br/>            , 'whiteSpace': 'normal'<br/>        }<br/>        , style_cell_conditional=[<br/>            {'if': {'column_id': 'Name'},<br/>            'width': '900px'},<br/>            # {'if': {'column_id': 'title'},<br/>            # 'width': '18%'},<br/>        ],<br/>        page_current= 0,<br/>        row_selectable="single",<br/>        page_size= PAGE_SIZE,<br/>        page_action='custom',<br/>        filter_action='custom',<br/>        filter_query='',<br/>        sort_action='custom',<br/>        sort_mode='multi',<br/>        sort_by=[]<br/>        )#end data table<br/>        ])])#end card<br/>        , width=6)#end col</span><span id="d491" class="mt la it ni b gy nt nq l nr ns">#Column for radar Graph                    <br/>    ,  dbc.Col(dbc.Card(dbc.CardBody(html.Div(id = 'radar-graph'))), width=6)</span><span id="6096" class="mt la it ni b gy nt nq l nr ns">    ])#end row   <br/>    ])#end div</span><span id="78d1" class="mt la it ni b gy nt nq l nr ns">    return layout</span><span id="6826" class="mt la it ni b gy nt nq l nr ns">layout = tab1()</span></pre><p id="e2df" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">注意<a class="ae ky" href="https://plotly.com/python/reference/scatterpolar/#scatterpolar" rel="noopener ugc nofollow" target="_blank"> <strong class="lt iu">散点图</strong> </a>是<strong class="lt iu"> html的子元素。Div </strong>。当用户在数据表上选择unit时，它由回调动态生成。数据表设置为对结果进行分页，每页显示15条记录。它还允许多重排序和过滤。选项卡的逻辑和回调位于index.py文件中。</p><h2 id="4689" class="mt la it bd lb mu mv dn lf mw mx dp lj ma my mz ll me na nb ln mi nc nd lp ne bi translated">选项卡&gt; tab2.py</h2><p id="bbe4" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">第二个选项卡显示更宏观的分析，显示一些散点图，使用侧面板中的控件可以过滤这些散点图。布局相当简单，因为图形是由回调动态生成的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pr"><img src="../Images/e701a85ee3a340d8164e2f1bb5ba8e5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zCgu7BV0DISvH9ETLQ1Z6g.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">Tab2(作者图片)</figcaption></figure><p id="832a" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">布局由一对<strong class="lt iu"> dbc组成。卡</strong>组件堆叠在一个<strong class="lt iu"> html中。Div </strong>。注意，在创建卡片时，您需要将内容传递给<strong class="lt iu"> dbc。卡体</strong>组件。</p><pre class="kj kk kl km gt nl ni nm nn aw no bi"><span id="245b" class="mt la it ni b gy np nq l nr ns">import dash_bootstrap_components as dbc <br/>import pandas as pd<br/>import plotly.graph_objs as go<br/>from database import transforms<br/>import plotly.express as px<br/>from dash import Dash, callback, html, dcc, dash_table, Input, Output, State, MATCH, ALL</span><span id="1995" class="mt la it ni b gy nt nq l nr ns">def tab2():<br/>    df = transforms.df<br/>    layout = html.Div([<br/>     dbc.Card(dbc.CardBody(html.Div(<br/>            id='table-paging-with-graph-container'<br/>            , className="five columns"<br/>     ))) #end card<br/>     , dbc.Card(dbc.CardBody(html.Div(id = 'scatter-matrix-container')))<br/>    ])#End div<br/>    return layout</span><span id="5f82" class="mt la it ni b gy nt nq l nr ns">layout = tab2()</span></pre><h2 id="2036" class="mt la it bd lb mu mv dn lf mw mx dp lj ma my mz ll me na nb ln mi nc nd lp ne bi translated">创建index.py</h2><p id="abdb" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">index.py文件包含实例化应用服务器的代码，以及使应用交互的回调。这是将在控制台中运行的文件。app.layout返回sidepanel.layout</p><p id="8336" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">回想一下我们在创建第一个示例应用程序时遵循的前两个步骤。</p><pre class="kj kk kl km gt nl ni nm nn aw no bi"><span id="4053" class="mt la it ni b gy np nq l nr ns">import plotly<br/>import dash_bootstrap_components as dbc<br/>from dash import Dash, callback, html, dcc, dash_table, Input, Output, State, MATCH, ALL<br/>import plotly.express as px<br/>import pandas as pd<br/>import plotly.graph_objects as go</span><span id="876d" class="mt la it ni b gy nt nq l nr ns">from tabs import sidepanel, tab1, tab2<br/>from database import transforms</span><span id="d064" class="mt la it ni b gy nt nq l nr ns">app = Dash(__name__, external_stylesheets = [dbc.themes.BOOTSTRAP])</span><span id="ebeb" class="mt la it ni b gy nt nq l nr ns">server = app.server</span><span id="8178" class="mt la it ni b gy nt nq l nr ns">app.config.suppress_callback_exceptions = True</span><span id="6aa2" class="mt la it ni b gy nt nq l nr ns">app.layout = sidepanel.layout</span></pre><p id="ce72" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">包括上面的样板代码来运行多页应用程序。注意这是设置外部样式表的地方。因为我使用的是Bootstrap CSS，所以我像使用[dbc.themes.BOOTSTRAP]一样设置它</p><h2 id="fd8c" class="mt la it bd lb mu mv dn lf mw mx dp lj ma my mz ll me na nb ln mi nc nd lp ne bi translated">添加回调</h2><p id="1825" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">回调中指定为输入和输出的值是特定组件的属性。这就是Dash提供魔力的地方…引用他们的文档:</p><blockquote class="nz oa ob"><p id="cc7d" class="lr ls nk lt b lu mo ju lw lx mp jx lz oc mq mc md od mr mg mh oe ms mk ml mm im bi translated">每当输入属性改变时，回调装饰器包装的函数将被自动调用。Dash向函数提供输入属性的新值作为输入参数，Dash用函数返回的内容更新输出组件的属性。</p></blockquote><p id="6ef2" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated"><a class="ae ky" href="https://dash.plotly.com/long-callbacks" rel="noopener ugc nofollow" target="_blank"><strong class="lt iu"><em class="nk">Dash 2.0中的新功能，用户现在可以创建长回调</em></strong></a><strong class="lt iu"><em class="nk"/></strong>，它可以使用作业队列来处理长时间运行的回调，避免超时等浏览器问题。你需要一个队列后端，如<a class="ae ky" href="http://www.grantjenks.com/docs/diskcache/index.html" rel="noopener ugc nofollow" target="_blank">磁盘缓存</a>或<a class="ae ky" href="https://docs.celeryproject.org/en/stable/getting-started/introduction.html" rel="noopener ugc nofollow" target="_blank">芹菜</a>和<a class="ae ky" href="https://redis.io/" rel="noopener ugc nofollow" target="_blank"> Redis </a>。</p><h2 id="2ac0" class="mt la it bd lb mu mv dn lf mw mx dp lj ma my mz ll me na nb ln mi nc nd lp ne bi translated">控制选项卡内容</h2><p id="713c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">该回调使用来自<strong class="lt iu"> dcc的<em class="nk">值</em>。Tab </strong>决定返回哪个html值作为<em class="nk">id</em>“tabs-content”的子元素</p><pre class="kj kk kl km gt nl ni nm nn aw no bi"><span id="8543" class="mt la it ni b gy np nq l nr ns">#callback to control the tab content<br/><br/><a class="ae ky" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.callback(Output('tabs-content', 'children'),<br/>             [Input('tabs', 'value')])<br/>def render_content(tab):<br/>    if tab == 'tab-1':<br/>        return tab1.layout<br/>    elif tab == 'tab-2':<br/>       return tab2.layout</span></pre><h2 id="b638" class="mt la it bd lb mu mv dn lf mw mx dp lj ma my mz ll me na nb ln mi nc nd lp ne bi translated">控制数据表</h2><p id="6d2d" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Tab one使用Dash组件库<a class="ae ky" href="https://dash.plot.ly/datatable" rel="noopener ugc nofollow" target="_blank">数据表</a>。虽然数据集只有大约6k行，但我决定使用Pandas进行后端分页和过滤。这看起来像很多代码，但是请记住，大部分代码直接来自Dash文档。可以将附加输入添加到回调中，以应用侧面板控制的过滤。</p><pre class="kj kk kl km gt nl ni nm nn aw no bi"><span id="337e" class="mt la it ni b gy np nq l nr ns">operators = [['ge ', '&gt;='],<br/>             ['le ', '&lt;='],<br/>             ['lt ', '&lt;'],<br/>             ['gt ', '&gt;'],<br/>             ['ne ', '!='],<br/>             ['eq ', '='],<br/>             ['contains '],<br/>             ['datestartswith ']]</span><span id="67c7" class="mt la it ni b gy nt nq l nr ns">def split_filter_part(filter_part):<br/>    for operator_type in operators:<br/>        for operator in operator_type:<br/>            if operator in filter_part:<br/>                name_part, value_part = filter_part.split(operator, 1)<br/>                name = name_part[name_part.find('{') + 1: name_part.rfind('}')]<br/>                value_part = value_part.strip()<br/>                v0 = value_part[0]<br/>                if (v0 == value_part[-1] and v0 in ("'", '"', '`')):<br/>                    value = value_part[1: -1].replace('\\' + v0, v0)<br/>                else:<br/>                    try:<br/>                        value = float(value_part)<br/>                    except ValueError:<br/>                        value = value_part<br/>                        # word operators need spaces after them in the filter string,<br/>                # but we don't want these later<br/>                return name, operator_type[0].strip(), value<br/>    return [None] * 3</span><span id="7aab" class="mt la it ni b gy nt nq l nr ns"><a class="ae ky" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.callback(<br/>    Output('table-sorting-filtering', 'data')<br/>    , [Input('table-sorting-filtering', "page_current")<br/>     , Input('table-sorting-filtering', "page_size")<br/>     , Input('table-sorting-filtering', 'sort_by')<br/>     , Input('table-sorting-filtering', 'filter_query')<br/>     , Input('battlemech-only', 'value')<br/>     , Input('points-slider', 'value')<br/>     , Input('role-drop', 'value')<br/>    ])<br/>def update_table(page_current, page_size, sort_by, filter, bmcheck, points, role): <br/>    filtering_expressions = filter.split(' &amp;&amp; ')<br/>    dff = transforms.df<br/>    print(bmcheck)<br/>    low = points[0]<br/>    high = points[1]</span><span id="9258" class="mt la it ni b gy nt nq l nr ns">dff = dff.loc[(dff['Points'] &gt;= low) &amp; (dff['Points'] &lt;= high)]<br/>  <br/>    if bmcheck == ['Y']:<br/>        dff = dff.loc[dff['Type'] == 'BM']<br/>    else:<br/>        dff<br/>    if role is None or role == []:<br/>        dff<br/>    else:<br/>        dff = dff.loc[dff['Role'].isin(role)]<br/>    <br/>    for filter_part in filtering_expressions:<br/>        col_name, operator, filter_value = split_filter_part(filter_part)<br/>        if operator in ('eq', 'ne', 'lt', 'le', 'gt', 'ge'):<br/>            # these operators match pandas series operator method names<br/>            dff = dff.loc[getattr(dff[col_name], operator)(filter_value)]<br/>        elif operator == 'contains':<br/>            dff = dff.loc[dff[col_name].str.contains(filter_value)]<br/>        elif operator == 'datestartswith':<br/>            # this is a simplification of the front-end filtering logic,<br/>            # only works with complete fields in standard format<br/>            dff = dff.loc[dff[col_name].str.startswith(filter_value)]<br/>    if len(sort_by):<br/>        dff = dff.sort_values(<br/>            [col['column_id'] for col in sort_by],<br/>            ascending=[<br/>                col['direction'] == 'asc'<br/>                for col in sort_by<br/>            ],<br/>            inplace=False<br/>        )<br/>    page = page_current<br/>    size = page_size<br/>    <br/>    return dff.iloc[page * size: (page + 1) * size].to_dict('records')</span></pre><h2 id="1332" class="mt la it bd lb mu mv dn lf mw mx dp lj ma my mz ll me na nb ln mi nc nd lp ne bi translated">生成散点图</h2><p id="91ca" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">该回调基于数据表中选择的单位生成可视化。它使用两个输入属性"<em class="nk"> derived_virtual_data </em>和" derived_virtual_selected_rows ",这两个属性在数据表中选择一行时填充。它们允许回调从内存中访问数据。</p><pre class="kj kk kl km gt nl ni nm nn aw no bi"><span id="ee7e" class="mt la it ni b gy np nq l nr ns"><a class="ae ky" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.callback(<br/>    Output('radar-graph', 'children')<br/>    , [Input('table-sorting-filtering', "derived_virtual_data"),<br/>        Input('table-sorting-filtering', "derived_virtual_selected_rows")<br/>     ])<br/>def update_radar(rows, derived_virtual_selected_rows):<br/>    if derived_virtual_selected_rows is None:<br/>        derived_virtual_selected_rows = []<br/>    <br/>    dff = transforms.df if rows is None else pd.DataFrame(rows)<br/>    <br/>    try:<br/>        bm = rows[derived_virtual_selected_rows[0]]<br/>        adf = pd.DataFrame(dict(<br/>        r=[bm['Armor'], bm['Structure'], bm['TMM'],  bm['Short'], bm['Medium'], bm['Long']],<br/>        theta=['Armor','Structure','TMM', 'Short','Medium','Long']))<br/>    except:<br/>        bm = []<br/>    <br/>    fig = go.Figure()</span><span id="8d18" class="mt la it ni b gy nt nq l nr ns">fig.add_trace(go.Scatterpolar(<br/>        r=transforms.me4['r'],<br/>        theta=transforms.me4['theta'],<br/>        fill='toself',<br/>        name='Average Size 4 BM'<br/>    ))<br/>    fig.add_trace(go.Scatterpolar(<br/>        r=transforms.me3['r'],<br/>        theta=transforms.me3['theta'],<br/>        fill='toself',<br/>        name='Average Size 3 BM'<br/>    ))<br/>    fig.add_trace(go.Scatterpolar(<br/>        r=transforms.me2['r'],<br/>        theta=transforms.me2['theta'],<br/>        fill='toself',<br/>        name='Average Size 2 BM'<br/>    ))<br/>    fig.add_trace(go.Scatterpolar(<br/>        r=transforms.me1['r'],<br/>        theta=transforms.me1['theta'],<br/>        fill='toself',<br/>        name='Average Size 1 BM'<br/>    ))<br/>    try:<br/>        fig.add_trace(go.Scatterpolar(<br/>            r=adf['r'],<br/>            theta=adf['theta'],<br/>            fill='toself',<br/>            name=bm['Name']<br/>        ))<br/>    except:<br/>        fig.update_layout(<br/>        polar=dict(<br/>        radialaxis=dict(<br/>        visible=True,<br/>        range=[0, 11]<br/>        )),<br/>        showlegend=True<br/>        )</span><span id="fddd" class="mt la it ni b gy nt nq l nr ns">fig.update_layout(<br/>    polar=dict(<br/>        radialaxis=dict(<br/>        visible=True,<br/>        range=[0, 11]<br/>        )),<br/>    showlegend=True<br/>    )</span><span id="a235" class="mt la it ni b gy nt nq l nr ns">return [dcc.Graph(id = 'graph2', figure=fig)]</span></pre><p id="a05d" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">请注意，总共创建了5个图形，每个战斗机甲尺寸一个，允许用户进行更细致的比较。</p><h2 id="1de7" class="mt la it bd lb mu mv dn lf mw mx dp lj ma my mz ll me na nb ln mi nc nd lp ne bi translated">散点图回调</h2><p id="952f" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">这些回调实际上是相同的，只是使用了不同的Plotly Express图。第一个是一个简单的<strong class="lt iu"> px.scatter </strong>图。第二个是<strong class="lt iu"> px.scatter_matrix </strong>图。他们使用的输入是侧面板中的组件，这些组件在应用过滤器时调整图形。</p><pre class="kj kk kl km gt nl ni nm nn aw no bi"><span id="64d2" class="mt la it ni b gy np nq l nr ns"><a class="ae ky" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.callback(Output('table-paging-with-graph-container', "children"),<br/>[ Input('battlemech-only', 'value')<br/>    , Input('points-slider', 'value')<br/>    , Input('role-drop', 'value')<br/>])<br/>def update_graph(bmcheck,points, role):<br/>    dff = transforms.df<br/>    low = points[0]<br/>    high = points[1]</span><span id="efc0" class="mt la it ni b gy nt nq l nr ns">dff = dff.loc[(dff['Points'] &gt;= low) &amp; (dff['Points'] &lt;= high)]<br/>    <br/>    if bmcheck == ['Y']:<br/>        dff = dff.loc[dff['Type'] == 'BM']<br/>    else:<br/>        dff<br/>    if role is None or role == []:<br/>        dff<br/>    else:<br/>        dff = dff.loc[dff['Role'].isin(role)]<br/>  <br/>    fig = px.scatter(dff, x='Points', y='total', color="Points", marginal_y="box"<br/>              ,  marginal_x="box", trendline="ols", hover_data = ['Name', 'Abilities']<br/>              )<br/>        <br/>    return html.Div([<br/>        dcc.Graph(<br/>            id='rating-price'<br/>            , figure=fig<br/>        )<br/>    ])</span><span id="9f8b" class="mt la it ni b gy nt nq l nr ns"><a class="ae ky" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.callback(Output('scatter-matrix-container', "children"),<br/>[     Input('battlemech-only', 'value')<br/>     , Input('points-slider', 'value')<br/>     , Input('role-drop', 'value')<br/>    ])<br/>def update_graph(bmcheck, points, role):<br/>    dff = transforms.df<br/>    low = points[0]<br/>    high = points[1]</span><span id="09fc" class="mt la it ni b gy nt nq l nr ns">dff = dff.loc[(dff['Points'] &gt;= low) &amp; (dff['Points'] &lt;= high)]<br/>    <br/>    if bmcheck == ['Y']:<br/>        dff = dff.loc[dff['Type'] == 'BM']<br/>    else:<br/>        dff<br/>    if role is None or role == []:<br/>        dff<br/>    else:<br/>        dff = dff.loc[dff['Role'].isin(role)]<br/>    <br/>    fig = px.scatter_matrix(dff, dimensions=["Points", "Size", "Armor", "Structure","TMM", "Short", "Medium", "Long"], color="Role" ,height = 1200)</span><span id="defd" class="mt la it ni b gy nt nq l nr ns">return html.Div([dcc.Graph(figure = fig)])</span></pre><h2 id="219f" class="mt la it bd lb mu mv dn lf mw mx dp lj ma my mz ll me na nb ln mi nc nd lp ne bi translated">索引结束. py</h2><p id="efd9" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">请记住将此添加到应用程序的末尾，以便在应用程序运行时创建服务器。</p><pre class="kj kk kl km gt nl ni nm nn aw no bi"><span id="9c7d" class="mt la it ni b gy np nq l nr ns">if __name__ == '__main__':<br/>    app.run_server(debug = True, port = 8050)</span></pre><blockquote class="ps"><p id="d9bf" class="pt pu it bd pv pw px py pz qa qb mm dk translated">恭喜你！你离掌握Dash和Dash 2.0又近了一步！</p></blockquote><p id="bcdc" class="pw-post-body-paragraph lr ls it lt b lu qc ju lw lx qd jx lz ma qe mc md me qf mg mh mi qg mk ml mm im bi translated">如果你想学习如何管理它们，或者想看更复杂的例子，详细介绍大量不同的组件，请查看我的其他Dash教程！</p><div class="of og gp gr oh oi"><a rel="noopener  ugc nofollow" target="_blank" href="/the-easiest-way-to-host-a-multi-page-dashboard-using-python-dash-and-linux-for-beginners-78a78e821ba"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">对于初学者来说，使用Python、Dash和Linux托管多页仪表板的最简单方法</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">使用uWSGI和Nginx在CentOS上托管Dash应用程序</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="or l"><div class="qh l ot ou ov or ow ks oi"/></div></div></a></div><div class="of og gp gr oh oi"><a href="https://towardsdatascience.com/the-auto-sommelier-how-to-implement-huggingface-transformers-and-build-a-search-engine-9e0f401b1bda" rel="noopener follow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">自动侍酒师——如何实现HuggingFace Transformers并构建搜索引擎</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">享受一些葡萄酒，现代自然语言处理，简单的代码，情节和破折号</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">towardsdatascience.com</p></div></div><div class="or l"><div class="qi l ot ou ov or ow ks oi"/></div></div></a></div><p id="baed" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated"><a class="ae ky" href="https://github.com/bendgame/BattletechApp" rel="noopener ugc nofollow" target="_blank">在我的Github上找到完整的代码！</a></p><div class="of og gp gr oh oi"><a href="https://github.com/bendgame/BattletechApp" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">GitHub - bendgame/BattletechApp</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">在GitHub上创建一个帐户，为bendgame/BattletechApp的开发做出贡献。</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">github.com</p></div></div><div class="or l"><div class="qj l ot ou ov or ow ks oi"/></div></div></a></div><h1 id="f3f3" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">谢谢大家！</h1><ul class=""><li id="8bb1" class="pa pb it lt b lu lv lx ly ma qk me ql mi qm mm qn pg ph pi bi translated"><em class="nk">如果你喜欢这个，</em> <a class="ae ky" href="https://medium.com/@erickleppen" rel="noopener"> <em class="nk">在Medium上关注我</em> </a> <em class="nk">了解更多</em></li><li id="5953" class="pa pb it lt b lu pj lx pk ma pl me pm mi pn mm qn pg ph pi bi translated"><a class="ae ky" href="https://erickleppen.medium.com/membership" rel="noopener"> <em class="nk">通过订阅</em> </a>获得对我的内容的完全访问和帮助支持</li><li id="5e8a" class="pa pb it lt b lu pj lx pk ma pl me pm mi pn mm qn pg ph pi bi translated"><em class="nk">我们连线上</em><a class="ae ky" href="https://www.linkedin.com/in/erickleppen01/" rel="noopener ugc nofollow" target="_blank"><em class="nk">LinkedIn</em></a></li><li id="7881" class="pa pb it lt b lu pj lx pk ma pl me pm mi pn mm qn pg ph pi bi translated"><em class="nk">用Python分析数据？查看我的</em> <a class="ae ky" href="https://pythondashboards.com/" rel="noopener ugc nofollow" target="_blank"> <em class="nk">网站</em> </a></li></ul><p id="1b7b" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated"><a class="ae ky" href="http://pythondashboards.com" rel="noopener ugc nofollow" target="_blank"> <strong class="lt iu"> —埃里克·克莱本</strong> </a></p><ol class=""><li id="d039" class="pa pb it lt b lu mo lx mp ma pc me pd mi pe mm pf pg ph pi bi translated">机甲战士、战斗机甲、机甲和Aerotech是Topps Company，Inc. 的注册商标。保留所有权利。</li></ol></div></div>    
</body>
</html>