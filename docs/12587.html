<html>
<head>
<title>How to easily store objects in Firebase Storage from your Flutter app</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何从您的Flutter应用程序轻松地将对象存储在Firebase存储中</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-easily-store-objects-in-firebase-storage-from-your-flutter-app-deabc475d407?source=collection_archive---------5-----------------------#2022-06-21">https://levelup.gitconnected.com/how-to-easily-store-objects-in-firebase-storage-from-your-flutter-app-deabc475d407?source=collection_archive---------5-----------------------#2022-06-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="8f15" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">我的东西都在哪里？</h2><div class=""/><div class=""><h2 id="e389" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">在本文中，我将向您展示如何设置和使用Firebase存储从Flutter应用程序中读取和写入数据。</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/8478041cd79c95a0c9560690c6e48ece.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4gDYDiTZ-62Hf00yfFY8cQ.png"/></div></div></figure><p id="e03f" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">Firebase Storage是云中存储和服务数据的对象存储提供商。可能的情况包括用户的个人资料图片或在注册过程中上传的PDF文件等文档。在本文中，我将向您展示如何设置它，读取和写入数据，以及实现基本的访问控制规则。以下是主题列表:</p><p id="11c6" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">🔹设置Firebase存储<br/>🔹写数据<br/>🔹读取数据<br/>🔹删除数据<br/>🔹监控空间消耗<br/>🔹访问控制<br/>🔹Firestore vs Storage <br/>🔹web的CORS修复</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt mg mh mi mj aw mk bi"><span id="4bb9" class="ml mm it mh b gy mn mo l mp mq">👉 Do you want all the details? Check out <a class="ae mr" href="https://xeladu.gumroad.com/l/ffc" rel="noopener ugc nofollow" target="_blank"><strong class="mh jd">my ebook</strong></a> with in-depth guides about building Flutter apps with Firebase! Buy it on <a class="ae mr" href="https://xeladu.gumroad.com" rel="noopener ugc nofollow" target="_blank"><strong class="mh jd">Gumroad</strong></a> now!</span></pre></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><p id="6176" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">您将需要自己建立一个Firebase项目来使用这里的代码示例或我的<a class="ae mr" href="https://github.com/xeladu/flutter_firebase" rel="noopener ugc nofollow" target="_blank"> GitHub </a>页面中的代码示例。如果你还没有这样做，这里有一篇文章可以指导你完成必要的步骤。</p><div class="ms mt gp gr mu mv"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-create-a-firebase-project-and-link-it-with-your-flutter-app-acd826be8356"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd jd gy z fp na fr fs nb fu fw jc bi translated">如何创建一个Firebase项目并将其与您的Flutter应用程序链接</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">在本文中，我将向您展示如何创建一个Firebase项目，以及如何将它与您的Flutter应用程序链接起来。</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="ne l"><div class="nf l ng nh ni ne nj lb mv"/></div></div></a></div><h2 id="8e3c" class="ml mm it bd nk nl nm dn nn no np dp nq lm nr ns nt lq nu nv nw lu nx ny nz iz bi translated">设置Firebase存储</h2><p id="3393" class="pw-post-body-paragraph ld le it lf b lg oa kd li lj ob kg ll lm oc lo lp lq od ls lt lu oe lw lx ly im bi translated">第一步是安装软件包<a class="ae mr" href="https://pub.dev/packages/firebase_storage" rel="noopener ugc nofollow" target="_blank"> firebase_storage </a>。之后，您需要设置一个存储数据的存储桶。将bucket想象成文件系统中的根文件夹。这可以通过Firebase控制台仪表板来完成。</p><p id="beeb" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">转到<strong class="lf jd">存储</strong> → <strong class="lf jd">开始使用</strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi of"><img src="../Images/55c5aeb35bdacc66e12c3a0f79f95731.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U-r-oY-QD4wwyicQo85-yw.png"/></div></div><figcaption class="og oh gj gh gi oi oj bd b be z dk translated">作者的Firebase存储设置屏幕截图</figcaption></figure><p id="7875" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">在测试模式下选择<strong class="lf jd">开始</strong>并点击<strong class="lf jd">下一个</strong>(我们稍后将回到访问控制)</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ok"><img src="../Images/fc1c4a101b6d979945f4161fcc34a1e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XidO4pY8Wzh8y0NN3vuxBQ.png"/></div></div><figcaption class="og oh gj gh gi oi oj bd b be z dk translated">作者设置的Firebase存储访问控制屏幕截图</figcaption></figure><p id="9abb" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">选择您想要的位置，并在<strong class="lf jd">完成</strong>后确认。要了解位置及其优势，请点击<a class="ae mr" href="https://firebase.google.com/docs/projects/locations#types" rel="noopener ugc nofollow" target="_blank">此处</a>。如果可能的话，我建议选择你的目标用户群的位置。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ol"><img src="../Images/0f5aa6f20e511d6c588f2d385ba9952b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yH-ysUm7c86bCSyPIUPykA.png"/></div></div><figcaption class="og oh gj gh gi oi oj bd b be z dk translated">作者设置的Firebase存储位置的屏幕截图</figcaption></figure><p id="d14a" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">将创建一个默认存储桶，您可以在其中存储数据。还可以添加更多的桶。</p><p id="aada" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">设置完成，让我们玩一些数据🎉</p><h2 id="d88c" class="ml mm it bd nk nl nm dn nn no np dp nq lm nr ns nt lq nu nv nw lu nx ny nz iz bi translated">存储引用</h2><p id="e407" class="pw-post-body-paragraph ld le it lf b lg oa kd li lj ob kg ll lm oc lo lp lq od ls lt lu oe lw lx ly im bi translated">第一步是获取一个StorageReference对象，该对象指向我们的bucket中的一个文件(条目)或目录(前缀)。您可以使用<code class="fe om on oo mh b">child()</code>方法以及<code class="fe om on oo mh b">root</code>和<code class="fe om on oo mh b">parent</code>属性在引用树中导航。创建引用时，Google云存储URIs和HTTPS URL也受支持。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="op oq l"/></div></figure><h2 id="8d5f" class="ml mm it bd nk nl nm dn nn no np dp nq lm nr ns nt lq nu nv nw lu nx ny nz iz bi translated">读出数据</h2><p id="6583" class="pw-post-body-paragraph ld le it lf b lg oa kd li lj ob kg ll lm oc lo lp lq od ls lt lu oe lw lx ly im bi translated">假设我们在根级别的bucket中存储了一堆文件，我们想要下载它们。以下代码获取在存储引用中找到的5个项目，下载内容，并读取元数据对象。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="e6eb" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">要控制获取多少结果，可以使用<code class="fe om on oo mh b">ListOptions</code>对象。有一个<code class="fe om on oo mh b">maxResults</code>和一个<code class="fe om on oo mh b">pageToken</code>房产。<code class="fe om on oo mh b">getData()</code>以字节数组的形式获取内容，<code class="fe om on oo mh b">getMetadata()</code>获取增强的文件信息，<code class="fe om on oo mh b">getDownloadURL()</code>返回指向文件(或文件夹)的字符串。如果要处理文件夹，用<code class="fe om on oo mh b">files.prefixes</code>代替<code class="fe om on oo mh b">files.items</code>。</p><h2 id="91ef" class="ml mm it bd nk nl nm dn nn no np dp nq lm nr ns nt lq nu nv nw lu nx ny nz iz bi translated">写入数据</h2><p id="af02" class="pw-post-body-paragraph ld le it lf b lg oa kd li lj ob kg ll lm oc lo lp lq od ls lt lu oe lw lx ly im bi translated">但是，我们如何将数据放入存储桶呢？第一种方法是使用仪表板。有上传文件和创建文件夹的按钮。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi or"><img src="../Images/6f23ede1d72b89167795714328da3838.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/1*yKjPNC_2BLYN8_3G6uoLsA.png"/></div><figcaption class="og oh gj gh gi oi oj bd b be z dk translated">作者提供的Firebase存储控制面板的屏幕截图</figcaption></figure><p id="ed9c" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">然而，作为程序员，我们喜欢用代码做事。这里有一个如何上传文件的快速示例。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="18ee" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">我们使用一个<code class="fe om on oo mh b">Reference</code>和<code class="fe om on oo mh b">putFile()</code>方法来上传一个<code class="fe om on oo mh b">File</code>对象。<code class="fe om on oo mh b">targetName</code>也可以是一个带有文件名的路径，它将被创建在相应的子文件夹位置。文件选择器最常用于获取文件，但是您也可以自己创建和编写文件。</p><p id="0a20" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe om on oo mh b">putFile()</code>方法返回一个<code class="fe om on oo mh b">UploadTask</code>对象，允许我们监视和控制上传过程。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="4a5c" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">此示例在任务进行过程中侦听事件流并更新进度标签。<code class="fe om on oo mh b">UploadTask</code>对象也有暂停、恢复或取消动作的方法。对于长时间运行的操作，您有足够的工具来通知用户正在发生什么👍</p><h2 id="4615" class="ml mm it bd nk nl nm dn nn no np dp nq lm nr ns nt lq nu nv nw lu nx ny nz iz bi translated">删除数据</h2><p id="4727" class="pw-post-body-paragraph ld le it lf b lg oa kd li lj ob kg ll lm oc lo lp lq od ls lt lu oe lw lx ly im bi translated">删除很简单。获取对项目(文件)或前缀(文件夹)的引用，并调用delete()方法。很简单，是吧？😎</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="op oq l"/></div></figure><h2 id="320a" class="ml mm it bd nk nl nm dn nn no np dp nq lm nr ns nt lq nu nv nw lu nx ny nz iz bi translated">监控空间消耗</h2><p id="6cf6" class="pw-post-body-paragraph ld le it lf b lg oa kd li lj ob kg ll lm oc lo lp lq od ls lt lu oe lw lx ly im bi translated">要监控您当前的空间消耗，请查看您的Firebase存储使用仪表板。数据每天更新，在产生任何成本之前，您可以获得一个免费层。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi os"><img src="../Images/0a82773fc86c39665ee5bd785c2a4215.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mx9wOBlcR7Ps4-NkSnxuDw.png"/></div></div><figcaption class="og oh gj gh gi oi oj bd b be z dk translated">按作者划分的Firebase存储使用情况控制面板的屏幕截图</figcaption></figure><p id="787c" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">您可能想知道为什么已经有这么多的空间被占用，尽管您还没有对数据库做任何事情。一个可能的答案是您部署了一个或多个云功能。你在Firebase中看不到这些桶，只有使用谷歌云控制台才能看到。不要删除这些桶，如果你有活跃的云功能！</p><p id="2538" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">点击<a class="ae mr" href="https://www.reddit.com/r/Firebase/comments/lj3tsy/why_am_i_being_charged_for_cloud_storage_when_it/" rel="noopener ugc nofollow" target="_blank">此处</a>了解更多关于为什么你会被收取一些费用的细节，尽管一切似乎都在Firebase的免费限额之内。</p><h2 id="e02b" class="ml mm it bd nk nl nm dn nn no np dp nq lm nr ns nt lq nu nv nw lu nx ny nz iz bi translated">访问控制</h2><p id="834b" class="pw-post-body-paragraph ld le it lf b lg oa kd li lj ob kg ll lm oc lo lp lq od ls lt lu oe lw lx ly im bi translated">我已经在我的文章中写了关于云商店的内容。这里有一个小回顾，因为模式是相同的。</p><p id="0134" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">访问控制确保只对应该发生的数据进行那些操作。有各种选项来配置规则，但我将只给出一个简单的介绍。有关更多详细信息，请参考<a class="ae mr" href="https://firebase.google.com/docs/storage/security/core-syntax" rel="noopener ugc nofollow" target="_blank"> Firebase文档</a>或以下两篇文章。</p><div class="ms mt gp gr mu mv"><a href="https://khreniak.medium.com/cloud-firestore-security-rules-basics-fac6b6bea18e" rel="noopener follow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd jd gy z fp na fr fs nb fu fw jc bi translated">使用云Firestore安全规则的基本示例</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">云Firestore安全规则是定义Firestore访问控制的工具。定义匹配并创建…</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">khreniak.medium.com</p></div></div><div class="ne l"><div class="ot l ng nh ni ne nj lb mv"/></div></div></a></div><div class="ms mt gp gr mu mv"><a href="https://khreniak.medium.com/advanced-examples-of-using-cloud-firestore-security-rules-9e641d023c7e" rel="noopener follow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd jd gy z fp na fr fs nb fu fw jc bi translated">使用云Firestore安全规则的高级示例</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">在本文中，我将向您展示使用云Firestore安全规则的高级示例。一些知识和更多…</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">khreniak.medium.com</p></div></div><div class="ne l"><div class="ou l ng nh ni ne nj lb mv"/></div></div></a></div><p id="d720" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">您当前的规则将如下所示:</p><pre class="ks kt ku kv gt mg mh mi mj aw mk bi"><span id="3695" class="ml mm it mh b gy mn mo l mp mq">rules_version = '2';<br/>service firebase.storage {<br/>  match /b/{bucket}/o {<br/>    match /{allPaths=**} {<br/>      allow read, write: if false;<br/>    }<br/>  }<br/>}</span></pre><p id="6fb5" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">第一行标识所使用的服务，因为规则也可以应用于<a class="ae mr" href="https://firebase.google.com/docs/firestore?authuser=0" rel="noopener ugc nofollow" target="_blank">云Firestore </a>和<a class="ae mr" href="https://firebase.google.com/docs/database/?authuser=0" rel="noopener ugc nofollow" target="_blank">实时数据库</a>。以下<code class="fe om on oo mh b">match</code>语句确定了应该对哪条路径实施规则。您可以嵌套多个匹配语句，也可以只使用一个。<code class="fe om on oo mh b">allow</code>语句告诉我们在什么条件下允许访问。在<code class="fe om on oo mh b">allow</code>关键字之后，可以添加多个类似<code class="fe om on oo mh b">read</code>和<code class="fe om on oo mh b">write</code>的方法。以下是可用的方法:</p><p id="6c62" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">🔹获取—读取单个文档<br/>🔹列表—读取查询<br/>🔹创建—编写新文档<br/>🔹更新——编写现有文件<br/>🔹删除—删除数据<br/>🔸阅读—获取+列表<br/>🔸写入—创建+更新</p><p id="3f30" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe om on oo mh b">match</code>语句经常使用<strong class="lf jd">通配符</strong>。像<code class="fe om on oo mh b">{bucket}</code>这样的花括号中的文本是一个单段通配符，例如可以在条件中使用。为了使通配符递归，添加两个星号字符<code class="fe om on oo mh b">{allPaths=**}</code>。</p><p id="14a2" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">上述规则拒绝对所有存储桶中所有路径的所有读写访问。</p><p id="29f7" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">以下是一些您可以使用的常见规则条件:</p><pre class="ks kt ku kv gt mg mh mi mj aw mk bi"><span id="5d67" class="ml mm it mh b gy mn mo l mp mq">allow read, write: if false; // no access</span><span id="d847" class="ml mm it mh b gy ov mo l mp mq">allow read, write: if request.auth != null; // access when authenticated</span><span id="651f" class="ml mm it mh b gy ov mo l mp mq">match ... {<br/>  allow read: if true; // read access for everyone<br/>  allow write: if request.auth != null; // write access when authenticated<br/>}</span></pre><p id="032f" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf jd">一个好的开始规则应该是检查认证</strong>。这样，你就可以防止除了你的应用程序之外的任何其他人访问这些数据。如果您的应用程序变得更大，规则也会变得更复杂。</p><div class="ms mt gp gr mu mv"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-use-firebase-authentication-with-your-flutter-app-4603c1b78156"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd jd gy z fp na fr fs nb fu fw jc bi translated">如何在你的Flutter应用中使用Firebase认证</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">在本文中，我们将了解Firebase认证机制，以及如何将它集成到您的…</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="ne l"><div class="ow l ng nh ni ne nj lb mv"/></div></div></a></div><h2 id="f4eb" class="ml mm it bd nk nl nm dn nn no np dp nq lm nr ns nt lq nu nv nw lu nx ny nz iz bi translated">Firestore与存储</h2><p id="ab0b" class="pw-post-body-paragraph ld le it lf b lg oa kd li lj ob kg ll lm oc lo lp lq od ls lt lu oe lw lx ly im bi translated"><strong class="lf jd">什么时候用什么？</strong></p><p id="9a7c" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">Firebase Cloud Firestore是一个NoSQL数据库，用于存储字符串、数字、布尔值或复杂的JSON对象等数据。Firebase存储旨在存储更大的数据块，如图像、PDF文件、视频或用户生成的内容。</p><p id="7f8c" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">要在Firestore中存储图像，您可能会尝试将其转换为Base64字符串，然后将其插入数据库。但是Firestore有<a class="ae mr" href="https://firebase.google.com/docs/firestore/quotas?authuser=0#collections_documents_and_fields" rel="noopener ugc nofollow" target="_blank">限制</a>阻止这些方法。所以不要费事去尝试，直接用储物。</p><h2 id="e233" class="ml mm it bd nk nl nm dn nn no np dp nq lm nr ns nt lq nu nv nw lu nx ny nz iz bi translated">web的CORS修复</h2><p id="c5e8" class="pw-post-body-paragraph ld le it lf b lg oa kd li lj ob kg ll lm oc lo lp lq od ls lt lu oe lw lx ly im bi translated">如果你在网络平台上，由于一个<a class="ae mr" href="https://github.com/firebase/flutterfire/issues/6172" rel="noopener ugc nofollow" target="_blank"> CORS错误</a>，下载将无法进行。要解决这个问题，你需要安装<a class="ae mr" href="https://cloud.google.com/storage/docs/gsutil_install" rel="noopener ugc nofollow" target="_blank"> Google Cloud CLI </a>并为你的bucket设置一个CORS规则。创建一个文件cors.json，并用以下内容填充它:</p><pre class="ks kt ku kv gt mg mh mi mj aw mk bi"><span id="7655" class="ml mm it mh b gy mn mo l mp mq">[<br/>  {<br/>    "origin": ["*"],<br/>    "method": ["GET"],<br/>    "maxAgeSeconds": 3600<br/>  }<br/>]</span></pre><p id="6bf3" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">要进行部署，请使用以下命令:</p><p id="550c" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe om on oo mh b">gsutil cors set cors.json gs://&lt;your-cloud-storage-bucket&gt;</code></p><p id="2486" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">之后，这个错误就不会再发生了。更多详情，请阅读<a class="ae mr" href="https://firebase.google.com/docs/storage/web/download-files#cors_configuration" rel="noopener ugc nofollow" target="_blank">文档</a>。</p><h2 id="130c" class="ml mm it bd nk nl nm dn nn no np dp nq lm nr ns nt lq nu nv nw lu nx ny nz iz bi translated">结论</h2><p id="6f70" class="pw-post-body-paragraph ld le it lf b lg oa kd li lj ob kg ll lm oc lo lp lq od ls lt lu oe lw lx ly im bi translated">Firebase存储是一种快速、方便、简单的方式，允许您的用户存储他们的内容。通过这篇文章，您应该能够完成所需的设置步骤，并且能够读写数据。这里有一个简短的源代码演示视频。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/b46377d69442746b5f3a4aaee404b0e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/1*8tTlTC3ccAVw--vs3QwfFg.gif"/></div><figcaption class="og oh gj gh gi oi oj bd b be z dk translated">作者的Firebase云存储演示</figcaption></figure><p id="4fe0" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">您可以在我的GitHub页面上找到完整的示例源代码。</p><div class="ms mt gp gr mu mv"><a href="https://github.com/xeladu/flutter_firebase" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd jd gy z fp na fr fs nb fu fw jc bi translated">GitHub - xeladu/flutter_firebase:一个用于与各种firebase服务交互的flutter演示应用程序</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">这是附带代码示例的Flutter Firebase概要的配套应用程序。颤振燃烧基地纲要是一个…</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">github.com</p></div></div><div class="ne l"><div class="oy l ng nh ni ne nj lb mv"/></div></div></a></div><p id="5577" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">这篇文章是Flutter Firebase纲要的一部分，其中有许多教程和操作指南，介绍了Firebase与Flutter应用程序相结合的可能性。</p><div class="ms mt gp gr mu"><div role="button" tabindex="0" class="ab bv gv cb fp oz pa bn pb lb ex"><div class="pc l"><div class="ab q"><div class="l di"><img alt="xeladu" class="l de bw pd pe fe" src="../Images/c6d3049714795a7a8169ac0957f05cfe.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*zDQIuT_7N15cT_wzRxjc4g.jpeg"/><div class="fb bw l pd pe fc n aw fd"/></div><div class="hh l fo"><p class="bd b dl z fp fq fr fs ft fu fv fw dk translated"><a class="ae af ag ah ai aj ak al am an ao ap aq ar as" href="https://xeladu.medium.com/?source=post_page-----deabc475d407--------------------------------" rel="noopener follow" target="_top">赛拉杜</a></p></div></div><div class="ph pi gw l"><h2 class="bd jd ul um fp un fr fs nb fu fw jc bi translated">了解Flutter和Firebase的威力</h2></div><div class="ab q"><div class="l fo"><a class="bd b be z bi uo au up uq ur rd us an eh ei ut uu uv el em eo de bk ep" href="https://xeladu.medium.com/list/learn-about-the-power-of-flutter-and-firebase-2ec07e25baba?source=post_page-----deabc475d407--------------------------------" rel="noopener follow" target="_top">View list</a></div><div class="uw l fo"><span class="bd b dl z dk">13 stories</span></div></div></div><div class="pu dh pv fp ab pw fo di"><div class="di pm bv pn po"><div class="dh l"><img alt="" class="dh" src="../Images/c2b6c6338bc1e357ff5cd458b093f90d.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*P9bw3LDvWeQxcu6A"/></div></div><div class="di pm bv pp pq pr"><div class="dh l"><img alt="" class="dh" src="../Images/f235b86f847c3159f60f62e345166e9f.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*ikTUqMQ2_gAxo6NVGcgbbQ.png"/></div></div><div class="di bv ps pt pr"><div class="dh l"><img alt="" class="dh" src="../Images/25444eac466a2c08ca8f6ee8b1f7f913.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*50LuUD48buL850KG"/></div></div></div></div></div><p id="d462" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">用我的电子书为Flutter开发者充分利用Firebase。</p><div class="ms mt gp gr mu mv"><a href="https://xeladu.gumroad.com/l/ffc" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd jd gy z fp na fr fs nb fu fw jc bi translated">颤振燃烧基础概要</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">这本电子书着重于让你能够在你的应用中集成Firebase云服务。当你想要的时候，它是一个跳跃的开始…</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">xeladu.gumroad.com</p></div></div><div class="ne l"><div class="qa l ng nh ni ne nj lb mv"/></div></div></a></div></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><p id="00b7" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><a class="ae mr" href="https://medium.com/@xeladu/membership" rel="noopener"> <strong class="lf jd"> <em class="qb">通过我的推荐链接加入成千上万的媒体会员，每月只需5美元就能阅读你想阅读的文章！</em> </strong> </a></p><div class="ms mt gp gr mu mv"><a href="https://medium.com/@xeladu/membership" rel="noopener follow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd jd gy z fp na fr fs nb fu fw jc bi translated">通过我的推荐链接加入Medium-xela du</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">只需点击一下，就可以通过会员资格访问数千篇文章！您的会员资格只需5美元一张…</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">medium.com</p></div></div><div class="ne l"><div class="qc l ng nh ni ne nj lb mv"/></div></div></a></div><p id="bfe5" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">点击<a class="ae mr" href="https://xeladu.medium.com/subscribe" rel="noopener"> <strong class="lf jd">此处</strong> </a>将我所有的新文章发送到你的邮箱🔔浏览<a class="ae mr" href="https://xeladu.gumroad.com/" rel="noopener ugc nofollow" target="_blank">我的Gumroad商店</a>寻找有趣的编程素材🏬</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><div class="ks kt ku kv gt"><div role="button" tabindex="0" class="ab bv gv cb fp oz pa bn pb lb ex"><div class="pc l"><div class="ab q"><div class="l di"><img alt="xeladu" class="l de bw pd pe fe" src="../Images/c6d3049714795a7a8169ac0957f05cfe.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*zDQIuT_7N15cT_wzRxjc4g.jpeg"/><div class="fb bw l pd pe fc n aw fd"/></div><div class="hh l fo"><p class="bd b dl z fp fq fr fs ft fu fv fw dk translated"><a class="ae af ag ah ai aj ak al am an ao ap aq ar as" href="https://xeladu.medium.com/?source=post_page-----deabc475d407--------------------------------" rel="noopener follow" target="_top">赛拉杜</a></p></div></div><div class="ph pi gw l"><h2 class="bd jd ul um fp un fr fs nb fu fw jc bi translated">适合初学者的颤振文章</h2></div><div class="ab q"><div class="l fo"><a class="bd b be z bi uo au up uq ur rd us an eh ei ut uu uv el em eo de bk ep" href="https://xeladu.medium.com/list/flutter-articles-for-beginners-a040ea777956?source=post_page-----deabc475d407--------------------------------" rel="noopener follow" target="_top">View list</a></div><div class="uw l fo"><span class="bd b dl z dk">24 stories</span></div></div></div><div class="pu dh pv fp ab pw fo di"><div class="di pm bv pn po"><div class="dh l"><img alt="" class="dh" src="../Images/51383106204c2ff6d45c05fd52772a7d.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*fCxl8TrfbpOgvCzq"/></div></div><div class="di pm bv pp pq pr"><div class="dh l"><img alt="" class="dh" src="../Images/cdd4d94a464cda34d46fc00e13cf7bf9.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*XYet0y5T5xce5j8F80Lmdw.jpeg"/></div></div><div class="di bv ps pt pr"><div class="dh l"><img alt="" class="dh" src="../Images/367140fae23113f1e2e868c2157d1e71.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*miSaeOqwwTMnpGF9tdVIbg.png"/></div></div></div></div></div><div class="ms mt gp gr mu"><div role="button" tabindex="0" class="ab bv gv cb fp oz pa bn pb lb ex"><div class="pc l"><div class="ab q"><div class="l di"><img alt="xeladu" class="l de bw pd pe fe" src="../Images/c6d3049714795a7a8169ac0957f05cfe.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*zDQIuT_7N15cT_wzRxjc4g.jpeg"/><div class="fb bw l pd pe fc n aw fd"/></div><div class="hh l fo"><p class="bd b dl z fp fq fr fs ft fu fv fw dk translated">xeladu </p></div></div><div class="ph pi gw l"><h2 class="bd jd ul um fp un fr fs nb fu fw jc bi translated">软件工程师的高级颤振文章</h2></div><div class="ab q"><div class="l fo"><a class="bd b be z bi uo au up uq ur rd us an eh ei ut uu uv el em eo de bk ep" href="https://xeladu.medium.com/list/advanced-flutter-articles-for-software-engineers-f074879fdef3?source=post_page-----deabc475d407--------------------------------" rel="noopener follow" target="_top">View list</a></div><div class="uw l fo"><span class="bd b dl z dk">9 stories</span></div></div></div><div class="pu dh pv fp ab pw fo di"><div class="di pm bv pn po"><div class="dh l"><img alt="" class="dh" src="../Images/e5774d314e770573e2601ca542dbc4de.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*lySym3EjJw93S_Fa"/></div></div><div class="di pm bv pp pq pr"><div class="dh l"><img alt="" class="dh" src="../Images/5289da1df3e789a8ca1d3f6024c01f4b.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*s6ys37P9D8ddVnW_"/></div></div><div class="di bv ps pt pr"><div class="dh l"><img alt="" class="dh" src="../Images/642d00374fa0d6e6971120398fbbeb90.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*JNMh3UEdihkfQWl9"/></div></div></div></div></div></div></div>    
</body>
</html>