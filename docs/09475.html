<html>
<head>
<title>Gradient Transitions with CSS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">CSS渐变过渡</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/gradient-transitions-with-css-f7004b89892?source=collection_archive---------0-----------------------#2021-08-14">https://levelup.gitconnected.com/gradient-transitions-with-css-f7004b89892?source=collection_archive---------0-----------------------#2021-08-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/722672f429796ddcfb07b0c52ab3121b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0Ca38BL7C5MRI0qsdAQT3Q.jpeg"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">潘卡杰·帕特尔在<a class="ae jd" href="https://unsplash.com/s/photos/css-transition?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><div class=""/><p id="5545" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我最近在做一个个人项目，并试图在这个过程中提高我的CSS。我对CSS的魔力非常陌生，最近我一直在玩转换和过渡。我认为当你悬停在一个元素上时，把它的背景转换成渐变会很酷。但令我惊讶的是，我的梯度不会过渡！它会突然出现又消失。我认为这是一个打字错误，但我的代码看起来很好。我所有的其他转换也仍然正常工作。所以我在谷歌上发现，你瞧，渐变不会过渡！Womp womp！幸运的是，有很多关于如何解决这个问题的信息。</p><p id="dfdd" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">秘诀是在原始元素的顶部放置一个新元素，新元素的不透明度设置为0。然后悬停时，将新元素不透明度转换为1。这样你可以在不可见的元素上设置渐变，当鼠标悬停在上面时，它会“神奇地”出现。听起来很简单，但对于像我这样的新手来说，这并不是世界上最直观的过程。</p><p id="322b" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我的示例代码中，我将使用一个保存餐馆列表的div作为示例。</p><p id="fee4" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我以前学过一个创建渐变元素的好方法就是用CSS伪元素creator::了。这会将一个伪子元素添加到它所调用的父元素中。这个孩子将保持我们的梯度。要设置这两个元素的关系，您需要将父元素的位置设置为相对，并将新子元素的位置设置为绝对。这样，您可以将子元素直接放在父元素上。这还允许您通过简单地将top、left、bottom和right设置为0，使子元素与父元素大小相同。</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="6461" class="lk ll jg lg b gy lm ln l lo lp"><strong class="lg jh">.restaurant-listing</strong> {<br/>  position: relative;<br/>  z-index: 1; /* We'll come back to this */<br/>}</span><span id="03a4" class="lk ll jg lg b gy lq ln l lo lp"><strong class="lg jh">.restaurant-listing::before</strong>{<br/>  position: absolute;<br/>  content: <strong class="lg jh">""</strong>;<br/>  top: 0;<br/>  right: 0;<br/>  bottom: 0;<br/>  left: 0;<br/>}</span></pre><p id="5f07" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在子元素上，像平常一样添加渐变。您还必须将内容设置为“”。这是因为伪元素(如::before或::after)的内容默认为none，在这种情况下不会生成元素。然后将不透明度过渡属性添加到子对象中，添加渐变，并将子对象的不透明度设置为0。</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="18d0" class="lk ll jg lg b gy lm ln l lo lp"><strong class="lg jh">.restaurant-listing::before</strong>{<br/>  position: absolute;<br/>  content: <strong class="lg jh">""</strong>;<br/>  top: 0;<br/>  right: 0;<br/>  bottom: 0;<br/>  left: 0;<br/>  background: <strong class="lg jh"><em class="lr">rgb</em></strong>(172,80,242);<br/>  background: <strong class="lg jh"><em class="lr">linear-gradient</em></strong>(20deg, <strong class="lg jh"><em class="lr">rgba</em></strong>(172,80,242,1) 15%,        <strong class="lg jh"><em class="lr">rgba</em></strong>(43,171,197,1) 87%);<br/>  transition: opacity 0.5s linear;<br/>  z-index: -1; /* We'll come back to this */<br/>  opacity: 0;<br/>}</span></pre><p id="c12b" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，您需要为您的子元素创建一个悬停选择器，这将设置不透明度为1。</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="e33c" class="lk ll jg lg b gy lm ln l lo lp"><strong class="lg jh">.restaurant-listing:hover::before</strong> {<br/>  opacity: 1;<br/>}</span></pre><p id="ad11" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，也是最令人困惑的部分。你需要孩子的背景出现在家长的背景前面，但是在家长的内容后面。这可以通过z-索引来实现。如果将父对象的z索引设置为1，子对象的z索引设置为-1，将会显示正确的效果。这似乎有点违背直觉，具有较低z指数的背景将显示在具有较高指数的背景之前。事实上，这可能会让你陷入z-index和stack context博客帖子的泥潭。别问我怎么知道的。由于我仍在试图弄清楚这到底是为什么，所以要等到以后的博客文章才能给出解释。长话短说，它与为定位元素、具有z-index属性的元素和具有设置的不透明度的元素创建的堆栈上下文直接相关。</p><p id="df6f" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">总的来说，您的类可能如下所示:</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="3528" class="lk ll jg lg b gy lm ln l lo lp"><strong class="lg jh">.restaurant-listing</strong> {<br/>  position: relative;<br/>  width: 41%;<br/>  height: min-content;<br/>  background: <strong class="lg jh"><em class="lr">rgb</em></strong>(43,171,197);<br/>  border-style: ridge;<br/>  border-width: 5px;<br/>  border-color: #860cf5;<br/>  border-radius: 5px;<br/>  margin: 2%;<br/>  padding-left: 2%;<br/>  transition: box-shadow 1s;<br/>  z-index: 1;<br/>}</span><span id="0cfa" class="lk ll jg lg b gy lq ln l lo lp"><strong class="lg jh">.restaurant-listing:hover</strong>{<br/>  box-shadow: 5px 5px 5px 1px #0000007a;<br/>}</span><span id="387e" class="lk ll jg lg b gy lq ln l lo lp"><strong class="lg jh">.restaurant-listing::before</strong>{<br/>  position: absolute;<br/>  content: <strong class="lg jh">""</strong>;<br/>  top: 0;<br/>  right: 0;<br/>  bottom: 0;<br/>  left: 0;<br/>  background: <strong class="lg jh"><em class="lr">rgb</em></strong>(172,80,242);<br/>  background: <strong class="lg jh"><em class="lr">linear-gradient</em></strong>(20deg, <strong class="lg jh"><em class="lr">rgba</em></strong>(172,80,242,1) 15%, <strong class="lg jh"><em class="lr">rgba</em></strong>(43,171,197,1) 87%);<br/>  transition: opacity 0.5s linear;<br/>  z-index: -1;<br/>  opacity: 0;<br/>}</span><span id="20f1" class="lk ll jg lg b gy lq ln l lo lp"><strong class="lg jh">.restaurant-listing:hover::before</strong> {<br/>  opacity: 1;<br/>}</span></pre><p id="2600" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所有这些结合在一起，创建一个平滑的过渡到，从或之间的梯度。</p><p id="a4e1" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">来源:</p><p id="5212" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Keith J. Grant著</p><p id="035f" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae jd" href="https://stackoverflow.com/questions/16148007/which-css-properties-create-a-stacking-context/16148341#16148341" rel="noopener ugc nofollow" target="_blank">什么属性创造了堆叠环境？</a></p><p id="1b7e" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae jd" href="https://webdesign.tutsplus.com/articles/what-you-may-not-know-about-the-z-index-property--webdesign-16892" rel="noopener ugc nofollow" target="_blank">你可能不知道的Z-Index房产作者史蒂文·布拉德利</a></p></div></div>    
</body>
</html>