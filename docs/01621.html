<html>
<head>
<title>I Built a CI and Tooling for READMEs — Lint, Regression Test, and Proofread with NLP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我为READMEs构建了一个CI和工具——Lint、回归测试和NLP校对</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/i-built-a-ci-and-tooling-for-readmes-lint-regression-test-and-proofread-with-nlp-81eabb271186?source=collection_archive---------6-----------------------#2020-01-16">https://levelup.gitconnected.com/i-built-a-ci-and-tooling-for-readmes-lint-regression-test-and-proofread-with-nlp-81eabb271186?source=collection_archive---------6-----------------------#2020-01-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="62d8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让README重新变得可读！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/fb76aa2784a68172cd536660c142bd5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dkm4R_fFezmY5lZjt6zvpg.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">威廉·艾文在<a class="ae ky" href="https://unsplash.com/s/photos/programmer?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="c684" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">自述文件有助于用户理解项目并促进贡献者之间的协作。</p><p id="8df0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">关于README最佳实践的更多细节，请参考<a class="ae ky" href="https://medium.com/better-programming/how-to-write-a-readable-readme-590ae6124f69" rel="noopener">我之前的帖子</a>。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="1cc1" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">由于缺乏工具支持，还没有对自述文件的质量进行大量的关注/努力。</h2><p id="8048" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">几乎所有的编程语言都有与CI平台集成的linters和静态分析器。然而，README/Markdown作为一种“编程语言”却没有同样的工具支持。</p><blockquote class="na nb nc"><p id="ec97" class="kz la nd lb b lc ld ju le lf lg jx lh ne lj lk ll nf ln lo lp ng lr ls lt lu im bi translated"><a class="ae ky" href="https://www.infoworld.com/article/3271126/what-is-cicd-continuous-integration-and-continuous-delivery-explained.html" rel="noopener ugc nofollow" target="_blank"> CI/CD </a>管道是DevOps团队实现的最佳实践之一，用于更频繁、更可靠地交付代码变更— <a class="ae ky" href="https://www.infoworld.com/author/Isaac-Sacolick/" rel="noopener ugc nofollow" target="_blank"> Isaac Sacolick </a></p></blockquote><p id="9974" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">代码的质量由CI来保护，CI不断寻找缺陷(反模式/错误/风格问题),并在每次代码推送时向开发人员提供建议的修复，以防止代码推送中的质量退化。</p><p id="ccf0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就像代码可能有缺陷一样，自述文件也可能有缺陷。</p><p id="969f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，自述文件可能包含损坏的URL链接、拼写错误的单词和不清楚的表达式，使其令人困惑。</p><p id="0fe0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了避免这样的问题，我们希望每次修改时都有人来校对自述文件，但是人工校对是膨胀的、不可靠的(因为标准可能因人而异、因时而异)，并且不是全天候可用的。</p><p id="e1a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个潜在的解决方案是，让我们有一个软件校对，而不是人工校对。根据定义，这将是READMEs的CI管道。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="f4b3" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">我已经为READMEs构建了一个CI管道:<a class="ae ky" href="https://github.com/marketplace/actions/readable-readme" rel="noopener ugc nofollow" target="_blank"> readable-readme </a></h2><p id="da37" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">可读-自述文件为:</p><ul class=""><li id="be29" class="nh ni it lb b lc ld lf lg li nj lm nk lq nl lu nm nn no np bi translated">易于设置(几乎零配置)</li><li id="f73f" class="nh ni it lb b lc nq lf nr li ns lm nt lq nu lu nm nn no np bi translated">轻松使用(开发者无需本地操作。它向GitHub存储库发布信息报告)</li><li id="2825" class="nh ni it lb b lc nq lf nr li ns lm nt lq nu lu nm nn no np bi translated">与平台无关(使用GitHub Action、NLP和Node.js构建)</li></ul><p id="ea5b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://github.com/marketplace/actions/readable-readme" rel="noopener ugc nofollow" target="_blank"> Readable-readme </a>是一个预建的GitHub动作，由特定的事件(例如push、pull请求和标签等)触发，它lints(校对)readme文件。</p><p id="1412" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">具体来说，一旦被触发，<a class="ae ky" href="https://github.com/marketplace/actions/readable-readme" rel="noopener ugc nofollow" target="_blank"> readable-readme </a>将遍历lint库中的所有markdown文件，并撰写一份质量报告(包含建议的修复)，作为GitHub问题发布。</p><p id="f5b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下图显示了“它是如何工作的”的简化版本:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/5751af6307632163701ecfbebd22d9d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*If6yW6yFuKwP8xsIqJGhoQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">科技栈来自<a class="ae ky" href="https://github.com/tianhaoz95/readable-readme" rel="noopener ugc nofollow" target="_blank">天昊95/readable-readme </a></figcaption></figure><p id="bb92" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可读自述文件可在<a class="ae ky" href="https://github.com/marketplace/actions/readable-readme" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu">GitHub market place</strong></a>上获得:</p><div class="nw nx gp gr ny nz"><a href="https://github.com/marketplace/actions/readable-readme" rel="noopener  ugc nofollow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd iu gy z fp oe fr fs of fu fw is bi translated">可读自述文件- GitHub Marketplace</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">v1.0.4-beta最新版如果README不可读，其他都不可读。太多时候，我们发现一个伟大的项目，但给…</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">github.com</p></div></div><div class="oi l"><div class="oj l ok ol om oi on ks nz"/></div></div></a></div><p id="6f68" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">源代码可以在这里找到(欢迎投稿):</p><div class="nw nx gp gr ny nz"><a href="https://github.com/tianhaoz95/readable-readme" rel="noopener  ugc nofollow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd iu gy z fp oe fr fs of fu fw is bi translated">天昊95/可读-自述</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">如果README不可读，那么其他任何东西都不可读。我们经常发现一个伟大的项目，但仅仅5分钟后就放弃了…</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">github.com</p></div></div><div class="oi l"><div class="oo l ok ol om oi on ks nz"/></div></div></a></div></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="a433" class="op md it bd me oq or os mh ot ou ov mk jz ow ka mn kc ox kd mq kf oy kg mt oz bi translated">如何在存储库中使用readable-readme</h1><h2 id="0c08" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">步骤1:生成个人GitHub令牌</h2><p id="fe26" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">readable-readme要将报告作为GitHub问题发布，需要GitHub身份。</p><p id="7277" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">GitHub可以生成一个令牌，用于以编程方式标识您自己(通常由CI/CD使用):</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pa"><img src="../Images/97968c0700b65c3286dcf190084bf682.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4O_fJFKv4FXoMXXsqbupOA.png"/></div></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="5990" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">步骤2:将GitHub令牌作为秘密保存在存储库中</h2><p id="259d" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">GitHub令牌是应该保密的敏感信息。</p><p id="2921" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">幸运的是，GitHub在几个月前发布了GitHub secrets，允许存储库安全地存储敏感信息。</p><p id="6393" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，我们可以将上一步中的GitHub令牌保存为存储库机密。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pb"><img src="../Images/f26683533816f616018ced791c5b4a82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DjboCQ-JDIJNok2YF6WVUA.png"/></div></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="6872" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">步骤3:创建工作流配置</h2><p id="920a" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">一个<a class="ae ky" href="https://help.github.com/en/actions/automating-your-workflow-with-github-actions/configuring-a-workflow" rel="noopener ugc nofollow" target="_blank">工作流</a>定义了一组在特定触发事件发生时采取的动作。</p><p id="5c0a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们的例子中，我们希望在向主分支(或自定义主分支)发送推/拉请求时运行可读自述文件分析:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pc"><img src="../Images/5932c57813b939f60da67a81ab219afb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MK6I4vAcEZC3hZrL7BGIRA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">来自<a class="ae ky" href="https://github.com/tianhaoz95/iwfp" rel="noopener ugc nofollow" target="_blank">天昊95/iwfp </a>的示例</figcaption></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="b670" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">步骤4:将readable-readme添加到<a class="ae ky" href="https://help.github.com/en/actions/automating-your-workflow-with-github-actions/configuring-a-workflow" rel="noopener ugc nofollow" target="_blank">工作流配置</a></h2><p id="5b01" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">然后，我们可以将readable-readme作为一个动作添加到工作流中，并将GitHub token作为必需的参数。</p><p id="14f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">工作流配置示例:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/c614d05ce8aba677fb77bef0fe82c9bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D3qoW0siJ3YMDCIfmrNOow.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">来自<a class="ae ky" href="https://github.com/tianhaoz95/iwfp" rel="noopener ugc nofollow" target="_blank">天昊95/iwfp </a>的示例</figcaption></figure><p id="9e3b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有几个问题:</p><ul class=""><li id="d4dc" class="nh ni it lb b lc ld lf lg li nj lm nk lq nl lu nm nn no np bi translated">记得添加结帐步骤。否则，存储库将不会出现。</li><li id="a794" class="nh ni it lb b lc nq lf nr li ns lm nt lq nu lu nm nn no np bi translated">指定要进行lint的分支。否则，将会有许多令人讨厌的报告。</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="748e" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">步骤5:将工作流配置登记到主服务器中</h2><p id="fefc" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">创建并填充工作流配置文件后，您可以向主分支(或您定制的主分支)打开一个拉请求。</p><p id="89cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Readable-readme将在针对“拉”请求(与“推”请求相比)时发表评论，而不是提出单独的问题。</p><p id="de09" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它更清晰，信息量更大(因为它显示了改进的历史)。</p><p id="e022" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是readable-readme在pull请求中的注释(您可以使用它来验证readable-readme是否已成功添加到您的项目中):</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pe"><img src="../Images/d9752e83771146730ba1336c85c9af9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oidBcwUiV3PSQOE5c_EFFg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">来自<a class="ae ky" href="https://github.com/tianhaoz95/iwfp" rel="noopener ugc nofollow" target="_blank">天豪95/iwfp </a>的例子</figcaption></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="750a" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">第六步:坐下来，喝点咖啡；)</h2><p id="cf02" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">成功安装readable-readme后，您将在“问题”选项卡中找到如下所示的readme质量报告:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pf"><img src="../Images/f050e6e42874cdcf61b3493ad15d2651.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0aoNxS1i3QbiUbmaR-ka8Q.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">来自<a class="ae ky" href="https://github.com/tianhaoz95/iwfp" rel="noopener ugc nofollow" target="_blank">天豪95/iwfp </a>的例子</figcaption></figure><p id="e255" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以单击某个文件来展开详细报告，其中显示了问题片段和建议的修复方法:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pg"><img src="../Images/1a2428a6162665b2f3a80d9b98fbaad1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5AoIa5eKcQKZgkU5165vtA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">来自<a class="ae ky" href="https://github.com/tianhaoz95/iwfp" rel="noopener ugc nofollow" target="_blank">天昊95/iwfp </a>的示例</figcaption></figure><p id="2008" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一如既往，快乐编码，让README再次可读；)</p></div></div>    
</body>
</html>