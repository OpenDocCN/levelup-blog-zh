# ä»‹ç»ç†ŠçŒ«

> åŸæ–‡ï¼š<https://levelup.gitconnected.com/introducing-pandas-e0581a6683c9>

## è¿™æ˜¯è®©ä½ å¼€å§‹è¿›å…¥æ•°æ®ç§‘å­¦ä¸–ç•Œçš„æŒ‡å—

![](img/fa3c0b3d3338b6bccdb853c86a8bf3c6.png)

åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šç”±[æ³•æ‰å¾·Â·çº³é½è²](https://unsplash.com/@euwars?utm_source=medium&utm_medium=referral)æ‹æ‘„çš„ç…§ç‰‡

P andas æ˜¯ç”¨ Python å†™çš„**æ•°æ®æ“ä½œå’Œåˆ†æ**ã€
çš„åº“ã€‚è¿™æ˜¯ä¸€ä¸ªå¼€å§‹ EDA çš„å®Œç¾åº“ï¼Œ
å› ä¸ºå®ƒå…è®¸ä½ ç”¨
åŸºæœ¬æ­¥éª¤è¯»å–ã€æ“ä½œã€èšé›†å’Œç»˜åˆ¶æ•°æ®ã€‚

![](img/ca3803bf62f25a14d0310f4e126c1f1e.png)

æ•°æ®å¸§ç¤ºä¾‹

## **æ•°æ®å¸§**

ç®€å•åœ°è¯´ï¼Œæ•°æ®å¸§å°±åƒ SQL ä¸­çš„ Excel è¡¨æˆ–è¡¨æ ¼ã€‚å®ƒç”±**åˆ—**ã€**è¡Œã€**å’Œä¸€ä¸ª**ç´¢å¼•**ç»„æˆã€‚å½“æˆ‘ä»¬è¯»å–ä¸€äº›æ–‡ä»¶æ•°æ®æ—¶ï¼Œå®ƒå°±å˜æˆäº†ä¸€ä¸ªæ•°æ®å¸§ã€‚

## ç†ŠçŒ«ä¸ºä»€ä¹ˆè¿™ä¹ˆå—æ¬¢è¿ï¼Ÿ

1.  åº“çš„ç®€å•æ“ä½œå’Œä½¿ç”¨ã€‚
2.  æ•°æ®ç§‘å­¦ä¸–ç•Œçš„å…¥å£ã€‚
3.  *åœ¨æˆ‘çœ‹æ¥ï¼Œç†ŠçŒ«æ˜¯åˆ¶ä½œ EDA æœ€å¥½çš„åº“ä¹‹ä¸€ã€‚â¤*

## è¡¥å……åº“

ç†ŠçŒ«ä»ä¸å­¤ç‹¬:

[**Seaborn**](https://seaborn.pydata.org/) ï¼Œç»Ÿè®¡æ•°æ®å¯è§†åŒ–ã€‚

[**NumPy**](https://numpy.org/) ï¼Œç”¨äºæ•°å­¦å‡½æ•°çš„åº“ã€‚

[**Matplotlib**](https://matplotlib.org/) ï¼Œç”¨äºæ•°æ®å¯è§†åŒ–çš„åº“ã€‚

[**Scikit-Learn**](https://scikit-learn.org/stable/index.html) ï¼Œæˆ‘ä»¬ç”¨äº**åˆ†ç±»**ï¼Œ**èšç±»ï¼Œ**å›å½’ã€‚

# å¼€å§‹ç¼–ç å‰

æ‚¨åº”è¯¥è®¾ç½®ä¸€ä¸ª Anaconda ç¯å¢ƒæ¥è¿è¡Œè¿™ä¸ªåº“ã€‚æˆ‘
æ¨èå…¶ä¸­ä¸€ç§ç¯å¢ƒ:

[](https://www.anaconda.com/products/individual#Downloads) [## ä¸ªäººç‰ˆ|èŸ’è›‡

### ğŸå¼€æº Anaconda ä¸ªäººç‰ˆæ˜¯ä¸–ç•Œä¸Šæœ€å—æ¬¢è¿çš„ Python åˆ†å‘å¹³å°ï¼Œæ‹¥æœ‰è¶…è¿‡ 20â€¦

www.anaconda.com](https://www.anaconda.com/products/individual#Downloads) [](https://code.visualstudio.com/docs/python/environments) [## åœ¨ Visual Studio ä»£ç ä¸­ä½¿ç”¨ Python ç¯å¢ƒ

### Python ä¸­çš„â€œç¯å¢ƒâ€æ˜¯ Python ç¨‹åºè¿è¡Œçš„ä¸Šä¸‹æ–‡ã€‚ä¸€ä¸ªç¯å¢ƒç”±ä¸€ä¸ªè§£é‡Šå™¨å’Œâ€¦

code.visualstudio.com](https://code.visualstudio.com/docs/python/environments) [](https://jupyter.org/) [## Jupyter é¡¹ç›®

### Jupyter ç¬”è®°æœ¬æ˜¯ä¸€ä¸ªåŸºäºç½‘ç»œçš„äº¤äº’å¼è®¡ç®—å¹³å°ã€‚è¯¥ç¬”è®°æœ¬ç»“åˆäº†ç°åœºä»£ç ï¼Œæ–¹ç¨‹å¼â€¦

jupyter.org](https://jupyter.org/) 

# å®‰è£…ç†ŠçŒ«

```
# jupyter cell
!pip install pandas# Terminal
pip install pandas
```

# è¿›å£

```
import pandas as pd
```

# è¯»å–æ•°æ®æ–‡ä»¶

æœ‰å¾ˆå¤šé€‰é¡¹å¯ä»¥è¯»å–ä½ çš„æ•°æ®ï¼Œ**æ­£å¸¸å¯åŠ¨ pd.read_[file]**

## [CSV](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html)

```
df = pd.read_csv('file_path.csv', sep='separator character')df = pd.read_csv('sales_202005.csv', sep=';')
```

## [Excel](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_excel.html)

```
df = pd.read_excel('file_path.xlsx', sheet_name='')df = pd.read_excel('sales_202005.xlsx', sheet_name='Jan')
```

# æ˜¾ç¤ºæ•°æ®

## [å¤´](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.head.html)

```
df.head()
```

![](img/c7b27dcab0e3bd6b56d086d3aa4eb93f.png)

## [T](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.T.html) (æ¢ä½)

```
df.T
```

![](img/7c1ac24aa74535d80155d1a29d706931.png)

åœ¨åˆ—ä¸­æ˜¾ç¤ºçº¿æ¡

## è§„æ¨¡

è¿”å›è¡Œæ•°å’Œåˆ—æ•°ã€‚

```
df.shape
```

![](img/f4457d10432976dc5c7283eb26efc248.png)

è¡Œå’Œåˆ—

## ä¿¡æ¯

```
df.info()
```

![](img/6cb2327ae4660841f19acaed0e3aa392.png)

**çº¢è‰²**ï¼Œè¿”å›è¡Œæ•°ä¸ä¸ºç©ºã€‚**é»„è‰²**ï¼Œæ•°æ®ç±»å‹æ ã€‚**ç»¿è‰²**ï¼Œå†…å­˜ä½¿ç”¨æƒ…å†µã€‚

## æè¿°ç»Ÿè®¡å­¦

è¿”å›ä¸­å¿ƒè¶‹åŠ¿æµ‹é‡å€¼ã€‚

```
df.describe()
```

![](img/5d5139734599d4febe2c6d904b6c91eb.png)

# ä½¿ç”¨åˆ—

## æ·»åŠ æ–°åˆ—

```
df['column_name'] = value**df['month_nm'] = df['date'].dt.month_name()**
```

## åˆ é™¤åˆ—

```
del df['column_name']
```

# è¿‡æ»¤æ•°æ®å¸§

```
#OneCondition
df[ df['column_name' == 'XPTO' ]#MultipleCondition
df[ (condition 1) & (condition 2) ...  ]**#Exemple
df[ (df['date'] >= '2020-05-01') & (df['date'] <= '2020-05-31') ]**
```

# é€è§†æˆ–åˆ†ç»„ä¾æ®

## åœ¨æ¢è½´ä¸Šè½¬åŠ¨

```
pd.pivot_table(df      #DataFrame Name
, index   = "day"      #Lines
, columns = "month_nm" #Columns
, values  = "price"    #Values
, aggfunc = "mean"     #Aggregation funtction
)
```

![](img/65d736f5696d805fcd0489a1dcd789da.png)

## åˆ†ç»„ä¾æ®

```
df.groupby(['month_nm', 'day']).agg(
{  'price':   pd.Series.mean
, 'order_id': pd.Series.count
}
).reset_index()
```

![](img/a222b887dd6a0cc69c9c0b0ed2a7854f.png)

# å½¢è±¡åŒ–

> æˆ‘ä»¬é€šå¸¸åœ¨å˜é‡ä¸­æ·»åŠ å›¾å½¢æ¥ä½¿ç”¨
> å…¶ä»–å±æ€§ä½œä¸ºæ ‡é¢˜ã€y åç§°ã€x åç§°ã€å›¾ä¾‹
> å’Œé¢œè‰²ã€‚
> 
> [äº†è§£æ›´å¤šè¯¦æƒ…](https://pandas.pydata.org/pandas-docs/stable/user_guide/visualization.html)

## ç®±çº¿å›¾

```
ax = df.boxplot(column=['price'])
```

![](img/2708e921fd05578890e34311643f62d4.png)

## é…’å§

```
ax = df.plot.bar(x='month', y='price', figsize=(16,5), rot=0)
```

![](img/1ab77c81b9625fac671a0eaa367883cd.png)

## çº¿æ¡

```
ax = df.plot.line(x='date', y='price', figsize=(16,5), marker='o', legend=['price'])ax.set_xlabel('Date')
ax.set_ylabel('Price')
ax.set_title('Day Over Day x Total Sales Price')
ax
```

![](img/e259ee32c31dd0650df8f741e71573ed.png)

## é¦…é¥¼

```
ax = df.plot.pie(x='month_nm', y='price', figsize=(8,8))
```

![](img/f043ce935c3799d45cd9f339fe79d61b.png)

## æŸ±çŠ¶å›¾

```
ax = df['price'].hist(figsize=(10,5))
```

![](img/e0a623bd8d8fc61eef440636c389558e.png)

# lmplot-Seborn

[æ˜¾ç¤ºè¶‹åŠ¿çº¿ã€‚æˆ‘ä»¬é€šå¸¸åœ¨çº¿æ€§å›å½’ä¸­ä½¿ç”¨è¯¥å›¾](https://seaborn.pydata.org/generated/seaborn.lmplot.html)ã€‚

```
#New DF
dfLR = pd.DataFrame(
 df.groupby(['day', 'month_nm', 'month'])
  .agg(
   {'price': pd.Series.mean}
   ).reset_index()
)#Chart
**ax = sns.lmplot(
data  = dfLR       # DataFrame Name
, x   = "day"      # Line
, y   = "price"    # Column
, hue = "month_nm" # Points break (colors)
, col = "month"    # Charts break
)**
```

![](img/b88eba9f9eb1f2b8675125e615b15509.png)

å¹³å‡ä»·æ ¼ï¼Œæ¯æœˆçš„å¤©æ•° X çº¿æ€§å›å½’çº¿ä¸­çš„æœˆä»½ã€‚

## åœ¨ Github ä¸Šè·å–æ­¤ä»£ç 

# ç»§ç»­å­¦ä¹ ç†ŠçŒ«

 [## ç†ŠçŒ« 10 åˆ†é’Ÿ-ç†ŠçŒ« 1.0.3 æ–‡æ¡£

### è¿™æ˜¯å¯¹ç†ŠçŒ«çš„ç®€çŸ­ä»‹ç»ï¼Œä¸»è¦é¢å‘æ–°ç”¨æˆ·ã€‚ä½ å¯ä»¥åœ¨â€¦â€¦ä¸­çœ‹åˆ°æ›´å¤æ‚çš„é£Ÿè°±

pandas.pydata.org](https://pandas.pydata.org/pandas-docs/stable/getting_started/10min.html)  [## é£Ÿè°±-ç†ŠçŒ« 1.0.3 æ–‡æ¡£

### è¿™æ˜¯ä¸€ä¸ªç®€çŸ­è€Œç”œèœœçš„ä¾‹å­å’Œæœ‰ç”¨çš„ç†ŠçŒ«é£Ÿè°±é“¾æ¥çš„å‚¨å­˜åº“ã€‚æˆ‘ä»¬é¼“åŠ±ç”¨æˆ·æ·»åŠ åˆ°â€¦

pandas.pydata.org](https://pandas.pydata.org/pandas-docs/stable/user_guide/cookbook.html)