<html>
<head>
<title>How to Reduce the Production Bundle Size of Your App in Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Angular中减少您的应用程序的产品包大小</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-reduce-the-production-bundle-size-of-your-app-angular-e7126c7692b2?source=collection_archive---------2-----------------------#2020-11-22">https://levelup.gitconnected.com/how-to-reduce-the-production-bundle-size-of-your-app-angular-e7126c7692b2?source=collection_archive---------2-----------------------#2020-11-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ad91" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">减少包的大小=减少应用程序的加载时间</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5a58a6fec921e0f9ac8265de2f6ab41f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Iiam0d0JffTZrjqMzlHYKQ.png"/></div></div></figure><p id="2dc9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">构建一个精彩的应用程序是非常酷的，但是不能充分利用Angular robust框架是一个遗憾。在本文中，我将讨论包的大小。对于大型企业应用程序来说，这是一件多么令人头痛的事情，不是吗？</p><p id="c1fa" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">React应用程序和Angular应用程序的区别之一是，Angular应用程序的包大小通常更大。Angular是一个健壮的框架，带有许多有趣而有用的库，可以减少Angular应用程序的捆绑包大小。</p><p id="3dff" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这篇文章为你提供了减少你的应用包大小和充分利用Angular框架所需的基本要素。</p><p id="ec79" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">要做到这一点，以下是我将要遵循的计划:</p><ul class=""><li id="a68c" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated"><strong class="kw iu">惰性加载和预加载策略</strong></li><li id="6476" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated"><strong class="kw iu">调整进口的影响</strong></li><li id="3a1d" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated"><strong class="kw iu">更新至关重要</strong></li><li id="9849" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated"><strong class="kw iu">外卖</strong></li></ul><p id="b9cf" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">兴奋吗？让我们开始吧😆</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="8f13" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">延迟加载和预加载策略</h1><p id="a322" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld nf lf lg lh ng lj lk ll nh ln lo lp im bi translated">企业大型应用程序有许多特性和功能在启动应用程序后无法立即访问，或者因为许多原因而不常使用，例如用户没有登录就没有访问权限，或者因为他对应用程序的某些特性不感兴趣...等等。</p><p id="7664" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当你开发应用程序的时候，把所有的功能都放在一个包里是很可惜的，要知道在启动应用程序之后，它们不一定需要被加载或者立即被使用。这里最棒的是拆分捆绑包，在主捆绑包中启动应用程序时，只保留基本的必备组件，并根据需要加载其余的块或捆绑包。</p><p id="c018" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">惰性加载是一个关键策略，可以帮助您将产品包分成几个部分。您将拥有许多更小的“块”，而不是一个大的生产包</p><p id="2163" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是非常强大的，因为:</p><ul class=""><li id="d6a4" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated">首先:根据你的应用程序大小，你的应用程序加载时间会大大减少。</li><li id="7447" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">第二:你的应用将是一个智能的应用。它不会愚蠢地加载所有的东西，最终只使用了包的30%。很可惜，不是吗？</li></ul><p id="39c1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了更好地了解这个强大的策略，我邀请您阅读这篇文章，了解更多细节和您会惊讶地了解到的高级策略:</p><div class="ni nj gp gr nk nl"><a href="https://medium.com/swlh/optimize-the-app-startup-time-with-lazy-loading-part-1-69be2a27322e" rel="noopener follow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd iu gy z fp nq fr fs nr fu fw is bi translated">利用延迟加载优化应用启动时间—第1部分</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">angular中的懒装是什么？懒惰装载是如何工作的？</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">medium.com</p></div></div><div class="nu l"><div class="nv l nw nx ny nu nz ks nl"/></div></div></a></div><div class="ni nj gp gr nk nl"><a href="https://famzil.medium.com/optimize-the-app-startup-time-with-lazy-loading-part-2-5da35cbd8af2" rel="noopener follow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd iu gy z fp nq fr fs nr fu fw is bi translated">利用延迟加载优化应用启动时间—第2部分</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">什么是角预压？什么是预加载策略？</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">famzil.medium.com</p></div></div><div class="nu l"><div class="oa l nw nx ny nu nz ks nl"/></div></div></a></div><p id="05f1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">享受😉</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="f0a2" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated"><strong class="ak">调整导入的影响</strong></h1><p id="7250" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld nf lf lg lh ng lj lk ll nh ln lo lp im bi translated">在大型应用程序中，有大型团队甚至多个团队。我们有死代码，因为一些原因，我们忘记删除，或一些进口没有使用。毕竟我们是人类。我们会犯错。令人欣慰的是，ECMAScript6模块系统用动摇树的能力拯救了我们。有了这个强大的系统，我们可以删除不使用的死代码。</p><p id="c339" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">要在您的应用中实现这一点，您首先需要遵循以下步骤:</p><h2 id="d3c6" class="ob mm it bd mn oc od dn mr oe of dp mv ld og oh mx lh oi oj mz ll ok ol nb om bi translated"><strong class="ak">步骤#1:分析您当前的捆绑包大小</strong></h2><ul class=""><li id="0fa8" class="lq lr it kw b kx nd la ne ld on lh oo ll op lp lv lw lx ly bi translated"><strong class="kw iu">您可以使用</strong> <code class="fe oq or os ot b"><strong class="kw iu">webpack-bundle-analyzer</strong></code>分析您当前的捆绑包大小。基于其结果，您可以直观地看到哪些包是最大的。</li><li id="ec73" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated"><strong class="kw iu">分析并找到要调整的软件包。</strong></li></ul><h2 id="dd00" class="ob mm it bd mn oc od dn mr oe of dp mv ld og oh mx lh oi oj mz ll ok ol nb om bi translated">第二步:开始健身</h2><ul class=""><li id="7343" class="lq lr it kw b kx nd la ne ld on lh oo ll op lp lv lw lx ly bi translated">示例:通过将针对整个库<code class="fe oq or os ot b">lodash</code>的导入更改为默认的等效导入:<code class="fe oq or os ot b">import last from ‘lodash'</code>。这个改变将会带来很大的不同，因为我们需要的是<code class="fe oq or os ot b">last</code>函数，而不是整个库。这将根据您的产品包大小将千字节转换为字节。</li><li id="ab87" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">另一个选择是将整个库换成一个更轻的替代库(如果存在的话)。如果我们以<code class="fe oq or os ot b">loadch</code>为例，我们可以用<code class="fe oq or os ot b">lodash-es</code>来代替。</li></ul><h2 id="26a0" class="ob mm it bd mn oc od dn mr oe of dp mv ld og oh mx lh oi oj mz ll ok ol nb om bi translated">第三步:继续分析和调整</h2><p id="2870" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld nf lf lg lh ng lj lk ll nh ln lo lp im bi translated">调整导入可以减少大量的JavaScript代码，因为它可以确保您只将需要的JavaScript代码导入到应用程序中。</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="68f4" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">更新角度<strong class="ak">至关重要</strong></h1><p id="ac05" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld nf lf lg lh ng lj lk ll nh ln lo lp im bi translated">更新！离上一个有角版本越远，迁移到上一个版本就越痛苦。我曾尝试将一个应用从Angular 4迁移到Angular 9。这对我的神经很危险。</p><p id="a1ab" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">从版本9开始，Angular开始使用新的Ivy编译器。Ivy编译器在应用程序的渲染和编译阶段引入了一些优化。是的。这些优化将加快您的应用程序，并有助于使您的生产包大小更小。</p><p id="5782" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这还不是全部。离上一个有角版本越远，迁移到上一个版本就越痛苦。我曾尝试将一个应用从Angular 4迁移到Angular 9。这对我的神经很危险。</p><p id="ec88" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">所以升级Angular是如此重要。</p><p id="6f6e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你对干净且编码良好的Angular应用程序的更多技巧感兴趣，这里有一篇文章适合你:</p><div class="ni nj gp gr nk nl"><a href="https://medium.com/swlh/dos-and-don-ts-to-keep-in-mind-for-a-clean-and-well-coded-angular-app-69138c0b5edd" rel="noopener follow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd iu gy z fp nq fr fs nr fu fw is bi translated">对于一个干净且编码良好的Angular应用程序，要记住哪些是应该做的，哪些是不应该做的。</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">我最喜欢的十大角度应用技巧</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">medium.com</p></div></div><div class="nu l"><div class="ou l nw nx ny nu nz ks nl"/></div></div></a></div></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="0f5f" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">💼外卖:</h1><ul class=""><li id="702c" class="lq lr it kw b kx nd la ne ld on lh oo ll op lp lv lw lx ly bi translated">使用<strong class="kw iu"> </strong> <code class="fe oq or os ot b"><strong class="kw iu">webpack-bundle-analyzer</strong></code>分析您的捆大小。</li><li id="0df4" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">利用ES6模块系统来调整您的应用程序，并通过摇树功能删除死代码。</li><li id="64b2" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">惰性装载会把你的大包裹分成小块。</li><li id="4972" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">惰性加载策略将通过更快的加载时间来提升你的应用性能。</li><li id="66a8" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">为了充分利用框架提供的捆绑包优化，更新是必不可少的。</li><li id="1a8d" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">这里是你升级的终极指南:<a class="ae ov" href="https://update.angular.io/" rel="noopener ugc nofollow" target="_blank">链接</a>。</li></ul></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><p id="84dd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">亲爱的读者朋友们，感谢你们的支持和宝贵时间。我希望这对你有用和有帮助。</p><p id="7054" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">关注我上</strong> <a class="ae ov" href="https://medium.com/@famzil/" rel="noopener"> <strong class="kw iu">中</strong> </a> <strong class="kw iu">、</strong><a class="ae ov" href="https://www.linkedin.com/in/fatima-amzil-9031ba95/" rel="noopener ugc nofollow" target="_blank"><strong class="kw iu">Linkedin</strong></a><strong class="kw iu">、</strong><a class="ae ov" href="https://twitter.com/FatimaAMZIL9" rel="noopener ugc nofollow" target="_blank"><strong class="kw iu">Twitter</strong></a><strong class="kw iu">了解更多文章。</strong></p><p id="7378" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">后会有期(ﾉ◕ヮ◕)ﾉ*:･ﾟ✧ </strong></p><p id="27ed" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> FAM </strong></p></div></div>    
</body>
</html>