<html>
<head>
<title>Build a Popup Review Button Using SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨SwiftUIæ„å»ºä¸€ä¸ªå¼¹å‡ºå®¡æŸ¥æŒ‰é’®</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/popup-review-button-using-swiftui-2ddd6e6bf675?source=collection_archive---------11-----------------------#2020-03-28">https://levelup.gitconnected.com/popup-review-button-using-swiftui-2ddd6e6bf675?source=collection_archive---------11-----------------------#2020-03-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d1ba" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">å½“æœ‰æ„ä¹‰æ—¶ï¼Œå‘ç”¨æˆ·æ˜¾ç¤ºé™„åŠ ä¿¡æ¯</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6e81d0785491667aaebdab11c613e331.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*VsDBNuNw6Y44s-j-.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">å¼¹å‡ºå¼æŸ¥çœ‹æŒ‰é’®â€”åœ¨ç”µå½±åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­æ˜¾ç¤º</figcaption></figure><p id="f8e8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">è®©æˆ‘ä»¬å¿«é€Ÿæµè§ˆä¸€ä¸‹æˆ‘ä»¬ä»Šå¤©è¦åˆ›å»ºçš„å†…å®¹ã€‚åœ¨æœ¬æ•™ç¨‹ç»“æŸæ—¶ï¼Œä½ å°†èƒ½å¤Ÿåœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨è¿™ä¸ªå¼¹å‡ºå®¡æŸ¥æŒ‰é’®ï¼Œè®©ç”¨æˆ·å¯¹ä½ çš„åº”ç”¨ç¨‹åºæä¾›çš„ä»»ä½•ä¸œè¥¿è¿›è¡Œè¯„çº§ã€‚</p><h2 id="0009" class="lu lv it bd lw lx ly dn lz ma mb dp mc lh md me mf ll mg mh mi lp mj mk ml mm bi translated">å…¥é—¨æŒ‡å—</h2><p id="6d21" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">åˆ›å»ºä¸€ä¸ªåä¸º<code class="fe ms mt mu mv b">ReviewButton</code>çš„æ–°SwiftUIæ–‡ä»¶ï¼Œç”Ÿæˆä¸€ä¸ªæ¨¡æ¿è®©æˆ‘ä»¬å¼€å§‹ã€‚è¿™æ˜¯ä¸€ä¸ªå°†ä¸€åˆ‡è”ç³»åœ¨ä¸€èµ·çš„è§‚ç‚¹ã€‚ä¸€æ—¦å®ŒæˆæŒ‰é’®çš„æ„å»ºï¼Œæˆ‘ä»¬å°†æŠŠå®ƒæ·»åŠ åˆ°æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­ã€‚</p><pre class="kj kk kl km gt mw mv mx my aw mz bi"><span id="ac85" class="lu lv it mv b gy na nb l nc nd">import SwiftUI<br/><br/>struct ReviewButton: View {<br/>    var body: some View {<br/>        Text("Hello, World!")<br/>    }<br/>}<br/><br/>struct ReviewButton_Previews: PreviewProvider {<br/>    static var previews: some View {<br/>        ReviewButton()<br/>    }<br/>}</span></pre><h2 id="1b99" class="lu lv it bd lw lx ly dn lz ma mb dp mc lh md me mf ll mg mh mi lp mj mk ml mm bi translated">åˆ†è§£æˆ‘ä»¬çš„è§‚ç‚¹</h2><p id="e4d5" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">æˆ‘ä»¬å°†æŠŠè¿™ä¸ª<code class="fe ms mt mu mv b">ReviewButton</code>åˆ†è§£æˆä¸¤éƒ¨åˆ†ã€‚ç¬¬ä¸€ä¸ªæ˜¯æ˜Ÿæ˜Ÿ<code class="fe ms mt mu mv b">Image</code>å’Œâ€œRate Thisâ€<code class="fe ms mt mu mv b">Text</code>ï¼Œç¬¬äºŒä¸ªæ˜¯å¼¹å‡ºçš„5é¢—æ˜Ÿæ˜Ÿã€‚</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/28fd10de9b882e0006f51e2ef59cd70c.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/0*pNnQ5AvSh5ClVyga.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">â€œæŸ¥çœ‹â€æŒ‰é’®çš„ä¸¤ä¸ªéƒ¨åˆ†</figcaption></figure><p id="da13" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å¾ˆæ˜æ˜¾ï¼Œåœ¨è¿™ä¸ªé¡¹ç›®ä¸­ä¼šå‡ºç°å¾ˆå¤šæ˜Ÿæ˜Ÿï¼Œæ‰€ä»¥è®©æˆ‘ä»¬ç»§ç»­åˆ›é€ ä¸€ä¸ªå¯¹æˆ‘ä»¬æœ‰åˆ©çš„æ˜Ÿæ˜Ÿã€‚</p><h2 id="4435" class="lu lv it bd lw lx ly dn lz ma mb dp mc lh md me mf ll mg mh mi lp mj mk ml mm bi translated"><code class="fe ms mt mu mv b">StarIcon</code></h2><ul class=""><li id="951c" class="nf ng it la b lb mn le mo lh nh ll ni lp nj lt nk nl nm nn bi translated">åˆ›å»ºå¦ä¸€ä¸ªåä¸º<code class="fe ms mt mu mv b">StarIcon</code>çš„SwiftUIè§†å›¾</li><li id="dfd7" class="nf ng it la b lb no le np lh nq ll nr lp ns lt nk nl nm nn bi translated">ä¸ºæ­£åœ¨å¡«å……(æˆ–æœªå¡«å……)çš„æ˜Ÿå½¢æ·»åŠ ä¸€ä¸ªå±æ€§å˜é‡ã€‚</li></ul><p id="813d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe ms mt mu mv b">var filled: Bool = false</code></p><ul class=""><li id="c424" class="nf ng it la b lb lc le lf lh nt ll nu lp nv lt nk nl nm nn bi translated">åˆ é™¤æ¨¡æ¿ä»£ç ï¼Œç”¨ä¸€ä¸ªæ˜¾ç¤ºæ˜Ÿå·çš„<code class="fe ms mt mu mv b">Image</code>æ›¿æ¢å®ƒã€‚è¿™é‡Œçš„å…³é”®ç‚¹æ˜¯æ”¹å˜æˆ‘ä»¬æ˜¯å¦ä½¿ç”¨ç³»ç»Ÿæä¾›çš„<code class="fe ms mt mu mv b">star.fill</code>æˆ–<code class="fe ms mt mu mv b">star</code>å›¾æ ‡ã€‚æˆ‘ä»¬å°†ä½¿ç”¨åˆšåˆšå®šä¹‰çš„å±æ€§æ¥å†³å®šã€‚</li></ul><p id="12d0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe ms mt mu mv b">Image(systemName: filled ? "star.fill" : "star")</code></p><ul class=""><li id="b911" class="nf ng it la b lb lc le lf lh nt ll nu lp nv lt nk nl nm nn bi translated">å¦‚æœä½ ä¸ç†Ÿæ‚‰ä¸Šé¢ä½¿ç”¨çš„ä¸‰å…ƒæ¡ä»¶è¿ç®—ç¬¦ï¼Œè¯·æŸ¥çœ‹è‹¹æœçš„ç›¸å…³æ–‡æ¡£<a class="ae nw" href="https://docs.swift.org/swift-book/LanguageGuide/BasicOperators.html#ID71" rel="noopener ugc nofollow" target="_blank">è¿™é‡Œ</a></li><li id="7eaf" class="nf ng it la b lb no le np lh nq ll nr lp ns lt nk nl nm nn bi translated">ç„¶åï¼Œæˆ‘ä»¬å°†æ ¹æ®å®ƒæ˜¯å¦è¢«å¡«å……æ¥ç»™æ˜Ÿå½¢å›¾æ ‡ç€è‰²ã€‚</li></ul><pre class="kj kk kl km gt mw mv mx my aw mz bi"><span id="d841" class="lu lv it mv b gy na nb l nc nd">Image(systemName: filled ? "star.fill" : "star") .foregroundColor(filled ? Color.yellow : Color.black.opacity(0.6))</span></pre><p id="362e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">è¿™æ˜¯æ‰€æœ‰è¿™äº›æ”¾åœ¨ä¸€èµ·ã€‚</p><pre class="kj kk kl km gt mw mv mx my aw mz bi"><span id="cb21" class="lu lv it mv b gy na nb l nc nd">import SwiftUI<br/><br/>struct RatingIcon: View {<br/>    <br/>    var filled:Bool = true<br/>    <br/>    var body: some View {<br/>        Image(systemName: filled ? "star.fill" : "star")<br/>            .foregroundColor(filled ? Color.yellow : Color.black.opacity(0.6))<br/>    }<br/>}<br/><br/>struct RatingIcon_Previews: PreviewProvider {<br/>    static var previews: some View {<br/>        RatingIcon(filled: true)<br/>    }<br/>}</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/9ef9a75c314f60937e115f15bfe28c29.png" data-original-src="https://miro.medium.com/v2/resize:fit:420/format:webp/0*ubIPVVHPINUAyp-O.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">å‘œå“‡ï¼é‡‘æ˜Ÿç»™ä½ ï¼›)</figcaption></figure><h2 id="73c1" class="lu lv it bd lw lx ly dn lz ma mb dp mc lh md me mf ll mg mh mi lp mj mk ml mm bi translated">ç°åœ¨è®©è¿™äº›æ˜Ÿæ˜Ÿå‘æŒ¥ä½œç”¨å§ï¼</h2><p id="12b7" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">å°±åƒæˆ‘ä¹‹å‰è¯´çš„ï¼Œæˆ‘ä»¬å°†é¦–å…ˆåˆ›å»º<code class="fe ms mt mu mv b">Star</code>å’Œ<code class="fe ms mt mu mv b">Label</code>ï¼Œç„¶åæ˜¯<code class="fe ms mt mu mv b">Popup</code>ã€‚</p><p id="b5c4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å›åˆ°<code class="fe ms mt mu mv b">ReviewButton</code>ï¼Œè®©æˆ‘ä»¬å¼€å§‹ç¬¬ä¸€éƒ¨åˆ†ã€‚</p><ul class=""><li id="68c2" class="nf ng it la b lb lc le lf lh nt ll nu lp nv lt nk nl nm nn bi translated">ç”¨<code class="fe ms mt mu mv b">Button</code>æ›¿æ¢<code class="fe ms mt mu mv b">Text</code>ã€‚æ¯•ç«Ÿé‚£æ˜¯æˆ‘ä»¬åˆ›é€ çš„ï¼Œå¯¹å—ï¼Ÿï¼Ÿæš‚æ—¶å°†åŠ¨ä½œç•™ç©ºï¼Œä½†æ˜¯ç»§ç»­æ·»åŠ ä¸€ä¸ªVStackä½œä¸º<code class="fe ms mt mu mv b">Button</code>å†…å®¹ä¸­çš„æ ¹è§†å›¾ã€‚</li></ul><pre class="kj kk kl km gt mw mv mx my aw mz bi"><span id="e12c" class="lu lv it mv b gy na nb l nc nd">Button(action: { // Empty for now... }) { <br/>  VStack(alignment: .center, spacing: 8) { <br/>    //Star Icon and Label Here... <br/>  } <br/>}</span></pre><ul class=""><li id="9bdb" class="nf ng it la b lb lc le lf lh nt ll nu lp nv lt nk nl nm nn bi translated">åœ¨<code class="fe ms mt mu mv b">VStack</code>ä¸­æ·»åŠ æˆ‘ä»¬çš„<code class="fe ms mt mu mv b">StarIcon</code>ï¼Œç„¶åæ·»åŠ ä¸€ä¸ªå¸¦æœ‰å­—ç¬¦ä¸²â€œRate Thisâ€çš„<code class="fe ms mt mu mv b">Text</code>ã€‚å°†é¢œè‰²æ›´æ”¹ä¸ºé»‘è‰²ä»¥åŠé»˜è®¤å­—ä½“ã€‚</li></ul><pre class="kj kk kl km gt mw mv mx my aw mz bi"><span id="22ca" class="lu lv it mv b gy na nb l nc nd">VStack(alignment: .center, spacing: 8) { <br/>  //Star Icon and Label Here... <br/>  StarIcon() Text("Rate This").foregroundColor(Color.black) .font(Font.system(size: 11, weight: .semibold, design: .rounded)) <br/>}</span></pre><p id="2eee" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">åœ¨ç”»å¸ƒä¸­é¢„è§ˆè§†å›¾ï¼Œæ‚¨åº”è¯¥çœ‹åˆ°å¦‚ä¸‹æ‰€ç¤ºçš„è§†å›¾ã€‚</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/c1fbaf281c52156668ab96e2bfada75c.png" data-original-src="https://miro.medium.com/v2/resize:fit:520/format:webp/0*Ocz5KTqauMQwk8iB.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">å‘¸â€¦æˆ‘ä»¬çš„é‡‘æ˜Ÿæ€ä¹ˆäº†ï¼Ÿ</figcaption></figure><h2 id="944d" class="lu lv it bd lw lx ly dn lz ma mb dp mc lh md me mf ll mg mh mi lp mj mk ml mm bi translated">åˆ›å»ºå¼¹å‡ºçª—å£</h2><p id="e372" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªæ˜¾ç¤º5é¢—æ˜Ÿçš„å¼¹å‡ºçª—å£ã€‚æˆ‘ä»¬å°†é‡ç”¨æˆ‘ä»¬ä¹‹å‰åˆ›å»ºçš„<code class="fe ms mt mu mv b">StarIcon</code>ã€‚</p><p id="a591" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">åœ¨<code class="fe ms mt mu mv b">RatingButton</code>è§†å›¾ä¸­ï¼Œåœ¨<code class="fe ms mt mu mv b">Button</code>ä¸Šæ·»åŠ ä¸€ä¸ªè¦†ç›–å›¾ï¼Œå°±åƒè¿™æ ·ã€‚</p><pre class="kj kk kl km gt mw mv mx my aw mz bi"><span id="6e23" class="lu lv it mv b gy na nb l nc nd">Button(action: { // Empty for now... }) { <br/>  VStack(alignment: .center, spacing: 8) { <br/>    //Star Icon and Label Here...<br/>    StarIcon() Text("Rate This") .foregroundColor(Color.black) .font(Font.system(size: 11, weight: .semibold, design: .rounded)) <br/>  } <br/>}.overlay( /* Star Icons Here */ )</span></pre><ul class=""><li id="2557" class="nf ng it la b lb lc le lf lh nt ll nu lp nv lt nk nl nm nn bi translated">ä½¿ç”¨ä¸€ä¸ª<code class="fe ms mt mu mv b">HStack</code>å°†äº”ä¸ª<code class="fe ms mt mu mv b">StarIcon</code>æ”¾åœ¨ä¸€èµ·ã€‚ç¡®ä¿å¯¹å‡†åœ¨ä¸­å¿ƒï¼Œå¹¶ä¸”<code class="fe ms mt mu mv b">HStack</code>ä½¿ç”¨çš„é—´è·å€¼ä¸º4ã€‚</li></ul><pre class="kj kk kl km gt mw mv mx my aw mz bi"><span id="90d4" class="lu lv it mv b gy na nb l nc nd">.overlay( HStack(alignment: .center, spacing: 4) { RatingIcon(filled: false) RatingIcon(filled: false) RatingIcon(filled: false) RatingIcon(filled: false) RatingIcon(filled: false) <br/>})</span></pre><ul class=""><li id="14b9" class="nf ng it la b lb lc le lf lh nt ll nu lp nv lt nk nl nm nn bi translated">ç°åœ¨ï¼Œè®©æˆ‘ä»¬é€šè¿‡æ·»åŠ ä¸€äº›å¡«å……ã€èƒŒæ™¯ã€å¼¯æ›²çš„è§’å’Œé˜´å½±æ¥è®¾è®¡æˆ‘ä»¬çš„å¼¹å‡ºçª—å£ã€‚</li></ul><pre class="kj kk kl km gt mw mv mx my aw mz bi"><span id="14b0" class="lu lv it mv b gy na nb l nc nd">.overlay( HStack(alignment: .center, spacing: 4) { RatingIcon(filled: false) RatingIcon(filled: false) RatingIcon(filled: false) RatingIcon(filled: false) RatingIcon(filled: false) <br/>} // Start styling the popup... <br/>.padding(.all, 12) .background(Color.white) .cornerRadius(10) .shadow(color: Color.black.opacity(0.1), radius: 20, x: 0, y: 0) )</span></pre><ul class=""><li id="8c30" class="nf ng it la b lb lc le lf lh nt ll nu lp nv lt nk nl nm nn bi translated">ç°åœ¨å‘ä¸Šåç§»å¼¹å‡ºçª—å£ï¼Œè¿™æ ·å®ƒå°±ä¸åœ¨æŒ‰é’®çš„æ­£ä¸Šæ–¹äº†ã€‚</li></ul><pre class="kj kk kl km gt mw mv mx my aw mz bi"><span id="edca" class="lu lv it mv b gy na nb l nc nd">.overlay(HStack(alignment: .center, spacing: 4) { <br/>RatingIcon(filled: false) RatingIcon(filled: false) RatingIcon(filled: false) RatingIcon(filled: false) RatingIcon(filled: false) <br/>} <br/>.padding(.all, 12) .background(Color.white) .cornerRadius(10) .shadow(color: Color.black.opacity(0.1), radius: 20, x: 0, y: 0) .offset(x: 0, y: -70) // Move the view above the button <br/>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/1c22c2568796537f2b864d3bc03c116d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1188/format:webp/0*rbrft4bKnP_yFI_2.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">å˜¿å˜¿ï¼Œç°åœ¨æˆ‘ä»¬æœ‰è¿›å±•äº†ğŸ˜</figcaption></figure><h2 id="eda0" class="lu lv it bd lw lx ly dn lz ma mb dp mc lh md me mf ll mg mh mi lp mj mk ml mm bi translated">æ˜¾ç¤ºå¼¹å‡ºçª—å£</h2><p id="5c16" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦éšè—å¼¹å‡ºçª—å£ï¼Œç›´åˆ°ç‚¹å‡»æŒ‰é’®ã€‚å‘<code class="fe ms mt mu mv b">ReviewButton</code>æ·»åŠ ä¸€ä¸ª<code class="fe ms mt mu mv b">bool</code>å±æ€§ï¼Œå®ƒå°†æ§åˆ¶å¼¹å‡ºçª—å£çš„çŠ¶æ€ã€‚</p><pre class="kj kk kl km gt mw mv mx my aw mz bi"><span id="0695" class="lu lv it mv b gy na nb l nc nd">@State var popupOpen:Bool = false</span></pre><p id="cf15" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ç°åœ¨å›åˆ°æˆ‘ä»¬ä¹‹å‰å£°æ˜çš„<code class="fe ms mt mu mv b">Button</code>ã€‚å°†è¿™æ®µä»£ç æ·»åŠ åˆ°<code class="fe ms mt mu mv b">action</code>å‚æ•°ä¸­ã€‚</p><pre class="kj kk kl km gt mw mv mx my aw mz bi"><span id="35bc" class="lu lv it mv b gy na nb l nc nd">Button(action: {<br/>    withAnimation { self.popupOpen = !self.popupOpen }<br/>})</span></pre><p id="92ec" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ç„¶åå°†è¿™æ®µä»£ç æ·»åŠ åˆ°è¦†ç›–å›¾ä¸­çš„<code class="fe ms mt mu mv b">HStack</code>ä¸­ï¼Œä»¥è°ƒæ•´ä¸é€æ˜åº¦ã€‚ä½ åº”è¯¥æŠŠå®ƒæ”¾åœ¨æˆ‘ä»¬è®¾ç½®å åŠ åç§»çš„åœ°æ–¹ã€‚</p><pre class="kj kk kl km gt mw mv mx my aw mz bi"><span id="f327" class="lu lv it mv b gy na nb l nc nd">.opacity(popupOpen ? 1.0 : 0)</span></pre><p id="9ba5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ç°åœ¨ï¼Œåœ¨ç”»å¸ƒè§†å›¾æˆ–æ¨¡æ‹Ÿå™¨ä¸­å°è¯•ä¸€ä¸‹ã€‚</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/d5da31c269fe3aa1b9b79c2e511ba2c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:616/0*9zTmI_93I2tDE7Nx.gif"/></div></figure><h2 id="efd1" class="lu lv it bd lw lx ly dn lz ma mb dp mc lh md me mf ll mg mh mi lp mj mk ml mm bi translated">è®©é‚£äº›æ˜Ÿæ˜Ÿå˜æˆé‡‘å­ï¼(æ·»åŠ å®¡é˜…åŠŸèƒ½)</h2><p id="87e7" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å¼€å§‹æ ¹æ®ç”¨æˆ·çš„è¯„ä»·ç»™è¿™äº›æ˜Ÿæ˜Ÿä¸Šè‰²ã€‚ä¸ºäº†è·Ÿè¸ªè¿™ä¸€ç‚¹ï¼Œæ·»åŠ ä¸€ä¸ªå±æ€§æ¥è·Ÿè¸ªæ˜Ÿçº§ã€‚</p><pre class="kj kk kl km gt mw mv mx my aw mz bi"><span id="18b9" class="lu lv it mv b gy na nb l nc nd">@State var stars:Int = 0</span></pre><p id="1e3e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">æˆ‘ä»¬å°†ä½¿ç”¨è¿™ä¸ªå±æ€§ç»™æŒ‰é’®å’Œå¼¹å‡ºçª—å£ä¸Šçš„æ˜Ÿå½¢ç€è‰²ã€‚è®©æˆ‘ä»¬ä¿®æ”¹ä»£ç æ¥åæ˜ è¿™ä¸€ç‚¹ã€‚</p><p id="b405" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å¦‚æœå½“å‰æ˜Ÿçº§å¤§äº<code class="fe ms mt mu mv b">0</code>ï¼Œå°†<code class="fe ms mt mu mv b">Button</code>å†…çš„<code class="fe ms mt mu mv b">StarIcon</code>å˜ä¸ºé»„è‰²ã€‚</p><pre class="kj kk kl km gt mw mv mx my aw mz bi"><span id="2e5b" class="lu lv it mv b gy na nb l nc nd">// Inside the Button<br/>VStack(alignment: .center, spacing: 8) {<br/>    //Star Icon and Label Here...<br/>    StarIcon(filled: stars &gt; 0)<br/>    // "Rate This" Label Below</span></pre><p id="ed17" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ä¿®æ”¹å¼¹å‡ºè¦†ç›–å›¾ä¸­çš„<code class="fe ms mt mu mv b">StarIcon</code>æ¥æ”¹å˜é¢œè‰²ã€‚</p><pre class="kj kk kl km gt mw mv mx my aw mz bi"><span id="edc4" class="lu lv it mv b gy na nb l nc nd">HStack(alignment: .center, spacing: 4) {<br/>    RatingIcon(filled: stars &gt; 0)<br/>    RatingIcon(filled: stars &gt; 1)<br/>    RatingIcon(filled: stars &gt; 2)<br/>    RatingIcon(filled: stars &gt; 3)<br/>    RatingIcon(filled: stars &gt; 4)<br/>}</span></pre><p id="5ad2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">æ—¢ç„¶<code class="fe ms mt mu mv b">StarIcon</code>ä¼šéšç€è¯„çº§çš„å˜åŒ–è€Œæ”¹å˜é¢œè‰²ï¼Œæˆ‘ä»¬éœ€è¦å®é™…å…è®¸ç”¨æˆ·é€‰æ‹©ä¸€ä¸ªè¯„çº§ã€‚æˆ‘ä»¬å°†ä½¿ç”¨<code class="fe ms mt mu mv b">DragGesture</code>æ¥å®ç°è¿™ä¸€ç‚¹ã€‚</p><p id="3af5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å°±åœ¨æˆ‘ä»¬å£°æ˜äº†<code class="fe ms mt mu mv b">popupOpen</code>å’Œ<code class="fe ms mt mu mv b">stars</code>å±æ€§çš„ä¸‹é¢ï¼Œåˆ›å»ºä¸€ä¸ª<code class="fe ms mt mu mv b">DragGesture</code>ã€‚å°†<code class="fe ms mt mu mv b">minimumDistance</code>è®¾ç½®ä¸º<code class="fe ms mt mu mv b">0</code>ï¼Œå°†<code class="fe ms mt mu mv b">coordinateSpace</code>è®¾ç½®ä¸º<code class="fe ms mt mu mv b">.local</code>ã€‚</p><blockquote class="ob oc od"><p id="26d5" class="ky kz oe la b lb lc ju ld le lf jx lg of li lj lk og lm ln lo oh lq lr ls lt im bi translated">é€šè¿‡å°†æœ€å°è·ç¦»è®¾ç½®ä¸º<code class="fe ms mt mu mv b">0</code>ï¼Œå®ƒå…è®¸<code class="fe ms mt mu mv b">DragGesture</code>è¯†åˆ«ç‚¹å‡»ï¼Œè€Œä¸ä»…ä»…æ˜¯æ‹–åŠ¨æ‰‹åŠ¿ã€‚</p></blockquote><pre class="kj kk kl km gt mw mv mx my aw mz bi"><span id="c6a1" class="lu lv it mv b gy na nb l nc nd">var gesture: some Gesture {<br/>    return DragGesture(minimumDistance: 0, coordinateSpace: .local)<br/>        .onChanged({ val in<br/>            // Update Rating Here<br/>        })<br/>        .onEnded { val in<br/>           // Update Rating Here<br/>        }<br/>}</span></pre><p id="9ec8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">æœ€åï¼Œè¦åšçš„æœ€åä¸€ä»¶äº‹æ˜¯æ ¹æ®ç”¨æˆ·ç‚¹å‡»æˆ–æ‹–åŠ¨çš„<code class="fe ms mt mu mv b">x</code>ä½ç½®æ¥è®¡ç®—é€‰æ‹©äº†å¤šå°‘é¢—æ˜Ÿæ˜Ÿã€‚</p><p id="59d2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">åœ¨è¿”å›<code class="fe ms mt mu mv b">DragGesture</code>çš„åœ°æ–¹å£°æ˜ä¸€ä¸ªé—­åŒ…ï¼Œè®©å®ƒä¸ºxä½ç½®æ¥æ”¶ä¸€ä¸ª<code class="fe ms mt mu mv b">CGFloat</code>ã€‚ç„¶åæˆ‘ä»¬å°†åšä¸€äº›å¿«é€Ÿçš„è®¡ç®—æ¥ç¡®å®šç”¨æˆ·é€‰æ‹©äº†å“ªä¸ª<code class="fe ms mt mu mv b">StarIcon</code>å¹¶æ›´æ–°çŠ¶æ€ã€‚</p><pre class="kj kk kl km gt mw mv mx my aw mz bi"><span id="d0a4" class="lu lv it mv b gy na nb l nc nd">let updateRating: (CGFloat)-&gt;() = { x in<br/>    let percent = max((x / 110.0), 0.0)<br/>    self.stars = min(Int(percent * 5.0) + 1, 5)<br/>}</span></pre><p id="952f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ç„¶åè°ƒç”¨æˆ‘ä»¬ä¹‹å‰è®¾ç½®çš„<code class="fe ms mt mu mv b">onChanged</code>å’Œ<code class="fe ms mt mu mv b">onEnded</code>å‡½æ•°ä¸­çš„å‡½æ•°ã€‚</p><blockquote class="ob oc od"><p id="04e0" class="ky kz oe la b lb lc ju ld le lf jx lg of li lj lk og lm ln lo oh lq lr ls lt im bi translated">æ‚¨ä¼šæ³¨æ„åˆ°ï¼Œæˆ‘è¿˜æ·»åŠ äº†ä¸€ä¸ªåŠ¨ç”»ï¼Œåœ¨ç”¨æˆ·é€‰æ‹©è¯„çº§åå…³é—­å¼¹å‡ºçª—å£ã€‚</p></blockquote><pre class="kj kk kl km gt mw mv mx my aw mz bi"><span id="fc14" class="lu lv it mv b gy na nb l nc nd">return DragGesture(minimumDistance: 0, coordinateSpace: .local)<br/>.onChanged({ val in<br/>    updateRating(val.location.x)<br/>})<br/>.onEnded { val in<br/>    updateRating(val.location.x)<br/>    DispatchQueue.main.asyncAfter(deadline: .now() + 0.1) {<br/>        withAnimation {<br/>            self.popupOpen = false<br/>        }<br/>    }<br/>}</span></pre><p id="cec2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">æœ€åè¦åšçš„æ˜¯å°†æ‰‹åŠ¿æ·»åŠ åˆ°æˆ‘ä»¬çš„å¼¹å‡ºèœå•ä¸­ï¼åœ¨åƒè¿™æ ·å£°æ˜äº†<code class="fe ms mt mu mv b">HStack</code>ä¹‹åï¼Œç®€å•åœ°ç›´æ¥æ·»åŠ è¿™æ®µä»£ç ã€‚</p><pre class="kj kk kl km gt mw mv mx my aw mz bi"><span id="26ac" class="lu lv it mv b gy na nb l nc nd">HStack(alignment: .center, spacing: 4) {<br/>    RatingIcon(filled: stars &gt; 0)<br/>    RatingIcon(filled: stars &gt; 1)<br/>    RatingIcon(filled: stars &gt; 2)<br/>    RatingIcon(filled: stars &gt; 3)<br/>    RatingIcon(filled: stars &gt; 4)<br/>}<br/>.gesture(dragGesture)</span></pre><h2 id="5833" class="lu lv it bd lw lx ly dn lz ma mb dp mc lh md me mf ll mg mh mi lp mj mk ml mm bi translated">æœ€ç»ˆäº§å“ï¼</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/d3602ab9e9fae99365030674b8397b43.png" data-original-src="https://miro.medium.com/v2/resize:fit:932/0*lxSFyybxKwVfSlBY.gif"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">åªæœ‰4æ˜Ÿï¼Ÿï¼â€¦å“å‘€ï¼Œè¿™ç¾¤äººçœŸéš¾ç¼ </figcaption></figure><h1 id="f76b" class="oj lv it bd lw ok ol om lz on oo op mc jz oq ka mf kc or kd mi kf os kg ml ot bi translated">æ”¯æŒæœªæ¥æ•™ç¨‹</h1><p id="c5be" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">å¦‚æœä½ å–œæ¬¢è¿™ä¸ªæ•™ç¨‹ï¼Œè¯·è€ƒè™‘ä½¿ç”¨è¿™ä¸ª<a class="ae nw" href="https://trailingclosure.com/signup" rel="noopener ugc nofollow" target="_blank">é“¾æ¥</a>è®¢é˜…æˆ‘çš„ç½‘ç«™ã€‚æˆ‘ä»¬çš„è®¢æˆ·åªéœ€æ³¨å†Œå°±èƒ½è·å¾—æˆ‘ä»¬çš„ç‹¬å®¶å†…å®¹ã€‚å“¦ï¼Œå¦‚æœä½ æ²¡æœ‰åœ¨<a class="ae nw" href="https://trailingclosure.com/" rel="noopener ugc nofollow" target="_blank">TrailingClosure.com</a>ä¸Šè¯»åˆ°è¿™ç¯‡æ–‡ç« ï¼Œè¯·éšæ—¶æ¥çœ‹çœ‹æˆ‘ä»¬ï¼</p></div><div class="ab cl ou ov hx ow" role="separator"><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz"/></div><div class="im in io ip iq"><p id="979c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">å…è´£å£°æ˜<br/> </strong>ç¤ºä¾‹ä¸­ä½¿ç”¨çš„ç”µå½±æµ·æŠ¥ä¸æ˜¯æˆ‘çš„ï¼Œä»…ä½œä¸ºç¤ºä¾‹ä½¿ç”¨ã€‚æœªç»ä¸šä¸»åŒæ„ï¼Œä¸å¾—å°†å®ƒä»¬ç”¨äºä»»ä½•å•†ä¸šé¡¹ç›®ã€‚</p></div></div>    
</body>
</html>