# get、find、query (React 测试库)的区别。

> 原文：<https://levelup.gitconnected.com/the-difference-between-get-find-query-react-testing-library-bcd996ba3baa>

使用 React 测试库时选择合适的查询类型。

![](img/9b81c164cb7aabff379e624768aba013.png)

# 介绍

React 测试库(RTL)为开发人员提供了在组件上查找测试元素的方法，这些方法被称为查询。有 3 种主要的 RTL 查询类型，即获取、查找和查询。

在本指南中，我们将了解使用这些查询类型时的区别和注意事项。

# 得到

*   `getBy`:返回匹配的节点，但是如果**有多个**匹配或者**没有找到**匹配，将抛出一个`error`。
*   `getAllBy`:如果**至少找到一个**匹配，则返回匹配节点的数组，如果**没有找到**匹配，则抛出错误。

**提示**:如果您希望在查询时出现一个或多个元素，请使用这些方法。

# 询问

*   `queryBy`:找到一个匹配就返回匹配节点，没有找到匹配就返回`null`，但是如果**找到多个**匹配就抛出`error`。
*   `queryAllBy`:如果**至少找到一个**匹配，则返回匹配节点的数组，如果**没有找到**匹配，则返回空数组。

提示:如果你想确认一个或多个元素的存在，使用这些方法。

# 发现

*   `findBy`:返回一个返回匹配节点的承诺，但是如果**多个**匹配或者**没有找到**匹配将抛出一个`error`。
*   `findAllBy`:返回一个承诺，如果**至少找到一个**匹配，则返回一个匹配节点数组，如果**没有找到**匹配，则抛出一个错误。

**提示**:如果被查询的一个或多个元素可能异步显示，请使用这些方法(例如，如果您的元素预计只在事件触发后显示，请考虑使用 find，因为它会在一段时间后重试查询)。

有关查询的更多信息，请查看 [React 测试库](https://testing-library.com/docs/queries/about/#types-of-queries)文档。如有反馈，不胜感激:)。

祝你编码好运！