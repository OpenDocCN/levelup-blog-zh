<html>
<head>
<title>Flutter Web: Firebase Authentication and Google Sign in</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Flutter Web: Firebase认证和Google登录</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/using-firebase-in-flutter-web-4b99952180aa?source=collection_archive---------0-----------------------#2019-09-23">https://levelup.gitconnected.com/using-firebase-in-flutter-web-4b99952180aa?source=collection_archive---------0-----------------------#2019-09-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/0032e31f9c0ef48827071d97eb984316.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zBipaEs2G4WWb73fMFs0Vg.png"/></div></div></figure><div class=""/><p id="b402" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka jc">更新时间:2020年5月</strong></p><p id="ea55" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">本教程已于2020年5月在<strong class="ka jc">更新，因为旧教程为Dart使用了一个单独的Firebase包。</strong></p><p id="3c56" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这个更新的教程使用了标准的Firebase认证和Google登录包。使得真正的跨平台实现成为可能，它将在移动和网络上工作。</p><p id="d5fd" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但是，请注意，本教程只显示了如何使用Flutter web的软件包。你可以在互联网上找到大量致力于移动实现的教程。</p><p id="3d13" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您感兴趣，可以在此处找到旧文章:</p><div class="ip iq gp gr ir kw"><a href="https://blog.funwith.app/posts/using-firebase-in-flutter-web/" rel="noopener  ugc nofollow" target="_blank"><div class="kx ab fo"><div class="ky ab kz cl cj la"><h2 class="bd jc gy z fp lb fr fs lc fu fw ja bi translated">在Flutter Web中使用Firebase |与Flutter同乐</h2><div class="ld l"><h3 class="bd b gy z fp lb fr fs lc fu fw dk translated">在Flutter Web中使用Firebase就像在技术空间中使用任何东西一样——注意这篇文章的日期(2019年9月)…</h3></div><div class="le l"><p class="bd b dl z fp lb fr fs lc fu fw dk translated">blog.funwith.app</p></div></div></div></a></div><p id="b2ca" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但是，这里建议的解决方案不再推荐。</p><h1 id="ab17" class="lf lg jb bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">新方式</h1><p id="2a30" class="pw-post-body-paragraph jy jz jb ka b kb md kd ke kf me kh ki kj mf kl km kn mg kp kq kr mh kt ku kv ij bi translated">下面是一个视频教程，向你展示了在一个Flutter web项目中添加Firebase认证和Google登录需要做的事情。如果你是Firebase的新手，我建议你看视频教程。</p><figure class="mi mj mk ml gt is"><div class="bz fp l di"><div class="mm mn l"/></div></figure><h2 id="8bdb" class="mo lg jb bd lh mp mq dn ll mr ms dp lp kj mt mu lt kn mv mw lx kr mx my mb mz bi translated">正在初始化</h2><p id="7f63" class="pw-post-body-paragraph jy jz jb ka b kb md kd ke kf me kh ki kj mf kl km kn mg kp kq kr mh kt ku kv ij bi translated">对于Flutter web，您可以使用通常用于移动设备的Firebase认证包。</p><div class="ip iq gp gr ir kw"><a href="https://pub.dev/packages/firebase_auth" rel="noopener  ugc nofollow" target="_blank"><div class="kx ab fo"><div class="ky ab kz cl cj la"><h2 class="bd jc gy z fp lb fr fs lc fu fw ja bi translated">firebase_auth | Flutter包</h2><div class="ld l"><h3 class="bd b gy z fp lb fr fs lc fu fw dk translated">一个使用Firebase认证API的Flutter插件。对于其他Firebase产品的Flutter插件，请参见…</h3></div><div class="le l"><p class="bd b dl z fp lb fr fs lc fu fw dk translated">公共开发</p></div></div><div class="na l"><div class="nb l nc nd ne na nf ix kw"/></div></div></a></div><p id="397d" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于谷歌登录。</p><div class="ip iq gp gr ir kw"><a href="https://pub.dev/packages/google_sign_in" rel="noopener  ugc nofollow" target="_blank"><div class="kx ab fo"><div class="ky ab kz cl cj la"><h2 class="bd jc gy z fp lb fr fs lc fu fw ja bi translated">google_sign_in | Flutter包</h2><div class="ld l"><h3 class="bd b gy z fp lb fr fs lc fu fw dk translated">一个用于谷歌登录的抖动插件。注意:这个插件仍在开发中，一些API可能不可用…</h3></div><div class="le l"><p class="bd b dl z fp lb fr fs lc fu fw dk translated">公共开发</p></div></div><div class="na l"><div class="ng l nc nd ne na nf ix kw"/></div></div></a></div><p id="8798" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">软件包的发布页面提供了所有你需要设置和开始的信息。但是我们将在本文中讨论重要的细节。</p><p id="ea5c" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">首先，您需要在您的<code class="fe nh ni nj nk b">pubsec.yaml</code>文件中添加相关的依赖项。</p><pre class="mi mj mk ml gt nl nk nm nn aw no bi"><span id="9056" class="mo lg jb nk b gy np nq l nr ns">dependencies:<br/>  firebase_auth:<br/>  google_sign_in:</span></pre><p id="9edf" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">接下来，您需要将Firebase JavaScript库包含在您的<code class="fe nh ni nj nk b">index.html</code>文件中(在Flutter web目录中)。对于一个Flutter项目，默认的HTML文件位于<code class="fe nh ni nj nk b">web/index.html.</code></p><p id="b72b" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下面是一个例子<code class="fe nh ni nj nk b">index.html</code>。请注意标有<strong class="ka jc">步骤1、步骤2和步骤3 </strong>的区域，因为这些是您需要添加自己的配置的地方。下面提供了关于这些步骤的更多信息。</p><figure class="mi mj mk ml gt is"><div class="bz fp l di"><div class="nt mn l"/></div></figure><p id="a270" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka jc">步骤1: </strong>添加Firebase SDK和您正在使用的其他Firebase产品。对于本教程，所有需要的是<code class="fe nh ni nj nk b">firebase-auth.js</code>脚本。建议你把这个加在<code class="fe nh ni nj nk b">&lt;body&gt;</code>标签的底部，但是在你使用Firebase之前(在<code class="fe nh ni nj nk b">main.dart.js</code>脚本之前)。</p><p id="fd6c" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您的版本可能与示例中的版本不同。你可以在Firebase网站上找到最新版本:</p><div class="ip iq gp gr ir kw"><a href="https://firebase.google.com/docs/web/setup#available-libraries" rel="noopener  ugc nofollow" target="_blank"><div class="kx ab fo"><div class="ky ab kz cl cj la"><h2 class="bd jc gy z fp lb fr fs lc fu fw ja bi translated">将Firebase添加到JavaScript项目中</h2><div class="ld l"><h3 class="bd b gy z fp lb fr fs lc fu fw dk translated">遵循本指南，在您的web应用程序中使用Firebase JavaScript SDK，或者作为最终用户访问的客户端，例如…</h3></div><div class="le l"><p class="bd b dl z fp lb fr fs lc fu fw dk translated">firebase.google.com</p></div></div><div class="na l"><div class="nv l nc nd ne na nf ix kw"/></div></div></a></div><p id="69ff" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="nu">与身份验证类似，您需要导入将要使用的其他Firebase库，例如，Analytics、Firestore等。</em></p><p id="4b9e" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka jc">第二步:</strong>接下来，您需要用项目的配置初始化Firebase。Firebase项目的配置可以在项目设置中的Firebase上找到。如果你找不到它，我建议你看这篇文章的视频教程。</p><p id="66be" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">第三步:最后，你需要添加你的谷歌登录客户端Id。这在Firebase和Google Cloud中都有。如果你找不到这个，我建议你看视频教程。</p><p id="3479" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka jc">重要提示:</strong>记得在Firebase项目中启用身份验证，例如<em class="nu">匿名登录</em>和<em class="nu">谷歌登录</em>。您还可以启用和使用大量其他登录机制(例如，<em class="nu">脸书</em>、<em class="nu">推特</em>、<em class="nu">电话号码</em>等)。).</p><h1 id="7b92" class="lf lg jb bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">Firebase身份验证和Google登录</h1><p id="e674" class="pw-post-body-paragraph jy jz jb ka b kb md kd ke kf me kh ki kj mf kl km kn mg kp kq kr mh kt ku kv ij bi translated">初始化之后，现在只需要使用Firebase认证和Google登录包。下面是一个利用认证包的Firebase认证服务的例子。</p><figure class="mi mj mk ml gt is"><div class="bz fp l di"><div class="nt mn l"/></div></figure><p id="5c78" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">看看演示应用程序的视频教程，看看我如何使用<a class="ae nw" href="https://pub.dev/packages/provider" rel="noopener ugc nofollow" target="_blank">提供者</a>包来注入认证服务，并使用它来处理应用程序的状态。</p><p id="3079" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">或者，看一看示例应用程序的代码:</p><div class="ip iq gp gr ir kw"><a href="https://github.com/funwithflutter/tutorials/tree/master/001-Flutter-Web-Firebase-Auth-Google" rel="noopener  ugc nofollow" target="_blank"><div class="kx ab fo"><div class="ky ab kz cl cj la"><h2 class="bd jc gy z fp lb fr fs lc fu fw ja bi translated">funwithfutter/教程</h2><div class="ld l"><h3 class="bd b gy z fp lb fr fs lc fu fw dk translated">这是一个演示应用程序，展示了如何将Firebase身份验证和Google登录整合到一个Flutter Web中…</h3></div><div class="le l"><p class="bd b dl z fp lb fr fs lc fu fw dk translated">github.com</p></div></div><div class="na l"><div class="nx l nc nd ne na nf ix kw"/></div></div></a></div><h1 id="0add" class="lf lg jb bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">结论</h1><p id="120b" class="pw-post-body-paragraph jy jz jb ka b kb md kd ke kf me kh ki kj mf kl km kn mg kp kq kr mh kt ku kv ij bi translated">我希望你觉得这很有用。这是一个比前一篇文章好得多的实现。使用这个实现，我们不需要依赖移动和网络的独立包。</p><p id="ba3f" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你想探索一个完全由Flutter创建的网站，以及阅读更多的Flutter文章，去看看<a class="ae nw" href="https://funwith.app" rel="noopener ugc nofollow" target="_blank"> Fun with Flutter网站</a>。该网站也使用Firebase身份验证的这种实现。所以去试试吧。</p></div></div>    
</body>
</html>