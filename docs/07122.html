<html>
<head>
<title>4 Steps to Create a Discord Bot Using Asynchronous PHP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用异步PHP创建不和谐机器人的4个步骤</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/4-steps-to-create-a-discord-bot-using-asynchronous-php-951082d7677a?source=collection_archive---------1-----------------------#2021-01-26">https://levelup.gitconnected.com/4-steps-to-create-a-discord-bot-using-asynchronous-php-951082d7677a?source=collection_archive---------1-----------------------#2021-01-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1bf0" class="pw-subtitle-paragraph jr is it bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">了解如何使用非阻塞PHP创建一个Chuck Norris笑话机器人</h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/76ce03d8d912f8bb67cf40ec10ee74ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x8ymPD7BwGaJeyofAei4wA.png"/></div></div></figure><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kv"><img src="../Images/c53b42b442d3d4705fdbcb411745ae93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IflOIj5yBQzJtDYMovIxmg.jpeg"/></div></div></figure><h1 id="368b" class="kw kx it bd ky kz la lb lc ld le lf lg ka lh kb li kd lj ke lk kg ll kh lm ln bi translated">介绍</h1><p id="3f7a" class="pw-post-body-paragraph lo lp it lq b lr ls jv lt lu lv jy lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">如果你快速搜索一下，你会发现JavaScript和Python是为Discord编写bot时使用的两种主要语言。但是在本教程中，我将向您展示如何使用异步PHP创建一个简单的笑话机器人。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="86c8" class="pw-post-body-paragraph lo lp it lq b lr mm jv lt lu mn jy lw lx mo lz ma mb mp md me mf mq mh mi mj im bi translated">我们开始吧！</p><h1 id="f8f9" class="kw kx it bd ky kz la lb lc ld le lf lg ka lh kb li kd lj ke lk kg ll kh lm ln bi translated">先决条件</h1><ul class=""><li id="c4d0" class="mr ms it lq b lr ls lu lv lx mt mb mu mf mv mj mw mx my mz bi translated">PHP 7.2或更高</li><li id="654b" class="mr ms it lq b lr na lu nb lx nc mb nd mf ne mj mw mx my mz bi translated">设计者</li><li id="f72a" class="mr ms it lq b lr na lu nb lx nc mb nd mf ne mj mw mx my mz bi translated"><code class="fe nf ng nh ni b">ext-json</code></li><li id="15cf" class="mr ms it lq b lr na lu nb lx nc mb nd mf ne mj mw mx my mz bi translated"><code class="fe nf ng nh ni b">ext-zlib</code></li></ul><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kv"><img src="../Images/c53b42b442d3d4705fdbcb411745ae93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IflOIj5yBQzJtDYMovIxmg.jpeg"/></div></div></figure><h1 id="8032" class="kw kx it bd ky kz la lb lc ld le lf lg ka lh kb li kd lj ke lk kg ll kh lm ln bi translated">1.创建新的应用程序</h1><p id="5168" class="pw-post-body-paragraph lo lp it lq b lr ls jv lt lu lv jy lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">你需要做的第一件事是前往<strong class="lq iu">不和谐开发者门户</strong>并创建一个新的应用程序。打开浏览器并访问:</p><ul class=""><li id="3f2d" class="mr ms it lq b lr mm lu mn lx nj mb nk mf nl mj mw mx my mz bi translated"><a class="ae nm" href="https://discord.com/developers/applications" rel="noopener ugc nofollow" target="_blank">https://discord.com/developers/applications</a></li></ul><p id="9cb8" class="pw-post-body-paragraph lo lp it lq b lr mm jv lt lu mn jy lw lx mo lz ma mb mp md me mf mq mh mi mj im bi translated">确保您已经登录。点击右上角的【新应用】<strong class="lq iu"> </strong>按钮，给你的应用起一个名字，点击【创建】按钮<strong class="lq iu">。</strong></p><p id="8521" class="pw-post-body-paragraph lo lp it lq b lr mm jv lt lu mn jy lw lx mo lz ma mb mp md me mf mq mh mi mj im bi translated">现在我们需要向这个应用程序添加一个机器人用户。点击主菜单中的“机器人”，然后点击“添加机器人”按钮。由于此操作不可撤销，您必须点击“是，执行！”按钮。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nn"><img src="../Images/a791d65fb86475e3d491d3152fe8f904.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_zH-TGTcCGQCOpN1YSJ8eg.png"/></div></div></figure><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kv"><img src="../Images/c53b42b442d3d4705fdbcb411745ae93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IflOIj5yBQzJtDYMovIxmg.jpeg"/></div></div></figure><h1 id="e0fd" class="kw kx it bd ky kz la lb lc ld le lf lg ka lh kb li kd lj ke lk kg ll kh lm ln bi translated">2.建造机器人</h1><h2 id="48da" class="no kx it bd ky np nq dn lc nr ns dp lg lx nt nu li mb nv nw lk mf nx ny lm nz bi translated">为项目创建一个目录</h2><pre class="kk kl km kn gt oa ni ob oc aw od bi"><span id="46d1" class="no kx it ni b gy oe of l og oh">mkdir -p $HOME/Code/chuck</span><span id="3ca9" class="no kx it ni b gy oi of l og oh">cd $HOME/Code/chuck</span></pre><h2 id="34df" class="no kx it bd ky np nq dn lc nr ns dp lg lx nt nu li mb nv nw lk mf nx ny lm nz bi translated">初始化编写器并需要依赖项</h2><pre class="kk kl km kn gt oa ni ob oc aw od bi"><span id="db57" class="no kx it ni b gy oe of l og oh">composer init --name="bypaul/chuck" -n</span><span id="b730" class="no kx it ni b gy oi of l og oh">composer require team-reflex/discord-php</span></pre><h2 id="3c69" class="no kx it bd ky np nq dn lc nr ns dp lg lx nt nu li mb nv nw lk mf nx ny lm nz bi translated">将名为“bot.php”的文件添加到项目的根目录，内容如下:</h2><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="oj ml l"/></div></figure><p id="46b0" class="pw-post-body-paragraph lo lp it lq b lr mm jv lt lu mn jy lw lx mo lz ma mb mp md me mf mq mh mi mj im bi translated">你需要用你的机器人的令牌更新<code class="fe nf ng nh ni b">'token' =&gt; ''</code>。回到<a class="ae nm" href="https://discord.com/developers/applications" rel="noopener ugc nofollow" target="_blank"> <strong class="lq iu"> Discord开发者门户</strong> </a>点击主菜单中的Bot在那里，您可以找到并复制您的令牌。</p><p id="ffb0" class="pw-post-body-paragraph lo lp it lq b lr mm jv lt lu mn jy lw lx mo lz ma mb mp md me mf mq mh mi mj im bi translated">仅此而已。恭喜你，你刚刚使用异步PHP创建了一个不和谐机器人。</p><p id="afab" class="pw-post-body-paragraph lo lp it lq b lr mm jv lt lu mn jy lw lx mo lz ma mb mp md me mf mq mh mi mj im bi translated">上面的代码监听服务器上的任何新消息。当接收到新的消息事件时，它检查内容是否等于“！笑话”，如果是这样，它就向<a class="ae nm" href="https://api.chucknorris.io/" rel="noopener ugc nofollow" target="_blank">https://api.chucknorris.io/jokes/random</a>发出GET请求，以获取一个随机笑话，并将其回复给服务器。</p><p id="0c14" class="pw-post-body-paragraph lo lp it lq b lr mm jv lt lu mn jy lw lx mo lz ma mb mp md me mf mq mh mi mj im bi translated"><em class="ok">如果你以前从未接触过</em> <strong class="lq iu"> <em class="ok">异步PHP </em> </strong> <em class="ok">和</em><strong class="lq iu"><em class="ok">react PHP</em></strong><em class="ok">，这段代码可能会显得有些陌生，我建议你访问</em> <a class="ae nm" href="https://reactphp.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="lq iu"> <em class="ok"> ReactPHP:(事件驱动，非阻塞PHP I/O)</em></strong></a><em class="ok">来熟悉它。</em></p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kv"><img src="../Images/c53b42b442d3d4705fdbcb411745ae93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IflOIj5yBQzJtDYMovIxmg.jpeg"/></div></div></figure><h1 id="73f8" class="kw kx it bd ky kz la lb lc ld le lf lg ka lh kb li kd lj ke lk kg ll kh lm ln bi translated">3.邀请机器人加入您的服务器</h1><p id="e093" class="pw-post-body-paragraph lo lp it lq b lr ls jv lt lu lv jy lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">接下来，您需要邀请机器人到一个服务器，在那里您可以试用它。如果没有服务器，首先需要创建一个。你可以通过进入<a class="ae nm" href="https://discord.com/developers/applications" rel="noopener ugc nofollow" target="_blank"> Discord开发者门户</a>来邀请机器人，点击<strong class="lq iu"> OAuth2 </strong>，选择<strong class="lq iu">范围的<strong class="lq iu">机器人</strong>，</strong>并添加机器人需要的<strong class="lq iu">权限</strong>。为了简单起见，我选择了“<strong class="lq iu">管理员</strong>，但是您应该<strong class="lq iu">只</strong>给你的机器人它需要的权限。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ol"><img src="../Images/e84411d55391e7f2d878523923bce83c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*06vu1gArXmTKpwUI4DMuwA.png"/></div></div></figure><p id="4b0d" class="pw-post-body-paragraph lo lp it lq b lr mm jv lt lu mn jy lw lx mo lz ma mb mp md me mf mq mh mi mj im bi translated">将链接复制并粘贴到浏览器的地址栏中，按enter键，然后按照说明将bot添加到您的服务器。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kv"><img src="../Images/c53b42b442d3d4705fdbcb411745ae93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IflOIj5yBQzJtDYMovIxmg.jpeg"/></div></div></figure><h1 id="de87" class="kw kx it bd ky kz la lb lc ld le lf lg ka lh kb li kd lj ke lk kg ll kh lm ln bi translated">4.运行机器人</h1><p id="a8ef" class="pw-post-body-paragraph lo lp it lq b lr ls jv lt lu lv jy lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">现在剩下的就是运行机器人并进行测试。从项目运行的根目录开始:</p><pre class="kk kl km kn gt oa ni ob oc aw od bi"><span id="cacc" class="no kx it ni b gy oe of l og oh">php bot.php</span></pre><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi om"><img src="../Images/bd3b038d550632eceed96413c4b05813.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ifuHKU432HsLCHkk0yEVLg.gif"/></div></div></figure><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi om"><img src="../Images/c20a75067ce55ef27cd37359fe02d477.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*xK2ZPt0Odvz_4AUupn61MQ.gif"/></div></div></figure><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kv"><img src="../Images/c53b42b442d3d4705fdbcb411745ae93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IflOIj5yBQzJtDYMovIxmg.jpeg"/></div></div></figure><h1 id="236e" class="kw kx it bd ky kz la lb lc ld le lf lg ka lh kb li kd lj ke lk kg ll kh lm ln bi translated">结论</h1><p id="b3f1" class="pw-post-body-paragraph lo lp it lq b lr ls jv lt lu lv jy lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">正如您所看到的，使用异步PHP创建一个不和谐的机器人是一样容易的。感谢您阅读本文；我希望它对你有所帮助，并且我可能为你的下一个项目激发了一些想法。</p></div></div>    
</body>
</html>