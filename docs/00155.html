<html>
<head>
<title>Custom Icons and Typographies in React Native</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React Native中的自定义图标和版式</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/custom-icons-and-typographies-in-react-native-460e970d3147?source=collection_archive---------0-----------------------#2018-06-17">https://levelup.gitconnected.com/custom-icons-and-typographies-in-react-native-460e970d3147?source=collection_archive---------0-----------------------#2018-06-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/140e6d3c453f57ca955527bb31e96a62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PHUyljg7hpvQizZWeHLMjw.png"/></div></div></figure><p id="f6db" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">以下是在React Native中使用自定义图标和字体的一些注意事项。不要忘记检查<a class="ae kw" href="https://react-native.shop/elements" rel="noopener ugc nofollow" target="_blank"> React原生草图元素</a>，最全面的React原生初学者工具包。</p><div class="kx ky gp gr kz la"><a href="https://hackernoon.com/react-native-sketch-elements-889f010f9626" rel="noopener  ugc nofollow" target="_blank"><div class="lb ab fo"><div class="lc ab ld cl cj le"><h2 class="bd ir gy z fp lf fr fs lg fu fw ip bi translated">反应原生草图元素</h2><div class="lh l"><h3 class="bd b gy z fp lf fr fs lg fu fw dk translated">经过两个月的制作，React本地草图元素终于出现了。反应原生元素涵盖了广泛的…</h3></div><div class="li l"><p class="bd b dl z fp lf fr fs lg fu fw dk translated">hackernoon.com</p></div></div><div class="lj l"><div class="lk l ll lm ln lj lo jw la"/></div></div></a></div><figure class="lp lq lr ls gt jr"><div class="bz fp l di"><div class="lt lu l"/></div></figure><h1 id="a1a8" class="lv lw iq bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms bi translated">Expo自定义图标库</h1><p id="c850" class="pw-post-body-paragraph jy jz iq ka b kb mt kd ke kf mu kh ki kj mv kl km kn mw kp kq kr mx kt ku kv ij bi translated">我最近决定将图标字体从React Sketch Elements升级到它原来的图标库。该过程需要将Sketch中的图标切片导出为SVG文件，使用<a class="ae kw" href="https://icomoon.io/" rel="noopener ugc nofollow" target="_blank"> icomoon </a>创建字体文件，最后使用<a class="ae kw" href="https://docs.expo.io/versions/latest/guides/icons" rel="noopener ugc nofollow" target="_blank"> Expo </a>导入该字体文件。除此之外，我们将使用Flow在项目中强制使用正确的图标名称。这是一个手动过程，但是您可以使用<a class="ae kw" href="https://medium.com/@lmartins/building-icon-fonts-with-grunt-4e22107d7f97" rel="noopener">这个来自路易斯·马丁斯的精彩故事</a>来完全自动化这个工作流程。</p><p id="416d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一旦你有了icomoon的字体文件，你需要导入它，以及它的icomoon规范文件。我们将使用<code class="fe my mz na nb b">createIconSetFromIcoMoon()</code>来创建<code class="fe my mz na nb b">&lt;Icon&gt;</code>组件，使用<code class="fe my mz na nb b">Font.loadAsyc()</code>来加载字体文件。</p><pre class="lp lq lr ls gt nc nb nd ne aw nf bi"><span id="64be" class="ng lw iq nb b gy nh ni l nj nk">// To load the font<br/>import {Font} from "expo";</span><span id="7f29" class="ng lw iq nb b gy nl ni l nj nk">// To create the &lt;Icon&gt; component<br/>import {createIconSetFromIcoMoon} from "<a class="ae kw" href="http://twitter.com/expo/vector-icons" rel="noopener ugc nofollow" target="_blank">@expo/vector-icons</a>";</span><span id="d70c" class="ng lw iq nb b gy nl ni l nj nk">import Icons from "./icons.ttf";<br/>import config from "./config.json";</span><span id="97b3" class="ng lw iq nb b gy nl ni l nj nk">export const loadIconFont = () =&gt; Font.loadAsync({ Icons });<br/>const Icon = createIconSetFromIcoMoon(config, "Icons");</span><span id="16bb" class="ng lw iq nb b gy nl ni l nj nk">// Type Safety First!<br/>export type IconName = "arrow-up" | "arrow-right" | "...";</span></pre><p id="6db3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我使用了一小段JavaScript来生成如下所示的<code class="fe my mz na nb b">IconName</code>类型。</p><pre class="lp lq lr ls gt nc nb nd ne aw nf bi"><span id="89e6" class="ng lw iq nb b gy nh ni l nj nk">const config = require("./config");</span><span id="d849" class="ng lw iq nb b gy nl ni l nj nk">console.log(<br/>  config.icons.map(icon =&gt; `"${icon.properties.name}"`).join(" | ")<br/>);</span></pre><h1 id="7874" class="lv lw iq bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms bi translated">自定义排版</h1><p id="50e5" class="pw-post-body-paragraph jy jz iq ka b kb mt kd ke kf mu kh ki kj mv kl km kn mw kp kq kr mx kt ku kv ij bi translated">你可能已经注意到iOS <code class="fe my mz na nb b">&lt;Text&gt;</code>有一个不可约函数，使得文本的垂直对齐非常困难。对于旧金山字体，这种填充是平衡的，因此您不会注意到这个问题。但是用其他字体会显得很明显。如果你正在寻找解决这个问题的方法，请查看马丁·亚当科的这个<a class="ae kw" href="https://medium.com/@martin_adamko/consistent-font-line-height-rendering-42068cc2957d" rel="noopener">精彩故事。我最终使用他的提示创建了一个自定义字体文件，该文件仅用于可以轻松垂直对齐的单行文本。对于其余部分，我使用应用了<code class="fe my mz na nb b">lineHeight</code>属性的原始字体文件。谢谢马丁！</a></p><pre class="lp lq lr ls gt nc nb nd ne aw nf bi"><span id="5f54" class="ng lw iq nb b gy nh ni l nj nk">import MyriadProRegular from "./fonts/MyriadPro-Regular.otf";<br/>import MyriadProRegularSingleLine from "./fonts/MyriadPro-Regular-SingleLine.otf";</span><span id="0481" class="ng lw iq nb b gy nl ni l nj nk">render(): React.Node {<br/>    const {type, numberOfLines, children} = this.props;<br/>    const typographyStyle = styleGuide.typography[type];<br/>    if (numberOfLines === 1) {<br/>      style.push({ fontFamily: 'MyriadProRegularSingleLine' });<br/>    }<br/>    return (<br/>      &lt;Text {...{ style, numberOfLines }}&gt;<br/>        {children}<br/>      &lt;/Text&gt;<br/>    );<br/>  }</span></pre><h1 id="9a29" class="lv lw iq bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms bi translated">那都是乡亲们！</h1><p id="2d66" class="pw-post-body-paragraph jy jz iq ka b kb mt kd ke kf mu kh ki kj mv kl km kn mw kp kq kr mx kt ku kv ij bi translated">希望你喜欢这个故事。请让我知道你对这个话题的想法。</p></div></div>    
</body>
</html>