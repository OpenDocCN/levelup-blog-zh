<html>
<head>
<title>Expo vs React Native CLI: A Guide to Bootstrapping New React Native Apps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Expo vs React原生CLI:引导新React原生应用的指南</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/expo-vs-react-native-cli-a-guide-to-bootstrapping-new-react-native-apps-6f0fcafee58f?source=collection_archive---------0-----------------------#2018-09-25">https://levelup.gitconnected.com/expo-vs-react-native-cli-a-guide-to-bootstrapping-new-react-native-apps-6f0fcafee58f?source=collection_archive---------0-----------------------#2018-09-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/d8d560920da296ad9afb1a058cdf3ce2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OL7lRb82uQPzKz08JgQnXA.jpeg"/></div></div></figure><div class=""/><p id="9b27" class="pw-post-body-paragraph jz ka jb kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated"><em class="kx">这是我的书《反应本地烹饪书》的节选，第二版，由帕克特出版社出版，将于今年冬天出版。</em></p><p id="c3de" class="pw-post-body-paragraph jz ka jb kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">React Native已经成为一种非常流行的主要使用JavaScript代码构建跨平台原生应用程序的方式。已经有不少好文章描述了React Native中开发的利与弊，比如<em class="kx"> </em> <a class="ae ky" href="https://proandroiddev.com/react-native-is-it-worth-it-part-i-398ec3fb9db7" rel="noopener ugc nofollow" target="_blank"> <em class="kx"> React Native:值得吗？</em> </a> <em class="kx">，</em> <a class="ae ky" href="https://www.netguru.co/blog/react-native-pros-and-cons" rel="noopener ugc nofollow" target="_blank"> <em class="kx"> React Native:利弊</em> </a> <em class="kx">，</em> <a class="ae ky" href="https://www.viget.com/articles/why-you-should-consider-react-native/" rel="noopener ugc nofollow" target="_blank"> <em class="kx">为什么要考虑React Native </em> </a> <em class="kx">，</em><a class="ae ky" href="https://www.simform.com/react-native-limitations-app-development/" rel="noopener ugc nofollow" target="_blank"><em class="kx">React Native的局限性每个开发者都应该了解</em> </a>。</p><p id="0687" class="pw-post-body-paragraph jz ka jb kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">如果您认为React Native适合您的项目，那么这篇文章就是为您准备的！我们将讨论你的应用程序启动选项，以及每个选项的优缺点。</p><p id="1bcd" class="pw-post-body-paragraph jz ka jb kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">初始化和开发应用程序有两种方法:Expo和React Native CLI。直到最近，还有一种截然不同的第三种方法，使用Create React Native App (CRNA)。CRNA已经与Expo项目合并，只是作为一个独立的实体继续存在，以提供向后兼容性。</p><p id="af7f" class="pw-post-body-paragraph jz ka jb kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">Expo属于第一类工具，它以牺牲一些灵活性为代价，提供了一个更加健壮和开发者友好的开发工作流程。通过Expo启动的应用程序也可以访问Expo SDK提供的许多有用的功能，如<a class="ae ky" href="https://docs.expo.io/versions/latest/sdk/bar-code-scanner" rel="noopener ugc nofollow" target="_blank">条形码扫描仪</a>、<a class="ae ky" href="https://docs.expo.io/versions/latest/sdk/map-view" rel="noopener ugc nofollow" target="_blank"> MapView </a>、<a class="ae ky" href="https://docs.expo.io/versions/latest/sdk/imagepicker" rel="noopener ugc nofollow" target="_blank"> ImagePicker </a>等等。</p><p id="92b2" class="pw-post-body-paragraph jz ka jb kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">通过<code class="fe kz la lb lc b">react-native init</code>命令使用React Native CLI初始化应用程序提供了灵活性，但降低了开发的便利性。用<code class="fe kz la lb lc b">react-native init</code>命令创建的React原生应用被称为是纯粹的<em class="kx">React原生应用，因为没有任何原生代码对开发者隐藏。</em></p><p id="b397" class="pw-post-body-paragraph jz ka jb kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">根据经验，如果第三方软件包的文档说明您需要运行命令<code class="fe kz la lb lc b">react-native link</code>作为设置过程的一部分，那么该软件包只能用于纯React本机应用程序。</p><p id="2b7f" class="pw-post-body-paragraph jz ka jb kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">那么，当您使用Expo构建应用程序的过程进行到一半，却发现Expo开发工作流不支持您的应用程序需求所必需的包时，您该怎么办呢？幸运的是，Expo有一个方法可以将Expo项目转换成一个纯粹的React本地应用程序，就像它是用<code class="fe kz la lb lc b">react-native init</code>命令创建的一样。当一个项目被弹出时，所有的原生代码都被解压到ios和android文件夹中，<code class="fe kz la lb lc b">App.js</code>文件被拆分成<code class="fe kz la lb lc b">App.js</code>和<code class="fe kz la lb lc b">index.js</code>，暴露出挂载根React原生组件的代码。</p><p id="fabb" class="pw-post-body-paragraph jz ka jb kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">但是，如果您的Expo应用程序依赖Expo SDK提供的功能，该怎么办呢？毕竟，用Expo开发的大部分价值来自于SDK提供的优秀特性，包括AuthSession、Permissions、WebBrowser等等。</p><p id="f74e" class="pw-post-body-paragraph jz ka jb kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">这就是ExpoKit发挥作用的地方。当您选择从项目中推出时，您可以选择将ExpoKit作为推出项目的一部分。包含ExpoKit将确保您的应用程序中正在使用的所有Expo依赖项将继续工作，并且还让您能够继续使用Expo SDK的所有功能，即使在应用程序被退出后。</p><p id="f1b9" class="pw-post-body-paragraph jz ka jb kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">不幸的是，使用Expo进行开发的一些好处将会在这个过程之后丢失。Expo减轻了为iTunes Store和Google Play store构建二进制文件的负担，让您不必使用Xcode和Android Studio，消除了项目中React原生升级的麻烦，并可以管理您的推送通知管道。如果你选择退出博览会，这些功能你将不得不说再见。</p><p id="d719" class="pw-post-body-paragraph jz ka jb kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">为了更深入地了解弹射过程，你可以在<a class="ae ky" href="https://docs.expo.io/versions/latest/expokit/eject" rel="noopener ugc nofollow" target="_blank">https://docs.expo.io/versions/latest/expokit/eject</a>阅读关于弹射的世博会文件。</p><figure class="le lf lg lh gt is gh gi paragraph-image"><a href="https://gitconnected.com"><div class="gh gi ld"><img src="../Images/26797da0642875dc5a034a11d5991f56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vLqV3O21wXUs-3CpOK9n9Q.png"/></div></a></figure><h1 id="14d0" class="li lj jb bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">React本机开发工具</h1><p id="8f02" class="pw-post-body-paragraph jz ka jb kb b kc mg ke kf kg mh ki kj kk mi km kn ko mj kq kr ks mk ku kv kw ij bi translated">与任何开发工具一样，在灵活性和易用性之间会有一个折衷。我鼓励您从使用Expo作为React本机开发工作流开始，除非您确定需要访问本机代码。</p><h1 id="55d8" class="li lj jb bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">世博会</h1><p id="1ff2" class="pw-post-body-paragraph jz ka jb kb b kc mg ke kf kg mh ki kj kk mi km kn ko mj kq kr ks mk ku kv kw ij bi translated">根据expo.io网站的说法，expo是“一个围绕React Native构建的免费开源工具链，帮助你使用JavaScript和React构建原生iOS和Android项目。”世博会正在成为一个独立的生态系统，由5个相互关联的工具组成:</p><ol class=""><li id="90ae" class="ml mm jb kb b kc kd kg kh kk mn ko mo ks mp kw mq mr ms mt bi translated"><strong class="kb jc"> XDE: </strong>世博发展环境。Expo团队称XDE为“图形开发环境”，它有macOS、Windows和Linux版本。这是您将用于创建、构建、服务和共享React原生应用的主要工具。Expo甚至有一个将你编译的应用发布到应用商店/谷歌Play商店的工作流程！</li><li id="1614" class="ml mm jb kb b kc mu kg mv kk mw ko mx ks my kw mq mr ms mt bi translated"><strong class="kb jc">世博CLI: </strong>世博命令行界面。如果您喜欢生活在终端中，CLI以命令行形式提供了基于GUI的XDE的所有功能。</li><li id="26f5" class="ml mm jb kb b kc mu kg mv kk mw ko mx ks my kw mq mr ms mt bi translated"><strong class="kb jc">世博客户端:</strong>一款适用于Android和iOS的app。此应用程序允许您在设备上运行Expo应用程序中的React原生项目，而无需安装。这允许开发人员在真实设备上热重装，或者与任何人共享开发代码，而无需安装。</li><li id="4dd1" class="ml mm jb kb b kc mu kg mv kk mw ko mx ks my kw mq mr ms mt bi translated"><strong class="kb jc"> Expo Snack: </strong>托管于<a class="ae ky" href="https://snack.expo.io/" rel="noopener ugc nofollow" target="_blank"> https://snack.expo.io </a>，这款网络应用允许你在浏览器中使用React原生应用，并实时预览你正在工作的代码。如果你曾经使用过<a class="ae ky" href="https://codepen.io/" rel="noopener ugc nofollow" target="_blank"> CodePen </a>或<a class="ae ky" href="https://jsfiddle.net/" rel="noopener ugc nofollow" target="_blank"> JSFiddle </a>，那么零食就是应用于React原生应用的相同概念。</li><li id="1a8f" class="ml mm jb kb b kc mu kg mv kk mw ko mx ks my kw mq mr ms mt bi translated"><strong class="kb jc"> Expo SDK: </strong>这是一个SDK，它包含了一组精彩的JavaScript APIs，这些API提供了基本React原生包中没有的原生功能，包括与设备的加速度计、摄像头、通知、地理定位等配合使用。Expo创建的每一个新项目都附带了这个SDK。</li></ol><p id="2618" class="pw-post-body-paragraph jz ka jb kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">这些工具共同构成了世博会的工作流程。借助XDE世博会或CLI，您可以创建和构建内置Expo SDK支持的新应用。XDE/CLI还提供了一种简单的方法来为您的开发中应用程序提供服务，方法是自动将您的代码推送到亚马逊S3，并为项目生成一个url。从那里，XDE/CLI生成一个链接到托管代码的QR代码。在你的iPhone或Android设备上打开Expo客户端应用程序，扫描二维码，然后BOOM就有了你的应用程序，配备了实时/热重装功能！由于该应用程序托管在亚马逊S3上，你甚至可以与其他开发者实时共享正在开发的应用程序。(请注意，分享正在开发的Expo应用程序的二维码方法已被苹果公司在iPhone上禁用，现在是Android独有的功能。不过，这款应用仍然可以通过短信分享。)</p><p id="9bf7" class="pw-post-body-paragraph jz ka jb kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">XDE/CLI还可以简化最终应用程序的构建。</p><h1 id="ac52" class="li lj jb bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">2.react-本机初始化</h1><p id="96af" class="pw-post-body-paragraph jz ka jb kb b kc mg ke kf kg mh ki kj kk mi km kn ko mj kq kr ks mk ku kv kw ij bi translated">创建新React本机应用程序的原始引导方法是React本机CLI提供的<code class="fe kz la lb lc b">react-native init</code>命令。我将这种方法列在最后，因为它不再是官方团队在其入门指南中推荐的初始化React本机应用程序的方法。</p><p id="df77" class="pw-post-body-paragraph jz ka jb kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">在React原生社区中，用这种方法创建的应用被称为纯React原生应用，因为所有的开发和原生代码文件都向开发者公开。虽然这提供了最大的自由，但也迫使开发人员维护本机代码。如果您是一名JavaScript开发人员，因为打算只使用JavaScript编写原生应用程序而加入了React Native潮流，那么必须在React Native项目中维护原生代码可能是这种方法的最大缺点。</p><p id="ca44" class="pw-post-body-paragraph jz ka jb kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">另一方面，在使用react-native init命令引导的应用程序时，您可以访问第三方插件，并直接访问代码库的本机部分。你还可以避开Expo目前的一些限制，特别是无法使用背景音频或背景GPS服务。</p><h1 id="1c28" class="li lj jb bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">3.CRNA或创建-反应-本机-应用程序</h1><p id="b642" class="pw-post-body-paragraph jz ka jb kb b kc mg ke kf kg mh ki kj kk mi km kn ko mj kq kr ks mk ku kv kw ij bi translated">如前所述，自从CRNA项目与Expo合并后，这种引导方法就被弃用了。然而，在撰写本文时，官方的React Native <em class="kx">入门</em>文档仍然引用使用它，所以我包含了一些关于它的基本信息。</p><p id="6eb5" class="pw-post-body-paragraph jz ka jb kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated"><a class="ae ky" href="https://github.com/react-community/create-react-native-app" rel="noopener ugc nofollow" target="_blank">CRNA(create-react-native-app)</a>是开源React社区<a class="ae ky" href="https://github.com/react-community" rel="noopener ugc nofollow" target="_blank"> react-community </a>的项目。它在概念上与由脸书构建和维护的<a class="ae ky" href="https://github.com/facebook/create-react-app" rel="noopener ugc nofollow" target="_blank"> CRA (create-react-app) </a>项目相同，但是是为react本地项目设计的。用CRNA初始化一个新的React本地项目只需要一个命令:</p><pre class="le lf lg lh gt mz lc na nb aw nc bi"><span id="f07e" class="nd lj jb lc b gy ne nf l ng nh">create-react-native-app my-app</span></pre><h1 id="a1b1" class="li lj jb bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">规划您的应用和选择您的工作流程</h1><p id="8763" class="pw-post-body-paragraph jz ka jb kb b kc mg ke kf kg mh ki kj kk mi km kn ko mj kq kr ks mk ku kv kw ij bi translated">每个应用程序都是独一无二的，因此选择正确的引导过程在很大程度上取决于应用程序的需求和您喜欢的开发类型。在选择开发工作流程时，您可以问自己以下几个问题:</p><ul class=""><li id="43ab" class="ml mm jb kb b kc kd kg kh kk mn ko mo ks mp kw ni mr ms mt bi translated">我需要访问代码库的本机部分吗？</li><li id="3141" class="ml mm jb kb b kc mu kg mv kk mw ko mx ks my kw ni mr ms mt bi translated">我的应用程序中需要Expo不支持的任何第三方包吗？</li><li id="d565" class="ml mm jb kb b kc mu kg mv kk mw ko mx ks my kw ni mr ms mt bi translated">我的应用程序不在前台时需要播放音频吗？</li><li id="0df6" class="ml mm jb kb b kc mu kg mv kk mw ko mx ks my kw ni mr ms mt bi translated">我的应用程序不在前台时需要位置服务吗？</li><li id="3d29" class="ml mm jb kb b kc mu kg mv kk mw ko mx ks my kw ni mr ms mt bi translated">我需要推送通知支持吗？</li><li id="66a3" class="ml mm jb kb b kc mu kg mv kk mw ko mx ks my kw ni mr ms mt bi translated">我在Xcode和Android Studio中工作舒服吗？</li></ul><p id="0f8a" class="pw-post-body-paragraph jz ka jb kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">根据我的经验，世博会通常是最好的起点。它显著提高了开发期间的生活质量，简化了推送通知和发布到商店的流程，并通过Expo SDK提供了丰富的功能。如果你确定你的应用需要Expo应用目前缺乏的支持(例如背景音频和背景位置服务)，或者如果你确定你需要在原生层工作，我建议只从纯React原生应用开始开发。</p><p id="b177" class="pw-post-body-paragraph jz ka jb kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">我还推荐浏览托管在<a class="ae ky" href="http://native.directory/" rel="noopener ugc nofollow" target="_blank"> http://native.directory </a>的原生目录。这个站点有一个非常大的第三方包目录，可以用于React本地开发。网站上列出的每个包都有一个估计的稳定性、流行度和文档链接。然而，可以说原生目录的最佳特性是能够根据它们支持的设备/开发类型过滤软件包，包括<strong class="kb jc"> iOS </strong>、<strong class="kb jc"> Android </strong>、<strong class="kb jc"> Expo </strong>和<strong class="kb jc"> Web </strong>。这将有助于您缩小应用所需特性的包选择范围，并更好地告知哪种开发工作流最适合您的应用需求。</p><h1 id="24b2" class="li lj jb bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">进一步阅读</h1><ul class=""><li id="c3c8" class="ml mm jb kb b kc mg kg mh kk nj ko nk ks nl kw ni mr ms mt bi translated">世博会常见问题:<a class="ae ky" href="https://docs.expo.io/versions/latest/introduction/faq.html" rel="noopener ugc nofollow" target="_blank">https://docs.expo.io/versions/latest/introduction/faq.html</a></li><li id="149d" class="ml mm jb kb b kc mu kg mv kk mw ko mx ks my kw ni mr ms mt bi translated">用ExpoKit开发:<a class="ae ky" href="https://docs.expo.io/versions/latest/guides/expokit.html" rel="noopener ugc nofollow" target="_blank">https://docs.expo.io/versions/latest/guides/expokit.html</a></li><li id="500e" class="ml mm jb kb b kc mu kg mv kk mw ko mx ks my kw ni mr ms mt bi translated">分离使用expo和react-native init命令创建的项目的区别:<a class="ae ky" href="https://github.com/expo/expo/issues/1412" rel="noopener ugc nofollow" target="_blank">https://github.com/expo/expo/issues/1412</a></li><li id="65ca" class="ml mm jb kb b kc mu kg mv kk mw ko mx ks my kw ni mr ms mt bi translated">从Create React Native App弹出:<a class="ae ky" href="https://github.com/react-community/create-react-native-app/blob/master/EJECTING.md" rel="noopener ugc nofollow" target="_blank">https://github . com/React-community/Create-React-Native-App/blob/master/ejecting . MD</a></li></ul></div><div class="ab cl nm nn hu no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="ij ik il im in"><p id="ca3a" class="pw-post-body-paragraph jz ka jb kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated"><em class="kx">如果您觉得本文有帮助，请点击👏。您还可以</em> <a class="ae ky" href="https://medium.com/@warlyware" rel="noopener"> <em class="kx">关注我</em> </a> <em class="kx">获取更多关于React Native、Vue和JavaScript开发的文章。</em></p></div><div class="ab cl nm nn hu no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="ij ik il im in"><figure class="le lf lg lh gt is gh gi paragraph-image"><a href="https://levelup.gitconnected.com"><div class="gh gi nt"><img src="../Images/d9fe9ae1a34de6a28338eae427dd6438.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E8lHUzxrIT5VDhu7fUS6gg.png"/></div></a></figure><div class="ip iq gp gr ir nu"><a href="https://gitconnected.com/learn/react-native" rel="noopener  ugc nofollow" target="_blank"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd jc gy z fp nz fr fs oa fu fw ja bi translated">学习React Native -最佳React Native教程(2019) | gitconnected</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">10大React原生教程。课程由开发人员提交并投票，使您能够找到最佳反应…</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">gitconnected.com</p></div></div><div class="od l"><div class="oe l of og oh od oi ix nu"/></div></div></a></div></div></div>    
</body>
</html>