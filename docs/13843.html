<html>
<head>
<title>SCAAR — Software Design Principles for CSS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SCAAR——CSS的软件设计原则</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/scaar-software-design-principles-for-css-d503ab60672c?source=collection_archive---------2-----------------------#2022-10-11">https://levelup.gitconnected.com/scaar-software-design-principles-for-css-d503ab60672c?source=collection_archive---------2-----------------------#2022-10-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5a41" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">写CSS不一定要很烦！</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/1af1e667644e5d6b0078d02680c40ee9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xx4XL8ZAkcmWoC_o6JHK6w.png"/></div></div></figure><p id="7078" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">随着我越来越深入CSS的世界，我接触到了更多与我职业经历截然不同的开发人员的对话。看到对CSS的仇视我并不意外，但是当我得知很多高级开发者<em class="ln">对此并不在乎</em>时，我<em class="ln">却</em>措手不及。这似乎与区分低年级学生和高年级学生的其他因素不一致，其中最突出的区别是高年级学生更关心。</p><p id="8f40" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我一直致力于减少让编写CSS如此令人厌恶的常见问题。当这个话题出现时，开发人员似乎经常把这些问题想象成在没有任何第三方工具的情况下唯一的选择。因此，我觉得有必要记录我的过程，因为它似乎已经从这个行业中消失了。</p><p id="73c9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">SCAAR是我为了传达这些原则而创造的一个名字，但它们并不是我必须发明的。为了方便起见，这实际上是几个想法的汇总。正如你可能猜到的，SCAAR是一个缩写，它代表:</p><ol class=""><li id="c5f4" class="lo lp iq kt b ku kv kx ky la lq le lr li ls lm lt lu lv lw bi translated">审视</li><li id="1b7d" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">(音乐)可设定的</li><li id="2448" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">不可知论者</li><li id="df57" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">原子的</li><li id="9069" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">可重复使用的</li></ol></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h1 id="a053" class="mj mk iq bd ml mm mn mo mp mq mr ms mt jw mu jx mv jz mw ka mx kc my kd mz na bi translated">1.审视</h1><p id="1a4f" class="pw-post-body-paragraph kr ks iq kt b ku nb jr kw kx nc ju kz la nd lc ld le ne lg lh li nf lk ll lm ij bi translated">以强势开始，这可能是解决方案中最重要的部分。对CSS最常见的抱怨是覆盖和命名冲突的困难。那么什么是作用域CSS呢？</p><p id="a662" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">好吧，让我们从它<em class="ln">不是</em>开始，只是为了弄清楚。我说的作用域CSS并不是指像<code class="fe ng nh ni nj b">.about-section h2</code>这样的嵌套选择器，或者如果你喜欢支持嵌套语法的预处理器:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/ab791da77657b50397416a0b109be6e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*VscQBc7sFxYN4sjtNwAinw.png"/></div></figure><p id="cbdb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这可能会达到一个模糊的类似结果，但它通常会导致麻烦。例如，如果你想在<code class="fe ng nh ni nj b">.about-section</code>中嵌套另一个部分，你必须解决与里面的<code class="fe ng nh ni nj b">h2</code>的冲突，因为级联。</p><p id="d206" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您通常希望只选择您需要的特定元素，这样您就不必担心级联。这可以通过使用更具体的类名来选择<code class="fe ng nh ni nj b">h2</code>来完成，例如使用<a class="ae nl" href="https://getbem.com/naming/" rel="noopener ugc nofollow" target="_blank"> BEM </a> : <code class="fe ng nh ni nj b">.about-section__title</code>。</p><p id="b54c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">那么<em class="ln">就是</em>作用域CSS吗？<em class="ln">还没有！我们正在慢慢变得更好，但仍然不太理想，因为这个类名是在全球范围内公开定义的。如果要和JavaScript做个比较，这就是<code class="fe ng nh ni nj b">window.myModule</code>和<code class="fe ng nh ni nj b">import myModule from 'my-module'</code>的区别。那么我们怎样才能在CSS中实现对等呢？</em></p><p id="f36b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在CSS领域有点困难，但已经有人为此努力了。值得注意的是，<a class="ae nl" href="https://github.com/css-modules/css-modules" rel="noopener ugc nofollow" target="_blank"> CSS模块</a>允许你将CSS文件导入JavaScript，而在幕后，它用GUIDs转换你的类名以避免命名冲突。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/7bc7643943d6d39f0492521193e001a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BTTVhiUrpxTNqYHzHksT0g.png"/></div></div></figure><p id="d02c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">类似的结果可以通过各种CSS-in-JS库来实现，比如<a class="ae nl" href="https://styled-components.com/" rel="noopener ugc nofollow" target="_blank"> StyledComponents </a>或<a class="ae nl" href="https://emotion.sh/docs/introduction" rel="noopener ugc nofollow" target="_blank"> Emotion </a>，有些人更喜欢这些库，因为这样可以减少命名的数量，并且方便地将所有内容保存在一个文件中。<em class="ln">需要注意的是，这里有</em> <a class="ae nl" href="https://dev.to/srmagura/why-were-breaking-up-wiht-css-in-js-4g9b" rel="noopener ugc nofollow" target="_blank"> <em class="ln">利弊</em> </a> <em class="ln">。香草精</em><a class="ae nl" href="https://vanilla-extract.style/" rel="noopener ugc nofollow" target="_blank"><em class="ln"/></a><em class="ln">包装或许是对这些反对意见的一个回答。</em></p><p id="95ac" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，一些框架使用了一种稍微不同的开箱即用策略，例如<a class="ae nl" href="https://vue-loader.vuejs.org/guide/scoped-css.html" rel="noopener ugc nofollow" target="_blank"> Vue </a>和<a class="ae nl" href="https://angular.io/guide/view-encapsulation" rel="noopener ugc nofollow" target="_blank"> Angular </a>。这种模拟作用域比CSS模块或CSS-in-JS稍弱，因为它不转换类名。相反，它为每个元素添加了一个惟一的属性，将<code class="fe ng nh ni nj b">.heading</code>转换成类似于<code class="fe ng nh ni nj b">.heading[_ngcontent-rsm-c42]</code>的东西。这留下了潜在的冲突，因为它也将继承级联的所有<code class="fe ng nh ni nj b">.heading</code>风格。深度选择器和第三方样式表会让这变得特别危险。</p><p id="1525" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">所有这些都是<em class="ln">大概</em>范围的CSS，因为通过正确的方法，命名冲突的机会可以减少到几乎为零——但它仍然不太完美，因为在全局级别定义的任何东西仍然可以最终选择你的标记。命名约定不能完全保护你的标记不被其他东西选中。</p><p id="e73e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">那么如何保护我们的标记不继承不需要的样式呢？幸运的是有一个解决方案，而且为了使事情变得更加方便，它完全是本地的。使用一种叫做<a class="ae nl" href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM" rel="noopener ugc nofollow" target="_blank">影子DOM </a>的东西，我们可以<em class="ln">真正地</em>确定CSS的范围，这样就不会有全局选择器影响内部的标记，也不会有内部的选择器影响外部的标记。这意味着您不必担心在您面前的文件之外的任何地方遇到或产生冲突。</p><p id="8289" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当然，web组件有一些<a class="ae nl" href="https://space.matthewphillips.info/posts/where-web-components-went-wrong/" rel="noopener ugc nofollow" target="_blank">成长的烦恼</a>需要解决，但是有<a class="ae nl" href="https://www.youtube.com/watch?v=p0wDUK0Z5Nw" rel="noopener ugc nofollow" target="_blank">工具来解决缺失的部分</a>。影子DOM也可以在组件之外使用，最终，<a class="ae nl" href="https://web.dev/declarative-shadow-dom/" rel="noopener ugc nofollow" target="_blank">声明式影子DOM </a>也将是一个可行的选择。另外，值得注意的是一些框架(<a class="ae nl" href="https://angular.io/api/core/ViewEncapsulation#ShadowDom" rel="noopener ugc nofollow" target="_blank">像Angular </a>)允许你在幕后使用shadow DOM。</p><p id="f766" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了保持这篇文章的重点，我将避免跑题，但我鼓励您自己调查风险和收益，也许我会写另一篇文章来更详细地探讨这个主题！我将在这里提出另外一点:</p><blockquote class="nn"><p id="a388" class="no np iq bd nq nr ns nt nu nv nw lm dk translated">问题存在并不意味着它们不值得解决。</p></blockquote><h1 id="1668" class="mj mk iq bd ml mm nx mo mp mq ny ms mt jw nz jx mv jz oa ka mx kc ob kd mz na bi translated">2.(音乐)可设定的</h1><p id="e3c8" class="pw-post-body-paragraph kr ks iq kt b ku nb jr kw kx nc ju kz la nd lc ld le ne lg lh li nf lk ll lm ij bi translated">范围界定很好，但这只是等式的一部分。大多数情况下，样式将被限定在每个组件中，无论是React、web组件还是其他什么。重要的是使它们可以组合，以避免重复的样式。</p><p id="4fe4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">下次创作需要多种布局的组件时，请记住这一点。一个很好的例子可能是一种产品:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/10d46174f61eb229441445fb4513f144.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OFMtcin-460S6AQ3iL-PuA.png"/></div></div></figure><p id="de6f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">上面的JSX表明有一些逻辑来决定基于视图的输出。你可能已经听过很多次了，在你的模板中尽可能的避免逻辑是有好处的，所以这些最好作为完全独立的组件。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi od"><img src="../Images/c7fbc11fc81ae2e26ec928320e70b193.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/1*_Ogy_14lliOjkp0tFcCcRQ.png"/></div></figure><p id="d7e9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">…但是由于它们确实有一些共同的风格，这就出现了重复的问题。为了纠正这一点，您应该将共享的CSS提取到第三个组件中，并在两个组件的模板中重用。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/2fc82b3f6a1511db0d9f65112561e877.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jN5H3SuWqkocjwek19XgVw.png"/></div></div></figure><p id="d4e5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这确保了所有样式只定义一次，模板中没有多余的逻辑。</p><h1 id="4aeb" class="mj mk iq bd ml mm nx mo mp mq ny ms mt jw of jx mv jz og ka mx kc oh kd mz na bi translated">3.不可知论者</h1><p id="0b2e" class="pw-post-body-paragraph kr ks iq kt b ku nb jr kw kx nc ju kz la nd lc ld le ne lg lh li nf lk ll lm ij bi translated">另一个有用的实践是保持选择器不受HTML语义和结构的影响。</p><p id="8261" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">回到前面的例子，<code class="fe ng nh ni nj b">.about-section h2</code>依赖于以特定方式嵌套的标题。看看下面的代码片段，使用shadow DOM来确定范围。</p><p id="539d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">将<code class="fe ng nh ni nj b">section &gt; h2</code>写在你的CSS中:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/83874790b914fc0eb9593a863e6bfe82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HUNqN_6TJtEngZgx97wowg.png"/></div></div></figure><p id="2953" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您决定稍后重新排列您的标记，您将需要重新访问这个CSS。</p><p id="7410" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在是<code class="fe ng nh ni nj b">section &gt; header &gt; h2</code>:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/04d1737513a0df1c5d6daa12a2e64c78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7XJb2GTUUSOvdyfF9BcufQ.png"/></div></div></figure><p id="1d16" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然而，有了像<code class="fe ng nh ni nj b">h2</code>这样的直接选择器，你可以不受限制地自由重新排列。</p><p id="35a9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然而，在这种情况下，最好使用一个类名，这样标签<code class="fe ng nh ni nj b">&lt;h2&gt;</code>就可以自由地更改为<code class="fe ng nh ni nj b">&lt;h1&gt;</code>或任何其他标题级别。这样做将可访问性特性和SEO从美学中分离出来。当在<code class="fe ng nh ni nj b">&lt;a&gt;</code>和<code class="fe ng nh ni nj b">&lt;button&gt;</code>或者任意数量的类似表单控件之间共享样式时，这同样有价值。</p><h1 id="4d6e" class="mj mk iq bd ml mm nx mo mp mq ny ms mt jw of jx mv jz og ka mx kc oh kd mz na bi translated">4.原子的</h1><p id="f640" class="pw-post-body-paragraph kr ks iq kt b ku nb jr kw kx nc ju kz la nd lc ld le ne lg lh li nf lk ll lm ij bi translated">当考虑防止特殊性问题和重复的最佳方式时，最好尽可能地缩小每个范围。让我们再来看看前面代码片段的标记。我们可能会将那个组件分解成许多更小的组件。</p><p id="3108" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe ng nh ni nj b">&lt;x-heading&gt;</code>模板，假设<code class="fe ng nh ni nj b">const Heading = `h${h}`</code>:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/fad49f769943f6dadaf7481b021b0b29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f6Wso4Ch4TLginYymSLczg.png"/></div></div></figure><p id="14b6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe ng nh ni nj b">&lt;x-section&gt;</code>模板:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/26d0fd018b069fdce745e2636e957ac6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aQtI-i87ey-Xl-0DHPZ-cA.png"/></div></div></figure><p id="26ec" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe ng nh ni nj b">&lt;x-page-section&gt;</code>模板:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/1e2514f7dbeec7552d2c80df7a008308.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u5iziID2wvcLiyjt6qha6w.png"/></div></div></figure><p id="5b5c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">关于页面模板:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/b158a4e5b7bf296b789eade934519a08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bjtqo5JMDULl3zY6kkiWfA.png"/></div></div></figure><p id="e248" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在“关于”页面与样式无关，部分模板更加可组合，标题组件可以在许多地方重用<em class="ln">和</em>它是不可知的，因此它可以被赋予不同的语义，但在视觉上保持一致。这符合前面概述的所有原则，但这一次，我们将重点关注原子范围的好处。</p><p id="aa7a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在每个部分都被分离了，每个部分都有一个小模板，我们已经有效地消除了特异性冲突的危险。不仅如此，每个组件现在都足够专注于:</p><ol class=""><li id="491f" class="lo lp iq kt b ku kv kx ky la lq le lr li ls lm lt lu lv lw bi translated">减轻理解每个组件所需的认知负担</li><li id="7b2f" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">减少变更的影响(这应该让您的风险管理团队感到高兴！)</li><li id="c08a" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">保持所有内容在屏幕上方便可见，没有滚动条或多个文件</li></ol><p id="1f26" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你可能会担心这会导致文件混乱，但是根据我的经验，很少会出现这种情况。一个网站只需要这么多组件，你可能会发现它没有你想象的那么强大。另外，在编辑器中使用键盘快捷键可以很容易地找到您要找的文件。</p><h1 id="726e" class="mj mk iq bd ml mm nx mo mp mq ny ms mt jw of jx mv jz og ka mx kc oh kd mz na bi translated">5.可重复使用的</h1><p id="4fce" class="pw-post-body-paragraph kr ks iq kt b ku nb jr kw kx nc ju kz la nd lc ld le ne lg lh li nf lk ll lm ij bi translated">尽管前面提到的几点应该有助于提高可重用性，但是我们可以采取额外的步骤来改善未来维护人员的体验。</p><p id="0328" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我注意到一个非常普遍的错误，许多开发人员甚至不知道这是一个错误。<a class="ae nl" href="https://en.wikipedia.org/wiki/Information_hiding" rel="noopener ugc nofollow" target="_blank">信息隐藏</a>对于可重用性至关重要，而且那种层次的<a class="ae nl" href="https://en.wikipedia.org/wiki/Encapsulation_(computer_programming)" rel="noopener ugc nofollow" target="_blank">封装</a>不仅仅是限定了作用域的CSS。例如，让我们看看自定义属性。CSS不必直接暴露给组件来泄露表示细节。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/f9c194efa0dd32eb2059596b111b018d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lkdy17lzPTBr6u4DE8kEwA.png"/></div></div></figure><p id="fb33" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">属性向外界公开了样式，这意味着组件不再完全控制它的显示方式。</p><p id="6813" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">想象一下上面的标记被用在73个地方——根据我的经验，这不是一个不合理的数字。现在，假设需求发生了变化，但是并不是所有的73个事件都符合这个场景。在手动检查每一个之后，您发现其中35个需要更改，然后您在一个巨大的拉请求中提交这些更改。那么，我们如何确保这种情况不会发生呢？</p><p id="391a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">答案是暴露<em class="ln">用例</em>，而不是<em class="ln">风格</em>。想想<em class="ln">为什么</em>大胆总是有帮助的。风格背后的动机将永远保持不变，即使风格本身不变。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/33704a54dc475a1fee51c97413d49013.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_0fDNviB5Ls5Cw6rZVgwVQ.png"/></div></div></figure><p id="f71e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">由于消息被用于不同的原因，<code class="fe ng nh ni nj b">priority</code>的值将会改变。多个案例在视觉上完全相同<em class="ln">是完全可以接受的</em>；我们所做的就是把决定权留给组件内部。</p><p id="5c54" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">回想一下新的需求，他们现在觉得微不足道，因为只有一个文件需要审查。尽管它仍在35个地方被使用，但它与手头的任务无关。过去是一项巨大的事业，现在只是一个简单的改变。这就是封装的真正力量。</p><p id="169f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当然，暴露风格并不总是不好的，只要你注意在表示层这样做，表示层是做决定的地方。如果你想更深入地了解这个讨论，你应该读一下我的文章<a class="ae nl" href="https://medium.com/front-end-weekly/mastering-presentation-components-614e847efbce" rel="noopener">掌握演示组件</a>。</p><p id="3919" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">主要的收获是最大化可重用性，这样你就可以花更少的时间来修改你已经写好的CSS，而花更多的时间来构建它。</p></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><p id="df19" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">SCAAR的学习曲线应该不会比任何其他设计原则更具挑战性。同样，结果也是值得努力的。另一方面，认知开销消失了，取而代之的是你不必考虑的好习惯。</p><p id="3d88" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我已经应用这些原则很多年了，它如此有效地缓解了我所有的CSS问题，以至于我几乎忘记了黑客攻击和命名冲突的痛苦。我再也无法想象用其他方式写CSS了。</p><p id="4f57" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一如既往，我喜欢听到你的反馈，批评或其他。如果这篇文章有需要改进的地方，我很乐意修改。</p></div></div>    
</body>
</html>