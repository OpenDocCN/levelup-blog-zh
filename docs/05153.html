<html>
<head>
<title>Do I use Heroku, Netlify or Firebase for My React Gatsby Realtime Application?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我的React Gatsby实时应用程序使用Heroku、Netlify还是Firebase？</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/do-i-use-heroku-netlify-or-firebase-for-my-react-gatsby-realtime-application-1797557a1153?source=collection_archive---------0-----------------------#2020-08-07">https://levelup.gitconnected.com/do-i-use-heroku-netlify-or-firebase-for-my-react-gatsby-realtime-application-1797557a1153?source=collection_archive---------0-----------------------#2020-08-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/11257dea0e11c8f2975d81a3677a7efa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UF9dpmvbXkv5Nt1JMl0S5w.png"/></div></div></figure><p id="ca39" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">所以在过去的几周里，我一直致力于为实时应用程序创建一个应用程序生成器。一个主要的需求是它需要包含应用工程师需要的所有东西。这也意味着平台部署。</p><p id="94b3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">好酷。我将从Heroku、Firebase和Netlify这样的小平台开始，逐步发展到更大的AWS、GCP和Azure平台。</p><p id="b616" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">首先是Netlify。</p><h1 id="d970" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">实时应用的Netlify？</h1><p id="16c0" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">我实话实说。我很高兴能和Netlify一起工作，因为我听到了关于它的好消息。它承诺无缝连接到您的git存储库，并自动构建和部署您的静态站点和云功能到云中。</p><p id="dae0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">不需要管道。</p><p id="d49b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">构建和部署。为你做的。</p><p id="b974" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这让我开发应用程序生成器变得很容易。把我的手擦干净，噗。</p><h1 id="e1af" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">利益</h1><ul class=""><li id="df71" class="mc md it kd b ke lx ki ly km me kq mf ku mg ky mh mi mj mk bi translated"><strong class="kd iu">非常适合静态站点生成的ui:</strong>好的。Netlify很酷。它非常适合部署静态的站点生成的应用程序。LunarBaby应用程序生成器在引擎盖下使用React Gatsby，非常棒。Netlify知道该做什么。我根本不需要做任何设置。只需使用他们的UI连接到我的Gitlab repo，并将我的代码推送到master。Netlify做剩下的。</li><li id="523a" class="mc md it kd b ke ml ki mm km mn kq mo ku mp ky mh mi mj mk bi translated"><strong class="kd iu">云函数做得很好:</strong>这里可能使用了一点作弊代码，但他们使用了AWS Lambda函数。事实证明，Netlify是AWS上非常容易使用的包装器。在我看来这没什么。部署无服务器功能就像构建和部署静态内容一样简单……就像将您的代码推送到repo一样简单。</li><li id="7359" class="mc md it kd b ke ml ki mm km mn kq mo ku mp ky mh mi mj mk bi translated"><strong class="kd iu">非常适合本地开发:</strong>我选择将我的函数repo从我的UI中分离出来，所以我没有充分利用这个功能。但是对于无服务器的功能来说，这是非常巧妙的。在本地工作可能是构建无服务器功能的痛苦。Netlify需要。你的。痛苦。走开。</li><li id="a932" class="mc md it kd b ke ml ki mm km mn kq mo ku mp ky mh mi mj mk bi translated"><strong class="kd iu">价格被Gouda: </strong>实话实说吧。平台价格很重要。我们都知道，当使用这些PAAS工具时，它会迅速失控。我非常喜欢Netlify的定价模式。它对我的需求是免费的。如果你需要任何复杂的东西，它仍然不贵。不会螺旋上升。</li></ul><h1 id="cfce" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">缺点</h1><ul class=""><li id="5cfa" class="mc md it kd b ke lx ki ly km me kq mf ku mg ky mh mi mj mk bi translated"><strong class="kd iu">没有暂存环境和变量。</strong>所以你通常至少有3个主要环境。你当地的环境。试运行/测试环境和生产环境。这在Netlify中是不容易实现的。一开始，您得到的只是一个生产环境。想做“网络生活开发”吗？它默认下拉生产配置。您确实可以选择设置一个Toml文件，并对设置一个本地环境进行一些更改…但是要分阶段。那完全是另一回事。你得摆正姿势。圆孔它。需要设置一个自定义配置不同的应用程序。</li><li id="c2b8" class="mc md it kd b ke ml ki mm km mn kq mo ku mp ky mh mi mj mk bi translated">没有长期存在的后端服务。功能不错，但实时网络应用需要一个websocket才能最好地工作。这在网络生活中是不可能的。实时应用程序需要一个事件消息系统。这些在网络生活中都是不可能的。它有一个做得很好的特定用例。但是它在整个服务器层支持方面不是很好。</li><li id="fdde" class="mc md it kd b ke ml ki mm km mn kq mo ku mp ky mh mi mj mk bi translated"><strong class="kd iu">数据库和消息队列在哪里？</strong>没有现成的数据库平台支持。你可以为FaunaDB安装一个非常酷的插件。但这是另一个外部平台。事件消息传递也是如此。实时应用程序必须有发布和订阅消息的方法。你需要另一个平台来管理它。</li></ul><h1 id="5469" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">总体推荐:非常适合JAMstack应用。不适用于实时应用程序。</h1><p id="e7ea" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">现在，如果您正在构建一个实时web应用程序。不要用Netlify。它不太适合这个平台。你会在站台地狱里结束。我喜欢Netlify的原型和某些用例。实时应用程序不是吗？</p><h1 id="9b88" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">实时应用的Heroku？</h1><p id="7f57" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">下一个。赫罗库。我一直对赫罗库情有独钟。对于初创公司和小型应用程序来说，这是一个很好的平台。设置起来很容易。为项目添加一个git remote，然后推开。设置ci / cd管道非常简单。我经常用它做原型和咨询。</p><p id="c9c8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">但是，对于实时应用来说，它是合适的工具吗？</p><h1 id="94ea" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">利益</h1><ul class=""><li id="a5c3" class="mc md it kd b ke lx ki ly km me kq mf ku mg ky mh mi mj mk bi translated"><strong class="kd iu">仍然从容部署。</strong> Heroku还是很好部署的。它不提供Netlify提供的自动化构建工具，但我们离更复杂的基础设施部署还有一段距离。您可以通过几个Heroku命令或者相当容易地编写一个ci/cd管道来手动完成。Gitlab &amp; CircleCI(不确定其他的)有一个你可以使用的模板。</li><li id="cfe1" class="mc md it kd b ke ml ki mm km mn kq mo ku mp ky mh mi mj mk bi translated"><strong class="kd iu">可以处理Websockets &amp;后端服务。你可以在Heroku部署全功能的微服务。这意味着您的应用程序可以有websockets。这是一个复选标记。Heroku没有像Netlify那样的FAAS系统，有点臭。但是它支持websockets需求。</strong></li><li id="b999" class="mc md it kd b ke ml ki mm km mn kq mo ku mp ky mh mi mj mk bi translated">【Kafka支持事件消息传递。另一个复选标记(稍后会有说明)。Heroku确实有卡夫卡的附加品。你完全有能力在Heroku平台上构建一个完整的实时应用程序。</li></ul><h1 id="9c92" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">缺点</h1><ul class=""><li id="58af" class="mc md it kd b ke lx ki ly km me kq mf ku mg ky mh mi mj mk bi translated">价格不可持续:Heroku通常都是这样，但在实时应用中几乎不可能。Kafka附加软件每月100美元起步。大多数使用Heroku的初创企业和顾问都是因为他们需要一种快速、廉价的方式来获得概念验证。当他们开始需要扩展时，他们会转向更大的平台。在用Heroku构建实时应用程序时，这个选项实际上是不可用的。你的起价是100美元/月。然后它会随着你的扩展而快速跳跃。</li></ul><h1 id="42ca" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">总体建议:用Heroku构建实时应用程序是可能的，但不现实</h1><p id="873a" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">你能做到吗？是啊，当然。你应该这样做吗？大概不会。</p><p id="4eab" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">房间里不那么秘密的大象是Heroku不能很好地伸缩。它对创业公司和小型应用程序很有效，但是一旦一个项目发展到实质性的东西，它很快就会变得昂贵。嗯，实时应用程序开始时很复杂。他们不是你的典型筹码。在websockets和事件消息系统之间，你有标准应用程序不需要的复杂性。</p><p id="d009" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Heroku上的一个原型实时应用程序仅为Kafka服务，起价为每月100美元。仅仅是从原型到专业应用，在你拥有第一个用户之前，你就要花200美元。</p><p id="c7d6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我喜欢Heroku。但它不是这项工作的合适工具。</p><h1 id="fe5a" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">实时应用的Firebase？这是正确的</h1><p id="20e6" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">所以只剩下一个平台。火焰基地。</p><p id="85dc" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">很简单，这不是一场公平的战斗。Firebase的Firestore数据库就是为此用例而构建的。它是作为移动和网络应用的实时数据库进行销售的。这个平台就是为这个挑战而设计的。</p><p id="d133" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">也就是说，虽然Firebase可能是实时应用程序的正确选择，但我确实对该平台有些担忧。</p><h1 id="b49e" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">利益</h1><ol class=""><li id="104e" class="mc md it kd b ke lx ki ly km me kq mf ku mg ky mq mi mj mk bi translated"><strong class="kd iu">它就是为此用例而构建的。</strong> Firebase是为实时移动和web应用程序开发人员打造的平台。它有你需要的一切，并且是开发者友好的。您不必经历平台地狱来构建这种类型的应用程序。只要设置好Firebase，你就可以开始了。</li><li id="c68c" class="mc md it kd b ke ml ki mm km mn kq mo ku mp ky mq mi mj mk bi translated"><strong class="kd iu">易于构建和部署。</strong>这和Netlify和Heroku都是一样的。他们都在无行动圈里跑。Firebase有一个cli工具，允许您构建、测试和部署您的需求。与您的CI/CD管道集成也很容易。你可以在一个周末内完成概念验证。</li><li id="90e0" class="mc md it kd b ke ml ki mm km mn kq mo ku mp ky mq mi mj mk bi translated"><strong class="kd iu">价格是豪达。我们又回到了现实。在Firebase中构思和推出实时应用程序的成本可以忽略不计。在看到真正的吸引力之前，你可能不会花太多钱。在实时数据库、在桶中托管UI、无服务器功能之间，你暂时不会付出任何代价。随着实时应用程序的增长，这一点非常重要。</strong></li><li id="1820" class="mc md it kd b ke ml ki mm km mn kq mo ku mp ky mq mi mj mk bi translated">Firebase真的只是谷歌云平台。当你使用Firebase服务时，你实际上是在使用GCP服务。Firebase只是网络移动应用开发者与GCP互动的一种有用方式。它提供了一个无操作平台。但是整个Firebase工具套件在更大的谷歌云平台生态系统中是可用的。这意味着，当您需要额外的资源时，您将避免平台地狱。</li></ol><h1 id="61f5" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">缺点</h1><ol class=""><li id="8c35" class="mc md it kd b ke lx ki ly km me kq mf ku mg ky mq mi mj mk bi translated"><strong class="kd iu"> Firebase真的只是谷歌云平台。</strong> Salesforce拥有Heroku。Netlify只是AWS的一个包装，但是Firebase项目实际上是Google云平台项目。这可能是好的也可能是坏的，但是随着应用程序的增长，您基本上是将自己捆绑到一个更大的平台中。这是谷歌的明智之举。这对你来说是一个好的举动吗？</li><li id="dbb1" class="mc md it kd b ke ml ki mm km mn kq mo ku mp ky mq mi mj mk bi translated"><strong class="kd iu">凡士多让我害怕。</strong> Firestore的实时数据库真的很酷。但也有点吓人。通过web用户界面来管理数据库是非常糟糕的做法。一般来说太危险了。这正是firebase所推荐的。从您的web用户界面直接与Firestore交互。我将否认他们有非常强大的防火墙和规则来阻止可疑的访问。此外，我们可能不直接使用数据库，而是使用一些api包装它。这仍然令我担忧。</li><li id="b42f" class="mc md it kd b ke ml ki mm km mn kq mo ku mp ky mq mi mj mk bi translated">Firestore让我害怕。是的。你没看错。我重复了一遍。Firestore是一个非常独特的文档数据库。我还没有遇到任何其他使用相同范例的数据库。如果您要切换到不同的文档存储，您将需要清空存储逻辑并重新开始。随着应用程序域的增长，管理模式和关系也变得非常困难。Mongo并没有很好地处理关系，但它确实提供了比Firestore更好的解决方案。有了Firestore，他们基本上说。当您想要处理多对多关系时，除了您的两个主集合之外，再创建两个关系集合。说什么？</li><li id="ff31" class="mc md it kd b ke ml ki mm km mn kq mo ku mp ky mq mi mj mk bi translated">我害怕Firestore。好的。我又做了一次。Firestore是一种专有的数据库服务。这意味着在您的本地环境中不能有dockerized版本。你一直在使用Firestore网络服务。对于您的需求来说，这可能不是一件可怕的事情，但是我真的不喜欢我的数据库永远被锁定在一个特定的供应商身上。</li></ol><h1 id="05fc" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">总体建议:启动实时应用程序的理想选择</h1><p id="f77a" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">最后，Firebase是在noOps空间中启动实时应用程序的正确解决方案。你拥有一切你需要的东西。的确，您需要小心Firebase的供应商锁定，但这可以通过良好的应用程序架构来管理。您不希望因为受到基础架构供应商的束缚而在未来3到5年内不得不重新构建整个应用程序。这将是一个非常昂贵的修复。</p><p id="90da" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">从一开始就做好。构建您的应用程序架构，以便您可以尽可能轻松地更换任何平台。构建有供应商锁定的东西会更快，但这一点点额外的时间将会为您节省大量时间和金钱。</p></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><h1 id="8426" class="kz la it bd lb lc my le lf lg mz li lj lk na lm ln lo nb lq lr ls nc lu lv lw bi translated">过着令人敬畏的编程生活</h1><p id="efac" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">将我的每周编程见解发送到您的收件箱。这些是我从20年的软件开发生涯中学到的技巧、秘密和信息。</p><p id="1f25" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae nd" href="https://thatmiracle.com/newsletter/" rel="noopener ugc nofollow" target="_blank">https://thatmiracle.com/newsletter/</a></p></div></div>    
</body>
</html>