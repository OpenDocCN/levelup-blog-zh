<html>
<head>
<title>JavaScript Algorithm: Calculate Sum of All Numbers in a Jagged Array</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript算法:计算交错数组中所有数字的和</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/javascript-algorithm-calculate-sum-of-all-numbers-in-a-jagged-array-94230951d726?source=collection_archive---------9-----------------------#2021-03-11">https://levelup.gitconnected.com/javascript-algorithm-calculate-sum-of-all-numbers-in-a-jagged-array-94230951d726?source=collection_archive---------9-----------------------#2021-03-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7908" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">创建一个计算交错数组中所有数字之和的函数。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/edc4056c1bc2d5a727099bda7f27f60f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zhE8YUg2A6anMko6"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">澳大利亚八月在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><p id="de5d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将编写一个名为<code class="fe lv lw lx ly b">sumArray</code>的函数，它将接受一个数组<code class="fe lv lw lx ly b">ar</code>作为参数。</p><p id="c711" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于这个函数，我们给你一个交错的数组。交错数组是包含数字和其他数组的组合的数组。数组可以有多级深度。</p><p id="5fa4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该函数的目标是找出交错数组中所有数字的总和。</p><p id="cf19" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">示例:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="7f70" class="md me it ly b gy mf mg l mh mi">let ar = [1, 2, [15, [23], [5, 12]], [100]];</span><span id="10e5" class="md me it ly b gy mj mg l mh mi">//output: 158</span></pre><p id="2d2e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们将找到一种方法，让我们的函数遍历所有内部数组，以获得我们的总和。实现这一点的一个关键函数是递归。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><p id="e01d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们要做的第一件事是创建一个名为<code class="fe lv lw lx ly b">sum</code>的变量，并给它赋值<code class="fe lv lw lx ly b">0</code>。这是我们将在函数结束时返回的变量。</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="add4" class="md me it ly b gy mf mg l mh mi">let sum = 0;</span></pre><p id="3fde" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们将使用for循环来遍历数组:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="04c1" class="md me it ly b gy mf mg l mh mi">for(let el of ar){        <br/>    if (Array.isArray(el)){            <br/>        el = sumArray(el);        <br/>    }        <br/>        sum += el;    <br/>}</span></pre><p id="9197" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看for循环内部发生了什么。</p><p id="7b4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们的第一个if语句中，我们使用<code class="fe lv lw lx ly b">Array.isArray()</code>方法检查当前迭代的元素是否是一个数组。如果它是一个数组，我们使用递归将数组插回到函数中。这将递归地深入到数组中的任何级别，直到我们在一个数字处终止。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><p id="5549" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用上面的例子，我将创建一个正在发生的视觉效果。</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="27d1" class="md me it ly b gy mf mg l mh mi">[1, 2, [15, [23], [5, 12]], [100]]</span></pre><p id="400d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第一个和第二个元素是数字，所以它们被添加到我们的<code class="fe lv lw lx ly b">sum</code>变量中，但是我们的第三个元素是一个数组。</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="a688" class="md me it ly b gy mf mg l mh mi">[15, [23], [5, 12]]</span></pre><p id="293f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们使用递归深入到主数组的另一个层次。当数组进入for循环时，第一个元素被添加到我们的<code class="fe lv lw lx ly b">sum</code>中。但是我们在第二个元素中又遇到了另一个数组，所以我们使用递归来更深入一层。</p><p id="557d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在有三层了。</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="0f0d" class="md me it ly b gy mf mg l mh mi">[23]</span></pre><p id="25d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为这个数组只有一个不是数组的项，所以我们将这个数字添加到我们的<code class="fe lv lw lx ly b">sum</code>中，并返回到主数组的第二层。</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="fa9c" class="md me it ly b gy mf mg l mh mi">[15, [23], [5, 12]]</span></pre><p id="2ea6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">for循环继续到下一个元素，这个元素恰好也是一个数组。</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="6f73" class="md me it ly b gy mf mg l mh mi">[5, 12]</span></pre><p id="a8f1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们递归地进入数组，遍历它，并将<code class="fe lv lw lx ly b">5</code>和<code class="fe lv lw lx ly b">12</code>添加到<code class="fe lv lw lx ly b">sum</code>中。</p><p id="4782" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该功能返回到主数组的第一级，并前进到下一个元素<code class="fe lv lw lx ly b">[100]</code>。</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="4fc1" class="md me it ly b gy mf mg l mh mi">[1, 2, [15, [23], [5, 12]], [100]]</span></pre><p id="289b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们使用递归返回来再次访问主数组的第二层。一旦我们进入for循环，我们就把<code class="fe lv lw lx ly b">100</code>加到<code class="fe lv lw lx ly b">sum</code>上。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><p id="6558" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该函数不断检查每个元素。它要么给<code class="fe lv lw lx ly b">sum</code>加一个数，要么进入另一个数组。对每一级阵列重复这一过程。一旦它完成了对该特定级别的数组中所有元素的检查，它将继续向后工作，以确保所有的数字都被相加。</p><p id="622b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种级别之间的来回跳跃一直持续到函数最终到达我们主数组的第一级并到达末尾。</p><p id="2d25" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当for循环结束时，我们返回我们的<code class="fe lv lw lx ly b">sum</code>。</p><p id="f4d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是该函数的其余部分:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mr ms l"/></div></figure></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><p id="d489" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您发现这个算法很有帮助，请查看我的其他JavaScript算法解决方案文章:</p><div class="mt mu gp gr mv mw"><a href="https://medium.com/swlh/javascript-algorithm-sorted-union-9e316654561f" rel="noopener follow" target="_blank"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd iu gy z fp nb fr fs nc fu fw is bi translated">JavaScript算法:排序联合</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">我们编写一个函数，它将返回从两个或更多其他数组中获取的唯一值的数组。</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">medium.com</p></div></div><div class="nf l"><div class="ng l nh ni nj nf nk ks mw"/></div></div></a></div><div class="mt mu gp gr mv mw"><a href="https://javascript.plainenglish.io/javascript-algorithm-distance-between-points-7fe0026857e3" rel="noopener  ugc nofollow" target="_blank"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd iu gy z fp nb fr fs nc fu fw is bi translated">JavaScript算法:两点之间的距离</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">创建一个函数来计算由x和y坐标定义的两点之间的距离。</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nf l"><div class="nl l nh ni nj nf nk ks mw"/></div></div></a></div><div class="mt mu gp gr mv mw"><a rel="noopener  ugc nofollow" target="_blank" href="/javascript-algorithm-sum-of-all-digits-in-a-number-f1882e323ab1"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd iu gy z fp nb fr fs nc fu fw is bi translated">JavaScript算法:一个数中所有数字的总和</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">写一个函数，计算一个数中所有数字的和。</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="nf l"><div class="nm l nh ni nj nf nk ks mw"/></div></div></a></div></div></div>    
</body>
</html>