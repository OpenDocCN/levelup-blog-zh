<html>
<head>
<title>Why Missing Non-functional Requirements Can be a Disaster?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么缺失非功能性需求会是一场灾难？</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/why-missing-non-functional-requirements-can-be-a-disaster-b0b8028acca1?source=collection_archive---------16-----------------------#2022-09-08">https://levelup.gitconnected.com/why-missing-non-functional-requirements-can-be-a-disaster-b0b8028acca1?source=collection_archive---------16-----------------------#2022-09-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b50a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">架构师、领导和开发人员应该真正关心的事情。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/fc099c0c8cc8ef42b96d2d3096ad1253.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*c2-c6Bm3kJC9eIUQ"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@tingeyinjurylawfirm?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">廷杰伤害律师事务所</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="e45b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天，我们将讨论功能性需求和非功能性需求之间的重要区别，以及为什么从架构师到开发人员，每个技术人员都应该关注非功能性需求。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="2267" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">功能需求与非功能需求</h1><p id="a57f" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">大概每一个复杂的软件产品都是实现<strong class="lb iu">功能</strong>和<strong class="lb iu">非功能</strong>(有时也称为<strong class="lb iu">跨功能</strong>或<strong class="lb iu">非行为</strong>需求)的结果。</p><p id="6b63" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了弄清楚功能性需求和非功能性需求的区别，让我们假设我们是要从头开始设计和实现Instagram的开发人员。下面是一些高级功能需求的样子:</p><ul class=""><li id="3caf" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">用户可以上传照片。</li><li id="6449" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">用户可以关注其他用户。</li><li id="53b4" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">用户可以向其他用户发送私人消息。</li><li id="834c" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">用户可以看到包含其他用户照片的新闻源。</li></ul><p id="ed6d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一些可能的<em class="nn"> </em>非功能性需求:</p><ul class=""><li id="cec3" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">新闻提要的生成平均需要500毫秒，在最坏的情况下，不会超过1秒。</li><li id="eb87" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">用户上传的照片绝不能丢失(系统的可靠性)。</li><li id="ad64" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">系统的可用性为99.99%。</li></ul><p id="85b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从Instagram示例中可以看出，功能性需求描述了<strong class="lb iu">系统应该做什么</strong>，而非功能性需求定义了<strong class="lb iu">系统应该如何表现</strong>。</p><p id="f185" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">功能性需求和非功能性需求之间的其他重要区别是:</p><ul class=""><li id="d377" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">如果只实现了功能需求，系统就可以工作。通常一些简单的产品或者PoC不关心非功能性需求。没有功能需求就不能实现非功能需求。</li><li id="0ea0" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">与非功能性需求不同，功能性需求很容易达成一致。比如很容易约定Instagram用户可以上传照片(功能性需求)，但是如何快速约定可用性百分比(非功能性):99.99%？，为什么不是99.95%呢？</li><li id="6f9f" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">功能需求被记录为系统的<em class="nn">用例</em>，非功能需求被记录为<em class="nn">质量属性</em>。</li><li id="0cc7" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">业务分析师负责功能需求的引出和文档化。软件架构师(以及部分领导和每个开发人员)负责非功能性需求的引出和文档化。</li><li id="7af1" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">从技术角度来看，最重要的区别是非功能性需求会影响架构，而功能性需求不会。</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="0ff1" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">功能需求和架构</h1><p id="07a2" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">让我们记住可能最简单的应用程序架构，它是一个<strong class="lb iu"> 3层架构:</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/ee6ca5c9ea62674da9ebd22cb74138f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yLgUQZHd0uyQYWmRO8kKRg.png"/></div></div></figure><p id="533a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">事实是，最简单的3层架构可以实现任意数量的非常复杂的功能需求<em class="nn">(insta gram的所有功能需求都可以使用3- </em>层<em class="nn"/>架构实现)。一个数据库实例可能有数百个表，一个代码库可能包含数十万行代码。当然，随着新功能的引入，这种整体系统的可维护性可能会降低。</p><p id="ac11" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，如果三层架构结构合理，并且代码质量保持在一个良好的水平，它将成功地实现功能需求。实现新特性基本上需要创建新的数据库表、扩展域模型、编写新的业务规则和一些其他辅助代码。</p><blockquote class="np nq nr"><p id="8713" class="kz la nn lb b lc ld ju le lf lg jx lh ns lj lk ll nt ln lo lp nu lr ls lt lu im bi translated">主要结论是<strong class="lb iu">当只涉及到功能需求的实现时，软件架构和系统设计并不重要。</strong></p></blockquote><p id="0739" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">简单吧？</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6644" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">非功能性需求和架构</h1><p id="f921" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">当涉及到实现非功能性需求时，架构可能非常重要。如果不对系统架构或设计进行重大更改，一些非功能性需求就无法实现。</p><p id="a5cc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如前所述，3层架构可以成功实现客户提供的所有功能需求。假设三层系统已经实现并投入生产:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/ee6ca5c9ea62674da9ebd22cb74138f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yLgUQZHd0uyQYWmRO8kKRg.png"/></div></div></figure><p id="64bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是现在有了一个新的非功能性需求，这是以前没有考虑到的:<em class="nn">对于5000个并发用户，所有GET端点平均需要500ms，最坏情况下不超过1s。</em></p><p id="9953" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这种情况下，开发人员当然可以通过优化数据库查询、实现内存缓存、减少托管堆分配和其他优化来实现目标。然而，最有可能的是，在大型整体系统中，这些简单的步骤不会有所帮助。</p><p id="ae19" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">实现如此强大的非功能性需求可能需要重新设计系统(这对于生产系统来说可能是一场噩梦)，例如在架构级别实现CQRS模式，这还将包括扩展读取服务、拥有单独的缓存实例和其他复杂的东西:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/ae31ffa67df3c2b95ab6cb396506d784.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/1*UalHAHnfYXNFf3Up42FoSw.png"/></div></figure><p id="4197" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">如果在需求收集和设计阶段完全忽略了一些非功能性需求，如性能、可用性、可靠性</strong>，软件系统 <strong class="lb iu">可能需要重新架构。此外，即使所有的非功能性需求已经被尽早捕获，关注数字也是非常重要的。例如，<strong class="lb iu">实现一个具有99.9%可用性和99.95%可用性的系统可能需要两种不同的架构</strong>。此外，以99.95%为目标将招致云提供商更高的账单。</strong></p><ul class=""><li id="a506" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">系统真的需要99.95%的可用性吗？这个数字背后的逻辑是什么？为什么99.9%还不够？</li><li id="c234" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">每个GET端点真的必须在500ms后响应吗？这个数字背后的逻辑是什么？也许只有一个GET端点应该在500ms后返回数据？</li><li id="9fc4" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi">…</li></ul><p id="8fe1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">及时地问这些问题和更多的问题可以为你的团队节省很多精力，为你的客户节省很多钱。</p><h1 id="d2fa" class="mc md it bd me mf nw mh mi mj nx ml mm jz ny ka mo kc nz kd mq kf oa kg ms mt bi translated">为什么开发人员应该关心非功能性需求？</h1><p id="af4b" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">非功能性需求也是技术领导者和开发人员所关注的，而不仅仅是架构师。</p><p id="b5cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当开发人员得到一个要处理的故事时，非功能性需求可能根本不会被提及。</p><p id="deeb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，故事可能是关于用一些新的业务逻辑和新的数据库表实现新的API端点。如果一个非功能性的需求，比如最大API响应时间300毫秒，在故事中没有提到，也没有人事先澄清过，开发者可以使用低效的算法，低效的数据库模式，没有缓存等等。只为满足功能需求，尽快把故事传递给QA。</p><p id="c7cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">稍后，当QA工程师或客户看到实际的响应时间时，将有返工的风险。因此，开发人员或技术负责人只能提一个问题，<em class="nn">“这个API的平均/最大响应时间应该是多少？”</em>提前可以帮助避免双重工作。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6fc9" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">关键要点</h1><ul class=""><li id="91f7" class="mz na it lb b lc mu lf mv li ob lm oc lq od lu ne nf ng nh bi translated">功能需求可以通过简单的架构来实现。新的功能需求不会影响系统架构。</li><li id="0b1f" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">非功能性需求会对系统架构产生重大影响。作为架构师，要确保在设计和实现系统之前，尽可能早地捕获重要的非功能性需求。</li><li id="ee80" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">非功能性需求会对单个web服务或微服务、算法、数据结构的设计产生重大影响……作为技术领导者或开发人员，在继续实施之前，澄清非功能性需求，如性能、可伸缩性、吞吐量、互操作性或故事，以避免未来可能的返工。</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="dc2a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读。如果你喜欢你所读到的，看看下面这个故事:</p><div class="oe of gp gr og oh"><a rel="noopener  ugc nofollow" target="_blank" href="/50-software-engineering-best-practices-for-technical-leaders-and-seniors-cfcdf6a17e44"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd iu gy z fp om fr fs on fu fw is bi translated">面向技术领导者和资深人士的50个软件工程最佳实践</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">最佳工程师的最佳实践。</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="oq l"><div class="or l os ot ou oq ov ks oh"/></div></div></a></div><p id="48ce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有，考虑成为<a class="ae ky" href="https://esashamathews.medium.com/membership" rel="noopener">中等会员</a>。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="c33a" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">分级编码</h1><p id="db4d" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="99be" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="6c5a" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">📰更多内容请查看<a class="ae ky" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">升级编码刊物</a></li><li id="900e" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">🔔关注我们:<a class="ae ky" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">推特</a> | <a class="ae ky" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a> | <a class="ae ky" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="1861" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">🚀👉<a class="ae ky" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">加入升级人才集体，找到一份神奇的工作</strong> </a></p></div></div>    
</body>
</html>