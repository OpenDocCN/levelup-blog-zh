<html>
<head>
<title>Google Speech to Text in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的谷歌语音转文本</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/simple-example-of-speech-to-text-a86fff4ab626?source=collection_archive---------2-----------------------#2020-09-22">https://levelup.gitconnected.com/simple-example-of-speech-to-text-a86fff4ab626?source=collection_archive---------2-----------------------#2020-09-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="752b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一个演示如何在<a class="ae ki" href="https://chatbotslife.com/tagged/artificial-intelligence" rel="noopener ugc nofollow" target="_blank"> Python </a>中将语音应用于文本的例子</h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/f3f9b234fb7c14605c95327a259d37f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*F2hmJn3XHQ3vWl8n"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk translated">由<a class="ae ki" href="https://unsplash.com/@jasonrosewell" rel="noopener ugc nofollow" target="_blank">杰森·罗斯韦尔</a>在<a class="ae ki" href="https://unsplash.com/photos/ASKeuOZqhYU" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><div class="kz la gp gr lb lc"><a href="https://jorgepit-14189.medium.com/membership" rel="noopener follow" target="_blank"><div class="ld ab fo"><div class="le ab lf cl cj lg"><h2 class="bd iu gy z fp lh fr fs li fu fw is bi translated">用我的推荐链接加入媒体-乔治皮皮斯</h2><div class="lj l"><h3 class="bd b gy z fp lh fr fs li fu fw dk translated">阅读乔治·皮皮斯(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接支持…</h3></div><div class="lk l"><p class="bd b dl z fp lh fr fs li fu fw dk translated">jorgepit-14189.medium.com</p></div></div><div class="ll l"><div class="lm l ln lo lp ll lq kt lc"/></div></div></a></div><p id="f61b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">语音识别(或语音转文本)还远未完善。然而，SpeechRecognition库提供了一种与许多语音转文本API进行交互的简单方法。在本帖中，我们将展示如何使用<a class="ae ki" href="http://becominghuman.ai" rel="noopener ugc nofollow" target="_blank">Python</a><a class="ae ki" href="https://pypi.org/project/SpeechRecognition/" rel="noopener ugc nofollow" target="_blank">speech recognition</a>库轻松地将音频文件中的口语转换成文本。</p><h1 id="213e" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">具有语音识别功能的语音转文本</h1><p id="e66c" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">SpeechRecognition是一个用于执行语音识别的库，支持多种在线和离线引擎和API。</p><p id="5382" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">语音识别引擎/API支持:</p><ul class=""><li id="65f4" class="nk nl it lt b lu lv lx ly ma nm me nn mi no mm np nq nr ns bi translated"><a class="ae ki" href="http://cmusphinx.sourceforge.net/wiki/" rel="noopener ugc nofollow" target="_blank"> CMU狮身人面像</a>(离线工作)</li><li id="e20f" class="nk nl it lt b lu nt lx nu ma nv me nw mi nx mm np nq nr ns bi translated">谷歌语音识别</li><li id="c97f" class="nk nl it lt b lu nt lx nu ma nv me nw mi nx mm np nq nr ns bi translated"><a class="ae ki" href="https://cloud.google.com/speech/" rel="noopener ugc nofollow" target="_blank">谷歌云语音API </a></li><li id="20ca" class="nk nl it lt b lu nt lx nu ma nv me nw mi nx mm np nq nr ns bi translated"><a class="ae ki" href="https://wit.ai/" rel="noopener ugc nofollow" target="_blank"> Wit.ai </a></li><li id="37da" class="nk nl it lt b lu nt lx nu ma nv me nw mi nx mm np nq nr ns bi translated"><a class="ae ki" href="https://azure.microsoft.com/en-us/services/cognitive-services/speech/" rel="noopener ugc nofollow" target="_blank">微软Azure演讲</a></li><li id="d619" class="nk nl it lt b lu nt lx nu ma nv me nw mi nx mm np nq nr ns bi translated"><a class="ae ki" href="https://www.microsoft.com/cognitive-services/en-us/speech-api" rel="noopener ugc nofollow" target="_blank">微软必应语音识别(已弃用)</a></li><li id="e073" class="nk nl it lt b lu nt lx nu ma nv me nw mi nx mm np nq nr ns bi translated"><a class="ae ki" href="https://houndify.com/" rel="noopener ugc nofollow" target="_blank">验证API </a></li><li id="216b" class="nk nl it lt b lu nt lx nu ma nv me nw mi nx mm np nq nr ns bi translated"><a class="ae ki" href="https://www.ibm.com/smarterplanet/us/en/ibmwatson/developercloud/speech-to-text.html" rel="noopener ugc nofollow" target="_blank"> IBM语音转文字</a></li><li id="249f" class="nk nl it lt b lu nt lx nu ma nv me nw mi nx mm np nq nr ns bi translated"><a class="ae ki" href="https://snowboy.kitt.ai/" rel="noopener ugc nofollow" target="_blank"> Snowboy热门词检测</a>(离线工作)</li></ul><p id="f0d9" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">对于我们的例子，我们将使用<code class="fe ny nz oa ob b">recognize_google</code>，但是也有一些其他的选择，如<code class="fe ny nz oa ob b">recognize_bing()</code>、<code class="fe ny nz oa ob b">recognize_wit()</code>。我们将在本例中使用的音频文件<code class="fe ny nz oa ob b">.wav</code>可以在<a class="ae ki" href="https://drive.google.com/file/d/15Y8rAL2p9b6N4vf8FV1NxTwmPtFafO1Z/view" rel="noopener ugc nofollow" target="_blank">这里</a>找到。注意，<code class="fe ny nz oa ob b">recognize_google</code>允许每天<strong class="lt iu"> 50次免费通话</strong>。</p><pre class="kk kl km kn gt oc ob od oe aw of bi"><span id="4769" class="og mo it ob b gy oh oi l oj ok"># Importing the speech_recognition library<br/>import speech_recognition as sr</span><span id="7e18" class="og mo it ob b gy ol oi l oj ok"># Create an instance of the Recognizer class<br/>recognizer = sr.Recognizer()</span><span id="4d0a" class="og mo it ob b gy ol oi l oj ok"># Set the energy threshold<br/>recognizer.energy_threshold = 300</span><span id="ae15" class="og mo it ob b gy ol oi l oj ok"># Convert audio to AudioFile<br/>clean_support_call = sr.AudioFile("staytuned.wav")</span><span id="1266" class="og mo it ob b gy ol oi l oj ok"># Convert AudioFile to AudioData<br/>with clean_support_call as source:<br/>    clean_support_call_audio = recognizer.record(source)</span><span id="c38e" class="og mo it ob b gy ol oi l oj ok"># Transcribe AudioData to text<br/>text = recognizer.recognize_google(clean_support_call_audio,<br/>                                   language="en-US")<br/>print(text)</span></pre><p id="b625" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们得到的输出是:</p><pre class="kk kl km kn gt oc ob od oe aw of bi"><span id="ecfb" class="og mo it ob b gy oh oi l oj ok">hello everybody today we are going to talk about speech-to-text stay tuned</span></pre><h1 id="8eb9" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">带噪声音频的语音转文本</h1><p id="3d3c" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">有时候，我们不得不处理嘈杂的音频文件。我们可以使用<code class="fe ny nz oa ob b">Recognizer</code>的<code class="fe ny nz oa ob b">adjust_for_ambient_noise()</code>功能来抵消背景噪声。我们将使用<a class="ae ki" href="https://drive.google.com/open?id=1dM0gG4plX628CdPT35stwRqvvgmT717W" rel="noopener ugc nofollow" target="_blank">这个音频文本</a>作为示例。</p><pre class="kk kl km kn gt oc ob od oe aw of bi"><span id="602b" class="og mo it ob b gy oh oi l oj ok"># Importing the speech_recognition library<br/>import speech_recognition as sr</span><span id="cc92" class="og mo it ob b gy ol oi l oj ok">recognizer = sr.Recognizer()</span><span id="deb1" class="og mo it ob b gy ol oi l oj ok"># Convert audio to AudioFile<br/>noisy_support_call = sr.AudioFile("2-noisy-support-call.wav")</span><span id="39f4" class="og mo it ob b gy ol oi l oj ok"># Record the audio from the noisy support call<br/>with noisy_support_call as source:<br/> # Adjust the recognizer energy threshold for ambient noise<br/>    recognizer.adjust_for_ambient_noise(source, duration=0.5)<br/>    noisy_support_call_audio = recognizer.record(noisy_support_call)<br/> <br/># Transcribe the speech from the noisy support call<br/>text = recognizer.recognize_google(noisy_support_call_audio,<br/>                                   language="en-US")</span><span id="be1b" class="og mo it ob b gy ol oi l oj ok">print(text)</span></pre><p id="cf1a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们得到的输出是:</p><pre class="kk kl km kn gt oc ob od oe aw of bi"><span id="ca4d" class="og mo it ob b gy oh oi l oj ok">hello I'd like to get to help setting up my account please</span></pre><h1 id="c104" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">讨论</h1><p id="8af2" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">这是一个简单的可重复的例子，展示了如何轻松地将T <a class="ae ki" href="https://chatbotslife.com/" rel="noopener ugc nofollow" target="_blank">分机转换为语音</a>。在下面的帖子里，我们会给出更多的例子。请随时将您对新帖子的偏好发送给我们。</p></div><div class="ab cl om on hx oo" role="separator"><span class="op bw bk oq or os"/><span class="op bw bk oq or os"/><span class="op bw bk oq or"/></div><div class="im in io ip iq"><p id="6111" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">最初发布于<a class="ae ki" href="https://predictivehacks.com/simple-example-of-speech-to-text/" rel="noopener ugc nofollow" target="_blank">预测黑客</a></p></div></div>    
</body>
</html>