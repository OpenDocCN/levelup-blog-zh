<html>
<head>
<title>Unity Creating Your Own State Machine</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Unity创建你自己的状态机</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/unity-creating-your-own-state-machine-35569f829302?source=collection_archive---------10-----------------------#2022-08-03">https://levelup.gitconnected.com/unity-creating-your-own-state-machine-35569f829302?source=collection_archive---------10-----------------------#2022-08-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="6562" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi kl translated">距离我上一次写文章已经快7个月了，但那纯粹是因为我终于实现了成为一名职业游戏开发者的梦想。我被招募到“<a class="ae ku" href="https://www.linkedin.com/company/eduplaytion" rel="noopener ugc nofollow" target="_blank"> <em class="kv"> Eduplaytion </em> </a>”工作，我们一直在为学校开发一个非常有创意的数学游戏，给数学带来真正的乐趣。这款游戏是基于网络的，名为“<a class="ae ku" href="https://play.numetrygame.com/" rel="noopener ugc nofollow" target="_blank"><em class="kv"/></a>”并将于本月向学校发售。</p><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi kw"><img src="../Images/0f434069d0144e215b0f76df647297f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/1*IRGHmiGsa16stedQvIaZfw.gif"/></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">游戏开发生活</figcaption></figure></div><div class="ab cl li lj hu lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ij ik il im in"><h1 id="d5f8" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated"><strong class="ak">状态机</strong></h1><p id="4f6d" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">状态机是控制游戏流程和执行的一种方式。对于AI来说，为了控制他们的行为以及他们何时以及如何做某些动作，这通常是完美的。</p><figure class="kx ky kz la gt lb gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi ms"><img src="../Images/302bc6d15822b2ad4fe40219bf5c772a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6UQgjceILnMRr49NBkym3w.jpeg"/></div></div></figure><p id="cbcd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最近，我已经开始创建我自己的小型，也许Soul的迷你原型和状态机将完全适合这个项目。</p><p id="ef10" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">作为一名Unity的游戏开发者，你肯定已经创建了很多状态机，有时甚至在不知不觉中使用了Unity自己的动画师/动画系统。这是一个很好的工具，但是创建你自己的状态机将会给你更多的控制动作的流程，最重要的是它允许你的角色或者AI在一个时间处于一个状态。</p><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/7281591691a65aa26a6ca59076c3775b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/1*d-vsETAxypIOkHp4cu9Qug.png"/></div></figure><blockquote class="my mz na"><p id="d6c6" class="jn jo kv jp b jq jr js jt ju jv jw jx nb jz ka kb nc kd ke kf nd kh ki kj kk ij bi translated">B <!-- --> ase状态</p></blockquote><p id="8749" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们首先从创建一个状态的基础开始，这个基础可以被继承来创建你的角色/AI将要处于的不同状态。</p><figure class="kx ky kz la gt lb gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi ne"><img src="../Images/d830f85ffc047c6f85321fc2edf8527c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-eRZkTVdSAS5YkCuK5qDQw.png"/></div></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">基础状态</figcaption></figure><p id="4148" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">注意它只有3个抽象方法。<strong class="jp ir"> <em class="kv">进入</em> </strong>和<strong class="jp ir"> <em class="kv">退出</em> </strong>的方法是不言自明的。将<em class="kv"> deltaTime </em>作为参数的“<strong class="jp ir"> <em class="kv"> Tick </em> </strong>”方法将成为该状态的核心，其中保存了该状态的所有逻辑，并且该方法将进入“<strong class="jp ir"> <em class="kv"> Update </em> </strong>”。</p><blockquote class="my mz na"><p id="5b07" class="jn jo kv jp b jq jr js jt ju jv jw jx nb jz ka kb nc kd ke kf nd kh ki kj kk ij bi translated">基础状态机</p></blockquote><p id="f5a5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个脚本将是机器的基类，将被玩家或人工智能继承。它将控制流程状态之间的切换和运行代码当前的<strong class="jp ir"><em class="kv"/></strong>活动状态。</p><figure class="kx ky kz la gt lb gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nf"><img src="../Images/8fe6c8d7c5acaa2150ea2e2d80e668a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pv0VwFWv9eLtW5jmSI3q6A.png"/></div></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">基础状态机</figcaption></figure><blockquote class="my mz na"><p id="3688" class="jn jo kv jp b jq jr js jt ju jv jw jx nb jz ka kb nc kd ke kf nd kh ki kj kk ij bi translated">玩家基本状态和基本状态机</p></blockquote><p id="274c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">就目前而言，我们只会创建玩家用来控制状态的基地。首先，我们将创建两个类，一个从基本状态继承，另一个从基本状态机继承。</p><p id="7cba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这样玩家的基状态就会知道玩家的基状态机，并使用一个构造函数来赋值，然后用玩家的基状态机来控制玩家的不同逻辑。</p><figure class="kx ky kz la gt lb gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi ng"><img src="../Images/0e8697aea5f96f478d3d78bbbef16ff8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LA_jZ2CzTIEbXsRD-zKaLw.png"/></div></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">玩家的基本状态机</figcaption></figure><figure class="kx ky kz la gt lb gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nh"><img src="../Images/b5ffa5868eae3c8af39ca55976fd1045.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*clwaP4-0vqWMdQEItpBtSA.png"/></div></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">玩家的基本状态</figcaption></figure><p id="17da" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">作为一个快速提示，我们稍后将使用玩家的基础状态来创建不同的状态，如奔跑、跳跃等等…</p></div><div class="ab cl li lj hu lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ij ik il im in"><p id="2af9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这只是编写自己的状态机的基本框架和开始。如果您想了解更多关于状态机以及我是如何在我的项目中实现它们的，请跟随后续文章。祝你编码周愉快。</p></div><div class="ab cl li lj hu lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ij ik il im in"><p id="b622" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="1567" class="ni nj iq jp b jq jr ju jv jy nk kc nl kg nm kk nn no np nq bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="d894" class="ni nj iq jp b jq nr ju ns jy nt kc nu kg nv kk nn no np nq bi translated">📰查看<a class="ae ku" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">级编码出版物</a>中的更多内容</li><li id="d466" class="ni nj iq jp b jq nr ju ns jy nt kc nu kg nv kk nn no np nq bi translated">🔔关注我们:<a class="ae ku" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">推特</a> | <a class="ae ku" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a> | <a class="ae ku" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="b05e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">🚀👉<a class="ae ku" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">加入升级人才集体，找到一份惊艳的工作</strong> </a></p></div></div>    
</body>
</html>