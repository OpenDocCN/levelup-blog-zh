<html>
<head>
<title>Quasar framework with Apollo GraphQL</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Apollo GraphQL类星体框架</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/quasar-framework-with-apollo-graphql-b25be59bf72a?source=collection_archive---------13-----------------------#2021-02-02">https://levelup.gitconnected.com/quasar-framework-with-apollo-graphql-b25be59bf72a?source=collection_archive---------13-----------------------#2021-02-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/caebaae2e052bbd2774aa06c63e0c66f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/format:webp/1*Tyliog_d4Op4R3A1XkGE7g.jpeg"/></div></figure><p id="2852" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果您想让GraphQL与Qausar框架一起工作，那么这篇文章非常适合您。</p><p id="4975" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">但是在进入真正的商业领域之前，你应该知道这两种技术的基础，为此我建议阅读我以前关于<a class="ae ks" href="https://medium.com/better-programming/an-introduction-to-the-quasar-framework-3fed8bc92f6d" rel="noopener"> Quasar </a>和<a class="ae ks" href="https://medium.com/@ansertechgeek/graphql-a-data-query-language-e22e2d2f8eeb" rel="noopener"> GraphQL </a>的文章。</p><p id="5e6e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们将要使用的软件包是:</p><ul class=""><li id="2880" class="kt ku iq jw b jx jy kb kc kf kv kj kw kn kx kr ky kz la lb bi translated"><a class="ae ks" href="https://apollo.vuejs.org/" rel="noopener ugc nofollow" target="_blank">Vue-阿波罗</a></li><li id="abce" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated"><a class="ae ks" href="https://github.com/quasarframework/app-extension-apollo" rel="noopener ugc nofollow" target="_blank">类星体阿波罗应用扩展</a></li></ul><p id="ed4b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我们开始开发。</p><h2 id="2f88" class="lh li iq bd lj lk ll dn lm ln lo dp lp kf lq lr ls kj lt lu lv kn lw lx ly lz bi translated">设置Quasar项目以使用Vue-Apollo:</h2><p id="6485" class="pw-post-body-paragraph ju jv iq jw b jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr ij bi translated">要使用Quasar，您需要使用以下命令安装其CLI:</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="41c8" class="lh li iq mk b gy mo mp l mq mr">$ yarn global add @quasar/cli<br/># or<br/>$ npm install -g @quasar/cli</span></pre><p id="0fbb" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在使用Quasar CLI创建一个新项目，使用:</p><p id="56b9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><code class="fe ms mt mu mk b">$ quasar create quasar-graphql-app</code></p><p id="06f4" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">按照所有的说明，你将有一个quasar项目准备好所有必要的软件包来运行这个项目。</p><p id="1cda" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">是时候在项目中集成GraphQL了。</p><p id="5a28" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">Quasar遵循一个非常强大的<a class="ae ks" href="https://quasar.dev/app-extensions/introduction" rel="noopener ugc nofollow" target="_blank">应用程序扩展系统</a>来无痛地注入具有各种依赖关系的库。Quasar的GraphQL也可以作为扩展使用。让我们使用以下代码将这个惊人的扩展添加到我们的项目中:</p><p id="f36f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><code class="fe ms mt mu mk b">$ quasar ext add @quasar/apollo</code></p><p id="b94c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">只需按照简单的说明来完成安装过程。</p><p id="a067" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">顺便说一下，在以后的任何时候，您也可以使用以下命令删除这个扩展:</p><p id="458c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><code class="fe ms mt mu mk b">$ quasar ext remove @quasar/apollo</code></p><h2 id="5c7e" class="lh li iq bd lj lk ll dn lm ln lo dp lp kf lq lr ls kj lt lu lv kn lw lx ly lz bi translated">启用Quasar App使用<code class="fe ms mt mu mk b">gql</code>标签:</h2><p id="1364" class="pw-post-body-paragraph ju jv iq jw b jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr ij bi translated">为了让vue-apollo组件使用<code class="fe ms mt mu mk b">gql</code>标签，你必须打开一个特殊的转换，这样<a class="ae ks" href="https://vue-loader.vuejs.org/" rel="noopener ugc nofollow" target="_blank"> vue-loader </a>就不会在那些新标签上失败。将下面的代码添加到您的<code class="fe ms mt mu mk b">quasar.conf.js</code>文件的<code class="fe ms mt mu mk b">build</code>属性中。</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="c53c" class="lh li iq mk b gy mo mp l mq mr">chainWebpack (chain, { isServer, isClient }) {<br/>    chain.module.rule('vue')<br/>      .use('vue-loader')<br/>      .loader('vue-loader')<br/>      .tap(options =&gt; {<br/>        options.transpileOptions = {<br/>          transforms: {<br/>            dangerousTaggedTemplateString: true<br/>          }<br/>        }<br/>        return options<br/>      })<br/>  }</span></pre><p id="1a66" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">为了在您的项目中使用<code class="fe ms mt mu mk b">.gql</code>或<code class="fe ms mt mu mk b">.graphql</code>文件，您需要向<code class="fe ms mt mu mk b">chainWebpack</code>添加另一个规则，如下所示。</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="5df3" class="lh li iq mk b gy mo mp l mq mr">chain.module.rule('gql')<br/>   .test(/\.(graphql|gql)$/)<br/>   .use('graphql-tag/loader')<br/>   .loader('graphql-tag/loader')</span></pre><p id="1a94" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">注入上述代码后，项目就可以用Qausar运行GraphQL了。</p><p id="043b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果您注意到项目的文件夹结构，您应该在根级别看到<code class="fe ms mt mu mk b">quasar.extensions.json</code>。这告诉Quasar您已经安装了Apollo应用程序扩展，它保存了您的GraphQL API端点URI的输入。</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="afb7" class="lh li iq mk b gy mo mp l mq mr">{<br/>  "@quasar/apollo": {<br/>    "graphql_uri": "http://api.example.com"<br/>  }<br/>}</span></pre><p id="13c0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在您的项目中，您还应该看到一个名为“apollo”的文件夹，其中包含文件<code class="fe ms mt mu mk b">apollo-client-config.js</code>和<code class="fe ms mt mu mk b">apollo-client-hooks.js</code>。</p><p id="f06c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">Apollo客户端配置选项可以根据需求添加到配置文件中，而您可以将自定义代码添加到hooks文件中，例如在应用程序初始化之前或之后进行处理。</p><p id="ad45" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这就是您的Quasar项目准备对您的apollo-graphql服务器进行GraphQL查询和修改的全部内容。最好的部分是，在使用GraphQL时，您不需要<a class="ae ks" href="https://vuex.vuejs.org/" rel="noopener ugc nofollow" target="_blank"> Vuex </a>或任何其他状态管理库。</p><p id="fa27" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">学到了新东西？评论和反馈总能让作者开心。编码快乐！</p></div></div>    
</body>
</html>