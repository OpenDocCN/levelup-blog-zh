<html>
<head>
<title>Creating a Django-Oscar App with Dashboard (Part 2)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Dashboard创建Django-Oscar应用程序(第2部分)</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/creating-an-oscar-app-with-dashboard-part-2-6283dd24304?source=collection_archive---------3-----------------------#2021-03-17">https://levelup.gitconnected.com/creating-an-oscar-app-with-dashboard-part-2-6283dd24304?source=collection_archive---------3-----------------------#2021-03-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="53b7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本教程中，您将学习如何为<em class="kl"> Oscar的</em>电子商务框架创建仪表板。本教程从第一部分 结束的地方开始。</p><h1 id="1576" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">创建Django-Oscar仪表板应用程序来管理精品店</h1><p id="2b25" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">让我们在精品应用程序目录中创建一个名为dashboard的新应用程序:</p><pre class="lq lr ls lt gt lu lv lw lx aw ly bi"><span id="af5a" class="lz ko iq lv b gy ma mb l mc md">mkdir boutique/dashboard</span></pre><p id="7ab3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后使用以下命令初始化一个新的Django应用程序:</p><pre class="lq lr ls lt gt lu lv lw lx aw ly bi"><span id="46b7" class="lz ko iq lv b gy ma mb l mc md">python manage.py startapp dashboard boutique/dashboard</span></pre><blockquote class="me mf mg"><p id="b5cb" class="jn jo kl jp b jq jr js jt ju jv jw jx mh jz ka kb mi kd ke kf mj kh ki kj kk ij bi translated"><em class="iq">可以删除</em> <code class="fe mk ml mm lv b"><em class="iq">admin.py</em></code> <em class="iq">、</em> <code class="fe mk ml mm lv b"><em class="iq">models.py</em></code> <em class="iq">、</em> <code class="fe mk ml mm lv b"><em class="iq">tests.py</em></code> <em class="iq">，因为奥斯卡的仪表盘app不需要这些。</em></p></blockquote><p id="64e9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">同样，在创建仪表板应用程序后，需要在<code class="fe mk ml mm lv b">settings.py</code>的<code class="fe mk ml mm lv b">INSTALLED_APPS</code>中注册应用程序，如下所示:</p><pre class="lq lr ls lt gt lu lv lw lx aw ly bi"><span id="4250" class="lz ko iq lv b gy ma mb l mc md">INSTALLED_APPS = [<br/>    ...<br/>    'boutique.dashboard.apps.DashboardConfig',<br/>]</span></pre><blockquote class="me mf mg"><p id="61ff" class="jn jo kl jp b jq jr js jt ju jv jw jx mh jz ka kb mi kd ke kf mj kh ki kj kk ij bi translated"><em class="iq">如果您此时运行服务器，它将无法工作，因为您需要首先完成应用程序配置。</em></p></blockquote><p id="abf8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在第一部分中，我们在<code class="fe mk ml mm lv b">myoscarproject/urls.py</code>中有一个注释掉的行。既然已经创建了仪表板应用程序，我们需要取消对它的注释，如下所示:</p><pre class="lq lr ls lt gt lu lv lw lx aw ly bi"><span id="def8" class="lz ko iq lv b gy ma mb l mc md">from django.apps import apps<br/>from django.urls import include, path<br/>from django.contrib import admin</span><span id="a511" class="lz ko iq lv b gy mn mb l mc md">urlpatterns = [<br/>    ...<br/>    path('dashboard/boutique/', apps.get_app_config('boutique_dashboard').urls),<br/>    ...<br/>]</span></pre><p id="89ab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然而，此时标签<code class="fe mk ml mm lv b">boutique_dashboard</code>不与任何配置相关联。因此，让我们继续，创建精品仪表板Oscar应用程序配置。</p><h1 id="b859" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">精品店仪表板的应用程序配置</h1><p id="1d5c" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">精品仪表板应用程序的配置类似于本教程第一部分的配置。如下所示，添加了一些内容:</p><pre class="lq lr ls lt gt lu lv lw lx aw ly bi"><span id="0140" class="lz ko iq lv b gy ma mb l mc md">from django.urls import path<br/>from oscar.core.application import OscarDashboardConfig<br/>from oscar.core.loading import get_class</span><span id="fe99" class="lz ko iq lv b gy mn mb l mc md">class DashboardConfig(OscarDashboardConfig):<br/>    name = 'boutique.dashboard'<br/>    label = 'boutique_dashboard'<br/>    namespace = 'boutique-dashboard'</span><span id="751a" class="lz ko iq lv b gy mn mb l mc md">    default_permissions = ['is_staff']</span><span id="70ca" class="lz ko iq lv b gy mn mb l mc md">    def ready(self):<br/>        self.boutique_list_view = get_class(<br/>            'boutique.dashboard.views', 'DashboardBoutiqueListView')<br/>        self.boutique_create_view = get_class(<br/>            'boutique.dashboard.views', 'DashboardBoutiqueCreateView')<br/>        self.boutique_update_view = get_class(<br/>            'boutique.dashboard.views', 'DashboardBoutiqueUpdateView')<br/>        self.boutique_delete_view = get_class(<br/>            'boutique.dashboard.views', 'DashboardBoutiqueDeleteView')</span><span id="dc14" class="lz ko iq lv b gy mn mb l mc md">    def get_urls(self):<br/>        urls = [<br/>            path('', self.boutique_list_view.as_view(), name='boutique-list'),<br/>            path('create/', self.boutique_create_view.as_view(),<br/>                 name='boutique-create'),<br/>            path('update/&lt;int:pk&gt;/', self.boutique_update_view.as_view(),<br/>                 name='boutique-update'),<br/>            path('delete/&lt;int:pk&gt;/', self.boutique_delete_view.as_view(),<br/>                 name='boutique-delete'),<br/>        ]<br/>        return self.post_process_urls(urls)</span></pre><p id="3076" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该配置中的一个要点是改变<code class="fe mk ml mm lv b">label</code>参数。Django Oscar的默认仪表盘应用与精品仪表盘应用<code class="fe mk ml mm lv b">DashboardConfig</code>冲突。Django文件表明:</p><blockquote class="me mf mg"><p id="d39e" class="jn jo kl jp b jq jr js jt ju jv jw jx mh jz ka kb mi kd ke kf mj kh ki kj kk ij bi translated"><em class="iq">“appconfig . label默认为</em> <code class="fe mk ml mm lv b"><em class="iq">name</em></code> <em class="iq">的最后一个组件。”</em></p></blockquote><p id="202f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，需要选择不同的标签<code class="fe mk ml mm lv b">boutique_dashboard</code>，以便“告诉”Django这个dashboard应用不同于Oscar内置的dashboard应用。</p><p id="0200" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">仪表板应用程序配置与主要精品应用程序配置的另一个区别是<code class="fe mk ml mm lv b">default_permissions</code>参数。此参数为此仪表板应用程序设置Oscar的仪表板权限。由于Oscar有多个用户权限级别，如有<em class="kl">履行伙伴</em>的用户权限级别，设置此参数<code class="fe mk ml mm lv b">is_staff</code>将禁止除c用户(如超级用户)之外的任何用户访问此仪表板。</p><h1 id="7f44" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">精品店仪表板应用程序的表单</h1><p id="6abd" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">首先，有必要为您的自定义仪表板应用程序创建表单。在<code class="fe mk ml mm lv b">boutique/dashboard</code>目录下创建一个<code class="fe mk ml mm lv b">forms.py</code>文件，并添加以下代码:</p><pre class="lq lr ls lt gt lu lv lw lx aw ly bi"><span id="e118" class="lz ko iq lv b gy ma mb l mc md">from django import forms<br/>from django.db.models import Q<br/>from django.utils.translation import gettext_lazy as _<br/>from oscar.core.loading import get_model</span><span id="762b" class="lz ko iq lv b gy mn mb l mc md">Boutique = get_model('boutique', 'Boutique')</span><span id="64e4" class="lz ko iq lv b gy mn mb l mc md">class DashboardBoutiqueSearchForm(forms.Form):<br/>    name = forms.CharField(label=_('Boutique name'), required=False)<br/>    city = forms.CharField(label=_('City'), required=False)</span><span id="c019" class="lz ko iq lv b gy mn mb l mc md">    def is_empty(self):<br/>        d = getattr(self, 'cleaned_data', {})<br/>        def empty(key): return not d.get(key, None)<br/>        return empty('name') and empty('city')</span><span id="98fc" class="lz ko iq lv b gy mn mb l mc md">    def apply_city_filter(self, qs, value):<br/>        words = value.replace(',', ' ').split()<br/>        q = [Q(city__icontains=word) for word in words]<br/>        return qs.filter(*q)</span><span id="6f16" class="lz ko iq lv b gy mn mb l mc md">    def apply_name_filter(self, qs, value):<br/>        return qs.filter(name__icontains=value)</span><span id="7bdb" class="lz ko iq lv b gy mn mb l mc md">    def apply_filters(self, qs):<br/>        for key, value in self.cleaned_data.items():<br/>            if value:<br/>                qs = getattr(self, 'apply_%s_filter' % key)(qs, value)<br/>        return qs<br/></span><span id="719a" class="lz ko iq lv b gy mn mb l mc md">class DashboardBoutiqueCreateUpdateForm(forms.ModelForm):<br/>    class Meta:<br/>        model = Boutique<br/>        fields = ('name', 'manager', 'city')</span></pre><p id="783d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在上面的代码中<code class="fe mk ml mm lv b">DashboardBoutiqueSearchForm</code>是一个过滤仪表板中精品实例的表单。我们设计我们的表单，以便它可以通过模型的<code class="fe mk ml mm lv b">city</code>和<code class="fe mk ml mm lv b">name</code>字段进行过滤。表单<code class="fe mk ml mm lv b">DashboardBoutiqueCreateUpdateForm</code>是创建或编辑精品实例所需的创建和更新表单。这个表单继承了Django的默认<code class="fe mk ml mm lv b">forms.ModelForm</code>，所以让它工作起来相对简单。</p><h1 id="e89d" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">精品店仪表板应用程序的视图</h1><p id="dbfc" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">部署自定义Oscar控制面板需要四种不同的视图。这些是:</p><ul class=""><li id="237f" class="mo mp iq jp b jq jr ju jv jy mq kc mr kg ms kk mt mu mv mw bi translated">查看精品实例列表<code class="fe mk ml mm lv b">DashboardBoutiqueListView</code></li><li id="0e99" class="mo mp iq jp b jq mx ju my jy mz kc na kg nb kk mt mu mv mw bi translated">查看创建新的精品实例<code class="fe mk ml mm lv b">DashboardBoutiqueCreateView</code></li><li id="e88d" class="mo mp iq jp b jq mx ju my jy mz kc na kg nb kk mt mu mv mw bi translated">查看更新/编辑精品实例<code class="fe mk ml mm lv b">DashboardBoutiqueUpdateView</code></li><li id="dec3" class="mo mp iq jp b jq mx ju my jy mz kc na kg nb kk mt mu mv mw bi translated">查看删除精品实例<code class="fe mk ml mm lv b">DashboardBoutiqueDeleteView</code></li></ul><p id="b7da" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在进入视图之前，将以下代码添加到精品店仪表板应用程序的文件<code class="fe mk ml mm lv b">views.py</code>的头部:</p><pre class="lq lr ls lt gt lu lv lw lx aw ly bi"><span id="9388" class="lz ko iq lv b gy ma mb l mc md">from django.contrib import messages<br/>from django.template.loader import render_to_string<br/>from django.urls import reverse_lazy<br/>from django.utils.translation import gettext<br/>from django.utils.translation import gettext_lazy as _<br/>from django.views import generic<br/>from oscar.core.loading import get_class, get_model</span><span id="26af" class="lz ko iq lv b gy mn mb l mc md">Boutique = get_model('boutique', 'Boutique')<br/>BoutiqueCreateUpdateForm = get_class(<br/>    'boutique.dashboard.forms', 'DashboardBoutiqueCreateUpdateForm')<br/>DashboardBoutiqueSearchForm = get_class(<br/>    'boutique.dashboard.forms', 'DashboardBoutiqueSearchForm')</span></pre><h1 id="5352" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">在仪表板中列出精品实例</h1><p id="b975" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">在自定义仪表板应用程序中列出精品实例与任何其他Django应用程序没有什么不同。列表视图继承了Django的<code class="fe mk ml mm lv b">generic.ListView</code>,如下面的代码所示:</p><pre class="lq lr ls lt gt lu lv lw lx aw ly bi"><span id="4a98" class="lz ko iq lv b gy ma mb l mc md">class DashboardBoutiqueListView(generic.ListView):<br/>    model = Boutique<br/>    template_name = "dashboard/boutique/boutique_list.html"<br/>    context_object_name = "boutique_list"<br/>    paginate_by = 20<br/>    filterform_class = DashboardBoutiqueSearchForm</span><span id="701e" class="lz ko iq lv b gy mn mb l mc md">    def get_title(self):<br/>        data = getattr(self.filterform, 'cleaned_data', {})</span><span id="090b" class="lz ko iq lv b gy mn mb l mc md">        name = data.get('name', None)<br/>        city = data.get('city', None)</span><span id="b823" class="lz ko iq lv b gy mn mb l mc md">        if name and not city:<br/>            return gettext('Boutiques matching "%s"') % (name)<br/>        elif name and city:<br/>            return gettext('Boutiques matching "%s" near "%s"') % (name, city)<br/>        elif city:<br/>            return gettext('Boutiques near "%s"') % (city)<br/>        else:<br/>            return gettext('Boutiques')</span><span id="a8ba" class="lz ko iq lv b gy mn mb l mc md">    def get_context_data(self, **kwargs):<br/>        data = super().get_context_data(**kwargs)<br/>        data['filterform'] = self.filterform<br/>        data['queryset_description'] = self.get_title()<br/>        return data</span><span id="460a" class="lz ko iq lv b gy mn mb l mc md">    def get_queryset(self):<br/>        qs = self.model.objects.all()<br/>        self.filterform = self.filterform_class(self.request.GET)<br/>        if self.filterform.is_valid():<br/>            qs = self.filterform.apply_filters(qs)<br/>        return qs</span></pre><p id="e491" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">上面代码中唯一重要的部分是附加参数<code class="fe mk ml mm lv b">filterform_class</code>，它本质上是一个由Oscar的模板识别和处理的参数。</p><h1 id="eb58" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">在仪表板中创建精品实例</h1><p id="7ff5" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">类似地，负责创建精品实例的视图继承了<code class="fe mk ml mm lv b">generic.CreateView</code>，如以下代码所示:</p><pre class="lq lr ls lt gt lu lv lw lx aw ly bi"><span id="6ced" class="lz ko iq lv b gy ma mb l mc md">class DashboardBoutiqueCreateView(generic.CreateView):<br/>    model = Boutique<br/>    template_name = 'dashboard/boutique/boutique_update.html'<br/>    form_class = BoutiqueCreateUpdateForm<br/>    success_url = reverse_lazy('boutique-dashboard:boutique-list')</span><span id="e66d" class="lz ko iq lv b gy mn mb l mc md">    def get_context_data(self, **kwargs):<br/>        ctx = super().get_context_data(**kwargs)<br/>        ctx['title'] = _('Create new boutique')<br/>        return ctx</span><span id="c4b2" class="lz ko iq lv b gy mn mb l mc md">    def forms_invalid(self, form, inlines):<br/>        messages.error(<br/>            self.request,<br/>            "Your submitted data was not valid - please correct the below errors")<br/>        return super().forms_invalid(form, inlines)</span><span id="9dbe" class="lz ko iq lv b gy mn mb l mc md">    def forms_valid(self, form, inlines):<br/>        response = super().forms_valid(form, inlines)</span><span id="36b8" class="lz ko iq lv b gy mn mb l mc md">        msg = render_to_string('dashboard/boutique/messages/boutique_saved.html',<br/>                               {'boutique': self.object})<br/>        messages.success(self.request, msg, extra_tags='safe')<br/>        return response</span></pre><p id="59e3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在上面的代码中，参数<code class="fe mk ml mm lv b">success_url</code>被分配给<code class="fe mk ml mm lv b">reverse_lazy</code>而不是<code class="fe mk ml mm lv b">reverse</code>，因为URL将被延迟求值(或者在需要时)。此外，Oscar使用Django的内置消息框架将成功和失败消息传递给模板。消息以相应的方法<code class="fe mk ml mm lv b">forms_invalid</code>和<code class="fe mk ml mm lv b">forms_valid</code>进行处理。</p><h1 id="a940" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">更新仪表板中的精品实例</h1><p id="0ce5" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">用于更新精品实例的视图与创建视图非常相似，使用相同的模板，但是继承了<code class="fe mk ml mm lv b">generic.UpdateView</code>。</p><pre class="lq lr ls lt gt lu lv lw lx aw ly bi"><span id="3f3a" class="lz ko iq lv b gy ma mb l mc md">class DashboardBoutiqueUpdateView(generic.UpdateView):<br/>    model = Boutique<br/>    template_name = "dashboard/boutique/boutique_update.html"<br/>    form_class = BoutiqueCreateUpdateForm<br/>    success_url = reverse_lazy('boutique-dashboard:boutique-list')</span><span id="f045" class="lz ko iq lv b gy mn mb l mc md">    def get_context_data(self, **kwargs):<br/>        ctx = super().get_context_data(**kwargs)<br/>        ctx['title'] = self.object.name<br/>        return ctx</span><span id="081a" class="lz ko iq lv b gy mn mb l mc md">    def forms_invalid(self, form, inlines):<br/>        messages.error(<br/>            self.request,<br/>            "Your submitted data was not valid - please correct the below errors")<br/>        return super().forms_invalid(form, inlines)</span><span id="a082" class="lz ko iq lv b gy mn mb l mc md">    def forms_valid(self, form, inlines):<br/>        msg = render_to_string('dashboard/boutique/messages/boutique_saved.html',<br/>                               {'boutique': self.object})<br/>        messages.success(self.request, msg, extrforms_valida_tags='safe')<br/>        return super().forms_valid(form, inlines)</span></pre><h1 id="cb45" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">从仪表板中删除精品实例</h1><p id="f812" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">与其他视图相比，Delete视图相当简单，它继承了Django的<code class="fe mk ml mm lv b">generic.DeleteView</code>,如下所示:</p><pre class="lq lr ls lt gt lu lv lw lx aw ly bi"><span id="6e8c" class="lz ko iq lv b gy ma mb l mc md">class DashboardBoutiqueDeleteView(generic.DeleteView):<br/>    model = Boutique<br/>    template_name = "dashboard/boutique/boutique_delete.html"<br/>    success_url = reverse_lazy('boutique-dashboard:boutique-list')</span></pre><p id="85f0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，既然视图已经完成，我们可以继续学习模板了。</p><h1 id="6411" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">精品店仪表板应用程序的模板</h1><p id="b4e8" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">对于模板，让我们首先创建一个目录<code class="fe mk ml mm lv b">/src/templates/dashboard</code>。在这个目录中，我们必须实现三视图模板和一个消息模板:</p><ul class=""><li id="d3c3" class="mo mp iq jp b jq jr ju jv jy mq kc mr kg ms kk mt mu mv mw bi translated">列表视图模板:<code class="fe mk ml mm lv b">/dashboard/boutique/boutique_list.html</code></li><li id="014f" class="mo mp iq jp b jq mx ju my jy mz kc na kg nb kk mt mu mv mw bi translated">更新视图模板:<code class="fe mk ml mm lv b">/dashboard/boutique/boutique_update.html</code></li><li id="2828" class="mo mp iq jp b jq mx ju my jy mz kc na kg nb kk mt mu mv mw bi translated">删除视图的模板:<code class="fe mk ml mm lv b">/dashboard/boutique/boutique_delete.html</code></li><li id="6a39" class="mo mp iq jp b jq mx ju my jy mz kc na kg nb kk mt mu mv mw bi translated">消息模板:<code class="fe mk ml mm lv b">/dashboard/boutique/messages/boutique_saved.html</code></li></ul><p id="b355" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">模板的实现方式与本教程第一部分所描述的相同，只是这些模板必须扩展不同的基本布局。由于模板很长，你可以在本教程的<a class="ae km" href="https://github.com/mmtechslv/tutorial-django-oscar-newapp" rel="noopener ugc nofollow" target="_blank"> Git库</a>中找到它们。模板准备就绪后，当您转到<code class="fe mk ml mm lv b">http://127.0.0.1:8000/dashboard/boutique/</code> URL时，将出现以下屏幕:</p><figure class="lq lr ls lt gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi nc"><img src="../Images/6a8affa0bf041d377227ba6c9933c692.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*nTo4gMxFYaZ1g5F3.png"/></div></div></figure><h1 id="6b94" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">向Django-Oscar的仪表板添加“精品店”导航项目</h1><p id="4136" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">最后，在<em class="kl">精品店</em>准备就绪后，我们需要在Oscar的仪表盘导航中添加一个导航项目。幸运的是，Django-Oscar提供了一个非常简单的方法来做到这一点。您需要将以下代码添加到设置中，但要确保它是在导入Oscar的默认值之后添加的:</p><pre class="lq lr ls lt gt lu lv lw lx aw ly bi"><span id="b732" class="lz ko iq lv b gy ma mb l mc md">from django.utils.translation import gettext_lazy as _</span><span id="e40a" class="lz ko iq lv b gy mn mb l mc md">... # Django's Other Settings</span><span id="d426" class="lz ko iq lv b gy mn mb l mc md">from oscar.defaults import *</span><span id="ccc4" class="lz ko iq lv b gy mn mb l mc md">OSCAR_DASHBOARD_NAVIGATION.append({<br/>    'label': _('Boutiques'),<br/>    'icon': 'fas fa-store',<br/>    'url_name': 'boutique-dashboard:boutique-list',<br/>})</span></pre><p id="9b14" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">添加导航项目后，进入Oscar仪表板时，您将看到以下屏幕:</p><figure class="lq lr ls lt gt nd gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/1673e6c571d3f852bac11a64e3f304ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1022/format:webp/0*myCCaqIYLnjFK1ul.png"/></div></figure><h1 id="0760" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">结论</h1><p id="155d" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">在本教程结束时，你应该能够创建一个全新的Django Oscar应用程序，它有一个工作面板和一切。我希望这篇教程能对读者有所帮助，让读者在学习Django-Oscar这样一个令人惊叹的电子商务框架时生活得更轻松。</p><blockquote class="me mf mg"><p id="464c" class="jn jo kl jp b jq jr js jt ju jv jw jx mh jz ka kb mi kd ke kf mj kh ki kj kk ij bi translated"><em class="iq">本教程的源代码可以在我的Git库</em> <a class="ae km" href="https://github.com/mmtechslv/tutorial-django-oscar-newapp" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="iq">这里</em> </strong> </a>找到</p></blockquote></div><div class="ab cl nl nm hu nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ij ik il im in"><p id="4ed8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">原载于2021年3月17日https://mmtechslv.com</em><em class="kl">的</em> <a class="ae km" href="https://www.mmtechslv.com/tutorials/django-oscar-new-app-part-2/" rel="noopener ugc nofollow" target="_blank"> <em class="kl">。</em></a></p></div></div>    
</body>
</html>