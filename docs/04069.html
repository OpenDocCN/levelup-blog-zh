<html>
<head>
<title>Probability for Data Science with NumPy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用NumPy研究数据科学的概率</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/probability-for-data-science-with-numpy-7e76e5e65910?source=collection_archive---------12-----------------------#2020-06-08">https://levelup.gitconnected.com/probability-for-data-science-with-numpy-7e76e5e65910?source=collection_archive---------12-----------------------#2020-06-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="ff2c" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">数据科学的数学</h2><div class=""/><div class=""><h2 id="7ff0" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">介绍Python的NumPy解决概率问题！</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/35009a030ea66cb07af185df27dcfd62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V4Y4vQJJs4VlxHxytfCEwg.jpeg"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">由<a class="ae le" href="https://unsplash.com/@vlisidis?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">特里·维里斯迪斯</a>在<a class="ae le" href="https://unsplash.com/s/photos/chance?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="0111" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">Python为我们提供了“n”个工具来进行统计分析。熊猫和NumPy就是其中的两个。Pandas允许我们分析数据框中的数据，并对数据集执行各种方法。另一方面，NumPy或Numerical Python让我们可以在几秒钟内完成高级计算，也就是科学计算。</p><p id="ca45" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在前一系列文章中，我已经介绍了概率、推断统计、描述统计和回归概念。现在我想在编程接口中把它们结合在一起。</p><blockquote class="mb"><p id="c4a9" class="mc md iq bd me mf mg mh mi mj mk ma dk translated">你如何应用二项分布？你会如何在Jupyter笔记本中使用贝叶斯法则？</p></blockquote><p id="609f" class="pw-post-body-paragraph lf lg iq lh b li ml ka lk ll mm kd ln lo mn lq lr ls mo lu lv lw mp ly lz ma ij bi translated">Numpy让我们做所有的事情！但是，为此，我们必须了解一些NumPy方法以及如何逐一使用它们。</p><h2 id="2cd7" class="mq mr iq bd ms mt mu dn mv mw mx dp my lo mz na nb ls nc nd ne lw nf ng nh iw bi translated"><strong class="ak">介绍numpy.random </strong></h2><p id="3948" class="pw-post-body-paragraph lf lg iq lh b li ni ka lk ll nj kd ln lo nk lq lr ls nl lu lv lw nm ly lz ma ij bi translated">根据<a class="ae le" href="https://numpy.org/doc/1.18/reference/random/index.html" rel="noopener ugc nofollow" target="_blank"> NumPy的官方文档</a>，NumPy的随机数例程使用组合a <code class="fe nn no np nq b"><strong class="lh ja">BitGenerator</strong></code>创建序列和使用这些序列从不同的统计分布中采样的<code class="fe nn no np nq b"><strong class="lh ja">Generator</strong></code>来产生伪随机数。</p><p id="26cc" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">其中位生成器生成随机数，生成器将来自位生成器的随机位序列转换成遵循特定概率分布的数字序列。</p><p id="dad5" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">您可以使用Numpy的随机数例程来解决概率问题。先从基础的开始吧。</p><h2 id="9bfe" class="mq mr iq bd ms mt mu dn mv mw mx dp my lo mz na nb ls nc nd ne lw nf ng nh iw bi translated"><strong class="ak"> random.randint </strong></h2><blockquote class="mb"><p id="704b" class="mc md iq bd me mf mg mh mi mj mk ma dk translated">例如，我们有一枚硬币，想知道掷硬币的结果。</p></blockquote><p id="7956" class="pw-post-body-paragraph lf lg iq lh b li ml ka lk ll mm kd ln lo mn lq lr ls mo lu lv lw mp ly lz ma ij bi translated">我们要用“<strong class="lh ja"> <em class="nr"> randint </em> </strong>”来做这道基础概率题。Numpy的"<strong class="lh ja"><em class="nr">random . randint</em></strong>"取一个整数范围，并从该范围返回一个随机数。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ns"><img src="../Images/138f3830ac533dba89cff9a835404299.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hujjgHr6bQ0eudNL-Jw10g.png"/></div></div></figure><p id="b1c5" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我选择了一个范围[0，2]，即0和1个可能的结果。我说“<strong class="lh ja"> 0 </strong>是头，“<strong class="lh ja"> 1 </strong>是尾。当第二个单元运行时，它返回一个表示“<strong class="lh ja">Tail”</strong>的数字。</p><p id="fad2" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">您还可以将size作为一个参数来给出“n”个事件。得到n个结果的数组。如果你看看两个结果的平均值，两个数字都有近50%的比例，即公平硬币。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nt"><img src="../Images/d94aefa609bf89499094be618678f6fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EMmQO6JMCuTWl_Amne7GTw.png"/></div></div></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nu"><img src="../Images/658a126349a8e4a8797a0b9a0f8d6cdf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TQZf523FUUXORSeMypc39A.png"/></div></div></figure><h2 id="9955" class="mq mr iq bd ms mt mu dn mv mw mx dp my lo mz na nb ls nc nd ne lw nf ng nh iw bi translated">随机选择</h2><blockquote class="mb"><p id="1b19" class="mc md iq bd me mf mg mh mi mj mk ma dk translated">我们的硬币有偏差，现在怎么办？</p></blockquote><p id="b529" class="pw-post-body-paragraph lf lg iq lh b li ml ka lk ll mm kd ln lo mn lq lr ls mo lu lv lw mp ly lz ma ij bi translated">如果我们要计算一枚有偏差硬币的概率。我们必须从“<strong class="lh ja">randint”</strong>跳到“<strong class="lh ja">choice”</strong>的方法。<strong class="lh ja">选择</strong>方法从给定的一维数组中生成随机样本。但是，您可以给出与传递的ndarray/int中的每个条目相关的概率。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nv"><img src="../Images/b7bba39a32b14ac2a81afcc82ea4a435.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8TKQMahqAfBdo-XeUeQC_A.png"/></div></div></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nw"><img src="../Images/645551c7d24fdcf4c813d29025f422d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qk9FsJnx3W5HyYx2Uap9vA.png"/></div></div></figure><p id="5c6e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">使用“<strong class="lh ja">选择</strong>方法并保持硬币公平，结果类似于“<strong class="lh ja"> randint </strong>”结果。现在，让我们拿一个正面概率为0.8的有偏向的硬币？</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nx"><img src="../Images/e0d755a6b2652b7e31866c38a0fc0253.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EhxUjEe4iBEKzfxAYayDSw.png"/></div></div></figure><p id="b929" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">通过传递“<strong class="lh ja">p</strong>”参数和它的偏置，我们可以看到我们的输出反映了同样的情况—大约80%的正面！</p><h2 id="7ad7" class="mq mr iq bd ms mt mu dn mv mw mx dp my lo mz na nb ls nc nd ne lw nf ng nh iw bi translated">随机二项式</h2><blockquote class="mb"><p id="8244" class="mc md iq bd me mf mg mh mi mj mk ma dk translated">如果我们把10个硬币翻转1万次会怎么样？得到4个头的概率会有多大？</p></blockquote><p id="bdbd" class="pw-post-body-paragraph lf lg iq lh b li ml ka lk ll mm kd ln lo mn lq lr ls mo lu lv lw mp ly lz ma ij bi translated">像这样的问题是不能用上面提到的任何一个函数来解决的。如果你注意到了，就是“二项分布”的情况。并且，对于二项式分布问题，Numpy有自己的“二项式”方法。它模拟事件的数量“n ”,每个事件都有成功的概率“p”。在掷硬币的情况下，“n”是掷硬币的次数，“p”是成功的概率，即0.5。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ns"><img src="../Images/3045d2e5122d4367d490835b5a43ee68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DTQ4a3N6iguR9TzTC2QLDw.png"/></div></div></figure><p id="e242" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">结果显示我们在10次抛硬币中有3次正面朝上。与上面提到的两个函数不同，它只是返回一个整数，表示我们有这么多头——在我们的例子中是3头。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nv"><img src="../Images/d60e68577835d0a2f87fc6daf280288e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BE21Irg_ksf96j2qub61pQ.png"/></div></div></figure><p id="4cd9" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在，我们将10枚硬币抛20次，我们得到了一个20个结果的列表，显示了每次测试中的人头数。如果你从左边看，6是第一次抛硬币测试的人头数，第二次是3，以此类推。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nv"><img src="../Images/e4cb2b6901036125eb65281c49bcaacf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1S1CGtzSHFk3Z7F4f5e3Kw.png"/></div></div></figure><p id="c36d" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">因为我们的硬币是公平的，所以在每次“<strong class="lh ja"> 10次抛硬币</strong>”测试中，我们平均得到5个正面。这是对随机事件的模拟，因此它们不一定总是等于5。但是，随着测试次数的增加，模拟会更好地反映硬币的公平性。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ny"><img src="../Images/ae8459303f62fe90b93fc3b8138fdc48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vwfo5CG3DB_BsLZrkS7Ycw.png"/></div></div></figure><p id="7b06" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">只要看看测试次数为20次和100万次时硬币的公平性之间的差异就知道了。你可以看到随着测试的增加，模拟的公平性也增加了。</p><h2 id="4e5d" class="mq mr iq bd ms mt mu dn mv mw mx dp my lo mz na nb ls nc nd ne lw nf ng nh iw bi translated">使用熊猫的贝叶斯规则</h2><p id="f8aa" class="pw-post-body-paragraph lf lg iq lh b li ni ka lk ll nj kd ln lo nk lq lr ls nl lu lv lw nm ly lz ma ij bi translated">如何应用贝叶斯法则或条件性质解题？</p><p id="5a55" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">对于这样的问题，你可能不会去深究数字的概念。相反，熊猫可以帮助我们对数据集做同样的事情。我们有一个“癌症”数据集，其中有“患者ID”、“测试结果”和“has_cancer”列。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nz"><img src="../Images/e661852ea42f98be48a3a40bfd913c2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zCopZ61ravU14LEJPrxe4g.png"/></div></div></figure><p id="ecf4" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">让我们从数据集中找出一些常见的答案，如患癌和未患癌患者的数量。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oa"><img src="../Images/d15b15538dddd6efe9df006657ace975.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Okt1-cIzYEzXVbo8eZsuyA.png"/></div></div></figure><p id="3a1d" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">数据集中总个体的10.5%患有癌症，而89.5%没有。这为我们指出一个新患者有10.5%的机会可能患有癌症奠定了基础。</p><p id="9a6a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">但是，如果一个人患有癌症，但测试结果呈阴性，或者反之亦然。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ob"><img src="../Images/0e506b69d4ba62bbfbcc0adaf06ff263.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XrjX8p-mUmhhDdYQbQjJ3Q.png"/></div></div></figure><p id="5441" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">90%的癌症患者检测呈阳性。这90%的观众来自10%的癌症患者。另一方面，有20%的人测试呈阳性，但没有癌症。</p><p id="bed9" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在，我们已经得到了执行贝叶斯规则问题所需的所有变量。</p><blockquote class="oc od oe"><p id="d360" class="lf lg nr lh b li lj ka lk ll lm kd ln of lp lq lr og lt lu lv oh lx ly lz ma ij bi translated">P(癌症)=0.105，P(非癌症)=0.895</p><p id="1675" class="lf lg nr lh b li lj ka lk ll lm kd ln of lp lq lr og lt lu lv oh lx ly lz ma ij bi translated">P(阳性|癌)=0.905，P(阳性|非癌)=0.204，</p><p id="414e" class="lf lg nr lh b li lj ka lk ll lm kd ln of lp lq lr og lt lu lv oh lx ly lz ma ij bi translated">P(阴性|癌)=0.095，P(阴性|非癌)= <strong class="lh ja"> </strong> 0.796</p></blockquote><blockquote class="mb"><p id="78f8" class="mc md iq bd me mf oi oj ok ol om ma dk translated">患者患有癌症并被检测为阳性或P(癌症|阳性)的概率是多少？</p></blockquote><figure class="oo op oq or os kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi on"><img src="../Images/ae865e3ca0e6e8388f2123a2d447d5c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jOI6kZJPnrzDLCbOpxML2w.png"/></div></div></figure><p id="92c5" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">用熊猫，可以简单来解！例如，大约34%的癌症患者被检测为阳性。而且，大约66%的人被检测为阴性，但患有癌症。</p><p id="612c" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在，让我们使用贝叶斯规则并生成输出。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ot"><img src="../Images/2e8143232821a1fd0cff22b9f4ade057.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LB-G6WBuswEfpg20FMighA.png"/></div></div></figure><p id="218f" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我们要求P(癌|阳性)，我们有P(癌)=0.105，P(阳性|癌)=0.905，P(阳性)=0.2772。</p><p id="3215" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在公式中输入所有这些值后，我得到P(癌症|阳性)=0.3428，即与我们上面使用Pandas计算的值相同。</p><h2 id="d96b" class="mq mr iq bd ms mt mu dn mv mw mx dp my lo mz na nb ls nc nd ne lw nf ng nh iw bi translated">摘要</h2><p id="4591" class="pw-post-body-paragraph lf lg iq lh b li ni ka lk ll nj kd ln lo nk lq lr ls nl lu lv lw nm ly lz ma ij bi translated">我讲过用Python的NumPy解决概率问题。最终，你将不是在纸上而是在编程界面上解决数据科学问题。所以，开始解决吧！</p><p id="abf0" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">和平！</strong></p><div class="ou ov gp gr ow ox"><a href="https://medium.com/@essharmav/descriptive-and-inferential-statistics-for-data-science-e8b8b56b1ed2" rel="noopener follow" target="_blank"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd ja gy z fp pc fr fs pd fu fw iz bi translated">数据科学的描述和推断统计学</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">推断性和描述性统计！</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">medium.com</p></div></div><div class="pg l"><div class="ph l pi pj pk pg pl ky ox"/></div></div></a></div></div></div>    
</body>
</html>