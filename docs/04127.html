<html>
<head>
<title>Fullscreen: Practical Tips And Tricks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">全屏:实用提示和技巧</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/fullscreen-practical-tips-and-tricks-cebcba69fb95?source=collection_archive---------10-----------------------#2020-06-10">https://levelup.gitconnected.com/fullscreen-practical-tips-and-tricks-cebcba69fb95?source=collection_archive---------10-----------------------#2020-06-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c879" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">切换全屏模式与任何浏览器，一个Sass mixin为polyfill和隐藏鼠标不活跃</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c5f3a1f36bf0ceaaaa2b9e99c3bd9761.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qyf7I6z6WCwU_jGOBpacng.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">Jr Korpa 在<a class="ae ky" href="https://unsplash.com/s/photos/full-screen-wallpapers?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="085c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">已经有十几个关于<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/API/Fullscreen_API" rel="noopener ugc nofollow" target="_blank"> Web全屏API </a>的现有教程，但是当我上周六为我们的演示编辑器<a class="ae ky" href="https://deckdeckgo.com" rel="noopener ugc nofollow" target="_blank"> DeckDeckGo </a>的演示模式重新设计工具栏时，我注意到我从来没有分享过我们已经实现的一些有用的技巧。</p><p id="0a91" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些是:</p><ul class=""><li id="7941" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">如何实现与任何浏览器兼容的全屏模式切换</li><li id="dd31" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">创建一个Sass mixin来填充全屏CSS伪类</li><li id="c69b" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">不活动时隐藏鼠标光标</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="fec7" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">用任何浏览器切换全屏模式</h1><p id="21cd" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">API公开了两个函数来切换模式，<code class="fe nn no np nq b">requestFullscreen()</code>进入全屏，<code class="fe nn no np nq b">exitFullscreen()</code>则相反。</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="76f8" class="nv mr it nq b gy nw nx l ny nz">function toggleFullScreen() {<br/>  if (!document.fullscreenElement) {<br/>    document.documentElement.requestFullscreen();<br/>  } else {<br/>    if (document.exitFullscreen) {<br/>      document.exitFullscreen();<br/>    }<br/>  }<br/>}</span></pre><p id="9796" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">即使这些方法在不同的浏览器中都得到了很好的支持，你可能会在<a class="ae ky" href="https://caniuse.com/#search=requestFullscreen" rel="noopener ugc nofollow" target="_blank">上注意到在</a>版本号旁边有一个黄色的小标记。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/335c29d5aaaa7ea770b457c6e281e5a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EO0i13KYRL7b9d7LxDbT6w.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">Caniuse |全屏API | 2020年6月9日</figcaption></figure><p id="0682" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">目前的Safari和旧版本的浏览器，如果没有在函数前加上前缀，就无法与API兼容。这就是为什么，如果你正在寻找实现一个跨浏览器兼容的功能，这是值得添加到您的方法。</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="1964" class="nv mr it nq b gy nw nx l ny nz">function toggleFullScreen() {<br/>  const doc = window.document;<br/>  const docEl = doc.documentElement;<br/><br/>  const requestFullScreen = <br/>               docEl.requestFullscreen || <br/>               docEl.mozRequestFullScreen ||<br/>               docEl.webkitRequestFullScreen || <br/>               docEl.msRequestFullscreen;</span><span id="5e92" class="nv mr it nq b gy ob nx l ny nz">  const cancelFullScreen = <br/>              doc.exitFullscreen || <br/>              doc.mozCancelFullScreen || <br/>              doc.webkitExitFullscreen || <br/>              doc.msExitFullscreen;<br/><br/>  if (!doc.fullscreenElement &amp;&amp; !doc.mozFullScreenElement &amp;&amp; <br/>      !doc.webkitFullscreenElement &amp;&amp; !doc.msFullscreenElement) {<br/>    requestFullScreen.call(docEl);<br/>  } else {<br/>    cancelFullScreen.call(doc);<br/>  }<br/>}</span></pre><p id="459f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="oc">注意，上面的代码我是在</em> <a class="ae ky" href="https://developers.google.com/web/fundamentals/native-hardware/fullscreen" rel="noopener ugc nofollow" target="_blank"> <em class="oc"> Google Web基础</em> </a> <em class="oc">里找到的。</em></p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="c24e" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">萨斯米辛</h1><p id="26d7" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">CSS伪类<code class="fe nn no np nq b">:fullscreen</code>(此处记录为<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/CSS/:fullscreen" rel="noopener ugc nofollow" target="_blank"/>)对于根据全屏模式设计元素很有用。</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="abb6" class="nv mr it nq b gy nw nx l ny nz">#myId:fullscreen {<br/>  background: red;<br/>}</span><span id="e041" class="nv mr it nq b gy ob nx l ny nz">#myId:not(:fullscreen) {<br/>  background: blue;<br/>}</span></pre><p id="895b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如<a class="ae ky" href="https://caniuse.com/#search=%3Afullscreen" rel="noopener ugc nofollow" target="_blank">can use</a>所显示的，它在各种浏览器中都得到了很好的支持，但你也可能会再次注意到一些限制，尤其是在Safari上。这就是为什么polyfill这个伪类可能很有趣。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/75b265de3807ed762c69d16b5e9e8f9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s3cBdYOjRVpc_2PhYxmyzw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">Caniuse |全屏API | 2020年6月9日</figcaption></figure><p id="d063" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，如果许多元素必须根据模式进行调整，使用<a class="ae ky" href="https://sass-lang.com/" rel="noopener ugc nofollow" target="_blank"> Sass </a>和mixin可能会很有趣。这就是为什么这里是我们正在使用的一个。</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="3407" class="nv mr it nq b gy nw nx l ny nz">@mixin fullscreen() {<br/>  #{if(&amp;, "&amp;", "*")}:-moz-full-screen {<br/>    @content;<br/>  }<br/><br/>  #{if(&amp;, "&amp;", "*")}:-webkit-full-screen {<br/>    @content;<br/>  }<br/><br/>  #{if(&amp;, "&amp;", "*")}:-ms-fullscreen {<br/>    @content;<br/>  }<br/><br/>  #{if(&amp;, "&amp;", "*")}:fullscreen {<br/>    @content;<br/>  }<br/>}</span></pre><p id="9513" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在它的帮助下，你现在可以声明一次，然后将你所有的全屏样式分组。</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="b143" class="nv mr it nq b gy nw nx l ny nz">@include fullscreen() {<br/>  #myId {<br/>    background: blue;<br/>  }</span><span id="59a6" class="nv mr it nq b gy ob nx l ny nz">  #myMenu {<br/>    display: none;<br/>  }</span><span id="017a" class="nv mr it nq b gy ob nx l ny nz">  #myFooter {<br/>    background: yellow;<br/>  }<br/>}</span></pre><p id="ffe0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="oc">我有填料，我不是自己写的这个mixin，至少完全不是，但我再也想不出我是在哪里找到它的，因为我现在使用它有一段时间了。如果你是她/他的作者，请告诉我。我很乐意给你学分！</em></p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="75ca" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">不活动时隐藏鼠标指针</h1><p id="4c55" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">你是否也注意到，当一个演示者全屏显示她的/他的演示时，鼠标光标是否仍然显示在屏幕上的某个地方？</p><p id="07b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我确实注意到了它，而且我宁愿把它藏起来😆。我的意思是，当我在<a class="ae ky" href="https://deckdeckgo.com" rel="noopener ugc nofollow" target="_blank"> DeckDeckGo </a>注意到这种行为时，我必须尽快制定出解决方案。即使我在印度度过冲浪假期(你可以查看我的GitHub提交历史，我不是在开玩笑，真实的故事🤣).</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/d7dde16dd07d77764a23786c9ff8b17a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*krc3a3DHYjqUkw-CQjaLEw.gif"/></div></figure><p id="a1fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了检测不活动，我们监听事件<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/API/Element/mousemove_event" rel="noopener ugc nofollow" target="_blank"> mousemove </a>。每次事件被触发时，我们重置一个计时器并延迟修改样式<a class="ae ky" href="https://developer.mozilla.org/fr/docs/Web/CSS/cursor" rel="noopener ugc nofollow" target="_blank">光标</a>来隐藏鼠标。同样，如果我们在全屏模式和正常模式之间切换，我们会执行相同的功能。</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="06b0" class="nv mr it nq b gy nw nx l ny nz">&lt;!DOCTYPE html&gt;<br/>&lt;html dir="ltr" lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;meta charset="utf-8" /&gt;<br/>    &lt;meta name="viewport" <br/>          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" /&gt;<br/>    &lt;title&gt;Hide mouse on inactivity&lt;/title&gt;<br/>  &lt;/head&gt;</span><span id="3ed7" class="nv mr it nq b gy ob nx l ny nz">  &lt;body style="margin: 0; overflow: hidden;"&gt;</span><span id="b8a0" class="nv mr it nq b gy ob nx l ny nz">    &lt;script type="text/javascript"&gt;<br/>      let idleMouseTimer;<br/><br/>      document.addEventListener('mousemove', mouseTimer);<br/><br/>      function mouseTimer() {<br/>        showHideMouseCursor(true);<br/><br/>        clearTimer();<br/><br/>        if (!isFullscreen()) {<br/>          return;<br/>        }<br/><br/>        idleMouseTimer = setTimeout(async () =&gt; {<br/>          showHideMouseCursor(false);<br/>        }, 2000);<br/>      }<br/><br/>      function clearTimer() {<br/>        if (idleMouseTimer &gt; 0) {<br/>          clearTimeout(idleMouseTimer);<br/>        }<br/>      }<br/><br/>      function isFullscreen() {<br/>        return window.innerHeight == screen.height;<br/>      }<br/><br/>      function showHideMouseCursor(show) {<br/>        document.querySelector('div').style<br/>                .setProperty('cursor', show ? 'initial' : 'none');<br/>      }<br/><br/>      function toggleFullScreen() {<br/>        const doc = window.document;<br/>        const docEl = doc.documentElement;<br/><br/>        const requestFullScreen = <br/>                     docEl.requestFullscreen ||    <br/>                     docEl.mozRequestFullScreen ||  <br/>                     docEl.webkitRequestFullScreen || <br/>                     docEl.msRequestFullscreen;<br/><br/>        const cancelFullScreen = <br/>                    doc.exitFullscreen || <br/>                    doc.mozCancelFullScreen || <br/>                    doc.webkitExitFullscreen || <br/>                    doc.msExitFullscreen;<br/><br/>        if (!doc.fullscreenElement &amp;&amp; !doc.mozFullScreenElement &amp;&amp; <br/>            !doc.webkitFullscreenElement &amp;&amp; <br/>            !doc.msFullscreenElement) {<br/>          requestFullScreen.call(docEl);<br/>        } else {<br/>          cancelFullScreen.call(doc);<br/>        }<br/><br/>        mouseTimer();<br/>      }<br/>    &lt;/script&gt;<br/><br/>    &lt;div style="display: block; width: 100vw; height: 100vh;"&gt;<br/>      &lt;button onclick="toggleFullScreen()" <br/>              style="position: absolute; <br/>                     top: 50%; left: 50%; <br/>                     transform: translate(-50%, -50%);"&gt;<br/>        Toggle fullscreen<br/>      &lt;/button&gt;<br/>    &lt;/div&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="72bc" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">结论</h1><p id="f7cf" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">我希望我们在编辑器和开发工具包中应用的这些提示，有一天会对某个人、某个地方有用。如果你有任何问题，请给我留言。</p><p id="d9d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为你的下一个演示尝试一下😇。</p><p id="0abb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">到无限和更远</p><p id="6363" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">大卫</p></div></div>    
</body>
</html>