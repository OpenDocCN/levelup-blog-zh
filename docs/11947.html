<html>
<head>
<title>Scope Tailwind CSS base styles using custom preflight</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用自定义预检确定顺风CSS基本样式的范围</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/scope-tailwind-css-base-styles-using-custom-preflight-34f71952e070?source=collection_archive---------5-----------------------#2022-05-02">https://levelup.gitconnected.com/scope-tailwind-css-base-styles-using-custom-preflight-34f71952e070?source=collection_archive---------5-----------------------#2022-05-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8a5d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在不破坏现有样式的情况下将顺风CSS添加到项目中，并且仍然受益于预检默认设置。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/0a559dc9aa02afd2ee8e6ef013138c17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*s2uwD8WzJE-Mej_H"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@jannerboy62?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">尼克·费因斯</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="73ac" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">介绍</h1><p id="5468" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">Tailwind CSS是一个实用的CSS框架。它允许您足够灵活地实现定制设计，同时确保一致性。</p><p id="eee6" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">尽管这是一个不可思议的框架，但是由于<a class="ae kv" href="https://tailwindcss.com/docs/preflight" rel="noopener ugc nofollow" target="_blank">预检</a>的原因，在现有项目中使用它可能会很有挑战性。Tailwind CSS自带了一套基本样式，为CSS提供了“合理的默认值和重置”。根据遗留代码的状态，这些规则的效果可能从无害到完全破坏样式。这些<a class="ae kv" href="https://tailwindcss.com/docs/preflight" rel="noopener ugc nofollow" target="_blank">变化</a>包括修改行高、边距重置、无样式标题和列表项。</p><blockquote class="mp mq mr"><p id="112f" class="lo lp ms lq b lr mk jr lt lu ml ju lw mt mm lz ma mu mn md me mv mo mh mi mj ij bi translated">与其修改现有代码以使其与Tailwind CSS preflight兼容，不如用一个类来限定Tailwind CSS preflight本身的范围。T13】</p></blockquote><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/bfdb5e33c8cc1b3a8f4aa856131b67e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*h43LvvoT8BCT7dsuFcGbNg.gif"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">通过附加一个类来限制CSS规则的范围</figcaption></figure><p id="f0d7" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这样，现有的样式不会被破坏，只有在需要的时候，通过添加自定义前缀类，顺风默认值才可用。</p><h1 id="7997" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">步骤1 —项目设置</h1><p id="3c2c" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">出于本教程的目的，项目按照顺风CSS <a class="ae kv" href="https://tailwindcss.com/docs/installation" rel="noopener ugc nofollow" target="_blank">文档</a>中的概述进行设置。这里使用了npm，但是您也可以使用任何其他方法。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/121de0e93f586baaf38cbf02aa128e1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-OMtAVPJ3rjaqJ6lpAO2fg.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">项目结构</figcaption></figure><p id="1d96" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">打开tailwind.config.js并禁用预检，如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mx my l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">在第8–10行禁用预检</figcaption></figure><p id="b34f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">禁用预检将保留项目中的现有样式。另外，请注意第3行中添加的<a class="ae kv" href="https://tailwindcss.com/docs/configuration#prefix" rel="noopener ugc nofollow" target="_blank">前缀选项</a>。虽然不是必须的，但是这个前缀为类添加了尾部，避免了公共类名的名称冲突。</p><p id="4d15" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">接下来，找到顺风CSS的默认预检文件。这将位于顺风CSS的源文件夹中。如果您使用的是npm，您可以在节点模块<code class="fe mz na nb nc b">node_modules/tailwindcss/lib/css/preflight.css</code>下找到它，将该文件复制到项目根目录，并将其重命名为<code class="fe mz na nb nc b">scoped-preflight.stylus</code>。</p><h1 id="8538" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">步骤2 —使用手写笔生成限定范围的样式</h1><p id="5248" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">现在，让我们限制这个文件中CSS规则的范围。您可以手动将类名添加到这些规则中，但是这很容易出错，并且以后很难更改类名。相反，您可以使用<a class="ae kv" href="https://stylus-lang.com/" rel="noopener ugc nofollow" target="_blank">手写笔</a> CSS预处理器来完成这项工作。您可以使用npm安装手写笔。</p><pre class="kg kh ki kj gt nd nc ne nf aw ng bi"><span id="0009" class="nh kx iq nc b gy ni nj l nk nl">npm install stylus -g</span></pre><p id="a998" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">现在，我们将嵌套所有的CSS规则，我们想在自定义前缀类的范围。我使用tw-cst-pf作为类名，但是你可以在这里选择任何有效的CSS类名。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mx my l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">自定义前缀中的嵌套规则</figcaption></figure><p id="ba94" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">接下来，为您想要添加定制类的所有规则添加<a class="ae kv" href="https://stylus-lang.com/docs/selectors.html#parent-reference" rel="noopener ugc nofollow" target="_blank">父引用选择器</a>。注意父选择器&amp;现有规则之间缺少空格。这一点很关键，因为CSS规则与<a class="ae kv" href="https://stackoverflow.com/questions/1126338/what-does-a-space-mean-in-a-css-selector-i-e-what-is-the-difference-between-c" rel="noopener ugc nofollow" target="_blank">空格</a>不同。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mx my l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">在适当的位置添加父选择器</figcaption></figure><p id="d68d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">完成所有规则的限定后，运行</p><pre class="kg kh ki kj gt nd nc ne nf aw ng bi"><span id="8b40" class="nh kx iq nc b gy ni nj l nk nl">stylus scoped-preflight.stylus -o scoped-preflight.css</span></pre><p id="6624" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这将生成一个CSS文件，其中父选择器被替换为自定义前缀类。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/f2e702d4fe6964c836dc2d44f1f4eacc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l5Lz94dk3OSJnBAsQannpg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">附加了自定义类别名称的预检规则</figcaption></figure><h1 id="ad3b" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">步骤3 —使用限定范围的预检</h1><p id="8aea" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">将scoped-preflight.css的内容复制到input.css中的<a class="ae kv" href="https://tailwindcss.com/docs/preflight#extending-preflight" rel="noopener ugc nofollow" target="_blank">基础</a>层下。这将这些样式注入到Tailwind CSS中的基础层内。</p><p id="f3ef" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">就是这样。</p><p id="1271" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">从项目根目录启动Tailwind CLI，您就可以开始了:)</p><pre class="kg kh ki kj gt nd nc ne nf aw ng bi"><span id="1dce" class="nh kx iq nc b gy ni nj l nk nl">npx tailwindcss -i ./src/input.css -o ./dist/output.css --watch</span></pre><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mx my l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">同一文件中的传统CSS和Tailwind代码</figcaption></figure><h1 id="2aba" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">结论</h1><p id="baac" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">现在你有了一个设置，Tailwind CSS可以很好地与项目中的遗留CSS一起工作。你可以在<a class="ae kv" href="https://github.com/Ashish424/tailwind-scoped-prelight" rel="noopener ugc nofollow" target="_blank"> Github </a>上查看完整的项目。如果您决定更新项目的Tailwind CSS版本，您必须手动将任何更改同步到预检。有关范围预检的更多信息，请查看Github上的讨论。</p><h1 id="7c78" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">资源</h1><ul class=""><li id="8e2a" class="nn no iq lq b lr ls lu lv lx np mb nq mf nr mj ns nt nu nv bi translated"><a class="ae kv" href="https://github.com/Ashish424/tailwind-scoped-prelight" rel="noopener ugc nofollow" target="_blank">样本项目</a></li><li id="1e6f" class="nn no iq lq b lr nw lu nx lx ny mb nz mf oa mj ns nt nu nv bi translated"><a class="ae kv" href="https://github.com/tailwindlabs/tailwindcss/discussions/7050" rel="noopener ugc nofollow" target="_blank">顺风飞行前讨论</a></li><li id="846c" class="nn no iq lq b lr nw lu nx lx ny mb nz mf oa mj ns nt nu nv bi translated"><a class="ae kv" href="https://stylus-lang.com/" rel="noopener ugc nofollow" target="_blank">手写笔</a></li></ul></div></div>    
</body>
</html>