<html>
<head>
<title>Google Cloud BigQuery vs. AWS Redshift</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">谷歌云BigQuery与AWS红移</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/google-cloud-bigquery-vs-aws-redshift-a4d7238f1867?source=collection_archive---------9-----------------------#2020-02-12">https://levelup.gitconnected.com/google-cloud-bigquery-vs-aws-redshift-a4d7238f1867?source=collection_archive---------9-----------------------#2020-02-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b2f9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">哪个云数据库适合你？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6052c080b962c72dbd8620f30f1d2f3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mGBND3YfFpvvYoAaD1yQWg.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">唐纳德·詹纳蒂在<a class="ae ky" href="https://unsplash.com/s/photos/technology?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="2193" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于我们这些必须管理跨具有不同需求的大型组织的大型数据集的人来说，管理自己的服务器和应用程序集已被证明是非常困难的。</p><p id="a815" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，一窝蜂地涌向云。</p><p id="d2f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">谷歌和亚马逊是一些最大的云服务提供商！许多公司依赖于他们的各种产品，经常混合搭配他们提供的不同产品。</p><p id="5789" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们想要讨论云数据仓库的概念。</p><p id="e0a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">具体参考分别由Amazon和Google构建的RedShift和BigQuery，并讨论哪个应用程序最适合您的组织。让我们开始吧:</p><h1 id="cd8f" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">什么是数据仓库？</h1><p id="9006" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在我们深入探讨细节之前，什么是数据仓库？</p><p id="d415" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">简而言之，数据仓库是任何商业智能或分析团队的生命线。它允许这些团队存储和分析来自整个组织的领域(如财务、运营和人力资源)的有用数据。</p><p id="fe3c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于对原始源系统和数据仓库进行了设计上的修改，这也使得数据的交互变得更加简单。</p><p id="5acc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">总的来说，数据仓库的主要目的是在复杂的业务流程和分析师之间架起一座桥梁。</p><h1 id="d268" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">云数据仓库</h1><p id="7d99" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">直到最近，数据仓库都是在内部开发的。这意味着系统受限于它们所在的服务器，通常必须垂直扩展。</p><p id="df9b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这可能会花费很多时间和额外的人力。</p><p id="9d30" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在有了云，许多数据仓库提供商允许您作为一家公司根据需要进行扩展和缩减。</p><p id="0bb0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，许多云提供商已经开发了特定于数据仓库的数据系统。这使得它们比标准的关系数据库更快更有效。</p><p id="5103" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">团队如何使用云数据仓库有很多选择。今天我们将重点讨论BigQuery和红移。</p><p id="08eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">基本上，亚马逊对谷歌。</p><p id="9924" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以我们来看看。</p><h1 id="a677" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">BigQuery</h1><p id="d75c" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">BigQuery是Google使用BigTable构建的无服务器企业级数据仓库。</p><p id="7978" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该应用程序可以在几秒钟内对过去难以管理的大量数据执行复杂的查询。</p><p id="cb6b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">BigQuery支持SQL格式，并通过命令行工具和web用户界面提供可访问性。这是一种可扩展的服务，允许用户专注于分析，而不是处理基础架构。</p><p id="6e7f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就我个人而言，我非常喜欢BigQuery的在线用户界面。无需设置任何连接器或下载任何第三方工具来与数据交互。</p><h1 id="9030" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">红移</h1><p id="25d0" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">Redshift是亚马逊打造的面向列的基于云的数据仓库系统。一些人说，在甲骨文首席执行官吹嘘亚马逊需要甲骨文继续经营后，他们可以停止依赖甲骨文。</p><p id="4245" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">红移集群由多台存储一小部分数据的机器组成。</p><p id="3fc9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些机器并行工作，保存数据，因此我们可以有效地处理它。这里，Redshift有一些计算节点，它们由领导者节点管理，以管理计算节点之间的数据分布和查询执行。还有其他设计优势，如大规模并行处理(MPP)。</p><p id="184d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">总的来说，BigQuery和Redshift在设计时都考虑到了分析。因此，像MPP和列存储这样的概念都是设计决策，以确保运行分析查询是高效的。</p><h1 id="3261" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">BigQuery和红移的区别</h1><h2 id="9fe8" class="ms lw it bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated"><strong class="ak">定价</strong></h2><p id="2146" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">虽然两者都有按需和统一费率选项，但BigQuery和Redshift在定价方面有很大不同。BigQuery对存储、查询和流插入收费，而Redshift对集群中的每个节点收费。</p><p id="7181" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://www.xplenty.com/blog/redshift-vs-bigquery-comprehensive-guide/" rel="noopener ugc nofollow" target="_blank"> RedShift的存储成本约为每月每TB 306美元</a>，并提供无限的处理能力，而BigQuery的成本仅为每月每TB 20美元<a class="ae ky" href="https://www.xplenty.com/blog/redshift-vs-bigquery-comprehensive-guide/" rel="noopener ugc nofollow" target="_blank">，每TB 5美元</a>。</p><h2 id="55be" class="ms lw it bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated"><strong class="ak"> <em class="ne">安全</em> </strong></h2><p id="05f1" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">RedShift使用Amazon IAM进行身份认证，而BigQuery使用Google Cloud IAM。BigQuery带有默认的数据加密选项，而在BigQuery中，您必须手动启用该选项。</p><p id="93ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://www.stratoscale.com/blog/compute/comparing-google-iam-aws-iam/" rel="noopener ugc nofollow" target="_blank">从角色的角度来看，这两种iam有些相似，但您可以在此处阅读更多关于不同之处的信息</a>。</p><h2 id="5e70" class="ms lw it bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated"><strong class="ak"> <em class="ne">简单性</em> </strong></h2><p id="10bc" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">BigQuery抽象出底层数据库、配置和硬件的细节。红移需要你对红移有非常深入的了解。这包括像分发密钥和MPP这样的概念。</p><h2 id="78b2" class="ms lw it bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated"><strong class="ak"> <em class="ne">数据加载</em> </strong></h2><p id="c6de" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">Amazon RedShifts允许你从任何地方加载数据。然而，它最自然地与亚马逊S3联系在一起，而类似的事情也可以说是关于谷歌大查询和谷歌云存储。</p><p id="b51f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这两个系统都支持流方式的数据插入，并且都支持JSON、CSV和Avro等格式的数据序列化。</p><p id="68ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，还有许多其他方法可以用来加载这些系统。例如，Airflow和Luigi都可以用于加载，但AWS Glue也可以。</p><h1 id="8076" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">更新表格</h1><p id="3da7" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">许多传统的数据仓库和BI专业人员可能会用来合并、更新和插入一组DMLs(数据操作语言)语句，这些语句经常出现在Oracle、SQL Server、MySQL和几乎所有其他标准数据库中。</p><p id="438b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，Redshift和BigQuery不一定以相同的方式支持所有这些子句。</p><p id="a4a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，对于merge Redshift有upserts，但它并不完全是merge的直接版本。</p><p id="2922" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">引用AWS:</p><blockquote class="nf ng nh"><p id="1ca9" class="kz la ni lb b lc ld ju le lf lg jx lh nj lj lk ll nk ln lo lp nl lr ls lt lu im bi translated">Amazon Redshift不支持单个<em class="it"> merge </em>语句(update或insert，也称为<em class="it"> upsert </em>)来插入和更新来自单个数据源的数据。</p><p id="7406" class="kz la ni lb b lc ld ju le lf lg jx lh nj lj lk ll nk ln lo lp nl lr ls lt lu im bi translated">但是，您可以有效地执行合并操作。为此，将数据加载到临时表中，然后将临时表与更新语句和插入语句的目标表连接起来。有关说明，请参见<a class="ae ky" href="https://docs.aws.amazon.com/redshift/latest/dg/t_updating-inserting-using-staging-tables-.html" rel="noopener ugc nofollow" target="_blank">更新和插入新数据</a>。</p></blockquote><p id="dbd7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以这真的是一个变通的办法。说实话，这还是让我有点难过。</p><p id="a20e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">BigQuery实际上支持merge子句。</p><p id="ac64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">事实上，直到2017年左右，它实际上是作为一个仅附加系统而设计的。但是BigQuery已经从<a class="ae ky" href="https://cloud.google.com/bigquery/docs/reference/standard-sql/dml-syntax" rel="noopener ugc nofollow" target="_blank">开始更新、插入</a>和合并子句。</p><p id="cdda" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这为工程师在Bigquery上开发数据仓库提供了一种更加直接的方法。</p><p id="f1b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">继续BigQuery更容易使用的想法。</p><h2 id="b735" class="ms lw it bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated">结论</h2><p id="2288" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">Redshift和BigQuery都是优秀的数据仓库，可以帮助企业获得有用的见解。在做出选择之前，考虑您的表列长度、业务需求和技术能力是很重要的。</p><p id="2fd7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Redshift在管理资源方面提供了更大的灵活性。然而，要操作一个星团，你需要了解红移背后的许多细微差别。这可能会迫使您的工程师花费大量时间来微调您的数据仓库。</p><p id="4d71" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一方面，BigQuery不期望您管理资源，因此它抽象出所有底层配置、硬件和数据库细节。由于其类似SQL的基础设施，它非常用户友好，易于学习。</p><p id="8f08" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然有一些不同，但两者都有各自的优点。因此，通读以上文章，然后与您组织的要求进行比较，以做出最佳选择。</p></div></div>    
</body>
</html>