<html>
<head>
<title>Learning Elasticsearch Basic Easily</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">è½»æ¾å­¦ä¹ å¼¹æ€§æœç´¢åŸºç¡€</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/learning-elasticsearch-basic-easily-441f37b8bd8d?source=collection_archive---------18-----------------------#2021-02-23">https://levelup.gitconnected.com/learning-elasticsearch-basic-easily-441f37b8bd8d?source=collection_archive---------18-----------------------#2021-02-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="c24d" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">å­¦ä¹ è½¯ä»¶å¼€å‘</h2><div class=""/><div class=""><h2 id="dde1" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">è½»æ¾å¿«é€Ÿä½“éªŒElasticsearch</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/71f2a381692eb2d9500a031e88973fb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*orjS_EtU-Sox_4Nu"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">ç…§ç‰‡ç”±<a class="ae lh" href="https://unsplash.com/@rawanyasser?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Rawan Yasser </a>åœ¨<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹æ‘„</figcaption></figure><p id="34d3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi me translated"><span class="l mf mg mh bm mi mj mk ml mm di"> W </span>å½“æˆ‘ç¬¬ä¸€æ¬¡å¬è¯´Elasticsearchæ—¶ï¼Œæˆ‘çŸ¥é“å®ƒæ˜¯ä¸€ä¸ªæ–°çš„æ•°æ®åº“ç³»ç»Ÿï¼Œå¯ä»¥æ ¹æ®å†…å®¹çš„å…³é”®å­—çµæ´»åœ°è¿›è¡Œæœç´¢ã€‚å®ƒä¸ä½¿ç”¨ä¼ ç»Ÿçš„SQLæ¥æŸ¥è¯¢æ•°æ®ã€‚</p><p id="2e35" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å¾ˆé«˜å…´æœ‰æœºä¼šä¸€ç¹å®ƒçš„é£é‡‡ï¼Œè€Œä¸ä¼šæåæˆ‘çš„æœºå™¨ã€‚å› æ­¤ï¼Œåœ¨è¿™é‡Œåˆ†äº«æˆ‘çš„å­¦ä¹ ï¼Œè¿™æ ·æˆ‘å°±ä¸ä¼šå¿˜è®°ã€‚</p><h2 id="f1c1" class="mn mo it bd mp mq mr dn ms mt mu dp mv lr mw mx my lv mz na nb lz nc nd ne iz bi translated">åœ¨æœ¬åœ°æœºå™¨ä¸Šè®¾ç½®Elasticsearchå’ŒKibana</h2><p id="21fd" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">å†å²ä¸Šï¼Œå½“æˆ‘ä»¬æƒ³å­¦ä¹ ä»»ä½•å·¥å…·æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…å®ƒã€‚ä½†æ˜¯ç°åœ¨dockeræ¥å¸®å¿™äº†ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†å®ƒä»¬ä¸‹è½½åˆ°å®¹å™¨ä¸­æ¥è®¾ç½®å®ƒä»¬ï¼Œè®©å®ƒä»¬å·¥ä½œï¼Œå¹¶åœ¨ä¸ç ´åä»»ä½•æœ¬åœ°æœºå™¨ç¯å¢ƒçš„æƒ…å†µä¸‹å®Œå…¨åˆ é™¤å®ƒä»¬ã€‚</p><p id="6703" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æ‚¨å¯ä»¥ä½¿ç”¨docker-composeæ¥è¿è¡Œå®ƒï¼Œå¦‚ä¸‹æ–‡æ‰€ç¤º</p><div class="nk nl gp gr nm nn"><a rel="noopener  ugc nofollow" target="_blank" href="/docker-compose-made-easy-with-elasticsearch-and-kibana-4cb4110a80dd"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd jd gy z fp ns fr fs nt fu fw jc bi translated">ç”¨Elasticsearchå’ŒKibanaä½¿Docker-Composeå˜å¾—ç®€å•</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">ä½¿ç”¨docker-composeè½»æ¾å¯åŠ¨å’Œå…³é—­è½¯ä»¶ç³»ç»Ÿ</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="nw l"><div class="nx l ny nz oa nw ob lb nn"/></div></div></a></div><p id="875e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä¸€æ—¦ä½ å®‰è£…äº†Kibana(ä¸€ä¸ªä½¿ä½¿ç”¨Elasticsearchå˜å¾—å®¹æ˜“çš„æ•°æ®åº“æ§åˆ¶å°),ä½ å¯ä»¥ä»å¦‚ä¸‹æ‰€ç¤ºçš„èœå•ä¸­è®¿é—®Dev Toolsé¡µé¢ã€‚</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oc"><img src="../Images/e694763bf7cf6e41d0f1e221a8e62f68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2N90ND9Uq5bWMzi5KJzFZg.png"/></div></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oc"><img src="../Images/25bfb4503e1019a8840220dd56d16bc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kFxLWxP0HIHf740Cp6UbSA.png"/></div></div></figure><p id="bd13" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ç°åœ¨ï¼Œæ‚¨å·²ç»å‡†å¤‡å¥½è¿›è¡Œå¼¹æ€§æœç´¢äº†ğŸ‰</p><h1 id="31d2" class="od mo it bd mp oe of og ms oh oi oj mv ki ok kj my kl ol km nb ko om kp ne on bi translated">åˆ›å»ºå’Œåˆ é™¤ç´¢å¼•</h1><p id="fe7c" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å­¦ä¹ åˆ›å»ºä¸€ä¸ªç´¢å¼•(å­˜å‚¨åŒº)å¹¶åˆ é™¤å®ƒã€‚</p><h2 id="0dac" class="mn mo it bd mp mq mr dn ms mt mu dp mv lr mw mx my lv mz na nb lz nc nd ne iz bi translated">åˆ›å»ºç´¢å¼•</h2><p id="fad2" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">è¦åˆ›å»ºç´¢å¼•ï¼Œåªéœ€ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="a8d2" class="mn mo it op b gy ot ou l ov ow">PUT books</span></pre><p id="8317" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å…¶ä¸­<code class="fe ox oy oz op b">books</code>æ˜¯ç´¢å¼•åã€‚</p><h2 id="9148" class="mn mo it bd mp mq mr dn ms mt mu dp mv lr mw mx my lv mz na nb lz nc nd ne iz bi translated">åˆ é™¤ç´¢å¼•</h2><p id="b0c7" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">è¦åˆ é™¤ç´¢å¼•ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="0331" class="mn mo it op b gy ot ou l ov ow">DELETE books</span></pre><blockquote class="pa pb pc"><p id="7953" class="li lj pd lk b ll lm kd ln lo lp kg lq pe ls lt lu pf lw lx ly pg ma mb mc md im bi translated">æ³¨æ„:åœ¨é‡æ–°åˆ›å»ºä¹‹å‰ï¼Œæ‚¨éœ€è¦åˆ é™¤ä¸€ä¸ªç´¢å¼•ã€‚</p></blockquote><p id="bbd4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä»æ•°æ®åº“çš„è§’åº¦æ¥çœ‹ï¼Œåˆ›å»ºå’Œåˆ é™¤æ•°æ®åº“åªéœ€è¦ä¸€ä¸ªå‘½ä»¤ï¼Œè€Œä¸éœ€è¦æ‹…å¿ƒåº•å±‚æ•°æ®æ˜¯å¦‚ä½•ç»„ç»‡å’Œæ„é€ çš„ã€‚å¤ªå¥½äº†ï¼</p><blockquote class="pa pb pc"><p id="9f53" class="li lj pd lk b ll lm kd ln lo lp kg lq pe ls lt lu pf lw lx ly pg ma mb mc md im bi translated">æç¤º:<br/> 1ã€‚æ‚¨å¯ä»¥ä½¿ç”¨<code class="fe ox oy oz op b">HEAD books</code>æ¥æ£€æŸ¥ç´¢å¼•<br/> 2æ˜¯å¦å­˜åœ¨ã€‚ä½ å¯ä»¥ä½¿ç”¨<code class="fe ox oy oz op b">GET books</code>æ¥æ£€æŸ¥ç´¢å¼•çš„å±æ€§ã€‚<br/> 3ã€‚æ‚¨å¯ä»¥ä½¿ç”¨curlåœ¨ç»ˆç«¯ä¸­æ‰§è¡Œæ·»åŠ æˆ–åˆ é™¤æ“ä½œï¼Œå¦‚ä¸‹æ‰€ç¤º</p></blockquote><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="2576" class="mn mo it op b gy ot ou l ov ow">curl -XPUT localhost:9200/books<br/>curl -XDELETE localhost:9200/books</span></pre><h1 id="9fc5" class="od mo it bd mp oe of og ms oh oi oj mv ki ok kj my kl ol km nb ko om kp ne on bi translated">æ·»åŠ æ–‡æ¡£</h1><p id="a279" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">æ‹¥æœ‰ç´¢å¼•æœ¬èº«æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œé™¤éæˆ‘ä»¬å¯ä»¥å‘å®ƒæ·»åŠ æ–‡æ¡£(æ•°æ®)ã€‚æœ‰å‡ ç§æ–¹æ³•å¯ä»¥å‘å…¶ä¸­æ·»åŠ æ–‡æ¡£ã€‚</p><h2 id="aea4" class="mn mo it bd mp mq mr dn ms mt mu dp mv lr mw mx my lv mz na nb lz nc nd ne iz bi translated">æ·»åŠ ç‰¹å®šçš„æ–‡æ¡£ç´¢å¼•</h2><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="455d" class="mn mo it op b gy ot ou l ov ow">PUT books/_doc/1<br/>{<br/>  "id": "1",<br/>  "title": "Learning Perl Made Easy",<br/>  "genres": [ "programming", "education" ]<br/>}</span></pre><p id="6a21" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code class="fe ox oy oz op b">PUT</code>æ·»åŠ æ–‡æ¡£ç´¢å¼•<code class="fe ox oy oz op b">1</code>ã€‚å¦‚æœè¦ç¼–è¾‘æ•°æ®ï¼Œå†æŒ‰<code class="fe ox oy oz op b">PUT</code>å¯¹åŒä¸€æ–‡æ¡£è¿›è¡Œç´¢å¼•ã€‚</p><blockquote class="pa pb pc"><p id="1b2d" class="li lj pd lk b ll lm kd ln lo lp kg lq pe ls lt lu pf lw lx ly pg ma mb mc md im bi translated">æç¤º:æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ç»ˆç«¯ä¸­ä½¿ç”¨<code class="fe ox oy oz op b">curl</code>æ¥<code class="fe ox oy oz op b">PUT</code>æ–‡æ¡£</p></blockquote><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="d4ad" class="mn mo it op b gy ot ou l ov ow">curl -XPUT -H "Content-Type: application/json" localhost:9200/books/_doc/1 -d '<br/>{<br/>  "id": "1",<br/>  "title": "Learning Perl Made Easy",<br/>  "genres": [ "programming", "education" ]<br/>}'</span></pre><h2 id="d186" class="mn mo it bd mp mq mr dn ms mt mu dp mv lr mw mx my lv mz na nb lz nc nd ne iz bi translated">åªæ˜¯æ‰¹é‡æ·»åŠ åˆ°æ–‡æ¡£ä¸­</h2><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="b3ae" class="mn mo it op b gy ot ou l ov ow">POST books/_bulk<br/>{"index":{}}<br/>{"title": "What A Manager Does", "genres" : ["management"]}<br/>{"index":{}}<br/>{"title": "Happy Learning", "overview" : "learning is fun" }</span></pre><p id="b01a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å¦ä¸€ç§æ–¹å¼æ˜¯æ‰¹é‡æ’å…¥ã€‚</p><p id="51c7" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">è¯·æ³¨æ„ä¸Šé¢çš„ä¾‹å­ï¼Œæ‚¨ä¼šæ³¨æ„åˆ°æˆ‘å¯ä»¥æ’å…¥ä¸€ä¸ªéµå¾ªå…ˆå‰å¯ç”¨å±æ€§çš„æ–‡æ¡£ï¼Œæˆ–è€…å¯ä»¥å¿½ç•¥å®ƒï¼Œæˆ–è€…å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„ã€‚</p><p id="516b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">éå¸¸çµæ´»ã€‚</p><blockquote class="pa pb pc"><p id="3f9c" class="li lj pd lk b ll lm kd ln lo lp kg lq pe ls lt lu pf lw lx ly pg ma mb mc md im bi translated">æ¸©é¦¨æç¤º:<br/> 1ã€‚æ‚¨å¯ä»¥å°†æ–‡æ¡£æ·»åŠ åˆ°ä¸å­˜åœ¨çš„ç´¢å¼•ä¸­ã€‚å°†åˆ›å»ºç´¢å¼•ã€‚<br/> 2ã€‚æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡curlæ·»åŠ æ•°æ®ï¼Œå¹¶ä»ä¸‹é¢çš„æ–‡ä»¶ä¸­æ·»åŠ æ•°æ®ï¼Œæ–‡ä»¶åˆ—è¡¨åœ¨<code class="fe ox oy oz op b">folder/booklist_file</code>ä¸­</p></blockquote><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="1221" class="mn mo it op b gy ot ou l ov ow">curl -s -H "Content-Type: application/x-ndjson" -XPOST localhost:9200/_bulk --data-binary "@folder/booklist_file"</span></pre><blockquote class="pa pb pc"><p id="ccfa" class="li lj pd lk b ll lm kd ln lo lp kg lq pe ls lt lu pf lw lx ly pg ma mb mc md im bi translated">3.æ‚¨å¯ä»¥ä½¿ç”¨é€šè¿‡ä½¿ç”¨<code class="fe ox oy oz op b">GET books/_search</code>æ·»åŠ çš„æ‰€æœ‰æ–‡ä»¶åˆ—è¡¨ï¼Œå®ƒå°†æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶ä»¥åŠæ‰€æœ‰å­—æ®µ<br/> 4ã€‚è¦æŸ¥çœ‹ç‰¹å®šçš„å­—æ®µï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ‰€ç¤ºçš„<code class="fe ox oy oz op b">_source</code></p></blockquote><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="83ca" class="mn mo it op b gy ot ou l ov ow">GET books/_search <br/>{<br/>  "_source" : ["title", "genres"]<br/>}</span></pre><h1 id="faf9" class="od mo it bd mp oe of og ms oh oi oj mv ki ok kj my kl ol km nb ko om kp ne on bi translated">æœç´¢</h1><p id="017c" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">ç°åœ¨æ˜¯Elasticsearchæœ‰è¶£çš„éƒ¨åˆ†ã€‚æ²¡æœ‰æ›´å¤šçš„SQLã€‚ç®€å•æŸ¥è¯¢æœ‰å¤šç§æ–¹å¼ï¼Œå¦‚<code class="fe ox oy oz op b">term</code>ã€<code class="fe ox oy oz op b">range</code>ã€<code class="fe ox oy oz op b">match</code>ã€<code class="fe ox oy oz op b">match_phrase</code>ã€<code class="fe ox oy oz op b">multi_match</code>ç­‰ã€‚æ¯ä¸€ä¸ªéƒ½åœ¨ä¸‹é¢è¿›ä¸€æ­¥é˜è¿°ã€‚</p><h1 id="d6ad" class="od mo it bd mp oe of og ms oh oi oj mv ki ok kj my kl ol km nb ko om kp ne on bi translated">æœ¯è¯­æŸ¥è¯¢</h1><p id="31b4" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated"><a class="ae lh" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-term-query.html" rel="noopener ugc nofollow" target="_blank">æœ¯è¯­æŸ¥è¯¢</a>ç”¨äºåœ¨æŒ‡å®šå­—æ®µä¸­æœç´¢ç²¾ç¡®çš„å•è¯</p><p id="9bb4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä¸ºäº†æ›´å®¹æ˜“ç†è§£è¿™ä¸€ç‚¹ï¼Œè®©æˆ‘ä»¬åœ¨å…¶ä¸­åŒ…å«ä¸¤ä¸ªæ–‡æ¡£(è®°ä½é¦–å…ˆè¦æœ‰ä¸€ä¸ªå¹²å‡€çš„æ–‡æ¡£é›†çš„ç´¢å¼•)</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="841b" class="mn mo it op b gy ot ou l ov ow">POST books/_bulk<br/>{"index":{}}<br/>{ "title": "Dogs", "description": "A fox jump  over the lazy dog" }<br/>{"index":{}}<br/>{ "title": "Cats", "description": "Garfield the sleepy cat" }</span></pre><p id="20d1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">è¦ä½¿ç”¨å•è¯<code class="fe ox oy oz op b">lazy</code>å¯¹<code class="fe ox oy oz op b">description</code>å­—æ®µæ‰§è¡Œ<code class="fe ox oy oz op b">term</code>æœç´¢ï¼Œåªéœ€ç¼–å†™å¦‚ä¸‹</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="cffc" class="mn mo it op b gy ot ou l ov ow">GET books/_search<br/>{<br/>  "query": {<br/>    "term": {<br/>      "description": "lazy"<br/>    }<br/>  }<br/>}</span></pre><p id="7460" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æ‚¨å°†è·å¾—å¸¦æœ‰ç»“æœçš„<code class="fe ox oy oz op b">Dogs</code>æ–‡æ¡£</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="65fb" class="mn mo it op b gy ot ou l ov ow">"A fox jump  over the lazy dog"</span></pre><h2 id="4889" class="mn mo it bd mp mq mr dn ms mt mu dp mv lr mw mx my lv mz na nb lz nc nd ne iz bi translated">åŒºåˆ†å¤§å°å†™</h2><p id="7992" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">ä½†æ˜¯å¦‚æœä½ æƒ³æœç´¢<code class="fe ox oy oz op b">Garfield</code>ï¼Œä½ ä¼šæ³¨æ„åˆ°ä¸‹é¢æ²¡æœ‰è¿”å›ä»»ä½•ç»“æœã€‚</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="4938" class="mn mo it op b gy ot ou l ov ow">GET books/_search<br/>{<br/>  "query": {<br/>    "term": {<br/>      "description": "Garfield"<br/>    }<br/>  }<br/>}</span></pre><p id="7dea" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä¸ºä»€ä¹ˆï¼Ÿå¦‚æœæˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹è¿™ä¸ªè¯æ˜¯å¦‚ä½•è¢«åˆ†æçš„ï¼Œæˆ‘ä»¬å°±èƒ½ç†è§£äº†</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="9555" class="mn mo it op b gy ot ou l ov ow">GET _analyze<br/>{<br/>  "text": "Garfield the sleepy cat"<br/>}</span></pre><p id="4dde" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä½ ä¼šæ³¨æ„åˆ°<code class="fe ox oy oz op b">Garfield</code>å·²ç»è¢«æ ‡è®°ä¸º<code class="fe ox oy oz op b">garfield</code>ã€‚ç¨åæˆ‘ä»¬ä¼šè°ˆåˆ°<em class="pd">åˆ†æ</em>ã€‚ç°åœ¨ï¼Œä¸ºäº†ä½¿å®ƒä¸åŒºåˆ†å¤§å°å†™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„(ä»…åœ¨Elasticsearch 7.10.0å’Œæ›´é«˜ç‰ˆæœ¬ä¸­å¯ç”¨)ã€‚</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="8d83" class="mn mo it op b gy ot ou l ov ow">GET books/_search<br/>{<br/>  "query": {<br/>    "term": {<br/>      "description": {<br/>        "value" : "Garfield",<br/>        "<strong class="op jd">case_insensitive</strong>": true<br/>      }<br/>    }<br/>  }<br/>}</span></pre><p id="6b9b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ç„¶åä½ ä¼šå¾—åˆ°ç»“æœ</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="ee87" class="mn mo it op b gy ot ou l ov ow">"Garfield the sleepy cat"</span></pre><h2 id="7f95" class="mn mo it bd mp mq mr dn ms mt mu dp mv lr mw mx my lv mz na nb lz nc nd ne iz bi translated">æœ¯è¯­æŸ¥è¯¢</h2><p id="7db6" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">å¦‚æœä½ å–œæ¬¢æœç´¢<code class="fe ox oy oz op b">lazy</code> <strong class="lk jd">æˆ–è€…</strong> <code class="fe ox oy oz op b">sleepy</code>ï¼Œé‚£ä¹ˆä½ å°±å¿…é¡»ä½¿ç”¨<a class="ae lh" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-terms-query.html" rel="noopener ugc nofollow" target="_blank">é¡¹æŸ¥è¯¢</a>æ¥ä»£æ›¿ã€‚æ³¨æ„<code class="fe ox oy oz op b">term<strong class="lk jd">s</strong></code> <strong class="lk jd"> </strong>ç”¨å¤æ•°<code class="fe ox oy oz op b"><strong class="lk jd">s</strong></code>ã€‚</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="9e36" class="mn mo it op b gy ot ou l ov ow">GET books/_search<br/>{<br/>  "query": {<br/>    "term<strong class="op jd">s</strong>": {<br/>      "description": ["lazy", "sleepy"]<br/>    }<br/>  }<br/>}</span></pre><p id="839d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æ‚¨å°†åŒæ—¶è·å¾—<code class="fe ox oy oz op b">Cats</code>å’Œ<code class="fe ox oy oz op b">Dogs</code>æ–‡æ¡£ã€‚</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="5f0c" class="mn mo it op b gy ot ou l ov ow">"A fox jump  over the lazy dog"<br/>"Garfield the sleepy cat"</span></pre><h1 id="8da4" class="od mo it bd mp oe of og ms oh oi oj mv ki ok kj my kl ol km nb ko om kp ne on bi translated">èŒƒå›´æŸ¥è¯¢</h1><p id="2913" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated"><a class="ae lh" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-range-query.html" rel="noopener ugc nofollow" target="_blank">èŒƒå›´æŸ¥è¯¢</a>æä¾›äº†æœç´¢å¤§äº(gt)æˆ–å°äº(lt)çš„å€¼çš„èƒ½åŠ›ã€‚</p><p id="7752" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹æ•°æ®</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="1a3a" class="mn mo it op b gy ot ou l ov ow">POST books/_bulk<br/>{"index":{}}<br/>{ "title": "Dogs", "publish": "2007-02-08" }<br/>{"index":{}}<br/>{ "title": "Cats", "publish": "2014-12-30" }<br/>{"index":{}}<br/>{ "title": "Rich", "publish": "2018-04-02" }</span></pre><p id="4553" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å¦‚æœæˆ‘ä»¬æƒ³æœç´¢2009å¹´å<strong class="lk jd">åˆ°2015å¹´å‰</strong>ä¹‹é—´å‡ºç‰ˆçš„ä¹¦ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="23db" class="mn mo it op b gy ot ou l ov ow">GET books/_search<br/>{<br/>  "query": {<br/>    "range": {<br/>      "publish": {<br/>        "gt" : "2009-12-31",<br/>        "lt": "2015-01-01"<br/>      }<br/>    }<br/>  }<br/>}</span></pre><p id="bd02" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æˆ‘ä»¬ä¼šå¾—åˆ°è¿™æœ¬ä¹¦<code class="fe ox oy oz op b">cats</code></p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="011a" class="mn mo it op b gy ot ou l ov ow">"title": "Cats", "publish": "2014-12-30"</span></pre><h1 id="3e14" class="od mo it bd mp oe of og ms oh oi oj mv ki ok kj my kl ol km nb ko om kp ne on bi translated">åŒ¹é…æŸ¥è¯¢</h1><p id="330e" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">æˆ‘ä»¬å·²ç»å­¦ä¹ äº†æœ¯è¯­æŸ¥è¯¢ï¼Œè¿™ä¼¼ä¹å¾ˆæ­£å¸¸ã€‚è¿™æ˜¯ç›¸å½“ä¸¥æ ¼çš„ï¼Œæ²¡æœ‰é‡é‡ç»™ç»“æœã€‚<a class="ae lh" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-match-query.html" rel="noopener ugc nofollow" target="_blank">åŒ¹é…æŸ¥è¯¢</a>æä¾›äº†æ›´åŠ çµæ´»çš„æ¨¡ç³Šæœç´¢è¯„åˆ†ï¼Œå¯¹æœç´¢ç»“æœçš„é‡è¦æ€§è¿›è¡Œæ’åºã€‚</p><h2 id="24bf" class="mn mo it bd mp mq mr dn ms mt mu dp mv lr mw mx my lv mz na nb lz nc nd ne iz bi translated">ä¸€è¯æœç´¢</h2><p id="23e4" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">è®©æˆ‘ä»¬åœ¨å®éªŒä¸­ä½¿ç”¨ä¸‹é¢çš„æ–‡æ¡£åˆ—è¡¨</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="142e" class="mn mo it op b gy ot ou l ov ow">POST books/_bulk<br/>{"index":{}}<br/>{ "title": "Dogs", "description": "A fox jump  over the lazy dog" }<br/>{"index":{}}<br/>{ "title": "Cats", "description": "Garfield the sleepy cat" }<br/>{"index":{}}<br/>{ "title": "Sleepy", "description": "Rest is important" }</span></pre><p id="49fa" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å¦‚æœæˆ‘ä»¬è¡¨æ¼”</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="10b8" class="mn mo it op b gy ot ou l ov ow">GET books/_search<br/>{<br/>  "query": {<br/>    "match": {<br/>      "description": {<br/>        "query": "Garfield" <br/>      }<br/>    }<br/>  }<br/>}</span></pre><p id="5c12" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å®ƒä¼šè¿”å›<code class="fe ox oy oz op b">Cats</code>ä¹¦ã€‚</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="625e" class="mn mo it op b gy ot ou l ov ow">"Garfield the sleepy cat"</span></pre><p id="75b2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">è¯·æ³¨æ„ï¼Œæœ¯è¯­æŸ¥è¯¢çš„ä¸åŒä¹‹å¤„åœ¨äº</p><ul class=""><li id="ca0d" class="ph pi it lk b ll lm lo lp lr pj lv pk lz pl md pm pn po pp bi translated">å³ä½¿æˆ‘ä»¬ä½¿ç”¨å¤§å†™<code class="fe ox oy oz op b">G</code>ï¼Œä»¤ç‰Œæ˜¯<code class="fe ox oy oz op b">garfield</code>ï¼Œå®ƒä»ç„¶ä¼šè¿”å›ç»“æœ</li><li id="9735" class="ph pi it lk b ll pq lo pr lr ps lv pt lz pu md pm pn po pp bi translated">æ³¨æ„ç»“æœæœ‰"<code class="fe ox oy oz op b">"max_score" : 1.1149852</code>ã€‚è¿™ç”¨äºå¯¹æœç´¢ç»“æœè¿›è¡Œæ’åã€‚ç¨åå°†å¯¹æ­¤è¿›è¡Œæ›´å¤šè§£é‡Šã€‚</li></ul><h2 id="4e4c" class="mn mo it bd mp mq mr dn ms mt mu dp mv lr mw mx my lv mz na nb lz nc nd ne iz bi translated">å¤šè¯æœç´¢</h2><p id="c71b" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">æœ‰æ—¶æˆ‘ä»¬æƒ³æ‰¾åˆ°å°‘æ•°å‡ ä¸ªä¸–ç•Œä¸­çš„ä»»ä½•ä¸€ä¸ª</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="f1b6" class="mn mo it op b gy ot ou l ov ow">GET books/_search<br/>{<br/>  "query": {<br/>    "match": {<br/>      "description": {<br/>        "query": "Dog Garfield",<br/>        "operator": "and"<br/>      }<br/>    }<br/>  }<br/>}</span></pre><p id="978b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">é‚£ä¹ˆç»“æœä¼šæ˜¯<code class="fe ox oy oz op b">Cats</code>å’Œ<code class="fe ox oy oz op b">Dogs</code>æœ¬ä¹¦ã€‚</p><p id="b6ff" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å¦‚æœæˆ‘ä»¬å¸Œæœ›ä¸¤è€…éƒ½å­˜åœ¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸‹é¢çš„<code class="fe ox oy oz op b">"operator": "and"</code>ã€‚</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="ac1d" class="mn mo it op b gy ot ou l ov ow">GET books/_search<br/>{<br/>  "query": {<br/>    "match": {<br/>      "description": {<br/>        "query": "Dog Garfield",<br/>        "operator": "and"<br/>      }<br/>    }<br/>  }<br/>}</span></pre><p id="9bff" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å½“ç„¶ï¼Œæˆ‘ä»¬æ‰¾ä¸åˆ°ä»»ä½•ä¸€æœ¬ä¹¦ï¼Œ<code class="fe ox oy oz op b">Garfield</code>ä¸æ˜¯<code class="fe ox oy oz op b">dog</code>ã€‚</p><h2 id="d84f" class="mn mo it bd mp mq mr dn ms mt mu dp mv lr mw mx my lv mz na nb lz nc nd ne iz bi translated">æ¨¡ç³Šæœç´¢</h2><p id="f79f" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">æœ‰æ—¶å€™æˆ‘ä»¬æœç´¢çš„æ—¶å€™å¯èƒ½ä¼šæœ‰é”™åˆ«å­—ã€‚åŒ¹é…æŸ¥è¯¢å¯ä»¥å®¹å¿ä½¿ç”¨<code class="fe ox oy oz op b">fuzziness</code></p><p id="4076" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å½“æˆ‘ä»¬å¶ç„¶é”®å…¥<code class="fe ox oy oz op b">car</code>è€Œä¸æ˜¯<code class="fe ox oy oz op b">cat</code>æ—¶ï¼Œç”¨<code class="fe ox oy oz op b">fuzziness</code>ï¼Œä»ç„¶ä¼šå¯¼è‡´<code class="fe ox oy oz op b">Cats</code>ä¹¦ã€‚</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="07d7" class="mn mo it op b gy ot ou l ov ow">GET books/_search<br/>{<br/>  "query": {<br/>    "match": {<br/>      "description": {<br/>        "query": "Garfield car",<br/>        "operator": "and",<br/>        "fuzziness": 1<br/>      }<br/>    }<br/>  }<br/>}</span></pre><p id="5233" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">é‚£ä¹ˆç»“æœå°†ä¼š</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="f9ab" class="mn mo it op b gy ot ou l ov ow">"Garfield the sleepy cat"</span></pre><p id="48e1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æ²¡æœ‰<code class="fe ox oy oz op b">fuzziness</code>ï¼Œä»€ä¹ˆéƒ½ä¸ä¼šè¿”å›ï¼Œé™¤éæˆ‘ä»¬æŠŠ<code class="fe ox oy oz op b">car</code>æ”¹æˆ<code class="fe ox oy oz op b">cat</code>ã€‚</p><h2 id="07ca" class="mn mo it bd mp mq mr dn ms mt mu dp mv lr mw mx my lv mz na nb lz nc nd ne iz bi translated">åŒ¹é…çŸ­è¯­æŸ¥è¯¢</h2><p id="b105" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">å¦‚æœæˆ‘ä»¬æƒ³è¦çŸ­è¯­è€Œä¸æ˜¯å•è¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<a class="ae lh" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-match-query-phrase.html" rel="noopener ugc nofollow" target="_blank">åŒ¹é…çŸ­è¯­æŸ¥è¯¢</a>ã€‚</p><p id="64a8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å¦‚æœæˆ‘ä»¬åƒä¸‹é¢ä¸€æ ·æœç´¢<code class="fe ox oy oz op b">lazy dog</code>ï¼Œæˆ‘ä»¬å°†å¾—åˆ°<code class="fe ox oy oz op b">Dogs</code>çš„ä¹¦ã€‚</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="6c27" class="mn mo it op b gy ot ou l ov ow">GET books/_search<br/>{<br/>  "query": {<br/>    "match_phrase": {<br/>      "description": "lazy dog"<br/>    }<br/>  }<br/>}</span></pre><p id="b5d0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ç»“æœæ˜¯</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="9156" class="mn mo it op b gy ot ou l ov ow">"A fox jump  over the lazy dog"</span></pre><p id="9151" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä½†æ˜¯å¦‚æœæˆ‘ä»¬æœç´¢<code class="fe ox oy oz op b">Garfield cat</code>ï¼Œæˆ‘ä»¬å°†ä¸ä¼šå¾—åˆ°ä»»ä½•ä¸œè¥¿ï¼Œå°½ç®¡åœ¨ä¸€ä¸ªå¥å­ä¸­æˆ‘ä»¬æœ‰<code class="fe ox oy oz op b">Garfield</code>å’Œ<code class="fe ox oy oz op b">cat</code>ï¼Œä½†æ˜¯å®ƒä»¬å¹¶ä¸éƒ½ç´§æŒ¨ç€ã€‚</p><h2 id="6271" class="mn mo it bd mp mq mr dn ms mt mu dp mv lr mw mx my lv mz na nb lz nc nd ne iz bi translated">å¤šåŒ¹é…æŸ¥è¯¢</h2><p id="d108" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">æœ‰æ—¶æˆ‘ä»¬å¸Œæœ›åœ¨å¤šä¸ªå­—æ®µä¸­æœç´¢ç›¸åŒçš„æ–‡æœ¬ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<a class="ae lh" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-multi-match-query.html" rel="noopener ugc nofollow" target="_blank">å¤šåŒ¹é…æŸ¥è¯¢</a>ã€‚</p><p id="3648" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æˆ‘ä»¬å¯ä»¥æœç´¢åŒæ—¶å­˜åœ¨äº<code class="fe ox oy oz op b">title</code>å’Œ<code class="fe ox oy oz op b">description</code>ä¸­çš„<code class="fe ox oy oz op b">Sleepy</code>å•è¯</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="0a57" class="mn mo it op b gy ot ou l ov ow">GET books/_search<br/>{<br/>  "query": {<br/>    "multi_match": {<br/>      "query": "Sleep",<br/>      "fields": ["title", "description"]<br/>    }<br/>  }<br/>}</span></pre><p id="cb90" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å®ƒå°†è¿”å›<code class="fe ox oy oz op b">Sleepy</code>å’Œ<code class="fe ox oy oz op b">Cats</code>æœ¬ä¹¦ã€‚</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="4fe2" class="mn mo it op b gy ot ou l ov ow">{ "title": "Cats", "description": "Garfield the sleepy cat" }<br/>{ "title": "Sleepy", "description": "Rest is important" }</span></pre><h1 id="0980" class="od mo it bd mp oe of og ms oh oi oj mv ki ok kj my kl ol km nb ko om kp ne on bi translated">å¾—åˆ†</h1><p id="4298" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">åŒ¹é…æŸ¥è¯¢æ¯”æœ¯è¯­æŸ¥è¯¢æ›´é«˜çº§ï¼Œå› ä¸ºå®ƒä¸ºç»“æœæä¾›ä¸€äº›è¯„åˆ†ï¼Œè¿™ä½¿å¾—èƒ½å¤Ÿåœ¨é¡¶éƒ¨è¿”å›æ›´ç›¸å…³çš„ç»“æœã€‚</p><p id="5269" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä»¥ä¸‹æ˜¯å‡ ç§è¯„åˆ†æ–¹æ³•</p><h2 id="90fa" class="mn mo it bd mp mq mr dn ms mt mu dp mv lr mw mx my lv mz na nb lz nc nd ne iz bi translated">æ£€ç´¢è¯é¢‘ç‡</h2><p id="851a" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">è¯¥æœ¯è¯­åœ¨æ–‡æœ¬ä¸­å‡ºç°çš„æ¬¡æ•°è¶Šå¤šï¼Œå¾—åˆ†è¶Šé«˜ã€‚ä¾‹å¦‚</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="fe40" class="mn mo it op b gy ot ou l ov ow">POST books/_bulk<br/>{"index":{}}<br/>{ "title": "Happy Happy Happy"}<br/>{"index":{}}<br/>{ "title": "Happy Happy"}</span></pre><p id="4470" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å½“æˆ‘ä»¬æœç´¢çš„æ—¶å€™</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="46d1" class="mn mo it op b gy ot ou l ov ow">GET books/_search<br/>{<br/>  "query": {<br/>    "match": {<br/>      "title": "Happy"<br/>    }<br/>  }<br/>}</span></pre><p id="7319" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä¹¦<code class="fe ox oy oz op b">Happy Happy Happy</code>ä¼šå¾—åˆ†æ›´é«˜ï¼Œå› ä¸ºå®ƒå‡ºç°çš„æ¬¡æ•°æ›´å¤šã€‚</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="f6f4" class="mn mo it op b gy ot ou l ov ow">{ "title": "Happy Happy Happy"}<br/>{ "title": "Happy Happy"}</span></pre><h2 id="5370" class="mn mo it bd mp mq mr dn ms mt mu dp mv lr mw mx my lv mz na nb lz nc nd ne iz bi translated"><strong class="ak">é€†æ–‡æ¡£é¢‘ç‡</strong></h2><p id="100c" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">åŒ…å«è¯¥æœ¯è¯­çš„æ–‡æ¡£è¶Šå¤šï¼Œå¾—åˆ†è¶Šä½</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="685d" class="mn mo it op b gy ot ou l ov ow">POST books/_bulk<br/>{"index":{}}<br/>{ "title": "Happy"}<br/>{"index":{}}<br/>{ "title": "Happy"}<br/>{"index":{}}<br/>{ "title": "Sad"}</span></pre><p id="d285" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å½“æˆ‘ä»¬æœç´¢çš„æ—¶å€™</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="dcbe" class="mn mo it op b gy ot ou l ov ow">GET books/_search<br/>{<br/>  "query": {<br/>    "match": {<br/>      "title": "Happy Sad"<br/>    }<br/>  }<br/>}</span></pre><p id="02d4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä¹¦<code class="fe ox oy oz op b">Sad</code>ä¼šå¾—åˆ°æ›´é«˜çš„åˆ†æ•°ï¼Œå› ä¸ºå®ƒå‡ºç°å¾—æ›´å°‘ã€‚</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="b1e6" class="mn mo it op b gy ot ou l ov ow">{ "title": "Sad"}<br/>{ "title": "Happy"}<br/>{ "title": "Happy"}</span></pre><h2 id="ce42" class="mn mo it bd mp mq mr dn ms mt mu dp mv lr mw mx my lv mz na nb lz nc nd ne iz bi translated">å­—æ®µé•¿åº¦æ ‡å‡†åŒ–</h2><p id="102c" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">æ–‡æ¡£ä¸­çš„æœ¯è¯­ç™¾åˆ†æ¯”è¶Šé«˜ï¼Œåˆ†æ•°è¶Šé«˜</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="65b7" class="mn mo it op b gy ot ou l ov ow">POST books/_bulk<br/>{"index":{}}<br/>{ "title": "A happy book"}<br/>{"index":{}}<br/>{ "title": "Happy book"}</span></pre><p id="2653" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å½“æˆ‘ä»¬æœç´¢çš„æ—¶å€™</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="710a" class="mn mo it op b gy ot ou l ov ow">GET books/_search<br/>{<br/>  "query": {<br/>    "match": {<br/>      "title": "Happy"<br/>    }<br/>  }<br/>}</span></pre><p id="8577" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä¹¦<code class="fe ox oy oz op b">Happy book</code>ä¼šå¾—åˆ†æ›´é«˜ï¼Œå› ä¸ºå®ƒ<code class="fe ox oy oz op b">Happy</code>åœ¨æ–‡æ¡£ä¸­å æ®æ›´é«˜çš„ç™¾åˆ†æ¯”ã€‚</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="0252" class="mn mo it op b gy ot ou l ov ow">{ "title": "Happy book"}<br/>{ "title": "A happy book"}</span></pre><h2 id="3305" class="mn mo it bd mp mq mr dn ms mt mu dp mv lr mw mx my lv mz na nb lz nc nd ne iz bi translated">åè°ƒ</h2><p id="b8c8" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">åœ¨æ–‡æ¡£ä¸­æ‰¾åˆ°çš„æŸ¥è¯¢æœ¯è¯­è¶Šå¤šï¼Œå¾—åˆ†è¶Šé«˜ã€‚</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="af66" class="mn mo it op b gy ot ou l ov ow">POST books/_bulk<br/>{"index":{}}<br/>{ "title": "Happy happy"}<br/>{"index":{}}<br/>{ "title": "Sad sad"}<br/>{"index":{}}<br/>{ "title": "Happy sad"}</span></pre><p id="c53f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å½“æˆ‘ä»¬æœç´¢çš„æ—¶å€™</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="0362" class="mn mo it op b gy ot ou l ov ow">GET books/_search<br/>{<br/>  "query": {<br/>    "match": {<br/>      "title": "Sad Happy"<br/>    }<br/>  }<br/>}</span></pre><p id="a06e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å›¾ä¹¦<code class="fe ox oy oz op b">Happy Sad</code>å°†è·å¾—æœ€é«˜åˆ†ï¼Œå› ä¸ºå®ƒæ‹¥æœ‰æœ€å¤šçš„æœç´¢è¯</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="d6e6" class="mn mo it op b gy ot ou l ov ow">{ "title": "Happy sad"}<br/>{ "title": "Happy happy"}<br/>{ "title": "Sad sad"}</span></pre><p id="61d4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä½ å¯ä»¥åœ¨ä¸‹é¢çš„æ–‡ç« ä¸­è·å¾—æ›´å¤šçš„å¾—åˆ†ç»†èŠ‚ã€‚</p><div class="nk nl gp gr nm nn"><a href="https://www.compose.com/articles/how-scoring-works-in-elasticsearch/" rel="noopener  ugc nofollow" target="_blank"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd jd gy z fp ns fr fs nt fu fw jc bi translated">è¯„åˆ†åœ¨å¼¹æ€§æœç´¢ä¸­çš„å·¥ä½œåŸç†</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹çœ‹ç›¸å…³æ€§è¯„åˆ†æ˜¯å¦‚ä½•åœ¨å¼¹æ€§æœç´¢ï¼Œè§¦åŠä¿¡æ¯æ£€ç´¢â€¦</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">www.compose.com</p></div></div><div class="nw l"><div class="pv l ny nz oa nw ob lb nn"/></div></div></a></div><h1 id="c942" class="od mo it bd mp oe of og ms oh oi oj mv ki ok kj my kl ol km nb ko om kp ne on bi translated">å¤åˆæŸ¥è¯¢</h1><p id="91f9" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">æœ‰æ—¶æˆ‘ä»¬å¸Œæœ›æœç´¢å¤šä¸ªæ ‡å‡†ï¼Œæœ‰æ—¶æˆ‘ä»¬å¸Œæœ›æŸäº›ç»“æœä¼˜å…ˆäºå…¶ä»–ç»“æœã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code class="fe ox oy oz op b">bool</code>æŸ¥è¯¢æ¥å¸®åŠ©æˆ‘ä»¬çš„å·¥ä½œã€‚</p><p id="8558" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä¸ºäº†å®éªŒï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„æ–‡æ¡£</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="9455" class="mn mo it op b gy ot ou l ov ow">POST books/_bulk<br/>{"index":{}}<br/>{ "title": "Dogs", "description": "A fox jump over the lazy dog" }<br/>{"index":{}}<br/>{ "title": "Cats", "description": "Garfield the sleepy cat" }<br/>{"index":{}}<br/>{ "title": "Sleepy", "description": "Rest is important" }<br/>{"index":{}}<br/>{ "title": "Rich", "description": "Money is never enough" }<br/>{"index":{}}<br/>{ "title": "Pets", "description": "Dog and cat are friends" }<br/>{"index":{}}<br/>{ "title": "Person", "description": "Are you really a dog person?" }</span></pre><h2 id="c29c" class="mn mo it bd mp mq mr dn ms mt mu dp mv lr mw mx my lv mz na nb lz nc nd ne iz bi translated">åªæ˜¯æ™®é€šçš„æœç´¢</h2><p id="5971" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">ä½¿ç”¨boolï¼Œå’Œæ­£å¸¸æœç´¢ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code class="fe ox oy oz op b">filter</code></p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="e60c" class="mn mo it op b gy ot ou l ov ow">GET books/_search<br/>{<br/>  "query": {<br/>    "<strong class="op jd">bool</strong>": {<br/>      "<strong class="op jd">filter</strong>": {<br/>        "match": {<br/>          "description": {<br/>            "query": "dog"<br/>          }<br/>        }<br/>      }      <br/>    }<br/>  }<br/>}</span></pre><p id="324a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ç»“æœæ˜¯å‘ç°<code class="fe ox oy oz op b">dog</code>çš„æ­£å¸¸ç»“æœ</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="31b8" class="mn mo it op b gy ot ou l ov ow">"A fox jump over the lazy dog"<br/>"Dog and cat are friends"<br/>"Are you really a dog person?"</span></pre><p id="dafc" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å¦ä¸€ä¸ªéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨<code class="fe ox oy oz op b">filter</code>æ—¶ï¼Œ<code class="fe ox oy oz op b">match</code>ä¸ä¼šäº§ç”Ÿä»»ä½•åˆ†æ•°ã€‚</p><h2 id="06ae" class="mn mo it bd mp mq mr dn ms mt mu dp mv lr mw mx my lv mz na nb lz nc nd ne iz bi translated">åªæ˜¯ä¸€ä¸ªæ™®é€šçš„åå‘æœç´¢</h2><p id="8ac2" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">ä¸ºäº†åè½¬<code class="fe ox oy oz op b">filter</code>ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code class="fe ox oy oz op b">must_not</code></p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="3931" class="mn mo it op b gy ot ou l ov ow">GET books/_search<br/>{<br/>  "query": {<br/>    "<strong class="op jd">bool</strong>": {<br/>      "<strong class="op jd">must_not</strong>": {<br/>        "match": {<br/>          "description": {<br/>            "query": "dog"<br/>          }<br/>        }<br/>      }      <br/>    }<br/>  }<br/>}</span></pre><p id="d7bc" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æˆ‘ä»¬å°†å¾—åˆ°æ²¡æœ‰<code class="fe ox oy oz op b">dog</code>çš„æè¿°</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="601e" class="mn mo it op b gy ot ou l ov ow">"Garfield the sleepy cat"<br/>"Rest is important"<br/>"Money is never enough"</span></pre><p id="3889" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">è¯·æ³¨æ„ï¼Œè¿™é‡Œä¹Ÿæ²¡æœ‰åˆ†æ•°ã€‚</p><h2 id="ab9e" class="mn mo it bd mp mq mr dn ms mt mu dp mv lr mw mx my lv mz na nb lz nc nd ne iz bi translated">å¸¦æœ‰è¯„åˆ†æ’åºçš„æ™®é€šæœç´¢</h2><p id="232f" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">ä¸ºäº†ä¿æŒ<code class="fe ox oy oz op b">match</code>çš„åˆ†æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code class="fe ox oy oz op b">must</code>ã€‚</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="3741" class="mn mo it op b gy ot ou l ov ow">GET books/_search<br/>{<br/>  "query": {<br/>    "<strong class="op jd">bool</strong>": {<br/>      "<strong class="op jd">must</strong>": {<br/>        "match": {<br/>          "description": {<br/>            "query": "dog"<br/>          }<br/>        }<br/>      }      <br/>    }<br/>  }<br/>}</span></pre><p id="ba78" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">è¯·æ³¨æ„ï¼Œæ ¹æ®è·å¾—çš„åˆ†æ•°ï¼Œç»“æœçš„é¡ºåºä¸åŒã€‚</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="00c3" class="mn mo it op b gy ot ou l ov ow">"Dog and cat are friends"<br/>"Are you really a dog person?"<br/>"A fox jump over the lazy dog"</span></pre><p id="27a1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">è¯·æ³¨æ„ï¼Œè¾ƒçŸ­çš„å¥å­å¾—åˆ†è¾ƒé«˜ï¼Œå› æ­¤æ’åºè¾ƒé«˜ã€‚</p><blockquote class="pa pb pc"><p id="864f" class="li lj pd lk b ll lm kd ln lo lp kg lq pe ls lt lu pf lw lx ly pg ma mb mc md im bi translated">æç¤º:æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œä½¿ç”¨<code class="fe ox oy oz op b">should</code>ã€‚ç„¶è€Œ<code class="fe ox oy oz op b">should</code>ä¸<code class="fe ox oy oz op b">must</code>ã€<code class="fe ox oy oz op b">filter</code>æˆ–<code class="fe ox oy oz op b">must_not</code>ç»“åˆä½¿ç”¨æ—¶ä¼šæœ‰æ‰€ä¸åŒã€‚</p></blockquote><h2 id="3836" class="mn mo it bd mp mq mr dn ms mt mu dp mv lr mw mx my lv mz na nb lz nc nd ne iz bi translated">å…·æœ‰ä¸åŒé¡ºåºé¡¹çš„è¿‡æ»¤æœç´¢</h2><p id="fa33" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">å‡è®¾æ‚¨å–œæ¬¢æœç´¢æ‰€æœ‰ä¼˜å…ˆäº<code class="fe ox oy oz op b">person</code>çš„<code class="fe ox oy oz op b">dog</code>ã€‚</p><p id="9377" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å¦‚æœä¸åœ¨ä¹<code class="fe ox oy oz op b">dog</code>é¡ºåºï¼Œå°±ç”¨<code class="fe ox oy oz op b">filter</code>å’Œ<code class="fe ox oy oz op b">should</code>å°±å¥½ã€‚</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="d3b3" class="mn mo it op b gy ot ou l ov ow">GET books/_search<br/>{<br/>  "query": {<br/>    "<strong class="op jd">bool</strong>": {<br/>      "<strong class="op jd">filter</strong>": {<br/>        "match": {<br/>          "description": {<br/>            "query": "dog"<br/>          }<br/>        }<br/>      },<br/>      "<strong class="op jd">should</strong>": {<br/>        "match": {<br/>          "description": {<br/>            "query": "person"<br/>          }<br/>        }<br/>      }<br/>    }<br/>  }<br/>}</span></pre><p id="5c75" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ç„¶åç»“æœæ˜¯ï¼Œå…¶ä¸­å¸¦æœ‰<code class="fe ox oy oz op b">person</code>çš„<code class="fe ox oy oz op b">dog</code>æ˜¯æœ€ä¸Šé¢çš„ç»“æœï¼Œç„¶åæ˜¯ä»»ä½•å¸¦æœ‰<code class="fe ox oy oz op b">dog</code>çš„ç»“æœã€‚</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="bd75" class="mn mo it op b gy ot ou l ov ow">"Are you really a dog person?"<br/>"A fox jump over the lazy dog"<br/>"Dog and cat are friends"</span></pre><p id="f783" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å¦‚æœä½ åœ¨ä¹<code class="fe ox oy oz op b">dog</code>é¡ºåºï¼Œå°±ç”¨<code class="fe ox oy oz op b">filter</code>å’Œ<code class="fe ox oy oz op b">must</code>å°±å¥½äº†ã€‚</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="9dd9" class="mn mo it op b gy ot ou l ov ow">GET books/_search<br/>{<br/>  "query": {<br/>    "<strong class="op jd">bool</strong>": {<br/>      "<strong class="op jd">must</strong>": {<br/>        "match": {<br/>          "description": {<br/>            "query": "dog"<br/>          }<br/>        }<br/>      },<br/>      "<strong class="op jd">should</strong>": {<br/>        "match": {<br/>          "description": {<br/>            "query": "person"<br/>          }<br/>        }<br/>      }<br/>    }<br/>  }<br/>}</span></pre><p id="a58f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">é‚£ä¹ˆç»“æœæ˜¯ï¼Œå…¶ä¸­å¸¦æœ‰<code class="fe ox oy oz op b">person</code>çš„<code class="fe ox oy oz op b">dog</code>æ˜¯æœ€ä¸Šé¢çš„ç»“æœï¼Œç„¶åæ˜¯æè¿°ä¸­æ›´çŸ­çš„<code class="fe ox oy oz op b">dog</code>å¥å­ã€‚</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="3a42" class="mn mo it op b gy ot ou l ov ow">"Are you really a dog person?"<br/>"Dog and cat are friends"<br/>"A fox jump over the lazy dog"</span></pre><h1 id="de8a" class="od mo it bd mp oe of og ms oh oi oj mv ki ok kj my kl ol km nb ko om kp ne on bi translated">åˆ†æä»ª</h1><p id="6e24" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬ä¸€ç›´åœ¨è°ˆè®ºçš„æœç´¢æ˜¯åŸºäºé»˜è®¤çš„æ ‡å‡†æ–‡æœ¬ä»¤ç‰Œåˆ†æå™¨ã€‚</p><h2 id="0c3c" class="mn mo it bd mp mq mr dn ms mt mu dp mv lr mw mx my lv mz na nb lz nc nd ne iz bi translated">è®¾ç½®åˆ†æå™¨</h2><p id="0b2d" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">è¦æ›´æ”¹åˆ†æå™¨ï¼Œå¯ä»¥åœ¨åˆ›å»ºç´¢å¼•æ—¶æ‰‹åŠ¨å®šä¹‰å­—æ®µçš„æ˜ å°„ã€‚ä¸‹é¢æ˜¯è®¾ç½®ä¸€ä¸ª<code class="fe ox oy oz op b">sentence</code>å­—æ®µ<code class="fe ox oy oz op b">english</code>ä¸º<code class="fe ox oy oz op b">analyzer</code></p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="1168" class="mn mo it op b gy ot ou l ov ow">PUT test_analyzer<br/>{<br/>  "mappings": {<br/>    "properties": {<br/>      "sentence": {<br/>        "type": "text",<br/>        "analyzer": "english"<br/>      }<br/>    }<br/>  }<br/>}</span></pre><h2 id="769d" class="mn mo it bd mp mq mr dn ms mt mu dp mv lr mw mx my lv mz na nb lz nc nd ne iz bi translated">åˆ†æä»ªç±»å‹</h2><p id="de83" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">è¿˜æœ‰æ›´å¤šå¦‚ä¸­æ‰€åˆ—</p><div class="nk nl gp gr nm nn"><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-analyzers.html" rel="noopener  ugc nofollow" target="_blank"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd jd gy z fp ns fr fs nt fu fw jc bi translated">å†…ç½®åˆ†æå™¨å‚è€ƒ|å¼¹æ€§æœç´¢å‚è€ƒ[7.11] |å¼¹æ€§</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">Elasticsearché™„å¸¦äº†å¹¿æ³›çš„å†…ç½®åˆ†æå™¨ï¼Œå¯ä»¥ç”¨äºä»»ä½•ç´¢å¼•ï¼Œè€Œæ— éœ€è¿›ä¸€æ­¥â€¦</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">www.elastic.co</p></div></div><div class="nw l"><div class="pw l ny nz oa nw ob lb nn"/></div></div></a></div><p id="6a6d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä¸‹é¢æ˜¯å‡ ä¸ªä¾‹å­</p><p id="c93a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">æ ‡å‡†</strong></p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="6ec7" class="mn mo it op b gy ot ou l ov ow">GET /_analyze <br/>{<br/>  "analyzer": "standard",<br/>  "text": "The mafia is money-laundering?"<br/>}</span></pre><p id="70cd" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä»£å¸æ˜¯<code class="fe ox oy oz op b">the</code>ã€<code class="fe ox oy oz op b">mafia</code>ã€<code class="fe ox oy oz op b">is</code>ã€<code class="fe ox oy oz op b">money</code>å’Œ<code class="fe ox oy oz op b">laundering</code></p><p id="fe0d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æŸ¥è¯¢æœç´¢æ—¶ä½¿ç”¨</p><ul class=""><li id="84fc" class="ph pi it lk b ll lm lo lp lr pj lv pk lz pl md pm pn po pp bi translated">åŒ¹é…çŸ­è¯­<code class="fe ox oy oz op b">"Mafia was money-laundering"</code>ä¸è¿”å›ä»»ä½•å†…å®¹</li><li id="9796" class="ph pi it lk b ll pq lo pr lr ps lv pt lz pu md pm pn po pp bi translated">åŒ¹é…<code class="fe ox oy oz op b">is</code>è¿”å›<code class="fe ox oy oz op b">"The mafia is money-laundering?"</code></li><li id="1302" class="ph pi it lk b ll pq lo pr lr ps lv pt lz pu md pm pn po pp bi translated">åŒ¹é…<code class="fe ox oy oz op b">"launder"</code>ä¸è¿”å›ä»»ä½•å†…å®¹</li><li id="36d5" class="ph pi it lk b ll pq lo pr lr ps lv pt lz pu md pm pn po pp bi translated">åŒ¹é…<code class="fe ox oy oz op b">"money-laundering"</code>è¿”å›<code class="fe ox oy oz op b">"The mafia is money-laundering?"</code></li><li id="4c43" class="ph pi it lk b ll pq lo pr lr ps lv pt lz pu md pm pn po pp bi translated">åŒ¹é…<code class="fe ox oy oz op b">"money-laundering?"</code>è¿”å›<code class="fe ox oy oz op b">"The mafia is money-laundering?"</code></li></ul><p id="7e1b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">ç©ºç™½</strong></p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="0b4a" class="mn mo it op b gy ot ou l ov ow">GET /_analyze <br/>{<br/>  "analyzer": "whitespace",<br/>  "text": "The mafia is money-laundering?"<br/>}</span></pre><p id="e586" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä»£å¸æ˜¯<code class="fe ox oy oz op b">The</code>ã€<code class="fe ox oy oz op b">mafia</code>ã€<code class="fe ox oy oz op b">is</code>å’Œ<code class="fe ox oy oz op b">money-laundering?</code></p><p id="c20e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æŸ¥è¯¢æœç´¢æ—¶ä½¿ç”¨</p><ul class=""><li id="6f68" class="ph pi it lk b ll lm lo lp lr pj lv pk lz pl md pm pn po pp bi translated">åŒ¹é…çŸ­è¯­<code class="fe ox oy oz op b">"Mafia was money-laundering"</code>ä¸è¿”å›ä»»ä½•å†…å®¹</li><li id="3d94" class="ph pi it lk b ll pq lo pr lr ps lv pt lz pu md pm pn po pp bi translated">åŒ¹é…<code class="fe ox oy oz op b">is</code>è¿”å›<code class="fe ox oy oz op b">"The mafia is money-laundering?"</code></li><li id="512e" class="ph pi it lk b ll pq lo pr lr ps lv pt lz pu md pm pn po pp bi translated">åŒ¹é…<code class="fe ox oy oz op b">"launder"</code>ä¸è¿”å›ä»»ä½•å†…å®¹</li><li id="b110" class="ph pi it lk b ll pq lo pr lr ps lv pt lz pu md pm pn po pp bi translated">åŒ¹é…<code class="fe ox oy oz op b">"money-laundering"</code>ä¸è¿”å›ä»»ä½•å†…å®¹</li><li id="1f63" class="ph pi it lk b ll pq lo pr lr ps lv pt lz pu md pm pn po pp bi translated">åŒ¹é…<code class="fe ox oy oz op b">"money-laundering?"</code>è¿”å›<code class="fe ox oy oz op b">"The mafia is money-laundering?"</code></li></ul><p id="eef1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">è‹±æ–‡</strong></p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="6ee1" class="mn mo it op b gy ot ou l ov ow">GET /_analyze <br/>{<br/>  "analyzer": "english",<br/>  "text": "The mafia is money-laundering?"<br/>}</span></pre><p id="4451" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä»¤ç‰Œæ˜¯<code class="fe ox oy oz op b">mafia</code>ã€<code class="fe ox oy oz op b">monei</code>å’Œ<code class="fe ox oy oz op b">launder</code></p><p id="e99a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æŸ¥è¯¢æœç´¢æ—¶ä½¿ç”¨</p><ul class=""><li id="c647" class="ph pi it lk b ll lm lo lp lr pj lv pk lz pl md pm pn po pp bi translated">åŒ¹é…çŸ­è¯­<code class="fe ox oy oz op b">"Mafia was money-laundering"</code>è¿”å›<code class="fe ox oy oz op b">"The mafia is money-laundering?"</code></li><li id="7269" class="ph pi it lk b ll pq lo pr lr ps lv pt lz pu md pm pn po pp bi translated">æ¯”èµ›<code class="fe ox oy oz op b">is</code>å›æŠ¥<code class="fe ox oy oz op b">nothing</code></li><li id="d1c1" class="ph pi it lk b ll pq lo pr lr ps lv pt lz pu md pm pn po pp bi translated">åŒ¹é…<code class="fe ox oy oz op b">"launder"</code>è¿”å›<code class="fe ox oy oz op b">"The mafia is money-laundering?"</code></li><li id="6884" class="ph pi it lk b ll pq lo pr lr ps lv pt lz pu md pm pn po pp bi translated">åŒ¹é…<code class="fe ox oy oz op b">"money-laundering"</code>è¿”å›<code class="fe ox oy oz op b">"The mafia is money-laundering?"</code></li><li id="f65c" class="ph pi it lk b ll pq lo pr lr ps lv pt lz pu md pm pn po pp bi translated">åŒ¹é…<code class="fe ox oy oz op b">"money-laundering?"</code>è¿”å›<code class="fe ox oy oz op b">"The mafia is money-laundering?"</code></li></ul><h2 id="4c7e" class="mn mo it bd mp mq mr dn ms mt mu dp mv lr mw mx my lv mz na nb lz nc nd ne iz bi translated">å¦‚ä½•é‡ç½®åˆ†æ</h2><p id="9ad6" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">å‡è®¾analyzeræ˜¯åœ¨åˆ›å»ºç´¢å¼•æ˜ å°„çš„å¼€å§‹æ—¶è®¾ç½®çš„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ–‡æ¡£æ´»åŠ¨æ—¶é‡ç½®å®ƒå—ï¼Ÿ</p><p id="2d98" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æˆ‘å‘ç°è¿™ç§æœ‰è¶£çš„æ–¹å¼å°±åœ¨è¿™é‡Œ</p><div class="nk nl gp gr nm nn"><a href="https://dba.stackexchange.com/questions/194659/change-analyzer-for-an-elasticsearch-index" rel="noopener  ugc nofollow" target="_blank"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd jd gy z fp ns fr fs nt fu fw jc bi translated">å¼¹æ€§æœç´¢æŒ‡æ•°çš„å˜åŒ–åˆ†æå™¨ï¼Ÿ</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">æˆ‘æƒ³ä¸ºElasticSearchä¸­çš„ç°æœ‰ç´¢å¼•æ›´æ”¹åˆ†æå™¨ï¼Œä½†æˆ‘æä¸æ¸…è¯­æ³•(æˆ‘ä¹Ÿä¸æ˜¯â€¦</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">dba.stackexchange.com</p></div></div><div class="nw l"><div class="px l ny nz oa nw ob lb nn"/></div></div></a></div><p id="95bb" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">è¿™æ˜¯ä¸€ç§å˜é€šæ–¹æ³•ï¼Œè€Œä¸æ˜¯å®é™…çš„æ–¹æ³•ã€‚</p><p id="8027" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå¦‚ä¸‹æ‰€ç¤ºçš„ç©ºç™½åˆ†æå™¨</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="b3ac" class="mn mo it op b gy ot ou l ov ow">PUT test_analyzer<br/>{<br/>  "mappings": {<br/>    "properties": {<br/>      "sentence": {<br/>        "type": "text",<br/>        "analyzer": "whitespace"<br/>      }<br/>    }<br/>  }<br/>}</span><span id="99ed" class="mn mo it op b gy py ou l ov ow">PUT test_analyzer/_bulk<br/>{"index":{}}<br/>{ "sentence": "The mafia is money-laundering?"}</span></pre><p id="c7d7" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å½“æˆ‘ä»¬ä½¿ç”¨<code class="fe ox oy oz op b">match_phrase</code>åˆ†æä»ªæ—¶ï¼Œæˆ‘ä»¬æ‰¾ä¸åˆ°ä»»ä½•ç»“æœã€‚</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="8c51" class="mn mo it op b gy ot ou l ov ow">GET test_analyzer/_search<br/>{<br/>  "query": {<br/>    "match_phrase": {<br/>      "sentence": "Mafia was money-laundering"<br/>    }<br/>  }<br/>}</span></pre><p id="f7aa" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">è¦è¿›è¡Œæ›´æ”¹ï¼Œé¦–å…ˆï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°çš„æ˜ å°„</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="eeeb" class="mn mo it op b gy ot ou l ov ow">PUT test_analyzer_new<br/>{<br/>  "mappings": {<br/>    "properties": {<br/>      "sentence": {<br/>        "type": "text",<br/>        "analyzer": "endlish"<br/>      }<br/>    }<br/>  }  <br/>}</span></pre><p id="a282" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ç„¶åæˆ‘ä»¬å¯ä»¥é‡æ–°ç´¢å¼•(å¤åˆ¶)ä»<code class="fe ox oy oz op b">test_analyzer</code>åˆ°<code class="fe ox oy oz op b">test_analyzer_new</code>çš„æ–‡æ¡£</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="360b" class="mn mo it op b gy ot ou l ov ow">POST /_reindex<br/>{<br/>  "source" : {<br/>    "index" : "test_analyzer"<br/>  },<br/>  "dest" : {<br/>    "index" : "test_analyzer_new",<br/>    "version_type" : "external"<br/>  }<br/>}</span></pre><p id="86f2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥å°†<code class="fe ox oy oz op b">test_analyzer_new</code>åˆ«åä¸º<code class="fe ox oy oz op b">test_analyzer</code>ï¼Œç„¶åå»æ‰å®é™…çš„<code class="fe ox oy oz op b">test_analyzer</code>ã€‚</p><pre class="ks kt ku kv gt oo op oq or aw os bi"><span id="3bf5" class="mn mo it op b gy ot ou l ov ow">POST /_aliases<br/>{<br/>  "actions" : [<br/>    {<br/>      "add" : {<br/>       "index" : "test_analyzer_new",<br/>       "alias" : "test_analyzer"<br/>      }<br/>    },<br/>    {<br/>      "remove_index" : {<br/>        "index": "test_analyzer"<br/>      }<br/>    }<br/>  ]<br/>}</span></pre><p id="efa7" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å¦‚æ‚¨æ‰€è§ï¼Œå®ƒæ˜¯ä¸€ä¸ª<code class="fe ox oy oz op b">alias</code>ï¼Œè€Œä¸å†æ˜¯å®é™…çš„<code class="fe ox oy oz op b">test_analyzer</code>ã€‚æ‰€ä»¥å¦‚æœä½ æƒ³å†æ¬¡æ”¹å˜<code class="fe ox oy oz op b">analyzer</code>ï¼Œæˆ‘ä»¬ä¸èƒ½é‡å¤è¿™ä¸ªæ­¥éª¤ã€‚ä¹Ÿè®¸è¦åšä¸€ä¸ªä¸åŒçš„åˆ«åã€‚å°è¯•æ„‰å¿«ã€‚</p></div><div class="ab cl pz qa hx qb" role="separator"><span class="qc bw bk qd qe qf"/><span class="qc bw bk qd qe qf"/><span class="qc bw bk qd qe"/></div><div class="im in io ip iq"><p id="5015" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">è¿™æ˜¯å¯¹ElasticsearchåŠŸèƒ½çš„ç®€å•ä»‹ç»ã€‚å¸Œæœ›è¿™èƒ½ä¸ºè¿›ä¸€æ­¥å­¦ä¹ æä¾›ä¸€ä¸ªè‰¯å¥½çš„åˆæ­¥æ¦‚è¿°ã€‚</p></div></div>    
</body>
</html>