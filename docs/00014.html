<html>
<head>
<title>How I Ditched Expo for Pure React Native</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我是如何为了纯粹的本土反应而放弃世博会的</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-i-ditched-expo-for-pure-react-native-fc0375361307?source=collection_archive---------1-----------------------#2017-09-22">https://levelup.gitconnected.com/how-i-ditched-expo-for-pure-react-native-fc0375361307?source=collection_archive---------1-----------------------#2017-09-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="96a3" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">我最近的两篇文章都是关于赞扬Expo以及它如何让想要成为移动开发者的人的生活变得更容易。随着时间的推移，硬币的另一面会显现出来。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/fb321f097359fbefbd40004d7af53405.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xyuuNsgU-fZlGiRy2R6FaA.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">莎拉·多维勒在<a class="ae kv" href="https://unsplash.com/search/photos/minimal?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="1511" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">TL；纯反应原生博士毕竟没那么可怕。如果你的应用需求超过Expo所能提供的，不要害怕用plain React Native完全取代它。</strong></p><p id="bc39" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当你开始使用移动应用程序，而又不确定该做什么的时候，Expo真的很棒。第一眼看到pure React Native时，你会觉得势不可挡，需要安装和学习所有工具。Expo提供了一种快速的应用构建体验，没有那些令人生畏的障碍。</p><div class="ls lt gp gr lu lv"><a rel="noopener  ugc nofollow" target="_blank" href="/react-native-with-expo-is-a-joyride-671d706b7a19"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">用Expo构建本地应用的乐趣</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">为需要XCode和Android Studio在React原生应用上工作而烦恼？希望只需一个按钮就能分享你的…</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="me l"><div class="mf l mg mh mi me mj kp lv"/></div></div></a></div><p id="b998" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不过，不要误解我。很长一段时间以来，我都坚信世博会能帮助我顺利抵达终点。我仍然相信，对许多人来说，它可以做得很好。</p><p id="0390" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，我发现Expo API目前缺少后台地理定位特性(而且可能会有一段时间<a class="ae kv" href="https://expo.canny.io/feature-requests/p/background-location-tracking" rel="noopener ugc nofollow" target="_blank"/>)。因为这对我们的应用程序至关重要，所以我有点害怕，开始考虑该怎么办。</p><div class="ls lt gp gr lu lv"><a rel="noopener  ugc nofollow" target="_blank" href="/compile-react-native-with-expokit-easily-46e9e94abb97"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">使用微软应用中心编译React原生应用</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">让我向您展示如何使用微软应用中心轻松构建React原生应用。你基本上可以忘记…</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="me l"><div class="mk l mg mh mi me mj kp lv"/></div></div></a></div><h1 id="5278" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">一场失败的战斗并不意味着战争的结束</h1><p id="a32f" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">正如您在上面引用的文章末尾所看到的，向ExpoKit分离的应用程序添加自定义本机代码并不容易。我们最终成功地添加了一个定制的后台地理定位模块，但这还远远没有结束。</p><p id="9438" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后又意识到:通过分离，我们失去了世博会推送通知。老实说，我不确定为什么对分离的应用程序支持这个会是一个问题。最后，它是关于从服务器获得一个令牌，手机使用这个令牌来识别通知发送到哪里。</p><p id="3941" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，这是一场我们输掉的战斗。试图将OneSignal添加到iOS或Android中，结果却出现了一系列我们无法克服的错误。我们可能已经尝试了一些其他的推送通知解决方案，但是在这一点上，我们确信ExpoKit是这里的罪魁祸首。</p><blockquote class="ni nj nk"><p id="848d" class="kw kx nl ky b kz la jr lb lc ld ju le nm lg lh li nn lk ll lm no lo lp lq lr ij bi translated"><strong class="ky ir">放弃世博会，你将失去:</strong></p><p id="9f1b" class="kw kx nl ky b kz la jr lb lc ld ju le nm lg lh li nn lk ll lm no lo lp lq lr ij bi translated">*拥有隧道挖掘能力的XDE世博会。<br/> *一键轻松发布JavaScript。<br/>* Expo服务器上本地应用的独立版本。<br/>* Expo SDK免费提供的资产处理、常量和其他API。</p></blockquote><p id="5659" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这取决于你来考虑是否值得为了获得对你的应用程序的更多控制而失去这些。有一个无关紧要的好处:你的应用会更小(以字节为单位),因为你不会包含整个SDK，你只是使用了其中的一部分。</p><h1 id="6aad" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">从头开始(<em class="np">不完全是</em>)</h1><p id="38da" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">我已经决定最终安装Android Studio(很长一段时间以来我一直试图避免使用它)以及React原生文档中提到的其他依赖项。</p><p id="40f8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">与Expo相比，创建一个新的应用程序并在手机上运行是一种非常好的体验。你看，我一直有点担心，对于纯React原生开发，我会一直需要Android Studio，运行编译将需要几分钟时间和大量的咖啡。结果是完全不同的:</p><p id="1439" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">编译完应用程序(调试版本)后，你可以关闭并完全忘记Android Studio。该应用程序安装在你的手机上，JavaScript代码由Expo使用的同一个打包程序提供。</p><p id="b556" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我必须说，Expo帮助我理解了整个React Native方法的所有这些内部工作，JavaScript是在它旁边运行的，而不是在它里面。最后，一旦您在Expo中设置了所需的原生模块，开发流程与Expo并没有太大的不同。</p><p id="e805" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">尽管如此，在几个小时内，我设法添加了所有必要的原生模块，比包含ExpoKit时遇到的障碍更少。一切都在按预期运行。</p><p id="27de" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一个信号让我大吃一惊。我不需要添加任何JS代码，在手机上启动一个应用程序后，我就可以立即从他们的仪表板上发送消息。很管用。</p><p id="32c2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">iOS的设置仍然让我们很不爽。这很有趣，考虑到苹果产品有多贵，然而这对开发者来说是一种噩梦般的经历。我猜它真的只是为了外观，而不是功能。</p><p id="f840" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">好的一面是，我们不需要扔掉应用程序的JavaScript部分。我们只需要用我们的定制模块替换Expo模块，应用程序的其余部分就可以正常工作了。</p><h1 id="e3ef" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">结论</h1><p id="05fe" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">Expo dev团队在那里做了很多好东西，他们都是免费的，所以我肯定要感谢他们为这个世界提供了一个更顺畅的入口。如果他们设法解决了自定义本机代码的问题，它可能会再次成为我的首选平台。</p><p id="3cda" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们仍然需要探索CodePush或类似的应用程序分发方法，但在这一点上，我们对解决方案感到满意。我们有自己的本地应用，包括后台地理定位、推送通知(通过OneSignal)以及Expo免费提供的其他东西。</p></div></div>    
</body>
</html>