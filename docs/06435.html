<html>
<head>
<title>Angular 11 is out! A quick trip to new things in it</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Angular 11出来了！快速了解it中的新内容</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/angular-11-is-out-a-quick-trip-to-new-things-in-it-fee274dc37c7?source=collection_archive---------9-----------------------#2020-11-24">https://levelup.gitconnected.com/angular-11-is-out-a-quick-trip-to-new-things-in-it-fee274dc37c7?source=collection_archive---------9-----------------------#2020-11-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="43a3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">关于Angular 11你需要知道什么</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/644fbc39e19e1dcecb4405c8d49d7219.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5gdp0olsKYfY_5oVQXcsCQ.png"/></div></div></figure><p id="685c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">本文旨在让您快速全面地了解Angular 11中的新功能。因此，就你需要知道的重要信息而言，这次旅行将是短暂而丰富的。我们将发现以下新内容:</p><ul class=""><li id="8363" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated"><strong class="kw iu">组件世界</strong></li><li id="91d8" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated"><strong class="kw iu">模块和编译的世界</strong></li><li id="32b5" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated"><strong class="kw iu"> CLI的世界</strong></li><li id="0dfd" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated"><strong class="kw iu">已弃用的功能和重大变更</strong></li></ul></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="9aa4" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">组件的世界</h1><ul class=""><li id="da93" class="lq lr it kw b kx nd la ne ld nf lh ng ll nh lp lv lw lx ly bi translated">调度自定义事件，不能像change和input一样模拟:<code class="fe ni nj nk nl b">dispatchEvent</code>方法测试此类事件。</li><li id="b92e" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">通常，右键菜单是打开的，有了Angular 11，<code class="fe ni nj nk nl b">TestElement</code>现在可以调度<code class="fe ni nj nk nl b">rightClick</code>事件。</li><li id="8c1a" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated"><code class="fe ni nj nk nl b">manualChangeDetection</code>添加API，手动禁用自动变更检测。</li><li id="e59d" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated"><code class="fe ni nj nk nl b">selectOptions</code> API可用于选择本地select中的选项。</li></ul></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="18b3" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">模块和编译的世界</h1><h2 id="cac6" class="nm mm it bd mn nn no dn mr np nq dp mv ld nr ns mx lh nt nu mz ll nv nw nb nx bi translated">惰性装载</h2><p id="a8d2" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld ny lf lg lh nz lj lk ll oa ln lo lp im bi translated">在Angular 11之前，我们不可能通过模块的出口名来延迟加载模块。现在有了Angular 11 ( <a class="ae ob" href="https://github.com/santoshyadavdev/Angular11-demo" rel="noopener ugc nofollow" target="_blank"> GitHub </a>):</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oc od l"/></div></figure><h2 id="e65e" class="nm mm it bd mn nn no dn mr np nq dp mv ld nr ns mx lh nt nu mz ll nv nw nb nx bi translated">现在支持Webpack 5</h2><p id="eb63" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld ny lf lg lh nz lj lk ll oa ln lo lp im bi translated">对于Webpack爱好者来说，我们可以使用带<em class="oe">纱</em>的Angular 11中的Webpack 5。这有点冒险，尤其是在大型企业应用中，因为Webpack仍处于试验阶段。</p><p id="0fcc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你所需要做的就是配置你的<code class="fe ni nj nk nl b">package.json</code>并调用:<code class="fe ni nj nk nl b">yarn install</code></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oc od l"/></div></figure><h2 id="0542" class="nm mm it bd mn nn no dn mr np nq dp mv ld nr ns mx lh nt nu mz ll nv nw nb nx bi translated">Ivy新功能</h2><p id="e3a4" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld ny lf lg lh nz lj lk ll oa ln lo lp im bi translated">如果你一直关注Angular evolution，你会发现从版本9开始，Angular Ivy就是默认的渲染引擎。</p><p id="f5be" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">没听说过艾薇？你可以在这里了解更多信息:🔗<a class="ae ob" href="https://angular.io/guide/ivy" rel="noopener ugc nofollow" target="_blank">棱角分明的常春藤指南</a>。</p><ul class=""><li id="8402" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated">模板内全面的类型检查。详见<a class="ae ob" href="https://angular.io/guide/template-typecheck" rel="noopener ugc nofollow" target="_blank">模板类型检查</a>。</li><li id="1c2d" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">调试相关的小改动，参见<a class="ae ob" href="https://angular.io/guide/ivy-compatibility" rel="noopener ugc nofollow" target="_blank"> Ivy兼容性指南</a>。</li></ul></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="16ab" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">CLI的世界？</h1><h2 id="1e4c" class="nm mm it bd mn nn no dn mr np nq dp mv ld nr ns mx lh nt nu mz ll nv nw nb nx bi translated">从库中提取i18n令牌的功能</h2><p id="1de8" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld ny lf lg lh nz lj lk ll oa ln lo lp im bi translated">现在可以从angular库中提取i18n标记。对库使用下面的命令。下面是完成这项工作的命令:</p><pre class="kj kk kl km gt of nl og oh aw oi bi"><span id="308e" class="nm mm it nl b gy oj ok l ol om"><strong class="nl iu"><em class="oe">ng xi18n --ivy</em></strong></span></pre><h2 id="86e9" class="nm mm it bd mn nn no dn mr np nq dp mv ld nr ns mx lh nt nu mz ll nv nw nb nx bi translated">旋转变压器的发电机</h2><p id="c949" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld ny lf lg lh nz lj lk ll oa ln lo lp im bi translated">CLI已经非常有助于提高工作效率和关注代码逻辑。尽管如此，它并不能生成Angular应用程序中的所有内容。Angular 11可以产生旋变保护。这是个好消息。我们只需要使用<code class="fe ni nj nk nl b"><strong class="kw iu"><em class="oe">resolver</em></strong></code> <strong class="kw iu"> <em class="oe"> </em> </strong>或其快捷键<code class="fe ni nj nk nl b"><strong class="kw iu"><em class="oe">r</em></strong></code>就像下面这样:</p><pre class="kj kk kl km gt of nl og oh aw oi bi"><span id="2df1" class="nm mm it nl b gy oj ok l ol om"><strong class="nl iu"><em class="oe">ng g r/resolver [name]</em></strong></span></pre><h2 id="8e40" class="nm mm it bd mn nn no dn mr np nq dp mv ld nr ns mx lh nt nu mz ll nv nw nb nx bi translated">严格模式</h2><p id="4222" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld ny lf lg lh nz lj lk ll oa ln lo lp im bi translated">Angular 10有一个标志<code class="fe ni nj nk nl b">--strict</code>来生成启用了所有严格检查的Angular应用程序，现在你会得到一个提示来检查你是否想要启用它。</p><h2 id="268b" class="nm mm it bd mn nn no dn mr np nq dp mv ld nr ns mx lh nt nu mz ll nv nw nb nx bi translated">内嵌谷歌字体和图标</h2><p id="0799" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld ny lf lg lh nz lj lk ll oa ln lo lp im bi translated">谷歌字体和图标将在<code class="fe ni nj nk nl b">index.html</code>中转换为内嵌。您需要在<code class="fe ni nj nk nl b">build</code>选项下的<code class="fe ni nj nk nl b">angular.json</code>中设置如下标志。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oc od l"/></div></figure><p id="9d43" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这个选项需要互联网。所以，如果你不确定是否有联系。最好考虑通过更改字体标志来禁用此优化:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oc od l"/></div></figure><h2 id="caa2" class="nm mm it bd mn nn no dn mr np nq dp mv ld nr ns mx lh nt nu mz ll nv nw nb nx bi translated">HMR(热模块重新加载)</h2><p id="450b" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld ny lf lg lh nz lj lk ll oa ln lo lp im bi translated">终于到了。此功能现在可用于Angular 11。热模块更换(或HMR)是Webpack提供的最有用的功能之一。它允许在运行时更新所有类型的模块，而不需要完全刷新。下面是它的使用方法:</p><pre class="kj kk kl km gt of nl og oh aw oi bi"><span id="cbf7" class="nm mm it nl b gy oj ok l ol om"><strong class="nl iu"><em class="oe">ng serve ---hmr</em></strong></span></pre><h2 id="51d2" class="nm mm it bd mn nn no dn mr np nq dp mv ld nr ns mx lh nt nu mz ll nv nw nb nx bi translated">漂亮的构建输出</h2><p id="555f" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld ny lf lg lh nz lj lk ll oa ln lo lp im bi translated">更清晰易读(也更漂亮，我就是喜欢❤.谢谢Angular的团队)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/d057a8101a6cc4f8662ada55e7916740.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*rzGxCj87shMvOBbC.png"/></div></div></figure></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="0b91" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">弃用的功能和重大变更</h1><h2 id="b0ab" class="nm mm it bd mn nn no dn mr np nq dp mv ld nr ns mx lh nt nu mz ll nv nw nb nx bi translated">途径</h2><ul class=""><li id="8bfb" class="lq lr it kw b kx nd la ne ld nf lh ng ll nh lp lv lw lx ly bi translated"><code class="fe ni nj nk nl b"><a class="ae ob" href="https://angular.io/api/router/RouterLink" rel="noopener ugc nofollow" target="_blank">routerLink</a></code>现在接受<code class="fe ni nj nk nl b">undefined</code>输入</li><li id="3298" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated"><code class="fe ni nj nk nl b"><a class="ae ob" href="https://angular.io/api/router/NavigationExtras" rel="noopener ugc nofollow" target="_blank">NavigationExtras</a>#preserveQueryParams</code>已从<code class="fe ni nj nk nl b">@angular/router</code>中移除。</li></ul><h2 id="a29d" class="nm mm it bd mn nn no dn mr np nq dp mv ld nr ns mx lh nt nu mz ll nv nw nb nx bi translated">管道</h2><ul class=""><li id="00c5" class="lq lr it kw b kx nd la ne ld nf lh ng ll nh lp lv lw lx ly bi translated">许多角形内置管道的类型已经缩小或扩大，以便更加精确。</li><li id="8c43" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">切片管道现在为未定义的输入值返回null。</li><li id="77e0" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated"><code class="fe ni nj nk nl b">date</code>和<code class="fe ni nj nk nl b">number</code>管道的类型是固定的，输入中不再有任何类型。</li><li id="b386" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated"><code class="fe ni nj nk nl b"><a class="ae ob" href="https://angular.io/api/common/DatePipe" rel="noopener ugc nofollow" target="_blank">DatePipe</a></code>不再向上舍入毫秒数。</li><li id="6fed" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated"><code class="fe ni nj nk nl b">async</code>如果您在模板更改为null中明确检查未定义的值，pipe将不再返回null作为未定义输入的值。</li><li id="c223" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated"><code class="fe ni nj nk nl b">lowercase</code>不接受任何虚假值，如0或false。你会得到一个异常。</li></ul><h2 id="08c9" class="nm mm it bd mn nn no dn mr np nq dp mv ld nr ns mx lh nt nu mz ll nv nw nb nx bi translated">浏览器支持</h2><p id="6b7f" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld ny lf lg lh nz lj lk ll oa ln lo lp im bi translated">删除了对IE 9、10和IE mobile的支持。它们在Angular 10版本中已被弃用。</p><h2 id="8f0f" class="nm mm it bd mn nn no dn mr np nq dp mv ld nr ns mx lh nt nu mz ll nv nw nb nx bi translated">形式</h2><p id="4a59" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld ny lf lg lh nz lj lk ll oa ln lo lp im bi translated"><code class="fe ni nj nk nl b">@angular/forms</code>包中的指令曾经在构造函数中将<code class="fe ni nj nk nl b">any[]</code>作为验证器和asyncValidators参数的类型。现在，这些参数被正确地输入了。因此，改进验证器和异步验证器的类型。</p><h2 id="f8bd" class="nm mm it bd mn nn no dn mr np nq dp mv ld nr ns mx lh nt nu mz ll nv nw nb nx bi translated">CollectionChangeRecord已被否决</h2><p id="2290" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld ny lf lg lh nz lj lk ll oa ln lo lp im bi translated">如果您正在使用<a class="ae ob" href="https://angular.io/api/core/CollectionChangeRecord" rel="noopener ugc nofollow" target="_blank"> CollectionChangeRecord </a>，请开始使用<a class="ae ob" href="https://angular.io/api/core/IterableChangeRecord" rel="noopener ugc nofollow" target="_blank"> IterableChangeRecord </a>，因为之前它已被弃用。</p><h2 id="8b70" class="nm mm it bd mn nn no dn mr np nq dp mv ld nr ns mx lh nt nu mz ll nv nw nb nx bi translated">Typescript 3.9</h2><p id="a64e" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld ny lf lg lh nz lj lk ll oa ln lo lp im bi translated">Angular 11将支持Typescript 4.0，因此不再支持3.9版本。</p><h2 id="b607" class="nm mm it bd mn nn no dn mr np nq dp mv ld nr ns mx lh nt nu mz ll nv nw nb nx bi translated">单元测试</h2><ul class=""><li id="3413" class="lq lr it kw b kx nd la ne ld nf lh ng ll nh lp lv lw lx ly bi translated">为了避免与原生JavaScript <code class="fe ni nj nk nl b"><a class="ae ob" href="https://angular.io/api/common/AsyncPipe" rel="noopener ugc nofollow" target="_blank">async</a></code>语法混淆，来自<code class="fe ni nj nk nl b">@angular/core/testing</code>的<code class="fe ni nj nk nl b"><a class="ae ob" href="https://angular.io/api/common/AsyncPipe" rel="noopener ugc nofollow" target="_blank">async</a></code>函数被重命名为<code class="fe ni nj nk nl b"><a class="ae ob" href="https://angular.io/api/core/testing/waitForAsync" rel="noopener ugc nofollow" target="_blank">waitForAsync</a></code>。</li><li id="091d" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">在初始化测试床之前调用<code class="fe ni nj nk nl b">overrideProvider</code>现在会抛出一个错误。</li></ul><h2 id="448a" class="nm mm it bd mn nn no dn mr np nq dp mv ld nr ns mx lh nt nu mz ll nv nw nb nx bi translated">网络工作者</h2><ul class=""><li id="6e48" class="lq lr it kw b kx nd la ne ld nf lh ng ll nh lp lv lw lx ly bi translated"><code class="fe ni nj nk nl b">@angular/platform-webworker</code>已被删除，不再受支持。</li></ul></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="baf4" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">💼外卖</h1><ul class=""><li id="a382" class="lq lr it kw b kx nd la ne ld nf lh ng ll nh lp lv lw lx ly bi translated">Angular 11关注的是类型安全</li><li id="7929" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">改进所有管道的类型以避免运行时的错误</li><li id="0039" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">如果你因为没有找到期待的特性而感到失望，看看<a class="ae ob" href="https://angular.io/guide/roadmap" rel="noopener ugc nofollow" target="_blank">路线图🔗也许正在进行中😉</a></li></ul></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><p id="3eb6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">亲爱的读者朋友们，感谢你们的支持和宝贵时间。我希望这对你有用和有帮助。</p><p id="fc8f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">关注我上</strong> <a class="ae ob" href="https://medium.com/@famzil/" rel="noopener"> <strong class="kw iu">中</strong> </a> <strong class="kw iu">，</strong> <a class="ae ob" href="https://www.linkedin.com/in/fatima-amzil-9031ba95/" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu">领英</strong> </a> <strong class="kw iu">，</strong> <a class="ae ob" href="https://www.facebook.com/The-Front-End-World" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu">脸书</strong> </a> <strong class="kw iu">，以及</strong> <a class="ae ob" href="https://twitter.com/FatimaAMZIL9" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu">推特</strong> </a> <strong class="kw iu">获取更多文章。</strong></p><p id="ed7e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">后会有期(ﾉ◕ヮ◕)ﾉ*:･ﾟ✧ </strong></p><p id="b595" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> FAM </strong></p></div></div>    
</body>
</html>