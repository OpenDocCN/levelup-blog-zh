<html>
<head>
<title>Fun with Skyboxes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">天空盒子的乐趣</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/fun-with-skyboxes-dd28ebaef48c?source=collection_archive---------6-----------------------#2021-05-04">https://levelup.gitconnected.com/fun-with-skyboxes-dd28ebaef48c?source=collection_archive---------6-----------------------#2021-05-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="9476" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用立方体贴图创建天空盒，并将其添加到场景中。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/610d7a5e0dfa628066b2994d1e8e1cd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WI5Zw1eKEKNmRX3zreeUHw.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">我们将把这张图片变成一个团结的天空盒子</figcaption></figure><p id="55d4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">今天我们将探索使用Unity引擎中的<strong class="js iu">天空盒</strong>为我们的3D游戏添加一些很酷的背景。与许多演练不同，本文将演练从创建到完成的整个过程。请注意，我们一开始会做一些错误的事情，这是为了向您展示不正确设置的结果，最后我会解释如何修复这些问题。</p><h1 id="9c07" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><strong class="ak">图片来源</strong></h1><p id="21be" class="pw-post-body-paragraph jq jr it js b jt mc jv jw jx md jz ka kb me kd ke kf mf kh ki kj mg kl km kn im bi translated">找到您要用于skybox的高质量图像。我用的是4000 x 2000的，图像质量越高，效果越好。</p><p id="2347" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">制造一个好的天空盒的两个关键规则是:</p><ul class=""><li id="eac3" class="mh mi it js b jt ju jx jy kb mj kf mk kj ml kn mm mn mo mp bi translated">图像应采用等矩形投影进行格式化。<strong class="js iu"> <em class="mq">注意:我故意没有使用这些图片中的任何一张，以便稍后我可以向你展示它的重要性。</em> </strong></li><li id="cdf4" class="mh mi it js b jt mr jx ms kb mt kf mu kj mv kn mm mn mo mp bi translated">图像的纵横比应为2:1(因此为4000 x 2000)。</li></ul><p id="5fa6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一旦你保存了你的图片，我们需要把它转换成有用的东西。如果你有Photoshop技巧来做这一部分，那就去做吧！我将使用Github上Lucas Crane的<a class="ae mw" href="https://jaxry.github.io/panorama-to-cubemap/" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">全景到立方体贴图</strong> </a> <strong class="js iu"> </strong>。该工具允许我们快速地将我们的图像转换成我们需要的立方体贴图。</p><div class="mx my gp gr mz na"><a href="https://jaxry.github.io/panorama-to-cubemap/" rel="noopener  ugc nofollow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd iu gy z fp nf fr fs ng fu fw is bi translated">全景到立方体贴图</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">将360°全景图转换为立方体贴图。</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">jaxry.github.io</p></div></div></div></a></div><p id="f633" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">全景到立方体贴图有几个设置，我们将立方体旋转设置为360度，插值设置为最佳，输出格式为PNG。一旦我们上传图像，我们会看到以下结果。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nj"><img src="../Images/2f0e7af7c42f966b06ef3d19d66bfdbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DTyEfmvt3apiKBG9N4z4wA.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">我们正在为瑞典设计新的旗帜</figcaption></figure><p id="fac8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">接下来的部分是最简单的。点击每个方块，将其保存到您的下载文件夹中，以便稍后移动到您的游戏中。这些文件已经以我们的名字命名，但是我们需要理解它们如何转化为Unity。你可以通过阅读文档来查看Unity中支持的立方体贴图的细节。</p><div class="mx my gp gr mz na"><a href="https://docs.unity3d.com/Manual/class-Cubemap.html" rel="noopener  ugc nofollow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd iu gy z fp nf fr fs ng fu fw is bi translated">立方体贴图</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">切换到脚本立方体贴图是代表环境反射的六个正方形纹理的集合…</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">docs.unity3d.com</p></div></div><div class="nk l"><div class="nl l nm nn no nk np ky na"/></div></div></a></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/052f7574c43dce7891b2d2d52815a0f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:528/format:webp/1*rC0T9uCBds1hxOBiUfbm6A.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">水平交叉布局</figcaption></figure><p id="0c82" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们最感兴趣的是与我们上面的图像相匹配的布局。我们有所谓的横向交叉。所以我们保存的文件映射到十字上的一个方块:</p><ul class=""><li id="b968" class="mh mi it js b jt ju jx jy kb mj kf mk kj ml kn mm mn mo mp bi translated">nx.png =-X(左红色)</li><li id="9dea" class="mh mi it js b jt mr jx ms kb mt kf mu kj mv kn mm mn mo mp bi translated">nz.png =+Z(左侧蓝色)</li><li id="162b" class="mh mi it js b jt mr jx ms kb mt kf mu kj mv kn mm mn mo mp bi translated">pz.png =+X(右红)</li><li id="3bad" class="mh mi it js b jt mr jx ms kb mt kf mu kj mv kn mm mn mo mp bi translated">nz.png =-Z(右蓝)</li><li id="d621" class="mh mi it js b jt mr jx ms kb mt kf mu kj mv kn mm mn mo mp bi translated">py.png =+Y(顶部绿色)</li><li id="7f20" class="mh mi it js b jt mr jx ms kb mt kf mu kj mv kn mm mn mo mp bi translated">ny.png =-Y(底部绿色)</li></ul><p id="1864" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在我们已经有了文件和贴图，我们可以在Unity中创建天空盒了。</p><h1 id="3b51" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">创建天空盒</h1><p id="8247" class="pw-post-body-paragraph jq jr it js b jt mc jv jw jx md jz ka kb me kd ke kf mf kh ki kj mg kl km kn im bi translated">天空盒只是Unity中一种特殊的材质。像任何材料一样，它需要设置纹理和在我们的游戏中使用的材料。所以我们接下来会这么做。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nr"><img src="../Images/e57d328d401685eafa4cc8387bd80465.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*jCzxwLzl5drDgTGXY2E2ow.gif"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">创建材料</figcaption></figure><p id="b6d2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">打开Unity，在你想要创建材料的文件夹中点击右键，选择<strong class="js iu">创建&gt;材料。</strong>然后我们需要将我们的图像导入游戏引擎。我把我的放在一个名为纹理的新文件夹中。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/b36b35401a136ae65f3f9730f0b85061.png" data-original-src="https://miro.medium.com/v2/resize:fit:1022/1*JvetkNppxMjl1j873_Dd_Q.gif"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">将材料更改为6面</figcaption></figure><p id="2421" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在在检查员中，我们需要将我们的材料从<strong class="js iu">标准</strong>材料改为<strong class="js iu">六面</strong>材料。</p><p id="6e33" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">请注意，当我们更改材质时，我们的检查器选项会变成一堆空纹理，其名称与我们正在使用的水平十字布局相匹配。</p><p id="cb3b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们现在可以将全景图到立方体贴图的图像纹理分配到它们的透视位置来完成材质。我们可以暂时忽略其他选项。</p><p id="3ec6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一旦我们有我们的图像添加我们的材料应该看起来像这样。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/c76b2e24aef1fcba80639680cd18cdf9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1030/format:webp/1*7gqwOakTU-vvoNki1uaZyg.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">完全构建的天空盒</figcaption></figure><p id="c2cf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">好了，我们已经为自己构建了一个整洁的天空盒来添加到我们的游戏中，但是我们实际上如何使用它呢？好吧，让我们打开<strong class="js iu">灯光窗口(窗口&gt;渲染&gt;灯光)</strong>并转到环境标签。现在我们可以设置新的天空盒纹理用于我们的游戏背景。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nu"><img src="../Images/e110015b4bacd280e5bd91d64b51ed9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y81o5nQBVzbqHAf63dS0aw.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">我们场景中的天空盒。</figcaption></figure><p id="b208" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们开始了，全新的天空盒出现在我们的场景中！现在我使用上面的图像，因为我想展示不使用等矩形投影会导致什么。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nv"><img src="../Images/11e2f40b5d4f450673cd193da22e6c72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*miyviuzv8z95ALt29QouCQ.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">可见接缝</figcaption></figure><p id="e3a8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当我们没有使用正确的图像时，就会发生这种情况。我们的天空盒有明显的接缝。这可能是我们可以用创造性的游戏设计来隐藏的东西，但最好从一开始就处理它，这样我们就不需要用创造性来隐藏我们的缺陷。我们之前将旋转角度设置为360 °,因为这是大多数人对于360度背景的直觉选择，但是如果我们选择180 °,我们会得到一组接缝更干净的图像。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nw"><img src="../Images/28e4d50cd745f79394c2dad07aca77b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CmZ_v_is3i61xEc8pfpftw.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">更好的立方体贴图</figcaption></figure><p id="96d4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用180°旋转代替360°旋转将会消除我们上面看到的几乎所有接缝问题。</p><h2 id="5831" class="nx lf it bd lg ny nz dn lk oa ob dp lo kb oc od ls kf oe of lw kj og oh ma oi bi translated">其他修复</h2><p id="f88e" class="pw-post-body-paragraph jq jr it js b jt mc jv jw jx md jz ka kb me kd ke kf mf kh ki kj mg kl km kn im bi translated">如果您是Photoshop用户，也可以使用3D工具来解决这个问题。其中之一是制作球面全景图。利用这一点和偏移滤波器，我能够实现这个无缝的最终产品。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oj"><img src="../Images/08c6fd973645f877045ea4c8f71a10c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*bDf5WhH5hMYzmgXLSjAN8Q.gif"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">用Photoshop修复</figcaption></figure><p id="cceb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下次见。</p></div></div>    
</body>
</html>