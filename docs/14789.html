<html>
<head>
<title>Generate SSL Certificate With Let’s Encrypt</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用“让我们加密”生成SSL证书</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/generate-ssl-certificate-with-lets-encrypt-a8e26cf0a378?source=collection_archive---------2-----------------------#2022-12-24">https://levelup.gitconnected.com/generate-ssl-certificate-with-lets-encrypt-a8e26cf0a378?source=collection_archive---------2-----------------------#2022-12-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/85720252860868c07b7441e963044694.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HoqWTTd4A8oSvpd-OtQacQ.png"/></div></div></figure><p id="79bc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">谁会想到一个名为<em class="kw"> SSL For Free </em>的服务会有非常有限的免费层🤷‍♂️…这也让我大吃一惊</p><p id="6883" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在用完我的三个免费的90天证书后，我决定改用Let's Encrypt来生成我的SSL证书，我也会教你如何做</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi kx"><img src="../Images/162d58655d45bc8c5756b7bc545861b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VUt0zPEMCNl8QTix7bFybA.jpeg"/></div></div></figure><h1 id="994a" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">1 —您需要一个Linux终端</h1><p id="50bd" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated">你首先需要的是一个Linux终端，如果你已经很好地运行了一个Linux操作系统，这对你很有好处。尽管如果你运行的是Windows，你必须<a class="ae mf" href="https://www.youtube.com/watch?v=8Ev1aXl7TGY&amp;list=PL4cUxeGkcC9hxjeEtdHFNYMtCpjNBm3h7&amp;index=2" rel="noopener ugc nofollow" target="_blank">建立一个Linux子系统(WSL) </a></p><h1 id="55fc" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">2 —切换到根用户</h1><p id="8a3d" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated">您需要的命令需要管理权限，因此需要root权限。要切换到WSL上的根用户，您可以更改子系统的默认行为，默认使用根用户</p><p id="a090" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">记住你的其他用户的用户名，以防你想切换回来</p><pre class="ky kz la lb gt mg mh mi bn mj mk bi"><span id="987d" class="ml ld iq mh b be mm mn l mo mp">ubuntu2004.exe config - default-user root</span></pre><p id="bae7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">另外，用你运行的Linux版本替换“<strong class="ka ir">Ubuntu 2004 . exe”</strong></p><p id="fa53" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">奖励积分🎊</strong></p><p id="c54a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您在使用上面的命令切换到root用户后忘记了普通用户的密码，您可以通过运行下面的命令来重置密码</p><pre class="ky kz la lb gt mg mh mi bn mj mk bi"><span id="94e8" class="ml ld iq mh b be mm mn l mo mp">passwd &lt;USERNAME&gt;</span></pre><h1 id="f888" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">3 —安装证书机器人</h1><p id="cc4e" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated">这个阶段非常简单，你所要做的就是用根用户<strong class="ka ir">运行下面的命令</strong></p><pre class="ky kz la lb gt mg mh mi bn mj mk bi"><span id="b5db" class="ml ld iq mh b be mm mn l mo mp">sudo add-apt-repository ppa:certbot/certbot<br/><br/>sudo apt-get update<br/><br/>sudo apt-get install certbot</span></pre><h1 id="8592" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">4 —生成您的证书</h1><p id="1970" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated">要生成您的证书，请运行以下命令</p><pre class="ky kz la lb gt mg mh mi bn mj mk bi"><span id="ded9" class="ml ld iq mh b be mm mn l mo mp">certbot certonly --manual</span></pre><p id="2b45" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当提示您输入您的域名时，使用格式<strong class="ka ir">mydopewebsite.com</strong>，然后用[Y]接受任何其他提示</p><p id="3c2d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最后，为了得到你的证书，你必须上传一个文件到你的服务器来确认所有权。一旦完成，你的SSL证书的路径就会在屏幕上输出</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mq"><img src="../Images/8550f03b1171e5906190639e114b9d85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V60XdPGH0wx0_vEftf9yBA.png"/></div></div></figure><p id="6be3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">奖励积分🎊</strong></p><p id="5b96" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您正在运行Node.js，并且您没有权限将文件直接上传到服务器上，(在我的例子中，我使用单实例AWS Elastic Beanstalk和Node.js，该实例没有SSH keypair)我不确定这是否是处理acme挑战的最佳方式，但是我就是这样做的</p><pre class="ky kz la lb gt mg mh mi bn mj mk bi"><span id="f3d6" class="ml ld iq mh b be mm mn l mo mp">router.get("/.well-known/acme-challenge/&lt;FILE_NAME&gt;", (req, res) =&gt; {<br/>    return res.status(200).send("&lt;FILE_CONTENT&gt;");<br/>});</span></pre><p id="0553" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我在评论中得到你的反馈🤞</p><h1 id="6e7f" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">5 —管理您的证书</h1><p id="d56f" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated">如果您使用WSL并试图从文件资源管理器中打开证书文件，您将得到一个拒绝访问错误。要在终端中查看证书的内容，请运行命令</p><pre class="ky kz la lb gt mg mh mi bn mj mk bi"><span id="0943" class="ml ld iq mh b be mm mn l mo mp">cat &lt;PATH_TO_CERT&gt;</span></pre><p id="73db" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这个阶段，我祝贺您获得SSL证书🎊🎊</p><p id="2cf6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">以下是一些有用命令</p><pre class="ky kz la lb gt mg mh mi bn mj mk bi"><span id="f6e5" class="ml ld iq mh b be mm mn l mo mp"># List all your certificates<br/>certbot certificates<br/><br/># Delete a certificate<br/>certbot delete<br/><br/># Renew your cerificate, that was generated with "--manual"<br/>certbot certonly --manual -d example.com</span></pre><p id="1359" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您有任何问题或想要合作，请联系我<a class="ae mf" href="https://toluolatubosun.com/contact" rel="noopener ugc nofollow" target="_blank">这里</a> 🖖</p></div></div>    
</body>
</html>