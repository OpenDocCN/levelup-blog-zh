<html>
<head>
<title>Advanced Drawing with Pixi.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Pixi.js进行高级绘图</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/advanced-drawing-with-pixi-js-cd3fddc1d69e?source=collection_archive---------2-----------------------#2020-08-09">https://levelup.gitconnected.com/advanced-drawing-with-pixi-js-cd3fddc1d69e?source=collection_archive---------2-----------------------#2020-08-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/c51de7fce1865aa593b7cefa659151e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bSPOmE50VxoH-E3n"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">由<a class="ae kc" href="https://unsplash.com/@joelfilip?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">乔尔·菲利普</a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="61c3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">星星、连发、齿轮、楔形、多边形、弧线和破折号都是使用Pixi.js绘制的，pixi . js是HTML5创建引擎，具有最快、最灵活的2D WebGL渲染器。</p><p id="786d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">很多年前，当我给一幅图形添加一个爆发时，我偶然发现了里克·尤因的古怪的猴子绘画脚本。嵌入该功能的评论立即引起了我的共鸣:</p><blockquote class="lb lc ld"><p id="e08b" class="kd ke le kf b kg kh ki kj kk kl km kn lf kp kq kr lg kt ku kv lh kx ky kz la ij bi translated">Burst是一种绘制星暴的方法。如果你曾经在广告部工作过，你知道他们是什么；-)</p><p id="99a0" class="kd ke le kf b kg kh ki kj kk kl km kn lf kp kq kr lg kt ku kv lh kx ky kz la ij bi translated">客户倾向于想要它们，开发人员倾向于讨厌它们…</p></blockquote><p id="090d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我想我应该利用现代网络把这些东西带回来。</p><p id="1a8e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面是七个移植到Pixi.js的绘图形状。</p><h1 id="495c" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">绘制虚线</h1><p id="c04c" class="pw-post-body-paragraph kd ke iq kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">绘制一条从点x1，y1到点x2，y2的虚线。</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="114d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用法:</p><ul class=""><li id="e532" class="mr ms iq kf b kg kh kk kl ko mt ks mu kw mv la mw mx my mz bi translated"><code class="fe na nb nc nd b">target</code> —将在其上绘制虚线的图形实例</li><li id="922c" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">x1</code> —沿x轴的起始位置</li><li id="964b" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">y1</code> —沿y轴的起始位置</li><li id="d316" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">x2</code> —沿x轴的最终位置</li><li id="ebfc" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">y2</code> —沿y轴的最终位置</li><li id="f61a" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">dashLength</code> —每条虚线的长度，以像素为单位</li><li id="853b" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">spaceLength</code> —破折号之间的间距，以像素为单位</li></ul><pre class="ml mm mn mo gt nj nd nk nl aw nm bi"><span id="d0b7" class="nn lj iq nd b gy no np l nq nr">function drawDash(target,<br/>                  x1,<br/>                  y1,<br/>                  x2,<br/>                  y2,<br/>                  dashLength = 5,<br/>                  spaceLength = 5) {<br/>  let x = x2 - x1;<br/>  let y = y2 - y1;<br/>  let hyp = Math.sqrt((x) * (x) + (y) * (y));<br/>  let units = hyp / (dashLength + spaceLength);<br/>  let dashSpaceRatio = dashLength / (dashLength + spaceLength);<br/>  let dashX = (x / units) * dashSpaceRatio;<br/>  let spaceX = (x / units) - dashX;<br/>  let dashY = (y / units) * dashSpaceRatio;<br/>  let spaceY = (y / units) - dashY;</span><span id="b34c" class="nn lj iq nd b gy ns np l nq nr">  target.moveTo(x1, y1);</span><span id="bd47" class="nn lj iq nd b gy ns np l nq nr">  while (hyp &gt; 0) {<br/>    x1 += dashX;<br/>    y1 += dashY;<br/>    hyp -= dashLength;<br/>    if (hyp &lt; 0) {<br/>      x1 = x2;<br/>      y1 = y2;<br/>    }<br/>    target.lineTo(x1, y1);<br/>    x1 += spaceX;<br/>    y1 += spaceY;<br/>    target.moveTo(x1, y1);<br/>    hyp -= spaceLength;<br/>  }<br/>  target.moveTo(x2, y2);<br/>}</span></pre></div><div class="ab cl nt nu hu nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="ij ik il im in"><h1 id="28f2" class="li lj iq bd lk ll oa ln lo lp ob lr ls lt oc lv lw lx od lz ma mb oe md me mf bi translated">画弧线</h1><p id="ee78" class="pw-post-body-paragraph kd ke iq kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">从起始位置x，y绘制一个圆弧。</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="fcb3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用法:</p><ul class=""><li id="7b15" class="mr ms iq kf b kg kh kk kl ko mt ks mu kw mv la mw mx my mz bi translated"><code class="fe na nb nc nd b">target</code> —将在其上绘制虚线的图形实例</li><li id="ec40" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">x</code> —起点的X坐标</li><li id="0a19" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">y</code> —起点的Y坐标</li><li id="cc1b" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">radius</code> —圆弧的半径</li><li id="acc6" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">arc</code> —圆弧扫描(负值顺时针绘制)</li><li id="e661" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">startAngle</code> —以度为单位的起始偏移角度</li><li id="32fb" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">yRadius</code>-圆弧的Y半径，如果不同于半径将绘制一个椭圆</li></ul><pre class="ml mm mn mo gt nj nd nk nl aw nm bi"><span id="85a3" class="nn lj iq nd b gy no np l nq nr">function drawArc(target, <br/>                 x, <br/>                 y, <br/>                 radius, <br/>                 arc, <br/>                 startAngle = 0, <br/>                 yRadius = 0) {<br/>  <br/>  if (yRadius === 0)<br/>    yRadius = radius;</span><span id="3a92" class="nn lj iq nd b gy ns np l nq nr">  let segs = Math.ceil(Math.abs(arc) / 45);<br/>  let segAngle = arc / segs;<br/>  let theta = -(segAngle / 180) * Math.PI;<br/>  let angle = -(startAngle / 180) * Math.PI;<br/>  let ax = x - Math.cos(angle) * radius;<br/>  let ay = y - Math.sin(angle) * yRadius;<br/>  let angleMid, bx, by, cx, cy;<br/>  <br/>  if (segs &gt; 0) {<br/>    target.moveTo(x, y);<br/>    for (let i = 0; i &lt; segs; ++i) {<br/>      angle += theta;<br/>      angleMid = angle - (theta / 2);<br/>      bx = ax + Math.cos(angle) * radius;<br/>      by = ay + Math.sin(angle) * yRadius;<br/>      cx = ax + Math.cos(angleMid) * (radius / Math.cos(theta / 2));<br/>      cy = ay + Math.sin(angleMid) * (yRadius / Math.cos(theta / 2));<br/>      target.quadraticCurveTo(cx, cy, bx, by);<br/>    }<br/>  }<br/>}</span></pre></div><div class="ab cl nt nu hu nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="ij ik il im in"><h1 id="ec37" class="li lj iq bd lk ll oa ln lo lp ob lr ls lt oc lv lw lx od lz ma mb oe md me mf bi translated">绘制楔形</h1><p id="6187" class="pw-post-body-paragraph kd ke iq kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">绘制饼形楔形，如在饼图中。</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="dcf0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用法:</p><ul class=""><li id="37d9" class="mr ms iq kf b kg kh kk kl ko mt ks mu kw mv la mw mx my mz bi translated"><code class="fe na nb nc nd b">target</code> —将在其上绘制虚线的图形实例</li><li id="579d" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">x</code> —中心点的X坐标</li><li id="6437" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">y</code> —中心点的Y坐标</li><li id="bd42" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">radius</code> —楔子的半径</li><li id="90f9" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">arc</code> —圆弧扫描(负值顺时针绘制)</li><li id="0b81" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">startAngle</code> —以度为单位的起始角度</li><li id="f329" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">yRadius</code> —楔形的Y半径</li></ul><pre class="ml mm mn mo gt nj nd nk nl aw nm bi"><span id="f8d9" class="nn lj iq nd b gy no np l nq nr">function drawWedge(target,<br/>                   x,<br/>                   y,<br/>                   radius,<br/>                   arc,<br/>                   startAngle = 0,<br/>                   yRadius = 0) {<br/>  let segs = Math.ceil(Math.abs(arc) / 45);<br/>  let segAngle = arc / segs;<br/>  let theta = -(segAngle / 180) * Math.PI;<br/>  let angle = -(startAngle / 180) * Math.PI;<br/>  let ax = x + Math.cos(startAngle / 180 * Math.PI) * radius;<br/>  let ay = y + Math.sin(-startAngle / 180 * Math.PI) * yRadius;<br/>  let angleMid, bx, by, cx, cy;</span><span id="d7fa" class="nn lj iq nd b gy ns np l nq nr">  if (yRadius === 0)<br/>    yRadius = radius;</span><span id="7471" class="nn lj iq nd b gy ns np l nq nr">  target.moveTo(x, y);<br/>  target.lineTo(ax, ay);</span><span id="0698" class="nn lj iq nd b gy ns np l nq nr">  for (let i = 0; i &lt; segs; ++i) {<br/>    angle += theta;<br/>    angleMid = angle - (theta / 2);<br/>    bx = x + Math.cos(angle) * radius;<br/>    by = y + Math.sin(angle) * yRadius;<br/>    cx = x + Math.cos(angleMid) * (radius / Math.cos(theta / 2));<br/>    cy = y + Math.sin(angleMid) * (yRadius / Math.cos(theta / 2));<br/>    target.quadraticCurveTo(cx, cy, bx, by);<br/>  }</span><span id="1498" class="nn lj iq nd b gy ns np l nq nr">  target.lineTo(x, y);<br/>}</span></pre></div><div class="ab cl nt nu hu nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="ij ik il im in"><h1 id="7dad" class="li lj iq bd lk ll oa ln lo lp ob lr ls lt oc lv lw lx od lz ma mb oe md me mf bi translated">绘制多边形</h1><p id="c02d" class="pw-post-body-paragraph kd ke iq kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">绘制指定边数的多边形形状。</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="dabd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用法:</p><ul class=""><li id="c1f0" class="mr ms iq kf b kg kh kk kl ko mt ks mu kw mv la mw mx my mz bi translated"><code class="fe na nb nc nd b">target</code> —将在其上绘制虚线的图形实例</li><li id="d8c4" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">x</code> —中心点的X坐标</li><li id="e27d" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">y</code> —中心点的Y坐标</li><li id="637e" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">sides</code> —边数(必须大于2)</li><li id="8544" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">radius</code> —从中心点到多边形上各点的半径</li><li id="d044" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">angle</code> —以度为单位的起始角度偏移</li></ul><pre class="ml mm mn mo gt nj nd nk nl aw nm bi"><span id="7f84" class="nn lj iq nd b gy no np l nq nr">function drawPolygon(target,<br/>                     x,<br/>                     y,<br/>                     sides,<br/>                     radius,<br/>                     angle = 0) {<br/>  let step = (Math.PI * 2) / sides;<br/>  let start = (angle / 180) * Math.PI;<br/>  let n, dx, dy;</span><span id="2da9" class="nn lj iq nd b gy ns np l nq nr">  target.moveTo(<br/>    x + (Math.cos(start) * radius),<br/>    y - (Math.sin(start) * radius)<br/>  );</span><span id="8e1a" class="nn lj iq nd b gy ns np l nq nr">  for (n = 1; n &lt;= sides; ++n) {<br/>    dx = x + Math.cos(start + (step * n)) * radius;<br/>    dy = y - Math.sin(start + (step * n)) * radius;<br/>    target.lineTo(dx, dy);<br/>  }<br/>}</span></pre></div><div class="ab cl nt nu hu nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="ij ik il im in"><h1 id="8b00" class="li lj iq bd lk ll oa ln lo lp ob lr ls lt oc lv lw lx od lz ma mb oe md me mf bi translated">画星星</h1><p id="2f77" class="pw-post-body-paragraph kd ke iq kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">用指定的点数绘制星形图案</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="19a4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用法:</p><ul class=""><li id="28b5" class="mr ms iq kf b kg kh kk kl ko mt ks mu kw mv la mw mx my mz bi translated"><code class="fe na nb nc nd b">target</code> —将在其上绘制虚线的图形实例</li><li id="fd97" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">x</code> —中心点的X坐标</li><li id="1fcb" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">y</code> —中心点的Y坐标</li><li id="2ca1" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">points</code> —星星上的点数</li><li id="c0f1" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">innerRadius</code> —星形内角的半径</li><li id="da08" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">outerRadius</code> —星形外角的半径</li><li id="e7ab" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">angle</code> —以度为单位的起始角度偏移</li></ul><pre class="ml mm mn mo gt nj nd nk nl aw nm bi"><span id="0a1e" class="nn lj iq nd b gy no np l nq nr">function drawStar(target,<br/>                  x,<br/>                  y,<br/>                  points,<br/>                  innerRadius,<br/>                  outerRadius,<br/>                  angle = 0) {</span><span id="9bfc" class="nn lj iq nd b gy ns np l nq nr">  let step = (Math.PI * 2) / points;<br/>  let halfStep = step / 2;<br/>  let start = (angle / 180) * Math.PI;<br/>  let n, dx, dy;</span><span id="94a6" class="nn lj iq nd b gy ns np l nq nr">  target.moveTo(<br/>    x + (Math.cos(start) * outerRadius),<br/>    y - (Math.sin(start) * outerRadius)<br/>  );<br/>  <br/>  for (n = 1; n &lt;= points; ++n) {<br/>    dx = x + Math.cos(start + (step * n) - halfStep) * innerRadius;<br/>    dy = y - Math.sin(start + (step * n) - halfStep) * innerRadius;<br/>    target.lineTo(dx, dy);<br/>    dx = x + Math.cos(start + (step * n)) * outerRadius;<br/>    dy = y - Math.sin(start + (step * n)) * outerRadius;<br/>    target.lineTo(dx, dy);<br/>  }<br/>}</span></pre></div><div class="ab cl nt nu hu nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="ij ik il im in"><h1 id="2da5" class="li lj iq bd lk ll oa ln lo lp ob lr ls lt oc lv lw lx od lz ma mb oe md me mf bi translated">牵引齿轮</h1><p id="95e3" class="pw-post-body-paragraph kd ke iq kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">绘制具有指定边数的齿轮形状。</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="d0a7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用法:</p><ul class=""><li id="3571" class="mr ms iq kf b kg kh kk kl ko mt ks mu kw mv la mw mx my mz bi translated"><code class="fe na nb nc nd b">target</code> —将在其上绘制虚线的图形实例</li><li id="fde9" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">x</code> —中心点的X坐标</li><li id="6830" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">y</code> —中心点的Y坐标</li><li id="3ba9" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">sides</code> —齿轮的齿数(必须大于2)</li><li id="545b" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">innerRadius</code> —齿的缩进半径</li><li id="f05e" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">outerRadius</code> —齿的半径</li><li id="bdca" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">angle</code> —以度为单位的起始角度偏移</li><li id="1d46" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">holeSides</code> —多边形孔的边数(必须大于2)</li><li id="159f" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">holeRadius</code> —孔的半径</li></ul><pre class="ml mm mn mo gt nj nd nk nl aw nm bi"><span id="7039" class="nn lj iq nd b gy no np l nq nr">function drawGear(target,<br/>                  x,<br/>                  y,<br/>                  sides,<br/>                  innerRadius = 80,<br/>                  outerRadius = 4,<br/>                  angle = 0,<br/>                  holeSides = 2,<br/>                  holeRadius = 0) {<br/>  let step = (Math.PI * 2) / sides;<br/>  let qtrStep = step / 4;<br/>  let start = (angle / 180) * Math.PI;<br/>  let n, dx, dy;</span><span id="48cf" class="nn lj iq nd b gy ns np l nq nr">  target.moveTo(<br/>    x + (Math.cos(start) * outerRadius),<br/>    y - (Math.sin(start) * outerRadius)<br/>  );<br/>  <br/>  for (n = 1; n &lt;= sides; ++n) {<br/>    dx = x + Math.cos(start + (step * n) - (qtrStep * 3)) * innerRadius;<br/>    dy = y - Math.sin(start + (step * n) - (qtrStep * 3)) * innerRadius;<br/>    target.lineTo(dx, dy);<br/>    dx = x + Math.cos(start + (step * n) - (qtrStep * 2)) * innerRadius;<br/>    dy = y - Math.sin(start + (step * n) - (qtrStep * 2)) * innerRadius;<br/>    target.lineTo(dx, dy);<br/>    dx = x + Math.cos(start + (step * n) - qtrStep) * outerRadius;<br/>    dy = y - Math.sin(start + (step * n) - qtrStep) * outerRadius;<br/>    target.lineTo(dx, dy);<br/>    dx = x + Math.cos(start + (step * n)) * outerRadius;<br/>    dy = y - Math.sin(start + (step * n)) * outerRadius;<br/>    target.lineTo(dx, dy);<br/>  }</span><span id="0000" class="nn lj iq nd b gy ns np l nq nr">  step = (Math.PI * 2) / holeSides;</span><span id="d93b" class="nn lj iq nd b gy ns np l nq nr">  target.moveTo(<br/>    x + (Math.cos(start) * holeRadius),<br/>    y - (Math.sin(start) * holeRadius)<br/>  );</span><span id="2597" class="nn lj iq nd b gy ns np l nq nr">  for (n = 1; n &lt;= holeSides; ++n) {<br/>    dx = x + Math.cos(start + (step * n)) * holeRadius;<br/>    dy = y - Math.sin(start + (step * n)) * holeRadius;<br/>    target.lineTo(dx, dy);<br/>  }<br/>}</span></pre></div><div class="ab cl nt nu hu nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="ij ik il im in"><h1 id="1395" class="li lj iq bd lk ll oa ln lo lp ob lr ls lt oc lv lw lx od lz ma mb oe md me mf bi translated">绘画爆发</h1><p id="ec34" class="pw-post-body-paragraph kd ke iq kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">用指定的边数画一个星形爆发。</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="a07c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用法:</p><ul class=""><li id="0c21" class="mr ms iq kf b kg kh kk kl ko mt ks mu kw mv la mw mx my mz bi translated"><code class="fe na nb nc nd b">target</code> —将在其上绘制虚线的图形实例</li><li id="8800" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">x</code> —中心点的X坐标</li><li id="524e" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">y</code> —中心点的Y坐标</li><li id="2227" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">sides</code> —齿轮的齿数(必须大于2)</li><li id="d246" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">innerRadius</code> —曲线缩进的半径</li><li id="f844" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">outerRadius</code> —最外点的半径</li><li id="16fb" class="mr ms iq kf b kg ne kk nf ko ng ks nh kw ni la mw mx my mz bi translated"><code class="fe na nb nc nd b">angle</code> —以度为单位的起始角度偏移</li></ul><pre class="ml mm mn mo gt nj nd nk nl aw nm bi"><span id="1a68" class="nn lj iq nd b gy no np l nq nr">function drawBurst(target,<br/>                   x,<br/>                   y,<br/>                   sides,<br/>                   innerRadius,<br/>                   outerRadius,<br/>                   angle = 0) {<br/>  let step = (Math.PI * 2) / sides;<br/>  let halfStep = step / 2;<br/>  let qtrStep = step / 4;<br/>  let start = (angle / 180) * Math.PI;<br/>  let n, dx, dy, cx, cy;</span><span id="64ee" class="nn lj iq nd b gy ns np l nq nr">  target.moveTo(<br/>    x + (Math.cos(start) * outerRadius),<br/>    y - (Math.sin(start) * outerRadius)<br/>  );</span><span id="0907" class="nn lj iq nd b gy ns np l nq nr">   for (n = 1; n &lt;= sides; ++n) {<br/>    cx = x + Math.cos(start + (step * n) - (qtrStep * 3)) * (innerRadius / Math.cos(qtrStep));<br/>    cy = y - Math.sin(start + (step * n) - (qtrStep * 3)) * (innerRadius / Math.cos(qtrStep));<br/>    dx = x + Math.cos(start + (step * n) - halfStep) * innerRadius;<br/>    dy = y - Math.sin(start + (step * n) - halfStep) * innerRadius;<br/>    target.quadraticCurveTo(cx, cy, dx, dy);<br/>    cx = x + Math.cos(start + (step * n) - qtrStep) * (innerRadius / Math.cos(qtrStep));<br/>    cy = y - Math.sin(start + (step * n) - qtrStep) * (innerRadius / Math.cos(qtrStep));<br/>    dx = x + Math.cos(start + (step * n)) * outerRadius;<br/>    dy = y - Math.sin(start + (step * n)) * outerRadius;<br/>    target.quadraticCurveTo(cx, cy, dx, dy);<br/>  }<br/>}</span></pre></div></div>    
</body>
</html>