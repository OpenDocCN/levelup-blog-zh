<html>
<head>
<title>Error-Free Code is not just a dream after all | StandardJS 16.0</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">无错代码终究不是梦| StandardJS 16.0</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/error-free-code-is-not-just-a-dream-after-all-standardjs-16-0-bf66e09aec1d?source=collection_archive---------14-----------------------#2020-12-06">https://levelup.gitconnected.com/error-free-code-is-not-just-a-dream-after-all-standardjs-16-0-bf66e09aec1d?source=collection_archive---------14-----------------------#2020-12-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/0f7c07027a5d5fef99d0be5ba3acc299.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eJeYfylQc7wzurZ-"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated"><a class="ae kf" href="https://unsplash.com/@maxchen2k?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Max陈</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><p id="7064" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将学习编写完美的代码。格式完美的代码，没有任何语法或语义错误。那不是梦吗？是的，确实如此，现在让我们看看如何使用一个简单的javascript库Standard.js(也称为标准样式)来实现这个美好的梦想。</p><h1 id="3811" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">为什么需要标准样式？</h1><p id="c3b3" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">在我们深入研究如何使用标准样式的细节之前，让我先解释一下为什么我们应该使用它！你们中的一些人可能已经在使用一个<em class="mh"> linter </em>和一个<em class="mh"> formatter、</em>的组合，比如ESLint(linter)和prettle(formatter)，并且肯定想知道是否值得改用Standard.js。</p><blockquote class="mi mj mk"><p id="818f" class="kg kh mh ki b kj kk kl km kn ko kp kq ml ks kt ku mm kw kx ky mn la lb lc ld im bi translated">棉绒抓虫子。它主要是在你的代码中寻找程序员的错误。</p><p id="024a" class="kg kh mh ki b kj kk kl km kn ko kp kq ml ks kt ku mm kw kx ky mn la lb lc ld im bi translated">JSLint是2002年发布的第一个原始javascript linter。然后，2010年推出的JSHint提供了更多的规则和额外的可配置性。现在，大多数人使用的是2013年推出的ESLint，它有更好的ES支持和额外的样式规则，以迎合您的代码应该看起来如何。这也有一个很好的插件支持，允许开发人员创建自己的规则，因此，目前，它在技术行业作为javascript的linter广泛流行。</p></blockquote><p id="dcd7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以，回到为什么你需要标准风格。简单来说，<strong class="ki iu">节省你的时间！</strong></p><p id="b63d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是一个集<strong class="ki iu"> javascript风格指南、</strong> <strong class="ki iu"> linter、</strong>和<strong class="ki iu">格式化器</strong>于一体的工具。这个模块拯救了你(和其他人！)时间有三种方式:</p><ul class=""><li id="07db" class="mo mp it ki b kj kk kn ko kr mq kv mr kz ms ld mt mu mv mw bi translated"><strong class="ki iu">无配置:</strong>在项目中实施代码质量的最简单方法。不用做决定。没有要管理的<code class="fe mx my mz na b">.eslintrc</code>文件。它只是工作。</li><li id="33b6" class="mo mp it ki b kj nb kn nc kr nd kv ne kz nf ld mt mu mv mw bi translated"><strong class="ki iu">自动格式化代码:</strong>只需运行<code class="fe mx my mz na b">standard --fix</code>，告别杂乱或不一致的代码。</li><li id="fc1d" class="mo mp it ki b kj nb kn nc kr nd kv ne kz nf ld mt mu mv mw bi translated"><strong class="ki iu">尽早发现风格问题和程序员错误:</strong>通过消除评审者和贡献者之间的来回沟通，节省宝贵的代码评审时间。</li></ul><p id="f40a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="mh">来源:JavaScript标准样式官方文档</em></p><h1 id="6146" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">StandardJS可以捕捉的错误类型？</h1><p id="fc48" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">让我们看几个StandardJS可以快速捕捉的错误类型的例子。</p><h2 id="1c8d" class="ng lf it bd lg nh ni dn lk nj nk dp lo kr nl nm ls kv nn no lw kz np nq ma nr bi translated">示例1:</h2><pre class="ns nt nu nv gt nw na nx ny aw nz bi"><span id="51ee" class="ng lf it na b gy oa ob l oc od">const processUserData = <br/>(username, age, firstname, lastname, email,    age, gender, phone, city) =&gt; { <br/>    console.log('accessing age: ', age); <br/>}</span></pre><p id="40f4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">解释:</strong></p><p id="1543" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">参数'<em class="mh">年龄'</em>出现两次，分别在第二位和第六位。这可能是复制粘贴出错的结果，或者可能是新开发人员试图重构代码。对我来说重要的是，在Javascript中，函数中有重复的参数是完全允许的，除非你使用的是严格模式。在严格模式下，javascript解释器会将其标记为错误。讨论这对您的代码有多大的欺骗性；当函数中有多个同名的参数时，最后一个出现的参数会覆盖第一个出现的参数。例如，在上面提到的例子中，当我们试图访问'<em class="mh"> age' </em>变量时，我们将获取最后一个'<em class="mh"> age' </em>(在第6个位置)的值。现在的问题是，你不一定知道这段代码有问题，除非你花上几个小时调试整段代码，因为这并不简单。</p><h2 id="4839" class="ng lf it bd lg nh ni dn lk nj nk dp lo kr nl nm ls kv nn no lw kz np nq ma nr bi translated">示例2:</h2><pre class="ns nt nu nv gt nw na nx ny aw nz bi"><span id="eac8" class="ng lf it na b gy oa ob l oc od">if ( user.preference = "mango" ) {<br/>   //do something <br/>}</span></pre><p id="ada5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">解释:这个问题很微妙，但是很容易犯，而且很常见。在条件语句中，很容易键入错误的比较运算符，例如，<em class="mh">严格相等运算符(===) </em>或<em class="mh">宽松相等运算符</em>又名<em class="mh">类型强制运算符(==) </em>，用于<em class="mh">赋值运算符(=)。</em>现在，这个<code class="fe mx my mz na b">if</code>语句将总是被评估为真，因为程序员错误地将值<em class="mh">‘mango’</em>赋给了<em class="mh">‘user’</em>对象的<em class="mh">‘preference’</em>字段。现在，这个<code class="fe mx my mz na b">if</code>块将一直执行。虽然，人类的眼睛很难发现这些概念上的错误，但是，对于一个过敏者来说，发现它们是很容易的。</p><h1 id="488c" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">谁使用JavaScript标准样式？</h1><p id="a5b1" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">几乎所有科技行业的巨头都使用这个库。</p><figure class="ns nt nu nv gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oe"><img src="../Images/be09a8bd39af0060328a2487a042d6b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b4bGQ0K7wWgoJkHRvO_DDw.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated"><em class="of">来源:JavaScript标准样式官方文档</em></figcaption></figure><h1 id="6701" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">装置</h1><p id="2c6d" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">将库作为开发依赖项安装。</p><pre class="ns nt nu nv gt nw na nx ny aw nz bi"><span id="2b06" class="ng lf it na b gy oa ob l oc od">npm install standard --save-dev</span></pre><h1 id="8507" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">使用标准</h1><p id="b0ed" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">运行standard来检查您的代码库中有哪些错误。</p><pre class="ns nt nu nv gt nw na nx ny aw nz bi"><span id="6f83" class="ng lf it na b gy oa ob l oc od">npx standard</span></pre><p id="6976" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">修复格式和其他语义错误。</p><pre class="ns nt nu nv gt nw na nx ny aw nz bi"><span id="08da" class="ng lf it na b gy oa ob l oc od">npx standard --fix</span></pre><p id="7c2b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将使StandardJS自动修复您的代码问题。它不能解决的只是一些需要手动修复的模糊错误。</p><h1 id="dee5" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">足够聪明去做这件事</h1><p id="28ff" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">您可以在<em class="mh"> package.json </em>文件中向您的测试脚本添加标准样式。现在，每次在构建代码之前运行<code class="fe mx my mz na b">npm test</code>，标准的健全性检查都是隐式自动运行的，每次对代码做一些修改时，你不必在命令行上手动运行任何标准命令。</p><pre class="ns nt nu nv gt nw na nx ny aw nz bi"><span id="da81" class="ng lf it na b gy oa ob l oc od">{ <br/>    "name": "your-package-name", <br/>    "devDependencies": { <br/>           "standard": "*" <br/>    }, <br/>    "scripts": { <br/>           "test": "standard &amp;&amp; node your-test.js" <br/>    } <br/>}</span></pre><p id="f920" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，您可以搜索市场来查找特定于您的代码编辑器的可用StandardJS插件。有关这方面的更多信息，请查看JavaScript标准风格官方文档。</p><p id="72a9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以，这就是这个有用的Javascript库。我希望本文提供的信息能够为您提供价值，并帮助您轻松地编写和维护代码。</p><figure class="ns nt nu nv gt ju"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="f84c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有用的资源:</p><ul class=""><li id="a7bf" class="mo mp it ki b kj kk kn ko kr mq kv mr kz ms ld mt mu mv mw bi translated"><a class="ae kf" href="https://standardjs.com/" rel="noopener ugc nofollow" target="_blank"> JavaScript标准样式官方文档</a></li></ul></div><div class="ab cl oi oj hx ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="im in io ip iq"><p id="222c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">【https://www.theimmigrantprogrammers.com】最初发表于<a class="ae kf" href="https://www.theimmigrantprogrammers.com/p/error-free-code-is-not-just-a-dream" rel="noopener ugc nofollow" target="_blank"><em class="mh"/></a><em class="mh">。</em></p></div></div>    
</body>
</html>