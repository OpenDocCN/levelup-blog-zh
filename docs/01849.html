<html>
<head>
<title>You’re Not My (Data) Type: An Intro to TypeScript — Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你不是我的(数据)类型:TypeScript介绍—第1部分</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/youre-not-my-data-type-an-intro-to-typescript-38dab9cdc90a?source=collection_archive---------10-----------------------#2020-02-02">https://levelup.gitconnected.com/youre-not-my-data-type-an-intro-to-typescript-38dab9cdc90a?source=collection_archive---------10-----------------------#2020-02-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/e4b36b252c144180687de9a2d14c75b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7QwRdAxb9Q8wejjQJiFJsQ.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">TypeScript是JavaScript的超集</figcaption></figure><p id="c6e4" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">如果您以前曾经使用或编写过API，您会知道正确使用它的一个重要部分是理解响应中的数据。为了处理数据，您需要理解它进入的<strong class="kh iu">形状</strong>，以及该形状内的<strong class="kh iu">数据类型</strong>。TypeScript允许我们预先确定数据的形状和类型，以便<strong class="kh iu">避免错误</strong>并让<strong class="kh iu">组织代码</strong>。</p><p id="fdbb" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">TypeScript是JavaScript的超集，所以任何有效的JavaScript也是有效的TypeScript。这也意味着它<strong class="kh iu">必须被编译</strong>成常规的JavaScript，浏览器或节点才能运行它。由于TypeScript在运行之前告诉我们的代码我们期望什么数据类型，它<strong class="kh iu"> </strong>通过更早地捕捉错误来节省时间。这使得我们的代码<strong class="kh iu">更加可预测和可读</strong>。</p><p id="eb61" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">这听起来可能令人困惑，但我们可以简单地将TypeScript视为帮助我们编写更好代码的工具。我们的类型脚本与编译后的JavaScript不会有太大的不同。</p><h2 id="2975" class="ld le it bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated">JavaScript中的类型</h2><p id="e3fb" class="pw-post-body-paragraph kf kg it kh b ki lw kk kl km lx ko kp kq ly ks kt ku lz kw kx ky ma la lb lc im bi translated">JavaScript是<strong class="kh iu"> <em class="mb">动态类型化</em> </strong>，也就是说可以声明变量，而不需要将变量限制在特定的数据类型。如果您忘记了，JavaScript有8种不同的原始数据类型，由<a class="ae mc" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures" rel="noopener ugc nofollow" target="_blank"> MDN </a>指定:</p><figure class="me mf mg mh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi md"><img src="../Images/dd8ab9b6cc4b49fc0b54a0c4e81fcff7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D6xcdRfdGN3VKJ3hMARXOg.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">原始数据类型</figcaption></figure><p id="dab7" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">在这篇文章中，我们将使用一些原始数据类型和一些数据结构。</p><h2 id="528d" class="ld le it bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated">编译成JavaScript</h2><p id="95a7" class="pw-post-body-paragraph kf kg it kh b ki lw kk kl km lx ko kp kq ly ks kt ku lz kw kx ky ma la lb lc im bi translated">为了使用TypeScript，我们所要做的就是安装npm包。如果你想在你的机器上全局安装它，你可以使用<code class="fe mi mj mk ml b">-g</code>标志。否则，在您选择的启用npm的回购中运行它，而不使用<code class="fe mi mj mk ml b">-g</code>。</p><pre class="me mf mg mh gt mm ml mn mo aw mp bi"><span id="32bb" class="ld le it ml b gy mq mr l ms mt">npm install -g typescript</span></pre><p id="a6ed" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">为了编译我们的TypeScript，我们需要运行一个命令— <code class="fe mi mj mk ml b">tsc</code>或TypeScript编译器。</p><pre class="me mf mg mh gt mm ml mn mo aw mp bi"><span id="7486" class="ld le it ml b gy mq mr l ms mt">tsc your-typescript-file.ts </span></pre><p id="2d46" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">TypeScript可以集成到您的构建工具中，并与框架一起使用，但是最简单的入门方法是在命令行中自己编译它。<em class="mb">注意:我将使用VSCode来演示，因为它与TypeScript有很好的集成——我强烈推荐使用它！</em></p><h1 id="2ef8" class="mu le it bd lf mv mw mx li my mz na ll nb nc nd lo ne nf ng lr nh ni nj lu nk bi translated">建立原始类型</h1><p id="adb1" class="pw-post-body-paragraph kf kg it kh b ki lw kk kl km lx ko kp kq ly ks kt ku lz kw kx ky ma la lb lc im bi translated">我们将从一个简单的web页面开始，它接受两个数字，一个可选的字符串，并返回这两个数字相加后的结果，不管有没有字符串。尝试下面代码笔中的功能。</p><figure class="me mf mg mh gt ju"><div class="bz fp l di"><div class="nl nm l"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">非工作网页。</figcaption></figure><p id="ffb5" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">看起来我们在从输入中提取值时忘记了解析整数，所以我们得到的只是字符串连接。我们没有得到任何错误，因为我们的代码在语义上是正确的——我们不得不等到运行代码时才发现有问题。让我们看看在这种情况下TypeScript将如何帮助我们。</p><figure class="me mf mg mh gt ju"><div class="bz fp l di"><div class="nn nm l"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">正确键入的代码</figcaption></figure><p id="0bf2" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们先分解一下add函数。我们现在告诉我们的add函数，希望我们传递给它的所有变量都是特定的类型——它希望<code class="fe mi mj mk ml b">thing1</code>和<code class="fe mi mj mk ml b">thing2</code>是数字，<code class="fe mi mj mk ml b">phrase</code>是字符串，<code class="fe mi mj mk ml b">showString</code>应该是布尔值。现在，当我们试图编译这段代码时，TypeScript会给出以下错误:</p><figure class="me mf mg mh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi no"><img src="../Images/8f9d15534dc7de0cf6f3e54b6692d300.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sZIMD4ADNlgqvfLSwYywdg.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">看看这些精彩的错误！</figcaption></figure><p id="5138" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">TypeScript告诉我们错误所在的确切行，以及错误是什么。太神奇了！我们需要做的就是在传递给我们的add函数时添加<code class="fe mi mj mk ml b">parseInt</code>。</p><figure class="me mf mg mh gt ju"><div class="bz fp l di"><div class="nl nm l"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">上面代码笔的工作版本。</figcaption></figure><h2 id="51c5" class="ld le it bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated">HTML元素类型</h2><p id="3433" class="pw-post-body-paragraph kf kg it kh b ki lw kk kl km lx ko kp kq ly ks kt ku lz kw kx ky ma la lb lc im bi translated">当我们为上面的HTML元素声明变量时，我们在声明的末尾包含了<code class="fe mi mj mk ml b">! as HTMLXElement</code>。TypeScript还内置了HTML元素的类型，以确保您不会对这些元素进行任何非法操作。例如，如果我们试图在上面的代码中调用<code class="fe mi mj mk ml b">answer.value</code>，TypeScript会给我们一个错误，因为<code class="fe mi mj mk ml b">value</code>从未在<code class="fe mi mj mk ml b">span</code>元素上使用过。DOM类型化是一个更高级的主题，所以我在这里不深入讨论，但是查看页面底部的参考资料可以获得更多信息。</p><h1 id="4615" class="mu le it bd lf mv mw mx li my mz na ll nb nc nd lo ne nf ng lr nh ni nj lu nk bi translated">对象和数据结构类型</h1><p id="80c1" class="pw-post-body-paragraph kf kg it kh b ki lw kk kl km lx ko kp kq ly ks kt ku lz kw kx ky ma la lb lc im bi translated">既然我们已经讨论了一些基本类型，让我们继续讨论结构类型。TypeScript允许我们提前定义对象和数组的外观。请记住，在JavaScript中，调用对象的未知属性只会导致<code class="fe mi mj mk ml b">undefined</code>，而不会抛出错误。</p><figure class="me mf mg mh gt ju"><div class="bz fp l di"><div class="nn nm l"/></div></figure><p id="a4b5" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">在上面代码的顶部，我们定义了一个对象，并将其保存到变量<code class="fe mi mj mk ml b">Person</code>。在定义对象之前，我们使用TypeScript来定义对象将具有哪些键，以及这些键值需要的类型。现在，如果我们试图将字符串“24”赋给年龄值，我们会得到一个错误。<em class="mb">注意:VSCode的另一个好处是，通过代码突出显示，我们甚至可以在编译之前立即得到错误。甚至更快的错误检查！</em></p><figure class="me mf mg mh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi np"><img src="../Images/6566fc384000f70bf9a7280bcc74895e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7LF7JKP6JDdUqgKcoja_cg.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">突出显示对象的错误类型分配错误</figcaption></figure><p id="665b" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们还必须定义我们的<code class="fe mi mj mk ml b">hobbies</code>数组可以容纳的类型。</p><figure class="me mf mg mh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nq"><img src="../Images/e5cfee1a0f8453966be6fd285ff0e8c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eHy5MYUdj41hDFk-k7BG2g.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">用数组突出显示错误的类型赋值错误</figcaption></figure><p id="1534" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">如果您试图在对象定义后不正确地对其进行变异，也会发生这些错误:</p><figure class="me mf mg mh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nr"><img src="../Images/1502cf533f0f89422cc3c11e29097dc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EaSgMv3sYqhFaqZ2Crh-WQ.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">突出显示对象的错误类型分配错误</figcaption></figure><figure class="me mf mg mh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ns"><img src="../Images/f4582bafb6103050efada29620f61066.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K0s96m7jYfF7fcYE0MfZ6A.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">突出显示对象的错误类型分配错误</figcaption></figure><p id="17e5" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">如果我们试图添加另一个没有预定义的键值对，我们也会得到一个错误。</p><figure class="me mf mg mh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nt"><img src="../Images/bd5816a5285a257ef615fd0b2da5f78f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tWHZSTI_6Q5xAbJVbahpyw.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">突出显示对象的额外键值错误</figcaption></figure><p id="a12f" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">当您知道对象或数组需要的形状时，预定义您的结构会很方便，但是如果您需要向它们中的任何一个添加一些东西呢？每样东西都要更新两次，似乎有点繁琐；那不是很干。TypeScript可以通过<strong class="kh iu">类型推理来解决这个问题。</strong></p><h1 id="ce2d" class="mu le it bd lf mv mw mx li my mz na ll nb nc nd lo ne nf ng lr nh ni nj lu nk bi translated">类型推理</h1><p id="7861" class="pw-post-body-paragraph kf kg it kh b ki lw kk kl km lx ko kp kq ly ks kt ku lz kw kx ky ma la lb lc im bi translated">如果您没有为您的数据结构预定义类型，TypeScript可以从赋值中<strong class="kh iu">推断出</strong>类型。让我们看看VSCode中强调的要点的第二部分中的代码。</p><figure class="me mf mg mh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nu"><img src="../Images/e1f2d2cf7ad1866c2309fac667ecf55a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aEMrv3Zk2lxxnmdqTT5WGQ.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">突出显示类型推断的对象</figcaption></figure><p id="38ca" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">哇哦。TypeScript通过推理为我们完成了键入对象所有工作。现在我们可以添加另一个键-值对，而不用担心改变我们的定义。当您知道您的类型将相当简单时，这尤其有用。</p><h1 id="1f84" class="mu le it bd lf mv mw mx li my mz na ll nb nc nd lo ne nf ng lr nh ni nj lu nk bi translated">还有更多…</h1><p id="269b" class="pw-post-body-paragraph kf kg it kh b ki lw kk kl km lx ko kp kq ly ks kt ku lz kw kx ky ma la lb lc im bi translated">TypeScript是一种深度语言，具有许多改进JavaScript的特性。我已经在这篇博客中介绍了一些关于原始数据类型的基础知识。在<a class="ae mc" href="https://medium.com/@gianfranconuschese/youre-not-my-data-type-an-intro-to-typescript-part-2-b2001f9e2225" rel="noopener">的下一期</a>中，我将介绍类型脚本、函数类型和接口特有的类型。</p><h1 id="6284" class="mu le it bd lf mv mw mx li my mz na ll nb nc nd lo ne nf ng lr nh ni nj lu nk bi translated">资源</h1><div class="nv nw gp gr nx ny"><a href="https://medium.com/@gianfranconuschese/youre-not-my-data-type-an-intro-to-typescript-part-2-b2001f9e2225" rel="noopener follow" target="_blank"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd iu gy z fp od fr fs oe fu fw is bi translated">你不是我的(数据)类型:TypeScript介绍—第2部分</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">注意:这是我之前在这里写的博客的延续。如果你是打字新手，我高度…</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">medium.com</p></div></div><div class="oh l"><div class="oi l oj ok ol oh om jz ny"/></div></div></a></div><figure class="me mf mg mh gt ju"><div class="bz fp l di"><div class="on nm l"/></div></figure><div class="nv nw gp gr nx ny"><a href="https://medium.com/javascript-in-plain-english/typescript-61097f3b0dc4" rel="noopener follow" target="_blank"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd iu gy z fp od fr fs oe fu fw is bi translated">TypeScript:认识JavaScript的父代</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">什么是TypeScript以及为什么应该使用它。</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">medium.com</p></div></div><div class="oh l"><div class="oo l oj ok ol oh om jz ny"/></div></div></a></div><div class="nv nw gp gr nx ny"><a href="http://www.typescriptlang.org/docs/home.html" rel="noopener  ugc nofollow" target="_blank"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd iu gy z fp od fr fs oe fu fw is bi translated">已经熟悉TypeScript了？</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">编辑描述</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">www.typescriptlang.org</p></div></div></div></a></div><div class="nv nw gp gr nx ny"><a href="https://medium.com/@tomsu/typescript-tips-tricks-c8fdef998d50" rel="noopener follow" target="_blank"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd iu gy z fp od fr fs oe fu fw is bi translated">打字稿—提示和技巧</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">改进您的类型脚本代码的更多和更少为人所知的方法</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">medium.com</p></div></div><div class="oh l"><div class="op l oj ok ol oh om jz ny"/></div></div></a></div></div></div>    
</body>
</html>