<html>
<head>
<title>What’s New in Node 12</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">节点12中的新功能</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/whats-new-in-node-12-e00111ffb83f?source=collection_archive---------0-----------------------#2019-04-23">https://levelup.gitconnected.com/whats-new-in-node-12-e00111ffb83f?source=collection_archive---------0-----------------------#2019-04-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="af85" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">JavaScript运行时的Node.js 12特性和更新概述</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/9634c1dfe1297a0101db3f9543706120.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*4_n18FH8hRrvlLyRufD1sQ.png"/></div></figure><p id="2c3f" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated"><a class="ae lm" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> Node.js </a>在版本12(代号<code class="fe ln lo lp lq b">Erbium</code>)中继续其每年的发布周期。由于这是偶数版本，它将从2019年10月开始进入长期支持(LTS ),并于2022年4月达到其生命周期终点。</p><blockquote class="lr ls lt"><p id="5a9b" class="kq kr lu ks b kt ku ju kv kw kx jx ky lv la lb lc lw le lf lg lx li lj lk ll im bi translated">相比之下，奇数版本是非LTS版本，在LTS版本之间存在6-8个月。这些用于为下一个LTS版本做准备。</p></blockquote><p id="34c8" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">Node 12包含了强大的特性和对运行时的显著升级。此外，由于Node使用由Google维护并在Chrome中使用的<a class="ae lm" href="https://v8.dev/" rel="noopener ugc nofollow" target="_blank"> V8引擎</a>，Node也将从该引擎接收所有更新。</p><div class="ly lz gp gr ma mb"><a href="https://gitconnected.com/resume-builder" rel="noopener  ugc nofollow" target="_blank"><div class="mc ab fo"><div class="md ab me cl cj mf"><h2 class="bd iu gy z fp mg fr fs mh fu fw is bi translated">软件工程师简历生成器和示例| gitconnected</h2><div class="mi l"><h3 class="bd b gy z fp mg fr fs mh fu fw dk translated">一份有价值的简历模板，使用您个人资料中的详细信息构建。从你的投资组合网站链接到你的简历或…</h3></div><div class="mj l"><p class="bd b dl z fp mg fr fs mh fu fw dk translated">gitconnected.com</p></div></div><div class="mk l"><div class="ml l mm mn mo mk mp ko mb"/></div></div></a></div><h1 id="8d14" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">节点12功能</h1><h2 id="db75" class="ni mr it bd ms nj nk dn mw nl nm dp na kz nn no nc ld np nq ne lh nr ns ng nt bi translated">支持导入/导出语句(不需要捆绑器)</h2><p id="da6b" class="pw-post-body-paragraph kq kr it ks b kt nu ju kv kw nv jx ky kz nw lb lc ld nx lf lg lh ny lj lk ll im bi translated">节点12进入ECMAScript模块的<a class="ae lm" href="https://github.com/nodejs/modules/blob/master/doc/plan-for-new-modules-implementation.md#phase-3-path-to-stability-removing---experimental-modules-flag" rel="noopener ugc nofollow" target="_blank">阶段3，这对应于节点内部模块的稳定性路径。最初，它仍将在<code class="fe ln lo lp lq b">--experimental-modules</code>旗帜后面，计划在10月节点12进入LTS时移除旗帜。</a></p><p id="5ab2" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">自从在ES6中标准化以来，<code class="fe ln lo lp lq b">import</code> / <code class="fe ln lo lp lq b">export</code>语法已经成为JavaScript开发人员的首选模块语法，Node团队一直在努力使其成为本机语法。实验性支持始于Node 8.0的第0阶段，随着最新Node版本的发布，实验性支持迈出了重要的一步。所有主流浏览器<a class="ae lm" href="https://caniuse.com/#feat=es6-module" rel="noopener ugc nofollow" target="_blank">都通过<code class="fe ln lo lp lq b">&lt;script type="module"&gt;</code>支持</a> ECMAScript模块，所以这对Node来说是一个巨大的更新。</p><p id="2896" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">阶段3将支持来自es模块文件的3种类型的<code class="fe ln lo lp lq b">import</code>(适用于所有内置节点包):</p><pre class="kj kk kl km gt nz lq oa ob aw oc bi"><span id="91f9" class="ni mr it lq b gy od oe l of og">// default exports<br/>import module from 'module'</span><span id="ba5d" class="ni mr it lq b gy oh oe l of og">// named exports<br/>import { namedExport } from 'module'</span><span id="a702" class="ni mr it lq b gy oh oe l of og">// namespace exports<br/>import * as module from 'module'</span></pre><p id="0909" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">如果您从一个CommonJS包中<code class="fe ln lo lp lq b">import</code>，那么您只能使用默认的导出语法<code class="fe ln lo lp lq b">import module from 'cjs-library'</code>进行导入。</p><p id="f07d" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">您可以使用动态的<code class="fe ln lo lp lq b">import()</code>表达式在运行时加载文件。<code class="fe ln lo lp lq b">import()</code>语法返回一个<code class="fe ln lo lp lq b">Promise</code>并与ES模块和CommonJS库一起工作。</p><h2 id="54e4" class="ni mr it bd ms nj nk dn mw nl nm dp na kz nn no nc ld np nq ne lh nr ns ng nt bi translated">V8发动机</h2><p id="9146" class="pw-post-body-paragraph kq kr it ks b kt nu ju kv kw nv jx ky kz nw lb lc ld nx lf lg lh ny lj lk ll im bi translated">节点12最初将在V8 7.4上运行，并最终在其生命周期内升级到7.6。V8团队已经同意为这个系列提供ABI(应用程序二进制接口)稳定性。V8 7.4的显著改进是更快的JavaScript执行速度、更好的内存管理和更广泛的ECMAScript语法支持。</p><ul class=""><li id="6393" class="oi oj it ks b kt ku kw kx kz ok ld ol lh om ll on oo op oq bi translated">异步堆栈跟踪</li><li id="e31d" class="oi oj it ks b kt or kw os kz ot ld ou lh ov ll on oo op oq bi translated">更快地解析JavaScript</li><li id="8a0e" class="oi oj it ks b kt or kw os kz ot ld ou lh ov ll on oo op oq bi translated">参数不匹配时调用速度更快</li><li id="3e53" class="oi oj it ks b kt or kw os kz ot ld ou lh ov ll on oo op oq bi translated">更快<code class="fe ln lo lp lq b">await</code></li></ul><h2 id="c6f4" class="ni mr it bd ms nj nk dn mw nl nm dp na kz nn no nc ld np nq ne lh nr ns ng nt bi translated">私有类字段</h2><p id="7334" class="pw-post-body-paragraph kq kr it ks b kt nu ju kv kw nv jx ky kz nw lb lc ld nx lf lg lh ny lj lk ll im bi translated">节点12将带有私有类字段(由V8启用)。私有类字段变量只能在类内部访问，不能对外公开。私有类字段是通过在变量前加上<code class="fe ln lo lp lq b">#</code>符号来声明的。</p><pre class="kj kk kl km gt nz lq oa ob aw oc bi"><span id="8649" class="ni mr it lq b gy od oe l of og">class Greet {<br/>  #name = 'World';</span><span id="eae3" class="ni mr it lq b gy oh oe l of og">  get name() {<br/>    return this.#name;<br/>  }</span><span id="209b" class="ni mr it lq b gy oh oe l of og">  set name(name) {<br/>    this.#name = name;<br/>  }</span><span id="e75a" class="ni mr it lq b gy oh oe l of og">  sayHello() {<br/>    console.log(`Hello, ${this.#name}`);<br/>  }<br/>}</span></pre><p id="4b1e" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在上面的例子中，如果你试图在类之外访问<code class="fe ln lo lp lq b">#name</code>，你会收到一个语法错误。</p><pre class="kj kk kl km gt nz lq oa ob aw oc bi"><span id="5256" class="ni mr it lq b gy od oe l of og">const greet = new Greet()<br/>greet.#name = 'NewName';<br/>// -&gt; SyntaxError<br/>console.log(greet.#name)<br/>// -&gt; SyntaxError</span></pre><h2 id="22f2" class="ni mr it bd ms nj nk dn mw nl nm dp na kz nn no nc ld np nq ne lh nr ns ng nt bi translated">提高启动性能</h2><p id="85bc" class="pw-post-body-paragraph kq kr it ks b kt nu ju kv kw nv jx ky kz nw lb lc ld nx lf lg lh ny lj lk ll im bi translated">节点12将在构建之前为内置库构建代码缓存，并将其作为二进制文件嵌入。主线程能够使用这个代码缓存，将启动时间缩短了30%。</p><h2 id="1a67" class="ni mr it bd ms nj nk dn mw nl nm dp na kz nn no nc ld np nq ne lh nr ns ng nt bi translated">TLS和安全性</h2><p id="da3b" class="pw-post-body-paragraph kq kr it ks b kt nu ju kv kw nv jx ky kz nw lb lc ld nx lf lg lh ny lj lk ll im bi translated">节点现在支持<a class="ae lm" href="https://www.ietf.org/blog/tls13/" rel="noopener ugc nofollow" target="_blank"> TLS 1.3 </a>，这提供了更高的安全性和更低的延迟。TLS 1.3是对该协议的一个巨大更新，并且正在被积极地集成到整个web中。通过实施TLS 1.3，节点应用将增强最终用户隐私，同时通过减少HTTPS握手所需的时间来提高请求的性能。另外，TLS 1.0和1.1已经默认禁用，<code class="fe ln lo lp lq b">crypto</code>库已经移除了不推荐使用的函数。</p><h2 id="3c86" class="ni mr it bd ms nj nk dn mw nl nm dp na kz nn no nc ld np nq ne lh nr ns ng nt bi translated">堆大小的改进</h2><p id="485e" class="pw-post-body-paragraph kq kr it ks b kt nu ju kv kw nv jx ky kz nw lb lc ld nx lf lg lh ny lj lk ll im bi translated">以前使用的默认V8堆大小对应于700MB (32位系统)或1400MB (64位系统)。节点现在将根据可用内存确定堆大小，这将确保它不会使用超过允许的资源。</p><h2 id="6e84" class="ni mr it bd ms nj nk dn mw nl nm dp na kz nn no nc ld np nq ne lh nr ns ng nt bi translated">堆转储功能</h2><p id="d160" class="pw-post-body-paragraph kq kr it ks b kt nu ju kv kw nv jx ky kz nw lb lc ld nx lf lg lh ny lj lk ll im bi translated">Node 12提供了生成堆转储的能力，从而更容易调查内存问题。</p><h2 id="db17" class="ni mr it bd ms nj nk dn mw nl nm dp na kz nn no nc ld np nq ne lh nr ns ng nt bi translated">实验诊断报告</h2><p id="cfee" class="pw-post-body-paragraph kq kr it ks b kt nu ju kv kw nv jx ky kz nw lb lc ld nx lf lg lh ny lj lk ll im bi translated">Node通过提供实验性诊断报告功能，提高了诊断应用程序中的问题(性能、CPU使用率、内存、崩溃等)的能力。</p><h2 id="ed25" class="ni mr it bd ms nj nk dn mw nl nm dp na kz nn no nc ld np nq ne lh nr ns ng nt bi translated">本机模块N-API改进</h2><p id="b998" class="pw-post-body-paragraph kq kr it ks b kt nu ju kv kw nv jx ky kz nw lb lc ld nx lf lg lh ny lj lk ll im bi translated">N-API 的发布是为了提供一个更加稳定和本地的节点模块系统，通过在本地JavaScript APIs上提供一个ABI稳定的抽象来防止库在每次发布时崩溃。Node 12结合工作线程提供了对N-API的改进支持。</p><h2 id="2fc2" class="ni mr it bd ms nj nk dn mw nl nm dp na kz nn no nc ld np nq ne lh nr ns ng nt bi translated">其他显著改进</h2><ul class=""><li id="f048" class="oi oj it ks b kt nu kw nv kz ow ld ox lh oy ll on oo op oq bi translated">工作线程不再需要标志</li><li id="4810" class="oi oj it ks b kt or kw os kz ot ld ou lh ov ll on oo op oq bi translated"><code class="fe ln lo lp lq b">http</code>已经将其默认解析器更新为<a class="ae lm" href="https://llhttp.org/" rel="noopener ugc nofollow" target="_blank"> llhttp </a></li><li id="8780" class="oi oj it ks b kt or kw os kz ot ld ou lh ov ll on oo op oq bi translated"><code class="fe ln lo lp lq b">assert</code>验证所需的参数并调整松散的断言</li><li id="7f48" class="oi oj it ks b kt or kw os kz ot ld ou lh ov ll on oo op oq bi translated"><code class="fe ln lo lp lq b">buffer</code>改进使其更加稳定和安全</li><li id="e129" class="oi oj it ks b kt or kw os kz ot ld ou lh ov ll on oo op oq bi translated"><code class="fe ln lo lp lq b">async_hooks</code>删除不推荐使用的功能</li><li id="7d68" class="oi oj it ks b kt or kw os kz ot ld ou lh ov ll on oo op oq bi translated">制造<code class="fe ln lo lp lq b">global.process</code>、<code class="fe ln lo lp lq b">global.Buffer</code>吸气剂来提高<code class="fe ln lo lp lq b">process</code></li><li id="31d3" class="oi oj it ks b kt or kw os kz ot ld ou lh ov ll on oo op oq bi translated"><code class="fe ln lo lp lq b">repl</code>的新欢迎信息</li></ul><h1 id="e33f" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">结论</h1><p id="2f6f" class="pw-post-body-paragraph kq kr it ks b kt nu ju kv kw nv jx ky kz nw lb lc ld nx lf lg lh ny lj lk ll im bi translated">Node团队非常努力地为Node和整个JS生态系统提供每年一次的更新，12版本没有让他们失望。完整的<code class="fe ln lo lp lq b">CHANGELOG</code>可以在GitHub 上找到<a class="ae lm" href="https://github.com/nodejs/node/blob/master/doc/changelogs/CHANGELOG_V12.md" rel="noopener ugc nofollow" target="_blank">以及</a><a class="ae lm" href="https://medium.com/@nodejs/introducing-node-js-12-76c41a1b3f3f" rel="noopener">官方发布文章</a>上的更多细节。</p><p id="864d" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">2019年已经是Node的大年，Node.js基金会与js基金会合并成立<a class="ae lm" href="https://openjsf.org/" rel="noopener ugc nofollow" target="_blank"> OpenJS基金会</a>。随着Node version 12的发布，我们继续了JavaScript激动人心的一年。</p></div><div class="ab cl oz pa hx pb" role="separator"><span class="pc bw bk pd pe pf"/><span class="pc bw bk pd pe pf"/><span class="pc bw bk pd pe"/></div><div class="im in io ip iq"><div class="kj kk kl km gt mb"><a href="https://gitconnected.com/learn/node-js" rel="noopener  ugc nofollow" target="_blank"><div class="mc ab fo"><div class="md ab me cl cj mf"><h2 class="bd iu gy z fp mg fr fs mh fu fw is bi translated">学习Node.js -最佳Node.js教程(2019) | gitconnected</h2><div class="mi l"><h3 class="bd b gy z fp mg fr fs mh fu fw dk translated">前33个Node.js教程-免费学习Node.js。课程由开发人员提交和投票，使您能够…</h3></div><div class="mj l"><p class="bd b dl z fp mg fr fs mh fu fw dk translated">gitconnected.com</p></div></div><div class="mk l"><div class="pg l mm mn mo mk mp ko mb"/></div></div></a></div></div></div>    
</body>
</html>