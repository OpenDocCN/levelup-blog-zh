<html>
<head>
<title>How to Build a JavaScript Barcode Scanner with Tesseract.js OCR</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Tesseract.js OCR构建JavaScript条形码扫描仪</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-empower-javascript-barcode-scan-with-tesseract-js-ocr-173b2c2fc54a?source=collection_archive---------5-----------------------#2020-02-19">https://levelup.gitconnected.com/how-to-empower-javascript-barcode-scan-with-tesseract-js-ocr-173b2c2fc54a?source=collection_archive---------5-----------------------#2020-02-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="b58e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">之前，我分享了一篇文章，演示了如何使用Tesseract Python OCR来<a class="ae ko" href="https://www.codepool.biz/tesseract-ocr-python-barcode.html" rel="noopener ugc nofollow" target="_blank">识别1D条形码的随附文本</a>。在本文中，我将把编程语言改为JavaScript，创建一个与Tesseract JavaScript OCR集成的JavaScript条形码扫描应用程序。</p><h1 id="2b15" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">如何使用JavaScript OCR识别1D条形码文本</h1><p id="3e2c" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">当我们在谷歌中搜索“JavaScript OCR”时，返回的第一个结果是<a class="ae ko" href="https://github.com/naptha/tesseract.js" rel="noopener ugc nofollow" target="_blank"> Tesseract.js </a>，这是一个js包装器，用<a class="ae ko" href="https://github.com/emscripten-core/emscripten" rel="noopener ugc nofollow" target="_blank"> Emscripten </a>(一个将C/C++编译成WebAssembly的工具)构建，用于<a class="ae ko" href="https://github.com/tesseract-ocr/tesseract" rel="noopener ugc nofollow" target="_blank"> Tesseract OCR引擎</a>。</p><p id="9009" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">安装Tesseract.js:</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="8210" class="mb kq it lx b gy mc md l me mf">npm install tesseract.js</span></pre><p id="09d7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要开始使用Tesseract.js，我们可以学习例子<a class="ae ko" href="https://github.com/naptha/tesseract.js/tree/master/examples" rel="noopener ugc nofollow" target="_blank">https://github.com/naptha/tesseract.js/tree/master/examples</a>。</p><p id="4ebd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是，您可能会发现所有示例在第一次运行时都需要很长时间。原因是如果没有语言训练数据存在，它将触发下载。根据<a class="ae ko" href="https://github.com/jeromewu/tesseract.js-offline" rel="noopener ugc nofollow" target="_blank"> tesseract.js-offline </a>我们可以手动下载数据文件，定义本地数据路径，让app离线工作。</p><p id="4c27" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">节点:</p><figure class="ls lt lu lv gt mg"><div class="bz fp l di"><div class="mh mi l"/></div></figure><p id="c3aa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">网络浏览器:</p><figure class="ls lt lu lv gt mg"><div class="bz fp l di"><div class="mh mi l"/></div></figure><p id="31ae" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我得到了一张测试图像:</p><figure class="ls lt lu lv gt mg gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/d7b30cb55af4763218e16fedfd8f6710.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/0*aafqn5SMDHh5ovxS.png"/></div></figure><p id="5607" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">结果如下:</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="5aec" class="mb kq it lx b gy mc md l me mf">(IMTANMUEARRMAD <br/>3 1383 09602 2010</span></pre><p id="0f46" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">因为我使用的是1D条形码的OCR，所以预期的结果应该只包含数字。我们可以通过设置一个<a class="ae ko" href="https://github.com/naptha/tesseract.js/blob/master/docs/api.md#worker-set-parameters" rel="noopener ugc nofollow" target="_blank">字符白名单</a>来过滤返回的字符:</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="4a13" class="mb kq it lx b gy mc md l me mf">await worker.setParameters({</span><span id="b668" class="mb kq it lx b gy mm md l me mf">    tessedit_char_whitelist: '0123456789',</span><span id="c3a1" class="mb kq it lx b gy mm md l me mf">});</span></pre><p id="398a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">重新运行应用程序:</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="096e" class="mb kq it lx b gy mc md l me mf">101011191 1 1 1111 111 11 1 41 111 1 11 11 111 11 1 11 31383096022010</span></pre><p id="9982" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">虽然结果只包含数字，但还是不理想。也许我们可以改变训练数据来改善结果。访问<a class="ae ko" href="https://github.com/naptha/tessdata" rel="noopener ugc nofollow" target="_blank"> tessdata </a>以获得更高OCR准确度的数据。替换<strong class="js iu">eng.traineddata.gz</strong>文件后，我得到了预期的结果:</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="777a" class="mb kq it lx b gy mc md l me mf">31383096022010</span></pre><h1 id="61db" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">如何实现一个JavaScript条形码阅读器</h1><p id="5f47" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">Dynamsoft将C/C++条码库编译成WebAssembly模块，方便开发Node.js和web浏览器的高性能JavaScript条码app。现在，让我们创建JavaScript条形码阅读器应用程序，并使用JavaScript OCR来验证条形码结果。</p><h1 id="34ea" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">结节</h1><p id="2526" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">安装软件包:</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="7495" class="mb kq it lx b gy mc md l me mf">npm install dynamsoft-node-barcode</span></pre><p id="77b8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">解码Node.js中的条形码:</p><figure class="ls lt lu lv gt mg"><div class="bz fp l di"><div class="mh mi l"/></div></figure><p id="d951" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在命令行工具中运行应用程序:</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="41ba" class="mb kq it lx b gy mc md l me mf">node index.js</span></pre><figure class="ls lt lu lv gt mg gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/cc5ef2fc116989eb7a6fe525e802a74e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/0*NvHWMz00JQK8s_JH.png"/></div></figure><h1 id="3ab7" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">网</h1><p id="f061" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">安装软件包:</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="afad" class="mb kq it lx b gy mc md l me mf">npm install dynamsoft-javascript-barcode</span></pre><p id="2a78" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在web应用程序中读取条形码:</p><figure class="ls lt lu lv gt mg"><div class="bz fp l di"><div class="mh mi l"/></div></figure><p id="5c24" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">运行web应用程序:</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="3b81" class="mb kq it lx b gy mc md l me mf">npx http-server .</span></pre><figure class="ls lt lu lv gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mo"><img src="../Images/64ae4d63449396b80747ca1f96b6e77e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1d7sgm8UYQOsV3LQ.png"/></div></div></figure><p id="1f64" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">很高兴看到JavaScript OCR结果与条形码结果相匹配。如果您的条形码SDK有时无法读取1D条形码，请尝试OCR来识别附带的文本。</p><h1 id="0b88" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">源代码</h1><p id="b162" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated"><a class="ae ko" href="https://github.com/yushulx/javascript-barcode-ocr" rel="noopener ugc nofollow" target="_blank">https://github.com/yushulx/javascript-barcode-ocr</a></p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><p id="7fcb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="na">原载于2020年2月19日</em><a class="ae ko" href="https://www.codepool.biz/javascript-barcode-scan-ocr-text.html" rel="noopener ugc nofollow" target="_blank"><em class="na">https://www . code pool . biz</em></a><em class="na">。</em></p></div></div>    
</body>
</html>