<html>
<head>
<title>How to Remove Default Example DAGs from Airflow</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何从气流中移除默认示例Dag</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/remove-example-dags-airflow-be2db01ccfc2?source=collection_archive---------14-----------------------#2022-12-30">https://levelup.gitconnected.com/remove-example-dags-airflow-be2db01ccfc2?source=collection_archive---------14-----------------------#2022-12-30</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="a002" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">从Apache Airflow UI中删除示例Dag</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/649a65c5a7ba242fecd95611a28a9576.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5OQ8Hk_hotwRHXzemn5cZg.jpeg"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">在<a class="ae kz" href="https://unsplash.com/s/photos/lego?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae kz" href="https://unsplash.com/@danielkcheung?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">张志勇</a>拍摄的照片</figcaption></figure><p id="436a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">Airflow是一个流行的面向批处理的工作流编排器，近年来越来越受欢迎。<a class="ae kz" href="https://towardsdatascience.com/run-airflow-docker-1b83a57616fb" rel="noopener" target="_blank">设置气流非常简单</a>。启动Airflow时，您可能会注意到在Airflow用户界面上可以看到一些示例Dag。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj lw"><img src="../Images/af1ee32608481d92cd5412d6a1610a15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*o7qfhdw4H8eqye9C.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">气流界面上的DAGs示例—来源:作者</figcaption></figure><p id="816b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">一旦您熟悉了该工具，您可能希望删除这些示例，并开始创建自己的管道和Dag。</p><p id="cfcc" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在本教程中，我们将向您展示如何禁用示例Dag在气流中的加载</p></div><div class="ab cl lx ly hy lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="in io ip iq ir"><h2 id="a087" class="me mf iu bd mg mh mi dn mj mk ml dp mm lj mn mo mp ln mq mr ms lr mt mu mv mw bi translated">禁用airflow.cfg文件中的示例Dag</h2><p id="7cab" class="pw-post-body-paragraph la lb iu lc b ld mx jv lf lg my jy li lj mz ll lm ln na lp lq lr nb lt lu lv in bi translated"><code class="fe nc nd ne nf b">airflow.cfg</code>文件是用于运行Airflow实例的配置的容器。如果您想禁止Airflow加载示例Dag，您只需在文件的<code class="fe nc nd ne nf b">core</code>部分包含以下配置选项:</p><pre class="kk kl km kn gu ng nf nh bn ni nj bi"><span id="a10e" class="nk mf iu nf b be nl nm l nn no">[core]<br/>load_examples = False</span></pre></div><div class="ab cl lx ly hy lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="in io ip iq ir"><h2 id="2996" class="me mf iu bd mg mh mi dn mj mk ml dp mm lj mn mo mp ln mq mr ms lr mt mu mv mw bi translated">禁用docker-compose中的示例Dag</h2><p id="1b6a" class="pw-post-body-paragraph la lb iu lc b ld mx jv lf lg my jy li lj mz ll lm ln na lp lq lr nb lt lu lv in bi translated">如果使用Docker运行Airflow，可以通过设置<code class="fe nc nd ne nf b">AIRFLOW__CORE__LOAD_EXAMPLES</code>环境变量的值来禁用示例Dag。在<code class="fe nc nd ne nf b">docker-compose.yml</code>文件中的<code class="fe nc nd ne nf b">environment</code>键下:</p><pre class="kk kl km kn gu ng nf nh bn ni nj bi"><span id="e7ec" class="nk mf iu nf b be nl nm l nn no">version: '3'<br/>x-airflow-common:<br/>  &amp;airflow-common<br/>  image: apache/airflow:2.3.0<br/>  environment:<br/>    - AIRFLOW__CORE__LOAD_EXAMPLES=False<br/><br/># Additional configuration goes here ...<br/></span></pre></div><div class="ab cl lx ly hy lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="in io ip iq ir"><h2 id="2827" class="me mf iu bd mg mh mi dn mj mk ml dp mm lj mn mo mp ln mq mr ms lr mt mu mv mw bi translated">从气流数据库中删除示例Dag</h2><p id="475f" class="pw-post-body-paragraph la lb iu lc b ld mx jv lf lg my jy li lj mz ll lm ln na lp lq lr nb lt lu lv in bi translated"><a class="ae kz" href="https://towardsdatascience.com/apache-airflow-architecture-496b9cb28288" rel="noopener" target="_blank"> Airflow需要一个数据库后端</a>，由调度程序、执行器和web服务器使用，以便存储它们的状态。该数据库包括一个名为<code class="fe nc nd ne nf b">dags</code>的表，该表包含所有Dag，包括启动时加载的示例Dag。</p><p id="3b85" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">因此，您甚至可以访问数据库并手动删除示例Dag，以便它们不再由气流加载。</p></div><div class="ab cl lx ly hy lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="in io ip iq ir"><h2 id="78f3" class="me mf iu bd mg mh mi dn mj mk ml dp mm lj mn mo mp ln mq mr ms lr mt mu mv mw bi translated">最后的想法</h2><p id="f311" class="pw-post-body-paragraph la lb iu lc b ld mx jv lf lg my jy li lj mz ll lm ln na lp lq lr nb lt lu lv in bi translated">在Airflow启动时，将加载一些示例有向无环图，旨在让新用户开始使用orchestrator。如果您不再需要它们，您可以修改当前配置，以禁止气流加载它们。</p><p id="359a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在本文中，我们展示了几种不同的方法；通过修改<code class="fe nc nd ne nf b">airflow.cfg</code>文件、设置相应的环境变量或直接从气流数据库中删除它们。</p></div><div class="ab cl lx ly hy lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="in io ip iq ir"><p id="1b77" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><a class="ae kz" href="https://gmyrianthous.medium.com/membership" rel="noopener"> <strong class="lc iv">成为会员</strong> </a> <strong class="lc iv">阅读介质上的每一个故事。你的会员费直接支持我和你看的其他作家。你也可以在媒体上看到所有的故事。</strong></p><div class="np nq gq gs nr ns"><a href="https://gmyrianthous.medium.com/membership" rel="noopener follow" target="_blank"><div class="nt ab fp"><div class="nu ab nv cl cj nw"><h2 class="bd iv gz z fq nx fs ft ny fv fx it bi translated">通过我的推荐链接加入Medium-Giorgos Myrianthous</h2><div class="nz l"><h3 class="bd b gz z fq nx fs ft ny fv fx dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="oa l"><p class="bd b dl z fq nx fs ft ny fv fx dk translated">gmyrianthous.medium.com</p></div></div><div class="ob l"><div class="oc l od oe of ob og kt ns"/></div></div></a></div></div><div class="ab cl lx ly hy lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="in io ip iq ir"><p id="676e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv">相关文章你可能也喜欢</strong></p><div class="np nq gq gs nr ns"><a href="https://towardsdatascience.com/hashicorp-vault-airflow-cfdddab31ea" rel="noopener follow" target="_blank"><div class="nt ab fp"><div class="nu ab nv cl cj nw"><h2 class="bd iv gz z fq nx fs ft ny fv fx it bi translated">如何用气流设置HashiCorp保险库</h2><div class="nz l"><h3 class="bd b gz z fq nx fs ft ny fv fx dk translated">将HashiCorp Vault与Apache Airflow集成</h3></div><div class="oa l"><p class="bd b dl z fq nx fs ft ny fv fx dk translated">towardsdatascience.com</p></div></div><div class="ob l"><div class="oh l od oe of ob og kt ns"/></div></div></a></div></div><div class="ab cl lx ly hy lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu ns"><a href="https://towardsdatascience.com/apache-airflow-architecture-496b9cb28288" rel="noopener follow" target="_blank"><div class="nt ab fp"><div class="nu ab nv cl cj nw"><h2 class="bd iv gz z fq nx fs ft ny fv fx it bi translated">阿帕奇气流架构</h2><div class="nz l"><h3 class="bd b gz z fq nx fs ft ny fv fx dk translated">深入探讨Apache Airflow架构及其如何编排工作流</h3></div><div class="oa l"><p class="bd b dl z fq nx fs ft ny fv fx dk translated">towardsdatascience.com</p></div></div><div class="ob l"><div class="oi l od oe of ob og kt ns"/></div></div></a></div></div><div class="ab cl lx ly hy lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu ns"><a href="https://towardsdatascience.com/airflow-dags-decorators-b5dc03c76f07" rel="noopener follow" target="_blank"><div class="nt ab fp"><div class="nu ab nv cl cj nw"><h2 class="bd iv gz z fq nx fs ft ny fv fx it bi translated">使用气流装饰器创作Dag</h2><div class="nz l"><h3 class="bd b gz z fq nx fs ft ny fv fx dk translated">用Python decorators创作Apache Airflow DAGs和任务</h3></div><div class="oa l"><p class="bd b dl z fq nx fs ft ny fv fx dk translated">towardsdatascience.com</p></div></div><div class="ob l"><div class="oj l od oe of ob og kt ns"/></div></div></a></div></div></div>    
</body>
</html>