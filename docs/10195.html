<html>
<head>
<title>TypeScript, Part 2: Adding TypeScript to Your Application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TypeScript，第2部分:向应用程序添加TypeScript</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/typescript-part-2-adding-typescript-to-your-application-cabdc7d70cae?source=collection_archive---------10-----------------------#2021-11-04">https://levelup.gitconnected.com/typescript-part-2-adding-typescript-to-your-application-cabdc7d70cae?source=collection_archive---------10-----------------------#2021-11-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/4bd5553770b33db8fe09313ffd7dc5ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GVvYQL6IQicSSIfFtHfYbA.jpeg"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">在<a class="ae jg" href="https://unsplash.com/s/photos/mixing-bowl?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae jg" href="https://unsplash.com/@heftiba?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Toa Heftiba </a>拍摄的照片</figcaption></figure><div class=""/></div><div class="ab cl kg kh hx ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="im in io ip iq"><blockquote class="kn ko kp"><p id="5236" class="kq kr ks kt b ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">本文是TypeScript系列文章的一部分:</p><p id="33be" class="kq kr ks kt b ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated"><a class="ae jg" rel="noopener ugc nofollow" target="_blank" href="/typescript-part-1-an-introduction-b00ade194c4">打字稿，第一部分:简介</a></p><p id="61b0" class="kq kr ks kt b ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated"><strong class="kt jk"> TypeScript，第2部分:向应用程序添加TypeScript</strong></p><p id="f124" class="kq kr ks kt b ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated"><a class="ae jg" href="https://link.medium.com/XMFlJgDDSmb" rel="noopener"> TypeScript，第3部分:使用自定义类型</a></p></blockquote></div><div class="ab cl kg kh hx ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="im in io ip iq"><p id="f1f4" class="pw-post-body-paragraph kq kr jj kt b ku kv kw kx ky kz la lb lp ld le lf lq lh li lj lr ll lm ln lo im bi translated">毫不奇怪，TypeScript的核心是类型。在JavaScript中，从最基本的意义上来说，类型实际上只被认为是需要的。它们往往是我们的代码或上下文的结果，而不是结构和保真度的工具。正因为如此，我们要看的第一件事就是，在创建这个订单时，我们到底要用什么类型。但是很快，在我们开始之前…</p></div><div class="ab cl kg kh hx ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="im in io ip iq"><h1 id="4e0f" class="ls lt jj bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">安装TypeScript</h1><p id="623b" class="pw-post-body-paragraph kq kr jj kt b ku mq kw kx ky mr la lb lp ms le lf lq mt li lj lr mu lm ln lo im bi translated">TypeScript是一个<a class="ae jg" href="https://www.npmjs.com/package/typescript" rel="noopener ugc nofollow" target="_blank"> npm包</a>，您可以像安装任何其他依赖项一样将其安装在您的JavaScript应用程序中:</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="e21d" class="ne lt jj na b gy nf ng l nh ni">npm install typescript</span><span id="5a5b" class="ne lt jj na b gy nj ng l nh ni">/* or */</span><span id="1ef6" class="ne lt jj na b gy nj ng l nh ni">yarn add typescript</span></pre><p id="e98a" class="pw-post-body-paragraph kq kr jj kt b ku kv kw kx ky kz la lb lp ld le lf lq lh li lj lr ll lm ln lo im bi translated">除了安装包本身之外，使用TypeScript开发还需要一些其他的包。它们帮助Eslint、Jest和Node很好地使用TypeScript:</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="57a5" class="ne lt jj na b gy nf ng l nh ni">npm install @typescript-eslint/eslint-plugin @typescript-eslint/parser ts-jest ts-loader ts-node --dev</span><span id="780e" class="ne lt jj na b gy nj ng l nh ni">/* or */</span><span id="2ebb" class="ne lt jj na b gy nj ng l nh ni">yarn add @typescript-eslint/eslint-plugin @typescript-eslint/parser ts-jest ts-loader ts-node --dev</span></pre><p id="18fe" class="pw-post-body-paragraph kq kr jj kt b ku kv kw kx ky kz la lb lp ld le lf lq lh li lj lr ll lm ln lo im bi translated">如果您使用CRA来构建新的应用程序，您可以使用CRA类型脚本模板:</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="d2c7" class="ne lt jj na b gy nf ng l nh ni">npx create-react-app my-typescript-app --template typescript</span></pre></div><div class="ab cl kg kh hx ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="im in io ip iq"><h1 id="8a65" class="ls lt jj bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">你的标准类型</h1><p id="04ff" class="pw-post-body-paragraph kq kr jj kt b ku mq kw kx ky mr la lb lp ms le lf lq mt li lj lr mu lm ln lo im bi translated">安装完成后，我们现在可以访问TypeScript本机识别和支持的许多类型。这些中的大部分你应该很熟悉，我们将简单地谈谈那些可能不熟悉的。这些类型是:</p><ul class=""><li id="d5ea" class="nk nl jj kt b ku kv ky kz lp nm lq nn lr no lo np nq nr ns bi translated"><a class="ae jg" href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#the-primitives-string-number-and-boolean" rel="noopener ugc nofollow" target="_blank">布尔型</a></li><li id="f2bf" class="nk nl jj kt b ku nt ky nu lp nv lq nw lr nx lo np nq nr ns bi translated"><a class="ae jg" href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#the-primitives-string-number-and-boolean" rel="noopener ugc nofollow" target="_blank">编号</a></li><li id="a972" class="nk nl jj kt b ku nt ky nu lp nv lq nw lr nx lo np nq nr ns bi translated"><a class="ae jg" href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#the-primitives-string-number-and-boolean" rel="noopener ugc nofollow" target="_blank">字符串</a></li><li id="c4c6" class="nk nl jj kt b ku nt ky nu lp nv lq nw lr nx lo np nq nr ns bi translated"><a class="ae jg" href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#arrays" rel="noopener ugc nofollow" target="_blank">数组</a></li><li id="95be" class="nk nl jj kt b ku nt ky nu lp nv lq nw lr nx lo np nq nr ns bi translated"><a class="ae jg" href="https://www.typescriptlang.org/docs/handbook/2/objects.html#tuple-types" rel="noopener ugc nofollow" target="_blank">元组</a></li><li id="a49d" class="nk nl jj kt b ku nt ky nu lp nv lq nw lr nx lo np nq nr ns bi translated"><a class="ae jg" href="https://www.typescriptlang.org/docs/handbook/enums.html" rel="noopener ugc nofollow" target="_blank">枚举</a></li><li id="a5b2" class="nk nl jj kt b ku nt ky nu lp nv lq nw lr nx lo np nq nr ns bi translated">未知的</li><li id="1114" class="nk nl jj kt b ku nt ky nu lp nv lq nw lr nx lo np nq nr ns bi translated"><a class="ae jg" href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#any" rel="noopener ugc nofollow" target="_blank">任何一个</a></li><li id="8066" class="nk nl jj kt b ku nt ky nu lp nv lq nw lr nx lo np nq nr ns bi translated">空的</li><li id="5fbb" class="nk nl jj kt b ku nt ky nu lp nv lq nw lr nx lo np nq nr ns bi translated"><a class="ae jg" href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#functions" rel="noopener ugc nofollow" target="_blank">功能</a></li><li id="947c" class="nk nl jj kt b ku nt ky nu lp nv lq nw lr nx lo np nq nr ns bi translated">承诺</li><li id="8c63" class="nk nl jj kt b ku nt ky nu lp nv lq nw lr nx lo np nq nr ns bi translated"><a class="ae jg" href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#null-and-undefined" rel="noopener ugc nofollow" target="_blank">空且未定义</a></li><li id="4213" class="nk nl jj kt b ku nt ky nu lp nv lq nw lr nx lo np nq nr ns bi translated"><a class="ae jg" href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#object-types" rel="noopener ugc nofollow" target="_blank">对象</a></li></ul><p id="cd6a" class="pw-post-body-paragraph kq kr jj kt b ku kv kw kx ky kz la lb lp ld le lf lq lh li lj lr ll lm ln lo im bi translated">我会假设boolean，number，string，array，null/undefined，function和promise都是可识别的。其他的我们将在下面深入讨论(我认为对象也是可以识别的，但是它没有你想象的那么简单，所以我把它留在这里简单介绍一下)。</p><h2 id="533c" class="ne lt jj bd lu ny nz dn ly oa ob dp mc lp oc od mg lq oe of mk lr og oh mo oi bi translated">元组</h2><p id="4af5" class="pw-post-body-paragraph kq kr jj kt b ku mq kw kx ky mr la lb lp ms le lf lq mt li lj lr mu lm ln lo im bi translated">元组是一种指定长度的数组，其中每个位置都是指定的类型。例如，一个数组可能只知道它是一个字符串数组，长度可变，而一个元组总是知道它是一个位置为0的字符串数组，位置为1的数字数组，或者它的长度为3，每一项都是一个字符串。</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="90a8" class="ne lt jj na b gy nf ng l nh ni">['hello, world', 5]</span><span id="7b77" class="ne lt jj na b gy nj ng l nh ni">['John', 'Joe', 'Jake']</span></pre><h2 id="6b58" class="ne lt jj bd lu ny nz dn ly oa ob dp mc lp oc od mg lq oe of mk lr og oh mo oi bi translated">列举型别</h2><p id="6605" class="pw-post-body-paragraph kq kr jj kt b ku mq kw kx ky mr la lb lp ms le lf lq mt li lj lr mu lm ln lo im bi translated">枚举是一种表示一组命名常数的类型。在您希望允许一个值不是任何字符串，而是一组预定义的字符串中的一个时，这些非常有用。想想某样东西的具体高度，或者指南针的方向。在创建枚举时，您减少了人为错误，创建了一致性，并增加了值<em class="ks">实际上应该是什么</em>的清晰度。我们更接近事物的真实世界。名称输入实际上应该只是一个字符串。但是作为一种价值观，指南针的方向与一个人的名字截然不同。</p><p id="0752" class="pw-post-body-paragraph kq kr jj kt b ku kv kw kx ky kz la lb lp ld le lf lq lh li lj lr ll lm ln lo im bi translated">默认情况下，枚举将为常量分配一个数值，从1开始。或者，每个常数都可以用字符串值初始化。</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="4abb" class="ne lt jj na b gy nf ng l nh ni">enum Level {<br/>   Low = 1,<br/>   Medium,<br/>   High,<br/>}</span><span id="aa15" class="ne lt jj na b gy nj ng l nh ni">enum Compass {<br/>   North = 'North',<br/>   South = 'South',<br/>   East = 'East',<br/>   West = 'West',<br/>}</span></pre><h2 id="0a31" class="ne lt jj bd lu ny nz dn ly oa ob dp mc lp oc od mg lq oe of mk lr og oh mo oi bi translated">任何的</h2><p id="841e" class="pw-post-body-paragraph kq kr jj kt b ku mq kw kx ky mr la lb lp ms le lf lq mt li lj lr mu lm ln lo im bi translated">任何变量都是显而易见的。它可以是任何东西。你可以用一个字符串值初始化它，然后把它重新赋值给一个数字，然后再把它变成一个函数。选项是无限的，这就是为什么<strong class="kt jk">我们不喜欢任何类型</strong>。any类型很少是正确的选择。在测试或故事书中，我有时会使用这种类型，但这只是因为我在代码中保留了非常严格的类型规则，有时在这些环境中这种折衷是值得的。但是any类型真的不应该用在您的应用程序代码中。这违背了TypeScript的整个目的，即通过了解每个值的类型来将混乱变得有序。</p><h2 id="2f60" class="ne lt jj bd lu ny nz dn ly oa ob dp mc lp oc od mg lq oe of mk lr og oh mo oi bi translated">未知的</h2><p id="0185" class="pw-post-body-paragraph kq kr jj kt b ku mq kw kx ky mr la lb lp ms le lf lq mt li lj lr mu lm ln lo im bi translated">一旦我们开始实现类型，未知类型可能会更有意义。但TypeScript的核心是，知道值的类型是什么以及将会是什么，会让您的生活更轻松。它减少了代码中的错误。然而，与真正的静态类型语言不同，JavaScript不是为了支持这一点而创建的。所以会有不知道类型是什么的时候，那我们怎么办？我们已经说过any类型是危险的，应该尽量少用。在这些情况下，我们希望找到未知类型，因为它不是像any类型那样说“嘿，这个变量可以是任何东西”，而是说“嘿，我还不知道这个变量是什么，但在我对它做任何事情之前，我想弄清楚”。</p><h2 id="0caa" class="ne lt jj bd lu ny nz dn ly oa ob dp mc lp oc od mg lq oe of mk lr og oh mo oi bi translated">空的</h2><p id="5a88" class="pw-post-body-paragraph kq kr jj kt b ku mq kw kx ky mr la lb lp ms le lf lq mt li lj lr mu lm ln lo im bi translated">void类型实际上只是用来表示函数不应该返回值。我们稍后将对此进行更深入的探讨。</p><h2 id="9f84" class="ne lt jj bd lu ny nz dn ly oa ob dp mc lp oc od mg lq oe of mk lr og oh mo oi bi translated">目标</h2><p id="8aa3" class="pw-post-body-paragraph kq kr jj kt b ku mq kw kx ky mr la lb lp ms le lf lq mt li lj lr mu lm ln lo im bi translated">对象类型与您想象的略有不同。正如TypeScript文档所说的那样—</p><blockquote class="kn ko kp"><p id="24cc" class="kq kr ks kt b ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">除了原语，你会遇到的最常见的类型是一个<em class="jj">对象类型</em>。这是指任何带有属性的JavaScript值，几乎是全部！要定义一个对象类型，我们只需列出它的属性和类型。</p></blockquote><p id="7805" class="pw-post-body-paragraph kq kr jj kt b ku kv kw kx ky kz la lb lp ld le lf lq lh li lj lr ll lm ln lo im bi translated">当你确切地知道你正在处理的对象时，对象类型是有帮助的，例如，确切的键和它们每个值的确切类型。</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="7f5f" class="ne lt jj na b gy nf ng l nh ni">/* declaring variable dog with type of specified object */</span><span id="6f0b" class="ne lt jj na b gy nj ng l nh ni">let dog: {<br/>   name: string;<br/>   age: number;<br/>   color: string;<br/>};</span><span id="604c" class="ne lt jj na b gy nj ng l nh ni">/* variable dog can now be assigned the keys and values of types specified in the declaration */</span><span id="d047" class="ne lt jj na b gy nj ng l nh ni">dog = {<br/>   name: 'Zuma',<br/>   age: 8,<br/>   color: 'black'<br/>};</span></pre><p id="065c" class="pw-post-body-paragraph kq kr jj kt b ku kv kw kx ky kz la lb lp ld le lf lq lh li lj lr ll lm ln lo im bi translated">在JavaScript中，更常见、更灵活的对象类型是<a class="ae jg" href="https://www.typescriptlang.org/docs/handbook/utility-types.html#recordkeys-type" rel="noopener ugc nofollow" target="_blank">记录类型</a>。记录类型表示一个对象，其中键是指定的类型，值是指定的类型，但没有指定文字键。</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="24da" class="ne lt jj na b gy nf ng l nh ni">let dog: Record&lt;string, string | number&gt;;</span><span id="c600" class="ne lt jj na b gy nj ng l nh ni">dog['name'] = 'Zuma';<br/>dog['age'] = 8;<br/>dog['color'] = 'black';<br/>dog['favorite toy'] = 'Gordie';<br/>dog['walks per day'] = 2;</span></pre></div><div class="ab cl kg kh hx ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="im in io ip iq"><p id="5705" class="pw-post-body-paragraph kq kr jj kt b ku kv kw kx ky kz la lb lp ld le lf lq lh li lj lr ll lm ln lo im bi translated">这些标准类型是您在TypeScript中工作的基础，但它们只是我们可以对类型做些什么的开始。在下一篇文章中，我们将讨论自定义类型、接口以及利用依赖关系中的类型。</p></div></div>    
</body>
</html>