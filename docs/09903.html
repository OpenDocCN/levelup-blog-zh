<html>
<head>
<title>Lombok: To use or not to use, that is the blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用或不用，那是博客</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/lombok-to-use-or-not-to-use-that-is-the-blog-e7a3a8f97e8f?source=collection_archive---------0-----------------------#2021-09-29">https://levelup.gitconnected.com/lombok-to-use-or-not-to-use-that-is-the-blog-e7a3a8f97e8f?source=collection_archive---------0-----------------------#2021-09-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="16c2" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如果你使用然后如何使用，那也是博客</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/4dcea603e9441143b553214bdbdb20a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jt34KK87zw10NOLYqU-CNQ.jpeg"/></div></div></figure><p id="5b6b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Project Lombok是一个java库，可以自动插入到您的编辑器和构建工具中，为您的Java增添趣味。再也不用编写另一个getter或equals方法了，有了一个注释，你的类就有了一个全功能的构建器，自动记录变量，等等。<br/> <a class="ae ln" href="https://projectlombok.org/" rel="noopener ugc nofollow" target="_blank"> —龙目岛队</a></p><p id="9fa6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Project Lombok是一个非常好的工具，可以让Java编码变得简单。对于那些说Java代码与Python相比非常大的开发者来说，这是一个很好的回答。Lombok帮助开发人员专注于实现，而不用担心编写模板代码并保持最终代码更短(相对而言😅).</p><p id="744c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">但是…现在大多数ide都支持生成锅炉板代码，那么我们为什么还需要Lombok呢？<br/>是的，虽然我们仍然可以在IDE中生成代码，但它仍然是一个样板代码，增加了总LOC，从而降低了代码的可读性和可维护性。</p><p id="7f59" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这篇文章中，我将讨论Lombok的一些神话、关键特性和实现细节。</p><h1 id="228f" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">揭秘神话</h1><p id="9699" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">当团队讨论在他们的应用程序中使用Lombok时，有一些共同的假设和理论。因此，在我们讨论实现之前，在本文中首先讨论它们也变得很重要。</p><ol class=""><li id="4ac8" class="ml mm iq kt b ku kv kx ky la mn le mo li mp lm mq mr ms mt bi translated">它增加了代码的紧密耦合性</li><li id="6991" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">它降低了预见代码气味的能力</li><li id="7798" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">它阻碍了良好的设计实践</li></ol><p id="be99" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">是的，当我们谈论将Lombok项目添加到我们的应用程序中时，它们中的大多数都是有效的，但问题是影响是什么？让我们看看。</p><h2 id="2e63" class="mz lp iq bd lq na nb dn lu nc nd dp ly la ne nf ma le ng nh mc li ni nj me nk bi translated">紧密结合</h2><p id="02c4" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">所有的类和代码都依赖于Lombok，因此使它们相互依赖，导致紧密耦合。如果龙目岛关闭，整个项目将会陷入困境。</p><ol class=""><li id="7bf9" class="ml mm iq kt b ku kv kx ky la mn le mo li mp lm mq mr ms mt bi translated">但事实并非如此，因为Lombok附带了DeLombok工具，即使您必须从您的应用程序中删除Lombok，您也可以轻松地从应用程序中删除它和依赖关系。</li><li id="8c7f" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">因为所有对Lombok的依赖都是单向的，即类依赖于Lombok，而Lombok不直接依赖于类，所以它没有创建真正的紧耦合。此外，编译后的代码最终是Lombok免费的，因此可以安全使用。</li></ol><h2 id="784c" class="mz lp iq bd lq na nb dn lu nc nd dp ly la ne nf ma le ng nh mc li ni nj me nk bi translated">代码气味和对干净代码的影响</h2><p id="d88e" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">这很棘手，许多高级开发人员面临着初级开发人员不正确使用Lombok的问题，这使得Lombok更麻烦而不是更有利。但是有一些提示和技巧可以帮助正确使用Lombok。其中一个诀窍是让你的后辈阅读这篇文章😂</p><p id="5020" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">有三种可能的情况，</p><ol class=""><li id="93d4" class="ml mm iq kt b ku kv kx ky la mn le mo li mp lm mq mr ms mt bi translated">项目是一个建立良好的组织，其中代码质量是最重要的</li><li id="66a5" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">项目是一个快速面对的应用程序，其中完成是重要的，代码质量是中等的重要性</li><li id="bbff" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">项目是一个中等规模的应用，时间和质量都是至关重要的</li></ol><p id="11b0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于案例1，一个团队将有足够的合格成员来审查代码，从而在集成Lombok之后降低坏代码的总体风险，并且团队的其他成员最终会获得好的实践。</p><p id="626e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于第二种情况，一点点糟糕的代码是可以接受的。团队最终会学会前进，逐渐提高整体素质。</p><p id="f8f4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于第三种情况，它变成了对团队的召唤，这取决于团队成员以前在Lombok上的经验和应用程序的规模，您可以选择选择它或放弃它。</p><h1 id="ba1c" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">设置龙目岛</h1><p id="b80a" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">我会尽量让这个博客简短有趣。你可以在Github 上找到详细的<a class="ae ln" href="https://github.com/mohammed-atif/medium-project-lombok" rel="noopener ugc nofollow" target="_blank">实施项目以供参考。</a></p><h2 id="8e20" class="mz lp iq bd lq na nb dn lu nc nd dp ly la ne nf ma le ng nh mc li ni nj me nk bi translated">将Lombok添加到项目中</h2><ol class=""><li id="abf9" class="ml mm iq kt b ku mg kx mh la nl le nm li nn lm mq mr ms mt bi translated"><a class="ae ln" href="https://projectlombok.org/setup/maven" rel="noopener ugc nofollow" target="_blank">将Lombok添加到Maven项目中</a></li><li id="4100" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated"><a class="ae ln" href="https://projectlombok.org/setup/gradle" rel="noopener ugc nofollow" target="_blank">将Lombok添加到Gradle项目</a></li></ol><h2 id="6ff1" class="mz lp iq bd lq na nb dn lu nc nd dp ly la ne nf ma le ng nh mc li ni nj me nk bi translated">设置IDE</h2><ol class=""><li id="5620" class="ml mm iq kt b ku mg kx mh la nl le nm li nn lm mq mr ms mt bi translated"><a class="ae ln" href="https://projectlombok.org/setup/eclipse" rel="noopener ugc nofollow" target="_blank">月食</a></li><li id="18d1" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated"><a class="ae ln" href="https://projectlombok.org/setup/intellij" rel="noopener ugc nofollow" target="_blank"> IntelliJ </a></li><li id="353a" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated"><a class="ae ln" href="https://projectlombok.org/setup/vscode" rel="noopener ugc nofollow" target="_blank"> VS代码</a></li></ol><h1 id="c4cd" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">实现Lombok</h1><p id="750c" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">有一些非常好的文章详细解释了如何使用Lombok，所以我将重点介绍如何正确使用它们。</p><p id="4b4b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先是一些官方文件</p><ul class=""><li id="c570" class="ml mm iq kt b ku kv kx ky la mn le mo li mp lm no mr ms mt bi translated"><a class="ae ln" href="https://projectlombok.org/" rel="noopener ugc nofollow" target="_blank">https://projectlombok.org/</a></li><li id="2f2c" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm no mr ms mt bi translated"><a class="ae ln" href="https://objectcomputing.com/resources/publications/sett/january-2010-reducing-boilerplate-code-with-project-lombok" rel="noopener ugc nofollow" target="_blank">https://object computing . com/resources/publications/sett/January-2010-reducing-boilerplate-code-with-project-lombok</a></li></ul><p id="8466" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你也需要这篇文章来介绍详细的实现，请在评论中告诉我。</p><h1 id="9527" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">使用Lombok时的常见错误</h1><h2 id="2629" class="mz lp iq bd lq na nb dn lu nc nd dp ly la ne nf ma le ng nh mc li ni nj me nk bi translated">不正确地使用<code class="fe np nq nr ns b">@Data</code></h2><p id="867c" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated"><code class="fe np nq nr ns b">@Data</code>是最常用的注释，但它同样是有风险的注释。因为它也添加了<code class="fe np nq nr ns b">@Tostring and @EqualsAndHashCode</code>，所以当它和<code class="fe np nq nr ns b">Collections</code>或其他类似的项目一起使用时，会使你的代码变得危险</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="aa96" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">预期两个断言都将通过，因为我们正在创建两个不同的对象并将其添加到set中，但是由于<code class="fe np nq nr ns b">@Data</code>也添加了EqualsAndHashCode，set只插入一个值，因为对象的内容是相同的，因此第二个测试用例将失败。</p><p id="6e1d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">许多开发人员不熟悉这个特性，最后花了几天时间来调试错误。</p><h2 id="fa4e" class="mz lp iq bd lq na nb dn lu nc nd dp ly la ne nf ma le ng nh mc li ni nj me nk bi translated">不正确地使用构造函数注释</h2><ul class=""><li id="b1e5" class="ml mm iq kt b ku mg kx mh la nl le nm li nn lm no mr ms mt bi translated">在上面的同一个示例中，您可以注意到我已经添加了AllArgsConstructor，但是没有将字段标记为final。这个过程有两个缺陷，其他任何人都不能访问默认的构造函数，并且可以使用setters修改字段，这是一个糟糕的设计组合。</li><li id="5711" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm no mr ms mt bi translated">类似地，如果一个构造函数中有5个以上的参数，那么它就被认为是一个坏类，因为它很可能偏离了单一责任原则。当使用AllArgsConstructor或RequiredArgsConstructor时，开发人员很容易忽略这一点，代码很容易变得难以管理</li></ul><h1 id="c9bf" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">一些良好做法</h1><p id="0462" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">需要记住的事情不多，</p><ul class=""><li id="074a" class="ml mm iq kt b ku kv kx ky la mn le mo li mp lm no mr ms mt bi translated">Lombok只是一个让你生活轻松的工具。它不为干净代码提供任何帮助或支持。</li><li id="2066" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm no mr ms mt bi translated">如果干净的代码和设计原则并不重要(相信我，在大多数情况下并没有听起来那么糟糕)，那么使用Lombok来简化开发过程是最好的选择。</li></ul><p id="5653" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">说到这里，让我们看看一些使用Lombok的好的编码实践</p><ul class=""><li id="2b8c" class="ml mm iq kt b ku kv kx ky la mn le mo li mp lm no mr ms mt bi translated">仅使用绝对需要的功能</li><li id="2ba4" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm no mr ms mt bi translated">如有疑问，请参考文档。阅读文档只需不到5分钟，但识别和修复一个愚蠢的bug却需要5天</li></ul><p id="b08c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这里找到详细的实现:<a class="ae ln" href="https://github.com/mohammed-atif/medium-project-lombok" rel="noopener ugc nofollow" target="_blank">https://github.com/mohammed-atif/medium-project-lombok</a></p></div></div>    
</body>
</html>