<html>
<head>
<title>Code Smells in Application Structure</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">应用程序结构中的代码味道</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/code-smells-in-application-structure-4d30761bd055?source=collection_archive---------22-----------------------#2021-03-15">https://levelup.gitconnected.com/code-smells-in-application-structure-4d30761bd055?source=collection_archive---------22-----------------------#2021-03-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/46e87677c0d7053daefe6e9298af50f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xHRxJNpLAgQEBio9WyaPTA.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">吉尔博特·易卜拉希米在<a class="ae kc" href="/s/photos/garbage?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="70b6" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">摘要</h1><p id="da7a" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">开发社区喜欢使用的一个术语是“代码味道”。代码气味是代码中可能有改进空间的指示。这并不意味着某些事情做得不正确，或者是错误的，而是一个信号，表明您可能想要更仔细地了解导致以某种方式编写代码的思想。通常，这是因为在使用中存在反模式或不良实践，并且当代码或应用程序“工作”时，它可能不尽如人意地具有可维护性或可读性。</p><p id="b0bf" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">对于一些“气味”，你甚至不需要检查代码就能开始嗅到一些不对劲的东西。我将检查一些迹象，表明您的应用程序需要一些高级别的TLC。</p><h1 id="df9e" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">大型文件</h1><p id="03b4" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">如果您在浏览应用程序时注意到文件很长(例如，超过1000–2000行代码)的情况并不少见，这可能表明文件中的代码单元做得太多了。要明确的是…我不是说每个长文件都做得太多，但是如果你有一个不断增长的文件，并且包含大量不同的方法、服务、类等，如果你把一些逻辑分解到它们自己的文件中，它可能会改进应用程序的组织。当您评估这些文件以及这种“气味”是否表明确实存在需要改进的地方时，需要问一些问题:</p><ul class=""><li id="e9ca" class="me mf iq ld b le lz li ma lm mg lq mh lu mi ly mj mk ml mm bi translated">一个文件中有多个类吗？</li><li id="0a6c" class="me mf iq ld b le mn li mo lm mp lq mq lu mr ly mj mk ml mm bi translated">如果是单个文件，是否会出现多个业务逻辑路径？</li><li id="98cd" class="me mf iq ld b le mn li mo lm mp lq mq lu mr ly mj mk ml mm bi translated">文件中有没有长达100行的方法？</li></ul><p id="eb04" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">这里的解决方案非常简单……开始将其中一些分解到它们自己的类/函数/方法/服务/你的项目中的任何东西。一定要把你的单元测试也分开，你应该得到一个更清晰的分离的，更好测试的代码部分。</p><h1 id="a65b" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">巨大的目录</h1><p id="cd3d" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">如果您有一个项目，其中您扩展一个目录来查找100多个文件，很可能会有一些组织上的改进。不要误解我的意思…大多数ide都可以很容易地找到特定的文件，但通常一个好的应用程序结构可以让您了解组件之间的通信是如何工作的，架构是如何构建的，甚至应该如何使用各个部分。如果您发现每个文件都在同一个目录中，那么您就失去了推断应用程序结构的能力。</p><p id="b538" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">如果你不得不在无数的地方寻找参考，那么组织清理可能是一件痛苦的事情，所以你最好从一开始就遵循一个干净的惯例。关于一个目录中有多少文件太多的经验法则类似于你应该在一个文件中放多少代码。但是，在这种情况下，如果您必须滚动浏览一个目录中的文件，那么您肯定有太多的文件。对它们进行分类，创建一些目录，并开始对它们进行分组。在你这样做之前，确保你有一个既定的惯例！如果您让几个不同的开发人员在没有既定惯例的情况下进行这项工作，您的情况会比以前更糟。</p><h1 id="7965" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">不一致的命名约定</h1><p id="1cbb" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">命名约定可能是开发团队不满的来源。有些人喜欢简洁，有些人喜欢冗长，如果您在一个组织中没有建立标准，您可能会看到一个代码库有几个不一致的实现。如果您发现您必须翻译您正在查看的文件名，这是一个好迹象，表明您可能需要定义每个人都将遵循的约定。这不仅会使您的代码库更具可读性和可导航性，还会使新的团队成员更容易找到路。</p><p id="9e0b" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">如果你有一个代码库，你可以在同一个项目中找到这些例子，那么碎片的例子是非常明显的:</p><ul class=""><li id="1193" class="me mf iq ld b le lz li ma lm mg lq mh lu mi ly mj mk ml mm bi translated">我的协议服务。{扩展}</li><li id="6234" class="me mf iq ld b le mn li mo lm mp lq mq lu mr ly mj mk ml mm bi translated">MyAgrmntsSvc。(扩展)</li><li id="5b69" class="me mf iq ld b le mn li mo lm mp lq mq lu mr ly mj mk ml mm bi translated">my agreements . service . { extension }</li><li id="af0e" class="me mf iq ld b le mn li mo lm mp lq mq lu mr ly mj mk ml mm bi translated">我的-协议-服务。{扩展}</li><li id="f62d" class="me mf iq ld b le mn li mo lm mp lq mq lu mr ly mj mk ml mm bi translated">你明白了吗</li></ul><p id="8b96" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">这可能看起来很小，但这只是让新团队成员难以理解他们应该在代码库中看到什么的许多事情之一。</p><p id="c8fc" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">解决方法:选择一个惯例，继续你的生活。</p><h1 id="37a5" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">结论</h1><p id="ab62" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">对一些开发人员来说，上述项目/建议似乎是显而易见的，对其他人来说，它们似乎有点吹毛求疵。在任何项目中，一致性和简单性都是非常重要的因素，并将极大地提高新团队成员理解代码库并迅速做出贡献的能力。当有多人参与一个项目时，一点一滴都会有帮助，所以要确保你建立了一些约定并坚持下去。</p></div></div>    
</body>
</html>