<html>
<head>
<title>Parcel vs. WebPack 2021</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">包裹与网络包2021</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/parcel-vs-webpack-2021-64c347bcb31?source=collection_archive---------0-----------------------#2021-09-09">https://levelup.gitconnected.com/parcel-vs-webpack-2021-64c347bcb31?source=collection_archive---------0-----------------------#2021-09-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="ea44" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">为您的前端选择正确的捆扎机</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/cfaaeca73d06235839ad479d9801d458.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L4csjaJWapgvYXqkJUZlmA.jpeg"/></div></div></figure><p id="f92f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您是一名前端开发人员，您可能熟悉作为项目捆绑者的WebPack。大多数开发人员和团队使用WebPack作为他们的主要JavaScript bundler。我也在我的大部分项目中使用WebPack。然而，当我偶然发现这个包时，我冒昧地测试了它。</p><p id="198a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这篇文章中，我将分享我使用Parcel的经验，并与WebPack进行比较。</p><p id="23c9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在我们开始之前，让我给你一个小小的剧透，为什么包裹对我有吸引力。</p><blockquote class="ln"><p id="7ce3" class="lo lp iq bd lq lr ls lt lu lv lw lm dk translated">与其他需要大量配置设置的捆扎机相比，package无需任何配置即可启动并运行。</p></blockquote><p id="f26c" class="pw-post-body-paragraph kr ks iq kt b ku lx jr kw kx ly ju kz la lz lc ld le ma lg lh li mb lk ll lm ij bi translated">这难道不是开始探索这个捆绑器的好理由吗？😃</p><h1 id="63ab" class="mc md iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">零配置设置</h1><p id="0977" class="pw-post-body-paragraph kr ks iq kt b ku mu jr kw kx mv ju kz la mw lc ld le mx lg lh li my lk ll lm ij bi translated">我们大多数人都习惯于使用Create React App (CRA)来生成我们的React项目。这是设置React项目最简单的方法，不需要太多的手动配置设置。然而，问题是，CRA隐藏了网络包的配置。因此，如果您需要定制您的捆绑配置，或者如果您需要更多高级功能，您仍然需要手动设置WebPack。</p><p id="7336" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">有这样的例子，我花了几天时间来配置和优化一个项目的捆绑包。最基本的WebPack配置如下所示。</p><pre class="kg kh ki kj gt mz na nb nc aw nd bi"><span id="69bb" class="ne md iq na b gy nf ng l nh ni">const webpack = require('webpack');<br/>const path = require('path');<br/><br/>const config = {<br/>    entry: './src/app.js',<br/>    output: {<br/>        path: path.resolve(__dirname, 'dist'),<br/>        filename: 'bundle.js'<br/>    },<br/>    module: {<br/>        rules: [<br/>            {<br/>                test: /\.(js|jsx)$/,<br/>                exclude: /node_modules/,<br/>                use: 'babel-loader'<br/>            }<br/>        ]<br/>    }<br/>};<br/>module.exports = config;</span></pre><p id="6a1f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这可以根据您需要的配置进行扩展。启动项目的WebPack脚本需要添加到<code class="fe nj nk nl na b">package.json</code>中。</p><blockquote class="nm nn no"><p id="9bd5" class="kr ks np kt b ku kv jr kw kx ky ju kz nq lb lc ld nr lf lg lh ns lj lk ll lm ij bi translated"><strong class="kt ir">点注:</strong></p><p id="0d40" class="kr ks np kt b ku kv jr kw kx ky ju kz nq lb lc ld nr lf lg lh ns lj lk ll lm ij bi translated">有了最新发布的WebPack(第5版)，您也可以使用零配置的WebPack。它将假设您的项目入口点是<code class="fe nj nk nl na b">src/index.js</code>，并将包输出到<code class="fe nj nk nl na b">dist/main.js</code>进行生产的缩小和优化。</p></blockquote><p id="2c43" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然而，在大多数情况下，如果您使用WebPack，您将不得不扩展默认配置以满足您的需求。因此，WebPack配置文件对于大型项目来说是必不可少的。</p><p id="785c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，让我们看看启动和运行包需要什么。</p><p id="ea88" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">用Parcel捆绑和运行您的项目的唯一要求是将这个脚本添加到您的<code class="fe nj nk nl na b">package.json</code></p><pre class="kg kh ki kj gt mz na nb nc aw nd bi"><span id="d4bd" class="ne md iq na b gy nf ng l nh ni">"scripts": {<br/>  "start": "parcel index.html",<br/>}</span></pre><p id="5d95" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您的应用程序脚本应该包含在HTML文件中，并且Parcel会监视这个HTML文件以正确完成它的工作。它也可以观看JavaScript文件而不是HTML文件。</p><p id="0ffc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">就一句台词！是不是很牛逼？😃</p><h1 id="bd55" class="mc md iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">依赖性和预处理器</h1><p id="3df5" class="pw-post-body-paragraph kr ks iq kt b ku mu jr kw kx mv ju kz la mw lc ld le mx lg lh li my lk ll lm ij bi translated">与WebPack不同，Parcel不需要配置来处理预处理程序和依赖项。包裹会自动处理它，无需手动操作即可安装。</p><p id="3477" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这是没有麻烦的，因为你不需要弄乱预处理器版本，包括在配置文件等。</p><p id="9d90" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Parcel使管理依赖项和预处理程序变得非常简单。到目前为止，包裹似乎是赢家。但是不要太兴奋。WebPack出名有很多原因。</p><p id="c561" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">事实上，包裹本身也有一些问题。我们将在本文中继续讨论这些内容。</p><h1 id="f79b" class="mc md iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">代码分割</h1><p id="e7ef" class="pw-post-body-paragraph kr ks iq kt b ku mu jr kw kx mv ju kz la mw lc ld le mx lg lh li my lk ll lm ij bi translated">Parcel以代码分割支持和动态导入而闻名。是的，它确实如此，并且如预期的那样工作。然而，当涉及到代码分割时，Parcel也有一些缺点。</p><p id="af60" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在Parcel中，捆绑文件夹具有扁平结构。因此，它不会在捆绑文件夹中单独包含您的图像、CSS、JS。一切都会在一起。在我看来，这看起来有点乱，因为很难快速找到一个捆绑文件。甚至<code class="fe nj nk nl na b">index.html</code>也会和其余的文件挤在一起。</p><p id="21d2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">与此相反，WebPack将在捆绑的文件夹中有一个干净的结构，在那里你可以识别图像、CSS文件、JS文件等。分开。</p><h1 id="78f3" class="mc md iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">捆绑速度</h1><p id="f4cb" class="pw-post-body-paragraph kr ks iq kt b ku mu jr kw kx mv ju kz la mw lc ld le mx lg lh li my lk ll lm ij bi translated">当您最初捆绑您的应用程序时，与WebPack相比，package通常会花费相当多的时间。WebPack更快。但是，在后续的构建中(当你在观察和构建时)，Parcel要快得多。</p><p id="c0e0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">此外，在初始构建之后，我很少经历长时间的构建。这对开发人员非常有用，因为它提高了开发质量，节省了大量时间。</p><p id="f98a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">包裹也有一个，</p><blockquote class="ln"><p id="cdc7" class="lo lp iq bd lq lr ls lt lu lv lw lm dk translated">热模块替换，在开发过程中无需页面刷新即可更新元素。</p></blockquote><p id="bfa6" class="pw-post-body-paragraph kr ks iq kt b ku lx jr kw kx ly ju kz la lz lc ld le ma lg lh li mb lk ll lm ij bi translated">此外，它有一个“生产模式”,通过避免不必要的构建步骤来加速构建。</p><h1 id="fa88" class="mc md iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">使用这些捆绑器的第三方工具</h1><p id="0de2" class="pw-post-body-paragraph kr ks iq kt b ku mu jr kw kx mv ju kz la mw lc ld le mx lg lh li my lk ll lm ij bi translated">使用Parcel进行定制是非常简单的，许多第三方工具都不能使用它。然而，迄今为止，WebPack仍然是定制之王，许多第三方工具是他们的首选捆绑技术。下面，工具在内部使用WebPack作为默认捆绑器。</p><p id="590d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae nt" href="https://www.gatsbyjs.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir">盖茨比</strong></a>——是一个基于React的网站生成器，让你创建高度优化的网站，我们可以通过cdn提供服务。它使用WebPack作为默认捆绑器，并允许您定制它的一些配置，如<a class="ae nt" href="https://www.gatsbyjs.com/docs/glossary/webpack/" rel="noopener ugc nofollow" target="_blank">代码分割</a>。</p><p id="d68e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae nt" href="https://bit.dev" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> Bit </strong> </a> — Is是一个<a class="ae nt" href="https://github.com/teambit/bit" rel="noopener ugc nofollow" target="_blank">开源</a>工具，让你创建<em class="np">真正的</em>模块化应用<strong class="kt ir"> </strong>与<em class="np">独立</em>创作、版本化和维护组件。Bit使用WebPack捆绑隔离的组件，并使用模块联合特性为<a class="ae nt" href="https://blog.bitsrc.io/revolutionizing-micro-frontends-with-webpack-5-module-federation-and-bit-99ff81ceb0" rel="noopener ugc nofollow" target="_blank">微前端</a>进行运行时集成。</p><p id="8818" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae nt" href="https://v5.angular.io/guide/webpack" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir">Angular</strong></a><strong class="kt ir">/</strong><a class="ae nt" href="https://reactjs.org/docs/code-splitting.html" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir">React</strong></a><strong class="kt ir">/</strong><a class="ae nt" href="https://cli.vuejs.org/guide/webpack.html#simple-configuration" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir">VueJS</strong></a>—最流行的前端框架和库都带有默认的WebPack配置，并根据需要进行扩展。</p><h1 id="727d" class="mc md iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">摘要</h1><p id="b34e" class="pw-post-body-paragraph kr ks iq kt b ku mu jr kw kx mv ju kz la mw lc ld le mx lg lh li my lk ll lm ij bi translated">正如您所看到的，WebPack仍然是最受欢迎的捆绑包，并且在可预见的未来将继续保持领先地位。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nu"><img src="../Images/e8b071c57845580a241c25340c2cee8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0xN-S5qFN0OK_bPCc_dNAw.png"/></div></div><figcaption class="nv nw gj gh gi nx ny bd b be z dk translated">来源:<a class="ae nt" href="https://www.npmtrends.com/parcel-vs-webpack" rel="noopener ugc nofollow" target="_blank"> NPM趋势</a></figcaption></figure><p id="315a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">但是，在我看来，对于小规模的应用程序，Parcel是一个很好的捆绑器。对我来说效果很好。但是，有几件事需要注意。</p><p id="dce6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">但是在您的应用程序中使用Parcel v1有点冒险。这个版本在安装依赖项时存在问题，必须通过向构建脚本添加标志来缓解这些问题。</p><p id="3207" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然而，一个改进的新版本的包裹(第2版)现在出来了，大多数以前的问题已经得到了解决。您可以在此处参考package v2文档<a class="ae nt" href="https://v2.parceljs.org/" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="1e98" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您的应用程序是企业级的，我觉得迁移到Parcel并不安全，因为它可能会限制您的选择，尽管Parcel拥有吸引人的特性。所以，还是坚持用WebPack比较好。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/191e30a69e602a8dafebf4a27ea2920f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oLaSpmtiv94R6KyBUYDpNw.png"/></div></div><figcaption class="nv nw gj gh gi nx ny bd b be z dk translated">Webpack 5与package v2</figcaption></figure><p id="cf8a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我知道你对包裹的想法。感谢阅读！</p></div></div>    
</body>
</html>