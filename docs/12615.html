<html>
<head>
<title>3 Simple Angular Tips</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">3个简单的角尖</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/3-simple-angular-tips-653f4620868?source=collection_archive---------2-----------------------#2022-06-23">https://levelup.gitconnected.com/3-simple-angular-tips-653f4620868?source=collection_archive---------2-----------------------#2022-06-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/03c420f793d7182da7aacb83e14c886a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*s352BWFiTkQZP-ux"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">苏珊·霍尔特·辛普森在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="c982" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这篇博文中，我将分享任何人都可以在他们的项目中使用的最有价值和简单的技巧和窍门。不管你的项目是大是小，是老还是年轻。</p><h1 id="36b8" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">不要订阅Observables</h1><p id="d62c" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">用RxJs进行反应式编程是Angular中最自然的事情之一。我们都知道它是如何运作的。我们有一个可观察对象和一个订阅可观察对象的订阅者，后者向订阅者发送数据。因此，我们订阅一个可观察对象，解包它并将发出的值存储在某个类属性中，这样我们就可以在模板中使用它。</p><figure class="mh mi mj mk gt ju"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="5455" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这段代码没有错，而且运行得非常好；甚至可以很好地处理退订，但是这种方法有一个缺陷。它之所以混乱，是因为代码臃肿。但是幸运的是，Angular自带了所谓的异步管道，这是一个非常酷的特性，可以直接在模板中使用observables。我们可以简单地绑定一个可观察对象并链接异步管道，当组件被销毁时，异步管道也会自动处理订阅和取消订阅。</p><figure class="mh mi mj mk gt ju"><div class="bz fp l di"><div class="ml mm l"/></div></figure><figure class="mh mi mj mk gt ju"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="a285" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你想做一些副作用，你可以声明一个包含一些管道操作符的管道，比如tap，当数据被发出时执行。</p><h1 id="aca2" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">使用行为主体</h1><p id="1e2b" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">BehaviorSubjects是Subjects的一个子集，它实际上已经非常强大了，因为它们允许多角色扮演。您需要知道一个可观察对象在默认情况下正在进行单播，这样每个订阅都会发出自己的值，并且没有订阅共享同一个数据流。另一方面，主题是多播的，因此任何订阅都将共享相同的数据流。这在通过存储共享状态的服务进行组件通信时尤其有用。但是有一个问题。如果您的组件依赖于您的subject立即发出数据，因为否则您的模板中的一些数据绑定最初会绑定到“未定义”怎么办？解决方案是BehaviorSubject，它几乎等同于Subject，但是有一个额外的特性，即它在被实例化时有一个初始值，当订阅时它会立即发出这个值。</p><figure class="mh mi mj mk gt ju"><div class="bz fp l di"><div class="ml mm l"/></div></figure><h1 id="5266" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">使用路由解析器</h1><p id="8928" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">解析器在路由中用于同步获取一些数据，并在组件被实例化之前将其传递给组件。你现在可能会想，为什么有人会这样做，而不只是在组件的ngOnInit生命周期挂钩中获取数据，答案是:嗯，你可以这样做，但这对UX不好。你想要什么？一个显示错误数据的组件，因为绑定会在最开始绑定到“未定义”上，或者你必须用ngIf手动保护所有的绑定，这很繁琐？或者您更愿意暂时不加载新页面，而是显示一个加载微调器？很可能，你是大多数人中的一员，更喜欢第二种变体。因此，只要数据提取正在进行，路由解析器就会阻止该过程。</p><figure class="mh mi mj mk gt ju"><div class="bz fp l di"><div class="ml mm l"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">(样本来自官方角度文件)</figcaption></figure><p id="82c3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">解析器完全自动地订阅和取消订阅可观察对象，并且只有当可观察对象关闭时，才加载被路由到的新组件。</p><figure class="mh mi mj mk gt ju"><div class="bz fp l di"><div class="ml mm l"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">(来自官方Angular docs)</figcaption></figure><p id="3348" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">解析程序被分配给一个路径数据参数，该参数可通过ActivatedRoute的data属性在组件中进行访问。</p><p id="dce5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了添加一个装载微调器，我们必须监听路由器事件，并生成一个if-else来决定何时应该显示装载微调器。</p><figure class="mh mi mj mk gt ju"><div class="bz fp l di"><div class="ml mm l"/></div></figure><h1 id="5971" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="6807" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我希望你能从这篇博文中得到一些东西，对你的Angular项目有所帮助。如果你喜欢这篇博文，我建议你看看我在Angular上的其他博文。</p><p id="df87" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你想在Medium上阅读无限量的文章，如果你使用我的推荐链接加入Medium，我将不胜感激:</p><div class="mn mo gp gr mp mq"><a href="https://medium.com/@stefan.haas.privat/membership" rel="noopener follow" target="_blank"><div class="mr ab fo"><div class="ms ab mt cl cj mu"><h2 class="bd iu gy z fp mv fr fs mw fu fw is bi translated">通过我的推荐链接-斯特凡·哈斯加入媒体</h2><div class="mx l"><h3 class="bd b gy z fp mv fr fs mw fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="my l"><p class="bd b dl z fp mv fr fs mw fu fw dk translated">medium.com</p></div></div><div class="mz l"><div class="na l nb nc nd mz ne jz mq"/></div></div></a></div></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><h1 id="ca59" class="le lf it bd lg lh nm lj lk ll nn ln lo lp no lr ls lt np lv lw lx nq lz ma mb bi translated">分级编码</h1><p id="a425" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">感谢您成为我们社区的一员！更多内容见<a class="ae kf" href="https://levelup.gitconnected.com/" rel="noopener ugc nofollow" target="_blank">级编码出版物</a>。<br/>跟随:<a class="ae kf" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">推特</a>，<a class="ae kf" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">领英</a>，<a class="ae kf" href="https://newsletter.levelup.dev/" rel="noopener ugc nofollow" target="_blank">通迅</a> <br/> <strong class="ki iu">升一级正在改造理工大招聘➡️ </strong> <a class="ae kf" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu">加入我们的人才集体</strong> </a></p></div></div>    
</body>
</html>