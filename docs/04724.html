<html>
<head>
<title>Building and Testing A TypeScript/NodeJS library without WebPack, Jest or Rollup</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä¸ä½¿ç”¨WebPackã€Jestæˆ–Rollupæ„å»ºå’Œæµ‹è¯•TypeScript/NodeJSåº“</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/building-testing-typescript-without-webpack-jest-using-deno-39e98f7e54ed?source=collection_archive---------3-----------------------#2020-07-11">https://levelup.gitconnected.com/building-testing-typescript-without-webpack-jest-using-deno-39e98f7e54ed?source=collection_archive---------3-----------------------#2020-07-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="f92d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ¯«æ— ç–‘é—®ï¼ŒTypescriptæ˜¯è¿‘å¹´æ¥æœ€å¥½çš„ç¼–ç¨‹è¯­è¨€/æ¡†æ¶ä¹‹ä¸€ã€‚TypeScriptå¸®åŠ©ä½ æ‰“å­—æ¥å†™å¹²å‡€çš„å’Œæ¨¡å—åŒ–çš„JavaScriptã€‚ç„¶è€Œï¼Œç¼–å†™å’Œè®¾ç½®åº“æ˜¯ä¸€é¡¹éå¸¸ç¹ççš„ä»»åŠ¡ã€‚æ‚¨å¯ä»¥ä½¿ç”¨TypeScript CLIæ¥æ„å»ºä¸€ä¸ªåº“ï¼Œä½†æµ‹è¯•ä»ç„¶æ˜¯ä¸€ä»¶ç—›è‹¦çš„äº‹æƒ…ã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘å°†è§£é‡Šå¦‚ä½•ä½¿ç”¨<a class="ae ko" href="https://deno.land/" rel="noopener ugc nofollow" target="_blank"> Awesome Deno </a>æä¾›çš„å·¥å…·æ¥æŠ›å¼ƒWebPackã€Jestæˆ–Rollupå¹¶ç¼–å†™ä¸€ä¸ªæ¼‚äº®çš„åº“ã€‚</p><p id="7759" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å¾·è¯ºåœ¨é•‡ä¸Šå¾…äº†ä¸€æ®µæ—¶é—´ã€‚ä»ä¸€å¼€å§‹ï¼Œå®ƒå°±å—åˆ°äº†å¼€å‘è€…çš„å…³æ³¨ã€‚å®ƒæœ‰<code class="fe kp kq kr ks b">JavaScript</code>çš„<code class="fe kp kq kr ks b">runtime</code>å’Œä½¿ç”¨V8å¹¶å†…ç½®<code class="fe kp kq kr ks b">Rust</code>çš„<code class="fe kp kq kr ks b">TypeScript</code>ã€‚<code class="fe kp kq kr ks b">Rust</code>çš„æ„æ€æ˜¯ï¼Œå®ƒæ—¢å¿«åˆå®‰å…¨ã€‚</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi kt"><img src="../Images/c4ade3ae0ec282c3bb3fa70919f9a01a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SDQh3QVhjZ-byxJF"/></div></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated"><a class="ae ko" href="https://unsplash.com/@hngstrm?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">äº¨åˆ©&amp;å…¬å¸</a>åœ¨<a class="ae ko" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹æ‘„çš„ç…§ç‰‡</figcaption></figure><p id="2b3b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">é‚£ä¹ˆDenoå°†å¦‚ä½•å¸®åŠ©ä½ æ‘†è„±ä¸Šé¢æåˆ°çš„è¿™äº›äº‹æƒ…ã€‚è®©æˆ‘ä»¬ç¨å¾®äº†è§£ä¸€ä¸‹Denoã€‚æˆ‘ä»¬å°†ä½¿ç”¨Deno just Denoæ„å»ºä¸€ä¸ªå°å‹nodejs/npmåº“ã€‚</p><h1 id="1cd4" class="lj lk it bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">å›¾ä¹¦é¦†æ¦‚è¿°</h1><p id="712b" class="pw-post-body-paragraph jq jr it js b jt mh jv jw jx mi jz ka kb mj kd ke kf mk kh ki kj ml kl km kn im bi translated">æˆ‘ä»¬è¦å»ºçš„å›¾ä¹¦é¦†å°†æ˜¯lodashï¼Œæˆ‘ä»¬è‡ªå·±çš„lodashã€‚å®ƒä¼šæœ‰ä¸€äº›å®ç”¨çš„æ–¹æ³•ï¼Œæ¯”å¦‚find <code class="fe kp kq kr ks b">unique</code>ï¼Œé€šè¿‡é“å…·è·å–å€¼ã€‚</p><h1 id="5a82" class="lj lk it bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">åº“çš„åˆå§‹è®¾ç½®</h1><ol class=""><li id="bd7a" class="mm mn it js b jt mh jx mi kb mo kf mp kj mq kn mr ms mt mu bi translated">åˆ›å»ºæ–‡ä»¶å¤¹å¹¶åˆå§‹åŒ–npmå’Œgit</li><li id="7c57" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn mr ms mt mu bi translated">æ·»åŠ åŸºæœ¬æµ‹è¯•ç”¨ä¾‹å¹¶å®ç°æ–¹æ³•<code class="fe kp kq kr ks b">unique</code></li><li id="fbce" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn mr ms mt mu bi translated">è¿è¡Œå¹¶æµ‹è¯•å®ƒçš„å·¥ä½œæƒ…å†µ</li></ol><h2 id="9fc5" class="na lk it bd ll nb nc dn lp nd ne dp lt kb nf ng lx kf nh ni mb kj nj nk mf nl bi translated">1.åˆ›å»ºæ–‡ä»¶å¤¹å¹¶åˆå§‹åŒ–<code class="fe kp kq kr ks b">npm</code>å’Œ<code class="fe kp kq kr ks b">git</code></h2><pre class="ku kv kw kx gt nm ks nn no aw np bi"><span id="f995" class="na lk it ks b gy nq nr l ns nt"># Create a folder<br/>md dash-lodash<br/>md lib test</span><span id="fb45" class="na lk it ks b gy nu nr l ns nt">## Create files<br/>touch test/index.js<br/>touch lib/index.js</span><span id="0875" class="na lk it ks b gy nu nr l ns nt"># Git init<br/>git init<br/>echo ".vscode\nnode_modules\nlib" &gt; .gitignore</span><span id="261e" class="na lk it ks b gy nu nr l ns nt"># npm init</span><span id="a641" class="na lk it ks b gy nu nr l ns nt">npm init --y</span></pre><p id="8cf1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œä½ ä¼šçœ‹åˆ°å¦‚ä¸‹ç»“æ„ã€‚</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/19437ff8b1ebaf22642d537cffcaf08f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1072/format:webp/1*DzrD68geVG7LZYIckx-UxA.png"/></div></figure><p id="47ca" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi nw translated"><span class="l nx ny nz bm oa ob oc od oe di">N</span>T26ã€‘æ³¨:å¦‚æœä½ æ³¨æ„åˆ°çš„è¯ï¼Œæˆ‘å·²ç»åœ¨<code class="fe kp kq kr ks b">.gitignore</code>ä¸­åŠ å…¥äº†libã€‚å› ä¸ºæˆ‘ä»¬æ­£åœ¨æ„å»ºTypeScriptåº“ã€‚æˆ‘ä»¬å°†ä¸éœ€è¦å®ƒçš„<code class="fe kp kq kr ks b">compiled</code>ç‰ˆæœ¬ã€‚</p><h2 id="c198" class="na lk it bd ll nb nc dn lp nd ne dp lt kb nf ng lx kf nh ni mb kj nj nk mf nl bi translated">2.æ·»åŠ åŸºæœ¬æµ‹è¯•ç”¨ä¾‹å¹¶å®ç°æ–¹æ³•<code class="fe kp kq kr ks b">unique</code></h2><p id="4218" class="pw-post-body-paragraph jq jr it js b jt mh jv jw jx mi jz ka kb mj kd ke kf mk kh ki kj ml kl km kn im bi translated">æ‰“å¼€æ–‡ä»¶<code class="fe kp kq kr ks b">test/index.js</code>å¹¶æ·»åŠ ä»¥ä¸‹è¡Œã€‚</p><pre class="ku kv kw kx gt nm ks nn no aw np bi"><span id="4588" class="na lk it ks b gy nq nr l ns nt">// title="test/index.js"<br/>const { unique } = require("../lib");</span><span id="aaf1" class="na lk it ks b gy nu nr l ns nt">const uniqueValues = unique([1, 2, 3, 1]);</span><span id="3bc7" class="na lk it ks b gy nu nr l ns nt">if (uniqueValues.length === 4) throw new Error("Unique is not working");</span><span id="3bf4" class="na lk it ks b gy nu nr l ns nt">console.log("âœ… All looks good");</span></pre><p id="500c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ‰“å¼€æ–‡ä»¶<code class="fe kp kq kr ks b">lib/index.js</code>å¹¶æ·»åŠ ä»¥ä¸‹è¡Œã€‚</p><pre class="ku kv kw kx gt nm ks nn no aw np bi"><span id="37a2" class="na lk it ks b gy nq nr l ns nt">// title="lib/index.js"<br/>const unique = (arr) =&gt; arr;</span><span id="d4c4" class="na lk it ks b gy nu nr l ns nt">module.exports = { unique };</span></pre><p id="0e29" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ‰“å¼€<code class="fe kp kq kr ks b">package.json</code>æ·»åŠ ä¸‹é¢çš„è¡Œ</p><pre class="ku kv kw kx gt nm ks nn no aw np bi"><span id="570e" class="na lk it ks b gy nq nr l ns nt">title="package.json" {5,7}<br/>{<br/>  "name": "dash-lodash",<br/>  "version": "1.0.0",<br/>  "description": "",<br/>  "main": "lib/index.js",<br/>  "scripts": {<br/>    "test": "node test"<br/>  },<br/>  "keywords": [],<br/>  "author": "",<br/>  "license": "ISC"<br/>}</span></pre><h2 id="eb33" class="na lk it bd ll nb nc dn lp nd ne dp lt kb nf ng lx kf nh ni mb kj nj nk mf nl bi translated">3.è¿è¡Œå¹¶æµ‹è¯•å®ƒçš„å·¥ä½œæƒ…å†µ</h2><p id="7be4" class="pw-post-body-paragraph jq jr it js b jt mh jv jw jx mi jz ka kb mj kd ke kf mk kh ki kj ml kl km kn im bi translated">å› ä¸ºæˆ‘ä»¬çš„npmç°åœ¨å·²ç»è®¾ç½®å¥½äº†ï¼Œæ‰€ä»¥æ‚¨å¯ä»¥ä½¿ç”¨<code class="fe kp kq kr ks b">npm test</code>å‘½ä»¤è¿è¡Œå’Œæµ‹è¯•ã€‚ä¸€æ—¦æ‚¨è¿è¡Œ<code class="fe kp kq kr ks b">npm test</code>ï¼Œæ‚¨å°†çœ‹åˆ°å¦‚ä¸‹é”™è¯¯æ¶ˆæ¯ã€‚<code class="fe kp kq kr ks b">Error: Unique is not working</code></p><p id="5ae0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">åœ¨<code class="fe kp kq kr ks b">lib/index.js</code>ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç </p><pre class="ku kv kw kx gt nm ks nn no aw np bi"><span id="b778" class="na lk it ks b gy nq nr l ns nt">const unique = (arr) =&gt; [...new Set(arr)];<br/>module.exports = { unique };</span></pre><p id="2f0d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å¦‚æœæ‚¨çœ‹åˆ°æ¶ˆæ¯<code class="fe kp kq kr ks b">âœ… All looks good</code>è¡¨ç¤ºä¸€åˆ‡æ­£å¸¸ï¼Œè¯·å†æ¬¡è¿è¡Œæµ‹è¯•ã€‚ä½ çš„å›¾ä¹¦é¦†åœ¨å·¥ä½œã€‚</p><h1 id="7c03" class="lj lk it bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">Denoä½œä¸ºç±»å‹è„šæœ¬è¿è¡Œæ—¶</h1><p id="702b" class="pw-post-body-paragraph jq jr it js b jt mh jv jw jx mi jz ka kb mj kd ke kf mk kh ki kj ml kl km kn im bi translated">æˆ‘ä»¬çš„ä»£ç å·²ç»è¿è¡Œå¹¶ç»è¿‡æµ‹è¯•ã€‚è¿™å¾ˆé€‚åˆåœ¨npmä¸Šå‘è¡¨ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬å¸Œæœ›ä½¿ç”¨TypeScriptä½œä¸ºæºä»£ç ã€‚å¥½äº‹ï¼ŒDenoæœ€å¤§çš„å–ç‚¹å°±æ˜¯TypeScriptè¿è¡Œæ—¶ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥åœ¨æ²¡æœ‰ä»»ä½•å¤–éƒ¨<code class="fe kp kq kr ks b">trans-compiler</code>çš„æƒ…å†µä¸‹è¿è¡ŒTypeScriptã€‚ç”šè‡³ä¸éœ€è¦<a class="ae ko" href="https://www.typescriptlang.org/index.html#download-links" rel="noopener ugc nofollow" target="_blank"> typescript cli </a>ã€‚ä½¿ç”¨Denoæˆ‘ä»¬å¯ä»¥è¿è¡Œtypescriptï¼ŒåŒæ—¶Denoæä¾›äº†åƒbundleè¿™æ ·çš„å·¥å…·ã€‚æˆ‘ä»¬å¯ä»¥ç¼–è¯‘typescriptï¼Œè½¬æ¢æˆJavaScriptã€‚</p><p id="5f05" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">å…ˆå†³æ¡ä»¶:</strong></p><p id="e495" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe kp kq kr ks b"><em class="of">Deno 1.1.0</em></code> <em class="of">åŠä»¥ä¸Š</em></p><p id="6cf3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ä½ å¯ä»¥ä»è¿™é‡Œå®‰è£…Denoã€‚<a class="ae ko" href="https://Deno.land/#installation" rel="noopener ugc nofollow" target="_blank">å®‰è£…</a></p><p id="0f95" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">è®©æˆ‘ä»¬è½¬å‘æ‰“å­—ç¨¿ã€‚</p><ol class=""><li id="71a3" class="mm mn it js b jt ju jx jy kb og kf oh kj oi kn mr ms mt mu bi translated">åˆ›å»ºä¸€ä¸ªç±»å‹è„šæœ¬lodashåº“</li><li id="8311" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn mr ms mt mu bi translated">æ›´æ–°<code class="fe kp kq kr ks b">npm scripts</code>ï¼Œæ·»åŠ å¾·è¯ºæµ‹è¯•ä»»åŠ¡</li></ol><h2 id="ebc4" class="na lk it bd ll nb nc dn lp nd ne dp lt kb nf ng lx kf nh ni mb kj nj nk mf nl bi translated">1.åˆ›å»ºä¸€ä¸ªç±»å‹è„šæœ¬lodashåº“</h2><pre class="ku kv kw kx gt nm ks nn no aw np bi"><span id="5775" class="na lk it ks b gy nq nr l ns nt">md src<br/>touch src/lodash.ts</span></pre><p id="ada7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">åœ¨æ–‡ä»¶<code class="fe kp kq kr ks b">src/lodash.ts</code>ä¸­æ·»åŠ ä»¥ä¸‹è¡Œ</p><p id="09d0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe kp kq kr ks b">export const unique = (arr: any[]) =&gt; [â€¦new Set(arr)];</code></p><h2 id="a5bb" class="na lk it bd ll nb nc dn lp nd ne dp lt kb nf ng lx kf nh ni mb kj nj nk mf nl bi translated">2.æ›´æ–°æ·»åŠ Denoæµ‹è¯•ä»»åŠ¡</h2><p id="b198" class="pw-post-body-paragraph jq jr it js b jt mh jv jw jx mi jz ka kb mj kd ke kf mk kh ki kj ml kl km kn im bi translated">è®©æˆ‘ä»¬æ·»åŠ å‡ ä¸ªæµ‹è¯•ç”¨ä¾‹ã€‚</p><p id="b05f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å› ä¸ºæˆ‘ä»¬è¦æ¬åˆ°å¾·è¯ºã€‚æˆ‘ä»¬å¿…é¡»å°†æµ‹è¯•ç”¨ä¾‹è½¬æ¢æˆ<code class="fe kp kq kr ks b">TypeScript</code>æ–‡ä»¶ã€‚</p><pre class="ku kv kw kx gt nm ks nn no aw np bi"><span id="ddae" class="na lk it ks b gy nq nr l ns nt">touch test/lodash.test.ts</span></pre><p id="5e0e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ç”¨ä¸‹é¢ç»™å‡ºçš„è¡Œæ›¿æ¢æ–‡ä»¶çš„å†…å®¹ã€‚</p><pre class="ku kv kw kx gt nm ks nn no aw np bi"><span id="958c" class="na lk it ks b gy nq nr l ns nt">import { assertEquals } from "<a class="ae ko" href="https://Deno.land/std/testing/asserts.ts" rel="noopener ugc nofollow" target="_blank">https://Deno.land/std/testing/asserts.ts</a>";<br/>import { unique } from "../src/lodash.ts";</span><span id="d243" class="na lk it ks b gy nu nr l ns nt">Deno.test("unique #1", () =&gt; {<br/>  assertEquals(typeof unique, "function", "Unique is not defined!");<br/>});</span><span id="82f3" class="na lk it ks b gy nu nr l ns nt">Deno.test("unique #2", () =&gt; {<br/>  const uniqueValues = unique([1, 2, 3, 1]);<br/>  assertEquals(uniqueValues.length, 3, "Unique is not working");<br/>  assertEquals(uniqueValues, [1, 2, 3]);<br/>  console.log("âœ… All looks good");<br/>});</span></pre><p id="df75" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ›´æ–°<code class="fe kp kq kr ks b">package.json</code>ä¸­çš„æµ‹è¯•å‘½ä»¤</p><pre class="ku kv kw kx gt nm ks nn no aw np bi"><span id="d90d" class="na lk it ks b gy nq nr l ns nt">{<br/>  // rest<br/>  "scripts": {<br/>    "test": "Deno test"<br/>  }<br/>}</span></pre><p id="0955" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å†æ¬¡è¿è¡Œæµ‹è¯•ã€‚<code class="fe kp kq kr ks b">npm test</code>ã€‚æ‚¨å°†çœ‹åˆ°ç±»ä¼¼<code class="fe kp kq kr ks b">test result: ok. 2 passed;</code>çš„æ¶ˆæ¯</p><p id="b698" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»æˆåŠŸåœ°å°†æºä»£ç è½¬ç§»åˆ°äº†typescriptä¸­ã€‚ä½†æ˜¯ï¼Œè¯·æ³¨æ„ï¼Œæˆ‘ä»¬ä¸èƒ½åœ¨nodejsä¸­ç›´æ¥ä½¿ç”¨æˆ‘ä»¬çš„<code class="fe kp kq kr ks b">src/lodash.ts</code>ã€‚æˆ‘ä»¬çš„<code class="fe kp kq kr ks b">dash-lodash</code>ä»ç„¶æŒ‡å‘<code class="fe kp kq kr ks b">lib/index.js</code>ã€‚åœ¨nodejsä¸­æ¶ˆè´¹è¿™ä¸ªã€‚æˆ‘ä»¬éœ€è¦å°†typescriptè½¬æ¢ä¸ºJavaScriptï¼Œä»¥ä¾¿åœ¨æ²¡æœ‰webpack[bundler]çš„nodejsä¸­ä½¿ç”¨ã€‚</p><p id="34b0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ä¸ºäº†å°†<code class="fe kp kq kr ks b">TypeScript</code>è½¬æ¢ä¸º<code class="fe kp kq kr ks b">JavaScript</code>ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<a class="ae ko" href="https://www.typescriptlang.org/index.html#download-links" rel="noopener ugc nofollow" target="_blank"> typescript CLI </a>å·¥å…·ã€‚è¦è¿›è¡Œè®¾ç½®ï¼Œbundleréµå¾ªä»¥ä¸‹ç»™å®šæ­¥éª¤ã€‚</p><ol class=""><li id="031e" class="mm mn it js b jt ju jx jy kb og kf oh kj oi kn mr ms mt mu bi translated">å°†typescriptä½œä¸ºå¼€å‘ä¾èµ–é¡¹æ·»åŠ </li><li id="1cf5" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn mr ms mt mu bi translated">æ·»åŠ <code class="fe kp kq kr ks b">tsconfig.json</code>æ–‡ä»¶</li><li id="4f27" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn mr ms mt mu bi translated">æ›´æ–°<code class="fe kp kq kr ks b">package.json</code></li></ol><p id="aab6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> 1ã€‚ä½œä¸ºå¼€å‘ä¾èµ–é¡¹çš„ç±»å‹è„šæœ¬:</strong></p><p id="696e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe kp kq kr ks b">npm i -D typescript</code></p><p id="34a6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> 2ã€‚æ·»åŠ </strong> <code class="fe kp kq kr ks b"><strong class="js iu">tsconfig.json</strong></code> <strong class="js iu">æ–‡ä»¶:</strong></p><pre class="ku kv kw kx gt nm ks nn no aw np bi"><span id="3179" class="na lk it ks b gy nq nr l ns nt">{<br/>  "compilerOptions": {<br/>    "target": "es6",<br/>    "module": "CommonJS",<br/>    "declaration": true,<br/>    "outDir": "./lib",<br/>    "moduleResolution": "node"<br/>  },<br/>  "include": ["src"],<br/>  "exclude": ["node_modules", "**/test/*"]<br/>}</span></pre><p id="2a47" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> 3ã€‚æ›´æ–°</strong> <code class="fe kp kq kr ks b"><strong class="js iu">package.json</strong></code> <strong class="js iu"> : </strong>åœ¨<code class="fe kp kq kr ks b">package.json</code>ä¸­æ·»åŠ æ†ç»‘å‘½ä»¤</p><pre class="ku kv kw kx gt nm ks nn no aw np bi"><span id="69e7" class="na lk it ks b gy nq nr l ns nt">{<br/>  // rest<br/>  "scripts": {<br/>    "test": "Deno test &amp;&amp; node test",<br/>    "bundle": "tsc"<br/>  }<br/>}</span></pre><p id="15f8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">è¿è¡Œ</strong> <code class="fe kp kq kr ks b"><strong class="js iu">bundle</strong></code> <strong class="js iu">å‘½ä»¤:</strong> <code class="fe kp kq kr ks b">npm run bundle</code></p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/9ca025b531fdc688785055ebc2d38229.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/format:webp/0*cjp2RBHCzt6DQ2-1.png"/></div></figure><p id="b270" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi nw translated"><span class="l nx ny nz bm oa ob oc od oe di">N</span>T29ã€‘æ³¨:æˆ‘ä»¬è¦æ›´æ–°ï¼Œ<code class="fe kp kq kr ks b">test/index.js</code>å¯¼å…¥/è¦æ±‚è¯­å¥ã€‚ç”±äº<code class="fe kp kq kr ks b">tsc</code>ä½¿ç”¨<code class="fe kp kq kr ks b">commonjs</code>ä½œä¸º<code class="fe kp kq kr ks b">tsconfig.json</code>ä¸­çš„ä¸€ä¸ªæ¨¡å—ï¼Œæ‰€æœ‰çš„æ–‡ä»¶éƒ½ä¼šè¢«ç¼–è¯‘å¹¶è½¬æ¢æˆç›¸åŒåç§°çš„ieã€‚<code class="fe kp kq kr ks b">lib/lodash.js</code>ã€‚</p><p id="b630" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ›´æ–°åï¼Œ<code class="fe kp kq kr ks b">test/index.js</code></p><pre class="ku kv kw kx gt nm ks nn no aw np bi"><span id="07a6" class="na lk it ks b gy nq nr l ns nt">const { unique } = require("../lib/lodash");</span><span id="f26a" class="na lk it ks b gy nu nr l ns nt">// rest of the code</span></pre><p id="389d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">å°è¯•å¹¶å†æ¬¡è¿è¡Œæµ‹è¯•ã€‚</strong></p><p id="0621" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe kp kq kr ks b"><em class="of">npm test</em></code> <em class="of">æˆ–</em> <code class="fe kp kq kr ks b"><em class="of">node test</em></code></p><p id="0bb8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Tadaï¼ï¼æ­å–œä½ ä»¬å‘å¸ƒäº†ä½ ä»¬çš„nodejs-typescriptæ¨¡å—ã€‚è¦å°†æ‚¨çš„æ¨¡å—å‘å¸ƒåˆ°npmï¼Œæ‚¨å¯ä»¥å…³æ³¨<a class="ae ko" href="https://zellwk.com/blog/publish-to-npm/" rel="noopener ugc nofollow" target="_blank">è¿™ä¸ª</a>åšå®¢ã€‚</p><p id="8319" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">typeScriptæ¨¡å—éœ€è¦å®šä¹‰ç±»å‹å®šä¹‰ä½ç½®ã€‚æˆ‘ä»¬å¯ä»¥åœ¨<code class="fe kp kq kr ks b">package.json</code>ä¸­æ·»åŠ å…ƒæ•°æ®</p><p id="db0d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">åœ¨<code class="fe kp kq kr ks b">package.json</code>ä¸­æ·»åŠ ä»¥ä¸‹è¡Œ</p><pre class="ku kv kw kx gt nm ks nn no aw np bi"><span id="d201" class="na lk it ks b gy nq nr l ns nt">{<br/>   // rest of the code<br/>  "main": "lib/lodash.js",<br/>  "types": "lib/lodash.d.ts",<br/>  "files": ["lib/lodash.js"]<br/>  //rest of the code<br/>}</span></pre><p id="d5ba" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ä¸€æ—¦ä½ åœ¨npmä¸Šå‘å¸ƒäº†ä½ çš„æ¨¡å—ã€‚æ‚¨å¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼ä½¿ç”¨æ‚¨çš„æ¨¡å—ã€‚</p><p id="eab3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">åœ¨NodeJS: </strong></p><pre class="ku kv kw kx gt nm ks nn no aw np bi"><span id="1417" class="na lk it ks b gy nq nr l ns nt">const { unique } = require("dash-lodash");</span><span id="be27" class="na lk it ks b gy nu nr l ns nt">const uniqueValues = unique([1, 2, 3, 1]);</span><span id="ece1" class="na lk it ks b gy nu nr l ns nt">if (uniqueValues.length === 4) throw new Error("Unique is not working");</span><span id="33c4" class="na lk it ks b gy nu nr l ns nt">console.log("âœ… All looks good");</span></pre><p id="20fa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">åœ¨æ‰“å­—ç¨¿é‡Œ:</strong></p><pre class="ku kv kw kx gt nm ks nn no aw np bi"><span id="0c6e" class="na lk it ks b gy nq nr l ns nt">import { unique } from "dash-lodash";</span><span id="9ec6" class="na lk it ks b gy nu nr l ns nt">const uniqueValues = unique([1, 2, 3, 1]);</span><span id="39fe" class="na lk it ks b gy nu nr l ns nt">if (uniqueValues.length === 4) throw new Error("Unique is not working");</span><span id="555a" class="na lk it ks b gy nu nr l ns nt">console.log("âœ… All looks good");</span></pre><p id="8e68" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi nw translated"><span class="l nx ny nz bm oa ob oc od oe di"> S </span>æºä»£ç ï¼Œå¯ä»¥å‚è€ƒ<a class="ae ko" href="https://github.com/deepakshrma/dash-lodash-deno-typescript-sample" rel="noopener ugc nofollow" target="_blank">dash-lodash-deno-typescript-sample</a>repoã€‚</p><p id="bed4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">è°¢äº†ã€‚ä¿æŒå†·é™ï¼Œç»§ç»­ç¼–ç ã€‚ğŸ˜Œ</p><p id="4a84" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">åšå®¢:</strong>è·å–æ›´å¤šåšå®¢å’Œæ›´æ–°ã€‚è¯·å…³æ³¨æˆ‘çš„ç½‘ç«™ã€‚<a class="ae ko" href="http://decipher.dev/" rel="noopener ugc nofollow" target="_blank">http://decipher.dev/</a></p></div></div>    
</body>
</html>