<html>
<head>
<title>Create User Login with Firebase and Next.js Hook in 5 minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Firebase和Next.js钩子在5分钟内创建用户登录</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/create-user-login-with-firebase-and-nextjs-hook-in-5-minutes-d8044f08403d?source=collection_archive---------0-----------------------#2021-05-13">https://levelup.gitconnected.com/create-user-login-with-firebase-and-nextjs-hook-in-5-minutes-d8044f08403d?source=collection_archive---------0-----------------------#2021-05-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="ffca" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本文中，我们将使用Next.js和React钩子创建一个用户登录。我们将使用Firebase身份验证特性来保护我们的应用程序，该特性只允许授权用户访问个人页面</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/653e851fd70836a802c164b755b83ed6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*DyP1y0WSmyuPy2k5hAYRkA.gif"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">我们的结果</figcaption></figure><p id="5931" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们将在本文中关注的要点列表:</p><ul class=""><li id="5d94" class="le lf it js b jt ju jx jy kb lg kf lh kj li kn lj lk ll lm bi translated">Next.js设置</li><li id="ed31" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated">反应组分</li><li id="d486" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated">反应钩</li><li id="3820" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated">Firebase认证</li><li id="359a" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated">谷歌的第三方认证</li></ul><p id="fba7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="ls">注意:</em> </strong> <em class="ls">为此，我们必须在我们的系统中安装Node.js和NPM</em></p><h2 id="05ee" class="lt lu it bd lv lw lx dn ly lz ma dp mb kb mc md me kf mf mg mh kj mi mj mk ml bi translated">Next.js设置</h2><p id="4584" class="pw-post-body-paragraph jq jr it js b jt mm jv jw jx mn jz ka kb mo kd ke kf mp kh ki kj mq kl km kn im bi translated">在创建Next.js项目时，我们需要安装<code class="fe mr ms mt mu b">create-next-app</code>模块，它提供初始和默认设置。通过命令安装<code class="fe mr ms mt mu b">create-next-app</code>:</p><pre class="kp kq kr ks gt mv mu mw mx aw my bi"><span id="c981" class="lt lu it mu b gy mz na l nb nc">npm install -g create-next-app</span></pre><p id="27d1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">安装完成后，在您的本地目录中启动Next.js项目，我们需要通过以下命令创建该项目:</p><pre class="kp kq kr ks gt mv mu mw mx aw my bi"><span id="26c0" class="lt lu it mu b gy mz na l nb nc">npx create-next-app next-login-firebase</span></pre><p id="08ae" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">安装完成后，转到我们创建的文件夹:</p><pre class="kp kq kr ks gt mv mu mw mx aw my bi"><span id="d2c1" class="lt lu it mu b gy mz na l nb nc">cd next-login-firebase</span></pre><p id="ba9a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，我们已经完成了Next.js项目的设置。</p><p id="9a26" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下一步是安装Firebase包和react-firebaseui。</p><pre class="kp kq kr ks gt mv mu mw mx aw my bi"><span id="6072" class="lt lu it mu b gy mz na l nb nc">npm i firebase react-firebaseui --save</span></pre><h2 id="2d90" class="lt lu it bd lv lw lx dn ly lz ma dp mb kb mc md me kf mf mg mh kj mi mj mk ml bi translated">用于身份验证的Firebase配置</h2><p id="22aa" class="pw-post-body-paragraph jq jr it js b jt mm jv jw jx mn jz ka kb mo kd ke kf mp kh ki kj mq kl km kn im bi translated">Firebase通过提供多重身份验证方法，如电子邮件/密码、谷歌、脸书、Twitter等，帮助我们安全登录。</p><p id="86f8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">去<a class="ae nd" href="https://firebase.google.com/" rel="noopener ugc nofollow" target="_blank">https://firebase.google.com/</a>用你的凭证登录</p><p id="75c8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">成功登录Firebase控制台后，我们将通过单击“添加项目”按钮创建项目，填写表单项目名称，然后按照向导表单进行操作:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ne"><img src="../Images/beb988e0a331f66ce0a6cb464ea5947d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r8JnuUFY4FZZdPSrhSDNzg.png"/></div></div></figure><p id="248f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要将我们的Firebase项目集成到我们的Next.js项目中，请转到项目设置并找到“SDK设置和配置”，选择radio Config。我们将需要复制必须添加到我们的项目代码片段。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nf"><img src="../Images/80268fa89f97facbe847d98b849c3de3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aOwQBgTOt7Tu9A0uPlvNgQ.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">SDK设置和配置</figcaption></figure><p id="9aa5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">创建项目后，单击左侧部分的“身份验证”。我们将通过电子邮件/密码和谷歌启用提供商的身份验证:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ng"><img src="../Images/14883e8b5c3e81561a4a6015390eb556.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UVm-eLqyydqjJHPPlpTrzQ.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">启用登录方法</figcaption></figure><h2 id="e833" class="lt lu it bd lv lw lx dn ly lz ma dp mb kb mc md me kf mf mg mh kj mi mj mk ml bi translated">写代码</h2><p id="d7e5" class="pw-post-body-paragraph jq jr it js b jt mm jv jw jx mn jz ka kb mo kd ke kf mp kh ki kj mq kl km kn im bi translated">在根文件夹中，用下面的代码创建一个新文件“config.js ”,并保存它。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="2276" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">打开文件pages/index.js，使用下面的代码进行编辑。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="db06" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于下一步，通过以下命令安装软件包“js-cookie ”:</p><pre class="kp kq kr ks gt mv mu mw mx aw my bi"><span id="1cf3" class="lt lu it mu b gy mz na l nb nc">npm i js-cookie</span></pre><p id="944a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">创建一个新文件' auth/userCookie.js '，编写以下代码:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="8318" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">接下来，我们必须创建' auth/useUser.js '来处理用户状态，编写以下代码:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="2b0d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">创建一个名为“auth/withAuth.js”的文件来处理身份验证状态更改并重定向到签名页面:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="9990" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">创建一个名为“pages/private.js”的新私人页面，如果用户登录，该页面将呈现一个电子邮件和注销按钮。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="5587" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后一步，创建一个新文件‘pages/sign in . js’来渲染登录通道。这是一个使用“react-firebaseui”的示例。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="d01b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们的准则:</p><div class="nj nk gp gr nl nm"><a href="https://github.com/easywebsify/next-login-firebase" rel="noopener  ugc nofollow" target="_blank"><div class="nn ab fo"><div class="no ab np cl cj nq"><h2 class="bd iu gy z fp nr fr fs ns fu fw is bi translated">easywebsify/下一次登录-firebase</h2><div class="nt l"><h3 class="bd b gy z fp nr fr fs ns fu fw dk translated">在GitHub上创建一个帐户，为easywebsify/next-log in-firebase的开发做出贡献。</h3></div><div class="nu l"><p class="bd b dl z fp nr fr fs ns fu fw dk translated">github.com</p></div></div><div class="nv l"><div class="nw l nx ny nz nv oa ky nm"/></div></div></a></div><p id="4f87" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="ls">更多内容尽在</em><a class="ae nd" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="ls">plain English . io</em></a></p></div></div>    
</body>
</html>