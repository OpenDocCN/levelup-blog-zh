<html>
<head>
<title>Dear Vim, I :q!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">亲爱的Vim，我:q！</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/dear-vim-i-q-5df03b763ae4?source=collection_archive---------1-----------------------#2021-08-15">https://levelup.gitconnected.com/dear-vim-i-q-5df03b763ae4?source=collection_archive---------1-----------------------#2021-08-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1468" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">我从Vim到IdeaVim的旅程</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6652689ddc8ee5ca87b0f73bae41d558.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X8gwK_o5Qkx9sWTSmi0juA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由Amine Elhattami拍摄</figcaption></figure><p id="577c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi lu translated">在我今天写这篇文章的时候，我已经用Vim作为我个人项目和工作的日常驱动程序三年了，主要是Python。是的。我可以退出Vim，但我绝不是超级用户。这篇文章是关于我寻找合适工具的旅程。</p><h2 id="bec9" class="md me it bd mf mg mh dn mi mj mk dp ml lh mm mn mo ll mp mq mr lp ms mt mu mv bi translated">预示最后结果（或败局）的先兆</h2><p id="f29e" class="pw-post-body-paragraph ky kz it la b lb mw ju ld le mx jx lg lh my lj lk ll mz ln lo lp na lr ls lt im bi translated">在我的Vim之旅开始时，我承认我更专注于加入Vim cool kids俱乐部，向我的同事展示高级功能。同样，依赖快捷方式和干净的界面也引起了我的共鸣。然而，当我开始处理复杂和更大的代码库时，我的注意力转移到了我正在生产的代码上。我开始遇到一些问题，这些问题我都处理得很成功:</p><ul class=""><li id="cc29" class="nb nc it la b lb lc le lf lh nd ll ne lp nf lt ng nh ni nj bi translated">缺少一个像样的调试器。</li><li id="d908" class="nb nc it la b lb nk le nl lh nm ll nn lp no lt ng nh ni nj bi translated">我花了大量时间管理和配置我的vimrc。</li><li id="6db2" class="nb nc it la b lb nk le nl lh nm ll nn lp no lt ng nh ni nj bi translated">对于大型项目，自动完成并不完美。</li><li id="7ac5" class="nb nc it la b lb nk le nl lh nm ll nn lp no lt ng nh ni nj bi translated">将Vim与Tmux一起使用时的性能问题。</li></ul><p id="3858" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我认为调试是交易的破坏者。我遇到过一些解决方案，声称使用pdb或一些类似<a class="ae np" href="https://github.com/pdbpp/pdbpp" rel="noopener ugc nofollow" target="_blank"> pdb++ </a>或<a class="ae np" href="https://pypi.org/project/pudb/" rel="noopener ugc nofollow" target="_blank"> pudb </a>的juice up版本就是你所需要的全部，但事实并非如此！我尝试的所有工具要么功能有限，要么配置复杂(我花了大约一个小时让pudb全屏)。我也试过<a class="ae np" href="https://github.com/puremourning/vimspector" rel="noopener ugc nofollow" target="_blank"> Vimspector </a>。虽然这是一个很好的项目，但感觉很脆弱。但更重要的是，当我调试一个需要很长时间来执行的应用程序时，进程一直挂起，我一直丢失stdout。我知道糟糕的配置会导致这些问题。但是当我试图正确地配置工具时，我并没有给我的工作增加价值。</p><h2 id="c272" class="md me it bd mf mg mh dn mi mj mk dp ml lh mm mn mo ll mp mq mr lp ms mt mu mv bi translated">寻找合适的工具</h2><p id="3b85" class="pw-post-body-paragraph ky kz it la b lb mw ju ld le mx jx lg lh my lj lk ll mz ln lo lp na lr ls lt im bi translated">当我开始寻找Vim替代品时，我首先列出了我正在寻找的主要功能:</p><ul class=""><li id="1314" class="nb nc it la b lb lc le lf lh nd ll ne lp nf lt ng nh ni nj bi translated">优秀的python调试器</li><li id="d7d9" class="nb nc it la b lb nk le nl lh nm ll nn lp no lt ng nh ni nj bi translated">快速接口</li><li id="8dab" class="nb nc it la b lb nk le nl lh nm ll nn lp no lt ng nh ni nj bi translated">Vim键绑定支持</li><li id="f906" class="nb nc it la b lb nk le nl lh nm ll nn lp no lt ng nh ni nj bi translated">接近完美的智能感知</li><li id="f79e" class="nb nc it la b lb nk le nl lh nm ll nn lp no lt ng nh ni nj bi translated">需要很少的配置</li></ul><p id="f03b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，我上网看看其他人在用什么，并检查流行的IDEs文本编辑器的优缺点。首先，我不断发现博客帖子、线程和视频争论一些ide与Vim相比占用了多少内存。我认为这对现在的大多数开发者来说是不相关的。普通的工作笔记本电脑有16 Gb的内存，所以如果IDE提供了可靠的功能，谁会在乎它是否需要2 Gb的内存。然而，我倾向于认为启动时间越少越好。</p><p id="6350" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在和一个朋友聊天时，他建议我用I <a class="ae np" href="https://plugins.jetbrains.com/plugin/164-ideavim" rel="noopener ugc nofollow" target="_blank"> deaVim </a>插件试试Pycharm。这不是我第一次尝试Pycharm，我知道它有很好的调试器和智能感知特性。我在IdeaVim的经历没有什么值得夸耀的。它有很多缺陷，缺少很多功能。然而，我决定尝试一下，因为我知道它可以检查出我正在寻找的几个特征。</p><h2 id="3cae" class="md me it bd mf mg mh dn mi mj mk dp ml lh mm mn mo ll mp mq mr lp ms mt mu mv bi translated">有思想的皮查姆:好的、坏的和丑的</h2><p id="150f" class="pw-post-body-paragraph ky kz it la b lb mw ju ld le mx jx lg lh my lj lk ll mz ln lo lp na lr ls lt im bi translated">以下从较高的层面描述了我喜欢和不喜欢IdeaVim的地方。然而，如果你有兴趣了解我目前如何使用IdeaVim的更多细节，请查看<a class="ae np" href="https://towardsdatascience.com/the-essential-ideavim-remaps-291d4cd3971b" rel="noopener" target="_blank">这篇文章</a>。</p><p id="5759" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">调试器、智能感知和接口</strong></p><p id="b784" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，调试器和智能感知可以正常工作。即使是大型项目，它也有一个快速响应的界面。</p><p id="d1d2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">免分心模式</strong></p><p id="67de" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">正如我在介绍中提到的，我喜欢Vim干净的界面。我很高兴看到你可以用Pycharm在无分心模式下达到同样的效果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/ec0232217ec1fda2110d2261cece3239.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*viQtZ6SLtasKtC6Xt2DUyA.png"/></div></div></figure><p id="cdd9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">默认情况下，当你打开一个缓冲区时，代码奇怪地居中。但是，您可以从配置中更改这种行为。</p><p id="376e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> IdeaVim </strong></p><p id="9b39" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">第一个惊喜是，现在我们可以指定一个名为<code class="fe nr ns nt nu b">.ideavimrc</code>的配置文件。这意味着我可以做如下事情。</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="1e92" class="md me it nu b gy nz oa l ob oc">""" Map leader to space ---------------------<br/>let mapleader=" "<br/><br/><br/>""" Common settings -------------------------<br/>set showmode<br/>set so=5<br/>set incsearch<br/>set nu</span></pre><p id="a1d5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">看着眼熟？没错，就是vimscript。你甚至可以使用你现有的<code class="fe nr ns nt nu b">.vimrc</code>。</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="691f" class="md me it nu b gy nz oa l ob oc">source ~/.vimrc</span></pre><p id="9775" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">另一个很好的特性是，您可以像下面这样绑定任何Pycharm操作。这在IDE和IdeaVim插件之间架起了一座桥梁。</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="7e67" class="md me it nu b gy nz oa l ob oc">:map &lt;leader&gt;d &lt;Action&gt;(Debug)</span></pre><p id="5ed8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">至于vim插件，IdeaVim模仿了一些流行的插件。完整列表在此<a class="ae np" href="https://github.com/JetBrains/ideavim/wiki/Emulated-plugins" rel="noopener ugc nofollow" target="_blank">此处</a>。</p><p id="0c70" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，IdeaVim并不支持Vim的所有特性，模拟插件列表很短，而<a class="ae np" href="https://youtrack.jetbrains.com/issues/VIM?q=%23Unresolved%20sort%20by:%20votes" rel="noopener ugc nofollow" target="_blank">错误列表</a>更长。此外，IdeaVim需要与Vim一样多的配置，而且社区比Vim小。</p><p id="08ac" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">而且，有些行为令人沮丧。例如，命令模式<a class="ae np" href="https://youtrack.jetbrains.com/issue/VIM-258" rel="noopener ugc nofollow" target="_blank">没有自动完成</a>，如果您点击tab，焦点将回到编辑器！垂直分裂是另一个故事。假设您有两个并排的缓冲区，如下所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/c2f40da5182942b7759ee803dfe82c6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qOOXjuMuR2hZ3ESHI1GaBg.png"/></div></div></figure><p id="d7f4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你想增加第三个缓冲区。您可能会认为这三个缓冲区的宽度相等。不对！它将分割选定的缓冲区。最糟糕的是，我找不到改变这种行为的方法。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/153817903edef62992a8689a3ac79d02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Al5ixp-2NhERjeSfR20cw.png"/></div></div></figure><h1 id="cd11" class="of me it bd mf og oh oi mi oj ok ol ml jz om ka mo kc on kd mr kf oo kg mu op bi translated">结论</h1><p id="d1b8" class="pw-post-body-paragraph ky kz it la b lb mw ju ld le mx jx lg lh my lj lk ll mz ln lo lp na lr ls lt im bi translated">第一，我不是Jetbrains赞助的；然而，这是我分享我的旅程的愿望的一部分，希望它可以帮助别人。</p><p id="f031" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">总之，Pycharm可能不是最好的(因为我没有全部尝试)，只是碰巧我先尝试了一下，而且它符合我的用例。此外，在使用IdeaVim几周后，我意识到我更喜欢Vim键绑定，而不是编辑器本身，特别是因为我不是Vim超级用户。我知道你可以灵活地做Vim做的几乎所有事情。然而，由于你不能依赖鼠标使用Vim，它迫使你使用快捷方式做任何事情，这使你更有效率。</p><h1 id="9db0" class="of me it bd mf og oh oi mi oj ok ol ml jz om ka mo kc on kd mr kf oo kg mu op bi translated">在你走之前</h1><p id="e853" class="pw-post-body-paragraph ky kz it la b lb mw ju ld le mx jx lg lh my lj lk ll mz ln lo lp na lr ls lt im bi translated">在<a class="ae np" href="https://twitter.com/amine_elhattami" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上关注我，我经常在那里发关于软件开发和机器学习的微博。</p></div></div>    
</body>
</html>