<html>
<head>
<title>The Best Tool I Used While Working at Amazon</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我在亚马逊工作时用过的最好的工具</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/the-best-tool-i-learned-about-working-at-amazon-f6153af77d62?source=collection_archive---------0-----------------------#2021-07-24">https://levelup.gitconnected.com/the-best-tool-i-learned-about-working-at-amazon-f6153af77d62?source=collection_archive---------0-----------------------#2021-07-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/e545cc04dd67cfe90d0ebff8dfe700ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*QrY9_tr9Cw7PwU0I.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">魔法。</figcaption></figure><p id="c958" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">在规模只有亚马逊几分之一的公司，内部工具是必须的。如果每个人都以不同的方式做事，或者如果你把所有的重量都放在Github Actions上，项目就会变得很大，很难维护。</p><p id="feb1" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">因此，虽然亚马逊内部有很多开发人员使用的工具，但有一个工具几乎所有亚马逊员工都在使用，它是给程序员的礼物……<em class="ld">而且它不是内部的。</em>没错:这是一个任何人都可以使用的漂亮的外部工具。</p><p id="a35e" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">虽然这篇文章读起来像一个很长的广告，但我绝不代表亚马逊说话，也不以任何方式得到他们的赞助。我真的很喜欢这个工具，我写这篇文章是为了让更多的程序员离开Terraform的黑暗时代，或者，上帝保佑，<em class="ld">使用AWS UI。</em></p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="79df" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">问题是</h1><p id="94f4" class="pw-post-body-paragraph kf kg it kh b ki mj kk kl km mk ko kp kq ml ks kt ku mm kw kx ky mn la lb lc im bi translated">我给你讲个故事:一个菜鸟程序员的故事。他们一直在学习JavaScript的前端和Python的后端，但他们已经准备好与数据库接口。问题是，数据库不是免费的，而且通常很难管理。这种思路将年轻的头脑引向了<em class="ld"> AWS。</em>随着他们对AWS <em class="ld">、</em>的了解，他们接触到了令人眼花缭乱的服务:SNS、SQS、S3、DynamoDB、ECS、Snowball。</p><p id="9f60" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">每个人都经历过这种情况:这基本上是现代程序员的必经之路。当我在那里时，我想到的是大规模管理这些服务会有多困难。仅运行ECS、S3和RDS堆栈就花了我几个小时来设置—如果我需要VPC、ECS群集或VPN怎么办？设置这些将是一件痛苦的事。</p><p id="cdd7" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">所以很快，我转向了Terraform。Terraform很棒，做了它该做的事情，但是<em class="ld"> man </em>很难用。你必须学习HCL，一种晦涩难懂的标记语言。没有自动完成功能，所以你要靠自己来确保每件事都做对了。这些概念本身很难学习——HCL看起来很落后，Terraform land中的许多规范也很奇怪。奇怪的是，许多人求助于Terragrunt来帮助他们管理。</p><p id="695e" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">这一切的解决方案是什么？</p><p id="6732" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">像所有其他互联网问题一样:亚马逊有一个解决方案。</p><h1 id="e62f" class="ll lm it bd ln lo mo lq lr ls mp lu lv lw mq ly lz ma mr mc md me ms mg mh mi bi translated">AWS CDK</h1><p id="27a5" class="pw-post-body-paragraph kf kg it kh b ki mj kk kl km mk ko kp kq ml ks kt ku mm kw kx ky mn la lb lc im bi translated">AWS CDK是一个非凡的工具，据我所知，它干净地解决了地形或手动创建堆栈的所有问题。</p><p id="ed47" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">通过使用Typescript(其他语言与CDK接口，但TS是迄今为止我最喜欢的)，而不是HCL或任何其他自定义创建，我们允许程序员在他们的工作流程中感觉更熟悉。你不再是在用一种新的可怕的逆向构造语言工作:你是在用一种感觉不太不同的语言编写和调试直接代码。</p><p id="b125" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">一切都是公开的。CDK里没有隐藏的东西。如果你正在使用AWS控制台，甚至<em class="ld">有可能</em>你会错过一个配置步骤或者在某个地方卡住，你的整个堆栈会变成一堆独立的碎片。Terraform是朝着正确方向迈出的一步，但是作为一个动态类型的构造，你可以把任何东西放在任何地方，并且linter不会告诉你“这个变量是未定义的！”或者“这个参数不存在！”它只会在运行时失败(或者更糟:根本不会失败)。TypeScript是专门为开发人员设计的第一语言，intellisense是第一等级的公民，有大量的工具。</p><p id="3205" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">如果你反对AWS(没关系——我也对AWS有些不满！)你很幸运——作为代码提供者，有许多奇妙的基础设施，比如<em class="ld">无服务器</em>和<em class="ld"> Pulumi </em>。作为代码的基础设施，一般来说，对程序员和他们的业务主管来说是一个好主意和净收益。</p><p id="3c41" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">不过，我会避开Terraform和Ansible。在开发人员用来完全绕过它们的工具上投入了太多。事实上，你可以很容易地为你的基础设施编写单元测试，这意味着你不必担心睡觉和意外积累一百万美元的AWS账单。</p><p id="0f6a" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">CDK最大的好处之一是，如果你正在运行多个环境，(beta，alpha，prod，QA，等等。)你所要做的就是将你的CDK包在一个<code class="fe mt mu mv mw b">for</code>循环中，并让你的变量接受一个输入字符串:而不是<code class="fe mt mu mv mw b">vpcName = 'vpc'</code>，进行一些字符串插值并进行<code class="fe mt mu mv mw b">vpcName = `{stage}-vpc`</code>。</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><p id="77eb" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">在我在亚马逊学会使用的所有工具中，这个CDK是我最喜欢的。效用无可匹敌。如果我再次在云上部署项目，你可以打赌我正在创建一个CDK包。</p></div></div>    
</body>
</html>