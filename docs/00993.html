<html>
<head>
<title>Build your first Alexa skill with Alexa.NET and Azure Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Alexa和Azure函数建立你的第一个Alexa技能</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/build-your-first-alexa-skill-with-alexa-net-and-azure-functions-aa5a7ff75b55?source=collection_archive---------2-----------------------#2019-10-08">https://levelup.gitconnected.com/build-your-first-alexa-skill-with-alexa-net-and-azure-functions-aa5a7ff75b55?source=collection_archive---------2-----------------------#2019-10-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div class="gh gi jq"><img src="../Images/dba3101cc1c4b6f65179cee8187e1bb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*baQmW26ZnCjRi588mEyEVA.jpeg"/></div></figure><p id="658a" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">我有机会玩亚马逊Echo设备，我对语音交互的质量印象深刻。这促使我开始构建一个简单的Alexa应用程序。当我第一次听到Alexa技能这个词的时候，我并不太明白。亚马逊提出了这个创造性的术语“技能”，但它只不过是一个语音辅助应用程序。你可以建立各种各样的技能，最常用的是自定义技能。这包括订购披萨、预订搭车或购物语音应用程序等。</p><h2 id="7d06" class="kv kw it bd kx ky kz dn la lb lc dp ld ki le lf lg km lh li lj kq lk ll lm ln bi translated"><strong class="ak">Alexa技能如何发挥作用？</strong></h2><p id="40c1" class="pw-post-body-paragraph jx jy it jz b ka lo kc kd ke lp kg kh ki lq kk kl km lr ko kp kq ls ks kt ku im bi translated">我们对Alexa echo的语音请求被传输到Alexa Could服务。这是真正的奇迹发生的地方。在Alexa Could Service，语音流通过使用<em class="lt">ASR——自动语音识别</em>被翻译成文本。使用<em class="lt">NLP——自然语言处理</em>，该文本被分解以识别用户意图。它构造用户意图并将其传递给web服务(REST API ), web服务对其进行处理并发回响应。这个响应文本被传回echo设备，它将使用<em class="lt">SSML——语音合成标记语言</em>为您读出</p><p id="56bf" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">下面是使用Alexa.NET和Azure函数构建自定义技能的分步指南。</p><p id="e195" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">你需要一个亚马逊开发者账户。如果你没有，在这里创建一个<a class="ae lu" href="https://developer.amazon.com/" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="d954" class="lv kw it bd kx lw lx ly la lz ma mb ld mc md me lg mf mg mh lj mi mj mk lm ml bi translated">首先构建您的定制模型</h1><ol class=""><li id="859d" class="mm mn it jz b ka lo ke lp ki mo km mp kq mq ku mr ms mt mu bi translated">登录你的亚马逊开发者控制台，打开Alexa开发者控制台。找到“创建技能”按钮并点击它</li></ol><figure class="mw mx my mz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="gh gi mv"><img src="../Images/c82e988180a3ab5e7edef63897ea9966.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*z69zndeqh6GwZHP-.png"/></div></div></figure><p id="e893" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">2.给出一个技能名称(我选择了“点网”)，然后点击“创建”</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="gh gi ne"><img src="../Images/c168a684508c49e04a3d47039ed89e23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*q9uYq6IUyF9TS7kQ.png"/></div></div></figure><p id="a7ae" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">3.保留默认选择(“从头开始”模板)</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/14ce124b451912cc8132557c76a8ec77.png" data-original-src="https://miro.medium.com/v2/resize:fit:638/format:webp/0*IRrGz4tY7xHstHk6.png"/></div></figure><p id="ce12" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">4.您将被导航到自定义模型构建页面。单击左侧窗格中的“调用”,保持名称不变。这是将用于调用我们的技能的名称。</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="gh gi ng"><img src="../Images/52050f1dc4d11406eb966ea74e17bb3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xgdoQwZ2xwhqxFTW.png"/></div></div></figure><p id="3323" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">5.点击“添加意向”按钮。这将用户意图带到后端服务。它可以是预订一个旅程，订购一个比萨饼等等。您将在后端识别它，然后处理它。这一个将是一个基本的，所以命名为“你好”。</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="gh gi nh"><img src="../Images/7d048d02dbf829bfc1933c9987988e72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*QNmaDBEP0Op-dxu_.png"/></div></div></figure><p id="33cb" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">6.点击“你好”意图并添加话语。当用户说出这些话语时，它将调用“你好”意图。</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/769f98d2b0e00b8aa776f398157e6cda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/0*iZQoFECN8KK0S65q.png"/></div></figure><p id="d8d7" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><strong class="jz iu">在我们进入下一步</strong>之前保存模型</p><h1 id="e4d2" class="lv kw it bd kx lw lx ly la lz ma mb ld mc md me lg mf mg mh lj mi mj mk lm ml bi translated">构建一个Azure函数来处理您的意图</h1><p id="3609" class="pw-post-body-paragraph jx jy it jz b ka lo kc kd ke lp kg kh ki lq kk kl km lr ko kp kq ls ks kt ku im bi translated">亚马逊强烈推荐Lambda表达式来处理语音命令。同时也支持微软生态系统。用Azure函数来做吧。</p><ol class=""><li id="c248" class="mm mn it jz b ka kb ke kf ki nj km nk kq nl ku mr ms mt mu bi translated">创建一个Azure函数。选择“HTTP触发器”并将“访问权限”设置为匿名</li></ol><figure class="mw mx my mz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="gh gi nm"><img src="../Images/ee6d553321ae3faecf878d0be55f18fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*26GIbx9VhTJkgGfa.png"/></div></div></figure><p id="c7d2" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">2.打开你的Azure功能，安装Alexa.NET nu get包</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="gh gi nn"><img src="../Images/9b415ed8ba4b84eb9f53c9f8c32fba29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*F2BWF8MWIEWjfxAp.png"/></div></div></figure><p id="8edd" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">3.将以下代码粘贴到您的Azure函数中</p><figure class="mw mx my mz gt ju"><div class="bz fp l di"><div class="no np l"/></div></figure><h1 id="fc9e" class="lv kw it bd kx lw lx ly la lz ma mb ld mc md me lg mf mg mh lj mi mj mk lm ml bi translated">综合</h1><ol class=""><li id="7e6c" class="mm mn it jz b ka lo ke lp ki mo km mp kq mq ku mr ms mt mu bi translated">现在你可以直接部署这个Azure功能，但是调试会很困难。我们将使用ngrok将我们的端口暴露给一个公共URL，并在dev控制台中进行配置，以便我们可以进行调试。关注我在ngrok上的另一篇文章，通过ngrok将您的本地web服务器端口公开来获取您的Azure函数的公共URL。这将有助于您在将它部署到Azure之前进行测试。</li></ol><div class="nq nr gp gr ns nt"><a rel="noopener  ugc nofollow" target="_blank" href="/expose-localhost-as-a-public-url-and-debug-using-ngrok-8912a91e6740"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd iu gy z fp ny fr fs nz fu fw is bi translated">将localhost公开为公共URL，并使用ngrok进行调试</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">ngrok是一个很棒的开源工具，它可以通过SSL将您的本地端口公开为一个公共URL，您可以复制它…</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="oc l"><div class="od l oe of og oc oh jv nt"/></div></div></a></div><p id="00d9" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">2.从ngrok获得公开的URL后，在自定义模型中打开自定义模型配置端点。</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="gh gi oi"><img src="../Images/67d128fe2d145d3230dbeda41955ba17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*TUocvuMhOCSVTbhv.png"/></div></div></figure><h1 id="d533" class="lv kw it bd kx lw lx ly la lz ma mb ld mc md me lg mf mg mh lj mi mj mk lm ml bi translated">测试</h1><p id="d44e" class="pw-post-body-paragraph jx jy it jz b ka lo kc kd ke lp kg kh ki lq kk kl km lr ko kp kq ls ks kt ku im bi translated">打开测试控制台，测试技能。如果Azure函数中有调试器的话，它会命中调试器。</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="gh gi oj"><img src="../Images/263fbefb6d20340e385991fb45f81191.png" data-original-src="https://miro.medium.com/v2/resize:fit:876/format:webp/0*i4USMYMPKjIGU3kU.png"/></div></div></figure><p id="c222" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">下一次和我一起。这将是关于使用帐户链接的用户身份验证——它如何工作以及如何测试。我会尽最大努力尽快给你。</p></div></div>    
</body>
</html>