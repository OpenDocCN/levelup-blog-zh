<html>
<head>
<title>Learning TypeScript: The Data Types of TypeScript Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">学习TypeScript:TypeScript的数据类型第1部分</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/learning-typescript-the-data-types-of-typescript-part-1-fe49a966ccc7?source=collection_archive---------9-----------------------#2021-04-14">https://levelup.gitconnected.com/learning-typescript-the-data-types-of-typescript-part-1-fe49a966ccc7?source=collection_archive---------9-----------------------#2021-04-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/4b6673073b868e4f56d289110902f42e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Me68u84Y-IjcTEPW"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">马修·施瓦茨在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><p id="eeb8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">JavaScript和TypeScript的主要区别之一是TypeScript有一个更健壮的类型系统。在本文中，我将介绍几种实际上不描述数据的TypeScript数据类型，并提供每种类型的示例。在我的下一篇文章中，我将完成对各种类型脚本类型的介绍，包括标准类型，如<code class="fe le lf lg lh b">number</code>、<code class="fe le lf lg lh b">string</code>、<code class="fe le lf lg lh b">object</code>等。</p><h1 id="5416" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">数据类型的简要定义</h1><p id="cd02" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">在开始讨论TypeScript中的数据类型和数据类型之前，让我花点时间来定义什么是数据类型。许多人认为数据类型只是描述了可以存储在变量中的数据的种类，但实际上，数据类型的定义不仅包括数据的种类，还包括可以对数据执行的操作。</p><p id="3980" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，数字类型描述100、3.14159和2，234，452等值。但是数字类型也描述了可以对数字执行的操作，例如加、减、乘、除和取模。</p><p id="bfd3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">字符串类型描述文本数据。它还描述了可以对字符串执行的操作，如连接和各种字符串函数，如小写和计算切片和子字符串。但是你不能对一个数进行算术运算，比如求模。</p><p id="7339" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">理解了数据类型描述了数据的种类和对数据的合法操作，就更容易理解如何使用数据类型，以及为什么数据类型对编程语言很重要。</p><h1 id="8630" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">TypeScript是一种强大的静态类型编程语言</h1><p id="252e" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">计算机编程语言通常通过它们的类型系统来区分。如果您熟悉JavaScript，您会知道它是一种弱动态类型的编程语言。让我们花几分钟来描述一下这意味着什么。</p><p id="337d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">弱类型语言是一种可以为变量分配不同类型数据的语言。一个变量可以一开始保存一个数字，然后被赋予一个字符串，后来甚至被赋予其他类型。下面是一个例子(使用Spidermonkey):</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="bcf7" class="mt lj it lh b gy mu mv l mw mx">let x = 25;<br/>print(x); // displays 25<br/>x = "Hello, world!";<br/>print(x); // displays Hello, world!<br/>x = true;<br/>print(x); // displays true</span></pre><p id="fa6b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当我运行这段代码时没有错误。JavaScript很容易将x从一种类型转换成另一种类型，只需要我给变量分配一个不同的类型。</p><p id="8328" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">弱类型语言的另一个特征是，变量可以在没有声明的情况下突然出现。这可能会导致令人尴尬的错别字，如下例所示:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="32f8" class="mt lj it lh b gy mu mv l mw mx">let number = 20;<br/>numbr = (number / 2) + 5;<br/>print(number); // displays 20 not 15</span></pre><p id="ae5d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里我输入了错误的变量名，但是JavaScript没有抱怨。它只是创建了变量<code class="fe le lf lg lh b">numbr</code>，并根据算术表达式给它赋值。</p><p id="f970" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一方面，TypeScript是一种静态类型的语言，也是强类型的。这意味着我不能随意地通过赋值来改变变量的类型。这段代码导致了TypeScript中的错误:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="372c" class="mt lj it lh b gy mu mv l mw mx">let x = 25<br/>x = "Hello, world!"</span></pre><p id="01f0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一旦我将<code class="fe le lf lg lh b">x</code>定义为一个数字，我就不能返回给它一个字符串值。</p><p id="e8e5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我也不能魔术般地给一个最初没有声明的变量赋值。所以上面的代码在数字输入错误的地方<code class="fe le lf lg lh b">numbr</code>也会导致一个打字错误。</p><p id="ebe5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">强类型、弱类型、动态类型和静态类型的定义归入<em class="my">类型安全</em>的总框架下。如果不能将数据类型的赋值混合到变量中，并且不能使用没有首先声明的变量，那么编程语言就是类型安全的。</p><p id="a387" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，我已经为您提供了不同类型系统和类型安全的概述，让我们看看TypeScript提供的各种数据类型，但首先我需要花一点时间讨论TypeScript如何将类型赋给变量。</p><h1 id="1dd0" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">TypeScript如何分配类型</h1><p id="f636" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">TypeScript中的数据类型可以显式声明，也可以推断出来。推断数据类型是所有JavaScript程序员都习惯的。这里有一个例子:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="6c51" class="mt lj it lh b gy mu mv l mw mx">let x = 23; // the type is inferred to be number<br/>let name = "Jane"; // the type is inferred to be string<br/>let flag = false; // the type is inferred to be boolean</span></pre><p id="1e12" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">JavaScript程序员不会显式声明变量的类型，但是系统会从分配给变量的数据中推断出一个类型，并在后台对变量进行类型化。您可以通过调用<code class="fe le lf lg lh b">typeof</code>操作符来观察变量的数据类型，如下例所示:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="6774" class="mt lj it lh b gy mu mv l mw mx">let number = 100;<br/>print(typeof number); // displays number<br/>let name = "Jane";<br/>print(typeof name); // displays string<br/>let flag = false;<br/>print(typeof flag); // displays boolean</span></pre><p id="4eed" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">JavaScript类型是从存储在变量中的数据推断出来的。</p><p id="f679" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">TypeScript还可以推断类型，如下面的代码所示:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="42aa" class="mt lj it lh b gy mu mv l mw mx">let number = 100;<br/>console.log(typeof(number)); // displays number<br/>let firstName = "Jane";<br/>console.log(typeof(firstName)); // displays string<br/>let flag = false;<br/>console.log(typeof(flag)); // displays boolean</span></pre><p id="bce7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">不同之处在于，这些变量现在不能像JavaScript中允许的那样存储不同类型的数据。</p><p id="66e8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当您想要显式声明变量的数据类型时，可以使用类型注释来实现。以下是类型注释的一些示例:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="ec7f" class="mt lj it lh b gy mu mv l mw mx">let salary :number = 45000<br/>let lastName :string = "Jones"<br/>let flag :boolean = true;</span></pre><p id="e5f3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">函数参数和函数返回类型也可以被注释:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="8ecb" class="mt lj it lh b gy mu mv l mw mx">function ctof(temp :number) :number {<br/>  return (9.0/5.0) * temp + 32.0;<br/>}</span></pre><p id="9998" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">完成概述后，让我们继续讨论各种类型脚本数据类型。</p><h1 id="23d0" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">任何数据类型</h1><p id="14fd" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">TypeScript中最通用的数据类型是<code class="fe le lf lg lh b">any</code>。<code class="fe le lf lg lh b">any</code>类型不会被推断出来，但是可以通过注释来声明。当用<code class="fe le lf lg lh b">any</code>键入程序的数据类型时，TypeScript的行为就像JavaScript一样，这意味着当可能完成计算时，它会尝试将值转换成适当的类型。</p><p id="aa96" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了演示，这里有一个TypeScript格式的程序，如果输入正确，它通常不会编译。相反，变量和数组被类型化为<code class="fe le lf lg lh b">any</code>,所以程序试图执行计算。代码如下:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="c496" class="mt lj it lh b gy mu mv l mw mx">let number :any = 1<br/>let nums :any = [1,2,3]<br/>console.log(number * nums)</span></pre><p id="bc7d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输出是:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="5845" class="mt lj it lh b gy mu mv l mw mx">NaN</span></pre><p id="774f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果没有any声明，这个程序将无法编译，因为TypeScript知道不能将一个数乘以整个数组。</p><p id="27ce" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">几乎在任何情况下都应该避免使用any类型。</p><h1 id="474e" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">未定义的类型</h1><p id="ae8b" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">如果你声明了一个变量但是没有给它赋值，TypeScript会推断出这个变量的类型是<code class="fe le lf lg lh b">undefined</code>。例如:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="b15c" class="mt lj it lh b gy mu mv l mw mx">let salary<br/>console.log(typeof(salary)) // displays undefined</span></pre><p id="3f5f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为变量赋值后，TypeScript将根据分配给变量的表达式“重新推断”适当的数据类型，如下例所示:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="0d02" class="mt lj it lh b gy mu mv l mw mx">let salary<br/>console.log(typeof(salary)) // displays undefined<br/>salary = 30000<br/>console.log(typeof(salary)) // displays number</span></pre><p id="fb1c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你试图对一个没有声明类型或者没有推断类型的变量进行计算，计算将返回<code class="fe le lf lg lh b">NaN</code>或者<code class="fe le lf lg lh b">undefined</code>，这取决于计算中使用的数据类型。</p><h1 id="68e1" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">未知类型</h1><p id="4775" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">如果你需要声明一个变量，但是你不确定在声明的时候它的数据类型是什么，你应该使用<code class="fe le lf lg lh b">unknown</code>类型。当您将一个变量声明为<code class="fe le lf lg lh b">unknown</code>时，它将被TypeScript类型化为未定义的，直到您为它赋值，在这种情况下，TypeScript将从该值推断出它的新类型。</p><p id="4898" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一个变量永远不会被推断为一个<code class="fe le lf lg lh b">unknown</code>，所以当你创建一个新的变量时，你必须声明它。</p><p id="3fc5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是一个工作原理的例子:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="8487" class="mt lj it lh b gy mu mv l mw mx">let number :unknown<br/>console.log("number type: ",typeof(number))<br/>number = 1<br/>console.log("number type: ",typeof(number))</span></pre><p id="7822" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个程序的输出是:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="70f4" class="mt lj it lh b gy mu mv l mw mx">number type:  undefined<br/>number type:  number</span></pre><p id="1c48" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您可以对<code class="fe le lf lg lh b">unknown</code>变量执行一些操作，包括比较操作和求反，但是您不能做其他任何事情。</p><p id="fa74" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你想让你的程序尽可能的类型安全，并且在声明的时候输入所有的变量，那么选择<code class="fe le lf lg lh b">unknown</code>而不是<code class="fe le lf lg lh b">any</code>。</p><p id="80f6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这就结束了我的TypeScript数据类型概述的第1部分。在我的下一篇文章中，我将介绍TypeScript中的其余数据类型。</p><p id="714a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢您的阅读，请回复这篇文章或发邮件给我，告诉我您的意见和建议。</p></div></div>    
</body>
</html>