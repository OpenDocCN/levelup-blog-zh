<html>
<head>
<title>“Responsive” Font-Size Using Vanilla CSS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用普通CSS的“响应式”字体大小</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/responsive-font-size-using-vanilla-css-51f81fe999db?source=collection_archive---------5-----------------------#2020-10-16">https://levelup.gitconnected.com/responsive-font-size-using-vanilla-css-51f81fe999db?source=collection_archive---------5-----------------------#2020-10-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="0825" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">有时候，希望字体大小在屏幕宽度的两个极端之间。奇怪的是，我看到人们为了实现这一点而跳过去，比如使用“RFS ”,正如艾哈迈德·萨克(Ahmed Sakr)在《媒体》( Medium)上的文章(T2)中概述的那样。虽然他的文章写得很好，概述了它是如何工作的，但<a class="ae kq" href="https://github.com/twbs/rfs" rel="noopener ugc nofollow" target="_blank"> RFS本身是一个臃肿的残骸</a>，说明在CSS3计算和比较的时代如何不这样做。</p><p id="1a8d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">虽然可悲的是，这些问题在那些使用无意义垃圾(如CSS预处理程序)的人中很常见，其中<em class="kr">很像框架</em>——令人痛苦的是，创建这种系统的人<em class="kr">和使用它们的人</em>显然没有资格编写一行该死的HTML，更不用说将CSS应用于它，然后厚颜无耻地告诉别人如何这样做了。</p><h1 id="8237" class="ks kt it bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">数学</h1><p id="4452" class="pw-post-body-paragraph jq jr it js b jt lq jv jw jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn im bi translated">可笑的是，这实际上很容易实现。假设您希望最小字体大小为1em，最大字体大小为4em，最大字体大小的缩放比例基于75rem。75rem对于16px/普通用户是1200px，对于像我这样的20px/大字体用户是1500px，对于很多4k设备是2400px。</p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="8c4d" class="me kt it ma b gy mf mg l mh mi">font-size:max(1em, min(4em, calc(100vw * 4 / 75)));</span></pre><p id="327e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你也可以“自己算算”</p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="84fe" class="me kt it ma b gy mf mg l mh mi">font-size:max(1em, min(4em, 5.333vw));</span></pre><p id="a011" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">数学中的4只需要在最小计算中匹配你的4em。</p><p id="4e81" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你不再需要一些巨大的derpy框架或垃圾预处理器，或任何垃圾了。这是一个简单的数学问题，CSS完全有能力自己解决。</p><p id="c80c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后可以利用CSS变量来存储各种值，使它们更容易应用到您的布局中。</p><h1 id="afdd" class="ks kt it bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">与其他实现的主要区别</h1><p id="8c4c" class="pw-post-body-paragraph jq jr it js b jt lq jv jw jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn im bi translated">我们可以使用min/max将最小和最大大小硬编码到公式中，而不是使用媒体查询在其他地方手工指定最大大小。一个简单的电话就能搞定一切。我们不需要考虑(或编写代码)说出(max-width:1200px)或其他诸如包含最大值的单独媒体查询，我们只需将它们全部放在一个声明中。</p><p id="0f5b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它也允许事情<strong class="js iu">实际达到最小值。大多数这样的尝试只是在体宽的一部分上增加了一个基本尺寸，这意味着你所说的最小尺寸并不是你得到的最小尺寸，也不是版面可能达到的最小尺寸。</strong></p><p id="f958" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">同样，这也是100%基于EM的，所以你不会因为像素化的东西而影响可用性和可访问性。同样，正如我在过去15年中说过的数千次，如果你使用EM/%字体大小，你的填充、边距和媒体查询也应该是基于EM的。不要混合搭配，对于非标准字体大小的用户来说，它最终会坏掉…像我自己，我的笔记本电脑和工作站上有20px = = 1REM，我的媒体中心上有32px == 1EM。</p><blockquote class="mj"><p id="b15b" class="mk ml it bd mm mn mo mp mq mr ms kn dk translated">似乎宇宙不喜欢把豌豆和麦片粥混在一起。-卢特塞</p></blockquote><h1 id="067c" class="ks kt it bd ku kv kw kx ky kz la lb lc ld mt lf lg lh mu lj lk ll mv ln lo lp bi translated">所以让我们开始吧！</h1><p id="082a" class="pw-post-body-paragraph jq jr it js b jt lq jv jw jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn im bi translated">以一个简单的页面部分为例:</p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="af8b" class="me kt it ma b gy mf mg l mh mi">&lt;section&gt;<br/>  &lt;h2&gt;Sample Section&lt;/h2&gt;<br/>  &lt;p&gt;<br/>   This card uses a relatively simple CSS calculation to rescale &lt;code&gt;margin&lt;/code&gt;, &lt;code&gt;padding&lt;/code&gt;, &lt;code&gt;font-size&lt;/code&gt;, and &lt;code&gt;border-radius&lt;/code&gt; between a minimum and maximum size based on screen width.<br/>  &lt;/p&gt;&lt;p&gt;<br/>   No LESS/SASS/SCSS rubbish, no NPM package trash, just flipping do it with &lt;code&gt;calc&lt;/code&gt;, &lt;code&gt;min&lt;/code&gt;, &lt;code&gt;max&lt;/code&gt; and some native CSS variables. <br/>  &lt;/p&gt;<br/> &lt;/section&gt;</span></pre><p id="c389" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">首先，我们创建一些变量来处理各种所需的最小和最大尺寸:</p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="87e1" class="me kt it ma b gy mf mg l mh mi">:root {<br/> --base-scale:calc(100vw / 75);<br/> --h2-font-size:max(1em, min(4em, calc(var(--base-scale) * 4)));<br/> --padding-size:max(1em, min(2em, calc(var(--base-scale) * 2)));<br/> --margin-size:max(0.5em, min(2em, calc(var(--base-scale) * 2)));<br/> --border-radius:max(1em, min(3em, calc(var(--base-scale) * 3)));<br/>}</span></pre><p id="9cbb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你想要一个不同的宽度作为最大尺寸的基数，只要把75改成你想要的就行了(em)。我们只是根据需要应用我们的计算。</p><p id="4239" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">同样，“最大(值)”实际上是您的最小尺寸，您的“最小(值)”是您的最大尺寸，最后的乘法值应该与您的“最小(值)”匹配</p><p id="c08b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">应用它们非常简单:</p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="b13d" class="me kt it ma b gy mf mg l mh mi">main section {<br/> max-width:40em;<br/> padding:var(--padding-size);<br/> margin:var(--margin-size);<br/> border-radius:var(--border-radius);<br/> background:#FFF;<br/> border:1px solid #0484;<br/>}</span><span id="9a5e" class="me kt it ma b gy mw mg l mh mi">h2 {<br/> font-size:var(--h2-font-size);<br/>}</span></pre><p id="4c9b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">结果呢？当页面非常大时:</p><figure class="lv lw lx ly gt my gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/8ebd1c30806a1b4f99457e8763e76637.png" data-original-src="https://miro.medium.com/v2/resize:fit:1318/format:webp/1*NdMmS0zWfYXuARtPoY6gMg.png"/></div></figure><p id="487a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">而当小的时候:</p><figure class="lv lw lx ly gt my gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/b99f2355f9185e27d666e0bce17e3959.png" data-original-src="https://miro.medium.com/v2/resize:fit:574/format:webp/1*qC9Zj2yrRKpKGuBvl-Nnhg.png"/></div></figure><p id="3804" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">…填充、边框半径、标题大小等等都会缩小。</p><h1 id="03bb" class="ks kt it bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">现场演示</h1><div class="nc nd gp gr ne nf"><a href="https://cutcodedown.com/for_others/medium_articles/responsiveRescale/responsiveRescale.html" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd iu gy z fp nk fr fs nl fu fw is bi translated">用普通CSS重新缩放部分</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">这个卡使用一个相对简单的CSS计算来重新调整边距、填充、字体大小和边框半径…</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">cutcodedown.com</p></div></div></div></a></div><p id="81e5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">和我所有的例子一样，目录:<br/><a class="ae kq" href="https://cutcodedown.com/for_others/medium_articles/responsiveRescale/" rel="noopener ugc nofollow" target="_blank">https://cutcodedown . com/for _ others/medium _ articles/responsive scale/</a></p><p id="896b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">是完全开放的，可以方便地访问这些有趣的内容，并且包含了一个完整的. rar文件，可以方便地下载、测试和播放。</p><p id="6fdf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于喜欢codepen的人来说:</p><figure class="lv lw lx ly gt my"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="b4dd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">给你。</p><h1 id="cb96" class="ks kt it bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">缺点</h1><p id="ea37" class="pw-post-body-paragraph jq jr it js b jt lq jv jw jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn im bi translated">真的只有一个。传统浏览器会被它卡住。你猜怎么着哦，太好了！！！</p><p id="41e8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是，如果你担心这个问题，就像往常一样去问“caniuse”</p><p id="c2c3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae kq" href="https://caniuse.com/css-math-functions" rel="noopener ugc nofollow" target="_blank">https://caniuse.com/css-math-functions</a></p><p id="c371" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">除此之外，我有几个人说它“太难记了”。真的吗？^C^V人民！</p><h1 id="4f08" class="ks kt it bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">结论</h1><p id="7b89" class="pw-post-body-paragraph jq jr it js b jt lq jv jw jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn im bi translated">我经常惊讶于人们为了“让事情变得更简单”而抛出的大量代码，在这个过程中，你失去了对结果的控制。即使有人使用预处理器或脚本辅助来做这类事情，也应该像将值插入上述公式一样简单。老实说，如果你认为花9k的SCSS去做这件事是值得的，那么，也许是时候离开键盘，去做一些不太注重细节的事情了，比如麦克拉伦。</p><p id="4d15" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是公平地说，“最小”和“最大”是真正新的CSS功能——至少到2020年——尽管所有当前/最近的浏览器引擎都强烈支持它们。那些浪费时间的预处理器垃圾被设计用来填补规范中的空白。通常不再存在的差距。</p><p id="d85c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="kr">只要看看原生CSS变量比预编译变量有多高级就知道了，因为你可以动态地改变它们，这会影响所有调用它的东西。有了预处理器，它们就编译出来了。我用LESS/SASS/SCSS给它们贴上了无用垃圾的标签，让那些懒得知道如何搜索/替换的人看。原生实现其实很有用！</em></p></div></div>    
</body>
</html>