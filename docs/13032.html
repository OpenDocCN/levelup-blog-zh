<html>
<head>
<title>Serverless Computing on AWS, Azure, and Google Cloud</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AWS、Azure和Google Cloud上的无服务器计算</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/serverless-architecture-for-microservices-on-aws-vs-google-cloud-vs-azure-as-iaas-caas-paas-faas-6a64cdaaab86?source=collection_archive---------6-----------------------#2022-08-02">https://levelup.gitconnected.com/serverless-architecture-for-microservices-on-aws-vs-google-cloud-vs-azure-as-iaas-caas-paas-faas-6a64cdaaab86?source=collection_archive---------6-----------------------#2022-08-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/cdb3fdc1c8414327a1ebeabb9d18d371.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LL4uRP0o7c-QM_AopG0pxg.jpeg"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">布兰登·尼尔森在<a class="ae jg" href="https://unsplash.com/photos/L4v4T5aDtnE" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h2 id="ad6d" class="jh ji jj bd b dl jk jl jm jn jo jp dk jq translated" aria-label="kicker paragraph">微服务</h2><div class=""/><div class=""><h2 id="ac97" class="pw-subtitle-paragraph kp js jj bd b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dk translated">了解云部署环境，为您的应用、团队和业务选择最佳替代方案。</h2></div><p id="e946" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">亚马逊在2006年推出了第一个AWS服务:S3用于存储，EC2用于计算。现在，来自AWS、Azure和Google Cloud等各种云供应商的服务和产品太多了。评估这么多选项并选择一个适合你的会让人不知所措。</p><p id="a8c3" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">选择合适的基础设施方案不仅与应用的技术要求有关，还与团队的专业知识和企业的发展阶段有关。</p><p id="8692" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在本文中，您将了解目前可用的云部署方案，以及如何根据您的需求选择合适的方案。我们还将深入探讨无服务器替代方案，以及随着您的团队和业务的增长，什么可以使跨替代方案的迁移变得更容易。</p><h1 id="e026" class="md me jj bd mf mg mh mi mj mk ml mm mn ky mo kz mp lb mq lc mr le ms lf mt mu bi translated">云计算</h1><p id="0f05" class="pw-post-body-paragraph lh li jj lj b lk mv kt lm ln mw kw lp lq mx ls lt lu my lw lx ly mz ma mb mc im bi translated">让我们快速回顾一下什么是云计算，为什么它变得如此广泛。</p><p id="37f8" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">云计算是最基本的计算机资源的<em class="na">虚拟化</em>，并使它们按需可用<em class="na"/>:</p><ul class=""><li id="ee93" class="nb nc jj lj b lk ll ln lo lq nd lu ne ly nf mc ng nh ni nj bi translated"><strong class="lj jt">计算:</strong> CPU、GPU和内存</li><li id="040c" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated"><strong class="lj jt">存储:</strong>持久磁盘</li><li id="bea5" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated"><strong class="lj jt">网络:</strong>数据IO带宽</li></ul><p id="a462" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">其他云服务，如数据库、事件队列都是建立在这些原始资源之上的。</p><p id="2f4b" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">用户不必亲自维护IT基础架构。相反，计算机资源被整合到分布式数据中心，并在用户之间共享。云的价值主张是:</p><ul class=""><li id="a3b2" class="nb nc jj lj b lk ll ln lo lq nd lu ne ly nf mc ng nh ni nj bi translated">免除IT基础架构的资本支出规划</li><li id="d46a" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated">能够按需扩展IT基础架构，以及</li><li id="fa17" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated">数据中心基础架构整合带来的规模经济。</li></ul><p id="fa09" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">有两种云IT基础架构:</p><ul class=""><li id="4bf0" class="nb nc jj lj b lk ll ln lo lq nd lu ne ly nf mc ng nh ni nj bi translated"><strong class="lj jt">内部:</strong>当您运行自己的数据中心，为整个公司的团队整合IT基础架构时。</li><li id="1ea2" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated"><strong class="lj jt">公有云:</strong>当你把它外包给云厂商(AWS，Azure，Google Cloud，IBM等。)，其IT基础架构由多个客户共享。</li></ul><p id="d50e" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">有不同的服务模式(IaaS、PaaS、SaaS等。)取决于您在云部署中期望的控制和抽象级别。我们将研究每一个模型，但首先让我们了解无服务器计算。</p><h1 id="cfe5" class="md me jj bd mf mg mh mi mj mk ml mm mn ky mo kz mp lb mq lc mr le ms lf mt mu bi translated">无服务器计算</h1><p id="074b" class="pw-post-body-paragraph lh li jj lj b lk mv kt lm ln mw kw lp lq mx ls lt lu my lw lx ly mz ma mb mc im bi translated">无服务器并不意味着没有服务器。只是开发者不与服务器交互，也不管理服务器。无服务器计算有三个特征:</p><ul class=""><li id="bec8" class="nb nc jj lj b lk ll ln lo lq nd lu ne ly nf mc ng nh ni nj bi translated"><strong class="lj jt">无服务器管理员:</strong>无前期供应，无服务器管理</li><li id="3639" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated"><strong class="lj jt">自动扩展:</strong> infra会根据使用情况自动扩展，并且高度可用</li><li id="7162" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated"><strong class="lj jt">按使用付费:</strong>没有闲置的基础设施成本，只为您使用的东西付费</li></ul><p id="2475" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">三大云供应商都提供几种<em class="na">无服务器</em>云服务，如数据库、数据仓库、事件流和API网关。在本文中，我们将重点关注用于部署应用程序和服务的基本计算机资源(计算、内存)的无服务器计算选项。</p><p id="82f7" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">无服务器部署有两个好处:</p><ul class=""><li id="0476" class="nb nc jj lj b lk ll ln lo lq nd lu ne ly nf mc ng nh ni nj bi translated"><strong class="lj jt">快速开发:</strong>减少DevOps释放资源专注于开发，提高开发人员生产力。您可以更快地开发和推出您的应用和服务。</li><li id="7ce6" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated"><strong class="lj jt">更低的成本:</strong>您可以选择一种经济高效的无服务器替代方案(得益于按使用付费)，同时享受针对突然负载峰值的保险(得益于自动扩展)。只有在非常高的规模下，放弃无服务器并自己管理计算规模才更经济。</li></ul></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><h1 id="30e5" class="md me jj bd mf mg nw mi mj mk nx mm mn ky ny kz mp lb nz lc mr le oa lf mt mu bi translated">云部署:IaaS vs PaaS vs SaaS</h1><p id="7bce" class="pw-post-body-paragraph lh li jj lj b lk mv kt lm ln mw kw lp lq mx ls lt lu my lw lx ly mz ma mb mc im bi translated">让我们从内部一直走到SaaS，了解云部署范围。</p><h2 id="f7db" class="ob me jj bd mf oc od dn mj oe of dp mn lq og oh mp lu oi oj mr ly ok ol mt jp bi translated">内部(内部)</h2><p id="ce96" class="pw-post-body-paragraph lh li jj lj b lk mv kt lm ln mw kw lp lq mx ls lt lu my lw lx ly mz ma mb mc im bi translated">在传统的内部云部署中，您在多个地理位置构建和运营数据中心。您可以从裸机硬件开始控制和管理一切。</p><p id="1cee" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">显然，这种方法只适用于非常非常大的公司，如脸书和谷歌。不是每个人都有能力建立自己的多地理位置数据中心，并持续进行这种规模的容量规划。甚至<a class="ae jg" href="https://blog.twitter.com/engineering/en_us/topics/infrastructure/2019/the-start-of-a-journey-into-the-cloud" rel="noopener ugc nofollow" target="_blank"> Twitter也考虑将一切从内部迁移到云</a>和<a class="ae jg" href="https://www.youtube.com/watch?v=4FLFcWgZdo4" rel="noopener ugc nofollow" target="_blank">将数据处理</a>和<a class="ae jg" href="https://www.youtube.com/watch?v=3QHGhnHx5HQ" rel="noopener ugc nofollow" target="_blank">分析迁移到谷歌云</a>。</p><h2 id="62bf" class="ob me jj bd mf oc od dn mj oe of dp mn lq og oh mp lu oi oj mr ly ok ol mt jp bi translated">基础设施即服务(IaaS)</h2><p id="9314" class="pw-post-body-paragraph lh li jj lj b lk mv kt lm ln mw kw lp lq mx ls lt lu my lw lx ly mz ma mb mc im bi translated">这是最简单的选择。你在云上得到一个虚拟机。你可以在本地机器上做任何事情，但是现在通过<code class="fe om on oo op b">ssh</code>到远程虚拟机。你可以通过点击浏览器来启动(和关闭)任意多的程序。</p><p id="f185" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您的云供应商正在使用虚拟机管理程序对硬件进行虚拟化，以划分和分配资源。它甚至可以为您提供专用机器的选项，而无需与任何其他租户共享。</p><ul class=""><li id="f261" class="nb nc jj lj b lk ll ln lo lq nd lu ne ly nf mc ng nh ni nj bi translated"><strong class="lj jt"> AWS: </strong>亚马逊弹性计算云(EC2)，EC2专用主机，面向GPU的EC2 P3</li><li id="7d15" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated"><strong class="lj jt"> Azure: </strong> Azure虚拟机，Azure专用主机，Azure GPU优化虚拟机</li><li id="e7e6" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated"><strong class="lj jt"> GCP: </strong>谷歌计算引擎，独立租户节点，云GPU</li></ul><h2 id="a779" class="ob me jj bd mf oc od dn mj oe of dp mn lq og oh mp lu oi oj mr ly ok ol mt jp bi translated">容器即服务(CaaS)</h2><p id="6225" class="pw-post-body-paragraph lh li jj lj b lk mv kt lm ln mw kw lp lq mx ls lt lu my lw lx ly mz ma mb mc im bi translated">容器是运行应用程序服务所需的应用程序代码和所有必要依赖项(例如，特定版本的编程语言运行时和库)的轻量级包。</p><p id="017e" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">正如虚拟机虚拟化计算机硬件一样，容器虚拟化操作系统。容器定义了精确的应用运行时，无论您是在笔记本电脑上还是在公共云上运行应用，都可以确保相同的执行环境。</p><p id="7b87" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">container engineer可以在裸机物理机上运行，但是在生产环境中，它通常在虚拟机上运行。</p><p id="f6ab" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这些容器是使用类似于<a class="ae jg" href="https://kubernetes.io/" rel="noopener ugc nofollow" target="_blank"> Kubernetes </a>的工具编排的。您必须配置一个Kubernetes集群并定义伸缩规则。随着服务负载的增加，Kubernetes将根据配置创建更多的容器实例和虚拟机节点。</p><ul class=""><li id="931b" class="nb nc jj lj b lk ll ln lo lq nd lu ne ly nf mc ng nh ni nj bi translated"><strong class="lj jt"> AWS: </strong>使用EC2的弹性集装箱服务(ECS)或弹性Kubernetes服务(EKS)</li><li id="bfc7" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated"><strong class="lj jt"> Azure: </strong> Azure Kubernetes服务(AKS)</li><li id="42b9" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated"><strong class="lj jt"> GCP: </strong>库伯内特发动机</li></ul><figure class="or os ot ou gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oq"><img src="../Images/0e1e51ea6a3a86e9ddd7a1d29e59c2f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jzHhWrI6YIgGzBD6lu7hng.jpeg"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">虚拟机与容器</figcaption></figure><h2 id="91ba" class="ob me jj bd mf oc od dn mj oe of dp mn lq og oh mp lu oi oj mr ly ok ol mt jp bi translated">无服务器CaaS</h2><p id="68d9" class="pw-post-body-paragraph lh li jj lj b lk mv kt lm ln mw kw lp lq mx ls lt lu my lw lx ly mz ma mb mc im bi translated">无论是虚拟机还是带有orchestrator的容器，都需要配置和管理服务器。无服务器CaaS将供应集群的责任委托给云供应商。您在由云供应商管理和扩展的集群上运行您的容器。</p><p id="a1a2" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在CaaS和无服务器CaaS之间切换时，您不需要对容器进行任何更改。两者运行同一个容器。唯一的区别是谁管理服务器集群，你还是云供应商。</p><p id="838b" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">无服务器CaaS具有容器的所有优点，但没有管理Kubernetes集群的麻烦。</p><ul class=""><li id="a0fc" class="nb nc jj lj b lk ll ln lo lq nd lu ne ly nf mc ng nh ni nj bi translated"><strong class="lj jt">AWS:</strong>App Runner；Fargate的弹性集装箱服务(ECS)或弹性Kubernetes服务(EKS)</li><li id="607e" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated">Azure:  Azure容器应用</li><li id="32fa" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated"><strong class="lj jt"> GCP: </strong>云润</li></ul><h2 id="044b" class="ob me jj bd mf oc od dn mj oe of dp mn lq og oh mp lu oi oj mr ly ok ol mt jp bi translated">平台即服务(PaaS)</h2><p id="494d" class="pw-post-body-paragraph lh li jj lj b lk mv kt lm ln mw kw lp lq mx ls lt lu my lw lx ly mz ma mb mc im bi translated">PaaS产品先于CaaS。不同的云供应商提供了一组固定的运行时和自动伸缩。您可以选择适合您的web应用程序或服务的运行时。</p><p id="1f6f" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在某种程度上，固定运行时就像容器，尽管是由云供应商而不是您定义的。我预见无服务器的CAA会盖过PaaS。当您可以用容器选择自己的运行时，为什么要将自己限制在供应商提供的运行时中呢？</p><ul class=""><li id="50c4" class="nb nc jj lj b lk ll ln lo lq nd lu ne ly nf mc ng nh ni nj bi translated"><strong class="lj jt"> AWS: </strong>弹性豆茎</li><li id="b55a" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated"><strong class="lj jt"> Azure: </strong> App服务</li><li id="eedf" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated">GCP:  App引擎</li></ul><h2 id="35e2" class="ob me jj bd mf oc od dn mj oe of dp mn lq og oh mp lu oi oj mr ly ok ol mt jp bi translated">功能即服务(FaaS)</h2><p id="dae8" class="pw-post-body-paragraph lh li jj lj b lk mv kt lm ln mw kw lp lq mx ls lt lu my lw lx ly mz ma mb mc im bi translated">您将应用程序设计为一组无状态的、事件驱动的、短命的“纳米”服务。在典型的3层设计中，您有一个API网关，它将服务API映射到一个函数。这些函数可以与<a class="ae jg" href="https://towardsdatascience.com/datastore-choices-sql-vs-nosql-database-ebec24d56106" rel="noopener" target="_blank">数据存储库</a>交互，以执行业务逻辑，然后返回结果。</p><p id="58d4" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">云供应商在其功能产品中支持多种编程语言。但是一定要检查冷启动时间:收到触发后启动该功能所需的时间。</p><p id="886e" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在接收到触发事件(很可能是REST API调用)时，启动该函数。它会在完成时关闭。因此，您只需支付这段时间的费用。由于为每个事件触发器启动(或重用)一个函数，因此缩放是透明的。</p><ul class=""><li id="56f8" class="nb nc jj lj b lk ll ln lo lq nd lu ne ly nf mc ng nh ni nj bi translated"><strong class="lj jt">自动气象站:</strong>λ</li><li id="5462" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated"><strong class="lj jt">天蓝色:</strong>天蓝色功能</li><li id="d09c" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated"><strong class="lj jt"> GCP: </strong>云函数</li></ul><h2 id="01b4" class="ob me jj bd mf oc od dn mj oe of dp mn lq og oh mp lu oi oj mr ly ok ol mt jp bi translated">软件即服务(SaaS)</h2><p id="5bb0" class="pw-post-body-paragraph lh li jj lj b lk mv kt lm ln mw kw lp lq mx ls lt lu my lw lx ly mz ma mb mc im bi translated">SaaS封装了任务的逻辑。例如，<a class="ae jg" href="https://aws.amazon.com/cognito/" rel="noopener ugc nofollow" target="_blank"> Amazon Cognito </a>负责用户注册、登录和访问控制，因此您甚至不必编写逻辑代码。类似地，<a class="ae jg" href="https://cloud.google.com/speech-to-text" rel="noopener ugc nofollow" target="_blank">谷歌的语音转文本</a>服务进行自动语音识别，并将音频流转录为文本。</p><p id="eeea" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">通用任务的SaaS宇宙减少了开发时间。您选择正确的服务，配置并组合它们，只编写特定于您的应用程序的业务逻辑。您为每次API调用付费。</p><figure class="or os ot ou gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oq"><img src="../Images/640b48a0b28636e11bee8705f24fd048.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6u00B55VaRrsBU3-5chSUw.jpeg"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">云部署范围:内部部署vs IaaS vs CaaS vs PaaS vs FaaS vs SaaS</figcaption></figure></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><h1 id="3ebd" class="md me jj bd mf mg nw mi mj mk nx mm mn ky ny kz mp lb nz lc mr le oa lf mt mu bi translated">无服务器架构</h1><p id="797f" class="pw-post-body-paragraph lh li jj lj b lk mv kt lm ln mw kw lp lq mx ls lt lu my lw lx ly mz ma mb mc im bi translated">无服务器架构是一种设计应用和服务的方法，它消除了供应和管理底层服务器基础设施的需要。</p><p id="b5d4" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">您通过编织云供应商提供的服务并仅编码您的业务逻辑来设计应用程序。</p><p id="1d41" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这意味着您将使用云供应商提供的数据库、身份服务、API网关、事件队列和其他无服务器服务，而不是自行部署。这种方法的一个缺点是供应商锁定，因为您已经将自己的服务与云供应商提供的服务紧密联系在一起。</p><p id="1c81" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">鉴于主要云供应商的生态系统之间的相似性，您可以在一定程度上降低这种风险。如果有必要，您可以考虑构建瘦<a class="ae jg" href="https://en.wikipedia.org/wiki/Facade_pattern" rel="noopener ugc nofollow" target="_blank">外观</a>和<a class="ae jg" href="https://en.wikipedia.org/wiki/Factory_method_pattern" rel="noopener ugc nofollow" target="_blank">工厂方法</a>设计模式，以隔离特定于云供应商的代码，并保持您的业务逻辑不受污染。</p><h2 id="3af0" class="ob me jj bd mf oc od dn mj oe of dp mn lq og oh mp lu oi oj mr ly ok ol mt jp bi translated">无服务器！= FaaS</h2><p id="0bf5" class="pw-post-body-paragraph lh li jj lj b lk mv kt lm ln mw kw lp lq mx ls lt lu my lw lx ly mz ma mb mc im bi translated">许多人认为只有FaaS没有服务器。在我看来，这是无服务器的极端定义。将所有业务逻辑实现为短命的、无状态的、事件驱动的(“纳米”)服务既不总是理想的，而且可能会花费您更多的成本，尤其是当您的使用率一直很高的时候。</p><p id="21da" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">只要您不供应、配置和管理服务器集群来运行和扩展您的服务，我就认为它是无服务器的。在我的书中，即使是将一个整体服务打包在一个容器中，并将其部署在无服务器的CaaS上也是无服务器的。</p><h1 id="0752" class="md me jj bd mf mg mh mi mj mk ml mm mn ky mo kz mp lb mq lc mr le ms lf mt mu bi translated">云原生开发战略</h1><p id="7415" class="pw-post-body-paragraph lh li jj lj b lk mv kt lm ln mw kw lp lq mx ls lt lu my lw lx ly mz ma mb mc im bi translated">我不相信以技术为中心的发展战略。考虑团队能力和商业环境是很重要的。一定要考虑让你的技术决策面向未来，但不要以现在为代价。</p><h2 id="93b8" class="ob me jj bd mf oc od dn mj oe of dp mn lq og oh mp lu oi oj mr ly ok ol mt jp bi translated">如果您正在构建PoC或初始最小可行产品</h2><p id="afae" class="pw-post-body-paragraph lh li jj lj b lk mv kt lm ln mw kw lp lq mx ls lt lu my lw lx ly mz ma mb mc im bi translated">你想尽快放到用户手里，时间就是最宝贵的商品。此外，您的服务负载将非常低，而且是零星的。只要能满足您的技术需求，FaaS解决方案将是最简单、最快速的解决方案。</p><p id="543e" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果FaaS不工作，那么尝试从您的供应商的PaaS运行时。只有在极少数情况下，您才需要使用无服务器CAA或更高版本。</p><h2 id="8dfc" class="ob me jj bd mf oc od dn mj oe of dp mn lq og oh mp lu oi oj mr ly ok ol mt jp bi translated">你有合适的产品市场，知道你需要做什么</h2><p id="f38b" class="pw-post-body-paragraph lh li jj lj b lk mv kt lm ln mw kw lp lq mx ls lt lu my lw lx ly mz ma mb mc im bi translated">你可以住在FaaS或PaaS，尤其是如果你预计在相当长的一段时间内交通流量稀少。但是在这个阶段，是时候清理你的FaaS/PaaS在迭代PoC/MVP时可能变得一团糟了。</p><p id="c483" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">你在这个阶段做出的设计决策将会持续很长一段时间。由于您对业务需求有清晰的了解，并且对您需要构建什么有一个公平的想法，您应该仔细检查您的应用程序架构，并确保它将持续100倍的流量增长。</p><p id="2792" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我建议从CaaS开始。您希望专注于满足客户的需求，而不希望每天都与间歇性的不可重现的错误交火。您应该投资于为您的服务定义容器，并在开发、阶段和产品部署中使用它们。</p><p id="a516" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">选择归结为CaaS和无服务器CaaS。回答这两个问题:</p><ul class=""><li id="b899" class="nb nc jj lj b lk ll ln lo lq nd lu ne ly nf mc ng nh ni nj bi translated">您的团队目前拥有Kubernetes DevOps功能吗？</li><li id="4bc6" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated">CaaS的成本建模预测是否更低？</li></ul><p id="9988" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果两个问题的答案都是“是”，那么就选CaaS，否则就选Serverkess CaaS。</p><p id="3ebf" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">请记住，这个错误的代价并不大，您可以很容易地逆转这个决定，因为相同的容器可以部署在CaaS或无服务器CaaS上。在两者之间切换不需要对容器或应用程序代码进行任何更改。</p><h2 id="b265" class="ob me jj bd mf oc od dn mj oe of dp mn lq og oh mp lu oi oj mr ly ok ol mt jp bi translated">如果您出于某种疯狂的原因需要完全控制虚拟机</h2><p id="0c80" class="pw-post-body-paragraph lh li jj lj b lk mv kt lm ln mw kw lp lq mx ls lt lu my lw lx ly mz ma mb mc im bi translated">你注定要被困在IaaS。</p><h1 id="84c6" class="md me jj bd mf mg mh mi mj mk ml mm mn ky mo kz mp lb mq lc mr le ms lf mt mu bi translated">云迁移策略</h1><p id="c020" class="pw-post-body-paragraph lh li jj lj b lk mv kt lm ln mw kw lp lq mx ls lt lu my lw lx ly mz ma mb mc im bi translated">如果您正在将一个现有的应用程序或服务迁移到云，第一个问题是:您是希望“原样”迁移它，还是希望针对云进行优化？</p><h2 id="599c" class="ob me jj bd mf oc od dn mj oe of dp mn lq og oh mp lu oi oj mr ly ok ol mt jp bi translated">提升和移动</h2><p id="abdc" class="pw-post-body-paragraph lh li jj lj b lk mv kt lm ln mw kw lp lq mx ls lt lu my lw lx ly mz ma mb mc im bi translated">您可以将应用程序迁移到云，而无需重新设计或更改代码。它也被称为<em class="na">主机转移</em>。</p><p id="9e4a" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果应用程序可以容器化，那么您必须为它定义容器，并享受统一运行时的好处。CaaS和无服务器CaaS之间的选择是相同的。如果您的DevOps团队中有Kubernetes技能并且CaaS更便宜，请选择CaaS，否则请选择无服务器CaaS。</p><p id="731c" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果应用程序不能容器化，但有一个PaaS运行时适合它，那么就使用PaaS，否则就必须使用IaaS。</p><h2 id="397e" class="ob me jj bd mf oc od dn mj oe of dp mn lq og oh mp lu oi oj mr ly ok ol mt jp bi translated">云优化</h2><p id="75d1" class="pw-post-body-paragraph lh li jj lj b lk mv kt lm ln mw kw lp lq mx ls lt lu my lw lx ly mz ma mb mc im bi translated">如果您正在重新设计应用程序并针对云进行优化，那么您的情况与开发新应用程序的情况相同，但有两点需要注意:</p><ul class=""><li id="df80" class="nb nc jj lj b lk ll ln lo lq nd lu ne ly nf mc ng nh ni nj bi translated">如果您需要虚拟机级别的控制，那么没有什么需要重新设计的。您将使用IaaS，所以坚持使用lift-cand-shift。</li><li id="c3df" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated">既然是现有app，你已经有产品市场契合度了。因此，遵循同样的决策路径。</li></ul><figure class="or os ot ou gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oq"><img src="../Images/2b418bde2597b52d5ea25eeb8b61dd31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BxS32SqbaHkj8uGDtI-T9g.jpeg"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">服务部署清单:AWS vs Azure vs Google Cloud</figcaption></figure></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><h1 id="7820" class="md me jj bd mf mg nw mi mj mk nx mm mn ky ny kz mp lb nz lc mr le oa lf mt mu bi translated">摘要</h1><p id="369a" class="pw-post-body-paragraph lh li jj lj b lk mv kt lm ln mw kw lp lq mx ls lt lu my lw lx ly mz ma mb mc im bi translated">快速回顾一下本文所涵盖的内容:</p><ul class=""><li id="1c7d" class="nb nc jj lj b lk ll ln lo lq nd lu ne ly nf mc ng nh ni nj bi translated">什么是云计算？</li><li id="7b23" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated">什么是无服务器？</li><li id="dda1" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated">云部署范围:IaaS vs CaaS vs PaaS vs FaaS vs SaaS</li><li id="17a4" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated">主流云中的计算替代方案:AWS vs Azure vs Google Cloud</li><li id="8b53" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated">云原生开发和迁移策略</li></ul><p id="e5af" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">希望这篇文章对你有用。请在评论中给出你的反馈和建议。</p><h1 id="01f4" class="md me jj bd mf mg mh mi mj mk ml mm mn ky mo kz mp lb mq lc mr le ms lf mt mu bi translated">资源</h1><ul class=""><li id="194f" class="nb nc jj lj b lk mv ln mw lq ov lu ow ly ox mc ng nh ni nj bi translated"><a class="ae jg" href="https://docs.aws.amazon.com/whitepapers/latest/aws-overview/compute-services.html" rel="noopener ugc nofollow" target="_blank"> AWS计算服务</a></li><li id="780a" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated"><a class="ae jg" href="https://docs.microsoft.com/azure/architecture/guide/technology-choices/compute-decision-tree" rel="noopener ugc nofollow" target="_blank">选择Azure计算服务</a></li><li id="8b64" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated"><a class="ae jg" href="https://cloud.google.com/blog/topics/developers-practitioners/where-should-i-run-my-stuff-choosing-google-cloud-compute-option" rel="noopener ugc nofollow" target="_blank">选择谷歌云计算选项</a></li><li id="f769" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated">MartinFowler.com Mike Roberts的<a class="ae jg" href="https://martinfowler.com/articles/serverless.html" rel="noopener ugc nofollow" target="_blank">无服务器架构</a></li><li id="3f34" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated"><a class="ae jg" href="https://aws.amazon.com/serverless/" rel="noopener ugc nofollow" target="_blank">AWS上的无服务器</a></li><li id="d556" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated"><a class="ae jg" href="https://docs.microsoft.com/dotnet/architecture/serverless/" rel="noopener ugc nofollow" target="_blank">无服务器应用:架构、模式和Azure实现</a></li><li id="1b66" class="nb nc jj lj b lk nk ln nl lq nm lu nn ly no mc ng nh ni nj bi translated"><a class="ae jg" href="https://cloud.google.com/serverless/whitepaper" rel="noopener ugc nofollow" target="_blank">谷歌云上的无服务器</a></li></ul></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><p id="a4db" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">如果您喜欢，请:</strong></p><div class="or os ot ou gt ab cb"><figure class="oy iv oz pa pb pc pd paragraph-image"><a href="https://www.ml4devs.com/newsletter/"><img src="../Images/c0b3ff1cd100b0d083b64ab62d80415e.png" data-original-src="https://miro.medium.com/v2/resize:fit:666/format:webp/1*5WJhoEqI8dgVeCQdXcISzA.png"/></a></figure><figure class="oy iv oz pa pb pc pd paragraph-image"><a href="https://twitter.com/intent/follow?user_id=29633907"><img src="../Images/bac2c0b02e577402bc596ec11cb947ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:666/format:webp/1*23xdhWOYiyv7oyEyiHBFyA.png"/></a></figure><figure class="oy iv oz pa pb pc pd paragraph-image"><a href="https://www.linkedin.com/in/scgupta/"><img src="../Images/e264d4e0ccfd62b7b649f4ddbf47cc11.png" data-original-src="https://miro.medium.com/v2/resize:fit:666/format:webp/1*_37VjowTkhzWFS1v6qpTSA.png"/></a></figure></div><p id="8dfe" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><em class="na">原载于</em><a class="ae jg" href="https://www.ml4devs.com/articles/serverless-architecture-for-microservices-on-aws-vs-google-cloud-vs-azure-as-iaas-caas-paas-faas/" rel="noopener ugc nofollow" target="_blank">【ML4Devs.com】T21</a><em class="na">。</em></p></div></div>    
</body>
</html>