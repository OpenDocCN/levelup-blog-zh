<html>
<head>
<title>Write Adobe XD Plugins Using TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用TypeScript编写Adobe XD插件</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/write-adobe-xd-plugins-using-typescript-40457b16cbc0?source=collection_archive---------1-----------------------#2018-12-10">https://levelup.gitconnected.com/write-adobe-xd-plugins-using-typescript-40457b16cbc0?source=collection_archive---------1-----------------------#2018-12-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="586a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">喜欢这个帖子？你可能会喜欢</em><a class="ae km" href="http://www.bentoblox.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="kl">BentoBlox</em></strong></a><strong class="jp ir"><em class="kl"/></strong><em class="kl">太——在</em><a class="ae km" href="https://itunes.apple.com/us/app/bentoblox/id1361865513?ls=1&amp;mt=8" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="kl">App Store</em></strong></a><em class="kl">上查看这里的游戏。</em></p><p id="7353" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae km" href="https://www.adobe.com/products/xd.html" rel="noopener ugc nofollow" target="_blank"> Adobe XD </a>是一个桌面应用程序，移动/web设计人员使用它来构建应用程序和网站的线框和原型(如果你熟悉<a class="ae km" href="https://www.sketchapp.com/" rel="noopener ugc nofollow" target="_blank"> Sketch </a>，它提供了一个类似的用例)。</p><p id="5897" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">作为开发人员，你可以编写第三方插件在<code class="fe kn ko kp kq b">XD</code>中使用，但是有一个警告:你将使用JavaScript。如果你和我一样，并且多年来一直享受着健壮类型系统的好处，那么在没有健壮类型系统的情况下编写软件的前景将会是一个障碍。</p><p id="5ea9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">谢天谢地，还有<code class="fe kn ko kp kq b">TypeScript</code>。</p><p id="fe7b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe kn ko kp kq b">TypeScript</code>听起来就是:键入的Javascript。它支持JavaScript的标准类型(<code class="fe kn ko kp kq b">string</code>、<code class="fe kn ko kp kq b">number</code>等)，以及您可能决定编写的任何自定义类型。</p><p id="25b9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">开发人员可以用自己的类型扩展基本类型系统，这一点至关重要。有了它，类型系统可以扩展到包含<code class="fe kn ko kp kq b">Adobe XD</code> API特有的类型(<code class="fe kn ko kp kq b">Point</code>、<code class="fe kn ko kp kq b">Matrix</code>、<code class="fe kn ko kp kq b">Rectangle</code>等)。</p><div class="kr ks gp gr kt ku"><a href="https://gitconnected.com/learn/typescript" rel="noopener  ugc nofollow" target="_blank"><div class="kv ab fo"><div class="kw ab kx cl cj ky"><h2 class="bd ir gy z fp kz fr fs la fu fw ip bi translated">学习TypeScript -最佳TypeScript教程(2018) | gitconnected</h2><div class="lb l"><h3 class="bd b gy z fp kz fr fs la fu fw dk translated">前18名打字稿教程。课程由开发者提交并投票，使您能够找到最好的…</h3></div><div class="lc l"><p class="bd b dl z fp kz fr fs la fu fw dk translated">gitconnected.com</p></div></div><div class="ld l"><div class="le l lf lg lh ld li lj ku"/></div></div></a></div><p id="5cf0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这篇文章中，我将介绍使用<code class="fe kn ko kp kq b">TypeScript</code>构建一个超级简单的<code class="fe kn ko kp kq b">XD</code>插件的过程。</p><blockquote class="lk ll lm"><p id="20da" class="jn jo kl jp b jq jr js jt ju jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj kk ij bi translated"><em class="iq">在继续之前，浏览一下</em> <a class="ae km" href="https://adobexdplatform.com/plugin-docs/tutorials/quick-start/" rel="noopener ugc nofollow" target="_blank"> <em class="iq"> Adobe的快速入门教程</em> </a> <em class="iq">，这样你就有了一个可以开始工作的javascript项目。最后，您应该有一个类似于</em> <a class="ae km" href="https://gitlab.com/mattthousand/adobexdstarter" rel="noopener ugc nofollow" target="_blank"> <em class="iq">这个</em> </a> <em class="iq">的项目(*还要确保将</em> <code class="fe kn ko kp kq b"><em class="iq">manifest.json</em></code> <em class="iq">中的</em> <code class="fe kn ko kp kq b"><em class="iq">id</em></code> <em class="iq">值替换为来自</em> <code class="fe kn ko kp kq b"><em class="iq">Adobe I/O Console</em></code> <em class="iq">的唯一插件ID)。</em></p></blockquote><p id="dca7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">浏览完快速入门教程后，你应该有一个包含两个文件的项目:<code class="fe kn ko kp kq b">main.js</code>和<code class="fe kn ko kp kq b">manifest.json</code>。在同一个目录下，创建一个<code class="fe kn ko kp kq b">main.ts</code>文件。这是你放置<code class="fe kn ko kp kq b">TypeScript</code>代码的地方。</p><p id="d858" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是在你开始写代码之前，你需要定义<code class="fe kn ko kp kq b">Adobe XD</code>的类型，这样你才能使用它们。幸运的是，<a class="ae km" href="https://github.com/pklaschka" rel="noopener ugc nofollow" target="_blank"> Pablo </a>已经为<code class="fe kn ko kp kq b">XD</code>编写了类型，您可以通过在您的根目录下创建一个<code class="fe kn ko kp kq b">package.json</code>文件并添加他的repo作为依赖项来下拉它们:</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi lq"><img src="../Images/147e0203e5b63e7b8a1524ccbc0ec46a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*UArQ1Pqg0QzaKTibDG8lyA.png"/></div></figure><p id="5d14" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">只需从命令行运行<code class="fe kn ko kp kq b">npm install</code>来下拉类型。</p><p id="5b5a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在你可以开始写插件了。下面是一个简单的<code class="fe kn ko kp kq b">TypeScript</code>程序，它导入了几个<code class="fe kn ko kp kq b">Adobe</code>类型并绘制了一个紫色椭圆:</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/a8c6d36bf4e6826bb51815f3cd06b48c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/format:webp/1*vIbBmxb-a5f6Ew7gWClDDQ.png"/></div></figure><p id="8dc3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">指定类型(<code class="fe kn ko kp kq b">const newElement: Ellipse = new Ellipse()</code>)允许您充分利用编译器，并在编译时发现与类型相关的错误。例如，指定<code class="fe kn ko kp kq b">const newElement: Ellipse = New Color()</code>将导致您的代码无法编译——并让您免于在运行时发现错误的噩梦。</p><p id="b6d1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你需要的下一件事是让<code class="fe kn ko kp kq b">Adobe XD</code>访问你的代码。</p><p id="b51d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">转到根目录中的<code class="fe kn ko kp kq b">manifest.json</code>文件。这个文件包含关于你的插件的基本元数据，包括应该在<code class="fe kn ko kp kq b">XD</code>中向用户公开的任何命令的名称。将您的<code class="fe kn ko kp kq b">createEllipse</code>命令添加到<code class="fe kn ko kp kq b">uiEntryPoints</code>集合:</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi ly"><img src="../Images/a9d7cdd0ee912d6ab8047ca9b10ba308.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-G8irlThWG6Xv2NWOtoc3Q.png"/></div></div></figure><p id="91bb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在编译<code class="fe kn ko kp kq b">TypeScript</code>程序和运行插件之前，你需要做的最后一步是创建一个<code class="fe kn ko kp kq b">tsconfig.json</code>文件。该文件指定包含您的类型定义和您可能选择的任何编译器选项的源代码:</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi md"><img src="../Images/0d6924645b78ac08d2b69cb0c6aa8dbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M8nKcMEggTVTVJhDmhZjsA.png"/></div></div></figure><p id="35b4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在你可以编译你的<code class="fe kn ko kp kq b">TypeScript</code>代码了。从命令行，导航到插件的根目录，用<code class="fe kn ko kp kq b">tsc</code>调用编译器。完成后，您的<code class="fe kn ko kp kq b">main.js</code>文件现在将包含从您在<code class="fe kn ko kp kq b">main.ts</code>中编写的代码编译而来的javascript。</p><p id="3410" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在你终于可以运行你的插件了。打开<code class="fe kn ko kp kq b">Adobe XD</code>，导航到<code class="fe kn ko kp kq b">Plugins</code>，点击<code class="fe kn ko kp kq b">Create Ellipse</code>。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi me"><img src="../Images/5c22f62cd53621adef7a68cd6a0c0951.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*uAH93M3tISbIdOBqipVg2w.gif"/></div></div></figure><p id="24d1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">维奥拉。这是所有的乡亲。点击查看已完成的插件<a class="ae km" href="https://gitlab.com/mattthousand/adobexdstarter" rel="noopener ugc nofollow" target="_blank">，并对<code class="fe kn ko kp kq b">AdobeXD</code>的<code class="fe kn ko kp kq b">TypeScript</code>进行评论。</a></p><p id="4fef" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">喜欢这个帖子？你可能也喜欢</em><a class="ae km" href="http://www.bentoblox.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="kl">BentoBlox</em></strong></a><strong class="jp ir"><em class="kl"/></strong><em class="kl">——在</em><a class="ae km" href="https://itunes.apple.com/us/app/bentoblox/id1361865513?ls=1&amp;mt=8" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="kl">App Store</em></strong></a><em class="kl">上查看这里的游戏。</em></p></div><div class="ab cl mf mg hu mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ij ik il im in"><figure class="lr ls lt lu gt lv gh gi paragraph-image"><a href="https://levelup.gitconnected.com"><div class="gh gi mm"><img src="../Images/439094b9a664ef0239afbc4565c6ca49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S9uYu-fFL3hIQLGVu0o-EQ.png"/></div></a></figure></div></div>    
</body>
</html>