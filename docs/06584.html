<html>
<head>
<title>How to Use SVG in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在React中使用SVG</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-use-svg-in-react-b1d74d66c8d0?source=collection_archive---------8-----------------------#2020-12-09">https://levelup.gitconnected.com/how-to-use-svg-in-react-b1d74d66c8d0?source=collection_archive---------8-----------------------#2020-12-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="48b0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">从SVG中制作可重用React组件的简单方法，不需要复杂的工具——只需React、ReactDOM和JSX。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/1246e3c4fa921aa79109dda43bc050ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h7oAJc1QbqubQFlXbWW75g.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">图片由<a class="ae le" href="https://www.linkedin.com/in/magda-waksberg-986754180/?originalSubdomain=pl" rel="noopener ugc nofollow" target="_blank">玛格达·瓦克斯伯格</a>拍摄</figcaption></figure><p id="0255" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您正在React中工作，刚刚获得一个SVG，并希望在一个项目中使用它。</p><p id="9660" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你如何接近它？让它成为一个组件！</p><p id="ab52" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">有什么好处？您将能够在不同的React组件中重用SVG，并且还可以控制它的属性。而且，很容易。</p><p id="034a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">所以让我们开始吧。</p><h1 id="0d74" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">我们在建造什么？</h1><p id="73a0" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">我们将构建一个小的SVG组件。我们将能够控制它的大小、颜色和渐变颜色。最终的效果只是两个文件——一个标准HTML文件和一个SVG React组件。</p><p id="860b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们将使用尽可能简单的工具——React、ReactDOM和JSX。不需要使用任何样板文件或花哨的打包程序(除了JSX解析)。</p><h1 id="fe6a" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">设置项目</h1><p id="bd4a" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">要设置这个项目，我们只需要一个HTML和一个SVG来转换成一个组件。</p><p id="4f3b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">HTML:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mi mj l"/></div></figure><p id="df3f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">还有我们正在使用的<a class="ae le" href="https://gist.github.com/sadamiak/685420b86375768ed3a4eedca1d9daa1#file-icon-svg" rel="noopener ugc nofollow" target="_blank"> SVG </a>。请记住，您甚至不必将SVG图标添加到项目中；您可以使用在线工具将其转换为React组件。</p><p id="ba94" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们的目标是用灵活的SVG组件创建<code class="fe mk ml mm mn b">component.js</code>文件。</p><h1 id="89cc" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">将SVG转换为组件</h1><p id="7b39" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">您可以使用像<a class="ae le" href="https://svg2jsx.com/" rel="noopener ugc nofollow" target="_blank"> svg2jsx </a>这样的在线工具将SVG转换为组件，或者使用<a class="ae le" href="https://react-svgr.com/" rel="noopener ugc nofollow" target="_blank"> SVGR </a>，它可以用作节点库、CLI工具、webpack插件，甚至是Visual Studio代码扩展。</p><p id="5692" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">因为是一次性的，所以我使用了svg2jsx。</p><p id="eb8a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您选择的工具应该返回一个简洁的React组件。到目前为止，一切顺利；我们已经有了一个工作的SVG组件。现在是时候让它更灵活了。</p><p id="b313" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们将让组件接受三个道具:<code class="fe mk ml mm mn b">size</code>、<code class="fe mk ml mm mn b">color</code>和<code class="fe mk ml mm mn b">gradientColor</code>。我们还会添加一些漂亮的默认值，以防有人忘记设置道具。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mi mj l"/></div></figure><p id="7cb9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后两行将呈现三个图标；你不需要担心他们。</p><p id="10f0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">所以我们从SVG中得到了一个图标组件。它接受三个道具，工作正常。或者几乎没事。问题是每个图标都有相同的渐变颜色，即使它们有不同的<code class="fe mk ml mm mn b">gradientColor</code>值。</p><h1 id="b468" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">固定渐变</h1><p id="e485" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">渐变有什么问题？如果你仔细观察，你会发现渐变定义在第12行和第22行之间。并且梯度具有ID:</p><pre class="kp kq kr ks gt mo mn mp mq aw mr bi"><span id="2987" class="ms lg it mn b gy mt mu l mv mw">&lt;linearGradient id=”linearGradient-1"&gt;</span></pre><p id="295e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">该ID稍后用于第30行:</p><pre class="kp kq kr ks gt mo mn mp mq aw mr bi"><span id="ac5a" class="ms lg it mn b gy mt mu l mv mw">&lt;path fill=”url(#linearGradient-1)”&gt;</span></pre><p id="8d5a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">所以在我们的代码中，React创建了三个图标组件。并且每个都有自己的ID相同的<code class="fe mk ml mm mn b">linearGradient</code>定义。但是由于id必须是唯一的，所以只使用第一个<code class="fe mk ml mm mn b">linearGradient</code>。所有其他图标都被忽略，所以每个图标都会获得最先定义的渐变。</p><p id="92e1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了解决这个问题，我们将在渐变中添加唯一的id。每种颜色至少有一个唯一的ID。为此，我们可以使用十六进制颜色作为ID。最终代码:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mi mj l"/></div></figure><p id="411e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在我们已经有了一个由SVG构成的完全工作的、灵活的组件。</p></div></div>    
</body>
</html>