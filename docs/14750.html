<html>
<head>
<title>A few JavaScript hacks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一些JavaScript技巧</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/a-few-javascript-hacks-cf2b11df84ca?source=collection_archive---------0-----------------------#2022-12-21">https://levelup.gitconnected.com/a-few-javascript-hacks-cf2b11df84ca?source=collection_archive---------0-----------------------#2022-12-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/64c60875b78965cf773892459e70879a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*imV6HzPsVjY7YIC_tw0F5g.jpeg"/></div></div></figure><p id="a095" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">JavaScript是最流行的编程语言，与HTML和CSS一样，是网络的核心技术之一。它简单易学，可用于客户端和服务器端开发。</p><p id="e7c4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这里有一些JavaScript (JS)技巧，可以提高代码的效率。</p><ol class=""><li id="6ab0" class="kz la it kd b ke kf ki kj km lb kq lc ku ld ky le lf lg lh bi translated"><strong class="kd iu">从数组中获取唯一值</strong></li></ol><pre class="li lj lk ll gt lm ln lo bn lp lq bi"><span id="9507" class="lr ls it ln b be lt lu l lv lw">const numbers = [ 1, 1, 2, 3, 4, 4, 5]<br/><br/>const uniqueNumbers = [ ...new Set(numbers)]<br/><br/>console.log(uniqueNumbers) // [1, 2, 3, 4, 5]</span></pre><p id="d4d0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">使用<a class="ae lx" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set" rel="noopener ugc nofollow" target="_blank"> Set </a>对象，我们可以从数组中删除重复项。在上面的例子中，我们使用了<a class="ae lx" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" rel="noopener ugc nofollow" target="_blank"> Spread </a>操作符(…)来包含数组中的所有元素(在我们的例子中是<code class="fe ly lz ma ln b">numbers</code>)。</p><p id="8656" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">2.<strong class="kd iu">将数字转换为字符串</strong></p><pre class="li lj lk ll gt lm ln lo bn lp lq bi"><span id="f0d7" class="lr ls it ln b be lt lu l lv lw">let a = 2<br/><br/>let s1 = a.toString()<br/>let s2 = String(a)<br/>let s3 = '' + a<br/>let s4 = `${a}`<br/><br/>console.log(s1, typeof s1) //2 string<br/>console.log(s2, typeof s2) //2 string<br/>console.log(s3, typeof s3) //2 string<br/>console.log(s4, typeof s4) //2 string</span></pre><p id="90ab" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您可以选择上述四种方法之一将整数或浮点数转换为字符串类型。第三种方法是连接一个空字符串，这是最简单的方法之一。</p><p id="a3dc" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">3.<strong class="kd iu">转换为数字</strong></p><pre class="li lj lk ll gt lm ln lo bn lp lq bi"><span id="2f6f" class="lr ls it ln b be lt lu l lv lw">const toNumber = (str) =&gt; ( +str)<br/><br/>console.log(toNumber('test')) //NaN<br/>console.log(toNumber('3')) //3<br/>console.log(toNumber(new Date())) //1671598549947<br/><br/>/*------------------------*/<br/><br/>console.log(~~('test')) //0<br/>console.log(~~('3')) //3</span></pre><p id="467e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您可以像上面的例子一样使用+运算符将字符串数字转换成数字。否则会返回<code class="fe ly lz ma ln b">NaN </code>(不是数字)。它也可以转换<code class="fe ly lz ma ln b">Date</code>，但是会返回时间戳。</p><p id="294e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您还可以使用操作符<code class="fe ly lz ma ln b">~~</code>将字符串数字转换成数字。在这种情况下，字符串文本将作为<code class="fe ly lz ma ln b">0</code>返回。</p><p id="6242" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">4.<strong class="kd iu">条件句快捷键</strong></p><pre class="li lj lk ll gt lm ln lo bn lp lq bi"><span id="6d09" class="lr ls it ln b be lt lu l lv lw">//normal way<br/>if(someCondition) {<br/>  console.log("I'm in")<br/>}<br/><br/>//easier and shorter<br/>someCondition &amp;&amp; console.log("I'm in") // I'm in<br/><br/>/*------------------------*/<br/><br/>//normal way<br/>if(data) {<br/>  return data<br/>}<br/>else{<br/>  return 'no data'<br/>}<br/><br/>//easier and shorter<br/>return (data || 'no data')</span></pre><p id="c0df" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您可以使用逻辑AND ( <code class="fe ly lz ma ln b">&amp;&amp;</code>)和OR ( <code class="fe ly lz ma ln b">||</code>)运算符来缩短<code class="fe ly lz ma ln b">if else</code>条件。</p><p id="837c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">4.<strong class="kd iu">默认值使用OR ( </strong> <code class="fe ly lz ma ln b"><strong class="kd iu">||</strong></code> <strong class="kd iu">)运算符</strong></p><pre class="li lj lk ll gt lm ln lo bn lp lq bi"><span id="60b5" class="lr ls it ln b be lt lu l lv lw">function Car(make, year){<br/>  this.make = make || 'Toyota'<br/>  this.year = year || 2000<br/>}<br/><br/>let carOne= new Car('Ford', 1998)<br/>console.log(carOne.make, carOne.year)  //Ford 1998<br/><br/>let carTwo = new Car()<br/>console.log(carTwo.make, carTwo.year)  //Toyota 2000</span></pre><p id="b9c3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您可以使用OR ( <code class="fe ly lz ma ln b">||</code>)运算符，并将默认值设置为要使用的第二个参数。如果第一个参数返回false或未定义，则第二个参数将用作默认值。</p><p id="a5ec" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">5.<strong class="kd iu">使用</strong>T10清空数组或调整数组大小</p><pre class="li lj lk ll gt lm ln lo bn lp lq bi"><span id="72a2" class="lr ls it ln b be lt lu l lv lw">let numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9]<br/>console.log(numbers.length) //9<br/><br/>//Resize<br/>numbers.length = 4<br/>console.log(numbers, numbers.length) //[1, 2, 3, 4] 4<br/><br/>//Empty<br/>numbers.length = 0<br/>console.log(numbers, numbers.length) //[] 0</span></pre><p id="b2af" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您可以使用数组实例的<code class="fe ly lz ma ln b"><a class="ae lx" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/length" rel="noopener ugc nofollow" target="_blank">length</a></code>数据属性来调整数组大小或清空数组。</p><p id="bbf8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">6.<strong class="kd iu">将大型数组合并在一起</strong></p><pre class="li lj lk ll gt lm ln lo bn lp lq bi"><span id="f20e" class="lr ls it ln b be lt lu l lv lw">//small data sets<br/>let first = [ 1, 2, 3, 4, 5]<br/>let second= ['a','e','i', 'o', 'u']<br/><br/>console.log(first.concat(second)) //[1, 2, 3, 4, 5, 'a', 'e', 'i', 'o', 'u']<br/><br/>//for large data sets<br/>console.log(first.push.apply(first, second)) //10<br/>console.log(first) //[1, 2, 3, 4, 5, 'a', 'e', 'i', 'o', 'u']</span></pre><p id="9109" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您可以使用<code class="fe ly lz ma ln b">Array.concat()</code>函数或<code class="fe ly lz ma ln b">Array.push.apply()</code>来合并数组。但是对于大型数据集，使用<code class="fe ly lz ma ln b">Array.push.apply()</code>(例如:<code class="fe ly lz ma ln b">arr1.push.apply(arr1, arr2)</code>)，它将第二个数组合并到第一个数组中，而无需创建新的数组，也不会像<code class="fe ly lz ma ln b">Array.concat</code>那样消耗大量内存。</p><p id="9b7d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">7.<strong class="kd iu">转换为布尔型</strong></p><pre class="li lj lk ll gt lm ln lo bn lp lq bi"><span id="be41" class="lr ls it ln b be lt lu l lv lw">const thanks = "Thanks for reading!"<br/><br/>console.log(!!thanks) //true<br/>console.log(Boolean(thanks)) //true</span></pre><p id="7531" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您可以在变量前使用双重否定运算符(<code class="fe ly lz ma ln b">!!</code>)将任何类型的数据转换为布尔值。只有当它有这些值<code class="fe ly lz ma ln b">0, null, " ", undefined or NaN</code>时，它才会返回false，否则，它将返回true。</p><p id="4cdb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您还可以使用<code class="fe ly lz ma ln b">Boolean() </code>函数将传递的值转换成布尔值。</p><p id="0484" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">8.<strong class="kd iu">将二维数组转换为一维数组</strong></p><pre class="li lj lk ll gt lm ln lo bn lp lq bi"><span id="48ac" class="lr ls it ln b be lt lu l lv lw">let doubleD = [1, [2, 3, 4, 5], [6, 7], 8, 9]<br/>console.log([].concat(...doubleD)) //[1, 2, 3, 4, 5, 6, 7, 8, 9]</span></pre><p id="f39b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您可以使用spread运算符将二维数组转换为一维数组。</p><p id="fd12" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">9.<strong class="kd iu">动态键/属性名</strong></p><pre class="li lj lk ll gt lm ln lo bn lp lq bi"><span id="8d6e" class="lr ls it ln b be lt lu l lv lw">const dynamicKey = 'year'<br/>let Car = {<br/>  make: 'Toyota',<br/>  [dynamicKey]: 1998<br/>}<br/><br/>console.log(Car) //{ make: "Toyota", year: 1998 }</span></pre><p id="5d61" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">上面的例子显示了我们如何为对象设置动态键名。</p><p id="dc30" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">10.<strong class="kd iu"> Foreach循环</strong></p><pre class="li lj lk ll gt lm ln lo bn lp lq bi"><span id="dea1" class="lr ls it ln b be lt lu l lv lw">//normal way<br/>for(let i = 0; i&lt; data.length; i++)<br/><br/>//easier way<br/>for(let i in data)<br/>for(let i of data)</span></pre><p id="d945" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">编码快乐！</p></div><div class="ab cl mb mc hx md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="im in io ip iq"><p id="5075" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们感谢您阅读这篇文章。如果你喜欢我的文章，但不是Medium的会员，你可以注册一个Medium会员资格，可以无限制地访问所有内容，并支持我们作为作家。</p><div class="mi mj gp gr mk ml"><a href="https://sagar-shrestha.medium.com/membership" rel="noopener follow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd iu gy z fp mq fr fs mr fu fw is bi translated">加入我的推荐链接-萨加尔Shrestha媒体</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">阅读Sagar Shrestha(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接支持…</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">sagar-shrestha.medium.com</p></div></div><div class="mu l"><div class="mv l mw mx my mu mz jz ml"/></div></div></a></div></div></div>    
</body>
</html>