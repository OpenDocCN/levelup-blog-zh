<html>
<head>
<title>Typical TypeScript: Using Unions to Enforce Inputs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å…¸å‹çš„ç±»å‹è„šæœ¬:ä½¿ç”¨è”åˆå¼ºåˆ¶è¾“å…¥</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/typical-typescript-using-unions-to-enforce-inputs-2413abb12805?source=collection_archive---------21-----------------------#2020-07-21">https://levelup.gitconnected.com/typical-typescript-using-unions-to-enforce-inputs-2413abb12805?source=collection_archive---------21-----------------------#2020-07-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="82a1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">ç”¨ç±»å‹è¡¨è¾¾ä¸šåŠ¡é€»è¾‘</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4997fdb8e4ff7656a498b71ea22af5c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zJUshIh3G9U_sI24CgaIhA.jpeg"/></div></div></figure><p id="47a2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi lq translated">ä»Šå¹´æ—©äº›æ—¶å€™ï¼Œæˆ‘è¢«æ‹‰è¿›äº†ä¸€äº›ä¸CCPAæœ‰å…³çš„ç´§æ€¥å·¥ä½œä¸­ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå½“ç›¸å…³çš„ç¥¨æ®ç¦»å¼€é˜Ÿåˆ—æ—¶ï¼ŒæœåŠ¡æ²¡æœ‰æ­£ç¡®åœ°å…³é—­å®ƒä»¬ï¼Œè¿™å¯¼è‡´äº†å¤§é‡æ‰‹å·¥å·¥ä½œçš„ç§¯å‹ã€‚å¯¹ä»»ä½•å‚ä¸å…¶ä¸­çš„äººæ¥è¯´éƒ½æ¯«æ— ä¹è¶£ã€‚</p><p id="9f1d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">åœ¨è°ƒæŸ¥è¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°æˆ‘ä»¬å‘é€çš„è®°å½•ä¸­æœ‰å‡ ä¸ªä»¤äººè‹¦æ¼çš„é”™è¯¯:</p><ul class=""><li id="6b68" class="lz ma it kw b kx ky la lb ld mb lh mc ll md lp me mf mg mh bi translated">å¿…éœ€çš„<code class="fe mi mj mk ml b">serviceNowTaskId</code>åœ¨å‡ ä¸ªå…³é”®åœ°æ–¹è¢«æ‹¼é”™äº†(å¯åŠ¨æ—¶ä¸ä¸€è‡´)ã€‚ä¾‹å¦‚ï¼Œ<code class="fe mi mj mk ml b">servideNowTaskid</code>ğŸ˜¬</li><li id="803c" class="lz ma it kw b kx mm la mn ld mo lh mp ll mq lp me mf mg mh bi translated">æ›´ç³Ÿç³•çš„æ˜¯ï¼Œ<code class="fe mi mj mk ml b">clientRequestId</code>(ä¹Ÿæ˜¯å¿…è¦çš„)åœ¨æ¯æ¬¡é€šè¯ä¸­éƒ½å®Œå…¨æ¶ˆå¤±äº†ï¼Œè¿™åŠ å‰§äº†å¤±è´¥ğŸ’¨</li></ul><pre class="kj kk kl km gt mr ml ms mt aw mu bi"><span id="783e" class="mv mw it ml b gy mx my l mz na"><em class="nb">// An example of what this looked like in practice<br/></em>sendRecords({<br/>  records: [<br/>    {<br/>      status: 'OK',<br/>      payload: {<br/>        assetId: 12345,<br/>        servidenowTaskid: 'doomed for failure',<br/>        workNotes: 'What could go wrong?',<br/>      },<br/>    },<br/>  ],<br/>  topic: 'It be like this sometimes',<br/>});</span></pre><p id="c610" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">è¯·è®°ä½ï¼Œè¿™ä¸ªé¡¹ç›®<em class="nb">æ˜¯ç”¨TypeScriptç¼–å†™çš„</em>ï¼Œæ‰€ä»¥æˆ‘éå¸¸å¥½å¥‡ä¸ºä»€ä¹ˆè¿™åœ¨ä¸€å¼€å§‹å°±æœ‰å¯èƒ½ã€‚è®©æˆ‘æ„Ÿåˆ°ææ€–çš„æ˜¯ï¼Œå¯¹ç½ªé­ç¥¸é¦–æ¥å£çš„å¿«é€Ÿè°ƒæŸ¥æ˜¾ç¤º:</p><pre class="kj kk kl km gt mr ml ms mt aw mu bi"><span id="c6c2" class="mv mw it ml b gy mx my l mz na">export interface SendRecordRequest {<br/>  readonly records: ReadonlyArray&lt;any&gt;; ğŸ¤¦â€â™‚ï¸<br/>  readonly topic: string;<br/>}</span></pre><p id="4963" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">å¯æ€•çš„<code class="fe mi mj mk ml b">any</code>ï¼è¿™è§£é‡Šäº†ä¸ºä»€ä¹ˆæœ€åˆæ²¡æœ‰ç±»å‹æ£€æŸ¥æ¥æ•æ‰é”™è¯¯ã€‚å¾ˆå¯èƒ½æ˜¯ä¸€ä¸ªä»“ä¿ƒçš„ç‰¹ç‚¹ï¼Œéœ€è¦ä¸€ç‚¹å‹¤å¥‹ã€‚</p><h2 id="0b87" class="mv mw it bd nc nd ne dn nf ng nh dp ni ld nj nk nl lh nm nn no ll np nq nr ns bi translated">å……å®ç±»å‹å¹¶è·å¾—å†…å¿ƒçš„å¹³é™</h2><p id="d023" class="pw-post-body-paragraph ku kv it kw b kx nt ju kz la nu jx lc ld nv lf lg lh nw lj lk ll nx ln lo lp im bi translated">æˆ‘ä»¬ç»å¯¹å¯ä»¥åœ¨è¿™é‡Œçš„<code class="fe mi mj mk ml b">record</code>ç±»å‹ä¸Šå¤šä¸‹ä¸€ç‚¹åŠŸå¤«ï¼Œä¸ºæˆ‘ä»¬è‡ªå·±å’Œæœªæ¥çš„ä»»ä½•äººçœå»è®¸å¤šç—›è‹¦ã€‚ä¸ºäº†ç¡®ä¿æˆ‘ä»¬å‘é€çš„æ‰€æœ‰è®°å½•éƒ½å…·æœ‰æ­£ç¡®çš„å±æ€§ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªç®€å•çš„ç•Œé¢ï¼Œå¹¶åœ¨æˆ‘çš„IDEä¸­çœ‹åˆ°äº†æ‰€æœ‰ç”Ÿæˆçš„çº¢è‰²æ›²çº¿â€¦</p><pre class="kj kk kl km gt mr ml ms mt aw mu bi"><span id="cf80" class="mv mw it ml b gy mx my l mz na">export interface SendRecordRequest {<br/><strong class="ml iu">  readonly records: SnowRecord[]; // ğŸ˜€ type-checked records!<br/></strong>  readonly topic: string;<br/>}</span><span id="01b3" class="mv mw it ml b gy ny my l mz na">// Flesh out the type for an individual record<br/>export interface SnowRecord {<br/>  status: 'OK';<br/>  payload: {<br/>    clientRequestId: string;<br/>    serviceNowTaskId: string;<br/>    status: SnowStatus;<br/>    workNotes?: string | null;<br/>  };<br/>};</span><span id="0172" class="mv mw it ml b gy ny my l mz na">// Idea, move common strings into an enum for easy refactors...<br/>export enum SnowStatus {<br/>  WIP = 'Work in Progress',<br/>  CLOSED = 'Closed Complete',<br/>  ...<br/>};</span></pre><p id="7b45" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">è¿™å¯¼è‡´ç¼–è¯‘å™¨åœ¨<code class="fe mi mj mk ml b">serviceNowTaskId</code>å’Œå…¶ä»–å±æ€§è¢«æ‹¼é”™çš„åœ°æ–¹ç«‹å³å‘å‡ºè­¦å‘Šï¼Œå¦‚æœæˆ‘ä»¬ç¼ºå°‘ä¸€ä¸ªçŠ¶æ€ï¼ŒåŒ…æ‹¬ä¸€äº›æ„æƒ³ä¸åˆ°çš„ä¸œè¥¿ï¼Œä»¥åŠæ‰€æœ‰å…¶ä»–æ¥è‡ªTypeScriptçš„ä¸€èˆ¬ä¼˜ç‚¹ï¼Œå¦‚è‡ªåŠ¨å®Œæˆå»ºè®®ã€‚</p><pre class="kj kk kl km gt mr ml ms mt aw mu bi"><span id="ab63" class="mv mw it ml b gy mx my l mz na">// The new developer experience!<br/>sendRecords({<br/>  records: [<br/>    {<br/>      status: 'OK',<br/>      payload: { <strong class="ml iu">ğŸš¨ TS error, no `status`!</strong><br/>        assetId: 12345,<br/>        clientRequestId,<br/>        servicenowTaskid: snowId, <strong class="ml iu">ğŸš¨ TS error, unexpected prop!</strong><br/>        workNotes: "Wow, that's handy",<br/>      },<br/>    },<br/>  ],<br/>  topic: 'Confidence!',<br/>});</span></pre><p id="0fc7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">æœ€åï¼Œä¸–ç•Œçš„è¿™ä¸€å°å—åœ°æ–¹ä¸€åˆ‡éƒ½å¾ˆå¥½ï¼Œå¾ˆæ­£å¸¸ã€‚</p></div><div class="ab cl nz oa hx ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="im in io ip iq"><h2 id="988f" class="mv mw it bd nc nd ne dn nf ng nh dp ni ld nj nk nl lh nm nn no ll np nq nr ns bi translated">æ–°çš„è¦æ±‚æ¥äº†</h2><p id="5111" class="pw-post-body-paragraph ku kv it kw b kx nt ju kz la nu jx lc ld nv lf lg lh nw lj lk ll nx ln lo lp im bi translated">åœ¨æˆ‘è§£å†³äº†è¿™ä¸ªä»¤äººå°´å°¬çš„é—®é¢˜åä¸ä¹…ï¼Œæ¥è‡ªç®¡ç†å±‚çš„æ–°è¦æ±‚æ˜¯ç»™æˆ‘ä»¬çš„æœ‰æ•ˆè½½è·æ·»åŠ ä¸€ä¸ªå¼ºåˆ¶æ€§çš„â€œé—­åŒ…ä»£ç â€ã€‚è¿™å°†è®©ä»–ä»¬æ›´æ·±å…¥åœ°äº†è§£ç¥¨è¯è¢«å…³é—­çš„åŸå› ã€‚å¾ˆå…¬å¹³ï¼Œä½†æ˜¯å¦‚æœä¸€ä¸ªç»™å®šçš„æ ‡ç­¾è¢«è®¾ç½®ä¸º<code class="fe mi mj mk ml b">CLOSED</code>ï¼Œé‚£ä¹ˆåŒ…å«å…³é—­ä»£ç <em class="nb">åªæœ‰</em>æ‰æœ‰æ„ä¹‰ï¼›ä½ ä¸ä¼šæƒ³è®©å®ƒå‡ºç°åœ¨æ­£åœ¨è¿›è¡Œçš„ç¥¨æ®ä¸Šçš„ï¼æ­¤å¤–ï¼Œå¦‚æœè®°å½•åŒ…å«å…³é—­ä»£ç å’Œéå…³é—­çŠ¶æ€ï¼Œé˜Ÿåˆ—å°†æ‹’ç»è¯¥è®°å½•ã€‚</p><p id="ed29" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">è¿™ç»™æˆ‘åˆšåˆšåˆ¶ä½œçš„å¹²å‡€ã€ç®€å•çš„ç•Œé¢å¸¦æ¥äº†ä¸€ä¸ªé—®é¢˜ï¼Œä¹Ÿç»™æˆ‘æƒ³è®©ä»£ç å¸®åŠ©æŒ‡å¯¼æœªæ¥è½å…¥è¿™ä¸€é¢†åŸŸçš„å¼€å‘äººå‘˜çš„æ¢¦æƒ³å¸¦æ¥äº†é—®é¢˜ã€‚æˆ‘å½“ç„¶å¯ä»¥ç»™æœ‰æ•ˆè½½è·æ·»åŠ ä¸€ä¸ª<code class="fe mi mj mk ml b">closureCode?: string</code>ï¼Œç„¶åå°±ç»“æŸäº†ï¼Œä½†æ˜¯è¿™æ ·æˆ‘ä»¬å°±ä¸ä¼šå¼ºåˆ¶æ‰§è¡Œ<code class="fe mi mj mk ml b">closureCode</code>å’Œ<code class="fe mi mj mk ml b">status</code>ä¹‹é—´çš„å…³ç³»ã€‚æˆ‘å¯ä»¥åªæ·»åŠ è¯„è®ºï¼Œä½†æˆ‘æƒ³åšå¾—æ›´å¥½ã€‚</p><h2 id="4590" class="mv mw it bd nc nd ne dn nf ng nh dp ni ld nj nk nl lh nm nn no ll np nq nr ns bi translated">ç­‰ç­‰ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å·¥ä¼š</h2><p id="6658" class="pw-post-body-paragraph ku kv it kw b kx nt ju kz la nu jx lc ld nv lf lg lh nw lj lk ll nx ln lo lp im bi translated">è®©æˆ‘ä»¬æ¥çœ‹çœ‹ä¸€ä¸ªç®€å•çš„æ–¹æ³•ï¼Œç„¶åæ¸…ç†å®ƒï¼</p><pre class="kj kk kl km gt mr ml ms mt aw mu bi"><span id="1252" class="mv mw it ml b gy mx my l mz na">export interface SnowRecord {<br/>  status: 'OK';<br/><strong class="ml iu">  payload: SnowPayloadWip | SnowPayloadClosed;<br/></strong>}</span><span id="2561" class="mv mw it ml b gy ny my l mz na">interface SnowPayloadWip {<br/>  assetId: number;<br/>  serviceNowTaskId: string;<br/>  status: SnowStatus.WIP;<br/>  workNotes?: string | null;<br/>}</span><span id="c51c" class="mv mw it ml b gy ny my l mz na">interface SnowPayloadClosed {<br/>  assetId: number;<br/>  serviceNowTaskId: string;<br/>  status: SnowStatus.CLOSED;<br/>  workNotes?: string | null;<br/>  closureCode: SnowClosureCode;<br/>}</span></pre><p id="3022" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">åœ¨å®è·µä¸­ï¼Œç”¨æ³•ä¹Ÿéå¸¸å·§å¦™ï¼</p><pre class="kj kk kl km gt mr ml ms mt aw mu bi"><span id="ed07" class="mv mw it ml b gy mx my l mz na">sendRecords({<br/>  records: [<br/>    {<br/>      status: 'OK',<br/>      payload: { <strong class="ml iu">ğŸš¨ TS error, expected `closureCode`</strong><br/>        assetId: 12345,<br/>        clientRequestId,<br/>        serviceNowTaskId: snowId,<br/>        status: SnowStatus.CLOSED,<br/>        workNotes: "Wow, that's handy",<br/>      },<br/>    },<br/>  ],<br/>  topic: 'Flexibility!',<br/>});</span><span id="6ce4" class="mv mw it ml b gy ny my l mz na">// Alternatively<br/>sendRecords({<br/>  records: [<br/>    {<br/>      status: 'OK',<br/>      payload: {<br/>        assetId: 12345,<br/>        clientRequestId,<br/>        serviceNowTaskId: snowId,<br/>        status: SnowStatus.WIP,<br/>        closureCode: SnowClosureCode.NO_DATA, <strong class="ml iu">ğŸš¨ TS error!</strong><br/>      },<br/>    },<br/>  ],<br/>  topic: 'Flexibility!',<br/>});</span></pre><p id="f032" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">è®©æˆ‘ä»¬ä»æœ‰æ•ˆè½½è·çš„è§’åº¦æ¥çœ‹è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘æƒ³è¯´çš„å…³é”®ç‚¹æ˜¯:</p><pre class="kj kk kl km gt mr ml ms mt aw mu bi"><span id="8dc9" class="mv mw it ml b gy mx my l mz na">payload: SnowPayloadWip | SnowPayloadClosed</span></pre><p id="4d05" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi lq translated">è¿™æ˜¯ä¸€ä¸ªä¸¤ç§ç±»å‹çš„<em class="nb">è”åˆ</em>ï¼Œè¿™æ„å‘³ç€<code class="fe mi mj mk ml b">payload</code>å¯ä»¥æ˜¯<em class="nb">WIPå½¢çŠ¶æˆ–é—­åˆå½¢çŠ¶(æˆ–è€…æ›´å¤šï¼Œå¦‚æœæˆ‘ä»¬æ‰©å±•è”åˆï¼)ï¼Œä½†ä¸èƒ½ä¸¤è€…å…¼è€Œæœ‰ä¹‹ã€‚è¿™å¯¹äºæˆ‘ä»¬çš„æƒ…å†µæ¥è¯´æ˜¯å®Œç¾çš„ï¼Œå› ä¸ºå½“å¼€å‘äººå‘˜è¯•å›¾åˆ›å»ºæ— æ•ˆçš„å±æ€§ç»„åˆæ—¶ï¼Œå®ƒä¼šå‘å‡ºè­¦å‘Šï¼ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªå¼€å‘äººå‘˜è¯•å›¾ç¼–å†™ä¸€ä¸ªä»£ç å—ï¼Œå‘é€ä¸€ä¸ªçŠ¶æ€ä¸ºWIP <em class="nb">çš„è®°å½•ï¼Œå¹¶ä¸”</em>åŒ…å«ä¸€ä¸ªç»“æŸä»£ç ï¼Œä»–ä»¬ä¼šä»IDEä¸­å¾—åˆ°ä¸€ä¸ªå…³äº<code class="fe mi mj mk ml b">closureCode</code>æ˜¯ä¸€ä¸ªæ„å¤–å±æ€§çš„è­¦å‘Šï¼åŒæ ·ï¼Œå¦‚æœçŠ¶æ€æ˜¯closedï¼Œä»–ä»¬ä¼šå› ä¸ºæ²¡æœ‰åŒ…å«<code class="fe mi mj mk ml b">closureCode</code>è€Œæ”¶åˆ°è­¦å‘Šã€‚</em></p><p id="936c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">è¿™æ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯é‚£äº›ç•Œé¢çœ‹èµ·æ¥éå¸¸é‡å¤ï¼Œä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬è®¨åŒä¸å¿…è¦çš„é‡å¤ï¼</p><h2 id="0602" class="mv mw it bd nc nd ne dn nf ng nh dp ni ld nj nk nl lh nm nn no ll np nq nr ns bi translated">å¹²çš„æ—¶å€™ï¼</h2><p id="8196" class="pw-post-body-paragraph ku kv it kw b kx nt ju kz la nu jx lc ld nv lf lg lh nw lj lk ll nx ln lo lp im bi translated">ä½¿ç”¨ä¸€ç‚¹é¢å¤–çš„TypeScript-fuï¼Œæˆ‘ä»¬å¯ä»¥<a class="ae og" href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself" rel="noopener ugc nofollow" target="_blank">é€šè¿‡åˆ›å»ºæ‰€æœ‰å…¬å…±å±æ€§çš„åŸºæœ¬æ¥å£ï¼Œç„¶åç”¨æˆ‘ä»¬éœ€è¦çš„æ¯ç§ç»„åˆçš„é…ç½®æ¥æ‰©å±•å®ƒï¼Œä»è€Œå®Œæˆè¿™ä¸ªä»»åŠ¡ã€‚</a></p><pre class="kj kk kl km gt mr ml ms mt aw mu bi"><span id="bc4c" class="mv mw it ml b gy mx my l mz na">interface SnowPayload {<br/>  assetId: number;<br/>  serviceNowTaskId: string;<br/>  status: SnowStatus;<br/>  workNotes?: string | null;<br/>}</span><span id="7513" class="mv mw it ml b gy ny my l mz na">interface SnowPayloadWip extends SnowPayload {<br/>  status: SnowStatus.WIP;<br/>}</span><span id="664a" class="mv mw it ml b gy ny my l mz na">interface SnowPayloadClosed extends SnowPayload {<br/>  status: SnowStatus.CLOSED;<br/>  closureCode: SnowClosureCode;<br/>}</span></pre><p id="172d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">å› ä¸ºæˆ‘ä»¬æ‰©å±•äº†<code class="fe mi mj mk ml b">SnowPayload</code>ï¼Œè¿™äº›æ–°æ¥å£ä¸­çš„æ¯ä¸€ä¸ªéƒ½åŒ…å«äº†å®ƒçš„å±æ€§ï¼Œå¹¶ä¸”è¿˜å¯ä»¥è¦†ç›–å®ƒä»¬åŸæ¥çš„å®šä¹‰(æ¯”å¦‚<code class="fe mi mj mk ml b">status</code>)æˆ–è€…æ·»åŠ å…¶ä»–çš„ã€‚è¿™ç§»é™¤äº†ä¸¤ä¸ªæ¥å£ä¹‹é—´çš„é‡å¤å±æ€§ï¼Œå¹¶ä¸”æ›´ç®€æ´åœ°æè¿°äº†å”¯ä¸€çš„ä½ï¼</p><p id="0967" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">æ€»çš„æ¥è¯´ï¼Œç»“æœå¦‚ä¸‹æ‰€ç¤º:</p><pre class="kj kk kl km gt mr ml ms mt aw mu bi"><span id="35ae" class="mv mw it ml b gy mx my l mz na">export interface SendRecordRequest {<br/>  readonly records: SnowRecord[];<br/>  readonly topic: string;<br/>}</span><span id="2180" class="mv mw it ml b gy ny my l mz na">export interface SnowRecord {<br/>  status: 'OK';<br/>  payload: SnowPayloadWip | SnowPayloadClosed; âœ¨<br/>}</span><span id="224e" class="mv mw it ml b gy ny my l mz na">interface SnowPayload {<br/>  assetId: number;<br/>  serviceNowTaskId: string;<br/>  status: SnowStatus;<br/>  workNotes?: string | null;<br/>}</span><span id="4ea6" class="mv mw it ml b gy ny my l mz na">interface SnowPayloadWip extends SnowPayload {<br/>  status: SnowStatus.WIP;<br/>}</span><span id="b68c" class="mv mw it ml b gy ny my l mz na">interface SnowPayloadClosed extends SnowPayload {<br/>  status: SnowStatus.CLOSED;<br/>  closureCode: SnowClosureCode;<br/>}</span><span id="91a5" class="mv mw it ml b gy ny my l mz na">export enum SnowStatus {<br/>  WIP = 'Work in Progress',<br/>  CLOSED = 'Closed Complete',<br/>  ...<br/>}</span><span id="95b1" class="mv mw it ml b gy ny my l mz na">export enum SnowClosureCode {<br/>  ...<br/>}</span></pre></div><div class="ab cl nz oa hx ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="im in io ip iq"><p id="0aa9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">è¿™æœ‰ç‚¹é•¿ï¼Œä½†å¸Œæœ›ç°åœ¨æ‚¨å¯¹TypeScriptå¦‚ä½•å¸®åŠ©æ•æ‰æ‚¨è‡ªå·±æˆ–æ‚¨å›¢é˜Ÿçš„ä»£ç ä¸­çš„é”™è¯¯æœ‰äº†ä¸€ç‚¹ç‚¹çš„äº†è§£ã€‚æ­¤å¤–ï¼Œæˆ‘å¸Œæœ›è¿™å¯ä»¥ä½œä¸ºä¸€ä¸ªçœŸå®ä¸–ç•Œçš„ä¾‹å­ï¼Œè¯´æ˜å¦‚ä½•ä½¿ç”¨è”åˆæ¥ä¸¥å¯†åœ°æè¿°è½¯ä»¶çº¦æŸï¼Œè®©æ‚¨çš„IDEä¿æŠ¤æ‚¨ä¸çŠ¯ä¸šåŠ¡é€»è¾‘é”™è¯¯ï¼Œå¹¶ä¸”å¦‚æœæ‚¨çš„å›¢é˜Ÿæˆå‘˜ä¸å¾—ä¸ç”¨æ¯”æ‚¨æ›´å°‘çš„ä¸Šä¸‹æ–‡æ¥ç»´æŠ¤ä»£ç ï¼Œä¹Ÿå¯ä»¥å¸®åŠ©ä»–ä»¬é¿å…ç±»ä¼¼çš„é—®é¢˜ğŸ˜ƒã€‚</p></div><div class="ab cl nz oa hx ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="im in io ip iq"><p id="fc9b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">æ¬²äº†è§£æ›´å¤šç›´æ¥æ¥è‡ªtsä¸­å·¥ä¼šæ¥æºçš„è¶£é—»ï¼Œ<a class="ae og" href="https://www.typescriptlang.org/docs/handbook/advanced-types.html#union-types" rel="noopener ugc nofollow" target="_blank">è¯·æŸ¥çœ‹æ–‡æ¡£</a>ï¼</p></div><div class="ab cl nz oa hx ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="im in io ip iq"><p id="e478" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">æœ‰æ›´å¥½çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿè§‰å¾—æˆ‘èƒ½æŠŠè¿™ç¯‡æ–‡ç« å†™å¾—æ›´å¥½å—ï¼Ÿåœ¨è¯„è®ºæˆ–æ¶ˆæ¯ä¸­è®©æˆ‘çŸ¥é“ï¼›æˆ‘æ€»æ˜¯ä¹äºæ¥å—æ›´å¤šçš„å­¦ä¹ ï¼</p></div></div>    
</body>
</html>