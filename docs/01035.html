<html>
<head>
<title>Building Tic-Tac-Toe in Vue.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Vue.js中构建井字游戏</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/building-tic-tac-toe-in-vue-js-57a23822313d?source=collection_archive---------2-----------------------#2019-10-25">https://levelup.gitconnected.com/building-tic-tac-toe-in-vue-js-57a23822313d?source=collection_archive---------2-----------------------#2019-10-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="fb27" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">用Vue.js构建web应用程序很酷，但有时看看你能用框架做些什么也很有趣。</p><p id="6c20" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这篇博文中，我将概述如何在Vue.js中构建一个井字游戏——包括一个不可战胜的计算机AI！</p><p id="5604" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae ko" href="https://dirk94.github.io/" rel="noopener ugc nofollow" target="_blank">在这里查看现场版</a>。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi kp"><img src="../Images/88711d18a24093b1a91e53236e787e5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gYYWXxLr7k4_RlIwkM1Bnw.png"/></div></div></figure><h1 id="6cb6" class="lb lc it bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">设置Vue项目</h1><p id="ee96" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">我将使用<a class="ae ko" href="https://cli.vuejs.org/" rel="noopener ugc nofollow" target="_blank"> Vue CLI </a>建立一个新的Vue项目。为了全局安装<code class="fe me mf mg mh b">vue-cli</code>包，我运行以下命令。</p><pre class="kq kr ks kt gt mi mh mj mk aw ml bi"><span id="aea9" class="mm lc it mh b gy mn mo l mp mq">npm install -g vue-cli</span></pre><p id="5c1f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">接下来，我将使用<code class="fe me mf mg mh b">vue-cli</code>创建Vue项目。</p><pre class="kq kr ks kt gt mi mh mj mk aw ml bi"><span id="533f" class="mm lc it mh b gy mn mo l mp mq">vue init webpack-simple tic-tac-toe</span></pre><p id="e5c8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这将使用<code class="fe me mf mg mh b">tic-tac-toe</code>文件夹中的<code class="fe me mf mg mh b">webpack-simple</code>模板创建一个新的Vue项目。</p><p id="c25a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了运行这个项目，我执行以下命令。</p><pre class="kq kr ks kt gt mi mh mj mk aw ml bi"><span id="183c" class="mm lc it mh b gy mn mo l mp mq">cd ./tic-tac-toe<br/>npm install<br/>npm run dev</span></pre><p id="132b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">结果是一个工作的Vue应用程序🚀</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi mr"><img src="../Images/9fb106ff9d8af687ae2557312517060f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ivx9FsjLiIHPGjs9V3Flmw.png"/></div></div></figure><h1 id="a366" class="lb lc it bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">创建董事会</h1><p id="570e" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">我将在<code class="fe me mf mg mh b">src/TicTacToe.vue</code>文件中创建一个新的Vue组件。</p><p id="6355" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在<code class="fe me mf mg mh b">&lt;script&gt;</code>标签中，我初始化了一个代表棋盘的2D字符串数组。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="fef0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了绘制电路板，我在<code class="fe me mf mg mh b">src/Cell.vue</code>文件中创建了一个新的Vue组件。每个单元格将代表井字游戏棋盘的一个网格单元。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="d728" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">每个细胞将获得一个<code class="fe me mf mg mh b">value</code>道具。这将是<code class="fe me mf mg mh b">'x'</code>、<code class="fe me mf mg mh b">'o'</code>或<code class="fe me mf mg mh b">''</code>。</p><p id="47b0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我使用一些简单的CSS赋予每个网格单元64像素的宽度和高度。为了在网格单元的中间画十字和圆圈，我使用了flexbox CSS规则。</p><p id="730d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在我必须显示每个井字游戏网格单元的<code class="fe me mf mg mh b">Cell</code>组件。为此，我在<code class="fe me mf mg mh b">TicTacToe</code>组件的<code class="fe me mf mg mh b">&lt;template&gt;</code>标签中添加了一个双for循环。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="e84d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我还向<code class="fe me mf mg mh b">tictactoe-board</code>类添加了一些CSS规则，以确保我有一个3乘3的网格——而不是9乘1的网格。</p><p id="1211" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我应该更新<code class="fe me mf mg mh b">src/main.js</code>文件来注册新的<code class="fe me mf mg mh b">TicTacToe</code>和<code class="fe me mf mg mh b">Cell</code>组件。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="678d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，我用下面的内容替换了<code class="fe me mf mg mh b">src/App.vue</code>文件中的内容。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="5c4b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">结果就是下面这个井字游戏板🎉</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi mu"><img src="../Images/e9850ff3bc65943eecd5914bbafc29e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hb0ld8bkRNrGA6k27opePQ.png"/></div></div></figure><h1 id="2d30" class="lb lc it bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">玩家应该能够点击单元格</h1><p id="330d" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">当玩家点击一个单元格时，那里会出现一个十字。</p><p id="e161" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为此，我通过给每个<code class="fe me mf mg mh b">Cell</code>添加<code class="fe me mf mg mh b">@click</code>标签来更新<code class="fe me mf mg mh b">scr/TicTacToe.vue</code>文件。当一个单元格被点击时，<code class="fe me mf mg mh b">performMove(i, j)</code>被调用，其中<code class="fe me mf mg mh b">i</code>和<code class="fe me mf mg mh b">j</code>表示哪个单元格被点击。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="d3d3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在<code class="fe me mf mg mh b">performMove()</code>函数中，我检查点击的磁贴是否为空。如果是这样，我就在它上面打个叉。</p><p id="d364" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是，当我单击浏览器中的单元格时，没有任何反应。💔</p><p id="1b08" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是因为两个原因。</p><ol class=""><li id="0c06" class="mv mw it js b jt ju jx jy kb mx kf my kj mz kn na nb nc nd bi translated"><code class="fe me mf mg mh b">@click</code>对其他Vue组件不起作用。</li><li id="d1ce" class="mv mw it js b jt ne jx nf kb ng kf nh kj ni kn na nb nc nd bi translated">Vue的反应性不会自动检测到你改变了一个数组中的值— <a class="ae ko" href="https://vuejsdevelopers.com/2017/03/05/vue-js-reactivity/" rel="noopener ugc nofollow" target="_blank">在这里阅读更多关于Vue反应性系统的信息</a>。</li></ol><p id="e207" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们修理这些东西！</p><p id="36fb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">来触发<code class="fe me mf mg mh b">@click</code>事件。我从<code class="fe me mf mg mh b">Cell</code>组件向父组件发出click事件。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="83ad" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了确保Vue在一个图块被点击时重新渲染，我在<code class="fe me mf mg mh b">performMove()</code>函数中调用了<code class="fe me mf mg mh b">this.$forceUpdate()</code>。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="3604" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是工作结果！🙌</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/d5ff3483a79279e28750083edeb8d289.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*rRGcqw2MZhXidmvd3DAUMA.gif"/></div></figure><h1 id="512f" class="lb lc it bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">实施人工智能</h1><h2 id="01f4" class="mm lc it bd ld nk nl dn lh nm nn dp ll kb no np lp kf nq nr lt kj ns nt lx nu bi translated">重构电路板结构</h2><p id="cc09" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">我要做的第一件事是重构我现有的董事会结构。</p><p id="6b20" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我认为在一个<code class="fe me mf mg mh b">scr/Board.js</code>文件中创建一个<code class="fe me mf mg mh b">Board</code>类会很棒。这将保持井字游戏棋盘的状态。这在以后创建AI时很有用。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="d4fc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在我必须更新<code class="fe me mf mg mh b">TicTacToe</code>组件来使用这个新的<code class="fe me mf mg mh b">Board</code>类。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="ms mt l"/></div></figure><h2 id="4646" class="mm lc it bd ld nk nl dn lh nm nn dp ll kb no np lp kf nq nr lt kj ns nt lx nu bi translated">评估董事会</h2><p id="643d" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">为了拥有一个正常运行的人工智能，计算机应该首先能够计算出某个特定的电路板“有多好”。为此，我在<code class="fe me mf mg mh b">Board</code>类中添加了一个<code class="fe me mf mg mh b">getScore()</code>方法。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="ac36" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">该功能将检查<code class="fe me mf mg mh b">x</code>玩家是否连续3次，如果是，则从分数中减去100分。如果<code class="fe me mf mg mh b">o</code>玩家连续3次得分，将会增加100分。</p><p id="1bff" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个函数依赖于一个<code class="fe me mf mg mh b">playerHas3InARow()</code>函数，所以我实现了它。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="ms mt l"/></div></figure><h2 id="d93d" class="mm lc it bd ld nk nl dn lh nm nn dp ll kb no np lp kf nq nr lt kj ns nt lx nu bi translated">极大极小算法</h2><p id="4fc7" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">极大极小算法是一种搜索最佳可能移动的算法。</p><p id="0441" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">给定一个棋盘，算法将生成所有可能的走法并应用这些走法。这将导致一组新的棋盘，对于这些棋盘中的每一个，算法再次生成所有可能的移动并应用这些移动，等等。</p><p id="05fe" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后，该算法使用我在上一节中实现的<code class="fe me mf mg mh b">board.getScore()</code>函数来计算一块板有多“好”。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi nv"><img src="../Images/ef2cf6ec722d460006c0f66575792ab3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ze3pftX-bzl3FGUyGCCz7Q.png"/></div></div></figure><p id="048a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了阅读更多关于极大极小算法的内容，我推荐这篇博文。</p><p id="31e5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在实现<code class="fe me mf mg mh b">minimax</code>算法之前，我在<code class="fe me mf mg mh b">Board</code>类中添加了3个有用的函数。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="ms mt l"/></div></figure><ul class=""><li id="0c48" class="mv mw it js b jt ju jx jy kb mx kf my kj mz kn nw nb nc nd bi translated"><code class="fe me mf mg mh b">isGameOver()</code>检查游戏是否结束——即是否连续出现3，或者棋盘是否已满。</li><li id="0f10" class="mv mw it js b jt ne jx nf kb ng kf nh kj ni kn nw nb nc nd bi translated"><code class="fe me mf mg mh b">clone()</code>返回棋盘的副本。</li><li id="6136" class="mv mw it js b jt ne jx nf kb ng kf nh kj ni kn nw nb nc nd bi translated"><code class="fe me mf mg mh b">getPossibleMoves()</code>返回一个包含一个<code class="fe me mf mg mh b">x</code>和<code class="fe me mf mg mh b">y</code>字段的对象数组，表示棋盘上的空白单元格。</li></ul><p id="d4f3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在是实现算法的时候了！</p><p id="0eba" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在<code class="fe me mf mg mh b">TicTacToe</code>组件中，我向<code class="fe me mf mg mh b">src/TicTacToe.vue</code>文件的<code class="fe me mf mg mh b">methods</code>部分添加了一个新函数<code class="fe me mf mg mh b">minimax()</code>。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="c1e5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果游戏结束了——无论是赢、输还是平——那么只需返回棋盘上的分数。</p><p id="5c08" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">否则，为板的每个可能的移动调用<code class="fe me mf mg mh b">minimax()</code>功能。得分最高的棋被退回。</p><p id="a0d2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">将所有组件粘合在一起后，<code class="fe me mf mg mh b">TicTacToe</code>组件看起来像这样。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="4f10" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我穿上我的设计师鞋，并添加一些额外的造型，结果是一个完全正常的井字游戏🚀🚀</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/bf93042081acd1ab7a4cb14bef5029b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*JhkS75vF0ZQFq26Phhv6Fg.gif"/></div></figure><p id="a361" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">感谢阅读— <a class="ae ko" href="https://github.com/Dirk94/tic-tac-toe" rel="noopener ugc nofollow" target="_blank">在Github上查看源代码</a>和<a class="ae ko" href="https://dirk94.github.io/" rel="noopener ugc nofollow" target="_blank">在这里查看现场版</a>。</p></div></div>    
</body>
</html>