<html>
<head>
<title>How To Code HTML Emails (Part 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何编写HTML邮件代码(第1部分)</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-code-html-emails-part-1-81f030a104c7?source=collection_archive---------5-----------------------#2021-09-30">https://levelup.gitconnected.com/how-to-code-html-emails-part-1-81f030a104c7?source=collection_archive---------5-----------------------#2021-09-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b32e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">关于邮件客户端的HTML编码你应该知道的事情</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/8a5bb06edf4849442f4a65e8b548c88b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oHXmP1PLArzva-PEQbe2sQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">作者提供的图片</figcaption></figure><h1 id="7184" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">邮件客户端</h1><p id="4f37" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">我编写的大部分模板都是针对B2B客户的。所以我可以依靠他们公司的IT部门来安装和支持他们的计算机。在大多数情况下，他们在台式机和笔记本电脑上使用Microsoft Office with Outlook，甚至在苹果电脑上也是如此。对于移动设备，他们有苹果邮件或安卓邮件客户端。</p><p id="fc87" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">在极少数情况下，他们使用Lotus Notes，有时也使用其他移动客户端。</p></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><h1 id="e1e7" class="kv kw iq bd kx ky mv la lb lc mw le lf jw mx jx lh jz my ka lj kc mz kd ll lm bi translated">Microsoft Outlook</h1><p id="42d4" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">如前所述，Outlook是我们必须处理的最常用的客户端。从Outlook 2007开始，就使用了微软Word的渲染引擎，这是现代浏览器无法比拟的；特殊的CSS实现是低劣的。有了Outlook 2010，它变得好了一点点，但只是一点点！</p><p id="c4a9" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">此外，出于安全原因，不支持Javascript、表单元素和视频嵌入。但我认为这并不坏，想象一下如果这行得通，营销人员或垃圾邮件发送者会怎么做；-)</p></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><h1 id="8060" class="kv kw iq bd kx ky mv la lb lc mw le lf jw mx jx lh jz my ka lj kc mz kd ll lm bi translated">Microsoft Outlook的HTML回到90年代</h1><p id="856b" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">好吧，CSS不好用，尤其是宽度和高度属性只对表格有效。所以我们不得不使用许多具有过时属性的嵌套表格，比如单元格间距、单元格填充、对齐、宽度、高度等等。</p><p id="744b" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">下面是一个典型的、非常简单的电子邮件HTML代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">作者代码</figcaption></figure><p id="5160" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">在Outlook中，生成的电子邮件如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nc"><img src="../Images/3aaee9fc09dc7bed14860bf47ebf2713.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w8IQAYx8iKrSN_Q2PSSmug.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">Outlook 2010，作者截图</figcaption></figure></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><p id="f9a6" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">标题图像被破坏是因为“<a class="ae nd" href="http://www.myserver.com/mail_header_left.png" rel="noopener ugc nofollow" target="_blank">http://www.myserver.com/mail_header_left.png</a>”只是伪代码！但是现在对于HTML来说:</p><p id="7153" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">首先，看看页面颜色设置的属性。20多年前，它们是给网页着色所必需的，今天它们被弃用了，在任何情况下都不应该使用。</p><p id="fc83" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">甚至Outlook也可以处理这些基本颜色功能的CSS。所以你可以把它们排除在外，但是也许一些外国客户无论如何都需要它们，所以我总是把它们作为后备。这就是有时所说的“恐慌代码”；-)</p><p id="07b7" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">接下来是第一个<table>。该表用于通过“对齐”属性将邮件内容居中，并通过“宽度”属性将宽度设置为620px。如你所见，没有px的值只是“620”！否则Outlook将忽略该值，使邮件与窗口一样宽！所有其他表都嵌套在该表中。</table></p><p id="a637" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">在“一些美好的问候”的<td>中，有一个<font>标签也已被弃用。但是它适用于所有客户端，比如中的颜色属性。我在这里使用它只是为了说明，因为Outlook非常好地支持CSS“font-family ”,所以它不是强制性的。</font></td></p><p id="af22" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">我认为代码的其余部分很容易理解，并且我已经加入了许多注释。一个有趣的是带有“高度”属性的空格(没有“px”)。为了安全起见，这是在块之间插入空格的好方法，总是有效的！</p></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><h1 id="57ca" class="kv kw iq bd kx ky mv la lb lc mw le lf jw mx jx lh jz my ka lj kc mz kd ll lm bi translated">Outlook以外的其他客户端怎么样</h1><p id="8e1f" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">我谈了很多关于Outlook的内容，并向您展示了我们可以使用哪些被否决的web技术来使电子邮件看起来像是设计师的规范。</p><p id="3727" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">好消息是所有其他邮件客户端和浏览器仍然支持不推荐使用的代码。如果它在Outlook中有效，那么它在任何地方都有效。</p><p id="82db" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">最好使用不推荐使用的代码和现代CSS，这样可以两全其美。</p></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><h1 id="0e23" class="kv kw iq bd kx ky mv la lb lc mw le lf jw mx jx lh jz my ka lj kc mz kd ll lm bi translated">我们必须牢记或忍受的事情</h1><p id="3e67" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">我一直在努力解决一些奇怪的事情，当一切都完成并上线时，客户给出了反馈。</p><p id="9e9c" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">其中之一是Outlook中非常长的表中不需要的空间。Outlook试图插入分页符；你可以在这里找到详细的解释:“<a class="ae nd" href="https://www.emailonacid.com/blog/article/email-development/horizontal_spacing_issues_in_outlook_2007_and_2010/" rel="noopener ugc nofollow" target="_blank"> Email on Acid </a>”</p><p id="f4d4" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">正如您在我的代码示例中看到的，块“articles”是一个<table>，每篇文章都在一个<tr>中。如果你只有几篇文章，没有问题。但是当有更多时，可能会出现分页符。</tr></table></p><p id="dc08" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">为了避免分页，只需将单个表格拆分为多个表格，每个表格对应一篇文章:</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="d39b" class="nj kw iq nf b gy nk nl l nm nn">&lt;!-- articles --&gt;<br/>&lt;table cellspacing="0" cellpadding="0" width="100%"&gt;<br/>  &lt;tr&gt;<br/>    &lt;td&gt;<br/>      &lt;a name="text1"&gt;Title 1&lt;/a&gt;<br/>    &lt;/td&gt;<br/>  &lt;/tr&gt;<br/>  &lt;tr&gt;<br/>    &lt;td&gt;<br/>      Lorem ipsum ...<br/>    &lt;/td&gt;<br/>  &lt;/tr&gt;<br/>  &lt;tr&gt;<br/>    &lt;td align="right"&gt;<br/>      &lt;a href="#anchor_toc"&gt;to top&lt;/a&gt;<br/>    &lt;/td&gt;<br/>  &lt;/tr&gt;<br/>  &lt;tr&gt;<br/>    &lt;td height="20"&gt;<br/>    &lt;/td&gt;<br/>  &lt;/tr&gt;<br/>&lt;/table&gt;<br/>  <br/>&lt;table cellspacing="0" cellpadding="0" width="100%"&gt;  <br/>  &lt;tr&gt;<br/>    &lt;td&gt;<br/>      &lt;a name="text2"&gt;Title 2&lt;/a&gt;<br/>    &lt;/td&gt;<br/>  &lt;/tr&gt;<br/>  &lt;tr&gt;<br/>    &lt;td&gt;<br/>      Lorem ipsum ...<br/>    &lt;/td&gt;<br/>  &lt;/tr&gt;<br/>  &lt;tr&gt;<br/>    &lt;td align="right"&gt;<br/>      &lt;a href="#anchor_toc"&gt;to top&lt;/a&gt;<br/>    &lt;/td&gt;<br/>  &lt;/tr&gt;<br/>&lt;/table&gt;</span><span id="defc" class="nj kw iq nf b gy no nl l nm nn">&lt;!-- and so on --&gt;</span></pre><p id="062c" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">另一个问题存在于高分辨率屏幕，如2K、4K或视网膜。Outlook以更大的字体呈现。我有一个和文本栏一样宽的标题图像，但是在这些高分辨率显示器上，图像看起来比文本栏小。</p><p id="f8a0" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">你可以在uplers.com找到很好的解释和解决方案。不幸的是，我不能让他们的解决方案工作，但我不能测试它很长时间，我没有高分辨率的屏幕。如果你找到了解决办法，请告诉我。</p><p id="cabe" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">出问题的不仅仅是Outlook，还有iOS中的Apple Mail。苹果的移动客户端不会跳转到邮件中的锚。这几天刚用iOS 14.7.1测试，不跳！当我第一次注意到这个问题时，我尝试使用id而不是命名锚点，但都不起作用。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="1a03" class="nj kw iq nf b gy nk nl l nm nn">&lt;a name="text1"&gt;<br/>or<br/>&lt;a id="text1"&gt;</span></pre><p id="d6d1" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated"><strong class="lp ir">好消息:<br/>今天有同事告诉我iOS 15终于支持锚点了！我现在无法测试，但我会相信他。</strong></p></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><h1 id="d7cd" class="kv kw iq bd kx ky mv la lb lc mw le lf jw mx jx lh jz my ka lj kc mz kd ll lm bi translated">CSS呢</h1><p id="a6da" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">在我的下一个邮件故事中，我将写下我使用邮件客户端CSS的经历，尤其是Outlook。你会发现，知道自己能做什么，不能做什么，其实并没有那么复杂。</p><p id="97d6" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">所以请期待第2部分即将到来！</p><p id="049f" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">如果你有任何问题，不要犹豫与我联系。我很乐意帮助你。</p><p id="d7e5" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">快乐邮件编码！</p></div></div>    
</body>
</html>