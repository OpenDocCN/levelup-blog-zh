<html>
<head>
<title>How to Create a Modular Power Up System in Unity 2D</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Unity 2D创建模块化启动系统</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-create-a-modular-power-up-system-in-unity-2d-66fb4aa6240f?source=collection_archive---------6-----------------------#2021-04-02">https://levelup.gitconnected.com/how-to-create-a-modular-power-up-system-in-unity-2d-66fb4aa6240f?source=collection_archive---------6-----------------------#2021-04-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><blockquote class="jn jo jp"><p id="3021" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">目标</p></blockquote><p id="5550" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">为你的2D游戏建造一个模块化的电力系统。假设你的游戏有大约5个或10个电源ups，而你不想让电源ups系统变得太复杂，今天我们将学习一种简单有效的方法。</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi ks"><img src="../Images/cc446371f7b0eec72ec17889159cc5eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*vRkxFAcgAJftya6zwZRntw.gif"/></div></figure><blockquote class="jn jo jp"><p id="67f0" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">方法</p></blockquote><p id="7e4c" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">让我们从创建一个C#脚本开始，并将其命名为<em class="js">加电，</em>为你第一次加电(比如加速加电)创建一个空游戏对象。确保添加一个碰撞器2D并选中isTrigger框，添加一个刚体2D并确保重力设置为零，这样我们就可以在需要时控制它的运动。</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi la"><img src="../Images/409d973f4ce6f14797ad400332f95829.png" data-original-src="https://miro.medium.com/v2/resize:fit:332/format:webp/1*6qjET5cfI8r8iCXZ_ORAsQ.png"/></div></figure><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi lb"><img src="../Images/f764748c0936ca6f1c5f71919da35e96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1312/format:webp/1*_W0X44CB6omQTBbIbHZy7g.png"/></div></figure><p id="3ada" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">还要创建一个玩家脚本来控制每个加电方法，这将决定每个加电方法要做什么。</p><p id="0859" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">如你所见，每种方法都包含了获得能量后发生的事情。</p><p id="fb4b" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi lc translated"><span class="l ld le lf bm lg lh li lj lk di">在</span>中，加电的唤醒方法获取你创建的播放器组件，以便在必要时调用加电方法。</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi ll"><img src="../Images/1e4e7588b15b4b0093a7d42f32205baa.png" data-original-src="https://miro.medium.com/v2/resize:fit:812/format:webp/1*zkZHnMPooKtm5_eeWIxXUQ.png"/></div><figcaption class="lm ln gj gh gi lo lp bd b be z dk translated">由于游戏中只有一个玩家，我们可以很容易地得到它</figcaption></figure><p id="418e" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi lc translated"><span class="l ld le lf bm lg lh li lj lk di">在</span>power up的更新方法中，如果您希望它在实例化时移动，您可以编写以下代码来指定它的移动方向和速度(速度值可以序列化以便进一步控制)。</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi lq"><img src="../Images/ba1e19dcfed841ef3571e55c720ea5d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3LM6-K2Y1Q1yIg4DfDba6w.png"/></div></div></figure><p id="6706" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">模块化系统背后的想法是能够创建一种方法来控制许多电源，而无需一遍又一遍地重新创建代码。所以一个简单的方法就是给每个异能和ID，然后当玩家拿起它的时候就按照那个ID行动。让我们为加电ID创建一个序列化字段</p><pre class="kt ku kv kw gt lv lw lx ly aw lz bi"><span id="f07e" class="ma mb iq lw b gy mc md l me mf">//Here we have 6 power ups and each ID represents one.<br/>//We add a Range and a tooltip to make it designer friendly</span><span id="7b63" class="ma mb iq lw b gy mg md l me mf">&gt;[Range(0,6)] <br/>&gt;[Tooltip("tripleshot = 0, speed =1, shield = 2, ammo = 3, health = 4, heatseek = 5, weaponFailure = 6")]<br/>&gt;[SerializeField] int powerUpID;</span></pre><blockquote class="jn jo jp"><p id="310b" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">现在是这个系统的核心</p></blockquote><p id="9506" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">当玩家碰撞器与基于触发的碰撞器发生碰撞时，能量增强被拾取，所以让我们创建一个OnTriggerEnter2D方法，使用标签检查我们与玩家的碰撞</p><pre class="kt ku kv kw gt lv lw lx ly aw lz bi"><span id="18d3" class="ma mb iq lw b gy mc md l me mf">&gt;private void OnTriggerEnter2D(Collider2D other)<br/>&gt; if(other.CompareTag("Player"))<br/>&gt;   if(_player != null)<br/>//Always null check</span><span id="0d73" class="ma mb iq lw b gy mg md l me mf">//code below</span></pre><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/3d0a967a7ed0f18ca42401b2e1506e6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*OtgFg5t5VfpYAsGadGXkIg.png"/></div></figure><p id="c8c7" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">使用我们为每次加电创建的ID，我们可以在触发器方法中创建一个switch语句。这样又比如我们把Speed power up的ID设为1，那么在switch方法中我们说case: 1，调用播放器脚本，调用Speed Power up方法。你甚至可以播放剪辑或VFX效应拿起。下面是切换方法的样子…</p><p id="f15d" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">之后不要忘记破坏电源。</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/66d5c79f6fab381004e773b8715b4981.png" data-original-src="https://miro.medium.com/v2/resize:fit:972/1*a4R7F_-ctE6xlexPV5YvJw.gif"/></div></figure><p id="449b" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">从这里开始，你可以创造尽可能多的能量，你可以手动将它们放入你的游戏中，或者让它们随机产生。你可以创造类似于我们为敌人波浪创造的<a class="ae mj" href="https://novusxdev.medium.com/my-take-on-modular-wave-system-97dfab00d6b8" rel="noopener">模块化产卵系统</a>的东西。</p></div></div>    
</body>
</html>