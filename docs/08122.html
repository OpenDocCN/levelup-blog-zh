<html>
<head>
<title>Docker Quick Start</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Docker快速入门</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/docker-quick-start-d83f78dc6056?source=collection_archive---------13-----------------------#2021-04-04">https://levelup.gitconnected.com/docker-quick-start-d83f78dc6056?source=collection_archive---------13-----------------------#2021-04-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8939" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Docker初学者教程</h2></div><div class="ki kj gp gr kk kl"><a href="https://jorgepit-14189.medium.com/membership" rel="noopener follow" target="_blank"><div class="km ab fo"><div class="kn ab ko cl cj kp"><h2 class="bd iu gy z fp kq fr fs kr fu fw is bi translated">用我的推荐链接加入媒体-乔治皮皮斯</h2><div class="ks l"><h3 class="bd b gy z fp kq fr fs kr fu fw dk translated">阅读乔治·皮皮斯(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接支持…</h3></div><div class="kt l"><p class="bd b dl z fp kq fr fs kr fu fw dk translated">jorgepit-14189.medium.com</p></div></div><div class="ku l"><div class="kv l kw kx ky ku kz la kl"/></div></div></a></div><h2 id="d21a" class="lb lc it bd ld le lf dn lg lh li dp lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">如何使用终端从Docker Hub搜索Docker图片？</h2><p id="44dc" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf lk mg mh mi lo mj mk ml ls mm mn mo mp im bi translated">假设我们想要搜索Python图像。我们可以运行命令:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="ac73" class="lb lc it mv b gy mz na l nb nc">docker search python</span></pre><figure class="mq mr ms mt gt ne gh gi paragraph-image"><div role="button" tabindex="0" class="nf ng di nh bf ni"><div class="gh gi nd"><img src="../Images/2435e218c3312132cc251400daad0e32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ddxEE5wtdMGOERyk.png"/></div></div></figure><p id="6710" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated">如我们所见，我们得到了名称、描述、开始以及它是否是官方的和/或自动的。总是试图获得有许多开始的图像，并且更喜欢官方的。</p><p id="bdb0" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated"><strong class="lz iu">如何从Docker Hub获取图像</strong></p><p id="33c9" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated">您可以通过运行docker pull命令和图像名称从公共存储库中获取图像。假设我们想要获得“hello-world”图像。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="0a47" class="lb lc it mv b gy mz na l nb nc">docker pull hello-world:latest</span></pre><figure class="mq mr ms mt gt ne gh gi paragraph-image"><div class="gh gi np"><img src="../Images/61a842fa25b6f6643cea85e0b52a5c08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1294/format:webp/0*1RFtAYHmu8bn-FzS.png"/></div></figure><p id="68dd" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated">请注意，如果您不使用任何标签，即“:latest”，我们将默认获得最新的。但是，您可以指定特定的版本。</p><p id="017a" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated"><strong class="lz iu">如何运行Docker映像</strong></p><p id="f7ed" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated">我们可以用run命令运行docker映像。让我们运行“hello-world”图像。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="dd2c" class="lb lc it mv b gy mz na l nb nc">docker run hello-world:latest</span></pre><p id="6969" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated">不出所料，我们收到了Docker发来的消息"<strong class="lz iu">你好！</strong>“既然本意如此。</p><figure class="mq mr ms mt gt ne gh gi paragraph-image"><div role="button" tabindex="0" class="nf ng di nh bf ni"><div class="gh gi nq"><img src="../Images/a07b36e1251528ea59acd4047adb3d3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1278/format:webp/0*WR4SKfM0r9Rauxnn.png"/></div></div></figure><p id="b2db" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated"><strong class="lz iu">如何获取图像列表</strong></p><p id="0029" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated">只需运行<code class="fe nr ns nt mv b">docker images</code>就可以得到图片列表。在我们的例子中，我们只有<code class="fe nr ns nt mv b">hello-world</code>。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="c96f" class="lb lc it mv b gy mz na l nb nc">docker images</span></pre><figure class="mq mr ms mt gt ne gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/949912bfbe40dbdd41387bd8d9942b02.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/0*mnwBckCET2r5IFiR.png"/></div></figure><p id="6a5c" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated"><strong class="lz iu">如何获得运行容器</strong></p><p id="5826" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated">获取正在运行的容器的命令是:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="c295" class="lb lc it mv b gy mz na l nb nc">docker ps</span></pre><p id="599d" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated"><strong class="lz iu">如何检查图像和/或容器</strong></p><p id="0526" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated">您可以按如下方式检查集装箱:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="9226" class="lb lc it mv b gy mz na l nb nc">docker inspect &lt;image_name&gt;</span></pre><p id="e6d6" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated"><strong class="lz iu">如何在交互模式下运行容器</strong></p><p id="0b26" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated">如果你想使用终端以交互模式运行一个容器，你应该使用<code class="fe nr ns nt mv b">-it</code>。让我们运行一下<code class="fe nr ns nt mv b">centos</code>图像。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="9042" class="lb lc it mv b gy mz na l nb nc">docker run -it centos:latest /bin/bash</span></pre><figure class="mq mr ms mt gt ne gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/8c5644b17ce95b3dbccea98b7fe86423.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/0*YnGM8du_ncygnzIs.png"/></div></figure><p id="20e2" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated">现在我们在容器操作系统中！我们可以看到容器正在运行:</p><figure class="mq mr ms mt gt ne gh gi paragraph-image"><div role="button" tabindex="0" class="nf ng di nh bf ni"><div class="gh gi nd"><img src="../Images/239008cf95f19040a1122599ef0ef708.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*S9vthi2nUwqqrv_f.png"/></div></div></figure><p id="f0eb" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated">如果我们想退出，我们输入<code class="fe nr ns nt mv b"><strong class="lz iu">exit</strong></code>。</p><figure class="mq mr ms mt gt ne gh gi paragraph-image"><div role="button" tabindex="0" class="nf ng di nh bf ni"><div class="gh gi nd"><img src="../Images/6d5783ee8a3ceab5b67d65400b30d7b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6fyz4anVd5SihD8h.png"/></div></div></figure><p id="2a5a" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated"><strong class="lz iu">如何在后台运行容器</strong></p><p id="4668" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated">你应该使用标志<code class="fe nr ns nt mv b">-d</code>(分离)，命令是:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="e2c3" class="lb lc it mv b gy mz na l nb nc">docker run -d nginx:latest</span></pre><p id="fba3" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated"><strong class="lz iu">如何停止集装箱</strong></p><p id="7f42" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated">首先，我们需要使用<code class="fe nr ns nt mv b">ps</code>命令找到容器id或容器名称。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="a7ae" class="lb lc it mv b gy mz na l nb nc">docker stop nervous_babbage</span></pre><p id="0805" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated"><strong class="lz iu">如何在容器中执行命令</strong></p><p id="62ad" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated">如果您有一个正在运行的容器，并且希望以交互模式执行命令，那么您可以运行:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="0a21" class="lb lc it mv b gy mz na l nb nc">docker exec -it &lt;container_name&gt; /bin/bash</span></pre><p id="414f" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated">上面，我们运行了bin/bash，以便能够开始使用终端与容器进行交互。</p><p id="d3dc" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated"><strong class="lz iu">如何删除图像</strong></p><p id="65bd" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated">您要删除的图像不得使用并且依赖于任何容器。然后，您可以运行</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="32e3" class="lb lc it mv b gy mz na l nb nc">docker rmi &lt;image_name&gt;</span></pre><p id="17cb" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated">您可以使用标志<code class="fe nr ns nt mv b">-f</code>强制删除图像，即使它在任何运行的容器中使用。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="783b" class="lb lc it mv b gy mz na l nb nc">docker rmi -f &lt;image_name&gt;</span></pre><p id="d864" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated"><strong class="lz iu">如何移除所有未运行的容器</strong></p><p id="f0ba" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated">您可以使用以下命令删除所有未运行的容器:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="f538" class="lb lc it mv b gy mz na l nb nc">docker rm $(docker ps -a -q)</span></pre><p id="b441" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated"><strong class="lz iu">如何映射端口</strong></p><p id="af74" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated">您可以使用标志<code class="fe nr ns nt mv b">-p</code>定义本地端口，如下所示:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="7ec2" class="lb lc it mv b gy mz na l nb nc">docker run -d -p 8080:80 --name=MyWebServer nginx:latest</span></pre><figure class="mq mr ms mt gt ne gh gi paragraph-image"><div role="button" tabindex="0" class="nf ng di nh bf ni"><div class="gh gi nw"><img src="../Images/8f726a877adb36c0a75c76c7afe154d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*eYjrz6stQnQGjz5B.png"/></div></div></figure><p id="6cbc" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated"><strong class="lz iu">如何挂载数据</strong></p><p id="8ef4" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated">您可以使用volume中的标志<code class="fe nr ns nt mv b">-v</code>在容器中装载数据。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="1fdc" class="lb lc it mv b gy mz na l nb nc">docker run -d -p 8080:80 --name=MyWebServer2 -v /mnt/data nginx:latest</span></pre><p id="c3f3" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated">如果我们想要映射卷装载，我们可以运行以下命令:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="9455" class="lb lc it mv b gy mz na l nb nc">docker run -d -p 8080:80 --name=MyWebServer2 -v /home/user/data:/user/share/nginx/my_folder nginx:latest</span></pre><p id="4d2a" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated">现在，无论何时我们在本地PC的<code class="fe nr ns nt mv b">data</code>文件夹中做了更改，都会自动传递到容器中的<code class="fe nr ns nt mv b">my_folder</code>。</p><p id="aff3" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated"><strong class="lz iu"> Dockerfile </strong></p><p id="77d1" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated">您可以从Dockerfile文件构建映像。docker文件的名称必须只有<code class="fe nr ns nt mv b"><strong class="lz iu">Dockerfile</strong></code>，没有任何扩展名，您可以通过运行以下命令来构建您的映像:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="3e1d" class="lb lc it mv b gy mz na l nb nc">docker build .</span></pre><p id="e572" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated">注意句号。它指的是docker文件所在的工作目录。Dockerfile文件的结构是:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="5a27" class="lb lc it mv b gy mz na l nb nc">FROM debian:stable <br/>RUN apt-get update &amp;amp;&amp;amp; apt-get upgrade -y <br/>ENV MYVALUE my-value <br/>EXPOSE 80 <br/>CMD ["/usr/sbin/apach2ctl", "-D", "FOREGROUND"]</span></pre><h1 id="455a" class="nx lc it bd ld ny nz oa lg ob oc od lj jz oe ka ln kc of kd lr kf og kg lv oh bi translated">参考</h1><p id="8db2" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf lk mg mh mi lo mj mk ml ls mm mn mo mp im bi translated">[1] <a class="ae oi" href="https://app.linuxacademy.com/" rel="noopener ugc nofollow" target="_blank"> Linux学院</a></p></div><div class="ab cl oj ok hx ol" role="separator"><span class="om bw bk on oo op"/><span class="om bw bk on oo op"/><span class="om bw bk on oo"/></div><div class="im in io ip iq"><p id="6d47" class="pw-post-body-paragraph lx ly it lz b ma nk ju mc md nl jx mf lk nm mh mi lo nn mk ml ls no mn mo mp im bi translated"><em class="oq">原载于</em><a class="ae oi" href="https://predictivehacks.com/?all-tips=docker-quick-start" rel="noopener ugc nofollow" target="_blank"><em class="oq">https://predictivehacks.com</em></a><em class="oq">。</em></p></div></div>    
</body>
</html>