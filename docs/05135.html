<html>
<head>
<title>How to Add MetaData in Vue Using Vue-Meta</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Vue-Meta在Vue中添加元数据</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-add-metadata-in-vue-using-vue-meta-55c593f4bbf5?source=collection_archive---------6-----------------------#2020-08-06">https://levelup.gitconnected.com/how-to-add-metadata-in-vue-using-vue-meta-55c593f4bbf5?source=collection_archive---------6-----------------------#2020-08-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d7c0" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在本帖中，我们将探讨如何将vue-meta添加到我们的项目中，并使用它来处理组件内部的元数据</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/bdb17f232b1bd341fa8a2f69c03c0e44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8_eArVTN3txkq2T1_AhvyA.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@kaleidico" rel="noopener ugc nofollow" target="_blank">万花筒</a>拍摄</figcaption></figure><h1 id="45fa" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">什么是vue-meta？</h1><p id="fb2d" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><a class="ae ky" href="https://vue-meta.nuxtjs.org/" rel="noopener ugc nofollow" target="_blank">“vue-meta</a>”是一个提供Vue插件的模块，它允许我们从组件中动态添加元数据。</p><p id="c8df" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这意味着在我们有多条路线的项目中，我们希望根据页面上当前呈现的路线动态更新SEO的meta标签，vue-meta将为我们处理这些，同时让我们控制应用程序元数据。</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="d6d0" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">设置</h1><p id="52d8" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">首先，我们需要将vue-meta添加到我们的项目中，并让vue知道我们希望将它作为一个插件用于所有组件。</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="35b8" class="nj la it nf b gy nk nl l nm nn">npm install vue-meta --save</span></pre><p id="cc16" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">然后，我们将vue-meta添加到我们的主js文件中。</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="9999" class="nj la it nf b gy nk nl l nm nn">// main.js or index.js<br/>import Vue from "vue";<br/>import App from "./App.vue"; // main component<br/>import Meta from "vue-meta";</span><span id="b2e4" class="nj la it nf b gy no nl l nm nn">Vue.use(Meta);</span><span id="c3f0" class="nj la it nf b gy no nl l nm nn">new Vue({<br/>  render: h =&gt; h(App)<br/>}).$mount("#app");</span></pre></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="a537" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">添加元数据</h1><p id="6c04" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在我们来看一个如何向组件添加元数据的例子。</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="4a57" class="nj la it nf b gy nk nl l nm nn">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;img width="25%" src="./assets/logo.png"&gt;<br/>    &lt;HelloWorld msg="Hello Vue in CodeSandbox!"/&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="01de" class="nj la it nf b gy no nl l nm nn">&lt;script&gt;<br/>import HelloWorld from "./components/HelloWorld";</span><span id="11fd" class="nj la it nf b gy no nl l nm nn">export default {<br/>  name: "App",<br/>  components: {<br/>    HelloWorld<br/>  },<br/>  metaInfo() {<br/>    return {<br/>      title: "test meta data with vue",<br/>      meta: [<br/>        {<br/>          vmid: "description",<br/>          name: "description",<br/>          content:<br/>            "hello world, this is an example of adding a description with vueMeta"<br/>        }<br/>      ]<br/>    };<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="77d5" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">正如我们所看到的，我们可以通过调用“metaInfo”函数并返回一个包含元数据的对象值来实现。</p><p id="7a60" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">此外，我们可以基于一些逻辑动态地设置元值，因为我们可以在组件级别访问它。</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="da02" class="nj la it nf b gy nk nl l nm nn">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;img width="25%" src="./assets/logo.png"&gt;<br/>    &lt;HelloWorld msg="Hello Vue in CodeSandbox!"/&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="e0f3" class="nj la it nf b gy no nl l nm nn">&lt;script&gt;<br/>import HelloWorld from "./components/HelloWorld";</span><span id="00ca" class="nj la it nf b gy no nl l nm nn">export default {<br/>  name: "App",<br/>  components: {<br/>    HelloWorld<br/>  },<br/>  metaInfo() {<br/>    const a = "test";<br/>    return {<br/>      title: "test meta data with vue",<br/>      meta: [<br/>        ...(a === "test" &amp;&amp; [<br/>          {<br/>            vmid: "description",<br/>            name: "description",<br/>            content:<br/>              "hello world, this is an example of adding a description with vue-meta"<br/>          }<br/>        ])<br/>      ]<br/>    };<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="0c84" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">元数据的类型</h1><p id="a7be" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们可以使用“vue-meta”插件添加或多或少任何类型的元数据，无论是元数据、标题、链接还是脚本。</p><p id="69d0" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在下文中，我们将看到一个如何添加这些元数据的例子。</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="dc49" class="nj la it nf b gy nk nl l nm nn">&lt;script&gt;<br/>import HelloWorld from "./components/HelloWorld";</span><span id="63a2" class="nj la it nf b gy no nl l nm nn">export default {<br/>  name: "App",<br/>  components: {<br/>    HelloWorld<br/>  },<br/>  metaInfo() {<br/>    const a = "test";<br/>    return {<br/>      title: "test meta data with vue",<br/>      meta: [<br/>        ...(a === "test" &amp;&amp; [<br/>          {<br/>            vmid: "description",<br/>            name: "description",<br/>            content:<br/>              "hello world, this is an example of adding a description with vue-meta"<br/>          }<br/>        ])<br/>      ],<br/>			script: [<br/>        { src: '&lt;https://services.postcodeanywhere.co.uk/js/address-3.91.js&gt;', async: true, defer: true, body: true }<br/>      ],<br/>			link: [<br/>        {<br/>          rel: 'canonical',<br/>          href: '&lt;https://malikgabroun.com/&gt;'<br/>        }<br/>			]<br/>    };<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="5097" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在上面的例子中，我们可以看到如何使用vue-meta将外部脚本添加到正文中。在我们希望脚本包含在头部的情况下，我们可以通过移除body标志来实现。</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="7a5f" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">Vmid</h1><p id="8ec4" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">到目前为止，我们研究了如何设置vue-meta并向组件动态添加元数据，但是，如果我们想在多个组件中为特定属性设置值，又该如何解决呢？</p><p id="d63f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">为此，我们可以使用<strong class="lt iu"> vmid </strong>，这是vue-meta提供给我们的一个特殊属性，用于解析组件树中的值。因此，如果两组元具有相同的vmid，它将覆盖它，使用最后更新的组件(即子组件)的值，而不是合并它。</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="1f16" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">结论</h1><p id="faa1" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">总之，vue-meta是一个插件，在大多数vue框架中，它可以让我们控制元数据在网站中的显示方式。</p></div></div>    
</body>
</html>