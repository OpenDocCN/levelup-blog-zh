<html>
<head>
<title>Tracking Your Portfolio Performance On Coinbase Using Python and Google Sheets</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python和Google Sheets在比特币基地跟踪你的投资组合表现</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/tracking-your-coinbase-portfolio-performance-using-python-google-sheets-57d86d687547?source=collection_archive---------0-----------------------#2019-07-14">https://levelup.gitconnected.com/tracking-your-coinbase-portfolio-performance-using-python-google-sheets-57d86d687547?source=collection_archive---------0-----------------------#2019-07-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1ff9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">这是一个循序渐进的指南，可以帮助任何人在比特币基地追踪他们的加密货币收益/损失(并学习一些编码知识……)</h2></div><blockquote class="ki kj kk"><p id="eceb" class="kl km kn ko b kp kq ju kr ks kt jx ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">注意:所有的图片和视频都是基于虚假数据，不包括任何真实的帐户细节。</p></blockquote><p id="e070" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku li kw kx ky lj la lb lc lk le lf lg lh im bi ll translated">随着比特币(BTC)和类似Ripple (XRP)、莱特币(LTC) &amp; Ethereum (ETH)等替代货币经历高度波动，我的比特币基地账户的表现变得令人头疼。尽管比特币基地的网络界面确实提供了一些投资组合报告，但仍然很难跟踪我的加密货币账户的表现，无论是个人还是整体。以下是我的解决方案:</p><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi lu"><img src="../Images/f8e7fff958a1173a2fe9e31df326a99e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5tavgGoCp8I-3uEb6ch45g.png"/></div></div></figure><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/1ef773157e717ac3d4d9c7599ab5cd2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*62YmiOijxufX2FB3MufpeA.png"/></div></figure><p id="6789" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">上面的图片显示了我在Google Sheets中创建的仪表板的主页，以帮助我更准确地组织和跟踪这些加密货币投资。<a class="ae mh" href="http://bit.ly/30z2TM2" rel="noopener ugc nofollow" target="_blank">这是它的完整模板</a>。<strong class="ko iu">如果你喜欢你所看到的，并想自己建立一个，遵循这一步一步的指导，你就可以了！</strong></p><p id="8ffd" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">无论是初级程序员还是非程序员，都不要担心。这份详细的指南是专门为你设计的！</p><h1 id="3f10" class="mi mj it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated"><strong class="ak">你需要什么:</strong></h1><ul class=""><li id="e8dd" class="na nb it ko b kp nc ks nd li ne lj nf lk ng lh nh ni nj nk bi translated">苹果电脑</li><li id="3a59" class="na nb it ko b kp nl ks nm li nn lj no lk np lh nh ni nj nk bi translated">一个Gmail账户</li><li id="2528" class="na nb it ko b kp nl ks nm li nn lj no lk np lh nh ni nj nk bi translated">一个比特币基地账户(显然)</li><li id="373c" class="na nb it ko b kp nl ks nm li nn lj no lk np lh nh ni nj nk bi translated">耐心看完整篇文章——我保证，这是值得的！</li></ul><h1 id="607d" class="mi mj it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated"><strong class="ak">Mac设置:</strong></h1><p id="cf08" class="pw-post-body-paragraph kl km it ko b kp nc ju kr ks nd jx ku li nq kx ky lj nr lb lc lk ns lf lg lh im bi translated">不要担心，我会尽可能让它变得简单！</p><p id="ba0c" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">虽然每台mac都已经安装了python，但是为了设置它，我们需要一些其他编程包的帮助，因此我们需要安装Python友好的包管理器“pip”。<em class="kn">如果所有这些对你来说都是胡言乱语，那就忽略我刚才说的，按照以下步骤去做:</em></p><ol class=""><li id="9d8e" class="na nb it ko b kp kq ks kt li nt lj nu lk nv lh nw ni nj nk bi translated">按照<a class="ae mh" href="http://bit.ly/2Y3g3Dc" rel="noopener ugc nofollow" target="_blank">如何在Mac上安装Python3指南</a>中的步骤1“最简单的方法”下载并升级到Python 3</li><li id="cb9b" class="na nb it ko b kp nl ks nm li nn lj no lk np lh nw ni nj nk bi translated">导航到mac的终端(在mac上打开“终端”应用程序)</li><li id="5ad3" class="na nb it ko b kp nl ks nm li nn lj no lk np lh nw ni nj nk bi translated">键入以下命令，并在每行后按enter键(有关详细信息，请参见下面的视频):</li></ol><pre class="lv lw lx ly gt nx ny nz oa aw ob bi"><span id="f37c" class="oc mj it ny b gy od oe l of og">python3 --version<br/>curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py<br/>python3 get-pip.py</span></pre><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi oh"><img src="../Images/96e8268f04db738f75e1865274e03f58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*WoEK-SvBwDN0T2y9NBnhvw.gif"/></div></div><figcaption class="oi oj gj gh gi ok ol bd b be z dk translated">用Python3设置Mac后安装Pip</figcaption></figure><p id="da4b" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">假设这些命令运行顺利，请继续阅读(否则，请随时联系我寻求帮助，我的电子邮件可以在本文底部找到)。</p><p id="d409" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">现在我们有了包管理器，pip，让我们也在终端中运行下面的代码—不要忘记在每一行之后按enter键(下面的视频):</p><pre class="lv lw lx ly gt nx ny nz oa aw ob bi"><span id="6a49" class="oc mj it ny b gy od oe l of og">pip install requests<br/>pip install coinbase<br/>pip install oauth2client<br/>pip install gspread</span></pre><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div class="gh gi om"><img src="../Images/ab67661059bd61549bf678fb81ea7071.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*JJQGMYLh-b9Fl3Hc_XPDAw.gif"/></div><figcaption class="oi oj gj gh gi ok ol bd b be z dk translated">使用pip安装软件包</figcaption></figure><p id="3eca" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">好了，终端都完成了(目前…)。接下来，获取您的比特币基地帐户数据，并将其推送到您自己的仪表板上！</p><h1 id="ec97" class="mi mj it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated"><strong class="ak">连接到比特币基地API: </strong></h1><p id="8869" class="pw-post-body-paragraph kl km it ko b kp nc ju kr ks nd jx ku li nq kx ky lj nr lb lc lk ns lf lg lh im bi translated">为了通过代码从比特币基地获得我们需要的加密货币信息，我们将不得不使用应用程序接口(简称为API)。为此，我们需要向比特币基地请求一个API令牌。前往<a class="ae mh" href="http://bit.ly/2XFxcDI" rel="noopener ugc nofollow" target="_blank">Coinbase.com</a>并登录。这将带您进入设置页面，然后您可以按照以下步骤操作:</p><ol class=""><li id="5ddd" class="na nb it ko b kp kq ks kt li nt lj nu lk nv lh nw ni nj nk bi translated">导航到“API访问”选项卡</li><li id="b7f6" class="na nb it ko b kp nl ks nm li nn lj no lk np lh nw ni nj nk bi translated">选择屏幕右上角附近的“+新API密钥”按钮，将出现一个弹出窗口</li><li id="b7b5" class="na nb it ko b kp nl ks nm li nn lj no lk np lh nw ni nj nk bi translated">在帐户下，选择“全部”(除非您只对特定的加密帐户感兴趣)</li><li id="e90e" class="na nb it ko b kp nl ks nm li nn lj no lk np lh nw ni nj nk bi translated">在权限下，选择以下选项:</li></ol><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div class="gh gi on"><img src="../Images/bf08bf53043d5f80d480ed6359270c37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1094/format:webp/1*TDEqLn__NbBvGduYeOzUBw.png"/></div><figcaption class="oi oj gj gh gi ok ol bd b be z dk translated">API权限</figcaption></figure><p id="5c58" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">5.最后，点击“创建”。然后会弹出一个窗口，显示您的API凭证(如下所示)。正如窗口中所说，确保这些安全可靠(不要担心，下面的API密钥是假的)。抓紧你真正的API密匙和API秘密，因为我们很快就会用到它们。</p><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/0d6185f324c0fa70d7c65b64d8684da2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/1*R9lF2xMFyErm2iRJTyuglA.png"/></div><figcaption class="oi oj gj gh gi ok ol bd b be z dk translated">API凭据:这些凭据将用于以编程方式访问比特币基地</figcaption></figure><h1 id="a6c1" class="mi mj it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">设置Google电子表格仪表板:</h1><p id="738b" class="pw-post-body-paragraph kl km it ko b kp nc ju kr ks nd jx ku li nq kx ky lj nr lb lc lk ns lf lg lh im bi translated">还记得我说过你需要一个gmail账户吗？好吧，时候到了。我们需要一个gmail帐户来连接到谷歌电子表格(是的，通过使用另一个API…)。Google Spreadsheets是你的仪表盘所在的地方。</p><p id="c224" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">首先，让我们将控制面板复制到您的帐户中:</p><ol class=""><li id="9417" class="na nb it ko b kp kq ks kt li nt lj nu lk nv lh nw ni nj nk bi translated">在浏览器中登录您的gmail帐户</li><li id="6546" class="na nb it ko b kp nl ks nm li nn lj no lk np lh nw ni nj nk bi translated">转到我创建的<a class="ae mh" href="http://bit.ly/30z2TM2" rel="noopener ugc nofollow" target="_blank">仪表板模板</a></li><li id="2e06" class="na nb it ko b kp nl ks nm li nn lj no lk np lh nw ni nj nk bi translated">选择“文件”-&gt;“制作副本”，然后将其命名为“比特币基地文件夹”(如果你不这样命名，它将无法工作)。现在，您的个人google drive中应该保存了一个空白版本的仪表板。</li></ol><p id="f999" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">最困难的部分…就快到了… <em class="kn">跟着我… </em></p><p id="2827" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">现在我们将为您的Google Sheets创建API凭证。首先，导航到<a class="ae mh" href="http://bit.ly/2Jx2Vy1" rel="noopener ugc nofollow" target="_blank"> Google电子表格API页面</a>并点击蓝色的“启用”按钮。这应该会自动创建一个项目，并带您到一个页面，您会看到在右上角的按钮“创建凭证”。</p><p id="f817" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated"><strong class="ko iu">警告:</strong> <em class="kn">如果您在右上角没有看到“创建凭证”按钮，您所在的页面很可能会提示您首先创建一个项目。创建一个(随便你怎么命名)，然后它会带你回到有蓝色“启用”按钮的页面。再次点击此按钮，您将最终进入右上角带有“创建凭证”按钮的页面。</em></p><p id="a5c0" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">我们到达这里后，单击“创建凭据”并按照视频中的步骤操作(如果您看不清楚，请放大):</p><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi op"><img src="../Images/8161261043b7e7bcf6a07914e7e8d419.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*2ye-tPEhY0oBMGmA106hKg.gif"/></div></div></figure><p id="69d9" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">正如你在视频结尾看到的，我们现在有一个下载的文件，里面有我们的Google Sheets API凭证！确保你也把它存放在一个安全的地方。设置完成后，关闭弹出窗口，这将使您返回到凭证列表。从这里开始，您必须:</p><ol class=""><li id="6d70" class="na nb it ko b kp kq ks kt li nt lj nu lk nv lh nw ni nj nk bi translated">单击右侧的蓝色“管理服务帐户”链接，复制与您刚刚创建的密钥相关的电子邮件</li><li id="2720" class="na nb it ko b kp nl ks nm li nn lj no lk np lh nw ni nj nk bi translated">导航回您之前保存在Google Drive中的官方仪表盘Google Sheet】(如下所示)</li><li id="073d" class="na nb it ko b kp nl ks nm li nn lj no lk np lh nw ni nj nk bi translated">点击右上角的深绿色“分享”按钮。将你刚刚复制的电子邮件粘贴到“输入姓名或电子邮件地址…”的地方，并确保给它“可以编辑”的权限。然后点击发送，瞧！<em class="kn">(如果需要，所有这些都显示在下面)</em></li></ol><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi oq"><img src="../Images/791fa1c1f3f2c114863cc2abb75fce52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*rhk_R-cxz3BFl_rxYcZSCQ.gif"/></div></div></figure><p id="15d6" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">现在是魔术…</p><h1 id="43e5" class="mi mj it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">Python代码:将它们结合在一起</h1><p id="4d80" class="pw-post-body-paragraph kl km it ko b kp nc ju kr ks nd jx ku li nq kx ky lj nr lb lc lk ns lf lg lh im bi translated">好吧，希望你能和我一起走到这一步！评估你目前应该拥有的东西:</p><ul class=""><li id="56ef" class="na nb it ko b kp kq ks kt li nt lj nu lk nv lh nh ni nj nk bi translated">Google Drive帐户中的Google表单，该表单已与您在上一步中复制的电子邮件共享</li><li id="141b" class="na nb it ko b kp nl ks nm li nn lj no lk np lh nh ni nj nk bi translated">文件(扩展名为。json)，它包含您的代码将用来访问您的Google表单的Google凭证</li></ul><p id="ca7b" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">最后一块是获取python脚本，可以从这里下载<a class="ae mh" href="http://bit.ly/32qfZgf" rel="noopener ugc nofollow" target="_blank">(<em class="kn">如果你有Github账号，这里是</em> </a><a class="ae mh" href="http://bit.ly/30to7us" rel="noopener ugc nofollow" target="_blank"> <em class="kn">回购/脚本</em> </a>)。一旦你下载了，确保它和谷歌证书文件(如上所述)在一个文件夹中。</p><p id="7e31" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">现在，用任何文本编辑器打开脚本(默认情况下，Mac附带“文本编辑”)。因为我们都有不同的凭证，所以您需要对下面几行代码做一些最后的修改。首先，将key和scrt变量的引号内的内容替换为<strong class="ko iu">您的比特币基地API密匙和比特币基地API秘密</strong>(这些您应该早些保存在安全的地方)。</p><pre class="lv lw lx ly gt nx ny nz oa aw ob bi"><span id="a5d9" class="oc mj it ny b gy od oe l of og">key = 'YOUR_COINBASE_API_KEY'<br/>scrt = 'YOUR_COINBASE_API_SECRET'</span></pre><p id="a1c8" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">然后，您必须更新Google凭证的文件名，以便您的计算机也能够找到这些凭证。这一行代码(就在key和scrt行的下面)如下所示:</p><pre class="lv lw lx ly gt nx ny nz oa aw ob bi"><span id="97a8" class="oc mj it ny b gy od oe l of og">google_creds = "YOUR_GOOGLE_CREDENTIALS_FILENAME.json"</span></pre><p id="8752" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">用<strong class="ko iu">您的Google凭证文件名</strong>替换引号中的内容(例如“我的项目29080–4b 4089 d0c 005 . JSON”)。现在保存文件，最后，您终于准备好观看编程魔术了！</p><h2 id="9aba" class="oc mj it bd mk or os dn mo ot ou dp ms li ov ow mu lj ox oy mw lk oz pa my pb bi translated">运行代码:</h2><p id="b89f" class="pw-post-body-paragraph kl km it ko b kp nc ju kr ks nd jx ku li nq kx ky lj nr lb lc lk ns lf lg lh im bi translated">为了最终运行代码，我们必须执行以下操作:</p><ol class=""><li id="f8a8" class="na nb it ko b kp kq ks kt li nt lj nu lk nv lh nw ni nj nk bi translated">再次打开我们的终端应用程序。</li><li id="96d4" class="na nb it ko b kp nl ks nm li nn lj no lk np lh nw ni nj nk bi translated">在提示符下键入“cd”(不要按enter键)。</li><li id="dd14" class="na nb it ko b kp nl ks nm li nn lj no lk np lh nw ni nj nk bi translated">转到finder，拖动包含coinbase_tracker.py文件和您的Google凭据的文件夹。json文件放入终端窗口。按回车键。</li><li id="4abc" class="na nb it ko b kp nl ks nm li nn lj no lk np lh nw ni nj nk bi translated">最后，输入以下命令:</li></ol><pre class="lv lw lx ly gt nx ny nz oa aw ob bi"><span id="2baa" class="oc mj it ny b gy od oe l of og">python3 coinbase_tracker.py</span></pre><p id="e2dc" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">瞧啊。您应该会看到代码正在运行，并为您提供它正在处理的每一个步骤。一旦完成，检查你的谷歌表，看看仪表板的效果！</p><p id="81a0" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">如果你在遵循最后这些步骤时遇到困难，请观看下面的视频短片。</p><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div class="gh gi om"><img src="../Images/6f50f5d12899a2dc0ceec7a208e82918.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*4P36Vr9hF9a4UZ0J0steIQ.gif"/></div></figure><p id="644b" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">每当您想要更新您的帐户信息时，只需重复上面“运行代码”一节中的步骤1-4。</p><h1 id="1ac2" class="mi mj it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated"><strong class="ak">重要:</strong></h1><ul class=""><li id="b76b" class="na nb it ko b kp nc ks nd li ne lj nf lk ng lh nh ni nj nk bi translated">本指南/准则仅适用于美国的比特币基地&amp; Mac用户</li><li id="f5d4" class="na nb it ko b kp nl ks nm li nn lj no lk np lh nh ni nj nk bi translated">损益是根据每种货币的平均历史买入价计算的</li><li id="c7ca" class="na nb it ko b kp nl ks nm li nn lj no lk np lh nh ni nj nk bi translated">已实现和未实现的收益/损失不包括支付给比特币基地的交易手续费</li></ul><h1 id="86ab" class="mi mj it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">奖金:</h1><p id="b2c2" class="pw-post-body-paragraph kl km it ko b kp nc ju kr ks nd jx ku li nq kx ky lj nr lb lc lk ns lf lg lh im bi translated">如果你想冒险进入更深的编码水域，让你的电脑<em class="kn">每小时自动</em>刷新你的比特币基地数据，请联系我。如果您有任何进一步的问题或只是需要帮助设置您的仪表板，请随时给我发电子邮件:<strong class="ko iu"><em class="kn"/>hi.its.matias@gmail.com。</strong></p><p id="dcaa" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">希望你喜欢我的文章</p><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/6292d9610e597549c8d377e54ba65dc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WGitXwXBApdnvjRDIdTmBA.png"/></div></figure></div></div>    
</body>
</html>