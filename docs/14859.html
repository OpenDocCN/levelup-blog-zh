<html>
<head>
<title>8 R Programming Tips and Tricks That Will Make You More Efficient</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让你更有效率的8 R编程技巧</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/8-r-programming-tips-and-tricks-that-will-make-you-more-efficient-d3d6c33134e1?source=collection_archive---------2-----------------------#2022-12-29">https://levelup.gitconnected.com/8-r-programming-tips-and-tricks-that-will-make-you-more-efficient-d3d6c33134e1?source=collection_archive---------2-----------------------#2022-12-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/71c93ddf0bad38ef80bf6db0dc1b06eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*K1Vxrt5M-c7INdYH"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">卢克·切瑟在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="d35b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">r编程是统计计算和数据分析的一个强大而流行的工具。数据科学家和研究人员喜欢它，因为它有广泛的软件包和功能，使数据处理和可视化变得快速而简单。</p><p id="6b87" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这些提示和技巧将帮助您充分利用这个灵活而强大的工具，无论您是一个尝试开始R编程的新手，还是一个希望提高技能的有经验的用户。</p><h1 id="256c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用R本机管道运算符</h1><p id="fb34" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">这将需要我们大多数人来适应，但有一个比magrittr <code class="fe me mf mg mh b">%&gt;%</code>操作符更好的选项，这是R native的管道操作符，带有base R。您不需要安装任何tidyverse包来使用它，只需确保您的R更新到最新版本，您可以通过转到<strong class="kf ir">工具&gt;全局选项&gt;代码</strong>来启用它，并勾选下面的选项。</p><figure class="mj mk ml mm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mi"><img src="../Images/10d9eb91d7bb5af35b8a800eb52a85fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M2uSrAC_JHATDOPUJsywxg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">作者图片</figcaption></figure><h1 id="eac2" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">在新选项卡上查看数据</h1><p id="6272" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">使用<code class="fe me mf mg mh b">View()</code>函数，您可以在一个新的选项卡上查看数据，得到一个类似于您在Excel电子表格中看到的视图。</p><pre class="mj mk ml mm gt mn mh mo bn mp mq bi"><span id="f992" class="mr lc iq mh b be ms mt l mu mv">View(mtcars)</span></pre><figure class="mj mk ml mm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/a8563c5a02d111723487175f8abb1a97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YQihBWvzQmPGu5CSVwA0Ng.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">作者图片</figcaption></figure><p id="d9c7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这给你一个更宽的数据集视图，比在控制台上查看数据集更好看。您还可以通过单击任何变量的箭头对该视图中的数据进行排序，这将按升序或降序对数据进行排序。这类似于您在Excel中对<em class="mx">表格</em>所做的操作。</p><figure class="mj mk ml mm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi my"><img src="../Images/cb81794282aa715590127e75b3403e02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cLUk6-s_f0tqnZYw3I-9UA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">作者图片</figcaption></figure><p id="d490" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你可以看到<code class="fe me mf mg mh b">mtcars</code>数据集是按照mpg的升序排序的，你也可以使用管道操作符将<code class="fe me mf mg mh b">View()</code>函数传递给你的数据，如下所示。</p><pre class="mj mk ml mm gt mn mh mo bn mp mq bi"><span id="8c6f" class="mr lc iq mh b be ms mt l mu mv">library(dplyr)<br/><br/>mtcars |&gt; <br/>  filter(mpg &lt;= 15) |&gt; <br/>  View()</span></pre><figure class="mj mk ml mm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mz"><img src="../Images/55d1fc0c651368acbd2712f29ea719e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k3FLZYCacyFBzNsU2r2TKA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">作者图片</figcaption></figure><h1 id="4e4c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">将情节与拼凑结合起来</h1><p id="db97" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">有时候太多的情节会使你的工作变得凌乱，你可以通过将两到四个情节合并到一个页面中来使你的工作看起来更有条理。Patchwork是一个使用数学运算符的包，可以让您轻松完成这项工作。</p><pre class="mj mk ml mm gt mn mh mo bn mp mq bi"><span id="b82d" class="mr lc iq mh b be ms mt l mu mv">library(ggplot2)<br/>library(patchwork)<br/><br/>a &lt;- diamonds |&gt; <br/>  ggplot(aes(price)) +<br/>  geom_histogram()<br/><br/>b &lt;- diamonds |&gt; <br/>  ggplot(aes(cut,price)) +<br/>  geom_col()<br/><br/>a + b</span></pre><figure class="mj mk ml mm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi na"><img src="../Images/17bb5b27936feda15400559aea8a3c4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l4st4M56LTnXkiCSPed_Tg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">作者图片</figcaption></figure><p id="447d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，图<code class="fe me mf mg mh b">a</code>和<code class="fe me mf mg mh b">b</code>使用<code class="fe me mf mg mh b">+</code>符号组合在同一列中。</p><p id="2c7d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你想了解R中多个情节的组合，何不看看这篇文章，你会发现它很有趣。</p><div class="nb nc gp gr nd ne"><a href="https://medium.com/geekculture/how-to-combine-multiple-plots-in-one-page-f17c21bf930b" rel="noopener follow" target="_blank"><div class="nf ab fo"><div class="ng ab nh cl cj ni"><h2 class="bd ir gy z fp nj fr fs nk fu fw ip bi translated">R编程中如何在一页中组合多个图</h2><div class="nl l"><h3 class="bd b gy z fp nj fr fs nk fu fw dk translated">我工作的一个客户最近告诉我，他提交文章的一个出版物，只接受6个情节，他…</h3></div><div class="nm l"><p class="bd b dl z fp nj fr fs nk fu fw dk translated">medium.com</p></div></div><div class="nn l"><div class="no l np nq nr nn ns jw ne"/></div></div></a></div><h1 id="7697" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">打印分配结果</h1><p id="8689" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我知道你想知道为什么我总是给一个变量赋值，并且仍然通过名字调用那个变量或者使用<code class="fe me mf mg mh b">print()</code>函数来得到结果，为什么我不能在赋值后得到结果？</p><p id="03ae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">好吧，希望这能解决你的问题，如果你想看到你的任务的结果，就用一个像这样的圆括号把它盖住，</p><pre class="mj mk ml mm gt mn mh mo bn mp mq bi"><span id="8a42" class="mr lc iq mh b be ms mt l mu mv">(data &lt;- head(iris))</span></pre><figure class="mj mk ml mm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nt"><img src="../Images/2529a260ba2eaed5285336a4148e492b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H7aFGVdKEf6LJdN1ia_70w.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">作者图片</figcaption></figure><p id="44bf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">上面的代码将<code class="fe me mf mg mh b">head(iris)</code>的结果存储在变量<code class="fe me mf mg mh b">data</code>中，并立即给出结果。</p><h1 id="fc77" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">创建自己的二元运算符</h1><p id="ad2c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">就像创建管道运算符一样，您也可以创建自己的二元运算符。Python中的<code class="fe me mf mg mh b">+=</code>操作符允许您向现有变量添加值，从而更新该变量的值。你可以在r中复制这种函数。</p><pre class="mj mk ml mm gt mn mh mo bn mp mq bi"><span id="f9ff" class="mr lc iq mh b be ms mt l mu mv">'%+=%' &lt;- function(x,y)<br/>  x + y</span></pre><p id="b8ac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">r将两个百分号<code class="fe me mf mg mh b">(%…%)</code>之间的任何文本解释为二元运算符。</p><pre class="mj mk ml mm gt mn mh mo bn mp mq bi"><span id="d46e" class="mr lc iq mh b be ms mt l mu mv">&gt;x = 4<br/>&gt;(x &lt;- x %+=% 7)<br/>11<br/></span></pre><h1 id="8fb8" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">在脚本中使用代码部分</h1><p id="0a67" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">许多R用户不使用这一点，您可以在脚本中添加代码段，使其易于导航，特别是如果您正在编写很长的代码行。要向脚本添加代码段，以<code class="fe me mf mg mh b">#</code>开始注释，以<code class="fe me mf mg mh b">----</code>、<code class="fe me mf mg mh b">####</code>或<code class="fe me mf mg mh b">====</code>结束注释。这将创建一个代码部分，当你点击你的大纲时，你可以看到它。</p><pre class="mj mk ml mm gt mn mh mo bn mp mq bi"><span id="9dfe" class="mr lc iq mh b be ms mt l mu mv"># Section One ----<br/><br/># Section Two ####<br/><br/># Section Three ====</span></pre><figure class="mj mk ml mm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nu"><img src="../Images/4b6d5cc730b078dbff20851da02d7f4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TTJoLdaNFfQJCqSH_kWFQg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">作者图片</figcaption></figure><h1 id="eb59" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用Skimr获取数据摘要</h1><p id="c359" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">与<code class="fe me mf mg mh b">str()</code>和<code class="fe me mf mg mh b">summary()</code>函数不同，skimr包中的<code class="fe me mf mg mh b">skim()</code>函数更加全面，允许您查看数据集中的数据类型、缺失值等信息，还可以通过每个变量的迷你直方图查看每个连续变量的分布。</p><pre class="mj mk ml mm gt mn mh mo bn mp mq bi"><span id="84a0" class="mr lc iq mh b be ms mt l mu mv">skimr::skim(mtcars)</span></pre><figure class="mj mk ml mm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nv"><img src="../Images/1a6a5c00c5aba501f0aca4f6e9dc7270.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5U3e0PZE0a-JO5Weyjw5jQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">作者图片</figcaption></figure><h1 id="0994" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用彩虹括号</h1><p id="125c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我知道我不是唯一一个发现嵌套函数令人困惑的人，想象这样一个函数，</p><figure class="mj mk ml mm gt jr gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/a63b27bf8dea68ba869e8b6250273431.png" data-original-src="https://miro.medium.com/v2/resize:fit:1164/format:webp/1*M687lGLH1-rWe84Zagkfqw.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">作者图片</figcaption></figure><p id="4ed6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时甚至会更糟，但你可以通过打开彩虹支架来使支架变得丰富多彩。转到<strong class="kf ir">代码&gt;彩虹括号</strong></p><figure class="mj mk ml mm gt jr gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/597602901575f9014ba90b2a7861dcef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1034/format:webp/1*D9C7mcNLPz10QluVYXTn8w.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">作者图片</figcaption></figure><figure class="mj mk ml mm gt jr gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/c452332adf1620caf78ddcf5d2640185.png" data-original-src="https://miro.medium.com/v2/resize:fit:1142/format:webp/1*IyoEu0WnosscsbaG9KnZag.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">作者图片</figcaption></figure><p id="222e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">看起来比较顺眼。</p><h1 id="039c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="54ae" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">嘿，希望你能找到一些有用的提示，就像有人和我分享了一些提示一样，你为什么不分享给一个R用户呢？你不知道，你可能会拯救一条生命！</p><figure class="mj mk ml mm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nz"><img src="../Images/ac029ef2fbcec94a67e611384937fdee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6LKuY2h9fxoPn60w"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">乔恩·泰森在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure></div></div>    
</body>
</html>