<html>
<head>
<title>How to add Swagger UI to an existing Node.js and Express.js project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将Swagger UI添加到现有Node.js和Express.js项目中</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-add-swagger-ui-to-existing-node-js-and-express-js-project-2c8bad9364ce?source=collection_archive---------0-----------------------#2020-06-13">https://levelup.gitconnected.com/how-to-add-swagger-ui-to-existing-node-js-and-express-js-project-2c8bad9364ce?source=collection_archive---------0-----------------------#2020-06-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="2370" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本教程中，我们将学习如何将swagger添加到现有的Node和Express.js中。正如我们已经在<a class="ae ko" href="https://medium.com/@kirtikau/how-to-create-a-rest-api-with-express-js-and-node-js-3de5c5f9691c" rel="noopener">第1部分——如何用Express.js和Node.js创建REST API</a>(<a class="ae ko" href="https://github.com/kirti/restful-api-node-express-crud" rel="noopener ugc nofollow" target="_blank">源代码第1部分</a>)中所学的，现在我们将在这个项目中添加swagger。</p><div class="kp kq gp gr kr ks"><a href="https://skilled.dev" rel="noopener  ugc nofollow" target="_blank"><div class="kt ab fo"><div class="ku ab kv cl cj kw"><h2 class="bd iu gy z fp kx fr fs ky fu fw is bi translated">编写面试问题+获得开发工作</h2><div class="kz l"><h3 class="bd b gy z fp kx fr fs ky fu fw dk translated">跳到内容走进你的编码面试，感觉你拥有这个房间。感觉自己有能力获得梦想中的工作…</h3></div><div class="la l"><p class="bd b dl z fp kx fr fs ky fu fw dk translated">技术开发</p></div></div><div class="lb l"><div class="lc l ld le lf lb lg lh ks"/></div></div></a></div><p id="11ff" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">在我们开始之前，请找出以下重要定义:</strong></p><ol class=""><li id="6f1c" class="li lj it js b jt ju jx jy kb lk kf ll kj lm kn ln lo lp lq bi translated">Swagger是一个开源软件框架，由一个大型工具生态系统支持，帮助开发人员设计、构建、记录和使用RESTful web服务</li><li id="f105" class="li lj it js b jt lr jx ls kb lt kf lu kj lv kn ln lo lp lq bi translated">Swagger为设计API和改进web服务提供了一套很棒的工具</li></ol><p id="9582" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">a)<a class="ae ko" href="https://swagger.io/tools/swagger-editor/" rel="noopener ugc nofollow" target="_blank"><strong class="js iu">Swagger Editor</strong></a>—<strong class="js iu">Swagger Editor</strong>是一款开源的<strong class="js iu">编辑器</strong>，用于设计、定义和记录<strong class="js iu"> Swagger </strong>规范中的RESTful APIs。</p><p id="32cb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">b)<a class="ae ko" href="https://swagger.io/tools/swagger-codegen/" rel="noopener ugc nofollow" target="_blank"><strong class="js iu">Swagger Codegen</strong></a>—<strong class="js iu">Swagger Codegen</strong>是一个开源项目，它允许根据OpenAPI规范自动生成API客户端库(SDK生成)、服务器存根和文档。</p><p id="2541" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">c)<a class="ae ko" href="https://swagger.io/tools/swagger-ui/" rel="noopener ugc nofollow" target="_blank"><strong class="js iu">Swagger UI</strong></a>—<strong class="js iu">Swagger UI</strong>允许开发团队在没有任何实现逻辑的情况下可视化API资源并与之交互。API的呈现对用户友好且易于理解，所有的逻辑复杂性都隐藏在屏幕后面。</p><p id="c565" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">d)<a class="ae ko" href="https://swagger.io/tools/swagger-inspector/" rel="noopener ugc nofollow" target="_blank"><strong class="js iu">Swagger Inspector</strong></a>—用于测试和自动生成任何API的OpenAPI文档的工具。Swagger Inspector允许您轻松验证和测试API，对您测试的内容没有任何限制。通过简单的访问，测试被自动保存在云中。</p><p id="6c06" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">3.OpenAPI规范，最初被称为<strong class="js iu"> Swagger规范，</strong>是用于描述、生成、消费和可视化RESTful web服务的机器可读接口文件的规范。</p><p id="feb9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这个项目中，由于我们已经有了一个现有的RESTful API ( <a class="ae ko" href="https://medium.com/@kirtikau/how-to-create-a-rest-api-with-express-js-and-node-js-3de5c5f9691c" rel="noopener">第1部分教程</a>)，现在Swagger UI将仅用于记录现有的API。</p><p id="2e50" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">入门</strong></p><ol class=""><li id="71d0" class="li lj it js b jt ju jx jy kb lk kf ll kj lm kn ln lo lp lq bi translated">下载<a class="ae ko" href="https://github.com/kirti/restful-api-node-express-crud" rel="noopener ugc nofollow" target="_blank">第一部分源代码</a>并打开您想要保存程序的终端</li><li id="6131" class="li lj it js b jt lr jx ls kb lt kf lu kj lv kn ln lo lp lq bi translated">使用以下命令运行终端</li></ol><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="3a0e" class="mf mg it mb b gy mh mi l mj mk">npm install</span><span id="3db3" class="mf mg it mb b gy ml mi l mj mk">npm run start</span><span id="8a00" class="mf mg it mb b gy ml mi l mj mk">open browser and run below url</span><span id="c43e" class="mf mg it mb b gy ml mi l mj mk"><a class="ae ko" href="http://localhost:8000/" rel="noopener ugc nofollow" target="_blank">http://localhost:8000/</a></span></pre><p id="894b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">3.现在，<strong class="js iu">真正的魔术将开始招摇:</strong></p><p id="9978" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">为swagger安装依赖项</strong></p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="835c" class="mf mg it mb b gy mh mi l mj mk">npm i swagger-ui-express -S</span></pre><p id="b6b8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">4.在根目录下创建一个新文件swagger.json</p><figure class="lw lx ly lz gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi mm"><img src="../Images/d3e2a085261a24515bef8e28edaa2d7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:646/format:webp/1*2tKCzmIJSz5xCiBCWYwTWA.png"/></div></div></figure><p id="0774" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">5.<strong class="js iu">在我们开始编码之前，请参考</strong> r到<a class="ae ko" href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.3.md" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">的定义和链接，以获得对Swagger API定义的更多理解。</strong> </a></p><p id="fc88" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">基本结构</strong></p><p id="caec" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们将在<a class="ae ko" href="https://en.wikipedia.org/wiki/JSON" rel="noopener ugc nofollow" target="_blank"> JSON </a>中编写OpenAPI定义。如果您不熟悉Swagger规范，这是用于创建Swagger API定义的一组规则。<a class="ae ko" href="https://swagger.io/docs/specification/basic-structure/" rel="noopener ugc nofollow" target="_blank">请点击此链接了解以下定义</a>。我们将引导基本结构和移动方式来创建复杂结构。</p><p id="ca3c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">这里我们将学习基本结构和CRUD路线。你会注意到下面的标签</strong></p><p id="de8e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">a)<code class="fe mt mu mv mb b"><strong class="js iu">info</strong></code>部分包含API信息:<code class="fe mt mu mv mb b">title</code>、<code class="fe mt mu mv mb b">description</code>(可选)、<code class="fe mt mu mv mb b">version</code>:</p><p id="04da" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">b) <strong class="js iu">路径:</strong><code class="fe mt mu mv mb b">paths</code>该部分定义了API和HTTP方法中的各个端点(路径)</p><p id="b3fb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">c) <strong class="js iu">参数:</strong>操作可以通过URL路径(<code class="fe mt mu mv mb b">/users/{userId}</code>)、查询字符串(<code class="fe mt mu mv mb b">/users?</code>传递参数</p><p id="49d8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">d) <strong class="js iu">请求体:</strong>如果一个操作发送一个请求体，使用<code class="fe mt mu mv mb b">requestBody</code>关键字描述请求体内容和媒体类型。</p><p id="4f50" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">e) <strong class="js iu">响应:</strong>对于每个操作，您可以定义可能的状态代码，如200 OK或404 Not Found，以及响应主体<code class="fe mt mu mv mb b">schema</code>。</p><p id="892a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">让我们开始编码</strong></p><p id="ec44" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">5.打开swagger.json文件并添加以下代码</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="2b85" class="mf mg it mb b gy mh mi l mj mk">{<br/>  "swagger": "2.0",<br/>  "info": {<br/>    "version": "1.0.0", //version of the OpenAPI Specification<br/>    "title": "My User Project CRUD",<br/>    "description": "My User Project Application API",<br/>    "license": {<br/>      "name": "MIT",<br/>      "url": "<a class="ae ko" href="https://opensource.org/licenses/MIT" rel="noopener ugc nofollow" target="_blank">https://opensource.org/licenses/MIT</a>"<br/>    }<br/>  },<br/>  "host": "localhost:8000",<br/>  "basePath": "/",<br/>  "tags": [<br/>    {<br/>      "name": "Users",<br/>      "description": "API for users in the system"<br/>    }<br/>  ],<br/>  "schemes": ["http"],<br/>  "consumes": ["application/json"],<br/>  "produces": ["application/json"]<br/>}</span></pre><p id="e1f5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">6.打开<strong class="js iu"> server.js文件</strong>并添加以下代码用于swagger集成</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="5510" class="mf mg it mb b gy mh mi l mj mk">const swaggerUi = require(‘swagger-ui-express’),</span><span id="404d" class="mf mg it mb b gy ml mi l mj mk">swaggerDocument = require(‘./swagger.json’);</span></pre><figure class="lw lx ly lz gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi mw"><img src="../Images/146d0f7fa8ae9cc7e6b3154be3793f36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uMaeU46vy-CtRVdtggoFCg.png"/></div></div></figure><p id="c63f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">另外，在a <strong class="js iu"> pp.listen代码之前添加以下代码。</strong></p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="4b1c" class="mf mg it mb b gy mh mi l mj mk">app.use(<br/>  '/api-docs',<br/>  swaggerUi.serve, <br/>  swaggerUi.setup(swaggerDocument)<br/>);</span></pre><figure class="lw lx ly lz gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi mx"><img src="../Images/54696be90a44dafd849af239e0fa36e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NFNa6YJY6D9D3Ycv998WTg.png"/></div></div></figure><h2 id="f4ea" class="mf mg it bd my mz na dn nb nc nd dp ne kb nf ng nh kf ni nj nk kj nl nm nn no bi translated">7.现在用<a class="ae ko" href="http://localhost:8000/api-docs/" rel="noopener ugc nofollow" target="_blank">打开浏览器http://localhost:8000/API-docs/</a></h2><p id="e459" class="pw-post-body-paragraph jq jr it js b jt np jv jw jx nq jz ka kb nr kd ke kf ns kh ki kj nt kl km kn im bi translated">您将能够看到用于文档的swagger UI。</p><figure class="lw lx ly lz gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi nu"><img src="../Images/34b27de6bf52dca4395253779bb2d00c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yw3aJVDDsg7R_JfRNERTcg.png"/></div></div></figure><p id="1151" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在我们需要为现有的API创建文档。正如我们所知，我们有四个API的CRUD(创建(POST)、读取(GET)、更新(PUT)和删除(delete)。</p><blockquote class="nv"><p id="a75d" class="nw nx it bd ny nz oa ob oc od oe kn dk translated">因此，我们将在swagger.json文件中添加路径和定义。如果你不熟悉<a class="ae ko" href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.3.md" rel="noopener ugc nofollow" target="_blank">路径和它的定义</a>，那么<a class="ae ko" href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.3.md" rel="noopener ugc nofollow" target="_blank">请参考这个链接了解更多细节。</a></p></blockquote><p id="cdbb" class="pw-post-body-paragraph jq jr it js b jt of jv jw jx og jz ka kb oh kd ke kf oi kh ki kj oj kl km kn im bi translated"><strong class="js iu"> 8。我们需要添加一条路由，在这条路由上我们将托管Swagger UI </strong></p><p id="0353" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">a) <strong class="js iu">获取</strong></p><p id="3244" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">打开swagger.json文件，添加下面的API文档代码(<a class="ae ko" href="http://localhost:8000/users" rel="noopener ugc nofollow" target="_blank">http://localhost:8000/users</a>)</p><p id="aff1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">swagger.json的引用:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="1345" class="mf mg it mb b gy mh mi l mj mk">{<br/>  "paths": {<br/>    "/users": {<br/>      "get": {<br/>        "tags": ["Users"],<br/>        "summary": "Get all users in system",<br/>        "responses": {<br/>          "200": {<br/>            "description": "OK",<br/>            "schema": {<br/>              "$ref": "#/definitions/Users"<br/>            }<br/>          }<br/>        }<br/>      }<br/>    }<br/>  },<br/>  "definitions": {<br/>    "User": {<br/>      "required": ["name", "_id", "companies"],<br/>      "properties": {<br/>        "_id": {<br/>          "type": "integer",<br/>          "uniqueItems": true<br/>        },<br/>        "isPublic": {<br/>          "type": "boolean"<br/>        },<br/>        "name": {<br/>          "type": "string"<br/>        },<br/>        "books": {<br/>          "type": "array",<br/>          "items": {<br/>            "type": "object",<br/>            "properties": {<br/>              "name": {<br/>                "type": "string"<br/>              },<br/>              "amount": {<br/>                "type": "number"<br/>              }<br/>            }<br/>          }<br/>        },<br/>        "companies": {<br/>          "type": "array",<br/>          "items": {<br/>            "type": "string"<br/>          }<br/>        }<br/>      }<br/>    },<br/>    "Users": {<br/>      "type": "array",<br/>      "$ref": "#/definitions/User"<br/>    }<br/>  }<br/>}</span></pre><p id="db1a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">9.现在用<strong class="js iu"> </strong> <a class="ae ko" href="http://localhost:8000/api-docs/" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">打开浏览器http://localhost:8000/API-docs/</strong></a></p><p id="cdaa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您将能够看到基于定义和路径的获取路线文档:</p><figure class="lw lx ly lz gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi ok"><img src="../Images/4e3f840d37dc37c482efeb59f7edabdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ammNoJLr65rsuJSGMrBh_w.png"/></div></div></figure><figure class="lw lx ly lz gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi ol"><img src="../Images/3e59fde67481fda579720c3b6d9fab68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*meXOKLL7l0spVazoB1f8oQ.png"/></div></div></figure><p id="3c23" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">10。帖子</p><p id="c582" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">打开swagger.json文件，添加下面的API文档代码(<a class="ae ko" href="http://localhost:8000/users" rel="noopener ugc nofollow" target="_blank">http://localhost:8000/a</a>DD user)</p><p id="d0f7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里我们将只多一条路径，因为定义已经定义好了</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="67f2" class="mf mg it mb b gy mh mi l mj mk">{<br/>  "paths": {<br/>    "/users": {<br/>      "get": {<br/>        "tags": ["Users"],<br/>        "summary": "Get all users in system",<br/>        "responses": {<br/>          "200": {<br/>            "description": "OK",<br/>            "schema": {<br/>              "$ref": "#/definitions/Users"<br/>            }<br/>          }<br/>        }<br/>      }<br/>    },<br/>    "/addUser": {<br/>      "post": {<br/>        "tags": ["Users"],<br/>        "description": "Create new user in system",<br/>        "parameters": [<br/>          {<br/>            "name": "user",<br/>            "in": "body",<br/>            "description": "User that we want to create",<br/>            "schema": {<br/>              "$ref": "#/definitions/User"<br/>            }<br/>          }<br/>        ],<br/>        "produces": ["application/json"],<br/>        "responses": {<br/>          "200": {<br/>            "description": "New user is created",<br/>            "schema": {<br/>              "$ref": "#/definitions/User"<br/>            }<br/>          }<br/>        }<br/>      }<br/>    }<br/>  }<br/>}</span></pre><figure class="lw lx ly lz gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi om"><img src="../Images/df928f1171db9c18b974ef55d8b11270.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nkPhk8dP9gM2gaYAfybS0Q.png"/></div></div></figure><p id="2044" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> 11。放</strong></p><p id="2a75" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">打开swagger.json文件，添加以下API文档代码(<a class="ae ko" href="http://localhost:8000/users" rel="noopener ugc nofollow" target="_blank">http://localhost:8000/</a>user/1)(即is 1是动态值)，还将修改server.js中的路由</p><p id="0882" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这里，我们将为更新路由添加一个新的路径和定义。</p><p id="8777" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">在路径下添加一个对象，如下图所示，用于放置</strong></p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="f350" class="mf mg it mb b gy mh mi l mj mk">  "/user/{id}": {<br/>    "parameters": [<br/>      {<br/>        "name": "id",<br/>        "in": "path",<br/>        "required": true,<br/>        "description": "ID of user that we want to find",<br/>        "type": "integer"<br/>      }<br/>    ],<br/>    "put": {<br/>      "summary": "Update user with give ID",<br/>      "tags": ["Users"],<br/>      "parameters": [<br/>        {<br/>          "name": "user",<br/>          "in": "body",<br/>          "description": "User with new values of properties",<br/>          "schema": {<br/>            "$ref": "#/definitions/updateUser"<br/>          }<br/>        }<br/>      ],<br/>      "responses": {<br/>        "200": {<br/>          "description": "User is updated",<br/>          "schema": {<br/>            "$ref": "#/definitions/User"<br/>          }<br/>        }<br/>      }<br/>    }<br/>  }</span></pre><p id="602b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">更新定义</strong></p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="1f0b" class="mf mg it mb b gy mh mi l mj mk">  "updateUser": {<br/>    "required": ["name", "companies"],<br/>    "properties": {<br/>      "isPublic": {<br/>        "type": "boolean"<br/>      },<br/>      "name": {<br/>        "type": "string"<br/>      },<br/>      "books": {<br/>        "type": "array",<br/>        "items": {<br/>          "type": "object",<br/>          "properties": {<br/>            "name": {<br/>              "type": "string"<br/>            },<br/>            "amount": {<br/>              "type": "number"<br/>            }<br/>          }<br/>        }<br/>      },<br/>      "companies": {<br/>        "type": "array",<br/>        "items": {<br/>          "type": "string"<br/>        }<br/>      }<br/>    }<br/>  }</span></pre><p id="331c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> 12。现在打开</strong>浏览器用<strong class="js iu"/><a class="ae ko" href="http://localhost:8000/api-docs/" rel="noopener ugc nofollow" target="_blank"><strong class="js iu">http://localhost:8000/API-docs/</strong></a></p><p id="3c4f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您将能够看到基于定义和路径的PUT Route文档</p><figure class="lw lx ly lz gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi om"><img src="../Images/7c20518338362abd21e9154584c96f57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*chCGx4rlYO3uq5Wt3zOC9A.png"/></div></div></figure><p id="da4c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> 13。删除路径</strong> —打开swagger.json文件并添加以下API文档代码(<a class="ae ko" href="http://localhost:8000/users" rel="noopener ugc nofollow" target="_blank">http://localhost:8000/</a>user/1)，我们还将更新server.js中的路由</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="49f1" class="mf mg it mb b gy mh mi l mj mk"> "delete": {<br/>    "summary": "Delete user with given ID",<br/>    "tags": ["Users"],<br/>    "responses": {<br/>      "200": {<br/>        "description": "User is deleted",<br/>        "schema": {<br/>          "$ref": "#/definitions/User"<br/>        }<br/>      }<br/>    }<br/>  }</span></pre><p id="3f36" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae ko" href="https://github.com/kirti/node-express-swagger-crud/" rel="noopener ugc nofollow" target="_blank">完整的源代码可以在这里找到</a>。</p><p id="22ff" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我希望你能以简单的方式理解这个流程，现在你可以用最新的ES6代码修改它，并表达js MVC增强结构。</p><p id="6f10" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">试着把代码转换成MVC Express js和ES6，你一定会喜欢的:)</p><h1 id="69a2" class="on mg it bd my oo op oq nb or os ot ne ou ov ow nh ox oy oz nk pa pb pc nn pd bi translated">结论:</h1><p id="da0d" class="pw-post-body-paragraph jq jr it js b jt np jv jw jx nq jz ka kb nr kd ke kf ns kh ki kj nt kl km kn im bi translated">这是如何在现有的Node js和Express.js项目中添加Swagger UI的说明性中间故事<strong class="js iu">如果您有任何疑问，请在kirtikau@gmail.com上给我发邮件</strong></p><p id="db40" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">请随时提供反馈，因为我也在学习很多东西，不分享知识就不可能做到完美:)</p><p id="d02e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">保持安全和愉快的学习:)</p></div><div class="ab cl pe pf hx pg" role="separator"><span class="ph bw bk pi pj pk"/><span class="ph bw bk pi pj pk"/><span class="ph bw bk pi pj"/></div><div class="im in io ip iq"><h1 id="a58c" class="on mg it bd my oo pl oq nb or pm ot ne ou pn ow nh ox po oz nk pa pp pc nn pd bi translated">分级编码</h1><p id="9489" class="pw-post-body-paragraph jq jr it js b jt np jv jw jx nq jz ka kb nr kd ke kf ns kh ki kj nt kl km kn im bi translated">感谢您成为我们社区的一员！升级正在改变技术招聘。<a class="ae ko" href="https://jobs.levelup.dev/talent" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">在最好的公司</strong>找到你的完美工作 </a> <strong class="js iu">。</strong></p><div class="kp kq gp gr kr ks"><a href="https://jobs.levelup.dev/talent" rel="noopener  ugc nofollow" target="_blank"><div class="kt ab fo"><div class="ku ab kv cl cj kw"><h2 class="bd iu gy z fp kx fr fs ky fu fw is bi translated">提升——改变招聘流程</h2><div class="kz l"><h3 class="bd b gy z fp kx fr fs ky fu fw dk translated">🔥让软件工程师找到他们热爱的完美角色🧠寻找人才是最痛苦的部分…</h3></div><div class="la l"><p class="bd b dl z fp kx fr fs ky fu fw dk translated">作业. levelup.dev</p></div></div><div class="lb l"><div class="pq l ld le lf lb lg lh ks"/></div></div></a></div></div></div>    
</body>
</html>