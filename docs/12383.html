<html>
<head>
<title>4 Funny Usages of NPM You May Not Know. Explained with Diagrams</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你可能不知道的NPM的4个有趣用法。用图表解释</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/4-funny-usages-of-npm-you-may-not-know-explained-with-diagrams-de77732e6fc2?source=collection_archive---------4-----------------------#2022-06-06">https://levelup.gitconnected.com/4-funny-usages-of-npm-you-may-not-know-explained-with-diagrams-de77732e6fc2?source=collection_archive---------4-----------------------#2022-06-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/7246d049ff1100feba0eb70ff44ae766.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H4TLBwJbZXwt3Fmc-lCYTw.jpeg"/></div></div></figure><h1 id="6db1" class="kb kc it bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">1.npm添加=== npm安装</h1><p id="315f" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">如果你尝试在npm官方文档中搜索<code class="fe lx ly lz ma b">npm add</code>命令，你会发现这个命令似乎根本不存在，如下图:</p><figure class="mc md me mf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mb"><img src="../Images/21c19703ba6365f028e3420155447d88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dIzVkglxYKbgejkanwKxAA.png"/></div></div></figure><p id="feff" class="pw-post-body-paragraph kz la it lb b lc mg le lf lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw im bi translated">但是我们确实可以在终端上使用这个命令:</p><pre class="mc md me mf gt ml ma mm mn aw mo bi"><span id="54c7" class="mp kc it ma b gy mq mr l ms mt">$ npm add lodash</span></pre><p id="2a5f" class="pw-post-body-paragraph kz la it lb b lc mg le lf lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw im bi translated">其实，<code class="fe lx ly lz ma b">npm add</code>是<code class="fe lx ly lz ma b">npm install</code>的别名之一。所以当我们使用<code class="fe lx ly lz ma b">npm add</code>的时候，完全等同于对npm执行<code class="fe lx ly lz ma b">npm install</code>！</p><p id="930f" class="pw-post-body-paragraph kz la it lb b lc mg le lf lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw im bi translated">同理，<code class="fe lx ly lz ma b">npm i</code>也是<code class="fe lx ly lz ma b">npm install</code>的别名。</p><figure class="mc md me mf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mu"><img src="../Images/f231f1da587ddea48d449a07168e6d94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rqbOi2zAUkHsxDvNKCoMDg.png"/></div></div></figure><h1 id="72b1" class="kb kc it bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">2.已安装npm？没关系</h1><p id="e18a" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">细心的读者可能已经发现，上面副标题中的<code class="fe lx ly lz ma b">instal</code>是这个单词的拼写错误。但它确实有效。</p><pre class="mc md me mf gt ml ma mm mn aw mo bi"><span id="9641" class="mp kc it ma b gy mq mr l ms mt">$ npm instal lodash</span></pre><p id="0131" class="pw-post-body-paragraph kz la it lb b lc mg le lf lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw im bi translated">其实这是npm <code class="fe lx ly lz ma b">8.x</code>版本的一个新特性，叫做容错设计。如果用户不小心拼错了一个单词，NPM仍然工作正常。</p><p id="517c" class="pw-post-body-paragraph kz la it lb b lc mg le lf lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw im bi translated">所以在<code class="fe lx ly lz ma b">8.x</code>版本中，<code class="fe lx ly lz ma b">npm install</code>得到了9个别名，分别是:</p><pre class="mc md me mf gt ml ma mm mn aw mo bi"><span id="f3ce" class="mp kc it ma b gy mq mr l ms mt">in, ins, inst, insta, instal, isnt, isnta, isntal, isntall</span></pre><figure class="mc md me mf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mv"><img src="../Images/25c2953a107d2cdf2dd145c7d0b45f0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nJv6XcloaRUNP59U6BJ5Uw.png"/></div></div></figure><h1 id="2848" class="kb kc it bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">3.您可以在每个脚本执行前后执行一些附加操作</h1><p id="0163" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">假设我们有一个名为<code class="fe lx ly lz ma b">greet</code>的脚本:</p><figure class="mc md me mf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mw"><img src="../Images/855dec4925741758797a41c30fc8f7e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PF65q45WoWw-69ie8B8rFw.png"/></div></div></figure><p id="8337" class="pw-post-body-paragraph kz la it lb b lc mg le lf lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw im bi translated">现在我们想:</p><ul class=""><li id="34e7" class="mx my it lb b lc mg lg mh lk mz lo na ls nb lw nc nd ne nf bi translated">greet执行前输出一些东西:<code class="fe lx ly lz ma b">do something before greet</code>；</li><li id="4176" class="mx my it lb b lc ng lg nh lk ni lo nj ls nk lw nc nd ne nf bi translated">并在执行greet后输出一些东西:<code class="fe lx ly lz ma b">do something after greet</code>。</li></ul><p id="7cdc" class="pw-post-body-paragraph kz la it lb b lc mg le lf lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw im bi translated">那么我们该怎么办呢？</p><p id="d190" class="pw-post-body-paragraph kz la it lb b lc mg le lf lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw im bi translated">我们可以添加一个<code class="fe lx ly lz ma b">pregreet</code>脚本和一个<code class="fe lx ly lz ma b">postgreet</code>脚本。这是NPM的机制，以<code class="fe lx ly lz ma b">pre</code>和<code class="fe lx ly lz ma b">post</code>开头的脚本被视为特殊脚本。</p><figure class="mc md me mf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nl"><img src="../Images/aeae328efb434f3c0e1f9fa5ed725b90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GyyHt11-1jaVqGTwiwiDiQ.png"/></div></div></figure><figure class="mc md me mf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nm"><img src="../Images/5ccce3ad3537d6729d7b7dbbca0f4fe9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WUDRWFmpctnoiRHfJQumog.png"/></div></div></figure><p id="3a21" class="pw-post-body-paragraph kz la it lb b lc mg le lf lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw im bi translated">当项目自动部署时，通常使用这种机制。</p><h1 id="0f86" class="kb kc it bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">4.用<code class="fe lx ly lz ma b">npm link</code>安装一些终端命令</h1><p id="10f1" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">如果您在项目的<code class="fe lx ly lz ma b">package.json</code>中定义了<code class="fe lx ly lz ma b">bin</code>属性，并将其指向一个可执行脚本文件。</p><p id="c259" class="pw-post-body-paragraph kz la it lb b lc mg le lf lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw im bi translated">例如:</p><p id="b158" class="pw-post-body-paragraph kz la it lb b lc mg le lf lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw im bi translated"><code class="fe lx ly lz ma b">package.json</code>:</p><pre class="mc md me mf gt ml ma mm mn aw mo bi"><span id="8958" class="mp kc it ma b gy mq mr l ms mt">{<br/>  "name": "npm-test",<br/>  "bin": {<br/>    "hello-npm-1": "./build/hello.sh"<br/>  }<br/>}</span></pre><p id="daa6" class="pw-post-body-paragraph kz la it lb b lc mg le lf lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw im bi translated"><code class="fe lx ly lz ma b">hello.sh</code>:</p><pre class="mc md me mf gt ml ma mm mn aw mo bi"><span id="efef" class="mp kc it ma b gy mq mr l ms mt">echo "hello npm"</span></pre><p id="2364" class="pw-post-body-paragraph kz la it lb b lc mg le lf lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw im bi translated">然后我们可以用<code class="fe lx ly lz ma b">npm link</code>将它安装到shell命令中:</p><figure class="mc md me mf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nn"><img src="../Images/7526b03f0403ad9eeaed56f530b6c4d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i90vi4VTZdmt16G2r-XJbw.png"/></div></div></figure><p id="5136" class="pw-post-body-paragraph kz la it lb b lc mg le lf lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw im bi translated">在图表中:</p><figure class="mc md me mf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi no"><img src="../Images/6ea404940eab04790dae185301fa07ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fqfyneWmI8gk0zBlvjcKYQ.png"/></div></div></figure><p id="d145" class="pw-post-body-paragraph kz la it lb b lc mg le lf lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw im bi translated">这就是<code class="fe lx ly lz ma b">create-react-app</code>和<code class="fe lx ly lz ma b">vue-cli</code>在电脑上的安装方式。</p></div></div>    
</body>
</html>