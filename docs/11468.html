<html>
<head>
<title>5 Lesser-Known Linux Terminal Tips and Experiments</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">5个鲜为人知的Linux终端技巧和实验</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/5-lesser-known-linux-terminal-tips-and-experiments-f14ac5739ea8?source=collection_archive---------1-----------------------#2022-03-20">https://levelup.gitconnected.com/5-lesser-known-linux-terminal-tips-and-experiments-f14ac5739ea8?source=collection_archive---------1-----------------------#2022-03-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="40cf" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">开始试验您的终端，并找到新的方法来提高您的编程效率</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9d2a7e74bb7b2094c85ec609207003bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4xwLkQ9wuLYc5yqo9ZxE0Q.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@heylagostechie?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">火星</a>在<a class="ae ky" href="https://unsplash.com/s/photos/programming-keyboard?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片，用Canva编辑</figcaption></figure><p id="6663" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">程序员通常倾向于使用命令行界面而不是图形界面来进行编程相关的活动。尽管大多数图形用户界面都提供了键盘快捷键，但在使用图形用户界面时，我们经常需要多次点击和移动鼠标。另一方面，CLI交互通过让手始终放在键盘上，激励开发人员用命令和脚本语法做几乎任何事情。此外，我们甚至可以通过组合多个命令来提高开发活动的效率。</p><p id="2f29" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为程序员，我们已经使用Unix或Linux命令来完成各种操作，如文件处理、配置操作系统和网络请求处理。此外，我们经常通过命令行使用现代框架和开发工具(例如，<a class="ae ky" href="https://github.com/facebook/create-react-app" rel="noopener ugc nofollow" target="_blank"> Create React App </a>程序)。</p><p id="635c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您不局限于已知的CLI命令，而是更多地了解终端内部，那么您可以学习更多独特的方法来提高终端界面的效率和信心。我将在这个故事中用实际实验来解释几个鲜为人知的终端相关概念。</p><h1 id="08d0" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">将内容发送到另一个终端窗口</h1><p id="9fd0" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">程序员在他们的计算机上使用多个物理屏幕来同时进行几个开发活动。一些程序员在这些屏幕上打开多个终端窗口。同时，一些程序员通常在同一个物理屏幕上使用多个终端窗口。如果我们需要将特定命令的输出发送到另一个现有的终端窗口，该怎么办？</p><p id="c7da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每个GUI终端程序实例都连接到一个称为伪终端文件的设备文件。这些伪终端文件帮助GUI终端发送和捕获来自子进程的I/O数据。打开终端窗口，输入以下命令查看所有可用的伪终端设备:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="1870" class="mx lw it mt b gy my mz l na nb">ls /dev/pts</span></pre><p id="b488" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你只打开了一个终端窗口，你会看到两个设备文件:<code class="fe nc nd ne mt b">ptmx</code>和<code class="fe nc nd ne mt b">0</code>。当前终端使用<code class="fe nc nd ne mt b">/dev/pts/0</code>文件通过进程处理I/O数据——你可以通过<code class="fe nc nd ne mt b">tty</code>找到当前的伪终端。例如，如果当前终端的伪终端是<code class="fe nc nd ne mt b">/dev/pts/0</code>，以下命令将一些文本打印到当前终端本身:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="f4ca" class="mx lw it mt b gy my mz l na nb">echo "Hello" &gt; /dev/pts/0</span></pre><p id="f3f1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用这个实验概念，现在您可以将命令输出直接发送到另一个现有的终端窗口，反之亦然，如下所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/1f86ccd05f8e2140b4d8ed216f147242.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*GpNl5Gycb69ZAQ7Lis6DfQ.gif"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">在两个终端窗口之间发送命令输出，由作者录制屏幕</figcaption></figure><p id="3824" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我在下面的故事中进一步解释了Unix设备文件:</p><div class="ng nh gp gr ni nj"><a rel="noopener  ugc nofollow" target="_blank" href="/unix-internal-concepts-that-every-developer-should-know-374c3fb78b2e"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd iu gy z fp no fr fs np fu fw is bi translated">每个开发人员都应该知道的Unix内部概念</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">从程序员喜欢的操作系统中理解有趣的概念</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="ns l"><div class="nt l nu nv nw ns nx ks nj"/></div></div></a></div></div><div class="ab cl ny nz hx oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="im in io ip iq"><h1 id="02c1" class="lv lw it bd lx ly of ma mb mc og me mf jz oh ka mh kc oi kd mj kf oj kg ml mm bi translated">重装子弹。bashrc有效地定义</h1><p id="893b" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">如果我们通过终端<a class="ae ky" href="https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop" rel="noopener ugc nofollow" target="_blank"> REPL </a>定义别名和环境变量，当我们退出终端时，这些配置会被删除。因此，Bash解释器提供了<code class="fe nc nd ne mt b">.bashrc</code>文件来添加所有启动脚本定义。每当您用Bash打开一个新的终端窗口时，就会执行<code class="fe nc nd ne mt b">.bashrc</code>脚本——因此我们可以在那里添加永久别名、环境变量和全局函数。</p><p id="add3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在开发工具配置期间，我们经常需要更新这个启动脚本。您通常如何用新的启动脚本版本更新您的终端？一些程序员经常输入<code class="fe nc nd ne mt b">bash</code>来打开一个新的Bash解释器实例，但是它会创建一个资源密集型的进程链，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/dbd47455cc286ac99ccaf188ad717ab4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vcb3QqsmYBB_Wn8t4emfZg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">GNOME系统监视器上的一个Bash进程链，作者截图。</figcaption></figure><p id="32c6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有两种方法可以有效地重新加载<code class="fe nc nd ne mt b">.bashrc</code>文件。第一种方法是使用内置的<code class="fe nc nd ne mt b">source</code>命令，如下所示。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="f387" class="mx lw it mt b gy my mz l na nb">source ~/.bashrc</span></pre><p id="f637" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的命令再次执行<code class="fe nc nd ne mt b">.bashrc</code>脚本。第二种方法是用内置的<code class="fe nc nd ne mt b">exec</code>命令替换当前的shell实例。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="94d2" class="mx lw it mt b gy my mz l na nb">exec bash</span></pre><p id="7dea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以上两种方式都比手动输入<code class="fe nc nd ne mt b">bash</code>或打开一个新的终端窗口更好、更有效率。</p></div><div class="ab cl ny nz hx oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="im in io ip iq"><h1 id="c98d" class="lv lw it bd lx ly of ma mb mc og me mf jz oh ka mh kc oi kd mj kf oj kg ml mm bi translated">通过铃声和警报了解任务完成情况</h1><p id="dc3f" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">程序员在终端窗口中运行各种命令。有时，他们输入类似<code class="fe nc nd ne mt b">ls</code>和<code class="fe nc nd ne mt b">pwd</code>的即时命令。但是，有时，他们必须用终端命令启动长时间运行的任务。例如，React app或React Native app创建命令通常会因深度依赖项安装而花费更多时间。</p><p id="693f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一些程序员通常输入这些长时间运行的命令，并一直等到完成。同时，一些程序员从事另一项活动，并经常检查长时间运行的命令的状态。让我们找到一种更高效的方法来管理长时间运行的任务。</p><p id="3b73" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您总是戴着耳机或使用扬声器，播放哔哔声是识别长时间运行的命令完成的好方法。请看下面的命令:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="476a" class="mx lw it mt b gy my mz l na nb">sleep 5; printf "\a"</span></pre><p id="aa1e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上述命令在<code class="fe nc nd ne mt b">sleep</code>命令完成后会发出嘟嘟声。但是，如果有多个长时间运行的命令，并且您的扬声器静音了，该怎么办呢？然后，我们可以使用预定义的<code class="fe nc nd ne mt b">alert</code>别名，如下所示。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="168b" class="mx lw it mt b gy my mz l na nb">sleep 5; alert</span></pre><p id="b0c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的命令显示了使用前面输入的命令片段完成的任务。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/cb92421a38608a5af27f52d129a1e5a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/format:webp/1*iaZViJJhFEb_QOgWq9q1sg.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">警报<code class="fe nc nd ne mt b">alias</code>在Ubuntu上通知命令完成，作者截图</figcaption></figure><p id="fc01" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">大多数GNU/Linux发行版中都有<code class="fe nc nd ne mt b">alert</code>别名，但是如果它不适合您，您可以将下面的代码片段添加到您的<code class="fe nc nd ne mt b">.bashrc</code>文件中来激活它:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="20b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nc nd ne mt b">notify-send</code>命令有助于创建现代Bash脚本，如下文所述:</p><div class="ng nh gp gr ni nj"><a rel="noopener  ugc nofollow" target="_blank" href="/5-modern-bash-scripting-techniques-that-only-a-few-programmers-know-4abb58ddadad"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd iu gy z fp no fr fs np fu fw is bi translated">只有少数程序员知道的5种现代Bash脚本技术</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">使用这些技巧让您的Bash脚本更具交互性和未来感。</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="ns l"><div class="oo l nu nv nw ns nx ks nj"/></div></div></a></div></div><div class="ab cl ny nz hx oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="im in io ip iq"><h1 id="a2e6" class="lv lw it bd lx ly of ma mb mc og me mf jz oh ka mh kc oi kd mj kf oj kg ml mm bi translated">将终端用作计算器</h1><p id="591a" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">除了终端、代码编辑器和web浏览器，程序员不经常使用许多GUI应用程序。然而，在某些场景中，web开发人员倾向于使用Postman这样的GUI工具来测试web APIs，而不是使用<code class="fe nc nd ne mt b">curl</code>这样的命令行工具。</p><p id="6935" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每个GNU/Linux操作系统都提供了一个GUI计算器程序，但是大多数程序员不倾向于用它来进行日常计算。如果我们需要进行单位换算或货币换算，我们可以在谷歌搜索中输入来寻找答案。当我们用算法解决问题时，我们经常要做各种各样的计算。如果你需要计算一个数学表达式——当你处理一个编程任务时，该怎么办？</p><p id="b3c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以用<code class="fe nc nd ne mt b">bc -l</code>命令打开一个命令行计算器(<code class="fe nc nd ne mt b">-l</code>支持浮点计算)。看下面的预告:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/1b90114f7882732aa1b1ce2fc84d640e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*qlWSFQL9H8BAU_raPCcoWA.gif"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">GNOME终端上的命令行计算器程序，作者录制的屏幕</figcaption></figure><p id="859c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尽管程序名是基本计算器(也称为<code class="fe nc nd ne mt b">bc</code>)，但它支持变量定义、复杂表达式和数学函数。如果需要使用现代语言语法执行数学运算，还可以将Python REPL用作简单的计算器。例如，以下Python表达式计算了半径为7个单位的圆的周长:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="a9f1" class="mx lw it mt b gy my mz l na nb">2 * math.pi * 7</span></pre></div><div class="ab cl ny nz hx oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="im in io ip iq"><h1 id="c865" class="lv lw it bd lx ly of ma mb mc og me mf jz oh ka mh kc oi kd mj kf oj kg ml mm bi translated">子外壳、命令组合和大括号扩展</h1><p id="c1e2" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">Bash是一种命令语言，因此它提供了许多特性来高效地编写命令和更好的自动化脚本。Bash提供了一种创建子shells的方法，我们可以用它来初始化独立的脚本执行环境。例如，我们可以更改特定命令的当前工作目录，而不会影响终端上的当前工作目录，如下所示。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="f2db" class="mx lw it mt b gy my mz l na nb">(cd backend; npm i)</span></pre><p id="4908" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Bash还允许您更改流程的环境变量。请看下面的例子:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="6bdf" class="mx lw it mt b gy my mz l na nb">PORT=5000 ./myscript.py</span></pre><p id="9bb2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的命令只为Python脚本执行环境设置了<code class="fe nc nd ne mt b">PORT</code>环境变量，而没有更新原来的shell实例。</p><p id="fb7a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有时，我们可以组合几个命令来更快地完成任务。我们可以使用Bash操作符将几个命令连接成一个命令，比如<code class="fe nc nd ne mt b">&amp;&amp;</code>、<code class="fe nc nd ne mt b">||</code>、<code class="fe nc nd ne mt b">|</code>和<code class="fe nc nd ne mt b">;</code>。命令替换功能还可以帮助我们组合多个命令。例如，通过使用以下命令，我们可以只将当前目录的文本文件作为参数发送给脚本:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="81bc" class="mx lw it mt b gy my mz l na nb">./yourscript.py `find . -name "*.txt"`</span></pre><p id="838b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">大括号扩展功能有助于根据范围定义生成字符串。例如，<code class="fe nc nd ne mt b">{1..5}</code>扩展定义生成一个从<code class="fe nc nd ne mt b">1</code>到<code class="fe nc nd ne mt b">5</code>的空格分隔的整数列表。另外，<code class="fe nc nd ne mt b">/path/{bin,src}</code>返回以下输出:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="f044" class="mx lw it mt b gy my mz l na nb">/path/bin /path/src</span></pre><p id="7fbf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们可以结合使用<code class="fe nc nd ne mt b">mkdir</code>命令和大括号替换来一次创建多个子目录。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="00bb" class="mx lw it mt b gy my mz l na nb">mkdir project/{bin,src,lib}</span></pre></div><div class="ab cl ny nz hx oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="im in io ip iq"><p id="f0cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读</p></div><div class="ab cl ny nz hx oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="im in io ip iq"><h1 id="d320" class="lv lw it bd lx ly of ma mb mc og me mf jz oh ka mh kc oi kd mj kf oj kg ml mm bi translated">分级编码</h1><p id="c981" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">感谢您成为我们社区的一员！<strong class="lb iu">在</strong> <a class="ae ky" href="https://jobs.levelup.dev/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">平台上雇佣不可思议的软件工程师</strong> </a> <strong class="lb iu">。</strong></p><div class="ng nh gp gr ni nj"><a href="https://jobs.levelup.dev" rel="noopener  ugc nofollow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd iu gy z fp no fr fs np fu fw is bi translated">提升就业平台</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">软件工程师、数据科学家、经理、设计师、建设者和程序员的最佳角色</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">作业. levelup.dev</p></div></div><div class="ns l"><div class="oq l nu nv nw ns nx ks nj"/></div></div></a></div></div></div>    
</body>
</html>