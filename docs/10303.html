<html>
<head>
<title>A detailed guide to Django Forms</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Django表单的详细指南</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/a-detailed-guide-to-django-forms-c4aa9b366608?source=collection_archive---------6-----------------------#2021-11-19">https://levelup.gitconnected.com/a-detailed-guide-to-django-forms-c4aa9b366608?source=collection_archive---------6-----------------------#2021-11-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6dd0" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated"><strong class="ak">在Django应用程序中使用Django表单</strong></h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/eb83a70ed8b0d9d4e06923355ffa4dc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NXUMdaNnw9xZvuo5cBux7Q.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@faisaldada?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Faisal </a>在<a class="ae ky" href="https://unsplash.com/s/photos/python-programming?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="e760" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果一个表单满足以下标准，则被认为是功能性的。</p><ul class=""><li id="43ee" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">表单应该在发送到服务器之前验证用户输入的数据</li><li id="5f89" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">当提交无效数据时，表单应该显示错误。</li><li id="b681" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">表单还应该通知用户提交成功。</li></ul><p id="22e7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在任何应用程序中使用表单都是一个乏味的过程。幸运的是，Django表单处理了所有复杂的数据验证过程，当表单成功提交时，向用户显示错误消息和通信。本教程将创建一个成员资格应用程序来添加、更新、读取和删除他们的数据。</p><p id="bf81" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为项目创建一个目录</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="33b1" class="mo mp it mk b gy mq mr l ms mt">mkdir Forms</span></pre><p id="d94c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您希望在虚拟环境中工作，请为此项目创建并激活一个虚拟环境。您必须安装<a class="ae ky" href="https://virtualenv.pypa.io/" rel="noopener ugc nofollow" target="_blank"> virtualenv </a>。</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="8f2f" class="mo mp it mk b gy mq mr l ms mt">python3.8 -m venv env</span><span id="56bc" class="mo mp it mk b gy mu mr l ms mt">source env/bin/activate</span></pre><p id="1c3f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用pip安装Django</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="98db" class="mo mp it mk b gy mq mr l ms mt">pip3 install Django</span></pre><p id="3a36" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建一个名为django_forms的Django项目</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="7dd5" class="mo mp it mk b gy mq mr l ms mt">django-admin startproject django_forms</span></pre><p id="a6f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建一个名为members的Django应用</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="ee21" class="mo mp it mk b gy mq mr l ms mt">cd django_forms<br/>django-admin startapp members</span></pre><p id="b162" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将应用程序添加到<code class="fe mv mw mx mk b">settings.py.</code>中的已安装应用程序列表</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure><h1 id="1ff5" class="na mp it bd nb nc nd ne nf ng nh ni nj jz nk ka nl kc nm kd nn kf no kg np nq bi translated"><strong class="ak">创建模型</strong></h1><p id="f4e9" class="pw-post-body-paragraph kz la it lb b lc nr ju le lf ns jx lh li nt lk ll lm nu lo lp lq nv ls lt lu im bi translated">我们知道会员申请表包含个人信息，因此我们将创建一个包含以下字段的会员模型:</p><ul class=""><li id="b195" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">名字</li><li id="021b" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">姓氏</li><li id="4198" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">电子邮件</li><li id="7c16" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">地址</li><li id="bf46" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">电话</li><li id="badb" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">年龄</li></ul><p id="75fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">会员的app有一个文件<code class="fe mv mw mx mk b">models.py</code>。为<code class="fe mv mw mx mk b">Member</code>模型添加以下代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="68d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">应用迁移</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="700c" class="mo mp it mk b gy mq mr l ms mt">python3.8 manage.py makemigrations</span><span id="e1c4" class="mo mp it mk b gy mu mr l ms mt">python3.8 manage.py migrate</span></pre><h1 id="abb7" class="na mp it bd nb nc nd ne nf ng nh ni nj jz nk ka nl kc nm kd nn kf no kg np nq bi translated">形式</h1><p id="c7a1" class="pw-post-body-paragraph kz la it lb b lc nr ju le lf ns jx lh li nt lk ll lm nu lo lp lq nv ls lt lu im bi translated">一个简单的HTML表单如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="e3ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在浏览器上呈现时，它看起来像这样:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/15cba03604686ad455d7f870713e7f19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*49ckhA1k7Ij0JNd4wuWHHg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">简单的形式</figcaption></figure><h1 id="bf5c" class="na mp it bd nb nc nd ne nf ng nh ni nj jz nk ka nl kc nm kd nn kf no kg np nq bi translated"><strong class="ak">从模型创建表单</strong></h1><p id="a23d" class="pw-post-body-paragraph kz la it lb b lc nr ju le lf ns jx lh li nt lk ll lm nu lo lp lq nv ls lt lu im bi translated">Django表单帮助表单创建更容易，因为它们为我们处理了大部分繁重的工作。为了在我们的应用程序中使用Django表单，我们首先需要在成员目录中创建一个文件<code class="fe mv mw mx mk b">forms.py</code>。</p><p id="637c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，从<code class="fe mv mw mx mk b">django</code>导入<code class="fe mv mw mx mk b">Member</code>模型和<code class="fe mv mw mx mk b">forms</code>，如下图所示。</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="0b18" class="mo mp it mk b gy mq mr l ms mt">from .models import Member</span><span id="4839" class="mo mp it mk b gy mu mr l ms mt">from django import forms</span></pre><p id="ab0b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">导入之后，我们将为我们希望拥有的每个表单创建一个类。由于我们需要有一个页面，允许成员提交他们的详细信息，第一个表单将是一个接受用户输入的表单。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="f78c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">表单接受一个参数<code class="fe mv mw mx mk b">forms.ModelForm</code>，<code class="fe mv mw mx mk b">forms.ModelForm</code>是一个Django helper类。因为我们已经在模型中创建了我们的字段，所以没有必要再次创建字段。内部的<code class="fe mv mw mx mk b">Meta</code>类将告诉应用程序我们将使用的模型和字段。</p><h1 id="d0af" class="na mp it bd nb nc nd ne nf ng nh ni nj jz nk ka nl kc nm kd nn kf no kg np nq bi translated"><strong class="ak">在视图中使用表单</strong></h1><p id="e2fa" class="pw-post-body-paragraph kz la it lb b lc nr ju le lf ns jx lh li nt lk ll lm nu lo lp lq nv ls lt lu im bi translated">既然我们已经完成了<code class="fe mv mw mx mk b">MemberCreate</code>表单，我们需要借助基于类的通用视图在模板上呈现它。Django提供了通用的基于类的视图来处理表单。</p><p id="fed9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些类别分组如下。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/baaec48816d83e64f7694102c01b84bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*htRZZRY7QCvgGmWJE7iXAQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">通用视图</figcaption></figure><p id="d068" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最常用的视图有:</p><ul class=""><li id="0fa4" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">通用显示器—这些是<code class="fe mv mw mx mk b">DetailView</code>和<code class="fe mv mw mx mk b">ListView</code></li><li id="b878" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">通用编辑视图-包括<code class="fe mv mw mx mk b">FormView</code>、<code class="fe mv mw mx mk b">CreateView</code>、<code class="fe mv mw mx mk b">UpdateView</code>、<code class="fe mv mw mx mk b">DeleteView</code></li></ul><p id="fba2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们要创建的第一个类是<code class="fe mv mw mx mk b">MemberCreate</code>视图。打开<code class="fe mv mw mx mk b">views.py</code>并导入<code class="fe mv mw mx mk b">Member</code>型号、<code class="fe mv mw mx mk b">MemberCreateForm</code>和<code class="fe mv mw mx mk b">CreateView</code></p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="bdcc" class="mo mp it mk b gy mq mr l ms mt">from .models import Member</span><span id="f17e" class="mo mp it mk b gy mu mr l ms mt">from .forms import MemberCreateForm</span><span id="0602" class="mo mp it mk b gy mu mr l ms mt">from generic.edit.views import CreateView</span></pre><p id="f53b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mv mw mx mk b">MemberCreate</code>类有三个属性，即:</p><ul class=""><li id="b5b2" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">模型</li><li id="ac27" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">模板名称</li><li id="dac5" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">表单_类</li></ul><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="145b" class="mo mp it mk b gy mq mr l ms mt">class MemberCreate(CreateView):</span><span id="eff6" class="mo mp it mk b gy mu mr l ms mt">    model = Member</span><span id="bc39" class="mo mp it mk b gy mu mr l ms mt">    template_name = "members/member_create_form.html"</span><span id="41ca" class="mo mp it mk b gy mu mr l ms mt">    form_class = MemberCreateForm</span></pre><p id="29f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">继续创建<code class="fe mv mw mx mk b">member_create_form.html </code>模板，它应该在成员应用程序的模板目录中。</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="9e78" class="mo mp it mk b gy mq mr l ms mt">members</span><span id="043d" class="mo mp it mk b gy mu mr l ms mt">  -templates</span><span id="d302" class="mo mp it mk b gy mu mr l ms mt">    - members</span><span id="c513" class="mo mp it mk b gy mu mr l ms mt">       -member_create_form.html</span></pre><p id="1841" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将下面的代码添加到我们上面创建的模板中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="9a52" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">标签<code class="fe mv mw mx mk b">{{ form.as_p }}</code>使用段落呈现表单，而<code class="fe mv mw mx mk b">{% csrf_token %}</code>保护表单免受CSRF攻击。您也可以使用<code class="fe mv mw mx mk b">{{form-as_table}}</code>来呈现表单，它使用一个表格来呈现表单。</p><h1 id="2b96" class="na mp it bd nb nc nd ne nf ng nh ni nj jz nk ka nl kc nm kd nn kf no kg np nq bi translated">资源定位符</h1><p id="a641" class="pw-post-body-paragraph kz la it lb b lc nr ju le lf ns jx lh li nt lk ll lm nu lo lp lq nv ls lt lu im bi translated">我们就要看到浏览器上呈现的表单了。最后一部分是将视图挂在我们的URL路径中。如下更新根<code class="fe mv mw mx mk b">urls.py</code>文件</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="1957" class="mo mp it mk b gy mq mr l ms mt">from django.contrib import admin</span><span id="0aa3" class="mo mp it mk b gy mu mr l ms mt">from django.urls import path,include<br/></span><span id="52ea" class="mo mp it mk b gy mu mr l ms mt">urlpatterns = [</span><span id="1d0b" class="mo mp it mk b gy mu mr l ms mt">path('admin/', admin.site.urls),</span><span id="5d92" class="mo mp it mk b gy mu mr l ms mt">path("", include('members.urls')),</span><span id="d9a3" class="mo mp it mk b gy mu mr l ms mt">]</span></pre><p id="bf4c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建一个文件<code class="fe mv mw mx mk b">members/urls.py</code>，用<code class="fe mv mw mx mk b">MemberCreate</code>视图添加到<code class="fe mv mw mx mk b">member/create</code>的路径，并设置名称为<code class="fe mv mw mx mk b">createmember</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="31c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">表单现在已经完成。如果您导航到<a class="ae ky" href="http://127.0.0.1:8000/member_create" rel="noopener ugc nofollow" target="_blank">http:localhost:0 . 0 . 0 . 0:8000/members，</a>您应该会看到按照我们的意图呈现的表单。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/6f5b6db932b8bd685ee75f6898e22321.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1fDk_6pHsXa5VcpfUl4OLw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">创建成员表单</figcaption></figure><p id="4fc3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建所有其他表单的标准将与上述标准相同，即:</p><ul class=""><li id="3c20" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">在forms.py中创建一个表单类，并添加必要的属性</li><li id="b084" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">在views.py中创建一个类，并添加所需的属性</li><li id="5438" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">为表单创建模板</li><li id="a3e6" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">在URL中挂钩视图</li></ul><p id="6de8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以让我们快速创建其余的表单。</p><h2 id="85c8" class="mo mp it bd nb nx ny dn nf nz oa dp nj li ob oc nl lm od oe nn lq of og np oh bi translated">更新和删除成员表单</h2><p id="3a26" class="pw-post-body-paragraph kz la it lb b lc nr ju le lf ns jx lh li nt lk ll lm nu lo lp lq nv ls lt lu im bi translated">成员也应该有选择编辑或删除他们的信息，让我们来处理。打开<code class="fe mv mw mx mk b">forms.py</code>，添加<code class="fe mv mw mx mk b">MemberUpdate</code>类，并指定哪些字段可以编辑。</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="0112" class="mo mp it mk b gy mq mr l ms mt">class MemberUpdateForm(forms.ModelForm):</span><span id="7833" class="mo mp it mk b gy mu mr l ms mt">    class Meta:</span><span id="18e4" class="mo mp it mk b gy mu mr l ms mt">        model = Member</span><span id="f0c2" class="mo mp it mk b gy mu mr l ms mt">        fields = ("first_name","last_name","phone")</span></pre><h2 id="b744" class="mo mp it bd nb nx ny dn nf nz oa dp nj li ob oc nl lm od oe nn lq of og np oh bi translated">视图</h2><p id="ed13" class="pw-post-body-paragraph kz la it lb b lc nr ju le lf ns jx lh li nt lk ll lm nu lo lp lq nv ls lt lu im bi translated">让我们创建视图进行渲染。打开<code class="fe mv mw mx mk b">views.py</code>，从<code class="fe mv mw mx mk b">django.views.generic.edit</code>导入<code class="fe mv mw mx mk b">UpdateView</code>和<code class="fe mv mw mx mk b">DeleteView</code>级。<br/>创建<code class="fe mv mw mx mk b">MemberUpdate</code>和<code class="fe mv mw mx mk b">MemberDelete</code>类，并声明必要的属性。在<code class="fe mv mw mx mk b">MemberDelete</code>类中，我们不需要显示任何字段。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure><h2 id="92b9" class="mo mp it bd nb nx ny dn nf nz oa dp nj li ob oc nl lm od oe nn lq of og np oh bi translated">创建模板</h2><p id="5bc5" class="pw-post-body-paragraph kz la it lb b lc nr ju le lf ns jx lh li nt lk ll lm nu lo lp lq nv ls lt lu im bi translated">在模板目录下创建<code class="fe mv mw mx mk b">member_update_form.html</code>和<code class="fe mv mw mx mk b">member_delete_form.html</code></p><p id="1a0c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">member _ update _ form . html</strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="ak">member _ update _ form . html</strong></figcaption></figure><p id="9e46" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">member _ delete _ form . html</strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure><h2 id="04ed" class="mo mp it bd nb nx ny dn nf nz oa dp nj li ob oc nl lm od oe nn lq of og np oh bi translated">添加URL</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">members/URL . py</figcaption></figure><p id="0433" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">测试表格:</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/a958913f5cb9f1561246747713466735.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BJFCDOY7HWJn8jdKs_uN2Q.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">更新表单</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/90dc0fa45035ef630e9ef3de2e679f8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VBwn5hlUgqYkKkagsUIJ4g.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">删除形式</figcaption></figure><p id="8bd6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">重定向</strong></p><p id="e006" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的表格工作正常，但一旦提交，用户应该被重定向到另一个页面，让我们创建一个简单的主页，将显示所有成员的详细信息。</p><p id="e04b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">打开views.py并创建一个呈现主页的视图。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">views.py</figcaption></figure><h2 id="7f7a" class="mo mp it bd nb nx ny dn nf nz oa dp nj li ob oc nl lm od oe nn lq of og np oh bi translated">home.html模板</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="58a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更新urls.py。</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="ebb4" class="mo mp it mk b gy mq mr l ms mt">path('', views.home, name="home"),</span></pre><p id="183f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更新视图以包含一个<code class="fe mv mw mx mk b">success_url</code></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="2581" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您还可以在模型中使用<code class="fe mv mw mx mk b">get_absolute_url</code>方法来提供重定向链接。get_absolute_url是一个Django约定，确保用户不会再次提交数据。</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="5be2" class="mo mp it mk b gy mq mr l ms mt">#models.py</span><span id="2990" class="mo mp it mk b gy mu mr l ms mt">def absolute_url(self):</span><span id="f594" class="mo mp it mk b gy mu mr l ms mt">    return “member/list”</span></pre><p id="0478" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您在<code class="fe mv mw mx mk b">Member</code>模型上使用<code class="fe mv mw mx mk b"><a class="ae ky" href="https://docs.djangoproject.com/en/3.2/ref/models/instances/#django.db.models.Model.get_absolute_url" rel="noopener ugc nofollow" target="_blank">get_absolute_url()</a></code>，您不需要为<code class="fe mv mw mx mk b">MemberUpdate</code>或<code class="fe mv mw mx mk b">MemberDelete</code>提供success_url</p><p id="085f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">结论</strong></p><p id="587d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当创建具有通用视图的表单时，数据被直接提交给模型。这确保了您不必担心验证和不正确的数据，因为所有的繁重工作已经为您完成了。</p><p id="1c51" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">恭喜你，在Django中创建表单所需要的一切。你可以在这里阅读更多关于如何在Django中添加认证的内容。</p></div></div>    
</body>
</html>