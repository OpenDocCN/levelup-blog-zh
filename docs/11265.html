<html>
<head>
<title>How to Get Twitter Data Using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Python获取Twitter数据</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-get-twitter-data-using-python-39df0ea6bb39?source=collection_archive---------11-----------------------#2022-03-02">https://levelup.gitconnected.com/how-to-get-twitter-data-using-python-39df0ea6bb39?source=collection_archive---------11-----------------------#2022-03-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d68c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">tweepy库的简单介绍，提供了如何获取用于NLP/数据科学分析的Twitter数据的例子</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9685e1f595527d35ded47c9fda957c8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MA8GEhx8tyGjh3Ed"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@brett_jordan?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">布雷特·乔丹</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><div class="kz la gp gr lb lc"><a href="https://jorgepit-14189.medium.com/membership" rel="noopener follow" target="_blank"><div class="ld ab fo"><div class="le ab lf cl cj lg"><h2 class="bd iu gy z fp lh fr fs li fu fw is bi translated">用我的推荐链接加入媒体-乔治皮皮斯</h2><div class="lj l"><h3 class="bd b gy z fp lh fr fs li fu fw dk translated">阅读乔治·皮皮斯(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接支持…</h3></div><div class="lk l"><p class="bd b dl z fp lh fr fs li fu fw dk translated">jorgepit-14189.medium.com</p></div></div><div class="ll l"><div class="lm l ln lo lp ll lq ks lc"/></div></div></a></div><p id="d906" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">本教程是对<a class="ae ky" href="https://docs.tweepy.org/en/stable/" rel="noopener ugc nofollow" target="_blank"> tweepy </a>库的简单介绍。我们将向您展示如何使用Python获取Tweets，您可以在以后使用它来完成许多其他任务，比如情绪分析、交易等等。</p><h1 id="77ec" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">安装tweepy库</h1><p id="ef86" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">有许多Python库充当Twitter API的Python层，但是对于本教程，我们将使用<code class="fe nk nl nm nn b">tweepy</code>库。我们可以按如下方式安装它:</p><p id="c98a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><code class="fe nk nl nm nn b">pip install tweepy</code></p><p id="9584" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">或者</p><p id="01b6" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><code class="fe nk nl nm nn b">conda install <strong class="lt iu">-</strong>c conda<strong class="lt iu">-</strong>forge tweepy</code></p><h1 id="6d95" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">访问Twitter的开发者平台</h1><p id="8677" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">你需要有一个Twitter账户，并注册<a class="ae ky" href="https://developer.twitter.com/en" rel="noopener ugc nofollow" target="_blank">开发者门户</a>。然后你需要填写一些表格，解释你的应用程序的目的以及你打算如何使用Twitter API。提交申请后，您将在10天内收到答复。请注意，如果他们拒绝你的申请，他们不会向你解释原因，你不能重新提交新的申请！我们希望他们会批准你的申请</p><h1 id="121e" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">获取访问和客户密钥</h1><p id="d1ca" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">登录开发人员门户后，您可以创建新应用程序或独立应用程序。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/4f5776bfc67ff77bbe1d4495f7efdaa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:514/format:webp/0*-gjEQbOPt-D7F4Yk.png"/></div></figure><p id="f060" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">您可以点击项目和应用程序，并创建一个新的应用程序或独立的应用程序。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/8bd56a35b7150ad14f9d53e43e1df946.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/format:webp/0*KnAbg5_QOx0EFos5.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/18f9623b54ade3178d6e34a612ebbbba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PWVNiYr3wt3EsE2c.png"/></div></div></figure><p id="40fe" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">一旦你创建了你的应用程序，你可以点击“关键”按钮来获得你的凭证。您将发现消费者和API访问令牌和秘密。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/0d0596575b2680f643a1ee10b2472390.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*CQDfl3d-XL-UITzn.png"/></div></div></figure><p id="3fad" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">一旦生成了密钥，您就必须存储它们，因为您将无法再次检索它们。当然，你可以重新生成新的。</p><h1 id="1995" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">tweepy入门</h1><p id="0b66" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">现在我们准备开始与tweepy一起工作。我鼓励你在配置文件中存储凭证，就像我们在之前的文章中解释的那样。</p><pre class="kj kk kl km gt ns nn nt nu aw nv bi"><span id="7a82" class="nw mo it nn b gy nx ny l nz oa">import tweepy</span><span id="d55c" class="nw mo it nn b gy ob ny l nz oa"># your credentials<br/>consumer_key = 'xxx'<br/>consumer_secret = 'xxx'<br/>access_token = 'xxx'<br/>access_token_secret = 'xxx'</span><span id="09a8" class="nw mo it nn b gy ob ny l nz oa"># create the API object</span><span id="2e95" class="nw mo it nn b gy ob ny l nz oa">auth = tweepy.OAuth1UserHandler(<br/>   consumer_key, consumer_secret, access_token, access_token_secret<br/>)</span><span id="2b4a" class="nw mo it nn b gy ob ny l nz oa"># Setting wait_on_rate_limit to True when initializing API will initialize an<br/># instance, called api here, that will automatically wait, using time.sleep,<br/># for the appropriate amount of time when a rate limit is encountered</span><span id="cc53" class="nw mo it nn b gy ob ny l nz oa">api = tweepy.API(auth, wait_on_rate_limit=True)</span></pre><h2 id="47c2" class="nw mo it bd mp oc od dn mt oe of dp mx ma og oh mz me oi oj nb mi ok ol nd om bi translated">基于关键字获取Twitter数据</h2><p id="b781" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">假设我们想要获得所有包含标签<strong class="lt iu"> #BTC </strong>的推文</p><pre class="kj kk kl km gt ns nn nt nu aw nv bi"><span id="51c2" class="nw mo it nn b gy nx ny l nz oa"># This will search for Tweets with the query "Twitter", returning up to the<br/># maximum of 100 Tweets per request to the Twitter API</span><span id="ea28" class="nw mo it nn b gy ob ny l nz oa"># Once the rate limit is reached, it will automatically wait / sleep before<br/># continuing</span><span id="8de3" class="nw mo it nn b gy ob ny l nz oa">for tweet in tweepy.Cursor(api.search_tweets, q="#BTC", count=100, tweet_mode='extended', until = '2022-03-01').items():<br/>    text = tweet._json["full_text"]<br/>    print(text)<br/>    print('\n\n')</span></pre><p id="b4a4" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们得到了:</p><pre class="kj kk kl km gt ns nn nt nu aw nv bi"><span id="b1f9" class="nw mo it nn b gy nx ny l nz oa">RT @Shido_samuraii: در حال حاضر بهترین انجمن مارکتینگ در  فضای رمزنگاری هستیم. <br/>♦️#RBXSamurai♦️ <br/>⚔️⚔️⚔️⚔️⚔️⚔️ <br/>🌐https://t.co/spTgOEOmdo <br/> <br/>#RBXS… <br/> <br/> <br/> <br/>RT @crypt_engineer: #Ukriane, ülkeye kripto para bağışında bulunan adreslere #Airdrop ile #token verileceğini duyurdu. <br/>#BTC #ETH #Binance #… <br/> <br/> <br/> <br/>RT @erdemmbozoglu: #HarmonyOne <br/>⚠️0.14 centte söyledim. <br/>⚠️0.125 centte tekrar söyledim. <br/>⚠️Projenin geleceğini, detayını youtube videosu çekt… <br/> <br/> <br/> <br/>RT @foxbit: ☀️Bom dia! <br/> <br/>#BTC R$ 225.534,35 (+0,42%)📈 <br/>$ETH R$ 15.386,44 (+0,03%)📈 <br/>$USDT R$ 5,11 (+0,17%)📈 <br/>$SOL R$ 552,26 (+14,02%)📈 <br/>$ADA R$… <br/> <br/> <br/> <br/>Are you ready to buy #btc and $alts or waiting for more pull back ? <br/>Which coins will you buy? <br/>🚨🚨🚨are you waiting for me to tell you when to buy lol ? <br/>I am trying to help you buy at the bottom to reduce your risk. <br/>It’s all about being patient. https://t.co/8S0GuM299R <br/> <br/> <br/> <br/>RT @Phemex_official: Spread the love 💖 with Phemex!  <br/>Celebrate this lovely Valentine's Day - collect 1 BTC in trial funds and keep your ear… <br/> <br/> <br/> <br/>https://t.co/O7l7EcV8UR #Orijin #Polygon #IDO #BSC #Eth #BTC #Airdrop #DeFi #Launchpad https://t.co/6v9tmXRSph <br/> <br/> <br/> <br/>RT @goatcoiners: $GOAT Town Reveal 🚨 <br/> <br/>We are building what will become the #Metaverse for legends. You can join the journey now that it’s s… <br/> <br/> <br/> <br/>Instead of a @TodayatEmbr tomorrow, there will be an #Embr Twitter spaces hosted. 17 march will be the next #TaE! <br/> <br/>Tune in at 4 PM ET/9 PM UTC @joinembr to chat about #embr and other #crypto or #DeFi news or topics. <br/> <br/>See you tomorrow 🔥 <br/> <br/>#BNB #btc #cedefi #doxxed #amazingplans <br/> <br/> <br/> <br/>2022-03-02 @Trailblazers at @Suns <br/>picks: FG #RipCity +10.5  <br/>     <br/>#NBA #soccer #machinelearning #btc https://t.co/JeLBJ96teJ</span></pre><p id="1d4a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">请注意，我们从光标处获得的“tweets”是“Status”对象。</p><pre class="kj kk kl km gt ns nn nt nu aw nv bi"><span id="7a43" class="nw mo it nn b gy nx ny l nz oa">type(tweet)<br/>tweepy.models.Status</span></pre><p id="3fed" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">它包含了大量的信息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/8c6f692272ab1c8a6bf31234c9db4ffd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*s3vpUvpDPVS4g6F6.png"/></div></div></figure><p id="e5cb" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们可以提取其他信息，如转发次数、创建日期等。</p><pre class="kj kk kl km gt ns nn nt nu aw nv bi"><span id="17b3" class="nw mo it nn b gy nx ny l nz oa">tweet._json["created_at"]<br/>tweet._json['retweet_count']<br/>tweet._json['favorite_count']</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/e507ece31b9f31ee7bdf39b824e3c352.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/0*Icvq1TFWSjdD67SG.png"/></div></figure><h2 id="66d8" class="nw mo it bd mp oc od dn mt oe of dp mx ma og oh mz me oi oj nb mi ok ol nd om bi translated">从用户时间线获取推文</h2><p id="c3b4" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">我们可以获得特定用户时间线的推文。让我们来看看<a class="ae ky" href="https://twitter.com/predictivehacks" rel="noopener ugc nofollow" target="_blank">预测黑客Twitter </a>账户的推文。我们将得到最新的10个。</p><pre class="kj kk kl km gt ns nn nt nu aw nv bi"><span id="40b8" class="nw mo it nn b gy nx ny l nz oa">statuses = api.user_timeline(screen_name='predictivehacks', count=10, tweet_mode="extended")<br/>for status in statuses:<br/>    print(status._json['full_text'])</span></pre><p id="d5aa" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们得到了:</p><pre class="kj kk kl km gt ns nn nt nu aw nv bi"><span id="234f" class="nw mo it nn b gy nx ny l nz oa">Docker Tutorials from FREE 👇 - https://t.co/kIkJoa7vsc <br/> <br/> <br/>How to work with VS Code and Virtual Environments in Python  <br/>#vscode #pythonprogramming #Python  <br/>https://t.co/dTElIkzmBO <br/> <br/> <br/>How to Save and Load Scikit ML Models in Python <br/> <br/>#Python #MachineLearning #sklean #DataScience #tutorial   <br/>https://t.co/6qiCr6r4C7 <br/> <br/> <br/>Read my latest: “FinTech Tutorials from Predictive[Hacks]” https://t.co/BonjBfl0xc <br/> <br/> <br/>AWS Tutorials from FREE 👇 - https://t.co/HQRPxi28sl <br/> <br/> <br/>Read my latest: “Weekly newsletter of Predictive[Hacks] https://t.co/SFliNddi9c <br/> <br/> <br/>Google, rivals unite on smart tech https://t.co/Zxgu8W23Bn <br/> <br/> <br/>Weekly newsletter of Predictive[Hacks] - Issue #1 by @predictivehacks https://t.co/5gSZMQapyj via @revue <br/> <br/> <br/>I just published in @gitconnected Web Article NLP Analysis in Python https://t.co/Jvxgpe9QQ9  <br/> <br/>#NLP #pythonlearning #DataScience <br/> <br/> <br/>I just published in @startitup_ A Tutorial About Market Basket Analysis in Python https://t.co/eoQKGDkoYl  <br/> <br/>#Python #pythonlearning #dataScientist #DataScience</span></pre><p id="ffa0" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">下面，你可以找到user_timeline的参数。请注意，它返回</p><p id="c860" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">因素</p><ul class=""><li id="6cf9" class="op oq it lt b lu lv lx ly ma or me os mi ot mm ou ov ow ox bi translated"><strong class="lt iu">用户id </strong> —指定用户的id。当有效的用户id也是有效的屏幕名称时，有助于消除歧义。</li><li id="c8da" class="op oq it lt b lu oy lx oz ma pa me pb mi pc mm ou ov ow ox bi translated"><strong class="lt iu">屏幕名称</strong> —指定用户的屏幕名称。当有效的屏幕名称也是用户id时，有助于消除歧义。</li><li id="15c8" class="op oq it lt b lu oy lx oz ma pa me pb mi pc mm ou ov ow ox bi translated"><strong class="lt iu"> since_id </strong> —仅返回id大于(即比)指定ID的状态。</li><li id="3192" class="op oq it lt b lu oy lx oz ma pa me pb mi pc mm ou ov ow ox bi translated"><strong class="lt iu"> count </strong> —每页尝试检索的结果数。</li><li id="377b" class="op oq it lt b lu oy lx oz ma pa me pb mi pc mm ou ov ow ox bi translated"><strong class="lt iu"> max_id </strong> —仅返回id小于(即早于)或等于指定ID的状态。</li><li id="b715" class="op oq it lt b lu oy lx oz ma pa me pb mi pc mm ou ov ow ox bi translated"><strong class="lt iu"> trim_user </strong> —一个布尔值，指示是否应该提供用户id，而不是完整的用户对象。默认为False。</li><li id="6b0d" class="op oq it lt b lu oy lx oz ma pa me pb mi pc mm ou ov ow ox bi translated"><strong class="lt iu"> exclude_replies </strong> —该参数将阻止回复出现在返回的时间线中。将<code class="fe nk nl nm nn b">exclude_replies</code>与<code class="fe nk nl nm nn b">count</code>参数一起使用将意味着您将收到最多条推文——这是因为<code class="fe nk nl nm nn b">count</code>参数在过滤掉转发和回复之前检索了那么多推文。</li><li id="52fe" class="op oq it lt b lu oy lx oz ma pa me pb mi pc mm ou ov ow ox bi translated"><strong class="lt iu"> include_rts </strong> —当设置为<code class="fe nk nl nm nn b">false</code>时，时间线将去除任何本机转发(尽管它们仍将计入时间线的最大长度和count参数选择的切片)。注意:如果您将trim_user参数与include_rts一起使用，那么retweets将仍然包含一个完整的用户对象。</li></ul><p id="6a80" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们还可以使用<code class="fe nk nl nm nn b">cursor</code>获取用户的推文，如下所示:</p><pre class="kj kk kl km gt ns nn nt nu aw nv bi"><span id="7a7f" class="nw mo it nn b gy nx ny l nz oa">for tweet in tweepy.Cursor(api.user_timeline, screen_name='predictivehacks', tweet_mode="extended").items():<br/>    text = tweet._json["full_text"]<br/>    print(text)<br/>    print('\n\n')</span></pre><p id="3afc" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们得到了:</p><pre class="kj kk kl km gt ns nn nt nu aw nv bi"><span id="0f2a" class="nw mo it nn b gy nx ny l nz oa">Docker Tutorials from FREE 👇 - https://t.co/kIkJoa7vsc <br/> <br/> <br/> <br/>How to work with VS Code and Virtual Environments in Python  <br/>#vscode #pythonprogramming #Python  <br/>https://t.co/dTElIkzmBO <br/> <br/> <br/> <br/>How to Save and Load Scikit ML Models in Python <br/> <br/>#Python #MachineLearning #sklean #DataScience #tutorial   <br/>https://t.co/6qiCr6r4C7 <br/> <br/> <br/> <br/>Read my latest: “FinTech Tutorials from Predictive[Hacks]” https://t.co/BonjBfl0xc <br/> <br/> <br/> <br/>AWS Tutorials from FREE 👇 - https://t.co/HQRPxi28sl <br/> <br/> <br/> <br/>Read my latest: “Weekly newsletter of Predictive[Hacks] https://t.co/SFliNddi9c <br/> <br/> <br/> <br/>Google, rivals unite on smart tech https://t.co/Zxgu8W23Bn <br/> <br/> <br/> <br/>Weekly newsletter of Predictive[Hacks] - Issue #1 by @predictivehacks https://t.co/5gSZMQapyj via @revue <br/> <br/> <br/> <br/>I just published in @gitconnected Web Article NLP Analysis in Python https://t.co/Jvxgpe9QQ9  <br/> <br/>#NLP #pythonlearning #DataScience <br/> <br/> <br/> <br/>I just published in @startitup_ A Tutorial About Market Basket Analysis in Python https://t.co/eoQKGDkoYl  <br/> <br/>#Python #pythonlearning #dataScientist #DataScience <br/> <br/> <br/> <br/>Rename and Relevel Factors in R <br/>#RStats #rstudio #DataScience   <br/>https://t.co/mGS09l2Suu <br/> <br/> <br/> <br/>How To Backtest your Crypto Trading Strategies in R  <br/>https://t.co/QKzKhVVZ8K  <br/> <br/>#cryptocurrency #trading #backtesting #RStats #rstudio #fintechs #DataScience <br/> <br/> <br/> <br/>Moving Average in PostgreSQL <br/> <br/>#SQL #Postgres #Tips #DataScience #dataengineering  <br/> https://t.co/UnN54orQ63 https://t.co/w1dxqgwg0K</span></pre><h2 id="aafe" class="nw mo it bd mp oc od dn mt oe of dp mx ma og oh mz me oi oj nb mi ok ol nd om bi translated">了解趋势</h2><p id="3026" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">我们还可以通过位置来了解趋势。首先，我们需要找到我们想要了解趋势的国家的WOEID。假设我们想了解希腊的趋势。<code class="fe nk nl nm nn b">api.available_trends()</code>返回字典列表，例如:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/c9d9732c56234222c01ae294efcb451e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YatYT1pzYoXgGUuf.png"/></div></div></figure><p id="66f0" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">这意味着，为了检索希腊的WOEID，我们需要从输出中提取它。例如:</p><pre class="kj kk kl km gt ns nn nt nu aw nv bi"><span id="ee03" class="nw mo it nn b gy nx ny l nz oa">output = api.available_trends()<br/>for el in output:<br/>    if el['country'] == 'Greece':<br/>        print(el)</span></pre><p id="f3df" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们得到了:</p><pre class="kj kk kl km gt ns nn nt nu aw nv bi"><span id="4cbc" class="nw mo it nn b gy nx ny l nz oa">{'name': 'Athens', 'placeType': {'code': 7, 'name': 'Town'}, 'url': 'http://where.yahooapis.com/v1/place/946738', 'parentid': 23424833, 'country': 'Greece', 'woeid': 946738, 'countryCode': 'GR'} <br/>{'name': 'Thessaloniki', 'placeType': {'code': 7, 'name': 'Town'}, 'url': 'http://where.yahooapis.com/v1/place/963291', 'parentid': 23424833, 'country': 'Greece', 'woeid': 963291, 'countryCode': 'GR'} <br/>{'name': 'Greece', 'placeType': {'code': 12, 'name': 'Country'}, 'url': 'http://where.yahooapis.com/v1/place/23424833', 'parentid': 1, 'country': 'Greece', 'woeid': 23424833, 'countryCode': 'GR'}</span></pre><p id="d548" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们可以看到这个世界就是<code class="fe nk nl nm nn b">23424833</code>。请注意，我们还可以获得特定城市的WOEID。因此，我们可以通过运行以下命令来获得趋势:</p><pre class="kj kk kl km gt ns nn nt nu aw nv bi"><span id="8ba1" class="nw mo it nn b gy nx ny l nz oa">greece_trends = api.get_place_trends(23424833)</span><span id="11b4" class="nw mo it nn b gy ob ny l nz oa">for trend in greece_trends[0]['trends']:<br/>    print(trend['name'])</span></pre><p id="8557" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们得到了:</p><pre class="kj kk kl km gt ns nn nt nu aw nv bi"><span id="508d" class="nw mo it nn b gy nx ny l nz oa">#staralithies <br/>#γυναικοκτονια <br/>#shoppingstar <br/>#Πολεμος_στην_Ουκρανια <br/>#AEKPAOK <br/>Συλλυπητηρια <br/>Ζηνα <br/>πολυχρονος <br/>μαμαλακης <br/>hobi <br/>Μερα 18 <br/>καλοταξιδο <br/>Κουστουριτσα <br/>μαθιο <br/>καλημερα μασια <br/>ο κοντιζας <br/>ευαγγελατο <br/>στελλας</span></pre><h1 id="ba51" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">最后的想法</h1><p id="421c" class="pw-post-body-paragraph lr ls it lt b lu nf ju lw lx ng jx lz ma nh mc md me ni mg mh mi nj mk ml mm im bi translated">tweepy库非常强大，但是文档不是很好，并且缺少实际操作的例子。数据科学家可以通过在金融、政治、卫生、营销等许多领域的应用程序中运行多种类型的分析来利用Twitter API。</p></div><div class="ab cl pd pe hx pf" role="separator"><span class="pg bw bk ph pi pj"/><span class="pg bw bk ph pi pj"/><span class="pg bw bk ph pi"/></div><div class="im in io ip iq"><p id="07d6" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">最初由<a class="ae ky" href="https://predictivehacks.com/how-to-get-twitter-data-using-python/" rel="noopener ugc nofollow" target="_blank">预测黑客</a>发布</p></div></div>    
</body>
</html>