<html>
<head>
<title>Clicking a link — What happens next?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">单击链接—接下来会发生什么？</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/clicking-a-link-what-happens-next-d3360553735a?source=collection_archive---------5-----------------------#2021-10-03">https://levelup.gitconnected.com/clicking-a-link-what-happens-next-d3360553735a?source=collection_archive---------5-----------------------#2021-10-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="9f11" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你有没有质疑过在网站上点击一个<strong class="jp ir"> &lt;一个&gt; </strong>标签会发生什么？你的浏览器怎么知道要获取什么？去哪里？我希望在这篇文章的最后解释一下核心的基本面。</p><p id="df7c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">TL；博士</strong></p><ul class=""><li id="bd85" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk kq kr ks kt bi translated">我们点击网址</li><li id="b46a" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">浏览器通过DNS将该URL解析为IP地址。</li><li id="956a" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">在客户端和服务器之间发起TCP连接</li><li id="8709" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">连接是正式的，可以发送请求和响应。</li></ul></div><div class="ab cl kz la hu lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ij ik il im in"><p id="8b27" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，让我们设置一个简单的场景。我们有一个网页，网页上有一个链接到另一个网页。当我们点击那个链接时会发生什么？</p><p id="ab91" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，让我们记住这个链接是由一个统一的资源定位器<strong class="jp ir"> (URL) </strong>组成的。URL只是资源的一个标识符，我们使用它们是因为它们比目的地址<strong class="jp ir"> (IP地址)</strong>更容易阅读。大多数时候，我们会看到一个URL以一种协议为前缀，最常见的是超文本传输协议<strong class="jp ir"> (HTTP) </strong>，但你也可以看到URL以其他协议为前缀，如MailTo或文件传输协议<strong class="jp ir"> (FTP) </strong>等等。</p><h1 id="cef0" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">获取IP地址</h1><p id="f588" class="pw-post-body-paragraph jn jo iq jp b jq me js jt ju mf jw jx jy mg ka kb kc mh ke kf kg mi ki kj kk ij bi translated">我们已经点击了URL，现在做什么呢？现在，浏览器需要将URL解析为IP地址。为此，计算机将使用域名服务器<strong class="jp ir"> (DNS) </strong>。域名就像一本电话簿，或者对年轻一代来说，它就像你的联系人应用程序。这将把URL解析成IP地址。</p><p id="9f56" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但这只是一个概述，为了解析URL，它将首先检查<strong class="jp ir">本地浏览器缓存</strong>以查看它是否最近被解析，然后它将检查<strong class="jp ir">操作系统缓存</strong>，接着是您的<strong class="jp ir">路由器缓存。</strong>如果所有这些都失败了，那么浏览器将请求<strong class="jp ir">解析服务器(</strong>，通常是你的ISP)，检查他们的<strong class="jp ir"> ISP缓存</strong>，之后是<strong class="jp ir">根域名服务器。</strong>根服务器将知道您可以从哪里获取数据，并将您的请求定向到该位置，这将是一个<strong class="jp ir">顶级域名服务器(TLD) </strong>，最后该请求将被定向到一个<strong class="jp ir">权威域名服务器</strong>，该服务器将了解有关域名的所有信息。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mj"><img src="../Images/31040b597f1b92b400021df24e2ca56a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U2umvrPhAUe29WXd4S2QHA.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk translated">DNS查找发生的顺序。</figcaption></figure><p id="bd06" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们做到了。<a class="ae mz" href="https://matty.dev" rel="noopener ugc nofollow" target="_blank"> https://matty.dev </a>已解析为127.0.0.1。太好了，现在我们已经有了可以与该地址通信的IP地址，这就是所谓的传输控制协议<strong class="jp ir"> (TCP) </strong>的用武之地。</p><h1 id="719e" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">初始化连接</h1><p id="efe0" class="pw-post-body-paragraph jn jo iq jp b jq me js jt ju mf jw jx jy mg ka kb kc mh ke kf kg mi ki kj kk ij bi translated">TCP是一种确保发送方和接收方之间可靠传输数据包的协议，为此，接收方必须确认收到的每个数据包<strong class="jp ir"> (ACK) </strong>，如果丢失了一个数据包，发送方将重新发送。TCP协议从<strong class="jp ir"> TCP三次握手</strong>开始，它在发送方和接收方之间建立连接。为此，发送方将发送一个<strong class="jp ir"> SYN </strong>，接收方将发送一个<strong class="jp ir"> ACK </strong>，然后是<strong class="jp ir"> SYN，</strong>最后发送方将回复一个<strong class="jp ir"> ACK。</strong></p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi na"><img src="../Images/9a484de58492e6b6e1a0229068fc02aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z-bv8-pcK7nwCJ-2ne2b9g.png"/></div></div></figure><p id="1f67" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在已经建立了连接，可以向服务器发送HTTP请求，服务器可以用数据进行响应。</p><p id="ee6f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从根本上说，就是这样。我们从DNS查找中获得IP地址，然后初始化与接收方的TCP连接，这使计算机能够开始发送和接收TCP包中的数据。对于任何感兴趣的人，我也建议看看TCP如何处理数据包传输和数据包丢失，并通过比较<strong class="jp ir">用户数据报协议</strong> (UDP)和TCP进行一些进一步的阅读。</p></div></div>    
</body>
</html>