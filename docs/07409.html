<html>
<head>
<title>5 Ways To Manage Your Storage Account On Microsoft Azure Cloud</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Microsoft Azure Cloud上管理存储帐户的5种方法</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/5-ways-to-manage-your-storage-account-on-microsoft-azure-cloud-d5d957e5798a?source=collection_archive---------20-----------------------#2021-02-15">https://levelup.gitconnected.com/5-ways-to-manage-your-storage-account-on-microsoft-azure-cloud-d5d957e5798a?source=collection_archive---------20-----------------------#2021-02-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/f5247b52d0ceafcef75027c8c9e7a490.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jCvS962a10yKXU0n7mR3Qw.jpeg"/></div></div></figure><p id="17ed" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi kz translated"><span class="l la lb lc bm ld le lf lg lh di"> M </span>微软Azure云平台为开发者提供了多种方式来管理Azure上的存储账户。您可以使用名为<strong class="kd iu"> Storage Explorer </strong>的用户友好GUI工具来管理您的存储帐户，您可以通过<strong class="kd iu"> Azure CLI </strong>或<strong class="kd iu"> PowerShell </strong>编写脚本来管理它，您可以编写代码来操作它，您可以使用名为<strong class="kd iu"> AzCopy </strong>的命令行实用程序来将blobs或文件复制到存储帐户或从存储帐户复制。我将展示这些不同的方法来管理你的Azure存储帐户。</p><h1 id="4864" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">使用Azure存储资源管理器工具排名第一</h1><p id="f7e6" class="pw-post-body-paragraph kb kc it kd b ke mg kg kh ki mh kk kl km mi ko kp kq mj ks kt ku mk kw kx ky im bi translated">第一种也是我认为最简单和最直观的方法是使用<strong class="kd iu"> Azure Storage Explorer </strong>工具。您可以在您的存储帐户面板上直接访问该工具。</p><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ml"><img src="../Images/85d93b5d79ecee8b98806dbace587cee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*II5Vfiiwj_Y0WC-2erCATA.png"/></div></div></figure><p id="b0b7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后，您可以轻松地创建一个新容器。</p><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mq"><img src="../Images/cbfd2fb877569cbd11d63680965ebd48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KC4a8H9ps7Y9QnlltBb8PA.png"/></div></div></figure><p id="1968" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">并将文件轻松上传到容器。</p><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mr"><img src="../Images/298a7091df4e1e3b2798bda46ac8593f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Glac9u1OdpOdQyHgl-kFJg.png"/></div></div></figure><p id="29cb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">除了与Azure portal集成的工具，您还可以从Azure网站下载独立的Azure Storage Explorer应用程序。</p><div class="ms mt gp gr mu mv"><a href="https://azure.microsoft.com/en-us/features/storage-explorer/" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd iu gy z fp na fr fs nb fu fw is bi translated">Azure Storage Explorer -云存储管理| Microsoft Azure</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">优化您的Azure存储管理上传、下载和管理Azure blobs、文件、队列和表格，以及…</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">azure.microsoft.com</p></div></div><div class="ne l"><div class="nf l ng nh ni ne nj jz mv"/></div></div></a></div><p id="1a6a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">正如你在下面的截图中看到的，独立的Azure Storage Explorer应用程序支持不同的操作系统，如Windows、macOS和Linux。</p><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nk"><img src="../Images/7f0b5b7afc2db134c46cbd7e2232a134.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0VTmsDuv92B-bBWf_jLijA.png"/></div></div></figure><p id="ee92" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我用的是macOS，所以下载了macOS版本，打开工具在Azure cloud上操作我的存储账号。</p><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nl"><img src="../Images/018d32fba667d94cf47f3e8359eabe7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-nXWMhSLDDEz8BWFIQt1_A.png"/></div></div></figure><h1 id="c3e5" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated"># 2使用Azure CLI</h1><p id="ab76" class="pw-post-body-paragraph kb kc it kd b ke mg kg kh ki mh kk kl km mi ko kp kq mj ks kt ku mk kw kx ky im bi translated">第二种方式是使用Azure CLI工具。Azure CLI工具可安装在Windows、macOS和Linux环境中。因为我用的是macOS，所以我用自制软件安装了这个工具。</p><pre class="mm mn mo mp gt nm nn no np aw nq bi"><span id="da2d" class="nr lj it nn b gy ns nt l nu nv">brew update &amp;&amp; brew install azure-cli</span></pre><p id="2b83" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果你想知道更多关于如何安装这个工具，你可以看看这个。</p><div class="ms mt gp gr mu mv"><a href="https://docs.microsoft.com/en-us/cli/azure/install-azure-cli?WT.mc_id=DT-MVP-5001664" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd iu gy z fp na fr fs nb fu fw is bi translated">安装Azure CLI</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">Azure CLI可安装在Windows、macOS和Linux环境中。它也可以在Docker中运行…</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">docs.microsoft.com</p></div></div><div class="ne l"><div class="nw l ng nh ni ne nj jz mv"/></div></div></a></div><p id="3e3f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">安装Azure CIL工具后，你可以在你的终端中运行<code class="fe nx ny nz nn b">az storage</code>命令，你可以获得这个命令的更多细节。</p><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oa"><img src="../Images/45427de98cd7bbd118fbf7ca4edcd0a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sZB9EGAptHXif6AHDDxSoQ.png"/></div></div></figure><p id="e102" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您可以管理存储帐户、存储帐户中的容器等。</p><p id="319e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">例如，我们可以使用下面的命令在我们的<strong class="kd iu">azuretipstorage</strong>存储帐户中创建另一个名为<strong class="kd iu"> fromazcli </strong>的容器。</p><pre class="mm mn mo mp gt nm nn no np aw nq bi"><span id="a7a6" class="nr lj it nn b gy ns nt l nu nv">az <strong class="nn iu">storage container create</strong> --account-name azuretipsstorage --name fromazcli</span></pre><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ob"><img src="../Images/ddd544054974338bcf0ec4714266f3dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2LdnW0MfXk399HiOtiGQbw.png"/></div></div></figure><p id="9037" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果您想了解更多有关用于管理存储帐户的命令，可以查看一下。</p><div class="ms mt gp gr mu mv"><a href="https://docs.microsoft.com/en-us/cli/azure/storage/account?WT.mc_id=DT-MVP-5001664&amp;view=azure-cli-latest" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd iu gy z fp na fr fs nb fu fw is bi translated">az存储帐户</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">请检查存储帐户名是否有效且未被使用。az存储帐户检查-名称-名称…</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">docs.microsoft.com</p></div></div></div></a></div><p id="8bf1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当然，如果你更喜欢在Azure门户上运行这些命令，你可以打开<strong class="kd iu">云外壳</strong>，直接在Azure云上运行这些Azure CLI命令。</p><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oc"><img src="../Images/4ab57122c1757fcd5ced38683c521dcd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nmouisjph3kZIZBSyxt0Tg.png"/></div></div></figure><h1 id="9fb2" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated"># 3使用PowerShell</h1><p id="5ab6" class="pw-post-body-paragraph kb kc it kd b ke mg kg kh ki mh kk kl km mi ko kp kq mj ks kt ku mk kw kx ky im bi translated">PowerShell是另一个可以用来管理Azure上的存储帐户的工具。最初，Windows PowerShell构建在。NET框架，并且只能在Windows系统上运行。在当前版本中，PowerShell使用。NET Core 5.0作为运行时，运行在Windows、macOS和Linux平台上。因为同样的原因，所以我在macOS上通过自制安装了PowerShell。</p><div class="ms mt gp gr mu mv"><a href="https://docs.microsoft.com/en-us/powershell/scripting/install/installing-powershell-core-on-macos?WT.mc_id=DT-MVP-5001664&amp;view=powershell-7.1" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd iu gy z fp na fr fs nb fu fw is bi translated">在macOS上安装PowerShell-PowerShell</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">PowerShell 7.0或更高版本需要macOS 10.13或更高版本。所有的包都可以在我们的GitHub发布页面上找到。之后…</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">docs.microsoft.com</p></div></div><div class="ne l"><div class="od l ng nh ni ne nj jz mv"/></div></div></a></div><p id="6b97" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在从PowerShell访问Azure上的存储帐户资源之前，您需要安装<strong class="kd iu"> Az。存储</strong>模块。</p><pre class="mm mn mo mp gt nm nn no np aw nq bi"><span id="afee" class="nr lj it nn b gy ns nt l nu nv">Install-Module Az.Storage</span></pre><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oe"><img src="../Images/ac33fe66bf65b8587ad9ea3739b60796.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TCHiB1qR2a0zK4sVuXcj9g.png"/></div></div></figure><p id="d3c3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">默认情况下，PowerShell gallery没有配置为PowerShellGet的可信存储库，因此第一次使用PSGallery时，您会看到上面的提示。回答“是”或“全是”继续安装。安装完成后，您可以运行<code class="fe nx ny nz nn b">Get-Module</code>来列出已安装的模块。</p><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi of"><img src="../Images/2a64b3ad8376082bed5d3cbe674eeb3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZjBfJ4cy8TxOOJIdsE97lQ.png"/></div></div></figure><p id="8132" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后，您可以使用<code class="fe nx ny nz nn b">Get-AzRmStorageContainer</code>来列出存储帐户中的容器。当然，你仍然可以访问Azure门户上的could shell工具来运行这些PowerShell命令。如果您对这些PowerShell命令感兴趣，您会发现下面的链接很有帮助。</p><div class="ms mt gp gr mu mv"><a href="https://docs.microsoft.com/en-us/powershell/module/az.storage/?WT.mc_id=DT-MVP-5001664&amp;view=azps-5.5.0" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd iu gy z fp na fr fs nb fu fw is bi translated">阿兹。存储体</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">此主题显示Azure存储管理Cmdlets的帮助主题。</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">docs.microsoft.com</p></div></div><div class="ne l"><div class="og l ng nh ni ne nj jz mv"/></div></div></a></div><h1 id="baad" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated"># 4使用Azure存储客户端库</h1><p id="f1fb" class="pw-post-body-paragraph kb kc it kd b ke mg kg kh ki mh kk kl km mi ko kp kq mj ks kt ku mk kw kx ky im bi translated">如果你更喜欢编写代码来管理你的Azure存储帐户，Azure存储客户端库是你的选择。目前，有两个版本的SDK可用，Azure存储客户端库v11是一个遗留版本，最新版本是v12。</p><figure class="mm mn mo mp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oh"><img src="../Images/9d45cfd73c2bd45bcb74c9a0d08011f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JJ7aBdeWK_yf5VZazGUSQA.png"/></div></div></figure><p id="06a6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">安装SDK相对容易，你可以在你的IDE中使用NuGet来安装它，也可以使用<code class="fe nx ny nz nn b">dotnet add package</code>命令。</p><pre class="mm mn mo mp gt nm nn no np aw nq bi"><span id="3999" class="nr lj it nn b gy ns nt l nu nv">dotnet add package Azure.Storage.Blobs</span></pre><p id="da45" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">安装sdk后，您可以创建容器并将文件上传到容器。正如您在下面的代码片段中看到的。</p><pre class="mm mn mo mp gt nm nn no np aw nq bi"><span id="9393" class="nr lj it nn b gy ns nt l nu nv">// Create a container.<br/>var blobServiceClient = new BlobServiceClient(storageconnstring);<br/><br/>var containerClient = await blobServiceClient.CreateBlobContainerAsync(containerName);</span><span id="a315" class="nr lj it nn b gy oi nt l nu nv">// Create a blob.<br/>var blobClient = containerClient.GetBlobClient(filename);<br/><br/>using FileStream uploadFileStream = File.OpenRead(filepath);<br/>await blobClient.UploadAsync(uploadFileStream, true);<br/>uploadFileStream.Close();</span></pre><h1 id="32f1" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated"># 5使用<strong class="ak"> AzCopy </strong>工具</h1><p id="2041" class="pw-post-body-paragraph kb kc it kd b ke mg kg kh ki mh kk kl km mi ko kp kq mj ks kt ku mk kw kx ky im bi translated">AzCopy是一个命令行实用程序，可用于将blobs或文件复制到存储帐户或从存储帐户复制。而且这个工具支持Windows，macOS，Linux。你可以从下面的链接下载。</p><div class="ms mt gp gr mu mv"><a href="https://docs.microsoft.com/en-us/azure/storage/common/storage-use-azcopy-v10?WT.mc_id=DT-MVP-5001664" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd iu gy z fp na fr fs nb fu fw is bi translated">使用AzCopy v10将数据复制或移动到Azure存储</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">AzCopy是一个命令行实用程序，可用于将blobs或文件复制到存储帐户或从存储帐户复制。这篇文章…</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">docs.microsoft.com</p></div></div><div class="ne l"><div class="oj l ng nh ni ne nj jz mv"/></div></div></a></div><p id="2c8a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">下面的链接展示了如何使用AzCopy将文件上传到Azure Blob存储。</p><div class="ms mt gp gr mu mv"><a href="https://docs.microsoft.com/en-us/azure/storage/common/storage-use-azcopy-blobs-upload?WT.mc_id=DT-MVP-5001664" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd iu gy z fp na fr fs nb fu fw is bi translated">使用AzCopy v10将文件上传到Azure Blob存储</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">您可以使用AzCopy v10命令行实用程序将文件和目录上传到Blob存储。查看…的示例</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">docs.microsoft.com</p></div></div><div class="ne l"><div class="ok l ng nh ni ne nj jz mv"/></div></div></a></div><p id="5e50" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如上所述，Microsoft Azure提供了多种方式来管理存储帐户。现在轮到你自己尝试这些方法了！</p></div><div class="ab cl ol om hx on" role="separator"><span class="oo bw bk op oq or"/><span class="oo bw bk op oq or"/><span class="oo bw bk op oq"/></div><div class="im in io ip iq"><p id="bc3b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">感谢您的阅读，希望对您有所帮助。</p><p id="337e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在聊天</p><div class="ms mt gp gr mu mv"><a href="https://www.linkedin.com/in/chenjd/" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd iu gy z fp na fr fs nb fu fw is bi translated">陈家东-高级软件开发人员-X公司| LinkedIn</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">大家好，我是陈家东陈(@chen_jd)。我是个有经验的人。NET开发者，2015年10月起成为微软MVP。我最后一次…</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">www.linkedin.com</p></div></div><div class="ne l"><div class="os l ng nh ni ne nj jz mv"/></div></div></a></div></div></div>    
</body>
</html>