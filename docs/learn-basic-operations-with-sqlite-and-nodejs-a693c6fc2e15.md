# å­¦ä¹  SQLite å’Œ Nodejs çš„åŸºæœ¬æ“ä½œ

> åŸæ–‡ï¼š<https://levelup.gitconnected.com/learn-basic-operations-with-sqlite-and-nodejs-a693c6fc2e15>

## åœ¨è¿™ä¸€è¯¾ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•å°† nodejs åº”ç”¨ç¨‹åºä¸ SQLite æ•°æ®åº“è¿›è¡Œäº¤äº’ã€‚

![](img/5bdaa14c23d455c8a304a0b3ca191e49.png)

SQLite æ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ•°æ®åº“ï¼Œå®ƒå­˜åœ¨äºå•ä¸ªæ–‡ä»¶æˆ–å†…å­˜ä¸­ï¼Œå¹¶ä¸ºæˆ‘ä»¬æä¾›äº†æ‰€æœ‰çš„åŸºæœ¬æ“ä½œ(æŸ¥è¯¢ã€è§†å›¾ã€è§¦å‘å™¨ã€ç´¢å¼•ç­‰),è¿™äº›æ“ä½œæ‹¥æœ‰å¤§å‹ä¼ä¸šæ•°æ®åº“ï¼Œå¦‚ MySQLã€Postgress ç­‰â€¦

åœ¨ nodejs ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª`sqlite3`æ¨¡å—ï¼Œå®ƒä¸ºæˆ‘ä»¬æä¾›äº†ä¸ SQLite æ•°æ®åº“äº¤äº’æ‰€éœ€çš„æ‰€æœ‰ç‰¹æ€§ã€‚

# 1.å®‰è£…`**sqlite3**`å¹¶è¿æ¥æ•°æ®åº“

åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»º **users.db** æ•°æ®åº“ï¼Œå»ºç«‹å¹¶å…³é—­ä¸ **users.db** çš„è¿æ¥ã€‚

åˆ›å»ºæ–°çš„ nodejs é¡¹ç›®

```
cd sqliteBasics
npm init -y
npm i sqlite3
```

ç°åœ¨åˆ›å»ºä¸€ä¸ª**ã€‚/index.js** æ–‡ä»¶

**ã€‚/index.js**

![](img/728f8aecf856308eef8d94b2724c4a09.png)

ç»ˆç«¯è¾“å‡º

# 2.åˆ›å»ºè¡¨ï¼Œæ’å…¥å’Œæ£€ç´¢æ•°æ®

ä»»åŠ¡æ˜¯åˆ›å»ºä¸€ä¸ªæœ‰ä¸¤åˆ—(ç”¨æˆ·åï¼Œå¯†ç )çš„`users`è¡¨ï¼Œç„¶åæ’å…¥å’Œæ£€ç´¢æ•°æ®ã€‚ä½†æ˜¯åœ¨ nodejs æ¡†æ¶ä¸­ï¼Œä¸²è¡Œæ“ä½œå¾ˆæ£˜æ‰‹ã€‚ä¸è¦å®³æ€•`sqlite3`æœ‰***db . serialize()***å‡½æ•°ï¼Œå®ƒèµ‹äºˆæˆ‘ä»¬åºåˆ—åŒ–æŸ¥è¯¢è¯­å¥çš„èƒ½åŠ›ã€‚

æˆ‘ä»¬å°†ä½¿ç”¨ 3 ä¸ªä¸»è¦åŠŸèƒ½:

> **db . serialize([callback])**åœ¨å›è°ƒæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰é¡ºåºè¿è¡Œæ“ä½œã€‚
> 
> **db.run(SQLï¼Œ[paramï¼Œ...]ï¼Œ[callback])** è¿è¡Œ SQL è¯­å¥ä½†ä¸æ£€ç´¢ä»»ä½•æ•°æ®ã€‚
> 
> **db.each(SQLï¼Œ[paramï¼Œ...]ï¼Œ[callback]ï¼Œ[complete])** è¿è¡Œ SQL è¯­å¥ä»æŸ¥è¯¢ä¸­æ£€ç´¢æ•°æ®ï¼Œå¹¶åˆ†åˆ«å¾ªç¯æ¯ä¸€è¡Œã€‚

æ›´æ–°**ã€‚/index.js** æ–‡ä»¶

![](img/679a81ac77d78bc757c2adb37d02cac4.png)

ç»ˆç«¯è¾“å‡º

# 3.æ›´æ–°å’Œåˆ é™¤æ•°æ®

ç°åœ¨æˆ‘ä»¬æœ‰äº†åŒ…å«æ•°æ®çš„ ***users.db*** æ•°æ®åº“ï¼Œæˆ‘ä»¬å¯ä»¥è¿è¡Œæ›´æ–°å’Œåˆ é™¤æŸ¥è¯¢ã€‚

åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶**ã€‚/updateDelete.js**

![](img/67cde5ca3702bc8c333b2580d97e1aec.png)

ç»ˆç«¯è¾“å‡º

# ç»“è®º

è¿™æ˜¯ä¸€å ‚å…³äº`sqlite3`æ¨¡å—çš„å¿«é€Ÿè¯¾ç¨‹ï¼Œå†…å®¹æ˜¯å¦‚ä½•:

1.  æ‰“å¼€-å…³é—­ä¸æ•°æ®åº“çš„è¿æ¥
2.  è¿è¡Œ*(åˆ›å»ºã€æ›´æ–°ã€åˆ é™¤)æŸ¥è¯¢*
3.  *ä½¿ç”¨ **db.serialize(ã€å›è°ƒã€‘)**æ–¹æ³•å°†æµè®¾ç½®ä¸ºä¸²è¡Œæ¨¡å¼*

# *å‚è€ƒ*

*   *[https://www.sqlite.org/index.html](https://www.sqlite.org/index.html)*
*   *[https://www.sqlitetutorial.net](https://www.sqlitetutorial.net)*
*   *[https://www.npmjs.com/package/sqlite3](https://www.npmjs.com/package/sqlite3)*
*   *[https://github.com/mapbox/node-sqlite3/wiki/API](https://github.com/mapbox/node-sqlite3/wiki/API)*

> *T [æ±‰å…‹æ–¯ğŸ™ğŸ™ä¸ºäº†é˜…è¯»æˆ‘çš„æ•…äº‹ï¼Œè¯·åœ¨è¿™é‡Œæ³¨å†Œï¼Œå¹¶ç»§ç»­å…³æ³¨æ›´å¤šçš„ nodejs å’Œ SQLite åšå®¢](https://www.subscribepage.com/pkoulianos)*