<html>
<head>
<title>React Functional Programming: Separate View from Logic Gracefully</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">反应函数式编程:优雅地将视图与逻辑分离</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/react-functional-programming-separate-view-from-logic-gracefully-5280333676e1?source=collection_archive---------4-----------------------#2022-09-05">https://levelup.gitconnected.com/react-functional-programming-separate-view-from-logic-gracefully-5280333676e1?source=collection_archive---------4-----------------------#2022-09-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/db2a329b7a3e1d5cd631cb009bdd348a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JOXo7UnXEtgP1_xCDCl5gA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">将视图与其逻辑分离</figcaption></figure><p id="4ddd" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">视图及其逻辑是组件的构建块。他们一起工作，必须共存。然而，混合这些代码会导致不必要的责任委派。</p><p id="d5c9" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们如何将它们分开，同时又能让它们一起工作？React有API可以帮助我们吗？</p><p id="7841" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们将在这篇博客中回答这样的问题。</p><h1 id="d445" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">问题:从JSX分离钩子</h1><p id="e9e5" class="pw-post-body-paragraph kc kd iq ke b kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv mc kx ky kz ij bi translated">我们举个例子。</p><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="mh mi l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">BlogPage.tsx</figcaption></figure><p id="f216" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> BlogPage </strong>组件是逻辑和视图结合的地方。正如我们所看到的，来自钩子的数据被传递给博客列表。但是这种执行和传递的责任应该由<strong class="ke ir">博客</strong>组件承担吗？</p><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="mj mi l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">我觉得不是！</figcaption></figure><p id="5f68" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">它应该属于自定义组件吗？</p><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="mh mi l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">BlogPage.tsx(已重构)</figcaption></figure><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="mh mi l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">BlogsList.tsx</figcaption></figure><p id="7754" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">太好了！我们解决了防止不必要的责任委派的问题。</p><p id="0ff5" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">然而！我们又回到了起点。</p><ul class=""><li id="f2da" class="mk ml iq ke b kf kg kj kk kn mm kr mn kv mo kz mp mq mr ms bi translated">它把观点和逻辑结合起来。</li><li id="9dad" class="mk ml iq ke b kf mt kj mu kn mv kr mw kv mx kz mp mq mr ms bi translated">重用卡组件时的代码冗余。<br/>例如:如果您想在<strong class="ke ir"> BlogPage </strong>上添加另一个名为<strong class="ke ir"> AuthorsList </strong>的列表，并使用来自不同API的数据呈现相同的列表，该怎么办？你必须用另一个钩子重复JSX样板。</li></ul><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="my mi l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">没想到会这样！？</figcaption></figure><p id="8a30" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">经典的先有鸡还是先有蛋的情况，不是吗？</p><p id="cca5" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">那么我们能不能把它们进一步分开，把钩子从组件里移出来？</p><p id="ae24" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">让我们来了解一下！</p><h1 id="6c27" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">解决方案:自定义特设</h1><p id="427d" class="pw-post-body-paragraph kc kd iq ke b kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv mc kx ky kz ij bi translated">我们使用一个特设来组合视图和它的逻辑，而不需要额外的组件，怎么样？</p><p id="3c33" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">下面的HOC实现返回一个组件，该组件带有用props映射的钩子的结果。</p><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="mh mi l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">wihtHookProps.tsx</figcaption></figure><p id="79bd" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">最终的组件是可定制的，可以接受额外的道具。您也可以自定义“显示名称”。</p><p id="98ce" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在，新的逻辑实现如下:</p><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="mh mi l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">BlogsList.tsx</figcaption></figure><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="mz mi l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">差不多就是这样</figcaption></figure><h1 id="7c62" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">结论</h1><p id="2718" class="pw-post-body-paragraph kc kd iq ke b kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv mc kx ky kz ij bi translated">创建和使用这样的特设可以是一种选择。它可能是增长代码库的合适解决方案。这是简化组件责任的方法之一。此外，它减少了一些样板文件，提高了可维护性。我希望这对你的用例有所帮助。</p><p id="81dc" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">觉得有意思？请在评论区告诉我。</p><p id="823b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">编码快乐！</p><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="na mi l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">Stackoverflow工作板是一个神话！LOL。</figcaption></figure></div></div>    
</body>
</html>