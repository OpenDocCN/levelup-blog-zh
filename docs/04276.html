<html>
<head>
<title>Build a serverless multiplayer game with Firebase</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Firebase构建一个无服务器的多人游戏</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/build-a-serverless-multiplayer-game-with-firebase-bf50454a1b69?source=collection_archive---------0-----------------------#2020-06-18">https://levelup.gitconnected.com/build-a-serverless-multiplayer-game-with-firebase-bf50454a1b69?source=collection_archive---------0-----------------------#2020-06-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b92a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Firebase工具(Firestore和动态链接)免费主持多人游戏(取决于流量)</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1fccaeb688ea12aed6375a07a76b6067.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vka9eZhO-krC1GtL"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@jeshoots?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">JESHOOTS.COM</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><p id="9169" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我刚刚开始编程时，我使用Google Play Games服务的多人API开发了一个android多人游戏。它们已于2019年9月弃用，并于2020年3月31日永久禁用。</p><p id="741f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我开始得到差评，即使我不打算从这个游戏中赚钱，我对我的第一个Android游戏得到差评感到很糟糕，所以我决定修复它。</p><p id="1154" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我寻找了一些其他的主机选项，其中大部分对于一个简单的回合制多人游戏来说都是多余的，比如空中战术。而且，它们不是免费的，即使我不打算从游戏中赚钱，我也不想为它的存在付钱，:D</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="2903" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">为什么是Firebase</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/41a1bc0be09f695d35c400053dd39d31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ULy8bSPFpI4YmWC0A8bnew.png"/></div></div></figure><p id="a679" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在谷歌终止多人API的通知中，他们建议我们可以使用Firebase Realtime Database和Google Cloud Open Match作为替代。更具体地说，实时数据库将用于游戏内的交流，而公开比赛将用于比赛安排。</p><p id="5f5e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我看了一下公开赛，对于一个简单的游戏来说，它似乎太复杂了。以下是谷歌对它的描述:“它包括三个核心组件:一个用于游戏客户端的前端API，一个用于游戏服务器的后端API，以及一个运行特定于游戏的定制匹配逻辑的orchestrator。”我只是想允许人们邀请他们的朋友参加一个简短的空中战术游戏，而不是实现一个全球游戏平台:d。所以我实现了一个简单得多的动态链接解决方案。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="68f5" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">游戏部分</h1><p id="3376" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">Firebase在实时数据库方面提供了两个选项:他们原来的Firebase实时数据库和新的Firestore。你可以在这里查看差异<a class="ae ky" href="https://firebase.google.com/docs/database/rtdb-vs-firestore" rel="noopener ugc nofollow" target="_blank"/>。在实现方面，它们非常相似，Firestore允许比实时数据库稍微复杂一点的查询。Firestore也进行了更好的优化，只检索您需要的信息，从而降低成本。无论如何，我选择Firestore的主要原因，我建议你也这样做，是因为它是新版本，我假设谷歌将在某个时候停止支持实时数据库，只专注于Firestore。</p><p id="4d19" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好的，那么我们如何在多人游戏中使用Firestore呢？</p><p id="6208" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Firestore是一个允许实时同步的NoSQL数据库。这对我们来说意味着，如果你创建了一个游戏文档，并且有两个(或更多)用户在积极地收听它，无论何时一个用户改变了游戏的状态，其他用户都会实时地被更新。您可以实现这一点，而无需轮询、管理套接字或实现循环调度。Firestore已经在幕后为我们做了这项工作，我们需要做的就是使用他们的SDK，并在我们感兴趣的文档上设置一个监听器，以获得更新。</p><p id="1878" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种高层次的讨论可能有点难以理解，所以让我们来看一个例子。</p><h2 id="40f1" class="na md it bd me nb nc dn mi nd ne dp mm li nf ng mo lm nh ni mq lq nj nk ms nl bi translated">第一步。建立Firestore</h2><p id="e820" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">Firebase已经为许多语言和平台提供了很好的关于如何做到这一点的教程:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/a7e84235200447715f2c59f7300a2f72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qcXgzDeKxbjJmaxQ"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">Firebase支持的语言</figcaption></figure><h2 id="404c" class="na md it bd me nb nc dn mi nd ne dp mm li nf ng mo lm nh ni mq lq nj nk ms nl bi translated">第二步。数据库结构</h2><p id="3a66" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">创建Firestore数据库后，应该定义数据库结构。您可以直接从开发人员控制台完成这项工作，在那里您可以创建一个数据库外观的模型。在顶层，直接在数据库中，您可以创建集合。集合是文档的列表，文档是字段和集合的列表。</p><p id="f9a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是空中战术数据库的结构:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/221cc735b30b45f8205192830248192f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Sc-38ubv92YZZjUy"/></div></div></figure><p id="9c21" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有一个<strong class="lb iu">游戏</strong>的集合，一个<strong class="lb iu">玩家</strong>的集合，我还添加了这些游戏的2个副本(<strong class="lb iu"> test_games和test_players </strong>)来测试不影响制作的变化。</p><p id="1436" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">游戏集合中的文档代表由玩家启动的所有游戏，并且包含关于加入游戏的玩家的信息(<strong class="lb iu">参与者</strong>、<strong class="lb iu">玩家1 </strong>、<strong class="lb iu">玩家2 </strong>)以及关于他们在游戏期间所做的动作的信息(在<strong class="lb iu">移动</strong>字段中)。它们还包含关于游戏状态(<strong class="lb iu">完成</strong>)和创建日期(<strong class="lb iu">创建</strong>)的信息。</p><p id="f1df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">很明显，这是一个适用于简单游戏如空中战术的结构。根据你的游戏，这可能会非常不同。例如，我有<strong class="lb iu">玩家1 </strong>和<strong class="lb iu">玩家2 </strong>字段，因为这个游戏只能由两个玩家玩。如果人数是可变的，你可以改变这一点，列一个球员名单。<strong class="lb iu">移动</strong>字段对我来说也是有效的，但是你可以用不同的方式来做。然而，你需要确保你在这里有重建游戏状态所需的所有信息。例如，您不能拥有像last_move字段这样的内容，因为您经常用last move覆盖它。如果所有玩家都留在游戏中直到游戏结束，这可能会起作用，但是如果一个玩家在游戏中途出现，然后试图重新加入，你将无法重新创建游戏状态。</p><h2 id="76dd" class="na md it bd me nb nc dn mi nd ne dp mm li nf ng mo lm nh ni mq lq nj nk ms nl bi translated">第三步。履行</h2><p id="e927" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">现在，让我们假设玩家可以神奇地找到彼此的游戏，因为我们将在下一节讨论配对。</p><ul class=""><li id="752a" class="nn no it lb b lc ld lf lg li np lm nq lq nr lu ns nt nu nv bi translated"><strong class="lb iu">步骤3.1。创建游戏</strong></li></ul><p id="5b94" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你首先要实现创建游戏的逻辑。这里有一个关于如何向Firestore添加数据的教程<a class="ae ky" href="https://firebase.google.com/docs/firestore/manage-data/add-data#java_11" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="3d47" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">TL；博士你必须做这样的事情:</p><pre class="kj kk kl km gt nw nx ny nz aw oa bi"><span id="2069" class="na md it nx b gy ob oc l od oe">db.collection(“games”).add(game)</span></pre><p id="6a04" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其中"<strong class="lb iu"> game" </strong>是字典、地图或对象，取决于语言，与您在Firestore中创建的游戏文档具有相同的结构。</p><ul class=""><li id="88c7" class="nn no it lb b lc ld lf lg li np lm nq lq nr lu ns nt nu nv bi translated"><strong class="lb iu">步骤3.2。更新游戏状态</strong></li></ul><p id="3ff6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当用户在游戏中做一些事情时，你应该更新数据库来反映这一点。对于空中战术，你每回合可以做一个动作，所以这相当于在“<strong class="lb iu">招式</strong>列表中增加一个招式。</p><p id="8e40" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以像这里的一样更新整个游戏。</p><p id="a694" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以更新特定的字段，比如这里的<a class="ae ky" href="https://firebase.google.com/docs/firestore/manage-data/add-data#update_fields_in_nested_objects" rel="noopener ugc nofollow" target="_blank">和</a>。</p><p id="9e4b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以在列表中添加一个元素，比如这里的<a class="ae ky" href="https://firebase.google.com/docs/firestore/manage-data/add-data#update_elements_in_an_array" rel="noopener ugc nofollow" target="_blank">和</a>。</p><p id="d30b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Firestore中，从定价的角度来看，是更新整个文档还是只更新您需要的字段并不重要，因为在这两种情况下都将计为1次写操作。但是为了提高效率，您应该只更新您需要的内容。此外，Firestore可能会在未来改变其定价政策，以考虑上传的大小，你可能会看到你的成本上升。</p><ul class=""><li id="b43a" class="nn no it lb b lc ld lf lg li np lm nq lq nr lu ns nt nu nv bi translated"><strong class="lb iu">步骤3.3。从Firestore获取游戏状态</strong></li></ul><p id="2eed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里有一个关于如何从Firestore获取数据的教程。这与我们在“创建游戏”步骤中的操作相反。你得到一个“游戏”引用，你可以把它转换成一个自定义对象，或者以地图或字典的形式得到它，这取决于语言。正如我之前提到的，你需要确保你可以在游戏生命周期的任何阶段阅读它:</p><ul class=""><li id="753d" class="nn no it lb b lc ld lf lg li np lm nq lq nr lu ns nt nu nv bi translated">在它刚刚被创建之后</li><li id="2c6b" class="nn no it lb b lc of lf og li oh lm oi lq oj lu ns nt nu nv bi translated">用户加入后</li><li id="00b4" class="nn no it lb b lc of lf og li oh lm oi lq oj lu ns nt nu nv bi translated">在此期间</li><li id="1d6a" class="nn no it lb b lc of lf og li oh lm oi lq oj lu ns nt nu nv bi translated">在它完成之后</li><li id="d18c" class="nn no it lb b lc of lf og li oh lm oi lq oj lu ns nt nu nv bi translated"><strong class="lb iu">第3.4步。监听游戏变化</strong></li></ul><p id="1f88" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在一个玩家在游戏中做了一些事情之后，其他人应该会看到这种变化。你可以用一个<a class="ae ky" href="https://firebase.google.com/docs/firestore/query-data/listen" rel="noopener ugc nofollow" target="_blank">实时监听器</a>来做到这一点。基本上，每当游戏文档改变时，你都会得到更新，你可以用服务器上的游戏状态覆盖你的游戏状态，或者你可以看到自上次以来发生了什么变化(比如这里的<a class="ae ky" href="https://firebase.google.com/docs/firestore/query-data/listen#view_changes_between_snapshots" rel="noopener ugc nofollow" target="_blank"/>)并相应地更新本地信息。</p><p id="1d1b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意:当玩家更新游戏状态时，他也会收到自己变化的更新。请务必考虑到这一点。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3fec" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">火柴制造</h1><p id="a80e" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">玩家可以通过两种方式与另一个真人对战:</p><ul class=""><li id="14b7" class="nn no it lb b lc ld lf lg li np lm nq lq nr lu ns nt nu nv bi translated">社交配对<strong class="lb iu"/>——用户与朋友或他们已经认识的人一起玩</li><li id="7c17" class="nn no it lb b lc of lf og li oh lm oi lq oj lu ns nt nu nv bi translated">游戏内配对——用户与已经在游戏中的其他玩家一起玩</li></ul><h2 id="d982" class="na md it bd me nb nc dn mi nd ne dp mm li nf ng mo lm nh ni mq lq nj nk ms nl bi translated"><strong class="ak">社交牵线</strong></h2><p id="16ff" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">当用户和朋友一起玩时，他们会更加投入。</p><p id="7ee6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是新用户的巨大来源。如果您创建了一个选项，用户可以通过它邀请尚未安装您的游戏的人，如果没有这个邀请，这些人可能永远不会找到您的游戏。而且他们是很棒的用户，他们比你平时的用户有更好的留存，因为他们是被认识的人邀请来玩游戏的。从我的Google Play仪表板中的统计数据来看，对于空中战术，从Google Playstore安装游戏的用户在7天后的保留率为<strong class="lb iu"> 44% </strong>。通过邀请安装游戏的用户在7天后拥有64%的保留率。所以保持率比普通用户高50%。</p><p id="8bc7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当你刚刚发布你的游戏时，它工作得很好。如果你有成千上万的玩家(来自社交媒体或Kickstarter上的预发布活动)正在等待游戏的发布，你可能不会在意这一点，但对于大多数游戏开发者来说，情况并非如此。一开始，很有可能，你只会有少数几个用户玩你的游戏，如果你只给他们提供与现有用户对战的选项，他们不会有太多的选项可供选择，而且看起来根本就没有多人游戏选项。在你得到足够多的玩家，任何人都可以在几秒钟内找到对手(同时在线，也在寻找游戏)之前，你可以用社交配对来解决这个问题。你的多人游戏选项是非常可用的，你也可以从邀请中获得一些额外的用户。</p><p id="68c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">社交配对—动态链接</strong></p><p id="3996" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">动态链接是一个智能URL，它可以将用户引导到游戏的正确部分。这里的主要思想是，用户可以通过社交媒体向朋友发送动态链接。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/0cb6d447bf52745927778d7a13f4a596.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/0*cZuvKqC0pEWj54Lo"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">确保让你的用户知道他们将要发送一个动态链接以及它的用途。</figcaption></figure><p id="91c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当朋友打开动态链接时:</p><ul class=""><li id="c3f4" class="nn no it lb b lc ld lf lg li np lm nq lq nr lu ns nt nu nv bi translated">如果他们有应用程序，应用程序应该打开，他们应该立即加入游戏</li><li id="7b07" class="nn no it lb b lc of lf og li oh lm oi lq oj lu ns nt nu nv bi translated">如果他们没有应用程序，他们将被带到playstore/app store，在他们安装并打开应用程序后，他们也应该立即加入游戏</li><li id="f268" class="nn no it lb b lc of lf og li oh lm oi lq oj lu ns nt nu nv bi translated">另一种情况是朋友打开桌面上的网址。如果你的游戏也可以在网上玩，很好，你也会让他们加入到游戏中来。如果没有，你应该实现一个登陆页面，在那里你展示你的游戏，并把他们重定向到你的游戏。这是可选的，因为大多数用户从他们的移动设备与社交媒体互动，但如果他们从一个你的游戏不可用的平台使用它，你会将他们重定向到一个不存在的页面。</li></ul><p id="cde8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">社交牵线——实现</strong></p><ul class=""><li id="1ac9" class="nn no it lb b lc ld lf lg li np lm nq lq nr lu ns nt nu nv bi translated"><strong class="lb iu">第一步。动态链接设置</strong></li></ul><p id="4e9d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Firebase控制台中，您应该打开“动态链接”选项卡。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/f0156e49bc681258e13bdbec77be7944.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/0*G-RuJRABZHMQfkUz"/></div></figure><p id="b40e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">按下<strong class="lb iu">开始</strong>，当出现提示时，输入您的自定义域(如果您有)或使用Firebase的带有您首选前缀的域。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/458e08c1f0d639ebcee1638d11ff3584.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WNk8iUc7IgkjcMAq"/></div></div></figure><p id="3f9e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">之后，你就可以发送你的动态链接了。</p><ul class=""><li id="d338" class="nn no it lb b lc ld lf lg li np lm nq lq nr lu ns nt nu nv bi translated"><strong class="lb iu">第二步。发送动态链接</strong></li></ul><p id="54b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Firebase有给<a class="ae ky" href="https://firebase.google.com/docs/dynamic-links/ios/create" rel="noopener ugc nofollow" target="_blank"> iOS </a>、<a class="ae ky" href="https://firebase.google.com/docs/dynamic-links/android/create" rel="noopener ugc nofollow" target="_blank"> Android </a>、<a class="ae ky" href="https://firebase.google.com/docs/dynamic-links/cpp/create" rel="noopener ugc nofollow" target="_blank"> C++ </a>、<a class="ae ky" href="https://firebase.google.com/docs/dynamic-links/unity/create" rel="noopener ugc nofollow" target="_blank"> Unity </a>发送动态链接的教程。对于其他任何东西，你可以使用他们的<a class="ae ky" href="https://firebase.google.com/docs/dynamic-links/rest" rel="noopener ugc nofollow" target="_blank"> REST API </a>。</p><p id="bf42" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是java版本，因此我们可以浏览参数并了解它们的含义:</p><p id="a346" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以使用“setLink”设置动态链接将重定向到的链接:</p><pre class="kj kk kl km gt nw nx ny nz aw oa bi"><span id="e919" class="na md it nx b gy ob oc l od oe">.setLink(Uri.parse("https://www.example.com?game_id=" + gameId))</span></pre><p id="2645" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你有你的游戏的网页版本，或者登陆页面，你应该把“www.example.com”替换成可以找到它们的域名。<strong class="lb iu"> gameId </strong>应该是你尝试分享的游戏的文档Id，就像它出现在Firestore里一样。</p><p id="cfc2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，应该用“setDomainUriPrefix”设置域前缀。这应该是您在Firebase控制台中设置动态链接时定义的URI。</p><pre class="kj kk kl km gt nw nx ny nz aw oa bi"><span id="aa94" class="na md it nx b gy ob oc l od oe">.setDomainUriPrefix("https://airtacticsgame.page.link")</span></pre><p id="960f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，您应该添加移动应用程序的详细信息:</p><p id="5ed0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">安卓系统:</p><pre class="kj kk kl km gt nw nx ny nz aw oa bi"><span id="d620" class="na md it nx b gy ob oc l od oe">.setAndroidParameters(<br/>        new DynamicLink.AndroidParameters.Builder("com.example.android")<br/>                        .setMinimumVersion(125)<br/>                        .build())</span></pre><p id="87a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">iOS:</p><pre class="kj kk kl km gt nw nx ny nz aw oa bi"><span id="dd2d" class="na md it nx b gy ob oc l od oe">.setIosParameters(<br/>        new DynamicLink.IosParameters.Builder("com.example.ios")<br/>                .setAppStoreId("123456789")<br/>                .setMinimumVersion("1.0.1")<br/>                .build())</span></pre><p id="547c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最低版本用于用户安装了应用程序的情况。如果已安装应用程序的版本小于动态链接中的最低版本，它不会打开应用程序，而是会将用户带到playstore/app store进行升级。</p><p id="801e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，您应该设置URL的元标记:</p><pre class="kj kk kl km gt nw nx ny nz aw oa bi"><span id="cffc" class="na md it nx b gy ob oc l od oe">.setSocialMetaTagParameters(<br/>        new DynamicLink.SocialMetaTagParameters.Builder()<br/>                .setTitle("Example of a Dynamic Link")<br/>                .setDescription("This link works whether the app is installed or not!")<br/>                .setImageUrl("https://www.example.com/icon.png")<br/>                .build())</span></pre><p id="0e68" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些参数将定义动态链接在社交媒体上共享时的预览效果，因此使用它们来解释当用户点击它时会发生什么。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/02828218070d6d1f4f88d2bc9ee8fed3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/format:webp/1*A7mAStpW5zpFrp53S3qEiw.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">Slack上共享的空中战术游戏邀请示例</figcaption></figure><p id="e10f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请记住，这个网址将来自一个朋友，所以从发件人的角度发出行动号召。类似于“和我一起玩……游戏”这样的话应该就可以了。</p><p id="1bfd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者，您还可以添加分析信息:</p><pre class="kj kk kl km gt nw nx ny nz aw oa bi"><span id="b33d" class="na md it nx b gy ob oc l od oe">.setGoogleAnalyticsParameters(<br/>        new DynamicLink.GoogleAnalyticsParameters.Builder()<br/>                .setSource("orkut")<br/>                .setMedium("social")<br/>                .setCampaign("example-promo")<br/>                .build())<br/>.setItunesConnectAnalyticsParameters(<br/>        new DynamicLink.ItunesConnectAnalyticsParameters.Builder()<br/>                .setProviderToken("123456")<br/>                .setCampaignToken("example-promo")<br/>                .build())</span></pre><p id="8df6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">收到Firebase的动态链接后，让用户与朋友分享，这样他们就可以加入游戏了。</p><ul class=""><li id="9da3" class="nn no it lb b lc ld lf lg li np lm nq lq nr lu ns nt nu nv bi translated"><strong class="lb iu">第三步。接收动态链接</strong></li></ul><p id="eb13" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Firebase有接收<a class="ae ky" href="https://firebase.google.com/docs/dynamic-links/ios/receive" rel="noopener ugc nofollow" target="_blank"> iOS </a>、<a class="ae ky" href="https://firebase.google.com/docs/dynamic-links/android/receive" rel="noopener ugc nofollow" target="_blank"> Android </a>、<a class="ae ky" href="https://firebase.google.com/docs/dynamic-links/cpp/receive" rel="noopener ugc nofollow" target="_blank"> C++ </a>、<a class="ae ky" href="https://firebase.google.com/docs/dynamic-links/unity/receive" rel="noopener ugc nofollow" target="_blank"> Unity </a>动态链接的教程。在这里，我不会详细讨论实现，因为根据平台和语言的不同，实现会有很大的不同，但是Firebase教程应该有实现这一部分所需的所有信息。</p><p id="7791" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无论平台或语言如何，你的游戏都将通过一个回调函数打开，在回调函数中你可以访问用来打开它的URL。更准确的说是你在上一步设置的网址，看起来是这样的那个:“https://www . example . com/？game _ id = 064 as 4 ojknlvsitzxbum”。你应该从这个URL中去掉游戏id，并用它来加入相应的游戏。如果你有一个类似于我的数据库结构，你可以通过更新游戏来将你作为一个玩家，从而告诉其他玩家你加入了。</p><h2 id="e5af" class="na md it bd me nb nc dn mi nd ne dp mm li nf ng mo lm nh ni mq lq nj nk ms nl bi translated">游戏内配对</h2><p id="be94" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">这对于拥有大量用户的游戏来说非常好。</p><p id="f72a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不是所有的玩家都想和朋友一起玩，或者他们可能没有朋友也喜欢你的游戏。对他们来说，有一个和其他玩家对战的选择是很好的。</p><p id="5b34" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果游戏很复杂，你需要根据用户的技能或排名进行匹配，那么你将不得不进行游戏内匹配，但我不建议使用Firestore进行匹配。你可能应该更深入地研究Google的Open Match，或者其他提供匹配服务的框架。理论上，你可以在Firestore中实现这一点，但它不是为这种事情而构建的，它有一些查询限制，这将是一个问题，并且成本可能比你从专门的框架中获得的要大。</p><p id="9bb1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">游戏内配对——实现</strong></p><p id="e639" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将只介绍一个基本的实现，用户可以创建一个开放的游戏并等待其他玩家加入。其他用户可以看到已经创建的开放游戏列表，并可以选择加入其中一个。</p><p id="8050" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，你需要定义什么是开放游戏，并将其构建到数据库结构中。在空中战术中，开放游戏是指<strong class="lb iu">参与者列表</strong>少于2项的游戏。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/ad87a4632d7d7f7f392b4cc9047022b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_VlnLJ9xylOjgjarqnXdHg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">空中战术中的开放式博弈示例</figcaption></figure><p id="3168" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当用户创建一个新的开放游戏时，只需在Firestore中创建游戏，将他们添加到游戏中，并启动实时监听器，以便在其他用户加入时通知他们。</p><p id="659c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当用户试图获得一个开放游戏的列表时，你需要在Firestore中进行查询。你可以在这里找到一个简单查询<a class="ae ky" href="https://firebase.google.com/docs/firestore/query-data/queries#execute_a_query" rel="noopener ugc nofollow" target="_blank">的例子，但是考虑到可能有很多开放的游戏，你需要将结果限制在少数几个。不这样做将增加您的成本，正如您在下一节中看到的。我还建议将游戏按照创建日期降序排列，这样创建游戏的玩家就更有可能还活着。你可以在这里</a>找到关于限制和订购查询<a class="ae ky" href="https://firebase.google.com/docs/firestore/query-data/order-limit-data" rel="noopener ugc nofollow" target="_blank">的细节。</a></p><p id="56a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">采用这种方法，许多开放的游戏将会丢失，永远不会被任何人加入，只是占用你的Firestore的空间。你可以创建一个带有Firebase函数的cron-job来删除任何超过一周的游戏。你可以在这里找到关于这个<a class="ae ky" href="https://firebase.google.com/docs/firestore/solutions/delete-collections" rel="noopener ugc nofollow" target="_blank">的细节。</a></p><p id="06d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当用户从列表中选择一个游戏时，只需做与社交配对相同的事情:将他们的玩家id添加到游戏中，以便其他玩家知道他们加入了游戏，如果需要，更改游戏的状态，并打开正在进行的游戏的屏幕。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="a5ea" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">定价</h1><p id="fdfa" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">让我们谈谈成本。你可以在这里找到所有费用的详细汇总<a class="ae ky" href="https://cloud.google.com/firestore/pricing" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="b511" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是这张图片很好的概括了这一切。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/e9ccd9a26be2d236aafb2408d59fb431.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*crKG69nYjKwtk67I"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">Firestore在洛杉矶托管时的成本</figcaption></figure><p id="4b48" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以免费的话，你会得到<strong class="lb iu"> 50k读</strong>，<strong class="lb iu"> 20k写</strong>，<strong class="lb iu"> 20k删除</strong>，和<strong class="lb iu"> 1 GB </strong>的存储。</p><p id="59b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果超出这些值，您将支付:</p><p id="21af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在0.036美元到0.06美元之间为<strong class="lb iu"> 100k </strong>为<strong class="lb iu">读数为</strong></p><p id="ae16" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<strong class="lb iu">0.108美元到0.18美元</strong>之间，用于<strong class="lb iu"> 100k次写入</strong></p><p id="06a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<strong class="lb iu">0.012美元到<strong class="lb iu">0.02美元</strong>之间，100k删除</strong></p><p id="2dd6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每GB/月在<strong class="lb iu">0.108美元至</strong>0.18美元之间<strong class="lb iu"/></p><p id="bdbf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有一个价格范围，因为价格取决于您创建Firebase项目的位置。上面例子中的“<strong class="lb iu">洛杉矶</strong> s”比较便宜，而“<strong class="lb iu">欧洲(多地区)</strong>”则比较贵。</p><p id="3faf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些是什么意思？</p><p id="092e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从上表中可以看出，阅读意味着阅读文档(或文档的一部分)。</p><p id="a9ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，如果您有一个返回文档的查询，它将计为1次读取。</p><p id="1b7b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您有一个返回10个文档的查询，它们将被计为10次读取。</p><p id="368e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你有一个实时监听器，每次你正在监听的文档的一部分发生变化，都会被认为是一次阅读。*根据我的测试，来自同一设备的写入所触发的更改似乎不会算作新的读取。</p><p id="1fbd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">相同的规则适用于写入和删除。</p><p id="470e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你如何估算你的游戏成本？</p><p id="8df5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，写操作的开销是读操作的3倍，因此这些可能是您需要小心的地方。</p><p id="4743" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你的大部分读写将来自游戏中的动作。对于空中战术，我能够从我的分析中看到一个完成的游戏需要每个玩家40步。这意味着80次写入(两个玩家)和80次读取。正如我上面所说的，实时监听器实际上会被触发160次，因为您会收到您或您的对手所做更改的更新，但您触发的更新不会被算作新的读取，因为它们发生在本地设备上。</p><p id="4b42" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于这80次写入和80次读取，有一些额外的写入用于创建游戏和加入游戏，还有一些额外的读取用于读取正在进行的游戏列表。</p><p id="1a12" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以我的平均值是<strong class="lb iu"> 100 </strong>读，<strong class="lb iu"> 100 </strong>写给<strong class="lb iu">每一个完成的游戏</strong>。所以这意味着我每天可以用<strong class="lb iu">免费</strong>得到<strong class="lb iu"> 200 </strong>个游戏。之后，每增加<strong class="lb iu"> 1000个游戏成品</strong>将花费高达<strong class="lb iu">0.18美元</strong>。</p><p id="6423" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这对于空中战术来说已经足够好了。由于我没有投入时间和金钱来推广这款游戏，现在我每天不超过200款游戏，所以我可以免费主持游戏，但我确保即使在某个时候我的用户数量激增，我也不必自掏腰包。游戏中有广告，每完成1000个游戏可以赚2美元左右，所以这应该可以覆盖Firestore的成本。</p><p id="4d3e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在实现这个解决方案之前，您也应该为您的游戏做这个估计。如果你有回合制游戏，这应该没问题，只要你有任何形式的货币化(广告或应用内购买)。对于每个游戏都有很多动作的实时游戏，成本可能太高，你最好使用另一个游戏平台，每月支付固定的费用。</p><p id="f6e7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">启动游戏后，您可以在Firebase控制台的数据库使用选项卡上检查读写操作:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/d4ce7b251ea1afa0ef45655b93848bd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C2NpKlTxe5klD3XsUG42pw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">写次数错误的Firestore使用选项卡</figcaption></figure><p id="7e52" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但请确保点击“计费和配额使用”以获得正确的数据，因为根据我的经验，这里的写永远不会正确。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/208537c2099ef77e4e57fda430c2d2eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BedWwbozr1_gwEJb8ezlHw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">正确读写的计费和配额使用</figcaption></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="76b7" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="ab95" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">这是我在Firebase上主持多人游戏的经历。我希望它能对你的游戏有所帮助，或者至少它能帮助决定这是否是你的场景的一个好的解决方案。除了我自己有问题的情况，我没有详细说明，但如果你需要任何澄清，请随时留下评论，我会尽我所能回答。</p></div></div>    
</body>
</html>