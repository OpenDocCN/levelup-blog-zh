<html>
<head>
<title>Dependency Injection in FastAPI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">FastAPI中的依赖注入</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/dependency-injection-in-fastapi-111e3e7aad28?source=collection_archive---------3-----------------------#2020-12-28">https://levelup.gitconnected.com/dependency-injection-in-fastapi-111e3e7aad28?source=collection_archive---------3-----------------------#2020-12-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2764" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">尽量减少代码中的重复</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/fc707e749ea6c2e03b5af52894291524.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qnpc_WjjW0E60zbOTIAdXw.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">萨拉·巴克西在<a class="ae ky" href="https://unsplash.com/s/photos/inject?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="ce24" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本教程中，我将揭开FastAPI中依赖注入背后的概念。供您参考，FastAPI现在自带了内置的依赖注入系统，允许您在构建API时更容易地集成组件。</p><p id="d73d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">依赖注入是编程中一个概念，其中一个对象接收它所依赖的其他对象。其他对象称为依赖关系。这最大限度地减少了代码重复，并使在您的系统上进行测试变得更加容易。</p><p id="ca37" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据官方文档，依赖注入提供了以下能力</p><ul class=""><li id="dabf" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">重用相同的共享逻辑</li><li id="834b" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">共享数据库连接</li><li id="b48e" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">实施身份验证和安全功能</li><li id="972e" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">还有很多其他的东西</li></ul><p id="e8b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您是FastAPI的新手，强烈建议您在继续之前阅读以下文章:</p><ul class=""><li id="a094" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated"><a class="ae ky" href="https://medium.com/better-programming/migrate-from-flask-to-fastapi-smoothly-cc4c6c255397" rel="noopener">顺利从烧瓶迁移到FastAPI】</a></li><li id="3cbf" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://medium.com/better-programming/metadata-and-additional-responses-in-fastapi-ea90a321d477" rel="noopener">FastAPI中的元数据和附加响应</a></li><li id="6029" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/4-useful-advanced-features-in-fastapi-f08e4db59637">FastAPI中4个有用的高级特性</a></li><li id="869b" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/how-to-save-uploaded-files-in-fastapi-90786851f1d3">如何在FastAPI中保存上传的文件</a></li><li id="65cd" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/how-to-restart-fastapi-server-with-bash-script-f05a5bfcec5c">如何用Bash脚本重启FastAPI</a></li><li id="a717" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/fastapi-how-to-process-incoming-requests-in-batches-b384a1406ec"> FastAPI:如何批量处理传入请求</a></li></ul><p id="57c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们进入下一节，开始深入研究依赖注入的基本用法。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="7713" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">没有依赖注入的简单服务器</h1><p id="c733" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">假设您有一个FastAPI服务器，它包含</p><ul class=""><li id="ac83" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">用户的路线</li><li id="8d27" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">管理员的路线</li></ul><p id="6567" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">两个路由操作都接受相同的查询参数，如下所示:</p><ul class=""><li id="fa00" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">身份证明（identification）</li><li id="12d4" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">名字</li><li id="8d75" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">年龄</li></ul><p id="1ee3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">代码应该是这样的</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="446f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种实现的一个主要缺点是，当出现新的变化(比如添加新的查询参数)时，您需要修改这两个路由操作。这不是可扩展的，需要不断的修改。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="9f1e" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">具有依赖注入的简单服务器</h1><p id="a5f4" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">使用依赖注入，您可以简单地将它包装成一个函数，当从路由操作中调用它时，该函数返回相应的对象。首先，您需要添加<code class="fe np nq nr ns b">Depends</code>导入语句</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="3657" class="nx mr it ns b gy ny nz l oa ob">from fastapi import Depends</span></pre><p id="5190" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，声明一个接受相应参数的新函数:</p><ul class=""><li id="0324" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">身份证明（identification）</li><li id="b92f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">名字</li><li id="4252" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">年龄</li></ul><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="71bb" class="nx mr it ns b gy ny nz l oa ob">async def common_parameters(id: str, name: str, age: int):<br/>    return {"id": id, "name": name, "age": age}</span></pre><p id="b29d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于返回的结果是一个字典，只需修改您的路径如下:</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="987e" class="nx mr it ns b gy ny nz l oa ob">@app.get("/user/")<br/>async def user(commons: dict = Depends(common_parameters)):<br/>    return commons</span></pre><p id="ecbb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以在下面的<a class="ae ky" href="https://gist.github.com/wfng92/216952d7e1b9b2f6469431957a43d996" rel="noopener ugc nofollow" target="_blank">要点</a>找到完整的代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="5923" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每当有新请求时，FastAPI将执行以下操作:</p><ul class=""><li id="7813" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">使用相应的参数调用依赖函数</li><li id="490e" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">从依赖函数返回结果</li><li id="f809" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">将结果分配给路线操作</li></ul><p id="40ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">事实上，你可以退回任何你喜欢的东西。通过这样做，只要查询参数有变化，就只需要修改依赖函数。因此，这种实现更加方便且可伸缩。您甚至可以在依赖函数中创建子依赖项。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="1f4e" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">作为依赖项的类</h1><p id="bf03" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">供您参考，您甚至可以使用类作为输入依赖项，而不是函数。只要输入依赖项是可调用的，它就会工作。与返回一个经常是晦涩难懂的字典相比，这为编辑提供了更好的支持和参考。</p><p id="46ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建一个新类，它接受相同的输入参数，并将它们赋给相应的变量。</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="f500" class="nx mr it ns b gy ny nz l oa ob">class CommonQueryParams:<br/>    def __init__(self, id: str, name: str, age: int):<br/>        self.id = id<br/>        self.name = name<br/>        self.age = age</span></pre><p id="89ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">之后，只需修改查询参数</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="8a7e" class="nx mr it ns b gy ny nz l oa ob">commons: dict = Depends(common_parameters)</span></pre><p id="b332" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">到下面</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="6c79" class="nx mr it ns b gy ny nz l oa ob">commons: CommonQueryParams = Depends(CommonQueryParams)</span></pre><p id="9a3e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">新的更新代码应该如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="4f16" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无论是否使用依赖注入，结果和输出都是一样的。然而，使用依赖注入来编码和维护要容易得多。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="0374" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">装饰者中的依赖注入</h1><p id="80c3" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">上面给出的所有例子都是基于路由操作函数中的依赖注入。事实上，您也可以在decorators内部使用它。主要区别在于，装饰器对于不返回值的依赖项很有用。</p><p id="c245" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，注入一个依赖函数，根据id验证用户是否是管理员。在这种情况下，您可以直接返回一个<code class="fe np nq nr ns b">HTTPException</code>,而不需要将任何值传递回路由操作。记住在Python文件的顶部添加下面的导入声明，以便使用<code class="fe np nq nr ns b">HTTPException</code>。</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="9161" class="nx mr it ns b gy ny nz l oa ob">from fastapi import Depends, FastAPI, HTTPException</span></pre><p id="cb82" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们用以前的类作为依赖关系的例子。在文件中添加以下函数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><ul class=""><li id="b714" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated"><code class="fe np nq nr ns b">verify_age</code> —检查<code class="fe np nq nr ns b">age</code>是否至少18岁及以上。</li><li id="509e" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><code class="fe np nq nr ns b">verify_age</code> —验证<code class="fe np nq nr ns b">id</code>是否属于管理员。</li></ul><p id="feb2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">按如下方式修改路线操作。我将返回一个JSON响应，因为依赖项不会返回任何响应。</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="0976" class="nx mr it ns b gy ny nz l oa ob">@app.get("/user/", dependencies=[Depends(verify_age)])<br/>async def user():<br/>    return {"message": "Successfully accesed user page"}</span></pre><p id="b9c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以指定附加的<code class="fe np nq nr ns b">dependencies</code>参数，该参数接受一个<code class="fe np nq nr ns b">Depends</code>列表。这意味着您可以将多个依赖项叠加到单个路由操作中。例如，您可以使用下面的代码来检查输入是否是admin并且至少18岁。</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="4a63" class="nx mr it ns b gy ny nz l oa ob">dependencies=[Depends(verify_admin), Depends(verify_age)]</span></pre><p id="e48e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完整的代码如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="c488" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">试验</h1><p id="ca11" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在命令行中运行以下命令进行测试。相应地修改名称。我在这个教程中使用的是<code class="fe np nq nr ns b">myapp.py</code>。</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="40a8" class="nx mr it ns b gy ny nz l oa ob">uvicorn myapp:app</span></pre><h2 id="9d75" class="nx mr it bd ms oc od dn mw oe of dp na li og oh nc lm oi oj ne lq ok ol ng om bi translated">管理员，年龄至少18岁</h2><p id="f399" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在您的浏览器中浏览以下网址。</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="aac8" class="nx mr it ns b gy ny nz l oa ob">http://localhost:8000/admin/?id=ID0001&amp;name=wfng&amp;age=18</span></pre><p id="f71e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该得到以下输出</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="15e6" class="nx mr it ns b gy ny nz l oa ob">{"message":"Successfully accessed admin page"}</span></pre><h2 id="be70" class="nx mr it bd ms oc od dn mw oe of dp na li og oh nc lm oi oj ne lq ok ol ng om bi translated">管理员，年龄小于18岁</h2><p id="dae7" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">我们用15代替<code class="fe np nq nr ns b">age</code>试试吧。</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="8a12" class="nx mr it ns b gy ny nz l oa ob">http://localhost:8000/admin/?id=ID0001&amp;name=wfng&amp;age=15</span></pre><p id="2b51" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您的浏览器将输出以下错误消息。</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="d4c4" class="nx mr it ns b gy ny nz l oa ob">{"detail":"Requires adult supervision"}</span></pre><h2 id="d0dd" class="nx mr it bd ms oc od dn mw oe of dp na li og oh nc lm oi oj ne lq ok ol ng om bi translated">不是管理员</h2><p id="f2a4" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">使用以下URL试用非管理员</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="f660" class="nx mr it ns b gy ny nz l oa ob">http://localhost:8000/admin/?id=ID0002&amp;name=wfng&amp;age=15</span></pre><p id="6ec0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无论输入年龄是否至少为18岁，都会得到以下结果。这仅仅是因为依赖关系是按顺序调用的。</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="03de" class="nx mr it ns b gy ny nz l oa ob">{"detail":"Requires admin access"}</span></pre></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="657e" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">结论</h1><p id="0397" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">让我们回顾一下今天所学的内容。</p><p id="422c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们首先简要解释了依赖注入的概念及其在FastAPI中的工作原理。</p><p id="90c9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，我们继续向简单的FastAPI服务器添加依赖注入。</p><p id="6abb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们通过将依赖函数更改为Python类来进一步改进它，因为只要相应的依赖项是可调用的，它就会工作。</p><p id="91d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我们深入研究并直接在decorators中实现了依赖关系，这对于不返回任何形式响应的依赖关系来说是理想的。</p><p id="06f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您阅读这篇文章！希望在下一篇文章中再见到你！</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="7f87" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">参考</h1><ol class=""><li id="da84" class="lv lw it lb b lc ni lf nj li on lm oo lq op lu oq mb mc md bi translated"><a class="ae ky" href="https://fastapi.tiangolo.com/tutorial/dependencies/" rel="noopener ugc nofollow" target="_blank"> FastAPI —依赖关系:第一步</a></li><li id="db3d" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu oq mb mc md bi translated"><a class="ae ky" href="https://fastapi.tiangolo.com/tutorial/dependencies/classes-as-dependencies/" rel="noopener ugc nofollow" target="_blank"> FastAPI —作为依赖关系的类</a></li><li id="f850" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu oq mb mc md bi translated"><a class="ae ky" href="https://fastapi.tiangolo.com/tutorial/dependencies/dependencies-in-path-operation-decorators/" rel="noopener ugc nofollow" target="_blank"> FastAPI —路径操作装饰器中的依赖关系</a></li></ol></div></div>    
</body>
</html>