<html>
<head>
<title>Make Your Next.js App SEO Friendly With Dynamic Routes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用动态路线使您的Next.js应用程序SEO友好</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/make-your-next-js-app-seo-friendly-with-dynamic-routes-71e0fd1adb92?source=collection_archive---------7-----------------------#2022-12-28">https://levelup.gitconnected.com/make-your-next-js-app-seo-friendly-with-dynamic-routes-71e0fd1adb92?source=collection_archive---------7-----------------------#2022-12-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/cbbc85c191e8de7668b1b2cb186022d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wprdxExoaywIMoN4xu-gHw.png"/></div></div></figure><p id="79c0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">js是一个流行的框架，用于构建服务器呈现的React应用程序。Next.js的一个关键特性是它能够根据运行时获取的数据动态呈现页面。这意味着页面的数据不依赖于要加载的组件。加载页面的额外时间会影响SEO，因为它会呈现空内容。</p><p id="5ca2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">首先，我们需要让我们的应用程序知道这些动态路线，以便我们的SEO数据可以被web浏览器和搜索引擎机器人看到。</p><p id="dfb1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们将使用函数<code class="fe kz la lb lc b">getStaticPaths</code>来生成动态URL。</p><pre class="ld le lf lg gt lh lc li bn lj lk bi"><span id="5a40" class="ll lm it lc b be ln lo l lp lq">export const getStaticPaths = async () =&gt; {<br/>  const url = 'https://api-url/posts'<br/>  const res = await fetch(url); // raw response<br/>  const posts = await res.json(); // turns it into readable data<br/>  <br/>  // maps through all the posts and return the string of our endpoint using the route param (post.slug)<br/>  return {<br/>    paths:posts.map((post) =&gt; `/blog/${post.slug}`) || [],<br/>    fallback:false<br/>  };<br/>}</span></pre><p id="2d35" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当你用像<a class="ae lr" href="https://www.screamingfrog.co.uk/seo-spider/" rel="noopener ugc nofollow" target="_blank">尖叫的青蛙</a>或<a class="ae lr" href="https://ahrefs.com/" rel="noopener ugc nofollow" target="_blank"> Ahrefs </a>这样的工具进行搜索引擎优化扫描时，你将能够在运行你的构建时看到这些链接。您还可以使用您的<code class="fe kz la lb lc b">robots.txt</code>文件来确定哪些链接被SERPs看到。</p><p id="4d07" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这是我目前的搜索引擎优化分数。</p><figure class="ld le lf lg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ls"><img src="../Images/ef07f04de2aac37c79d1eebf2404e646.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CQoCpgRa4iyULCBMwdp72A.png"/></div></div></figure><p id="c7f6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我有一些警告，但总的来说，我的链接是可读和可索引的，包括我的服务器端呈现的页面。</p><h1 id="008d" class="lt lm it bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">呈现动态页面内容</h1><p id="7349" class="pw-post-body-paragraph kb kc it kd b ke mq kg kh ki mr kk kl km ms ko kp kq mt ks kt ku mu kw kx ky im bi translated">要在Next.js中呈现动态页面，您需要使用一个名为<code class="fe kz la lb lc b">getStaticProps</code>的服务器端函数。这将允许您获取数据，然后将其作为道具传递给React组件。</p><p id="0f60" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">下面是一个如何使用<code class="fe kz la lb lc b">getStaticProps</code>从API获取博客文章并将其传递给页面组件的示例:</p><pre class="ld le lf lg gt lh lc li bn lj lk bi"><span id="fce3" class="ll lm it lc b be ln lo l lp lq">// Single Post (pages/blog/[id].js)<br/>import { getStaticProps } from 'next';<br/><br/>const Post = ({ post }) =&gt; {<br/>  const router = useRouter();<br/>  <br/>  // Technical SEO Tags<br/>  const HTMLHead = ({<br/>    title,<br/>    description,<br/>    robots,<br/>    type,<br/>    locale,<br/>    pageURL,<br/>    site_name,<br/>    canonicalLink<br/>  }) =&gt; {<br/>    return (<br/>      &lt;Head&gt;<br/>        &lt;title&gt;{title}&lt;/title&gt;<br/>        &lt;meta name='description' content={description} /&gt;<br/>        &lt;meta name='viewport' content='width=device-width, initial-scale=1' /&gt;<br/>        &lt;meta name='robots' content={robots} /&gt;<br/>        &lt;meta property='og:title' content={title} /&gt;<br/>        &lt;meta property='og:locale' content={locale ? locale : 'en-US'} /&gt;<br/>        &lt;meta property='og:type' content={type} /&gt;<br/>        &lt;meta property='og:description' content={description}/&gt;<br/>        &lt;meta property='og:url' content={pageURL} /&gt;<br/>        &lt;meta property='og:site_name' content={site_name} /&gt;<br/>        &lt;meta name='twitter:description' content={description} /&gt;<br/>        &lt;meta name='twitter:title' content={title} /&gt;<br/>        &lt;link rel='canonical' href={canonicalLink} /&gt;<br/>      &lt;/Head&gt;<br/>    );<br/>  }  <br/>  <br/>  // Error handling<br/>  if (!router.isFallback &amp;&amp; !post[0]?.slug) {<br/>    return &lt;ErrorPage statusCode={404} /&gt;<br/>  }<br/><br/>  return (<br/>    &lt;&gt;<br/>      &lt;HTMLHead <br/>        title={post[0].title.rendered} <br/>        description={post[0].excerpt?.rendered.replace(/&lt;[^&gt;]+&gt;/g, '')}<br/>        pageURL={`https://www.domain.co/blog/${post[0].slug}`} <br/>        canonicalLink={`https://www.domain.co/blog/${post[0].slug}`}<br/>         ...<br/>      /&gt;<br/>      &lt;Container className='blog-post-container' maxWidth='md'&gt;<br/>        &lt;Box mt={15}&gt;<br/>          &lt;article&gt;<br/>            &lt;Typography variant='h1'&gt;{post[0].title.rendered}&lt;/Typography&gt;<br/>            &lt;div<br/>              dangerouslySetInnerHTML={{<br/>                __html: post[0] &amp;&amp; post[0].content.rendered<br/>              }}<br/>            /&gt;<br/>          &lt;/article&gt;<br/>        &lt;/Box&gt;<br/>      &lt;/Container&gt;<br/>    &lt;/&gt;<br/>  )<br/>}<br/><br/><br/>export const getStaticProps = async ({ params }) =&gt; {<br/>  const { id } = params; // what will be used to fetch the content (single post)<br/>  const url = `${your_api_url}posts?slug=${id}`; <br/>  const post_raw = await fetch(url)<br/>  const post = await post_raw.json()<br/><br/>  return {<br/>    props: {<br/>      params,<br/>      post,<br/>      id,<br/>    },<br/>  };<br/>}<br/><br/>export default Post;</span></pre><p id="13eb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">确保参数id或slug与<code class="fe kz la lb lc b">url</code>中使用的id名称相匹配。该id将用于获取您的帖子的路线中。</p><p id="af47" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">例如，如果你正在使用<code class="fe kz la lb lc b">[slug].js</code>，确保你的URL看起来像这样。</p><pre class="ld le lf lg gt lh lc li bn lj lk bi"><span id="0e83" class="ll lm it lc b be ln lo l lp lq">const { slug } = params;<br/><br/>... <br/>return {<br/>    props: {<br/>      params,<br/>      post,<br/>      slug,<br/>    },<br/>  };</span></pre><h1 id="61b8" class="lt lm it bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">SEO头</h1><p id="9d09" class="pw-post-body-paragraph kb kc it kd b ke mq kg kh ki mr kk kl km ms ko kp kq mt ks kt ku mu kw kx ky im bi translated">HTML中的<code class="fe kz la lb lc b">&lt;head&gt;</code>元素是元数据(关于文档的信息，比如标题、到样式表的链接、脚本和其他资源)的容器。</p><p id="c876" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe kz la lb lc b">&lt;head&gt;</code>元素很重要，因为它提供了与页面内容不直接相关的文档信息，但对于浏览器和搜索引擎正确解释和显示页面仍然是必要的。</p><p id="f7e7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">可以包含在<code class="fe kz la lb lc b">&lt;head&gt;</code>元素中的一些常见元素有:</p><ul class=""><li id="835e" class="mv mw it kd b ke kf ki kj km mx kq my ku mz ky na nb nc nd bi translated"><code class="fe kz la lb lc b">&lt;title&gt;</code>:该元素指定文档的标题，显示在浏览器的标题栏或标签页中，搜索引擎将其作为搜索结果中页面的标题。</li><li id="0e38" class="mv mw it kd b ke ne ki nf km ng kq nh ku ni ky na nb nc nd bi translated"><code class="fe kz la lb lc b">&lt;meta&gt;</code>:该元素用于提供关于文档的元数据，比如描述、关键字、字符集和其他信息。</li><li id="15c4" class="mv mw it kd b ke ne ki nf km ng kq nh ku ni ky na nb nc nd bi translated"><code class="fe kz la lb lc b">&lt;link&gt;</code>:这个元素用来链接外部资源，比如样式表和字体。</li><li id="3771" class="mv mw it kd b ke ne ki nf km ng kq nh ku ni ky na nb nc nd bi translated"><code class="fe kz la lb lc b">&lt;script&gt;</code>:这个元素用于在文档中包含脚本，比如JavaScript。</li></ul><p id="c410" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">通过在<code class="fe kz la lb lc b">&lt;head&gt;</code>元素中包含必要的元数据，可以确保浏览器和搜索引擎正确解释和显示您的Nextjs应用程序。因此，将它包含在Nextjs应用程序的页面中是一个重要的元素。</p><p id="3044" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这里是一个自定义的<code class="fe kz la lb lc b">&lt;HTMLHead/&gt;</code>组件，我创建来处理我的技术搜索引擎优化。</p><pre class="ld le lf lg gt lh lc li bn lj lk bi"><span id="5443" class="ll lm it lc b be ln lo l lp lq">const HTMLHead = ({<br/>    title,<br/>    description,<br/>    robots,<br/>    type,<br/>    locale,<br/>    pageURL,<br/>    site_name,<br/>    canonicalLink<br/>  }) =&gt; {<br/>    return (<br/>      &lt;Head&gt;<br/>        &lt;title&gt;{title}&lt;/title&gt;<br/>        &lt;meta name='description' content={description} /&gt;<br/>        &lt;meta name='viewport' content='width=device-width, initial-scale=1' /&gt;<br/>        &lt;meta name='robots' content={robots} /&gt;<br/>        &lt;meta property='og:title' content={title} /&gt;<br/>        &lt;meta property='og:locale' content={locale ? locale : 'en-US'} /&gt;<br/>        &lt;meta property='og:type' content={type} /&gt;<br/>        &lt;meta property='og:description' content={description}/&gt;<br/>        &lt;meta property='og:url' content={pageURL} /&gt;<br/>        &lt;meta property='og:site_name' content={site_name} /&gt;<br/>        &lt;meta name='twitter:description' content={description} /&gt;<br/>        &lt;meta name='twitter:title' content={title} /&gt;<br/>        &lt;link rel='canonical' href={canonicalLink} /&gt;<br/>      &lt;/Head&gt;<br/>    );<br/>  }</span></pre><h2 id="9793" class="nj lm it bd lu nk nl dn ly nm nn dp mc km no np mg kq nq nr mk ku ns nt mo nu bi translated">标题</h2><p id="f5dc" class="pw-post-body-paragraph kb kc it kd b ke mq kg kh ki mr kk kl km ms ko kp kq mt ks kt ku mu kw kx ky im bi translated">这就是你的标题。这将是用户在访问你的网站之前首先看到的</p><figure class="ld le lf lg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nv"><img src="../Images/53545d85c37f298bd1a280a5f3378b94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UF_xygWLuMeieVGUXWumeg.png"/></div></div></figure><h2 id="7226" class="nj lm it bd lu nk nl dn ly nm nn dp mc km no np mg kq nq nr mk ku ns nt mo nu bi translated">描述</h2><p id="aaf0" class="pw-post-body-paragraph kb kc it kd b ke mq kg kh ki mr kk kl km ms ko kp kq mt ks kt ku mu kw kx ky im bi translated">标题下面是描述，其中包含对您的站点的简要描述。</p><h2 id="5431" class="nj lm it bd lu nk nl dn ly nm nn dp mc km no np mg kq nq nr mk ku ns nt mo nu bi translated">视口</h2><p id="edda" class="pw-post-body-paragraph kb kc it kd b ke mq kg kh ki mr kk kl km ms ko kp kq mt ks kt ku mu kw kx ky im bi translated">我使用viewport标签来确保内容以正确的比例适合移动和桌面屏幕。</p><h2 id="a18d" class="nj lm it bd lu nk nl dn ly nm nn dp mc km no np mg kq nq nr mk ku ns nt mo nu bi translated">OG(开放图形)标签</h2><p id="3d33" class="pw-post-body-paragraph kb kc it kd b ke mq kg kh ki mr kk kl km ms ko kp kq mt ks kt ku mu kw kx ky im bi translated">OG标签，也称为开放图形标签，是用于指定网页信息的HTML元标签。</p><figure class="ld le lf lg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nw"><img src="../Images/b089d869bd5fe747cda9a78ab2d8b0d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KUehmpZMmKDTJqBYNnZjnw.png"/></div></div></figure><h2 id="b540" class="nj lm it bd lu nk nl dn ly nm nn dp mc km no np mg kq nq nr mk ku ns nt mo nu bi translated">规范的URL</h2><p id="816e" class="pw-post-body-paragraph kb kc it kd b ke mq kg kh ki mr kk kl km ms ko kp kq mt ks kt ku mu kw kx ky im bi translated">当有多个内容相似或相同的页面时，规范URL用于指定网页的首选版本。它们有助于防止重复内容问题，并确保搜索引擎能够正确抓取和索引您的网站。</p><p id="9bf5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当网页具有指向相同或相似内容的多个URL时，搜索引擎可能会将这些URL视为重复内容，并且可能不知道在搜索结果中包括哪个URL。这可能导致网页在搜索结果中被惩罚或排名不靠前。</p><p id="9415" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">通过为网页指定规范的URL，您可以告诉搜索引擎哪个URL是页面的首选版本，应该包含在搜索结果中。这有助于确保在搜索结果中显示正确的页面，并可以提高页面的搜索排名。</p><h2 id="eafa" class="nj lm it bd lu nk nl dn ly nm nn dp mc km no np mg kq nq nr mk ku ns nt mo nu bi translated">关键词(可选)</h2><p id="7034" class="pw-post-body-paragraph kb kc it kd b ke mq kg kh ki mr kk kl km ms ko kp kq mt ks kt ku mu kw kx ky im bi translated">关键词标签，也称为元关键词，曾经是指定与网页相关的关键词或短语的常用方式。然而，它们不再被搜索引擎用作排名因素，并且对SEO几乎没有影响。</p><p id="0da0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然而，搜索引擎很快发现，web开发者在他们的元关键字标签中包含不相关的或垃圾的关键字，试图操纵他们的搜索排名。因此，搜索引擎停止使用元关键字标签作为排名因素，现在在确定网页的相关性时不考虑它。</p><p id="f489" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">事实上，Google的John Mueller已经声明“元关键字标签的使用是我们根本不会考虑的事情。”</p><p id="a402" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">所以，关键词标签对于2023年或者其他任何一年的SEO都不重要。相反，更重要的是专注于创建高质量的相关内容，并使用其他SEO技术，如优化标题和描述标签，并为图像使用标题标签和alt标签。</p><h1 id="35b4" class="lt lm it bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">最后的想法</h1><p id="6eb6" class="pw-post-body-paragraph kb kc it kd b ke mq kg kh ki mr kk kl km ms ko kp kq mt ks kt ku mu kw kx ky im bi translated">在Next.js应用程序中使用SEO有几个好处:</p><ol class=""><li id="4413" class="mv mw it kd b ke kf ki kj km mx kq my ku mz ky nx nb nc nd bi translated">提高可见性:通过为搜索引擎优化您的Nextjs应用程序，您可以提高它在搜索结果中的可见性，这可以带来更多的流量和销售。</li><li id="7928" class="mv mw it kd b ke ne ki nf km ng kq nh ku ni ky nx nb nc nd bi translated">更好的用户体验:SEO可以让用户更容易地找到和浏览网站，从而有助于改善应用程序的用户体验。这可以带来更高的参与度和转化率。</li><li id="5512" class="mv mw it kd b ke ne ki nf km ng kq nh ku ni ky nx nb nc nd bi translated">更高的可信度:一个优化良好的网站可以与用户建立信誉和信任，从而增加销售额和收入。</li><li id="2a11" class="mv mw it kd b ke ne ki nf km ng kq nh ku ni ky nx nb nc nd bi translated">竞争优势:通过为SEO优化你的Nextjs应用程序，你可以比其他没有优化的网站获得竞争优势。</li><li id="a30c" class="mv mw it kd b ke ne ki nf km ng kq nh ku ni ky nx nb nc nd bi translated">长期结果:与付费广告不同，付费广告可以在你停止付费后立即停止，搜索引擎优化的好处可以在长期内继续得到回报。</li></ol><p id="ea3b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae lr" href="https://www.digyt.co/blog" rel="noopener ugc nofollow" target="_blank">访问我的博客了解更多信息</a></p></div><div class="ab cl ny nz hx oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="im in io ip iq"><p id="6644" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">感谢阅读！</p></div><div class="ab cl ny nz hx oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="im in io ip iq"><h1 id="535c" class="lt lm it bd lu lv of lx ly lz og mb mc md oh mf mg mh oi mj mk ml oj mn mo mp bi translated">分级编码</h1><p id="247b" class="pw-post-body-paragraph kb kc it kd b ke mq kg kh ki mr kk kl km ms ko kp kq mt ks kt ku mu kw kx ky im bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="b11b" class="mv mw it kd b ke kf ki kj km mx kq my ku mz ky na nb nc nd bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="5c52" class="mv mw it kd b ke ne ki nf km ng kq nh ku ni ky na nb nc nd bi translated">📰更多内容请查看<a class="ae lr" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">升级编码刊物</a></li><li id="1afd" class="mv mw it kd b ke ne ki nf km ng kq nh ku ni ky na nb nc nd bi translated">🔔关注我们:<a class="ae lr" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">推特</a> | <a class="ae lr" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a> | <a class="ae lr" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="8f95" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">🚀👉<a class="ae lr" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kd iu">加入升级人才集体，找到一份神奇的工作</strong> </a></p></div></div>    
</body>
</html>