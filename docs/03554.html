<html>
<head>
<title>JavaScript Best Practices for Writing More Robust Code — Doing Checks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">编写更健壮代码的JavaScript最佳实践——做检查</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/javascript-best-practices-for-writing-more-robust-code-doing-checks-96246ea394da?source=collection_archive---------13-----------------------#2020-05-15">https://levelup.gitconnected.com/javascript-best-practices-for-writing-more-robust-code-doing-checks-96246ea394da?source=collection_archive---------13-----------------------#2020-05-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/8ea50bb4edeb7ddb94a9cea8ebaeb3d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tWzsfJmKvYCI2m4a"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">戴维·克洛德在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="3536" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">JavaScript是一种简单易学的编程语言。编写运行并执行某些操作的程序很容易。然而，很难考虑所有的用例并编写健壮的JavaScript代码。</p><p id="5f92" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这篇文章中，我们将看看如何在我们的应用程序中进行检查，以便只在给定的条件为真或假时运行。</p><h1 id="c750" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">我们应该做的检查类型</h1><p id="253c" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">如果我们希望JavaScript程序健壮。然后，我们必须在应用程序中进行一些检查。</p><p id="f8e5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有三种支票。它们是:</p><ul class=""><li id="ebfc" class="mh mi it ki b kj kk kn ko kr mj kv mk kz ml ld mm mn mo mp bi translated">存在检查——检查某物是否可用</li><li id="5bac" class="mh mi it ki b kj mq kn mr kr ms kv mt kz mu ld mm mn mo mp bi translated">类型检查-检查数据类型是否正确或属性是否存在</li><li id="9a58" class="mh mi it ki b kj mq kn mr kr ms kv mt kz mu ld mm mn mo mp bi translated">价值检查——检查某样东西是否具有我们正在寻找的价值</li></ul><h1 id="1c0b" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">条件语句</h1><p id="16c0" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以用条件语句检查值并相应地运行代码。JavaScript中有几种类型的条件语句。它们包括<code class="fe mv mw mx my b">if</code>语句、<code class="fe mv mw mx my b">switch</code>语句和三元运算符。</p><p id="0a83" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mv mw mx my b">if</code>语句是最通用的一种条件语句。如果<code class="fe mv mw mx my b">if</code>语句中的表达式为真，则运行代码。</p><p id="e31b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">真值表达式是当它们被强制为布尔值时，计算结果为<code class="fe mv mw mx my b">true</code>的表达式。当被强制为布尔值时，Falsy表达式的计算结果为<code class="fe mv mw mx my b">false</code>。</p><p id="5349" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">JavaScript中的Falsy值有0、<code class="fe mv mw mx my b">false</code>、<code class="fe mv mw mx my b">''</code>(空字符串)、<code class="fe mv mw mx my b">undefined</code>、<code class="fe mv mw mx my b">null</code>和<code class="fe mv mw mx my b">NaN</code>。其他一切都是真实的。</p><p id="a4ee" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以编写下面的<code class="fe mv mw mx my b">if</code>语句:</p><pre class="mz na nb nc gt nd my ne nf aw ng bi"><span id="f380" class="nh lf it my b gy ni nj l nk nl">if (foo === 1) {<br/>  //...<br/>} else if (foo === 2) {<br/>  //...<br/>} else {<br/>  //...<br/>}</span></pre><p id="ac44" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们在<code class="fe mv mw mx my b">if</code>语句中进行了几次检查。首先，我们用<code class="fe mv mw mx my b">===</code>操作符检查<code class="fe mv mw mx my b">foo</code>是否为1，如果为<code class="fe mv mw mx my b">true</code>则运行一些操作。</p><p id="00ab" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">否则，我们检查<code class="fe mv mw mx my b">foo</code>是否是2，如果是<code class="fe mv mw mx my b">true</code>，那么我们运行一些东西。</p><p id="2915" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在所有其他情况下，如最后的<code class="fe mv mw mx my b">else</code>块所示，如果<code class="fe mv mw mx my b">foo</code>不是1或2，我们就运行一些东西。</p><p id="90f9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在检查东西的时候，我们应该使用<code class="fe mv mw mx my b">===</code>操作符来进行检查。如果我们想检查某物是否不等于某物，那么我们使用<code class="fe mv mw mx my b">!==</code>操作符。</p><p id="b7d0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是因为在进行比较之前，它们不会进行类型强制。</p><h1 id="43ab" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">Switch语句</h1><p id="d094" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">上面的这种比较也可以用<code class="fe mv mw mx my b">switch</code>语句来做。</p><p id="cb42" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以用下面的<code class="fe mv mw mx my b">switch</code>语句重写我们的例子:</p><pre class="mz na nb nc gt nd my ne nf aw ng bi"><span id="2185" class="nh lf it my b gy ni nj l nk nl">switch (foo) {<br/>  case 1: {<br/>    //...<br/>    break;<br/>  }<br/>  case 2: {<br/>    //...<br/>    break;<br/>  }<br/>  default: {<br/>    //...<br/>    break;<br/>  }<br/>}</span></pre><p id="152f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们有<code class="fe mv mw mx my b">switch (foo)</code>，它表示我们检查<code class="fe mv mw mx my b">foo</code>的给定值。在这种情况下，我们检查1和2，如<code class="fe mv mw mx my b">case</code>块所示。如果<code class="fe mv mw mx my b">foo</code>分别为1或2，它们用于运行代码。</p><p id="7c49" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们将<code class="fe mv mw mx my b">case</code>语句放在块中，这样我们就不必担心块范围内的变量与同名的其他块范围内的变量发生冲突。</p><p id="5ec3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">同样重要的是，我们在每个块的末尾使用了<code class="fe mv mw mx my b">break;</code>语句，这样其他情况下的代码就不会运行，只有匹配的代码块才会运行。</p><p id="f5e1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mv mw mx my b">default</code>块用于当<code class="fe mv mw mx my b">foo</code>不是1或2，或者通常与<code class="fe mv mw mx my b">case</code>块中给出的情况不匹配时运行代码。</p><p id="28fe" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这就像我们在<code class="fe mv mw mx my b">if</code>语句示例中的<code class="fe mv mw mx my b">else</code>块。</p><h1 id="6d0c" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">三元运算符</h1><p id="f701" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">三元运算符对于编写只有两种情况的条件检查非常有用，我们希望为一种情况返回一些内容，为另一种情况返回一些内容。</p><p id="197d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">运算符用<code class="fe mv mw mx my b">?</code>表示，我们用<code class="fe mv mw mx my b">:</code>运算符区分情况。</p><p id="2045" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以如下使用它:</p><pre class="mz na nb nc gt nd my ne nf aw ng bi"><span id="c49c" class="nh lf it my b gy ni nj l nk nl">const foo = 1;<br/>const x = (foo === 1 ? 'foo' : 'bar');</span></pre><p id="2813" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们有一个表达式:</p><pre class="mz na nb nc gt nd my ne nf aw ng bi"><span id="5ac0" class="nh lf it my b gy ni nj l nk nl">(foo === 1 ? 'foo' : 'bar')</span></pre><p id="dd97" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它使用三元运算符。这个表达式意味着如果<code class="fe mv mw mx my b">foo</code>为1，那么我们返回<code class="fe mv mw mx my b">'foo'</code>。否则，我们返回<code class="fe mv mw mx my b">'bar'</code>。</p><p id="eb62" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，因为<code class="fe mv mw mx my b">foo</code>为1，所以返回<code class="fe mv mw mx my b">'foo'</code>，我们将其赋给<code class="fe mv mw mx my b">x</code>。</p><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nm"><img src="../Images/2e8d6a72da1157200a995cfbed061897.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Hsn4xMYAIsQDnuSM"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">d照片由<a class="ae kf" href="https://unsplash.com/@pl_low?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Leslie Low </a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="ba0e" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="605f" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们应该在我们的应用程序中进行多种检查，以确保我们的应用程序正确运行，并且只在我们拥有所需数据时才执行操作。</p><p id="f79a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了进行检查，我们应该使用条件语句，如<code class="fe mv mw mx my b">if</code>语句、<code class="fe mv mw mx my b">switch</code>语句或三元表达式。</p></div></div>    
</body>
</html>