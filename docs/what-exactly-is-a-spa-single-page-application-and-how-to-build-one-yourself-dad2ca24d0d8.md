# 到底什么是 SPA(单页应用程序)以及如何自己构建一个？

> 原文：<https://levelup.gitconnected.com/what-exactly-is-a-spa-single-page-application-and-how-to-build-one-yourself-dad2ca24d0d8>

![](img/eedf7771adf81953456d986fd508f08f.png)

卢卡·布拉沃在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片

回到过去，当万维网在其领域还是一项新技术时，很少有人会想到在未来的几年里，它会成为计算的一个关键部分。

很长一段时间，人们对原生桌面应用程序的强大和严谨感到惊讶。与此同时，在创建这些应用程序时，有许多挑战需要应对——这根本不是轻而易举的事情！

然而，网络改变了这种思维模式，并为应用程序开发的全新时代铺平了道路，所有这些都是在三种基本而神奇的技术领域内完成的——HTML、CSS 和 JavaScript。

这场网络革命带给我们的是一种叫做 ***的单页应用***或者简称为 ***SPAs*** 的东西。

如今，包括脸书、推特、网飞、Spotify 等在内的知名公司都以水疗中心的形式出现在网上。

在这篇文章中，我们将深入探讨什么是水疗中心，以及如何建立自己的水疗中心。

让我们开始吧…

# 目录

1.  什么是 SPA？
2.  SPA 中涉及的技术
3.  水疗是如何运作的？
4.  帮助构建 SPA 的框架和库
5.  我们能在这里建一个温泉浴场吗🍦香草科技？

# 什么是 SPA？

从最简单的事情开始， ***SPA*** 是 ***单页应用*** 的缩写。

> ****

现在，短语*‘单页’*到底是从哪里来的，我们稍后会讲到。

与单页面应用相对的是 ***多页面应用*** ，缩写为 ***MPA*** ，有时也被称为 ***传统 web 应用*** 。

众所周知，在传统的 web 应用程序中，大多数逻辑工作都是由**服务器**处理的。

当我们登录和注销帐户、打开新链接、播放媒体、在历史堆栈中来回导航时，每次都会向后端服务器发出新的请求，后端服务器会处理该请求，检查它是否能被成功接受，然后最终以适当的格式返回相应的信息。

所有的模板也发生在服务器上。HTML 的片段通过给定的后端编程语言(如 PHP、Python、Ruby、Java 等)注入到文本文档中。

简而言之，**服务器**执行传统 web 应用程序中的所有繁重工作。

温泉是完全相反的。

> 在 SPA 中，所有繁重的工作都从服务器转移到了**客户端**，特别是 JavaScript。

当我们登录和注销帐户，打开新链接，播放媒体，在历史堆栈中来回导航时，每次都可能向服务器发出新的请求*，但这次不是直接向服务器发出*，*而是在*后台发出*，这都要感谢强大的`**XMLHttpRequest**`接口。*

*在上面的段落中，我们说'*可能是向服务器'*'发出的，因为根本不一定是向服务器发出请求。根据应用程序的架构，可能会有一个本地缓存(在浏览器中)来保存以前加载的信息，在这种情况下，我们可以只转向本地缓存，并从那里检索所需的信息。*

*在 SPA 中，服务器不必在它的文件系统中一次又一次地搜索给定的文件，或者在给定的模板中注入 HTML，或者在响应中传递大量的有效负载——客户端**几乎处理所有的事情。***

*在一个 SPA 中跟踪多个事件，并以适当的动作响应，否则(如果应用程序是传统的)将必须发出服务器请求，最终将后端带入游戏。*

*说服务器完全脱离了 SPA 是完全错误的。*

**完全没有！**

*只是服务器在整个应用程序中的参与程度大大降低了。*

*尽管如此，仍然存在关于文件、会话细节、某些静态资产(例如 CSS 文件、图像、音频文件等)的元信息。)必须由服务器提供服务。它甚至在温泉中也有它的工作，但肯定是一个不那么累的工作。*

*现在，由于所有的重载都是在 SPA 中的客户端上执行的，所以执行这种重载的所有必要的 CSS 样式表和 JavaScript 文件都在第一次加载 HTML 页面时加载，这是以传统方式请求的。*

> *注意:以传统方式在选项卡中加载页面时，浏览器的选项卡面板上通常会显示一个加载微调器图标。*

*此后，不再向服务器发出请求 HTML 页面的传统请求。传递的第一个 HTML 页面是当前会话传递的最后一个 HTML 页面。*

*换句话说，SPA 是由一个**单一 HTML 页面**(包含所有必要的样式和脚本)支持的。这就是我们称之为*【单页】*应用程序的原因。也就是说，一个 HTML 页面就足以构成一个成熟的 web 应用程序。*

*现在让我们讨论一下 SPA 中使用的技术。*

# *水疗中使用的技术*

*SPA 是使用各种各样的 web 技术构建的。*

*让我们列出它们:*

1.  ***HTML** 用于应用程序中的所有内容。*
2.  ***CSS** 用于应用程序用户界面中的所有样式。*
3.  ***应用程序中所有逻辑动作的 JavaScript** 。*
4.  *`**XMLHttpRequest**` **接口**在后台向服务器发出异步请求。*
5.  *HTML5 `**History**` **API** 向浏览器历史添加新条目。*
6.  *动态改变 HTML 页面的结构、内容和样式的 DOM API。*
7.  *事件 API 跟踪页面上的大量动作(例如锚元素的点击)并做出类似的响应。*
8.  *JSON 作为客户机和服务器之间的信息交换格式。*

*现在我们已经了解了 SPA 中涉及的技术，让我们看看所有这些技术是如何结合在一起为应用程序提供支持的。*

## *1.超文本标记语言*

*什么东西可以在不使用 HTML 的情况下在网络上开发出来？答案很明显——什么都没有！*

*不用说，无论是哪种 web 应用程序，它都将使用 HTML 向最终用户交付内容。*

*说到 SPA，我们有一个单一的核心 HTML 页面，它是在向服务器发出初始请求时交付的。这个 HTML 页面是应用程序的主干。它指的是对应用程序顺利运行至关重要的所有必需的样式表和脚本。*

*即使在 HTML 页面被交付给客户端之后，当前文档内容的所有动态变化都是在 JavaScript 的帮助下使用 HTML 标记字符串有效完成的(通过 DOM API——稍后将详细介绍)。*

## *2.半铸钢ˌ钢性铸铁(Cast Semi-Steel)*

*CSS 毫无疑问地帮助我们为整个应用程序设计样式。*

*通常，样式表是以可重用的方式开发的。也就是说，不是每个不同的页面都有一个单独的样式表，而是设计一组给定的 HTML 类，然后在整个网站上的所有页面中使用，这样我们就不必下载单独的样式表了。*

*例如，如果整个 SPA 站点上的两个页面都有一个`<p>`元素，一个字体很大，另一个字体很小，在面向 SPA 的方法中，我们可以继续创建两个类，即`.text--sm`和`.text--lg`来满足这两种字体大小，然后在两个页面上的`<p>`元素中使用这些类。*

## *3.Java Script 语言*

*谈到 JavaScript，一旦所有的 HTML 都交付给客户端，并且样式表都放置到位，它就是主要的参与者。SPA 的所有逻辑都驻留在 JavaScript 文件中。*

*现在，尽管我们可以将上面讨论的所有后续技术放在 JavaScript 的名下，但我们不会这样做，这是有充分理由的。*

*是的，所有这些技术(例如，`XMLHttpRequest`接口，DOM API，事件 API 等等。)是针对 JavaScript 使用的，但是它们并不构成语言的核心。*

*也就是说，核心 JavaScript 语言(通常称为 ECMAScript)是不同的，它不包含任何这些特定于浏览器的 API。*

*相反，核心语言包括诸如 JavaScript 的语法和语义、它的控制流结构、它的类型系统和它的数据类型、它的核心接口如`Number`、`String`、`Array`、`Promise`、`Date`、`RegExp`、`Object`等等。*

*JavaScript 是所有特定于浏览器的 API 和 SPA 之间的*绑定语言*。*

*因此，谈到这些特定于浏览器的技术，首先我们有`XMLHttpRequest`。*

## *4.XMLHttpRequest*

*`**XMLHttpRequest**`接口是一种在后台向服务器发起异步 HTTP 请求，然后用一组事件监听器处理响应的方法。*

*早在 2006 年，万维网联盟*(又名 ***W3C*** )就对其进行了标准化。**

**`**XMLHttpRequest**`本质上是允许我们在 SPA 中与后端执行任何种类的通信。**

**如果没有它，我们仍然有可能创建水疗中心，但不会那么容易和灵活。`**XMLHttpRequest**`为我们提供了对 HTTP 请求及其相应的 HTTP 响应的几乎所有方面的精确控制，这是 JavaScript 中其他任何方法都无法做到的。**

**我们可以发出非常具体的 HTTP 请求，然后以多种方式处理响应。也可以使用`**XMLHttpRequest**`发布数据。**

**简而言之，SPA 中最重要的 JavaScript 技术就是这个异步的 HTTP 请求发起和 HTTP 响应处理接口。**

## **5.DOM API**

**DOM API 允许我们以编程方式重新定义给定 HTML 文档的结构、内容和样式。**

**一旦`XMLHttpRequest`被用来在后台发送 HTTP 请求，然后它的响应被成功地接收到，并带有一组给定的信息，DOM API 就被用来更新当前 HTML 文档的内容，从而显示最新的信息。**

## **6.事件 API**

**当我们在讨论 DOM API 时，如果不提及 Events API 就结束讨论是不公平的，Events API 与 DOM API 非常相关。**

**Events API 允许我们处理文档上的大量事件，然后激活应用程序的不同逻辑单元做出适当的响应。**

**例如，使用 Events API，我们可以监听应用程序用户界面上的事件(比如鼠标点击)，一旦事件发生，就激活 DOM API，用新的信息集更新用户界面。**

**没有事件 API，我们无法跟踪 SPA 上的事件，同样，没有 DOM API，我们几乎无法执行任何动态内容更新。**

**简而言之，除了`XMLHttpRequest`，这两个 API 在水疗中心的整个理念中也扮演着不可或缺的角色。**

## **7.历史 API**

**一项相对较新的技术彻底发展了 SPA 游戏，那就是 HTML5 `**History**` API，特别是它的方法`pushState()`和`replaceState()`。**

**过去，SPA 中不同的 URL 端点是通过在浏览器地址栏的 URL 中的散列符号(#)后附加一些唯一的标识符来表示的。例如，`example.com`的关于页面可能被称为`example.com/#about`，而联系人页面可能被称为`example.com/#contact`。**

**这种技术在当时被使用，因为那时它只是一个散列变化，使我们保持在最初加载的相同文档上。除此之外，它还在`window`上触发了一个 JavaScript `hashchange`事件。**

**不管怎样，快进到今天，感谢`History`接口，我们不必担心为我们的 SPA 创建这些哈希驱动的 URL 端点。**

**我们可以坚持为 SPA 创建普通的 URL，比如`example.com/about`和`example.com/contact`。感谢`History` API，我们可以更新浏览器地址栏中的 URL，同时确保不执行页面重载。除此之外，事件处理程序允许我们在地址改变时手动执行相应的操作。在这点上，`window`上的`popstate`事件对我们来说特别重要，因为它通常在地址栏更新时被触发。**

## **8.JSON**

**最后但并非最不重要的一点是，由于 SPA 中的所有繁重工作都发生在客户端，如果继续使用为 HTML 文档请求返回大量 HTML 标记的传统服务器工作流，效率将会非常低。**

**相反，只需要一种轻量级的信息交换格式来向客户机传递所需的数据量。一种选择是使用 XML，但是 XML 仍然不够轻量级。一个常用的信息交换格式是 ***JSON*** 。**

*****JSON*** 代表 ***JavaScript 对象符号*** 。它只是一种文本格式，数据在逻辑上以 JavaScript 对象(或数组)文字的形式表示。**

**对于 JavaScript 程序员来说，使用 JSON 就像在家一样——JSON 的语法和语义与 JavaScript 对象文字非常相似。JSON 最好的一点是，它是一种与语言和平台无关的数据格式，也就是说，它可以在任何平台上与任何编程语言一起使用。**

**几乎所有主要的后端语言，如 PHP、Python、Ruby、Java、C++都具有解析(即在编程语言中从文本转换为适当的数据结构)和序列化(即从数据结构转换为文本)JSON 数据的功能。**

**谈到客户端的 JavaScript，`JSON.parse()`和`JSON.stringify()`方法允许我们执行这些任务。**

**通常在 SPA 中，JSON 有效负载由服务器在每次请求时发送给客户机(在第一次请求之后，该请求提供了单一的核心 HTML 页面)。客户端解析响应，理解其含义，并相应地更新应用程序 UI 中的某些元素，或者通过提示音向用户发出警告，等等。**

**总而言之，这八项基本技术几乎驱动了当今所有的单页面 web 应用程序。**

# **水疗是如何运作的？**

**正如我们已经知道的，SPA 中发生的第一件事是加载单个核心 HTML 页面，该页面包含应用程序所需的所有必要的样式表、脚本和其他静态资产的链接。**

**然后，通常，对于任何点击事件，跟踪 HTML 文档上的某些或所有锚链接(即`<a>`元素)。当一个点击在其中一个上发生时，默认动作被阻止(通过使用事件对象上的`preventDefault()`方法)。**

**这个默认的动作是触发一个普通的浏览器重载，发送一个 HTTP GET 请求给链接(基于它的`href`)，然后显示结果内容(可以是 HTML 标记、媒体文件、PDF 文档、一些二进制数据或者任何东西)。**

**一旦默认动作在点击处理函数中被阻止，接下来的事情就是通过`history.pushState()`方法更新浏览器的地址栏。**

**之后，我们从 link 元素中手动检索`href`的值，向服务器发出一个 xhr 请求，然后等待响应。当这种情况发生时，spa 通常创建视觉加载提示，例如通过降低给定部分的不透明度，或者在整个视口上放置覆盖。**

**当接收到响应时，它的状态被确定，如果发现它表明成功，相应的 JSON 有效负载(在响应中发送)开始被解析。**

**解析之后，所需的信息被注入到一个模板中(想象一个函数以参数的形式接受信息，然后返回一个 HTML 标记字符串，在模板文本的帮助下，或者甚至在字符串连接的帮助下，将所有信息注入到 HTML 标记中)，然后使用 DOM 实用程序(如`innerHTML`、`insertBefore()`、`appendChild()`等)将该模板放在用户界面的给定区域上。**

**当新内容显示在应用程序上时，终端用户通过点击锚元素可以立即获得交互性的印象，即使所有的交互性 80%是由客户端驱动的。**

**说到服务器端，因为只有一个主核心 HTML 页面在客户端设置整个应用程序，所以服务器被配置为无论请求哪个页面都返回相同的 HTML 页面。这需要接入服务器的配置，并将所有传入的请求路由到特定的 HTML 页面。**

**然而，如果我们只是这样做，那么后续的各种页面的 xhr 请求将会以完全相同的 HTML 页面结束解析——显然这不是我们想要的！**

**因此，我们额外做的是，通过在 xhr 请求中放入一个特殊的 sentinel HTTP 头，允许服务器区分普通请求和 xhr 请求。**

**当服务器看到这个请求头时，它将该请求识别为 xhr 请求，同样地，以 JSON 的形式用相应的信息片段进行响应。否则，它将使用一个核心 HTML 页面进行响应，该页面被配置为针对每个传统 HTTP 请求返回。**

***简单，不是吗？***

**至于在客户端的浏览器历史中来回导航，window 上的`popstate`事件允许我们进入这个活动，然后检索上一页或下一页的 URL，无论我们以哪种方式导航。一旦获得了 URL，我们就对该页面发出一个 xhr 请求，或者从本地缓存中检索它的信息(取决于应用程序的架构)，然后用这些信息更新 UI。**

**简而言之，在前端，SPA 上的所有交互功能都像在传统的 web 应用程序中一样工作。然而，在后台，它们的操作方式不同，涉及更多的客户端而不是服务器。**

# **水疗的好处**

**开发一个水疗中心不是儿戏。这是一项极其乏味的任务，需要牢牢掌握许多客户端技术。**

**然而，这并非没有太多的好处。**

**让我们看看他们:**

1.  ****互联网带宽消耗更少。****
2.  ****更少利用底层设备的计算能力。****
3.  ****大大加快应用程序的加载速度。****
4.  ****普遍提高了应用程序的 UX(用户体验)。****
5.  ****服务器上的负载更少。****
6.  ****一款可移植的在线应用。****

**是时候详细介绍每一项了…**

## ****1。互联网带宽消耗更少****

**在 SPA 中，服务器通常用轻量级 JSON 有效负载进行响应(不包括核心 HTML 页面的第一个响应)。**

**由于这些有效载荷的大小要小得多，它们不会消耗用户设备上的大量互联网带宽。当这种效果在多个页面上成倍增加时，它会变得更加显著。**

**在传统的 web 应用程序中下载大页面的 HTML 标记，页眉是相同的，页脚也是相同的，甚至有一两个部分也是相同的，这完全是浪费带宽。水疗能有效缓解这一问题。**

## ****2。对底层设备计算能力的利用较少****

**在 SPA 中，一旦浏览器完成加载和解析单个核心 HTML 页面，就不再向服务器发出任何传统的请求，同样也不需要解析更多的 HTML 文档来构建复杂的 DOM 树。**

**除此之外，初始 HTML 页面中的样式表和脚本都只需下载和理解一次。相比之下，传统的 web 应用程序，所有的东西都要反复下载和解析，这显然浪费了计算资源。**

**SPA 一次处理所有的样式表和脚本，处理核心 HTML 页面，从而防止在连续解析它们的过程中浪费计算资源。**

## ****3。更快的应用加载时间****

**由于在导航到 SPA 中的新链接时不需要下载大的 HTML 文档，这些应用程序通常比传统应用程序快得多。**

**不需要重新加载浏览器，屏幕上没有黑白视图——只要单击一个链接，就会有一个 xhr 请求出现，从服务器获得 JSON 响应，然后通知 DOM API 在所需位置进行所需的更改。**

***简单。***

**此外，如前所述，样式表和脚本在 SPA 中只下载一次。因此，在点击每个链接时，只需要下载 HTML 信息，与传统的 HTML 文档相比，它的大小也小得多。**

## ****4。应用程序的 UX(用户体验)普遍提高****

**由于 SPA 中的加载时间比传统 web 应用程序少得多，这使得 SPA 的 UX(用户体验)更好。**

**即使传统应用程序的加载时间非常快，我们也不能忽视这样一个事实，即在传统应用程序中，当我们导航到一个新的链接时，中间会有一个明显的停顿，在浏览器加载和解析新的 HTML 文档时，会向我们显示一个黑白屏幕。**

**这不会发生在温泉里。**

**相反，当我们导航到一个新的链接时，可能会有一个加载指示器显示在应该更改的部分的正上方，而不是其他地方，或者其他一些比传统 web 应用程序中的黑白暂停更好的方法。**

**如果这个应用程序是另一个 Spotify，那么传统的方法将会结束这个应用程序的整个想法，那就是在我们来回导航时继续听音乐，或者搜索给定的歌曲，或者更新我们的个人资料，等等。当我们执行这些操作时，浏览器会触发一次完整的重新加载，因此我们的歌曲会在中间暂停，这显然会导致一个糟糕的 UX。**

**温泉再次拯救了我们。由于在 SPA 中完全不需要重新加载浏览器，所以当我们在音乐应用程序中来回导航时，我们可以继续听我们最喜欢的音乐，或者搜索给定的歌曲，或者更新我们的个人资料，等等。**

***对了，Spotify 其实就是一个 SPA！***

## ****5。服务器上的负载减少****

**正如我们现在所知道的，由于 SPA 中的许多逻辑繁重工作都发生在前端，服务器必须比传统应用程序做更少的处理。**

**例如，传统应用程序中的服务器通常被配置为基于给定的模板文件创建大型 HTML 文档。这需要解析模板文件，同样，显然会占用服务器上的计算资源。**

**在 SPA 中，这不会发生在服务器端，而是发生在客户端。甚至在客户端，大部分模板化和解析都发生在处理单个核心 HTML 页面的时候。**

**因此，简而言之，SPA 中的服务器享有较少的计算负载。**

## ****6。便携式在线应用程序****

**与为特定平台(如 Android、iOS、macOS、Windows 或 Linux)开发的原生应用程序相比，SPA 没有这种限制。**

**因为 SPA 的主机是 web，所以它自动获得平台范围的可用性。**

***如何？*很简单。**

**如今，每一个主流平台上都有浏览器，不管是 Android、iOS、macOS、Windows 还是 Linux，对吗？此外，正如我们已经知道的，SPA 是由浏览器驱动的，对吗？**

**因此，哪里有浏览器，哪里就有 SPA。SPA 在交互性和性能方面非常接近(如果不是完全相同的话)本机操作系统应用程序，但它也是跨平台的，这都要归功于 web 本身的平台无关性概念。**

# **帮助构建 SPA 的框架和库**

**如前所述，建立一个温泉是一个非常复杂的任务。在这一点上，有更多的事情需要我们去思考。**

**即使是最简单的水疗中心也需要大量的编程，更不用说像 Spotify、脸书、Twitter 或网飞这样复杂程度的应用程序了，开发这种应用程序简直是一项令人难以置信的活动。**

**设计模式、软件架构、数据流技术、性能优化、SEO(搜索引擎优化)、可用性、可访问性、浏览器兼容性、错误预防——一切都需要处理。**

**开发 SPA 时最具挑战性的事情出现了，因为几乎所有原本由浏览器或服务器自动完成的处理现在都必须用 JavaScript 以编程方式完成。**

**无论如何，SPA 开发是困难的，但显然不是不可能的，特别感谢一些令人敬畏的框架和库，它们被创建来简化这样做的过程。**

**让我们来谈谈其中的一些框架。**

## **反应**

**由脸书开发，官方命名为*【库】***React**允许我们构建交互式用户界面。**

**它分别通过 JSX 和虚拟 DOM 大大简化了 HTML 模板化和 DOM 变异的过程。**

**[](https://reactjs.org/) [## react——用于构建用户界面的 JavaScript 库

### React 使得创建交互式 ui 变得不那么痛苦。为应用程序中的每个状态设计简单的视图，并反应…

reactjs.org](https://reactjs.org/) 

## 有角的

由 Google 开发的 **Angular** 是一个庞大的 web 开发框架。

它比 React 复杂得多，通常依赖 HTML 属性(以`ng-`开头)来定义应用程序的部分逻辑。

它最强大的想法是*双向绑定*，应用程序模型的变化会在它的实时视图(在用户界面上)中产生效果，反之亦然。

[](https://angular.io/) [## 有角的

### Angular 是一个构建移动和桌面 web 应用程序的平台。加入数百万开发者的社区…

angular.io](https://angular.io/) 

## vue . j

Vue.js 是尤雨溪作为个人项目开发的，是另一个流行的构建用户界面的 JavaScript 框架。

它基于声明式编程方法，如 React，代码解释它做什么，而不是它如何做什么。

由于它惊人的文档，它是健壮的、强大的、高效的并且非常容易学习。

[](https://vuejs.org/) [## Vue.js -渐进式 JavaScript 框架| Vue.js

### 一个可接近的，高性能的和通用的框架，用于构建 web 用户界面。建立在标准 HTML 之上…

vuejs.org](https://vuejs.org/) 

# 我们能在这里建一个温泉浴场吗🍦香草科技？

在我们结束这篇文章之前，有一个极其重要的问题可能正在你的脑海中。

那就是: ***我们能不能在香草科技里建一个 SPA？***

换句话说: ***我们是否可以只使用普通的老式 HTML、CSS 和 JavaScript，而不使用任何框架来构建一个 SPA？***

是啊！

绝对是！

在接下来的讨论中，我们将讨论在不使用任何框架的情况下，自己创建 SPA 应用程序所需的重要东西。

## 1.掌握 HTML 和 CSS

从第一件事开始，你必须成为 HTML 和 CSS 的绝对大师。这是毫无疑问的。

有许多学习 HTML 和 CSS 的资源，其中一些列举如下:

1.  [**MDN—HTML 简介**](https://developer.mozilla.org/en-US/docs/Learn/HTML/Introduction_to_HTML) 开始学习 web 开发和 HTML 的基础知识。
2.  [**MDN——学习使用 CSS 样式化 HTML**](https://developer.mozilla.org/en-US/docs/Learn/CSS)开始学习 CSS 的基础知识。
3.  [**代码— CSS 课程**](https://www.codeguage.com/courses/css/) 进一步完善您的 CSS 知识，并通过几个小测验测试您对给定概念的理解。

## **2。精通 JavaScript**

学习完 HTML 和 CSS 之后，下一步显然是开始学习 JavaScript。

JavaScript 是 SPA 中所有逻辑的基石——没有它，任何事情都无法完成！

在 [CodeGuage](https://www.codeguage.com/) ，我们有专门的课程从零开始学习 JavaScript。超过 70 个章节，20 个小测验，20 多个练习，学习 JavaScript 比以往任何时候都更加容易和有趣。最棒的是，它完全免费。

[](https://www.codeguage.com/courses/js/) [## 学习 JavaScript——最全面的课程

www.codeguage.com](https://www.codeguage.com/courses/js/) 

一旦你熟悉了 JavaScript，下一步就是学习更高级的 JavaScript 特性，比如承诺、模块、web 存储 API、缓冲区、文件处理 API。

也许，在这些先进的理念中，你会发现最有用的是 [***承诺***](https://www.codeguage.com/courses/advanced-js/promises-introduction) 。

在 SPA 中，总是有许多 xhr 逻辑被放置在适当的位置。因为这涉及到异步操作，所以高效灵活地处理它需要比典型的回调模式好得多的方法。

那就是用承诺来代替。信不信由你，一旦你理解了承诺是如何真正工作的，在处理异步操作时，你就会一直想和它们一起工作。

无论如何，回到高级 JavaScript 的概念，再一次，在 CodeGuage，我们已经精心制作了一个专门的课程来迎合 JavaScript 的这些高级方面。

[](https://www.codeguage.com/courses/advanced-js/) [## 高级 JavaScript —成为专家

### JavaScript 是一种庞大的编程语言。它运行在客户端网络浏览器平台上，为 HTML 页面提供支持…

www.codeguage.com](https://www.codeguage.com/courses/advanced-js/) 

## 3.掌握`XMLHttpRequest`和一些 HTTP 的东西

除了`XMLHttpRequest` JavaScript 接口之外，如果没有对一些 HTTP 要素(比如头、有效负载、MIME 类型等等)的深刻理解，就不可能创建 SPA。

术语 ***AJAX*** ，代表 ***异步 JavaScript 和 XML*** ，指的是一组用于使用 JavaScript 与 web 服务器异步对话的技术(特别是`XMLHttpRequest`接口)。

在我们的 AJAX 课程中，我们将带您详细了解`XMLHttpRequest`接口，同时还将向您介绍大量与 HTTP 相关的内容，例如 HTTP 请求和响应的外观、头是什么，以及更多相关内容。

[](https://www.codeguage.com/courses/ajax/) [## 学习 AJAX——权威指南

### AJAX 是异步 JavaScript 和 XML 的首字母缩写，是一组技术的方便名称…

www.codeguage.com](https://www.codeguage.com/courses/ajax/) 

## **4。掌握 DOM API 和事件 API**

一旦我们完成了使用`XMLHttpRequest`接口发送 HTTP 请求和处理相应的 HTTP 响应，第二件要做的事情就是获取响应中发送的信息并用它更新 SPA 的用户界面。

更简单地说，我们必须执行 DOM 突变，即添加元素、移除元素、更新现有元素、更新 HTML 属性等等。

此外，如前所述，水疗会听取过多的事件。使用这些事件的处理函数并管理 SPA 的整个基于事件的生态系统需要 JavaScript 中的 Events API 的丰富知识。

因此，我们需要掌握 JavaScript 中的 DOM 和事件 API，以便有信心在我们的 SPA 中使用它们。

下面我们列出了 [JavaScript 课程](https://www.codeguage.com/courses/js/)中的两个单元来学习这两个 API:

1.  [JavaScript—HTML DOM](https://www.codeguage.com/courses/js/html-dom-introduction)
2.  [JavaScript —事件](https://www.codeguage.com/courses/js/events-introduction)

## 5.掌握历史界面和 popstate 事件

回想一下，让我们在 SPA 中模拟传统 web 应用程序的历史工作流的是`History`接口。

它为我们提供了`pushState()`方法，以便向当前标签页添加一个新的历史条目，同时也更新浏览器的地址栏。

除此之外，`popstate`活动在水疗中心也非常重要。它本质上允许我们在当前选项卡的历史条目中来回导航，从而在我们来回导航时用相应的信息更新 SPAs UI。

在我们全面的 JavaScript 课程中，`[**popstate**](https://www.codeguage.com/courses/js/events-popstate-event)`[**事件**](https://www.codeguage.com/courses/js/events-popstate-event) 这一章以一种简单的方式讲述了如何学习所有这些内容，以极其细致的细节带您了解`popstate`事件，并向您展示如何将它与全局`history.pushState()`和`history.replaceState()`方法一起使用。

## 6.构建真实世界的项目

最后，但并非最不重要的一点是，一旦你用所有上述知识填满了你的大脑，这是建造一个水疗中心所必需的，最后一步是开始建造现实世界的项目，而不是真正的水疗中心。

正如我们之前说过的，现在再次强调，建造一个水疗中心根本不是一件容易的事情！

简单有效地构建 SPA，同时又不至于一团糟的唯一方法是获得编程经验，最重要的是获得 JavaScript 的程序设计经验。

了解一门语言是一回事。开发易于理解、高效和健壮的程序是另一个问题。

在这方面，你应该让自己有这样的想法:

1.  ***OOP(面向对象编程)*** 利用对象、类、构造函数、继承、多态的思想来构建大型复杂的程序。JavaScript 是一种面向对象的语言，所以学习面向对象非常有意义。
2.  ***设计模式*** 以统一的方式帮助简化和解决某些编程问题。例子包括*模块模式*、*观察者模式*、*单例模式*等等。
3.  ***模块化编程*** 将一个问题分解成多个子问题，然后逐个解决这些子问题，通常是在单独的文件中。像 SPA 这样复杂的应用程序不可能在一个 JavaScript 文件中编写，所以你应该习惯使用多个`<script>`文件，每个文件在应用程序中服务于不同的目的，至少在开始时是这样，或者使用现代概念的 **ES6 模块**。
4.  ***正则表达式*** 匹配字符串中的复杂模式。在 SPA 中，您会发现自己将 URL 端点路由到给定的函数，如果您精通正则表达式，这很容易实现。学习正则表达式并不容易，也没那么难。如果你对 JavaScript 中的正则表达式感兴趣，我们有一门 [JavaScript Regex](https://www.codeguage.com/courses/regexp/) 课程，就在 CodeGuage。
5.  好的变量命名。
6.  有意义和一致的评论。

你也应该让自己养成阅读编程书籍的习惯。

书籍永远不会过时。到目前为止，它们是在当今复杂的世界中以简单而有效的方式了解任何事情的最佳途径。

阅读编程书籍不仅会教你与给定语言相关的不同概念，还会向你介绍真实世界的软件开发，这反过来会极大地提高你解决问题和程序设计的能力。

# 最后

在这一点上，我们足够熟悉 SPA 的概念，它代表……什么？是的，你说得对。

我们知道温泉到底是什么；水疗中心的一些例子，如脸书、Twitter、Spotify 等在线网站；建造一个水疗中心需要哪些技术；水疗中心如何在引擎盖下工作；我们有什么框架/库来减轻创建 spa 的任务；如何使用普通技术(即没有框架/库)完全依靠我们自己构建一个 SPA。

我们刚刚走了很多坚实的土地。如果你成功地做到了这里，你应该得到一个真正的祝贺，因为你读了这么长时间。👏

最后，编程是一个巨大的世界，其中有科学，甚至还有一些艺术。这一切都来自对语言、语法、规则的学习，以及实践想法和构建真实的东西。

时间是关键，实践是出路。

所以，程序员们，祝你们在建造温泉浴场和做你们真正喜欢的事情，也就是编程上玩得开心。👋

# 分级编码

感谢您成为我们社区的一员！更多内容见[升级编码出版物](https://levelup.gitconnected.com/)。
跟随: [Twitter](https://twitter.com/gitconnected) ， [LinkedIn](https://www.linkedin.com/company/gitconnected) ，[时事通讯](https://newsletter.levelup.dev/)
向上一级是转型科技招聘👉 [**加入我们的人才集体**](https://jobs.levelup.dev/talent/welcome?referral=true)**