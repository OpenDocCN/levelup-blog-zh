<html>
<head>
<title>Calling external REST Service from AWS Lambda? (Part 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从AWS Lambda调用外部REST服务？(第一部分)</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/calling-external-rest-service-from-aws-lambda-1890a521a3f1?source=collection_archive---------0-----------------------#2018-12-20">https://levelup.gitconnected.com/calling-external-rest-service-from-aws-lambda-1890a521a3f1?source=collection_archive---------0-----------------------#2018-12-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="30d8" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">小巧、简单，并且在包装方面没有任何开销。</h2></div><p id="5035" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这很简单，你只需要知道怎么做。下面的例子没有任何额外的Lambda打包的JavaScript资源，只使用了一个“index.js”。</p><p id="ee8b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">不需要<em class="lb"> request.js </em>或者深入<em class="lb"> Node.js HTTP </em>。</strong></p><blockquote class="lc"><p id="33b3" class="ld le iq bd lf lg lh li lj lk ll la dk translated">诀窍是只使用已经可用的AWS SDK JavaScript核心！</p></blockquote><figure class="ln lo lp lq lr ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi lm"><img src="../Images/bffd619f0a45004f6c5c0370b758746f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M6LoEv1L2KvM041G6Ikz9g.jpeg"/></div></div><figcaption class="lz ma gj gh gi mb mc bd b be z dk translated">AWS Lambda的功能就像云中的一艘独立小船</figcaption></figure><h1 id="4d9e" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">内容</h1><p id="3c31" class="pw-post-body-paragraph kf kg iq kh b ki mv jr kk kl mw ju kn ko mx kq kr ks my ku kv kw mz ky kz la ij bi translated">你将从这篇文章中学到什么</p><ul class=""><li id="c376" class="na nb iq kh b ki kj kl km ko nc ks nd kw ne la nf ng nh ni bi translated">简单的GET</li><li id="38dc" class="na nb iq kh b ki nj kl nk ko nl ks nm kw nn la nf ng nh ni bi translated">使用URL参数获取</li><li id="10e0" class="na nb iq kh b ki nj kl nk ko nl ks nm kw nn la nf ng nh ni bi translated">封装尺寸的优势</li><li id="509a" class="na nb iq kh b ki nj kl nk ko nl ks nm kw nn la nf ng nh ni bi translated">二手样品剩余服务</li><li id="dddc" class="na nb iq kh b ki nj kl nk ko nl ks nm kw nn la nf ng nh ni bi translated">AWS SDK文档</li><li id="aed1" class="na nb iq kh b ki nj kl nk ko nl ks nm kw nn la nf ng nh ni bi translated">TIBCO实验室</li><li id="2c4f" class="na nb iq kh b ki nj kl nk ko nl ks nm kw nn la nf ng nh ni bi translated">接下来是什么，…和<a class="ae no" href="https://joerg-go.medium.com/calling-external-rest-service-from-aws-lambda-part-2-c83f87b1e88a" rel="noopener">第二部</a></li></ul><h1 id="11cd" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">简单的GET</h1><p id="a25b" class="pw-post-body-paragraph kf kg iq kh b ki mv jr kk kl mw ju kn ko mx kq kr ks my ku kv kw mz ky kz la ij bi translated">下面是一个定制的AWS服务描述符示例</p><figure class="np nq nr ns gt ls"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="6355" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面是如何调用外部定制服务</p><figure class="np nq nr ns gt ls"><div class="bz fp l di"><div class="nt nu l"/></div></figure><blockquote class="nv nw nx"><p id="29ad" class="kf kg lb kh b ki kj jr kk kl km ju kn ny kp kq kr nz kt ku kv oa kx ky kz la ij bi translated">简单，还是？</p></blockquote><h1 id="9c3c" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">使用URL参数获取</h1><p id="c715" class="pw-post-body-paragraph kf kg iq kh b ki mv jr kk kl mw ju kn ko mx kq kr ks my ku kv kw mz ky kz la ij bi translated">这里是另一个带有ID参数的片段示例</p><figure class="np nq nr ns gt ls"><div class="bz fp l di"><div class="nt nu l"/></div></figure></div><div class="ab cl ob oc hu od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ij ik il im in"><h1 id="79f1" class="md me iq bd mf mg oi mi mj mk oj mm mn jw ok jx mp jz ol ka mr kc om kd mt mu bi translated">封装尺寸的优势</h1><p id="9da1" class="pw-post-body-paragraph kf kg iq kh b ki mv jr kk kl mw ju kn ko mx kq kr ks my ku kv kw mz ky kz la ij bi translated">任何Lambda函数都会变得非常小，结构化，并且可以快速部署。但这不是唯一的好处，您仍然可以使用所有在线Lambda编辑器和测试功能，当您部署一个巨大的JavaScript包时，这就变得不可能了。</p><p id="1b6a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">相同实现的大小比较:</p><ul class=""><li id="3320" class="na nb iq kh b ki kj kl km ko nc ks nd kw ne la nf ng nh ni bi translated"><strong class="kh ir"> Package 1 </strong> <br/> …使用‘request . js’和‘http-basic’等。<br/>大小:~ 1.5兆字节</li><li id="cf00" class="na nb iq kh b ki nj kl nk ko nl ks nm kw nn la nf ng nh ni bi translated"><strong class="kh ir">包2 </strong> <br/> …使用AWS SDK核心功能<br/>大小:~9 KB</li></ul></div><div class="ab cl ob oc hu od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ij ik il im in"><h1 id="9cbb" class="md me iq bd mf mg oi mi mj mk oj mm mn jw ok jx mp jz ol ka mr kc om kd mt mu bi translated">二手样品剩余服务</h1><p id="559a" class="pw-post-body-paragraph kf kg iq kh b ki mv jr kk kl mw ju kn ko mx kq kr ks my ku kv kw mz ky kz la ij bi translated">所使用的RESTfull服务是通过使用TIBCO云集成(TCI) Flogo图形化实现的，通过标准连接器连接到TIBCO云LiveApps，以检索现有的案例实例并将其返回给AWS Lambda。<a class="ae no" href="https://account.cloud.tibco.com/signup/tci" rel="noopener ugc nofollow" target="_blank">注册30天免费试用TIBCO云集成</a></p><figure class="np nq nr ns gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi on"><img src="../Images/7465a1b73ef7493bf7b920821e00c8ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9vurznabmYujJVW1IBoxmQ.png"/></div></div><figcaption class="lz ma gj gh gi mb mc bd b be z dk translated">TIBCO云集成Flogo中的定制服务实现。</figcaption></figure><p id="4bc3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">该服务可以是公共服务，也可以由像TIBCO Mashery这样的API网关管理。</p></div><div class="ab cl ob oc hu od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ij ik il im in"><h1 id="3aaf" class="md me iq bd mf mg oi mi mj mk oj mm mn jw ok jx mp jz ol ka mr kc om kd mt mu bi translated">AWS SDK文档</h1><p id="e718" class="pw-post-body-paragraph kf kg iq kh b ki mv jr kk kl mw ju kn ko mx kq kr ks my ku kv kw mz ky kz la ij bi translated">这里的功能没有很好的记录，但是源代码是公开的，所以你可以很快地看到Amazon是如何使用他们自己的功能的，并从中学习。</p><p id="334b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里有一些不错的GitHub示例链接，你可以作为快速参考…</p><ul class=""><li id="684e" class="na nb iq kh b ki kj kl km ko nc ks nd kw ne la nf ng nh ni bi translated"><a class="ae no" href="https://github.com/aws/aws-sdk-js" rel="noopener ugc nofollow" target="_blank">AWS-SDK-js</a>/test/foo-service . fixture . js</li><li id="c11a" class="na nb iq kh b ki nj kl nk ko nl ks nm kw nn la nf ng nh ni bi translated">AWS-SDK-js/test/fixture/protocol/input/rest-JSON . JSON</li><li id="ed0d" class="na nb iq kh b ki nj kl nk ko nl ks nm kw nn la nf ng nh ni bi translated">或者甚至…</li><li id="07dc" class="na nb iq kh b ki nj kl nk ko nl ks nm kw nn la nf ng nh ni bi translated">AWS-SDK-js/<a class="ae no" href="https://github.com/aws/aws-sdk-js/tree/cc29728c1c4178969ebabe3bbe6b6f3159436394/lib" rel="noopener ugc nofollow" target="_blank">lib</a>/service . js</li><li id="892e" class="na nb iq kh b ki nj kl nk ko nl ks nm kw nn la nf ng nh ni bi translated">AWS-SDK-js/<a class="ae no" href="https://github.com/aws/aws-sdk-js/tree/cc29728c1c4178969ebabe3bbe6b6f3159436394/lib" rel="noopener ugc nofollow" target="_blank">lib</a>/request . js</li><li id="2250" class="na nb iq kh b ki nj kl nk ko nl ks nm kw nn la nf ng nh ni bi translated">AWS-SDK-js/<a class="ae no" href="https://github.com/aws/aws-sdk-js/tree/cc29728c1c4178969ebabe3bbe6b6f3159436394/lib" rel="noopener ugc nofollow" target="_blank">lib</a>/<a class="ae no" href="https://github.com/aws/aws-sdk-js/tree/cc29728c1c4178969ebabe3bbe6b6f3159436394/lib/model" rel="noopener ugc nofollow" target="_blank">model</a>/shape . js</li><li id="4057" class="na nb iq kh b ki nj kl nk ko nl ks nm kw nn la nf ng nh ni bi translated">aws-sdk-js/ <a class="ae no" href="https://github.com/aws/aws-sdk-js/tree/cc29728c1c4178969ebabe3bbe6b6f3159436394/lib" rel="noopener ugc nofollow" target="_blank"> lib </a> / <a class="ae no" href="https://github.com/aws/aws-sdk-js/tree/cc29728c1c4178969ebabe3bbe6b6f3159436394/lib/protocol" rel="noopener ugc nofollow" target="_blank">协议</a> /rest_json.js</li></ul><blockquote class="nv nw nx"><p id="33d1" class="kf kg lb kh b ki kj jr kk kl km ju kn ny kp kq kr nz kt ku kv oa kx ky kz la ij bi translated">这里只使用了一些路径，因为版本可能会更新。</p></blockquote></div><div class="ab cl ob oc hu od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ij ik il im in"><h1 id="78ef" class="md me iq bd mf mg oi mi mj mk oj mm mn jw ok jx mp jz ol ka mr kc om kd mt mu bi translated">TIBCO实验室</h1><p id="0797" class="pw-post-body-paragraph kf kg iq kh b ki mv jr kk kl mw ju kn ko mx kq kr ks my ku kv kw mz ky kz la ij bi translated">本文是在TIBCO LABS的倡议下撰写的，完整的可重用源代码可以在公共的<a class="ae no" href="https://github.com/TIBCOSoftware/TIBCO-LABS/tree/master/src/Calling%20external%20REST%20Service%20from%20AWS%20Lambda%20(Part%C2%A01)" rel="noopener ugc nofollow" target="_blank"> TIBCO LABS GitHub资源库</a> <br/>下找到，包括BSD 3条款许可证。</p></div><div class="ab cl ob oc hu od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ij ik il im in"><h1 id="bdae" class="md me iq bd mf mg oi mi mj mk oj mm mn jw ok jx mp jz ol ka mr kc om kd mt mu bi translated">下一步是什么</h1><p id="c352" class="pw-post-body-paragraph kf kg iq kh b ki mv jr kk kl mw ju kn ko mx kq kr ks my ku kv kw mz ky kz la ij bi translated">点击此处查看<a class="ae no" href="https://joerg-go.medium.com/calling-external-rest-service-from-aws-lambda-part-2-c83f87b1e88a" rel="noopener">后续文章第2部分！</a></p><blockquote class="lc"><p id="1c76" class="ld le iq bd lf lg lh li lj lk ll la dk translated">感谢阅读和掌声！</p></blockquote></div></div>    
</body>
</html>