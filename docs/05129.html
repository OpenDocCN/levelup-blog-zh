<html>
<head>
<title>Advanced Level for Angular Reactive Form</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">角反应形式的高级水平</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/advanced-level-for-angular-reactive-form-6482e19add5c?source=collection_archive---------0-----------------------#2020-08-06">https://levelup.gitconnected.com/advanced-level-for-angular-reactive-form-6482e19add5c?source=collection_archive---------0-----------------------#2020-08-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="e3b9" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">有角的</h2><div class=""/><div class=""><h2 id="599c" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">帮助开发人员预排角反应形式的简单说明</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/ce9ab2c50d2ef9a52cb6b8724382abc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_Pwg78TPgi9voDxN7f875w.jpeg"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">照片由<a class="ae lh" href="https://unsplash.com/@kreshnikceka?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">克雷什尼克·塞卡</a>在<a class="ae lh" href="https://unsplash.com/s/photos/coffee?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="523c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">你有没有想过为什么棱角在形式上如此强大？在本文中，我将带您了解这个主题，以了解与React或Vuejs相比，Angular在表单中为什么更好以及如何更好。</p><p id="31c9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">内容:</p><ol class=""><li id="503b" class="me mf it lk b ll lm lo lp lr mg lv mh lz mi md mj mk ml mm bi translated">什么是反应形式</li><li id="0910" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated">三个基本块</li><li id="1b09" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated">表单生成器</li><li id="4276" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated">验证器</li><li id="d544" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated">魔力</li></ol></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="59f3" class="mz na it bd nb nc nd ne nf ng nh ni nj ki nk kj nl kl nm km nn ko no kp np nq bi translated">什么是反应形式</h1><p id="756a" class="pw-post-body-paragraph li lj it lk b ll nr kd ln lo ns kg lq lr nt lt lu lv nu lx ly lz nv mb mc md im bi translated">Angular提供了两种处理表单的方法，分别是<strong class="lk jd">模板驱动表单</strong>和<strong class="lk jd">反应式表单</strong>。</p><p id="98dd" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">模板驱动表单通过使用指令来处理表单，而反应式表单允许Angular开发人员在Angular模板组件上处理表单。</p><p id="0e55" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">与模板驱动相比，反应式表单将带来更多好处，例如:</p><ul class=""><li id="013d" class="me mf it lk b ll lm lo lp lr mg lv mh lz mi md nw mk ml mm bi translated">代码将是可测试的。</li><li id="cf28" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md nw mk ml mm bi translated">将所有表单逻辑放在同一个地方。</li><li id="b18a" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md nw mk ml mm bi translated">易于处理多级表单(我将在<strong class="lk jd">魔法</strong>部分强调这一点)。</li><li id="c818" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md nw mk ml mm bi translated">这种方法对反应式编程是友好的。</li></ul></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="c685" class="mz na it bd nb nc nd ne nf ng nh ni nj ki nk kj nl kl nm km nn ko no kp np nq bi translated">三个基本块</h1><p id="c39b" class="pw-post-body-paragraph li lj it lk b ll nr kd ln lo ns kg lq lr nt lt lu lv nu lx ly lz nv mb mc md im bi translated">角反应式有3个基本构件:</p><ol class=""><li id="34b4" class="me mf it lk b ll lm lo lp lr mg lv mh lz mi md mj mk ml mm bi translated">表单控件</li><li id="3ded" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated">表单组</li><li id="db5a" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated">形式阵列</li></ol><p id="51ff" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">当我们在Angular中构建反应式表单时，它们都来自这三个基本块。</p><p id="9f0e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><em class="nx">为了使用反应式，从</em> <code class="fe ny nz oa ob b"><em class="nx">@angular/forms</em></code> <em class="nx">包中导入</em> <code class="fe ny nz oa ob b"><a class="ae lh" href="https://angular.io/api/forms/ReactiveFormsModule" rel="noopener ugc nofollow" target="_blank"><em class="nx">ReactiveFormsModule</em></a></code> <em class="nx">并将其添加到您的NgModule的</em> <code class="fe ny nz oa ob b"><em class="nx">imports</em></code> <em class="nx">数组中。</em></p><h2 id="56af" class="oc na it bd nb od oe dn nf of og dp nj lr oh oi nl lv oj ok nn lz ol om np iz bi translated">1.表单控件</h2><p id="9d7d" class="pw-post-body-paragraph li lj it lk b ll nr kd ln lo ns kg lq lr nt lt lu lv nu lx ly lz nv mb mc md im bi translated"><strong class="lk jd">初始化表单控件</strong></p><p id="dd35" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">下面是我们如何用4种不同的语法在Angular中创建表单控件。</p><p id="3b49" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">首先，我们可以仅用值初始化表单控件。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi on"><img src="../Images/af8ff9bd26df5264c89359eca2396a0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*ackSA7_w5eb8fw7vnpmn2g.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">初始化表单控件</figcaption></figure><p id="9680" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">其次，我们可以在禁用键的情况下创建表单控件。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oo"><img src="../Images/b0d0afd22d65e75c774859c0e7a87bba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8eyu00tPB5KFoF9ayL6WBA.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">用窗体状态对象初始化控件</figcaption></figure><p id="e9bb" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">第三，我们可以通过使用验证器添加验证规则作为第二个参数</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi op"><img src="../Images/b9aaa08081d35e4781ba6e4241d894e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*PltNpYWJsU5A784mHdYbWA.png"/></div></figure><p id="d710" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">最后，我们有时需要调用后端来做验证。在这种情况下，我们将使用<strong class="lk jd">异步验证器</strong>进行异步验证。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/b0fc0be5709c1a40e756aa4e66f28813.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*x5mxhO341oy2Ixf9oXX1xQ.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">异步验证</figcaption></figure><p id="a752" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">使用更新开启</strong></p><p id="e74f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">为了提高性能，我们可以对一些特殊的输入使用updateOn，这些输入不需要在每次用户按键时更新。</p><p id="8ae1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们可以用一个特定的事件来更新比如<strong class="lk jd">模糊</strong>或者<strong class="lk jd">提交</strong>。默认值是<strong class="lk jd">改变</strong>。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi or"><img src="../Images/d3cb55716cc7d90dad9f42b6436851b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1330/format:webp/1*xAsP5VkK4SOUIX5YcJXSCg.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">将updateOn用于更新策略</figcaption></figure><p id="b83e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">重置控制</strong></p><p id="c6de" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们可以使用<code class="fe ny nz oa ob b">reset</code>函数来改变表单控件的值。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi os"><img src="../Images/d68d89c7dd01f902a48b5f573d12c8b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/1*S79uahPWzYfn_MveEaeSew.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">将formControl重置为另一个值</figcaption></figure><p id="c65b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">FormControl提供了很多有用的API。这里可以看<a class="ae lh" href="https://angular.io/api/forms/FormControl" rel="noopener ugc nofollow" target="_blank">。</a></p><h2 id="225f" class="oc na it bd nb od oe dn nf of og dp nj lr oh oi nl lv oj ok nn lz ol om np iz bi translated">2.表单组</h2><p id="4857" class="pw-post-body-paragraph li lj it lk b ll nr kd ln lo ns kg lq lr nt lt lu lv nu lx ly lz nv mb mc md im bi translated">一个<strong class="lk jd"> FormGroup </strong>将每个子<strong class="lk jd"> FormControl </strong>的值聚集到一个对象中，每个控件名作为键。</p><p id="d79a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">它通过减少其子节点的状态值来计算其状态。</p><p id="c250" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">创建一个表单组</strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/c601cf3660540024de84bc6fd5a0a68d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1278/format:webp/1*Py3QonfR8VFWFI_VCRuBGQ.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">创建一个包含两个控件的窗体组</figcaption></figure><p id="20f0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">用组级验证器创建表单组</strong></p><p id="aa84" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们可以将组级别的验证器作为第二个参数。当我们有多个子控件时，这将帮助我们更容易地处理验证。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ou"><img src="../Images/0ba6993f3d17892a70c45c2d62faffb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oFogS0d6b9T4chcIPBXn0Q.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">用组级验证程序创建表单组</figcaption></figure><p id="e173" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们可以将异步验证器和验证器一起作为选项对象的一部分使用。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ov"><img src="../Images/624b11d862895d797c3ea1cf72f85796.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jj0CfYrPtOrg4BSVgaTA0g.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">将异步验证器与formgroup中的验证器一起使用</figcaption></figure><p id="7a74" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">在</strong>上使用更新</p><p id="c3b8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">该选项类似于表单控件上的<strong class="lk jd">更新。但是，当我们在组级别设置它时，所有子控件都将继承选项值。</strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/514ed90eb21c6ee18e38dc2849b3c567.png" data-original-src="https://miro.medium.com/v2/resize:fit:1278/format:webp/1*MpvZaDu_SW0_5dSIwPQMDA.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">在FormGroup上使用updateOn</figcaption></figure><p id="f224" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果子节点明确指定了不同的<strong class="lk jd"> updateOn </strong>值，则不会在组级别使用<strong class="lk jd"> updateOn </strong>值。</p><p id="6bdd" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">FormGroup提供了很多有用的API。你可以在这里阅读<a class="ae lh" href="https://angular.io/api/forms/FormGroup" rel="noopener ugc nofollow" target="_blank"/>。</p><h2 id="dbb7" class="oc na it bd nb od oe dn nf of og dp nj lr oh oi nl lv oj ok nn lz ol om np iz bi translated">3.形式阵列</h2><p id="5caa" class="pw-post-body-paragraph li lj it lk b ll nr kd ln lo ns kg lq lr nt lt lu lv nu lx ly lz nv mb mc md im bi translated">FormArray将每个子FormControl的值聚合到一个数组中。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/03fefeb790a7f0d021b1c60e194227bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/1*pFivue0igI36Wm8Pu-I73w.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">创建一个表单控件数组</figcaption></figure><p id="2d62" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">用数组级验证器创建一个表单数组</strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/2e3acba597e03d90fc642a93192f141b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*DoCRbrc2wuWfvjVV6dTmpg.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">用数组级验证器创建一个表单数组</figcaption></figure><p id="ba6a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">为表单数组中的所有控件设置updateOn属性</strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/533206ce3c012c94e5dff1462720bbd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1278/format:webp/1*k6BnKXB66vN-2ooCf0U-GA.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">为窗体数组中的所有控件设置updateOn属性</figcaption></figure><p id="1362" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">FormArray提供了很多有用的API。你可以在这里阅读<a class="ae lh" href="https://angular.io/api/forms/FormArray" rel="noopener ugc nofollow" target="_blank"/>。</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="b789" class="mz na it bd nb nc nd ne nf ng nh ni nj ki nk kj nl kl nm km nn ko no kp np nq bi translated">表单生成器</h1><p id="33c0" class="pw-post-body-paragraph li lj it lk b ll nr kd ln lo ns kg lq lr nt lt lu lv nu lx ly lz nv mb mc md im bi translated">FormBuilder提供了语法糖，可以缩短创建FormControl、FormGroup和FormArray实例的时间。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oo"><img src="../Images/e1992d75c220831b48482d094477c07d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rNX0mP_vbvdrJSVWwZuIYA.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">使用FormBuilder创建调查表格</figcaption></figure><p id="8fbb" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">FormBuilder为我们提供了3种方法:</p><ul class=""><li id="7bbb" class="me mf it lk b ll lm lo lp lr mg lv mh lz mi md nw mk ml mm bi translated"><strong class="lk jd">控件</strong>T37】创建表单控件</li><li id="7639" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md nw mk ml mm bi translated"><strong class="lk jd">组<br/> </strong>创建表单组</li><li id="6c3b" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md nw mk ml mm bi translated"><strong class="lk jd">数组<br/> </strong>创建正式数组</li></ul></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="5495" class="mz na it bd nb nc nd ne nf ng nh ni nj ki nk kj nl kl nm km nn ko no kp np nq bi translated">验证器</h1><p id="00e1" class="pw-post-body-paragraph li lj it lk b ll nr kd ln lo ns kg lq lr nt lt lu lv nu lx ly lz nv mb mc md im bi translated">通过使用validators类，向表单添加验证非常简单。</p><h2 id="4c46" class="oc na it bd nb od oe dn nf of og dp nj lr oh oi nl lv oj ok nn lz ol om np iz bi translated"><strong class="ak">最小值</strong></h2><p id="c28e" class="pw-post-body-paragraph li lj it lk b ll nr kd ln lo ns kg lq lr nt lt lu lv nu lx ly lz nv mb mc md im bi translated">要求控件的值大于或等于提供的数字的验证程序。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi op"><img src="../Images/b86719de5fb27782e2f99e82c7467a57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*Pa3I7hineSB8GbKd_YLrxA.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">至少验证3个</figcaption></figure><h2 id="a29e" class="oc na it bd nb od oe dn nf of og dp nj lr oh oi nl lv oj ok nn lz ol om np iz bi translated"><strong class="ak">最大</strong></h2><p id="1edb" class="pw-post-body-paragraph li lj it lk b ll nr kd ln lo ns kg lq lr nt lt lu lv nu lx ly lz nv mb mc md im bi translated">要求控件的值小于或等于提供的数字的验证程序。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/7c4e71a12e5071210f61a6a0c97eaa73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1294/format:webp/1*wwb2EnkUCRV1V-AOIhhqvw.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">最多验证15个</figcaption></figure><h2 id="5f94" class="oc na it bd nb od oe dn nf of og dp nj lr oh oi nl lv oj ok nn lz ol om np iz bi translated"><strong class="ak">必选</strong></h2><p id="30c0" class="pw-post-body-paragraph li lj it lk b ll nr kd ln lo ns kg lq lr nt lt lu lv nu lx ly lz nv mb mc md im bi translated">要求控件具有非空值的验证程序。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi op"><img src="../Images/263890bea679f3baa69b9ee818bbcfa0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*li0Sy4P8Mp5UhmM6DfiASA.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">验证该字段非空</figcaption></figure><h2 id="92dc" class="oc na it bd nb od oe dn nf of og dp nj lr oh oi nl lv oj ok nn lz ol om np iz bi translated"><strong class="ak">要求正确</strong></h2><p id="284e" class="pw-post-body-paragraph li lj it lk b ll nr kd ln lo ns kg lq lr nt lt lu lv nu lx ly lz nv mb mc md im bi translated">要求控件值为真的验证程序。这个验证器通常用于必需的复选框。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi or"><img src="../Images/da5d12bb2a6536e66c8ca85909c98a67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1330/format:webp/1*gpJoYYTpXwp53hfuQXhf0A.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">验证字段值是否为真</figcaption></figure><h2 id="8e90" class="oc na it bd nb od oe dn nf of og dp nj lr oh oi nl lv oj ok nn lz ol om np iz bi translated"><strong class="ak">电子邮件</strong></h2><p id="86ce" class="pw-post-body-paragraph li lj it lk b ll nr kd ln lo ns kg lq lr nt lt lu lv nu lx ly lz nv mb mc md im bi translated">要求控件值通过电子邮件验证测试的验证程序。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/6482a2ce1f59a9decac16637c422c6d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1278/format:webp/1*smCTsoa6EqonJNYmdDt5TQ.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">验证该字段是否匹配有效的电子邮件模式</figcaption></figure><h2 id="c5e1" class="oc na it bd nb od oe dn nf of og dp nj lr oh oi nl lv oj ok nn lz ol om np iz bi translated"><strong class="ak">最小长度</strong></h2><p id="c0d4" class="pw-post-body-paragraph li lj it lk b ll nr kd ln lo ns kg lq lr nt lt lu lv nu lx ly lz nv mb mc md im bi translated">要求控件值的长度大于或等于所提供的最小长度的验证程序。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oz"><img src="../Images/7345053cd035d24166370709db64dd6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5p48dPdjnAlzg9pQO-Gnow.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">验证该字段至少包含3个字符</figcaption></figure><p id="2694" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><em class="nx">注意:如果使用html 5</em><strong class="lk jd"><em class="nx">minlength</em></strong><em class="nx">属性，默认情况下也会提供这个验证器。</em></p><h2 id="20d4" class="oc na it bd nb od oe dn nf of og dp nj lr oh oi nl lv oj ok nn lz ol om np iz bi translated"><strong class="ak"> maxLength </strong></h2><p id="cfb9" class="pw-post-body-paragraph li lj it lk b ll nr kd ln lo ns kg lq lr nt lt lu lv nu lx ly lz nv mb mc md im bi translated">要求控件值的长度小于或等于所提供的最大长度的验证程序。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oz"><img src="../Images/409d01a5c4465f6f1a01fe68dade2e70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uNRFRbZd5AuWE4nfzXkuMg.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">验证该字段最多包含5个字符</figcaption></figure><p id="0924" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><em class="nx">注意:如果使用html 5</em><strong class="lk jd"><em class="nx">maxlength</em></strong><em class="nx">属性，默认情况下也会提供这个验证器。</em></p><h2 id="6ea9" class="oc na it bd nb od oe dn nf of og dp nj lr oh oi nl lv oj ok nn lz ol om np iz bi translated"><strong class="ak">图案</strong></h2><p id="fb68" class="pw-post-body-paragraph li lj it lk b ll nr kd ln lo ns kg lq lr nt lt lu lv nu lx ly lz nv mb mc md im bi translated">要求控件的值匹配正则表达式模式的验证程序。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pa"><img src="../Images/78d976a5803aa375ca555d4188a5d8c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z6ZUbEu2TkKrHR9mAxW4_w.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">验证该字段仅包含字母或空格</figcaption></figure><p id="340a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd"> nullValidator </strong></p><p id="0126" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">不执行任何操作的验证程序</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/b6f6586c05dff746c3f5f8348a44f1dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*SKc1l85dOxWGQdDvdMopQQ.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">返回什么也不做的验证器</figcaption></figure><p id="9647" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这表示<a class="ae lh" href="https://en.wikipedia.org/wiki/Null_object_pattern" rel="noopener ugc nofollow" target="_blank">空对象模式</a>，它防止代码中的空指针/空保护，因为总是有一些验证器，即使它什么也不做。</p><h2 id="c9ae" class="oc na it bd nb od oe dn nf of og dp nj lr oh oi nl lv oj ok nn lz ol om np iz bi translated"><strong class="ak">撰写</strong></h2><p id="7bf1" class="pw-post-body-paragraph li lj it lk b ll nr kd ln lo ns kg lq lr nt lt lu lv nu lx ly lz nv mb mc md im bi translated">将多个验证器组合成一个函数，该函数返回所提供控件的各个错误映射的并集。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pc"><img src="../Images/cbfbac0f3de57ebc5bcee65b37fed25a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*GTMKjlDBr8sv7Rev4qxVjw.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">使用compose添加多个验证规则</figcaption></figure><p id="1592" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">但是，我们现在不怎么用这种方法了。这是一条更短的路。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ov"><img src="../Images/a94b27ff153948cd60e6f351fd0df54c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y26UePK86iXCogEMLPkHqA.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">缩短替换验证器中合成函数的方式</figcaption></figure></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="b9a8" class="mz na it bd nb nc nd ne nf ng nh ni nj ki nk kj nl kl nm km nn ko no kp np nq bi translated">魔力</h1><p id="d837" class="pw-post-body-paragraph li lj it lk b ll nr kd ln lo ns kg lq lr nt lt lu lv nu lx ly lz nv mb mc md im bi translated">如果我们有一个多层次的表单呢？</p><p id="378c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">虽然在React或Vuejs中创建一个3级或4级或更多级的表单是非常痛苦的，但在Angular中我们可以很容易地做到。</p><p id="bf9d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们举一个例子，我们需要创建一个具有如下结构的表单:</p><ol class=""><li id="8af4" class="me mf it lk b ll lm lo lp lr mg lv mh lz mi md mj mk ml mm bi translated">问题[] <br/> -问题标题<br/> -问题点<br/> -问题类型<br/> -必问问题<br/> -问题选项[] <br/> +选项1 <br/> +选项2 <br/> +选项3 <br/> +选项4</li></ol><p id="722c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">因此，我们有一个简单的三级表单:</p><ul class=""><li id="f12e" class="me mf it lk b ll lm lo lp lr mg lv mh lz mi md nw mk ml mm bi translated">第一级:问题清单</li><li id="0de1" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md nw mk ml mm bi translated">第二层:问题信息</li><li id="369e" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md nw mk ml mm bi translated">第三层:一个问题中选项列表</li></ul><p id="64a1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在Angular中，我们这样创建它:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oo"><img src="../Images/e1992d75c220831b48482d094477c07d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rNX0mP_vbvdrJSVWwZuIYA.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">用FormBuilder创建三级角形</figcaption></figure><p id="8d8b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们要如何添加一个新问题？</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/3dd76f00d448dd44a15eb314663b8d50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*JT2wvi1hW6Woxld1fhWxgw.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">创建新问题</figcaption></figure><p id="110e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们如何移除索引I处的问题？</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/7e3ed03860bf580bf98ef30563f014a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*xyuGuohB-a_EA8byQmplDA.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">删除索引I处的问题</figcaption></figure><p id="e3cd" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在，我们想为第10个问题添加一个新选项。我们只需要通过问题10的索引，这样做:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pd"><img src="../Images/f05457c765e9419c69c447e3daefb7ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h0lj7eM9tYOwfHuWGc3ycw.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">在问题索引处添加新选项</figcaption></figure><p id="2a25" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">删除问题I中的选项j。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pe"><img src="../Images/f10f8327e7c09f22bf60e249ee31fbda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eOj41033OqCRwX_uaRT9iw.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">删除问题I中的选项j</figcaption></figure><p id="86e9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">简单吗？</p><p id="5f18" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这就是我想在这个故事中分享的魔力。角反应形式的<strong class="lk jd"> get() </strong>是如此强大，让我们可以处理复杂的多层次形式。</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><p id="c06a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我希望这篇文章对你有用！你可以跟着我上<a class="ae lh" href="https://medium.com/@transonhoang?source=post_page---------------------------" rel="noopener">中型</a>。我也在<a class="ae lh" href="https://twitter.com/transonhoang" rel="noopener ugc nofollow" target="_blank">推特</a>上。欢迎在下面的评论中留下任何问题。我很乐意帮忙！</p><h1 id="1c60" class="mz na it bd nb nc pf ne nf ng pg ni nj ki ph kj nl kl pi km nn ko pj kp np nq bi translated">参考</h1><ol class=""><li id="4bbc" class="me mf it lk b ll nr lo ns lr pk lv pl lz pm md mj mk ml mm bi translated"><a class="ae lh" href="https://angular.io/guide/reactive-forms" rel="noopener ugc nofollow" target="_blank">https://angular.io/guide/reactive-forms</a></li></ol></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="19db" class="mz na it bd nb nc nd ne nf ng nh ni nj ki nk kj nl kl nm km nn ko no kp np nq bi translated">分级编码</h1><p id="9959" class="pw-post-body-paragraph li lj it lk b ll nr kd ln lo ns kg lq lr nt lt lu lv nu lx ly lz nv mb mc md im bi translated">感谢您成为我们社区的一员！<a class="ae lh" href="https://www.youtube.com/channel/UC3v9kBR_ab4UHXXdknz8Fbg?sub_confirmation=1" rel="noopener ugc nofollow" target="_blank"> <strong class="lk jd">订阅我们的YouTube频道</strong> </a>或者加入<a class="ae lh" href="https://skilled.dev/" rel="noopener ugc nofollow" target="_blank"> <strong class="lk jd"> Skilled.dev编码面试课程</strong> </a>。</p><div class="pn po gp gr pp pq"><a href="https://skilled.dev" rel="noopener  ugc nofollow" target="_blank"><div class="pr ab fo"><div class="ps ab pt cl cj pu"><h2 class="bd jd gy z fp pv fr fs pw fu fw jc bi translated">编写面试问题</h2><div class="px l"><h3 class="bd b gy z fp pv fr fs pw fu fw dk translated">掌握编码面试的过程</h3></div><div class="py l"><p class="bd b dl z fp pv fr fs pw fu fw dk translated">技术开发</p></div></div><div class="pz l"><div class="qa l qb qc qd pz qe lb pq"/></div></div></a></div></div></div>    
</body>
</html>