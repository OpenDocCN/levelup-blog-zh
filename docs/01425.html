<html>
<head>
<title>MongoDB</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">MongoDB</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/mongodb-b5208707d586?source=collection_archive---------3-----------------------#2019-12-29">https://levelup.gitconnected.com/mongodb-b5208707d586?source=collection_archive---------3-----------------------#2019-12-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b35d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">面向文档的数据库</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5064e2fbd8383dbdec477136e0c13108.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*q2M_VI-yH9utApnB"/></div></div></figure><h1 id="4907" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">什么是MongoDB？</h1><p id="d4a8" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">MongoDB是一个跨平台的面向文档的数据库。面向文档的数据库与传统的关系数据库形成了鲜明的对比。</p><h1 id="86dc" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">为什么要用MongoDB？</h1><p id="2341" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">MongoDB是一个<strong class="ll ir"> NoSQL </strong>数据库，它允许你在文档集合中存储数据。文档是格式化为<strong class="ll ir">二进制JSON </strong>或<strong class="ll ir"> BSON </strong>的对象，类似于<strong class="ll ir"> JSON </strong>的文档的二进制序列化。因此，它对于用JavaScript 编程的开发者非常有用，这也是为什么它是MERN 的数据库的原因。此外，MongoDB开发人员发布了新的<strong class="ll ir"> MongoDB Atlas </strong>，这是一个完全托管的<strong class="ll ir">云</strong>数据库，可以在云中轻松部署、操作和扩展MongoDB。</p><h2 id="ad3c" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">使用MongoDB的优势:</h2><ol class=""><li id="a031" class="mr ms iq ll b lm ln lp lq ls mt lw mu ma mv me mw mx my mz bi translated">可扩展:处理从小到大的数据量</li><li id="2e46" class="mr ms iq ll b lm na lp nb ls nc lw nd ma ne me mw mx my mz bi translated">灵活:不需要映射出整个模式</li><li id="a891" class="mr ms iq ll b lm na lp nb ls nc lw nd ma ne me mw mx my mz bi translated">内置复制和图表功能</li><li id="eae1" class="mr ms iq ll b lm na lp nb ls nc lw nd ma ne me mw mx my mz bi translated">快速性能</li></ol><h1 id="402f" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">使用MongoDB</h1><h2 id="343b" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">在终端中安装自制软件:</h2><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="e74f" class="mf ks iq ng b gy nk nl l nm nn">/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"</span></pre><h2 id="2a64" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">轻按“终端”中的MongoDB Homebrew轻按:</h2><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="e5ff" class="mf ks iq ng b gy nk nl l nm nn">brew tap mongodb/brew</span></pre><h2 id="2ee1" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">在终端中安装MongoDB:</h2><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="e15e" class="mf ks iq ng b gy nk nl l nm nn">brew install mongodb-community@4.2</span></pre><blockquote class="no np nq"><p id="7f26" class="lj lk nr ll b lm ns jr lo lp nt ju lr nu nv lu lv nw nx ly lz ny nz mc md me ij bi translated">目前，@4.2是最新版本。<br/>去MongoDB的网站，在下面的链接中找到你的最新版本。</p></blockquote><div class="oa ob gp gr oc od"><a href="https://docs.mongodb.com/manual/tutorial/install-mongodb-on-os-x/" rel="noopener  ugc nofollow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd ir gy z fp oi fr fs oj fu fw ip bi translated">在macOS上安装MongoDB社区版- MongoDB手册</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">下面的教程使用Homebrew在macOS系统上安装MongoDB 4.2社区版。要安装不同的…</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">docs.mongodb.com</p></div></div><div class="om l"><div class="on l oo op oq om or kp od"/></div></div></a></div><h2 id="b0dd" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">运行MongoDB:</h2><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="f651" class="mf ks iq ng b gy nk nl l nm nn">brew services start mongodb-community@4.2</span></pre><h2 id="2b78" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">在新终端中连接和使用MongoDB:</h2><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="967e" class="mf ks iq ng b gy nk nl l nm nn">mongo</span></pre><h1 id="6f21" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">MongoDB Shell命令</h1><p id="4c67" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">MongoDB有几个shell命令，您可以在终端中使用它们来导航和使用数据库的功能。</p><h2 id="0bef" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">显示所有数据库</h2><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="ee14" class="mf ks iq ng b gy nk nl l nm nn">show dbs</span></pre><blockquote class="no np nq"><p id="1869" class="lj lk nr ll b lm ns jr lo lp nt ju lr nu nv lu lv nw nx ly lz ny nz mc md me ij bi translated">注意:该命令不会显示没有集合的数据库</p></blockquote><h2 id="cc5c" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">显示当前数据库</h2><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="f056" class="mf ks iq ng b gy nk nl l nm nn">db</span></pre><h2 id="4d8c" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">创建或切换数据库</h2><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="0ae1" class="mf ks iq ng b gy nk nl l nm nn">// Create or Switch Database Format</span><span id="d409" class="mf ks iq ng b gy os nl l nm nn">use [ database name ]</span><span id="9ceb" class="mf ks iq ng b gy os nl l nm nn"><br/>// Create or Switch Database Example</span><span id="3ca1" class="mf ks iq ng b gy os nl l nm nn">use databaseTest</span></pre><h2 id="2d8b" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">删除当前数据库</h2><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="1ef2" class="mf ks iq ng b gy nk nl l nm nn">db.dropDatabase()</span></pre><h2 id="7659" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">创建收藏</h2><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="40b2" class="mf ks iq ng b gy nk nl l nm nn">// Create Collections Format</span><span id="625a" class="mf ks iq ng b gy os nl l nm nn">db.createCollection('[ collections name ]')</span><span id="0d1a" class="mf ks iq ng b gy os nl l nm nn"><br/>// Create Collections Example</span><span id="7c8e" class="mf ks iq ng b gy os nl l nm nn">db.createCollection('posts')</span></pre><h2 id="4da2" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">显示当前数据库中的收藏</h2><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="b785" class="mf ks iq ng b gy nk nl l nm nn">show collections</span></pre><h2 id="15b1" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">插入行</h2><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="2000" class="mf ks iq ng b gy nk nl l nm nn">// Insert Row Format</span><span id="438e" class="mf ks iq ng b gy os nl l nm nn">db.[collection].insert({<br/>  key: value<br/>})<br/></span><span id="fec8" class="mf ks iq ng b gy os nl l nm nn">// Insert Row Example</span><span id="f5ba" class="mf ks iq ng b gy os nl l nm nn">db.posts.insert({<br/>  title: 'Post One',<br/>  body: 'Body of post one',<br/>  category: 'News',<br/>  tags: ['news', 'events'],<br/>  user: {<br/>    name: 'John Doe',<br/>    status: 'author'<br/>  },<br/>  date: Date()<br/>})</span></pre><h2 id="167f" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">插入多行</h2><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="73f4" class="mf ks iq ng b gy nk nl l nm nn">// Insert Multiple Rows Format</span><span id="3e48" class="mf ks iq ng b gy os nl l nm nn">db.[collection].insertMany([<br/>  {<br/>    key: value<br/>  },<br/>  {<br/>    key: value<br/>  },<br/>  {<br/>    key: value<br/>  },<br/>])</span><span id="3e1b" class="mf ks iq ng b gy os nl l nm nn"><br/>// Insert Multiple Rows Example</span><span id="12da" class="mf ks iq ng b gy os nl l nm nn">db.posts.insertMany([<br/>  {<br/>    title: 'Post Two',<br/>    body: 'Body of post two',<br/>    category: 'Technology',<br/>    date: Date()<br/>  },<br/>  {<br/>    title: 'Post Three',<br/>    body: 'Body of post three',<br/>    category: 'News',<br/>    date: Date()<br/>  },<br/>  {<br/>    title: 'Post Four',<br/>    body: 'Body of post three',<br/>    category: 'Entertainment',<br/>    date: Date()<br/>  }<br/>])</span></pre><h2 id="2f12" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">获取所有行</h2><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="ba9b" class="mf ks iq ng b gy nk nl l nm nn">// Get All Rows Format</span><span id="8080" class="mf ks iq ng b gy os nl l nm nn">db.[collection].find()</span><span id="cdaf" class="mf ks iq ng b gy os nl l nm nn">db.[collection].find().pretty() // '.pretty()' for readability</span><span id="376b" class="mf ks iq ng b gy os nl l nm nn"><br/>// Get All Rows Example</span><span id="f87e" class="mf ks iq ng b gy os nl l nm nn">db.posts.find()</span><span id="0c29" class="mf ks iq ng b gy os nl l nm nn">db.posts.find().pretty() // '.pretty()' for readability</span></pre><h2 id="4403" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">查找行</h2><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="fe5c" class="mf ks iq ng b gy nk nl l nm nn">// Find Rows Format</span><span id="704d" class="mf ks iq ng b gy os nl l nm nn">db.[collection].find({ key: value })<br/></span><span id="095c" class="mf ks iq ng b gy os nl l nm nn">// Find Rows Example</span><span id="1789" class="mf ks iq ng b gy os nl l nm nn">db.posts.find({ category: 'News' })</span></pre><h2 id="a8c5" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">排序行</h2><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="0632" class="mf ks iq ng b gy nk nl l nm nn">// Sort Rows Format</span><span id="7b6d" class="mf ks iq ng b gy os nl l nm nn">db.[collection].find().sort({ key: value }).pretty()<br/></span><span id="09df" class="mf ks iq ng b gy os nl l nm nn">// Sort Rows Example</span><span id="bba7" class="mf ks iq ng b gy os nl l nm nn">// Sort Ascending<br/>db.posts.find().sort({ title: 1 }).pretty() // positive 1 for ASC</span><span id="f77e" class="mf ks iq ng b gy os nl l nm nn">// Sort Descending<br/>db.posts.find().sort({ title: -1 }).pretty() // negative 1 for DESC</span></pre><h2 id="04fb" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">计算行数</h2><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="e203" class="mf ks iq ng b gy nk nl l nm nn">// Count Rows Format</span><span id="6db9" class="mf ks iq ng b gy os nl l nm nn">db.[collection].find().count() // count all rows<br/>db.[collection].find({ key: value }).count() // count searched rows</span><span id="069d" class="mf ks iq ng b gy os nl l nm nn"><br/>// Count Rows Example</span><span id="6ab8" class="mf ks iq ng b gy os nl l nm nn">db.posts.find().count()<br/>db.posts.find({ category: 'news' }).count()</span></pre><h2 id="d049" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">限制行数</h2><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="a7f5" class="mf ks iq ng b gy nk nl l nm nn">// Limit Rows Format</span><span id="a8fb" class="mf ks iq ng b gy os nl l nm nn">// limits search results<br/>db.[collection].find().limit([number]).pretty()<br/></span><span id="6546" class="mf ks iq ng b gy os nl l nm nn">// Limit Rows Example</span><span id="b5e5" class="mf ks iq ng b gy os nl l nm nn">// limits to two search results<br/>db.posts.find().limit(2).pretty()</span></pre><h2 id="5644" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">链接</h2><p id="9289" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">你可以将<strong class="ll ir"> <em class="nr">排序</em> </strong>和<strong class="ll ir"> <em class="nr">限制</em> </strong>方法链接在一起。</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="b1b1" class="mf ks iq ng b gy nk nl l nm nn">// Chaining Example</span><span id="ab5c" class="mf ks iq ng b gy os nl l nm nn">db.posts.find().limit(2).sort({ title: 1 }).pretty()</span></pre><h2 id="96dc" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">为每一个</h2><p id="22cd" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">ForEach函数迭代<strong class="ll ir"> <em class="nr">集合</em> </strong>中的每个<strong class="ll ir"> <em class="nr">文档</em> </strong>。</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="a7a5" class="mf ks iq ng b gy nk nl l nm nn">// ForEach Example</span><span id="bba4" class="mf ks iq ng b gy os nl l nm nn">db.posts.find().forEach(function(doc) {<br/>  print("Blog Post: " + doc.title)<br/>})</span></pre><h2 id="7220" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">找到一行</h2><p id="b842" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">查找一行在<strong class="ll ir"> <em class="nr">集合</em> </strong>中查找第一个<strong class="ll ir"> <em class="nr">文档</em> </strong>。</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="c3bf" class="mf ks iq ng b gy nk nl l nm nn">// Find One Row Format</span><span id="7d7f" class="mf ks iq ng b gy os nl l nm nn">db.[collection].findOne({ key: value })<br/></span><span id="5917" class="mf ks iq ng b gy os nl l nm nn">// Find One Row Example</span><span id="a8c2" class="mf ks iq ng b gy os nl l nm nn">db.posts.findOne({ category: 'News' })</span></pre><h2 id="8a2b" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">更新行</h2><p id="0dc1" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">更新方法接受两个参数:<br/> 1。待更新的文件<br/> 2。用于更新文档的新字段</p><p id="ce64" class="pw-post-body-paragraph lj lk iq ll b lm ns jr lo lp nt ju lr ls nv lu lv lw nx ly lz ma nz mc md me ij bi translated">可选参数:<br/> <code class="fe ot ou ov ng b">{ upsert: true }</code>如果没有找到需要更新 【参数1】的<strong class="ll ir"> <em class="nr">单据，可以插入单据。</em></strong></p><blockquote class="no np nq"><p id="5d9f" class="lj lk nr ll b lm ns jr lo lp nt ju lr nu nv lu lv nw nx ly lz ny nz mc md me ij bi translated">注意:此更新用新字段(参数2)替换文档中的所有字段</p></blockquote><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="e064" class="mf ks iq ng b gy nk nl l nm nn">// Update Row Example</span><span id="eac7" class="mf ks iq ng b gy os nl l nm nn">db.posts.update({ title: 'Post Two' },<br/>{<br/>  title: 'Post Two',<br/>  body: 'New body for post 2',<br/>  date: Date()<br/>},<br/>{<br/>  upsert: true<br/>})</span></pre><blockquote class="no np nq"><p id="0e89" class="lj lk nr ll b lm ns jr lo lp nt ju lr nu nv lu lv nw nx ly lz ny nz mc md me ij bi translated">注意:通常应该使用<strong class="ll ir"> _id </strong> (ObjectId)来更新文档</p></blockquote><h2 id="28e3" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">更新特定字段</h2><p id="0915" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">使用<code class="fe ot ou ov ng b">$set</code>，它允许用户在不覆盖文档中的字段的情况下更改特定的字段</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="df5d" class="mf ks iq ng b gy nk nl l nm nn">// Update Specific Field Example</span><span id="62f4" class="mf ks iq ng b gy os nl l nm nn">db.posts.update({ title: 'Post Two' },<br/>{<br/>  $set: {<br/>    body: 'Body for post 2',<br/>    category: 'Technology'<br/>  }<br/>})</span></pre><h2 id="aee2" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">递增/递减字段</h2><p id="425f" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">使用<code class="fe ot ou ov ng b">$inc</code>，您可以将字段值增加一定的次数。</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="3879" class="mf ks iq ng b gy nk nl l nm nn">// Increment Field Example</span><span id="6e86" class="mf ks iq ng b gy os nl l nm nn">db.posts.update({ title: 'Post Two' },<br/>{<br/>  $inc: {<br/>    likes: 2<br/>  }<br/>})<br/></span><span id="a792" class="mf ks iq ng b gy os nl l nm nn">// Decrement Field Example</span><span id="f533" class="mf ks iq ng b gy os nl l nm nn">db.posts.update({ title: 'Post Two' },<br/>{<br/>  $inc: {<br/>    likes: -1<br/>  }<br/>})</span></pre><blockquote class="no np nq"><p id="fc53" class="lj lk nr ll b lm ns jr lo lp nt ju lr nu nv lu lv nw nx ly lz ny nz mc md me ij bi translated">注意:用正整数递增。用负整数递减。</p></blockquote><h2 id="df94" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">重命名字段</h2><p id="b3a8" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">使用<code class="fe ot ou ov ng b">$rename</code>，它允许用户重命名一个字段的名称。</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="5aa1" class="mf ks iq ng b gy nk nl l nm nn">// Rename Field Example</span><span id="f47e" class="mf ks iq ng b gy os nl l nm nn">db.posts.update({ title: 'Post Two' },<br/>{<br/>  $rename: {<br/>    likes: 'views'<br/>  }<br/>})</span><span id="1a2f" class="mf ks iq ng b gy os nl l nm nn">// Renames 'likes' to 'views'</span></pre><h2 id="f5e5" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">删除行</h2><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="d081" class="mf ks iq ng b gy nk nl l nm nn">// Delete Row Format</span><span id="8b5e" class="mf ks iq ng b gy os nl l nm nn">db.[collection].remove({ key: value })<br/></span><span id="ac7b" class="mf ks iq ng b gy os nl l nm nn">// Delete Row Example</span><span id="5fe8" class="mf ks iq ng b gy os nl l nm nn">db.posts.remove({ title: 'Post Four' })</span></pre><blockquote class="no np nq"><p id="27b5" class="lj lk nr ll b lm ns jr lo lp nt ju lr nu nv lu lv nw nx ly lz ny nz mc md me ij bi translated">注意:通常应该使用<strong class="ll ir"> _id </strong> (ObjectId)删除文档</p></blockquote><h2 id="5942" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">子文档</h2><p id="70f8" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">子文档是文档中的附加文档，很像嵌套的对象或数组。使用<code class="fe ot ou ov ng b">$set</code>，您可以添加一个额外的字段，其值是一个对象数组。</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="c8a5" class="mf ks iq ng b gy nk nl l nm nn">// Sub-Documents Example</span><span id="75a2" class="mf ks iq ng b gy os nl l nm nn">db.posts.update({ title: 'Post One' },<br/>{<br/>  $set: {<br/>    comments: [<br/>      {<br/>        body: 'Comment One',<br/>        user: 'Mary Williams',<br/>        date: Date()<br/>      },<br/>      {<br/>        body: 'Comment Two',<br/>        user: 'Harry White',<br/>        date: Date()<br/>      }<br/>    ]<br/>  }<br/>})</span></pre><blockquote class="no np nq"><p id="0deb" class="lj lk nr ll b lm ns jr lo lp nt ju lr nu nv lu lv nw nx ly lz ny nz mc md me ij bi translated">非常简单易用。没有复杂的<strong class="ll ir">加入</strong>方法。</p></blockquote><h2 id="a3c0" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">按数组中的元素查找</h2><p id="8134" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">使用<code class="fe ot ou ov ng b">$elemMatch</code>，您可以将包含一个数组字段的文档与至少一个匹配所有指定查询标准的元素进行匹配。因此，您可以使用子文档中的字段来查找文档。</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="8108" class="mf ks iq ng b gy nk nl l nm nn">// Find By Element in Array Example</span><span id="2e4a" class="mf ks iq ng b gy os nl l nm nn">db.posts.find({<br/>  comments: {<br/>    $elemMatch: {<br/>      user: 'Mary Williams'<br/>    }<br/>  }<br/>})</span></pre><h2 id="0d06" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">添加索引</h2><p id="7b83" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">在MongoDB中，索引是一种特殊的数据结构，它保存在其上创建索引的一些文档字段的数据。索引提高了数据库中的搜索速度，因为您可以只在索引中搜索，而不是搜索整个数据库。但是，索引太多会影响插入、更新和删除操作的性能，因为索引会占用额外的空间。换句话说，它必须在两个地方插入、更新和删除——集合和索引。</p><p id="80c3" class="pw-post-body-paragraph lj lk iq ll b lm ns jr lo lp nt ju lr ls nv lu lv lw nx ly lz ma nz mc md me ij bi translated">索引的有用之处在于，您可以使用它们进行文本搜索。</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="bc78" class="mf ks iq ng b gy nk nl l nm nn">// Add Index Example</span><span id="dc90" class="mf ks iq ng b gy os nl l nm nn">db.posts.createIndex({ title: 'text' })</span></pre><h2 id="46e3" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">文本搜索</h2><p id="5059" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">添加文本搜索索引后，您可以使用<code class="fe ot ou ov ng b">$text</code>和<code class="fe ot ou ov ng b">$search</code>找到您的文档。<code class="fe ot ou ov ng b">$text</code>操作符将对带有<code class="fe ot ou ov ng b">'text'</code>索引的集合执行文本搜索。<code class="fe ot ou ov ng b">$search</code>操作符允许用户搜索只包含该短语的文档。</p><blockquote class="no np nq"><p id="6ec0" class="lj lk nr ll b lm ns jr lo lp nt ju lr nu nv lu lv nw nx ly lz ny nz mc md me ij bi translated">注意:这个短语应该用双引号<code class="fe ot ou ov ng b">"\"[text search]\""</code>括起来。</p></blockquote><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="b5ec" class="mf ks iq ng b gy nk nl l nm nn">// Text Search Example</span><span id="b054" class="mf ks iq ng b gy os nl l nm nn">db.posts.find({<br/>  $text: {<br/>    $search: "\"Post O\""<br/>    }<br/>})</span></pre><h2 id="b8d2" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">大于和小于</h2><p id="525d" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">您可以使用大于和小于运算符过滤文档。</p><p id="2947" class="pw-post-body-paragraph lj lk iq ll b lm ns jr lo lp nt ju lr ls nv lu lv lw nx ly lz ma nz mc md me ij bi translated">操作人员:<br/> 1。<code class="fe ot ou ov ng b">$gt</code> <strong class="ll ir"> G </strong> reater <strong class="ll ir"> T </strong>韩<br/> 2。<code class="fe ot ou ov ng b">$gte</code><strong class="ll ir">G</strong>reater<strong class="ll ir">T</strong>Han或<strong class="ll ir"> E </strong> qual <br/> 3。<strong class="ll ir"> L </strong> ess <strong class="ll ir"> T </strong>韩【4】。<code class="fe ot ou ov ng b">$lte</code> <strong class="ll ir"> L </strong> ess <strong class="ll ir"> T </strong>韩或<strong class="ll ir"> E </strong> qual</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="f680" class="mf ks iq ng b gy nk nl l nm nn">db.posts.find({ views: { $gt: 2 } }) // greater than<br/>db.posts.find({ views: { $gte: 7 } }) // greater than or equal to<br/>db.posts.find({ views: { $lt: 7 } }) // less than<br/>db.posts.find({ views: { $lte: 7 } }) // less than or equal to</span></pre><h1 id="e35f" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">MongoDB罗盘</h1><p id="d6e2" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">MongoDB Compass是MongoDB的一个图形用户界面(GUI)。Compass允许您在没有MongoDB查询语法的正式知识的情况下分析和理解数据的内容。但是，我建议在使用Compass之前学习MongoDB查询语法并使用Mongo shell。</p><div class="oa ob gp gr oc od"><a href="https://www.mongodb.com/download-center/compass" rel="noopener  ugc nofollow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd ir gy z fp oi fr fs oj fu fw ip bi translated">下载中心:指南针</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">MongoDB Compass是MongoDB的GUI，是探索和操作数据的最简单的方法。免费下载和使用…</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">www.mongodb.com</p></div></div><div class="om l"><div class="ow l oo op oq om or kp od"/></div></div></a></div><h1 id="67af" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">结论</h1><p id="3b7d" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">MongoDB是一个独特的数据库。它不同于大多数开发者可能知道的MySQL、PostgreSQL之类的传统关系型数据库。MongoDB是一个面向文档的数据库，我建议开发人员学习，特别是因为它是MERN的一部分，后者是业内流行的web堆栈，包含一组基于JavaScript的技术。</p><p id="f75e" class="pw-post-body-paragraph lj lk iq ll b lm ns jr lo lp nt ju lr ls nv lu lv lw nx ly lz ma nz mc md me ij bi translated">我也有关于MERN其他技术的博客。看看他们！</p><div class="oa ob gp gr oc od"><a rel="noopener  ugc nofollow" target="_blank" href="/express-js-9e17c6080fed"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd ir gy z fp oi fr fs oj fu fw ip bi translated">快递. js</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">Node.js Web应用程序框架</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="om l"><div class="ox l oo op oq om or kp od"/></div></div></a></div><div class="oa ob gp gr oc od"><a href="https://medium.com/@peterlin5301997/types-of-react-components-a38ce18e35ab" rel="noopener follow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd ir gy z fp oi fr fs oj fu fw ip bi translated">React组件的类型</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">功能组件、类别组件、纯组件和高阶组件</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">medium.com</p></div></div><div class="om l"><div class="oy l oo op oq om or kp od"/></div></div></a></div><div class="oa ob gp gr oc od"><a rel="noopener  ugc nofollow" target="_blank" href="/node-js-b6c382d3f72b"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd ir gy z fp oi fr fs oj fu fw ip bi translated">节点. js</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">Node.js是什么，是做什么的？</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="om l"><div class="oz l oo op oq om or kp od"/></div></div></a></div></div></div>    
</body>
</html>