# å¦‚ä½•ä»æ‚¨çš„ Flutter åº”ç”¨ç¨‹åºè½»æ¾åœ°å°†å¯¹è±¡å­˜å‚¨åœ¨ Firebase å­˜å‚¨ä¸­

> åŸæ–‡ï¼š<https://levelup.gitconnected.com/how-to-easily-store-objects-in-firebase-storage-from-your-flutter-app-deabc475d407>

## æˆ‘çš„ä¸œè¥¿éƒ½åœ¨å“ªé‡Œï¼Ÿ

## åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•è®¾ç½®å’Œä½¿ç”¨ Firebase å­˜å‚¨ä» Flutter åº”ç”¨ç¨‹åºä¸­è¯»å–å’Œå†™å…¥æ•°æ®ã€‚

![](img/8478041cd79c95a0c9560690c6e48ece.png)

Firebase Storage æ˜¯äº‘ä¸­å­˜å‚¨å’ŒæœåŠ¡æ•°æ®çš„å¯¹è±¡å­˜å‚¨æä¾›å•†ã€‚å¯èƒ½çš„æƒ…å†µåŒ…æ‹¬ç”¨æˆ·çš„ä¸ªäººèµ„æ–™å›¾ç‰‡æˆ–åœ¨æ³¨å†Œè¿‡ç¨‹ä¸­ä¸Šä¼ çš„ PDF æ–‡ä»¶ç­‰æ–‡æ¡£ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•è®¾ç½®å®ƒï¼Œè¯»å–å’Œå†™å…¥æ•°æ®ï¼Œä»¥åŠå®ç°åŸºæœ¬çš„è®¿é—®æ§åˆ¶è§„åˆ™ã€‚ä»¥ä¸‹æ˜¯ä¸»é¢˜åˆ—è¡¨:

ğŸ”¹è®¾ç½® Firebase å­˜å‚¨
ğŸ”¹å†™æ•°æ®
ğŸ”¹è¯»å–æ•°æ®
ğŸ”¹åˆ é™¤æ•°æ®
ğŸ”¹ç›‘æ§ç©ºé—´æ¶ˆè€—
ğŸ”¹è®¿é—®æ§åˆ¶
ğŸ”¹Firestore vs Storage
ğŸ”¹web çš„ CORS ä¿®å¤

```
ğŸ‘‰ Do you want all the details? Check out [**my ebook**](https://xeladu.gumroad.com/l/ffc) with in-depth guides about building Flutter apps with Firebase! Buy it on [**Gumroad**](https://xeladu.gumroad.com) now!
```

æ‚¨å°†éœ€è¦è‡ªå·±å»ºç«‹ä¸€ä¸ª Firebase é¡¹ç›®æ¥ä½¿ç”¨è¿™é‡Œçš„ä»£ç ç¤ºä¾‹æˆ–æˆ‘çš„ [GitHub](https://github.com/xeladu/flutter_firebase) é¡µé¢ä¸­çš„ä»£ç ç¤ºä¾‹ã€‚å¦‚æœä½ è¿˜æ²¡æœ‰è¿™æ ·åšï¼Œè¿™é‡Œæœ‰ä¸€ç¯‡æ–‡ç« å¯ä»¥æŒ‡å¯¼ä½ å®Œæˆå¿…è¦çš„æ­¥éª¤ã€‚

[](/how-to-create-a-firebase-project-and-link-it-with-your-flutter-app-acd826be8356) [## å¦‚ä½•åˆ›å»ºä¸€ä¸ª Firebase é¡¹ç›®å¹¶å°†å…¶ä¸æ‚¨çš„ Flutter åº”ç”¨ç¨‹åºé“¾æ¥

### åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•åˆ›å»ºä¸€ä¸ª Firebase é¡¹ç›®ï¼Œä»¥åŠå¦‚ä½•å°†å®ƒä¸æ‚¨çš„ Flutter åº”ç”¨ç¨‹åºé“¾æ¥èµ·æ¥ã€‚

levelup.gitconnected.com](/how-to-create-a-firebase-project-and-link-it-with-your-flutter-app-acd826be8356) 

## è®¾ç½® Firebase å­˜å‚¨

ç¬¬ä¸€æ­¥æ˜¯å®‰è£…è½¯ä»¶åŒ… [firebase_storage](https://pub.dev/packages/firebase_storage) ã€‚ä¹‹åï¼Œæ‚¨éœ€è¦è®¾ç½®ä¸€ä¸ªå­˜å‚¨æ•°æ®çš„å­˜å‚¨æ¡¶ã€‚å°† bucket æƒ³è±¡æˆæ–‡ä»¶ç³»ç»Ÿä¸­çš„æ ¹æ–‡ä»¶å¤¹ã€‚è¿™å¯ä»¥é€šè¿‡ Firebase æ§åˆ¶å°ä»ªè¡¨æ¿æ¥å®Œæˆã€‚

è½¬åˆ°**å­˜å‚¨** â†’ **å¼€å§‹ä½¿ç”¨**

![](img/55c5aeb35bdacc66e12c3a0f79f95731.png)

ä½œè€…çš„ Firebase å­˜å‚¨è®¾ç½®å±å¹•æˆªå›¾

åœ¨æµ‹è¯•æ¨¡å¼ä¸‹é€‰æ‹©**å¼€å§‹**å¹¶ç‚¹å‡»**ä¸‹ä¸€ä¸ª**(æˆ‘ä»¬ç¨åå°†å›åˆ°è®¿é—®æ§åˆ¶)

![](img/fc1c4a101b6d979945f4161fcc34a1e9.png)

ä½œè€…è®¾ç½®çš„ Firebase å­˜å‚¨è®¿é—®æ§åˆ¶å±å¹•æˆªå›¾

é€‰æ‹©æ‚¨æƒ³è¦çš„ä½ç½®ï¼Œå¹¶åœ¨**å®Œæˆ**åç¡®è®¤ã€‚è¦äº†è§£ä½ç½®åŠå…¶ä¼˜åŠ¿ï¼Œè¯·ç‚¹å‡»[æ­¤å¤„](https://firebase.google.com/docs/projects/locations#types)ã€‚å¦‚æœå¯èƒ½çš„è¯ï¼Œæˆ‘å»ºè®®é€‰æ‹©ä½ çš„ç›®æ ‡ç”¨æˆ·ç¾¤çš„ä½ç½®ã€‚

![](img/0f5aa6f20e511d6c588f2d385ba9952b.png)

ä½œè€…è®¾ç½®çš„ Firebase å­˜å‚¨ä½ç½®çš„å±å¹•æˆªå›¾

å°†åˆ›å»ºä¸€ä¸ªé»˜è®¤å­˜å‚¨æ¡¶ï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­å­˜å‚¨æ•°æ®ã€‚è¿˜å¯ä»¥æ·»åŠ æ›´å¤šçš„æ¡¶ã€‚

è®¾ç½®å®Œæˆï¼Œè®©æˆ‘ä»¬ç©ä¸€äº›æ•°æ®ğŸ‰

## å­˜å‚¨å¼•ç”¨

ç¬¬ä¸€æ­¥æ˜¯è·å–ä¸€ä¸ª StorageReference å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æŒ‡å‘æˆ‘ä»¬çš„ bucket ä¸­çš„ä¸€ä¸ªæ–‡ä»¶(æ¡ç›®)æˆ–ç›®å½•(å‰ç¼€)ã€‚æ‚¨å¯ä»¥ä½¿ç”¨`child()`æ–¹æ³•ä»¥åŠ`root`å’Œ`parent`å±æ€§åœ¨å¼•ç”¨æ ‘ä¸­å¯¼èˆªã€‚åˆ›å»ºå¼•ç”¨æ—¶ï¼ŒGoogle äº‘å­˜å‚¨ URIs å’Œ HTTPS URL ä¹Ÿå—æ”¯æŒã€‚

## è¯»å‡ºæ•°æ®

å‡è®¾æˆ‘ä»¬åœ¨æ ¹çº§åˆ«çš„ bucket ä¸­å­˜å‚¨äº†ä¸€å †æ–‡ä»¶ï¼Œæˆ‘ä»¬æƒ³è¦ä¸‹è½½å®ƒä»¬ã€‚ä»¥ä¸‹ä»£ç è·å–åœ¨å­˜å‚¨å¼•ç”¨ä¸­æ‰¾åˆ°çš„ 5 ä¸ªé¡¹ç›®ï¼Œä¸‹è½½å†…å®¹ï¼Œå¹¶è¯»å–å…ƒæ•°æ®å¯¹è±¡ã€‚

è¦æ§åˆ¶è·å–å¤šå°‘ç»“æœï¼Œå¯ä»¥ä½¿ç”¨`ListOptions`å¯¹è±¡ã€‚æœ‰ä¸€ä¸ª`maxResults`å’Œä¸€ä¸ª`pageToken`æˆ¿äº§ã€‚`getData()`ä»¥å­—èŠ‚æ•°ç»„çš„å½¢å¼è·å–å†…å®¹ï¼Œ`getMetadata()`è·å–å¢å¼ºçš„æ–‡ä»¶ä¿¡æ¯ï¼Œ`getDownloadURL()`è¿”å›æŒ‡å‘æ–‡ä»¶(æˆ–æ–‡ä»¶å¤¹)çš„å­—ç¬¦ä¸²ã€‚å¦‚æœè¦å¤„ç†æ–‡ä»¶å¤¹ï¼Œç”¨`files.prefixes`ä»£æ›¿`files.items`ã€‚

## å†™å…¥æ•°æ®

ä½†æ˜¯ï¼Œæˆ‘ä»¬å¦‚ä½•å°†æ•°æ®æ”¾å…¥å­˜å‚¨æ¡¶å‘¢ï¼Ÿç¬¬ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ä»ªè¡¨æ¿ã€‚æœ‰ä¸Šä¼ æ–‡ä»¶å’Œåˆ›å»ºæ–‡ä»¶å¤¹çš„æŒ‰é’®ã€‚

![](img/6f23ede1d72b89167795714328da3838.png)

ä½œè€…æä¾›çš„ Firebase å­˜å‚¨æ§åˆ¶é¢æ¿çš„å±å¹•æˆªå›¾

ç„¶è€Œï¼Œä½œä¸ºç¨‹åºå‘˜ï¼Œæˆ‘ä»¬å–œæ¬¢ç”¨ä»£ç åšäº‹ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªå¦‚ä½•ä¸Šä¼ æ–‡ä»¶çš„å¿«é€Ÿç¤ºä¾‹ã€‚

æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ª`Reference`å’Œ`putFile()`æ–¹æ³•æ¥ä¸Šä¼ ä¸€ä¸ª`File`å¯¹è±¡ã€‚`targetName`ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå¸¦æœ‰æ–‡ä»¶åçš„è·¯å¾„ï¼Œå®ƒå°†è¢«åˆ›å»ºåœ¨ç›¸åº”çš„å­æ–‡ä»¶å¤¹ä½ç½®ã€‚æ–‡ä»¶é€‰æ‹©å™¨æœ€å¸¸ç”¨äºè·å–æ–‡ä»¶ï¼Œä½†æ˜¯æ‚¨ä¹Ÿå¯ä»¥è‡ªå·±åˆ›å»ºå’Œç¼–å†™æ–‡ä»¶ã€‚

`putFile()`æ–¹æ³•è¿”å›ä¸€ä¸ª`UploadTask`å¯¹è±¡ï¼Œå…è®¸æˆ‘ä»¬ç›‘è§†å’Œæ§åˆ¶ä¸Šä¼ è¿‡ç¨‹ã€‚

æ­¤ç¤ºä¾‹åœ¨ä»»åŠ¡è¿›è¡Œè¿‡ç¨‹ä¸­ä¾¦å¬äº‹ä»¶æµå¹¶æ›´æ–°è¿›åº¦æ ‡ç­¾ã€‚`UploadTask`å¯¹è±¡ä¹Ÿæœ‰æš‚åœã€æ¢å¤æˆ–å–æ¶ˆåŠ¨ä½œçš„æ–¹æ³•ã€‚å¯¹äºé•¿æ—¶é—´è¿è¡Œçš„æ“ä½œï¼Œæ‚¨æœ‰è¶³å¤Ÿçš„å·¥å…·æ¥é€šçŸ¥ç”¨æˆ·æ­£åœ¨å‘ç”Ÿä»€ä¹ˆğŸ‘

## åˆ é™¤æ•°æ®

åˆ é™¤å¾ˆç®€å•ã€‚è·å–å¯¹é¡¹ç›®(æ–‡ä»¶)æˆ–å‰ç¼€(æ–‡ä»¶å¤¹)çš„å¼•ç”¨ï¼Œå¹¶è°ƒç”¨ delete()æ–¹æ³•ã€‚å¾ˆç®€å•ï¼Œæ˜¯å§ï¼ŸğŸ˜

## ç›‘æ§ç©ºé—´æ¶ˆè€—

è¦ç›‘æ§æ‚¨å½“å‰çš„ç©ºé—´æ¶ˆè€—ï¼Œè¯·æŸ¥çœ‹æ‚¨çš„ Firebase å­˜å‚¨ä½¿ç”¨ä»ªè¡¨æ¿ã€‚æ•°æ®æ¯å¤©æ›´æ–°ï¼Œåœ¨äº§ç”Ÿä»»ä½•æˆæœ¬ä¹‹å‰ï¼Œæ‚¨å¯ä»¥è·å¾—ä¸€ä¸ªå…è´¹å±‚ã€‚

![](img/0a82773fc86c39665ee5bd785c2a4215.png)

æŒ‰ä½œè€…åˆ’åˆ†çš„ Firebase å­˜å‚¨ä½¿ç”¨æƒ…å†µæ§åˆ¶é¢æ¿çš„å±å¹•æˆªå›¾

æ‚¨å¯èƒ½æƒ³çŸ¥é“ä¸ºä»€ä¹ˆå·²ç»æœ‰è¿™ä¹ˆå¤šçš„ç©ºé—´è¢«å ç”¨ï¼Œå°½ç®¡æ‚¨è¿˜æ²¡æœ‰å¯¹æ•°æ®åº“åšä»»ä½•äº‹æƒ…ã€‚ä¸€ä¸ªå¯èƒ½çš„ç­”æ¡ˆæ˜¯æ‚¨éƒ¨ç½²äº†ä¸€ä¸ªæˆ–å¤šä¸ªäº‘åŠŸèƒ½ã€‚ä½ åœ¨ Firebase ä¸­çœ‹ä¸åˆ°è¿™äº›æ¡¶ï¼Œåªæœ‰ä½¿ç”¨è°·æ­Œäº‘æ§åˆ¶å°æ‰èƒ½çœ‹åˆ°ã€‚ä¸è¦åˆ é™¤è¿™äº›æ¡¶ï¼Œå¦‚æœä½ æœ‰æ´»è·ƒçš„äº‘åŠŸèƒ½ï¼

ç‚¹å‡»[æ­¤å¤„](https://www.reddit.com/r/Firebase/comments/lj3tsy/why_am_i_being_charged_for_cloud_storage_when_it/)äº†è§£æ›´å¤šå…³äºä¸ºä»€ä¹ˆä½ ä¼šè¢«æ”¶å–ä¸€äº›è´¹ç”¨çš„ç»†èŠ‚ï¼Œå°½ç®¡ä¸€åˆ‡ä¼¼ä¹éƒ½åœ¨ Firebase çš„å…è´¹é™é¢ä¹‹å†…ã€‚

## è®¿é—®æ§åˆ¶

æˆ‘å·²ç»åœ¨æˆ‘çš„æ–‡ç« ä¸­å†™äº†å…³äºäº‘å•†åº—çš„å†…å®¹ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªå°å›é¡¾ï¼Œå› ä¸ºæ¨¡å¼æ˜¯ç›¸åŒçš„ã€‚

è®¿é—®æ§åˆ¶ç¡®ä¿åªå¯¹åº”è¯¥å‘ç”Ÿçš„æ•°æ®è¿›è¡Œé‚£äº›æ“ä½œã€‚æœ‰å„ç§é€‰é¡¹æ¥é…ç½®è§„åˆ™ï¼Œä½†æˆ‘å°†åªç»™å‡ºä¸€ä¸ªç®€å•çš„ä»‹ç»ã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è€ƒ [Firebase æ–‡æ¡£](https://firebase.google.com/docs/storage/security/core-syntax)æˆ–ä»¥ä¸‹ä¸¤ç¯‡æ–‡ç« ã€‚

[](https://khreniak.medium.com/cloud-firestore-security-rules-basics-fac6b6bea18e) [## ä½¿ç”¨äº‘ Firestore å®‰å…¨è§„åˆ™çš„åŸºæœ¬ç¤ºä¾‹

### äº‘ Firestore å®‰å…¨è§„åˆ™æ˜¯å®šä¹‰ Firestore è®¿é—®æ§åˆ¶çš„å·¥å…·ã€‚å®šä¹‰åŒ¹é…å¹¶åˆ›å»ºâ€¦

khreniak.medium.com](https://khreniak.medium.com/cloud-firestore-security-rules-basics-fac6b6bea18e) [](https://khreniak.medium.com/advanced-examples-of-using-cloud-firestore-security-rules-9e641d023c7e) [## ä½¿ç”¨äº‘ Firestore å®‰å…¨è§„åˆ™çš„é«˜çº§ç¤ºä¾‹

### åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºä½¿ç”¨äº‘ Firestore å®‰å…¨è§„åˆ™çš„é«˜çº§ç¤ºä¾‹ã€‚ä¸€äº›çŸ¥è¯†å’Œæ›´å¤šâ€¦

khreniak.medium.com](https://khreniak.medium.com/advanced-examples-of-using-cloud-firestore-security-rules-9e641d023c7e) 

æ‚¨å½“å‰çš„è§„åˆ™å°†å¦‚ä¸‹æ‰€ç¤º:

```
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    match /{allPaths=**} {
      allow read, write: if false;
    }
  }
}
```

ç¬¬ä¸€è¡Œæ ‡è¯†æ‰€ä½¿ç”¨çš„æœåŠ¡ï¼Œå› ä¸ºè§„åˆ™ä¹Ÿå¯ä»¥åº”ç”¨äº[äº‘ Firestore](https://firebase.google.com/docs/firestore?authuser=0) å’Œ[å®æ—¶æ•°æ®åº“](https://firebase.google.com/docs/database/?authuser=0)ã€‚ä»¥ä¸‹`match`è¯­å¥ç¡®å®šäº†åº”è¯¥å¯¹å“ªæ¡è·¯å¾„å®æ–½è§„åˆ™ã€‚æ‚¨å¯ä»¥åµŒå¥—å¤šä¸ªåŒ¹é…è¯­å¥ï¼Œä¹Ÿå¯ä»¥åªä½¿ç”¨ä¸€ä¸ªã€‚`allow`è¯­å¥å‘Šè¯‰æˆ‘ä»¬åœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹å…è®¸è®¿é—®ã€‚åœ¨`allow`å…³é”®å­—ä¹‹åï¼Œå¯ä»¥æ·»åŠ å¤šä¸ªç±»ä¼¼`read`å’Œ`write`çš„æ–¹æ³•ã€‚ä»¥ä¸‹æ˜¯å¯ç”¨çš„æ–¹æ³•:

ğŸ”¹è·å–â€”è¯»å–å•ä¸ªæ–‡æ¡£
ğŸ”¹åˆ—è¡¨â€”è¯»å–æŸ¥è¯¢
ğŸ”¹åˆ›å»ºâ€”ç¼–å†™æ–°æ–‡æ¡£
ğŸ”¹æ›´æ–°â€”â€”ç¼–å†™ç°æœ‰æ–‡ä»¶
ğŸ”¹åˆ é™¤â€”åˆ é™¤æ•°æ®
ğŸ”¸é˜…è¯»â€”è·å–+åˆ—è¡¨
ğŸ”¸å†™å…¥â€”åˆ›å»º+æ›´æ–°

`match`è¯­å¥ç»å¸¸ä½¿ç”¨**é€šé…ç¬¦**ã€‚åƒ`{bucket}`è¿™æ ·çš„èŠ±æ‹¬å·ä¸­çš„æ–‡æœ¬æ˜¯ä¸€ä¸ªå•æ®µé€šé…ç¬¦ï¼Œä¾‹å¦‚å¯ä»¥åœ¨æ¡ä»¶ä¸­ä½¿ç”¨ã€‚ä¸ºäº†ä½¿é€šé…ç¬¦é€’å½’ï¼Œæ·»åŠ ä¸¤ä¸ªæ˜Ÿå·å­—ç¬¦`{allPaths=**}`ã€‚

ä¸Šè¿°è§„åˆ™æ‹’ç»å¯¹æ‰€æœ‰å­˜å‚¨æ¡¶ä¸­æ‰€æœ‰è·¯å¾„çš„æ‰€æœ‰è¯»å†™è®¿é—®ã€‚

ä»¥ä¸‹æ˜¯ä¸€äº›æ‚¨å¯ä»¥ä½¿ç”¨çš„å¸¸è§è§„åˆ™æ¡ä»¶:

```
allow read, write: if false; // no accessallow read, write: if request.auth != null; // access when authenticatedmatch ... {
  allow read: if true; // read access for everyone
  allow write: if request.auth != null; // write access when authenticated
}
```

**ä¸€ä¸ªå¥½çš„å¼€å§‹è§„åˆ™åº”è¯¥æ˜¯æ£€æŸ¥è®¤è¯**ã€‚è¿™æ ·ï¼Œä½ å°±å¯ä»¥é˜²æ­¢é™¤äº†ä½ çš„åº”ç”¨ç¨‹åºä¹‹å¤–çš„ä»»ä½•å…¶ä»–äººè®¿é—®è¿™äº›æ•°æ®ã€‚å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºå˜å¾—æ›´å¤§ï¼Œè§„åˆ™ä¹Ÿä¼šå˜å¾—æ›´å¤æ‚ã€‚

[](/how-to-use-firebase-authentication-with-your-flutter-app-4603c1b78156) [## å¦‚ä½•åœ¨ä½ çš„ Flutter åº”ç”¨ä¸­ä½¿ç”¨ Firebase è®¤è¯

### åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†äº†è§£ Firebase è®¤è¯æœºåˆ¶ï¼Œä»¥åŠå¦‚ä½•å°†å®ƒé›†æˆåˆ°æ‚¨çš„â€¦

levelup.gitconnected.com](/how-to-use-firebase-authentication-with-your-flutter-app-4603c1b78156) 

## Firestore ä¸å­˜å‚¨

**ä»€ä¹ˆæ—¶å€™ç”¨ä»€ä¹ˆï¼Ÿ**

Firebase Cloud Firestore æ˜¯ä¸€ä¸ª NoSQL æ•°æ®åº“ï¼Œç”¨äºå­˜å‚¨å­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å€¼æˆ–å¤æ‚çš„ JSON å¯¹è±¡ç­‰æ•°æ®ã€‚Firebase å­˜å‚¨æ—¨åœ¨å­˜å‚¨æ›´å¤§çš„æ•°æ®å—ï¼Œå¦‚å›¾åƒã€PDF æ–‡ä»¶ã€è§†é¢‘æˆ–ç”¨æˆ·ç”Ÿæˆçš„å†…å®¹ã€‚

è¦åœ¨ Firestore ä¸­å­˜å‚¨å›¾åƒï¼Œæ‚¨å¯èƒ½ä¼šå°è¯•å°†å…¶è½¬æ¢ä¸º Base64 å­—ç¬¦ä¸²ï¼Œç„¶åå°†å…¶æ’å…¥æ•°æ®åº“ã€‚ä½†æ˜¯ Firestore æœ‰[é™åˆ¶](https://firebase.google.com/docs/firestore/quotas?authuser=0#collections_documents_and_fields)é˜»æ­¢è¿™äº›æ–¹æ³•ã€‚æ‰€ä»¥ä¸è¦è´¹äº‹å»å°è¯•ï¼Œç›´æ¥ç”¨å‚¨ç‰©ã€‚

## web çš„ CORS ä¿®å¤

å¦‚æœä½ åœ¨ç½‘ç»œå¹³å°ä¸Šï¼Œç”±äºä¸€ä¸ª [CORS é”™è¯¯](https://github.com/firebase/flutterfire/issues/6172)ï¼Œä¸‹è½½å°†æ— æ³•è¿›è¡Œã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½ éœ€è¦å®‰è£… [Google Cloud CLI](https://cloud.google.com/storage/docs/gsutil_install) å¹¶ä¸ºä½ çš„ bucket è®¾ç½®ä¸€ä¸ª CORS è§„åˆ™ã€‚åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ cors.jsonï¼Œå¹¶ç”¨ä»¥ä¸‹å†…å®¹å¡«å……å®ƒ:

```
[
  {
    "origin": ["*"],
    "method": ["GET"],
    "maxAgeSeconds": 3600
  }
]
```

è¦è¿›è¡Œéƒ¨ç½²ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤:

`gsutil cors set cors.json gs://<your-cloud-storage-bucket>`

ä¹‹åï¼Œè¿™ä¸ªé”™è¯¯å°±ä¸ä¼šå†å‘ç”Ÿäº†ã€‚æ›´å¤šè¯¦æƒ…ï¼Œè¯·é˜…è¯»[æ–‡æ¡£](https://firebase.google.com/docs/storage/web/download-files#cors_configuration)ã€‚

## ç»“è®º

Firebase å­˜å‚¨æ˜¯ä¸€ç§å¿«é€Ÿã€æ–¹ä¾¿ã€ç®€å•çš„æ–¹å¼ï¼Œå…è®¸æ‚¨çš„ç”¨æˆ·å­˜å‚¨ä»–ä»¬çš„å†…å®¹ã€‚é€šè¿‡è¿™ç¯‡æ–‡ç« ï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿå®Œæˆæ‰€éœ€çš„è®¾ç½®æ­¥éª¤ï¼Œå¹¶ä¸”èƒ½å¤Ÿè¯»å†™æ•°æ®ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªç®€çŸ­çš„æºä»£ç æ¼”ç¤ºè§†é¢‘ã€‚

![](img/b46377d69442746b5f3a4aaee404b0e8.png)

ä½œè€…çš„ Firebase äº‘å­˜å‚¨æ¼”ç¤º

æ‚¨å¯ä»¥åœ¨æˆ‘çš„ GitHub é¡µé¢ä¸Šæ‰¾åˆ°å®Œæ•´çš„ç¤ºä¾‹æºä»£ç ã€‚

[](https://github.com/xeladu/flutter_firebase) [## GitHub - xeladu/flutter_firebase:ä¸€ä¸ªç”¨äºä¸å„ç§ firebase æœåŠ¡äº¤äº’çš„ flutter æ¼”ç¤ºåº”ç”¨ç¨‹åº

### è¿™æ˜¯é™„å¸¦ä»£ç ç¤ºä¾‹çš„ Flutter Firebase æ¦‚è¦çš„é…å¥—åº”ç”¨ç¨‹åºã€‚é¢¤æŒ¯ç‡ƒçƒ§åŸºåœ°çº²è¦æ˜¯ä¸€ä¸ªâ€¦

github.com](https://github.com/xeladu/flutter_firebase) 

è¿™ç¯‡æ–‡ç« æ˜¯ Flutter Firebase çº²è¦çš„ä¸€éƒ¨åˆ†ï¼Œå…¶ä¸­æœ‰è®¸å¤šæ•™ç¨‹å’Œæ“ä½œæŒ‡å—ï¼Œä»‹ç»äº† Firebase ä¸ Flutter åº”ç”¨ç¨‹åºç›¸ç»“åˆçš„å¯èƒ½æ€§ã€‚

![xeladu](img/c6d3049714795a7a8169ac0957f05cfe.png)

[èµ›æ‹‰æœ](https://xeladu.medium.com/?source=post_page-----deabc475d407--------------------------------)

## äº†è§£ Flutter å’Œ Firebase çš„å¨åŠ›

[View list](https://xeladu.medium.com/list/learn-about-the-power-of-flutter-and-firebase-2ec07e25baba?source=post_page-----deabc475d407--------------------------------)13 stories![](img/c2b6c6338bc1e357ff5cd458b093f90d.png)![](img/f235b86f847c3159f60f62e345166e9f.png)![](img/25444eac466a2c08ca8f6ee8b1f7f913.png)

ç”¨æˆ‘çš„ç”µå­ä¹¦ä¸º Flutter å¼€å‘è€…å……åˆ†åˆ©ç”¨ Firebaseã€‚

[](https://xeladu.gumroad.com/l/ffc) [## é¢¤æŒ¯ç‡ƒçƒ§åŸºç¡€æ¦‚è¦

### è¿™æœ¬ç”µå­ä¹¦ç€é‡äºè®©ä½ èƒ½å¤Ÿåœ¨ä½ çš„åº”ç”¨ä¸­é›†æˆ Firebase äº‘æœåŠ¡ã€‚å½“ä½ æƒ³è¦çš„æ—¶å€™ï¼Œå®ƒæ˜¯ä¸€ä¸ªè·³è·ƒçš„å¼€å§‹â€¦

xeladu.gumroad.com](https://xeladu.gumroad.com/l/ffc) 

[***é€šè¿‡æˆ‘çš„æ¨èé“¾æ¥åŠ å…¥æˆåƒä¸Šä¸‡çš„åª’ä½“ä¼šå‘˜ï¼Œæ¯æœˆåªéœ€ 5 ç¾å…ƒå°±èƒ½é˜…è¯»ä½ æƒ³é˜…è¯»çš„æ–‡ç« ï¼***](https://medium.com/@xeladu/membership)

[](https://medium.com/@xeladu/membership) [## é€šè¿‡æˆ‘çš„æ¨èé“¾æ¥åŠ å…¥ Medium-xela du

### åªéœ€ç‚¹å‡»ä¸€ä¸‹ï¼Œå°±å¯ä»¥é€šè¿‡ä¼šå‘˜èµ„æ ¼è®¿é—®æ•°åƒç¯‡æ–‡ç« ï¼æ‚¨çš„ä¼šå‘˜èµ„æ ¼åªéœ€ 5 ç¾å…ƒä¸€å¼ â€¦

medium.com](https://medium.com/@xeladu/membership) 

ç‚¹å‡» [**æ­¤å¤„**](https://xeladu.medium.com/subscribe) å°†æˆ‘æ‰€æœ‰çš„æ–°æ–‡ç« å‘é€åˆ°ä½ çš„é‚®ç®±ğŸ””æµè§ˆ[æˆ‘çš„ Gumroad å•†åº—](https://xeladu.gumroad.com/)å¯»æ‰¾æœ‰è¶£çš„ç¼–ç¨‹ç´ æğŸ¬

![xeladu](img/c6d3049714795a7a8169ac0957f05cfe.png)

[èµ›æ‹‰æœ](https://xeladu.medium.com/?source=post_page-----deabc475d407--------------------------------)

## é€‚åˆåˆå­¦è€…çš„é¢¤æŒ¯æ–‡ç« 

[View list](https://xeladu.medium.com/list/flutter-articles-for-beginners-a040ea777956?source=post_page-----deabc475d407--------------------------------)24 stories![](img/51383106204c2ff6d45c05fd52772a7d.png)![](img/cdd4d94a464cda34d46fc00e13cf7bf9.png)![](img/367140fae23113f1e2e868c2157d1e71.png)![xeladu](img/c6d3049714795a7a8169ac0957f05cfe.png)

xeladu

## è½¯ä»¶å·¥ç¨‹å¸ˆçš„é«˜çº§é¢¤æŒ¯æ–‡ç« 

[View list](https://xeladu.medium.com/list/advanced-flutter-articles-for-software-engineers-f074879fdef3?source=post_page-----deabc475d407--------------------------------)9 stories![](img/e5774d314e770573e2601ca542dbc4de.png)![](img/5289da1df3e789a8ca1d3f6024c01f4b.png)![](img/642d00374fa0d6e6971120398fbbeb90.png)