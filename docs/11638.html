<html>
<head>
<title>Share with those who care</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">与关心的人分享</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/share-with-those-who-care-37008fbf5a18?source=collection_archive---------4-----------------------#2022-04-02">https://levelup.gitconnected.com/share-with-those-who-care-37008fbf5a18?source=collection_archive---------4-----------------------#2022-04-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="c18b" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">我不喜欢一遍又一遍地问，如果你有什么有趣的事情让我知道！</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b335fff6c27ce094d224bf377edc5f59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mRU7PpvurDJQO2x0"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">丹尼尔·勒曼在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><p id="28d6" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">这是软件设计模式系列的第二篇博客。在之前的博客中，我们看到了生活中的有效策略。在这一次，我们将继续加强我们的学习，并深入到另一种模式。再次博客的目标将是回答下面的'<strong class="lf ir"><em class="lz">doublouuu的</em> </strong> <em class="lz"> ' </em></p><p id="2603" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi ma translated"><span class="l mb mc md bm me mf mg mh mi di"> W </span> <strong class="lf ir"> <em class="lz">它解决什么问题？</em>T15】</strong></p><p id="c53a" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi ma translated"><span class="l mb mc md bm me mf mg mh mi di"> W </span> <strong class="lf ir"> <em class="lz">图案到底是什么？</em> </strong></p><p id="f84c" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi ma translated">有哪些现实生活中的例子？ </p><p id="9f6b" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi ma translated">作为一名程序员，给人留下深刻印象的奇特定义是什么？ </p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><p id="adbe" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated"><strong class="lf ir">我们来谈谈这个问题</strong></p><blockquote class="mj mk ml"><p id="7467" class="ld le lz lf b lg lh jr li lj lk ju ll mm ln lo lp mn lr ls lt mo lv lw lx ly ij bi translated">你是否曾经有过这样的情况，你认为你和别人分享了太多的东西？</p></blockquote><p id="fbd9" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">然后你意识到，</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="6524" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">我分享一切是多么愚蠢。人们根本不在乎。当然，我们是人类。我们希望被倾听，被赞美，被理解。</p><blockquote class="mj mk ml"><p id="d5d5" class="ld le lz lf b lg lh jr li lj lk ju ll mm ln lo lp mn lr ls lt mo lv lw lx ly ij bi translated">但是我们需要明白，我们应该只与那些真正感兴趣的人分享，那些不断询问的人，那些真正关心❤️的人</p></blockquote><p id="0a34" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">等一下。我们真的在谈论设计模式吗？</p><p id="748d" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">是的，我们正在谈论一种设计模式，它教给我们一个非常重要的人生课程，那就是“明智地把你的精力花在人们身上”。只和那些真正关心你的人分享你的知识。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/933cf71277ae0a67dae4100c4f9a0d48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1066/format:webp/1*nS8J-rgWHuz9x-PylhlYzw.png"/></div></figure><p id="9b0e" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">现在让我们改变类比。从现在起，我们将称我们孤独的小伙子为<strong class="lf ir">主题</strong>他正在浪费精力与不感兴趣的人分享。他应该只与那些真正能为讨论增加价值的人分享，那些真正能从知识中获益的人。</p><p id="6b3f" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">我们的<strong class="lf ir">主题</strong>很快意识到他的错误，现在他能够识别真假观众。</p><p id="695b" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">但是他太谦虚了。他不喜欢有人来找他，询问他想分享的任何有趣的事情。他告诉他们，“<em class="lz">我知道你们感兴趣，我尊重这一点，但我不想这么麻烦你们。如果我有值得分享的东西，我会亲自通知你。</em> ❤️</p><p id="d02f" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">现在让我们把感兴趣的人称为观察者。到现在为止，您可能已经猜到了我们正在谈论的是哪种模式。我们正在讨论一种最常用的模式，即观察者模式。</p><p id="7090" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">但不知道为什么叫观察者模式。我认为这更多的是关于主题，而不是观察者🥺</p><blockquote class="mj mk ml"><p id="8d80" class="ld le lz lf b lg lh jr li lj lk ju ll mm ln lo lp mn lr ls lt mo lv lw lx ly ij bi translated">O <!-- -->观察者来来去去，主题留在❤️</p></blockquote><p id="381e" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">我们试图解决通知<strong class="lf ir">观察者</strong>任何相关变化的问题，而不让他们重复询问<strong class="lf ir">主题</strong>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/18f9ff9fd55e9e45ee8cab346e55883b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1062/format:webp/1*kJ7ybbNGdUbRkufSyvdu7Q.png"/></div></figure><p id="6388" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">现在让我们直接从《头脑第一书》中拿出一个例子。假设我们正在制作一个收集不同天气信息的天气应用程序，这些信息显示在不同类型的显示器上。为了简单起见，我们将忽略关于如何填充这些信息的部分。目标是以某种方式更新最新天气状况的不同类型的显示(观察者)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mt"><img src="../Images/947a4a8cbcbd3b08fadf3478bd3206c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u0cySN0riEiQpMebSMeBhA.png"/></div></div></figure><p id="244d" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">让我们了解情况以及我们想要实现的目标:</p><ul class=""><li id="7bc7" class="mu mv iq lf b lg lh lj lk lm mw lq mx lu my ly mz na nb nc bi translated">有一些观察家对了解新的天气状况感兴趣。</li><li id="c851" class="mu mv iq lf b lg nd lj ne lm nf lq ng lu nh ly mz na nb nc bi translated">他们已经订阅了该主题的任何种类的更新信息。</li><li id="a7cd" class="mu mv iq lf b lg nd lj ne lm nf lq ng lu nh ly mz na nb nc bi translated">主体的职责是在有新的天气信息时自动更新观测者。</li></ul><p id="1231" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">现在，让我们看看类图，理解观察者模式在这里是如何发挥作用的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/15480a40d7015517c8ecabb921c5fefa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*ZMY_ZvEyNY1GDRgPVIsOaA.png"/></div></figure><p id="28af" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">现在浏览每个组件，了解其用途:</p><p id="53fd" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated"><strong class="lf ir"> Subject接口:</strong>有观察者自己注册/订阅的常用契约。任何具体的主体都将实现三个方法' registerObserver '，' removeObserver '和' notifyObserver '。</p><p id="a860" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated"><strong class="lf ir">观察者接口:</strong>它有一个普通的契约，这个契约只有一个方法，就是“更新”。任何观察者都可以有自己的更新实现，但是契约保持不变。</p><p id="e909" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated"><strong class="lf ir"> <em class="lz">但是为什么需要这么多接口。我就不能用他们的更新方法有一个简单的具体类和具体的观察者吗？</em> </strong></p><p id="073e" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">如果你注意到了，拥有一个公共契约/接口的想法是为了强调面向对象的设计原则之一</p><blockquote class="mj mk ml"><p id="d2ae" class="ld le lz lf b lg lh jr li lj lk ju ll mm ln lo lp mn lr ls lt mo lv lw lx ly ij bi translated">P <a class="ae kv" href="https://dmitripavlutin.com/interface-vs-implementation/" rel="noopener ugc nofollow" target="_blank"> <strong class="lf ir"> <em class="iq">编程到一个接口而没有实现！</em> </strong> </a></p></blockquote><p id="62f8" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">当我们对一个接口编程时，我们得到了以下好处:</p><ul class=""><li id="8335" class="mu mv iq lf b lg lh lj lk lm mw lq mx lu my ly mz na nb nc bi translated">当我们使用接口时，我们可以将自己与任何特定的实现分离。</li><li id="2585" class="mu mv iq lf b lg nd lj ne lm nf lq ng lu nh ly mz na nb nc bi translated">在运行时选择不同的实现变得很容易。</li></ul><p id="5be9" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated"><strong class="lf ir">😒T24】</strong></p><p id="8c1a" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">现在我们来看一些你可能已经知道的真实例子。但是从现在开始，你将开始以不同的方式看待这些场景😎</p><p id="bd8d" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated"><strong class="lf ir">例1 </strong>:你是像我一样在youtube上浪费时间还是你很正常？就我个人而言，我喜欢视频内容。每天查看我喜欢的频道是很麻烦的，因为大多数时候都不会有新的视频。</p><p id="9afa" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated"><em class="lz">如果我(观察者)可以在有新内容观看时收到我喜欢的频道(主题)的通知怎么办？那会很酷，对吧？</em></p><p id="c488" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">让我们做一些编码来理解如何使用观察者pattern🥷来解决这个问题</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nj"><img src="../Images/56909131616cae2c64754c01f9b7e076.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8ctKLFTETRdmzXY1LtOoLA.png"/></div></div></figure><p id="2485" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">我们最喜欢的“可爱视频”频道是这里的主题，然后有人(观察员)订阅了这个频道。现在观察者不必去检查频道是否上传了新的东西。相反，当有新的东西可用时，他们会得到通知。</p><p id="4d08" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated"><strong class="lf ir">例子2: </strong>现在我们再举一个很常见的例子。每个人都喜欢购物，对吗？是的，我记得在策略模式博客中用过同样的购物网站例子。但是这一次我们将看另一个场景。</p><p id="cefa" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">假设我们想要三星网站上最近推出的最新款三星S8+平板电脑。你一直在关注他们的活动和广告，一旦产品上市，你就决定购买。但是当你去下订单的时候。您会看到一个类似的弹出窗口😒</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/48a3f60c3b2dc293bb01be3fefd378a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2MUng4P_cM3mgBvfW4SpZg.png"/></div></div></figure><p id="2f22" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">现在让我们来看看这种场景的代码。同样，我不会深入实施细节，因为这不是这篇博客的动机。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/6cd965961378fe1477724da12eea7a4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_lOu4rNAYUxpt_LODnTqOg.png"/></div></div></figure><p id="b42e" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated"><strong class="lf ir">例3: </strong>事件无处不在。现在我们将考虑一个事件监听器的例子。事件监听器独立于后端和前端。在前端，可以使用事件侦听器来通知UI更改API响应。在后端，只要数据库表中有新条目，就可以使用事件侦听器来运行一些进程。现在让我们构建一个非常通用的事件监听器，它将在调用notify时触发电子邮件通知或SMS通知。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/cdd998b6902625be55241ae0df50e92b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TjUvUIaIj3s2Nu1S4HMWYQ.png"/></div></div></figure><p id="43aa" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">我想现在我们已经理解了这种模式的用处。从上面的例子中我们可以看到，观察者模式可以用在这样的场景中，其中有些实体依赖于其他实体来获取某种信息。</p><blockquote class="mj mk ml"><p id="effc" class="ld le lz lf b lg lh jr li lj lk ju ll mm ln lo lp mn lr ls lt mo lv lw lx ly ij bi translated">那么这个模式的官方定义是什么？T11】</p></blockquote><p id="6347" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">根据GOF的书，“<em class="lz">定义对象之间一对多的依赖关系，这样当一个对象改变状态时，它所有的依赖关系都会得到通知并自动更新”</em></p><p id="0486" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated"><em class="lz">一对多</em>简单讲讲主体(一)和观察者(多)的关系。一个主题可以有许多观察者。</p><p id="165e" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">就是这样。我们已经成功地介绍了观察者模式。再次请通过参考更好的理解，请不要恨我，如果你发现任何错误或incomplete🥺。我在努力做得更好，❤️</p><p id="e296" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">参考资料:</p><ul class=""><li id="8873" class="mu mv iq lf b lg lh lj lk lm mw lq mx lu my ly mz na nb nc bi translated"><a class="ae kv" href="https://www.journaldev.com/1739/observer-design-pattern-in-java" rel="noopener ugc nofollow" target="_blank">https://www . journal dev . com/1739/observer-design-pattern-in-Java</a></li><li id="86c5" class="mu mv iq lf b lg nd lj ne lm nf lq ng lu nh ly mz na nb nc bi translated">https://dmitripavlutin.com/interface-vs-implementation/<a class="ae kv" href="https://dmitripavlutin.com/interface-vs-implementation/" rel="noopener ugc nofollow" target="_blank"/></li><li id="2a8b" class="mu mv iq lf b lg nd lj ne lm nf lq ng lu nh ly mz na nb nc bi translated"><a class="ae kv" href="https://www.vogella.com/tutorials/DesignPatternObserver/article.html" rel="noopener ugc nofollow" target="_blank">https://www . VO gella . com/tutorials/DesignPatternObserver/article . html</a></li><li id="eace" class="mu mv iq lf b lg nd lj ne lm nf lq ng lu nh ly mz na nb nc bi translated"><a class="ae kv" href="https://refactoring.guru/design-patterns/observer/typescript/example" rel="noopener ugc nofollow" target="_blank">https://refactoring . guru/design-patterns/observer/typescript/example</a></li><li id="7aa3" class="mu mv iq lf b lg nd lj ne lm nf lq ng lu nh ly mz na nb nc bi translated"><a class="ae kv" href="https://examples.javacodegeeks.com/core-java/java-observer-design-pattern-example/" rel="noopener ugc nofollow" target="_blank">https://examples . javacodegeeks . com/core-Java/Java-observer-design-pattern-example/</a></li><li id="09e0" class="mu mv iq lf b lg nd lj ne lm nf lq ng lu nh ly mz na nb nc bi translated"><a class="ae kv" href="https://www.oreilly.com/library/view/head-first-design/0596007124/ch02.html" rel="noopener ugc nofollow" target="_blank">https://www . oreilly . com/library/view/head-first-design/0596007124/ch02 . html</a></li></ul></div></div>    
</body>
</html>