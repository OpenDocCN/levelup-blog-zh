<html>
<head>
<title>Bit Manipulation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">位操作</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/bit-manipulation-2bb98208832e?source=collection_archive---------16-----------------------#2022-09-30">https://levelup.gitconnected.com/bit-manipulation-2bb98208832e?source=collection_archive---------16-----------------------#2022-09-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2fdf" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在我们的机器中，我们使用的所有数字都用比特(0和1)来表示；</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/51fe0e2c4e478de18aada486f7797361.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pkdjNWhosX4GYrnIDACzAA.png"/></div></div></figure><p id="65b2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">整数255对应二进制格式</strong>的11111111，为“1”的8位(1字节)，用于快速处理或节省内存；<strong class="kw iu">我们可以直接对那些比特使用运算。</strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lq lr l"/></div></figure><p id="2d9c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">有六个位运算</strong>、与、或、非、异或、左移、右移；让我们全部看看。让我们定义两个无符号整数:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lq lr l"/></div></figure><h1 id="fd37" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">和</h1><p id="ef44" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld mm lf lg lh mn lj lk ll mo ln lo lp im bi translated">and运算符“&amp;”比较两位，如果两位都是1，则返回1；否则返回0。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6ebe0d5185ea941aac01e7357f16afe7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2Y7cVX5EaVrA7EitGinFsw.png"/></div></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lq lr l"/></div></figure><p id="fb6f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这里要看到的一点是“和”数将等于或小于最小数。</p><h1 id="3742" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">或者</h1><p id="91f2" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld mm lf lg lh mn lj lk ll mo ln lo lp im bi translated">or运算符“|”比较这些位，如果至少有一位是1，则返回1；否则返回0。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9e4ecff0b7c78c262785e4d9f4a00d36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*raQ0YBCXopo5Ctnjr3H9Jw.png"/></div></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lq lr l"/></div></figure><p id="2914" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这里要看到的一点是“或”数等于或超过最大数。</p><h1 id="8c6b" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">不</h1><p id="a007" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld mm lf lg lh mn lj lk ll mo ln lo lp im bi translated">not运算符“~”反转这些位，如果该位为0，则返回1，如果该位为1，则返回0。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0d09a520cf04d9d1525c17c5f5fb3b4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bv3kOqPNc8u7tBscfDfnnw.png"/></div></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lq lr l"/></div></figure><p id="5d41" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这里要看到的一点是“非”数将是补数(两者相加等于255，0b11111111的最大值)。</p><h1 id="7f2d" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">异或运算</h1><p id="3627" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld mm lf lg lh mn lj lk ll mo ln lo lp im bi translated">xor运算符“^”比较这些位，如果有且仅有一位为1，则返回1；否则返回0。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a6d9aca4405816d292992aa54358d35d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K7wNkluCbxAMWgjZI0ZeAw.png"/></div></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lq lr l"/></div></figure><p id="1bbe" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这里要注意的一点是,“异或”数将是“或”减去“与”</p><h1 id="f6f1" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">左移位</h1><p id="b0f7" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld mm lf lg lh mn lj lk ll mo ln lo lp im bi translated">左移运算符"&lt;将所有位向左移动。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/95abaad1fa5e695b66bedd1817119c90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4jVm90W9LY7sxAlEBnqOyA.png"/></div></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lq lr l"/></div></figure><p id="7e83" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">这里要看到的一点是“左移”数会乘以2，直到出现溢出</strong>(位1移出极限)。之后，左移会在弹出最后一位1时将数字减为0。</p><h1 id="9c45" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">右移</h1><p id="9197" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld mm lf lg lh mn lj lk ll mo ln lo lp im bi translated">右移运算符" &gt; &gt; "<strong class="kw iu">将所有位向右移动。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1ab1270d7b678738469732d08b815704.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oE5iBD6IlknuZAc6TQGnCQ.png"/></div></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lq lr l"/></div></figure><p id="68aa" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">这里要看到的一件事是,“右移”数将被除以2，直到我们达到值0</strong>(所有位1都已弹出)。</p><h1 id="9b63" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">带符号整数</h1><p id="5f1d" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld mm lf lg lh mn lj lk ll mo ln lo lp im bi translated">上面所有的例子都是用无符号整数创建的。<strong class="kw iu">有符号整数用最后一位来标记符号</strong>。对于无符号8位整数UInt8，值的范围是从0 (0000'0000)到255 (1111'1111)，但是对于有符号8位整数Int8，值的范围是从-128 (1000'0000)到127 (0111'1111)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5c8aa621bd4145dddb9c771e48610a29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FfD5gsJjZsjleS6nJ_p6Ig.png"/></div></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lq lr l"/></div></figure><p id="d249" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于无符号和有符号整数，所有的按位操作都以相同的方式工作(除了右移，右移之后将返回)，但是如果影响最后一位(用于确定符号)，那么<strong class="kw iu">的结果可能会有所不同。</strong></p><p id="32bb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">主要区别在于有符号整数的右移；我们将使用符号位来填充，而不是不断地用0填充。换句话说，一个正整数将填充0；如果是负数，我们就用1来填充。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2ba4342ff304a80848ebf101fc8eee9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FtUweVRH59FW2NjsAjSazg.png"/></div></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lq lr l"/></div></figure><h1 id="d208" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">值溢出</h1><p id="517b" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld mm lf lg lh mn lj lk ll mo ln lo lp im bi translated">因为整数有一个下限和上限(对于Int8为-128 -&gt; 127)，到达将引发“溢出”错误。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lq lr l"/></div></figure><p id="e7f4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">新运算符(&amp;+、&amp;-和&amp;*)允许溢出，并且不会引发错误。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/2ae75df7ba42ac49bba2e51adc7dd1a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*_lW3XlJlgFBCR8WS4aSl5Q.png"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lq lr l"/></div></figure><p id="c57c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">以下是如何使用按位运算的示例:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lq lr l"/></div></figure></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><p id="1682" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><a class="ae mx" rel="noopener ugc nofollow" target="_blank" href="/bellman-ford-6bd907c6c4c0"> &lt; &lt;贝尔曼-福特</a> | <a class="ae mx" href="https://medium.com/@jbstevenard/learn-data-structures-and-algorithms-with-swift-5-6-d9f36a4027dd" rel="noopener">书</a> | <a class="ae mx" href="https://medium.com/@jbstevenard/recursion-vs-iteration-552f00c61758" rel="noopener">递归VS迭代&gt;&gt;T5】</a></p><div class="my mz gp gr na nb"><a href="https://medium.com/@jbstevenard/membership" rel="noopener follow" target="_blank"><div class="nc ab fo"><div class="nd ab ne cl cj nf"><h2 class="bd iu gy z fp ng fr fs nh fu fw is bi translated">通过我的推荐链接加入Medium—JB stevenard</h2><div class="ni l"><h3 class="bd b gy z fp ng fr fs nh fu fw dk translated">阅读jb stevenard的每一个故事(以及媒体上成千上万的其他作家)。你的会员费直接支持jb…</h3></div><div class="nj l"><p class="bd b dl z fp ng fr fs nh fu fw dk translated">medium.com</p></div></div><div class="nk l"><div class="nl l nm nn no nk np ks nb"/></div></div></a></div></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="4075" class="ls lt it bd lu lv nq lx ly lz nr mb mc jz ns ka me kc nt kd mg kf nu kg mi mj bi translated">分级编码</h1><p id="fce4" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld mm lf lg lh mn lj lk ll mo ln lo lp im bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="47dc" class="nv nw it kw b kx ky la lb ld nx lh ny ll nz lp oa ob oc od bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="05d5" class="nv nw it kw b kx oe la of ld og lh oh ll oi lp oa ob oc od bi translated">📰查看<a class="ae mx" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">升级编码出版物</a>中的更多内容</li><li id="34ff" class="nv nw it kw b kx oe la of ld og lh oh ll oi lp oa ob oc od bi translated">🔔关注我们:<a class="ae mx" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae mx" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae mx" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="275d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">🚀👉<a class="ae mx" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu">将像你这样的开发人员安置在顶级创业公司和科技公司</strong> </a></p></div></div>    
</body>
</html>