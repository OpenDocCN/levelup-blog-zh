<html>
<head>
<title>What is CSS Specificity and How Does it Work?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是CSS特异性，它是如何工作的？</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/what-is-css-specificity-and-how-it-works-833bb0b3d3a?source=collection_archive---------6-----------------------#2019-12-13">https://levelup.gitconnected.com/what-is-css-specificity-and-how-it-works-833bb0b3d3a?source=collection_archive---------6-----------------------#2019-12-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a4e4" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">了解如何根据元素的类和id将CSS样式应用于元素</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/cad5117ba8f26f895b707a71209485bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*r8NRLiZd9FmzWyes"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@goran_ivos?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Goran Ivos </a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="b4cd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">CSS代表级联样式表。这意味着样式流过整个应用程序，并应用于具有匹配标识符的元素。由于CSS是一种全局样式机制，我们必须了解当有冲突时浏览器如何决定应用什么样式。</p><p id="2b62" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">“级联”是指当一个特定元素有多个CSS声明和多个样式表的组合时，解决应用于该元素的样式之间的冲突。</em></p><p id="6db7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将使用一个叫做<strong class="ky ir">特异性</strong>的概念来看看如何应用冲突的样式规则。</p><p id="176b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你使用过像bootstrap这样的CSS框架，你可能会注意到你不能够轻易地为一些像按钮这样的元素添加额外的样式。这是因为CSS的特殊性。所以你需要添加一个更“具体”的选择器来改变按钮的CSS。</p><p id="a1bd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">看看下面的代码:</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="fa59" class="ly lz iq lu b gy ma mb l mc md">// HTML<br/>&lt;p class="para" id="para_id"&gt;This is a paragraph&lt;/p&gt;</span><span id="8820" class="ly lz iq lu b gy me mb l mc md">// CSS<br/>p {color: red;}</span><span id="08a9" class="ly lz iq lu b gy me mb l mc md">#para_id {color: green;}</span><span id="ced9" class="ly lz iq lu b gy me mb l mc md">.para {color: blue;}</span></pre><p id="d428" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你认为，段落的颜色会是什么？你困惑吗？</p><p id="89c2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">回答:</strong>颜色会是绿色。</p><p id="df98" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我知道，在你理解什么是CSS特异性之前，预测它真的很令人困惑。</p><p id="dda1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以让我们深入研究一下。</p><p id="b33e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将应用的CSS由所有浏览器中标准化的特性优先级决定。下面的列表是按照特定性优先顺序递增的。这意味着连接到最高优先级的样式将应用于该元素。</p><p id="4b00" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">1.<code class="fe mf mg mh lu b">!important</code>规则具有最高优先级<br/> 2。内嵌样式是第二高的优先级<br/> 3。<code class="fe mf mg mh lu b">id</code>是第三优先级<br/> 4。类、伪类和属性是第四优先级<br/> 5。元素和伪元素是第五优先级</p><p id="685f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以在上面的代码中，没有<code class="fe mf mg mh lu b">!important</code>或者内联样式，所以它们退出了游戏。但是，有一个<code class="fe mf mg mh lu b">id</code>、<code class="fe mf mg mh lu b">class</code>和元素选择器。所以由于<code class="fe mf mg mh lu b">id</code>的优先级最高，所以它获胜，绿色将成为该段落的颜色。</p><p id="c8b7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以在这里玩代码:<a class="ae kv" href="https://codepen.io/myogeshchavan97/pen/WNbxqMO?editors=1100#0" rel="noopener ugc nofollow" target="_blank">https://codepen.io/myogeshchavan97/pen/WNbxqMO?编辑=1100#0 </a></p><p id="ba33" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">试着移除<code class="fe mf mg mh lu b">id</code>或<code class="fe mf mg mh lu b">class</code>，看看会发生什么。</p></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><p id="61a5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，看一下下面的代码</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="c585" class="ly lz iq lu b gy ma mb l mc md">// HTML<br/>&lt;div id="list"&gt;<br/>  &lt;p class="favorite" id="must-buy"&gt;&lt;span&gt;Butter&lt;/span&gt;&lt;/p&gt;<br/>&lt;/div&gt;</span><span id="11f5" class="ly lz iq lu b gy me mb l mc md">// CSS<br/>div#list #must-buy { color: red; }<br/>.favorite span { color: blue !important; }</span></pre><p id="dcd8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你能辨认出文字“黄油”的颜色吗？</p><p id="517b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">回答:</strong>会是蓝色的</p><p id="cd57" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为什么？因为尽管<code class="fe mf mg mh lu b">id</code>比<code class="fe mf mg mh lu b">class</code>优先级高，但是<code class="fe mf mg mh lu b">!important</code>具有最高优先级，所以它总是赢。</p><p id="e385" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里玩玩吧:<a class="ae kv" href="https://codepen.io/myogeshchavan97/pen/VwYKZmX?editors=1100#0" rel="noopener ugc nofollow" target="_blank">https://codepen.io/myogeshchavan97/pen/VwYKZmX?编辑=1100#0 </a></p></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><p id="7c7e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">看看下面的代码:</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="bbfa" class="ly lz iq lu b gy ma mb l mc md">// HTML<br/> &lt;div class="list"&gt;<br/>    &lt;p class="favorite"&gt;<br/>      &lt;span class="highlight"&gt;Butter&lt;/span&gt;<br/>    &lt;/p&gt;<br/> &lt;/div&gt;</span><span id="de42" class="ly lz iq lu b gy me mb l mc md">// CSS<br/>div.list p .highlight { color: red; }<br/>div.list p .highlight:nth-of-type(odd) { color: black; }</span></pre><p id="8a17" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">看起来很复杂，对吧？</p><p id="04cd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们来简化一下。</p><p id="d4ee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将记录选择器出现的次数。因此，考虑一下第一条CSS规则</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="9e01" class="ly lz iq lu b gy ma mb l mc md">div.list p .highlight { color: red; }</span></pre><p id="cc70" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">1.！重要:没有！重要所以计数是<strong class="ky ir">0</strong>T10】2。内嵌样式:没有内嵌样式，所以计数为<strong class="ky ir">0</strong>3。Id:没有id，所以计数是<strong class="ky ir">0</strong>4。类、伪类和属性:这里有两个类，<strong class="ky ir">。列出</strong>和<strong class="ky ir">。突出显示</strong>所以计数是<strong class="ky ir">2</strong>T23】5。元素和伪元素:有2个元素，<strong class="ky ir"> div </strong>和<strong class="ky ir"> p </strong>，所以计数为<strong class="ky ir"> 2 </strong>。</p><p id="f6e4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以如果我们把它们写成一行，就变成了</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="9cc5" class="ly lz iq lu b gy ma mb l mc md"> 0 0 0 2 2</span></pre><p id="eeee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在考虑下一个CSS规则</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="077e" class="ly lz iq lu b gy ma mb l mc md">div.list p .highlight:nth-of-type(odd) { color: black; }</span></pre><p id="1eb3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">1.！重要:没有！重要所以计数是<strong class="ky ir">0</strong>T32】2。内嵌样式:没有内嵌样式，所以计数是<strong class="ky ir">0</strong>T35】3。Id:没有id，所以计数是<strong class="ky ir">0</strong>T38】4。类、伪类和属性:共有2个类<strong class="ky ir">。列出</strong>和<strong class="ky ir">。突出显示</strong>和1个伪类<strong class="ky ir">第n个类型</strong>，因此计数为<strong class="ky ir">3</strong>5。元素和伪元素:有2个元素<strong class="ky ir"> div </strong>和<strong class="ky ir"> p </strong>，所以计数为<strong class="ky ir"> 2 </strong></p><p id="0dd8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以如果我们把它们写成一行，就变成了</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="1ec5" class="ly lz iq lu b gy ma mb l mc md"> <strong class="lu ir">0 0 0 3 2</strong></span></pre><p id="70d8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了确定应用了哪一个，我们需要比较每个列的值</p><p id="1a88" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">0 0 2 2-&gt;T55】div . list p . highlight {颜色:红色；}<strong class="ky ir"><br/>0 0 3 2-&gt;</strong>div . list p . highlight:n-of-type(奇数){ color:黑色；}</strong></p><p id="5659" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">第一列是0。<br/>第二列为0。<br/>第三列是0 <br/>第四列是第一条规则的2，第二条规则的3，所以第二条规则是赢家，颜色是黑色。</p><p id="10f3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这里玩一下:<a class="ae kv" href="https://codepen.io/myogeshchavan97/pen/KKwgPmp?editors=1100" rel="noopener ugc nofollow" target="_blank">https://codepen.io/myogeshchavan97/pen/KKwgPmp?editors=1100</a></p></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><p id="1925" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在你明白了…</p><p id="5fe9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果所有列都具有如下所示的相同值，会发生什么情况:</p><p id="6118" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">0 0 0 2 2 <br/> 0 0 0 2 2</p><p id="0bee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这种情况下，最后编写的规则将优先，CSS将被应用。因此，如果您导入多个样式表，当特异性相等时，最后导入的样式表将应用其样式。</p><h2 id="db5c" class="ly lz iq bd mp mq mr dn ms mt mu dp mv lf mw mx my lj mz na nb ln nc nd ne nf bi translated"><strong class="ak">要点:</strong></h2><ol class=""><li id="935e" class="ng nh iq ky b kz ni lc nj lf nk lj nl ln nm lr nn no np nq bi translated"><code class="fe mf mg mh lu b">!important</code>具有最高优先级，不能被覆盖。这意味着我们不应该用它来应用样式，因为很难管理冲突和调试CSS。只有在没有其他选择的情况下才应该使用它。</li><li id="6ae6" class="ng nh iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated">使用<code class="fe mf mg mh lu b">id</code>比<code class="fe mf mg mh lu b">class</code>少。<code class="fe mf mg mh lu b">id</code>优先于类，所以你必须小心使用它，以确保如果你在你的应用程序中共享组件，你不会创建一个太具体而不能改变的样式。</li><li id="19ae" class="ng nh iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated">解决样式冲突的最好方法是添加更多的<code class="fe mf mg mh lu b">class</code>来提高特异性。这使得你的CSS代码更有目的性，并防止你遇到这样的情况:你有一个用<code class="fe mf mg mh lu b">id</code>或<code class="fe mf mg mh lu b">!important</code>样式的元素，但你不能改变它。</li></ol><p id="4a0b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">别忘了直接在你的收件箱</strong> <a class="ae kv" href="https://yogeshchavan.dev" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">这里</strong> </a> <strong class="ky ir">订阅我的每周简讯，里面有惊人的技巧、窍门和文章。</strong></p></div></div>    
</body>
</html>