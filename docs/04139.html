<html>
<head>
<title>An Alternative To Invoking Constructors</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">调用构造函数的替代方法</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/forget-about-constructors-8fb61288065?source=collection_archive---------9-----------------------#2020-06-11">https://levelup.gitconnected.com/forget-about-constructors-8fb61288065?source=collection_archive---------9-----------------------#2020-06-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="db54" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">应用设计模式</h2><div class=""/><div class=""><h2 id="e9d0" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">让我们使用另一种方法来实现对象实例化</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/8632332d6780a25cc616aaba7f0e33cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b8swGL50LNjMKIlsJXdzEg.png"/></div></div></figure><p id="0f22" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">您可能已经阅读过左右“新建”对象的代码——要理解这些对象的用途，您需要非常熟悉传递给构造函数的值的含义。</p><p id="0a31" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">你们都知道我在说什么…就是这个。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi lz"><img src="../Images/13e2cb09e49d1fb87b1a54147d88d7d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6yXUrv8c47Hktz0u8FVGdw.png"/></div></div></figure><p id="1213" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">一行代码。简单。但是，意图何在？</p><p id="02de" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">为了揭开这个谜，你试图在总是写得很好的文档或任何其他地方找到这种信息可能的澄清。却在这里发现了这块宝石。</p><pre class="ks kt ku kv gt ma mb mc md aw me bi"><span id="ca4f" class="mf mg it mb b gy mh mi l mj mk"><em class="ml">From meeting notes</em><br/>A score is categorized as <strong class="mb jd">Low</strong>, <strong class="mb jd">Medium</strong>, or <strong class="mb jd">High</strong>.</span></pre><p id="4853" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">那3到底是什么？在这一点上做出假设肯定会给你带来各种各样的麻烦。</p><blockquote class="mm"><p id="af0f" class="mn mo it bd mp mq mr ms mt mu mv ly dk translated">停止使用无意义的构造函数。从调用者那里抽象出实例化细节。</p></blockquote><h1 id="99ea" class="mw mg it bd mx my mz na nb nc nd ne nf ki ng kj nh kl ni km nj ko nk kp nl nm bi translated">我们给代码增加一些清晰度怎么样？</h1><p id="24e0" class="pw-post-body-paragraph ld le it lf b lg nn kd li lj no kg ll lm np lo lp lq nq ls lt lu nr lw lx ly im bi translated">我们将应用一个非常简单的模式，我在客户项目中已经用它取得了很多成功。</p><p id="3159" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">对于这个演示，我们使用三种不同的方法来隐藏实例化逻辑。让它们适应你的喜好。</p><h2 id="7d14" class="mf mg it bd mx ns nt dn nb nu nv dp nf lm nw nx nh lq ny nz nj lu oa ob nl iz bi translated">1静态工厂方法</h2><p id="b217" class="pw-post-body-paragraph ld le it lf b lg nn kd li lj no kg ll lm np lo lp lq nq ls lt lu nr lw lx ly im bi translated">如果我们的对象可能只有几个不同的有效状态，我们可以简单地为每个状态创建静态工厂方法。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi lz"><img src="../Images/7011b4e550540d04ae18b268bff0d531.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d86mwD957AeWXSg6dH23sA.png"/></div></div></figure><p id="62a2" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">现在毫无疑问我们在处理什么分数。这种方法毫无疑问是最强大的方法，因为用最少的努力就可以让你的代码更容易阅读。</p><h2 id="8e6c" class="mf mg it bd mx ns nt dn nb nu nv dp nf lm nw nx nh lq ny nz nj lu oa ob nl iz bi translated">2带有枚举参数的静态工厂方法</h2><p id="d984" class="pw-post-body-paragraph ld le it lf b lg nn kd li lj no kg ll lm np lo lp lq nq ls lt lu nr lw lx ly im bi translated">不确定最终会有多少个有效的状态？也许您稍后会添加另一个分数，然后选择enum参数。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi lz"><img src="../Images/c51caf04e7e6aca11c4549506789f409.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IdU64O_1MANRRJMsb7-5tQ.png"/></div></div></figure><p id="02ae" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">默认操作是抛出异常。这可能是期望的操作，但是作为抛出的替代，您可以返回一个空对象。</p><div class="oc od gp gr oe of"><a href="https://medium.com/swlh/stop-checking-for-nulls-5f9f857ddf72" rel="noopener follow" target="_blank"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd jd gy z fp ok fr fs ol fu fw jc bi translated">在本文中了解更多关于空对象的知识:停止检查空值</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">空对象模式、工厂方法——让我们看看一些生产就绪代码！</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">medium.com</p></div></div><div class="oo l"><div class="op l oq or os oo ot lb of"/></div></div></a></div><h2 id="6d8b" class="mf mg it bd mx ns nt dn nb nu nv dp nf lm nw nx nh lq ny nz nj lu oa ob nl iz bi translated">3静态工厂方法——一切都是对象</h2><p id="2bbb" class="pw-post-body-paragraph ld le it lf b lg nn kd li lj no kg ll lm np lo lp lq nq ls lt lu nr lw lx ly im bi translated">如果你相信所有的东西都应该被建模为一个独立的对象，你可能会想采用这种方法。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi lz"><img src="../Images/f5824d65fdaa5aeae4c601400473dd97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fQ80XgQF2Hs7eOlN91sjOg.png"/></div></div></figure><p id="b7d7" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">对于这个简单的例子，我认为这是矫枉过正。但是，我也想向您展示这种方法，因为它确实为您提供了很大的灵活性。</p><h2 id="0224" class="mf mg it bd mx ns nt dn nb nu nv dp nf lm nw nx nh lq ny nz nj lu oa ob nl iz bi translated">测试时间</h2><p id="0c54" class="pw-post-body-paragraph ld le it lf b lg nn kd li lj no kg ll lm np lo lp lq nq ls lt lu nr lw lx ly im bi translated">像往常一样，只是一些简单的测试表明它实际上工作…停止视频，如果你想阅读代码。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ou ov l"/></div></figure><h1 id="ba82" class="mw mg it bd mx my mz na nb nc nd ne nf ki ow kj nh kl ox km nj ko oy kp nl nm bi translated">但是工厂类呢？</h1><p id="10ef" class="pw-post-body-paragraph ld le it lf b lg nn kd li lj no kg ll lm np lo lp lq nq ls lt lu nr lw lx ly im bi translated">那是一个通行证。至少对于简单的事情。</p><p id="3954" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">否则，我们可能会以<code class="fe oz pa pb mb b">AbstractFactoryFactory</code>结束，突然之间，我们处理了如此多的间接问题，以至于我们完全看不到我们要解决的商业问题。</p><p id="3bf5" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">通常，我们想要的只是稍微清晰一点，以真正让这些意图流行起来。在这些情况下，工厂模式就是太多的工作。</p></div><div class="ab cl pc pd hx pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt ma mb mc md aw me bi"><span id="7867" class="mf mg it mb b gy mh mi l mj mk"><strong class="mb jd">Resources for the curious</strong></span><span id="4a7c" class="mf mg it mb b gy pj mi l mj mk"><a class="ae pk" href="https://refactoring.guru/design-patterns/factory-method#:~:text=Factory%20Method%20is%20a%20creational,objects%20that%20will%20be%20created." rel="noopener ugc nofollow" target="_blank">Explanation by refactoring guru</a><br/><a class="ae pk" href="https://sourcemaking.com/design_patterns/factory_method" rel="noopener ugc nofollow" target="_blank">Explanation by SourceMaking</a><br/><a class="ae pk" href="https://dzone.com/articles/factory-method-vs-simple-factory-1" rel="noopener ugc nofollow" target="_blank">Simple Factory vs Factory Method by Shamik Mitra</a> </span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pl"><img src="../Images/351b3fba9bccebfbd7d4b79e8acbdd31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TMZihqPx2zFjYDyIZ5tKTQ.png"/></div></div></figure><div class="oc od gp gr oe of"><a href="https://medium.com/@nmillard/5-ways-to-replace-if-else-statements-857c0ff19357" rel="noopener follow" target="_blank"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd jd gy z fp ok fr fs ol fu fw jc bi translated">替换If-Else语句的5种方法</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">从初级到高级的例子</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">medium.com</p></div></div><div class="oo l"><div class="pm l oq or os oo ot lb of"/></div></div></a></div><div class="oc od gp gr oe of"><a href="https://medium.com/swlh/stop-using-if-else-statements-f4d2323e6e4" rel="noopener follow" target="_blank"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd jd gy z fp ok fr fs ol fu fw jc bi translated">停止使用If-Else语句</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">编写干净、可维护的代码，不使用if-else。</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">medium.com</p></div></div><div class="oo l"><div class="pn l oq or os oo ot lb of"/></div></div></a></div><div class="oc od gp gr oe of"><a rel="noopener  ugc nofollow" target="_blank" href="/never-store-secrets-in-appsettings-json-3a7404ea50d0"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd jd gy z fp ok fr fs ol fu fw jc bi translated">永远不要在appsettings.json中存储机密</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">太多的人弄错了。让我们来弥补吧。</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="oo l"><div class="po l oq or os oo ot lb of"/></div></div></a></div><div class="oc od gp gr oe of"><a href="https://medium.com/swlh/stop-checking-for-nulls-5f9f857ddf72" rel="noopener follow" target="_blank"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd jd gy z fp ok fr fs ol fu fw jc bi translated">停止检查空值</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">空对象模式、工厂方法——让我们看看一些生产就绪代码！</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">medium.com</p></div></div><div class="oo l"><div class="op l oq or os oo ot lb of"/></div></div></a></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pl"><img src="../Images/f70d5718c17adae23df1d2bf5338905b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MDwPKwBpzfsQJ9xn0ilZNQ.png"/></div></div></figure><p id="490a" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf jd"> Nicklas Millard </strong>是一名软件开发工程师，供职于一家发展最快的银行，负责构建关键金融服务基础设施。</p><p id="d7f6" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">此前，他是Big4的高级技术顾问，为商业客户和政府机构开发软件。</p><blockquote class="pp pq pr"><p id="1415" class="ld le ml lf b lg lh kd li lj lk kg ll ps ln lo lp pt lr ls lt pu lv lw lx ly im bi translated">在<a class="ae pk" href="https://www.linkedin.com/in/nicklasmillard/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上连接</p></blockquote></div></div>    
</body>
</html>