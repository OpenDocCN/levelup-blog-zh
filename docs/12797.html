<html>
<head>
<title>How to Show and Hide Content Scrolling Up and Down in React Native with Reanimated</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何显示和隐藏React Native和reactive中上下滚动的内容</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-show-and-hide-content-scrolling-up-and-down-in-react-native-with-reanimated-12d20af00db7?source=collection_archive---------2-----------------------#2022-07-11">https://levelup.gitconnected.com/how-to-show-and-hide-content-scrolling-up-and-down-in-react-native-with-reanimated-12d20af00db7?source=collection_archive---------2-----------------------#2022-07-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/bab7297dcdd5930664191aa8efce7e25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*R8Pg1oSWJIZpHSnA"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae kc" href="https://unsplash.com/@vojtechbruzek?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Vojtech Bruzek </a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="708d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这篇文章中，我们将创建一些类似于Medium的应用程序文章动作的东西，当你向上滚动时出现，当你向下滚动时消失，这是一种我们称为“滚动显示”的技术，并且还添加了一个简单的动画。那么，我们开始吧。</p><figure class="lb lc ld le gt jr"><div class="bz fp l di"><div class="lf lg l"/></div></figure><figure class="lb lc ld le gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lh"><img src="../Images/f7e5b28c3a184e2dce7c7f5502b0a018.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6jSbEmPSnA0glb4XqKSc2Q.png"/></div></div></figure><p id="215d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们现在可以滚动了，但是文章操作栏还没有消失。我们将利用返回事件处理程序引用的<code class="fe li lj lk ll b"><a class="ae kc" href="https://docs.swmansion.com/react-native-reanimated/docs/api/hooks/useAnimatedScrollHandler/" rel="noopener ugc nofollow" target="_blank">useAnimatedScrollHandler</a></code>。</p><p id="5272" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，编写逻辑来检查用户是向上滚动还是向下滚动。</p><figure class="lb lc ld le gt jr"><div class="bz fp l di"><div class="lf lg l"/></div></figure><p id="6d26" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们定义了一个<code class="fe li lj lk ll b">scrollHandler</code>，并将其附加到<code class="fe li lj lk ll b">ScrollView.</code></p><p id="463c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">请注意，我已经将<code class="fe li lj lk ll b">ScrollView</code>改为<code class="fe li lj lk ll b">Animated.ScrollView</code>，将<code class="fe li lj lk ll b">View</code>改为<code class="fe li lj lk ll b">Animated.View</code>。在<code class="fe li lj lk ll b">Animated</code>中包装组件允许处理器正确触发。另外，注意我们用来存储值的<code class="fe li lj lk ll b">useSharedValue</code>钩子。钩子携带数据，提供对变化作出反应的方法，并驱动动画。</p><p id="cca9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们可以检测用户何时上下滚动，我们可以隐藏和显示文章操作栏。我们将利用translate style属性来实现这一点。当用户向上滚动时，<code class="fe li lj lk ll b">translateY</code>属性的值应该是0和100。</p><figure class="lb lc ld le gt jr"><div class="bz fp l di"><div class="lf lg l"/></div></figure><p id="4ce2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">添加了一个新的钩子，<code class="fe li lj lk ll b">useAnimatedStyle.</code>我们将使用<code class="fe li lj lk ll b"><a class="ae kc" href="https://docs.swmansion.com/react-native-reanimated/docs/api/useAnimatedStyle" rel="noopener ugc nofollow" target="_blank">useAnimatedStyle</a></code> <a class="ae kc" href="https://docs.swmansion.com/react-native-reanimated/docs/api/useAnimatedStyle" rel="noopener ugc nofollow" target="_blank">钩子</a>来生成一个小工作包。这个钩子返回一个对象样式，然后我们可以将这个样式添加到一个元素中。在上面的代码中，我将由<code class="fe li lj lk ll b">useAnimatedStyle</code>返回的样式对象添加到文章操作栏中。</p><p id="9535" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我还使用了<code class="fe li lj lk ll b">withTiming</code>函数来实现动画。如果没有这个函数，元素就不会有动画效果。</p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div class="gh gi lm"><img src="../Images/1526005583f859ce5f299311c050c58c.png" data-original-src="https://miro.medium.com/v2/resize:fit:830/1*4MPbHIzUmKO57gKaizWYeA.gif"/></div></figure><p id="0f8e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">仅此而已。你可以查看一下<a class="ae kc" href="https://snack.expo.dev/@dhatguy/7e0970" rel="noopener ugc nofollow" target="_blank"> snackbar </a>和<a class="ae kc" href="https://github.com/dhatGuy/reveal-on-scroll" rel="noopener ugc nofollow" target="_blank"> GitHub库。</a></p></div><div class="ab cl ln lo hu lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ij ik il im in"><h1 id="9059" class="lu lv iq bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">分级编码</h1><p id="ed1c" class="pw-post-body-paragraph kd ke iq kf b kg ms ki kj kk mt km kn ko mu kq kr ks mv ku kv kw mw ky kz la ij bi translated">感谢您成为我们社区的一员！更多内容请参见<a class="ae kc" href="https://levelup.gitconnected.com/" rel="noopener ugc nofollow" target="_blank">升级编码出版物</a>。<br/>跟随:<a class="ae kc" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">推特</a>，<a class="ae kc" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">领英</a>，<a class="ae kc" href="https://newsletter.levelup.dev/" rel="noopener ugc nofollow" target="_blank">通迅</a> <br/> <strong class="kf ir">升一级正在转型的理工大招聘➡️ </strong> <a class="ae kc" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">加入我们的人才集体</strong> </a></p></div></div>    
</body>
</html>