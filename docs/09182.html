<html>
<head>
<title>Implement Android Snackbar in Jetpack Compose</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Jetpack Compose中实现Android Snackbar</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/implement-android-snackbar-in-jetpack-compose-d83df5ff5b47?source=collection_archive---------9-----------------------#2021-07-14">https://levelup.gitconnected.com/implement-android-snackbar-in-jetpack-compose-d83df5ff5b47?source=collection_archive---------9-----------------------#2021-07-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5def" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何使用Jetpack Compose创建Android snackbar</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/cee8660b99c66ab0e1c74aac943084fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4EdFUiHlN_DWVPKL"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@dsmacinnes?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">丹妮尔·麦金尼斯</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="c815" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://developer.android.com/reference/kotlin/androidx/compose/material/package-summary#Snackbar(androidx.compose.ui.Modifier,kotlin.Function0,kotlin.Boolean,androidx.compose.ui.graphics.Shape,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.ui.unit.Dp,kotlin.Function0)" rel="noopener ugc nofollow" target="_blank"> Snackbars </a>用于在用户界面的底部，应用程序内容的前面向用户提供快速更新。它们暂时出现在屏幕底部，不会像dialog那样阻挡内容或吸引用户的注意力。此外，他们可以显示一个按钮，让用户点击时采取行动。</p><p id="9697" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将解释如何使用Jetpack Compose创建snackbar。</p><h1 id="b6cd" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">1.我们开始吧</h1><p id="a0b7" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">我们来看看<code class="fe ms mt mu mv b"><a class="ae ky" href="https://developer.android.com/reference/kotlin/androidx/compose/material/package-summary#Snackbar(androidx.compose.ui.Modifier,kotlin.Function0,kotlin.Boolean,androidx.compose.ui.graphics.Shape,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.ui.unit.Dp,kotlin.Function0)" rel="noopener ugc nofollow" target="_blank">Snackbar</a></code>的方法签名。开箱即用，API为我们提供了许多默认字段，我们只需要关心表示将在snackbar中显示的文本的<code class="fe ms mt mu mv b">content</code>字段。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mw mx l"/></div></figure><h1 id="4ba6" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">2.带文本的零食条</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/9d26f54582f07635e3f6bf651259e3e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZCgyXnmxZ246CSy_PgnDZA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://material.io/archive/guidelines/components/snackbars-toasts.html#snackbars-toasts-usage" rel="noopener ugc nofollow" target="_blank">https://material . io/archive/guidelines/components/snack bars-toats . html # snack bars-toats-usage</a></figcaption></figure><p id="8478" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一个简单的snackbar，里面有一个文本，我们使用了接受另一个可组合函数的<code class="fe ms mt mu mv b">content</code>字段。遵循材料指南，这是一个文本小部件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mw mx l"/></div></figure><h1 id="b7d4" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">3.带有行动项目的零食条</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/b9224297b89c20c02527c73ad493d68e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jyai9fOFhnqaVu5UK9iq_A.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://material.io/archive/guidelines/components/snackbars-toasts.html#snackbars-toasts-usage" rel="noopener ugc nofollow" target="_blank">https://material . io/archive/guidelines/components/snack bars-toats . html # snack bars-toats-usage</a></figcaption></figure><p id="20e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有时，用户想要执行一个动作。<code class="fe ms mt mu mv b">action</code>字段采用一个可组合的函数，遵循材料指南，一个文本按钮小部件就足够了。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="f01e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果一个动作很长，文本按钮小部件可以显示在第三行。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/f09f04e45691256533cf1b7710abb590.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w8auv5yF4LRV8BY_9aP23w.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://material.io/components/snackbars#anatomy" rel="noopener ugc nofollow" target="_blank">https://material.io/components/snackbars#anatomy</a></figcaption></figure><p id="4e9b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用<code class="fe ms mt mu mv b">actionOnNewLine</code>字段并将其设置为true。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mw mx l"/></div></figure><h1 id="0e10" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">4.显示或隐藏零食条</h1><p id="442a" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated"><a class="ae ky" href="https://developer.android.com/reference/kotlin/androidx/compose/material/package-summary#Scaffold(androidx.compose.ui.Modifier,androidx.compose.material.ScaffoldState,kotlin.Function0,kotlin.Function0,kotlin.Function1,kotlin.Function0,androidx.compose.material.FabPosition,kotlin.Boolean,kotlin.Function1,kotlin.Boolean,androidx.compose.ui.graphics.Shape,androidx.compose.ui.unit.Dp,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,kotlin.Function1)" rel="noopener ugc nofollow" target="_blank"> Scaffold </a>带有内置的snackbar，带有基于材质规格的显示/隐藏动画，因此我们不需要像上面那样创建这些自定义动画。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi na"><img src="../Images/fb0ffc33968be86631289e334365e32e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/1*0tVb2FiL2CbyIuCu9zQhmg.png"/></div></figure><p id="e893" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过单击浮动按钮，会出现一个带有文本按钮的snackbar。以下是代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="e116" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们深入研究一下<code class="fe ms mt mu mv b">showSnackbar()</code>函数:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="b574" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一个<code class="fe ms mt mu mv b">suspend</code>函数，所以我们需要把它放在协程范围内。我们可以传递三个可用的属性:</p><ul class=""><li id="7b2b" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu ng nh ni nj bi translated"><code class="fe ms mt mu mv b">message</code>:snack bar中的文本。</li><li id="9cf8" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated"><code class="fe ms mt mu mv b">actionLabel</code>:零食条中的动作标签。</li><li id="ba82" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated"><code class="fe ms mt mu mv b">duration</code>:选择<code class="fe ms mt mu mv b">SnackbarDuration.Short</code>、<code class="fe ms mt mu mv b">SnackbarDuration.Long</code>或<code class="fe ms mt mu mv b">SnackbarDuration.Indefinite</code>。</li></ul><p id="f661" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果点击了选项动作，则返回<code class="fe ms mt mu mv b">SnackbarResult.ActionPerformed</code>;如果通过超时或用户取消了snackbar，则返回<code class="fe ms mt mu mv b">SnackbarResult.Dismissed</code>。通过捕捉<code class="fe ms mt mu mv b">ActionPerformed</code>，我们可以处理点击按钮时的动作。</p></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><p id="4844" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我们快速浏览了Jetpack Compose中的Snackbar组件。非常感谢你阅读我的文章。<em class="nw">如果你喜欢这个故事，请</em> <strong class="lb iu"> <em class="nw">点击</em> </strong>👏<strong class="lb iu"> <em class="nw">按钮，分享</em> </strong> <em class="nw">它来帮助别人！</em>关注我<a class="ae ky" href="https://mr-umbrella.medium.com/" rel="noopener">中</a>T30】获取更多牛逼安卓小技巧。你也可以在<a class="ae ky" href="https://www.linkedin.com/in/huynh-phong-3649a7131/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上找到我。祝您愉快！😄</p><h1 id="1020" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">继续读Android的东西</h1><p id="3c56" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/how-to-create-like-button-animation-in-android-part-1-f99e2792143d">如何在Android中创建like按钮动画</a></p><p id="a2fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/shared-element-using-materialcontainertransform-in-android-6d420e74b122">在Android中使用MaterialContainerTransform共享元素</a></p><p id="4ca0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/android-button-morphing-animation-bc3bed740501">安卓按钮变形动画</a></p><p id="93bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/motionlayout-collapsing-toolbar-d0ce8dd874b6">运动布局——折叠工具栏</a></p><h1 id="b3ba" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">Jetpack撰写</h1><p id="4d00" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/implement-android-tablayout-in-jetpack-compose-e61c113add79">在Jetpack Compose中实现tab layout</a></p><p id="6da4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/implement-tablayout-with-viewpager-in-android-jetpack-compose-d509fc6e2d8e">在Jetpack Compose中用ViewPager实现talayout</a></p><p id="035a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/create-an-auto-scroll-viewpager-with-transformation-and-ken-burns-effect-in-android-jetpack-compose-efdf46f2e8ed">在Jetpack Compose中创建一个带有变形和ken burns效果的自动滚动viewparager</a></p></div></div>    
</body>
</html>