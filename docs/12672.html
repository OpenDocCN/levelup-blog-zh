<html>
<head>
<title>Keys to Crushing it at Software Development on AWS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在AWS上进行软件开发的关键</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/keys-to-crushing-it-at-software-development-on-aws-5ca0853cad85?source=collection_archive---------9-----------------------#2022-06-28">https://levelup.gitconnected.com/keys-to-crushing-it-at-software-development-on-aws-5ca0853cad85?source=collection_archive---------9-----------------------#2022-06-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b5fa7ee3afe43d42fd5b01d3bf89e56d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jyN_UE-lVDDNEbde"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae kc" href="https://unsplash.com/@davidjones?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">大卫·琼斯</a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><p id="d767" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">2022年的每一种媒体都开始接受这种企业美学，这看起来像是让资本主义更具吸引力的心理实验。总有一张像自行车或盆栽植物之类的照片被随意扔在那里。</p><blockquote class="lb"><p id="ff0e" class="lc ld iq bd le lf lg lh li lj lk la dk translated">当然，我绝不会堕落到使用这种策略。</p></blockquote><p id="e1c0" class="pw-post-body-paragraph kd ke iq kf b kg ll ki kj kk lm km kn ko ln kq kr ks lo ku kv kw lp ky kz la ij bi translated">无论如何，这里有一些<em class="lq">绝对粉碎AWS上的“疯狂fuggin”即兴重复的关键！</em></p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h2 id="69f8" class="ly lz iq bd ma mb mc dn md me mf dp mg ko mh mi mj ks mk ml mm kw mn mo mp mq bi translated">如果您需要的只是一个仪表板…</h2><p id="9748" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">我强烈建议停下来，看看如何使用Honeycode、Quicksight或Cloudwatch仪表盘。很多时候，我们认为我们需要重新发明轮子，从头开始编写另一个定制应用程序。2022年真的不再是这样了。亚马逊Honeycode 是一个无代码的解决方案，可以给你一个经过认证的原生移动应用，可以在各种显示器上显示你的数据。您可以选择一些模板，比如库存系统、项目跟踪工具等等。</p><p id="4775" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您需要更精细的可视化或特定的数据源<a class="ae kc" href="https://aws.amazon.com/quicksight/" rel="noopener ugc nofollow" target="_blank"> Amazon Quicksight </a>是一款易于使用的云软件，用于创建商业智能仪表盘等。然后<a class="ae kc" href="https://aws.amazon.com/cloudwatch/" rel="noopener ugc nofollow" target="_blank"> Amazon Cloudwatch </a>集成了几乎所有的AWS，并具有仪表板功能。您可以从运行在EC2、ECS、Lambda或任何地方的任何应用程序获取日志，并以最小的努力显示指标。它还具有惊人的能力。此外，还可以从AWS物联网核心中提取设备遥测数据，以便在Cloudwatch中可视化。</p><h2 id="864d" class="ly lz iq bd ma mb mc dn md me mf dp mg ko mh mi mj ks mk ml mm kw mn mo mp mq bi translated">试着在前面有尽可能多的需求</h2><p id="24f2" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">我应该使用数百万个Lambda函数和数百万个提供的并发自动伸缩策略<a class="ae kc" href="https://news.ycombinator.com/item?id=28839232" rel="noopener ugc nofollow" target="_blank">还是简单地构建一个足够强大的EC2实例并结束一天的工作</a>？。<a class="ae kc" href="https://aws.amazon.com/solutions/implementations/multi-region-application-architecture/" rel="noopener ugc nofollow" target="_blank">您的客户群位于世界的什么地方？我是从另一个托管服务迁移过来的吗？我的预期流量是多少？这东西需要多安全？慈爱的上帝怎么会允许如此多的苦难？提前找到这些紧迫问题的答案。</a></p><h2 id="ac58" class="ly lz iq bd ma mb mc dn md me mf dp mg ko mh mi mj ks mk ml mm kw mn mo mp mq bi translated">做最快的事</h2><p id="7901" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">从<a class="ae kc" href="https://serverlessland.com/patterns" rel="noopener ugc nofollow" target="_blank"> serverlessland </a>、<a class="ae kc" href="https://github.com/stelligent/cloudformation_templates" rel="noopener ugc nofollow" target="_blank"> stelligent </a>、<a class="ae kc" href="https://github.com/awesome-cdk" rel="noopener ugc nofollow" target="_blank"> awsome-cdk </a>、<a class="ae kc" href="https://github.com/aws-samples" rel="noopener ugc nofollow" target="_blank"> aws-samples </a>、<a class="ae kc" href="https://constructs.dev/" rel="noopener ugc nofollow" target="_blank"> construct-hub </a>等处寻找解决方案。它完成了你想要的90%,并填充了剩下的部分。有可能这些模板也比从头开始编写的东西更健壮。</p><h2 id="845e" class="ly lz iq bd ma mb mc dn md me mf dp mg ko mh mi mj ks mk ml mm kw mn mo mp mq bi translated">始终有一个管道，始终有代码形式的基础设施(IaC)</h2><p id="f2d7" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">CI/CD管道有太多关于它们的文献，我甚至不打算触及这个主题。请注意，这是任何现代成功应用程序的必要条件。此外，您将希望通过该管道部署您的基础设施变更，而不是让这样的变更占用您的终端一整天。AWS <a class="ae kc" href="https://aws.amazon.com/cloudformation/" rel="noopener ugc nofollow" target="_blank"> Cloudformation </a>、<a class="ae kc" href="https://aws.amazon.com/serverless/sam/" rel="noopener ugc nofollow" target="_blank"> SAM </a>和<a class="ae kc" href="https://aws.amazon.com/cdk/" rel="noopener ugc nofollow" target="_blank"> CDK </a>最适合部署基础设施，因为它们由AWS的人员维护(尽管SAM和CDK是开源的)。萨姆和CDK只是Cloudformation的包装器，它们可以被编译成模板文件。其他第三方框架包括<a class="ae kc" href="https://www.serverless.com/" rel="noopener ugc nofollow" target="_blank">无服务器</a>(用于无服务器应用，顾名思义)和<a class="ae kc" href="https://www.terraform.io/" rel="noopener ugc nofollow" target="_blank"> Terraform </a>。此外，您可以使用<a class="ae kc" href="https://aws.amazon.com/opsworks/" rel="noopener ugc nofollow" target="_blank"> AWS OpsWorks </a>和<a class="ae kc" href="https://www.chef.io/" rel="noopener ugc nofollow" target="_blank"> Chef </a>或<a class="ae kc" href="https://puppet.com/use-cases/application-delivery-operations/" rel="noopener ugc nofollow" target="_blank"> Puppet </a>将基础设施配置管理带到云中。</p><p id="a593" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">CDK一直是我个人最喜欢的，因为你可以用更少的行获得同样的输出。另外，它是字面上的代码，所以你可以使用面向对象的编程来扩展现有的模式并节省大量时间。无论您选择什么，我都高度强调IaC linter的使用，并在您的CI/CD管道中添加该linter作为通过要求。如果您选择CF/SAM/CDK路线，我选择的工具是cfn nag:</p><div class="mw mx gp gr my mz"><a href="https://github.com/stelligent/cfn_nag" rel="noopener  ugc nofollow" target="_blank"><div class="na ab fo"><div class="nb ab nc cl cj nd"><h2 class="bd ir gy z fp ne fr fs nf fu fw ip bi translated">GitHub - stelligent/cfn_nag:云形成模板的林挺工具</h2><div class="ng l"><h3 class="bd b gy z fp ne fr fs nf fu fw dk translated">cfn-nag工具在CloudFormation模板中寻找可能指示不安全基础设施的模式。</h3></div><div class="nh l"><p class="bd b dl z fp ne fr fs nf fu fw dk translated">github.com</p></div></div><div class="ni l"><div class="nj l nk nl nm ni nn jw mz"/></div></div></a></div><h2 id="6e05" class="ly lz iq bd ma mb mc dn md me mf dp mg ko mh mi mj ks mk ml mm kw mn mo mp mq bi translated">确保您也遵循云基础架构最佳实践</h2><p id="302c" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">在您开始在“开发”客户中工作之前，请确保正确的AWS客户治理已经到位。通过建立一个AWS控制塔多账户环境来减少爆炸影响半径。一个典型的多帐户策略看起来像这样，带有一个额外的“帐户自动售货机”来设置开发人员沙盒环境，以及开发、测试和生产环境。</p><figure class="np nq nr ns gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi no"><img src="../Images/abfa78965049b1559253cc4228f89e9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4dXINvSLo8Wiw1KO.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">AWS多账户战略</figcaption></figure><h2 id="dc74" class="ly lz iq bd ma mb mc dn md me mf dp mg ko mh mi mj ks mk ml mm kw mn mo mp mq bi translated">了解你的定价！</h2><p id="d3e6" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">软件开发相关服务的定价可能很棘手，因为有太多的条件。以AWS Lambda为例。影响你账单的基本因素包括:<a class="ae kc" href="https://aws.amazon.com/about-aws/global-infrastructure/regions_az/" rel="noopener ugc nofollow" target="_blank">区域</a>，CPU架构(<a class="ae kc" href="https://filia-aleks.medium.com/aws-lambda-battle-x86-vs-arm-graviton2-perfromance-3581aaef75d9" rel="noopener"> x86或者ARM </a>)，内存分配(<a class="ae kc" href="https://docs.aws.amazon.com/lambda/latest/operatorguide/computing-power.html" rel="noopener ugc nofollow" target="_blank"> 128 MB到2022年前的10240 MB</a>)，函数执行时长(<a class="ae kc" href="https://aws.amazon.com/lambda/faqs/" rel="noopener ugc nofollow" target="_blank"> 1秒到15分钟</a>)，调用次数。此后，你的定价算法中会出现额外的变量。您是否在定制的VPC“内部”运行您的功能(您的答案应该是肯定的)？您的函数是否数据密集到512 MB的临时存储空间不够大？<a class="ae kc" href="https://aws.plainenglish.io/keep-your-aws-lambda-functions-warm-and-avoid-cold-start-1c80e02ea6f9" rel="noopener ugc nofollow" target="_blank">冷启动时间</a>对您的延迟敏感型服务来说是个问题吗？</p><p id="a724" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">知道你的价格不仅仅是为了避免昂贵的东西。你可以从这些知识中真正受益的地方是<a class="ae kc" href="https://medium.com/javarevisited/aws-free-tier-blindspots-70c174487d73" rel="noopener">了解AWS著名的免费层。</a></p><h2 id="1ab0" class="ly lz iq bd ma mb mc dn md me mf dp mg ko mh mi mj ks mk ml mm kw mn mo mp mq bi translated">探索面向垂直行业的专业化解决方案</h2><p id="48b1" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">AWS为医疗保健、汽车、能源、媒体、供应链和制造业等多个行业提供<a class="ae kc" href="https://aws.amazon.com/industries/" rel="noopener ugc nofollow" target="_blank">服务</a>和<a class="ae kc" href="https://awsindustryproducts.splashthat.com/" rel="noopener ugc nofollow" target="_blank">全功能产品</a>。例如，<em class="lq">制造设备</em>可以通过<a class="ae kc" href="https://aws.amazon.com/monitron/" rel="noopener ugc nofollow" target="_blank">AWS monitoron</a>提供的专用硬件进行监控。如果您想使用自己的监控设备，<a class="ae kc" href="https://aws.amazon.com/lookout-for-equipment/" rel="noopener ugc nofollow" target="_blank"> AWS Lookout for Equipment </a>可以设置在检测到异常时采取的自动行动，而<a class="ae kc" href="https://aws.amazon.com/iot-sitewise/" rel="noopener ugc nofollow" target="_blank"> AWS IoT Sitewise </a>可以收集、存储、组织和监控数据。</p><h2 id="c32a" class="ly lz iq bd ma mb mc dn md me mf dp mg ko mh mi mj ks mk ml mm kw mn mo mp mq bi translated">选择一个源代码控制策略并坚持下去</h2><p id="9e44" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">CodeCommit是我的首选，因为它已经与AWS的其余部分集成在一起。Github将是我的第二选择，因为它拥有广泛的行业采用率和大量的文档、集成、社区论坛等。Gitlab和Bitbucket以我的经验来看整合起来稍微困难一点。至于分支策略，我通常倾向于基于主干的策略；我不太关注这个，因为你可能会掉进一个真正的兔子洞</p><p id="d08d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">代码审查可能很耗时，因此审查人员越少越好。准备好合适的工具，比如linters、单元测试和安全扫描，减少了我们过去担心投入生产的大部分事情。你仍然需要至少有一双眼睛盯着每个PR中的代码，以确保你没有忽略显而易见的东西。结合使用<a class="ae kc" href="https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks" rel="noopener ugc nofollow" target="_blank"> git钩子</a>和<a class="ae kc" href="https://docs.gitguardian.com/internal-repositories-monitoring/integrations/git_hooks/pre_commit" rel="noopener ugc nofollow" target="_blank"> git guardian </a>可以在安全漏洞到达PR阶段之前将其捕获。始终通过拉请求和自动部署触发器进行部署。</p><h2 id="c011" class="ly lz iq bd ma mb mc dn md me mf dp mg ko mh mi mj ks mk ml mm kw mn mo mp mq bi translated">学会正确记录</h2><p id="aba0" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">所有阶段的日志记录都可以通过AWS Cloudwatch(应用程序日志记录)和AWS Cloudtrail(访问日志记录)的组合来完成，它们大多数时候不需要任何额外的配置，并且很容易推理。</p><h2 id="47bf" class="ly lz iq bd ma mb mc dn md me mf dp mg ko mh mi mj ks mk ml mm kw mn mo mp mq bi translated">结论</h2><p id="f9c3" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">这些是我能马上想到的钥匙。对我说的话不要全信。我从2015年就开始使用AWS，但由于有超过200种服务，不可能了解所有情况。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h1 id="6803" class="nt lz iq bd ma nu nv nw md nx ny nz mg oa ob oc mj od oe of mm og oh oi mp oj bi translated">分级编码</h1><p id="91d5" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">感谢您成为我们社区的一员！更多内容见<a class="ae kc" href="https://levelup.gitconnected.com/" rel="noopener ugc nofollow" target="_blank">级编码出版物</a>。<br/>跟随:<a class="ae kc" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">推特</a>，<a class="ae kc" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">领英</a>，<a class="ae kc" href="https://newsletter.levelup.dev/" rel="noopener ugc nofollow" target="_blank">通迅</a> <br/> <strong class="kf ir">升一级正在改造理工大招聘➡️ </strong> <a class="ae kc" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">加入我们的人才集体</strong> </a></p></div></div>    
</body>
</html>