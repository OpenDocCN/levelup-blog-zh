<html>
<head>
<title>Pseudo-Random Strings in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的伪随机字符串</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/pseudo-random-strings-in-python-866b73c2fa22?source=collection_archive---------8-----------------------#2020-03-21">https://levelup.gitconnected.com/pseudo-random-strings-in-python-866b73c2fa22?source=collection_archive---------8-----------------------#2020-03-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7ef1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解如何生成它们</h2></div><p id="a3f1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这篇文章中，我将展示如何用Python生成伪随机字符串。我们开始吧！</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/4d0b3fd63d21146ce0669410a086ae16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TOUqXXmWrypY0RH1EO6Bvg.jpeg"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk translated"><a class="ae lu" href="https://pixabay.com/photos/woodtype-printing-font-letterpress-846089/" rel="noopener ugc nofollow" target="_blank">图片来自Pixabay中的免费照片</a></figcaption></figure><h1 id="bd1b" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">“随机”模块</h1><p id="7e2e" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">在第一种方法中，我们将使用<a class="ae lu" href="https://docs.python.org/3/library/random.html" rel="noopener ugc nofollow" target="_blank">随机模块</a>。这个模块允许我们创建伪随机数或序列，并且可以用于生成非安全相关的字符串。正如我们将在下一节看到的，在这种情况下，我们应该使用<a class="ae lu" href="https://docs.python.org/3/library/secrets.html" rel="noopener ugc nofollow" target="_blank">秘密模块</a>。</p><p id="ccea" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们从这种方法开始。首先，我们需要定义希望包含在字符串中的字符类型(大写字母、小写字母、数字等)。).我们可以通过使用字符串模块来做到这一点，它为每个字符集提供了一组常量。我们可以在一个“字母表”变量中加入两个或多个这样的常数。在我们的示例中，我们将使用字母(大写和小写)和数字:</p><pre class="lf lg lh li gt ms mt mu mv aw mw bi"><span id="6480" class="mx lw it mt b gy my mz l na nb">import string</span><span id="cf17" class="mx lw it mt b gy nc mz l na nb">alphabet = string.ascii_letters + string.digits</span></pre><p id="3311" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">每个常量都是一个字符串，所以“alphabet”保存了连接这些常量的结果。我们现在可以定义所需字符串的长度“n ”,将其作为参数传递给我们的函数，并调用<a class="ae lu" href="https://docs.python.org/3/library/random.html#random.choice" rel="noopener ugc nofollow" target="_blank"> random.choice() </a> n次:</p><pre class="lf lg lh li gt ms mt mu mv aw mw bi"><span id="c681" class="mx lw it mt b gy my mz l na nb">import random<br/>import string</span><span id="da64" class="mx lw it mt b gy nc mz l na nb">def rand(n):<br/>  alphabet = string.ascii_letters + string.digits<br/>  return ''.join(random.choice(alphabet) for i in range(n))</span></pre><p id="bf5b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您运行这个函数，您将看到它生成了一个具有定义的字母表和长度的随机字符串。</p><h1 id="60fd" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">“秘密”模块</h1><p id="efc7" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">如果你需要在一个安全相关的场景中创建一个随机字符串(例如，密码重置)，重要的是你使用<a class="ae lu" href="https://docs.python.org/3/library/secrets.html" rel="noopener ugc nofollow" target="_blank">秘密模块</a>而不是<a class="ae lu" href="https://docs.python.org/3/library/random.html" rel="noopener ugc nofollow" target="_blank">随机模块</a>。这个模块可以从Python 3.6中获得，在<a class="ae lu" href="https://www.python.org/dev/peps/pep-0506/" rel="noopener ugc nofollow" target="_blank"> PEP 506 </a>中被建议提供一个开箱即用的解决方案，在与安全相关的场景中使用加密强大的原语，因为很多人使用<a class="ae lu" href="https://docs.python.org/3/library/random.html" rel="noopener ugc nofollow" target="_blank">随机模块</a>来生成临时密码(参见<a class="ae lu" href="https://www.python.org/dev/peps/pep-0506/#rationale" rel="noopener ugc nofollow" target="_blank">其基本原理在这里</a>)。</p><p id="481d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们看看如何使用<a class="ae lu" href="https://docs.python.org/3/library/secrets.html" rel="noopener ugc nofollow" target="_blank">秘密模块</a>用指定的字母表实现一个长度为n的随机字符串。您会发现方法实际上是相同的:</p><pre class="lf lg lh li gt ms mt mu mv aw mw bi"><span id="de4b" class="mx lw it mt b gy my mz l na nb">import secrets<br/>import string</span><span id="801a" class="mx lw it mt b gy nc mz l na nb">def sec(n):<br/>  alphabet = string.ascii_letters + string.digits<br/>  return ''.join(secrets.choice(alphabet) for i in range(n))</span></pre><p id="0b0b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">就是这样！您现在已经学会了如何创建一个伪随机字符串，现在您只需要明智地选择模块！</p></div></div>    
</body>
</html>