<html>
<head>
<title>React Native — React Navigation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">反应本地-反应导航</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/react-native-react-navigation-b27ab272e09b?source=collection_archive---------4-----------------------#2020-07-10">https://levelup.gitconnected.com/react-native-react-navigation-b27ab272e09b?source=collection_archive---------4-----------------------#2020-07-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="fcd3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">堆栈导航器</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9b327a11bde60ceb0e6d7e69ac382188.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wd-kOZSmKEeLf1SXYH85lw.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">伊娃·拉乔维奇在<a class="ae ky" href="https://unsplash.com/s/photos/stack-navigation?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="87ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用移动应用程序时，在屏幕上导航至关重要。<a class="ae ky" href="https://reactnavigation.org" rel="noopener ugc nofollow" target="_blank"> React Navigation </a>是一个很棒的库，允许你在React本地项目中创建不同类型的导航体验。</p><p id="8807" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我第一次开始使用React Native时，我认为如何在屏幕上导航有点令人困惑。这甚至更复杂，因为我想使用<strong class="lb iu">类型脚本</strong>，而大多数在线示例都是用Javascript编写的。</p><p id="60ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我现在的目的是向你展示我在使用<strong class="lb iu"> Typescript </strong>构建几种类型的导航器时所学到的东西，这样你就不会像我一开始那样痛苦了。</p><p id="a59b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，让我们开始配置一个基本的<strong class="lb iu">堆栈导航器</strong>，它将允许您在欢迎登录和注册屏幕之间导航，如下图所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/357fa949bf848d127a593ebcfe53390b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QmJRQthSxPunIU54fCLNCQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">堆栈导航示例线框</figcaption></figure><h2 id="5e55" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">设置您的项目和反应导航</h2><p id="c4b3" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">让我们从创建一个基于世博会的项目开始。请务必在您的计算机上安装expo。如果您还没有安装它，您可以通过运行:</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="0ffb" class="lw lx it mv b gy mz na l nb nc">npm install -g expo-cli</span></pre><p id="d613" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">安装完成后，让我们通过运行以下命令创建一个项目，</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="3c83" class="lw lx it mv b gy mz na l nb nc">expo init <!-- -->StackNavigatorExample</span></pre><p id="d21a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦expo完成了项目的初始化，你就必须安装React Navigation和所有需要的依赖项。让我们做好所有准备工作:</p><ol class=""><li id="08fc" class="nd ne it lb b lc ld lf lg li nf lm ng lq nh lu ni nj nk nl bi translated">通过运行<code class="fe nm nn no mv b">cd StackNavigatorExample</code>将<code class="fe nm nn no mv b">cd</code>导入到您的项目中</li></ol><p id="20a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2.安装React导航，</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="9156" class="lw lx it mv b gy mz na l nb nc">npm i @react-navigation/native</span></pre><p id="5fc8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">3.安装对等依赖项</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="6df7" class="lw lx it mv b gy mz na l nb nc">expo install react-native-gesture-handler react-native-reanimated react-native-screens react-native-safe-area-context <a class="ae ky" href="http://twitter.com/react" rel="noopener ugc nofollow" target="_blank">@react</a>-native-community/masked-view</span></pre><p id="cbb3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">4.从React导航安装堆栈导航器</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="fb85" class="lw lx it mv b gy mz na l nb nc">npm install @react-navigation/stack</span></pre><p id="008c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">5.开始编码！</p><h2 id="1481" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">创建项目结构和导航器</h2><p id="81a3" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">现在您已经设置了我们的项目，您可以继续创建将由导航器处理的所有屏幕。让我们从创建项目的结构开始。</p><p id="859f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们添加以下目录来存储每个屏幕:</p><ul class=""><li id="0fe6" class="nd ne it lb b lc ld lf lg li nf lm ng lq nh lu np nj nk nl bi translated"><code class="fe nm nn no mv b">src/screens/Auth/LoginScreen</code></li><li id="878f" class="nd ne it lb b lc nq lf nr li ns lm nt lq nu lu np nj nk nl bi translated"><code class="fe nm nn no mv b">src/screens/Auth/SignupScreen</code></li><li id="0cb7" class="nd ne it lb b lc nq lf nr li ns lm nt lq nu lu np nj nk nl bi translated"><code class="fe nm nn no mv b">src/screens/WelcomeScreen</code></li></ul><p id="a85f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您的项目应该如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/96bdfe26eb92ee0e5fc694fd790dc831.png" data-original-src="https://miro.medium.com/v2/resize:fit:972/format:webp/1*zyqZK9uzbOhkF9JcB3nRow.png"/></div></figure><p id="aa2d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在您已经有了这个基本的项目结构，让我们创建导航器。为了模块化项目，我将为我在<code class="fe nm nn no mv b">src/navigators/AuthFlowNavigator/index.tsx</code>中的所有导航器创建一个单独的目录。</p><p id="f90d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nm nn no mv b">index.tsx</code>文件应该是这样的:</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="2547" class="lw lx it mv b gy mz na l nb nc">import React from 'react';<br/>import { createStackNavigator } from '<a class="ae ky" href="http://twitter.com/react" rel="noopener ugc nofollow" target="_blank">@react</a>-navigation/stack';<br/>import WelcomeScreen from '../../screens/WelcomeScreen';<br/>import LoginScreen from '../../screens/Auth/LoginScreen';<br/>import SignupScreen, { SignupParams } from '../../screens/Auth/SignupScreen';</span><span id="5d9e" class="lw lx it mv b gy nw na l nb nc">export enum AppScreens {<br/>    Welcome = 'Welcome',<br/>    Login = 'Login',<br/>    Signup = 'Signup'<br/>}</span><span id="7815" class="lw lx it mv b gy nw na l nb nc">export type AuthStackParamList = {<br/>    Login: undefined;<br/>    Signup: SignupParams;<br/>    Welcome: undefined;<br/>};</span><span id="f484" class="lw lx it mv b gy nw na l nb nc">const AuthStack = createStackNavigator&lt;AuthStackParamList&gt;();</span><span id="b6b3" class="lw lx it mv b gy nw na l nb nc">const AuthFlowNavigator: React.FunctionComponent = () =&gt; {<br/>    return (<br/>        &lt;AuthStack.Navigator headerMode="none"&gt;<br/>            &lt;AuthStack.Screen name={AppScreens.Welcome} component={WelcomeScreen} /&gt;<br/>            &lt;AuthStack.Screen name={AppScreens.Login} component={LoginScreen} /&gt;<br/>            &lt;AuthStack.Screen name={AppScreens.Signup} component={SignupScreen} /&gt;<br/>        &lt;/AuthStack.Navigator&gt;<br/>    );<br/>};</span><span id="e1da" class="lw lx it mv b gy nw na l nb nc">export default AuthFlowNavigator;</span></pre><p id="e295" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">😮你现在可能想知道这些代码在做什么。但这很简单。我会一步一步解释，</p><ol class=""><li id="b900" class="nd ne it lb b lc ld lf lg li nf lm ng lq nh lu ni nj nk nl bi translated">用应用程序中所有屏幕的名称定义一个枚举。这将允许您在它们之间导航，而无需在屏幕中添加硬编码的名称，这样更不容易出错，因为它将在代码中的任何地方使用相关的名称</li></ol><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="c2d6" class="lw lx it mv b gy mz na l nb nc">export enum AppScreens {<br/>    Welcome = 'Welcome',<br/>    Login = 'Login',<br/>    Signup = 'Signup'<br/>}</span></pre><p id="0a6e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2.定义哪些参数可以传递到导航器的每个屏幕，</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="7ed2" class="lw lx it mv b gy mz na l nb nc">export type AuthStackParamList = {<br/>    Login: undefined;<br/>    Signup: SignupParams;<br/>    Welcome: undefined;<br/>};</span></pre><p id="1fe9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们在这种情况下看到的，唯一接收到某个东西的屏幕是<code class="fe nm nn no mv b">SignupScreen</code>，我们一会儿将得到它的参数的定义。</p><p id="1805" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">3.最后，我们必须创建我们的导航器并将其导出，以便我们可以在我们的<code class="fe nm nn no mv b">App.tsx</code>上使用它，因为它是我们应用程序的入口点。</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="181f" class="lw lx it mv b gy mz na l nb nc">const AuthStack = createStackNavigator&lt;AuthStackParamList&gt;();</span><span id="c322" class="lw lx it mv b gy nw na l nb nc">const AuthFlowNavigator: React.FunctionComponent = () =&gt; {<br/>    return (<br/>        &lt;AuthStack.Navigator headerMode="none"&gt;<br/>            &lt;AuthStack.Screen name={AppScreens.Welcome} component={WelcomeScreen} /&gt;<br/>            &lt;AuthStack.Screen name={AppScreens.Login} component={LoginScreen} /&gt;<br/>            &lt;AuthStack.Screen name={AppScreens.Signup} component={SignupScreen} /&gt;<br/>        &lt;/AuthStack.Navigator&gt;<br/>    );<br/>};</span><span id="de77" class="lw lx it mv b gy nw na l nb nc">export default AuthFlowNavigator;</span></pre><p id="da91" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如你所看到的，我已经将<code class="fe nm nn no mv b">headerMode="none"</code>道具添加到了导航器中。基本上，这样做的目的是隐藏默认的<strong class="lb iu"/><strong class="lb iu">标题</strong>和默认的<code class="fe nm nn no mv b">back</code>按钮，这是堆栈导航器中的默认按钮。</p><p id="e168" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的代码中要考虑的另一件事是，我们用下面的代码添加了所有我们想放在堆栈中的屏幕，</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="29a2" class="lw lx it mv b gy mz na l nb nc">&lt;AuthStack.Screen name={AppScreens.Welcome} component={WelcomeScreen} /&gt;</span></pre><p id="2235" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们的示例中，我们只添加了3个屏幕，一个用于欢迎屏幕，另一个用于登录屏幕，第三个用于注册屏幕。</p><p id="247f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">4.更新你的<code class="fe nm nn no mv b">App.tsx</code>文件，如下所示:</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="4d31" class="lw lx it mv b gy mz na l nb nc">import React from 'react';<br/>import { NavigationContainer } from '<a class="ae ky" href="http://twitter.com/react" rel="noopener ugc nofollow" target="_blank">@react</a>-navigation/native';<br/>import AuthFlowNavigator from './src/navigators/AuthFlowNavigator';</span><span id="3460" class="lw lx it mv b gy nw na l nb nc">export default function App() {<br/>    return (<br/>        &lt;NavigationContainer&gt;<br/>            &lt;AuthFlowNavigator /&gt;<br/>        &lt;/NavigationContainer&gt;<br/>    );<br/>}</span></pre><p id="e3ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过这样做，我们的AuthFlowNavigator将能够显示我们上面定义的屏幕。</p><h2 id="03ed" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">欢迎屏幕</h2><p id="72a0" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">现在我们已经设置好了导航器，让我们向初始屏幕添加一些代码(<code class="fe nm nn no mv b">src/screens/WelcomeScreen/index.tsx</code>)，</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="328f" class="lw lx it mv b gy mz na l nb nc">import React from 'react';<br/>import { SafeAreaView, StyleSheet, Text, View, Button } from 'react-native';<br/>import { StackNavigationProp } from '<a class="ae ky" href="http://twitter.com/react" rel="noopener ugc nofollow" target="_blank">@react</a>-navigation/stack';<br/>import { AuthStackParamList, AppScreens } from '../../navigators/AuthFlowNavigator';</span><span id="cc37" class="lw lx it mv b gy nw na l nb nc">type WelcomeScreenNavigationProps = StackNavigationProp&lt;AuthStackParamList, AppScreens.Welcome&gt;;</span><span id="42b2" class="lw lx it mv b gy nw na l nb nc">interface WelcomeScreenProps {<br/>    navigation: WelcomeScreenNavigationProps;<br/>}</span><span id="c6a8" class="lw lx it mv b gy nw na l nb nc">const styles = StyleSheet.create({<br/>    btnNextContainer: {<br/>        alignSelf: 'flex-end'<br/>    },<br/>    container: {<br/>        flex: 1,<br/>        alignItems: 'center',<br/>        justifyContent: 'space-between',<br/>        margin: 10<br/>    },<br/>    welcome: {<br/>        fontSize: 30<br/>    },<br/>    welcomeContainer: {<br/>        alignItems: 'center',<br/>        justifyContent: 'center',<br/>        flex: 1,<br/>        width: '100%'<br/>    }<br/>});</span><span id="537e" class="lw lx it mv b gy nw na l nb nc">const WelcomeScreen: React.FunctionComponent&lt;WelcomeScreenProps&gt; = (props) =&gt; {<br/>    const { navigation } = props;</span><span id="7ce1" class="lw lx it mv b gy nw na l nb nc">return (<br/>        &lt;SafeAreaView style={styles.container}&gt;<br/>            &lt;View style={styles.welcomeContainer}&gt;<br/>                &lt;Text style={styles.welcome}&gt;Welcome&lt;/Text&gt;<br/>            &lt;/View&gt;<br/>            &lt;View style={styles.btnNextContainer}&gt;<br/>                &lt;Button title="NEXT" onPress={() =&gt; navigation.navigate(AppScreens.Login)} /&gt;<br/>            &lt;/View&gt;<br/>        &lt;/SafeAreaView&gt;<br/>    );<br/>};</span><span id="f172" class="lw lx it mv b gy nw na l nb nc">export default WelcomeScreen;</span></pre><p id="e94c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这应该会得到以下结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/45ff25a84d403b5685bdeac90dbd5393.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*srJlJ5zg9vumGgGbyaUl4Q.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">欢迎屏幕</figcaption></figure><p id="2874" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如您在下面的代码中看到的，</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="e8a3" class="lw lx it mv b gy mz na l nb nc">&lt;Button title="NEXT" onPress={() =&gt; navigation.navigate(AppScreens.Login)} /&gt;</span></pre><p id="0e00" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们正在显示一个按钮，允许我们导航到堆栈上的下一个屏幕。看看我们如何使用<code class="fe nm nn no mv b">AppScreens.Login</code>，这是我们之前定义的枚举，它帮助我们知道他在我们的应用程序上有哪些屏幕，并防止我们键入错误的屏幕名称。</p><h2 id="3e91" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">登录屏幕</h2><p id="e74c" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">现在让我们为<code class="fe nm nn no mv b">src/screens/auth/LoginScreen/index.tsx</code>内部的<code class="fe nm nn no mv b">LoginScreen</code>添加代码。它应该是这样的:</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="83cc" class="lw lx it mv b gy mz na l nb nc">import React, { useState } from 'react';<br/>import { SafeAreaView, StyleSheet, Text, TextInput, Button, View } from 'react-native';<br/>import { AppScreens, AuthStackParamList } from '../../../navigators/AuthFlowNavigator';<br/>import { StackNavigationProp } from '<a class="ae ky" href="http://twitter.com/react" rel="noopener ugc nofollow" target="_blank">@react</a>-navigation/stack';</span><span id="3d32" class="lw lx it mv b gy nw na l nb nc">type LoginScreenNavigationProps = StackNavigationProp&lt;AuthStackParamList, AppScreens.Login&gt;;</span><span id="bece" class="lw lx it mv b gy nw na l nb nc">interface LoginScreenProps {<br/>    navigation: LoginScreenNavigationProps;<br/>}</span><span id="0f82" class="lw lx it mv b gy nw na l nb nc">const styles = StyleSheet.create({<br/>    btnSignupContainer: {<br/>        alignItems: 'center'<br/>    },<br/>    container: {<br/>        flex: 1,<br/>        alignItems: 'center',<br/>        justifyContent: 'space-between',<br/>        margin: 10<br/>    },<br/>    textInput: {<br/>        borderRadius: 5,<br/>        borderWidth: 1,<br/>        borderColor: 'grey',<br/>        marginTop: 4,<br/>        padding: 2,<br/>        width: '100%'<br/>    },<br/>    textInputContainer: {<br/>        width: '100%'<br/>    },<br/>    txtHello: {<br/>        fontSize: 30<br/>    }<br/>});</span><span id="8275" class="lw lx it mv b gy nw na l nb nc">const LoginScreen: React.FunctionComponent&lt;LoginScreenProps&gt; = (props) =&gt; {<br/>    const { navigation } = props;<br/>    const [username, setUsername] = useState&lt;string&gt;('');</span><span id="462f" class="lw lx it mv b gy nw na l nb nc">return (<br/>        &lt;SafeAreaView style={styles.container}&gt;<br/>            &lt;Text style={styles.txtHello}&gt;Hello&lt;/Text&gt;<br/>            &lt;View style={styles.textInputContainer}&gt;<br/>                &lt;TextInput<br/>                    value={username}<br/>                    placeholder="username"<br/>                    style={styles.textInput}<br/>                    onChangeText={(text) =&gt; setUsername(text)}<br/>                /&gt;<br/>                &lt;TextInput placeholder="password" secureTextEntry={true} style={styles.textInput} /&gt;<br/>            &lt;/View&gt;<br/>            &lt;View style={styles.btnSignupContainer}&gt;<br/>                &lt;Text&gt;Or&lt;/Text&gt;<br/>                &lt;Button title="Signup" onPress={() =&gt; navigation.navigate(AppScreens.Signup, { username })} /&gt;<br/>            &lt;/View&gt;<br/>        &lt;/SafeAreaView&gt;<br/>    );<br/>};</span><span id="bd94" class="lw lx it mv b gy nw na l nb nc">export default LoginScreen;</span></pre><p id="6344" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它应该会给出以下结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/cf33b90eefbd2bf672543ef7ef1cb7ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IUiXYfMm98Q3OKxRDelahw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">登录屏幕</figcaption></figure><p id="826c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如你所见，与<code class="fe nm nn no mv b">WelcomeScreen</code>相比，与导航相关的代码基本相同。唯一的主要区别是，我们将<code class="fe nm nn no mv b">username</code>值传递给了<code class="fe nm nn no mv b">SignupScreen</code>，作为第二个参数传递给了<code class="fe nm nn no mv b">navigate()</code>一个对象，该对象包含了我们想要发送到下一个屏幕的所有信息:</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="a6c6" class="lw lx it mv b gy mz na l nb nc">&lt;Button title="Signup" onPress={() =&gt; navigation.navigate(AppScreens.Signup, { username })} /&gt;</span></pre><h2 id="7683" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">注册屏幕</h2><p id="22ef" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">最后，在<code class="fe nm nn no mv b">src/screens/auth/SignupScreen/index.tsx</code>将下面的代码添加到我们的<code class="fe nm nn no mv b">SignupScreen</code>中，</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="9002" class="lw lx it mv b gy mz na l nb nc">import React from 'react';<br/>import { SafeAreaView, StyleSheet, Text, TextInput, Button, View } from 'react-native';<br/>import { AppScreens, AuthStackParamList } from '../../../navigators/AuthFlowNavigator';<br/>import { StackNavigationProp } from '<a class="ae ky" href="http://twitter.com/react" rel="noopener ugc nofollow" target="_blank">@react</a>-navigation/stack';</span><span id="7c37" class="lw lx it mv b gy nw na l nb nc">type SignupScreenNavigationProps = StackNavigationProp&lt;AuthStackParamList, AppScreens.Signup&gt;;</span><span id="f458" class="lw lx it mv b gy nw na l nb nc">export type SignupParams = {<br/>    username: string;<br/>};</span><span id="8b0c" class="lw lx it mv b gy nw na l nb nc">interface SignupScreenProps {<br/>    route: { params: SignupParams };<br/>    navigation: SignupScreenNavigationProps;<br/>}</span><span id="154c" class="lw lx it mv b gy nw na l nb nc">const styles = StyleSheet.create({<br/>    btnLoginContainer: {<br/>        alignSelf: 'center'<br/>    },<br/>    container: {<br/>        flex: 1,<br/>        alignItems: 'center',<br/>        justifyContent: 'space-between',<br/>        margin: 10<br/>    },<br/>    txtSignupScreen: {<br/>        fontSize: 30<br/>    },<br/>    txtSignupScreenContainer: {<br/>        flex: 1,<br/>        alignItems: 'center',<br/>        justifyContent: 'center'<br/>    },<br/>    txtUsername: {<br/>        fontSize: 25,<br/>        color: 'grey'<br/>    }<br/>});</span><span id="1f24" class="lw lx it mv b gy nw na l nb nc">const SignupScreen: React.FunctionComponent&lt;SignupScreenProps&gt; = (props) =&gt; {<br/>    const { navigation, route } = props;<br/>    const { params } = route;<br/>    const { username } = params;</span><span id="9838" class="lw lx it mv b gy nw na l nb nc">return (<br/>        &lt;SafeAreaView style={styles.container}&gt;<br/>            &lt;View style={styles.txtSignupScreenContainer}&gt;<br/>                &lt;Text style={styles.txtSignupScreen}&gt;SignupScreen&lt;/Text&gt;<br/>                &lt;Text style={styles.txtUsername}&gt;{username}&lt;/Text&gt;<br/>            &lt;/View&gt;<br/>            &lt;View style={styles.btnLoginContainer}&gt;<br/>                &lt;Text&gt;have an account?&lt;/Text&gt;<br/>                &lt;Button title="Login" onPress={() =&gt; navigation.pop()} /&gt;<br/>            &lt;/View&gt;<br/>        &lt;/SafeAreaView&gt;<br/>    );<br/>};</span><span id="559f" class="lw lx it mv b gy nw na l nb nc">export default SignupScreen;</span></pre><p id="2a9d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个屏幕中，您会注意到与上一个屏幕相比有一些变化。这里我们必须让屏幕知道它接收了哪些参数。我们将在本节中讨论这一点，</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="4fd4" class="lw lx it mv b gy mz na l nb nc">export type SignupParams = {<br/>    username: string;<br/>};</span><span id="586e" class="lw lx it mv b gy nw na l nb nc">interface SignupScreenProps {<br/>    route: { params: SignupParams };<br/>    navigation: SignupScreenNavigationProps;<br/>}</span></pre><p id="8984" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的代码应该给我们以下结果，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/2014109010115877ba8d056233c4cf3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kyEF-hKSeli4JtD5Mvcf1Q.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">注册屏幕</figcaption></figure><p id="a6a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您会注意到，由于我们已经完成的设置，我们能够传递<code class="fe nm nn no mv b">username</code>值。您可以在文本<code class="fe nm nn no mv b">username text field</code>上键入一些内容，然后点击<code class="fe nm nn no mv b">signup</code>按钮，您将看到注册屏幕上显示的值:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/c3bbeb34f30ee5deaf50fe8992f0e5a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:484/1*BLzE5351aV0KlDcmm2xEmg.gif"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">航行</figcaption></figure><h1 id="f9db" class="nz lx it bd ly oa ob oc mb od oe of me jz og ka mh kc oh kd mk kf oi kg mn oj bi translated">结论</h1><p id="b3e7" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">如你所见，使用<a class="ae ky" href="https://reactnavigation.org/docs/getting-started" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> React Navigation </strong> </a>设置导航器非常简单。如果你已经知道了一些<a class="ae ky" href="https://www.typescriptlang.org/docs/home.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Typescript </strong> </a>的概念，我们所经历的代码对你来说应该很熟悉。如果您在项目中使用Javascript，设置导航器的工作方式是相同的，只需删除所有类型和接口，它应该工作正常。</p><p id="aa9d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建其他类型的导航器也非常简单。一旦熟悉了React导航，您会发现向项目添加新屏幕是多么容易！</p></div><div class="ab cl ok ol hx om" role="separator"><span class="on bw bk oo op oq"/><span class="on bw bk oo op oq"/><span class="on bw bk oo op"/></div><div class="im in io ip iq"><p id="9afc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我已经将回购上传到我的GitHub账户，以防你想克隆它并马上使用它😃</p><p id="1b82" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://github.com/gmotzespina/StackNavigatorExample" rel="noopener ugc nofollow" target="_blank">https://github.com/gmotzespina/StackNavigatorExample</a></p></div></div>    
</body>
</html>