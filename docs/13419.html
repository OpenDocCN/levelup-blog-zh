<html>
<head>
<title>Code Smell 161 — Abstract/Final/Undefined Classes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">代码气味161 —抽象/最终/未定义的类</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/code-smell-161-abstract-final-undefined-classes-3b3acaefb29f?source=collection_archive---------18-----------------------#2022-09-02">https://levelup.gitconnected.com/code-smell-161-abstract-final-undefined-classes-3b3acaefb29f?source=collection_archive---------18-----------------------#2022-09-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0d14" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated"><em class="kf">你的类是抽象的、最终的或未定义的</em></h2></div><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi kg"><img src="../Images/fe08e1b2e3e73be70473c6f903cbd228.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-Q8MmIgjxM1Umu2iIJXZlQ.jpeg"/></div></div></figure><blockquote class="ks kt ku"><p id="20db" class="kv kw kx ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="iq">TL；DR:如果你的语言有合适的工具，你的类应该是抽象的或者最终的。</em></p></blockquote><h1 id="aceb" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">问题</h1><ul class=""><li id="8bbc" class="mk ml iq ky b kz mm lc mn mo mp mq mr ms mt lr mu mv mw mx bi translated"><a class="ae my" href="https://mcsee.medium.com/code-smell-11-subclassification-for-code-reuse-2e2f5b564204" rel="noopener">代码重用的子类化</a></li><li id="e3de" class="mk ml iq ky b kz mz lc na mo nb mq nc ms nd lr mu mv mw mx bi translated">只有一个具体子类的<a class="ae my" rel="noopener ugc nofollow" target="_blank" href="/code-smell-136-classes-with-just-one-subclass-9406951f9e16">类</a></li><li id="43b0" class="mk ml iq ky b kz mz lc na mo nb mq nc ms nd lr mu mv mw mx bi translated">利斯科夫替代违反</li><li id="4d4a" class="mk ml iq ky b kz mz lc na mo nb mq nc ms nd lr mu mv mw mx bi translated">[溜溜球]问题</li></ul><h1 id="9098" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">解决方法</h1><ol class=""><li id="f888" class="mk ml iq ky b kz mm lc mn mo mp mq mr ms mt lr ne mv mw mx bi translated">将所有的叶子类声明为最终的<em class="kx">和抽象的<em class="kx"/>。</em></li></ol><h1 id="0c29" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">语境</h1><p id="2bf1" class="pw-post-body-paragraph kv kw iq ky b kz mm jr lb lc mn ju le mo nf lh li mq ng ll lm ms nh lp lq lr ij bi translated">管理层次和组合是一个好的软件设计师的主要任务。</p><p id="c55b" class="pw-post-body-paragraph kv kw iq ky b kz la jr lb lc ld ju le mo lg lh li mq lk ll lm ms lo lp lq lr ij bi translated">保持健康的层级结构对于促进凝聚力和避免耦合至关重要。</p><h1 id="077f" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">示例代码</h1><h2 id="a201" class="ni lt iq bd lu nj nk dn ly nl nm dp mc mo nn no me mq np nq mg ms nr ns mi nt bi translated">错误的</h2><pre class="kh ki kj kk gt nu nv nw nx aw ny bi"><span id="e519" class="ni lt iq nv b gy nz oa l ob oc">public class Vehicle<br/>{<br/>  // class is not a leaf. Therefore it should be abstract</span><span id="466c" class="ni lt iq nv b gy od oa l ob oc">  //an abstract method that only declares, but does not define the start <br/>  //functionality because each vehicle uses a different starting mechanism<br/>  abstract void start();<br/>}</span><span id="642c" class="ni lt iq nv b gy od oa l ob oc">public class Car extends Vehicle<br/>{<br/>  // class is leaf. Therefore it should be final<br/>}</span><span id="6d2f" class="ni lt iq nv b gy od oa l ob oc">public class Motorcycle extends Vehicle<br/>{<br/>  // class is leaf. Therefore it should be final<br/>}</span></pre><h2 id="e386" class="ni lt iq bd lu nj nk dn ly nl nm dp mc mo nn no me mq np nq mg ms nr ns mi nt bi translated">对吧</h2><pre class="kh ki kj kk gt nu nv nw nx aw ny bi"><span id="c1a8" class="ni lt iq nv b gy nz oa l ob oc">abstract public class Vehicle<br/>{<br/>  // class is not a leaf. Therefore it is be abstract  </span><span id="6340" class="ni lt iq nv b gy od oa l ob oc">  //an abstract method that only declares, but does not define the start <br/>  //functionality because each vehicle uses a different starting mechanism<br/>  abstract void start();<br/>}</span><span id="dcff" class="ni lt iq nv b gy od oa l ob oc">final public class Car extends Vehicle<br/>{<br/>  // class is leaf. Therefore it is final<br/>}</span><span id="31c6" class="ni lt iq nv b gy od oa l ob oc">final public class Motorcycle extends Vehicle<br/>{<br/>  // class is leaf. Therefore it is final<br/>}</span></pre><h1 id="b5a0" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">侦查</h1><p id="0102" class="pw-post-body-paragraph kv kw iq ky b kz mm jr lb lc mn ju le mo nf lh li mq ng ll lm ms nh lp lq lr ij bi translated">[X]自动</p><p id="2e15" class="pw-post-body-paragraph kv kw iq ky b kz la jr lb lc ld ju le mo lg lh li mq lk ll lm ms lo lp lq lr ij bi translated">因为这是由静态分析强制执行的，所以我们不能用大多数可用的工具来完成。</p><h1 id="1602" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">标签</h1><ul class=""><li id="c860" class="mk ml iq ky b kz mm lc mn mo mp mq mr ms mt lr mu mv mw mx bi translated">子分类</li></ul><h1 id="56fb" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="6bb4" class="pw-post-body-paragraph kv kw iq ky b kz mm jr lb lc mn ju le mo nf lh li mq ng ll lm ms nh lp lq lr ij bi translated">我们应该回顾一下我们的类，开始将它们定义为抽象类或最终类。</p><p id="fbe8" class="pw-post-body-paragraph kv kw iq ky b kz la jr lb lc ld ju le mo lg lh li mq lk ll lm ms lo lp lq lr ij bi translated">对于两个具体的类，没有一个子类化另一个的有效情况。</p><h1 id="451c" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">关系</h1><div class="oe of gp gr og oh"><a href="https://blog.devgenius.io/code-smell-11-subclassification-for-code-reuse-2e2f5b564204" rel="noopener  ugc nofollow" target="_blank"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd ir gy z fp om fr fs on fu fw ip bi translated">代码味道11 —代码重用的子类化</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">代码重用是好的。但是子类化会产生静态耦合。</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">blog.devgenius.io</p></div></div><div class="oq l"><div class="or l os ot ou oq ov kq oh"/></div></div></a></div><div class="oe of gp gr og oh"><a rel="noopener  ugc nofollow" target="_blank" href="/code-smell-136-classes-with-just-one-subclass-9406951f9e16"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd ir gy z fp om fr fs on fu fw ip bi translated">代码气味136 —只有一个子类的类</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">通用和预见未来是好的(再次)。</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="oq l"><div class="ow l os ot ou oq ov kq oh"/></div></div></a></div><div class="oe of gp gr og oh"><a href="https://blog.devgenius.io/code-smell-37-protected-attributes-4607260edb2d" rel="noopener  ugc nofollow" target="_blank"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd ir gy z fp om fr fs on fu fw ip bi translated">代码气味37 —受保护的属性</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">受保护的属性对于封装和控制对我们属性的访问非常有用。他们可能在警告我们…</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">blog.devgenius.io</p></div></div><div class="oq l"><div class="ox l os ot ou oq ov kq oh"/></div></div></a></div><div class="oe of gp gr og oh"><a href="https://blog.devgenius.io/code-smell-58-yo-yo-problem-1e092d3c69ff" rel="noopener  ugc nofollow" target="_blank"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd ir gy z fp om fr fs on fu fw ip bi translated">代码气味58 —溜溜球问题</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">寻找一个具体的方法实现？来来回回，上上下下。</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">blog.devgenius.io</p></div></div><div class="oq l"><div class="oy l os ot ou oq ov kq oh"/></div></div></a></div><h1 id="f723" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">更多信息</h1><div class="oe of gp gr og oh"><a href="https://codeburst.io/coupling-the-one-and-only-software-design-problem-869e293a9f04" rel="noopener follow" target="_blank"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd ir gy z fp om fr fs on fu fw ip bi translated">耦合:唯一的软件设计问题</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">对我们软件的所有故障进行根本原因分析，会发现一个有多种伪装的单一罪魁祸首。</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">codeburst.io</p></div></div><div class="oq l"><div class="oz l os ot ou oq ov kq oh"/></div></div></a></div><p id="3abe" class="pw-post-body-paragraph kv kw iq ky b kz la jr lb lc ld ju le mo lg lh li mq lk ll lm ms lo lp lq lr ij bi translated"><a class="ae my" href="http://www.laputan.org/drc.html" rel="noopener ugc nofollow" target="_blank">深子类</a></p><h1 id="e04d" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">放弃</h1><p id="d8fd" class="pw-post-body-paragraph kv kw iq ky b kz mm jr lb lc mn ju le mo nf lh li mq ng ll lm ms nh lp lq lr ij bi translated">代码气味只是我的<a class="ae my" href="https://mcsee.medium.com/i-wrote-more-than-90-articles-on-2021-here-is-what-i-learned-76c238f9936f" rel="noopener">观点</a>。</p><h1 id="062f" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">信用</h1><p id="df01" class="pw-post-body-paragraph kv kw iq ky b kz mm jr lb lc mn ju le mo nf lh li mq ng ll lm ms nh lp lq lr ij bi translated">照片由<a class="ae my" href="https://unsplash.com/@william_bossen" rel="noopener ugc nofollow" target="_blank">威廉·博森</a>在<a class="ae my" href="https://unsplash.com/s/photos/the-end" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></div><div class="ab cl pa pb hu pc" role="separator"><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf"/></div><div class="ij ik il im in"><blockquote class="ks kt ku"><p id="b8b8" class="kv kw kx ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当最终的设计对你投入的工作量来说似乎太简单时，你就知道你完成了。</p></blockquote><p id="5c2d" class="pw-post-body-paragraph kv kw iq ky b kz la jr lb lc ld ju le mo lg lh li mq lk ll lm ms lo lp lq lr ij bi translated">布雷迪·克拉克</p><div class="oe of gp gr og oh"><a href="https://blog.devgenius.io/software-engineering-great-quotes-3af63cea6782" rel="noopener  ugc nofollow" target="_blank"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd ir gy z fp om fr fs on fu fw ip bi translated">软件工程名言</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">有时一个简短的想法可以带来惊人的想法。</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">blog.devgenius.io</p></div></div><div class="oq l"><div class="ph l os ot ou oq ov kq oh"/></div></div></a></div></div><div class="ab cl pa pb hu pc" role="separator"><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf"/></div><div class="ij ik il im in"><p id="58c4" class="pw-post-body-paragraph kv kw iq ky b kz la jr lb lc ld ju le mo lg lh li mq lk ll lm ms lo lp lq lr ij bi translated">本文是CodeSmell系列的一部分。</p><div class="oe of gp gr og oh"><a href="https://blog.devgenius.io/how-to-find-the-stinky-parts-of-your-code-fa8df47fc39c" rel="noopener  ugc nofollow" target="_blank"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd ir gy z fp om fr fs on fu fw ip bi translated">如何找到你的代码中有问题的部分</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">代码很难闻。让我们看看如何改变香味。</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">blog.devgenius.io</p></div></div><div class="oq l"><div class="pi l os ot ou oq ov kq oh"/></div></div></a></div></div></div>    
</body>
</html>