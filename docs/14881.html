<html>
<head>
<title>Data Harvesting and NLP for Customer Feedback Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ç”¨äºå®¢æˆ·åé¦ˆåˆ†æçš„æ•°æ®æ”¶é›†å’Œè‡ªç„¶è¯­è¨€å¤„ç†</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/data-harvesting-and-nlp-for-customer-feedback-analysis-a8725ebe57a7?source=collection_archive---------11-----------------------#2022-12-30">https://levelup.gitconnected.com/data-harvesting-and-nlp-for-customer-feedback-analysis-a8725ebe57a7?source=collection_archive---------11-----------------------#2022-12-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="4f0d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">ä½¿ç”¨æ¨ç‰¹åº”ç”¨ç¼–ç¨‹æ¥å£ã€MongoDB Atlaså’ŒspaCyã€‚</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/229e9b95bc20ca9449f019d08b98f0d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*teW5lHidDN-Ngu0uVEN0TQ.png"/></div></div></figure><p id="aeab" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªæ•°æ®æŒ–æ˜ç®¡é“ï¼Œä½¿ç”¨Twitter APIæå–å’Œåˆ†æå®¢æˆ·åé¦ˆã€‚æœ¬æ–‡é¢å‘å¸Œæœ›ä½¿ç”¨Pythonå¼€å§‹NLPä¹‹æ—…çš„äººæˆ–å¸Œæœ›æ”¹è¿›EDA(æ¢ç´¢æ€§æ•°æ®åˆ†æ)è¿‡ç¨‹çš„æ•°æ®åˆ†æå¸ˆã€‚</p><p id="984e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">æˆ‘å·²ç»å°†ç®¡é“åˆ’åˆ†ä¸º<strong class="kt ir"> 4ä¸ªé˜¶æ®µ</strong>:</p><ol class=""><li id="1d63" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm ls lt lu lv bi translated"><strong class="kt ir">ä½¿ç”¨<em class="lw">æ¨ç‰¹åº”ç”¨ç¼–ç¨‹æ¥å£</em> </strong>è·å–æ¨ç‰¹</li><li id="23ef" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated"><strong class="kt ir">ä½¿ç”¨Pythonçš„<em class="lw"> spaCyåº“</em>åˆ†æå¹¶æå–æ¨æ–‡ä¸­çš„å…³é”®è¯ã€‚</strong></li><li id="ecc1" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated"><strong class="kt ir">ä½¿ç”¨<em class="lw"> MongoDBå›¾é›†</em>åœ¨äº‘ä¸Šå­˜å‚¨æ¨æ–‡å’Œå…³é”®è¯ã€‚</strong></li><li id="9690" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated"><strong class="kt ir">åœ¨<em class="lw"> MongoDB Atlas </em>ä¸Šåˆ›å»ºæ•°æ®å¯è§†åŒ–ã€‚</strong></li></ol><h1 id="aa22" class="mc md iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">ä½¿ç”¨æ¨ç‰¹åº”ç”¨ç¼–ç¨‹æ¥å£è·å–æ¨ç‰¹</h1><p id="4c40" class="pw-post-body-paragraph kr ks iq kt b ku mu jr kw kx mv ju kz la mw lc ld le mx lg lh li my lk ll lm ij bi translated">é¦–å…ˆï¼Œæ‚¨å°†éœ€è¦ä¸€ä¸ª<a class="ae mz" href="https://developer.twitter.com/en/docs/twitter-api/getting-started/getting-access-to-the-twitter-api" rel="noopener ugc nofollow" target="_blank"> Twitterå¼€å‘äººå‘˜å¸æˆ·</a>æ¥è·å–APIå‡­æ®ã€‚æ‚¨å¯ä»¥è§‚çœ‹æ­¤<a class="ae mz" href="https://www.youtube.com/watch?v=Lu1nskBkPJU&amp;t=854s" rel="noopener ugc nofollow" target="_blank">è§†é¢‘</a>äº†è§£æ›´å¤šè¯¦æƒ…ã€‚ä¸€æ—¦ä½ æˆåŠŸåˆ›å»ºäº†ä¸€ä¸ªå¼€å‘è€…å¸æˆ·ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º<code class="fe na nb nc nd b">config.ini</code>çš„æ–‡ä»¶ï¼Œå°†ä½ æ‰€æœ‰çš„è¯ä¹¦ä¿å­˜åœ¨ä¸€ä¸ªåœ°æ–¹ã€‚</p><pre class="kg kh ki kj gt ne nd nf bn ng nh bi"><span id="666f" class="ni md iq nd b be nj nk l nl nm">[twitter]<br/>api_key = APIKEY<br/>api_key_secret = APIKEYSECRET<br/>access_token = ACCESSTOKEN<br/>access_token_secret = ACCESSTOKENSECRET<br/>bearer_token = BEARERTOKEN</span></pre><p id="86a4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">åœ¨ç»§ç»­è·å–æ¨æ–‡ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦éªŒè¯APIã€‚æˆ‘ä»¬å°†ä½¿ç”¨<code class="fe na nb nc nd b">tweepy</code>åº“æ¥ç®€åŒ–æµç¨‹ã€‚</p><pre class="kg kh ki kj gt ne nd nf bn ng nh bi"><span id="abbb" class="ni md iq nd b be nj nk l nl nm">import tweepy<br/>from configparser import ConfigParser<br/><br/><br/>#configuration<br/>config = ConfigParser()<br/>config.read('config.ini')<br/><br/>#twitter credentials<br/>api_key = config['twitter']['api_key']<br/>api_key_secret = config['twitter']['api_key_secret']<br/>access_token = config['twitter']['access_token']<br/>access_token_secret = config['twitter']['access_token_secret']<br/><br/>#authentication<br/>def twitter_auth():<br/>    auth = tweepy.OAuthHandler(api_key,api_key_secret)<br/>    auth.set_access_token(access_token,access_token_secret)<br/>    return auth<br/><br/>#api<br/>def twitter_api():<br/>    auth = twitter_auth()<br/>    api = tweepy.API(auth)<br/>    return api</span></pre><p id="e23c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">å¯¹äºè¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘å°†è·å–æ ‡æœ‰â€œ@ VFSGlobalâ€(å› ä¸ºé‚£æ˜¯æˆ‘ç›®å‰å®ä¹ çš„å…¬å¸)çš„æ¨æ–‡ï¼Œå…³é”®è¯ä¸ºâ€œç´§æ€¥â€æˆ–â€œå¸®åŠ©â€ã€‚æˆ‘ä»¬ä¼šå¿½ç•¥æ‰€æœ‰çš„è½¬å‘ã€‚åŒæ ·çš„æŸ¥è¯¢å°†æ˜¯:<code class="fe na nb nc nd b">@VFSGlobal OR @Vfsglobalcare AND urgent OR help -filter:retweets</code>ã€‚</p><p id="60a9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe na nb nc nd b">Cursor()</code>æ˜¯ä¸€ä¸ªtweepyå‡½æ•°ï¼Œå…è®¸æˆ‘ä»¬æ›´æ”¹å‚æ•°ä»¥è·å–æ‰€éœ€çš„tweetsã€‚</p><p id="f208" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">æœ€åä¸€ä¸ªåŠŸèƒ½:</p><pre class="kg kh ki kj gt ne nd nf bn ng nh bi"><span id="0ff3" class="ni md iq nd b be nj nk l nl nm">#fetching tweets<br/>def fetch_df_tweets():<br/>    api = twitter_api()<br/>    query_topic = '@VFSGlobal OR @Vfsglobalcare__ AND urgent OR help -filter:retweets'<br/>    tweets = tweepy.Cursor(api.search_tweets, q=query_topic,count=200,tweet_mode='extended',result_type='recent').items(200)<br/>    return converting_to_df(tweets)</span></pre><p id="6bc2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe na nb nc nd b">converting_to_df()</code>æ˜¯å°†æ‰€æœ‰æ¨ç‰¹ä¿¡æ¯è½¬æ¢æˆç†ŠçŒ«æ•°æ®å¸§çš„åŠŸèƒ½ã€‚æ•°æ®æ¡†æ¶ä½¿å­˜å‚¨å’Œæ“ä½œæ•°æ®é¡¹å˜å¾—æ›´å®¹æ˜“ã€‚ç”±äºæˆ‘ä»¬å°†ä½¿ç”¨MongoDBæ¥å­˜å‚¨æ¨æ–‡(ç¨åä¼šæœ‰æ›´å¤šå†…å®¹)ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°å°†æ•°æ®å¸§å‘å¸ƒåˆ°é›†åˆä¸­ã€‚</p><p id="3c7b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe na nb nc nd b">converting_to_df()</code>åŠŸèƒ½:</p><pre class="kg kh ki kj gt ne nd nf bn ng nh bi"><span id="b736" class="ni md iq nd b be nj nk l nl nm">columns = ['_id','User','Tweet','Date and Time']<br/>data = []<br/>for tweet in tweets:<br/>    text = tweet.full_text.split() #split tweets into words<br/>    resultwords  = filter(lambda x:x[0]!='@', text) #remove all @mentions<br/>    result = ' '.join(resultwords) #merge all words<br/>    data.append([tweet.id,tweet.user.screen_name,result.capitalize(), tweet.created_at])<br/>df = pd.DataFrame(data,columns=columns)<br/>return df</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nn"><img src="../Images/1acb9e907c31dbe97c1291df70b76eb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ktMJ7ITyoNI68gl91t4sYA.png"/></div></div><figcaption class="no np gj gh gi nq nr bd b be z dk translated">æ ·æœ¬æ•°æ®å¸§è¾“å‡º</figcaption></figure><h1 id="88f0" class="mc md iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated"><strong class="ak">ä½¿ç”¨Python çš„<em class="ns"> spaCyåº“åˆ†æå¹¶æå–æ¨æ–‡ä¸­çš„å…³é”®è¯ã€‚</em></strong></h1><p id="7aaf" class="pw-post-body-paragraph kr ks iq kt b ku mu jr kw kx mv ju kz la mw lc ld le mx lg lh li my lk ll lm ij bi translated">æˆ‘ä»¬å°†ä½¿ç”¨spaCyæ¨¡å‹æ¥å¤„ç†æ¨æ–‡ã€‚NLPè¿‡ç¨‹å°†åŒ…æ‹¬:æ ‡è®°åŒ–å’Œå¼•ç†åŒ–ã€‚åˆ†æå°†åŸºäºå…³é”®è¯çš„æ€»ä½“é¢‘ç‡ã€‚</p><p id="268f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">NLPæ­¥éª¤:</p><ol class=""><li id="70b0" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm ls lt lu lv bi translated"><strong class="kt ir">å¥å­æ ‡è®°åŒ–(å°†æ¨æ–‡åˆ†è§£æˆå¥å­)ã€‚</strong></li><li id="60cd" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated"><strong class="kt ir">æ¶ˆé™¤åœç”¨è¯(ä¸é‡è¦çš„è¯)ã€‚</strong></li><li id="399a" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated"><strong class="kt ir">è¯æ±‡åŒ–(å°†ä¸€ä¸ªè¯çš„è¯å½¢å˜åŒ–ç»„åˆèµ·æ¥ï¼Œä»¥ä¾¿ä½œä¸ºä¸€ä¸ªé¡¹ç›®è¿›è¡Œåˆ†æçš„è¿‡ç¨‹)ã€‚</strong></li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nt"><img src="../Images/ab48a3fdece856173488f8d168336085.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CUJrQIjYMkODgcCe0ZwwKg.png"/></div></div><figcaption class="no np gj gh gi nq nr bd b be z dk translated">æ¥æº:ä¸šåŠ¡æµç¨‹å­µåŒ–å™¨</figcaption></figure><p id="cefe" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">é¦–å…ˆï¼Œç¬¬ä¸€æ­¥æ˜¯ç”¨<code class="fe na nb nc nd b">spacy.load("en_core_web_lg")</code>å¯¼å…¥ç©ºé—´æ¨¡å‹ã€‚æ‚¨å¯èƒ½éœ€è¦ä½¿ç”¨<code class="fe na nb nc nd b">spacy.cli</code>ä¸‹è½½æ¨¡å‹ã€‚</p><pre class="kg kh ki kj gt ne nd nf bn ng nh bi"><span id="347d" class="ni md iq nd b be nj nk l nl nm">import re<br/>import spacy<br/>from spacy.lang.en.stop_words import STOP_WORDS<br/>import pandas as pd<br/><br/># spacy.cli.download("en_core_web_lg") #download the model only once<br/>nlp = spacy.load("en_core_web_lg")<br/><br/><br/>def chunking(df):<br/>    <br/>    df = df['Tweet']<br/>    all_sentences = []<br/><br/>    #sentence tokenization<br/>    for sentence in df:<br/>        all_sentences.append(sentence)<br/><br/><br/>    #lemmatization<br/>    lemma=[]<br/>    for line in all_sentences:<br/>        line = re.sub(r'[^\w\s]', '', line) #filtering the @mentions and punctuations<br/>        if line !='':<br/>            doc = nlp(line.lstrip().lower())<br/>            for token in doc:<br/>                lemma.append(token.lemma_)<br/><br/>    #Removing all stopwords<br/>    lemma2 = []<br/>    custom_stop_words = ['please','try','vfs','day','need','hi','apply','visa',' ']<br/><br/>    for word in lemma:<br/>        if word not in custom_stop_words:<br/>            lexeme = nlp.vocab[word]<br/>            if lexeme.is_stop==False:<br/>                lemma2.append(word)<br/><br/>    df2 = pd.DataFrame(lemma2)<br/>    <br/>    #skipping the search keywords<br/>    searchfor = ["urgent","help"]<br/>    df2 = df2[df2[0].str.contains('|'.join(searchfor)) == False]<br/>    df2 = df2.value_counts().rename_axis('_id').reset_index(name='counts')<br/><br/>    print(df2)<br/>    return df2</span></pre><p id="b90a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe na nb nc nd b">value_counts()</code>ä¼šç»Ÿè®¡æ¯ä¸ªå•è¯çš„å‡ºç°æ¬¡æ•°ï¼Œå¹¶ä¿æŒè·Ÿè¸ªã€‚è¿™å°†æœ‰åŠ©äºæˆ‘ä»¬ç†è§£é¢‘ç‡ã€‚è¿™å¥è¯å°†ä¼šæ˜¯<code class="fe na nb nc nd b">_id</code>ã€‚</p><p id="c6a6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe na nb nc nd b">custom_stop_words</code>æ˜¯æˆ‘ä¸æƒ³æ•°çš„ä¸€ä¸²å•è¯ã€‚</p><p id="9803" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">æ•´ä¸ªNLPè¿‡ç¨‹å¾ˆç®€å•ï¼Œå› ä¸ºæˆ‘ä¸æƒ³æ·±å…¥ç ”ç©¶å®ƒï¼Œä½¿æµç¨‹å˜å¾—å¤æ‚å¹¶å¢åŠ æœ¬æ–‡çš„é•¿åº¦ã€‚</p><h1 id="b48f" class="mc md iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated"><strong class="ak">ä½¿ç”¨<em class="ns"> MongoDB Atlas </em>åœ¨äº‘ä¸Šå­˜å‚¨æ¨æ–‡å’Œå…³é”®è¯ã€‚</strong></h1><p id="3c6b" class="pw-post-body-paragraph kr ks iq kt b ku mu jr kw kx mv ju kz la mw lc ld le mx lg lh li my lk ll lm ij bi translated">è¿™ä¸€æ­¥ä½ éœ€è¦ä¸€ä¸ª<a class="ae mz" href="http://cloud.mongodb.com" rel="noopener ugc nofollow" target="_blank"> MongoDB Atlas </a>è´¦å·ã€‚MongoDBå…è®¸ä½ å…è´¹åˆ›å»ºä¸€ä¸ªå…±äº«é›†ç¾¤ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nu"><img src="../Images/55d0837222dd31ee8fd61ac3c600ec8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TnU3eNybsW-9VqKWjBqzpw.png"/></div></div><figcaption class="no np gj gh gi nq nr bd b be z dk translated">MongoDBä»ªè¡¨æ¿</figcaption></figure><p id="0ca7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">å•å‡»è¿æ¥&gt;è¿æ¥æ‚¨çš„åº”ç”¨ç¨‹åº&gt;é€‰æ‹©Pythonå¹¶å¤åˆ¶è¿æ¥å­—ç¬¦ä¸²ã€‚</p><p id="8ba5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">å°†è¿æ¥å­—ç¬¦ä¸²æ·»åŠ åˆ°ä¹‹å‰åˆ›å»ºçš„<code class="fe na nb nc nd b">config.ini</code>æ–‡ä»¶ä¸­ã€‚</p><pre class="kg kh ki kj gt ne nd nf bn ng nh bi"><span id="90dd" class="ni md iq nd b be nj nk l nl nm">[mongodb]<br/>connection_string = CONNECTIONSTRING</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nv"><img src="../Images/5ded854aaeff97e5fa5c337e48a0348b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ItMSWO-hcpHfHzRxZSo0rw.png"/></div></div><figcaption class="no np gj gh gi nq nr bd b be z dk translated">åœ¨MongoDB Atlasä¸­åˆ›å»ºä¸€ä¸ªæ•°æ®åº“ï¼ŒåŒ…å«ä¸¤ä¸ªé›†åˆ:countå’Œtweetsã€‚</figcaption></figure><p id="6610" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">ä¸ºäº†è¿æ¥åˆ°MongoDBï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨<code class="fe na nb nc nd b">pymongo</code>åº“ã€‚</p><pre class="kg kh ki kj gt ne nd nf bn ng nh bi"><span id="207d" class="ni md iq nd b be nj nk l nl nm">from pymongo import MongoClient, errors<br/>from configparser import ConfigParser<br/><br/>#configuration<br/>config = ConfigParser()<br/>config.read('config.ini')<br/><br/># Connect to MongoDB<br/>def get_database():<br/> <br/>   # Provide the mongodb atlas url to connect python to mongodb using pymongo<br/>   CONNECTION_STRING = config['mongodb']['connection_string']<br/> <br/>   # Create a connection using MongoClient. You can import MongoClient or use pymongo.MongoClient<br/>   client = MongoClient(CONNECTION_STRING)<br/> <br/>   # Create the database for our example (we will use the same database throughout the tutorial)<br/>   return client['twitter']</span></pre><p id="6058" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">æˆ‘ä»¬å°†ä½¿ç”¨2ä¸ªå‡½æ•°æ’å…¥æ•°æ®ï¼Œå³ã€‚<code class="fe na nb nc nd b">insert_df_tweets()</code>å’Œ<code class="fe na nb nc nd b">insert_df_count()</code>ã€‚<code class="fe na nb nc nd b">insert_df_tweets()</code>å°†æ’å…¥æ¨æ–‡ï¼Œ<code class="fe na nb nc nd b">insert_df_count()</code>å°†æ’å…¥å…³é”®è¯çš„æ•°é‡ã€‚</p><pre class="kg kh ki kj gt ne nd nf bn ng nh bi"><span id="7f80" class="ni md iq nd b be nj nk l nl nm">def insert_df_tweets(df):<br/>    # Get the database<br/>    dbname = get_database()<br/>    # Get the collection<br/>    collection_tweets = dbname['tweets']<br/>    # Insert dataframe into collection<br/>    try:<br/>        collection_tweets.insert_many(df.to_dict('records'),ordered=False)<br/>    except errors.BulkWriteError:<br/>        print("Skipping duplicate tweets")<br/>  <br/>def insert_df_count(df2):<br/>    # Get the database<br/>    dbname = get_database()<br/>    # Get the collection<br/>    collection_count = dbname['count']<br/>    #Inserting dataframe into collection<br/>    try:<br/>        collection_count.insert_many(df2.to_dict('records'),ordered=False)<br/>    except errors.BulkWriteError:<br/>        print("Skipping duplicate values")</span></pre><p id="6506" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">ä¸ºäº†é¿å…é‡å¤æ’å…¥å¤šæ¡æ¨æ–‡ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<code class="fe na nb nc nd b">try except</code>å—æ¥å¤„ç†é”™è¯¯ã€‚</p><p id="75ec" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">å°†ä¸€åˆ‡æ•´åˆåœ¨ä¸€èµ·:</p><pre class="kg kh ki kj gt ne nd nf bn ng nh bi"><span id="ce3f" class="ni md iq nd b be nj nk l nl nm">if __name__ == "__main__":  <br/>    #fetch tweets in dataframe <br/>    df = fetch_df_tweets()<br/>    #insert dataframe into mongodb<br/>    insert_df_tweets(df)<br/>    #chunking tweets <br/>    df2 = chunking(df)<br/>    #insert dataframe into mongodb (chunks with counts)<br/>    insert_df_count(df2)</span></pre><p id="bf8a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">ç¥è´ºæ‚¨ï¼Œæ‚¨å·²ç»æˆåŠŸåœ°å°†æ‰€æœ‰å€¼æ’å…¥åˆ°æ‚¨çš„MongoDBä¸­ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nw"><img src="../Images/cf6a1ecab627ab7f1f7642c4b247f620.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gTu3S33-R8IzA7E1TaMjcQ.png"/></div></div><figcaption class="no np gj gh gi nq nr bd b be z dk translated">æ‚¨çš„ä»ªè¡¨æ¿åº”è¯¥æ˜¯è¿™æ ·çš„ã€‚</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nx"><img src="../Images/8b095b5ce08d046008ae8a0dba852ced.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aHpEBgBVsOo-uDz-09fY9Q.png"/></div></div></figure><h1 id="4634" class="mc md iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated"><strong class="ak">åœ¨<em class="ns"> MongoDB Atlas </em>ä¸Šåˆ›å»ºæ•°æ®å¯è§†åŒ–ã€‚</strong></h1><p id="2303" class="pw-post-body-paragraph kr ks iq kt b ku mu jr kw kx mv ju kz la mw lc ld le mx lg lh li my lk ll lm ij bi translated">ç”±äºMongoDB Atlasçš„å†…ç½®æ•°æ®å¯è§†åŒ–ç‰¹æ€§ï¼Œè¿™æ˜¯æœ€æœ‰è¶£å’Œæœ€å®¹æ˜“çš„éƒ¨åˆ†ã€‚</p><p id="b4d4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">ç‚¹å‡»å³ä¸Šè§’çš„<code class="fe na nb nc nd b">Visualize Your Data</code>ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/4c46d52297fcad7ee731c0ab8ff6b4bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b9kQ4MSXaqM-Ht3b-WpIdg.png"/></div></div></figure><p id="a05c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">ç‚¹å‡»<code class="fe na nb nc nd b">Add Dashboard</code>åˆ›å»ºä¸€ä¸ªæ–°çš„ä»ªè¡¨æ¿ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/036bb2482fc88cd1d3f89b77473ec43d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vkCN6_cgMzt98l0jClRllw.png"/></div></div></figure><p id="57c3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">æ·»åŠ ä¸€ä¸ªæ–°å›¾è¡¨ï¼Œå¹¶é€‰æ‹©å½“å‰é›†ç¾¤ä½œä¸ºæ•°æ®æºã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/6ec107cc6144a57da32f6776b7b85097.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rA0kJTProF5JkqSmlBRphQ.png"/></div></div><figcaption class="no np gj gh gi nq nr bd b be z dk translated">é€‰æ‹©â€œè®¡æ•°â€,å› ä¸ºæˆ‘ä»¬å°†åˆ†æå…³é”®è¯çš„é¢‘ç‡ã€‚</figcaption></figure><p id="980f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">å°†<code class="fe na nb nc nd b">_id</code>æ·»åŠ åˆ°Xè½´ï¼Œå°†<code class="fe na nb nc nd b">count</code>æ·»åŠ åˆ°Yè½´ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/86905f2dff33cf0492e9086edb422772.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1dZ6R-Ku_xrc2Gf0faJZSA.png"/></div></div><figcaption class="no np gj gh gi nq nr bd b be z dk translated">æœ€ç»ˆä»ªè¡¨æ¿</figcaption></figure><p id="f0be" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">ç§å•Šã€‚æ‚¨å¾ˆå¿«å°±åˆ›å»ºäº†æ•°æ®å¯è§†åŒ–ã€‚æ”¹è¿›å¯è§†åŒ–è¿˜æœ‰å¾ˆå¤šå·¥ä½œè¦åšï¼Œä½†æˆ‘å¸Œæœ›è¿™ç¯‡æ•™ç¨‹èƒ½è®©ä½ å¯¹å¦‚ä½•ä½¿ç”¨ä»Twitteræ”¶é›†çš„æ•°æ®æ„å»ºä»ªè¡¨æ¿å’Œå›¾è¡¨è¿›è¡Œåé¦ˆåˆ†ææœ‰ä¸€ä¸ªåŸºæœ¬çš„äº†è§£ã€‚</p><p id="9f33" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">å¸Œæœ›æœ¬æ•™ç¨‹å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•ç–‘é—®æˆ–å»ºè®®æ¥æ”¹è¿›æ•´ä¸ªæµç¨‹ï¼Œè¯·åœ¨è¯„è®ºä¸­å‘Šè¯‰æˆ‘ã€‚</p><h2 id="0352" class="oc md iq bd me od oe dn mi of og dp mm la oh oi mo le oj ok mq li ol om ms on bi translated">é“¾æ¥:</h2><ol class=""><li id="1b45" class="ln lo iq kt b ku mu kx mv la oo le op li oq lm ls lt lu lv bi translated"><a class="ae mz" href="https://github.com/Om-Kamath/Twitter_CFA" rel="noopener ugc nofollow" target="_blank"> GitHub </a></li><li id="8b05" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated"><a class="ae mz" href="https://www.mongodb.com/atlas/database" rel="noopener ugc nofollow" target="_blank"> MongoDBå›¾é›†</a></li><li id="989f" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated"><a class="ae mz" href="https://spacy.io/" rel="noopener ugc nofollow" target="_blank">ç©ºé—´</a></li><li id="83a1" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated"><a class="ae mz" href="https://developer.twitter.com/en" rel="noopener ugc nofollow" target="_blank"> Twitterå¼€å‘è€…å¹³å°</a></li></ol><p id="81b6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">å¦‚æœä½ å–œæ¬¢æˆ‘çš„åšå®¢ï¼Œä½ å¯ä»¥ç»™æˆ‘ä¹°æ¯å’–å•¡ã€‚</p></div><div class="ab cl or os hu ot" role="separator"><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow"/></div><div class="ij ik il im in"><h1 id="ef9e" class="mc md iq bd me mf oy mh mi mj oz ml mm jw pa jx mo jz pb ka mq kc pc kd ms mt bi translated">åˆ†çº§ç¼–ç </h1><p id="48c0" class="pw-post-body-paragraph kr ks iq kt b ku mu jr kw kx mv ju kz la mw lc ld le mx lg lh li my lk ll lm ij bi translated">æ„Ÿè°¢æ‚¨æˆä¸ºæˆ‘ä»¬ç¤¾åŒºçš„ä¸€å‘˜ï¼åœ¨ä½ ç¦»å¼€ä¹‹å‰:</p><ul class=""><li id="38ed" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm pd lt lu lv bi translated">ğŸ‘ä¸ºæ•…äº‹é¼“æŒï¼Œè·Ÿç€ä½œè€…èµ°ğŸ‘‰</li><li id="7ba2" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm pd lt lu lv bi translated">ğŸ“°æŸ¥çœ‹<a class="ae mz" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">å‡çº§ç¼–ç å‡ºç‰ˆç‰©</a>ä¸­çš„æ›´å¤šå†…å®¹</li><li id="ee24" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm pd lt lu lv bi translated">ğŸ””å…³æ³¨æˆ‘ä»¬:<a class="ae mz" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae mz" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae mz" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">æ—¶äº‹é€šè®¯</a></li></ul><p id="32a7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">ğŸš€ğŸ‘‰<a class="ae mz" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir">åŠ å…¥äººæ‰é›†ä½“ï¼Œæ‰¾åˆ°ä¸€ä»½ä»¤äººæƒŠå–œçš„å·¥ä½œ</strong> </a></p></div></div>    
</body>
</html>