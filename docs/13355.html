<html>
<head>
<title>A Simple Python GUI with PyQt5</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有PyQt5的简单Python GUI</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/a-simple-python-gui-with-pyqt5-7f0d2b005863?source=collection_archive---------12-----------------------#2022-08-29">https://levelup.gitconnected.com/a-simple-python-gui-with-pyqt5-7f0d2b005863?source=collection_archive---------12-----------------------#2022-08-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/3633771a4cab6e3db755749310130ee4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wZ-PPJpaRcWLytYW"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">凯利·西克玛在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="7dc6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我使用<strong class="ki iu"> PyQt5 </strong>为一个项目创建了一个<strong class="ki iu"> GUI </strong>。我会告诉你我是怎么做的。它是在不使用工具的情况下，通过直接编写代码创建的。</p><p id="fd22" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">结果是这样的:</p><figure class="lf lg lh li gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi le"><img src="../Images/471cb342b8fcf02bf6cd3969252293e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dypsUg0fdOIyU2UqKbwO4w.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">作者图片</figcaption></figure><p id="e49b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你需要定义一个类<strong class="ki iu"> App(QWidget) </strong>，在<strong class="ki iu"> __init__ </strong>函数中定义界面的大小(<strong class="ki iu"> self.width </strong>、<strong class="ki iu"> self.height </strong>)、在屏幕中的位置(<strong class="ki iu"> self.left </strong>、<strong class="ki iu"> self.top </strong>)以及界面的名称。</p><pre class="lf lg lh li gt lj lk ll lm aw ln bi"><span id="abe0" class="lo lp it lk b gy lq lr l ls lt">def __init__(self):<br/>  self.title = 'Monitoring Tool'<br/>  self.left = 10<br/>  self.top = 100<br/>  self.width = 540<br/>  self.height = 500<br/>  <br/>  self.initUI()</span></pre><p id="4bc6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">同样在init函数中，我调用函数“<strong class="ki iu"> initUI </strong>”，它定义了界面中显示的信息。</p><p id="d2d8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从上图可以看出，界面分为八个部分，这些部分在'<strong class="ki iu"> initUI </strong>函数中定义。</p><p id="e594" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从上图可以看出，界面分为八个部分，这些部分在函数“<strong class="ki iu"> initUI </strong>中定义，每个部分都用函数“<strong class="ki iu"> addWidget </strong>定义，我们将<strong class="ki iu">函数</strong>传递给它，它将插入信息和界面中的<strong class="ki iu">位置</strong>(0，0是左上位置)。<br/>例如，这是上图中函数“<strong class="ki iu"> initUI </strong>”的代码。</p><pre class="lf lg lh li gt lj lk ll lm aw ln bi"><span id="322f" class="lo lp it lk b gy lq lr l ls lt">def initUI(self):<br/>  grid = QGridLayout()</span><span id="253f" class="lo lp it lk b gy lu lr l ls lt">  grid.addWidget(self.createSensor_first(), 0, 0)<br/>  grid.addWidget(self.createSensor_second(), 0, 1)<br/>  grid.addWidget(self.createSensor_third(), 0, 2)<br/>  grid.addWidget(self.createSensor_fourth(), 0, 3)</span><span id="77b4" class="lo lp it lk b gy lu lr l ls lt">  grid.addWidget(self.create_image_sensor(), 1, 0)<br/>  grid.addWidget(self.create_activity(), 1, 1)<br/>  grid.addWidget(self.add_button(), 1, 2)<br/>  grid.addWidget(self.result(), 1, 3)</span><span id="1281" class="lo lp it lk b gy lu lr l ls lt">  self.setLayout(grid)</span><span id="0173" class="lo lp it lk b gy lu lr l ls lt">  self.setWindowTitle(self.title)<br/>  self.setGeometry(self.left, self.top, self.width, self.height)</span><span id="1f4d" class="lo lp it lk b gy lu lr l ls lt">  self.show()</span></pre><p id="e5f0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上图的界面中，我们有四个不同的部分(self.createSensor_first()、self.create_image_sensor()、self.create_activity()、self.add_button())。</p><p id="a9bc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第一个是“左上角的那个”，由文本和用于输入/显示文本的框组成，在我们的例子中，它只是可视化的。</p><pre class="lf lg lh li gt lj lk ll lm aw ln bi"><span id="7974" class="lo lp it lk b gy lq lr l ls lt">def createSensor_first(self):</span><span id="161d" class="lo lp it lk b gy lu lr l ls lt">  groupBox = QGroupBox("First Sensor Waist")<br/>  roll1_text = QLabel(self)<br/>  roll1_text.setText('Roll:')<br/>  self.roll1 = QLineEdit(self, placeholderText="")<br/>  self.roll1.setReadOnly(True)<br/>  pitch1_text = QLabel(self)<br/>  pitch1_text.setText('Pitch:')<br/>  self.pitch1 = QLineEdit(self, placeholderText="")<br/>  self.pitch1.setReadOnly(True)<br/>  accel1_text = QLabel(self)<br/>  accel1_text.setText('Acceleration:')<br/>  self.accel1 = QLineEdit(self, placeholderText="")<br/>  self.accel1.setReadOnly(True)</span><span id="898a" class="lo lp it lk b gy lu lr l ls lt">  vbox = QVBoxLayout()<br/>  vbox.addWidget(roll1_text)<br/>  vbox.addWidget(self.roll1)<br/>  vbox.addWidget(pitch1_text)<br/>  vbox.addWidget(self.pitch1)<br/>  vbox.addWidget(accel1_text)<br/>  vbox.addWidget(self.accel1)</span><span id="d489" class="lo lp it lk b gy lu lr l ls lt">  vbox.addStretch(1)<br/>  groupBox.setLayout(vbox)</span><span id="3a0d" class="lo lp it lk b gy lu lr l ls lt">  return groupBox</span></pre><p id="fa8d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第二个“左下方的那个”只是一个图像。</p><pre class="lf lg lh li gt lj lk ll lm aw ln bi"><span id="6252" class="lo lp it lk b gy lq lr l ls lt">def create_image_sensor(self):<br/>  groupBox = QGroupBox("Sensor disposition")</span><span id="74af" class="lo lp it lk b gy lu lr l ls lt">  immage_original = QLabel(self)<br/>  pixmap = QPixmap(self.immagine_accellerometri)<br/>  pixmap_resized = pixmap.scaled(200, 500, Qt.KeepAspectRatio, Qt.SmoothTransformation)</span><span id="7012" class="lo lp it lk b gy lu lr l ls lt">  immage_original.setPixmap(pixmap_resized)<br/>  immage_original.setAlignment(Qt.AlignCenter)<br/>  vbox = QVBoxLayout()<br/>  vbox.addWidget(immage_original)</span><span id="f57a" class="lo lp it lk b gy lu lr l ls lt">  vbox.addStretch(1)<br/>  groupBox.setLayout(vbox)</span><span id="c0b5" class="lo lp it lk b gy lu lr l ls lt">  return groupBox</span></pre><p id="2dd3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第三个“活动”由可选按钮组成。</p><pre class="lf lg lh li gt lj lk ll lm aw ln bi"><span id="2944" class="lo lp it lk b gy lq lr l ls lt">def create_activity(self):<br/>  groupBox = QGroupBox("Activity")</span><span id="587b" class="lo lp it lk b gy lu lr l ls lt">  activity_text = QLabel(self)<br/>  activity_text.setText('Select Activity:')</span><span id="79d6" class="lo lp it lk b gy lu lr l ls lt">  self.random = QRadioButton("Random")<br/>  self.random.setChecked(True)<br/>  self.sitting = QRadioButton("Sitting")<br/>  self.sittingdown = QRadioButton("Sittingdown")<br/>  self.standing = QRadioButton("Standing")<br/>  self.standingup = QRadioButton("Standingup")<br/>  self.walking = QRadioButton("Walking")</span><span id="7ff3" class="lo lp it lk b gy lu lr l ls lt">  vbox = QVBoxLayout()<br/>  vbox.addWidget(activity_text)<br/>  vbox.addWidget(self.random)<br/>  vbox.addWidget(self.sitting)<br/>  vbox.addWidget(self.sittingdown)<br/>  vbox.addWidget(self.standing)<br/>  vbox.addWidget(self.standingup)<br/>  vbox.addWidget(self.walking)</span><span id="76fb" class="lo lp it lk b gy lu lr l ls lt">  vbox.addStretch(1)<br/>  groupBox.setLayout(vbox)</span><span id="eb5f" class="lo lp it lk b gy lu lr l ls lt">  return groupBox</span></pre><p id="aa76" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第四个按钮由两个按钮和第一个按钮中的一些文本组成。</p><pre class="lf lg lh li gt lj lk ll lm aw ln bi"><span id="5a91" class="lo lp it lk b gy lq lr l ls lt">def add_button(self):<br/>  groupBox = QGroupBox("")</span><span id="48ac" class="lo lp it lk b gy lu lr l ls lt">  self.button_run = QPushButton('Run', self)<br/>  self.button_run.setToolTip('Run')<br/>  self.button_run.clicked.connect(self.on_click_run)</span><span id="ec6a" class="lo lp it lk b gy lu lr l ls lt">  self.button_reset = QPushButton('Reset', self)<br/>  self.button_reset.setToolTip('Reset')<br/>  self.button_reset.clicked.connect(self.on_click_reset)</span><span id="c209" class="lo lp it lk b gy lu lr l ls lt">  activity_select_text = QLabel(self)<br/>  activity_select_text.setText('Activity select:')<br/>  self.activity_select = QLineEdit(self, placeholderText="")<br/>  self.activity_select.setReadOnly(True)</span><span id="76aa" class="lo lp it lk b gy lu lr l ls lt">  activity_predict_text = QLabel(self)<br/>  activity_predict_text.setText('Activity predict:')<br/>  self.activity_predict = QLineEdit(self, placeholderText="")<br/>  self.activity_predict.setReadOnly(True)</span><span id="d2d4" class="lo lp it lk b gy lu lr l ls lt">  vbox = QVBoxLayout()<br/>  vbox.addWidget(self.button_run)<br/>  vbox.addWidget(self.button_reset)<br/>  vbox.addWidget(activity_select_text)<br/>  vbox.addWidget(self.activity_select)<br/>  vbox.addWidget(activity_predict_text)<br/>  vbox.addWidget(self.activity_predict)</span><span id="5a85" class="lo lp it lk b gy lu lr l ls lt">  vbox.addStretch(1)<br/>  groupBox.setLayout(vbox)</span><span id="8f28" class="lo lp it lk b gy lu lr l ls lt">  return groupBox</span></pre><p id="4cec" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，当按下<strong class="ki iu">运行</strong>按钮时，将会执行<strong class="ki iu"> on_click_run </strong>函数，将装饰符“@pyqtSlot()”放入该函数是一个好主意。</p><pre class="lf lg lh li gt lj lk ll lm aw ln bi"><span id="a11a" class="lo lp it lk b gy lq lr l ls lt">@pyqtSlot()<br/>def on_click_run(self):</span></pre><p id="668c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">本文中展示的界面代码(gui/gui.py)可以在以下存储库中找到:</p><div class="lv lw gp gr lx ly"><a href="https://github.com/pietrocolombo/project_AAL" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">GitHub-Pietro Colombo/project _ AAL:环境辅助生活-贝叶斯网络分类…</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">环境辅助生活-HAR研究区活动辨识的贝氏网路分类模式…</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">github.com</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm jz ly"/></div></div></a></div><p id="fd54" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你有任何问题或者你已经用其他方式解决了它们，不要犹豫，在评论中写下它们！</p><p id="676d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢阅读！</p><p id="b794" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了获得无限的故事，你也可以考虑只花5美元注册成为媒体会员。如果你用我的 <a class="ae kf" href="https://pietrocolombo.medium.com/membership" rel="noopener"> <em class="mn">链接</em> </a> <em class="mn">注册，我会收到一点佣金。</em></p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="1990" class="mv lp it bd mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr bi translated">分级编码</h1><p id="fe03" class="pw-post-body-paragraph kg kh it ki b kj ns kl km kn nt kp kq kr nu kt ku kv nv kx ky kz nw lb lc ld im bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="bc26" class="nx ny it ki b kj kk kn ko kr nz kv oa kz ob ld oc od oe of bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="dcc2" class="nx ny it ki b kj og kn oh kr oi kv oj kz ok ld oc od oe of bi translated">📰查看<a class="ae kf" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">升级编码出版物</a>中的更多内容</li><li id="7725" class="nx ny it ki b kj og kn oh kr oi kv oj kz ok ld oc od oe of bi translated">🔔关注我们:<a class="ae kf" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae kf" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae kf" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="8f82" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">🚀👉<a class="ae kf" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu">加入升级人才集体，找到一份神奇的工作</strong> </a></p></div></div>    
</body>
</html>