<html>
<head>
<title>Should Testers Write Bugs on Missing Logging? Perhaps They Should</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">测试人员应该在遗漏日志记录上写bug吗？也许他们应该</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/logging-is-never-an-acceptance-criteria-and-yet-its-a-requirement-a99f12d82aee?source=collection_archive---------9-----------------------#2022-09-12">https://levelup.gitconnected.com/logging-is-never-an-acceptance-criteria-and-yet-its-a-requirement-a99f12d82aee?source=collection_archive---------9-----------------------#2022-09-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="1279" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">编程|软件开发</h2><div class=""/><div class=""><h2 id="86df" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">日志记录从来都不是一个可接受的标准，但是经常是一个需求。</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/2c70c4dfcd0ed36ec8a4191a17f8ace5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*erMoESN3ZTycmlqkZ4L01g.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">尼克拉斯·米勒德</figcaption></figure><p id="e683" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">记录是一项要求。然而，在用户故事、验收标准、细化、计划或PO/BA讨论中很少提到它。日志记录经常被降级为一种昂贵的、可能会造成严重后果的事后想法。</p><p id="6d2b" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">从来没有一个bug会说“哦，我期望这个日志语句，但是什么也没有得到。”</p><p id="ba40" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">记录是一项要求。即使是法律规定的，在很多情况下。在银行业，如果出现严重的生产错误，你需要追踪到底发生了什么。</p><blockquote class="mf"><p id="f311" class="mg mh it bd mi mj mk ml mm mn mo me dk translated">问题是日志记录是隐式期望的。</p></blockquote><p id="f2b7" class="pw-post-body-paragraph lj lk it ll b lm mp kd lo lp mq kg lr ls mr lu lv lw ms ly lz ma mt mc md me im bi translated">作为开发人员，最糟糕的事情之一就是基于假设编写代码。</p><p id="a47f" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">何时记录以及记录什么通常可以归结为开发人员认为重要的事情(就调试而言尤其如此)。</p><p id="6e24" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">🔔<a class="ae mu" href="https://nmillard.medium.com/subscribe" rel="noopener">想要更多这样的文章吗？在这里签名。</a></p><p id="4d8c" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">对于严重的产品错误、跟踪、调试和凌晨3点像小猪一样流汗几乎没有经验的开发人员，几乎没有动力写日志，未来的调试能力取决于特定开发人员的实践经验。</p><p id="13e5" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">想象一下在一次生产事故中的对话，“发生了什么，为什么钱不见了？货款去哪了？”</p><p id="583f" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">“哦，我不知道。”</p><p id="b8df" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">“日志上写了什么？”</p><p id="4264" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">“没有日志，这不是要求的一部分。”</p><p id="7f2c" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">具有严重错误实践经验的开发人员知道日志记录的价值，但是，他们经常在第一次发生实际事件后写过于冗长的日志。</p><p id="bbcf" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">过于冗长的日志记录可能同样有问题，但是，我认为这比完全不记录要好。记录每一个小细节经常会导致花费大量的时间来判断什么是重要的，什么是不重要的。还有，它让你的代码难看，谁想要难看的代码(除了计算机专业和数据科学家)？</p><p id="b5c8" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">在某些情况下，无效日志记录的衍生影响可能会导致更大的问题，例如关闭整个数据库服务器(是的，这种情况已经发生过)，使服务在一段时间内无响应，或者使服务器完全崩溃。</p><h1 id="f397" class="mv mw it bd mx my mz na nb nc nd ne nf ki ng kj nh kl ni km nj ko nk kp nl nm bi translated">请求有效登录用户故事的需求。</h1><p id="6144" class="pw-post-body-paragraph lj lk it ll b lm nn kd lo lp no kg lr ls np lu lv lw nq ly lz ma nr mc md me im bi translated">跟踪生产错误压力很大，尤其是在现代云环境中，多个微服务都在输出消息，并监听相同的队列或主题。竞争条件、意外的副作用、格式错误或无法解析的消息等。</p><p id="88f2" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">现在，再加上没有或过于详细的日志记录。你得到的是个人开发者。</p><p id="eb3c" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">但是，任何用户故事都应该在开发人员没有请求关于预期日志记录级别和目的的更多细节的情况下进行改进。什么粒度？要包括哪些属性？哪些属性是敏感的，放入日志文件是非法的？水槽是什么？什么日志格式？</p><p id="177f" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">让它深入人心。消化这条信息，评估它对你和你的团队是否有意义。</p><p id="bf71" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">🔔想要更多这样的文章吗？在这里签名。</p><h1 id="3844" class="mv mw it bd mx my mz na nb nc nd ne nf ki ng kj nh kl ni km nj ko nk kp nl nm bi translated">日志记录是一个业务问题。</h1><p id="4dbd" class="pw-post-body-paragraph lj lk it ll b lm nn kd lo lp no kg lr ls np lu lv lw nq ly lz ma nr mc md me im bi translated">在我看来，对日志的主要误用是收集日志信息，并立即将日志藏在某个永远不会被读取、分析和处理的地方。</p><p id="5a77" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">现在，很可能会有一些行业法规要求您的公司记录某些事情以符合法规。这些也许可以藏起来，只有在审计人员来拜访你时才看。</p><p id="ba12" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">但是，如前所述，您真的希望开发人员自己决定什么是“可审计的”或必需的信息吗？</p><p id="e8ea" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">除了监管马戏之外，日志也是一种收集关于哪些功能最常用的信息的简单方法，而且，它们还可能在客户开始注意到它们之前揭示性能问题。</p><p id="f202" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">同样，如果企业希望在某个时候检查这一点，他们最好将其写入用户情景。</p><h1 id="31e4" class="mv mw it bd mx my mz na nb nc nd ne nf ki ng kj nh kl ni km nj ko nk kp nl nm bi translated">离别词。</h1><p id="10ce" class="pw-post-body-paragraph lj lk it ll b lm nn kd lo lp no kg lr ls np lu lv lw nq ly lz ma nr mc md me im bi translated">日志是令人讨厌的，并且经常导致难看的代码库，但是，你也知道日志是重要的。有时是法律要求。</p><p id="6888" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">作为一名开发人员，当您从backlog中挑选下一个用户故事时，请帮自己和团队一个忙，向业务分析师或产品负责人询问日志方面的期望。</p><p id="b6cf" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">花几分钟时间与您的团队一起制定日志记录策略，并(尝试)就您使用的日志级别以及何时使用达成一致。</p><h1 id="8c77" class="mv mw it bd mx my mz na nb nc nd ne nf ki ng kj nh kl ni km nj ko nk kp nl nm bi translated">让我们保持联系！</h1><p id="d80c" class="pw-post-body-paragraph lj lk it ll b lm nn kd lo lp no kg lr ls np lu lv lw nq ly lz ma nr mc md me im bi translated">查看<a class="ae mu" href="https://www.youtube.com/channel/UCaUy83EAkVdXsZjF3xGSvMw" rel="noopener ugc nofollow" target="_blank"> <em class="ns"> YouTube频道(@尼可拉斯·米勒德)</em></a><em class="ns"/><a class="ae mu" href="https://nmillard.medium.com/membership" rel="noopener"><em class="ns">成为中等会员</em> </a> <em class="ns">。</em></p><p id="8180" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated"><a class="ae mu" href="https://www.linkedin.com/in/nicklasmillard/" rel="noopener ugc nofollow" target="_blank">在LinkedIn上连接</a>。</p><h1 id="3c52" class="mv mw it bd mx my mz na nb nc nd ne nf ki ng kj nh kl ni km nj ko nk kp nl nm bi translated">好奇者的资源。</h1><ul class=""><li id="f051" class="nt nu it ll b lm nn lp no ls nv lw nw ma nx me ny nz oa ob bi translated"><a class="ae mu" rel="noopener ugc nofollow" target="_blank" href="/a-guide-to-application-logging-665b4f38e1a6">Andre Rabold</a>撰写的应用程序日志指南</li><li id="112c" class="nt nu it ll b lm oc lp od ls oe lw of ma og me ny nz oa ob bi translated">杰夫·阿特伍德的《T21》中的伐木问题</li></ul></div></div>    
</body>
</html>