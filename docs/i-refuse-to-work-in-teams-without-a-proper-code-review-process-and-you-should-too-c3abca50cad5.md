# 我拒绝在没有适当的代码审查过程的团队中工作——你也应该这样！

> 原文：<https://levelup.gitconnected.com/i-refuse-to-work-in-teams-without-a-proper-code-review-process-and-you-should-too-c3abca50cad5>

![](img/29d6d063a5fe38246cb7dab689601f34.png)

当我作为自由职业者做客户工作时，我拒绝在没有适当的代码审查过程的团队中工作。我将列出所有的原因，但是首先让我们定义什么是“适当的代码审查过程”:

*   每一个功能，bugfix，hotfix 或任何东西都是独立开发的。从来没有代码被直接推送到`master`分支！
*   您的主要分支应该受到保护，将更改合并到`master`中至少需要一名同事的批准。
*   团队中的每个人(从受训者到领导者)都应该参与代码评审，没有例外。
*   评论被每个参与的人认真对待！不要在没有真正审查代码的情况下轻率地点击“批准”按钮。你的团队必须学会正确区分事情的轻重缓急。
*   仍然需要评审的拉式请求不会“堆积”，因为“有更重要的事情”。同时打开几个拉请求是可以的，但是你不应该在一个 5 人开发团队中有 50 个打开的 PRs。从我的经验来看，每个开发人员同时打开 2-3 个 PRs 应该没问题，并且仍然可以进行适当的审查，但是这当然很大程度上取决于 PRs 的大小。
*   拉取请求保持简短。React 项目中的 15-20 个文件应该是 PR 的最大值。有时你无法避免，但请至少尝试一下。

我拒绝在没有审查的情况下将我的代码合并到 master 中(并因此发送到产品中),原因有几个:

1.  **维修性**🍎对我来说非常清晰的代码，对其他人来说可能非常混乱。在这种情况下，评审可以(并且通常会)帮助简化复杂的部分。
2.  **责任**📜如果我犯了一个非常明显的错误，不管出于什么原因，它没有被测试覆盖，并且没有经过审查就投入生产，那么我是唯一对这个不幸负责的人。让其他人批准它可以将这个责任分成一半(甚至更多)。尤其是当你是一个可能因疏忽而被追究责任的承包商(像我一样)时，审查可能是至关重要的，并且有一天真的能救你一命。
3.  **文档**📋我通常会写一个简短但易懂的描述来描述我的公关经历。如果以后您(或任何人)对某件事不确定，如果在文档/自述文件中没有明确提到，您可能会在旧的拉式请求描述中找到答案。
4.  **可持续性**🌿每个人都可以随意提交未经审查的代码的代码库通常看起来就是这样——就好像没人在乎一样。这是不可持续的，最终将不可避免地以灾难告终。
5.  降低风险 🛡有时候，你会连续几天独自开发一个相对复杂的功能。通过让另一个人审查你的代码，他们会理解你的代码是关于什么的。这已经可以大大降低你的公交系数。
6.  **学习**🎓作为一名开发人员，你只能通过定期接收和*给予*代码反馈来成长。代码评审是讨论替代解决方案和不同方法的好方法，让我们从其他人的大脑中获取知识。

做好代码审查需要时间。我合作过的最好的公司都有非常“耗时”的审查过程，但是真正值得投资的总是时间！你今天因为“慢”而损失的时间很可能在以后的长期代码库中以数量级节省下来！