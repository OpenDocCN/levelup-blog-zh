<html>
<head>
<title>Get Connected With Others By Adding a Contact Form to Your React Site</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过在React网站上添加联系表单与他人联系</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/get-connected-with-others-by-adding-a-contact-form-to-your-react-site-583b8b9e372f?source=collection_archive---------11-----------------------#2020-08-13">https://levelup.gitconnected.com/get-connected-with-others-by-adding-a-contact-form-to-your-react-site-583b8b9e372f?source=collection_archive---------11-----------------------#2020-08-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div class="gh gi jq"><img src="../Images/3abde8b8f9a37d4ad4401b8a31873ee7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*lV6eY0FwH7ronBxKZtc6rA.jpeg"/></div></figure><p id="615e" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">你正在为你的访问者在你的网站上寻找与你联系的资源吗？你来对地方了。我在这里解释如何通过几个简单的步骤向React网站添加一个漂亮的联系人表单。但是在我开始之前，让我向您展示一下为什么这篇文章会让您受益的一些原因。</p><figure class="kw kx ky kz gt ju gh gi paragraph-image"><div class="gh gi kv"><img src="../Images/bd8dc2c7ff28d856d1383d736074797b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1270/format:webp/1*TxBstOg30nrROuZVzDYSYw.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">由WPForms博客提供…你可以在这里查看完整的文章<a class="ae le" href="https://wpforms.com/8-reasons-why-you-need-a-contact-form/#:~:text=One%20of%20the%20most%20important,likely%20to%20get%20unwanted%20emails.&amp;text=To%20prevent%20that%2C%20we%20suggest,form%20for%20your%20contact%20page." rel="noopener ugc nofollow" target="_blank"/></figcaption></figure></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><p id="e414" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">恶心，谁喜欢垃圾邮件？显然，在网站上打印一封电子邮件很容易，但是现在你知道为什么添加一个联系表单很重要了，即使它有点复杂。其他几个原因:它们看起来很酷，很花哨，为访问者提供了最简单的反馈方式，而且实现起来并不困难。在这篇文章中，我将使用一些不同的资源。</p><p id="1915" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><a class="ae le" href="https://react.semantic-ui.com/" rel="noopener ugc nofollow" target="_blank">语义UI反应</a> —这是我将用来构建表单的组件框架。随意构建自定义表单或使用不同的框架。</p><p id="d3ad" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><a class="ae le" href="https://www.emailjs.com/" rel="noopener ugc nofollow" target="_blank"> EmailJs </a> —这将用于处理从网站发送电子邮件到你想要的电子邮件地址。只要你没有收到+200封电子邮件/月，这是免费的！</p><p id="64b0" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">Sweetalert2  —这将用于在事情进展顺利或不顺利时给来访者一个很好的提醒。同样，如果您愿意，可以随意使用常规提醒或不同的库。</p><p id="a041" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">第一步是注册EmailJs。这是免费的，所以不要担心。</p><figure class="kw kx ky kz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi lm"><img src="../Images/b5e9d7d0f42355d9105949b687ae8ab2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5A4k6n8NKxGFIysd2B7tFg.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">我已经有一个帐户，所以信息显示在上面的紫色</figcaption></figure><p id="c66c" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">一旦您创建了一个帐户，添加一个电子邮件及其尊重的服务。正如你在下图中看到的，我正在使用gmail。</p><figure class="kw kx ky kz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi lr"><img src="../Images/453bbf9be44695b31e1c46060dc6f727.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3IyTyAh__uR05Lw_hDEBNA.png"/></div></div></figure><p id="7c20" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">您可以向选定的地址发送测试电子邮件。我绝对推荐这个。接下来，是时候为电子邮件设置模板了。选择左侧的电子邮件模板选项卡。</p><figure class="kw kx ky kz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi ls"><img src="../Images/041aaaebeea39bc1ab5793c2dbb0d624.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c9Py614b-nBHW-GnGSN0BQ.png"/></div></div></figure><p id="70ad" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">这一步真的很重要。基于表单的输入，双括号中的所有内容都是动态的。务必确保右上角的收件人电子邮件地址设置正确。你可以让邮件模板说你喜欢的任何内容。我保持简单，因为信息是发给我自己的。一旦你有了你喜欢的模板，保存它。然后单击“保存”按钮左侧的“代码”按钮。当我点击代码时，我的屏幕是这样的。</p><figure class="kw kx ky kz gt ju gh gi paragraph-image"><div class="gh gi lt"><img src="../Images/1524bd07427326efc5cdb844cf09ec27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1130/format:webp/1*qRLlTOwqlvUJ_d-T_azj1Q.png"/></div></figure><p id="4bc5" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">当我们在我们的项目中使用Emailjs库时，我们将需要这些密钥，但是请确保您的id保密！我们现在还不需要这些信息，但是我们会继续下去的。稍后您还需要您的服务id，您可以通过转到“帐户”选项卡来访问它。然后转到右边的API选项卡。你的屏幕应该是这样的。您的用户id就在这里，上面写着用户ID:</p><figure class="kw kx ky kz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi lu"><img src="../Images/cf473067356ecd803490bbd06b65fa0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uGjBPRhEMW_yEzrGz2PLaA.png"/></div></div></figure><p id="e10b" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">现在我们可以开始向项目添加一些代码了！在您使用“npm start”启动React项目之前，我们需要添加前面提到的这些库/包。Emailjs可以用这个命令安装，</p><pre class="kw kx ky kz gt lv lw lx ly aw lz bi"><span id="2697" class="ma mb it lw b gy mc md l me mf">npm install emailjs-com --save</span></pre><p id="85fb" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">我将添加的下一个库是语义UI React。您可以用下面的命令安装这个框架，</p><pre class="kw kx ky kz gt lv lw lx ly aw lz bi"><span id="f273" class="ma mb it lw b gy mc md l me mf">npm install semantic-ui-react semantic-ui-css</span></pre><p id="e627" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">您还需要将这个脚本添加到index.html文件的头部，以便导入语义UI React的样式。脚本看起来是这样的，</p><p id="ad80" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><link rel="”stylesheet”" href="”//cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css”"/></p><p id="8175" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">最后，我们将为Sweetalert 2添加npm包，您可以通过在终端上添加以下命令来安装它。</p><pre class="kw kx ky kz gt lv lw lx ly aw lz bi"><span id="f86d" class="ma mb it lw b gy mc md l me mf">npm install <!-- -->sweetalert2</span></pre><p id="8037" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">厉害！现在，如果您打算将您的项目添加到github，我建议将以下3个键添加到. env文件中，并将。env到你的。gitignore文件以防止其他人访问您的密钥。这3个键是服务id、模板id和用户id。因为我的项目是托管在github上的，所以我把我的添加到了a .env中。我的看起来像下面的图片。</p><figure class="kw kx ky kz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi mg"><img src="../Images/bf02738ab79cb03f6839dcff50d63266.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IjjIpJwr0AMp1flKFGQEnQ.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">记住，如果你想在一个react应用程序中使用env变量，你必须以REACT_APP开始变量，后跟变量名！</figcaption></figure><p id="0cce" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">这是我们在实际编写联系人表单之前需要设置的最后一部分。如果您从访问密钥时遇到问题。env文件，记住每当您对。你必须重启你的服务器！因为这个，我已经把头撞墙好几次了。不要让它发生在你身上！在React中，我们可以通过调用process.env.VARIABLE_NAME来访问这些变量。</p><p id="e0ee" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">剩下的就超级简单了！我们的js文件中只需要两样东西，表单本身和一个提交表单句柄函数。我的js文件名为ContactForm.js。我们可以通过将导入添加到文件的顶部来启动该文件。我的文件的顶部看起来像下面的图片。</p><figure class="kw kx ky kz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi mh"><img src="../Images/5f0f22509abc2856fa6b0746dc18d173.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*642p0H4eaFXUouGquDi-bg.png"/></div></div></figure><p id="53c9" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">如果你跟随着我使用的所有东西，你的应该看起来一样。因此，我们将在导入后添加的第一部分是表单。我的看起来像下面的图像。</p><figure class="kw kx ky kz gt ju gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/f35166016c04593d3854e52d937eb5c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/1*K4smkCEelFF4QByLhijgtw.png"/></div></figure><p id="bc41" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">不要让图标、图标位置、标签、占位符、id或控件分散你的注意力。这些都是为了造型，想怎么玩就怎么玩吧！我建议使用required，因为它要求在提交表单之前填写该字段。你还可以在语义UI React的官方网站上查看更多示例“表单组件”。表单最重要的部分是输入姓名！在表格中确认。字段标记，其名称与您在模板中创建的名称相匹配。我的匹配与下图中的template_params相同。</p><figure class="kw kx ky kz gt ju gh gi paragraph-image"><div class="gh gi lt"><img src="../Images/1524bd07427326efc5cdb844cf09ec27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1130/format:webp/1*qRLlTOwqlvUJ_d-T_azj1Q.png"/></div></figure><p id="1bcc" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">因为Emailjs太棒了，我们不必担心跟踪表单输入的变化状态。只要确保变量匹配就像我已经提到过几次的那样。这很重要！！！您还可以看到，我在表单标签的开头添加了一个onSubmit动作。它被设置为调用我在同一个文件中创建的另一个函数handleFormSubmit。下面是所述功能的图片。</p><figure class="kw kx ky kz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi mj"><img src="../Images/67b56e944ad9af53c459d97034e4bf8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T4ajp3hoX53WHlALlr3DZw.png"/></div></div></figure><p id="5b49" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">我将尽可能容易地为你分解这个函数。</p><ol class=""><li id="db91" class="mk ml it jz b ka kb ke kf ki mm km mn kq mo ku mp mq mr ms bi translated">e.preventDefault() —防止页面重新加载</li><li id="b42d" class="mk ml it jz b ka mt ke mu ki mv km mw kq mx ku mp mq mr ms bi translated">emailjs.sendForm(service_ID，template_ID，e.target，user_ID)后跟一个then来处理结果，这是我们用来访问电子邮件服务的命令。参数由3个键和表单(例如目标)组成。只要您完全按照这个设置，emailjs将使用表单中的正确输入设置您的定制模板，然后将完成的模板发送到为它设置的地址。真的就这么简单！</li><li id="5446" class="mk ml it jz b ka mt ke mu ki mv km mw kq mx ku mp mq mr ms bi translated">中的第一次回调。那么哪个是(result) =&gt; {} —它处理如何处理成功发送的电子邮件的结果。我喜欢向用户显示一个通知，告知他们成功发送了消息。</li><li id="5b23" class="mk ml it jz b ka mt ke mu ki mv km mw kq mx ku mp mq mr ms bi translated">swal.fire() —是sweetalert。这是一个简单的警报，由参数中的3个参数组成。第一个是警报的标题，第二个是警报的消息，最后一个是警报的图标。您可以在其网站上查看更多关于Sweetalert2的官方文档。</li><li id="3fec" class="mk ml it jz b ka mt ke mu ki mv km mw kq mx ku mp mq mr ms bi translated">中的第二次回调。那么哪一个是(error) =&gt; {} —它处理如何处理错误。错误可能是从错误的服务id到没有互联网连接。如果出了问题，让用户知道是件好事。</li><li id="5e45" class="mk ml it jz b ka mt ke mu ki mv km mw kq mx ku mp mq mr ms bi translated">我测试时，控制台日志就在那里</li><li id="ca5d" class="mk ml it jz b ka mt ke mu ki mv km mw kq mx ku mp mq mr ms bi translated">e.target.reset() —将通过重置表单来清除表单输入字段</li></ol><p id="9322" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">就是这样！！！如果你需要额外的参考，你可以在下面查看我的整个文件的完整截图。</p><figure class="kw kx ky kz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi my"><img src="../Images/d61ea7d3ccbc5973aa1013ac6e2751e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BAxBJGhaJTP7BBR1vqr5mA.png"/></div></div></figure><p id="f405" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">如果你正确地遵循了所有的步骤，你应该得到这样的结果(除了一些样式)..我用CSS做到了这一点)。你的表单和提醒应该是有效的，这也是本文的重点。这是我的截图。</p><figure class="kw kx ky kz gt ju gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/1b00b0e7c7b9b78f0629ab91617a7208.png" data-original-src="https://miro.medium.com/v2/resize:fit:1138/format:webp/1*lvg5UTixXkWsZN9fP4ogyw.png"/></div></figure><p id="e7fc" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">当我成功发送消息时，会有一个提示！</p><figure class="kw kx ky kz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi na"><img src="../Images/e496ce8b92cc0093ede7a047e40d2e39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8aHStoVbiaJBQHQE7_-FrQ.png"/></div></div></figure><p id="0e5e" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">几秒钟后，我收到了一封电子邮件，看起来像这样…</p><figure class="kw kx ky kz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi nb"><img src="../Images/78350d6cd614540e5dea52dc7915d465.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xWmaHLNwLRnMAsD6B_Xs1Q.png"/></div></div></figure><p id="d02d" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">就是这样！你现在有了一个体面的联系方式，当访问者访问你的网站时，他们可以联系你。我希望这篇文章对你有所帮助，如果你有任何问题，请随时通过LinkedIn或我在T2的作品集网站联系我。感谢阅读！！！</p><figure class="kw kx ky kz gt ju"><div class="bz fp l di"><div class="nc nd l"/></div></figure></div></div>    
</body>
</html>