<html>
<head>
<title>Componentize SVGs in Angular and style them on the fly</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Angular中将SVG组件化，并动态地设计它们的样式</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/componentize-svgs-in-angular-and-style-them-on-the-fly-d303c9f59c4e?source=collection_archive---------22-----------------------#2020-03-10">https://levelup.gitconnected.com/componentize-svgs-in-angular-and-style-them-on-the-fly-d303c9f59c4e?source=collection_archive---------22-----------------------#2020-03-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div class="gh gi jq"><img src="../Images/d4a445fc42be93ca2ca610fd51f48afc.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*8eo1SFW7FZTbavKrDX359Q.png"/></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk translated">图片鸣谢:字体超赞</figcaption></figure><p id="3444" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">你可能知道，如果你使用简单的艺术作品，如图标，SVGs或可缩放矢量图形是必不可少的。但是你知道你可以把它们做成有角度的组件吗？事实上，我使用最多的两个库是我为SVG和buttons创建的。</p><h1 id="0cb2" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">为什么应该使用SVG？</h1><p id="68d1" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">我开始使用SVG是因为它们能够在不损失分辨率的情况下进行缩放，并且我可以通过CSS对它们进行着色。(这对于我开始的游戏化<a class="ae kz" href="https://yokoishioka.com/what-is-a-website/" rel="noopener ugc nofollow" target="_blank">互动课程</a>的一部分很有用，你可以选择一个角色，让它变大或变小。)</p><p id="383d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">注意:</strong>只有用路径和轮廓制作的SVG才能无限缩放。用图像制作的SVG会变得模糊。</p><p id="f47c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">SVG也是超级轻量级的，因为它们是用XML表示的，您可以避免http请求来获取它们！</p><h1 id="18df" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">将自己从SVG库中解放出来</h1><p id="58aa" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">我没有意识到的是，我心爱的<a class="ae kz" href="http://fontawesome.com/icons?d=gallery" rel="noopener ugc nofollow" target="_blank">字体令人敬畏的库</a>花费了我将近20个Lighthouse点，并且我不需要它们的大型Javascript文件通过将它们转换成有角度的组件来使它们成为整齐的组件(而不是难以管理的文本块)。</p><p id="bc20" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">注:</strong>我仍然订阅字体牛逼，因为他们无与伦比的选择。事实上，我制作的网站/应用程序上的所有图标都要感谢他们出色的插画师。</p><p id="dda5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果您最终使用他们的SVG或使用Illustrator制作自己的SVG，请确保删除属于SVG的任何样式/注释，以便您可以正确地覆盖它们。</p><h1 id="7798" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">有角度的组件不必使用HTML模板</h1><p id="ce9f" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">如果您想要自己的Angular SVG库，可以通过将组件的templateUrl参数链接到资源库中的SVG，轻松地将它们转换为组件。(Font Awesome提供了一个库来访问他们的SVG，但是你可以通过这条途径来避免不必要的依赖和应用程序的重量。作为一个额外的好处，这种方法允许你一次声明你的SVG，而不是必须在每个使用它们的应用程序中单独声明它们。)</p><p id="3080" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">SVG-宇航员.组件. ts </strong></p><figure class="md me mf mg gt ju"><div class="bz fp l di"><div class="mh mi l"/></div></figure><p id="0488" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">注意:</strong>最初，我将资源直接存储在我的Angular库中，但随后将SVG移动到我的应用程序的<a class="ae kz" href="https://cloudengineering.studio/articles/trick-angular-into-thinking-all-apps-share-the-same-source-folder" rel="noopener ugc nofollow" target="_blank">共享资源文件夹</a>，这样我就不必修改我的angular.json文件来使用资源，这样我就可以在库外访问SVG。</p><p id="7205" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这个决定的缺点是，除非您包含assets文件夹，否则库将无法在工作区之外工作。如果你有更好的解决方法，请告诉我。</p><h1 id="33b8" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">小心你如何链接到你的SVG</h1><p id="a0d9" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">您不能使用常见的“src/assets”或“/assets”快捷方式来链接SVG，因为它们需要到应用程序源文件夹的直接相对路径。这就是为什么我不得不使用一个长得离谱的相对路径。(同样，我确信有更好的方法来实现这一点。)</p><h1 id="6869" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">对所有的SVG使用相同的CSS文件</h1><p id="79c1" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">我还将SVG链接到同一个CSS文件，因为它们都需要相同的样式，这需要能够通过使用它们的父对象动态地对它们进行样式化。通过这样做，我只需要更新一个文件，以便在将来影响所有的组件。</p><p id="1a38" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> svg.component.css </strong></p><figure class="md me mf mg gt ju"><div class="bz fp l di"><div class="mh mi l"/></div></figure><p id="ab90" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">注意:</strong>不要忘记在你的模块的导出部分包含组件，以便你的应用程序可以访问它们。并将SVG库导入到使用它们的应用程序中。</p><h1 id="9f9f" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">清理未使用的文件</h1><p id="ad25" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">您可以删除组件附带的HTML和CSS文件，因为您的组件不会使用它们。</p><h1 id="0d3a" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">使用您的新组件</h1><p id="9136" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">现在，如果我想使用SVG，我只需使用组件的选择器:</p><pre class="md me mf mg gt mj mk ml mm aw mn bi"><span id="4f0d" class="mo lb it mk b gy mp mq l mr ms">&lt;ces-svg-astronaut&gt;&lt;/ces-svg-astronaut&gt;</span></pre><p id="3ff7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">因为我遵循相同的命名约定，例如prefix-svg-description，所以我通常不必查找我是如何命名它的。</p><h1 id="5c69" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">如果您想动态选择SVG，该怎么办？</h1><p id="82a2" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">对于一些用例，您无法提前知道想要选择哪个SVG。因为您不能使选择器的一部分成为动态的，所以这个特性需要设置一个单独的通用组件。</p><p id="5a5f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> svg .组件. ts </strong></p><figure class="md me mf mg gt ju"><div class="bz fp l di"><div class="mh mi l"/></div></figure><p id="4fd6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">注意:这就是为什么我在上面的CSS中包含了“img”的样式。要更改SVG图像的颜色，您需要在元素上使用这些样式:</p><pre class="md me mf mg gt mj mk ml mm aw mn bi"><span id="abc3" class="mo lb it mk b gy mp mq l mr ms">mask: url('/assets/svgs/astronaut');<br/>background-color: orangered;</span></pre><h1 id="e510" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">自动添加“alt”标签和动态添加“title”标签</h1><p id="48ee" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">我包含了“alt”属性来自动获取带有单词“icon”的图标类型，这样我就不必单独指定它们了。然而，我将“title”属性设为变量，以防我想要添加悬停时显示的帮助文本，这将根据使用情况而变化。</p><h1 id="d481" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">使用通用SVG组件</h1><p id="6490" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">现在，您可以使用同一个选择器，并通过传入图标类型来指定您想要使用的图标。您只需要设置这个组件一次，即使您添加/删除SVG到您的库中。</p><pre class="md me mf mg gt mj mk ml mm aw mn bi"><span id="542e" class="mo lb it mk b gy mp mq l mr ms">&lt;ces-svg type="astronaut"&gt;</span></pre></div></div>    
</body>
</html>