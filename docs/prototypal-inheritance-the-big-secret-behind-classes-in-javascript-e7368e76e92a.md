# åŸå‹ç»§æ‰¿:JavaScript ä¸­ç±»èƒŒåçš„å¤§ç§˜å¯†

> åŸæ–‡ï¼š<https://levelup.gitconnected.com/prototypal-inheritance-the-big-secret-behind-classes-in-javascript-e7368e76e92a>

## JavaScript åŸºç¡€çŸ¥è¯†

å…³äºç±»å’ŒåŸå‹çš„å®Œæ•´æŒ‡å—

![](img/2d4574add428ef51478927981437e060.png)

æ‰˜é©¬æ–¯Â·å‡¯åˆ©åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šçš„ç…§ç‰‡

äººä»¬æœ‰æ—¶ä¼šå‘ç°ç›¸ä¿¡ä¸€ä¸ªå°è°è¨€æ¯”èŠ±æ—¶é—´å»ç†è§£ä¸€ä¸ªå¤æ‚çš„çœŸç›¸æ›´å®¹æ˜“(ä½ çœ‹è¿‡é»‘å®¢å¸å›½ç”µå½±å—ï¼Ÿ).åœ¨ JavaScript ä¸­ï¼Œæˆ‘ä»¬ä» Java ç­‰å…¶ä»–è¯­è¨€ä¸­äº†è§£åˆ°çš„ç±»æ˜¯ä¸å­˜åœ¨çš„ã€‚é‚£ä¹ˆ JS ä¸­çš„ç±»ç»§æ‰¿æ˜¯å¦‚ä½•å·¥ä½œçš„å‘¢ï¼Ÿåœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†é€šè¿‡åˆ†æå¹•åå‘ç”Ÿçš„äº‹æƒ…æ¥æ‰¾åˆ°ç­”æ¡ˆã€‚

## å†…å®¹

*   ä»€ä¹ˆæ˜¯è¯¾ï¼Ÿ
*   å¦‚ä½•ç”¨ JavaScript å†™ç±»ï¼Ÿ
*   åŸå‹
*   åŸå‹é“¾
*   åˆ›å»ºæ²¡æœ‰ç±»çš„å¯¹è±¡
*   é‚£ä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜åœ¨ä½¿ç”¨ç±»ï¼Ÿ

# ä»€ä¹ˆæ˜¯è¯¾ï¼Ÿ

JavaScript æ˜¯ä¸€ç§å¤šèŒƒå¼è¯­è¨€ï¼Œè¿™æ„å‘³ç€æ‚¨å¯ä»¥æŒ‰ç…§ä¸åŒçš„ç¼–ç¨‹é£æ ¼ç¼–å†™ä»£ç ã€‚å°½ç®¡å¦‚æ­¤ï¼Œæœ€çªå‡ºå’Œä½¿ç”¨çš„æ˜¯é¢å‘å¯¹è±¡çš„èŒƒä¾‹æˆ–é¢å‘å¯¹è±¡çš„æœ‹å‹ã€‚

åœ¨è¿™ç§èŒƒå¼ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å¯¹è±¡å’Œç±»çš„æ¦‚å¿µæ¥è¡¨ç¤ºç°å®ä¸–ç•Œçš„é—®é¢˜ã€‚

![](img/396727892234c75abda2f18a9cbee934.png)

åˆå¥çº¿:ä»æŠ½è±¡åˆ°ç°å®

ä¸€å ‚è¯¾å°±åƒä¸€å¼ è“å›¾ã€‚å®ƒæ˜¯ä¸€ä¸ªå¯¹è±¡çš„è§„èŒƒï¼Œæè¿°äº†å®ƒå°†ä¼šæ˜¯ä»€ä¹ˆæ ·å­å’Œå¦‚ä½•è¡¨ç°ã€‚æƒ³è±¡ä¸€ä¸ªå·¥å‚é‡Œçš„æµæ°´çº¿ï¼›æ¯ä¸€ä»¶ä½œå“éƒ½æ˜¯ç”¨ç»˜å›¾å·¥å…·é¢„å…ˆè®¾è®¡å¥½çš„ã€‚è¿™ä¸ªè®¾è®¡ä¸ºæœºå™¨æä¾›äº†å¦‚ä½•ç»„æˆæ¯ä¸ªç‰©ä½“çš„ç»†èŠ‚ã€‚è¯¥è®¾è®¡ä¸æ˜¯å®é™…çš„è¡¨ç¤ºï¼›å®ƒæ˜¯å¯¹è±¡ç»“æ„çš„æŠ½è±¡ã€‚ç¼–ç¨‹è¯­è¨€ä¸­çš„ç±»ä¹Ÿæ˜¯å¦‚æ­¤ï¼›å®ƒä»¬æ˜¯å¯¹è±¡çš„æŠ½è±¡ï¼Œå¯¹è±¡æ˜¯ç±»ä¼¼äºçœŸå®ä¸–ç•Œå¯¹è±¡çš„è™šæ‹Ÿå½¢å¼ã€‚

![](img/c487e5e168e10890b933b2b2f87a8ebf.png)

å¦ä¸€ç§ç†è§£é˜¶çº§çš„æ–¹æ³•æ˜¯é€šè¿‡å®¶åº­å’Œå›¢ä½“ã€‚æƒ³è±¡ä¸€ä¸ªæ±½è½¦ç±»ï¼Œå®ƒæœ‰å…±åŒçš„å±æ€§ï¼Œå¦‚å“ç‰Œã€å‹å·ã€é¢œè‰²ã€å¼•æ“å’Œå¹´ä»½ã€‚car ç±»ä½œä¸ºä¸€ä¸ªæ„é€ å‡½æ•°æ¥åˆ›å»º Car å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡å¯ä»¥æœ‰ä¸åŒçš„å±æ€§ï¼Œä½†æœ€ç»ˆéƒ½æ˜¯ Carã€‚åœ¨ç¼–ç¨‹ä¸­ï¼Œæˆ‘ä»¬è¯´æ¯ä¸ªæ±½è½¦å¯¹è±¡éƒ½æ˜¯æ±½è½¦ç±»çš„ä¸€ä¸ªå®ä¾‹ã€‚

> ä¸€ä¸ªç±»å°±åƒä¸€ä¸ªè“å›¾ï¼Œæ˜¯ä¸€ä¸ªå¯¹è±¡çš„è§„æ ¼è¯´æ˜ï¼Œæè¿°äº†å®ƒå°†ä¼šæ˜¯ä»€ä¹ˆæ ·å­å’Œå¦‚ä½•è¡¨ç°

## å±‚æ¬¡å’Œå­ç±»åŒ–

ç±»ä¸ä»…ä½œä¸ºå¯¹è±¡æˆ–å¯¹è±¡ç»„çš„è§„èŒƒï¼Œè¿˜é€šè¿‡å­ç±»åŒ–è¡¨ç¤ºç°å®ä¸–ç•Œçš„å±‚æ¬¡ç»“æ„ã€‚

å–ä¸‹é¢çš„å®šä¹‰:

> è½¦è¾†æ˜¯è¿é€äººæˆ–è´§ç‰©çš„æœºå™¨â€” [ç»´åŸºç™¾ç§‘](https://en.wikipedia.org/wiki/Vehicle)

è¿™æ„å‘³ç€æˆ‘ä»¬çš„æ±½è½¦å¯ä»¥ç»§æ‰¿è½¦è¾†çš„å±æ€§å’Œæ–¹æ³•ï¼Œå› ä¸ºæ ¹æ®å®šä¹‰ï¼Œå®ƒæ˜¯è¿™æ ·çš„ã€‚ä½†æ˜¯åœ¨è¿™ä¸¤è€…ä¹‹é—´ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ å°½å¯èƒ½å¤šçš„ç±»æ¥æ¨¡æ‹Ÿæˆ‘ä»¬è¯•å›¾è§£å†³çš„é—®é¢˜ã€‚

ä¸€ç§è¡¨ç¤ºå¯ä»¥æ˜¯ä»¥ä¸‹å…³ç³»:

![](img/2b96a1de22ddbadf6f13634a7ea3778f.png)

åœ¨ä¸Šé¢çš„å›¾åƒä¸­ï¼Œæˆ‘ä»¬æ ¹æ®è®¾è®¡çš„ç¯å¢ƒå¯¹è½¦è¾†è¿›è¡Œäº†åˆ†ç±»:åœ°é¢è½¦è¾†ï¼Œå¦‚æ±½è½¦ã€å¡è½¦ã€æ‘©æ‰˜è½¦ï¼›é£æœºã€å–·æ°”å¼é£æœºã€ç›´å‡æœºçš„å¤©çº¿ï¼Œèˆ¹åªã€æ¸¸è‰‡å’Œæ½œè‰‡çš„æ°´ä¸Šå¤©çº¿ã€‚æˆ‘ä»¬å¯ä»¥ç”¨å…¶ä»–åˆ†ç±»æ–¹æ³•æ¥åŒºåˆ†å®ƒä»¬ï¼Œæ¯”å¦‚ä½ç§»æœºåˆ¶ï¼Œä¾‹å¦‚ï¼Œå¯¹äºé™†åœ°è½¦è¾†:è½¦è½®æˆ–å±¥å¸¦ã€‚ä½†æ˜¯å¯¹äºè¿™ä¸ªä¾‹å­æ¥è¯´è¿™æ˜¯ä¸å¿…è¦çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é¿å…å¢åŠ é—®é¢˜çš„å¤æ‚æ€§ã€‚

è¯¥å›¾ä»ä¸Šåˆ°ä¸‹ï¼Œä»ä¸€èˆ¬åˆ°å…·ä½“æè¿°äº†æ±½è½¦çš„å«ä¹‰ã€‚è¿™æ˜¯ç»§æ‰¿çš„è§„åˆ™ã€‚æˆ‘ä»¬æ€»æ˜¯ä»æœ€ä¸€èˆ¬çš„å½¢å¼åˆ°æœ€è¯¦ç»†çš„å½¢å¼ã€‚æ¯æ¬¡æˆ‘ä»¬å»ºæ¨¡ä¸€ä¸ªç»§æ‰¿è‡ªå¦ä¸€ä¸ªçš„ç±»æ—¶ï¼Œæˆ‘ä»¬éƒ½ä¼šæ‰©å±•åŠŸèƒ½ä»¥å¢åŠ æ›´å¤šçš„ä¸“é—¨åŒ–ã€‚

å½“ B ç±»æ‰©å±• A ç±»æ—¶ï¼Œæˆ‘ä»¬è¯´ B æ˜¯ A çš„å­ç±»ï¼ŒåŒæ—¶ A æ˜¯ B çš„è¶…ç±»æˆ–åŸºç±»ã€‚

æŒ‰ç…§è¿™ä¸ªä¾‹å­ï¼ŒCar æ˜¯ Terrestrial çš„å­ç±»ï¼Œä½†æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ªå…³äºç±»ç»§æ‰¿çš„äº‹æƒ…:

> ç»§æ‰¿éµå¾ªä¼ é€’æ€§

ä¸Šé¢çš„é™ˆè¿°æ„å‘³ç€ï¼Œå¦‚æœæˆ‘ä»¬æ·»åŠ ä¸€ä¸ªç±» C æ¥æ‰©å±•ä»¥å‰çš„ç±» B(æ‰©å±• A çš„é‚£ä¸ªç±»),é‚£ä¹ˆ C ç±»ä¹Ÿé€šè¿‡ä¼ é€’æ€§ä»ç±» A æ‰©å±•ã€‚åœ¨è½¦è¾†çš„ä¾‹å­ä¸­ï¼Œcar ä¹Ÿæ˜¯è½¦è¾†ç±»çš„å­ç±»ï¼Œè¿™æ„å‘³ç€ Car å®ä¾‹å¯ä»¥ä»ä¸¤ä¸ªç±»ç»§æ‰¿æ–¹æ³•å’Œå±æ€§:é™†åœ°å’Œè½¦è¾†ç±»ã€‚

åœ¨åƒ C++è¿™æ ·çš„å…¶ä»–è¯­è¨€ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åŒæ—¶ä»è®¸å¤šç±»ä¸­æ‰©å±•ä¸€ä¸ªç±»ï¼›è¿™å«åšå¤šé‡ç»§æ‰¿ï¼Œä½†æ˜¯ JavaScript ä¸æ”¯æŒã€‚

> ğŸ’¡åœ¨ JavaScript ä¸­ï¼Œä¸€ä¸ªç±»ä¸€æ¬¡åªèƒ½ç»§æ‰¿ä¸€ä¸ªç±»ã€‚

# å¦‚ä½•ç”¨ JavaScript å†™ç±»ï¼Ÿ

ä» ES6 å¼€å§‹ï¼Œåˆ›å»ºç±»å˜å¾—å¾ˆå®¹æ˜“ï¼›å¦‚æœéœ€è¦åˆå§‹åŒ–å¯¹è±¡çš„å®ä¾‹ï¼Œä½¿ç”¨ä¿ç•™çš„`class`å­—å¹¶ç¼–å†™ä¸€ä¸ªæ„é€ å‡½æ•°å—ã€‚å¦‚æœæ‚¨æƒ³ä»å¦ä¸€ä¸ªç±»æ‰©å±•è¡Œä¸ºï¼Œè¯·åœ¨ç±»ååä½¿ç”¨`extends`å…³é”®å­—ã€‚å¦‚æœä½ æ‰“ç®—å°†åˆå§‹åŒ–å§”æ‰˜ç»™çˆ¶ç±»ï¼Œè®°å¾—åœ¨æ„é€ å‡½æ•°ä¸­è°ƒç”¨`super()`æ–¹æ³•ã€‚

æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨å…¶ä»–ç‰¹æ€§ï¼Œæ¯”å¦‚ä½¿ç”¨ getters å’Œ setters çš„*ï¼Œé™æ€å€¼ï¼Œä»¥åŠæ›´å¤šçš„*ã€‚

åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°å¦‚ä½•ä» ES6 å¼€å§‹ç¼–å†™ä¸€ä¸ªç±»ã€‚æ‰€æœ‰æ¼‚äº®çš„è¯­æ³•éƒ½æ”¾åœ¨æ™®é€šå¯¹è±¡çš„è‚©ä¸Šï¼Œé€šå¸¸æ˜¯é€šè¿‡ä½¿ç”¨*æ„é€ å‡½æ•°*åˆ›å»ºçš„ã€‚

æ„é€ å‡½æ•°æ˜¯*æ„é€ å‡½æ•°æ¨¡å¼*çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œç”¨äºé€šè¿‡å®ä¾‹åŒ–åˆ›å»ºå…±äº«åŠŸèƒ½çš„ç›¸ä¼¼å¯¹è±¡ã€‚æ„é€ å‡½æ•°åªä¸è¿‡æ˜¯ä¸€ä¸ªæ™®é€šçš„å‡½æ•°ã€‚ä¸ºäº†åŒºåˆ†å‡½æ•°å’Œæ„é€ å‡½æ•°ï¼Œå¼€å‘äººå‘˜æœ‰ä¸€ä¸ªç”¨å¤§å†™å­—æ¯ç¼–å†™æ„é€ å‡½æ•°çš„æƒ¯ä¾‹ï¼Œè€Œå…¶ä»–å‡½æ•°çš„åç§°å¿…é¡»ä»¥å°å†™å­—æ¯å¼€å¤´ã€‚

ä¸‹é¢æ˜¯æ„é€ è€…çš„è½¦è¾†ç‰ˆæœ¬ï¼Œè¿™æ˜¯åœ¨è¯­è¨€ä¸­åŒ…å«ç±»çš„è¯­æ³•ä¹‹å‰å®ä¾‹åŒ–å¯¹è±¡çš„é¦–é€‰æ–¹å¼ã€‚

ä¸€ä¸ªå‡½æ•°æ„é€ å™¨ï¼Œå®ƒçš„åŸå‹è¢«èµ‹äºˆäº†ä¸€äº›æ–¹æ³•

ä¸ºäº†ç”¨æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªå¯¹è±¡å®ä¾‹ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¿ç•™çš„`new`å­—æ¥è°ƒç”¨å®ƒä»¬ã€‚å½“å¿ƒè°ƒç”¨æ²¡æœ‰è¿™ä¸ªè¯çš„æ„é€ å‡½æ•°ï¼Œæ„é€ å‡½æ•°ä¸ä¼šå¤±è´¥ï¼Œä½†æ˜¯è¡Œä¸ºä¼šæœ‰æ‰€ä¸åŒã€‚

![](img/13b726cfd9eb97b3b1656afe7ffe277e.png)

Chrome DevTools ä¸Šçš„ä¸€ä¸ªæˆªå›¾

å½“æˆ‘ä»¬è°ƒç”¨ä¸å¸¦`new`å­—çš„æ„é€ å‡½æ•°æ—¶ï¼Œå®ƒä¼šå°†æ‰€æœ‰åˆ†é…ç»™`this`ä¸Šä¸‹æ–‡çš„å˜é‡å’Œæ–¹æ³•è¿½åŠ åˆ°â€œ*å…¨å±€å¯¹è±¡*â€ä¸­ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚åœ¨ Web æµè§ˆå™¨ä¸­ï¼Œå…¨å±€å¯¹è±¡æ˜¯`window`å¯¹è±¡ï¼Œè€Œåœ¨ NodeJS ä¸­æ˜¯å½“å‰æ¨¡å—ã€‚

ç±»é€šè¿‡æŠ›å‡ºä¸€ä¸ªé”™è¯¯è§£å†³äº†è¿™ä¸ªé—®é¢˜:

```
Uncaught TypeError: Class constructor Vehicle cannot be invoked without 'new'
```

ç±»å’Œæ„é€ å‡½æ•°ä»£ç ä¹‹é—´çš„å¦ä¸€ä¸ªä¼—æ‰€å‘¨çŸ¥çš„åŒºåˆ«æ˜¯ï¼Œå¯¹äºæ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨å£°æ˜æ„é€ å‡½æ•°ä¹‹åå‘åä¸º *prototype* çš„å¯¹è±¡æ·»åŠ å±æ€§å’Œæ–¹æ³•ã€‚æˆ‘ä»¬ä¸éœ€è¦ä½¿ç”¨ç±»æ¥å®ç°ã€‚

åˆçº§ç¨‹åºå‘˜å¸¸è§çš„è¯¯è§£æ˜¯ï¼Œä»–ä»¬è®¤ä¸ºä¸€æ—¦åˆ›å»ºäº†æ–°çš„å®ä¾‹ï¼Œç±»ä¸­å®šä¹‰çš„æ–¹æ³•å°±ä¼šè¢«å¤åˆ¶åˆ°æ–°çš„å®ä¾‹ä¸­ã€‚

è®©æˆ‘ä»¬æ‰¾å‡ºç­”æ¡ˆã€‚

```
// First we create a vehicleâ€™s instance using the Vehicle class const vehicle = new Vehicle(0,0,0)// Then we check if the methods declared inside the class 
// are copied to the instancevehicle.hasOwnProperties('startEngine') // false
vehicle.hasOwnProperties('stopEngine') // false
.
.
.
vehicle.hasOwnProperties('move') // false
```

GIF via [Giphy](https://media.giphy.com/media/vC7re5BB5QsYU/giphy.gif)

æˆ‘ä»¬ä½¿ç”¨æ¯ä¸ªå¯¹è±¡åœ¨æœ€è¿‘åˆ›å»ºçš„ vehicle å®ä¾‹ä¸Šæ‹¥æœ‰çš„`hasOwnProperty`æ–¹æ³•æ¥æ£€æŸ¥å®ƒæ˜¯å¦æ‹¥æœ‰åœ¨ç±»ä¸­å®šä¹‰çš„æ–¹æ³•ã€‚ä»¤æˆ‘ä»¬æƒŠè®¶çš„æ˜¯ï¼Œå®ƒæ²¡æœ‰ä»»ä½•æ–¹æ³•ã€‚

ç•™ç»™æˆ‘ä»¬ä»¥ä¸‹é—®é¢˜:

â€”ä»–ä»¬å»å“ªé‡Œäº†ï¼Ÿ

GIF via [Giphy](https://media.giphy.com/media/gIfgb4RSmErc07m4n9/giphy.gif)

ä½¿ç”¨`getPrototypeOf`æ–¹æ³•â€”â€”ä» ES6 å¼€å§‹å¯ç”¨â€”â€”æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ„é€ å‡½æ•°æ£€ç´¢å‰é¢ä»£ç ä¸­çœ‹åˆ°çš„åŒä¸€ä¸ª*åŸå‹*å¯¹è±¡ï¼ŒçŒœçŒœä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ

```
// ES6 syntax: using classes
const prototype = Object.getPrototypeOf(Vehicle)// we print the vehicle's instance properties
console.log(Object.keys(vehicle))
// []console.log(Object.keys(prototype))
// ['startEngine', 'stopEngine', 'accelerate', 'addFuel', 'move']
```

ES6 è¯­æ³•éšè—äº†è¿™æ ·ä¸€ä¸ªäº‹å®ï¼Œå³ç±»å†…éƒ¨ä½¿ç”¨æˆ‘ä»¬åœ¨æ„é€ å‡½æ•°ä¸­çœ‹åˆ°çš„ç›¸åŒåŸå‹å¯¹è±¡ï¼Œå¹¶è‡ªåŠ¨å¤åˆ¶å…¶ä¸­çš„æ‰€æœ‰æ–¹æ³•ã€‚

## ä½¿ç”¨ç±»ç»§æ‰¿

> åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†åªä½¿ç”¨æ±½è½¦å’Œè½¦è¾†ç±»ã€‚ä¸ºäº†ç®€å•èµ·è§ï¼Œé™†åœ°ç±»å°†è¢«åˆ é™¤ã€‚

ä½¿ç”¨`extends`,æˆ‘ä»¬å°† Car å£°æ˜ä¸º Vehicle çš„å­ç±»ï¼Œè¿™æ„å‘³ç€æ— è®ºä½•æ—¶æˆ‘ä»¬ä» Car è°ƒç”¨`super`,æˆ‘ä»¬éƒ½å¼•ç”¨äº† Vehicle åŸå‹æˆ–å…¶æ„é€ å‡½æ•°ä¸­çš„æ–¹æ³•ã€‚åœ¨ç¬¬ 7 è¡Œï¼Œæˆ‘ä»¬è°ƒç”¨è½¦è¾†çš„æ„é€ å‡½æ•°ï¼Œåœ¨ç¬¬ 11 è¡Œè°ƒç”¨è½¦è¾†çš„ç±»`move`æ–¹æ³•ï¼Œä¿å­˜åœ¨åŸå‹å¯¹è±¡ä¸­ã€‚åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼ é€’å‚æ•°ï¼Œå¹¶ä¸”è‡ªåŠ¨è®¾ç½®ä¸Šä¸‹æ–‡ï¼Œç”¨æ–°åˆ›å»ºçš„æ±½è½¦å®ä¾‹æ›¿æ¢ Vehicle ä¸Šçš„`this`å¼•ç”¨ã€‚

## ä½¿ç”¨æ„é€ å‡½æ•°çš„ç»§æ‰¿

åœ¨è¿™ç§æ–¹æ³•ä¸­ï¼Œä¸‹é¢å‘ç”Ÿçš„äº‹æƒ…å¯¹æˆ‘ä»¬æ¥è¯´æ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚å¾ˆæ˜æ˜¾ï¼Œæˆ‘ä»¬åœ¨ Car å†…éƒ¨è°ƒç”¨è½¦è¾†çš„æ„é€ å‡½æ•°ï¼Œå¹¶å°†ä¸€ä¸ªè½¦è¾†å®ä¾‹æŒ‡å®šä¸º Car çš„åŸå‹ã€‚æˆ‘ä»¬ä¹Ÿæ˜ç¡®åœ°å°†ç§»åŠ¨çš„é€»è¾‘å§”æ‰˜ç»™è½¦è¾†çš„ç§»åŠ¨æ–¹æ³•ã€‚

ç¬¬ 9 è¡Œå‘ç”Ÿçš„æ˜¯é€šè¿‡æ±½è½¦çš„æ„é€ è€…æ‰©å±•æ±½è½¦çš„é­”æ³•ã€‚åŸå‹ç‰©ä½“å°†æ±½è½¦å’Œè½¦è¾†ç»“åˆåœ¨ä¸€èµ·ã€‚ä½¿ç”¨è¿™ç§åŸºæœ¬å½¢å¼â€”â€”æˆ‘çš„æ„æ€æ˜¯åˆ›å»ºä¸€ä¸ª Vehicle å®ä¾‹ä½œä¸ºåŸå‹â€”â€”æˆ‘ä»¬ä¼šé‡åˆ°ç»™æ±½è½¦çš„åŸå‹å¯¹è±¡åˆ†é…ä¸å¿…è¦çš„å±æ€§çš„é—®é¢˜ï¼Œè¿™äº›å±æ€§åœ¨æˆ‘ä»¬è°ƒç”¨è½¦è¾†çš„æ„é€ å‡½æ•°æ—¶è®¾ç½®ä¸º`this`ã€‚

æˆ‘ä»¬æœ‰å¤šç§é€‰æ‹©æ¥åˆ›å»ºä¸¤ä¸ªæ„é€ å‡½æ•°ä¹‹é—´çš„ç»‘å®šï¼Œä»¥æ”¯æŒè°ƒç”¨å’Œä½¿ç”¨è¶…ç±»çš„æ–¹æ³•ã€‚å…¶ä¸­ä¹‹ä¸€æ˜¯`Object.create`æ–¹æ³•ï¼Œä» ES6 å¼€å§‹å¯ç”¨ã€‚

`Object.create`æ‰€åšçš„å’Œç¬¬ 15 åˆ° 17 è¡Œæ‰€å‘ç”Ÿçš„ä¸€æ ·ã€‚åˆ›å»ºä¸€ä¸ªæ–°çš„æ„é€ å‡½æ•°ï¼Œç„¶åç”¨ä½œä»£ç†ï¼Œä»¥é¿å…è°ƒç”¨è½¦è¾†çš„æ„é€ å‡½æ•°ï¼Œè¿™å°†æ„å¤–åœ°å‘æ±½è½¦çš„åŸå‹æ·»åŠ å±æ€§ã€‚

è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»çœ‹åˆ°äº†ä¸¤ç§ç›¸åŒçš„æ–¹æ³•:*ç”¨ JavaScript* åˆ›å»ºâ€œç±»â€ã€‚ç°ä»£æ–¹å¼ç±»ä¼¼äºå…¶ä»–è¯­è¨€ï¼Œéšè—äº†å¤„ç†åŸå‹çš„æ‰€æœ‰å¤æ‚æ€§ï¼Œä½†æ˜¯è¿™æ ·åšï¼Œæˆ‘ä»¬å·²ç»å¿˜è®°äº†è¿™äº›å¯¹è±¡çš„å­˜åœ¨å’Œå®ƒä»¬çš„åŠŸèƒ½ã€‚

# åŸå‹

å‰é¢ï¼Œæˆ‘ä»¬å‘ç°åœ¨ç±»è¯­æ³•ä¸­é‡å¤å¼•ç”¨äº†ä¸€ä¸ªå«åš prototype çš„å¯¹è±¡ï¼Œä½†æ˜¯æ‰€è°“çš„ *prototype* æ˜¯ä»€ä¹ˆï¼Œå®ƒçš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ

`prototype`å¯¹è±¡æœ¬èº«è¢«æœ‰æ•ˆåœ°ç”¨ä½œæ„é€ å™¨åˆ›å»ºçš„æ¯ä¸ªå¯¹è±¡çš„è“å›¾ã€‚è¿™æ˜¯æˆ‘ä»¬åœ¨æ—§è¯­æ³•ä¸­æ”¾ç½®æ„é€ å‡½æ•°æ–¹æ³•çš„åœ°æ–¹ï¼Œè¿™æ˜¯ä¸€ä¸ªä¿ç•™åœ¨ç±»ä¸­ä½†è¢«éšè—çš„äº‹å®ã€‚

> åŸå‹è´Ÿè´£å­˜å‚¨å’Œæä¾›å¯¹ä¸€ç»„å…¬å…±æ–¹æ³•å’Œå±æ€§çš„è®¿é—®ï¼Œè¿™äº›æ–¹æ³•å’Œå±æ€§åœ¨é…ç½®äº†åŸå‹çš„ç±»æˆ–æ„é€ å‡½æ•°çš„æ‰€æœ‰å®ä¾‹ä¹‹é—´å…±äº«

ä½œä¸ºä¸€ä¸ªå¯¹è±¡ï¼ŒåŸå‹æ¯”ç±»æä¾›äº†æ›´å¤šçš„çµæ´»æ€§ã€‚æ­£å¦‚æˆ‘ä»¬å‰é¢çœ‹åˆ°çš„ï¼Œå¯ä»¥é€šè¿‡æ·»åŠ æ–°æ–¹æ³•æ¥ä¿®æ”¹å®ƒã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥åˆ é™¤æ–¹æ³•ï¼Œç”šè‡³ç”¨å¦ä¸€ä¸ªå¯¹è±¡å®Œå…¨æ›¿æ¢åŸå‹ã€‚

å½“æˆ‘ä»¬é€šè¿‡æ·»åŠ æˆ–åˆ é™¤æ–¹æ³•æ¥ä¿®æ”¹åŸå‹æ—¶ï¼Œæ‰€æœ‰å…ˆå‰åˆ›å»ºçš„ã€é“¾æ¥åˆ°åŸå‹çš„å¯¹è±¡å°†ä¼šç«‹å³åæ˜ è¿™äº›æ›´æ”¹ã€‚å¦‚æœæˆ‘ä»¬æ·»åŠ ä¸€ä¸ªæ–¹æ³•ï¼Œå®ä¾‹å¯ä»¥ä½¿ç”¨è¯¥æ–¹æ³•ï¼Œå°±å¥½åƒå®ƒä¸€ç›´å­˜åœ¨ä¸€æ ·ã€‚

ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬ç”¨ä¸€ä¸ªç¯æ„é€ å™¨æ¥å»ºæ¨¡ä¸€ä¸ªç¯:

1.  æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª*ç¯*å¯¹è±¡
2.  æˆ‘ä»¬å‘`Lamp.prototype`æ·»åŠ äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œç”¨äºä¿®æ”¹æŒ‡ç¤ºç¯æ˜¯å¼€è¿˜æ˜¯å…³çš„å†…éƒ¨å±æ€§(*çœŸ*æˆ–*å‡*
3.  å…ˆå‰åˆ›å»ºçš„ *lamp* å®ä¾‹å¯ä»¥æ¯«æ— é—®é¢˜åœ°æ‰§è¡Œè¿™ä¸¤ç§æ–¹æ³•
4.  æˆ‘ä»¬åˆ é™¤äº†å…¶ä¸­ä¸€ä¸ªæ–¹æ³•
5.  å½“æˆ‘ä»¬è¯•å›¾æ‰§è¡Œä» *lamp* å®ä¾‹ä¸­åˆ é™¤çš„æ–¹æ³•æ—¶ï¼Œå‡ºç°äº†ä¸€ä¸ªé”™è¯¯ï¼Œå› ä¸ºå®ƒä¸å†èƒ½å¤Ÿè®¿é—®å®ƒ

ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°çœŸå®çš„ä¾‹å­

å½“æˆ‘ä»¬æ›¿æ¢åŸå‹å¯¹è±¡æ—¶ï¼Œæƒ…å†µå°±ä¸åŒäº†ã€‚å…ˆå‰åˆ›å»ºçš„å®ä¾‹ä»ç„¶å¯ä»¥è®¿é—®æ—§åŸå‹çš„æ–¹æ³•ã€‚åˆ›å»ºçš„æ–°å¯¹è±¡å°†ä½¿ç”¨æ–°çš„åŸå‹ã€‚

çœ‹ä¸€ä¸‹ä¸‹é¢çš„ä¾‹å­:

1.  æˆ‘ä»¬ç”¨ä¸€ä¸ªæ–¹æ³•åˆ›å»ºäº† Bird æ„é€ å‡½æ•°: *fly* ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ *bird* å¯¹è±¡æ¥æ‰§è¡Œè¿™ä¸ªæ–¹æ³•
2.  ç„¶åï¼Œæˆ‘ä»¬åˆ›å»ºå¦ä¸€ä¸ªåä¸º *aquaticBird* çš„å¯¹è±¡ï¼Œå…¶ä¸­æ²¡æœ‰ *fly* æ–¹æ³•ï¼Œè€Œæ˜¯æœ‰ä¸€ä¸ªåä¸º *swim* çš„æ–¹æ³•
3.  æˆ‘ä»¬ç”¨ *aquaticBird* å¯¹è±¡æ›¿æ¢`Bird.prototype`
4.  ç°åœ¨ï¼Œbird å®ä¾‹ä»ç„¶å¯ä»¥æ‰§è¡Œ *fly* æ–¹æ³•ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œè®©æˆ‘ä»¬ç§°ä¹‹ä¸º penguinï¼Œå®ƒæ²¡æœ‰æ‰¾åˆ° *fly* æ–¹æ³•ï¼Œå› ä¸ºå®ƒçš„åŸå‹æ²¡æœ‰ä¸€ä¸ªåä¸º *fly* çš„æ–¹æ³•ï¼Œä½†æ˜¯å®ƒæœ‰ *swim* æ–¹æ³•ã€‚å› æ­¤ï¼Œä¸¤ä¸ªå®ä¾‹éƒ½æŒ‡å‘ä¸¤ä¸ªä¸åŒçš„åŸå‹

ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°çœŸå®çš„ä¾‹å­

> æ›¿æ¢åçš„åŸå‹ä¸ä¼šåœ¨ç°æœ‰å¯¹è±¡ä¸Šæ›´æ–°ã€‚

é™¤äº†åŸå‹ï¼ŒJavaScript è¿˜æœ‰å¦ä¸€ä¸ªç›¸å…³çš„ç‰¹æ€§ï¼Œæ‰€æœ‰å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªç‰¹æ®Šå±æ€§ï¼Œå®ƒè´Ÿè´£å‰é¢æè¿°çš„è¡Œä¸ºã€‚å®ƒçš„åå­—æ˜¯[[Prototype]](æ˜¯çš„ï¼Œå¸¦æ‹¬å·)ï¼Œè´Ÿè´£ä¿å­˜å¯¹ Prototype å¯¹è±¡çš„å¼•ç”¨ã€‚å¼•ç”¨ç”±ä½¿ç”¨åŸå‹ä½œä¸ºæ¨¡å‹åˆ›å»ºçš„ä»»ä½•å¯¹è±¡ä¿å­˜ã€‚æˆ‘ä»¬å¯ä»¥æ›¿æ¢åŸå‹ï¼Œä½†æ˜¯åªæœ‰æ›¿æ¢ååˆ›å»ºçš„å¯¹è±¡æ‰ä¼šå°†æ–°å¯¹è±¡ä½œä¸ºå…¶åŸå‹ã€‚

> [[Prototype]]å±æ€§è´Ÿè´£å­˜å‚¨å¯¹æ„é€ å‡½æ•°åŸå‹çš„å¼•ç”¨ã€‚æ‚¨å¯ä»¥å°†å…¶è§†ä¸ºæ¯ä¸ª JavaScript å¯¹è±¡ä¸Šçš„ä¸€ä¸ªéšè—çš„åªè¯»å±æ€§ã€‚

è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªä¾‹å­æ¥å¼ºåŒ–è¿™äº›æ¦‚å¿µ:

å‡è®¾æˆ‘ä»¬éœ€è¦åœ¨ä»£ç ä¸­æ¨¡æ‹Ÿä¸€æ¡é²¸é±¼ã€‚é²¸é±¼æœ‰è‚ºå‘¼å¸ï¼Œè¿™æ˜¯æ‰€æœ‰å“ºä¹³åŠ¨ç‰©çš„ç‰¹å¾ã€‚é²¸é±¼æ˜¯ä¸€ç§æ°´ç”Ÿå“ºä¹³åŠ¨ç‰©ï¼›å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†`breath`è¡Œä¸ºä½œä¸ºæ–¹æ³•å­˜å‚¨åœ¨å“ºä¹³åŠ¨ç‰©å¯¹è±¡ä¸­ï¼Œå¹¶å°†è¯¥å¯¹è±¡è®¾ç½®ä¸º`Whale`æ„é€ å‡½æ•°çš„åŸå‹ã€‚

> æ‚¨æ˜¯å¦æ³¨æ„åˆ°å“ºä¹³åŠ¨ç‰©å¯¹è±¡å¯èƒ½æ˜¯ä¸€ä¸ªç±»ï¼Œä½†æ˜¯æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªæ™®é€šå¯¹è±¡å°†å…¶æ–¹æ³•ç»‘å®šåˆ°é²¸é±¼å®ä¾‹ï¼Ÿã€‚

prototype å¯¹è±¡å’Œ[[Prototype]]å±æ€§ä¹‹é—´çš„å…³ç³»æ˜¯ï¼Œå‰è€…ä½œä¸ºä¸€ç»„å¯¹è±¡çš„å…¬å…±æ–¹æ³•å’Œå±æ€§çš„å¯ç¼–è¾‘å­˜å‚¨ã€‚è€Œç¬¬äºŒä¸ªè´Ÿè´£ç»´æŠ¤å¯¹åŸå‹çš„åªè¯»ç‰ˆæœ¬çš„å¼•ç”¨ï¼Œä»¥ä¾¿æ‰¾åˆ°å¹¶æ‰§è¡Œå®ƒçš„æ–¹æ³•ã€‚

![](img/fd0e626228e0fda36f3d586d89fa8c3e.png)

ç”±æˆ‘åˆ›é€ 

åœ¨æˆ‘ä»¬ä¹‹å‰çš„ä¾‹å­ä¸­ï¼Œæ¯æ¬¡ä¸€ä¸ª *whale* å¯¹è±¡ï¼Œä¸€ä¸ª`Whale`çš„å®ä¾‹ï¼Œæ‰§è¡Œ`breath`æ–¹æ³•æ—¶ï¼Œéƒ½ä¼šå‘ç”Ÿä»¥ä¸‹æƒ…å†µ:JavaScript è·Ÿéšä» *whale* å¯¹è±¡æŒ‡å‘`Whale.prototype`çš„`[[Prototype]]`ï¼Œåœ¨æœ¬ä¾‹ä¸­æ˜¯*å“ºä¹³åŠ¨ç‰©å¯¹è±¡*ï¼Œæœç´¢`breath`æ–¹æ³•ï¼Œç›´åˆ°æ‰¾åˆ°å¹¶æ‰§è¡Œå®ƒã€‚

éœ€è¦è€ƒè™‘çš„ä¸€ç‚¹æ˜¯ï¼Œå½“æˆ‘ä»¬ç”¨ä»»ä½•ç­–ç•¥åœ¨ JavaScript ä¸­åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œ[Prototype]]å±æ€§æ˜¯è‡ªåŠ¨è®¾ç½®çš„ã€‚

```
const instance = new Class() // class or constructorconst obj = {}const newObj = Object.create();
```

> ğŸ’¡è¦†ç›–[[Prototype]]å±æ€§çš„å”¯ä¸€æ–¹æ³•æ˜¯ä½¿ç”¨`Object.setPrototypeOf`ï¼Œä½†æ˜¯ä¸æ¨èåœ¨å†…ç½®çš„æ„é€ å‡½æ•°ä¸Šä½¿ç”¨å®ƒ:æ•°ç»„ã€å¯¹è±¡ã€å‡½æ•°ã€å­—ç¬¦ä¸²

æ¯å½“æˆ‘ä»¬åˆ›å»ºæˆ–å®ä¾‹åŒ–ä¸€ä¸ªæ–°å¯¹è±¡æ—¶ï¼Œéƒ½ä¼šå‘ç”Ÿä¸¤ä¸ªäº‹ä»¶:

*   åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ã€‚å¦‚æœå®ƒæ˜¯ä½¿ç”¨ç±»æˆ–å‡½æ•°æ„é€ å‡½æ•°åˆ›å»ºçš„ï¼Œé‚£ä¹ˆæ–°å¯¹è±¡è¢«ä¼ é€’ç»™å…¶ä¸­ä¸€ä¸ªæ¥æ›¿æ¢`this`ä¸Šä¸‹æ–‡ï¼Œå¹¶æ·»åŠ ä»»ä½•åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰çš„å±æ€§æˆ–æ–¹æ³•
*   åœ¨æ–°å¯¹è±¡ä¸­è®¾ç½®[[Prototype]]å±æ€§ï¼Œä»¥å¼•ç”¨ç”¨äºåˆ›å»ºè¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°æˆ–ç±»çš„åŸå‹ï¼›å¦‚æœæ²¡æœ‰ç»™å‡ºæ˜ç¡®çš„åŸå‹ï¼Œé‚£ä¹ˆå°†ä½¿ç”¨ `Object.prototype`,å› ä¸ºåœ¨ JavaScript ä¸­ï¼Œå®ƒæ˜¯æ‰€æœ‰å¯¹è±¡çš„çˆ¶å¯¹è±¡

> ğŸ’¡ä½¿ç”¨ `Object.create(null)`ï¼Œæˆ‘ä»¬é¿å…è®¾ç½®å¯¹è±¡çš„åŸå‹ã€‚ç¼ºç‚¹æ˜¯è¿”å›çš„å¯¹è±¡ä¼šå’Œ`Object.prototype`åœ¨ä¸€ä¸ªçº§åˆ«ï¼›å› æ­¤ï¼Œå®ƒä¸ä¼šç»§æ‰¿å¯¹è±¡çš„ä»»ä½•åŸå‹æ–¹æ³•ã€‚

æ‰€æœ‰çš„åŸå‹è¡Œä¸ºå’Œé€»è¾‘èƒŒåéƒ½æ˜¯æœ‰åŸå› çš„ã€‚è®©ä¸€ä¸ªå¯¹è±¡è´Ÿè´£å¸¸è§çš„å­˜å‚¨æ–¹æ³•æ˜¯ä¸€ç§å†…å­˜ä¼˜åŒ–ç­–ç•¥ã€‚å¦ä¸€ç§æ–¹æ³•æ˜¯åœ¨æ¯ä¸ªæ–°åˆ›å»ºçš„å®ä¾‹ä¸Šé‡å¤è¿™äº›æ–¹æ³•ï¼Œå¯¼è‡´å†…å­˜æµªè´¹ã€‚

# åŸå‹é“¾

![](img/a9c559004239bd48fff408018dcace21.png)

åŸå‹é“¾â€”â€”ç”±æˆ‘åˆ›å»º

æˆ‘ä»¬å·²ç»çŸ¥é“[[prototype]]å±æ€§è´Ÿè´£ç»´æŠ¤å¯¹ prototype å¯¹è±¡çš„å¼•ç”¨ï¼Œå½“ prototype çš„ Prototype åšåŒæ ·çš„äº‹æƒ…æ—¶ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªé“¾ï¼Œä¹Ÿç§°ä¸º Prototype é“¾ã€‚è¿™å°±æ˜¯ JavaScript å¦‚ä½•è®¾æ³•é€šè¿‡*åŸå‹ç»§æ‰¿*æ¥æ¨¡æ‹Ÿ*ç±»ç»§æ‰¿*ã€‚åœ¨ä¸Šå›¾ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ²¿ç€è¿æ¥æ¯ä¸ªç‰©ä½“çš„æ©™è‰²çº¿çœ‹åˆ°è¿™ä¸€ç‚¹ã€‚

æ¯æ¬¡æˆ‘ä»¬æ‰§è¡Œä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•æ—¶ï¼ŒJavaScript éƒ½ä¼šåœ¨å¯¹è±¡æœ¬èº«ä¸­æœç´¢è¯¥æ–¹æ³•ã€‚å½“å®ƒæ‰¾ä¸åˆ°å®ƒæ—¶ï¼Œå®ƒä¼šè·Ÿéšå¯¹å…¶çˆ¶åŸå‹çš„[[Prototype]]å¼•ç”¨ï¼Œå¹¶é€šè¿‡åŸå‹é“¾é‡å¤è¯¥è¿‡ç¨‹ï¼Œç›´åˆ°å®ƒæ‰¾åˆ°è¯¥æ–¹æ³•æˆ–åˆ°è¾¾ç»“å°¾ï¼Œä¸€ä¸ª *null* å¼•ç”¨ã€‚

åŸå‹é“¾æ˜¯ç”±ä¸€ç§ç‰¹å®šç±»å‹çš„åŸå‹ç»§æ‰¿å½¢æˆçš„ï¼Œç§°ä¸º*åŸå‹å§”æ‰˜*æˆ–*å·®å¼‚ç»§æ‰¿ã€‚è¿™åªæ˜¯ç»§æ‰¿çš„ä¸€ç§å½¢å¼ï¼Œä½†å®ƒæ˜¯æˆ‘ä»¬æ¯æ¬¡åˆ›å»ºå¯¹è±¡æ—¶è‡ªåŠ¨åˆ›å»ºçš„é»˜è®¤å½¢å¼ã€‚*

è¿˜è®°å¾—åœ¨æœ¬æ–‡çš„å¼€å¤´ï¼Œæˆ‘ä»¬ä½¿ç”¨`hasOwnProperty`æ–¹æ³•æ¥åˆ¤æ–­ç±»æ–¹æ³•æ˜¯å¦è¢«å¤åˆ¶åˆ°æ¯ä¸ªæ–°å®ä¾‹ä¸­å—ï¼Ÿã€‚å¥½å§ï¼Œäº‹æƒ…æ˜¯è¿™æ ·çš„ï¼ŒJS æ²¿ç€åŸå‹é“¾ä¸€è·¯å‘ä¸Šï¼Œç›´åˆ°å®ƒçš„é¡¶ç«¯`Object.prototype`ï¼Œæ‰§è¡Œå®ƒçš„æ–¹æ³•ã€‚åœ¨ JavaScript ä¸­ï¼Œæ‰€æœ‰çš„å¯¹è±¡éƒ½ç»§æ‰¿è‡ª`Object.prototype`,å®ƒä¸ºå…ƒç¼–ç¨‹ã€è‡ªçœå’Œå…¶ä»–å®ç”¨ç¨‹åºæä¾›äº†æœ‰ç”¨çš„æ–¹æ³•ã€‚

å°½ç®¡æ„é€ å‡½æ•°è´Ÿè´£åˆ›å»ºæ–°å¯¹è±¡å¹¶ä¸ºå®ƒä»¬æä¾›åŸå‹ï¼Œä½†å®ƒä»¬ä¸æ˜¯å¯¹è±¡åŸå‹é“¾çš„ä¸€éƒ¨åˆ†ã€‚æ„é€ å‡½æ•°æ˜¯ç®€å•çš„å‡½æ•°ï¼Œå› æ­¤æœ‰è‡ªå·±çš„åŸå‹é“¾ç»§æ‰¿è‡ª`Function.prototype`ã€‚å› ä¸º JavaScript ä¸­çš„æ‰€æœ‰åŸå‹ä¹Ÿæ˜¯å¯¹è±¡ï¼Œ`Function.prototype`ä¹Ÿç»§æ‰¿äº†`Object.prototype`ã€‚è€ƒè™‘åˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥è¯´å‡½æ•°åªä¸è¿‡æ˜¯å¯¹è±¡ï¼Œä¸€ç§ç‰¹æ®Šå½¢å¼çš„å¯¹è±¡ï¼Œä½†æœ€ç»ˆæ˜¯å¯¹è±¡ã€‚

Gif via [Giphy](https://media.giphy.com/media/wPZhtUm53H5lu/giphy.gif)

> åœ¨ JavaScript ä¸­ï¼Œå‡½æ•°æ˜¯ä¸€çº§å¯¹è±¡ï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥åƒä»»ä½•å…¶ä»–å¯¹è±¡ä¸€æ ·æ‹¥æœ‰å±æ€§å’Œæ–¹æ³•ã€‚å®ƒä»¬ä¸å…¶ä»–å¯¹è±¡çš„åŒºåˆ«åœ¨äºå‡½æ•°å¯ä»¥è¢«è°ƒç”¨ã€‚ç®€è¨€ä¹‹ï¼Œå®ƒä»¬æ˜¯`[Function](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function)`å¯¹è±¡[ [2](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions) ]

æ£€æŸ¥åŸå‹é“¾çš„å®˜æ–¹æ–¹æ³•æ˜¯`Object.getPrototypeOf`ï¼Œä½†æ˜¯æœ‰äº›æµè§ˆå™¨æ”¯æŒä¸€ä¸ªéå®˜æ–¹å±æ€§ã€‚å®ƒå«`__proto__`ï¼Œå¦‚æœæµè§ˆå™¨æ”¯æŒï¼Œæ‰€æœ‰å¯¹è±¡éƒ½æœ‰ï¼Œå°±ç›¸å½“äºæœ‰äº†ä¸€ä¸ªå…¬å…±çš„[[Prototype]]ã€‚å¯ä»¥é€šè¿‡åš`obj.__proto__`æ¥æ£€æŸ¥åŸå‹é“¾ï¼Œç­‰ç­‰ã€‚

å¦‚ä½ æ‰€è§ï¼ŒJavaScript ä¸å…¶ä»–è¯­è¨€å¦‚ C++ã€Java æˆ– Python çš„ä¸»è¦åŒºåˆ«ï¼›JS ä½¿ç”¨ä¸€ç³»åˆ—å¯å˜å¯¹è±¡ï¼Œä¸»è¦ä½¿ç”¨æ„é€ å‡½æ•°è€Œä¸æ˜¯ç±»æ¥å®ç°ç»§æ‰¿å’Œè¡¨è¾¾å±‚æ¬¡ç»“æ„ã€‚åŸå‹å§”æ‰˜æ¨¡ä»¿ç±»ç»§æ‰¿ï¼Œå½“åœ¨å½“å‰å¯¹è±¡ä¸­æ‰¾ä¸åˆ°è¡Œä¸ºæ—¶ï¼Œå°†æ‰§è¡Œè¡Œä¸ºçš„è´£ä»»å§”æ‰˜ç»™ä¸Šå±‚åŸå‹ã€‚

ç±»ç»§æ‰¿å’ŒåŸå‹ç»§æ‰¿ä¹‹é—´çš„ä¸€ä¸ªé‡è¦åŒºåˆ«æ˜¯ï¼Œåè€…é€šè¿‡ä½¿ç”¨å¯¹è±¡æ›´åŠ çµæ´»ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥éšå¿ƒæ‰€æ¬²åœ°ä¿®æ”¹å¯¹è±¡ä¹‹é—´çš„å…³ç³»ï¼Œæ·»åŠ æˆ–åˆ é™¤æ–¹æ³•ï¼Œç”šè‡³æ›¿æ¢è¿è¡Œæ—¶çš„è¡Œä¸ºã€‚

> ç±»ç»§æ‰¿â‰¤åŸå‹ç»§æ‰¿

# åˆ›å»ºæ²¡æœ‰ç±»çš„å¯¹è±¡

åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæˆ‘å¯ä»¥å¦ç‡åœ°å‘Šè¯‰ä½ ï¼›æˆ‘åœ¨æ’’è°ã€‚æ„é€ å‡½æ•°ä¸éœ€è¦æ¨¡æ‹Ÿå…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­çš„ç±»çš„è¡Œä¸ºã€‚è¿™æ˜¯ä¸€ç§å«åš*æ„é€ å‡½æ•°æ¨¡å¼*çš„æ–¹å¼ï¼Œå®ƒä¾èµ–äºæ„é€ å‡½æ•°å’Œ`new`å…³é”®å­—æ¥åˆ›å»ºå¯¹è±¡ã€‚è¿™æ˜¯åœ¨ JavaScript ä¸­å»ºç«‹å±‚æ¬¡ç»“æ„å’Œé‡ç”¨é€»è¾‘çš„ä¸»è¦æ–¹æ³•ï¼Œä½†ä¸æ˜¯å”¯ä¸€çš„æ–¹æ³•ã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡åº”ç”¨*åŸå‹æ¨¡å¼*æ¥è¾¾åˆ°åŒæ ·çš„æ•ˆæœã€‚åœ¨è¿™ä¸ªæ¨¡å¼ä¸­ï¼Œä¸»è¦æ€æƒ³æ˜¯ä½¿ç”¨ä¸€ä¸ªç®€å•çš„å¯¹è±¡ä½œä¸ºåŸºç¡€ï¼Œå¹¶åœ¨æ¯æ¬¡æˆ‘ä»¬éœ€è¦æ–°ç‰ˆæœ¬æ—¶å…‹éš†å®ƒã€‚è¿™ç›¸å½“äºç”¨ç±»åˆ›å»ºå®ä¾‹ã€‚ç¼ºç‚¹æ˜¯æˆ‘ä»¬è¿˜éœ€è¦è¦†ç›–å±æ€§ã€‚

ä¸€ä¸ªç®€å•çš„ä¾‹å­æ˜¯:

```
const mascot = {
    specie: '', 
    name: '', 
    greeting() { 
        return `Hello I'm ${this.name}, I'm a ${this.specie}`
    }
}// Here we clone the mascot object and extend its properties
const rocco= {...mascot, specie: 'dog', name: 'Rocco'}rocco.greeting()> "Hello I'm Rocco, I'm a dog"
```

æˆ‘ä»¬å¯ä»¥æ„å»ºä¸€ä¸ªæ›´ç²¾ç»†çš„ç‰ˆæœ¬ï¼Œè‡ªåŠ¨å…‹éš†å’Œè¦†ç›–å±æ€§ï¼Œç”šè‡³ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•è¿›è¡ŒåŸå‹å§”æ‰˜:

*   `Object.setPrototypeOf`
*   `Object.create`
*   `Object.assign`æˆ–ä¼ æ’­ç®—å­

è¿˜è®°å¾—æœ¬æ–‡ä¸­ç»§æ‰¿çš„ç¬¬ä¸€å¼ å›¾å—ï¼Ÿè§£é‡Šè½¦è¾†ç­‰çº§çš„é‚£ä¸ªï¼Ÿã€‚ä¸‹é¢ä½ å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªä½¿ç”¨æ™®é€šå¯¹è±¡çš„å®ç°ã€‚è¿™æ¬¡æˆ‘æ·»åŠ äº† *Terrestrial* ç±»æ¥è¯æ˜ä»£ç æ˜¯éµå¾ªåŸå‹é“¾çš„ã€‚

è½¦è¾†ç‰©ä½“

é¦–å…ˆï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªè´Ÿè´£åˆ›å»ºæ–°ç‰ˆæœ¬çš„æ–¹æ³•æ¥åˆ›å»ºæˆ‘ä»¬çš„*è½¦è¾†*å¯¹è±¡ï¼›è¿™å°†æ˜¯å»ºé€ è€…çš„æ›¿ä»£å“ï¼Œåªæ˜¯è¿™ä¸€æ¬¡ä¸éœ€è¦ä½¿ç”¨`new`å…³é”®å­—æ¥åˆ›å»ºè½¦è¾†ã€‚

åœ¨`create`æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ç©ºå¯¹è±¡ï¼Œå¹¶ä½¿ç”¨`Object.create(this)`å°† vehicle å¯¹è±¡æŒ‡å®šä¸ºå…¶åŸå‹ï¼Œç„¶åæˆ‘ä»¬å‘æœ€è¿‘åˆ›å»ºçš„å¯¹è±¡æ·»åŠ å±æ€§ï¼Œå°†å…¶è½¬æ¢ä¸ºä¸€è¾†æ–°è½¦ã€‚

é™†åœ°ç‰©ä½“

åœ¨ç§°ä¸ºé™†åœ°çš„ç¬¬äºŒä¸ªå¯¹è±¡ä¸­ï¼Œæˆ‘ä»¬éµå¾ªä»¥ä¸‹æ­¥éª¤:

*   é¦–å…ˆï¼Œæˆ‘ä»¬å°†æ‰€æœ‰å¯¹è±¡çš„å£°æ˜å’Œé…ç½®å°è£…åœ¨ä¸€ä¸ª[life](https://developer.mozilla.org/en-US/docs/Glossary/IIFE)ä¸­ã€‚è¯¥å‡½æ•°å°†è¢«å£°æ˜å¹¶ç«‹å³è°ƒç”¨ï¼Œä»¥è¿”å›å†…éƒ¨å®šä¹‰çš„*åœ°é¢*å¯¹è±¡
*   åœ¨ç¬¬ 15 è¡Œï¼Œæˆ‘ä»¬å°†*è½¦è¾†*å¯¹è±¡æ³¨å…¥åˆ°[ç”Ÿæ´»](https://developer.mozilla.org/en-US/docs/Glossary/IIFE)ä¸­
*   åœ¨ç¬¬ 5 è¡Œï¼Œåœ¨ create æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ç©ºå¯¹è±¡ï¼Œä½†æ˜¯ä½¿ç”¨`Object.create(this)`å°†å®ƒçš„åŸå‹è®¾ç½®ä¸ºåœ°çƒå¯¹è±¡
*   æˆ‘ä»¬é€šè¿‡ä½¿ç”¨ä¼ é€’ç»™`terrestrial.create`æ–¹æ³•çš„å‚æ•°åœ¨ç¬¬ 6 è¡Œåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„*è½¦è¾†*å¯¹è±¡ï¼Œå¹¶ä¸”æˆ‘ä»¬è¿˜å°†å…¶å±æ€§å¤åˆ¶åˆ°ä¸Šä¸€è¡Œåˆ›å»ºçš„ç©ºå¯¹è±¡ä¸­ã€‚åœ¨è¿™ç§ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œå¤åˆ¶çš„å±æ€§å°†æ˜¯åœ¨`vehicle.create` æ–¹æ³•ä¸­å®šä¹‰çš„ *x* ã€ *y* å’Œ *z*
*   åœ¨ç¬¬ 12 è¡Œï¼Œæˆ‘ä»¬å°†æ³¨å…¥çš„*è½¦è¾†*å¯¹è±¡è®¾ç½®ä¸ºåœ°çƒçš„åŸå‹å¯¹è±¡
*   æœ€åï¼Œæˆ‘ä»¬è¿”å›åœ¨æ–¹æ³•`create`ä¸­åˆ›å»ºçš„å¯¹è±¡ä½œä¸ºä¸€ä¸ªæ–°çš„*é™†åœ°*å¯¹è±¡

æ±½è½¦å¯¹è±¡

*æ±½è½¦*ç‰©ä½“ä¸*åœ°é¢*ç‰©ä½“æ²¡æœ‰ä»€ä¹ˆä¸åŒï¼Œé™¤äº†`move`åŠŸèƒ½ã€‚åœ¨*æ±½è½¦*å¯¹è±¡ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡åªä¼ é€’ *x* å’Œ *y* å˜é‡æ¥è¦†ç›–åŠŸèƒ½ã€‚æˆ‘ä»¬éœ€è¦åœ¨*åŸå‹é“¾*ä¸­è§¦å‘æœç´¢ï¼Œä»¥åœ¨*è½¦è¾†*å¯¹è±¡ä¸­æ‰¾åˆ°åŸå§‹çš„`move`å®ç°ï¼Œå¹¶ä¼ é€’ *x* ã€ *y* å’Œ *0* ä½œä¸ºå‚æ•°ã€‚

ç¬¬ 17 è¡Œç›¸å½“äºç±»ä¸­çš„`super.move(x,y,0)`ã€‚å®ƒè°ƒç”¨*åœ°é¢*ç§»åŠ¨æ–¹æ³•ï¼Œå› ä¸ºå®ƒæ²¡æœ‰é‚£ä¸ªæ–¹æ³•ï¼Œä½†æ˜¯é“¾æ¥åˆ°*è½¦è¾†*ï¼ŒJS æœç´¢ä¸Šä¸€çº§ï¼Œç”¨é‚£äº›å˜é‡æ‰§è¡Œ`vehicle.move`ã€‚

> ğŸ’¡åœ¨ç¬¬ 17 è¡Œä¼ é€’ä¸Šä¸‹æ–‡`this`å¾ˆé‡è¦ï¼Œè¿™æ ·`vehicle.move`æ–¹æ³•å°±å¯ä»¥ç”¨ç»™å®šçš„å‚æ•°æ›´æ–°å½“å‰æ±½è½¦å¯¹è±¡ä¸­çš„å±æ€§

æœ€åï¼Œä¸ºäº†åˆ¶é€ ä¸€è¾†æ±½è½¦ï¼Œæˆ‘ä»¬éœ€è¦:

```
const newCar = car.create(1,2);
```

*æ–°è½¦*çš„åŸå‹é“¾æ¡ä¸º:

```
newCar => car => terrestrial => vehicle => Object.prototype => null
```

# é‚£ä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜åœ¨ä½¿ç”¨ç±»ï¼Ÿ

ç°åœ¨æˆ‘ä»¬å·²ç»æ¢æµ‹åˆ° JavaScript ä¸­çš„æ‰€æœ‰ç±»éƒ½ä½äºæ™®é€šå¯¹è±¡ä¹‹ä¸Šï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç”¨å®ƒä»¬å®ç°åŒæ ·çš„æ•ˆæœã€‚æˆ‘ä»¬å¯ä»¥æƒ³åˆ°æ¨¡ä»¿è¯­è¨€ä¸­ä»æœªè€ƒè™‘è¿‡çš„ä¸œè¥¿çš„å¥½å¤„ã€‚

â€”ä¸ºä»€ä¹ˆè¦æ¨¡ä»¿ç±»åˆ†ç±»æ³•ï¼Ÿ

ä¸€ä¸ªå¥½å¤„æ˜¯ä»£è¡¨äº†é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­å¹¿æ³›ä½¿ç”¨çš„æ¦‚å¿µã€‚ç”¨ JavaScript æ¨¡æ‹Ÿç±»æœ‰åŠ©äºå…¶ä»–ç¨‹åºå‘˜è½»æ¾åœ°ä»é™æ€ç±»å‹è¯­è¨€(å¦‚ Java)ä¸­è¿ç§»å‡ºæ¥ï¼Œä»¥é‡ç”¨ä»–ä»¬çš„çŸ¥è¯†å’Œå®è·µã€‚ä¾‹å¦‚ï¼Œé€šè¿‡ç±»æ¥è¡¨è¾¾è®¾è®¡æ¨¡å¼ã€‚

æˆ‘ä»¬åœ¨ç¤ºä¾‹ä¸­çœ‹åˆ°çš„è½¦è¾†å±‚çº§ã€‚ä½¿ç”¨ç±»æˆ–æ™®é€šå¯¹è±¡æ›´å®¹æ˜“ç¼–ç å’Œè®°å¿†ï¼Ÿ

è¿™äº›ç±»å¾ˆå®¹æ˜“ç†è§£å’Œç¼–å†™ã€‚JavaScript ä¸­åŒ…å«çš„è¯­æ³•ç³–æä¾›äº†ä¸€ç§ç®€å•çš„æ–¹å¼æ¥ç¼–å†™å±‚æ¬¡ç»“æ„ï¼Œå¹¶ä½¿ç”¨åŸå‹å§”æ‰˜æ¥é‡ç”¨é€»è¾‘å’Œä¼˜åŒ–å†…å­˜ä½¿ç”¨ã€‚ç®€å•æ€§çš„ä»£ä»·æ˜¯ä¸åŠ é€‰æ‹©åœ°æ»¥ç”¨ç±»è¯­æ³•ï¼Œè€Œæ²¡æœ‰æ„è¯†åˆ°éšä¹‹è€Œæ¥çš„é—®é¢˜ã€‚

å½“æˆ‘ä»¬æ¨¡ä»¿é˜¶çº§è¡Œä¸ºæ—¶ï¼Œæˆ‘ä»¬å¾—åˆ°çš„ä¸ä»…ä»…æ˜¯å¥½å¤„ï¼Œè¿˜æœ‰åå¤„ã€‚æ‰€æœ‰ç±»çš„é—®é¢˜éƒ½æœ‰ä¸€ä¸ªå…±åŒçš„æ ¹æºï¼Œå³å®ƒä»¬é€šè¿‡å°†å¤šä¸ªé€»è¾‘é“¾æ¥åœ¨ä¸€èµ·è€Œæä¾›çš„ç´§å¯†è€¦åˆã€‚

[***è„†å¼±çš„åŸºç¡€ç±»é—®é¢˜***](https://en.wikipedia.org/wiki/Fragile_base_class) å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ ***ã€‚æˆ‘ä»¬å¯ä»¥åœ¨åŸºç±»æˆ–è¶…ç±»ä¸­æ’å…¥å˜åŒ–ï¼Œå¹¶å½±å“æ‰€æœ‰å­ç±»ï¼Œç”šè‡³ä½¿å®ƒä»¬å‡ºç°æ•…éšœã€‚***

ç±»å±‚æ¬¡ç»“æ„çš„ä¸çµæ´»æ€§æ˜¯äº§ç”Ÿé—®é¢˜çš„åŸå› ã€‚å¦‚æœæ‚¨åªéœ€è¦ä½¿ç”¨æ•´ä¸ªç±»å±‚æ¬¡ç»“æ„ä¸­çš„ä¸€å°éƒ¨åˆ†é€»è¾‘ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿã€‚ä½ ä¸èƒ½æŠŠä½ éœ€è¦çš„ä»£ç ä»å®ƒçš„æ‰©å±•è¶…ç±»ä¸­åˆ†ç¦»å‡ºæ¥ï¼›ä½ å°†é€šè¿‡ä¼ é€’æ€§ç»§æ‰¿å®ƒä»¬ã€‚å› æ­¤ï¼Œå½“æˆ‘ä»¬çœŸæ­£éœ€è¦å®ç°ä¸€ä¸ªç‰¹å®šçš„é€»è¾‘æ—¶ï¼Œæœ‰æ—¶æˆ‘ä»¬ä¼šé™·å…¥ä»ç±»ä¸­å¤åˆ¶è¡Œä¸ºçš„å›°å¢ƒï¼Œä»¥é¿å…ä»ä¸å¿…è¦çš„è¶…ç±»ä¸­æ‰©å±•ã€‚

ä½œä¸ºä¸€ç§é€‰æ‹©ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰åŸæ ·ä½¿ç”¨è¿™äº›ç±»ï¼Œå› ä¸ºæˆ‘ä»¬ä¸æƒ³é‡å¤ä»£ç ã€‚é—®é¢˜æ˜¯æˆ‘ä»¬æœ€ç»ˆè‡ªåŠ¨ç»§æ‰¿äº†ä¸€å †æˆ‘ä»¬å¯èƒ½æ°¸è¿œä¸ä¼šç”¨åˆ°çš„æ–¹æ³•ï¼›è¿™å°±æ˜¯æ‰€è°“çš„ [**é¦™è•‰-å¤§çŒ©çŒ©-ä¸›æ—é—®é¢˜**](https://www.quora.com/I-keep-hearing-about-the-banana-gorilla-jungle-problem-with-OOP-However-I-sense-that-this-is-a-fallacy-Am-I-right#:~:text=Because%20the%20problem%20with%20object%2Doriented%20languages%20is%20they've,banana%20and%20the%20entire%20jungle.) **ã€‚**

> â€œä½ æƒ³è¦ä¸€ä¸ªé¦™è•‰ï¼Œä½†ä½ å¾—åˆ°çš„æ˜¯ä¸€åªå¤§çŒ©çŒ©æ‹¿ç€é¦™è•‰å’Œæ•´ä¸ªä¸›æ—ã€‚â€â€”ä¹”Â·é˜¿å§†æ–¯ç‰¹æœ—ï¼ŒErlang ç¼–ç¨‹è¯­è¨€çš„åˆ›å§‹äºº

å°½ç®¡å¦‚æˆ‘ä»¬æ‰€è§ï¼Œç±»æœ‰è®¸å¤šç›¸å…³çš„é—®é¢˜ï¼Œä½†è¿™å¹¶ä¸è¯æ˜æˆ‘ä»¬éœ€è¦æŠ›å¼ƒç±»ï¼Œå¼€å§‹åˆ°å¤„å†™å¯¹è±¡ã€‚æˆ‘ä»¬ä¹‹å‰æåˆ°çš„æ‰€æœ‰é—®é¢˜éƒ½æ˜¯åœ¨æ²¡æœ‰è§£è€¦çš„æƒ…å†µä¸‹æ‰©å±•ç³»ç»Ÿè€Œå¯¼è‡´çš„ç³Ÿç³•çš„ç±»å®ç°çš„äº§ç‰©ã€‚å› æ­¤ï¼Œå³ä½¿ä½¿ç”¨å¯¹è±¡å’ŒåŸå‹å§”æ‰˜ä¹Ÿä¼šå‡ºç°åŒæ ·çš„é—®é¢˜ï¼Œè¿™ä¹Ÿæä¾›äº†ç´§å¯†è€¦åˆçš„ç»§æ‰¿ã€‚

æ˜¯çš„ï¼Œç±»ç»§æ‰¿ä½¿æˆ‘ä»¬çš„ä»£ç ç´§å¯†è€¦åˆï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œæˆ‘ä»¬çš„ç±»å®šä¹‰å°†å˜å¾—è¿‡æ—¶ã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥æ”¹å˜è¿™ä¸€ç‚¹ã€‚æˆ‘ä»¬å¯ä»¥ä»ç®€å•çš„è¯­æ³•ä¸­è·ç›Šï¼Œä½¿ç”¨åŸå‹é“¾ï¼Œå¹¶ä¸”å¦‚æœæˆ‘ä»¬ä½¿ç”¨[å¯é çš„](https://www.digitalocean.com/community/conceptual_articles/s-o-l-i-d-the-first-five-principles-of-object-oriented-design#:~:text=S.O.L.I.D%20is%20an%20acronym%20for,easy%20to%20maintain%20and%20extend.)åŸåˆ™å¹¶ä¸”ä½¿é‡æ„æˆä¸ºä¸€ä¸ªé¢‘ç¹çš„ä»»åŠ¡ï¼Œæˆ‘ä»¬ä»ç„¶æœ‰ä¸€ä¸ªè§£è€¦çš„ç³»ç»Ÿã€‚

# ç»“è®º

ç±»åªä¸è¿‡æ˜¯æ”¾åœ¨æ„é€ å‡½æ•°ä¸Šçš„è¯­æ³•ç³–ï¼Œæ„é€ å‡½æ•°ä½¿ç”¨åŸå‹å¯¹è±¡æ¥å­˜å‚¨æ‰€æœ‰ç”Ÿæˆçš„å¯¹è±¡å…±æœ‰çš„æ–¹æ³•å’Œå±æ€§ã€‚

JavaScript é€šè¿‡*åŸå‹å§”æ‰˜*æ¨¡ä»¿ç±»ç»§æ‰¿ï¼ŒåŸå‹å§”æ‰˜ä¾èµ–äº*[[åŸå‹]]* å±æ€§å°†ä¸€ä¸ªå¯¹è±¡ä¸å…¶æ‰€æœ‰ä»¥å‰çš„åŸå‹é“¾æ¥åœ¨ä¸€èµ·ï¼Œæ„å»ºä¸€ä¸ªåŸå‹é“¾ã€‚

å°†ç±»è¯­æ³•ä¸åŸå‹å§”æ‰˜ç»“åˆèµ·æ¥ï¼ŒJS è·å¾—äº†æ¨¡æ‹Ÿç±»çš„æ‰€æœ‰å¥½å¤„ï¼›æ¸…æ™°ç®€æ´çš„è¯­æ³•ã€ç†Ÿæ‚‰çš„æ¦‚å¿µå’Œæ¥è‡ªå…¶ä»–è¯­è¨€çš„å¯é‡ç”¨çŸ¥è¯†ã€å†…å­˜ä¼˜åŒ–å’Œä»£ç é‡ç”¨ã€‚ä½†æ˜¯ï¼Œä½œä¸ºå…¶ä»–å¤æ‚é—®é¢˜çš„æ ¹æºï¼Œå®ƒä¹Ÿè·å¾—äº†ä¸çµæ´»æ€§å’Œç´§è€¦åˆã€‚

åŸå‹ç»§æ‰¿ä¸ä»…ä»…æ˜¯ç±»ç»§æ‰¿ï¼Œé€šè¿‡ç”¨ç±»çš„å®ä¾‹ä»¥ä¸€ç§ç®€å•çš„æ–¹å¼ç”¨æ–‡å­—å¯¹è±¡ä»£æ›¿å¯¹è±¡çš„åˆ›å»ºã€ä¿®æ”¹å’Œæ‰©å±•ï¼Œå°±åƒåœ¨è¯­è¨€çš„çµæ´»æ€§ä¸ŠåŠ äº†ä¸€å±‚çº¦æŸã€‚

ç†è§£åŸå‹çš„æ¦‚å¿µï¼Œåœ¨ JS ä¸­æ²¡æœ‰æ¯”åŸè¯­å€¼å’Œå¯¹è±¡æ›´å¤šçš„å€¼ï¼›é€šè¿‡éµå¾ª*åŸå‹æ¨¡å¼*æ¥å¸®åŠ©ç”Ÿæˆè¿œç¦»ç±»è¯­æ³•çš„è§£å†³æ–¹æ¡ˆï¼Œä»¥å®ç°ç”¨å…¶ä»–æ–¹æ³•ä¸å¯èƒ½å®ç°çš„äº‹æƒ…ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å°†å¤šä¸ªå¯¹è±¡æ··åˆæˆä¸€ä¸ªæ¥åˆ›å»ºå¤šé‡ç»§æ‰¿ï¼Œè¿™æ˜¯è¯­è¨€ä¸­ä¸æ”¯æŒçš„ç‰¹æ€§ï¼›è¿™æ˜¯åŸå‹ç»§æ‰¿çš„å¦ä¸€ç§å½¢å¼ï¼Œç§°ä¸º ***ä¸²è”ç»§æ‰¿*** ï¼Œæ˜¯åŸå‹å§”æ‰˜çš„æ›¿ä»£å½¢å¼ã€‚

æˆ‘å¹¶ä¸æ˜¯è¯´ä½ åº”è¯¥åœæ­¢ä½¿ç”¨ç±»ï¼ŒæŠŠä½ æ‰€æœ‰çš„ä»£ç éƒ½ç§»æ¤åˆ°æ™®é€šå¯¹è±¡ä¸Šâ€¦â€¦*è¿™æ˜¯ä¸€ä¸ªæ„šè ¢çš„å»ºè®®*ã€‚æ­£å¦‚æ‰€æœ‰ä¸è½¯ä»¶ç›¸å…³çš„äº‹æƒ…ä¸€æ ·ï¼Œåœ¨é€‰æ‹©ä¸€ä¸ªæˆ–å¦ä¸€ä¸ªç­–ç•¥ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£åˆ©å¼Šã€‚ç±»æœ‰å®ƒçš„å¥½å¤„ï¼Œç‰¹åˆ«æ˜¯å¯¹äº OOP é£æ ¼çš„ä»£ç ï¼Œä½†æ˜¯æ­£å¦‚æˆ‘ä»¬åœ¨è¿™é‡Œæ‰€å±•ç¤ºçš„ï¼Œåœ¨ JS ä¸­ï¼Œä½ å¯ä»¥ç”¨æ™®é€šçš„å¯¹è±¡å¾—åˆ°ç›¸åŒçš„ç»“æœï¼Œæ‰€ä»¥è¦æ˜æ™ºåœ°é€‰æ‹©ï¼Œå¹¶ä¸”ä¿æŒå¼€æ”¾çš„å¿ƒæ€å»æ¥å—å¯¹è±¡å’ŒåŸå‹å¯ä»¥å¸¦ç»™ä½ çš„å¯èƒ½æ€§ã€‚

åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ¢ç´¢å®ç°åŸå‹ç»§æ‰¿çš„ä¸åŒæ–¹æ³•ã€‚

> ä½ æƒ³è®©æˆ‘å†™å¦ä¸€ä¸ªä»€ä¹ˆä¸»é¢˜ï¼Ÿè¯·åœ¨è¯„è®ºä¸­å‘Šè¯‰æˆ‘ï¼Œæˆ–è€…åœ¨[æ¨ç‰¹](https://twitter.com/_rodrigomd)ä¸Šè”ç³»æˆ‘ã€‚
> 
> å°è´¹ğŸ’¡:æœ¬æ–‡ä¸­çš„æ‰€æœ‰å›¾è¡¨éƒ½æ˜¯ä½¿ç”¨ [excalidraw](https://excalidraw.com) åˆ¶ä½œçš„

# å‚è€ƒ

*   [1][http://www.objectplayground.com/](http://www.objectplayground.com/)
*   [2][https://developer . Mozilla . org/en-US/docs/Web/JavaScript/Reference/Functions](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions)
*   [https://javascript.info/function-prototype](https://javascript.info/function-prototype)
*   [4][https://www . thoughtworks . com/insights/blog/composition-vs-inheritance-how-choose](https://www.thoughtworks.com/insights/blog/composition-vs-inheritance-how-choose)
*   ã€5ã€‘[https://www . oreilly . com/library/view/learning-JavaScript-design/9781449334840/ch09s 01 . html](https://www.oreilly.com/library/view/learning-javascript-design/9781449334840/ch09s01.html)
*   ã€6ã€‘[https://www . oreilly . com/library/view/learning-JavaScript-design/9781449334840/ch09s 07 . html](https://www.oreilly.com/library/view/learning-javascript-design/9781449334840/ch09s07.html)

## å…¶ä»–æ–‡ç« 

[](https://medium.com/@rodrigo_md/how-we-change-our-clients-thought-that-we-were-a-slow-team-e129cd8ffa05) [## æˆ‘ä»¬å¦‚ä½•æ”¹å˜å®¢æˆ·è®¤ä¸ºæˆ‘ä»¬æ˜¯ä¸€ä¸ªæ…¢å›¢é˜Ÿçš„æƒ³æ³•

### é€šè¿‡å®è·µå’Œç»éªŒé‡æ–°å‘ç° Scrum

medium.com](https://medium.com/@rodrigo_md/how-we-change-our-clients-thought-that-we-were-a-slow-team-e129cd8ffa05)