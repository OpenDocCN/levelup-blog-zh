<html>
<head>
<title>git restore — a short guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">git恢复—一个简短的指南</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/git-restore-a-short-guide-a69d9be343bd?source=collection_archive---------5-----------------------#2020-09-26">https://levelup.gitconnected.com/git-restore-a-short-guide-a69d9be343bd?source=collection_archive---------5-----------------------#2020-09-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/93db4686c952ce917035b28a1b9b4072.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-lAiyI3vTtP4XcTG.png"/></div></div></figure><p id="4081" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> git restore </strong>用于恢复或丢弃文件未提交的本地更改。</p><p id="448a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">假设您已经在一些文件中做了一些更改，然后如果您想放弃这些本地更改，您可以安全地使用<strong class="ka ir"> git restore </strong>。</p><p id="d076" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">另一个用例是，如果您想要取消转移文件，可以使用此命令。换句话说，它用来撤销<strong class="ka ir"> git add </strong>的效果。</p><h2 id="db25" class="kw kx iq bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">使用</h2><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="fb0a" class="kw kx iq lu b gy ly lz l ma mb">git restore &lt;file_name&gt; </span><span id="b163" class="kw kx iq lu b gy mc lz l ma mb"><strong class="lu ir">Example:</strong> <br/>git restore example.txt</span></pre><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div class="gh gi md"><img src="../Images/e9bc6397685de7d0baaae9de1f0d111b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/0*uLxr7NqHdPhonMfM.png"/></div></figure><p id="1eaf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在上图中，您可以看到我们已经使用git restore放弃了文件的本地更改。</p><p id="6028" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">其他选项</strong></p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="a626" class="kw kx iq lu b gy ly lz l ma mb"><strong class="lu ir">git restore one.txt two.txt</strong> // Mention multiple files </span><span id="0356" class="kw kx iq lu b gy mc lz l ma mb"><strong class="lu ir">git restore .</strong> // Discard all local changes </span><span id="7d64" class="kw kx iq lu b gy mc lz l ma mb"><strong class="lu ir">git restore *.rb</strong> // Wildcard option</span></pre><h2 id="2d09" class="kw kx iq bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">取消转移文件</h2><p id="d9a9" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated">如前所述，您还可以使用此命令从登台区中取消登台文件。</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="0af9" class="kw kx iq lu b gy ly lz l ma mb">git restore --staged &lt;file_name&gt;</span></pre><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/8764d8df8553ee91b719cb913736b6eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/0*iKjUo5nCY9fkoApo.png"/></div></figure><p id="3967" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以看到提到的文件没有转移，但是文件的本地更改仍然存在。</p><h2 id="5ea8" class="kw kx iq bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">源选项</h2><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="b6e0" class="kw kx iq lu b gy ly lz l ma mb">git restore --source &lt;source_id/commit_id&gt;</span></pre><p id="a0b9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">source选项用于从特定提交中恢复文件。默认情况下，恢复将从<strong class="ka ir">头</strong>获取内容</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="f5e3" class="kw kx iq lu b gy ly lz l ma mb">git restore --source f9456ba one.txt</span></pre><p id="b1f3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在上面的命令中，我们从提到的提交中恢复一个文件。</p><h2 id="ec33" class="kw kx iq bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">补丁选项</h2><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="2c42" class="kw kx iq lu b gy ly lz l ma mb">git restore one.txt -p</span></pre><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/1d939a4b841b58a27fb36fdab752478d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1044/format:webp/0*IJBT4MeHm6GG_snK.png"/></div></figure><p id="4a62" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如您所见，您可以交互地选择块。</p><p id="6e4b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">git restore是一个有用的命令，您可以在工作流中开始使用它。它在git文档中被标记为实验性的，但是它不是一个非常具有破坏性的命令，您不必担心。</p><p id="df92" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">感谢您的阅读:)</p><blockquote class="ml mm mn"><p id="727f" class="jy jz mo ka b kb kc kd ke kf kg kh ki mp kk kl km mq ko kp kq mr ks kt ku kv ij bi translated"><strong class="ka ir">如果你已经来了这么久，那么我想你会对Git更感兴趣。可以订阅我的简讯</strong><a class="ae ms" href="https://gitbetter.substack.com/" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir">Git better</strong></a><strong class="ka ir">获取Git的招数、技巧、高级话题。</strong></p></blockquote></div></div>    
</body>
</html>