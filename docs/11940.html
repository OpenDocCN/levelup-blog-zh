<html>
<head>
<title>Flutter App Architecture, Measuring Architecture Choices</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">颤振应用程序架构，测量架构选择</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/flutter-app-architecture-measuring-architecture-choices-a3681bb906f5?source=collection_archive---------7-----------------------#2022-05-01">https://levelup.gitconnected.com/flutter-app-architecture-measuring-architecture-choices-a3681bb906f5?source=collection_archive---------7-----------------------#2022-05-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/775ab81da8e1625862bccff7f62cb7fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N5m1wTcBW9DtqUDV5NPT6w.jpeg"/></div></div></figure><p id="16db" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">Flutter应用架构的真正开始是一个flutter DevOPS设置，它允许您测量您的应用架构选择对Flutter应用代码库的影响。但是，我们有一点小小的变化，Dart是一种混合了命令式OOP和声明式FP的计算机语言。那么，我们如何在我们的Flutter应用程序代码中测量OOP和FP的代码度量呢？</strong></p><p id="207c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在本文中，我将向您展示如何度量和收集Dart代码指标，以及所有度量统计数据的含义。</p><h1 id="204c" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated"><strong class="ak">我们如何度量OOP和FP代码度量</strong></h1><p id="6641" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">我们如何在Dart中测量OOP和FP代码指标，以便我们有一些措施来衡量我们的代码架构选择和我们更广泛的应用程序架构选择是否正确？我们可以通过使用Dart代码指标包来完成这项任务:</p><div class="mc md gp gr me mf"><a href="https://pub.dev/packages/dart_code_metrics" rel="noopener  ugc nofollow" target="_blank"><div class="mg ab fo"><div class="mh ab mi cl cj mj"><h2 class="bd iu gy z fp mk fr fs ml fu fw is bi translated">dart_code_metrics | Dart包</h2><div class="mm l"><h3 class="bd b gy z fp mk fr fs ml fu fw dk translated">注意:您可以在网站上找到完整的文档配置|规则|度量|反模式Dart代码…</h3></div><div class="mn l"><p class="bd b dl z fp mk fr fs ml fu fw dk translated">公共开发</p></div></div><div class="mo l"><div class="mp l mq mr ms mo mt jz mf"/></div></div></a></div><p id="a60e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在，让我展示分析选项文件中的一些示例设置，并解释为什么使用它们:</p><figure class="mu mv mw mx gt ju"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="08a9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">具体来说，我指的是指标集团:</p><figure class="mu mv mw mx gt ju"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="6b97" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">先说第一个，圈复杂度。Dart Code Metrics的作者认为它有一个功能，即FP measure。这是不正确的，因为它是OOP和FP的度量，因为它是原始的McCabe圈复杂度:</p><div class="mc md gp gr me mf"><a href="https://en.wikipedia.org/wiki/Cyclomatic_complexity" rel="noopener  ugc nofollow" target="_blank"><div class="mg ab fo"><div class="mh ab mi cl cj mj"><h2 class="bd iu gy z fp mk fr fs ml fu fw is bi translated">圈复杂度-维基百科</h2><div class="mm l"><h3 class="bd b gy z fp mk fr fs ml fu fw dk translated">圈复杂度是一种软件度量，用于表示程序的复杂度。这是一个定量的衡量标准…</h3></div><div class="mn l"><p class="bd b dl z fp mk fr fs ml fu fw dk translated">en.wikipedia.org</p></div></div><div class="mo l"><div class="na l mq mr ms mo mt jz mf"/></div></div></a></div><p id="fbd7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">通常，它是代码的路径流，公式如下:</p><p id="13f3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> M=E-N+2P </strong></p><p id="91f6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在哪里</p><p id="f41c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">E =图的边数</strong></p><p id="e2e8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">N =图的节点数</strong></p><p id="e499" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">P =连接组件的数量</strong></p><p id="e7c4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这并不是衡量OOP和FP架构选择的唯一标准。由于Halstead Volumes还测量OOP和FP的架构代码复杂性:</p><p id="c231" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">https://en.wikipedia.org/wiki/Halstead_complexity_measures</p><p id="4b60" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">一般来说，它读起来像一个理想气体方程，因为我们取运算符的数目、操作数的数目和体积为:</p><p id="9ef3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">体积= N(程序长度)x日志操作员数量</strong></p><p id="fb30" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">小心，代码行不是源代码行！这是一个FP测量，因为dart代码度量包测量的是函数中的代码行，而不是源代码。</p><p id="a9f0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">OP和FP的可维护性指数通过以下公式衡量:</p><p id="e6cd" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">MI =最大值(0，(171 5.2 *对数(Hal vol)-0.23 *对数(CYCLO)-16.2 *对数(SLOC)) * 100 / 171)</p><p id="4877" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">HALVOL是霍尔斯特德体积，CYCLO是圈复杂度，SLOC是源代码行。</p><p id="1161" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在，所有这些可能还没有意义。让我给你看一个骨架模板应用程序的例子。</p><h1 id="ae17" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated"><strong class="ak">通过Dart代码指标的骨架模板应用</strong></h1><p id="d1e7" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">首先，下面是应用程序dart代码文件:</p><figure class="mu mv mw mx gt ju"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="6616" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这里是dart代码指标报告的屏幕截图:</p><figure class="mu mv mw mx gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nb"><img src="../Images/f434ee9e709039a6f14176e2f07a62c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qHGD-Gva2RKk07cgehrO7w.jpeg"/></div></div></figure><p id="c20b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在，您会注意到我们有一个halstead卷违规，如果我们向下滚动，我们会看到:</p><figure class="mu mv mw mx gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nc"><img src="../Images/23f1c581a1430e363392044c798f7119.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wA3Fpb9a255Lqw0YQqnI6A.png"/></div></div></figure><p id="bc1e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">请注意，大小写切换混乱是抛出Halstead违例的原因。一般来说，大多数情况下，case和switch语句会抛出代码度量违规，因为与更具声明性的if-and-operator语句相比，它们会使代码路径变得混乱。这意味着我们应该改用if-operator语句来代替多个case-and-switch语句，这样会使它更易于维护。</p><p id="58f6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">让我们看看示例项目列表视图文件中的另一个违规:</p><figure class="mu mv mw mx gt ju"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="2914" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后我们看到了报告屏幕:</p><figure class="mu mv mw mx gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nd"><img src="../Images/575c6e6eda8da5959788e6e0781a5a16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SyldMnN56eWzgfijzsRpzQ.jpeg"/></div></div></figure><p id="9d41" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">你猜怎么着？是的，我需要把我的ListView builder和ListTile的东西分开，因为我得到了一个嵌套警告，因为我把嵌套设置为4。</p><h1 id="437a" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated"><strong class="ak">结论</strong></h1><p id="f7df" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">这就是如何使用一些基本设置来设置dart代码指标，以及如何使用Dart代码指标报告来更改代码架构。您可以在dev ops GitHub repo的devops intro文件夹中找到包含dart代码指标报告的示例设置:</p><div class="mc md gp gr me mf"><a href="https://github.com/fredgrott/dev_ops" rel="noopener  ugc nofollow" target="_blank"><div class="mg ab fo"><div class="mh ab mi cl cj mj"><h2 class="bd iu gy z fp mk fr fs ml fu fw is bi translated">GitHub - fredgrott/dev_ops:颤振应用项目的开发操作</h2><div class="mm l"><h3 class="bd b gy z fp mk fr fs ml fu fw dk translated">只是为Flutter应用程序设计人员和开发人员记录我的基本核心开发操作设置。起初它有基本的核心…</h3></div><div class="mn l"><p class="bd b dl z fp mk fr fs ml fu fw dk translated">github.com</p></div></div><div class="mo l"><div class="ne l mq mr ms mo mt jz mf"/></div></div></a></div><h1 id="c105" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">关于我</h1><p id="a587" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">前失控多动症患者创办了一家工作室。用主题搜索引擎免费增值和付费用户界面套件的商业模式来启动我的创业公司，这是创意公司Tim开创的。</p><p id="b8e2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">即将推出的付费模板可在以下网址找到:</p><p id="bdaf" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">https://app.gumroad.com/fredgrott<br/>T3</p><p id="c110" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">来自恩瓦托<br/><a class="ae nf" href="https://themeforest.net/user/fredgrott" rel="noopener ugc nofollow" target="_blank">https://themeforest.net/user/fredgrott</a>的森林和峡谷</p><p id="8cf0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae nf" href="https://codecanyon.net/user/fredgrott" rel="noopener ugc nofollow" target="_blank">https://codecanyon.net/user/fredgrott</a></p><p id="deb8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">你可以通过我的社交平台帖子找到我的媒体文章好友链接:</p><p id="3298" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">LinkedIN<br/><a class="ae nf" href="https://www.linkedin.com/in/fredgrottstartupfluttermobileappdesigner/" rel="noopener ugc nofollow" target="_blank">https://www . LinkedIN . com/in/fredgrottstartupfluttermobileappdesigner/</a></p><p id="b00f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">推特<br/><a class="ae nf" href="https://twitter.com/fredgrott" rel="noopener ugc nofollow" target="_blank">https://twitter.com/fredgrott</a></p><p id="dabf" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">邢<br/><a class="ae nf" href="https://www.xing.com/profile/Fred_Grott/cv" rel="noopener ugc nofollow" target="_blank"/></p></div></div>    
</body>
</html>