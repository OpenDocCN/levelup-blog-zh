<html>
<head>
<title>Learn How to Create Vector Assets in Android</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解如何在Android中创建矢量资源</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/vector-asserts-in-android-f0774ba8bf92?source=collection_archive---------9-----------------------#2020-03-23">https://levelup.gitconnected.com/vector-asserts-in-android-f0774ba8bf92?source=collection_archive---------9-----------------------#2020-03-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="31ba" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">开始使用矢量资产时应该知道的一切。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/dc1a0306b196cc487e088e732511a293.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vCRaavMtr7k9M8ktbmz8MA.png"/></div></div></figure><h1 id="52e0" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">为什么你应该在Android中使用矢量资源？</h1><p id="b1e3" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">在目前的Android开发中，我们使用像png或jpg这样的位图格式的资源文件。这种类型的资源文件适合时代初期的Android开发。久而久之，安卓手机开始以不同的形状和尺寸出现。而且，密度不同。</p><p id="addd" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">为了让资源在所有设备上完美地工作，我们开始包含同一个文件的不同版本。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mn"><img src="../Images/bcb68a0ea401532ea91ad4216fe0d263.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q3C-47G1pORnoO0sPTqujQ.png"/></div></div></figure><p id="7c6b" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">事实证明，所有这些资源都有固有的大小，它们的质量取决于像素，这对于今天的Android设备来说并不理想。</p><p id="e1f9" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">这个问题的理想解决方案是拥有一个不应该有多个副本的单一资源文件，并且它应该能够根据设备来调整其质量。这就是创建矢量绘图工具的目的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mo"><img src="../Images/2ef5f0f82d13fde34146c7be8b4804c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rYn6rGp3W_6ulckRl1xJ-w.png"/></div></div></figure></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h1 id="2c54" class="ku kv it bd kw kx mw kz la lb mx ld le jz my ka lg kc mz kd li kf na kg lk ll bi translated">矢量资产的优势</h1><p id="27c1" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">第一个优点是同一资源没有多个文件。除此之外，它们还很尖，很小，很有活力。</p><h2 id="dc68" class="nb kv it bd kw nc nd dn la ne nf dp le lv ng nh lg lz ni nj li md nk nl lk nm bi translated">锋利的</h2><p id="09f6" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">它们很清晰，因为它们可以调整到任何屏幕大小，并且它们的质量不依赖于资源文件的像素。矢量资产是文本的，因此可以很好地压缩。</p><h2 id="4957" class="nb kv it bd kw nc nd dn la ne nf dp le lv ng nh lg lz ni nj li md nk nl lk nm bi translated">小的</h2><p id="8059" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">由于我们不再包含同一资源的多个文件，文件的大小会变小。</p><h2 id="4cfe" class="nb kv it bd kw nc nd dn la ne nf dp le lv ng nh lg lz ni nj li md nk nl lk nm bi translated">可制作动画</h2><p id="9261" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">这是你可以用矢量绘图来做的新事情，你不能用位图资源文件来实现。我们可以在代码中定义路径，并动态地将它们动画化。看一看</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/bb5b862c83e5093a7aef7a1fecda3b9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:402/1*hZl5pTq_86QgXAAHOHdSNg.gif"/></div></figure></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h1 id="6455" class="ku kv it bd kw kx mw kz la lb mx ld le jz my ka lg kc mz kd li kf na kg lk ll bi translated">向量资产如何工作</h1><p id="e0e5" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">在编译时，你的向量资产将被缩小到字节码。所以你的应用需要执行一些操作，从字节码生成一个模型对象，可以在屏幕上虚化。然后，您的应用程序使用一些画布操作在屏幕上绘制矢量资产的各个部分。如果向量资产不是动画向量，那么它将被存储在缓存<strong class="lo iu">、</strong>中以加速该过程。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/b094edbdf68681954802783d643a70c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ETxG0pftKVB8rDR0C_XJHQ.png"/></div></div></figure><p id="c88a" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">另一方面，位图资源文件没有这些在屏幕上加载文件的步骤。你的应用程序只是解码位图并在屏幕上绘制。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/2b369c4d2b9d16ba807068e872743368.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0ARg2PQKgE_JSZr445p-Fw.png"/></div></div></figure><p id="90a4" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">一开始，Android手机没有那么强大，所以在那个时候使用位图似乎是正确的。但在当今世界，Android手机已经升级，现在是我们(AndroidDev)升级项目资产的时候了，因为矢量资产的优势超过了位图资产的优势。</p></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h1 id="9878" class="ku kv it bd kw kx mw kz la lb mx ld le jz my ka lg kc mz kd li kf na kg lk ll bi translated">矢量可绘制格式</h1><p id="b7cc" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">Vector drawable是一个XML文件，根节点为Vector，内部节点有path、stroke、solid等，用于绘制断言的各个部分，并为它们分配颜色等属性。向量资源可以有一个或多个路径节点来绘制断言的不同部分。看看简单的向量断言文件</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="8ee2" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">在上面的代码中，vector节点具有width和height属性。当你把它放入高度和宽度为<code class="fe nr ns nt nu b">wrap_content</code>的<code class="fe nr ns nt nu b">imageview </code>中时，这将是向量的大小。<code class="fe nr ns nt nu b">viewportWidth </code>和<code class="fe nr ns nt nu b">viewportHeight </code>是画布绘制路径的尺寸。其中视口和固有尺寸可以不同，但它们应该具有相同的纵横比。</p></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h1 id="a4ac" class="ku kv it bd kw kx mw kz la lb mx ld le jz my ka lg kc mz kd li kf na kg lk ll bi translated">如何创建矢量资产？</h1><p id="dbe1" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">现在让我们看看如何在矢量绘图中绘制一条路径，这非常简单，我发现在开始绘制矢量之前，你应该学习五件事情。</p><p id="3705" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu"> M </strong> —表示<strong class="lo iu">移动</strong>笔到指定点。</p><p id="c47c" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu"> L </strong> —表示从笔的当前点到指定点画一条<strong class="lo iu">线</strong>。</p><p id="c3e8" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu"> C </strong> —表示从笔的当前点到指定点画一条<strong class="lo iu">曲线</strong>。</p><p id="114b" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu"> A </strong> —指从笔的当前点到指定点画一条<strong class="lo iu">弧</strong>。</p><p id="4d70" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">Z —表示<strong class="lo iu">关闭</strong>，当前路径结束。</p><p id="2f69" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">现在让我们看一个简单的例子:让我们使用矢量绘图工具画一个十字标记。首先，看看我们的最终目标和我用来实现的代码，然后我会一步一步地解释如何实现它。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/95efe085909489dd22e59a029d9752f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dghvaQdILc-jzUIwnNzdlQ.png"/></div></div><figcaption class="nw nx gj gh gi ny nz bd b be z dk translated">绘制十字标记的向量断言代码</figcaption></figure><p id="05ed" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">在这里，我们使用路径节点来绘制路径，并使用<code class="fe nr ns nt nu b">strokewidth</code>、<code class="fe nr ns nt nu b">strokeColor </code>等属性来为路径分配不同的属性，如宽度、颜色和线帽。</p><p id="3daa" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu"> strokeWidth: </strong>这个属性用来表示笔画的大小(这里是线条的大小)。<br/> <strong class="lo iu"> strokeLineCap: </strong>该属性用于设计方形或圆形笔画的端点外观。看一看可用的类型。</p><div class="kj kk kl km gt ab cb"><figure class="oa kn ob oc od oe of paragraph-image"><img src="../Images/e6c01082eaa6c9faa29117defdb0d05a.png" data-original-src="https://miro.medium.com/v2/resize:fit:616/format:webp/1*COWOvDxFC6FFdE2as79VKA.png"/></figure><figure class="oa kn og oc od oe of paragraph-image"><img src="../Images/157110d3e5b8e305f4d72e3966fd9227.png" data-original-src="https://miro.medium.com/v2/resize:fit:596/format:webp/1*CzJhAcXaeo5NyQUSZO016A.png"/></figure><figure class="oa kn oh oc od oe of paragraph-image"><img src="../Images/6c4f7faaf21a3083dae128ae00e20696.png" data-original-src="https://miro.medium.com/v2/resize:fit:502/format:webp/1*aWV_y74TwFExbxtcn0goLQ.png"/><figcaption class="nw nx gj gh gi ny nz bd b be z dk oi di oj ok translated"><strong class="bd kw"> strokeLineCap </strong>属性的圆形、方形和对接样式</figcaption></figure></div><p id="6f07" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu"> strokeColor: </strong>该属性用于提及path属性中提及的实际路径的颜色。</p><h2 id="f583" class="nb kv it bd kw nc nd dn la ne nf dp le lv ng nh lg lz ni nj li md nk nl lk nm bi translated">小路</h2><p id="c7dc" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">现在该看路径属性了，首先看一下总路径。</p><pre class="kj kk kl km gt ol nu om on aw oo bi"><span id="0358" class="nb kv it nu b gy op oq l or os">M6.4,6.4 L17.6,17.6 M6.4,17.6 L17.6,6.4</span></pre><p id="1685" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">让我们看看当我们逐点绘制时会发生什么。</p><p id="16ef" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu"> M6.4，6.4 - </strong>这会将笔从0，0坐标移动到6.4，6.4。因为它没有画任何东西，预览将是空的。看一看:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/ef0327fd86ec93a3b3409d62497725b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rVdTtjpc_EiCIOasemLz8g.png"/></div></div></figure><p id="c7c8" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu"> L17.6，17.6 - </strong>这会从现在的点画一条线，是6.4，6.4到17.6，17.6。看一看:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/e333d43cc6a2b7efce14a552f96bb3d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vn5AHuXlv5iOmUDJ4OttoQ.png"/></div></div></figure><p id="565b" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu"> M6.4，17.6 - </strong>这将再次把指针从17.6，17.6移动到6.4，17.6。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/5618b2772c7c85862d67d2a2e1411fc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_GkY-Dqj7n_ZsfhNwG4vkQ.png"/></div></div></figure><p id="2f19" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu"> L17.6，6.4 - </strong>这会从现在的点画一条线，是6.4，17.6到17.6，6.4。看一看:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/82df907afa3cd3fdf150f7b167985afc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qP4uGwL4Dm-Bcjg_k8WUkw.png"/></div></div></figure><p id="74f9" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">这就是你现在可以创建自己的矢量资产。</p></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><p id="667e" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">在我们结束之前，我要感谢尼克·布彻。我从他在KotlinConfig 2019上的演讲中学到了我在这里提到的许多概念。如果你有兴趣，可以看看</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ox nq l"/></div></figure></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><p id="9127" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">你可以在<a class="ae oy" href="https://medium.com/@sgkantamani" rel="noopener">中</a>、<a class="ae oy" href="https://twitter.com/SG5202" rel="noopener ugc nofollow" target="_blank">推特</a>和<a class="ae oy" href="https://www.linkedin.com/in/siva-kantamani-bb59309b/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上找到我。</p><p id="6f69" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">下次见，感谢阅读。</p></div></div>    
</body>
</html>