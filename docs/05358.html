<html>
<head>
<title>6 Pythonic Bit Manipulation Recipes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">6种Pythonic比特操作方法</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/6-pythonic-bit-manipulation-recipes-ebdbd630e5ef?source=collection_archive---------4-----------------------#2020-08-22">https://levelup.gitconnected.com/6-pythonic-bit-manipulation-recipes-ebdbd630e5ef?source=collection_archive---------4-----------------------#2020-08-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/f9f89cae3db0c3881eae3665b56e59d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8X_WV6I-9o5Wb83xDoSbqw.jpeg"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">图片来源:<a class="ae jg" href="https://pxhere.com/en/photo/1458897" rel="noopener ugc nofollow" target="_blank">https://pxhere.com/en/photo/1458897</a></figcaption></figure><div class=""/><p id="e51b" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一些可重用的python方法，用于操作位来执行快速运算。</p><h2 id="3b19" class="le lf jj bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">1.使用位操作将整数加倍</h2><p id="d027" class="pw-post-body-paragraph kg kh jj ki b kj lx kl km kn ly kp kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">使用<code class="fe mc md me mf b">&lt;&lt;</code>运算符将位左移一位，从而使整数加倍。</p><figure class="mg mh mi mj gt iv"><div class="bz fp l di"><div class="mk ml l"/></div></figure><h2 id="f23a" class="le lf jj bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">2.使用位操作将整数减半</h2><p id="8f9a" class="pw-post-body-paragraph kg kh jj ki b kj lx kl km kn ly kp kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">使用<code class="fe mc md me mf b">&gt;&gt;</code>运算符将位向右移动一位，从而将整数减半。</p><figure class="mg mh mi mj gt iv"><div class="bz fp l di"><div class="mk ml l"/></div></figure><h2 id="d672" class="le lf jj bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">3.使用位操作执行加法</h2><p id="4a6c" class="pw-post-body-paragraph kg kh jj ki b kj lx kl km kn ly kp kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">这个比较复杂。伪代码算法是:</p><pre class="mg mh mi mj gt mm mf mn mo aw mp bi"><span id="969a" class="le lf jj mf b gy mq mr l ms mt">while a ≠ 0<br/>    c ← b and a<br/>    b ← b xor a<br/>    left shift c by 1<br/>    a ← c<br/>return b</span></pre><p id="eedd" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">原则上，它使用一个循环，当第一个整数达到0时结束，所有的位都被加到第二个整数上。</p><p id="0abd" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里我们使用了<code class="fe mc md me mf b">&amp; (AND)</code>和<code class="fe mc md me mf b">^ (XOR)</code>操作符。</p><figure class="mg mh mi mj gt iv"><div class="bz fp l di"><div class="mk ml l"/></div></figure><h2 id="c02f" class="le lf jj bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">4.使用位操作执行乘法</h2><p id="a357" class="pw-post-body-paragraph kg kh jj ki b kj lx kl km kn ly kp kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">这也很复杂，需要前面的加法。下面是伪代码算法:</p><pre class="mg mh mi mj gt mm mf mn mo aw mp bi"><span id="0fb0" class="le lf jj mf b gy mq mr l ms mt">c ← 0<br/>while b ≠ 0<br/>    if (b and 1) ≠ 0<br/>        c ← c + a<br/>    left shift a by 1<br/>    right shift b by 1<br/>return c</span></pre><p id="233b" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">其再次循环直到达到零。</p><figure class="mg mh mi mj gt iv"><div class="bz fp l di"><div class="mk ml l"/></div></figure><h2 id="a75f" class="le lf jj bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">5.使用位操作执行减法</h2><p id="ec83" class="pw-post-body-paragraph kg kh jj ki b kj lx kl km kn ly kp kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">这是毛啊！首先，我们需要使用<code class="fe mc md me mf b">~</code>运算符将被减数变为负数(找到它的补数)。然后我们找到被减数和减数的按位与。然后继续将减数减半，直到它变为0。</p><p id="d08b" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">很简单，对吧？</p><figure class="mg mh mi mj gt iv"><div class="bz fp l di"><div class="mk ml l"/></div></figure><h2 id="1b46" class="le lf jj bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">6.使用位操作执行除法</h2><p id="bfb0" class="pw-post-body-paragraph kg kh jj ki b kj lx kl km kn ly kp kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">这也太纠结了！</p><p id="b988" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">就像乘法和加法的例子一样，除法就是反复的减法。这个实现返回一个元组，第一个元素包含商<em class="mu">和第二个元素包含余数<em class="mu"/>。</em></p><figure class="mg mh mi mj gt iv"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="a441" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我希望你喜欢这个！</p></div></div>    
</body>
</html>