<html>
<head>
<title>Implementing Infinite Scroll (Lazy Loading) With FlatList Using React Native + Firebase Cloud Firestore</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用React Native+Firebase Cloud Firestore实现FlatList的无限滚动(延迟加载)</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/react-native-firebase-cloud-firestore-implementing-infinite-scroll-lazy-loading-with-flatlist-a9e942cf66c6?source=collection_archive---------0-----------------------#2019-07-01">https://levelup.gitconnected.com/react-native-firebase-cloud-firestore-implementing-infinite-scroll-lazy-loading-with-flatlist-a9e942cf66c6?source=collection_archive---------0-----------------------#2019-07-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jn jo jp jq gh gi paragraph-image"><div class="ab gu cl jr"><img src="../Images/b9cc1b42a69d8fb97f4466504944cc8c.png" data-original-src="https://miro.medium.com/v2/format:webp/1*x3pLJ_UtnreupqwCTkMY7Q.png"/></div></figure><p id="cc08" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">备注:</strong></p><ul class=""><li id="7194" class="ks kt iq jw b jx jy kb kc kf ku kj kv kn kw kr kx ky kz la bi translated">本指南假设您了解React Native和Firebase Cloud Firestore。</li><li id="b2cc" class="ks kt iq jw b jx lb kb lc kf ld kj le kn lf kr kx ky kz la bi translated">本指南还假设您知道如何将JSON数据导入Firebase Cloud Firestore。如果你想学习如何，请查看我的<a class="ae lg" rel="noopener ugc nofollow" target="_blank" href="/firebase-import-json-to-firestore-ed6a4adc2b57"> <strong class="jw ir"> JSON To Firestore指南</strong> </a> <strong class="jw ir">。</strong></li><li id="9ca3" class="ks kt iq jw b jx lb kb lc kf ld kj le kn lf kr kx ky kz la bi translated"><strong class="jw ir">Github Repo:</strong><a class="ae lg" href="https://github.com/jefelewis/react-native-infinite-scroll-demo" rel="noopener ugc nofollow" target="_blank">https://Github . com/jefelewis/react-native-infinite-scroll-demo</a></li></ul><h1 id="8e5e" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">1.什么是无限滚动(惰性加载)</h1><p id="60c5" class="pw-post-body-paragraph ju jv iq jw b jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn mj kp kq kr ij bi translated">无限滚动允许您的应用程序根据需要查询/检索数据。这意味着当用户向下滚动到列表底部时，会进行额外的查询并追加数据。</p><p id="3275" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">没有“加载更多”或“下一页”按钮<strong class="jw ir">，查询是在后台自动进行的</strong>，这就是无限滚动这个名字的由来。用户可以毫不费力地无限滚动(假设有足够的数据可以无限滚动)。当它们到达页面上的某一点时，它就会加载它们，这就是“惰性加载”这个术语的由来——它只在你需要的时候才加载。</p><h1 id="bb84" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">2.为什么使用无限卷轴</h1><p id="69c1" class="pw-post-body-paragraph ju jv iq jw b jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn mj kp kq kr ij bi translated">Instagram、脸书、Twitter、YouTube、Pinterest和Medium等应用程序都使用infinite scroll，那么为什么它会被大型科技公司使用呢？这是一个很好的用户体验，它只高效地查询必要的数据，并节省了数据成本。在我们的例子中，我们将使用Firebase Cloud Firestore，因此无限卷轴将节省<a class="ae lg" href="https://medium.com/@jeffrey.allen.lewis/firebase-cloud-firestore-data-types-costs-query-examples-65e5b402c55e" rel="noopener"> Firebase读取成本</a>。</p><p id="1e6e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">例如，假设您有一个100个用户的数据集，但我们的应用程序一次只能显示9个用户。如果您的用户从未滚动超过前9个用户，那么查询100个用户的云Firestore将是低效的。无限滚动通过按需查询使您的应用程序运行更加高效。由于没有页码和按钮来查询更多数据，因此需要的步骤更少，因此用户只需付出最少的努力。</p><p id="194e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这不仅在Firebase读取成本和用户体验方面效率低下，而且在速度方面效率低下，因为它只是向你的应用程序发送必要的数据。</p><h1 id="204a" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">3.示例应用+代码</h1><p id="e293" class="pw-post-body-paragraph ju jv iq jw b jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn mj kp kq kr ij bi translated"><strong class="jw ir"> Github回购:</strong>【https://github.com/jefelewis/】T2<a class="ae lg" href="https://github.com/jefelewis/react-native-infinite-scroll-test" rel="noopener ugc nofollow" target="_blank">react-native-infinite-scroll-test</a></p><h2 id="3301" class="mk li iq bd lj ml mm dn ln mn mo dp lr kf mp mq lv kj mr ms lz kn mt mu md mv bi translated">A.应用概述</h2><p id="030b" class="pw-post-body-paragraph ju jv iq jw b jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn mj kp kq kr ij bi translated">该应用程序将只有一个屏幕(InfiniteScroll.js)，它将从Firebase Cloud Firestore查询，限制为9个用户。一旦您滚动到列表的末尾，将会加载另外9个用户(总共20个用户)。</p><p id="d366" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">所有的数据将在<a class="ae lg" href="https://facebook.github.io/react-native/docs/flatlist" rel="noopener ugc nofollow" target="_blank"> <strong class="jw ir"> React Native FlatList组件</strong> </a>中呈现。</p><h2 id="91fa" class="mk li iq bd lj ml mm dn ln mn mo dp lr kf mp mq lv kj mr ms lz kn mt mu md mv bi translated">B.App截图</h2><figure class="mx my mz na gt jq gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi mw"><img src="../Images/a490d17aa9c405d7ed19cc170b869bb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TeS4MAwkxLIlbk-k0khvcg.png"/></div></div><figcaption class="nf ng gj gh gi nh ni bd b be z dk translated">InfiniteScroll.js</figcaption></figure><h2 id="b74b" class="mk li iq bd lj ml mm dn ln mn mo dp lr kf mp mq lv kj mr ms lz kn mt mu md mv bi translated">C.应用程序文件结构</h2><p id="9c00" class="pw-post-body-paragraph ju jv iq jw b jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn mj kp kq kr ij bi translated">本例将使用4个文件:</p><ol class=""><li id="d504" class="ks kt iq jw b jx jy kb kc kf ku kj kv kn kw kr nj ky kz la bi translated">data.json(示例数据)</li><li id="2099" class="ks kt iq jw b jx lb kb lc kf ld kj le kn lf kr nj ky kz la bi translated">config.js (Firebase配置)</li><li id="bbc4" class="ks kt iq jw b jx lb kb lc kf ld kj le kn lf kr nj ky kz la bi translated">App.js (React原生应用)</li><li id="f42e" class="ks kt iq jw b jx lb kb lc kf ld kj le kn lf kr nj ky kz la bi translated">InfiniteScroll.js(无限滚动屏幕)</li></ol><h2 id="c1f2" class="mk li iq bd lj ml mm dn ln mn mo dp lr kf mp mq lv kj mr ms lz kn mt mu md mv bi translated">D.应用程序文件</h2><p id="c307" class="pw-post-body-paragraph ju jv iq jw b jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn mj kp kq kr ij bi translated">下面将提供一个示例data.json文件。这个data.json需要导入到Firebase Cloud Firestore。</p><p id="b5ce" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果您不确定如何将JSON数据导入Firebase Cloud Firestore，请查看导入<a class="ae lg" rel="noopener ugc nofollow" target="_blank" href="/firebase-import-json-to-firestore-ed6a4adc2b57"> JSON到Firestore指南</a>。</p><p id="b6f1" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir"> data.json </strong></p><pre class="mx my mz na gt nk nl nm nn aw no bi"><span id="4f4f" class="mk li iq nl b gy np nq l nr ns">{<br/>  "users": [<br/>    {<br/>      "id": 1,<br/>      "first_name": "Kristin",<br/>      "last_name": "Smith"<br/>    },<br/>    {<br/>      "id": 2,<br/>      "first_name": "Olivia",<br/>      "last_name": "Parker"<br/>    },<br/>    {<br/>      "id": 3,<br/>      "first_name": "Jimmy",<br/>      "last_name": "Robinson"<br/>    },<br/>    {<br/>      "id": 4,<br/>      "first_name": "Zack",<br/>      "last_name": "Carter"<br/>    },<br/>    {<br/>      "id": 5,<br/>      "first_name": "Brad",<br/>      "last_name": "Rayburn"<br/>    },<br/>    {<br/>      "id": 6,<br/>      "first_name": "Krista",<br/>      "last_name": "Foster"<br/>    },<br/>    {<br/>      "id": 7,<br/>      "first_name": "Parker",<br/>      "last_name": "Trotter"<br/>    },<br/>    {<br/>      "id": 8,<br/>      "first_name": "Kevin",<br/>      "last_name": "Carter"<br/>    },<br/>    {<br/>      "id": 9,<br/>      "first_name": "Fred",<br/>      "last_name": "Klein"<br/>    },<br/>    {<br/>      "id": 10,<br/>      "first_name": "Thomas",<br/>      "last_name": "Manchin"<br/>    },<br/>    {<br/>      "id": 11,<br/>      "first_name": "Taylor",<br/>      "last_name": "Welch"<br/>    },<br/>    {<br/>      "id": 12,<br/>      "first_name": "Sam",<br/>      "last_name": "Goldberg"<br/>    },<br/>    {<br/>      "id": 13,<br/>      "first_name": "John",<br/>      "last_name": "Russell"<br/>    },<br/>    {<br/>      "id": 14,<br/>      "first_name": "Steve",<br/>      "last_name": "Bell"<br/>    },<br/>    {<br/>      "id": 15,<br/>      "first_name": "Kelly",<br/>      "last_name": "Black"<br/>    },<br/>    {<br/>      "id": 16,<br/>      "first_name": "Lena",<br/>      "last_name": "Hunt"<br/>    },<br/>    {<br/>      "id": 17,<br/>      "first_name": "Jessica",<br/>      "last_name": "Moore"<br/>    },<br/>    {<br/>      "id": 18,<br/>      "first_name": "Pete",<br/>      "last_name": "Wong"<br/>    },<br/>    {<br/>      "id": 19,<br/>      "first_name": "Harry",<br/>      "last_name": "Fordham"<br/>    },<br/>    {<br/>      "id": 20,<br/>      "first_name": "Ashley",<br/>      "last_name": "Blake"<br/>    }<br/>  ]<br/>}</span></pre><p id="0d82" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir"> config.js </strong></p><pre class="mx my mz na gt nk nl nm nn aw no bi"><span id="cb36" class="mk li iq nl b gy np nq l nr ns">// Firebase Config<br/>const firebaseConfig = {<br/>  apiKey: '<strong class="nl ir">API_KEY_HERE'</strong>,<br/>  authDomain: '<strong class="nl ir">AUTH_DOMAIN_HERE'</strong>,<br/>  databaseURL: '<strong class="nl ir">DATABASE_URL_HERE'</strong>,<br/>  projectId: '<strong class="nl ir">PROJECT_ID_HERE'</strong>,<br/>  storageBucket: '<strong class="nl ir">STORAGE_BUCKET_HERE'</strong>,<br/>  messagingSenderId: '<strong class="nl ir">MESSAGING_ID_HERE',</strong><br/>};</span><span id="a259" class="mk li iq nl b gy nt nq l nr ns">// Exports<br/>module.exports = firebaseConfig;</span></pre><p id="9c87" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir"> App.js </strong></p><pre class="mx my mz na gt nk nl nm nn aw no bi"><span id="2079" class="mk li iq nl b gy np nq l nr ns"><em class="nu">// Imports: Dependencies<br/></em>import React from 'react';<br/>import * as firebase from 'firebase';<br/>import 'firebase/firestore';<br/>import firebaseConfig from './config/config';</span><span id="e334" class="mk li iq nl b gy nt nq l nr ns"><em class="nu">// Imports: Screens<br/></em><strong class="nl ir">import InfiniteScroll from './screens/InfiniteScroll';</strong></span><span id="f86c" class="mk li iq nl b gy nt nq l nr ns">// Firebase: Initialize<br/>firebase.initializeApp({<br/>  apiKey: firebaseConfig.apiKey,<br/>  authDomain: firebaseConfig.authDomain,<br/>  databaseURL: firebaseConfig.databaseURL,<br/>  projectId: firebaseConfig.projectId,<br/>  storageBucket: firebaseConfig.storageBucket,<br/>  messagingSenderId: firebaseConfig.messagingSenderId,<br/>});</span><span id="9973" class="mk li iq nl b gy nt nq l nr ns">// Firebase: Cloud Firestore<br/>export const database = firebase.firestore();</span><span id="c36c" class="mk li iq nl b gy nt nq l nr ns"><em class="nu">// React Native: App<br/></em>export default function App() {<br/>  return (<br/><strong class="nl ir">    &lt;InfiniteScroll /&gt;</strong><br/>  );<br/>}</span></pre><p id="d3d1" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir"> InfiniteScroll.js </strong></p><pre class="mx my mz na gt nk nl nm nn aw no bi"><span id="6080" class="mk li iq nl b gy np nq l nr ns"><em class="nu">// Imports: Dependencies<br/></em>import React, { Component } from 'react';<br/>import { ActivityIndicator, Dimensions, FlatList, SafeAreaView, StyleSheet, Text, View } from 'react-native';<br/>import { database } from '../App';</span><span id="eb5e" class="mk li iq nl b gy nt nq l nr ns"><em class="nu">// Screen Dimensions<br/></em>const { height, width } = Dimensions.get('window');</span><span id="f5b8" class="mk li iq nl b gy nt nq l nr ns"><em class="nu">// Screen: Infinite Scroll<br/></em>export default class InfiniteScroll extends React.Component {<br/>  constructor(props) {<br/>    super(props);</span><span id="c1d1" class="mk li iq nl b gy nt nq l nr ns">    this.state = {<br/><strong class="nl ir">      documentData: [],<br/>      limit: 9,<br/>      lastVisible: null,<br/>      loading: false,<br/>      refreshing: false,</strong><br/>    };<br/>  }</span><span id="a75f" class="mk li iq nl b gy nt nq l nr ns"><em class="nu">  // Component Did Mount<br/>  </em>componentDidMount = () =&gt; {<br/>    try {<br/>      <em class="nu">// Cloud Firestore: Initial Query<br/></em><strong class="nl ir"><em class="nu">      </em>this.retrieveData();<br/></strong>    }<br/>    catch (error) {<br/>      console.log(error);<br/>    }<br/>  };</span><span id="66a6" class="mk li iq nl b gy nt nq l nr ns"><em class="nu">  // Retrieve Data<br/></em><strong class="nl ir"><em class="nu">  </em>retrieveData = async () =&gt; {<br/></strong>    try {<br/>      <em class="nu">// Set State: Loading<br/></em><strong class="nl ir"><em class="nu">      </em>this.setState({<br/>        loading: true,<br/>      });</strong><br/>      console.log('Retrieving Data');</span><span id="6e7e" class="mk li iq nl b gy nt nq l nr ns"><em class="nu">      // Cloud Firestore: Query<br/></em><strong class="nl ir"><em class="nu">      </em>let initialQuery = await database.collection('users')<br/>        .where('id', '&lt;=', 20)<br/>        .orderBy('id')<br/>        .limit(this.state.limit)</strong></span><span id="7018" class="mk li iq nl b gy nt nq l nr ns"><em class="nu">      // Cloud Firestore: Query Snapshot<br/></em><strong class="nl ir"><em class="nu">      </em>let documentSnapshots = await initialQuery.get();</strong></span><span id="f21b" class="mk li iq nl b gy nt nq l nr ns"><em class="nu">      // Cloud Firestore: Document Data<br/></em><strong class="nl ir"><em class="nu">      </em>let documentData = documentSnapshots.docs.map(document =&gt; document.data());</strong></span><span id="16d2" class="mk li iq nl b gy nt nq l nr ns"><em class="nu">      // Cloud Firestore: Last Visible Document (Document ID To Start From For Proceeding Queries)<br/></em><strong class="nl ir"><em class="nu">      </em>let lastVisible = documentData[documentData.length - 1].id;</strong></span><span id="dffe" class="mk li iq nl b gy nt nq l nr ns"><em class="nu">      // Set State<br/></em><strong class="nl ir"><em class="nu">      </em>this.setState({<br/>        documentData: documentData,<br/>        lastVisible: lastVisible,<br/>        loading: false,<br/>      });</strong><br/>    }<br/>    catch (error) {<br/>      console.log(error);<br/>    }<br/><strong class="nl ir">  };</strong></span><span id="248a" class="mk li iq nl b gy nt nq l nr ns"><em class="nu">  // Retrieve More<br/></em><strong class="nl ir"><em class="nu">  </em>retrieveMore = async () =&gt; {</strong><br/>    try {<br/>      <em class="nu">// Set State: Refreshing<br/></em><strong class="nl ir"><em class="nu">      </em>this.setState({<br/>        refreshing: true,<br/>      });</strong><br/>      console.log('Retrieving additional Data');</span><span id="e964" class="mk li iq nl b gy nt nq l nr ns"><em class="nu">      // Cloud Firestore: Query (Additional Query)<br/></em><strong class="nl ir"><em class="nu">      </em>let additionalQuery = await database.collection('users')<br/>        .where('id', '&lt;=', 20)<br/>        .orderBy('id')<br/>        .startAfter(this.state.lastVisible)<br/>        .limit(this.state.limit)</strong></span><span id="8919" class="mk li iq nl b gy nt nq l nr ns"><em class="nu">      // Cloud Firestore: Query Snapshot<br/></em><strong class="nl ir"><em class="nu">      </em>let documentSnapshots = await additionalQuery.get();</strong></span><span id="c7b0" class="mk li iq nl b gy nt nq l nr ns"><em class="nu">      // Cloud Firestore: Document Data<br/></em><strong class="nl ir"><em class="nu">      </em>let documentData = documentSnapshots.docs.map(document =&gt; document.data());</strong></span><span id="9576" class="mk li iq nl b gy nt nq l nr ns"><em class="nu">      // Cloud Firestore: Last Visible Document (Document ID To Start From For Proceeding Queries)<br/></em><strong class="nl ir"><em class="nu">      </em>let lastVisible = documentData[documentData.length - 1].id;</strong></span><span id="3076" class="mk li iq nl b gy nt nq l nr ns"><em class="nu">      // Set State<br/></em><strong class="nl ir"><em class="nu">      </em>this.setState({<br/>        documentData: [...this.state.documentData, ...documentData],<br/>        lastVisible: lastVisible,<br/>        refreshing: false,<br/>      });</strong><br/>    }<br/>    catch (error) {<br/>      console.log(error);<br/>    }<br/><strong class="nl ir">  };</strong></span><span id="8a5b" class="mk li iq nl b gy nt nq l nr ns"><em class="nu">  // Render Header<br/></em><strong class="nl ir"><em class="nu">  </em>renderHeader = () =&gt; {<br/></strong>    try {<br/>      return (<br/>        &lt;Text style={styles.headerText}&gt;Items&lt;/Text&gt;<br/>      )<br/>    }<br/>    catch (error) {<br/>      console.log(error);<br/>    }<br/><strong class="nl ir">  };</strong></span><span id="ef05" class="mk li iq nl b gy nt nq l nr ns"><em class="nu">  // Render Footer<br/></em><strong class="nl ir"><em class="nu">  </em>renderFooter = () =&gt; {<br/></strong>    try {<br/>      <em class="nu">// Check If Loading<br/>      </em>if (this.state.loading) {<br/>        return (<br/>          &lt;ActivityIndicator /&gt;<br/>        )<br/>      }<br/>      else {<br/>        return null;<br/>      }<br/>    }<br/>    catch (error) {<br/>      console.log(error);<br/>    }<br/><strong class="nl ir">  };</strong></span><span id="9fa9" class="mk li iq nl b gy nt nq l nr ns">  render() {<br/>    return (<br/>      &lt;SafeAreaView style={styles.container}&gt;<br/><strong class="nl ir">        &lt;FlatList<br/></strong>          /<em class="nu">/ Data<br/>  </em><strong class="nl ir"><em class="nu">        </em>data={this.state.documentData}<br/>  </strong>        <em class="nu">// Render Items<br/>  </em><strong class="nl ir"><em class="nu">        </em>renderItem={({ item }) =&gt; (<br/>            &lt;View style={styles.itemContainer}&gt;<br/>              &lt;Text&gt;(ID: {item.id}) {item.first_name} {item.last_name}&lt;/Text&gt;<br/>            &lt;/View&gt;</strong><br/>          )}<br/>          <em class="nu">// Item Key<br/>  </em><strong class="nl ir"><em class="nu">        </em>keyExtractor={(item, index) =&gt; String(index)}<br/>          </strong><em class="nu">// Header (Title)<br/>  </em><strong class="nl ir"><em class="nu">        </em>ListHeaderComponent={this.renderHeader}<br/>          </strong><em class="nu">// Footer (Activity Indicator)<br/>  </em><strong class="nl ir"><em class="nu">        </em>ListFooterComponent={this.renderFooter}<br/>          </strong><em class="nu">// On End Reached (Takes a function)<br/>  </em><strong class="nl ir"><em class="nu">        </em>onEndReached={this.retrieveMore}<br/>          </strong><em class="nu">// How Close To The End Of List Until Next Data Request Is Made<br/> </em><strong class="nl ir"><em class="nu">         </em>onEndReachedThreshold={0}<br/>          </strong><em class="nu">// Refreshing (Set To True When End Reached)<br/></em><strong class="nl ir"><em class="nu">          </em>refreshing={this.state.refreshing}<br/>        /&gt;<br/></strong>      &lt;/SafeAreaView&gt;<br/>    )<br/>  }<br/>}</span><span id="5240" class="mk li iq nl b gy nt nq l nr ns"><em class="nu">// Styles<br/></em>const styles = StyleSheet.create({<br/>  container: {<br/>    height: height,<br/>    width: width,<br/>  },<br/>  headerText: {<br/>    fontFamily: 'System',<br/>    fontSize: 36,<br/>    fontWeight: '600',<br/>    color: '#000',<br/>    marginLeft: 12,<br/>    marginBottom: 12,<br/>  },<br/>  itemContainer: {<br/>    height: 80,<br/>    width: width,<br/>    borderWidth: .2,<br/>    borderColor: '#000',<br/>    justifyContent: 'center',<br/>    alignItems: 'center',<br/>  },<br/>  text: {<br/>    fontFamily: 'System',<br/>    fontSize: 16,<br/>    fontWeight: '400',<br/>    color: '#000',<br/>  },<br/>});</span></pre><h1 id="5d7c" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">向外滚动</h1><p id="7eba" class="pw-post-body-paragraph ju jv iq jw b jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn mj kp kq kr ij bi translated">就是这样！现在，您已经使用Firebase Cloud Firestore在React本机应用程序中实现了无限滚动，节省了＄＄＄的读取成本并提高了UX。</p><p id="16e1" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">没有人是完美的。如果您发现了任何错误，想要提出改进建议，或者扩展某个主题，请随时给我发消息。我一定会包括任何改进或纠正任何问题。</p></div></div>    
</body>
</html>