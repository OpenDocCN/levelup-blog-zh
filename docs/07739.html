<html>
<head>
<title>How to Generate Image Tags Automatically</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何自动生成图像标签</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-generate-image-tags-automatically-fbb9f7bc6381?source=collection_archive---------31-----------------------#2021-03-07">https://levelup.gitconnected.com/how-to-generate-image-tags-automatically-fbb9f7bc6381?source=collection_archive---------31-----------------------#2021-03-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6f9e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用人工智能API增强图像上传</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/339e4c8a1ebf9e0ff001f53172a4871e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*58pYdHUmnX3umNnPLQNCAw.jpeg"/></div></div></figure><div class="kr ks gp gr kt ku"><a href="https://github.com/JEDS-AI/picture-upload-with-meta-tags" rel="noopener  ugc nofollow" target="_blank"><div class="kv ab fo"><div class="kw ab kx cl cj ky"><h2 class="bd ir gy z fp kz fr fs la fu fw ip bi translated">JEDS人工智能/带元标签的图片上传</h2><div class="lb l"><h3 class="bd b gy z fp kz fr fs la fu fw dk translated">这个项目展示了如何使用谷歌人脸识别自动生成图片上传的元标签…</h3></div><div class="lc l"><p class="bd b dl z fp kz fr fs la fu fw dk translated">github.com</p></div></div><div class="ld l"><div class="le l lf lg lh ld li kp ku"/></div></div></a></div><h1 id="3d6d" class="lj lk iq bd ll lm ln lo lp lq lr ls lt jw lu jx lv jz lw ka lx kc ly kd lz ma bi translated">介绍</h1><p id="f12d" class="pw-post-body-paragraph mb mc iq md b me mf jr mg mh mi ju mj mk ml mm mn mo mp mq mr ms mt mu mv mw ij bi translated">本文将向您展示如何自动生成图像标签。所谓标签，我指的是描述图像中可见内容的关键词。对于下面的例子图像，我希望像这样的标签:<strong class="md ir">猫，小猫，花，鹅卵石。</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/eadefb1b39d9d59a5e2b8ad033b2acb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/0*UTXWRg29ghD79xNV"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">图片由<a class="ae nc" href="https://pixabay.com/users/dimhou-5987327/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=2536662" rel="noopener ugc nofollow" target="_blank"> Dim侯</a>发自<a class="ae nc" href="https://pixabay.com/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=2536662" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></figcaption></figure></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="1950" class="lj lk iq bd ll lm nk lo lp lq nl ls lt jw nm jx lv jz nn ka lx kc no kd lz ma bi translated">用例</h1><p id="bc12" class="pw-post-body-paragraph mb mc iq md b me mf jr mg mh mi ju mj mk ml mm mn mo mp mq mr ms mt mu mv mw ij bi translated">图像标签生成的可能用例有:</p><ul class=""><li id="87f8" class="np nq iq md b me nr mh ns mk nt mo nu ms nv mw nw nx ny nz bi translated">将图像标签提供给搜索引擎，如果有大量描述图像的元数据，搜索引擎可以提供更好的结果。</li><li id="ad37" class="np nq iq md b me oa mh ob mk oc mo od ms oe mw nw nx ny nz bi translated">限制图片上传。根据具体的使用情况，某些图像内容可能不允许上传。</li><li id="d480" class="np nq iq md b me oa mh ob mk oc mo od ms oe mw nw nx ny nz bi translated">你也可以添加标签来提高搜索引擎优化的排名。</li></ul></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="bc53" class="lj lk iq bd ll lm nk lo lp lq nl ls lt jw nm jx lv jz nn ka lx kc no kd lz ma bi translated">方法</h1><p id="36d8" class="pw-post-body-paragraph mb mc iq md b me mf jr mg mh mi ju mj mk ml mm mn mo mp mq mr ms mt mu mv mw ij bi translated">为了自动生成标签，需要某种算法。更准确地说，是一种标记算法。算法会用图片上看到的东西来标注图片。</p><p id="fee8" class="pw-post-body-paragraph mb mc iq md b me nr jr mg mh ns ju mj mk of mm mn mo og mq mr ms oh mu mv mw ij bi translated">当然，你可以自己实现它。甚至有一些机器学习算法，你可以用来这样做…</p><p id="b6aa" class="pw-post-body-paragraph mb mc iq md b me nr jr mg mh ns ju mj mk of mm mn mo og mq mr ms oh mu mv mw ij bi translated">但在这种情况下，您必须实现围绕它的所有逻辑，您负责更新它并关注它的可用性和性能。这是你想做就能做的事情，但这样做可能真的很麻烦，很不方便。您还会浪费大量时间，而这些时间本可以用来实际实现您的业务用例。</p><p id="f0bc" class="pw-post-body-paragraph mb mc iq md b me nr jr mg mh ns ju mj mk of mm mn mo og mq mr ms oh mu mv mw ij bi translated">更方便的方法是使用现有的API。在这种情况下，您不必处理算法的可伸缩性、性能和可用性。但是你必须支付一定的费用才能使用这些优惠。</p><p id="ab3c" class="pw-post-body-paragraph mb mc iq md b me nr jr mg mh ns ju mj mk of mm mn mo og mq mr ms oh mu mv mw ij bi translated">例如，我将使用Google Cloud Vision API来实现标记/标签的自动生成。出于测试目的，这不会花费任何成本。以后，每1000次请求的数量会很少。</p><p id="19cb" class="pw-post-body-paragraph mb mc iq md b me nr jr mg mh ns ju mj mk of mm mn mo og mq mr ms oh mu mv mw ij bi translated">我将使用Google Cloud Vision API的<a class="ae nc" href="https://cloud.google.com/vision/docs/labels" rel="noopener ugc nofollow" target="_blank">标签检测特性</a>。这里还有<a class="ae nc" href="https://cloud.google.com/vision/docs/features-list" rel="noopener ugc nofollow" target="_blank">完整的特性列表</a>供进一步调查。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oi oj l"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">Gif by <a class="ae nc" href="https://giphy.com/vh1" rel="noopener ugc nofollow" target="_blank"> vh1 </a>来自<a class="ae nc" href="https://giphy.com/" rel="noopener ugc nofollow" target="_blank"> giphy </a></figcaption></figure><p id="294d" class="pw-post-body-paragraph mb mc iq md b me nr jr mg mh ns ju mj mk of mm mn mo og mq mr ms oh mu mv mw ij bi translated">要使用Google Cloud Vision API，您只需创建一个帐户并执行以下任务。我不会详细讨论这些，因为你可以找到大量的教程来设置它。</p><ul class=""><li id="0c19" class="np nq iq md b me nr mh ns mk nt mo nu ms nv mw nw nx ny nz bi translated">创建新项目。</li><li id="5467" class="np nq iq md b me oa mh ob mk oc mo od ms oe mw nw nx ny nz bi translated">激活谷歌云视觉API。</li><li id="294e" class="np nq iq md b me oa mh ob mk oc mo od ms oe mw nw nx ny nz bi translated">启用计费。(不用担心，有免费计划)<br/>但是真的需要启用，不然就不行。</li><li id="725a" class="np nq iq md b me oa mh ob mk oc mo od ms oe mw nw nx ny nz bi translated">设置身份验证(请随意使用Google推荐的方式，使用服务帐户并生成私有和公共密钥。对我来说，生成一个API键并在我的请求中使用它要容易得多。根据您的用例，这可能就足够了，否则您可以选择更安全的方法。)</li></ul></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="e90d" class="lj lk iq bd ll lm nk lo lp lq nl ls lt jw nm jx lv jz nn ka lx kc no kd lz ma bi translated">测试请求</h1><p id="c5f4" class="pw-post-body-paragraph mb mc iq md b me mf jr mg mh mi ju mj mk ml mm mn mo mp mq mr ms mt mu mv mw ij bi translated">为了成功完成请求，图像应该是base64编码的。您可以在下面的请求正文中看到它。还指定了应该启用哪些功能。在这种情况下，它是“LABEL_DETECTION”特性，我将结果数量限制为10个结果。对于这个例子来说，这应该足够了。另外，不要忘记在URL后面添加API键。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ok oj l"/></div></figure><p id="6077" class="pw-post-body-paragraph mb mc iq md b me nr jr mg mh ns ju mj mk of mm mn mo og mq mr ms oh mu mv mw ij bi translated">为了测试API，我使用了下面的示例图片。所以，让我们看看我们的JEDS人工智能标志包含什么。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/ff7ab5fda4a63264262382e80fdc4ed0.png" data-original-src="https://miro.medium.com/v2/resize:fit:512/0*Qy9QnMRjHz0966gt"/></div></figure><p id="011e" class="pw-post-body-paragraph mb mc iq md b me nr jr mg mh ns ju mj mk of mm mn mo og mq mr ms oh mu mv mw ij bi translated">在请求结果中，我们得到了图像的标签列表。标签包含一个描述和一个分数(为了方便起见，我删除了一些其他信息)。结果按分数排序。分数越高，算法越确定该物品在图像中。</p><p id="5700" class="pw-post-body-paragraph mb mc iq md b me nr jr mg mh ns ju mj mk of mm mn mo og mq mr ms oh mu mv mw ij bi translated">如你所见，我得到了像飞机、符号、标志或空中旅行这样的描述。这似乎是一个很好的结果，将这些值作为元数据附加到图片上是有意义的。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ok oj l"/></div></figure></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="1ad6" class="lj lk iq bd ll lm nk lo lp lq nl ls lt jw nm jx lv jz nn ka lx kc no kd lz ma bi translated">用例的实现</h1><p id="05c1" class="pw-post-body-paragraph mb mc iq md b me mf jr mg mh mi ju mj mk ml mm mn mo mp mq mr ms mt mu mv mw ij bi translated">为了实现一个用例，我想创建一个图片上传组件。这个组件应该能够选择一个图像，显示它，并显示生成的标签。</p><p id="fbd8" class="pw-post-body-paragraph mb mc iq md b me nr jr mg mh ns ju mj mk of mm mn mo og mq mr ms oh mu mv mw ij bi translated">我开始创建一个基本的react应用程序，在官方的<a class="ae nc" href="https://reactjs.org/docs/create-a-new-react-app.html#create-react-app" rel="noopener ugc nofollow" target="_blank"> react文档</a>中有描述。您可以在提供的<a class="ae nc" href="https://github.com/JEDS-AI/picture-upload-with-meta-tags" rel="noopener ugc nofollow" target="_blank"> GitHub库</a>中查看这个例子，并使用您自己的API密匙进行试验。</p><p id="991e" class="pw-post-body-paragraph mb mc iq md b me nr jr mg mh ns ju mj mk of mm mn mo og mq mr ms oh mu mv mw ij bi translated">开发的应用程序由三部分组成。</p><ol class=""><li id="09fd" class="np nq iq md b me nr mh ns mk nt mo nu ms nv mw om nx ny nz bi translated">图像预览</li><li id="62f7" class="np nq iq md b me oa mh ob mk oc mo od ms oe mw om nx ny nz bi translated">图像标签区域</li><li id="fa15" class="np nq iq md b me oa mh ob mk oc mo od ms oe mw om nx ny nz bi translated">图像选择</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi on"><img src="../Images/01642e674b8bbf36c729d7f5b6c2ea3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/format:webp/1*1Rjs88jNV4jz6KBx91ZYzA.jpeg"/></div></figure><p id="23d2" class="pw-post-body-paragraph mb mc iq md b me nr jr mg mh ns ju mj mk of mm mn mo og mq mr ms oh mu mv mw ij bi translated">图像预览和图像选择部分应该是不言自明的。这些组件用于显示选定的图像，并从本地文件系统中实际选择一个图像。右侧的提交按钮目前仅用于演示目的。</p><p id="284a" class="pw-post-body-paragraph mb mc iq md b me nr jr mg mh ns ju mj mk of mm mn mo og mq mr ms oh mu mv mw ij bi translated">有趣的部分是图像标签区。在这里，API响应被迭代，所有结果都显示在图像下方的小气泡中。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ok oj l"/></div></figure><p id="1d1f" class="pw-post-body-paragraph mb mc iq md b me nr jr mg mh ns ju mj mk of mm mn mo og mq mr ms oh mu mv mw ij bi translated">目前，没有实现额外的逻辑来过滤结果。但是，举例来说，只显示分数很高的结果是有意义的。或者以某种方式限制图像上传。你可以根据自己的需要自由选择。</p></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="797f" class="lj lk iq bd ll lm nk lo lp lq nl ls lt jw nm jx lv jz nn ka lx kc no kd lz ma bi translated">结果呢</h1><p id="cc0e" class="pw-post-body-paragraph mb mc iq md b me mf jr mg mh mi ju mj mk ml mm mn mo mp mq mr ms mt mu mv mw ij bi translated">在这里，您可以看到实际效果。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/c929e8f4a7e8e30c33a27566a6b82d35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Lo0gFz5GgKwlO-mDKceM7g.gif"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">带有自动生成的图像标签的图像选择</figcaption></figure></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="f76a" class="lj lk iq bd ll lm nk lo lp lq nl ls lt jw nm jx lv jz nn ka lx kc no kd lz ma bi translated">结论</h1><p id="a470" class="pw-post-body-paragraph mb mc iq md b me mf jr mg mh mi ju mj mk ml mm mn mo mp mq mr ms mt mu mv mw ij bi translated">当在这个用例中使用Google Cloud Vision API时，我真的很惊讶结果的准确性。就我目前所见，我不怕直接将请求结果作为图像的元数据传递。甚至对于图片搜索引擎的优化，我认为它会表现很好。谈到性能，我没有什么可抱怨的。请求真的很快，到目前为止我没有失败的请求。因此，如果你想实现一些标签检测用例，我可以向你们推荐谷歌云视觉的API。你对标签检测API有其他的建议吗？让我知道。:)</p></div></div>    
</body>
</html>