<html>
<head>
<title>Authenticating HTTP Requests in Modern Web Apps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在现代Web应用程序中验证HTTP请求</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/authenticating-http-requests-in-modern-web-apps-6fd9099269f1?source=collection_archive---------0-----------------------#2019-08-16">https://levelup.gitconnected.com/authenticating-http-requests-in-modern-web-apps-6fd9099269f1?source=collection_archive---------0-----------------------#2019-08-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2f89" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">确保您的用户使用Axios、JWT和TypeScript等现代技术进行身份验证。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e565db2d7edf41640a40154e51c4531e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S9Cm7fp4l-eiZzYi4EiGdQ.png"/></div></div></figure><p id="f2d8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">确保用户通过身份验证是创建现代web应用程序的重要部分。今天，我们将了解一种在Axios上使用JWT访问和更新令牌的通用方法。这些例子将用TypeScript编写，但也应该用普通的JavaScript编写。如果你感兴趣，可以通过这个代码沙盒链接访问示例代码:<a class="ae lq" href="https://codesandbox.io/embed/authenticating-http-requests-in-modern-webapps-n8hmb" rel="noopener ugc nofollow" target="_blank">https://codesandbox.io/s/react-typescript-n8hmb?fontsize=14</a></p><h2 id="163d" class="lr ls it bd lt lu lv dn lw lx ly dp lz ld ma mb mc lh md me mf ll mg mh mi mj bi translated">安装依赖项</h2><p id="a94c" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld mm lf lg lh mn lj lk ll mo ln lo lp im bi translated">简单地运行<code class="fe mp mq mr ms b">npm i jsonwebtoken axios -S</code>，如果你使用的是TypeScript，一定要保存为dev依赖项<code class="fe mp mq mr ms b">npm i typescript -D</code>。</p><h2 id="570f" class="lr ls it bd lt lu lv dn lw lx ly dp lz ld ma mb mc lh md me mf ll mg mh mi mj bi translated">设置身份验证实用程序</h2><p id="f300" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld mm lf lg lh mn lj lk ll mo ln lo lp im bi translated">为了创建一些与浏览器localStorage API和我们的JWT逻辑交互的可重用函数，我们将创建一个身份验证实用程序文件<code class="fe mp mq mr ms b">auth.ts</code>。这将包含在我们执行API调用之前确定用户是否经过身份验证的逻辑。该文件还将提供一些函数，当需要更新访问和刷新令牌时，这些函数将为我们提供检索和设置这些令牌的权限。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mt mu l"/></div></figure><h2 id="c1c4" class="lr ls it bd lt lu lv dn lw lx ly dp lz ld ma mb mc lh md me mf ll mg mh mi mj bi translated">使用Axios执行HTTP请求</h2><p id="d361" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld mm lf lg lh mn lj lk ll mo ln lo lp im bi translated">在我们与Axios的集成中，我们希望提供一些功能，让我们能够访问外部API，这些API将为我们处理身份验证。我们希望有一个契约，只要求我们指定一个端点和任何相关数据。让我们来看看这是如何做到的。我们将这个文件称为<code class="fe mp mq mr ms b">api.ts</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="f1eb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这里我们有一个名为<code class="fe mp mq mr ms b">performAuthenticatedRequest</code>的助手函数，它可以用来提供<code class="fe mp mq mr ms b">get</code>、<code class="fe mp mq mr ms b">post</code>、<code class="fe mp mq mr ms b">put</code>和<code class="fe mp mq mr ms b">delete</code>方法来执行对我们指定的任何外部API的HTTP请求。</p><p id="72aa" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您需要在后端实现为给定的刷新令牌检索新的访问令牌的逻辑——或者使用像<a class="ae lq" href="https://auth0.com/" rel="noopener ugc nofollow" target="_blank"> Auth0 </a>这样的服务来为您完成这项工作。</p><h2 id="17e5" class="lr ls it bd lt lu lv dn lw lx ly dp lz ld ma mb mc lh md me mf ll mg mh mi mj bi translated">结论</h2><p id="90c3" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld mm lf lg lh mn lj lk ll mo ln lo lp im bi translated">这就是全部了！代码并不多，但是理解这里的逻辑划分并创建可重用的函数是很重要的，这些函数允许我们被认证并与外部API通信。</p></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h2 id="f92b" class="lr ls it bd lt lu lv dn lw lx ly dp lz ld ma mb mc lh md me mf ll mg mh mi mj bi translated">有兴趣了解更多关于TypeScript的知识吗？</h2><div class="nc nd gp gr ne nf"><a href="https://medium.com/swlh/how-to-structure-your-typescript-react-redux-app-877d1eba1c1e" rel="noopener follow" target="_blank"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd iu gy z fp nk fr fs nl fu fw is bi translated">如何构建你的TypeScript + React + Redux应用</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">一个简单的、声明性更强的React + Redux应用指南</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">medium.com</p></div></div><div class="no l"><div class="np l nq nr ns no nt ks nf"/></div></div></a></div></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><p id="44b6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="nu">感谢您的阅读，祝您的项目好运！如果你有任何问题，请留言或给我。</em></p></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><div class="kj kk kl km gt nf"><a href="https://gitconnected.com/learn/javascript" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd iu gy z fp nk fr fs nl fu fw is bi translated">学习JavaScript -最佳JavaScript教程(2019) | gitconnected</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">JavaScript是世界上最流行的编程语言之一——它随处可见。JavaScript是一种…</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">gitconnected.com</p></div></div><div class="no l"><div class="nv l nq nr ns no nt ks nf"/></div></div></a></div></div></div>    
</body>
</html>