<html>
<head>
<title>Onnxruntime &amp; OpenCV for C++</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Onnxruntime &amp; OpenCV for C++</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/onnxruntime-opencv-for-c-b19ef189d3a8?source=collection_archive---------5-----------------------#2022-03-12">https://levelup.gitconnected.com/onnxruntime-opencv-for-c-b19ef189d3a8?source=collection_archive---------5-----------------------#2022-03-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="0f6f" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">机器学习</h2><div class=""/><div class=""><h2 id="da3e" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">点击几下就可以在VS for C++上安装Onnxruntime &amp; OpenCV的完整指南</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/fe431254b1b88224ebd446da5cc1251c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uGoA7YvhhUiPWGyIpB5ysA.png"/></div></div></figure><blockquote class="ld le lf"><p id="3d7e" class="lg lh li lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我网站上的博文原文是<a class="ae md" href="https://pycad.co/onnxruntime-opencv-for-c/" rel="noopener ugc nofollow" target="_blank"> <strong class="lj jd">此处</strong> </a>。</p></blockquote><h1 id="95b4" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">介绍</h1><p id="cb22" class="pw-post-body-paragraph lg lh it lj b lk mw kd lm ln mx kg lp my mz ls lt na nb lw lx nc nd ma mb mc im bi translated">我们大多数人都在努力安装<strong class="lj jd"> Onnxruntime </strong>、<strong class="lj jd"> OpenCV </strong>，或者其他<strong class="lj jd"> C++ </strong>库。因此，我写这篇简短的博文来演示一种使用Visual Studio (VS)只需点击几下鼠标就可以安装大量C++库的技术。</p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h1 id="a3c9" class="me mf it bd mg mh nl mj mk ml nm mn mo ki nn kj mq kl no km ms ko np kp mu mv bi translated">要求</h1><p id="7378" class="pw-post-body-paragraph lg lh it lj b lk mw kd lm ln mx kg lp my mz ls lt na nb lw lx nc nd ma mb mc im bi translated">唯一的要求是，如果你还没有安装<a class="ae md" href="https://visualstudio.microsoft.com/downloads/" rel="noopener ugc nofollow" target="_blank"> <em class="li">微软Visual Studio </em> </a>。</p><h2 id="cc37" class="nq mf it bd mg nr ns dn mk nt nu dp mo my nv nw mq na nx ny ms nc nz oa mu iz bi translated">安装VS</h2><p id="584f" class="pw-post-body-paragraph lg lh it lj b lk mw kd lm ln mx kg lp my mz ls lt na nb lw lx nc nd ma mb mc im bi translated">简单又免费！只需去官网下载你需要的版本。在这个日期，VS 2022是最新的版本，但旧版本也工作。别担心，我正在使用VS 2019，它可以完成这项工作。在这里 可以得到<a class="ae md" href="https://visualstudio.microsoft.com/downloads/" rel="noopener ugc nofollow" target="_blank"> <em class="li">。</em></a></p><p id="4089" class="pw-post-body-paragraph lg lh it lj b lk ll kd lm ln lo kg lp my lr ls lt na lv lw lx nc lz ma mb mc im bi translated">当您下载VS安装程序时，打开它并选中C++复选框以安装<strong class="lj jd"> <em class="li"> C++ builder </em> </strong>，然后单击安装按钮(这可能需要一些时间，因为它会同时下载和安装)。</p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h1 id="6a2e" class="me mf it bd mg mh nl mj mk ml nm mn mo ki nn kj mq kl no km ms ko np kp mu mv bi translated">安装Onnxruntime &amp; OpenCV</h1><h2 id="3662" class="nq mf it bd mg nr ns dn mk nt nu dp mo my nv nw mq na nx ny ms nc nz oa mu iz bi translated">设置新项目</h2><p id="63e1" class="pw-post-body-paragraph lg lh it lj b lk mw kd lm ln mx kg lp my mz ls lt na nb lw lx nc nd ma mb mc im bi translated">安装完Visual Studio后，只需打开它并创建一个新的控制台应用程序项目。<strong class="lj jd"> <em class="li">新建项目→控制台app →下一步→填充方框</em> </strong>。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ob"><img src="../Images/6feeab47ea05ac000e17006cb2f97877.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MDJULcxgIKfcgJoImcmCnw.png"/></div></div><figcaption class="oc od gj gh gi oe of bd b be z dk translated">作者截取的图像</figcaption></figure><p id="e0dc" class="pw-post-body-paragraph lg lh it lj b lk ll kd lm ln lo kg lp my lr ls lt na lv lw lx nc lz ma mb mc im bi translated">当您创建一个新项目时，您可以开始配置它(它不影响Onnxruntime的安装，但是最好在做任何事情之前设置您的项目)。</p><p id="cde0" class="pw-post-body-paragraph lg lh it lj b lk ll kd lm ln lo kg lp my lr ls lt na lv lw lx nc lz ma mb mc im bi translated">我唯一改变的是你系统中的<strong class="lj jd"> <em class="li">位数</em> </strong>和<strong class="lj jd"> <em class="li">调试/发布</em> </strong>模式。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi og"><img src="../Images/8d93946ed3c09c45bf6997720e9f71a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:610/format:webp/1*HCwGUgDc1NmPpryvg6iOww.png"/></div></figure><p id="6434" class="pw-post-body-paragraph lg lh it lj b lk ll kd lm ln lo kg lp my lr ls lt na lv lw lx nc lz ma mb mc im bi translated">新项目总是以调试模式和x86启动，这适用于32位系统。</p><p id="d306" class="pw-post-body-paragraph lg lh it lj b lk ll kd lm ln lo kg lp my lr ls lt na lv lw lx nc lz ma mb mc im bi translated">所以，如果你的系统是<strong class="lj jd"> x64-bi </strong> t，就在那里改吧，我推荐使用发布模式，因为代码会比在<strong class="lj jd"> <em class="li">调试模式</em> </strong>下运行的更快。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/9bd7032abe00ae0b0e3108fc861cb249.png" data-original-src="https://miro.medium.com/v2/resize:fit:606/format:webp/1*RVdBPE2PjA9AwHR0COr2rg.png"/></div></figure><p id="3c0b" class="pw-post-body-paragraph lg lh it lj b lk ll kd lm ln lo kg lp my lr ls lt na lv lw lx nc lz ma mb mc im bi translated">太好了！项目已经完成，现在让我们开始安装库。</p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h2 id="bf7a" class="nq mf it bd mg nr ns dn mk nt nu dp mo my nv nw mq na nx ny ms nc nz oa mu iz bi translated">正在安装Onnxruntime CPU</h2><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oi"><img src="../Images/f454c5eb7540686ad971d2233befda71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7N-dK-ECDojylRMd1KGTQw.png"/></div></div></figure><p id="c8b1" class="pw-post-body-paragraph lg lh it lj b lk ll kd lm ln lo kg lp my lr ls lt na lv lw lx nc lz ma mb mc im bi translated">你可以看到，当我们导入Onnxruntime或OpenCV时，我们得到错误，表明它们没有安装。</p><p id="bd97" class="pw-post-body-paragraph lg lh it lj b lk ll kd lm ln lo kg lp my lr ls lt na lv lw lx nc lz ma mb mc im bi translated"><strong class="lj jd"> <em class="li">步骤:</em> </strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oj"><img src="../Images/de1f27a9ab1c33a9ab02bd704f2ae003.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WADC0qJmN4oaK7PoWNILSA.png"/></div></div></figure><p id="58ac" class="pw-post-body-paragraph lg lh it lj b lk ll kd lm ln lo kg lp my lr ls lt na lv lw lx nc lz ma mb mc im bi translated">转到:<strong class="lj jd"> <em class="li">项目→ </em> </strong> <strong class="lj jd"> <em class="li">管理NuGet包</em> </strong></p><p id="7f65" class="pw-post-body-paragraph lg lh it lj b lk ll kd lm ln lo kg lp my lr ls lt na lv lw lx nc lz ma mb mc im bi translated">然后输入<code class="fe ok ol om on b"><strong class="lj jd">onnxruntime</strong></code>。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oo"><img src="../Images/772e7ed164d48ea0e26b07008572d1a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G8f9OrU1rkmzKAQbotwCPQ.png"/></div></div></figure><p id="a780" class="pw-post-body-paragraph lg lh it lj b lk ll kd lm ln lo kg lp my lr ls lt na lv lw lx nc lz ma mb mc im bi translated">在您的项目上安装第一个获得onnxruntime的程序，然后享受吧！</p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h2 id="adbe" class="nq mf it bd mg nr ns dn mk nt nu dp mo my nv nw mq na nx ny ms nc nz oa mu iz bi translated">安装Onnxruntime GPU</h2><p id="2de1" class="pw-post-body-paragraph lg lh it lj b lk mw kd lm ln mx kg lp my mz ls lt na nb lw lx nc nd ma mb mc im bi translated">在其他情况下，你可能需要在你的项目中使用一个<strong class="lj jd"><em class="li">GPU</em></strong>；但是要记住，我们安装的onnxruntime不支持<strong class="lj jd"> <em class="li"> cuda框架(GPU) </em> </strong>。然而，每个问题总有解决的办法。</p><p id="04c1" class="pw-post-body-paragraph lg lh it lj b lk ll kd lm ln lo kg lp my lr ls lt na lv lw lx nc lz ma mb mc im bi translated">如果要在项目中使用GPU，必须安装<code class="fe ok ol om on b"><strong class="lj jd">onnxruntime.gpu</strong></code>，可以在同一个窗口中找到。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oo"><img src="../Images/3565947be4aeef84d171278254de4fae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ej07KmQs0HKkoDCCwOKTSQ.png"/></div></div></figure><p id="bc85" class="pw-post-body-paragraph lg lh it lj b lk ll kd lm ln lo kg lp my lr ls lt na lv lw lx nc lz ma mb mc im bi translated">您会注意到，我们在导入onnxruntime时不再出现错误，这表明我们已经成功安装了它。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi op"><img src="../Images/52047c6fdce14c030a388cc81e9e60be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*JKJtFd9uxSFJTonE_J0bgg.png"/></div></figure></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h2 id="2d1b" class="nq mf it bd mg nr ns dn mk nt nu dp mo my nv nw mq na nx ny ms nc nz oa mu iz bi translated">安装OpenCV</h2><p id="4c03" class="pw-post-body-paragraph lg lh it lj b lk mw kd lm ln mx kg lp my mz ls lt na nb lw lx nc nd ma mb mc im bi translated">我们可以做同样的事情，为您的项目安装openCV只需搜索opencv并点击安装按钮。但是如果用默认版本安装openCV，会很旧；因此，您可以指定版本以获取最新版本。</p><p id="8a4a" class="pw-post-body-paragraph lg lh it lj b lk ll kd lm ln lo kg lp my lr ls lt na lv lw lx nc lz ma mb mc im bi translated">例如你输入<strong class="lj jd"> <em class="li"> opencv4 </em> </strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oq"><img src="../Images/53963a9437de926d6ee6fe5b16f7c9e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JargsGlSMeo3Cs7D_SXzWA.png"/></div></div></figure><p id="d30c" class="pw-post-body-paragraph lg lh it lj b lk ll kd lm ln lo kg lp my lr ls lt na lv lw lx nc lz ma mb mc im bi translated">那就装着享受吧！</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi or"><img src="../Images/a84af387893067893d3ed6364fcee093.png" data-original-src="https://miro.medium.com/v2/resize:fit:1104/format:webp/1*4wgCfNJ5NSDq70lAaqydMA.png"/></div></figure></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h1 id="5004" class="me mf it bd mg mh nl mj mk ml nm mn mo ki nn kj mq kl no km ms ko np kp mu mv bi translated">结论</h1><p id="3d3d" class="pw-post-body-paragraph lg lh it lj b lk mw kd lm ln mx kg lp my mz ls lt na nb lw lx nc nd ma mb mc im bi translated">所以你可以看到使用Microsoft Visual Studio和NuGet安装这些包是多么简单，你也可以对其他Python包如Tensorflow做同样的事情…</p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="os ot l"/></div></figure></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h1 id="71ad" class="me mf it bd mg mh nl mj mk ml nm mn mo ki nn kj mq kl no km ms ko np kp mu mv bi translated">关于作者</h1><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ou"><img src="../Images/a63728072bb7aad61aa54e730b7e5e5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YLJeyKAkDWCa7yQj.jpeg"/></div></div></figure><blockquote class="ov"><p id="1045" class="ow ox it bd oy oz pa pb pc pd pe mc dk translated">穆罕默德·艾尔·阿明·莫赫塔里是我的名字。我是计算机视觉领域的研究助理(博士生),从事在线内容的创作。我在<a class="ae md" href="https://www.youtube.com/channel/UCdYyILlPlehK4fKS5DiuMXQ" rel="noopener ugc nofollow" target="_blank"> YouTube </a>上创作视频，在<a class="ae md" href="https://www.udemy.com/user/pycad-2/" rel="noopener ugc nofollow" target="_blank">Udemy</a>/<a class="ae md" href="https://www.skillshare.com/user/pycad" rel="noopener ugc nofollow" target="_blank">Skillshare</a>上开设课程，并且是Medium上的一名作家，此外我还有自己的网站<a class="ae md" href="https://pycad.co/" rel="noopener ugc nofollow" target="_blank"> Pycad </a>，我用它作为一个作品集来分享我所有的知识和作品。有时间的话请看一下:)。</p></blockquote></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><p id="34f4" class="pw-post-body-paragraph lg lh it lj b lk ll kd lm ln lo kg lp my lr ls lt na lv lw lx nc lz ma mb mc im bi translated">如果你还不是<a class="ae md" href="https://pycad.medium.com/membership" rel="noopener"> <em class="li">中级会员</em> </a>，我建议你马上注册，这样你就可以不受限制地阅读成千上万篇文章，包括我的。</p><p id="6921" class="pw-post-body-paragraph lg lh it lj b lk ll kd lm ln lo kg lp my lr ls lt na lv lw lx nc lz ma mb mc im bi translated">你可以用我的<a class="ae md" href="https://pycad.medium.com/membership" rel="noopener"> <em class="li">推荐链接</em> </a>，我会从你的会员中收取一点佣金:)</p></div></div>    
</body>
</html>