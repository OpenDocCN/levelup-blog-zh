<html>
<head>
<title>Refactor Code By Using the Ternary Operator in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用JavaScript中的三元运算符重构代码</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/refactor-code-by-using-the-ternary-operator-in-javascript-56ef0817d180?source=collection_archive---------4-----------------------#2019-11-19">https://levelup.gitconnected.com/refactor-code-by-using-the-ternary-operator-in-javascript-56ef0817d180?source=collection_archive---------4-----------------------#2019-11-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="1579" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">Java Script语言</h2><div class=""/><div class=""><h2 id="3687" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">了解三元运算符如何工作，以及如何使用它来删除代码中复杂的“if”语句</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/1d23cf9d88699dfeae4afd4bbe6dd253.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*biuUZhtJatC78spfQpC7jQ.jpeg"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">照片由<a class="ae lh" href="https://unsplash.com/@builtbymath?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Math </a>在<a class="ae lh" href="https://unsplash.com/s/photos/coffee?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="9cd4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">本文将描述JavaScript中的三元运算符，并在以下三个部分进行讨论:</p><ol class=""><li id="8005" class="me mf it lk b ll lm lo lp lr mg lv mh lz mi md mj mk ml mm bi translated">什么是三元运算符？</li><li id="63f5" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated">三元运算符与现实生活中的“如果”语句</li><li id="fd7d" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated">用三元运算符简化代码</li></ol><p id="a19f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><em class="ms">更多类似内容，请查看</em><a class="ae lh" href="https://betterfullstack.com" rel="noopener ugc nofollow" target="_blank"><em class="ms">https://betterfullstack.com</em></a></p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="b057" class="na nb it bd nc nd ne nf ng nh ni nj nk ki nl kj nm kl nn km no ko np kp nq nr bi translated">什么是三元运算符？</h1><p id="4af2" class="pw-post-body-paragraph li lj it lk b ll ns kd ln lo nt kg lq lr nu lt lu lv nv lx ly lz nw mb mc md im bi translated"><strong class="lk jd">条件(三元)操作符</strong>是唯一一个接受三个操作数的JavaScript操作符。该运算符常用作<code class="fe nx ny nz oa b">if</code>语句的快捷方式。</p><p id="97ac" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">语法:</p><pre class="ks kt ku kv gt ob oa oc od aw oe bi"><span id="c076" class="of nb it oa b gy og oh l oi oj">condition ? exprIfTrue : exprIfFalse</span></pre><p id="6dd0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">示例:</p><p id="8462" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">显示欢迎用户的消息:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/4a8d21c8a548e35c32d500d5ffe6c778.png" data-original-src="https://miro.medium.com/v2/resize:fit:1312/format:webp/1*BPCR7cJfv7kcHKP6mkYFOQ.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">三元运算符示例</figcaption></figure><p id="b7fa" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">三元运算符是右关联的，这意味着它可以用下面的方式“链接”,类似于一个<code class="fe nx ny nz oa b">if … else if … else if … else</code>链。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/5da201980a614fa5a7366837cbdf2764.png" data-original-src="https://miro.medium.com/v2/resize:fit:1026/format:webp/1*TYAk7DqYzZDRkcz7rG_PLA.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">条件链示例</figcaption></figure></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="2f62" class="na nb it bd nc nd ne nf ng nh ni nj nk ki nl kj nm kl nn km no ko np kp nq nr bi translated">三元运算符与现实生活中的“如果”语句</h1><p id="6a7d" class="pw-post-body-paragraph li lj it lk b ll ns kd ln lo nt kg lq lr nu lt lu lv nv lx ly lz nw mb mc md im bi translated">当我第一年从事软件开发时，我的第一位导师更喜欢写长而可读的代码。他认为《T2》比《T3》更具可读性。</p><p id="ac34" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">所以我认为永远不要使用三元运算符，因为它太复杂了。类似于:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi om"><img src="../Images/19b0e50c5b22746e297039aa77b4f53e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_EbIHFm6m00tplh3FnBTng.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">像地狱一样的三元算子</figcaption></figure><p id="122a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然而，几年后，我在下一家公司的代码审查中遇到了关于<code class="fe nx ny nz oa b">if ... else ...</code>语句的麻烦。我的同事更喜欢使用三元运算符来缩短代码。他认为代码越短越简洁。</p><p id="0add" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我读过干净的代码，我认为简单的代码总是更好。但是说起来容易做起来难。我将其归咎于复杂的功能，而不是我的<code class="fe nx ny nz oa b">if</code>语句。</p><p id="7145" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我对简单的三元运算符没有异议，比如:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi on"><img src="../Images/eda993c3f0a03714518f763506d83d5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kKMBTW216OP-yxQglnzqiQ.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">简单的三元运算符示例</figcaption></figure><p id="40ec" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">但是，对于这种复杂的情况，我不知道如何处理。我的同事让我尽量缩短代码，减少<code class="fe nx ny nz oa b">if</code>语句的数量。</p><p id="9aab" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">所以，我开始实现结构良好的三元运算符。这改变了我对编码的想法，让我成为了一名更好的开发人员，并思考了我的<code class="fe nx ny nz oa b">if</code>语句的用法。</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="8774" class="na nb it bd nc nd ne nf ng nh ni nj nk ki nl kj nm kl nn km no ko np kp nq nr bi translated">用三元运算符简化代码</h1><p id="3f55" class="pw-post-body-paragraph li lj it lk b ll ns kd ln lo nt kg lq lr nu lt lu lv nv lx ly lz nw mb mc md im bi translated">在本节中，我想演示两个使用三元运算符的例子:</p><ol class=""><li id="05f0" class="me mf it lk b ll lm lo lp lr mg lv mh lz mi md mj mk ml mm bi translated">简单案例</li><li id="ad22" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated">复杂案例</li></ol><h2 id="e17c" class="of nb it bd nc oo op dn ng oq or dp nk lr os ot nm lv ou ov no lz ow ox nq iz bi translated">简单案例</h2><p id="ff19" class="pw-post-body-paragraph li lj it lk b ll ns kd ln lo nt kg lq lr nu lt lu lv nv lx ly lz nw mb mc md im bi translated">这是一个处理用户登录的场景:</p><ul class=""><li id="25ba" class="me mf it lk b ll lm lo lp lr mg lv mh lz mi md oy mk ml mm bi translated">如果缺少配置文件信息，请导航至配置文件屏幕。</li><li id="6fc7" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md oy mk ml mm bi translated">如果配置文件信息完整，请导航至控制板。</li></ul><p id="e532" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">下面是如何通过使用状态管理和RxJS在实际应用程序中实现这个应用程序</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/33ecce7ab2d4c550485b36ae55fbbfce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1278/format:webp/1*RfhwfPY2h54T7PhNDuC43g.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">带有if … else的简单情况…</figcaption></figure><p id="508e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">(警告:这段代码可能不会运行，因为我把它写在记事本上只是为了演示这个例子。)</p><p id="e442" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这个简单的操作有五行。有一点我注意到了，当我写长代码时，我必须上下移动我的眼睛来检查条件，这影响了我们写程序的速度。</p><p id="da95" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在是三进制版本:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pa"><img src="../Images/8a525574563b359f20b97ffb42b79c1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RqSeN58c3JOh5d7JNK8QBQ.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">带有三元运算符的简单情况</figcaption></figure><p id="982b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我只有一行，我不需要上下移动来记住其他行的条件。这很严重，因为当我们看一个很长的<code class="fe nx ny nz oa b">if...else...</code>语句时，你会对阅读和单元测试感到厌倦。</p><p id="20ee" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">注意:</strong>条件运算符有一个缺点，它们总是接收两个条件，不管是真还是假。</p><p id="489a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们可以使用<code class="fe nx ny nz oa b"><strong class="lk jd">&amp;&amp;</strong></code>操作符，或者在false的情况下尝试放置一个默认语句。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/62e32f00fa81d40def99fc2c7ab5ff88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*SeCTCnK5toedaGfeh1cUzA.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">使用and运算符处理一个条件</figcaption></figure><h2 id="b643" class="of nb it bd nc oo op dn ng oq or dp nk lr os ot nm lv ou ov no lz ow ox nq iz bi translated">复杂案例</h2><p id="d498" class="pw-post-body-paragraph li lj it lk b ll ns kd ln lo nt kg lq lr nu lt lu lv nv lx ly lz nw mb mc md im bi translated">这个场景是根据UI中选择的包代码收取费用。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/2dd0f4121071399a5511c332f5b60861.png" data-original-src="https://miro.medium.com/v2/resize:fit:806/format:webp/1*rkUcdkQtbDB76Ea5TPV-Ng.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">getPackageFee方法</figcaption></figure><p id="92b5" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这是一个复杂的<code class="fe nx ny nz oa b">if...else if...else...</code>声明。开发人员需要记住并实现5个单元测试用例。</p><p id="9786" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">首先，我们需要检查代码是否被定义。然后，在A、B、C和无效代码的情况下比较代码。</p><p id="eba1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">应用三元运算符版本:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pd"><img src="../Images/293a106a41e47f714f6f7da85efd2e93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3lPUs4esUeiC5Pl3kO16mQ.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">带有三元运算符的getPackageFee方法</figcaption></figure><p id="e264" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这个代码更简单，我可以不加思考地阅读它，他们总是只有3种情况。</p><p id="6d58" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们可以应用一个箭头函数来缩短它:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pe"><img src="../Images/8d6c0269102b068ca08581618e8a1414.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-y2Dz5WzUzRrtT4Wozsgkw.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">带有一行三元运算符的getPackageFee方法</figcaption></figure></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><p id="bd80" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">与第一个版本相比，现在的<code class="fe nx ny nz oa b">getPackageFee</code>方法更加简单。</p><h1 id="676f" class="na nb it bd nc nd pf nf ng nh pg nj nk ki ph kj nm kl pi km no ko pj kp nq nr bi translated">摘要</h1><p id="72cb" class="pw-post-body-paragraph li lj it lk b ll ns kd ln lo nt kg lq lr nu lt lu lv nv lx ly lz nw mb mc md im bi translated">我并不是说三元运算符比<code class="fe nx ny nz oa b">if...else if ...else</code>语句有更好的性能。但是它使代码更短，可读性更好。此外，与<code class="fe nx ny nz oa b">if</code>语句相比，三元运算符鼓励开发人员编写没有副作用的纯代码。</p><p id="01bd" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我希望这篇文章对你有用！可以跟着我上<a class="ae lh" href="https://medium.com/@transonhoang?source=post_page---------------------------" rel="noopener">媒</a>。我也在<a class="ae lh" href="https://twitter.com/transonhoang" rel="noopener ugc nofollow" target="_blank">推特</a>上。欢迎在下面的评论中留下任何问题。我很乐意帮忙！</p><h1 id="0f38" class="na nb it bd nc nd pf nf ng nh pg nj nk ki ph kj nm kl pi km no ko pj kp nq nr bi translated">资源/参考资料</h1><p id="74a6" class="pw-post-body-paragraph li lj it lk b ll ns kd ln lo nt kg lq lr nu lt lu lv nv lx ly lz nw mb mc md im bi translated">[1]:条件运算符<a class="ae lh" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator" rel="noopener ugc nofollow" target="_blank">https://developer . Mozilla . org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional _ Operator</a></p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><div class="ks kt ku kv gt pk"><a href="https://betterfullstack.com/stories/" rel="noopener  ugc nofollow" target="_blank"><div class="pl ab fo"><div class="pm ab pn cl cj po"><h2 class="bd jd gy z fp pp fr fs pq fu fw jc bi translated">故事-更好的全栈</h2><div class="pr l"><h3 class="bd b gy z fp pp fr fs pq fu fw dk translated">关于JavaScript、Python和Wordpress的有用文章，有助于开发人员减少开发时间并提高…</h3></div><div class="ps l"><p class="bd b dl z fp pp fr fs pq fu fw dk translated">betterfullstack.com</p></div></div><div class="pt l"><div class="pu l pv pw px pt py lb pk"/></div></div></a></div></div></div>    
</body>
</html>