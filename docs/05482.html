<html>
<head>
<title>7 Surprising Vim Tricks That Will Save You Hours</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">7个惊人的Vim技巧，帮你节省时间</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/7-surprising-vim-tricks-that-will-save-you-hours-b158d23fe9b7?source=collection_archive---------3-----------------------#2020-09-02">https://levelup.gitconnected.com/7-surprising-vim-tricks-that-will-save-you-hours-b158d23fe9b7?source=collection_archive---------3-----------------------#2020-09-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="b77a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你认为你了解维姆吗？再猜。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/449d2b63db033c866c32d916ac1593bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wufTvlldSraxpizIzrnUNA.png"/></div></div></figure><h1 id="dd0b" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">介绍</h1><p id="5651" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">作为一个有经验的vim用户，我真的认为我知道所有关于vim的知识。当然，总是有改进和优化要做，但我认为我已经拥有了成为一个高效软件开发人员所需的所有工具。Vim之前已经用新的技巧让我大吃一惊，所以我认为没有什么会以同样的方式让我惊讶。</p><p id="e8c3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我错了。</p><p id="99bb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本文中，您将了解vim可以为您做的7件令人兴奋的新事情。</p><h1 id="bb32" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">先决条件</h1><p id="e284" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">对于本文，我期望您对vim至少有初学者的流利程度，这意味着基本的移动、插入和搜索等简单命令已经理解。如果您还没有达到这个级别，您可以打开终端并运行:</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="fa6c" class="mi lb it me b gy mj mk l ml mm">sudo apt-get install vim</span></pre><p id="379f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后，您可以通过运行以下命令来浏览vim教程:</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="c09c" class="mi lb it me b gy mj mk l ml mm">vimtutor</span></pre><p id="d434" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我还推荐阅读我以前的vim文章:<a class="ae mn" href="https://medium.com/swlh/8-vim-tricks-that-will-take-you-from-beginner-to-expert-817ff4870245" rel="noopener">https://medium . com/swlh/8-vim-tricks-that-will-take you-from-beginner-to-expert-817 ff 4870245</a></p><h1 id="6cd0" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">1.删除而不注册覆盖:复制、删除、粘贴工作流</h1><p id="d976" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">默认情况下，删除文本的vim命令，如“d”、“c”和“x”，会覆盖寄存器。这允许您写“dd”来执行剪切，然后写“p”来执行粘贴。虽然这个功能很有用，但是vim中缺少的一个功能是删除文本而不覆盖寄存器的能力。</p><p id="5854" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">例如，假设您想要删除一些文本，并将其替换为当前注册中的文本。问题是，当您运行delete命令时，您会丢失注册表中的信息！这是一个非常常见的文本编辑场景，所以手动使用其他寄存器不是一个好的解决方案。</p><p id="0bfc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我发现解决这个问题的最好方法是在您的。vimrc:</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="f9d0" class="mi lb it me b gy mj mk l ml mm">" Shortcut to use blackhole register by default<br/>nnoremap d "_d<br/>vnoremap d "_d<br/>nnoremap D "_D<br/>vnoremap D "_D<br/>nnoremap c "_c<br/>vnoremap c "_c<br/>nnoremap C "_C<br/>vnoremap C "_C<br/>nnoremap x "_x<br/>vnoremap x "_x<br/>nnoremap X "_X<br/>vnoremap X "_X</span><span id="0501" class="mi lb it me b gy mo mk l ml mm">" Change &lt;leader&gt; to be comma<br/>let mapleader = ","<br/>let g:mapleader = ","</span><span id="1597" class="mi lb it me b gy mo mk l ml mm">" Shortcut to use clipboard with &lt;leader&gt;<br/>nnoremap &lt;leader&gt;d d<br/>vnoremap &lt;leader&gt;d d<br/>nnoremap &lt;leader&gt;D D<br/>vnoremap &lt;leader&gt;D D<br/>nnoremap &lt;leader&gt;c c<br/>vnoremap &lt;leader&gt;c c<br/>nnoremap &lt;leader&gt;C C<br/>vnoremap &lt;leader&gt;C C<br/>nnoremap &lt;leader&gt;x x<br/>vnoremap &lt;leader&gt;x x<br/>nnoremap &lt;leader&gt;X X<br/>vnoremap &lt;leader&gt;X X</span></pre><p id="5870" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这使得“d”、“c”和“x”命令在不覆盖寄存器的情况下删除，并且使得“、d”、“c”和“、x”命令在覆盖寄存器的情况下删除。</p><p id="2388" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这可以从根本上改变你编辑代码的方式，因为它打开了一个“复制、删除、粘贴”的工作流程。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/3b3454d2b6e1c7d849f6b3f33133a24e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*2FgCf9t_gXSwHrMD60-uAQ.gif"/></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">图1:在这个例子中，我想创建一个新的变量PUBLISH_RATE = 1.0/MAIN _ LOOP _ PERIOD _ SECONDS，复制文本PUBLISH _ RATE，然后替换rospy中的参数。Rate()到PUBLISH_RATE。</figcaption></figure><h1 id="cc30" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">2.快速准确地导航</h1><p id="8e26" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">每个学习使用vim的人都知道如何使用“hjkl”进行小的导航步骤，使用“gg”和“G”跳转到文件的顶部和底部。虽然这些都非常有用，但我们需要在这些精细和粗糙的运动方法之间找到平衡的能力。要提高导航速度和准确性，请使用以下方法:</p><ul class=""><li id="d8d7" class="mu mv it js b jt ju jx jy kb mw kf mx kj my kn mz na nb nc bi translated">“SHIFT + L”(低)将光标跳到当前屏幕的底部，而不移动屏幕</li><li id="7a29" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated">“SHIFT + M”(中间)将光标跳转到当前屏幕的中央，而不移动屏幕</li><li id="f7b6" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated">“SHIFT + H”(高)将光标跳转到当前屏幕的顶部，而不移动屏幕</li><li id="3201" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated">“CTRL + U”(向上)将光标和屏幕向上移动半页</li><li id="7bef" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated">“CTRL + D”(向下)将光标和屏幕向下移动半页</li></ul><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/b5aeaa6585aeed1afbe7bd1c0df5123d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*xE-2lIxI__f6PeaKdHRJqA.gif"/></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">图2:高、中、低、上、下运动的演示。</figcaption></figure><h1 id="2a56" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">3.打开多个文件</h1><p id="e82f" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">作为软件开发人员，很少会只处理一个文件。使用vim时，可以使用以下命令在新选项卡中打开另一个文件:</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="8fe7" class="mi lb it me b gy mj mk l ml mm">:tabe &lt;filename&gt;</span></pre><p id="b5a6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这有制表符完成，以帮助您找到您想要的文件，以及通过单击向上箭头键的历史。</p><p id="4503" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后，您可以使用以下选项在选项卡之间切换:</p><ul class=""><li id="05a4" class="mu mv it js b jt ju jx jy kb mw kf mx kj my kn mz na nb nc bi translated">“gt”向右移动</li><li id="8993" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated">“gT”向左移动</li></ul><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/3eb3e70e650c9ca09676338d5498641d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*hkWuFeCeNEskS6PUVhqDUA.gif"/></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">图3:使用:tabe在新选项卡中打开文件，然后在选项卡间导航的演示。</figcaption></figure><h1 id="b325" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">4.在命令模式下使用VIM</h1><p id="6e85" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">当我第一次发现这个技巧时，它让我大吃一惊。假设您正在编辑文本，然后使用提示3打开一个新文件“controller/left/left.py ”:</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="9eec" class="mi lb it me b gy mj mk l ml mm">:tabe controller/left/left.py</span></pre><p id="e1ce" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后，假设您还想打开另一个名为“controller/right/right.py”的文件。你可以写“:tabe”，然后按向上箭头键使用你的历史。这将帮助您显示“:tabe controller/left/left.py”。从这里开始，你可以慢慢地将光标移到左边，然后用右边替换两次。我以前就是这么做的。</p><p id="d928" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这样做快一点不是很好吗？如果你可以使用一个很棒的文本编辑器…</p><p id="dbfa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">解决方案:“CTRL + F”将允许您使用vim语法编辑命令。然后，您可以按“/左”，然后按“N”，然后按“cw”，然后按“右”，然后按“N，然后”。".查找单词，更改单词，查找上一个单词，运行上一个更改。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/c7e024e1cf10fe428417e49b150a414e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*AktOAA3gnfKJgoLxwR-zNw.gif"/></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">图4:使用“CTRL+F”编辑vim命令模式文本的演示。在这种情况下，我将global_planner改为wind_sensor。</figcaption></figure><h1 id="4712" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">5.在大写和小写之间转换</h1><p id="b66e" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">一个常见的令人沮丧且耗时的任务是修改单词的大小写。例如，如果您需要将10个大写单词全部改为小写，您通常需要手动重写这10个单词。幸运的是，vim有工具允许我们捕获现有的文本信息，并轻松地进行更改。</p><ul class=""><li id="983b" class="mu mv it js b jt ju jx jy kb mw kf mx kj my kn mz na nb nc bi translated">“~”将大小写从小写改为大写或从大写改为小写</li><li id="3a87" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated">“gUw”将一个单词从小写改为大写(可以用你想要的动作替换“w”)</li><li id="a4ae" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated">“guw”将一个单词从大写改为小写(可以用你想要的动作替换“w”)</li></ul><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/3d867d192bcceefa53a823ac6ca38462.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*oXRnJhnKVGoGEbFQUCK1fg.gif"/></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">图5:改变字符大小写的演示。在注释中，我创建了一个宏，将单词的首字母改为大写，然后移动到下一个单词。我使用这个宏使接下来的10个单词的第一个字母大写。然后，我通过按住“~”键将变量名从WIND_PUBLISH_PERIOD_SECONDS改为wind_publish_period_seconds。</figcaption></figure><h1 id="e633" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">6.递增和递减数字</h1><p id="8b5a" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">另一个令人沮丧且耗时的任务是修改枚举。例如，如果您有一个注释，其中列出了函数中的10个步骤，但随后您需要删除步骤2，您通常需要手动修改下面的8个数字。幸运的是，vim有工具允许我们捕获现有的文本信息，并轻松地进行这种更改。</p><ul class=""><li id="4e7c" class="mu mv it js b jt ju jx jy kb mw kf mx kj my kn mz na nb nc bi translated">“CTRL + A”增加一个数字</li><li id="c295" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated">“CTRL + X”减少一个数字</li></ul><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/199163ca9370f88ddddd9cc932f61bac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*7YWShiRPxxbZBQO0vJX5xw.gif"/></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">图6:在这个例子中，我想把数字0-4改为1-5。我没有手动更改每个数字，而是创建了一个宏来递增当前数字，然后向下移动。我用这个宏来改变接下来的4个数字。</figcaption></figure><h1 id="66bb" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">7.使用剪贴板作为默认注册:Mac与Linux</h1><p id="2b0d" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">在我之前的教程中，我展示了如何使用剪贴板作为默认注册表。这允许你在另一个程序中用“CTRL + C”复制，在vim中用“p”粘贴，或者在vim中用“yy”复制，在另一个程序中用“CTRL + V”粘贴。</p><p id="edad" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然而，在那篇文章发表的时候，我只使用Linux。当我试图在Mac上使用相同的vim配置时，我发现这一更改在Mac上不起作用。我能够通过更新。vimrc包含以下内容:</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="07b5" class="mi lb it me b gy mj mk l ml mm">" Use clipboard as default register<br/>if system('uname -s') == "Darwin\n"<br/>  set clipboard=unnamed "OSX<br/>else<br/>  set clipboard=unnamedplus "Linux<br/>endif</span></pre><h1 id="c485" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">结束语</h1><p id="f388" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">vim时常向我展示一种强大的技术，可以将常见的挫折转化为简单的命令。这些时刻总是让我微笑。学习这些vim技巧将帮助你节省时间，让你有更多的时间去做你真正喜欢的事情:学习更多的vim技巧。</p><p id="a8b6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在<a class="ae mn" href="https://github.com/tylerlum/vim_configuration" rel="noopener ugc nofollow" target="_blank">https://github.com/tylerlum/vim_configuration</a>查看我的vim配置文件。</p></div></div>    
</body>
</html>