<html>
<head>
<title>Setup a Good Angular Starter Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">设置一个好的角度启动项目</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/setup-a-good-angular-starter-project-3504c994d7f7?source=collection_archive---------12-----------------------#2021-03-28">https://levelup.gitconnected.com/setup-a-good-angular-starter-project-3504c994d7f7?source=collection_archive---------12-----------------------#2021-03-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="52bd" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">有角的</h2><div class=""/><div class=""><h2 id="dda9" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">了解如何通过添加Jest、State Management、appeller和Eslint来设置项目。</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/4a7c81f941869c085feb6a067d32e853.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KKEmmCv3G0kxNJJ8io4XJQ.jpeg"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated"><a class="ae lh" href="https://unsplash.com/@sabrituzcu?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">萨布里·图兹库</a>在<a class="ae lh" href="https://unsplash.com/s/photos/coffee?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><p id="1e55" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在这篇文章中，我将分享一个我去年创建的<a class="ae lh" href="https://github.com/hoangtranson/angular-jest-starter" rel="noopener ugc nofollow" target="_blank"> Angular starter项目</a>，我前几天刚刚把它移植到Angular 11上。</p><div class="me mf gp gr mg mh"><a href="https://github.com/hoangtranson/angular-jest-starter" rel="noopener  ugc nofollow" target="_blank"><div class="mi ab fo"><div class="mj ab mk cl cj ml"><h2 class="bd jd gy z fp mm fr fs mn fu fw jc bi translated">黄川/angular-jest-starter</h2><div class="mo l"><h3 class="bd b gy z fp mm fr fs mn fu fw dk translated">此项目是使用Angular CLI版本11.0.3生成的。git克隆…</h3></div><div class="mp l"><p class="bd b dl z fp mm fr fs mn fu fw dk translated">github.com</p></div></div><div class="mq l"><div class="mr l ms mt mu mq mv lb mh"/></div></div></a></div><h1 id="df36" class="mw mx it bd my mz na nb nc nd ne nf ng ki nh kj ni kl nj km nk ko nl kp nm nn bi translated">目录</h1><ol class=""><li id="fc0b" class="no np it lk b ll nq lo nr lr ns lv nt lz nu md nv nw nx ny bi translated">设置笑话</li><li id="b3f5" class="no np it lk b ll nz lo oa lr ob lv oc lz od md nv nw nx ny bi translated">设置Ngxs状态管理</li><li id="33a0" class="no np it lk b ll nz lo oa lr ob lv oc lz od md nv nw nx ny bi translated">设置更漂亮</li><li id="5f9b" class="no np it lk b ll nz lo oa lr ob lv oc lz od md nv nw nx ny bi translated">从Angular-cli重新配置Eslint</li></ol></div><div class="ab cl oe of hx og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="im in io ip iq"><h1 id="b07c" class="mw mx it bd my mz ol nb nc nd om nf ng ki on kj ni kl oo km nk ko op kp nm nn bi translated">设置笑话</h1><p id="b272" class="pw-post-body-paragraph li lj it lk b ll nq kd ln lo nr kg lq lr oq lt lu lv or lx ly lz os mb mc md im bi translated">比起Angular-cli生成的单元测试，我更喜欢使用<a class="ae lh" href="https://jestjs.io/docs/getting-started" rel="noopener ugc nofollow" target="_blank"> Jest </a>来编写Angular应用程序的单元测试。</p><p id="a696" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">所以，去年我写了一篇关于<a class="ae lh" href="https://itnext.io/how-i-do-configure-jest-to-test-my-angular-8-project-2bd84a21d725" rel="noopener ugc nofollow" target="_blank">为Angular 8在Angular项目</a>中设置Jest的文章。</p><div class="me mf gp gr mg mh"><a href="https://itnext.io/how-i-do-configure-jest-to-test-my-angular-8-project-2bd84a21d725" rel="noopener  ugc nofollow" target="_blank"><div class="mi ab fo"><div class="mj ab mk cl cj ml"><h2 class="bd jd gy z fp mm fr fs mn fu fw jc bi translated">我如何配置Jest来测试我的Angular 8项目</h2><div class="mo l"><h3 class="bd b gy z fp mm fr fs mn fu fw dk translated">指导端到端地在Angular上设置Jest，并移除旧的测试框架。</h3></div><div class="mp l"><p class="bd b dl z fp mm fr fs mn fu fw dk translated">itnext.io</p></div></div><div class="mq l"><div class="ot l ms mt mu mq mv lb mh"/></div></div></a></div><p id="6f2f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">与上面的指南相比，现在在<strong class="lk jd"> Angular 11 </strong>上配置Jest没有太大的不同。</p><p id="8b3a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">唯一不同的是<code class="fe ou ov ow ox b">package.json</code>处的配置<code class="fe ou ov ow ox b">astTransformers</code>有一点改变。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oy"><img src="../Images/0b1e11181d4e7c0c0f0cb7dbd6952000.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MxafNaEh_qeMvTtno-INtA.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">package.json上的jest配置</figcaption></figure></div><div class="ab cl oe of hx og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="im in io ip iq"><h1 id="4f93" class="mw mx it bd my mz ol nb nc nd om nf ng ki on kj ni kl oo km nk ko op kp nm nn bi translated">设置Ngxs状态管理</h1><p id="b519" class="pw-post-body-paragraph li lj it lk b ll nq kd ln lo nr kg lq lr oq lt lu lv or lx ly lz os mb mc md im bi translated">要安装Ngxs，我们需要做两件主要的事情，<a class="ae lh" href="https://www.ngxs.io/getting-started/installation" rel="noopener ugc nofollow" target="_blank">这里的</a>是安装指南。在这个路径中，我将分享我是如何设置它的。</p><p id="107b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><em class="oz">注意:不同的开发者有不同的安装和构造源代码的方法，不需要像我一样完全一样。</em></p><h2 id="fa6d" class="pa mx it bd my pb pc dn nc pd pe dp ng lr pf pg ni lv ph pi nk lz pj pk nm iz bi translated">安装Ngxs插件</h2><pre class="ks kt ku kv gt pl ox pm pn aw po bi"><span id="87d7" class="pa mx it ox b gy pp pq l pr ps">npm i @ngxs/logger-plugin @ngxs/storage-plugin @ngxs/store<br/>npm i -D @ngxs/devtools-plugin</span></pre><h2 id="eea5" class="pa mx it bd my pb pc dn nc pd pe dp ng lr pf pg ni lv ph pi nk lz pj pk nm iz bi translated">创建商店模块</h2><p id="59c4" class="pw-post-body-paragraph li lj it lk b ll nq kd ln lo nr kg lq lr oq lt lu lv or lx ly lz os mb mc md im bi translated">运行<code class="fe ou ov ow ox b">ng g module store</code>创建一个商店模块，并在里面设置关于状态管理的一切。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="pt pu l"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated"><a class="ae lh" href="https://github.com/hoangtranson/angular-jest-starter/blob/master/src/app/store/store.module.ts" rel="noopener ugc nofollow" target="_blank">https://github . com/Hoang transon/angular-jest-starter/blob/master/src/app/store/store . module . ts</a></figcaption></figure><pre class="ks kt ku kv gt pl ox pm pn aw po bi"><span id="a2c6" class="pa mx it ox b gy pp pq l pr ps">export class StoreModule {}</span></pre></div><div class="ab cl oe of hx og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="im in io ip iq"><h1 id="8d5a" class="mw mx it bd my mz ol nb nc nd om nf ng ki on kj ni kl oo km nk ko op kp nm nn bi translated">设置更漂亮</h1><p id="a7b0" class="pw-post-body-paragraph li lj it lk b ll nq kd ln lo nr kg lq lr oq lt lu lv or lx ly lz os mb mc md im bi translated">为什么我们需要更漂亮的<a class="ae lh" href="https://prettier.io/" rel="noopener ugc nofollow" target="_blank">？我们需要更漂亮的东西来帮助我们格式化代码。</a></p><p id="4be3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">有几种方法可以设置得更漂亮。我将指引一条最简单的路，这条路不会花太多时间。</p><p id="55a4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">首先，需要运行<code class="fe ou ov ow ox b">npm i -D prettier</code>来安装这个库。</p><p id="0319" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">其次，创建<code class="fe ou ov ow ox b">.prettierrc</code>,在那里添加您的格式规则。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pv"><img src="../Images/81f112821721d7f884db1b83d56d04dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:870/format:webp/1*o63RAIOmSRaYRX4fnma3xQ.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">。包含一些格式规则的prettierrc文件</figcaption></figure><p id="45ca" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">最后，将脚本添加到<code class="fe ou ov ow ox b">package.json</code>文件中，检查格式错误并修复它们。</p><pre class="ks kt ku kv gt pl ox pm pn aw po bi"><span id="6a31" class="pa mx it ox b gy pp pq l pr ps">"prettier:fix": "prettier --config ./.prettierrc --write \"src/{app,environments}/**/*{.ts,.html,.scss}\"","prettier:check": "prettier --config ./.prettierrc --list-different \"src/{app,environments}/**/*{.ts,.html,.scss}\""</span></pre><p id="044a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">上面的脚本会检查<code class="fe ou ov ow ox b">src</code>里面扩展名为<code class="fe ou ov ow ox b">.ts</code>、<code class="fe ou ov ow ox b">.html</code>、<code class="fe ou ov ow ox b">.scss</code>的文件。如果我们有一个由<code class="fe ou ov ow ox b">ng g library</code>命令生成的<code class="fe ou ov ow ox b">projects</code>文件夹，我们也可以将它添加到这个脚本中。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pw"><img src="../Images/dbb39aca71b277ea1adc5ed9e576fc9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YE2lgeW_07wyJ-gSf1jKyA.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">在package.json文件中添加检查更漂亮的错误并修复脚本</figcaption></figure></div><div class="ab cl oe of hx og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="im in io ip iq"><h1 id="bda8" class="mw mx it bd my mz ol nb nc nd om nf ng ki on kj ni kl oo km nk ko op kp nm nn bi translated">从Angular-cli重新配置Eslint</h1><p id="307b" class="pw-post-body-paragraph li lj it lk b ll nq kd ln lo nr kg lq lr oq lt lu lv or lx ly lz os mb mc md im bi translated">目前，当我们运行<code class="fe ou ov ow ox b">npm run lint</code>时，我们会在终端中看到这个警告。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi px"><img src="../Images/a133edab211ea2fa354afd14381d65aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ODORcEbup0cRQjrbN9_UZg.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">TSLint的支持已经停止，我们在Angular CLI中取消了对它的支持。</figcaption></figure><p id="e2af" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们需要在这里运行两个命令行来将eslint添加到Angular项目中:</p><ol class=""><li id="54da" class="no np it lk b ll lm lo lp lr py lv pz lz qa md nv nw nx ny bi translated">第一步是运行原理图，将<code class="fe ou ov ow ox b">@angular-eslint</code>添加到您的项目中。</li></ol><pre class="ks kt ku kv gt pl ox pm pn aw po bi"><span id="15c5" class="pa mx it ox b gy pp pq l pr ps">ng add @angular-eslint/schematics</span></pre><p id="e761" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这将为您安装所有相关包的最新版本，并将它们添加到您的<code class="fe ou ov ow ox b">package.json</code>的<code class="fe ou ov ow ox b">devDependencies</code>中。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qb"><img src="../Images/ad8499302230bad58c688826053bc7fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DdoHGxztLCxjlh1ldrLHmQ.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">将angular-eslint添加到angular项目后的相关包</figcaption></figure><p id="3a3a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">2.接下来要做的事情是考虑要迁移哪个“项目”来使用ESLint。</p><pre class="ks kt ku kv gt pl ox pm pn aw po bi"><span id="b669" class="pa mx it ox b gy pp pq l pr ps">ng g @angular-eslint/schematics:convert-tslint-to-eslint {{YOUR_PROJECT_NAME_GOES_HERE}}</span><span id="9b97" class="pa mx it ox b gy qc pq l pr ps">// for example<br/>ng g @angular-eslint/schematics:convert-tslint-to-eslint angular-jest-starter</span></pre><p id="9f87" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这将创建<code class="fe ou ov ow ox b">.eslintrc.json</code>并更新项目中的<code class="fe ou ov ow ox b">angular.json</code>文件。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qd"><img src="../Images/68f82da7091391ef1ea651d2fe24d003.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8gKQciSUSzE6ynfsZ5ThNw.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">迁移后使用ESLint的angular.json文件</figcaption></figure></div><div class="ab cl oe of hx og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="im in io ip iq"><p id="1c72" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我希望这篇文章对你有用！可以跟着我上<a class="ae lh" href="https://medium.com/@transonhoang?source=post_page---------------------------" rel="noopener">媒</a>。我也在推特上。欢迎在下面的评论中留下任何问题。我很乐意帮忙！</p></div></div>    
</body>
</html>