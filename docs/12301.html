<html>
<head>
<title>5 Common Interview Questions About HTTP Cookies</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于HTTP Cookies的5个常见面试问题</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/5-common-interview-questions-about-http-cookies-82ec64803f9c?source=collection_archive---------2-----------------------#2022-05-30">https://levelup.gitconnected.com/5-common-interview-questions-about-http-cookies-82ec64803f9c?source=collection_archive---------2-----------------------#2022-05-30</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="7bfc" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">以及如何恰当地回答它们</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/73a0cff3e15f6740747d8e7d6b92fe8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qr1N-Iw435EdtSOFEILRiQ.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">图片来自<a class="ae kz" href="https://wallhaven.cc/w/43vrz3" rel="noopener ugc nofollow" target="_blank">沃尔黑文</a></figcaption></figure><p id="ed02" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">一个web开发人员应该对浏览器有一个全面的了解，其中一个最基本的概念就是cookies。</p><p id="00c6" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">从初创公司到科技巨头，关于cookies的问题是科技面试中常见的问题。这篇文章将解释5个关于cookies的问题，你必须能够准确地回答这些问题才能在面试中胜出。😎</p><h1 id="d386" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">1.Cookies的使用场景有哪些？</h1><p id="0a49" class="pw-post-body-paragraph la lb iu lc b ld mo jv lf lg mp jy li lj mq ll lm ln mr lp lq lr ms lt lu lv in bi translated">这是一个基本问题，用来测试受访者是否有一些使用cookies的基本经验。</p><p id="7562" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">当Netscape在1994年发明cookies时，它的最初目的是在浏览器中存储一些信息，这些信息可能没有必要或很难存储在服务器上。</p><p id="fd6f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">比如，一个网站要求用户在做某件事之前登录是很正常的。但是用户可能会频繁地登录和退出，因此将所有用户状态数据保存在数据库中可能效率不高，也没有必要。那么，如果没有服务器端记录，如何识别用户的登录状态呢？</p><p id="4d9a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">答案是使用cookies。事实上，这是几乎所有网站的常用方法。</p><p id="4976" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">只要你允许浏览器上有cookies，你就不需要每次打开一个网站都登录，比如Twitter、脸书和Medium，它会在一定时期内保持你的登录状态。这种便利的诀窍在于使用cookies。因为每个HTTP请求都会包含保存在浏览器中的相关cookie，所以服务器可以根据cookie识别用户的状态。</p><p id="d3c0" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">总之，cookies是用来在浏览器上存储临时信息的，不需要持久保存在服务器上。cookies的一些常见用法包括:</p><ul class=""><li id="30eb" class="mt mu iu lc b ld le lg lh lj mv ln mw lr mx lv my mz na nb bi translated">会话管理(保持用户登录一段时间)</li><li id="8f2c" class="mt mu iu lc b ld nc lg nd lj ne ln nf lr ng lv my mz na nb bi translated">存储用户的自定义设置，如语言、主题等。</li><li id="a390" class="mt mu iu lc b ld nc lg nd lj ne ln nf lr ng lv my mz na nb bi translated">跟踪用户活动以提供广告或推荐算法</li></ul><h1 id="3ba8" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">2.Cookies包含哪些信息？</h1><p id="1e89" class="pw-post-body-paragraph la lb iu lc b ld mo jv lf lg mp jy li lj mq ll lm ln mr lp lq lr ms lt lu lv in bi translated">为了让一切都清楚，让我们来看看Twitter的cookies:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nh"><img src="../Images/79534f8aee3095f6e419af0f0c0ea1b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y3B52BN_hLHDgjhcG3qfOg.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">Twitter的cookies截图</figcaption></figure><p id="7933" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如上所示，cookies使用了一种键值样式的存储。一行代表一个cookie的信息，比如名称、值、域等等。没有必要在采访中描述一切，因为每个人都可以在浏览器上查看，很多栏目都非常清楚易懂。但是有两个关键属性你需要提一下:</p><ul class=""><li id="1fee" class="mt mu iu lc b ld le lg lh lj mv ln mw lr mx lv my mz na nb bi translated">属性指示浏览器只通过HTTPS发送cookies。它使数据传输更加安全。</li><li id="10f9" class="mt mu iu lc b ld nc lg nd lj ne ln nf lr ng lv my mz na nb bi translated"><code class="fe ni nj nk nl b">HttpOnly</code>属性指示浏览器不要通过HTTP(或HTTPS)请求以外的渠道公开cookies。它可以防止恶意脚本窃取带有敏感数据的cookies。</li></ul><h1 id="91b6" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">3.如何设置Cookie？</h1><p id="51df" class="pw-post-body-paragraph la lb iu lc b ld mo jv lf lg mp jy li lj mq ll lm ln mr lp lq lr ms lt lu lv in bi translated">设置cookie是服务器端的工作。例如，用户登录的整个过程如下所示:</p><ol class=""><li id="7493" class="mt mu iu lc b ld le lg lh lj mv ln mw lr mx lv nm mz na nb bi translated">浏览器向服务器发送HTTP请求，请求用户登录。</li><li id="2296" class="mt mu iu lc b ld nc lg nd lj ne ln nf lr ng lv nm mz na nb bi translated">确认用户名和密码后，服务器创建一个cookie，并向浏览器发送一个包含cookie的HTTP响应。</li><li id="57dc" class="mt mu iu lc b ld nc lg nd lj ne ln nf lr ng lv nm mz na nb bi translated">收到cookie后，只要它没有过期，来自同一个浏览器会话的每个后续HTTP请求都将包含同一个cookie。因此，服务器可以通过cookie识别用户是否已经登录。</li></ol><p id="ce32" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">无论您使用哪种后端编程语言，您所需要做的就是给相应的HTTP响应一些<code class="fe ni nj nk nl b">Set-Cookie</code>属性:</p><pre class="kk kl km kn gu nn nl no np aw nq bi"><span id="c09f" class="nr lx iu nl b gz ns nt l nu nv"><strong class="nl iv">HTTP</strong>/1.0 200 <strong class="nl iv">OK</strong><br/>Content-type: text/html<br/>Set-Cookie: lang=en<br/>Set-Cookie: sessionToken=abc123; Expires=Sun, 07 Jul 2077 10:10:10 GMT<br/>...</span></pre><h1 id="3ed7" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">4.饼干的极限是什么？</h1><p id="ed75" class="pw-post-body-paragraph la lb iu lc b ld mo jv lf lg mp jy li lj mq ll lm ln mr lp lq lr ms lt lu lv in bi translated">cookies的一个明显缺点是大小的限制。如下表所示，不同的浏览器可能有不同的限制:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nw"><img src="../Images/9a5653cffc233cf3950ae89b84c5e7c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FNK1IpoPufRbqoeqRyRsiw.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">来自<a class="ae kz" href="https://www.tutorialspoint.com/What-is-the-maximum-size-of-a-web-browser-s-cookies-value" rel="noopener ugc nofollow" target="_blank">教程点</a>的表格</figcaption></figure><p id="7e38" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">由于cookies的局限性，现代浏览器引入了<code class="fe ni nj nk nl b">localStorage</code>和<code class="fe ni nj nk nl b">sessionStorage</code>功能来存储更大的文件。</p><h1 id="d7a0" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">5.Cookies存储在哪里？</h1><p id="ab3b" class="pw-post-body-paragraph la lb iu lc b ld mo jv lf lg mp jy li lj mq ll lm ln mr lp lq lr ms lt lu lv in bi translated">同样，不同的浏览器对此可能有不同的机制。</p><p id="ba83" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">通常，现代浏览器使用SQLite数据库将cookies存储在磁盘上。但是有些cookie，即所谓的会话cookie，由于太过临时而无法存储在磁盘上。</p><p id="46ef" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">正如下面Twitter的cookies截图，session cookies的<code class="fe ni nj nk nl b">Expires/Max-Age</code>属性就是<code class="fe ni nj nk nl b">Session</code>。这意味着它们没有过期时间，所以它们存储在内存中，而不是磁盘中。当浏览器关闭时，会话cookies会立即被丢弃。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nx"><img src="../Images/f004f8d362ce05d3521478ac6d4e88a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OXxfvuphuXEM16TraW6baQ.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">Twitter的cookies截图</figcaption></figure><h1 id="220d" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">关键要点</h1><p id="6e03" class="pw-post-body-paragraph la lb iu lc b ld mo jv lf lg mp jy li lj mq ll lm ln mr lp lq lr ms lt lu lv in bi translated">正确处理cookies是web开发人员的必备技能。这就是为什么相关问题在科技面试中如此受欢迎。要在面试中胜出，你需要知道以下要点:</p><ul class=""><li id="395a" class="mt mu iu lc b ld le lg lh lj mv ln mw lr mx lv my mz na nb bi translated">Cookies用于在浏览器上存储临时信息。</li><li id="e898" class="mt mu iu lc b ld nc lg nd lj ne ln nf lr ng lv my mz na nb bi translated">Cookies保存为键值样式。有些属性对数据安全很重要。</li><li id="4ea0" class="mt mu iu lc b ld nc lg nd lj ne ln nf lr ng lv my mz na nb bi translated">设置cookie是服务器端程序的工作。</li><li id="d2fb" class="mt mu iu lc b ld nc lg nd lj ne ln nf lr ng lv my mz na nb bi translated">由于其局限性，Cookies不适合于大数据/文件存储。</li><li id="71f1" class="mt mu iu lc b ld nc lg nd lj ne ln nf lr ng lv my mz na nb bi translated">cookie保存在磁盘上，但会话cookie只是临时保存在内存中。</li></ul><p id="655d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv"> <em class="ny">感谢阅读。如果你喜欢，请关注</em></strong><a class="ae kz" href="https://yangzhou1993.medium.com/follow" rel="noopener"><strong class="lc iv"><em class="ny">me</em></strong></a><strong class="lc iv"><em class="ny">，成为</em> </strong> <a class="ae kz" href="https://yangzhou1993.medium.com/membership" rel="noopener"> <strong class="lc iv"> <em class="ny">中等会员</em> </strong> </a> <strong class="lc iv"> <em class="ny">欣赏更多精彩文章</em> </strong>🙂</p></div></div>    
</body>
</html>