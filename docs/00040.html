<html>
<head>
<title>React &amp; Ethereum: Getting Started With The Minimum Toolset Required — Part 4 of 4</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React &amp; Ethereum:从所需的最少工具集开始—第4部分，共4部分</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/react-ethereum-getting-started-with-the-minimum-toolset-required-part-4-of-4-478be958c16f?source=collection_archive---------3-----------------------#2017-11-09">https://levelup.gitconnected.com/react-ethereum-getting-started-with-the-minimum-toolset-required-part-4-of-4-478be958c16f?source=collection_archive---------3-----------------------#2017-11-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="1763" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">了解如何使用所需的最少工具集创建智能合约并将其部署到以太坊区块链:Remix、Metamask和任何文本编辑器。</p><p id="dd67" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"/><a class="ae km" href="https://medium.com/@zubairnahmed/https-medium-com-zubairnahmed-react-ethereum-getting-started-with-the-minimum-toolset-required-part-1-of-4-9562efa23d18" rel="noopener"><em class="kl">第1部分</em></a><a class="ae km" href="https://medium.com/@zubairnahmed/react-ethereum-getting-started-with-the-minimum-toolset-required-part-2-of-4-ad4d258ebe53" rel="noopener"><em class="kl">第2部分</em></a><a class="ae km" href="https://medium.com/@zubairnahmed/react-ethereum-getting-started-with-the-minimum-toolset-required-part-3-of-4-6f8c55c751f5" rel="noopener"><em class="kl">第3部分</em></a><strong class="jp ir"><em class="kl">第4部分</em></strong><em class="kl"/><strong class="jp ir"/></p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi kn"><img src="../Images/c31af6da31b2ff7b3f7e8a1503749884.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2BTnZ68ThIvhsURfmsy-6g.jpeg"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">Pixabay图像，在<a class="ae km" href="https://creativecommons.org/publicdomain/zero/1.0/deed.en" rel="noopener ugc nofollow" target="_blank">知识共享CC0 </a>下发布。</figcaption></figure><p id="981e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">更新</strong>:此博客系列不再维护。</p><p id="c76c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae km" href="https://github.com/zubairnahmed/react_ethereum_blockchain" rel="noopener ugc nofollow" target="_blank"> <em class="kl"> GitHub仓库</em> </a>:如果你愿意，你可以和仓库一起编码。我添加了一些评论作为指导。</p><h1 id="fabe" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">阶段4:智能合约的条件</h1><p id="865c" class="pw-post-body-paragraph jn jo iq jp b jq mb js jt ju mc jw jx jy md ka kb kc me ke kf kg mf ki kj kk ij bi translated">在我们的最后阶段，我们将遵循前面介绍的过程:在Remix中编写Solidity代码，在JavaScript VM环境中测试该代码，在Ethereum Ropsten Testnet上部署它，使用Metamask作为中介将它与React连接起来。</p><p id="6ade" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是不同于以前的阶段，我们现在将得到更多的元。为什么选择智能合同？它为世界开启了创新的什么本质？我们如何用一些简单的代码挖掘其本质呢？</p><p id="b6fe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">智能合同就像一份'<em class="kl">现实生活'</em>合同，即我们在日常生活中常见的合同，如租金和汽车租赁、雇主和雇员之间的协议、法律强制执行的社会协议、商业交易等等。两个或两个以上的人参与某种结构的任何地方，都存在一种内在的契约，这种契约使这种结构成为可能。与'<em class="kl">现实生活'</em>合同和智能合同的主要区别在于执行:当给定的<strong class="jp ir">条件</strong>满足或不满足时，智能合同自动执行。现实生活中，合同是由人来执行的。</p><p id="7fad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">将这种自我执行能力与区块链技术的属性(透明性、不变性、非信任节点之间的价值转移、减少第三方的参与等)相结合，使智能合同成为创新的游乐场，我们可以想象出前所未有的创造价值的新颖和令人兴奋的方式。潜力是巨大的。</p><p id="1eaa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我相信有很多方法可以挖掘这种潜力，我能想到的最简单的方法就是<strong class="jp ir">条件句</strong>。常规的<em class="kl"> if … then </em>语句。</p><p id="a79d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">智能合约上的条件可以依赖于逻辑、交互、时间、空间。条件的<em class="kl">真</em>或<em class="kl">假</em>可以由启用<em class="kl">物联网</em>的物理传感器、天气、使用时钟的特定时间、使用地理定位的空间、人类和程序之间的任何种类的交互来触发。</p><p id="be33" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们编写一个简单的条件代码。请打开混音。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi mg"><img src="../Images/34c0a33995c68ebea4b2d0940d7d0877.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4XcS91ywTcHqWNVHzdQfkQ.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">在智能合同上设置状态变量</figcaption></figure><p id="1c6d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第8行:声明一个<a class="ae km" href="http://solidity.readthedocs.io/en/latest/miscellaneous.html?highlight=public#function-visibility-specifiers" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="kl">公共</em> </strong> </a>状态变量的<a class="ae km" href="http://solidity.readthedocs.io/en/latest/types.html?highlight=booleans#booleans" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="kl">布尔</em></strong></a>-类型。我把它叫做<strong class="jp ir"> <em class="kl">伪随机数结果</em> </strong>来传达它会随机返回<em class="kl">真</em>或<em class="kl">假</em>。</p><p id="95e0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">第9行</em>:声明一个<a class="ae km" href="http://solidity.readthedocs.io/en/latest/contracts.html#events" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="kl">事件</em> </strong> </a>，命名为<strong class="jp ir"> <em class="kl">实验完成</em> </strong>。这种命名背后的意图是传达一个抽象的实验，任何实验，智能契约都可以执行。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi mh"><img src="../Images/63177a0a326ee4d238e62ebe8ee626d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bo1f-7iPF7baD98dItXLKw.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">提供一个<strong class="bd lf"> setExperimentInMotion </strong>，返回一个伪随机<strong class="bd lf">真</strong>或<strong class="bd lf">假</strong></figcaption></figure><p id="8253" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">第35行</em>:提供了一个名为<strong class="jp ir"><em class="kl">setExperimentInMotion</em></strong>的函数，其可见性为<a class="ae km" href="http://solidity.readthedocs.io/en/latest/miscellaneous.html?highlight=public#function-visibility-specifiers" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="kl"> public </em> </strong> </a>，有一个<strong class="jp ir"><em class="kl"/></strong><strong class="jp ir"><em class="kl">returns</em></strong>的修饰符。这个<strong class="jp ir"> <em class="kl">应付款</em> </strong>修改器允许一个函数接收<em class="kl">以太</em>。<strong class="jp ir"> <em class="kl">返回</em> </strong>修饰符告诉编译器，在编译时，一个函数是否返回任何值以及是什么类型。在这种情况下，函数<strong class="jp ir"> <em class="kl">返回</em> </strong>一个类型为<a class="ae km" href="http://solidity.readthedocs.io/en/latest/types.html?highlight=booleans#booleans" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="kl">bool</em></strong></a>的值。</p><p id="4236" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">第36行</em>:使用Solidity提供的加密函数<a class="ae km" href="http://solidity.readthedocs.io/en/latest/units-and-global-variables.html?highlight=keccak256#mathematical-and-cryptographic-functions" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="kl">keccak 256</em></strong></a>，返回一个<a class="ae km" href="http://solidity.readthedocs.io/en/latest/types.html?highlight=bytes32#fixed-size-byte-arrays" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="kl">bytes 32</em></strong></a><strong class="jp ir"><em class="kl"/></strong>类型。这个值存储在一个名为<strong class="jp ir"><em class="kl">_ pseudoRandomResult</em></strong>的内部变量中。我使用下划线来区分这个局部变量和状态变量<strong class="jp ir"><em class="kl">pseudoRandomResult</em></strong>。</p><p id="5c06" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">第36行续</em>:如果<strong class="jp ir"> <em class="kl"> keccak256 </em> </strong>函数的输入稍有变化，它将返回一个不同的散列。所以从技术上来说，既然<a class="ae km" href="http://solidity.readthedocs.io/en/latest/units-and-global-variables.html?highlight=msg.#block-and-transaction-properties" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="kl">味精。</em> </strong> </a> [ <em class="kl">属性</em> ]对于每个调用者来说都是不同的，将会生成一个伪随机值。</p><p id="aac5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">第37行</em>:提供一个随机条件，将<strong class="jp ir"> <em class="kl">伪随机结果</em> </strong>变量设置为<em class="kl">真</em>或<em class="kl">假</em>。这是我随意设置的。</p><p id="2feb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">行40 </em>:发出一个<a class="ae km" href="http://solidity.readthedocs.io/en/latest/contracts.html#events" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="kl">事件</em> </strong> </a> <strong class="jp ir"> <em class="kl"> </em> </strong>来报告<strong class="jp ir"> <em class="kl">伪随机数结果</em> </strong>的值。以太坊智能合约事件可以被外部实体观察，在我们的例子中是React。发出的事件的参数存储在事务日志中，这是区块链中的一种特殊数据结构。</p><p id="4f38" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请在Remix<strong class="jp ir">JavaScript VM</strong><em class="kl">环境</em>上部署并测试此合同。</p><p id="ff5d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当我们创建契约时，我们的编译器将执行<strong class="jp ir"><em class="kl">setExperimentInMotion</em></strong>函数，并填充<strong class="jp ir"><em class="kl">pseudoRandomResult</em></strong>的值。创建时，我们契约中的所有代码都运行一次。当我们在<strong class="jp ir">JavaScript VM</strong>T30】环境中玩部署时，可以在Remix控制台中观察到这一点。</p><p id="ff58" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对代码满意后，请将其部署在<strong class="jp ir">注入Web3 </strong> <em class="kl">环境</em>中，并在React中连接智能合约<strong class="jp ir"><em class="kl">【ABI】</em></strong><strong class="jp ir"><em class="kl">地址</em> </strong>。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi mi"><img src="../Images/dfeb88e3a17d035ed2fc4f96f00b5a4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vI9GfcPkMw4-XFgwZbzg1g.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">带有onClick事件处理程序的按钮标签，用于触发<strong class="bd lf"> queryConditionResult </strong>和<strong class="bd lf"> activateExperiment </strong>功能</figcaption></figure><p id="9d94" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">添加这些代码行后，我们的应用程序将看起来像这样:</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/ac07f2c2bffa2b28a457ecf20d1cf614.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/format:webp/1*WrSaIg-Z4QOZC-8H-V1xNg.png"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">我们学习项目的最终亮相</figcaption></figure><p id="c1f1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来的三段代码将在标题中简要说明。和以前一样，如果可能的话，请练习阅读并凭记忆打字。这种实践将帮助我们成为更流畅的编码者。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi mk"><img src="../Images/7c9f751fe12de18786d175b515492747.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MQbOupoLhzSDGSg74k6N7Q.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">将<strong class="bd lf"> queryConditionResult </strong>和<strong class="bd lf"> activeExperiment </strong>绑定到我们类的构造函数中的React组件实例，因此我们可以在它们的函数代码中使用<strong class="bd lf"> this </strong></figcaption></figure><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi ml"><img src="../Images/d7776e3c7ec4411fac57c1a392a7d66c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rry7smXlnqGLKxLi_ztWcg.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated"><strong class="bd lf">查询条件结果</strong>功能代码。它从智能合同中检索信息，就像我们以前做的那样</figcaption></figure><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi mm"><img src="../Images/53a095583abbd037448ac458dbfada34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*amZtb7aIvZdEJcV4qB4KYQ.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated"><strong class="bd lf"> activateExperiment </strong>功能代码。虽然这个函数使用gas，但它不接受任何输入，因此可以跳过输入参数</figcaption></figure><p id="8674" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦上面的代码写好了，我们的'<em class="kl"/>'实验完成后，我们将监听智能合约发出的<a class="ae km" href="http://solidity.readthedocs.io/en/latest/contracts.html#events" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="kl">事件</em> </strong> </a>。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi mn"><img src="../Images/21ee5468f4e041dad5a64705823f38d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VpiSSSji-Dk5FS1dS0wu6w.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">React类组件的<strong class="bd lf">构造函数</strong>中初始化的代码允许监听智能合约发出的事件</figcaption></figure><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi mo"><img src="../Images/87b95946a06b1e528c997ff5d803312f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EKQdsBbW4xH10lbRYilStQ.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">React接收到事件后，将在<strong class="bd lf"> render () </strong>函数中执行的代码。注意:它位于return语句之外</figcaption></figure><p id="3aa2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我翻译了<a class="ae km" href="http://solidity.readthedocs.io/en/latest/contracts.html#events" rel="noopener ugc nofollow" target="_blank">事件</a>文档中的JavaScript API，使其成为上面的React友好代码。当我们的事件被接收时，它触发一个回调函数，这个函数将<em class="kl"> console.log </em>我们在Chrome开发者工具上的结果。</p><p id="be4a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">继续并点击'<em class="kl">查询智能合同条件</em>按钮查看我们的初始结果。然后点击“<em class="kl">开始智能合约实验</em>”按钮，提交Metamask付款，等待我们的结果。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi mp"><img src="../Images/d7089c2d1466cd485a779da3c212d0fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mn2eW5-9DQY_Xu_0OLyGJw.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">由智能合同发出的事件触发的日志</figcaption></figure><p id="681f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl"> App.js: 65 — </em>记录我们智能合约上的<strong class="jp ir"><em class="kl">pseudoRandomResult</em></strong>状态变量的值，当先点击“<em class="kl">查询智能合约条件</em>”时，该值为<em class="kl"> false </em>。</p><p id="9256" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl"> App.js: 77 </em> —显示我们在React函数<strong class="jp ir"><em class="kl">activate experiment</em></strong>中输入的<em class="kl"> console.log </em>。这条消息告诉用户他们的点击做了什么，并且在我们使用Metamask确认我们的事务后被调用。</p><p id="c1ec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">回想一下</em>:当我们在阶段3中操作智能合约的状态时，我们必须一直点击“<em class="kl">查询智能合约的状态</em>”按钮，直到我们看到我们的更改得到反映。在这个阶段，我们通过使用事件来改进这个UI。</p><p id="6222" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl"> App.js: 84 </em> —记录以太坊Ropsten Testnet触发的事件。事件是一个对象，它具有上面屏幕截图中显示的属性。这些属性可用于通知前端的各种交互。对于这种学习体验，我们只是使用<em class="kl"> args </em>属性来获得<em class="kl">结果</em>。</p><p id="21c1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">App.js: 85 —展示了实验的结果，这是生活在我们智能契约中的<strong class="jp ir"><em class="kl">pseudoRandomResult</em></strong>状态变量。注意，它现在翻转到<em class="kl">真</em>。</p><p id="6d72" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">开发者备注&amp;</em><a class="ae km" href="https://en.wikipedia.org/wiki/Pure_function" rel="noopener ugc nofollow" target="_blank"><em class="kl">纯函数的潜在需求</em></a><em class="kl">(2017年11月8日)</em>:我注意到这个应用程序正在捕捉我们的一个函数调用发出的多个事件。有时我会得到一个事件日志，有时两个，有时更多。你可能会注意到类似的东西。我做了一些根本原因分析，并得出结论，这些多重触发可能是由于叔叔/ommer块。也就是说，当以太坊测试网络挖掘器对我们的块进行验证时，多个挖掘器会到达同一个有效块，导致创建大叔/ommer块以及主块。这些多个块发出多个事件，这些事件被我们的React前端捕获。我欢迎你在评论中得出的任何结论。基于这一观察，我们构建的任何依赖于智能合约事件的函数都应该是纯函数。</p><p id="e0fe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是最后一期的文章！我们现在已经看到React如何与以太坊对话。我们已经编写了一个简单的程序，它代表了可以在以太坊区块链上构建更复杂的应用程序的想法。祝贺你向你的创新想法迈出了第一步。</p><p id="9a38" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">回想一下</em>:要在以太坊区块链而不是Ropsten Testnet上发布智能合约，只需点击Metamask。只需选择主以太网和部署。</p><p id="6865" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我希望你喜欢这次学习经历！这是我的第一个博客系列。这是一个单一的职位，然后我意识到这将是最好的四部分系列。我希望能给你带来一些价值。</p><p id="8065" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">愿编码继续！下次见。</p></div><div class="ab cl mq mr hu ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ij ik il im in"><p id="27af" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"/><a class="ae km" href="https://medium.com/@zubairnahmed/https-medium-com-zubairnahmed-react-ethereum-getting-started-with-the-minimum-toolset-required-part-1-of-4-9562efa23d18" rel="noopener"><em class="kl">第一部分</em></a><a class="ae km" href="https://medium.com/@zubairnahmed/react-ethereum-getting-started-with-the-minimum-toolset-required-part-2-of-4-ad4d258ebe53" rel="noopener"><em class="kl">第二部分</em></a><a class="ae km" href="https://medium.com/@zubairnahmed/react-ethereum-getting-started-with-the-minimum-toolset-required-part-3-of-4-6f8c55c751f5" rel="noopener"><em class="kl">第三部分</em></a><strong class="jp ir"><em class="kl">第四部分</em></strong><em class="kl"/>【T30</p></div><div class="ab cl mq mr hu ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ij ik il im in"><p id="4124" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">关于本文作者</em>:</p><p id="74cb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">祖贝尔·艾哈迈德是孟加拉人，2005年来到美国。他在斯坦福大学学习工程，他喜欢分享知识。他相信区块链技术的力量能够创造一个公平的竞争环境，创造一个新的多元化、包容性的全球经济。</p></div><div class="ab cl mq mr hu ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ij ik il im in"><figure class="ko kp kq kr gt ks gh gi paragraph-image"><a href="https://levelup.gitconnected.com/"><div class="gh gi mx"><img src="../Images/439094b9a664ef0239afbc4565c6ca49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S9uYu-fFL3hIQLGVu0o-EQ.png"/></div></a></figure><div class="my mz gp gr na nb"><a href="https://gitconnected.com/learn/solidity" rel="noopener  ugc nofollow" target="_blank"><div class="nc ab fo"><div class="nd ab ne cl cj nf"><h2 class="bd ir gy z fp ng fr fs nh fu fw ip bi translated">学习坚固性-最佳坚固性教程(2019) | gitconnected</h2><div class="ni l"><h3 class="bd b gy z fp ng fr fs nh fu fw dk translated">14大坚实度教程。课程由开发者提交并投票，让你找到最好的稳定性…</h3></div><div class="nj l"><p class="bd b dl z fp ng fr fs nh fu fw dk translated">gitconnected.com</p></div></div><div class="nk l"><div class="nl l nm nn no nk np kx nb"/></div></div></a></div></div></div>    
</body>
</html>