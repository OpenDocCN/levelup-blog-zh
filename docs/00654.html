<html>
<head>
<title>It is time to replace Google Analytics Mobile</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">是时候取代谷歌移动分析了</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/it-is-time-to-replace-google-analytics-mobile-5333c6a5189?source=collection_archive---------3-----------------------#2019-06-19">https://levelup.gitconnected.com/it-is-time-to-replace-google-analytics-mobile-5333c6a5189?source=collection_archive---------3-----------------------#2019-06-19</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><blockquote class="jo jp jq"><p id="ff58" class="jr js jt ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ik bi translated">为什么？我喜欢！</p></blockquote><figure class="kr ks kt ku gu kv gi gj paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="gi gj kq"><img src="../Images/1a0cc17adfd9df423345513f421852a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*W8hrhgKcZ8IAmAI1"/></div></div></figure><p id="ae41" class="pw-post-body-paragraph jr js ir ju b jv jw jx jy jz ka kb kc lc ke kf kg ld ki kj kk le km kn ko kp ik bi translated">这可能是你看到标题时的反应。虽然许多人可能会反对这一点，但我倾向于认为这很棒。</p><p id="2fe2" class="pw-post-body-paragraph jr js ir ju b jv jw jx jy jz ka kb kc lc ke kf kg ld ki kj kk le km kn ko kp ik bi translated">不幸的是，谷歌移动分析<a class="ae lf" href="https://support.google.com/firebase/answer/9167112?hl=en" rel="noopener ugc nofollow" target="_blank">即将停产</a>。没错。是时候转向一些新工具了。在这篇博文中，我将介绍一些你现在可以使用的替代方法。向新工具的过渡也应该很容易。唯一的问题是数据保留，因为谷歌分析将在10月底停止接受数据，你的统计数据将在1月消失。所以现在是时候采取行动，赶在关闭之前。我们都知道，让所有用户使用新版本的应用程序需要一段时间，所以这也给了他们时间进行迁移。</p><h2 id="35f6" class="lg lh ir bd li lj lk dn ll lm ln dp lo lc lp lq lr ld ls lt lu le lv lw lx ly bi translated">面向未来的应用</h2><p id="2532" class="pw-post-body-paragraph jr js ir ju b jv lz jx jy jz ma kb kc lc mb kf kg ld mc kj kk le md kn ko kp ik bi translated">如果这还不能很好地说明为什么你应该让你的应用程序经得起未来考验，我不知道什么才是。</p><p id="8dc0" class="pw-post-body-paragraph jr js ir ju b jv jw jx jy jz ka kb kc lc ke kf kg ld ki kj kk le km kn ko kp ik bi translated">谷歌分析一直是图书馆的经典例子之一，人们将它直接集成到每个屏幕的应用程序中。然而，任何曾经和我谈论它的人，或者问我如何实现它的人，我总是建议把它放在一个库(或“lib”)文件中，只有一个特定的原因:当迁移到另一个库或不同的Google Analytics模块时，你会很高兴所有的集成都在一个地方。</p><p id="7ca3" class="pw-post-body-paragraph jr js ir ju b jv jw jx jy jz ka kb kc lc ke kf kg ld ki kj kk le km kn ko kp ik bi translated">所以我现在的建议是，无论你最终选择什么库，在<code class="fe me mf mg mh b">lib</code>文件夹中创建一个文件，并在你的应用程序中的任何地方使用这个文件。并尝试“通用化”这个库，以便它可以以多种方式使用。</p><p id="a2da" class="pw-post-body-paragraph jr js ir ju b jv jw jx jy jz ka kb kc lc ke kf kg ld ki kj kk le km kn ko kp ik bi translated">这是您的<code class="fe me mf mg mh b">/app/lib/analytics.js</code>文件可能的样子，或者至少包含</p><pre class="kr ks kt ku gu mi mh mj mk aw ml bi"><span id="b50f" class="lg lh ir mh b gz mm mn l mo mp">const module = require('analytics.module');<br/>const lastScreen = false;</span><span id="0c24" class="lg lh ir mh b gz mq mn l mo mp">function logScreen(screenName) {<br/>  // ignore if screenName is the same as the last<br/>  if (screenName == lastScreen) return;   <br/>  lastScreen = screenName;<br/>  module.logScreenView({name: screenName});<br/>}</span><span id="2e32" class="lg lh ir mh b gz mq mn l mo mp">module.exports = {<br/>  logScreen: logScreen<br/>}</span></pre><p id="44da" class="pw-post-body-paragraph jr js ir ju b jv jw jx jy jz ka kb kc lc ke kf kg ld ki kj kk le km kn ko kp ik bi translated">现在，无论你想在你的应用程序中的什么地方记录屏幕视图，你只需打电话给<code class="fe me mf mg mh b">require('/analytics').logScreen("screenName");</code></p><p id="cf3d" class="pw-post-body-paragraph jr js ir ju b jv jw jx jy jz ka kb kc lc ke kf kg ld ki kj kk le km kn ko kp ik bi translated">非常容易实现！并且非常容易迁移到不同的库，或者挂接一个崩溃分析模块来记录面包屑。在这种情况下，您只需要更改分析库。</p><p id="beed" class="pw-post-body-paragraph jr js ir ju b jv jw jx jy jz ka kb kc lc ke kf kg ld ki kj kk le km kn ko kp ik bi translated">我在上面的例子中已经内置的另一个好处是，不再有双重日志记录。有时，在某些情况下，由于某种原因，事件或屏幕视图被记录了两次，这可能是一种痛苦。不需要建立任何依赖于实现的定制解决方案，这将完全根除它。</p><p id="84a5" class="pw-post-body-paragraph jr js ir ju b jv jw jx jy jz ka kb kc lc ke kf kg ld ki kj kk le km kn ko kp ik bi translated">当然，当存在双日志有效的情况时，只需添加一个“重置”功能来删除最后一个日志，或者在<code class="fe me mf mg mh b">function</code>中添加一个<code class="fe me mf mg mh b">boolean</code>来忽略<code class="fe me mf mg mh b">lastScreen</code>变量。</p><p id="9dec" class="pw-post-body-paragraph jr js ir ju b jv jw jx jy jz ka kb kc lc ke kf kg ld ki kj kk le km kn ko kp ik bi translated">但是让我们看看你现在可以使用的一些替代方案</p><h2 id="a0f1" class="lg lh ir bd li lj lk dn ll lm ln dp lo lc lp lq lr ld ls lt lu le lv lw lx ly bi translated">选项1: Firebase</h2><p id="d5ce" class="pw-post-body-paragraph jr js ir ju b jv lz jx jy jz ma kb kc lc mb kf kg ld mc kj kk le md kn ko kp ik bi translated">Firebase是一个很好的迁移选择。谷歌正在将所有与移动相关的东西迁移到那里，坚持使用生态系统是有意义的。社区成员Hans Knö chel为Titanium创建了一个模块:<a class="ae lf" href="https://github.com/hansemannn/titanium-firebase" rel="noopener ugc nofollow" target="_blank">https://github.com/hansemannn/titanium-firebase</a></p><p id="cc4d" class="pw-post-body-paragraph jr js ir ju b jv jw jx jy jz ka kb kc lc ke kf kg ld ki kj kk le km kn ko kp ik bi translated">实现真的很容易。只需按照上述模块的指导，安装核心模块，然后是分析模块，你应该可以开始了。在Firebase上创建一个项目也非常容易！</p><p id="9fcd" class="pw-post-body-paragraph jr js ir ju b jv jw jx jy jz ka kb kc lc ke kf kg ld ki kj kk le km kn ko kp ik bi translated"><strong class="ju is">额外的好处</strong>:有更多的firebase组件可以与上述模块一起使用，如推送通知、崩溃分析等。</p><p id="cfcd" class="pw-post-body-paragraph jr js ir ju b jv jw jx jy jz ka kb kc lc ke kf kg ld ki kj kk le km kn ko kp ik bi translated">不利方面:你仍然被锁定在谷歌的生态系统中，他们也不赞成谷歌分析。虽然我不指望他们在未来几年内放弃Firebase，但也许他们会再次这么做？</p><h2 id="a8b1" class="lg lh ir bd li lj lk dn ll lm ln dp lo lc lp lq lr ld ls lt lu le lv lw lx ly bi translated">选项2:钛分析</h2><p id="112e" class="pw-post-body-paragraph jr js ir ju b jv lz jx jy jz ma kb kc lc mb kf kg ld mc kj kk le md kn ko kp ik bi translated"><a class="ae lf" href="https://docs.appcelerator.com/platform/latest/#!/api/Titanium.Analytics" rel="noopener ugc nofollow" target="_blank"> Titanium Analytics </a>非常适合事件跟踪。在Axway仪表盘中，您可以看到显示的所有分析，您还可以根据日期和版本进行过滤，以及配置事件漏斗来准确分析您的用户正在做什么</p><p id="de97" class="pw-post-body-paragraph jr js ir ju b jv jw jx jy jz ka kb kc lc ke kf kg ld ki kj kk le km kn ko kp ik bi translated">使用Titanium Analytics的好处是它已经是内置的，并且可以很好地跟踪会话、安装、更新和其他开箱即用的内容，除了在<code class="fe me mf mg mh b">tiapp.xml</code>中启用分析之外，不需要配置任何其他内容，这在新应用程序中是默认启用的。</p><p id="1fa7" class="pw-post-body-paragraph jr js ir ju b jv jw jx jy jz ka kb kc lc ke kf kg ld ki kj kk le km kn ko kp ik bi translated">如果你考虑在一个更大的应用程序中使用Titanium Analytics，我建议你将帐户升级到Pro，并在捆绑包中添加Crash Analytics。这将使你有足够的空间来分析事件，并让你了解应用程序崩溃的频率。当然，这里的缺点是它不是免费的。但在我看来，如果你是一个严肃的钛开发者，pro是值得的，因为它将提供更多的好处，而不仅仅是分析。</p><p id="ea2b" class="pw-post-body-paragraph jr js ir ju b jv jw jx jy jz ka kb kc lc ke kf kg ld ki kj kk le km kn ko kp ik bi translated">查看文档了解更多信息:<a class="ae lf" href="https://docs.appcelerator.com/platform/latest/#!/api/Titanium.Analytics" rel="noopener ugc nofollow" target="_blank">https://docs.appcelerator.com/platform/latest/#!/API/钛。分析</a></p><h2 id="2a81" class="lg lh ir bd li lj lk dn ll lm ln dp lo lc lp lq lr ld ls lt lu le lv lw lx ly bi translated"><strong class="ak">选项3:自己卷</strong></h2><p id="307f" class="pw-post-body-paragraph jr js ir ju b jv lz jx jy jz ma kb kc lc mb kf kg ld mc kj kk le md kn ko kp ik bi translated">有很多方法可以跟踪统计数据，如果您想让一切都在您的控制之下，一个好方法是使用开源解决方案，或自定义(取决于您的需求)。这将允许您完全访问所有原始数据，并获得您想要的确切功能。</p><p id="4da5" class="pw-post-body-paragraph jr js ir ju b jv jw jx jy jz ka kb kc lc ke kf kg ld ki kj kk le km kn ko kp ik bi translated">您可以使用开源分析解决方案，并通过http调用将它们连接起来。这都是你的选择！但是这里有一个很大的缺点，你需要为自己维护它！</p><h2 id="8d9a" class="lg lh ir bd li lj lk dn ll lm ln dp lo lc lp lq lr ld ls lt lu le lv lw lx ly bi translated">结论</h2><p id="3928" class="pw-post-body-paragraph jr js ir ju b jv lz jx jy jz ma kb kc lc mb kf kg ld mc kj kk le md kn ko kp ik bi translated">拜拜谷歌分析！你好新工具！我上面说的三个选项都很棒。只有当你真的需要它的时候，你才值得拥有它。使用钛分析是最直接的解决方案，因为它已经内置，不需要任何配置。只要记住将逻辑放在博客文章开头提到的lib文件中。</p><p id="0948" class="pw-post-body-paragraph jr js ir ju b jv jw jx jy jz ka kb kc lc ke kf kg ld ki kj kk le km kn ko kp ik bi translated">如果你现在已经在使用谷歌分析或者已经在使用Firebase，Firebase可能是最好的解决方案。</p><p id="af32" class="pw-post-body-paragraph jr js ir ju b jv jw jx jy jz ka kb kc lc ke kf kg ld ki kj kk le km kn ko kp ik bi translated">无论你选择什么，谷歌分析都不能再用了，所以请记住这一点</p></div></div>    
</body>
</html>