<html>
<head>
<title>How to Style Your iOS App: Less Boilerplate, More Convention</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何设计你的iOS应用:更少的样板，更多的惯例</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-style-your-ios-app-less-boilerplate-more-convention-4c7574b73de2?source=collection_archive---------9-----------------------#2020-04-20">https://levelup.gitconnected.com/how-to-style-your-ios-app-less-boilerplate-more-convention-4c7574b73de2?source=collection_archive---------9-----------------------#2020-04-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7876" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated"><em class="kf">建立你的风格，防止重复，使重构更容易。</em></h2></div><p id="fc20" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">有很多种方法来设计你的应用程序，每种方法都有自己的优点和注意事项。对于本文中的例子，我将关注于<code class="fe lc ld le lf b">UIButton</code>，但是所有这些几乎都适用于所有UIKit组件。</p><h2 id="dfd6" class="lg lh iq bd li lj lk dn ll lm ln dp lo kp lp lq lr kt ls lt lu kx lv lw lx ly bi translated">常用的样式方法和限制</h2><p id="5eb5" class="pw-post-body-paragraph kg kh iq ki b kj lz jr kl km ma ju ko kp mb kr ks kt mc kv kw kx md kz la lb ij bi translated">首先，让我们看看一些常用的选项。</p><ul class=""><li id="abc8" class="me mf iq ki b kj kk km kn kp mg kt mh kx mi lb mj mk ml mm bi translated">使用故事板通常意味着重复你自己很多，并且更新样式意味着很多工作。</li><li id="f8a2" class="me mf iq ki b kj mn km mo kp mp kt mq kx mr lb mj mk ml mm bi translated">UIAppearance API可以帮助您将样式集中在一个地方，但通常感觉这不是定义样式的自然方式。谁说在我的层次结构中同一级别的两个按钮不应该有不同的样式？</li><li id="a899" class="me mf iq ki b kj mn km mo kp mp kt mq kx mr lb mj mk ml mm bi translated">通过子类化，您可以获得一个非常好的工具集来设计您的组件。然而，这也意味着组件的每一个实例都必须使用你的子类，这限制了灵活性，从长远来看可能会伤害你。</li></ul><p id="2444" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">这些方法当然可以根据你的喜好进行组合，但是让我们用另一种方式来解决这个问题。</p><h1 id="d155" class="ms lh iq bd li mt mu mv ll mw mx my lo jw mz jx lr jz na ka lu kc nb kd lx nc bi translated">命名很重要</h1><p id="c92c" class="pw-post-body-paragraph kg kh iq ki b kj lz jr kl km ma ju ko kp mb kr ks kt mc kv kw kx md kz la lb ij bi translated">首先，当谈到风格和设计时，命名应该传达目的，而不是定义它如何做到这一点。苹果其实也是这么做的，比如看一下<code class="fe lc ld le lf b">UIBarButtonItem</code>。默认按钮类型的名称为“添加”和“编写”，而不是“加号”和“PencilOnPaper”:</p><figure class="ne nf ng nh gt ni gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/1fdf7b73b4df189a66c2b2a59ed0665b.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*iB2MCi81k_Zqa5mKvFyORQ.png"/></div></figure><p id="4b2e" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">其中一个原因很简单:如果你决定改变图标看起来像别的东西呢？比如把“书签”图标从🏷更接近⭐️，这是否意味着您应该在代码中重命名图标？如果你明智地选择你的名字，它不应该。</p><p id="cf02" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">另一个原因是，不同的国家或文化可能需要不同的参照物来传达你的意图，让我们在这个例子中使用颜色:</p><blockquote class="nl nm nn"><p id="2604" class="kg kh no ki b kj kk jr kl km kn ju ko np kq kr ks nq ku kv kw nr ky kz la lb ij bi translated">在西方文化中，红色象征着兴奋、活力、激情、行动、爱和危险。它还与俄罗斯等国家的共产主义和革命联系在一起。在亚洲文化中，红色是一种非常重要的颜色——它象征着好运、快乐、繁荣、庆祝、幸福和长寿。——<a class="ae ns" href="https://www.shutterstock.com/blog/color-symbolism-and-meanings-around-the-world" rel="noopener ugc nofollow" target="_blank">Shutterstock</a></p></blockquote><p id="b31b" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">顺便问一下，你知道日本的交通灯传统上用蓝色而不是绿色吗？这实际上也是为什么<a class="ae ns" href="https://www.mentalfloss.com/article/606627/handshake-origins" rel="noopener ugc nofollow" target="_blank"> Jenkins默认在成功的构建上有一个蓝色的球</a>，而不是绿色的。</p><p id="c356" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">因此，正确的命名很重要。让我们继续，并尝试将它放入一个可重用和灵活的结构中。</p><h1 id="dbf2" class="ms lh iq bd li mt mu mv ll mw mx my lo jw mz jx lr jz na ka lu kc nb kd lx nc bi translated">另一种编码方法</h1><p id="3867" class="pw-post-body-paragraph kg kh iq ki b kj lz jr kl km ma ju ko kp mb kr ks kt mc kv kw kx md kz la lb ij bi translated">你可能以前听说过术语“<a class="ae ns" href="https://www.swiftbysundell.com/articles/composing-types-in-swift/" rel="noopener ugc nofollow" target="_blank">组成超过继承</a>”。简而言之:不要用子类化来填充你的类的功能，而是制作可重用的代码片段，这些代码片段可以放在一起，有点像拼图。</p><p id="5188" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">这种方法并不新鲜。事实上，熟悉web设计的读者可能会想到CSS(和LESS/SASS)样式通常是如何分组和分类的，以便更容易重用和允许更好的重构。</p><blockquote class="nl nm nn"><p id="8744" class="kg kh no ki b kj kk jr kl km kn ju ko np kq kr ks nq ku kv kw nr ky kz la lb ij bi translated">在这个例子中，我们使用背景图片来设计背景。这可以包括阴影、边框、拐角半径等。而不需要手动配置所有这些。更重要的是，背景图像可以自动适应变化的组件状态和界面特征。— <a class="ae ns" href="https://medium.com/better-programming/ios-make-styling-your-buttons-easier-36106931689c" rel="noopener">阅读更多关于这个的信息</a></p></blockquote><p id="7ce5" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">让我们从定义我们想要的按钮外观开始。在前景有按钮字体和颜色。在背景中，有按钮背景样式。根据背景的不同，您还需要调整内容插入。</p><p id="80c0" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">我们可以用一些结构来总结。以下所有样式代码都可以收集在项目中的一个文件中:</p><figure class="ne nf ng nh gt ni"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="db61" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">这给了我们所需要的灵活性。按钮上还有其他可以设计的属性，如果需要的话，可以相应地添加这些属性。</p><p id="e948" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">为了便于将样式应用于按钮，您可以扩展<code class="fe lc ld le lf b">UIButton</code>来呈现属性:</p><figure class="ne nf ng nh gt ni"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="4ebd" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">接下来，我们将为我们的应用程序定义一些基础知识。在这种情况下，我们只需要定义一种颜色和一种字体，当我们的应用程序增长时，这个列表也会增长。我更喜欢使这些结构私有，更好的是，应用程序的其余部分应该使用组件来收集它的风格，而不是直接使用它的一部分。</p><figure class="ne nf ng nh gt ni"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="8038" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">颜色名称和图像名称与我们的资产目录中的名称相对应。然后我们简单地使用这些部分来构造我们的<code class="fe lc ld le lf b">ButtonStyle</code>。</p><p id="0958" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">这就是我们需要的所有设置。剩下的就是将样式应用到我们的按钮:</p><pre class="ne nf ng nh gt nv lf nw nx aw ny bi"><span id="2116" class="lg lh iq lf b gy nz oa l ob oc">button.apply(style: ComponentStyle.Button.primary)</span></pre><p id="6904" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">就是这样！定义额外的按钮样式很容易，现在可以从一个地方更新某个样式。您可以对其他类型的组件重复相同的概念。</p><p id="74ec" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">感谢阅读！</p><h1 id="e7a3" class="ms lh iq bd li mt mu mv ll mw mx my lo jw mz jx lr jz na ka lu kc nb kd lx nc bi translated">额外小费</h1><p id="8bac" class="pw-post-body-paragraph kg kh iq ki b kj lz jr kl km ma ju ko kp mb kr ks kt mc kv kw kx md kz la lb ij bi translated">如果您在资产目录组上勾选“提供名称空间”,则该组名称将成为映像名称的一部分。各组之间用斜线分隔。</p><figure class="ne nf ng nh gt ni gh gi paragraph-image"><div role="button" tabindex="0" class="oe of di og bf oh"><div class="gh gi od"><img src="../Images/8dd6040fd52138cc0cd7a79c28bbb7da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v3UDJjvwdKbQfY6I0DCulQ.png"/></div></div></figure><p id="aaab" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">当您使用<a class="ae ns" href="https://github.com/SwiftGen/SwiftGen" rel="noopener ugc nofollow" target="_blank"> SwiftGen </a>生成资产目录引用时，这尤其有用。使用默认的“Swift4”模板，获取图像引用将变成类似如下的事情:</p><pre class="ne nf ng nh gt nv lf nw nx aw ny bi"><span id="d177" class="lg lh iq lf b gy nz oa l ob oc">Asset.Button.primary.pressed.image</span></pre><h2 id="8bb0" class="lg lh iq bd li lj lk dn ll lm ln dp lo kp lp lq lr kt ls lt lu kx lv lw lx ly bi translated">参考</h2><ul class=""><li id="923f" class="me mf iq ki b kj lz km ma kp oi kt oj kx ok lb mj mk ml mm bi translated">用Swift设计你的按钮</li><li id="fad5" class="me mf iq ki b kj mn km mo kp mp kt mq kx mr lb mj mk ml mm bi translated"><a class="ae ns" href="https://www.shutterstock.com/blog/color-symbolism-and-meanings-around-the-world" rel="noopener ugc nofollow" target="_blank">世界各地颜色的象征意义和颜色含义</a>，Shutterstock</li><li id="e3a8" class="me mf iq ki b kj mn km mo kp mp kt mq kx mr lb mj mk ml mm bi translated"><a class="ae ns" href="https://www.mentalfloss.com/article/515205/why-does-japan-have-blue-traffic-lights-instead-green" rel="noopener ugc nofollow" target="_blank">为什么日本的交通灯是蓝色而不是绿色？</a>、肖纳西·费罗</li><li id="7aec" class="me mf iq ki b kj mn km mo kp mp kt mq kx mr lb mj mk ml mm bi translated"><a class="ae ns" href="https://jenkins.io/blog/2012/03/13/why-does-jenkins-have-blue-balls/" rel="noopener ugc nofollow" target="_blank">为什么詹金斯会有蓝球？泰勒·克罗伊</a></li></ul></div></div>    
</body>
</html>