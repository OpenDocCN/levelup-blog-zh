<html>
<head>
<title>JavaScript vs jQuery — Learn DOM manipulation without using jQuery</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript与jQuery——不使用jQuery学习DOM操作</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/javascript-vs-jquery-learn-dom-manipulation-without-using-jquery-d0ca948c2c6b?source=collection_archive---------10-----------------------#2020-06-21">https://levelup.gitconnected.com/javascript-vs-jquery-learn-dom-manipulation-without-using-jquery-d0ca948c2c6b?source=collection_archive---------10-----------------------#2020-06-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="403e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">原贴于</em><a class="ae km" href="https://faisalrashid.tech/blogs/JavaScript-vs-jQuery" rel="noopener ugc nofollow" target="_blank"><em class="kl">【https://faisalrashid.tech/blogs/JavaScript-vs-jQuery】</em></a></p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi kn"><img src="../Images/bda6a390611250fe14165a5fb0b1825d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GzftXk0l_9dniAYg.jpg"/></div></div></figure><p id="47ce" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">jQuery已经成为许多新的和即将到来的Web开发人员的救星，包括我自己。如果你想学习以前的Web开发，学习jQuery是理所当然的。这主要是因为jQuery消除了许多跨浏览器兼容性问题，使开发人员能够编写代码，而不必担心他们实现的功能是否能在所有浏览器上工作。</p><p id="5f56" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是随着浏览器标准的改进和jQuery的大部分API集成到JavaScript中，jQuery已经变得有点多余了。此外，有了原生浏览器API，调试代码就容易多了，而且由于是原生的，这些API中的大多数都比jQuery的API提供了更好的性能。此外，您将少一个要添加到脚本导入中的库。如果你仍然不同意放弃jQuery，也许这个<a class="ae km" href="https://softwareengineering.stackexchange.com/questions/122191/what-benefits-are-there-to-native-javascript-development" rel="noopener ugc nofollow" target="_blank">答案</a>会有所帮助。</p><p id="0c02" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，如果您正在考虑脱离jQuery，我已经编译了一个人们使用的常见jQuery方法和API的列表，以及它们的Vanilla JS替代品(Vanilla JS是不使用任何库的普通JavaScript代码的花哨名称)。让我们开始吧！</p><h2 id="56f4" class="kz la iq bd lb lc ld dn le lf lg dp lh jy li lj lk kc ll lm ln kg lo lp lq lr bi translated">查询DOM</h2><p id="d275" class="pw-post-body-paragraph jn jo iq jp b jq ls js jt ju lt jw jx jy lu ka kb kc lv ke kf kg lw ki kj kk ij bi translated">jQuery的主要特点是它查询DOM元素的惊人能力。下面演示了这一点:</p><pre class="ko kp kq kr gt lx ly lz ma aw mb bi"><span id="ecb2" class="kz la iq ly b gy mc md l me mf">jQuery('div.home')</span></pre><p id="c1a0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是，您可以使用JavaScript的<strong class="jp ir"> document.querySelector() </strong>和<strong class="jp ir">document . query selector all()</strong>方法实现同样的事情。下面是它们的实现。</p><pre class="ko kp kq kr gt lx ly lz ma aw mb bi"><span id="aa41" class="kz la iq ly b gy mc md l me mf">document.querySelector('div.home')</span></pre><p id="da18" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该方法总是返回与选择器匹配的第一个元素。如果您希望查询多个元素，您将不得不使用<strong class="jp ir"> querySelectorAll() </strong>方法。</p><pre class="ko kp kq kr gt lx ly lz ma aw mb bi"><span id="b999" class="kz la iq ly b gy mc md l me mf">document.querySelectorAll('img').forEach((_el, index) =&gt; {<br/>      //do stuff with <strong class="ly ir">_el </strong>here<br/>})</span></pre><p id="06ed" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> querySelectoryAll() </strong>将返回匹配元素的数组，因此使用<strong class="jp ir"> forEach </strong>来迭代每个元素。</p><h2 id="0937" class="kz la iq bd lb lc ld dn le lf lg dp lh jy li lj lk kc ll lm ln kg lo lp lq lr bi translated">。html()</h2><p id="8ede" class="pw-post-body-paragraph jn jo iq jp b jq ls js jt ju lt jw jx jy lu ka kb kc lv ke kf kg lw ki kj kk ij bi translated"><strong class="jp ir">。html()</strong>jQuery的方法用于获取或设置一个节点/元素的HTML内容。</p><p id="680a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要在JavaScript中做同样的事情，您可以使用<strong class="jp ir">。任何Html元素的innerHtml </strong>属性。</p><p id="3e9b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">假设您需要用类<strong class="jp ir"> main-div获取div元素的HTML内容。你可以用JavaScript这样做。</strong></p><pre class="ko kp kq kr gt lx ly lz ma aw mb bi"><span id="cb1e" class="kz la iq ly b gy mc md l me mf">var htmlContent = document.querySelector('.main-div').innerHtml;</span></pre><p id="a7ac" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">类似地，要设置同一个div的HTML内容，您可以这样做:</p><pre class="ko kp kq kr gt lx ly lz ma aw mb bi"><span id="7f08" class="kz la iq ly b gy mc md l me mf">document.querySelector('.main-div').innerHtml = '&lt;p&gt;Hello World&lt;/p&gt;';</span></pre><p id="ec4d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">记住，如果你想用同一个选择器改变多个元素的Html，你可以像这样使用<strong class="jp ir"> querySelectorAll() </strong>方法:</p><pre class="ko kp kq kr gt lx ly lz ma aw mb bi"><span id="27dd" class="kz la iq ly b gy mc md l me mf">document.querySelectorAll('.main-div').forEach((<em class="kl">el, index) =&gt; {</em><br/><em class="kl">         </em>_el.innerHtml = '&lt;p&gt;Hello World&lt;/p&gt;';<br/>});</span></pre><p id="f641" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">注意，我在这里将索引<strong class="jp ir">传递给匿名函数</strong>。在这种情况下，您并不真的需要它，但是将数组中每个元素的索引放在手边是一个好习惯。你永远不知道你什么时候可能需要它。</p><h2 id="11ce" class="kz la iq bd lb lc ld dn le lf lg dp lh jy li lj lk kc ll lm ln kg lo lp lq lr bi translated">。瓦尔()</h2><p id="5c25" class="pw-post-body-paragraph jn jo iq jp b jq ls js jt ju lt jw jx jy lu ka kb kc lv ke kf kg lw ki kj kk ij bi translated"><strong class="jp ir">。val()</strong>jQuery的方法用于获取或设置输入元素的值。</p><p id="85dc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要在JavaScript中获取或设置输入元素的值，可以使用该元素的<strong class="jp ir">值</strong>属性。</p><p id="1318" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">用类别<strong class="jp ir">输入框</strong>将输入元素的值设置为<strong class="jp ir">‘新’</strong></p><pre class="ko kp kq kr gt lx ly lz ma aw mb bi"><span id="7a46" class="kz la iq ly b gy mc md l me mf">document.querySelector('.input-box').value = 'new';</span></pre><p id="82a4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">获取同一元素的值</p><pre class="ko kp kq kr gt lx ly lz ma aw mb bi"><span id="1e5e" class="kz la iq ly b gy mc md l me mf">var inputValue = document.querySelector('.input-box').value;</span></pre><h2 id="f1b5" class="kz la iq bd lb lc ld dn le lf lg dp lh jy li lj lk kc ll lm ln kg lo lp lq lr bi translated">。文本()</h2><p id="75d2" class="pw-post-body-paragraph jn jo iq jp b jq ls js jt ju lt jw jx jy lu ka kb kc lv ke kf kg lw ki kj kk ij bi translated">jQuery优惠<strong class="jp ir">。text() </strong>方法获取一个元素的所有内容，不包括标记。例如，使用jQuery获取&lt; p &gt; Hi &lt; /p &gt;元素的<strong class="jp ir">文本</strong>将返回字符串<strong class="jp ir">‘Hi’。当你试图让网页上的内容真实可见时，这非常有用。</strong></p><p id="b1ff" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">也就是说，每个HTML元素都有一个属性“innerText ”,它本质上拥有相同的值。</p><pre class="ko kp kq kr gt lx ly lz ma aw mb bi"><span id="4b67" class="kz la iq ly b gy mc md l me mf">let textValue = document.querySelector('.main-div').innerText;</span></pre><h2 id="6a20" class="kz la iq bd lb lc ld dn le lf lg dp lh jy li lj lk kc ll lm ln kg lo lp lq lr bi translated">DOM样式化</h2><p id="0faf" class="pw-post-body-paragraph jn jo iq jp b jq ls js jt ju lt jw jx jy lu ka kb kc lv ke kf kg lw ki kj kk ij bi translated">jQuery最令人兴奋的特性之一是修改DOM样式的能力。当你试图获得用户交互的视觉反馈时，这非常有用。</p><p id="bb4a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">可以通过以下两种方式之一来修改样式:</p><p id="acf0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">添加/删除类:</strong> <br/>要添加或删除一个类，您肯定会使用<strong class="jp ir">。addClass() </strong>或者<strong class="jp ir">。jQuery附带的removeClass() </strong>方法。要在JavaScript中做同样的事情，你可以使用元素的属性。这可以如下所示完成。<br/>将类<strong class="jp ir"> testClass </strong>添加到Id为<strong class="jp ir"> testElement </strong>的元素中</p><pre class="ko kp kq kr gt lx ly lz ma aw mb bi"><span id="817d" class="kz la iq ly b gy mc md l me mf">document.querySelector('#testElement').classList.add('testClass');</span></pre><p id="6057" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从Id为<strong class="jp ir"> testElement </strong>的元素中删除类<strong class="jp ir"> testClass </strong></p><pre class="ko kp kq kr gt lx ly lz ma aw mb bi"><span id="f5a7" class="kz la iq ly b gy mc md l me mf">document.querySelector('#testElement').classList.remove('testClass')</span></pre><p id="fcd6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">添加/修改CSS: </strong> <br/>要直接改变一个元素的CSS，我们使用<strong class="jp ir">。jQuery提供的css() </strong>方法。同样，这在JavaScript中很容易做到。<br/>要设置一个元素的样式，我们只需设置该元素的<strong class="jp ir"> style </strong>属性所公开的样式的值。</p><pre class="ko kp kq kr gt lx ly lz ma aw mb bi"><span id="6764" class="kz la iq ly b gy mc md l me mf">document.querySelector('#testElement').style.color = '#ffffff';</span></pre><p id="8c96" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这将把Id为<strong class="jp ir"> testElement </strong>的元素的颜色设置为白色。<br/>注意:由于元素的样式被暴露为JavaScript对象属性，您将不能直接使用属性，如<strong class="jp ir">背景色</strong>，因为属性名称中有一个“-”。在这些情况下，您应该简单地使用这些属性的<strong class="jp ir"> camelCased </strong>版本。例如，</p><pre class="ko kp kq kr gt lx ly lz ma aw mb bi"><span id="394e" class="kz la iq ly b gy mc md l me mf">document.querySelector('#testElement').style.backgroundColor = '#000000';</span></pre><p id="e1ab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这将把Id为<strong class="jp ir"> testElement </strong>的元素的背景色设置为黑色。</p><h2 id="f8b1" class="kz la iq bd lb lc ld dn le lf lg dp lh jy li lj lk kc ll lm ln kg lo lp lq lr bi translated">。属性()</h2><p id="adc8" class="pw-post-body-paragraph jn jo iq jp b jq ls js jt ju lt jw jx jy lu ka kb kc lv ke kf kg lw ki kj kk ij bi translated">在开发web应用程序时，设置和检索HTML元素的属性值再次变得非常有用。您可能需要获得一个<strong class="jp ir"> data- </strong>属性的值，该属性在使用您的应用程序时存储重要的数据。jQuery通过公开<strong class="jp ir">来提供这种能力。attr() </strong>方法。您可以将它与一个参数一起使用来获取属性的值，或者使用带有两个参数的重载来设置HTML属性的值。</p><p id="c4d2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在JavaScript中，HTML元素的每个属性都作为该元素的一个属性公开。这意味着要设置一个<strong class="jp ir"> img </strong>元素的<strong class="jp ir"> src </strong>属性的值，您可以简单地执行以下操作:</p><pre class="ko kp kq kr gt lx ly lz ma aw mb bi"><span id="9f4e" class="kz la iq ly b gy mc md l me mf">document.querySelector('img').src = '/images/image.png';</span></pre><p id="34b7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">就这么简单。对于像<strong class="jp ir"> data- </strong>这样的属性，您可以使用另一种方法，</p><pre class="ko kp kq kr gt lx ly lz ma aw mb bi"><span id="cc5d" class="kz la iq ly b gy mc md l me mf">document.querySelector('img').setAttribute('data-title', 'test');</span></pre><p id="23b8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了获得相同元素的值，</p><pre class="ko kp kq kr gt lx ly lz ma aw mb bi"><span id="2d65" class="kz la iq ly b gy mc md l me mf">document.querySelector('img').getAttribute('data-title');</span></pre><p id="0a3d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> getAttribute() </strong>和<strong class="jp ir"> setAttribute() </strong>与jQuery的<strong class="jp ir"> attr() </strong>方法非常相似。所以，习惯这些应该没那么难。</p><h2 id="97b3" class="kz la iq bd lb lc ld dn le lf lg dp lh jy li lj lk kc ll lm ln kg lo lp lq lr bi translated">。show() /。隐藏()</h2><p id="9096" class="pw-post-body-paragraph jn jo iq jp b jq ls js jt ju lt jw jx jy lu ka kb kc lv ke kf kg lw ki kj kk ij bi translated">同样，两个最广泛使用的jQuery方法是<strong class="jp ir">。显示()</strong>和<strong class="jp ir">。hide() </strong>方法。这些方法确实如它们所说的那样，隐藏或显示HTML元素。本质上，这些方法只是修改元素的显示样式属性。因此，我们可以使用简单的样式修改来实现同样的事情。</p><p id="4fd6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要隐藏元素:</p><pre class="ko kp kq kr gt lx ly lz ma aw mb bi"><span id="4b5f" class="kz la iq ly b gy mc md l me mf">document.querySelector('.test-element').style.display = 'none';</span></pre><p id="93e4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">显示隐藏的元素</p><pre class="ko kp kq kr gt lx ly lz ma aw mb bi"><span id="f3a7" class="kz la iq ly b gy mc md l me mf">document.querySelector('.test-element').style.display = 'block';</span></pre><h2 id="d457" class="kz la iq bd lb lc ld dn le lf lg dp lh jy li lj lk kc ll lm ln kg lo lp lq lr bi translated">创建交互式、快速动态网页应用的网页开发技术</h2><p id="7c01" class="pw-post-body-paragraph jn jo iq jp b jq ls js jt ju lt jw jx jy lu ka kb kc lv ke kf kg lw ki kj kk ij bi translated">我最喜欢和最常用的jQuery功能之一是使用AJAX发送HTTP请求。然而，我们必须明白<strong class="jp ir"> jQuery.ajax() </strong>是现有JavaScript功能的包装器。毫无疑问，jQuery使得使用AJAX变得轻而易举，但这不是我们在这里的原因，对吗？</p><p id="65a3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要向URL“home/sendmessage”发送包含数据{id: 23，name: 'faisal'}的POST请求，我们需要执行以下操作:</p><pre class="ko kp kq kr gt lx ly lz ma aw mb bi"><span id="3251" class="kz la iq ly b gy mc md l me mf">let request = new XMLHttpRequest();</span><span id="68af" class="kz la iq ly b gy mg md l me mf">// Set an event handler when the status of the request changes</span><span id="9606" class="kz la iq ly b gy mg md l me mf">request.onreadystatechange = function(response) {<br/>    if (request.readystate == 4 &amp;&amp; request.status == 200) {<br/>        // do stuff with the response object<br/>    }<br/>}</span><span id="7d54" class="kz la iq ly b gy mg md l me mf">// Open a <strong class="ly ir">Post </strong>request to the url <strong class="ly ir">home/sendmessage </strong>asynchronously.</span><span id="0393" class="kz la iq ly b gy mg md l me mf">request.open('POST', 'home/sendmessage', true);</span><span id="e693" class="kz la iq ly b gy mg md l me mf">// Set the request header/s</span><span id="d89b" class="kz la iq ly b gy mg md l me mf">request.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');</span><span id="e12a" class="kz la iq ly b gy mg md l me mf">//Send parameterized data as part of the Post request</span><span id="119d" class="kz la iq ly b gy mg md l me mf">request.send('id=23&amp;name=faisal');</span></pre><p id="1660" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">就是这样。您的发布请求将被发送到服务器。</p><p id="3085" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您是jQuery开发人员，您会知道这些并不是jQuery附带的所有方法和特性。肯定还有更多，但我只是试图解决最常见的问题，只是为了让您了解在浏览器中没有jQuery也是可能的。</p><p id="6ee1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我希望这足以推动你使用越来越多的JavaScript。</p></div></div>    
</body>
</html>