<html>
<head>
<title>Make Every Demo Count With Demo Monkey</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用演示猴让每一次演示都有价值</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/make-every-demo-count-with-demo-monkey-f376a339f9fd?source=collection_archive---------12-----------------------#2022-05-31">https://levelup.gitconnected.com/make-every-demo-count-with-demo-monkey-f376a339f9fd?source=collection_archive---------12-----------------------#2022-05-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0d35" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">为您的受众定制通用演示应用程序</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f24d5d3596094a6d0909daa18c506618.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jRCMw-UII7mSHiOhRcOG7w.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/photos/Z05GiksmqYU" rel="noopener ugc nofollow" target="_blank">图片来源:Unsplash </a></figcaption></figure><h1 id="a2b7" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">什么是Demo Monkey？</h1><p id="48f7" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Demo Monkey允许您根据您的客户将您的web应用程序定制成一个完美定制的演示。您可以根据需要提供替换值，Demo Monkey将采用您的通用演示应用程序，并为您的受众提供个性化体验。</p><p id="4a88" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">例如，你可以创建一个非常普通的电子商务网站，在Demo Monkey的帮助下，你可以将这个普通的电子商务网站转换成一个基于你要演示的目标受众的不错的电子商务网站。</p><p id="e850" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这有助于节省大量时间，因为现在您不必在每次需要新的演示时重新创建和部署站点。相反，您所要做的就是定制所需的变量，并对相同的站点进行细微的改动。</p><h1 id="baf7" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">安装和设置</h1><p id="3117" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">从<a class="ae ky" href="https://chrome.google.com/webstore/detail/demomonkey/jgbhioialphpgjgofopnplfibkeehgjd?hl=en" rel="noopener ugc nofollow" target="_blank"> Chrome网上商店</a>安装演示猴子。右键单击扩展的图标，然后单击<strong class="lt iu">选项</strong>打开演示Monkey门户。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/8051bf374f1f48a8b344f5c3adbdbf81.png" data-original-src="https://miro.medium.com/v2/resize:fit:412/format:webp/1*Xk1yaY17Q-yBic7El3Ndrw.png"/></div></figure><p id="3477" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">您可能需要启用对所有站点的访问，以便Demo Monkey的扩展能够工作。在此页面中，单击横幅上的<strong class="lt iu">单击此处</strong>以启用。然后，从弹出窗口中点击<strong class="lt iu">允许</strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/61958d4806a1be5e5677ebf5c8924b40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yzc8sponx1PSf2Lo-Yuurw.png"/></div></div></figure><p id="8534" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">从门户中找到并点击<strong class="lt iu">示例</strong>脚本(1)。您可以重命名该文件，并从<strong class="lt iu">配置</strong>选项卡中清除其内容，以满足您的需求和/或遵循本文。默认情况下，这个脚本是禁用的，要让它工作，您需要打开它(2)。每次进行更改时，您都需要点击保存按钮(3)以使更改生效。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/52cf2f047e4e608d42ebf52c4b4c5e20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b-oMRBo4NQBf9GPZnQefzA.png"/></div></div></figure></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="5c46" class="kz la it bd lb lc nb le lf lg nc li lj jz nd ka ll kc ne kd ln kf nf kg lp lq bi translated">结构</h1><p id="592c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">一个文件可以选择性地包含section标签，这有助于使你的脚本更具可读性。您可以根据需要命名这些部分标签。这种用法的一个例子可能类似于下面的代码片段。这里，我们使用<code class="fe ng nh ni nj b">[Options]</code>来表示这个部分将包含选项，使用<code class="fe ng nh ni nj b">[Application]</code>来表示这个部分将包含更新应用程序所需的脚本，在整篇文章中，我们将使用这个约定。</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="6a64" class="no la it nj b gy np nq l nr ns">[Options]<br/>...</span><span id="2cf4" class="no la it nj b gy nt nq l nr ns">[Application]<br/>...</span></pre><p id="5d62" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">完整的使用指南<a class="ae ky" href="https://github.com/svrnm/DemoMonkey/blob/main/USAGE.md" rel="noopener ugc nofollow" target="_blank">可在此处</a>获得。然而，本文的目的是简化本用法文档中的一些常用项目。</p></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="954f" class="kz la it bd lb lc nb le lf lg nc li lj jz nd ka ll kc ne kd ln kf nf kg lp lq bi translated">站点配置</h1><p id="ed1b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">首先，您可能希望在include数组中包含您的网站URL，以便可以在上面启用Demo Monkey。如果您不在此处包含您的网站URL，您的演示猴子脚本将无法工作。</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="1f36" class="no la it nj b gy np nq l nr ns">[Options]<br/>@include[] = /^https?://clydedz.github.io/demomonkey-demosite.*$/</span></pre></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="15bd" class="kz la it bd lb lc nb le lf lg nc li lj jz nd ka ll kc ne kd ln kf nf kg lp lq bi translated">文本更新</h1><p id="da8e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">要简单地更新你的站点上显示的文本，在左边写下原始文本，后跟一个等号，然后在右边输入你想显示的文本。您也可以使用相同的格式来替换电子邮件地址。</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="0eca" class="no la it nj b gy np nq l nr ns">[Application]<br/>demo@example.com=noreply@example.com<br/>Welcome to animal photos=Welcome to animal site</span></pre><p id="caa0" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">下面的屏幕截图显示了该网站的前后版本。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/d1b6fa9f0816763f931fd96f9481f184.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jVF9Juku11dolzqMlnTfSw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">前(左)后(右)</figcaption></figure><p id="5fa9" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">虽然上面的代码片段是一个总括性的解决方案，但是如果您想更具体一些，您可以使用<code class="fe ng nh ni nj b">replace</code>函数。该函数中的第一个值是显示在网站上的原始文本，第二个值是网站URL，第三个值是包装原始文本的元素的类名。函数的右边是您希望在站点上显示的新内容。</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="3c93" class="no la it nj b gy np nq l nr ns">[Application]<br/>!replace(Developer content, api.html, .developers) = Monkey content</span></pre><p id="ee7f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">你会注意到每个函数都有一个感叹号作为前缀。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/b757d3838d601a548dd3aa2c48ef6db5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1050/format:webp/1*sHilDzAeMOvjzg5S8Anjew.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">前(左)后(右)</figcaption></figure><p id="8a9e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们可以更进一步，不是用一个简单的文本替换另一个纯文本，而是用一些定制的HTML替换它。为此，我们将使用<code class="fe ng nh ni nj b">overwriteHTML</code>函数，其中我们将站点页面指定为第一个值，后跟包含我们之前内容的类名。在等号的右边，您可以指定要呈现的新HTML内容。</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="341a" class="no la it nj b gy np nq l nr ns">[Application]<br/>$html=&lt;b&gt;&lt;u&gt;Most welcome&lt;/u&gt;&lt;/b&gt;<br/>!overwriteHTML(index.html, .welcome) = $html</span></pre><p id="d7fe" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们没有直接输入数值，而是使用了一个名为<code class="fe ng nh ni nj b">$html</code>的变量。如果您需要用相同的值替换多个位置，这是非常方便的，在这种情况下，您可以在顶部定义变量，然后在整个脚本中使用该变量。上面的片段也可以这样写。</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="5d5a" class="no la it nj b gy np nq l nr ns">[Application]<br/>!overwriteHTML(index.html, .welcome) = &lt;b&gt;&lt;u&gt;Most welcome&lt;/u&gt;&lt;/b&gt;</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/b4e90f16e8e00a02e4f35ad37abe0a0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0L62-sLjPsgZHkGLFI8GEw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">前(左)后(右)</figcaption></figure><p id="9bb4" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们还可以更新文本块的样式。为此，我们将使用style函数。对于第一个值，我们将指定需要样式化的文本，对于第二个值，我们将指定需要更新的样式。等号的右边是新的样式值。在下面的代码片段中，我们将文本“隐私页面”涂成红色。</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="561e" class="no la it nj b gy np nq l nr ns">[Application]<br/>!style(Privacy page, color) = red</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/0e51643d1b30e3cb133e97f88b43a7e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1124/format:webp/1*vl2_6qUKUb2BSaCA42NLKw.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">前(左)后(右)</figcaption></figure></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="d3d2" class="kz la it bd lb lc nb le lf lg nc li lj jz nd ka ll kc ne kd ln kf nf kg lp lq bi translated">形象</h1><p id="a7da" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们可以使用<code class="fe ng nh ni nj b">replaceImage</code>功能将一幅图像替换为另一幅图像。该函数的第一个值是您想要替换的现有图像的源URL，在等号的右侧，指定新图像的源URL。</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="60e4" class="no la it nj b gy np nq l nr ns">[Application]<br/>!replaceImage(<a class="ae ky" href="https://clydedz.github.io/demomonkey-demosite/img/cat.jpg" rel="noopener ugc nofollow" target="_blank">https://clydedz.github.io/demomonkey-demosite/img/cat.jpg</a>) = <a class="ae ky" href="https://clydedz.github.io/demomonkey-demosite/img/dog.jpg" rel="noopener ugc nofollow" target="_blank">https://clydedz.github.io/demomonkey-demosite/img/dog.jpg</a></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/60515e2eb377d8a6662621b9b83fc2b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AhCy8Otg2TAtBodp3FTn-w.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">前(左)后(右)</figcaption></figure><p id="957e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">您也可以使用<code class="fe ng nh ni nj b">recolorImage</code>功能对现有图像重新着色。第一个值是现有图像的源URL，等号右侧是您想要应用的RGB值。</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="8b50" class="no la it nj b gy np nq l nr ns">[Application]<br/>!recolorImage(<a class="ae ky" href="https://clydedz.github.io/demomonkey-demosite/img/dog.jpg" rel="noopener ugc nofollow" target="_blank">https://clydedz.github.io/demomonkey-demosite/img/dog.jpg</a>) = rgb(255,0,0)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/01a70ef1ec67e990de44c347a3fd122c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4EKZCQNnPtAjOgAzIKAv6Q.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">前(左)后(右)</figcaption></figure></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="602b" class="kz la it bd lb lc nb le lf lg nc li lj jz nd ka ll kc ne kd ln kf nf kg lp lq bi translated">链接</h1><p id="1a50" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们还可以使用<code class="fe ng nh ni nj b">replaceAttribute </code>函数替换HTML标签的属性。该函数的第一个值是您需要应用此更改的网页。第二个值是您想要更新的属性。等号的右边是要分配给属性的新值。</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="168b" class="no la it nj b gy np nq l nr ns">[Application]<br/>!replaceAttribute(index.html, href) = api.html</span></pre><p id="00b8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果下面的截图不清楚，我很抱歉，但是在左边，我突出显示了URL中最初有<code class="fe ng nh ni nj b">index.html</code>的位，然后在右边，应用脚本后，我可以看到URL中的位已经更新为<code class="fe ng nh ni nj b">api.html</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/d73f59be71d6abb9e5a4986ea1da6c5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TFgug6qBC24mW9xueZVlVA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">前(左)后(右)</figcaption></figure></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="445a" class="kz la it bd lb lc nb le lf lg nc li lj jz nd ka ll kc ne kd ln kf nf kg lp lq bi translated">完整内容更新</h1><h2 id="5c3b" class="no la it bd lb ob oc dn lf od oe dp lj ma of og ll me oh oi ln mi oj ok lp ol bi translated">覆盖现有页面</h2><p id="de49" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">您也可以用另一个网页的内容替换该网页的全部内容。我们将使用<code class="fe ng nh ni nj b">overwritePage</code>函数来实现。我们将网页指定为函数的第一个值，我们可以将CSS选择器指定为函数的第二个值，类似于<code class="fe ng nh ni nj b">overwriteHTML</code>函数，但是对于这个函数，我们将把它留空，在等号的右边，我们将指定我们想要在这里显示的网页的URL。</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="56e5" class="no la it nj b gy np nq l nr ns">[Application]<br/>!overwritePage(index.html, '') = api.html</span></pre><p id="6512" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在下面的截图中，你可以看到我们已经用API页面的内容替换了<code class="fe ng nh ni nj b">index.html</code>页面的原始内容(左)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/5213332310176167ed01756fac31a23e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*80ZwNZDckUCUVi40Vs4v0g.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">前(左)后(右)</figcaption></figure><h2 id="e13e" class="no la it bd lb ob oc dn lf od oe dp lj ma of og ll me oh oi ln mi oj ok lp ol bi translated">重定向到另一页</h2><p id="052c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们可以使用<code class="fe ng nh ni nj b">redirectUrl</code>功能自动将一个网页重定向到另一个网页。我们需要传递给函数的值是我们需要应用重定向的网页。等号的右边是我们需要将用户重定向到的目标URL。</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="e5f4" class="no la it nj b gy np nq l nr ns">!redirectUrl(<a class="ae ky" href="https://clydedz.github.io/demomonkey-demosite/privacy.html" rel="noopener ugc nofollow" target="_blank">https://clydedz.github.io/demomonkey-demosite/privacy.html</a>) = <a class="ae ky" href="https://www.bing.com" rel="noopener ugc nofollow" target="_blank">https://www.bing.com</a></span></pre><p id="678b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">下面的GIF展示了它在工作时的样子。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/5d0a4c90e92267b4f6fc5e0fbbe40cff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*t4hCEOGV_WcoliwU9DxelQ.gif"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">展示这一变化的GIF图片</figcaption></figure></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="71b2" class="kz la it bd lb lc nb le lf lg nc li lj jz nd ka ll kc ne kd ln kf nf kg lp lq bi translated">操作URL</h1><p id="6b4c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果有必要，我们可以阻止特定的URL或请求(如API调用)发生。这意味着当应用程序试图发出这个请求时，它将会失败，希望应用程序能够优雅地处理它。</p><p id="3d7f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">那么，这在我们的脚本中是什么样子的呢？在我的演示应用程序中，点击<a class="ae ky" href="https://clydedz.github.io/demomonkey-demosite/api.html" rel="noopener ugc nofollow" target="_blank">页面</a>上的<strong class="lt iu"> Load API content </strong>按钮，调用一个外部API端点，并在屏幕上加载一个笑话。我们将操纵对这个API端点的请求。</p><p id="5078" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">首先，我们需要在<code class="fe ng nh ni nj b">[Options]</code>部分包含这个API URL。接下来，在<code class="fe ng nh ni nj b">[Application]</code>部分，我们将使用<code class="fe ng nh ni nj b">blockUrl</code>函数，其中该函数的值是您想要阻止的API URL。</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="fb50" class="no la it nj b gy np nq l nr ns">[Options]<br/><a class="ae ky" href="http://twitter.com/include" rel="noopener ugc nofollow" target="_blank">@include</a>[] = /^https?://clydedz.github.io/demomonkey-demosite.*$/<br/><a class="ae ky" href="http://twitter.com/include" rel="noopener ugc nofollow" target="_blank">@include</a>[] = /^https?://api.icndb.com/jokes/random.*$/</span><span id="0f7a" class="no la it nj b gy nt nq l nr ns">[Application]<br/>!blockUrl(<a class="ae ky" href="https://api.icndb.com/jokes/random" rel="noopener ugc nofollow" target="_blank">https://api.icndb.com/jokes/random</a>)</span></pre><p id="75b6" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">第一次尝试在脚本中使用它时，应该会看到旁边有一个警告符号。这意味着您需要在演示猴子设置中启用一个标志。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/0ef8e561c9547f1fa184afc6a1aaa9e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1348/format:webp/1*hW-abYIkyNZSFiTb1RdR8w.png"/></div></figure><p id="8295" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在演示Monkey门户中，点击<strong class="lt iu">设置</strong>并将<strong class="lt iu">挂钩变成Web请求</strong>标志。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/6d674943e80fa3feadaa6f3cb3402a13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_MK4xoLI9AHDfrYaxLq27g.png"/></div></div></figure><p id="9f8f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">现在，您可以返回到您的脚本，进行所需的更新，并点击保存。然后当你访问网页时，你应该会看到这一点。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/71ff1e665ffd046381feb20fee12f9c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1tcOYAFkkasomuQmmLNOiA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">前(左)后(右)</figcaption></figure><p id="3d2b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">类似于block URL，我们可以使用<code class="fe ng nh ni nj b">delayUrl</code>函数给API的响应增加一些延迟。该函数的值是您想要添加一些延迟的API的URL，等号的右边是以秒为单位的延迟量。</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="dd93" class="no la it nj b gy np nq l nr ns">!delayUrl(<a class="ae ky" href="https://api.icndb.com/jokes/random" rel="noopener ugc nofollow" target="_blank">https://api.icndb.com/jokes/random</a>) = 10</span></pre><p id="40d7" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果您重新加载页面并查看网络流量，您应该看到请求正在排队等待该延迟量。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/e90e02dfc05c868899653f3f08897f7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aSnP_BfgttsFI2PI37MYNQ.png"/></div></div></figure></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="0858" class="kz la it bd lb lc nb le lf lg nc li lj jz nd ka ll kc ne kd ln kf nf kg lp lq bi translated">多方面的</h1><h2 id="b17d" class="no la it bd lb ob oc dn lf od oe dp lj ma of og ll me oh oi ln mi oj ok lp ol bi translated">隐藏元素</h2><p id="3136" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">您还可以在屏幕上隐藏元素。在这个例子中，我们将使用<code class="fe ng nh ni nj b">hide</code>函数删除logout按钮。第一个值是屏幕上的文本，第二个值是DOM中父元素的数量，第三个值是CSS类名，最后一个值是网页。</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="e9b1" class="no la it nj b gy np nq l nr ns">[Application]<br/>!hide(Logout, 0, logout-button, index.html)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/321c59096ec1ce741b3e60cb1bf1c34d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*byc4ZiQioIJf6FYrcQewEw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">前(左)后(右)</figcaption></figure><h2 id="c587" class="no la it bd lb ob oc dn lf od oe dp lj ma of og ll me oh oi ln mi oj ok lp ol bi translated">添加JavaScript</h2><p id="652e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们也可以使用<code class="fe ng nh ni nj b">addScript</code>功能将JavaScript注入你的网页。在等号的右边，我们可以提供一些JavaScript。在下面的例子中，我们插入了代码来显示一个弹出警告。</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="cd8d" class="no la it nj b gy np nq l nr ns">!addScript() = alert('hello')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/2e1449367bf2375084a49e22d8f48f95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AWvKOa0UnIrUipzx_NN_UA.png"/></div></div></figure><h2 id="ae61" class="no la it bd lb ob oc dn lf od oe dp lj ma of og ll me oh oi ln mi oj ok lp ol bi translated">评论</h2><p id="3ed2" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">您可以使用散列符号<code class="fe ng nh ni nj b">#</code>或分号<code class="fe ng nh ni nj b">;</code>添加行内注释。</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="3c78" class="no la it nj b gy np nq l nr ns"># This is a comment.<br/>; This is also a comment.</span></pre></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="c190" class="kz la it bd lb lc nb le lf lg nc li lj jz nd ka ll kc ne kd ln kf nf kg lp lq bi translated">源代码</h1><p id="5b92" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">本文中使用的演示网站和完整的演示Monkey脚本可以在<a class="ae ky" href="https://github.com/ClydeDz/demomonkey-demosite" rel="noopener ugc nofollow" target="_blank"> this GitHub repository </a>中找到。如果你用过Monkey演示版，我很乐意在评论中听到你的意见。如果你觉得这篇文章有帮助，也留下评论。</p><p id="576b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">就是这样！感谢阅读。</p></div></div>    
</body>
</html>