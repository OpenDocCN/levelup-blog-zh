<html>
<head>
<title>Access Control in Swift</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Swift中的访问控制</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/access-control-in-swift-98ad5901a358?source=collection_archive---------2-----------------------#2020-06-20">https://levelup.gitconnected.com/access-control-in-swift-98ad5901a358?source=collection_archive---------2-----------------------#2020-06-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="9f7f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">浅谈Swift编程语言中的不同访问控制。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/cc26fb1ea2b685a6e9fec45303f45714.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oRCAeCdaFtBrRh_j0d_wQA.jpeg"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">图片由<a class="ae le" href="https://unsplash.com/@markusspiske" rel="noopener ugc nofollow" target="_blank">马库斯·斯皮斯克</a>通过<a class="ae le" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><h1 id="b279" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">概观</h1><p id="c37c" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">根据swift官方文件</p><p id="d862" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">"<em class="mi">访问控制限制从其他源文件和模块中的代码访问您的部分代码。此功能使您能够隐藏代码的实现细节，并指定可以通过其访问和使用代码的首选接口。</em></p><p id="5fda" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Swift 5有五个访问控制。它们是开放的、公共的、内部的、文件私有的和私有的。这些访问控制是根据模块和源文件中的用途定义的。在本教程中，我们将学习在swift中使用访问控制的内容、位置和方式。</p><h1 id="8275" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">1.开放(限制较少)</h1><p id="d503" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">用open定义的任何内容都可以在模块内部或外部访问。可以从任何地方访问开放访问级别的实体。这意味着一个开放的变量可以访问，一个开放的函数可以覆盖，一个开放的类可以是一个模块内部的子类，也可以是一个模块外部的子类。</p><p id="c9af" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一个例子是UIKit框架中的“<strong class="js iu"> UITableViewCell </strong>”类。通过导入UIKit模块，我们可以将任何类子类化为UITableViewCell类。如果你看到<strong class="js iu">“UITableViewCell”</strong>的定义，你会在UIKit模块内部的类定义之前看到open access control。这就是为什么我们可以通过导入UIKit将任何类子类化为UITableViewCell类。</p><pre class="kp kq kr ks gt mj mk ml mm aw mn bi"><span id="d559" class="mo lg it mk b gy mp mq l mr ms">@available(iOS 2.0, *)</span><span id="83d8" class="mo lg it mk b gy mt mq l mr ms">open class UITableViewCell : UIView, NSCoding, UIGestureRecognizerDelegate { }</span></pre><h1 id="664e" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">2.公开(比公开更严格)</h1><p id="8725" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">像开放访问一样，公共实体也可以在模块内部或外部访问。但是开放和公开之间有一个主要的区别。</p><blockquote class="mu mv mw"><p id="c088" class="jq jr mi js b jt ju jv jw jx jy jz ka mx kc kd ke my kg kh ki mz kk kl km kn im bi translated">公共类不能被子类化，公共方法不能在定义的模块之外被覆盖。必须在它们定义的模块内子类化或重写。</p></blockquote><p id="53b3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">查看下面的例子</p><pre class="kp kq kr ks gt mj mk ml mm aw mn bi"><span id="12fa" class="mo lg it mk b gy mp mq l mr ms">//module 1</span><span id="58e8" class="mo lg it mk b gy mt mq l mr ms">open class X{}<br/>open func bar(){}</span><span id="dc5e" class="mo lg it mk b gy mt mq l mr ms">public class Y{}<br/>public func foo(){}</span><span id="6f6e" class="mo lg it mk b gy mt mq l mr ms">//module 2</span><span id="6a31" class="mo lg it mk b gy mt mq l mr ms">class A: X{} // success<br/>override func bar(){} // success</span><span id="e0bc" class="mo lg it mk b gy mt mq l mr ms">class B: Y{} //error<br/>override func foo(){} // error</span></pre><h1 id="16a8" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">3.内部(模块级访问控制)</h1><p id="6296" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">“内部”允许在已定义模块内的任何地方使用实体。<strong class="js iu">“内部”是默认的访问级别。</strong>通常一个模块就是<strong class="js iu"> </strong>一个可以作为一个单元使用的框架或者app。</p><p id="c18a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在目标(模块)内部，所有的实体默认都是内部的(如果没有明确定义任何访问控制)。它被定义为模块内的任何东西都可以被模块内任何地方的任何人访问。</p><h1 id="da15" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">4.fileprivate(文件级访问控制)</h1><p id="819e" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">文件私有实体只能在swift文件中访问。swift文件可以有几个类或结构。swift文件中的所有文件私有实体都可以被该文件中的所有类或结构访问。没有它们，该文件之外的任何其他类都不能访问它们。它通常对模块的其他源文件隐藏实现。</p><pre class="kp kq kr ks gt mj mk ml mm aw mn bi"><span id="dd7f" class="mo lg it mk b gy mp mq l mr ms">//**  ViewController.swift **//</span><span id="2ff6" class="mo lg it mk b gy mt mq l mr ms">class ViewController: UIViewController {<br/>    override func viewDidLoad() {<br/>    super.viewDidLoad()</span><span id="3178" class="mo lg it mk b gy mt mq l mr ms">    let a = A()<br/>    a.x()<br/>    a.z() //error</span><span id="e274" class="mo lg it mk b gy mt mq l mr ms"><strong class="mk iu">    </strong>let b = B()<br/>    b.Y() // error<br/>  }<br/>}</span><span id="fccb" class="mo lg it mk b gy mt mq l mr ms">class A {</span><span id="7cdd" class="mo lg it mk b gy mt mq l mr ms">fileprivate func x(){<br/>    print("Inside ViewController file")<br/>  }<br/>}</span><span id="594b" class="mo lg it mk b gy mt mq l mr ms"><br/>//**  SecondViewController.swift **//</span><span id="128c" class="mo lg it mk b gy mt mq l mr ms">class B{</span><span id="7a1d" class="mo lg it mk b gy mt mq l mr ms">fileprivate func Y(){<br/>    print("Outside ViewController file")<br/>  }<br/>}</span><span id="d6a3" class="mo lg it mk b gy mt mq l mr ms">extension A{<br/>    fileprivate func Z(){<br/>    print("Outside ViewController file, extension of A")<br/>  }<br/>}</span></pre><h1 id="497f" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">5.私有(类级访问控制)</h1><p id="4856" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">private是使用最多也最受限制的访问控制。私有实体只能在它们声明的类(包括扩展)中访问。它通常用于隐藏特定类之外的内部实现或功能。</p><pre class="kp kq kr ks gt mj mk ml mm aw mn bi"><span id="a1ef" class="mo lg it mk b gy mp mq l mr ms">// **  ViewController.swift **//</span><span id="f88e" class="mo lg it mk b gy mt mq l mr ms">class ViewController: UIViewController {<br/>    override func viewDidLoad() {<br/>    super.viewDidLoad()<br/>    x()<br/>    let a = A()<br/>    a.Y() // error<br/>  }<br/>}</span><span id="f06d" class="mo lg it mk b gy mt mq l mr ms">extension ViewController{<br/>    private func x(){<br/>    print("Inside x")<br/>  }<br/>}</span><span id="ca32" class="mo lg it mk b gy mt mq l mr ms">class A {<br/>    private func Y(){<br/>    print("Inside Y")<br/>  }<br/>}</span></pre><h1 id="999b" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">swift访问控制之间的差异</h1><p id="3f59" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">现在我们将以表格的形式看到基于不同参数的访问修饰符之间的区别</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi na"><img src="../Images/f6c565268b3a6e1af65d765df6b81c1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1HWcxEIbXOS6zCvL57Wqmg.png"/></div></div></figure><p id="dedb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">祝贺🎉 🎉 🎉我想现在您对swift编程语言中的访问控制有了一些了解。您可以在swift官方文档中找到关于它们的简短讨论。</p><p id="bd89" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">如果你觉得这篇文章有用，请分享并鼓掌</strong>👏👏👏<br/>在<a class="ae le" href="https://medium.com/@arifulislam14" rel="noopener">媒体</a>上查看我的其他文章，在<a class="ae le" href="https://www.linkedin.com/in/arifparvez14/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上联系我。</p><p id="4657" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">感谢您阅读&amp;快乐编码🙂</p></div></div>    
</body>
</html>