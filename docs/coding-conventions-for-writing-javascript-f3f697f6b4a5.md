# 编写 JavaScript 的编码约定

> 原文：<https://levelup.gitconnected.com/coding-conventions-for-writing-javascript-f3f697f6b4a5>

![](img/f7a266f068b995515e6d1c8cd9f7b09a.png)

[张摄在](https://unsplash.com/@zhangleilei?utm_source=medium&utm_medium=referral)[上](https://unsplash.com?utm_source=medium&utm_medium=referral)

像任何其他编程语言一样，JavaScript 有自己的开发人员应该遵循的惯例。有很多规则需要遵循，但有一些关键的基本规则会影响整个程序中的代码。

# 为什么我们需要 JavaScript 编码惯例？

有约定会使事情更容易理解，因为代码库遵循相同的模式。

变量、函数、类和其他实体的命名和声明在其命名方案中是一致的。这意味着我们可以更容易地理解代码，并使事情更可预测。

空白、缩进和注释使代码易于阅读，不会使屏幕变得杂乱。

此外，维护更快，因为它更容易理解和跟踪。这使得调试更加有效。

# 变量和函数

变量名应该是骆驼大小写。这也适用于函数。

名字应该以字母开头。

例如，以下是好的:

```
let birthDay;
```

但是，以下不是:

```
let 123birthday;
```

# 班级

类名以大写字母开头，其余的都是 camel case，也叫 Pascal case。

左花括号之前应该有一个空格，右花括号应该在新的一行，前面没有空格。

例如，以下是好的:

```
class Person {}
```

而下面是不好的:

```
class person {}
```

# 常数

常量应该全部大写。所以以下是好的:

```
const FOO = 1;
```

# 美元符

许多库的标识符名称都以美元符号开始。因此，为了避免冲突，我们应该用别的东西开始我们的标识符。

# 运算符周围的间距

二元运算符的操作数和运算符之间应该有一个空格，如`+`、`-`、`=`、`*`、`/`和逗号后面。

例如，以下是好的:

```
let x = y + z;
```

但是，以下是不好的:

```
let x=y+z;
```

逗号分隔的项目在逗号后应该有一个空格。例如，以下是好的:

```
foo(1, 2, 3);
[1, 2, 3];
```

但是下面的代码不好:

```
foo(1,2,3);
[1,2,3];
```

# 代码缩进

缩进的 2 个空格是公认的缩进约定:

例如，以下是好的:

```
function foo() {
  let x = 1;
}
```

但是下面就不好了:

```
function foo() {
     let x = 1;
}
```

最好使用空格而不是制表符，因为不同的程序和操作系统对制表符有不同的解释。

许多文本编辑器可以通过更改设置或添加插件来将制表符转换为两个空格。

![](img/53d4bfef2476459dcc9a40e40082f561.png)

照片由 [Gabriela Kucerova](https://unsplash.com/@gabrielakucerova?utm_source=medium&utm_medium=referral) 在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄

# 声明

语句应该以分号结尾。

例如，以下是好的:

```
let x = 1;
```

但这是不好的:

```
let x = 1
```

省略分号是不好的，因为行结束的地方不明确。这对开发人员来说很难理解，JavaScript 解释器可能不会像您想象的那样运行代码。

例如，如果我们有:

```
if (x === 1)
  foo();
  bar();
```

那么我们可能认为当`x`为 1 时`foo`和`bar`都运行，但实际上，只有`foo`运行，因为只有`foo();`被认为在`if`块中。

对于复杂的语句，我们应该用花括号将语句块括起来，并在每一行的末尾加上分号，以使一切都清楚明了。

另外，在左括号之前应该有一个空格。右括号应该在新的一行中，没有任何前导空格。复杂语句不应该以分号结尾，即使分号是允许的。

例如，我们应该编写这样的函数:

```
function foo() {
  let x = 1;
}
```

条件语句应该是这样的:

```
if (x === 1) {
  y = 1;
} else {
  y = 0;
}
```

循环应该是这样的:

```
for (let i = 1; i <= 10; i++) {
  y = x;
}
```

# 对象文字

对象文字应该在左花括号前有空格，并且应该与对象名在同一行。里面的属性应该在冒号的左边，前面没有空格。冒号右边的值前面应该有一个空格。

最后一个属性后面不应该有逗号。

引号应该只包含在字符串中。

右括号应该在新的一行，前面没有空格。最后，对象文字定义应该以分号结束。

以下是具有良好间距的对象定义代码的示例:

```
let foo = {
  a: 1,
  b: 2,
  c: 3
}
```

较短的对象也可以压缩成一行，用空格分隔属性，如下所示:

```
let foo = { a: 1, b: 2 };
```

# 避免排长队

少于 80 个字符的行更适合在小屏幕上阅读。我们可以把一行的剩余部分放在下一行，从而把长的行分成短的行。

# 文件名

Windows 文件名不区分大小写。但是，大多数其他操作系统都有区分大小写的文件名。因此，最好将它们都命名为小写，以避免文件名大小写的问题。

有很多规则要遵守。但是，许多文本编辑器都有文本格式化功能来清理间距。其他的可以用 Linter 或者更漂亮的程序来美化代码。