<html>
<head>
<title>A Guide to EDA in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的EDA指南</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/cozy-up-with-your-data-6aedfb651172?source=collection_archive---------7-----------------------#2020-04-07">https://levelup.gitconnected.com/cozy-up-with-your-data-6aedfb651172?source=collection_archive---------7-----------------------#2020-04-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ab4d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在探索性数据分析期间要问的关于数据的重要问题</h2></div><p id="e140" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi le translated">创建机器学习模型很酷。作为初学者(我从经验中得知),直接跳到最酷的部分很有诱惑力——毕竟，这也是最重要的部分，对吗？</p><p id="3f70" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你直接跳到一部你从未看过的电影的高潮部分会怎样？你会感到困惑吗？会很愉快吗？</p><blockquote class="ln lo lp"><p id="6ef1" class="ki kj lq kk b kl km ju kn ko kp jx kq lr ks kt ku ls kw kx ky lt la lb lc ld im bi translated">正如电影中角色发展的第一个小时是基础一样，探索性数据分析(EDA)是迈向良好数据科学项目的关键第一步。</p></blockquote><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi lu"><img src="../Images/4937c766c2f13c9334343c24a2434cb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HyDXwBFUrWnOaSXL"/></div></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk translated"><a class="ae mk" href="https://unsplash.com/@trueagency?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">真实社</a>在<a class="ae mk" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="4f23" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">是时候带上你最喜欢的毯子、零食和毛衣，舒适地享受你的数据了。在EDA结束时，你应该像了解你最喜欢的电影中的角色一样了解你的数据集。</p><p id="2d01" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于本文，我列出了在数据科学项目开始时进行EDA时我试图回答的问题。我已经提供了代码片段(全部用Python编写，使用Pandas库)来给出一些代码示例，您可以运行这些代码来回答这些问题。</p><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi ml"><img src="../Images/4b30ff361476c4cb33195297200bbd07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bd77Z67oDl8q2_gD"/></div></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk translated">开拍！(照片由<a class="ae mk" href="https://unsplash.com/@jakobowens1?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">雅各布·欧文斯</a>在<a class="ae mk" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄)</figcaption></figure><h1 id="391e" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">0.下载数据前要问的问题</h1><p id="b735" class="pw-post-body-paragraph ki kj it kk b kl nf ju kn ko ng jx kq kr nh kt ku kv ni kx ky kz nj lb lc ld im bi translated">我将这一步称为0，因为它发生在将数据导入Python之前。这很容易忘记，但如果你能回答这些问题，它可以节省你很多时间和挫折。</p><ul class=""><li id="6c46" class="nk nl it kk b kl km ko kp kr nm kv nn kz no ld np nq nr ns bi translated">这些数据是如何收集的/从哪里来的？</li><li id="6788" class="nk nl it kk b kl nt ko nu kr nv kv nw kz nx ld np nq nr ns bi translated">我为什么对这些数据感兴趣？</li><li id="42c3" class="nk nl it kk b kl nt ko nu kr nv kv nw kz nx ld np nq nr ns bi translated">感兴趣的目标变量是什么？(如果适用)</li><li id="fa19" class="nk nl it kk b kl nt ko nu kr nv kv nw kz nx ld np nq nr ns bi translated">这些数据来源可靠吗？</li><li id="fe10" class="nk nl it kk b kl nt ko nu kr nv kv nw kz nx ld np nq nr ns bi translated">这里有足够的数据做一个ML模型吗？</li><li id="db61" class="nk nl it kk b kl nt ko nu kr nv kv nw kz nx ld np nq nr ns bi translated">其他人对此数据集进行过类似的分析/建模项目吗？我是想从他们的结论中学习，还是想创造一个新颖的项目？</li><li id="d88f" class="nk nl it kk b kl nt ko nu kr nv kv nw kz nx ld np nq nr ns bi translated">数据集有数据字典吗？完成了吗？</li><li id="91b5" class="nk nl it kk b kl nt ko nu kr nv kv nw kz nx ld np nq nr ns bi translated">如果我使用这些数据，我会遇到任何额外的挑战或问题吗？</li></ul><p id="e63c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当您可以选择使用什么数据集时，像使用过滤器一样使用这些问题会很有帮助。在项目进行到一半的时候，很难意识到你选择了一个错误的数据集。</p><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi ny"><img src="../Images/54f03eb85cce3399ef4335ec915da8b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xs8aZiCLC683UYrzI261_Q.png"/></div></div></figure><h1 id="6393" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">1.数据结构和分布</h1><p id="fa68" class="pw-post-body-paragraph ki kj it kk b kl nf ju kn ko ng jx kq kr nh kt ku kv ni kx ky kz nj lb lc ld im bi translated">在这一节，我将只看连续变量。然而，当你分析离散变量时，你也想重复所有适用的问题。</p><p id="20e4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是我一直运行的两行代码:</p><pre class="lv lw lx ly gt nz oa ob oc aw od bi"><span id="5a59" class="oe mn it oa b gy of og l oh oi">df.shape<br/>df.info()</span></pre><p id="6e1b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里有一个来自<code class="fe oj ok ol oa b">df.info()</code>的输出示例供参考:</p><pre class="lv lw lx ly gt nz oa ob oc aw od bi"><span id="d66c" class="oe mn it oa b gy of og l oh oi">&lt;class ‘pandas.core.frame.DataFrame’&gt; <br/>RangeIndex: 1302102 entries, 0 to 1302101 <br/>Data columns (total 10 columns): <br/>unitid 1302102 non-null int64 <br/>year 1302102 non-null int64 <br/>gender 1302102 non-null object <br/>race 1302102 non-null object <br/>cohort 1302102 non-null object <br/>grad_cohort 889380 non-null float64 <br/>grad_100 410069 non-null float64 <br/>grad_150 889380 non-null float64 <br/>grad_100_rate 332061 non-null float64 <br/>grad_150_rate 694869 non-null float64 <br/>dtypes: float64(5), int64(2), object(3) <br/>memory usage: 99.3+ MB</span></pre><p id="70e4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">要回答的问题:</strong></p><ul class=""><li id="5e89" class="nk nl it kk b kl km ko kp kr nm kv nn kz no ld np nq nr ns bi translated">你有几个特点？</li><li id="3ce6" class="nk nl it kk b kl nt ko nu kr nv kv nw kz nx ld np nq nr ns bi translated">你有多少观察值？</li><li id="5fc6" class="nk nl it kk b kl nt ko nu kr nv kv nw kz nx ld np nq nr ns bi translated">每个特征的数据类型是什么？</li><li id="56ef" class="nk nl it kk b kl nt ko nu kr nv kv nw kz nx ld np nq nr ns bi translated">根据您对数据集特征的了解，这些数据类型有意义吗？你需要改变什么吗？</li></ul><p id="8047" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">示例:您的数据的每一行都有一个客户ID号，每个号码都是五位数，存储为整数。您永远不会像对整数那样聚合或分析客户ID，所以您应该将其更改为“object”数据类型。</p><ul class=""><li id="31d1" class="nk nl it kk b kl km ko kp kr nm kv nn kz no ld np nq nr ns bi translated">你有空值吗？(待稍后修复)</li><li id="6361" class="nk nl it kk b kl nt ko nu kr nv kv nw kz nx ld np nq nr ns bi translated">这个数据集使用了多少内存？这会给你以后带来问题吗？</li></ul><p id="5440" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">看看变量分布，这几行代码是<strong class="kk iu">魔法:</strong></p><pre class="lv lw lx ly gt nz oa ob oc aw od bi"><span id="6d13" class="oe mn it oa b gy of og l oh oi">df.hist(figsize=(15,15)) <br/>#set a large figsize if you have &gt; 9 variables<br/>plt.tight_layout()<br/>plt.show()</span></pre><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi om"><img src="../Images/ae12e62cc577d7f92981315dc2277e89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g5zX0TmrOOQYQ2i4XZvVFw.png"/></div></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk translated">上面代码的输出示例</figcaption></figure><p id="def0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">需要回答的问题:</strong></p><ul class=""><li id="75e8" class="nk nl it kk b kl km ko kp kr nm kv nn kz no ld np nq nr ns bi translated">每个变量的分布是怎样的？</li><li id="b026" class="nk nl it kk b kl nt ko nu kr nv kv nw kz nx ld np nq nr ns bi translated">是否存在异常值？(待稍后修复)</li><li id="8e79" class="nk nl it kk b kl nt ko nu kr nv kv nw kz nx ld np nq nr ns bi translated">思考变量的含义以及直方图对它们的值和分布的说明——有什么惊喜吗？</li></ul><p id="3b18" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以及查看汇总统计数据的最后一段代码:</p><pre class="lv lw lx ly gt nz oa ob oc aw od bi"><span id="1fa4" class="oe mn it oa b gy of og l oh oi">df.describe()</span></pre><p id="cb5e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">要回答的问题:</strong></p><ul class=""><li id="39a0" class="nk nl it kk b kl km ko kp kr nm kv nn kz no ld np nq nr ns bi translated">变量的最大/最小值是否合理？您看到任何看起来像错误的值了吗？</li><li id="10ae" class="nk nl it kk b kl nt ko nu kr nv kv nw kz nx ld np nq nr ns bi translated">每个变量的平均值是多少？从整体上看，这些方法能告诉你数据集的哪些信息？</li></ul><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi ny"><img src="../Images/54f03eb85cce3399ef4335ec915da8b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xs8aZiCLC683UYrzI261_Q.png"/></div></div></figure><h1 id="f2c2" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">2.空值和重复值</h1><p id="4ab1" class="pw-post-body-paragraph ki kj it kk b kl nf ju kn ko ng jx kq kr nh kt ku kv ni kx ky kz nj lb lc ld im bi translated">让我们从简单的开始:重复值。</p><pre class="lv lw lx ly gt nz oa ob oc aw od bi"><span id="97aa" class="oe mn it oa b gy of og l oh oi">df.duplicated().sum()</span></pre><p id="9969" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">运行这段代码后，是否得到一个大于0的值？如果是这样，您可以使用以下命令轻松删除重复的行:</p><pre class="lv lw lx ly gt nz oa ob oc aw od bi"><span id="1b40" class="oe mn it oa b gy of og l oh oi">df.drop_duplicates(inplace=True)</span></pre><p id="531e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在是空值。要打印数据集中所有变量和空值百分比(不包括0)的列表，可以运行:</p><pre class="lv lw lx ly gt nz oa ob oc aw od bi"><span id="e868" class="oe mn it oa b gy of og l oh oi">null = df.isna().sum()/len(df)<br/>null[null &gt; 0].sort_values()</span></pre><p id="79a1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是一个输出示例:</p><pre class="lv lw lx ly gt nz oa ob oc aw od bi"><span id="a7f0" class="oe mn it oa b gy of og l oh oi">aid_value 0.000273 <br/>aid_percentile 0.000273 <br/>pell_value 0.000273 <br/>pell_percentile 0.000273 <br/>ft_pct 0.001093 <br/>ft_fac_percentile 0.003347 <br/>ft_fac_value 0.003347 <br/>retain_value 0.062022 <br/>retain_percentile 0.062022 <br/>cohort_size 0.069536 <br/>grad_100_value 0.069536 <br/>grad_100_percentile 0.069536 <br/>grad_150_value 0.069536 <br/>grad_150_percentile 0.069536 <br/>grad_150 0.121790 <br/>grad_cohort 0.121790 <br/>grad_150_rate 0.279528</span></pre><p id="fbad" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">要回答的问题:</strong></p><ul class=""><li id="b2c5" class="nk nl it kk b kl km ko kp kr nm kv nn kz no ld np nq nr ns bi translated">空值是数据记录方式的结果吗？</li></ul><p id="9fd6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">示例:调查响应数据记录在“是”、“否”列中，空值表示“不回答”在这种情况下，所有的空值都可以用一个值来填充，比如“no answer”</p><ul class=""><li id="8f29" class="nk nl it kk b kl km ko kp kr nm kv nn kz no ld np nq nr ns bi translated">您能在不显著影响您的分析的情况下删除空值行吗？</li><li id="73e7" class="nk nl it kk b kl nt ko nu kr nv kv nw kz nx ld np nq nr ns bi translated">观察变量的分布，你能证明用该变量的平均值或中值填充缺失值是正确的吗？</li></ul><p id="6400" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">小心点！您必须以某种方式处理丢失的值，但有时删除行比修补原始数据更好，因为如果您将坏数据放入模型中，您将无法获得有意义的结果。</p><ul class=""><li id="3cbe" class="nk nl it kk b kl km ko kp kr nm kv nn kz no ld np nq nr ns bi translated">如果你的数据是时间序列数据，可以用插值来填补缺失值吗？</li><li id="1a2c" class="nk nl it kk b kl nt ko nu kr nv kv nw kz nx ld np nq nr ns bi translated">某个变量是否有太多缺失值，以至于应该从数据集中删除该变量？</li></ul><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi ny"><img src="../Images/54f03eb85cce3399ef4335ec915da8b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xs8aZiCLC683UYrzI261_Q.png"/></div></div></figure><h1 id="bd74" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">3.极端值</h1><p id="f15f" class="pw-post-body-paragraph ki kj it kk b kl nf ju kn ko ng jx kq kr nh kt ku kv ni kx ky kz nj lb lc ld im bi translated">我喜欢制作箱线图来可视化数据集中的异常值。如果你的变量大致相同，使用Pandas <code class="fe oj ok ol oa b">df.boxplot()</code>方法会很好。这将在同一图表上创建数据集中每个连续变量的箱线图。如果变量有不同的比例，可以用循环中的支线剧情来绘制它们:</p><pre class="lv lw lx ly gt nz oa ob oc aw od bi"><span id="a328" class="oe mn it oa b gy of og l oh oi">continuous_labels = list(continuous.columns)<br/>i = 1</span><span id="faa0" class="oe mn it oa b gy on og l oh oi">plt.figure(figsize=(15,30))</span><span id="16c9" class="oe mn it oa b gy on og l oh oi">for var in continuous_labels: #plotting boxplot for each variable<br/>   plt.subplot(round(len(continuous_labels),0)/3+3,4,i)<br/>   plt.boxplot(continuous[var],whis=5)<br/>   plt.title(var)<br/>   i+=1</span><span id="b5fe" class="oe mn it oa b gy on og l oh oi">plt.tight_layout()<br/>plt.show()</span></pre><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi oo"><img src="../Images/66bd84fe3eeae90530f8a70af61c7ccb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zftpWu3-u_xHd3GKZpkZBg.png"/></div></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk translated">用上面的代码创建的箱线图的部分图片。</figcaption></figure><p id="a92a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">要问的问题:</strong></p><ul class=""><li id="03cf" class="nk nl it kk b kl km ko kp kr nm kv nn kz no ld np nq nr ns bi translated">您的变量中是否有异常值(在箱线图上用黑色圆圈表示)？</li><li id="2450" class="nk nl it kk b kl nt ko nu kr nv kv nw kz nx ld np nq nr ns bi translated">为什么你认为你有离群值？</li><li id="a228" class="nk nl it kk b kl nt ko nu kr nv kv nw kz nx ld np nq nr ns bi translated">异常值代表真实的观察结果吗(即不是错误)？</li><li id="60a4" class="nk nl it kk b kl nt ko nu kr nv kv nw kz nx ld np nq nr ns bi translated">你应该排除这些观察吗？如果不是，你是否应该对这些值进行winsorize？</li></ul><p id="62e9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是一个棘手的问题。我通常会找出我的异常值，然后让它们保持原样，直到我尝试了一些模型。如果我发现模型的准确性很低，我会回去重新评估我是否应该对有异常值的变量进行winsorize(如果我没有其他选择的话)。</p><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi ny"><img src="../Images/54f03eb85cce3399ef4335ec915da8b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xs8aZiCLC683UYrzI261_Q.png"/></div></div></figure><h1 id="60f3" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">4.相关性/关系</h1><p id="9d0c" class="pw-post-body-paragraph ki kj it kk b kl nf ju kn ko ng jx kq kr nh kt ku kv ni kx ky kz nj lb lc ld im bi translated">要创建连续变量的相关性矩阵，您需要的所有代码是:</p><pre class="lv lw lx ly gt nz oa ob oc aw od bi"><span id="d79b" class="oe mn it oa b gy of og l oh oi">df.corr()</span></pre><p id="0912" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您想要包含离散变量，那么您需要使用one-hot-encoding(参见下一节)将这些变量转换成数字变量。那么它们也可以包含在相关矩阵中。</p><p id="2975" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">要问的问题:</strong></p><ul class=""><li id="339e" class="nk nl it kk b kl km ko kp kr nm kv nn kz no ld np nq nr ns bi translated">哪些变量与你的目标变量最相关？(如果适用)</li><li id="d2a6" class="nk nl it kk b kl nt ko nu kr nv kv nw kz nx ld np nq nr ns bi translated">是否存在多重共线性？(相关性大于0.8的两个特征)这将如何影响您的模型？</li><li id="62e0" class="nk nl it kk b kl nt ko nu kr nv kv nw kz nx ld np nq nr ns bi translated">你有代表相同信息的变量吗？可以掉一个吗？</li></ul><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi ny"><img src="../Images/54f03eb85cce3399ef4335ec915da8b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xs8aZiCLC683UYrzI261_Q.png"/></div></div></figure><h1 id="dcef" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">5.特征工程</h1><p id="0deb" class="pw-post-body-paragraph ki kj it kk b kl nf ju kn ko ng jx kq kr nh kt ku kv ni kx ky kz nj lb lc ld im bi translated">先说一个常用的特征工程方法:变量变换。</p><h2 id="fbff" class="oe mn it bd mo op oq dn ms or os dp mw kr ot ou my kv ov ow na kz ox oy nc oz bi translated">变量变换</h2><p id="166c" class="pw-post-body-paragraph ki kj it kk b kl nf ju kn ko ng jx kq kr nh kt ku kv ni kx ky kz nj lb lc ld im bi translated">最常见的转换是<strong class="kk iu"> one-hot-encoding </strong>将分类变量转换成数字变量，具体来说是二进制变量。这是必要的，因为机器学习模型无法处理“对象”数据类型。熊猫让这变得容易:</p><pre class="lv lw lx ly gt nz oa ob oc aw od bi"><span id="d173" class="oe mn it oa b gy of og l oh oi">new_df = pd.get_dummies(df,drop_first=True)</span></pre><p id="2d4c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一个常见的转换(对某些模型来说是必要的)是<strong class="kk iu">标准化</strong>变量。下面是代码:</p><pre class="lv lw lx ly gt nz oa ob oc aw od bi"><span id="4efe" class="oe mn it oa b gy of og l oh oi">from sklearn.preprocessing import StandardScaler<br/>X_std = StandardScaler().fit_transform(X)</span></pre><p id="967d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，根据您使用的模型，您可能希望变换变量，使它们遵循正态分布。为此，您可以尝试使用<code class="fe oj ok ol oa b">np.log()</code>、<code class="fe oj ok ol oa b">np.sqrt()</code>、box-cox变换和其他函数来变换您的数据，以更好地适应正态分布。</p><h2 id="9aed" class="oe mn it bd mo op oq dn ms or os dp mw kr ot ou my kv ov ow na kz ox oy nc oz bi translated">创建新功能</h2><p id="4469" class="pw-post-body-paragraph ki kj it kk b kl nf ju kn ko ng jx kq kr nh kt ku kv ni kx ky kz nj lb lc ld im bi translated">在我看来，这是最难的部分，需要最批判性的思维。我无法给出适用于许多项目的任何代码——这真的取决于数据集。</p><p id="41c4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是您可能想要尝试创建新要素的几种情况:</p><ul class=""><li id="72bb" class="nk nl it kk b kl km ko kp kr nm kv nn kz no ld np nq nr ns bi translated">你怀疑一个结果和一个特征的关系取决于另一个特征→创建一个交互变量</li><li id="6a9b" class="nk nl it kk b kl nt ko nu kr nv kv nw kz nx ld np nq nr ns bi translated">您想要创建线性关系→创建二次或更高级别的函数</li><li id="3bfc" class="nk nl it kk b kl nt ko nu kr nv kv nw kz nx ld np nq nr ns bi translated">您可以考虑数据集中缺失的变量/信息→使用您拥有的变量函数创建此变量</li></ul><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi ny"><img src="../Images/54f03eb85cce3399ef4335ec915da8b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xs8aZiCLC683UYrzI261_Q.png"/></div></div></figure><h1 id="6cd5" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">结束了</h1><p id="69d8" class="pw-post-body-paragraph ki kj it kk b kl nf ju kn ko ng jx kq kr nh kt ku kv ni kx ky kz nj lb lc ld im bi translated">恭喜你走到了EDA的尽头！写这篇文章让我意识到，通过几行非常简单的代码，您可以了解多少关于数据的信息。希望你有足够的爆米花(和能量)用于建模过程。</p></div><div class="ab cl pa pb hx pc" role="separator"><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf pg"/><span class="pd bw bk pe pf"/></div><div class="im in io ip iq"><p id="0970" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">不确定EDA之后从哪个型号开始？下面是流行的监督机器学习模型的用例汇总图:</p><div class="ph pi gp gr pj pk"><a href="https://towardsdatascience.com/2-months-of-supervised-machine-learning-curriculum-in-2-charts-259970e38a63" rel="noopener follow" target="_blank"><div class="pl ab fo"><div class="pm ab pn cl cj po"><h2 class="bd iu gy z fp pp fr fs pq fu fw is bi translated">两个月的监督机器学习课程，包含在两个图表中</h2><div class="pr l"><h3 class="bd b gy z fp pp fr fs pq fu fw dk translated">这是我希望在数据科学训练营时拥有的参考表</h3></div><div class="ps l"><p class="bd b dl z fp pp fr fs pq fu fw dk translated">towardsdatascience.com</p></div></div><div class="pt l"><div class="pu l pv pw px pt py me pk"/></div></div></a></div><p id="c69d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢阅读！</p></div></div>    
</body>
</html>