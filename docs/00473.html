<html>
<head>
<title>How to Build A Spotify Player with React in 15 Minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在15分钟内用React构建一个Spotify播放器</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-build-a-spotify-player-with-react-in-15-minutes-7e01991bc4b6?source=collection_archive---------0-----------------------#2019-03-22">https://levelup.gitconnected.com/how-to-build-a-spotify-player-with-react-in-15-minutes-7e01991bc4b6?source=collection_archive---------0-----------------------#2019-03-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><h1 id="da3f" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">Spotify开发者API简介</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi kl"><img src="../Images/c40e8991feab6d7f6c273e8d8e5eeafe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*KGOTMV8KD120TApnijDauQ.png"/></div></figure><p id="06b9" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">你有没有想过将Spotify集成到你的应用程序或网站中？使用Spotify开发者API，将个性化音乐添加到任何应用程序都非常简单。就我个人而言，我一直在玩Spotify API和我在业余时间建立的一个物联网项目。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi lr"><img src="../Images/d77eaa69d81e467cd5448a25a49ee98f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qIg_-BGURcZ3UkuXxfS6ig.jpeg"/></div></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">我的MagicMirror项目与Spotify集成。</figcaption></figure><p id="8b6e" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">Spotify API易于使用，可以添加到任何应用程序中。</p><p id="a0bc" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在这篇文章中，我将介绍如何使用React在浏览器中访问Spotify开发者API。我们的目标是为那些希望尽快使用Spotify API的前端开发人员提供一个起点。我们将共同创建一个Spotify网络播放器，显示您当前在Spotify上播放的音乐信息。我们还将演示如何:</p><ul class=""><li id="4985" class="ma mb iq kv b kw kx la lb le mc li md lm me lq mf mg mh mi bi translated">向Spotify注册应用程序</li><li id="941b" class="ma mb iq kv b kw mj la mk le ml li mm lm mn lq mf mg mh mi bi translated">认证用户并获得访问用户数据的授权</li><li id="6313" class="ma mb iq kv b kw mj la mk le ml li mm lm mn lq mf mg mh mi bi translated">从Web API端点检索数据</li></ul><p id="3706" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">您可以在这里找到所有的源代码:</p><div class="mo mp gp gr mq mr"><a href="https://github.com/JoeKarlsson/react-spotify-player" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd ir gy z fp mw fr fs mx fu fw ip bi translated">JoeKarlsson/react-Spotify-播放器</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">React构建的实时Spotify播放器。为JoeKarlsson/react-spotify播放器开发做出贡献，创建一个…</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">github.com</p></div></div><div class="na l"><div class="nb l nc nd ne na nf kr mr"/></div></div></a></div><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi ng"><img src="../Images/eaf185b429bb4fb07548ed0c6be1a578.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/1*Hz5eVZX6IbrXvwb2qEUcRA.gif"/></div></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">我们的Spotify网络播放器正在运行</figcaption></figure><p id="3411" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">注意:本文不会深入React，它需要JavaScript和React的基础知识。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/fe0e55a5f0e85764552d3c208a1a6962.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/1*m5UdqrCtEW7w83Bpfcv7xQ.gif"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">好了，现在我们开始吧！</figcaption></figure><h1 id="dcda" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">设置您的帐户</h1><p id="6bb3" class="pw-post-body-paragraph kt ku iq kv b kw ni ky kz la nj lc ld le nk lg lh li nl lk ll lm nm lo lp lq ij bi translated">要使用Web API，首先要创建一个Spotify用户帐户(高级或免费)。为此，只需在<a class="ae nn" href="http://www.spotify.com/" rel="noopener ugc nofollow" target="_blank">www.spotify.com</a>注册即可。</p><p id="fcab" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">当你拥有一个用户账户时，进入Spotify开发者网站的<a class="ae nn" href="https://developer.spotify.com/dashboard" rel="noopener ugc nofollow" target="_blank">仪表盘</a>页面，如有必要，登录。接受最新的<a class="ae nn" href="https://developer.spotify.com/terms" rel="noopener ugc nofollow" target="_blank">开发者服务条款</a>以完成您的帐户设置。</p><h1 id="7951" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">注册您的应用程序</h1><p id="52a1" class="pw-post-body-paragraph kt ku iq kv b kw ni ky kz la nj lc ld le nk lg lh li nl lk ll lm nm lo lp lq ij bi translated">任何应用程序都可以从Spotify Web API端点请求数据，许多端点是开放的，将返回数据<em class="no">而不需要</em>注册。但是，如果您的应用程序试图访问用户的个人数据(个人资料、播放列表等)。)必须挂号。</p><p id="1d08" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">你可以<a class="ae nn" href="https://developer.spotify.com/documentation/general/guides/app-settings/#register-your-app" rel="noopener ugc nofollow" target="_blank">注册你的应用</a>，甚至在你创建它之前。</p><p id="7f6d" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">前往Spotify开发者网站的<a class="ae nn" href="https://developer.spotify.com/dashboard" rel="noopener ugc nofollow" target="_blank">仪表盘</a>页面，点击“我的新应用”。"</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi np"><img src="../Images/e7c8f3e02ddf2cf0fc2b5682d25e4728.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q8TqczPy9qXktRPtwTsUZw.png"/></div></div></figure><p id="f38c" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用表格作为指南，填写新应用的信息。然后单击下一步。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi nq"><img src="../Images/b25392660d25f1a7dde462203cd79d41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mYgEks-YVy9-n1N5AjiGUw.png"/></div></div></figure><p id="7057" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">点击“编辑设置”继续您的应用程序注册。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi nr"><img src="../Images/1f4a8e793c3a00b3cd590ae7f9448dbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vwwrjL8TM_Ityqs6M3sB8Q.png"/></div></div></figure><p id="5989" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">最重要的是，你必须把一个重定向网址。我们将使用Create React应用程序中的默认URL。在本栏位输入<a class="ae nn" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000 </a>。这是用户通过Spotify认证后，您希望重定向到的URL。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi nq"><img src="../Images/1be7d4f68e56bd072ae5ff276aabb107.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tb4PLnsPM1MupL_dMgh1xA.png"/></div></div></figure><p id="c7a9" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">点击“保存”,并确保记下您申请中的客户ID。恭喜您，您已经注册了您的应用程序，现在我们可以开始编写代码了。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/0ec907b11b237482fa06fc225dd61875.png" data-original-src="https://miro.medium.com/v2/resize:fit:560/1*DcKWZ0I6VQhemLfg4KGxHg.gif"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">你做到了！</figcaption></figure><h1 id="7b33" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">设置代码</h1><p id="920c" class="pw-post-body-paragraph kt ku iq kv b kw ni ky kz la nj lc ld le nk lg lh li nl lk ll lm nm lo lp lq ij bi translated">我们将通过运行<a class="ae nn" href="https://github.com/facebook/create-react-app" rel="noopener ugc nofollow" target="_blank"> Create React App </a>快速开始。您可以通过在终端中运行以下命令来做到这一点。</p><pre class="km kn ko kp gt nt nu nv nw aw nx bi"><span id="0f31" class="ny jo iq nu b gy nz oa l ob oc">npx create-react-app react-spotify-player<br/>cd react-spotify-player<br/>npm start</span></pre><p id="d86e" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在你最喜欢的文本编辑器中打开项目，然后让我们的应用程序通过Spotify认证，这样我们就可以获得这些有趣的数据。向Spotify认证的方法有很多很多，但我们将使用<a class="ae nn" href="https://developer.spotify.com/documentation/general/guides/authorization-guide/#implicit-grant-flow" rel="noopener ugc nofollow" target="_blank">隐式授权</a>。</p><p id="c022" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><a class="ae nn" href="https://developer.spotify.com/documentation/general/guides/authorization-guide/#implicit-grant-flow" rel="noopener ugc nofollow" target="_blank">隐式授权流</a>适用于完全使用JavaScript实现并在资源所有者的浏览器中运行的客户端(如我们的客户端)。隐式授权流程在客户端执行，不涉及密钥。颁发的访问令牌是短期的，并且当它们到期时没有刷新令牌来延长它们。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi od"><img src="../Images/413256ecc9e1f6247f61c6cca809acd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oRSho09JSaDFuJ0bCOSj0g.png"/></div></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">来源:<a class="ae nn" href="https://developer.spotify.com/documentation/general/guides/authorization-guide/#implicit-grant-flow" rel="noopener ugc nofollow" target="_blank">https://developer . Spotify . com/documentation/general/guides/authorization-guide/# implicit-grant-flow</a></figcaption></figure><p id="6f59" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们需要编写一些代码来执行几个动作:</p><ol class=""><li id="3e8f" class="ma mb iq kv b kw kx la lb le mc li md lm me lq oe mg mh mi bi translated">我们将把用户重定向到帐户服务的<code class="fe of og oh nu b">/authorize</code>端点:</li></ol><p id="e9d5" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><code class="fe of og oh nu b">GET <a class="ae nn" href="https://accounts.spotify.com/authorize" rel="noopener ugc nofollow" target="_blank">https://accounts.spotify.com/authorize</a></code></p><p id="6b7a" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">2.要求用户授权范围内的访问。Spotify Accounts服务提供正在寻求访问的<a class="ae nn" href="https://developer.spotify.com/documentation/general/guides/authorization-guide/#list-of-scopes" rel="noopener ugc nofollow" target="_blank">范围</a>的详细信息。</p><ul class=""><li id="88af" class="ma mb iq kv b kw kx la lb le mc li md lm me lq mf mg mh mi bi translated">如果用户未登录，系统会提示他们使用Spotify用户名和密码登录。</li><li id="6892" class="ma mb iq kv b kw mj la mk le ml li mm lm mn lq mf mg mh mi bi translated">当用户登录时，会要求他们授权访问范围中定义的数据集。</li></ul><p id="1e26" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">3.用户将被重定向回您指定的URI。在用户同意(或拒绝)访问后，Spotify帐户服务会将用户重定向到<code class="fe of og oh nu b">redirect_uri</code>。在本例中，重定向地址是:<code class="fe of og oh nu b"><a class="ae nn" href="https://example.com/callback" rel="noopener ugc nofollow" target="_blank">https://example.com/callback</a></code></p><p id="8df6" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在App.js中添加以下代码:</p><pre class="km kn ko kp gt nt nu nv nw aw nx bi"><span id="e84d" class="ny jo iq nu b gy nz oa l ob oc">import React, { Component } from "react";<br/>import hash from "./hash";<br/>import logo from "./logo.svg";<br/>import "./App.css";</span><span id="4aae" class="ny jo iq nu b gy oi oa l ob oc">export const authEndpoint = 'https://accounts.spotify.com/authorize';</span><span id="0935" class="ny jo iq nu b gy oi oa l ob oc">// Replace with your app's client ID, redirect URI and desired scopes<br/>const clientId = "YOUR_CLIENT_ID_GOES_HERE";<br/>const redirectUri = "http://localhost:3000";<br/>const scopes = [<br/>  "user-read-currently-playing",<br/>  "user-read-playback-state",<br/>];</span><span id="a3b8" class="ny jo iq nu b gy oi oa l ob oc">// Get the hash of the url<br/>const hash = window.location.hash<br/>  .substring(1)<br/>  .split("&amp;")<br/>  .reduce(function(initial, item) {<br/>    if (item) {<br/>      var parts = item.split("=");<br/>      initial[parts[0]] = decodeURIComponent(parts[1]);<br/>    }<br/>    return initial;<br/>  }, {});</span><span id="8a73" class="ny jo iq nu b gy oi oa l ob oc">window.location.hash = "";</span><span id="d4ef" class="ny jo iq nu b gy oi oa l ob oc">class App extends Component {<br/>  componentDidMount() {<br/>    // Set token<br/>    let _token = hash.access_token;<br/>    if (_token) {<br/>      // Set token<br/>      <em class="no">this</em>.setState({<br/>        token: _token<br/>      });<br/>    }<br/>  }</span><span id="484e" class="ny jo iq nu b gy oi oa l ob oc">render() {<br/>  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;header className="App-header"&gt;<br/>      &lt;img src={logo} className="App-logo" alt="logo" /&gt;<br/>      {!<em class="no">this</em>.state.token &amp;&amp; (<br/>        &lt;a<br/>          className="btn btn--loginApp-link"<br/>          href={`${authEndpoint}client_id=${clientId}&amp;redirect_uri=${redirectUri}&amp;scope=${scopes.join("%20")}&amp;response_type=token&amp;show_dialog=true`}<br/>        &gt;<br/>          Login to Spotify<br/>        &lt;/a&gt;<br/>      )}<br/>      {<em class="no">this</em>.state.token &amp;&amp; (<br/>        // Spotify Player Will Go Here In the Next Step<br/>      )}<br/>      &lt;/header&gt;<br/>    &lt;/div&gt;<br/>  );<br/>  }</span><span id="529a" class="ny jo iq nu b gy oi oa l ob oc">}</span><span id="2707" class="ny jo iq nu b gy oi oa l ob oc">export default App;</span></pre><p id="1127" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这段代码创建了一个“登录Spotify”按钮，重定向用户到Spotify进行身份验证，我们可以获得一个身份验证令牌，然后用它向Spotify API发出请求。</p><p id="e92b" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在，让我们添加一个调用Spotify API并返回数据的函数。您需要添加附加信息。</p><pre class="km kn ko kp gt nt nu nv nw aw nx bi"><span id="d018" class="ny jo iq nu b gy nz oa l ob oc">import * as $ from "jquery";<br/>import Player from "./Player";</span><span id="37ac" class="ny jo iq nu b gy oi oa l ob oc">class App extends Component {<br/>  constructor() {<br/>    <em class="no">super</em>();<br/>    <em class="no">this</em>.state = {<br/>      token: null,<br/>    item: {<br/>      album: {<br/>        images: [{ url: "" }]<br/>      },<br/>      name: "",<br/>      artists: [{ name: "" }],<br/>      duration_ms:0,<br/>    },<br/>    is_playing: "Paused",<br/>    progress_ms: 0<br/>  };</span><span id="7856" class="ny jo iq nu b gy oi oa l ob oc">  <em class="no">this</em>.getCurrentlyPlaying = <em class="no">this</em>.getCurrentlyPlaying.bind(<em class="no">this</em>);<br/>  }</span><span id="435b" class="ny jo iq nu b gy oi oa l ob oc">  getCurrentlyPlaying(token) {<br/>    // Make a call using the token<br/>    $.ajax({<br/>      url: "https://api.spotify.com/v1/me/player",<br/>      type: "GET",<br/>      beforeSend: (xhr) =&gt; {<br/>        xhr.setRequestHeader("Authorization", "Bearer " + token);<br/>      },<br/>      success: (data) =&gt; {<br/>        <em class="no">this</em>.setState({<br/>          item: data.item,<br/>          is_playing: data.is_playing,<br/>          progress_ms: data.progress_ms,<br/>        });<br/>      }<br/>    });<br/>  }</span><span id="4cbe" class="ny jo iq nu b gy oi oa l ob oc">  ...</span><span id="fea2" class="ny jo iq nu b gy oi oa l ob oc">}</span></pre><p id="2690" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">然后，当然，我们需要制作实际的播放器。我们首先需要创建一个名为<code class="fe of og oh nu b">Player.js</code>的新玩家组件。</p><pre class="km kn ko kp gt nt nu nv nw aw nx bi"><span id="285f" class="ny jo iq nu b gy nz oa l ob oc">import React from "react";<br/>import "./Player.css";</span><span id="2389" class="ny jo iq nu b gy oi oa l ob oc">const Player = props =&gt; {<br/>  const backgroundStyles = {<br/>    backgroundImage:`url(${props.item.album.images[0].url})`,<br/>  };<br/>  <br/>  const progressBarStyles = {<br/>    width: (props.progress_ms * 100 / props.item.duration_ms) + '%'<br/>  };<br/>  <br/>  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;div className="main-wrapper"&gt;<br/>        &lt;div className="now-playing__img"&gt;<br/>          &lt;img src={props.item.album.images[0].url} /&gt;<br/>        &lt;/div&gt;<br/>        &lt;div className="now-playing__side"&gt;<br/>          &lt;div className="now-playing__name"&gt;{props.item.name}&lt;/div&gt;<br/>          &lt;div className="now-playing__artist"&gt;<br/>            {props.item.artists[0].name}<br/>          &lt;/div&gt;<br/>          &lt;div className="now-playing__status"&gt;<br/>            {props.is_playing ? "Playing" : "Paused"}<br/>          &lt;/div&gt;<br/>          &lt;div className="progress"&gt;<br/>            &lt;div<br/>              className="progress__bar"<br/>              style={progressBarStyles}<br/>            /&gt;<br/>          &lt;/div&gt;<br/>        &lt;/div&gt;<br/>        &lt;div className="background" style={backgroundStyles} /&gt;{" "}<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span><span id="a3dd" class="ny jo iq nu b gy oi oa l ob oc">export default Player;</span></pre><p id="a9b7" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这里是<code class="fe of og oh nu b">Player.css</code>的CSS。</p><pre class="km kn ko kp gt nt nu nv nw aw nx bi"><span id="4f0c" class="ny jo iq nu b gy nz oa l ob oc">/** Now Playing **/<br/>.now-playing__name {<br/>  font-size: 1.5em;<br/>  margin-bottom: 0.2em;<br/>}</span><span id="26ea" class="ny jo iq nu b gy oi oa l ob oc">.now-playing__artist {<br/>  margin-bottom: 1em;<br/>}</span><span id="91b7" class="ny jo iq nu b gy oi oa l ob oc">.now-playing__status {<br/>  margin-bottom: 1em;<br/>}</span><span id="a16a" class="ny jo iq nu b gy oi oa l ob oc">.now-playing__img {<br/>  float: left;<br/>  margin-right: 10px;<br/>  text-align: right;<br/>  width: 45%;<br/>}</span><span id="e941" class="ny jo iq nu b gy oi oa l ob oc">.now-playing__img img {<br/>  max-width: 80vmin;<br/>  width: 100%;<br/>}</span><span id="7fea" class="ny jo iq nu b gy oi oa l ob oc">.now-playing__side {<br/>  margin-left: 5%;<br/>  width: 45%;<br/>}</span><span id="3344" class="ny jo iq nu b gy oi oa l ob oc">/** Progress **/<br/>.progress {<br/>  border: 1px solid #eee;<br/>  height: 6px;<br/>  border-radius: 3px;<br/>  overflow: hidden;<br/>}</span><span id="f267" class="ny jo iq nu b gy oi oa l ob oc">.progress__bar {<br/>  background-color: #eee;<br/>  height: 4px;<br/>}</span></pre><p id="6bdc" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">然后在你的<code class="fe of og oh nu b">App.js</code>中，你需要将数据从Spotify传入你的播放器组件。</p><pre class="km kn ko kp gt nt nu nv nw aw nx bi"><span id="e8a8" class="ny jo iq nu b gy nz oa l ob oc">class App extends Component {</span><span id="6123" class="ny jo iq nu b gy oi oa l ob oc">...</span><span id="dc01" class="ny jo iq nu b gy oi oa l ob oc">  render() {<br/>    return (</span><span id="f642" class="ny jo iq nu b gy oi oa l ob oc">      ...</span><span id="5525" class="ny jo iq nu b gy oi oa l ob oc">      {<em class="no">this</em>.state.token &amp;&amp; (<br/>        &lt;Player<br/>          item={<em class="no">this</em>.state.item}<br/>          is_playing={<em class="no">this</em>.state.is_playing}<br/>          progress_ms={<em class="no">this</em>.progress_ms}<br/>        /&gt;<br/>      )}<br/>     &lt;/header&gt;<br/>   &lt;/div&gt;<br/>  );<br/> }<br/>}</span></pre><p id="5dc9" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这就是你需要的所有代码。到这一步，你的应用程序看起来和工作起来应该是这样的。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi ng"><img src="../Images/eaf185b429bb4fb07548ed0c6be1a578.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/1*Hz5eVZX6IbrXvwb2qEUcRA.gif"/></div></div></figure><p id="5b0f" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">就是这样！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/82a4f283c03dc382829df5efc2c51e7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*OTlBtshwFr_J4WfPfp6B1w.gif"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">你做到了！</figcaption></figure><p id="0d20" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果您有任何问题或意见，请随时联系或<a class="ae nn" href="https://github.com/JoeKarlsson/react-spotify-player/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc" rel="noopener ugc nofollow" target="_blank">在回购中提出问题</a>。</p><blockquote class="ok ol om"><p id="e0bb" class="kt ku no kv b kw kx ky kz la lb lc ld on lf lg lh oo lj lk ll op ln lo lp lq ij bi translated">你可以在这里找到这个教程的源代码:<a class="ae nn" href="https://github.com/JoeKarlsson/react-spotify-player" rel="noopener ugc nofollow" target="_blank">https://github.com/JoeKarlsson/react-spotify-player</a></p></blockquote></div><div class="ab cl oq or hu os" role="separator"><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov"/></div><div class="ij ik il im in"><p id="7087" class="pw-post-body-paragraph kt ku iq kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我叫Joe Karlsson，是一名来自明尼苏达州明尼阿波利斯冻原的软件工程师。我写代码，建立团队，做演讲。您可以关注我:</p><ul class=""><li id="fccc" class="ma mb iq kv b kw kx la lb le mc li md lm me lq mf mg mh mi bi translated"><a class="ae nn" href="https://twitter.com/JoeKarlsson1" rel="noopener ugc nofollow" target="_blank">推特</a></li><li id="2bd0" class="ma mb iq kv b kw mj la mk le ml li mm lm mn lq mf mg mh mi bi translated"><a class="ae nn" href="https://github.com/JoeKarlsson" rel="noopener ugc nofollow" target="_blank"> GitHub </a></li><li id="44dc" class="ma mb iq kv b kw mj la mk le ml li mm lm mn lq mf mg mh mi bi translated"><a class="ae nn" href="https://www.linkedin.com/in/joekarlsson/" rel="noopener ugc nofollow" target="_blank">领英</a></li><li id="c7fd" class="ma mb iq kv b kw mj la mk le ml li mm lm mn lq mf mg mh mi bi translated"><a class="ae nn" href="https://www.instagram.com/joekarlsson/" rel="noopener ugc nofollow" target="_blank"> Instagram </a></li><li id="39e7" class="ma mb iq kv b kw mj la mk le ml li mm lm mn lq mf mg mh mi bi translated"><a class="ae nn" href="https://www.joekarlsson.com" rel="noopener ugc nofollow" target="_blank">网站</a></li></ul></div><div class="ab cl oq or hu os" role="separator"><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov"/></div><div class="ij ik il im in"><figure class="km kn ko kp gt kq gh gi paragraph-image"><a href="https://levelup.gitconnected.com"><div class="gh gi ox"><img src="../Images/9914c5dd23ac08b70eea6f4f9ba6fed2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E6CoI_MRyZ1JInNPsBSHtA.png"/></div></a></figure><div class="mo mp gp gr mq mr"><a href="https://gitconnected.com/learn/react" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd ir gy z fp mw fr fs mx fu fw ip bi translated">学习React -最佳React教程(2019) | gitconnected</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">排名前49的React教程-免费学习React。课程由开发人员提交并投票，使您能够…</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">gitconnected.com</p></div></div><div class="na l"><div class="oy l nc nd ne na nf kr mr"/></div></div></a></div></div></div>    
</body>
</html>