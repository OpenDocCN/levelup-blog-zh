<html>
<head>
<title>Controlling User Input with JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript控制用户输入</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/controlling-user-input-with-javascript-98438e8007f6?source=collection_archive---------7-----------------------#2021-02-21">https://levelup.gitconnected.com/controlling-user-input-with-javascript-98438e8007f6?source=collection_archive---------7-----------------------#2021-02-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/ecf9e24ab9a93e26975dd848fa3649c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*wOxBK6DuB8PA5Y8oGXfUCg.jpeg"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">丹尼尔·利维斯·佩鲁西在<a class="ae jy" href="https://unsplash.com/s/photos/road-signs?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="389c" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">作为人类，我们喜欢无限选择的<em class="kx">理念</em>，但我们常常不喜欢它的现实。如果你曾经花了一个令人沮丧的晚上玩“你想去哪里吃晚饭？”(对此唯一的回答是“我不知道，你想去哪里吃晚饭？”)，这个你亲身经历过。我们永远不希望我们的用户因为犹豫不决而感到麻痹。</p><p id="3b98" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">有一些方法来塑造我们的代码，以帮助引导我们的用户向我们希望从他们那里得到的输入，我喜欢把这种方法称为“保龄球缓冲器”方法。对于大多数用户来说，bumpers可以毫不费力地将保龄球从手中拿到球瓶上。然而，如果你没有后端保护，它不会阻止恶意用户想方设法破坏你的数据库。在这个类比中，就是那个决定<em class="kx">扔球</em>而不是滚动球的人。</p><p id="9cfc" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">尽管保龄球方法不能保证你的数据库免受任何投球手的攻击，但它会使你的应用程序更容易被其他用户访问。本文将帮助您改善应用程序在HTML、JavaScript和CSS方面的用户体验</p></div><div class="ab cl ky kz hu la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ij ik il im in"><h1 id="4206" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">用HTML设置表单</h1><figure class="md me mf mg gt jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/308bb5fd6f13e411052cca6a443a6f3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*GKJwkOPZMwGpQCbyZQLF7Q.jpeg"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">德里克·马丁在<a class="ae jy" href="https://unsplash.com/s/photos/bowling?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="a53a" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">限制用户输入的第一种方法来自HTML表单。如果你想对表单有一个基本的了解，或者想看到更多定制表单的选项，可以看看我以前的博客文章，<a class="ae jy" href="https://medium.com/better-programming/keeping-your-form-in-top-form-26e42fd973b2" rel="noopener">让你的HTML表单保持最佳状态</a>。今天，我们将只关注其中的几个。这种情况下有用的有<em class="kx"> maxlength </em>、<em class="kx"> size </em>和<em class="kx">占位符</em>。</p><p id="c197" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">用户会根据他们看到的东西做出很多假设，我们可以通过让他们看到的东西与我们正在寻找的输入相匹配来提供帮助。</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="4d18" class="mm lg iq mi b gy mn mo l mp mq">&lt;form action="" method="post"&gt;<br/>&lt;p&gt;Initials: &lt;input id="initials" type="text" name="initials" maxlength="3" size="4" placeholder="ABC"&gt;&lt;/p&gt;<br/>&lt;input type="submit" id="initial-submit" value="Save Your Initials"&gt;<br/>&lt;/form&gt;</span></pre><p id="d2e6" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">此代码将呈现为:</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/0393c472165d499f1fd40252e93695ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:614/format:webp/1*ai4Vxv4C0sayuXmd7yW6ow.png"/></div></figure><p id="09c9" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">下面是这些属性对我们的作用的简要分析:</p><ul class=""><li id="ec2e" class="ms mt iq kb b kc kd kg kh kk mu ko mv ks mw kw mx my mz na bi translated">Maxlength 将阻止用户输入超过我们允许的字符——在本例中不超过三个。</li><li id="b05d" class="ms mt iq kb b kc nb kg nc kk nd ko ne ks nf kw mx my mz na bi translated"><em class="kx"> Size </em>改变文本框的大小以匹配指定字符数的长度——我们在这里使用四个字符，因为光标会占用空间，并且会引起轻微的水平滚动，这会让用户感到不适。</li><li id="c6a1" class="ms mt iq kb b kc nb kg nc kk nd ko ne ks nf kw mx my mz na bi translated"><em class="kx">占位符</em>从一开始就填充了文本框中的灰色文本(“ABC”)。这是一个很好的地方，既可以放入我们希望看到的例子，也可以用来提供说明或澄清限制。如“不超过25个字符”、“仅名字”等。</li></ul><p id="551f" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">然而，这些都不会阻止用户输入“123”，或者“***”。这就是我们的JavaScript的用武之地！</p></div><div class="ab cl ky kz hu la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ij ik il im in"><h1 id="0fd1" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">使用JavaScript的输入控件</h1><figure class="md me mf mg gt jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/82a4e8341b28612fd70c97034b172d2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*rgCcwBzgxDpl5Hiza1i3ow.jpeg"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">照片由<a class="ae jy" href="https://unsplash.com/@shivelycreative?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">内森·希维利</a>在<a class="ae jy" href="https://unsplash.com/s/photos/referee?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="560b" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">如果您已经对JavaScript有了很深的了解，下面的代码可供您阅读。否则，我们将一行一行地浏览:</p><ul class=""><li id="a990" class="ms mt iq kb b kc kd kg kh kk mu ko mv ks mw kw mx my mz na bi translated"><em class="kx">document . getelementbyId(" initials ")—</em>这个document方法将根据它的id获取一个HTML元素。您还可以用它代替querySelector或另一个文档方法来从DOM中获取元素。</li><li id="2525" class="ms mt iq kb b kc nb kg nc kk nd ko ne ks nf kw mx my mz na bi translated"><em class="kx">。addEventListener("keydown "，(event) = &gt; {…} </em> —这将为您选择的HTML元素附加一个事件侦听器。当它“听到”一个键被按下，它将触发箭头功能。箭头函数会将触发它的事件作为变量<em class="kx">事件</em>传递到函数体中</li><li id="cd06" class="ms mt iq kb b kc nb kg nc kk nd ko ne ks nf kw mx my mz na bi translated"><em class="kx">if(event . key . match(/[a-zA-Z]+/g)){ return event；} </em> —如果事件的key属性与RegEx匹配，则让事件正常发生。在这种情况下，它将允许字母出现在文本框中。你可以用这个正则表达式替换任何一个适合你需要的。</li><li id="18ec" class="ms mt iq kb b kc nb kg nc kk nd ko ne ks nf kw mx my mz na bi translated"><em class="kx">else { event . prevent default()；} </em> —如果按下的键与您的正则表达式不匹配，它将阻止字母形式出现在文本框中</li></ul><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="143d" class="mm lg iq mi b gy mn mo l mp mq">document.getElementById("initials")<br/>.addEventListener("keydown", (event) =&gt; {<br/>    if (event.key.match(/[a-zA-Z]+/g)) {<br/>        return event;<br/>    } else {<br/>        event.preventDefault();<br/>    }<br/>});</span></pre><p id="4c73" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">您可能会想，“等等，没有人用小写字母写他们的姓名首字母JavaScript代码片段不会阻止这种情况！”那是100%真实的。请记住，我们的目标是改善用户体验，所以我们希望尽可能让他们觉得事情简单。当我们想要处理他们的输入时，我们将用一个简单的:</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="f587" class="mm lg iq mi b gy mn mo l mp mq">document.getElementById("initials").value.toUpperCase();</span></pre><p id="e86d" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">这将把在我们的“缩写”文本框中输入的文本全部转换成大写字母。现在，用户不必担心寻找Shift键或处理大写锁定，这是一个容易让我们回避的问题！</p></div><div class="ab cl ky kz hu la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ij ik il im in"><h1 id="e0ce" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">使用CSS添加样式</h1><figure class="md me mf mg gt jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/3f3b4d985b2ae2c8099347a7d713204f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*QfBdifqEIGP1_4455M55Jw.jpeg"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">约书亚·雷德科普在<a class="ae jy" href="https://unsplash.com/s/photos/style?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="bd00" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">最后，让用户知道他们在输入什么是很重要的。想到你会得到一件可爱的衣服，还有惊喜，一点都不好玩！它的大小适合一个婴儿。我们总是想确保事情对我们的用户来说是清楚的，特别是如果我们要在我们这边看不见的地方操作他们的输入。</p><p id="05b0" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">CSS让这变得非常简单。您所要做的就是将这段代码添加到CSS文件中:</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="92be" class="mm lg iq mi b gy mn mo l mp mq">input[type="text"] {<br/>    text-transform: uppercase;<br/>}</span></pre><p id="53e1" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">瞧啊。当用户输入时，它会自动将所有字符显示为大写。</p></div><div class="ab cl ky kz hu la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ij ik il im in"><h1 id="2b6c" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">权力越大，责任越大</h1><figure class="md me mf mg gt jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/13b0d711173c96b560d98a3cd8808741.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*IkoVYlJGLTpSG-ZH2t0dNw.jpeg"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">安德烈·梅特列夫在<a class="ae jy" href="https://unsplash.com/s/photos/great-power?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><p id="201b" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">有了HTML、CSS和JavaScript的强大功能，您在应用程序中可以完成的事情几乎没有限制。然而，很容易让这种力量冲昏你的头脑！请记住，最重要的是用户，当涉及到用户输入时，没有人希望感到惊讶。努力保持“所见即所得”的网页设计原则，尽可能让你的用户感到简单，这样你就能走在正确的道路上！</p><p id="eb09" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">如果您想看看这段代码的运行情况，请查看Github上的<a class="ae jy" href="https://github.com/rebeccahickson/fauxtris-frontend" rel="noopener ugc nofollow" target="_blank"> Fauxtris </a>。这是一个有趣的俄罗斯方块克隆，使用普通JavaScript和Rails作为API。如果您有任何问题，请随时联系我！</p></div></div>    
</body>
</html>