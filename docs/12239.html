<html>
<head>
<title>In-Depth Implementation of JWT Authentication in Go with REST APIs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Go with REST APIs中深入实现JWT认证</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/in-depth-implementation-of-jwt-authentication-in-go-with-rest-apis-8a437be3a54b?source=collection_archive---------4-----------------------#2022-05-25">https://levelup.gitconnected.com/in-depth-implementation-of-jwt-authentication-in-go-with-rest-apis-8a437be3a54b?source=collection_archive---------4-----------------------#2022-05-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9576" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何设置您的应用程序的分步指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/256c3e3efdf5e755a42cc0ec67205f16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3rWzg4kH2KX5o-p0y6JTEQ.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">穆罕默德·拉赫马尼在<a class="ae ky" href="https://unsplash.com/photos/gA396xahf-Q" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="5738" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">介绍</h2><p id="20df" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">在本文中，我将向您展示如何设置您的Go应用程序并使用REST APIs实现JWT认证。这篇文章可能会有点冗长，所以我将跳过你实际安装Go本身所需的不必要的前两步，因为你可以在<a class="ae ky" href="https://go.dev/doc/install" rel="noopener ugc nofollow" target="_blank">他们的网站上找到它，而且设置</a>非常容易。所以事不宜迟，我们开始吧。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="4b75" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">我将使用的技术</h2><p id="f60a" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">在整个应用程序中，我将使用Go进行以下操作:</p><ul class=""><li id="e8b2" class="mv mw it me b mf mx mi my lp mz lt na lx nb mu nc nd ne nf bi translated">一种数据库系统</li><li id="aa9f" class="mv mw it me b mf ng mi nh lp ni lt nj lx nk mu nc nd ne nf bi translated">ORM库</li><li id="9710" class="mv mw it me b mf ng mi nh lp ni lt nj lx nk mu nc nd ne nf bi translated">Gin Gonic (HTTP框架)</li></ul></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="dcfb" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">文件夹结构</h2><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="568a" class="lg lh it nm b gy nq nr l ns nt">Go Project</span><span id="b5be" class="lg lh it nm b gy nu nr l ns nt">|--handlers</span><span id="135b" class="lg lh it nm b gy nu nr l ns nt">|   |--middleware</span><span id="d771" class="lg lh it nm b gy nu nr l ns nt">|   |   |--auth.go</span><span id="41c0" class="lg lh it nm b gy nu nr l ns nt">|   |—data_bind.go</span><span id="dd36" class="lg lh it nm b gy nu nr l ns nt">|   |—handler.go│</span><span id="00a5" class="lg lh it nm b gy nu nr l ns nt">|   |—user.handler.go</span><span id="9c66" class="lg lh it nm b gy nu nr l ns nt">|--modesle.</span><span id="63a6" class="lg lh it nm b gy nu nr l ns nt">|   |--apperrors</span><span id="d739" class="lg lh it nm b gy nu nr l ns nt">|   |   |—app_errors.go</span><span id="3e2c" class="lg lh it nm b gy nu nr l ns nt">|   |   |—field_errors.go</span><span id="0cbc" class="lg lh it nm b gy nu nr l ns nt">|   |   |—http_errors.go</span><span id="9fe3" class="lg lh it nm b gy nu nr l ns nt">|   |—user.go</span><span id="0770" class="lg lh it nm b gy nu nr l ns nt">|—repositories</span><span id="da45" class="lg lh it nm b gy nu nr l ns nt">|   |—user_repository.go</span><span id="6457" class="lg lh it nm b gy nu nr l ns nt">|—services</span><span id="123d" class="lg lh it nm b gy nu nr l ns nt">|   |—user_service.go</span><span id="1f3c" class="lg lh it nm b gy nu nr l ns nt">|   |—passwords.go</span><span id="0ecd" class="lg lh it nm b gy nu nr l ns nt">|—data_sources.go</span><span id="3b03" class="lg lh it nm b gy nu nr l ns nt">|—injection.go</span><span id="e06f" class="lg lh it nm b gy nu nr l ns nt">|—main.go</span></pre><p id="ad0b" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">这将是我们将使用的基本文件夹结构，下面是它的一个更详细的视图:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/93b7b9d648fad9c5c148ad7541d0762b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BDj_AG1f4OieKRWikw8WAg.png"/></div></div></figure><p id="3000" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">考虑到这一点，让我们开始编写代码吧！</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="b972" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">创建一个简单的。环境文件</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="b2c9" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">首先，只需创建一个简单的。env文件，这样我们就可以将所有敏感数据放在一个地方，并相应地填充数据。对我来说，用PostgreSQL，Database_url看起来是这样的→<em class="ob">PostgreSQL://postgres:example password @ localhost:5432/postgres</em></p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="7d88" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">连接到数据库</h2><p id="f53f" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">既然我们已经解决了。env文件最简单的方法是用下面的代码创建我们的data_sources.go文件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="8562" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">设置用户模型</h2><p id="efce" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">之后，我们可以创建用户模型，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="d19a" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">所有这些都是用适当的字段设置用户结构，这些字段将在我们进行数据库迁移时使用。唯一特定的字段是<em class="ob">用户名</em>和<em class="ob">电子邮件</em>，因为它们都必须是唯一的。</p><p id="7193" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">IUserRepository和IUserService是我们前面提到的两个接口。他们所做的基本上是说，在我们的用户服务中，我们将需要以下3个方法:</p><ul class=""><li id="6079" class="mv mw it me b mf mx mi my lp mz lt na lx nb mu nc nd ne nf bi translated">GetUserById</li><li id="67b1" class="mv mw it me b mf ng mi nh lp ni lt nj lx nk mu nc nd ne nf bi translated">注册</li><li id="6f92" class="mv mw it me b mf ng mi nh lp ni lt nj lx nk mu nc nd ne nf bi translated">注册</li></ul><p id="9458" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">在用户存储库中，我们将拥有:</p><ul class=""><li id="aa50" class="mv mw it me b mf mx mi my lp mz lt na lx nb mu nc nd ne nf bi translated">GetUserById</li><li id="3088" class="mv mw it me b mf ng mi nh lp ni lt nj lx nk mu nc nd ne nf bi translated">创建用户</li><li id="363c" class="mv mw it me b mf ng mi nh lp ni lt nj lx nk mu nc nd ne nf bi translated">FindUserByEmail</li></ul><p id="c5e0" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">因此，当我们实现它们时，我们不会忘记添加这些方法，因为我们有义务这样做。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="d8c0" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">设置密码服务</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="d450" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">这个真的不言自明。它可以散列密码以获得额外的安全性，并将实际密码与用户提供的密码进行比较。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="e38b" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">实现用户服务</h2><p id="2c79" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">既然我们提到了用户服务，我们不妨接下来实现它。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="de1a" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">好的，除了一些错误检查，这里没有什么特别的。如果您想知道——是的，登录应该会给我们返回一个JWT令牌，但这将发生在处理程序中，所以让我们快速添加存储库文件并进入身份验证。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="fdca" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">添加用户存储库</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="b7d0" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">这里也没什么特别的。我们可以通过id或电子邮件检索用户，我们可以在注册时创建一个新用户。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="7657" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">错误文件</h2><p id="089b" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">在进入最后一部分之前，我将删除这些在最后几个文件中使用过的app_errors文件，您可能想知道它们到底是什么。不用担心，他们只是帮助者，会帮你返回一些合理的错误给用户。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="a67c" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">应用程序错误文件</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="1550" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">现场错误文件</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="b00f" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">HTTP错误文件</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="2ba9" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">中间件</h2><p id="f57f" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">现在我们已经讨论了令人厌烦的错误处理，让我们看看我们的中间件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="fc32" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">我们的auth.go文件的惟一任务是从请求中提取cookie，检索其中的JWT令牌，然后验证该令牌。如果令牌无效，我们将返回“未授权”。</p><p id="8b0b" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">我们快到了！</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="75e0" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">添加处理程序</h2><p id="1c03" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">我们要做的第一件事是添加数据绑定文件，这样我们就可以处理我们的请求。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="9d56" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">它基本上获取传入的JSON并将其绑定到一个结构。</p><p id="e9a6" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">那么我们将需要:</p><ul class=""><li id="99b6" class="mv mw it me b mf mx mi my lp mz lt na lx nb mu nc nd ne nf bi translated">用户处理程序</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="d5d2" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">因此，这里我们将实际绑定传入的请求，并做一些基本的验证，如修剪空间等。还要检查必填字段是否存在。</p><p id="b568" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">这里重要的部分是在登录函数中，我们在Cookie中设置了神圣的JWT令牌。如果在我们调用我们的用户服务来登录我们的用户之后一切顺利，我们将给他一个cookie，他稍后将使用它来发出请求，正如我们稍后将在Postman中看到的。</p><p id="7ea3" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">我们还需要我们的主处理程序，这样我们就可以处理所有的路线。</p><ul class=""><li id="8168" class="mv mw it me b mf mx mi my lp mz lt na lx nb mu nc nd ne nf bi translated">处理者</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="625e" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">好了，这里我们有3个端点，GetUserById使用我们创建的Auth文件，这意味着如果我们没有登录并拥有cookie，我们将无法检索用户——我们稍后将对此进行测试。</p><p id="1650" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">我们已经接近终点线了，现在我们只需要在跳进Postman之前完成我们的injection.go和main.go文件。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="f2e7" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">添加注入文件</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="cf3d" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">这真的没什么意思。它只是初始化我们所有的不同层。显然，随着应用的增长，您需要在这里添加新的服务。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="55a9" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">最后添加Main.go</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="38ec" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">main.go是应用程序的入口点。它将初始化数据库，注入我们在注入文件中添加的所有这些服务，并启动您的服务器。</p><p id="3ab7" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">就是这样！(只花了一分钟，嗯？).最后，让我们跳到Postman上，看看这些是否真的有用。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="f6fe" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">测试注册API</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/18efc962be2d5bb5f663d2d9005982ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rNROL1rVvXYkWE6Y131Aug.png"/></div></div></figure><p id="9bcf" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">注册API确实创建了一个用户，现在一切看起来都很好。首先，让我们尝试在不登录的情况下检索该用户。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/b50d496889d8a1769a031bb22f5337cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6HP3m_fMgPdb_xOVsPvPfA.png"/></div></div></figure><p id="527e" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">我们得到了一个状态代码“401未授权”,这正是我们所期望的——太好了！</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="cb36" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">测试登录API</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/670384fe5b837858ab625cbbee0294f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N5n5hs0y1wXcFx7tH2tfMg.png"/></div></div></figure><p id="c02d" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">于是，我们登录了，还得到了一块饼干。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/15ed7bbbde70dcb31b07a8ea9689cd01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BFvnB4p07-pBQvsppuXhHQ.png"/></div></div></figure><p id="39a8" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">现在，如果我们再次尝试检索用户，它应该允许我们这样做。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/5332ff6adc071404a4b851dc30938e33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l4oHR2AnPen4NE7Sxkp5Lg.png"/></div></div></figure><p id="6f46" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">有了cookie，我们可以轻松地检索到用户。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="f024" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">注销</h2><p id="ec67" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">最后，我们还可以注销，就像将JWT设置为空字符串一样简单。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/be2572079fcf50a891b02f12523764f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Za_smF2WF4WruAD17pMJ9g.png"/></div></div></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="f2c1" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h2><p id="4b67" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">我真的希望这对你有所帮助，如果有任何问题，请不要犹豫留下评论，我会尽我所能帮助你。</p><p id="6ea7" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">我还建议按照文件夹结构创建所有文件，如果你在实现所有文件之前已经检查了所有代码，不要太担心，因为你可能还没有创建文件。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><p id="95db" class="pw-post-body-paragraph mc md it me b mf mx ju mh mi my jx mk lp nv mm mn lt nw mp mq lx nx ms mt mu im bi translated">此外，如果你喜欢这篇文章，并考虑加入媒体，探索平台上所有伟大的内容，这将是非常有益的，如果你可以使用我的推荐链接，所以我可以继续创造这样的内容。祝你愉快！</p><div class="oi oj gp gr ok ol"><a href="https://medium.com/@ivan.zstoev/membership" rel="noopener follow" target="_blank"><div class="om ab fo"><div class="on ab oo cl cj op"><h2 class="bd iu gy z fp oq fr fs or fu fw is bi translated">通过我的推荐链接加入Medium-Ivan Stoev</h2><div class="os l"><h3 class="bd b gy z fp oq fr fs or fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="ot l"><p class="bd b dl z fp oq fr fs or fu fw dk translated">medium.com</p></div></div><div class="ou l"><div class="ov l ow ox oy ou oz ks ol"/></div></div></a></div></div></div>    
</body>
</html>