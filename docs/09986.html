<html>
<head>
<title>Coding WTFs — Halloween Edition</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">编码WTFs —万圣节版</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/coding-wtfs-halloween-edition-d53c287d0809?source=collection_archive---------14-----------------------#2021-10-11">https://levelup.gitconnected.com/coding-wtfs-halloween-edition-d53c287d0809?source=collection_archive---------14-----------------------#2021-10-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e3e3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">包括一些学习！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8596df3d0e1fa43a14c4fdc2c6ba28bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pD2Ky35xliYfYXMQL42stQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@lapyrin?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Ivan lapirin</a>在<a class="ae ky" href="https://unsplash.com/s/photos/wtf?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的原始照片，由作者编辑</figcaption></figure><p id="83cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">谁在过去没有经历过那些可怕的恐怖故事，那些真正震撼他们灵魂的故事，以至于每当他们想起它时，他们仍然感到寒冷在他们的脊柱上颤抖？</p><p id="4450" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">换句话说，我们都见过可怕的代码，当时它可能是糟糕的，因为你要么维护它，要么以某种方式与它交互。</p><p id="f46a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但不是今天，不是先生！今天我们要笑…我的意思是，从过去的错误中吸取教训。算是吧。</p><p id="c61f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以我进入了<a class="ae ky" href="https://www.reddit.com/r/badcode/" rel="noopener ugc nofollow" target="_blank"> r/badcode </a>，在那里游了一会儿后，我设法获得了7颗宝石，今天我将与大家分享。</p><p id="feee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以让我们开始吧！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="e2c8" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">好的老空如果</h1><p id="2a29" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">看看我们的第一位美女:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/4cbc6126d9f27296defad04a3537bccb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1092/format:webp/1*nHlKfYw8l0UApirR4Mcu8w.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://www.reddit.com/r/badcode/comments/q0zxrg/saw_this_on_page_source_of_a_live_website/" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><p id="bb82" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从哪里开始？首先，我认为我们应该赞扬使用严格相等的运算符来检查<code class="fe na nb nc nd b">name</code>的值是否真的是<code class="fe na nb nc nd b">null</code>。</p><p id="b636" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">也就是说，祝贺到此为止，因为一旦你看到整个逻辑，代码就有几个问题:</p><ol class=""><li id="e1fd" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated">首先向我扑来的是空的IF块。它扑向我，因为我已经看过几百遍了。我讨厌碰到它，把完全相反的表达式放在IF中并去掉空块真的那么难吗？虽然不是在这种情况下，如果布尔表达式如此复杂，以至于得到相反的表达式有点令人头痛，你总是可以用括号把它括起来，并加上前缀<code class="fe na nb nc nd b">!</code>，这样就完成了。</li><li id="ba9f" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated"><code class="fe na nb nc nd b">IF</code>区块是为了确保我们不会试图问候一个没有真正告诉我们名字的人(至少从表面上看是这样)。问题？这个条件，考虑到它是如何与<code class="fe na nb nc nd b">null</code>进行比较的，会让<code class="fe na nb nc nd b">undefined</code>和空字符串通过，事实上，它也会让包含空白的字符串通过。如果条件是<code class="fe na nb nc nd b">if(!name)</code>，我们可能会捕捉到更多错误值，比如空字符串或<code class="fe na nb nc nd b">undefined</code>。</li><li id="e1de" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">最后，我们不能忽视最后一行中的安全漏洞。从<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/API/Element/innerHTML" rel="noopener ugc nofollow" target="_blank"> MDN的网站</a>:</li></ol><blockquote class="ns nt nu"><p id="b681" class="kz la nv lb b lc ld ju le lf lg jx lh nw lj lk ll nx ln lo lp ny lr ls lt lu im bi translated">设置<code class="fe na nb nc nd b">innerHTML</code>的值会删除元素的所有后代，并用通过<strong class="lb iu">解析字符串</strong> <em class="it"> htmlString </em>中给定的HTML构建的节点来替换它们。</p></blockquote><p id="7e48" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">重点是我的，它的意思是告诉你问题出在哪里。我们放入<code class="fe na nb nc nd b">innerHTML</code>的任何东西都会被<em class="nv">解析。</em>所以我们为XSS攻击打开了大门，我们的攻击者可以给自己起一些恶意的名字，比如:<code class="fe na nb nc nd b">&lt;img src="../fake.image.path" onerror="{inser your evil javascript here}" /&gt;Fernando</code>，每当我的名字出现在屏幕上的任何地方，这些代码就会执行一些JavasScript。</p><p id="22ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为什么？因为这段代码没有净化用户的输入。记住孩子们，永远不要相信用户，每次你使用他们的输入时，首先清理，检查HTML标签，并遵循<a class="ae ky" href="https://cheatsheetseries.owasp.org/cheatsheets/Cross_Site_Scripting_Prevention_Cheat_Sheet.html" rel="noopener ugc nofollow" target="_blank"> OWASP的建议。</a></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="1324" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">将可读代码发挥到极致</h1><p id="7ae3" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们都知道晦涩的一行程序是没有帮助的，虽然它们在你写完的前10分钟可能看起来很酷，但你很快就会忘记它们的意思，任何人在你之后都会恨你和你的后代很长时间。</p><p id="505b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的下一个很棒的代码示例把一行代码变成可读代码有点过头了:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/c68123307f80bc1d2af7a244bcc06e34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hEAdEjwW_WuVyIFwlEZxrw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://www.reddit.com/r/badcode/comments/q151aj/tales_of_a_long_friday_afternoon/" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><p id="6440" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">是的，它工作了。对于任何编写代码的人来说，幻数都是一个大禁忌，但在这种情况下，说实话，这些数字并没有那么神奇。考虑到它处理的是<code class="fe na nb nc nd b">Date.now()</code>方法，很明显代码在从当前时间中减去时间。所以这是一个解释它应该做什么的问题，这可以通过在顶部添加一个很好的注释来解释这一点来解决。</p><p id="99ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">相反，该解决方案将一行难以阅读的代码变成了一段不太长的代码。顺便说一句，它比原来的行更进了一步，允许您使用<code class="fe na nb nc nd b">daysToGoBack</code>变量(在第一次计算中无法直接获得)来表达您想要减去多少天。</p><p id="6018" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">记住，可读代码不是这么写的。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="aca3" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">你会把这个叫做什么？</h1><p id="6689" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我只是很难给它起个名字:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/9bbbeeb0c6eee09c06b83fdd37715329.png" data-original-src="https://miro.medium.com/v2/resize:fit:1022/format:webp/1*XGvwbNKMc5LNaHRBLB10DQ.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://www.reddit.com/r/badcode/comments/pzupq9/one_of_my_classmates_was_confused_on_an_assignment/" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><p id="d2e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从来源来看，这似乎是一个计算机科学作业出错。这个Python函数的名字意味着它试图计算<code class="fe na nb nc nd b">encripted_message</code>变量中每个字母的频率。但我的天啊，这不是我该走的路。</p><p id="9427" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你能想象当这个学生意识到信息中也有大写字母时的表情吗？如果它也包括数字呢？伙计，不要让我开始接受多种编码。</p><p id="6019" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">玩笑归玩笑，这是一个刚刚开始学习编程的人的典型错误。这可能是此人的首要任务之一。我记得我试图解决这样的问题，最终你学会用更复杂的结构思考，比如地图或哈希表，突然你的整个世界打开了。但在那之前，这个穷学生可能花了几个小时写了一个本该花几分钟的代码。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="b340" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">短短几行字就有这么多问题</h1><p id="1c4d" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">下一个问题来自一个并不真正了解JavaScript中数组和异步是如何工作的人。要么是这样，要么是这个人试图超级小心……出问题了？我不知道了…</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/10e02a0c3a864dec73323b30fc468a50.png" data-original-src="https://miro.medium.com/v2/resize:fit:618/format:webp/1*6iepknCNiAPbAQ_62VLE9A.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://www.reddit.com/r/badcode/comments/q3v3wi/this_poor_confused_little_thing_came_from_the/" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><p id="aa10" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">四行代码，这就是导致2个(或者3个，取决于你怎么看)错误的全部原因。这肯定是个记录。</p><p id="9c75" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来解开这个美丽的包裹:</p><ol class=""><li id="7dc0" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated">让我们抛开显而易见的事情:我们这里没有任何异步代码。那么为什么要使用<code class="fe na nb nc nd b">await</code>和<code class="fe na nb nc nd b">async</code>？难倒我了，除非这个人希望在<code class="fe na nb nc nd b">map</code>中增加额外的异步调用，否则这毫无意义。</li><li id="d69c" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">为什么要定义一个空数组，用一个<code class="fe na nb nc nd b">map</code>的结果填充它，只是为了立即开始通过<code class="fe na nb nc nd b">push</code>方法一次手动添加一个项目？</li><li id="aa39" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">就这一点而言，为什么要使用<code class="fe na nb nc nd b">map</code>来迭代数组的元素呢？这不是这个方法的要点，你得到了<code class="fe na nb nc nd b">forEach</code>。</li></ol><p id="ee86" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我的意思是，这可以写成<code class="fe na nb nc nd b">let ids = ut_ids.map(ut =&gt; ut.UserTestID)</code>。一个实际上可以理解的很好的一行程序。</p><p id="0231" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">记住，不时温习一下你的<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" rel="noopener ugc nofollow" target="_blank">数组方法</a>，它总是有用的，除非你真的需要处理异步行为，否则不要添加<code class="fe na nb nc nd b">async/await</code>。请注意，最后一点没有伤害代码，只是伤害了我们的眼睛，但仍然没有意义，所以它不应该在那里。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6838" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">当一切都很重要的时候，那么什么都不重要</h1><p id="9160" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们已经习惯于听到经理给出的优先级，对吗？有时他们都想尽快得到一切，因为一切都是第一位的。</p><p id="6448" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但在这种情况下，我们将这种痛苦转移到浏览器中，请看:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/2f065a5f65690c8799e3b4a02fd36e75.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/1*Pa8z-NPRIrbC--Prxnx2Sg.jpeg"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://www.reddit.com/r/badcode/comments/q2guo3/there_are_1380_important_tags_on_this_css/" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><p id="1536" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">没错，Chrome，现在你的感觉和我一样了！</p><p id="4f28" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这可能是这位开发人员在写这篇漂亮的CSS作品时的想法。</p><p id="37c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者，许多人可能会认为，这也可能是生成的代码，主要线索是CSS类名。本质上，强制这些参数中的每一个都是<code class="fe na nb nc nd b">!important</code>可以确保用户不会意外地覆盖它们。</p><p id="11e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然这可能是对<code class="fe na nb nc nd b">!important</code>的极端使用，但我相信你以前也经历过。作为一名主要的后端开发人员，我可以在学习CSS特异性规则的同时处理它们，并说“哦，该死的，我会让它在这里和这里，那里，它现在工作了”。</p><p id="55a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我能理解。然而，如果你每天都在使用CSS，并且你发现自己依赖于这个技巧来完成工作，你可能想要<a class="ae ky" href="https://uxengineer.com/css-specificity-avoid-important-css/" rel="noopener ugc nofollow" target="_blank">阅读一下这篇文章</a>，了解一下特殊性规则以及如何避免过多使用<code class="fe na nb nc nd b">!important</code>。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="1a09" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">重码？我没有看到重复的代码</h1><p id="4eaf" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">复制&amp;粘贴一点逻辑并重用它从来都不是解决问题的方法，但这通常是我们刚起步时的解决方案。我想在我们作为代码猴子发展的那个阶段，我们还不习惯抽象事物，所以我们最终会得到这样的东西:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/edd39affe68df24863b865c6381a35ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/1*gheXsOjRlxXDLh8VjnMi_w.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://www.reddit.com/r/badcode/comments/q3cedx/it_looks_bad_but_at_least_it_works/" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><p id="49f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从表面上看，这位开发人员正在构建经典的计算器。我记得以前我是用C语言写的，但这几乎是一回事。你输入两个数字和一个操作，然后执行计算并显示结果，简单。一旦你让它为一个人工作，就很容易把它扩展到其他人，在这种情况下，它是如此的容易，以至于这个开发者只是复制了整个事情。</p><p id="d338" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不仅如此，如果你足够仔细地观察重复的模式，你会注意到微小的差别:结果和结果文本都保存在每个<code class="fe na nb nc nd b">case</code>块的不同变量中。</p><p id="aff4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们进一步分析一下:</p><ul class=""><li id="13b5" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu oe nk nl nm bi translated">这个人对全球的<code class="fe na nb nc nd b">num1</code>和<code class="fe na nb nc nd b">num2</code>使用相同的变量，这已经是很糟糕的做法了。</li><li id="117f" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu oe nk nl nm bi translated">在每个<code class="fe na nb nc nd b">case</code>块中，他们定义了2个新的变量，因为他们使用了<code class="fe na nb nc nd b">let</code>，他们需要使用不同的名字，因为他们的作用域是整个<code class="fe na nb nc nd b">switch</code>语句，否则会有名字冲突。</li></ul><p id="392c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">相反，他们可以在带有<code class="fe na nb nc nd b">let</code>的<code class="fe na nb nc nd b">calculate</code>函数中定义2个变量，但是是在函数级，并在每个<code class="fe na nb nc nd b">case</code>块中使用它们。事实上，每个<code class="fe na nb nc nd b">case</code>中重复的所有内容都可以在<code class="fe na nb nc nd b">switch</code>之前或之后提取(一旦操作已经执行)。让实际的<code class="fe na nb nc nd b">switch</code>只处理调用哪个函数的决定。</p><p id="e69c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，由于所有操作都有两个参数，开关可以重写为:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="7c9b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是可能的，因为在JS中，我们可以将函数引用赋给变量，然后简单地动态调用它们。很方便。</p><p id="3521" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我在道德上有义务说，整个<code class="fe na nb nc nd b">switch</code>语句对于这个场景来说是多余的，一个更干净的解决方案应该是使用这样的对象文字:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="cb66" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然，在调用这个操作之前，您还需要检查它是否有效，但是我将把它作为一个练习留给您:)。</p><p id="7a6e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，记住孩子们:不要使用全局变量，药物也不要使用。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="8a16" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">这就是我讨厌JAVA的原因</h1><p id="f2a8" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">当然，根据我的个人偏好，这最后一个可能有点偏，但是，你不能告诉我这是“OK代码”:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/d979079a90393df04fa2c9df7e531bdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/format:webp/1*kdRdbzlugx9lMuFB_ImOYw.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://www.reddit.com/r/badcode/comments/pw81cl/the_most_horrible_piece_of_java_ive_ever_seen/" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><p id="c65d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">老实说，一行简单的代码怎么会如此可怕。我只是，为什么你会，真的！？</p><p id="a84b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然你可能会说<em class="nv">“嗯，费尔南多，我不知道这有什么问题，但我完全可以读出来”</em>。对这种语法的需求会产生这样的结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/a91303349f498616ce451f81231c5071.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CnVo0vbc4DczUVyIDm9naA.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://github.com/EnterpriseQualityCoding/FizzBuzzEnterpriseEdition/blob/uinverse/src/main/java/com/seriouscompany/business/java/fizzbuzz/packagenamingpackage/impl/printers/FizzStringPrinter.java#L37-L45" rel="noopener ugc nofollow" target="_blank">取自本回购</a></figcaption></figure><p id="f371" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我只是不明白一门语言怎么会要求你定义一个变量的类型，然后用完全相同的名字来实例化它。真的:</p><pre class="kj kk kl km gt oj nd ok ol aw om bi"><span id="4ceb" class="on md it nd b gy oo op l oq or">TYPE myVarName = new TYPE()</span></pre><p id="221d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我的意思是，鉴于这些语言的限制，你没有办法做别的事情，所以避免表里不一。我个人不喜欢用如此冗长的语言编码。也许我已经老了，现在我只是不喜欢重复自己，或者也许这是我在大学里花在反对我的JAVA作业上的所有时间，或者也许我只是简单地错了——嘿，这不是第一次了！。</p><p id="82a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是如果你能避免它，用别的代码。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="5018" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天到此为止，这里没有关于编码意味着什么的深刻见解，也没有什么大的教训要学。我只是想让你知道，在适当的环境下，阅读糟糕的代码也可以很有趣:)</p><p id="c9fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">享受你的幽灵十月吧！</p></div></div>    
</body>
</html>