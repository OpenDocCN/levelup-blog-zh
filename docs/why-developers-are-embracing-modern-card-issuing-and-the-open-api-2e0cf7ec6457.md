# 为什么开发人员喜欢现代发卡和开放 API

> 原文：<https://levelup.gitconnected.com/why-developers-are-embracing-modern-card-issuing-and-the-open-api-2e0cf7ec6457>

现代支付卡发行过程可以以快速、高效和安全的方式交付许多不同类型的卡。使用开放的 API 平台，发卡机构可以创建定制的卡产品，并轻松处理数十万笔交易。

通过与全球主要的卡处理网络集成，现代卡发行系统允许企业创建支付解决方案，这些解决方案:

*   在全球范围内使用弹性和安全的基础设施
*   满足客户的需求
*   带来灵活性和轻松定制
*   快速扩展
*   提供快速简单的销售能力

本文介绍了现代支付卡的发行过程，以及 Marqeta 的开放 API 是如何在其核心部分工作的。它将帮助刚接触支付卡系统的软件开发人员和需要复习的有经验的专业技术人员。

我们先来上一节简短的历史课。

# 我们是怎么到这里的？

信用卡终端在 70 年代末首次推出。虽然电子支付平台给当时的零售业带来了新的创新，但在随后的几十年里，信用卡发行和处理领域的技术发展缓慢。由于这一切都是在互联网出现之前，一个庞大的电信网络和数据管理平台被放置到位，以确保电子支付服务在全球范围内可用。

随着互联网的广泛使用，像亚马逊和易贝这样的电子商务企业的早期采用者开始吸引大量的常客。这开始了企业使用电子支付服务的趋势。然而，相对较小的企业仍然没有准备好或能够采用这项技术…

…直到最近十年。

自 2010 年以来，分布式容错应用开发领域出现了创新爆炸。企业开始转向数字优先的方法，并使用电子支付服务。借记卡和电子钱包等产品的进步现在允许更容易地获得电子支付服务。除此之外，创新企业开始寻找方法*发行自己的卡*，建立定制支付程序，同时完全绕过传统的发卡银行。例如，[优步](https://www.marqeta.com/blog/2020/04/09/on-demand-delivery-surge)和 [DoorDash](https://www.marqeta.com/blog/2020/04/20/doordash-marqeta-seamless-payments) 等按需送货公司使用定制卡，供所有送货人员在餐馆和杂货店使用，以简化支付流程。这种繁荣导致了现代支付卡发行业务的兴起。

# 支付卡交易:主要参与者

电子支付处理行业有许多动态的部分，但是对其关键参与者有一个基本的了解是有帮助的。

# 持卡人和商户

基本的信用卡交易包括两方——持卡人和商家——通过*支付方案*进行资金交易。简单来说，*持卡人*(俗称*消费者* 或*付款人*)使用支付卡支付产品或服务。

*商家*(或*收款人*)出售产品或服务以收取款项。但要保证持卡人能支付，商户能接收，交易中涉及到更多的当事人。

当持卡人出示支付卡时，商家请求对该卡上的支付交易进行授权。为了接受这些类型的支付，商家必须在*支付处理器*处开立一个商家账户来结算资金。通过提供这种高效的支付方式，商家可以迎合更多的顾客。

# 支付处理器

*支付处理器*是为商户提供接受电子支付手段的金融机构。支付处理器促进商户和卡网络之间的交易。使用适当的*卡网络*，处理器捕获交易信息并将其转发给持卡人的*发卡行*(也称为*发卡行*)进行批准。当发行者批准交易时，支付处理器还与商家结算资金以及所有相关费用。

# 卡片网络

为了促进交易信息在处理器和发卡行之间的流动，需要一个*卡网络*(例如，Visa 或 Mastercard)。这些全球性机构提供基础设施、通信、标准和流程，通过在处理者和发行者之间传递信息和资金来促进跨地理边界的金融交易。作为回报，他们向支付处理商和发行商收取许可证或卡方案费。这些网络还设定了加工商和发行商在通信、争议解决和其他过程中必须遵循的标准。

# 发行人

最后，我们有*发卡行—* 一家金融机构(最常见的是银行)，它向持卡人提供支付卡，并确定这些卡的消费限额。他们还管理支付认证和持卡人信息。为使支付成功，发卡行负责检查:

*   交易有效
*   该卡属于有效且可信的持卡人
*   持卡人有足够的资金(或信用)进行支付

在某些情况下，发卡机构和支付处理机构可以是同一家机构。在这些情况下，发行者和处理者之间的交易不向商家收取任何费用。

# 数字支付解决方案的兴起

传统上，传统发卡机构提供一刀切的产品，其中许多根本不适合某些客户的需求。特别是，现代初创公司和数字优先企业可能正在寻找应用内支付和加密货币交易等功能。这些企业需要**高度灵活而稳健的支付解决方案**——定制支付卡产品和相关支付方式——这是传统发卡机构所没有的。

这种需求是由每天价值数百万美元的电子商务交易推动的，这是由许多因素造成的，包括:

*   轻松构建基于金融交易的应用程序
*   手机的普及
*   社交媒体平台在买卖中的广泛使用

像移动销售点系统这样的创新使得小公司更容易进入电子支付行业。数字支付用户的数量正在迅速增加。此外，客户偏好不断变化，他们需要更快地完成交易。

将所有这些放在一起，你就会明白为什么企业和软件开发商对支付行业的数字优先解决方案越来越感兴趣。

使用数字支付解决方案构建的应用程序提供了支付商品和服务的新方式，为企业提供了超越竞争对手的关键优势。由优步等初创公司开创的定制卡现在允许企业拥有自己的**可配置支付卡**和一种更简单的方式**管理支付计划**，甚至推出自己的奖励系统。

由于开放的 API，这些新的定制支付系统成为可能。

# 开放 API 创新

几十年来，金融机构一直使用 ISO 8583，这是促进全球交易信息流动的国际标准。多年来，该标准经历了无数次修改以支持更新的技术，但是仍然存在许多限制和进入壁垒。企业和开发者开始寻找一种没有几十年历史的单一流程负担的弹性解决方案。这导致 Marqeta 为支付卡创建了开放 API。简而言之，这个 API 提供了:

*   对处理卡交易步骤的 ISO 8583 流程进行精细分解，抽象出单一和不透明的方法
*   处理数字金融所有方面的能力，包括资金、安全、交易处理和通知
*   可编程、灵活、高性能的接口

# 一个开放的 API 对支付卡开发者意味着什么？

ISO 8583 要求开发商严格遵守整个交易流程。Marqeta 的 API 将这种单一的支付流分解为许多定义良好的模块化服务，允许开发人员在满足 ISO 8583 义务的同时，对构建定制应用程序有更多的控制。这种粒度方法还允许开发人员在支付过程步骤之间添加功能或通知挂钩，以实现更好的握手。

# JSON 消息传递

这个 API 的一个主要进步是使用了 JSON 格式的键值对(一种通用的数据交换标准)。这与 ISO 8583 的信息传递形成对比，后者使用不透明和深奥的代码。遗留的支付处理系统必须翻译这些代码，最终导致耗时且易出错的流程。遗留系统开发者通常必须根据网络独特的消息格式为不同的卡网络构建单独的集成。由于 JSON 消息标准使用标签而不是代码，所有这些问题都随着 marq eta API 的使用而消失了。

例如，ISO 8583 消息将是如下所示的不透明字符串:

```
010038C45934242420000042420000000330000037384992827492002827162889q839049f-839C01840f108
```

相比之下，Marqeta 平台将其转换为开发人员友好的 JSON，如下所示:

```
{​
 “token”: “7bce6b80-d41e-439a-a51f-3654bf586fde”,
 “user_token”: “ad664734–1203–4a06–9c9c-27407a6909a6”,
 “card_token”: “71994a77-ca7b-47b0-a5ac-867fb2fd7e4f”,
 “type”: “authorization”,
 “amount”: 100.0,
 “network”: “VISA”,
 …
}
```

# 元数据和事务匹配

API 引入的另一个变化是向消息添加元数据的能力。这使得用订单管理系统调节交易变得更加容易。当订单 ID 可以添加到交易消息中时，结果是*交易匹配*。将销售时的授权消息与同一交易的后续事件(如清算记录、撤销、退款、作废等)相匹配，意味着企业可以放心地解除对持卡人资金的冻结。

# 公开可用的文档

开放 API 附带公开可用的文档。该文档允许新开发人员轻松开始构建卡应用程序，并且允许有经验的专业人员识别潜在的漏洞。这反过来通过反馈促进快速创新和改进。

# 开发沙盒

Marqeta 的 API 可用于在沙盒中进行测试和模拟，允许开发人员探索其特性。开发人员可以快速构建、测试和提供测试卡，而不需要发卡供应商的参与。他们在定制用户的卡体验方面拥有完全的控制权和灵活性。这种对定制的控制意味着更精细的产品。

# 固有的合规性

API 的用户不必考虑 PCI-DSS 遵从性的实现实践。Marqeta 已经处理了所有符合 PCI 的安全实践。开发人员可以立即在应用程序中显示他们的卡，并启用 PIN 激活，而无需获得自己的 PCI 认证。

# 全局可扩展性

一个开放的 API 也允许支付开发者在全球范围内扩展他们的支付卡程序。现代卡发行平台是为一次构建、随处部署的方法而设计的；它不需要单独与每个本地卡网络集成。此外，API 的后端通常运行在云基础设施上，这些基础设施可以随着使用量的增长而自动扩展。开发人员不再需要担心冗余或提供额外的资源。

# 数字钱包

数字钱包令牌化是 Marqeta 开放 API 下现代卡发行的另一个重要部分。该 API 与 Apple Pay 或 Google Pay(以及 Mastercard 和 Visa 等全球卡网络)等数字钱包提供商集成，允许 API 消费者即时发行虚拟卡或创建数字钱包。该平台还为数字钱包集成提供加密和令牌化的卡数据。

# 事件通知

最后，API 带有内置的 [webhooks](https://community.marqeta.com/t5/knowledge-base/how-to-use-marqeta-webhooks/ta-p/325) 用于事件通知。这有助于事件日志记录、事务记录维护和丰富的最终用户体验的构建。

# 最后的话

在不牺牲安全性和可扩展性的情况下开发和发行可定制和灵活的卡产品的能力意味着金融企业现在可以获得超越竞争对手的优势。这种现代化的发卡流程以简单高效的方式实现，有助于快速开发和加快上市时间。

[Marqeta 的核心 API](https://www.marqeta.com/docs/core-api/introduction) 为开发者提供了一个易于使用的平台，用于快速推出卡片产品及其迭代开发。该 API 从一开始就负责 PCI 合规性、令牌化和集成。它还通过几乎无穷无尽的可用于卡计划所有方面的定制列表来确保灵活性。

更重要的是，该 API 为开发人员提供了一个可信的支付处理环境，该环境具有行业标准的安全性、实时通知以及预构建的报告和可视化。

最后，借助 Marqeta 的核心 API，现代卡开发商只需构建一次产品，就可以在世界任何地方部署，而无需与本地卡网络集成。该 API 构建在弹性云基础设施之上，可确保业务连续性。

使用支付卡的电子支付始于 50 年前。在该领域相对平静了 40 年之后，我们看到了过去十年数字支付领域的创新爆炸。因此，我们看到了现代发卡的诞生——marq eta 的开放 API——它使今天的开发人员能够为明天的数字优先行业领导者构建定制的发卡和支付程序。