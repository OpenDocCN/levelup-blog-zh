# åœ¨ Android ä¸­åˆ›å»ºè‡ªå®šä¹‰åå¸ðŸŒˆ

> åŽŸæ–‡ï¼š<https://levelup.gitconnected.com/creating-custom-toast-in-android-4f7fbcb14bf0>

![](img/41a80bd60e6157f29a97cb631e6b6f4a.png)

oast æ˜¯åº”ç”¨ç¨‹åºå¼€å‘ä¸­ç»å¸¸ä½¿ç”¨çš„ UI å…ƒç´ ï¼Œç”¨äºŽä»¥æ¸©å’Œçš„æ–¹å¼å‘ç”¨æˆ·æ˜¾ç¤ºæˆ–æç¤ºä¸€äº›æ¶ˆæ¯ã€‚æé«˜ç¥é…’è¯çš„è´¨é‡å¯ä»¥å¤§å¤§æ”¹å–„åº”ç”¨ç¨‹åºçš„ç”¨æˆ·ä½“éªŒã€‚æˆ‘ä»¬åªèƒ½é€šè¿‡åˆ›å»ºè‡ªå®šä¹‰åå¸æ¥åšåˆ°è¿™ä¸€ç‚¹ï¼Œå› ä¸ºåªæœ‰è¿™æ ·æˆ‘ä»¬æ‰èƒ½å®Œå…¨æŽ§åˆ¶å®ƒçš„å¤–è§‚ã€‚

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºä¸€ä¸ªå¦‚ä½•åœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­åˆ›å»ºè‡ªå®šä¹‰`Toast`çš„ç¤ºä¾‹ã€‚

ä¸ºäº†åˆ›å»ºå®šåˆ¶çš„ toastï¼Œç®€å•çš„è¿‡ç¨‹(æˆ‘ä»¬é©¬ä¸Šä¼šçœ‹åˆ°ç»†èŠ‚)æ˜¯æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå®šåˆ¶çš„å¸ƒå±€ï¼Œå±•å¼€è¿™ä¸ªå¸ƒå±€ï¼Œå°†è§†å›¾è®¾ç½®ä¸ºæˆ‘ä»¬çš„`Toast`å¯¹è±¡ï¼Œå¹¶æœ€ç»ˆæ˜¾ç¤ºå®ƒã€‚æ‰€ä»¥è®©æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥æ¥:

## æ­¥éª¤ 1:åˆ›å»ºæˆ‘ä»¬çš„è‡ªå®šä¹‰åå¸å¸ƒå±€

*   åœ¨ **res/layout** æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„å¸ƒå±€èµ„æºæ–‡ä»¶ã€‚å°†å¸ƒå±€æ–‡ä»¶å‘½åä¸º`toast_layout.xml`ã€‚
*   å› æ­¤ï¼Œæˆ‘ä»¬çš„å¸ƒå±€åŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ªå½©è‰²èƒŒæ™¯å’Œç™½è‰²æ–‡æœ¬çš„ç¥é…’è¯(ä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„è¦æ±‚å®šåˆ¶ï¼Œä¹Ÿè®¸ä¼šæ”¾ä¸€ä¸ªå›¾æ ‡)ã€‚æ‰€ä»¥ç›¸åŒçš„ä»£ç å¦‚ä¸‹:

## æ­¥éª¤ 2:è†¨èƒ€åˆ›å»ºçš„å¸ƒå±€

*   ä¸ºäº†æ”¾å¤§æˆ‘ä»¬åˆ›å»ºçš„å¸ƒå±€ï¼Œå³`toast_layout.xml`ï¼Œæˆ‘ä»¬å°†åˆ©ç”¨`LayoutInflater`ç±»æ¥æ”¾å¤§æˆ‘ä»¬çš„å¸ƒå±€ï¼Œå¹¶èŽ·å¾—ç›¸åŒçš„è§†å›¾ã€‚
*   åœ¨æ‚¨çš„æ´»åŠ¨ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º`showToast(String message)`çš„æ–¹æ³•ï¼Œå®ƒå°†åŒ…å«æ‰€æœ‰çš„ toast åˆ›å»ºä»£ç ã€‚

```
*void* **showToast**(String **message**) {

}
```

*   çŽ°åœ¨å°†å¸ƒå±€è†¨èƒ€ä»£ç æ”¾å…¥è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤º:

```
*void* **showToast**(String **message**) {
       **View** view = **LayoutInflater**.*from*(MainActivity.*this*)
              .inflate(R.layout.**toast_layout**, *null*);
}
```

## æ­¥éª¤ 3:åˆ›å»º Toast å¯¹è±¡å¹¶æ˜¾ç¤ºå®ƒ

*   è¿™æ˜¯æœ€åŽä¸€æ­¥ï¼Œæˆ‘ä»¬å°†è§†å›¾ç»‘å®šåˆ° toast å¯¹è±¡ï¼Œè®¾ç½®å®ƒçš„ä¸Šä¸‹æ–‡å¹¶æœ€ç»ˆæ˜¾ç¤ºå®ƒã€‚æ‰€ä»¥è®©æˆ‘ä»¬ç”¨å’Œä¸‹é¢ä¸€æ ·çš„æ–¹æ³•åˆ›å»ºä¸€ä¸ª`Toast`å¯¹è±¡ï¼Œå¹¶ç»™å®ƒä¼ é€’ä¸€ä¸ªä¸Šä¸‹æ–‡ã€‚

```
**Toast** toast = *new* **Toast**(**MainActivity**.*this*);
```

*   åœ¨æˆ‘ä»¬æœ€ç»ˆå°†è§†å›¾è®¾ç½®ä¸º Toast å¹¶æ˜¾ç¤ºå®ƒä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å®žé™…è®¾ç½®æˆ‘ä»¬çš„æ¶ˆæ¯åˆ°æˆ‘ä»¬çš„`TextView`

```
**TextView** tvMessage = view.**findViewById**(R.id.**tvMessage**);
tvMessage.**setText**(message);
```

*   æœ€åŽä¸ºæˆ‘ä»¬çš„ç¥é…’è¯è®¾ç½®è§†å›¾å¹¶å±•ç¤ºå®ƒï¼

```
toast.**setView**(view);
toast.**show**();
```

*   æ‚¨çš„æ–¹æ³•åº”è¯¥å¦‚ä¸‹æ‰€ç¤º:

åœ¨ä»»ä½•ä½ æƒ³çš„åœ°æ–¹è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå±å¹•åº”è¯¥æ˜¾ç¤ºä¸€ä¸ªå¦‚ä¸‹çš„`Toast`:

![](img/cc254c61aa30d4e5f144ee73cb701fbd.png)

ä½ å½“ç„¶å¯ä»¥é€šè¿‡ä½¿ç”¨`gravity`ã€`duration`ã€`layout`ç­‰è‡ªå®šä¹‰`Toast`ï¼Œä»¥ä¸Šåªæ˜¯ä¸€ä¸ªä¾‹å­ã€‚

æˆ‘èƒ½å¤Ÿå®Œæˆçš„ä¸€äº›ç¥é…’è¯å¦‚ä¸‹:

![](img/76f4529499a2b7242f927333798574e6.png)![](img/a55b12246454d09cb19883e8f9eeda0f.png)![](img/b671832c18ac352ed89ec85d18e91dda.png)![](img/c4e1455ade72cdd2856e6dc3978be136.png)![](img/264e97d981c927586bc4bf144bcd528e.png)![](img/4bd7cdadf06f3411c37e35d8b71f8255.png)![](img/e975e02814130e1e6a0661f846d8fd60.png)![](img/f25c94f9936b7807457938070aa863d9.png)![](img/cdecdf96c18708ca059c284208571a14.png)![](img/71d0336d51589ec984238aa4720f8cf2.png)![](img/6c3113379e02963e792ce6c9797df382.png)![](img/63bd79aaa1adcbebf957492f5c2d7fed.png)![](img/e2d985ae75a2a348586bdbbec79aac5d.png)![](img/2f1fbf7a0e61a081e7f4ef71be74cf2d.png)![](img/bb77b6b963a1b7c0a4d1a164c164887c.png)![](img/a873e3646e36af41b90545eb8a0610ef.png)![](img/3d2093eb76328b08d90f0be11f40cc13.png)

æ‰€æœ‰è¿™äº›éƒ½æ˜¯å®Œå…¨å¯ä»¥å®žçŽ°çš„ï¼Œä½ åªéœ€è¦ç›¸åº”åœ°è®¾è®¡å¸ƒå±€ã€‚ä½†æ˜¯å¦‚æžœä½ ä¸æƒ³åšè¿™äº›å†—é•¿çš„å·¥ä½œï¼Œæˆ‘æœ‰ä¸œè¥¿ç»™ä½ ã€‚

æˆ‘åˆ›å»ºäº†è¿™ä¸ªåä¸ºâ€œTastyToastyâ€çš„åº“ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ åˆ›å»ºä½ è‡ªå·±çš„å®šåˆ¶åå¸ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç®€å•çš„å‘½ä»¤è¡Œåˆ›å»ºå¦‚ä¸Šçš„åå¸:

[](https://github.com/usman18/TastyToasty) [## usman18/TastyToasty

### ä¸€ä¸ªæ˜“äºŽä½¿ç”¨çš„åº“æ¥åˆ›å»ºç¾Žå‘³ðŸ˜‹å„ç§å£å‘³çš„ç¥é…’ðŸŒˆå®ƒè¿˜æä¾›äº†è½»æ¾çš„æ–¹æ³•æ¥â€¦

github.com](https://github.com/usman18/TastyToasty) 

> æ„Ÿè°¢æ‚¨é˜…è¯»æˆ‘çš„æ–‡ç« ã€‚å¦‚æžœä½ çœŸçš„å–œæ¬¢ï¼Œç•™ä¸‹ä¸€äº›æŽŒå£°ã€‚æ›´å¤šæ–‡ç« è¯·å…³æ³¨æˆ‘çš„åª’ä½“ã€‚

æˆ‘çš„å…¶ä»–ä¸ªäººèµ„æ–™:

*   [æŽ¨ç‰¹](https://twitter.com/khan_usman_18)
*   [é¢†è‹±](https://www.linkedin.com/in/usmankhan18/)
*   [Github](https://github.com/usman18)
*   [Instagram](https://www.instagram.com/usman__khan18/)