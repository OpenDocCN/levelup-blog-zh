# 用优雅的解决方案解决 7 个常见的 PHP 问题

> 原文：<https://levelup.gitconnected.com/tackling-7-common-php-problems-with-elegant-solutions-b3784f62121d>

![](img/5eab1a92128cef86d2673a9d0d5d5684.png)

约翰·施诺布里奇在 Unsplash[上的照片](https://unsplash.com?utm_source=medium&utm_medium=referral)

## 如果您刚刚开始使用 PHP 并希望提高，这是完美的选择

当你刚刚开始使用 PHP 时，你会面临许多问题。其中一些问题比其他问题更常见。为了帮助你开始，我们将讨论你最终会遇到的七个常见的 PHP 问题，你将学会如何以一种优雅的方式解决这些问题。

## 1.检查字符串是否包含特定的子字符串

一个非常常见的检查是在一个字符串中找到某个子串，对于初学者来说解决方案不是很明显。例如，您可能想知道用户提交的一段文本是否包含单词*“Hello”*。

为此，您可以使用 *strpos* 功能。函数的作用是:检查子串是否存在于字符串中。如果子串存在，将返回一个整数，它是子串第一次出现的索引。当字符串*中不存在子串时，将返回 false* 。

在第一个例子中，我们显式地检查`!== false`，因为如果子串存在， *strpos* 函数将返回一个整数。

在第二个示例中，我们反转了检查。我们检查文本变量中是否存在某个子串**或**。如前所述，如果子串不存在， *strpos* 函数将返回 false。

在 PHP 8.0 中引入了 *str_contains* 函数。这简化了检查，并使其更具可读性。该函数不同于 *strpos* 函数，因为 *str_contains* 只返回一个布尔值。 *str_contains* 函数是从 PHP 8.0 开始的方法，因为它不那么麻烦。

## 2.从数组中删除一个或多个值

从数组中删除一个或多个值是一个常见的编程问题，您会经常遇到。要从数组中删除一个值，我们可以使用 *unset* 函数。由于*未设置的*函数需要需要移除的项目的索引，我们也使用了 *array_search* 函数。 *array_search* 函数在数组中搜索一个值，如果成功则返回第一个对应的键。

然而，上面的例子有一个限制。它只删除第一次出现的名字 *John* 。如果在 names 数组中出现了多个 John，那么代码将不起作用。只有当你知道数组中只有一个元素出现时，才使用这个方法移除元素。

如果你想从数组中删除所有的出现，你最好使用 *array_filter* 函数。 *array_filter* 函数遍历数组中的每个值，并将它们传递给回调函数。如果回调函数返回 *true* ，该值将被添加到新的结果数组中。在下面的示例中，如果名称不等于 John，则该项将被添加到结果数组中。

另一种从数组中移除值的优雅方式是使用 *array_diff* 函数。 *array_diff* 函数返回一个数组，其中包含第一个数组中不存在于任何其他数组中的所有条目——这只是第二个数组，包含 John，如下例所示。

如您所见，有几种方法可以解决这个特定的问题。

## 3.确定 foreach 循环中的第一次和最后一次迭代

当您必须使用 foreach 循环遍历数组时，您可能需要在循环的第一次或最后一次迭代中做一些不同的事情。

我经常看到这样的代码，它通过使用在 foreach 循环之外初始化并在每次迭代中递增的计数器来跟踪迭代次数。你觉得这很熟悉吗？

但是你知道有一个更简单更优雅的解决方案吗？

对于这个常见问题，这是迄今为止最简单、可读性最强的解决方案。

## 4.将项目移动到数组的末尾

要将一个项移动到数组的末尾，我们可以使用第二个数组中的一段代码。要在索引处移动一个项目，我们首先要从数组中移除它。您已经知道可以通过将 *array_search* 函数与 unset 函数结合使用来实现这一点。

现在我们已经从数组中移除了该项，我们必须将它添加到数组的末尾。为此，我们必须使用 *array_push* 函数。

## 5.从多维数组中的单个列获取所有值

假设我们有一个学生名单，我们想得到学生的名字。为此，我们可以使用 *array_column* 函数。这个函数很容易理解:它返回输入数组中一列的值。

让我们看看下面的例子。

## 6.计算日期

计算日期是你会经常用到的。基本的计算，如加减法，可以很容易地完成。你只需要知道 *strtotime* 函数。

提示:如果你不得不做大量的计算，你可以通过使用像 [Carbon](https://carbon.nesbot.com/docs/) 这样的库来让你的生活变得更加容易。它使你的代码更具可读性，并为你省去麻烦。

## 7.从字符串中删除字符

本文中我们要讨论的最后一个常见问题是从字符串中移除字符——包括从字符串的开头和结尾移除字符。我们可以通过使用代表 substring 的 *substr* 函数来实现这一点。从这个函数的名字可以看出，它将返回字符串的一部分。

让我们来看看下面的例子，它向你展示了如何从一个字符串的开头删除字符。

第一个参数是要从中删除字符的字符串。第二个参数是偏移量。此参数允许您从字符串中的指定位置开始(从 0 开始)。

在上面的例子中，我们从位置 5 开始。这是 how 这个词的 h。这样，我们从字符串中删除了前 5 个字符，索引 0-4，该字符串归结为单词*嘿*和它后面的空格。

要删除字符串末尾的字符，我们需要使用第三个参数，即子字符串的长度。如果长度为负，那么字符串末尾的字符数将被忽略。

## 就是这样！

既然我们已经讨论了这个常见问题的列表，接下来就要做实验了。如果你学习了一个新的功能，就用它来做一些练习。最好的学习方法就是把手弄脏。

在尝试新事物时，不要害怕犯错误。我们都犯过这样的错误。哦，你想要证据吗？查看下面的文章！

[](https://betterprogramming.pub/15-mistakes-every-developer-has-made-in-their-life-7b7ef03cc84c) [## 每个开发人员一生中都会犯的 15 个错误

### 你可能会联想到这些错误

better 编程. pub](https://betterprogramming.pub/15-mistakes-every-developer-has-made-in-their-life-7b7ef03cc84c) 

感谢阅读！

# 分级编码

感谢您成为我们社区的一员！在你离开之前:

*   👏为故事鼓掌，跟着作者走👉
*   📰查看[升级编码](https://levelup.gitconnected.com/)中的更多内容
*   🔔关注我们:[Twitter](https://twitter.com/gitconnected)|[LinkedIn](https://www.linkedin.com/company/gitconnected)|[时事通讯](https://newsletter.levelup.dev)
*   🚀👉 [**软件工程师的顶级工作**](https://jobs.levelup.dev/)