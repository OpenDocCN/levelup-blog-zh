<html>
<head>
<title>Serverless Private APIs — Part 1 🚀</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">无服务器私有APIs第1部分🚀</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/serverless-private-apis-60749934b161?source=collection_archive---------5-----------------------#2021-12-14">https://levelup.gitconnected.com/serverless-private-apis-60749934b161?source=collection_archive---------5-----------------------#2021-12-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/53e62062478cac8d81fa4515382fb7dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dZTfaP7ZQfqOPL9MZbV4hg.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">马库斯·温克勒在<a class="ae jd" href="https://unsplash.com/s/photos/jigsaw?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><div class=""/><div class=""><h2 id="a9e7" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">如何允许私有无服务器平台API在您的组织内部安全通信，而无需穿越公共互联网。包括用TypeScript和AWS CDK编写的视觉效果和代码库。</h2></div><figure class="kw kx ky kz gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi kv"><img src="../Images/d19ae8680c35d118ea3ecd71723757a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YpKiZAwHmltINXWBSTbZng.png"/></div></div></figure><h1 id="9a3f" class="la lb jg bd lc ld le lf lg lh li lj lk km ll kn lm kp ln kq lo ks lp kt lq lr bi translated">介绍</h1><p id="7150" class="pw-post-body-paragraph ls lt jg lu b lv lw kh lx ly lz kk ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">很多时候，在设计无服务器解决方案时，您会发现您有一个安全的内部平台，由多个域使用，并且没有必要让流向它的流量穿越公共互联网。通常，这将是域服务之间的机器到机器的流。本文将讨论一种使用API网关、VPC端点和Lambda的方法，使用AWS CDK部署，代码示例可以在这里找到<a class="ae jd" href="https://github.com/leegilmorecode/serverless-private-apis" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="b34d" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">有关使用客户端凭证授权流的“<em class="mt">机器对机器</em>”流的更多信息，请查看这篇单独的文章:</p><div class="ip iq gp gr ir mu"><a rel="noopener  ugc nofollow" target="_blank" href="/serverless-api-to-api-authentication-d4cb4472721e"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd jh gy z fp mz fr fs na fu fw jf bi translated">无服务器API到API认证🚀</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">使用OAuth2客户端凭证使用Amazon Cognito验证API到API集成的实用指南…</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="nd l"><div class="ne l nf ng nh nd ni ix mu"/></div></div></a></div><p id="d60b" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">这篇文章的第二部分可以在<a class="ae jd" href="https://leejamesgilmore.medium.com/91fb9ab0c484" rel="noopener">这里</a>找到。</p><h2 id="8d4b" class="nj lb jg bd lc nk nl dn lg nm nn dp lk mb no np lm mf nq nr lo mj ns nt lq nu bi translated">我们讨论的是哪些API层？💭</h2><p id="58bd" class="pw-post-body-paragraph ls lt jg lu b lv lw kh lx ly lz kk ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">让我们看看下面的例子，展示了我们的无服务器架构的各个层:</p><figure class="kw kx ky kz gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nv"><img src="../Images/4f78ecf7db946ad255320557e664144b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qh3egzrA2DY-uCBWrSbTMg.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">基于<strong class="bd lc">Andy Butcher(AO首席架构师)</strong>作品的典型架构层</figcaption></figure><p id="d121" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">下图显示了:</p><ol class=""><li id="060f" class="nw nx jg lu b lv mo ly mp mb ny mf nz mj oa mn ob oc od oe bi translated"><strong class="lu jh">UI层</strong>。这是典型的移动和网站前端。</li><li id="d1d1" class="nw nx jg lu b lv of ly og mb oh mf oi mj oj mn ob oc od oe bi translated"><strong class="lu jh"> MFE ( <em class="mt">微前端</em> ) </strong>。这通常是嵌入在UI层中的MFE组件或web应用程序。</li><li id="1ee1" class="nw nx jg lu b lv of ly og mb oh mf oi mj oj mn ob oc od oe bi translated"><strong class="lu jh">MFE API</strong>。这些API封装得很好，位于MFE组件的后面。这使得它们可以被放到其他ui中，并且不需要任何进一步的开发工作就可以工作(<em class="mt">除了通过</em>传递令牌)。</li><li id="a6ba" class="nw nx jg lu b lv of ly og mb oh mf oi mj oj mn ob oc od oe bi translated"><strong class="lu jh">公共API</strong>。这些API往往位于UI层之后，通常使用JWT进行绑定(<em class="mt">示例是用户通过UI登录到您的应用程序，该UI进行身份验证，返回一个JWT，并使用它来验证API调用</em>)。</li><li id="305a" class="nw nx jg lu b lv of ly og mb oh mf oi mj oj mn ob oc od oe bi translated"><strong class="lu jh">平台API</strong>。平台API通常是私有API，具有良好定义的REST模式(<em class="mt"> OpenAPI/Swagger </em>)，并允许其他公共API、平台API和MFE APIs使用公共功能。它们不应该公开。</li><li id="f92d" class="nw nx jg lu b lv of ly og mb oh mf oi mj oj mn ob oc od oe bi translated"><strong class="lu jh">数据层</strong>。最后是数据层，它支撑着大多数公共和平台API。每个微服务都应该有自己的数据存储，通常是数据库。</li></ol><p id="89c7" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">在本文中，我们将关注下面粉红色圆圈中显示的这组API之间的交互，即公共API、平台API和MFE APIs之间的交互(<em class="mt">或者当然还有一个或多个内部平台API</em>):</p><figure class="kw kx ky kz gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ok"><img src="../Images/7cb633301005d1e1ad2095eb4f1dedd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NPqftFXds9QJJtwVvds-TQ.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">本文将关注API类型之间的私有交互</figcaption></figure><h2 id="f0b0" class="nj lb jg bd lc nk nl dn lg nm nn dp lk mb no np lm mf nq nr lo mj ns nt lq nu bi translated">对于典型的无服务器解决方案，上图是什么样的？💭</h2><p id="2c9c" class="pw-post-body-paragraph ls lt jg lu b lv lw kh lx ly lz kk ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">如果我们以上面的架构层示意图为例，展示它在一个虚构的组织中的样子，它可能如下所示:</p><figure class="kw kx ky kz gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ol"><img src="../Images/eb73aa0f4f6d963360aa9048285da26b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d9kWru35rIb3NC7yC6av5A.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">调用共享平台的典型无服务器架构示例</figcaption></figure><p id="2df7" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">从上图中我们可以看到，我们有一组三个API，它们是可公开访问的(<em class="mt"> Basket、Orders和Customer </em>)，用于促进前端web/移动应用。客户通过jwt使用这些API进行认证(可能通过Amazon Cognito )。</p><p id="20e9" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">然后，这些公共API调用共享平台API，例如支付和订单平台。这两个共享平台不应该可以从公共互联网访问(<em class="mt">没有必要这样做，它们需要是安全的</em>)，并且不能从除了面向公众的API或内部业务系统之外的任何地方直接调用。所有流量都应该在内部AWS网络上保持私有。</p><blockquote class="om"><p id="6706" class="on oo jg bd op oq or os ot ou ov mn dk translated">然后，这些公共API调用共享平台API，例如支付和订单平台。这两个共享平台应该不能从公共互联网访问</p></blockquote><blockquote class="ow ox oy"><p id="61e0" class="ls lt mt lu b lv oz kh lx ly pa kk ma pb pc md me pd pe mh mi pf pg ml mm mn ij bi translated"><em class="jg">💡</em> <strong class="lu jh"> <em class="jg">注</em> </strong>:现实中并不是所有的调用都是这样同步的，在我看来大多数架构应该是事件驱动优先。也就是说，即使在事件驱动的无服务器架构中，也几乎总是需要同步API调用。有关无服务器事件驱动系统的更多信息，请查看以下内容</p></blockquote><div class="ip iq gp gr ir mu"><a href="https://leejamesgilmore.medium.com/serverless-event-driven-systems-9617c6406064" rel="noopener follow" target="_blank"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd jh gy z fp mz fr fs na fu fw jf bi translated">无服务器事件驱动系统🚀</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">您应该如何以及为什么首先使用Amazon EventBridge构建事件驱动的无服务器架构…</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">leejamesgilmore.medium.com</p></div></div><div class="nd l"><div class="ph l nf ng nh nd ni ix mu"/></div></div></a></div></div><div class="ab cl pi pj hu pk" role="separator"><span class="pl bw bk pm pn po"/><span class="pl bw bk pm pn po"/><span class="pl bw bk pm pn"/></div><div class="ij ik il im in"><h1 id="485c" class="la lb jg bd lc ld pp lf lg lh pq lj lk km pr kn lm kp ps kq lo ks pt kt lq lr bi translated">AWS上的私有API网关是什么？</h1><p id="b1bc" class="pw-post-body-paragraph ls lt jg lu b lv lw kh lx ly lz kk ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">那么到底什么是私有API网关呢？在我看来，下面这段由神奇的<a class="pu pv ep" href="https://medium.com/u/1eea7e34b9e5?source=post_page-----60749934b161--------------------------------" rel="noopener" target="_blank">埃里克·约翰逊</a>制作的YouTube视频很好地涵盖了这一点:</p><figure class="kw kx ky kz gt is"><div class="bz fp l di"><div class="pw px l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">构建快乐的小API:用私有Amazon API网关向内看(S1E9)</figcaption></figure><h1 id="5709" class="la lb jg bd lc ld le lf lg lh li lj lk km ll kn lm kp ln kq lo ks lp kt lq lr bi translated">来讨论一些行话吧！🤪</h1><p id="9d55" class="pw-post-body-paragraph ls lt jg lu b lv lw kh lx ly lz kk ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">当讨论AWS上的私有API网关时，有必要了解以下几点:</p><h2 id="4611" class="nj lb jg bd lc nk nl dn lg nm nn dp lk mb no np lm mf nq nr lo mj ns nt lq nu bi translated">VPC端点</h2><p id="c31c" class="pw-post-body-paragraph ls lt jg lu b lv lw kh lx ly lz kk ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">VPC端点支持虚拟私有云(VPC)和支持的AWS服务之间的连接，而不需要您使用互联网网关、NAT设备、VPN连接或AWS Direct Connect连接。因此，您的VPC不会暴露在公共互联网中。</p><p id="8633" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">VPC端点是虚拟设备。它们是水平扩展、冗余且高度可用的VPC组件。</p><h2 id="32f7" class="nj lb jg bd lc nk nl dn lg nm nn dp lk mb no np lm mf nq nr lo mj ns nt lq nu bi translated">API网关资源策略</h2><p id="4d56" class="pw-post-body-paragraph ls lt jg lu b lv lw kh lx ly lz kk ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">使用<a class="ae jd" href="https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-private-apis.html#apigateway-private-api-set-up-resource-policy" rel="noopener ugc nofollow" target="_blank">资源策略</a>，你可以允许或拒绝从选定的VPC和VPC端点、<em class="mt">访问你的私有API，包括跨AWS账户</em>。每个端点都可以用来访问多个私有API。</p><h2 id="9813" class="nj lb jg bd lc nk nl dn lg nm nn dp lk mb no np lm mf nq nr lo mj ns nt lq nu bi translated">私有DNS</h2><p id="a48c" class="pw-post-body-paragraph ls lt jg lu b lv lw kh lx ly lz kk ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">当启用私有DNS时，您可以通过私有DNS访问您的私有API。如果没有，您将需要使用Route 53别名或者通过VPCE端点本身(<em class="mt">加上一些额外的头</em>)。</p><h1 id="5dbb" class="la lb jg bd lc ld le lf lg lh li lj lk km ll kn lm kp ln kq lo ks lp kt lq lr bi translated">我们在建造什么？🏗️</h1><blockquote class="ow ox oy"><p id="ef75" class="ls lt mt lu b lv mo kh lx ly mp kk ma pb mq md me pd mr mh mi pf ms ml mm mn ij bi translated"><em class="jg">💡</em> <strong class="lu jh"> <em class="jg">注意</em> </strong>:要运行这些示例，您需要两个单独的AWS帐户或一个帐户中的两个VPC。</p></blockquote><p id="4ca6" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">我们将在下面构建一个利用私有API的简单示例(<em class="mt">摘自我们上面的虚构无服务器架构图示例</em>):</p><figure class="kw kx ky kz gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi py"><img src="../Images/6563dc591e9dbadae555015b2d5f08ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OnODRpey2xCgUxFlzFSkTw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">我们今天正在构建的架构示例—非常安全，攻击者没有机会攻击我们的平台</figcaption></figure><p id="065d" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">这个架构允许用户调用一个公共的<code class="fe pz qa qb qc b">Orders API</code>来创建一个订单，其标准如下:</p><ol class=""><li id="2cc4" class="nw nx jg lu b lv mo ly mp mb ny mf nz mj oa mn ob oc od oe bi translated">订单API网关由Lambdas在两个没有公共互联网接入的私有子网中提供支持(<em class="mt">没有互联网网关、NAT实例或NAT网关</em>)。</li><li id="fb24" class="nw nx jg lu b lv of ly og mb oh mf oi mj oj mn ob oc od oe bi translated">订单服务中的专用子网具有API网关服务的VPC端点。</li><li id="0526" class="nw nx jg lu b lv of ly og mb oh mf oi mj oj mn ob oc od oe bi translated">从orders Lambdas到private <code class="fe pz qa qb qc b">Stock Platform API</code>的流量安全地通过VPC端点，而不穿越公共互联网。</li></ol><h2 id="719d" class="nj lb jg bd lc nk nl dn lg nm nn dp lk mb no np lm mf nq nr lo mj ns nt lq nu bi translated">根据我的经验，团队通常会做什么？❌</h2><p id="d211" class="pw-post-body-paragraph ls lt jg lu b lv lw kh lx ly lz kk ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">我经常看到团队构建出下面的示例架构:</p><figure class="kw kx ky kz gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi qd"><img src="../Images/16895d8b6680c0a435e2cdae6127e832.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*exF1Lytc4bjiWyWMoVgt0A.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">穿越公共互联网的流量示例</figcaption></figure><p id="6e50" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">在这个例子中，股票平台API对任何人都是公开可访问的(<em class="mt">即，你可以从Postman、你的移动设备或CURL命令</em>点击它)，并且只能通过API密钥绑定。这意味着:</p><ol class=""><li id="6ea3" class="nw nx jg lu b lv mo ly mp mb ny mf nz mj oa mn ob oc od oe bi translated">攻击者可能试图暴力破解这个API密钥。</li><li id="f3fc" class="nw nx jg lu b lv of ly og mb oh mf oi mj oj mn ob oc od oe bi translated">攻击者可以尝试DDOS或拒绝钱包攻击API。</li><li id="2eb5" class="nw nx jg lu b lv of ly og mb oh mf oi mj oj mn ob oc od oe bi translated">内部不良行为者可以利用API密钥，在家中访问客户数据而不留下任何痕迹。</li><li id="7f5b" class="nw nx jg lu b lv of ly og mb oh mf oi mj oj mn ob oc od oe bi translated">API密钥不应单独用于认证(<em class="mt">见下文</em>)。</li></ol><blockquote class="om"><p id="8dd4" class="on oo jg bd op oq qe qf qg qh qi mn dk translated">不要依赖API密匙作为API认证和授权的唯一方式。如果在一个使用计划中有多个API，拥有该使用计划中一个API的有效API密钥的用户可以访问该使用计划中的<em class="qj">所有</em>API。相反，使用一个IAM角色，<a class="ae jd" href="https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-use-lambda-authorizer.html" rel="noopener ugc nofollow" target="_blank">，一个Lambda授权者</a>，或者一个<a class="ae jd" href="https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-integrate-with-cognito.html" rel="noopener ugc nofollow" target="_blank"> Amazon Cognito用户池</a>。—<a class="ae jd" href="https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-api-usage-plans.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/API gateway/latest/developer guide/API-gateway-API-usage-plans . html</a></p></blockquote><p id="c129" class="pw-post-body-paragraph ls lt jg lu b lv oz kh lx ly pa kk ma mb pc md me mf pe mh mi mj pg ml mm mn ij bi translated">有关威胁的更多信息，请参见以下文章:</p><div class="ip iq gp gr ir mu"><a href="https://leejamesgilmore.medium.com/serverless-threat-modelling-df8e4028ef6d" rel="noopener follow" target="_blank"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd jh gy z fp mz fr fs na fu fw jf bi translated">无服务器威胁建模🚀</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">您应该如何以及为什么在AWS上对您的无服务器解决方案进行威胁建模，并提供真实生活中的可视化示例</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">leejamesgilmore.medium.com</p></div></div><div class="nd l"><div class="qk l nf ng nh nd ni ix mu"/></div></div></a></div><p id="bcf6" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">不言而喻，从架构层的角度来看，股票平台API不需要公开访问，并且应该是安全的，所有流量都保留在内部AWS专用网络上。</p><h1 id="c5da" class="la lb jg bd lc ld le lf lg lh li lj lk km ll kn lm kp ln kq lo ks lp kt lq lr bi translated">私有API的局限性是什么？😔</h1><p id="e2c2" class="pw-post-body-paragraph ls lt jg lu b lv lw kh lx ly lz kk ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">因此，在我们深入探讨之前，让我们讨论一下AWS上私有API网关的一些限制:</p><h2 id="d69f" class="nj lb jg bd lc nk nl dn lg nm nn dp lk mb no np lm mf nq nr lo mj ns nt lq nu bi translated"><strong class="ak">自定义域名</strong></h2><p id="69ff" class="pw-post-body-paragraph ls lt jg lu b lv lw kh lx ly lz kk ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated"><a class="ae jd" href="https://docs.aws.amazon.com/apigateway/latest/developerguide/how-to-custom-domains.html" rel="noopener ugc nofollow" target="_blank">私有API不支持自定义域名</a>。这意味着您将需要通过自动生成的专用DNS API URL、VPC端点(带标头)或Route 53别名(<em class="mt">见下文</em>)来访问它们。</p><blockquote class="ow ox oy"><p id="7e05" class="ls lt mt lu b lv mo kh lx ly mp kk ma pb mq md me pd mr mh mi pf ms ml mm mn ij bi translated">有一种方法可以绕过这个非常复杂的问题，但是在本文的第2部分中讨论了这个问题。</p></blockquote><h2 id="65b1" class="nj lb jg bd lc nk nl dn lg nm nn dp lk mb no np lm mf nq nr lo mj ns nt lq nu bi translated"><strong class="ak">私有DNS </strong></h2><p id="0fa8" class="pw-post-body-paragraph ls lt jg lu b lv lw kh lx ly lz kk ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">默认情况下，在您的VPC端点上启用私有DNS，但是这意味着如果您使用VPC端点连接到您的私有API，您将无法同时访问任何公共API网关(<em class="mt">见下文</em>)</p><figure class="kw kx ky kz gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ql"><img src="../Images/7e9dc34109ed92a0b5ca19de2921433c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KbbLd3o3G5lVGRbJfx6YHw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated"><a class="ae jd" href="https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-private-apis.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/API gateway/latest/developer guide/API gateway-private-APIs . html</a></figcaption></figure><figure class="kw kx ky kz gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi qm"><img src="../Images/13d79c2fe6419da79749d12cd872c3b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pJx3mTsscD5DihuaJhx8Nw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated"><a class="ae jd" href="https://d1.awsstatic.com/whitepapers/private-api-best-practices.pdf" rel="noopener ugc nofollow" target="_blank">https://D1 . AWS static . com/whites/private-API-best-practices . pdf</a></figcaption></figure><p id="687f" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">当与亚马逊VPC关联的API网关<a class="ae jd" href="https://docs.aws.amazon.com/vpc/latest/userguide/vpce-interface.html" rel="noopener ugc nofollow" target="_blank">接口VPC端点</a>启用了<a class="ae jd" href="https://docs.aws.amazon.com/vpc/latest/userguide/vpce-interface.html#vpce-private-dns" rel="noopener ugc nofollow" target="_blank">私有DNS </a>时，从VPC到API网关API的所有请求都解析到该接口VPC端点。<strong class="lu jh">然而，不可能同时使用VPC端点连接到公共API。</strong></p><blockquote class="ow ox oy"><p id="94b6" class="ls lt mt lu b lv mo kh lx ly mp kk ma pb mq md me pd mr mh mi pf ms ml mm mn ij bi translated">由于在接口VPC端点上启用了专用DNS选项，DNS会针对*进行查询。execute-api.amazonaws.com将被解析为端点的私有IP。当VPC中的客户端尝试调用区域或边缘优化的API时，这会导致问题，因为这些类型的API必须通过互联网访问。不允许通过接口VPC端点的流量。唯一的解决方法是使用边缘优化的自定义域名。</p></blockquote><p id="fe02" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">VPC中试图连接到公共API的资源必须具有internet连接。</p><p id="20d0" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">下面显示了一个示例代码片段，其中VPC端点上启用了DNS:</p><figure class="kw kx ky kz gt is"><div class="bz fp l di"><div class="qn px l"/></div></figure><h2 id="796e" class="nj lb jg bd lc nk nl dn lg nm nn dp lk mb no np lm mf nq nr lo mj ns nt lq nu bi translated">我们如何解决这个问题，为什么它很重要？</h2><p id="b571" class="pw-post-body-paragraph ls lt jg lu b lv lw kh lx ly lz kk ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">如果您是一个拥有多个平台和多个消费者的组织(<em class="mt">就像本文开头的图表</em>)，您可能会发现这些消费者需要从他们的VPC中同时调用私有和公共API作为标准(<em class="mt">，并且肯定还需要调用第三方API，例如fulfilment.acme.com、deliveries.acme.com等</em>)。</p><p id="fac2" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">我们总是想让我们内部平台API的消费者尽可能简单地使用它，而不能期望他们做大量的跑腿工作！</p><p id="885e" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">在没有自定义域名的情况下，有两种主要方法可以解决这个问题，下面将讨论这两种方法:</p><p id="3173" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">✅ <strong class="lu jh">利用边缘优化定制域解决这个问题</strong></p><p id="298d" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">如果使用边缘优化的自定义域名访问公共API，私有DNS设置不会影响从VPC调用这些公共API的能力。使用edge优化的自定义域名访问您的公共API ( <em class="mt">同时使用私有DNS访问您的私有API </em>)是从VPC访问公共和私有API的一种方式，其中端点是使用私有DNS <code class="fe pz qa qb qc b">enabled</code>创建的。</p><blockquote class="ow ox oy"><p id="8ff4" class="ls lt mt lu b lv mo kh lx ly mp kk ma pb mq md me pd mr mh mi pf ms ml mm mn ij bi translated"><strong class="lu jh"/></p></blockquote><p id="651d" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">✅ <strong class="lu jh">私有API Route53别名</strong></p><p id="aa4f" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">另一种解决这个问题的方法是使用Route 53别名访问您的私有API，并将私有DNS设置为<code class="fe pz qa qb qc b">false</code>，当您将VPC端点与私有API网关相关联时，会为您创建别名:<a class="ae jd" href="https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-private-api-test-invoke-url.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/API gateway/latest/developer guide/API gateway-Private-API-test-invoke-URL . htm</a>l(<em class="mt">参见下面的示例</em>)</p><figure class="kw kx ky kz gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi qo"><img src="../Images/f1feec2034082f7c0b219b362559ceec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f2DBr9oXKSaH_1ywA-3rrw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">显示将私有API网关与一个或多个特定VPC端点相关联的示例</figcaption></figure><p id="d8e4" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">然后，您可以使用这个别名记录来调用您的私有API，就像您调用您的边缘优化或区域API一样，而无需覆盖一个<code class="fe pz qa qb qc b">Host</code>头或传递一个<code class="fe pz qa qb qc b">x-apigw-api-id</code>头。</p><p id="5de9" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">对于Route 53别名，生成的别名URL现在采用以下格式:</p><p id="cb08" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated"><code class="fe pz qa qb qc b"><a class="ae jd" href="https://{rest-api-id}-{vpce-id}.execute-api{region}.amazonaws.com/{stage}" rel="noopener ugc nofollow" target="_blank">https://{rest-api-id}-{vpce-id}.execute-api.{region}.amazonaws.com/{stage}</a></code></p><figure class="kw kx ky kz gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi qp"><img src="../Images/f1af054e0c621d5ee50116ab293835e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F3sGm1opDCyVuhxxSxUxGg.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">将Route 53别名记录与API密钥一起使用的示例</figcaption></figure><p id="8e99" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">我们使用它来代替我们的私有URL，因为私有DNS在VPC端点上被禁用，私有URL将不再起作用，也就是说，下面的内容将无法使用私有DNS进行解析<code class="fe pz qa qb qc b">disabled</code>:</p><p id="15f5" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated"><code class="fe pz qa qb qc b"><a class="ae jd" href="https://{rest-api-id}.execute-api.eu-west-1.amazonaws.com/{stage}" rel="noopener ugc nofollow" target="_blank">https://{rest-api-id}.execute-api.eu-west-1.amazonaws.com/{stage}</a></code></p><p id="b772" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">如果我们试图在VPC之外找到53号公路的别名，你将无法解决这个问题:</p><figure class="kw kx ky kz gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi qq"><img src="../Images/96b28b072cff1df19a4d6b6a21fb14c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K0jLcsmz1o8RisuT_Sicng.png"/></div></div></figure><p id="732e" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">这允许您将VPC端点的'<code class="fe pz qa qb qc b">enablePrivateDNS</code>'属性设置为<code class="fe pz qa qb qc b">false</code>，并且在您的私有子网路由表中添加一个指向公共子网中NAT网关的路由现在可以工作了(<strong class="lu jh"><em class="mt">重要的是</em> </strong> — <em class="mt">)，同时仍然保持您的私有API只能从您的第二个VPC内部访问，并且也能够访问外部API—公共API网关和第三方API都可以</em></p></div><div class="ab cl pi pj hu pk" role="separator"><span class="pl bw bk pm pn po"/><span class="pl bw bk pm pn po"/><span class="pl bw bk pm pn"/></div><div class="ij ik il im in"><h1 id="c098" class="la lb jg bd lc ld pp lf lg lh pq lj lk km pr kn lm kp ps kq lo ks pt kt lq lr bi translated">部署解决方案！👨‍💻</h1><blockquote class="ow ox oy"><p id="6fd7" class="ls lt mt lu b lv mo kh lx ly mp kk ma pb mq md me pd mr mh mi pf ms ml mm mn ij bi translated"><em class="jg"> 🛑 </em> <strong class="lu jh"> <em class="jg">注意</em> </strong> <em class="jg"> : </em>运行以下命令将在您的AWS账户上产生费用。</p></blockquote><p id="3541" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">让我们在这里部署您可以克隆的基本代码示例:<a class="ae jd" href="https://github.com/leegilmorecode/serverless-private-apis" rel="noopener ugc nofollow" target="_blank">https://github.com/leegilmorecode/serverless-private-apis</a></p><p id="9af8" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">💡<em class="mt">请注意，在我的示例中，部署NPM脚本使用不同的AWS配置文件，因为我们要部署到两个独立的AWS帐户，这就是为什么它们不是同一个应用程序中的两个独立的CDK堆栈。</em></p><ol class=""><li id="9e94" class="nw nx jg lu b lv mo ly mp mb ny mf nz mj oa mn ob oc od oe bi translated">在订单服务和库存服务文件夹中运行以下命令:<code class="fe pz qa qb qc b">npm i</code></li><li id="acee" class="nw nx jg lu b lv of ly og mb oh mf oi mj oj mn ob oc od oe bi translated">将目录切换到订单服务文件夹并运行<code class="fe pz qa qb qc b">npm run deploy</code></li><li id="c5db" class="nw nx jg lu b lv of ly og mb oh mf oi mj oj mn ob oc od oe bi translated">部署完成后，记下终端输出的<code class="fe pz qa qb qc b">VPC Endpoint ID</code>。</li><li id="023f" class="nw nx jg lu b lv of ly og mb oh mf oi mj oj mn ob oc od oe bi translated">在文件<code class="fe pz qa qb qc b">serverless-private-apis/stock-service/lib/stock-service-stack.ts</code>中，将第68行更新为正确的VPC端点ID。</li><li id="16cf" class="nw nx jg lu b lv of ly og mb oh mf oi mj oj mn ob oc od oe bi translated">现在执行第二步，但这次是在库存服务文件夹中。</li><li id="bbb1" class="nw nx jg lu b lv of ly og mb oh mf oi mj oj mn ob oc od oe bi translated">获取部署输出中输出的库存API，并将其添加到第7行的文件<code class="fe pz qa qb qc b">orders-service/orders/create-order/create-order.ts</code>中，然后再次重新部署。</li></ol><p id="0790" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">💡<em class="mt">请注意，这是允许我们讨论文章要点的最基本的代码和架构，因此这不是生产就绪，也不符合编码最佳实践</em>。<em class="mt">(例如，端点上无认证)。我也尽量不把代码分割得太多，这样下面的例子文件很容易查看，所有的依赖关系都在一个文件中。</em></p></div><div class="ab cl pi pj hu pk" role="separator"><span class="pl bw bk pm pn po"/><span class="pl bw bk pm pn po"/><span class="pl bw bk pm pn"/></div><div class="ij ik il im in"><h1 id="fdb8" class="la lb jg bd lc ld pp lf lg lh pq lj lk km pr kn lm kp ps kq lo ks pt kt lq lr bi translated">测试解决方案🎯</h1><p id="a5f2" class="pw-post-body-paragraph ls lt jg lu b lv lw kh lx ly lz kk ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">一旦部署了解决方案，您可以使用<code class="fe pz qa qb qc b">serverless-private-apis/postman/serverless-private-apis.postman_collection.json</code>中的postman文件来尝试访问orders公共端点，该端点本身将在AWS网络上私下调用Stock API:</p><figure class="kw kx ky kz gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi qr"><img src="../Images/3607408ae843d9b8304670f8114ea509.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t0YTQxDOJD24c3PfNx5Uvg.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">示例显示了使用Postman的呼叫，其中股票数据被私下解析</figcaption></figure></div><div class="ab cl pi pj hu pk" role="separator"><span class="pl bw bk pm pn po"/><span class="pl bw bk pm pn po"/><span class="pl bw bk pm pn"/></div><div class="ij ik il im in"><h1 id="3dd3" class="la lb jg bd lc ld pp lf lg lh pq lj lk km pr kn lm kp ps kq lo ks pt kt lq lr bi translated">更深入地探究架构</h1><p id="9460" class="pw-post-body-paragraph ls lt jg lu b lv lw kh lx ly lz kk ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">下图显示了您如何通过对您组织中可能有的多个私有API的任何调用来重用您的VPC端点，也就是说，您不需要为每个不想使用的私有API使用一个VPC端点。</p><p id="cafd" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">私有API本身的资源策略规定了哪些VPC端点(<em class="mt">或VPC</em>)可以将流量路由到它，因此它是完全安全的。正如您在下面的示例中所看到的，我们在支付平台API的资源策略上声明，我们将只允许来自VPC端点<code class="fe pz qa qb qc b">vpce-0d9643ccd883bac3a.</code>的流量进入，我们也将对库存平台资源策略执行同样的操作，并且在订单专用子网中只需要一个VPC端点。</p><blockquote class="ow ox oy"><p id="cee3" class="ls lt mt lu b lv mo kh lx ly mp kk ma pb mq md me pd mr mh mi pf ms ml mm mn ij bi translated"><strong class="lu jh">注意</strong>您还可以添加一个VPC端点策略来进一步保护哪些流量可以路由到您的VPC端点，从而保护两端的安全。</p></blockquote><figure class="kw kx ky kz gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi qs"><img src="../Images/2c10214a43ddd979a6a6d34b879bbcdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T3iIpVaTI_N5G7jkQVyrGA.png"/></div></div></figure><h1 id="7225" class="la lb jg bd lc ld le lf lg lh li lj lk km ll kn lm kp ln kq lo ks lp kt lq lr bi translated">摘要</h1><p id="5e47" class="pw-post-body-paragraph ls lt jg lu b lv lw kh lx ly lz kk ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">我希望你觉得有用！在本文的第2部分中，我将展示如何通过使用自定义域名的解决方案，让您的消费者更容易地使用您的私有API。让我们面对现实吧，对于你的内部API的消费者来说，需要使用VPC端点和所有这些变通办法并不太好。</p><p id="ae4f" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">在本文的第2部分<a class="ae jd" href="https://leejamesgilmore.medium.com/91fb9ab0c484" rel="noopener">中，我们将介绍如何使用带有内部私有API的定制域。</a></p><p id="ba9d" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">请点击此处订阅我的企业无服务器新闻稿，了解更多相同的内容:</p><div class="ip iq gp gr ir mu"><a href="https://www.linkedin.com/newsletters/enterprise-serverless-%F0%9F%9A%80-6875837779876605952/" rel="noopener  ugc nofollow" target="_blank"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd jh gy z fp mz fr fs na fu fw jf bi translated">企业无服务器🚀LinkedIn</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">Lee Gilmore |面向AWS开发人员、DevOps工程师和云架构师的无服务器新闻和文章</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">www.linkedin.com</p></div></div><div class="nd l"><div class="qt l nf ng nh nd ni ix mu"/></div></div></a></div></div><div class="ab cl pi pj hu pk" role="separator"><span class="pl bw bk pm pn po"/><span class="pl bw bk pm pn po"/><span class="pl bw bk pm pn"/></div><div class="ij ik il im in"><h1 id="7ffa" class="la lb jg bd lc ld pp lf lg lh pq lj lk km pr kn lm kp ps kq lo ks pt kt lq lr bi translated">包扎👋</h1><p id="efe4" class="pw-post-body-paragraph ls lt jg lu b lv lw kh lx ly lz kk ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">我希望你觉得有用！</p><p id="4ced" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">请<a class="ae jd" href="https://www.youtube.com/channel/UC_Bi6eLsBXpLnNRNnxKQUsA" rel="noopener ugc nofollow" target="_blank">去我的YouTube频道</a>订阅类似的内容！</p><figure class="kw kx ky kz gt is gh gi paragraph-image"><div class="gh gi qu"><img src="../Images/e2ccbd59f6719593198c0d2372e5b398.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HqD4lqG0nOnMJ_-k.png"/></div></figure><p id="581e" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">我很乐意就以下任何一个方面与您联系:</p><p id="d805" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated"><a class="ae jd" href="https://www.linkedin.com/in/lee-james-gilmore/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/lee-james-gilmore/</a>T8<a class="ae jd" href="https://twitter.com/LeeJamesGilmore" rel="noopener ugc nofollow" target="_blank">https://twitter.com/LeeJamesGilmore</a></p><p id="150a" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">如果你觉得这些文章鼓舞人心或有用，请随时用虚拟咖啡<a class="ae jd" href="https://www.buymeacoffee.com/leegilmore" rel="noopener ugc nofollow" target="_blank">https://www.buymeacoffee.com/leegilmore</a>来支持我，不管怎样，让我们联系和聊天吧！☕️</p><p id="c2e7" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">如果你喜欢这些帖子，请关注我的简介<a class="ae jd" href="https://medium.com/u/2906c6def240?source=post_page-----39c4f4ae5aff----------------------" rel="noopener">李·詹姆斯·吉尔摩</a>以获取更多的帖子/系列，不要忘记联系我并打招呼👋</p><p id="d2d4" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">如果你喜欢，也请使用帖子底部的“鼓掌”功能！(<em class="mt">可以不止一次鼓掌！！</em>)</p><p id="f499" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated"><strong class="lu jh">本文由</strong><a class="ae jd" href="https://www.sedai.io/" rel="noopener ugc nofollow" target="_blank"><strong class="lu jh">sedai . io</strong></a>赞助</p><figure class="kw kx ky kz gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi qv"><img src="../Images/4c77bc2d275bd557dda90aa2fe842d2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LJqkQYFI-KAGHOI3cHWxJQ.png"/></div></div></figure></div><div class="ab cl pi pj hu pk" role="separator"><span class="pl bw bk pm pn po"/><span class="pl bw bk pm pn po"/><span class="pl bw bk pm pn"/></div><div class="ij ik il im in"><h1 id="4071" class="la lb jg bd lc ld pp lf lg lh pq lj lk km pr kn lm kp ps kq lo ks pt kt lq lr bi translated">关于我</h1><p id="58ec" class="pw-post-body-paragraph ls lt jg lu b lv lw kh lx ly lz kk ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">"<em class="mt">大家好，我是Lee，英国的AWS社区构建者、博客作者、AWS认证云架构师和首席软件工程师；目前是一名技术云架构师和首席无服务器开发人员，过去5年主要从事AWS上的全栈JavaScript工作。</em></p><p id="4fe1" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">我认为自己是一个无服务器倡导者，热爱AWS、创新、软件架构和技术。”</p><p id="b147" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">***所提供的信息是我个人的观点，我对这些信息的使用不承担任何责任。*** </p><p id="801a" class="pw-post-body-paragraph ls lt jg lu b lv mo kh lx ly mp kk ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">您可能还对以下内容感兴趣:</p><div class="ip iq gp gr ir mu"><a href="https://leejamesgilmore.medium.com/serverless-tactical-dd-r-23d18d529fa1" rel="noopener follow" target="_blank"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd jh gy z fp mz fr fs na fu fw jf bi translated">无服务器战术DD(R)🚀</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">对于无服务器解决方案，什么是战术性DD(R)作为非功能性需求的战术方法，以及…</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">leejamesgilmore.medium.com</p></div></div><div class="nd l"><div class="qw l nf ng nh nd ni ix mu"/></div></div></a></div><div class="ip iq gp gr ir mu"><a href="https://leejamesgilmore.medium.com/serverless-threat-modelling-df8e4028ef6d" rel="noopener follow" target="_blank"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd jh gy z fp mz fr fs na fu fw jf bi translated">无服务器威胁建模🚀</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">您应该如何以及为什么在AWS上对您的无服务器解决方案进行威胁建模，并提供真实生活中的可视化示例</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">leejamesgilmore.medium.com</p></div></div><div class="nd l"><div class="qk l nf ng nh nd ni ix mu"/></div></div></a></div><div class="ip iq gp gr ir mu"><a href="https://leejamesgilmore.medium.com/serverless-content-46ef5b562d8e" rel="noopener follow" target="_blank"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd jh gy z fp mz fr fs na fu fw jf bi translated">无服务器内容🚀</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">我的所有无服务器内容的索引，可以在一个地方轻松浏览，包括视频、博客文章等..</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">leejamesgilmore.medium.com</p></div></div><div class="nd l"><div class="qx l nf ng nh nd ni ix mu"/></div></div></a></div><div class="ip iq gp gr ir mu"><a href="https://leejamesgilmore.medium.com/serverless-synthetic-canaries-7946dc5216ba" rel="noopener follow" target="_blank"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd jh gy z fp mz fr fs na fu fw jf bi translated">无服务器合成金丝雀🚀</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">使用CloudWatch合成金丝雀来监控你的无服务器应用程序的实际例子，有视觉效果和…</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">leejamesgilmore.medium.com</p></div></div><div class="nd l"><div class="qy l nf ng nh nd ni ix mu"/></div></div></a></div><div class="ip iq gp gr ir mu"><a rel="noopener  ugc nofollow" target="_blank" href="/documenting-your-serverless-solutions-509f1928564b"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd jh gy z fp mz fr fs na fu fw jf bi translated">记录您的无服务器解决方案🚀</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">一个生成和托管你的无服务器文档的例子，比如OpenAPI/Swagger，ADRs和code…</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="nd l"><div class="qz l nf ng nh nd ni ix mu"/></div></div></a></div></div></div>    
</body>
</html>