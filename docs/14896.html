<html>
<head>
<title>8 ways to turn a string into an array in JavaScript — from most useful to most obscure</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在JavaScript中将字符串转化为数组的8种方法——从最有用到最晦涩</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-turn-a-string-into-an-array-in-javascript-from-most-useful-to-most-obscure-way-c3691ed01a4a?source=collection_archive---------26-----------------------#2022-12-30">https://levelup.gitconnected.com/how-to-turn-a-string-into-an-array-in-javascript-from-most-useful-to-most-obscure-way-c3691ed01a4a?source=collection_archive---------26-----------------------#2022-12-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="5783" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi ko translated"><span class="l kp ky bm di kz"> <img alt="In" class="la lb lc ld le lf fc n ih dh bf" src="../Images/da1a6e088cfb07b0998e7372ad9f248c.png" width="130" height="79" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fit:260/1*m3jNmTZUrW1OdFhW05dEgg.png"/> <span class="l kp kq kr bm ks kt ku kv kw di kx">在</span> </span> JavaScript中，将字符串转换成数组是一个常见的任务，可以通过许多不同的方式来完成。有许多方法可以将一个字符串拆分成一个数组，不管它是一个长字符串还是一个短字符串。已经有一些文章讨论了如何将一个字符串转换成一个数组，但是它们并没有涵盖所有的技术，也没有深入讨论每种技术的优缺点。</p><p id="52dc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这篇博客文章中，我们将研究JavaScript中把字符串转换成数组的一些不同方法，比如split()方法、spread操作符和许多其他您可能从未听说过的技术。我们还将讨论每种方法的优缺点，以便您可以根据自己的具体需求选择最佳方法。因此，如果您对学习如何在JavaScript中将字符串转换为数组感兴趣，让我们开始吧！</p><p id="a65a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这只是众多关于JavaScript和软件开发的文章中的一篇。欢迎关注我们，获取更多关于JavaScript和软件开发的精彩内容。我们尝试一周发布多次。请确保不要错过我们的任何精彩内容。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi lg"><img src="../Images/73acd244ccaf10ac82fac91464580f8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pyyWaf8f-EGADPnE"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">照片由<a class="ae lv" href="https://unsplash.com/@xandtor?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> xandtor </a>在<a class="ae lv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="3c74" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在JavaScript中，有几种方法可以将字符串转换为数组:</p><h2 id="f525" class="lw lx it bd ly lz ma dn mb mc md dp me kb mf mg mh kf mi mj mk kj ml mm mn mo bi translated">扩展运算符</h2><pre class="lh li lj lk gt mp mq mr bn ms mt bi"><span id="0425" class="mu lx it mq b be mv mw l mx my">const string = 'Hello, world!';<br/>const array = […string];</span></pre><p id="d115" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">spread运算符(…)可用于将字符串扩展为数组文字，从而将字符串转换为字符数组。</p><p id="c24f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">好处:</p><ul class=""><li id="c4b4" class="mz na it js b jt ju jx jy kb nb kf nc kj nd kn ne nf ng nh bi translated">扩展运算符简洁且易于使用。</li><li id="8bf5" class="mz na it js b jt ni jx nj kb nk kf nl kj nm kn ne nf ng nh bi translated">它能正确处理Unicode字符。</li></ul><p id="e95c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">陷阱:</p><ul class=""><li id="b636" class="mz na it js b jt ju jx jy kb nb kf nc kj nd kn ne nf ng nh bi translated">spread运算符仅适用于支持spread语法的现代浏览器。</li></ul><h2 id="6fd6" class="lw lx it bd ly lz ma dn mb mc md dp me kb mf mg mh kf mi mj mk kj ml mm mn mo bi translated">Array.from方法</h2><pre class="lh li lj lk gt mp mq mr bn ms mt bi"><span id="1dfe" class="mu lx it mq b be mv mw l mx my">const string = 'Hello, world!';<br/>const array = Array.from(string);</span></pre><p id="ead7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Array.from方法从iterable对象(如字符串)创建一个新数组。</p><p id="7b24" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">好处:</p><ul class=""><li id="ec36" class="mz na it js b jt ju jx jy kb nb kf nc kj nd kn ne nf ng nh bi translated">Array.from方法得到了广泛的支持，可以在所有现代浏览器中使用。</li><li id="7e90" class="mz na it js b jt ni jx nj kb nk kf nl kj nm kn ne nf ng nh bi translated">它能正确处理Unicode字符。</li></ul><p id="d6ed" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">陷阱:</p><ul class=""><li id="2b23" class="mz na it js b jt ju jx jy kb nb kf nc kj nd kn ne nf ng nh bi translated">Array.from方法比其他方法更详细。</li></ul><h2 id="da9c" class="lw lx it bd ly lz ma dn mb mc md dp me kb mf mg mh kf mi mj mk kj ml mm mn mo bi translated">使用for循环</h2><pre class="lh li lj lk gt mp mq mr bn ms mt bi"><span id="8a98" class="mu lx it mq b be mv mw l mx my">const string = 'Hello, world!';<br/>const array = [];<br/>for (let i = 0; i &lt; string.length; i++) {<br/> array.push(string[i]);<br/>}</span></pre><p id="9dfe" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">for循环可用于迭代字符串中的字符，并将它们推入数组。</p><p id="acb4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">好处:</p><ul class=""><li id="4ea8" class="mz na it js b jt ju jx jy kb nb kf nc kj nd kn ne nf ng nh bi translated">for循环是一个简单灵活的解决方案，适用于所有<br/>环境。</li><li id="2e28" class="mz na it js b jt ni jx nj kb nk kf nl kj nm kn ne nf ng nh bi translated">它能正确处理Unicode字符。</li></ul><p id="b8f7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">陷阱:</p><ul class=""><li id="6e32" class="mz na it js b jt ju jx jy kb nb kf nc kj nd kn ne nf ng nh bi translated">for循环很冗长，可能不像其他方法那样容易理解。</li></ul><h2 id="a445" class="lw lx it bd ly lz ma dn mb mc md dp me kb mf mg mh kf mi mj mk kj ml mm mn mo bi translated">拆分方法</h2><pre class="lh li lj lk gt mp mq mr bn ms mt bi"><span id="d41d" class="mu lx it mq b be mv mw l mx my">const string = 'Hello, world!';<br/>const array = string.split('');</span></pre><p id="e2c5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">split方法根据指定的分隔符将字符串拆分为子字符串数组。在上面的示例中，split方法与空分隔符一起使用，因此它将字符串拆分为一个由单个字符组成的数组。</p><p id="f8b3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">好处:</p><ul class=""><li id="661b" class="mz na it js b jt ju jx jy kb nb kf nc kj nd kn ne nf ng nh bi translated">拆分法使用简单，容易理解。</li><li id="ea96" class="mz na it js b jt ni jx nj kb nk kf nl kj nm kn ne nf ng nh bi translated">它允许您指定一个分隔符来分割字符串，这样您就可以控制如何将字符串分割成子字符串。</li></ul><p id="e07d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">陷阱:</p><ul class=""><li id="6259" class="mz na it js b jt ju jx jy kb nb kf nc kj nd kn ne nf ng nh bi translated">split方法不能正确处理Unicode字符。例如，如果字符串包含一个占据两个或更多代码点的Unicode字符，split方法将无法正确拆分它。</li></ul><h2 id="dae9" class="lw lx it bd ly lz ma dn mb mc md dp me kb mf mg mh kf mi mj mk kj ml mm mn mo bi translated">match()方法</h2><pre class="lh li lj lk gt mp mq mr bn ms mt bi"><span id="19df" class="mu lx it mq b be mv mw l mx my">const string = "hello world";<br/>const array = string.match(/\w/g);<br/>// ['h', 'e', 'l', 'l', 'o', 'w', 'o', 'r', 'l', 'd']</span></pre><p id="9c0b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要使用match()方法，可以将一个regex模式作为参数传递，该方法将返回一个包含匹配项的数组。match()方法将返回在字符串中找到的所有匹配项的数组，如果没有找到匹配项，则返回null。</p><p id="3f43" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">好处:</p><ul class=""><li id="e759" class="mz na it js b jt ju jx jy kb nb kf nc kj nd kn ne nf ng nh bi translated">它能正确处理unicode</li><li id="aa2a" class="mz na it js b jt ni jx nj kb nk kf nl kj nm kn ne nf ng nh bi translated">简洁明了</li><li id="e161" class="mz na it js b jt ni jx nj kb nk kf nl kj nm kn ne nf ng nh bi translated">根据数组的大小，正则表达式在较大的数组上可能会更快</li></ul><p id="c8aa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">陷阱:</p><ul class=""><li id="294f" class="mz na it js b jt ju jx jy kb nb kf nc kj nd kn ne nf ng nh bi translated">没有多少人会理解正则表达式</li></ul><h2 id="ff1c" class="lw lx it bd ly lz ma dn mb mc md dp me kb mf mg mh kf mi mj mk kj ml mm mn mo bi translated">正则表达式</h2><pre class="lh li lj lk gt mp mq mr bn ms mt bi"><span id="5696" class="mu lx it mq b be mv mw l mx my">const string = "hello world";<br/>const regex = /\w/g;<br/>const array = [];<br/>let match;<br/>while (match = regex.exec(string)) {<br/> array.push(match[0]);<br/>}<br/>// ['h', 'e', 'l', 'l', 'o', 'w', 'o', 'r', 'l', 'd']</span></pre><p id="f7ad" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">或者，可以使用regex文本创建一个regex对象，并使用exec()方法迭代字符串中的匹配项。此方法允许您迭代字符串中的所有匹配项，并将它们放入一个数组中。这两种方法都使用正则表达式来匹配字符串中的单个字符，并返回包含所有匹配项的数组。所以，好处和缺点本质上与match()方法相同):</p><p id="fa82" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">利益</p><ul class=""><li id="7081" class="mz na it js b jt ju jx jy kb nb kf nc kj nd kn ne nf ng nh bi translated">它能正确处理unicode</li><li id="1d80" class="mz na it js b jt ni jx nj kb nk kf nl kj nm kn ne nf ng nh bi translated">简洁明了</li><li id="af8d" class="mz na it js b jt ni jx nj kb nk kf nl kj nm kn ne nf ng nh bi translated">根据数组的大小，正则表达式在较大的数组上可能会更快</li></ul><p id="843c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">陷阱:</p><ul class=""><li id="c832" class="mz na it js b jt ju jx jy kb nb kf nc kj nd kn ne nf ng nh bi translated">没有多少人会理解正则表达式</li></ul><h2 id="4c50" class="lw lx it bd ly lz ma dn mb mc md dp me kb mf mg mh kf mi mj mk kj ml mm mn mo bi translated">map()方法</h2><pre class="lh li lj lk gt mp mq mr bn ms mt bi"><span id="4a93" class="mu lx it mq b be mv mw l mx my">const string = "word";<br/>const array = Array.prototype.map.call(string, letter =&gt; letter);</span></pre><p id="373b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你没看错。您可能熟悉map()函数。在这个例子中，它以数组的形式遍历字符串，并返回每个字母。</p><p id="de65" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">好处:</p><ul class=""><li id="f1b6" class="mz na it js b jt ju jx jy kb nb kf nc kj nd kn ne nf ng nh bi translated">正确处理unicode</li></ul><p id="0566" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">陷阱:</p><ul class=""><li id="a02b" class="mz na it js b jt ju jx jy kb nb kf nc kj nd kn ne nf ng nh bi translated">不是最习惯的方式</li></ul><h2 id="70e2" class="lw lx it bd ly lz ma dn mb mc md dp me kb mf mg mh kf mi mj mk kj ml mm mn mo bi translated">concat()方法</h2><pre class="lh li lj lk gt mp mq mr bn ms mt bi"><span id="e4fd" class="mu lx it mq b be mv mw l mx my">const string = new String("asdf");<br/>string[Symbol.isConcatSpreadable] = true;<br/>const array = [].concat(string);</span></pre><p id="816e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用ES6，您基本上可以重新定义concat()方法，使其行为类似于spread运算符。</p><p id="a311" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">好处:</p><ul class=""><li id="9385" class="mz na it js b jt ju jx jy kb nb kf nc kj nd kn ne nf ng nh bi translated">它能正确处理unicodes</li></ul><p id="10cd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">陷阱:</p><ul class=""><li id="b7ff" class="mz na it js b jt ju jx jy kb nb kf nc kj nd kn ne nf ng nh bi translated">该字符串必须被定义为一个对象，而不是一个字符串才能工作。此外，定义字符串对象可能会对性能产生负面影响。</li><li id="8793" class="mz na it js b jt ni jx nj kb nk kf nl kj nm kn ne nf ng nh bi translated">它修改String对象的Symbol.isConcatSpreadable属性，如果应用程序中的其他代码依赖于它，这可能会产生意想不到的后果。</li><li id="fb78" class="mz na it js b jt ni jx nj kb nk kf nl kj nm kn ne nf ng nh bi translated">它不是将字符串转换为数组的标准方法，其他开发人员阅读您的代码时可能不会马上理解它。</li><li id="260e" class="mz na it js b jt ni jx nj kb nk kf nl kj nm kn ne nf ng nh bi translated">Symbol.isConcatSpreadable是在ES6中引入的，这意味着该属性只能在较新的浏览器上使用</li></ul><p id="bf8c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">正如你所看到的，有很多方法可以将字符串转换成数组。虽然不是每一个都是地道的。有些不能正确处理unicodes。其他的很难理解。因此，请再次通读一下优缺点列表，以便在尝试将字符串转换为数组时做出明智的决定。根据我们的经验，最好坚持使用spread操作符、Array.from()方法或for循环。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/5c7fdb823e2c7f4190f716ff6bed224c.png" data-original-src="https://miro.medium.com/v2/resize:fit:304/format:webp/1*M96Lw3t2ZV4F3S-tD-N27Q.png"/></div></figure><p id="96e5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你以前试过把一个字符串变成一个数组吗？在什么背景下？或者你有什么问题吗？请在下方留言评论。也别忘了跟着我们。我们每周发表多篇文章。所以，不要错过任何一个。再见</p></div></div>    
</body>
</html>