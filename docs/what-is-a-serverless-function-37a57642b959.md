# 什么是无服务器功能？

> 原文：<https://levelup.gitconnected.com/what-is-a-serverless-function-37a57642b959>

![](img/e5f8aac6f353a0c46888e9164402f907.png)

照片由[安朵斯·科瓦奇](https://unsplash.com/@akovacsa?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)在 [Unsplash](https://unsplash.com/s/photos/server-cloud?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上拍摄

可以是很多不同的东西！但主要是你可以使用云来处理数据的另一种方式。尽管顾名思义，还是有一个服务器。好消息是这不是你的问题！无服务器仅仅意味着你不必成为与服务器本身打交道的人。这非常有益，因为运行、维护和扩展服务器以满足需求是一项繁重的工作！但是这个无服务器功能到底为您做了什么呢？

一般来说，无服务器功能和无服务器架构是一种无状态的**方式来处理后端数据。你可以在无服务器功能上运行许多不同的东西。许多需要计算能力的事情，如数据或文件处理(包括数据流)、机器学习功能，甚至更传统的 web 应用/移动/物联网后端配置，都可以通过无服务器功能来处理或辅助。请记住，这些功能是无状态的，一旦关闭，它们保存的任何信息都将消失。也就是说，它们仍然是处理前端和有状态后端/数据库之间功能的好方法。**

有许多提供商可供选择，提供不同级别的功能和定制。大玩家是 Amazon Lambda、Cloudflare Workers、Google Cloud Functions、IBM Bluemix OpenWhisk、Microsoft Azure Functions 和 Oracle Functions。还有很多其他服务，其中一些只是在上述服务之一上运行定制配置。

那么它是如何工作的呢？您只需在提供商的网站上，用您选择的语言创建您希望无服务器功能处理的功能或代码。大多数常见的编程语言都是可以接受的，你只需要指定正确的运行时。然后使用提供者的规范，创建一个触发器或事件，将您的数据发送到该函数。您可以从您自己的代码库，或者从您可能正在使用的其他无服务器服务中完成这项工作。嘣，你就完成了！处理好了！最棒的是，您不必担心设置和配置服务器、根据不断增长的需求扩展服务器，或者自己维护服务器！这让您有时间专注于正在创建的新功能，而不是不断地监控和更新。

现在你可能会问，“无服务器功能”与其他无服务器架构有何不同？最大的区别在于成本、限制和延迟。运行无服务器功能相对来说比较便宜。这太好了！但是为什么便宜那么多？！这就引出了另外两个不同之处。

延迟是由用于计算能力的服务器造成的。使用无服务器功能，服务器仅在您需要时启动并运行。这意味着与持续运行的专用服务器相比，计算将需要更长的时间。无服务器功能需要几秒钟时间让服务器“加速运转”并变得可用。如果速度是你主要关心的，这可能不适合你。

最后一个区别是无服务器功能的限制。伸缩不会成为问题，因为发送给函数的每个新触发器都会启动一个新的函数实例，(Amazon 确实有一个默认的、但可调整的并发限制，即一个函数的 1000 个运行实例。其他提供商不列出限制)。但是每个单独的实例都有局限性。我们以亚马逊的 Lambda 服务为例。您的内存上限为 3GB(从 128 MB 开始，以 64MB 为增量)，因此任何内存密集型工作都是不可能的。您的有效负载也有 6MB 的限制。这意味着单个事件不能传递超过 6MB 的数据。如果你正在传递大量的数据，你将不得不考虑一个不同的选择。最后，任何功能最多只能持续 15 分钟，一旦达到时间限制，任何仍在进行的计算都会立即停止，并引发超时错误。该服务应仅用于在时间限制内可以轻松完成的功能。对于大多数同步函数来说，这可能不是问题，但是对于任何处理较长等待时间的异步代码，您都需要小心。

另一件要注意的事情是，当使用无服务器功能服务时，你不会是唯一一个使用该服务器的人。您将是唯一可以访问您在服务器上的数据的人，但其他人仍将使用该服务器。这使得服务器容易因流量高峰和低谷而出现性能波动。

如果无服务器功能的限制不妨碍您的特定用例，那么它可以成为您的堆栈中的一个很好的服务。函数处理的代码越多，从更昂贵的专用服务器上分配的资源就越少。

随着无服务器服务越来越普遍，至少对现有的选项有一个基本的了解是很重要的。如果您正在考虑使用这些服务，一定要花些时间比较不同的提供商，因为每个提供商在提供的服务、定价、可用语言、限制等方面都略有不同。你当然可以在以后改变主意，但是你使用特定提供商的服务越多，以后就越难转变。