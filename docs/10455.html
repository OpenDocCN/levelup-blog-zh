<html>
<head>
<title>Quick Start WebRTC with Infobip</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Infobip快速启动WebRTC</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/quick-start-webrtc-with-infobip-35675c8fae38?source=collection_archive---------10-----------------------#2021-12-07">https://levelup.gitconnected.com/quick-start-webrtc-with-infobip-35675c8fae38?source=collection_archive---------10-----------------------#2021-12-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="1280" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Web实时通信(WebRTC)已经迅速成为事实上的框架，用于构建应用程序以促进网络上的音频和视频通信。WebRTC通过浏览器或移动设备将用户联系起来。在本帖中，我们将让您了解为什么WebRTC在当今的开发中被如此广泛地采用。在这个过程中，我们将介绍如何利用Infobip的SDK集来开始使用WebRTC。</p><p id="1986" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们开始更深入地了解WebRTC的细节和历史。</p><h1 id="8c82" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">什么是WebRTC？</h1><p id="a41c" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">在高层次上，WebRTC是一种对等(P2P)数据传输技术。虽然它有多种用途，但它最常用于延迟敏感的应用程序，这使得它非常适合P2P视频和音频流。许多主要的技术公司——包括Zoom、Slack和Discord——在他们的实现中使用WebRTC来为他们的用户提供安全和无缝的流媒体体验。</p><h1 id="46fc" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">WebRTC已经存在多久了？</h1><p id="8830" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">大多数人认为，2013年2月，业界首次看到WebRTC用于跨浏览器视频通话。这意味着WebRTC已经存在将近10年了！对于那些注重文书工作的人来说，WebRTC在2017年获得了W3C的官方“<a class="ae ko" href="https://www.w3.org/TR/2017/CR-webrtc-20171102/" rel="noopener ugc nofollow" target="_blank">候选人推荐</a>”地位，并在2021年1月获得了“<a class="ae ko" href="https://www.w3.org/2021/01/pressrelease-webrtc-rec.html.en" rel="noopener ugc nofollow" target="_blank">推荐</a>地位。从这个角度来看，WebRTC作为官方支持技术的地位是相当新的。然而，在管理技术团体和行业使用的支持下，WebRTC的采用率正在上升。对于寻求构建音频和视频应用的公司来说尤其如此。</p><h1 id="9f49" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">为什么选择WebRTC而不是其他选项？</h1><p id="a8c1" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">为什么一家公司会选择在WebRTC之上构建，而不是像RTMP这样的另一个选择呢？有几个原因，我们将在这里强调最重要的几个:</p><h2 id="25a4" class="ls kq it bd kr lt lu dn kv lv lw dp kz kb lx ly ld kf lz ma lh kj mb mc ll md bi translated">没有中央服务器</h2><p id="8e04" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">因为WebRTC是P2P，所以客户端管理连接。换句话说，在处理媒体和静态资产时，不存在具有代理连接的中央基础设施的客户端-服务器架构。最终用户设备完成所有的连接管理。虽然这给客户端带来了更多的资源负载，但是P2P方法更加安全和有弹性。</p><p id="d583" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">值得一提的一个细微差别是，WebRTC需要一种将客户机彼此连接起来的方法；这个过程被称为“信号传递”因此，虽然没有连接管理意义上的中央服务器，但您确实需要一个信令服务器来帮助客户端知道彼此的存在并协商它们的连接。尽管如此，这个信令服务器所需的资源远远少于维护整个客户机-服务器体系结构所需的资源。</p><h2 id="6aff" class="ls kq it bd kr lt lu dn kv lv lw dp kz kb lx ly ld kf lz ma lh kj mb mc ll md bi translated">W3C/IETF标准</h2><p id="ad2f" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">从历史上看，开发人员可能并不太相信W3C或IETF对某项技术的认可。尽管如此，WebRTC得到这些机构的支持意味着大量的思想、设计和讨论进入了这项技术。WebRTC已经发展了十多年，它的官方推荐得到了一些积极使用它的大型科技公司的支持。你和WebRTC是好伙伴。</p><h2 id="43ec" class="ls kq it bd kr lt lu dn kv lv lw dp kz kb lx ly ld kf lz ma lh kj mb mc ll md bi translated">高质量和高速度</h2><p id="b108" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">与基于TCP的流替代方案(例如，MPEG-DASH或RTMP)不同，WebRTC使用UDP包广播。使用UDP减少了数据包级重新加密和重新传输的需要。对于视频和音频流应用程序，UDP带来的轻微数据包丢失对最终用户体验的负面影响可以忽略不计。然而，最终的结果是，WebRTC <em class="me">变得更快</em>。这是仅有的能够持续实现亚秒级延迟的协议之一，它开箱即用！</p><h2 id="844c" class="ls kq it bd kr lt lu dn kv lv lw dp kz kb lx ly ld kf lz ma lh kj mb mc ll md bi translated">本机功能</h2><p id="1a10" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">作为HTML5支持的官方认可的技术，WebRTC非常容易上手。你不需要插件。您只需要一个兼容WebRTC的浏览器，就可以立即访问设备检测、媒体捕获、数据传输等等。当您在WebRTC上构建时，应用程序中的一切都是本机的；您的用户不需要下载或安装任何其他东西。</p><h1 id="dd06" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">Infobip能有什么帮助？</h1><p id="9d90" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">为了与WebRTC合作，Infobip提供了针对<a class="ae ko" href="https://github.com/infobip/infobip-rtc-android" rel="noopener ugc nofollow" target="_blank"> Android </a>、<a class="ae ko" href="https://github.com/infobip/infobip-rtc-ios" rel="noopener ugc nofollow" target="_blank"> iOS </a>、<a class="ae ko" href="https://github.com/infobip/infobip-rtc-react-native" rel="noopener ugc nofollow" target="_blank"> React Native </a>和<a class="ae ko" href="https://github.com/infobip/infobip-rtc-js" rel="noopener ugc nofollow" target="_blank"> JavaScript </a>的SDK。这几乎涵盖了WebRTC的所有应用程序。Infobip让入门变得非常容易。</p><h1 id="e640" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">正在设置</h1><p id="00e9" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">假设您正在开始一个新的基于JavaScript的项目。入门非常简单，只需安装带有npm的Infobip JavaScript SDK，或者在项目中包含发行版文件:</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="92e7" class="ls kq it mk b gy mo mp l mq mr">$ npm install infobip-rtc --save</span><span id="9a94" class="ls kq it mk b gy ms mp l mq mr"># main.js <br/>let InfobipRTC = require('infobip-rtc');</span><span id="4564" class="ls kq it mk b gy ms mp l mq mr"># or as an ES6 Import<br/>import {InfobipRTC} from "infobip-rtc";</span></pre><p id="ecea" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Infobip还提供了一个分发文件，您可以包含:</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="7349" class="ls kq it mk b gy mo mp l mq mr">&lt;script src="//rtc.cdn.infobip.com/latest/infobip.rtc.js"&gt;&lt;/script&gt;</span></pre><h1 id="24c3" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">将它投入使用</h1><p id="4b91" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">Infobip采取了一种不干涉用户管理的方法。你的用户是你的用户。要为您的用户启用Infobip的服务，您只需要为他们创建一个令牌。下面是令牌请求的一个示例，以及一个响应:</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="b93c" class="ls kq it mk b gy mo mp l mq mr"># main.js<br/>var settings = {<br/>    "url": "https://{baseUrl}/webrtc/1/token",<br/>    "method": "POST",<br/>    "timeout": 0,<br/>    "headers": {<br/>        "Authorization": "{authorization}",<br/>        "Content-Type": "application/json",<br/>        "Accept": "application/json"<br/>    },<br/>    "data": JSON.stringify({"identity":"Alice","applicationId":"2277594c-76ea-4b8e-a299-e2b6db41b9dc","displayName":"Alice in Wonderland","capabilities":{"recording":"ALWAYS"},"timeToLive":43200}),<br/>};</span><span id="cf3d" class="ls kq it mk b gy ms mp l mq mr">$.ajax(settings).done(function (response) {<br/>    console.log(response);<br/>});</span><span id="32ec" class="ls kq it mk b gy ms mp l mq mr"># Response<br/>{<br/>  "token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZGVudGl0eSI6IkFsaWNlIiwibmFtZSI6IkFsaWNlIGluIFdvbmRlcmxhbmQiLCJleHAiOjE1NzkyOTA2MzgsImNhcHMiOlsyXX0.QyCMqjH8DsftChibW2Rw4EByH-eEviUp3-kHVKuJpKg",<br/>  "expirationTime": "2020-01-17T19:50:38.488589Z"<br/>}</span></pre><p id="ab46" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一旦创建并存储了令牌，就可以开始了。</p><p id="2b6f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">虽然应用程序的用例会有很大的不同，但是每个SDK的Github库都有很棒的入门资源。Infobip提供的WebRTC的官方文档可以在这里找到。</p><h1 id="1c6c" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">包装WebRTC</h1><p id="3a46" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">我们已经讨论了很多关于WebRTC的内容，所以让我们花点时间来回顾一下。WebRTC是:</p><ul class=""><li id="1e83" class="mt mu it js b jt ju jx jy kb mv kf mw kj mx kn my mz na nb bi translated">一个稳定的、受行业支持的框架，主要用于浏览器和移动设备之间的P2P音频和视频通信。</li><li id="4cac" class="mt mu it js b jt nc jx nd kb ne kf nf kj ng kn my mz na nb bi translated">被许多科技公司广泛采用，用于各种不同的使用案例。</li><li id="3ef2" class="mt mu it js b jt nc jx nd kb ne kf nf kj ng kn my mz na nb bi translated">优于基于TCP的替代方案，因为其基于UDP的方法在保持质量的同时提供了令人难以置信的速度。</li></ul><p id="281b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">并查看<a class="ae ko" href="https://www.infobip.com/signup" rel="noopener ugc nofollow" target="_blank"> Infobip的平台</a>——一个免费且快速的WebRTC入门方式。</p></div></div>    
</body>
</html>