<html>
<head>
<title>Useful tricks about git fetch and git pull</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于git fetch和git pull的有用技巧</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-use-git-fetch-and-git-pull-effectively-c6a4becfbc16?source=collection_archive---------3-----------------------#2020-05-09">https://levelup.gitconnected.com/how-to-use-git-fetch-and-git-pull-effectively-c6a4becfbc16?source=collection_archive---------3-----------------------#2020-05-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="a163" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果您已经使用Git有一段时间了，那么您可能会使用<code class="fe ko kp kq kr b">git fetch</code>和<code class="fe ko kp kq kr b">git pull</code>。在本帖中，我们将介绍<code class="fe ko kp kq kr b">git fetch</code>和<code class="fe ko kp kq kr b">git pull</code>是如何工作的，并且我将分享一些你可以马上开始使用的技巧。</p><h1 id="a23c" class="ks kt it bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">git获取如何工作</h1><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi lq"><img src="../Images/af7f04a6fe7794831fba991e47c6092a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Pi22Z-i2XO90pq2t.gif"/></div></figure><p id="6405" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe ko kp kq kr b">git fetch</code>从所有分支下载所有最新提交，也从远程下载所有新分支，并将其保存在本地repo <strong class="js iu">中，但不会将其合并到您正在处理的本地分支</strong>。意味着<code class="fe ko kp kq kr b">git fetch</code>永远不会改变你的工作状态。它是无害的。您可以多次提取，它不会改变或更新您的工作分支中的任何内容。</p><p id="1a30" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">那么，为什么有用呢？<code class="fe ko kp kq kr b">git fetch</code>帮助您查看遥控器中的更新内容。假设您正在本地回购中工作。与此同时，远程回购也发生了变化。如果您需要远程repo中的更改不受影响，这就是git fetch的用武之地。</p><p id="e7dc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">它从遥控器获取所有更改并将其存储在本地，但不会在本地合并这些更改</strong>。简单。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi ly"><img src="../Images/4d0ee494ac582859644de474d1b49fb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*11Thj4ZWPWWSOypc.png"/></div></div></figure><p id="2dff" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在上图中，您可以看到创建了两个新分支<code class="fe ko kp kq kr b">origin/develop</code>和<code class="fe ko kp kq kr b">origin/master.</code>，这些分支将具有来自远程的更新的更改。但是这些变化不会影响到<code class="fe ko kp kq kr b">master</code>和<code class="fe ko kp kq kr b">develop</code>分支。</p><p id="316c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">获取后，您可以查看遥控器中所做的更改。例如，查看<code class="fe ko kp kq kr b">master</code>中所做的最新更改。</p><pre class="lr ls lt lu gt md kr me mf aw mg bi"><span id="f197" class="mh kt it kr b gy mi mj l mk ml">git checkout origin/master</span></pre><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi mm"><img src="../Images/6e04dcf7d2f2956e6fc5e7c8729d1e6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*FCH_irokS7C4sMVR.png"/></div></div></figure><p id="3e41" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用上面的命令，您基本上是在检查git创建的用于存储来自远程的所有最新变更的<strong class="js iu">本地分支。</strong></p><p id="2880" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要结帐到其他分支机构，您可以用您的分支机构名称替换<code class="fe ko kp kq kr b">master</code>。</p><p id="98c3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您可以使用命令<code class="fe ko kp kq kr b">git log</code>从远程查看更新的提交。</p><p id="c165" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe ko kp kq kr b">git fetch</code>的主要用例之一是在合并当前分支之前查看变更。你总是能够理解变化，事先解决冲突会很容易。</p><pre class="lr ls lt lu gt md kr me mf aw mg bi"><span id="fca2" class="mh kt it kr b gy mi mj l mk ml">git diff develop origin/develop</span></pre><p id="2049" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">上面的命令将向您展示branch master的本地更改和远程更改之间的差异。</p><p id="febc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">换句话说，这将显示这两个分支之间的差异，从而显示来自<code class="fe ko kp kq kr b">origin/develop</code>的所有更改，但不显示来自<code class="fe ko kp kq kr b">develop</code>的更改。以便您可以了解新的更新。</p><p id="5e39" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你在哪个分行打电话并不重要。你可以在任何你喜欢的分支中调用这个命令。但是记得要事先<code class="fe ko kp kq kr b">git fetch</code>。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi mn"><img src="../Images/34ca5fccdf1c57e2a055707e968d34e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SFGr5Btlj0DvKOWs.png"/></div></div></figure><pre class="lr ls lt lu gt md kr me mf aw mg bi"><span id="7278" class="mh kt it kr b gy mi mj l mk ml">git diff develop origin/develop -stat</span></pre><p id="e348" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">该命令将只显示已更改的文件。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi mo"><img src="../Images/01eae28f4fac6b4b6cdf7a380214def8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*FFMGShw0_tmjBcgn.png"/></div></div></figure><p id="91c2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你可以使用另一个有用的技巧。</p><pre class="lr ls lt lu gt md kr me mf aw mg bi"><span id="4edb" class="mh kt it kr b gy mi mj l mk ml">git log develop..origin/develop</span></pre><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi mn"><img src="../Images/2dbabf7b76cf3e07975353aa6a643c83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IPlR5iaWDxVoYzjw.png"/></div></div></figure><p id="9a64" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个命令将帮助您显示来自<code class="fe ko kp kq kr b">origin/develop</code>的所有提交，但是不在<code class="fe ko kp kq kr b">develop</code>分支中。通过这种方式，您可以知道有多少新的提交被添加到了远程<code class="fe ko kp kq kr b">develop</code>分支，而这些提交在本地分支中并不存在。</p><p id="57be" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">试着跑</p><pre class="lr ls lt lu gt md kr me mf aw mg bi"><span id="8b7e" class="mh kt it kr b gy mi mj l mk ml">git log origin/develop..develop</span></pre><p id="c8f5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在您正在尝试查看来自<code class="fe ko kp kq kr b">develop</code>(本地)的所有提交，但不在<code class="fe ko kp kq kr b">origin/develop</code>(远程)中的提交。</p><p id="c6fc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">记住所有这些事情，不要忘记<code class="fe ko kp kq kr b">git fetch</code>之前。</p><h1 id="024f" class="ks kt it bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">git pull如何工作</h1><p id="9a9f" class="pw-post-body-paragraph jq jr it js b jt mp jv jw jx mq jz ka kb mr kd ke kf ms kh ki kj mt kl km kn im bi translated">我想我们大多数人都知道git pull是如何工作的。但是我会试着给它添加一些单词。</p><p id="2962" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">上面的命令会先先执行<code class="fe ko kp kq kr b">git fetch</code>。然后它会执行工作目录中的<code class="fe ko kp kq kr b">git merge</code>命令。这意味着如果您在主分支中，那么主分支中的远程更改将被合并到本地主分支中。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi mn"><img src="../Images/96f7085fda00b236b85493691f9712e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*szJipIlUkM-p3puw.png"/></div></div></figure><p id="54fb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在上图中，您可以看到新的源分支被创建，然后来自远程的新更改被合并到分支<code class="fe ko kp kq kr b">develop</code>。</p><pre class="lr ls lt lu gt md kr me mf aw mg bi"><span id="a778" class="mh kt it kr b gy mi mj l mk ml">git pull origin develop</span></pre><p id="4805" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">此命令将只获取开发分支的远程更改，而不获取其他分支的远程更改。它还将远程更改合并到分支中。</p><p id="bef5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">默认情况下，git pull将执行<code class="fe ko kp kq kr b">git merge</code>。如果你想换基，可以试试。</p><pre class="lr ls lt lu gt md kr me mf aw mg bi"><span id="d68d" class="mh kt it kr b gy mi mj l mk ml">git pull -rebase</span></pre><p id="6902" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你对rebase不够自信，不要担心，我会在另一篇文章中解释rebase的概念。</p><h2 id="159c" class="mh kt it bd ku mu mv dn ky mw mx dp lc kb my mz lg kf na nb lk kj nc nd lo ne bi translated">外卖的要点</h2><ol class=""><li id="7921" class="nf ng it js b jt mp jx mq kb nh kf ni kj nj kn nk nl nm nn bi translated">使用<code class="fe ko kp kq kr b">git fetch</code>将所有远程更改下载到本地，而不影响您的流程。并且在合并或重设基础之前将远程改变与本地改变进行比较。这样会有很大帮助。</li><li id="f61a" class="nf ng it js b jt no jx np kb nq kf nr kj ns kn nk nl nm nn bi translated"><code class="fe ko kp kq kr b">git diff &lt;branch_name&gt; origin/&lt;branch_name&gt; </code> —了解远程变化。请记住，第二个分支的所有变更都会显示出来，而第一个分支的变更会被忽略。这样你就能看出这两个分支的区别。</li><li id="6926" class="nf ng it js b jt no jx np kb nq kf nr kj ns kn nk nl nm nn bi translated"><code class="fe ko kp kq kr b">git log develop..origin/develop </code> —了解提交日志。如前所述，显示了两个分支之间的差异。</li><li id="6d48" class="nf ng it js b jt no jx np kb nq kf nr kj ns kn nk nl nm nn bi translated"><code class="fe ko kp kq kr b">git pull </code> —记住它会先执行<code class="fe ko kp kq kr b">git fetch</code>，然后调用<code class="fe ko kp kq kr b">merge</code>命令。所以尽量经常用。</li></ol><p id="4c58" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">希望你从这篇文章中学到了一些东西:)</p><p id="e5e1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果您有任何疑问，可以留下评论。</p><p id="0590" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">你可以在这里找到我的其他git相关文章</strong></p><pre class="lr ls lt lu gt md kr me mf aw mg bi"><span id="afc0" class="mh kt it kr b gy mi mj l mk ml">1. <a class="ae nt" rel="noopener ugc nofollow" target="_blank" href="/what-is-git-cherry-pick-and-how-to-use-it-effectively-665247192442">What is git cherry-pick and how to use it effectively</a></span><span id="628b" class="mh kt it kr b gy nu mj l mk ml">2. <a class="ae nt" rel="noopener ugc nofollow" target="_blank" href="/automate-repetitive-tasks-with-custom-git-commands-76a4b71d262f">Automate repetitive tasks in Git</a></span><span id="907e" class="mh kt it kr b gy nu mj l mk ml">3. <a class="ae nt" href="https://medium.com/@srebalaji/a-very-basic-intro-of-git-b9cab0e64153" rel="noopener">A very basic intro of Git</a></span></pre><h2 id="2085" class="mh kt it bd ku mu mv dn ky mw mx dp lc kb my mz lg kf na nb lk kj nc nd lo ne bi translated">如果你已经来了这么久，那么我想你会对Git非常感兴趣。你可以订阅我的时事通讯<a class="ae nt" href="https://gitbetter.substack.com/" rel="noopener ugc nofollow" target="_blank"> GitBetter </a>来获得Git的技巧、提示和高级主题。</h2></div></div>    
</body>
</html>