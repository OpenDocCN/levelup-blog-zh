<html>
<head>
<title>Bluephrase Templating</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">蓝色短语模板</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/2020-031-bluephrase-templating-13f65c561edb?source=collection_archive---------6-----------------------#2020-11-04">https://levelup.gitconnected.com/2020-031-bluephrase-templating-13f65c561edb?source=collection_archive---------6-----------------------#2020-11-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="31d0" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用附件创建网页模板</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6bd86f99b191a3df1b770d78861d8cf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Av5PW_oUrcexP3OH_oWJ3Q.png"/></div></div></figure><p id="20a8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">使用模板创建web文档是一种久经考验的策略。模板为作者提供了将一组文档整合成一个有凝聚力的网站所需的一致性和可变性。<a class="ae lq" href="https://bluephrase.com/index.blue?utm_term=BluephraseTemplating" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu">蓝色</strong>短语</a>语言具有非常适合这项工作的声明性模板特性。</p><p id="1d15" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们认为<strong class="kw iu">蓝色的</strong>短语是<em class="lr">声明性的</em>，因为它没有函数或过程语法。但是这种语言不是静态的:它有变量，可以用来将通用模板转换成特定的文档。</p><p id="3337" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们研究三种语言语句，它们允许我们将文本内容转换成服务器就绪的HTML。</p><ul class=""><li id="fbfc" class="ls lt it kw b kx ky la lb ld lu lh lv ll lw lp lx ly lz ma bi translated"><code class="fe mb mc md me b">!include</code>pragma——用于将二级文件的内容注入到正在编译的文档中。</li><li id="2be1" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp lx ly lz ma bi translated"><code class="fe mb mc md me b">!enclosure</code>pragma——用模板文件的外部内容包装已编译文档的内容。</li><li id="7421" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp lx ly lz ma bi translated"><code class="fe mb mc md me b">!use</code>pragma——它解析外部文件的内容，但不是注入其内容，而是将所有声明的变量保存在内存中供编译后的文档使用。</li></ul><p id="28ca" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这三个编译指令的源文件和二级文件遵循<strong class="kw iu">蓝色</strong>短语语法规则。编译后，结果是一个准备好通过HTTP提供的HTML文件。这种语言编译有时被称为<em class="lr">服务器端渲染</em>。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h2 id="1c4b" class="mr ms it bd mt mu mv dn mw mx my dp mz ld na nb nc lh nd ne nf ll ng nh ni nj bi translated">一个经典的网页支付</h2><p id="1ede" class="pw-post-body-paragraph ku kv it kw b kx nk ju kz la nl jx lc ld nm lf lg lh nn lj lk ll no ln lo lp im bi translated">任何熟悉WordPress及其山寨版的人都会认出熟悉的<code class="fe mb mc md me b">include</code>机制。它获取被引用文件的内部文本，并在此时将其插入到调用文档中。</p><p id="ec03" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">考虑一个经典的夫妻店网站，只有几个静态页面。它的标准页面布局可能由报头、菜单和页脚组成。这些将包含在页面的主要内容中，形成完整的文档主体。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/ebd6c2a4514cb71f1de46d0ce98653bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AU7QYr7sAKy0HMOoruIm1w.png"/></div></div></figure><p id="c613" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了简单起见，我们可以让我们想象这三个包含的文件的内部文本可能是什么。重要的一课是<code class="fe mb mc md me b">include</code>语法看起来像什么，以及如何在文档体中使用它。</p><p id="d418" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们来看一下<code class="fe mb mc md me b">content.blue</code>文件，它包含作者的故事，用刊头、菜单和页脚包装。它可以用蓝色短语符号写成，如下所示:</p><pre class="kj kk kl km gt nq me nr ns aw nt bi"><span id="09e5" class="mr ms it me b gy nu nv l nw nx">body {<br/>    div {<br/>        <strong class="me iu">!include</strong> `masthead.blue`<br/>    }<br/>    menu {<br/>        <strong class="me iu">!include</strong> `menu.blue`<br/>    }<br/>    div #story {<br/>        h1 Our Story<br/>        p Tangled Web Services is a professional design firm for ...<br/>    }<br/>    footer {<br/>        <strong class="me iu">!include</strong> `footer.blue`<br/>    }<br/>}</span></pre></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h2 id="fb57" class="mr ms it bd mt mu mv dn mw mx my dp mz ld na nb nc lh nd ne nf ll ng nh ni nj bi translated">一个完整的网页</h2><p id="f797" class="pw-post-body-paragraph ku kv it kw b kx nk ju kz la nl jx lc ld nm lf lg lh nn lj lk ll no ln lo lp im bi translated">现在，我们的夫妻店页面的编译输出还不能通过HTTP发送到浏览器。它缺少了所有重要的文档标签<code class="fe mb mc md me b">&lt;title&gt;, &lt;meta&gt;</code>和<code class="fe mb mc md me b">&lt;link&gt;</code>的规范<code class="fe mb mc md me b">&lt;head&gt;</code>。</p><p id="99a1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">此外，许多开发人员会选择将任何需要执行的动态脚本放在文档的底部。因此，在第一个示例的基础上，一个更完整的web页面将遵循以下示意图:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/83c920f5fdd3dfbd85141594cb037659.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RNCeqkSY0OA7ObiC5Tc8iA.png"/></div></div></figure><p id="68f3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">通过在文档的<code class="fe mb mc md me b">&lt;body&gt;</code>上方和下方添加这些内容，页面就可以供浏览器使用了。为了便于说明，<code class="fe mb mc md me b">std-head.blue</code>文件的基本示例可能如下所示:</p><pre class="kj kk kl km gt nq me nr ns aw nt bi"><span id="c729" class="mr ms it me b gy nu nv l nw nx">head {<br/>    title $TITLE<br/>    meta *charset=UTF-8<br/>    meta *name=description         *content='$DESCRIPTION'<br/>    meta *name=keywords            *content='$KEYWORDS'<br/>    script `/js/our-story.js`      *type=text/javascript<br/>    link   `/css/our-story.css`    *type=text/css *rel=stylesheet <br/>    link   `/fonts/our-sans.woff2` *as=font *crossorigin<br/>}</span></pre></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h2 id="b3e4" class="mr ms it bd mt mu mv dn mw mx my dp mz ld na nb nc lh nd ne nf ll ng nh ni nj bi translated">圈地方法</h2><p id="fe81" class="pw-post-body-paragraph ku kv it kw b kx nk ju kz la nl jx lc ld nm lf lg lh nn lj lk ll no ln lo lp im bi translated">对于初学者来说，使用<code class="fe mb mc md me b">include</code> pragmas是解决问题的简单方法。但是对于不只有几个页面的网站来说，这种方法很快就变得站不住脚了，因为每个页面都需要复制相同的结构模式。除了重复之外，它还阻止了开发人员使用不同的标题、菜单和页脚安排来寻求未来的结构化解决方案。</p><p id="62b8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这就是外壳的用武之地。想法是将<code class="fe mb mc md me b">include</code>机械装置翻转过来。实际上，作者的内容是由模板文档的<em class="lr">括起来的</em>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/f0dbcfeb58440299290c4a9f6efb4c78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n4GC__OlK9E4ZejLhpd_Qg.png"/></div></div></figure><p id="2060" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">语义上，我们认为外壳是<em class="lr">触发的</em>而不是包含的。规则很简单:</p><ol class=""><li id="4a00" class="ls lt it kw b kx ky la lb ld lu lh lv ll lw lp ny ly lz ma bi translated">模板文件包含自由格式文本，使用<strong class="kw iu">蓝色</strong>短语符号。</li><li id="8a3f" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp ny ly lz ma bi translated">在模板文件中的某个地方，它的创建者为被封装的文档指定插入点。这是通过在所需点放置一个<code class="fe mb mc md me b">!target-matter</code>杂注来完成的。</li><li id="5902" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp ny ly lz ma bi translated">包含作者故事的文档使用<code class="fe mb mc md me b">!enclosure</code> pragma指定模板的文件名。</li><li id="be86" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp ny ly lz ma bi translated">作者选择一个选择器作为触发机制。选择器可以是元素id、CSS类名或HTML元素标记名。</li></ol><p id="b731" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">从概念上讲，上面的示意图看起来类似于我们的工作示例，但是在代码方面，差别是显著的。这份文件简化为:</p><pre class="kj kk kl km gt nq me nr ns aw nt bi"><span id="8ed6" class="mr ms it me b gy nu nv l nw nx"><strong class="me iu">!enclosure</strong> #story `std-page.blue`</span><span id="a943" class="mr ms it me b gy nz nv l nw nx">div #story {<br/>    h1 Our Story<br/>    p Tangled Web Services is a professional design firm for ...<br/>}</span></pre><p id="7e4f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">其他所有内容都被转移到<code class="fe mb mc md me b">std-page.blue</code>文件中，该文件成为所有网站文档的模板。对布局的未来更改现已集中。</p><pre class="kj kk kl km gt nq me nr ns aw nt bi"><span id="9dd9" class="mr ms it me b gy nu nv l nw nx">html {    <br/>    !include `std-head.blue`<br/>    body {<br/>        !include `masthead.blue`<br/>        !include `menu.blue`</span><span id="0eb3" class="mr ms it me b gy nz nv l nw nx">        <strong class="me iu">!target-matter</strong><br/>        <br/>        !include `footer.blue`<br/>        !include `std-script.blue`<br/>    }<br/>}</span></pre></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h2 id="5382" class="mr ms it bd mt mu mv dn mw mx my dp mz ld na nb nc lh nd ne nf ll ng nh ni nj bi translated">使用变量</h2><p id="201a" class="pw-post-body-paragraph ku kv it kw b kx nk ju kz la nl jx lc ld nm lf lg lh nn lj lk ll no ln lo lp im bi translated">细心的读者会注意到,<code class="fe mb mc md me b">std-page.blue</code>文件有三个变量:标题、描述和关键字。这些是模板创建者任意选择的名称。这样做的目的是，作者将为他们创建的每个页面声明值，以便编译器在模板被触发时可以使用它们。</p><p id="2070" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于工作示例，我们将这些声明放在靠近<code class="fe mb mc md me b">content.blue</code>文件的开头:</p><pre class="kj kk kl km gt nq me nr ns aw nt bi"><span id="9f7d" class="mr ms it me b gy nu nv l nw nx">$TITLE="Our Story"    <br/>$DESCRIPTION="Tangled Web Services, a professional design firm ..."    <br/>$KEYWORDS="web services, professional design"</span></pre><p id="2309" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">以这种方式在文档中声明变量，对于许多类型的网站来说是可以接受的。另一种方法是为每个文档创建一个单独的仅包含变量的文件。这种方法在构建目录、标签列表或逐月博客文章等页面时非常有用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/b236b81ca9340e058ff350350eb37546.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9qz_GRNiLdPLWf0Yi1BAgg.png"/></div></div></figure><p id="517b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当一个文件只包含变量声明时，可以调用<code class="fe mb mc md me b">use</code>杂注而不是<code class="fe mb mc md me b">include</code>杂注。这将指示编译器不要将任何文本注入到文档中，而是将遇到的任何变量声明保留在内存中，供文档随后使用。<code class="fe mb mc md me b">content.blue</code>的作者会将此语句添加到文档中:</p><pre class="kj kk kl km gt nq me nr ns aw nt bi"><span id="4a7f" class="mr ms it me b gy nu nv l nw nx"><strong class="me iu">!use</strong> `vars.blue`</span></pre></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h2 id="0cef" class="mr ms it bd mt mu mv dn mw mx my dp mz ld na nb nc lh nd ne nf ll ng nh ni nj bi translated">回顾</h2><ul class=""><li id="4085" class="ls lt it kw b kx nk la nl ld oa lh ob ll oc lp lx ly lz ma bi translated">蓝色的短语语言非常适合使用模板和变量创建网页。</li><li id="cc9d" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp lx ly lz ma bi translated">三个pragmas为模板提供了基础:<code class="fe mb mc md me b">include, enclosure</code>和<code class="fe mb mc md me b">use</code>。</li><li id="0237" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp lx ly lz ma bi translated">变量提供了将任何<strong class="kw iu">蓝色</strong>短语文件转换成模板的方法。</li></ul></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><p id="9a79" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我已经把这些和其他的模板例子放在了蓝色的网站上，你可以在网上的沙盒中进行实验。</p></div></div>    
</body>
</html>