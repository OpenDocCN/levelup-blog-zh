<html>
<head>
<title>A Guide to Programming with Racket (DrRacket)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">球拍编程指南(DrRacket)</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/a-guide-to-programming-with-drracket-bcac4153710e?source=collection_archive---------2-----------------------#2020-08-16">https://levelup.gitconnected.com/a-guide-to-programming-with-drracket-bcac4153710e?source=collection_archive---------2-----------------------#2020-08-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="e747" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">用DrRacket学习编码？这里有一个非官方的入门指南，介绍初级学生语言(BSL)、中级学生语言(ISL)、带Lambdas的ISL(ISL+)和球拍。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/f67194788aab7111a74c2d0445afbc91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0cRCHOXdZtwCCKty"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae le" href="https://unsplash.com/@wgzhai?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">温刚斋</a>的照片</figcaption></figure><h1 id="abb1" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">没有对球拍的热爱</h1><p id="d647" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">也就是说，没有人喜欢编程和教学语言——至少，这是我从最近的Medium.com搜索中得到的感觉。例如,<em class="mi">球拍</em>的头条新闻大多是关于腐败计划或勒索。然而，在<em class="mi">球拍</em>的前五个搜索结果中，应该有一些关于程序设计或函数式编程的基础知识。</p><p id="1184" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我的朋友们，是时候用更多关于BSL、ISL、ISL+和Racket的内容将DrRacket从编程博客的地下室中提升出来了。</p><h1 id="ef3c" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">在这个故事中</h1><p id="0337" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">一个入门指南，通过初级学生语言(“BSL”)、中级学生语言(“ISL”)、带Lambdas的ISL(“ISL+”)和Racket来导航DrRacket，以帮助学生花更多的时间学习，而不是花更少的时间与其他东西搏斗。中的工作代码示例。</p><ol class=""><li id="902b" class="mj mk it js b jt ju jx jy kb ml kf mm kj mn kn mo mp mq mr bi translated">DrRacket入门</li><li id="0a3f" class="mj mk it js b jt ms jx mt kb mu kf mv kj mw kn mo mp mq mr bi translated">BSL、ISL、ISL+和Racket概述</li><li id="209e" class="mj mk it js b jt ms jx mt kb mu kf mv kj mw kn mo mp mq mr bi translated">BSL入门</li><li id="0ba9" class="mj mk it js b jt ms jx mt kb mu kf mv kj mw kn mo mp mq mr bi translated">ISL入门</li><li id="3176" class="mj mk it js b jt ms jx mt kb mu kf mv kj mw kn mo mp mq mr bi translated">Lambdas ISL入门(ISL+)</li><li id="e281" class="mj mk it js b jt ms jx mt kb mu kf mv kj mw kn mo mp mq mr bi translated">球拍入门</li></ol></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ne"><img src="../Images/ab829e729bebcef9f3cff02fb1a1f26d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6z1gB-Q6q1pGaeV5"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated"><a class="ae le" href="https://unsplash.com/@nci?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">国立癌症研究所</a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><div class="nf ng gp gr nh ni"><a href="https://docs.racket-lang.org/getting-started/index.html" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd iu gy z fp nn fr fs no fu fw is bi translated">入门指南</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">要开始使用球拍，从网页下载并安装它。如果你是初学者或想使用…</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">docs.racket-lang.org</p></div></div></div></a></div><h1 id="18d4" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">1.DrRacket入门</h1><p id="e187" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">DrRacket是一个集成开发环境(“IDE”)。就像任何其他IDE一样，我们可以在电脑上下载并启动DrRacket作为应用程序，并用它支持的任何语言编写代码。举个例子，对于Python IDE，你用Python编码；但是，使用DrRacket，您可以获得包括BSL和ISL在内的各种选项。</p><p id="7a3d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">实际开始之前，<a class="ae le" href="https://docs.racket-lang.org/getting-started/index.html" rel="noopener ugc nofollow" target="_blank">查看文档并从源代码下载IDE</a>。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nr"><img src="../Images/7ccbccd59c1e03c27777786d010f5361.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M36AjUQToyox0m7SfN7DOQ.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">从drragide中选择教学语言。来自作者的桌面。</figcaption></figure><h2 id="15bd" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated">为什么要费心解释drragide呢？</h2><p id="a79e" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">在报名参加用drrack教授函数式编程的课程之前，我对DrRacket IDE及其教学语言没有任何概念。我不知道从哪里开始。而且我没听说过球拍，网上也找不到太多。结果，我很沮丧，为什么我们要花这么多时间在不受欢迎的球拍小子身上，而不是在受欢迎的人群中学习Python和Java。</p><div class="nf ng gp gr nh ni"><a href="http://htdp.org/" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd iu gy z fp nn fr fs no fu fw is bi translated">如何设计程序</h2><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">htdp.org</p></div></div><div class="oe l"><div class="of l og oh oi oe oj ky ni"/></div></div></a></div><h2 id="4ebe" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated">用DrRacket学习是怎么工作的？</h2><p id="0c66" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">DrRacket IDE与一本名为<a class="ae le" href="http://htdp.org/" rel="noopener ugc nofollow" target="_blank"> How to Design Programs </a>或简称“HTDP”的数字教材配套使用。就我而言，我所在的班级学习了HTDP的部分内容。教材中有解释程序设计概念的章节，并向学生展示了用DrRacket解决的编码难题。在早期和高级概念阶段，学生通过用BSL编写代码来巩固他们的学习，并随着概念变得更加复杂而进展到ISL。</p><p id="f7f4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在BSL和ISL之后，我们开始用ISL+和Python编码来练习和强化学习。回想起来，同时用两种语言编码有利于保留、转移和建立技能。</p><h2 id="55f7" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated">为什么要关心DrRacket？</h2><p id="d536" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">关注DrRacket的两个原因:</p><ul class=""><li id="087d" class="mj mk it js b jt ju jx jy kb ml kf mm kj mn kn ok mp mq mr bi translated">首先，如果你是一名学生，你很可能别无选择，只能为学校解决这个问题。因此，关心的第一个原因是你没有选择。</li><li id="d8fe" class="mj mk it js b jt ms jx mt kb mu kf mv kj mw kn ok mp mq mr bi translated">第二，用DrRacket学习编码管用！如果你投入时间，你可以将这些技能转移到几乎任何其他语言上。因此，关心的第二个原因是，你通常可以提高你的软件技能，并有所表现。</li></ul><div class="nf ng gp gr nh ni"><a href="https://medium.com/@jhc154/learning-to-code-learn-program-design-too-a97cc1c95459" rel="noopener follow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd iu gy z fp nn fr fs no fu fw is bi translated">学习编码？也学程序设计。</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">许多人直接进入流行语言，如Java或Python。尽管如此，用球拍的程序设计经常被忽视…</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">medium.com</p></div></div><div class="oe l"><div class="ol l og oh oi oe oj ky ni"/></div></div></a></div></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="9b87" class="lf lg it bd lh li om lk ll lm on lo lp lq oo ls lt lu op lw lx ly oq ma mb mc bi translated">2.概述:BSL、ISL、ISL+和Racket</h1><p id="d69b" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">有了DrRacket，我们可以通过教学Racket的变体来学习编程概念。然而，由于每种变体的工作方式，最好将每种都视为自己的语言。例如，作为球拍的变体，BSL和ISL各自识别不同的语法。同样，适用于球拍的代码可能不适用于BSL或ISL。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi or"><img src="../Images/b97318e17308ab43288d8a87b827c3b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/1*y9gEHP8Lk7GaNct9Au5jxg.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">从左到右:初级学生语言、中级学生语言、ISL with Lambdas和DrRacket IDE中的Racket。</figcaption></figure><h2 id="2120" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated"><strong class="ak">总是默认为正确的来源</strong>文档<strong class="ak">。</strong></h2><p id="64af" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">尽管我们应该<em class="mi">总是</em>引用源文档，但是由于一些原因，使用DrRacket这样做是非常重要的。虽然这些文件一开始看起来很神秘，但是通过一些研究，它们会很快成为你最好的朋友。因此，花5分钟阅读语法示例并了解可用的函数是值得的。第二，留言板并不总是区分BSL或ISL问题，因此，您可能最终会寻找一个不适合BSL的解决方案。</p><h2 id="2b99" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated">作为参考，以下是指向本指南涵盖的每种语言的源文档的链接。</h2><h2 id="f2c4" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated">初级学生语言(BSL)文档</h2><div class="nf ng gp gr nh ni"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd iu gy z fp nn fr fs no fu fw is bi translated">1名初学者</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">语法符号使用符号X...(粗体圆点)表示X可能出现任意次…</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">docs.racket-lang.org</p></div></div></div></a></div><h2 id="2880" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated">中级学生语言(ISL)文档</h2><div class="nf ng gp gr nh ni"><a href="https://docs.racket-lang.org/htdp-langs/intermediate.html" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd iu gy z fp nn fr fs no fu fw is bi translated">3名中级学生</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">语法符号使用符号X...(粗体圆点)表示X可能出现任意次…</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">docs.racket-lang.org</p></div></div></div></a></div><h2 id="f52f" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated">带有Lambdas (ISL+)文档的中级学生语言</h2><div class="nf ng gp gr nh ni"><a href="https://docs.racket-lang.org/htdp-langs/intermediate-lam.html" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd iu gy z fp nn fr fs no fu fw is bi translated">4名中级学生</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">语法符号使用符号X...(粗体圆点)表示X可能出现任意次…</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">docs.racket-lang.org</p></div></div></div></a></div><h2 id="c1b2" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated">球拍文档</h2><div class="nf ng gp gr nh ni"><a href="https://docs.racket-lang.org/" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd iu gy z fp nn fr fs no fu fw is bi translated">球拍文档</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">这是特定于安装的列表。运行raco文档(或Windows或Mac OS上的raco文档)可能会打开一个…</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">docs.racket-lang.org</p></div></div></div></a></div></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi os"><img src="../Images/39400c7ed5cde0219410aa07f93e110f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yPB1aKaWGlvYasWb"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">照片由<a class="ae le" href="https://unsplash.com/@thisisengineering?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">在</a><a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="e4fe" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">3.入门:BSL</h1><p id="e564" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">欢迎来到BSL。期待什么？解决基础问题<em class="mi">无需</em>内置函数的简易性。从技术上来说，这些文档包含了你所需要的一切，但是这一节包含了我希望事先知道的三点和三个BSL语法的例子。</p><h2 id="3572" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated">首先，澄清一点和六个顶级提示。</h2><p id="c5a8" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">我称之为“BSL ”,但实际上，在初级水平上有两种语言:一种是<a class="ae le" href="https://docs.racket-lang.org/htdp-langs/beginner.html" rel="noopener ugc nofollow" target="_blank"> <em class="mi">初级学生</em> </a> <em class="mi"> </em>语言，另一种是<a class="ae le" href="https://docs.racket-lang.org/htdp-langs/beginner-abbr.html" rel="noopener ugc nofollow" target="_blank"> <em class="mi">初级学生，带列表缩写</em>语言</a>。我对BSL的引用是对两种初学者语言的引用。</p><h2 id="041a" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated"><strong class="ak">在BSL中，关于语法需要注意的六点。</strong></h2><pre class="kp kq kr ks gt ot ou ov ow aw ox bi"><span id="40fc" class="ns lg it ou b gy oy oz l pa pb">; 1. Use <strong class="ou iu">"double quotes" for strings</strong>, unlike in 'Python'</span><span id="a4d2" class="ns lg it ou b gy pc oz l pa pb">; 2. Display last line of code with <strong class="ou iu">CMD + CTRL + Up Arrow</strong>, unlike <br/>; pressing Up Arrow in Terminal or in a repl</span><span id="073a" class="ns lg it ou b gy pc oz l pa pb">; 3. To create a variable, we usually think: a = "apple" <br/>; but in BSL we must use <strong class="ou iu"><em class="mi">define</em></strong>:</span><span id="eada" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">(define a "apple") ; a is now a string "apple" </strong><br/>(string? a) ; -&gt; evaluates to #true<br/>; Output &gt; #true</span><span id="4fc1" class="ns lg it ou b gy pc oz l pa pb">#|<br/>  4. To comment a line, use the semi-colon; or many, ;;;;; ...<br/>or use a <strong class="ou iu">hash &amp; pipe to open</strong> a comment block and <strong class="ou iu">pipe &amp; hash to close</strong> a comment block<br/>|#</span><span id="7308" class="ns lg it ou b gy pc oz l pa pb">#|<br/>  5. By convention, <strong class="ou iu">use the dash instead of underline</strong> for variables.<br/>Ex. a-list-of-strings in BSL instead of a_list_of_strings in Python.<br/>|#</span><span id="f618" class="ns lg it ou b gy pc oz l pa pb">; 6. <strong class="ou iu">No commas, only spaces.</strong> For example, in BSL<br/>; do like: (list 1 3 4 56) NOT like: (list 1, 3, 4, 56)</span></pre><h2 id="527a" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated">第二，BSL有两个奇特的地方需要一段时间来适应。</h2><p id="aab6" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">对于BSL，有一种叫做<em class="mi">前缀符号</em>的东西，其中操作符出现在操作数之前<em class="mi">。此外，几乎每个操作都必须用括号括起来。例如，在下面的代码块中用BSL演示了前缀和中缀符号之间的区别。</em></p><pre class="kp kq kr ks gt ot ou ov ow aw ox bi"><span id="67a9" class="ns lg it ou b gy oy oz l pa pb"><strong class="ou iu">; Example of prefix notation in BSL</strong></span><span id="3699" class="ns lg it ou b gy pc oz l pa pb">#|<br/><strong class="ou iu">To add 1 and 4, we usually think <em class="mi">infix</em> notation: 1 + 4<br/>however, in BSL we must think <em class="mi">prefix</em> notation: + 1 4</strong></span><span id="c785" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">Also, to evaluate as BSL code we have to surround with (...)</strong><br/>|#</span><span id="0a2c" class="ns lg it ou b gy pc oz l pa pb">(+ 1 4)</span><span id="7680" class="ns lg it ou b gy pc oz l pa pb">; output &gt;<br/>; &gt; 5</span><span id="dd28" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; infix notation in my brain: [(1 + 2) * (3 + 4)] / 5 - 6 = -1.8<br/>; prefix notation in BSL: </strong></span><span id="85b2" class="ns lg it ou b gy pc oz l pa pb">(- (/ (* (+ 1 2) (+ 3 4)) 5) 6)</span><span id="70fd" class="ns lg it ou b gy pc oz l pa pb">; &gt; -1.8</span><span id="0d8f" class="ns lg it ou b gy pc oz l pa pb">; it is normal in BSL to have a bunch of parens<br/>; at the end of a function -&gt; ))]))] )))))]) <br/>; also, yes, it is annoying</span></pre><h2 id="5491" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated">第三，BSL有目的地限制某些在ISL中可用的内置功能。</h2><p id="4931" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">这个想法的一部分是迫使学生进行批判性思考，并学习计算机如何评估代码。例如，如果不使用为您排序的内置函数，您将如何告诉计算机对数字或字母列表进行排序？</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/e9d6d30fed4d015a23b95df15fd1c22b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1176/format:webp/1*fVd96kwaWa2Fla9dkUzBQQ.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">诱人的反应是使用某种sort()函数，但是记住，尝试使用sort函数只会在BSL中返回一个错误。由于这些限制，BSL中的部分挑战是弄清楚抽象函数是如何工作的。图片来自作者。</figcaption></figure></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="b087" class="lf lg it bd lh li om lk ll lm on lo lp lq oo ls lt lu op lw lx ly oq ma mb mc bi translated">BSL中列表、结构和函数的三个例子。</h1><h2 id="8b7a" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated">1.<a class="ae le" href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28part._htdp-beginner._.Lists%29" rel="noopener ugc nofollow" target="_blank">排行榜</a></h2><p id="fa96" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">这个列表是任何程序的主食之一，在BSL中得到很大的帮助是不足为奇的。下面的BSL代码演示了几种创建和管理列表的方法。<strong class="js iu">重要提示:列表并不包含BSL中每个元素的索引；</strong>但是，您仍然可以返回列表中的元素，如下所示。</p><pre class="kp kq kr ks gt ot ou ov ow aw ox bi"><span id="cb1a" class="ns lg it ou b gy oy oz l pa pb"><strong class="ou iu">; Examples of lists in BSL</strong></span><span id="7a8c" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; create a list of numbers with define<br/>; the named list is a-list-of-numbers</strong></span><span id="3d4f" class="ns lg it ou b gy pc oz l pa pb">(define a-list-of-numbers (list 3 1 2))</span><span id="928e" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; get the first number in the list<br/>; in Python, a-list-of-numbers[0] -&gt; 3</strong></span><span id="9a61" class="ns lg it ou b gy pc oz l pa pb">(first a-list-of-numbers) ; &gt; 3</span><span id="1af7" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; get the second number in the list<br/>; in Python, a-list-of-numbers[1] -&gt; 1</strong></span><span id="2b54" class="ns lg it ou b gy pc oz l pa pb">(second a-list-of-numbers) ; &gt; 1</span><span id="4e7b" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; we can continue on with third, fourth, of a list,...<br/>; but it is usually sufficient to call first and rest</strong></span><span id="2231" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; get the rest of the numbers in the list<br/>; in Python, a-list-of-numbers[1:] -&gt; [1, 2]</strong></span><span id="815d" class="ns lg it ou b gy pc oz l pa pb">(rest a-list-of-numbers) ; &gt; (list 1 2)</span><span id="ad1d" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; Very important! Understand how first and rest work <br/>; to unlock recursion</strong></span><span id="4ab4" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; Return a bool, is the first greater than the second?</strong></span><span id="8aec" class="ns lg it ou b gy pc oz l pa pb">(&gt; (first a-list-of-numbers) (second a-list-of-numbers))</span><span id="b5d3" class="ns lg it ou b gy pc oz l pa pb">; &gt; #true</span><span id="476c" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; The Sort function will not work in BSL but <em class="mi">will</em> work in ISL</strong></span><span id="b299" class="ns lg it ou b gy pc oz l pa pb">(sort a-list-of-numbers)</span><span id="a10d" class="ns lg it ou b gy pc oz l pa pb">; &gt; error sort: this function is not defined</span></pre><div class="nf ng gp gr nh ni"><a href="https://codeburst.io/learn-and-understand-recursion-in-javascript-b588218e87ea" rel="noopener follow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd iu gy z fp nn fr fs no fu fw is bi translated">学习和理解JavaScript中的递归</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">我将在10分钟内带您浏览两个流行的JS递归示例，这样您就可以最终理解递归是如何工作的…</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">codeburst.io</p></div></div><div class="oe l"><div class="pe l og oh oi oe oj ky ni"/></div></div></a></div><h2 id="f02e" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated">2.结构(<a class="ae le" href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define-struct%29%29" rel="noopener ugc nofollow" target="_blank"> struct </a>)和结构列表</h2><p id="2edd" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">除了列表，BSL还有一个struct数据类型。一个相近的类比是BSL中的strucs类似于Python实现类的方式。</p><div class="nf ng gp gr nh ni"><a href="https://docs.python.org/3/tutorial/classes.html" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd iu gy z fp nn fr fs no fu fw is bi translated">9.类- Python 3.8.5文档</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">类提供了一种将数据和功能捆绑在一起的方法。创建一个新类会创建一个新类型的对象…</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">docs.python.org</p></div></div></div></a></div><p id="6461" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下面的代码示例演示如何在BSL中构建类结构列表。</p><pre class="kp kq kr ks gt ot ou ov ow aw ox bi"><span id="0d51" class="ns lg it ou b gy oy oz l pa pb"><strong class="ou iu">; Example of Structure data and List of Structure data</strong></span><span id="b537" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; create a new data structure called pet<br/>; pet params:<br/>;  id-&gt;number, type-&gt;string, age-&gt;number, <br/>;  name-&gt;string, color-&gt;string, weight-&gt;number</strong></span><span id="1c41" class="ns lg it ou b gy pc oz l pa pb">(define-struct pet [id type age color name weight])</span><span id="7986" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; create a new pet with id of 1</strong></span><span id="a860" class="ns lg it ou b gy pc oz l pa pb">(define pet1 (make-pet 1 "cat" 3 "orange" "Colonel Mustard" 11.4))</span><span id="ee0f" class="ns lg it ou b gy pc oz l pa pb">(struct? pet1) <strong class="ou iu">; -&gt; evaluates to #true</strong></span><span id="26a5" class="ns lg it ou b gy pc oz l pa pb">(pet-name pet1) <strong class="ou iu">; -&gt; select just the name from pet1<br/></strong>(pet-color pet2) <strong class="ou iu">; -&gt; select just the color from pet2</strong></span><span id="4c7c" class="ns lg it ou b gy pc oz l pa pb">; &gt; "Colonel Mustard"<br/>; &gt; "black"</span><span id="d54e" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; create a dog and fish pet</strong></span><span id="2072" class="ns lg it ou b gy pc oz l pa pb">(define pet2 (make-pet 2 "dog" 10 "black" "Sir Duke" 25))<br/>(define pet3 (make-pet 3 "fish" 5 "gold" "Mr. Fish" .3))</span><span id="aae2" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; we can have a list of structures</strong><br/><strong class="ou iu">; a-list-of-pets (alop)<br/>; note: NO commas, only spaces</strong></span><span id="bdcf" class="ns lg it ou b gy pc oz l pa pb">(define alop (list pet1 pet2 pet3))</span><span id="260d" class="ns lg it ou b gy pc oz l pa pb">alop <strong class="ou iu">; -&gt; returns the list of pets</strong></span><span id="29f6" class="ns lg it ou b gy pc oz l pa pb">#| <strong class="ou iu">the alop</strong><br/>&gt; (list<br/>&gt;  (make-pet 1 "cat" 3 "orange" "Colonel Mustard" 11.4)<br/>&gt;  (make-pet 2 "dog" 10 "black" "Sir Duke" 25)<br/>&gt;  (make-pet 3 "fish" 5 "gold" "Mr. Fish" 0.3))<br/>|#</span><span id="657d" class="ns lg it ou b gy pc oz l pa pb">pet1 <strong class="ou iu">; -&gt; returns just the one pet</strong></span><span id="838e" class="ns lg it ou b gy pc oz l pa pb">; &gt; (make-pet 1 "cat" 3 "orange" "Colonel Mustard" 11.4)</span></pre><h2 id="e38e" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated">3.<a class="ae le" href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28part._beginner-syntax%29" rel="noopener ugc nofollow" target="_blank">BSL中的功能</a></h2><p id="2980" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated"><strong class="js iu">如果你想学习或教授递归，DrRacket中的BSL是一个现象级的工具。</strong>像其他语言一样，我们可以在BSL中创建函数和利用条件语句。然而，与某些语言不同，<strong class="js iu"> BSL真的闪耀着</strong> <a class="ae le" href="https://beautifulracket.com/explainer/recursion.html" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">递归</strong> </a> <strong class="js iu">。</strong></p><p id="aa4f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在下面的三个代码示例中，函数<strong class="js iu"> get-pets </strong>通过条件和递归返回所选宠物的名字。</p><pre class="kp kq kr ks gt ot ou ov ow aw ox bi"><span id="da5f" class="ns lg it ou b gy oy oz l pa pb"><strong class="ou iu">; Example: syntax of a basic function<br/>; given a list of pets as alop from prior example<br/>; alop has a cat, a dog, and a fish</strong></span><span id="f34c" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; 1st attempt - pass some parameters to a function<br/>; just to see if it works</strong></span><span id="027f" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; get-pets is the function name<br/>; we pass the alop to a-list in get-pets</strong></span><span id="e959" class="ns lg it ou b gy pc oz l pa pb">(define (get-pets a-list)<br/>  (pet-type (first a-list)))</span><span id="2af2" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; return the pet-type of the first pet structure</strong></span><span id="e840" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; call the get-pets function and pass it alop</strong></span><span id="bb2b" class="ns lg it ou b gy pc oz l pa pb">(get-pets alop) ; -&gt; "cat"</span></pre><p id="3c7b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在我们可以将一些东西传递给一个函数，在下一个例子中，让我们添加一个if语句来比较一些东西，看看我们可以对结果做些什么。</p><pre class="kp kq kr ks gt ot ou ov ow aw ox bi"><span id="c844" class="ns lg it ou b gy oy oz l pa pb"><strong class="ou iu">; Example: function with an if-statement<br/>; Given a list of pets as alop from prior example<br/>; alop has a cat, a dog, and a fish</strong></span><span id="bc14" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; 2nd attempt - add a param and see the if statement</strong><br/><strong class="ou iu">; Test how string equality works</strong></span><span id="fdf7" class="ns lg it ou b gy pc oz l pa pb">(define (get-pets a-list pet-property)<br/><strong class="ou iu">  ; for the first pet in the list, if the type is <br/>  ; equal to the second param pet-property, then</strong><br/>  <br/>  (if (string=? (pet-type (first a-list))<br/>                pet-property)<br/>      "something if true"    <strong class="ou iu">; replace later w/function</strong><br/>      "something if false")) <strong class="ou iu">; replace later w/function</strong></span><span id="1b8d" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; if given pets and a cat, then true and do something<br/>; if fish, then false and do something else</strong></span><span id="d0bf" class="ns lg it ou b gy pc oz l pa pb">(get-pets alop "cat") <strong class="ou iu">; -&gt; "something if true"</strong><br/>(get-pets alop "fish") <strong class="ou iu">; -&gt; "something if false"</strong></span></pre><p id="83b4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">从第二遍开始，我们了解到在比较第一个宠物的宠物类型属性和宠物参数“猫”或“鱼”之后，函数可以采取一些行动由于列表中第一个是猫，所以当我们用“猫”测试时，if语句为真。同样，我们知道“鱼”的计算结果为false，因为第一个宠物仍然是猫。因此，我们接下来要回答两个问题——函数在true时应该做什么，在false时应该做什么？</p><pre class="kp kq kr ks gt ot ou ov ow aw ox bi"><span id="1ee2" class="ns lg it ou b gy oy oz l pa pb"><strong class="ou iu">; Example: a recursive function in BSL<br/>; Given a list of pets as alop from prior example<br/>; alop has a cat, a dog, and a fish</strong></span><span id="aef7" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; 3rd attempt - add recursive steps</strong><br/><strong class="ou iu">; return only the selected type, if matching</strong></span><span id="6bcf" class="ns lg it ou b gy pc oz l pa pb">; get-pets() matches a-string to a pet struct<br/>; [a-list, a-string]-&gt;[a-pet-struct]<br/>; a-list is a list of pet structures<br/>; a-string is one of a pet property<br/>; pet properties: [id type age color name weight]</span><span id="c2e9" class="ns lg it ou b gy pc oz l pa pb">(define (get-pets a-list pet-property)<br/><strong class="ou iu">  ; for the first pet in the list, if the type is <br/>  ; equal to the second param pet-property, then</strong><br/>  <br/>  (if (string=? (pet-type (first a-list))<br/>                pet-property)<br/>      (first a-list) <strong class="ou iu">; if match, then return the current pet</strong><br/>      (get-pets (rest a-list) pet-property)))<br/><strong class="ou iu">      ; else: recursively pass the rest of the list</strong></span><span id="20e7" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; if given a pets struct and cat, return the cat<br/>; if fish, then recurse over list until a match</strong></span><span id="d081" class="ns lg it ou b gy pc oz l pa pb">(get-pets alop "cat") <br/>  <strong class="ou iu">; &gt; (make-pet 1 "cat" 3 "orange" "Colonel Mustard" 11.4)</strong></span><span id="94eb" class="ns lg it ou b gy pc oz l pa pb">(get-pets alop "fish") <br/>  <strong class="ou iu">; &gt; (make-pet 3 "fish" 5 "gold" "Mr. Fish" 0.3)</strong></span><span id="d0ef" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; not covered here: what happens if we search for a snake?</strong></span></pre><h2 id="3639" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated">BSL摘要</h2><p id="8d95" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">正如上面最后一个BSL示例所示，我们可以用看似简单的初学者语言DrRacket学习相当复杂的编程概念，比如递归。</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pf"><img src="../Images/e2033340d8c136761c5877d6e176fd3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UV-S1x-OTMRxy7WS"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">由<a class="ae le" href="https://unsplash.com/@kingtobie?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">托拜厄斯·尼·夸泰·夸泰</a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="4137" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">3.入门:ISL</h1><p id="fbf6" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">欢迎来到<a class="ae le" href="https://docs.racket-lang.org/htdp-langs/intermediate.html" rel="noopener ugc nofollow" target="_blank">中级学生语言</a>！期待获得更多功能来解决更具挑战性的问题。</p><p id="e22f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">通常，BSL中的所有概念和语法都适用于ISL和ISL+。ISL中最显著的变化是创建和利用本地功能和定义的能力。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi pg"><img src="../Images/41832701c2c67de317c60751765e31ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/1*EjEVfyIk3346dFDtVeQ8yw.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">在DrRacket中切换语言时，请查看左下角的菜单选项。</figcaption></figure><h2 id="640c" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated"><a class="ae le" href="https://docs.racket-lang.org/htdp-langs/intermediate.html#%28form._%28%28lib._lang%2Fhtdp-intermediate..rkt%29._local%29%29" rel="noopener ugc nofollow" target="_blank">ISL中的本地</a>定义</h2><p id="1537" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">让我们再看一下BSL部分前面的<strong class="js iu"> get-pets </strong>函数，以解开ISL中本地函数定义的语法。在下面的例子中，<strong class="js iu"> get-pets </strong>已经被修改，因此变量“current-pet”现在是每次函数运行时宠物列表中的第一只宠物。</p><pre class="kp kq kr ks gt ot ou ov ow aw ox bi"><span id="a4a7" class="ns lg it ou b gy oy oz l pa pb"><strong class="ou iu">; Example of a local function definition<br/>; same get-pets function as before but with a local def</strong></span><span id="a63c" class="ns lg it ou b gy pc oz l pa pb">(define (get-pets a-list pet-property)<br/>  (<strong class="ou iu">local</strong><br/><strong class="ou iu">    ; locally define the first of a list as current-pet<br/>    ; instead of calling (first a-list) multiple times</strong><br/>    ((define current-pet (first a-list)))</span><span id="91d4" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; after local defs, do some operation<br/></strong>    (if (string=? (pet-type current-pet)<br/>                  pet-property)<br/>        current-pet<br/>        (get-pets (rest a-list) pet-property))))</span><span id="9179" class="ns lg it ou b gy pc oz l pa pb">(get-pets alop "fish") <br/>  <strong class="ou iu">; &gt; (make-pet 3 "fish" 5 "gold" "Mr. Fish" 0.3)<br/>  ; same result as before</strong></span></pre><p id="1034" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，我们已经基本掌握了ISL中的本地定义，让我们进一步看几个条件语句(cond)、列表构造(cons)和附加的ISL示例。</p><h2 id="fff2" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated"><a class="ae le" href="https://docs.racket-lang.org/htdp-langs/intermediate.html#%28part._intermediate-syntax%29" rel="noopener ugc nofollow" target="_blank">ISL中的本地功能定义</a></h2><p id="3468" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">在前面的例子中，我们在本地定义了一个变量，但这有点琐碎——本地定义只简化了代码，但没有做太多其他事情。如果在稍微复杂一点的问题中，我们要按体重筛选宠物列表怎么办？</p><p id="63be" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们可以先构建一个递归函数，将列表中的每一项与一个数字进行比较。如果宠物的体重小于一个给定的数字，我们将宠物添加到一个列表中；如果大于这个数量，我们跳过它，直到我们有一个符合重量限制的宠物列表。最后，只返回一个低于重量限制的宠物列表。</p><p id="0c15" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在下面的第一个例子中，我们开始构建一个函数，<strong class="js iu"> filter-pet-weight.v1 </strong>。注意我们如何使用<strong class="js iu"> cond </strong>语句来代替前面例子中的if语句。</p><pre class="kp kq kr ks gt ot ou ov ow aw ox bi"><span id="e607" class="ns lg it ou b gy oy oz l pa pb"><strong class="ou iu">; A first pass at recursive filtering<br/>; Caution! This results in a stack overflow, can you see why?</strong></span><span id="4929" class="ns lg it ou b gy pc oz l pa pb">(define (filter-pet-weight.v1 a-list a-weight)</span><span id="eed3" class="ns lg it ou b gy pc oz l pa pb">  <strong class="ou iu">; a conditional set of statements instead of if-statement</strong><br/>  (cond<br/>    <strong class="ou iu">; if first pet-weight is less than, then, do recursive call<br/>    ; pass the list and the weight to compare</strong><br/>    <br/>    [(&gt; (pet-weight (first a-list)) a-weight) (filter-pet-weight.v1 a-list a-weight)]</span><span id="2005" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">    ; if not, construct (cons) the first item <br/>    ; in the list and recursively call</strong></span><span id="b6e2" class="ns lg it ou b gy pc oz l pa pb">    [else (cons (first a-list) (filter-pet-weight.v1 (rest a-list) a-weight))]))</span><span id="66eb" class="ns lg it ou b gy pc oz l pa pb">(filter-pet-weight.v1 alop 12) </span><span id="53c4" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; &gt; results in a stack overflow, keeps running until out of memory</strong></span></pre><p id="2b78" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在上面的第一遍中，我们遇到了堆栈溢出——函数不停地进行递归调用，直到结束。最终，程序将耗尽内存并失败，因为我们的逻辑没有退出条件。</p><div class="nf ng gp gr nh ni"><a href="https://medium.com/free-code-camp/recursion-is-not-hard-858a48830d83" rel="noopener follow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd iu gy z fp nn fr fs no fu fw is bi translated">递归不难:这种有用的编程技术的逐步演练</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">我要马上说出来。您知道函数调用时发生的事件吗？没有吗？那就是…</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">medium.com</p></div></div><div class="oe l"><div class="ph l og oh oi oe oj ky ni"/></div></div></a></div><p id="4652" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当面临堆栈溢出时，想想函数应该如何继续运行，什么条件下应该停止运行。停止函数的条件通常称为基本情况，而保持函数运行的条件称为递归情况。如果使用列表，通常会对列表求值，直到列表为空。诀窍是确保我们每次都递增列表。</p><p id="a7f3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在下面的版本2中，我们有一个递归解决方案，它有一个很好的基本情况和递归情况，可以处理整个列表并避免堆栈溢出。</p><pre class="kp kq kr ks gt ot ou ov ow aw ox bi"><span id="627c" class="ns lg it ou b gy oy oz l pa pb"><strong class="ou iu">; A second pass at recursive filtering<br/>; This time we can exit recursion</strong></span><span id="391f" class="ns lg it ou b gy pc oz l pa pb">(define (filter-pet-weight.v2 a-list a-weight)<br/>  (cond<br/>    <br/>    <strong class="ou iu">; base case -&gt; when empty list, return an empty list</strong><br/>    <br/>    [(empty? a-list) '()]</span><span id="e2b0" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; here we pass the rest of the list in a recursive call<br/>; to ensure we incrementally move towards the end of a list</strong><br/>    <br/>    [(&gt; (pet-weight (first a-list)) a-weight) (filter-pet-weight.v2 (rest a-list) a-weight)]</span><span id="5a18" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; instead of cons, we append a list of items <br/>; in each recursive call</strong></span><span id="16f6" class="ns lg it ou b gy pc oz l pa pb">    [else (append (list (first a-list)) (filter-pet-weight.v2 (rest a-list) a-weight))]))</span><span id="1808" class="ns lg it ou b gy pc oz l pa pb">(filter-pet-weight.v2 alop 12)</span><span id="965b" class="ns lg it ou b gy pc oz l pa pb">; &gt; (list<br/>     (make-pet 1 "cat" 3 "orange" "Colonel Mustard" 11.4)<br/>     (make-pet 3 "fish" 5 "gold" "Mr. Fish" 0.3))</span></pre><p id="e80d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在上面的例子中，filter函数返回所有12岁以下的宠物。此外，请注意，只要我们<em class="mi">追加一个事物列表</em>，我们通常就可以将<strong class="js iu">追加</strong>与<strong class="js iu">反对</strong>互换使用。</p><p id="4020" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，因为我们在ISL中，可以访问更多的东西，所以让我们看看如何使用内置的<strong class="js iu">过滤器</strong>功能。在下面的版本3中，注意我们如何定义一个局部函数来比较pet-weight和一个给定的数字。然后，通过内置的过滤函数，我们可以创建一个新的宠物列表(通过过滤我们的宠物权重函数)。</p><pre class="kp kq kr ks gt ot ou ov ow aw ox bi"><span id="5c8e" class="ns lg it ou b gy oy oz l pa pb"><strong class="ou iu">; A third pass at recursive filtering<br/>; Using a built-in function to simplify code</strong></span><span id="3bc2" class="ns lg it ou b gy pc oz l pa pb">(define (filter-pet-weight.v3 a-list a-weight)<br/>  (local<br/><strong class="ou iu">     ; a local function def called weight-limit<br/>     ; consumes a pet structure</strong></span><span id="7cf8" class="ns lg it ou b gy pc oz l pa pb">    ((define (weight-limit a-pet)<br/><strong class="ou iu">       ; compares the pet-weight against a-weight</strong></span><span id="1a1a" class="ns lg it ou b gy pc oz l pa pb">       (&lt; (pet-weight a-pet) a-weight)))<br/><strong class="ou iu">   <br/>    ; filter is a built-in function in ISL<br/>    ; applies a function to a alist</strong></span><span id="56a3" class="ns lg it ou b gy pc oz l pa pb">    (filter weight-limit a-list)))</span><span id="777d" class="ns lg it ou b gy pc oz l pa pb">(filter-pet-weight.v3 alop 12)</span><span id="e0d7" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; same result as in version 2 but simpler code</strong><br/>; &gt; (list<br/>     (make-pet 1 "cat" 3 "orange" "Colonel Mustard" 11.4)<br/>     (make-pet 3 "fish" 5 "gold" "Mr. Fish" 0.3))</span></pre><h2 id="bab8" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated">ISL摘要</h2><p id="bb10" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">使用ISL，我们可以获得BSL的所有功能，还可以定义局部变量和函数。此外，我们还可以访问诸如排序和过滤等内置功能。ISL还有更多的内容，但是希望本节中提供的示例能够帮助您朝着正确的方向开始。</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pi"><img src="../Images/edda0e6daf6e4c1354e133ac7376b5bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_ouRyaxMER9qtGMG"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">萨姆·卡特在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="2c5e" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">5.入门:<a class="ae le" href="https://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28part._intm-w-lambda-syntax%29" rel="noopener ugc nofollow" target="_blank">带Lambdas的ISL</a></h1><p id="6a89" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">欢迎来到ISL+！正式名称是<a class="ae le" href="https://docs.racket-lang.org/htdp-langs/intermediate-lam.html" rel="noopener ugc nofollow" target="_blank"> <em class="mi">中级学员，Lambda </em> </a>，但<em class="mi"> ISL+ </em>是我教授的叫法，朗朗上口，有道理。就像从BSL过渡到ISL一样，我们用ISL+得到了以前的一切。有什么新鲜事？顾名思义，在ISL+中，我们能够构建lambda函数。</p><h2 id="1e72" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated">ISL+需要注意什么</h2><p id="e0e4" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated"><strong class="js iu">非常有用:</strong> <a class="ae le" href="https://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._map%29%29" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">映射</strong> </a>，<a class="ae le" href="https://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._foldl%29%29" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu"> foldl/foldr，</strong> </a>，<a class="ae le" href="https://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28form._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._check-expect%29%29" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">测试</strong> </a> <strong class="js iu"> (check-expect)。这三组功能在BSL或ISL中都可用；然而，为了演示它们是如何工作的，用</strong> <a class="ae le" href="https://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28part._intm-w-lambda-syntax%29" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu"> lambdas </strong> </a>来介绍它们<strong class="js iu">是很有用的。例如代码，让我们重新访问BSL的<strong class="js iu"> get-pets </strong>函数，看看我们如何解决ISL+中的过滤器问题。</strong></p><h2 id="eb85" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated"><a class="ae le" href="https://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29" rel="noopener ugc nofollow" target="_blank">过滤器</a>问题(概述)</h2><p id="15b4" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">我们有一个包含在结构体列表中的宠物列表。每个pet结构都有一些属性，比如名称、重量和类型。主函数:<strong class="js iu">如果给定一个宠物列表和一个宠物类型，例如“猫”，我们只想返回猫。</strong>该pet数据的代码与BSL的代码相同，如下所示。</p><pre class="kp kq kr ks gt ot ou ov ow aw ox bi"><span id="c846" class="ns lg it ou b gy oy oz l pa pb"><strong class="ou iu">; Example code for creating a struct and a list of structs</strong></span><span id="9e41" class="ns lg it ou b gy pc oz l pa pb">(define-struct pet [id type age color name weight])<br/><br/>(define pet1 (make-pet 1 "cat" 3 "orange" "Colonel Mustard" 11.4))<br/>(define pet2 (make-pet 2 "dog" 10 "black" "Sir Duke" 25))<br/>(define pet3 (make-pet 3 "fish" 5 "gold" "Mr. Fish" .3))</span></pre><h2 id="cc07" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated"><strong class="ak">不含λs的过滤解决方案(重述)</strong></h2><p id="b767" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">在进入lambda解决方案之前，让我们快速回顾一下我们以前在BSL中是如何解决这个过滤器问题的。下面代码中的if语句(粗体文本)基本上完成了过滤工作。过滤之后，我们使用递归来遍历宠物列表。</p><p id="26c2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果我们不想使用递归怎么办？我们还能怎么解决这个问题？</p><pre class="kp kq kr ks gt ot ou ov ow aw ox bi"><span id="4ae3" class="ns lg it ou b gy oy oz l pa pb"><strong class="ou iu">; Example code for filtering a list of structs</strong></span><span id="c3a3" class="ns lg it ou b gy pc oz l pa pb">(define (get-pets a-list pet-property)<br/>  (local<br/>    ((define current-pet (first a-list)))<strong class="ou iu"><br/></strong>   <strong class="ou iu"> (if (string=? (pet-type current-pet)<br/>                  pet-property)</strong><br/>        current-pet<br/>        (get-pets (rest a-list) pet-property))))</span></pre><h2 id="b311" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated">使用Lambdas进行过滤</h2><p id="1395" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">乍一看，我觉得和兰姆达斯一起工作令人生畏；然而，剥去“数学”这个名字后，它们并没有那么糟糕。什么是λ？基本上，lambda是一个行为像函数的函数——它接受变量并对表达式求值——除了我们没有给它命名。我们只是使用术语lambda，而不是命名函数。</p><p id="ae4c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">由于关于未命名函数的全部内容乍一看似乎很抽象，所以让我们浏览一下代码，从检查等式的不同方式开始。之前，我们用<strong class="js iu"> string=？</strong>，但如下图所示我们也可以用<strong class="js iu">等号？</strong>返回一个布尔值(真或假)。</p><pre class="kp kq kr ks gt ot ou ov ow aw ox bi"><span id="a995" class="ns lg it ou b gy oy oz l pa pb"><strong class="ou iu">; Example of using equal?</strong></span><span id="df0e" class="ns lg it ou b gy pc oz l pa pb">(define (get-pets a-list pet-property)<br/>  <strong class="ou iu">; before we used string=? <br/>  </strong>(equal? (pet-type (first a-list)) pet-property))</span><span id="7cc2" class="ns lg it ou b gy pc oz l pa pb">; &gt; #true</span></pre><p id="9044" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">此时，我们有能力检查记录列表中一个记录的相等性。以前我们使用递归，但是现在我们可以使用lambdas和其他一些有用的内置函数来更快地到达那里。</p><p id="2db0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了理解lambdas，我喜欢首先考虑我想要迭代或递归什么。在这种情况下，我们有一个宠物列表，并希望访问每个宠物的类型。</p><pre class="kp kq kr ks gt ot ou ov ow aw ox bi"><span id="8218" class="ns lg it ou b gy oy oz l pa pb"><strong class="ou iu">; Example of a first pass at lambda construction</strong></span><span id="bcea" class="ns lg it ou b gy pc oz l pa pb">(define (get-pets a-list pet-property)<br/>  <strong class="ou iu">; replace the following line<br/>  </strong>; (equal? (pet-type (first a-list)) pet-property))  </span><span id="3ac4" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">  ; build a lambda instead<br/>  </strong>(lambda (x) (equal? (pet-type x) pet-property)))</span><span id="f8b3" class="ns lg it ou b gy pc oz l pa pb">#| <strong class="ou iu">Explanation: </strong><br/>Before, we looked at the pet-type of the first item in a-list. In the lambda, <strong class="ou iu">replace (first a-list) with x</strong>. As a result, the function reads like: lambda consumes x which will be an item in a-list, then, check equality between pet-type of x and the given pet-property.<br/>|# </span><span id="0483" class="ns lg it ou b gy pc oz l pa pb">; &gt; (lambda (a1) ...)</span></pre><p id="a24c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这一点上，我们的小λ仍然是，只是一个λ。也就是说，我们还没有指定x应该是什么。因此，我们只有一个类似于<strong class="js iu"> (lambda (a1) …)的输出。不要沮丧，事实上，这是最酷的部分！</strong></p><p id="0f49" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们的lambda很酷，因为它检查我们从头创建的数据类型的相等性。相比之下，如果我们想过滤一个奇偶校验的数字列表，我们可以使用内置函数<strong class="js iu"> odd？这就是我们的lambda为pet结构所做的。例如，文档通过展示如何使用<strong class="js iu"> odd进行过滤来描述如何使用filter？</strong>在一串数字上。</strong></p><pre class="kp kq kr ks gt ot ou ov ow aw ox bi"><span id="98c0" class="ns lg it ou b gy oy oz l pa pb"><strong class="ou iu">; </strong><a class="ae le" href="https://docs.racket-lang.org/htdp-langs/intermediate-lam.html#%28def._htdp-intermediate-lambda._%28%28lib._lang%2Fhtdp-intermediate-lambda..rkt%29._filter%29%29" rel="noopener ugc nofollow" target="_blank"><strong class="ou iu">Example of filter from the docs</strong></a></span><span id="b15c" class="ns lg it ou b gy pc oz l pa pb">(filter <strong class="ou iu">odd? </strong>'(0 1 2 3 4 5 6 7 8 9))</span><span id="28c2" class="ns lg it ou b gy pc oz l pa pb">; &gt; (list 1 3 5 7 9)</span><span id="867a" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; instead of odd? we have a lambda on a different list</strong></span><span id="9eb1" class="ns lg it ou b gy pc oz l pa pb">(filter <strong class="ou iu">(lambda (x) (equal? (pet-type x) pet-property))</strong> a-list)</span></pre><p id="7ac3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，让我们把所有的部分放在下面代码中的一个函数下。</p><pre class="kp kq kr ks gt ot ou ov ow aw ox bi"><span id="01ce" class="ns lg it ou b gy oy oz l pa pb"><strong class="ou iu">; Example of a second pass at lambda construction</strong></span><span id="7d63" class="ns lg it ou b gy pc oz l pa pb">(define (get-pets a-list pet-property)<br/>  (filter (lambda (x) (equal? (pet-type x) pet-property)) a-list))</span><span id="ffd1" class="ns lg it ou b gy pc oz l pa pb">#| <strong class="ou iu">Explanation: </strong><br/>We use filter to apply our lambda to a-list, one x at a time. <br/>|#</span><span id="2210" class="ns lg it ou b gy pc oz l pa pb">(get-pets alop "cat")</span><span id="8150" class="ns lg it ou b gy pc oz l pa pb">; &gt; (list (make-pet 1 "cat" 3 "orange" "Colonel Mustard" 11.4))</span></pre><h2 id="c61a" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated">测试，测试，测试</h2><p id="e909" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">尽管我们应该一直进行测试，但是现在我们有了一个可用的lambda，让我们看看如何构建两种类型的测试:<strong class="js iu"> check-expect </strong>和<strong class="js iu"> check-within </strong>。在这个过程中，我们还可以用map和<strong class="js iu"> foldl/foldr </strong>包装一些代码示例。</p><p id="5173" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">首先，检查-期望测试。按照惯例，您希望测试覆盖每个功能的所有部分。DrRacket甚至会让你知道一个测试是否“覆盖了所有的表情”。因为我们知道“猫”应该返回一个cat结构，所以让我们为猫建立一个测试。</p><pre class="kp kq kr ks gt ot ou ov ow aw ox bi"><span id="eeea" class="ns lg it ou b gy oy oz l pa pb"><strong class="ou iu">; Example of a testing with check-expect</strong></span><span id="73a9" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; call the function from check-expect<br/></strong>(check-expect (get-pets alop "cat") <br/>              <strong class="ou iu">; the second argument is the expected result</strong><br/>              (list <br/>              (make-pet 1 "cat" 3 "orange" "Colonel Mustard" 11.4)))</span><span id="8324" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; the function to be tested</strong><br/>(define (get-pets a-list pet-property)<br/>  (filter (lambda (x) (equal? (pet-type x) pet-property)) a-list))</span><span id="6438" class="ns lg it ou b gy pc oz l pa pb">; &gt; The test passed!</span></pre><p id="b90c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">其次，还有检入测试。使用签入进行测试在处理数学操作时很有帮助。例如，如果某个函数的预期结果是pi，而我得到了3.14，那么这个函数可能工作得很好。然而，检查-期望测试在pi场景中失败，因为答案不完全是pi，它只是接近pi。因此，我们要在范围内进行<em class="mi">检查-测试。</em></p><p id="2257" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">为了演示check-in、map和foldl/foldr，让我们看看如何计算我们所有宠物的平均体重。</strong></p><pre class="kp kq kr ks gt ot ou ov ow aw ox bi"><span id="897c" class="ns lg it ou b gy oy oz l pa pb"><strong class="ou iu">; Example of map and lambda (version 1)</strong></span><span id="500b" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; the lambda simply returns the pet-weight of each x<br/>; map applies the lambda to a-list;<br/>; as a result, x cycles through the list</strong></span><span id="4c08" class="ns lg it ou b gy pc oz l pa pb">(define (ave-weight.v1 a-list)<br/>  (map (lambda (x) (pet-weight x)) a-list))</span><span id="f17b" class="ns lg it ou b gy pc oz l pa pb">; &gt; (list 11.4 25 0.3)</span></pre><p id="2247" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要返回宠物的平均体重，我们需要宠物体重的总和和宠物的数量。在上面的版本1中，我们使用map将一个函数(lambda)应用于一个列表，并返回一个新的仅包含权重的列表——从这里我们可以获得总和、计数，并最终获得它们的平均值。</p><div class="nf ng gp gr nh ni"><a href="https://medium.com/python-in-plain-english/unlock-basic-lambdas-in-python-2796a4a762a8" rel="noopener follow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd iu gy z fp nn fr fs no fu fw is bi translated">在Python中解锁基本Lambdas</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">对于任何人——通过一个实际的lambdas、map和reduce的工作示例，在Python中征服lambdas</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">medium.com</p></div></div><div class="oe l"><div class="pj l og oh oi oe oj ky ni"/></div></div></a></div><p id="9240" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了得到列表的总和，我们可以使用foldl或foldr——是<strong class="js iu">向左折叠</strong>和<strong class="js iu">向右折叠</strong>的缩写。如果打个比方有帮助的话，ISL中的fold就像在Python中使用<strong class="js iu"> reduce </strong>，即r <em class="mi">得出一系列数字的总和</em>。fold的不同之处在于，我们可以选择一个方向来处理列表。在sum的情况下，方向并不重要，因此在本指南中我们将只使用<strong class="js iu"> foldr </strong>。</p><pre class="kp kq kr ks gt ot ou ov ow aw ox bi"><span id="a26b" class="ns lg it ou b gy oy oz l pa pb"><strong class="ou iu">; Example of using foldr</strong></span><span id="0c8e" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; foldr usage</strong><br/>; function | a base value | a list<br/>;  add (+)        0         (list 11.4...)</span><span id="1e97" class="ns lg it ou b gy pc oz l pa pb">(foldr + 0 (list 11.4 25 0.3))</span><span id="63c3" class="ns lg it ou b gy pc oz l pa pb">#| <strong class="ou iu">Explanation: </strong><br/>For each item in the list, apply the function (add) and start at 0. As a result, we might have 0 + 0.3, then, 0.3 + 25, and then 25.3 + 11.4 to get 36.7.<br/>|#</span><span id="53a1" class="ns lg it ou b gy pc oz l pa pb">; &gt; 36.7</span></pre><p id="b653" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在<strong class="js iu"> ave-weight </strong>的最终版本中，如下所示，我们可以将诸如数字列表(alon)、它们的总和以及alon的计数之类的值定义为变量，然后用前缀符号做一些简单的除法来返回平均值。</p><pre class="kp kq kr ks gt ot ou ov ow aw ox bi"><span id="74fd" class="ns lg it ou b gy oy oz l pa pb"><strong class="ou iu">; Example of putting it all together in ave-weight</strong></span><span id="efee" class="ns lg it ou b gy pc oz l pa pb">(define (ave-weight a-list)<br/>  (local<br/>   <strong class="ou iu">; create a list of numbers (alon) with map<br/>    </strong>((define alon (map (lambda (x) (pet-weight x)) a-list))    <br/>   <br/>   <strong class="ou iu">; foldr </strong>to get a sum <br/>     (define alon-sum (foldr + 0 alon))   <br/>   <br/>   <strong class="ou iu">; count length</strong>                  <br/>     (define alon-count (length alon)))  </span><span id="0f80" class="ns lg it ou b gy pc oz l pa pb"> <strong class="ou iu">  ; divide and return average    </strong>             <br/>    (/ alon-sum alon-count)))</span><span id="ec51" class="ns lg it ou b gy pc oz l pa pb">(ave-weight alop)</span><span id="b787" class="ns lg it ou b gy pc oz l pa pb">; &gt; 12.23</span><span id="d410" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; This function works, but it's still not the most optimal...<br/>; Not covered here: how to make this solution more efficient?</strong></span></pre><p id="14b2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，由于平均值实际上是12.23次重复，我们可以使用check-in为ave-weight创建一个工作测试。如下所示，如果结果在12.23的1/100以内，则测试通过。</p><pre class="kp kq kr ks gt ot ou ov ow aw ox bi"><span id="2e9f" class="ns lg it ou b gy oy oz l pa pb"><strong class="ou iu">; Example of check-within </strong></span><span id="23af" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; the function to test | expected result | expected delta<br/>; test passes if result is within the delta</strong></span><span id="628f" class="ns lg it ou b gy pc oz l pa pb">(check-within (ave-weight alop) 12.23 .01)</span></pre><h2 id="b01c" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated">ISL+摘要</h2><p id="97dd" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">有了ISL+，我们继承了BSL和ISL的一切，但获得了lambda函数的额外好处。此外，使用lambdas有助于解释如何使用其他有趣的功能，如滤镜、贴图和折叠。我们也有一些如何用check-expect和check-within进行测试的例子。就像在ISL中一样，还有更多的问题和函数需要讨论，但希望这足以让您开始学习ISL+！</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pk"><img src="../Images/c5742b56265fe571f1a2d4e01167c474.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QEqi2x7NqD-wtxCx"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">照片由<a class="ae le" href="https://unsplash.com/@christiantenguan?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Christian Tenguan </a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="6022" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">6.入门:球拍</h1><p id="6edf" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">尽管观点可能会有所不同，但学习用BSL和ISL设计程序是有帮助的，因为这样很容易专注于核心概念。例如，学生可以专注于理解递归和lambdas，而不是处理导入包和建立库。然而，球拍是需要“所有其他东西”的专业语言——基本概念得以延续，但语法发生了巨大变化。例如，您必须用#lang指定语言，并导入功能库和包。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pl"><img src="../Images/5bc7f8609f64a074633530059988991a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QPxP5J_asdVjc6RhjOL_Xg.png"/></div></div></figure><h2 id="05b3" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated">拍戏要注意什么</h2><p id="2d7b" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated"><strong class="js iu">球拍不是BSL也不是ISL！</strong>老实说，我对球拍知之甚少。我只知道我所知道的，因为当我第一次进入BSL时，我不知道我在看什么。</p><p id="642d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在BSL模块中工作时，最后花了几个小时阅读关于球拍的文档，显然很困惑。我沮丧地想，<em class="mi">我们为什么不在课堂上复习这些东西呢？！</em>因此，<strong class="js iu">这里的重点是，如果你在BSL或ISL中学习，遇到了像“未绑定标识符”这样奇怪的错误消息，你可能需要退出球拍。然而，如果你对如何让一些小东西在球拍中工作感到好奇，请继续阅读下面关于编写测试和合同的内容。</strong></p><h2 id="f44a" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated">什么是合同？</h2><p id="f1f8" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">到目前为止，我使用注释来指定每个函数期望的数据类型——注释意在表达函数和用户之间的契约。然而，在Racket中，我们终于有能力用代码写出合同并执行它。例如，以前，我希望宠物名是一个字符串，但没有真正的合同，用户可以创建一个具有任何值的宠物名。如果函数依赖于一个字符串值，但得到一个数字，可能会有大问题。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pm"><img src="../Images/c9e214654d216d500646b6e921ef0ef7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mg2_j-7XEO80WipKcC8W_w.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">球拍收缩和检查测试。</figcaption></figure><p id="c76d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了演示Racket中的契约是如何工作的，让我们来看看如何计算圆的面积。从指定语言和导入包开始。</p><pre class="kp kq kr ks gt ot ou ov ow aw ox bi"><span id="1a35" class="ns lg it ou b gy oy oz l pa pb"><strong class="ou iu">; first, specify language and import necessary packages</strong></span><span id="b633" class="ns lg it ou b gy pc oz l pa pb">#lang racket<br/>(require racket/contract)<br/>(<a class="ae le" href="https://beautifulracket.com/explainer/unit-testing.html" rel="noopener ugc nofollow" target="_blank">require rackunit</a>)</span></pre><p id="3e34" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">至于逻辑，由于圆的面积由pi(r)给出，所以当r=1时，面积为~3.14，当r = 2时，面积= ~12.56。在下面的代码中，如果我们继续使用球拍，我们可以使用check-=而不是check-within来测试我们的圆面积函数。</p><pre class="kp kq kr ks gt ot ou ov ow aw ox bi"><span id="9383" class="ns lg it ou b gy oy oz l pa pb"><strong class="ou iu">; simple function to calc circle area</strong><br/>(define (circle-area r)<br/>  (* pi (sqr r)))</span><span id="5852" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; tests run silent,<br/>; if tests pass; nothing<br/>; if error; error messages</strong></span><span id="1f66" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; check-= instead of check-within</strong></span><span id="466a" class="ns lg it ou b gy pc oz l pa pb">(check-= (circle-area 1) 3.141 0.001)<br/>(check-= (circle-area 2) 12.566 0.001)</span></pre><p id="3071" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当我们使用上面的<strong class="js iu"> check-= </strong>来确保我们的函数按预期工作时，我们可以编写一个契约来确保函数获得适当的数据。之前在BSL和ISL中，我们可能会编写注释来解释契约，如下所示。</p><pre class="kp kq kr ks gt ot ou ov ow aw ox bi"><span id="6a23" class="ns lg it ou b gy oy oz l pa pb"><strong class="ou iu">; Example of a contract in BSL or ISL<br/>; circle-area()<br/>; [number] -&gt; number</strong></span><span id="3b5e" class="ns lg it ou b gy pc oz l pa pb">(define (circle-area r)<br/>  (* pi (sqr r)))</span></pre><p id="b433" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在球拍中，我们可以强制执行合同以确保<strong class="js iu">圆面积</strong>只消耗一个数值。</p><pre class="kp kq kr ks gt ot ou ov ow aw ox bi"><span id="85cb" class="ns lg it ou b gy oy oz l pa pb"><strong class="ou iu">; Example of a contract in Racket</strong></span><span id="7065" class="ns lg it ou b gy pc oz l pa pb">(provide (contract-out<br/>          [circle-area (-&gt; number? any)]))</span><span id="6cef" class="ns lg it ou b gy pc oz l pa pb">(define (circle-area r)<br/>  (* pi (sqr r)))</span><span id="8826" class="ns lg it ou b gy pc oz l pa pb"><strong class="ou iu">; if we provide a string as "3", then contract violation</strong></span><span id="38d4" class="ns lg it ou b gy pc oz l pa pb">(circle-area "3")</span><span id="70b7" class="ns lg it ou b gy pc oz l pa pb">; &gt; sqr: contract violation<br/>; &gt; expected: number?<br/>; &gt; given: "3"</span></pre><p id="ed06" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于IDE上的上下文，上面的代码如下面的DrRacket屏幕截图所示。在这里，您可以看到从契约到功能和测试的链接用箭头和圆圈突出显示。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pn"><img src="../Images/21932eb9db9ab91e5a129ff303c56452.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5T7UGXxXcn9oqLAoyh23pw.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">带有来自协定的错误消息的结果。</figcaption></figure><h2 id="d1df" class="ns lg it bd lh nt nu dn ll nv nw dp lp kb nx ny lt kf nz oa lx kj ob oc mb od bi translated">球拍摘要</h2><p id="0c6f" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">球拍是一门专业的编程语言，超出了BSL和ISL的教学范围。然而，由于DrRacket提供了用多种语言编码的能力，学生们有时会将Racket与BSL混淆。我就是这样一个学生，当我无意中接触到球拍时，我会在困惑中度过几个小时；然而，幸运的是，我在这个过程中学到了一些东西。我希望这篇关于back入门的文章有助于引导你回到BSL或ISL，同时也能激发你对主要back语言的好奇心。</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi po"><img src="../Images/d310da3cce394ac5b85d52c36a485b9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*F5hz8z5Ba9dLms1v"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">凯利·西克玛在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h1 id="762f" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">结论</h1><p id="2596" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">我用DrRacket学到了很多编程知识，也犯了很多错误。然而，我经历了一些不必要的痛苦，因为我不知道BSL和ISL的生活会是什么样子。</p><p id="372c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这个故事中，我分享了我作为一名在BSL、ISL和ISL+工作的学生的笔记摘录，希望其他学生可以一开始就解决DrRacket。</p><p id="e1f5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当与<a class="ae le" href="https://htdp.org/" rel="noopener ugc nofollow" target="_blank"> HTDP </a>结合使用时，DrRacket是学习基础编程和递归、lambdas等概念的绝佳工具。此外，学生应该意识到BSL和ISL不同于球拍，球拍是一个完整的专业编程语言。</p><p id="d80a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">尽管看不起BSL或ISL很有诱惑力，但初学者可以学到很多关于软件开发中程序设计和构建技能的知识。</p><p id="3bcb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果我能改进本指南或回答任何关于学习BSL或ISL的问题，请发表评论！谢谢！</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="a24a" class="lf lg it bd lh li om lk ll lm on lo lp lq oo ls lt lu op lw lx ly oq ma mb mc bi translated">对于进一步的阅读，你可能会感兴趣</h1><div class="nf ng gp gr nh ni"><a href="https://beautifulracket.com/" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd iu gy z fp nn fr fs no fu fw is bi translated">马修·巴特里克漂亮的球拍</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">Matthew Butt erick版介绍使用球拍的面向语言的程序ming</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">beautifulracket.com</p></div></div></div></a></div><div class="nf ng gp gr nh ni"><a href="https://medium.com/free-code-camp/learning-the-fundamentals-of-functional-programming-425c9fd901c6" rel="noopener follow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd iu gy z fp nn fr fs no fu fw is bi translated">学习函数式编程的基础</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">如果你是一名软件开发人员，你可能已经注意到一个增长的趋势:软件应用程序越来越多…</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">medium.com</p></div></div><div class="oe l"><div class="pp l og oh oi oe oj ky ni"/></div></div></a></div><div class="nf ng gp gr nh ni"><a href="https://medium.com/javascript-scene/the-rise-and-fall-and-rise-of-functional-programming-composable-software-c2d91b424c8c" rel="noopener follow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd iu gy z fp nn fr fs no fu fw is bi translated">函数式编程(组合软件)的兴衰与崛起</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">注:这是“作曲软件”系列的一部分(现在是一本书！)关于学习函数式编程和…</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">medium.com</p></div></div><div class="oe l"><div class="pq l og oh oi oe oj ky ni"/></div></div></a></div><div class="nf ng gp gr nh ni"><a href="https://medium.com/@mvaldesdeleon/advent-of-haskell-950d6408a729" rel="noopener follow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd iu gy z fp nn fr fs no fu fw is bi translated">Haskell的出现</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">连续25天坚持使用Haskell后的思考和经验教训</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">medium.com</p></div></div><div class="oe l"><div class="pr l og oh oi oe oj ky ni"/></div></div></a></div></div></div>    
</body>
</html>