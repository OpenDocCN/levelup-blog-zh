<html>
<head>
<title>Loan Data Analysis and Payoff Prediction</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">贷款数据分析和还款预测</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/loan-data-analysis-and-payoff-prediction-c77626697129?source=collection_archive---------2-----------------------#2021-09-10">https://levelup.gitconnected.com/loan-data-analysis-and-payoff-prediction-c77626697129?source=collection_archive---------2-----------------------#2021-09-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/05dab15853a49a602f0bfa2aca1f974d.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*ffJT-LnlktMLq4kL0t2Epg.png"/></div></figure><h1 id="253e" class="ju jv iq bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">介绍</h1><p id="869f" class="pw-post-body-paragraph ks kt iq ku b kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">谁没申请过贷款？我可以正确地假设，只有少数幸运儿从未申请过。对于我们其他人来说，有很多选择，从教育，债务合并，抵押贷款，个人，商业等。提供贷款服务的公司在批准贷款申请时承担了风险，因为获得贷款的个人/企业可能永远不会全额偿还贷款。为了最大限度地降低风险，公司根据申请人的信用记录、收入、信用利用等情况有选择地批准贷款。</p><h1 id="1e77" class="ju jv iq bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">项目概述</h1><p id="2178" class="pw-post-body-paragraph ks kt iq ku b kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">Lending Club把需要钱的人(借款人)和有钱的人(投资人)联系起来。作为一名投资者，希望你能投资于那些表现出很有可能回报你的人。我在这个由两部分组成的项目中使用了来自lendingclub.com的公开数据</p><ul class=""><li id="2dfc" class="lq lr iq ku b kv ls kz lt ld lu lh lv ll lw lp lx ly lz ma bi translated">第一部分:使用探索性数据分析从贷款数据中获得洞察力，并建立一个机器学习模型来预测贷款是否会全额支付</li><li id="0fa9" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">第二部分:使用Flask构建web应用程序。你可以在一个表单中输入所有数据元素，应用程序将利用ML模型来预测贷款是否会全额支付</li></ul><h1 id="ee3b" class="ju jv iq bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">数据清理/预处理</h1><p id="3eb4" class="pw-post-body-paragraph ks kt iq ku b kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">数据集以csv文件的形式提供，有14列。</p><ul class=""><li id="bd7f" class="lq lr iq ku b kv ls kz lt ld lu lh lv ll lw lp lx ly lz ma bi translated">credit.policy:如果客户符合LendingClub.com的信用核保标准，则为1，否则为0</li><li id="7c34" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">目的:贷款的目的(取值“信用卡”、“债务合并”、“教育”、“大宗采购”、“小企业”和“所有_其他”)</li><li id="ade7" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">int.rate:贷款的利率，以比例表示(11%的利率将存储为0.11)。被LendingClub.com判断为风险更高的借款人会被分配更高的利率</li><li id="1b95" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">分期付款:借款人所欠的每月分期付款，如果贷款是有资金的。</li><li id="4004" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">log.annual.inc:借款人自报年收入的自然日志</li><li id="bb14" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">dti:借款人的债务收入比(债务额除以年收入)</li><li id="caee" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">fico:借款人的FICO信用评分</li><li id="4fb8" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">days.with.cr.line:借款人拥有信用额度的天数</li><li id="2934" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">revol.bal:借款人的循环余额(信用卡账单周期结束时未支付的金额)。</li><li id="68e4" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">循环利用率:借款人的循环额度利用率(相对于可用信贷总额的已用信贷额度)</li><li id="6368" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">inq.last.6mths:过去6个月中债权人对借款人的查询次数</li><li id="fb5c" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">拖欠2年:在过去的2年中，借款人拖欠还款超过30天的次数</li><li id="7f45" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">pub.rec:借款人的贬损公共记录数量(破产申请、税收留置权或判决)</li><li id="c7ca" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">未全额支付:如果未全额支付，则为1，否则为0</li></ul><p id="1a79" class="pw-post-body-paragraph ks kt iq ku b kv ls kx ky kz lt lb lc ld mg lf lg lh mh lj lk ll mi ln lo lp ij bi translated">幸运的是，数据集非常干净，有9，578个观察值，没有缺失值。也许，数据集在公开之前就被清理了。</p><h1 id="5931" class="ju jv iq bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">探索性数据分析</h1><blockquote class="mj mk ml"><p id="4d2e" class="ks kt mm ku b kv ls kx ky kz lt lb lc mn mg lf lg mo mh lj lk mp mi ln lo lp ij bi translated"><strong class="ku ir">利用lendingclub平台进行不同的贷款用途:</strong></p></blockquote><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi mq"><img src="../Images/e1b22365635be4dada63f9a28f7c6d91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xf4nf1Y7Ys27Jek-8ZEA3A.png"/></div></div></figure><ul class=""><li id="45d9" class="lq lr iq ku b kv ls kz lt ld lu lh lv ll lw lp lx ly lz ma bi translated">债务合并贷款在lendingtree批准的贷款中占最大份额(41%)</li><li id="a91b" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">教育贷款在批准的贷款中所占份额最小(4%)</li></ul><blockquote class="mj mk ml"><p id="389a" class="ks kt mm ku b kv ls kx ky kz lt lb lc mn mg lf lg mo mh lj lk mp mi ln lo lp ij bi translated"><strong class="ku ir">已还/未还贷款跨用途分布:</strong></p></blockquote><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi mq"><img src="../Images/3a2961ffb12fe0354f470ee112d92d7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NB-BQP-tZHCQNXN4wGfmtw.png"/></div></div></figure><ul class=""><li id="ed52" class="lq lr iq ku b kv ls kz lt ld lu lh lv ll lw lp lx ly lz ma bi translated">小企业贷款的未完全偿还贷款比例最高，为28%</li><li id="7721" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">主要购买的未完全支付贷款比例最低，为11%</li></ul><blockquote class="mj mk ml"><p id="8712" class="ks kt mm ku b kv ls kx ky kz lt lb lc mn mg lf lg mo mh lj lk mp mi ln lo lp ij bi translated"><strong class="ku ir">已还贷款和未还贷款的数字特征分布:</strong></p></blockquote><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi mz"><img src="../Images/56c9a090d5d6a6c33aa2d3349ec835dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C_mwd9nBUmDPjkRbu6Gqfw.png"/></div></div></figure><ul class=""><li id="3924" class="lq lr iq ku b kv ls kz lt ld lu lh lv ll lw lp lx ly lz ma bi translated">我们看到全额贷款支付与轻微的</li></ul><ol class=""><li id="3ae0" class="lq lr iq ku b kv ls kz lt ld lu lh lv ll lw lp na ly lz ma bi translated">较低的利率</li><li id="7a73" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp na ly lz ma bi translated">更高的FICO信用评分</li><li id="7113" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp na ly lz ma bi translated">降低信用额度利用率</li><li id="2f53" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp na ly lz ma bi translated">较低的债务收入比</li></ol><ul class=""><li id="f7f0" class="lq lr iq ku b kv ls kz lt ld lu lh lv ll lw lp lx ly lz ma bi translated">值得注意的是，对于未全额支付的贷款，上述特征的中间值没有太大的差异</li><li id="9996" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">我们看到相当多的异常值与大多数特性相关联。当我们在建模过程中规范化我们的训练数据时，我们会注意到它们</li><li id="cba5" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">这些箱线图显示，已付贷款和未付贷款的特征中值非常接近。我还尝试了直方图，看看它们是否揭示了什么新的东西</li></ul><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi nb"><img src="../Images/c939cb13c096339c0c4e813c531fda1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qt5XqCkCDv67gSO3Tshyew.png"/></div></div></figure><ul class=""><li id="a137" class="lq lr iq ku b kv ls kz lt ld lu lh lv ll lw lp lx ly lz ma bi translated">支付和未支付贷款的特征分布非常相似。看看一个模型如何处理这个数据集会很有趣</li></ul><blockquote class="mj mk ml"><p id="26fa" class="ks kt mm ku b kv ls kx ky kz lt lb lc mn mg lf lg mo mh lj lk mp mi ln lo lp ij bi translated"><strong class="ku ir">未达到承销标准的贷款:</strong></p></blockquote><p id="2e17" class="pw-post-body-paragraph ks kt iq ku b kv ls kx ky kz lt lb lc ld mg lf lg lh mh lj lk ll mi ln lo lp ij bi translated">我们有1，868笔贷款申请人不符合承销标准，但它们仍被批准。如果这些贷款中有很大一部分没有全额偿还，这将是一件有趣的事情。</p><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi mq"><img src="../Images/e3c5739a75d40fee2ff8deecbdf86a31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lb5dpBQuTSH4zoRkp97nxw.png"/></div></div></figure><p id="8c9b" class="pw-post-body-paragraph ks kt iq ku b kv ls kx ky kz lt lb lc ld mg lf lg lh mh lj lk ll mi ln lo lp ij bi translated">信贷承销标准在这方面似乎没有太大的不同。88%的贷款在符合信贷标准时支付，83%的贷款在不符合标准时支付。仅仅5%的差别。我们没有贷款金额，但我们有分期付款金额。当不符合信用标准时，我们可能需要检查已批准贷款的分期付款金额是否较低。</p><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi mq"><img src="../Images/24abd26737b10317f38ea78270142e2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*prmZu9e6BkPFv2xOZSi_DA.png"/></div></div></figure><p id="8e0d" class="pw-post-body-paragraph ks kt iq ku b kv ls kx ky kz lt lb lc ld mg lf lg lh mh lj lk ll mi ln lo lp ij bi translated">不符合信贷标准的申请人的分期付款中值比符合标准的申请人低约14%。分期付款金额可能会更低或更高，这取决于贷款的长度和金额，但我们没有这方面的信息。</p><blockquote class="mj mk ml"><p id="7c0f" class="ks kt mm ku b kv ls kx ky kz lt lb lc mn mg lf lg mo mh lj lk mp mi ln lo lp ij bi translated">利率是否因贷款目的而异？</p></blockquote><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi nc"><img src="../Images/9fb367fe5a4c6f2ef00ecb12c445bb5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KSOYzpP5AXHOiN6AuYY61w.png"/></div></div></figure><p id="c0ae" class="pw-post-body-paragraph ks kt iq ku b kv ls kx ky kz lt lb lc ld mg lf lg lh mh lj lk ll mi ln lo lp ij bi translated">lendingtree的利率似乎高于标准市场利率，并且不会因贷款目的而有太大变化。小企业贷款的利率最高，为13.79%，主要购买贷款的利率最低，为11.58%</p><blockquote class="mj mk ml"><p id="4020" class="ks kt mm ku b kv ls kx ky kz lt lb lc mn mg lf lg mo mh lj lk mp mi ln lo lp ij bi translated"><strong class="ku ir">特征之间有关联吗？</strong></p></blockquote><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi nd"><img src="../Images/15ad85853c173b5bf060e908738e74db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eYAt58zsKWQk6VxHH1xMAw.png"/></div></div></figure><p id="7547" class="pw-post-body-paragraph ks kt iq ku b kv ls kx ky kz lt lb lc ld mg lf lg lh mh lj lk ll mi ln lo lp ij bi translated">利率和fico分数显示最高的相关性(-ve)为-0.71，这意味着Fico分数高的客户贷款利率较低。利率也与循环信贷额度利用率正相关。利用率高意味着利率高。其他一些特征也显示了一些相关性:</p><p id="0f2b" class="pw-post-body-paragraph ks kt iq ku b kv ls kx ky kz lt lb lc ld mg lf lg lh mh lj lk ll mi ln lo lp ij bi translated">1.最近6个月内的查询与符合信贷核保标准的客户呈负相关(-0.54)，即查询次数越少，符合信贷标准的机会越高</p><p id="d80b" class="pw-post-body-paragraph ks kt iq ku b kv ls kx ky kz lt lb lc ld mg lf lg lh mh lj lk ll mi ln lo lp ij bi translated">2.循环利用率和FICO得分呈负相关(-0.54)，即低信用利用率导致较高的FICO得分</p><h2 id="3026" class="ne jv iq bd jw nf ng dn ka nh ni dp ke ld nj nk ki lh nl nm km ll nn no kq np bi translated">EDA摘要:</h2><p id="c715" class="pw-post-body-paragraph ks kt iq ku b kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">以下是来自贷款数据的一些见解</p><ul class=""><li id="0d6f" class="lq lr iq ku b kv ls kz lt ld lu lh lv ll lw lp lx ly lz ma bi translated">债务合并贷款在lendingtree批准的贷款中占最大份额(41%)</li><li id="301d" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">教育贷款在批准的贷款中所占份额最小(4%)</li><li id="4aee" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">小企业贷款的未完全偿还贷款比例最高，为28%</li><li id="7403" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">主要购买的未完全支付贷款比例最低，为11%</li><li id="5fc6" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">与已支付贷款相比，未完全支付贷款的利率略高，FICO评分较低，信贷额度利用率较高，债务收入比较高。然而，在有薪和无薪人群中，中间值相差不大。</li><li id="92d2" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">9578笔贷款中有19.5% (1868笔)是为不符合公司信贷承销标准的客户批准的。符合信贷承销标准的申请人获得批准的贷款中，88%已全部还清，而不符合信贷承销标准的申请人获得的贷款中，83%已全部还清。</li><li id="10fa" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">不符合信用标准的客户的分期付款金额中位数比符合标准的客户低约14%。分期付款金额可能会更低或更高，这取决于贷款的期限和金额，但我们没有这方面的信息</li><li id="b852" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">小企业贷款的利率中位数最高，为0.1379</li><li id="037a" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">主要购买贷款的利率最低，为0.1158</li></ul><h1 id="e6ce" class="ju jv iq bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">监督学习模型:</h1><p id="7f4c" class="pw-post-body-paragraph ks kt iq ku b kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">项目的这一部分涉及建立一个机器学习模型，使用早期用于探索性数据分析的相同数据集来预测贷款是否会全额支付。</p><p id="ef18" class="pw-post-body-paragraph ks kt iq ku b kv ls kx ky kz lt lb lc ld mg lf lg lh mh lj lk ll mi ln lo lp ij bi translated">我们的数据集包含9，578个观察值和14列。其中13列是特征，最后一列“未全额支付”是响应变量。</p><h2 id="b725" class="ne jv iq bd jw nf ng dn ka nh ni dp ke ld nj nk ki lh nl nm km ll nn no kq np bi translated">绩效指标选择:</h2><p id="f88f" class="pw-post-body-paragraph ks kt iq ku b kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">我有一个不平衡的数据集。84%的贷款已全部偿还，16%的贷款未全部偿还。很容易建立一个模型，该模型总是预测贷款将被全额支付，并且它在84%的时间内仍然是正确的，即84%的准确性。准确性不是这里使用的正确指标，因为我希望能够正确预测贷款何时会全额支付，何时不会全额支付。我有几个选择</p><ul class=""><li id="b577" class="lq lr iq ku b kv ls kz lt ld lu lh lv ll lw lp lx ly lz ma bi translated">在分割训练和测试数据后，我可以对代表性不足的类别进行过采样，即在我们的案例中未完全支付的贷款，以获得平衡的数据集</li><li id="29a2" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">另一种选择是使用AUC(曲线下面积)作为模型性能的度量</li></ul><p id="a727" class="pw-post-body-paragraph ks kt iq ku b kv ls kx ky kz lt lb lc ld mg lf lg lh mh lj lk ll mi ln lo lp ij bi translated">我为我的模型选择AUC，因为它使我们能够灵活地选择分类的概率阈值。以下是与AUC相关的一些定义</p><ul class=""><li id="5404" class="lq lr iq ku b kv ls kz lt ld lu lh lv ll lw lp lx ly lz ma bi translated">FP:假阳性-&gt;模型错误地预测申请人不会还清贷款</li><li id="61be" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">FN:假阴性-&gt;模型错误地预测申请人将还清贷款</li></ul><p id="2719" class="pw-post-body-paragraph ks kt iq ku b kv ls kx ky kz lt lb lc ld mg lf lg lh mh lj lk ll mi ln lo lp ij bi translated">如果您宁愿有假阳性或假阴性，则需要一些业务输入/知识来做出决定。两者都有经济后果:</p><ul class=""><li id="a4f5" class="lq lr iq ku b kv ls kz lt ld lu lh lv ll lw lp lx ly lz ma bi translated">假阳性，你会错过从这些贷款赚取的利息，如果你不批准，担心贷款不会还清</li><li id="c2ad" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">假阴性，你可能会失去贷款金额，因为申请人不会还清贷款</li></ul><h2 id="0be1" class="ne jv iq bd jw nf ng dn ka nh ni dp ke ld nj nk ki lh nl nm km ll nn no kq np bi translated">培训用数据</h2><p id="8c0e" class="pw-post-body-paragraph ks kt iq ku b kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">我将80%的数据用于训练，其余的用于测试。测试数据应该放在一边，直到模型准备好进行测试。训练和测试数据之间的数据泄漏会导致测试分数被夸大。</p><p id="db2c" class="pw-post-body-paragraph ks kt iq ku b kv ls kx ky kz lt lb lc ld mg lf lg lh mh lj lk ll mi ln lo lp ij bi translated">因为我还打算创建一个web应用程序，所以创建一个管道来接收原始数据，进行所有必要的处理，并将最终预测作为输出给我，这一点对我来说很重要。</p><p id="27a0" class="pw-post-body-paragraph ks kt iq ku b kv ls kx ky kz lt lb lc ld mg lf lg lh mh lj lk ll mi ln lo lp ij bi translated">在13个特征中，只有一个(目的)是对象类型(字符串),其他的是数字。字符串不能在模型中使用，我需要使用OneHotEncoder或Pandas的get_dummies将它们转换为数字特征。我打算用sklearn做模型，所以我选择了OneHotEncoder而不是熊猫。为了在模型中给每个数字特征一个平等的机会，标准化数据是很重要的。</p><p id="49f1" class="pw-post-body-paragraph ks kt iq ku b kv ls kx ky kz lt lb lc ld mg lf lg lh mh lj lk ll mi ln lo lp ij bi translated">我通过扩展sklearn的BaseEstimator和TransformerMixing类创建了两个自定义类，以分离出数据集的数字和分类(字符串)特征。这允许我标准化数字特征，并在单独的并行管道中将分类特征转换成数字特征，然后使用FeatureUnion将它们组合起来。我向这个管道添加了另一个带有分类器的管道，以创建一个管道，我可以用它来训练我的模型并预测测试数据的结果。</p><p id="a049" class="pw-post-body-paragraph ks kt iq ku b kv ls kx ky kz lt lb lc ld mg lf lg lh mh lj lk ll mi ln lo lp ij bi translated">我为我的模型考虑了以下内容:</p><ul class=""><li id="0941" class="lq lr iq ku b kv ls kz lt ld lu lh lv ll lw lp lx ly lz ma bi translated">随机森林分类器</li><li id="e992" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">KNeighborClassifier</li><li id="7c8e" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">SGD分类器</li><li id="1e34" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">GardientBoostingClassifier分类器</li><li id="d3c8" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">物流回收</li><li id="eb23" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">XGBClassifier</li></ul><p id="d3d0" class="pw-post-body-paragraph ks kt iq ku b kv ls kx ky kz lt lb lc ld mg lf lg lh mh lj lk ll mi ln lo lp ij bi translated">以下是使用GridSearchCV的测试分数(AUC ),带有三重交叉验证和每个分类器的一些超参数调整</p><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi nq"><img src="../Images/ad247e944768f4884d6b9e36c55557c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vTqbJhMEnvUcyevgPf0Skg.png"/></div></div></figure><ul class=""><li id="438b" class="lq lr iq ku b kv ls kz lt ld lu lh lv ll lw lp lx ly lz ma bi translated">所有模型的表现几乎一样</li><li id="354e" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">物流回归分类导致最高的AUC分数为0.69</li><li id="e03b" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">介于0.6和0.7之间的AUC分数通常被认为是一般分数，而高于0.9的AUC被认为是优秀</li><li id="9ada" class="lq lr iq ku b kv mb kz mc ld md lh me ll mf lp lx ly lz ma bi translated">我们可以将LogisticRegressionClassifier保存为pickled文件，并在web应用程序中用于预测</li></ul><p id="acf6" class="pw-post-body-paragraph ks kt iq ku b kv ls kx ky kz lt lb lc ld mg lf lg lh mh lj lk ll mi ln lo lp ij bi translated">要查看这个分析和模型构建的代码，请查看我的GitHub库<a class="ae nr" href="https://github.com/sumitkumar-00/loan-payoff-predictor" rel="noopener ugc nofollow" target="_blank">这里</a></p><h2 id="e340" class="ne jv iq bd jw nf ng dn ka nh ni dp ke ld nj nk ki lh nl nm km ll nn no kq np bi translated">后续步骤:</h2><p id="189b" class="pw-post-body-paragraph ks kt iq ku b kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">在这个项目的第二部分，我将创建一个web应用程序，利用这个机器学习模型来预测贷款是否会全额支付。敬请期待！</p></div></div>    
</body>
</html>