<html>
<head>
<title>VS Code’s Most Useful Snippet Variable</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">VS代码中最有用的片段变量</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/vs-codes-most-useful-snippet-variable-788827d287f?source=collection_archive---------19-----------------------#2021-12-19">https://levelup.gitconnected.com/vs-codes-most-useful-snippet-variable-788827d287f?source=collection_archive---------19-----------------------#2021-12-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9552" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">学习在代码片段中使用当前选定的文本</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b5b38b2e97dcde4fb32fe361a8809dae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oqaWzoCePlRPaGqOWcLwaA.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">奥斯卡·王尔德的“什么是愤世嫉俗者”片段</figcaption></figure><p id="75ff" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">当你写VS代码片段时，不要忽略<code class="fe lr ls lt lu b">$TM_SELECTED_TEXT</code>变量。有了它，每当您调用代码片段时，您当前选择的任何文本都会被放入该变量中。</p><h1 id="e688" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">用例</h1><p id="7b1a" class="pw-post-body-paragraph kv kw iq kx b ky mn jr la lb mo ju ld le mp lg lh li mq lk ll lm mr lo lp lq ij bi translated">最近我写了很多TypeScript，如果我不指定返回类型，linter会让我很恼火。当我写一个异步函数时，我经常忘记我必须返回一个形式为<code class="fe lr ls lt lu b">Promise&lt;&gt;</code>的promise泛型，我输入了我返回的对象的接口名。</p><p id="7261" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><code class="fe lr ls lt lu b">async function getBoardItemResponse(): BoardItemResponse {</code></p><p id="d2ae" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">最初的几次我犯了这个错误，回去纠正它</p><p id="c3a4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><code class="fe lr ls lt lu b">async function getBoardItemResponse(): <strong class="kx ir">Promise&lt;</strong>BoardItemResponse<strong class="kx ir">&gt;</strong> {</code></p><p id="b0f8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">还不算太糟。但是大约在我第1000次犯这个错误的时候，是时候保存一些击键了，产生了这个片段:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ms"><img src="../Images/92eb764fa972106fed11b237cac7185b.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/format:webp/1*RHXz2wbaJw6MWNX2oUDh8w.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">制作许诺对象的片段</figcaption></figure><p id="8db3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在我双击<code class="fe lr ls lt lu b">BoardItemResponse</code>，输入字母<code class="fe lr ls lt lu b">p</code>，我选择的代码消失了，我看到下面的下拉菜单</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/3b6235913befda741f35974a72611ddc.png" data-original-src="https://miro.medium.com/v2/resize:fit:868/format:webp/1*E1ZquVcy4Fo7gEszSBOUBw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">下拉自动完成列表</figcaption></figure><p id="3a72" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">按下回车键后，我的短信被承诺包围了。我真希望我至少在500个错误之前就写好了。它仍然几乎每天都在使用。有些程序员从不学习。</p><h1 id="e089" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">再举一个例子</h1><p id="deb1" class="pw-post-body-paragraph kv kw iq kx b ky mn jr la lb mo ju ld le mp lg lh li mq lk ll lm mr lo lp lq ij bi translated">我使用一种宽容的测井工具。我几乎可以传递任何东西给它，它会在日志中输出一些有意义的东西。但是，如果我在传递的对象的一个<code class="fe lr ls lt lu b">msg</code>属性中指定我想要显示的文本，我可以减少日志中多余的噪声。下面的代码片段允许我选择原始文本参数并键入<code class="fe lr ls lt lu b">msg</code>，然后快速清理几十条日志消息。我不确定我做代码审查的队友是否欣赏这一点，但我很高兴。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/4cfbd8f738006c9e644e6d0cd8d08487.png" data-original-src="https://miro.medium.com/v2/resize:fit:782/format:webp/1*P_ZvwfmcgDZBxw6fh9PoTQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">将选定的文本放入对象的属性中</figcaption></figure><h1 id="4f8b" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">离开的小费</h1><p id="a46e" class="pw-post-body-paragraph kv kw iq kx b ky mn jr la lb mo ju ld le mp lg lh li mq lk ll lm mr lo lp lq ij bi translated">我过去常常把我的建议放在特定语言的文件中。在某个时候，我注意到当我使用<code class="fe lr ls lt lu b">Command Palette</code>，键入<code class="fe lr ls lt lu b">snip</code>，并选择<code class="fe lr ls lt lu b">Preferences: Configure User Snippets</code>时，有一个<code class="fe lr ls lt lu b">New Global Snippets file…</code>的选项</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/177f79ea81031e254b9c28172059af3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/1*3vwX-3wEKevwQ4ZufApRng.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">新的全局代码片段文件…选项</figcaption></figure><p id="eda5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在任何对类似文件使用多种扩展名的语言中，比如<code class="fe lr ls lt lu b">.js, .ts, .tsx</code>——我发现把我的省时器藏在一个全局snippets文件中是更好的选择。</p></div><div class="ab cl mw mx hu my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="ij ik il im in"><p id="1001" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">你可以阅读更多我的<a class="ae nd" href="https://gentille.us/visual-studio-code-articles-8250ada42f2?sk=c0cfa155220a13855ce6ea72514c7a88" rel="noopener ugc nofollow" target="_blank"> Visual Studio代码文章</a> <br/>代码平平安安。</p></div></div>    
</body>
</html>