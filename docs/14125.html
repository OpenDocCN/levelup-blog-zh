<html>
<head>
<title>INTERSECT and EXCEPT commands in MySQL</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">MySQL中的相交和例外命令</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/intersect-and-except-commands-in-mysql-2c465b7a1aa9?source=collection_archive---------14-----------------------#2022-11-02">https://levelup.gitconnected.com/intersect-and-except-commands-in-mysql-2c465b7a1aa9?source=collection_archive---------14-----------------------#2022-11-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="6c3d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">MySQL现在支持<code class="fe ko kp kq kr b">INTERSECT</code>和<code class="fe ko kp kq kr b">EXCEPT</code>集合操作符。集合运算符对多个<code class="fe ko kp kq kr b">SELECT</code>语句的结果进行运算。在本帖中，为了更好地理解，我们将看到使用<code class="fe ko kp kq kr b">INTERSECT</code>和<code class="fe ko kp kq kr b">EXCEPT</code>命令的示例查询</p></div><div class="ab cl ks kt hx ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="im in io ip iq"><p id="b16f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当你<a class="ae la" href="http://openlamptech.substack.com" rel="noopener ugc nofollow" target="_blank">订阅<strong class="js iu"> <em class="kz"> OpenLampTech </em> </strong>时事通讯</a>时，收到一本我的电子书<em class="kz">《给每个人的10个MySQL技巧】</em>。</p></div><div class="ab cl ks kt hx ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="im in io ip iq"><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lb"><img src="../Images/834e4011fd69433c8eb82c089e875ee2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*dVhmq4kGW4cGhEv5.png"/></div></div></figure><p id="40f8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">虽然MySQL支持<code class="fe ko kp kq kr b">UNION</code>和<code class="fe ko kp kq kr b">UNION ALL</code>命令，但该语言中没有<code class="fe ko kp kq kr b">INTERSECT</code>或<code class="fe ko kp kq kr b">EXCEPT</code>命令。这通常涉及到变通的查询。然而，MySQL现在支持<code class="fe ko kp kq kr b">INTERCEPT</code>和<code class="fe ko kp kq kr b">EXCEPT</code>集合操作符。</p><p id="9389" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于示例查询，我使用两个包含任意数据的简单表。</p><p id="6fb8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">名称表:</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi ln"><img src="../Images/01d6ef9a99b8aa15e5dd61ea01dc7816.png" data-original-src="https://miro.medium.com/v2/resize:fit:492/0*x-203c5xbPRx191b"/></div></figure><p id="a4fc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">和更多名称表:</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi lo"><img src="../Images/62ed2f44de0863337259a045dddb5c38.png" data-original-src="https://miro.medium.com/v2/resize:fit:450/0*eOKwlN-2HTAZCPGC"/></div></figure><h2 id="657e" class="lp lq it bd lr ls lt dn lu lv lw dp lx kb ly lz ma kf mb mc md kj me mf mg mh bi translated">MySQL INTERSECT</h2><p id="0d3e" class="pw-post-body-paragraph jq jr it js b jt mi jv jw jx mj jz ka kb mk kd ke kf ml kh ki kj mm kl km kn im bi translated"><code class="fe ko kp kq kr b">INTERSECT</code>返回所有相关<code class="fe ko kp kq kr b">SELECT</code>语句共有的那些行。</p><pre class="lc ld le lf gt mn kr mo mp aw mq bi"><span id="4f7b" class="lp lq it kr b gy mr ms l mt mu">SELECT * FROM more_names<br/>INTERSECT<br/>SELECT * FROM names;</span></pre><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/1bd681e4c05b59aea2ff9c7d03603fe4.png" data-original-src="https://miro.medium.com/v2/resize:fit:468/0*9SXNxFilP9b21vJl"/></div></figure><h2 id="37f6" class="lp lq it bd lr ls lt dn lu lv lw dp lx kb ly lz ma kf mb mc md kj me mf mg mh bi translated">MySQL除外</h2><p id="a229" class="pw-post-body-paragraph jq jr it js b jt mi jv jw jx mj jz ka kb mk kd ke kf ml kh ki kj mm kl km kn im bi translated"><code class="fe ko kp kq kr b">EXCEPT</code>仅返回第<strong class="js iu">条第一</strong>条<code class="fe ko kp kq kr b">SELECT</code>条语句中的那些行，这些行在第二<code class="fe ko kp kq kr b">SELECT</code>条语句中找不到:</p><pre class="lc ld le lf gt mn kr mo mp aw mq bi"><span id="0ff7" class="lp lq it kr b gy mr ms l mt mu">SELECT * FROM more_names<br/>EXCEPT<br/>SELECT * FROM names;</span></pre><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/4c05429cde2fe9a733200f9f829466b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:466/0*mdl5Xkc6uk3UL9He"/></div></figure><p id="d480" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">因此，完全有可能根据<code class="fe ko kp kq kr b">EXCEPT</code>语句中第一个<code class="fe ko kp kq kr b">SELECT</code>查询返回不同的结果:</p><pre class="lc ld le lf gt mn kr mo mp aw mq bi"><span id="b8b1" class="lp lq it kr b gy mr ms l mt mu">SELECT * FROM names<br/>EXCEPT<br/>SELECT * FROM more_names;</span></pre><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/ebef3c90f2463717fdf4bf557be4b4d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:460/0*lTYdIFRX7ya5ZPcS"/></div></figure><p id="8405" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">更多信息请访问官方MySQL <a class="ae la" href="https://dev.mysql.com/doc/refman/8.0/en/intersect.html" rel="noopener ugc nofollow" target="_blank"> INTERSECT </a>和<a class="ae la" href="https://dev.mysql.com/doc/refman/8.0/en/except.html" rel="noopener ugc nofollow" target="_blank">除了</a>文档。</p><p id="5b96" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">感谢你阅读这篇文章。请与同样喜欢它的人分享。</p><p id="f253" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae la" href="https://ko-fi.com/joshlovescoffee" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">用一杯咖啡支持我的内容！</strong> </a></p></div><div class="ab cl ks kt hx ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="im in io ip iq"><p id="4a36" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">作为一名PHP开发人员、SQL专家和技术博客/作家，Josh Otwell有着成长的激情。</p><p id="b922" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">免责声明:本文中的大多数示例都是在个人发展/学习工作站环境中执行的，不应将<strong class="js iu"> <em class="kz">视为生产质量或就绪</em> </strong>。您的特定目标和需求可能会有所不同。像往常一样，<strong class="js iu">你能做某事并不意味着你应该做。我的观点是我自己的。</strong></p><p id="7f9b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="kz">我能帮助的更多方面</em> </strong></p><ul class=""><li id="aebd" class="my mz it js b jt ju jx jy kb na kf nb kj nc kn nd ne nf ng bi translated">开博客？我使用WordPress的<strong class="js iu"> <em class="kz">数字猫头鹰散文</em> </strong>博客。让我们都在提供的计划上省钱。</li><li id="d41f" class="my mz it js b jt nh jx ni kb nj kf nk kj nl kn nd ne nf ng bi translated">在<a class="ae la" href="http://openlamptech.substack.com/" rel="noopener ugc nofollow" target="_blank"><strong class="js iu"><em class="kz">OpenLampTech</em></strong>时事通讯</a>中投放价格合理的分类广告，让您的品牌、产品或服务得到应有的关注。</li><li id="49aa" class="my mz it js b jt nh jx ni kb nj kf nk kj nl kn nd ne nf ng bi translated">需要托管你的下一个网络应用程序或WordPress网站吗？我强烈推荐<a class="ae la" href="https://www.hostg.xyz/aff_c?offer_id=6&amp;aff_id=94641" rel="noopener ugc nofollow" target="_blank"> Hostinger </a>，用它们来托管<a class="ae la" href="http://louisianabassnation.com/" rel="noopener ugc nofollow" target="_blank">我的小众鲈鱼钓鱼网站</a>。该服务是首屈一指的，他们提供免费的SSL。</li><li id="c355" class="my mz it js b jt nh jx ni kb nj kf nk kj nl kn nd ne nf ng bi translated">作为一名自学成才的开发人员，我逐渐认识到的5个事实</li></ul><p id="b51f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="kz">披露</em> </strong>:本帖部分服务和产品链接为附属链接。在没有额外费用给你，你应该通过点击其中一个购买，我会收到佣金。</p></div><div class="ab cl ks kt hx ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="im in io ip iq"><p id="a085" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当你<a class="ae la" href="http://openlamptech.substack.com" rel="noopener ugc nofollow" target="_blank">订阅<strong class="js iu"><em class="kz">【OpenLampTech】</em></strong>时事通讯</a>时，收到一本我的电子书<em class="kz">《给每个人的10个MySQL技巧】</em><strong class="js iu"><em class="kz">绝对免费</em> </strong>。</p></div><div class="ab cl ks kt hx ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="im in io ip iq"><p id="511c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在<strong class="js iu"> <em class="kz"> OpenLampTech </em> </strong>时事通讯中，通过可承受的分类广告投放，让您的品牌、产品或服务获得其所需的关注度<a class="ae la" href="https://ko-fi.com/s/7dfe9ce108" rel="noopener ugc nofollow" target="_blank">。谢谢大家的支持！</a></p></div><div class="ab cl ks kt hx ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="im in io ip iq"><p id="9acc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="kz">最初发表于2022年11月2日</em><a class="ae la" href="https://joshuaotwell.com/intersect-and-except-commands-in-mysql/" rel="noopener ugc nofollow" target="_blank"><em class="kz">https://joshuaotwell.com</em></a><em class="kz">。</em></p></div></div>    
</body>
</html>