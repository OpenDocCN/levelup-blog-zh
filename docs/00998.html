<html>
<head>
<title>Deployment Automation Best Practices: When Should You Start to Automate?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">部署自动化最佳实践:您应该何时开始自动化？</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/deployment-automation-best-practices-when-should-you-start-to-automate-28b682cdd4e2?source=collection_archive---------1-----------------------#2019-10-10">https://levelup.gitconnected.com/deployment-automation-best-practices-when-should-you-start-to-automate-28b682cdd4e2?source=collection_archive---------1-----------------------#2019-10-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/1ea246b77622a443f89e02da36422c00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EldzMvkRwRL3gX1ST5Mftw.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">我应该“期待部署！”自动化部署？</figcaption></figure><div class=""/><p id="c5ae" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">一二十年前，it部门通常需要数年时间才能将生产就绪型软件推向市场。流行的软件开发生命周期模型，比如瀑布模型，是最流行的。但是几年后，这样的时间表是不可接受的。当软件处于开发阶段时，企业可能会在几个月内倒闭。</p><p id="bad2" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">敏捷如今非常流行，<a class="ae ld" href="https://en.wikipedia.org/wiki/DevOps" rel="noopener ugc nofollow" target="_blank"> DevOps </a>无处不在；毫无疑问，这是为当今世界构建软件的必由之路。然而，人们很容易被围绕着构建软件产品的新酷方式的讨论所淹没。许多企业在错误的时间以错误的方式进行自动化。虽然没有开始自动化部署过程的“最佳时间”,但是有一些要点可以提供帮助，您将在本文中了解它们。</p><h1 id="bc0c" class="le lf ji bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">了解部署自动化</h1><p id="1679" class="pw-post-body-paragraph kf kg ji kh b ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky mg la lb lc im bi translated">在开始讨论主要问题之前，您应该对部署自动化有一个很好的理解。如果没有牢固的基础知识，就很容易滥用这个过程。</p><p id="9264" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">简而言之，部署自动化的过程包括在提交代码变更和将更新的软件投入生产之间创建一个管道。</p><p id="9080" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">从其中一个开发人员推送代码的角度来看，应该有一个涉及以下内容的管道:</p><ul class=""><li id="f44b" class="mh mi ji kh b ki kj km kn kq mj ku mk ky ml lc mm mn mo mp bi translated"><strong class="kh jj">持续集成</strong>:将代码浸入到与目标环境相似的环境中</li><li id="d131" class="mh mi ji kh b ki mq km mr kq ms ku mt ky mu lc mm mn mo mp bi translated"><strong class="kh jj">持续测试</strong>:在那些环境中测试代码变化</li><li id="34f4" class="mh mi ji kh b ki mq km mr kq ms ku mt ky mu lc mm mn mo mp bi translated"><strong class="kh jj">连续交付</strong>:向客户分发软件(生产)</li></ul><p id="739b" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">这个管道为部署自动化提供了动力，确保在提交代码和部署代码之间很少或没有时间浪费；转化为更短的特征周期。</p><h1 id="cf25" class="le lf ji bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">您应该何时自动化您的部署？</h1><p id="3fc7" class="pw-post-body-paragraph kf kg ji kh b ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky mg la lb lc im bi translated">既然您已经了解了部署自动化是如何影响软件部署过程的，那么就更容易决定开始自动化的正确时间了。虽然自动化有巨大的好处，但也有自动化不是最佳选择的情况，这会对流程产生负面影响。</p><p id="b041" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">首先，我们将介绍自动化的原因:</p><ul class=""><li id="1598" class="mh mi ji kh b ki kj km kn kq mj ku mk ky ml lc mm mn mo mp bi translated">经常释放的需要</li><li id="372c" class="mh mi ji kh b ki mq km mr kq ms ku mt ky mu lc mm mn mo mp bi translated">目标环境和机器的变化</li><li id="17ba" class="mh mi ji kh b ki mq km mr kq ms ku mt ky mu lc mm mn mo mp bi translated">存在大量部署错误</li><li id="c406" class="mh mi ji kh b ki mq km mr kq ms ku mt ky mu lc mm mn mo mp bi translated">手动部署浪费了大量时间</li><li id="245f" class="mh mi ji kh b ki mq km mr kq ms ku mt ky mu lc mm mn mo mp bi translated">手动部署的收益递减</li></ul><h2 id="f6c0" class="mv lf ji bd lg mw mx dn lk my mz dp lo kq na nb ls ku nc nd lw ky ne nf ma ng bi translated">经常释放的需要</h2><p id="7367" class="pw-post-body-paragraph kf kg ji kh b ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky mg la lb lc im bi translated">“快速失败，经常失败，向前失败”是软件开发界的一个流行范例。很多时候，它可以帮助企业发现产品的任何问题，并迅速采取行动。</p><p id="6791" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">然而，为了实现“快速失败”范例，需要经常发布代码变更。因此，到处都在谈论部署自动化。如果过程是手工的，就很难频繁地部署代码变更。这样做将导致重复执行例行任务，这是自动化任何事情的有效理由。</p><p id="8660" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">你应该注意到，并不是所有的企业都非常频繁地发布代码变更。例如，银行不必像产品审查网站那样经常部署，因为需要更彻底的检查。</p><p id="71f3" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">您应该看一下产品的模型，看看频繁的部署是否对您有益。对于许多产品来说，这可能是事实，这就是为什么部署自动化几乎已经成为所有软件的普遍要求。</p><h2 id="334b" class="mv lf ji bd lg mw mx dn lk my mz dp lo kq na nb ls ku nc nd lw ky ne nf ma ng bi translated">目标环境和机器的变化</h2><p id="420d" class="pw-post-body-paragraph kf kg ji kh b ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky mg la lb lc im bi translated">一二十年前，当频繁的部署对产品的成功并不重要时，代码是为特定的环境和机器编写的。这些年来，环境和机器组合的数量增加了；产品需要迎合尽可能多的环境或平台。因此，如果您将代码变更的发布推迟两个月，那么在一个平台上运行良好的特性可能会在另一个平台上崩溃。</p><p id="348b" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">部署自动化可以帮助解决这个问题，因为您可以很快看到什么有效，什么无效。支持不同的环境和机器变得更加容易。如果没有自动化，随着目标环境数量的增加，很难跟上手动部署的步伐，这是必然会发生的。</p><p id="1cd6" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">通过实现自动化的软件部署过程流，产品与类似于目标的环境相集成，并且在交付之前可以进行充分的测试。</p><p id="6de5" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">在软件只有一个目标环境的情况下，部署自动化可能是不必要的。比如嵌入式系统软件产品，通常是针对特定系统的，几乎不变，不像web产品。</p><h2 id="e40d" class="mv lf ji bd lg mw mx dn lk my mz dp lo kq na nb ls ku nc nd lw ky ne nf ma ng bi translated">存在大量部署错误</h2><p id="c6b6" class="pw-post-body-paragraph kf kg ji kh b ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky mg la lb lc im bi translated">部署可能处于软件开发生命周期的末端，但这无论如何都不会使它变得容易。为了敏捷方法的成功，软件发布需要频繁；这意味着部署的麻烦比任何人期望的都要多。</p><p id="4294" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">在部署过程中出现大量错误的情况下，自动化变得至关重要。通过使用持续集成和部署工具，实现自动化部署脚本，可以避免许多部署错误。</p><p id="3772" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">很多时候，部署错误是人为错误的结果，这可能是由不同的因素造成的。但是有了自动化，大部分错误都可以避免，只有在必要时才需要人工干预。</p><h2 id="fc36" class="mv lf ji bd lg mw mx dn lk my mz dp lo kq na nb ls ku nc nd lw ky ne nf ma ng bi translated">手动部署浪费了大量时间</h2><p id="a98c" class="pw-post-body-paragraph kf kg ji kh b ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky mg la lb lc im bi translated">不管有没有错误，软件部署都是有压力的，而且会花费很多时间。由于软件工程师通常参与软件部署流程，因此最好让他们尽可能地轻松。</p><p id="3694" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">软件工程师通常对构建软件、编写代码和添加新功能的想法感到兴奋。因此，需要他们付出大量努力的软件部署过程会对他们的生产力产生负面影响。但是每个人都必须是软件部署过程的一部分，所以你不能完全把软件工程师排除在外。</p><p id="5678" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">如果您正在实现需要软件工程师10%以上时间的软件部署方法，您应该考虑自动化该过程。通过自动化部署过程，您可以减轻软件工程师的大量工作量，让他们有时间做自己喜欢的事情:构建软件。</p><h2 id="a1e2" class="mv lf ji bd lg mw mx dn lk my mz dp lo kq na nb ls ku nc nd lw ky ne nf ma ng bi translated">手动部署的收益递减</h2><p id="e510" class="pw-post-body-paragraph kf kg ji kh b ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky mg la lb lc im bi translated">没有开始自动化的“最佳”时间。只有当它能提高你的生产力和效率时，你才应该这样做。根据这一点，如果手动部署在产品规模上是有效的，那么您可能应该坚持手动部署。</p><p id="4c12" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">然而，由于目标是扩大产品，手动部署很有可能会达到其极限，并开始出现收益递减。当这种情况发生或变得明显时，最好开始部署自动化。在这一点上，您将从部署自动化所提供的好处中获得巨大的收益。</p><h1 id="266e" class="le lf ji bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">什么时候自动化部署是不必要的？</h1><p id="f12f" class="pw-post-body-paragraph kf kg ji kh b ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky mg la lb lc im bi translated">自动化部署的好处很多，因此一篇文章不可能涵盖所有的好处。然而，在有些情况下，自动化部署是不必要的，并且可能会产生负面影响。因此，您应该只在需要的时候自动化软件部署过程；不仅仅是因为它是镇上最热门的东西。</p><p id="9a42" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">自动化部署过程的问题是，这通常是一种大材小用，矫枉过正。以下是一些不需要自动化的情况:</p><ul class=""><li id="ac8e" class="mh mi ji kh b ki kj km kn kq mj ku mk ky ml lc mm mn mo mp bi translated">一次性临时项目</li><li id="1363" class="mh mi ji kh b ki mq km mr kq ms ku mt ky mu lc mm mn mo mp bi translated">很少发布的项目</li><li id="1cab" class="mh mi ji kh b ki mq km mr kq ms ku mt ky mu lc mm mn mo mp bi translated">具有足够部署方法的项目</li></ul><h2 id="1be8" class="mv lf ji bd lg mw mx dn lk my mz dp lo kq na nb ls ku nc nd lw ky ne nf ma ng bi translated">一次性临时项目</h2><p id="41d6" class="pw-post-body-paragraph kf kg ji kh b ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky mg la lb lc im bi translated">自动化部署的目标是确保更短的特性周期，只有在特性周期长且效率低的情况下才有必要这样做。对于一次性的临时项目，在项目结束之前可能会有一到两个版本。因此，自动化项目部署的前期工作是不值得的。</p><p id="39ea" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">作为开发人员，在一个临时项目中测试不同的技术来建立技能是很正常的。在这种情况下，这是可以的，因为这是出于教育目的。除此之外，为一个临时项目建立一个自动化的部署过程是违反直觉的。这样一个项目只会从一小部分可以享受的好处中获益。</p><h2 id="022c" class="mv lf ji bd lg mw mx dn lk my mz dp lo kq na nb ls ku nc nd lw ky ne nf ma ng bi translated">很少发布的项目</h2><p id="7484" class="pw-post-body-paragraph kf kg ji kh b ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky mg la lb lc im bi translated">因为建立自动化部署过程的目标是减少特性周期，以及发布之间的时间，所以很容易说为一个很少发布的项目建立一个自动化部署过程是没有用的。</p><p id="5dff" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">想象一个六个月后没有发布的项目:为这样一个项目进行自动化部署是没有用的，因为它没有被充分利用。在这种情况下，最好坚持手动部署过程，因为这对于这类应用程序来说已经足够了。</p><h2 id="539b" class="mv lf ji bd lg mw mx dn lk my mz dp lo kq na nb ls ku nc nd lw ky ne nf ma ng bi translated">具有足够部署方法的项目</h2><p id="ae55" class="pw-post-body-paragraph kf kg ji kh b ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky mg la lb lc im bi translated">虽然自动化部署过程很容易实现，但它们并不总是必要的。有时，当手工操作时，产品会工作得很好。因此，深入理解产品或软件、其需求和客户是很重要的。</p><p id="245e" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">通过在更深的层次上理解产品，更容易看到手动部署过程已经足够了。如果您还没有从手动部署中体验到收益递减，那么您不需要自动化它。</p><p id="e024" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">许多开发人员在不需要的时候进行自动化，并且投入到这项工作中的大量工作可能会浪费掉。</p><h1 id="1c5a" class="le lf ji bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="4cdd" class="pw-post-body-paragraph kf kg ji kh b ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky mg la lb lc im bi translated">软件不仅仅是代码；它还关乎为客户创造的价值。因此，您必须尽快向客户推出新功能、错误修复，以确保您获得反馈来改进产品。</p><p id="0463" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">为了持续地发布代码变更，您需要自动化部署过程，尤其是在频繁发布的时候。因此，自动化部署已经成为软件开发生命周期的重要部分。</p><p id="853f" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">到目前为止，您已经看到了一些帮助您选择开始自动化部署过程的最佳时间以及何时不自动化的方法。当您最终决定自动化时，像<a class="ae ld" href="https://deployplace.com/" rel="noopener ugc nofollow" target="_blank"> DeployPlace </a>这样的工具将有助于创建无故障的部署体验。</p><p id="24c5" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">虽然其他工具可能会增加项目的复杂性，但DeployPlace消除了这种复杂性，因为您只需要添加您的CI或应用程序的存储库和服务器详细信息。你可以加入<a class="ae ld" href="https://deployplace.com/" rel="noopener ugc nofollow" target="_blank">预发布列表</a>，这样你就不会错过它发布时的任何乐趣。</p></div></div>    
</body>
</html>