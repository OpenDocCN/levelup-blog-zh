<html>
<head>
<title>5 Utility Types For Transforming Types in Typescript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用于在Typescript中转换类型的5种实用工具类型</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/5-utility-types-for-transforming-types-in-typescript-942e63a61e8c?source=collection_archive---------4-----------------------#2021-01-20">https://levelup.gitconnected.com/5-utility-types-for-transforming-types-in-typescript-942e63a61e8c?source=collection_archive---------4-----------------------#2021-01-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b5af" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">每个开发人员都应该知道的实用程序类型</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/8077773916d7b2e40823a9d60740fa92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_xTxQS6PR3LhHW0mCFe2yw.jpeg"/></div></div></figure><p id="88c6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">关于<a class="ae ln" href="https://www.typescriptlang.org/" rel="noopener ugc nofollow" target="_blank"> typescript </a>的一个伟大的事情是它的灵活性。您可以使用现有类型转换、更改和创建新类型。在本文中，我们将研究每个开发人员都应该知道的5种实用程序类型。</p><h2 id="ded9" class="lo lp iq bd lq lr ls dn lt lu lv dp lw la lx ly lz le ma mb mc li md me mf mg bi translated">省略</h2><p id="8ffb" class="pw-post-body-paragraph kr ks iq kt b ku mh jr kw kx mi ju kz la mj lc ld le mk lg lh li ml lk ll lm ij bi translated">顾名思义，它用于省略类型的属性。让我们看一个例子。</p><pre class="kg kh ki kj gt mm mn mo mp aw mq bi"><span id="1e36" class="lo lp iq mn b gy mr ms l mt mu">type Person = {<br/>  firstname: string<br/>  lastname: string<br/>  email: string<br/>  age: number<br/>}</span></pre><p id="fbba" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果我们想从这个类型中删除<code class="fe mv mw mx mn b">age</code>并创建一个新类型，我们可以这样做:</p><pre class="kg kh ki kj gt mm mn mo mp aw mq bi"><span id="2114" class="lo lp iq mn b gy mr ms l mt mu">type PersonWithoutAge = Omit&lt;Person, 'age'&gt;</span></pre><p id="920e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">结果类型将是。</p><pre class="kg kh ki kj gt mm mn mo mp aw mq bi"><span id="82e2" class="lo lp iq mn b gy mr ms l mt mu">type PersonWithoutAge = {<br/>  firstname: string<br/>  lastname: string<br/>  email: string<br/>}</span></pre><p id="7074" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们可以使用<code class="fe mv mw mx mn b">|</code>(管道)省略多个属性，如下所示:</p><pre class="kg kh ki kj gt mm mn mo mp aw mq bi"><span id="71e4" class="lo lp iq mn b gy mr ms l mt mu">type SimplePerson = Omit&lt;Person, 'email' | 'age'&gt;</span></pre><p id="f57a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">结果类型将是。</p><pre class="kg kh ki kj gt mm mn mo mp aw mq bi"><span id="8e0b" class="lo lp iq mn b gy mr ms l mt mu">type SimplePerson = {<br/>  firstname: string<br/>  lastname: string<br/>}</span></pre><h2 id="4222" class="lo lp iq bd lq lr ls dn lt lu lv dp lw la lx ly lz le ma mb mc li md me mf mg bi translated">挑选</h2><p id="f721" class="pw-post-body-paragraph kr ks iq kt b ku mh jr kw kx mi ju kz la mj lc ld le mk lg lh li ml lk ll lm ij bi translated">它做的和<code class="fe mv mw mx mn b">Omit</code>做的相反。我们可以使用<code class="fe mv mw mx mn b">Pick</code>从类型中挑选我们想要的属性。例如，在我们的<code class="fe mv mw mx mn b">SimplePerson</code>示例类型中，我们可以使用<code class="fe mv mw mx mn b">Pick</code>，选择<code class="fe mv mw mx mn b">firstname</code>和<code class="fe mv mw mx mn b">lastname</code>来创建类型，而不是从<code class="fe mv mw mx mn b">Person</code>中省略<code class="fe mv mw mx mn b">email</code>、<code class="fe mv mw mx mn b">age</code>。这里有一个例子:</p><pre class="kg kh ki kj gt mm mn mo mp aw mq bi"><span id="acc1" class="lo lp iq mn b gy mr ms l mt mu">type SimplePerson = Pick&lt;Person, "firstname" | "lastname"&gt;</span></pre><p id="d5cc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">导致与我们使用<code class="fe mv mw mx mn b">Omit</code>时相同的类型。</p><pre class="kg kh ki kj gt mm mn mo mp aw mq bi"><span id="582e" class="lo lp iq mn b gy mr ms l mt mu">type SimplePerson = {<br/>  firstname: string;<br/>  lastname: string;<br/>}</span></pre><h2 id="45ea" class="lo lp iq bd lq lr ls dn lt lu lv dp lw la lx ly lz le ma mb mc li md me mf mg bi translated">部分的</h2><p id="a91d" class="pw-post-body-paragraph kr ks iq kt b ku mh jr kw kx mi ju kz la mj lc ld le mk lg lh li ml lk ll lm ij bi translated">我发现自己用得最多的就是这种类型。使用<code class="fe mv mw mx mn b">Partial</code>使一个类型的所有属性可选。有时，我们不需要为一个对象的所有属性提供值。在这种情况下，我们可以使用<code class="fe mv mw mx mn b">Partial</code>创建一个新的类型，产生一个所有属性都可选的类型。让我们看一个例子。如果我们想让我们的<code class="fe mv mw mx mn b">Person</code>属性可选。</p><pre class="kg kh ki kj gt mm mn mo mp aw mq bi"><span id="0662" class="lo lp iq mn b gy mr ms l mt mu">type PartialPerson = Partial&lt;Person&gt;</span></pre><p id="3c81" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">导致以下类型。</p><pre class="kg kh ki kj gt mm mn mo mp aw mq bi"><span id="8c02" class="lo lp iq mn b gy mr ms l mt mu">type PartialPerson = {<br/>  firstname?: string | undefined<br/>  lastname?: string | undefined<br/>  email?: string | undefined<br/>  age?: number | undefined<br/>}</span></pre><h2 id="177f" class="lo lp iq bd lq lr ls dn lt lu lv dp lw la lx ly lz le ma mb mc li md me mf mg bi translated">需要</h2><p id="19d9" class="pw-post-body-paragraph kr ks iq kt b ku mh jr kw kx mi ju kz la mj lc ld le mk lg lh li ml lk ll lm ij bi translated">该类型与<code class="fe mv mw mx mn b">Partial</code>所做的完全相反。它将一个类型的所有可选属性转换为必需属性。比方说，我们想让<code class="fe mv mw mx mn b">PartialPerson</code>的属性，变成强制的。我们可以这样做，如下图所示。</p><pre class="kg kh ki kj gt mm mn mo mp aw mq bi"><span id="fabb" class="lo lp iq mn b gy mr ms l mt mu">type RequiredPerson = Required&lt;PartialPerson&gt;</span></pre><p id="9807" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">导致以下类型。</p><pre class="kg kh ki kj gt mm mn mo mp aw mq bi"><span id="f922" class="lo lp iq mn b gy mr ms l mt mu">type RequiredPerson = {<br/>  firstname: string<br/>  lastname: string<br/>  email: string<br/>  age: number<br/>}</span></pre><h2 id="2ee0" class="lo lp iq bd lq lr ls dn lt lu lv dp lw la lx ly lz le ma mb mc li md me mf mg bi translated">只读</h2><p id="6456" class="pw-post-body-paragraph kr ks iq kt b ku mh jr kw kx mi ju kz la mj lc ld le mk lg lh li ml lk ll lm ij bi translated">顾名思义。如果你不想允许，给对象属性赋值，你可以用这个。<code class="fe mv mw mx mn b">Readonly</code>使一个类型的所有属性，只读(我知道你猜到了)。我发现这在创建一个React状态对象时非常有用，它可以防止给状态属性赋值。下面是使用方法。</p><pre class="kg kh ki kj gt mm mn mo mp aw mq bi"><span id="41d4" class="lo lp iq mn b gy mr ms l mt mu">type ReadonlyPerson = Readonly&lt;Person&gt;</span></pre><p id="6326" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">结果类型将如下所示。</p><pre class="kg kh ki kj gt mm mn mo mp aw mq bi"><span id="7e3d" class="lo lp iq mn b gy mr ms l mt mu">type ReadonlyPerson = {<br/>  readonly firstname: string;<br/>  readonly lastname: string;<br/>  readonly email: string;<br/>  readonly age: number;<br/>}</span></pre><p id="baed" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我希望，我已经给了你足够的知识来开始使用实用类型来转换类型。有了这些知识，您应该能够从现有的类型中组合和创建新的类型。你可以<a class="ae ln" href="https://www.typescriptlang.org/docs/handbook/utility-types.html" rel="noopener ugc nofollow" target="_blank">在这里</a>阅读更多关于公用事业类型<a class="ae ln" href="https://www.typescriptlang.org/docs/handbook/utility-types.html" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="36c4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你喜欢这篇文章，给它一个掌声。你可以关注我，看更多类似的文章。</p><p id="0b46" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">感谢阅读。</p></div></div>    
</body>
</html>