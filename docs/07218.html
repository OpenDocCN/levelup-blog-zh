<html>
<head>
<title>How to Sort Your Ports</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何对端口进行分类</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-sort-your-ports-b43d5e15c8a6?source=collection_archive---------20-----------------------#2021-02-01">https://levelup.gitconnected.com/how-to-sort-your-ports-b43d5e15c8a6?source=collection_archive---------20-----------------------#2021-02-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="afdd" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">网络问题的常用命令</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5bda95a8d0fe9facf675b745f2b25567.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ij4ea1ePq5QQoaIUB39Azw.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">亚历克斯·达菲在<a class="ae kv" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="aa60" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">端口是通信端点，因此当我们出现通信问题时，它们是主要的嫌疑对象。</p><p id="3db5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最近我在处理一个bug，在我运行的应用程序中，客户端无法到达服务器。由于服务器和客户端都是第三方，我不能直接修改代码。我总结了我的调试步骤以及如何对这种情况进行故障排除，并给出了我的定位命令示例。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="794d" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">检查客户的观点</h1><p id="a316" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我首先模拟一个客户端，看看我是否可以通过运行</p><blockquote class="mw"><p id="99f4" class="mx my iq bd mz na nb nc nd ne nf lr dk translated">telnet 8.8.8.8 443</p></blockquote><p id="6c57" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">telnet是一个老式的消息传递应用程序，以其start wars ASCII艺术而闻名，但我使用它来检查我的TCP应用程序对于客户端是否可达。如果有一个路由问题，防火墙阻塞或没有人监听这个端口，你将永远卡在“尝试”上。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/ad7259e425d2c0569fbe23a08c4dca81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UARuoyFHQcK7Fc6UKhPr-A.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">到达一个没有打开/没有监听器的端口会让你陷入“尝试”直到你取消</figcaption></figure><p id="fcfc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果没有问题，我们将能够开始聊天，但当然，我们不太可能开始有意义的谈话，我们只是想建立最初的联系和接触。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/e6f3c52bfdd826b53780c157165c9f0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R_S_lhuorHnafiDyVwhBKQ.png"/></div></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="e2c1" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">检查服务器的视角</h1><p id="e931" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我正在将第三方应用程序集成到我自己的系统中，具体来说，我配置了通信细节，如IP、端口和要绑定的接口。我检查了所有的配置，确保它是正确的。</p><blockquote class="mw"><p id="7733" class="mx my iq bd mz na nb nc nd ne nf lr dk translated">netstat -lnp | grep铬</p></blockquote><p id="d5b4" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">我使用这个命令来检查我的应用程序监听哪些端口。一个典型的错误是绑定到127.0.0.1，因此只接受本地连接，所以客户端无法访问你的应用程序。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nn"><img src="../Images/faa4440a985e19d61819a3ae48df02e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MVJTYyLvpi3cMTEQ74rVLg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">chromium监听端口5353、UDP和所有接口</figcaption></figure><h1 id="d843" class="lz ma iq bd mb mc no me mf mg np mi mj jw nq jx ml jz nr ka mn kc ns kd mp mq bi translated">查看实时交通状况</h1><p id="1f2f" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">数据流很快，我们通常无法理解它，但我们可以看到数据交换是否存在，以及它是否仅来自一个方向。</p><blockquote class="mw"><p id="d1e8" class="mx my iq bd mz na nb nc nd ne nf lr dk translated">任何udp和端口<number/></p></blockquote><p id="6d6e" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">这是一个对你的机器网络的窃听命令，你可能会将这个巨大的搜索限制在某个接口、端口或协议上，以追踪你的确切问题。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/23c5c38c30edb0258d5c0a8606d4ab4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*FWmc2pgj3Nsx3MQyD6M1rQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">没有与过滤器匹配的流量时的TCPDUMP命令示例</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/cf5d513b4f4b2bd252433887be525bbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/format:webp/1*-SH0Wy_Or51BDqxt5NGjpA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">显示多个端口流量的TCPDUMP命令示例</figcaption></figure><p id="4094" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Tcpdump不干扰包交换，允许我们查看实时流量。<br/>我发送视频流。我不能以这种方式传输图片本身，但我可以过滤和显示协议头(如UDP和RTP)以进一步排除故障。</p><h1 id="6a81" class="lz ma iq bd mb mc no me mf mg np mi mj jw nq jx ml jz nr ka mn kc ns kd mp mq bi translated">结论</h1><p id="8258" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">这些命令中的每一个都有很多可以调整的选项，您可以使用我展示的简单示例，或者探索和微调适合您需求的独特命令。</p><p id="50e7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以在这里阅读更多关于调试<a class="ae kv" href="https://codeburst.io/when-great-developers-debug-they-f07efb4c032" rel="noopener" target="_blank">的内容。</a></p></div></div>    
</body>
</html>