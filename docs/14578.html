<html>
<head>
<title>Optimize Angular bundle size with these steps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过以下步骤优化角度束尺寸</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/lets-optimize-angular-bundle-size-with-these-steps-6d6b753ac256?source=collection_archive---------2-----------------------#2022-12-09">https://levelup.gitconnected.com/lets-optimize-angular-bundle-size-with-these-steps-6d6b753ac256?source=collection_archive---------2-----------------------#2022-12-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/bb675cd04cf80052f7f64966bc8617ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B2BS35wYgeAuKYMP5SatoQ.png"/></div></div></figure><h1 id="aaad" class="kb kc it bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">简介:</h1><p id="e721" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">许多大型项目都是用Angular框架构建的，它是可伸缩的和健壮的，但是我们忽略了对包大小的关心。</p><p id="2ded" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">因为拥有大型包的项目会对用户体验产生影响</p><p id="3d39" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">因此，在这篇博客中，我们将一起探讨如何分析我们当前的包大小，并应用一些技术来优化它。</p><p id="75e8" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">快乐阅读！</p><h1 id="bb10" class="kb kc it bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">第一步:监控我们当前的捆绑包大小:</h1><p id="478a" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">我们需要的第一步是分析当前的包大小，因此在这一节中，我将列出为此所需的工具</p><h2 id="1ece" class="mc kc it bd kd md me dn kh mf mg dp kl lk mh mi kp lo mj mk kt ls ml mm kx mn bi translated"><strong class="ak">所需工具:</strong></h2><h2 id="a5cd" class="mc kc it bd kd md me dn kh mf mg dp kl lk mh mi kp lo mj mk kt ls ml mm kx mn bi translated">选项A: Webpack捆绑包分析器</h2><figure class="mp mq mr ms gt ju gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/8d1548cac82b4297a4efb92961ecbc96.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*f289PYm5NsPuVKUAffffAQ.png"/></div><figcaption class="mt mu gj gh gi mv mw bd b be z dk translated">来源:<a class="ae mx" href="https://github.com/webpack-contrib/webpack-bundle-analyzer" rel="noopener ugc nofollow" target="_blank">https://github.com/webpack-contrib/webpack-bundle-analyzer</a></figcaption></figure><p id="1869" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated"><a class="ae mx" href="https://github.com/webpack-contrib/webpack-bundle-analyzer" rel="noopener ugc nofollow" target="_blank">web pack-bundle-analyzer</a>是一个很棒的工具，它可以将当前的bundle内容显示为一个方便的交互式可缩放树形图。</p><h2 id="c3f1" class="mc kc it bd kd md me dn kh mf mg dp kl lk mh mi kp lo mj mk kt ls ml mm kx mn bi translated">用法:</h2><h2 id="c305" class="mc kc it bd kd md me dn kh mf mg dp kl lk mh mi kp lo mj mk kt ls ml mm kx mn bi translated">安装<code class="fe my mz na nb b">webpack-bundle-analyzer</code>:</h2><p id="3c1a" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated"><code class="fe my mz na nb b">npm install --save-dev webpack-bundle-analyzer</code></p><p id="886f" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">我们需要构建带有<code class="fe my mz na nb b">stats-json</code>选项的angular项目，以便在包分析之后使用它</p><p id="05fc" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">将该命令添加到您的包中<code class="fe my mz na nb b">.json</code></p><pre class="mp mq mr ms gt nc nb nd bn ne nf bi"><span id="200e" class="ng kc it nb b be nh ni l nj nk">"build:stats": "ng build --stats-json",</span></pre><p id="cbf4" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">运行构建以拥有dist文件夹</p><pre class="mp mq mr ms gt nc nb nd bn ne nf bi"><span id="7601" class="ng kc it nb b be nh ni l nj nk">npm run <!-- -->build:stats</span></pre><p id="8495" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">执行<code class="fe my mz na nb b">webpack-bundle-analyzer</code></p><pre class="mp mq mr ms gt nc nb nd bn ne nf bi"><span id="ce08" class="ng kc it nb b be nh ni l nj nk">webpack-bundle-analyzer dist/project-name/stats.json</span></pre><h2 id="a097" class="mc kc it bd kd md me dn kh mf mg dp kl lk mh mi kp lo mj mk kt ls ml mm kx mn bi translated">输出:</h2><p id="5691" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">您将通过输入到<a class="ae mx" href="http://127.0.0.1:8888/" rel="noopener ugc nofollow" target="_blank"> http://127.0.0.1:8888/ </a>得到这个输出</p><p id="300e" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">初始管束尺寸为<strong class="lb iu">1.54毫米</strong></p><figure class="mp mq mr ms gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nl"><img src="../Images/85a5f68e052e1520c0dd2645c19d7b71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wGEBhu_3hpsUhDaYNyDEDA.png"/></div></div><figcaption class="mt mu gj gh gi mv mw bd b be z dk translated">优化前的捆绑包大小</figcaption></figure><h2 id="8af6" class="mc kc it bd kd md me dn kh mf mg dp kl lk mh mi kp lo mj mk kt ls ml mm kx mn bi translated">选项B:源地图浏览器</h2><figure class="mp mq mr ms gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nm"><img src="../Images/931422130f8c9dd3eed2d44a5996b49f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bw9wtOQaPFMQ3Fh_idfF_w.png"/></div></div><figcaption class="mt mu gj gh gi mv mw bd b be z dk translated">来源:https://www.npmjs.com/package/source-map-explorer<a class="ae mx" href="https://www.npmjs.com/package/source-map-explorer" rel="noopener ugc nofollow" target="_blank"/></figcaption></figure><blockquote class="nn no np"><p id="0798" class="kz la nq lb b lc lx le lf lg ly li lj nr lz lm ln ns ma lq lr nt mb lu lv lw im bi translated"><a class="ae mx" href="https://www.npmjs.com/package/source-map-explorer" rel="noopener ugc nofollow" target="_blank">源地图浏览器</a>决定了你的精简代码中的每个字节来自哪个文件。它向您展示了一个<a class="ae mx" href="https://github.com/martine/webtreemap" rel="noopener ugc nofollow" target="_blank">树形图</a>可视化，帮助您调试所有代码的来源</p></blockquote><h2 id="2d83" class="mc kc it bd kd md me dn kh mf mg dp kl lk mh mi kp lo mj mk kt ls ml mm kx mn bi translated">用法:</h2><h2 id="da21" class="mc kc it bd kd md me dn kh mf mg dp kl lk mh mi kp lo mj mk kt ls ml mm kx mn bi translated">安装源地图资源管理器:</h2><pre class="mp mq mr ms gt nc nb nd bn ne nf bi"><span id="4f93" class="ng kc it nb b be nh ni l nj nk">npm i --save-dev source-map-explorer </span></pre><p id="5967" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">使用选项<code class="fe my mz na nb b">source-map</code>运行生产构建</p><pre class="mp mq mr ms gt nc nb nd bn ne nf bi"><span id="9b28" class="ng kc it nb b be nh ni l nj nk">ng build --prod --source-map </span></pre><p id="72e2" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">将这个命令添加到您的package.json:</p><pre class="mp mq mr ms gt nc nb nd bn ne nf bi"><span id="8f1e" class="ng kc it nb b be nh ni l nj nk">"analyze-bundle": "source-map-explorer dist/project-name/main.ea52d6960c8f284dfbec.js --no-border-checks"</span></pre><p id="49c5" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">执行<code class="fe my mz na nb b">npm run analyze-bundle</code></p><h2 id="ce7d" class="mc kc it bd kd md me dn kh mf mg dp kl lk mh mi kp lo mj mk kt ls ml mm kx mn bi translated">输出:</h2><p id="1161" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">我们将得到一个树形图，向我们展示对当前包大小有贡献的文件和模块的可视化</p><figure class="mp mq mr ms gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nu"><img src="../Images/301a9e7b4e54dd078e0e49d70ebc48d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yeK6m7jcwGPP5AyqPIBPWw.png"/></div></div><figcaption class="mt mu gj gh gi mv mw bd b be z dk translated">源地图资源管理器输出</figcaption></figure><h1 id="03ff" class="kb kc it bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">减少它的进一步措施</h1><p id="fddf" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">在本节中，我们将进一步探索减少和优化角度应用的步骤</p><figure class="mp mq mr ms gt ju gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/26c7370520ca081a5ad350ae21c824f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/0*IEhtHYaWiVv-6x2o"/></div></figure><h1 id="dae0" class="kb kc it bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">1)优化第三库导入</h1><p id="d405" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">首先，我们将回顾使用的第三个库，以及我们如何在组件中导入所需的模块！</p><p id="0a9b" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">在做了一些代码审查和调查之后，建议只导入我们需要的东西</p><p id="66ab" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">我从<code class="fe my mz na nb b">lodash</code>找到了这个导入</p><p id="235b" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated"><strong class="lb iu">代码实现:</strong></p><pre class="mp mq mr ms gt nc nb nd bn ne nf bi"><span id="8cc2" class="ng kc it nb b be nh ni l nj nk">import { Component } from '@angular/core';<br/>import * as _ from 'lodash';<br/>@Component({<br/>selector: 'app-root',<br/>templateUrl: './app.component.html',<br/>styleUrls: ['./app.component.scss']<br/>})<br/>export class AppComponent {<br/>constructor() {<br/>console.log((_.includes['a', 'b', 'c', 'd'], 'b')); <br/>}<br/>}</span></pre><p id="a75f" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated"><strong class="lb iu">优化前的包大小测量:1.54 MB(初始计算)</strong></p><figure class="mp mq mr ms gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nl"><img src="../Images/85a5f68e052e1520c0dd2645c19d7b71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wGEBhu_3hpsUhDaYNyDEDA.png"/></div></div><figcaption class="mt mu gj gh gi mv mw bd b be z dk translated">优化前的捆绑包大小</figcaption></figure><h2 id="0763" class="mc kc it bd kd md me dn kh mf mg dp kl lk mh mi kp lo mj mk kt ls ml mm kx mn bi translated">解决方案:优化lodash第三库导入</h2><pre class="mp mq mr ms gt nc nb nd bn ne nf bi"><span id="afc8" class="ng kc it nb b be nh ni l nj nk">// install these packages <br/>npm i lodash-es<br/>npm i -D @types/lodash-es<br/><br/>//Change how we do our import<br/><br/>//import { includes } from 'lodash';<br/>import includes from 'lodash/includes';<br/><br/>// Add this config to tsconfig.json<br/>    "allowSyntheticDefaultImports": true,<br/>  "baseUrl": "./",<br/>  "typeRoots": ["node_modules/@types", "manual_typings"],<br/>  "paths": {<br/>    "lodash/*": ["node_modules/@types/lodash-es/*"]<br/>  }</span></pre><p id="d21c" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">优化后的束尺寸从<strong class="lb iu"> 1.54个月减少到1.47个月</strong> ☝️☝️</p><figure class="mp mq mr ms gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nl"><img src="../Images/a0d556c9ea9ed0cb05664cb650c4da17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LIep9Vanv5DJMncBmOGYdA.png"/></div></div><figcaption class="mt mu gj gh gi mv mw bd b be z dk translated">优化后的束尺寸</figcaption></figure><h1 id="9aba" class="kb kc it bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">2)重构共享模块</h1><p id="f67c" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated"><a class="ae mx" href="https://angular.io/guide/sharing-ngmodules" rel="noopener ugc nofollow" target="_blank">共享模块</a>由指令、管道和组件组成，它们可以在不同的应用程序特性之间重用</p><h2 id="82fb" class="mc kc it bd kd md me dn kh mf mg dp kl lk mh mi kp lo mj mk kt ls ml mm kx mn bi translated"><strong class="ak">问题</strong> ❗:</h2><p id="c19a" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">但是随着时间的推移，我们的应用程序增长得越多，我们将在我们的<strong class="lb iu">共享模块</strong>中放入的就越多，然后依赖性将会增长，这导致了捆绑包大小的增长↗️↗️↗️</p><p id="f029" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">如您所见，如图所示，我们有许多取决于共享模块的功能</p><figure class="mp mq mr ms gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nw"><img src="../Images/c45151d331988dc7f177a63cf2b79851.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7mEvKpLtztwH4KwgYoBGOA.png"/></div></div><figcaption class="mt mu gj gh gi mv mw bd b be z dk translated">共享模块依赖关系</figcaption></figure><p id="66e8" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated"><strong class="lb iu">当前实施:(受生产中实际应用的启发)</strong></p><p id="c98a" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">这段代码模拟了一个Angular项目的<code class="fe my mz na nb b">shared-module</code>实现的例子，这个项目使用了很多导入、组件和第三个库…</p><p id="63f6" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated"><strong class="lb iu">共享模块代码</strong>:</p><pre class="mp mq mr ms gt nc nb nd bn ne nf bi"><span id="fce1" class="ng kc it nb b be nh ni l nj nk">import { NgModule } from '@angular/core';<br/>import { CommonModule } from '@angular/common';<br/>import { ArrowIndicatorComponent } from './arrow-indicator/arrow-indicator.component';<br/>import { MinusPipe } from './pipes/minus.pipe';<br/>import { AgePipe } from './pipes/age.pipe';<br/>import { FilterPipePipe } from './pipes/filter-pipe.pipe';<br/>import { FileSizePipePipe } from './pipes/file-size-pipe.pipe';<br/>import { FormsModule, ReactiveFormsModule } from '@angular/forms';<br/>import { HttpClientModule } from '@angular/common/http';<br/>import { AgGridModule } from 'ag-grid-angular';<br/>import { SqrtPipePipe } from './pipes/sqrt-pipe.pipe';<br/>import { MatButtonModule } from '@angular/material/button';<br/>import { MatCardModule } from '@angular/material/card';<br/>import { MatChipsModule } from '@angular/material/chips';<br/>import { MatIconModule } from '@angular/material/icon';<br/>import { MatMenuModule } from '@angular/material/menu';<br/>import { MatPaginatorModule } from '@angular/material/paginator';<br/>import { MatTableModule } from '@angular/material/table';<br/>import { MatToolbarModule } from '@angular/material/toolbar';<br/>import { MatTooltipModule } from '@angular/material/tooltip';<br/>import { BannersComponent } from './banners/banners.component';<br/>import { RatingComponent } from './rating/rating.component';<br/>import { GenericTableComponent } from './generic-table/generic-table.component';<br/>import { GenericDialogComponent } from './generic-dialog/generic-dialog.component';<br/><br/>@NgModule({<br/>  declarations: [ArrowIndicatorComponent, MinusPipe, AgePipe, FilterPipePipe, FileSizePipePipe, SqrtPipePipe, BannersComponent, RatingComponent, GenericTableComponent, GenericDialogComponent,],<br/>  imports: [CommonModule,FormsModule,ReactiveFormsModule,HttpClientModule,AgGridModule,<br/>    MatButtonModule,<br/>    MatCardModule,<br/>    MatChipsModule,<br/>    MatIconModule,<br/>    MatMenuModule,<br/>    MatPaginatorModule,<br/>    MatTableModule,<br/>    MatToolbarModule,<br/>    MatTooltipModule,],<br/>  exports: [ArrowIndicatorComponent, MinusPipe, AgePipe, FilterPipePipe, FileSizePipePipe, SqrtPipePipe,BannersComponent, RatingComponent, GenericTableComponent, GenericDialogComponent,],<br/>})<br/>export class SharedModule {}<br/> <br/><br/><br/><br/>// StockqQuoteModule needs only ArrowPipe and MatToolbarModule only<br/>import { NgModule } from '@angular/core';<br/>import { CommonModule } from '@angular/common';<br/>import { StockQuoteComponent } from './stock-quote.component';<br/>import { SharedModule } from 'src/app/shared/shared.module';<br/><br/>@NgModule({<br/>  declarations: [StockQuoteComponent],<br/>  imports: [<br/>    CommonModule,<br/>    SharedModule<br/>  ],<br/>  exports:[StockQuoteComponent]<br/>})<br/>export class StockqQuoteModule { }<br/><br/><br/><br/><br/>// StockMonthSentimentModule needs only ArrowPipe and MatIconModule<br/>import { CommonModule } from '@angular/common';<br/>import { NgModule } from '@angular/core';<br/>import { SharedModule } from 'src/app/shared/shared.module';<br/>import { StockMonthSentimentComponent } from './stock-month-sentiment.component';<br/><br/><br/><br/>@NgModule({<br/>  declarations: [StockMonthSentimentComponent],<br/>  imports: [<br/>    CommonModule,<br/>    SharedModule<br/>  ],<br/>  exports:[StockMonthSentimentComponent]<br/>})<br/>export class StockMonthSentimentModule { }<br/><br/><br/></span></pre><h2 id="5981" class="mc kc it bd kd md me dn kh mf mg dp kl lk mh mi kp lo mj mk kt ls ml mm kx mn bi translated"><strong class="ak">解决方案</strong> ✅ <strong class="ak"> : </strong>共享模块重构</h2><p id="f7c3" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">减小共享模块尺寸的解决方案是使用<a class="ae mx" href="https://angular-training-guide.rangle.io/modules/module-scam-pattern" rel="noopener ugc nofollow" target="_blank"> SCAM模块</a>(单组件角度模块)</p><p id="b865" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated"><strong class="lb iu">组件解决方案</strong>:我们在<code class="fe my mz na nb b">stock-quote-module </code>和<code class="fe my mz na nb b">stock-month-sentiment </code>有<code class="fe my mz na nb b">arrow-indicator-component</code>使用的组件，所以不需要为其他模块导出</p><p id="26ac" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">我们将创建一个模块<code class="fe my mz na nb b">arrow-indicator.module </code>，并为使用它的两个模块导入它</p><pre class="mp mq mr ms gt nc nb nd bn ne nf bi"><span id="43ad" class="ng kc it nb b be nh ni l nj nk">import { NgModule } from '@angular/core';<br/>import { CommonModule } from '@angular/common';<br/>import { ArrowIndicatorComponent } from './arrow-indicator.component';<br/><br/><br/>@NgModule({<br/>  declarations: [ArrowIndicatorComponent],<br/>  imports: [<br/>    CommonModule<br/>  ],<br/>  exports:[ArrowIndicatorComponent]<br/>})<br/>export class ArrowIndicatorModule { } <br/>// SCAM to be used in the needed modules</span></pre><p id="4654" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated"><strong class="lb iu">第三库解决方案:</strong></p><p id="5123" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">我们将删除所有特性之间不常用的第三个库，这将有助于减少导入的依赖性</p><pre class="mp mq mr ms gt nc nb nd bn ne nf bi"><span id="59a5" class="ng kc it nb b be nh ni l nj nk">import { NgModule } from '@angular/core';<br/>import { CommonModule } from '@angular/common';<br/>import { MinusPipe } from './pipes/minus.pipe';<br/>import { AgePipe } from './pipes/age.pipe';<br/>import { FilterPipePipe } from './pipes/filter-pipe.pipe';<br/>import { FileSizePipePipe } from './pipes/file-size-pipe.pipe';<br/>import { FormsModule, ReactiveFormsModule } from '@angular/forms';<br/>import { HttpClientModule } from '@angular/common/http';<br/>import { AgGridModule } from 'ag-grid-angular';<br/><br/>@NgModule({<br/>  declarations: [ MinusPipe, AgePipe, FilterPipePipe, FileSizePipePipe, SqrtPipePipe,],<br/>  imports: [CommonModule,FormsModule,ReactiveFormsModule,HttpClientModule,AgGridModule,<br/>],<br/>  exports: [MinusPipe, AgePipe, FilterPipePipe, FileSizePipePipe, SqrtPipePipe,<br/>],<br/>})<br/>export class SharedModule {}<br/></span></pre><p id="b31b" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">共享模块重构⛏⛏后，包大小从<strong class="lb iu"> 1.47 MO </strong>减少到<strong class="lb iu"> 1.41MO </strong></p><figure class="mp mq mr ms gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nx"><img src="../Images/6c71b29b79c7aba1aaf231d5a6babed4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4VwzxtDClNhCvHZRhqZ6KQ.png"/></div></div><figcaption class="mt mu gj gh gi mv mw bd b be z dk translated">优化后的束尺寸(步骤2)</figcaption></figure><h2 id="1544" class="mc kc it bd kd md me dn kh mf mg dp kl lk mh mi kp lo mj mk kt ls ml mm kx mn bi translated">来源:</h2><p id="b083" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">我非常感谢这些资源，它们对我写这篇博客帮助很大</p><ul class=""><li id="232c" class="ny nz it lb b lc lx lg ly lk oa lo ob ls oc lw od oe of og bi translated"><a class="ae mx" href="https://coryrylan.com/blog/measuring-angular-performance-with-source-map-explorer" rel="noopener ugc nofollow" target="_blank">https://Cory rylan . com/blog/measuring-angular-performance-with-source-map-explorer</a></li><li id="0bf0" class="ny nz it lb b lc oh lg oi lk oj lo ok ls ol lw od oe of og bi translated">https://github.com/ivanblazevic/ngx-unused-css<a class="ae mx" href="https://github.com/ivanblazevic/ngx-unused-css" rel="noopener ugc nofollow" target="_blank"/></li><li id="4f6f" class="ny nz it lb b lc oh lg oi lk oj lo ok ls ol lw od oe of og bi translated"><a class="ae mx" href="https://stackoverflow.com/questions/44758755/how-to-enable-gzip-compression-in-angular-cli-for-production-build" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/44758755/how-to-enable-gzip-compression-in-angular-CLI-for-production-build</a></li><li id="daa6" class="ny nz it lb b lc oh lg oi lk oj lo ok ls ol lw od oe of og bi translated"><a class="ae mx" href="https://github.com/depcheck/depcheck" rel="noopener ugc nofollow" target="_blank">https://github.com/depcheck/depcheck</a></li><li id="ecea" class="ny nz it lb b lc oh lg oi lk oj lo ok ls ol lw od oe of og bi translated"><a class="ae mx" href="https://dev.to/dylanvdmerwe/reduce-angular-style-size-using-purgecss-to-remove-unused-styles-3b2k" rel="noopener ugc nofollow" target="_blank">https://dev . to/dylanvdmerwe/reduce-angular-style-size-using-purge CSS-to-remove-unused-styles-3b2k</a></li><li id="de29" class="ny nz it lb b lc oh lg oi lk oj lo ok ls ol lw od oe of og bi translated"><a class="ae mx" href="https://www.youtube.com/watch?v=8lUkVsvCsl8" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=8lUkVsvCsl8</a></li><li id="3579" class="ny nz it lb b lc oh lg oi lk oj lo ok ls ol lw od oe of og bi translated"><a class="ae mx" href="https://indepth.dev/posts/1191/stop-using-shared-material-module" rel="noopener ugc nofollow" target="_blank">https://indepth . dev/posts/1191/stop-using-shared-material-module</a></li><li id="a7e8" class="ny nz it lb b lc oh lg oi lk oj lo ok ls ol lw od oe of og bi translated"><a class="ae mx" href="https://pham.codes/blog/how-to-make-bundle-size-smaller-lodash-angular" rel="noopener ugc nofollow" target="_blank">https://Pham . codes/blog/how-to-make-bundle-size-small-lodash-angular</a></li><li id="de5c" class="ny nz it lb b lc oh lg oi lk oj lo ok ls ol lw od oe of og bi translated"><a class="ae mx" href="https://stackoverflow.com/questions/41991178/correct-way-of-importing-and-using-lodash-in-angular" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/41991178/correct-way-of-import-and-use-lodash-in-angular</a></li></ul><h2 id="31b0" class="mc kc it bd kd md me dn kh mf mg dp kl lk mh mi kp lo mj mk kt ls ml mm kx mn bi translated">额外资源📗：</h2><p id="e111" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">如果你对阅读更高级的角度话题感兴趣，可以看看这些博客</p><ul class=""><li id="2663" class="ny nz it lb b lc lx lg ly lk oa lo ob ls oc lw od oe of og bi translated"><a class="ae mx" rel="noopener ugc nofollow" target="_blank" href="/optimizing-angular-unit-tests-for-faster-execution-70c7adda6b21">优化角度单元测试以加快执行速度</a></li><li id="5cb3" class="ny nz it lb b lc oh lg oi lk oj lo ok ls ol lw od oe of og bi translated"><a class="ae mx" rel="noopener ugc nofollow" target="_blank" href="/lets-optimize-angular-bundle-size-with-these-steps-6d6b753ac256">通过以下步骤优化角度束尺寸</a></li><li id="bb09" class="ny nz it lb b lc oh lg oi lk oj lo ok ls ol lw od oe of og bi translated"><a class="ae mx" rel="noopener ugc nofollow" target="_blank" href="/bad-practices-you-should-avoid-with-angular-development-58098e5542d5">你应该避免使用棱角分明的坏习惯</a></li><li id="9a69" class="ny nz it lb b lc oh lg oi lk oj lo ok ls ol lw od oe of og bi translated"><a class="ae mx" rel="noopener ugc nofollow" target="_blank" href="/introduction-to-state-management-with-ngrx-and-angular-91f4ff27ec9f">Ngrx和Angular状态管理简介</a></li><li id="846c" class="ny nz it lb b lc oh lg oi lk oj lo ok ls ol lw od oe of og bi translated"><a class="ae mx" rel="noopener ugc nofollow" target="_blank" href="/write-e2e-tests-with-angular-and-cypress-1f011f673a5e">用Angular和Cypress编写CRUD E2E测试</a></li></ul><h2 id="2d95" class="mc kc it bd kd md me dn kh mf mg dp kl lk mh mi kp lo mj mk kt ls ml mm kx mn bi translated">最后的话:</h2><p id="aff1" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">如果你喜欢这篇文章，请留下你的👏，并在<a class="ae mx" href="https://twitter.com/RebaiAhmed_" rel="noopener ugc nofollow" target="_blank"> Twitter </a>和<a class="ae mx" href="https://github.com/Rebaiahmed" rel="noopener ugc nofollow" target="_blank"> Github </a>上关注我</p><p id="22c8" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">感谢阅读</p><p id="9fb4" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">【https://ahmedrebai.medium.com/membership T4】</p></div></div>    
</body>
</html>