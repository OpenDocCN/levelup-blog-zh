<html>
<head>
<title>Tricky Javascript code snippets asked in the interview</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">采访中问到的棘手的Javascript代码片段</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/tricky-javascript-code-snippets-asked-in-the-interview-8ed9b868a4a5?source=collection_archive---------0-----------------------#2020-06-15">https://levelup.gitconnected.com/tricky-javascript-code-snippets-asked-in-the-interview-8ed9b868a4a5?source=collection_archive---------0-----------------------#2020-06-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c56b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">测试您的Javascript知识的片段</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3ec1a11b1c36f9bb64352b976da4a6b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*22WMoOVkgRHK1bP7"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@hishahadat?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">沙哈达特·拉赫曼</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="93bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将看到一些最著名的访谈代码片段，这些片段被用来检查您对Javascript概念的了解。</p><p id="23cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们开始吧</p><p id="43d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">预测下面代码的输出</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="72c3" class="ma mb it lw b gy mc md l me mf">const user = {<br/>  name: 'Raj',<br/>  location: {<br/>    city: 'NY',<br/>    state: 'NY'<br/>  }<br/>};</span><span id="dc30" class="ma mb it lw b gy mg md l me mf">const copy = Object.assign({}, user);<br/>// OR<br/>// const copy = { ...user };</span><span id="fef2" class="ma mb it lw b gy mg md l me mf">copy.location.city = 'Albany';</span><span id="7cae" class="ma mb it lw b gy mg md l me mf">console.log('original: ', user.location);<br/>console.log('copy:', copy.location);</span></pre><p id="4ced" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上述代码的输出是</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="0e50" class="ma mb it lw b gy mc md l me mf">original:  {<br/>  city: 'Albany',<br/>  state: 'NY'<br/>}</span><span id="eb94" class="ma mb it lw b gy mg md l me mf">copy: {<br/>  city: 'Albany',<br/>  state: 'NY'<br/>}</span></pre><p id="bd4b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">改变原始对象的原因是因为当我们使用<code class="fe mh mi mj lw b">Object.assign</code>或<code class="fe mh mi mj lw b">spread operator,</code>时，它只做<code class="fe mh mi mj lw b">shallow copy</code>，这意味着在创建对象的副本时，只复制第一级的属性，如果有嵌套属性，则只复制它们的引用，这意味着复制的引用仍然引用存储对象的原始位置。</p><p id="b5b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以在我们的例子中，<code class="fe mh mi mj lw b">location</code>属性仍然会引用原始对象，在我们的例子中，它是一个<code class="fe mh mi mj lw b">user</code>对象。</p><p id="d7ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了更好地理解它，查看我以前的文章<a class="ae ky" href="https://medium.com/javascript-in-plain-english/why-you-should-not-use-array-to-remove-all-the-elements-of-array-42ad2951d47e?source=friends_link&amp;sk=d54fa416074e266121ae62f0057eda29" rel="noopener">这里</a>。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="34e5" class="ma mb it lw b gy mc md l me mf">var number = 10;<br/>var display = function () {<br/>  console.log(number);<br/>  var number = 20;<br/>};</span><span id="cfa3" class="ma mb it lw b gy mg md l me mf">display();</span></pre><p id="d9b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面代码的输出不是<code class="fe mh mi mj lw b">10</code>而是<code class="fe mh mi mj lw b">undefined</code></p><p id="46a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为什么？</p><p id="0dd5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是因为Javascript中的<code class="fe mh mi mj lw b">hoisting</code>。</p><p id="0a03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以上面的代码将被转换成下面的代码</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="85e4" class="ma mb it lw b gy mc md l me mf">var number = 10;<br/>var display = function () {<br/>  var number;<br/>  console.log(number);<br/>  number = 20;<br/>};</span><span id="fce7" class="ma mb it lw b gy mg md l me mf">display();</span></pre><p id="e9c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如你所看到的，只有<code class="fe mh mi mj lw b">declaration</code>被移动到函数的开始处，而<code class="fe mh mi mj lw b">value</code>没有被提升，所以<code class="fe mh mi mj lw b">console.log</code>打印<code class="fe mh mi mj lw b">undefined</code>，因为<code class="fe mh mi mj lw b">number</code>在<code class="fe mh mi mj lw b">console.log</code>语句之前没有在函数内赋值。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="76ee" class="ma mb it lw b gy mc md l me mf">const number = 1;</span><span id="4205" class="ma mb it lw b gy mg md l me mf">const result = (function () {<br/>  delete number;<br/>  return number;<br/>})();</span><span id="7773" class="ma mb it lw b gy mg md l me mf">console.log(result);</span></pre><p id="4fff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这段代码不会给出任何错误，因为我们在<code class="fe mh mi mj lw b">number</code>上使用了delete，但是它会将值<code class="fe mh mi mj lw b">1</code>作为输出打印出来。</p><p id="a290" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种直接调用函数的语法称为<code class="fe mh mi mj lw b">IIFE</code>(立即调用函数表达式)。</p><p id="45be" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mh mi mj lw b">delete</code>操作符用于删除对象的属性。这里，<code class="fe mh mi mj lw b">number</code>不是一个对象，但它是一个原始类型，所以它不会抛出错误，但函数将返回变量的初始值，即<code class="fe mh mi mj lw b">console.log</code>语句范围内的<code class="fe mh mi mj lw b">1</code>。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="2f9b" class="ma mb it lw b gy mc md l me mf">const number = 1;</span><span id="31de" class="ma mb it lw b gy mg md l me mf">const result = (function (number) {<br/>  delete number;<br/>  return number;<br/>})(10);</span><span id="10c7" class="ma mb it lw b gy mg md l me mf">console.log(result);</span></pre><p id="540f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面代码的输出是<code class="fe mh mi mj lw b">10</code></p><p id="7bfb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这段代码中，我们将值<code class="fe mh mi mj lw b">10</code>作为函数的输入进行传递。但是在函数<code class="fe mh mi mj lw b">number</code>中，变量只是一个局部原始类型，所以delete不会对数字做任何改变，传递给函数的值<code class="fe mh mi mj lw b">10</code>将从函数中返回。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="3ad1" class="ma mb it lw b gy mc md l me mf">function display() {<br/>  var a = b = 10;<br/>}</span><span id="471a" class="ma mb it lw b gy mg md l me mf">display();</span><span id="7444" class="ma mb it lw b gy mg md l me mf">console.log('b', typeof b === 'undefined');<br/>console.log('a', typeof a === 'undefined');</span></pre><p id="16b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上述代码的输出是</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="9157" class="ma mb it lw b gy mc md l me mf">b false<br/>a true</span></pre><p id="5b91" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是因为赋值操作符在Javascript中有<code class="fe mh mi mj lw b">right to left associativity</code>，这意味着它将从右到左被求值，所以首先，<code class="fe mh mi mj lw b">b</code>将被赋值<code class="fe mh mi mj lw b">10</code>，然后它被赋值给<code class="fe mh mi mj lw b">a</code>。因此</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="2c19" class="ma mb it lw b gy mc md l me mf">function display() {<br/>  var a = b = 10;<br/>}</span></pre><p id="3b53" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与相同</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="ec9d" class="ma mb it lw b gy mc md l me mf">function display() {<br/>  var a = (b = 10);<br/>}</span></pre><p id="fa3c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这与</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="894c" class="ma mb it lw b gy mc md l me mf">function display() {<br/> b = 10; <br/> var a = b;<br/>}</span></pre><p id="a172" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以<code class="fe mh mi mj lw b">b</code>变成了全局变量，因为它前面没有<code class="fe mh mi mj lw b">var</code>关键字，而<code class="fe mh mi mj lw b">a</code>变成了局部变量。因此，在该功能之外，只有<code class="fe mh mi mj lw b">b</code>可用，因此<code class="fe mh mi mj lw b">typeof a === 'undefined'</code>作为<code class="fe mh mi mj lw b">true</code>出现，<code class="fe mh mi mj lw b">typeof b === 'undefined'</code>作为<code class="fe mh mi mj lw b">false.</code>出现</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mr"><img src="../Images/516523dc464fe0fc2e0aba6df0c46794.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jfBxeRemsXtlF7auK6EffA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">输出</figcaption></figure><p id="982a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们在如下所示的<code class="fe mh mi mj lw b">strict mode</code>中执行上述代码，</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="732d" class="ma mb it lw b gy mc md l me mf">'use strict';</span><span id="0c63" class="ma mb it lw b gy mg md l me mf">function display() {<br/>  var a = b = 10;<br/>}</span><span id="adfb" class="ma mb it lw b gy mg md l me mf">display();</span><span id="d1cb" class="ma mb it lw b gy mg md l me mf">console.log('b', typeof b === 'undefined');<br/>console.log('a', typeof a === 'undefined');</span></pre><p id="025f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它会抛出一个错误，因为<code class="fe mh mi mj lw b">b</code>变成了一个全局变量，而<code class="fe mh mi mj lw b">strict mode</code>不允许创建全局变量，所以当你执行这段代码时会出错。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><p id="5616" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看看我最近出版的<a class="ae ky" href="https://master-redux.yogeshchavan.dev/" rel="noopener ugc nofollow" target="_blank">掌握Redux </a>课程。</p><p id="8b81" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本课程中，您将构建3个应用程序以及一个点餐应用程序，您将了解:</p><ul class=""><li id="60f3" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated">基本和高级冗余</li><li id="22ef" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">如何管理数组和对象的复杂状态</li><li id="2c49" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">如何使用多个减速器管理复杂的冗余状态</li><li id="ebd7" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">如何调试Redux应用程序</li><li id="1dcd" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">如何在React中使用Redux使用react-redux库让你的app反应性。</li><li id="5416" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">如何使用redux-thunk库处理异步API调用等等</li></ul><p id="ccc4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我们将从头开始构建一个完整的<a class="ae ky" href="https://www.youtube.com/watch?v=2zaPDfCKAvM" rel="noopener ugc nofollow" target="_blank">订餐应用</a>，集成stripe以接受支付，并将其部署到生产中。</p><p id="00f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">别忘了直接在你的收件箱</strong> <a class="ae ky" href="https://yogeshchavan.dev/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">订阅我的每周时事通讯，里面有惊人的技巧、诀窍和文章。</strong> </a></p></div></div>    
</body>
</html>