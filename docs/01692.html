<html>
<head>
<title>Dive into GraphQL with Apollo Client by Building a SpaceX 🚀 App in Angular 9</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过构建SpaceX，使用Apollo客户端深入了解GraphQL🚀角度9中的应用程序</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/dive-into-graphql-w-apollo-client-by-building-a-spacex-app-in-angular-8-20e703c93f0a?source=collection_archive---------10-----------------------#2020-01-22">https://levelup.gitconnected.com/dive-into-graphql-w-apollo-client-by-building-a-spacex-app-in-angular-8-20e703c93f0a?source=collection_archive---------10-----------------------#2020-01-22</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><figure class="gm go js jt ju jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj jr"><img src="../Images/4de3a5d5b8d16b070a2e99152a261f1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jfFiJr4OxVaU882JZBp1Hg.jpeg"/></div></div><figcaption class="kc kd gk gi gj ke kf bd b be z dk translated">由<a class="ae kg" href="https://unsplash.com/@spacex?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> SpaceX </a>在<a class="ae kg" href="https://unsplash.com/s/photos/spacex?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><figure class="kh ki kj kk gu jv"><div class="bz fq l di"><div class="kl km l"/></div></figure><p id="bd74" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">我知道这听起来很奇怪，但是在带有Apollo客户端的Angular 9应用程序中使用GraphQL感觉就像驾驶SpaceX火箭一样🚀。为什么只有React developer可以是宇航员，可以乘坐GraphQL火箭飞行？<em class="ll">而且我没有任何反对的反应！每个人都可以选择自己的口味😉</em></p><blockquote class="lm ln lo"><p id="07cf" class="kn ko ll kp b kq kr ks kt ku kv kw kx lp kz la lb lq ld le lf lr lh li lj lk in bi translated">这个项目更新到Angular 9，所以确保你在电脑上安装了所有需要的工具。查看这篇文章你应该为你的申请更新什么</p></blockquote><p id="7b99" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">在本教程中，我不会告诉你如何驾驶GraphQL火箭，但我会帮助你启动引擎，这样你就可以学习飞行。</p></div><div class="ab cl lu lv hy lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="in io ip iq ir"><h1 id="a62d" class="mb mc iu bd md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my bi translated">火箭成员，将帮助您顺利开始本教程</h1><p id="657e" class="pw-post-body-paragraph kn ko iu kp b kq mz ks kt ku na kw kx ky nb la lb lc nc le lf lg nd li lj lk in bi translated">当然，我的意思是，如果你具备以下基本知识，那么阅读本教程将会对你有所帮助:</p><ul class=""><li id="1a08" class="ne nf iu kp b kq kr ku kv ky ng lc nh lg ni lk nj nk nl nm bi translated">角度9</li><li id="1f74" class="ne nf iu kp b kq nn ku no ky np lc nq lg nr lk nj nk nl nm bi translated">Typescript 3.7</li><li id="6ade" class="ne nf iu kp b kq nn ku no ky np lc nq lg nr lk nj nk nl nm bi translated">GraphQL(如何使用它的基础知识)</li></ul><p id="1a61" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated"><strong class="kp iv">节点需求</strong></p><ul class=""><li id="2841" class="ne nf iu kp b kq kr ku kv ky ng lc nh lg ni lk nj nk nl nm bi translated">NodeJS ( <em class="ll">最新版本优先</em>)</li><li id="be8b" class="ne nf iu kp b kq nn ku no ky np lc nq lg nr lk nj nk nl nm bi translated">打字稿(<em class="ll">最新版本优先</em>)</li></ul></div><div class="ab cl lu lv hy lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="in io ip iq ir"><h1 id="d05c" class="mb mc iu bd md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my bi translated">你会从中学到什么</h1><p id="13cf" class="pw-post-body-paragraph kn ko iu kp b kq mz ks kt ku na kw kx ky nb la lb lc nc le lf lg nd li lj lk in bi translated">您将学习如何在Angular 8应用程序中使用Apollo客户端运行GraphQL火箭。作为真正的棱角分明的宇航员，有一种方法可以学习这种火箭，那就是建造我们自己的SpaceX explorer👨‍🚀</p><h1 id="1b6c" class="mb mc iu bd md me ns mg mh mi nt mk ml mm nu mo mp mq nv ms mt mu nw mw mx my bi translated">让我们启动角发动机</h1><p id="69fc" class="pw-post-body-paragraph kn ko iu kp b kq mz ks kt ku na kw kx ky nb la lb lc nc le lf lg nd li lj lk in bi translated">Apollo客户端支持Angular Router、Ionic、NativeScript。但是感谢上帝，他们支持角度示意图，这使得我们的生活在第一步变得容易得多🚀。</p></div><div class="ab cl lu lv hy lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="in io ip iq ir"><h1 id="6d44" class="mb mc iu bd md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my bi translated">1:使用CLI创建角度应用程序</h1><p id="2c78" class="pw-post-body-paragraph kn ko iu kp b kq mz ks kt ku na kw kx ky nb la lb lc nc le lf lg nd li lj lk in bi translated">确保您的计算机上安装了Angular CLI。然后运行命令创建一个新的角度。</p><figure class="kh ki kj kk gu jv"><div class="bz fq l di"><div class="nx km l"/></div></figure><p id="00f9" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated"><em class="ll">你想用你现有的Angular app，那么你可以跳过这一步。</em></p><p id="0302" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">将终端转到<code class="fe ny nz oa ob b">spacexGraphQL</code>文件夹，或者打开Visual Studio代码(或者您喜欢的其他IDE)并在其中打开终端。</p></div><div class="ab cl lu lv hy lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="in io ip iq ir"><h1 id="ae2f" class="mb mc iu bd md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my bi translated">2:添加阿波罗客户端</h1><p id="a924" class="pw-post-body-paragraph kn ko iu kp b kq mz ks kt ku na kw kx ky nb la lb lc nc le lf lg nd li lj lk in bi translated">Apollo是业界使用GraphQL最流行的工具。让我们通过Angular CLI安装Apollo客户端，这样它可以自动设置您需要的东西。</p><figure class="kh ki kj kk gu jv"><div class="bz fq l di"><div class="nx km l"/></div></figure></div><div class="ab cl lu lv hy lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="in io ip iq ir"><h1 id="ea09" class="mb mc iu bd md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my bi translated">3:添加spacex GraphQL url</h1><p id="509f" class="pw-post-body-paragraph kn ko iu kp b kq mz ks kt ku na kw kx ky nb la lb lc nc le lf lg nd li lj lk in bi translated">进入<a class="ae kg" href="https://api.spacex.land/graphql/" rel="noopener ugc nofollow" target="_blank"> SpaceX GraphQL页面，</a>复制URL <code class="fe ny nz oa ob b"><a class="ae kg" href="https://api.spacex.land/graphql/" rel="noopener ugc nofollow" target="_blank">https://api.spacex.land/graphql/</a></code>并粘贴到<code class="fe ny nz oa ob b">src/app/graphql.module.ts</code>中的<code class="fe ny nz oa ob b">uri</code>常量变量中。</p><figure class="kh ki kj kk gu jv"><div class="bz fq l di"><div class="nx km l"/></div></figure><p id="f697" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">添加SpaceX URL后，通过下面的命令<code class="fe ny nz oa ob b">npm start</code>启动应用程序，查看它是否正确运行。</p></div><div class="ab cl lu lv hy lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="in io ip iq ir"><h1 id="9d62" class="mb mc iu bd md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my bi translated">4:从API模式自动生成类型</h1><p id="3647" class="pw-post-body-paragraph kn ko iu kp b kq mz ks kt ku na kw kx ky nb la lb lc nc le lf lg nd li lj lk in bi translated">每个GraphQL API将显示它是一个模式。因此，我们可以自动生成这些模型和类型，而不是手工编写🙌。</p><p id="0203" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">首先，我们需要安装<code class="fe ny nz oa ob b">graphql-codegen</code> CLI。</p><figure class="kh ki kj kk gu jv"><div class="bz fq l di"><div class="nx km l"/></div></figure><p id="d68f" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">安装后，运行<code class="fe ny nz oa ob b">npx graphql-codegen init</code>启动设置向导。</p><ol class=""><li id="faed" class="ne nf iu kp b kq kr ku kv ky ng lc nh lg ni lk oc nk nl nm bi translated">您正在构建什么类型的应用程序？<strong class="kp iv">有角度的</strong></li><li id="71df" class="ne nf iu kp b kq nn ku no ky np lc nq lg nr lk oc nk nl nm bi translated">你的模式在哪里？<a class="ae kg" href="https://api.spacex.land/graphql/" rel="noopener ugc nofollow" target="_blank"><strong class="kp iv">https://api.spacex.land/graphql</strong></a></li><li id="4972" class="ne nf iu kp b kq nn ku no ky np lc nq lg nr lk oc nk nl nm bi translated">你的运营和碎片在哪里？<code class="fe ny nz oa ob b"><strong class="kp iv">src/**/*.graphql</strong></code></li><li id="7c9d" class="ne nf iu kp b kq nn ku no ky np lc nq lg nr lk oc nk nl nm bi translated">挑选插件:(<em class="ll">用空格键选择这些插件</em></li><li id="214d" class="ne nf iu kp b kq nn ku no ky np lc nq lg nr lk oc nk nl nm bi translated">typescript(其他TypeScript插件需要)</li><li id="28e2" class="ne nf iu kp b kq nn ku no ky np lc nq lg nr lk oc nk nl nm bi translated">类型脚本操作(操作和片段)</li><li id="54fd" class="ne nf iu kp b kq nn ku no ky np lc nq lg nr lk oc nk nl nm bi translated">TypeScript Apollo Angular(typed GQL服务)</li><li id="0af8" class="ne nf iu kp b kq nn ku no ky np lc nq lg nr lk oc nk nl nm bi translated">在哪里写输出？<code class="fe ny nz oa ob b"><strong class="kp iv">src/generated/graphql.ts</strong></code></li><li id="c00b" class="ne nf iu kp b kq nn ku no ky np lc nq lg nr lk oc nk nl nm bi translated">是否要生成自省文件？<strong class="kp iv">否</strong></li><li id="6dd4" class="ne nf iu kp b kq nn ku no ky np lc nq lg nr lk oc nk nl nm bi translated">如何命名配置文件？<code class="fe ny nz oa ob b"><strong class="kp iv">codegen.yml</strong></code></li><li id="09c2" class="ne nf iu kp b kq nn ku no ky np lc nq lg nr lk oc nk nl nm bi translated">package.json中的哪个脚本应该运行codegen？<code class="fe ny nz oa ob b"><strong class="kp iv">codegen</strong></code></li></ol><p id="9589" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">回答几个问题后，它会根据您的回答生成一个包含所有配置的<code class="fe ny nz oa ob b">codegen.yml</code>文件。</p><p id="67a7" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">看起来像这样。</p><figure class="kh ki kj kk gu jv"><div class="bz fq l di"><div class="nx km l"/></div></figure><p id="53b7" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">运行<code class="fe ny nz oa ob b">npm install</code>安装GraphQL codegen的插件。</p><p id="5591" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">现在我们只需运行<code class="fe ny nz oa ob b">npm run codegen</code>来生成基于当前GrapQL API的模式，听起来很方便，对吧！</p><p id="585e" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">但是我们还没有到那一步，因为这个命令目前失败了，因为我们的项目中还没有任何<code class="fe ny nz oa ob b">.graphql</code>文件。</p></div><div class="ab cl lu lv hy lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="in io ip iq ir"><h1 id="ef5e" class="mb mc iu bd md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my bi translated">5:创建第一个GraphQL文件</h1><p id="ba3a" class="pw-post-body-paragraph kn ko iu kp b kq mz ks kt ku na kw kx ky nb la lb lc nc le lf lg nd li lj lk in bi translated">为了从GraphQL API生成我们所有的类型文件，我们需要创建一个GraphQL文件。在这个文件中，我们定义了在我们的应用程序中要使用的数据，所以我们可以留下我们不想要的数据。</p><p id="6b6e" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">在浏览器中进入<a class="ae kg" href="https://api.spacex.land/graphql/" rel="noopener ugc nofollow" target="_blank"> SpaceX GraphQL </a>游乐场。在<strong class="kp iv">浏览器</strong>侧边栏中选择“火箭”选项。</p><figure class="kh ki kj kk gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj od"><img src="../Images/721898cdf0d77eb1411cdead3599cf13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_O-Whnhs8S9056RJFNubxQ.png"/></div></div></figure><p id="2ef6" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">因为我们想要显示所有SpaceX火箭的列表，所以我们将请求所有的火箭。如果我们想要最多3枚火箭，我们只需要通过选择给它一个限制。</p><p id="265c" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">让我们定义每个火箭需要哪些信息。通过选择属性，您可以选择任何想要的信息。</p><p id="23ef" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated"><strong class="kp iv">我将选择以下内容:</strong></p><ul class=""><li id="95db" class="ne nf iu kp b kq kr ku kv ky ng lc nh lg ni lk nj nk nl nm bi translated">公司</li><li id="194f" class="ne nf iu kp b kq nn ku no ky np lc nq lg nr lk nj nk nl nm bi translated">每次启动的成本</li><li id="c129" class="ne nf iu kp b kq nn ku no ky np lc nq lg nr lk nj nk nl nm bi translated">国家</li><li id="f1ef" class="ne nf iu kp b kq nn ku no ky np lc nq lg nr lk nj nk nl nm bi translated">描述</li><li id="ab1e" class="ne nf iu kp b kq nn ku no ky np lc nq lg nr lk nj nk nl nm bi translated">直径(米)</li><li id="4154" class="ne nf iu kp b kq nn ku no ky np lc nq lg nr lk nj nk nl nm bi translated">首趟航班</li><li id="283c" class="ne nf iu kp b kq nn ku no ky np lc nq lg nr lk nj nk nl nm bi translated">身份证明（identification）</li><li id="f772" class="ne nf iu kp b kq nn ku no ky np lc nq lg nr lk nj nk nl nm bi translated">名字</li><li id="e0e8" class="ne nf iu kp b kq nn ku no ky np lc nq lg nr lk nj nk nl nm bi translated">维基百科（开放式百科全书）</li></ul><p id="e4da" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">在编辑器中，我们现在看到GraphQL为您构建了查询，如果您按下play按钮，您将在右侧获得实际的数据。</p><p id="89ef" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">数据应该类似于下面的例子。您可以看到，我们给查询起了一个名字，以便在应用程序的更多地方重用它。</p><figure class="kh ki kj kk gu jv"><div class="bz fq l di"><div class="nx km l"/></div></figure><p id="736a" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">在我们为这个查询创建一个文件之前，我们需要一个<code class="fe ny nz oa ob b">rockets</code>组件。</p><p id="8273" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">让我们为此运行以下命令。</p><figure class="kh ki kj kk gu jv"><div class="bz fq l di"><div class="nx km l"/></div></figure><p id="948c" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">现在，我们有了一个目录来存放从SpaceX GraphQL API获得的查询内容。所以让我们在火箭组件文件夹中创建一个文件<code class="fe ny nz oa ob b">rockets.graphql</code>，就在我们需要它的地方。</p><p id="5ae9" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">现在我们可以运行<code class="fe ny nz oa ob b">npm run codegen</code>来将我们的GraphQL模式生成到<code class="fe ny nz oa ob b">src/generated/graphql.ts</code>中，这样我们就可以在我们的组件中使用它来引用。</p><p id="3ec6" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">要查看生成的内容，请打开文件。当滚动浏览时，您会看到codegen生成了整个SpaceX GraphQL模式的类型脚本。</p><p id="0b87" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">当你滚动到底部，你会看到这样的东西。这是根据我们的<code class="fe ny nz oa ob b">rockets.graphql</code>文件生成的。我们的查询名的名称是<code class="fe ny nz oa ob b">getRockets</code>,所以我们在生成的文件中找到了它🙌。</p><figure class="kh ki kj kk gu jv"><div class="bz fq l di"><div class="nx km l"/></div></figure></div><div class="ab cl lu lv hy lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="in io ip iq ir"><h1 id="4187" class="mb mc iu bd md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my bi translated">6:显示火箭列表</h1><p id="b14b" class="pw-post-body-paragraph kn ko iu kp b kq mz ks kt ku na kw kx ky nb la lb lc nc le lf lg nd li lj lk in bi translated">现在让我们展示来自令人敬畏的SpaceX API的数据🚀。首先，我们需要采取一些步骤来做到这一点。</p><p id="37b2" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">清洁<code class="fe ny nz oa ob b">app.component.html</code>，只留下<code class="fe ny nz oa ob b">router-outlet</code>在那里。</p><figure class="kh ki kj kk gu jv"><div class="bz fq l di"><div class="nx km l"/></div></figure><p id="9ef8" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">转到<code class="fe ny nz oa ob b">app-routing.module.ts</code>并将火箭组件添加到routes数组中。</p><figure class="kh ki kj kk gu jv"><div class="bz fq l di"><div class="nx km l"/></div></figure><p id="b92c" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">转到<code class="fe ny nz oa ob b">rockets.component.ts</code>并设置它从GraphQL API获取数据。</p><figure class="kh ki kj kk gu jv"><div class="bz fq l di"><div class="nx km l"/></div></figure><p id="5cbe" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">您可以将这段代码复制粘贴到您的组件中，它应该可以工作。但我会带你走一遍。</p><p id="7c33" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">我们创建了一个类型为<code class="fe ny nz oa ob b">Rocket[]</code>的公共属性<code class="fe ny nz oa ob b">rockets</code>。(<em class="ll">这种类型来自我们生成的GraphQL模式</em>)这将是一个火箭数组。它是公共的，因为我们需要在HTML中显示数据。</p><p id="df1d" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">在<code class="fe ny nz oa ob b">constructor</code>中，我们为<code class="fe ny nz oa ob b">GetRocketsGQL</code>添加了一个私有属性，这是为了引用生成的查询文档。它将神奇地通过Apollo客户机发出请求。</p><figure class="kh ki kj kk gu jv"><div class="bz fq l di"><div class="nx km l"/></div></figure><p id="a2c3" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">在<code class="fe ny nz oa ob b">ngOnInit()</code>中，我们用定义好的查询向GraphQL API发出请求，并观察结果。当我们得到结果时，我们将数据添加到<code class="fe ny nz oa ob b">this.rockets</code>，这样我们就可以在HTML中显示它。</p><figure class="kh ki kj kk gu jv"><div class="bz fq l di"><div class="nx km l"/></div></figure><p id="8f29" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">在HTML中，我们可以看到JSON正在工作。</p><figure class="kh ki kj kk gu jv"><div class="bz fq l di"><div class="nx km l"/></div></figure><p id="bd0a" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">转到<a class="ae kg" href="http://localhost:4200" rel="noopener ugc nofollow" target="_blank"> http://localhost:4200 </a>并检查您是否在HTML中看到JSON。如果你看到了，它就工作了！如果没有，请在浏览器中检查控制台是否有错误。</p><p id="98e1" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">但是为了正确地显示信息，您可以像这样构建您的HTML。</p><figure class="kh ki kj kk gu jv"><div class="bz fq l di"><div class="nx km l"/></div></figure><p id="18de" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">看起来像是</p><figure class="kh ki kj kk gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj oe"><img src="../Images/0e7c40169660907daec1dcd58f3cbd85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*veEmZu713brm4tbx_p6Ekw.png"/></div></div></figure></div><div class="ab cl lu lv hy lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="in io ip iq ir"><h1 id="af87" class="mb mc iu bd md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my bi translated">期末考试:我们学到了什么？</h1><p id="b08c" class="pw-post-body-paragraph kn ko iu kp b kq mz ks kt ku na kw kx ky nb la lb lc nc le lf lg nd li lj lk in bi translated">我知道，这不是你想展示给用户的好看的应用程序😉。但是我让你来决定！</p><p id="0628" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">用棱角分明的材料或靴带添加一些造型，你能想到的，就能做出漂亮的东西！</p><p id="de1f" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">我可以继续提供更多的GraphQL技巧和窍门，但是要更深入地学习它，你必须用它工作和玩很多次。</p><p id="61bd" class="pw-post-body-paragraph kn ko iu kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk in bi translated">如果你想看看我的这个应用程序的来源，因为有些东西不工作？请查看<a class="ae kg" href="https://github.com/mrfrontend-development/angular-spacexGraphQL" rel="noopener ugc nofollow" target="_blank">Angular SpaceX graph QL Github repo</a>。</p></div><div class="ab cl lu lv hy lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="in io ip iq ir"><h1 id="58f6" class="mb mc iu bd md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my bi translated">谢谢</h1><p id="34e0" class="pw-post-body-paragraph kn ko iu kp b kq mz ks kt ku na kw kx ky nb la lb lc nc le lf lg nd li lj lk in bi translated">谢谢你一直读到这里🙌。希望你觉得这个教程有用！如果你喜欢视频，请添加评论，这样我可以考虑。</p><h1 id="f50c" class="mb mc iu bd md me ns mg mh mi nt mk ml mm nu mo mp mq nv ms mt mu nw mw mx my bi translated">阅读我的其他帖子</h1><div class="of og gq gs oh oi"><a href="https://itnext.io/graphql-microservices-architecture-by-apollo-8b6eb557c5e2" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fp"><div class="ok ab ol cl cj om"><h2 class="bd iv gz z fq on fs ft oo fv fx it bi translated">阿波罗的GraphQL(微服务)架构</h2><div class="op l"><h3 class="bd b gz z fq on fs ft oo fv fx dk translated">GraphQL太棒了！阿波罗围绕它制造工具，使我们的生活更容易，大规模使用它</h3></div><div class="oq l"><p class="bd b dl z fq on fs ft oo fv fx dk translated">itnext.io</p></div></div><div class="or l"><div class="os l ot ou ov or ow ka oi"/></div></div></a></div><div class="of og gq gs oh oi"><a href="https://itnext.io/prevent-cannot-read-property-of-undefined-errors-with-javascript-classes-typescript-a388c1f0ef45" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fp"><div class="ok ab ol cl cj om"><h2 class="bd iv gz z fq on fs ft oo fv fx it bi translated">用JavaScript类+ TypeScript防止“无法读取未定义的属性”…”错误</h2><div class="op l"><h3 class="bd b gz z fq on fs ft oo fv fx dk translated">每个开发JavaScript的人都会遇到类似“无法读取undefined的属性“…”这样的错误。有一个…</h3></div><div class="oq l"><p class="bd b dl z fq on fs ft oo fv fx dk translated">itnext.io</p></div></div><div class="or l"><div class="ox l ot ou ov or ow ka oi"/></div></div></a></div><div class="of og gq gs oh oi"><a href="https://medium.com/@devbyrayray/from-xhr-to-fetch-with-async-await-on-the-finish-line-b021de1d226b" rel="noopener follow" target="_blank"><div class="oj ab fp"><div class="ok ab ol cl cj om"><h2 class="bd iv gz z fq on fs ft oo fv fx it bi translated">从XHR到终点的异步/等待取货</h2><div class="op l"><h3 class="bd b gz z fq on fs ft oo fv fx dk translated">我已经有一段时间没有写我的最新帖子了。我一直在忙着探索一些与我的…</h3></div><div class="oq l"><p class="bd b dl z fq on fs ft oo fv fx dk translated">medium.com</p></div></div><div class="or l"><div class="oy l ot ou ov or ow ka oi"/></div></div></a></div></div></div>    
</body>
</html>