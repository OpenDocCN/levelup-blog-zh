<html>
<head>
<title>Javascript Date and Time in Detail</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">详细的Javascript日期和时间</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/javascript-date-and-time-in-detail-270e85a68124?source=collection_archive---------1-----------------------#2019-06-02">https://levelup.gitconnected.com/javascript-date-and-time-in-detail-270e85a68124?source=collection_archive---------1-----------------------#2019-06-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="220a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">通过创建一些很酷的😎东西</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/10d6f90658a8ca924744b9ceecfcc016.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VAWFbHifmEWlmM_dUnlCDg.png"/></div></div></figure><p id="e62e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Javascript有一个内置的<code class="fe ln lo lp lq b">Date</code>对象来处理所有与时间和日期相关的操作。例如，您可以显示当前日期/时间，创建日历，构建番茄计时器，编写🛑秒表，等等。</p><h2 id="788a" class="lr ls iq bd lt lu lv dn lw lx ly dp lz la ma mb mc le md me mf li mg mh mi mj bi translated">创建日期对象</h2><p id="6769" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated">我们可以使用<code class="fe ln lo lp lq b">new</code>操作符创建一个<code class="fe ln lo lp lq b">Date</code>对象。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mp"><img src="../Images/9b77337050017395d60da2d33eb2044c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pKkAzRgprx28fRvOiMmrWQ.png"/></div></div></figure><p id="e6cc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">此方法返回带有时间和时区的当前日期。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mq"><img src="../Images/5af070257afc0cfce76dc6d51d09441c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u4FdMSoBuo3EpQTG2vi9rg.png"/></div></div></figure><p id="aaf3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用new关键字时，还有3种创建日期的方法:</p><ol class=""><li id="2536" class="mr ms iq kt b ku kv kx ky la mt le mu li mv lm mw mx my mz bi translated"><strong class="kt ir">用毫秒创建一个</strong> <code class="fe ln lo lp lq b"><strong class="kt ir">Date</strong></code> <strong class="kt ir">对象</strong></li></ol><p id="6310" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们可以通过向<code class="fe ln lo lp lq b">Date</code>对象传递一个以毫秒为单位的时间戳来创建一个日期对象。比如<code class="fe ln lo lp lq b">new Date(1572840117245)</code>。</p><p id="cd9c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当我们通过传递给它<code class="fe ln lo lp lq b">0</code>毫秒来创建一个日期对象时，它将返回<code class="fe ln lo lp lq b">Jan 01 1970 05:30:00</code>的日期对象。这是<a class="ae na" href="https://en.wikipedia.org/wiki/Unix_time" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> Linux纪元</strong> </a>的日期/时间。</p><p id="e1e7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">电脑时间以<code class="fe ln lo lp lq b"><strong class="kt ir">Linux Epoch(Jan 01 1970 05:30:00)</strong></code>为准。</p><p id="e668" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因为零毫秒对应于这个起始点，任何更大的值都是自Linux纪元以来的毫秒数。</p><blockquote class="nb nc nd"><p id="2020" class="kr ks ne kt b ku kv jr kw kx ky ju kz nf lb lc ld ng lf lg lh nh lj lk ll lm ij bi translated">注:如果Linux纪元的概念令人困惑，那么请继续阅读。我们将在文章中进一步了解如何从JS中的epoch获得当前时间戳。使用Linux纪元时间是编程中非常常见的技术，因为它为我们提供了一个精确的比较参考点。</p></blockquote><p id="b003" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们进一步扩展这个演示。一月有31天，每天24小时，每小时60分钟，每分钟60秒，每秒1000毫秒。</p><p id="c1ce" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">所以，让我们把<code class="fe ln lo lp lq b">31 * 24 * 60 * 60 * 1000 = 2678400000</code>传递给<code class="fe ln lo lp lq b">Date</code>对象。不出所料，结果是1970年2月1日，比Linux时代晚了一个月。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/fc777ac1bd6604d9fcffef51dfd6487d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OCECvxghVkTZ9R5o-e1Q2g.png"/></div></div></figure><p id="7049" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">2.<strong class="kt ir">通过传递每个值</strong>创建一个 <code class="fe ln lo lp lq b"><strong class="kt ir">Date</strong></code> <strong class="kt ir">对象</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nj"><img src="../Images/f89ab168487027c9d82b34cdff361ecf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*szdW1Kspqg-k8QvgnvmsjQ.png"/></div></div></figure><p id="dae5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">3.<strong class="kt ir">使用</strong> <code class="fe ln lo lp lq b"><strong class="kt ir">dateString</strong></code>创建 <code class="fe ln lo lp lq b"><strong class="kt ir">Date</strong></code> <strong class="kt ir">对象</strong></p><p id="309f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们可以通过传递日期的字符串表示来创建一个<code class="fe ln lo lp lq b">Date</code>对象。如果字符串表示能够使用<code class="fe ln lo lp lq b">Date.parse()</code>进行解析，那么它就是可接受的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/040ab95205c9a67f5c63454e69df7b75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qsMBvORdk1r82DRKZ17gLQ.png"/></div></div></figure><p id="7e57" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">允许的格式是<code class="fe ln lo lp lq b"><strong class="kt ir">YYYY-MM-DDTHH:mm:ss.sssZ</strong></code></p><p id="d63d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">YYYY →年份</p><p id="752c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">MM →月</p><p id="e224" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">DD →日</p><p id="1bab" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">T →日期和时间分隔符</p><p id="0880" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">HH →小时</p><p id="04d7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">毫米→分钟</p><p id="0ee8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">ss→秒</p><p id="c279" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">sss →毫秒</p><p id="483a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Z →时区</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/1834255c68d56ce89c4ffb5df55db937.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SjKxxQjG9d5dD4rQTx9q9Q.png"/></div></div></figure><h2 id="2265" class="lr ls iq bd lt lu lv dn lw lx ly dp lz la ma mb mc le md me mf li mg mh mi mj bi translated">使用Date对象方法获取和更新日期</h2><p id="8e5a" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated">我们在上一节中创建的<code class="fe ln lo lp lq b">Date</code>对象提供了许多获取和更新(设置)日期的方法。</p><p id="2807" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先，让我们学习一下<code class="fe ln lo lp lq b">get</code>的方法:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/735a4699f744ba421deb1e53e88613e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D_SVT94jGVElajre7bB-Qg.png"/></div></div></figure><p id="3cec" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">示例</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/1c7a5f581ddd642308c0da89892ac4a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fAYWm0FBuuz0xEGJmpIHMg.png"/></div></div></figure><p id="639a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们可以通过在<code class="fe ln lo lp lq b"><strong class="kt ir">Date</strong></code>对象上使用<code class="fe ln lo lp lq b"><strong class="kt ir">set</strong></code>方法来改变日期。</p><p id="fdeb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">例题</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nn"><img src="../Images/d5adb7b87396f4e2a4cc41bcde333872.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Od_O-G4FPVnABYXqVMuRWA.png"/></div></div></figure><h2 id="8ceb" class="lr ls iq bd lt lu lv dn lw lx ly dp lz la ma mb mc le md me mf li mg mh mi mj bi translated">日期对象的技巧</h2><ol class=""><li id="47c2" class="mr ms iq kt b ku mk kx ml la no le np li nq lm mw mx my mz bi translated">要获得以毫秒为单位的当前时间，我们可以使用<code class="fe ln lo lp lq b">Date.now</code>方法，该方法将返回自Linux纪元以来的总毫秒数。</li></ol><pre class="kg kh ki kj gt nr lq ns nt aw nu bi"><span id="7195" class="lr ls iq lq b gy nv nw l nx ny">Date.now(); // <!-- -->1572840117245</span></pre><p id="69dc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">利用那个时间，你可以调用<code class="fe ln lo lp lq b">new Date(1572840117245)</code>，你会看到它对应的是当前日期。</p><p id="349f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">2.要获得格式化字符串，使用<code class="fe ln lo lp lq b">toDateString</code>方法:</p><pre class="kg kh ki kj gt nr lq ns nt aw nu bi"><span id="f13d" class="lr ls iq lq b gy nv nw l nx ny">var dt = new Date(22,5,1997);</span><span id="8c6b" class="lr ls iq lq b gy nz nw l nx ny">dt.toDateString() // Sun Jun 22 1997</span></pre><p id="cb3a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">3.用Javascript计算一个月的总天数。</p><p id="8074" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们需要创建一个函数，它接受月(在JS中月的索引为0–11)和年作为参数，并且我们需要返回该月的天数。</p><p id="bffd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当我们用年和月创建一个<code class="fe ln lo lp lq b">Date</code>对象时，一个月中的第几天被设置为1。</p><p id="b633" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因此，如果我们传递<code class="fe ln lo lp lq b"><strong class="kt ir">new Date(5,2019)</strong></code>，那么它将返回<code class="fe ln lo lp lq b"><strong class="kt ir">1st June 2019</strong></code> <strong class="kt ir">的日期对象。</strong></p><p id="279a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">没有一个月会超过31天。所以如果我们把日期定为32，那么</p><ul class=""><li id="f408" class="mr ms iq kt b ku kv kx ky la mt le mu li mv lm oa mx my mz bi translated">如果本月有<strong class="kt ir"> 31天→指向下个月第一天，</strong></li><li id="87b7" class="mr ms iq kt b ku ob kx oc la od le oe li of lm oa mx my mz bi translated">如果当月有<strong class="kt ir"> 30天→指向下月第二天</strong>，</li><li id="31ac" class="mr ms iq kt b ku ob kx oc la od le oe li of lm oa mx my mz bi translated">如果当月有<strong class="kt ir"> 29天→指向下月第三天，</strong></li><li id="48a9" class="mr ms iq kt b ku ob kx oc la od le oe li of lm oa mx my mz bi translated">如果当月有<strong class="kt ir"> 28天→指向下月第四天，</strong></li></ul><p id="0a3a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">示例:</p><pre class="kg kh ki kj gt nr lq ns nt aw nu bi"><span id="870a" class="lr ls iq lq b gy nv nw l nx ny">var d = new Date(2019, 0, 32); // Feb 01 2019</span><span id="da47" class="lr ls iq lq b gy nz nw l nx ny">d.getDate(); // 1 (because Jan 2019 has 31 days)</span><span id="494c" class="lr ls iq lq b gy nz nw l nx ny">var d = new Date(2019, 1, 32); Mar 04 2019</span><span id="f981" class="lr ls iq lq b gy nz nw l nx ny">d.getDate(); // 4 (because Feb 2019 has 28 days)</span></pre><p id="d831" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果我们再次<code class="fe ln lo lp lq b"><strong class="kt ir">subtract the current date from 32</strong></code>，那么我们将得到所提供的一个月中的天数。</p><p id="f42d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因此，让我们创建一个函数，返回经过年和月的天数:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi og"><img src="../Images/15a9b72024847e11748fc9045c7e7852.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1HX5y0Fy8FgzvgGUhhDURg.png"/></div></div></figure><p id="49bc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这些就是JavaScript中日期对象的关键特性！</p><p id="5140" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你发现这个有用的惊喜🎁我这里<a class="ae na" href="https://www.paypal.me/jagathishSaravanan" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"/></a><strong class="kt ir">。</strong></p><p id="67bd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">觉得开心就分享。</strong></p><p id="4dec" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">跟随</strong> <a class="oh oi ep" href="https://medium.com/u/f9ffc26e7e69?source=post_page-----270e85a68124--------------------------------" rel="noopener" target="_blank"> <strong class="kt ir"> Javascript Jeep🚙</strong> </a> <strong class="kt ir">如果你觉得值得。</strong></p></div></div>    
</body>
</html>