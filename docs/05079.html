<html>
<head>
<title>Structure Firestore (Firebase) For Scalable Chat App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">可扩展聊天应用的结构化Firestore (Firebase)</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/structure-firestore-firebase-for-scalable-chat-app-939c7a6cd0f5?source=collection_archive---------0-----------------------#2020-08-03">https://levelup.gitconnected.com/structure-firestore-firebase-for-scalable-chat-app-939c7a6cd0f5?source=collection_archive---------0-----------------------#2020-08-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/44b0e86cca1913affc0e48fa37c8ba6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ytZ9VUnP4VFUmePNqphrrQ.gif"/></div></div></figure><p id="b4df" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如今，messenger应用程序非常普遍，每个人都使用大量流行的聊天应用程序，如Facebook Messenger、Whatsapp、Viber、Telegram等。然而，用户有许多选择来连接到其他人，许多企业构建自己的聊天应用程序的原因是因为他们关注安全性或隐私，并且需要管理他们员工的对话或需要便利，而无需切换许多其他应用程序来进行对话。</p><h1 id="b066" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">什么是Firebase</h1><blockquote class="lu lv lw"><p id="825e" class="jy jz lx ka b kb kc kd ke kf kg kh ki ly kk kl km lz ko kp kq ma ks kt ku kv ij bi translated"><em class="iq"> Firebase </em>是谷歌的移动平台，可以帮助你快速开发高质量的应用并发展你的业务。</p></blockquote><p id="8740" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae mb" href="https://firebase.google.com/" rel="noopener ugc nofollow" target="_blank"> Firebase </a>提供了一个为你所用付费的云平台。这意味着，当用户数量增加时，您不必构建自己的服务器来存储数据、优化和维护您的硬件、努力扩展您的系统，而是能够使用Firebase以合理的费用解决上述所有问题。此外，关于聊天应用的主题，Firebase提供了两个基于云的数据库，即实时数据库和Firestore:</p><blockquote class="lu lv lw"><p id="9a77" class="jy jz lx ka b kb kc kd ke kf kg kh ki ly kk kl km lz ko kp kq ma ks kt ku kv ij bi translated"><strong class="ka ir"> Cloud Firestore </strong>是Firebase最新的移动应用开发数据库。它以实时数据库的成功为基础，采用了新的、更直观的数据模型。Cloud Firestore还具有比实时数据库更丰富、更快速的查询和扩展能力。</p><p id="dd4c" class="jy jz lx ka b kb kc kd ke kf kg kh ki ly kk kl km lz ko kp kq ma ks kt ku kv ij bi translated"><strong class="ka ir">实时数据库</strong>是Firebase的原始数据库。这是一种高效、低延迟的解决方案，适用于需要在客户端之间实时同步状态的移动应用。</p></blockquote><p id="6473" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您应该选择Firestore的原因是:</p><ul class=""><li id="bef8" class="mc md iq ka b kb kc kf kg kj me kn mf kr mg kv mh mi mj mk bi translated">客户端优先的SDK，无需部署和维护服务器</li><li id="85ac" class="mc md iq ka b kb ml kf mm kj mn kn mo kr mp kv mh mi mj mk bi translated">实时更新</li><li id="be90" class="mc md iq ka b kb ml kf mm kj mn kn mo kr mp kv mh mi mj mk bi translated">免费层，然后付费使用</li></ul><p id="8425" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">此外，也许你只是想尝试一些新的东西，看看怎么样。</p><blockquote class="lu lv lw"><p id="38a3" class="jy jz lx ka b kb kc kd ke kf kg kh ki ly kk kl km lz ko kp kq ma ks kt ku kv ij bi translated">Cloud Firestore是一个云托管的NoSQL数据库，您的iOS、Android和web应用可以通过原生SDK直接访问它。除了REST和RPC APIs之外，Cloud Firestore还提供了native Node.js、Java、Python、Unity、C++和Go SDKs。</p></blockquote><h1 id="3eef" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">数据库的结构</h1><p id="4bdf" class="pw-post-body-paragraph jy jz iq ka b kb mq kd ke kf mr kh ki kj ms kl km kn mt kp kq kr mu kt ku kv ij bi translated">即将提到的Firebase是一个NoSQL数据模型，您将数据存储在包含映射到值的字段的文档中。这些文档放入用于组织结构和构建查询的集合中。云Firestore <a class="ae mb" href="https://firebase.google.com/docs/firestore/data-model" rel="noopener ugc nofollow" target="_blank">数据模型</a>支持最适合你的应用的任何数据结构。到目前为止，您的数据库只是一个大型JSON对象。</p><h2 id="9b63" class="mv kx iq bd ky mw mx dn lc my mz dp lg kj na nb lk kn nc nd lo kr ne nf ls ng bi translated">集合的定义</h2><p id="b19a" class="pw-post-body-paragraph jy jz iq ka b kb mq kd ke kf mr kh ki kj ms kl km kn mt kp kq kr mu kt ku kv ij bi translated">在创建数据库和集合之前，我们需要在Firebase中创建一个项目和数据库，否则，有一个<a class="ae mb" rel="noopener ugc nofollow" target="_blank" href="/building-chat-app-using-firebase-cross-platform-with-mobile-app-nativescript-web-app-nuxtjs-44b5984e7b7a?source=your_stories_page---------------------------">基本公会</a>开始使用Firebase的聊天应用程序。</p><h2 id="2d63" class="mv kx iq bd ky mw mx dn lc my mz dp lg kj na nb lk kn nc nd lo kr ne nf ls ng bi translated">在Firebase中启用Google身份验证</h2><p id="3d16" class="pw-post-body-paragraph jy jz iq ka b kb mq kd ke kf mr kh ki kj ms kl km kn mt kp kq kr mu kt ku kv ij bi translated">首先，收集用户是强制性的，你可以在Firebase中存储用户的数据，也可以不存储，用户的数据可以使用Oracle，PostgreSQL，MySQL，SQLServer等存储在你的数据库中，只需使用你的userId或类似的东西来识别Firestore中的用户。如果你将用户的数据存储在你自己的服务器或其他云平台的数据库中，你必须保证你的服务器的可用性和连接性。为了简化给大家，我会创建一个用户的集合来存储用户通过Google认证登录时的用户数据。</p><p id="0f3e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">要在Firebase中启用Google身份验证，我们在左侧导航中选择“身份验证”,然后用铅笔点击“Google”右侧的“登录方式”并启用它。现在，我们可以通过谷歌认证登录Firebase。</p><h2 id="15c3" class="mv kx iq bd ky mw mx dn lc my mz dp lg kj na nb lk kn nc nd lo kr ne nf ls ng bi translated">用户集合</h2><p id="57db" class="pw-post-body-paragraph jy jz iq ka b kb mq kd ke kf mr kh ki kj ms kl km kn mt kp kq kr mu kt ku kv ij bi translated">当用户登录Firebase平台时，每个用户的数据都要保存在集合中，我们只保存用户的一些基本信息，用户唯一的id作为文档的一个关键字。这个集合的结构会表达这样的东西:</p><figure class="ni nj nk nl gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nh"><img src="../Images/0fc097f0c25048de7804c271297da4b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eW1xy2tWDMims2SLq2iykg.png"/></div></div><figcaption class="nm nn gj gh gi no np bd b be z dk translated">用户集合</figcaption></figure><p id="8f76" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">创建<strong class="ka ir">用户集合</strong>，包含uid、email、photoUrl、displayName等基本信息(取决于您的需求)。</p><p id="1cb8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这种情况下，收集登录用户的信息不成问题。以下示例可以帮助您通过Google Authenticate登录，并在使用Javascript登录后获取用户信息。</p><pre class="ni nj nk nl gt nq nr ns nt aw nu bi"><span id="b570" class="mv kx iq nr b gy nv nw l nx ny">const auth = firebase.auth()<br/>...<br/>signInWithGoogleAuthentication() {<br/>  const provider = new firebase.auth.GoogleAuthProvider()<br/>  return new Promise((resolve, reject) =&gt; {<br/>    auth<br/>      .signInWithPopup(provider)<br/>      .then(function (result) {<br/>        resolve(result.user)<br/>      })<br/>      .catch(function (error) {<br/>        reject(error)<br/>      })<br/>    })<br/>},</span></pre><p id="ec78" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是一个将用户信息保存到Firestore的示例:</p><pre class="ni nj nk nl gt nq nr ns nt aw nu bi"><span id="e657" class="mv kx iq nr b gy nv nw l nx ny">const db = firebase.firestore()<br/>...<br/>saveUserToFirestore(user) {<br/>  const userRef = db.collection('user')<br/>  userRef.doc(user.uid).set({<br/>    uid: user.uid,<br/>    displayName: user.displayName,<br/>    photoURL: user.photoURL,<br/>    email: user.email,<br/>  })<br/>},</span></pre><p id="f466" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">接下来，我们需要注意群聊，因为一个用户可以加入多个群组，并且一个群组将包含多个用户。因此，我们应该在用户的集合中创建“组”来优化查询，并避免花费比预期更长的时间从复杂的查询中获得结果。</p><h2 id="91b3" class="mv kx iq bd ky mw mx dn lc my mz dp lg kj na nb lk kn nc nd lo kr ne nf ls ng bi translated">组的集合</h2><p id="c762" class="pw-post-body-paragraph jy jz iq ka b kb mq kd ke kf mr kh ki kj ms kl km kn mt kp kq kr mu kt ku kv ij bi translated">组集合将存储组的创建者、组的类型、组的成员、名称等数据。</p><figure class="ni nj nk nl gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nz"><img src="../Images/e662e1b07d9c947c4e877b0cb8d28156.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dyQLN-TpLyD_GtxHp2gSUw.png"/></div></div><figcaption class="nm nn gj gh gi no np bd b be z dk translated">组集合</figcaption></figure><p id="93f2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们要把“userId”保存到“createdBy”，把“members”保存为“userId”的数组。“CreateAt”应该是自动生成的，最后一个是非常重要的类型，因为它区别于私聊和群聊。群聊可以包括多个成员，但私聊只包含2个人，所以我们使用“类型”来分隔前端或控制工作流，这取决于您的要求。此外，我们可以创建其他字段，如“姓名”、“最近消息”等，我们可以通过“阅读”字段来检查谁阅读了此消息。</p><h2 id="b3a7" class="mv kx iq bd ky mw mx dn lc my mz dp lg kj na nb lk kn nc nd lo kr ne nf ls ng bi translated">消息集合</h2><p id="7700" class="pw-post-body-paragraph jy jz iq ka b kb mq kd ke kf mr kh ki kj ms kl km kn mt kp kq kr mu kt ku kv ij bi translated">我们将把所有的消息存储到这个集合中，这个集合由组id来区分。消息的强制字段是“sentBy ”,它存储“userId”和“messageText”。</p><figure class="ni nj nk nl gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nz"><img src="../Images/9c21f5918c9f3888aa89a717b7efc326.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jvMXC2cpMCpmTT_qPg_qhw.png"/></div></div><figcaption class="nm nn gj gh gi no np bd b be z dk translated">消息收集</figcaption></figure><p id="6363" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">消息集合包含具有与组ID 相同的<strong class="ka ir"> ID的文档，并且每个文档具有它们的集合调用消息</strong></p><figure class="ni nj nk nl gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nz"><img src="../Images/7e38ef001335f4eb72254c2da508ec9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JAo4wXdSje3yZhORRPZJsw.png"/></div></div><figcaption class="nm nn gj gh gi no np bd b be z dk translated">消息文档</figcaption></figure><figure class="ni nj nk nl gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nz"><img src="../Images/f475f7f69f4575c5e45f1cb35d705b59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fDgmYs6VD8ArBgm4m4YXWA.png"/></div></div><figcaption class="nm nn gj gh gi no np bd b be z dk translated">消息字段</figcaption></figure><figure class="ni nj nk nl gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oa"><img src="../Images/f7cbdd7c62bad68f8a2538d490b96ab9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*dqvysKWBPG2TujuijQilxw.gif"/></div></div><figcaption class="nm nn gj gh gi no np bd b be z dk translated">消息集合的结构</figcaption></figure><figure class="ni nj nk nl gt jr gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/77af1288d921375002baf7ad45db03d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/format:webp/1*zPWxqjFsmHgBqLkXXhfqyA.png"/></div><figcaption class="nm nn gj gh gi no np bd b be z dk translated">消息集合的结构</figcaption></figure><h1 id="6e4c" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">查询示例</h1><p id="2994" class="pw-post-body-paragraph jy jz iq ka b kb mq kd ke kf mr kh ki kj ms kl km kn mt kp kq kr mu kt ku kv ij bi translated">在进入一个查询的例子之前，你需要设置和你的带有<a class="ae mb" rel="noopener ugc nofollow" target="_blank" href="/building-chat-app-using-firebase-cross-platform-with-mobile-app-nativescript-web-app-nuxtjs-44b5984e7b7a?source=friends_link&amp;sk=eab561263b2ec3c81bde623b55753c0f">链接</a>的应用程序。</p><p id="6f48" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下面的代码是Firestore使用Javascript进行查询的一个示例，可能有助于您更好地理解这种结构。</p><h2 id="7fa4" class="mv kx iq bd ky mw mx dn lc my mz dp lg kj na nb lk kn nc nd lo kr ne nf ls ng bi translated">通过用户id获取一个组的数组</h2><pre class="ni nj nk nl gt nq nr ns nt aw nu bi"><span id="4088" class="mv kx iq nr b gy nv nw l nx ny">const db = firebase.firestore()<br/>...<br/>fetchGroupByUserID(uid) {<br/>  const vm = this<br/>  return new Promise((resolve, reject) =&gt; {<br/>    const groupRef = db.collection('group')<br/>    groupRef<br/>     .where('members', 'array-contains', uid)<br/>     .onSnapshot((querySnapshot) =&gt; {<br/>       const allGroups = []<br/>       querySnapshot.forEach((doc) =&gt; {<br/>         const data = doc.data()<br/>         data.id = doc.id<br/>         if (data.recentMessage) allGroups.push(data)<br/>       })<br/>       vm.groups = allGroups<br/>     })<br/>   })<br/>},</span></pre><h2 id="6b6b" class="mv kx iq bd ky mw mx dn lc my mz dp lg kj na nb lk kn nc nd lo kr ne nf ls ng bi translated">使用用户数组筛选组</h2><pre class="ni nj nk nl gt nq nr ns nt aw nu bi"><span id="f5ab" class="mv kx iq nr b gy nv nw l nx ny">const db = firebase.firestore()<br/>...<br/>filterGroup(userArray) {<br/>  const vm = this<br/>  vm.groups = []<br/>  return new Promise((resolve, reject) =&gt; {<br/>    let groupRef = db.collection('group')<br/>    userArray.forEach((userId) =&gt; {<br/>      groupRef = groupRef.where('members', '==', userId)<br/>    })<br/>    groupRef<br/>      .get()<br/>      .then(function (querySnapshot) {<br/>        const allGroups = []<br/>        querySnapshot.forEach((doc) =&gt; {<br/>          const data = doc.data()<br/>          data.id = doc.id<br/>          allGroups.push(data)<br/>       })<br/>       if (allGroups.length &gt; 0) {<br/>         resolve(allGroups[0])<br/>       } else {<br/>         resolve(null)<br/>       }<br/>    })<br/>    .catch(function (error) {<br/>      reject(error)<br/>    })<br/>  })<br/>},</span></pre><p id="fd36" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">上面的代码是用来检查私人聊天(组只包含2个成员)，如果它还没有存在，我们应该创建新的，我会在这个故事的结尾展示一个演示。</p><h2 id="94cf" class="mv kx iq bd ky mw mx dn lc my mz dp lg kj na nb lk kn nc nd lo kr ne nf ls ng bi translated">按组ID提取消息</h2><pre class="ni nj nk nl gt nq nr ns nt aw nu bi"><span id="0470" class="mv kx iq nr b gy nv nw l nx ny">const db = firebase.firestore()<br/>...<br/>fetchMessagesByGroupId(groupId) {<br/>  const vm = this<br/>  db.collection('message')<br/>    .doc(groupId.trim())<br/>    .collection('messages')<br/>    .orderBy('sentAt')<br/>    .onSnapshot((querySnapshot) =&gt; {<br/>      const allMessages = []<br/>      querySnapshot.forEach((doc) =&gt; {<br/>        if (doc) allMessages.push(doc.data())<br/>      })<br/>      vm.messages = allMessages<br/>    })<br/>},</span></pre><h2 id="b4b6" class="mv kx iq bd ky mw mx dn lc my mz dp lg kj na nb lk kn nc nd lo kr ne nf ls ng bi translated">保存消息</h2><pre class="ni nj nk nl gt nq nr ns nt aw nu bi"><span id="9375" class="mv kx iq nr b gy nv nw l nx ny">const db = firebase.firestore()<br/>...<br/>saveMessage(messageText, sentAt, currentGroupId) {<br/>  if (messageText.trim()) {<br/>  const message = {<br/>    messageText,<br/>    sentAt,<br/>    sentBy: this.user.uid,<br/>  }<br/>  return new Promise((resolve, reject) =&gt; {<br/>    db.collection('message')<br/>      .doc(currentGroupId)<br/>      .collection('messages')<br/>      .add(message)<br/>      .then(function (docRef) {<br/>        resolve(message)<br/>      })<br/>      .catch(function (error) {<br/>        reject(error)<br/>      })<br/>    })<br/>  }<br/>},</span></pre><h1 id="0134" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">演示聊天应用程序</h1><h2 id="970f" class="mv kx iq bd ky mw mx dn lc my mz dp lg kj na nb lk kn nc nd lo kr ne nf ls ng bi translated">注册</h2><figure class="ni nj nk nl gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oc"><img src="../Images/232540fc7ed6ba9d2cd4a3f41d139952.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*CcKJDjuT_Cc8KQ4hi3j_Vw.gif"/></div></div><figcaption class="nm nn gj gh gi no np bd b be z dk translated">注册</figcaption></figure><h2 id="4da7" class="mv kx iq bd ky mw mx dn lc my mz dp lg kj na nb lk kn nc nd lo kr ne nf ls ng bi translated">私人聊天</h2><figure class="ni nj nk nl gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oc"><img src="../Images/39d9e161f8f5288034c4b8d29a28a43a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*FzW5tN2JSnE-QwfBVuMF9g.gif"/></div></div><figcaption class="nm nn gj gh gi no np bd b be z dk translated">私人聊天</figcaption></figure><h2 id="9165" class="mv kx iq bd ky mw mx dn lc my mz dp lg kj na nb lk kn nc nd lo kr ne nf ls ng bi translated">创建群组</h2><figure class="ni nj nk nl gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oc"><img src="../Images/7139581e591b6031ae017be873c8ef3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*fQ6FEux3scIus_pdNSq9lA.gif"/></div></div><figcaption class="nm nn gj gh gi no np bd b be z dk translated">创建群组</figcaption></figure><h2 id="3239" class="mv kx iq bd ky mw mx dn lc my mz dp lg kj na nb lk kn nc nd lo kr ne nf ls ng bi translated">群聊</h2><figure class="ni nj nk nl gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oc"><img src="../Images/081c2c89448943cca8a386a4f5fc6f56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Oc1Xk6EiRl1xAtZP2yObeQ.gif"/></div></div><figcaption class="nm nn gj gh gi no np bd b be z dk translated">群聊</figcaption></figure><p id="33cb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">有关它的更多详细信息，请访问:</p><div class="od oe gp gr of og"><a href="https://github.com/bachhm-dev/nuxt-advance-chat" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd ir gy z fp ol fr fs om fu fw ip bi translated">bachm-dev/nuxt-advance-chat</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">github.com</p></div></div><div class="op l"><div class="oq l or os ot op ou jw og"/></div></div></a></div><h1 id="fa70" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">结论</h1><p id="950f" class="pw-post-body-paragraph jy jz iq ka b kb mq kd ke kf mr kh ki kj ms kl km kn mt kp kq kr mu kt ku kv ij bi translated">有一个聊天数据库的结构，我认为对于每个想研究Firestore或聊天数据库结构的人来说，这很容易理解。感谢阅读，如果我有任何错误，欢迎反馈。</p></div></div>    
</body>
</html>