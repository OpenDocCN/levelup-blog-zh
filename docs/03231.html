<html>
<head>
<title>React vs Vue — Handling Selections</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">反应与Vue —处理选择</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/react-vs-vue-handling-selections-73d70e7e327b?source=collection_archive---------16-----------------------#2020-04-26">https://levelup.gitconnected.com/react-vs-vue-handling-selections-73d70e7e327b?source=collection_archive---------16-----------------------#2020-04-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/ab6ea386c2eabe716a3eebbbcdd212e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0id1XzUNGDCCQYSE"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">由<a class="ae kf" href="https://unsplash.com/@bpyndus?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">博迪·皮恩多斯</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="07ce" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">React是最近几年最流行的前端库。Vue是一个前端框架，正在快速追赶。</p><p id="fbf4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">很难在这两种框架之间做出选择，因为它们各有利弊。</p><p id="1da4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将比较React和Vue框架如何处理表单单选按钮和下拉选择，以及哪一个对开发人员来说更容易。</p><h1 id="bf1f" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">单选按钮</h1><p id="2495" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">使用Vue，我们可以使用<code class="fe mh mi mj mk b">v-model</code>指令将单选按钮选项直接绑定到组件的模型。</p><p id="64f4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，使用Vue，我们编写以下代码来添加一组单选按钮，并在屏幕上显示所选的选项:</p><p id="266b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">index.html</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="1bf2" class="mt lf it mk b gy mu mv l mw mx">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;input type="radio" value="One" v-model="picked" /&gt;<br/>      &lt;label&gt;One&lt;/label&gt;<br/>      &lt;br /&gt;<br/>      &lt;input type="radio" value="Two" v-model="picked" /&gt;<br/>      &lt;label&gt;Two&lt;/label&gt;<br/>      &lt;br /&gt;<br/>      &lt;span&gt;Picked: {{ picked }}&lt;/span&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="050e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">index.js</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="03c5" class="mt lf it mk b gy mu mv l mw mx">const app = new Vue({<br/>  el: "#app",<br/>  data: {<br/>    picked: ""<br/>  }<br/>});</span></pre><p id="aacc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们只是将两个单选按钮的<code class="fe mh mi mj mk b">v-model</code>值设置为同一个<code class="fe mh mi mj mk b">picked</code>型号。</p><p id="aae3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，当我们单击任一单选按钮时，我们将看到所选选项显示在span中。</p><p id="6944" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用React，我们必须为每个单选按钮添加<code class="fe mh mi mj mk b">checked</code>属性，以便只检查选中的值。</p><p id="c417" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们编写以下代码，用React重写上面的示例:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="23cf" class="mt lf it mk b gy mu mv l mw mx">import React, { useState } from "react";</span><span id="2c7b" class="mt lf it mk b gy my mv l mw mx">export default function App() {<br/>  const [picked, setPicked] = useState("");<br/>  const handleClick = e =&gt; setPicked(e.target.value);</span><span id="2ab1" class="mt lf it mk b gy my mv l mw mx">  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;input<br/>        type="radio"<br/>        value="One"<br/>        checked={picked === "One"}<br/>        onClick={handleClick}<br/>      /&gt;<br/>      &lt;label&gt;One&lt;/label&gt;<br/>      &lt;br /&gt;<br/>      &lt;input<br/>        type="radio"<br/>        value="Two"<br/>        checked={picked === "Two"}<br/>        onClick={handleClick}<br/>      /&gt;<br/>      &lt;label&gt;Two&lt;/label&gt;<br/>      &lt;br /&gt;<br/>      &lt;span&gt;Picked: {picked}&lt;/span&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="dfd5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们有与Vue示例中相同的2个单选按钮，但是我们添加了一个<code class="fe mh mi mj mk b">onClick</code>处理程序来设置<code class="fe mh mi mj mk b">picked</code>状态，并且我们还有一个<code class="fe mh mi mj mk b">checked</code>属性来指示何时应该检查它们。</p><p id="7aa9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们指出，我们只希望在选取给定值时选择它们。</p><p id="96ea" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是额外的工作，我们不必用Vue。</p><h1 id="f2b9" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">处理下拉选择</h1><p id="5cef" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以使用<code class="fe mh mi mj mk b">v-model</code>用Vue直接绑定到下拉列表的选定值。</p><p id="e454" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，我们可以编写以下代码来创建一个下拉菜单，然后显示选中的选项:</p><p id="2d41" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">index.html</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="418f" class="mt lf it mk b gy mu mv l mw mx">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;select v-model="picked"&gt;<br/>        &lt;option&gt;One&lt;/option&gt;<br/>        &lt;option&gt;Two&lt;/option&gt;<br/>      &lt;/select&gt;<br/>      &lt;br /&gt;<br/>      &lt;span&gt;Picked: {{ picked }}&lt;/span&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="7cfa" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">index.js</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="fcf1" class="mt lf it mk b gy mu mv l mw mx">const app = new Vue({<br/>  el: "#app",<br/>  data: {<br/>    picked: ""<br/>  }<br/>});</span></pre><p id="596c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们创建了一个下拉菜单，然后将选择的值绑定到Vue组件中的<code class="fe mh mi mj mk b">picked</code>模型。</p><p id="2d25" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们引用<code class="fe mh mi mj mk b">picked</code>来显示在span中选择的选项。</p><p id="d51f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果值和显示的文本相同，我们不必指定值。</p><p id="d97b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用React，我们编写以下代码来处理设置下拉列表中的选定值:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="3c96" class="mt lf it mk b gy mu mv l mw mx">import React, { useState } from "react";</span><span id="a806" class="mt lf it mk b gy my mv l mw mx">export default function App() {<br/>  const [picked, setPicked] = useState("");</span><span id="5e73" class="mt lf it mk b gy my mv l mw mx">  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;select onChange={e =&gt; setPicked(e.target.value)}&gt;<br/>        &lt;option&gt;One&lt;/option&gt;<br/>        &lt;option&gt;Two&lt;/option&gt;<br/>      &lt;/select&gt;<br/>      &lt;br /&gt;<br/>      &lt;span&gt;Picked: {picked}&lt;/span&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="0763" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了处理dropdown值的变化，我们传入一个事件处理程序来将选择的值设置为<code class="fe mh mi mj mk b">picked</code>状态。</p><p id="4073" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们将它显示在下拉列表下方的span中。</p><p id="0bf1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在处理下拉列表方面，Vue和React示例非常接近。</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mz"><img src="../Images/19c4526c2969db8689734488452edd71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MLDqceDoy6rA0m7c"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@jentheodore?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Jen Theodore </a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="5109" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">多重选择</h1><p id="79a4" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">使用Vue，很容易处理select元素的值，让用户选择多个值。</p><p id="62aa" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以编写以下代码来实现这一点:</p><p id="fae2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">index.html</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="3590" class="mt lf it mk b gy mu mv l mw mx">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;select v-model="picked" multiple&gt;<br/>        &lt;option&gt;One&lt;/option&gt;<br/>        &lt;option&gt;Two&lt;/option&gt;<br/>        &lt;option&gt;Three&lt;/option&gt;<br/>      &lt;/select&gt;<br/>      &lt;br /&gt;<br/>      &lt;span&gt;Picked: {{ picked }}&lt;/span&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="8c46" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">index.js</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="3ff2" class="mt lf it mk b gy mu mv l mw mx">const app = new Vue({<br/>  el: "#app",<br/>  data: {<br/>    picked: []<br/>  }<br/>});</span></pre><p id="4fa5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们有一个带有<code class="fe mh mi mj mk b">multiple </code>属性的选择元素来支持多重选择。</p><p id="48e2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们只需用<code class="fe mh mi mj mk b">v-model</code>绑定到<code class="fe mh mi mj mk b">picked</code>数组，并直接在模板中引用<code class="fe mh mi mj mk b">picked</code>数组来显示选中的选项。</p><p id="7389" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用React，我们必须编写以下代码来获取所选的选项并显示它们:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="9d66" class="mt lf it mk b gy mu mv l mw mx">import React, { useState } from "react";</span><span id="1105" class="mt lf it mk b gy my mv l mw mx">export default function App() {<br/>  const [picked, setPicked] = useState([]);</span><span id="2433" class="mt lf it mk b gy my mv l mw mx">  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;select<br/>        multiple<br/>        onChange={e =&gt;<br/>          setPicked([...e.target.selectedOptions].map(o =&gt; o.value))<br/>        }<br/>      &gt;<br/>        &lt;option&gt;One&lt;/option&gt;<br/>        &lt;option&gt;Two&lt;/option&gt;<br/>        &lt;option&gt;Three&lt;/option&gt;<br/>      &lt;/select&gt;<br/>      &lt;br /&gt;<br/>      &lt;span&gt;Picked: {picked.join(", ")}&lt;/span&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="ed93" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在《准则》中，我们引用了:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="665e" class="mt lf it mk b gy mu mv l mw mx">[...e.target.selectedOptions].map(o =&gt; o.value)</span></pre><p id="0a25" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从select元素中获取选中的选项，然后获取每个条目的<code class="fe mh mi mj mk b">value</code>属性，并将它们放入<code class="fe mh mi mj mk b">picked</code>数组中。</p><p id="445d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们通过调用<code class="fe mh mi mj mk b">join</code>将选项组合成一个字符串来显示<code class="fe mh mi mj mk b">picked</code>条目。</p><p id="683e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正如我们所见，为了获得同等的功能，我们必须做很多在Vue示例中不需要做的事情。</p><p id="48ff" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">仅仅是从一个select元素中获取选项，让用户选择多个选项，就需要更多的逻辑。</p><p id="5c09" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，我们必须扩展<code class="fe mh mi mj mk b">e.target.selectedOptions</code>对象，以便将它转换为一个数组。<code class="fe mh mi mj mk b">e.target.selectedOptions</code>是类似数组的对象，不是数组。</p><h1 id="2c18" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">裁决</h1><p id="6a8d" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">Vue在处理单选按钮和让我们选择多个选项的选择元素方面无疑做得更好。</p><p id="d5fc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">v-model</code>指令负责提取所选选项和显示数据的大部分艰苦工作。</p><p id="a35b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用React，我们必须编写自己的代码来提取所选的选项并显示它们，这也需要一些工作。</p></div></div>    
</body>
</html>