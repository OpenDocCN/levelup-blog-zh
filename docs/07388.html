<html>
<head>
<title>Allow your mobile visitors to easier share your articles with the Web Share API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">允许您的移动访问者通过Web共享API更轻松地共享您的文章</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/allow-your-mobile-visitors-to-easier-share-your-articles-with-the-web-share-api-299038344947?source=collection_archive---------5-----------------------#2021-02-14">https://levelup.gitconnected.com/allow-your-mobile-visitors-to-easier-share-your-articles-with-the-web-share-api-299038344947?source=collection_archive---------5-----------------------#2021-02-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/fead927bc5797c20efceb0bbb41038bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*BaTmikCOF0p2Vh5f.png"/></div></div></figure><p id="143c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">分享网站是网络的一个基本过程，提供一个尽可能简单的方法可以让用户轻松分享你的作品。</p><p id="ecce" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://www.w3.org/TR/web-share/" rel="noopener ugc nofollow" target="_blank"> Web共享API </a>允许用户使用操作系统的本地共享机制。当你想用原生应用程序分享图片或视频时，你可能已经看到了这一点。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi kx"><img src="../Images/ca42f6a68d691162d7869296710ffdda.png" data-original-src="https://miro.medium.com/v2/resize:fit:586/format:webp/0*DHRXhnJMAUO8pyTF.jpeg"/></div></figure><p id="9b52" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因为这是使用操作系统的本地共享机制，所以Web Share API并非在所有浏览器和操作系统中都可用。在撰写本文时，它仅在Chrome(仅限Windows和Chrome OS)、Edge、Safari、iOS Safari、Chrome for Android、Firefox for Android和Samsung Internet中可用。你可以在caniuse.com网站上找到最新的列表。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lc"><img src="../Images/ca23287c91dc562e9b6576d65888d102.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4XU7R0uioO-sLKdUv9ofIA.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">网络共享API在14。2021年2月</figcaption></figure><h1 id="a278" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">如果Web共享API可用，请使用它</h1><p id="9d14" class="pw-post-body-paragraph jy jz iq ka b kb mf kd ke kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv ij bi translated">支持Web共享API的浏览器将在<code class="fe mk ml mm mn b">navigator</code>对象上公开<code class="fe mk ml mm mn b">share</code>方法。还有一个<code class="fe mk ml mm mn b">canShare</code>方法，但是这个方法并不是在所有的浏览器中都可用。所以检查它是否可用的最好方法是检查<code class="fe mk ml mm mn b">share</code>方法是否存在。</p><figure class="ky kz la lb gt jr"><div class="bz fp l di"><div class="mo mp l"/></div></figure><h1 id="6482" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">使用Web共享API共享URL</h1><p id="6d8a" class="pw-post-body-paragraph jy jz iq ka b kb mf kd ke kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv ij bi translated">使用Web共享API非常简单。在它的基本版本中，它只是你调用的一个函数，仅此而已。</p><figure class="ky kz la lb gt jr"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="0064" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mk ml mm mn b">share</code>方法将一个对象作为它的第一个参数。在这里，您可以定义稍后将使用的share方法应该预填充的内容。</p><ul class=""><li id="8b7b" class="mq mr iq ka b kb kc kf kg kj ms kn mt kr mu kv mv mw mx my bi translated"><code class="fe mk ml mm mn b">title</code>:应预填的标题(如果支持)</li><li id="64af" class="mq mr iq ka b kb mz kf na kj nb kn nc kr nd kv mv mw mx my bi translated"><code class="fe mk ml mm mn b">url</code>:您想要分享的网站/网址</li><li id="13b6" class="mq mr iq ka b kb mz kf na kj nb kn nc kr nd kv mv mw mx my bi translated"><code class="fe mk ml mm mn b">text</code>:共享前应预填充的自定义文本</li></ul><h1 id="3956" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">使用Web共享API共享文件</h1><p id="41a8" class="pw-post-body-paragraph jy jz iq ka b kb mf kd ke kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv ij bi translated">通过给<code class="fe mk ml mm mn b">share</code>函数添加一个<code class="fe mk ml mm mn b">files</code>数组，你也可以允许用户共享图像。</p><p id="5344" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">不幸的是，我无法用我现有的设备让它工作。我用一部iPhone 12 (iOS 14)和在macOS上测试过。</p><p id="3da3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你想在你的设备上测试它，这里有一个CodeSandbox。如果代码不太对劲，也许可以叉出来写我在<a class="ae kw" href="https://twitter.com/phiilu" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上，我会更新的！</p><figure class="ky kz la lb gt jr"><div class="bz fp l di"><div class="ne mp l"/></div></figure><h1 id="9a39" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">我如何将Web Share API添加到我的博客中</h1><p id="ab9b" class="pw-post-body-paragraph jy jz iq ka b kb mf kd ke kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv ij bi translated">如果你正在我的博客上阅读这篇文章，并且你正在使用一个受支持的设备，你现在就可以测试它！</p><p id="220f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果支持，您应该会看到一个按钮<strong class="ka ir">在任何地方</strong>共享。试试吧:)</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nf"><img src="../Images/a6511975722bfc89603d0ff14c6bc0fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:638/0*8gRYGHoQe5-8IrBJ.gif"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">iOS 14上Web Share API的外观</figcaption></figure><p id="520b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在React中，我创建了一个新的<code class="fe mk ml mm mn b">Share</code>组件。如果<code class="fe mk ml mm mn b">share</code>方法可用，我将显示除“后退”共享按钮之外的【T2随处共享】按钮。</p><p id="67be" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可以在我的<a class="ae kw" href="https://github.com/phiilu/phiilu.com/blob/main/src/components/Share/Share.js" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到最新的文件。</p><figure class="ky kz la lb gt jr"><div class="bz fp l di"><div class="mo mp l"/></div></figure><div class="ng nh gp gr ni nj"><a href="https://github.com/phiilu/phiilu.com/blob/main/src/components/Share/Share.js" rel="noopener  ugc nofollow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd ir gy z fp no fr fs np fu fw ip bi translated">phiilu/phiilu.com</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">个人网站。在GitHub上创建一个帐户，为phiilu/phiilu.com的开发做出贡献。</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">github.com</p></div></div><div class="ns l"><div class="nt l nu nv nw ns nx jw nj"/></div></div></a></div><h1 id="9da4" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">结论</h1><p id="6e68" class="pw-post-body-paragraph jy jz iq ka b kb mf kd ke kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv ij bi translated">只需几行代码，您就可以改善移动用户的共享过程，对于不受支持的浏览器，您可以提供一种回退方法。希望将来不再需要它。</p><p id="4994" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">来源:</strong></p><ul class=""><li id="bcb0" class="mq mr iq ka b kb kc kf kg kj ms kn mt kr mu kv mv mw mx my bi translated">MDN:<a class="ae kw" href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/share" rel="noopener ugc nofollow" target="_blank">https://developer . Mozilla . org/en-US/docs/Web/API/Navigator/share</a></li><li id="05c7" class="mq mr iq ka b kb mz kf na kj nb kn nc kr nd kv mv mw mx my bi translated">W3C:<a class="ae kw" href="https://www.w3.org/TR/web-share/" rel="noopener ugc nofollow" target="_blank">https://www.w3.org/TR/web-share/</a></li></ul></div><div class="ab cl ny nz hu oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="ij ik il im in"><p id="c487" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="of">原载于2021年2月14日https://phiilu.com</em><a class="ae kw" href="https://phiilu.com/share-articles-on-social-media-with-the-web-share-api" rel="noopener ugc nofollow" target="_blank"><em class="of"/></a><em class="of">。</em></p></div></div>    
</body>
</html>