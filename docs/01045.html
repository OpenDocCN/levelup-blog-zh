<html>
<head>
<title>Creating Custom Music Player Desktop App With Angular And ElectronJS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Angular和ElectronJS创建自定义音乐播放器桌面应用程序</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/creating-custom-music-player-desktop-app-with-angular-and-electronjs-596d30e8dd9?source=collection_archive---------3-----------------------#2019-10-28">https://levelup.gitconnected.com/creating-custom-music-player-desktop-app-with-angular-and-electronjs-596d30e8dd9?source=collection_archive---------3-----------------------#2019-10-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/89c660fc7cacf12a0a8474d4b561efbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NHouxz4boNUijJiNMmOdXw.png"/></div></div></figure><p id="d6f3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这篇文章中，我将向你展示如何使用Angular和electronic构建一个音乐播放器原生桌面应用程序。该播放器将与Windows、Linux和MacOS兼容。</p><h1 id="b78d" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated"><strong class="ak">什么是电子</strong></h1><blockquote class="lu lv lw"><p id="d0a3" class="jy jz lx ka b kb kc kd ke kf kg kh ki ly kk kl km lz ko kp kq ma ks kt ku kv ij bi translated">Electron是GitHub开发的一个开源库，用于使用HTML、CSS和JavaScript构建跨平台的桌面应用程序。Electron通过将Chromium和Node.js合并到一个运行时中来实现这一点，并且可以为Mac、Windows和Linux打包应用程序。</p></blockquote><h1 id="4429" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated"><strong class="ak">设置角度应用</strong></h1><p id="820d" class="pw-post-body-paragraph jy jz iq ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated">首先，我们将使用Angular CLI生成新的角度项目:</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="d645" class="mp kx iq ml b gy mq mr l ms mt">ng new music-player</span></pre><p id="9c9b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">项目创建成功后，<code class="fe mu mv mw ml b">cd</code>进入目录，使用以下npm命令安装电子版:</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="3912" class="mp kx iq ml b gy mq mr l ms mt">npm install --save-dev electron@latest</span></pre><p id="9520" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在项目的根目录下，创建文件<code class="fe mu mv mw ml b">main.js</code>:</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="13a9" class="mp kx iq ml b gy mq mr l ms mt">touch main.js</span></pre><p id="93db" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们放一些代码进去。下面的代码将简单地创建一个GUI窗口，并加载<code class="fe mu mv mw ml b">index.html</code>文件，在我们构建好Angular应用程序后，该文件应该在<code class="fe mu mv mw ml b">dist</code>文件夹下。</p><figure class="mg mh mi mj gt jr"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="9728" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在添加<code class="fe mu mv mw ml b">main</code>键将<code class="fe mu mv mw ml b">main.js</code>文件设置为<code class="fe mu mv mw ml b">package.json</code>中的入口点。</p><p id="9fe9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">还将<code class="fe mu mv mw ml b"><strong class="ka ir">"start:electron"</strong></code>脚本添加到脚本中:</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="be60" class="mp kx iq ml b gy mq mr l ms mt">"name": "music-player",<br/>"version": "0.0.0",<br/>"main": "main.js",<br/>"scripts": {<br/>  "ng": "ng",<br/>  "start": "ng serve",<br/>  "build": "ng build",<br/>  "test": "ng test",<br/>  "lint": "ng lint",<br/>  "e2e": "ng e2e",<br/><strong class="ml ir">  "start:electron": "ng build --base-href ./ &amp;&amp; electron ."</strong><br/>},</span></pre><p id="7fe8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在打开<code class="fe mu mv mw ml b">angular.json</code>并确保<code class="fe mu mv mw ml b">outputPath</code>的值为<code class="fe mu mv mw ml b">dist</code>:</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="6e76" class="mp kx iq ml b gy mq mr l ms mt">"architect": {<br/>  "build": {<br/>    "builder": "@angular-devkit/build-angular:browser",<br/>    "options": {<br/>      "outputPath": "dist",</span></pre><p id="4707" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们将为UI使用引导程序。因此，让我们安装它及其依赖项:</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="a6ca" class="mp kx iq ml b gy mq mr l ms mt">nenad@hp:~/playground/music-player$ npm install --save bootstrap jquery popper</span></pre><p id="88bd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">打开<strong class="ka ir"> </strong> <code class="fe mu mv mw ml b">index.html</code>，加载库(这也可以通过angular.json来完成):</p><figure class="mg mh mi mj gt jr"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="51ec" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我将在资产文件夹中添加几首mp3 <strong class="ka ir"> </strong>歌曲。</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="c8c9" class="mp kx iq ml b gy mq mr l ms mt">./music-player/src/assets$ tree<br/>.<br/>├── Evanescence-Bring Me To Life(with lyrics).mp3<br/>├── logo.png<br/>├── Numb (Official Video) - Linkin Park.mp3<br/>└── System Of A Down - Toxicity (Official Video).mp3</span></pre><p id="951b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">创建<code class="fe mu mv mw ml b">model.ts</code> <strong class="ka ir"> </strong>文件并导出歌曲界面:</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="438b" class="mp kx iq ml b gy mq mr l ms mt">export interface ISong {<br/>  id: number;<br/>  title: string;<br/>  path: string;<br/>}</span></pre><p id="28b9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在给<code class="fe mu mv mw ml b">app.component.ts</code>添加逻辑:</p><figure class="mg mh mi mj gt jr"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="1b58" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">还将代码添加到<code class="fe mu mv mw ml b">app.component.html</code>:</p><figure class="mg mh mi mj gt jr"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="be82" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在让我们运行命令来启动电子</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="47f3" class="mp kx iq ml b gy mq mr l ms mt">npm run start:electron</span></pre><p id="6d86" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">结果:</p><figure class="mg mh mi mj gt jr gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/0825047d599038bbdf38799d4e640b7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/1*9tb7LIOdF5zbgiVyYkCFyw.gif"/></div></figure><p id="5b82" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你现在有一个本地桌面音乐播放器！剩下的步骤就是为你想要支持的平台(Windows，Mac，Linux)构建它。</p><p id="dfba" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果有人想玩这个或者增加一些功能，github链接:<br/><a class="ae na" href="https://github.com/nenadb97/angular-electron-music-player" rel="noopener ugc nofollow" target="_blank">https://github.com/nenadb97/angular-electron-music-player</a></p><p id="c65d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">感谢阅读:)</strong></p></div></div>    
</body>
</html>