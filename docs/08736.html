<html>
<head>
<title>Test-Driven Development for Building User Interfaces</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建用户界面的测试驱动开发</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/test-driven-development-for-building-user-interfaces-ac2f7cf70628?source=collection_archive---------9-----------------------#2021-05-31">https://levelup.gitconnected.com/test-driven-development-for-building-user-interfaces-ac2f7cf70628?source=collection_archive---------9-----------------------#2021-05-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="21f5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">可能吗？是啊！你应该这样做吗？也许吧！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/600b9e1e1fc2b1f7d61202c76508c5ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QOYM1ohBTzmpEhJCPt5aCA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">TestProject的UI设计人员为本文创建的原创作品</figcaption></figure><p id="4c1a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">测试驱动开发(TDD)是一种编程范式，在这种范式中，首先编写测试，然后编写源代码。当你写的代码有清晰的输入和输出时，TDD是完美的，比如纯函数或API端点。</p><p id="7016" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是在构建用户界面的时候呢？UI开发可以做TDD吗？</p><p id="5111" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你马上就会知道了！</p><p id="626e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，我们将探讨几个问题:</p><ul class=""><li id="e1f5" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated"><strong class="la iu"><em class="md"/></strong>我们可以用TDD来构建ui吗？</li><li id="9a81" class="lu lv it la b lb me le mf lh mg ll mh lp mi lt lz ma mb mc bi translated">如果是的话，<strong class="la iu"> <em class="md">我们怎么</em> </strong>做呢？</li><li id="8897" class="lu lv it la b lb me le mf lh mg ll mh lp mi lt lz ma mb mc bi translated">最后，<strong class="la iu"><em class="md"/></strong>我们是否应该使用TDD来构建ui？</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="9232" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">背景动机</h1><p id="00da" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">当与前端开发人员讨论测试驱动开发时，对话通常是这样的:</p><p id="44ad" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">“是的，TDD对于简单的功能或后端工作来说很棒，但是对于前端工作来说就没有意义了。当我构建我的UI时，我不知道我最终会写什么代码。我不知道我是否会在这里使用<code class="fe nn no np nq b">div</code>或者<code class="fe nn no np nq b">span</code>或者<code class="fe nn no np nq b">p</code>元素。UIs的TDD是不可行的。”</p><p id="0b61" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，我想说的是，使用TDD来构建ui并没有我们想象的那么难。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="3102" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">TDD的理想条件</h1><p id="2eb9" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">理想情况下，当以下两个条件成立时，我们将使用TDD来编写代码:</p><ol class=""><li id="5a83" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt nr ma mb mc bi translated">我们有明确的项目需求</li><li id="50f8" class="lu lv it la b lb me le mf lh mg ll mh lp mi lt nr ma mb mc bi translated">我们有明确的输入和输出</li></ol><p id="f8c2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果不满足这两个要求，就很难或者几乎不可能使用TDD。因此，让我们在前端开发的上下文中检查这两个需求。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h2 id="7668" class="ns mr it bd ms nt nu dn mw nv nw dp na lh nx ny nc ll nz oa ne lp ob oc ng od bi translated">明确项目要求</h2><p id="da6e" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">当你开发一个新功能时，你通常会得到一个UX设计师的模型。这些模型向您展示了该功能的外观和行为。例如，“当用户单击此按钮时，屏幕上会出现一个对话框模式。”</p><p id="9950" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">好的实体模型将阐明各种细节，例如当处于悬停或聚焦状态时，输入看起来如何，当内容丢失时，空状态看起来如何，以及对于桌面、笔记本电脑和移动屏幕大小，页面布局将如何改变。</p><p id="45e8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可能已经猜到了，模型提供了项目需求！我们确切地知道我们的UI应该是什么样子和行为。如果模型中有任何不清楚的地方，工程师应该向他们的UX设计师或产品经理提出澄清问题，这样需求就绝对清楚了。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h2 id="bd29" class="ns mr it bd ms nt nu dn mw nv nw dp na lh nx ny nc ll nz oa ne lp ob oc ng od bi translated">清除输入和输出</h2><p id="bb11" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">那么，清晰的输入和输出呢？</p><p id="811f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如今，大多数前端工程师都使用UI库或框架，如React或Angular。像React这样的UI库允许您构建可重用的组件，以创建功能的小构建块，您可以将这些小构建块拼凑成一个应用程序。</p><p id="180b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，什么是组件？在React中，这是一个函数！组件只是返回UI的道具和状态的函数。所以我们有明确的输入和输出！</p><p id="1e46" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">给定相同的道具和状态，组件将总是呈现相同的东西。组件是确定性的，只要它们不像发出API请求那样产生副作用，它们就是纯函数。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="0e72" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">实际问题</h1><p id="551e" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">所以，理论上，使用TDD来构建ui<em class="md">应该是可行的</em>。我们的两个理想条件都满足了。</p><p id="ddbf" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是未知的呢？如上所述，我们仍然可能不知道一些事情:</p><ol class=""><li id="5592" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt nr ma mb mc bi translated">我们将使用的组件道具和状态</li><li id="0e37" class="lu lv it la b lb me le mf lh mg ll mh lp mi lt nr ma mb mc bi translated">我们给方法和函数起的名字</li><li id="bab3" class="lu lv it la b lb me le mf lh mg ll mh lp mi lt nr ma mb mc bi translated">我们将使用的HTML元素</li></ol><p id="8990" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是我们<em class="md">确实</em>知道用户界面应该是什么样子和行为。我认为未知的实现细节实际上并不重要。</p><p id="5985" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这种过时的测试实现细节的思维方式很大程度上源于Airbnb的测试库<a class="ae oe" href="https://enzymejs.github.io/enzyme/" rel="noopener ugc nofollow" target="_blank">酵素</a>。Enzyme允许您深入React组件的内部，触发类组件方法，并手动更新组件的属性和状态。</p><p id="8f5c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，这些都不是用户可以做的事情。用户只能通过您提供的界面与您的应用程序进行交互。例如，用户可以点击按钮或填写表单字段。</p><p id="4fc5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">React测试库的核心理念是我们应该以模拟用户行为的方式编写测试。通过测试用户实际能做什么，我们的测试更少地关注实现细节，更多地关注实际的用户界面，这导致更少的脆弱测试和更可靠的测试套件。</p><p id="c407" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里的关键是，React测试库通过将焦点从实现细节上移开，实际上方便了使用TDD来构建ui。</p><p id="7bf1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">记住:未知的实现细节并不重要。重要的是UI的外观和行为。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="782d" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">想了解更多？</h1><p id="d220" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">如果你想看一个关于我们如何使用TDD构建ui的深入的真实生活演示，<a class="ae oe" href="https://blog.testproject.io/2021/03/23/test-driven-development-for-building-user-interfaces/" rel="noopener ugc nofollow" target="_blank">在这里查看我的后续文章</a>。我们将介绍如何将UX模型转化为测试用例，如何适应UI开发的“红、绿、重构”循环，并看看使用TDD构建UI到底有多可行。</p><div class="of og gp gr oh oi"><a href="https://blog.testproject.io/2021/03/23/test-driven-development-for-building-user-interfaces/" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">构建用户界面的测试驱动开发| TestProject</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">测试驱动开发，或称TDD，是一种编程范式，在这种范式中，首先编写测试，然后编写源代码…</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">blog.testproject.io</p></div></div><div class="or l"><div class="os l ot ou ov or ow ks oi"/></div></div></a></div><p id="33e5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">编码快乐！</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="1a49" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">分级编码</h1><p id="2956" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">感谢您成为我们社区的一员！<a class="ae oe" href="https://www.youtube.com/channel/UC3v9kBR_ab4UHXXdknz8Fbg?sub_confirmation=1" rel="noopener ugc nofollow" target="_blank">订阅我们的YouTube频道</a>或者加入<a class="ae oe" href="https://skilled.dev/" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu"> Skilled.dev编码面试课程</strong> </a>。</p><div class="of og gp gr oh oi"><a href="https://skilled.dev" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">编写面试问题+获得开发工作</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">掌握编码面试的过程</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">技术开发</p></div></div><div class="or l"><div class="ox l ot ou ov or ow ks oi"/></div></div></a></div></div></div>    
</body>
</html>