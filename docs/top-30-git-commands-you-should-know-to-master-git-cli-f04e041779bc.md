# 掌握 Git CLI 应该知道的 30 个 Git 命令

> 原文：<https://levelup.gitconnected.com/top-30-git-commands-you-should-know-to-master-git-cli-f04e041779bc>

## 学习最基本的 Git 命令来提高您的工作效率，并成为管理 GitHub 库的高手。

![](img/85788b3070cb87342a30e05f7c9077e0.png)

Git 是世界上最流行的分布式版本控制系统。Linux 内核的创造者 Linus Torvalds 早在 2005 年就构建了这个工具，目前它是一个积极维护的开源项目。大量开源和商业项目依赖 Git 进行版本控制。

在这篇文章中，我将列出最基本的命令，作为一名开发人员，你应该知道这些命令，并成为处理 GitHub 库的大师。初学者和有经验的开发人员可以从这篇文章中受益。

# 成为 Git 高手应该知道的 30 个 Git 命令

1.  设置您的用户名和电子邮件
2.  缓存您的登录凭据
3.  初始化存储库
4.  将单个文件或所有文件添加到临时区域
5.  检查存储库状态
6.  用单行消息或通过编辑器提交更改
7.  查看包含更改的提交历史记录
8.  查看特定提交
9.  提交前查看更改
10.  从当前工作树中移除被跟踪的文件
11.  重命名文件
12.  还原未登台和登台的更改
13.  修改最近的提交
14.  回滚上次提交
15.  回滚特定提交
16.  创建并切换到新的分支
17.  列出所有分支
18.  删除分支
19.  合并两个分支
20.  将提交日志显示为当前或所有分支的图形
21.  中止冲突的合并
22.  添加远程存储库
23.  查看远程 URL
24.  获取有关远程存储库的附加信息
25.  将更改推送到远程存储库
26.  从远程存储库中提取更改
27.  将远程存储库与本地存储库合并
28.  将新分支推送到远程存储库
29.  删除远程分支
30.  使用 Rebase

# 1.设置您的用户名和电子邮件

需要用户名才能将提交与您的姓名链接起来。它与您的 GitHub 帐户用户名不同，您使用该用户名登录您的 GitHub 个人资料。您可以使用`git config`命令设置或更新您的用户名。新名称将自动反映在您将来从命令行推送到 GitHub 的任何提交中。如果您想隐藏您的真实姓名，您可以使用任意文本作为您的 Git 用户名。

```
git config --global user.name "Tara Routray"
```

您还可以使用`git config`命令来更新您希望与 Git 提交相关联的电子邮件地址。新的电子邮件地址将自动反映在您将来从命令行推送到 GitHub 的任何提交中。

```
git config --global user.email "dev[@t](mailto:signups@fabiopacifici.com)araroutray.com"
```

# 2.缓存您的登录凭据

您可以使用`config`参数和`--global`标志缓存您的登录凭证。这有助于避免每次执行提交时重复键入用户名和密码。

```
git config --global credential.helper cache
```

# 3.初始化存储库

您可以创建一个空的 Git 存储库，或者使用`init`参数重新初始化一个现有的存储库。它会在初始化时创建一个隐藏目录。这个目录包含 Git 使用和创建的所有对象和引用，作为项目历史的一部分。

```
git init
```

# 4.将单个文件或所有文件添加到临时区域

您可以通过使用`add`参数和文件名将单个文件添加到临时区域。只需用你的文件名替换`somefile.js`。

```
git add somefile.js
```

您还可以通过提供通配符`.`而不是文件名，将所有文件和目录添加到临时区域。

```
git add .
```

# 5.检查存储库状态

您可以使用`status`关键字查看当前存储库的状态，包括暂存、未暂存和未跟踪的文件。

```
git status
```

# 6.用单行消息或通过编辑器提交更改

通过使用`commit`参数和`-m`标志，您可以在提交存储库时添加单行消息。此消息应紧跟在旗帜之后，并用引号括起来。

```
git commit -m "Your short summary about the commit"
```

您还可以在终端中打开一个文本编辑器来编写完整的提交消息。此消息可以包含多行文本，以便您详细解释对存储库所做的更改。

```
git commit
```

# 7.查看包含更改的提交历史记录

您可以通过使用`log`参数来查看您的存储库中所做的更改。它将按顺序显示最新提交的列表。您还可以通过添加`-p`标志来检查每个文件的详细更改。

```
git log -p
```

# 8.查看特定提交

您可以通过使用`show`参数并提供提交的 ID 或散列来查看特定提交的详细变化。这个散列对于在存储库中进行的每个提交都是唯一的。

```
git show 1af17e73721dbe0c40011b82ed4bb1a7dbe3ce29
```

您也可以提供一个简短的散列来获得相同的结果。

```
git show 1af17e
```

# 9.提交前查看更改

您可以通过使用`diff`参数来查看对您的存储库所做的更改的列表。默认情况下，它将只显示未分级的更改。

```
git diff
```

如果想查看阶段性变更，可以添加`--staged`标志。

```
git diff --staged
```

您还可以提供一个文件名作为参数，以便只查看特定文件的更改。

```
git diff somefile.js
```

# 10.从当前工作树中移除被跟踪的文件

您可以使用`rm`参数从当前工作树中移除文件。此操作还将从索引中删除文件。

```
git rm dirname/somefile.js
```

您还可以提供文件组(例如*。js)来移除所有匹配的文件。

```
git rm dirname/*.html
```

# 11.重命名文件

您可以使用`mv`参数重命名文件或目录。该参数需要一个`<source>`和一个`<destination>`。源必须存在，可以是文件或目录，目标必须是现有目录。

```
git mv dir1/somefile.js dir2
```

执行上述命令会将源移动到目标目录中。索引将会更新，但是您必须提交更改。

# 12.还原未登台和登台的更改

您可以使用`checkout`参数恢复未分级的工作树文件。您需要提供一个文件路径来更新它。如果没有设置文件路径，那么`git checkout`会更新文件头，将指定的分支设置为当前分支。

```
git checkout somefile.js
```

要恢复分段工作树文件，可以使用`reset`参数。您需要提供一个文件路径来将其从临时区域中删除。这不会删除对文件所做的任何更改或修改，相反，该文件将被视为未转移文件。

```
git reset HEAD somefile.js
```

如果您要卸载所有暂存文件，则不要提供文件路径。

```
git reset HEAD
```

# 13.修改最近的提交

您可以通过使用带有`--amend`标志的`commit`参数对最近的提交进行更改。例如，您刚刚提交了一些文件，并且您记得您在提交消息中犯了一个错误。在这种情况下，您可以执行此命令来编辑之前提交的消息，而无需修改其快照。

```
git commit --amend -m "Updated message for the previous commit"
```

还可以对以前提交的文件进行更改。例如，您已经更新了多个文件夹中的一些文件，您希望在单个快照中提交这些文件，但是您忘记添加一个文件夹来提交。修复这种错误只需要存放其他文件或文件夹，并用`--amend`和`--no-edit`标志提交即可。

```
git add dir1
git commit# Here you forgot to add dir2 to commit, you can execute the following command to amend the other files and folders.git add dir2
git commit --amend --no-edit
```

`--no-edit`标志将允许您在不改变提交消息的情况下对提交进行修正。最终的提交将替换不完整的提交，看起来我们已经在一个快照中提交了对所有更新的文件和文件夹的更改。

> **警报！！！不要修改公共提交。** 用 amend 修正一个本地提交是极好的，你可以把它推送到一个共享的存储库。但是您应该避免修改已经公开的提交。请记住，修改后的提交是全新的提交，先前的提交在您当前的分支上不可用。这与重置公共快照具有相同的后果。

# 14.回滚上次提交

您可以使用`revert`参数回滚上一次提交。这将创建一个新的提交，与之前的提交相反，并将其添加到当前分支历史中。

```
git revert HEAD
```

## 回复垂直/垂直复位

`git revert`命令只撤销一次提交。它不会通过删除所有后续提交来返回到项目的前一状态，这是在使用`git reset`时完成的。

与重置相比，恢复有两个主要优点。首先，它不会改变项目历史，这使得它对于提交是一个安全的操作。第二，它能够在历史中的任何时间点定位特定的提交，而 git reset 只能从当前提交向后工作。例如，如果您想通过 git reset 撤销一个旧的提交，您必须删除目标提交之后发生的所有提交，然后重新提交所有后续的提交。因此，`git revert`是撤销更改的更好、更安全的方式。

# 15.回滚特定提交

您可以通过使用`revert`参数和提交 ID 回滚到特定的提交。它将创建一个新的提交，即所提供的提交 ID 的副本，并将其添加到当前分支历史记录中。

```
git revert 1af17e
```

# 16.创建并切换到新的分支

您可以使用`branch`参数和分支名称创建一个新的分支。

```
git branch new_branch_name
```

但是 Git 不会自动切换到它。如果想让 Git 自动切换，必须传递`-b`标志和`checkout`参数。

```
git checkout -b new_branch_name
```

# 17.列出所有分支

您可以使用`branch`参数查看所有分支的列表。它将显示所有分支，并用星号(*)标记当前分支并突出显示它。

```
git branch
```

您还可以使用`-a`标志列出所有远程分支。

```
git branch -a
```

# 18.删除分支

您可以使用`branch`参数、`-d`标志和分支名称删除分支。如果您已经完成了对分支的处理并将其合并到主分支中，您可以删除该分支，而不会丢失任何历史记录。但是，如果分支没有被合并，delete 命令将输出一个错误消息。这可以防止您失去对文件的访问权限。

```
git branch -d existing_branch_name
```

如果要强行删除一个分支，可以使用大写`-D`标志。这将删除分支，不管其当前状态如何，并且没有任何警告。

```
git branch -D existing_branch_name
```

上述命令只会删除分支的本地副本。该分支可能存在于远程储存库中。如果要删除远程分支，请执行以下命令。

```
git push origin --delete existing_branch_name
```

# 19.合并两个分支

您可以通过使用`merge`参数和分支名称来合并两个分支。这将把指定的分支合并到主分支中。

```
git merge existing_branch_name
```

如果需要合并提交，可以使用`--no-ff`标志执行 git merge。

```
git merge --no-ff existing_branch_name
```

上述命令会将指定的分支合并到主分支中，并生成一个合并提交。这对于记录存储库中发生的所有合并是非常重要的。

# 20.将提交日志显示为当前或所有分支的图形

您可以通过使用`log`参数和`--graph --oneline --decorate`标志来查看当前分支的提交日志。`--graph`选项将绘制一个 ASCII 图，表示提交历史的分支结构。当它与`--oneline`和`--decorate`标志结合使用时，可以更容易地识别哪个提交属于哪个分支。

```
git log --graph --oneline --decorate
```

如果您想查看所有分支的提交日志，您可以使用`--all`标志。

```
git log --all --graph --oneline --decorate
```

# 21.中止冲突的合并

您可以通过使用`merge`参数和`--abort`标志来中止冲突合并。它允许您退出合并过程，并返回到合并开始后的状态。

```
git merge --abort
```

您还可以在合并冲突期间使用`reset`参数将冲突的文件重置为稳定状态。

```
git reset
```

# 22.添加远程存储库

您可以使用远程存储库的`remote add`参数、`<shortname>`和`<url>`来添加远程存储库。

```
git remote add awesomeapp https://github.com/someurl..
```

# 23.查看远程 URL

您可以使用`remote`参数和`-v`标志查看远程 URL。这将列出您与其他存储库的远程连接。

```
git remote -v
```

上面的命令是一个管理存储在存储库的`.git/config`文件中的远程条目列表的接口。

# 24.获取有关远程存储库的附加信息

您可以通过使用`remote show`参数和类似`origin`的远程库的名称来获得关于远程库的详细信息。

```
git remote show origin
```

上述命令将输出与远程相关联的分支列表，以及连接到获取和推送文件的端点。

# 25.将更改推送到远程存储库

您可以通过使用`push`参数、存储库的名称和分支的名称将变更推送到远程存储库。

```
git push origin main
```

上面的命令将帮助您将本地更改上传到中央存储库，以便其他团队成员可以查看您所做的更改。

# 26.从远程存储库中提取更改

您可以通过使用`pull`参数从远程存储库中提取变更。这将获取当前分支的指定远程副本，并立即将其合并到本地副本中。

```
git pull
```

您还可以通过使用`--verbose`标志来查看已经下载的文件的详细信息。

```
git pull --verbose
```

# 27.将远程存储库与本地存储库合并

通过使用`merge`参数和远程库的名称，您可以将远程库与您的本地库合并。

```
git merge origin
```

# 28.将新分支推送到远程存储库

您可以通过使用`push`参数、`-u`标志、远程的名称和分支的名称，将新的分支推送到远程存储库。

```
git push -u origin new_branch
```

# 29.删除远程分支

您可以通过使用`push`参数、`--delete`标志、远程的名称和分支的名称来删除远程分支。

```
git push --delete origin existing_branch
```

# 30.使用 Rebase

您可以通过使用`rebase`参数和分支的名称来使用这个特性。重置基础是将一系列提交合并或移动到新的基础提交的过程。

```
git rebase branch_name
```

上述命令会将分支的基础从一个提交更改为另一个提交，这将使您看起来好像是从一个不同的提交创建了您的分支。Git 通过创建新的提交并将它们应用到指定的库来实现这一点。理解这一点是非常必要的，即使分支看起来是一样的，它也是由全新的提交组成的。

太棒了。您已经完成了 Git CLI 提供的前 30 个命令的学习。坚持练习上面列出的命令，你将成为管理 GitHub 库的大师。

> 如果你喜欢读这篇文章，并且学到了一些新的东西，那么请鼓掌，与你的朋友分享，并关注我以获得我即将发布的文章的更新。你可以在 [LinkedIn](https://www.linkedin.com/in/tara-prasad-routray-b83027145/) 上和我联系。

# 分级编码

感谢您成为我们社区的一员！[订阅我们的 YouTube 频道](https://www.youtube.com/channel/UC3v9kBR_ab4UHXXdknz8Fbg?sub_confirmation=1)或者加入 [**Skilled.dev 编码面试课程**](https://skilled.dev/) 。

[](https://skilled.dev) [## 掌握编码面试| Skilled.dev

### 编码面试问题充分解释教你如何自信地回答任何问题

技术开发](https://skilled.dev)