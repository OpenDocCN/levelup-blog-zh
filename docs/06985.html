<html>
<head>
<title>Yes, Your Code Need Comments</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">是，你的代码需要注释</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/yes-your-code-need-comments-a96348bf3fb7?source=collection_archive---------9-----------------------#2021-01-17">https://levelup.gitconnected.com/yes-your-code-need-comments-a96348bf3fb7?source=collection_archive---------9-----------------------#2021-01-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="633a" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">固执己见的观点</h2><div class=""/><div class=""><h2 id="8095" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">还有很多。所以，不要再吹嘘你的代码是如何自文档化的了。</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/20e910eee95301094deb14b713626eea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l7pukNg0ZrLDl-jS_wzLAA.jpeg"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">图片由<a class="lh li ep" href="https://medium.com/u/7c7a43b3d9de?source=post_page-----a96348bf3fb7--------------------------------" rel="noopener" target="_blank">尼克拉斯·米勒德</a></figcaption></figure><p id="3380" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">代码注释是一个有趣的话题，经常引起激烈的争论，程序员在这个问题上几乎持有宗教观点。所以，我想，为什么不试试这个，就像我对整个“<a class="ae mf" href="https://medium.com/swlh/5-ways-to-replace-if-else-statements-857c0ff19357" rel="noopener">不使用if-else </a>”和<a class="ae mf" rel="noopener ugc nofollow" target="_blank" href="/if-else-is-a-poor-mans-polymorphism-ab0b333b7265">传统分支</a>所做的那样。</p><p id="b633" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">评论你的代码就像把同一个故事讲两遍。除此之外，一个人可能会脱离现实，开始变成一个谎言。理想情况下，代码应该是自文档化的，用<code class="fe mg mh mi mj b">// or #</code>注释代码只会增加信噪比，甚至更糟。</p><p id="d35c" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">这至少是当今开发人员的心态。</p><p id="6327" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">许多开发人员不假思索地说出诸如“你的代码必须是自文档化的”、“好的代码不需要注释”、“注释代码是个坏主意”或“注释有代码味”之类的话这些可能是这些年来你被告知的所有版本。</p><p id="b0bf" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">但是让我告诉你这个小秘密:</p><blockquote class="mk"><p id="5670" class="ml mm it bd mn mo mp mq mr ms mt me dk translated">正确使用注释可以极大地提高系统和应用程序的理解能力。</p></blockquote><p id="d431" class="pw-post-body-paragraph lj lk it ll b lm mu kd lo lp mv kg lr ls mw lu lv lw mx ly lz ma my mc md me im bi translated">请这样想，如果您只是将dll交给aspnet core或像React这样的npm包，那么您能通过读取类名和方法声明对它们做任何事情吗？</p><p id="74cc" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">大概不会。</p><h2 id="bba8" class="mz na it bd nb nc nd dn ne nf ng dp nh ls ni nj nk lw nl nm nn ma no np nq iz bi translated">使用评论是完全可以的——甚至是被鼓励的。</h2><p id="f7a3" class="pw-post-body-paragraph lj lk it ll b lm nr kd lo lp ns kg lr ls nt lu lv lw nu ly lz ma nv mc md me im bi translated">代码注释通常会让每个人的生活变得更容易，包括你未来的自己。</p><p id="31a8" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">当然，你需要用心命名你的类、方法、变量等等，但是好的名字所能捕捉的上下文是有限的。选择库而不是其他库是有原因的，很多时候这与库在独立站点和评论中的文档化程度有关。</p><p id="d9cb" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">伟大的注释所传达的意义远远超出了任何类或方法名称所能传达的。伟大的注释告诉我为什么一段代码存在，以及如何正确使用它——甚至可能是超出特定代码范围的内容。</p><p id="dbd2" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">以下面的aspnetcore框架源代码为例。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nw"><img src="../Images/0c38c031b4cf6323a147ead5bdafb3a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CL8Ag4qqQg4RBR4iJlptfA.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">aspnet核心框架的代码片段。</figcaption></figure><p id="8d62" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">完美的注释方法。</p><p id="f795" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">当然，<code class="fe mg mh mi mj b">AddControllers()</code>这个名字就足够了。但是，这里的注释包含了框架用户想要的更多信息。一些开发人员可能想当然地认为，如果用于基于MVC的框架，添加控制器也意味着添加视图。这种假设肯定会让一些人感到沮丧，因为调用<code class="fe mg mh mi mj b">AddControllers()</code>时不会添加视图。这个评论完美地展示了我们所期待的。</p><h2 id="0d33" class="mz na it bd nb nc nd dn ne nf ng dp nh ls ni nj nk lw nl nm nn ma no np nq iz bi translated">那么，什么时候评论是不必要的呢？</h2><p id="e797" class="pw-post-body-paragraph lj lk it ll b lm nr kd lo lp ns kg lr ls nt lu lv lw nu ly lz ma nv mc md me im bi translated">坦白说，经常。</p><p id="59c2" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">根据经验，不要评论语言的语法和语义。比如，下面举例说明的流行的初级开发者评论。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nx"><img src="../Images/93a5112a8e0e35d8279948bd295bb992.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sD1UlGFemiYqMiMJoUrvJA.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">完全不必要的属性注释。</figcaption></figure><p id="1abe" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">以及递增整数时的经典注释。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nx"><img src="../Images/71284e2774d7e9c322e4c18b738277e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7DbC7VSU_iYNqJuDg0C1Sw.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">荒谬的语法注释。</figcaption></figure><p id="6144" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">这些评论会给评论带来坏名声。评论语言本身是如何工作的——除非它是完全不合理的——会增加信噪比。</p><p id="8d9f" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">顺便说一句，疯狂的开发者，毫不怀疑地接受每一条建议，可能会创建一个完美命名的方法来增加变量，如下所示。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nx"><img src="../Images/5e07cefdceeec365ff20485e654a5b11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lKShH8gNZdazvh7TkY7r1A.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">自记录代码的荒谬例子。</figcaption></figure><p id="9170" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">老实说，在类似的情况下，如果您必须选择内联注释或正确命名的方法，请选择注释…</p><p id="d0ec" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">您可能认为这是一个非常人为的例子来证明一个观点，但是像这样的代码确实存在于业务线、生产应用程序中。</p></div><div class="ab cl ny nz hx oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="im in io ip iq"><h1 id="9117" class="of na it bd nb og oh oi ne oj ok ol nh ki om kj nk kl on km nn ko oo kp nq op bi translated">让我们保持联系！</h1><p id="c086" class="pw-post-body-paragraph lj lk it ll b lm nr kd lo lp ns kg lr ls nt lu lv lw nu ly lz ma nv mc md me im bi translated"><a class="ae mf" href="https://nmillard.medium.com/subscribe" rel="noopener">点击这里</a>订阅时事通讯，获得类似文章的通知，并查看新的YouTube频道<a class="ae mf" href="https://www.youtube.com/channel/UCaUy83EAkVdXsZjF3xGSvMw" rel="noopener ugc nofollow" target="_blank"><em class="oq">(@ Nicklas Millard)</em></a></p><p id="f1a4" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated"><em class="oq">连接上</em> <a class="ae mf" href="https://www.linkedin.com/in/nicklasmillard/" rel="noopener ugc nofollow" target="_blank"> <em class="oq"> LinkedIn </em> </a>！</p></div><div class="ab cl ny nz hx oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="im in io ip iq"><h1 id="ae91" class="of na it bd nb og oh oi ne oj ok ol nh ki om kj nk kl on km nn ko oo kp nq op bi translated">好奇者的资源</h1><ul class=""><li id="205c" class="or os it ll b lm nr lp ns ls ot lw ou ma ov me ow ox oy oz bi translated"><a class="ae mf" href="https://www.codeconquest.com/advanced-programming-concepts/code-commenting/" rel="noopener ugc nofollow" target="_blank">code conquest对代码</a>进行注释的指南</li><li id="3601" class="or os it ll b lm pa lp pb ls pc lw pd ma pe me ow ox oy oz bi translated">犹他大学的评论</li><li id="fcdf" class="or os it ll b lm pa lp pb ls pc lw pd ma pe me ow ox oy oz bi translated"><a class="ae mf" href="https://www.freecodecamp.org/news/code-comments-the-good-the-bad-and-the-ugly-be9cc65fbf83/" rel="noopener ugc nofollow" target="_blank">在代码中添加注释:好的、坏的、丑陋的</a>作者Bill Sourour</li></ul><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pf"><img src="../Images/d5e7c38618192633334e24b222c0eb91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*D2Q6E2dHH6y8oHdz.png"/></div></div></figure><div class="pg ph gp gr pi pj"><a rel="noopener  ugc nofollow" target="_blank" href="/do-you-write-dishonest-methods-6ec21349e8db"><div class="pk ab fo"><div class="pl ab pm cl cj pn"><h2 class="bd jd gy z fp po fr fs pp fu fw jc bi translated">你写不诚实的方法吗？</h2><div class="pq l"><h3 class="bd b gy z fp po fr fs pp fu fw dk translated">可能没有什么比糟糕的方法声明更让开发人员头疼了…</h3></div><div class="pr l"><p class="bd b dl z fp po fr fs pp fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="ps l"><div class="pt l pu pv pw ps px lb pj"/></div></div></a></div><div class="pg ph gp gr pi pj"><a rel="noopener  ugc nofollow" target="_blank" href="/simple-strategy-pattern-using-attributes-880c55988215"><div class="pk ab fo"><div class="pl ab pm cl cj pn"><h2 class="bd jd gy z fp po fr fs pp fu fw jc bi translated">使用属性的简单策略模式</h2><div class="pq l"><h3 class="bd b gy z fp po fr fs pp fu fw dk translated">如何改进传统的分支并理解策略模式如何降低圈复杂度。</h3></div><div class="pr l"><p class="bd b dl z fp po fr fs pp fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="ps l"><div class="py l pu pv pw ps px lb pj"/></div></div></a></div><div class="pg ph gp gr pi pj"><a rel="noopener  ugc nofollow" target="_blank" href="/dependency-injection-has-made-developers-lazy-255afc5bedf7"><div class="pk ab fo"><div class="pl ab pm cl cj pn"><h2 class="bd jd gy z fp po fr fs pp fu fw jc bi translated">依赖注入让你变得极其懒惰</h2><div class="pq l"><h3 class="bd b gy z fp po fr fs pp fu fw dk translated">导致令人痛苦的构造函数膨胀和难以理解的对象图。</h3></div><div class="pr l"><p class="bd b dl z fp po fr fs pp fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="ps l"><div class="pz l pu pv pw ps px lb pj"/></div></div></a></div></div></div>    
</body>
</html>