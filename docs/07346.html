<html>
<head>
<title>How to Build a Simple Chess App with Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Flutter搭建一个简单的象棋App</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-build-a-simple-chess-app-with-flutter-f2726022de8a?source=collection_archive---------3-----------------------#2021-02-11">https://levelup.gitconnected.com/how-to-build-a-simple-chess-app-with-flutter-f2726022de8a?source=collection_archive---------3-----------------------#2021-02-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7034" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">不到60行代码</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/cc22517a30db65359a601359cf602092.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35rTFTn4Xz27N9ESmU6WuQ.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">由<a class="ae kv" href="https://unsplash.com/@hpzworkz?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">哈桑·帕夏</a>在<a class="ae kv" href="https://unsplash.com/s/photos/chess?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><p id="f26c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最近写了一个帖子叫<a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/how-to-create-a-simple-chess-app-with-react-e18c0179b167">如何用React </a>创建一个简单的象棋App。如果你还没看过，<a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/how-to-create-a-simple-chess-app-with-react-e18c0179b167">给个阅读</a>，我推荐。在那之后，我想在flutter中构建相同的应用程序，看看它会怎么样。这正是我们在这篇文章中要做的。那么，我们开始吧。</p><p id="500b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们开始之前，这里有一个快速演示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ls"><img src="../Images/4204f230ab429549691289fa19eb8a8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ijDqDYVoUlG4t6tcz52iuQ.gif"/></div></div></figure><h2 id="f98d" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">棋盘</h2><p id="2bda" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">我在为flutter搜索棋盘小部件的时候，发现了<a class="ae kv" href="https://pub.dev/packages/flutter_chess_board" rel="noopener ugc nofollow" target="_blank">这个</a>包。很体面。但是，我觉得它为一个棋盘部件做了很多。我喜欢把UI和逻辑分开。于是，我创建并发布了一个名为<a class="ae kv" href="https://pub.dev/packages/flutter_stateless_chessboard" rel="noopener ugc nofollow" target="_blank">flutter _ stateless _棋盘</a>的棋盘widget。给定一个fen，它负责在屏幕上显示棋盘，并在用户移动时发出通知。你能在这里找到包裹吗？</p><h2 id="a685" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">国际象棋规则</h2><p id="9f79" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">我们知道棋盘是一个小部件，它不知道对错和象棋的其他规则。为此我们需要一个图书馆。很幸运，有人把<a class="ae kv" href="https://github.com/jhlywa/chess.js/" rel="noopener ugc nofollow" target="_blank"> chess.js </a>库转换成了<a class="ae kv" href="https://pub.dev/packages/chess" rel="noopener ugc nofollow" target="_blank"> chess.dart </a>。你可以在这里找到包裹<a class="ae kv" href="https://pub.dev/packages/chess" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="bc7c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们已经拥有了应用程序所需的所有组件。让我们构建应用程序。</p><h2 id="a01f" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">创建一个颤振项目</h2><p id="fcb8" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">我将使用android studio进行开发。你可以使用你最喜欢的IDE。</p><p id="4f81" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">创建项目后。删除main.dart文件中除App小部件以外的所有代码。</p><p id="63ed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将以下依赖项添加到项目的pubspec.yml文件中。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="b6c0" class="lt lu iq ms b gy mw mx l my mz">...  <br/>  flutter_stateless_chessboard: ^0.0.2<br/>  chess: ^0.6.5<br/>...</span></pre><p id="c5a8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们准备为我们的应用程序编写代码。让我们从编写实用函数开始。</p><p id="bd4f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们需要为我们的应用程序2实用功能。</p><ol class=""><li id="c31b" class="na nb iq ky b kz la lc ld lf nc lj nd ln ne lr nf ng nh ni bi translated"><code class="fe nj nk nl ms b">makeMove</code> —给了一分而动。移动后返回更新的fen。如果移动无效，则返回null。</li><li id="9861" class="na nb iq ky b kz nm lc nn lf no lj np ln nq lr nf ng nh ni bi translated"><code class="fe nj nk nl ms b">getRandomMove</code> —给定一个有效分。返回随机的下一步棋。或者如果游戏结束则为空。</li></ol><p id="b637" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将把这个函数的代码放在<code class="fe nj nk nl ms b">utils.dart</code>文件中。这是代码。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">utils.dart</figcaption></figure><p id="28a6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">创建一个名为<code class="fe nj nk nl ms b">home_page.dart</code>的新文件。让我们从在屏幕上显示<a class="ae kv" href="https://pub.dev/packages/flutter_stateless_chessboard" rel="noopener ugc nofollow" target="_blank">棋盘</a>开始。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">主页. dart</figcaption></figure><p id="c238" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我正在导入<code class="fe nj nk nl ms b">Chessboard</code>小部件，并用初始fen渲染它。并且将板的尺寸设置为屏幕的宽度。</p><p id="36f2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们运行应用程序之前。确保您已经在<code class="fe nj nk nl ms b">main.dart</code>中将<code class="fe nj nk nl ms b">App</code>的<code class="fe nj nk nl ms b">home</code>设置为我们创建的<code class="fe nj nk nl ms b">HomePage</code>小部件。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="cef1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你运行应用程序，这是你应该看到的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7cc6c26beeabc9ab0ad65de030e68638.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xa2k1YzjDMAlLmqS3z5TJQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">随机象棋</figcaption></figure><p id="0023" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们有一个棋盘出现在屏幕上。唯一剩下的就是让它可以玩了。</p><p id="727a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将在<code class="fe nj nk nl ms b">Chessboard</code>小部件的<code class="fe nj nk nl ms b">onMove</code>回调中这样做。我们先看看代码，然后我会解释这是怎么回事。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="078c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，当用户在棋盘上走棋时。我们进行移动，传递fen，然后移动到我们之前创建的makeMove函数来获取下一个fen。如果下一个fen不为空。然后我们更新fen状态，它更新电路板。</p><p id="aa05" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">第二部分是随机移动电脑。我们正在使用<code class="fe nj nk nl ms b">Future.delayed</code>功能添加延迟，将计算机延迟300毫秒。之后，我们得到当前位置的下一个随机<code class="fe nj nk nl ms b">move</code>。如果下一个<code class="fe nj nk nl ms b">fen</code>不是<code class="fe nj nk nl ms b">null</code>。我们更新状态。这种情况一直持续到游戏结束。</p><p id="ae9c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有了这些，我们的应用程序应该可以工作了。你可以在这里找到这个应用<a class="ae kv" href="https://github.com/varunpvp/flutter-random-chess" rel="noopener ugc nofollow" target="_blank">的源代码。</a></p><div class="nt nu gp gr nv nw"><a href="https://github.com/varunpvp/flutter-random-chess" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd ir gy z fp ob fr fs oc fu fw ip bi translated">随机跳棋</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">一个用Flutter构建的简单象棋应用程序。通过创建一个帐户，为varunvpp/flutter-random-chess开发做出贡献…</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">github.com</p></div></div><div class="of l"><div class="og l oh oi oj of ok kp nw"/></div></div></a></div><p id="db5b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，检查一个<a class="ae kv" href="https://play.google.com/store/apps/details?id=com.autosoft.chess" rel="noopener ugc nofollow" target="_blank">象棋战术应用</a>，它是用我们在out post中使用的<a class="ae kv" href="https://pub.dev/packages/flutter_stateless_chessboard" rel="noopener ugc nofollow" target="_blank">棋盘</a>小部件制作的。这是应用程序的<a class="ae kv" href="https://play.google.com/store/apps/details?id=com.autosoft.chess" rel="noopener ugc nofollow" target="_blank">链接。</a></p><div class="nt nu gp gr nv nw"><a href="https://play.google.com/store/apps/details?id=com.autosoft.chess" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd ir gy z fp ob fr fs oc fu fw ip bi translated">战术训练器Google Play上的应用</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">通过训练超过1700000种战术来提高您的国际象棋战术。免费提供。所有的战术都采取了…</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">play.google.com</p></div></div><div class="of l"><div class="ol l oh oi oj of ok kp nw"/></div></div></a></div><h1 id="2b28" class="om lu iq bd lv on oo op ly oq or os mb jw ot jx me jz ou ka mh kc ov kd mk ow bi translated">结论</h1><p id="d6d3" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">我希望这能帮助你今天学到一些新东西。</p><p id="d7c2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你喜欢这个帖子，给它一个掌声。你可以关注我，看更多这样的帖子。</p><p id="cfd8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读。</p></div><div class="ab cl ox oy hu oz" role="separator"><span class="pa bw bk pb pc pd"/><span class="pa bw bk pb pc pd"/><span class="pa bw bk pb pc"/></div><div class="ij ik il im in"><h1 id="571b" class="om lu iq bd lv on pe op ly oq pf os mb jw pg jx me jz ph ka mh kc pi kd mk ow bi translated">分级编码</h1><p id="b1b5" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">感谢您成为我们社区的一员！<a class="ae kv" href="https://www.youtube.com/channel/UC3v9kBR_ab4UHXXdknz8Fbg?sub_confirmation=1" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">订阅我们的YouTube频道</strong> </a>或者加入<a class="ae kv" href="https://skilled.dev/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> Skilled.dev编码面试课程</strong> </a>。</p><div class="nt nu gp gr nv nw"><a href="https://skilled.dev" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd ir gy z fp ob fr fs oc fu fw ip bi translated">编写面试问题+获得开发工作</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">掌握编码面试的过程</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">技术开发</p></div></div><div class="of l"><div class="pj l oh oi oj of ok kp nw"/></div></div></a></div></div></div>    
</body>
</html>