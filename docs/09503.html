<html>
<head>
<title>Bottom Sheet Widget</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">底部表单小部件</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/bottom-sheet-widget-e63e4606ba8c?source=collection_archive---------12-----------------------#2021-08-16">https://levelup.gitconnected.com/bottom-sheet-widget-e63e4606ba8c?source=collection_archive---------12-----------------------#2021-08-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="84dc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">向flutter应用程序添加底板</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/fba013e2c51bf35585ecce27c9463c28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G5JuYNjnPAAHCb1uo--cWw.png"/></div></div></figure><h2 id="3d88" class="kx ky iq bd kz la lb dn lc ld le dp lf jy lg lh li kc lj lk ll kg lm ln lo lp bi translated">底板的类型</h2><p id="ae56" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated"><em class="lv">持久底板</em></p><p id="72ec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="lv">持久底部表单</em> </strong> <br/>它显示补充应用程序主要内容的信息，即使当用户与应用程序的其他部分交互时也保持可见。可以使用ScaffoldState.showBottomSheet函数或通过指定Scaffold.bottomSheet构造函数参数来创建和显示它。</p><p id="2937" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="lv">模态底层</em> </strong> <br/>它是菜单或对话框的替代品，阻止用户与应用程序的其余部分进行交互。可以使用showModalBottomSheet函数创建和显示它。</p><p id="c3ef" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将创建一个模态底板:</p><p id="daf8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将使用showModalBottomSheet <t>函数。</t></p><p id="d68f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">WidgetBuilder是创建小部件的函数的签名，例如<a class="ae lw" href="https://api.flutter.dev/flutter/widgets/StatelessWidget/build.html" rel="noopener ugc nofollow" target="_blank"> StatelessWidget.build </a>或<a class="ae lw" href="https://api.flutter.dev/flutter/widgets/State/build.html" rel="noopener ugc nofollow" target="_blank"> State.build </a>。</p><p id="8c8c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在您的类中的scaffold小部件内。添加一个操作按钮，用户点击该按钮可以打开底部的工作表。</p><pre class="km kn ko kp gt lx ly lz ma aw mb bi"><span id="eb42" class="kx ky iq ly b gy mc md l me mf">floatingActionButton: FloatingActionButton(<br/> backgroundColor: Colors.lightBlueAccent,<br/> onPressed: () {<br/>   showModalBottomSheet(context: context, builder: buildBottomSheet);<br/> },<br/> child: Icon(Icons.add),<br/>),</span></pre><p id="df87" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">创建一个窗口小部件，当点击浮动动作时将显示该窗口小部件。这是一个函数。</p><pre class="km kn ko kp gt lx ly lz ma aw mb bi"><span id="0156" class="kx ky iq ly b gy mc md l me mf">Widget buildBottomSheet(BuildContext context) {<br/>    return Container(<br/>      child: Center(child: Text('This is a modal bottom sheet')),<br/>    );<br/>  }</span></pre><p id="7a80" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用箭头功能改进功能</p><pre class="km kn ko kp gt lx ly lz ma aw mb bi"><span id="f9d6" class="kx ky iq ly b gy mc md l me mf">Widget buildBottomSheet(BuildContext context) =&gt; Container(<br/>child: Center(child: Text('This is a modal bottom sheet')),<br/>);</span></pre><p id="c406" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们还可以通过向floatingActionButton添加方法来进一步简化</p><pre class="km kn ko kp gt lx ly lz ma aw mb bi"><span id="7f12" class="kx ky iq ly b gy mc md l me mf">floatingActionButton: FloatingActionButton(<br/>        backgroundColor: Colors.lightBlueAccent,<br/>        onPressed: () {<br/>          showModalBottomSheet(<br/>              context: context,<br/>              builder: (BuildContext context) =&gt; Container(<br/>                    child: Center(child: Text('This is a modal bottom sheet')),<br/>                  ));<br/>        },<br/>        child: Icon(Icons.add),<br/> ),</span></pre><p id="db0e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因为我们在创建类时已经传递了BuildContext</p><pre class="km kn ko kp gt lx ly lz ma aw mb bi"><span id="ba8b" class="kx ky iq ly b gy mc md l me mf">Widget build(BuildContext context) </span></pre><p id="84d5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您可以移除我们传递给floatingActionButton的</p><pre class="km kn ko kp gt lx ly lz ma aw mb bi"><span id="b987" class="kx ky iq ly b gy mc md l me mf">builder: (context) =&gt; Container(<br/>                    child: Center(child: Text('This is a modal bottom sheet')),</span></pre><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mg"><img src="../Images/02930edc11f3cfaa37977fbce00a265d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cSdslIYd2lmZqA-haeIjEA.png"/></div></div></figure><h2 id="4363" class="kx ky iq bd kz la lb dn lc ld le dp lf jy lg lh li kc lj lk ll kg lm ln lo lp bi translated">按钮点击时显示文本的完整模式底部表单</h2><p id="119f" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">点击一个浮动按钮，就会显示一段文字</p><pre class="km kn ko kp gt lx ly lz ma aw mb bi"><span id="2ca6" class="kx ky iq ly b gy mc md l me mf">import 'dart:ui';<br/>import 'package:flutter/material.dart';</span><span id="6fd0" class="kx ky iq ly b gy mh md l me mf">class BottomSheetWidgetText extends StatelessWidget {<br/>  <a class="ae lw" href="http://twitter.com/override" rel="noopener ugc nofollow" target="_blank">@override</a><br/>  Widget build(BuildContext context) {<br/>    return Scaffold(<br/>      backgroundColor: Colors.lightBlueAccent,</span><span id="1107" class="kx ky iq ly b gy mh md l me mf">/// tap thisfloating button to open the Bottom Sheet<br/>      floatingActionButton: FloatingActionButton(<br/>        backgroundColor: Colors.white,<br/>        onPressed: () {<br/>          showModalBottomSheet(<br/>              context: context,<br/>              builder: (context) =&gt; Container(<br/>                  height: 60, child: Text('This is a modal bottom sheet')));<br/>        },<br/>        child: Icon(<br/>          Icons.add,<br/>          color: Colors.lightBlueAccent,<br/>        ),<br/>      ),</span><span id="dc99" class="kx ky iq ly b gy mh md l me mf">/// page containing the floating button<br/>      body: Column(<br/>        crossAxisAlignment: CrossAxisAlignment.start,<br/>        children: [<br/>          Container(<br/>            child: Padding(<br/>              padding: const EdgeInsets.only(<br/>                  top: 60.0, left: 30.0, bottom: 30.0, right: 30.0),<br/>              child: Column(<br/>                crossAxisAlignment: CrossAxisAlignment.start,<br/>                children: &lt;Widget&gt;[<br/>                  SizedBox(<br/>                    height: 60.0,<br/>                  ),<br/>                  Text('Modal bottom sheet',<br/>                      style: TextStyle(<br/>                        color: Colors.white,<br/>                        fontSize: 50.0,<br/>                        fontWeight: FontWeight.w700,<br/>                      )),<br/>                ],<br/>              ),<br/>            ),<br/>          ),<br/>        ],<br/>      ),<br/>    );<br/>  }<br/>}</span></pre><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mi"><img src="../Images/6bf224dbc0564b8014eb9bc655b8cb3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wn60fgklzGj4CvrAt8IaYg.jpeg"/></div></div></figure><h2 id="a8e8" class="kx ky iq bd kz la lb dn lc ld le dp lf jy lg lh li kc lj lk ll kg lm ln lo lp bi translated">在按钮点击时显示表单的完整模式底部表单</h2><pre class="km kn ko kp gt lx ly lz ma aw mb bi"><span id="49f8" class="kx ky iq ly b gy mc md l me mf">import 'dart:ui';<br/>import 'package:flutter/material.dart';</span><span id="07d0" class="kx ky iq ly b gy mh md l me mf">class BottomSheetWidget extends StatefulWidget {<br/>  BottomSheetWidget({Key? key}) : super(key: key);<br/>  <a class="ae lw" href="http://twitter.com/override" rel="noopener ugc nofollow" target="_blank">@override</a><br/>  _BottomSheetWidget createState() =&gt; _BottomSheetWidget();<br/>}</span><span id="e0a8" class="kx ky iq ly b gy mh md l me mf">class _BottomSheetWidget extends State&lt;BottomSheetWidget&gt; {<br/>  <a class="ae lw" href="http://twitter.com/override" rel="noopener ugc nofollow" target="_blank">@override</a><br/>  Widget build(BuildContext context) {<br/>    return Scaffold(<br/>      backgroundColor: Colors.lightBlueAccent,</span><span id="d013" class="kx ky iq ly b gy mh md l me mf">/// tap thisfloating button to open the Bottom Sheet<br/>      floatingActionButton: FloatingActionButton(<br/>        backgroundColor: Colors.white,<br/>        onPressed: () {<br/>          showModalBottomSheet(<br/>              context: context,<br/>              isScrollControlled: true,<br/>              builder: (context) =&gt; SingleChildScrollView(<br/>                  padding: EdgeInsets.only(<br/>                      bottom: MediaQuery.of(context).padding.bottom),<br/>                  child: AddItem()));<br/>        },<br/>        child: Icon(<br/>          Icons.add,<br/>          color: Colors.lightBlueAccent,<br/>        ),<br/>      ),</span><span id="1d38" class="kx ky iq ly b gy mh md l me mf">/// page containing the floating button<br/>      body: Column(<br/>        crossAxisAlignment: CrossAxisAlignment.start,<br/>        children: [<br/>          Container(<br/>            child: Padding(<br/>              padding: const EdgeInsets.only(<br/>                  top: 60.0, left: 30.0, bottom: 30.0, right: 30.0),<br/>              child: Column(<br/>                crossAxisAlignment: CrossAxisAlignment.start,<br/>                children: &lt;Widget&gt;[<br/>                  SizedBox(<br/>                    height: 60.0,<br/>                  ),<br/>                  Text('Modal bottom sheet',<br/>                      style: TextStyle(<br/>                        color: Colors.white,<br/>                        fontSize: 50.0,<br/>                        fontWeight: FontWeight.w700,<br/>                      )),<br/>                ],<br/>              ),<br/>            ),<br/>          ),<br/>        ],<br/>      ),<br/>    );<br/>  }<br/>}</span><span id="2322" class="kx ky iq ly b gy mh md l me mf">/// form to display in the bottom sheet<br/>class AddItem extends StatefulWidget {<br/>  <a class="ae lw" href="http://twitter.com/override" rel="noopener ugc nofollow" target="_blank">@override</a><br/>  _AddItemState createState() =&gt; _AddItemState();<br/>}</span><span id="7f8b" class="kx ky iq ly b gy mh md l me mf">class _AddItemState extends State&lt;AddItem&gt; {<br/>  <a class="ae lw" href="http://twitter.com/override" rel="noopener ugc nofollow" target="_blank">@override</a><br/>  Widget build(BuildContext context) {<br/>    return Container(<br/>        color: Color(0xff757575),<br/>        child: Container(<br/>            padding: EdgeInsets.all(30.0),<br/>            decoration: BoxDecoration(<br/>              color: Colors.white,<br/>              borderRadius: BorderRadius.only(<br/>                topLeft: Radius.circular(20.0),<br/>              ),<br/>            ),<br/>            child: Column(<br/>              crossAxisAlignment: CrossAxisAlignment.stretch,<br/>              mainAxisAlignment: MainAxisAlignment.spaceBetween,<br/>              children: [<br/>                Text(<br/>                  'Add Item',<br/>                  textAlign: TextAlign.center,<br/>                  style: TextStyle(<br/>                      color: Colors.lightBlueAccent,<br/>                      fontSize: 30.0,<br/>                      fontWeight: FontWeight.w700),<br/>                ),<br/>                TextField(<br/>                  decoration: InputDecoration(<br/>                    enabledBorder: UnderlineInputBorder(<br/>                      borderSide:<br/>                          BorderSide(color: Colors.lightBlueAccent, width: 3.0),<br/>                    ),<br/>                  ),<br/>                ),<br/>                SizedBox(<br/>                  height: 10,<br/>                ),<br/>                TextButton(<br/>                    onPressed: () {},<br/>                    style: ButtonStyle(<br/>                      backgroundColor: MaterialStateProperty.all&lt;Color&gt;(<br/>                          Colors.lightBlueAccent),<br/>                    ),<br/>                    child: Text(<br/>                      'Add',<br/>                      style: TextStyle(color: Colors.white),<br/>                    ))<br/>              ],<br/>            )));<br/>  }<br/>}</span></pre><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mj"><img src="../Images/e8097fdc937711c71a23a835575f73d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OXATJ3rial7Pse9zrOu_tw.jpeg"/></div></div></figure><p id="4660" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">本视频中的内容略有不同，但<strong class="jp ir"> <em class="lv">模态底板的工作原理与</em> </strong>相同</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mk ml l"/></div></figure><h2 id="5d8d" class="kx ky iq bd kz la lb dn lc ld le dp lf jy lg lh li kc lj lk ll kg lm ln lo lp bi translated">编码快乐！！！！！！！！！！！！！！！！！！！！！！！！！！</h2></div></div>    
</body>
</html>