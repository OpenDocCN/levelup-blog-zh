# 用 Python 中的 F 字符串清理代码

> 原文：<https://levelup.gitconnected.com/cleaning-up-your-code-with-f-strings-in-python-685318256319>

格式化字符串的初学者指南

![](img/0c7ef9cd614744d481891d2364c310ff.png)

[JESHOOTS.COM](https://unsplash.com/@jeshoots?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍照

当然，性爱很酷，但是你曾经写过第一次就能成功的高效代码吗？f-string 是编写干净、简洁代码的一个很好的工具。如果你是 Python 的新手，或者只是想快速复习一下代码，那就省点时间学习 f 字符串吧。

# **什么是 f 弦？**

f 字符串是一种格式化的 Python 字符串文字。这无疑是我遇到的最用户友好的 Python 特性，对于一个新程序员来说，这是一个极大的信心助推器。

下面是 f 字符串的基本格式:

> print(**f**"[string]{ placeholder 1 } { placeholder 2 } ")

它在这里看起来不太像，但是在字符串中处理数字和多个变量时非常有用。

# **带有 f 字符串的示例程序:**

假设您想要显示一条消息，该消息通过名称问候用户，并告诉他们该月的预算还剩多少。

**◆我们的代码最后会显示什么:“**您好{用户的名字}！您这个月已经花了{x}美元，还剩下{x}美元可以花。

**◆我们需要从用户那里得到什么:**他们的名字，以及他们这个月花了多少美元

**◆我们需要计算的:**用户每月 500 美元的预算还剩多少美元

**我们的第一步是获取用户的名字。**

> #获取用户的名字
> 
> 名字 = input("你的名字是什么？")

您可能已经知道变量 **first_name** 将引用用户输入的任何值。在这种情况下，假设一个用户输入他们的名字:Emily。现在，当你输入名字时，程序会返回‘Emily’。

**接下来，我们将获得用户当月的消费金额:**

> #获取消费金额(美元)
> 
> **美元 _ 花费** = float(input("你这个月花了多少钱(美元)？"))

假设我们的用户 Emily 输入 **375.5** 。现在，变量**美元 _ 花费**引用值‘375.5’。

最后，我们将使用来自变量**dollars _ spend**的输入值来**计算用户这个月还剩下多少钱可以花。**在这种情况下，程序假设用户每月的预算为 500 美元。因此，它将从 500.00 中减去**美元 _ 支出**变量。

> #计算剩余金额
> 
> **美元 _ 剩余** = 500.00 美元 _ 已花

**f 弦出现的地方:**

由于 **first_name** 、**dollars _ spend、**和 **dollars_remaining** 变量将会改变，您将放入一个被称为“**占位符**”的东西:一组包含变量名称的{括号}。

**到目前为止，代码看起来是这样的:**

> 名字 = input("你的名字是什么？")

用户输入→ **艾米丽**

> **美元 _ 花费** = float(input("你这个月花了多少钱(美元)？"))

用户输入→ **375.5**

> **美元 _ 剩余** = 500.00 美元 _ 已用
> 
> print(f "你好，{名字}！本月您已经花费了$ { dollars _ spent },还剩下${dollars_remaining}可以使用。)
> 
> **输出→** 艾米丽你好！你这个月花了 375.5 美元，还剩 124.5 美元。

使用这些占位符允许多个用户输入数据并生成新的输出，而无需重复代码。众所周知，高效的代码是最好的代码。

# 最后一步:格式化代码显示的小数位数。

$375.5 看起来很奇怪——让我们确保我们的程序显示两位小数，而不是一位。

为此，我们只需将“:. 2f”添加到美元 _ 支出和美元 _ 剩余占位符中。**这是我们完成的代码的样子:**

> print(f "你好，{名字}！本月您已经花费了$ { dollars _ spend:. 2f }，还剩下${dollars_remaining:.2f}可以使用。)
> 
> **新输出→** 你好，艾米丽！你这个月已经花了 375.50 美元，还剩下 124.50 美元。

一句话:给自己留点时间，玩玩 f 弦。它将有助于清理您的编码风格，并使您的生活更加轻松。搞砸是没有后果的，而且，正如我在上一篇文章中提到的，[你必须练习写代码才能学会写代码。](/top-5-mistakes-i-made-while-learning-to-code-in-school-7e9212ba2b04)

编码快乐！