<html>
<head>
<title>Who’s a Good Helper Function?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">谁是好帮手功能？</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/whos-a-good-helper-function-1d465145d153?source=collection_archive---------1-----------------------#2019-07-08">https://levelup.gitconnected.com/whos-a-good-helper-function-1d465145d153?source=collection_archive---------1-----------------------#2019-07-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/ee20998a4458c94a75bd94b0bf31159e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ubnrT61GDfQ802TV.jpg"/></div></div></figure><div class=""/><div class=""><h2 id="e8c2" class="pw-subtitle-paragraph jy ja jb bd b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp dk translated">通过提取调用的抽象保持干燥</h2></div><p id="ebbc" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">如果你曾经和一只狗玩过捡东西，你可能知道它比看起来要难很多。最初的几次投掷是好的，但是你很快就会发现反复投掷和捡球会对你的身体造成压力。再加上第三次扔球后球上沾满了口水，你可能再也不想玩捡球了。</p><p id="89f0" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">这就是为什么<a class="ae lm" href="http://chuckit-toys.co.uk/our-products/launchers.html" rel="noopener ugc nofollow" target="_blank"> Chuckit！</a>被发明了。</p><figure class="lo lp lq lr gt is gh gi paragraph-image"><div class="gh gi ln"><img src="../Images/3aeda32383676558e56f88a27d69fa0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/format:webp/0*Vd1McZrkazSMACna.jpg"/></div></figure><p id="8132" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">这个简单的工具可以让狗主人玩几个小时，而不用担心身体疲劳或流口水的手。</p><p id="dd3c" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">作为程序员，你可能经历过类似的现象。每次你必须对一个API做一个<code class="fe ls lt lu lv b">fetch</code>的时候，你必须打出这么多的信息，导致web开发的这个关键方面成为一个巨大的阻力。</p><p id="42f9" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">在这篇文章中，我希望通过演示如何制作Chuckit，来减轻您的负担，并帮助您的代码不至于变得湿漉漉的(即保持干燥)!作为你的代码库。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><p id="7126" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">比方说，你正在为狗主人建立一个社交媒体网站，展示他们毛茸茸的同伴。你要做的第一件事是允许狗主人注册到该网站。为了做到这一点，您必须对您的API做一个<code class="fe ls lt lu lv b">fetch</code>来创建一个新用户。该提取将类似于以下内容:</p><figure class="lo lp lq lr gt is"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="c43f" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">注册后，主人想在他们的页面上添加关于他们的狗的信息，这意味着你必须制作另一个<code class="fe ls lt lu lv b">fetch</code>，看起来像这样:</p><figure class="lo lp lq lr gt is"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="9019" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">这里面有相当多的重复。也许这个获取可以被抽象。</p><p id="c60a" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">从顶部开始，您会注意到URL几乎是相同的。通过将URL存储在一个常量中，您可以利用这一点:</p><pre class="lo lp lq lr gt mf lv mg mh aw mi bi"><span id="8fff" class="mj mk jb lv b gy ml mm l mn mo">const URL = 'http://localhost:3000/api/v1'</span></pre><p id="31a6" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">现在，这不仅是可重用的，而且当你把你的网站投入生产，你将不必改变每一个<code class="fe ls lt lu lv b">fetch</code>的网址。</p><p id="5652" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">但是你不应该就此打住。很可能会有许多不同的狗和主人路径获取。为什么不通过存储狗和主人的URL来利用这一点呢？</p><pre class="lo lp lq lr gt mf lv mg mh aw mi bi"><span id="6f09" class="mj mk jb lv b gy ml mm l mn mo">const OWNERS_URL = URL + '/owners'<br/>const DOGS_URL = URL + '/dogs'</span></pre><p id="51e0" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">这看起来稍微好一点，但是还有更多你可以抽象的。<code class="fe ls lt lu lv b">fetch</code>的叫声本身非常相似。您可以很容易地将它抽象成一个助手函数，如下所示:</p><figure class="lo lp lq lr gt is"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="67a6" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">现在你可以像这样写<code class="fe ls lt lu lv b">createOwner</code>和<code class="fe ls lt lu lv b">createDog</code>看起来更干净、更干燥:</p><figure class="lo lp lq lr gt is"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="d7e4" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">太好了，现在你的网站有了自己的Chuckit！因为你的社交媒体网站可能会非常大，所以储存你的Chuckit是个好主意！在另一个文件中，以便在需要时导入。如果您将它与处理所有请求方法的其他获取一起构建，您将得到如下结果:</p><figure class="lo lp lq lr gt is"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="82c2" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">这样，您就可以调用<code class="fe ls lt lu lv b">getChuckit</code>来处理对API的所有GET请求，调用<code class="fe ls lt lu lv b">postPatchChuckit</code>来处理POST或PATCH请求，调用<code class="fe ls lt lu lv b">deleteChuckit</code>来处理DELETE请求。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><p id="957a" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">现在你有自己的Chuckit了！这样做你可以毫不费力地<code class="fe ls lt lu lv b">fetch</code>一整天，玩个痛快！</p></div></div>    
</body>
</html>