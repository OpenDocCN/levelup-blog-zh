<html>
<head>
<title>Displaying PDF in React app</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React应用程序中显示PDF</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/displaying-pdf-in-react-app-6e9d1fffa1a9?source=collection_archive---------0-----------------------#2020-06-05">https://levelup.gitconnected.com/displaying-pdf-in-react-app-6e9d1fffa1a9?source=collection_archive---------0-----------------------#2020-06-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/7d702282c778d6de7d436c88bf491ea6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SUXo59VrvH1xmWLCwnxF-w.jpeg"/></div></div></figure><p id="4ffd" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我想向您展示一种简单易行的方法，在浏览器中使用React显示<code class="fe kz la lb lc b">PDF</code>文件。我将使用一个名为<a class="ae ld" href="https://github.com/wojtekmaj/react-pdf" rel="noopener ugc nofollow" target="_blank"> react-pdf </a>的库。这个库能够在给定URL或项目中的本地文件或base64编码版本的情况下呈现<code class="fe kz la lb lc b">PDF</code>文件。</p><p id="ffde" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">首先，使用<a class="ae ld" href="https://github.com/facebook/create-react-app" rel="noopener ugc nofollow" target="_blank"> Create React App </a>创建一个简单的<code class="fe kz la lb lc b">React</code>应用程序。为此，您可以运行以下命令:</p><pre class="le lf lg lh gt li lc lj lk aw ll bi"><span id="cd89" class="lm ln it lc b gy lo lp l lq lr">npx create-react-app display-pdf-app<br/>cd display-pdf-app<br/>npm start</span></pre><p id="3859" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">之后，使用以下命令将<code class="fe kz la lb lc b">react-pdf</code>库添加到项目中:</p><pre class="le lf lg lh gt li lc lj lk aw ll bi"><span id="b8ae" class="lm ln it lc b gy lo lp l lq lr">npm install --save react-pdf </span></pre><p id="348c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">为了渲染<code class="fe kz la lb lc b">PDF</code>文件，<code class="fe kz la lb lc b">react-pdf</code>有一个文档组件，您需要在其中传递一个文件属性。然后在文档组件中，您需要创建一个页面组件。简单不是吗？示例代码:</p><pre class="le lf lg lh gt li lc lj lk aw ll bi"><span id="c2bd" class="lm ln it lc b gy lo lp l lq lr">import React from 'react';<br/>import { Document, Page } from 'react-pdf';<br/><br/>import samplePDF from './test.pdf';<br/><br/>export default function Test() {<br/>  return (<br/>    &lt;Document file={samplePDF}&gt;<br/>      &lt;Page pageNumber={1} /&gt;<br/>    &lt;/Document&gt;<br/>  );<br/>}</span></pre><p id="20cb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">最终的项目结构将如下所示:</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/9355eb56d713ef5de8d6cad145bfcef7.png" data-original-src="https://miro.medium.com/v2/resize:fit:510/format:webp/1*QlV5LCRdKCu33C_qRtOhFg.png"/></div></figure><p id="da7c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">让我们从在<code class="fe kz la lb lc b">components</code> - <code class="fe kz la lb lc b">pdf</code>文件夹中创建<code class="fe kz la lb lc b">single-page.js</code>和<code class="fe kz la lb lc b">all-pages.js</code>开始，内容如下:</p><ul class=""><li id="c3a2" class="lt lu it kd b ke kf ki kj km lv kq lw ku lx ky ly lz ma mb bi translated"><code class="fe kz la lb lc b">single-page.js</code></li></ul><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="mc md l"/></div></figure><ul class=""><li id="c250" class="lt lu it kd b ke kf ki kj km lv kq lw ku lx ky ly lz ma mb bi translated"><code class="fe kz la lb lc b">all-pages.js</code></li></ul><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="mc md l"/></div></figure><p id="4d64" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在导航到<code class="fe kz la lb lc b">App.js</code>并用以下代码替换内容:</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="mc md l"/></div></figure><p id="a18e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">正如你已经注意到的，我们必须在<code class="fe kz la lb lc b">single-page.js</code>组件中创建按钮来改变文档的页面。这是因为<code class="fe kz la lb lc b">react-pdf</code>没有提供用户界面。</p><p id="d74e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">完整的项目代码可以在这里找到<a class="ae ld" href="https://github.com/webisora/displaying-pdf-using-react" rel="noopener ugc nofollow" target="_blank"> github </a>，你可以看到下面的演示:</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="me md l"/></div></figure></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><p id="a030" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果控制台中出现以下错误:</p><pre class="le lf lg lh gt li lc lj lk aw ll bi"><span id="a3f5" class="lm ln it lc b gy lo lp l lq lr">Uncaught SyntaxError: Unexpected token &lt; </span><span id="363a" class="lm ln it lc b gy mm lp l lq lr"><a class="ae ld" href="http://project_server.dev/app_folder/d58d9dd3a5c5f2a8eafb.worker.js" rel="noopener ugc nofollow" target="_blank">http://project_server.dev/app_folder/d58d9dd3a5c5f2a8eafb.worker.js</a></span><span id="4a65" class="lm ln it lc b gy mm lp l lq lr">...</span></pre><p id="cb6a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后按照以下步骤操作:</p><ol class=""><li id="72a4" class="lt lu it kd b ke kf ki kj km lv kq lw ku lx ky mn lz ma mb bi translated">将<code class="fe kz la lb lc b">node_modules/pdfjs-dist/build/pdf.worker.js</code>复制到<code class="fe kz la lb lc b">public/pdf.worker.js</code></li><li id="631a" class="lt lu it kd b ke mo ki mp km mq kq mr ku ms ky mn lz ma mb bi translated"><code class="fe kz la lb lc b">options={{workerSrc: "pdf.worker.js"}}</code>将此道具添加到<code class="fe kz la lb lc b">react-pdf</code>中的<code class="fe kz la lb lc b">Document</code>组件内。【上面的项目已经在做了。]</li></ol></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><p id="84a2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">参考</strong></p><ul class=""><li id="f634" class="lt lu it kd b ke kf ki kj km lv kq lw ku lx ky ly lz ma mb bi translated"><a class="ae ld" href="https://github.com/wojtekmaj/react-pdf" rel="noopener ugc nofollow" target="_blank">https://github.com/wojtekmaj/react-pdf</a></li></ul></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><p id="2069" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们感谢您阅读这篇文章。如果你喜欢我的写作，但不是Medium的会员，你可以注册一个<a class="ae ld" href="https://sagar-shrestha.medium.com/membership" rel="noopener"> Medium会员</a>来无限制地访问所有内容并支持我们作为作家。</p><div class="mt mu gp gr mv mw"><a href="https://sagar-shrestha.medium.com/membership" rel="noopener follow" target="_blank"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd iu gy z fp nb fr fs nc fu fw is bi translated">加入我的推荐链接-萨加尔Shrestha媒体</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">阅读Sagar Shrestha(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接支持…</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">sagar-shrestha.medium.com</p></div></div><div class="nf l"><div class="ng l nh ni nj nf nk jz mw"/></div></div></a></div></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="e07d" class="nl ln it bd nm nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh bi translated">分级编码</h1><p id="9489" class="pw-post-body-paragraph kb kc it kd b ke oi kg kh ki oj kk kl km ok ko kp kq ol ks kt ku om kw kx ky im bi translated">感谢您成为我们社区的一员！升级正在改变技术招聘。<a class="ae ld" href="https://jobs.levelup.dev/talent" rel="noopener ugc nofollow" target="_blank"> <strong class="kd iu">在最好的公司</strong>找到你最完美的工作 </a> <strong class="kd iu">。</strong></p><div class="mt mu gp gr mv mw"><a href="https://jobs.levelup.dev/talent" rel="noopener  ugc nofollow" target="_blank"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd iu gy z fp nb fr fs nc fu fw is bi translated">提升——改变招聘流程</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">🔥让软件工程师找到他们热爱的完美角色🧠寻找人才是最痛苦的部分…</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">作业. levelup.dev</p></div></div><div class="nf l"><div class="on l nh ni nj nf nk jz mw"/></div></div></a></div></div></div>    
</body>
</html>