<html>
<head>
<title/>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1/>
<blockquote>原文：<a href="https://levelup.gitconnected.com/12-tips-to-make-swift-more-concise-4f4ed63f3063?source=collection_archive---------2-----------------------#2021-09-22">https://levelup.gitconnected.com/12-tips-to-make-swift-more-concise-4f4ed63f3063?source=collection_archive---------2-----------------------#2021-09-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><p id="510e" class="pw-post-body-paragraph ir is it iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp im bi translated"><strong class="iu jq">减少Swift代码的12个技巧</strong></p><figure class="js jt ju jv gt jw gh gi paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="gh gi jr"><img src="../Images/255a33ae055ba37333089e7bee6f57f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6bTkg6oGey_XihTc"/></div></div><figcaption class="kd ke gj gh gi kf kg bd b be z dk translated">由<a class="ae kh" href="https://unsplash.com/@maxcodes?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">麦斯威尔·尼尔森</a>在<a class="ae kh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="f7ec" class="pw-post-body-paragraph ir is it iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp im bi translated">跟随<a class="ae kh" href="https://medium.com/@zhuyp/ios-or-ios-7c7d23905c35" rel="noopener"> IOS还是IOS？</a>前一个故事，我又来了</p><p id="8b5e" class="pw-post-body-paragraph ir is it iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp im bi translated">以上是我在日常工作中总结的小技巧，希望有帮助。</p><pre class="js jt ju jv gt ki kj kk kl aw km bi"><span id="b692" class="kn ko it kj b gy kp kq l kr ks">❌  not recommended</span><span id="5f1e" class="kn ko it kj b gy kt kq l kr ks">✅  recommended</span></pre><ol class=""><li id="dc86" class="ku kv it iu b iv iw iz ja jd kw jh kx jl ky jp kz la lb lc bi translated"><strong class="iu jq">块定义</strong></li></ol><pre class="js jt ju jv gt ki kj kk kl aw km bi"><span id="0f92" class="kn ko it kj b gy kp kq l kr ks">❌</span><span id="9401" class="kn ko it kj b gy kt kq l kr ks">func doSome(result: (Bool) -&gt; ()) {}</span><span id="7309" class="kn ko it kj b gy kt kq l kr ks">✅</span><span id="79a4" class="kn ko it kj b gy kt kq l kr ks">typealias BoolBlock = (Bool) -&gt; ()</span><span id="6c28" class="kn ko it kj b gy kt kq l kr ks">/// ....</span><span id="3d6c" class="kn ko it kj b gy kt kq l kr ks">func doSome(result: BoolBlock) {}</span></pre><p id="f81c" class="pw-post-body-paragraph ir is it iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp im bi translated">2.<strong class="iu jq">功能的默认参数</strong></p><pre class="js jt ju jv gt ki kj kk kl aw km bi"><span id="c2ca" class="kn ko it kj b gy kp kq l kr ks">func logSome(_ msg: String, detail: String = "default detail") {}</span><span id="9f15" class="kn ko it kj b gy kt kq l kr ks">logSome("this is msg")</span></pre><p id="f461" class="pw-post-body-paragraph ir is it iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp im bi translated">3.<strong class="iu jq">使用保护字母判断提前返回</strong></p><pre class="js jt ju jv gt ki kj kk kl aw km bi"><span id="d510" class="kn ko it kj b gy kp kq l kr ks">❌</span><span id="aa75" class="kn ko it kj b gy kt kq l kr ks">func doSome(info: Info) {</span><span id="740c" class="kn ko it kj b gy kt kq l kr ks">    if let name = info.name {</span><span id="82a3" class="kn ko it kj b gy kt kq l kr ks">    doOther(name: name)</span><span id="f368" class="kn ko it kj b gy kt kq l kr ks">    }<br/>}</span><span id="4709" class="kn ko it kj b gy kt kq l kr ks">✅</span><span id="1c13" class="kn ko it kj b gy kt kq l kr ks">func doSome(info: Info) {</span><span id="7fa9" class="kn ko it kj b gy kt kq l kr ks">    guard let name = info.name else {<br/>        return<br/>    }</span><span id="a184" class="kn ko it kj b gy kt kq l kr ks">    doOther(name: name)</span><span id="a0f3" class="kn ko it kj b gy kt kq l kr ks">}</span></pre><p id="6845" class="pw-post-body-paragraph ir is it iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp im bi translated">4.<strong class="iu jq">省略self或init </strong></p><pre class="js jt ju jv gt ki kj kk kl aw km bi"><span id="400d" class="kn ko it kj b gy kp kq l kr ks"><strong class="kj jq">❌</strong></span><span id="c10d" class="kn ko it kj b gy kt kq l kr ks">public override func viewDidLoad() {</span><span id="0085" class="kn ko it kj b gy kt kq l kr ks">    super.viewDidLoad()</span><span id="ba2d" class="kn ko it kj b gy kt kq l kr ks">    self.view.backgroundColor = .blue</span><span id="95a0" class="kn ko it kj b gy kt kq l kr ks">    let testView = UIView.init()</span><span id="b846" class="kn ko it kj b gy kt kq l kr ks">    self.view.addSubview(testView)</span><span id="7ebf" class="kn ko it kj b gy kt kq l kr ks">}</span><span id="e01b" class="kn ko it kj b gy kt kq l kr ks">✅</span><span id="ee20" class="kn ko it kj b gy kt kq l kr ks">public override func viewDidLoad() {</span><span id="6422" class="kn ko it kj b gy kt kq l kr ks">    super.viewDidLoad()</span><span id="0612" class="kn ko it kj b gy kt kq l kr ks">    view.backgroundColor = .blue</span><span id="3be4" class="kn ko it kj b gy kt kq l kr ks">    let testView = UIView()</span><span id="cd16" class="kn ko it kj b gy kt kq l kr ks">    view.addSubview(testView)</span><span id="0731" class="kn ko it kj b gy kt kq l kr ks">}</span></pre><p id="8a80" class="pw-post-body-paragraph ir is it iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp im bi translated">5.<strong class="iu jq">使用“”来定义方法或属性</strong></p><pre class="js jt ju jv gt ki kj kk kl aw km bi"><span id="4434" class="kn ko it kj b gy kp kq l kr ks">✅</span><span id="990f" class="kn ko it kj b gy kt kq l kr ks">enum Style {</span><span id="ef93" class="kn ko it kj b gy kt kq l kr ks">    case cancel</span><span id="01bf" class="kn ko it kj b gy kt kq l kr ks">    case `default`</span><span id="2a69" class="kn ko it kj b gy kt kq l kr ks">}</span><span id="7bd5" class="kn ko it kj b gy kt kq l kr ks">class LogProvider {</span><span id="d0e7" class="kn ko it kj b gy kt kq l kr ks">    static let `default` = LogProvider()</span><span id="bf6d" class="kn ko it kj b gy kt kq l kr ks">}</span></pre><p id="7c9e" class="pw-post-body-paragraph ir is it iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp im bi translated">6.<strong class="iu jq">使用？？返回默认值</strong></p><pre class="js jt ju jv gt ki kj kk kl aw km bi"><span id="24be" class="kn ko it kj b gy kp kq l kr ks">✅</span><span id="ac9f" class="kn ko it kj b gy kt kq l kr ks">func doSome(info: Info) {</span><span id="58bb" class="kn ko it kj b gy kt kq l kr ks">    let name = info.name ?? "default name"</span><span id="a3f1" class="kn ko it kj b gy kt kq l kr ks">}</span></pre><p id="824e" class="pw-post-body-paragraph ir is it iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp im bi translated">7.<strong class="iu jq">三元运算符</strong></p><pre class="js jt ju jv gt ki kj kk kl aw km bi"><span id="8505" class="kn ko it kj b gy kp kq l kr ks">❌</span><span id="b8f1" class="kn ko it kj b gy kt kq l kr ks">var text: String?</span><span id="c123" class="kn ko it kj b gy kt kq l kr ks">if isMe {</span><span id="ecd8" class="kn ko it kj b gy kt kq l kr ks">   text = "Me"<br/>}<br/>else {</span><span id="0599" class="kn ko it kj b gy kt kq l kr ks">   text = "other"<br/>}</span><span id="8e2a" class="kn ko it kj b gy kt kq l kr ks">✅</span><span id="1714" class="kn ko it kj b gy kt kq l kr ks">let text = isMe ? "Me" : "other"</span></pre><p id="9dac" class="pw-post-body-paragraph ir is it iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp im bi translated">8.<strong class="iu jq">类型省略</strong></p><pre class="js jt ju jv gt ki kj kk kl aw km bi"><span id="63c1" class="kn ko it kj b gy kp kq l kr ks">❌</span><span id="5547" class="kn ko it kj b gy kt kq l kr ks">view.backgroundColor = UIColor.blue</span><span id="6a60" class="kn ko it kj b gy kt kq l kr ks">✅</span><span id="65f9" class="kn ko it kj b gy kt kq l kr ks">view.backgroundColor = .blue</span></pre><p id="9536" class="pw-post-body-paragraph ir is it iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp im bi translated">9.<strong class="iu jq">使用扩展进行分类</strong></p><pre class="js jt ju jv gt ki kj kk kl aw km bi"><span id="3a20" class="kn ko it kj b gy kp kq l kr ks"><strong class="kj jq">❌</strong></span><span id="bb86" class="kn ko it kj b gy kt kq l kr ks">class LoginVC: UIViewController, UITextFieldDelegate, UITableViewDataSource, UITableViewDelegate  {</span><span id="7eef" class="kn ko it kj b gy kt kq l kr ks">}</span><span id="71b5" class="kn ko it kj b gy kt kq l kr ks">✅</span><span id="9655" class="kn ko it kj b gy kt kq l kr ks">class LoginVC: UIViewController {</span><span id="ad9f" class="kn ko it kj b gy kt kq l kr ks">/// …</span><span id="a5e1" class="kn ko it kj b gy kt kq l kr ks">}</span><span id="d8cf" class="kn ko it kj b gy kt kq l kr ks">extension LoginVC: UITextFieldDelegate {</span><span id="92b9" class="kn ko it kj b gy kt kq l kr ks">/// …</span><span id="ac6d" class="kn ko it kj b gy kt kq l kr ks">}</span><span id="eff1" class="kn ko it kj b gy kt kq l kr ks">extension LoginVC: UITableViewDataSource, UITableViewDelegate {</span><span id="678b" class="kn ko it kj b gy kt kq l kr ks">/// …</span><span id="8adb" class="kn ko it kj b gy kt kq l kr ks">}</span></pre><p id="04df" class="pw-post-body-paragraph ir is it iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp im bi translated">10.<strong class="iu jq">强制展开和强制转换</strong></p><pre class="js jt ju jv gt ki kj kk kl aw km bi"><span id="30ec" class="kn ko it kj b gy kp kq l kr ks">❌</span><span id="92fe" class="kn ko it kj b gy kt kq l kr ks">let name = info.name!</span><span id="401a" class="kn ko it kj b gy kt kq l kr ks">✅</span><span id="8cce" class="kn ko it kj b gy kt kq l kr ks">guard let  name = info.name else {</span><span id="58f0" class="kn ko it kj b gy kt kq l kr ks">    print("name is nil")</span><span id="973a" class="kn ko it kj b gy kt kq l kr ks">    return</span><span id="ca74" class="kn ko it kj b gy kt kq l kr ks">}</span></pre><p id="a403" class="pw-post-body-paragraph ir is it iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp im bi translated">11.<strong class="iu jq">具有简写名称的类型</strong></p><pre class="js jt ju jv gt ki kj kk kl aw km bi"><span id="112b" class="kn ko it kj b gy kp kq l kr ks">❌</span><span id="2573" class="kn ko it kj b gy kt kq l kr ks">var items = Array&lt;String&gt;()</span><span id="acb6" class="kn ko it kj b gy kt kq l kr ks">var map = Dictionary&lt;String, String&gt;()</span><span id="b7fb" class="kn ko it kj b gy kt kq l kr ks">func doSome() -&gt; Void</span><span id="36f1" class="kn ko it kj b gy kt kq l kr ks">let callback: () -&gt; Void</span><span id="ee24" class="kn ko it kj b gy kt kq l kr ks">✅</span><span id="1605" class="kn ko it kj b gy kt kq l kr ks">var items = [String]()</span><span id="67f1" class="kn ko it kj b gy kt kq l kr ks">var map = [String : String]()</span><span id="1d86" class="kn ko it kj b gy kt kq l kr ks">func doSome()</span><span id="c2b0" class="kn ko it kj b gy kt kq l kr ks">let callback: () -&gt; ()</span></pre><p id="d36a" class="pw-post-body-paragraph ir is it iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp im bi translated">12.<strong class="iu jq">避免标记值</strong></p><pre class="js jt ju jv gt ki kj kk kl aw km bi"><span id="66ce" class="kn ko it kj b gy kp kq l kr ks">❌</span><span id="089c" class="kn ko it kj b gy kt kq l kr ks">func doSome() -&gt; Int {}</span><span id="691b" class="kn ko it kj b gy kt kq l kr ks">let index = doSome()</span><span id="2344" class="kn ko it kj b gy kt kq l kr ks">if index == -1 {</span><span id="2038" class="kn ko it kj b gy kt kq l kr ks">    /// fail</span><span id="a0d3" class="kn ko it kj b gy kt kq l kr ks">}</span><span id="ac8a" class="kn ko it kj b gy kt kq l kr ks">else {</span><span id="d6f3" class="kn ko it kj b gy kt kq l kr ks">/// success</span><span id="65d9" class="kn ko it kj b gy kt kq l kr ks">}</span><span id="7c37" class="kn ko it kj b gy kt kq l kr ks">✅</span><span id="8da2" class="kn ko it kj b gy kt kq l kr ks">func doSome() -&gt; Int? {}</span><span id="9d4d" class="kn ko it kj b gy kt kq l kr ks">guard let index = doSome() else {</span><span id="8cb6" class="kn ko it kj b gy kt kq l kr ks">    print("fail")</span><span id="88fd" class="kn ko it kj b gy kt kq l kr ks">    return</span><span id="75f4" class="kn ko it kj b gy kt kq l kr ks">}</span><span id="103f" class="kn ko it kj b gy kt kq l kr ks">/// success</span></pre><h1 id="2ac1" class="ld ko it bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">如果你喜欢，请跟我来。让我们在接下来的帖子中见面。</h1><p id="9586" class="pw-post-body-paragraph ir is it iu b iv ma ix iy iz mb jb jc jd mc jf jg jh md jj jk jl me jn jo jp im bi translated"><a class="ae kh" href="https://medium.com/@zhuyp/ios-or-ios-7c7d23905c35" rel="noopener">之前的故事:iOS还是IOS？</a></p><blockquote class="mf mg mh"><p id="45b7" class="ir is mi iu b iv iw ix iy iz ja jb jc mj je jf jg mk ji jj jk ml jm jn jo jp im bi translated"><strong class="iu jq">关于我:</strong> <br/> <em class="it">我是iOS的开发者，曾经为XAG工作。现在我想在medium上分享故事，总结自己的经验来帮助别人。如果你有任何问题，请给我反馈，我会积极给你我的答复。目前，我的期望是获得100个关注者。需要你的善意支持，谢谢。</em></p></blockquote></div></div>    
</body>
</html>