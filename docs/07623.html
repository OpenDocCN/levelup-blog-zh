<html>
<head>
<title>Go: Naked Returns</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Go:裸退货</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/go-naked-returns-4e2094b598e6?source=collection_archive---------2-----------------------#2021-03-01">https://levelup.gitconnected.com/go-naked-returns-4e2094b598e6?source=collection_archive---------2-----------------------#2021-03-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div class="gh gi jq"><img src="../Images/fb1c5e1e3c380d79903c12f03e482a8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*8rIgBJLKdeqocOWBUg-XJA.jpeg"/></div></figure><p id="47c9" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">我不是假正经，但我对Go的<em class="kv">裸退</em>感到不安。一次赤裸裸的回归，正如《T2》中所涵盖的一场围棋之旅是:</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="4951" class="lg lh it lc b gy li lj l lk ll">func split(sum int) (x, y int) {<br/> x = sum * 4 / 9<br/> y = sum - x<br/> <strong class="lc iu">return </strong><br/>}</span></pre><p id="6fb8" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">返回没有预期的参数，参数必须从函数签名和代码中的赋值派生。Go注释之旅<em class="kv">“它们会损害较长函数的可读性。”</em></p><p id="6d18" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">不，它们只会损害可读性，从几个方面来说:</p><ul class=""><li id="68b2" class="lm ln it jz b ka kb ke kf ki lo km lp kq lq ku lr ls lt lu bi translated">当您看到返回时，您被迫查看函数签名，以确定应该返回什么返回值。</li><li id="b339" class="lm ln it jz b ka lv ke lw ki lx km ly kq lz ku lr ls lt lu bi translated">当您看到返回时，您被迫向后扫描以找到变量的最后赋值，从而确定将返回什么。</li><li id="6b6c" class="lm ln it jz b ka lv ke lw ki lx km ly kq lz ku lr ls lt lu bi translated">人们倾向于使用<em class="kv"> err </em>作为返回变量名，他们还习惯性地隐藏变量<em class="kv"> err </em>，将这两个变量结合起来，可能很难找到哪个是最后的实际赋值。</li><li id="d7fd" class="lm ln it jz b ka lv ke lw ki lx km ly kq lz ku lr ls lt lu bi translated">如果您为短函数编写一种模式，而为长函数编写另一种模式，这就有点混乱了，随着代码的改变和函数长度的变化，您需要重新评估您的选择。</li></ul><h2 id="ae8e" class="lg lh it bd ma mb mc dn md me mf dp mg ki mh mi mj km mk ml mm kq mn mo mp mq bi translated">就说不</h2><p id="6c3d" class="pw-post-body-paragraph jx jy it jz b ka mr kc kd ke ms kg kh ki mt kk kl km mu ko kp kq mv ks kt ku im bi translated">裸返回没有提供任何技术上的独特特性，它们是损害可读性的语法糖精。假正经，对裸退说不也行。</p><p id="0358" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">我把上面的改写成:</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="db34" class="lg lh it lc b gy li lj l lk ll">func split(sum int) (x, y int) {<br/> x = sum * 4 / 9<br/> y = sum - x<br/> return x, y<br/>}</span></pre><p id="9321" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">继续前进:-)</p></div></div>    
</body>
</html>