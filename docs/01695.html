<html>
<head>
<title>How to Select and Manipulate DOM Elements</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何选择和操作DOM元素</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-select-and-manipulate-dom-elements-6b41c2fbd94a?source=collection_archive---------13-----------------------#2020-01-22">https://levelup.gitconnected.com/how-to-select-and-manipulate-dom-elements-6b41c2fbd94a?source=collection_archive---------13-----------------------#2020-01-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/fc6890a50d038397ccd085b286f25d8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FU_1gq7IwITclrhh"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated"><a class="ae kf" href="https://unsplash.com/@heftiba?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Toa Heftiba </a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="c674" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了使我们的网页动态，我们必须操纵页面上的元素，这样我们就可以获得动态效果。网络浏览器的标准库允许我们这样做。在<code class="fe le lf lg lh b">document</code>对象中有多个方法，该对象代表页面上的项目。它有一个完整的DOM树，包含了我们可以获取并操作的所有元素。在本文中，我们将研究一些从页面中获取元素的方法。</p><h1 id="6a72" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">getElementsByClassName</h1><p id="5bc3" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated"><code class="fe le lf lg lh b">document.getElementsByClassName</code>方法让我们通过类名获得页面上DOM对象的列表。这个方法将返回任何具有给定类的对象。它接受一个参数，该参数是一个字符串，其中包含一个或多个由空格分隔的类名。它是任何DOM元素的一部分，这意味着它也可以在该方法返回的元素上调用。</p><p id="651c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">返回一个<code class="fe le lf lg lh b">NodeList</code>对象，这是一个类似数组的对象。它有一个<code class="fe le lf lg lh b">length</code>属性，可以被一个<code class="fe le lf lg lh b">for</code>循环或<code class="fe le lf lg lh b">for...of</code>循环遍历，但是像<code class="fe le lf lg lh b">forEach</code>这样的数组方法不包含在这个对象中。</p><p id="9022" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最简单的例子是从下面的HTML中获取元素:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="aa30" class="mt lj it lh b gy mu mv l mw mx">&lt;p class='foo'&gt;<br/>  foo<br/>&lt;/p&gt;<br/>&lt;p class='foo'&gt;<br/>  bar<br/>&lt;/p&gt;</span></pre><p id="f0cf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后在我们的JavaScript代码中，我们可以通过编写下面的代码用<code class="fe le lf lg lh b">foo</code>类获取元素:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="ac8c" class="mt lj it lh b gy mu mv l mw mx">const foo = document.getElementsByClassName('foo');</span></pre><p id="c34c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一旦我们有了它，我们就可以访问元素，所以我们可以通过给它的属性赋值来操纵它们。例如，如果我们想改变样式，我们可以在<code class="fe le lf lg lh b">style</code>属性中设置属性值。</p><p id="b8db" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以编写如下代码，用<code class="fe le lf lg lh b">foo</code>类将两个元素的文本颜色都设置为红色:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="2f48" class="mt lj it lh b gy mu mv l mw mx">const foo = document.getElementsByClassName('foo');<br/>for (const f of foo) {<br/>  setTimeout(() =&gt; {<br/>    f.style.color = 'red';<br/>  }, 2000)<br/>}</span></pre><p id="c318" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，我们可以向该方法传入多个类名。它们必须用空格隔开。它将选择包含所有类的元素。例如，如果我们向第一个<code class="fe le lf lg lh b">p</code>元素添加一个<code class="fe le lf lg lh b">bar</code>，如下所示:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="b14e" class="mt lj it lh b gy mu mv l mw mx">&lt;p class='foo bar'&gt;<br/>  foo<br/>&lt;/p&gt;<br/>&lt;p class='foo'&gt;<br/>  bar<br/>&lt;/p&gt;</span></pre><p id="b613" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，我们可以编写以下代码，在2秒钟后将第一个<code class="fe le lf lg lh b">p</code>元素的文本颜色更改为红色:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="893d" class="mt lj it lh b gy mu mv l mw mx">const foo = document.getElementsByClassName('foo bar');<br/>for (const f of foo) {<br/>  setTimeout(() =&gt; {<br/>    f.style.color = 'red';<br/>  }, 2000)<br/>}</span></pre><p id="bd88" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">style</code>属性有很多属性。几乎任何CSS选项都可以通过给<code class="fe le lf lg lh b">style</code>属性赋值来设置。</p><h1 id="e1d9" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">getElementsByTagName</h1><p id="5047" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">我们可以通过使用<code class="fe le lf lg lh b">document.getElementsByTagName</code>方法选择具有给定标记名的所有元素。</p><p id="736a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它接受带有标记名的字符串，并返回一个NodeList对象，其中包含带有给定标记的所有元素。与任何NodeList对象一样，我们可以通过一个<code class="fe le lf lg lh b">for</code>循环或一个<code class="fe le lf lg lh b">for...of</code>循环来循环，但是像<code class="fe le lf lg lh b">forEach</code>这样的数组方法不包含在这个对象中。</p><p id="7b45" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以编写以下代码，在给定以下HTML代码的情况下，在2秒钟后将所有的<code class="fe le lf lg lh b">p</code>元素设置为红色:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="f6d5" class="mt lj it lh b gy mu mv l mw mx">&lt;p&gt;<br/>  foo<br/>&lt;/p&gt;<br/>&lt;p&gt;<br/>  foo<br/>&lt;/p&gt;<br/>&lt;div&gt;<br/>  baz<br/>&lt;/div&gt;</span></pre><p id="b2aa" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="518a" class="mt lj it lh b gy mu mv l mw mx">const pElements = document.getElementsByTagName('p');<br/>for (const p of pElements) {<br/>  setTimeout(() =&gt; {<br/>    p.style.color = 'red';<br/>  }, 2000)</span><span id="ea52" class="mt lj it lh b gy my mv l mw mx">}</span></pre><p id="4af8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">将它们设置为红色，因为我们将<code class="fe le lf lg lh b">p</code>传递给了该方法。我们应该看到前两个元素在2秒钟后变成红色。我们可以看到<code class="fe le lf lg lh b">div</code>元素保持黑色，因为它不是<code class="fe le lf lg lh b">p</code>元素。</p><h1 id="db74" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">getElementsByTagNameNS</h1><p id="1918" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated"><code class="fe le lf lg lh b">getElementsByTagNameNS</code>与<code class="fe le lf lg lh b">getElementsByTagName</code>方法非常相似，但是它需要两个参数而不是一个。第一个是带有HTML文档的XML名称空间的字符串，第二个与<code class="fe le lf lg lh b">getElementsByTagName</code>的第一个参数相同，即标记名。</p><p id="dcb4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">名称空间是XML名称空间，它是用XHTML而不是HTML定义网页的语法的一部分。</p><p id="40dc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">返回值与<code class="fe le lf lg lh b">getElementsByTagName</code>相同，它是一个NodedeList对象，包含所有具有给定标记和XML名称空间的元素。</p><p id="b0c7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，如果我们有以下HTML:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="928c" class="mt lj it lh b gy mu mv l mw mx">&lt;html ae kf" href="http://www.w3.org/1999/xhtml" rel="noopener ugc nofollow" target="_blank"&gt;http://www.w3.org/1999/xhtml"&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;Foo&lt;/title&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;p&gt;<br/>      foo<br/>    &lt;/p&gt;<br/>    &lt;p&gt;<br/>      foo<br/>    &lt;/p&gt;<br/>    &lt;div&gt;<br/>      baz<br/>    &lt;/div&gt;<br/>    &lt;script src="main.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="9177" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，我们可以在<code class="fe le lf lg lh b">main.js</code>中编写以下JavaScript代码，使<code class="fe le lf lg lh b">p</code>元素的文本在2秒钟后变为红色:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="38bb" class="mt lj it lh b gy mu mv l mw mx">const pElements = document.getElementsByTagNameNS('<a class="ae kf" href="http://www.w3.org/1999/xhtml'" rel="noopener ugc nofollow" target="_blank">http://www.w3.org/1999/xhtml'</a>, 'p');</span><span id="acf2" class="mt lj it lh b gy my mv l mw mx">for (const p of pElements) {<br/>  setTimeout(() =&gt; {<br/>    p.style.color = 'red';<br/>  }, 2000)</span><span id="70bf" class="mt lj it lh b gy my mv l mw mx">}</span></pre><p id="b699" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们必须用扩展名<code class="fe le lf lg lh b">.xhtml</code>命名HTML文件，以使这个方法有效，因为它只用于XHTML文档。</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mz"><img src="../Images/98a1a0371258ecb24bc5452cf560a3b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DPfTY7SiohrJYKqU"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@willsmuth?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">威尔·史密斯</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="1648" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">getElementById</h1><p id="f78f" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated"><code class="fe le lf lg lh b">document.getElementById</code>方法让我们通过ID获取页面上的DOM对象。我们可以通过传入一个带有我们想要选择的元素的ID的字符串来使用它。因为每页只能有一个给定ID的元素，所以它将只获取一个元素并返回它。</p><p id="aba4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，如果我们有以下HTML:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="e409" class="mt lj it lh b gy mu mv l mw mx">&lt;p id='foo'&gt;<br/>  foo<br/>&lt;/p&gt;</span></pre><p id="634a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，我们可以通过编写以下代码，在2秒钟后将颜色设置为红色:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="f42b" class="mt lj it lh b gy mu mv l mw mx">const foo = document.getElementById('foo');<br/>setTimeout(() =&gt; {<br/>  foo.style.color = 'red';<br/>}, 2000)</span></pre><h1 id="c5f7" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">查询选择器</h1><p id="152e" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">用上面的方法选择要操作的元素很笨拙，因为我们只能通过ID或类名选择元素。使用<code class="fe le lf lg lh b">querySelector</code>方法，我们可以使用任何CSS选择器来选择一个元素。</p><p id="cea2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它接受一个参数，这个参数是一个字符串，带有我们想要选择的元素的CSS选择器。它返回一个元素对象，该对象是CSS选择器选择的第一个元素。如果我们传入的选择器无效，它会抛出一个语法错误。</p><p id="dd39" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">特殊字符必须用反斜杠进行转义。</p><p id="5db2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，如果我们有以下输入:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="b946" class="mt lj it lh b gy mu mv l mw mx">&lt;input type='text'&gt;</span></pre><p id="0b9c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，我们想通过编写以下代码为它设置一个值:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="f8a4" class="mt lj it lh b gy mu mv l mw mx">const input = document.querySelector('input[type="text"]');</span><span id="bde2" class="mt lj it lh b gy my mv l mw mx">input.value = 'abc';</span></pre><p id="6ce8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以对CSS选择器中的特殊字符进行转义，如下例所示。如果我们有一个ID为<code class="fe le lf lg lh b">ab\c</code>的输入，它有一个特殊字符斜杠:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="ba0c" class="mt lj it lh b gy mu mv l mw mx">&lt;input type='text' id="ab\c"&gt;</span></pre><p id="d8de" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，我们可以像下面的代码一样更改它的值:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="d073" class="mt lj it lh b gy mu mv l mw mx">const input = document.querySelector('#ab\\\\c');</span><span id="b813" class="mt lj it lh b gy my mv l mw mx">input.value = 'abc';</span></pre><p id="231c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">请注意，我们有4个斜线来表示字符串中的斜线字符。</p><p id="9d4b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们的元素在选择器中有一个冒号，比如:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="2d6d" class="mt lj it lh b gy mu mv l mw mx">&lt;input type='text' id="ab:c"&gt;</span></pre><p id="32b8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们可以写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="7568" class="mt lj it lh b gy mu mv l mw mx">const input = document.querySelector('#ab\\:c');</span><span id="ae18" class="mt lj it lh b gy my mv l mw mx">input.value = 'abc';</span></pre><p id="7acc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">冒号通过在前面加两个斜线来转义。</p><h1 id="59b2" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">querySelectorAll</h1><p id="36b7" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">像<code class="fe le lf lg lh b">querySelector</code>方法一样，<code class="fe le lf lg lh b">querySelectorAll</code>为我们想要选择的元素获取一个CSS选择器字符串。但是，它返回一个NodeList对象，其中包含所有与CSS选择器匹配的元素。</p><p id="a619" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，如果我们可以编写以下HTML代码:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="25c7" class="mt lj it lh b gy mu mv l mw mx">&lt;p class='foo'&gt;<br/>  foo<br/>&lt;/p&gt;<br/>&lt;p class='foo'&gt;<br/>  foo<br/>&lt;/p&gt;<br/>&lt;p class='baz'&gt;<br/>  baz<br/>&lt;/p&gt;</span></pre><p id="a409" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，我们可以选择所有带有<code class="fe le lf lg lh b">.foo</code>类的元素，并通过编写以下代码在2秒钟后将文本设置为红色:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="c3b1" class="mt lj it lh b gy mu mv l mw mx">const fooElements = document.querySelectorAll('.foo');</span><span id="a434" class="mt lj it lh b gy my mv l mw mx">for (const f of fooElements) {<br/>  setTimeout(() =&gt; {<br/>    f.style.color = 'red';<br/>  }, 2000)<br/>}</span></pre><h1 id="0895" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">对非文档元素使用上述方法</h1><p id="33b0" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">我们可以在非文档DOM对象上使用所有这些方法。例如，如果我们有以下HTML代码:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="d153" class="mt lj it lh b gy mu mv l mw mx">&lt;div id='bar'&gt;<br/>  &lt;p class='foo'&gt;<br/>    foo<br/>  &lt;/p&gt;<br/>  &lt;p class='foo'&gt;<br/>    foo<br/>  &lt;/p&gt;<br/>  &lt;p class='baz'&gt;<br/>    baz<br/>  &lt;/p&gt;<br/>&lt;/div&gt;</span></pre><p id="8b4c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们可以用任何方法和选择<code class="fe le lf lg lh b">bar</code>元素，这将返回<code class="fe le lf lg lh b">bar</code>元素DOM对象。然后，我们可以使用任何方法，包括我们之前使用的方法，在返回的对象中选择另一个元素。</p><p id="3509" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，使用上面的HTML，我们可以编写下面的代码来选择所有带有类<code class="fe le lf lg lh b">foo</code>的<code class="fe le lf lg lh b">p</code>元素，并在2秒钟后将它们的文本设置为红色:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="79e1" class="mt lj it lh b gy mu mv l mw mx">const fooElements = document.querySelector('#bar').querySelectorAll('.foo');</span><span id="a5f9" class="mt lj it lh b gy my mv l mw mx">for (const f of fooElements) {<br/>  setTimeout(() =&gt; {<br/>    f.style.color = 'red';<br/>  }, 2000)<br/>}</span></pre><p id="1998" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们用返回NodeList对象的方法替换<code class="fe le lf lg lh b">querySelector</code>，那么我们必须用<code class="fe le lf lg lh b">for</code>或<code class="fe le lf lg lh b">for...of</code>循环遍历它们，或者通过索引获取主题元素。</p><p id="6a1a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">上面的大多数方法对于获取DOM元素和操作它们都非常有用。然而，我们可能可以忽略<code class="fe le lf lg lh b">getElementByTagNameNS</code>，因为自从HTML 5发布以来，我们不再编写XHTML文件。</p></div></div>    
</body>
</html>