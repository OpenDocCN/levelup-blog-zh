# æ¯ä¸ª Python ç¨‹åºå‘˜éƒ½åº”è¯¥é¿å…çš„ 7 ä¸ªåä¹ æƒ¯

> åŸæ–‡ï¼š<https://levelup.gitconnected.com/7-bad-habits-that-every-python-programmer-should-avoid-d477ea91e7da>

## ç”¨ python å†™ä»£ç æ—¶åº”è¯¥é¿å…çš„äº‹æƒ…

![](img/968227ddbc1a3bbdf259bf74e43303cb.png)

Ethan Dow åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šæ‹æ‘„çš„ç…§ç‰‡

å°±å…¶è¯­æ³•å’Œåº”ç”¨è€Œè¨€ï¼ŒPython æ˜¯ä¸€ç§éå¸¸ç®€å•å’Œé€šç”¨çš„ç¼–ç¨‹è¯­è¨€ã€‚ç”±äºå…¶ç®€å•çš„è¯­æ³•å’Œæ˜“å­¦æ€§ï¼Œå®ƒåœ¨åˆå­¦è€…ä¸­ä¹Ÿå¾ˆå—æ¬¢è¿ã€‚

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»ä¸€äº›å¼€å‘äººå‘˜é€šå¸¸åœ¨ä¸çŸ¥ä¸è§‰ä¸­çŠ¯çš„å¸¸è§é”™è¯¯å’Œåä¹ æƒ¯ï¼Œä»¥åŠæ”¹è¿›å®ƒä»¬çš„æ–¹æ³•ã€‚ä»¥ä¾¿æˆ‘ä»¬å¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§ï¼Œå¹¶ä»¥æ›´ pythonic åŒ–çš„æ–¹å¼ç¼–å†™ä»£ç ã€‚

æˆ‘ä»¬å¼€å§‹å§ï¼

# 1.é¿å…åˆ—è¡¨ç†è§£

åˆ—è¡¨ç†è§£æ˜¯ python çš„ä¸€ä¸ªç‹¬ç‰¹ç‰¹æ€§ï¼Œä¹Ÿæ˜¯æˆ‘æœ€å–œæ¬¢çš„ç‰¹æ€§ä¹‹ä¸€ã€‚è¿™ä¸ä»…æé«˜äº†ä»£ç çš„å¯è¯»æ€§ï¼Œä¹Ÿæ˜¯ä»¥ pythonic æ–¹å¼ç¼–å†™ä»£ç çš„ä¸€ä¸ªå¥½ä¹ æƒ¯ã€‚

è®¸å¤šå¼€å‘äººå‘˜ä¸ä½¿ç”¨ list comprehension å¹¶åˆ©ç”¨å®ƒçš„ç‰¹æ€§ï¼Œå› ä¸ºä»–ä»¬å‘ç°å®ƒå¹¶ä¸æ–¹ä¾¿ã€‚ä½†æ˜¯ï¼Œåœ¨è¿™é‡Œæ‚¨å¯ä»¥çœ‹åˆ°ä½¿ç”¨åˆ—è¡¨ç†è§£ç¼–å†™çš„ä»£ç æ˜¯å¦‚ä½•æ›´åŠ é«˜æ•ˆå’Œå¯è¯»çš„ã€‚

![](img/3df49e8671379f079baabfdc588c7981.png)

åˆ—è¡¨ç†è§£ç¤ºä¾‹

ä¸ç®€å•å¾ªç¯ç›¸æ¯”ï¼Œåˆ—è¡¨ç†è§£æ›´å…·å£°æ˜æ€§ã€‚å› æ­¤ï¼Œå®ƒä»¬å¯è¯»æ€§æ›´å¼ºï¼Œæ›´å®¹æ˜“ç†è§£ï¼Œè¢«è®¤ä¸ºæ˜¯ç¼–å†™ä»£ç çš„ pythonic æ–¹å¼ã€‚

# 2.ä½¿ç”¨è£¸é™¤

è®¸å¤šå¼€å‘äººå‘˜ä½¿ç”¨ bare `except`å­å¥è¿›è¡Œå¼‚å¸¸å¤„ç†ã€‚è¿™éœ€è¦é¿å…ï¼Œå› ä¸ºè¿™æ ·æˆ‘ä»¬å°±æ²¡æœ‰ä»»ä½•å¼‚å¸¸è¦æ£€æŸ¥ï¼Œä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿé”™è¯¯ã€‚

Bare `except`å­å¥æ•è·æ‰€æœ‰å¼‚å¸¸ï¼ŒåŒ…æ‹¬æ‰€æœ‰æˆ‘ä»¬ä¸å¸Œæœ›æ•è·çš„å¼‚å¸¸ï¼Œå¦‚ **SystemExit** å’Œ **KeyboardInterruptã€‚**è¿™ä½¿å¾—ä½¿ç”¨`ctrl+c`ä¸­æ–­ç¨‹åºå˜å¾—å›°éš¾ï¼Œå¹¶å¯èƒ½å¯¼è‡´å…¶ä»–é—®é¢˜ã€‚

è¿™é‡Œæœ‰ä¸€ä¸ªå…‰ç§ƒç§ƒçš„`except`å­å¥çš„ä¾‹å­:

![](img/f210173810d3f79e856c2bfdb33b42f3.png)

åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè™½ç„¶æˆ‘ä»¬æ•æ‰åˆ°äº†é”™è¯¯ï¼Œä½†æˆ‘ä»¬ç°åœ¨å¹¶ä¸çŸ¥é“ç”±äºå…‰ç§ƒç§ƒçš„`except`æ¡æ¬¾è€Œå¯¼è‡´è¿™ç§å¼‚å¸¸çš„ç¡®åˆ‡åŸå› ã€‚

æœ‰ä¸€ç§æ›´å¥½çš„æ–¹æ³•å¯ä»¥é€šè¿‡æŒ‡å®šå¼‚å¸¸æ¥æ•æ‰å¼‚å¸¸ã€‚

**ç¤ºä¾‹**:

![](img/89b4b4833e83dad07f273602c6be2091.png)

è¿™é‡Œï¼Œæˆ‘ä»¬æŒ‡å®šäº†å¼‚å¸¸ **FileNotFoundError** å’Œ`except`ã€‚

# 3.æ»¥ç”¨åˆ—è¡¨ç†è§£

ç°åœ¨æˆ‘ä»¬çŸ¥é“åˆ—è¡¨ç†è§£æ˜¯ python ä¸­çš„ä¸€ä¸ªå¼ºå¤§ç‰¹æ€§ï¼Œå®ƒä½¿ä»£ç æ›´å…·å¯è¯»æ€§ï¼Œä½†æ˜¯æœ‰å¾ˆå¤šå¼€å‘äººå‘˜è¿‡åº¦ä½¿ç”¨åˆ—è¡¨ç†è§£å¹¶è¯¯ç”¨å®ƒçš„ä¾‹å­ã€‚

è¿™ä¸ä»…ä½¿ python ä»£ç é python åŒ–ï¼Œè€Œä¸”é™ä½äº†å¯è¯»æ€§ï¼Œè¿èƒŒäº†ä½¿ç”¨åˆ—è¡¨ç†è§£çš„å…¨éƒ¨ç›®çš„ã€‚

è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­:

![](img/0e81e1d98d1e914512e638230aaf9922.png)

ä½¿ç”¨åˆ—è¡¨ç†è§£æ—¶ï¼Œé€»è¾‘å¿…é¡»ç®€æ´ã€‚å¹¶ä¸”åº”è¯¥é¿å…åœ¨åˆ—è¡¨ç†è§£ä¸­ç¼–å†™é•¿çš„åµŒå¥—å¾ªç¯ã€‚

# 4.ä½¿ç”¨ç©ºåˆ—è¡¨ä½œä¸ºé»˜è®¤å‚æ•°

åœ¨ python ä¸­ï¼Œå½“å‡½æ•°çš„ç¼ºçœå‚æ•°æ˜¯å¯å˜å¯¹è±¡(å¦‚åˆ—è¡¨æˆ–å­—å…¸)æ—¶ï¼Œå¦‚æœå‡½æ•°ä¿®æ”¹è¯¥å¯å˜å¯¹è±¡ï¼Œåˆ™è¯¥ç¼ºçœå‚æ•°çš„ç¼ºçœå€¼å®é™…ä¸Šè¢«ä¿®æ”¹ã€‚

å¤§å®¶è®¨è®ºä¸€ä¸‹ã€‚

è¿™é‡Œæœ‰ä¸€ä¸ªç›¸åŒçš„ä¾‹å­:

![](img/321983536deafae58baec456c1e31531.png)

è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªä¸åŒçš„å˜é‡`num_list`å’Œ`num_list_2`ï¼Œä½†æ˜¯å¾—åˆ°çš„æ˜¯è¾“å‡º[1]å’Œ[1ï¼Œ2]ã€‚è¿™ä¸æ˜¯æˆ‘ä»¬æœŸæœ›å¾—åˆ°çš„ï¼Œå¯¹å—ï¼Ÿ

è¿™æ˜¯å› ä¸ºé»˜è®¤å‚æ•°åªä¸ºä¸€ä¸ªå‡½æ•°åˆ›å»ºä¸€æ¬¡**ã€‚ç”±äº list æ˜¯ä¸€ä¸ªå¯å˜å¯¹è±¡ï¼Œæ‰€ä»¥æ¯æ¬¡æˆ‘ä»¬è°ƒç”¨åŒä¸€ä¸ªå‡½æ•°æ—¶ï¼Œé»˜è®¤å‚æ•°çš„å€¼å®é™…ä¸Šéƒ½è¢«ä¿®æ”¹äº†ã€‚**

****è¿™æ˜¯æˆ‘ä»¬åº”è¯¥åšçš„äº‹æƒ…****

**ä¸€ç§è§£å†³æ–¹æ³•æ˜¯ä½¿ç”¨`None` ä½œä¸ºé»˜è®¤å‚æ•°çš„é»˜è®¤å€¼ã€‚**

****ç¤ºä¾‹**:**

**![](img/eeb53e0735465dc559189e3ed142f6ef.png)**

# **5.å¯¹æ–‡ä»¶æ“ä½œä½¿ç”¨æ‰“å¼€å’Œå…³é—­**

**åœ¨ Python ä¸­ï¼Œå¯¹æ–‡ä»¶è¿›è¡Œè¯»å†™ç­‰æ“ä½œæ˜¯å¾ˆå¸¸è§çš„äº‹æƒ…ã€‚é€šå¸¸ï¼Œæˆ‘ä»¬ç”¨`open()`æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œç”¨`close()`å…³é—­ä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶ã€‚**

**è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­:**

**![](img/e5366623d5497f75ef48dedb8afd5d85.png)**

**è¿™å¾ˆç®€å•å§ï¼Ÿä½†æ˜¯ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬åªæ˜¯æ‰“å¼€äº†ä¸€ä¸ªæ–‡ä»¶ï¼Œå´æ²¡æœ‰/å¿˜è®°å…³é—­å®ƒã€‚è¿™å¯èƒ½å¯¹æˆ‘ä»¬çš„ç³»ç»Ÿä¸åˆ©ï¼Œå› ä¸º:**

*   **å¤ªå¤šæ‰“å¼€çš„æ–‡ä»¶ä¼šå ç”¨ RAM ç©ºé—´ï¼Œè¿™å¯èƒ½ä¼šå½±å“æ€§èƒ½å¹¶é™ä½ç³»ç»Ÿé€Ÿåº¦ã€‚**
*   **å¯¹äºå¤§å¤šæ•°éƒ¨ä»¶ï¼Œå¯¹æ–‡ä»¶æ‰€åšçš„æ›´æ”¹åªæœ‰åœ¨æ–‡ä»¶å…³é—­åæ‰ä¼šç”Ÿæ•ˆã€‚**

## ****ä½¿ç”¨ with è¯­å¥çš„æ›´å¥½æ–¹å¼****

**åœ¨ python ä¸­å¤„ç†æ–‡ä»¶æ“ä½œæ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`with`è¯­å¥ã€‚**

**With è¯­å¥åˆ›å»ºä¸€ä¸ªæ‰§è¡Œå—ï¼Œå½“è¯¥å—çš„æ‰§è¡Œå®Œæˆæ—¶ï¼Œfile å¯¹è±¡çš„ close å‡½æ•°è¢«è‡ªåŠ¨è°ƒç”¨ï¼Œæ–‡ä»¶è¢«å…³é—­ã€‚**

****ä¸¾ä¾‹**:**

**![](img/d97cc281ddd72a56f9e69e510e9447ea.png)**

# **6.ä½¿ç”¨`==`å’Œæ˜¯é”™è¯¯çš„æ–¹å¼**

**è®¸å¤šå¼€å‘äººå‘˜ç»å¸¸æ··æ·†`==`å’Œ`is`æ“ä½œç¬¦ï¼Œå¹¶äº¤æ›¿ä½¿ç”¨å®ƒä»¬ã€‚ä½†æ˜¯ï¼Œè¿™ä¸¤ä¸ªæ˜¯ä¸åŒçš„è¿ç®—ç¬¦ï¼Œåº”è¯¥ç›¸åº”åœ°ä½¿ç”¨ã€‚**

*   **`==`è¿ç®—ç¬¦ç”¨äºæ£€æŸ¥å€¼æ˜¯å¦ç›¸ç­‰ã€‚å½“æˆ‘ä»¬éœ€è¦çŸ¥é“ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦æœ‰ç›¸åŒçš„å€¼æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨å®ƒã€‚**
*   **`is`è¿ç®—ç¬¦ç”¨äºæ£€æŸ¥å‚è€ƒå€¼æ˜¯å¦ç›¸ç­‰ã€‚å½“æˆ‘ä»¬éœ€è¦çŸ¥é“ä¸¤ä¸ªå¼•ç”¨æ˜¯æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡è¿˜æ˜¯å­˜åœ¨äºåŒä¸€ä¸ªå†…å­˜ä½ç½®æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨å®ƒã€‚**

**æ°¸è¿œè®°ä½:**

```
x is y
```

**ä¸ç›¸åŒ:**

```
id(x) == id(y) 
```

**è¿™é‡Œï¼Œ`id()`æ˜¯ python å†…ç½®å‡½æ•°ã€‚è¿”å›æŒ‡å®šå¯¹è±¡çš„å”¯ä¸€ idã€‚**

****ä¸¾ä¾‹**:**

**![](img/4d5c4fde36aee7c8990a8de9fdc8118c.png)**

**è¿™é‡Œï¼Œ`list1 == list2`ä¸ºçœŸï¼Œå› ä¸ºä¸¤ä¸ªåˆ—è¡¨æœ‰ç›¸åŒçš„å…ƒç´ ã€‚ä½†æ˜¯ï¼Œ`list1 is list2`æ˜¯å‡çš„ï¼Œå› ä¸ºä¸¤ä¸ªåˆ—è¡¨çš„å†…å­˜å¼•ç”¨æ˜¯ä¸åŒçš„ã€‚**

**![](img/37ca5737af2da129af50a6f8d00057f2.png)**

**è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªåˆ—è¡¨æœ‰ä¸åŒçš„ id(å†…å­˜ä½ç½®)ã€‚å› æ­¤`list1 is list2`ä¸ºå‡ã€‚**

# **7.ä½¿ç”¨ caret(^)æ±‚å¹‚**

**è®¸å¤šåˆå­¦è€…ä½¿ç”¨è„±å­—ç¬¦`(^)`è¿ç®—ç¬¦ï¼Œè¿™æ˜¯ä¸€ç§æŒ‰ä½è¿ç®—ç¬¦ï¼Œç”¨æ¥è®¡ç®—ä¸€ä¸ªæ•°çš„å¹‚ã€‚åœ¨ Python ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå•ç‹¬çš„æŒ‡æ•°æ“ä½œç¬¦`**`æ¥è®¡ç®—ä¸€ä¸ªæ•°çš„å¹‚ã€‚**

****ç¤ºä¾‹:****

**è¿™é‡Œæœ‰ä¸€ä¸ªæŒ‡æ•°è¿ç®—ç¬¦çš„ä¾‹å­`**`**

**![](img/9a2ec15421835de547ff29912c1ec11b.png)**

**è¿™é‡Œæœ‰ä¸€ä¸ªæŒ‰ä½å¼‚æˆ–`^`è¿ç®—ç¬¦çš„ä¾‹å­**

**![](img/bb1bc328fc145c7a9a4d69e6723b35c7.png)**

## **ç»“è®º**

**è¿™å°±æ˜¯è¿™ç¯‡æ–‡ç« çš„å…¨éƒ¨å†…å®¹ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬è®¨è®ºäº† python ä¸­çš„ä¸€äº›åä¹ æƒ¯ä»¥åŠæ”¹è¿›å®ƒä»¬çš„æ–¹æ³•ã€‚åŠ¨æ‰‹å®è·µä»¥ pythonic å¼çš„é«˜æ•ˆæ–¹å¼ç¼–å†™ä»£ç ã€‚**

**æ„Ÿè°¢é˜…è¯»ï¼**

> ***åœ¨ä½ èµ°ä¹‹å‰â€¦â€¦***

**å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œå¹¶å¸Œæœ›**ç»§ç»­å…³æ³¨**æ›´å¤š**ç²¾å½©çš„**æ–‡ç« ï¼Œè¯·è€ƒè™‘ä½¿ç”¨æˆ‘çš„æ¨èé“¾æ¥[https://pralabhsaxena.medium.com/membership](https://pralabhsaxena.medium.com/membership)æˆä¸ºä¸€åä¸­çº§ä¼šå‘˜ã€‚**

**æ­¤å¤–ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œå…è´¹è®¢é˜…æˆ‘çš„æ—¶äº‹é€šè®¯: [Pralabh çš„æ—¶äº‹é€šè®¯](https://pralabhsaxena.medium.com/subscribe)ã€‚**

# **åˆ†çº§ç¼–ç **

**æ„Ÿè°¢æ‚¨æˆä¸ºæˆ‘ä»¬ç¤¾åŒºçš„ä¸€å‘˜ï¼åœ¨ä½ ç¦»å¼€ä¹‹å‰:**

*   **ğŸ‘ä¸ºæ•…äº‹é¼“æŒï¼Œè·Ÿç€ä½œè€…èµ°ğŸ‘‰**
*   **ğŸ“°æŸ¥çœ‹[å‡çº§ç¼–ç å‡ºç‰ˆç‰©](https://levelup.gitconnected.com/?utm_source=pub&utm_medium=post)ä¸­çš„æ›´å¤šå†…å®¹**
*   **ğŸ””å…³æ³¨æˆ‘ä»¬:[Twitter](https://twitter.com/gitconnected)|[LinkedIn](https://www.linkedin.com/company/gitconnected)|[æ—¶äº‹é€šè®¯](https://newsletter.levelup.dev)**

**ğŸš€ğŸ‘‰ [**åŠ å…¥å‡çº§äººæ‰é›†ä½“ï¼Œæ‰¾åˆ°ä¸€ä»½æƒŠè‰³çš„å·¥ä½œ**](https://jobs.levelup.dev/talent/welcome?referral=true)**