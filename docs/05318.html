<html>
<head>
<title>Tips and Tricks, Publishing Your Apps from Visual Studio</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">提示和技巧，从Visual Studio发布应用程序</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/tips-and-tricks-publishing-your-apps-from-visual-studio-d8757fa4a5db?source=collection_archive---------12-----------------------#2020-08-18">https://levelup.gitconnected.com/tips-and-tricks-publishing-your-apps-from-visual-studio-d8757fa4a5db?source=collection_archive---------12-----------------------#2020-08-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/1b93798455e5dbda4e34b4a7456387bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VbJGhbTEa3czg2Zb-whQGQ.png"/></div></div></figure><div class=""/><p id="ec01" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您是从visual studio管理应用程序的新手，您可能会遇到一些很晚才发现的错误，而且很少有人谈论这些错误。在这篇文章中，我想收集一些可以作为参考的技巧。</p><p id="3f54" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">从visual studio发布应用程序时最常见的问题之一听起来可能是这样的:</p><blockquote class="kw kx ky"><p id="9564" class="jy jz kz ka b kb kc kd ke kf kg kh ki la kk kl km lb ko kp kq lc ks kt ku kv ij bi translated"><strong class="ka jc">“我部署了我的网站，但它不能正常工作”或“我部署了网站，但浏览时仍能看到旧内容。”</strong></p></blockquote><figure class="ld le lf lg gt is"><div class="bz fp l di"><div class="lh li l"/></div></figure><p id="6cd9" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">发生这种情况有两种可能性:<strong class="ka jc">部署问题</strong>或<strong class="ka jc">运行时问题。</strong></p><h2 id="dfa5" class="lj lk jb bd ll lm ln dn lo lp lq dp lr kj ls lt lu kn lv lw lx kr ly lz ma mb bi translated"><strong class="ak">部署问题</strong></h2><p id="b709" class="pw-post-body-paragraph jy jz jb ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">这些类型的错误导致一组文件无法正确部署，或者通常无法在<strong class="ka jc">站点\wwwroot </strong>中更新。</p><p id="9997" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">作为这个错误的结果，你将经常以一个站点不能运行而告终，这使它看起来像一个<strong class="ka jc">“运行时间”</strong>问题。但核心问题在于实施。当这种情况发生时，你不应该问自己“为什么我的网站不能正常工作？”相反，正确的问题是<strong class="ka jc">“为什么正确的文件不在它们应该在的地方？”</strong></p><p id="180c" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这可能是一个错误，我们稍后会看到。</p><h2 id="2185" class="lj lk jb bd ll lm ln dn lo lp lq dp lr kj ls lt lu kn lv lw lx kr ly lz ma mb bi translated"><strong class="ak">运行时问题</strong></h2><p id="1496" class="pw-post-body-paragraph jy jz jb ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">当你的<strong class="ka jc"> wwwroot </strong>文件夹中的文件是它们应该是的样子，但是由于某种原因站点不能正常运行时，就会出现运行时问题。</p><p id="b98d" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当这种情况发生时，你用来实现你的网站的技术就不再适用了。唯一重要的是你把文件放在正确的地方。在这种情况下，对您的问题的描述应该集中在您的代码在运行时正在做什么以及它是如何失败的，而不是您如何实现它。</p><p id="d2da" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka jc">一些原因可能是:</strong></p><ol class=""><li id="26a7" class="mh mi jb ka b kb kc kf kg kj mj kn mk kr ml kv mm mn mo mp bi translated">您的网站可能配置不正确。例如错误的PHP版本。NET运行时等。</li><li id="1478" class="mh mi jb ka b kb mq kf mr kj ms kn mt kr mu kv mm mn mo mp bi translated">可能存在未正确配置的外部依赖关系，如数据库。</li><li id="8fac" class="mh mi jb ka b kb mq kf mr kj ms kn mt kr mu kv mm mn mo mp bi translated">您的代码可能对路径做了无效的假设，比如对只存在于您的机器上的东西进行硬编码。</li></ol><p id="b40b" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们看看一个常见错误及其解决方案的图片:</p><figure class="ld le lf lg gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mv"><img src="../Images/311716cfbc4849b6c566ee6f50b758eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dr0uWF-Kb1LBX9LR"/></div></div><figcaption class="mw mx gj gh gi my mz bd b be z dk translated"><strong class="bd ll">由于文件上传不正确导致部署时出现问题。</strong></figcaption></figure><ol class=""><li id="af68" class="mh mi jb ka b kb kc kf kg kj mj kn mk kr ml kv mm mn mo mp bi translated">在我们的Azure门户中，我们下载我们的发布配置文件，它提供了默认选项，我们最好特别验证一个。</li></ol><figure class="ld le lf lg gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mv"><img src="../Images/3452c0d7b2f6b4f60c3b633beb8f600e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*dZNXdpBLS0uEsiyY.png"/></div></div><figcaption class="mw mx gj gh gi my mz bd b be z dk translated"><strong class="bd ll"> Azure门户，app服务资源</strong></figcaption></figure><p id="ef92" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">2.当我们在Visual Studio中发布我们的应用程序时，一旦我们导入了我们的配置文件，它就会为我们带来这个带有位置选项的视图。</p><figure class="ld le lf lg gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mv"><img src="../Images/24655eb79fb476be7e151096bee41cff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Th78rw5xOErz7p1H"/></div></div><figcaption class="mw mx gj gh gi my mz bd b be z dk translated"><strong class="bd ll">在visual studio中发布屏幕</strong></figcaption></figure><p id="f1ba" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka jc"> 3。我们点击编辑&gt;文件发布选项&gt;删除目标位置的附加文件检查</strong></p><figure class="ld le lf lg gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi na"><img src="../Images/43d37e877dad967836b0f07b0e5075b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3gw0QmBQVl9N6rv2.png"/></div></div></figure><p id="6be4" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这样，我们将避免在发布时可能出现的冲突，即可能的配置文件没有被正确更新。</p><h1 id="b940" class="nb lk jb bd ll nc nd ne lo nf ng nh lr ni nj nk lu nl nm nn lx no np nq ma nr bi translated">更多提示</h1><p id="4cc7" class="pw-post-body-paragraph jy jz jb ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated"><strong class="ka jc">本地缓存</strong> <br/> Azure App服务内容存储在Azure存储中，并持久地作为内容共享出现。但是，有些应用程序只需要一个高性能的只读内容存储，就可以高可用性地运行。这些应用程序可以受益于本地缓存的使用。</p><ol class=""><li id="83aa" class="mh mi jb ka b kb kc kf kg kj mj kn mk kr ml kv mm mn mo mp bi translated">对于像WordPress这样的内容管理网站，不推荐使用本地缓存。</li><li id="d903" class="mh mi jb ka b kb mq kf mr kj ms kn mt kr mu kv mm mn mo mp bi translated">如果你的应用程序使用本地缓存，那么你需要重新启动你的应用程序，这样你就可以看到你的变化。</li><li id="884f" class="mh mi jb ka b kb mq kf mr kj ms kn mt kr mu kv mm mn mo mp bi translated">本地缓存有助于防止与存储相关的应用程序重启，但您的应用程序可能会在虚拟机基础架构更新期间重启。</li></ol><h1 id="22a7" class="nb lk jb bd ll nc nd ne lo nf ng nh lr ni nj nk lu nl nm nn lx no np nq ma nr bi translated">结论</h1><p id="df53" class="pw-post-body-paragraph jy jz jb ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">当我们遇到某种类型的错误时，要做的第一件事是确定我们是否有部署问题或运行时问题，以便找到最佳解决方案。当<a class="ae ns" href="https://docs.microsoft.com/en-us/azure/app-service/deploy-best-practices" rel="noopener ugc nofollow" target="_blank">发布您的应用时，您可以继续学习最佳实践。</a></p><p id="ec21" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">再见！</p><figure class="ld le lf lg gt is"><div class="bz fp l di"><div class="nt li l"/></div></figure></div></div>    
</body>
</html>