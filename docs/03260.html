<html>
<head>
<title>Security Best Practices for Backend Developers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">后端开发人员的安全最佳实践</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/security-best-practices-for-backend-developers-46440afe7e69?source=collection_archive---------7-----------------------#2020-04-28">https://levelup.gitconnected.com/security-best-practices-for-backend-developers-46440afe7e69?source=collection_archive---------7-----------------------#2020-04-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/7fbaa7725930ae1c4b05f4a6c54e6f8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3-ekRJ31m3-zY8jN"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated"><a class="ae kf" href="https://unsplash.com/@john_cameron?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">约翰·卡梅隆</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><p id="25ce" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">作为后端开发人员，我们有一项艰巨的任务。我们制作管理人们数据的应用程序，我们可以编写代码对他们做很多事情，不管他们是好是坏。</p><p id="cca8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将看看在开发后端应用程序时需要注意的一些最佳实践。</p><h1 id="dd1b" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">使用Docker沙盒应用程序</h1><p id="ad70" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">Docker是一个让我们运行沙盒容器的伟大程序。因此，我们应该使用它们来托管和运行我们的后端应用程序。</p><p id="d33f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这样，所有的应用程序都运行在它们自己的容器中，因此它们可以在自己的环境中运行。这意味着任何我们不信任的二进制文件都不能在Docker容器之外运行。</p><p id="669b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，如果我们重建Docker容器，我们对Docker容器所做的任何更改都将被删除，因此，如果我们或某些攻击搞乱了容器，我们可以重建它，并将其恢复到工作状态。</p><p id="8f2b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">不同应用程序的库和依赖项不会互相干扰。</p><p id="b005" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，在同一个ost上运行的多个容器将对其他容器和主机本身具有某种程度的访问权。</p><p id="bf1e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，我们应该保护所有的主机，并使用最少的功能运行容器。</p><p id="4056" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果需要的话，我们可以禁用对容器的网络访问。</p><h1 id="b532" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">绝不能通过公共网络发送未加密的凭据</h1><p id="6369" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们永远不应该在不加密的公共网络上发送像SSH密钥和密码这样的凭证。</p><p id="c113" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有很多方法可以保护它。我们可以加密，或者通过密码管理器之类的东西发送。</p><h1 id="3d31" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">永远不要在源代码管理中存储秘密</h1><p id="996b" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">秘密不应该被签入源代码控制。这很容易做到，如果它们停在那里，我们必须重置它们。</p><p id="0e11" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">签入它们会增加暴露给恶意用户的风险，所以我们不应该冒这个险。</p><p id="ee33" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">即使我们更改了秘密文件的文件权限，源代码管理系统通常会取消这些文件权限，以便它们可以再次对公众可读。</p><p id="7ae5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，我们应该把我们的东西放在一个不会被签入源代码控制的文件中。</p><p id="927d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">不管名字是什么，都应该忽略。</p><h1 id="1a9b" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">登录限制</h1><p id="5b18" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">在我们的后端应用程序中，我们应该限制单位时间内用户可以尝试登录的次数。</p><p id="6867" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果用户在几次尝试后都没有登录，比如10次尝试失败，那么我们应该锁定他们一小段时间，比如5分钟。</p><p id="8f8f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这样攻击者就不能轻易进行暴力攻击。</p><h1 id="9deb" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">用户密码存储</h1><p id="4653" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">密码不应以纯文本形式存储。如果我们需要记录密码，那么它们应该存储在不显示密码的地方。</p><p id="d7cd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以使用密码管理器来存储我们的密码。</p><p id="a8b0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以使用非对称加密来存储我们的密码，这样我们可以用公钥加密存储它们，然后用私钥将它们解密回纯文本。</p><p id="614e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在大多数情况下，密码应该以单向散列的形式存储，这样即使攻击者登录到我们的数据库，他们也无法被解密。</p><p id="53ee" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们用安全散列和salt对每个密码进行加密，如果我们需要核对散列密码进行身份验证，只需核对散列密码。</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/c0fec06f37e7ffd249c7b4c1b6c29cab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0wfExPk-hNicLRHM"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae kf" href="https://unsplash.com/@pqt?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Austin Paquette </a>拍照</figcaption></figure><h1 id="d1d9" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">审计日志</h1><p id="9af4" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们的应用程序必须保留审计日志，以了解谁做了什么。活动越重要，我们需要做的日志记录就越多。</p><p id="839d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这样，如果需要，我们可以检查可疑的活动。</p><p id="f007" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这样，人们可以知道人们在什么时间做了什么，改变前的值是什么，改变后的值是什么。</p><p id="3923" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">每个日志条目都应该包含时间、执行操作的用户、操作以及新旧值。</p><p id="dd42" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它可以作为单独的日志文件存储，也可以作为常规应用程序日志的一部分存储。或者它可以存储在应用程序数据库中，以便我们可以查询条目。</p><h1 id="281f" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="2662" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们需要一份审计日志来检查可疑活动。此外，我们需要限制登录尝试，使攻击者无法使用暴力攻击以授权的方式登录。</p><p id="ded7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，我们不应该向公众公开密码。</p><p id="f957" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，Docker非常适合沙盒应用程序和最小化攻击面。</p></div></div>    
</body>
</html>