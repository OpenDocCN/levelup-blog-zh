<html>
<head>
<title>How to Build an Awesome Website with Gridsome and Markdown Files</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Gridsome和Markdown文件建立一个很棒的网站</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-build-an-awesome-website-with-gridsome-and-markdown-files-8f5422bb0183?source=collection_archive---------1-----------------------#2019-09-27">https://levelup.gitconnected.com/how-to-build-an-awesome-website-with-gridsome-and-markdown-files-8f5422bb0183?source=collection_archive---------1-----------------------#2019-09-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/c48987d96cbc94c9070d5a0487a38ba3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E47IWGrj9248_-9rbE9Qcg.png"/></div></div></figure><p id="358d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如今静态网站又开始流行了。信息和宣传册网站不再需要使用像WordPress这样的内容管理系统来动态更新。</p><p id="3359" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">使用静态站点生成器，您可以从动态源(如headless CMS)和文件(如Markdown文件)中获取内容。</p><p id="3c62" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Gridsome是一个很棒的基于Vue.js的静态网站生成器，很容易用来构建静态网站。它有插件可以从各种来源获取内容，比如WordPress和Markdown文件。你可以添加插件来扩展网站的功能，比如降价解析和图像处理。Gridsome通过将内容传输到模板来显示它们，从而从这些来源构建静态网站。使用GraphQL查询检索数据。你也可以构建页面来获取列表中的内容，还可以获取每个帖子的元数据，比如标签。每个模板、页面或布局都可以有一个获取网站数据的静态查询和一个获取内容数据的页面查询。</p><p id="3906" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在本文中，我们将使用Gridsome构建一个博客，并将对内容使用Markdown。你得先了解Vue.js，才能用Gridsome建网站。</p><p id="63ed" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们通过使用Gridsome CLI开始构建网站。运行:</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="14c4" class="li lj it le b gy lk ll l lm ln">npm install --global @gridsome/cli</span></pre><p id="85b5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这将安装CLI程序。</p><p id="78b2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">接下来，通过运行以下命令创建Gridsome项目:</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="a0b7" class="li lj it le b gy lk ll l lm ln">gridsome create gridsome-how-to-blog</span></pre><p id="7156" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后，我们进入创建的项目文件夹并安装一些包。我们需要Gridsome源文件系统和Gridsome Transformer注释插件。要安装它们，请运行:</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="2eb5" class="li lj it le b gy lk ll l lm ln">npm i @gridsome/source-filesystem @gridsome/transformer-remark</span></pre><p id="1916" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后我们运行:</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="a94f" class="li lj it le b gy lk ll l lm ln">gridsome develop</span></pre><p id="fe98" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这启动了项目。</p><p id="7d06" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">随着项目的创建和插件的安装，我们可以开始编写代码和创建内容。首先，我们为我们的博客创建帖子。创建一个<code class="fe lo lp lq le b">content</code>文件夹，如果它还不存在的话，然后在里面创建一个<code class="fe lo lp lq le b">posts</code>文件夹。然后，我们创建以下文件:</p><p id="2595" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe lo lp lq le b">check-variable-number.md</code>:</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="6424" class="li lj it le b gy lk ll l lm ln">---<br/>path: "/blog/check-variable-number"<br/>date: "2019-05-04"<br/>title: "How to Check if a Variable is a Number"<br/>tags: ["number"]<br/>---</span><span id="7e20" class="li lj it le b gy lr ll l lm ln">We can check if a variable is a number in multiple ways.</span><span id="03a4" class="li lj it le b gy lr ll l lm ln">## isNaN</span><span id="6048" class="li lj it le b gy lr ll l lm ln">We can check by calling `isNaN` with the variable as the argument. It also detects if a string’s content is a number. For example:</span><span id="7f3b" class="li lj it le b gy lr ll l lm ln">```<br/>isNaN(1) // false<br/>isNaN('1') // false<br/>isNaN('abc') // true<br/>```</span><span id="7739" class="li lj it le b gy lr ll l lm ln">**Note:** `isNaN(null)` is `true` .</span><span id="d551" class="li lj it le b gy lr ll l lm ln">### typeof Operator</span><span id="12b7" class="li lj it le b gy lr ll l lm ln">We can use the `typeof` operator before a variable to check if it’s a number, like so:</span><span id="bc57" class="li lj it le b gy lr ll l lm ln">```<br/>typeof 1 == 'number' // true<br/>typeof '1' == 'number' // false<br/>```</span><span id="f88f" class="li lj it le b gy lr ll l lm ln">![](<a class="ae ls" href="https://cdn-images-1.medium.com/max/800/1*3X6EiKc-njoRpCB1AWnv3Q.png" rel="noopener">https://cdn-images-1.medium.com/max/800/1*3X6EiKc-njoRpCB1AWnv3Q.png</a>)</span></pre><p id="422e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe lo lp lq le b">clone-array.md</code>:</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="e90c" class="li lj it le b gy lk ll l lm ln">---<br/>path: "/blog/clone-array"<br/>date: "2019-05-04"<br/>title: "How to Clone Array in JavaScript"<br/>tags: ["array"]<br/>---</span><span id="acaf" class="li lj it le b gy lr ll l lm ln">There are a few ways to clone an array in JavaScript,</span><span id="ff78" class="li lj it le b gy lr ll l lm ln">### Object.assign</span><span id="fa90" class="li lj it le b gy lr ll l lm ln">`Object.assign` allows us to make a shallow copy of any kind of object including arrays.</span><span id="896f" class="li lj it le b gy lr ll l lm ln">For example:</span><span id="61d2" class="li lj it le b gy lr ll l lm ln">&lt;pre&gt;const a = [1,2,3];<br/>const b = Object.assign([], a); // [1,2,3]&lt;/pre&gt;</span><span id="ee6c" class="li lj it le b gy lr ll l lm ln">### Array.slice</span><span id="7f52" class="li lj it le b gy lr ll l lm ln">The `Array.slice` function returns a copy of the original array.</span><span id="d27c" class="li lj it le b gy lr ll l lm ln">For example:</span><span id="2bae" class="li lj it le b gy lr ll l lm ln">&lt;pre&gt;const a = [1,2,3];<br/>const b = a.slice(0); // [1,2,3]&lt;/pre&gt;</span><span id="d1fb" class="li lj it le b gy lr ll l lm ln">### Array.from</span><span id="f99e" class="li lj it le b gy lr ll l lm ln">The `Array.slice` function returns a copy of the original array. It takes array like objects like `Set` and it also takes an array as an argument.</span><span id="26f8" class="li lj it le b gy lr ll l lm ln">&lt;pre&gt;const a = [1,2,3];<br/>const b = Array.from(a); // [1,2,3]&lt;/pre&gt;</span><span id="255d" class="li lj it le b gy lr ll l lm ln">### Spread Operator</span><span id="3fb5" class="li lj it le b gy lr ll l lm ln">The fastest way to copy an array, which is available with ES6 or later, is the spread operator.</span><span id="0a78" class="li lj it le b gy lr ll l lm ln">&lt;pre&gt;const a = [1,2,3];<br/>const b = [...a]; // [1,2,3]&lt;/pre&gt;</span><span id="f15c" class="li lj it le b gy lr ll l lm ln">### JSON.parse and JSON.stringify</span><span id="6c79" class="li lj it le b gy lr ll l lm ln">This allows for deep copy of an array and only works if the objects in the array are plain objects. It can be used like this:</span><span id="61f2" class="li lj it le b gy lr ll l lm ln">&lt;pre&gt;const a = [1,2,3];<br/>const b = JSON.parse(JSON.stringify(a)); // [1,2,3]&lt;/pre&gt;</span></pre><p id="43b8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe lo lp lq le b">concat-array.md</code>:</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="5522" class="li lj it le b gy lk ll l lm ln">---<br/>path: "/blog/concat-array"<br/>date: "2019-05-04"<br/>title: "How to Concatenate Array in JavaScript"<br/>tags: ["array"]<br/>---</span><span id="ede0" class="li lj it le b gy lr ll l lm ln">There are a few ways to concatenate arrays in JavaScript.</span><span id="ed68" class="li lj it le b gy lr ll l lm ln">## Array.concat</span><span id="aba2" class="li lj it le b gy lr ll l lm ln">We can all `Array.concat` on an array to combine 2 arrays and return the new one. For example:</span><span id="3b14" class="li lj it le b gy lr ll l lm ln">```<br/>const a = [1,2,3];<br/>const b = [4,5];<br/>const c = a.concat(b) // [1,2,3,4,5]<br/>```</span><span id="406f" class="li lj it le b gy lr ll l lm ln">## Array.push</span><span id="0ba6" class="li lj it le b gy lr ll l lm ln">We can push elements of one array into another.</span><span id="b448" class="li lj it le b gy lr ll l lm ln">```<br/>const a = [1,2,3];<br/>const b = [4,5];<br/>let c = Object.assign([], a);<br/>for (let i = 0; i &lt; b.length; i++){<br/>  c.push(b[i]);<br/>}<br/>console.log(c); // [1,2,3,4,5]<br/>```</span><span id="7496" class="li lj it le b gy lr ll l lm ln">What we did is make a copy of `a` and assigned it to `c` , then pushed the elements of `b` by looping through it and adding them to the end of `c` .</span><span id="c8cc" class="li lj it le b gy lr ll l lm ln">## Spread Operator</span><span id="25d2" class="li lj it le b gy lr ll l lm ln">With ES6 or later, we can use the spread operator to spread the items from another array into a new array by doing the following:</span><span id="741a" class="li lj it le b gy lr ll l lm ln">```<br/>const a = [1,2,3];<br/>const b = [4,5];<br/>const c = [...a, ...b];<br/>console.log(c); // [1,2,3,4,5]<br/>```</span><span id="678e" class="li lj it le b gy lr ll l lm ln">![](<a class="ae ls" href="https://cdn-images-1.medium.com/max/800/1*3X6EiKc-njoRpCB1AWnv3Q.png" rel="noopener">https://cdn-images-1.medium.com/max/800/1*3X6EiKc-njoRpCB1AWnv3Q.png</a>)</span></pre><p id="d78e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe lo lp lq le b">exponentation.md</code>:</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="5af3" class="li lj it le b gy lk ll l lm ln">---<br/>path: "/blog/exponentiation"<br/>date: "2019-05-04"<br/>title: "How to do Exponentiation in JavaScript"<br/>tags: ["number"]<br/>---</span><span id="e520" class="li lj it le b gy lr ll l lm ln">There are multiple to compute exponents with JavaScript.</span><span id="d6e9" class="li lj it le b gy lr ll l lm ln">The newest way is the exponentiation operator `**`, available with ES2016 or higher.</span><span id="66a6" class="li lj it le b gy lr ll l lm ln">For example, we can do this:</span><span id="40d1" class="li lj it le b gy lr ll l lm ln">```<br/>const a = 2 ** 3; // 8<br/>```</span><span id="5f1a" class="li lj it le b gy lr ll l lm ln">It is right associative, so `a ** b ** c` is equal to `a ** (b ** c)`. This works with all exponents.</span><span id="435d" class="li lj it le b gy lr ll l lm ln">For example:</span><span id="180b" class="li lj it le b gy lr ll l lm ln">```<br/>const a = 2 ** (3 ** 4);<br/>const b = 2 ** 3 ** 4;<br/>a == b // true, both are 2.4178516392292583e+24<br/>```</span><span id="30fd" class="li lj it le b gy lr ll l lm ln">Detail browser compatibility is available at [<a class="ae ls" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators#Browser_compatibility](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators#Browser_compatibility)" rel="noopener ugc nofollow" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators#Browser_compatibility](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators#Browser_compatibility)</a></span><span id="b814" class="li lj it le b gy lr ll l lm ln">We can also use the `Math.pow` function, like this:</span><span id="4a9b" class="li lj it le b gy lr ll l lm ln">```<br/>const a = Math.pow(2,3) // 8<br/>```</span><span id="c6dc" class="li lj it le b gy lr ll l lm ln">It takes 2 arguments, the first is the base and the second is the exponent. `Math.pow` works with all exponents.</span><span id="bdd9" class="li lj it le b gy lr ll l lm ln">`Math.pow` is compatible with all recent browsers.</span><span id="3e2f" class="li lj it le b gy lr ll l lm ln">![](<a class="ae ls" href="https://cdn-images-1.medium.com/max/800/1*3X6EiKc-njoRpCB1AWnv3Q.png" rel="noopener">https://cdn-images-1.medium.com/max/800/1*3X6EiKc-njoRpCB1AWnv3Q.png</a>)</span></pre><p id="8915" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe lo lp lq le b">get-length-obj.md</code>:</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="9afd" class="li lj it le b gy lk ll l lm ln">---<br/>path: "/blog/get-length-obj"<br/>date: "2019-05-04"<br/>title: "How to Get the Length of An Object"<br/>tags: ["object"]<br/>---</span><span id="cebb" class="li lj it le b gy lr ll l lm ln">There are 2 ways to get the length of the list of keys of an object.</span><span id="d993" class="li lj it le b gy lr ll l lm ln">## Object.keys</span><span id="82dc" class="li lj it le b gy lr ll l lm ln">`Object.keys` gets the top level list of keys of an object and returns an array of them. For example:</span><span id="009c" class="li lj it le b gy lr ll l lm ln">```<br/>const a = {foo: 1, bar: 2};<br/>const length = Object.keys(a).length // 2<br/>```</span><span id="8df1" class="li lj it le b gy lr ll l lm ln">## Object.getPropertyNames</span><span id="b0e4" class="li lj it le b gy lr ll l lm ln">`Object.getPropertyNames` also gets a list of all top level of keys of an object and return them as an array. For example:</span><span id="81b4" class="li lj it le b gy lr ll l lm ln">```<br/>const a = {foo: 1, bar: 2};<br/>const length = Object.`getOwnPropertyNames`(a).length // 2<br/>```</span><span id="ad36" class="li lj it le b gy lr ll l lm ln">## for…in Loop</span><span id="5e22" class="li lj it le b gy lr ll l lm ln">There is a special loop for looping through the keys of an object. You can do the following:</span><span id="c3d4" class="li lj it le b gy lr ll l lm ln">```<br/>const a = {foo: 1, bar: 2};<br/>let keysCount = 0;<br/>for (let key in a) {<br/>    keysCount++;<br/>}<br/>console.log(`keysCount) // 2<br/>```</span><span id="6bc5" class="li lj it le b gy lr ll l lm ln">![](<a class="ae ls" href="https://cdn-images-1.medium.com/max/800/1*3X6EiKc-njoRpCB1AWnv3Q.png" rel="noopener">https://cdn-images-1.medium.com/max/800/1*3X6EiKc-njoRpCB1AWnv3Q.png</a>)</span></pre><p id="dbb3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe lo lp lq le b">repeat-strings.md</code>:</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="42a3" class="li lj it le b gy lk ll l lm ln">---<br/>path: "/blog/repeat-strings"<br/>date: "2019-05-04"<br/>title: "How to Repeat Strings with JavaScript"<br/>tags: ["string"]<br/>---</span><span id="88f7" class="li lj it le b gy lr ll l lm ln">There are a few ways to repeat a string in JavaScript. JavaScript strings have a built in `repeat()` function. You can also use a loop to do the same thing.</span><span id="ce89" class="li lj it le b gy lr ll l lm ln">## String.repeat Function</span><span id="b9b5" class="li lj it le b gy lr ll l lm ln">To use the `repeat` function, you pass in the number of times you want to repeat the string as an argument. It returns a new string</span><span id="6bac" class="li lj it le b gy lr ll l lm ln">For example:<br/>```<br/>const hello = "hello";<br/>const hello5 = A.repeat(5);<br/>console.log(hello5); // "hellohellohellohellohello"<br/>```</span><span id="313a" class="li lj it le b gy lr ll l lm ln">## Use a loop</span><span id="d3e2" class="li lj it le b gy lr ll l lm ln">You can use `for` loop and `while` loop to do repeatedly concatenate strings.</span><span id="fe4c" class="li lj it le b gy lr ll l lm ln">Using a `for` loop, you can do:</span><span id="17f5" class="li lj it le b gy lr ll l lm ln">```<br/>const hello = "hello";<br/>```</span><span id="cdbc" class="li lj it le b gy lr ll l lm ln">With a `while` loop, you can do:</span><span id="81a8" class="li lj it le b gy lr ll l lm ln">```<br/>const hello = "hello";<br/>```</span><span id="53c2" class="li lj it le b gy lr ll l lm ln">They both involve increment indexes up to the maximum.</span><span id="41e7" class="li lj it le b gy lr ll l lm ln">![](<a class="ae ls" href="https://cdn-images-1.medium.com/max/800/1*3X6EiKc-njoRpCB1AWnv3Q.png" rel="noopener">https://cdn-images-1.medium.com/max/800/1*3X6EiKc-njoRpCB1AWnv3Q.png</a>)</span></pre><p id="362f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe lo lp lq le b">send-email.md</code>:</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="a5cc" class="li lj it le b gy lk ll l lm ln">---<br/>path: "/blog/send-email"<br/>date: "2019-05-04"<br/>title: "How to Send Email with SendGrid in Node.js Apps"<br/>tags: ["array"]<br/>---</span><span id="ee1a" class="li lj it le b gy lr ll l lm ln">SendGrid is a great service made by Twilio for sending emails. Rather than setting up your own email server for sending email with your apps, we use SendGrid to do the hard work for us. It also decrease the chance of email ending up in spam since it is a known trustworthy service.</span><span id="8044" class="li lj it le b gy lr ll l lm ln">It also has very easy to use libraries for various platforms for sending emails. Node.js is one of the platforms that are supported.</span><span id="ffe7" class="li lj it le b gy lr ll l lm ln">To send emails with SendGrid, install the SendGrid SDK package by running `npm i <a class="ae ls" href="http://twitter.com/sendgrid/mail" rel="noopener ugc nofollow" target="_blank">@sendgrid/mail</a>` . Then in your code, add `const sgMail = require(‘<a class="ae ls" href="http://twitter.com/sendgrid/mail" rel="noopener ugc nofollow" target="_blank">@sendgrid/mail</a>’);` to import the installed package.</span><span id="cbc5" class="li lj it le b gy lr ll l lm ln">Then in your code, you send email by:</span><span id="19cc" class="li lj it le b gy lr ll l lm ln">```<br/>sgMail.setApiKey(process.env.SENDGRID_API_KEY);<br/>const msg = {<br/>  to: email,<br/>  from: '<a class="ae ls" href="mailto:email@example.com" rel="noopener ugc nofollow" target="_blank">email@example.com</a>',<br/>  subject: 'Example Email',<br/>  text: `<br/>    Dear user,  Here is your email.`,<br/>  html: `<br/>    &lt;p&gt;Dear user,&lt;/p&gt;&lt;/pre&gt;<br/>        Here is your email.&lt;/p&gt;`,<br/>};<br/>sgMail.send(msg);<br/>```</span><span id="c2ae" class="li lj it le b gy lr ll l lm ln">where `process.env.SENDGRID_API_KEY` is the SendGrid’s API, which should be stored as an environment variable since it is a secret.</span><span id="7aeb" class="li lj it le b gy lr ll l lm ln">Testing is easy since you don’t need to set up a local development email server.</span><span id="0cd7" class="li lj it le b gy lr ll l lm ln">Sending email is this simple and easy with SendGrid API. It is also free if you send small amounts of email, which is a great benefit.</span><span id="43dc" class="li lj it le b gy lr ll l lm ln">![](<a class="ae ls" href="https://cdn-images-1.medium.com/max/800/1*EdbfsnL3ABxWj2iVWmoIWA.png" rel="noopener">https://cdn-images-1.medium.com/max/800/1*EdbfsnL3ABxWj2iVWmoIWA.png</a>)</span></pre><p id="bc4e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">之后，我们可以创建代码来显示我们网站的内容。在<code class="fe lo lp lq le b">layouts</code>文件夹中，将现有代码<code class="fe lo lp lq le b">Default.vue</code>替换为:</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="2e4d" class="li lj it le b gy lk ll l lm ln">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;nav class="navbar navbar-expand-lg navbar-light bg-light"&gt;<br/>      &lt;a class="navbar-brand" href="#"&gt;{{ $static.metadata.siteName }}&lt;/a&gt;<br/>      &lt;button<br/>        class="navbar-toggler"<br/>        type="button"<br/>        data-toggle="collapse"<br/>        data-target="#navbarSupportedContent"<br/>        aria-controls="navbarSupportedContent"<br/>        aria-expanded="false"<br/>        aria-label="Toggle navigation"<br/>      &gt;<br/>        &lt;span class="navbar-toggler-icon"&gt;&lt;/span&gt;<br/>      &lt;/button&gt;</span><span id="41fc" class="li lj it le b gy lr ll l lm ln">&lt;div class="collapse navbar-collapse" id="navbarSupportedContent"&gt;<br/>        &lt;ul class="navbar-nav mr-auto"&gt;<br/>          &lt;li class="nav-item active"&gt;<br/>            &lt;g-link class="nav-link" to="/"&gt;Home&lt;/g-link&gt;<br/>          &lt;/li&gt;<br/>          &lt;li class="nav-item dropdown" v-if="$page.allTag"&gt;<br/>            &lt;g-link<br/>              class="nav-link dropdown-toggle"<br/>              href="#"<br/>              id="navbarDropdown"<br/>              role="button"<br/>              data-toggle="dropdown"<br/>              aria-haspopup="true"<br/>              aria-expanded="false"<br/>            &gt;Tags&lt;/g-link&gt;<br/>            &lt;div class="dropdown-menu" aria-labelledby="navbarDropdown"&gt;<br/>              &lt;g-link<br/>                class="nav-link"<br/>                :to="tag.node.path"<br/>                v-for="(tag, index) in $page.allTag.edges"<br/>                :key="index"<br/>              &gt;{{tag.node.id}}&lt;/g-link&gt;<br/>            &lt;/div&gt;<br/>          &lt;/li&gt;<br/>        &lt;/ul&gt;<br/>      &lt;/div&gt;<br/>    &lt;/nav&gt;<br/>    &lt;div class="layout"&gt;<br/>      &lt;slot /&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="e601" class="li lj it le b gy lr ll l lm ln">&lt;static-query&gt;<br/>query {<br/>  metadata {<br/>    siteName<br/>  }<br/>}<br/>&lt;/static-query&gt;</span><span id="b430" class="li lj it le b gy lr ll l lm ln">&lt;style&gt;<br/>nav.navbar  {<br/>  background-color: lightgreen !important;<br/>}</span><span id="1e21" class="li lj it le b gy lr ll l lm ln">.layout {<br/>  max-width: 760px;<br/>  margin: 0 auto;<br/>  padding-left: 20px;<br/>  padding-right: 20px;<br/>}</span><span id="316d" class="li lj it le b gy lr ll l lm ln">.header {<br/>  display: flex;<br/>  justify-content: space-between;<br/>  align-items: center;<br/>  margin-bottom: 20px;<br/>  height: 80px;<br/>}</span><span id="5081" class="li lj it le b gy lr ll l lm ln">.nav__link {<br/>  margin-left: 20px;<br/>}<br/>&lt;/style&gt;</span></pre><p id="bee2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这是我们包装内容的布局组件。在那里，我们在布局组件的顶部添加了引导导航条组件，在组件的底部，我们有<code class="fe lo lp lq le b">slot</code>组件来通过我们将要制作的模板显示我们的内容。</p><p id="224b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们从模板和页面的<code class="fe lo lp lq le b">page-query</code>部分获取标签列表，如果标签存在，将显示一个带有标签列表的下拉菜单。每个标签都有一个链接。</p><p id="61d9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">组件的<code class="fe lo lp lq le b">static-query</code>部分获取网站的元数据。在这里，我们用<code class="fe lo lp lq le b">siteName</code>来显示网站的名称。<code class="fe lo lp lq le b">static-query</code>的结果存储在具有<code class="fe lo lp lq le b">static-query</code>部分的组件的<code class="fe lo lp lq le b">this.$static</code>变量中，所以我们可以像上面那样使用<code class="fe lo lp lq le b">$static</code>在模板中显示结果。</p><p id="062d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">接下来，在<code class="fe lo lp lq le b">pages</code>文件夹的<code class="fe lo lp lq le b">Index.vue</code>中，将现有代码替换为:</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="68ed" class="li lj it le b gy lk ll l lm ln">&lt;template&gt;<br/>  &lt;Layout&gt;<br/>    &lt;div class="post-list"&gt;<br/>      &lt;div v-for="(edge, index) in $page.allPost.edges" :key="index"&gt;<br/>        &lt;h1 class="title" v-html="edge.node.title" /&gt;<br/>        &lt;p class="date" v-html="edge.node.date" /&gt;<br/>        &lt;p class="description" v-html="edge.node.description" /&gt;<br/>        &lt;p&gt;{{edge.node.timeToRead}} min read&lt;/p&gt;<br/>        &lt;g-link :to="edge.node.path" class="read"&gt;Read More...&lt;/g-link&gt;<br/>        &lt;hr class="line" /&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/Layout&gt;<br/>&lt;/template&gt;</span><span id="acff" class="li lj it le b gy lr ll l lm ln">&lt;script&gt;<br/>export default {<br/>  metaInfo: {<br/>    title: "Gridsome How to Blog"<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="d7f3" class="li lj it le b gy lr ll l lm ln">&lt;style&gt;<br/>.home-links a {<br/>  margin-right: 1rem;<br/>}<br/>&lt;/style&gt;</span><span id="ffaa" class="li lj it le b gy lr ll l lm ln">&lt;page-query&gt;<br/>query {<br/>  allPost {<br/>    totalCount<br/>    edges {<br/>      node {<br/>        id<br/>        title<br/>        timeToRead<br/>        date (format: "D MMMM YYYY")<br/>        path<br/>      }<br/>    }<br/>  },<br/>  allTag {<br/>    edges {<br/>      node {<br/>        id<br/>        path<br/>      }<br/>    }<br/>  }<br/>}<br/>&lt;/page-query&gt;</span></pre><p id="dca9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这是我们网站的主页。我们显示了之前在<code class="fe lo lp lq le b">content/posts</code>文件夹中创建的文章列表。为了获得post数据，我们将<code class="fe lo lp lq le b">page-query</code>添加到上面的组件中。对于<code class="fe lo lp lq le b">page-query</code>查询，结果设置在<code class="fe lo lp lq le b">this.$page</code>中，所以我们可以像上面那样使用<code class="fe lo lp lq le b">$page</code>在模板中显示数据。</p><p id="192c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们用<code class="fe lo lp lq le b">allPost</code>查询来获取所有的帖子，用<code class="fe lo lp lq le b">allTag</code>查询来获取<code class="fe lo lp lq le b">Layout</code>组件的标签，这些标签写在我们上面修改过的<code class="fe lo lp lq le b">layouts/Default.vue</code>中。</p><p id="da04" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">接下来，我们创建模板来显示我们写的文章。在<code class="fe lo lp lq le b">templates</code>文件夹中，我们创建<code class="fe lo lp lq le b">Post.vue</code>并添加:</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="9300" class="li lj it le b gy lk ll l lm ln">&lt;template&gt;<br/>  &lt;Layout&gt;<br/>    &lt;br /&gt;<br/>    &lt;g-link to="/" class="link"&gt;&amp;larr; Go Back&lt;/g-link&gt;<br/>    &lt;div class="post-title"&gt;<br/>      &lt;h1&gt;{{$page.post.title}}&lt;/h1&gt;<br/>      &lt;p class="post-date"&gt;{{ $page.post.date}} | {{$page.post.timeToRead}} min read&lt;/p&gt;<br/>    &lt;/div&gt;<br/>    &lt;div class="post-content"&gt;<br/>      &lt;p v-html="$page.post.content" /&gt;<br/>    &lt;/div&gt;<br/>  &lt;/Layout&gt;<br/>&lt;/template&gt;</span><span id="2c93" class="li lj it le b gy lr ll l lm ln">&lt;page-query&gt;<br/>query Post ($path: String!) {<br/>   post: post (path: $path) {<br/>    id<br/>    title<br/>    content<br/>    date (format: "D MMMM YYYY")<br/>    timeToRead<br/>  }<br/>}<br/>&lt;/page-query&gt;</span></pre><p id="78da" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这个组件中，我们通过路径获取单个帖子的数据，并将结果赋给<code class="fe lo lp lq le b">this.$page</code>变量，因为它是一个像我们之前一样的<code class="fe lo lp lq le b">page-query</code>。</p><p id="b0f4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">接下来在<code class="fe lo lp lq le b">templates</code>文件夹中创建<code class="fe lo lp lq le b">Tag.vue</code>并添加:</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="0741" class="li lj it le b gy lk ll l lm ln">&lt;template&gt;<br/>  &lt;Layout&gt;<br/>    &lt;h1&gt;Articles Tagged with: {{ $page.tag.title }}&lt;/h1&gt;<br/>    &lt;ul&gt;<br/>      &lt;li v-for="edge in $page.tag.belongsTo.edges" :key="edge.node.id"&gt;<br/>        &lt;g-link :to="edge.node.path"&gt;{{ edge.node.title }}&lt;/g-link&gt;<br/>      &lt;/li&gt;<br/>    &lt;/ul&gt;<br/>  &lt;/Layout&gt;<br/>&lt;/template&gt;</span><span id="8cee" class="li lj it le b gy lr ll l lm ln">&lt;page-query&gt;<br/>query Tag($id: ID!) {<br/>  tag(id: $id) {<br/>    title<br/>    belongsTo {<br/>      edges {<br/>        node {<br/>          ... on Post {<br/>            id<br/>            title<br/>            path<br/>          }<br/>        }<br/>      }<br/>    }<br/>  },<br/>  allTag {<br/>    edges {<br/>      node {<br/>        id<br/>        path<br/>      }<br/>    }<br/>  }<br/>}<br/>&lt;/page-query&gt;</span></pre><p id="ce95" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">用<code class="fe lo lp lq le b">allTag</code>查询获取所有标签，用<code class="fe lo lp lq le b">tag</code>查询获取我们在Markdown文件中写的带有标签的所有文章。在<code class="fe lo lp lq le b">Layout</code>组件中使用了<code class="fe lo lp lq le b">allTag</code>查询，在该组件中使用了<code class="fe lo lp lq le b">tag</code>查询。我们在这个文件中浏览了<code class="fe lo lp lq le b">tag</code>查询的结果。</p><p id="17d4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">接下来在<code class="fe lo lp lq le b">gridsome.config.js</code>中，将现有代码替换为:</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="59b4" class="li lj it le b gy lk ll l lm ln">// This is where project configuration and plugin options are located.<br/>// Learn more: <a class="ae ls" href="https://gridsome.org/docs/config" rel="noopener ugc nofollow" target="_blank">https://gridsome.org/docs/config</a></span><span id="8f00" class="li lj it le b gy lr ll l lm ln">// Changes here require a server restart.<br/>// To restart press CTRL + C in terminal and run `gridsome develop`</span><span id="13c8" class="li lj it le b gy lr ll l lm ln">module.exports = {<br/>  siteName: "Gridsome How to Blog",<br/>  siteDescription: "A how to blog designed with Gridsome",<br/>  plugins: [<br/>    {<br/>      use: "<a class="ae ls" href="http://twitter.com/gridsome/source-filesystem" rel="noopener ugc nofollow" target="_blank">@gridsome/source-filesystem</a>",<br/>      options: {<br/>        path: "content/posts/**/*.md",<br/>        typeName: "Post",<br/>        route: "/blog/:slug",<br/>        refs: {<br/>          tags: {<br/>            typeName: "Tag",<br/>            route: "/tag/:id",<br/>            create: true<br/>          }<br/>        }<br/>      }<br/>    }<br/>  ]<br/>};</span></pre><p id="d60f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">添加<a class="ae ls" href="http://twitter.com/gridsome/source-filesystem" rel="noopener ugc nofollow" target="_blank">@ grid some/source-file system</a>插件，这样我们就可以获取降价文件并在我们的站点中显示它们。<code class="fe lo lp lq le b">options</code>对象中的<code class="fe lo lp lq le b">path</code>是我们创建的降价文件的路径。<code class="fe lo lp lq le b">route</code>是帖子的相对URL。包含了<code class="fe lo lp lq le b">tags</code>对象，以便我们创建页面来列出带有给定标签的文章。<code class="fe lo lp lq le b">typename</code>与我们模板的文件名相同。所以<code class="fe lo lp lq le b">typename: "Post"</code>意味着我们使用<code class="fe lo lp lq le b">templates/Post.vue</code>来显示我们的帖子内容，而<code class="fe lo lp lq le b">typename: "Tag"</code>将使用<code class="fe lo lp lq le b">templates/Tag.vue</code>来显示贴有给定标签的帖子。</p><p id="b670" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">接下来在<code class="fe lo lp lq le b">mains.js</code>中，将现有代码替换为:</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="9114" class="li lj it le b gy lk ll l lm ln">// This is the main.js file. Import global CSS and scripts here.<br/>// The Client API can be used here. Learn more: gridsome.org/docs/client-api</span><span id="cd04" class="li lj it le b gy lr ll l lm ln">import DefaultLayout from "~/layouts/Default.vue";</span><span id="8b11" class="li lj it le b gy lr ll l lm ln">export default function(Vue, { router, head, isClient }) {<br/>  // Set default layout as a global component<br/>  Vue.component("Layout", DefaultLayout);</span><span id="5f18" class="li lj it le b gy lr ll l lm ln">head.link.push({<br/>    rel: "stylesheet",<br/>    href:<br/>      "<a class="ae ls" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="noopener ugc nofollow" target="_blank">https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css</a>",<br/>    integrity:<br/>      "sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T",<br/>    crossorigin: "anonymous"<br/>  });</span><span id="1131" class="li lj it le b gy lr ll l lm ln">// Add an external Javascript before the closing &lt;/body&gt; tag<br/>  head.script.push({<br/>    src: "<a class="ae ls" href="https://code.jquery.com/jquery-3.3.1.slim.min.js" rel="noopener ugc nofollow" target="_blank">https://code.jquery.com/jquery-3.3.1.slim.min.js</a>",<br/>    integrity:<br/>      "sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo",<br/>    crossorigin: "anonymous",<br/>    body: true<br/>  });</span><span id="282e" class="li lj it le b gy lr ll l lm ln">head.script.push({<br/>    src:<br/>      "<a class="ae ls" href="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" rel="noopener ugc nofollow" target="_blank">https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js</a>",<br/>    integrity:<br/>      "sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1",<br/>    crossorigin: "anonymous",<br/>    body: true<br/>  });</span><span id="378d" class="li lj it le b gy lr ll l lm ln">head.script.push({<br/>    src:<br/>      "<a class="ae ls" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" rel="noopener ugc nofollow" target="_blank">https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js</a>",<br/>    integrity:<br/>      "sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM",<br/>    crossorigin: "anonymous",<br/>    body: true<br/>  });</span><span id="4d17" class="li lj it le b gy lr ll l lm ln">// Add a meta tag<br/>  head.meta.push({<br/>    name: "keywords",<br/>    content: "HTML,CSS,XML,JavaScript"<br/>  });<br/>}</span></pre><p id="2210" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">将引导CSS和JavaScript文件添加到页面的<code class="fe lo lp lq le b">head</code>标签中。</p><p id="c1cb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后为了构建我们的静态站点，我们运行<code class="fe lo lp lq le b">gridsome build</code>。我们的站点将建立在<code class="fe lo lp lq le b">dist</code>文件夹中。然后，为了服务我们的网站，我们使用浏览器同步网络服务器。我们运行<code class="fe lo lp lq le b">npm i -g browser-sync</code>来安装服务器，然后转到<code class="fe lo lp lq le b">dist</code>文件夹并运行<code class="fe lo lp lq le b">browser-sync</code>。</p><p id="942f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">那么我们应该得到:</p><figure class="kz la lb lc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/6328b107ebab76285565247cd7cdc11f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*83vwt67J6pF-RNZ3MiiJhw.png"/></div></div></figure><figure class="kz la lb lc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/c48987d96cbc94c9070d5a0487a38ba3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E47IWGrj9248_-9rbE9Qcg.png"/></div></div></figure><figure class="kz la lb lc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/c85dec5a0304ebd1e462b487af70bd16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hDZhEH7Ag_xVbzjwn1gxlg.png"/></div></div></figure><figure class="kz la lb lc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/33aaec6df793b45e7e7ccafd23468da9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E53y3MSxlgXtvK2akPLBXg.png"/></div></div></figure></div></div>    
</body>
</html>