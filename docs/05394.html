<html>
<head>
<title>Learning C++: An Introduction to Classes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">学习C++:类的介绍</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/learning-c-an-introduction-to-classes-6abb3487e39b?source=collection_archive---------22-----------------------#2020-08-24">https://levelup.gitconnected.com/learning-c-an-introduction-to-classes-6abb3487e39b?source=collection_archive---------22-----------------------#2020-08-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/0df4fe2bb25eb6052c0c36655d62fd82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yFygTn6Fj75STFCR"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@emilep?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">埃米尔·佩伦</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></figcaption></figure><p id="5593" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在C++中，创建对象以进行面向对象编程的主要方法是类。类是一组变量(称为成员变量)和函数(称为成员函数)，它们定义了现实世界(或抽象)对象的属性和行为。在这篇文章中，我将介绍在C++中创建类对象的基础知识。</p><h1 id="44b6" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">对象概述</h1><p id="044f" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">面向对象编程是作为更好地模拟现实世界的一种手段而开发的。在现实世界中，我们希望通过计算机程序解决的问题涉及到被称为名词的事物。例如，一个工资单程序将有雇员、工资单、薪水册等。所有这些都是我们可以识别为物体的东西。</p><p id="2320" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这些对象有定义它们的属性和描述它们做什么的行为。例如，雇员有姓名、工作职位、年龄等。工资单程序的员工行为可以是他们在一个支付周期内工作的小时数。</p><p id="b639" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">C++类背后的主要概念是，我们可以将一个事物的属性和该事物的行为组合成一个单一的实体，即<em class="mh">类</em>。另一个基本概念是可以隐藏对象的属性，以便可以控制对这些属性的访问，从而管理存储在对象中的数据。</p><p id="c840" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">员工的年龄就是一个例子。通常，我们会将年龄存储为整数。然而，在大多数C++编译器中，整数的范围可以从大约-20亿到+20亿。所以我们可以把1723分配给一个人的年龄，根据编译器的规则，这是一个有效的年龄。但当然不是，所以我们可以控制程序如何与年龄属性交互，这样就可以只输入一个人的合法年龄。</p><p id="c8c9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以这种方式隐藏数据的能力是OOP数据封装概念的一部分。</p><p id="99c1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">除了数据，我们还可以使用数据封装来隐藏对象的行为(成员函数)。例如，我们的工资程序将需要计算一个雇员的净工资，但是我们不想将这种行为暴露给用户来利用。所以我们可以隐藏成员函数，这样它们就不是对象用户可访问的接口的一部分。我们可以有一个名为<code class="fe mi mj mk ml b"> calculatePayCheck</code>的成员函数，但是它只调用另一个成员函数，这个成员函数不属于可从对象调用的成员函数集。</p><p id="b0ee" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是足够高层次的解释了。让我们认真研究一下具体细节，学习如何用C++创建类。</p><h1 id="be51" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">创建一个类</h1><p id="fdc0" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我将演示如何通过定义一个跟踪日期的类来创建一个类。当创建一个类时，你要做的第一件事就是在编译器的全局空间中给这个类起一个名字:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="b0c9" class="mu lf it ml b gy mv mw l mx my">#include &lt;iostream&gt;<br/>#include &lt;vector&gt;</span><span id="141b" class="mu lf it ml b gy mz mw l mx my">using namespace std;</span><span id="c095" class="mu lf it ml b gy mz mw l mx my">class Date {</span><span id="de37" class="mu lf it ml b gy mz mw l mx my">};</span><span id="1288" class="mu lf it ml b gy mz mw l mx my">int main ()<br/>{</span><span id="12a4" class="mu lf it ml b gy mz mw l mx my">  return 0;<br/>}</span></pre><p id="eff9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">注意，类定义的右花括号后面有一个分号。这是必需的，如果忽略，将导致错误消息。</p><p id="74a4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下一步是定义存储类数据的成员变量。对于日期，我们希望存储月、日和年，因此这些成为我们的成员变量。我们希望对用户隐藏这些数据，所以我们指定将成员变量声明放在一个<code class="fe mi mj mk ml b">private </code>访问节中，如下所示:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="884c" class="mu lf it ml b gy mv mw l mx my">class Date {<br/>private:<br/>  int month, day, year;</span><span id="efa8" class="mu lf it ml b gy mz mw l mx my">};</span></pre><p id="4ff5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一旦确定了成员变量，下一步就是创建组成类接口的成员函数。我们可以为一个<code class="fe mi mj mk ml b">Date</code>类定义许多不同的成员函数，但是现在让我们只定义一个以标准月/日/年格式显示日期的函数。</p><p id="6abe" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">作为我们类的用户可以访问的接口的一部分的成员函数被放在类定义的<code class="fe mi mj mk ml b">public </code>部分。函数也可以放在<code class="fe mi mj mk ml b">private</code>部分，但是类的用户不能访问这些函数，这些函数通常被称为帮助函数，因为它们帮助其他的<code class="fe mi mj mk ml b">public</code>成员函数完成它们的工作。</p><p id="2885" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是一个<code class="fe mi mj mk ml b">display</code>成员函数的定义:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="bbff" class="mu lf it ml b gy mv mw l mx my">class Date {<br/>private:<br/>  int month, day, year;</span><span id="c1e1" class="mu lf it ml b gy mz mw l mx my">public:<br/>  void display() {<br/>    cout &lt;&lt; month &lt;&lt; "/" &lt;&lt; day &lt;&lt; "/" &lt;&lt; year;<br/>  }<br/>};</span></pre><p id="8267" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这些是非常简化的定义，我将在以后的文章中改进它们。</p><p id="4e69" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们看看此时完整的<code class="fe mi mj mk ml b">Date</code>类定义是什么样子的:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="d18f" class="mu lf it ml b gy mv mw l mx my">class Date {<br/>private:<br/>  int month, day, year;</span><span id="eba5" class="mu lf it ml b gy mz mw l mx my">public:<br/>  void display() {<br/>    cout &lt;&lt; month &lt;&lt; "/" &lt;&lt; day &lt;&lt; "/" &lt;&lt; year;<br/>  }</span><span id="27cc" class="mu lf it ml b gy mz mw l mx my">  void setMonth(int m) {<br/>    month = m;<br/>  }</span><span id="50f1" class="mu lf it ml b gy mz mw l mx my">  void setDay(int d) {<br/>    day = d;<br/>  }<br/>  <br/>  void setYear(int y) {<br/>    year = y;<br/>  }<br/>};</span></pre><p id="544c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我可以用这个定义做更多的事情，但是现在让我们看看如何在程序中使用这个<code class="fe mi mj mk ml b">Date</code>类。</p><h1 id="5f2a" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">创建类对象</h1><p id="0b9e" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">一旦定义了类，就可以在程序中使用它了。使用与创建变量相同的语法来创建类对象。下面是创建类对象的语法模板:</p><p id="43d1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="mh">类名对象名(参数列表)；</em></p><p id="72f7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当您为您的类定义了一个或多个构造函数时，将使用参数列表。我将在下一篇文章中讨论构造函数。</p><p id="4025" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是如何创建一个<code class="fe mi mj mk ml b">Date</code>类对象:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="28aa" class="mu lf it ml b gy mv mw l mx my">Date today;</span></pre><p id="8044" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">today对象现在是<code class="fe mi mj mk ml b">Date</code>类的<em class="mh">实例</em>，创建新类对象的行为被称为<em class="mh">实例化</em>。</p><p id="94ec" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下一步是使用成员函数向对象添加一些数据。下面是实现这一点的代码片段:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="c0e0" class="mu lf it ml b gy mv mw l mx my">today.setMonth(8);<br/>today.setDay(23);<br/>today.setYear(2020);</span></pre><p id="5c9a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在我们可以显示刚刚设置的日期:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="dd30" class="mu lf it ml b gy mv mw l mx my">today.display(); // displays 8/23/2020</span></pre><p id="c320" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是完整的程序和类定义:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="d329" class="mu lf it ml b gy mv mw l mx my">class Date {<br/>private:<br/>  int month, day, year;</span><span id="46c6" class="mu lf it ml b gy mz mw l mx my">public:<br/>  void display() {<br/>    cout &lt;&lt; month &lt;&lt; "/" &lt;&lt; day &lt;&lt; "/" &lt;&lt; year;<br/>  }</span><span id="113f" class="mu lf it ml b gy mz mw l mx my">  void setMonth(int m) {<br/>    month = m;<br/>  }</span><span id="9588" class="mu lf it ml b gy mz mw l mx my">  void setDay(int d) {<br/>    day = d;<br/>  }</span><span id="dd02" class="mu lf it ml b gy mz mw l mx my">  void setYear(int y) {<br/>    year = y;<br/>  }<br/>};</span><span id="1730" class="mu lf it ml b gy mz mw l mx my">int main ()<br/>{<br/>  Date today;<br/>  today.setMonth(8);<br/>  today.setDay(23);<br/>  today.setYear(2020);<br/>  today.display();<br/>  return 0;<br/>}</span></pre><p id="9288" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是该程序的输出:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="dea0" class="mu lf it ml b gy mv mw l mx my">8/23/2020</span></pre><p id="677e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我对输出不满意，因为我们希望格式为mm/dd/yyyy，而月份显示的只是一个位数，因为月份数小于10。解决这个问题的一个方法是编写一个私有函数，检查它的参数有多少位，并相应地调整日期位数。</p><p id="131c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是这种函数的一个定义:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="8303" class="mu lf it ml b gy mv mw l mx my">string adjustDate(int d) {<br/>  string date;<br/>  if (d &lt; 10) {<br/>    date = "0" + to_string(d);<br/>  }<br/>  else {<br/>    date = to_string(d);<br/>  }<br/>  return date;<br/>}</span></pre><p id="80d8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是新的完整的类定义:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="1285" class="mu lf it ml b gy mv mw l mx my">class Date {<br/>private:<br/>  int month, day, year;</span><span id="711b" class="mu lf it ml b gy mz mw l mx my">  string adjustDate(int d) {<br/>    string date;<br/>    if (d &lt; 10) {<br/>      date = "0" + to_string(d);<br/>    }<br/>    else {<br/>      date = to_string(d);<br/>    }<br/>    return date;<br/>  }</span><span id="4135" class="mu lf it ml b gy mz mw l mx my">public:<br/>  void display() {<br/>    string date = adjustDate(month) + "/" + adjustDate(day)<br/>                  + "/" + adjustDate(year);<br/>    cout &lt;&lt; date;<br/>  }</span><span id="7555" class="mu lf it ml b gy mz mw l mx my">  void setMonth(int m) {<br/>    month = m;<br/>  }</span><span id="6a91" class="mu lf it ml b gy mz mw l mx my">  void setDay(int d) {<br/>    day = d;<br/>  }</span><span id="0e9b" class="mu lf it ml b gy mz mw l mx my">  void setYear(int y) {<br/>    year = y;<br/>  }<br/>};</span></pre><p id="bf56" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是该程序的输出:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="fb58" class="mu lf it ml b gy mv mw l mx my">08/23/2020</span></pre><h1 id="6c68" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">课堂上还有很多东西</h1><p id="5de3" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">本文只是对C++面向对象编程的一个基本介绍。在我的下一篇文章中，我将讨论如何创建和使用构造函数，这使得实例化新的类对象更加容易和有效，因为在实例化新的类对象时，可以将数据分配给成员变量。</p><p id="83cc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢您的阅读，请发送电子邮件至<a class="ae kf" href="mailto:mmmcmillan1@att.net" rel="noopener ugc nofollow" target="_blank">mmmcmillan1@att.net</a>向我提出意见和建议。如果你对我的在线编程课程感兴趣，请访问https://learningcpp.teachable.com<a class="ae kf" href="https://learningcpp.teachable.com" rel="noopener ugc nofollow" target="_blank"/>。</p></div></div>    
</body>
</html>