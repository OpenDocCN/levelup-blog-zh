<html>
<head>
<title>How to use Firebase as your app’s back-end and CMS (part 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Firebase作为应用程序的后端和CMS(第1部分)</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-use-firebase-as-your-apps-back-end-and-cms-part-1-563fbf6d3740?source=collection_archive---------1-----------------------#2020-01-19">https://levelup.gitconnected.com/how-to-use-firebase-as-your-apps-back-end-and-cms-part-1-563fbf6d3740?source=collection_archive---------1-----------------------#2020-01-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><pre class="jq jr js jt gt ju jv jw jx aw jy bi"><span id="1040" class="jz ka it jv b gy kb kc l kd ke">This is part 1 of the <a class="ae kf" href="http://ivanruns.tech/how-to-use-firebase-as-your-apps-back-end-and-cms-part-1/" rel="noopener ugc nofollow" target="_blank">series</a>. Stand by for the next parts... and together, we will build the best CMS!</span></pre><figure class="jq jr js jt gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kg"><img src="../Images/a31d7b8067c58f3ca632f2a95413b902.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5kLHVW2DvldK45KcNOrQdA.png"/></div></div></figure><p id="a390" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">包括我自己在内，移动开发人员面临的最痛苦的事情之一是他们不得不为自己构建后端时的痛苦。除非你有预算，可以支付另一个后端开发人员以更经典的方式为你做这件事，否则你很可能会想使用一些“免费”的解决方案，如Firebase(它是免费的，直到你的应用程序“爆炸”，在这种情况下<a class="ae kf" href="https://firebase.google.com/pricing" rel="noopener ugc nofollow" target="_blank">为服务支付</a>将有望不是问题)。</p><p id="69f5" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">如果你在过去的几年里一直在睡觉，你没有从零开始捡起这个名字，<a class="ae kf" href="https://firebase.google.com/" rel="noopener ugc nofollow" target="_blank"> Firebase </a>现在是<a class="ae kf" href="https://parseplatform.org/" rel="noopener ugc nofollow" target="_blank">解析</a>在脸书买下它之前的样子，而<a class="ae kf" href="https://techcrunch.com/2016/01/28/facebook-shutters-its-parse-developer-platform/" rel="noopener ugc nofollow" target="_blank">彻底毁了它</a>。毫无疑问，它是所有BaaS(业务即服务)解决方案中的王者，并且有Google的支持，看起来它不会很快走向任何地方。</p><p id="b615" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">为了客观地看待问题，我将只列举几个使用Firebase可以完成的事情:</p><ul class=""><li id="93f5" class="lm ln it kq b kr ks kv kw kz lo ld lp lh lq ll lr ls lt lu bi translated">通过电子邮件、脸书、谷歌进行用户认证...基本上任何你能想到的社交媒体，有了<strong class="kq iu"> Firebase认证</strong></li><li id="4f6f" class="lm ln it kq b kr lv kv lw kz lx ld ly lh lz ll lr ls lt lu bi translated">使用<strong class="kq iu">实时数据库</strong> / <strong class="kq iu"> Cloud Firestore </strong>存储您的NoSQL数据库</li><li id="7bd9" class="lm ln it kq b kr lv kv lw kz lx ld ly lh lz ll lr ls lt lu bi translated">将文件存储在<strong class="kq iu"> Firebase存储器</strong></li><li id="fc38" class="lm ln it kq b kr lv kv lw kz lx ld ly lh lz ll lr ls lt lu bi translated">用<strong class="kq iu"> Firebase托管</strong>创建并托管一个web应用</li><li id="4bfe" class="lm ln it kq b kr lv kv lw kz lx ld ly lh lz ll lr ls lt lu bi translated">创建响应事件的JavaScript函数，并使用<strong class="kq iu"> Firebase函数</strong>调用由其他Firebase特性公开的功能</li><li id="c783" class="lm ln it kq b kr lv kv lw kz lx ld ly lh lz ll lr ls lt lu bi translated">使用<strong class="kq iu"> Firebase Analytics </strong>跟踪你的应用程序的统计数据</li><li id="f95b" class="lm ln it kq b kr lv kv lw kz lx ld ly lh lz ll lr ls lt lu bi translated">使用<strong class="kq iu"> Firebase质量</strong>跟踪您的应用程序的性能</li><li id="2b1d" class="lm ln it kq b kr lv kv lw kz lx ld ly lh lz ll lr ls lt lu bi translated">通过<strong class="kq iu"> Firebase云消息</strong>创建通知并将其发送给用户</li></ul><p id="a41d" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">...这样的例子不胜枚举。简单地说，作为一个(移动)开发者，你可以用Firebase作为你的BaaS来实现任何你能想到的东西。</p><h1 id="dbe9" class="ma ka it bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">我们要建造什么？</h1><p id="4f98" class="pw-post-body-paragraph ko kp it kq b kr mx kt ku kv my kx ky kz mz lb lc ld na lf lg lh nb lj lk ll im bi translated">每一个移动应用的主干都是它使用并传播给用户的数据。如今，大多数移动开发人员只是通过使用由其他开发团队完成的后端来获取数据。如果你是一个移动开发人员的专业团队的一员，你可能永远不会真的为这些数据烦恼。一旦你想自己做某事，问题就出现了。</p><p id="46f0" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">这篇文章将探讨这个问题的核心。我建议的解决方案是使用Firebase服务的许多特性。我们将使用Firebase主机创建一个简单的web应用程序，世界上的每个人都可以使用。我们将使用Firebase数据库在我们的web应用程序中显示数据。最后，我们将使用Firebase身份验证来创建用于填充数据的管理员用户。</p><h1 id="40cb" class="ma ka it bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">步骤1:创建web应用程序</h1><p id="1943" class="pw-post-body-paragraph ko kp it kq b kr mx kt ku kv my kx ky kz mz lb lc ld na lf lg lh nb lj lk ll im bi translated">一旦你在Firebase中创建了你的项目，你需要在左侧的“开发”菜单中选择主机，然后点击“开始”按钮。在此之后，您需要遵循的步骤包括Firebase CLI(命令行工具)的安装，项目的初始化和部署。</p><figure class="jq jr js jt gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nc"><img src="../Images/ebff2218c1dab677278d93d36268d2fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ySlkULN0ksOha0tf.png"/></div></div></figure><p id="96d5" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">从项目列表中选择您想要的项目，然后接受Firebase CLI向您推荐的其他项目。现在你只需要在控制台中输入“<strong class="kq iu"> firebase deploy </strong>”。</p><p id="6a6f" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">然后嘣！就像那样，一旦你切换到Firebase控制台，你会看到你已经有了一个web应用程序，它的URL自豪地呈现在你面前。你甚至可以为它添加一个自定义域。</p><figure class="jq jr js jt gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nc"><img src="../Images/88446526aa51b4561e1b56b92ab77e52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kD4RR_OVPGy8RomF.png"/></div></div></figure><h1 id="b1e8" class="ma ka it bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">步骤2:在web应用程序中创建页面</h1><p id="27fa" class="pw-post-body-paragraph ko kp it kq b kr mx kt ku kv my kx ky kz mz lb lc ld na lf lg lh nb lj lk ll im bi translated">我们的web应用程序将有4个页面，用于:</p><ol class=""><li id="5270" class="lm ln it kq b kr ks kv kw kz lo ld lp lh lq ll nd ls lt lu bi translated">用户的登录或注册</li><li id="b4c0" class="lm ln it kq b kr lv kv lw kz lx ld ly lh lz ll nd ls lt lu bi translated">选择或创建数据库节点</li><li id="b095" class="lm ln it kq b kr lv kv lw kz lx ld ly lh lz ll nd ls lt lu bi translated">选定节点的选项列表</li><li id="1dc7" class="lm ln it kq b kr lv kv lw kz lx ld ly lh lz ll nd ls lt lu bi translated">从节点中选择的选项的详细信息</li></ol><p id="187b" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">为此，我们将创建4个文档:login.html、app.html、list.html和details.html，我们将删除index.html。一旦你这样做了，确保在终端中输入另一个“firebase deploy ”,看看会发生什么。</p><p id="a717" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">发生错误了吗？很可能是的，除非你没有忘记修改你的<strong class="kq iu"> firebase.json </strong>文件，该文件保存了我们正在设置的主机的详细信息。</p><p id="3cc8" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在这个文件中，我们需要改变默认设置，它总是重定向到一个index.html页面的用户，如果你跟着我，你应该已经删除了它。下面是我在firebase.json中使用的代码:</p><figure class="jq jr js jt gt kh"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="1a3a" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">如果你查看了上面的<strong class="kq iu"> cleanUrls </strong>参数，会得到加分。这将使你的网站页面看起来更酷。html扩展！</p><h1 id="f37d" class="ma ka it bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">步骤3:启用Firebase身份验证+创建登录/注册流</h1><p id="4ba7" class="pw-post-body-paragraph ko kp it kq b kr mx kt ku kv my kx ky kz mz lb lc ld na lf lg lh nb lj lk ll im bi translated">由于我们的第一页是登录/注册，我们将首先启用<a class="ae kf" href="https://firebase.google.com/docs/auth/web/start" rel="noopener ugc nofollow" target="_blank"> Firebase认证</a>。你可以选择Firebase的许多选项中的任何一个，但是在这篇文章中，我们将研究使用用户/通行证凭证的简单电子邮件认证。</p><p id="daaf" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在Firebase控制台中启用该选项后，您可以在登录页面中添加以下代码:</p><figure class="jq jr js jt gt kh"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="2b71" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">这将添加登录/注册流程所需的简单按钮和输入视图，如下图所示:</p><figure class="jq jr js jt gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ng"><img src="../Images/540c13958569ca45a7684b3ddd5364d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*KbxgdVWS_1h85_bE.png"/></div></div></figure><figure class="jq jr js jt gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nh"><img src="../Images/8f3edccee1b29a3b695b52cf33725b2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*vx9SLE2pr92RuB1q.png"/></div></div></figure><p id="0830" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">为了对这些字段进行实际操作，我们需要使用简单的Firebase电子邮件/密码认证，详细说明见<a class="ae kf" href="https://firebase.google.com/docs/auth/web/password-auth" rel="noopener ugc nofollow" target="_blank">这里的</a>。上面左边带有确认密码字段的截图实际上根本不需要。这个字段只是添加在那里，以便它与大多数网站使用的用户注册流程保持一致，如果您愿意，可以从您的实现中删除它。</p><p id="30bd" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">注册代码片段:</p><figure class="jq jr js jt gt kh"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="f3b3" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">登录代码片段:</p><figure class="jq jr js jt gt kh"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="76af" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">另一件我们可能会发现很方便的事情是，如果用户登录了，就在我们的应用程序(登录)页面中创建一个检查，如果没有，就将其重定向到登录页面。</p><figure class="jq jr js jt gt kh"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="ac9e" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">现在，我们的演示已经完全适用于用户登录/注册流程。我们将立即继续构建这个web应用程序，但首先，让我们看看它目前的样子:</p><figure class="jq jr js jt gt kh"><div class="bz fp l di"><div class="ni nf l"/></div></figure><p id="b98d" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated"><a class="ae kf" href="https://www.urbandictionary.com/define.php?term=blyatiful" rel="noopener ugc nofollow" target="_blank"><strong class="kq iu"/></a><strong class="kq iu">不是吗？</strong></p><p id="62c8" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">因此，我们结束了本系列的第1部分。在第二部分中，我们将研究为我们的项目创建Firebase数据库。敬请期待！</p></div></div>    
</body>
</html>