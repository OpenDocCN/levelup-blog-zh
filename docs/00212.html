<html>
<head>
<title>OvernightJS: The best way to use ExpressJS with TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">OvernightJS:使用ExpressJS和TypeScript的最佳方式</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/overnightjs-the-best-way-to-use-expressjs-with-typescript-35d71941aade?source=collection_archive---------0-----------------------#2018-09-16">https://levelup.gitconnected.com/overnightjs-the-best-way-to-use-expressjs-with-typescript-35d71941aade?source=collection_archive---------0-----------------------#2018-09-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="2baf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ExpressJS web框架的TypeScript装饰器</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/cb9c56c1e84169272e7c4c6d67b30e51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qxSjwDKjdFRB1qpKV1Tilg.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">隔夜比快递快，懂吗？</figcaption></figure><h1 id="a63b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">通宵游戏攻略</h1><p id="cdcc" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">OvernightJS 是一个简单的库，用于向ExpressJS路由添加TypeScript装饰器。它并不意味着作为Express之上的一个额外的层，或者让你远离编写后端web APIs的RESTful风格。有一些复杂的库确实添加了TypeScript decorators来表达，但它们实际上是带有大量文档的全新框架。如果您已经对ExpressJs有所了解，OvernightJS是简单、容易的，并且几乎不需要花费任何时间来学习。</p></div><div class="ab cl mf mg hu mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ij ik il im in"><h1 id="0ed8" class="lb lc iq bd ld le mm lg lh li mn lk ll lm mo lo lp lq mp ls lt lu mq lw lx ly bi translated">它是如何工作的</h1><p id="093d" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">一旦安装了OvernightJS，只需导入控制器装饰器，将其放在TypeScript类之前，并向其传递一个路由(作为字符串)。该字符串将被添加到控制器中所有方法路径的前面。您可以通过使用decorators为Express GET、POST、PUT和DELETE路由添加路由。您的方法将与放在快速路由回调方法中完全一样。装饰者也支持ExpressJS中间件。任何通常作为第二个参数传递给快速路由的中间件，只需将其作为第二个参数传递给装饰器。</p><p id="8ecb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以与其这样做…</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="9f79" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你可以这样做:)</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="65ef" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦你开始积累大量的控制器和方法，这将为你节省大量的代码。你说我们开始怎么样？</p></div><div class="ab cl mf mg hu mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ij ik il im in"><h1 id="8251" class="lb lc iq bd ld le mm lg lh li mn lk ll lm mo lo lp lq mp ls lt lu mq lw lx ly bi translated">装置</h1><pre class="km kn ko kp gt mt mu mv mw aw mx bi"><span id="9049" class="my lc iq mu b gy mz na l nb nc">$ npm install --save @overnightjs/core express</span><span id="1e59" class="my lc iq mu b gy nd na l nb nc">$ npm install --save-dev @types/express</span></pre></div><div class="ab cl mf mg hu mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ij ik il im in"><h1 id="b9a8" class="lb lc iq bd ld le mm lg lh li mn lk ll lm mo lo lp lq mp ls lt lu mq lw lx ly bi translated">辅导的</h1><p id="d055" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">安装OvernightJS之后，导入TypeScript文件顶部的“控制器<em class="ne">”</em>decorator，以及任何您想要用于API路由的decorator。如果你想使用async/await，你猜怎么着？那些工作得很好。“next”参数也是可选的。在这里，我试着向你们展示尽可能多的不同路线的例子。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="902c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">设置好控制器后，将其导入到服务器文件的顶部。“Server”父类是@overnightjs/core包的一部分，是启用路由所必需的。这个父类也给了我们一个ExpressJS实例，我们可以像其他express实例一样正常地与之交互。使用下面第18行中的“addControllers()”方法初始化路由。这个方法可以传递给单个控制器或一组控制器。</p><p id="58e8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个库的另一个很酷的特性是你不需要使用内置的express。Router()对象。可以通过将您选择的自定义库作为第二个参数传递给“addControllers()”方法来添加它。如果不指定路由器对象，默认的express。使用路由器()1。下面的代码片段包含两个不同的“addControllers()”使用示例。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="d75f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这就是全部了。很简单，对吧？如果您想了解OvernightJS的运行情况，主GitHub库(下面的链接)包含一个示例应用程序。</p><h1 id="db3a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><strong class="ak">链接</strong></h1><div class="nf ng gp gr nh ni"><a href="https://github.com/seanpmaxwell/overnight" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd ir gy z fp nn fr fs no fu fw ip bi translated">seanpmaxwell/隔夜</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">ExpressJS服务器的TypeScript decorators。通过创建帐户为seanpmaxwell/隔夜开发做贡献…</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">github.com</p></div></div><div class="nr l"><div class="ns l nt nu nv nr nw kv ni"/></div></div></a></div><div class="nf ng gp gr nh ni"><a href="https://www.npmjs.com/package/@overnightjs/core" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd ir gy z fp nn fr fs no fu fw ip bi translated">@overnightjs/core</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">Express web服务器的TypeScript decorators。OvernightJS项目的一部分。</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">www.npmjs.com</p></div></div><div class="nr l"><div class="nx l nt nu nv nr nw kv ni"/></div></div></a></div></div><div class="ab cl mf mg hu mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ij ik il im in"><figure class="km kn ko kp gt kq gh gi paragraph-image"><a href="https://levelup.gitconnected.com"><div class="gh gi ny"><img src="../Images/d9fe9ae1a34de6a28338eae427dd6438.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E8lHUzxrIT5VDhu7fUS6gg.png"/></div></a></figure></div></div>    
</body>
</html>