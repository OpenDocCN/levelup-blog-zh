# 每个程序员都应该知道的 5 个计算机硬件概念

> 原文：<https://levelup.gitconnected.com/5-computer-hardware-concepts-that-every-programmer-should-know-32711c759dc0>

## 多亏了这些概念，你的计算机执行了你编写的程序

![](img/027adef500cdb3bf5f4881643a8deae7.png)

由 [Artiom Vallat](https://unsplash.com/@virussinside?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 在 [Unsplash](https://unsplash.com/s/photos/hardware?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上拍摄，由 Canva 编辑

程序员从事各种软件开发项目。那些软件开发项目属于两个编程层次:高级编程和低级编程。从事高级编程的程序员用非常人性化的编程语言编写程序，如 Python、Go、C++、JavaScript 等。另一方面，低级编程相关的软件项目涉及汇编和机器码。一些程序员经常认为 C 编程语言是一种低级编程语言。

从事嵌入式系统设计、操作系统开发和驱动程序编程等低级编程项目的程序员可以与计算机硬件密切合作。但是，现在由于现代编程语言的抽象程度较高，大部分程序员都无法体验到计算机硬件内部。举个例子，如果你懂 Python，你大概会觉得写伪代码和写 Python 脚本没什么区别。

硬件知识并不是所有程序员的必修课。但是，理解以下概念有助于您成为一名优秀的程序员，编写高效且优化的代码。你写的每一行代码都像魔法一样有效——这要归功于计算机硬件技术中的以下想法。

# 机器代码

几乎所有的程序员都知道，他们写的每一行代码，最后都会翻译成机器语言。但是，机器码到底是什么？怎么才能看到呢？它是如何产生的？在本节中，我将回答这些问题。

即使我们通过高级编程语言指导计算机做事情，CPU 也只能理解一组特定的二进制代码模式，即机器代码。芯片组设计者定义了这个特定的二进制代码模式集，它被称为指令集架构(ISA)。例如，x64 CPU 型号只能理解 x64 机器码(x86 也是向后兼容的)。为简单起见，我们可以将这些二进制模式段标记为指令，如`mov`、`add`等。汇编语言指的就是这种带标签的语言语法。

编译器工具链(如 GNU C)生成包含各种操作系统的特定平台机器代码的可执行文件。比如 Linux 平台有 ELF。你可以看到如下所示的 ELF 的汇编代码。

```
gcc hello.c -o hello
objdump -S hello
```

# 提取-解码-执行循环

我们在计算机上进行各种操作。例如，我们通过 web 套接字提供内容，在屏幕上显示图形元素，并进行大量计算。CPU 不知道所有这些不同的任务，但它知道如何完成三项任务:获取、解码和执行。正如我们在上一节中讨论的，我们所有的花哨程序都将被转换成 ISA 汇编语言(机器码)在 CPU 上运行。CPU 确实一直在做一件事:它运行提取-解码-执行循环。CPU 时钟控制这个指令周期的速度。

在提取阶段，CPU 从物理内存中提取一条指令到一个小的内存位置(指令寄存器)。解码阶段帮助 CPU 根据当前指令调整其执行环境。最后，CPU 执行由当前指令指示的原子动作。例如，以下汇编命令将寄存器值递增 10。

```
add eax 10
```

这些原子指令可以根据 CPU 型号而变化。提取-解码-执行循环充当软件层和硬件层之间的接口。硬件层知道如何根据给定的二进制模式运行给定的指令。另一方面，在软件层的边缘，机器代码向硬件提供指令。

# 计算机内存层次结构

CPU 根据指令处理数据。但是那些数据和指令存储在哪里呢？计算机将数据和指令以位的形式存储在各种存储模块中。有两种类型的计算机存储器:易失性和非易失性。当电力供应停止时，易失性存储器模块擦除存储的位。另一方面，非易失性存储模块即使在断电后也能保存存储的位。

理解内存层次结构有助于程序员针对工程问题编写高效且优化的代码。最快和最小的内存模块是位于 CPU 内部的寄存器。CPU 寄存器的大小决定了计算机一次可以处理多少位。此外，CPU 模型通常会告诉我们这方面的提示。例如，64 位处理器型号具有 64 位寄存器。

其次，速度最快的内存模块是临时保存频繁访问的数据的缓存。根据速度，接下来是 RAM 模块。最后，所有其他内存模块，如硬盘驱动器、闪存驱动器和网络存储都将出现。记住，硬盘比内存慢。因此，当你经常读取文件而不在 RAM 中缓存数据时，请三思。

# 机器码中的 1 和 0 是什么？

前面，我们讨论了只包含两个唯一标记的机器代码:1 和 0。我们知道 CPU 执行这些二进制模式——但是 1 和 0 到底是什么？现代计算机是一种数字电子设备，它不(不能)处理模拟数据和指令。二进制 1 表示较高的电压值，二进制 0 表示较低的电压值。

当指令执行阶段发生时，内部 CPU 逻辑门将打开和关闭，以产生作为电压电平的合成二进制模式。根据逻辑门的类型，逻辑门由几个晶体管组成。机器码的 1 和 0 值通常指示晶体管打开或关闭，从而产生另一种二进制模式。

理解到这种程度，有助于所有程序员去除计算机背后的“魔法”部分。

# 你的代码如何在计算机硬件上运行？

我们学习了机器代码、内存模块和 CPU 周期。在这一节中，让我们集合所有的概念，并理解您编写的代码会发生什么。假设你用 C++写一个程序。一旦你编译了你的源文件，编译器(和链接器)会根据你的操作系统和 CPU 架构生成一个依赖于平台(也依赖于硬件)的可执行文件。可执行文件包含作为机器代码(1 和 0)的 ISA 汇编语言指令。

一旦你运行了你写的程序，操作系统就分配所需的资源，并让 CPU 执行可执行文件中的指令。指令可以从 RAM 进入提取-解码-执行循环。指令周期将根据指令中的二进制模式使用内部 CPU 寄存器和高速缓存。

如今，由于高度抽象的现代编程语言，大多数程序员远离硬件层工作。大多数现代编程语言甚至不允许程序员通过自动垃圾收集器访问内存地址。因此，理解这些概念并不是所有程序员的必修课。但是，理解这些概念将引导您成为一名优秀的程序员，编写高效的代码并理解内部机制。

从低级编程开始是进一步研究这些硬件相关概念的好方法。下面的故事解释了为什么每个程序员都应该从 c 语言的低级编程开始。

[](https://betterprogramming.pub/why-every-developer-should-start-programming-with-c-39b3a87392bf) [## 为什么每个开发人员都应该从 C 开始编程

### 你可以用任何语言开始编程——但是用 C 开始有更多的好处！

better 编程. pub](https://betterprogramming.pub/why-every-developer-should-start-programming-with-c-39b3a87392bf)