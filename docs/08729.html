<html>
<head>
<title>Hookstate the Simplest State Management Tool</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">最简单的状态管理工具</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/hookstate-the-simplest-state-management-tool-b02f7d3b01a4?source=collection_archive---------2-----------------------#2021-05-31">https://levelup.gitconnected.com/hookstate-the-simplest-state-management-tool-b02f7d3b01a4?source=collection_archive---------2-----------------------#2021-05-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="33ba" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="ko">小的、最小的、干净的、可扩展的、</em> <strong class="js iu">和<em class="ko">基于钩子的</em> </strong> <em class="ko">状态管理库</em></p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi kp"><img src="../Images/29020b4138ffd321bd4dba689d479de6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3LMhVyKAWHOBmUtFrURNbw.png"/></div></div></figure><p id="9606" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">过去，Redux是React开发人员状态管理的首选方法。Redux样板代码和复杂性使得开发人员开始转向简单的解决方案，如<a class="ae lb" href="https://reactjs.org/docs/context.html" rel="noopener ugc nofollow" target="_blank"> React Context API </a>、<a class="ae lb" href="https://react-query.tanstack.com/" rel="noopener ugc nofollow" target="_blank"> React-Query </a>、<a class="ae lb" href="https://recoiljs.org/" rel="noopener ugc nofollow" target="_blank">反冲</a>、<a class="ae lb" href="https://zustand.surge.sh/" rel="noopener ugc nofollow" target="_blank"> Zustand </a>、<a class="ae lb" href="https://github.com/pmndrs/jotai" rel="noopener ugc nofollow" target="_blank"> Jo-tai </a>。它们都有自己的方式，以一种轻量级且不太复杂的方式来处理状态管理。</p><p id="e5a9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> Hookstate </strong>是一个状态管理工具，它简化了状态管理，没有动作或减少器，可以自由地改变应用程序状态，同时保持不变性概念。这篇文章让我们看到这个新的竞争者如何在国家管理领域发挥作用。</p><h1 id="82c5" class="lc ld it bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">什么是Hookstate？</h1><p id="e5b6" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">Hookstate是一个基于React和Hooks的小型快速灵活的状态管理工具。Hookstate简单易学，具有实用灵活的API。尽管Hookstate很小，但它有一些很好的开发人员友好的特性。Hookstate是一个typescript优先库，因此Hookstate完全支持IntelliSense，非常适合任何复杂的托管状态数据结构。它还支持增强开发者体验的插件。Hookstate遵循React和Hooks的步骤。</p><h1 id="5c43" class="lc ld it bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">是什么让它独一无二？</h1><p id="4ea7" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">与其他状态管理工具不同，Hookstate速度更快，性能更好，这是因为它采用了独特的方法来跟踪使用/呈现和更新的状态段。Hookstate引入了一些状态概念，比如</p><h2 id="5429" class="mf ld it bd le mg mh dn li mi mj dp lm kb mk ml lq kf mm mn lu kj mo mp ly mq bi translated"><a class="ae lb" href="https://hookstate.js.org/docs/local-state" rel="noopener ugc nofollow" target="_blank">地方州</a></h2><p id="0b2f" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">Hookstate中的本地状态类似于React中的useState。它最适合只处理一个组件，也许是它的子组件。创建状态的API函数是类似React.useState的useState，但它内置了更多功能。</p><pre class="kq kr ks kt gt mr ms mt mu aw mv bi"><span id="eb68" class="mf ld it ms b gy mw mx l my mz"><em class="ko">const</em> countState = <strong class="ms iu">useState</strong>(0);<br/><em class="ko">const</em> userState = <strong class="ms iu">useState</strong>({name:'',power:'',description:''});</span></pre><h2 id="7ef4" class="mf ld it bd le mg mh dn li mi mj dp lm kb mk ml lq kf mm mn lu kj mo mp ly mq bi translated"><a class="ae lb" href="https://hookstate.js.org/docs/global-state" rel="noopener ugc nofollow" target="_blank">全局状态</a></h2><p id="55b3" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">这种状态类似于Redux、Zustand等等中的商店状态。此状态由<a class="ae lb" href="https://hookstate.js.org/docs/typedoc-hookstate-core#createstate" rel="noopener ugc nofollow" target="_blank"><strong class="js iu">createState</strong></a><strong class="js iu"/>创建，其中第一个参数是初始状态值/对象。结果值是<a class="ae lb" href="https://hookstate.js.org/docs/typedoc-hookstate-core#state" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">状态</strong> </a>的一个实例，可以直接用于获取和设置React组件外部的状态值。</p><pre class="kq kr ks kt gt mr ms mt mu aw mv bi"><span id="6544" class="mf ld it ms b gy mw mx l my mz">const globalState = <strong class="ms iu">createState</strong>({<br/>  pokemon:{ name:'',power:'',description:''},<br/>  pokemons:[],<br/>  isEditing:false<br/>})</span></pre><h2 id="75ef" class="mf ld it bd le mg mh dn li mi mj dp lm kb mk ml lq kf mm mn lu kj mo mp ly mq bi translated"><a class="ae lb" href="https://hookstate.js.org/docs/nested-state" rel="noopener ugc nofollow" target="_blank">嵌套状态</a></h2><p id="84e7" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">嵌套状态类似于本地和全局状态，只是增加了一个接口来访问和改变复杂状态。该接口引入了一个名为nested的API函数来访问内部的嵌套状态属性，这在处理更复杂的状态对象时非常有用。</p><pre class="kq kr ks kt gt mr ms mt mu aw mv bi"><span id="1d87" class="mf ld it ms b gy mw mx l my mz">const pokemonState = useState(<strong class="ms iu">globalState</strong>);</span><span id="bd7c" class="mf ld it ms b gy na mx l my mz">/// Retrive the nested property 'name' of pokemon with <strong class="ms iu">nested </strong>function<br/>pokemonState.<strong class="ms iu">nested</strong>('pokemon').<strong class="ms iu">name</strong></span></pre><p id="7e53" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您也可以在没有<strong class="js iu">嵌套</strong>功能的情况下访问嵌套状态</p><pre class="kq kr ks kt gt mr ms mt mu aw mv bi"><span id="f6f0" class="mf ld it ms b gy mw mx l my mz">const pokemonState = useState(<strong class="ms iu">globalState</strong>);<br/>/// Retrive the nested property 'name' of pokemon<br/>pokemonState<strong class="ms iu">.pokemon.name</strong></span></pre><h2 id="b73b" class="mf ld it bd le mg mh dn li mi mj dp lm kb mk ml lq kf mm mn lu kj mo mp ly mq bi translated"><a class="ae lb" href="https://hookstate.js.org/docs/scoped-state" rel="noopener ugc nofollow" target="_blank">作用域状态</a></h2><p id="dfb0" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">作用域状态是Hookstate中最突出、最独特的特性。它是唯一提供最简单有效方法的库。作用域状态背后的概念是使用深度嵌套的状态挂钩，以允许Hookstate只受深度嵌套的子组件的状态更改的影响而重新呈现。为了实现这一点，我们需要用<strong class="js iu"> useState </strong>函数包装子状态</p><pre class="kq kr ks kt gt mr ms mt mu aw mv bi"><span id="1494" class="mf ld it ms b gy mw mx l my mz"><em class="ko">const</em> taskState = <strong class="ms iu">useState</strong>(state.anySubStatePassed);</span></pre><p id="7919" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">作用域状态可以与任何其他状态一起使用，如全局、局部和嵌套状态。它基本上是为了渲染优化技术而存在的。</p><h2 id="43fb" class="mf ld it bd le mg mh dn li mi mj dp lm kb mk ml lq kf mm mn lu kj mo mp ly mq bi translated"><a class="ae lb" href="https://hookstate.js.org/docs/asynchronous-state" rel="noopener ugc nofollow" target="_blank">异步状态</a></h2><p id="5e7a" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">根或应用程序状态可以设置为承诺。当执行API调用(REST、GraphQL等)直到承诺被解决时，这将是理想的。<br/>这将通过由Hookstate将承诺(Fetch或Axios对象)传递给<strong class="js iu"> useState </strong> API来执行。</p><pre class="kq kr ks kt gt mr ms mt mu aw mv bi"><span id="cc0a" class="mf ld it ms b gy mw mx l my mz"><em class="ko">const</em> <strong class="ms iu">fetchResource </strong>= () =&gt; fetch(resourcePath).then(r =&gt; r.json())<br/><em class="ko">const</em> <strong class="ms iu">state </strong>= useState(<strong class="ms iu">fetchResource</strong>);</span><span id="5863" class="mf ld it ms b gy na mx l my mz">if(<strong class="ms iu">state.error</strong>){<br/> //handle error, promise rejected<br/>}</span><span id="0df8" class="mf ld it ms b gy na mx l my mz">if(<strong class="ms iu">state.promised</strong>){<br/> //handle success, promise resolved<br/>}</span></pre><p id="29f3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个useState函数处理承诺，您可以通过<strong class="js iu">承诺</strong>和<strong class="js iu">错误</strong>状态访问承诺的状态(已解决或已拒绝)。</p><h1 id="e745" class="lc ld it bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">Hookstate API</h1><p id="a8cd" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">在这一节中，让我们集中讨论Hookstate中最常用的API特性。</p><h2 id="3634" class="mf ld it bd le mg mh dn li mi mj dp lm kb mk ml lq kf mm mn lu kj mo mp ly mq bi translated"><a class="ae lb" href="https://hookstate.js.org/docs/typedoc-hookstate-core/#usestate" rel="noopener ugc nofollow" target="_blank">使用状态</a></h2><p id="8cdd" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">这类似于React的使用状态，主要用于在组件内部创建全局或局部状态。useState也可用于创建限定范围的状态。</p><h2 id="8c29" class="mf ld it bd le mg mh dn li mi mj dp lm kb mk ml lq kf mm mn lu kj mo mp ly mq bi translated"><a class="ae lb" href="https://hookstate.js.org/docs/typedoc-hookstate-core/#createstate" rel="noopener ugc nofollow" target="_blank">创建状态</a></h2><p id="f5ec" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">创建一个新状态并返回它。这主要用于创建应用程序的全局状态。与useState不同，您可以通过调用destroy()方法删除状态来销毁此状态(仅适用于特殊场景)。</p><p id="f7ca" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae lb" href="https://hookstate.js.org/docs/typedoc-hookstate-core/#const-none" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu"> none </strong> </a> <br/> None是一个特殊的符号，可以从调用的对象中删除属性。因此，您可以传递<strong class="js iu"> state.set(none) </strong>来删除对象或属性，而不是使用<strong class="js iu"> delete </strong>或<strong class="js iu"> filter </strong>。</p><h2 id="f8b5" class="mf ld it bd le mg mh dn li mi mj dp lm kb mk ml lq kf mm mn lu kj mo mp ly mq bi translated"><a class="ae lb" href="https://hookstate.js.org/docs/typedoc-hookstate-core/#get" rel="noopener ugc nofollow" target="_blank"> state.get() </a></h2><p id="65da" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">此方法返回此状态实例的路径所引用的基础状态值。它将返回与<strong class="js iu">状态值</strong>相同的结果。</p><h2 id="101c" class="mf ld it bd le mg mh dn li mi mj dp lm kb mk ml lq kf mm mn lu kj mo mp ly mq bi translated"><a class="ae lb" href="https://hookstate.js.org/docs/typedoc-hookstate-core/#set" rel="noopener ugc nofollow" target="_blank"> state.set() </a></h2><p id="53cc" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">此方法为状态设置新值。它类似于React.useState钩子返回的<strong class="js iu"> setState </strong>变量。它可以是一个值，一个解析方法的承诺，或者一个返回其中之一的函数。</p><h2 id="c563" class="mf ld it bd le mg mh dn li mi mj dp lm kb mk ml lq kf mm mn lu kj mo mp ly mq bi translated"><a class="ae lb" href="https://hookstate.js.org/docs/typedoc-hookstate-core/#merge" rel="noopener ugc nofollow" target="_blank"> state.merge() </a></h2><p id="d14d" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">类似于<strong class="js iu"> set() </strong>方法更新状态值。如果当前状态值是一个对象，它会对状态对象进行部分更新。如果状态值是一个数组，而参数是一个数组，则它将通过传递的参数连接当前值，并将其设置为状态。</p><h2 id="c5d2" class="mf ld it bd le mg mh dn li mi mj dp lm kb mk ml lq kf mm mn lu kj mo mp ly mq bi translated">例外目录</h2><p id="71b6" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">Hookstate有一组异常，向程序员传达他们在开发过程中出现的问题和错误。异常键以<strong class="js iu"> HOOKSTATE </strong>开头，后跟一个异常号。</p><p id="5505" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae lb" href="https://hookstate.js.org/docs/exceptions#hookstate-101" rel="noopener ugc nofollow" target="_blank"><strong class="js iu">HOOKSTATE-101</strong></a></p><p id="5709" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae lb" href="https://hookstate.js.org/docs/exceptions#hookstate-102" rel="noopener ugc nofollow" target="_blank"><strong class="js iu">HOOKSTATE-102</strong></a></p><p id="df29" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这些只是许多例外中的一部分。</p><h1 id="d084" class="lc ld it bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">React和Hookstate入门</h1><p id="f954" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">让我们看看如何在React中使用Hookstate。对于这个示例，让我们构建一个口袋妖怪应用程序。这个应用程序将由一个商店和几个访问商店数据的React组件组成。</p><p id="7cef" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">1.Store.js:保存全局状态的应用程序商店。<br/> 2。PokemonForm.jsx:访问商店，向商店添加或更新pokemon数据。<br/> 3。jsx:访问商店并呈现口袋妖怪的列表</p><h2 id="615b" class="mf ld it bd le mg mh dn li mi mj dp lm kb mk ml lq kf mm mn lu kj mo mp ly mq bi translated">步骤01:安装</h2><p id="dd01" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">让我们通过以下命令在react应用程序上安装Hookstate</p><pre class="kq kr ks kt gt mr ms mt mu aw mv bi"><span id="9b7a" class="mf ld it ms b gy mw mx l my mz">yarn add @hookstate/core @hookstate/persistence @hookstate/devtools</span></pre><p id="5f96" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个命令为hookstate核心安装软件包，为hookstate安装另外两个插件。persistence插件用于持久化浏览器中的hookstate存储。localStorage和dev tools插件启用Redux dev工具(假设您已经在浏览器上安装了Redux dev tools扩展)。</p><h2 id="aa15" class="mf ld it bd le mg mh dn li mi mj dp lm kb mk ml lq kf mm mn lu kj mo mp ly mq bi translated">步骤02:创建商店</h2><p id="7128" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">让我们通过使用store.js文件中的<strong class="js iu"> createState </strong>来创建一个全局存储</p><pre class="kq kr ks kt gt mr ms mt mu aw mv bi"><span id="1112" class="mf ld it ms b gy mw mx l my mz">import { <strong class="ms iu">createState</strong> } from '@hookstate/core'</span><span id="2f41" class="mf ld it ms b gy na mx l my mz">const store = <strong class="ms iu">createState</strong>({<br/> pokemon: { name: '', power: '', description: '' },<br/> pokemons: [{<br/>  id: 1, name: 'pikachu', power: 'fire', description: 'fluffy' <br/> }],<br/> isEditing: false,<br/>})</span><span id="f56f" class="mf ld it ms b gy na mx l my mz">export default store;</span></pre><p id="d9d7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">上面的存储是由Hookstate创建的全局存储的基本示例。Hookstate不像Redux或React上下文那样使用<strong class="js iu">减少器</strong>和<strong class="js iu">选择器</strong>。Hookstate允许通过存储对象中可用的<strong class="js iu"> set() </strong>、<strong class="js iu"> merge() </strong>函数对存储对象进行变更或变异。有几种方法可以实现这一点。</p><p id="2eee" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">1.您可以直接从React组件更新状态(这可能会使您的React组件变得复杂，甚至引入重复的代码/逻辑)。</p><p id="9627" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">2.您可以创建一个包装器来包装商店并为其添加更多的功能，因为它易于维护和清理。</p><p id="4d62" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这个例子中，我们将使用一个名为<strong class="js iu"> useGlobalState </strong>的包装函数来执行CRUD操作。</p><pre class="kq kr ks kt gt mr ms mt mu aw mv bi"><span id="f60a" class="mf ld it ms b gy mw mx l my mz">import { createState, useState, none } from '@hookstate/core'</span><span id="e696" class="mf ld it ms b gy na mx l my mz">const store = <strong class="ms iu">createState</strong>({<br/> pokemon: { name: '', power: '', description: '' },<br/> pokemons: [{<br/>  id: 1, name: 'pikachu', power: 'fire', description: 'fluffy' <br/> }],<br/> isEditing: false,<br/>})</span><span id="353d" class="mf ld it ms b gy na mx l my mz">const <strong class="ms iu">useGlobalState </strong>= () =&gt; {<br/>  const state = useState(store);</span><span id="d3fb" class="mf ld it ms b gy na mx l my mz"> return ({<br/>  get: () =&gt; state.value,<br/>  addPokemon: (pokemon) =&gt; {<br/>    state.pokemons.merge([pokemon])<br/>  },<br/>  deletePokemon: (id) =&gt; {<br/>   state.pokemons.keys.<strong class="ms iu">forEach</strong>(index =&gt; {<br/>     if (state.pokemons[index].id.get() === id) {<br/>        <strong class="ms iu">state.pokemons[index].set(none)</strong><br/>   }})<br/>  },<br/>  updatePokemon: (data) =&gt; {<br/>    state.pokemons.keys.<strong class="ms iu">forEach</strong>(index =&gt; {<br/>      if (state.pokemons[index].id.get() === data.id) {<br/>          state.pokemons[index].merge(data)<br/>      }<br/>    })<br/>   state.merge({ isEditing: false })<br/>  state.merge({ pokemon: { name: '', power: '', description: '' } })<br/> },<br/> selectPokemon: (pokemon) =&gt; {<br/>  state.merge({ isEditing: true })<br/>  state.merge({ pokemon: pokemon })<br/> },<br/> clearPokemon: () =&gt; {<br/>  state.merge({ isEditing: false })<br/>  state.merge({ pokemon: { name: '', power: '', description: '' } })<br/> }<br/>})<br/>}</span><span id="b9ec" class="mf ld it ms b gy na mx l my mz">export default <strong class="ms iu">useGlobalState</strong>;</span></pre><p id="6612" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">注意，使用上面的包装器，全局状态突变是可能的(使用forEach()代替map()或reduce，这将创建新的数组)。deletePokemon函数使用由Hookstate <strong class="js iu">引入的符号<strong class="js iu"> none </strong>。</strong></p><h2 id="1c80" class="mf ld it bd le mg mh dn li mi mj dp lm kb mk ml lq kf mm mn lu kj mo mp ly mq bi translated">步骤Hookstate的插件</h2><p id="4d3d" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">Hookstate允许一些有用的插件来增强开发体验。下面是其中的一些</p><p id="602d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">1.<a class="ae lb" href="https://www.npmjs.com/package/@hookstate/initial" rel="noopener ugc nofollow" target="_blank">@ hookstate/initial</a><br/>2。<a class="ae lb" href="https://www.npmjs.com/package/@hookstate/validation" rel="noopener ugc nofollow" target="_blank">@ hookstate/validation</a><br/>3。<a class="ae lb" href="https://www.npmjs.com/package/@hookstate/broadcasted" rel="noopener ugc nofollow" target="_blank">@ hookstate/已播出</a> <br/> 4。<a class="ae lb" href="https://www.npmjs.com/package/@hookstate/persistence" rel="noopener ugc nofollow" target="_blank"> @hookstate/persistence </a></p><p id="d544" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这些插件是独立的npm库。Hookstate文档也提供了如何创建插件的细节。在这个应用程序中，我们将使用持久性插件在localStorage中保存状态。</p><pre class="kq kr ks kt gt mr ms mt mu aw mv bi"><span id="9980" class="mf ld it ms b gy mw mx l my mz"><strong class="ms iu">state.attach(Persistence('pk'))</strong></span></pre><p id="113a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要启用持久性插件，我们必须通过包装器将它附加到应用程序状态，如下所示</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="nb nc l"/></div><figcaption class="nd ne gj gh gi nf ng bd b be z dk translated">最终Store.js</figcaption></figure><h2 id="3cac" class="mf ld it bd le mg mh dn li mi mj dp lm kb mk ml lq kf mm mn lu kj mo mp ly mq bi translated">步骤04:访问存储状态</h2><p id="c5ec" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">让我们访问PokemonForm.jsx和PokemonList.jsx文件中的商店。首先从表单的组件开始。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="nb nc l"/></div><figcaption class="nd ne gj gh gi nf ng bd b be z dk translated">访问商店的PokemonForm.jsx</figcaption></figure><p id="6717" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">注意create pokemon、update pokemon和onChange方法是如何使用Hookstate API方法的。让我们看看如何从列表组件访问商店。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="nb nc l"/></div></figure><blockquote class="nh"><p id="7888" class="ni nj it bd nk nl nm nn no np nq kn dk translated">*注意:如果您同时在React和hookstate中使用useState，请确保从<a class="ae lb" href="http://twitter.com/hookstate/core" rel="noopener ugc nofollow" target="_blank"> @hookstate/core </a>中别名useState，以消除与React的useState的命名冲突。</p></blockquote><p id="01f1" class="pw-post-body-paragraph jq jr it js b jt nr jv jw jx ns jz ka kb nt kd ke kf nu kh ki kj nv kl km kn im bi translated">您可以清楚地看到在应用程序商店中访问和执行突变是多么容易。</p><h2 id="5932" class="mf ld it bd le mg mh dn li mi mj dp lm kb mk ml lq kf mm mn lu kj mo mp ly mq bi translated">步骤o5:处理异步状态</h2><p id="b72d" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">您可以通过向useState方法传递一个promise(异步方法)来执行异步状态。对于使用REST API的应用程序，它将是一个fetch对象或一个Axios对象。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="1e74" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您可以通过这个<a class="ae lb" href="https://github.com/TRomesh/pokemon-hookstate" rel="noopener ugc nofollow" target="_blank"> Github repo </a>来了解如何使用Create-React-App在React应用程序中配置和使用Hookstate。Hookstate也支持<a class="ae lb" href="https://hookstate.js.org/docs/performance-preact" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu"> Preact </strong> </a>，因为<a class="ae lb" href="https://hookstate.js.org/docs/performance-preact" rel="noopener ugc nofollow" target="_blank"><strong class="js iu">Preact</strong></a><strong class="js iu"/>是一种与相同的现代API反应的替代方法。</p><h1 id="48ae" class="lc ld it bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">结论</h1><p id="888d" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">总之，Hookstate库是最轻的状态管理库之一。它还提供了通过插件扩展其功能的灵活性，以增强开发体验。</p><p id="21d0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">例如，Hookstate引入了作用域状态和对Redux DevTools、Persist的支持，以及对React Hooks、TypeScript等的支持。Hookstate附带了一个异常库来识别问题和错误。因此，Hookstate看起来是一个很好的州管理候选。</p><p id="5f2b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">该库的简单性也使它成为使用React进行状态管理的初学者的一个好选择。最后，感谢您花时间阅读本文。我想看看你下面的问题和评论。</p><p id="3720" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">干杯！</p><h1 id="d5a8" class="lc ld it bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">了解更多信息</h1><div class="nw nx gp gr ny nz"><a rel="noopener  ugc nofollow" target="_blank" href="/build-your-own-self-hosted-ci-cd-workflow-with-github-actions-ec9ee1dcd800"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd iu gy z fp oe fr fs of fu fw is bi translated">使用GitHub操作构建您自己的自托管CI/CD工作流</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">GitHub引入了GitHub Actions，使开发人员能够直接从他们的GitHub库自动化工作流…</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="oi l"><div class="oj l ok ol om oi on kz nz"/></div></div></a></div><div class="nw nx gp gr ny nz"><a rel="noopener  ugc nofollow" target="_blank" href="/jotai-atom-based-state-management-for-react-1ce8fd380296"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd iu gy z fp oe fr fs of fu fw is bi translated">jotai:React的基于原子的状态管理</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">在过去的几年里，国家管理有了很大的发展。有很多库和方法可以让你…</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="oi l"><div class="oo l ok ol om oi on kz nz"/></div></div></a></div><div class="nw nx gp gr ny nz"><a rel="noopener  ugc nofollow" target="_blank" href="/urql-the-highly-customizable-and-versatile-graphql-client-69e4e3406904"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd iu gy z fp oe fr fs of fu fw is bi translated">高度可定制和多功能的GraphQL客户端</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">在过去的十年里，REST架构已经成为web应用程序的行业标准，因为REST提供了一个…</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="oi l"><div class="op l ok ol om oi on kz nz"/></div></div></a></div><div class="nw nx gp gr ny nz"><a rel="noopener  ugc nofollow" target="_blank" href="/lets-go-and-build-graphql-api-with-gqlgen-bfea2f346ea1"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd iu gy z fp oe fr fs of fu fw is bi translated">让我们开始用gqlgen构建Graphql API</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">Golang是过去十年中最受欢迎的编程语言之一，主要是因为它的快速…</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="oi l"><div class="oq l ok ol om oi on kz nz"/></div></div></a></div></div><div class="ab cl or os hx ot" role="separator"><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow"/></div><div class="im in io ip iq"><h1 id="26c0" class="lc ld it bd le lf oy lh li lj oz ll lm ln pa lp lq lr pb lt lu lv pc lx ly lz bi translated">分级编码</h1><p id="2956" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">感谢您成为我们社区的一员！<a class="ae lb" href="https://www.youtube.com/channel/UC3v9kBR_ab4UHXXdknz8Fbg?sub_confirmation=1" rel="noopener ugc nofollow" target="_blank">订阅我们的YouTube频道</a>或者加入<a class="ae lb" href="https://skilled.dev/" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu"> Skilled.dev编码面试课程</strong> </a>。</p><div class="nw nx gp gr ny nz"><a href="https://skilled.dev" rel="noopener  ugc nofollow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd iu gy z fp oe fr fs of fu fw is bi translated">编写面试问题+获得开发工作</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">掌握编码面试的过程</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">技术开发</p></div></div><div class="oi l"><div class="pd l ok ol om oi on kz nz"/></div></div></a></div></div></div>    
</body>
</html>