<html>
<head>
<title>Crockford Objects in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的Crockford对象</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/crockford-objects-in-javascript-9947a65fc5e8?source=collection_archive---------4-----------------------#2021-04-06">https://levelup.gitconnected.com/crockford-objects-in-javascript-9947a65fc5e8?source=collection_archive---------4-----------------------#2021-04-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/3c4f37cc6eb47df6996bc431a668c2eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qNErgTuQ5tWRIAGi8Mlrjg.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由Unsplash上的Markus Spiske提供</figcaption></figure><figure class="kf kg kh ki gt ju"><div class="bz fp l di"><div class="kj kk l"/></div></figure><p id="209c" class="pw-post-body-paragraph kl km it kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li im bi translated">来自我在Crockford Objects上的博客文章。</p><p id="661b" class="pw-post-body-paragraph kl km it kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li im bi translated">这是我在这个主题上发表的三篇不同文章的第一部分。看看这些其他的帖子；</p><p id="1a73" class="pw-post-body-paragraph kl km it kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li im bi translated"><a class="ae lj" rel="noopener ugc nofollow" target="_blank" href="/crockford-constructors-bbfd66d58fbc"> Crockford构造函数</a> <br/> <a class="ae lj" href="https://javascript.plainenglish.io/why-you-should-not-use-classes-in-javascript-ca960d13c625" rel="noopener ugc nofollow" target="_blank">为什么不应该在JavaScript中使用Class关键字</a></p><p id="e998" class="pw-post-body-paragraph kl km it kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li im bi translated">我在看JSFest 2018的一个视频，其中<a class="ae lj" href="https://www.crockford.com/about.html" rel="noopener ugc nofollow" target="_blank">道格拉斯·克洛克福特</a>做了一个关于范式力量的演示。如果你有一个小时的空闲时间去看T10，这将是一场精彩的表演。Doug还写了一本书，每个JavaScript开发人员都应该阅读，名为<a class="ae lj" href="https://www.amazon.com/dp/0596517742/wrrrldwideweb" rel="noopener ugc nofollow" target="_blank">JavaScript:The Good Parts</a>。整个演示很棒，但我真的很喜欢他谈到用JavaScript创建对象的那部分。</p><figure class="kf kg kh ki gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lk"><img src="../Images/88781cf3d222b1f5157eaecbed48d8ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OrRhQX-kH-A4Fq9ufN-EJQ.jpeg"/></div></div></figure><p id="da83" class="pw-post-body-paragraph kl km it kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li im bi translated">JavaScript不像Java或C#那样是传统的面向对象语言，它被认为是具有面向对象特性的基于原型的语言。看完道格的演讲后，我想出了自己的术语，我将称之为“克罗克福德对象”。</p><p id="6755" class="pw-post-body-paragraph kl km it kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li im bi translated">当我刚开始学习JavaScript时，我学习定义一个新对象的方法是使用一个返回‘this’的函数。您可以使用“new”关键字创建新对象。这里有一个简单的例子:</p><figure class="kf kg kh ki gt ju"><div class="bz fp l di"><div class="ll kk l"/></div></figure><p id="38b3" class="pw-post-body-paragraph kl km it kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li im bi translated">您可以使用此对象的“prototype”属性向其添加函数。您可以使用prototype属性添加属性和函数。</p><figure class="kf kg kh ki gt ju"><div class="bz fp l di"><div class="ll kk l"/></div></figure><p id="dcea" class="pw-post-body-paragraph kl km it kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li im bi translated"><strong class="kn iu"> ES2015类</strong></p><p id="9820" class="pw-post-body-paragraph kl km it kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li im bi translated">在现代浏览器和Node.js的当前版本中，有一个“class”关键字被添加到语言中。这样做主要是为了让使用更通用语言(如Java和C#)的开发人员更熟悉这种语言。</p><p id="f880" class="pw-post-body-paragraph kl km it kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li im bi translated">Java和C#中的“class”关键字允许开发人员为对象创建模板。它和JavaScript中的“类”不是一回事。在下面的例子中，我们可以看到“类”的定义看起来与C#或Java中的“类”相似。</p><figure class="kf kg kh ki gt ju"><div class="bz fp l di"><div class="ll kk l"/></div></figure><p id="5f26" class="pw-post-body-paragraph kl km it kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li im bi translated">这里的一个关键区别是我们如何引用“this”关键字来访问对象的属性。如果你真的想这样使用语法，我会建议使用<a class="ae lj" href="https://www.typescriptlang.org/" rel="noopener ugc nofollow" target="_blank"> TypeScript </a>。TypeScript提供了一个JavaScript的超集，具有定义良好的类型和类。</p><p id="0795" class="pw-post-body-paragraph kl km it kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li im bi translated"><strong class="kn iu">克罗克福德物体</strong></p><p id="0032" class="pw-post-body-paragraph kl km it kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li im bi translated">Crockford在他关于如何创建对象的演示中给出的例子是开发人员应该使用的创建对象的方法。它不需要“class”关键字或“prototype”属性来定义对象。它也不需要使用“new”关键字来实例化新对象。</p><figure class="kf kg kh ki gt ju"><div class="bz fp l di"><div class="ll kk l"/></div></figure><p id="9d30" class="pw-post-body-paragraph kl km it kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li im bi translated">在上面的例子中，我们有一个带有内部函数的函数。“getName”函数是一个闭包。JavaScript中的闭包可以访问父函数的所有参数，所以我们可以访问“name”属性。我们从“createThing”函数中返回一个新对象，它只包含我们想要的属性和函数。</p><p id="95d3" class="pw-post-body-paragraph kl km it kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li im bi translated">我们还使用了“Object.freeze”函数来锁定我们希望包含在对象中的参数和函数。此方法防止在定义函数后将属性和函数添加到此对象的原型中。</p><p id="b22f" class="pw-post-body-paragraph kl km it kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li im bi translated"><strong class="kn iu">总结</strong></p><p id="03ac" class="pw-post-body-paragraph kl km it kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li im bi translated">Crockford定义和创建对象的方式看起来是JavaScript中更好的方式。这些Crockford对象是用工厂函数定义的。在传统的面向对象语言中，工厂是实例化新对象的常见模式。</p><p id="043a" class="pw-post-body-paragraph kl km it kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li im bi translated">应该注意的是，在JavaScript中以这种方式创建对象会有一些额外的开销，但是在大多数情况下，这不应该阻止您使用这种模式。</p></div></div>    
</body>
</html>