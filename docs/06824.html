<html>
<head>
<title>Build a Snake Game in Python in Under 50 Lines of Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用不到50行代码用Python构建一个贪吃蛇游戏</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/build-a-snake-game-in-python-in-under-50-lines-of-code-faed4bfc5acf?source=collection_archive---------2-----------------------#2021-01-05">https://levelup.gitconnected.com/build-a-snake-game-in-python-in-under-50-lines-of-code-faed4bfc5acf?source=collection_archive---------2-----------------------#2021-01-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/81c3ad7c2382086b6e742abc00b71778.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CnbtcZULzAsavJyViurt-w.png"/></div></div></figure><p id="d371" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">学Python？享受如何在您的终端上构建一个超级简单的贪吃蛇游戏的快速教程！</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="1016" class="lg lh it bd li lj lk dn ll lm ln dp lo km lp lq lr kq ls lt lu ku lv lw lx ly bi translated"><strong class="ak">先决条件:</strong></h2><ul class=""><li id="1d49" class="lz ma it kd b ke mb ki mc km md kq me ku mf ky mg mh mi mj bi translated">Python 3</li><li id="ffd9" class="lz ma it kd b ke mk ki ml km mm kq mn ku mo ky mg mh mi mj bi translated">您最喜欢的文本编辑器</li><li id="60a8" class="lz ma it kd b ke mk ki ml km mm kq mn ku mo ky mg mh mi mj bi translated">Python <strong class="kd iu"> <em class="mp">诅咒</em> </strong>库(通过运行安装:<strong class="kd iu"> <em class="mp"> pip安装windows-诅咒)</em> </strong></li></ul><p id="34f1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">底部链接Github库。</strong></p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="f5a2" class="lg lh it bd li lj lk dn ll lm ln dp lo km lp lq lr kq ls lt lu ku lv lw lx ly bi translated">首先，让我们导入必要的库:</h2><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="91b7" class="lg lh it mv b gy mz na l nb nc"><strong class="mv iu">import</strong> curses</span><span id="3601" class="lg lh it mv b gy nd na l nb nc"><strong class="mv iu">from</strong> curses <strong class="mv iu">import</strong> KEY_RIGHT, KEY_LEFT, KEY_UP, KEY_DOWN</span><span id="0913" class="lg lh it mv b gy nd na l nb nc"><strong class="mv iu">from</strong> random <strong class="mv iu">import</strong> randint</span></pre><h2 id="a8a2" class="lg lh it bd li lj lk dn ll lm ln dp lo km lp lq lr kq ls lt lu ku lv lw lx ly bi translated">接下来，我们需要初始化游戏窗口:</h2><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="1fef" class="lg lh it mv b gy mz na l nb nc">curses.initscr() <strong class="mv iu">#initialize screen<br/></strong>window = curses.newwin(30, 60, 0, 0) <strong class="mv iu">#create new window H=30, W=60<br/></strong>window.keypad(True) <strong class="mv iu">#enable keypad</strong><br/>curses.noecho() <strong class="mv iu">#turn off automatic echoing of keys to the screen<br/></strong>curses.curs_set(0)<br/>window.nodelay(True) <strong class="mv iu">#do not wait for the user input</strong></span></pre><h2 id="3f56" class="lg lh it bd li lj lk dn ll lm ln dp lo km lp lq lr kq ls lt lu ku lv lw lx ly bi translated">现在，让我们为键、分数、蛇和食物坐标设置一些全局变量。我们还将展示第一种食品:</h2><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="329a" class="lg lh it mv b gy mz na l nb nc"><strong class="mv iu">#initiate values<br/></strong>key = KEY_RIGHT<br/>score = 0</span><span id="96a5" class="lg lh it mv b gy nd na l nb nc"><strong class="mv iu">#initialize first food and snake coordinates<br/></strong>snake = [[5,8], [5,7], [5,6]]<br/>food = [10,25]</span><span id="9b9d" class="lg lh it mv b gy nd na l nb nc"><strong class="mv iu">#display the first food<br/></strong>window.addch(food[0], food[1], 'O')</span></pre><h2 id="33f5" class="lg lh it bd li lj lk dn ll lm ln dp lo km lp lq lr kq ls lt lu ku lv lw lx ly bi translated">接下来，我们需要写出蛇在游戏窗口中移动并随着它吃更多食物而成长的逻辑:</h2><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="fde4" class="lg lh it mv b gy mz na l nb nc">while key != 27: <strong class="mv iu"># While they Esc key is not pressed<br/>  </strong>window.border(0)<br/>  <strong class="mv iu">#display the score and title<br/>  </strong>window.addstr(0, 2, 'Score: ' + str(score) + ' ') <strong class="mv iu"><br/>  </strong>window.addstr(0, 27, ' SNAKE! ')</span><span id="4f21" class="lg lh it mv b gy nd na l nb nc"><strong class="mv iu">  #make the snake faster as it eats more<br/>  </strong>window.timeout(140 - (len(snake)/5 + len(snake)/10)%120)<br/>  <strong class="mv iu">#refreshes the screen and then waits for the user to hit a key</strong><br/>  event = window.getch()<br/>  key = key if event == -1 else event<br/>  <br/>  <strong class="mv iu">#Calculates the new coordinates of the head of the snake.<br/>  </strong>snake.insert(0, [snake[0][0] + (key == KEY_DOWN and 1) + (key == KEY_UP and -1), snake[0][1] + (key == KEY_LEFT and -1) + (key == KEY_RIGHT and 1)])</span><span id="8684" class="lg lh it mv b gy nd na l nb nc"><strong class="mv iu">  #Exit if snake crosses the boundaries (Uncomment to enable)</strong><br/>  if snake[0][0] == 0 or snake[0][0] == 29 or snake[0][1] == 0 or  snake[0][1] == 59: break</span><span id="d4ca" class="lg lh it mv b gy nd na l nb nc">  <strong class="mv iu">#Exit if snake runs over itself</strong><br/>  if snake[0] in snake[1:]: break<br/>  <br/>  <strong class="mv iu">#When snake eats the food</strong><br/>  if snake[0] == food:<br/>    food = []<br/>    score += 1<br/>    while food == []:<br/>      <strong class="mv iu">#Generate coordinates for next food<br/>      </strong>food = [randint(1, 28), randint(1, 58)]<br/>      if food in snake: food = []<br/>    window.addch(food[0], food[1], 'O') <strong class="mv iu">#display the food<br/>  </strong>else:<br/>    last = snake.pop()<br/>    window.addch(last[0], last[1], ' ')<br/>  window.addch(snake[0][0], snake[0][1], '#') <strong class="mv iu">#add food to snakes tail</strong></span></pre><h2 id="a399" class="lg lh it bd li lj lk dn ll lm ln dp lo km lp lq lr kq ls lt lu ku lv lw lx ly bi translated">最后，如果游戏失败或退出，结束游戏并显示分数(这需要在while循环之外):</h2><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="551c" class="lg lh it mv b gy mz na l nb nc">curses.endwin() <strong class="mv iu">#close the window and end the game</strong><br/>print("\nScore: " + str(score))</span></pre></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="f692" class="lg lh it bd li lj lk dn ll lm ln dp lo km lp lq lr kq ls lt lu ku lv lw lx ly bi translated">希望你喜欢这个教程！还有其他想看的简单游戏吗？让我知道！</h2><p id="3959" class="pw-post-body-paragraph kb kc it kd b ke mb kg kh ki mc kk kl km ne ko kp kq nf ks kt ku ng kw kx ky im bi translated"><strong class="kd iu">链接到代码:</strong><a class="ae nh" href="https://github.com/Carla-Codes/simple-snake-game-python/" rel="noopener ugc nofollow" target="_blank">https://github.com/Carla-Codes/simple-snake-game-python/</a></p><p id="a4cc" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">在推特上关注我的糟糕科技笑话</strong>:<a class="ae nh" href="https://twitter.com/CarlaNotarobot" rel="noopener ugc nofollow" target="_blank">https://twitter.com/CarlaNotarobot</a></p></div></div>    
</body>
</html>