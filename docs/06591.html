<html>
<head>
<title>Dependency Injection Makes You Incredibly Lazy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">依赖注入让你变得极其懒惰</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/dependency-injection-has-made-developers-lazy-255afc5bedf7?source=collection_archive---------0-----------------------#2020-12-10">https://levelup.gitconnected.com/dependency-injection-has-made-developers-lazy-255afc5bedf7?source=collection_archive---------0-----------------------#2020-12-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="2978" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">固执己见的观点</h2><div class=""/><div class=""><h2 id="ae12" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">导致令人痛苦的构造函数膨胀和难以理解的对象图。</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/069357a4d5ae708c4f25b090b215dc6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UvRFot9HPWsbUux-Rra_lQ.jpeg"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">尼克拉斯·米勒德拍摄的图片</figcaption></figure><p id="10aa" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">依赖注入很棒。真的是。但是，这也是地狱。</p><p id="c27e" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">让一些<a class="ae mf" href="https://pasztor.at/blog/what-is-the-ioc-container/" rel="noopener ugc nofollow" target="_blank"> IoC容器</a>解析我们所有的显式构造函数对象依赖关系的想法是惊人的，并且在开发人员社区中被强烈提倡。</p><p id="2399" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">而且，这是有意义的，因为它简化了设计时的开发。</p></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><p id="79c7" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">方法本质上是这样的:创建一个类。让它采取一些依赖。无忧无虑地将它们注册到IoC容器中。永不回头。</p><p id="fc55" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">我不打算详述IoC、DIP、依赖注入和容器的细节。我相信你已经熟悉了所提供福利的广泛列表。</p><p id="4f00" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">然而，有一个大问题。</p><blockquote class="mn"><p id="8f0a" class="mo mp it bd mq mr ms mt mu mv mw me dk translated">依赖注入激励开发人员变得懒惰。就像，难以置信的懒。</p></blockquote><p id="a86d" class="pw-post-body-paragraph lj lk it ll b lm mx kd lo lp my kg lr ls mz lu lv lw na ly lz ma nb mc md me im bi translated">突然间，见证<a class="ae mf" href="https://medium.com/datadriveninvestor/the-true-meaning-of-service-and-manager-class-names-d09a08731fd9" rel="noopener">‘服务’类变成逻辑垃圾箱</a>变得很常见。服务类构造函数经常成为构造函数膨胀的牺牲品。现在，工程师的日常生活包括轻率地添加另一个显式的构造函数依赖。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nc"><img src="../Images/3a56582c7b8ad2d67ac198ceec7fbb48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uiJjXPTR-TtcEN__wGNW2w.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">常见构造函数膨胀的例子。尼克拉斯·米勒德的图片。</figcaption></figure><p id="f9e3" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">你通常需要传递六个、七个或更多的对象来调用一个服务类方法，这个服务类方法只需要这些依赖关系中的一个<em class="nd">就能正确执行。</em></p><p id="c4cd" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated"><a class="ae mf" href="https://medium.com/better-programming/refactoring-rules-of-thumb-for-beginners-to-become-experts-70161c3c4f20" rel="noopener">与此相关，这里有一篇关于如何重构这种膨胀的文章。</a></p><h2 id="e132" class="ne nf it bd ng nh ni dn nj nk nl dp nm ls nn no np lw nq nr ns ma nt nu nv iz bi translated">简直是地狱。</h2><p id="bbcd" class="pw-post-body-paragraph lj lk it ll b lm nw kd lo lp nx kg lr ls ny lu lv lw nz ly lz ma oa mc md me im bi translated">我认为许多开发人员完全忽视了这种实践是多么令人痛苦。现在，即使编写最简单的单元测试，也需要实例化或模仿几个对象。</p><blockquote class="mn"><p id="0d1d" class="mo mp it bd mq mr ms mt mu mv mw me dk translated">依赖疲劳开始出现。</p></blockquote><p id="d7ad" class="pw-post-body-paragraph lj lk it ll b lm mx kd lo lp my kg lr ls mz lu lv lw na ly lz ma nb mc md me im bi translated">假设您有一个带有八个构造函数参数的类，并且您需要测试一个方法。编写单元测试现在非常麻烦，以至于您开始将空值作为构造函数参数传入，因为您知道在测试这一特定方法时，其他七个依赖项并不执行任何操作。</p><p id="ad69" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">一旦你依赖于一个构造函数臃肿的类，乐趣就真正开始了。例如依赖于另一个服务类别的服务类别。你可能会说这是糟糕设计的结果。当然，它是。拙劣的设计是由于不加思索地注入依赖项而导致的。</p><p id="eef0" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">另一方面，我会鼓励你停止使用服务类。逻辑垃圾箱。它们通常是结构不良的门面，没有真正的好处。相反，尝试将您的服务类分成多个专门的类，如本文所示:</p><div class="ob oc gp gr od oe"><a rel="noopener  ugc nofollow" target="_blank" href="/replacing-if-else-with-commands-and-handlers-527e0abe2147"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd jd gy z fp oj fr fs ok fu fw jc bi translated">用命令和处理程序替换If-Else</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">如何轻松替换if-else语句？不，开关不是合适的替代品。</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="on l"><div class="oo l op oq or on os lb oe"/></div></div></a></div><h2 id="5d89" class="ne nf it bd ng nh ni dn nj nk nl dp nm ls nn no np lw nq nr ns ma nt nu nv iz bi translated">我是显式依赖、DI、IoC以及所有这些好东西的忠实拥护者。</h2><p id="9f90" class="pw-post-body-paragraph lj lk it ll b lm nw kd lo lp nx kg lr ls ny lu lv lw nz ly lz ma oa mc md me im bi translated">到现在，你可能已经开始往相反的方向想了。</p><p id="142a" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">我提倡反对“我只是要增加一个构造函数参数”的懒惰习惯。没别的了。</p><p id="8cb5" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">为了克服这种不好的习惯，您应该总是尝试评估测试一个类或方法有多困难。测试你的新方法需要多少努力？相对于实际使用的类，您需要模拟多少个？</p><p id="344e" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">添加构造函数参数不应该简单地是一个匆忙进行的随机行为。</p><h2 id="16c5" class="ne nf it bd ng nh ni dn nj nk nl dp nm ls nn no np lw nq nr ns ma nt nu nv iz bi translated">离别词。</h2><p id="aff2" class="pw-post-body-paragraph lj lk it ll b lm nw kd lo lp nx kg lr ls ny lu lv lw nz ly lz ma oa mc md me im bi translated">你喜欢你的类接受大量的构造函数参数吗？好吧，那就什么都不要改变。</p><p id="d356" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">从这篇文章中去掉任何你觉得有用的东西，忽略其余的。</p></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="f0ee" class="ot nf it bd ng ou ov ow nj ox oy oz nm ki pa kj np kl pb km ns ko pc kp nv pd bi translated">让我们保持联系！</h1><p id="c086" class="pw-post-body-paragraph lj lk it ll b lm nw kd lo lp nx kg lr ls ny lu lv lw nz ly lz ma oa mc md me im bi translated"><a class="ae mf" href="https://nmillard.medium.com/subscribe" rel="noopener">点击这里</a>订阅时事通讯，获取类似文章的通知，并查看YouTube新频道<a class="ae mf" href="https://www.youtube.com/channel/UCaUy83EAkVdXsZjF3xGSvMw" rel="noopener ugc nofollow" target="_blank"><em class="nd">(@尼可拉斯·米勒德)</em> </a></p><p id="f1a4" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated"><em class="nd">连接上</em> <a class="ae mf" href="https://www.linkedin.com/in/nicklasmillard/" rel="noopener ugc nofollow" target="_blank"> <em class="nd"> LinkedIn </em> </a></p></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="ff5d" class="ot nf it bd ng ou ov ow nj ox oy oz nm ki pa kj np kl pb km ns ko pc kp nv pd bi translated">好奇者的资源</h1><ul class=""><li id="4c2b" class="pe pf it ll b lm nw lp nx ls pg lw ph ma pi me pj pk pl pm bi translated">Janos Pasztor的<a class="ae mf" href="https://pasztor.at/blog/clean-code-dependencies/" rel="noopener ugc nofollow" target="_blank">干净的代码:依赖关系</a></li><li id="5691" class="pe pf it ll b lm pn lp po ls pp lw pq ma pr me pj pk pl pm bi translated"><a class="ae mf" href="https://app.pluralsight.com/library/courses/tactical-design-patternsdot-net/table-of-contents" rel="noopener ugc nofollow" target="_blank">战术设计模式。NET创建对象</a>作者Horvat Zoran</li></ul></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="5b47" class="ot nf it bd ng ou ov ow nj ox oy oz nm ki pa kj np kl pb km ns ko pc kp nv pd bi translated">分级编码</h1><p id="a43d" class="pw-post-body-paragraph lj lk it ll b lm nw kd lo lp nx kg lr ls ny lu lv lw nz ly lz ma oa mc md me im bi translated">感谢您成为我们社区的一员！<a class="ae mf" href="https://www.youtube.com/channel/UC3v9kBR_ab4UHXXdknz8Fbg?sub_confirmation=1" rel="noopener ugc nofollow" target="_blank"> <strong class="ll jd">订阅我们的YouTube频道</strong> </a>或者加入<a class="ae mf" href="https://skilled.dev/" rel="noopener ugc nofollow" target="_blank"> <strong class="ll jd"> Skilled.dev编码面试课程</strong> </a>。</p><div class="ob oc gp gr od oe"><a href="https://skilled.dev" rel="noopener  ugc nofollow" target="_blank"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd jd gy z fp oj fr fs ok fu fw jc bi translated">编写面试问题+获得开发工作</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">掌握编码面试的过程</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">技术开发</p></div></div><div class="on l"><div class="ps l op oq or on os lb oe"/></div></div></a></div></div></div>    
</body>
</html>