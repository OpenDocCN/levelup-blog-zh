<html>
<head>
<title>Size does matter — Flutter dependency management</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">大小很重要——颤振依赖性管理</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/size-does-matter-flutter-dependency-management-162cb16acb62?source=collection_archive---------6-----------------------#2021-04-19">https://levelup.gitconnected.com/size-does-matter-flutter-dependency-management-162cb16acb62?source=collection_archive---------6-----------------------#2021-04-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/321179d7b5e6ea1697b1ff8459b1bf10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mvd15mzNCthvuFVSG4zGnw.png"/></div></div></figure><p id="7be2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">你好👋我叫Luke，是一名软件开发人员。在我与JS包管理人员一起工作的这些年里，我从来没有想过事情可以用不同的方式来完成。我只是接受了它的工作方式。直到我开始和Flutter合作。有东西发出了声音。以下是我的想法👇</p><blockquote class="kz la lb"><p id="fecc" class="kb kc lc kd b ke kf kg kh ki kj kk kl ld kn ko kp le kr ks kt lf kv kw kx ky im bi translated">我将主要比较Flutter package/dependency management solution和npm，因为大多数主要的前端框架都内置了它。</p></blockquote><h1 id="9a77" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">1.我们都习惯了什么，它是如何飘动的</h1><p id="ed16" class="pw-post-body-paragraph kb kc it kd b ke me kg kh ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky im bi translated">大多数前端框架都是围绕像npm这样的包管理器构建的，这些包管理器下载并存储每个项目目录下的依赖项，这些目录都是众所周知的、黑暗的整体大小的目录<code class="fe mj mk ml mm b">node_modules.</code></p><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mn"><img src="../Images/197ce123b267c90b60578777c4e59b68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*MtJjD2ewrV798L4i.png"/></div></div></figure><p id="7c35" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">因此，如果你是一个在多个前端项目上工作的开发人员，你肯定有几个node_modules目录。事情是这样的——开发者是习惯性的生物，当涉及到我们使用的软件包时，我们通常有自己的选择。可以肯定地说，这些node_modulse中的每一个都有相似的(如果不是相同的)依赖关系。如果node_modules不是每次都那么大就不是问题了。</p><p id="ea2d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">例如:</p><p id="861a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您从事三个常规的、非抖动的前端项目，其中node_module平均重量约为600 MB，大约为这些依赖项分配了1.8 GB的内存。</p><p id="03ab" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这就是Flutter之前的一切。</p><h2 id="03d1" class="ms lh it bd li mt mu dn lm mv mw dp lq km mx my lu kq mz na ly ku nb nc mc nd bi translated">Flutter如何处理依赖性</h2><p id="2ed8" class="pw-post-body-paragraph kb kc it kd b ke me kg kh ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky im bi translated">Flutter不像npm那样为每个项目单独下载依赖项，而是将它们下载到一个目录中:</p><pre class="mo mp mq mr gt ne mm nf ng aw nh bi"><span id="71b6" class="ms lh it mm b gy ni nj l nk nl">~/.pub-cache</span></pre><p id="78e4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这个目录在你所有的Flutter应用之间共享。</p><p id="c9c3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这种微妙变化的结果是，我们不必在每个项目中存储相同依赖项的副本。</p><p id="a1c6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">给你一些数字——我最近做了大约12个颤振项目。这些项目的所有依赖项都使用与这三个node_module项目大约相同的存储量— <strong class="kd iu"> 1.8GB，</strong>。</p><p id="eff1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在我看来，Flutter做得更好。在这种情况下，尺寸确实很重要。</p><h2 id="9dfc" class="ms lh it bd li mt mu dn lm mv mw dp lq km mx my lu kq mz na ly ku nb nc mc nd bi translated">JS依赖管理器还有希望吗？</h2><p id="2b50" class="pw-post-body-paragraph kb kc it kd b ke me kg kh ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky im bi translated">当然有！不仅仅是因为这篇文章更多的是展示npm和Flutter在处理依赖关系上的不同。Npm完成了工作，并且已经为它的目的服务了很长时间——这才是最重要的！</p><p id="dc41" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当我对经理们做了一些调查时，我和我的朋友聊得很开心，他告诉我关于<a class="ae nm" href="https://classic.yarnpkg.com/en/docs/workspaces/" rel="noopener ugc nofollow" target="_blank"> yarn workspaces </a>的事情，它的工作方式类似于Flutter在一个地方存储包的方式，但不是开箱即用。这更像是维护monorepo包的一种方式，而不是驻留在主机上的所有依赖项。我可能错了，请在这里<a class="ae nm" href="https://classic.yarnpkg.com/en/docs/workspaces/" rel="noopener ugc nofollow" target="_blank">确认一下</a>。</p><p id="3b6c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这个快速研究中出现的另一个工具是<a class="ae nm" href="https://lerna.js.org" rel="noopener ugc nofollow" target="_blank"> lerna </a>，它似乎是yarn workspaces提供的更高级版本。</p><p id="c03e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果你是一个JS开发人员，我强烈推荐你看看这两个工具！</p><p id="d224" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">看看我所发现的，我确信其他的依赖管理器将会出现，他们肯定会带来新的东西。肯定有希望！</p><h1 id="cd0d" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">不仅如此，文档呢？</h1><figure class="mo mp mq mr gt ju"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="d644" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我曾经试图创建一个npm包。我失败了，但那是很久以前的事了，所以我又试了一次。让我告诉你没那么糟糕…</p><p id="6dd6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">不过，我觉得Flutter做得更好。我想提升我的自尊，并认为我使用不同的工具变得更有效率了😉</p><p id="3397" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">除此之外，我仍然认为npm文档与Flutter的相比有所欠缺。如果你不相信我，自己看看<a class="ae nm" href="https://docs.npmjs.com/getting-started" rel="noopener ugc nofollow" target="_blank"> npm文档</a>和<a class="ae nm" href="https://flutter.dev/docs/development/packages-and-plugins" rel="noopener ugc nofollow" target="_blank">颤振文档</a>。</p><p id="2ebb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在我看来，首先谈论付费账户然后谈论特性的文档从一开始就注定要失败。</p><p id="5753" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我问了一些我的开发朋友关于npm和他们正在使用的特性。我特别询问了他们关于我在Flutter中使用的特性，我知道这些特性在npm中是可用的。他们的回答？他们不知道。为什么？他们要么从未看过npm文档，要么很久以前就看过。</p><p id="c087" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">所以三页的Flutter文档在这方面更胜一筹，因为我使用了它描述的几乎所有内容。向颤动队致敬💙</p><p id="f3b4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我喜欢为我的插件和包使用monorepo来保持一切整洁和愉快🙂</p><h1 id="1536" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">摘要</h1><p id="44b7" class="pw-post-body-paragraph kb kc it kd b ke me kg kh ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky im bi translated">2021年Npm岁了。如果你觉得自己老了，你是对的！是不是说明npm不好？一点也不。如果你有这种感觉，请记住，通常新事物感觉更好，但只是因为他们从哥哥那里获得了知识和经验——在这种情况下，npm，然后复制了好的，忽略了坏的。</p><p id="e497" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在是时候让年长的包管理人员吸取Flutter的优点并实现它了！这就是开源的意义所在。让事情变得更好！</p><p id="5245" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Flutter的做法很棒，希望JS包也有类似的解决方案。或者它已经在那里了？如果您知道这样的解决方案，请与班上的其他人分享！写评论！</p><blockquote class="kz la lb"><p id="fdd7" class="kb kc lc kd b ke kf kg kh ki kj kk kl ld kn ko kp le kr ks kt lf kv kw kx ky im bi translated">这篇文章的原标题是:“为什么依赖管理在Flutter中比其他前端框架更好。”——我简单地抛弃了它，因为我不再那样想了。我的研究不仅改变了我的观点，还让我学到了超出我预期的东西。😂</p></blockquote><p id="c4af" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">再次感谢阅读！如果您有任何问题，请在<a class="ae nm" href="https://twitter.com/ThatLukeUrban" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上问我，我的DMs是开放的。你可以跟着我去那里和这里，在媒体上！</p><p id="938f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我关于颤振的其他文章:</p><ul class=""><li id="5801" class="np nq it kd b ke kf ki kj km nr kq ns ku nt ky nu nv nw nx bi translated"><a class="ae nm" href="https://itnext.io/why-i-m-not-using-navigator-2-0-in-flutter-my-pattern-6a88a8625f6c" rel="noopener ugc nofollow" target="_blank">为什么我不在Flutter中使用Navigator 2.0我的模式</a></li><li id="828f" class="np nq it kd b ke ny ki nz km oa kq ob ku oc ky nu nv nw nx bi translated"><a class="ae nm" href="https://itnext.io/flutter-is-no-longer-a-cross-platform-framework-b53c87b14c39" rel="noopener ugc nofollow" target="_blank"> Flutter不再是一个跨平台的框架——它不仅仅是一个平台。</a></li><li id="ab76" class="np nq it kd b ke ny ki nz km oa kq ob ku oc ky nu nv nw nx bi translated"><a class="ae nm" href="https://luke-urban.medium.com/doyouevenflutter-ep-4-boost-your-coding-productivity-with-this-flutter-vscode-setup-in-2021-60637f05a5c2" rel="noopener"> DoYouEvenFlutter [EP.4]在2021年使用这个Flutter VSCode设置提高您的编码效率</a></li></ul><p id="1e72" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我还为那些处理多个不同版本的Flutter项目的人创建了一个Flutter版本管理器。</p><p id="a2e9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae nm" href="https://github.com/lukeurban/flenv" rel="noopener ugc nofollow" target="_blank">https://github.com/lukeurban/flenv</a>👈</p><p id="e1f8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><em class="lc">让代码与你同在！</em></p><p id="5066" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">卢克(男子名)</p></div></div>    
</body>
</html>