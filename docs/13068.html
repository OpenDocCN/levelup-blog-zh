<html>
<head>
<title>How to Handle Routing with Vue Router in Vue 3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Vue 3中如何用Vue路由器处理路由</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-handle-routing-with-vue-router-in-vue-3-59095af9c07a?source=collection_archive---------1-----------------------#2022-08-04">https://levelup.gitconnected.com/how-to-handle-routing-with-vue-router-in-vue-3-59095af9c07a?source=collection_archive---------1-----------------------#2022-08-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="396f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Vue Router 4进行路由:完整指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3892f6b3f9461cc91140f52a35d68f17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z5cVuL_Mv4hjJp75VptWbA.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由Pexels的Mihis Alex拍摄</figcaption></figure><p id="c765" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Vuejs 3捆绑了一些令人惊叹的新特性。这些特性包括但不限于:优化、改进的类型脚本支持、全局安装、迁移到新的composition-API等等。</p><p id="29d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将探索vue-router 4，它是处理Vue.js中路由的官方和最新库。路由使我们能够在应用程序之间来回导航。我们将在Vue.js应用中配置路由，并研究一些内置于vue-router 4中的优秀功能。</p><p id="9d9a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将假设您有一个Vue.js 3应用程序的框架。如果你想搭建一个新的Vue.js应用程序，看看这个<a class="ae ky" href="https://vuejs.org/guide/quick-start.html#with-build-tools" rel="noopener ugc nofollow" target="_blank">指南</a>。</p><h2 id="5b27" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">装置</h2><p id="f7e5" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">根据您首选的软件包管理器，您可以通过在终端上运行以下命令来安装vue-router 4。</p><p id="2e24" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">使用NPM </strong></p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="49da" class="lv lw it mu b gy my mz l na nb">npm install vue-router@4</span></pre><p id="c2d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">使用纱线</strong></p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="62e3" class="lv lw it mu b gy my mz l na nb">yarn add vue-router@4</span></pre><p id="80e7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">成功安装后，我们现在将配置vue-router，以便在我们的应用程序中处理路由。</p><h2 id="0117" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">配置路线</h2><p id="5443" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">在文件的根目录下，创建一个文件夹，命名为<strong class="lb iu"> <em class="nc"> router </em> </strong>。在该文件夹中，创建一个名为<strong class="lb iu"> <em class="nc"> index.ts. </em> </strong>的文件。该文件将包含我们所有的应用程序路由/路径以及必要的配置。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="be0b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的代码片段中，我们已经从Vue router导入了<strong class="lb iu"><em class="nc">create web history</em></strong>和<strong class="lb iu"> <em class="nc"> createRouter </em> </strong>。<strong class="lb iu"> createWebHistory </strong>使我们能够实现不同的web路由模式。我们可以使用<strong class="lb iu">哈希、HTML 5 </strong>和<strong class="lb iu">内存</strong>模式。在我们这里的配置中，我们通过设置<strong class="lb iu"><em class="nc">` history:createWebHistory()`</em></strong>来使用HTML 5模式</p><p id="b1f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">哈希模式在实际的url前使用<strong class="lb iu"> (#) </strong>，可能会让你的url看起来有点凌乱，对SEO也有一些不好的影响。如果你想尝试哈希模式，从vue-router导入<strong class="lb iu"> createWebHashHistory </strong>并设置<strong class="lb iu">` history:createWebHashHistory()`。</strong></p><p id="46ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样适用于内存模式，从vue-router导入createMemoryHistory并设置<strong class="lb iu">` history:createMemoryHistory()`</strong>。</p><p id="e8a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> createRouter </strong>将使我们能够创建路由器的实例，并允许我们传入上面指定的路由。</p><p id="2d3c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">找到<strong class="lb iu"> <em class="nc"> app.vue </em> </strong>文件，在模板的某个地方放置<strong class="lb iu"> <em class="nc"> router-view </em> </strong>。这是将呈现所有匹配路线的部分。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><h2 id="03af" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">安装路由器</h2><p id="80ac" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">现在我们已经建立了简单的路由，但是我们仍然无法访问必要的路径。我们需要将整个路由器实例安装到应用程序条目文件中，这样我们的应用程序就可以知道我们提供的路由。</p><p id="157e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您在安装过程中选择了TypeScript并且具有以下内容，请打开您的<strong class="lb iu"> <em class="nc"> main.js </em> </strong>或<strong class="lb iu"> <em class="nc"> main.ts </em> </strong>文件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="c07b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，我们导入路由器配置文件，并让整个应用程序注册路由器实例。现在，我们所有的路由配置都可以在整个应用程序上使用，我们可以通过<code class="fe nf ng nh mu b">/home</code> <code class="fe nf ng nh mu b">/about</code>和<code class="fe nf ng nh mu b">/contact.</code>导航</p><p id="7bb5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您试图导航到未配置的路线，如<code class="fe nf ng nh mu b">/users</code>，Vuejs将抛出一个错误。在本文的后面，我们将看到如何处理和捕获我们的应用程序中没有配置的路由。</p><p id="a3ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要链接我们设置的路线，您需要使用如下所示的<code class="fe nf ng nh mu b">router-link</code>。使用这个标签是有益的，因为它不像<code class="fe nf ng nh mu b">a</code>标签那样刷新页面，也使得vue-router更容易处理好这个功能。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="309d" class="lv lw it mu b gy my mz l na nb">// go to /contact page</span><span id="ecb9" class="lv lw it mu b gy ni mz l na nb">&lt;router-link to="/contact"&gt;Contact&lt;/router-link&gt;</span><span id="bb4a" class="lv lw it mu b gy ni mz l na nb">// go to /about page</span><span id="52de" class="lv lw it mu b gy ni mz l na nb">&lt;router-link to="/about"&gt;About&lt;/router-link&gt;</span></pre><h2 id="968f" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">重新寄送</h2><p id="0215" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">我们可以用vue-router无缝地处理重定向。假设您希望访问路径<code class="fe nf ng nh mu b">/home</code>的用户被重定向到<code class="fe nf ng nh mu b">/</code>，我们可以如下所示进行处理。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="d478" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，当用户导航到<code class="fe nf ng nh mu b">/home</code>时，他们将被重定向到<code class="fe nf ng nh mu b">/</code>路线。当您希望某些路由只允许某些用户访问时，重定向也很有用。</p><h2 id="0d91" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">惰性装载路线</h2><p id="63f8" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">惰性加载路由确保只加载需要的路由，其他路由在必要时按需加载。这提供了一些性能改进，尤其是当您有一个包含许多路由和组件的大型应用程序时。</p><p id="0569" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要延迟加载路由，您只需将动态导入添加到您想要延迟加载的路由中。我们可以如下所示实现它。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><h2 id="0308" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">嵌套路由</h2><p id="790d" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">使用vue-router，我们可以配置嵌套路由，即父路由到子路由。我们可以让组件分支成子组件，如下图所示。当从父路由嵌套子路由时，我们需要包含<code class="fe nf ng nh mu b">/router-view</code>以便呈现匹配的子路由。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/c432e21eb5def2f4d7aaa3748de94488.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*410KSMUf-YoncRIiM5oJ7A.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">图片由robinwieruch提供。</figcaption></figure><p id="787d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以如下所示设置嵌套路由。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><h2 id="35dc" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">路由元字段</h2><p id="74d6" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">路由元字段为我们提供了附加路由信息的能力，我们可以在以后操作这些信息。我们可以指定需要身份验证才能访问的路由或我们可能需要的其他相关信息。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="633c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里我们已经为<code class="fe nf ng nh mu b">/meta</code>字段属性提供了一些信息。在路由器实例中，我们可以检查用户是否通过了身份验证，我们是否授权了对特定路径的访问。我们还可以提供诸如<code class="fe nf ng nh mu b">/title</code>的信息。</p><h2 id="2178" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">未找到路线</h2><p id="b444" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">我们还可以捕获一些路由中没有配置的路由。我们可以返回专用的404未找到组件。为了捕捉未配置的路由，我们使用了<code class="fe nf ng nh mu b">/catchall *</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><h2 id="8ec7" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">动态路由</h2><p id="f576" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">动态布线确保将不同的布线映射到同一组件。假设你有不同的帖子，包含不同的<code class="fe nf ng nh mu b">cid</code>，你想根据提供的<code class="fe nf ng nh mu b">cid</code>参数渲染相同的组件。</p><p id="356b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以为动态路由配置路由，如下所示。您只需要在路径后面添加一个冒号，并提供参数的名称。在这里的例子中，我们有<code class="fe nf ng nh mu b">cid</code>参数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="435a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">访问路线参数</strong></p><p id="0e9b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在组件模板中，您可以访问如下所示的<code class="fe nf ng nh mu b">cid</code>参数👇。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="33b8" class="lv lw it mu b gy my mz l na nb">&lt;template&gt;{{ $route.param.cid }}&lt;/template&gt;</span></pre><h2 id="4c91" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">在你走之前</h2><p id="bf0a" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">我希望这篇文章对如何在Vuejs 3应用程序中使用vue-router 4处理路由有所帮助。</p><p id="1204" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">偶尔，我会发送一封独家电子邮件，其中包含我发现的有用的、与技术写作相关的技巧、文章、应用程序、书籍和想法。</p><p id="4f74" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://artisanal-thinker-2556.ck.page/6e2ba71172" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> <em class="nc">加入像你一样想提高技术写作水平的人吧。</em> </strong> </a></p><h2 id="19a5" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">更多阅读</h2><div class="nk nl gp gr nm nn"><a rel="noopener  ugc nofollow" target="_blank" href="/implement-good-commit-message-conventions-in-your-development-workflow-15dd78b7a86e"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd iu gy z fp ns fr fs nt fu fw is bi translated">在开发工作流中实现良好的提交消息约定</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">使用传统提交工作流编写更好的提交消息</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="nw l"><div class="nx l ny nz oa nw ob ks nn"/></div></div></a></div><div class="nk nl gp gr nm nn"><a rel="noopener  ugc nofollow" target="_blank" href="/5-advanced-and-in-depth-learning-resources-for-vue-js-fec1146ea41f"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd iu gy z fp ns fr fs nt fu fw is bi translated">Vue.js的高级和深入学习资源</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">帮助您学习Vue.js的高级概念并超越基础知识的资源</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="nw l"><div class="oc l ny nz oa nw ob ks nn"/></div></div></a></div></div><div class="ab cl od oe hx of" role="separator"><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi"/></div><div class="im in io ip iq"><h1 id="77ab" class="ok lw it bd lx ol om on ma oo op oq md jz or ka mg kc os kd mj kf ot kg mm ou bi translated">分级编码</h1><p id="9879" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="e6ea" class="ov ow it lb b lc ld lf lg li ox lm oy lq oz lu pa pb pc pd bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="5355" class="ov ow it lb b lc pe lf pf li pg lm ph lq pi lu pa pb pc pd bi translated">📰查看<a class="ae ky" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">升级编码出版物</a>中的更多内容</li><li id="d2e6" class="ov ow it lb b lc pe lf pf li pg lm ph lq pi lu pa pb pc pd bi translated">🔔关注我们:<a class="ae ky" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae ky" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae ky" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="4402" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">🚀👉<a class="ae ky" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">加入升级人才集体，找到一份神奇的工作</strong> </a></p></div></div>    
</body>
</html>