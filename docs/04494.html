<html>
<head>
<title>The Impact of Duplicate Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">重复代码的影响</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/the-impact-of-duplicate-code-31c0bceab831?source=collection_archive---------20-----------------------#2020-06-29">https://levelup.gitconnected.com/the-impact-of-duplicate-code-31c0bceab831?source=collection_archive---------20-----------------------#2020-06-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/929949b0bafa7514471822c44bf9e050.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6i8xazm0Kb_LYNB-"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">马赫什·拉纳韦拉在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><div class=""/><div class=""><h2 id="fffe" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">这是代码质量的一个很好的指标</h2></div><p id="4e89" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">每隔一段时间，当你输入代码时，你会突然有一个灵光乍现的时刻。等等…这段代码看起来有点类似于我刚刚在代码库中读到的其他代码。首先应该想到的是，您希望避免重复代码。</p><p id="2175" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">每当你有写重复代码的感觉时，是时候开始质疑你为什么(尽管可能是部分)重写你的一些代码了。</p><p id="5152" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因为如果你不这样做，你的代码就会这样。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="4da4" class="mb mc jj bd md me mf mg mh mi mj mk ml kp mm kq mn ks mo kt mp kv mq kw mr ms bi translated">告别可维护性</h1><p id="95f6" class="pw-post-body-paragraph ky kz jj la b lb mt kk ld le mu kn lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">尽管这可能是无意中发生的，但添加重复代码仍然可能发生。不熟悉代码库的开发人员可能会引入重复代码。复制粘贴编程是在代码库中引入重复代码的另一个原因。</p><p id="e269" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一般来说，更多的软件总是意味着更多的麻烦，尤其是在项目的维护阶段。杰夫·阿特伍德认为，最好的代码就是根本没有代码。尤其是在项目的维护阶段，代码越少越好。重复代码是不允许的，应该出现在代码库中你不想要的东西的列表中。</p><p id="f495" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">重复代码对代码的可维护性影响最大——牺牲可维护性是一件坏事。因为到目前为止，大部分时间都花在了维护上，所以你不应该牺牲它。</p><p id="cb17" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你的代码会产生重复的代码，那就不要去做快速而肮脏的修改。一旦项目进入维护阶段，这将花费大量的时间和金钱。</p><p id="042d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">拥有两段完全相同的代码会带来各种各样的问题。</p><p id="6e70" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，扩展一段代码或修复其中的一个bug会给你带来不必要的重复工作。你现在不必改变一段代码，而是将它加倍。</p><p id="633f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最终，您会遇到这种情况，其中只有两段代码被更改。例如，当一个新的开发人员加入到项目中时。由于重复代码不是标准，新开发人员可能会在这两个地方之一修复代码。当然，这完全是无意的，因为重复代码并不常见——这是有充分理由的。将测试的不良覆盖添加到这个问题中，这个错误会悄悄地潜入代码库。</p><p id="93c2" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">只修复两段代码中的一段，会给你留下两段代码之间的差异。</p><p id="b293" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">可以肯定地说，重复的代码使您的代码非常难以维护。它使你的代码库变得不必要的大，并且增加了额外的技术负担。最重要的是，写重复的代码是浪费时间，而这些时间本可以更好的利用。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="1a35" class="mb mc jj bd md me mf mg mh mi mj mk ml kp mm kq mn ks mo kt mp kv mq kw mr ms bi translated">如何从这里继续</h1><p id="b175" class="pw-post-body-paragraph ky kz jj la b lb mt kk ld le mu kn lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">如果你发现自己在写重复的代码，这可能发生在你不太了解的项目中。我强烈建议您花些时间阅读代码库，理解代码库，并了解已经存在的代码。</p><p id="1de1" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如前所述，当谈到不编写重复代码时，缺乏关于代码库的知识是致命的。</p><p id="8d8b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在你开始一头扎进代码之前，一旦你被分配了一些编码任务，你应该给自己一些时间去了解代码库。在这方面投资一些时间在将来会有巨大的回报。尤其是，当代码库必须存在很多年的时候。</p><p id="5a89" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当您发现重复代码时，您应该做什么？</p><p id="5642" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，重复的代码可能是糟糕设计的标志。这表明通用功能没有被恰当地抽象出来。每当发现重复代码时，您想做的第一件事就是仔细检查设计。</p><p id="df41" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">有没有什么可以改变的地方，使得代码可以以更好、更有效的方式重用，而不仅仅是重新键入？</p><p id="28f0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最重要的是，遵循DRY(不要重复自己)原则被认为是很好的实践。这意味着一旦你开始输入相同的代码，你可能需要重构你的代码。将您的代码和逻辑划分成更小的可重用单元，并通过在您想要的地方调用它来使用这些代码。</p><p id="66f7" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当你成功地遵循了DRY原则，代码中任何部分的修改都不需要改变其他逻辑上不相关的部分。这正是你应该为之奋斗的，因为你不想在一些完全不相关的代码部分修改代码时产生bug。</p><p id="6dbd" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这种类型的错误是完全意想不到的，因此非常危险。当这样的事情经常发生时，从事该项目的开发人员会害怕对代码库进行新的更改——这对代码库也没有好处。</p><p id="a04b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">思考项目的设计和适当的重构是拥有一个没有重复代码的代码库的关键。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="5159" class="mb mc jj bd md me mf mg mh mi mj mk ml kp mm kq mn ks mo kt mp kv mq kw mr ms bi translated">包装它</h1><p id="7149" class="pw-post-body-paragraph ky kz jj la b lb mt kk ld le mu kn lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">重复代码使得代码库的可维护性受到严重影响。代码库中引入重复代码的原因之一是糟糕的设计。</p><p id="7800" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">防止重复代码进入代码库的最有效方法是将代码和逻辑分成更小的可重用单元。</p><p id="9de3" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一旦你发现重复的代码，你就知道是时候改变了。您可能会在设计不允许更小的可重用单元的地方重构部分代码。</p><p id="d2ed" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">思考设计和使用小的、可重用的单元是拥有没有重复代码的代码库的两个关键因素。</p><p id="b74f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢阅读！</p></div></div>    
</body>
</html>