<html>
<head>
<title>Ethical Hacking on Android — Network Scanning and Mapping</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Android上的道德黑客——网络扫描和映射</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/ethical-hacking-on-android-network-scanning-and-mapping-ae7b6ed5e663?source=collection_archive---------0-----------------------#2021-01-08">https://levelup.gitconnected.com/ethical-hacking-on-android-network-scanning-and-mapping-ae7b6ed5e663?source=collection_archive---------0-----------------------#2021-01-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/ed2d92be88cc38f10d609516a4495ebc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MOX9ilib_5Q5NDpnAPd-zg.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@nasa?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> NASA </a>在<a class="ae kf" href="https://unsplash.com/s/photos/network-map?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="d0af" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">概观</h1><p id="84f7" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">在我以前的文章中，我谈到了使用Termux在Android设备上设置<a class="ae kf" href="https://medium.com/swlh/a-guide-to-setting-up-a-development-environment-on-android-devices-ee3e20923f5c" rel="noopener">开发</a>和<a class="ae kf" href="https://alpha2phi.medium.com/ethical-hacking-using-android-devices-4cc77901f9d3" rel="noopener">道德黑客</a>环境，让我们继续享受使用Android设备使用Nmap执行网络扫描和映射的乐趣。</p><div class="mc md gp gr me mf"><a href="https://medium.com/swlh/a-guide-to-setting-up-a-development-environment-on-android-devices-ee3e20923f5c" rel="noopener follow" target="_blank"><div class="mg ab fo"><div class="mh ab mi cl cj mj"><h2 class="bd iu gy z fp mk fr fs ml fu fw is bi translated">在Android设备上设置开发环境的指南</h2><div class="mm l"><h3 class="bd b gy z fp mk fr fs ml fu fw dk translated">概观</h3></div><div class="mn l"><p class="bd b dl z fp mk fr fs ml fu fw dk translated">medium.com</p></div></div><div class="mo l"><div class="mp l mq mr ms mo mt jz mf"/></div></div></a></div><div class="mc md gp gr me mf"><a href="https://alpha2phi.medium.com/ethical-hacking-using-android-devices-4cc77901f9d3" rel="noopener follow" target="_blank"><div class="mg ab fo"><div class="mh ab mi cl cj mj"><h2 class="bd iu gy z fp mk fr fs ml fu fw is bi translated">使用安卓设备的道德黑客</h2><div class="mm l"><h3 class="bd b gy z fp mk fr fs ml fu fw dk translated">概观</h3></div><div class="mn l"><p class="bd b dl z fp mk fr fs ml fu fw dk translated">alpha2phi.medium.com</p></div></div><div class="mo l"><div class="mu l mq mr ms mo mt jz mf"/></div></div></a></div><h1 id="bf52" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">Nmap</h1><p id="ceb8" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated"><a class="ae kf" href="https://nmap.org/" rel="noopener ugc nofollow" target="_blank"> Nmap </a>(“网络映射器”)是一个免费的开源工具，用于网络发现和安全审计。如果你遵循了前面的文章，那么现在你应该已经在设备中安装了<code class="fe mv mw mx my b">nmap</code>。为了便于说明，我将ssh连接到我的Android手机并展示它的用法。</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mz"><img src="../Images/249d6c7123097579e8000219b242eadb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7CVS9FKeDE6_c2pWLUp-3A.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">Termux上的Nmap</figcaption></figure><h1 id="2c09" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">扫描本地网络</h1><p id="fa73" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">做一个<code class="fe mv mw mx my b">ifconfig</code>检查你的本地网络。在我的例子中是192.168.0.0/24(网络掩码255.255.255.0)。</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ne"><img src="../Images/fdce7ed16ff41c1a41b8905158b8db93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O-Ievy2NBAF1_007KA4uvA.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">使用Nmap的本地网络扫描</figcaption></figure><p id="ff4c" class="pw-post-body-paragraph le lf it lg b lh nf lj lk ll ng ln lo lp nh lr ls lt ni lv lw lx nj lz ma mb im bi translated"><code class="fe mv mw mx my b">192.168.0.1</code>是本地网络中的网关，我可以看到DNS (53)、HTTP (80)和HTTPS (443)的开放端口。</p><p id="ef81" class="pw-post-body-paragraph le lf it lg b lh nf lj lk ll ng ln lo lp nh lr ls lt ni lv lw lx nj lz ma mb im bi translated">我还可以在不检查任何开放端口的情况下运行快速扫描</p><pre class="na nb nc nd gt nk my nl nm aw nn bi"><span id="6569" class="no kh it my b gy np nq l nr ns">01:41:05 u0_a196@localhost ~ → <strong class="my iu">nmap -sn 192.168.0.0/24</strong><br/>Starting Nmap 7.91 ( <a class="ae kf" href="https://nmap.org" rel="noopener ugc nofollow" target="_blank">https://nmap.org</a> ) at 2021-01-07 13:41 +08<br/>Nmap scan report for 192.168.0.1<br/>Host is up (0.021s latency).<br/>Nmap scan report for 192.168.0.111<br/>Host is up (0.072s latency).<br/>Nmap scan report for 192.168.0.116<br/>Host is up (0.017s latency).<br/>Nmap scan report for 192.168.0.189<br/>Host is up (0.087s latency).<br/>Nmap scan report for 192.168.0.191<br/>Host is up (0.11s latency).</span></pre><h1 id="94b1" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">扫描特定服务</h1><p id="9618" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">例如使用完全开放扫描(TCP连接)来扫描网络中的web服务器。</p><pre class="na nb nc nd gt nk my nl nm aw nn bi"><span id="0bcd" class="no kh it my b gy np nq l nr ns">10:19:48 u0_a196@localhost scripts → <strong class="my iu">nmap -sT -p80,443 192.168.0.0/24</strong></span><span id="e9d9" class="no kh it my b gy nt nq l nr ns">Starting Nmap 7.91 ( <a class="ae kf" href="https://nmap.org" rel="noopener ugc nofollow" target="_blank">https://nmap.org</a> ) at 2021-01-08 10:21 +08<br/>Nmap scan report for <strong class="my iu">192.168.0.1</strong><br/>Host is up (0.018s latency).</span><span id="aed1" class="no kh it my b gy nt nq l nr ns"><strong class="my iu">PORT    STATE SERVICE<br/>80/tcp  open  http<br/>443/tcp open  https</strong></span><span id="6eec" class="no kh it my b gy nt nq l nr ns">Nmap scan report for 192.168.0.111<br/>Host is up (0.079s latency).</span><span id="4dba" class="no kh it my b gy nt nq l nr ns">PORT    STATE  SERVICE<br/>80/tcp  closed http<br/>443/tcp closed https</span><span id="dd92" class="no kh it my b gy nt nq l nr ns">Nmap scan report for 192.168.0.116<br/>Host is up (0.012s latency).</span><span id="e471" class="no kh it my b gy nt nq l nr ns">PORT    STATE  SERVICE<br/>80/tcp  closed http<br/>443/tcp closed https</span><span id="c747" class="no kh it my b gy nt nq l nr ns">Nmap scan report for 192.168.0.189<br/>Host is up (0.36s latency).</span><span id="a97c" class="no kh it my b gy nt nq l nr ns">PORT    STATE  SERVICE<br/>80/tcp  closed http<br/>443/tcp closed https</span><span id="1b6f" class="no kh it my b gy nt nq l nr ns">Nmap scan report for 192.168.0.191<br/>Host is up (0.092s latency).</span><span id="75ae" class="no kh it my b gy nt nq l nr ns">PORT    STATE  SERVICE<br/>80/tcp  closed http<br/>443/tcp closed https</span><span id="c66d" class="no kh it my b gy nt nq l nr ns">Nmap done: 256 IP addresses (5 hosts up) scanned in 91.71 seconds</span></pre><p id="07bd" class="pw-post-body-paragraph le lf it lg b lh nf lj lk ll ng ln lo lp nh lr ls lt ni lv lw lx nj lz ma mb im bi translated">对于秘密扫描，您可以使用<code class="fe mv mw mx my b">-sS</code>开关，但这需要设备是根设备。我将在另一篇文章中介绍寻根和黑客技术。</p><p id="d3ed" class="pw-post-body-paragraph le lf it lg b lh nf lj lk ll ng ln lo lp nh lr ls lt ni lv lw lx nj lz ma mb im bi translated">要进行更彻底的扫描，如版本检测、脚本扫描和traceroute，请使用以下命令。</p><pre class="na nb nc nd gt nk my nl nm aw nn bi"><span id="8aba" class="no kh it my b gy np nq l nr ns">05:30:53 u0_a196@localhost ~ → <strong class="my iu">nmap -A 192.168.0.1</strong></span><span id="88d2" class="no kh it my b gy nt nq l nr ns">```<br/>| ssl-cert: Subject: commonName=General Root CA/organizationName=D-Link Corporation/stateOrProvinceName=Taiwan/countryName=TW<br/>| Not valid before: 2018-05-22T23:00:01<br/>|_Not valid after:  2037-11-05T23:00:01<br/>49152/tcp open  unknown<br/>| fingerprint-strings:<br/>|   FourOhFourRequest:<br/>|     HTTP/1.1 404 Not Found<br/>|     Server: WebServer<br/>|     Date: Fri, 08 Jan 2021 09:31:04 GMT<br/>|     Content-Type: text/html<br/>|     Content-Length: 110<br/>|     &lt;title&gt;404 Not Found&lt;/title&gt;<br/>|     &lt;h1&gt;404 Not Found&lt;/h1&gt;<br/>|     resource requested could not be found on this server.<br/>|   GetRequest:<br/>|     HTTP/1.1 404 Not Found<br/>|     Server: WebServer<br/>|     Date: Fri, 08 Jan 2021 09:31:09 GMT<br/>|     Content-Type: text/html<br/>|     Content-Length: 110<br/>|     &lt;title&gt;404 Not Found&lt;/title&gt;<br/>|     &lt;h1&gt;404 Not Found&lt;/h1&gt;<br/>|     resource requested could not be found on this server.<br/>|   HTTPOptions:<br/>|     HTTP/1.1 501 Not Implemented<br/>|     Server: WebServer<br/>|     Date: Fri, 08 Jan 2021 09:31:09 GMT<br/>|     Content-Type: text/html<br/>|     Content-Length: 127<br/>|     &lt;title&gt;501 Not Implemented&lt;/title&gt;<br/>|     &lt;h1&gt;501 Not Implemented&lt;/h1&gt;</span></pre><h1 id="5094" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">秘密扫描目标</h1><p id="6138" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">先安装<code class="fe mv mw mx my b">dnsutils</code>。</p><pre class="na nb nc nd gt nk my nl nm aw nn bi"><span id="dcb5" class="no kh it my b gy np nq l nr ns"># pkg install dnsutils</span></pre><p id="d1e2" class="pw-post-body-paragraph le lf it lg b lh nf lj lk ll ng ln lo lp nh lr ls lt ni lv lw lx nj lz ma mb im bi translated">检查目标信息。对于下面捕获的信息，敏感信息被删除，您需要用您的目标替换域名。</p><pre class="na nb nc nd gt nk my nl nm aw nn bi"><span id="2e7a" class="no kh it my b gy np nq l nr ns">11:42:45 u0_a196@localhost ~ → host <strong class="my iu">&lt;domain name&gt;</strong> 8.8.8.8<br/>Using domain server:<br/>Name: 8.8.8.8<br/>Address: 8.8.8.8#53<br/>Aliases:</span><span id="5780" class="no kh it my b gy nt nq l nr ns">&lt;domain name&gt; has address 1.2.3.4<br/>&lt;domain name&gt; has address 2.3.4.5<br/>&lt;domain name&gt; has address 5.6.7.8<br/>&lt;domain name&gt; mail is handled by 20 abc.com.<br/>&lt;domain name&gt; mail is handled by 10 xyz.com.</span></pre><p id="29df" class="pw-post-body-paragraph le lf it lg b lh nf lj lk ll ng ln lo lp nh lr ls lt ni lv lw lx nj lz ma mb im bi translated">有了这些信息，我就可以进行秘密扫描。</p><pre class="na nb nc nd gt nk my nl nm aw nn bi"><span id="c484" class="no kh it my b gy np nq l nr ns">08:16:52 u0_a196@localhost ~ → nmap --dns-servers 8.8.4.4,8.8.8.8 -sL &lt;IP address&gt;/24</span></pre><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nu"><img src="../Images/2ed276a274ac25d565883e043504f2f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IXPNE9B3ob_-hnTM2IqMzw.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">目标上的隐藏列表扫描</figcaption></figure><h1 id="07cd" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">Nmap脚本引擎</h1><p id="9058" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated"><a class="ae kf" href="https://nmap.org/book/man-nse.html" rel="noopener ugc nofollow" target="_blank"> Nmap脚本引擎</a> (NSE)是Nmap最强大、最灵活的特性之一。它允许用户编写(和共享)简单的脚本(使用<a class="ae kf" href="http://lua.org/" rel="noopener ugc nofollow" target="_blank"> Lua编程语言</a>)来自动化各种各样的网络任务。这些脚本以您期望从Nmap获得的速度和效率并行执行。用户可以依赖Nmap发布的不断增长的各种脚本，或者自己编写脚本来满足自定义需求。</p><p id="4d4f" class="pw-post-body-paragraph le lf it lg b lh nf lj lk ll ng ln lo lp nh lr ls lt ni lv lw lx nj lz ma mb im bi translated">NSE脚本位于<code class="fe mv mw mx my b">/usr/share/nmap</code>下的<code class="fe mv mw mx my b">scripts</code>文件夹中。</p><pre class="na nb nc nd gt nk my nl nm aw nn bi"><span id="57b6" class="no kh it my b gy np nq l nr ns"># ls /data/data/com.termux/files/usr/share/nmap</span></pre><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nv"><img src="../Images/05dd75bce1292502c089b0f304fb0f8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AGqvYyC8t-BxuGhuo7co8Q.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">Termux中的NSE脚本</figcaption></figure><p id="4214" class="pw-post-body-paragraph le lf it lg b lh nf lj lk ll ng ln lo lp nh lr ls lt ni lv lw lx nj lz ma mb im bi translated">例如在目标上运行漏洞扫描</p><pre class="na nb nc nd gt nk my nl nm aw nn bi"><span id="98c6" class="no kh it my b gy np nq l nr ns"># nmap -Pn -sV --script=vulners XXX.XXX.XXX.XXX</span></pre><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nw"><img src="../Images/f62a71eb17d2bdceec179e4e3f72d395.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_MNlZkX72715BxnrEbhfmA.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">漏洞扫描</figcaption></figure><h1 id="90c5" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">果兰的Nmap</h1><p id="1768" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">还有Nmap的<a class="ae kf" href="https://github.com/Ullaakut/nmap" rel="noopener ugc nofollow" target="_blank"> Golang库</a>可以探索。</p></div></div>    
</body>
</html>