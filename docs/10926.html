<html>
<head>
<title>Go Programming | Array vs. Slice</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">开始编程|数组与切片</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/go-programming-array-vs-slice-5902b7fdd436?source=collection_archive---------3-----------------------#2022-01-26">https://levelup.gitconnected.com/go-programming-array-vs-slice-5902b7fdd436?source=collection_archive---------3-----------------------#2022-01-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="e5f8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">数组和切片是不同的概念，但在Go中是有联系的:数组是固定的，切片是动态的。</p><p id="aea4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">本帖将讨论围棋中数组和切片的区别和联系。</p><h1 id="dd48" class="ko kp it bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">排列</h1><p id="9ea2" class="pw-post-body-paragraph jq jr it js b jt lm jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn im bi translated">一个<strong class="js iu"> </strong>数组是一个特定长度的编号元素序列。这是围棋的重要组成部分。我们举个例子来理解一下。</p><figure class="ls lt lu lv gt lw gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/5db5d5ce140e83eee8f4091c53c63a73.png" data-original-src="https://miro.medium.com/v2/resize:fit:822/format:webp/1*CJLtoLQYwrld9sHQTpsPJQ.png"/></div><figcaption class="lz ma gj gh gi mb mc bd b be z dk translated">阵列</figcaption></figure><h2 id="8e5e" class="md kp it bd kq me mf dn ku mg mh dp ky kb mi mj lc kf mk ml lg kj mm mn lk mo bi translated">声明一个数组</h2><p id="fe51" class="pw-post-body-paragraph jq jr it js b jt lm jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn im bi translated">首先，我们声明一个名为<code class="fe mp mq mr ms b">numbers</code>的变量。变量的类型是<code class="fe mp mq mr ms b">[5]int</code>。请注意，方括号也是类型的一部分。</p><pre class="ls lt lu lv gt mt ms mu mv aw mw bi"><span id="56bf" class="md kp it ms b gy mx my l mz na">var numbers [5]int</span></pre><h2 id="7440" class="md kp it bd kq me mf dn ku mg mh dp ky kb mi mj lc kf mk ml lg kj mm mn lk mo bi translated">初始化数组</h2><p id="f98f" class="pw-post-body-paragraph jq jr it js b jt lm jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn im bi translated">其次，我们用值1，2，3，4，5初始化数组。如果我们不初始化它，每个元素的默认值都是0，因为默认情况下int的零值是0。</p><pre class="ls lt lu lv gt mt ms mu mv aw mw bi"><span id="e9c8" class="md kp it ms b gy mx my l mz na">fmt.Println("before numbers:", numbers)   // [0 0 0 0 0]<br/>for i := 0; i &lt; len(numbers); i++ {<br/>    numbers[i] = i + 1<br/>}<br/>fmt.Println("after numbers:", numbers)    // [1 2 3 4 5]</span></pre><h2 id="0ac0" class="md kp it bd kq me mf dn ku mg mh dp ky kb mi mj lc kf mk ml lg kj mm mn lk mo bi translated">作为函数参数的数组</h2><p id="8d80" class="pw-post-body-paragraph jq jr it js b jt lm jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn im bi translated">如果我们将一个数组传递给一个函数，我们会复制所有的数组元素，而不是像大多数其他编程语言那样传递一个引用。这意味着改变函数中数组元素的值不会影响原始数组。</p><pre class="ls lt lu lv gt mt ms mu mv aw mw bi"><span id="1252" class="md kp it ms b gy mx my l mz na">package main<br/><br/>import (<br/>	"fmt"<br/>)<br/><br/>func Add(numbers [5]int) {<br/>	for i := 0; i &lt; len(numbers); i++ {<br/>		numbers[i] = numbers[i] + 1<br/>	}<br/>	fmt.Println("numbers in Add:", numbers)    // [2 3 4 5 6]<br/>}<br/><br/>func main() {<br/>	// declare and initialize the array<br/>	var numbers [5]int<br/>	for i := 0; i &lt; len(numbers); i++ {<br/>		numbers[i] = i + 1<br/>	}<br/><br/>	Add(numbers)<br/>	fmt.Println("numbers in main:", numbers)  // [1 2 3 4 5]<br/><br/>}</span></pre><figure class="ls lt lu lv gt lw gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/5535b7847c5e6455732d4734112fe450.png" data-original-src="https://miro.medium.com/v2/resize:fit:842/format:webp/1*bV8q3fnUvSBXRUEgvi077w.png"/></div></figure><p id="a148" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">数组在Go中最常见的用途是保存切片的存储。让我们在下一部分探索最流行的数据结构。</p><h1 id="de11" class="ko kp it bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">薄片</h1><p id="4e96" class="pw-post-body-paragraph jq jr it js b jt lm jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn im bi translated">切片是一种数据结构，描述与切片变量本身分开存储的数组的连续部分。<strong class="js iu"> <em class="nc">切片不是数组，它只代表</em>数组的一片。</strong></p><p id="199a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">切片有三个基本属性:</p><ul class=""><li id="233a" class="nd ne it js b jt ju jx jy kb nf kf ng kj nh kn ni nj nk nl bi translated"><code class="fe mp mq mr ms b">len</code>(切片中元素的数量)</li><li id="8432" class="nd ne it js b jt nm jx nn kb no kf np kj nq kn ni nj nk nl bi translated"><code class="fe mp mq mr ms b">cap</code>(底层数组中元素的个数)</li><li id="6797" class="nd ne it js b jt nm jx nn kb no kf np kj nq kn ni nj nk nl bi translated">指向基础数组的指针。</li></ul><figure class="ls lt lu lv gt lw gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/2ef57b993e792a93aedfb42100785c52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1162/format:webp/1*JEkhVFC2q351ui9IqZaYyA.png"/></div><figcaption class="lz ma gj gh gi mb mc bd b be z dk translated">切片标题</figcaption></figure><h2 id="a1fa" class="md kp it bd kq me mf dn ku mg mh dp ky kb mi mj lc kf mk ml lg kj mm mn lk mo bi translated">声明切片</h2><p id="ee1e" class="pw-post-body-paragraph jq jr it js b jt lm jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn im bi translated">首先，我们声明一个名为numbers的变量。变量的类型是<code class="fe mp mq mr ms b">[]int</code>(整型切片)。</p><pre class="ls lt lu lv gt mt ms mu mv aw mw bi"><span id="9d98" class="md kp it ms b gy mx my l mz na">var numbers []int</span></pre><h2 id="e94e" class="md kp it bd kq me mf dn ku mg mh dp ky kb mi mj lc kf mk ml lg kj mm mn lk mo bi translated">填充切片</h2><p id="4a8e" class="pw-post-body-paragraph jq jr it js b jt lm jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn im bi translated">其次，我们用一些值填充切片。我们使用内置的append函数向切片添加值。</p><pre class="ls lt lu lv gt mt ms mu mv aw mw bi"><span id="60f4" class="md kp it ms b gy mx my l mz na">var numbers []int</span><span id="1cd9" class="md kp it ms b gy ns my l mz na">for i := 0; i &lt; 5; i++ {<br/>     numbers = <strong class="ms iu">append</strong>(numbers, i+1)<br/>}</span></pre><h2 id="e1a2" class="md kp it bd kq me mf dn ku mg mh dp ky kb mi mj lc kf mk ml lg kj mm mn lk mo bi translated">切片作为函数参数</h2><p id="0bff" class="pw-post-body-paragraph jq jr it js b jt lm jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn im bi translated">理解这一点很重要，即使一个片包含一个指针，它本身也是一个值。它不是指向结构的指针。在幕后，它是一个保存指针和长度的结构值。</p><p id="b0f8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这很重要。</p><pre class="ls lt lu lv gt mt ms mu mv aw mw bi"><span id="4351" class="md kp it ms b gy mx my l mz na">package main<br/><br/>import (<br/>	"fmt"<br/>)<br/><br/>func Add(numbers []int) {<br/>	for i := 0; i &lt; len(numbers); i++ {<br/>		numbers[i] = numbers[i] + 1<br/>	}<br/>	fmt.Println("numbers in Add:", numbers) // [2 3 4 5 6]<br/>}<br/><br/>func main() {<br/>	var numbers []int<br/>	for i := 0; i &lt; 5; i++ {<br/>		numbers = append(numbers, i+1)<br/>	}<br/><br/>	Add(numbers)<br/><br/>	fmt.Println("numbers in main:", numbers) // [2 3 4 5 6]<br/>}<br/></span></pre><p id="b0c9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里我们看到函数可以修改切片参数的内容，因为切片结构有一个指向底层数组的指针。</p><h1 id="0237" class="ko kp it bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">有用的资源:</h1><ol class=""><li id="d5cf" class="nd ne it js b jt lm jx ln kb nt kf nu kj nv kn nw nj nk nl bi translated"><a class="ae nx" href="https://go.dev/blog/slices" rel="noopener ugc nofollow" target="_blank">数组、切片:“追加”的机制</a></li><li id="aa6c" class="nd ne it js b jt nm jx nn kb no kf np kj nq kn nw nj nk nl bi translated"><a class="ae nx" href="https://stackoverflow.com/questions/21719769/passing-an-array-as-an-argument-in-golang" rel="noopener ugc nofollow" target="_blank">在golang中将数组作为参数传递</a></li></ol></div></div>    
</body>
</html>