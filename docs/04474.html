<html>
<head>
<title>Which is faster: for, for…of, or forEach loops in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的for、for…of和forEach循环哪个更快</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/which-is-faster-for-for-of-foreach-loops-in-javascript-18dbd9ffbca9?source=collection_archive---------0-----------------------#2020-06-29">https://levelup.gitconnected.com/which-is-faster-for-for-of-foreach-loops-in-javascript-18dbd9ffbca9?source=collection_archive---------0-----------------------#2020-06-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/></div><div class="ab cl jq jr hx js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="im in io ip iq"><figure class="jy jz ka kb gt kc gh gi paragraph-image"><div role="button" tabindex="0" class="kd ke di kf bf kg"><div class="gh gi jx"><img src="../Images/5843a06922c15bb60fa744730f81a9ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Sxgkww4CCeTPlOrN"/></div></div><figcaption class="kj kk gj gh gi kl km bd b be z dk translated"><a class="ae kn" href="https://unsplash.com/@loic?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Djim Loic </a>在<a class="ae kn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="f3c0" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在JavaScript中有不同的方法来循环数组，但是很难选择正确的方法。有一个经典的JavaScript for循环，JavaScript forEach方法，以及在EcmaScript第六版(<strong class="kq iu"> ES6 </strong>)中引入的<strong class="kq iu"> for…of loop </strong>，允许程序员在实际的可迭代对象上<strong class="kq iu">循环</strong>。</p><p id="4ddf" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">循环提供了一种快速简单的方法来重复做某事。在这一章中，我将讨论JavaScript中不同的迭代语句，以及哪一个执行速度更快，性能更好。</p><h2 id="353d" class="lm ln it bd lo lp lq dn lr ls lt dp lu kz lv lw lx ld ly lz ma lh mb mc md me bi translated"><strong class="ak">循环迭代数组</strong></h2><ol class=""><li id="2a3b" class="mf mg it kq b kr mh kv mi kz mj ld mk lh ml ll mm mn mo mp bi translated"><strong class="kq iu">为</strong></li><li id="3f4e" class="mf mg it kq b kr mq kv mr kz ms ld mt lh mu ll mm mn mo mp bi translated"><strong class="kq iu">为……的</strong></li><li id="6194" class="mf mg it kq b kr mq kv mr kz ms ld mt lh mu ll mm mn mo mp bi translated"><strong class="kq iu"> forEach </strong></li></ol><p id="3e0e" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">为了迭代数组，让我们创建一个包含50000个元素的数组来计算执行时间。我们可以通过两种方法创建一个包含50000个元素的数组。</p><figure class="jy jz ka kb gt kc gh gi paragraph-image"><div role="button" tabindex="0" class="kd ke di kf bf kg"><div class="gh gi mv"><img src="../Images/fc9bb83bcf221eab234501e234c5434c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z8Z5LJL1zqs4w_PANHu2jA.png"/></div></div></figure><figure class="jy jz ka kb gt kc"><div class="bz fp l di"><div class="mw mx l"/></div></figure><h2 id="2b6b" class="lm ln it bd lo lp lq dn lr ls lt dp lu kz lv lw lx ld ly lz ma lh mb mc md me bi translated"><strong class="ak">为循环</strong></h2><p id="bfa0" class="pw-post-body-paragraph ko kp it kq b kr mh kt ku kv mi kx ky kz my lb lc ld mz lf lg lh na lj lk ll im bi translated">JavaScript中最基本的迭代方法是for循环。它需要三个表达式；一个变量声明，一个在每次迭代前计算的表达式，以及一个在每次迭代结束时计算的表达式。</p><p id="796a" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated"><code class="fe nb nc nd ne b"><strong class="kq iu">JavaScript for loop</strong></code> <em class="nf">迭代元素固定次数</em>。如果迭代次数已知，则应使用它。下面给出了循环的语法。</p><figure class="jy jz ka kb gt kc gh gi paragraph-image"><div role="button" tabindex="0" class="kd ke di kf bf kg"><div class="gh gi ng"><img src="../Images/1c560721478a386eb362490adbd38877.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hew7BFv-2d--M1APkAO9PQ.png"/></div></div></figure><p id="7eb8" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">让我们通过使用JavaScript中的<code class="fe nb nc nd ne b"><strong class="kq iu">console.time()</strong></code>和<code class="fe nb nc nd ne b"><strong class="kq iu">console.timeEnd()</strong></code>语句来计算执行时间。让我们看看如何使用这些语句。</p><figure class="jy jz ka kb gt kc gh gi paragraph-image"><div role="button" tabindex="0" class="kd ke di kf bf kg"><div class="gh gi nh"><img src="../Images/d5144ef1e9dee81ae4c08f65dfc7aea2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_YAtL0Na-t9TgvqLYncmRA.png"/></div></div></figure><h2 id="e201" class="lm ln it bd lo lp lq dn lr ls lt dp lu kz lv lw lx ld ly lz ma lh mb mc md me bi translated">for…of循环</h2><p id="4b8a" class="pw-post-body-paragraph ko kp it kq b kr mh kt ku kv mi kx ky kz my lb lc ld mz lf lg lh na lj lk ll im bi translated"><code class="fe nb nc nd ne b"><strong class="kq iu">for...of</strong></code> <strong class="kq iu"> </strong>语句创建一个遍历可迭代对象的循环，包括JavaScript中内置的<code class="fe nb nc nd ne b">String</code>、<code class="fe nb nc nd ne b">Array</code>、类似数组的对象(如<code class="fe nb nc nd ne b">arguments</code>或<code class="fe nb nc nd ne b">NodeList</code>)、<code class="fe nb nc nd ne b">TypedArray</code>、<code class="fe nb nc nd ne b">Map</code>和<code class="fe nb nc nd ne b">Set</code></p><p id="e0e5" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated"><code class="fe nb nc nd ne b"><strong class="kq iu">for...of</strong></code>对于小数据集来说，循环是最快的，但是对于大数据集来说，它们的伸缩性很差。它是最慢的，但是对于循环来说是语法上的优势。</p><p id="20bb" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">让我们用同样的方法检查一下<code class="fe nb nc nd ne b"><strong class="kq iu">for...of</strong></code>循环的执行时间</p><figure class="jy jz ka kb gt kc gh gi paragraph-image"><div role="button" tabindex="0" class="kd ke di kf bf kg"><div class="gh gi ni"><img src="../Images/2095e3d4b25b0a1391f947bc3aa6567e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1VP5QHYiCcmCf9qvxvAZrw.png"/></div></div></figure><h2 id="133a" class="lm ln it bd lo lp lq dn lr ls lt dp lu kz lv lw lx ld ly lz ma lh mb mc md me bi translated">forEach循环</h2><p id="f80c" class="pw-post-body-paragraph ko kp it kq b kr mh kt ku kv mi kx ky kz my lb lc ld mz lf lg lh na lj lk ll im bi translated">Javascript中的<code class="fe nb nc nd ne b"><strong class="kq iu">forEach</strong></code> <strong class="kq iu"> </strong>方法遍历数组的元素，并按顺序调用为每个元素提供的函数。</p><p id="65c5" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated"><code class="fe nb nc nd ne b"><strong class="kq iu">forEach</strong></code>的执行时间受到每次迭代中发生的事情的显著影响。它速度很快，是为功能代码设计的。</p><p id="c796" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">让我们用forEach遍历数组，并检查执行时间</p><figure class="jy jz ka kb gt kc gh gi paragraph-image"><div role="button" tabindex="0" class="kd ke di kf bf kg"><div class="gh gi ng"><img src="../Images/839c9281f8b8d0e0b316dbeef80edb91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6YI_ep52ZKTAapZ57ge30Q.png"/></div></div></figure><p id="dbd6" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">现在是时候检查所有三个循环方法的执行时间了。javascript的执行实际上取决于各种因素，如Windows等操作系统的类型和Chrome、IE、Firefox等浏览器的类型。</p><p id="3fbe" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">结果很有趣，不是我所期待的。</p><figure class="jy jz ka kb gt kc gh gi paragraph-image"><div role="button" tabindex="0" class="kd ke di kf bf kg"><div class="gh gi nj"><img src="../Images/9cc1e31d3d24b4bea060f880d93b0a4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FUOJ3zYsYT2Mps1YjQ9Y6A.png"/></div></div></figure><p id="1d20" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">用于循环的传统<strong class="kq iu">是最快的，所以你应该总是使用它，对吗？没那么快——性能不是唯一重要的东西。你很少需要在前端JS应用程序中循环超过100万个条目。<strong class="kq iu"> <em class="nf">代码可读性</em> </strong>通常更重要，所以默认为适合你的应用的风格。</strong></p><p id="1d8d" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">如果你更喜欢写函数代码，那么<strong class="kq iu"> forEach </strong>是理想的，而<strong class="kq iu"> for-of </strong>则是很好的选择。更少的代码行意味着更短的开发时间和更少的维护开销——首先优化开发人员的满意度，然后才是性能。</p><p id="d1b4" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">感谢阅读。在这里找到<a class="ae kn" href="https://github.com/jayanthbabu123/for-for..of-and-forEach-in-javascript-which-is-fast/blob/master/loops.js" rel="noopener ugc nofollow" target="_blank">源代码</a>。</p></div></div>    
</body>
</html>