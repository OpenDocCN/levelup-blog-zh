<html>
<head>
<title>How To Deploy Your Vue App to Github Pages</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将您的Vue应用程序部署到Github页面</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-deploy-your-vue-app-to-github-pages-897136799e19?source=collection_archive---------5-----------------------#2020-09-01">https://levelup.gitconnected.com/how-to-deploy-your-vue-app-to-github-pages-897136799e19?source=collection_archive---------5-----------------------#2020-09-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/0ca401c13531d4467c189b5fdefca46d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HvapN9onEdN0yXCQ"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">照片由<a class="ae jg" href="https://unsplash.com/@domenicoloia?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">多梅尼科·洛亚</a>在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><div class=""/><p id="4526" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">GitHub Pages是部署您的Vue应用程序的一个很好的免费选项。这是一个静态网站托管服务，直接从GitHub上的存储库中获取文件。</p><p id="548c" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Github Pages的一大优点是，一旦你知道它是如何工作的，它就很容易设置。这就是我们今天要做的！</p><p id="91e0" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本教程中，我们将涵盖:</p><ul class=""><li id="39e1" class="le lf jj ki b kj kk kn ko kr lg kv lh kz li ld lj lk ll lm bi translated">Github页面的基础知识</li><li id="ae95" class="le lf jj ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated">设置Vue项目以使用Github页面</li><li id="457e" class="le lf jj ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated">部署Vue项目</li><li id="1d21" class="le lf jj ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated">在此部署环境中配置Vue路由器</li></ul><p id="57fd" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这些步骤很多都是基于Roland的<a class="ae jg" href="https://medium.com/@Roli_Dori/deploy-vue-cli-3-project-to-github-pages-ebeda0705fbd" rel="noopener">这篇伟大的文章</a>，结合了我在部署一个<a class="ae jg" href="https://matthewmaribojoc.github.io/learnvue-tutorials/" rel="noopener ugc nofollow" target="_blank"> Vue3演示空间</a>时发现的一些技巧。</p><p id="896c" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">好吧，让我们开始吧。</p><h2 id="df69" class="ls lt jj bd lu lv lw dn lx ly lz dp ma kr mb mc md kv me mf mg kz mh mi mj mk bi translated">Github页面是如何工作的</h2><p id="f20d" class="pw-post-body-paragraph kg kh jj ki b kj ml kl km kn mm kp kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated"><a class="ae jg" href="https://pages.github.com/" rel="noopener ugc nofollow" target="_blank"> Github Pages </a>允许您从Github存储库中提供静态HTML、CSS和Javascript文件。就Vue而言，这意味着一旦我们构建了我们的项目，我们就可以提供这些文件，只要我们将它们推送到一个repo。</p><p id="8d6b" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最简单的方法之一是在您的存储库上创建一个单独的gh-pages分支。我们的最终目标是让这个分支只包含我们的构建文件夹——对于很多项目来说，这个文件夹是dist。</p><p id="93b5" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以通过使用gh-pages分支作为主分支的<a class="ae jg" href="https://gist.github.com/SKempin/b7857a6ff6bddb05717cc17a44091202" rel="noopener ugc nofollow" target="_blank">子树</a>来做到这一点。</p><p id="ccfe" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当我们这样做的时候会更有意义，所以我们走吧。</p><h2 id="2776" class="ls lt jj bd lu lv lw dn lx ly lz dp ma kr mb mc md kv me mf mg kz mh mi mj mk bi translated">设置您的项目</h2><p id="f95d" class="pw-post-body-paragraph kg kh jj ki b kj ml kl km kn mm kp kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">好的，首先我们必须了解我们的gh-pages分支将部署在哪里。大多数时候，已部署站点的URL会是<code class="fe mq mr ms mt b"><em class="mu">GITHUB_USERNAME</em></code> .github.io/ <code class="fe mq mr ms mt b"><em class="mu">REPO_NAME</em></code>。</p><p id="1e13" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这意味着我们gh-pages分支上的所有文件都可以在类似于<a class="ae jg" href="https://matthewmaribojoc.github.io/learnvue-tutorials/main.css" rel="noopener ugc nofollow" target="_blank">https://matthewmaribojoc . github . io/learn vue-tutorials/main . CSS</a>的地方访问，例如。</p><p id="2a19" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">好了——足够的背景信息。让我们把我们的项目放到网上。</p><p id="092d" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki jk">步骤1。将vue.config.js中的</strong> <code class="fe mq mr ms mt b"><strong class="ki jk">publicPath</strong></code> <strong class="ki jk">设置为我们的库名</strong></p><p id="b2f2" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在主分支上，我们想要在我们项目的根目录中创建一个<code class="fe mq mr ms mt b">vue.config.js</code>文件。这里，我们想要配置<code class="fe mq mr ms mt b">publicPath</code>(它也编辑webpack publicPath)来将所有静态资产路由到正确的路径。</p><p id="768b" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们没有这个配置，我们部署的站点将不能正确地加载资产，比如图像。</p><p id="fb87" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们希望将它路由到我们部署的Github Pages站点的URL路径，这可以在我们的存储库设置中找到。</p><figure class="mw mx my mz gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mv"><img src="../Images/0de4c47c936ffa0190d9e5e8f0f56749.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LdXEotLZg5pxYGMS.png"/></div></div></figure><p id="2187" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们希望采用在那个红框中找到的路径github.io之后的任何路径——并像这样在我们的<code class="fe mq mr ms mt b">vue.config.js </code>中使用它。</p><pre class="mw mx my mz gt na mt nb nc aw nd bi"><span id="072c" class="ls lt jj mt b gy ne nf l ng nh">module.exports = {<br/>  publicPath: process.env.NODE_ENV === 'production'<br/>    ? '/REPO_NAME/'<br/>    : '/'<br/>}</span></pre><p id="f083" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，当我们部署站点时，所有静态资产都应该从正确的路径加载。</p><h2 id="67ca" class="ls lt jj bd lu lv lw dn lx ly lz dp ma kr mb mc md kv me mf mg kz mh mi mj mk bi translated">部署您的Vue项目</h2><p id="6af5" class="pw-post-body-paragraph kg kh jj ki b kj ml kl km kn mm kp kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">配置好Vue <code class="fe mq mr ms mt b">publicPath</code>之后，我们现在可以开始部署我们的项目了。</p><p id="77be" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki jk">第二步。使用</strong> <code class="fe mq mr ms mt b"><strong class="ki jk">npm build</strong></code>构建你的项目</p><p id="1057" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这一步非常简单，我们实际上需要一个dist文件夹来部署。</p><p id="2a05" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki jk">第三步。运行</strong> <code class="fe mq mr ms mt b"><strong class="ki jk">git add dist</strong></code> <strong class="ki jk">和</strong> <code class="fe mq mr ms mt b"><strong class="ki jk">git commit -m 'adding dist subtree'</strong></code></p><p id="dccf" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将我们的更改提交到主分支，以便我们可以在下一步创建一个<code class="fe mq mr ms mt b">dist</code>子树。确保<code class="fe mq mr ms mt b">dist</code>不包含在您的<code class="fe mq mr ms mt b">.gitignore </code>文件中！</p><p id="9006" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki jk">第四步。运行</strong> <code class="fe mq mr ms mt b"><strong class="ki jk">git subtree push --prefix dist origin gh-pages</strong></code></p><p id="3e87" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这一步使gh-pages成为主分支的子树。<a class="ae jg" href="https://gist.github.com/SKempin/b7857a6ff6bddb05717cc17a44091202" rel="noopener ugc nofollow" target="_blank">前缀选项</a>为我们的子树指定我们想要的文件夹。如果我们看一下gh-pages分支，我们会发现它相当于dist文件夹的根。</p><figure class="mw mx my mz gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ni"><img src="../Images/aa076593d48c2999959bfcfb86e5b8ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tADLgQmLh9aqxsur.png"/></div></div></figure><p id="542f" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki jk">第五步。搞定了。</strong></p><p id="cf06" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">几分钟后，Github页面应该会刷新，显示最新的库更改，您应该可以在线看到您的Vue项目。激动人心！</p><figure class="mw mx my mz gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ni"><img src="../Images/c3a7d7b905c319f5c9c21a5aa53622cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*n6f0zzUTqHDjRFER.png"/></div></div></figure><h2 id="cdf3" class="ls lt jj bd lu lv lw dn lx ly lz dp ma kr mb mc md kv me mf mg kz mh mi mj mk bi translated">提示—使用自定义404页面处理Vue路由器</h2><p id="8b6c" class="pw-post-body-paragraph kg kh jj ki b kj ml kl km kn mm kp kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">我在尝试建立我的Github Pages网站时发现，使用<a class="ae jg" href="https://learnvue.co/2020/04/a-first-look-at-vue-router-in-vue3/" rel="noopener ugc nofollow" target="_blank"> Vue Router </a>有点棘手。</p><p id="635b" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你在Vue路由器中使用历史模式，你会注意到如果你试图直接进入/以外的页面，你会得到一个404错误。这是因为Github Pages不会自动重定向所有请求以服务于index.html。</p><p id="b6aa" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">幸运的是，有一个简单的小变通办法。</p><p id="0c55" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你所要做的就是复制你的<code class="fe mq mr ms mt b">index.html</code>文件，并将副本命名为<code class="fe mq mr ms mt b">404.html</code>。</p><p id="7e59" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这样做的目的是让你的404页面提供与你的index.html相同的内容，这意味着你的Vue路由器将能够显示正确的页面。</p><p id="a77d" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一旦你这样做了，你将不得不重新运行之前的第2到第5步，并且你将不得不等待几分钟来更新你的站点。</p><h2 id="71d3" class="ls lt jj bd lu lv lw dn lx ly lz dp ma kr mb mc md kv me mf mg kz mh mi mj mk bi translated">就这样？</h2><p id="43da" class="pw-post-body-paragraph kg kh jj ki b kj ml kl km kn mm kp kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">没错。在Github页面中启动和运行就是这么简单。有几种方法可以优化这个过程，比如编写shell脚本来简化这个过程，或者通过<a class="ae jg" href="https://cli.vuejs.org/guide/deployment.html#gitlab-pages" rel="noopener ugc nofollow" target="_blank">配置Vue文档</a>检查的CI。</p><p id="5e9b" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是这是一个开始的好地方，所以你可以向你的家人和朋友炫耀你的Vue项目！</p><p id="62a8" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我很乐意看到你的Github页面的链接！如果您有任何问题或意见，请回复。</p><p id="4a62" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">祝你好运！</p></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><p id="0eb1" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae jg" href="https://learnvue.co/vue-3-essentials-cheatsheet/" rel="noopener ugc nofollow" target="_blank">如果你有兴趣了解更多关于Vue 3的知识，下载我的免费的Vue 3备忘单，里面有基本的知识，比如组合API、Vue 3模板语法和事件处理。</a></p></div></div>    
</body>
</html>