<html>
<head>
<title>How to Become a True React Picasso</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何成为一个真正的毕加索</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-become-a-true-react-picasso-4b99a0ed40c?source=collection_archive---------8-----------------------#2021-08-02">https://levelup.gitconnected.com/how-to-become-a-true-react-picasso-4b99a0ed40c?source=collection_archive---------8-----------------------#2021-08-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a820" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">作为艺术家在React中使用图像</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0b5f9586562cdbb574227ddff1b1f2f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*naxSsKYUGJYtM99x"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@talescrow?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Ari何</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><p id="e370" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我经常发现自己想知道在React应用程序中在哪里存储以及如何显示图像，尤其是当我开始一个新项目时。我决定做一点研究，列出我在这篇文章中学到的一切。我希望你准备好了，因为我们就要开始了。</p><h1 id="fb17" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">如何在React应用程序中存储图像</h1><p id="3d10" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated"><strong class="lb iu">在react应用程序中存储图像有3种主要方法:</strong></p><ul class=""><li id="fd83" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated"><code class="fe nb nc nd ne b">src</code>文件夹——存储在此目录中的图像将包含在最终的包中。此外，它们还有额外的好处，可以作为JavaScript模块导入。</li><li id="5bf2" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated"><code class="fe nb nc nd ne b">public</code><code class="fe nb nc nd ne b">public</code>目录下的文件夹文件不会被Webpack处理。它们不会成为最终捆绑包的一部分。</li><li id="b227" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">外部服务器—图像也可以存储在外部服务器上，如<a class="ae ky" href="https://www.upbeatcode.com/where-to-store-images-in-react-app/Amazon%20S3%20-%20Free%20Secure%20Cloud%20Storage" rel="noopener ugc nofollow" target="_blank"> S3 </a>或<a class="ae ky" href="https://cloudinary.com/" rel="noopener ugc nofollow" target="_blank"> Cloudinary </a>，并从react应用程序中引用。</li></ul><p id="fdd3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要了解每种方法的优缺点，我们必须分别仔细研究每种方法。</p><h2 id="b55f" class="nk lw it bd lx nl nm dn mb nn no dp mf li np nq mh lm nr ns mj lq nt nu ml nv bi translated">将图像存储在源目录中</h2><p id="8d2b" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">将图像保存在<code class="fe nb nc nd ne b">src</code>目录中是一个很好的解决方案，通常鼓励使用它来代替静态文件服务。大多数react开发者倾向于将他们的图片存储在<code class="fe nb nc nd ne b">src/assets</code>文件夹中。在React中，您可以将图像作为存储在JavaScript对象中的数据属性导入。这些数据属性可以在组件中的任何地方访问。</p><p id="c00f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">优点</strong></p><ul class=""><li id="b542" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated">所有的图像都由Webpack处理，因此我们可以提供进一步的优化</li><li id="cad6" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">如果图像内容由于Webpack哈希而发生了很大变化，这种方法很好</li><li id="2ec6" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">使用图像作为javascript模块的可能性</li></ul><p id="8d5d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">缺点</strong></p><ul class=""><li id="4c63" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated">图像的动态导入可能会导致问题</li></ul><h2 id="98e9" class="nk lw it bd lx nl nm dn mb nn no dp mf li np nq mh lm nr ns mj lq nt nu ml nv bi translated">将图像作为静态资产</h2><p id="3f77" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">静态资产，如图像、脚本和视频，是储存在网站服务器上并提供给用户的文件。静态图像可以显示在网站上，而不需要任何额外的资源。这些资源可以是JavaScript、Flash或其他浏览器插件。</p><p id="3a26" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">优点</strong></p><ul class=""><li id="f7ec" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated">该文件与主应用程序位于同一服务器上，这可以提高性能</li><li id="21fd" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">易于动态加载文件</li></ul><p id="5545" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">缺点</strong></p><ul class=""><li id="4867" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated">不由Webpack处理，因此我们无法执行优化</li><li id="49af" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">如果内容因为缓存而改变，我们需要改变图像的名称</li><li id="6075" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">缺少的文件在编译时不会被调用，并将导致404错误</li></ul><h2 id="7812" class="nk lw it bd lx nl nm dn mb nn no dp mf li np nq mh lm nr ns mj lq nt nu ml nv bi translated">在外部服务器上存储图像</h2><p id="8e22" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">第三种选择是使用外部服务，如Cloudinary或亚马逊S3。Cloudinary或S3都是为开发者处理图像托管的服务。使用这些服务，我们可以专注于编码，而不必担心存储和处理图像。</p><p id="e0cc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">优点</strong></p><ul class=""><li id="55dd" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated">图像管理由专门的服务处理</li><li id="aa75" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">优化的CDN以尽可能快的速度提供图像</li></ul><p id="ebaa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">缺点</strong></p><ul class=""><li id="21e8" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated">不适合预算低的项目</li><li id="7fd3" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">如果内容因为浏览器缓存而改变，我们需要改变图像的名称。</li></ul><p id="8bb9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们知道了如何存储图像，让我们看看如何更有效地显示它们。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">GIF by <a class="ae ky" href="https://giphy.com/" rel="noopener ugc nofollow" target="_blank"> Giphy </a></figcaption></figure><h1 id="7303" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">延迟加载图像</h1><p id="146a" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">延迟加载图像是web开发中使用的一种技术，用于保存数据和提高加载速度。它提高了任何网站的性能，并使其在管理资源方面更加出色。延迟加载图像有两个步骤:</p><ul class=""><li id="6457" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated">动态生成一个<code class="fe nb nc nd ne b">img</code>标签的<code class="fe nb nc nd ne b">src</code>属性，以便在图像在浏览器中可见之前不设置它</li><li id="027d" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">设置<code class="fe nb nc nd ne b">img</code>的<code class="fe nb nc nd ne b">src</code>属性何时应该设置为给定值的规则。在大多数情况下，此规则设置为图像进入浏览器的视口。</li></ul><p id="dedd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">社交媒体网站经常使用惰性加载技术，这样他们就不会一次加载所有的图片。这将允许他们用更吸引人的布局展示他们的网站，同时为用户节省时间和带宽。现在我们知道了什么是惰性加载，让我们看看如何在我们心爱的React中实现它。</p><h2 id="0edd" class="nk lw it bd lx nl nm dn mb nn no dp mf li np nq mh lm nr ns mj lq nt nu ml nv bi translated">在React中延迟加载图像</h2><p id="62e5" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">React中的延迟加载图像可以通过使用<strong class="lb iu">intersect observer API</strong>来完成。这个API提供了一种异步方式来观察web页面上的变化，并让您知道元素何时超过了给定的阈值。换句话说，我们可以监视元素何时进入或离开视口。所以我们可以加载一个图像或任何其他资源。</p><p id="d8ff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了实现这种行为，我们可以利用一个名为<a class="ae ky" href="https://www.npmjs.com/package/react-lazyload" rel="noopener ugc nofollow" target="_blank"> react-lazyload </a>的强大库。在<code class="fe nb nc nd ne b">react-lazyload</code>的帮助下，图像只有出现在用户眼前时才会被加载。它通过监听窗口滚动事件并检查浏览器视窗中是否有新图像出现来工作。为了避免不必要的像素化或不必要的内存使用，该库确保图像在加载之前是可见的。</p><p id="0c91" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用法很简单。我们所需要做的就是用<code class="fe nb nc nd ne b">LazyLoad</code>组件包装<code class="fe nb nc nd ne b">img</code>，一切都开箱即用。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ny nx l"/></div></figure><h1 id="0140" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">渐进加载图像</h1><p id="0670" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">渐进式图像加载是一种先显示低分辨率图像的技术。然后逐渐用同一图像的更高分辨率版本替换它。使用渐进式图像加载的一个原因是需要节省带宽，但它也允许查看者在以全分辨率加载图像之前快速预览图像。</p><p id="db07" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然这种技术通常用于PNG或JPEGs等图像格式。它也可以用于动画gif，其中动画将首先以低分辨率显示，然后由更高分辨率的帧替换。</p><h2 id="2607" class="nk lw it bd lx nl nm dn mb nn no dp mf li np nq mh lm nr ns mj lq nt nu ml nv bi translated">React中的渐进加载</h2><p id="d773" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">渐进式图像加载可以用几行代码完成。但是也有React可用的库，如<a class="ae ky" href="https://www.npmjs.com/package/react-progressive-image" rel="noopener ugc nofollow" target="_blank"> react-progressive-image </a>可以尽可能轻松地为我们完成所有工作。该模块是React应用程序中渐进式图像加载的常用选择。它提供了一个接受<code class="fe nb nc nd ne b">src</code>和<code class="fe nb nc nd ne b">placeholder</code>属性的高阶组件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ny nx l"/></div></figure><p id="2d64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的例子将最初显示<code class="fe nb nc nd ne b">placeholder</code>，在大多数情况下，它是原始图像的一个非常小的版本。浏览器加载它的速度会比原始图像快得多。然而，我们仍然需要从服务器加载占位符。为了省去我们这个麻烦，我们可以直接用<a class="ae ky" href="https://en.wikipedia.org/wiki/Base64" rel="noopener ugc nofollow" target="_blank"> base64 </a>编码的图像作为<code class="fe nb nc nd ne b">placeholder</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ny nx l"/></div></figure><h1 id="570e" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">动态导入图像</h1><p id="0381" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在本节中，我们将学习如何在React中动态导入图像。在我的开发生涯中，我多次面临这个问题。我也看到其他人也在为此挣扎。</p><p id="22d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了在React应用程序中使用图像，我们需要首先导入它。所以我们要解决的问题很简单。怎样才能动态导入东西？信不信由你，解决方法也很简单。我们需要做的就是实现一个组件，它将文件名作为一个<code class="fe nb nc nd ne b">prop</code>。并返回将<code class="fe nb nc nd ne b">src</code>设置为给定图像的<code class="fe nb nc nd ne b">img</code>元素。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ny nx l"/></div></figure><p id="60ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该组件采用该文件的名称，并尝试导入它。如果给定名称的文件不存在。执行失败，将被我们的<code class="fe nb nc nd ne b">catch</code>块捕获。显示一个警告是一个好主意，这样使用这个组件的人会发现有些事情不正常。</p><h1 id="90a6" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">结论</h1><p id="23b0" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">图像是网站中常见的组成部分。在React应用程序中存储图像有许多不同的方法，了解所有这些方法的优缺点非常重要。在这篇博文中，我们研究了在react应用中存储图像的不同方法，并为每种方法找到了一个很好的应用。</p><p id="2722" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我还分享了一些技巧和诀窍，以及在处理图像时应该应用的最佳实践。这些实践包含像延迟加载或渐进加载这样的方法。现在是最后一部分，是时候采用这些方法并开始在React项目中使用它们了。</p></div><div class="ab cl nz oa hx ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="im in io ip iq"><p id="a706" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">【https://www.upbeatcode.com】最初发表于<a class="ae ky" href="https://www.upbeatcode.com/where-to-store-images-in-react-app/" rel="noopener ugc nofollow" target="_blank"><em class="og"/></a><em class="og">。</em></p></div></div>    
</body>
</html>