<html>
<head>
<title>5 Complex ML Tasks Performed In A Single Line Of Code Using Hugging Face</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用拥抱脸在一行代码中执行5个复杂的ML任务</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/5-complex-ml-tasks-performed-in-a-single-line-of-code-using-hugging-face-39a5e735ca44?source=collection_archive---------5-----------------------#2022-10-24">https://levelup.gitconnected.com/5-complex-ml-tasks-performed-in-a-single-line-of-code-using-hugging-face-39a5e735ca44?source=collection_archive---------5-----------------------#2022-10-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><h1 id="224f" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">什么是抱脸？</h1><p id="e3d9" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">它是一个平台，为开发人员提供广泛的数据集和最先进的模型，由机器学习中的参考开源提供支持。</p><p id="2e78" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated"><a class="ae lr" href="https://huggingface.co/" rel="noopener ugc nofollow" target="_blank"> <em class="ls">抱脸</em> </a> <em class="ls"> </em>为我们提供了名为<code class="fe lt lu lv lw b">pipelines</code>的对象，将大部分复杂的代码抽象成简单易用的API。</p><div class="lx ly gp gr lz ma"><a href="https://huggingface.co/docs/transformers/main_classes/pipelines" rel="noopener  ugc nofollow" target="_blank"><div class="mb ab fo"><div class="mc ab md cl cj me"><h2 class="bd iu gy z fp mf fr fs mg fu fw is bi translated">管道</h2><div class="mh l"><h3 class="bd b gy z fp mf fr fs mg fu fw dk translated">管道是使用模型进行推理的一种伟大而简单的方式。这些管道是抽象大部分…</h3></div><div class="mi l"><p class="bd b dl z fp mf fr fs mg fu fw dk translated">huggingface.co</p></div></div><div class="mj l"><div class="mk l ml mm mn mj mo mp ma"/></div></div></a></div><p id="9297" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated">首先，安装<code class="fe lt lu lv lw b">pipeline</code>和标记器<code class="fe lt lu lv lw b">sentencepiece</code>，如下所示:</p><pre class="mq mr ms mt gt mu lw mv mw aw mx bi"><span id="1d82" class="my jr it lw b gy mz na l nb nc">pip install transformers[sentencepiece]</span></pre><p id="04d6" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated">将其导入到您的项目中，如下所示:</p><pre class="mq mr ms mt gt mu lw mv mw aw mx bi"><span id="571c" class="my jr it lw b gy mz na l nb nc">from transformers import pipeline</span></pre><p id="77f8" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated">太好了！</p><p id="9470" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated">让我们学习如何使用它来使这5个复杂的ML任务变得简单！</p><h1 id="0eaa" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">语言翻译</h1><p id="2966" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">让我们使用<code class="fe lt lu lv lw b">Helsinki-NLP/opus-mt-en-hi</code>模型将英语翻译成印地语。</p><pre class="mq mr ms mt gt mu lw mv mw aw mx bi"><span id="36d3" class="my jr it lw b gy mz na l nb nc">hindi_translator_model ="Helsinki-NLP/opus-mt-en-hi"</span><span id="ac4e" class="my jr it lw b gy nd na l nb nc">translator = pipeline("translation", model=hindi_translator_model)</span></pre><p id="3da1" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated">在上面的步骤中，我们实例化了语言翻译的管道。</p><pre class="mq mr ms mt gt mu lw mv mw aw mx bi"><span id="05ab" class="my jr it lw b gy mz na l nb nc">translator("Stairway to Heaven")</span><span id="3bae" class="my jr it lw b gy nd na l nb nc">#Output: <br/>[{'translation_text': 'स्वर्ग की ओर सीढ़ी'}]</span></pre><p id="c60f" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated">轻松点。</p><p id="bcfe" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated">有数百种语言模型可以轻松地将所有流行语言翻译成其他语言。</p><h1 id="3f8e" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">情感分析</h1><p id="29d3" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">让我们将情感分析模型实例化如下:</p><pre class="mq mr ms mt gt mu lw mv mw aw mx bi"><span id="b4bd" class="my jr it lw b gy mz na l nb nc">sent_analyser = pipeline(“sentiment-analysis”)</span></pre><p id="495a" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated">我们的用法如下:</p><pre class="mq mr ms mt gt mu lw mv mw aw mx bi"><span id="c2e8" class="my jr it lw b gy mz na l nb nc">sent_analysis(“The food tasted amazing! What a lovely day!”)</span><span id="5180" class="my jr it lw b gy nd na l nb nc">#Output:<br/>[{'label': '<strong class="lw iu">POSITIVE</strong>', 'score': <strong class="lw iu">0.9998866319656372</strong>}]</span></pre><p id="ad4a" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated">分数表明了模型对其预测的信心程度。</p><h1 id="3e35" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">语音识别</h1><p id="bf85" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">让我们实例化该模型，然后如下使用它:</p><pre class="mq mr ms mt gt mu lw mv mw aw mx bi"><span id="1679" class="my jr it lw b gy mz na l nb nc">speech_recog = pipeline(“automatic-speech-recognition”)</span><span id="87a5" class="my jr it lw b gy nd na l nb nc">speech_recog("location_of_audio_file/audio.mp4")</span><span id="9c88" class="my jr it lw b gy nd na l nb nc">#Output:<br/>{'text': 'THESE HUGGING FACE MODELS WORK VERY WELL'}</span></pre><p id="4056" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated">管道使用了<code class="fe lt lu lv lw b">facebook/wav2vec2-base-960h</code>模型，它给出了准确的结果！</p><h1 id="4b97" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">图像分类</h1><p id="9cfe" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">名为<code class="fe lt lu lv lw b">google/vit-base-patch16–224</code>的图像分类默认模型可以实例化如下:</p><pre class="mq mr ms mt gt mu lw mv mw aw mx bi"><span id="67b2" class="my jr it lw b gy mz na l nb nc">image_classifier = pipeline(“image-classification”)</span></pre><p id="7bda" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated">让我们使用来自<em class="ls"> Unsplash </em>的图像从模型中获得分类结果。</p><figure class="mq mr ms mt gt nf gh gi paragraph-image"><div role="button" tabindex="0" class="ng nh di ni bf nj"><div class="gh gi ne"><img src="../Images/4d0e48f38de0df124a421accf0946578.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ermflm357f4dzB7D"/></div></div><figcaption class="nl nm gj gh gi nn no bd b be z dk translated">照片由<a class="ae lr" href="https://unsplash.com/@alvannee?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Alvan Nee </a>在<a class="ae lr" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><pre class="mq mr ms mt gt mu lw mv mw aw mx bi"><span id="1d5c" class="my jr it lw b gy mz na l nb nc">imageClassifier("https://images.unsplash.com/photo-1537151625747-768eb6cf92b2?ixlib=rb-4.0.3&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=2568&amp;q=80")</span><span id="dbab" class="my jr it lw b gy nd na l nb nc">#Output:</span><span id="9cd2" class="my jr it lw b gy nd na l nb nc">[{'score': 0.36904239654541016, 'label': '<strong class="lw iu">Pembroke, Pembroke Welsh corgi</strong>'},  {'score': 0.2694929838180542, 'label': 'Cardigan, Cardigan Welsh corgi'},  {'score': 0.26063746213912964, 'label': 'Chihuahua'},  {'score': 0.04186752066016197, 'label': 'toy terrier'},  {'score': 0.015168835408985615, 'label': 'basenji'}]</span></pre><p id="3356" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated">看看这些结果有多准确！</p><h1 id="9196" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">视觉问答</h1><p id="4993" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">这个很有意思！</p><p id="2cb2" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated">实例化的模型将查看模型，然后回答我们所有的问题。</p><pre class="mq mr ms mt gt mu lw mv mw aw mx bi"><span id="9852" class="my jr it lw b gy mz na l nb nc">qa_model = pipeline(“visual-question-answering”)</span></pre><p id="6fbc" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated">让我们看一看下面的图片，看看它在我们的查询中表现如何！</p><figure class="mq mr ms mt gt nf gh gi paragraph-image"><div role="button" tabindex="0" class="ng nh di ni bf nj"><div class="gh gi np"><img src="../Images/c8aa32805feb0b8104599416086f75ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jG9toKIcDOw7xVAf"/></div></div><figcaption class="nl nm gj gh gi nn no bd b be z dk translated">照片由<a class="ae lr" href="https://unsplash.com/@alexanderredl?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Alexander Redl </a>在<a class="ae lr" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><pre class="mq mr ms mt gt mu lw mv mw aw mx bi"><span id="81cd" class="my jr it lw b gy mz na l nb nc">image = “location_of_photo/photo.jpg”</span><span id="3dc9" class="my jr it lw b gy nd na l nb nc">query = “<strong class="lw iu">Who is in the photo?</strong>”</span><span id="b0b1" class="my jr it lw b gy nd na l nb nc">qa_model(image, query)</span></pre><p id="27ca" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated">输出如下:</p><pre class="mq mr ms mt gt mu lw mv mw aw mx bi"><span id="7618" class="my jr it lw b gy mz na l nb nc">[{'score': <strong class="lw iu">0.9391912221908569</strong>, 'answer': '<strong class="lw iu">man</strong>'},  {'score': 0.2655457854270935, 'answer': 'skateboarder'},  {'score': 0.055595751851797104, 'answer': 'boy'},  {'score': 0.053267233073711395, 'answer': 'person'},  {'score': 0.014302995055913925, 'answer': 'yes'}]</span></pre><p id="b93a" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated">难以置信！</p></div><div class="ab cl nq nr hx ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="im in io ip iq"><p id="0480" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated">看看下面的拥抱脸管道中其他有趣的模型，包括图像到文本，摘要，文本生成模型，等等！</p><div class="lx ly gp gr lz ma"><a href="https://huggingface.co/docs/transformers/main_classes/pipelines" rel="noopener  ugc nofollow" target="_blank"><div class="mb ab fo"><div class="mc ab md cl cj me"><h2 class="bd iu gy z fp mf fr fs mg fu fw is bi translated">管道</h2><div class="mh l"><h3 class="bd b gy z fp mf fr fs mg fu fw dk translated">管道是使用模型进行推理的一种伟大而简单的方式。这些管道是抽象大部分…</h3></div><div class="mi l"><p class="bd b dl z fp mf fr fs mg fu fw dk translated">huggingface.co</p></div></div><div class="mj l"><div class="mk l ml mm mn mj mo mp ma"/></div></div></a></div></div><div class="ab cl nq nr hx ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="im in io ip iq"><p id="c6d3" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated"><em class="ls">本文到此结束！感谢阅读！</em></p><div class="lx ly gp gr lz ma"><a href="https://bamania-ashish.medium.com/membership" rel="noopener follow" target="_blank"><div class="mb ab fo"><div class="mc ab md cl cj me"><h2 class="bd iu gy z fp mf fr fs mg fu fw is bi translated">通过我的推荐链接加入Medium-Ashish Bama nia博士</h2><div class="mh l"><h3 class="bd b gy z fp mf fr fs mg fu fw dk translated">阅读Ashish Bamania博士(以及Medium上成千上万的其他作家)的每一个故事。您的会员费直接…</h3></div><div class="mi l"><p class="bd b dl z fp mf fr fs mg fu fw dk translated">bamania-ashish.medium.com</p></div></div><div class="mj l"><div class="nx l ml mm mn mj mo mp ma"/></div></div></a></div></div></div>    
</body>
</html>