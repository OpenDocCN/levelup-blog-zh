<html>
<head>
<title>Learning Go: The switch Statement and the Select from Alternatives Template</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">学习Go:switch语句和从备选项中选择模板</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/learning-go-the-switch-statement-and-the-select-from-alternatives-template-15aad769774a?source=collection_archive---------13-----------------------#2020-03-13">https://levelup.gitconnected.com/learning-go-the-switch-statement-and-the-select-from-alternatives-template-15aad769774a?source=collection_archive---------13-----------------------#2020-03-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/686bf93457be69a2bfcd54f8f80bd718.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*l3r94-rSQmeNgdKP"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">由<a class="ae kf" href="https://unsplash.com/@victoriano?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">维多利亚诺·伊斯基耶多</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="02ad" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我的上一篇<a class="ae kf" rel="noopener ugc nofollow" target="_blank" href="/learning-go-the-if-statement-and-the-select-from-alternatives-template-ebe9748cb0d7">文章</a>中，我讨论了如何将Go的<code class="fe le lf lg lh b">if</code>语句表单与Select from Alternatives编程模板一起使用。在本文中，我将看看如何在这个模板中使用Go的<code class="fe le lf lg lh b">switch </code>语句。</p><h1 id="bfd0" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">switch语句</h1><p id="51c9" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated"><code class="fe le lf lg lh b">switch</code>语句是一个多向分支结构，它使用单个值来决定采用程序的哪个分支。您不能使用带有一系列值的<code class="fe le lf lg lh b">switch</code>语句，但是与C++和其他语言不同，<code class="fe le lf lg lh b">switch</code>语句评估的操作数可以是任何数据类型。这意味着您可以“切换”字符串、布尔值或其他类型。</p><p id="6546" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">switch语句有两个主要的语法模板。第一个使用一个操作数，像这样:</p><p id="c23c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ml">切换操作数{ <br/> case option1: <br/>语句<br/> case option2: <br/>语句<br/> case option-n: <br/>语句<br/>默认:<br/>语句<br/> } </em></p><p id="3ac3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第二个语法模板不使用操作数，而是在以下情况下计算条件:</p><p id="1a67" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ml">switch {<br/>case condition 1:<br/>语句<br/> case condition2: <br/>语句<br/> case condition-n: <br/>语句<br/>默认值:<br/>语句<br/> } </em></p><p id="2ab5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这两种情况下，default子句都是可选的，其行为很像<code class="fe le lf lg lh b">if-else if</code>中的<code class="fe le lf lg lh b">else </code>。</p><p id="759d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我们查看模板并解决一些问题之前，这里是Go的<code class="fe le lf lg lh b">switch</code>语句的第一个例子(为了节省空间，省略了package和imports语句):</p><pre class="mm mn mo mp gt mq lh mr ms aw mt bi"><span id="24d5" class="mu lj it lh b gy mv mw l mx my">func isEven(number int) bool {<br/>  if number % 2 == 0 {<br/>    return true<br/>  }<br/>  return false<br/>}</span><span id="750b" class="mu lj it lh b gy mz mw l mx my">func main() {<br/>  var number int<br/>  for i:=1; i &lt;= 5; i++ {<br/>    fmt.Print("Enter a number: ")<br/>    fmt.Scan(&amp;number)<br/>    switch isEven(number) {<br/>      case true:<br/>        fmt.Printf("%d is even.\n", number)<br/>      case false:<br/>        fmt.Printf("%d is odd.\n", number)<br/>      default:<br/>        fmt.Println("Was that a number?")<br/>    }<br/>  }<br/>}</span></pre><p id="6ae4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个程序使用一个函数来确定一个数是奇数还是偶数。我还没有讨论Go函数，但是你应该能够理解它的定义。操作数由<code class="fe le lf lg lh b">isEven()</code>函数接收，然后案例评估操作数的布尔值。</p><h1 id="a448" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">从备选方案中选择项目模板</h1><p id="072f" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">上面的程序是如何在Go中实现<em class="ml">从备选项中选择</em>模板的一个例子。首先，这里有一些描述这个模板的伪代码:</p><p id="d732" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ml">如果选项1，执行任务1 <br/>如果选项2，执行任务2 <br/>如果选项-n，执行任务-n </em></p><p id="6e0e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们用这个模板来解决一些问题。</p><p id="843d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">编写一个简单的计算器，从用户那里接受两个数字，然后让用户决定他们想要解决哪个算术问题:加法、减法和乘法。一旦用户做出选择，程序应该让用户输入他们的答案，然后显示答案是否正确。将此放入运行5次的循环中。使用随机数生成来生成问题的数字。</p><p id="272c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里有一个可能的解决方案:</p><pre class="mm mn mo mp gt mq lh mr ms aw mt bi"><span id="146f" class="mu lj it lh b gy mv mw l mx my">package main</span><span id="2d0c" class="mu lj it lh b gy mz mw l mx my">import (<br/>        "fmt"<br/>        "math/rand"<br/>        "time"<br/>        )</span><span id="8b78" class="mu lj it lh b gy mz mw l mx my">func main() {<br/>  var number1, number2, result, answer, choice int<br/>  const stop = 5<br/>  seed := rand.NewSource(time.Now().Unix())<br/>  randGen := rand.New(seed)<br/>  for i:=1; i&lt;stop; i++ {<br/>    number1 = randGen.Intn(100)<br/>    number2 = randGen.Intn(100)<br/>    fmt.Println("1. Addition")<br/>    fmt.Println("2. Subtraction")<br/>    fmt.Println("3. Multiplication")<br/>    fmt.Print("Enter choice: ")<br/>    fmt.Scan(&amp;choice)<br/>    switch choice {<br/>      case 1:<br/>        result = number1 + number2<br/>        fmt.Printf("%d + %d = ? ", number1, number2)<br/>        fmt.Scan(&amp;answer)<br/>        if answer == result {<br/>          fmt.Println("That's right.")<br/>        } else {<br/>          fmt.Printf("Sorry, the answer is %d.\n", result)<br/>        }<br/>      case 2:<br/>        result = number1 - number2<br/>        fmt.Printf("%d - %d = ? ", number1, number2)<br/>        fmt.Scan(&amp;answer)<br/>        if answer == result {<br/>          fmt.Println("That's right!")<br/>        } else {<br/>          fmt.Printf("Sorry, the answer is %d.\n", result)<br/>        }<br/>      case 3:<br/>        result = number1 * number2<br/>        fmt.Printf("%d x %d = ? ", number1, number2)<br/>        fmt.Scan(&amp;answer)<br/>        if answer == result {<br/>          fmt.Println("That's right!")<br/>        } else {<br/>          fmt.Printf("Sorry, the answer is %d.\n", result)<br/>        }<br/>    }<br/>  }<br/>}</span></pre><p id="d111" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">与使用<code class="fe le lf lg lh b">if-else if</code>语句相比，<code class="fe le lf lg lh b">switch</code>语句通常会产生更结构化的解决方案。</p><p id="2bad" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">还要注意，我植入了随机数生成器，这样程序每次运行时都会出现不同的数字。种子基于系统时间(<code class="fe le lf lg lh b">Time.Now()</code>)和另一个函数调用<code class="fe le lf lg lh b">Unix()</code>，后者返回自1970年1月1日以来的秒数。</p><p id="f169" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里还有一个问题，演示了<code class="fe le lf lg lh b">switch</code>语句的操作数是一个字符串。我提到这一点是因为在某些语言中，<code class="fe le lf lg lh b">switch</code>操作数只能是整数值。</p><p id="4fbb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">写一个让用户输入月份的程序。该程序返回该月的天数。这个程序还演示了如何在case子句中进行“测试”。代码如下:</p><pre class="mm mn mo mp gt mq lh mr ms aw mt bi"><span id="a927" class="mu lj it lh b gy mv mw l mx my">func main() {<br/>  var month string<br/>  var days int<br/>  fmt.Print("What month? ")<br/>  fmt.Scan(&amp;month)<br/>  switch {<br/>    case month == "February":<br/>      days = 28;<br/>    case month == "September" ||<br/>         month == "April" ||<br/>         month == "June" ||<br/>         month == "November":<br/>      days = 30;<br/>    default:<br/>      days = 31;<br/>  }<br/>  fmt.Printf("%s has %d days in it.\n", month, days)<br/>}</span></pre><h1 id="3917" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">软件设计哲学的一个侧面</h1><p id="d8d3" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">如果您是编程新手，您可能想知道何时选择使用一个<code class="fe le lf lg lh b">switch</code>语句，而不是使用一系列<code class="fe le lf lg lh b">if-else if</code>语句。一般规则是，当选择选项简单时，选择一个<code class="fe le lf lg lh b">switch </code>语句。当您必须在一系列选项中进行选择时，您应该选择一个<code class="fe le lf lg lh b">if-else if</code>语句。</p><p id="c3d4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里有两个例子。您正在编写一个评分程序，该程序将+和-标记分配给等级，例如A-、A-和A+。这些选择是基于分数的范围，比如90到93分可以得A-；93到96赚A；97分及以上得A+。这个问题要用一个<code class="fe le lf lg lh b">if-else if</code>语句来解决。</p><p id="e05d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一方面，如果您正在编写一个将数字转换为罗马数字的程序，您会选择一个<code class="fe le lf lg lh b">switch</code>语句，因为没有可供选择的范围。</p><p id="9e84" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是一个使用<code class="fe le lf lg lh b">switch</code>语句将数字转换成罗马数字的程序:</p><pre class="mm mn mo mp gt mq lh mr ms aw mt bi"><span id="cc7a" class="mu lj it lh b gy mv mw l mx my">func main() {<br/>  var number int<br/>  var roman string<br/>  fmt.Print("Enter a number (o to quit): ")<br/>  fmt.Scan(&amp;number)<br/>  for number != 0 {<br/>    switch number {<br/>      case 1:<br/>        roman = "I"<br/>      case 2:<br/>        roman = "II"<br/>      case 3:<br/>        roman = "III"<br/>      case 4:<br/>        roman = "IV"<br/>      case 5:<br/>        roman = "V"<br/>      case 6:<br/>        roman = "VI"<br/>      case 7:<br/>        roman = "VII"<br/>      case 8:<br/>        roman = "VIII"<br/>      case 9:<br/>        roman = "IX"<br/>      case 10:<br/>        roman = "X"<br/>      default:<br/>        fmt.Println("Didn't recognize that input.")<br/>    }<br/>    fmt.Printf("%d in Roman numerals is %s.\n", number, roman)<br/>    fmt.Print("Enter a number (0 to quit): ")<br/>    fmt.Scan(&amp;number)<br/>  }<br/>}</span></pre><h1 id="4ad2" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">switch语句和从备选方案中进行选择</h1><p id="e48e" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">Go中有两个用于选择选项的构造:<code class="fe le lf lg lh b"> if-else if</code>语句和<code class="fe le lf lg lh b">switch</code>语句。当替代项嵌入在范围中时，您应该选择使用<code class="fe le lf lg lh b">if-else if</code>语句。如果备选方案简单且独立，那么您应该选择<code class="fe le lf lg lh b">switch</code>语句。另一个考虑是是否有几个简单的选择。如果是这种情况，应该选择<code class="fe le lf lg lh b">switch</code>语句，因为<code class="fe le lf lg lh b">switch</code>语句中的代码通常比<code class="fe le lf lg lh b">if-else if</code>语句中的代码更容易阅读。</p><p id="c42f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢您阅读这篇文章，如果您有任何意见或建议，请发邮件给我。</p></div></div>    
</body>
</html>