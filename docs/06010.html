<html>
<head>
<title>How to get the most from the TypeScript compiler — Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何充分利用TypeScript编译器— Angular</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-get-the-most-from-the-typescript-compiler-angular-aae7fb53e0cf?source=collection_archive---------5-----------------------#2020-10-19">https://levelup.gitconnected.com/how-to-get-the-most-from-the-typescript-compiler-angular-aae7fb53e0cf?source=collection_archive---------5-----------------------#2020-10-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="50ee" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让TypeScript编译器为您服务</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a04855fe25e3651770ffd1e4bbd70624.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ytemG_l2-laGNZMaUdPglg.png"/></div></div></figure><p id="6885" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当谈到Angular应用程序中的TypeScript编译器时，有一个入口文件可以完成这项工作，如果您了解如何充分利用它，它甚至可以做得更多。</p><p id="2743" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你可能已经猜到我在说什么了，没错就是<code class="fe lq lr ls lt b"><strong class="kw iu"><em class="lu">tsconfig.json</em></strong></code>文件。该文件配置并包含使用TypeScript编译器编译应用程序所需的所有选项。</p><p id="87df" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在这篇文章中，我将向您展示一些强大的选项，这些选项并不太出名，但有助于防止一些错误并保护您的神经，相信我。准备好充分利用TypeScript编译器了吗？我们走吧</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="c2bd" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">noUnusedLocals选项</h1><p id="d5bf" class="pw-post-body-paragraph ku kv it kw b kx mu ju kz la mv jx lc ld mw lf lg lh mx lj lk ll my ln lo lp im bi translated">让我告诉你发现这个选项背后的故事。作为前端领导，我们经常会遇到一些奇怪的事情。有些事情是拉主代码，并发现有一些文件与未使用的进口或未使用的进口模块。﴾͡๏̯͡๏﴿为什么这么做？</p><p id="22bb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">想象一下，把你的车放进去，你的椅子，你的餐桌，你的表演，另一个你不需要的东西，但你仍然让你的车超载，这让你的车燃烧更多的燃料，从而花更多的钱。对于应用程序来说也是一样的！</p><p id="8d86" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">有一天，我真的很生气，不能再继续这个问题了。当我搜索并发现这个奇妙的选项时，我就爱上了它。</p><p id="ce56" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我知道这主要是由于代码重构，或者代码没有得到很好的审查，因为开发人员尝试了不同的解决方案，但忘记了清理他添加的全部混乱，他不再使用。</p><p id="2881" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">相信我，这个选项是解决这个问题的最佳方案。应用程序中不再有未使用的函数、未使用的变量和未使用的导入。</p><p id="617d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">下面是我们如何在tsconfig.json文件中激活该选项:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="01da" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果不遵守这些规则，代码就不会被编译，也就不会被推送到您的分支。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="84a8" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">noUnusedParameters选项</h1><p id="3f9b" class="pw-post-body-paragraph ku kv it kw b kx mu ju kz la mv jx lc ld mw lf lg lh mx lj lk ll my ln lo lp im bi translated">顾名思义，这个选项的目的和之前的选项一样，删除未使用的东西，但是这次是针对带参数的函数。</p><p id="40ca" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">那么，我为什么选择这个选项呢？要求更少的参数会让使用这个函数的人的生活更轻松，不是吗？另外，当你看到使用一个函数需要传递的参数列表时，你会想这是干什么用的，对吗？因为在专业领域，你不是自己开发应用程序，而是由一个团队开发。所以，你不知道整件事，也不知道为什么要这样编码。如果您开始分析为什么我们将这些参数传递给函数，并且发现这些参数不再需要，但是我们忘记删除它们，这将是浪费时间。太可惜了！</p><p id="4b63" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我经历过这个，谁都不想浪费时间。这个错误是人为的，所以为了防止这种情况，最好的解决方案是通过将这个选项添加到我们的TypeScript编译器来为我们完成这项工作，从而迫使开发人员在合并到主分支之前修复这个错误。少一些争论，少一些思考，多一些时间做其他的事情，保护最重要的神经！</p><p id="a78b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">和以前一样，我们可以这样使用这个选项:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="e2b6" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">noImplicitReturns选项</h1><p id="5dcd" class="pw-post-body-paragraph ku kv it kw b kx mu ju kz la mv jx lc ld mw lf lg lh mx lj lk ll my ln lo lp im bi translated">这一次，它是关于返回类型的函数。有时，我们有不同的返回值——基于某些条件，我们使用<code class="fe lq lr ls lt b"><strong class="kw iu"><em class="lu">if</em></strong></code>语句或<code class="fe lq lr ls lt b"><strong class="kw iu"><em class="lu">switch</em></strong></code>或其他语句，当没有应用任何条件时，我们会忘记默认情况。这实际上是一个可以用TypeScript编译器避免的错误。通过激活<code class="fe lq lr ls lt b"><strong class="kw iu"><em class="lu">noImplicitReturns</em></strong></code>选项，您可以确保默认情况被考虑在内。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="cd61" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">无插入选项</h1><p id="6616" class="pw-post-body-paragraph ku kv it kw b kx mu ju kz la mv jx lc ld mw lf lg lh mx lj lk ll my ln lo lp im bi translated">TypeScript是一种类型化的语言，这意味着通常情况下你不必最终使用<code class="fe lq lr ls lt b"><strong class="kw iu"><em class="lu">any</em></strong></code> <strong class="kw iu"> <em class="lu">。</em> </strong>由于某种原因，有时我们会忘记添加一个数组或者一个发出的事件的类型。我曾经这样做过，简单，容易，快速。但是，这里有一个问题，<code class="fe lq lr ls lt b"><strong class="kw iu">any</strong></code>吃掉你的应用性能。</p><p id="c937" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">编译器将<code class="fe lq lr ls lt b"><strong class="kw iu">any</strong></code>视为“请开始对这个东西进行类型检查”。键入是检查代码中错误的最便宜、最快速的方法。使用<code class="fe lq lr ls lt b"><strong class="kw iu">any</strong></code>很难看出哪里出了问题，而且在性能方面会让你付出很大代价。</p><p id="1a63" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我知道在某些情况下，很难放入除了<code class="fe lq lr ls lt b"><strong class="kw iu">any</strong></code> <strong class="kw iu"> </strong>之外的东西，比如当你在一个规范测试文件中模仿一个对象以避免创建整个对象时。所以，这取决于，你可以选择激活或停用这个选项。</p><p id="89cc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">无论如何，如果你决定激活它，这里是如何:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ceeb" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">strictNullChecks选项</h1><p id="0b40" class="pw-post-body-paragraph ku kv it kw b kx mu ju kz la mv jx lc ld mw lf lg lh mx lj lk ll my ln lo lp im bi translated">这个选项真的很有趣。下面是这个选项非常强大的情况:想象一下，您有一个以数字作为参数类型的函数。你每次都需要检查函数是否真的收到了什么，而不是一个未定义的，对吗？如果我们关注更重要和复杂的功能，而不是检查它是否为空，会怎么样？</p><p id="d186" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">激活此选项将确保您返回并传递正确的类型。这里有一个代码示例来阐明我的想法:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="08e0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">通过激活这个选项，你会看到编译器不会接受最后一行，因为我们说我们返回Promise或article是没有意义的，我们最终会在没有找到article的情况下返回一个undefined。</p><p id="ab3e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">正确的编码方式如下，我们需要添加未定义的返回类型，因为有可能找不到带有传递id的文章:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="2267" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果不激活这个选项，这个问题将不会从一开始就得到解决，并且可能会在将来导致一个bug。也有一些情况下，我们需要返回一些有效的而不是未定义的东西，例如当激活一个路由时。在这些情况下，您需要确保返回一个值，这个选项将确保它完成，因此防止不一致的代码从它的创建。</p><p id="a160" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">以下是激活该选项的方法:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="06ee" class="mc md it bd me mf nb mh mi mj nc ml mm jz nd ka mo kc ne kd mq kf nf kg ms mt bi translated">最后的想法</h1><ul class=""><li id="79ce" class="ng nh it kw b kx mu la mv ld ni lh nj ll nk lp nl nm nn no bi translated">这些选项在你的编译器中是可用的，它们很有趣，并且防止将来的错误，从而防止浪费时间，防止在你发现由另一个开发者开发的代码时分析出了什么问题。</li><li id="3672" class="ng nh it kw b kx np la nq ld nr lh ns ll nt lp nl nm nn no bi translated">在我看来不使用它们真的很浪费。</li><li id="4ee9" class="ng nh it kw b kx np la nq ld nr lh ns ll nt lp nl nm nn no bi translated">它帮助新手学习最佳实践并编写一致的应用程序。</li><li id="b65e" class="ng nh it kw b kx np la nq ld nr lh ns ll nt lp nl nm nn no bi translated">它真的，真的能保护你的神经，相信我。</li><li id="4402" class="ng nh it kw b kx np la nq ld nr lh ns ll nt lp nl nm nn no bi translated">最后，它有助于您有更多的时间关注重要的事情，如架构、概念、最佳实现方式等…</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="7a0c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">亲爱的读者朋友们，感谢你们的支持和宝贵时间。我希望这对你有用和有帮助。</p><p id="3765" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">关注我上</strong> <a class="ae nu" href="https://medium.com/@famzil/" rel="noopener"> <strong class="kw iu">中</strong> </a> <strong class="kw iu">、</strong><a class="ae nu" href="https://www.linkedin.com/in/fatima-amzil-9031ba95/" rel="noopener ugc nofollow" target="_blank"><strong class="kw iu">Linkedin</strong></a><strong class="kw iu">、</strong><a class="ae nu" href="https://twitter.com/FatimaAMZIL9" rel="noopener ugc nofollow" target="_blank"><strong class="kw iu">Twitter</strong></a><strong class="kw iu">了解更多文章。</strong></p><p id="14d1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">不久后见(ﾉ◕ヮ◕)ﾉ*:･ﾟ✧)</p><p id="959d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> FAM </strong></p></div></div>    
</body>
</html>