<html>
<head>
<title>JavaScript Interview Questions — Basic DOM and Events</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript面试问题—基本DOM和事件</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/javascript-interview-questions-basic-dom-and-events-7925ce8602ef?source=collection_archive---------3-----------------------#2020-03-09">https://levelup.gitconnected.com/javascript-interview-questions-basic-dom-and-events-7925ce8602ef?source=collection_archive---------3-----------------------#2020-03-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/baa09a56c67e48f9f5389cc0a637e243.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KaxleuhIf0GLj2pI"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@priscilladupreez?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">普里西拉·杜·普里兹</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="19a9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了得到一份前端开发人员的工作，我们需要搞定编码面试。</p><p id="017e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将研究DOM操作和事件问题。如果你不知道DOM是什么，那么这是一本必读的书。</p><h1 id="82fc" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">什么是DOM？</h1><p id="3a42" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">DOM代表文档对象模型。它是HTML和XML文档的API。当我们看到浏览器如何渲染屏幕时，我们关心的是HTML。</p><p id="b782" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">页面中的HTML元素放在一个大对象中，浏览器可以使用这个大对象在页面上显示元素。</p><p id="80c4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们操纵DOM API，通过改变对象中的特定元素或节点来操纵DOM结构。这些更改会反映在浏览器屏幕上。</p><p id="bf2f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">DOM树如下所示:</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/fe778b235fe569f0779674d522a4037c.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/1*rG6drptvJj6FC2Hnk5qAuA.gif"/></div></figure><p id="ddeb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">JavaScript <code class="fe mm mn mo mp b">document</code>对象表示浏览器中的DOM。</p><p id="3c45" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以通过查找DOM树中的元素来操作DOM树，然后通过调用方法或设置找到的对象的属性来操作它们。</p><p id="05d0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以通过使用各种方法，如<code class="fe mm mn mo mp b">document.querySelector</code>、<code class="fe mm mn mo mp b">document.getElementById</code>来分别通过CSS选择器或ID找到一个元素，以返回一个元素或节点，我们可以在其上调用方法或设置属性。</p><p id="c755" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">同样，我们可以通过<code class="fe mm mn mo mp b">document.querySelectorAll</code>操作一组对象，通过CSS选择器选择一组元素。它返回一个类似数组的对象，我们可以通过改变迭代。</p><h1 id="d34f" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">什么是事件传播？</h1><p id="626a" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">当在DOM元素上激发事件时，发生事件传播。该事件也由父元素触发。</p><p id="b903" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有一个冒泡阶段，事件从起始节点冒泡到父元素、祖父元素，一直到<code class="fe mm mn mo mp b">window</code>。</p><p id="35ed" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后是捕获阶段，事件从<code class="fe mm mn mo mp b">window</code>开始，一直到触发事件的原始元素。</p><p id="a6fd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">总共有三个阶段:</p><ol class=""><li id="db01" class="mq mr it ki b kj kk kn ko kr ms kv mt kz mu ld mv mw mx my bi translated">捕获阶段——事件从<code class="fe mm mn mo mp b">window</code>开始，然后一直到子元素，直到到达目标元素。</li><li id="126f" class="mq mr it ki b kj mz kn na kr nb kv nc kz nd ld mv mw mx my bi translated">目标阶段—事件已到达目标元素。</li><li id="860a" class="mq mr it ki b kj mz kn na kr nb kv nc kz nd ld mv mw mx my bi translated">冒泡——事件从目标元素冒泡，一直上升到<code class="fe mm mn mo mp b">window</code>。</li></ol><h1 id="5ada" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">什么是事件冒泡？</h1><p id="7eab" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">在这种情况下，事件从事件起源的元素开始，然后事件向上冒泡到父元素、祖父元素等。，直到它到达<code class="fe mm mn mo mp b">window</code>对象。</p><p id="8ab8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，如果我们有以下HTML代码:</p><pre class="mi mj mk ml gt ne mp nf ng aw nh bi"><span id="2bb2" class="ni lf it mp b gy nj nk l nl nm">&lt;div id='grandparent'&gt;<br/>  &lt;div id='parent'&gt;<br/>    &lt;div id='start'&gt;<br/>      Start<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/div&gt;</span></pre><p id="4822" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">和下面的JavaScript代码:</p><pre class="mi mj mk ml gt ne mp nf ng aw nh bi"><span id="4bcc" class="ni lf it mp b gy nj nk l nl nm">const start = document.querySelector('#start');<br/>const parent = document.querySelector('#parent');<br/>const grandparent = document.querySelector('#grandparent');</span><span id="4ba3" class="ni lf it mp b gy nn nk l nl nm">start.addEventListener('click', () =&gt; {<br/>   alert('start clicked');<br/> })</span><span id="7e9c" class="ni lf it mp b gy nn nk l nl nm">parent.addEventListener('click', () =&gt; {<br/>   alert('parent clicked');<br/> })</span><span id="9e56" class="ni lf it mp b gy nn nk l nl nm">grandparent.addEventListener('click', () =&gt; {<br/>   alert('grandparent clicked');<br/> })</span><span id="278f" class="ni lf it mp b gy nn nk l nl nm">document.addEventListener('click', () =&gt; {<br/>   alert('document clicked');<br/> })</span><span id="81c6" class="ni lf it mp b gy nn nk l nl nm">window.addEventListener('click', () =&gt; {<br/>   alert('window clicked');<br/> })</span></pre><p id="9cef" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当我们单击“Start”时，我们应该会看到所有警报按以下顺序显示:</p><ol class=""><li id="b0fd" class="mq mr it ki b kj kk kn ko kr ms kv mt kz mu ld mv mw mx my bi translated">开始点击</li><li id="3d77" class="mq mr it ki b kj mz kn na kr nb kv nc kz nd ld mv mw mx my bi translated">单击了父项</li><li id="e2e2" class="mq mr it ki b kj mz kn na kr nb kv nc kz nd ld mv mw mx my bi translated">祖父点击</li><li id="697c" class="mq mr it ki b kj mz kn na kr nb kv nc kz nd ld mv mw mx my bi translated">点击的文档</li><li id="fd0c" class="mq mr it ki b kj mz kn na kr nb kv nc kz nd ld mv mw mx my bi translated">点击的窗口</li></ol><p id="4628" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是因为来自ID为start的div的click事件源自该div，然后它冒泡到ID为parent的div，然后到ID为grande的div。</p><p id="8e98" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，该事件转到文档和窗口。</p><p id="38e1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mm mn mo mp b">addEventListener</code>接受第三个参数，这是为了设置<code class="fe mm mn mo mp b">useCapture</code>选项。设置为<code class="fe mm mn mo mp b">true</code>，那么事件将发生在捕获阶段，而不是默认的冒泡阶段。</p><p id="1c3b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，如果我们有以下代码:</p><pre class="mi mj mk ml gt ne mp nf ng aw nh bi"><span id="1fa4" class="ni lf it mp b gy nj nk l nl nm">const start = document.querySelector('#start');<br/>const parent = document.querySelector('#parent');<br/>const grandparent = document.querySelector('#grandparent');</span><span id="a48e" class="ni lf it mp b gy nn nk l nl nm">start.addEventListener('click', () =&gt; {<br/>   alert('start clicked');<br/> }, true)</span><span id="9049" class="ni lf it mp b gy nn nk l nl nm">parent.addEventListener('click', () =&gt; {<br/>   alert('parent clicked');<br/> }, true)</span><span id="2cc6" class="ni lf it mp b gy nn nk l nl nm">grandparent.addEventListener('click', () =&gt; {<br/>   alert('grandparent clicked');<br/> }, true)</span><span id="39b8" class="ni lf it mp b gy nn nk l nl nm">document.addEventListener('click', () =&gt; {<br/>   alert('document clicked');<br/> }, true)</span><span id="c5fc" class="ni lf it mp b gy nn nk l nl nm">window.addEventListener('click', () =&gt; {<br/>   alert('window clicked');<br/> }, true)</span></pre><p id="d182" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">警报将以与之前相反的顺序显示。我们可以看到捕获是冒泡的逆过程。</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi no"><img src="../Images/6b5b0fe0efb6fa42234004556e95ef04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Vw67On3IEBc22W3e"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@niko_photos?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> niko photos </a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="9206" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">什么是事件捕获？</h1><p id="98c9" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">事件捕获与事件冒泡相反。这意味着事件从<code class="fe mm mn mo mp b">window</code>开始，一直到触发事件的元素。</p><p id="592e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，如果我们有以下HTML代码:</p><pre class="mi mj mk ml gt ne mp nf ng aw nh bi"><span id="9f64" class="ni lf it mp b gy nj nk l nl nm">&lt;div id='grandparent'&gt;<br/>  &lt;div id='parent'&gt;<br/>    &lt;div id='start'&gt;<br/>      Start<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/div&gt;</span></pre><p id="54bc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">和下面的JavaScript代码:</p><pre class="mi mj mk ml gt ne mp nf ng aw nh bi"><span id="b2d0" class="ni lf it mp b gy nj nk l nl nm">const start = document.querySelector('#start');<br/>const parent = document.querySelector('#parent');<br/>const grandparent = document.querySelector('#grandparent');</span><span id="c22b" class="ni lf it mp b gy nn nk l nl nm">start.addEventListener('click', () =&gt; {<br/>   alert('start clicked');<br/> }, true)</span><span id="6e46" class="ni lf it mp b gy nn nk l nl nm">parent.addEventListener('click', () =&gt; {<br/>   alert('parent clicked');<br/> }, true)</span><span id="d79e" class="ni lf it mp b gy nn nk l nl nm">grandparent.addEventListener('click', () =&gt; {<br/>   alert('grandparent clicked');<br/> }, true)</span><span id="46fc" class="ni lf it mp b gy nn nk l nl nm">document.addEventListener('click', () =&gt; {<br/>   alert('document clicked');<br/> }, true)</span><span id="4be2" class="ni lf it mp b gy nn nk l nl nm">window.addEventListener('click', () =&gt; {<br/>   alert('window clicked');<br/> }, true)</span></pre><p id="cbf4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，当我们单击“开始”时，我们会得到按以下顺序显示的警报:</p><ol class=""><li id="c851" class="mq mr it ki b kj kk kn ko kr ms kv mt kz mu ld mv mw mx my bi translated">点击的窗口</li><li id="be3b" class="mq mr it ki b kj mz kn na kr nb kv nc kz nd ld mv mw mx my bi translated">点击的文档</li><li id="8bca" class="mq mr it ki b kj mz kn na kr nb kv nc kz nd ld mv mw mx my bi translated">祖父点击</li><li id="3f40" class="mq mr it ki b kj mz kn na kr nb kv nc kz nd ld mv mw mx my bi translated">单击了父项</li><li id="1ba8" class="mq mr it ki b kj mz kn na kr nb kv nc kz nd ld mv mw mx my bi translated">开始点击</li></ol><p id="40c9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是因为我们将<code class="fe mm mn mo mp b">true</code>传递给了<code class="fe mm mn mo mp b">addEventListener</code>的第三个参数，该参数用于设置<code class="fe mm mn mo mp b">useCapture</code>是否启用。</p><p id="a7fd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第三个参数的默认值是<code class="fe mm mn mo mp b">false</code>，它让事件冒泡而不是被捕获。</p><p id="f848" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">将其设置为<code class="fe mm mn mo mp b">true</code>会将事件更改为在捕获阶段发生，而不是让它冒泡。</p><h1 id="fbcc" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="ef58" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">DOM是API和对象，所有元素都以树的形式表示HTML和XML节点。在浏览器中，我们主要关心的是操纵它在浏览器屏幕上显示内容。</p><p id="7d0f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们通过操纵HTML DOM树来做到这一点。</p><p id="c380" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">事件冒泡是指事件从触发事件的元素开始，然后事件到达父元素、祖父元素等。，一直到<code class="fe mm mn mo mp b">window</code>。</p><p id="4eb3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">事件捕获是指事件从窗口开始，然后到达触发事件的元素，事件到达父元素、祖父元素等。，一直到<code class="fe mm mn mo mp b">window</code>。</p></div></div>    
</body>
</html>