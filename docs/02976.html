<html>
<head>
<title>List of Useful Git Commands</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">有用的Git命令列表</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/list-of-useful-git-commands-c3a514fbc46e?source=collection_archive---------10-----------------------#2020-04-13">https://levelup.gitconnected.com/list-of-useful-git-commands-c3a514fbc46e?source=collection_archive---------10-----------------------#2020-04-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/fea980c2329a1dfb28027185ce846871.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CwSlg4GQDTtVSoAy"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@sgalagaev?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">степангалаааев</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="dab0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Git是世界上最流行的版本控制系统之一。通过让我们与变更历史和恢复代码进行交互，它为我们省去了很多麻烦。</p><p id="b39c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将看到Git可以帮助我们处理一些我们可能忽略的命令的更多方式。</p><h1 id="f997" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">查找分支</h1><p id="a848" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以通过运行<code class="fe mh mi mj mk b">git branch --contains &lt;commit&gt;</code>找到具有给定提交的分支</p><h1 id="8171" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">修改最近的提交</h1><p id="7c56" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以使用<code class="fe mh mi mj mk b">git commit --amend</code>来修改最后一次提交。</p><p id="a067" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这样，我们可以更改提交消息或上次提交的文件。</p><p id="71e3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">或者我们可以添加<code class="fe mh mi mj mk b">--no-edit</code>选项来修改最后一次提交，而不改变最后一次提交消息。</p><h1 id="43fc" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">选择要交互提交的文件</h1><p id="e8a5" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以使用<code class="fe mh mi mj mk b">git add -p</code>命令交互地选择要添加到out commit中的文件。</p><p id="e376" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">-p</code>是<code class="fe mh mi mj mk b">--patch</code>的简称。</p><h1 id="4077" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">选择要交互隐藏的文件</h1><p id="7c1d" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以使用<code class="fe mh mi mj mk b">git statsh -p</code>命令来选择我们想要隐藏的文件。</p><p id="a125" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">同样<code class="fe mh mi mj mk b">-p</code>是<code class="fe mh mi mj mk b">--patch</code>的简称。</p><h1 id="1f4d" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">隐藏未跟踪的文件</h1><p id="779e" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">命令让我们隐藏未被跟踪的文件。还有做同样事情的<code class="fe mh mi mj mk b">-a</code>或<code class="fe mh mi mj mk b">--all</code>选项。</p><h1 id="e0df" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">还原选定的文件</h1><p id="fe6c" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">为了让我们有选择地恢复文件，我们可以使用<code class="fe mh mi mj mk b">git checkout -p</code>命令，也就是<code class="fe mh mi mj mk b">-p</code>代表<code class="fe mh mi mj mk b">--patch</code>，让我们有选择地恢复已经更改的文件。</p><h1 id="5b66" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">切换到上一个分支</h1><p id="3d2d" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以使用<code class="fe mh mi mj mk b">git checkout -</code>命令切换到之前的分支。</p><p id="f467" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">-</code>是上一个分支的别名。</p><h1 id="435c" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">还原所有本地更改</h1><p id="b7b1" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated"><code class="fe mh mi mj mk b">git checkout .</code>命令让我们恢复所有本地更改。</p><h1 id="c94b" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">显示更改</h1><p id="70ce" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以使用<code class="fe mh mi mj mk b">git diff --staged</code>命令来比较阶段化的变更和当前提交的变更。</p><h1 id="e8d4" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">在本地重命名分支</h1><p id="f408" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">要在本地重命名分支，我们可以运行:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="d6cb" class="mt lf it mk b gy mu mv l mw mx">git branch -m old-branch-name new-branch-name</span></pre><p id="2ccf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">将当前分支的名称从<code class="fe mh mi mj mk b">old-branch-name</code>更改为<code class="fe mh mi mj mk b">new-branch-name</code>。</p><h1 id="ba53" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">远程重命名分支</h1><p id="bc8b" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以通过运行以下命令来重命名重命名远程分支:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="3e73" class="mt lf it mk b gy mu mv l mw mx">git push origin :old-branch-name<br/>git push origin new-branch-name</span></pre><p id="3032" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第一个命令删除带有<code class="fe mh mi mj mk b">old-branch-name</code>的旧分支，第二个命令将带有<code class="fe mh mi mj mk b">new-branch-name</code>的新分支推送到我们的远程Git服务器。</p><h1 id="4501" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">一次打开所有有冲突的文件</h1><p id="b8fd" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以通过运行以下命令打开所有有冲突的文件:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="2698" class="mt lf it mk b gy mu mv l mw mx">git diff --name-only --diff-filter=U | uniq  | xargs $EDITOR</span></pre><p id="8436" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">— diff-filter=U</code>过滤掉所有没有冲突的文件。</p><h1 id="b664" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">查找从给定日期开始发生更改的文件</h1><p id="8fcc" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">Git有一个<code class="fe mh mi mj mk b">whatchanged</code>命令，让我们找到给定时期的文件。我们可以通过键入以下命令来运行它:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="3aa1" class="mt lf it mk b gy mu mv l mw mx">git whatchanged —-since=‘3 weeks ago’</span></pre><p id="55bb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后Git将向我们显示自3周前以来更改过的所有文件。</p><h1 id="e92b" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">从上次提交中删除文件</h1><p id="9a8b" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以使用<code class="fe mh mi mj mk b">rm</code>命令删除旧文件，然后运行<code class="fe mh mi mj mk b">git commit --amend</code>修改最后一次提交来删除文件。</p><p id="c077" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以我们跑:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="0a3f" class="mt lf it mk b gy mu mv l mw mx">git rm —-cached file-to-remove<br/>git commit —-amend</span></pre><p id="1916" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一个接一个地删除文件<code class="fe mh mi mj mk b">file-to-remove</code>，然后运行<code class="fe mh mi mj mk b">git commit —-amend</code>修改最后一次提交，从提交中删除文件。</p><h1 id="120d" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">用远程覆盖本地</h1><p id="d954" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以使用<code class="fe mh mi mj mk b">git reset --hard origin/&lt;branch_name&gt;</code>用远程存储库中的文件覆盖本地文件。</p><p id="32e0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将把历史记录重置为远程存储库中的内容。</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/205673a3232c4d7c36d121bd06807c15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*W2XToHGtPEdqRhfg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@mael_bld?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Mael BALLAND </a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="e57c" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">删除所有未跟踪的文件</h1><p id="fe2e" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以运行<code class="fe mh mi mj mk b">git clean -d -n</code>来做一次演习，看看哪些文件将被删除，如果我们对更改满意的话，可以运行<code class="fe mh mi mj mk b">git clean -d -f</code>来进行删除。</p><h1 id="169f" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">存储更改</h1><p id="f3e4" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">如果我们从一个远程存储库中提取变更，而它与我们在本地存储库中的内容冲突，我们就会隐藏变更。</p><p id="986c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">隐藏是临时存储修改过的跟踪文件。</p><p id="dc4b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了保存更改，我们运行<code class="fe mh mi mj mk b">git stash save</code>。然后，一旦我们完成了远程提取，我们就可以运行<code class="fe mh mi mj mk b">git stash pop</code>来恢复隐藏的更改。</p><h1 id="4f54" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="a2df" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">有很多我们可能没有用过的命令可以使用。因此，这些将有助于改善我们的Git工作流程。</p></div></div>    
</body>
</html>