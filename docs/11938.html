<html>
<head>
<title>How to Link a Java Function in a Controller Class to a Button or TextField in an FXML File</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将控制器类中的Java函数链接到FXML文件中的按钮或文本字段</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-link-a-java-function-in-a-controller-class-to-a-button-or-textfield-in-an-fxml-file-774266c531aa?source=collection_archive---------5-----------------------#2022-05-01">https://levelup.gitconnected.com/how-to-link-a-java-function-in-a-controller-class-to-a-button-or-textfield-in-an-fxml-file-774266c531aa?source=collection_archive---------5-----------------------#2022-05-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="abf6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">当用户单击按钮或编辑GUI中的文本字段时，让控制器“做事情”</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/b2aa8a181cfa73dd084d422827ca6830.png" data-original-src="https://miro.medium.com/v2/resize:fit:616/format:webp/1*XLmRT9eRpmYAgemzsJOIew.png"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk translated">用fxml制作的登录表单示例</figcaption></figure><p id="421a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这假设您已经将fxml文件链接到控制器类文件。如果您还没有这样做，请查看我的另一个教程:<a class="ae lq" href="https://ashley-tharp.medium.com/how-to-link-a-fxml-file-to-a-java-controller-class-a92d2a9d07d1" rel="noopener">如何将. fxml文件链接到Java控制器类</a></p><p id="4c35" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">假设您的fxml类中有以下节点:</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="fbf6" class="lw lx it ls b gy ly lz l ma mb">&lt;Button fx:id="saveBtn" mnemonicParsing="false" text="Save" translateX="50"/&gt;</span></pre><p id="210a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在Java控制器类中，有这样一个函数:</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="aa95" class="lw lx it ls b gy ly lz l ma mb">public void savePart(ActionEvent actionEvent) throws IOException {<br/>    System.<em class="mc">out</em>.println("savePart()");<br/>}</span></pre><p id="7342" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">将属性“onAction”添加到fxml文件中的节点，以将两者链接在一起:</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="4232" class="lw lx it ls b gy ly lz l ma mb">&lt;Button fx:id="saveBtn" mnemonicParsing="false" text="Save" <strong class="ls iu">onAction="#savePart"</strong> translateX="50"/&gt;</span></pre><p id="0450" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">注意上面onAction属性是如何设置为“#savePart”的，函数名也是完全相同的“savePart”。</p><p id="0ebc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">它们必须完全相同，这样您的链接才能正常工作。</p><p id="46cf" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">测试并确保当您单击按钮并设置好之后，可以看到控制台输出。</p><p id="e901" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">下面是上面的screencap中显示的简单登录表单GUI的完整源代码:</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="c27c" class="lw lx it ls b gy ly lz l ma mb">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span id="aa2c" class="lw lx it ls b gy md lz l ma mb">&lt;?import javafx.scene.control.Button?&gt;<br/>&lt;?import javafx.scene.control.Label?&gt;<br/>&lt;?import javafx.scene.control.TextField?&gt;<br/>&lt;?import javafx.scene.layout.Pane?&gt;</span><span id="470c" class="lw lx it ls b gy md lz l ma mb">&lt;Pane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="150.0" prefWidth="200.0"  xmlns:fx="http://javafx.com/fxml/1" <strong class="ls iu">fx:controller="controller.LoginFormController"</strong>&gt;<br/>    &lt;children&gt;<br/>        &lt;Label fx:id="userNameWarningLabel" layoutX="25.0" layoutY="15.0" text=""/&gt;<br/>        &lt;TextField fx:id="userNameTextField" layoutX="20.0" layoutY="32.0" promptText="username" /&gt;<br/>        &lt;Label fx:id="passWordWarningLabel" layoutX="25.0" layoutY="58.0" text="" /&gt;<br/>        &lt;TextField fx:id="passWordTextField" layoutX="20.0" layoutY="75.0" promptText="password" /&gt;<br/>        &lt;Button <strong class="ls iu">fx:id="loginButton"</strong> layoutX="73.0" layoutY="110.0" mnemonicParsing="false" <strong class="ls iu">onAction="#checkLoginInfo"</strong> text="Log In" /&gt;<br/>    &lt;/children&gt;<br/>&lt;/Pane&gt;</span></pre><p id="ae47" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于控制器类，重要的是FXML文件在根节点中用“fx:controller”属性链接到它，并且它实现Initializable。</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="8f72" class="lw lx it ls b gy ly lz l ma mb">public class LoginFormController implements Initializable  {</span><span id="175f" class="lw lx it ls b gy md lz l ma mb">}</span></pre><p id="8b9c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">但是，我将在这里显示，我在控制器类中有与FXML文件中的对象id相匹配的属性，如下所示:</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="3b40" class="lw lx it ls b gy ly lz l ma mb">public class LoginFormController implements Initializable  {</span><span id="675e" class="lw lx it ls b gy md lz l ma mb">public Label userNameWarningLabel;<br/>   public TextField userNameTextField;</span><span id="8478" class="lw lx it ls b gy md lz l ma mb">   public Label passWordWarningLabel;<br/>   public TextField passWordTextField;<br/>   public Button loginButton;</span><span id="a760" class="lw lx it ls b gy md lz l ma mb">}</span></pre><p id="5008" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">添加您的初始化函数:</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="3126" class="lw lx it ls b gy ly lz l ma mb">@Override<br/>public void initialize(URL url, ResourceBundle resourceBundle) {<br/>    userNameTextField.setPromptText("username");<br/>    passWordTextField.setPromptText("password");<br/>    System.<em class="mc">out</em>.println("Initialized");<br/>}</span></pre><p id="f443" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">剩下的就看你自己了，但是这里有一个模板可以作为开始:</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="086f" class="lw lx it ls b gy ly lz l ma mb">public class LoginFormController implements Initializable  {</span><span id="7f9b" class="lw lx it ls b gy md lz l ma mb">public Label userNameWarningLabel;<br/>   public TextField userNameTextField;</span><span id="3dd0" class="lw lx it ls b gy md lz l ma mb">   public Label passWordWarningLabel;<br/>   public TextField passWordTextField;<br/>   public Button loginButton;</span><span id="13a9" class="lw lx it ls b gy md lz l ma mb">@Override<br/>   public void initialize(URL url, ResourceBundle resourceBundle) {<br/>       userNameTextField.setPromptText("username");<br/>       passWordTextField.setPromptText("password");<br/>       System.<em class="mc">out</em>.println("Initialized");<br/>   }</span><span id="4fa0" class="lw lx it ls b gy md lz l ma mb">}</span></pre></div></div>    
</body>
</html>