<html>
<head>
<title>Adding animations to your Android application using the Lottie library</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Lottie库向您的Android应用程序添加动画</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/adding-animations-to-your-android-application-using-lottie-library-fa2d7197e23b?source=collection_archive---------4-----------------------#2020-08-08">https://levelup.gitconnected.com/adding-animations-to-your-android-application-using-lottie-library-fa2d7197e23b?source=collection_archive---------4-----------------------#2020-08-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/b65d7be55352119d393930096d97b4f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*5ir9FUuew5S30oLH745ojA.gif"/></div></figure><p id="51ee" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">与静态文本或图片相比，将动画添加到您的android应用程序中会使其更加有趣。最简单的方法是使用airbnb的第三方图书馆<a class="ae ks" href="https://github.com/airbnb/lottie-android" rel="noopener ugc nofollow" target="_blank">洛蒂</a>。</p><blockquote class="kt"><p id="9b84" class="ku kv iq bd kw kx ky kz la lb lc kr dk translated">最好的部分是你可以使用动画，而不必写一行代码。</p></blockquote><p id="25b0" class="pw-post-body-paragraph ju jv iq jw b jx ld jz ka kb le kd ke kf lf kh ki kj lg kl km kn lh kp kq kr ij bi translated">为了简洁起见，我们将使用在<a class="ae ks" href="https://lottiefiles.com/popular" rel="noopener ugc nofollow" target="_blank">lottiefiles.com</a>上可用的现成动画。或者，您也可以使用Adobe after effects构建自己的自定义动画，并在您的应用程序中使用它们。(在<a class="ae ks" href="https://github.com/Shivamdhuria/flows_guide/tree/master" rel="noopener ugc nofollow" target="_blank">这里</a>看它的作用)</p><h1 id="8dce" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">让我们开始吧🏁</h1><p id="f2aa" class="pw-post-body-paragraph ju jv iq jw b jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn mk kp kq kr ij bi translated">让我们从从<a class="ae ks" href="https://lottiefiles.com/popular" rel="noopener ugc nofollow" target="_blank"> LottieFiles </a>下载你的项目需要的所有动画文件开始。对于本指南，我将使用总共三个动画文件</p><h1 id="6f12" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">闪屏</h1><p id="f2f8" class="pw-post-body-paragraph ju jv iq jw b jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn mk kp kq kr ij bi translated">当用户打开应用程序时，这将显示短暂的2秒钟。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/bccd36f58592c702ae9738b0888df2fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/1*PdUWOOMJVS2obQm5ejzIDQ.gif"/></div></figure><h1 id="6840" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">网络错误</h1><p id="95d1" class="pw-post-body-paragraph ju jv iq jw b jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn mk kp kq kr ij bi translated">当用户点击“加载更多”并出现网络错误时，显示在回收列表下方。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/bc7781e2bacb2ae875e8f9e7577c559f.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/1*jkb9mpt-YzX-1mbxaeEHaA.gif"/></div></figure><h1 id="0a07" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">正在加载…</h1><p id="d1d2" class="pw-post-body-paragraph ju jv iq jw b jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn mk kp kq kr ij bi translated">当用户点击“加载更多”按钮时，显示在回收器列表下方。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/e85ce3c225517bb59fae78fb9af8573d.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/1*NWDgcxrRttyXwMbd4bH3hw.gif"/></div></figure><p id="f97f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在<a class="ae ks" href="https://lottiefiles.com/" rel="noopener ugc nofollow" target="_blank">网站</a>上找到你想要使用的动画文件，下载<strong class="jw ir">洛蒂Json </strong>格式的动画文件。复制并粘贴到<em class="mq"> res &gt; raw </em>文件夹中。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="gh gi mr"><img src="../Images/db436bdc5ab95137970029c936d1e586.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-64Q04xX4B-FRFXjmotLag.png"/></div></div></figure><h1 id="7fba" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated"><strong class="ak">给Splash活动添加动画</strong></h1><p id="f967" class="pw-post-body-paragraph ju jv iq jw b jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn mk kp kq kr ij bi translated">要向splash活动添加动画，请转到<strong class="jw ir"> activity_splast.xml </strong>文件并添加</p><figure class="mm mn mo mp gt jr"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="ebcf" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">使用<code class="fe my mz na nb b">app:lottie_rawRes</code>属性设置文件的位置。我还用<code class="fe my mz na nb b">app:lottie_scale</code>把它缩小到0.2，用<code class="fe my mz na nb b">app:lottie_speed</code>把动画速度提高到3。</p><h1 id="c7f9" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">为加载和网络错误添加动画</h1><figure class="mm mn mo mp gt jr"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="f715" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我将<em class="mq"> LottieAnimationView </em>添加到<em class="mq">recycle view的正下方。</em></p><p id="3a7c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在在MainActivity中，我观察api请求并根据返回的结果更新动画。</p><figure class="mm mn mo mp gt jr"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="da98" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><code class="fe my mz na nb b">showAnimation(animationResource: Int)</code>函数使<strong class="jw ir">LottieAnimationView</strong><em class="mq">可见</em>，将资源值设置为传递的animationResource，播放动画并滚动到底部。当Api请求返回成功时，我还隐藏了<strong class="jw ir"> LottieAnimationView </strong>。</p><h1 id="25d4" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">就是这样！✅</h1><p id="5f3a" class="pw-post-body-paragraph ju jv iq jw b jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn mk kp kq kr ij bi translated">你应该会得到这样的结果。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="gh gi nc"><img src="../Images/77723381b13482db429ae1dc9fe616a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:850/1*DDa8OunbyL4JtwzRavsTpw.gif"/></div></div></figure><div class="nd ne gp gr nf ng"><a href="https://github.com/Shivamdhuria/flows_guide/tree/add_animation_final" rel="noopener  ugc nofollow" target="_blank"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd ir gy z fp nl fr fs nm fu fw ip bi translated">shivamdhuria/flow _ guide</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">这是一个android应用程序，我将尝试实现最新和最棒的媒体链接…</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">github.com</p></div></div><div class="np l"><div class="nq l nr ns nt np nu js ng"/></div></div></a></div></div></div>    
</body>
</html>