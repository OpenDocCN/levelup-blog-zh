<html>
<head>
<title>Product of Array Except Self Blind 75 LeetCode Questions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">除自身盲75个LeetCode问题之外的阵列乘积</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/product-of-array-except-self-blind-75-leetcode-questions-4302888cd695?source=collection_archive---------0-----------------------#2022-08-01">https://levelup.gitconnected.com/product-of-array-except-self-blind-75-leetcode-questions-4302888cd695?source=collection_archive---------0-----------------------#2022-08-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/8f9ebee618d1b02264d20485c7cf1426.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JHkLaEiVHIxSb7HR"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">克里斯·利维拉尼在<a class="ae kc" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h2 id="d135" class="kd ke iq bd kf kg kh dn ki kj kk dp kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">任务描述:</h2><p id="234a" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj km lk ll lm kq ln lo lp ku lq lr ls lt ij bi translated"><code class="fe lu lv lw lx b">nums</code>的任何前缀或后缀的乘积<strong class="lb ir">保证</strong>适合一个<strong class="lb ir"> 32位</strong>整数。</p><p id="8b25" class="pw-post-body-paragraph kz la iq lb b lc ly le lf lg lz li lj km ma ll lm kq mb lo lp ku mc lr ls lt ij bi translated">您必须编写一个在<code class="fe lu lv lw lx b">O(n)</code>时间内运行且不使用除法运算的算法。</p><p id="0891" class="pw-post-body-paragraph kz la iq lb b lc ly le lf lg lz li lj km ma ll lm kq mb lo lp ku mc lr ls lt ij bi translated"><strong class="lb ir">例1: </strong></p><pre class="md me mf mg gt mh lx mi mj aw mk bi"><span id="55f4" class="kd ke iq lx b gy ml mm l mn mo"><strong class="lx ir">Input:</strong> nums = [1,2,3,4]<br/><strong class="lx ir">Output:</strong> [24,12,8,6]</span></pre><p id="ece3" class="pw-post-body-paragraph kz la iq lb b lc ly le lf lg lz li lj km ma ll lm kq mb lo lp ku mc lr ls lt ij bi translated"><strong class="lb ir">例2: </strong></p><pre class="md me mf mg gt mh lx mi mj aw mk bi"><span id="72d1" class="kd ke iq lx b gy ml mm l mn mo"><strong class="lx ir">Input:</strong> nums = [-1,1,0,-3,3]<br/><strong class="lx ir">Output:</strong> [0,0,9,0,0]</span></pre><p id="a8da" class="pw-post-body-paragraph kz la iq lb b lc ly le lf lg lz li lj km ma ll lm kq mb lo lp ku mc lr ls lt ij bi translated"><strong class="lb ir">约束:</strong></p><ul class=""><li id="5f9b" class="mp mq iq lb b lc ly lg lz km mr kq ms ku mt lt mu mv mw mx bi translated"><code class="fe lu lv lw lx b">2 &lt;= nums.length &lt;= 105</code></li><li id="d97e" class="mp mq iq lb b lc my lg mz km na kq nb ku nc lt mu mv mw mx bi translated"><code class="fe lu lv lw lx b">-30 &lt;= nums[i] &lt;= 30</code></li><li id="158e" class="mp mq iq lb b lc my lg mz km na kq nb ku nc lt mu mv mw mx bi translated"><code class="fe lu lv lw lx b">nums</code>的任何前缀或后缀的乘积<strong class="lb ir">保证</strong>适合一个<strong class="lb ir"> 32位</strong>整数。</li></ul><p id="0aec" class="pw-post-body-paragraph kz la iq lb b lc ly le lf lg lz li lj km ma ll lm kq mb lo lp ku mc lr ls lt ij bi translated"><strong class="lb ir">跟进:</strong>能否解决<code class="fe lu lv lw lx b">O(1)</code>额外空间复杂度中的问题？(输出数组<strong class="lb ir">不</strong>算作空间复杂度分析的额外空间。)</p></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h2 id="ce85" class="kd ke iq bd kf kg kh dn ki kj kk dp kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">推理:</h2><p id="59a7" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj km lk ll lm kq ln lo lp ku lq lr ls lt ij bi translated">这是一个有趣的算法任务。对于给定数组中的每个索引，我们需要找到数组中除当前位置元素之外的所有元素的乘积。让我们考虑一下给出的例子:</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/4de7661fc89d22afd2551dbed4a6ef46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/1*J1PYWHSsCLz6SHO_71p01g.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">获取索引= 0的结果</figcaption></figure><figure class="md me mf mg gt jr gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/43ff3e3f2d8e76ff68dcc509f9939f57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/format:webp/1*Dg7RvksXLQW2qQxoJGgcmg.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">获取索引= 1的结果</figcaption></figure><figure class="md me mf mg gt jr gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/421bf7db77aee0f230195e56b6a4bfb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1104/format:webp/1*CsDaFsg9NIRIiB4OFaYmyg.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">获取索引= 2的结果</figcaption></figure><figure class="md me mf mg gt jr gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/c934d2fb1c3824eac087844224227901.png" data-original-src="https://miro.medium.com/v2/resize:fit:1146/format:webp/1*mTeSVsdJvUp0gGqQCj2Uog.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">获取索引= 3的结果</figcaption></figure><p id="0a0b" class="pw-post-body-paragraph kz la iq lb b lc ly le lf lg lz li lj km ma ll lm kq mb lo lp ku mc lr ls lt ij bi translated">我想通过看上面的例子，你已经明白了主要意思。一个直接的想法会出现在你的脑海中，“让我们把数组中的所有元素相乘，我们可以用它除以每个位置的元素，它会给我们正确的结果”。这是正确的思考方式，它确实给了我们正确的结果，但是问题陈述说我们不能使用除法运算。</p><p id="b318" class="pw-post-body-paragraph kz la iq lb b lc ly le lf lg lz li lj km ma ll lm kq mb lo lp ku mc lr ls lt ij bi translated">我们继续头脑风暴吧。另一个想法是使用类似于<a class="ae kc" href="https://leetcode.com/problems/running-sum-of-1d-array/" rel="noopener ugc nofollow" target="_blank">运行求和数组</a>的东西。让我们创建另外两个数组，leftToRigh和rightToLeft。对于leftToRigh数组，我们将从index = 1开始迭代，直到数组结束，并将每个index处的值设置为当前元素与前一个值的乘积。</p><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="no np l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">左向右数组的构造</figcaption></figure><p id="bf63" class="pw-post-body-paragraph kz la iq lb b lc ly le lf lg lz li lj km ma ll lm kq mb lo lp ku mc lr ls lt ij bi translated">如果我们有[1，2，3，4]的输入，那么上面的代码给我们[1，2，6，24]</p><p id="b4a8" class="pw-post-body-paragraph kz la iq lb b lc ly le lf lg lz li lj km ma ll lm kq mb lo lp ku mc lr ls lt ij bi translated">对于rightToLeftarray，我们将从index = array.length — 2开始迭代，直到数组的开头，并将每个索引处的值设置为当前元素与前一个值的乘积。</p><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="no np l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">rightToLeft数组的构造</figcaption></figure><p id="fed5" class="pw-post-body-paragraph kz la iq lb b lc ly le lf lg lz li lj km ma ll lm kq mb lo lp ku mc lr ls lt ij bi translated">如果我们有[1，2，3，4]的输入，那么上面的代码给我们[24，24，12，4]</p><p id="6af3" class="pw-post-body-paragraph kz la iq lb b lc ly le lf lg lz li lj km ma ll lm kq mb lo lp ku mc lr ls lt ij bi translated">现在有了这些数组，我们可以通过迭代每个索引并将leftToRigh和rightToLeft的值相乘来简单地计算除当前元素之外的数组的乘积。这里有一个例子可以帮助你理解实际的逻辑。</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nq"><img src="../Images/0324e40ef38d419c6141364e8dd854f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NkjUDPqD2XP0vbPN_dHu6g.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">索引= 0的计算结果</figcaption></figure><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nr"><img src="../Images/257cb3cde4650e00241f064210c84170.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g7iSMlhJyR8UIKr0U0lHUg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">索引= 1的计算结果</figcaption></figure><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ns"><img src="../Images/bdff15a6cdaa7f103513a0cb06b17ae7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TgdPmucSMt_yPvd2SjbD8w.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">索引= 2的计算结果</figcaption></figure><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nt"><img src="../Images/1dcb5a32d27aba4828b93c36f950dfd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J11MTw7kk2_EvG_JgS5EiA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">索引= 3的计算结果</figcaption></figure><p id="7d9d" class="pw-post-body-paragraph kz la iq lb b lc ly le lf lg lz li lj km ma ll lm kq mb lo lp ku mc lr ls lt ij bi translated">如果你很难理解其中的逻辑，试着再看一遍上面的图片。</p><p id="2d2f" class="pw-post-body-paragraph kz la iq lb b lc ly le lf lg lz li lj km ma ll lm kq mb lo lp ku mc lr ls lt ij bi translated">让我们看看我们的解决方案:</p><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="5087" class="pw-post-body-paragraph kz la iq lb b lc ly le lf lg lz li lj km ma ll lm kq mb lo lp ku mc lr ls lt ij bi translated">这很有效，给了我们很好的结果</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/5e1deb72a4cf224d52106f34766ff6c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*VWs3zGRwFMKzQnNFt9xzEA.png"/></div></figure><p id="87f7" class="pw-post-body-paragraph kz la iq lb b lc ly le lf lg lz li lj km ma ll lm kq mb lo lp ku mc lr ls lt ij bi translated">酪让我们再看一遍任务描述。在最底部，我们有一个后续问题——使用常数空间解决问题。这里我们使用了两个辅助数组。</p></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h2 id="f551" class="kd ke iq bd kf kg kh dn ki kj kk dp kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">解决方案:</h2><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="no np l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">使用常数O(1)空间的解</figcaption></figure><p id="02a4" class="pw-post-body-paragraph kz la iq lb b lc ly le lf lg lz li lj km ma ll lm kq mb lo lp ku mc lr ls lt ij bi translated">如果你仔细阅读描述，你可能会注意到输出数组不算额外的空间，这是一个诡计。有了输入数组和输出数组，我们仍然有2个数组，如我们在以前的解决方案中使用的leftToRight和rightToLeft。我们只需要稍微调整一下我们的逻辑。</p><p id="afe8" class="pw-post-body-paragraph kz la iq lb b lc ly le lf lg lz li lj km ma ll lm kq mb lo lp ku mc lr ls lt ij bi translated">上面的代码给出了几乎相同的结果，但是使用了常数空间O(1)。</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/d05e2560bfd9f1df37d25960c3a1dfe5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*Tdd46pkIIRfg7-NNofoZLQ.png"/></div></figure><p id="195f" class="pw-post-body-paragraph kz la iq lb b lc ly le lf lg lz li lj km ma ll lm kq mb lo lp ku mc lr ls lt ij bi translated">让我知道你的想法。我的文章里见！</p></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="8557" class="nw ke iq bd kf nx ny nz ki oa ob oc kl od oe of kp og oh oi kt oj ok ol kx om bi translated">分级编码</h1><p id="336b" class="pw-post-body-paragraph kz la iq lb b lc ld le lf lg lh li lj km lk ll lm kq ln lo lp ku lq lr ls lt ij bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="c95d" class="mp mq iq lb b lc ly lg lz km mr kq ms ku mt lt mu mv mw mx bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="d6a5" class="mp mq iq lb b lc my lg mz km na kq nb ku nc lt mu mv mw mx bi translated">📰查看<a class="ae kc" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">级编码出版物</a>中的更多内容</li><li id="f6c4" class="mp mq iq lb b lc my lg mz km na kq nb ku nc lt mu mv mw mx bi translated">🔔关注我们:<a class="ae kc" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">推特</a> | <a class="ae kc" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a> | <a class="ae kc" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="fcd4" class="pw-post-body-paragraph kz la iq lb b lc ly le lf lg lz li lj km ma ll lm kq mb lo lp ku mc lr ls lt ij bi translated">🚀👉<a class="ae kc" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="lb ir">加入升级人才集体，找到一份惊艳的工作</strong> </a></p></div></div>    
</body>
</html>