<html>
<head>
<title>Create a React component library with TypeScript and Storybook</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ç”¨ç±»å‹è„šæœ¬å’Œæ•…äº‹ä¹¦åˆ›å»ºä¸€ä¸ªReactç»„ä»¶åº“</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/create-a-react-component-library-with-typescript-and-storybook-ed28fc7511f2?source=collection_archive---------0-----------------------#2019-12-24">https://levelup.gitconnected.com/create-a-react-component-library-with-typescript-and-storybook-ed28fc7511f2?source=collection_archive---------0-----------------------#2019-12-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/a394a5049a82007531767acee1ff1225.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fcVDMhspDnhR2-eHBauDbQ.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">ç…§ç‰‡ç”±<a class="ae kf" href="https://www.pexels.com/@mccutcheon?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">èä¼¦Â·éº¦å¡ç´</a>ä»<a class="ae kf" href="https://www.pexels.com/photo/art-materials-art-supplies-blocks-blur-1148496/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>æ‹æ‘„</figcaption></figure><p id="e690" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä»£ç çš„å¯é‡ç”¨æ€§å¾ˆé‡è¦ï¼Œè€Œç»„ä»¶çš„å¯é‡ç”¨æ€§åœ¨ç”¨æˆ·ç•Œé¢å¼€å‘ä¸­éå¸¸é‡è¦ã€‚ç”¨æˆ·å¯¹ç”¨æˆ·ç•Œé¢çš„å˜åŒ–éå¸¸æ•æ„Ÿã€‚è·¨åº”ç”¨ç¨‹åºé‡ç”¨ç»„ä»¶ä¼šç»™å®ƒä»¬å¸¦æ¥æ›´å¥½çš„æ•´ä½“ä½“éªŒã€‚</p><p id="094b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ‚¨ä¸ä¸€å®šéœ€è¦TypeScriptæ¥åˆ›å»ºReactç»„ä»¶åº“ï¼Œä½†æ˜¯æ·»åŠ å®ƒå°†ä½¿æ‚¨çš„åº“æ›´åŠ å¥å£®ï¼Œå¹¶ä¸”æ‹¥æœ‰ç±»å‹å®šä¹‰è‚¯å®šä¼šæé«˜å¯é‡ç”¨æ€§å› ç´ å’Œå¼€å‘äººå‘˜ä½“éªŒã€‚æ­¤å¤–ï¼Œæ‚¨çš„åº“ç”¨æˆ·å°†æ›´å®¹æ˜“å°†å®ƒé›†æˆåˆ°ä»–ä»¬çš„åº”ç”¨ç¨‹åºä¸­ã€‚</p><h1 id="e109" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">èµ·å§‹åŸºåœ°</h1><p id="dc15" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">ç»„ä»¶åº“å°±åƒä»»ä½•å…¶ä»–çš„NPMæ¨¡å—ã€‚æˆ‘ä»¬å¯ä»¥ä»å¸¸è§„çš„æ‰“å­—ç¨¿NPMæ¨¡å—å¼€å§‹ã€‚(<a class="ae kf" rel="noopener ugc nofollow" target="_blank" href="/create-a-npm-module-with-typescript-c99bd0686f69?source=friends_link&amp;sk=c10eeafdb7f21d713245be87b30e35b6">åƒè¿™æ ·&gt; </a>)</p><p id="44b7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ ¹æ®ä¸Šä¸€ç¯‡æ–‡ç« ï¼Œæˆ‘å°†é‡æ–°åˆ›å»ºè¿™äº›æ­¥éª¤:</p><ul class=""><li id="4b54" class="mh mi it ki b kj kk kn ko kr mj kv mk kz ml ld mm mn mo mp bi translated">åˆ›å»ºæ–‡ä»¶å¤¹:<code class="fe mq mr ms mt b">my-components</code></li><li id="de89" class="mh mi it ki b kj mu kn mv kr mw kv mx kz my ld mm mn mo mp bi translated">åˆ›å»º<code class="fe mq mr ms mt b">package.json</code>:</li></ul><pre class="mz na nb nc gt nd mt ne nf aw ng bi"><span id="7761" class="nh lf it mt b gy ni nj l nk nl">$ mkdir my-components<br/>$ cd my-components<br/>$ echo '{<br/>  "name": "my-components",<br/>  "version": "1.0.0",<br/>  "description": "",<br/>  "main": "build/index.js",<br/>  "module": "build/index.es.js",<br/>  "jsnext:main": "build/index.es.js",<br/>  "scripts": {<br/>    "build": "rollup -c", <br/>    "lint": "standard",<br/>    "format": "prettier-standard --format",<br/>    "test": "jest --coverage"<br/>  },<br/>  "keywords": [],<br/>  "author": "",<br/>  "license": "ISC",<br/>  "devDependencies": {<br/>    "@types/jest": "^24.0.24",<br/>    "jest": "^24.9.0",<br/>    "rollup": "^1.27.13",<br/>    "rollup-plugin-commonjs": "^10.1.0",<br/>    "rollup-plugin-node-resolve": "^5.2.0",<br/>    "rollup-plugin-peer-deps-external": "^2.2.0",<br/>    "rollup-plugin-typescript2": "^0.25.3",<br/>    "standard": "^14.3.1",<br/>    "standard-prettier": "^1.0.1",<br/>    "ts-jest": "^24.2.0",<br/>    "typescript": "^3.7.3"<br/>  },<br/>  "jest": {<br/>    "preset": "ts-jest",<br/>    "testEnvironment": "node"<br/>  },<br/>  "standard": {<br/>    "ignore": [<br/>      "node_modules/",<br/>      "build/"<br/>    ]<br/>  }<br/>}' &gt; package.json</span></pre><ul class=""><li id="701e" class="mh mi it ki b kj kk kn ko kr mj kv mk kz ml ld mm mn mo mp bi translated">å®‰è£…ä¾èµ–é¡¹</li></ul><pre class="mz na nb nc gt nd mt ne nf aw ng bi"><span id="6db2" class="nh lf it mt b gy ni nj l nk nl">$ yarn install<br/>[1/4] ğŸ”  Resolving packages...</span><span id="42b7" class="nh lf it mt b gy nm nj l nk nl">...</span><span id="96b6" class="nh lf it mt b gy nm nj l nk nl">âœ¨  Done in 19.03s.</span></pre><ul class=""><li id="3437" class="mh mi it ki b kj kk kn ko kr mj kv mk kz ml ld mm mn mo mp bi translated">æ·»åŠ <code class="fe mq mr ms mt b">tsconfig.json</code>æ–‡ä»¶:</li></ul><pre class="mz na nb nc gt nd mt ne nf aw ng bi"><span id="b923" class="nh lf it mt b gy ni nj l nk nl">$ echo '{<br/>  "compilerOptions": {<br/>    "outDir": "build",<br/>    "module": "esnext",<br/>    "target": "es5",<br/>    "lib": ["es6", "dom", "es2016", "es2017"],<br/>    "sourceMap": true,<br/>    "allowJs": false,<br/>    "declaration": true, <br/>    "moduleResolution": "node",<br/>    "forceConsistentCasingInFileNames": true,<br/>    "noImplicitReturns": true,<br/>    "noImplicitThis": true,<br/>    "noImplicitAny": true,<br/>    "strictNullChecks": true,<br/>    "suppressImplicitAnyIndexErrors": true,<br/>    "noUnusedLocals": true,<br/>    "noUnusedParameters": true,<br/>    "esModuleInterop": true<br/>  },<br/>  "include": ["src"],<br/>  "exclude": ["node_modules", "build"]<br/>}' &gt; tsconfig.json</span></pre><ul class=""><li id="a798" class="mh mi it ki b kj kk kn ko kr mj kv mk kz ml ld mm mn mo mp bi translated">æ·»åŠ <code class="fe mq mr ms mt b">rollup.config.js</code>æ–‡ä»¶:</li></ul><pre class="mz na nb nc gt nd mt ne nf aw ng bi"><span id="6ce0" class="nh lf it mt b gy ni nj l nk nl">$ echo "import typescript from 'rollup-plugin-typescript2'<br/>import commonjs from 'rollup-plugin-commonjs'<br/>import external from 'rollup-plugin-peer-deps-external'<br/>import resolve from 'rollup-plugin-node-resolve'<br/><br/>import pkg from './package.json'<br/><br/>export default {<br/>  input: 'src/index.ts',<br/>  output: [<br/>    {<br/>      file: pkg.main,<br/>      format: 'cjs',<br/>      exports: 'named',<br/>      sourcemap: true<br/>    },<br/>    {<br/>      file: pkg.module,<br/>      format: 'es',<br/>      exports: 'named',<br/>      sourcemap: true<br/>    }<br/>  ],<br/>  plugins: [<br/>    external(),<br/>    resolve(),<br/>    typescript({<br/>      rollupCommonJSResolveHack: true,<br/>      exclude: [<br/>        '**/__tests__/**'<br/>      ],<br/>      clean: true<br/>    }),<br/>    commonjs({<br/>      include: ['node_modules/**']<br/>    })<br/>  ]<br/>}" &gt; rollup.config.js</span></pre><ul class=""><li id="2c56" class="mh mi it ki b kj kk kn ko kr mj kv mk kz ml ld mm mn mo mp bi translated">æ·»åŠ ä¸€ä¸ª<code class="fe mq mr ms mt b">.prettierignore</code>æ–‡ä»¶:</li></ul><pre class="mz na nb nc gt nd mt ne nf aw ng bi"><span id="1677" class="nh lf it mt b gy ni nj l nk nl">echo 'build/' &gt; .prettierignore</span></pre><ul class=""><li id="c292" class="mh mi it ki b kj kk kn ko kr mj kv mk kz ml ld mm mn mo mp bi translated">åˆ›å»º<code class="fe mq mr ms mt b">src/</code>æ–‡ä»¶å¤¹å’Œä¸€ä¸ª<code class="fe mq mr ms mt b">src/index.ts</code>æ–‡ä»¶:</li></ul><pre class="mz na nb nc gt nd mt ne nf aw ng bi"><span id="9503" class="nh lf it mt b gy ni nj l nk nl">$ mkdir src<br/>$ echo "export function sum (a: number, b: number): number { return a + b }" &gt; src/index.ts</span></pre><ul class=""><li id="5677" class="mh mi it ki b kj kk kn ko kr mj kv mk kz ml ld mm mn mo mp bi translated">æ„å»ºåº”è¯¥åœ¨è¿™ä¸€ç‚¹ä¸Šå·¥ä½œ:</li></ul><pre class="mz na nb nc gt nd mt ne nf aw ng bi"><span id="1ef2" class="nh lf it mt b gy ni nj l nk nl">$ yarn build<br/>yarn run v1.17.3<br/>$ rollup -c</span><span id="8d56" class="nh lf it mt b gy nm nj l nk nl">src/index.ts â†’ build/index.js, build/index.es.js...<br/>created build/index.js, build/index.es.js in 995ms<br/>âœ¨  Done in 1.46s.</span></pre><ul class=""><li id="a4b1" class="mh mi it ki b kj kk kn ko kr mj kv mk kz ml ld mm mn mo mp bi translated">åˆ›å»ºä¸€ä¸ªæµ‹è¯•æ–‡ä»¶<code class="fe mq mr ms mt b">src/__tests__/index.spec.ts</code>:</li></ul><pre class="mz na nb nc gt nd mt ne nf aw ng bi"><span id="d09f" class="nh lf it mt b gy ni nj l nk nl">$ echo "import { sum } from '../index'<br/>test('sum 4 + 7 = 11', () =&gt; {<br/>  expect(sum(4, 7)).toEqual(11)<br/>})" &gt; src/__tests__/index.spec.ts</span></pre><ul class=""><li id="cc54" class="mh mi it ki b kj kk kn ko kr mj kv mk kz ml ld mm mn mo mp bi translated">æµ‹è¯•ä¹Ÿåº”è¯¥æœ‰æ•ˆ:</li></ul><pre class="mz na nb nc gt nd mt ne nf aw ng bi"><span id="9e1a" class="nh lf it mt b gy ni nj l nk nl">$ yarn test<br/>yarn run v1.17.3<br/>$ jest --coverage<br/>PASS  src/__tests__/index.spec.ts<br/> âœ“ sum 4 + 7 = 11 (6ms)</span><span id="2905" class="nh lf it mt b gy nm nj l nk nl">----------|----------|----------|----------|----------|-------------------|<br/>File      |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |<br/>----------|----------|----------|----------|----------|-------------------|<br/>All files |      100 |      100 |      100 |      100 |                   |<br/>index.ts |      100 |      100 |      100 |      100 |                   |<br/>----------|----------|----------|----------|----------|-------------------|<br/>Test Suites: 1 passed, 1 total<br/>Tests:       1 passed, 1 total<br/>Snapshots:   0 total<br/>Time:        1.787s<br/>Ran all test suites.<br/>âœ¨  Done in 2.71s.</span></pre><p id="26ea" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åˆå§‹åŒ–git repoå¹¶æ·»åŠ ä¸€ä¸ª<code class="fe mq mr ms mt b">.gitignore</code>æ–‡ä»¶:</p><pre class="mz na nb nc gt nd mt ne nf aw ng bi"><span id="dae0" class="nh lf it mt b gy ni nj l nk nl">$ git init<br/>$ echo 'node_modules/<br/>coverage/' &gt; .gitignore</span><span id="04c8" class="nh lf it mt b gy nm nj l nk nl">$ git status<br/>On branch master</span><span id="f559" class="nh lf it mt b gy nm nj l nk nl">No commits yet</span><span id="26d5" class="nh lf it mt b gy nm nj l nk nl">Untracked files:<br/> (use "git add &lt;file&gt;..." to include in what will be committed)</span><span id="ae00" class="nh lf it mt b gy nm nj l nk nl">    .gitignore<br/>    .prettierignore<br/>    build/<br/>    package.json<br/>    rollup.config.js<br/>    src/<br/>    tsconfig.json<br/>    yarn.lock</span><span id="fbef" class="nh lf it mt b gy nm nj l nk nl">nothing added to commit but untracked files present (use "git add" to track)</span></pre><h1 id="0719" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">è½¬æ¢ä¸ºReactJSæ¨¡å—</h1><p id="e75e" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">é¦–å…ˆæ·»åŠ ReactJSä½œä¸ºå¯¹ç­‰ä¾èµ–é¡¹ã€‚è¿™å°†å‘æ‚¨çš„æ¨¡å—ç”¨æˆ·è¡¨æ˜è¿™ä¸ªåŒ…ä¾èµ–äºReactJSçš„è¿™ä¸ªç‰ˆæœ¬:</p><pre class="mz na nb nc gt nd mt ne nf aw ng bi"><span id="2fca" class="nh lf it mt b gy ni nj l nk nl">$ yarn add --peer <strong class="mt iu">react@^16 react-dom@^16</strong></span></pre><p id="4073" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="nn">é¦–å…ˆæ·»åŠ å¯¹ç­‰ä¾èµ–é¡¹ï¼Œå¦åˆ™å¦‚æœåŒä¸€ä¸ªåŒ…å·²ç»å®‰è£…ä¸ºå¼€å‘ä¾èµ–é¡¹ï¼Œyarnä¸ä¼šæ·»åŠ å®ƒä»¬(</em><a class="ae kf" href="https://github.com/yarnpkg/yarn/issues/5287" rel="noopener ugc nofollow" target="_blank"><em class="nn">https://github.com/yarnpkg/yarn/issues/5287</em></a><em class="nn">)</em></p><p id="f1fb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ·»åŠ ååº”å †å¼€å‘ä¾èµ–é¡¹+ç±»å‹:</p><pre class="mz na nb nc gt nd mt ne nf aw ng bi"><span id="ec69" class="nh lf it mt b gy ni nj l nk nl">$ yarn add -dev <strong class="mt iu">react react-dom</strong> <strong class="mt iu">@types/react @types/react-dom</strong></span></pre><h2 id="8d6a" class="nh lf it bd lg no np dn lk nq nr dp lo kr ns nt ls kv nu nv lw kz nw nx ma ny bi translated">æ±‡æ€»è®¾ç½®</h2><p id="dbbf" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">Rollupéœ€è¦ä¸€äº›æ›´æ”¹æ¥æ”¯æŒå¤–éƒ¨ä¾èµ–é¡¹ã€‚å› ä¸ºæˆ‘ä»¬ä¸æƒ³å°†reactåº“ä»£ç ä¸æˆ‘ä»¬è‡ªå·±çš„ä»£ç ä¸€èµ·å‘å¸ƒã€‚</p><pre class="mz na nb nc gt nd mt ne nf aw ng bi"><span id="114b" class="nh lf it mt b gy ni nj l nk nl">import typescript from 'rollup-plugin-typescript2'<br/>import commonjs from 'rollup-plugin-commonjs'<br/>import external from 'rollup-plugin-peer-deps-external'<br/>import resolve from 'rollup-plugin-node-resolve'</span><span id="a122" class="nh lf it mt b gy nm nj l nk nl">import pkg from './package.json'</span><span id="28c3" class="nh lf it mt b gy nm nj l nk nl">export default {<br/>  input: 'src/index.ts',<br/>  output: [<br/>    {<br/>      file: pkg.main,<br/>      format: 'cjs',<br/>      exports: 'named',<br/>      sourcemap: true<br/>    },<br/>    {<br/>      file: pkg.module,<br/>      format: 'es',<br/>      exports: 'named',<br/>      sourcemap: true<br/>    }<br/>  ],<br/>  plugins: [<br/>    external(),<br/>    resolve(),<br/>    typescript({<br/>      rollupCommonJSResolveHack: true,<br/>      exclude: [<br/>        '**/__tests__/**'<br/>      ],<br/>      clean: true<br/>    }),<br/>    commonjs({<br/>      include: ['node_modules/**'],<br/>      <strong class="mt iu">namedExports: {<br/>        'node_modules/react/react.js': [<br/>          'Children',<br/>          'Component',<br/>          'PropTypes',<br/>          'createElement'<br/>        ],<br/>        'node_modules/react-dom/index.js': ['render']<br/>      }</strong><br/>    })<br/>  ]<br/>}</span></pre><h2 id="8103" class="nh lf it bd lg no np dn lk nq nr dp lo kr ns nt ls kv nu nv lw kz nw nx ma ny bi translated">æ·»åŠ ç¬¬ä¸€ä¸ªç»„ä»¶:</h2><p id="ad26" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">ä¸ºç»„ä»¶åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹:</p><pre class="mz na nb nc gt nd mt ne nf aw ng bi"><span id="7afa" class="nh lf it mt b gy ni nj l nk nl">$ mkdir src/components</span></pre><p id="a970" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è¿™ä¸ªç»„ä»¶ä»£ç :</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">src/components/MyComponent.tsx</figcaption></figure><p id="f5cf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è®©æˆ‘ä»¬ä¹Ÿä¿®æ”¹ä¸€ä¸‹<code class="fe mq mr ms mt b">index.ts</code>æ–‡ä»¶ï¼Œåªå¯¼å…¥/å¯¼å‡ºæˆ‘ä»¬ä»…æœ‰çš„ä¸€ä¸ªç»„ä»¶:</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">src/ç´¢å¼•. ts</figcaption></figure><p id="e213" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºæˆ‘ä»¬çš„æ¨¡å—ï¼Œå¹¶å°†ç»„ä»¶(ä»<code class="fe mq mr ms mt b">index.ts</code>å¯¼å‡º)æ„å»ºåˆ°<code class="fe mq mr ms mt b">build</code>æ–‡ä»¶å¤¹ä¸­ï¼ŒåŒ…æ‹¬ç±»å‹åŒ–ã€‚</p><pre class="mz na nb nc gt nd mt ne nf aw ng bi"><span id="45b3" class="nh lf it mt b gy ni nj l nk nl">$ yarn build</span></pre><h2 id="8253" class="nh lf it bd lg no np dn lk nq nr dp lo kr ns nt ls kv nu nv lw kz nw nx ma ny bi translated">å½“ç„¶æ˜¯æµ‹è¯•ã€‚</h2><p id="ac28" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">ä¸ºäº†æµ‹è¯•Reactç»„ä»¶ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æƒŠäººçš„:<code class="fe mq mr ms mt b">@react-testing</code>åº“:</p><pre class="mz na nb nc gt nd mt ne nf aw ng bi"><span id="b188" class="nh lf it mt b gy ni nj l nk nl">$ yarn add --dev <strong class="mt iu">@testing-library/react @testing-library/jest-dom</strong></span></pre><p id="8032" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ›´æ”¹<code class="fe mq mr ms mt b">package.json</code>æ–‡ä»¶çš„å‡ ä¸ªè®¾ç½®:</p><pre class="mz na nb nc gt nd mt ne nf aw ng bi"><span id="9622" class="nh lf it mt b gy ni nj l nk nl">{<br/>  "name": "my-module",<br/>  "version": "1.0.0",<br/>  "description": "",<br/>  "main": "build/index.js",<br/>  "module": "build/index.es.js",<br/>  "jsnext:main": "build/index.es.js",<br/>  "scripts": {<br/>    "build": "rollup -c",<br/>    "lint": "standard",<br/>    "format": "prettier-standard --format",<br/>    "test": "jest --coverage"<br/>  },<br/>  "keywords": [],<br/>  "author": "",<br/>  "license": "ISC",<br/>  "devDependencies": {<br/>    "<a class="ae kf" href="http://twitter.com/testing" rel="noopener ugc nofollow" target="_blank">@testing</a>-library/jest-dom": "^4.2.4",<br/>    "<a class="ae kf" href="http://twitter.com/testing" rel="noopener ugc nofollow" target="_blank">@testing</a>-library/react": "^9.4.0",<br/>    "<a class="ae kf" href="http://twitter.com/types/jest" rel="noopener ugc nofollow" target="_blank">@types/jest</a>": "^24.0.24",<br/>    "<a class="ae kf" href="http://twitter.com/types/react" rel="noopener ugc nofollow" target="_blank">@types/react</a>": "^16.9.17",<br/>    "<a class="ae kf" href="http://twitter.com/types/react-dom" rel="noopener ugc nofollow" target="_blank">@types/react-dom</a>": "^16.9.4",<br/>    "jest": "^24.9.0",<br/>    "react": "^16.12.0",<br/>    "react-dom": "^16.12.0",<br/>    "rollup": "^1.27.13",<br/>    "rollup-plugin-commonjs": "^10.1.0",<br/>    "rollup-plugin-node-resolve": "^5.2.0",<br/>    "rollup-plugin-peer-deps-external": "^2.2.0",<br/>    "rollup-plugin-typescript2": "^0.25.3",<br/>    "standard": "^14.3.1",<br/>    "standard-prettier": "^1.0.1",<br/>    "ts-jest": "^24.2.0",<br/>    "typescript": "^3.7.3"<br/>  },<br/>  "peerDependencies": {<br/>    "react": "^16",<br/>    "react-dom": "^16"<br/>  },<br/>  "jest": {<br/>    "preset": "ts-jest",<br/>    <strong class="mt iu">"testEnvironment": "jsdom",<br/>    "testPathIgnorePatterns": [<br/>      "build/"<br/>    ]</strong><br/>  },<br/>  "standard": {<br/>    "ignore": [<br/>      "node_modules/",<br/>      "build/"<br/>    ],<br/>    <strong class="mt iu">"globals": [<br/>      "describe",<br/>      "it",<br/>      "test",<br/>      "expect",<br/>      "afterAll",<br/>      "jest"<br/>    ]</strong><br/>  }<br/>}</span></pre><p id="d5be" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è¿™é‡Œæœ€é‡è¦çš„æ˜¯:</p><ul class=""><li id="f28d" class="mh mi it ki b kj kk kn ko kr mj kv mk kz ml ld mm mn mo mp bi translated">jsdomæ˜¯ä¸€ä¸ªç±»ä¼¼æµè§ˆå™¨çš„æµ‹è¯•ç¯å¢ƒ</li><li id="d73f" class="mh mi it ki b kj mu kn mv kr mw kv mx kz my ld mm mn mo mp bi translated"><code class="fe mq mr ms mt b">testPathIgnorePatterns=[build/]</code>:å› æ­¤<code class="fe mq mr ms mt b">build</code>æ–‡ä»¶å¤¹åœ¨æµ‹è¯•ä¸­è¢«å¿½ç•¥</li><li id="0d4c" class="mh mi it ki b kj mu kn mv kr mw kv mx kz my ld mm mn mo mp bi translated">æ ‡å‡†çš„<code class="fe mq mr ms mt b">globals</code>:è¿™äº›æ˜¯æˆ‘ä»¬æµ‹è¯•ä¸­ä½¿ç”¨çš„å…¨å±€è¯ï¼Œæ‰€ä»¥æ—æŒºæ ‡å‡†ä¸ä¼šæŠ±æ€¨å®ƒä»¬ã€‚</li></ul><p id="e44d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è¿˜æœ‰å¯¹æˆ‘ä»¬<code class="fe mq mr ms mt b">MyComponent</code>çš„ä¸€ä¸ªè€ƒéªŒ:</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">src/components/_ _ tests _ _/my component . spec . tsx</figcaption></figure><p id="7727" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="nn">åˆ é™¤åŒ…å«æ—§æµ‹è¯•çš„æ—§</em> <code class="fe mq mr ms mt b"><em class="nn">src/__tests__</em></code> <em class="nn">æ–‡ä»¶å¤¹ï¼Œå› ä¸ºæˆ‘ä»¬ä¸å†æ‹¥æœ‰æ—§æ¨¡å—åŠŸèƒ½ã€‚</em></p><pre class="mz na nb nc gt nd mt ne nf aw ng bi"><span id="fd80" class="nh lf it mt b gy ni nj l nk nl">$ yarn test<br/>yarn run v1.17.3<br/>$ jest --coverage<br/> PASS  src/components/__tests__/MyComponent.spec.tsx<br/>  âœ“ Renders (55ms)</span><span id="84cb" class="nh lf it mt b gy nm nj l nk nl">------------------|----------|----------|----------|----------|-------------------|<br/>File              |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |<br/>------------------|----------|----------|----------|----------|-------------------|<br/>All files         |      100 |      100 |      100 |      100 |                   |<br/> src              |      100 |      100 |      100 |      100 |                   |<br/>  index.ts        |      100 |      100 |      100 |      100 |                   |<br/> src/components   |      100 |      100 |      100 |      100 |                   |<br/>  MyComponent.tsx |      100 |      100 |      100 |      100 |                   |<br/>------------------|----------|----------|----------|----------|-------------------|<br/>Test Suites: 1 passed, 1 total<br/>Tests:       1 passed, 1 total<br/>Snapshots:   0 total<br/>Time:        1.297s, estimated 2s<br/>Ran all test suites.<br/>âœ¨  Done in 2.01s.</span></pre><h1 id="e602" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">æ•…äº‹ä¹¦</h1><p id="a7db" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">Storybookæ˜¯ä¸€ä¸ªä¸ºReact(<a class="ae kf" href="https://storybook.js.org/" rel="noopener ugc nofollow" target="_blank">https://storybook.js.org/</a>)å¼€å‘ç‹¬ç«‹UIç»„ä»¶çš„å¼€æºå·¥å…·</p><p id="9b7d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨å¼€å‘ç»„ä»¶åº“æ—¶ï¼Œæ‹¥æœ‰ä¸€ä¸ªå¯ä»¥ç”¨ä¸åŒçš„å±æ€§é›†å’Œä¸Šä¸‹æ–‡å®ä¾‹åŒ–å’Œå¯è§†åŒ–ç»„ä»¶çš„å·¥ä½œå°æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚æ­¤å¤–ï¼Œå®Œæˆåï¼Œæ‚¨è¿˜å¯ä»¥è®°å½•ç»„ä»¶çš„ä½¿ç”¨æƒ…å†µã€‚</p><pre class="mz na nb nc gt nd mt ne nf aw ng bi"><span id="1801" class="nh lf it mt b gy ni nj l nk nl">$ yarn add --dev <strong class="mt iu">babel-loader @babel/core @storybook/react awesome-typescript-loader</strong></span></pre><p id="bcf1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨æ ¹æ–‡ä»¶å¤¹ä¸Šåˆ›å»ºä¸€ä¸ª. storybookæ–‡ä»¶å¤¹æ¥ä¿å­˜é…ç½®ã€‚</p><pre class="mz na nb nc gt nd mt ne nf aw ng bi"><span id="4476" class="nh lf it mt b gy ni nj l nk nl">$ mkdir .storybook</span></pre><p id="5857" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åˆ›å»ºä»¥ä¸‹æ–‡ä»¶:</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">ã€‚æ•…äº‹ä¹¦/config.js</figcaption></figure><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">ã€‚storybook/webpack.config.js</figcaption></figure><p id="f8cf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç¬¬ä¸€ä¸ªæ•…äº‹:</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">src/components/my components . stories . tsx</figcaption></figure><pre class="mz na nb nc gt nd mt ne nf aw ng bi"><span id="81fa" class="nh lf it mt b gy ni nj l nk nl">$ yarn storybook</span></pre><p id="1cb7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å°†è‡ªåŠ¨æ‰“å¼€:</p><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ob"><img src="../Images/b568a8a1d2489cd3703a0ec0ed835fb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y5PxgNSm1039_xqUm7g1-Q.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">æ•…äº‹ä¹¦</figcaption></figure><h1 id="291c" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">ç»“è®º</h1><ul class=""><li id="6eb9" class="mh mi it ki b kj mc kn md kr oc kv od kz oe ld mm mn mo mp bi translated">ä»å¸¸è§„çš„NPMæ¨¡å—å¼€å§‹ï¼Œæ·»åŠ ReactJSä¾èµ–é¡¹</li><li id="bce7" class="mh mi it ki b kj mu kn mv kr mw kv mx kz my ld mm mn mo mp bi translated">æ€»æ˜¯æ·»åŠ æµ‹è¯•ã€‚ä½¿ç”¨<code class="fe mq mr ms mt b">@testing-library</code>ä¼šæœ‰æ‰€å¸®åŠ©ã€‚</li><li id="3f61" class="mh mi it ki b kj mu kn mv kr mw kv mx kz my ld mm mn mo mp bi translated">æ·»åŠ æ•…äº‹ä¹¦æ˜¯å¯é€‰çš„ï¼Œä½†å®Œå…¨æ¨èã€‚</li></ul><p id="5e19" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">é»‘å®¢å¿«ä¹â€¦</p><p id="f065" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ›´æ–°:ä½ å¯ä»¥é‡ç”¨è¿™ä¸ªå¸–å­çš„ä»£ç :<a class="ae kf" href="https://github.com/outsrc/my-components" rel="noopener ugc nofollow" target="_blank">https://github.com/outsrc/my-components</a>(è®¾ç½®ä¸ºæ¨¡æ¿å›è´­æ›´å®¹æ˜“é‡ç”¨)</p></div></div>    
</body>
</html>