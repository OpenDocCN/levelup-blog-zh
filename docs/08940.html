<html>
<head>
<title>How to Create a Convex Bottom AppBar in Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Flutter中创建一个凸底AppBar</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-create-a-convex-bottom-appbar-in-flutter-a52d8239dd25?source=collection_archive---------3-----------------------#2021-06-21">https://levelup.gitconnected.com/how-to-create-a-convex-bottom-appbar-in-flutter-a52d8239dd25?source=collection_archive---------3-----------------------#2021-06-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e9e6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用这个包创建一个凸底Appbar。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/06c6b3abbe69a0bf538f03b1ba7bdaff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vtlRGL6ryPAgd1IvJiahZQ.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">阿什利·伯德在<a class="ae ky" href="https://unsplash.com/s/photos/app-bar?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="6cb4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你好，欢迎来到我关于<strong class="lb iu">颤振包测试</strong>的帖子。每周我都会测试另一个发布在<a class="ae ky" href="https://pub.dev/" rel="noopener ugc nofollow" target="_blank"> pub.dev </a>下的包。如果你想看这个系列的第一篇文章，请阅读<a class="ae ky" href="https://betterprogramming.pub/how-to-validate-emails-in-flutter-957ae75926c9" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">如何在Flutter </strong> </a>中验证电子邮件。</p><h1 id="05fc" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">凸底AppBar</h1><p id="4668" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">本周的小部件是一个UI小部件，将您的AppBar体验提升到一个新的水平。凸起的底部AppBar小部件让你为你的flutter应用程序创建一个底部appbar。该小部件为您提供了快速实现appbar和七种预定义的样式。</p><h1 id="5daa" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">目的</h1><p id="5632" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">几乎每个应用都有多个屏幕。通过为用户提供更好的体验，你需要一种快速的方式在应用程序中最重要的页面之间切换。这通常可以通过使用底部应用程序栏来解决。使用凸底AppBar，您可以获得开箱即用的特性，包括使用预定义样式的动画和样式调整。</p><h1 id="041d" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">包范围</h1><p id="51cc" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">这个包附带了一个只需要显示一个列表项的ConvexAppBar小部件。指定initialActiveIndex和onTab参数，就得到一个默认的appbar，它提供了您需要的一切。要自定义appbar，您可以设置以下参数。设置您可以选择的系统参数</p><ul class=""><li id="eb75" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated"><strong class="lb iu">修正</strong>(上标图标保持在中心)</li><li id="122e" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated"><strong class="lb iu">固定圆圈</strong>(相同，但固定图标周围有一个白色圆圈)</li><li id="aace" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated"><strong class="lb iu">反应</strong>(点击另一图标，上标图标改变)</li><li id="450c" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated"><strong class="lb iu">反应圈</strong>(相同，但上标图标周围有一个白色圆圈)</li><li id="552e" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated"><strong class="lb iu"> textIn </strong>(选中的离子显示其对应的标题)</li><li id="c4be" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated"><strong class="lb iu">标题为</strong>(未选中的图标仅显示其标题)</li><li id="84a4" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated"><strong class="lb iu">翻转</strong>(点击图标显示翻转动画)</li><li id="de82" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated"><strong class="lb iu">自定义</strong>(使用ConvexBottomAppBar构建器自定义预定义的参数)</li></ul><p id="3d02" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您还可以自定义的最重要的参数有</p><ul class=""><li id="6a45" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated"><strong class="lb iu">高度</strong>(提升appbar)</li><li id="e48d" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated"><strong class="lb iu">顶部</strong>(抬起上标图标)</li><li id="2dcb" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated"><strong class="lb iu"> curveSize </strong>(拉伸上标图标的曲线)</li><li id="3bf5" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated"><strong class="lb iu">颜色</strong>(设置图标颜色)</li><li id="3933" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated"><strong class="lb iu">背景颜色</strong>(设置appbar背景颜色)</li><li id="c7a7" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated"><strong class="lb iu">渐变</strong>(使用渐变小工具设置appbar背景颜色)</li><li id="3646" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated"><strong class="lb iu">活动颜色</strong>(设置圆圈颜色)</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/d023ef456511dab6c12d189de4e38350.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*BBVDNU_BTBkiFeTZ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://raw.githubusercontent.com/hacktons/convex_bottom_bar/master/doc/appbar-theming.png" rel="noopener ugc nofollow" target="_blank">https://raw . githubusercontent . com/hack tons/convex _ bottom _ bar/master/doc/app bar-theming . png</a></figcaption></figure><p id="4607" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">提供一个列表标签小部件，你可以定义图标及其标题显示在应用程序栏。该列表应该只包含奇数个表项，以便运行小部件时不会导致错误。如果希望显示图像而不是图标，可以在每个TabItem小部件中为icon参数提供图像。如果你想创建一个单一的图标底部应用程序栏，你可以使用凸按钮。它提供给你更少的参数和一个快速好看的图标应用程序栏。</p><p id="f379" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了ConvexAppBar小部件和他的预定义样式之外，这个包还提供了一个徽章版本和一个构建器。徽章版本允许您添加一个可更改的徽章列表，该列表将在appbar的选项卡之外设置。构建器提供了更多的自定义来处理图标，徽章等等。</p><h1 id="4395" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">一个例子</h1><p id="c5f6" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">为了配置所有的个性化设置，我再次在<a class="ae ky" href="https://flutter-package-examples.netlify.app/#/" rel="noopener ugc nofollow" target="_blank">包示例应用程序</a>中为您构建一个Flutter页面，您可以在其中配置所有必要的concular appbar小部件参数。下面的要点向您展示了我在State小部件中设置的所有参数，以便在ConvexAppBar小部件中使用它们。我在initState函数中初始化列表和对象。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="874b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">concular appbar小部件作为Scaffold小部件的bottomNavigationBar参数放置。它不能用作appbar的替代。下面的代码显示了相应应用程序的构建方法以及concular app bar小部件的用法。我用了。徽章版本，也说明了如何使用徽章的appbar小部件。唯一改变的是小部件开始时需要的徽章列表。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="7e54" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">生成的用户界面类似于下面的示例视频:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj ni l"/></div></figure><h1 id="05dc" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">限制</h1><p id="d3e0" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">虽然appbar有一些不错的特性，但是我发现它有一些限制。根据您的需求，它们或多或少与您相关。首先(这是很明显的),如果你想在中间有一个上标图标，你只能在应用栏中添加奇数个图标。如果你提供一个偶数，它会抛出一个错误。第二个问题与其说是限制，不如说是缺陷。在我的应用程序中，默认情况下我没有让徽章显示在图标的右上角。虽然您可以自己调整参数，如空白和空白。在发布的时候，我已经为这个bug 开了一个<a class="ae ky" href="https://github.com/hacktons/convex_bottom_bar/issues/146" rel="noopener ugc nofollow" target="_blank">的问题。</a></p><p id="6d5d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来我要提到的是屏幕处理。当我查看我的其他一些颤振项目时，我使用了一个页面视图，通过向左或向右滑动来动画显示下一页的滑动。查看该包的github库，我发现它对提到的需求没有限制。您可以使用PageView或TabBarView和TabController来获得相同的功能。你可以在<a class="ae ky" href="https://github.com/hacktons/convex_bottom_bar/blob/master/doc/issue-change-active-tab-index.md" rel="noopener ugc nofollow" target="_blank">https://github . com/hack tons/convex _ bottom _ bar/blob/master/doc/issue-change-active-tab-index . MD</a>下查找这个。</p><p id="b59b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我在使用convex appbar小部件编程时发现的最后一件事是，你不能总是提供一个干净的UI，尤其是当你使用一个预定义的圆形样式并想要调整曲线大小和顶部时。你有时会在使用智能手机的时候看到一个有问题的用户界面，而所有的东西都在你的网页窗口上。公平地说，这可能最多会稍微延长应用程序的设计时间。</p><h1 id="5788" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">装置</h1><p id="d7cc" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">安装这个包时，你可以在命令行中使用flutter命令，或者简单地在依赖项下的pubspec.yaml中添加最新版本的<code class="fe nk nl nm nn b">convex_bottom_bar</code>。</p><p id="6940" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行这个Flutter命令:</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="564a" class="ns lw it nn b gy nt nu l nv nw"><strong class="nn iu">$</strong> flutter pub add convex_bottom_bar</span></pre><p id="2c57" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将向您的包的pubspec.yaml中添加一行(并运行一个隐式的<code class="fe nk nl nm nn b">dart pub get</code>):</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="5cf6" class="ns lw it nn b gy nt nu l nv nw">dependencies:<br/>  convex_bottom_bar: ^latest_version</span></pre><p id="1fc3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者，你的编辑可能会支持<code class="fe nk nl nm nn b">flutter pub get</code>。查看编辑器的文档以了解更多信息。</p><h2 id="0d56" class="ns lw it bd lx nx ny dn mb nz oa dp mf li ob oc mh lm od oe mj lq of og ml oh bi translated">导入它</h2><p id="76ad" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">现在，在您的Dart代码中，您可以使用:</p><pre class="kj kk kl km gt no nn np nq aw nr bi"><span id="67d0" class="ns lw it nn b gy nt nu l nv nw"><strong class="nn iu">import</strong> 'package:convex_bottom_bar/convex_bottom_bar.dart';</span></pre><h1 id="9859" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">版本</h1><p id="f4a1" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">发帖时的最新版本是<strong class="lb iu"> 3.0.0 </strong>。最新版本支持Flutter 2的零安全。看看历史，你可以看到，出版商投入了大量的工作，这个包，以保持其最新。</p><h1 id="c3af" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">得分</h1><p id="5f00" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">包的人气是我们现在以来最好的:<strong class="lb iu"> 1137赞</strong>、来自Flutter的<strong class="lb iu"> 130 Pub分</strong>、96% 的<strong class="lb iu">人气。</strong></p><p id="0b2b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，该软件包支持<strong class="lb iu"> null safety </strong>和<strong class="lb iu">所有当前平台</strong> (Android、IOS、Linux、macOS、Web、Windows)。它于2019年10月在<strong class="lb iu">首次发布，自去年11月起支持空安全(今年3月起正式支持)。它在<strong class="lb iu"> Apache 2.0 </strong> <strong class="lb iu">许可</strong>下，有一些很好的示例代码和常见问题(在自述文件的末尾)。该包为包提供了一些实用程序和提供程序测试。它也有一些非常好的小部件测试UI和UX行为。它的覆盖率超过96%,由许多护盾中的一个可视化。如果你读这篇文章，但你的母语是中文，你也可以用你的母语阅读大部分文档。；)</strong></p><h1 id="8656" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">评级</h1><p id="9296" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">提供一个中文文件，我只能给这个包10分10分。开玩笑的。查看变更日志，作者做了大量工作来修复包中所有必要的bug。我认为提供这样一个准确且简单易用的appbar小部件并不容易，所以我认为bug会经常出现。比较上述限制和软件包范围，我给软件包<strong class="lb iu">打8分。</strong>在我看来，一个普通的底部应用程序栏的唯一优点是预定义的样式，它显示了一个漂亮的高亮项目，这让我相信我会使用这个包。然而，总而言之，这是一个为Flutter社区增加了许多价值的包。向包裹的作者致意。</p><h1 id="1ae0" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">链接</h1><p id="1628" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">可以在<strong class="lb iu"> </strong> <a class="ae ky" href="https://pub.dev/packages/convex_bottom_bar" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">下的pub.dev找到最新的包。</strong></a></p><p id="52cc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想看看我写的每个包的应用程序，请前往<a class="ae ky" href="https://github.com/lucianojung/flutter_package_examples" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu">lucianojung/flutter _ package _ examples</strong></a>。</p><p id="a473" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你对包的源代码很好奇，可以访问<a class="ae ky" href="https://github.com/hacktons/convex_bottom_bar" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu">hack tons/convex _ bottom _ bar</strong></a>。</p><blockquote class="oi"><p id="f699" class="oj ok it bd ol om on oo op oq or lu dk translated">前往<a class="ae ky" href="https://flutter-package-examples.netlify.app/" rel="noopener ugc nofollow" target="_blank"><strong class="ak">flutter-package-examples . net lify . app</strong></a>查看所有的Flutter包示例并亲自尝试。</p></blockquote></div></div>    
</body>
</html>