<html>
<head>
<title>PHP 8 First Release Candidate Performance</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PHP 8首次发布候选性能</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/php-8-first-release-candidate-performance-a4bb02dff6f4?source=collection_archive---------15-----------------------#2020-10-19">https://levelup.gitconnected.com/php-8-first-release-candidate-performance-a4bb02dff6f4?source=collection_archive---------15-----------------------#2020-10-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="afbe" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="ko">让我们跟进PHP 8第一个发布候选版本的速度</em></p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi kp"><img src="../Images/a56c54b979bcdca39e47c9ed21129179.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9qSH5s7Z-fDdrj99"/></div></div><figcaption class="lb lc gj gh gi ld le bd b be z dk translated"><a class="ae lf" href="https://unsplash.com/@benofthenorth?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">本</a>在<a class="ae lf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><p id="0b13" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">从几个月前开始，我就一直在关注新PHP 8的进展。随着第一个候选版本的发布，这就变成了检查性能进度的时刻。除非发现一个巨大的bug，否则我假设新PHP版本的核心不会有相关的变化。</p><blockquote class="lg lh li"><p id="d576" class="jq jr ko js b jt ju jv jw jx jy jz ka lj kc kd ke lk kg kh ki ll kk kl km kn im bi translated">请注意，这仍然不是PHP的最终版本。不要在任何生产部署中使用它。</p></blockquote><p id="4547" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了与我之前的测试保持一致，我将重用我之前使用的相同代码(嗯，也因为这是使用冒泡排序的有趣借口)。你可以在这里找到源代码。</p><p id="9fe5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">首先，让我们不使用JIT来运行它:</p><pre class="kq kr ks kt gt lm ln lo lp aw lq bi"><span id="ecca" class="lr ls it ln b gy lt lu l lv lw">docker container run --rm -v $(pwd):/script/ php:8.0.0rc1 php /script/bubble.php</span></pre><p id="6353" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">跑100次后的平均时间是0.058秒，还不错。</p><p id="0c47" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，我们将在JIT激活的情况下运行它。因为我找不到一个已经用PHP 8候选版本和JIT激活的docker映像，所以我创建了自己的映像。</p><pre class="kq kr ks kt gt lm ln lo lp aw lq bi"><span id="3de4" class="lr ls it ln b gy lt lu l lv lw">docker container run --rm -v $(pwd):/script/ pedroescudero/php8jit php /script/bubble.php</span></pre><p id="8e09" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">100次跑步后，平均时间为0.029秒。不到一半！这真是令人印象深刻。当然，为了更深入地理解激活JIT的候选版本的性能，我们需要将它应用到更复杂的算法中，并在更真实的/类似生产的环境中进行测试。尽管如此，乍一看，我认为这个测试给出了非常好的数字。</p><p id="31c7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们来看一看2009年的旧版本:</p><pre class="kq kr ks kt gt lm ln lo lp aw lq bi"><span id="df5d" class="lr ls it ln b gy lt lu l lv lw">docker container run --rm -v $(pwd):/script/ php:5.3 php /script/bubble.php</span></pre><p id="32ed" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">平均耗时0.63秒。永恒。</p><h2 id="dac5" class="lr ls it bd lx ly lz dn ma mb mc dp md kb me mf mg kf mh mi mj kj mk ml mm mn bi translated">附加参考</h2><p id="0bb5" class="pw-post-body-paragraph jq jr it js b jt mo jv jw jx mp jz ka kb mq kd ke kf mr kh ki kj ms kl km kn im bi translated">如果你对创造自己的形象感兴趣，建议访问Arkadius Kondas的博客和Keinos的Docker readme。我的映像基于他们以前的工作，但是尽管他们的版本没有第一个发布候选，我还是被迫动手构建了我自己的PHP 8 docker映像，并激活了JIT。</p><div class="mt mu gp gr mv mw"><a rel="noopener  ugc nofollow" target="_blank" href="/how-fast-is-php-8-going-to-be-f7fdc111cd6"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd iu gy z fp nb fr fs nc fu fw is bi translated">PHP-8会有多快？</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">PHP-8将于今年年底发布。让我们看看它如何提高一个脚本的速度。</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="nf l"><div class="ng l nh ni nj nf nk kz mw"/></div></div></a></div></div></div>    
</body>
</html>