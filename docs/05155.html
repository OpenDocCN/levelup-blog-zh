<html>
<head>
<title>Visually Mapping out 3D with Three.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Three.js可视化绘制3D</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/visually-mapping-out-3d-with-three-js-eef3f6adfd2f?source=collection_archive---------2-----------------------#2020-08-07">https://levelup.gitconnected.com/visually-mapping-out-3d-with-three-js-eef3f6adfd2f?source=collection_archive---------2-----------------------#2020-08-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/844f830a2dc79601b6d054fcc967a5f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FqgLCKhRRCYgcsI544AxYw.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">三. js:<a class="ae jg" href="https://www.wearelikewater.com/noise-shifts" rel="noopener ugc nofollow" target="_blank">https://www.wearelikewater.com/noise-shifts</a>创作的生成艺术</figcaption></figure><div class=""/><p id="6b16" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">每个开发人员都有自己喜欢的工具、语言和技术。有时它源自另一种激情，如解决数学问题、白帽黑客或组织。幸运的是，开源技术允许每个人拿起自己选择的工具，创造出令人惊叹的东西。现在让我告诉你如何利用我最喜欢的工具之一，<a class="ae jg" href="https://threejs.org/" rel="noopener ugc nofollow" target="_blank"> Three.js </a></p><h1 id="737f" class="le lf jj bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">Three.js是什么？</h1><p id="744e" class="pw-post-body-paragraph kg kh jj ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">Three.js是一个JavaScript库，用于在浏览器中创建和渲染3D图形，甚至制作动画。如果你对开发基于网络的游戏、创建网络动画或创造性编码感兴趣，这将是一个很好的探索选择。</p><p id="4c3c" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在幕后，Three.js利用了一个名为<a class="ae jg" href="https://get.webgl.org/" rel="noopener ugc nofollow" target="_blank"> WebGL </a>的底层API。Three.js的创建者Ricardo Cabello(doob先生)知道WebGL的复杂性，并将其简化为任何开发人员都可以使用的易于访问的库。</p><h1 id="5bfb" class="le lf jj bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">概观</h1><p id="5c76" class="pw-post-body-paragraph kg kh jj ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">这个库有很多功能，但是对于本文，我将只关注设置一个<a class="ae jg" href="https://threejs.org/docs/#manual/en/introduction/Creating-a-scene" rel="noopener ugc nofollow" target="_blank"> three.js场景</a>的过程。就个人而言，这是最难记住的部分。作为一名视觉学习者，我不得不使用心理图像来理解如何在平面屏幕上制作3D场景。</p><p id="edfb" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">免责声明:每次你开始一个新项目的时候，练习编码。这个过程永远不会改变，但是如果你复制和粘贴设置，你就不会明白为什么某些东西不能像预期的那样工作。</p><p id="ca58" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="mh">还有，Three.js是一个Javascript库。可能有相当多的地方提到了面向对象编程和Javascript语言。</em></p><p id="df04" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">话虽如此。我们开始吧！</p><figure class="mj mk ml mm gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mi"><img src="../Images/a7f65dcecd13b0d889fb3ffe4fb81e41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AhUaM6RFqWK6SBsxkswagQ.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">Three.js 3D旋转立方体</figcaption></figure><h1 id="26ab" class="le lf jj bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">设置Three.js</h1><p id="41a8" class="pw-post-body-paragraph kg kh jj ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated"><em class="mh">以一个隐喻的例子开始。假设你正在为一出戏搭建舞台。现在你的舞台是空的，但是你需要在你的演员可以使用它之前添加一些东西。</em></p><p id="9ce5" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">设置Three.js与上面的场景非常相似。你从一个场景开始，把需要的部分拉进那个场景。</p><p id="ed1b" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是你将需要的东西:<a class="ae jg" href="https://threejs.org/docs/#api/en/scenes/Scene" rel="noopener ugc nofollow" target="_blank"> <strong class="ki jk">【场景】</strong></a><strong class="ki jk"/><a class="ae jg" href="https://threejs.org/docs/#api/en/cameras/Camera" rel="noopener ugc nofollow" target="_blank"><strong class="ki jk">摄像机</strong> </a> <strong class="ki jk"> </strong>和<strong class="ki jk"> </strong> <a class="ae jg" href="https://threejs.org/docs/#api/en/renderers/WebGLRenderer" rel="noopener ugc nofollow" target="_blank"> <strong class="ki jk">渲染器</strong> </a></p><h2 id="a73e" class="mn lf jj bd lg mo mp dn lk mq mr dp lo kr ms mt ls kv mu mv lw kz mw mx ma my bi translated">事件</h2><p id="a8ab" class="pw-post-body-paragraph kg kh jj ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">场景允许你设置由three.js渲染的内容。这是你放置物体、灯光和摄像机的地方。</p><p id="faed" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您的场景是您将设置的第一个组件。Three.js使用了<a class="ae jg" href="https://en.wikipedia.org/wiki/Object-oriented_programming" rel="noopener ugc nofollow" target="_blank">面向对象的范例</a>，所以场景是一个<a class="ae jg" href="https://medium.com/@likewaterdesignco/creating-an-object-using-constructors-in-javascript-c1b33e07b3e2" rel="noopener">对象构造器</a>。这允许您创建一个或多个场景实例，并在您的应用程序中使用它。<a class="ae jg" href="https://medium.com/@likewaterdesignco/creating-an-object-using-constructors-in-javascript-c1b33e07b3e2" rel="noopener"> <em class="mh">如果你对构造函数不熟悉，看看这篇文章</em> </a>。</p><figure class="mj mk ml mm gt iv gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/eb68e313178ca9793d642e75caa69c18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/1*am039nNsJJbZptDIm1Q1tw.jpeg"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">事件</figcaption></figure><h2 id="a7b5" class="mn lf jj bd lg mo mp dn lk mq mr dp lo kr ms mt ls kv mu mv lw kz mw mx ma my bi translated">照相机</h2><p id="1680" class="pw-post-body-paragraph kg kh jj ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated"><a class="ae jg" href="https://threejs.org/docs/#api/en/cameras/Camera" rel="noopener ugc nofollow" target="_blank">Camera是相机的抽象基类。当你建立一个新的照相机时，这个类应该总是被继承。</a></p><p id="82e3" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来你需要安装的是你的相机。就像搭建一个表演或节目的舞台一样，相机是捕捉场景中一切所需的最基本的物体之一。</p><p id="5457" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">与场景类似，相机只是另一个对象构造器。</p><figure class="mj mk ml mm gt iv gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/50358fa904412a187a6a529ed87e9c06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/1*fzTRtIv_rG9sYEMI1asOgg.jpeg"/></div></figure><h2 id="49a4" class="mn lf jj bd lg mo mp dn lk mq mr dp lo kr ms mt ls kv mu mv lw kz mw mx ma my bi translated">渲染器</h2><p id="24b0" class="pw-post-body-paragraph kg kh jj ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">设置好场景和相机后，您需要将它们添加到应用程序中。像任何其他web组件一样，您必须将场景添加到<a class="ae jg" href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction" rel="noopener ugc nofollow" target="_blank">文档对象模型</a>。这就是渲染器的用武之地。</p><p id="985e" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Three.js使用一个名为<a class="ae jg" href="https://threejs.org/docs/#api/en/renderers/WebGLRenderer" rel="noopener ugc nofollow" target="_blank"> WebGLRenderer </a>的构造函数将你的场景和相机添加到DOM中。Three.js文档声明，“WebGL渲染器使用WebGL 显示您制作精美的场景”。</p><figure class="mj mk ml mm gt iv gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/933978c8b0eca36fe093b8371e0dbf5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/1*cAkigSUG63EaKfslHQcu9Q.jpeg"/></div></figure><h1 id="889a" class="le lf jj bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">概述</h1><p id="2e55" class="pw-post-body-paragraph kg kh jj ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">概括一下上面的视觉效果:</p><ol class=""><li id="adac" class="na nb jj ki b kj kk kn ko kr nc kv nd kz ne ld nf ng nh ni bi translated">创造一个场景</li><li id="a733" class="na nb jj ki b kj nj kn nk kr nl kv nm kz nn ld nf ng nh ni bi translated">安装一台摄像机</li><li id="6781" class="na nb jj ki b kj nj kn nk kr nl kv nm kz nn ld nf ng nh ni bi translated">添加渲染器</li><li id="119c" class="na nb jj ki b kj nj kn nk kr nl kv nm kz nn ld nf ng nh ni bi translated">将场景和相机放入渲染器中</li></ol><p id="4b87" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这些是创建场景并将其添加到应用程序中的初始步骤。</p><h1 id="b3eb" class="le lf jj bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">代码</h1><p id="ee4c" class="pw-post-body-paragraph kg kh jj ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">现在，您已经对场景、相机和渲染器的工作方式有了直观的了解，您可以更好地理解代码了。</p><p id="2fdc" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是设置Three.js项目的Javascript代码。我将详细介绍每一部分。</p><p id="7f24" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="mh">免责声明:我推荐使用</em> <a class="ae jg" href="https://codepen.io/" rel="noopener ugc nofollow" target="_blank"> <em class="mh"> CodePen </em> </a> <em class="mh">跟随。这将允许我们只关注Javascript设置。</em></p><pre class="mj mk ml mm gt no np nq nr aw ns bi"><span id="8df6" class="mn lf jj np b gy nt nu l nv nw">let scene, camera, renderer;<br/>init();<br/></span><span id="c2bf" class="mn lf jj np b gy nx nu l nv nw">function init(){</span><span id="ea59" class="mn lf jj np b gy nx nu l nv nw">scene = new THREE.Scene();</span><span id="76f3" class="mn lf jj np b gy nx nu l nv nw">camera = new THREE.PerspectiveCamera(75, window.innerWidth /    window.innerHeight, 0.01, 1000);<br/>camera.position.set(0,0,10);</span><span id="95c5" class="mn lf jj np b gy nx nu l nv nw">renderer = new THREE.WebGLRenderer();<br/>renderer.setSize(window.innerWidth, window.innerHeight);</span><span id="59e5" class="mn lf jj np b gy nx nu l nv nw">document.body.appendChild(renderer.domElement);</span><span id="5b56" class="mn lf jj np b gy nx nu l nv nw">window.addEventListener('resize', resize, false);</span><span id="2612" class="mn lf jj np b gy nx nu l nv nw">update();</span><span id="ee4b" class="mn lf jj np b gy nx nu l nv nw">}</span><span id="3662" class="mn lf jj np b gy nx nu l nv nw"><br/>function resize(){</span><span id="db3e" class="mn lf jj np b gy nx nu l nv nw">camera.aspect = window.innerWidth / window.innerHeight;<br/>camera.updateProjectionMatrix();<br/>renderer.setSize( window.innerWidth, window.innerHeight);</span><span id="08a5" class="mn lf jj np b gy nx nu l nv nw">}</span><span id="1851" class="mn lf jj np b gy nx nu l nv nw">function update(){</span><span id="fbd8" class="mn lf jj np b gy nx nu l nv nw">requestAnimationFrame(update);<br/>renderer.render(scene, camera);</span><span id="46b2" class="mn lf jj np b gy nx nu l nv nw">}</span></pre><h2 id="54a4" class="mn lf jj bd lg mo mp dn lk mq mr dp lo kr ms mt ls kv mu mv lw kz mw mx ma my bi translated">设置变量</h2><p id="1fea" class="pw-post-body-paragraph kg kh jj ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">初始化你的全局变量。我们将这些变量设为全局变量，以便在所有函数中访问它们。当处理一个真实的应用程序时，你最有可能在你的3D组件的范围内有这些，所以它们不会与你的应用程序的其他组件冲突。</p><pre class="mj mk ml mm gt no np nq nr aw ns bi"><span id="289f" class="mn lf jj np b gy nt nu l nv nw">let scene, camera, renderer;</span></pre><h2 id="ef0b" class="mn lf jj bd lg mo mp dn lk mq mr dp lo kr ms mt ls kv mu mv lw kz mw mx ma my bi translated">创建初始化函数</h2><p id="a8e1" class="pw-post-body-paragraph kg kh jj ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">初始化，也称为<strong class="ki jk"> init </strong>函数，是保存所有三个. js对象的主函数。这包括场景、摄影机和渲染器。</p><pre class="mj mk ml mm gt no np nq nr aw ns bi"><span id="0a38" class="mn lf jj np b gy nt nu l nv nw">init()</span><span id="1ba0" class="mn lf jj np b gy nx nu l nv nw">function init(){</span><span id="a838" class="mn lf jj np b gy nx nu l nv nw">//threejs code goes here<br/>}</span></pre><h2 id="a7c3" class="mn lf jj bd lg mo mp dn lk mq mr dp lo kr ms mt ls kv mu mv lw kz mw mx ma my bi translated">创造一个场景</h2><p id="f497" class="pw-post-body-paragraph kg kh jj ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">在<strong class="ki jk"> init </strong>函数中，您将创建一个<strong class="ki jk">场景、摄像机、</strong>和<strong class="ki jk">渲染器</strong>实例。</p><pre class="mj mk ml mm gt no np nq nr aw ns bi"><span id="5054" class="mn lf jj np b gy nt nu l nv nw">let scene, camera, renderer;</span><span id="4a1e" class="mn lf jj np b gy nx nu l nv nw">function init(){</span><span id="77bd" class="mn lf jj np b gy nx nu l nv nw">scene = new THREE.Scene();<br/>camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.01, 1000);<br/>camera.position.set(0,0,10);</span><span id="6094" class="mn lf jj np b gy nx nu l nv nw">renderer = new THREE.WebGLRenderer();<br/>renderer.setSize(window.innerWidth, window.innerHeight);</span><span id="9ce3" class="mn lf jj np b gy nx nu l nv nw">}</span></pre><h2 id="abbd" class="mn lf jj bd lg mo mp dn lk mq mr dp lo kr ms mt ls kv mu mv lw kz mw mx ma my bi translated">摄像机设置</h2><pre class="mj mk ml mm gt no np nq nr aw ns bi"><span id="1b24" class="mn lf jj np b gy nt nu l nv nw">camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.01, 1000);<br/>camera.position.set(0,0,10);</span></pre><p id="4c40" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">透视相机构造函数有4个参数:</p><ol class=""><li id="13d4" class="na nb jj ki b kj kk kn ko kr nc kv nd kz ne ld nf ng nh ni bi translated">观点—我通常从75开始</li><li id="5776" class="na nb jj ki b kj nj kn nk kr nl kv nm kz nn ld nf ng nh ni bi translated">纵横比—窗口的内部宽度除以窗口的内部高度</li><li id="c6d5" class="na nb jj ki b kj nj kn nk kr nl kv nm kz nn ld nf ng nh ni bi translated">近剪裁路径</li><li id="7034" class="na nb jj ki b kj nj kn nk kr nl kv nm kz nn ld nf ng nh ni bi translated">远剪裁路径</li></ol><p id="5a36" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki jk">裁剪路径</strong>是你的场景可以被看到的界限。在这个例子中，任何在0.01之前的东西和任何超过1000的东西都会消失。为了更好的描述，检查<a class="ae jg" href="https://threejs.org/docs/#api/en/cameras/PerspectiveCamera" rel="noopener ugc nofollow" target="_blank">透视摄像机</a>。</p><p id="b86b" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">设置好相机后，你需要调整好相机的位置。一个好的开始可能是:</p><pre class="mj mk ml mm gt no np nq nr aw ns bi"><span id="b0b6" class="mn lf jj np b gy nt nu l nv nw">// positions.set parameters are (x,y,z) axis<br/>camera.position.set(0,0,20);</span></pre><h2 id="06da" class="mn lf jj bd lg mo mp dn lk mq mr dp lo kr ms mt ls kv mu mv lw kz mw mx ma my bi translated">渲染器设置</h2><p id="ee48" class="pw-post-body-paragraph kg kh jj ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">要创建渲染器，你需要使用<a class="ae jg" href="https://threejs.org/docs/#api/en/renderers/WebGLRenderer" rel="noopener ugc nofollow" target="_blank"> WebGLRenderer </a>构造函数。一旦创建完毕，你可以使用<strong class="ki jk"> setSize </strong>方法来设置渲染器的大小以适合整个屏幕。</p><pre class="mj mk ml mm gt no np nq nr aw ns bi"><span id="45cd" class="mn lf jj np b gy nt nu l nv nw">renderer = new THREE.WebGLRenderer();<br/>renderer.setSize(window.innerWidth, window.innerHeight);</span></pre><h2 id="0aef" class="mn lf jj bd lg mo mp dn lk mq mr dp lo kr ms mt ls kv mu mv lw kz mw mx ma my bi translated">创建一个DOM元素</h2><p id="be48" class="pw-post-body-paragraph kg kh jj ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">一旦你的场景、相机和渲染器设置好了，我们现在必须创建<a class="ae jg" href="https://www.w3schools.com/html/html5_canvas.asp" rel="noopener ugc nofollow" target="_blank">画布</a>，它将包含所有的组件。<a class="ae jg" href="https://www.w3schools.com/html/html5_canvas.asp" rel="noopener ugc nofollow" target="_blank">画布</a>也将允许我们在<a class="ae jg" href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction" rel="noopener ugc nofollow" target="_blank"> DOM </a>中显示我们的3D应用程序。WebGLRenderer有一个名为<a class="ae jg" href="https://threejs.org/docs/#api/en/renderers/WebGLRenderer.domElement" rel="noopener ugc nofollow" target="_blank"> domElement </a>的方法。当<a class="ae jg" href="https://threejs.org/docs/#api/en/renderers/WebGLRenderer.domElement" rel="noopener ugc nofollow" target="_blank"> domElement </a>被调用时，它将向<a class="ae jg" href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction" rel="noopener ugc nofollow" target="_blank"> DOM </a>显示画布。</p><pre class="mj mk ml mm gt no np nq nr aw ns bi"><span id="6960" class="mn lf jj np b gy nt nu l nv nw">renderer = new THREE.WebGLRenderer();<br/>renderer.setSize(window.innerWidth, window.innerHeight);</span><span id="3828" class="mn lf jj np b gy nx nu l nv nw">document.body.appendChild(renderer.domElement)</span></pre><h2 id="f279" class="mn lf jj bd lg mo mp dn lk mq mr dp lo kr ms mt ls kv mu mv lw kz mw mx ma my bi translated">调整大小和更新功能</h2><p id="acee" class="pw-post-body-paragraph kg kh jj ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">最后，我们需要创建两个基本函数，并在您的<strong class="ki jk"> init </strong>函数中调用它们。</p><ol class=""><li id="19f3" class="na nb jj ki b kj kk kn ko kr nc kv nd kz ne ld nf ng nh ni bi translated"><strong class="ki jk"> resize — </strong>在平板电脑和移动设备上调整应用程序大小的功能。</li><li id="3660" class="na nb jj ki b kj nj kn nk kr nl kv nm kz nn ld nf ng nh ni bi translated"><strong class="ki jk">更新— </strong>渲染场景和摄像机并每帧更新的功能。</li></ol><pre class="mj mk ml mm gt no np nq nr aw ns bi"><span id="e559" class="mn lf jj np b gy nt nu l nv nw">//variables<br/>let scene, camera, renderer;</span><span id="0b21" class="mn lf jj np b gy nx nu l nv nw">init()</span><span id="989c" class="mn lf jj np b gy nx nu l nv nw">function init(){</span><span id="8107" class="mn lf jj np b gy nx nu l nv nw">//threejs code goes here<br/>}</span><span id="b0d1" class="mn lf jj np b gy nx nu l nv nw">function resize(){</span><span id="3c1c" class="mn lf jj np b gy nx nu l nv nw">camera.aspect = window.innerWidth / window.innerHeight;<br/>camera.updateProjectionMatrix();<br/>renderer.setSize( window.innerWidth, window.innerHeight);</span><span id="cdb9" class="mn lf jj np b gy nx nu l nv nw">}</span><span id="c339" class="mn lf jj np b gy nx nu l nv nw">function update(){</span><span id="3156" class="mn lf jj np b gy nx nu l nv nw">requestAnimationFrame(update);<br/>renderer.render(scene, camera);</span><span id="2c7a" class="mn lf jj np b gy nx nu l nv nw">}</span></pre><h2 id="2e92" class="mn lf jj bd lg mo mp dn lk mq mr dp lo kr ms mt ls kv mu mv lw kz mw mx ma my bi translated">最后的步骤</h2><p id="3b84" class="pw-post-body-paragraph kg kh jj ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">在init函数中会调用<strong class="ki jk"> resize </strong>和<strong class="ki jk"> update </strong>函数。最后，调用<strong class="ki jk"> init </strong>函数，如果屏幕变黑，这意味着你已经渲染了你的第一个Three.js场景！</p><p id="3e74" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，您可以开始向场景添加几何体了。查看<a class="ae jg" href="https://threejs.org/docs/#api/en/geometries/BoxGeometry" rel="noopener ugc nofollow" target="_blank"> Three.js文档</a>了解更多信息。</p><p id="d54d" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">查看下面的最后步骤。</p><pre class="mj mk ml mm gt no np nq nr aw ns bi"><span id="c5a9" class="mn lf jj np b gy nt nu l nv nw">let scene, camera, renderer;</span><span id="2b27" class="mn lf jj np b gy nx nu l nv nw">init();</span><span id="6b27" class="mn lf jj np b gy nx nu l nv nw">function init(){</span><span id="ce5b" class="mn lf jj np b gy nx nu l nv nw">scene = new THREE.Scene();<br/>camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.01, 1000);<br/>camera.position.set(0,0,10);</span><span id="00e6" class="mn lf jj np b gy nx nu l nv nw">renderer = new THREE.WebGLRenderer();<br/>renderer.setSize(window.innerWidth, window.innerHeight);</span><span id="7ae6" class="mn lf jj np b gy nx nu l nv nw">document.body.appendChild(renderer.domElement);</span><span id="1428" class="mn lf jj np b gy nx nu l nv nw">window.addEventListener('resize', resize, false);</span><span id="d79b" class="mn lf jj np b gy nx nu l nv nw">update();</span><span id="a6a1" class="mn lf jj np b gy nx nu l nv nw">}</span><span id="191d" class="mn lf jj np b gy nx nu l nv nw">function resize(){</span><span id="0823" class="mn lf jj np b gy nx nu l nv nw">camera.aspect = window.innerWidth / window.innerHeight;<br/>camera.updateProjectionMatrix();<br/>renderer.setSize( window.innerWidth, window.innerHeight);</span><span id="e903" class="mn lf jj np b gy nx nu l nv nw">}</span><span id="45ac" class="mn lf jj np b gy nx nu l nv nw">function update(){</span><span id="765c" class="mn lf jj np b gy nx nu l nv nw">requestAnimationFrame(update);<br/>renderer.render(scene, camera);</span><span id="8d3f" class="mn lf jj np b gy nx nu l nv nw">}</span></pre><h2 id="488d" class="mn lf jj bd lg mo mp dn lk mq mr dp lo kr ms mt ls kv mu mv lw kz mw mx ma my bi translated">请参见下面的代码</h2><figure class="mj mk ml mm gt iv"><div class="bz fp l di"><div class="ny nz l"/></div></figure><h1 id="1ff3" class="le lf jj bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">资源:</h1><p id="73ce" class="pw-post-body-paragraph kg kh jj ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">这里有一些帮助我开始使用Three.js的资源。</p><div class="is it gp gr iu oa"><a href="https://threejs.org/docs" rel="noopener  ugc nofollow" target="_blank"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd jk gy z fp of fr fs og fu fw ji bi translated">三. js</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">编辑描述</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">threejs.org</p></div></div></div></a></div><div class="is it gp gr iu oa"><a href="https://threejsfundamentals.org/threejs/lessons/threejs-fundamentals.html" rel="noopener  ugc nofollow" target="_blank"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd jk gy z fp of fr fs og fu fw ji bi translated">Three.js基础</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">你的第一堂Three.js课从基础开始</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">threejsfundamentals.org</p></div></div><div class="oj l"><div class="ok l ol om on oj oo ja oa"/></div></div></a></div><div class="is it gp gr iu oa"><a href="https://threejs.org/editor/" rel="noopener  ugc nofollow" target="_blank"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd jk gy z fp of fr fs og fu fw ji bi translated">three.js / editor</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">编辑描述</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">threejs.org</p></div></div></div></a></div><div class="is it gp gr iu oa"><a href="https://discoverthreejs.com/" rel="noopener  ugc nofollow" target="_blank"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd jk gy z fp of fr fs og fu fw ji bi translated">欢迎来到three.js的失踪手册！|发现三个. js</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">用缺失的three.js手册把你的网站带入第三维度！Discover three.js是一个令人兴奋的新…</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">discoverthreejs.com</p></div></div><div class="oj l"><div class="op l ol om on oj oo ja oa"/></div></div></a></div><p id="7de4" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae jg" href="https://www.udemy.com/course/hands-on-threejs-3d-web-visualisations/learn/lecture/16247192#overview" rel="noopener ugc nofollow" target="_blank">https://www . udemy . com/course/hands-on-three js-3d-web-visualizations/learn/lecture/16247192 #概述</a></p></div></div>    
</body>
</html>