<html>
<head>
<title>Track Device Data in Real-time with Vonage Messages API and Ubidots</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Vonage消息API和Ubidots实时跟踪设备数据</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/track-device-data-in-real-time-with-vonage-messages-api-and-ubidots-40b71ce1f060?source=collection_archive---------24-----------------------#2020-08-24">https://levelup.gitconnected.com/track-device-data-in-real-time-with-vonage-messages-api-and-ubidots-40b71ce1f060?source=collection_archive---------24-----------------------#2020-08-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/cd2c054814c39acd055b6c8897b8d89e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NCaUMU0d5Hskn2G6Xz5t2w.png"/></div></div></figure><figure class="jz ka kb kc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jy"><img src="../Images/e180b69c1e2fa3abb766fede7ce2de43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Zi3A8sdFUEiNWoeB.png"/></div></div></figure><p id="4b59" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我认为<strong class="kf ir">物联网(IoT) </strong>是一个超级英雄:几乎看不见，但它让我们的工作、社交和个人生活变得更好。超级英雄有巨大的力量在你需要他们的地方出现，无论是在城市、医院、教育机构、制造厂、农场，还是你能想到的任何地方。听起来很像物联网，你不觉得吗？</p><p id="8a4a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们站在娜塔莉亚的角度想想。娜塔莉亚在农业部门使用<a class="ae lb" href="https://www.youtube.com/watch?v=WK_ReQbW1kg&amp;feature=youtu.be" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">猪视觉</strong> </a>工作，这是一种集成了人工智能和神经网络的智能相机。有了这个设备，她可以在不对猪施加压力的情况下获得农场称重过程的实时指标。如果Natalia需要访问数据，但当时没有互联网接入，该怎么办？这就是<a class="ae lb" href="https://www.vonage.com/communications-apis/messages/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> Vonage消息API </strong> </a>的用武之地——如果Natalia通过SMS请求她需要的数据怎么办？</p><p id="c5cb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如今，有许多消息服务和可视化平台，使技术更容易为每个人所用；我们不需要成为专家工程师来创造创新的解决方案。此外，这些服务允许您在几个小时内部署完整的解决方案。以Natalia的使用案例为参考，以及所有可以跨行业存在的基于数据的需求，我认为拥有一个能够独立于互联网访问对设备数据进行实时监控的系统将非常棒。</p><p id="8c58" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本教程中，我将分享使用<a class="ae lb" href="https://www.vonage.com/communications-apis/messages/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir">Vonage Messages API</strong></a>作为消息服务，使用<a class="ae lb" href="https://ubidots.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> Ubidots </strong> </a>作为物联网平台来构建这个系统的详细步骤。首先，让我们了解要实现的体系结构:</p><figure class="jz ka kb kc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lc"><img src="../Images/b1cfd3079c980f9d38f3da109c051049.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MuValLZ_0ZistGn4"/></div></div></figure><p id="ae3b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这些服务的整合是通过UbiFunction实现的，ubi function是一种无服务器的计算环境，它允许我们接收通过HTTP请求发送给我们的虚拟号码的消息。然后，我们能够对其进行分析，以识别所请求的设备和变量，从而将收到的每个请求变量的最后值作为回复发送出去。</p><p id="d707" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">毫无疑问，这个系统将对不同的用例有用。发挥一点创造力，找出它对你正在做的项目有用的地方。事不宜迟，我们开始吧！</p><h1 id="1083" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">先决条件</h1><ul class=""><li id="c942" class="mb mc iq kf b kg md kk me ko mf ks mg kw mh la mi mj mk ml bi translated"><a class="ae lb" href="https://industrial.ubidots.com/accounts/signup_industrial/" rel="noopener ugc nofollow" target="_blank"> Ubidots账户</a></li><li id="7b72" class="mb mc iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated">任何可接入互联网的设备</li></ul><h1 id="804b" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">Vonage API帐户</h1><p id="3412" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mr kq kr ks ms ku kv kw mt ky kz la ij bi translated">要完成本教程，您将需要一个<a class="ae lb" href="http://developer.nexmo.com/ed?c=blog_text&amp;ct=2020-08-06-track-device-data-in-real-time-with-vonage-messages-api-and-ubidots-dr" rel="noopener ugc nofollow" target="_blank"> Vonage API帐户</a>。如果你还没有，你可以<a class="ae lb" href="http://developer.nexmo.com/ed?c=blog_text&amp;ct=2020-08-06-track-device-data-in-real-time-with-vonage-messages-api-and-ubidots-dr" rel="noopener ugc nofollow" target="_blank">今天</a>注册，开始用免费的信用点数建造。一旦你有了一个帐户，你可以在<a class="ae lb" href="http://developer.nexmo.com/ed?c=blog_text&amp;ct=2020-08-06-track-device-data-in-real-time-with-vonage-messages-api-and-ubidots-dr" rel="noopener ugc nofollow" target="_blank"> Vonage API仪表板</a>的顶部找到你的API密匙和API秘密。</p><p id="a838" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">本教程还使用了一个虚拟电话号码。要购买号码，请前往<em class="mu">号码</em> &gt; <em class="mu">购买号码</em>并搜索符合您需求的号码。</p><h1 id="438d" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">物联网平台设置</h1><p id="86a4" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mr kq kr ks ms ku kv kw mt ky kz la ij bi translated">Ubidots允许您快速组装和启动物联网应用程序，而无需编写许多行代码——它简单而强大。要开始使用它，我们只需要<a class="ae lb" href="https://industrial.ubidots.com/accounts/signup_industrial/" rel="noopener ugc nofollow" target="_blank">一个账户</a>和任何可以连接互联网的设备来传输数据到<a class="ae lb" href="https://ubidots.com/docs" rel="noopener ugc nofollow" target="_blank"> Ubidots API </a>。</p><h2 id="02de" class="mv le iq bd lf mw mx dn lj my mz dp ln ko na nb lr ks nc nd lv kw ne nf lz ng bi translated">设备设置</h2><p id="8906" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mr kq kr ks ms ku kv kw mt ky kz la ij bi translated">对于这个项目，我使用了一个<a class="ae lb" href="https://pycom.io/product/sipy/" rel="noopener ugc nofollow" target="_blank"> Pycon SiPy </a>和<a class="ae lb" href="https://pycom.io/product/pysense-2-0-x/" rel="noopener ugc nofollow" target="_blank"> PySense 1 </a>，它允许我们监控环境变量，如温度、湿度、光照强度和压力。然而，如果你有任何其他支持<strong class="kf ir"> HTTP </strong>、<strong class="kf ir"> MQTT </strong>或<strong class="kf ir"> TCP/UDP </strong>作为通信协议的硬件，它也可以被集成。你可以访问<a class="ae lb" href="https://help.ubidots.com/en/collections/356477-connect-your-devices" rel="noopener ugc nofollow" target="_blank"> Ubidots帮助中心</a>获取关于如何使用任何物联网设备向平台发送和控制数据的教程。</p><p id="2c25" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Pycom团队每周都在他们的产品上添加额外的功能，所以在你开始开发之前，确保你的主板运行在<a class="ae lb" href="https://docs.pycom.io/pytrackpysense/installation/firmware/" rel="noopener ugc nofollow" target="_blank">最新固件更新</a>下。此外，如果你使用Windows作为操作系统，你必须<a class="ae lb" href="https://docs.pycom.io/pytrackpysense/installation/drivers/" rel="noopener ugc nofollow" target="_blank">安装所需的驱动</a>。</p><p id="9aba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> <em class="mu">注意</em> </strong> <em class="mu">:如果这是您第一次使用Pycom开发板进行开发，我强烈建议您查看</em> <a class="ae lb" href="https://docs.pycom.io/gettingstarted/" rel="noopener ugc nofollow" target="_blank"> <em class="mu">入门指南</em> </a> <em class="mu">以熟悉所有细节。</em></p><p id="9ab3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">安装<a class="ae lb" href="https://gist.github.com/DanyF-github/63af3ddc3778dad167a0644d0f8ce1e1" rel="noopener ugc nofollow" target="_blank"> Pymakr </a>，这是一个适用于<a class="ae lb" href="https://atom.io/packages/pymakr" rel="noopener ugc nofollow" target="_blank"> Atom </a>和<a class="ae lb" href="https://marketplace.visualstudio.com/items?itemName=pycom.Pymakr" rel="noopener ugc nofollow" target="_blank"> Visual Studio代码</a>的插件，可以在任何Pycom板上运行和同步项目。Pymakr还在连接电路板的终端上增加了一个REPL控制台。</p><p id="1bb7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，根据您的喜好，通过串口或Telnet在Pymakr和您的主板之间建立通信。查看基于您的代码编辑器的安装指南:</p><ul class=""><li id="9f32" class="mb mc iq kf b kg kh kk kl ko nh ks ni kw nj la mi mj mk ml bi translated"><a class="ae lb" href="https://docs.pycom.io/pymakr/installation/atom/" rel="noopener ugc nofollow" target="_blank">原子</a></li><li id="d133" class="mb mc iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated"><a class="ae lb" href="https://docs.pycom.io/pymakr/installation/vscode/" rel="noopener ugc nofollow" target="_blank"> Visual Studio代码</a></li></ul><h2 id="7aae" class="mv le iq bd lf mw mx dn lj my mz dp ln ko na nb lr ks nc nd lv kw ne nf lz ng bi translated">密码</h2><p id="ffa4" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mr kq kr ks ms ku kv kw mt ky kz la ij bi translated">这个项目需要几个外部库，必须下载并集中在一个地方才能正常工作。如果你想把它们和主要代码一起下载，你可以从这里下载。</p><p id="8dc4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你想从头开始，用你喜欢的名字创建一个新项目。我决定给它取名<code class="fe nk nl nm nn b">**_pysense-ubidots-mqtt_**</code>。</p><p id="6228" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<code class="fe nk nl nm nn b">**_pysense-ubidots-mqtt_**</code>项目中，我们将管理所需的库并添加主要代码。为了管理这个，创建一个名为<code class="fe nk nl nm nn b">**_lib_**</code>的新文件夹，以及一个名为<code class="fe nk nl nm nn b">**_main.py_**</code>的新文件</p><p id="a7a2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从<a class="ae lb" href="https://github.com/pycom/pycom-libraries" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> pycom库仓库</strong> </a>中，下载以下库，并将其放入刚刚创建的<code class="fe nk nl nm nn b">**_lib_**</code>文件夹中:</p><ul class=""><li id="2834" class="mb mc iq kf b kg kh kk kl ko nh ks ni kw nj la mi mj mk ml bi translated"><a class="ae lb" href="https://github.com/pycom/pycom-libraries/blob/master/pysense/lib/pysense.py" rel="noopener ugc nofollow" target="_blank"> PySense </a></li><li id="01aa" class="mb mc iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated"><a class="ae lb" href="https://github.com/pycom/pycom-libraries/blob/master/pysense/lib/LTR329ALS01.py" rel="noopener ugc nofollow" target="_blank"> LTR329ALS01 </a></li><li id="8ba3" class="mb mc iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated"><a class="ae lb" href="https://github.com/pycom/pycom-libraries/blob/master/pysense/lib/MPL3115A2.py" rel="noopener ugc nofollow" target="_blank"> MPL3115A2 </a></li><li id="95eb" class="mb mc iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated"><a class="ae lb" href="https://github.com/pycom/pycom-libraries/blob/master/pysense/lib/SI7006A20.py" rel="noopener ugc nofollow" target="_blank"> SI7006A20 </a></li><li id="4539" class="mb mc iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated"><a class="ae lb" href="https://github.com/pycom/pycom-libraries/blob/master/lib/pycoproc/pycoproc.py" rel="noopener ugc nofollow" target="_blank">pycorpc</a></li><li id="7d8f" class="mb mc iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated"><a class="ae lb" href="https://github.com/micropython/micropython-lib/tree/master/umqtt.simple" rel="noopener ugc nofollow" target="_blank"> umqtt.simple </a></li><li id="7b07" class="mb mc iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated"><a class="ae lb" href="https://github.com/micropython/micropython-lib/tree/master/umqtt.robust" rel="noopener ugc nofollow" target="_blank"> umqtt.robuts </a></li></ul><p id="abf5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下载这些库后，项目文件夹中应该有以下结构:</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="0bc6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这些库允许我们与主板(在我的例子中是SiPy)和PySense通信，并通过MQTT上的Ubidots管理数据。</p><p id="469b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将下面的代码复制到<code class="fe nk nl nm nn b">main.py</code>文件中。该代码不断向Ubidots发布温度、湿度、压力和海拔值:</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="85b4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">除了复制和粘贴，我们还可以看看代码是如何工作的。首先，必须导入所需的库:</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="565c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后在下面的变量中，我们分配网络凭证来建立连接:</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="6e7a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了通过MQTT建立与Ubidots帐户的通信，我们必须定义代理地址、客户端以及用于通信认证的用户名:</p><ul class=""><li id="4463" class="mb mc iq kf b kg kh kk kl ko nh ks ni kw nj la mi mj mk ml bi translated"><strong class="kf ir"> MQTT经纪人</strong> : <code class="fe nk nl nm nn b">industrial.api.ubidots.com</code>或<code class="fe nk nl nm nn b">169.55.61.243</code>。</li><li id="88a8" class="mb mc iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated"><strong class="kf ir"> MQTT客户端</strong>:客户端-服务器通信的唯一标识符。建议使用设备的MAC地址作为客户端的标识符，因为它是每个设备的唯一值。</li><li id="c0e2" class="mb mc iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated"><strong class="kf ir"> MQTT用户名</strong>:验证与代理的通信。在Ubidots的情况下，我们必须将<a class="ae lb" href="https://help.ubidots.com/en/articles/590078-find-your-token-from-your-ubidots-account" rel="noopener ugc nofollow" target="_blank">帐户令牌</a>指定为用户名。</li></ul><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="82d4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，分配<a class="ae lb" href="https://help.ubidots.com/en/articles/736670-how-to-adjust-the-device-name-and-variable-name" rel="noopener ugc nofollow" target="_blank">设备标签</a>。这个标签是唯一的标识符，它将允许我们与Ubidots进行通信，发布或订阅某个主题的数据。它可以是字符串唯一值或设备的MAC地址。在我的例子中，我将<code class="fe nk nl nm nn b">weather-station</code>指定为设备标签:</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="9139" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要完成声明，将所需的数据速率指定为<code class="fe nk nl nm nn b">message_interval</code>。默认情况下，该变量设置为五秒。<code class="fe nk nl nm nn b">last_message</code>变量将保存最后一次发送消息的时间。</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="cd5a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，是时候将板连接到本地网络了。首先，我们创建一个<code class="fe nk nl nm nn b">WLAN</code>网络接口对象。正如你在下面看到的，这个对象是在<code class="fe nk nl nm nn b">wlan</code>变量下创建的，并被配置成使用外部天线，因为我把设备部署在离路由器稍远的地方。如果要使用内置天线，使用<code class="fe nk nl nm nn b">wlan.antenna(WLAN.INT_ANT)</code>即可。</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="3431" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，功能<code class="fe nk nl nm nn b">wifi_connect()</code>建立与指定网络的通信:</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="c1f4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是<code class="fe nk nl nm nn b">wifi_connect</code>函数到底在做什么呢？正如您在下面看到的，它承担建立网络连接的任务，并且只有在连接成功建立的情况下才返回网络参数。如果出现问题，将会报告该问题，并且设备将会重新启动以重试连接。</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="d88a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，将PySense板初始化为<code class="fe nk nl nm nn b">py</code></p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="d0d3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了防止与代理的通信问题，将在进入<code class="fe nk nl nm nn b">while</code>之前建立连接。然而，如果出现任何通信问题，<code class="fe nk nl nm nn b">umqtt</code>库将管理自动重新连接。如果由于其他原因无法建立连接，例如代理关闭，则板将重新启动以尝试再次建立连接。</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="6706" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">函数<code class="fe nk nl nm nn b">connect_mqtt()</code>打开一个到指定代理的新MQTT连接:</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="5102" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，正如您在下面看到的，主代码实际上负责三个进程。</p><p id="9754" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，检查网络连接:</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="3035" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后每5秒向Ubidots发布一次传感器数据:</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="5900" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里，函数<code class="fe nk nl nm nn b">read_sensors()</code>负责从所有传感器获取读数，并构建一个JSON有效载荷发送给Ubidots:</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="b645" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，如果代理出现错误，请重启电路板:</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="0882" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">功能<code class="fe nk nl nm nn b">restart_and_reconnect()</code>重启板卡，重新连接代理。</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="fa26" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦你有了Pymakr中的代码，你就可以通过按下<em class="mu">上传</em>按钮将代码上传到板上。等待几秒钟，直到设备完成编译。</p><p id="51cc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从Ubidots帐户，转到<em class="mu">设备&gt;设备</em>部分，查看一旦收到传感器数据，如何自动创建<code class="fe nk nl nm nn b">weather-station</code>设备:</p><figure class="jz ka kb kc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nq"><img src="../Images/3abc2984b63726325bf8e3421ccd50bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DnGev6oq92bQKe6_"/></div></div></figure><p id="3dc0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">可选的Ubidots允许我们用友好的名称、颜色、图标和描述来定制设备和变量。请注意，设备和变量标签不能更改，因为标签是处理设备和平台之间通信的标签。</p><p id="c439" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我的例子中，我定制了变量<a class="ae lb" href="https://help.ubidots.com/en/articles/736670-how-to-adjust-the-device-name-and-variable-name" rel="noopener ugc nofollow" target="_blank">名称</a>、<a class="ae lb" href="https://help.ubidots.com/en/articles/904812-how-to-change-a-variable-s-description-icon" rel="noopener ugc nofollow" target="_blank">图标</a>、<a class="ae lb" href="https://help.ubidots.com/en/articles/1560178-dashboards-add-units-of-measure" rel="noopener ugc nofollow" target="_blank">单位</a>和颜色。</p><p id="b705" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">定制前:</p><figure class="jz ka kb kc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nr"><img src="../Images/922e8fe93c90ef54fbd140995a630883.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iLjGtl5GJnzjnrOF"/></div></div></figure><p id="74da" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">定制后:</p><figure class="jz ka kb kc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nq"><img src="../Images/29b85697856bd8ea48fc7c8ca58dca68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cxzm2e9xFR2q6KGB"/></div></div></figure><h2 id="1f20" class="mv le iq bd lf mw mx dn lj my mz dp ln ko na nb lr ks nc nd lv kw ne nf lz ng bi translated">仪表板设置</h2><p id="657b" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mr kq kr ks ms ku kv kw mt ky kz la ij bi translated">我喜欢使用Ubidots的一个原因是它们提供了引人注目的可视化效果。它们还有各种各样的小部件，允许您完全定制您想要的仪表板外观。仪表板是物联网解决方案的一个非常重要的部分，因为我们可以从世界任何地方的设备上访问所有数据，但是…只有在我们有互联网连接的情况下。</p><p id="38b6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要创建仪表板，请导航至_ Data &gt; Dashboard _部分。然后，点击<em class="mu">新仪表板</em>并指定所需名称。</p><p id="2392" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要添加新的小部件，只需单击蓝色加号图标，选择小部件类型，设置一些可视化定制。此时，是时候发挥创造力，开始探索Ubidots提供的不同小部件了。</p><p id="5f97" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是我的仪表板的样子！</p><figure class="jz ka kb kc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ns"><img src="../Images/5a70058959dd096f1973d9b5f3a6a3c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Btx0HQ0dUJi5lGEO"/></div></div></figure><p id="726e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有关仪表板和小部件设置的更多信息，我强烈建议您查看以下指南:</p><ul class=""><li id="ade6" class="mb mc iq kf b kg kh kk kl ko nh ks ni kw nj la mi mj mk ml bi translated"><a class="ae lb" href="https://help.ubidots.com/en/articles/2400308-create-dashboards-and-widgets" rel="noopener ugc nofollow" target="_blank">创建仪表板和小部件</a></li><li id="8763" class="mb mc iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated"><a class="ae lb" href="https://help.ubidots.com/en/articles/3189001-application-branding-custom-styles-for-your-dashboards-and-widgets" rel="noopener ugc nofollow" target="_blank">应用品牌:为您的仪表盘和部件定制风格</a></li></ul><h1 id="e98b" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">Vonage设置</h1><p id="1344" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mr kq kr ks ms ku kv kw mt ky kz la ij bi translated">多亏了<a class="ae lb" href="https://www.vonage.com/communications-apis/messages/" rel="noopener ugc nofollow" target="_blank"> Vonage消息API </a>，我们能够以一种简单的方式启用不同的消息传递策略。它不仅允许我们发送<a class="ae lb" href="https://www.vonage.com/communications-apis/sms/" rel="noopener ugc nofollow" target="_blank">短信</a>，还允许通过不同渠道进行交流，包括<a class="ae lb" href="https://www.vonage.com/communications-apis/messages/features/mms/" rel="noopener ugc nofollow" target="_blank">彩信</a>、<a class="ae lb" href="https://www.vonage.com/communications-apis/messages/features/whatsapp/" rel="noopener ugc nofollow" target="_blank"> Whatsapp </a>、<a class="ae lb" href="https://www.vonage.com/communications-apis/messages/features/facebook-messenger/" rel="noopener ugc nofollow" target="_blank"> Facebook Messenger </a>和<a class="ae lb" href="https://www.vonage.com/communications-apis/messages/features/viber/" rel="noopener ugc nofollow" target="_blank"> Viber </a>。对于这个项目，我将使用短信频道，因为我想演示如何请求数据时，你没有互联网接入。</p><p id="9804" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们看看下面设置Vonage帐户的步骤:</p><ol class=""><li id="942c" class="mb mc iq kf b kg kh kk kl ko nh ks ni kw nj la nt mj mk ml bi translated">访问您的Vonage帐户。如果您还没有，请<a class="ae lb" href="http://developer.nexmo.com/ed?c=blog_text&amp;ct=2020-08-06-track-device-data-in-real-time-with-vonage-messages-api-and-ubidots-dr" rel="noopener ugc nofollow" target="_blank">注册</a>并从今天开始创建。</li><li id="4abd" class="mb mc iq kf b kg mm kk mn ko mo ks mp kw mq la nt mj mk ml bi translated">登录后，在<a class="ae lb" href="https://dashboard.nexmo.com/" rel="noopener ugc nofollow" target="_blank"> Vonage API仪表板</a>顶部找到您帐户的<a class="ae lb" href="https://developer.nexmo.com/concepts/guides/authentication#api-key-and-secret" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> API密钥&amp; API秘密</strong> </a>。从Ubidots等外部服务建立通信时，需要这些凭据。请注意，这些凭证应该始终保持安全，决不能共享。</li><li id="0d71" class="mb mc iq kf b kg mm kk mn ko mo ks mp kw mq la nt mj mk ml bi translated">创建一个<a class="ae lb" href="https://developer.nexmo.com/application/overview" rel="noopener ugc nofollow" target="_blank">T21新应用</a>。你可以通过使用Vonage API仪表板来实现这一点——只需进入<em class="mu">我们的应用&gt; +创建一个新的应用</em>并为其指定一个名称——或者通过<a class="ae lb" href="https://developer.nexmo.com/application/code-snippets/create-application" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">发送一个HTTP请求</strong> </a>。为了让这个指南对用户友好，我决定直接从仪表盘开始。你只需要处理几次点击，分配一个名字，就是这样！</li><li id="00e4" class="mb mc iq kf b kg mm kk mn ko mo ks mp kw mq la nt mj mk ml bi translated">要接收入站信息，你需要租用一个<a class="ae lb" href="https://developer.nexmo.com/numbers/overview" rel="noopener ugc nofollow" target="_blank">虚拟号码</a>。可以使用<a class="ae lb" href="https://developer.nexmo.com/numbers/guides/number-management" rel="noopener ugc nofollow" target="_blank">开发者仪表盘</a>、<a class="ae lb" href="https://developer.nexmo.com/numbers/guides/numbers-cli" rel="noopener ugc nofollow" target="_blank"> Nexmo CLI </a>或<a class="ae lb" href="https://developer.nexmo.com/api/numbers" rel="noopener ugc nofollow" target="_blank"> API </a>租用该号码。</li><li id="21db" class="mb mc iq kf b kg mm kk mn ko mo ks mp kw mq la nt mj mk ml bi translated">点击应用程序号码部分的<em class="mu">链接</em>按钮，将租用号码链接到之前创建的应用程序。</li></ol><figure class="jz ka kb kc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nu"><img src="../Images/c547a2bcf364916e0d2a077060012f05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*o0V4IGO4qbBVleYZ"/></div></div></figure><h1 id="574f" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">Vonage和Ubidots集成</h1><p id="6f7c" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mr kq kr ks ms ku kv kw mt ky kz la ij bi translated">在Ubidots账户上，转到<em class="mu">设备&gt;功能</em>部分，点击位于网站右上角的加号图标，创建一个新功能。要创建该函数，您必须分配以下参数:</p><ul class=""><li id="04ff" class="mb mc iq kf b kg kh kk kl ko nh ks ni kw nj la mi mj mk ml bi translated"><strong class="kf ir">姓名</strong> : <code class="fe nk nl nm nn b">Vonage Messages API</code></li><li id="abde" class="mb mc iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated"><strong class="kf ir"> HTTP方法</strong> : <code class="fe nk nl nm nn b">POST</code></li><li id="85d8" class="mb mc iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated"><strong class="kf ir">运行时</strong> : <code class="fe nk nl nm nn b">NodeJs 10</code></li></ul><p id="dfd4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> <em class="mu">注</em></strong><em class="mu">:ubi function也可以用Python编程，但本指南提供的代码在NodeJS中。</em></p><p id="b983" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">配置完成后，按下<em class="mu">激活</em>按钮。此时，我们将看到<code class="fe nk nl nm nn b">HTTPS Endpoint URL</code>字段自动完成，端点将从Vonage接收消息。</p><p id="a03c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我的例子中，生成的URL是:<code class="fe nk nl nm nn b"><a class="ae lb" href="https://parse.ubidots.com/prv/{ubidots_username}/vonage-messages-api." rel="noopener ugc nofollow" target="_blank">https://parse.ubidots.com/prv/{ubidots_username}/vonage-messages-api</a></code> <a class="ae lb" href="https://parse.ubidots.com/prv/{ubidots_username}/vonage-messages-api." rel="noopener ugc nofollow" target="_blank">。</a></p><p id="ab26" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后在Vonage开发者门户上，导航到<em class="mu">设置</em>部分，点击您的用户名，然后在<em class="mu">默认短信设置</em>选项下分配以下参数。最后，保存更改。</p><ul class=""><li id="8202" class="mb mc iq kf b kg kh kk kl ko nh ks ni kw nj la mi mj mk ml bi translated"><strong class="kf ir">发货回执</strong> : HTTPS端点URL生成+ <code class="fe nk nl nm nn b">/webhooks/delivery-receipts</code>:</li></ul><p id="898f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe nk nl nm nn b"><a class="ae lb" href="https://parse.ubidots.com/prv/{ubidots_username}/vonage-messages-api/webhooks/delivery-receipts" rel="noopener ugc nofollow" target="_blank">https://parse.ubidots.com/prv/{ubidots_username}/vonage-messages-api/webhooks/delivery-receipts</a></code></p><ul class=""><li id="339d" class="mb mc iq kf b kg kh kk kl ko nh ks ni kw nj la mi mj mk ml bi translated"><strong class="kf ir">入站消息</strong> : HTTPS端点URL生成+ <code class="fe nk nl nm nn b">/webhooks/inbound-message</code>:</li></ul><p id="f51e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe nk nl nm nn b"><a class="ae lb" href="https://parse.ubidots.com/prv/{ubidots_username}/vonage-messages-api/webhooks/inbound-message" rel="noopener ugc nofollow" target="_blank">https://parse.ubidots.com/prv/{ubidots_username}/vonage-messages-api/webhooks/inbound-message</a></code></p><ul class=""><li id="9ad0" class="mb mc iq kf b kg kh kk kl ko nh ks ni kw nj la mi mj mk ml bi translated"><strong class="kf ir"> HTTP方法</strong> : <code class="fe nk nl nm nn b">POST</code></li></ul><p id="b0f3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当消息被发送到虚拟号码时，它将把信息转发到这个端点。</p><p id="b52b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在回到创建的UbiFunction，用下面的代码替换默认代码:</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="ff4c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们必须用<a class="ae lb" href="http://help.ubidots.com/en/articles/590078-find-your-token-from-your-ubidots-account" rel="noopener ugc nofollow" target="_blank"> Ubidots令牌</a>替换<code class="fe nk nl nm nn b">UBIDOTS_TOKEN</code>常量，用<a class="ae lb" href="https://developer.nexmo.com/concepts/guides/authentication#api-key-and-secret" rel="noopener ugc nofollow" target="_blank"> Vonage API Secret </a>替换<code class="fe nk nl nm nn b">VONAGE_API_SECRET</code>，以允许UbiFunction和两个服务之间的通信。</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="7573" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">不要忘记按下<em class="mu">激活</em>按钮保存所做的更改！</p><p id="c1ae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">提供的代码对它的每个过程和功能都有详细的注释，所以理解它应该不会太难。但是，让我们强调一下它是如何工作的:</p><ul class=""><li id="6f4f" class="mb mc iq kf b kg kh kk kl ko nh ks ni kw nj la mi mj mk ml bi translated">UbiFunction主代码负责在发送新的SMS或报告另一个SMS状态时接收Vonage发送的有效载荷。</li><li id="7f33" class="mb mc iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated">然后，分析接收的SMS以识别API密钥、关键字、接收的SMS和发送者。</li><li id="772d" class="mb mc iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated">如果接收到的关键字等于Ubidots，则接收到的文本将被过滤以创建要请求的设备和变量的列表。</li><li id="866b" class="mb mc iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated">创建的列表被迭代以向Ubidots请求每个变量的最后一个值。</li><li id="5645" class="mb mc iq kf b kg mm kk mn ko mo ks mp kw mq la mi mj mk ml bi translated">所请求的数据被连接成一个字符串，一旦所有数据都被正确请求，该字符串将作为回复发送给发送方。</li></ul><p id="d5fb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了通过SMS令人满意地完成数据请求，我们必须使用以下模板:</p><p id="80a4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">对于单个设备</strong>:</p><p id="694b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">短信请求</strong>:</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="514e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">短信回复</strong>:</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="644c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">短信请求</strong>:</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="a765" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">短信回复</strong>:</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="62f1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> <em class="mu">重要提示</em> </strong> <em class="mu">:只有包含相同变量的设备才支持多设备请求。</em></p><p id="3410" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了检查一切是否正常，让我们向租用的号码发送两条消息，一条使用创建的设备(<code class="fe nk nl nm nn b">weather-station</code>)，另一条使用不存在的设备来区分回复:</p><p id="743c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">请求#1 </strong>:</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="e639" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">请求#2 </strong>:</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="f26a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">收到的答复如下:</p><figure class="jz ka kb kc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nv"><img src="../Images/06199774c4513cdf6f5d31a0b051b8d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Q_YGryuAWfEa5SYG"/></div></div><figcaption class="nw nx gj gh gi ny nz bd b be z dk translated">令人满意的答复</figcaption></figure><figure class="jz ka kb kc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nv"><img src="../Images/0a1b72551de916cfed09ed538149c03f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*k2Rj-RTMOxprNcm6"/></div></div><figcaption class="nw nx gj gh gi ny nz bd b be z dk translated">找不到设备</figcaption></figure><p id="780d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">不出所料，工作正常！现在，如果我们将收到的值与仪表板的值进行比较，我们可以看到它们是相同的:</p><figure class="jz ka kb kc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oa"><img src="../Images/b326daa3ad6ebf08660968c500fbde33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8WWj5hW0L2HVq182"/></div></div></figure><h1 id="246a" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">总结和后续步骤</h1><p id="b039" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mr kq kr ks ms ku kv kw mt ky kz la ij bi translated">当我们谈论物联网时，我们首先想到的是“互联网”，但现实是，即使我们在某些时候无法访问互联网，也有其他替代方法允许我们访问这些数据。</p><p id="4cda" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本指南中，我们已经介绍了通过SMS与Vonage Messages API和Ubidots通信以请求数据所需要知道的一切。然而，您可以扩展这一开发，并将其定制为您能想到的任何物联网应用，无论是家庭灯光控制应用、传感器社区网络、定制聊天机器人等等。</p><p id="7a3e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，你可以探索由<a class="ae lb" href="https://www.vonage.com/communications-apis/messages/" rel="noopener ugc nofollow" target="_blank"> Vonage消息API </a>提供的其他渠道，我很确定有了它，你就可以开始创作你的下一个超级英雄了。:)</p></div><div class="ab cl ob oc hu od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ij ik il im in"><p id="8311" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mu">最初发布于</em><a class="ae lb" href="https://www.nexmo.com/blog/2020/08/06/track-device-data-in-real-time-with-vonage-messages-api-and-ubidots-dr" rel="noopener ugc nofollow" target="_blank"><em class="mu">https://www . NEX mo . com/blog/2020/08/06/track-device-data-in-real-time-with-vonage-messages-API-and-ubi dots-dr</em></a></p></div></div>    
</body>
</html>