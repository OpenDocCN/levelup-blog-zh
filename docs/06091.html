<html>
<head>
<title>Object Indexing in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Reactä¸­çš„å¯¹è±¡ç´¢å¼•</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/object-indexing-in-react-269295e1eae2?source=collection_archive---------5-----------------------#2020-10-26">https://levelup.gitconnected.com/object-indexing-in-react-269295e1eae2?source=collection_archive---------5-----------------------#2020-10-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ba07" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">åœæ­¢è¿‡åº¦ä½¿ç”¨æ•°ç»„å‡½æ•°</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4497771cc2dc2d15940290554da6428b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RU89TcfRAR5mmclMX9x57w.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">æ ¼ä¼¦Â·å¡æ–¯æ»•æ–¯-å½¼å¾—æ–¯åœ¨<a class="ae ky" href="https://unsplash.com/s/photos/lists?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹æ‘„çš„ç…§ç‰‡</figcaption></figure><p id="a4f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">JavaScriptæ•°ç»„æ–¹æ³•å¯èƒ½éå¸¸æ–¹ä¾¿ï¼Œä½†æœ‰æ—¶ä¼šè¢«è¿‡åº¦ä½¿ç”¨ã€‚è¿™äº›æ•°ç»„å‡½æ•°æ˜“äºè°ƒç”¨ï¼Œå°‘é‡çš„ä»£ç /é™ä½çš„å¤æ‚æ€§å¯èƒ½ä¼šå¯¼è‡´å¼€å‘äººå‘˜åœ¨å®ƒä»¬å¯èƒ½ä¸æ˜¯æœ€æœ‰æ•ˆçš„æ–¹æ³•æ—¶è¿‡äºä¾èµ–å®ƒä»¬ã€‚è¿™å°±å¼•å‡ºäº†æœ¬æ–‡çš„ä¸»é¢˜ï¼Œ<strong class="lb iu">å¯¹è±¡ç´¢å¼•</strong>ã€‚</p><p id="4c14" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ç´¢å¼•å…è®¸æˆ‘ä»¬å°†é›†åˆä¸­çš„å¯¹è±¡ä¸ç›¸å…³è”çš„æŸä¸ªæ•°å­—(æˆ–ç´¢å¼•)ç›¸å…³è”ã€‚ä¸ä½¿ç”¨æ•°ç»„ä¸­çš„é¡¹çš„ç´¢å¼•æ¥è®¿é—®è¯¥é¡¹ç±»ä¼¼ï¼Œæ‚¨å¯ä»¥å¯¹å¯¹è±¡ä¸­çš„é¡¹è¿›è¡Œç´¢å¼•ï¼Œä½¿å®ƒä»¬å¯ä»¥åœ¨æŸä¸ªé”®ä¸Šè¢«è®¿é—®ã€‚æŸ¥çœ‹ä¸‹é¢çš„å¯¹è±¡é›†åˆï¼Œé¦–å…ˆä½œä¸ºä¸€ä¸ªæ•°ç»„ï¼Œç„¶åä½œä¸ºä¸€ä¸ªå¯¹è±¡ã€‚</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="215c" class="ma mb it lw b gy mc md l me mf"><strong class="lw iu">Array</strong><br/>[{id: 1, name: "test 1", createdAt: "Sunday Oct 25 2020", "color": "red"}, {id: 2, name: "test 2", createdAt: "Monday Oct 26 2020",  color: "blue"}, ...]</span><span id="02ca" class="ma mb it lw b gy mg md l me mf"><strong class="lw iu">Object<br/></strong>{1: {id: 1, name: "test 1", createdAt: "Sunday Oct 25 2020", color: "red"}, 2: {id: 2, name: "test 2", createdAt: "Monday Oct 26 2020",  color: "blue"}, ...}</span></pre><p id="874b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">åœ¨æ•°ç»„çš„ä¾‹å­ä¸­ï¼Œä½ å¯ä»¥è®¿é—®æ•°ç»„ä¸­çš„ç¬¬äºŒé¡¹ï¼Œä½†æ˜¯è¦å†™<code class="fe mh mi mj lw b">array[1]</code>ã€‚åœ¨å¯¹è±¡ç¤ºä¾‹ä¸­ï¼Œå¯ä»¥é€šè¿‡å†™<code class="fe mh mi mj lw b">object[2]</code>æ¥è®¿é—®å¯¹è±¡ä¸­çš„ç¬¬äºŒé¡¹ã€‚</p><p id="db0b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">é‚£ä¹ˆç´¢å¼•å¦‚ä½•å¸®åŠ©æˆ‘ä»¬åšå‡ºååº”å‘¢ï¼Ÿ</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/5e3d51fd541f49bd81ccb55e1b0fd323.png" data-original-src="https://miro.medium.com/v2/resize:fit:956/1*OXwiMP0SKoXcjWqrlskDgw.gif"/></div></figure><p id="b891" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æƒ³è±¡ä¸€ä¸‹åœ¨ä¸€ä¸ªæ•°ç»„ä¸­æœ‰ä¸€ä¸ªé¡¹ç›®é›†åˆçš„åœºæ™¯ã€‚è¿™äº›é¡¹ç›®ä½œä¸ºé€‰é¡¹å‘ˆç°åœ¨ä¸€ä¸ª<code class="fe mh mi mj lw b">select</code>å…ƒç´ ä¸­ã€‚åœ¨<code class="fe mh mi mj lw b">select</code>å…ƒç´ ä¸‹é¢ï¼Œæœ‰ä¸€ä¸ªæ˜¾ç¤ºç»„ä»¶ï¼Œç”¨äºå‘ˆç°æ‰€é€‰é¡¹çš„å±æ€§(<code class="fe mh mi mj lw b">id, name, createdAt, color</code>)ã€‚è¯·å‚è§ä¸‹é¢çš„ç¤ºä¾‹ã€‚</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ml"><img src="../Images/c0d37d0718db826b5fd3d2a7c7aa60ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hrgNrgu4I3OrHNIzy4m2_w.png"/></div></div></figure><p id="804c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æˆ‘ä»¬å¯ä»¥ä¸º<code class="fe mh mi mj lw b">select</code>å…ƒç´ ç¼–å†™ä¸€ä¸ª<code class="fe mh mi mj lw b">onChange</code>æ–¹æ³•ï¼Œåˆ©ç”¨å¥½çš„olâ€™<code class="fe mh mi mj lw b">find</code>æ•°ç»„æ–¹æ³•æ¥æ›´æ–°å½“å‰çš„<code class="fe mh mi mj lw b">item</code>ã€‚å¤§æ¦‚æ˜¯è¿™æ ·çš„:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="abd4" class="ma mb it lw b gy mc md l me mf">const findItem = (e) =&gt;{<br/>  var newItem = items.find(x=&gt;x.id === e.target.value)<br/>  setItem(newItem) <br/>};</span></pre><p id="c185" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è¿™å¾ˆå¥½ï¼Œä½†æ˜¯å¦‚æœæ•°æ®é›†æ›´å¤§å‘¢ï¼Ÿæˆ–è€…å¦‚æœæ“ä½œå˜å¾—æ›´åŠ å¤æ‚å‘¢ï¼Ÿå¦‚æœæ‚¨è¦æŸ¥æ‰¾çš„å€¼æ˜¯é›†åˆä¸­æŸä¸ªå¯¹è±¡çš„å­å¯¹è±¡ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ</p><p id="6d3d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æˆ‘æƒ³è¯´çš„æ˜¯ï¼Œå°½ç®¡<code class="fe mh mi mj lw b">find</code>å¯¹äºæˆ‘ä»¬å½“å‰çš„ç”¨ä¾‹æ¥è¯´å¹¶ä¸æ˜¯éå¸¸ä½æ•ˆï¼Œä½†å½“åº”ç”¨ç¨‹åºçš„å¤æ‚æ€§æˆ–æ•°æ®é›†çš„å¤§å°å¢åŠ æ—¶ï¼Œå®ƒçš„æ•ˆç‡ä¼šå˜å¾—æ›´ä½ã€‚å¯¹è±¡ç´¢å¼•å¯ä»¥ä¸ºè®¿é—®é›†åˆä¸­çš„é¡¹ç›®æä¾›å¿«é€Ÿæœ‰æ•ˆçš„æ–¹æ³•ã€‚å‚è§ä¸‹é¢çš„<code class="fe mh mi mj lw b">Items</code>ç»„ä»¶ã€‚</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="f6e9" class="ma mb it lw b gy mc md l me mf">import {useState, useEffect} from 'react';<br/>import '../App.css';<br/>import SelectedItem from './SelectedItem';<br/>import items from '../items.json';</span><span id="78b1" class="ma mb it lw b gy mg md l me mf">const Items = () =&gt;{<br/>  <br/>  const [item, setItem] = useState(items[0])</span><span id="188d" class="ma mb it lw b gy mg md l me mf">  const onChangeItem = (e)=&gt;{<br/>    var id = e.target.value<br/>    findItem(id)<br/>  }</span><span id="80a7" class="ma mb it lw b gy mg md l me mf">  const findItem = (id) =&gt;{<br/>    var newItem = items.find(x=&gt;x.id === id)<br/>    setItem(newItem)<br/>  };</span><span id="0688" class="ma mb it lw b gy mg md l me mf">  return (&lt;div&gt;<br/>    Items: &lt;select style={{width: 200}} value={item.id} onChange={onChangeItem}&gt;<br/>      {items.map(x=&gt;{<br/>        return &lt;option key={x.id} value={x.id}&gt;{x.name}&lt;/option&gt;<br/>      })}<br/>    &lt;/select&gt;<br/>    &lt;SelectedItem item={item}/&gt;<br/>  &lt;/div&gt;);<br/>};</span><span id="2666" class="ma mb it lw b gy mg md l me mf">export default Items;</span></pre><p id="09af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨<code class="fe mh mi mj lw b">find</code>æ¥æ£€ç´¢åŸºäºåœ¨<code class="fe mh mi mj lw b">select</code>å…ƒç´ ä¸­é€‰æ‹©çš„<code class="fe mh mi mj lw b">id</code>çš„é¡¹ç›®ã€‚å¦‚æœæ‚¨è¯•å›¾å°†æ•´ä¸ªå¯¹è±¡å­˜å‚¨ä¸º<code class="fe mh mi mj lw b">select</code>å…ƒç´ çš„å€¼ï¼Œæ‚¨<em class="mm">å¯èƒ½</em>å¾ˆéš¾åœ¨æ‚¨çš„é›†åˆä¸­æ‰¾åˆ°<code class="fe mh mi mj lw b">[Object object]</code>ğŸ˜ã€‚å¦‚æœæˆ‘ä»¬èƒ½å¤Ÿè®¿é—®ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œè¯¥å¯¹è±¡çš„é”®æ˜¯é¡¹ç›®idï¼Œå¹¶ä¸”è¿™äº›é”®æŒ‡å‘ä¼´éšçš„å¯¹è±¡ï¼Œé‚£å°†ä¼šå¾ˆæ–¹ä¾¿ã€‚å¦‚æœæˆ‘ä»¬æ²¡æœ‰(æ¯”å¦‚ä¸Šé¢çš„ä¾‹å­)ï¼Œæˆ‘ä»¬å¯ä»¥åŸºäºitemsæ•°ç»„åˆ›å»ºä¸€ä¸ªã€‚</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="efa3" class="ma mb it lw b gy mc md l me mf">var map = new Object();<br/>items.forEach(x=&gt;{<br/>  map[x.id] = x<br/>})<br/>console.log(map)</span><span id="0af3" class="ma mb it lw b gy mg md l me mf">&gt;  {1: {id: 1, name: "test 1", createdAt: "Sunday Oct 25 2020", color: "red"}, 2: {id: 2, name: "test 2", createdAt: "Monday Oct 26 2020",  color: "blue"}, ...}</span></pre><p id="4b4f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code class="fe mh mi mj lw b">useState</code>å°†è¿™ä¸ªå¯¹è±¡å­˜å‚¨åœ¨stateä¸­ï¼Œå¹¶ä¸”æˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ª<code class="fe mh mi mj lw b">useEffect</code>é’©å­ä¸­å®ç°ä¸Šé¢çš„é€»è¾‘ã€‚</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="5a48" class="ma mb it lw b gy mc md l me mf">const [itemsMap, setTodosMap] = useState(null)</span><span id="0f4a" class="ma mb it lw b gy mg md l me mf">useEffect(()=&gt;{<br/>  var map = new Object();<br/>  items.forEach(x=&gt;{<br/>    map[x.id] = x<br/>  })<br/>  setTodosMap(map)<br/>}, [items]) //pass items as dependency so the map gets updated if the items list gets updated</span></pre><p id="44fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è¿™æ˜¯æˆ‘ä»¬æ›´æ–°çš„<code class="fe mh mi mj lw b">Items</code>ç»„ä»¶ã€‚</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="5ef6" class="ma mb it lw b gy mc md l me mf">const Items = () =&gt;{<br/>  <br/>  const [item, setItem] = useState(items[0])<br/>  const [itemsMap, setTodosMap] = useState(null)</span><span id="9fdd" class="ma mb it lw b gy mg md l me mf">  useEffect(()=&gt;{<br/>    var map = new Object();<br/>    items.forEach(x=&gt;{<br/>      map[x.id] = x<br/>    })<br/>    setTodosMap(map)<br/>  }, [items])</span><span id="b0de" class="ma mb it lw b gy mg md l me mf">  const onChangeItem = (e)=&gt;{<br/>    var id = e.target.value<br/>    findItem(id)<br/>  }</span><span id="1a0c" class="ma mb it lw b gy mg md l me mf">  const findItem = (id) =&gt;{<br/>    var newItem = items.find(x=&gt;x.id === id)<br/>    setItem(newItem)<br/>  };</span><span id="f07b" class="ma mb it lw b gy mg md l me mf">  return (&lt;div&gt;<br/>    Items: &lt;select style={{width: 200}} value={item.id} onChange={onChangeItem}&gt;<br/>      {items.map(x=&gt;{<br/>        return &lt;option key={x.id} value={x.id}&gt;{x.name}&lt;/option&gt;<br/>      })}<br/>    &lt;/select&gt;<br/>    &lt;SelectedItem item={item}/&gt;<br/>  &lt;/div&gt;);<br/>};</span><span id="ebd1" class="ma mb it lw b gy mg md l me mf">export default Items;</span></pre><p id="cb94" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ç°åœ¨æˆ‘ä»¬æœ‰äº†åœ°å›¾ï¼Œæˆ‘ä»¬ä¸å†éœ€è¦ä½¿ç”¨æ‰§è¡Œ<code class="fe mh mi mj lw b">find</code>æ•°ç»„æ–¹æ³•çš„<code class="fe mh mi mj lw b">findItem</code>å‡½æ•°ã€‚ç°åœ¨æˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯ä½¿ç”¨<code class="fe mh mi mj lw b">onChangeItem</code>ä¸­çš„<code class="fe mh mi mj lw b">setItem</code>å¹¶å°†<code class="fe mh mi mj lw b">itemsMap</code>ä¸­å·²ç»åœ¨<code class="fe mh mi mj lw b">id</code>ç´¢å¼•<em class="mm">çš„å¯¹è±¡ä¼ é€’ç»™å®ƒã€‚è§ä¸‹æ–‡ã€‚</em></p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="dd7a" class="ma mb it lw b gy mc md l me mf">const onChangeItem = (e)=&gt;{<br/>    var id = e.target.value<br/>    setItem(itemsMap[id])<br/>}</span></pre><p id="9f9e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å°½ç®¡éœ€è¦å®ç°æ›´å¤šçš„ä»£ç /é€»è¾‘ï¼Œä½†ä»é•¿è¿œæ¥çœ‹ï¼Œæ¯æ¬¡æˆ‘ä»¬ä»åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªæ–°é¡¹ç›®æ—¶ï¼Œç´¢å¼•ä¼šæ¯”ä½¿ç”¨<code class="fe mh mi mj lw b">find</code>æ›´æœ‰æ•ˆã€‚é€šè¿‡åˆ©ç”¨å¯¹è±¡ç´¢å¼•ï¼Œæˆ‘ä»¬çš„Reactåº”ç”¨ç¨‹åºä¸éœ€è¦ä¾èµ–æ•°ç»„æ–¹æ³•ï¼Œå¦‚æœæ•°æ®é›†å¢é•¿æˆ–åº”ç”¨ç¨‹åºå¤æ‚æ€§å¢åŠ ï¼Œæ•°ç»„æ–¹æ³•å¯èƒ½ä¼šå˜å¾—éå¸¸æ˜‚è´µã€‚</p><p id="1975" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è¿™ç¯‡æ–‡ç« çš„æºä»£ç å¯ä»¥åœ¨<a class="ae ky" href="https://github.com/macro6461/medium-object-indexing" rel="noopener ugc nofollow" target="_blank"> GitHub </a>ä¸Šæ‰¾åˆ°ã€‚</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><p id="89e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://matt-croak.medium.com/membership" rel="noopener"> <em class="mm">åœ¨è¿™é‡Œå°†ä½ çš„å…è´¹åª’ä½“ä¼šå‘˜å‡çº§ä¸ºä»˜è´¹ä¼šå‘˜</em> </a> <em class="mm">ï¼Œæ¯æœˆåªéœ€5ç¾å…ƒï¼Œä½ å°±å¯ä»¥è·å¾—æ•°åƒä½ä½œå®¶çš„æ— é™é‡æ— å¹¿å‘Šæ•…äº‹ã€‚è¿™æ˜¯ä¸€ä¸ªé™„å±é“¾æ¥ï¼Œä½ çš„ä¼šå‘˜èµ„æ ¼çš„ä¸€éƒ¨åˆ†å¸®åŠ©æˆ‘ä¸ºæˆ‘åˆ›é€ çš„å†…å®¹è·å¾—å¥–åŠ±ã€‚è°¢è°¢å¤§å®¶ï¼</em></p><h1 id="2531" class="mu mb it bd mv mw mx my mz na nb nc nd jz ne ka nf kc ng kd nh kf ni kg nj nk bi translated">å‚è€ƒ</h1><div class="nl nm gp gr nn no"><a href="https://github.com/macro6461/medium-object-indexing" rel="noopener  ugc nofollow" target="_blank"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd iu gy z fp nt fr fs nu fu fw is bi translated">macro 6461/ä»‹è´¨å¯¹è±¡ç´¢å¼•</h2><div class="nv l"><h3 class="bd b gy z fp nt fr fs nu fu fw dk translated">è¿™ä¸ªé¡¹ç›®æ˜¯ç”¨Create React Appå¼•å¯¼çš„ã€‚åœ¨é¡¹ç›®ç›®å½•ä¸­ï¼Œæ‚¨å¯ä»¥è¿è¡Œ:åœ¨â€¦ä¸­è¿è¡Œåº”ç”¨ç¨‹åº</h3></div><div class="nw l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">github.com</p></div></div><div class="nx l"><div class="ny l nz oa ob nx oc ks no"/></div></div></a></div></div></div>    
</body>
</html>