# 我再也不会回到 JavaScript 了

> 原文：<https://levelup.gitconnected.com/ill-never-go-back-to-javascript-16370dc264a0>

## 但是我喜欢它留下的遗产

![](img/3a6fe7e99b361cf3e19769fa974acb74.png)

JavaScript 可能是现代网络的事实语言，但它也一直是我选择的脚本语言。编写 Python 代码很有趣，但是如果我有什么需要自动化的，我会选择 node。我选择的服务器端语言曾经是 C#，但是现在它感觉很笨拙，尽管很强大。Node，这个我曾经天真地形容为“昙花一现”的东西，满足了我写的所有东西的需求。我甚至可以用多种不同的方式用 JavaScript 编写 Android 和 iOS 应用程序。

这并不是说它是所有事情的完美工具，但它多年来一直很好地服务于我。我已经坚忍地承认了针对众议院网站前端的缺陷，包括加里·伯恩哈特半开玩笑的“Wat？“光是想想就让我发笑的闪电对话。如果你以前从未看过，现在停止阅读，去看看吧。你可以以后再谢我。

那个闪电谈话已经是推荐阅读清单的一部分了(查看清单？消费清单？)以及 Jonathan Creamer 的“[23 世纪的 JavaScript 架构](https://modernweb.com/javascript-architecture-23rd-century/)”。虽然自 ES6 出现以来，上述文章中的一些内容似乎是多余的，但它对解释 JavaScript 需要从“正常”编程语言(如果有这种东西的话)转变思维方式的事情大有帮助。这篇文章本身就是我 5 年前开始自己的 JavaScript Odyssey 的很大一部分原因。

那么，为什么我现在威胁要离开，再也不回来了？答案很简单。打字稿。

# 什么是 Typescript？

我假设你听说过 Typescript，但如果没有，让我试着总结一下:Typescript 是强类型 Javascript。它增加了您对强类型语言的期望，并且需要一个编译步骤(技术上是“transpilation”)来将类型脚本转换成 JavaScript。这是因为浏览器不理解 Typescript。从技术上讲，Typescript 没有添加任何新的运行时特性，而是为开发人员添加了一些特性。

我听到一些人将 Typescript 描述为一种喜爱或讨厌的语言，但是我还没有和任何尝试过它并讨厌它的人说过话。我和很多犹豫是否尝试的人谈过话——大约在 2016 年年中，我就是其中之一。但我听到的同行对 Typescript 最糟糕的批评是，它是一套额外的学习工具。不仅仅是语言，还有构建过程。然而，大多数现代 web 应用程序在其构建链中至少有一个环节是以 Babel 的形式为 JavaScript 保留的，Babel 是一种允许较新的 JavaScript 在较旧的浏览器上运行的工具。将 Typescript 添加到管道中不应该是火箭科学，尤其是因为 Babel 从 v7 开始就支持 TypeScript 编译。

这不应该是火箭科学，但有时会有这种感觉，这也是 Typescript 新手有时会陷入困境并回到 JavaScript 的怀抱的原因之一，JavaScript 就在浏览器中运行。

# 好处

但是我说过，我从来没有听说过谁采用了 Typescript 而后悔的。好处远远大于困难，特别是在 Angular CLI 或 Create React 应用程序的时代，这两者都允许您在几分钟内开始一个新的启用 Typescript 的项目。

我想你知道这些好处是什么，但如果你不知道，请允许我总结一下:

*   Typescript 的编译步骤意味着您可以及早发现问题，而不是等待运行时失败。
*   您的 IDE 现在可以更早地提示您编译步骤。想象一下，当你引用一个不存在的变量或者你调用一个带有错误参数的函数时，你的 IDE 会告诉你！真正的革命性！(当然，我是在开玩笑，因为“真正的”编程语言已经享受了多年) ***编辑:我怎么强调这一点都不为过。我最近将一个旧项目从 JavaScript 转换为 Typescript，以此来学习代码库的复杂性，这是我从别人那里继承来的。这是一个渐进的过程，在此期间，团队继续提供新功能，但我们遇到了几个错误使用第三方库的代码示例。也许 API 已经改变了，或者有人误读了文档，但是我们传递了某些配置变量，这些变量完全没有作用。Typescript 马上告诉了我们，我们删除了违规的代码。这显然是不需要的，而且非常容易误导人。***
*   当 ECMAScript(驱动 JavaScript 的标准)中提出新特性时，TypeScript 能够尽早采用它们，让您保持领先。

但实际上，主要的好处是 Typescript 使您的代码能够以 JavaScript 无法做到的方式进行自我描述。当我是一个项目的单独开发人员时，JavaScript 并不是那么糟糕，因为我可以把所有的东西都记在脑子里，而且我的记忆力很好，对吗？不对。即使作为一名独立开发人员，我也很容易对自己写的代码失忆。现在，当我写普通的 JavaScript 时，我讨厌去阅读一个函数定义来弄清楚如何使用它。我不知道它返回什么(如果有的话)，也不知道它接受什么样的参数。我可能知道参数的数量和它们的名称，但这并不总是足够的:

这就是我的意思。“错误”是布尔值吗？当我看到第 2 行时，看起来确实是这样，但是从第 2 行到“doTheThing”结束之间的数百万行代码呢？它可能是一个字符串，一个对象，或者谁知道是什么。

你可能会说这种灵活性是一种资产。它可能是，但更多时候它是一个陷阱，引诱你走上容易的道路，这将在你和你的同龄人中造成许多微小的挫折。有没有在别人的代码中感觉像是在迷宫中？这就是你的代码在别人看来的样子。你可以用 JavaScript 写“好”的代码，但是这种语言很少鼓励你这么做。

这就是打字稿的美妙之处。T2 不会强迫你成为一名优秀的开发者。但是它给了你这样做的工具。

# 缺点

有弊端吗？当然有。

*   更多的打字，在这个词的两个意义上。你的键盘会磨损得更快(这可能是那些使用蝶形键盘的人所担心的)。这没什么大不了的，但是一些 JavaScript 开发人员讨厌为每个新函数或变量写出类型。你不*有*去做那件事，但是如果你不使用类型，你为什么使用类型脚本？
*   因为你必须编译你的代码，所以每次更新和每次测试运行都要多花一点时间。但我们说的是第二次。我使用 Typescript 节省的时间远远超过了我编译它所花费的时间。
*   构建项目的复杂性有时真的会让人头疼。这是真实的——如果你不熟悉你的构建工具，建立一个新的项目会是一个令人沮丧的经历。我的短期建议是找到一个入门项目来帮助你——如果你碰巧在考虑这些框架，前面提到的 Angular CLI 和 Create React App 在这方面非常棒。长期？花时间学习工具——TSC、Babel、WebPack 和所有这些好东西。如果您使用 node，请尝试 ts-node。如果你用的是摩卡，试试 ts-摩卡。有一些简单的捷径可以帮助你开始。

虽然感觉我的论点有点片面——我并没有把太多精力放在缺点上，而是放在优点上。我想这和我不会花太多时间去考虑每餐都吃麦当劳的好处是一样的——这样做的好处是有限的(再也不用做饭了……我想就是这样)。

# 统计数据

和往常一样，StackOverflow 提供了衡量我对错的标准。乍一看，我好像离题太远了。根据 StackOverflow 的 2019 年开发者调查，JavaScript 连续第七年成为 StackOverflow 上谈论最多的语言，67.8%的受访者使用它。Typescript 以 21.2%的支持率排在第十位。

然而，在 2018 年，Typescript 的份额为 17.4%，而前一年仅为 9.5%。2016 年，只有 0.47%的受访者使用 Typescript。在这方面，Typescript 有了相当惊人的增长，这主要归功于 Angular 框架，它很早就放弃了 JavaScript 支持。

当你看到“最受欢迎”的语言时，Typescript 甚至更好，它位于 Rust 和 Python 之后，排名第三(73.1%)。JavaScript 在第 11 位(66.8%)。

# 未来

我不认为 Typescript 会很快取代 JavaScript 理解后者对前者的工作至关重要。我们也不会看到 Typescript 在任何浏览器中本地运行。它是一个预处理器，就像 CoffeeScript 在它之前一样。Typescript 和 Coffescript 的区别在于，coffe script 是对它所基于的语言的根本性改变。Typescript 是一种自然进化。这不仅使它更容易学习，而且使将 JavaScript 项目转换成 Typescript 成为一个增量过程。从重命名*开始。现在你已经有了一个 Typescript 项目！然后，您可以开始一步一步地采用这些语言特性。我不能保证它会很容易，但是它会告诉你一些 JavaScript 不能告诉你的代码的事情。当你着手下一个项目时，Typescript 编译器会一直等着你

所以我再也不会回去了。

[](https://gitconnected.com/resume-builder) [## 软件工程师简历生成器和示例| gitconnected

### 免费打造不到 5 分钟的高质量软件工程简历。同步您的个人资料，我们会处理…

gitconnected.com](https://gitconnected.com/resume-builder)