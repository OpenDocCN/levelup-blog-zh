<html>
<head>
<title>I Started Learning the useReducer Hook</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我开始学习useReducer钩子</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/i-started-learning-the-usereducer-hook-4b0b86be5b49?source=collection_archive---------10-----------------------#2021-12-10">https://levelup.gitconnected.com/i-started-learning-the-usereducer-hook-4b0b86be5b49?source=collection_archive---------10-----------------------#2021-12-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="fc36" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">以下是我所学到的和我的代码操场-第1部分</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e2d8ef4b45a2fb5df240df421b8c7df7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Nsrcwjn28GLEgtzqPlaypw.png"/></div></div></figure><p id="0887" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">useReducer是我最喜欢的钩子之一，今天我将分享我是如何一步步学会它的。在本文中，我将介绍理解useReducer钩子的基础。</p><p id="423d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">本教程将介绍<code class="fe lq lr ls lt b">useReducer</code>钩子的基础知识。</p><p id="8d14" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">useReducer用于管理应用程序中的状态，它是<code class="fe lq lr ls lt b">useState</code>钩子的替代物。我们使用useReducer进行高级状态操作。</p><p id="5ef3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果我们经过其他州，它影响的区域可以如下列出。</p><div class="lu lv gp gr lw lx"><a href="https://javascript.plainenglish.io/react-useeffect-hook-tutorial-for-beginners-30626402b739" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd iu gy z fp mc fr fs md fu fw is bi translated">React useEffect Hook初学者教程</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">React useEffect初学者教程，提供真实示例和日常使用模式。</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="mg l"><div class="mh l mi mj mk mg ml ks lx"/></div></div></a></div><div class="lu lv gp gr lw lx"><a rel="noopener  ugc nofollow" target="_blank" href="/learn-react-usestate-hook-a09ccf955537"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd iu gy z fp mc fr fs md fu fw is bi translated">学习反应使用状态挂钩</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">有例子和练习</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="mg l"><div class="mm l mi mj mk mg ml ks lx"/></div></div></a></div><blockquote class="mn mo mp"><p id="e8e6" class="ku kv mq kw b kx ky ju kz la lb jx lc mr le lf lg ms li lj lk mt lm ln lo lp im bi translated">useState — state <br/> useEffect —副作用<br/> useContext —上下文API <br/> useReducer — reducers</p></blockquote><p id="63c6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在进入<code class="fe lq lr ls lt b">useReducer</code>钩子之前，让我们了解一下纯Java脚本中的缩减器</p><p id="0904" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">下面是MDN示例，我已经解释了下面的代码示例。</p><div class="lu lv gp gr lw lx"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd iu gy z fp mc fr fs md fu fw is bi translated">array . prototype . reduce()-JavaScript | MDN</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">reduce()方法在数组的每个元素上执行用户提供的“reducer”回调函数，以便…</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">developer.mozilla.org</p></div></div><div class="mg l"><div class="mu l mi mj mk mg ml ks lx"/></div></div></a></div><p id="2134" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Reducers获取一个函数作为参数，并在每个数组元素上执行该函数。它返回一个值作为结果。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="bf21" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果我们仔细阅读上面的代码，我们可以看到reduce方法有两个参数，而第二个是可选参数。</p><p id="6040" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">作为第一个参数，它采用一个函数，在本例中是<code class="fe lq lr ls lt b">func1</code>。第二个参数默认为0。上面的reduce方法将数组中所有元素的总和作为单个值返回。</p><p id="cf90" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在第9行中，我们发送了一个初始值5，它被添加到array1[0]的初始值中。</p><h2 id="0556" class="mx my it bd mz na nb dn nc nd ne dp nf ld ng nh ni lh nj nk nl ll nm nn no np bi translated">React中的用户</h2><pre class="kj kk kl km gt nq lt nr ns aw nt bi"><span id="bbf0" class="mx my it lt b gy nu nv l nw nx">const [state, dispatch] = useReducer(reducer, initialState);</span></pre><p id="caae" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">另一方面，react useReducer接受2个参数并返回2个参数。</p><p id="ba13" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">useReducer获取Reducer函数和一个初始值(初始状态)作为参数。</p><p id="32d9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">它返回最终状态和一个函数(通常称为dispatch)作为输出。</p><p id="d58c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">下面是react中纯Javascript reduce与useReducer的区别概述。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/dfd5a51a4eef61c7ebca79fab857832b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2TXb4kTCjeY1ATiukmGXtA.png"/></div></div></figure><p id="1c64" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">reduce和useReducer都有两个参数。Js reduce函数获取Reducer函数和初始值作为参数，而useReducer也获取reducer函数和初始状态作为初始参数</p><p id="f718" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Javascript reduce只返回一个值，而<code class="fe lq lr ls lt b">useReducer</code>返回一对值。</p><p id="7ec7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">一对值是一个新的状态和一个作为reducer函数执行的函数。</p><h2 id="7f3e" class="mx my it bd mz na nb dn nc nd ne dp nf ld ng nh ni lh nj nk nl ll nm nn no np bi translated">创建第一个用户</h2><p id="6b2d" class="pw-post-body-paragraph ku kv it kw b kx nz ju kz la oa jx lc ld ob lf lg lh oc lj lk ll od ln lo lp im bi translated">这是代码沙箱</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe mw l"/></div></figure><p id="963a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最终确定的app.js文件</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="37f0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">第一次导入用户</p><pre class="kj kk kl km gt nq lt nr ns aw nt bi"><span id="dcfd" class="mx my it lt b gy nu nv l nw nx">import React, { useReducer } from "react";</span></pre><p id="27c7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在功能应用内使用<code class="fe lq lr ls lt b">useReducer</code>功能</p><pre class="kj kk kl km gt nq lt nr ns aw nt bi"><span id="a761" class="mx my it lt b gy nu nv l nw nx">const [color, dispatch] = useReducer(reducer, initialColor);</span></pre><p id="e043" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们已经将reducer和<code class="fe lq lr ls lt b">initialColor</code>作为参数传递给了<code class="fe lq lr ls lt b">useReducer</code>。让我们像下面这样定义App函数之外的<code class="fe lq lr ls lt b">initialColor</code>和传球减速器函数</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="5cd1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在上面的代码中，你可以看到我们是如何实现reducer函数的。它获取状态和动作作为输入。基于动作，我们运行开关，操作状态值并返回它。</p><p id="36d2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">返回的状态值映射为<code class="fe lq lr ls lt b">color</code></p><p id="b34b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你可以看到我们已经从<code class="fe lq lr ls lt b">useReducer </code>返回了<code class="fe lq lr ls lt b">color, dispatch</code>，现在我们将使用它们。</p><p id="13bc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们可以使用<code class="fe lq lr ls lt b">color</code>变量获得最终状态值，并且可以使用<code class="fe lq lr ls lt b">dispatch</code>函数传递动作值(红色或绿色或黄色)</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="a285" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">每次点击按钮时，我们都使用了<code class="fe lq lr ls lt b">dispatch</code>函数来传递相关的动作值。因此<code class="fe lq lr ls lt b">useReducer</code>根据动作返回修改后的状态值。</p><p id="d345" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你可能会看到上面的功能可以使用<code class="fe lq lr ls lt b">useState</code>钩子来完成。这是真的，但上面的例子只是为了理解基础。在接下来的文章中，我们将看到使用<code class="fe lq lr ls lt b">useReducer</code> hook的其他高级方法。</p><h2 id="e2bb" class="mx my it bd mz na nb dn nc nd ne dp nf ld ng nh ni lh nj nk nl ll nm nn no np bi translated">将对象作为动作和初始状态传递</h2><p id="5529" class="pw-post-body-paragraph ku kv it kw b kx nz ju kz la oa jx lc ld ob lf lg lh oc lj lk ll od ln lo lp im bi translated">下面是我们如何将对象作为状态和动作来传递</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="c741" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">下面是编码沙箱</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe mw l"/></div></figure><p id="c87c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在上面的代码中，您可以看到我在dispatch函数中传递了一个对象，并在reducer中处理了接收到的对象。</p><p id="e67b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我也返回一个对象作为缩减器的输出。初始状态也是一个对象。</p><h2 id="8c08" class="mx my it bd mz na nb dn nc nd ne dp nf ld ng nh ni lh nj nk nl ll nm nn no np bi translated">在多个用户中使用相同的reducer函数</h2><p id="6e0e" class="pw-post-body-paragraph ku kv it kw b kx nz ju kz la oa jx lc ld ob lf lg lh oc lj lk ll od ln lo lp im bi translated">我们还可以使用一个reducer函数来处理多个useReducer挂钩。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="cf9e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在上面的代码中，我在2个<code class="fe lq lr ls lt b">useReducer</code>钩子中使用了相同的reducer函数。对于每个useReducer挂钩，考虑单独的返回值。</p><p id="4fff" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于第二个useReducer，我使用了<code class="fe lq lr ls lt b">countTwo</code>和<code class="fe lq lr ls lt b">dispatchTwo</code>变量。</p><p id="0ba3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">下面是代码沙盒代码</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe mw l"/></div></figure><blockquote class="mn mo mp"><p id="3c4d" class="ku kv mq kw b kx ky ju kz la lb jx lc mr le lf lg ms li lj lk mt lm ln lo lp im bi translated">我希望你喜欢读这篇文章。如果你愿意支持我作为一个作家和我花在分享知识上的时间，考虑注册<a class="ae of" href="https://freelancingcult.medium.com/membership" rel="noopener">成为一个媒体成员</a>。每月只需5美元，你就可以无限制地使用Medium。</p></blockquote></div></div>    
</body>
</html>