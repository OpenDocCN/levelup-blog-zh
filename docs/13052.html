<html>
<head>
<title>How To Upgrade a Package to the Latest Version Using Yarn or NPM</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Yarn或NPM将软件包升级到最新版本</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-upgrade-a-package-to-the-latest-version-using-yarn-or-npm-bce879e67d96?source=collection_archive---------7-----------------------#2022-08-03">https://levelup.gitconnected.com/how-to-upgrade-a-package-to-the-latest-version-using-yarn-or-npm-bce879e67d96?source=collection_archive---------7-----------------------#2022-08-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6ab6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">所以，你一直在推迟升级软件包，现在你需要快速更新到最新版本，以确保你的安全和你的老板高兴？我给你准备了文章。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/21b4c60f1eb1abc255f415c9862d6e54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Dnc_T0MgdF7pqpy4"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">sylvie charron 在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="808b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这一周，我一直忙于一个工作项目，将Docusaurus(来自脸书的基于React的文档静态站点生成器)从某个奇怪的alpha版本升级到刚刚发布的新的2.0版本<a class="ae ky" href="https://www.producthunt.com/posts/docusaurus-2-0" rel="noopener ugc nofollow" target="_blank"/>。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="4724" class="ma mb it lw b gy mc md l me mf">yarn remove @docusaurus/core</span><span id="3bf2" class="ma mb it lw b gy mg md l me mf">yarn add @docusaurus/core</span></pre><p id="efd1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为什么不<code class="fe mh mi mj lw b">yarn add</code>包并指定版本号<code class="fe mh mi mj lw b">@latest</code>？那是因为<code class="fe mh mi mj lw b">package.json</code>版本将会以<code class="fe mh mi mj lw b">latest</code>结束，而不是一个真实的版本。那个<em class="mk">看起来</em>有用，但是如果你想知道你在哪个版本上呢？你每次都必须在npm注册表上查找它。</p><p id="0425" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mh mi mj lw b">npm</code>也是如此，这很好，因为它内置在Node.js中，所以你已经安装了<code class="fe mh mi mj lw b">npm</code>。不需要额外的工作！</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="80f2" class="ma mb it lw b gy mc md l me mf">npm uninstall @docusaurus/core</span><span id="f0a9" class="ma mb it lw b gy mg md l me mf">npm install @docusaurus/core</span></pre><p id="7b8d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我已经切换回全职使用<code class="fe mh mi mj lw b">yarn</code>为<a class="ae ky" href="https://www.urbandictionary.com/define.php?term=for%20no%20reason" rel="noopener ugc nofollow" target="_blank">没有特别的原因</a>，除了我喜欢它如何着色终端。(我猜我是个<a class="ae ky" href="https://www.merriam-webster.com/words-at-play/usage-of-sale-sell" rel="noopener ugc nofollow" target="_blank">易卖</a>。)</p><p id="37d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，如果这篇文章是你决定跟随潮流安装<code class="fe mh mi mj lw b">yarn</code>的原因，你可以从文档中用下面的命令<a class="ae ky" href="https://yarnpkg.com/getting-started/install" rel="noopener ugc nofollow" target="_blank">安装Yarn 3:</a></p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="216f" class="ma mb it lw b gy mc md l me mf">corepack enable<br/>yarn init -2</span></pre></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><h1 id="1d9d" class="ms mb it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">那<code class="fe mh mi mj lw b">yarn upgrade-interactive</code>呢？</h1><p id="7d87" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">那<code class="fe mh mi mj lw b">yarn upgrade-interactive</code>命令呢？Yarn 1中的这个便利工具实际上并没有默认包含在Yarn 3中。你像这样安装它:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="9d9b" class="ma mb it lw b gy mc md l me mf">yarn plugin import interactive-tools</span></pre><p id="e210" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦安装了Yarn 3插件，您就可以在命令行上运行<code class="fe mh mi mj lw b">yarn upgrade-interactive</code>来查看所有过时的包。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="1044" class="ma mb it lw b gy mc md l me mf">yarn upgrade-interactive</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/68704788e37e303af468c52a1befe850.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5rNWljnxh3LUjQWiGzp8fA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">MacOS上iTerm2中“<code class="fe mh mi mj lw b">yarn upgrade-interactive</code>”的作者截图</figcaption></figure><p id="3c11" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行<code class="fe mh mi mj lw b">yarn upgrade-interactive</code>会给出一个漂亮的小界面，让你选择在相同的主要版本或最新版本上升级。</p><p id="3fd5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据<a class="ae ky" href="https://semver.org/" rel="noopener ugc nofollow" target="_blank">语义版本</a>，不应该有任何突破性的变化，除非你正在转移到一个不同的主要版本(更高的第一个数字)，所以这给了你一个伟大的工具，打破你的整个回购！</p><p id="2b47" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好吧，这就是我如何使用它，至少在我的个人项目上。当你在专业地工作时，我发现一次按5个包为一组来升级包是有帮助的，我尽量不破坏东西。😅</p></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><h1 id="6b41" class="ms mb it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">你的<code class="fe mh mi mj lw b">yarn</code>是不是一直坏？</h1><p id="33e0" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">我最近学到的另一个随机但有用的<code class="fe mh mi mj lw b">yarn</code>命令是<code class="fe mh mi mj lw b">yarn clear</code>。显然，当使用Yarn 3(最新版本)时，你不应该在出现问题时随意删除你的<code class="fe mh mi mj lw b">node_modules</code>文件夹。(谁知道呢？)</p><p id="a079" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，相反，Docusaurus给你一个<code class="fe mh mi mj lw b">yarn clear</code>命令，它试图从项目中删除缓存的文件以使工作正常进行。(更普遍的是，你可以在任何项目中尝试<code class="fe mh mi mj lw b">yarn cache clear</code>来获得类似的效果。)</p><p id="54bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行<code class="fe mh mi mj lw b">yarn clear</code>修复了我最近在Docusaurus中工作时遇到的几个“<code class="fe mh mi mj lw b">yarn</code>不会运行”的问题。两个例子:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="b695" class="ma mb it lw b gy mc md l me mf">🐬 yarn clear<br/>[SUCCESS] Removed the Webpack persistent cache folder at "/Users/derek/dev/docs/node_modules/.cache".<br/>/1.8s</span><span id="ed6e" class="ma mb it lw b gy mg md l me mf">🐬 yarn clear<br/>Removing /Users/derek/dev/docs/build<br/>Removing /Users/derek/dev/docs/node_modules/.cache<br/>Removing /Users/derek/dev/docs/.docusaurus                                          /1.7s</span></pre><p id="8f18" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">是的，我在用海豚表情符号🐬在iTerm2中我的<code class="fe mh mi mj lw b">zsh</code>设置中。很可爱，对吧？无论如何，希望你已经了解了一些关于<code class="fe mh mi mj lw b">yarn</code>的知识。</p><p id="e9d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">快乐编码！</strong>🐬</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/b6de58d1deeb5499d8edd1c572c26340.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TNz9EeROZnrFe7Zv"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@bryteeyes3?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Ranae Smith </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><p id="3f85" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">德里克·奥斯汀博士是《T21职业规划:如何在6个月内成为6位数的成功程序员》一书的作者，该书现已在亚马逊上出售。</p></div></div>    
</body>
</html>