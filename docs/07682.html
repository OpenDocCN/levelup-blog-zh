<html>
<head>
<title>How to unit test a SQL query?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何对SQL查询进行单元测试？</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-unit-test-a-sql-query-836a87b311ad?source=collection_archive---------0-----------------------#2021-03-05">https://levelup.gitconnected.com/how-to-unit-test-a-sql-query-836a87b311ad?source=collection_archive---------0-----------------------#2021-03-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="f5d9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里有一个关于一个简单而难以置信的常见挑战的小故事:我正在处理一个SQL查询。这不是一个简单的查询。我正在尝试各种方法。我相信我可能找到了一个可行的解决方案。产生正确的解决方案。我怎么能确定？在保持查询完整性的同时，我如何进一步细化和优化(也称为重构)查询？我仍处于开发阶段，在这个阶段我会做出快速的改变，并希望得到快速的反馈。SQL尚未嵌入到应用程序中，这可能会在以后发生。目前，我只是在努力研究查询的SQL代码。</p><p id="9bcc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">给定我在数据库表中设置的测试数据集，我知道查询应该产生什么——甚至在开始处理SQL之前，我就知道测试用例。因此，我可以通过比较预期结果和SQL语句的实际结果来测试查询。一种无需工具的快速方法是:</p><ul class=""><li id="8513" class="ko kp it js b jt ju jx jy kb kq kf kr kj ks kn kt ku kv kw bi translated">从我的SQL查询中创建一个视图，例如名为<em class="kx"> my_query </em></li><li id="643a" class="ko kp it js b jt ky jx kz kb la kf lb kj lc kn kt ku kv kw bi translated">(对于每个测试用例)创建一个测试查询，将这个视图的结果与内联定义的查询结果进行比较</li><li id="5b61" class="ko kp it js b jt ky jx kz kb la kf lb kj lc kn kt ku kv kw bi translated">创建一个贯穿测试查询的测试套件脚本——或者创建一个测试套件数据库视图，它是所有测试查询的联合</li></ul><p id="cb80" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">第二个查询可能如下所示:</p><pre class="ld le lf lg gt lh li lj lk aw ll bi"><span id="d518" class="lm ln it li b gy lo lp l lq lr">with result_to_verify as<br/>( select *<br/>   from   my_query<br/>)<br/>, expected_result as<br/>( select 'X', 'Y', 42 from dual<br/>   union all<br/>   select 'A', 'B', 3.141592 from dual<br/>)</span><span id="c73b" class="lm ln it li b gy ls lp l lq lr">( select *  <br/>   from result_to_verify  <br/>   minus  <br/>   select *  <br/>   from expected_result  <br/>) —-  superfluous results - there should be none<br/>union all  <br/>(<br/>   select *  <br/>   from expected_result  <br/>   minus  <br/>   select *  <br/>   from result_to_verify  <br/> ) —- missing results - there should be none</span></pre><p id="23ee" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">该查询应该返回零行。</p><p id="6cf3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">应用于本文中的SQL挑战<a class="ae lt" href="https://technology.amis.nl/languages/sql-database/sql-only-counting-records-sufficiently-spaced-apart-using-analytics-with-windowing-clause-and-anti-join/" rel="noopener ugc nofollow" target="_blank">使用带有Windowing子句和Anti Join的分析对充分分隔的记录进行纯SQL计数</a> —我创建了一个解决方案，但由于缺乏测试，结果证明是不正确的！—计算结果如下:</p><p id="6d49" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为我认为是正确解决方案的查询创建视图:</p><figure class="ld le lf lg gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi lu"><img src="../Images/3c9198423975b41e02c0994ed4839220.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*QQgC_8DobKTjrIv2.png"/></div></div></figure><p id="2b10" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">测试执行查询的结果与预期的结果。如果这个查询的结果是没有找到数据，那么这个测试就通过了。</p><figure class="ld le lf lg gt lv gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/f1e2df2be9698666e79ab72e15060750.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*RJBL5_5DTYwOEDX9zN2V3A.png"/></div></figure><p id="278e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">第二个测试案例</p><figure class="ld le lf lg gt lv gh gi paragraph-image"><div class="gh gi md"><img src="../Images/0f23e4b9b90e5c357dbbbebd206d9689.png" data-original-src="https://miro.medium.com/v2/resize:fit:762/format:webp/1*351v6w20CxEjkDjIwBls4A.png"/></div></figure><p id="9aca" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">所有测试用例都可以存储在一个简单的SQL Developer工作表、一个脚本文件甚至是一个返回OK或n OK的存储函数中。</p><p id="d86f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在<a class="ae lt" href="https://livesql.oracle.com/apex/livesql/s/lgn4yxxx2z8o7enfvup2rgkcc" rel="noopener ugc nofollow" target="_blank">实时SQL </a>中尝试这些语句。</p><p id="35a4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">注意:如果我在开始创建我的查询之前创建了这样一个简单的测试工具，我就不会把我的不正确的解决方案发送给我的同事和全世界。当然，测试集的质量——测试数据和测试用例——对我的测试质量至关重要。</p><h1 id="bf19" class="me ln it bd mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na bi translated">使用JSON描述更复杂的结果集</h1><p id="354b" class="pw-post-body-paragraph jq jr it js b jt nb jv jw jx nc jz ka kb nd kd ke kf ne kh ki kj nf kl km kn im bi translated">当我联系Tim Scott和Connor McDonald等受人尊敬的同行，了解他们对简单的SQL查询测试工具的想法时，很明显，测试开发中的SQL查询的简单直接的方法并不存在，我们还得出结论，利用数据库本身来比较查询结果和预期结果是显而易见的方法。有几种方法可以定义预期的结果—例如，作为特殊表中的记录，硬编码在存储过程代码中，或者硬编码在SQL语句中。平衡轻量级与测试结果的可重用性，您可以得到稍微不同的方法。将结果与预期结果进行比较可以如上所示以一种纯关系的方式完成——使用负集操作符——或者可以基于结果的JSON表示来完成。</p><p id="8fae" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用JSON_TABLE，我们可以将JSON文档的内容转换成关系结果集，以便在SQL查询的上下文中使用。下图显示了我们如何将预期结果定义为一个JSON文档，并在与实际结果的比较中使用该文档的内容。</p><figure class="ld le lf lg gt lv gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/3cb498a4b271b8a5b54660ee305e9f4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:822/format:webp/0*ePllMAVfkZy-pZXy.png"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated">将预期结果定义为一个JSON文档——然后使用JSON_TABLE将JSON文档转换为可进行关系处理的行</figcaption></figure><pre class="ld le lf lg gt lh li lj lk aw ll bi"><span id="dc77" class="lm ln it li b gy lo lp l lq lr">with expected_result as (</span><span id="2e85" class="lm ln it li b gy ls lp l lq lr">SELECT *</span><span id="2fa2" class="lm ln it li b gy ls lp l lq lr">FROM JSON_TABLE('</span><span id="9138" class="lm ln it li b gy ls lp l lq lr">[ {"PERSONID" : "1", "BLOCK_START_LOGIN_TIME" : "00:00"}</span><span id="0f31" class="lm ln it li b gy ls lp l lq lr">, {"PERSONID" : "1", "BLOCK_START_LOGIN_TIME" : "02:39"}</span><span id="40aa" class="lm ln it li b gy ls lp l lq lr">, {"PERSONID" : "1", "BLOCK_START_LOGIN_TIME" : "04:59"}</span><span id="5ac3" class="lm ln it li b gy ls lp l lq lr">]' , '$[*]'</span><span id="4689" class="lm ln it li b gy ls lp l lq lr">COLUMNS (PERSONID VARCHAR2(10) PATH '$.PERSONID',</span><span id="1e7d" class="lm ln it li b gy ls lp l lq lr">BLOCK_START_LOGIN_TIME VARCHAR2 PATH '$.BLOCK_START_LOGIN_TIME'</span><span id="22fb" class="lm ln it li b gy ls lp l lq lr">)</span><span id="fd3f" class="lm ln it li b gy ls lp l lq lr">)</span><span id="db07" class="lm ln it li b gy ls lp l lq lr">)</span><span id="59c7" class="lm ln it li b gy ls lp l lq lr">, result_to_verify as (</span><span id="31cf" class="lm ln it li b gy ls lp l lq lr">select PERSONID</span><span id="1ed4" class="lm ln it li b gy ls lp l lq lr">,      BLOCK_START_LOGIN_TIME</span><span id="6207" class="lm ln it li b gy ls lp l lq lr">from   my_query</span><span id="8f26" class="lm ln it li b gy ls lp l lq lr">where  personid = 1</span><span id="3757" class="lm ln it li b gy ls lp l lq lr">)</span><span id="3dbf" class="lm ln it li b gy ls lp l lq lr">( select *</span><span id="b485" class="lm ln it li b gy ls lp l lq lr">from result_to_verify</span><span id="b772" class="lm ln it li b gy ls lp l lq lr">minus</span><span id="9119" class="lm ln it li b gy ls lp l lq lr">select *</span><span id="7ce1" class="lm ln it li b gy ls lp l lq lr">from expected_result</span><span id="aad9" class="lm ln it li b gy ls lp l lq lr">) -- superfluous results</span><span id="28dc" class="lm ln it li b gy ls lp l lq lr">union all</span><span id="a598" class="lm ln it li b gy ls lp l lq lr">(</span><span id="e5cf" class="lm ln it li b gy ls lp l lq lr">select *</span><span id="3978" class="lm ln it li b gy ls lp l lq lr">from expected_result</span><span id="8154" class="lm ln it li b gy ls lp l lq lr">minus</span><span id="dd6a" class="lm ln it li b gy ls lp l lq lr">select *</span><span id="f96f" class="lm ln it li b gy ls lp l lq lr">from result_to_verify</span><span id="1c0d" class="lm ln it li b gy ls lp l lq lr">) -- missing results</span></pre><p id="c22e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，expected_result可以表示为一个JSON文档——这比表示为select value、value、value from dual UNION ALL select …等更方便。请注意' $[*]'路径表达式，它表示我们希望遍历源JSON文档中的所有数组元素——将每个数组元素变成结果集中的一行。我们从每个数组元素中获取PERSONID和BLOCK_START_LOGIN_TIME属性，用$表示。PERSONID和$。块_开始_登录_时间。</p><p id="da0f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们甚至可以用一种更简洁的方式来表达JSON文档:</p><figure class="ld le lf lg gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi nl"><img src="../Images/d1e1d141ae38d7cf6b5abc0cced7e51a.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/0*NljWk6fH6_7PKdGj.png"/></div></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated">以更紧凑的方式定义预期结果；路径表达式是JSON定义和由此产生的关系结果集之间的链接</figcaption></figure><p id="f34b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">或者简洁而有点神秘的:</p><figure class="ld le lf lg gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi nm"><img src="../Images/cd2a5a12a66dcbed15b2c4a5fde61135.png" data-original-src="https://miro.medium.com/v2/resize:fit:646/format:webp/0*yeKl1iiWekJqIOaz.png"/></div></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated">从一个非常简单的JSON数组中产生关系数据</figcaption></figure><p id="dc3c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们可以反过来做，而不是将来自JSON的预期结果转换成关系数据并使用MINUS来比较预期和实际结果集:将实际结果转换成JSON并对JSON文档进行比较。</p><p id="02ef" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">JSON_ARRAYAGG操作符可用于将SQL结果集转换成相应的JSON文档，如下所示:</p><figure class="ld le lf lg gt lv gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/3099df1f413b1f0581b0de52acec22b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:622/format:webp/0*xO49bNPwam2sfoKX.png"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated">演示JSON_ARRYAGG操作符，该操作符将关系结果集转换成JSON文档</figcaption></figure><p id="c0c4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用这个操作符，我们可以将result_to_verify表示为一个JSON文档。现在，expected_result再次被表示为一个JSON文档，针对测试审查下的视图的查询结果也被转换为JSON，如图所示。这个结果(<em class="kx"> result_to_verify </em>)是针对要测试的视图的查询；使用JSON_ARRAYAGG操作符将该查询的结果转换成一个JSON文档。注意ORDER BY的使用JSON文档中记录的顺序在最终的比较中是有意义的。在这种情况下，预期结果是在内联函数内的文本块中定义的。文本块很容易操作。但是它不容易被重用。</p><p id="cb5b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用JSON_EQUAL操作符(在Oracle数据库18c中引入)来比较实际结果和预期结果。这种比较不考虑属性的顺序或无意义的空白。然而数组<em class="kx">中元素的顺序</em>是有意义的。对于既有效又有相同内容的JSON文档，JSON_EQUAL返回true。根据JSON_EQUAL，当预期结果和实际结果不相等时，这里显示的查询将只返回一个结果</p><p id="fd1a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">绿色的是这个测试用例特有的元素。没有突出显示的元素是通用的——它们对于所有的测试用例都是一样的。如此多的内容是通用的——在模板中捕获——这一事实很有吸引力，因为运行这个测试用例不需要创建额外的数据库对象。</p><figure class="ld le lf lg gt lv gh gi paragraph-image"><div class="gh gi no"><img src="../Images/88b894321efbeaccfab94b7b4410d3c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/0*u9-IDSBSYlOqSUfH.png"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated">绿色表示测试用例的特定方面——其他元素构成了测试工具——所有SQL查询单元测试的模板</figcaption></figure><p id="1309" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">用于最后一个示例的代码:</p><pre class="ld le lf lg gt lh li lj lk aw ll bi"><span id="f9cb" class="lm ln it li b gy lo lp l lq lr">with function expected_result return varchar2</span><span id="a616" class="lm ln it li b gy ls lp l lq lr">is</span><span id="6143" class="lm ln it li b gy ls lp l lq lr">begin</span><span id="dc82" class="lm ln it li b gy ls lp l lq lr">return ' [ {"PERSONID" : "1", "BLOCK_START_LOGIN_TIME" : "00:00"}</span><span id="3ebd" class="lm ln it li b gy ls lp l lq lr">, {"PERSONID" : "1", "BLOCK_START_LOGIN_TIME" : "02:39"}</span><span id="4e78" class="lm ln it li b gy ls lp l lq lr">, {"PERSONID" : "1", "BLOCK_START_LOGIN_TIME" : "04:59"}</span><span id="36f9" class="lm ln it li b gy ls lp l lq lr">]';</span><span id="a820" class="lm ln it li b gy ls lp l lq lr">end;</span><span id="ff25" class="lm ln it li b gy ls lp l lq lr">result_to_verify as</span><span id="c14b" class="lm ln it li b gy ls lp l lq lr">( SELECT JSON_ARRAYAGG(JSON_OBJECT(*)) result_json</span><span id="d873" class="lm ln it li b gy ls lp l lq lr">  FROM   my_query</span><span id="9521" class="lm ln it li b gy ls lp l lq lr">  WHERE  personid =1</span><span id="6172" class="lm ln it li b gy ls lp l lq lr">  order</span><span id="c221" class="lm ln it li b gy ls lp l lq lr">  by     BLOCK_START_LOGIN_TIME</span><span id="7d4f" class="lm ln it li b gy ls lp l lq lr">)</span><span id="018d" class="lm ln it li b gy ls lp l lq lr">select 'FAILURE'</span><span id="985c" class="lm ln it li b gy ls lp l lq lr">from   DUAL</span><span id="f470" class="lm ln it li b gy ls lp l lq lr">where  NOT JSON_EQUAL( (select result_json from result_to_verify)<br/>                     , expected_result <br/>                     )</span></pre><p id="56fe" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是预期结果和实际结果不同时的结果。请注意，这并不表示实际结果与期望结果的偏差。为此，我们必须进一步分析这两个JSON文档。</p><figure class="ld le lf lg gt lv gh gi paragraph-image"><div class="gh gi no"><img src="../Images/6d3251a2f8be8b4c450f613195cf0cf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/0*rP9QBL6ulyYQ0zxe.png"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated">在处理了预期的结果之后，<em class="np"> my_query的测试失败了——这是理所应当的</em></figcaption></figure><p id="ead0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">感谢Tim Scott和Connor McDonald愿意就此进行头脑风暴，以及他们的见解和代码贡献。</p><h1 id="d36b" class="me ln it bd mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na bi translated">资源</h1><p id="718d" class="pw-post-body-paragraph jq jr it js b jt nb jv jw jx nc jz ka kb nd kd ke kf ne kh ki kj nf kl km kn im bi translated">Oracle Base (Tim Scott)关于JSON_EQUAL的文章—<a class="ae lt" href="https://oracle-base.com/articles/18c/json_equal-condition-18c" rel="noopener ugc nofollow" target="_blank">https://Oracle-Base . com/articles/18c/JSON _ EQUAL-condition-18c</a></p><p id="90cf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">JSON_EQUAL上的数据库文档<a class="ae lt" href="https://docs.oracle.com/en/database/oracle/oracle-database/21/sqlrf/SQL-JSON-Conditions.html#GUID-35C7012D-FCDB-4106-88C1-CABA78326896" rel="noopener ugc nofollow" target="_blank">https://docs . Oracle . com/en/database/Oracle/Oracle-database/21/sqlrf/SQL-JSON-conditions . html # GUID-35c 7012d-FCDB-4106-88 C1-caba 78326896</a></p><p id="c6fa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">问汤姆—内联函数—<a class="ae lt" href="https://asktom.oracle.com/pls/apex/f?p=100:11:0::::P11_QUESTION_ID:9534452300346807610" rel="noopener ugc nofollow" target="_blank">https://asktom.oracle.com/pls/apex/f?p = 100:11:0::::P11 _ QUESTION _ ID:9534452300346807610</a></p><p id="3268" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Database 21c Docs — JSON开发人员指南—<a class="ae lt" href="https://docs.oracle.com/en/database/oracle/oracle-database/21/index.html" rel="noopener ugc nofollow" target="_blank">https://Docs . Oracle . com/en/database/Oracle/Oracle-database/21/index . html</a></p><p id="ed51" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">JSON_ARRAYAGG上的数据库文档—<a class="ae lt" href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/JSON_ARRAYAGG.html#GUID-6D56077D-78DE-4CC0-9498-225DDC42E054" rel="noopener ugc nofollow" target="_blank">https://Docs . Oracle . com/en/database/Oracle/Oracle-database/19/sqlrf/JSON _ ARRAYAGG . html # GUID-6d 56077d-78DE-4cc 0-9498-225 DDC 42 e 054</a>和JSON _ TABLE<a class="ae lt" href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/JSON_TABLE.html#GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62" rel="noopener ugc nofollow" target="_blank">https://Docs . Oracle . com/en/database/Oracle/Oracle-database/19/sqlrf/JSON _ TABLE。</a></p></div><div class="ab cl nq nr hx ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="im in io ip iq"><p id="c43d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="kx">原载于2021年3月5日</em><a class="ae lt" href="https://technology.amis.nl/database/how-unit-test-a-sql-query/" rel="noopener ugc nofollow" target="_blank"><em class="kx">https://technology . amis . nl</em></a><em class="kx">。</em></p></div></div>    
</body>
</html>