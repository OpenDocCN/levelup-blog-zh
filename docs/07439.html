<html>
<head>
<title>Your First REST API in Golang</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你在Golang的第一个REST API</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/your-first-rest-api-in-golang-with-mux-b87a84746d00?source=collection_archive---------7-----------------------#2021-02-18">https://levelup.gitconnected.com/your-first-rest-api-in-golang-with-mux-b87a84746d00?source=collection_archive---------7-----------------------#2021-02-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="f770" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> Go </strong>由<strong class="jp ir"> 2名谷歌软件工程师</strong>创立。Golang实现的主要目的是它结合了Java和C++两个世界的精华。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/d25c1ba6e7fbd36beed7f969683d8d94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DnnkReGamr7ps_2HlGT_FQ.png"/></div></div></figure><h2 id="39e2" class="kx ky iq bd kz la lb dn lc ld le dp lf jy lg lh li kc lj lk ll kg lm ln lo lp bi translated"><strong class="ak">先决条件:</strong></h2><p id="2971" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">理想情况下，您应该使用代码编辑器或IDE来编写这个API (Visual Studio代码、Sublime Text、Intellij、Atom或任何其他)</p><div class="lv lw gp gr lx ly"><a href="https://code.visualstudio.com/download" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd ir gy z fp md fr fs me fu fw ip bi translated">下载Visual Studio代码- Mac、Linux、Windows</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">Visual Studio代码是免费的，可以在您喜欢的平台上获得——Linux、macOS和Windows。下载Visual Studio…</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">code.visualstudio.com</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm kv ly"/></div></div></a></div><div class="lv lw gp gr lx ly"><a href="https://golang.org/doc/install" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd ir gy z fp md fr fs me fu fw ip bi translated">下载并安装</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">按照此处描述的步骤快速下载并安装Go。关于安装的其他内容，您可能会感兴趣…</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">golang.org</p></div></div><div class="mh l"><div class="mn l mj mk ml mh mm kv ly"/></div></div></a></div><p id="2ae4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您的系统上必须安装了Go。以下是Go网站上指定的步骤。</p><ol class=""><li id="cbba" class="mo mp iq jp b jq jr ju jv jy mq kc mr kg ms kk mt mu mv mw bi translated">去下载吧</li><li id="e126" class="mo mp iq jp b jq mx ju my jy mz kc na kg nb kk mt mu mv mw bi translated">去安装</li><li id="879f" class="mo mp iq jp b jq mx ju my jy mz kc na kg nb kk mt mu mv mw bi translated">Go代码</li></ol></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><blockquote class="nj nk nl"><p id="78be" class="jn jo nm jp b jq jr js jt ju jv jw jx nn jz ka kb no kd ke kf np kh ki kj kk ij bi translated">让我们直接深入代码！</p></blockquote><h1 id="ae39" class="nq ky iq bd kz nr ns nt lc nu nv nw lf nx ny nz li oa ob oc ll od oe of lo og bi translated"><strong class="ak"> 1。初始化Go服务器:</strong></h1><p id="010c" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">在文件夹的根目录下创建一个<code class="fe oh oi oj ok b"><strong class="jp ir">server.go</strong></code>文件。相同的内容在下面给出。</p><p id="3a37" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">执行<code class="fe oh oi oj ok b"><strong class="jp ir">go get github.com/gorilla/mux</strong></code>安装mux包。在本教程中，我们将使用mux作为HTTP路由器。</p><p id="35a3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面是实现中需要的必要导入。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ol om l"/></div><figcaption class="on oo gj gh gi op oq bd b be z dk translated">为服务器导入。go</figcaption></figure><p id="c0ea" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在让我们编写我们的主函数，Rest API的入口点。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ol om l"/></div><figcaption class="on oo gj gh gi op oq bd b be z dk translated">server.go的主要功能</figcaption></figure><p id="85dc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在通过编写<code class="fe oh oi oj ok b"><strong class="jp ir">go run server.go</strong></code> <strong class="jp ir"> </strong>启动服务器，并点击postman/browser上的端点<code class="fe oh oi oj ok b"><strong class="jp ir">http://localhost:8000</strong></code>。</p><p id="cb0a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">哇哦💥💥恭喜您，您的第一台Go服务器已经启动！</p><h1 id="e9d4" class="nq ky iq bd kz nr ns nt lc nu nv nw lf nx ny nz li oa ob oc ll od oe of lo og bi translated"><strong class="ak"> 2。设置添加和检索帖子的路线</strong></h1><p id="be80" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">出于学习目的，我们将使用一个虚拟数据库(一个数组)。让我们在服务器中设置导入和数据库。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ol om l"/></div><figcaption class="on oo gj gh gi op oq bd b be z dk translated">为routes.go导入</figcaption></figure><p id="1a18" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从假数据库(切片)获得所有职位</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ol om l"/></div><figcaption class="on oo gj gh gi op oq bd b be z dk translated">获取帖子功能</figcaption></figure><p id="6797" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在假数据库中添加一个帖子(切片)</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ol om l"/></div><figcaption class="on oo gj gh gi op oq bd b be z dk translated">添加发布功能</figcaption></figure><p id="4c8c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，您差不多可以测试您的服务器了。但是等等，我们还没有在任何地方使用过<code class="fe oh oi oj ok b"><strong class="jp ir">routes.go</strong></code>文件。因此，最后一步是将路由添加到server.go文件中，并将它们与路由器链接起来。</p><p id="a23e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在/ route后面添加这两行</p><pre class="km kn ko kp gt or ok os ot aw ou bi"><span id="65dd" class="kx ky iq ok b gy ov ow l ox oy">router.HandleFunc("/posts", routes.GetPosts).Methods("GET") router.HandleFunc("/posts", routes.AddPost).Methods("POST")</span></pre><p id="4528" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，您的<code class="fe oh oi oj ok b"><strong class="jp ir">server.go</strong></code>文件应该是这样的:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="6d86" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">还有我的朋友们，就是这样！让我们通过在终端<code class="fe oh oi oj ok b"><strong class="jp ir">go run main.go</strong></code>中键入命令再次运行我们的服务器</p><p id="c1e6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在您可以使用<strong class="jp ir">邮递员</strong> / <strong class="jp ir">失眠测试您的简单REST API。你可以在即将到来的项目中使用它，同时将它与一个真实的数据库连接起来。</strong></p><p id="8304" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你喜欢GraphQL，请检查-</p><div class="lv lw gp gr lx ly"><a href="https://ankithans1947.medium.com/graphql-server-api-in-golang-601e41408d03" rel="noopener follow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd ir gy z fp md fr fs me fu fw ip bi translated">Golang中的GraphQL服务器/API</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">GraphQL是一种用于API的开源查询语言，也是一种用现有数据完成这些查询的运行时语言…</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">ankithans1947.medium.com</p></div></div><div class="mh l"><div class="oz l mj mk ml mh mm kv ly"/></div></div></a></div><p id="3d89" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你想和我联系，这是我的联系方式。</p><p id="1c9c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae pa" href="https://twitter.com/AnkitHans15" rel="noopener ugc nofollow" target="_blank">https://twitter.com/AnkitHans15</a></p><div class="lv lw gp gr lx ly"><a href="https://github.com/ankithans" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd ir gy z fp md fr fs me fu fw ip bi translated">ankithans -概述</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">const { Node，Golang，Python，React，Flutter，DSA } = @ ankithans这个项目是在2021年Treehacks期间建造的…</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">github.com</p></div></div><div class="mh l"><div class="pb l mj mk ml mh mm kv ly"/></div></div></a></div><div class="lv lw gp gr lx ly"><a href="https://linkedin.com/in/ankithans" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd ir gy z fp md fr fs me fu fw ip bi translated">Ankit Hans -开源开发者- LibreHealth | LinkedIn</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">经验丰富的全栈工程师，具有开发领域的工作经历。熟练的MERN…</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">linkedin.com</p></div></div><div class="mh l"><div class="pc l mj mk ml mh mm kv ly"/></div></div></a></div></div></div>    
</body>
</html>