# 使用这三个原则编写 Python 干净的代码

> 原文：<https://levelup.gitconnected.com/learn-how-to-write-python-clean-code-using-these-3-principles-ed046978e39a>

## 编写 Python 干净代码的简要指南

对于每个程序员来说，写干净的代码是一项基本技能，这并不像你想象的那么容易。即使是经验丰富的程序员也很难写出干净的代码，而且保持事情整洁有序经常感觉像是一场持久战。但是你如何着手去做呢？

干净的代码实质上不仅仅是删除所有注释行或者保持函数长度最小。它是关于使你的代码可读，这样将来任何其他进入你的项目的程序员都将确切地知道你对一段给定的代码意味着什么，而不必去挖掘注释或文档。

我们可以遵循许多原则、技术和最佳实践来编写 Python 干净的代码。下面给出了一些提示，可以帮助你开始下一次写代码的时候更加容易。

![](img/79c004219a9c287ea31e4bd10ea92e72.png)

[Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上 [AltumCode](https://unsplash.com/@altumcode?utm_source=medium&utm_medium=referral) 的照片

## 目录:

1.  **优质生产代码的特征**
2.  **命名对流
    2.1。变量
    2.2。功能
    2.3。类别**
3.  **使用漂亮的留白
    3.1。缩进
    3.2。最大线路长度
    3.3。空白行**
4.  **注释&文档
    4.1。在线评论
    4.2。文档字符串
    4.3。文件**
5.  **参考文献**

**如果你想免费学习数据科学和机器学习，可以看看这些资源:**

*   免费互动路线图，自学数据科学和机器学习。从这里开始:[https://aigents.co/learn/roadmaps/intro](https://aigents.co/learn/roadmaps/intro)
*   数据科学学习资源搜索引擎(免费)。将你最喜欢的资源加入书签，将文章标记为完整，并添加学习笔记。[https://aigents.co/learn](https://aigents.co/learn)
*   想要在导师和学习社区的支持下从头开始学习数据科学吗？免费加入这个学习圈:[https://community.aigents.co/spaces/9010170/](https://community.aigents.co/spaces/9010170/)

如果你想在数据科学& AI 领域开始职业生涯，但你不知道如何开始。我提供数据科学指导课程和长期职业指导:

*   长期指导:[https://lnkd.in/dtdUYBrM](https://lnkd.in/dtdUYBrM)
*   辅导会议:【https://lnkd.in/dXeg3KPW 

***加入*** [***中等会员***](https://youssefraafat57.medium.com/membership) ***计划，只需 5 美元，继续无限制学习。如果你使用下面的链接，我会收到一小部分会员费，不需要你额外付费。***

[](https://youssefraafat57.medium.com/membership) [## 加入我的介绍链接媒体-优素福胡斯尼

### 阅读 Youssef Hosni(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接支持…

youssefraafat57.medium.com](https://youssefraafat57.medium.com/membership) 

# 1.高质量生产代码的特征

在任何软件项目中，代码都是最重要的资产之一。最终的产品代码必须清晰易懂，以便于维护。

重用部分代码、模块化和面向对象是用来产生高质量代码的一些技术。
在这一部分，我描述了几个有助于识别高质量产品代码的特征。

乍一看，这些特征似乎并不重要，但它们对开发人员如何有效地处理项目源代码有着重大影响。我们来看看吧！

![](img/4f8568d96c31ae4fb32b48cdfcb5abf0.png)

约翰·施诺布里奇在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片

**1。生产代码:**在生产服务器上运行的软件，用于处理现场用户和目标受众的数据。注意这与*生产质量代码*不同，后者描述了在可靠性、效率等方面符合预期的代码。，用于生产。理想情况下，产品中的所有代码都满足这些期望，但情况并非总是如此。

[](https://medium.com/geekculture/write-efficient-python-code-defining-measuring-code-efficiency-e33a5bd9f7ca) [## 为数据科学家编写高效的 Python 代码:定义和测量代码效率

### 了解如何作为一名数据专家来衡量 Python 代码的效率

medium.com](https://medium.com/geekculture/write-efficient-python-code-defining-measuring-code-efficiency-e33a5bd9f7ca) [](/write-efficient-python-code-for-data-scientists-optimizing-your-code-2dbb717f610e) [## 为数据科学家编写高效的 Python 代码:优化您的代码

### 作为一名数据科学家，了解如何优化您的 python 代码并提高其效率

levelup.gitconnected.com](/write-efficient-python-code-for-data-scientists-optimizing-your-code-2dbb717f610e) [](/how-to-eliminate-loops-from-your-python-code-6dfb7c3578fa) [## 如何消除 Python 代码中的循环

### 虽然在编写 Python 代码时使用循环并不一定是一个坏的设计模式，但是使用无关的循环可能会…

levelup.gitconnected.com](/how-to-eliminate-loops-from-your-python-code-6dfb7c3578fa) 

**2。**简洁明了的:可读的、简单的、简明的。产品质量代码的一个特征，对于软件开发中的协作和可维护性至关重要。干净的代码是高质量产品的一个非常重要的特征，编写干净的代码将导致:

*   **聚焦代码:**每个函数，类，或者模块都要做一件事，并且做好。
*   《面向对象的分析和设计及应用》一书的作者 Grady Booch 认为:干净的代码读起来像是写得很好的散文。
*   **易于调试的代码:**干净的代码易于阅读和遵循，因此易于调试和修复错误。
*   **易于维护:**也就是说，它很容易被其他开发者阅读和增强。

**3。模块化代码:**逻辑上分解成功能和模块。此外，产品质量代码的一个重要特征是使您的代码更加有组织、高效和可重用。通过将代码封装到可以导入其他文件的文件中，模块允许代码被重用。

**4。重构:在不改变外部功能的情况下，重构你的代码以改善其内部结构。这给了你一个机会，在你让你的程序工作之后，清理和模块化你的程序。因为当你还在试图让它工作的时候，写出你最好的代码是不容易的，所以分配时间来做这件事对产生高质量的代码是必不可少的。尽管最初需要时间和精力，但从长远来看，这确实会通过加快您的开发时间而获得回报。**

所以很正常的是，首先，你写一个可以工作的代码，然后你重构它，以一种简洁的方式来实现它。当你不断寻求改进你的代码时，你会成为一个更强的程序员。重构得越多，第一次构建和编写好代码就越容易。

# 2.命名对流

命名约定是编写干净代码的最有用和最重要的方面之一。当给变量、函数、类等命名时，你应该使用有意义的、描述性的和清晰的名字。这意味着我们更喜欢长的描述性名称，而不是短的模糊名称。

![](img/7e79c1aa13a5988d84ac490accae8c5f.png)

帕特里克·帕金斯在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片

**首先，让我们从 PEP 8 命名约定开始:**

*   类名应该是驼色(`MyClass`)
*   变量名应该是 snake_case 并且全部小写(`first_name`)
*   函数名应该是 snake_case 并且全部小写(`quick_sort()`)
*   常量应该是 snake_case 并且全部大写(`PI = 3.14159`)
*   模块应该有简短的蛇名和小写字母(`numpy`)
*   单引号和双引号被同等对待(只需选择一个并保持一致)

以下是关于如何给出描述性的、好的命名对流的更详细的指南:

## 2.1.变量

1.  **使用易于阅读的长描述性名称:**这对于使名称易于理解和描述非常重要。这就需要写注释:

2.**使用描述性意图揭示类型:**你的同事和开发人员应该能够从名字中看出你的变量类型是什么，它存储了什么。简而言之，你的代码应该易于阅读和推理。

**4。始终使用相同的词汇:**与你的命名惯例保持一致。当其他开发人员处理您的代码时，保持一致的命名约定对于消除混淆非常重要。这适用于命名变量、文件、函数，甚至目录结构。

**6。不要用神奇的数字。**幻数是具有特殊、硬编码语义的数字，出现在代码中，但没有任何意义或解释。通常，在我们的代码中，这些数字作为文字出现在不止一个位置。

## 2.2.功能

**7。长长的名字！=描述性名称** —你应该是描述性的，但只包含相关信息。例如，好的函数名称描述了它们做得好的地方，但不包括实现细节或非常具体的用途。

8.**与您的函数命名约定保持一致:**从上面的变量可以看出，在命名函数时要坚持一个命名约定。使用不同的命名约定会让其他开发人员和同事感到困惑。

**9。不要使用标志或布尔标志。**布尔标志是保存布尔值(真或假)的变量。这些标志被传递给一个函数，并由该函数用来确定其行为。

## 2.3.班级

**10。不要添加多余的上下文。**使用类时，在变量名中添加不必要的变量会导致这种情况。

# 3.使用漂亮的空白

![](img/1234fb5df2f1cc7a667a1d0455f415d7.png)

乔·伍兹在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片

## 3.1.刻痕

用一致的缩进来组织你的代码。标准是每个缩进使用 4 个空格。您可以在文本编辑器中将其设为默认值。使用悬挂式缩进时，应考虑以下几点:第一行不应该有参数，并且应该使用进一步的缩进来清楚地区分它自己是一个延续行:

## 3.2.最大线路长度

试着将你的行限制在 79 个字符左右，这是 [PEP 8 风格指南](https://peps.python.org/pep-0008/#code-lay-out)中给出的指导方针。在许多优秀的文本编辑器中，有一个设置显示一条微妙的线，表明 79 个字符的限制在哪里。

## 3.3.空白行

在代码中添加空行会使代码更好、更整洁、更容易理解。以下是如何在代码中添加空行的简单指南:

*   用两行空行将顶级函数和类定义括起来。
*   类中的方法定义由一个空行包围。
*   额外的空行可以(有节制地)用于分隔相关函数组。在一堆相关的一行程序(例如一组虚拟实现)之间可以省略空行。
*   在函数中尽量少用空行来表示逻辑部分。

# 4.评论和文档

无论我们如何努力去写干净的代码，你的程序中仍然会有一些部分需要额外的解释。注释允许我们快速地告诉其他开发人员(以及我们未来的自己)为什么我们以这样的方式编写它。然而，要小心太多的注释会使你的代码比没有注释时更混乱。

![](img/cebe5a6b27477f556718ed77444c0faf.png)

[西格蒙德](https://unsplash.com/@sigmund?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍照

## 4.1.行内注释

行内注释是代码中哈希符号后面的文本。它们被用来解释你的部分代码，并真正帮助未来的贡献者理解你的工作。

使用注释的一种方式是记录复杂代码的主要步骤，以帮助读者理解。然后，您可能不需要理解代码就能理解它的功能。然而，其他人会认为这是用注释来证明糟糕的代码，如果代码需要注释，这是需要重构的迹象。

注释对于**解释代码不能解释为什么这样写或者为什么选择某些值**是有价值的。比如为什么某个方法是以特定的方式实现的背后的历史。有时，由于一些模糊的外部变量导致副作用，可能会应用非常规或看似任意的方法。这些东西很难用代码来解释。

## 这里有一些写好评论的技巧:

**1。不好的代码不评论，重写**

评论糟糕的代码只会在短期内对你有帮助。迟早你的一个同事将不得不处理你的代码，在花了几个小时试图弄清楚它做了什么之后，他们最终会重写它。因此，最好从头重写糟糕的代码，而不是只对它进行评论。

**2。不需要**时不要添加注释

如果你的代码足够易读，你就不需要注释。添加无用的注释只会降低代码的可读性。这里有一个不好的例子:

一般来说，如果你需要添加评论，他们应该解释**为什么**你做了某事，而不是**正在发生什么事情。**

**3。不要留下评论过时的代码**

你能做的最糟糕的事情就是在你的程序中留下代码注释。在进入版本控制系统之前，所有的调试代码或调试消息都应该被删除，否则，你的同事会害怕删除它，而你的注释代码会永远留在那里。

## 4.2.文档字符串

文档字符串或文档字符串是解释代码中任何函数或模块的功能的有价值的文档。**理想情况下，每个函数都应该有一个 docstring。**文档字符串用三重引号括起来。

docstring 的第一行是对函数用途的简要说明。docstring 的下一个元素是对函数的**参数**的解释。您可以在这里列出参数，说明它们的用途，并说明参数应该是什么类型。最后，通常提供函数输出的一些描述。docstring 的每一部分都是可选的；然而，文档字符串是良好编码实践的一部分。下面是函数的 docstring 的两个例子。第一个将使用单行文档字符串，第二个将使用多行文档字符串:

## 4.3.证明文件

项目文档对于让其他人理解您的代码与他们相关的原因和方式是必不可少的，无论他们是您项目的潜在用户还是可能为您的代码做出贡献的开发人员。

项目文档的第一步是你的自述文件。这通常是大多数用户与你的项目的第一次互动。无论是应用程序还是软件包，您的项目都应该附带一个自述文件。至少，这应该解释它是做什么的，列出它的依赖项，并提供关于如何使用它的足够详细的说明。你想让其他人尽可能简单地理解你的项目的目的，并且快速地让一些东西工作起来。

将你所有的想法和想法正式翻译到纸上可能有点困难，但随着时间的推移，你会变得更好，并在帮助他人实现你的项目的价值方面发挥重要作用。编写这个文档还可以帮助您改进代码的设计，因为您被迫更彻底地考虑您的设计决策。这也让以后的投稿人知道如何遵循你的初衷。

# 5.参考

1.  用 Python 写干净代码的 10 个必须知道的模式🐍
2.  [清理 Python 中的代码](https://testdriven.io/blog/clean-code-python/)

***喜爱文章？成为*** [***中等会员***](https://youssefraafat57.medium.com/membership) ***继续无限制学习。如果你使用下面的链接，我会收到一小部分会员费，不需要你额外付费。***

[](https://youssefraafat57.medium.com/membership) [## 通过我的推荐链接加入 Medium-Youssef Hosni

### 阅读 Youssef Hosni(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接支持…

youssefraafat57.medium.com](https://youssefraafat57.medium.com/membership) 

***感谢阅读！如果你喜欢这篇文章，一定要鼓掌(高达 50！)并在***[***LinkedIn***](https://www.linkedin.com/in/youssef-hosni-b2960b135/)***上与我联系，并在*** [***上关注我，以便随时更新我的新文章。***](https://youssefraafat57.medium.com/)

# 分级编码

感谢您成为我们社区的一员！在你离开之前:

*   👏为故事鼓掌，跟着作者走👉
*   📰查看更多内容请参见[升级编码出版物](https://levelup.gitconnected.com/?utm_source=pub&utm_medium=post)
*   🔔关注我们:[Twitter](https://twitter.com/gitconnected)|[LinkedIn](https://www.linkedin.com/company/gitconnected)|[时事通讯](https://newsletter.levelup.dev)

🚀👉 [**加入升级人才集体，找到一份惊艳的工作**](https://jobs.levelup.dev/talent/welcome?referral=true)