<html>
<head>
<title>Understanding Amazon VPC Terminology</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解亚马逊VPC术语</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/understanding-amazon-vpc-terminology-b3150bb6cde0?source=collection_archive---------10-----------------------#2020-02-12">https://levelup.gitconnected.com/understanding-amazon-vpc-terminology-b3150bb6cde0?source=collection_archive---------10-----------------------#2020-02-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/eb257927ecf8b436cfef99933930292d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1ewkrE29ICk0bcsjdHNkxA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">学分-wikimedia.org</figcaption></figure><p id="5f92" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">VPC或虚拟私有云是AWS提供的最重要的服务之一。从安全角度来看，这对于任何公司或初创公司来说也很重要。</p><p id="2d78" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">您可以将VPC想象成您自己的云中虚拟数据中心。您可以完全控制虚拟网络环境，例如IP地址范围、子网、网络访问控制列表(NACLs)的配置、路由表、安全组和网络网关。</p><p id="3411" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在本文中，我们将讨论处理VPC时使用的术语。</p><p id="fd38" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">对不同的术语有一个概念将有助于你理解VPC的特点和作品。</p><p id="606f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">要开始，登录您的AWS帐户，并在页面左上角的<strong class="ke ir">服务</strong>选项卡中选择<strong class="ke ir"> VPC </strong>。</p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi la"><img src="../Images/36559faed8cc337d83c97abcce58a0e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YLru2Yc07iZqqAf0zZewgQ.png"/></div></div></figure><p id="648e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> VPC仪表盘— </strong>该仪表盘可快速概述您的VPC以及当前区域内的VPC。</p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi la"><img src="../Images/5c2e308fa12527b920651dff91ed1f51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VuGEHdMEoMPxeGYe6nEEXQ.png"/></div></div></figure><h1 id="7d3f" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">虚拟私有云</h1><p id="1f06" class="pw-post-body-paragraph kc kd iq ke b kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv mh kx ky kz ij bi translated"><strong class="ke ir">您的VPC—</strong>显示在给定区域内创建的所有VPC。默认情况下，每个地区都有一个默认的VPC，以快速允许您启动实例。对于生产系统，建议创建自定义VPC并在其中启动服务，以提供更好的安全性。</p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mi"><img src="../Images/c569d587b285c2d03a536356f5035656.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yJfJum86_Z4qlRbPp5RG0w.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">VPC图</figcaption></figure><p id="887e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">子网</strong> —子网代表VPC的一个可用性区域，并且只与<strong class="ke ir">一个可用性区域</strong>相关联。因此，如果一个区域有3个az，那么可以为每个可用性区域创建三个子网。在区域中启动实例时，您可以选择要在其中启动实例的子网。</p><p id="5002" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">路由表— </strong>路由表定义了一组称为<strong class="ke ir">路由的规则，</strong>用于确定网络流量在VPC的流向。每个子网始终与一个路由表相关联，路由表可以跨越多个可用性区域(子网)。</p><p id="7eef" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">每个VPC都有主路由表。当您创建自定义VPC时，默认情况下会创建主路由表。</p><p id="81e9" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">互联网网关— </strong>要为您的VPC提供互联网接入，您需要在路由表中添加一个互联网网关。在默认VPC的主路由表中，默认情况下会连接一个互联网网关，因此您可以很容易地启动实例。默认情况下，所有子网都与主路由表相关联。</p><p id="f5a4" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">仅出口互联网网关— </strong>这些互联网网关仅允许通过IPv6从您的VPC实例到互联网的出站通信，并阻止互联网启动与您的实例的IPv6连接。</p><p id="9d6d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果您的某个应用服务器没有公共IPv4地址，但有IPv6地址，并且您希望允许此实例访问internet以保持系统更新和安装补丁程序，同时阻止来自internet的某人向此实例发送请求，则可以使用这些功能。</p><p id="d088" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> DHCP选项集— </strong>如果您想提供自己的DHCP配置参数，如域名和DNS，您可以创建一个DHCP选项集，并将其与您的VPC相关联。这是一个高级设置，根据您的网络架构，您可能会也可能不会使用它。</p><p id="100f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">弹性IP</strong>—这些是您可以分配给EC2实例的静态公共IPv4地址。一旦附加，EC2实例的IP地址在停止和再次启动时不会改变。默认情况下，每个区域只能创建5个弹性IP。您可以通过联系AWS支持并告诉他们您的使用案例来提高这个限制。</p><p id="61fe" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">端点— </strong>它使您能够将您的VPC私下连接到受支持的AWS服务，而无需访问互联网。您的VPC和其他服务之间的流量不会离开亚马逊网络。</p><p id="e0cc" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">例如，假设您有一个专用子网(其路由表没有连接internet网关)，并且其中有一个实例(没有公共IP地址)。现在您希望该实例能够访问S3，在这种情况下，您使用VPC端点与S3通信。</p><p id="5207" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">端点服务— </strong>现在，假设您已经创建了一个进行视频转码的系统，并且您的VPC中有一些私有实例想要将视频发送到该系统进行转码。在这种情况下，您可以将该系统配置为AWS PrivateLink powered service或endpoint service。</p><p id="98a7" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> NAT网关— </strong>它们可用于允许私有子网中的实例连接到互联网或其他AWS服务，但阻止互联网启动与这些实例的连接。它们只支持IPv4流量。</p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/79f00d22cf8b7a09055fb8996bc7f453.png" data-original-src="https://miro.medium.com/v2/resize:fit:1178/format:webp/1*by77B5pCyfC_tNxa8ArSqg.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">VPC对等</figcaption></figure><p id="0439" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">对等连接— </strong>假设您在相同或不同的地区，甚至在不同的AWS帐户中有两个VPC。您希望他们能够私下交流(无需通过互联网进行通信)。在这种情况下，您可以在这些VPC之间创建对等连接。</p><p id="4579" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这里需要注意的一点是<strong class="ke ir">不支持传递对等</strong>。因此，需要在上图中的VPC <strong class="ke ir"> B </strong>和<strong class="ke ir"> C </strong>之间创建对等连接，以便它们相互通信，VPC B不能通过VPC A与VPC C通信</p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mk"><img src="../Images/7a26d3e78b0c42bc97930221c18dfbc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fnu2_GjbJP0yG9-jHoeYlA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">网络ACL仪表板</figcaption></figure><h1 id="cc8b" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">安全性</h1><p id="da23" class="pw-post-body-paragraph kc kd iq ke b kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv mh kx ky kz ij bi translated"><strong class="ke ir">网络访问控制列表(NaCl)——</strong>代表网络访问控制列表。它们与子网相关联，通过充当子网的防火墙来提供额外的安全层。您可以为子网创建入站和出站访问规则。它们可用于允许和拒绝访问。</p><p id="d31b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">它们是无状态的，也就是说，如果您为某个端口创建了入站规则，则不会自动为同一端口创建出站规则。您也可以使用它们来阻止单个IP地址。</p><p id="9f2c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">安全组— </strong>这些安全组与子网中的实例相关联，充当实例的防火墙。默认情况下，安全组拒绝所有入站访问，并且只能用于允许入站访问而不能拒绝。</p><p id="21ff" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">与NACLs不同，它们是有状态的，即如果您为一个端口创建一个入站规则，则会自动为同一端口创建一个出站规则。</p><h1 id="601e" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">虚拟专用网络</h1><figure class="lb lc ld le gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ml"><img src="../Images/aafbef3cac5d1308514ce58b67ef8821.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2eqeGzus5yRXCiOSjnzxYw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">与客户端VPN端点的站点到站点VPN连接</figcaption></figure><p id="03b1" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果您有想要连接到VPC的本地系统，那么您可以创建一个站点到站点VPN连接。</p><p id="3777" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">客户网关—</strong>AWS资源提供有关客户网关设备的AWS信息。客户网关设备是站点到站点VPN连接客户端的物理或软件应用程序。</p><p id="e567" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">虚拟专用网关(VGW)——</strong>与客户网关提供有关连接的客户端的信息一样，VGW充当站点到站点VPN连接的AWS端的资源。</p><p id="7c50" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">站点到站点VPN连接— </strong>这些是VPC和您的内部系统之间的VPN连接。</p><p id="c2da" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">客户端VPN端点</strong> —站点到站点VPN允许AWS连接到您的内部系统，反之亦然，但是如果您想从世界任何地方连接到该网络，您需要创建一个客户端VPN端点。使用此端点，客户端可以安全地连接到此VPN网络。</p><h1 id="272b" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">中转网关</h1><p id="2596" class="pw-post-body-paragraph kc kd iq ke b kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv mh kx ky kz ij bi translated">这是一个高级概念，您应该查看<a class="ae mm" href="https://docs.aws.amazon.com/vpc/latest/tgw/what-is-transit-gateway.html" rel="noopener ugc nofollow" target="_blank"> AWS文档</a>以了解更多相关信息。</p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mn"><img src="../Images/b694eb445d0de7e2d80a6e9f790a4b0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ON-t0OLHHMTGGtP4IHxttQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">AWS中转网关。信用——aws.amazon.com/transit-gateway</figcaption></figure><p id="3b86" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">使用VPC对等连接，您只能将两个VPC相互连接。如果要将新的VPC连接到这两个VPC，则需要创建两个新的对等连接，因为不支持可传递对等。</p><p id="de51" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">同样，使用站点到站点VPN，您需要创建一个新的连接来连接任意两个网络。</p><p id="0911" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果您有大量跨多个AWS帐户的内部系统和VPC，那么创建和管理这些连接会变得很麻烦。</p><p id="21ee" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">使用Transit Gateway，您只需创建和管理从中央网关到每个亚马逊VPC和内部数据中心的单一连接。任何新的VPC或内部中心只需连接到转接网关，然后就可以自动用于连接到转接网关的所有其他网络。</p><p id="f73b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">中转网关附件— </strong>这些是您为中转网关创建的不同附件。连接可以是VPC、VPN或对等连接。</p><p id="4cc4" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">中转网关路由表</strong> —这些路由表包括动态和静态路由，根据数据包的目的IP地址决定下一跳。这些路由的目标可能是VPC或VPN连接。</p><p id="6981" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">中转网关多播域— </strong>多播是一种通信协议，用于将单个数据流同时传送到多台接收计算机。</p><p id="3285" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在这种情况下，它可以用于在连接的VPC的子网之间路由多播流量。</p><p id="89b8" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">多播域允许将多播网络分割成不同的域，并使转接网关充当多个多播路由器。</p><p id="35c3" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">网络管理器— </strong>通过在一个集中的仪表板中以逻辑图或地理图的形式可视化您的全球网络，您可以跨AWS和内部中心集中管理您的网络。</p><h1 id="6a53" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">流量镜像</h1><p id="3baa" class="pw-post-body-paragraph kc kd iq ke b kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv mh kx ky kz ij bi translated">这是一个VPC特性，可用于从EC2实例的弹性网络接口(ENI)复制网络流量。然后，可以将该流量发送到安全和监控设备，进行内容检查、威胁监控和故障排除。</p><p id="9e44" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">镜像会话— </strong> It <strong class="ke ir"> </strong>将流量从指定的源复制到目标。</p><p id="a800" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">镜像目标— </strong> It <strong class="ke ir"> </strong>是会话中复制流量的目的地。</p><p id="4ec3" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">镜像过滤器— </strong>它帮助您控制从会话中复制的内容。</p><p id="397a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在，我们知道了VPC的不同术语，我们可以继续下去，并获得在VPC工作的第一手经验。我们将在下一篇文章中讨论这个问题！</p><p id="572e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我希望你从这篇文章中学到了一些东西，如果你有疑问，请在下面评论！</p><h2 id="e3bc" class="mo lg iq bd lh mp mq dn ll mr ms dp lp kn mt mu lt kr mv mw lx kv mx my mb mz bi translated">参考</h2><ol class=""><li id="6b33" class="na nb iq ke b kf md kj me kn nc kr nd kv ne kz nf ng nh ni bi translated"><a class="ae mm" href="https://docs.aws.amazon.com/vpc/latest/userguide/what-is-amazon-vpc.html" rel="noopener ugc nofollow" target="_blank">亚马逊VPC </a></li><li id="da6a" class="na nb iq ke b kf nj kj nk kn nl kr nm kv nn kz nf ng nh ni bi translated"><a class="ae mm" href="https://docs.aws.amazon.com/vpc/latest/tgw/what-is-transit-gateway.html" rel="noopener ugc nofollow" target="_blank">中转关口</a></li><li id="e82c" class="na nb iq ke b kf nj kj nk kn nl kr nm kv nn kz nf ng nh ni bi translated"><a class="ae mm" href="https://docs.aws.amazon.com/vpc/latest/mirroring/traffic-mirroring-filter.html" rel="noopener ugc nofollow" target="_blank">流量镜像</a></li></ol></div><div class="ab cl no np hu nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="ij ik il im in"><p id="98f4" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">非常感谢你阅读这篇文章。如果你喜欢它，请给它一些掌声，让更多的人从中受益！</p></div></div>    
</body>
</html>