<html>
<head>
<title>Python Datetime Cheatsheet</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python日期时间备忘单</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/python-datetime-cheatsheet-4bdcebe8fca9?source=collection_archive---------10-----------------------#2022-12-22">https://levelup.gitconnected.com/python-datetime-cheatsheet-4bdcebe8fca9?source=collection_archive---------10-----------------------#2022-12-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="202d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">您需要的最后一本快速参考指南… </em></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/583cc7713b01bebcef076a17a84df78c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vwIMu0uXEmUmDpqg"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">由<a class="ae lc" href="https://unsplash.com/@thoughtcatalog?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">思想目录</a>在<a class="ae lc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="96a7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Python的datetime模块是在代码中处理日期和时间的强大工具。在这篇博文中，我们将介绍一些使用datetime模块的不同方法，以使程序员的生活更加轻松。</p><p id="5910" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，请将这一页加入书签。此外，一定要让我知道你所知道的所有技巧。</p><p id="706b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，让我们看看如何存储和操作日期和时间。datetime模块提供了存储和处理日期和时间的类，比如<code class="fe ld le lf lg b">datetime</code>、<code class="fe ld le lf lg b">date</code>和<code class="fe ld le lf lg b">time</code>。您可以使用这些类来存储特定的日期和时间，或者当前的日期和时间。</p><p id="1f3a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以下是存储当前日期和时间的示例:</p><pre class="kn ko kp kq gt lh lg li bn lj lk bi"><span id="e30c" class="ll lm iq lg b be ln lo l lp lq">import datetime<br/><br/>now = datetime.datetime.now()<br/>print(f"Current date and time: {now}")</span></pre><blockquote class="lr ls lt"><p id="cc8d" class="jn jo kl jp b jq jr js jt ju jv jw jx lu jz ka kb lv kd ke kf lw kh ki kj kk ij bi translated">当前日期和时间:2022–12–22 21:20:09.754036</p></blockquote><p id="da29" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面是一个存储特定日期和时间的示例:</p><pre class="kn ko kp kq gt lh lg li bn lj lk bi"><span id="5db4" class="ll lm iq lg b be ln lo l lp lq">import datetime<br/><br/>new_year = datetime.datetime(2023, 1, 1, 0, 0, 0)<br/>print(f"New Year's Day: {new_year}")</span></pre><p id="90a1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您还可以使用<code class="fe ld le lf lg b">timedelta</code>类来计算两个日期或时间之间的差异。例如:</p><pre class="kn ko kp kq gt lh lg li bn lj lk bi"><span id="07ba" class="ll lm iq lg b be ln lo l lp lq">import datetime<br/><br/>now = datetime.datetime.now()<br/>new_year = datetime.datetime(2023, 1, 1, 0, 0, 0)<br/>time_until_new_year = new_year - now<br/>print(f"Time until New Year's Day: {time_until_new_year}")</span></pre><blockquote class="lr ls lt"><p id="7003" class="jn jo kl jp b jq jr js jt ju jv jw jx lu jz ka kb lv kd ke kf lw kh ki kj kk ij bi translated">元旦:2023–01–01 00:00:00</p></blockquote><p id="cebc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">除了存储和操作日期和时间，datetime模块还提供了格式化和解析日期和时间的工具。您可以使用<code class="fe ld le lf lg b">strftime</code>方法将<code class="fe ld le lf lg b">datetime</code>对象格式化为字符串，使用<code class="fe ld le lf lg b">strptime</code>函数将字符串解析为<code class="fe ld le lf lg b">datetime</code>对象。</p><p id="5954" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面是一个将<code class="fe ld le lf lg b">datetime</code>对象格式化为字符串的例子:</p><pre class="kn ko kp kq gt lh lg li bn lj lk bi"><span id="b646" class="ll lm iq lg b be ln lo l lp lq">import datetime<br/><br/>now = datetime.datetime.now()<br/>formatted_date_time = now.strftime("%Y-%m-%d %H:%M:%S")<br/>print(f"Formatted date and time: {formatted_date_time}")</span></pre><blockquote class="lr ls lt"><p id="d8a2" class="jn jo kl jp b jq jr js jt ju jv jw jx lu jz ka kb lv kd ke kf lw kh ki kj kk ij bi translated">格式化的日期和时间:2022–12–22 21:25:47</p></blockquote><p id="2d4c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面是一个将字符串解析成<code class="fe ld le lf lg b">datetime</code>对象的例子:</p><pre class="kn ko kp kq gt lh lg li bn lj lk bi"><span id="ad14" class="ll lm iq lg b be ln lo l lp lq">import datetime<br/><br/>parsed_date_time = datetime.datetime.strptime("2022-12-01 00:00:00", "%Y-%m-%d %H:%M:%S")<br/>print(f"Parsed date and time: {parsed_date_time}")</span></pre><blockquote class="lr ls lt"><p id="f7f9" class="jn jo kl jp b jq jr js jt ju jv jw jx lu jz ka kb lv kd ke kf lw kh ki kj kk ij bi translated"><em class="iq">解析日期和时间:2022–12–01 00:00:00</em></p></blockquote><p id="2b45" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">处理日期和时间的另一个常见任务是处理时区。datetime模块提供了对时区的基本支持，但是您也可以使用pytz库来简化时区的使用。</p><p id="60f8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面是一个获取UTC当前日期和时间的示例:</p><pre class="kn ko kp kq gt lh lg li bn lj lk bi"><span id="3965" class="ll lm iq lg b be ln lo l lp lq">import datetime<br/><br/>utc_now = datetime.datetime.utcnow()<br/>print(f"Current date and time in UTC: {utc_now}")</span></pre><blockquote class="lr ls lt"><p id="ddd1" class="jn jo kl jp b jq jr js jt ju jv jw jx lu jz ka kb lv kd ke kf lw kh ki kj kk ij bi translated">UTC当前日期和时间:2022–12–22 15:56:58.069018</p></blockquote><p id="8ad1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面是一个将当前UTC时间转换为特定时区的示例:</p><pre class="kn ko kp kq gt lh lg li bn lj lk bi"><span id="4741" class="ll lm iq lg b be ln lo l lp lq">import datetime<br/>import pytz<br/>utc_now = datetime.datetime.utcnow()<br/><br/>local_tz = pytz.timezone("Asia/Kolkata")<br/>local_now = utc_now.astimezone(local_tz)<br/>print(f"Current date and time in local time: {local_now}")</span></pre><blockquote class="lr ls lt"><p id="ba96" class="jn jo kl jp b jq jr js jt ju jv jw jx lu jz ka kb lv kd ke kf lw kh ki kj kk ij bi translated">当地时间的当前日期和时间:2022–12–22 15:58:10.139960+05:30</p></blockquote><p id="db65" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">提取日、月、年</p><pre class="kn ko kp kq gt lh lg li bn lj lk bi"><span id="3998" class="ll lm iq lg b be ln lo l lp lq">import datetime<br/><br/>today = datetime.datetime.now()<br/><br/>year = today.year<br/>month = today.month<br/>day = today.day<br/><br/>print(f"Today is {day}, month - {month} &amp; year {year}")</span></pre><blockquote class="lr ls lt"><p id="1666" class="jn jo kl jp b jq jr js jt ju jv jw jx lu jz ka kb lv kd ke kf lw kh ki kj kk ij bi translated">今天是2022年12月22日</p></blockquote><p id="1feb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">快乐学习！</p></div></div>    
</body>
</html>