<html>
<head>
<title>Music Recommender System — Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">音乐推荐系统—第一部分</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/music-recommender-system-part-1-86936d673c31?source=collection_archive---------0-----------------------#2021-12-08">https://levelup.gitconnected.com/music-recommender-system-part-1-86936d673c31?source=collection_archive---------0-----------------------#2021-12-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="ff47" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">利用机器学习创建推荐系统</p><h1 id="257d" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">介绍</h1><p id="3efd" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">我们在任何地方都见过许多自动推荐系统，一些著名的有网飞、亚马逊、Youtube、LinkedIn等。在这个系列中，让我们看看如何从头开始使用机器学习来构建一个推荐系统。作为本系列的一部分，我想展示我们如何创建一个框架，在真实世界的音乐数据集上应用不同的机器学习算法来预测播放列表/歌曲推荐。我们将使用四种主要方法，如基于内容的过滤、协作过滤、基于模型的方法和深度神经网络。</p><p id="69b6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们构建推荐系统的步骤如下:</p><ul class=""><li id="e834" class="lo lp iq jp b jq jr ju jv jy lq kc lr kg ls kk lt lu lv lw bi translated">用必要的库创建开发环境。</li><li id="0513" class="lo lp iq jp b jq lx ju ly jy lz kc ma kg mb kk lt lu lv lw bi translated"><a class="ae mc" href="https://nsanka.medium.com/music-recommender-system-part-2-ff4c3f54cba3?sk=2ad792ce8d7cf1433a8a50cebf2915e3" rel="noopener">获取真实世界的音乐数据集并探索。</a></li><li id="45a2" class="lo lp iq jp b jq lx ju ly jy lz kc ma kg mb kk lt lu lv lw bi translated"><a class="ae mc" href="https://medium.com/@david.de.hernandez/modeling-data-for-a-spotify-recommender-system-3056997a0fc5?sk=7ce613a3d5cbd4a69e73804983d49f91" rel="noopener">建立和训练机器学习模型。</a></li><li id="1ebc" class="lo lp iq jp b jq lx ju ly jy lz kc ma kg mb kk lt lu lv lw bi translated"><a class="ae mc" href="https://medium.com/@david.de.hernandez/scaling-the-data-on-an-aws-instance-fa71476e0d7c" rel="noopener">评估数据集大小对机器学习模型的影响</a></li><li id="36d7" class="lo lp iq jp b jq lx ju ly jy lz kc ma kg mb kk lt lu lv lw bi translated">使用各种度量标准评估模型。</li><li id="4d72" class="lo lp iq jp b jq lx ju ly jy lz kc ma kg mb kk lt lu lv lw bi translated"><a class="ae mc" href="https://medium.com/@nsanka/music-recommender-system-part-5-4278bf89411c" rel="noopener">部署训练好的模型供公众使用。</a></li></ul><p id="796a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本文中，让我们从创建开发环境和安装所有必需的库开始。</p><h1 id="83e6" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">第1部分:创建开发环境</h1><p id="b00d" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">我们希望避免“在我们的机器上工作”的情况，并试图找到一个对每个人都可用的系统，以便他们可以尝试运行这个项目代码。我在其他项目中使用了Google Colab，它基本上是一个完全在云中运行的免费Jupyter笔记本环境。我也使用GitHub Codespaces，但我想为这个项目尝试Gitpod，因为它提供了一个工作空间，其中包括:源代码、带有root/sudo的Linux shell、文件系统、完整的VS代码编辑体验，包括扩展、语言支持和所有其他工具以及在Linux上运行的二进制文件。如果您想<a class="ae mc" rel="noopener ugc nofollow" target="_blank" href="/setting-up-development-environment-in-visual-studio-codespaces-9e003e3ece61">设置代码空间开发环境</a>，请单击该链接。下面让我们看看如何创建和配置您的第一个Gitpod工作区。</p><p id="201f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我假设你已经有一个GitHub帐户，如果没有注册免费帐户<a class="ae mc" href="https://github.com/" rel="noopener ugc nofollow" target="_blank">这里</a>。一旦你获得了GitHub账号，在浏览器中登录你的GitHub账号，创建一个新的资源库，姑且称之为“RecSys”。一旦它被创建，它将带你到那个库的代码页。</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi md"><img src="../Images/c73e1427efc697e69964b9feb10a0fb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KfS-m0DzYdZ0oQeSOj6acA.png"/></div></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk translated">创建RecSys GitHub存储库</figcaption></figure><p id="1c01" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，让我们添加“在Gitpod中打开”按钮，通过将“项目url”替换为GitHub存储库url，使启动该项目的Gitpod workspace变得更加容易，如下所示。或者，我们也可以安装Gitpod浏览器扩展。</p><pre class="me mf mg mh gt mt mu mv mw aw mx bi"><span id="4d66" class="my km iq mu b gy mz na l nb nc">[![Open in Gitpod](https://gitpod.io/button/open-in-gitpod.svg)](https://gitpod.io/#&lt;project-url&gt;)</span><span id="a44b" class="my km iq mu b gy nd na l nb nc">Ex: [![Open in Gitpod](<a class="ae mc" href="https://gitpod.io/button/open-in-gitpod.svg)](https://gitpod.io/#https://github.com/nsanka/RecSys)" rel="noopener ugc nofollow" target="_blank">https://gitpod.io/button/open-in-gitpod.svg)](https://gitpod.io/#https://github.com/nsanka/RecSys)</a></span></pre><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi ne"><img src="../Images/0bcc81cd9f8e089c10e52de32b11da6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pLKCjsHy7zaT68BjN7JIlg.png"/></div></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk translated">自述文件中的“在Gitpod中打开”按钮</figcaption></figure><h1 id="1aef" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">项目特定定制</h1><p id="30ec" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">在存储库主文件夹中，单击“添加文件”-&gt;“创建新文件”按钮。在文件名框中输入“. gitpod.yml”。这个文件将用于为使用这个特定项目的任何用户应用工作环境的定制。配置Gitpod工作区的更多细节可以在<a class="ae mc" href="https://www.gitpod.io/docs/config-gitpod-file" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><pre class="me mf mg mh gt mt mu mv mw aw mx bi"><span id="cb7e" class="my km iq mu b gy mz na l nb nc"># Custom Docker Image<br/>#image:<br/>  #file: .gitpod.Dockerfile</span><span id="311d" class="my km iq mu b gy nd na l nb nc"># List the start up tasks. <br/># Learn more <a class="ae mc" href="https://www.gitpod.io/docs/config-start-tasks/" rel="noopener ugc nofollow" target="_blank">https://www.gitpod.io/docs/config-start-tasks/</a></span><span id="64bc" class="my km iq mu b gy nd na l nb nc">tasks:  <br/>  - name: Check Setup<br/>    init: |<br/>      python -m pip install --upgrade pip<br/>      # Add commands to Setup Python Environment<br/>    command: |<br/>      clear<br/>      echo "=============="<br/>      echo "    Welcome   "<br/>      echo "=============="<br/>      pyenv versions<br/>      echo ""</span><span id="92aa" class="my km iq mu b gy nd na l nb nc"># List the ports to expose. <br/># Learn more <a class="ae mc" href="https://www.gitpod.io/docs/config-ports/" rel="noopener ugc nofollow" target="_blank">https://www.gitpod.io/docs/config-ports/</a><br/>ports:<br/>  # jupyter<br/>  - port: 8888<br/>    onOpen: ignore</span><span id="54aa" class="my km iq mu b gy nd na l nb nc"># Install VSCode Extensions<br/>vscode:<br/>  extensions:<br/>    - ms-azuretools.vscode-docker<br/>    - ms-python.python</span></pre><h1 id="d4d0" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">设置Python环境</h1><p id="c855" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">Gitpod工作空间已经安装了Python，它也有pyenv，可以用来<a class="ae mc" href="https://realpython.com/intro-to-pyenv/" rel="noopener ugc nofollow" target="_blank">管理Python版本</a>。我们将在存储库主文件夹中创建一个新文件，并将其命名为“requirements.txt ”,以定义这个项目所需的所有Python包。</p><pre class="me mf mg mh gt mt mu mv mw aw mx bi"><span id="0795" class="my km iq mu b gy mz na l nb nc"># requirements.txt file<br/>altair==4.1.0<br/>matplotlib==3.5.0<br/>numpy==1.19.5<br/>openTSNE==0.6.1<br/>pandas==1.2.5<br/>pip==21.3.1<br/>plotly==5.4.0<br/>requests==2.25.1<br/>scikit-learn==0.24.2<br/>scipy==1.7.3<br/>spotipy==2.19.0<br/>streamlit==1.2.0<br/>seaborn==0.11.2<br/>tqdm==4.62.3<br/>urllib3==1.26.7<br/>wordcloud==1.8.1</span></pre><p id="bdc1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将以下命令添加到“task-&gt;init”部分的“. gitpod.yml”文件中，以使用pip安装所需的Python版本和“requirements.txt”中提到的必要模块。</p><pre class="me mf mg mh gt mt mu mv mw aw mx bi"><span id="f677" class="my km iq mu b gy mz na l nb nc"># Install Python 3.7.2<br/>pyenv install -v 3.7.2<br/># Set Python 3.7.2 as default<br/>pyenv global 3.7.2<br/># Install all libraries<br/>python -m pip install -r <!-- -->requirements.txt</span></pre><h1 id="b53f" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">容器特定定制</h1><p id="27be" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">这一步是可选的。默认情况下，如果我们没有在“. gitpod.yml”文件中指定任何Docker文件，Gitpod会创建一个带有标准Docker映像的工作区，名为“Workspace-Full”。这个标准的docker映像包括Docker、Go、Java、Node.js、C/C++、Python、Ruby、Rust、PHP以及Homebrew、Tailscale、Nginx等工具。</p><p id="6dbe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您想要构建自定义容器，请在您的存储库主文件夹中单击Add file -&gt; Create new file按钮。在文件名框中输入“. gitpod.Dockerfile”。您的自定义容器可以包含您想要的任何内容。如果您正在使用标准映像中不存在的框架或SDK，或者如果您必须安装特定的包，这将非常有用。我推荐使用<strong class="jp ir">标准全工作区图像</strong>作为基础图像，然后在此基础上构建，如下所示。如果您想从不同于标准映像的框架开始，请检查在<a class="ae mc" href="https://github.com/gitpod-io/workspace-images" rel="noopener ugc nofollow" target="_blank"> workspace-images </a>存储库中提供的Gitpod的预构建容器配置。</p><pre class="me mf mg mh gt mt mu mv mw aw mx bi"><span id="7d98" class="my km iq mu b gy mz na l nb nc">FROM gitpod/workspace-base:latest</span><span id="d298" class="my km iq mu b gy nd na l nb nc"># [Optional] Uncomment this section to install additional OS packages.<br/># RUN apt-get update &amp;&amp; export DEBIAN_FRONTEND=noninteractive \<br/>#     &amp;&amp; apt-get -y install --no-install-recommends &lt;your-package-list-here&gt;</span></pre><h1 id="0c2e" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">打开工作空间</h1><p id="7824" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">我们已经做好了一切准备，可以启动Gitpod Workspace了。单击在Gitpod中打开按钮启动Gitpod工作区，它会要求您登录Gitpod帐户。我们使用GitHub作为提供者，你的工作空间将在一个新的标签中打开。</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi nf"><img src="../Images/d4ec2eccc96e38a8e7d6b5d77b2ddb28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oBMNUKCIJH5jTbhkk-vSPQ.png"/></div></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk translated">登录Gitpod</figcaption></figure><p id="3596" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这将需要几秒钟的时间，您将在浏览器中看到您的工作区，如下图所示。它还展示了如何打开终端。</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi ng"><img src="../Images/d22c03164c7af08c72a146c4320a9765.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RJrFAkHF9H0T6aOB7PLs5Q.png"/></div></div></figure><p id="9025" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用Gitpod工作区，我们完成了这个项目的开发环境设置，我们可以在预定义的环境中快速打开项目代码，构建并测试它。</p><h1 id="5c52" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">下一步</h1><p id="9fd6" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">在下一篇文章中，我们可以看到如何获取音乐数据集并执行探索性数据分析。</p></div><div class="ab cl nh ni hu nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ij ik il im in"><p id="1cfd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你喜欢看我的文章，并想支持我，请考虑注册成为一个媒体成员。每月5美元，你可以无限制地阅读媒体上的故事。请注册使用我的链接来支持我:【https://nsanka.medium.com/membership. T2】</p></div></div>    
</body>
</html>