<html>
<head>
<title>How to use Windows Subsystem for Android as a development tool</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Android的Windows子系统作为开发工具</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/will-windows-subsystem-for-android-replace-emulators-d93ab4dbcb14?source=collection_archive---------1-----------------------#2021-11-02">https://levelup.gitconnected.com/will-windows-subsystem-for-android-replace-emulators-d93ab4dbcb14?source=collection_archive---------1-----------------------#2021-11-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="368e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如何使用Windows子系统进行Android和Flutter app开发…但是应该吗？</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/9f979a21dd77726b8661ee664b306a46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RHGkpOTEW5VmK_I_TK2UVg.jpeg"/></div></div></figure><h1 id="40a9" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">介绍</h1><p id="7b56" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">微软最近发布了面向内部人士的Android Windows子系统(又名WSA)，该功能允许Windows在不需要任何仿真器的情况下运行Android应用。在应用程序开发中，这可能是仿真器的一个很棒的替代品，但是我们应该使用它吗？</p><h1 id="03c0" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">Android的Windows子系统是什么？</h1><p id="95e8" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">嗯，android的Windows子系统(又名WSA)是一种新的平台技术，允许Android应用程序在Windows上运行，它的工作方式类似于它的表亲Linux的Windows子系统，允许不同的操作系统与Windows一起运行。微软刚刚发布了它的第一个预览版，它有<strong class="jp ir">许多限制</strong>，但是如果他们做得好，它可以为Windows用户提供一个伟大的开发者体验。</p><h1 id="bf0a" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">如何使用WSA进行应用程序开发</h1><p id="c453" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">首先，你需要安装WSA，如果你还没有安装，看看我之前关于如何安装的故事:</p><div class="ma mb gp gr mc md"><a rel="noopener  ugc nofollow" target="_blank" href="/installing-windows-subsystem-for-android-in-windows-11-c33e98c4071c"><div class="me ab fo"><div class="mf ab mg cl cj mh"><h2 class="bd ir gy z fp mi fr fs mj fu fw ip bi translated">在Windows 11中为Android安装Windows子系统</h2><div class="mk l"><h3 class="bd b gy z fp mi fr fs mj fu fw dk translated">查看如何在任何版本的Windows 11上安装和使用WSA，以及在没有任何仿真器的情况下运行Android应用程序！</h3></div><div class="ml l"><p class="bd b dl z fp mi fr fs mj fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="mm l"><div class="mn l mo mp mq mm mr kv md"/></div></div></a></div><h2 id="b5b2" class="ms ky iq bd kz mt mu dn ld mv mw dp lh jy mx my ll kc mz na lp kg nb nc lt nd bi translated">安装ADB</h2><p id="42d1" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">ADB (Android Debug Bridge)是一个与Android设备通信的调试工具，它与Android Studio一起安装，但你可以从<a class="ae ne" href="https://developer.android.com/studio/releases/platform-tools" rel="noopener ugc nofollow" target="_blank">这里</a>单独下载。</p><p id="4610" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们需要在path系统变量中添加ADB，找到android SDK安装的位置(如果是用Android Studio安装的，位置通常是<code class="fe nf ng nh ni b">%LOCALAPPDATA%\Android\Sdk\platform-tools</code>)。复制ADB可执行文件所在的路径。</p><p id="a646" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，在Windows上搜索“编辑系统环境变量”，打开它，然后单击“环境变量”</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/98ebe1f0cf00a48d5dad89eee868223f.png" data-original-src="https://miro.medium.com/v2/resize:fit:822/format:webp/1*pghur6gDERYLfFJ79admxQ.png"/></div></figure><p id="e27e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">双击“用户变量”下的“路径”，然后将ADB的位置粘贴到那里。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/81dd594d73c09550291dc21fa009bf20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*3XpKA6r97DWgB4xZZEHOOA.png"/></div><figcaption class="nl nm gj gh gi nn no bd b be z dk translated">环境变量</figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi np"><img src="../Images/8fe36ea82bc25f6feb7daa37d5ed2b2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*dKndZAqVKhuByWdw1aK2bg.png"/></div><figcaption class="nl nm gj gh gi nn no bd b be z dk translated">将adb添加到路径</figcaption></figure><p id="706b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在按ok，ADB应该安装好了。</p><h2 id="419d" class="ms ky iq bd kz mt mu dn ld mv mw dp lh jy mx my ll kc mz na lp kg nb nc lt nd bi translated">在WSA中启用开发人员模式</h2><p id="5b98" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">在WSA中启用开发者模式出奇的简单，你所要做的就是打开WSA设置(搜索Android的Windows子系统并打开)并启用开发者模式。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nq"><img src="../Images/db7580234cf89b1eb83163af94b461ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vluM11GxvioEx99IDzVpPg.png"/></div></div><figcaption class="nl nm gj gh gi nn no bd b be z dk translated">WSA设置</figcaption></figure><p id="240d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">默认情况下，启用该选项已经启用了USB调试，所以我们不需要在这里做任何其他事情，但如果你想，你可以通过点击“管理开发者设置”来检查所有的开发者模式设置。</p><h2 id="7852" class="ms ky iq bd kz mt mu dn ld mv mw dp lh jy mx my ll kc mz na lp kg nb nc lt nd bi translated">将ADB连接到WSA</h2><p id="e7ff" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">一旦你启用了开发者模式，点击IP地址下的“刷新”,如果它仍然显示为“不可用”, WSA目前是关闭的，所以你需要打开任何android应用程序来启动它，然后再次点击刷新。</p><p id="85ef" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">打开PowerShell或CMD并键入:<code class="fe nf ng nh ni b">adb connect YOUR_IP_ADDRESS</code>，按enter键，ADB应该会连接到WSA。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nr"><img src="../Images/ec4f3ac9a845ba051a6687dbb6c44db2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lClz3o-kGFnLSTD29fpJlA.png"/></div></div></figure><h2 id="25e9" class="ms ky iq bd kz mt mu dn ld mv mw dp lh jy mx my ll kc mz na lp kg nb nc lt nd bi translated">运行Android Studio应用</h2><p id="f5ed" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">Android studio会识别WSA，通常它会默认构建WSA，但如果不是这样，您需要做的就是选择设备并运行您的构建。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ns"><img src="../Images/970d344aec4f0660bf0f3d2fda2dfae2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qVImhJcgwbzUEIhVe8Acdg.png"/></div></div><figcaption class="nl nm gj gh gi nn no bd b be z dk translated">在Android Studio上选择WSA</figcaption></figure><h2 id="7774" class="ms ky iq bd kz mt mu dn ld mv mw dp lh jy mx my ll kc mz na lp kg nb nc lt nd bi translated">运行Flutter应用</h2><p id="00f5" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">对于flutter，您有一些选项，如果您使用Android Studio，您可以像上一节一样选择设备，如果您使用Visual Studio代码，您可以选择右下角的设备或在构建开始后选择它。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/8c645a72c4888d3b1c0653cffe9fc971.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/format:webp/1*icmmmClhUB-m1pWe1TaEhA.png"/></div><figcaption class="nl nm gj gh gi nn no bd b be z dk translated">选择VSCode上的WSA</figcaption></figure><p id="7838" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后一个选项是从命令行使用它，用<code class="fe nf ng nh ni b">flutter devices</code>列出设备，然后用-d标志运行您的构建来选择WSA。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nr"><img src="../Images/28f8397088e50a1afed4406a2c41396a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MUHELEpYdKIEr0LAnqEt9Q.png"/></div></div><figcaption class="nl nm gj gh gi nn no bd b be z dk translated">在颤振指令中选择WSA</figcaption></figure></div><div class="ab cl nu nv hu nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="ij ik il im in"><p id="8a0d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">就是这样！现在你有了作为开发工具运行的WSA！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ob"><img src="../Images/a9818d1c2edf1fe36980d8b4feaf946f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bmx4jBJxKQl70F2fw-bP4w.png"/></div></div><figcaption class="nl nm gj gh gi nn no bd b be z dk translated">在WSA中运行的Flutter示例应用程序</figcaption></figure></div><div class="ab cl nu nv hu nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="ij ik il im in"><h1 id="9564" class="kx ky iq bd kz la oc lc ld le od lg lh li oe lk ll lm of lo lp lq og ls lt lu bi translated">当前的问题和限制</h1><p id="2f62" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">Android的Windows子系统处于其第一个预览版，因此，错误，问题和缺失的功能是意料之中的，对于第一个预览版来说，它是相当可靠的，直到现在我只在我尝试使用蓝牙时遇到了一次崩溃，蓝牙还不支持，性能有点粗糙，调整窗口大小需要几秒钟才能调整好，不要指望在它上面运行要求高的游戏，它对绝大多数应用程序来说已经足够好了，但需要针对更高要求的应用程序进行优化。WSA目前只支持Android 11，我不确定微软是否计划拥有自己的Android版本并随着时间的推移进行更新，或者他们是否会允许在商店中添加其他版本(就像WSL的工作方式一样)，我个人更喜欢有多个版本可供选择，但我不确定这是否可能，因为优化和维护这些版本需要大量的工作。</p><p id="dead" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">缺少功能是目前最大的限制，谷歌服务完全缺失，这基本上扼杀了任何使用谷歌API实现的应用程序，社区已经找到了这个问题的解决方案，虽然这不是最简单的解决方案，但至少你只需要做一次，你可以在下面的链接中查看。</p><div class="ma mb gp gr mc md"><a href="https://www.windowscentral.com/how-run-google-play-store-android-apps-windows-11" rel="noopener  ugc nofollow" target="_blank"><div class="me ab fo"><div class="mf ab mg cl cj mh"><h2 class="bd ir gy z fp mi fr fs mj fu fw ip bi translated">让Windows 11运行谷歌Play商店安卓应用</h2><div class="mk l"><h3 class="bd b gy z fp mi fr fs mj fu fw dk translated">在Windows 11上，你现在可以安装Android的Windows子系统(WSA)来运行Android应用程序。问题是…</h3></div><div class="ml l"><p class="bd b dl z fp mi fr fs mj fu fw dk translated">www.windowscentral.com</p></div></div><div class="mm l"><div class="oh l mo mp mq mm mr kv md"/></div></div></a></div><h1 id="b939" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">WSA是一个有前途的工具吗？</h1><p id="d5e4" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">确实是！因为它的目标是终端用户，它应该拥有我们在物理设备中拥有的大多数功能，并且应该像一个设备一样运行，你可以把WSA想象成你的pc是一个Android设备。目前它不支持蓝牙，但我希望它在正式发布前可用，因为Android模拟器不能使用蓝牙，它是WSA作为开发工具的一个很好的用例，它真正有用的另一个场景是当你必须在不同的屏幕大小和纵横比下验证你的应用程序时，为了用模拟器做到这一点，你需要多个模拟器，每个模拟器需要7到15 GB，而WSA只需要其中的一小部分，你可以调整窗口大小来测试它。</p><h1 id="6ef3" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">结论——你应该使用WSA作为Android模拟器的替代品吗？</h1><p id="4c67" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">简而言之，没有，至少现在没有。WSA仍处于预览阶段，它有许多缺陷和缺失的功能，你可以用来测试它，也许可以创建一个简单的应用程序，但不要取代你的模拟器，它可能是未来真正强大的开发工具，但现在，它有太多的缺陷。</p></div></div>    
</body>
</html>