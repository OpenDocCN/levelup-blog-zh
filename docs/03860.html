<html>
<head>
<title>Tensor operations in PyTorch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PyTorch中的张量运算</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/tensor-operations-in-pytorch-798d58e7adb2?source=collection_archive---------4-----------------------#2020-05-30">https://levelup.gitconnected.com/tensor-operations-in-pytorch-798d58e7adb2?source=collection_archive---------4-----------------------#2020-05-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="98f0" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated"><em class="kf">py torch张量中我发现有用的5种运算</em></h2></div><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi kg"><img src="../Images/3f798b1c4b43d5c8c2a1aefce5de06d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/0*UFGZ32hCNU4S2zAI.png"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">PyTorch</figcaption></figure><p id="0d2f" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">PyTorch是一个基于Python的科学包，它使用一种称为张量的特殊数据类型来执行高级操作。张量是具有规则形状和相同数据类型的数字的数字、向量、矩阵或多维数组。PyTorch是NumPy包的替代产品，可以额外使用GPU的能力。它还被用作进行深度学习研究的框架。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="ab gu cl lo"><img src="../Images/2e0ea2f1f98648a8799cd7b91f4ad38d.png" data-original-src="https://miro.medium.com/v2/format:webp/1*_D5ZvufDS38WkhK9rK32hQ.jpeg"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">理解张量</figcaption></figure><p id="082b" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">这5种操作是:</p><ul class=""><li id="2d6f" class="lp lq iq ku b kv kw ky kz lb lr lf ls lj lt ln lu lv lw lx bi translated">展开()</li><li id="65da" class="lp lq iq ku b kv ly ky lz lb ma lf mb lj mc ln lu lv lw lx bi translated">置换()</li><li id="eef6" class="lp lq iq ku b kv ly ky lz lb ma lf mb lj mc ln lu lv lw lx bi translated">tolist()</li><li id="ddc9" class="lp lq iq ku b kv ly ky lz lb ma lf mb lj mc ln lu lv lw lx bi translated">狭窄()</li><li id="db34" class="lp lq iq ku b kv ly ky lz lb ma lf mb lj mc ln lu lv lw lx bi translated">哪里()</li></ul><h1 id="2b3a" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">1.展开()</h1><p id="68ac" class="pw-post-body-paragraph ks kt iq ku b kv mv jr kx ky mw ju la lb mx ld le lf my lh li lj mz ll lm ln ij bi translated">现有张量沿着值为1的维度扩展到新的维度。张量可以沿任何一维或多维展开。如果不想沿特定维度扩展张量，可以将其参数值设置为-1。</p><blockquote class="na nb nc"><p id="912c" class="ks kt nd ku b kv kw jr kx ky kz ju la ne lc ld le nf lg lh li ng lk ll lm ln ij bi translated">注意:只能扩展单一维度</p></blockquote><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="nh ni l"/></div></figure><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="6ea7" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">在这个例子中，张量的原始维数为[1，2，3]。它被扩展到维度[2，2，3]。</p><p id="8774" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">该函数可用于沿单一维度扩展现有张量。它只返回一个新视图，不分配新内存。因此，它可以用来研究张量在更大维度下的行为。</p><h1 id="96b9" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">2.置换()</h1><p id="c267" class="pw-post-body-paragraph ks kt iq ku b kv mv jr kx ky mw ju la lb mx ld le lf my lh li lj mz ll lm ln ij bi translated">这个函数返回一个张量视图，原始张量的维数顺序根据我们的选择而改变。比如原来的维度是[1，2，3]，我们可以改成[3，2，1]。该函数将所需的维度顺序作为其参数。</p></div><div class="ab cl nj nk hu nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="ij ik il im in"><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="nh ni l"/></div></figure><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="nh ni l"/></div></figure><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="db8a" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">在这个例子中，原始张量的维数为<a class="ae nq" href="https://jovian.ml/samy-n/01-tensor-operations" rel="noopener ugc nofollow" target="_blank">【1，2，3】</a>。使用置换，我设置顺序为(2，1，0)，这意味着新的维度应该是[ <a class="ae nq" href="https://jovian.ml/samy-n/01-tensor-operations" rel="noopener ugc nofollow" target="_blank"> 3，2，1 </a> ]。如所见，张量的新视图具有重新排列的数字，使得张量具有维度<a class="ae nq" href="https://jovian.ml/samy-n/01-tensor-operations" rel="noopener ugc nofollow" target="_blank">【3，2，1】</a>。</p><p id="c2b0" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">当我们想要重新排序并查看不同维度的张量，或者使用不同顺序的矩阵执行矩阵乘法时，可以使用该函数。</p><h1 id="cd3c" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">3.tolist()</h1><p id="80ea" class="pw-post-body-paragraph ks kt iq ku b kv mv jr kx ky mw ju la lb mx ld le lf my lh li lj mz ll lm ln ij bi translated">这个函数以Python数字、列表或嵌套列表的形式返回张量。在此之后，我们可以对它执行任何Pythonic逻辑和运算。</p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="79c0" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">在本例中，张量作为嵌套列表返回。</p><h1 id="4284" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">4.狭窄()</h1><p id="1e22" class="pw-post-body-paragraph ks kt iq ku b kv mv jr kx ky mw ju la lb mx ld le lf my lh li lj mz ll lm ln ij bi translated">这个函数返回一个新的张量，它是原始张量的缩小版本。该函数的参数是输入张量、沿其缩小的维度、新张量沿该维度的起始索引和长度。它从index start到index (start+length-1)获取该维度中的元素。</p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="91f9" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">在这个例子中，张量将沿着第二维度变窄，第二维度是最里面的列表。它从索引2开始到索引3(= 2+2–1，即start+length-1)获取列表中的元素</p><p id="81e2" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">Narrow()的工作方式类似于高级索引。例如，在2D张量中，使用<a class="ae nq" href="https://jovian.ml/samy-n/01-tensor-operations" rel="noopener ugc nofollow" target="_blank"> [:，0:5 </a>的高级索引选择从列0到列5的所有行。使用torch.narrow(1，0，5)也可以达到同样的效果。然而，在更高维的张量中，对于每一维使用:来提及范围是很乏味的。使用narrow()可以更快更方便地实现这一点。</p><h1 id="9733" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">5.哪里()</h1><p id="8ca2" class="pw-post-body-paragraph ks kt iq ku b kv mv jr kx ky mw ju la lb mx ld le lf my lh li lj mz ll lm ln ij bi translated">这个函数返回一个新的张量，每个索引的值根据给定的条件改变。这个函数的参数是条件，第一张量和第二张量。在张量(在条件中使用)的每个值处检查条件，如果为真，则用第一个张量中相同位置的值替换该值，如果为假，则用第二个张量中相同位置的值替换该值。</p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="b6ee" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">这里，它检查张量a中的值是否是偶数。如果是，它就被张量b中的值所代替，这些值都是零，否则它就和原来的一样。</p><p id="958b" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">该功能可用于设定阈值。如果张量中的值高于或低于某个数字，它们可以很容易地被替换。</p><h1 id="8374" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated"><strong class="ak">结论</strong></h1><p id="e371" class="pw-post-body-paragraph ks kt iq ku b kv mv jr kx ky mw ju la lb mx ld le lf my lh li lj mz ll lm ln ij bi translated">这5个函数是PyTorch文档中提到的众多函数中的几个。更多操作可以参考。</p><h1 id="978c" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated"><strong class="ak">参考文献</strong></h1><ul class=""><li id="0417" class="lp lq iq ku b kv mv ky mw lb nr lf ns lj nt ln lu lv lw lx bi translated">PyTorch张量文档-<a class="ae nq" href="https://pytorch.org/docs/stable/torch.html#" rel="noopener ugc nofollow" target="_blank">https://pytorch.org/docs/stable/torch.html#</a></li><li id="af99" class="lp lq iq ku b kv ly ky lz lb ma lf mb lj mc ln lu lv lw lx bi translated">我的丘比特笔记本-<a class="ae nq" href="https://jovian.ml/samy-n/01-tensor-operations" rel="noopener ugc nofollow" target="_blank">https://jovian.ml/samy-n/01-tensor-operations</a></li><li id="18a9" class="lp lq iq ku b kv ly ky lz lb ma lf mb lj mc ln lu lv lw lx bi translated">深度学习用PyTorch教程-<a class="ae nq" href="https://www.youtube.com/watch?v=vo_fUOk-IKk&amp;list=PLWKjhJtqVAbm3T2Eq1_KgloC7ogdXxdRa&amp;index=2&amp;t=0s" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=vo_fUOk-IKk&amp;list = plwkjhjtqvabm 3 T2 eq1 _ kg loc 7 ogdxdra&amp;index = 2&amp;t = 0s</a></li><li id="ffcd" class="lp lq iq ku b kv ly ky lz lb ma lf mb lj mc ln lu lv lw lx bi translated">jovian . ml—<a class="ae nq" href="https://jovian.ml/forum/" rel="noopener ugc nofollow" target="_blank">https://jovian.ml/forum/</a></li></ul></div><div class="ab cl nj nk hu nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="ij ik il im in"><div class="kh ki kj kk gt nu"><a href="https://skilled.dev" rel="noopener  ugc nofollow" target="_blank"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd ir gy z fp nz fr fs oa fu fw ip bi translated">编写面试问题</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">一个完整的平台，在这里我会教你找到下一份工作所需的一切，以及…</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">技术开发</p></div></div><div class="od l"><div class="oe l of og oh od oi km nu"/></div></div></a></div></div></div>    
</body>
</html>