# 2022 å¹´ï¼Œç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²è¾¾åˆ° 3 ä½æ•°ï¼Œå¯èƒ½ä¼šè®©ä¸€äº›ç½‘ç«™å´©æºƒ

> åŸæ–‡ï¼š<https://levelup.gitconnected.com/chrome-100-blocks-websites-access-1e78aa4c48bd>

## [Chromeï¼Œ](https://rakiabensassi.medium.com/list/software-engineering-7a179a23ebfd)Bugï¼Œ [Web å¼€å‘](https://rakiabensassi.medium.com/list/software-engineering-7a179a23ebfd)

## è™½ç„¶ Chrome 100 å°†åœ¨å‡ ä¸ªæœˆåå‘å¸ƒï¼Œä½†å¹¶éæ‰€æœ‰ç½‘ç«™å¥—ä»¶éƒ½ä¸ä¸‰ä½æ•°ç‰ˆæœ¬å·å…¼å®¹

![](img/911103ec7e48bcf4f9f8b10080572c53.png)

åŸå§‹å›¾ç‰‡æ¥è‡ª [pixabay](https://pixabay.com/photos/man-headache-frustration-frustrated-5531026/) å’Œ [ZDNet](https://www.zdnet.de/88398292/internet-browser-ist-einfallstor-fuer-cyberangriffe/) (ä½œè€…ç¼–è¾‘)

ç½‘ç»œæ˜¯ä¸€å°é—ç•™ä¸‹æ¥çš„æœºå™¨ï¼Œå¯èƒ½ä¼šå˜å¾—ä¸€å›¢ç³Ÿã€‚å®ƒå……æ»¡äº†å†å²ï¼Œæ³¨å®šä¼šé‡æ¼”ã€‚

å¦‚æœä½ å¤Ÿè€ï¼Œä½ å¯èƒ½è¿˜è®°å¾—åƒå¹´è™«(2000 å¹´é”™è¯¯)ï¼Œå®ƒæ˜¯ç”±è®¡ç®—æœºç³»ç»Ÿæ²¡æœ‰è¢«è®¾è®¡æˆè¯†åˆ« 1999 å¹´ä»¥åçš„æ—¥æœŸï¼Œå¹¶ä¸”æ²¡æœ‰ä¸ºè¿‡æ¸¡åˆ°æ–°åƒå¹´åšå¥½å‡†å¤‡è¿™ä¸€äº‹å®å¼•èµ·çš„ã€‚é‚£ä¸ªé”™è¯¯ä½¿å¾— 2000 å¹´å’Œ 1900 å¹´æ— æ³•åŒºåˆ†ã€‚

20 å¹´åï¼ŒChrome å³å°†é¢ä¸´ç±»ä¼¼çš„é—®é¢˜ã€‚

2021 å¹´ï¼Œè°·æ­Œå°†å…¶ç½‘ç»œæµè§ˆå™¨çš„å‘å¸ƒå‘¨æœŸä»å…­å‘¨ç¼©çŸ­è‡³å››å‘¨ã€‚æœ‰äº†è¿™ä¸ªæ–°æ—¥å†ï¼Œæˆ‘ä»¬é¢„è®¡åœ¨ 2022 å¹´ 3 æœˆçœ‹åˆ° Chrome 100ã€‚

ç„¶è€Œï¼Œå„ç§å†…å®¹ç®¡ç†ç³»ç»Ÿ(CMS)å’Œç½‘ç«™æ„å»ºå¥—ä»¶ï¼Œå¦‚[æœè¾¾](https://www.duda.co/)ï¼Œåœ¨é€šè¿‡**ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²**ç¡®å®šè¯·æ±‚æµè§ˆå™¨çš„å®‰è£…ç‰ˆæœ¬æ—¶ï¼Œå¹¶æ²¡æœ‰è®¾ç½®ä¸ºä¸‰ä½æ•°ç‰ˆæœ¬å·ã€‚

å› æ­¤ï¼ŒChrome ç‰ˆæœ¬å¯èƒ½ä¼šç»™ç›¸å½“å¤šçš„ç½‘ç«™å¸¦æ¥é—®é¢˜ï¼Œè°·æ­Œå·²ç»æ‰¿è®¤è¿™æ˜¯ Chromium Bug è¿½è¸ªå™¨çš„ä¸€éƒ¨åˆ†ã€‚[ç«ç‹ä¹Ÿå°†åœ¨ 2022 å¹´ 4 æœˆå·¦å³è¾¾åˆ°ç‰ˆæœ¬ 100](https://wiki.mozilla.org/Release_Management/Calendar) ã€‚

```
**Table of Contents**[The Difference Between a User Agent and a Browser](#0cfd)[Whatâ€™s a User Agent String?](#4d55)[Why Browsers' Version 100 Is Problematic?](#7301)[An Old Drama Reissued](#3832)
[Looking for a Solution](#8a03)
```

# ç”¨æˆ·ä»£ç†å’Œæµè§ˆå™¨çš„åŒºåˆ«

ç”¨æˆ·ä»£ç†(UA)å¯ä»¥æ˜¯ web æµè§ˆå™¨ã€ç”µå­é‚®ä»¶é˜…è¯»å™¨(å¦‚ Mozilla Thunderbird)ã€ä¸‹è½½ç®¡ç†å™¨ã€æŠ“å– web å†…å®¹çš„[æœºå™¨äºº](https://javascript.plainenglish.io/web-scraping-with-nodejs-and-javascript-10e6b4268be1)æˆ–å…¶ä»–è®¿é—® web çš„è®¡ç®—æœºç¨‹åºã€‚

> ç”¨æˆ·ä»£ç†æ˜¯æ£€ç´¢ã€å‘ˆç°å’Œä¿ƒè¿›æœ€ç»ˆç”¨æˆ·ä¸ Web å†…å®¹äº¤äº’çš„ä»»ä½•è½¯ä»¶ï¼Œæˆ–è€…å…¶ç”¨æˆ·ç•Œé¢æ˜¯ä½¿ç”¨ Web æŠ€æœ¯å®ç°çš„â€” [W3C](https://www.w3.org/WAI/UA/work/wiki/Definition_of_User_Agent)

é€šå¸¸ï¼Œæµè§ˆå™¨ã€åƒåœ¾é‚®ä»¶æœºå™¨äººå’Œä¸‹è½½ç®¡ç†å™¨å¯¹ UA æ’’è°ï¼Œå¹¶å‘é€è™šå‡çš„ UA å­—ç¬¦ä¸²ï¼Œçœ‹èµ·æ¥åƒä¸åŒçš„å®¢æˆ·ç«¯ã€‚æˆ‘ä»¬æŠŠè¿™ç§åšæ³•å«åš ***ç”¨æˆ·ä»£ç†æ¬ºéª—*** ï¼Œéå¸¸æœ‰ç”¨ã€‚

[Chris Peterson(æ¥è‡ª Mozilla)](https://miketaylr.com/posts/2021/03/firefox-version-520-works-in-slack.html) ä¸¾ä¾‹æ¥è¯´ï¼Œåœ¨ä½¿ç”¨ä¸€ä¸ªä¼ªé€ çš„ UA å­—ç¬¦ä¸²æŠ¥å‘Šç‰ˆæœ¬ 100 ä¸Šç½‘åï¼Œå‘ç°äº† bug[we b-bug 67866](https://github.com/webcompat/web-bugs/issues/67866)***èœå•æŒ‰é’®åœ¨ Firefox ç‰ˆæœ¬ 100*** ä¸­ä¸èµ·ä½œç”¨ã€‚

![](img/70de9e93d7a4237bdf81cf03e306d34d.png)

[æ¥æº](https://github.com/webcompat/web-bugs/issues/67866)

# ä»€ä¹ˆæ˜¯ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²ï¼Ÿ

å½“æµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚æ—¶ï¼Œå®ƒä»¬åŒ…å«ä¸€ä¸ªè¢«ç§°ä¸º**ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²**çš„æ ‡è¯†æ€§`User-Agent` HTTP å¤´ï¼Œå®ƒå‘Šè¯‰æœåŠ¡å™¨å’Œç½‘ç»œå¯¹ç­‰ç‚¹å…³äºæµè§ˆå™¨ã€å…¶ç‰ˆæœ¬å·å’Œæ“ä½œç³»ç»Ÿçš„ä¿¡æ¯ã€‚

web æµè§ˆå™¨çš„é€šç”¨ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²æ ¼å¼ä¸º:

```
User-Agent: Mozilla/5.0 (<system-information>) <platform> (<platform-details>) <extensions>
```

ä¸‹é¢æ˜¯ä¸€ä¸ª[ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/User-Agent)çš„ä¾‹å­ï¼Œå…¶ä¸­æµè§ˆå™¨æ˜¯ Chromeï¼Œå…¶ä¸»è¦ç‰ˆæœ¬æ˜¯`96`:

`"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) **Chrome/96.0.4664.110** Safari/537.36"`ã€‚

ä½ å¯ä»¥é€šè¿‡åœ¨ [DevTools](/how-to-use-tensorflow-js-without-memory-leaks-273ad16196be) çš„æ§åˆ¶å°æ ‡ç­¾ä¸Šè¾“å…¥`navigator.userAgent`æ¥æ˜¾ç¤ºä½ çš„ Chrome æµè§ˆå™¨æ‰€ä½¿ç”¨çš„ UA å­—ç¬¦ä¸²ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º:

ä» Chrome DevTools æ£€æŸ¥ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²

# ä¸ºä»€ä¹ˆæµè§ˆå™¨çš„ 100 ç‰ˆæœ¬æœ‰é—®é¢˜ï¼Ÿ

æ‚¨å¯ä»¥é€šè¿‡ä½¿ç”¨`[NavigatorID.userAgent](https://developer.mozilla.org/en-US/docs/Web/API/Navigator/userAgent)`å±æ€§åœ¨ [JavaScript](https://betterprogramming.pub/javascript-history-and-future-71b0ceb737aa) ä»£ç ä¸­è®¿é—®ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²ã€‚

ä½†æ˜¯ä½ è‡ªå·±å†™çš„æˆ–è€…ä»ç¬¬ä¸‰æ–¹åº“ä½¿ç”¨çš„æ£€æŸ¥æµè§ˆå™¨ç‰ˆæœ¬çš„æºä»£ç å¯èƒ½ä¼šè¿”å›`null`æˆ–è€…æ›´ç³Ÿçš„æ˜¯ï¼Œ`10`è€Œä¸æ˜¯`100`:

æ£€æŸ¥ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²ä¸­çš„æµè§ˆå™¨ç‰ˆæœ¬

å¦‚æœ JavaScript ä»£ç å°†ç‰ˆæœ¬å·ä½œä¸º`string`è€Œä¸æ˜¯`integer`è¿›è¡Œæ¯”è¾ƒï¼Œæ‚¨å¯èƒ½ä¼šå¾—åˆ°é”™è¯¯çš„ç»“æœï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤º:

å°†æµè§ˆå™¨ç‰ˆæœ¬ä½œä¸ºå­—ç¬¦ä¸²è€Œä¸æ˜¯æ•´æ•°è¿›è¡Œæ£€æŸ¥

ä¸Šè¿° bugâ€œ***èœå•æŒ‰é’®åœ¨ Firefox ç‰ˆæœ¬ 100****ä¸­ä¸èµ·ä½œç”¨çš„åŸå› ï¼Œå…¶å®æ˜¯æŠŠç‰ˆæœ¬å·æ¯”ä½œ[è¿™ä¸ªå·¨å‹ç¼©å°è„šæœ¬](https://a.slack-edge.com/bv1-9/client-boot-imports.326b89f.min.js)ä¸­çš„`string`ã€‚ç”±äºå­—ç¬¦ä¸²`"100â€`å°äº`"52â€`ï¼Œç»“æœä¸é¢„æœŸä¸åŒ:*

*åœ¨ JavaScript ä¸­å°†æµè§ˆå™¨ç‰ˆæœ¬ä½œä¸ºå­—ç¬¦ä¸²è€Œä¸æ˜¯æ•°å­—è¿›è¡Œæ¯”è¾ƒ*

# *é‡æ–°å‘è¡Œçš„æ—§æˆå‰§*

*å¾ˆä¹…ä»¥å‰ï¼Œå½“ç¬¬ä¸€æ‰¹æµè§ˆå™¨åœ¨åˆ°è¾¾ç‰ˆæœ¬`10`åä»ä¸€ä½æ•°ç‰ˆæœ¬å·åˆ‡æ¢åˆ°ä¸¤ä½æ•°ç‰ˆæœ¬å·æ—¶ï¼Œç½‘ç»œç»å†äº†ç±»ä¼¼çš„å›°éš¾ã€‚ä½ å¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹[æˆæ›²](https://maqentaer.com/devopera-static-backup/http/dev.opera.com/articles/view/opera-ua-string-changes/index.html) `[10](https://maqentaer.com/devopera-static-backup/http/dev.opera.com/articles/view/opera-ua-string-changes/index.html)` [æˆæ›²](https://maqentaer.com/devopera-static-backup/http/dev.opera.com/articles/view/opera-ua-string-changes/index.html)ã€‚*

*ä½†å¥½æ¶ˆæ¯æ˜¯ï¼Œè°·æ­Œæ„è¯†åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œå¹¶åœ¨æ—©æœŸé˜¶æ®µå°±ä¸ºä¸‰ä½æ•°ç‰ˆæœ¬å·çš„æ½œåœ¨é—®é¢˜åšå¥½äº†å‡†å¤‡ï¼Œå¹¶åˆ›é€ äº†ä¸€ä¸ªåœ¨ Chrome 96 é¢„è§ˆç‰ˆä¸­æµ‹è¯•å®ƒä»¬çš„æœºä¼šã€‚*

*![](img/d2992e16ec8e84a3aba71adb3a3cdd09.png)*

*é€šè¿‡ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²è¿›è¡Œæµè§ˆå™¨ç‰ˆæœ¬æ£€æŸ¥çš„ç»“æœ([æº](https://is-chrome-100-yet.glitch.me/))*

*å€ŸåŠ© Canary Release 96ï¼Œweb å¼€å‘äººå‘˜å¯ä»¥é€šè¿‡ä½¿ç”¨ä¸€ä¸ªæ ‡å¿—æ¥æ¿€æ´»ä¸€ä¸ª 100 ç”¨æˆ·ä»£ç†ã€‚ä¸ºæ­¤ï¼Œæ‚¨éœ€è¦è½¬åˆ°`chrome://flags`è®¾ç½®å¹¶å¯ç”¨`#force-major-version-to-100`æ ‡å¿—:*

*![](img/03ed3731805d5537d3144c991746a167.png)*

*Chrome Canary:å¯ç”¨`#force-major-version-to-100`æ ‡å¿—æ¥æ¿€æ´» 100 ç”¨æˆ·ä»£ç†([æ¥æº](https://developer.chrome.com/blog/force-major-version-to-100/))*

*ç„¶è€Œï¼Œä»é‚£ä»¥åè¿›è¡Œçš„æµ‹è¯•å’Œé€šè¿‡ Web Compat æ”¶é›†çš„é”™è¯¯æŠ¥å‘Šè¡¨æ˜ï¼ŒChrome 100 å°†ä¼šç»™å…¨çƒè®¸å¤šç½‘ç«™å¸¦æ¥é—®é¢˜ï¼Œå› ä¸ºè¯»å–æµè§ˆå™¨çš„ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²åªä¸ç‰ˆæœ¬å·çš„å‰ä¸¤ä½æœ‰å…³ã€‚*

*å¦‚æœä»£ç æœªèƒ½æ­£ç¡®è§£æä¸‰ä½æ•°ç‰ˆæœ¬å·ï¼Œå¹¶ä¸º Chrome 100 è¿”å›`10`è€Œä¸æ˜¯`100`ï¼Œåæœå¯èƒ½æ˜¯ç½‘ç«™è®¿é—®å—é˜»ã€‚æœè¾¾è‡ªåŠ¨å±è”½äº† 2015 å¹´å‘å¸ƒçš„ç‰ˆæœ¬ 40 ä»¥ä¸‹çš„æ‰€æœ‰ Chrome ç‰ˆæœ¬ï¼Œå› ä¸ºå®ƒä»¬å·²ç»è¿‡æ—¶ã€‚*

# *å¯»æ‰¾è§£å†³æ–¹æ¡ˆ*

*è™½ç„¶ Chrome å½“å‰çš„æ­£å¼ç‰ˆæœ¬æ˜¯ 96ï¼Œä½†è®©å¼€å‘è€…å¯ä»¥æå‰æµ‹è¯•æ–°åŠŸèƒ½çš„é‡‘ä¸é›€ç‰ˆæœ¬å°†åœ¨æ˜å¹´ 1 æœˆå·¦å³åˆ‡æ¢åˆ°ç‰ˆæœ¬å· 100ã€‚*

*è‡³å°‘å¯¹äºé—ç•™ç½‘ç«™æ¥è¯´ï¼Œå‡çº§çš„æ¦‚ç‡è¾ƒä½ï¼Œè°·æ­Œæƒ³æ‰¾åˆ°è§£å†³æ–¹æ¡ˆã€‚*

*æ ¹æ®ç›‘æ§è°·æ­Œç”Ÿæ€ç³»ç»Ÿçš„ç½‘ç«™ [9 åˆ° 5 Google](https://9to5google.com/2021/12/22/google-chrome-100-break-websites-solutions/) çš„è¯´æ³•ï¼Œä½œä¸ºå¤‡ä»½è®¡åˆ’ï¼ŒChrome å°†é”å®šå‰ä¸¤ä½æ•°å­—ä¸º`99`ï¼Œå¹¶å°†å®é™…ç‰ˆæœ¬å·æ’å…¥ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²çš„ç¬¬äºŒä½æ•°å­—åºåˆ—:*

> ***å°†ä¸»è¦ç‰ˆæœ¬æ”¾åœ¨æ¬¡è¦ç‰ˆæœ¬ä½ç½®å’Œç”¨æˆ·ä»£ç†ä¸­***
> 
> *å°†ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²ä¸­çš„ Chrome ä¸»ç‰ˆæœ¬é”å®šä¸º 99ï¼Œå¹¶å°†ä¸»ç‰ˆæœ¬å·å¼ºåˆ¶è®¾ç½®ä¸ºæ¬¡ç‰ˆæœ¬å·ã€‚æ­¤æ ‡å¿—æ˜¯é’ˆå¯¹æ„å¤– M100 ä¸­æ–­çš„å¤‡ç”¨è®¡åˆ’ã€‚*
> 
> **#å¼ºåˆ¶ä»ä¸»è¦åˆ°æ¬¡è¦**

*ç”¨è¿™ç§æ–¹æ³•ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°â€œChrome/99ã€‚ **100** .1234.56â€è€Œä¸æ˜¯â€œChrome/ **100** .0.1234.56â€ã€‚*

*ä¸€ä¸ªæœ€ä½³çš„è§£å†³æ–¹æ¡ˆæ˜¯æ£€æŸ¥ç½‘ç»œä¸Šçš„æ‰€æœ‰ç½‘ç«™ï¼Œå¹¶ç¡®å®šé‚£äº›ä¼šè¢« Chrome 100 ç ´åçš„ç½‘ç«™ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè°·æ­Œå›¢é˜Ÿå¯ä»¥è”ç³»ç½‘ç«™çš„å¼€å‘è€…ï¼Œä»¥ä¾¿ä»–ä»¬å¯ä»¥åœ¨ 3 æœˆä»½å‘å¸ƒæ—¥æœŸä¹‹å‰è§£å†³é—®é¢˜ã€‚*

# *æƒ³è¦æ›´å¤šå—ï¼Ÿ*

*æˆ‘ä¸ºä¸€ç¾¤èªæ˜ã€å¥½å¥‡çš„ğŸ§ äººå†™å…³äºå·¥ç¨‹ã€æŠ€æœ¯å’Œé¢†å¯¼åŠ›çš„æ–‡ç« ğŸ’¡ã€‚ [**åŠ å…¥æˆ‘çš„å…è´¹ç”µå­é‚®ä»¶ç®€è®¯ï¼Œè·å¾—ç‹¬å®¶è®¿é—®**](https://rakiabensassi.substack.com/) æˆ–åœ¨æ­¤[æ³¨å†Œ Medium](https://rakiabensassi.medium.com/membership)ï¼Œå¦‚æœä½ è¿˜æ²¡æœ‰è¿™æ ·åšã€‚*

*[](https://betterprogramming.pub/system-thinking-in-software-development-9a7828303e95) [## ä¸ºä»€ä¹ˆè½¯ä»¶å¼€å‘äººå‘˜éœ€è¦é‡‡ç”¨ç³»ç»Ÿæ€è€ƒè€…çš„æ€ç»´æ–¹å¼

### æ”¾ä¸‹åŸå§‹çš„ç¼–ç æŠ€èƒ½å»ç†è§£æ›´å¤§çš„å›¾æ™¯

better ç¼–ç¨‹. pub](https://betterprogramming.pub/system-thinking-in-software-development-9a7828303e95) [](https://betterprogramming.pub/whats-the-hype-with-log4j-2de7a64f221) [## Log4j æœ‰ä»€ä¹ˆç‚’ä½œä¹‹å¤„

### ä»¥ä¸‹æ˜¯ä½ åº”è¯¥çŸ¥é“çš„å…³äº 0 å¤©æ¼æ´ log4shellï¼Œæœ€ä¸¥é‡çš„ç½‘ç»œå®‰å…¨æ¼æ´ä¹‹ä¸€ï¼Œä»¥åŠå¦‚ä½•â€¦

better ç¼–ç¨‹. pub](https://betterprogramming.pub/whats-the-hype-with-log4j-2de7a64f221)*