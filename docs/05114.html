<html>
<head>
<title>How to Properly Set Up Express With TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何正确设置Express With TypeScript</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-properly-set-up-express-with-typescript-1b52570677c9?source=collection_archive---------2-----------------------#2020-08-05">https://levelup.gitconnected.com/how-to-properly-set-up-express-with-typescript-1b52570677c9?source=collection_archive---------2-----------------------#2020-08-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f49b" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">正确设置Express和Typescript的指南，以及可选的Eslint和更漂亮的。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b4aad1b5e5569891cc568117e8ed874b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ONNb8-uge5-OYfDY5zKJvg.png"/></div></div></figure><p id="8315" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我一直在寻找一个像这样的基础教程，但我没有找到一个。我最终想出了如何自己设置一切，所以我想我可以在这里分享。在这个tutoria中，我不打算介绍Typescript的好处或任何东西，但我还将向您展示如何另外设置Eslint和Prettier，因为我认为这是您应该做的。但这是以后的事，所以现在不用担心。</p><h1 id="6cac" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">第1部分:用Typescript设置Express</h1><h2 id="37ec" class="mf lo iq bd lp mg mh dn lt mi mj dp lx la mk ml lz le mm mn mb li mo mp md mq bi translated">1.安装依赖项</h2><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="16c4" class="mf lo iq ms b gy mw mx l my mz">npm install express &amp;&amp; npm install --save-dev typescript nodemon @types/node @types/express</span></pre><h2 id="c007" class="mf lo iq bd lp mg mh dn lt mi mj dp lx la mk ml lz le mm mn mb li mo mp md mq bi translated">2.添加package.json脚本和主字段</h2><p id="4161" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">在将typescript包作为dev依赖项安装之后，用这三个命令更新package.json脚本块。此外，我们需要通过相应地设置main字段，将主文件设置为Typescript为我们编译的代码的输出。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="6a3b" class="mf lo iq ms b gy mw mx l my mz">"main": "dist/index.js",<br/>"scripts": {<br/>  "build": "tsc",<br/>  "start": "tsc &amp; node .",<br/>  "dev": "tsc -w &amp; nodemon .",<br/>}</span></pre><h2 id="3f1c" class="mf lo iq bd lp mg mh dn lt mi mj dp lx la mk ml lz le mm mn mb li mo mp md mq bi translated">3.添加tsconfig.json文件</h2><p id="6d31" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">最后一步，确保在项目的根目录下创建一个tsconfig.json文件。如果不创建此Typescript，它将不知道使用什么选项以及如何正确地键入您的项目。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="9642" class="mf lo iq ms b gy mw mx l my mz">{<br/>  "compilerOptions": {<br/>    "module": "commonjs",<br/>    "esModuleInterop": true,<br/>    "target": "es6",<br/>    "noImplicitAny": true,<br/>    "moduleResolution": "node",<br/>    "sourceMap": true,<br/>    "outDir": "dist",<br/>    "baseUrl": ".",<br/>    "paths": {<br/>      "*": ["node_modules/*"]<br/>    }<br/>  },<br/>  "include": ["src/**/*"]<br/>}</span></pre><h2 id="0d71" class="mf lo iq bd lp mg mh dn lt mi mj dp lx la mk ml lz le mm mn mb li mo mp md mq bi translated">4.创建主服务器文件</h2><p id="baf4" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">现在，您的项目应该支持使用Typescript。在将成为项目中心的src文件夹中创建主文件。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="8ad7" class="mf lo iq ms b gy mw mx l my mz">mkdir src &amp;&amp; touch src/index.ts</span></pre><p id="e693" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">将以下代码添加到index.ts中</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="65c4" class="mf lo iq ms b gy mw mx l my mz">import express from 'express'<br/>const app = express()<br/>const port = 5000</span><span id="440c" class="mf lo iq ms b gy nf mx l my mz">app.get('/', (_, res) =&gt; {<br/>  res.status(200).send()<br/>})</span><span id="e20a" class="mf lo iq ms b gy nf mx l my mz">app.listen(port, () =&gt; console.log(`Running on port ${port}`))</span></pre><h2 id="3826" class="mf lo iq bd lp mg mh dn lt mi mj dp lx la mk ml lz le mm mn mb li mo mp md mq bi translated">5.运行服务器</h2><p id="7eca" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">现在，您应该能够通过在项目的根目录下运行以下命令来启动项目。这将在监视模式下运行Typescript，并通过使用nodemon，启用服务器的自动重启。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="75fd" class="mf lo iq ms b gy mw mx l my mz">npm run dev</span></pre><h1 id="4fe1" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">第2部分:设置Eslint和beauty</h1><p id="c8e9" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">既然我们已经用Typescript正确地设置了Express，我们可能还希望通过Eslint进行林挺，并用Prettier进行代码格式化。传统上，这是一个有点痛苦的后方设置正确，但只要跟着做，你会发现这并不困难。我们将从安装Eslint和Prettier开始，同时安装几个插件将所有东西绑定在一起。</p><h2 id="a042" class="mf lo iq bd lp mg mh dn lt mi mj dp lx la mk ml lz le mm mn mb li mo mp md mq bi translated">1.安装其他依赖项</h2><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="b12a" class="mf lo iq ms b gy mw mx l my mz">npm install --save-dev eslint prettier eslint-config-prettier eslint-plugin-prettier @typescript-eslint/parser @typescript-eslint/eslint-plugin</span></pre><h2 id="fc15" class="mf lo iq bd lp mg mh dn lt mi mj dp lx la mk ml lz le mm mn mb li mo mp md mq bi translated">2.设置Eslint</h2><p id="e33e" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">通过npx运行全局eslint命令来运行Eslint配置向导，如下所示。这将询问您几个问题，然后在项目的根目录下创建一个初始配置文件。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="fb5c" class="mf lo iq ms b gy mw mx l my mz">npx eslint --init</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ng"><img src="../Images/02a1c92e8e02f647f2b757f0724c32db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Dky4eGr1OQV7ioG_-1i8bg.gif"/></div></div></figure><h2 id="595f" class="mf lo iq bd lp mg mh dn lt mi mj dp lx la mk ml lz le mm mn mb li mo mp md mq bi translated">3.更新Eslint配置文件</h2><p id="a433" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">现在您需要更新从前面的命令中生成的Eslint配置文件(该文件将被命名为<strong class="kt ir">)。eslintrc </strong>)来使用我们安装的Typescript和更漂亮的插件。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="dafb" class="mf lo iq ms b gy mw mx l my mz">/* eslint-disable */<br/>module.exports = {<br/>  env: {<br/>    browser: true,<br/>    es2020: true,<br/>  },<br/>  extends: ['eslint:recommended', <strong class="ms ir">'plugin:@typescript-eslint/recommended</strong>'],<br/>  parser: '@typescript-eslint/parser',<br/>  parserOptions: {<br/>    ecmaVersion: 11,<br/>    sourceType: 'module',<br/>  },<br/>  plugins: ['@typescript-eslint', <strong class="ms ir">'prettier'</strong>],<br/>  rules: {<br/><strong class="ms ir">    'prettier/prettier': [<br/>      1,<br/>      {<br/>        trailingComma: 'es5',<br/>        singleQuote: true,<br/>        semi: false,<br/>      },<br/>    ],</strong><br/><strong class="ms ir">    ...require('eslint-config-prettier').rules,<br/>    ...require('eslint-config-prettier/@typescript-eslint').rules,</strong><br/>  },<br/>}</span></pre><h2 id="5233" class="mf lo iq bd lp mg mh dn lt mi mj dp lx la mk ml lz le mm mn mb li mo mp md mq bi translated">4.瞧啊。</h2><p id="5906" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">如果你做的一切都是正确的，你现在应该得到一个Eslint警告，如果你使用双引号而不是单引号——因为这是我们在Eslint配置文件的Prettier plugin部分指定的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nh"><img src="../Images/f6864b4a2645aed92edc85aa369694db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZE1Gyuf3OE5_0bLHytolJw.png"/></div></div></figure></div><div class="ab cl ni nj hu nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ij ik il im in"><h1 id="2c42" class="ln lo iq bd lp lq np ls lt lu nq lw lx jw nr jx lz jz ns ka mb kc nt kd md me bi translated">就是这样！</h1><p id="4efd" class="pw-post-body-paragraph kr ks iq kt b ku na jr kw kx nb ju kz la nc lc ld le nd lg lh li ne lk ll lm ij bi translated">现在，您已经正确地设置了Express、Typescript、Eslint和Prettier，而不需要使用任何第三方生成器或模板，这些都会带来很多开销。将来，您将拥有一个示例项目，可以在建立新项目时参考。甚至更好的是，把它放在一个源代码控制提供程序上，并选择把它保存为模板。</p><p id="a4c2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我希望这个指南对你有用，并且一切顺利。如果您有任何问题或反馈，请不要犹豫，在下面留下评论，或者亲自联系我，我会尽力帮助您。</p></div></div>    
</body>
</html>