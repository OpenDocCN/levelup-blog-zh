<html>
<head>
<title>Problem Solving II — The Year 2038 Problem</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">问题解决2038年的问题</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/problem-solving-ii-26c3e0456c3a?source=collection_archive---------2-----------------------#2019-05-16">https://levelup.gitconnected.com/problem-solving-ii-26c3e0456c3a?source=collection_archive---------2-----------------------#2019-05-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/7a60d2010d2390503ce91fb45d271205.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nu3zgpPfoz0pGzcISXY2KQ.jpeg"/></div></div></figure><p id="7671" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">从前，计算机资源是有限的。时钟速度、带宽、内存、存储，这些都是他们现在的千分之一千分之一。必须做出妥协，必须设计捷径。</p><p id="7101" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">从前，日期是用两位数的年份写在程序中的。距离世纪之交还有几十年，这是有意义的；当然2/1/70是在1970年，为什么你需要指定这该死的世纪？那些穿孔卡片有80个字符的限制，我们需要我们能得到的每一个字符。当日期从1999年转到2000年时，计算机认为现在已经过去了一百年，<a class="ae kw" href="https://en.wikipedia.org/wiki/Year_2000_problem" rel="noopener ugc nofollow" target="_blank">这是一个问题</a>。令人欣慰的是，人们看到了这一天的到来，并在它变成灾难之前解决了它。</p><p id="ce1f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">从前，Unix开发人员认为他们需要一种简单的方法来保持时间。他们决定采用Unix时间T11，这是一个代表自1970年1月1日午夜以来经过的秒数的数字。(那是一个星期四。)开始时，在今天的许多系统上，它是用32位有符号二进制整数表示的。</p><p id="f3e8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于1972年12月10日上午10点，Unix时间是十进制的<code class="fe kx ky kz la b">219060000</code>。用二进制表示就是:</p><pre class="lb lc ld le gt lf la lg lh aw li bi"><span id="2f30" class="lj lk iq la b gy ll lm l ln lo">00001101 00001110 10010111 00100000</span></pre><p id="3df1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">被签名，Unix时间也可以代表过去。Unix时间1941年6月6日上午6:30是<code class="fe kx ky kz la b">-806952600</code>，用二进制表示就是</p><pre class="lb lc ld le gt lf la lg lh aw li bi"><span id="1f8c" class="lj lk iq la b gy ll lm l ln lo">11001111 11100110 11100001 01101000</span></pre><p id="5e8a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">有符号二进制数以代表正数的<code class="fe kx ky kz la b">0</code>和代表负数的<code class="fe kx ky kz la b">1</code>开始。</p><h2 id="9927" class="lj lk iq bd lp lq lr dn ls lt lu dp lv kj lw lx ly kn lz ma mb kr mc md me mf bi translated">问题在于:</h2><p id="ef98" class="pw-post-body-paragraph jy jz iq ka b kb mg kd ke kf mh kh ki kj mi kl km kn mj kp kq kr mk kt ku kv ij bi translated">32位有符号二进制整数可以计数到2，147，483，647。那是很多秒，但是一年有很多秒；Unix时间是标准化的，因此每天有86，400秒，每年(365.24天，查一下)是31，556，926秒。2147483647秒元旦过后，1970年只带我们到2038年1月19日03:14:07。(一个星期二。)一秒钟后，我们有了所谓的<a class="ae kw" href="http://projects.webappsec.org/w/page/13246946/Integer%20Overflows" rel="noopener ugc nofollow" target="_blank">整数溢出</a>，其中数字从2，147，483，647到-2，147，483，647，32位Unix time认为这发生在1901年12月13日。</p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/5848a9669629fbfe9f82cbc4f51eb970.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*k2-G9NVw7p1HhIfSdruZtg.gif"/></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk translated"><a class="ae kw" href="https://commons.wikimedia.org/wiki/File:Year_2038_problem.gif" rel="noopener ugc nofollow" target="_blank">来自维基共享资源</a></figcaption></figure><p id="ffd4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">想象一下，你的汽车里程表翻转，但对世界来说。</p><p id="2207" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这非常类似于2000年问题，但是要大得多。</p><h2 id="1905" class="lj lk iq bd lp lq lr dn ls lt lu dp lv kj lw lx ly kn lz ma mb kr mc md me mf bi translated">解决方案是这样的:</h2><p id="2ab8" class="pw-post-body-paragraph jy jz iq ka b kb mg kd ke kf mh kh ki kj mi kl km kn mj kp kq kr mk kt ku kv ij bi translated">64位有符号整数可以计算更多的秒。好像，多了很多。一个64位有符号整数计数到9，223，372，036，854，775，807(不管它值多少，第一个数字是在<a class="ae kw" href="https://cs.uwaterloo.ca/~alopez-o/math-faq/node54.html" rel="noopener ugc nofollow" target="_blank">第五万亿次</a>位)；该秒数转换为12月4日，292，277，026，596。周日15点30分08秒。(所以时间的终点是一个星期天的下午3点半，这正好向你表明宇宙是热闹的。)根据记录，<a class="ae kw" href="https://www.quora.com/How-old-does-our-universe-get-Are-there-any-predictions-calculations" rel="noopener ugc nofollow" target="_blank">宇宙的估计总年龄</a>是它的5%。</p><p id="b1d1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">大多数设计为在64位硬件上运行的系统都实现了64位Unix time。正在努力在32位系统上实现64位Unix时间。这些努力正在进行中。</p><p id="2cfc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这里真正的问题在于嵌入式系统，比如你汽车的防抱死刹车，或者飞机的惯性导航系统。这些系统不打算升级。永远不会。只要汽车在行驶，飞机在飞行，这些系统就有望完成它们的工作。但是，这些系统中的大多数都没有利用Unix时间。</p><p id="ef01" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所以，这个问题是可以解决的，但是它的责任分散在每个地方的每个系统设计者或维护者身上。</p><h2 id="9037" class="lj lk iq bd lp lq lr dn ls lt lu dp lv kj lw lx ly kn lz ma mb kr mc md me mf bi translated">教训是:</h2><p id="a810" class="pw-post-body-paragraph jy jz iq ka b kb mg kd ke kf mh kh ki kj mi kl km kn mj kp kq kr mk kt ku kv ij bi translated">当我们建造任何东西时，我们显然不知道它会被如何使用或使用多长时间。我们必须对未来和意想不到的后果有所考虑。我认为，用心的设计和文档是关键，即使是在像我的愚蠢的小迷宫游戏<a class="ae kw" href="https://github.com/no-relation/maze-game" rel="noopener ugc nofollow" target="_blank">这样小而无足轻重的东西上练习也是好的。</a></p></div><div class="ab cl mq mr hu ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ij ik il im in"><p id="b697" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="mx">我在找工作！如果您或您的公司需要懂React、JavaScript、Ruby或Rails的人，我邀请您查看我的LinkedIn个人资料</em><a class="ae kw" href="https://www.linkedin.com/in/echildress/" rel="noopener ugc nofollow" target="_blank"><em class="mx"/></a><em class="mx">。</em></p></div></div>    
</body>
</html>