<html>
<head>
<title>Sort Array of Objects By Two Properties in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">根据JavaScript中的两个属性对对象数组进行排序</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/sort-array-of-objects-by-two-properties-in-javascript-69234fa6f474?source=collection_archive---------5-----------------------#2021-01-25">https://levelup.gitconnected.com/sort-array-of-objects-by-two-properties-in-javascript-69234fa6f474?source=collection_archive---------5-----------------------#2021-01-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a4d1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一个排序函数，两个排序顺序</h2></div><p id="81c1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我最近正在研究一种基于两列按字母顺序对对象数组进行排序的方法。这意味着应该保持两种级别的字母排序。请参见下面的示例。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="ba76" class="ln lo it lj b gy lp lq l lr ls">var fruits = [<br/>  {colA: 'apple', colB: 'red delicious'},<br/>  {colA: 'pear', colB: 'red anjou'},<br/>  {colA: 'orange', colB: 'navel'},<br/>  {colA: 'orange', colB: 'blood'},<br/>  {colA: 'pear', colB: 'green anjou'},<br/>  {colA: 'apple', colB: 'granny smith'},<br/>  {colA: 'orange', colB: 'clementine'}<br/>]</span></pre><p id="1a79" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">上面的列表应该像下面的数组一样排序。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="3793" class="ln lo it lj b gy lp lq l lr ls">[<br/>  {colA: "apple", colB: "granny smith"},<br/>  {colA: "apple", colB: "red delicious"},<br/>  {colA: "orange", colB: "blood"},<br/>  {colA: "orange", colB: "clementine"},<br/>  {colA: "orange", colB: "navel"},<br/>  {colA": "pear", colB: "green anjou"},<br/>  {colA: "pear", colB: "red anjou"}<br/>]</span></pre><p id="d9c6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，您的第一个想法可能是首先简单地按<code class="fe lt lu lv lj b">colA</code>对<code class="fe lt lu lv lj b">fruits</code>进行排序。然后一旦你有了一个新的排序后的数组，基于<code class="fe lt lu lv lj b">colB</code>执行第二次排序。让我们看看如果我们那样做会发生什么。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="f14c" class="ln lo it lj b gy lp lq l lr ls">console.log(fruits.sort((a, b)=&gt; a.colA &lt; b.colA ? -1 : 1).sort((a, b)=&gt; a.colB &lt; b.colB ? -1 : 1))</span><span id="5a56" class="ln lo it lj b gy lw lq l lr ls">&gt; [{colA: "orange", colB: "blood"},<br/>  {colA: "orange", colB: "clementine"},<br/>  {colA: "apple", colB: "granny smith"},<br/>  {colA: "pear", colB: "green anjou"},<br/>  {colA": "orange", colB: "navel"},<br/>  {colA: "pear", colB: "red anjou"},<br/>  {colA: "apple", colB: "red delicious"}]</span></pre><blockquote class="lx ly lz"><p id="c6fb" class="ki kj ma kk b kl km ju kn ko kp jx kq mb ks kt ku mc kw kx ky md la lb lc ld im bi translated">通过创建一个<a class="ae me" href="https://matt-croak.medium.com/membership" rel="noopener">中型合作伙伴计划账户</a>和<a class="ae me" href="https://matt-croak.medium.com/subscribe" rel="noopener">订阅我的电子邮件</a>，获取我所有的最新内容。:)</p></blockquote><p id="2c2d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如您所见，该数组基于<code class="fe lt lu lv lj b">colB</code>按字母顺序排列，但这忽略了基于<code class="fe lt lu lv lj b">colA</code>按字母顺序排列的约束。</p><figure class="le lf lg lh gt mg gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/e28eb7bc6e86410b256932f6f508a81a.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/1*lQ1JCOuKrh53fjsNzVxGyQ.gif"/></div></figure><p id="2dd2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那么我们应该如何先按<code class="fe lt lu lv lj b">colA</code>排序，然后再按<code class="fe lt lu lv lj b">colB</code>排序，而不破坏原来的排序顺序呢？</p><p id="6010" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">诀窍是，我们不想对排序后的列表进行重新排序。这忽略了原始的排序顺序。通过实现一个新的排序函数，你建立了一个完全不同的排序顺序，而不是和现有的排序顺序一致。所以我们需要做的是让<strong class="kk iu">有一个</strong>排序函数考虑<strong class="kk iu">和</strong>两个约束。我们可以这样做。</p><p id="9f90" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">首先，检查第一个(<code class="fe lt lu lv lj b">a.colA &lt; b.colA</code>)排序约束。我们需要检查这两个属性实际上是否不同。如果它们不同，则执行排序。如果不是，那么我们就不能根据第一个约束对它们进行排序。</p><p id="d3e1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个是我们将利用第二个比较点(<code class="fe lt lu lv lj b">a.colB &lt; b.colB</code>)的时候。通过这种方式，我们比较数组中具有相同<code class="fe lt lu lv lj b">colA</code>(意味着已经处于正确顺序)的条目，然后在当前顺序中执行第二次排序。参见下面的代码。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="2562" class="ln lo it lj b gy lp lq l lr ls">console.log(fruits.sort((a, b)=&gt; {<br/>  if (a.colA === b.colA){<br/>    return a.colB &lt; b.colB ? -1 : 1<br/>  } else {<br/>    return a.colA &lt; b.colA ? -1 : 1<br/>  }<br/>}))</span><span id="af80" class="ln lo it lj b gy lw lq l lr ls">&gt; [{colA: "apple", colB: "granny smith"},<br/>  {colA: "apple", colB: "red delicious"},<br/>  {colA: "orange", colB: "blood"},<br/>  {colA: "orange", colB: "clementine"},<br/>  {colA: "orange", colB: "navel"},<br/>  {colA": "pear", colB: "green anjou"},<br/>  {colA: "pear", colB: "red anjou"}]</span></pre><figure class="le lf lg lh gt mg gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/e53efbc644923554cb814c49ca61bf4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*3hHfeCLxxuxR4IjtQL8-oQ.gif"/></div></figure><p id="5c95" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">给你。通过检查是否满足第一个排序约束，如果满足，则执行第二个，我们可以很容易地对列表进行排序，以同时适应第一个和第二个约束。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><p id="3098" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">点击此处，将你的免费媒体会员升级为付费会员，每月只需5美元，你就可以获得数千位作家的无限量无广告故事。这是一个附属链接，你的会员资格的一部分帮助我为我创造的内容获得奖励。谢谢大家！</p></div></div>    
</body>
</html>