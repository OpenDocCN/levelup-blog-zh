<html>
<head>
<title>Build a Markdown Editor Using Electron, ReactJS, Vite, CodeMirror, and Remark</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Electron、ReactJS、Vite、CodeMirror和Remark构建一个Markdown编辑器</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/build-a-markdown-editor-using-electron-reactjs-vite-codemirror-and-remark-e551d91b6233?source=collection_archive---------2-----------------------#2022-10-09">https://levelup.gitconnected.com/build-a-markdown-editor-using-electron-reactjs-vite-codemirror-and-remark-e551d91b6233?source=collection_archive---------2-----------------------#2022-10-09</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="d312" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">具有编辑器、预览和代码语法突出显示。</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/b56a41a4556d2d6521b1deb3d5c833c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*45m-kME3gcKBnJLKjoJDuA.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">(左)Markdown编辑器；(右)预览。<a class="kz la ep" href="https://medium.com/u/9f2dc23bfffa?source=post_page-----e551d91b6233--------------------------------" rel="noopener" target="_blank">李冠仪</a>截图</figcaption></figure></div><div class="ab cl lb lc hy ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="in io ip iq ir"><h1 id="41c7" class="li lj iu bd lk ll lm ln lo lp lq lr ls ka lt kb lu kd lv ke lw kg lx kh ly lz bi translated">动机</h1><p id="e83d" class="pw-post-body-paragraph ma mb iu mc b md me jv mf mg mh jy mi mj mk ml mm mn mo mp mq mr ms mt mu mv in bi translated">我非常喜欢用Markdown写笔记。既然我是一名开发人员，为什么不学习如何构建一个简单的Markdown编辑器呢？它来了。希望你会喜欢这个简单的教程。</p><p id="ac8f" class="pw-post-body-paragraph ma mb iu mc b md mw jv mf mg mx jy mi mj my ml mm mn mz mp mq mr na mt mu mv in bi translated"><strong class="mc iv">如果你想获得完整的代码，请查看GitHub上的</strong> <a class="ae nb" href="https://github.com/amy-juan-li/example-nextjs-markdown-editor" rel="noopener ugc nofollow" target="_blank"> <strong class="mc iv"> </strong> </a> <a class="ae nb" href="https://github.com/amy-juan-li/example-electron-markdown-editor" rel="noopener ugc nofollow" target="_blank">示例-电子-降价-编辑器</a> <strong class="mc iv">。</strong></p><h1 id="914c" class="li lj iu bd lk ll nc ln lo lp nd lr ls ka ne kb lu kd nf ke lw kg ng kh ly lz bi translated">技术堆栈</h1><ul class=""><li id="7244" class="nh ni iu mc b md me mg mh mj nj mn nk mr nl mv nm nn no np bi translated"><a class="ae nb" href="https://www.electronjs.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="mc iv">电子</strong> </a>:使用HTML、JS、CSS构建跨平台桌面应用的框架</li><li id="dcc9" class="nh ni iu mc b md nq mg nr mj ns mn nt mr nu mv nm nn no np bi translated"><a class="ae nb" href="https://vitejs.dev/" rel="noopener ugc nofollow" target="_blank"> <strong class="mc iv"> Vite </strong> </a>:快速构建工具</li><li id="9f14" class="nh ni iu mc b md nq mg nr mj ns mn nt mr nu mv nm nn no np bi translated"><a class="ae nb" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="mc iv"> React </strong> </a>:用于构建UI的库(<a class="ae nb" href="https://beta.reactjs.org/" rel="noopener ugc nofollow" target="_blank"> beta doc </a>)</li><li id="8a84" class="nh ni iu mc b md nq mg nr mj ns mn nt mr nu mv nm nn no np bi translated"><a class="ae nb" href="https://www.typescriptlang.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="mc iv"> TypeScript </strong> </a>:一个类型化的JavaScript</li><li id="6cef" class="nh ni iu mc b md nq mg nr mj ns mn nt mr nu mv nm nn no np bi translated"><a class="ae nb" href="https://codemirror.net/" rel="noopener ugc nofollow" target="_blank"> <strong class="mc iv"> CodeMirror 6 </strong> </a>:一个可扩展的web代码编辑器</li><li id="90df" class="nh ni iu mc b md nq mg nr mj ns mn nt mr nu mv nm nn no np bi translated"><a class="ae nb" href="https://www.npmjs.com/package/remark" rel="noopener ugc nofollow" target="_blank"> <strong class="mc iv">备注</strong> </a>:可扩展降价处理器</li><li id="3a57" class="nh ni iu mc b md nq mg nr mj ns mn nt mr nu mv nm nn no np bi translated"><a class="ae nb" href="https://github.com/remarkjs/react-markdown" rel="noopener ugc nofollow" target="_blank"><strong class="mc iv">React-Markdown</strong></a>:React组件渲染Markdown。</li><li id="12c7" class="nh ni iu mc b md nq mg nr mj ns mn nt mr nu mv nm nn no np bi translated"><a class="ae nb" href="https://github.com/react-syntax-highlighter/react-syntax-highlighter" rel="noopener ugc nofollow" target="_blank"><strong class="mc iv">react-Syntax-highlighter</strong></a>:语法高亮组件，用于使用内联样式与<code class="fe nv nw nx ny b">prismjs</code>或<code class="fe nv nw nx ny b">highlightjs</code>反应</li><li id="c672" class="nh ni iu mc b md nq mg nr mj ns mn nt mr nu mv nm nn no np bi translated"><a class="ae nb" href="https://neovim.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="mc iv"> Neovim </strong> </a>:基于vim的文本编辑器</li></ul></div><div class="ab cl lb lc hy ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="in io ip iq ir"><h1 id="3dd4" class="li lj iu bd lk ll lm ln lo lp lq lr ls ka lt kb lu kd lv ke lw kg lx kh ly lz bi translated">用电子邀请函模板创建一个项目</h1><p id="266e" class="pw-post-body-paragraph ma mb iu mc b md me jv mf mg mh jy mi mj mk ml mm mn mo mp mq mr ms mt mu mv in bi translated">基于<a class="ae nb" href="https://github.com/cawa-93/vite-electron-builder" rel="noopener ugc nofollow" target="_blank">Vite-electronic-builder</a>，我用<code class="fe nv nw nx ny b">TypeScript</code>和<code class="fe nv nw nx ny b">React</code>-<a class="ae nb" href="https://github.com/amy-juan-li/electron-vite-react-typescript" rel="noopener ugc nofollow" target="_blank">electronic-Vite-React-Typescript-Template</a>创建了一个新模板供你使用。只需点击<code class="fe nv nw nx ny b">Use this template</code>按钮，然后命名您的项目。项目结构如下所示:</p><h2 id="6e5b" class="nz lj iu bd lk oa ob dn lo oc od dp ls mj oe of lu mn og oh lw mr oi oj ly ok bi translated">项目结构</h2><p id="4d22" class="pw-post-body-paragraph ma mb iu mc b md me jv mf mg mh jy mi mj mk ml mm mn mo mp mq mr ms mt mu mv in bi translated"><strong class="mc iv">包/主</strong>:电子主脚本。<br/> <strong class="mc iv"> packages/preload </strong>:用于browser window . web preferences . preload .<br/><strong class="mc iv">packages/renderer</strong>:电子网页。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj ol"><img src="../Images/df3e1dec56546bbce5e9fb9633588666.png" data-original-src="https://miro.medium.com/v2/resize:fit:1150/format:webp/1*PxyLyGu76Q9bV4UBJAXahw.png"/></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">文件结构:主文件、预加载文件和渲染器。<a class="kz la ep" href="https://medium.com/u/9f2dc23bfffa?source=post_page-----e551d91b6233--------------------------------" rel="noopener" target="_blank">李冠仪截图</a></figcaption></figure><h2 id="d634" class="nz lj iu bd lk oa ob dn lo oc od dp ls mj oe of lu mn og oh lw mr oi oj ly ok bi translated">在开发模式下启动应用程序</h2><pre class="kk kl km kn gu om ny on oo aw op bi"><span id="32c7" class="nz lj iu ny b gz oq or l os ot"># install all dependencies<br/>npm i</span><span id="0567" class="nz lj iu ny b gz ou or l os ot">npm run watch</span></pre><p id="ac56" class="pw-post-body-paragraph ma mb iu mc b md mw jv mf mg mx jy mi mj my ml mm mn mz mp mq mr na mt mu mv in bi translated"><em class="ov">提示:如果你想使用另一个包管理器如</em> <code class="fe nv nw nx ny b"><em class="ov">yarn</em></code> <em class="ov">，你需要编辑</em> <code class="fe nv nw nx ny b"><a class="ae nb" href="https://github.com/amy-juan-li/electron-vite-react-typescript/blob/main/.github/workflows" rel="noopener ugc nofollow" target="_blank"><em class="ov">.github/workflows</em></a></code> <em class="ov">，因为它默认使用</em> <code class="fe nv nw nx ny b"><em class="ov">npm</em></code> <em class="ov">。(了解更多回购内幕:</em> <a class="ae nb" href="https://github.com/amy-juan-li/example-electron-markdown-editor" rel="noopener ugc nofollow" target="_blank"> <em class="ov">举例-电子-降价-编辑</em> </a> <em class="ov"> ) </em></p></div><div class="ab cl lb lc hy ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="in io ip iq ir"><h1 id="c491" class="li lj iu bd lk ll lm ln lo lp lq lr ls ka lt kb lu kd lv ke lw kg lx kh ly lz bi translated">使用CodeMirror 6构建Markdown编辑器</h1><blockquote class="ow ox oy"><p id="f216" class="ma mb ov mc b md mw jv mf mg mx jy mi oz my ml mm pa mz mp mq pb na mt mu mv in bi translated"><a class="ae nb" href="https://codemirror.net/6/" rel="noopener ugc nofollow" target="_blank"><em class="iu">code mirror 6</em></a><em class="iu">是一个新的web代码编辑器库，是基于过去13年来构建和维护版本1到5的经验而从头实现的。它的目标是比以前的版本更具可扩展性和可访问性。</em></p><p id="b566" class="ma mb ov mc b md mw jv mf mg mx jy mi oz my ml mm pa mz mp mq pb na mt mu mv in bi translated"><em class="iu">作者Marijn Haverbeke </em></p></blockquote><p id="a257" class="pw-post-body-paragraph ma mb iu mc b md mw jv mf mg mx jy mi mj my ml mm mn mz mp mq mr na mt mu mv in bi translated"><em class="ov">提示:请参考</em> <a class="ae nb" href="https://codemirror.net/docs/migration/" rel="noopener ugc nofollow" target="_blank"> <em class="ov"> CodeMirror 6迁移指南</em> </a></p><h2 id="1118" class="nz lj iu bd lk oa ob dn lo oc od dp ls mj oe of lu mn og oh lw mr oi oj ly ok bi translated">安装依赖项</h2><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj pc"><img src="../Images/8d32893cf4b60a9e2c44e5469a51cd5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8fHsNABXoiI0XW7oRdhx6g.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">NPM I code mirror @ code mirror/state @ code mirror/view @ code mirror/commands @ code mirror/lang-markdown @ code mirror/language-data @ code mirror/theme-one-dark</figcaption></figure><p id="423f" class="pw-post-body-paragraph ma mb iu mc b md mw jv mf mg mx jy mi mj my ml mm mn mz mp mq mr na mt mu mv in bi translated">使用CodeMirror 6创建Markdown(或任何其他语言)编辑器的三个核心部分:</p><ol class=""><li id="d961" class="nh ni iu mc b md mw mg mx mj pd mn pe mr pf mv pg nn no np bi translated">创建编辑器状态</li><li id="f5b9" class="nh ni iu mc b md nq mg nr mj ns mn nt mr nu mv pg nn no np bi translated">创建编辑器视图</li><li id="1b62" class="nh ni iu mc b md nq mg nr mj ns mn nt mr nu mv pg nn no np bi translated">为编辑器创建父(HTML)元素</li></ol><h2 id="b896" class="nz lj iu bd lk oa ob dn lo oc od dp ls mj oe of lu mn og oh lw mr oi oj ly ok bi translated">创建React挂钩以提供编辑器视图组件</h2><p id="71d1" class="pw-post-body-paragraph ma mb iu mc b md me jv mf mg mh jy mi mj mk ml mm mn mo mp mq mr ms mt mu mv in bi translated">React Hook允许我们在不同的地方重用代码，允许我们在未来更容易地扩展我们的应用程序。</p><p id="545a" class="pw-post-body-paragraph ma mb iu mc b md mw jv mf mg mx jy mi mj my ml mm mn mz mp mq mr na mt mu mv in bi translated"><em class="ov">。/packages/renderer/src/use-code mirror . tsx</em></p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ph"><img src="../Images/de67e207f74f2661170f319246c4f25b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0mJ6sRqsI5YurSWp61EOzw.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">创建降价编辑器视图。由<a class="kz la ep" href="https://medium.com/u/9f2dc23bfffa?source=post_page-----e551d91b6233--------------------------------" rel="noopener" target="_blank">李冠仪</a>拍摄</figcaption></figure><h2 id="9588" class="nz lj iu bd lk oa ob dn lo oc od dp ls mj oe of lu mn og oh lw mr oi oj ly ok bi translated">通过为编辑器提供状态处理程序和父元素来使用React挂钩</h2><p id="8af3" class="pw-post-body-paragraph ma mb iu mc b md me jv mf mg mh jy mi mj mk ml mm mn mo mp mq mr ms mt mu mv in bi translated"><em class="ov">。/packages/renderer/src/editor . tsx</em></p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj pi"><img src="../Images/6757bcd82cd302de4749ebca852a742c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9H8jNLPg5PyoBlpKZe7tZw.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">Consume React Hook — useCodeMirror，为编辑器提供状态处理函数和父元素。照片由<a class="kz la ep" href="https://medium.com/u/9f2dc23bfffa?source=post_page-----e551d91b6233--------------------------------" rel="noopener" target="_blank">李冠仪</a></figcaption></figure><h2 id="843d" class="nz lj iu bd lk oa ob dn lo oc od dp ls mj oe of lu mn og oh lw mr oi oj ly ok bi translated">在应用程序组件中实现编辑器组件</h2><p id="76fe" class="pw-post-body-paragraph ma mb iu mc b md me jv mf mg mh jy mi mj mk ml mm mn mo mp mq mr ms mt mu mv in bi translated"><em class="ov">。/packages/renderer/src/app . tsx</em></p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj pj"><img src="../Images/f96cca307770b9e09bbbcd3719fb65b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tBFT3MT2oUNESUY6Od7lBw.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">在App组件中实现markdown编辑器组件。照片由<a class="kz la ep" href="https://medium.com/u/9f2dc23bfffa?source=post_page-----e551d91b6233--------------------------------" rel="noopener" target="_blank">李冠仪</a>拍摄。</figcaption></figure></div><div class="ab cl lb lc hy ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="in io ip iq ir"><h1 id="5013" class="li lj iu bd lk ll lm ln lo lp lq lr ls ka lt kb lu kd lv ke lw kg lx kh ly lz bi translated">使用<code class="fe nv nw nx ny b">react-markdown</code>在React中创建降价预览</h1><h2 id="e516" class="nz lj iu bd lk oa ob dn lo oc od dp ls mj oe of lu mn og oh lw mr oi oj ly ok bi translated">安装依赖项</h2><pre class="kk kl km kn gu om ny on oo aw op bi"><span id="dc4a" class="nz lj iu ny b gz oq or l os ot">yarn add react-markdown</span></pre><h2 id="378a" class="nz lj iu bd lk oa ob dn lo oc od dp ls mj oe of lu mn og oh lw mr oi oj ly ok bi translated">创建预览组件并实现ReactMarkdown组件</h2><p id="fcdc" class="pw-post-body-paragraph ma mb iu mc b md me jv mf mg mh jy mi mj mk ml mm mn mo mp mq mr ms mt mu mv in bi translated"><em class="ov">。/packages/renderer/src/preview . tsx</em></p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj pk"><img src="../Images/66d6d14adbcc7f11df81e9effde479d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QD8JKm4K8e5n_Evpy7mo7g.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">在我们的应用中使用react-markdown。照片由<a class="kz la ep" href="https://medium.com/u/9f2dc23bfffa?source=post_page-----e551d91b6233--------------------------------" rel="noopener" target="_blank">李冠仪</a>拍摄。</figcaption></figure><h2 id="e1af" class="nz lj iu bd lk oa ob dn lo oc od dp ls mj oe of lu mn og oh lw mr oi oj ly ok bi translated">在应用程序组件中实现预览组件</h2><p id="9b94" class="pw-post-body-paragraph ma mb iu mc b md me jv mf mg mh jy mi mj mk ml mm mn mo mp mq mr ms mt mu mv in bi translated"><em class="ov">。/packages/renderer/src/app . tsx</em></p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj pj"><img src="../Images/7eb532fa31575c42b770f12a9fa85c86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aavIKbNGDpvYrnOkmsvC8Q.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">向应用程序添加降价预览组件。照片由<a class="kz la ep" href="https://medium.com/u/9f2dc23bfffa?source=post_page-----e551d91b6233--------------------------------" rel="noopener" target="_blank">李冠仪</a>拍摄</figcaption></figure><h2 id="d95b" class="nz lj iu bd lk oa ob dn lo oc od dp ls mj oe of lu mn og oh lw mr oi oj ly ok bi translated">输出</h2><pre class="kk kl km kn gu om ny on oo aw op bi"><span id="a962" class="nz lj iu ny b gz oq or l os ot">npm run watch</span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj pl"><img src="../Images/4843508807fc872a1cf45518207e06ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zbbd5f4n0KmSQid85fuXLg.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">在Mac上的开发环境中运行应用程序。由<a class="kz la ep" href="https://medium.com/u/9f2dc23bfffa?source=post_page-----e551d91b6233--------------------------------" rel="noopener" target="_blank">李冠仪</a>拍摄。</figcaption></figure><p id="a705" class="pw-post-body-paragraph ma mb iu mc b md mw jv mf mg mx jy mi mj my ml mm mn mz mp mq mr na mt mu mv in bi translated">您会注意到代码语法没有突出显示。因此，让我们通过引入另一个依赖项来解决这个问题:</p><pre class="kk kl km kn gu om ny on oo aw op bi"><span id="a982" class="nz lj iu ny b gz oq or l os ot">npm i react-syntax-highlighter</span></pre><p id="3e53" class="pw-post-body-paragraph ma mb iu mc b md mw jv mf mg mx jy mi mj my ml mm mn mz mp mq mr na mt mu mv in bi translated">现在<em class="ov"> preview.tsx </em>变成了:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ph"><img src="../Images/5ae893408b65a784e992f7c8318fb906.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dRvJhnKP6bzfkv2HE-c15w.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">添加代码语法突出显示以反应降价。<a class="kz la ep" href="https://medium.com/u/9f2dc23bfffa?source=post_page-----e551d91b6233--------------------------------" rel="noopener" target="_blank">李冠仪</a>截图</figcaption></figure><p id="6e17" class="pw-post-body-paragraph ma mb iu mc b md mw jv mf mg mx jy mi mj my ml mm mn mz mp mq mr na mt mu mv in bi translated">现在我们已经强调了我们的代码语法:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj pm"><img src="../Images/a134ba7e21d8a065190c36b02a7b788c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v9rKoFz4QD2dnAsRLk16nw.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">在markdown编辑器中编写一个代码块，并在预览页面上突出显示代码语法。<a class="kz la ep" href="https://medium.com/u/9f2dc23bfffa?source=post_page-----e551d91b6233--------------------------------" rel="noopener" target="_blank">李冠仪</a>截图</figcaption></figure><p id="9b98" class="pw-post-body-paragraph ma mb iu mc b md mw jv mf mg mx jy mi mj my ml mm mn mz mp mq mr na mt mu mv in bi translated">接下来，我们还想添加一个允许用户复制代码的功能。</p><ul class=""><li id="fb21" class="nh ni iu mc b md mw mg mx mj pd mn pe mr pf mv nm nn no np bi translated">为复制按钮创建一个组件:</li></ul><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj pn"><img src="../Images/980fbc4e4c42492ebc5a59a9d2656b03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yYAdlDIjEfNVl8KwTZP7-g.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">允许用户复制/粘贴代码。<a class="kz la ep" href="https://medium.com/u/9f2dc23bfffa?source=post_page-----e551d91b6233--------------------------------" rel="noopener" target="_blank">李冠仪</a>截图</figcaption></figure><ul class=""><li id="d247" class="nh ni iu mc b md mw mg mx mj pd mn pe mr pf mv nm nn no np bi translated">在<em class="ov"> preview.tsx </em>里面使用</li></ul><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ph"><img src="../Images/15429097a6f0dc973045552377e71754.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bnVD0A7LDkPuXATMsf1I_A.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">将复制按钮集成到预览组件中。<a class="kz la ep" href="https://medium.com/u/9f2dc23bfffa?source=post_page-----e551d91b6233--------------------------------" rel="noopener" target="_blank">李冠仪</a>截图</figcaption></figure><p id="6136" class="pw-post-body-paragraph ma mb iu mc b md mw jv mf mg mx jy mi mj my ml mm mn mz mp mq mr na mt mu mv in bi translated">输出:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj pm"><img src="../Images/8ffaed40b1c5e54a762baf9b1d1a019b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vF6uGuQ8HtdJH7H3FaNCGw.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">“复制”按钮显示在代码块内的右上角。截图由<a class="kz la ep" href="https://medium.com/u/9f2dc23bfffa?source=post_page-----e551d91b6233--------------------------------" rel="noopener" target="_blank">李冠仪</a></figcaption></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj po"><img src="../Images/d9fac5af3ce83bad178061a0d8aded53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*q4nRaQtWX6hKWUDzGQrETg.png"/></div></figure><p id="b555" class="pw-post-body-paragraph ma mb iu mc b md mw jv mf mg mx jy mi mj my ml mm mn mz mp mq mr na mt mu mv in bi translated">在开发环境中测试我们的应用:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj pp"><img src="../Images/947cca0d00a0dcea6e45ed53b68f873b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*vACKvk4Ou37q5-7LTMwm-Q.gif"/></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">左侧面板:写下降价。右面板:在React组件中渲染降价。GIF作者<a class="kz la ep" href="https://medium.com/u/9f2dc23bfffa?source=post_page-----e551d91b6233--------------------------------" rel="noopener" target="_blank">李冠仪</a></figcaption></figure></div><div class="ab cl lb lc hy ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="in io ip iq ir"><h1 id="1d03" class="li lj iu bd lk ll lm ln lo lp lq lr ls ka lt kb lu kd lv ke lw kg lx kh ly lz bi translated">使用CodeMirror RunMode函数在React中创建降价预览(实验)</h1><p id="3348" class="pw-post-body-paragraph ma mb iu mc b md me jv mf mg mh jy mi mj mk ml mm mn mo mp mq mr ms mt mu mv in bi translated"><a class="ae nb" href="https://codemirror.net/5/demo/runmode.html" rel="noopener ugc nofollow" target="_blank">在编辑器外运行CodeMirror模式。</a> <code class="fe nv nw nx ny b"><a class="ae nb" href="https://codemirror.net/5/demo/runmode.html" rel="noopener ugc nofollow" target="_blank">CodeMirror.runMode</a></code> <a class="ae nb" href="https://codemirror.net/5/demo/runmode.html" rel="noopener ugc nofollow" target="_blank">功能</a>。如何使用<code class="fe nv nw nx ny b">runMode function</code>在我最喜欢的YouTuber创建的这个视频中有解释- <a class="ae nb" href="https://www.youtube.com/watch?v=gxBis8EgoAg&amp;t=1s" rel="noopener ugc nofollow" target="_blank">如何使用Electron、ReactJS、Vite、CodeMirror和Remark </a>构建Markdown编辑器。但你不能只是复制代码，并期望它像视频中显示的那样工作，因为它使用CodeMirror 5。因此，要使它与CodeMirror 6一起工作，您需要一些额外的调整。</p><p id="a0dd" class="pw-post-body-paragraph ma mb iu mc b md mw jv mf mg mx jy mi mj my ml mm mn mz mp mq mr na mt mu mv in bi translated">与第一种方法相比，第二种方法需要花费更多的精力来完成工作，但是为什么在这里值得一提呢？事实上，使用CodeMirror RunMode的好处是，我们可以像在CodeMirror构建的markdown编辑器中一样突出显示代码语法。</p><p id="9b1d" class="pw-post-body-paragraph ma mb iu mc b md mw jv mf mg mx jy mi mj my ml mm mn mz mp mq mr na mt mu mv in bi translated">以后我会用代码镜像<code class="fe nv nw nx ny b">runMode</code>功能更新我的解决方案。我们可以比较使用不同技术的差异。</p></div><div class="ab cl lb lc hy ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="in io ip iq ir"><h1 id="b0bb" class="li lj iu bd lk ll lm ln lo lp lq lr ls ka lt kb lu kd lv ke lw kg lx kh ly lz bi translated">编译并打开电子应用程序</h1><blockquote class="ow ox oy"><p id="8e49" class="ma mb ov mc b md mw jv mf mg mx jy mi oz my ml mm pa mz mp mq pb na mt mu mv in bi translated">使用npm脚本<code class="fe nv nw nx ny b">compile</code>:这个脚本被配置为尽快编译应用程序。它还没有准备好发布，只为当前平台编译，用于调试。(鸣谢:【https://github.com/cawa-93/vite-electron-builder】T2)</p></blockquote><pre class="kk kl km kn gu om ny on oo aw op bi"><span id="9e3c" class="nz lj iu ny b gz oq or l os ot">npm run compile</span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj pq"><img src="../Images/4a57e93770eef114060329f5da838dc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IT5_YaTbIgP8qjpQAn0isA.png"/></div></div></figure><pre class="kk kl km kn gu om ny on oo aw op bi"><span id="bb4e" class="nz lj iu ny b gz oq or l os ot">open dist/mac/your-app-name.app</span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj pr"><img src="../Images/bbc8ed84dd700fe0d3625806c2478f94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WJI3_UX6D4iuCB4fYygsHw.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">在Mac上运行markdown editor桌面应用程序。<a class="kz la ep" href="https://medium.com/u/9f2dc23bfffa?source=post_page-----e551d91b6233--------------------------------" rel="noopener" target="_blank">李冠仪</a>截图</figcaption></figure><p id="690b" class="pw-post-body-paragraph ma mb iu mc b md mw jv mf mg mx jy mi mj my ml mm mn mz mp mq mr na mt mu mv in bi translated"><em class="ov">提示:运行编译后的app时，不能像以前一样运行开发中的app。</em></p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ps"><img src="../Images/8f2e843a6f3a810174ece5ff38d22ade.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VrTjshyDkQInAZrD6AfE4Q.png"/></div></div></figure><p id="7420" class="pw-post-body-paragraph ma mb iu mc b md mw jv mf mg mx jy mi mj my ml mm mn mz mp mq mr na mt mu mv in bi translated"><em class="ov">修复:你要关闭编译好的app，然后</em> <code class="fe nv nw nx ny b"><em class="ov">npm run watch</em></code></p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj pt"><img src="../Images/b691e1804aa6cded36ed5a74fb87b4a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AC7oXVtC7fSXj1TFoFThRw.png"/></div></div></figure></div><div class="ab cl lb lc hy ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="in io ip iq ir"><h1 id="52af" class="li lj iu bd lk ll lm ln lo lp lq lr ls ka lt kb lu kd lv ke lw kg lx kh ly lz bi translated">结论</h1><p id="aa8b" class="pw-post-body-paragraph ma mb iu mc b md me jv mf mg mh jy mi mj mk ml mm mn mo mp mq mr ms mt mu mv in bi translated">感谢阅读！本文介绍了如何使用CodeMirror 6创建Markdown编辑器，以及如何创建Markdown预览页面。有了这个基本设置，您可以随时通过向项目添加新功能来扩展此应用程序。请随意使用这个例子。</p><p id="f3cf" class="pw-post-body-paragraph ma mb iu mc b md mw jv mf mg mx jy mi mj my ml mm mn mz mp mq mr na mt mu mv in bi translated">接下来，我将使用Next.js、TypeScript、TailWindCSS、CodeMirror 6和react-markdown为web应用程序重新创建这个markdown编辑器。</p><p id="b795" class="pw-post-body-paragraph ma mb iu mc b md mw jv mf mg mx jy mi mj my ml mm mn mz mp mq mr na mt mu mv in bi translated">编码快乐！☺️</p></div><div class="ab cl lb lc hy ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="in io ip iq ir"><p id="3972" class="pw-post-body-paragraph ma mb iu mc b md mw jv mf mg mx jy mi mj my ml mm mn mz mp mq mr na mt mu mv in bi translated"><a class="ae nb" href="https://medium.com/@amy-juan-li/membership" rel="noopener"> <em class="ov">如果你想在Medium上阅读来自</em> </a><a class="kz la ep" href="https://medium.com/u/9f2dc23bfffa?source=post_page-----e551d91b6233--------------------------------" rel="noopener" target="_blank"> <em class="ov">李冠仪</em> </a> <em class="ov">以及成千上万其他作家的每一个故事，那就考虑成为Medium会员吧。每月5美元，你可以无限制地访问媒体内容。如果你</em> <a class="ae nb" href="https://medium.com/@amy-juan-li/membership" rel="noopener"> <em class="ov">通过我的推荐链接</em> </a> <em class="ov">报名，我会得到一点佣金。</em></p></div><div class="ab cl lb lc hy ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="in io ip iq ir"><h1 id="9c9f" class="li lj iu bd lk ll lm ln lo lp lq lr ls ka lt kb lu kd lv ke lw kg lx kh ly lz bi translated">进一步阅读</h1><div class="pu pv gq gs pw px"><a href="https://amy-juan-li.medium.com/why-i-use-obsidian-for-note-taking-making-system-as-a-tech-writer-e208699e0011" rel="noopener follow" target="_blank"><div class="py ab fp"><div class="pz ab qa cl cj qb"><h2 class="bd iv gz z fq qc fs ft qd fv fx it bi translated">作为一名软件开发人员，我从观念转向黑曜石的两大原因</h2><div class="qe l"><h3 class="bd b gz z fq qc fs ft qd fv fx dk translated">使用VIM快速输入，使用Markdown有效格式化笔记。</h3></div><div class="qf l"><p class="bd b dl z fq qc fs ft qd fv fx dk translated">amy-juan-li.medium.com</p></div></div><div class="qg l"><div class="qh l qi qj qk qg ql kt px"/></div></div></a></div></div><div class="ab cl lb lc hy ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="in io ip iq ir"><h1 id="fcac" class="li lj iu bd lk ll lm ln lo lp lq lr ls ka lt kb lu kd lv ke lw kg lx kh ly lz bi translated">有用的资源和链接</h1><ul class=""><li id="a452" class="nh ni iu mc b md me mg mh mj nj mn nk mr nl mv nm nn no np bi translated">我跟随完成上述项目的视频— <a class="ae nb" href="https://www.youtube.com/watch?v=gxBis8EgoAg&amp;t=1s" rel="noopener ugc nofollow" target="_blank">如何使用Electron、ReactJS、Vite、CodeMirror和Remark </a>构建一个Markdown编辑器</li><li id="eec2" class="nh ni iu mc b md nq mg nr mj ns mn nt mr nu mv nm nn no np bi translated">我在<a class="ae nb" href="https://github.com/cawa-93/vite-electron-builder" rel="noopener ugc nofollow" target="_blank"> Vite-electron-builder </a>上构建的原始模板</li></ul></div></div>    
</body>
</html>