<html>
<head>
<title>How to initialize Firebase in Rollup + TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Rollup + TypeScript中初始化Firebase</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/recognizing-firebase-import-with-typescript-rollup-2b43c225a4a?source=collection_archive---------15-----------------------#2020-06-07">https://levelup.gitconnected.com/recognizing-firebase-import-with-typescript-rollup-2b43c225a4a?source=collection_archive---------15-----------------------#2020-06-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/a303fd1c4ca5adbdad36f5a3f33c923c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZAsa5PJCUjc5AP_8WMOLZA.png"/></div></div></figure><p id="afac" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果您正在使用TypeScript和Rollup构建JavaScript库或应用程序，那么在代码中导入Firebase可能会有问题。</p><blockquote class="kz la lb"><p id="a564" class="kb kc lc kd b ke kf kg kh ki kj kk kl ld kn ko kp le kr ks kt lf kv kw kx ky im bi translated">“initializeApp”不是由“node _ modules/firebase/app/dist/index . ESM . js”导出的<br/>或<br/></p></blockquote></div><div class="ab cl lg lh hx li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="im in io ip iq"><p id="1da1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在本文中，我将展示如何在不弄乱您的TypeScript代码的情况下修复这个问题。</p><p id="6fa6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我正在使用下面列出的那些库的版本。</p><ul class=""><li id="f8cd" class="ln lo it kd b ke kf ki kj km lp kq lq ku lr ky ls lt lu lv bi translated">燃烧基:7.14.6</li><li id="72bb" class="ln lo it kd b ke lw ki lx km ly kq lz ku ma ky ls lt lu lv bi translated">打字稿:3.4.3</li><li id="2afa" class="ln lo it kd b ke lw ki lx km ly kq lz ku ma ky ls lt lu lv bi translated">汇总:2.10.5</li><li id="c2ed" class="ln lo it kd b ke lw ki lx km ly kq lz ku ma ky ls lt lu lv bi translated">汇总插件类型脚本2: 0.27.1</li><li id="3655" class="ln lo it kd b ke lw ki lx km ly kq lz ku ma ky ls lt lu lv bi translated">rollup-plugin-commonjs: 10.1.0</li></ul><p id="abee" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">首先，您将在TypeScript代码中导入Firebase:</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="cd25" class="mk ml it mg b gy mm mn l mo mp">import * as firebase from 'firebase/app';</span></pre><p id="0127" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">并导入您将使用的Firebase模块。例如，我正在导入Firestore模块。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="2f03" class="mk ml it mg b gy mm mn l mo mp">import 'firebase/firestore';</span></pre><p id="b4c5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在是魔术的第一部分。忽略Firebase初始化时的类型脚本林挺。这样，它将允许改变<code class="fe mq mr ms mg b">initializeApp</code>调用。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="906e" class="mk ml it mg b gy mm mn l mo mp">// <a class="ae mt" href="http://twitter.com/ts" rel="noopener ugc nofollow" target="_blank">@ts</a>-ignore<br/>const app = firebase.initializeApp(config);</span></pre><p id="bcaa" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后您将使用汇总替换插件(<a class="ae mt" href="http://twitter.com/rollup/plugin-replace" rel="noopener ugc nofollow" target="_blank"> @rollup/plugin-replace </a>)来更改汇总配置中的Firebase初始化调用。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="eb3e" class="mk ml it mg b gy mm mn l mo mp">import replace from '<a class="ae mt" href="http://twitter.com/rollup/plugin-replace" rel="noopener ugc nofollow" target="_blank">@rollup/plugin-replace</a>'<br/>// ...<br/>{<br/> // ...<br/> plugins: [<br/>  replace({<br/>    'firebase.initializeApp': 'firebase.default.initializeApp'<br/>   }),<br/> ....<br/> ]<br/>}</span></pre><p id="0b65" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">就是这样！现在，Firebase库可以在带有Rollup环境的TypeScript中工作了。</p></div><div class="ab cl lg lh hx li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="im in io ip iq"><div class="mb mc md me gt mu"><a href="https://skilled.dev" rel="noopener  ugc nofollow" target="_blank"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd iu gy z fp mz fr fs na fu fw is bi translated">编写面试问题</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">一个完整的平台，在这里我会教你找到下一份工作所需的一切，以及…</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">技术开发</p></div></div><div class="nd l"><div class="ne l nf ng nh nd ni jz mu"/></div></div></a></div></div></div>    
</body>
</html>