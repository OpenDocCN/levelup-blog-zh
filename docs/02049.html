<html>
<head>
<title>Introduction to Vue.js Testing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vue.js测试简介</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/introduction-to-vue-js-testing-d09dd4e21969?source=collection_archive---------8-----------------------#2020-02-15">https://levelup.gitconnected.com/introduction-to-vue-js-testing-d09dd4e21969?source=collection_archive---------8-----------------------#2020-02-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/51d72a088eeda4a0880f6e523f0f0a19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*aRgNq0TTuvyGeBZ4"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@mael_bld?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Mael BALLAND </a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="fbbb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">随着应用程序变得越来越复杂，自动测试它们变得非常重要。我们可以通过单元测试做到这一点，然后我们就不必手动测试所有的东西了。</p><p id="c976" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将通过编写一个简单的应用程序并测试它来看看如何测试Vue.js应用程序。</p><h1 id="5c05" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">入门指南</h1><p id="f6d5" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">首先，我们创建一个应用程序，从Chuck Norris的笑话API中获取笑话。</p><p id="9b21" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们首先创建一个空文件夹，进入该文件夹，然后通过运行以下命令来运行Vue CLI:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="0832" class="mq lf it mm b gy mr ms l mt mu">npx vue create .</span></pre><p id="e069" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在向导中，我们选择单元测试，然后选择Jest，然后继续。</p><p id="086d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在我们已经生成了文件，我们可以更改一些代码。我们可以删除<code class="fe mv mw mx mm b">components</code>文件夹，并将<code class="fe mv mw mx mm b">App.vue</code>中的代码替换为:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="f3ab" class="mq lf it mm b gy mr ms l mt mu">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;button <a class="ae kf" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>='toggleJoke()'&gt;{{jokeHidden ? 'Show' : 'Hide'}} Joke&lt;/button&gt;<br/>    &lt;p v-if="!jokeHidden"&gt;{{data.value.joke}}&lt;/p&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="e8b8" class="mq lf it mm b gy my ms l mt mu">&lt;script&gt;<br/>export default {<br/>  name: "app",<br/>  data() {<br/>    return {<br/>      jokeHidden: false,<br/>      data: { value: {} }<br/>    };<br/>  },<br/>  beforeMount() {<br/>    this.getJoke();<br/>  },<br/>  methods: {<br/>    async getJoke() {<br/>      const res = await fetch("<a class="ae kf" href="http://api.icndb.com/jokes/random" rel="noopener ugc nofollow" target="_blank">http://api.icndb.com/jokes/random</a>");<br/>      this.data = await res.json();<br/>    },</span><span id="f296" class="mq lf it mm b gy my ms l mt mu">    toggleJoke() {<br/>      this.jokeHidden = !this.jokeHidden;<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="902c" class="mq lf it mm b gy my ms l mt mu">&lt;style&gt;<br/>#app {<br/>  font-family: "Avenir", Helvetica, Arial, sans-serif;<br/>  -webkit-font-smoothing: antialiased;<br/>  -moz-osx-font-smoothing: grayscale;<br/>  text-align: center;<br/>  color: #2c3e50;<br/>  margin-top: 60px;<br/>}<br/>&lt;/style&gt;</span></pre><p id="dfc4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">代码只是从API获取一个笑话，然后显示出来。此外，它还有一个显示和隐藏笑话的按钮。</p><p id="e352" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们的应用程序如下所示:</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/5dc167e062d6e02fe0f6dcbab37734f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:974/format:webp/1*aVZSkqsy1_a4yvGOoc4BRg.png"/></div></figure><h1 id="8d95" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">创建测试</h1><p id="5e49" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">既然我们有了要测试的东西，我们就可以实际编写测试了。</p><p id="4346" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<code class="fe mv mw mx mm b">tests/unit</code>文件夹中，我们删除我们在那个文件夹中创建的<code class="fe mv mw mx mm b">app.spec.js</code>。</p><p id="5cd5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，我们打开我们创建的文件，并添加:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="976b" class="mq lf it mm b gy mr ms l mt mu">import { mount } from '<a class="ae kf" href="http://twitter.com/vue/test-utils" rel="noopener ugc nofollow" target="_blank">@vue/test-utils</a>';<br/>import App from '@/App.vue'</span><span id="1a0c" class="mq lf it mm b gy my ms l mt mu">const mockResponse = {<br/>  "type": "success",<br/>  "value": {<br/>    "id": 178,<br/>    "joke": "In an act of great philanthropy, Chuck made a generous donation to the American Cancer Society. He donated 6,000 dead bodies for scientific research.",<br/>    "categories": []<br/>  }<br/>}</span></pre><p id="b58c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了导入我们将要测试的组件，<code class="fe mv mw mx mm b">mount</code>函数让Vue测试工具构建并呈现用于测试的组件，以及<code class="fe mv mw mx mm b">mockResponse</code>对象，我们将使用它来设置模拟数据。</p><p id="1a56" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，我们通过编写以下内容为我们的测试添加框架:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="d997" class="mq lf it mm b gy mr ms l mt mu">describe('App.vue', () =&gt; {<br/>  beforeEach(() =&gt; {<br/>    jest.clearAllMocks()<br/>  })<br/>})</span></pre><p id="4715" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们有测试套件的字符串描述和我们添加测试的回调。</p><p id="16eb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在回调函数中，我们使用了<code class="fe mv mw mx mm b">beforeEach</code>钩子通过运行<code class="fe mv mw mx mm b">jest.clearAllMocks()</code>来清除所有的模拟。</p><p id="63f8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们需要这样做，因为稍后我们将模拟组件中的一些函数。</p><h2 id="a9c8" class="mq lf it bd lg na nb dn lk nc nd dp lo kr ne nf ls kv ng nh lw kz ni nj ma nk bi translated">添加我们的第一个测试</h2><p id="60fd" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">接下来，我们编写第一个测试。这个测试将模拟从API获取数据，然后在屏幕上显示笑话。</p><p id="abcb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它实际上不会得到来自服务器的笑话，因为我们希望我们的测试在任何地方和任何时间运行。从服务器获取它不会让我们这样做。</p><p id="3a6d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">API在我们每次调用它的时候都会返回不同的东西，而且它可能并不总是可用的。</p><p id="3795" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">考虑到这一点，我们写道:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="d9be" class="mq lf it mm b gy mr ms l mt mu">it('renders joke', async () =&gt; {<br/>    const wrapper = mount(App, {<br/>      methods: {<br/>        getJoke: jest.fn()<br/>      }<br/>    });<br/>    wrapper.vm.data = mockResponse;<br/>      expect(wrapper.find('p').text()).toMatch(mockResponse.value.joke)<br/>  })</span></pre><p id="627d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在回调中，我们在<code class="fe mv mw mx mm b">beforeEach</code>调用后传递给了<code class="fe mv mw mx mm b">describe</code>函数。</p><p id="5ff2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">上面的测试调用我们的<code class="fe mv mw mx mm b">App</code>组件上的<code class="fe mv mw mx mm b">mount</code>来构建和呈现组件，并返回一个<code class="fe mv mw mx mm b">Wrapper</code>对象让我们访问它。</p><p id="fd93" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在第二个参数中，我们传递带有<code class="fe mv mw mx mm b">methods</code>属性的选项，这样我们就可以用带有<code class="fe mv mw mx mm b">jest.fn()</code>的Jest来模拟<code class="fe mv mw mx mm b">getJoke</code>方法。我们想要模仿它，这样我们的测试就不会调用API。</p><p id="b3ac" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一旦有了<code class="fe mv mw mx mm b">wrapper</code>，我们就运行:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="aada" class="mq lf it mm b gy mr ms l mt mu">wrapper.vm.data = mockResponse;</span></pre><p id="0739" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">将<code class="fe mv mw mx mm b">mockResponse</code>数据设置为组件实例的<code class="fe mv mw mx mm b">data</code>属性。</p><p id="7281" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一旦我们这样做了，我们检查我们得到的笑话在我们的<code class="fe mv mw mx mm b">mockResponse</code>中通过写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="aba1" class="mq lf it mm b gy mr ms l mt mu">expect(wrapper.find('p').text()).toMatch(mockResponse.value.joke)</span></pre><p id="3f92" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因为我们将笑话放在了<code class="fe mv mw mx mm b">App</code>组件的<code class="fe mv mw mx mm b">p</code>标签中。</p><p id="b0ef" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mv mw mx mm b">expect</code>方法和<code class="fe mv mw mx mm b">toMatch</code>来自Jest。</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/cc5aec55520556fd9fa57d3cad6225ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YNRk81yT66knNpP7"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated"><a class="ae kf" href="https://unsplash.com/@heftiba?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Toa Heftiba </a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h2 id="2724" class="mq lf it bd lg na nb dn lk nc nd dp lo kr ne nf ls kv ng nh lw kz ni nj ma nk bi translated">编写与UI元素交互的测试</h2><p id="7c2b" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">编写一个对UI元素(如按钮)做一些事情的测试并不需要太多的工作。</p><p id="c2d0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了测试我们添加到应用程序中的按钮实际显示和隐藏笑话，我们编写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="546c" class="mq lf it mm b gy mr ms l mt mu">it('toggles joke', () =&gt; {<br/>    const wrapper = mount(App, {<br/>      methods: {<br/>        getJoke: jest.fn()<br/>      }<br/>    });<br/>    wrapper.vm.data = mockResponse;<br/>    expect(wrapper.find('button').text()).toMatch('Hide Joke');<br/>      expect(wrapper.find('p').text()).toMatch(mockResponse.value.joke);</span><span id="29b2" class="mq lf it mm b gy my ms l mt mu">    wrapper.find('button').trigger('click');<br/>    expect(wrapper.find('button').text()).toMatch('Show Joke');<br/>    expect(wrapper.find('p').exists()).toBe(false);</span><span id="50db" class="mq lf it mm b gy my ms l mt mu">    wrapper.find('button').trigger('click');<br/>    expect(wrapper.find('button').text()).toMatch('Hide Joke');<br/>      expect(wrapper.find('p').text()).toMatch(mockResponse.value.joke);<br/>  })</span></pre><p id="8442" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第一部分:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="3aea" class="mq lf it mm b gy mr ms l mt mu">const wrapper = mount(App, {<br/>  methods: {<br/>    getJoke: jest.fn()<br/>  }<br/>});<br/>wrapper.vm.data = mockResponse;</span></pre><p id="afd3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">和以前一样。我们用<code class="fe mv mw mx mm b">jest.fn()</code>模拟<code class="fe mv mw mx mm b">getJoke</code>函数，这样我们的测试就不会调用API。然后设置模拟数据。</p><p id="c0cf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来，我们通过编写以下内容来检查按钮文本:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="07e1" class="mq lf it mm b gy mr ms l mt mu">expect(wrapper.find('button').text()).toMatch('Hide Joke');</span></pre><p id="d859" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们被嘲笑的笑话显示在<code class="fe mv mw mx mm b">p</code>元素中:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="358e" class="mq lf it mm b gy mr ms l mt mu">expect(wrapper.find('p').text()).toMatch(mockResponse.value.joke);</span></pre><p id="127c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，我们单击按钮，运行:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="ef2b" class="mq lf it mm b gy mr ms l mt mu">wrapper.find('button').trigger('click');</span></pre><p id="a2b7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后检查按钮的文本以及<code class="fe mv mw mx mm b">p</code>元素是否被我们的<code class="fe mv mw mx mm b">v-if</code>指令删除:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="a711" class="mq lf it mm b gy mr ms l mt mu">expect(wrapper.find('button').text()).toMatch('Show Joke');<br/>expect(wrapper.find('p').exists()).toBe(false);</span></pre><p id="53d8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，我们可以再次点击并检查笑话是否再次显示，如下所示:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="d3af" class="mq lf it mm b gy mr ms l mt mu">wrapper.find('button').trigger('click');<br/>expect(wrapper.find('button').text()).toMatch('Hide Joke');<br/>expect(wrapper.find('p').text()).toMatch(mockResponse.value.joke);</span></pre><h1 id="1250" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">运行测试</h1><p id="4e26" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">总之，我们在<code class="fe mv mw mx mm b">app.test.js</code>中有以下测试代码:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="371f" class="mq lf it mm b gy mr ms l mt mu">import { mount } from '<a class="ae kf" href="http://twitter.com/vue/test-utils" rel="noopener ugc nofollow" target="_blank">@vue/test-utils</a>';<br/>import App from '@/App.vue'</span><span id="85ee" class="mq lf it mm b gy my ms l mt mu">const mockResponse = {<br/>  "type": "success",<br/>  "value": {<br/>    "id": 178,<br/>    "joke": "In an act of great philanthropy, Chuck made a generous donation to the American Cancer Society. He donated 6,000 dead bodies for scientific research.",<br/>    "categories": [</span><span id="6952" class="mq lf it mm b gy my ms l mt mu">]<br/>  }<br/>}</span><span id="7df7" class="mq lf it mm b gy my ms l mt mu">describe('App.vue', () =&gt; {<br/>  beforeEach(() =&gt; {<br/>    jest.clearAllMocks()<br/>  })</span><span id="3a20" class="mq lf it mm b gy my ms l mt mu">  it('renders joke', async () =&gt; {<br/>    const wrapper = mount(App, {<br/>      methods: {<br/>        getJoke: jest.fn()<br/>      }<br/>    });<br/>    wrapper.vm.data = mockResponse;<br/>      expect(wrapper.find('p').text()).toMatch(mockResponse.value.joke)<br/>  })</span><span id="10e7" class="mq lf it mm b gy my ms l mt mu">  it('toggles joke', () =&gt; {<br/>    const wrapper = mount(App, {<br/>      methods: {<br/>        getJoke: jest.fn()<br/>      }<br/>    });<br/>    wrapper.vm.data = mockResponse;<br/>    expect(wrapper.find('button').text()).toMatch('Hide Joke');<br/>      expect(wrapper.find('p').text()).toMatch(mockResponse.value.joke);</span><span id="1ef5" class="mq lf it mm b gy my ms l mt mu">    wrapper.find('button').trigger('click');<br/>    expect(wrapper.find('button').text()).toMatch('Show Joke');<br/>    expect(wrapper.find('p').exists()).toBe(false);</span><span id="5aff" class="mq lf it mm b gy my ms l mt mu">    wrapper.find('button').trigger('click');<br/>    expect(wrapper.find('button').text()).toMatch('Hide Joke');<br/>    expect(wrapper.find('p').text()).toMatch(mockResponse.value.joke);<br/>  })<br/>})</span></pre><p id="bc39" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们通过<code class="fe mv mw mx mm b">npm run test:unit</code>运行测试。</p><p id="92f1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们应该得到:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="b067" class="mq lf it mm b gy mr ms l mt mu">PASS  tests/unit/app.spec.js<br/>  App.vue<br/>    √ renders joke (19ms)<br/>    √ toggles joke (11ms)</span><span id="c1c2" class="mq lf it mm b gy my ms l mt mu">Test Suites: 1 passed, 1 total<br/>Tests:       2 passed, 2 total<br/>Snapshots:   0 total<br/>Time:        2.102s<br/>Ran all test suites.</span></pre><p id="5ce9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">自从我们篡改数据后，每次我们进行测试。</p><h1 id="77ba" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="ab63" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">如果我们选择包含单元测试，Vue CLI会创建一个内置了单元测试的项目。这节省了我们很多工作。</p><p id="8381" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Jest是一个简单的测试运行器，有很多我们可以使用的功能，比如嘲讽和<code class="fe mv mw mx mm b">expect</code>匹配器。</p><p id="5fe7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了测试UI组件，我们使用由<code class="fe mv mw mx mm b">mount</code>返回的包装器对象，该对象具有呈现的组件。然后我们可以使用<code class="fe mv mw mx mm b">find</code>在DOM中搜索我们想要寻找的东西。</p><p id="263e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果元素存在，我们也可以通过调用我们想要触发的事件的<code class="fe mv mw mx mm b">trigger</code>方法来触发事件。</p><p id="1d7a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，我们有<code class="fe mv mw mx mm b">exists</code>方法来检查我们寻找的元素是否确实存在。</p></div></div>    
</body>
</html>