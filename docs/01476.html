<html>
<head>
<title>Generating static website</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">生成静态网站</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/generating-static-website-d666e529226a?source=collection_archive---------14-----------------------#2020-01-05">https://levelup.gitconnected.com/generating-static-website-d666e529226a?source=collection_archive---------14-----------------------#2020-01-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/e6af46b127496af8f84189dfcf5df69c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jbqViLdD6SiAn8-HERAJuw.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/s/photos/website?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae kf" href="https://unsplash.com/@olloweb?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">agency followeb</a>拍摄</figcaption></figure><p id="7ee1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">早在21世纪初，当我还是个孩子，对专业编程一无所知的时候，网站开发是我热衷的事情。没有JavaScript，甚至没有CSS。我的第一个网站是用Microsoft FrontPage创建的，它主要基于表格。当我10岁的时候，这对我来说太有趣了。</p><p id="2abc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在那之后，我已经学会了HTML，为什么我还需要别的东西呢？然后Flash网站和其他不同框架的时代来了，包括JavaScript。我在PHP的帮助下做了一些网络开发，但是由于“一些”原因，我对它失去了兴趣。反正有一个WordPress，所以无论我需要什么都用它。我一直很喜欢HTML和CSS，只是太糟糕了，用纯HTML+CSS创建网站效率不高。然后，出乎意料地…</p><p id="f472" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">… <strong class="ki iu">发布</strong>，Swift中的静态网站生成器由John Sundell发布。我对此感到兴奋，并期待着发布它。我有一年的时间没有写博客，我向自己保证，一旦我用Plot重写我的博客，我会重新开始。所以我们来了…</p><h1 id="8dd5" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">普通编码</h1><p id="3bd0" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">文章最早发表在我的博客上——普通编码——<a class="ae kf" href="https://ordinarycoding.com/articles/generating-static-website/" rel="noopener ugc nofollow" target="_blank">这里</a>。它是使用Publish生成的。我真的推荐在那里阅读，因为它突出了一些代码。</p><h1 id="f16e" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">计算机网络服务器</h1><p id="c26b" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">在我们开始用Swift开发我们的网站之前，首先，我们需要一个<em class="mh"> http服务器</em>，谢天谢地，如果我们在macOS上，它已经安装了python。我们只需要下面的命令</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="38df" class="mr lf it mn b gy ms mt l mu mv">python -m SimpleHTTPServer 8080</span></pre><p id="00ba" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它将在本地主机的当前目录中启动一个服务器——我们将在保存所有生成的文件的目录中运行这个命令。</p><p id="e0e5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在远程服务器上测试所有东西是可能的，但这将使我们的生活更加困难，手动上传所有的更改非常耗时，我们更希望立即测试我们的更改。</p><blockquote class="mw mx my"><p id="d660" class="kg kh mh ki b kj kk kl km kn ko kp kq mz ks kt ku na kw kx ky nb la lb lc ld im bi translated">我想知道是否有可能用iOS应用程序(用SwiftUI编写)包装生成器，以便在移动设备上测试它。有一天我一定要试一试。</p></blockquote><h1 id="5b2b" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">准备</h1><p id="7dca" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">除了工作服务器，我们还需要规划项目的文件结构。对于我的博客，当我在博客上工作时，我不想担心在电脑之间切换时丢失任何文件，所以博客的所有资源都被添加到Xcode项目，并用于生成HTML或在需要时复制。它包括文章文件(markdown)，静态图像(即。徽标)以及所有其他需要的文件，如样式文件和. htaccess。</p><p id="7941" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面你可以看到它的样子</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="bf50" class="mr lf it mn b gy ms mt l mu mv">├── Content<br/>│   └── articles<br/>│       ├── configuring-macos-for-ios-development.md<br/>│       ├── creating-custom-siri-shortcuts.md<br/>│       ├── flutter--my-thoughts-and-impressionspart-i.md<br/>│       ├── fluttermy-thoughts-and-impressionspart-ii.md<br/>│       ├── fluttermy-thoughts-and-impressionspart-iii.md<br/>│       ├── fluttermy-thoughts-and-impressionspart-iv.md<br/>│       ├── fluttermy-thoughts-and-impressionspart-v-final.md<br/>│       ├── generating-static-website.md<br/>│       ├── outdated<br/>│       │   └── generating-static-website.md<br/>│       ├── simple-custom-uinavigationcontroller-transitions.md<br/>│       └── swifty-coredata.md<br/>├── Package.resolved<br/>├── Package.swift<br/>├── Resources<br/>│   ├── fonts<br/>│   │   ├── SourceSansPro-Bold.ttf<br/>│   │   ├── SourceSansPro-LightItalic.ttf<br/>│   │   └── SourceSansPro-Regular.ttf<br/>│   ├── images<br/>│   │   ├── about-me.png<br/>│   │   ├── articles<br/>│   │   │   ├── configuring-macos-for-ios-development<br/>│   │   │   ├── creating-custom-siri-shortcuts<br/>│   │   │   │   ├── 1.png<br/>│   │   │   │   ├── 10.gif<br/>│   │   │   │   ├── 2.png<br/>│   │   │   │   ├── 3.png<br/>│   │   │   │   ├── 4.png<br/>│   │   │   │   ├── 5.png<br/>│   │   │   │   ├── 6.png<br/>│   │   │   │   ├── 7.png<br/>│   │   │   │   ├── 8.png<br/>│   │   │   │   └── 9.png<br/>│   │   │   ├── flutter--my-thoughts-and-impressionspart-i<br/>│   │   │   ├── fluttermy-thoughts-and-impressionspart-ii<br/>│   │   │   │   ├── 1.png<br/>│   │   │   │   ├── 2.png<br/>│   │   │   │   └── 3.gif<br/>│   │   │   ├── fluttermy-thoughts-and-impressionspart-iii<br/>│   │   │   ├── fluttermy-thoughts-and-impressionspart-iv<br/>│   │   │   │   ├── 1.png<br/>│   │   │   │   ├── 2.png<br/>│   │   │   │   └── 3.png<br/>│   │   │   ├── fluttermy-thoughts-and-impressionspart-v-final<br/>│   │   │   │   └── 1.png<br/>│   │   │   ├── generating-static-website<br/>│   │   │   ├── simple-custom-uinavigationcontroller-transitions<br/>│   │   │   │   └── 1.gif<br/>│   │   │   └── swifty-coredata<br/>│   │   │       ├── 1.png<br/>│   │   │       ├── 2.png<br/>│   │   │       └── 3.png<br/>│   │   ├── favicon.png<br/>│   │   ├── logo.png<br/>│   │   ├── projects<br/>│   │   │   ├── expenses-pal.png<br/>│   │   │   └── watermaniac.png<br/>│   │   └── social.png<br/>│   └── styles.css<br/>├── Sources<br/>│   └── OrdinaryCoding<br/>│       ├── main.swift<br/>│       ├── models<br/>│       │   └── Project.swift<br/>│       ├── theme<br/>│        │   ├── PlotExtensions.swift<br/>│       │   ├── Theme+OrdinaryCoding.swift<br/>│       │   ├── WebsiteContent.swift<br/>│       │   ├── WebsiteFooter.swift<br/>│       │   ├── WebsiteHeader.swift<br/>│       │   └── WebsitePages.swift<br/>│       └── website<br/>│           ├── OrdinaryCodingWebsite.swift<br/>│           └── QuotesPublishPlugin.swift<br/>└── Output</span></pre><p id="d23c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因为我使用的是<strong class="ki iu">发布</strong>框架，它几乎是一个默认的结构，最适合这个工具。生成的网站在<em class="mh">输出</em>文件夹中，准备上传到生产服务器。在这个目录中，我还运行我的localhost HTTP服务器。</p><p id="418d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">文章的文件名是我希望特定文章拥有的URL路径的名称。在<code class="fe nc nd ne mn b">Resource</code>目录中是被复制的静态文件(包括<code class="fe nc nd ne mn b">.htaccess</code>)。</p><h1 id="7759" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">项目</h1><p id="9ead" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我已经使用自述文件的<em class="mh">快速入门</em>部分中描述的<a class="ae kf" href="https://github.com/JohnSundell/Publish" rel="noopener ugc nofollow" target="_blank">发布</a>命令行工具生成了Xcode项目。</p><p id="0368" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们将使用的依赖项是Publish、Plot、Ink和Splash(或者实际上是Publish的插件)。</p><h1 id="20bb" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">出版</h1><blockquote class="mw mx my"><p id="b693" class="kg kh mh ki b kj kk kl km kn ko kp kq mz ks kt ku na kw kx ky nb la lb lc ld im bi translated">Publish，一个专门为Swift开发者打造的静态站点生成器。它支持使用Swift构建整个网站，并支持主题、插件和大量其他强大的定制选项。</p></blockquote><p id="9917" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">除了<em class="mh">剧情</em>，这也是我们将要处理的主要框架。它用于管理我们的文件—资源、内容—以及实际的网站。html文件。</p><h1 id="24b3" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">情节</h1><blockquote class="mw mx my"><p id="0876" class="kg kh mh ki b kj kk kl km kn ko kp kq mz ks kt ku na kw kx ky nb la lb lc ld im bi translated">用于在Swift中编写类型安全的HTML、XML和RSS的DSL</p></blockquote><p id="695c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">静电发生器的核心。这是最“神奇”的地方。</p><h1 id="ea73" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">墨水</h1><blockquote class="mw mx my"><p id="fe0f" class="kg kh mh ki b kj kk kl km kn ko kp kq mz ks kt ku na kw kx ky nb la lb lc ld im bi translated">用Swift编写的快速灵活的Markdown解析器</p></blockquote><p id="e23e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你想用markdown(一种轻量级的标记语言)来保存你的文章，它是可选的，但是非常方便。你可以坚持用它来绘制和生成文章的HTML，但我认为用Markdown-ie来写更快。现在我正在Markdown写这篇文章。我有点忙，所以用其他方式写文章对我来说效率不高。我在所有设备上同步markdown文件，所以只要我有一点时间，我就在Mac Book、装有Windows的PC或我的手机上写作。苹果的笔记是你最需要的(如果有人知道任何好的同步应用程序，请告诉我)。</p><h1 id="1e96" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">溅泼的量</h1><blockquote class="mw mx my"><p id="5a24" class="kg kh mh ki b kj kk kl km kn ko kp kq mz ks kt ku na kw kx ky nb la lb lc ld im bi translated">一个快速，轻量级和灵活的Swift语法荧光笔博客，工具和乐趣！</p></blockquote><p id="836a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你想在你的文章中包含Swift代码，它是必备的，也可以很好地与其他语言兼容，如果没有，可以定制它。在我的博客上，我发布了Swift和Dart代码，正如你可能已经看到的那样，它对于Dart开箱即用也很好。不过，我很可能会在未来努力改进它。</p><h1 id="71be" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">发生</h1><p id="a554" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">首先，仔细阅读Plot的自述。它包含了许多有用的提示，如果你不读它，你会后悔不知道。API非常大，所以逐行阅读所有代码，或者寻找特定的函数可能会很有挑战性。</p><blockquote class="mw mx my"><p id="137c" class="kg kh mh ki b kj kk kl km kn ko kp kq mz ks kt ku na kw kx ky nb la lb lc ld im bi translated">请记住，我的这个小项目仍在开发中，我展示的一些代码很可能不是最终版本。</p></blockquote><p id="492d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe nc nd ne mn b">main.swift</code>是静止站点发生器的起点。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="8fd0" class="mr lf it mn b gy ms mt l mu mv">try OrdinaryCoding().publish(using: [<br/>    .installPlugin(.splash(withClassPrefix: "swift-")), // 1<br/>    .installPlugin(.quotes()), // 2</span><span id="4792" class="mr lf it mn b gy nf mt l mu mv">    .copyResources(), // 3<br/>    .addMarkdownFiles(), // 4<br/>    .addDefaultTitles(), // 5</span><span id="2a98" class="mr lf it mn b gy nf mt l mu mv">    .addPage(.erro404()), // 6<br/>    .addPage(.contact()), // 7<br/>    .addPage(.projects(with: myProjects)), // 8</span><span id="91bd" class="mr lf it mn b gy nf mt l mu mv">    .generateHTML(withTheme: .ordinaryCoding), // 9</span><span id="0228" class="mr lf it mn b gy nf mt l mu mv">    .generateRSSFeed(including: [.articles]), // 10<br/>    .generateSiteMap(excluding: [ "404" ]) // 11<br/>])</span></pre><p id="cce3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">生成我的博客需要11个步骤。我来解释一下:1。安装用于语法高亮显示的<a class="ae kf" href="https://ordinarycoding.com/articles/generating-static-website/" rel="noopener ugc nofollow" target="_blank"> "SplashPublishPlugin" </a>。2.安装一个我写的小插件，让我的文章中的引用有一点不同。3.从<code class="fe nc nd ne mn b">Resource</code>目录中复制所有资源。5.将默认标题添加到<em class="mh">文章</em>页面。6.创建用于处理404 http错误的自定义页面。7.创建<em class="mh">联系人</em>页面。8.创建包含我的公共项目的<em class="mh">项目</em>页面——发布到商店和/或开源。9.生成所有的<code class="fe nc nd ne mn b">.html</code>文件，包括我在前面步骤中添加的页面。请记住，这里的顺序是非常重要的，如果你在添加页面或做任何其他与网站相关的具体工作之前调用这个动作，它不会影响它。10.使用来自<em class="mh">文章</em>部分的所有文件生成RSS提要。11.生成排除404页面的站点地图，因为它不应该包含在那里。</p><blockquote class="mw mx my"><p id="38b3" class="kg kh mh ki b kj kk kl km kn ko kp kq mz ks kt ku na kw kx ky nb la lb lc ld im bi translated">如果你想知道更多关于具体步骤的信息，请在Twitter上告诉我(或者查看它的代码)。</p></blockquote><p id="06f8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe nc nd ne mn b">OrdinaryCoding</code> class是一个符合<em class="mh"> Publish </em>的<code class="fe nc nd ne mn b">Website</code>协议的类，它包含了<em class="mh"> Publish </em>的引擎生成网站所需的关于我的博客的一些基本信息。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="1186" class="mr lf it mn b gy ms mt l mu mv">struct OrdinaryCoding: Website {<br/>    enum SectionID: String, WebsiteSectionID {<br/>        case articles<br/>    }</span><span id="9c4d" class="mr lf it mn b gy nf mt l mu mv">    struct ItemMetadata: WebsiteItemMetadata {<br/>    }</span><span id="5928" class="mr lf it mn b gy nf mt l mu mv">    var url = URL(string: "https://ordinarycoding.com")!<br/>    var name = "Ordinary Coding"<br/>    var description = "Just another blog about programming - iOS, macOS, Flutter"<br/>    var language: Language { .english }<br/>    var imagePath: Path? { "images/social.png" }<br/>    var tagHTMLConfig: TagHTMLConfiguration? { TagHTMLConfiguration(basePath: "topics") }<br/>}</span></pre><p id="51bd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我也使用自定义主题(作为基础)🙂).</p><p id="86fc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果没有文章，我们的博客会怎样？我把它们都放在<em class="mh">内容/文章</em>目录中作为<em class="mh">降价</em>文件。在<em class="mh"> Publish </em>发布之前，我有一点点不同的结构——我更喜欢将每篇文章放在不同的文件夹中，并与相关的图片分组，但遗憾的是<em class="mh"> Publish </em>强迫我这样做——幸好它是开源的，也许有一天我会有时间以我想要的方式改进它。</p><p id="0306" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所有与HTML相关的代码我都保存在从<em class="mh"> Plot </em>框架到<code class="fe nc nd ne mn b">Node</code> enum的扩展中。而且我认为这是保持项目干净的最好方法，分享任何可以分享的东西。</p><h1 id="cea4" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="9a29" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我花了大约2周的时间(每天大约1-3个小时)从零开始创建网站，最耗时的任务是用markdown语言重写9篇文章并准备CSS文件。除此之外，你还需要至少有一个基本的知识，如何写HTML和如何用CSS样式化它。css文件，但我们大多数人更愿意定制它)。</p><p id="63c9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在使用这个DSL的同时，仍然有空间让你自己的技能发光或者学习新的东西，并且有无限的可能性如何使用这个框架。看看人们会带来什么会很有趣。</p><blockquote class="mw mx my"><p id="a112" class="kg kh mh ki b kj kk kl km kn ko kp kq mz ks kt ku na kw kx ky nb la lb lc ld im bi translated">Plot是Swift和HTML之间缺失的一环。</p></blockquote><p id="4444" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我真的希望静态网站生成器会越来越受欢迎。我在玩Publish和Plot的时候获得了很多乐趣，并把它推荐给每个想建立这样一个网站的人。</p><h1 id="549d" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">最后的话</h1><p id="2f17" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我希望你在使用Plot建立你的网站的时候会发现这篇文章是有用的。如果您有任何问题，请随时<a class="ae kf" href="https://ordinarycoding.com/contact" rel="noopener ugc nofollow" target="_blank">联系我</a>，最好是通过Twitter或电子邮件。</p><p id="bf66" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢您的阅读。</p></div></div>    
</body>
</html>