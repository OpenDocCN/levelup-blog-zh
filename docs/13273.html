<html>
<head>
<title>Working With JSON Files In Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Python中使用JSON文件</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/working-with-json-files-in-python-87b183e26246?source=collection_archive---------4-----------------------#2022-08-22">https://levelup.gitconnected.com/working-with-json-files-in-python-87b183e26246?source=collection_archive---------4-----------------------#2022-08-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><h1 id="5180" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">JSON是什么？</h1><p id="9828" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">JSON (JavaScript对象符号)是一种独立于语言的文件格式，源自JavaScript。它用于交换数据，特别是在互联网上的客户机和服务器之间。</p><p id="2f53" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated">JSON文件由扩展名<code class="fe lr ls lt lu b">.json</code>标记。</p><blockquote class="lv lw lx"><p id="65c7" class="ko kp ly kq b kr lm kt ku kv ln kx ky lz lo lb lc ma lp lf lg mb lq lj lk ll im bi translated">J <!-- --> SON格式类似于Python字典。</p></blockquote><pre class="mc md me mf gt mg lu mh mi aw mj bi"><span id="39fc" class="mk jr it lu b gy ml mm l mn mo">{<br/>  <strong class="lu iu">"Name"</strong>: "Ashish",<br/>  <strong class="lu iu">"age"</strong>: 26,<br/>  <strong class="lu iu">"address"</strong>: {<br/>    <strong class="lu iu">"street"</strong>: "9, Mall Street",<br/>    <strong class="lu iu">"city"</strong>: "London",<br/>    <strong class="lu iu">"county"</strong>: "London",<br/>    <strong class="lu iu">"postCode"</strong>: "HS3 2WS"<br/>  }<br/>}</span></pre><p id="1cf4" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated">为了在Python中处理JSON文件，我们将使用<code class="fe lr ls lt lu b">json</code>库。</p><figure class="mc md me mf gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi mp"><img src="../Images/9fa198d56a518b31648b36343b044498.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6h-YyePum_hugLEg"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">奥斯卡·伊尔迪兹在<a class="ae nb" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><h1 id="d9e8" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">导入库</h1><p id="7b64" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">该库可以导入为:</p><pre class="mc md me mf gt mg lu mh mi aw mj bi"><span id="83bb" class="mk jr it lu b gy ml mm l mn mo">import json</span></pre><h1 id="9d09" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">创建JSON文件</h1><p id="bf23" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">要创建一个名为<code class="fe lr ls lt lu b">my_details.json</code>的JSON文件，下面的语法可以和<code class="fe lr ls lt lu b">.dump()</code>方法一起使用:</p><p id="b3de" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated">假设我们有一本叫做<code class="fe lr ls lt lu b">my_details</code>的字典</p><pre class="mc md me mf gt mg lu mh mi aw mj bi"><span id="4cb5" class="mk jr it lu b gy ml mm l mn mo">my_details = {<br/>  <strong class="lu iu">"name"</strong>: "Ashish",<br/>  <strong class="lu iu">"age"</strong>: 26,<br/>  <strong class="lu iu">"address"</strong>: {<br/>    <strong class="lu iu">"street"</strong>: "9, Mall Street",<br/>    <strong class="lu iu">"city"</strong>: "London",<br/>    <strong class="lu iu">"county"</strong>: "London",<br/>    <strong class="lu iu">"postCode"</strong>: "HS3 2WS"<br/>  }<br/>}</span></pre><p id="ddd7" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated">要创建一个名为<code class="fe lr ls lt lu b">my_details.json</code>的JSON文件，下面的语法可以和<code class="fe lr ls lt lu b">.dump()</code>方法一起使用。</p><pre class="mc md me mf gt mg lu mh mi aw mj bi"><span id="ec79" class="mk jr it lu b gy ml mm l mn mo">with open('my_details.json', '<strong class="lu iu">w</strong>') as my_details_json:<br/>    json.dump(my_details, my_details_json)</span><span id="8d0d" class="mk jr it lu b gy nc mm l mn mo">#w = write</span></pre><p id="394a" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated">这里的<code class="fe lr ls lt lu b">open</code>函数用来创建一个可写的数据流。</p><figure class="mc md me mf gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi nd"><img src="../Images/e2d7e327193a1a078aafdafcdc2c17ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eJKFDb6tUFot5w1s"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">照片由<a class="ae nb" href="https://unsplash.com/@neonbrand?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">肯尼·埃利亚松</a>在<a class="ae nb" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="03de" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">读取JSON文件</h1><p id="ee21" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">要读取一个名为<code class="fe lr ls lt lu b">my_details.json</code>的JSON文件，下面的语法可以与<code class="fe lr ls lt lu b">.load()</code>方法一起使用:</p><pre class="mc md me mf gt mg lu mh mi aw mj bi"><span id="a749" class="mk jr it lu b gy ml mm l mn mo">with open('my_detail.json', '<strong class="lu iu">r</strong>') as my_details_json:<br/>    my_details = <strong class="lu iu">json.load</strong>(my_details_json)</span><span id="edce" class="mk jr it lu b gy nc mm l mn mo">#r = read </span></pre><p id="1f2e" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated">这将创建一个名为<code class="fe lr ls lt lu b">my_details</code>的字典来保存来自JSON文件<code class="fe lr ls lt lu b">my_detail.json</code>的数据。</p><p id="76e3" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated">这里的<code class="fe lr ls lt lu b">open</code>函数用于创建一个可读的数据流。</p><figure class="mc md me mf gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi ne"><img src="../Images/ea754e3b0e3b4a3e1565ad50fb74e3de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7yBPRWkkusxoWk_f"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">micha Parzuchowski在<a class="ae nb" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="16db" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">将Python转换为JSON字符串</h1><p id="4434" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">为了将Python字典转换成JSON格式的字符串，使用了<code class="fe lr ls lt lu b">.dumps()</code>方法而不是<code class="fe lr ls lt lu b">.dump()</code>方法。</p><p id="f50c" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated"><code class="fe lr ls lt lu b">.dumps()</code>方法不允许你用这个数据创建一个<code class="fe lr ls lt lu b">.json</code>文件。</p><pre class="mc md me mf gt mg lu mh mi aw mj bi"><span id="e2fd" class="mk jr it lu b gy ml mm l mn mo">details_dict = {<br/>  "name": "Ashish",<br/>  "age": 34,<br/>  "country": "UK"<br/>}</span><span id="f245" class="mk jr it lu b gy nc mm l mn mo">details_json = json.dumps(details_dict)</span></pre></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><p id="f3b0" class="pw-post-body-paragraph ko kp it kq b kr lm kt ku kv ln kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll im bi translated"><em class="ly">感谢阅读！</em></p><div class="nm nn gp gr no np"><a href="https://bamania-ashish.medium.com/membership" rel="noopener follow" target="_blank"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd iu gy z fp nu fr fs nv fu fw is bi translated">通过我的推荐链接加入Medium-Ashish Bama nia博士</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">阅读Ashish Bamania博士(以及Medium上成千上万的其他作家)的每一个故事。您的会员费直接…</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">bamania-ashish.medium.com</p></div></div><div class="ny l"><div class="nz l oa ob oc ny od mv np"/></div></div></a></div></div></div>    
</body>
</html>