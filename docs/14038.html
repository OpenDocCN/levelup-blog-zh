<html>
<head>
<title>Refactoring 009 — Protect Public Attributes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">重构009 —保护公共属性</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/refactoring-009-protect-public-attributes-c03f1c4aa58f?source=collection_archive---------7-----------------------#2022-10-26">https://levelup.gitconnected.com/refactoring-009-protect-public-attributes-c03f1c4aa58f?source=collection_archive---------7-----------------------#2022-10-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="76ce" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">忘掉数据结构、dto、POJOs和贫血对象。</h2></div><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi kg"><img src="../Images/6871d147db45d9748f43334d58a5d41b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RwcW0P_Qkz3PRpULJOcL7A.jpeg"/></div></div></figure><blockquote class="ks kt ku"><p id="c0a4" class="kv kw kx ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="iq">TL；博士:避免外部操纵</em></p></blockquote><h1 id="f209" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">解决的问题</h1><ul class=""><li id="aac7" class="mk ml iq ky b kz mm lc mn mo mp mq mr ms mt lr mu mv mw mx bi translated">封装违规</li><li id="8eac" class="mk ml iq ky b kz my lc mz mo na mq nb ms nc lr mu mv mw mx bi translated">贫血模型</li></ul><h1 id="51a1" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">相关代码气味</h1><div class="nd ne gp gr nf ng"><a href="https://blog.devgenius.io/code-smell-01-anemic-models-f9fb5a1323b3" rel="noopener  ugc nofollow" target="_blank"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd ir gy z fp nl fr fs nm fu fw ip bi translated">代码气味01——贫血模型</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">你的对象是一堆没有行为的公共属性。</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">blog.devgenius.io</p></div></div><div class="np l"><div class="nq l nr ns nt np nu kq ng"/></div></div></a></div><div class="nd ne gp gr nf ng"><a href="https://blog.devgenius.io/code-smell-40-dtos-ca35f5d8f7c9" rel="noopener  ugc nofollow" target="_blank"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd ir gy z fp nl fr fs nm fu fw ip bi translated">代码气味40—dto</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">dto被广泛使用并“解决”了实际问题，是吗？</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">blog.devgenius.io</p></div></div><div class="np l"><div class="nv l nr ns nt np nu kq ng"/></div></div></a></div><h1 id="47e7" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">步伐</h1><ol class=""><li id="94f9" class="mk ml iq ky b kz mm lc mn mo mp mq mr ms mt lr nw mv mw mx bi translated">将属性的可见性从公共更改为私有。</li></ol><h1 id="f835" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">示例代码</h1><h2 id="e028" class="nx lt iq bd lu ny nz dn ly oa ob dp mc mo oc od me mq oe of mg ms og oh mi oi bi translated">以前</h2><pre class="kh ki kj kk gt oj ok ol om aw on bi"><span id="71f7" class="nx lt iq ok b gy oo op l oq or">public class Song {<br/>   String artistName;<br/>   String AlbumName;<br/>}</span></pre><h1 id="6494" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">在...之后</h1><pre class="kh ki kj kk gt oj ok ol om aw on bi"><span id="cec0" class="nx lt iq ok b gy oo op l oq or">public class Song {<br/>   // 1- Change the visibility of your attributes from public to private<br/>   private String artistName;<br/>   private String AlbumName;</span><span id="17c1" class="nx lt iq ok b gy os op l oq or">  // We cannot access attributes until we add methods<br/>}</span></pre><h1 id="6bee" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">类型</h1><p id="2d6a" class="pw-post-body-paragraph kv kw iq ky b kz mm jr lb lc mn ju le mo ot lh li mq ou ll lm ms ov lp lq lr ij bi translated">[X]半自动</p><p id="6d43" class="pw-post-body-paragraph kv kw iq ky b kz la jr lb lc ld ju le mo lg lh li mq lk ll lm ms lo lp lq lr ij bi translated">我们可以用IDE或文本编辑器来改变可见性。</p><h1 id="0e7b" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">安全</h1><p id="00c4" class="pw-post-body-paragraph kv kw iq ky b kz mm jr lb lc mn ju le mo ot lh li mq ou ll lm ms ov lp lq lr ij bi translated">这不是一个安全的重构。</p><p id="73cb" class="pw-post-body-paragraph kv kw iq ky b kz la jr lb lc ld ju le mo lg lh li mq lk ll lm ms lo lp lq lr ij bi translated">现有的依赖关系可能会中断。</p><h1 id="125a" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">为什么代码更好？</h1><p id="7071" class="pw-post-body-paragraph kv kw iq ky b kz mm jr lb lc mn ju le mo ot lh li mq ou ll lm ms ov lp lq lr ij bi translated">我们可以很容易地改变封装的代码。</p><p id="3969" class="pw-post-body-paragraph kv kw iq ky b kz la jr lb lc ld ju le mo lg lh li mq lk ll lm ms lo lp lq lr ij bi translated">代码不重复。</p><h1 id="058a" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">限制</h1><p id="8ca2" class="pw-post-body-paragraph kv kw iq ky b kz mm jr lb lc mn ju le mo ot lh li mq ou ll lm ms ov lp lq lr ij bi translated">有些语言没有可见性选项。</p><h1 id="12e2" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">标签</h1><ul class=""><li id="7691" class="mk ml iq ky b kz mm lc mn mo mp mq mr ms mt lr mu mv mw mx bi translated">贫血的</li></ul><h1 id="8ddf" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">相关重构</h1><div class="nd ne gp gr nf ng"><a href="https://blog.devgenius.io/refactoring-001-remove-setters-e5acdf60462c" rel="noopener  ugc nofollow" target="_blank"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd ir gy z fp nl fr fs nm fu fw ip bi translated">重构001 —移除设置器</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">Setters违反了不变性并增加了意外耦合</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">blog.devgenius.io</p></div></div><div class="np l"><div class="ow l nr ns nt np nu kq ng"/></div></div></a></div><h1 id="d9c8" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">信用</h1><p id="4bcf" class="pw-post-body-paragraph kv kw iq ky b kz mm jr lb lc mn ju le mo ot lh li mq ou ll lm ms ov lp lq lr ij bi translated">图片由<a class="ae ox" href="https://pixabay.com/users/couleur-1195798/" rel="noopener ugc nofollow" target="_blank"> Couleur </a>在<a class="ae ox" href="https://pixabay.com/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>上拍摄</p></div><div class="ab cl oy oz hu pa" role="separator"><span class="pb bw bk pc pd pe"/><span class="pb bw bk pc pd pe"/><span class="pb bw bk pc pd"/></div><div class="ij ik il im in"><p id="b77f" class="pw-post-body-paragraph kv kw iq ky b kz la jr lb lc ld ju le mo lg lh li mq lk ll lm ms lo lp lq lr ij bi translated">本文是重构系列的一部分。</p><div class="nd ne gp gr nf ng"><a href="https://mcsee.medium.com/how-to-improve-your-code-with-easy-refactorings-fe80b60e6a8e" rel="noopener follow" target="_blank"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd ir gy z fp nl fr fs nm fu fw ip bi translated">如何通过简单的重构来改进代码</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">重构对于增长和改进我们的代码是惊人的</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">mcsee.medium.com</p></div></div><div class="np l"><div class="pf l nr ns nt np nu kq ng"/></div></div></a></div></div></div>    
</body>
</html>