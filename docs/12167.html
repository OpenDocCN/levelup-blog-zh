<html>
<head>
<title>How to Store Variables in Jupyter Notebook</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Jupyter笔记本中存储变量</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-store-variables-in-jupyter-notebook-fea8aa60a9b?source=collection_archive---------1-----------------------#2022-05-20">https://levelup.gitconnected.com/how-to-store-variables-in-jupyter-notebook-fea8aa60a9b?source=collection_archive---------1-----------------------#2022-05-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="43c7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一个如何在Jupyter笔记本数据库中存储变量的实际例子</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6cf00d1b0c5931cba92b8457332898b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OdTD5l1W9iHPBB9Z"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@onurbuz?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Onur Buz </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><div class="kz la gp gr lb lc"><a href="https://jorgepit-14189.medium.com/membership" rel="noopener follow" target="_blank"><div class="ld ab fo"><div class="le ab lf cl cj lg"><h2 class="bd iu gy z fp lh fr fs li fu fw is bi translated">用我的推荐链接加入媒体-乔治皮皮斯</h2><div class="lj l"><h3 class="bd b gy z fp lh fr fs li fu fw dk translated">阅读乔治·皮皮斯(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接支持…</h3></div><div class="lk l"><p class="bd b dl z fp lh fr fs li fu fw dk translated">jorgepit-14189.medium.com</p></div></div><div class="ll l"><div class="lm l ln lo lp ll lq ks lc"/></div></div></a></div><p id="c7e8" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">使用<code class="fe mn mo mp mq b">storemagic</code>命令<code class="fe mn mo mp mq b">%store</code>,我们可以在IPython的数据库中存储变量。更具体地说，变量存储在<code class="fe mn mo mp mq b">~/.ipython/profile_default/db/autorestore/&lt;variable_name&gt;</code>下。</p><p id="85dd" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">让我们继续一些例子。</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="2004" class="mv mw it mq b gy mx my l mz na"># create a dictionary of your credentials</span><span id="f6c6" class="mv mw it mq b gy nb my l mz na">my_creds <strong class="mq iu">=</strong> <!-- -->{'username':'George',<br/>            'password': 'StrongPassword'}</span><span id="ec79" class="mv mw it mq b gy nb my l mz na">my_creds</span></pre><p id="6486" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们得到:</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="ce6d" class="mv mw it mq b gy mx my l mz na">{'username': 'George', 'password': 'StrongPassword'}</span></pre><p id="0447" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">然后将my_creds存储在IPython数据库下，</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="feb5" class="mv mw it mq b gy mx my l mz na"># store the my_creds under IPython database</span><span id="344b" class="mv mw it mq b gy nb my l mz na"><strong class="mq iu">%</strong>store my_creds</span></pre><p id="273e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">湿get:</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="0a1a" class="mv mw it mq b gy mx my l mz na">Stored 'my_creds' (dict)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/fe449893b19c77eea5adcf54411b3f6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1062/format:webp/0*4fm7Vsv8LFEiU4w8.png"/></div></figure><p id="f7b0" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在让我们打开一个新的Jupyter笔记本。如果我们试图运行<code class="fe mn mo mp mq b">my_creds</code>变量，我们会得到一个NameError，因为我们还没有加载它。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/a3929169160c5facba3f6bc0962db74f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*D2J7vFxnBpPsv6p5.png"/></div></div></figure><p id="f71a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">为了加载变量，我们需要运行下面的magic cell命令。</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="9fd2" class="mv mw it mq b gy mx my l mz na"><strong class="mq iu">%</strong>store <strong class="mq iu">-</strong>r</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/6198e4c319b56cb9863c7478579fd159.png" data-original-src="https://miro.medium.com/v2/resize:fit:1036/format:webp/0*xLM5c4dybiO3AGk3.png"/></div></figure><p id="b2c5" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">正如我们所看到的，文件已经在预期的路径下创建。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/c483feb0cc3d1fa965cc2b82b2d0c04f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Nb4KPfNomha0N0gm.png"/></div></div></figure><p id="05f6" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果我们想从存储器中删除所有变量，我们键入:</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="4504" class="mv mw it mq b gy mx my l mz na">%store -z</span></pre><p id="e339" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果我们想从存储器中删除指定变量，我们键入:</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="3970" class="mv mw it mq b gy mx my l mz na"># Remove the variable "my_creds" and its value from storage</span><span id="c995" class="mv mw it mq b gy nb my l mz na"><strong class="mq iu">%</strong>store <strong class="mq iu">-</strong>d my_creds</span></pre><p id="b8c6" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果我们想在您启动新的Jupyter笔记本时自动恢复存储的变量，我们需要在<code class="fe mn mo mp mq b">ipython_config.py</code>文件中添加下面一行:</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="a1ed" class="mv mw it mq b gy mx my l mz na">c.StoreMagics.autorestore = True</span></pre><p id="19e2" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">商店魔术细胞的另一个用法:</p><ul class=""><li id="d372" class="ng nh it lt b lu lv lx ly ma ni me nj mi nk mm nl nm nn no bi translated"><code class="fe mn mo mp mq b">%store</code>–显示所有变量及其当前值的列表</li><li id="93da" class="ng nh it lt b lu np lx nq ma nr me ns mi nt mm nl nm nn no bi translated"><code class="fe mn mo mp mq b">%store spam bar</code>–将变量spam和bar的当前值存储到磁盘</li><li id="73d5" class="ng nh it lt b lu np lx nq ma nr me ns mi nt mm nl nm nn no bi translated"><code class="fe mn mo mp mq b">%store -d spam</code>–从存储器中删除变量及其值</li><li id="442c" class="ng nh it lt b lu np lx nq ma nr me ns mi nt mm nl nm nn no bi translated"><code class="fe mn mo mp mq b">%store -z</code>–从存储器中移除所有变量</li><li id="73b8" class="ng nh it lt b lu np lx nq ma nr me ns mi nt mm nl nm nn no bi translated"><code class="fe mn mo mp mq b">%store -r</code>–刷新存储的所有变量、别名和目录历史(覆盖当前值)</li><li id="f5ad" class="ng nh it lt b lu np lx nq ma nr me ns mi nt mm nl nm nn no bi translated"><code class="fe mn mo mp mq b">%store -r spam bar</code>–刷新存储中的指定变量和别名(删除当前变量)</li><li id="2cb6" class="ng nh it lt b lu np lx nq ma nr me ns mi nt mm nl nm nn no bi translated"><code class="fe mn mo mp mq b">%store foo &gt;a.txt</code>–将foo的值存储到新文件a.txt中</li><li id="9f92" class="ng nh it lt b lu np lx nq ma nr me ns mi nt mm nl nm nn no bi translated"><code class="fe mn mo mp mq b">%store foo &gt;&gt;a.txt</code>–将foo的值追加到文件a.txt中</li></ul><h1 id="f222" class="nu mw it bd nv nw nx ny nz oa ob oc od jz oe ka of kc og kd oh kf oi kg oj ok bi translated">参考</h1><p id="c1f8" class="pw-post-body-paragraph lr ls it lt b lu ol ju lw lx om jx lz ma on mc md me oo mg mh mi op mk ml mm im bi translated">[1] <a class="ae ky" href="https://ipython.readthedocs.io/en/stable/config/extensions/storemagic.html" rel="noopener ugc nofollow" target="_blank"> IPython文档</a></p></div><div class="ab cl oq or hx os" role="separator"><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov"/></div><div class="im in io ip iq"><p id="6e2a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">最初由<a class="ae ky" href="https://predictivehacks.com/?all-tips=how-to-store-variables-in-jupyter-notebook" rel="noopener ugc nofollow" target="_blank">预测黑客</a>发布</p></div></div>    
</body>
</html>