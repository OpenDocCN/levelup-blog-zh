<html>
<head>
<title>JavaScript Code Formatting— Properties, Statement Body, and Objects with Newline</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript代码格式—属性、语句体和带换行符的对象</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/javascript-code-formatting-properties-statement-body-and-objects-with-newline-5828181232f?source=collection_archive---------23-----------------------#2020-05-21">https://levelup.gitconnected.com/javascript-code-formatting-properties-statement-body-and-objects-with-newline-5828181232f?source=collection_archive---------23-----------------------#2020-05-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/d9e52b81d031b4f05ae1c8872ab3d669.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1xTuUe_jwANzcVdG"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">史蒂文·斯凯里特在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="490f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">JavaScript是一种非常宽容的语言。编写可以运行但有错误的代码很容易。</p><p id="5a28" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将研究删除属性前的空格、单行语句的位置以及对象内一致的间距。</p><h1 id="738d" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">属性前没有空格</h1><p id="785e" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">只有当属性访问代码写在新行上时，才应该在属性前使用空格。</p><p id="2737" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们应该编写如下所示的代码:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="d80d" class="mq lf it mm b gy mr ms l mt mu">foo .bar .baz</span></pre><p id="d51a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们在<code class="fe mv mw mx mm b">.bar</code>和<code class="fe mv mw mx mm b">.baz</code>之前有额外的空白。这样不好，因为没用。它很容易被理解为别的东西。</p><p id="3511" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是我们可以节省的额外空间，因为点已经是一个属性链的分隔符。</p><p id="2a49" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们应该这样写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="aced" class="mq lf it mm b gy mr ms l mt mu">foo.bar.baz</span></pre><p id="044d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当我们编写访问对象属性的代码时，另一个额外空白的例子如下:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="5942" class="mq lf it mm b gy mr ms l mt mu">foo[ prop ]</span></pre><p id="9226" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们有<code class="fe mv mw mx mm b">prop</code>属性，它在括号周围有额外的空格。</p><p id="9300" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<code class="fe mv mw mx mm b">prop</code>变量周围我们不需要额外的空间。例如，我们应该编写以下代码:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="34f2" class="mq lf it mm b gy mr ms l mt mu">foo[prop]</span></pre><p id="9f6d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是因为括号已经是<code class="fe mv mw mx mm b">prop</code>属性的分隔符。</p><p id="1885" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是，如果我们编写以下代码，我们可以在属性前使用空格:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="3e20" class="mq lf it mm b gy mr ms l mt mu">foo<br/>  .bar()<br/>  .baz();</span></pre><p id="86e2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">或者:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="55a4" class="mq lf it mm b gy mr ms l mt mu">foo<br/>  .bar<br/>  .baz();</span></pre><p id="af8c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们通过调用方法或访问属性链来访问新行中的属性。</p><p id="e356" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在点和属性名之前有两个空格，这样我们可以清楚地看到我们正在访问一个属性。</p><p id="e724" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过这种方式，它很简洁，界限也很清楚，这样我们就可以阅读代码中的属性，而不用太费劲。</p><h1 id="6df6" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">单行语句的位置</h1><p id="30e2" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">如果我们有一个只有一行的<code class="fe mv mw mx mm b">if</code>块，有些人可能会像下面这样不用花括号来写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="6fe0" class="mq lf it mm b gy mr ms l mt mu">if (foo)<br/>  bar();</span></pre><p id="bd16" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，如果<code class="fe mv mw mx mm b">foo</code>是<code class="fe mv mw mx mm b">true</code>，那么运行<code class="fe mv mw mx mm b">bar</code>函数。</p><p id="5e50" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有些人可能还会写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="87e9" class="mq lf it mm b gy mr ms l mt mu">if (foo) bar();</span></pre><p id="f720" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">上面的代码和前面的例子做了同样的事情。</p><p id="4293" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这很容易让开发人员感到困惑，因为大括号不见了，所以很容易像下面这样混淆:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="dee9" class="mq lf it mm b gy mr ms l mt mu">if (foo)<br/>  bar();<br/>  baz();</span></pre><p id="061a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果<code class="fe mv mw mx mm b">foo</code>为真，我们可能认为<code class="fe mv mw mx mm b">bar</code>和<code class="fe mv mw mx mm b">baz</code>都在运行。然而，事实并非如此。</p><p id="840e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">实际上应该这样写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="d709" class="mq lf it mm b gy mr ms l mt mu">if (foo)<br/>  bar();<br/>baz();</span></pre><p id="b9ef" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">只有当<code class="fe mv mw mx mm b">foo</code>为真时<code class="fe mv mw mx mm b">bar</code>才会运行，但是无论<code class="fe mv mw mx mm b">foo</code>的值是多少，<code class="fe mv mw mx mm b">baz</code>都会运行。</p><p id="b504" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">去掉括号节省了打字，但是引起了更多的混乱。</p><p id="15f7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们应该添加大括号来消除混淆，而不是使用缩进。</p><p id="a2a9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以编写以下内容:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="f64e" class="mq lf it mm b gy mr ms l mt mu">if (foo) {<br/>  bar();<br/>}<br/>baz();</span></pre><p id="3f04" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">或者:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="5ee1" class="mq lf it mm b gy mr ms l mt mu">if (foo) {<br/>  bar();<br/>  baz();<br/>}</span></pre><p id="b791" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">括号保持一切整洁和清晰。现在,<code class="fe mv mw mx mm b">if</code>的声明没有歧义了。</p><p id="ec7a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这不仅仅适用于<code class="fe mv mw mx mm b">if</code>语句。只有一行的循环体也可以不用花括号来写。</p><p id="f49d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以编写以下代码:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="1cf1" class="mq lf it mm b gy mr ms l mt mu">for (const a of arr) console.log(a);</span></pre><p id="3260" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">或者我们可以编写一个<code class="fe mv mw mx mm b">while</code>循环或<code class="fe mv mw mx mm b">do...while</code>循环，如下所示:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="26f6" class="mq lf it mm b gy mr ms l mt mu">do bar(); while (foo);<br/>while (foo) bar();</span></pre><p id="f80b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它们也有单线体，而且都没有花括号。</p><p id="132b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还应该给它们加上花括号，这样我们就不会混淆循环体的开始和结束。</p><p id="78eb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，我们应该改为编写以下代码:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="3b8e" class="mq lf it mm b gy mr ms l mt mu">for (const a of arr) {<br/>  console.log(a);<br/>}</span><span id="c5f6" class="mq lf it mm b gy my ms l mt mu">do {<br/>  bar();<br/>} while (foo);</span><span id="9e0d" class="mq lf it mm b gy my ms l mt mu">while (foo) {<br/>  bar();<br/>}</span></pre><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mz"><img src="../Images/68a455356828e64a1438857805390ca3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mYm5ABCIeX4AbGPM"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">西蒙·斯霍尔滕在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h1 id="9b64" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">大括号内一致的换行符</h1><p id="2e6c" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">大括号内的对象属性应该有一致的间距。</p><p id="748a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，以下用于创建对象文字的代码是不好的，因为它的间距是一致的:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="32bf" class="mq lf it mm b gy mr ms l mt mu">const foo = {a:  1,   b: 2    };</span></pre><p id="659c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正如我们所看到的，我们到处都有不同的间距和许多额外的空间。</p><p id="b780" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们应该改为编写以下代码:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="2711" class="mq lf it mm b gy mr ms l mt mu">const foo = {<br/>  a: 1,<br/>  b: 2<br/>};</span></pre><p id="3239" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，缩进是一致的，属性后面没有多余的空格。同样，键和值之间的间距也是一致的。</p><h1 id="0497" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="d344" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">属性前的空格应该被删除，除非我们在不同的行中访问它们。</p><p id="343f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，属性键和值的间距应该保持一致，以便代码整洁易读。</p><p id="7d88" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<code class="fe mv mw mx mm b">if</code>块和循环下的单行语句应该在花括号内，以消除任何混淆。</p></div></div>    
</body>
</html>