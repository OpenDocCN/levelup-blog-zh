<html>
<head>
<title>Drawing an interactive window with a single div and no JS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">绘制一个只有一个div没有JS的交互式窗口</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/drawing-an-interactive-window-with-a-single-div-ed4981e365bb?source=collection_archive---------15-----------------------#2021-05-09">https://levelup.gitconnected.com/drawing-an-interactive-window-with-a-single-div-ed4981e365bb?source=collection_archive---------15-----------------------#2021-05-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="b2da" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们澄清一点:当我们谈论一个窗口时，我们指的是像墙上一样的实际窗口，而不是计算机上的窗口。这篇文章将讲述如何用一个单独的<code class="fe ko kp kq kr b">&lt;div&gt;</code>来绘制一个窗口，以及如何使它具有交互性，这样你就可以通过拉动绳子来打开/关闭百叶窗。</p><p id="bb57" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是我们将要开发的(<a class="ae ks" href="https://codepen.io/alvaromontoro/full/eYvmQoj" rel="noopener ugc nofollow" target="_blank">在大屏幕上看起来更好</a>，因为有时很难在移动设备上操作):</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="ky kz l"/></div></figure><p id="97d1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个演示的灵感来自于<a class="ae ks" href="https://dev.to/jh3y" rel="noopener ugc nofollow" target="_blank"> @jh3y </a>的3D窗口演示，它使用了新的<code class="fe ko kp kq kr b">@container</code>查询，你也可以<a class="ae ks" href="https://codepen.io/jh3y/pen/qBrEMEe" rel="noopener ugc nofollow" target="_blank">在CodePen上看到</a>:</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="la kz l"/></div></figure><p id="e43d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我决定在2D做一些简单的事情(我应该回去做3D CSS演示，这很有趣。)并且作为一个挑战，将元素的数量限制到尽可能少。在这种情况下，这是一个:单一的<code class="fe ko kp kq kr b">div</code>。我可以用<code class="fe ko kp kq kr b">html</code>和<code class="fe ko kp kq kr b">body</code>画出窗户和墙壁，但是不可能给它们制作动画(或者至少我不能)。)最初，我也打算使用<code class="fe ko kp kq kr b">@container</code>查询，但是后来我想到了一种不需要这个新特性的方法。</p><p id="0ce9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">将多个渐变应用为<code class="fe ko kp kq kr b">background-image</code>后，背景/墙壁为<code class="fe ko kp kq kr b">html</code> / <code class="fe ko kp kq kr b">body</code>元素(只需要其中一个):</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi lb"><img src="../Images/1bc2884232925a4665fc2c7ed2c94451.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6jxfZO6vtwRtQFLR.png"/></div></div></figure><p id="4cb6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">有了8种渐变，我们就可以获得这样的背景:</p><ul class=""><li id="bf38" class="li lj it js b jt ju jx jy kb lk kf ll kj lm kn ln lo lp lq bi translated">一条水平<code class="fe ko kp kq kr b">linear-gradient</code>用于粉色和奶油色垂直线。</li><li id="0585" class="li lj it js b jt lr jx ls kb lt kf lu kj lv kn ln lo lp lq bi translated">一个垂直<code class="fe ko kp kq kr b">linear-gradient</code>用于栏杆和墙壁底部。</li><li id="a906" class="li lj it js b jt lr jx ls kb lt kf lu kj lv kn ln lo lp lq bi translated">一个垂直<code class="fe ko kp kq kr b">linear-gradient</code>用于装饰顶纸(只有白线和蓝线)</li><li id="0b68" class="li lj it js b jt lr jx ls kb lt kf lu kj lv kn ln lo lp lq bi translated">五个<code class="fe ko kp kq kr b">radial-gradient</code>在装饰纸上制作圆形图案。</li></ul><p id="4f6b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">有两个垂直的<code class="fe ko kp kq kr b">linear-gradient</code>。为什么不把它们合并成一个呢？很棒的问题！Chrome和Firefox中有一些错误，如果一个<code class="fe ko kp kq kr b">linear-gradient</code>有太多的停靠点(8个或更多)，线条会变得模糊或扭曲。出于这个原因，我不得不把一个大的线性梯度分成两个较小的梯度，每个梯度少于8站。</p><p id="81ef" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">窗口是一个单独的<code class="fe ko kp kq kr b">&lt;div&gt;</code>元素，我们使用不同的<code class="fe ko kp kq kr b">box-shadow</code>和<code class="fe ko kp kq kr b">linear-gradient</code>来绘制框架、玻璃和倒影。</p><p id="fbaa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用<code class="fe ko kp kq kr b">::before</code>伪元素，我们使用<code class="fe ko kp kq kr b">repeating-linear-gradient</code>添加百叶窗。用<code class="fe ko kp kq kr b">::after</code>，我们拉窗帘的线。</p><p id="5897" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">到目前为止，窗口是静态的。只是一个没有交互的绘图，但是如果我们添加下面的CSS:</p><pre class="kt ku kv kw gt lw kr lx ly aw lz bi"><span id="43cc" class="ma mb it kr b gy mc md l me mf">div {<br/>  /* ... */<br/>  resize: vertical;<br/>  overflow: auto;<br/>  min-height: 300px; /* same as height */<br/>  max-height: 450px;<br/>}</span></pre><p id="8583" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在窗口可以在指定的值范围内垂直放大和缩小(在大多数浏览器中，<code class="fe ko kp kq kr b">div</code>的右下角将是调整大小的手柄。)由于我们对线性渐变和阴影使用了绝对值，窗口会给人一种总是相同大小的印象，但HTML元素实际上是在改变高度。</p><p id="7201" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这就是<code class="fe ko kp kq kr b">::after</code>伪元素发挥作用的地方。它将是唯一具有相对大小的容器，因此它的背景(用于窗帘绳)将随着容器一起增长。</p><p id="12cb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，百叶窗需要根据容器的大小上升/下降…这听起来像是<code class="fe ko kp kq kr b">@container</code>查询的一个很好的机会，但是相反，我们可以根据窗口的高度(300px)和容器的高度(<code class="fe ko kp kq kr b">div</code>本身)来计算高度。</p><p id="e139" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用<code class="fe ko kp kq kr b">calc()</code>和<code class="fe ko kp kq kr b">clamp()</code>，我们可以根据父对象的尺寸确定百叶窗的尺寸:</p><pre class="kt ku kv kw gt lw kr lx ly aw lz bi"><span id="4308" class="ma mb it kr b gy mc md l me mf">div::before {<br/>  /* ... */<br/>  /* the background width is fixed, the height changes */<br/>  background-size: 196px clamp(30px, calc(900px - 200%), 290px);<br/>}</span></pre><p id="a5c0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这就是我们如何得到一个只有一个div元素的<a class="ae ks" href="https://codepen.io/alvaromontoro/full/eYvmQoj" rel="noopener ugc nofollow" target="_blank">交互窗口</a>:</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="ky kz l"/></div></figure><p id="386e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">感谢阅读。如果你有任何问题或者任何事情需要进一步的解释，请告诉我。</p></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><p id="f912" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="mn">原载于2021年5月9日https://alvaromontoro.com</em><a class="ae ks" href="https://alvaromontoro.com/blog/67978/interactive-window-with-a-single-div" rel="noopener ugc nofollow" target="_blank"><em class="mn"/></a><em class="mn">。</em></p></div></div>    
</body>
</html>