<html>
<head>
<title>Higher Order Functions in Swift</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Swift中的高阶函数</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/higher-order-functions-in-swift-35861620ad1?source=collection_archive---------0-----------------------#2020-08-12">https://levelup.gitconnected.com/higher-order-functions-in-swift-35861620ad1?source=collection_archive---------0-----------------------#2020-08-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7f25" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">forEach、map、CompactMap、flatMap、filter、reduce、sort和sorted</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/97f008b121523c388a3780453d9a2283.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*fFfzsaWh49TjzNal8VXrlQ.png"/></div></figure><p id="c644" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">作为swift开发人员，您必须了解高阶函数。它将加速你的软件开发技能。</p><p id="0d77" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">高阶函数是以一个或多个函数作为参数或返回一个函数作为结果的函数。以下是一些快捷的高阶函数——forEach、map、CompactMap、flatMap、filter、reduce、sort和sorted。</p><p id="60b1" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在本文中，您将探索swift几乎所有类型的高阶功能的实施。</p><p id="b67e" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">让我们开始-</p><h1 id="3a31" class="lm ln it bd lo lp lq lr ls lt lu lv lw jz lx ka ly kc lz kd ma kf mb kg mc md bi translated">为每一个</h1><p id="8811" class="pw-post-body-paragraph kq kr it ks b kt me ju kv kw mf jx ky kz mg lb lc ld mh lf lg lh mi lj lk ll im bi translated">forEach将遍历数组中的所有元素，不会返回任何内容。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mj mk l"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">forEach示例</figcaption></figure><p id="9068" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">如果你运行上面的代码，那么输出会是这样的——</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi mp"><img src="../Images/280008c5132516decc843f63f1f2c6d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tYQKP8J8SdYAJgdwGRsNZA.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">对于每个的<strong class="bd lo">输出</strong></figcaption></figure><p id="cf31" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在上面的代码中，在步骤1中，您创建了一个名为coins的数组。</p><p id="2cf6" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在第2步中，遍历所有的硬币，向每个元素添加$并打印出来。</p><p id="723b" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在第3步中，使用<strong class="ks iu"> forEach </strong>遍历所有硬币，向每个元素添加$并打印出来。</p><p id="43b9" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在第4步中，您使用了一个简短的语法<strong class="ks iu"> forEach。</strong></p><p id="613d" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated"><strong class="ks iu">【forEach】</strong>的作用类似于<strong class="ks iu"> for in" </strong>，但基本区别是，不能使用<strong class="ks iu"> break </strong>和<strong class="ks iu"> continue </strong>语句从<strong class="ks iu"> forEach </strong>的闭包中退出。</p><h1 id="931f" class="lm ln it bd lo lp lq lr ls lt lu lv lw jz lx ka ly kc lz kd ma kf mb kg mc md bi translated"><strong class="ak">地图</strong></h1><p id="de7b" class="pw-post-body-paragraph kq kr it ks b kt me ju kv kw mf jx ky kz mg lb lc ld mh lf lg lh mi lj lk ll im bi translated">map将遍历数组中的所有元素，并将返回一个更新后的数组。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mj mk l"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">地图示例</figcaption></figure><p id="598f" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">如果你运行上面的代码，那么输出会是这样的——</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi mu"><img src="../Images/1fda728e516f46e0de411438c016088f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4DnS2zGWUisT0JWf2h2GQA.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">地图示例的输出</figcaption></figure><p id="46e7" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在上面的代码中，在步骤1中，您创建了一个名为coins的数组。</p><p id="0598" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在步骤2中，遍历所有硬币，向每个硬币添加$并将该元素追加到新数组中。</p><p id="6224" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在第3步中，使用<strong class="ks iu"> map </strong>遍历所有硬币，向每个硬币添加$并返回新数组。</p><p id="c898" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在步骤4中，您使用了一个简短的语法<strong class="ks iu"> map。</strong></p><h1 id="db5c" class="lm ln it bd lo lp lq lr ls lt lu lv lw jz lx ka ly kc lz kd ma kf mb kg mc md bi translated"><strong class="ak">紧凑图</strong></h1><p id="df32" class="pw-post-body-paragraph kq kr it ks b kt me ju kv kw mf jx ky kz mg lb lc ld mh lf lg lh mi lj lk ll im bi translated">compactMap将遍历一个数组中的所有元素，并返回一个更新后的数组，该数组只包含满足compactMap体中所写条件的元素。任何导致零值的元素都将从更新后的数组中排除。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mj mk l"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">compactMap示例</figcaption></figure><p id="8615" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">如果你运行上面的代码，那么输出会是这样的——</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi mu"><img src="../Images/9450b05824fe91115a35658753c38843.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o-XvmILZ8oovlKbdALFXBQ.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">compactMapExample输出</figcaption></figure><p id="3eaf" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在上面的代码中，在步骤1中，您创建了一个名为coins的数组。</p><p id="869b" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在第2步中，遍历所有硬币，过滤包含int值的硬币，并添加到新数组中。</p><p id="3808" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在步骤3中，使用<strong class="ks iu"> compactMap </strong>遍历所有硬币，过滤包含int值的硬币，并返回新数组。</p><p id="bed5" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在步骤4中，您使用了一个简短的语法<strong class="ks iu"> compactMap。</strong></p><h1 id="ff96" class="lm ln it bd lo lp lq lr ls lt lu lv lw jz lx ka ly kc lz kd ma kf mb kg mc md bi translated">平面地图</h1><p id="98d3" class="pw-post-body-paragraph kq kr it ks b kt me ju kv kw mf jx ky kz mg lb lc ld mh lf lg lh mi lj lk ll im bi translated">flatMap将2D数组转换为一维数组。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mj mk l"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">平面图示例</figcaption></figure><p id="9d56" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在上面的代码中，在步骤1中，您创建了一个名为arrayOfCoins的2D数组。</p><p id="bda2" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在步骤2中，使用flatMap合并行，将其转换为一维数组。</p><p id="00f5" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在第3步中，您使用了一个简短的语法<strong class="ks iu"> flapMap。</strong></p><h1 id="51a4" class="lm ln it bd lo lp lq lr ls lt lu lv lw jz lx ka ly kc lz kd ma kf mb kg mc md bi translated"><strong class="ak">滤镜</strong></h1><p id="b06b" class="pw-post-body-paragraph kq kr it ks b kt me ju kv kw mf jx ky kz mg lb lc ld mh lf lg lh mi lj lk ll im bi translated">filter将遍历数组中的所有元素，并返回一个更新后的数组，该数组只包含满足filter体中所写条件的元素。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mj mk l"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">过滤器示例</figcaption></figure><p id="f078" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">如果你运行上面的代码，那么输出会是这样的——</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi mu"><img src="../Images/7d30704180e43db3d8bf712c07117e42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p5AcM9EmSVAhOmKWeYH62w.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">过滤器示例输出</figcaption></figure><p id="1cbf" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在上面的代码中，在步骤1中，您创建了一个名为coins的数组。</p><p id="712d" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在第2步中，您将遍历所有硬币，过滤掉价值小于6的硬币。</p><p id="e97a" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在第3步中，你使用了一个简短的语法<strong class="ks iu">过滤器。</strong></p><h1 id="3952" class="lm ln it bd lo lp lq lr ls lt lu lv lw jz lx ka ly kc lz kd ma kf mb kg mc md bi translated">减少</h1><p id="f7d4" class="pw-post-body-paragraph kq kr it ks b kt me ju kv kw mf jx ky kz mg lb lc ld mh lf lg lh mi lj lk ll im bi translated">reduce将遍历数组中的所有元素，并返回一个包含所有元素的组合值的对象。</p><p id="2b91" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated"><strong class="ks iu">语法- </strong></p><p id="5983" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">reduce( <strong class="ks iu"> initialResult </strong>，(<strong class="ks iu"> currentResult </strong>，<strong class="ks iu">currentElement</strong>)-&gt;Return<strong class="ks iu">final result</strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mj mk l"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">简化示例</figcaption></figure><p id="90b9" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">如果你运行上面的代码，那么输出会是这样的——</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi mu"><img src="../Images/7734eeb7647091d94dca692d5aabc731.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xsVYrCDtzF_m4KEmXCr2yA.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">减少示例输出</figcaption></figure><p id="e99c" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在上面的代码中，在步骤1中，您创建了一个名为coins的数组。</p><p id="4689" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在第2步中，将初始值设置为0，遍历所有硬币，将currentResult(result)添加到闭包体中的currentElement(coin)中，并对其进行迭代。</p><p id="fc3f" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在步骤3中，您使用了一个简短的语法<strong class="ks iu"> reduce。</strong></p><h1 id="4abd" class="lm ln it bd lo lp lq lr ls lt lu lv lw jz lx ka ly kc lz kd ma kf mb kg mc md bi translated">排序(依据:)和排序(依据:)</h1><p id="2ea1" class="pw-post-body-paragraph kq kr it ks b kt me ju kv kw mf jx ky kz mg lb lc ld mh lf lg lh mi lj lk ll im bi translated">sort(by:)将根据闭包体内的条件对所有元素进行排序。</p><p id="d11a" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">sorted(by:)将根据闭包体内的条件对所有元素进行排序，并返回一个新数组。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mj mk l"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">排序(依据:)和排序(依据:)示例</figcaption></figure><p id="1333" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在上面的代码中，在步骤1中，您创建了一个名为coins的数组。</p><p id="5a26" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在第2步中，您将对一个数组进行降序排序，并创建一个名为sortCoins的数组。</p><p id="ae4c" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在步骤3中，您将按照降序对同一个数组进行排序。</p><p id="c4ac" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">以下是sort(by:)和sorted(by:)的简短语法</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mj mk l"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">排序(依据:)和排序(依据:)的简短语法</figcaption></figure></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><p id="a0e2" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">感谢您阅读这篇文章。如果你觉得这篇文章有帮助，请不要忘记鼓掌。</p><p id="14e3" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">如果您有任何问题或意见，请随时在Twitter上联系我。</p></div></div>    
</body>
</html>