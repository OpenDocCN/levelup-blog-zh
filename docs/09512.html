<html>
<head>
<title>Gentle Guide to Getting Started with tmux</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">tmux入门简明指南</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/gentle-guide-to-get-started-with-tmux-2d4edded19ab?source=collection_archive---------21-----------------------#2021-08-16">https://levelup.gitconnected.com/gentle-guide-to-get-started-with-tmux-2d4edded19ab?source=collection_archive---------21-----------------------#2021-08-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="6e0d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您最终来到这里可能是因为您希望提高您的命令行技能。没关系，这正是我写这篇博客的原因。自从我开始学习如何编程，我就成了一名终端居民，这很棒。当我登录到我的shell时，我总是感觉像在家里一样。今天，我们的终端体验会感觉更好。我们将用一个叫做tmux的伟大工具来提升我们的知识和工具带。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/18e4953e4a5b605e2329231078999885.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yRj0K6-IJhUQ7OmmESz9XQ.jpeg"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated"><em class="le">照片由</em> <a class="ae lf" href="https://unsplash.com/@diskander?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> <em class="le">大卫</em> </a> <em class="le">上</em> <a class="ae lf" href="https://unsplash.com/s/photos/get-started?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> <em class="le">下</em> </a></figcaption></figure><h1 id="9d02" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">tmux是什么？</h1><p id="8a3d" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">tmux是一个终端多路复用器，这意味着它是终端中的一个窗口管理器。它允许您在一个终端窗口(会话)中打开多个窗口(会话)。所以它允许其他程序从它上面运行，让你可以很容易地操作它们。大多数人发现每天使用tmux的一个特点是。</p><p id="c10a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是，除了作为一个窗口管理器，tmux还可以做以下事情:通过在tmux内部运行程序，保护远程服务器上正在运行的程序免受连接中断的影响。我们都遇到过这种情况—您连接到服务器，去买咖啡/午餐，回来后，会话被冻结或没有响应。允许用户从多台不同的本地计算机访问远程服务器上运行的程序。</p><p id="e067" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">今天，我们将关注tmux的窗口管理器方面。在以后的博客文章中，我们将介绍tmux的一些高级用法，以及它如何为您带来好处。</p><h1 id="73f1" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">安装</h1><p id="166c" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">您可以在所有主要平台上使用包管理器安装tmux，但是让我们来介绍一些最著名的平台。在Debian或Ubuntu上，您可以执行以下操作:</p><p id="ff05" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在Mac OS上，您可以使用brew:</p><p id="dc54" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了检查安装是否成功，让我们试着阅读tmux的手册页:</p><p id="f1bb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你得到这样的东西:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/35d8052284211fefb73dba38b96b1973.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/0*fNt7FobkLfp_h5eK.png"/></div></figure><p id="3528" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你可以走了。</p><h1 id="3740" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">正在启动tmux</h1><p id="89c1" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">我们可以在终端中使用<code class="fe mk ml mm mn b">tmux</code>命令来启动tmux，看看这是怎么回事。之后，你可以看到一切都保持不变，除了底部的绿线。这里发生的事情是，我们作为客户端连接到一个tmux服务器。tmux在后台运行特定PID上的服务器，当我们键入<code class="fe mk ml mm mn b">tmux</code>时，我们自动运行服务器。</p><p id="e359" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">因此，我们从名为0的会话连接到tmux服务器，正如您在屏幕的<code class="fe mk ml mm mn b">[0]</code>部分看到的。所以tmux充当标准终端会话的中转。让我们看看当您进入tmux会话时会得到什么:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/583b273a40f9d4d710a43a13b05aea03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/0*APQSrI5CzNAEZyPe.png"/></div></figure><p id="a34a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在左下角，您会看到代表会话的<code class="fe mk ml mm mn b">[0]</code>。紧挨着它的是<code class="fe mk ml mm mn b">0:zsh</code>,显示哪个窗口是打开的，哪个程序正在那里运行。我们刚刚开始这个会话，所以我们只打开了一个窗口，zsh正在那里运行。</p><p id="c575" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您可以继续使用终端，就像您通常使用它一样，但是那样会很无聊，对吗？让我们学习一两件我们作为tmux初学者可以做的事情。我想让我们经历一下在tmux中创建和移动窗格的过程。</p><h1 id="7f7c" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">窗格管理</h1><p id="3c98" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">如果你使用过iTerm2并在那里使用了窗格分割，你会非常喜欢这个特性。在tmux中几乎是一样的，唯一的区别是用来创建新窗格的快捷方式。在iTerm2中，你可以使用<code class="fe mk ml mm mn b">cmd + d</code>和<code class="fe mk ml mm mn b">cmd + shift + d</code>来垂直和水平分割窗格。</p><h2 id="3519" class="mo lh it bd li mp mq dn lm mr ms dp lq kb mt mu lu kf mv mw ly kj mx my mc mz bi translated">创建窗格</h2><p id="c6df" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">在tmux中，你可以用<code class="fe mk ml mm mn b">Ctrl-b %</code>进行垂直分割，用<code class="fe mk ml mm mn b">Ctrl-b "</code>进行水平分割。你会看到所有的快捷方式都是以<code class="fe mk ml mm mn b">Ctrl-b</code>或者简称<code class="fe mk ml mm mn b">C-b</code>开头的。要让<code class="fe mk ml mm mn b">C-b</code>快捷键起作用，需要同时按下control键和b键，然后可以按下后面的字符或者类似<code class="fe mk ml mm mn b">"</code>的符号进行水平拆分。比如说。<code class="fe mk ml mm mn b">C-b</code>向tmux发出信号，表示您将向其发送一个快捷方式。下面让我们一起来试试这个功能:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi na"><img src="../Images/64d6982b383cbcc0873dff490453c080.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZgOx2bmbW8x-mNAc.gif"/></div></div></figure><p id="14f1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果出于某种原因你不喜欢快捷方式，你可以键入<code class="fe mk ml mm mn b">tmux split-window -h</code>来进行水平分割，键入<code class="fe mk ml mm mn b">tmux split-window -v</code>来进行垂直分割。</p><h2 id="76ea" class="mo lh it bd li mp mq dn lm mr ms dp lq kb mt mu lu kf mv mw ly kj mx my mc mz bi translated">在窗格周围移动</h2><p id="615b" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">在上面的GIF中，我们可能把它推得太多了，但是你已经明白了。现在，对于最重要的部分——如何走动？别担心，默认情况下比iTerm2中更容易。你使用<code class="fe mk ml mm mn b">C-b</code>和左、右、上、下箭头。于是<code class="fe mk ml mm mn b">C-b Arrow-Left</code> <code class="fe mk ml mm mn b">C-b Arrow-Right</code>以此类推。</p><h2 id="c713" class="mo lh it bd li mp mq dn lm mr ms dp lq kb mt mu lu kf mv mw ly kj mx my mc mz bi translated">关闭窗格</h2><p id="09c7" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">如果您完成了一个窗格，只需按下<code class="fe mk ml mm mn b">Ctrl-d</code>，它就会关闭。</p><p id="9250" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在让我们试着创建一个新窗口。</p><h1 id="3f75" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">窗口管理</h1><p id="8e2a" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">tmux中的窗口与iTerm2中的选项卡非常相似。这是一个新的画布，您可以将它分成多个窗格并运行命令。您一定会问——我如何创建一个？</p><h2 id="1c88" class="mo lh it bd li mp mq dn lm mr ms dp lq kb mt mu lu kf mv mw ly kj mx my mc mz bi translated">创建窗口</h2><p id="731d" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">只要做<code class="fe mk ml mm mn b">C-b c</code>，一个新的窗口就形成了。你可以尝试几次。我做了类似的事情，除了在每个窗口中打开一个程序来一起查看不同之处。下面我们来看看:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/1c431edf8276c64a341418b999599b8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/0*iyehmrdZirnPspvL.png"/></div></figure><p id="afee" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您可以在tmux状态行看到以下文本:</p><pre class="kp kq kr ks gt nb mn nc nd aw ne bi"><span id="3d48" class="mo lh it mn b gy nf ng l nh ni">0:zsh 1:vim* 2:ed- 3:ruby</span></pre><p id="1734" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe mk ml mm mn b">0:zsh</code>显示第一个窗口，其中只有zsh在运行。<code class="fe mk ml mm mn b">1:vim*</code>让我们不要在第二个窗口中，我们有Vim运行，星号<code class="fe mk ml mm mn b">*</code>显示它是活动窗口。<code class="fe mk ml mm mn b">2:ed-</code>做同样的事情，除了破折号<code class="fe mk ml mm mn b">-</code>告诉我们这是最后一个窗口。另一个问题现在出现了——我们如何改变窗口？</p><h1 id="2a62" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">在窗口中导航</h1><p id="757d" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">别担心，我抓住你了。你可以用多种方式改变窗口，但我发现这是最有效的。您可以使用<code class="fe mk ml mm mn b">C-b</code>和窗口索引的组合，例如<code class="fe mk ml mm mn b">C-b 1</code>来转到tmux状态行中标记为1的窗口。所以在我们的例子中,<code class="fe mk ml mm mn b">C-b 0</code>将打开窗口，同时打开zsh，因为它像<code class="fe mk ml mm mn b">0:zsh</code>一样显示在屏幕底部的tmux状态行中。</p><p id="db2a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您还可以使用<code class="fe mk ml mm mn b">C-b p</code>来显示上一个窗口，<code class="fe mk ml mm mn b">C-b n</code>来显示下一个窗口，<code class="fe mk ml mm mn b">C-b l</code>来显示最后一个窗口(这是前面部分中破折号<code class="fe mk ml mm mn b">-</code>的位置)。</p><h1 id="d4f2" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">tmux会话</h1><p id="b1ca" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">tmux的灵活会话不会很好。您可以随时连接和分离会话。大多数人称赞tmux的会话管理。想象会议是你工作的不同领域。例如，一个会话可以与您运行前端、后端、编辑器、测试等的私有web项目相关。另一个会话可以是某个服务器上的SSH会话，您可以在那里摆弄基础设施。</p><h2 id="fa50" class="mo lh it bd li mp mq dn lm mr ms dp lq kb mt mu lu kf mv mw ly kj mx my mc mz bi translated">从会话中附加和分离</h2><p id="55f7" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">要感受会话的强大功能，您可以在另一个终端窗口或选项卡中启动tmux(假设您有一个会话在运行，如上例所示)。如果您现在按下<code class="fe mk ml mm mn b">C-b d</code>，您应该会看到以下内容:</p><pre class="kp kq kr ks gt nb mn nc nd aw ne bi"><span id="2d08" class="mo lh it mn b gy nf ng l nh ni">$ tmux <br/>[detached (from session 1 ) ]</span></pre><p id="4cff" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">酷，我们从刚刚创建的会话中分离出来。现在，在同一个终端窗口中，键入<code class="fe mk ml mm mn b">tmux ls</code>:</p><pre class="kp kq kr ks gt nb mn nc nd aw ne bi"><span id="b882" class="mo lh it mn b gy nf ng l nh ni">$ tmux ls <br/>0: 4 windows (created Thu Aug 12 20:08:22 2021 ) (attached) <br/>1: 1 windows (created Thu Aug 12 20:15:03 2021 )</span></pre><p id="18a0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">标记为0的第一个会话显示我们有四个打开的窗口，并且我们连接到它。但标记为1(一)的第二个会话未附加。使用<code class="fe mk ml mm mn b">C-b d</code>，我们从标记为1的会话中分离出来，并使用<code class="fe mk ml mm mn b">tmux ls</code>列出所有可用的会话。多好啊，现在我们可以更好地组织我们的工作了。</p><p id="f0ce" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果您不喜欢用0和1这样的数字作为会话的默认命名，您可以使用<code class="fe mk ml mm mn b">tmux new -s heythere</code>来给会话命名。现在，创建的会话将获得<code class="fe mk ml mm mn b">heythere</code>名称。通过分离(<code class="fe mk ml mm mn b">C-b d</code>)并再次运行<code class="fe mk ml mm mn b">tmux ls</code>，我们可以看到:</p><pre class="kp kq kr ks gt nb mn nc nd aw ne bi"><span id="d7ea" class="mo lh it mn b gy nf ng l nh ni">$ tmux ls <br/>0: 4 windows (created Thu Aug 12 20:08:22 2021 ) (attached) <br/>1: 1 windows (created Thu Aug 12 20:15:03 2021 ) <br/>heythere: 1 windows (created Thu Aug 12 20:21:09 2021 )</span></pre><p id="5606" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后，我们可以通过以下方式轻松地连接到<code class="fe mk ml mm mn b">heythere</code>会话:</p><pre class="kp kq kr ks gt nb mn nc nd aw ne bi"><span id="5800" class="mo lh it mn b gy nf ng l nh ni">tmux attach -t heythere</span></pre><p id="ed33" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们又回到了<code class="fe mk ml mm mn b">heythere</code>环节。很酷，对吧？我想这对一个人来说足够了。我们的终端有很多需要处理和使用的东西。我决定我们聚在一起，试着用几天或几周的时间。</p><h1 id="fb02" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">最后的想法</h1><p id="13d3" class="pw-post-body-paragraph jq jr it js b jt me jv jw jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn im bi translated">这应该就是tmux入门的全部内容。在下一篇博文之前，我想提一件可能对你我有所帮助的事情。如果你迷路了或者忘记了快捷键，有一个<code class="fe mk ml mm mn b">C-b ?</code>快捷键显示了你可以使用的命令列表。它看起来是这样的:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/e4377c52e46ac7e6cd4e97ba28146ae0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/0*tFG9_uN4XkI6_P1t.png"/></div></figure><p id="494f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">此外，如果您正在使用iTerm2，另一个值得注意的事情是它与tmux的集成。更多信息请阅读<a class="ae lf" href="https://gitlab.com/gnachman/iterm2/-/wikis/TmuxIntegration" rel="noopener ugc nofollow" target="_blank"> iTerm2文档</a>。</p><p id="1535" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我打算写一篇后续博文，介绍一些tmux的高级用法。如果你喜欢这篇文章并想看另一篇博文，考虑加入<a class="ae lf" href="https://pragmaticpineapple.com/gentle-guide-to-get-started-with-tmux/newsletter" rel="noopener ugc nofollow" target="_blank">时事通讯</a>，它会在发布时通知你。</p><p id="92e4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一如既往，不要忘记与你的朋友或同事分享。这里有一条推文，你可以发消息，比如，转发，忽略，或者做任何你想做的事情:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="2c57" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">感谢你的加入，我期待着在下一部中见到你。</p><p id="af6a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">干杯。</p></div><div class="ab cl nl nm hx nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="im in io ip iq"><p id="a4c4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="ns">原载于2021年8月16日https://pragmaticpineapple.com</em><a class="ae lf" href="https://pragmaticpineapple.com/gentle-guide-to-get-started-with-tmux/" rel="noopener ugc nofollow" target="_blank"><em class="ns"/></a><em class="ns">。</em></p></div></div>    
</body>
</html>