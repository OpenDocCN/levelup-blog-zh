<html>
<head>
<title>AWS Cloud9 multi-account and role based access</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AWS Cloud9多帐户和基于角色的访问</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/aws-cloud9-multi-account-and-role-based-access-c5dfe6c88956?source=collection_archive---------5-----------------------#2022-07-13">https://levelup.gitconnected.com/aws-cloud9-multi-account-and-role-based-access-c5dfe6c88956?source=collection_archive---------5-----------------------#2022-07-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="74c1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我有多个工作站，我经常在Linux和Windows之间切换，因为在每个操作系统中我喜欢做不同的事情。在每一个系统上保持开发工具和环境的更新是一件痛苦的事情。</p><p id="d761" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以…在过去的几天里，我决定尝试一下云。</p><p id="eb4f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于那些没有听说过它的人来说，它是AWS对云托管集成开发环境(IDE)的回答。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/1fad35f27820bc8f46f9d9b3ea32613f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*51Qq3C92NZ11C9GATWv3ug.jpeg"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">照片由<a class="ae kl" href="https://unsplash.com/@riku?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"/>在<a class="ae kl" href="https://unsplash.com/s/photos/ide?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="537a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">与许多AWS服务一样，它很容易上手，对于基本用例来说一切都很好。如果您有一个AWS帐户，您只需登录到控制台，创建Cloud9环境，然后您将能够根据附加到您的用户帐户的IAM策略访问您帐户中的服务。所有这些都在您的浏览器中！</p><p id="5d48" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然而，我有一个用例，需要做一些工作才能运行起来，这次谷歌并不是我的好朋友。</p><p id="b3df" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我的情况是这样的:</p><ol class=""><li id="b2e7" class="lc ld iq jp b jq jr ju jv jy le kc lf kg lg kk lh li lj lk bi translated">我不只有一个账户，我有一个<em class="ll">管理</em>账户，一个<em class="ll">信息安全</em>账户，还有一些<em class="ll">开发</em>、<em class="ll">测试</em>和<em class="ll">生产</em>账户。</li><li id="1cd0" class="lc ld iq jp b jq lm ju ln jy lo kc lp kg lq kk lh li lj lk bi translated">用户和用户组只存在于<em class="ll"> infosec </em>账户中。所有其他访问都假定使用基于角色的访问。</li><li id="a95c" class="lc ld iq jp b jq lm ju ln jy lo kc lp kg lq kk lh li lj lk bi translated">Cloud9部署在infosec帐户中，因为用户在那里登录，这是此类事情的中心帐户。</li><li id="4126" class="lc ld iq jp b jq lm ju ln jy lo kc lp kg lq kk lh li lj lk bi translated">我通常使用<a class="ae kl" href="https://github.com/99designs/aws-vault" rel="noopener ugc nofollow" target="_blank"> aws-vault </a>在我的本地机器上执行AWS CLI命令，它支持作为特定角色登录到控制台。</li></ol><p id="7a40" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我想在<em class="ll"> infosec </em>帐户中托管我的Cloud9实例，然后在其他帐户(主要是<em class="ll"> dev </em>)中承担角色来部署资源。当然，解决这个问题的一个方法是为每个开发人员创建一个专用的沙盒帐户，在其中托管Cloud9实例和开发过程中创建的任何资源。</p><p id="b775" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">理想情况下，部署到<em class="ll">测试</em>和<em class="ll">产品</em>账户应该使用Cloud9之外的CI/CD管道来完成，如果没有部署到<em class="ll">开发</em>账户的话。</p><h2 id="5a9a" class="lr ls iq bd lt lu lv dn lw lx ly dp lz jy ma mb mc kc md me mf kg mg mh mi mj bi translated">不要使用aws-vault登录创建Cloud9环境</h2><p id="c2fd" class="pw-post-body-paragraph jn jo iq jp b jq mk js jt ju ml jw jx jy mm ka kb kc mn ke kf kg mo ki kj kk ij bi translated">第一件让我感到困惑的事情是使用aws-vault登录控制台，然后创建一个Cloud9环境。</p><p id="df9f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">问题是，当aws-vault启动浏览器窗口并让您登录到控制台时，它是使用联合用户这样做的，并且该角色的ARN是临时的，并且是短暂的。一旦您的会话到期，下次登录时，ARN将会不同。您可以在下图中看到，ARN包含一个时间戳，因此每次您再次登录时，时间戳都会发生变化。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mp"><img src="../Images/b58efe71a25400e24ae437eaa015d354.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EcOd2Y74ZuKhoQturibIfQ.png"/></div></div></figure><p id="9251" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当创建一个Cloud9实例时，它将在会话活动时正常工作，但是因为实例<em class="ll">的所有者</em>是一个将不再存在的ARN，所以你也将不能再次启动你的Cloud9实例。</p><p id="373a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最初，它看起来像这样:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mq"><img src="../Images/d9c6a1bfa8a3fca77c95590b709c8d0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CD3VscvUc1BBBYtKDa9tvQ.png"/></div></div></figure><p id="b552" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是注销并再次登录后，ARN将会不同，不再与上面显示的<em class="ll">所有者Arn </em>匹配。<em class="ll">权限</em>将变为<em class="ll">无</em>并且控制台中的<em class="ll">打开IDE </em>按钮将变灰。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mq"><img src="../Images/e4c0f99d4cbf7c6e10829824af5e3b4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yTlFh9U2aJ9knZkvQAQ01w.png"/></div></div></figure><p id="e763" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，我不得不使用普通IAM用户登录控制台，而不使用aws-vault。至少这让我以自己的身份进入了infosec的账户，而不是一个短暂的实体。</p><h2 id="6b23" class="lr ls iq bd lt lu lv dn lw lx ly dp lz jy ma mb mc kc md me mf kg mg mh mi mj bi translated">附加<em class="mr"> AWSCloud9Administrator </em>策略</h2><p id="8e77" class="pw-post-body-paragraph jn jo iq jp b jq mk js jt ju ml jw jx jy mm ka kb kc mn ke kf kg mo ki kj kk ij bi translated">现在的问题是，即使我登录了，我仍然没有任何权限。我需要给自己<em class="ll"> AWSCloud9Administrator </em>或<em class="ll"> AWSCloud9User </em>权限，这样我就可以为自己创建一个环境。</p><p id="3aa3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为此，我在<em class="ll"> infosec </em>帐户中担任了<em class="ll">管理员</em>角色，并将<em class="ll"> AWSCloud9Administrator </em>策略附加到我的用户帐户上。(我在偷工减料——通常我会创建一个用户组，然后将策略附加到该用户组，并将我自己添加到该组中。)</p><p id="67dc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我有了这个权限，我可以从我所承担的管理员角色切换回来，继续到Cloud9控制台创建一个新环境。</p><h2 id="40ea" class="lr ls iq bd lt lu lv dn lw lx ly dp lz jy ma mb mc kc md me mf kg mg mh mi mj bi translated">AWS管理的临时凭据</h2><p id="cf7d" class="pw-post-body-paragraph jn jo iq jp b jq mk js jt ju ml jw jx jy mm ka kb kc mn ke kf kg mo ki kj kk ij bi translated">AWS正试图通过为您管理凭证来帮助您。Cloud9的功能是每5分钟自动轮换一次凭证。这些被称为<a class="ae kl" href="https://docs.aws.amazon.com/cloud9/latest/user-guide/security-iam.html#auth-and-access-control-temporary-managed-credentials" rel="noopener ugc nofollow" target="_blank"> AWS管理的临时凭证</a>。这是一个类似于aws-vault的概念，但它在幕后完成所有工作。</p><p id="82ff" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第一个问题是，这些凭证与当前登录的用户具有相同的访问级别，在我的例子中，这意味着几乎没有任何权限。</p><p id="d514" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是我在Cloud9环境中查询自己的身份时得到的结果:</p><pre class="kn ko kp kq gt ms mt mu mv aw mw bi"><span id="3f81" class="lr ls iq mt b gy mx my l mz na">OliverSchenk-Admin:~ $ aws sts get-caller-identity<br/>{<br/>    "UserId": "xxxxxxxxxxxxxxxxxxxxx",<br/>    "Account": "xxxxxxxxxxxx",<br/>    "Arn": "arn:aws:iam::xxxxxxxxxxxx:user/OliverSchenk-Admin"<br/>}</span></pre><p id="af71" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第二个问题是这些凭证受到限制，只允许有限的AWS服务调用。<a class="ae kl" href="https://docs.aws.amazon.com/cloud9/latest/user-guide/security-iam.html#auth-and-access-control-temporary-managed-credentials" rel="noopener ugc nofollow" target="_blank">文档列出了允许进行的调用</a>，而承担角色不在其中。如果我试图承担一个角色，它会失败。</p><pre class="kn ko kp kq gt ms mt mu mv aw mw bi"><span id="010a" class="lr ls iq mt b gy mx my l mz na">OliverSchenk-Admin:~ $ aws sts assume-role --role-arn arn:aws:iam::&lt;dev_account_id&gt;:role/Administrator --role-session-name OliverSchenk-Admin-Dev</span><span id="6c7d" class="lr ls iq mt b gy nb my l mz na">An error occurred (InvalidClientTokenId) when calling the AssumeRole operation: The security token included in the request is invalid</span></pre><h2 id="a554" class="lr ls iq bd lt lu lv dn lw lx ly dp lz jy ma mb mc kc md me mf kg mg mh mi mj bi translated">下一个最佳选择</h2><p id="fa71" class="pw-post-body-paragraph jn jo iq jp b jq mk js jt ju ml jw jx jy mm ka kb kc mn ke kf kg mo ki kj kk ij bi translated">考虑到默认环境凭证无法承担角色，AWS建议下一个最好的办法是关闭托管临时凭证，转而将EC2实例配置文件附加到运行Cloud9环境的EC2实例。</p><p id="7877" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这实际上意味着Cloud9将不再根据其允许的权限为我们生成凭证，而是我们可以创建自己的IAM角色和相关策略来管理我们的Cloud9环境允许访问的内容。然后，我们可以使用EC2实例的元数据作为凭证源。这仍然比在配置文件中硬编码一组固定的AWS凭证要好。</p><h2 id="9de7" class="lr ls iq bd lt lu lv dn lw lx ly dp lz jy ma mb mc kc md me mf kg mg mh mi mj bi translated">关闭托管临时凭据</h2><p id="40aa" class="pw-post-body-paragraph jn jo iq jp b jq mk js jt ju ml jw jx jy mm ka kb kc mn ke kf kg mo ki kj kk ij bi translated">点击右上角的cog图标，关闭<em class="ll">首选项</em>选项卡中的托管临时凭证。在<em class="ll"> AWS设置&gt;凭证</em>中，关闭<em class="ll"> AWS管理的临时凭证</em>。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi nc"><img src="../Images/270e5054f8f84721a09c881fd4e858c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TGedaYRoKibvhmevE9v8cA.png"/></div></div></figure><p id="fd4e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这将删除<code class="fe nd ne nf mt b">~/.aws/credentials</code>文件，Cloud9将不再配置任何凭证。当我尝试调用AWS服务时，我现在得到类似这样的消息:</p><pre class="kn ko kp kq gt ms mt mu mv aw mw bi"><span id="bcc6" class="lr ls iq mt b gy mx my l mz na">OliverSchenk-Admin:~ $ aws sts get-caller-identity</span><span id="040b" class="lr ls iq mt b gy nb my l mz na">Unable to locate credentials. You can configure credentials by running "aws configure".</span></pre><h2 id="0965" class="lr ls iq bd lt lu lv dn lw lx ly dp lz jy ma mb mc kc md me mf kg mg mh mi mj bi translated">创建并附加实例概要文件</h2><p id="66b5" class="pw-post-body-paragraph jn jo iq jp b jq mk js jt ju ml jw jx jy mm ka kb kc mn ke kf kg mo ki kj kk ij bi translated">接下来要做的事情是创建一个新的IAM策略和角色，然后将其附加到EC2控制台中的EC2实例。显然，您将配置您希望您的环境拥有的任何权限，但是我真正想要的是能够在<em class="ll"> dev </em>环境中承担一个角色。当然，您可以根据需要为您的角色附加任意多的策略。</p><p id="fec2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以下策略允许我在<em class="ll"> dev </em>帐户中担任管理员角色。(这假设我已经正确地设置了跨帐户策略——这是另一篇文章的内容！)</p><pre class="kn ko kp kq gt ms mt mu mv aw mw bi"><span id="005b" class="lr ls iq mt b gy mx my l mz na">{<br/>    "Statement": [<br/>        {<br/>            "Action": "sts:AssumeRole",<br/>            "Effect": "Allow",<br/>            "Resource": "arn:aws:iam::&lt;dev_account_id&gt;:role/Administrator",<br/>            "Sid": "AssumeDevAdministratorRole"<br/>        }<br/>    ],<br/>    "Version": "2012-10-17"<br/>}</span></pre><p id="921e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我将上述内容附加到一个新角色，并且还必须设置一个信任关系，以允许EC2实例承担该角色:</p><pre class="kn ko kp kq gt ms mt mu mv aw mw bi"><span id="6d30" class="lr ls iq mt b gy mx my l mz na">{<br/>    "Version": "2012-10-17",<br/>    "Statement": [<br/>        {<br/>            "Effect": "Allow",<br/>            "Principal": {<br/>                "Service": "ec2.amazonaws.com"<br/>            },<br/>            "Action": "sts:AssumeRole"<br/>        }<br/>    ]<br/>}</span></pre><p id="bd9a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在剩下要做的就是进入EC2实例，找到Cloud9实例，选择它，然后单击<em class="ll">操作&gt;安全&gt;修改IAM角色</em>，选择我刚刚创建的角色<em class="ll">更新IAM角色</em>。</p><p id="dddc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在Cloud9环境中，我现在可以看到EC2实例所承担的角色。</p><pre class="kn ko kp kq gt ms mt mu mv aw mw bi"><span id="862f" class="lr ls iq mt b gy mx my l mz na">OliverSchenk-Admin:~ $ aws sts get-caller-identity<br/>{<br/>    "UserId": "AROAYIR3NLRT3B7FQ7XGV:i-05a3b97d2929b28d0",<br/>    "Account": "&lt;infosec_account_id&gt;",<br/>    "Arn": "arn:aws:sts::&lt;infosec_account_id&gt;:assumed-role/OliverSchenk-Dev-Account-Cloud9-Instance-Profile/i-05a3b97d2929b28d0"<br/>}</span></pre><h2 id="7b8d" class="lr ls iq bd lt lu lv dn lw lx ly dp lz jy ma mb mc kc md me mf kg mg mh mi mj bi translated">设置AWS配置文件</h2><p id="fde5" class="pw-post-body-paragraph jn jo iq jp b jq mk js jt ju ml jw jx jy mm ka kb kc mn ke kf kg mo ki kj kk ij bi translated">我创建了一个AWS配置概要文件，它将承担<em class="ll"> dev </em>帐户中的角色。在Cloud9终端中，我编辑了文件<code class="fe nd ne nf mt b">~/.aws/config</code>并添加了如下内容:</p><pre class="kn ko kp kq gt ms mt mu mv aw mw bi"><span id="6415" class="lr ls iq mt b gy mx my l mz na">[profile OliverSchenk-Admin-Dev]<br/>region = ap-southeast-2<br/>output = yaml<br/>role_arn = arn:aws:iam::&lt;dev_account_id&gt;:role/Administrator<br/>credential_source = Ec2InstanceMetadata</span></pre><p id="f877" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe nd ne nf mt b">credential_source</code>获取底层EC2实例的凭证，<code class="fe nd ne nf mt b">role_arn</code>告诉它承担什么角色。</p><p id="5926" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我使用<code class="fe nd ne nf mt b">--profile</code>参数再次测试了呼叫者身份。我得到了这样的东西:</p><pre class="kn ko kp kq gt ms mt mu mv aw mw bi"><span id="8f6f" class="lr ls iq mt b gy mx my l mz na">OliverSchenk-Admin:~ $ aws sts get-caller-identity --profile OliverSchenk-Admin-Dev<br/>Account: '&lt;dev_account_id&gt;'<br/>Arn: arn:aws:sts::&lt;dev_account_id&gt;:assumed-role/Administrator/botocore-session-1657689540<br/>UserId: AROAQD4TDLBZ2Wxxxxxxx:botocore-session-1657689540</span></pre><p id="c41a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">看起来我现在已经成功地从运行在<em class="ll"> infosec </em>帐户中的Cloud9环境中承担了<em class="ll"> dev </em>帐户中的角色。</p><p id="e152" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">除了使用<code class="fe nd ne nf mt b">--profile</code>参数，还可以设置<code class="fe nd ne nf mt b">AWS_PROFILE</code>环境变量，这样任何包含AWS CLI命令的脚本都可以在给定的配置文件下运行。</p><pre class="kn ko kp kq gt ms mt mu mv aw mw bi"><span id="82be" class="lr ls iq mt b gy mx my l mz na">OliverSchenk-Admin:~ $ export AWS_PROFILE=OliverSchenk-Admin-Dev<br/>OliverSchenk-Admin:~ $ aws sts get-caller-identity<br/>Account: '&lt;dev_account_id&gt;'<br/>Arn: arn:aws:sts::&lt;dev_account_id&gt;:assumed-role/Administrator/botocore-session-1657689540<br/>UserId: AROAQD4TDLBZ2Wxxxxxxx:botocore-session-1657689540</span></pre><h2 id="4858" class="lr ls iq bd lt lu lv dn lw lx ly dp lz jy ma mb mc kc md me mf kg mg mh mi mj bi translated">同时在其他账户查看Cloud9 IDE和AWS控制台</h2><p id="0266" class="pw-post-body-paragraph jn jo iq jp b jq mk js jt ju ml jw jx jy mm ka kb kc mn ke kf kg mo ki kj kk ij bi translated">我遇到的一个问题是，我不能同时在同一个浏览器中作为两个不同的AWS实体或帐户登录。换句话说，我无法登录到Cloud9实例，也无法登录到<em class="ll"> dev </em>帐户<em class="ll">。</em></p><p id="45b8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有几种方法可以解决这个问题。你可以使用不同的浏览器，你可以使用匿名模式，你可以在Chrome中使用不同的“人”配置，或者你可以使用浏览器插件，如Firefox多帐户容器。</p><h2 id="9b28" class="lr ls iq bd lt lu lv dn lw lx ly dp lz jy ma mb mc kc md me mf kg mg mh mi mj bi translated">AWS CDK CLI需要一个凭据文件</h2><p id="76fc" class="pw-post-body-paragraph jn jo iq jp b jq mk js jt ju ml jw jx jy mm ka kb kc mn ke kf kg mo ki kj kk ij bi translated">与AWS CLI不同，AWS CDK CLI在检测凭据时存在一些问题。因为我关闭了临时托管凭证，并且我使用EC2实例凭证和基于角色的方法，所以我的环境中没有<code class="fe nd ne nf mt b">~/.aws/credentials</code>文件。AWS CDK不喜欢这样，所以只需用<code class="fe nd ne nf mt b">touch ~/.aws/credentials</code>创建一个空的就可以了。</p><p id="4119" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="ll">今天就到这里，谢谢！如果你有纠正、提示或建议，请给我留下一些评论。</em></p></div><div class="ab cl ng nh hu ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ij ik il im in"><h1 id="4018" class="nn ls iq bd lt no np nq lw nr ns nt lz nu nv nw mc nx ny nz mf oa ob oc mi od bi translated">分级编码</h1><p id="34e4" class="pw-post-body-paragraph jn jo iq jp b jq mk js jt ju ml jw jx jy mm ka kb kc mn ke kf kg mo ki kj kk ij bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="1487" class="lc ld iq jp b jq jr ju jv jy le kc lf kg lg kk oe li lj lk bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="40ae" class="lc ld iq jp b jq lm ju ln jy lo kc lp kg lq kk oe li lj lk bi translated">📰查看<a class="ae kl" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">升级编码出版物</a>中的更多内容</li><li id="39fb" class="lc ld iq jp b jq lm ju ln jy lo kc lp kg lq kk oe li lj lk bi translated">🔔关注我们:<a class="ae kl" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae kl" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae kl" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="81ac" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">🚀👉<a class="ae kl" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">加入升级人才集体，找到一份惊艳的工作</strong> </a></p></div></div>    
</body>
</html>