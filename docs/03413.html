<html>
<head>
<title>Creating a Weather App Using SwiftUI &amp; Weatherstack</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用SwiftUI和Weatherstack创建天气应用程序</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/creating-a-weather-app-using-swiftui-weatherstack-98578a98c621?source=collection_archive---------2-----------------------#2020-05-07">https://levelup.gitconnected.com/creating-a-weather-app-using-swiftui-weatherstack-98578a98c621?source=collection_archive---------2-----------------------#2020-05-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="bb77" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">数据解析/ JSON解码、SF符号和iOS 13</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7c156db048a74eae6f3c801a096c762a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NDLtDsZaUVaEZapWAdpbww.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">天气应用截图</figcaption></figure><p id="9a28" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">创建天气应用程序将帮助您发现和了解iOS 13中的新功能。它涵盖了如何集成API、数据解析以及使用SwiftUI显示数据。当Apple引入新的库，或者对现有库进行更改时，这是一个很好的第一个项目。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="9cbd" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">API集成</h1><p id="d500" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">Weatherstack 是将天气数据传递给应用程序的著名API之一。您可以检索当前天气预报或最多14天的预报详情。本教程将带您了解如何将这个API集成到您的iOS应用程序中。对于其他选项，可以查看GitHub 上的<a class="ae my" href="https://github.com/public-apis/public-apis" rel="noopener ugc nofollow" target="_blank">公共API。</a></p><p id="7fee" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要使用Weatherstack，您需要有一个帐户并选择一个定价选项。他们的免费选项允许每月1000次通话，并可以给我们提供实时天气数据。一旦你有了你的帐户设置，你将有一个API访问密钥，我们将在我们的代码中使用。</p><p id="8c91" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对Weatherstack的请求如下所示:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="73cb" class="ne mc it na b gy nf ng l nh ni">http://api.weatherstack.com/current<br/>    ? access_key = <strong class="na iu">YOUR_ACCESS_KEY</strong><br/>    &amp; query = New York</span></pre><p id="9ef3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">以下是JSON响应的一个示例:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="c71b" class="ne mc it na b gy nf ng l nh ni">{<br/>    "request": {<br/>        "type": "City",<br/>        "query": "New York, United States of America",<br/>        "language": "en",<br/>        "unit": "m"<br/>    },<br/>    "location": {<br/>        "name": "New York",<br/>        "country": "United States of America",<br/>        "region": "New York",<br/>        "lat": "40.714",<br/>        "lon": "-74.006",<br/>        "timezone_id": "America/New_York",<br/>        "localtime": "2019-09-07 08:14",<br/>        "localtime_epoch": 1567844040,<br/>        "utc_offset": "-4.0"<br/>    },<br/>    "current": {<br/>        "observation_time": "12:45 PM",<br/>        "temperature": 17,<br/>        "weather_code": 113,<br/>        "weather_icons": [<br/>            "https://assets.weatherstack.com/images/wsymbols01_png_64/wsymbol_0001_sunny.png"<br/>        ],<br/>        "weather_descriptions": [<br/>            "Clear"<br/>        ],<br/>        "wind_speed": 5,<br/>        "wind_degree": 344,<br/>        "wind_dir": "N",<br/>        "pressure": 1010,<br/>        "precip": 0,<br/>        "humidity": 50,<br/>        "cloudcover": 0,<br/>        "feelslike": 15,<br/>        "uv_index": 4,<br/>        "visibility": 20<br/>    }<br/>}</span></pre></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="3aec" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">JSON解码</h1><p id="9f8e" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">为了解析项目中的数据，我们需要创建可解码的结构。数据是嵌套的，所以我们需要创建四个可解码的结构。如果返回的响应中的任何信息为空，将所有常量设为可选，以防止应用程序崩溃。第一个结构用于请求信息:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="f2a3" class="ne mc it na b gy nf ng l nh ni"><strong class="na iu">struct</strong> Request : Decodable {</span><span id="a518" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> type : String?</span><span id="503e" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> query : String?</span><span id="69df" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> language : String?</span><span id="ae44" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> unit : String?</span><span id="59e5" class="ne mc it na b gy nj ng l nh ni">}</span></pre><p id="0d84" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">第二个可解码的结构将用于位置数据，我们将使用该数据来获取将在SwiftUI视图中显示的城市名称:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="7990" class="ne mc it na b gy nf ng l nh ni"><strong class="na iu">struct</strong> Location : Decodable {</span><span id="cc24" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> name : String?</span><span id="ca21" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> country : String?</span><span id="de27" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> region : String?</span><span id="f773" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> lat : String?</span><span id="45d0" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> lon : String?</span><span id="8121" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> timezone_id : String?</span><span id="29eb" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> localtime : String?</span><span id="9261" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> localtime_epoch : Int?</span><span id="0ec2" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> utc_offset : String?</span><span id="10bc" class="ne mc it na b gy nj ng l nh ni">}</span></pre><p id="dfb0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">第三，我们要解析“current ”,它包含温度、描述和天气代码，这些代码将在本教程中检索和使用:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="c11c" class="ne mc it na b gy nf ng l nh ni"><strong class="na iu">struct</strong> Current : Decodable {</span><span id="3b95" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> observation_time : String?</span><span id="3a33" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> temperature : Int?</span><span id="2db8" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> weather_code : Int?</span><span id="0ab4" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> weather_icons : [String?]</span><span id="de92" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> weather_descriptions : [String?]</span><span id="77e5" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> wind_speed : Int?</span><span id="92b5" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> wind_degree : Int?</span><span id="29d9" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> wind_dir : String?</span><span id="6537" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> pressure : Int?</span><span id="c870" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> precip : Double?</span><span id="5cd8" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> humidity : Int?</span><span id="d401" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> cloudcover : Int?</span><span id="16b2" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> feelslike : Int?</span><span id="e8e1" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> uv_index : Int?</span><span id="0ad0" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> visibility : Int?</span><span id="443d" class="ne mc it na b gy nj ng l nh ni">}</span></pre><p id="8cc0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">需要的最后一个结构是weather结构，它将包括我们之前存储在常量中的所有结构:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="d6d3" class="ne mc it na b gy nf ng l nh ni"><strong class="na iu">struct</strong> Weather : Decodable {</span><span id="a672" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> request : Request?</span><span id="d6fb" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> location : Location?</span><span id="4864" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> current : Current?</span><span id="4f5a" class="ne mc it na b gy nj ng l nh ni">}</span></pre><p id="643c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，我们可以创建一个函数来启动一个会话，并从API中获取我们需要的数据。编写一个函数，创建一个URL会话，检查错误，然后使用JSONDecoder解析数据，并将值存储在一个常量中。检查下面的代码&amp;不要忘记将您的访问密钥添加到URL字符串中:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="883b" class="ne mc it na b gy nf ng l nh ni"><strong class="na iu">func</strong> getWeatherData() {</span><span id="f20c" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> jsonURLString = "http://api.weatherstack.com/current?access_key=<strong class="na iu">YOUR_ACCESS_KEY</strong>&amp;query=New%20York"</span><span id="3c01" class="ne mc it na b gy nj ng l nh ni">// make URL</span><span id="684c" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">guard</strong> <strong class="na iu">let</strong> url = URL(string: jsonURLString) <strong class="na iu">else</strong> { <strong class="na iu">return</strong> }</span><span id="fa42" class="ne mc it na b gy nj ng l nh ni">// create a session<br/>URLSession.shared.dataTask(with: url) { (data, response, error) <strong class="na iu">in</strong></span><span id="7ef2" class="ne mc it na b gy nj ng l nh ni">// check for error<br/><strong class="na iu">if</strong> error != <strong class="na iu">nil</strong> {</span><span id="35a0" class="ne mc it na b gy nj ng l nh ni">print(error!.localizedDescription)</span><span id="e2ba" class="ne mc it na b gy nj ng l nh ni">}</span><span id="e756" class="ne mc it na b gy nj ng l nh ni">// check for 200 OK status</span><span id="211c" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">guard</strong> <strong class="na iu">let</strong> data = data <strong class="na iu">else</strong> { <strong class="na iu">return</strong> }</span><span id="1678" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">do</strong> {</span><span id="a7b3" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> weather = <strong class="na iu">try</strong> JSONDecoder().decode(Weather.<strong class="na iu">self</strong>, from: data)<br/></span><span id="b31d" class="ne mc it na b gy nj ng l nh ni">} <strong class="na iu">catch</strong> <strong class="na iu">let</strong> err {</span><span id="ec7f" class="ne mc it na b gy nj ng l nh ni">print ("Json Err", err)</span><span id="0343" class="ne mc it na b gy nj ng l nh ni">}<br/>// start the session</span><span id="6990" class="ne mc it na b gy nj ng l nh ni">}.resume()</span><span id="3ba8" class="ne mc it na b gy nj ng l nh ni">}</span></pre><p id="c6c6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对于本教程，我将温度、天气描述和天气代码存储起来供以后使用。您可以使用下面相同的方法来利用您可以从API获得的所有其他数据。将粗体文本添加到我们上面创建的函数中，将变量添加到我们的视图结构中:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="7b49" class="ne mc it na b gy nf ng l nh ni">struct ContentView: View {</span><span id="18b2" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">@State var city = ""</strong></span><span id="caa2" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">@State var temperature = 0</strong></span><span id="bdd4" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">@State var description = ""</strong><br/>...</span><span id="8003" class="ne mc it na b gy nj ng l nh ni">func getWeatherData() {<br/>...</span><span id="695b" class="ne mc it na b gy nj ng l nh ni">do {</span><span id="41e5" class="ne mc it na b gy nj ng l nh ni">let weather = try JSONDecoder().decode(Weather.self, from: data)</span><span id="bbce" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">self.city = weather.location?.region ?? ""</strong></span><span id="1881" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">self.temperature = (weather.current?.temperature) ?? 0</strong></span><span id="766a" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">self.description = weather.current?.weather_descriptions[0] ?? ""</strong></span><span id="9ad1" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let code = weather.current?.weather_code</strong></span><span id="23e4" class="ne mc it na b gy nj ng l nh ni">}<br/>...</span><span id="7cc0" class="ne mc it na b gy nj ng l nh ni">}</span></pre><p id="2463" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">该API提供了可以在我们的应用程序中检索和呈现的图像。您可以使用下面的代码获取图像，并在代码中使用它们:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="27d2" class="ne mc it na b gy nf ng l nh ni">struct ContentView: View {<br/><strong class="na iu">@State var imgData = Data()</strong><br/>...<br/>func getWeatherData() {<br/>...</span><span id="cc6c" class="ne mc it na b gy nj ng l nh ni">do {</span><span id="7020" class="ne mc it na b gy nj ng l nh ni">let weather = try JSONDecoder().decode(Weather.self, from: data)</span><span id="0b9f" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let url = URL(string: (weather.current?.weather_icons[0]!)!)</strong></span><span id="1a77" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">if let data = try? Data(contentsOf: url!) {</strong></span><span id="6f57" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">self.imgData = data</strong></span><span id="f18c" class="ne mc it na b gy nj ng l nh ni">}<br/>...<br/>}</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/fcb7607a73eabe6392a91f0f4fdeda55.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/1*jFO1HnF45NmW9HVlQ0yIzw.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">天气应用-渐变背景色</figcaption></figure><p id="b5c9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我将使用默认的符号/图标，而不是使用API给我的图标。</p><p id="f5aa" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了能够添加自定义图标和背景颜色，我们将创建一个函数，该函数接受天气代码并返回天气状况。你可以在Weatherstack的网站上或者直接从<a class="ae my" href="https://weatherstack.com/site_resources/weatherstack-weather-condition-codes.zip" rel="noopener ugc nofollow" target="_blank">这个链接</a>找到每个代码的天气情况。</p><p id="a204" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这些值可以用多种语言返回，并用来代替天气描述，天气描述可以从我们前面创建的“current”结构中获得。</p><p id="6ce2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下面的代码负责返回天气状况:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="7a0f" class="ne mc it na b gy nf ng l nh ni"><strong class="na iu">func</strong> getWeatherDescription (code : Int) -&gt; String {</span><span id="f1a6" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">switch</strong> code {</span><span id="da30" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 113: <strong class="na iu">return</strong> "Clear"</span><span id="e1a7" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 116: <strong class="na iu">return</strong> "Partly cloudy"</span><span id="a917" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 119: <strong class="na iu">return</strong> "Cloudy"</span><span id="6298" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 122: <strong class="na iu">return</strong> "Overcast"</span><span id="e737" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 143: <strong class="na iu">return</strong> "Mist"</span><span id="0fb6" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 176: <strong class="na iu">return</strong> "Patchy rain possible"</span><span id="cc34" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 179: <strong class="na iu">return</strong> "Patchy snow possible"</span><span id="4a85" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 182: <strong class="na iu">return</strong> "Patchy sleet possible"</span><span id="7043" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 185: <strong class="na iu">return</strong> "Patchy freezing drizzle possible"</span><span id="5c39" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 200: <strong class="na iu">return</strong> "Thundery outbreaks possible"</span><span id="ac0d" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 227: <strong class="na iu">return</strong> "Blowing snow"</span><span id="8385" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 230: <strong class="na iu">return</strong> "Blizzard"</span><span id="0723" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 248: <strong class="na iu">return</strong> "Fog"</span><span id="a26a" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 260: <strong class="na iu">return</strong> "Freezing fog"</span><span id="051b" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 263: <strong class="na iu">return</strong> "Patchy light drizzle"</span><span id="f246" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 266: <strong class="na iu">return</strong> "Light drizzle"</span><span id="eec9" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 281: <strong class="na iu">return</strong> "Freezing drizzle"</span><span id="36ec" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 284: <strong class="na iu">return</strong> "Heavy freezing drizzle"</span><span id="6c26" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 293: <strong class="na iu">return</strong> "Patchy light rain"</span><span id="bee1" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 296: <strong class="na iu">return</strong> "Light rain"</span><span id="f0ff" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 299: <strong class="na iu">return</strong> "Moderate rain at times"</span><span id="4168" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 302: <strong class="na iu">return</strong> "Moderate rain"</span><span id="b130" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 305: <strong class="na iu">return</strong> "Heavy rain at times"</span><span id="af77" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 308: <strong class="na iu">return</strong> "Heavy rain"</span><span id="72a5" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 311: <strong class="na iu">return</strong> "Light freezing rain"</span><span id="d704" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">default</strong>:</span><span id="2055" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">return</strong> "Clear"</span><span id="488a" class="ne mc it na b gy nj ng l nh ni">}</span><span id="4471" class="ne mc it na b gy nj ng l nh ni">}</span></pre><p id="7e2e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">代码113在白天和晚上可以分别是“晴朗”或“晴朗”。您可以创建一个功能来检查时间，并在晚上显示“晴朗”，在白天显示“晴朗”。</p><p id="2eaa" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我们的代码中，在JSON解码部分之后，添加一个变量来存储从上面的函数返回的值，并在其中保留函数结果:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="042a" class="ne mc it na b gy nf ng l nh ni">struct ContentView: View {<br/><strong class="na iu">@State var weatherDescription = "Clear"</strong><br/>...<br/>func getWeatherData() {<br/>...</span><span id="7d55" class="ne mc it na b gy nj ng l nh ni">do {</span><span id="eccd" class="ne mc it na b gy nj ng l nh ni">let weather = try JSONDecoder().decode(Weather.self, from: data)</span><span id="f538" class="ne mc it na b gy nj ng l nh ni">...</span><span id="dc0d" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">self.weatherDescription = self.getWeatherDescription(code: code ?? 113)</strong></span><span id="9da0" class="ne mc it na b gy nj ng l nh ni">}<br/>...<br/>}</span></pre><p id="796f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以自定义你认为合适的背景颜色。下面的代码创建了一个字典，其中包含代表天气状况的字符串和应用程序背景的线性渐变颜色:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="16d3" class="ne mc it na b gy nf ng l nh ni"><strong class="na iu">let</strong> bgColors = [</span><span id="cb6e" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">"Clear"</strong>:LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.6544341662, green: 0.9271220419, blue: 0.9764705896, alpha: 1)), Color( colorLiteral(red: 0.2392156869, green: 0.6745098233, blue: 0.9686274529, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="3880" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">"Sunny"</strong>:LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.9764705896, green: 0.850980401, blue: 0.5490196347, alpha: 1)), Color( colorLiteral(red: 0.9529411793, green: 0.8685067713, blue: 0.1800223484, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="8864" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">"Partly cloudy"</strong>:LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.5644291786, green: 0.6156922265, blue: 0.8125274491, alpha: 1)), Color( colorLiteral(red: 0.3611070699, green: 0.3893437324, blue: 0.5149981027, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="16bc" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">"Cloudy"</strong>:LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.5088317674, green: 0.5486197199, blue: 0.7256778298, alpha: 1)), Color( colorLiteral(red: 0.3843137255, green: 0.4117647059, blue: 0.5450980392, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="b841" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">"Overcast"</strong>:LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.4714559888, green: 0.41813849, blue: 0.4877657043, alpha: 1)), Color( colorLiteral(red: 0.3823538819, green: 0.3384427864, blue: 0.3941545051, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="553d" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">"Mist"</strong>:LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.8536048541, green: 0.8154317929, blue: 0.6934956985, alpha: 1)), Color( colorLiteral(red: 0.5, green: 0.3992742327, blue: 0.3267588525, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="332c" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">"Patchy rain possible"</strong>:LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.422871705, green: 0.486337462, blue: 0.7241632297, alpha: 1)), Color( colorLiteral(red: 0.3826735404, green: 0.4012053775, blue: 0.9529411793, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="1592" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">"Patchy snow possible"</strong>:LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.8229460361, green: 0.8420813229, blue: 0.9764705896, alpha: 1)), Color( colorLiteral(red: 0.6424972056, green: 0.9015246284, blue: 0.9529411793, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="fd00" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">"Patchy sleet possible"</strong>:LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.9764705896, green: 0.7979655136, blue: 0.9493740175, alpha: 1)), Color( colorLiteral(red: 0.6843526756, green: 0.7806652456, blue: 0.9529411793, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="4a1f" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">"Patchy freezing drizzle possible"</strong>:LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.6207757569, green: 0.9686274529, blue: 0.9110963382, alpha: 1)), Color( colorLiteral(red: 0.4745098054, green: 0.8392156959, blue: 0.9764705896, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="fcaa" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">"Thundery outbreaks possible"</strong>:LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.3647058904, green: 0.06666667014, blue: 0.9686274529, alpha: 1)), Color( colorLiteral(red: 0.1764705926, green: 0.01176470611, blue: 0.5607843399, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="3656" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">"Blowing snow"</strong>:LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.1764705926, green: 0.01176470611, blue: 0.5607843399, alpha: 1)), Color( colorLiteral(red: 0.09019608051, green: 0, blue: 0.3019607961, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="f20e" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">"Blizzard"</strong>:LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.9551106616, green: 0.9764705896, blue: 0.9351792135, alpha: 1)), Color( colorLiteral(red: 0.6891936611, green: 0.7095901305, blue: 0.9529411793, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="672e" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">"Fog"</strong>:LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.6324083141, green: 0.8039215803, blue: 0.7850640474, alpha: 1)), Color( colorLiteral(red: 0.4545597353, green: 0.393878495, blue: 0.5369011739, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="13df" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">"Freezing fog"</strong>:LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.8039215803, green: 0.8039215803, blue: 0.8039215803, alpha: 1)), Color( colorLiteral(red: 0.4545597353, green: 0.393878495, blue: 0.5369011739, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="3f12" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">"Patchy light drizzle"</strong>:LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.5892893535, green: 0.7170531098, blue: 0.9764705896, alpha: 1)), Color( colorLiteral(red: 0.2392156869, green: 0.6745098233, blue: 0.9686274529, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="6634" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">"Light rain"</strong>:LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.2392156869, green: 0.6745098233, blue: 0.9686274529, alpha: 1)), Color( colorLiteral(red: 0.2854045624, green: 0.4267300284, blue: 0.6992385787, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="b556" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">"Moderate rain at times"</strong>:LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.3437546921, green: 0.6157113381, blue: 0.7179171954, alpha: 1)), Color( colorLiteral(red: 0.4118283819, green: 0.5814552154, blue: 0.6975531409, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="f344" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">"Heavy rain"</strong>:LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.1764705926, green: 0.4980392158, blue: 0.7568627596, alpha: 1)), Color( colorLiteral(red: 0.1596036421, green: 0, blue: 0.5802268401, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="c369" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">"Light freezing rain"</strong>:LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.7433765433, green: 0.9529411793, blue: 0.8886958889, alpha: 1)), Color( colorLiteral(red: 0.4561494407, green: 0.6342332627, blue: 0.7568627596, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="d0d2" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">"Heavy rain at times"</strong>:LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.1764705926, green: 0.4980392158, blue: 0.7568627596, alpha: 1)), Color( colorLiteral(red: 0.1596036421, green: 0, blue: 0.5802268401, alpha: 1))]), startPoint: .top, endPoint: .bottom)</span><span id="3b91" class="ne mc it na b gy nj ng l nh ni">]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/54a80d5017df66b86f2df8c277b571c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/1*51RfDdgCp3qagd64GIYwJA.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">天气应用程序—图标图像</figcaption></figure><p id="92e7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这个项目中的图标都是系统默认图标。你可以在苹果公司创建的一个名为<a class="ae my" href="https://developer.apple.com/design/human-interface-guidelines/sf-symbols/overview/" rel="noopener ugc nofollow" target="_blank"> SF Symbols </a>的程序中找到所有可以在iOS 13和之前版本中使用的系统图标列表。</p><p id="200c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以找到超过1500个符号，其中65个是与天气相关的图标。根据你的喜好改变它们的尺寸不会影响它们的质量。它们被视为字体，要赋予它们新的大小，您可以更改字体大小。</p><p id="0ba6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">根据您的需要自定义下面的图标字典:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="2316" class="ne mc it na b gy nf ng l nh ni"><strong class="na iu">let</strong> icon = [</span><span id="b012" class="ne mc it na b gy nj ng l nh ni">"<strong class="na iu">Clear</strong>": "moon.stars.fill",</span><span id="b223" class="ne mc it na b gy nj ng l nh ni">"<strong class="na iu">Sunny</strong>": "sun.max.fill",</span><span id="5f49" class="ne mc it na b gy nj ng l nh ni">"<strong class="na iu">Partly cloudy Moon</strong>": "cloud.moon.fill",</span><span id="95cd" class="ne mc it na b gy nj ng l nh ni">"<strong class="na iu">Partly cloudy</strong>": "cloud.sun.fill",</span><span id="2484" class="ne mc it na b gy nj ng l nh ni">"<strong class="na iu">Cloudy</strong>": "cloud.fill",</span><span id="4457" class="ne mc it na b gy nj ng l nh ni">"<strong class="na iu">Overcast</strong>": "smoke.fill",</span><span id="7bf8" class="ne mc it na b gy nj ng l nh ni">"<strong class="na iu">Mist</strong>": "cloud.fog.fill",</span><span id="dcb4" class="ne mc it na b gy nj ng l nh ni">"<strong class="na iu">Patchy rain possible</strong>": "cloud.drizzle.fill",</span><span id="bb71" class="ne mc it na b gy nj ng l nh ni">"<strong class="na iu">Patchy snow possible</strong>": "cloud.hail.fill",</span><span id="255a" class="ne mc it na b gy nj ng l nh ni">"<strong class="na iu">Patchy sleet possible</strong>": "cloud.sleet.fill",</span><span id="5380" class="ne mc it na b gy nj ng l nh ni">"<strong class="na iu">Patchy freezing drizzle possible</strong>": "cloud.hail.fill",</span><span id="e393" class="ne mc it na b gy nj ng l nh ni">"<strong class="na iu">Thundery outbreaks possible</strong>": "cloud.bolt.rain.fill",</span><span id="a964" class="ne mc it na b gy nj ng l nh ni">"<strong class="na iu">Blowing snow</strong>": "cloud.snow.fill",</span><span id="1807" class="ne mc it na b gy nj ng l nh ni">"<strong class="na iu">Blizzard</strong>": "wind.snow",</span><span id="597d" class="ne mc it na b gy nj ng l nh ni">"<strong class="na iu">Fog</strong>": "cloud.fog.fill",</span><span id="bcba" class="ne mc it na b gy nj ng l nh ni">"<strong class="na iu">Freezing fog</strong>": "cloud.fog",</span><span id="40cb" class="ne mc it na b gy nj ng l nh ni">"<strong class="na iu">Patchy light drizzle</strong>": "cloud.drizzle.fill",</span><span id="066b" class="ne mc it na b gy nj ng l nh ni">"<strong class="na iu">Light rain</strong>": "cloud.rain.fill",</span><span id="8830" class="ne mc it na b gy nj ng l nh ni">"<strong class="na iu">Moderate rain at times</strong>": "cloud.rain.fill",</span><span id="6cc2" class="ne mc it na b gy nj ng l nh ni">"<strong class="na iu">Heavy rain</strong>": "cloud.heavyrain.fill",</span><span id="cf45" class="ne mc it na b gy nj ng l nh ni">"<strong class="na iu">Light freezing rain</strong>": "cloud.hail.fill",</span><span id="1199" class="ne mc it na b gy nj ng l nh ni">"<strong class="na iu">Heavy rain at times</strong>": "cloud.heavyrain.fill"</span><span id="dace" class="ne mc it na b gy nj ng l nh ni">]</span></pre></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/bb1f1006e5a684984b167a8ba03d0aab.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/1*MqrtcEi-VI8wt0ws_RZiRw.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">天气应用— SwiftUI界面</figcaption></figure><h1 id="ec26" class="mb mc it bd md me nl mg mh mi nm mk ml jz nn ka mn kc no kd mp kf np kg mr ms bi translated">斯威夫特伊</h1><p id="2b25" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">下面我提供了我的ContentView的组件。我做了一个简单的UI，包括城市名称、天气描述和温度的文本视图，以及图标的图像视图。</p><p id="0342" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我有一个布尔变量，当应用程序从API获取数据时，它会改变它的值。我使用这个变量来检查我是否获得了能够用正确的数据更新视图的数据。</p><p id="7e03" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">使用onAppear()运行从API“getWeatherData”中检索数据的函数</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="a52f" class="ne mc it na b gy nf ng l nh ni"><strong class="na iu">struct</strong> ContentView: View {<br/>...<br/>@State <strong class="na iu">var</strong> getTemp = <strong class="na iu">false</strong></span><span id="f747" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">var</strong> body: <strong class="na iu">some</strong> View {</span><span id="547f" class="ne mc it na b gy nj ng l nh ni">ZStack {</span><span id="f3f5" class="ne mc it na b gy nj ng l nh ni">bgColors[weatherDescription]</span><span id="f5ee" class="ne mc it na b gy nj ng l nh ni">VStack {</span><span id="a331" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">if</strong> getTemp {</span><span id="bba3" class="ne mc it na b gy nj ng l nh ni">Text("\(city)")</span><span id="6b21" class="ne mc it na b gy nj ng l nh ni">.foregroundColor(Color.white)</span><span id="e75e" class="ne mc it na b gy nj ng l nh ni">.font(.system(size: 40))</span><span id="2867" class="ne mc it na b gy nj ng l nh ni">Text("\(description)")</span><span id="8ae0" class="ne mc it na b gy nj ng l nh ni">.foregroundColor(Color.white)</span><span id="170f" class="ne mc it na b gy nj ng l nh ni">.font(.system(size: 25)).padding(.bottom, 60)</span><span id="298a" class="ne mc it na b gy nj ng l nh ni">.frame(maxWidth: .infinity)</span><span id="cb1d" class="ne mc it na b gy nj ng l nh ni">Image(systemName: icon[weatherDescription]!)</span><span id="ee12" class="ne mc it na b gy nj ng l nh ni">.foregroundColor(Color.white)</span><span id="68e8" class="ne mc it na b gy nj ng l nh ni">.font(.system(size: 120))</span><span id="b710" class="ne mc it na b gy nj ng l nh ni">Text("\(<strong class="na iu">self</strong>.temperature)")</span><span id="a475" class="ne mc it na b gy nj ng l nh ni">.foregroundColor(Color.white)</span><span id="a1a3" class="ne mc it na b gy nj ng l nh ni">.font(.system(size: 90))</span><span id="3883" class="ne mc it na b gy nj ng l nh ni">}</span><span id="3894" class="ne mc it na b gy nj ng l nh ni">}</span><span id="ff02" class="ne mc it na b gy nj ng l nh ni">}.edgesIgnoringSafeArea(.all)</span><span id="06a0" class="ne mc it na b gy nj ng l nh ni">.onAppear() {</span><span id="5b36" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">self</strong>.getWeatherData()</span><span id="992d" class="ne mc it na b gy nj ng l nh ni">}</span><span id="50b1" class="ne mc it na b gy nj ng l nh ni">}</span></pre><p id="50aa" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">将上面创建的布尔值添加到getWeatherData函数中。收到数据后，使用“toggle”将其值从false更改为true:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="f5f1" class="ne mc it na b gy nf ng l nh ni">func getWeatherData() {</span><span id="9c77" class="ne mc it na b gy nj ng l nh ni">...</span><span id="e40b" class="ne mc it na b gy nj ng l nh ni">do {</span><span id="03ff" class="ne mc it na b gy nj ng l nh ni">...</span><span id="006c" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">self.getTemp.toggle()</strong></span><span id="63b5" class="ne mc it na b gy nj ng l nh ni">...</span><span id="a4cb" class="ne mc it na b gy nj ng l nh ni">}.resume()</span><span id="8e73" class="ne mc it na b gy nj ng l nh ni">}</span></pre><p id="5fc2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们完了！您可以在下面找到完整的项目代码:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="6cdb" class="ne mc it na b gy nf ng l nh ni"><strong class="na iu">import</strong> SwiftUI</span><span id="8c47" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">struct</strong> ContentView: View {</span><span id="1b87" class="ne mc it na b gy nj ng l nh ni">@State <strong class="na iu">var</strong> imgData = Data()</span><span id="50a0" class="ne mc it na b gy nj ng l nh ni">@State <strong class="na iu">var</strong> getTemp = <strong class="na iu">false</strong></span><span id="cd67" class="ne mc it na b gy nj ng l nh ni">@State <strong class="na iu">var</strong> city = ""</span><span id="3aac" class="ne mc it na b gy nj ng l nh ni">@State <strong class="na iu">var</strong> temperature = 0</span><span id="d80b" class="ne mc it na b gy nj ng l nh ni">@State <strong class="na iu">var</strong> description = ""</span><span id="c566" class="ne mc it na b gy nj ng l nh ni">//---------</span><span id="8d2d" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> bgColors = [</span><span id="333b" class="ne mc it na b gy nj ng l nh ni">"Clear":LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.6544341662, green: 0.9271220419, blue: 0.9764705896, alpha: 1)), Color( colorLiteral(red: 0.2392156869, green: 0.6745098233, blue: 0.9686274529, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="959a" class="ne mc it na b gy nj ng l nh ni">"Sunny":LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.9764705896, green: 0.850980401, blue: 0.5490196347, alpha: 1)), Color( colorLiteral(red: 0.9529411793, green: 0.8685067713, blue: 0.1800223484, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="f07b" class="ne mc it na b gy nj ng l nh ni">"Partly cloudy":LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.5644291786, green: 0.6156922265, blue: 0.8125274491, alpha: 1)), Color( colorLiteral(red: 0.3611070699, green: 0.3893437324, blue: 0.5149981027, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="ef48" class="ne mc it na b gy nj ng l nh ni">"Cloudy":LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.5088317674, green: 0.5486197199, blue: 0.7256778298, alpha: 1)), Color( colorLiteral(red: 0.3843137255, green: 0.4117647059, blue: 0.5450980392, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="a731" class="ne mc it na b gy nj ng l nh ni">"Overcast":LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.4714559888, green: 0.41813849, blue: 0.4877657043, alpha: 1)), Color( colorLiteral(red: 0.3823538819, green: 0.3384427864, blue: 0.3941545051, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="4260" class="ne mc it na b gy nj ng l nh ni">"Mist":LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.8536048541, green: 0.8154317929, blue: 0.6934956985, alpha: 1)), Color( colorLiteral(red: 0.5, green: 0.3992742327, blue: 0.3267588525, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="992b" class="ne mc it na b gy nj ng l nh ni">"Patchy rain possible":LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.422871705, green: 0.486337462, blue: 0.7241632297, alpha: 1)), Color( colorLiteral(red: 0.3826735404, green: 0.4012053775, blue: 0.9529411793, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="e70f" class="ne mc it na b gy nj ng l nh ni">"Patchy snow possible":LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.8229460361, green: 0.8420813229, blue: 0.9764705896, alpha: 1)), Color( colorLiteral(red: 0.6424972056, green: 0.9015246284, blue: 0.9529411793, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="02d4" class="ne mc it na b gy nj ng l nh ni">"Patchy sleet possible":LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.9764705896, green: 0.7979655136, blue: 0.9493740175, alpha: 1)), Color( colorLiteral(red: 0.6843526756, green: 0.7806652456, blue: 0.9529411793, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="8f64" class="ne mc it na b gy nj ng l nh ni">"Patchy freezing drizzle possible":LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.6207757569, green: 0.9686274529, blue: 0.9110963382, alpha: 1)), Color( colorLiteral(red: 0.4745098054, green: 0.8392156959, blue: 0.9764705896, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="2d48" class="ne mc it na b gy nj ng l nh ni">"Thundery outbreaks possible":LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.3647058904, green: 0.06666667014, blue: 0.9686274529, alpha: 1)), Color( colorLiteral(red: 0.1764705926, green: 0.01176470611, blue: 0.5607843399, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="827d" class="ne mc it na b gy nj ng l nh ni">"Blowing snow":LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.1764705926, green: 0.01176470611, blue: 0.5607843399, alpha: 1)), Color( colorLiteral(red: 0.09019608051, green: 0, blue: 0.3019607961, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="692b" class="ne mc it na b gy nj ng l nh ni">"Blizzard":LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.9551106616, green: 0.9764705896, blue: 0.9351792135, alpha: 1)), Color( colorLiteral(red: 0.6891936611, green: 0.7095901305, blue: 0.9529411793, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="e476" class="ne mc it na b gy nj ng l nh ni">"Fog":LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.6324083141, green: 0.8039215803, blue: 0.7850640474, alpha: 1)), Color( colorLiteral(red: 0.4545597353, green: 0.393878495, blue: 0.5369011739, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="8286" class="ne mc it na b gy nj ng l nh ni">"Freezing fog":LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.8039215803, green: 0.8039215803, blue: 0.8039215803, alpha: 1)), Color( colorLiteral(red: 0.4545597353, green: 0.393878495, blue: 0.5369011739, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="cd84" class="ne mc it na b gy nj ng l nh ni">"Patchy light drizzle":LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.5892893535, green: 0.7170531098, blue: 0.9764705896, alpha: 1)), Color( colorLiteral(red: 0.2392156869, green: 0.6745098233, blue: 0.9686274529, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="63a9" class="ne mc it na b gy nj ng l nh ni">"Light rain":LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.2392156869, green: 0.6745098233, blue: 0.9686274529, alpha: 1)), Color( colorLiteral(red: 0.2854045624, green: 0.4267300284, blue: 0.6992385787, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="6847" class="ne mc it na b gy nj ng l nh ni">"Moderate rain at times":LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.3437546921, green: 0.6157113381, blue: 0.7179171954, alpha: 1)), Color( colorLiteral(red: 0.4118283819, green: 0.5814552154, blue: 0.6975531409, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="4e84" class="ne mc it na b gy nj ng l nh ni">"Heavy rain":LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.1764705926, green: 0.4980392158, blue: 0.7568627596, alpha: 1)), Color( colorLiteral(red: 0.1596036421, green: 0, blue: 0.5802268401, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="c0d8" class="ne mc it na b gy nj ng l nh ni">"Light freezing rain":LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.7433765433, green: 0.9529411793, blue: 0.8886958889, alpha: 1)), Color( colorLiteral(red: 0.4561494407, green: 0.6342332627, blue: 0.7568627596, alpha: 1))]), startPoint: .top, endPoint: .bottom),</span><span id="1bc1" class="ne mc it na b gy nj ng l nh ni">"Heavy rain at times":LinearGradient(gradient: Gradient(colors: [Color( colorLiteral(red: 0.1764705926, green: 0.4980392158, blue: 0.7568627596, alpha: 1)), Color( colorLiteral(red: 0.1596036421, green: 0, blue: 0.5802268401, alpha: 1))]), startPoint: .top, endPoint: .bottom)</span><span id="e9c8" class="ne mc it na b gy nj ng l nh ni">]</span><span id="a7bb" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> icon = [</span><span id="a144" class="ne mc it na b gy nj ng l nh ni">"Clear": "moon.stars.fill",</span><span id="90ef" class="ne mc it na b gy nj ng l nh ni">"Sunny": "sun.max.fill",</span><span id="b9bb" class="ne mc it na b gy nj ng l nh ni">"Partly cloudy Moon": "cloud.moon.fill",</span><span id="dbca" class="ne mc it na b gy nj ng l nh ni">"Partly cloudy": "cloud.sun.fill",</span><span id="c431" class="ne mc it na b gy nj ng l nh ni">"Cloudy": "cloud.fill",</span><span id="a888" class="ne mc it na b gy nj ng l nh ni">"Overcast": "smoke.fill",</span><span id="ddc1" class="ne mc it na b gy nj ng l nh ni">"Mist": "cloud.fog.fill",</span><span id="9eb2" class="ne mc it na b gy nj ng l nh ni">"Patchy rain possible": "cloud.drizzle.fill",</span><span id="ef64" class="ne mc it na b gy nj ng l nh ni">"Patchy snow possible": "cloud.hail.fill",</span><span id="ed7f" class="ne mc it na b gy nj ng l nh ni">"Patchy sleet possible": "cloud.sleet.fill",</span><span id="9a1e" class="ne mc it na b gy nj ng l nh ni">"Patchy freezing drizzle possible": "cloud.hail.fill",</span><span id="c499" class="ne mc it na b gy nj ng l nh ni">"Thundery outbreaks possible": "cloud.bolt.rain.fill",</span><span id="1bb0" class="ne mc it na b gy nj ng l nh ni">"Blowing snow": "cloud.snow.fill",</span><span id="da8f" class="ne mc it na b gy nj ng l nh ni">"Blizzard": "wind.snow",</span><span id="532d" class="ne mc it na b gy nj ng l nh ni">"Fog": "cloud.fog.fill",</span><span id="3817" class="ne mc it na b gy nj ng l nh ni">"Freezing fog": "cloud.fog",</span><span id="6bab" class="ne mc it na b gy nj ng l nh ni">"Patchy light drizzle": "cloud.drizzle.fill",</span><span id="f58c" class="ne mc it na b gy nj ng l nh ni">"Light rain": "cloud.rain.fill",</span><span id="7016" class="ne mc it na b gy nj ng l nh ni">"Moderate rain at times": "cloud.rain.fill",</span><span id="5dc8" class="ne mc it na b gy nj ng l nh ni">"Heavy rain": "cloud.heavyrain.fill",</span><span id="36c3" class="ne mc it na b gy nj ng l nh ni">"Light freezing rain": "cloud.hail.fill",</span><span id="a97f" class="ne mc it na b gy nj ng l nh ni">"Heavy rain at times": "cloud.heavyrain.fill"</span><span id="8fb6" class="ne mc it na b gy nj ng l nh ni">]</span><span id="1ad7" class="ne mc it na b gy nj ng l nh ni">//-------------------</span><span id="c533" class="ne mc it na b gy nj ng l nh ni">@State <strong class="na iu">var</strong> weatherDescription = "Clear"</span><span id="dbf6" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">var</strong> body: <strong class="na iu">some</strong> View {</span><span id="51d5" class="ne mc it na b gy nj ng l nh ni">ZStack {</span><span id="632f" class="ne mc it na b gy nj ng l nh ni">bgColors[weatherDescription]</span><span id="9226" class="ne mc it na b gy nj ng l nh ni">VStack {</span><span id="9939" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">if</strong> getTemp {</span><span id="5b58" class="ne mc it na b gy nj ng l nh ni">Text("\(city)")</span><span id="8116" class="ne mc it na b gy nj ng l nh ni">.foregroundColor(Color.white)</span><span id="4c2e" class="ne mc it na b gy nj ng l nh ni">.font(.system(size: 40))</span><span id="a213" class="ne mc it na b gy nj ng l nh ni">Text("\(description)")</span><span id="e2ec" class="ne mc it na b gy nj ng l nh ni">.foregroundColor(Color.white)</span><span id="dfb9" class="ne mc it na b gy nj ng l nh ni">.font(.system(size: 25)).padding(.bottom, 60)</span><span id="9b27" class="ne mc it na b gy nj ng l nh ni">.frame(maxWidth: .infinity)</span><span id="715a" class="ne mc it na b gy nj ng l nh ni">Image(systemName: icon[weatherDescription]!)</span><span id="dade" class="ne mc it na b gy nj ng l nh ni">.foregroundColor(Color.white)</span><span id="2d7f" class="ne mc it na b gy nj ng l nh ni">.font(.system(size: 120))</span><span id="5dd7" class="ne mc it na b gy nj ng l nh ni">Text("\(<strong class="na iu">self</strong>.temperature)")</span><span id="a1e1" class="ne mc it na b gy nj ng l nh ni">.foregroundColor(Color.white)</span><span id="a4b2" class="ne mc it na b gy nj ng l nh ni">.font(.system(size: 90))</span><span id="b147" class="ne mc it na b gy nj ng l nh ni">}</span><span id="aea1" class="ne mc it na b gy nj ng l nh ni">}</span><span id="8be4" class="ne mc it na b gy nj ng l nh ni">}.edgesIgnoringSafeArea(.all)</span><span id="ce17" class="ne mc it na b gy nj ng l nh ni">.onAppear() {</span><span id="dd00" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">self</strong>.getWeatherData()</span><span id="6ec5" class="ne mc it na b gy nj ng l nh ni">}</span><span id="3461" class="ne mc it na b gy nj ng l nh ni">}</span><span id="402c" class="ne mc it na b gy nj ng l nh ni">//MARK:<strong class="na iu"> - JSON</strong></span><span id="1c08" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">func</strong> getWeatherData() {</span><span id="ba56" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> jsonURLString = "http://api.weatherstack.com/current?access_key=<strong class="na iu">YOUR_ACCESS_KEY</strong>&amp;query=New%20York"</span><span id="8bf3" class="ne mc it na b gy nj ng l nh ni">// make URL</span><span id="9bf3" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">guard</strong> <strong class="na iu">let</strong> url = URL(string: jsonURLString) <strong class="na iu">else</strong> { <strong class="na iu">return</strong> }</span><span id="0423" class="ne mc it na b gy nj ng l nh ni">// start a session</span><span id="cbb9" class="ne mc it na b gy nj ng l nh ni">URLSession.shared.dataTask(with: url) { (data, response, error) <strong class="na iu">in</strong></span><span id="8229" class="ne mc it na b gy nj ng l nh ni">// check for error</span><span id="a018" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">if</strong> error != <strong class="na iu">nil</strong> {</span><span id="d7e6" class="ne mc it na b gy nj ng l nh ni">print(error!.localizedDescription)</span><span id="c953" class="ne mc it na b gy nj ng l nh ni">}</span><span id="9a8a" class="ne mc it na b gy nj ng l nh ni">// check for 200 OK status</span><span id="e504" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">guard</strong> <strong class="na iu">let</strong> data = data <strong class="na iu">else</strong> { <strong class="na iu">return</strong> }</span><span id="3bc5" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">do</strong> {</span><span id="bb3e" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> weather = <strong class="na iu">try</strong> JSONDecoder().decode(Weather.<strong class="na iu">self</strong>, from: data)</span><span id="5a35" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">self</strong>.city = weather.location?.region ?? ""</span><span id="3308" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">self</strong>.temperature = (weather.current?.temperature) ?? 0</span><span id="d16e" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">self</strong>.description = weather.current?.weather_descriptions[0] ?? ""</span><span id="03e4" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> code = weather.current?.weather_code</span><span id="a4eb" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">self</strong>.weatherDescription = <strong class="na iu">self</strong>.getWeatherDescription(code: code ?? 113)</span><span id="9b8b" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> url = URL(string: (weather.current?.weather_icons[0]!)!)</span><span id="a019" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">if</strong> <strong class="na iu">let</strong> data = <strong class="na iu">try</strong>? Data(contentsOf: url!) {</span><span id="ac48" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">self</strong>.imgData = data</span><span id="b882" class="ne mc it na b gy nj ng l nh ni">}</span><span id="6ddf" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">self</strong>.getTemp.toggle()</span><span id="99cd" class="ne mc it na b gy nj ng l nh ni">} <strong class="na iu">catch</strong> <strong class="na iu">let</strong> err {</span><span id="f9dd" class="ne mc it na b gy nj ng l nh ni">print ("Json Err", err)</span><span id="f35a" class="ne mc it na b gy nj ng l nh ni">}</span><span id="eb00" class="ne mc it na b gy nj ng l nh ni">}.resume()</span><span id="bca3" class="ne mc it na b gy nj ng l nh ni">}</span><span id="1716" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">func</strong> getWeatherDescription (code : Int) -&gt; String {</span><span id="0cf5" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">switch</strong> code {</span><span id="fe49" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 113: <strong class="na iu">return</strong> "Clear" // or Sunny</span><span id="dab3" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 116: <strong class="na iu">return</strong> "Partly cloudy"</span><span id="3674" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 119: <strong class="na iu">return</strong> "Cloudy"</span><span id="a691" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 122: <strong class="na iu">return</strong> "Overcast"</span><span id="aad3" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 143: <strong class="na iu">return</strong> "Mist"</span><span id="edf3" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 176: <strong class="na iu">return</strong> "Patchy rain possible"</span><span id="39ed" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 179: <strong class="na iu">return</strong> "Patchy snow possible"</span><span id="f6db" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 182: <strong class="na iu">return</strong> "Patchy sleet possible"</span><span id="9f1b" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 185: <strong class="na iu">return</strong> "Patchy freezing drizzle possible"</span><span id="5ae7" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 200: <strong class="na iu">return</strong> "Thundery outbreaks possible"</span><span id="b15f" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 227: <strong class="na iu">return</strong> "Blowing snow"</span><span id="5d0b" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 230: <strong class="na iu">return</strong> "Blizzard"</span><span id="c5e6" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 248: <strong class="na iu">return</strong> "Fog"</span><span id="04cf" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 260: <strong class="na iu">return</strong> "Freezing fog"</span><span id="36a8" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 263: <strong class="na iu">return</strong> "Patchy light drizzle"</span><span id="628f" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 266: <strong class="na iu">return</strong> "Light drizzle"</span><span id="c355" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 281: <strong class="na iu">return</strong> "Freezing drizzle"</span><span id="317e" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 284: <strong class="na iu">return</strong> "Heavy freezing drizzle"</span><span id="00e7" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 293: <strong class="na iu">return</strong> "Patchy light rain"</span><span id="7ec7" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 296: <strong class="na iu">return</strong> "Light rain"</span><span id="51ed" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 299: <strong class="na iu">return</strong> "Moderate rain at times"</span><span id="f04b" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 302: <strong class="na iu">return</strong> "Moderate rain"</span><span id="c1c5" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 305: <strong class="na iu">return</strong> "Heavy rain at times"</span><span id="d3c0" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 308: <strong class="na iu">return</strong> "Heavy rain"</span><span id="0d46" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">case</strong> 311: <strong class="na iu">return</strong> "Light freezing rain"</span><span id="c6f5" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">default</strong>:</span><span id="3de1" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">return</strong> "Clear"</span><span id="fc1d" class="ne mc it na b gy nj ng l nh ni">}</span><span id="87eb" class="ne mc it na b gy nj ng l nh ni">}</span><span id="f849" class="ne mc it na b gy nj ng l nh ni">}</span><span id="4ed7" class="ne mc it na b gy nj ng l nh ni">// MAKE STRUCT VARIABLES OPTIONAL TO PREVENT CRASHING WHEN VARIABLE IS EMPTY</span><span id="4fde" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">struct</strong> Current : Decodable {</span><span id="8bfb" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> observation_time : String?</span><span id="97c6" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> temperature : Int?</span><span id="1966" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> weather_code : Int?</span><span id="9cb5" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> weather_icons : [String?]</span><span id="670d" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> weather_descriptions : [String?]</span><span id="2e5d" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> wind_speed : Int?</span><span id="eb76" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> wind_degree : Int?</span><span id="a33d" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> wind_dir : String?</span><span id="b94d" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> pressure : Int?</span><span id="91c5" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> precip : Double?</span><span id="8866" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> humidity : Int?</span><span id="9dff" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> cloudcover : Int?</span><span id="9faf" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> feelslike : Int?</span><span id="9704" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> uv_index : Int?</span><span id="5422" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> visibility : Int?</span><span id="561e" class="ne mc it na b gy nj ng l nh ni">}</span><span id="1879" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">struct</strong> Location : Decodable {</span><span id="782f" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> name : String?</span><span id="d60a" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> country : String?</span><span id="40ef" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> region : String?</span><span id="aad0" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> lat : String?</span><span id="ab63" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> lon : String?</span><span id="8404" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> timezone_id : String?</span><span id="b6b1" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> localtime : String?</span><span id="4370" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> localtime_epoch : Int?</span><span id="5926" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> utc_offset : String?</span><span id="907a" class="ne mc it na b gy nj ng l nh ni">}</span><span id="5e28" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">struct</strong> Weather : Decodable {</span><span id="b2b6" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> request : Request?</span><span id="0c67" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> location : Location?</span><span id="4950" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> current : Current?</span><span id="ae0a" class="ne mc it na b gy nj ng l nh ni">}<br/></span><span id="54ff" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">struct</strong> Request : Decodable {</span><span id="35ec" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> type : String?</span><span id="92ea" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> query : String?</span><span id="bdda" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> language : String?</span><span id="95ca" class="ne mc it na b gy nj ng l nh ni"><strong class="na iu">let</strong> unit : String?</span><span id="24e0" class="ne mc it na b gy nj ng l nh ni">}</span></pre></div></div>    
</body>
</html>