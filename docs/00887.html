<html>
<head>
<title>Do not laugh â€” A simple AI powered game using TensorFlow.js and Electron</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä¸è¦ç¬‘â€”â€”ä¸€ä¸ªç®€å•çš„äººå·¥æ™ºèƒ½é©±åŠ¨çš„æ¸¸æˆï¼Œä½¿ç”¨TensorFlow.jså’ŒElectron</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/do-not-laugh-a-simple-ai-powered-game-3e22ad0f8166?source=collection_archive---------2-----------------------#2019-09-04">https://levelup.gitconnected.com/do-not-laugh-a-simple-ai-powered-game-3e22ad0f8166?source=collection_archive---------2-----------------------#2019-09-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="0bbe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¾ˆé•¿ä¸€æ®µæ—¶é—´ä»¥æ¥ï¼Œæˆ‘ä¸€ç›´åœ¨è¯„ä¼°å¦‚ä½•åˆ©ç”¨äººå·¥æ™ºèƒ½æŠ€æœ¯æ¥å¹³è¡¡æ•°å­—åº”ç”¨ç¨‹åºçš„ç”¨æˆ·ä½“éªŒï¼Œç”šè‡³å®ç°å…¨æ–°çš„UI / UXæ¦‚å¿µã€‚</p><p id="e072" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æœ€è¿‘æˆ‘å¶ç„¶å‘ç°äº†å‡ ç¯‡ <a class="ae kl" href="https://medium.com/@jsflo.dev/training-a-tensorflow-model-to-recognize-emotions-a20c3bcd6468" rel="noopener">æ–‡ç« </a>ï¼Œæè¿°äº†å¦‚ä½•è®­ç»ƒCNN(å·ç§¯ç¥ç»ç½‘ç»œ)è¯†åˆ«ä¸€ä¸ªäººé€šè¿‡é¢éƒ¨è¡¨æƒ…è¡¨è¾¾çš„æƒ…ç»ªã€‚è¿™å¬èµ·æ¥åƒæ˜¯ä¸€ä¸ªåˆ›å»ºç”¨æˆ·ç•Œé¢çš„æœ‰è¶£æƒ³æ³•ï¼Œæ‰€ä»¥ä¸ºäº†æµ‹è¯•å®ƒï¼Œæˆ‘æƒ³å‡ºäº†ä¸€ä¸ªç®€å•çš„æ¸¸æˆï¼Œå«åšâ€œä¸è¦ç¬‘â€ã€‚</p><p id="ca16" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ¸¸æˆæœ¬èº«éå¸¸ç®€å•ã€‚å®ƒä¼šä»YouTubeä¸Šéšæœºæ’­æ”¾ä¸€æ®µæœ‰è¶£çš„è§†é¢‘ï¼Œä½ å”¯ä¸€çš„å·¥ä½œå°±æ˜¯:ä¸è¦ç¬‘ï¼<strong class="jp ir">å¦‚æœäººå·¥æ™ºèƒ½å‘ç°ä½ åœ¨ç¬‘ï¼Œæ¸¸æˆå°±ç»“æŸäº†ã€‚</strong>æ‰€ä»¥æˆ‘å¼€å§‹ç”¨Vue.jså’Œæœ€è¿‘æˆä¸ºæˆ‘é¦–é€‰çš„å‰ç«¯æ¡†æ¶çš„Electronåˆ›å»ºè¿™ä¸ªæ¸¸æˆã€‚</p><div class="km kn ko kp gt ab cb"><figure class="kq kr ks kt ku kv kw paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><img src="../Images/72df3ad91244632ef5b4dbf22796c069.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*DBa-vAS4LODBvSCp-NLwaQ.png"/></div></figure><figure class="kq kr ks kt ku kv kw paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><img src="../Images/f2062b05e8e3da5beeb3077627c84c68.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0BYYv2z4K1KjqhShhf5eRQ.png"/></div></figure><figure class="kq kr ks kt ku kv kw paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><img src="../Images/f047478138ae27562f37d59bce52b619.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*69Q9d311CqjLe1UcWNUPuw.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk lh di li lj translated">è¯·åŸè°…æ¼«ç”»ä¹¦çš„éšæ„ä½¿ç”¨</figcaption></figure></div><p id="d93a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨åŸºäºHTML5 / JavaScriptçš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨äººå·¥æ™ºèƒ½å’Œæœºå™¨å­¦ä¹ æŠ€æœ¯æ˜¯ä¸€ä»¶ç›¸å½“æ–°çš„äº‹æƒ…ï¼Œæ‰€ä»¥æˆ‘å†³å®šåœ¨æœ¬æ–‡ä¸­å†™ä¸‹æˆ‘çš„ç»éªŒï¼Œå¹¶ä¸æ‚¨åˆ†äº«ä¸€äº›æœ€ä½³å®è·µã€‚å¦‚æœä½ å¯¹æ‰€æœ‰çš„ç»†èŠ‚ä¸æ„Ÿå…´è¶£ï¼Œä½ ä¹Ÿå¯ä»¥ä»è¿™é‡Œä¸‹è½½æ‰€æœ‰çš„æºä»£ç ã€‚</p></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><h1 id="8b79" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">å¦‚ä½•ç»™ä¸€ä¸ªVue.js +ç”µå­appæ·»åŠ TensorFlow</h1><p id="2f33" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">å¦‚æœä½ ä»¥å‰ç©è¿‡äººå·¥æ™ºèƒ½æˆ–æœºå™¨å­¦ä¹ ä»£ç ï¼Œä½ å¯èƒ½å·²ç»è§è¿‡ä¸€ä¸ªåä¸º<a class="ae kl" href="https://www.tensorflow.org/" rel="noopener ugc nofollow" target="_blank"> TensorFlow </a>çš„åº“åœ¨è¿è¡Œã€‚TensorFlowæ˜¯è°·æ­Œç”¨äºæœºå™¨å­¦ä¹ (ML)çš„å¼€æºäººå·¥æ™ºèƒ½æ¡†æ¶ï¼Œå®ƒè¢«å¹¿æ³›ç”¨äºå›¾åƒåˆ†ç±»ç­‰ä»»åŠ¡â€”â€”è¿™æ­£æ˜¯æˆ‘ä»¬çš„å°æ¸¸æˆæ‰€éœ€è¦çš„ã€‚å”¯ä¸€çš„ç¼ºç‚¹æ˜¯ï¼Œå®ƒæ˜¯ä¸€ä¸ªPythonåº“ï¼Œåªèƒ½ä½¿ç”¨nVidia GPUsè¿›è¡ŒåŠ é€Ÿã€‚æ˜¯çš„ï¼Œåœ¨åšä»»ä½•ä¸MLç›¸å…³çš„äº‹æƒ…æ—¶ï¼Œä½ ç»å¯¹éœ€è¦GPUåŠ é€Ÿã€‚</p><h2 id="8c7e" class="mu ls iq bd lt mv mw dn lx mx my dp mb jy mz na mf kc nb nc mj kg nd ne mn nf bi translated">è¾“å…¥TensorFlow.jså’ŒWebGL GPUåŠ é€Ÿ</h2><p id="9cf8" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">å¹¸è¿çš„æ˜¯ï¼ŒTensorFlowå›¢é˜Ÿå·²ç»å°†è¯¥åº“ç§»æ¤åˆ°JavaScriptï¼Œå¹¶å‘å¸ƒäº†<a class="ae kl" href="https://www.tensorflow.org/js" rel="noopener ugc nofollow" target="_blank"> TensorFlow.js </a> (tfjs)ï¼Œè®©æˆ‘ä»¬å¯ä»¥åœ¨ç”µå­åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨å®ƒã€‚æ›´å¥½çš„æ˜¯ï¼Œä»–ä»¬æ›´è¿›ä¸€æ­¥ï¼Œæ·»åŠ äº†åŸºäºWebGLçš„GPUåŠ é€Ÿï¼Œæ”¯æŒä»»ä½•ç°ä»£GPUï¼Œä¸å†é™åˆ¶æˆ‘ä»¬ä½¿ç”¨æ”¯æŒnVidiaå’ŒCUDAçš„ç¡¬ä»¶ğŸ‘‹ ğŸ‘‹ ğŸ‘‹ã€‚ä¸ºæ­¤å¹²æ¯ğŸºï¼</p><figure class="km kn ko kp gt kr gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/4be4602177cd8709712bc09eaabb1b8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*TU80N0PC552ic-LMGcoffA.jpeg"/></div></figure><h2 id="3d40" class="mu ls iq bd lt mv mw dn lx mx my dp mb jy mz na mf kc nb nc mj kg nd ne mn nf bi translated">ä½¿ç”¨face-api.jsè®©äº‹æƒ…å˜å¾—æ›´åŠ ç®€å•</h2><p id="3faa" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæˆ‘ä»¬åŸºæœ¬ä¸Šéƒ½è®¾ç½®å¥½äº†ã€‚æˆ‘ä»¬æ‰‹å¤´æœ‰ä¸€ä¸ªå¼ºå¤§çš„åº“ï¼Œå¹¶ä¸”æœ‰é¢„è®­ç»ƒçš„æ¨¡å‹å¯ç”¨äºæƒ…ç»ªæ£€æµ‹ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥èŠ‚çœæ—¶é—´å’Œéº»çƒ¦æ¥è®­ç»ƒæˆ‘ä»¬è‡ªå·±çš„æ¨¡å‹ã€‚</p><p id="1c9e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å½“æˆ‘å†™ä¸€äº›åˆå§‹ä»£ç æ—¶ï¼Œæˆ‘å‘ç°<a class="nh ni ep" href="https://medium.com/u/ffd42e31db07?source=post_page-----3e22ad0f8166--------------------------------" rel="noopener" target="_blank">æ–‡æ£®ç‰¹Â·ç±³å‹’</a>å·²ç»åˆ›å»ºäº†ä¸€ä¸ªåä¸º<a class="ae kl" href="https://itnext.io/face-api-js-javascript-api-for-face-recognition-in-the-browser-with-tensorflow-js-bcc2a6c4cf07" rel="noopener ugc nofollow" target="_blank"> face-api.js </a>çš„é«˜çº§apiï¼Œå®ƒåŸºäºTensorFlow.jsæ„å»ºï¼ŒåŒ…è£…äº†æ‰€æœ‰ä½çº§æ“ä½œï¼Œå¹¶ä¸ºäººè„¸è¯†åˆ«å’Œæƒ…æ„Ÿæ£€æµ‹ç­‰å¸¸è§ä»»åŠ¡æä¾›äº†ä¸€ä¸ªæ–¹ä¾¿çš„APIã€‚ä»–è¿˜åœ¨ä»–çš„<a class="ae kl" href="https://github.com/justadudewhohacks/face-api.js" rel="noopener ugc nofollow" target="_blank"> GitHubåº“</a>ä¸Šæä¾›äº†è®¸å¤šç¤ºä¾‹ä»£ç ï¼Œæ‰€ä»¥æˆ‘èƒ½å¤Ÿåœ¨å‡ åˆ†é’Ÿå†…æ„å»ºæˆ‘çš„ç¬¬ä¸€ä¸ªæƒ…æ„Ÿè¯†åˆ«å™¨ã€‚</p></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><h1 id="0252" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">å°†åº”ç”¨ç¨‹åºæ”¾åœ¨ä¸€èµ·</h1><p id="2c69" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">å…ˆè¯´æ•´ä½“æ¸¸æˆæ¶æ„ã€‚ä½¿ç”¨ç”µå­æ„å‘³ç€æˆ‘ä»¬æœ‰ä¸€ä¸ªé“¬æ¸²æŸ“å™¨è¿‡ç¨‹ï¼Œè¿™å°†æˆä¸ºæˆ‘ä»¬çš„æ¸¸æˆç”¨æˆ·ç•Œé¢ã€‚å®ƒä¼šå›æ”¾è§†é¢‘æ–‡ä»¶ï¼Œæ˜¾ç¤ºä½ çš„ç›´æ’­é•œå¤´ï¼Œå½“ç„¶è¿˜ä¼šè¿è¡Œæ¸¸æˆé€»è¾‘â€”â€”ä½ ç¬‘äº†ï¼Œä½ å°±è¾“äº†ã€‚</p><p id="43a8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">é‚£ä¹ˆï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®é™…çš„æƒ…ç»ªæ£€æµ‹å‘ç”Ÿåœ¨å“ªé‡Œå‘¢ï¼Ÿè¦å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œä½ éœ€è¦è®°ä½ä¸¤ä»¶äº‹:</p><ul class=""><li id="735d" class="nj nk iq jp b jq jr ju jv jy nl kc nm kg nn kk no np nq nr bi translated">å®æ—¶æƒ…æ„Ÿæ£€æµ‹æ˜¯ä¸€é¡¹éå¸¸è€—è´¹èµ„æºçš„ä»»åŠ¡ã€‚å³ä½¿æ˜¯ä¸€ä¸ªå¥½çš„GPUä¹Ÿå¯èƒ½åªèƒ½äº§ç”Ÿå¤§çº¦20-30 FPSçš„é€Ÿåº¦ã€‚</li><li id="a688" class="nj nk iq jp b jq ns ju nt jy nu kc nv kg nw kk no np nq nr bi translated">åœ¨ç”µå­æ¸²æŸ“å™¨ä¸­è¿è¡Œèµ„æºå¯†é›†å‹ä»»åŠ¡å°†å¯¼è‡´è¯¥æ¸²æŸ“å™¨çš„UIå˜å¾—æ— å“åº”ã€‚</li></ul><p id="241e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸ºäº†ä¿æŒäº‹æƒ…é¡ºåˆ©è¿›è¡Œï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•å°†ç¹é‡çš„å·¥ä½œè½¬ç§»åˆ°ä¸€ä¸ªå•ç‹¬çš„æµç¨‹ä¸­ã€‚å¹¸è¿çš„æ˜¯ï¼ŒElectronå¯ä»¥ä½¿ç”¨éšè—æ¸²æŸ“å™¨åšåˆ°è¿™ä¸€ç‚¹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æœ€ç»ˆçš„æ¸¸æˆæ¶æ„çœ‹èµ·æ¥åƒè¿™æ ·:</p><figure class="km kn ko kp gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nx"><img src="../Images/c94caba3f223a7fb41288340839e1a01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v43KOE42zfJYJwbUvCGBGA.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">åœ¨éšè—æ¸²æŸ“å™¨ä¸­è¿è¡ŒTensorFlow.js / face-api</figcaption></figure><p id="3d0a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨è¿™ä¸ªåœºæ™¯ä¸­ï¼Œæˆ‘ä»¬è®©face-apiåœ¨ä¸€ä¸ªéšè—çš„æ¸²æŸ“å™¨(â€œæ£€æµ‹å·¥ä½œå™¨â€)ä¸­è¿è¡Œï¼Œä¸æ–­è¯„ä¼°ç°åœºæ‘„åƒæœºæµä¸­çš„æƒ…ç»ªã€‚å¦‚æœæ£€æµ‹åˆ°æƒ…ç»ªï¼Œå·¥ä½œè€…å°†å‘æ¸¸æˆå‘é€å¸¦æœ‰æ£€æµ‹åˆ°çš„æƒ…ç»ªçš„IPCæ¶ˆæ¯ã€‚åœ¨æ¸¸æˆä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°å°†è¿™äº›æ¶ˆæ¯è§†ä¸ºäº‹ä»¶ï¼Œå¹¶åšå‡ºç›¸åº”çš„ååº”ã€‚</p><h2 id="d236" class="mu ls iq bd lt mv mw dn lx mx my dp mb jy mz na mf kc nb nc mj kg nd ne mn nf bi translated">åˆ›å»ºæ–°çš„Vue.js /ç”µå­åº”ç”¨ç¨‹åº</h2><p id="5701" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">è¦åˆ›å»ºä½ çš„åº”ç”¨æ ·æ¿æ–‡ä»¶<a class="ae kl" href="https://medium.com/@andreas.schallwig/building-html5-kiosk-applications-with-vue-js-and-electron-c64ac928b59f" rel="noopener">ï¼Œä½ å¯ä»¥æŒ‰ç…§æˆ‘è¿™é‡Œçš„è¯´æ˜</a>ã€‚ä»â€œå‡†å¤‡å¥½æ‚¨çš„ç¯å¢ƒâ€ä¸€èŠ‚å¼€å§‹ï¼ŒæŒ‰ç…§è¯´æ˜æ“ä½œï¼Œç›´åˆ°æ‚¨å¯ä»¥ä½¿ç”¨<code class="fe ny nz oa ob b">npm run electron:serve</code>æˆåŠŸè¿è¡Œç©ºç™½åº”ç”¨ç¨‹åºã€‚</p><p id="9087" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ¥ä¸‹æ¥å®‰è£…face-api.js:</p><pre class="km kn ko kp gt oc ob od oe aw of bi"><span id="e78c" class="mu ls iq ob b gy og oh l oi oj">npm i --save face-api.js</span></pre><h2 id="c17c" class="mu ls iq bd lt mv mw dn lx mx my dp mb jy mz na mf kc nb nc mj kg nd ne mn nf bi translated">èƒŒæ™¯æ£€æµ‹å·¥ä½œè¿›ç¨‹</h2><p id="9938" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">é¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»ºåå°å·¥ä½œè¿›ç¨‹ï¼Œå®ƒå°†å¤„ç†æ‰€æœ‰çš„æ£€æµ‹å·¥ä½œ(åˆåã€‚â€œé‡ç‰©æå‡â€)ã€‚ç»§ç»­åœ¨<code class="fe ny nz oa ob b">public</code>ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶<code class="fe ny nz oa ob b">worker.html</code>:</p><pre class="km kn ko kp gt oc ob od oe aw of bi"><span id="bc11" class="mu ls iq ob b gy og oh l oi oj">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>&lt;head&gt;<br/>  &lt;meta charset="utf-8"&gt;<br/>  &lt;title&gt;Worker&lt;/title&gt;<br/>&lt;/head&gt;<br/>&lt;body&gt;<br/>  &lt;video id="cam" autoplay muted playsinline&gt;&lt;/video&gt;<br/>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="2f56" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ³¨æ„è¿™é‡Œçš„<code class="fe ny nz oa ob b">&lt;video&gt;</code>æ ‡ç­¾ã€‚æˆ‘ä»¬å°†åœ¨workerä¸­å¼•ç”¨è¿™ä¸ªå…ƒç´ æ¥ä»ç›¸æœºæµä¸­æ£€ç´¢å›¾åƒæ•°æ®ã€‚</p><p id="486b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ¥ä¸‹æ¥åœ¨<code class="fe ny nz oa ob b">src</code>ç›®å½•ä¸­åˆ›å»º<code class="fe ny nz oa ob b">worker.js</code>ã€‚è¿™æ˜¯ä¸€ä¸ªæ›´é•¿çš„æ–‡ä»¶ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°å®Œæ•´çš„ç‰ˆæœ¬ã€‚æˆ‘å°†å¯¹å…¶è¿›è¡Œåˆ†è§£ï¼Œå¹¶å‘æ‚¨è§£é‡Šæœ€é‡è¦çš„éƒ¨åˆ†:</p><pre class="km kn ko kp gt oc ob od oe aw of bi"><span id="36ff" class="mu ls iq ob b gy og oh l oi oj">import * as faceapi from 'face-api.js';</span><span id="d560" class="mu ls iq ob b gy ok oh l oi oj">// init detection options<br/>const minConfidenceFace = 0.5;<br/>const faceapiOptions = new faceapi.SsdMobilenetv1Options({ minConfidenceFace });</span></pre><p id="bc9e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åŒ…æ‹¬å¹¶é…ç½®face-api.jsã€‚åœ¨å†…éƒ¨ï¼Œface-api.jsä½¿ç”¨SSD MobileNet v1æ¨¡å‹æ¥è¯†åˆ«å›¾ç‰‡ä¸­çš„äººè„¸ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æä¾›ä¸€ä¸ª<code class="fe ny nz oa ob b">minConfidenceFace</code>é…ç½®å‚æ•°ï¼Œè¯¥å‚æ•°å°†æ¨¡å‹é…ç½®ä¸ºè¯†åˆ«è‡³å°‘50%ç½®ä¿¡åº¦çš„äººè„¸ã€‚</p><figure class="km kn ko kp gt kr gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/ca8c061e94c10a7635c7a77c3733e0fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/1*n09RasQiUS42aIPWn94GzQ.jpeg"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">è¿™å®¶ä¼™ä¸æ˜¯æ•…æ„ç¬‘çš„ï¼</figcaption></figure><pre class="km kn ko kp gt oc ob od oe aw of bi"><span id="8aaf" class="mu ls iq ob b gy og oh l oi oj">// configure face API<br/>faceapi.env.monkeyPatch({<br/>  Canvas: HTMLCanvasElement,<br/>  Image: HTMLImageElement,<br/>  ImageData: ImageData,<br/>  Video: HTMLVideoElement,<br/>  createCanvasElement: () =&gt; document.createElement('canvas'),<br/>  createImageElement: () =&gt; document.createElement('img')<br/>});</span></pre><p id="9902" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™ä¸€éƒ¨åˆ†æ˜¯ä¸ºäº†ä½¿face-api.jsåœ¨ç”µå­åº”ç”¨ç¨‹åºä¸­æ­£å¸¸å·¥ä½œçš„ä¸€ç§å˜é€šæ–¹æ³•ã€‚åœ¨æ­£å¸¸çš„æµè§ˆå™¨ç¯å¢ƒä¸­ï¼Œè¿™æ˜¯ä¸éœ€è¦çš„ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬åœ¨éšè—çš„æ¸²æŸ“å™¨ä¸­å¯ç”¨äº†<code class="fe ny nz oa ob b">nodeIntegration</code>,è¿™å¯¼è‡´TensorFlow.jsè®¤ä¸ºæˆ‘ä»¬åœ¨NodeJSç¯å¢ƒä¸­ã€‚<a class="ae kl" href="https://github.com/justadudewhohacks/face-api.js/issues/157" rel="noopener ugc nofollow" target="_blank">è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨å°†ç¯å¢ƒæ‰“å›æµè§ˆå™¨ç¯å¢ƒ</a>ã€‚å¦‚æœä½ è·³è¿‡è¿™ä¸€æ­¥ï¼Œä½ ä¼šæ”¶åˆ°ä¸€ä¸ªé”™è¯¯<code class="fe ny nz oa ob b">Uncaught (in promise) TypeError: Illegal constructor at createCanvasElement [...]</code>ã€‚</p><pre class="km kn ko kp gt oc ob od oe aw of bi"><span id="7596" class="mu ls iq ob b gy og oh l oi oj">let loadNet = async () =&gt; {<br/>  let detectionNet = faceapi.nets.ssdMobilenetv1;<br/>  await detectionNet.load('/data/weights');<br/>  await faceapi.loadFaceExpressionModel('/data/weights');<br/>  return detectionNet;<br/>};</span></pre><p id="d0c6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åŠ è½½MobileNet V1ç½‘ç»œçš„é¢„è®­ç»ƒæ¨¡å‹æƒé‡ä»¥åŠé¢éƒ¨è¡¨æƒ…æ¨¡å‹ã€‚å› ä¸ºæˆ‘æƒ³è®©æˆ‘çš„åº”ç”¨ç¨‹åºç¦»çº¿å·¥ä½œï¼Œæ‰€ä»¥æˆ‘ä»æœ¬åœ°URL <code class="fe ny nz oa ob b">/data/weights</code>åŠ è½½å®ƒä»¬ï¼Œè¿™ä¸ªURLä¼šè½¬æ¢æˆä½ çš„é¡¹ç›®ç›®å½•ä¸­çš„<code class="fe ny nz oa ob b">/public/data/weights</code>æ–‡ä»¶å¤¹ã€‚ä½ å¯ä»¥ä»<a class="ae kl" href="https://github.com/justadudewhohacks/face-api.js/tree/master/weights" rel="noopener ugc nofollow" target="_blank"> Vincent MÃ¼hlerçš„GitHubåº“</a>ä¸‹è½½éœ€è¦çš„æ–‡ä»¶ã€‚</p><figure class="km kn ko kp gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi om"><img src="../Images/28f91efa6eb2c9bdad85d8dbc203622b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ebcTzqVYpQCNkC8CcLxySw.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">å°†è¿™äº›æ¨¡å‹å’Œæƒé‡æ–‡ä»¶ä¸‹è½½åˆ°ç›®æ ‡ç›®å½•</figcaption></figure><pre class="km kn ko kp gt oc ob od oe aw of bi"><span id="253a" class="mu ls iq ob b gy og oh l oi oj">let cam;<br/>let initCamera = async (width, height) =&gt; {<br/>  cam = document.getElementById('cam');<br/>  cam.width = width;<br/>  cam.height = height;<br/>  const stream = await navigator.mediaDevices.getUserMedia({<br/>    audio: false,<br/>    video: {<br/>      facingMode: "user",<br/>      width: width,<br/>      height: height<br/>    }<br/>  });<br/>  cam.srcObject = stream;<br/>  return new Promise((resolve) =&gt; {<br/>    cam.onloadedmetadata = () =&gt; {<br/>      resolve(cam);<br/>    };<br/>  });<br/>};</span></pre><p id="c38c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸Šé¢çš„ä»£ç å‡ ä¹æ˜¯ä»è¿æ¥åˆ°ä½ çš„è®¡ç®—æœºçš„æ‘„åƒæœºä¸­è·å–è§†é¢‘æµçš„æ ‡å‡†ä»£ç ã€‚æˆ‘ä»¬åªæ˜¯ä¸ºäº†æ–¹ä¾¿æŠŠå®ƒåŒ…åœ¨æ‰¿è¯ºé‡Œã€‚</p><p id="fdda" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨ä¸€åˆ‡å°±ç»ªï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ç»§ç»­æ£€æµ‹éƒ¨åˆ†ã€‚æˆ‘åªæ˜¯æ·»åŠ äº†ä¸€äº›æ–¹ä¾¿çš„æ–¹æ³•æ¥å°†äº‹ä»¶æ¶ˆæ¯å‘é€åˆ°æ¸¸æˆUIæ¸²æŸ“å™¨:</p><pre class="km kn ko kp gt oc ob od oe aw of bi"><span id="dd5a" class="mu ls iq ob b gy og oh l oi oj">let onReady = () =&gt; {<br/>  notifyRenderer('ready', {});<br/>};</span><span id="2035" class="mu ls iq ob b gy ok oh l oi oj">let onExpression = (type) =&gt; {<br/>  notifyRenderer('expression', { type: type });<br/>};</span><span id="0001" class="mu ls iq ob b gy ok oh l oi oj">let notifyRenderer = (command, payload) =&gt; {<br/>  ipcRenderer.send('window-message-from-worker', {<br/>    command: command, payload: payload<br/>  });<br/>}</span></pre><p id="f354" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe ny nz oa ob b">onReady</code>åœ¨æ¨¡å‹åˆå§‹åŒ–â€œé¢„çƒ­â€å¹¶å‡†å¤‡å¥½æ£€æµ‹æ—¶è§¦å‘ã€‚æ­¤åï¼Œæ¯å½“æ£€æµ‹åˆ°è¡¨è¾¾å¼æ—¶ï¼Œ<code class="fe ny nz oa ob b">onExpression</code>å°†é€šè¿‡IPCå°†æ£€æµ‹åˆ°çš„è¡¨è¾¾å¼è½¬å‘ç»™ä¸»è¿›ç¨‹ã€‚</p><p id="645d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨æ˜¯å®é™…æ£€æµ‹éƒ¨åˆ†:</p><pre class="km kn ko kp gt oc ob od oe aw of bi"><span id="5d7a" class="mu ls iq ob b gy og oh l oi oj">let detectExpressions = async () =&gt; {<br/>  // detect expression<br/>  let result = await faceapi.detectSingleFace(cam, faceapiOptions)<br/>    .withFaceExpressions();<br/>  if(!isReady) {<br/>    isReady = true;<br/>    onReady();<br/>  }<br/>  if(typeof result !== 'undefined') {<br/>    let happiness = 0, anger = 0;<br/>    if(result.expressions.hasOwnProperty('happy')) {<br/>      happiness = result.expressions.happy;<br/>    }<br/>    if(result.expressions.hasOwnProperty('angry')) {<br/>      anger = result.expressions.angry;<br/>    }<br/>    if(happiness &gt; 0.7) {<br/>      onExpression('happy');<br/>    } else if(anger &gt; 0.7) {<br/>      onExpression('angry');<br/>    }<br/>  }<br/>  if(isRunning) {<br/>    detectExpressions();<br/>  }<br/>};</span></pre><p id="b4cd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™ä¸ªå‡½æ•°åŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ªæ— é™å¾ªç¯ï¼Œå®ƒå°†é¦–å…ˆæ£€æµ‹ç›¸æœºå›¾ç‰‡ä¸­çš„ä¸€å¼ è„¸ï¼Œç„¶åå°è¯•ç¡®å®šè¯¥è„¸ä¸Šçš„é¢éƒ¨è¡¨æƒ…(=æƒ…ç»ª)ã€‚</p><p id="e4fa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe ny nz oa ob b">detectSingleFace().withFaceExpression()</code>çš„ç»“æœå°†è¿”å›ä¸€ä¸ªå¸¦æœ‰<code class="fe ny nz oa ob b">expressions</code>å­—å…¸çš„ç»“æœå¯¹è±¡ï¼ŒåŒ…å«ç»™å®šè¡¨è¾¾å¼(å¦‚â€œç”Ÿæ°”â€æˆ–â€œé«˜å…´â€)çš„æ¦‚ç‡(0-1)ã€‚åœ¨æˆ‘çš„ä¾‹å­ä¸­ï¼Œæˆ‘å†³å®šå°†è§¦å‘<code class="fe ny nz oa ob b">onExpression</code>äº‹ä»¶çš„æ¦‚ç‡é˜ˆå€¼è®¾ç½®ä¸º0.7 (70%)ã€‚</p><p id="fed6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å°±æ˜¯è¿™æ ·ï¼æˆ‘ä»¬ç°åœ¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç è¿è¡Œæ£€æµ‹å·¥ä½œå™¨:</p><pre class="km kn ko kp gt oc ob od oe aw of bi"><span id="0946" class="mu ls iq ob b gy og oh l oi oj">loadNet()<br/>.then(net   =&gt; { return initCamera(640, 480); })<br/>.then(video =&gt; { detectExpressions(); });</span></pre><h2 id="5f32" class="mu ls iq bd lt mv mw dn lx mx my dp mb jy mz na mf kc nb nc mj kg nd ne mn nf bi translated">é…ç½®Vue.jsä»¥ä½¿ç”¨éšè—çš„èƒŒæ™¯æ¸²æŸ“å™¨</h2><p id="d525" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">æ£€æµ‹äººå‘˜å°±ä½åï¼Œä¸‹ä¸€æ­¥æ˜¯é…ç½®Vue.jså’ŒElectronæ¥è¿è¡Œéšè—çš„æ¸²æŸ“å™¨ã€‚æ‰“å¼€(æˆ–åˆ›å»º)åº”ç”¨æ ¹ç›®å½•ä¸‹çš„æ–‡ä»¶<code class="fe ny nz oa ob b">vue.config.js</code>,æ’å…¥/æ·»åŠ ä»¥ä¸‹é…ç½®:</p><pre class="km kn ko kp gt oc ob od oe aw of bi"><span id="343d" class="mu ls iq ob b gy og oh l oi oj">module.exports = {<br/>  pages: {<br/>    index: {<br/>      entry: 'src/main.js', //entry for the public page<br/>      template: 'public/index.html', // source template<br/>      filename: 'index.html' // output as dist/*<br/>    },<br/>    worker: {<br/>      entry: 'src/worker.js',<br/>      template: 'public/worker.html',<br/>      filename: 'worker.html'<br/>    }<br/>  },<br/>  devServer: {<br/>    historyApiFallback: {<br/>      rewrites: [<br/>        { from: /\/index/, to: '/index.html' },<br/>        { from: /\/worker/, to: '/worker.html' }<br/>      ]<br/>    }<br/>  }<br/>};</span></pre><p id="bfc6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™ä¸ªé…ç½®å°†ä¸ºå·¥ä½œäººå‘˜åœ¨Vueçš„WebPacké…ç½®ä¸­æ·»åŠ ç¬¬äºŒä¸ªå…¥å£ç‚¹ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªåˆ«åä»¥ä½¿å…¶åœ¨å¼€å‘è¿‡ç¨‹ä¸­å·¥ä½œã€‚</p><p id="ec1b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æœ€åå¯¹<code class="fe ny nz oa ob b">background.js</code>åšå¦‚ä¸‹ä¿®æ”¹:</p><pre class="km kn ko kp gt oc ob od oe aw of bi"><span id="2541" class="mu ls iq ob b gy og oh l oi oj">import { app, protocol, BrowserWindow, ipcMain } from 'electron'<br/>import {<br/>  createProtocol,<br/>  installVueDevtools<br/>} from 'vue-cli-plugin-electron-builder/lib';</span><span id="2625" class="mu ls iq ob b gy ok oh l oi oj">const isDevelopment = process.env.NODE_ENV !== 'production';</span><span id="6ebb" class="mu ls iq ob b gy ok oh l oi oj">let win;<br/>let workerWin;</span><span id="961f" class="mu ls iq ob b gy ok oh l oi oj">// check if the "App" protocol has already been created<br/>let createdAppProtocol = false;</span><span id="b5aa" class="mu ls iq ob b gy ok oh l oi oj">// Scheme must be registered before the app is ready<br/>protocol.registerSchemesAsPrivileged([{<br/>  scheme: 'app', privileges: {<br/>    secure: true,<br/>    standard: true,<br/>    corsEnabled: true,<br/>    supportFetchAPI: true<br/>  }<br/>}])</span><span id="04c2" class="mu ls iq ob b gy ok oh l oi oj">function createWindow () {</span><span id="f108" class="mu ls iq ob b gy ok oh l oi oj">  // create the game UI window<br/>  win = new BrowserWindow({<br/>    width: 1024, height: 790,<br/>    webPreferences: { nodeIntegration: true }<br/>  });</span><span id="7226" class="mu ls iq ob b gy ok oh l oi oj">  if (process.env.WEBPACK_DEV_SERVER_URL) {<br/>    win.loadURL(process.env.WEBPACK_DEV_SERVER_URL)<br/>  } else {<br/>    win.loadURL('app://./index.html');<br/>  }</span><span id="9660" class="mu ls iq ob b gy ok oh l oi oj">  win.on('closed', () =&gt; {<br/>    // closing the main (visible) window should quit the App<br/>    app.quit();<br/>  });<br/>}</span><span id="5452" class="mu ls iq ob b gy ok oh l oi oj">function createWorker(devPath, prodPath) {</span><span id="9cd5" class="mu ls iq ob b gy ok oh l oi oj">  // create hidden worker window<br/>  workerWin = new BrowserWindow({<br/>    show: false,<br/>    webPreferences: { nodeIntegration: true }<br/>  });</span><span id="6b12" class="mu ls iq ob b gy ok oh l oi oj">  if(process.env.WEBPACK_DEV_SERVER_URL) {<br/>    workerWin.loadURL(process.env.WEBPACK_DEV_SERVER_URL + devPath);<br/>  } else {<br/>    workerWin.loadURL(`app://./${prodPath}`)<br/>  }</span><span id="fe21" class="mu ls iq ob b gy ok oh l oi oj">  workerWin.on('closed', () =&gt; { workerWin = null; });<br/>}</span><span id="f2ed" class="mu ls iq ob b gy ok oh l oi oj">function sendWindowMessage(targetWindow, message, payload) {<br/>  if(typeof targetWindow === 'undefined') {<br/>    console.log('Target window does not exist');<br/>    return;<br/>  }</span><span id="8a1d" class="mu ls iq ob b gy ok oh l oi oj">  targetWindow.webContents.send(message, payload);<br/>}</span><span id="84b1" class="mu ls iq ob b gy ok oh l oi oj">[...]</span><span id="f6c2" class="mu ls iq ob b gy ok oh l oi oj">app.on('ready', async () =&gt; {<br/>  if (isDevelopment &amp;&amp; !process.env.IS_TEST) {<br/>    // Install Vue Devtools<br/>    try {<br/>      await installVueDevtools()<br/>    } catch (e) {<br/>      console.error('Vue Devtools failed to install:', e.toString())<br/>    }<br/>  }</span><span id="29b6" class="mu ls iq ob b gy ok oh l oi oj">  if(!createdAppProtocol) {<br/>    createProtocol('app');<br/>    createdAppProtocol = true;<br/>  }</span><span id="7427" class="mu ls iq ob b gy ok oh l oi oj">  // create the main application window<br/>  createWindow();</span><span id="636a" class="mu ls iq ob b gy ok oh l oi oj">  // create the background worker window<br/>  createWorker('worker', 'worker.html');</span><span id="8e54" class="mu ls iq ob b gy ok oh l oi oj">  // setup message channels<br/>  ipcMain.on('window-message-from-worker', (event, arg) =&gt; {<br/>    sendWindowMessage(win, 'message-from-worker', arg);<br/>  });<br/>})</span><span id="4dba" class="mu ls iq ob b gy ok oh l oi oj">[...]</span></pre><p id="7fc5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è®©æˆ‘ä»¬çœ‹çœ‹æˆ‘åœ¨è¿™é‡Œæ‰€åšçš„æ›´æ”¹å’Œæ·»åŠ ã€‚æœ€æ˜æ˜¾çš„æ˜¯ç¬¬äºŒä¸ªçª—å£<code class="fe ny nz oa ob b">workerWin</code>ï¼Œå®ƒå°†æ˜¯æˆ‘ä»¬éšè—çš„æ¸²æŸ“å™¨ã€‚ä¸ºäº†ä½¿äº‹æƒ…æ›´æ˜“äºç®¡ç†ï¼Œæˆ‘åˆ›å»ºäº†å‡½æ•°<code class="fe ny nz oa ob b">createWorker</code>ï¼Œå®ƒæ˜¯é»˜è®¤å‡½æ•°<code class="fe ny nz oa ob b">createWindow</code>çš„é•œåƒï¼Œåªæ˜¯æ»¡è¶³éšè—å·¥ä½œè€…çš„ç‰¹å®šéœ€æ±‚ã€‚</p><p id="4073" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä¿®æ”¹äº†<code class="fe ny nz oa ob b">app</code>åè®®ï¼Œä»¥å¯ç”¨CORSå’Œå¯¹<code class="fe ny nz oa ob b">fetch</code> APIçš„æ”¯æŒã€‚è¿™æ˜¯å…è®¸ä»æœ¬åœ°<code class="fe ny nz oa ob b">/public</code>æ–‡ä»¶å¤¹åŠ è½½æ¨¡å‹æƒé‡æ‰€å¿…éœ€çš„ã€‚</p><p id="7335" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æœ€åï¼Œæˆ‘ä¸º<code class="fe ny nz oa ob b">window-message-from-worker</code>é€šé“æ·»åŠ äº†ä¸€ä¸ªIPCç›‘å¬å™¨ï¼Œé€šè¿‡<code class="fe ny nz oa ob b">sendWindowMessage</code>æ–¹æ³•å°†æ¥è‡ªæ£€æµ‹å·¥ä½œè€…çš„æ¶ˆæ¯è½¬å‘ç»™æ¸¸æˆã€‚</p><h2 id="93a2" class="mu ls iq bd lt mv mw dn lx mx my dp mb jy mz na mf kc nb nc mj kg nd ne mn nf bi translated">æ·»åŠ æ¸¸æˆç”¨æˆ·ç•Œé¢</h2><p id="d6ea" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">æˆ‘ä¸ä¼šè¿‡å¤šåœ°è®¨è®ºå¦‚ä½•æ„å»ºHTML / CSSï¼Œè€Œæ˜¯é›†ä¸­è®¨è®ºå¦‚ä½•æ¥æ”¶å’Œå¤„ç†æ¥è‡ªæ£€æµ‹äººå‘˜çš„â€œæƒ…ç»ªâ€æ¶ˆæ¯ã€‚æé†’ä¸€ä¸‹ï¼Œæ‰€æœ‰ä»£ç éƒ½å¯ä»¥åœ¨æˆ‘çš„GitHubåº“ä¸Šæ‰¾åˆ°ï¼Œä¾›æ‚¨æŸ¥çœ‹ã€‚</p><figure class="km kn ko kp gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi on"><img src="../Images/1cedc1539addc366df9d7efebaaba7be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kMkOS5w4C34yMBGYp6cJpw.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">æˆ‘åˆè¾“ç»™äº†çŒ«é˜ŸğŸ±</figcaption></figure><p id="44d4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹<code class="fe ny nz oa ob b">src/views/Play.vue</code>é‡Œé¢çš„è¿™éƒ¨åˆ†æºç :</p><pre class="km kn ko kp gt oc ob od oe aw of bi"><span id="8953" class="mu ls iq ob b gy og oh l oi oj">this.$electron.ipcRenderer.on('message-from-worker', (ev, data) =&gt; {</span><span id="678c" class="mu ls iq ob b gy ok oh l oi oj">  if(typeof data.command === 'undefined') {<br/>    console.error('IPC message is missing command string');<br/>    return;<br/>  }</span><span id="f493" class="mu ls iq ob b gy ok oh l oi oj">  if(data.command == 'expression') {<br/>    if(data.payload.type == 'happy') {<br/>      this.onLaugh();<br/>      return;<br/>    }</span><span id="e01e" class="mu ls iq ob b gy ok oh l oi oj">    if(data.payload.type == 'angry') {<br/>      this.onAngry();<br/>      return;<br/>    }<br/>  }</span><span id="ef62" class="mu ls iq ob b gy ok oh l oi oj">});</span></pre><p id="d498" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¼€å§‹ç›‘å¬é€šè¿‡<code class="fe ny nz oa ob b">message-from-worker</code>é€šé“ä¼ å…¥çš„IPCæ¶ˆæ¯ã€‚å¦‚æœæ¶ˆæ¯åŒ…å«ä¸€ä¸ª<code class="fe ny nz oa ob b">expression</code>å‘½ä»¤ï¼Œæˆ‘ä»¬è§¦å‘ä¸€ä¸ªä¸æ¶ˆæ¯ç›¸å…³çš„æ¸¸æˆäº‹ä»¶ã€‚åœ¨æˆ‘çš„æ¸¸æˆä¸­ï¼Œ<code class="fe ny nz oa ob b">onLaugh</code>ä¼šåŒ…å«å½“ä½ è¢«æŠ“åˆ°å¤§ç¬‘æ—¶çš„é€»è¾‘ï¼Œ<code class="fe ny nz oa ob b">onAngry</code>ä¼šåœ¨æ¸¸æˆç»“æŸåé‡æ–°å¼€å§‹æ¸¸æˆã€‚</p><figure class="km kn ko kp gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi on"><img src="../Images/76adc3ceddf730ec53b91250730305a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dz_chGVHQyz_ispEqtZ37Q.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">é€šè¿‡åšä¸€ä¸ªæ„¤æ€’çš„è¡¨æƒ…æ¥é‡æ–°å¼€å§‹æ¸¸æˆğŸ˜ </figcaption></figure><p id="81f0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å°±æ˜¯è¿™æ ·ï¼å¦‚æœä½ å¯¹å·²ç»å®Œæˆçš„é¡¹ç›®æ„Ÿå…´è¶£ï¼Œè¯·ä»æˆ‘çš„GitHubé¡µé¢ä¸‹è½½ã€‚ä½ å¯ä»¥éšæ„ä¿®æ”¹å®ƒæˆ–è€…æŠŠå®ƒä½œä¸ºä½ è‡ªå·±æ¸¸æˆçš„åŸºç¡€â€”â€”æˆ‘å¾ˆä¹æ„çœ‹åˆ°ä½ æƒ³å‡ºçš„æ‰€æœ‰é…·çš„ä¸œè¥¿ï¼</p><p id="05ac" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">éå¸¸æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼</strong></p></div></div>    
</body>
</html>