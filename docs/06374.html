<html>
<head>
<title>Add watermarks to your video using code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用代码为您的视频添加水印</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-add-a-watermark-to-your-video-using-code-b138312d587c?source=collection_archive---------6-----------------------#2020-11-19">https://levelup.gitconnected.com/how-to-add-a-watermark-to-your-video-using-code-b138312d587c?source=collection_archive---------6-----------------------#2020-11-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/016f73c2d7b421b47ef6809fb7880474.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a7qHRKOz9kNUOxpkRRtWWw.png"/></div></div></figure><p id="8af0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kw">对于任何人</em><strong class="ka ir"><em class="kw"/></strong><em class="kw">不感兴趣学习如何建立一个应用程序，水印您的视频，只是想一个简单的方法来添加水印到视频；</em> <a class="ae kx" href="https://shotstack.io/demo/watermarker/?utm_source=Medium&amp;utm_medium=tutorial&amp;utm_campaign=2020_11_tutorial_watermark" rel="noopener ugc nofollow" target="_blank"> <em class="kw">这个实用工具</em> </a> <em class="kw">就能做到这一点！</em></p><p id="fb29" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kx" href="https://en.wikipedia.org/wiki/Watermark" rel="noopener ugc nofollow" target="_blank">水印</a>第一次出现在13世纪的意大利，当时造纸商在纸还是湿的时候改变它的厚度。纸的水印部分让更多的光通过，导致一个标记，让读者能够识别纸的生产地。</p><p id="e24f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">今天，我们将水印用于各种各样的应用，现在大多数水印都不属于数字类型。它提供了一种清晰而相对不显眼的方式来展示原创作者。这一点在互联网时代尤为重要，在这个时代，未经许可复制和盗用媒体很容易。</p><p id="0211" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">本指南旨在展示一种快速简单的方法来开发一个应用程序，使用<a class="ae kx" href="https://shotstack.io/?utm_source=Medium&amp;utm_medium=tutorial&amp;utm_campaign=2020_11_tutorial_watermark" rel="noopener ugc nofollow" target="_blank"> Shotstack API </a>为您的视频添加水印。这个API允许你用JSON描述一个视频编辑，然后使用你最喜欢的编程语言在云中同时渲染数千个视频。</p><h1 id="23d2" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">我们开始吧</h1><h2 id="63e4" class="lw kz iq bd la lx ly dn le lz ma dp li kj mb mc lm kn md me lq kr mf mg lu mh bi translated">注册一个API密钥</h2><p id="86c6" class="pw-post-body-paragraph jy jz iq ka b kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr mm kt ku kv ij bi translated">你需要注册一个<a class="ae kx" href="https://dashboard.shotstack.io/register?utm_source=Medium&amp;utm_medium=tutorial&amp;utm_campaign=2020_11_tutorial_watermark" rel="noopener ugc nofollow" target="_blank">免费的Shotstack开发者账户</a>。注册后，只需登录接收您的API密钥。</p><p id="df87" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">免费版为你提供API的免费使用，但是会在你的视频中嵌入一个小水印。您可以通过添加您的付款信息并使用您的生产密钥来消除这种情况。</p><h2 id="9970" class="lw kz iq bd la lx ly dn le lz ma dp li kj mb mc lm kn md me lq kr mf mg lu mh bi translated">节点. js</h2><p id="be08" class="pw-post-body-paragraph jy jz iq ka b kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr mm kt ku kv ij bi translated">我们将使用<a class="ae kx" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> Node.js </a>来构建我们的应用程序。没有花哨的路线，只是基本的。</p><h1 id="4efc" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">设置场景</h1><p id="7a9d" class="pw-post-body-paragraph jy jz iq ka b kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr mm kt ku kv ij bi translated">对于这个例子，我们将假装我们拍摄了一些开放房屋的精彩镜头，并热衷于将这些加水印，以便潜在的买家知道去哪里看。</p><p id="4438" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们将使用Pexels的三个视频剪辑，共同描绘出待售商品的美丽画面:</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="mr ms l"/></div><figcaption class="mt mu gj gh gi mv mw bd b be z dk translated">Pexels的这三个视频将构成我们房地产视频的基础</figcaption></figure><p id="51fa" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">作为我们的水印，我们将使用我们的房地产公司的标志；大宗房地产:</p><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/6eed0d99e3a94eef1fd22d7426f940d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*g8MBVsyqgtdCri8oAU2fuw.png"/></div></figure><h1 id="c2ce" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">代码</h1><p id="07bf" class="pw-post-body-paragraph jy jz iq ka b kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr mm kt ku kv ij bi translated">对于本指南，我不会深入探讨API到底是如何工作的，以及有哪些不同的效果和过渡可用，但如果你需要一本入门书，请快速浏览一下本指南。</p><h2 id="e45e" class="lw kz iq bd la lx ly dn le lz ma dp li kj mb mc lm kn md me lq kr mf mg lu mh bi translated">JSON</h2><p id="21f1" class="pw-post-body-paragraph jy jz iq ka b kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr mm kt ku kv ij bi translated">Shotstack API通过向API端点发送一个JSON字符串来工作。JSON提供了剪辑、过渡和效果的时间线，它们被转换成输出文件，如MP4或GIF。</p><p id="4b64" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在下面的例子中，我们将水印(一个PNG文件)合成在三个视频的顶部。然后，缩放、不透明度、位置和偏移属性允许我们将水印准确地放置在我们想要放置的位置。</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="my ms l"/></div></figure><h2 id="a436" class="lw kz iq bd la lx ly dn le lz ma dp li kj mb mc lm kn md me lq kr mf mg lu mh bi translated">节点应用程序</h2><p id="017e" class="pw-post-body-paragraph jy jz iq ka b kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr mm kt ku kv ij bi translated">下面的Node.js脚本获取JSON，并将其发送给API。然后，它轮询API以检索渲染状态。大约30秒后，它会记录视频网址供您使用。</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="my ms l"/></div></figure><h1 id="8294" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">初步结果</h1><p id="0285" class="pw-post-body-paragraph jy jz iq ka b kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr mm kt ku kv ij bi translated">一旦我们运行节点应用程序，渲染完成，我们应该留下以下视频:</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="mr ms l"/></div><figcaption class="mt mu gj gh gi mv mw bd b be z dk translated">我们使用一个JSON文件在视频的右下角添加一个黑色水印</figcaption></figure><p id="3e08" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这看起来已经很不错了，但是第一个场景中的黑色水印不是很清晰。如果我们可以根据场景改变我们使用的水印，那将会很有帮助。</p><h1 id="3efa" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">最后润色</h1><p id="3f72" class="pw-post-body-paragraph jy jz iq ka b kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr mm kt ku kv ij bi translated">我们将添加一些最后的润色，如过渡，标题，一些曲调，并根据场景切换我们的水印图像颜色。</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="my ms l"/></div></figure><h1 id="32cb" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">决赛成绩</h1><p id="8bbb" class="pw-post-body-paragraph jy jz iq ka b kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr mm kt ku kv ij bi translated">请看下面我们的最终结果——一个专业编辑的带有水印的房地产视频，展示您的创作！</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="mr ms l"/></div><figcaption class="mt mu gj gh gi mv mw bd b be z dk translated">具有不断变化的水印和高级过渡的最终视频</figcaption></figure><h1 id="d206" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">结论</h1><p id="d440" class="pw-post-body-paragraph jy jz iq ka b kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr mm kt ku kv ij bi translated">本指南中的代码提供了一种构建应用程序的简单方法，该应用程序将图像作为水印，并将其合成到视频之上。</p><p id="f8a8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们已经建立了一个更全面的<a class="ae kx" href="https://shotstack.io/demo/watermarker/?utm_source=Medium&amp;utm_medium=tutorial&amp;utm_campaign=2020_11_tutorial_watermark" rel="noopener ugc nofollow" target="_blank">开源水印应用</a>，你可以用它来给你的视频加水印，Github上有<a class="ae kx" href="https://github.com/shotstack/watermark-demo?utm_source=Medium&amp;utm_medium=tutorial&amp;utm_campaign=2020_11_tutorial_watermark" rel="noopener ugc nofollow" target="_blank">完整的源代码</a>。</p><p id="c715" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">希望这篇文章已经启发你开始使用代码来操作视频。这段代码可以很容易地进一步修改为使用视频水印而不是静态图像，<a class="ae kx" href="https://www.youtube.com/watch?v=RUxpAnaUTh4" rel="noopener ugc nofollow" target="_blank">使用HTML </a>使其更加个性化，还有许多其他大规模的操作，使用老式的视频编辑器是不可能的。</p><p id="fabc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们总是很想看看人们能想出什么，所以如果你已经设法创造了一些很酷的东西，请分享！</p></div></div>    
</body>
</html>