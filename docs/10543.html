<html>
<head>
<title>Checking and Formatting Python Code With PEP 8 Standards</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用PEP 8标准检查和格式化Python代码</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/checking-and-formatting-python-code-with-pep-8-standards-c158be7eee5d?source=collection_archive---------10-----------------------#2021-12-19">https://levelup.gitconnected.com/checking-and-formatting-python-code-with-pep-8-standards-c158be7eee5d?source=collection_archive---------10-----------------------#2021-12-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/5c63acf00277c662fb96b2ff7fafea0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1X0-98EiQNkwBJj2vnTTqQ.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">克里斯·里德的照片</figcaption></figure><h2 id="a1af" class="kg kh it bd ki kj kk dn kl km kn dp ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">如何检查你的Python代码是否按照PEP 8标准格式化？</h2><h2 id="4f29" class="kg kh it bd ki kj kk dn kl km kn dp ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">首先，PEP 8是什么？</h2><p id="6c93" class="pw-post-body-paragraph lc ld it le b lf lg lh li lj lk ll lm kp ln lo lp kt lq lr ls kx lt lu lv lw im bi translated">PEP代表<em class="lx"> Python增强提案</em></p><p id="3479" class="pw-post-body-paragraph lc ld it le b lf ly lh li lj lz ll lm kp ma lo lp kt mb lr ls kx mc lu lv lw im bi translated">标题为“Python代码的<strong class="le iu">风格指南</strong>的第8号Python增强提案(PEP 8)被认为是Python代码的标准风格指南。</p><p id="a81d" class="pw-post-body-paragraph lc ld it le b lf ly lh li lj lz ll lm kp ma lo lp kt mb lr ls kx mc lu lv lw im bi translated">所以如果你想写符合标准的代码，建议遵循PEP 8。</p><p id="c537" class="pw-post-body-paragraph lc ld it le b lf ly lh li lj lz ll lm kp ma lo lp kt mb lr ls kx mc lu lv lw im bi translated">您可以在本文末尾找到该提案的链接。</p><h2 id="4d11" class="kg kh it bd ki kj kk dn kl km kn dp ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">你怎么做到的？</h2><p id="0fd8" class="pw-post-body-paragraph lc ld it le b lf lg lh li lj lk ll lm kp ln lo lp kt lq lr ls kx lt lu lv lw im bi translated">您可以自动化一些过程来检查您的代码是否符合它，甚至自动化大部分的重新格式化。</p><p id="5a38" class="pw-post-body-paragraph lc ld it le b lf ly lh li lj lz ll lm kp ma lo lp kt mb lr ls kx mc lu lv lw im bi translated">因此，在我们修复任何东西之前，我们需要检查需要修复什么，为此，您可以使用的工具之一是<em class="lx"> pycodestyle </em></p><h2 id="e9ff" class="kg kh it bd ki kj kk dn kl km kn dp ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">用pip安装pycodestyle</h2><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="d795" class="kg kh it mi b gy mm mn l mo mp">pip install pycodestyle</span></pre><p id="cb23" class="pw-post-body-paragraph lc ld it le b lf ly lh li lj lz ll lm kp ma lo lp kt mb lr ls kx mc lu lv lw im bi translated">安装后，您可以检查您的python文件，以查看为了符合PEP 8需要修复的所有内容</p><h2 id="181f" class="kg kh it bd ki kj kk dn kl km kn dp ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">使用pycodestyle</h2><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="b82c" class="kg kh it mi b gy mm mn l mo mp">pycodestyle --first backend/test_flaskr.py</span></pre><p id="01e2" class="pw-post-body-paragraph lc ld it le b lf ly lh li lj lz ll lm kp ma lo lp kt mb lr ls kx mc lu lv lw im bi translated">运行它将在屏幕上显示所有需要修复的行，以及它们在这个特定的python文件中违反了什么规则。</p><p id="2dfd" class="pw-post-body-paragraph lc ld it le b lf ly lh li lj lz ll lm kp ma lo lp kt mb lr ls kx mc lu lv lw im bi translated">或者对所有文件运行它，您也可以这样做:</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="d905" class="kg kh it mi b gy mm mn l mo mp">pycodestyle .</span></pre><p id="39d3" class="pw-post-body-paragraph lc ld it le b lf ly lh li lj lz ll lm kp ma lo lp kt mb lr ls kx mc lu lv lw im bi translated">我将在文章末尾留下一个指向pycodestyle文档的链接，在那里您可以找到所有可能的选项，如果您想了解更多信息，还可以使用更多高级配置。</p><p id="0be1" class="pw-post-body-paragraph lc ld it le b lf ly lh li lj lz ll lm kp ma lo lp kt mb lr ls kx mc lu lv lw im bi translated">所以一旦你知道你可以手动修改代码，但是有一个更快更简单的方法(特别是当你需要修改很多行的时候！)</p><h2 id="5f9e" class="kg kh it bd ki kj kk dn kl km kn dp ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">安装autopep8</h2><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="4d76" class="kg kh it mi b gy mm mn l mo mp">pip install autopep8</span></pre><p id="e02c" class="pw-post-body-paragraph lc ld it le b lf ly lh li lj lz ll lm kp ma lo lp kt mb lr ls kx mc lu lv lw im bi translated">一旦完成，你所需要做的就是指向你想要格式化的文件，看看奇迹发生了。</p><h2 id="bc40" class="kg kh it bd ki kj kk dn kl km kn dp ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">使用autopep8</h2><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="c620" class="kg kh it mi b gy mm mn l mo mp">autopep8 --in-place --aggressive --aggressive --recursive .</span></pre><p id="28b8" class="pw-post-body-paragraph lc ld it le b lf ly lh li lj lz ll lm kp ma lo lp kt mb lr ls kx mc lu lv lw im bi translated">一旦完成，如果您使用pycodestyle再次检查您的代码，大多数警告应该会消失，但很可能不是全部，有些您可能需要手动修复。</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="44e0" class="kg kh it mi b gy mm mn l mo mp">pycodestyle .</span></pre><p id="1e9f" class="pw-post-body-paragraph lc ld it le b lf ly lh li lj lz ll lm kp ma lo lp kt mb lr ls kx mc lu lv lw im bi translated">现在你有了，你的代码应该符合PEP 8了！</p><p id="3405" class="pw-post-body-paragraph lc ld it le b lf ly lh li lj lz ll lm kp ma lo lp kt mb lr ls kx mc lu lv lw im bi translated">如果你感兴趣，你也可以检查一下<em class="lx"> pylint </em>，它不仅仅是检查PEP 8，还可以捕捉一些可能的错误和代码气味。</p><h2 id="3efb" class="kg kh it bd ki kj kk dn kl km kn dp ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">想更进一步吗？</h2><p id="057a" class="pw-post-body-paragraph lc ld it le b lf lg lh li lj lk ll lm kp ln lo lp kt lq lr ls kx lt lu lv lw im bi translated">如果你想更进一步，也遵守PEP 257 title <strong class="le iu"> Docstring约定</strong></p><p id="ac25" class="pw-post-body-paragraph lc ld it le b lf ly lh li lj lz ll lm kp ma lo lp kt mb lr ls kx mc lu lv lw im bi translated">为此，您可以使用<em class="lx"> pydocstyle </em></p><p id="f434" class="pw-post-body-paragraph lc ld it le b lf ly lh li lj lz ll lm kp ma lo lp kt mb lr ls kx mc lu lv lw im bi translated">它不会为您修复docstring，但会让您知道您需要在哪里修复它！</p><p id="d71b" class="pw-post-body-paragraph lc ld it le b lf ly lh li lj lz ll lm kp ma lo lp kt mb lr ls kx mc lu lv lw im bi translated">要用pip安装它，只需运行:</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="3fe8" class="kg kh it mi b gy mm mn l mo mp">pip install pydocstyle</span></pre><p id="7be7" class="pw-post-body-paragraph lc ld it le b lf ly lh li lj lz ll lm kp ma lo lp kt mb lr ls kx mc lu lv lw im bi translated">要使用它，很简单:</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="62f5" class="kg kh it mi b gy mm mn l mo mp">pydocstyle file_name.py</span></pre><p id="7292" class="pw-post-body-paragraph lc ld it le b lf ly lh li lj lz ll lm kp ma lo lp kt mb lr ls kx mc lu lv lw im bi translated">要分析单个文件或简单地:</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="487c" class="kg kh it mi b gy mm mn l mo mp">pydocstyle</span></pre><p id="ceab" class="pw-post-body-paragraph lc ld it le b lf ly lh li lj lz ll lm kp ma lo lp kt mb lr ls kx mc lu lv lw im bi translated">来分析所有的python文件！</p><h2 id="567a" class="kg kh it bd ki kj kk dn kl km kn dp ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">奖励材料</h2><p id="7929" class="pw-post-body-paragraph lc ld it le b lf lg lh li lj lk ll lm kp ln lo lp kt lq lr ls kx lt lu lv lw im bi translated">另一种在你的ide上快速检查你的风格指南的方法是使用SonarLint，它可以在大多数IDE上使用，而且是免费的！</p><h2 id="f1d4" class="kg kh it bd ki kj kk dn kl km kn dp ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">资源链接</h2><p id="c4d0" class="pw-post-body-paragraph lc ld it le b lf lg lh li lj lk ll lm kp ln lo lp kt lq lr ls kx lt lu lv lw im bi translated">你可以在这里阅读PEP 8官方文档:<a class="ae kf" href="https://www.python.org/dev/peps/pep-0008/" rel="noopener ugc nofollow" target="_blank">https://www.python.org/dev/peps/pep-0008/</a></p><p id="284a" class="pw-post-body-paragraph lc ld it le b lf ly lh li lj lz ll lm kp ma lo lp kt mb lr ls kx mc lu lv lw im bi translated">人教版257:<br/><a class="ae kf" href="https://www.python.org/dev/peps/pep-0257/" rel="noopener ugc nofollow" target="_blank">https://www.python.org/dev/peps/pep-0257/</a></p><p id="8540" class="pw-post-body-paragraph lc ld it le b lf ly lh li lj lz ll lm kp ma lo lp kt mb lr ls kx mc lu lv lw im bi translated">pycodestyle:<br/><a class="ae kf" href="https://pypi.org/project/pycodestyle/" rel="noopener ugc nofollow" target="_blank">https://pypi.org/project/pycodestyle/</a><br/><a class="ae kf" href="https://pycodestyle.pycqa.org/en/latest/intro.html#introduction" rel="noopener ugc nofollow" target="_blank">https://pycodestyle . pycqa . org/en/latest/intro . html #简介</a></p><p id="f735" class="pw-post-body-paragraph lc ld it le b lf ly lh li lj lz ll lm kp ma lo lp kt mb lr ls kx mc lu lv lw im bi translated">autopep 8:<br/>T10】https://pypi.org/project/autopep8/</p><p id="311f" class="pw-post-body-paragraph lc ld it le b lf ly lh li lj lz ll lm kp ma lo lp kt mb lr ls kx mc lu lv lw im bi translated">pydocstyle:<br/>T13】http://www.pydocstyle.org/en/stable/</p><p id="1af4" class="pw-post-body-paragraph lc ld it le b lf ly lh li lj lz ll lm kp ma lo lp kt mb lr ls kx mc lu lv lw im bi translated">给皮查姆的SonarLint:<br/><a class="ae kf" href="https://plugins.jetbrains.com/plugin/7973-sonarlint" rel="noopener ugc nofollow" target="_blank">https://plugins.jetbrains.com/plugin/7973-sonarlint</a></p><h2 id="2936" class="kg kh it bd ki kj kk dn kl km kn dp ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">你觉得这篇文章有用吗？</h2><p id="f110" class="pw-post-body-paragraph lc ld it le b lf lg lh li lj lk ll lm kp ln lo lp kt lq lr ls kx lt lu lv lw im bi translated">分享你的评论和经验！让我们知道你的想法。</p><p id="ec5f" class="pw-post-body-paragraph lc ld it le b lf ly lh li lj lz ll lm kp ma lo lp kt mb lr ls kx mc lu lv lw im bi translated">如果你喜欢这篇文章并想看更多，请给这篇文章一些掌声。</p><p id="7194" class="pw-post-body-paragraph lc ld it le b lf ly lh li lj lz ll lm kp ma lo lp kt mb lr ls kx mc lu lv lw im bi translated">要了解最新信息，请务必关注，直到下次！</p><h2 id="9c27" class="kg kh it bd ki kj kk dn kl km kn dp ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">你在找导师吗？取得联系！</h2><p id="78e8" class="pw-post-body-paragraph lc ld it le b lf lg lh li lj lk ll lm kp ln lo lp kt lq lr ls kx lt lu lv lw im bi translated">你可以在这里找到我的社交网络链接:<a class="ae kf" href="https://linktr.ee/gnstudenko" rel="noopener ugc nofollow" target="_blank">https://linktr.ee/gnstudenko</a></p></div></div>    
</body>
</html>