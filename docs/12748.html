<html>
<head>
<title>Creating a Reporting Dashboard using JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用JavaScript创建报告仪表板</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/creating-a-reporting-dashboard-using-javascript-fe1376d2af7f?source=collection_archive---------6-----------------------#2022-07-05">https://levelup.gitconnected.com/creating-a-reporting-dashboard-using-javascript-fe1376d2af7f?source=collection_archive---------6-----------------------#2022-07-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/a89bb157abb432263a81315393e2893f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hCl8CPfS7SRtdG_wbt4bfw.png"/></div></div></figure><p id="2875" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在已经是仲夏了，也就意味着每个公司都到了回顾和分析自己半年度进展的时候了。但是呈现信息的最佳方式是什么呢？这就把我们带到了数据可视化的话题上。</p><p id="1c27" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">可视化地呈现信息会使信息更容易获取和理解。创建一个包含所有必要统计数据的仪表板报告可以提供基本业务洞察的一目了然的视图。</p><p id="39d9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这里，你可以找到一个关于使用JavaScript创建交互式web仪表板的分步指南。</p><h1 id="1bae" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated"><strong class="ak">选择什么设计？</strong></h1><p id="9585" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">在开始工作之前，你必须选择最适合你的项目的视觉表现。图表、图形、数据透视表和地图是最常用的。哪些包括在仪表板中取决于分析的目的。</p><p id="3c45" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">以我的数据集为例。对于本教程，我生成了一个在加利福尼亚某家虚构公司的不同商店购买iPhone的列表。</p><p id="187f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">首先，我想分别研究每个城市每个月的数据。数据透视表是这项任务的最佳选择，因为它允许您对大量数据进行汇总、排序、分组和计数。但是要查看总体趋势或比较不同的指标，图表要方便得多。我决定使用面积图和条形图进行比较，并使用饼图来查看组成和百分比。</p><h1 id="b415" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated"><strong class="ak">可视化工具</strong></h1><p id="c1c4" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">当使用JavaScript进行数据可视化时，通常需要合并某些外部库。为了创建一个交互式的数据透视表，我决定使用<a class="ae lz" href="https://www.webdatarocks.com/doc/intro/" rel="noopener ugc nofollow" target="_blank"> WebDataRocks </a>，一个完全免费的网络报告工具。它还与<a class="ae lz" href="https://www.fusioncharts.com/dev/getting-started/plain-javascript/your-first-chart-using-plain-javascript" rel="noopener ugc nofollow" target="_blank"> FusionCharts </a>集成得很好，我将在余下的可视化中使用它。</p><p id="7349" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你不觉得这些工具是你的最佳选择，那么请随意搜索更适合你需求的工具。为此，我推荐查看Tate Galbraith的文章<a class="ae lz" rel="noopener ugc nofollow" target="_blank" href="/beautiful-javascript-data-visualization-libraries-1d3b66d6c318">Beautiful JavaScript Data Visualization Libraries</a>，或者Yuliia Nikitina的文章<a class="ae lz" href="https://github.com/YuliiaNikitina/Complete-list-of-JavaScript-data-visualisation-components" rel="noopener ugc nofollow" target="_blank">完整的JavaScript数据可视化工具列表</a>。</p><h1 id="afd9" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated"><strong class="ak">数据格式</strong></h1><p id="c44b" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">对于本教程，您需要将数据存储为JSON或CSV格式。有两种方法可以将它用作仪表板的数据源:通过指定存储它的文件的URL，或者，正如我在这里将要做的，通过创建一个返回它的函数:</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="91f1" class="mj kx iq mf b gy mk ml l mm mn">function getJSONData() {<br/>    return [<br/>        {<br/>            "month": "January",<br/>            "model": "11 Pro Max",<br/>            "city": "Los Angeles",<br/>            "price": 1000<br/>        },<br/>        //...<br/>    ]<br/>}</span></pre><h1 id="60e5" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated"><strong class="ak">第一步。定义页面布局</strong></h1><p id="6a9f" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">首先，定义您的仪表板的结构。我希望我的表格有4个部分:一部分用于数据透视表，其余部分用于图表，所以我用HTML创建了一个2×2的表格。</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="8d0e" class="mj kx iq mf b gy mk ml l mm mn">&lt;table style="width: 100%;height: 400px"&gt;<br/>    &lt;tr style="width: 50%; height: 400px"&gt;<br/>        &lt;td style&gt;<br/>            &lt;div id="wdr-component"&gt;&lt;/div&gt;<br/>        &lt;/td&gt;<br/>        &lt;td style&gt;<br/>            &lt;div id="fusionChartArea"&gt;&lt;/div&gt;<br/>        &lt;/td&gt;<br/>        &lt;td&gt;&lt;/td&gt;<br/>    &lt;/tr&gt;<br/>    &lt;tr&gt;<br/>        &lt;td style="width: 50%;"&gt;<br/>            &lt;div id="fusionChartPie" style="height:200px;"&gt;&lt;/div&gt;<br/>        &lt;/td&gt;<br/>        &lt;td style="width: 50%;"&gt;<br/>            &lt;div id="fusionChartBar" style="height:200px;"&gt;&lt;/div&gt;<br/>        &lt;/td&gt;<br/>    &lt;/tr&gt;<br/>&lt;/table&gt;</span></pre><h1 id="1842" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated"><strong class="ak">第二步。包括库。</strong></h1><p id="1089" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">现在我们需要连接数据可视化工具。为此，请将WebDataRocks和FusionCharts库包含在一个HTML文件中，如下所示:</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="7e49" class="mj kx iq mf b gy mk ml l mm mn">&lt;! -- WebDataRocks --&gt;<br/>&lt;link href="https://cdn.webdatarocks.com/latest/webdatarocks.min.css" rel="stylesheet"/&gt;<br/>&lt;script src="https://cdn.webdatarocks.com/latest/webdatarocks.toolbar.min.js"&gt;&lt;/script&gt;<br/>&lt;script src="https://cdn.webdatarocks.com/latest/webdatarocks.js"&gt;&lt;/script&gt;<br/>&lt;! -- FusionCharts --&gt;<br/>&lt;script src="https://static.fusioncharts.com/code/latest/fusioncharts.js"&gt;&lt;/script&gt;<br/>&lt;script src="https://static.fusioncharts.com/code/latest/themes/fusioncharts.theme.fusion.js"&gt;&lt;/script&gt;<br/>&lt;! -- WebDataRocks connector for FusionCharts --&gt;<br/>&lt;script src="https://cdn.webdatarocks.com/latest/webdatarocks.fusioncharts.js"&gt;&lt;/script&gt;</span></pre><h1 id="ec06" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated"><strong class="ak">第三步。创建数据透视表</strong></h1><p id="215a" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">让我们开始形成一个数据透视表。首先，指定将在其中呈现它的容器，是否需要工具栏，以及大小参数。</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="132e" class="mj kx iq mf b gy mk ml l mm mn">var <strong class="mf ir"><em class="mo">pivot </em></strong>= new WebDataRocks({<br/>    container: "#wdr-component",<br/>    toolbar: false,<br/>    "height": 400,<br/>});</span></pre><p id="81a5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后，添加一个报告，这是一个包含数据信息的对象:数据存储在哪里以及如何聚合数据。</p><p id="979d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这里，我设置行来显示不同的城市，设置列来显示月份:</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="bfcb" class="mj kx iq mf b gy mk ml l mm mn">report: {<br/>    "dataSource": {<br/>        "dataSourceType": "json",<br/>        "data": getJSONData()<br/>    },<br/>    "slice": {<br/>         "rows": [{<br/>             "uniqueName": "city"<br/>         },<br/>         {<br/>        "uniqueName": "Measures"<br/>        }],<br/>        "columns": [{<br/>            "uniqueName": "month"<br/>        }],<br/>        "measures": [{<br/>            "uniqueName": "price",<br/>            "aggregation": "sum"<br/>        }]<br/>    }<br/>}</span></pre><p id="bd07" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最后，添加一个处理程序，一旦数据加载到数据透视表中，它将调用图表函数。</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="fd34" class="mj kx iq mf b gy mk ml l mm mn">reportcomplete: function() {<br/>    <strong class="mf ir"><em class="mo">pivot</em></strong>.off("reportcomplete");<br/>    createAreaChart();<br/>    createBarChart();<br/>    createPieChart();<br/>}</span></pre><h1 id="aa51" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated"><strong class="ak">第四步。创建图表</strong></h1><p id="8924" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">所有图表类型都是以相同的方式创建的:通过定义一个绘制和填充图表的函数。首先，调用FusionCharts构造函数:指定图表类型以及它将在哪里呈现。</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="f82d" class="mj kx iq mf b gy mk ml l mm mn">var chart = new FusionCharts({<br/>    type: "bar2d",<br/>    renderAt: "fusionchartBar",<br/>    width: "100%",<br/>    height: 400<br/>});</span></pre><p id="6439" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后使用方法<code class="fe mp mq mr mf b">fusioncharts.getData()</code>将数据从数据透视表绘制到图表中。您还可以通过像我在这里所做的那样配置切片来定义要包括哪些信息:</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="50f2" class="mj kx iq mf b gy mk ml l mm mn"><strong class="mf ir"><em class="mo">pivot</em></strong>.fusioncharts.getData({<br/>   type: chart.chartType(), "slice": {<br/>       "rows": [<br/>           {<br/>               "uniqueName": "[Measures]"<br/>           }<br/>       ],<br/>       "columns": [<br/>           {<br/>               "uniqueName": "model"<br/>           }<br/>       ],<br/>       "measures": [<br/>           {<br/>               "uniqueName": "price",<br/>               "aggregation": "sum"<br/>           }<br/>       ]<br/>   }<br/>}</span></pre><p id="b67b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最后，添加一个设置渲染、数据和图表属性的函数，您可以在Fusioncharts的网站上看到<a class="ae lz" href="https://www.fusioncharts.com/dev/chart-attributes/area2d" rel="noopener ugc nofollow" target="_blank">的完整列表。</a></p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="dc3b" class="mj kx iq mf b gy mk ml l mm mn">function(data) {<br/>       chart.setJSONData(data);<br/>       chart.setChartAttribute("theme", "fusion");<br/>       chart.setChartAttribute("caption", "Total Revenue for Each Model");<br/>       chart.setChartAttribute("paletteColors", "#bc5cdb, #493999, #8790a8");<br/>       chart.render();<br/>   }</span></pre><p id="5c58" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对每个要创建的图表重复此过程。您使用的不同类型越多，仪表板看起来就越有趣。</p><p id="2183" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最后，将所有图表添加到处理程序中，这样就完成了。</p><p id="b624" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了获得最佳视觉效果，我建议尝试不同的设计，让仪表盘看起来更美观。在这个报告中，我添加了一个标题并更改了颜色。最终的结果你可以在下面看到:</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ms"><img src="../Images/858b410f3b043632716af5e6e8805352.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u6o-rXWSe6YGc-GSA6PDww.jpeg"/></div></div></figure><p id="c1bd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这个仪表盘的代码也上传到了<a class="ae lz" href="https://github.com/tomenkoNatalia/Dashboard-Reporting-Using-JavaScript" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上，所以如果还有任何问题，你可以下载看看。</p></div><div class="ab cl mt mu hu mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="ij ik il im in"><h1 id="8fe0" class="kw kx iq bd ky kz na lb lc ld nb lf lg lh nc lj lk ll nd ln lo lp ne lr ls lt bi translated">分级编码</h1><p id="cb65" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">感谢您成为我们社区的一员！更多内容见<a class="ae lz" href="https://levelup.gitconnected.com/" rel="noopener ugc nofollow" target="_blank">级编码出版物</a>。<br/>跟随:<a class="ae lz" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">推特</a>，<a class="ae lz" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">领英</a>，<a class="ae lz" href="https://newsletter.levelup.dev/" rel="noopener ugc nofollow" target="_blank">通迅</a> <br/> <strong class="ka ir">升一级正在改造理工大招聘➡️ </strong> <a class="ae lz" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir">加入我们的人才集体</strong> </a></p></div></div>    
</body>
</html>