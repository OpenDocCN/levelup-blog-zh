<html>
<head>
<title>Angular Directives — NgSwitch, Input, and Output</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">角度指令—开关、输入和输出</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/angular-directives-ngswitch-input-and-output-ee236d6cd29e?source=collection_archive---------14-----------------------#2020-03-08">https://levelup.gitconnected.com/angular-directives-ngswitch-input-and-output-ee236d6cd29e?source=collection_archive---------14-----------------------#2020-03-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/d7d6f708eabc89ced97d80aa1236be26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nh7LbNrTnet_RCAh"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@sne5ha?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Sneha </a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="7d59" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Angular是Google制作的一个流行的前端框架。像其他流行的前端框架一样，它使用基于组件的架构来构建应用程序。</p><p id="36a8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将看看<code class="fe le lf lg lh b">NgSwitch</code>指令、模板变量以及<code class="fe le lf lg lh b">Input</code>和<code class="fe le lf lg lh b">Ouput</code>语法。</p><h1 id="0ef4" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated"><code class="fe le lf lg lh b">NgSwitch</code>指令</h1><p id="b7c3" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">我们可以使用<code class="fe le lf lg lh b">NgSwitch</code>指令来显示可能选项列表中的一项。</p><p id="9d08" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以如下使用它:</p><p id="8069" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">app.component.ts</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="4499" class="mt lj it lh b gy mu mv l mw mx">import { Component } from "@angular/core";</span><span id="03f9" class="mt lj it lh b gy my mv l mw mx">@Component({<br/>  selector: "app-root",<br/>  templateUrl: "./app.component.html",<br/>  styleUrls: ["./app.component.css"]<br/>})<br/>export class AppComponent {<br/>  name = "foo";<br/>}</span></pre><p id="afde" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">app.component.html</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="9839" class="mt lj it lh b gy mu mv l mw mx">&lt;div [ngSwitch]="name"&gt;<br/>  &lt;p *ngSwitchCase="'foo'"&gt;foo&lt;/p&gt;<br/>  &lt;p *ngSwitchCase="'bar'"&gt;bar&lt;/p&gt;<br/>  &lt;p *ngSwitchCase="'baz'"&gt;baz&lt;/p&gt;<br/>&lt;/div&gt;</span></pre><p id="57dd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们将<code class="fe le lf lg lh b">AppComponent</code>中的<code class="fe le lf lg lh b">name</code>字段设置为<code class="fe le lf lg lh b">'foo'</code>。</p><p id="f85c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后在<code class="fe le lf lg lh b">app.component.html</code>中，我们将<code class="fe le lf lg lh b">ngSwitch</code>设置为<code class="fe le lf lg lh b">name</code>，以便它检查<code class="fe le lf lg lh b">AppComponent</code>中<code class="fe le lf lg lh b">name</code>的值，以获得要显示的内容。</p><p id="8b37" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们有多个不同值的<code class="fe le lf lg lh b">*ngSwitchCase</code>，如果<code class="fe le lf lg lh b">name</code>是<code class="fe le lf lg lh b">'foo'</code>，我们显示‘foo’，如果<code class="fe le lf lg lh b">name</code>是<code class="fe le lf lg lh b">'bar'</code>，我们显示‘bar’，如果<code class="fe le lf lg lh b">name</code>是<code class="fe le lf lg lh b">'baz'</code>，我们显示‘baz’。</p><p id="5f72" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">由于<code class="fe le lf lg lh b">name</code>是<code class="fe le lf lg lh b">‘foo’</code>，我们显示‘foo’。</p><p id="9720" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">*ngSwitchCase</code>支持本地元素和组件。</p><h1 id="c661" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">模板引用变量(#var)</h1><p id="9a52" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">模板引用变量通常是对模板中DOM元素的引用。它也可以指指令、元素。<code class="fe le lf lg lh b">TemplateRef</code>或一个web组件。</p><p id="234f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以如下使用它:</p><p id="27ee" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">app.component.ts</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="3566" class="mt lj it lh b gy mu mv l mw mx">import { Component } from "@angular/core";</span><span id="dc50" class="mt lj it lh b gy my mv l mw mx">@Component({<br/>  selector: "app-root",<br/>  templateUrl: "./app.component.html",<br/>  styleUrls: ["./app.component.css"]<br/>})<br/>export class AppComponent {<br/>  call(phone) {<br/>    alert(`Calling ${phone.value}`);<br/>  }<br/>}</span></pre><p id="b259" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">app.component.html</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="fb84" class="mt lj it lh b gy mu mv l mw mx">&lt;input #phone placeholder="phone" /&gt;<br/>&lt;button (click)="call(phone)"&gt;Call&lt;/button&gt;</span></pre><p id="2be0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们添加了一个<code class="fe le lf lg lh b">call</code>方法，它将<code class="fe le lf lg lh b">phone</code>元素作为参数，并显示一个警告，其中的值被键入到<code class="fe le lf lg lh b">phone</code>输入中。</p><p id="17d7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们在<code class="fe le lf lg lh b">app.component.html</code>中添加了<code class="fe le lf lg lh b">#phone</code>来引用输入元素。此外，我们添加了一个按钮来调用带有<code class="fe le lf lg lh b">phone</code>输入引用的<code class="fe le lf lg lh b">call</code>方法，这样我们就可以在警报中显示值。</p><h1 id="b6b0" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated"><code class="fe le lf lg lh b">NgForm</code></h1><p id="5099" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated"><code class="fe le lf lg lh b">NgForm</code>指令改变行为并将模板变量的值设置为其他值。</p><p id="5455" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有了它，我们可以在表单外部引用表单内部的变量。</p><p id="59b3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以如下使用<code class="fe le lf lg lh b">NgForm</code>:</p><p id="5ae3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">app.component.ts</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="e1f9" class="mt lj it lh b gy mu mv l mw mx">import { Component } from "@angular/core";</span><span id="1d1e" class="mt lj it lh b gy my mv l mw mx">@Component({<br/>  selector: "app-root",<br/>  templateUrl: "./app.component.html",<br/>  styleUrls: ["./app.component.css"]<br/>})<br/>export class AppComponent {<br/>  onSubmit(itemForm) {<br/>    if (itemForm.invalid) {<br/>      return;<br/>    }<br/>    alert("form submitted");<br/>  }<br/>}</span></pre><p id="87ac" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">app.component.html</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="0817" class="mt lj it lh b gy mu mv l mw mx">&lt;form #itemForm="ngForm" (ngSubmit)="onSubmit(itemForm)"&gt;<br/>  &lt;label&gt;Name &lt;input name="name" ngModel required /&gt; &lt;/label&gt;<br/>  &lt;button type="submit"&gt;Submit&lt;/button&gt;<br/>&lt;/form&gt;</span><span id="3c3b" class="mt lj it lh b gy my mv l mw mx">&lt;div [hidden]="itemForm.form.valid"&gt;<br/>  &lt;p&gt;Missing name&lt;/p&gt;<br/>&lt;/div&gt;</span></pre><p id="687c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们在<code class="fe le lf lg lh b">AppComponent</code>中使用了<code class="fe le lf lg lh b">onSubmit</code>方法，它采用了<code class="fe le lf lg lh b">itemForm</code>引用。然后我们可以在提交之前用它来检查组件的有效性。</p><p id="634f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后在<code class="fe le lf lg lh b">app.component.html</code>中，我们通过使用<code class="fe le lf lg lh b">ngForm</code>指令创建了<code class="fe le lf lg lh b">#itemForm</code>变量，这样我们就可以在底部<code class="fe le lf lg lh b">div</code>和传入<code class="fe le lf lg lh b">itemForm</code>的<code class="fe le lf lg lh b">onSubmit</code>中引用表单并检查其有效性。</p><h2 id="08ba" class="mt lj it bd lk mz na dn lo nb nc dp ls kr nd ne lw kv nf ng ma kz nh ni me nj bi translated">替代语法</h2><p id="640f" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">我们可以用<code class="fe le lf lg lh b">ref-</code>前缀代替<code class="fe le lf lg lh b">#</code>，所以我们可以写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="4ef0" class="mt lj it lh b gy mu mv l mw mx">&lt;input ref-phone placeholder="phone" /&gt;<br/>&lt;button (click)="call(phone)"&gt;Call&lt;/button&gt;</span></pre><h1 id="b3b8" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated"><code class="fe le lf lg lh b">@Input()</code>和<code class="fe le lf lg lh b">@Output()</code>属性</h1><p id="867a" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated"><code class="fe le lf lg lh b">@Input</code>和<code class="fe le lf lg lh b">@Output</code>允许Angular在父上下文和子指令和组件之间共享数据。</p><h2 id="faff" class="mt lj it bd lk mz na dn lo nb nc dp ls kr nd ne lw kv nf ng ma kz nh ni me nj bi translated">如何使用@Input()</h2><p id="aff3" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">例如，我们可以编写以下代码来使用<code class="fe le lf lg lh b">@Input</code>将数据从父组件传递给子组件:</p><p id="c843" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">app.module.ts</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="51ac" class="mt lj it lh b gy mu mv l mw mx">import { BrowserModule } from '@angular/platform-browser';<br/>import { NgModule } from '@angular/core';</span><span id="8ee2" class="mt lj it lh b gy my mv l mw mx">import { AppRoutingModule } from './app-routing.module';<br/>import { AppComponent } from './app.component';<br/>import { PersonComponent } from './person/person.component';</span><span id="4c3a" class="mt lj it lh b gy my mv l mw mx">@NgModule({<br/>  declarations: [<br/>    AppComponent,<br/>    PersonComponent<br/>  ],<br/>  imports: [<br/>    BrowserModule,<br/>    AppRoutingModule<br/>  ],<br/>  providers: [],<br/>  bootstrap: [AppComponent]<br/>})<br/>export class AppModule { }</span></pre><p id="beed" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">app.component.ts</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="fd94" class="mt lj it lh b gy mu mv l mw mx">import { Component } from '@angular/core';</span><span id="a083" class="mt lj it lh b gy my mv l mw mx">@Component({<br/>  selector: 'app-root',<br/>  templateUrl: './app.component.html',<br/>  styleUrls: ['./app.component.css']<br/>})<br/>export class AppComponent {<br/>  persons = [{ name: 'Jane' }, { name: 'John' }, { name: 'Mary' }];<br/>}</span></pre><p id="6d61" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">app.component.html</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="59e7" class="mt lj it lh b gy mu mv l mw mx">&lt;app-person *ngFor="let p of persons" [person]='p'&gt;&lt;/app-person&gt;</span></pre><p id="7a4d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">person.component.ts</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="027e" class="mt lj it lh b gy mu mv l mw mx">import { Component, OnInit, Input } from '@angular/core';</span><span id="47c9" class="mt lj it lh b gy my mv l mw mx">@Component({<br/>  selector: 'app-person',<br/>  templateUrl: './person.component.html',<br/>  styleUrls: ['./person.component.css']<br/>})<br/>export class PersonComponent {<br/>  @Input() person;<br/>}</span></pre><p id="205e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">person.component.html</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="b7e7" class="mt lj it lh b gy mu mv l mw mx">&lt;div&gt;{{person.name}}&lt;/div&gt;</span></pre><p id="f15f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们创建了一个<code class="fe le lf lg lh b">PersonComponent</code>组件，然后将它包含在<code class="fe le lf lg lh b">AppModule</code>的<code class="fe le lf lg lh b">declarations</code>数组中。</p><p id="b8b3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后在<code class="fe le lf lg lh b">AppComponent</code>中，我们有:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="4668" class="mt lj it lh b gy mu mv l mw mx">persons = [{ name: 'Jane' }, { name: 'John' }, { name: 'Mary' }];</span></pre><p id="d65f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">和<code class="fe le lf lg lh b">app.component.html</code>中的<code class="fe le lf lg lh b">*ngFor</code>循环遍历项目并渲染<code class="fe le lf lg lh b">PersonComponent</code>。</p><p id="64ca" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们将<code class="fe le lf lg lh b">p</code>作为<code class="fe le lf lg lh b">person</code>属性的值传入，然后它将是<code class="fe le lf lg lh b">PersonComponent</code>中<code class="fe le lf lg lh b">person</code>的值。</p><p id="cc14" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，我们在<code class="fe le lf lg lh b">person.component.html</code>中显示<code class="fe le lf lg lh b">person</code>的<code class="fe le lf lg lh b">name</code>值。</p><p id="928c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，我们应该看到:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="8935" class="mt lj it lh b gy mu mv l mw mx">Jane</span><span id="f7ca" class="mt lj it lh b gy my mv l mw mx">John</span><span id="65fb" class="mt lj it lh b gy my mv l mw mx">Mary</span></pre><p id="36c3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">显示在屏幕上。</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nk"><img src="../Images/e9a5672797e8dc413684db4f7795f0a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*La73omQUrSvV91Ke"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">简·梅乌斯在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h2 id="f78e" class="mt lj it bd lk mz na dn lo nb nc dp ls kr nd ne lw kv nf ng ma kz nh ni me nj bi translated">如何使用@Output()</h2><p id="e9f7" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">我们可以在子组件或指令中使用<code class="fe le lf lg lh b">@Output</code>装饰器将数据从子组件传递到父组件。</p><p id="688d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以如下使用它:</p><p id="3c17" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">app.module.ts</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="e909" class="mt lj it lh b gy mu mv l mw mx">import { BrowserModule } from '@angular/platform-browser';<br/>import { NgModule } from '@angular/core';</span><span id="00f2" class="mt lj it lh b gy my mv l mw mx">import { AppRoutingModule } from './app-routing.module';<br/>import { AppComponent } from './app.component';<br/>import { PersonComponent } from './person/person.component';</span><span id="7ca4" class="mt lj it lh b gy my mv l mw mx">@NgModule({<br/>  declarations: [<br/>    AppComponent,<br/>    PersonComponent<br/>  ],<br/>  imports: [<br/>    BrowserModule,<br/>    AppRoutingModule<br/>  ],<br/>  providers: [],<br/>  bootstrap: [AppComponent]<br/>})<br/>export class AppModule { }</span></pre><p id="1a60" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">app.component.ts</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="01ff" class="mt lj it lh b gy mu mv l mw mx">import { Component } from '@angular/core';</span><span id="066d" class="mt lj it lh b gy my mv l mw mx">@Component({<br/>  selector: 'app-root',<br/>  templateUrl: './app.component.html',<br/>  styleUrls: ['./app.component.css']<br/>})<br/>export class AppComponent {<br/>  emittedName: string;<br/>}</span></pre><p id="3f30" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">app.component.html</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="d191" class="mt lj it lh b gy mu mv l mw mx">&lt;app-person (name)='emittedName = $event'&gt;&lt;/app-person&gt;<br/>&lt;p&gt;{{emittedName}}&lt;/p&gt;</span></pre><p id="b8ce" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">person.component.ts</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="248a" class="mt lj it lh b gy mu mv l mw mx">import { Component, Output, EventEmitter } from '@angular/core';</span><span id="abab" class="mt lj it lh b gy my mv l mw mx">@Component({<br/>  selector: 'app-person',<br/>  templateUrl: './person.component.html',<br/>  styleUrls: ['./person.component.css']<br/>})<br/>export class PersonComponent {<br/>  @Output() name = new EventEmitter&lt;string&gt;();<br/>  emitName() {<br/>    this.name.emit('Jane');<br/>  }<br/>}</span></pre><p id="f0b9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">person.component.html</code>:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="143a" class="mt lj it lh b gy mu mv l mw mx">&lt;button (click)='emitName()'&gt;Get Name&lt;/button&gt;</span></pre><p id="1619" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们在<code class="fe le lf lg lh b">person.component.html</code>中有一个按钮，它调用<code class="fe le lf lg lh b">PersonComponent</code>的<code class="fe le lf lg lh b">emitName</code>方法将字符串<code class="fe le lf lg lh b">'Jane'</code>发送给带有<code class="fe le lf lg lh b">EventEmitter</code>的父组件。</p><p id="1561" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后在父组件<code class="fe le lf lg lh b">AppComponent</code>中，我们有:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="a757" class="mt lj it lh b gy mu mv l mw mx">&lt;app-person (name)='emittedName = $event'&gt;&lt;/app-person&gt;</span></pre><p id="2273" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<code class="fe le lf lg lh b">app.component.html</code>中。</p><p id="8284" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">$event</code>具有从<code class="fe le lf lg lh b">name</code>发射器发射的值。然后我们将其设置为<code class="fe le lf lg lh b">emittedName</code>并显示。</p><h1 id="863b" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">@Input()和@Output()一起</h1><p id="e002" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">我们可以一起使用它们。</p><p id="60e9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="a4c0" class="mt lj it lh b gy mu mv l mw mx">&lt;app-input-output [item]="currentItem" (deleteRequest)="deleteItem($event)"&gt;&lt;/app-input-output&gt;</span></pre><p id="e090" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们将<code class="fe le lf lg lh b">currentItem</code>传递给了<code class="fe le lf lg lh b">item</code>组件的<code class="fe le lf lg lh b">app-input-output</code>属性。</p><p id="0603" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从<code class="fe le lf lg lh b">app-input-output</code>发出<code class="fe le lf lg lh b">deleteRequest</code>，然后在发出<code class="fe le lf lg lh b">deleteRequest</code>时用从子进程传递的内容调用<code class="fe le lf lg lh b">deleteItem</code>方法。</p><p id="e695" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以向<code class="fe le lf lg lh b">Input</code>和<code class="fe le lf lg lh b">Output</code>传递一个名字来分别改变它们的名字，然后我们可以在模板中引用它们。</p><h1 id="3304" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">结论</h1><p id="a3f2" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">我们可以使用<code class="fe le lf lg lh b">NgSwitch</code>根据组件中某个东西的值来显示一个项目。</p><p id="ee65" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">模板变量让我们在模板中引用DOM元素并访问它的属性。</p><p id="9fe1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用<code class="fe le lf lg lh b">Input</code>和<code class="fe le lf lg lh b">Output</code>，我们可以将数据传递给子组件或指令，并将项目分别从子组件传递给父组件。</p></div></div>    
</body>
</html>