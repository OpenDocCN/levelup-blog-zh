<html>
<head>
<title>How to Use SVG Icons in a Next.js Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Next.js项目中使用SVG图标</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-use-svg-icons-in-a-next-js-project-f6f8256f9e12?source=collection_archive---------2-----------------------#2022-11-02">https://levelup.gitconnected.com/how-to-use-svg-icons-in-a-next-js-project-f6f8256f9e12?source=collection_archive---------2-----------------------#2022-11-02</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><figure class="gm go js jt ju jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj jr"><img src="../Images/0fb9d61f5643ef3846f60efacf989cee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VeuWhLPozX2v3u3b"/></div></div><figcaption class="kc kd gk gi gj ke kf bd b be z dk translated"><a class="ae kg" href="https://unsplash.com/@pankajpatel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Pankaj Patel </a>在<a class="ae kg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h2 id="80ad" class="kh ki iu bd kj kk kl dn km kn ko dp kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">前言</h2><p id="670f" class="pw-post-body-paragraph ld le iu lf b lg lh li lj lk ll lm ln kq lo lp lq ku lr ls lt ky lu lv lw lx in bi translated">对于SVGS来说，SVG图标比png/jpeg有很多优势，因为它们的尺寸更小，并且可以像改变CSS属性和动画一样进行编程。</p><p id="f85e" class="pw-post-body-paragraph ld le iu lf b lg ly li lj lk lz lm ln kq ma lp lq ku mb ls lt ky mc lv lw lx in bi translated">在本文中，我们将研究如何在Next.js项目中使用SVG图标。有4种方法可以用来显示SVG图标:</p><ol class=""><li id="0aed" class="md me iu lf b lg ly lk lz kq mf ku mg ky mh lx mi mj mk ml bi translated">使用Next.js的<code class="fe mm mn mo mp b">Image</code>组件</li><li id="d54d" class="md me iu lf b lg mq lk mr kq ms ku mt ky mu lx mi mj mk ml bi translated">使用<a class="ae kg" href="https://react-svgr.com/docs/what-is-svgr/" rel="noopener ugc nofollow" target="_blank"> SVGR </a></li><li id="948b" class="md me iu lf b lg mq lk mr kq ms ku mt ky mu lx mi mj mk ml bi translated">将SVG内容内联到JSX</li><li id="13e1" class="md me iu lf b lg mq lk mr kq ms ku mt ky mu lx mi mj mk ml bi translated">使SVG成为JavaScript常量变量</li></ol><h2 id="38fa" class="kh ki iu bd kj kk kl dn km kn ko dp kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">使用Next.js的图像组件</h2><p id="7944" class="pw-post-body-paragraph ld le iu lf b lg lh li lj lk ll lm ln kq lo lp lq ku lr ls lt ky lu lv lw lx in bi translated">每当我们使用<code class="fe mm mn mo mp b">create-next-app</code>创建一个Next.js项目时，我们可以看到<code class="fe mm mn mo mp b">public</code>目录包含一个<code class="fe mm mn mo mp b">vercel.svg</code>，它在<code class="fe mm mn mo mp b">page/index.tsx</code>文件中被引用。SVG图标呈现为图像:</p><figure class="mw mx my mz gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj mv"><img src="../Images/676debc1f93fb2e72e5a0390fa8fcafe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zYEfdD46tcDAyJI0hp7CJg.png"/></div></div></figure><p id="f856" class="pw-post-body-paragraph ld le iu lf b lg ly li lj lk lz lm ln kq ma lp lq ku mb ls lt ky mc lv lw lx in bi translated"><code class="fe mm mn mo mp b">Image</code>是一个Next.js组件，它是HTML <code class="fe mm mn mo mp b">&lt;img&gt;</code>元素的扩展，具有多种性能优化。</p><p id="f134" class="pw-post-body-paragraph ld le iu lf b lg ly li lj lk lz lm ln kq ma lp lq ku mb ls lt ky mc lv lw lx in bi translated">如果不想使用这个组件，可以直接使用<code class="fe mm mn mo mp b">&lt;img&gt;</code>元素。</p><pre class="mw mx my mz gu na mp nb nc aw nd bi"><span id="9be2" class="kh ki iu mp b gz ne nf l ng nh">&lt;img src="/vercel.svg"" alt="Vercel Logo" /&gt;</span></pre><h2 id="38bd" class="kh ki iu bd kj kk kl dn km kn ko dp kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">使用SVGR</h2><p id="8861" class="pw-post-body-paragraph ld le iu lf b lg lh li lj lk ll lm ln kq lo lp lq ku lr ls lt ky lu lv lw lx in bi translated">SVGR是将SVG转换成React组件的工具，支持Webpack、Rollup.js、Next.js等。</p><p id="d3e9" class="pw-post-body-paragraph ld le iu lf b lg ly li lj lk lz lm ln kq ma lp lq ku mb ls lt ky mc lv lw lx in bi translated">对于Next.js项目，我们需要首先安装<code class="fe mm mn mo mp b">@svgr/webpack</code>加载器:</p><pre class="mw mx my mz gu na mp nb nc aw nd bi"><span id="a402" class="kh ki iu mp b gz ne nf l ng nh">npm install --save-dev @svgr/webpack</span></pre><p id="86da" class="pw-post-body-paragraph ld le iu lf b lg ly li lj lk lz lm ln kq ma lp lq ku mb ls lt ky mc lv lw lx in bi translated">然后修改Next.js项目根目录下的<code class="fe mm mn mo mp b">next.config.js</code>，配置<code class="fe mm mn mo mp b">@svgr/webpack</code>:</p><pre class="mw mx my mz gu na mp nb nc aw nd bi"><span id="eb03" class="kh ki iu mp b gz ne nf l ng nh">module.exports = {<br/>  webpack(config) {<br/>    config.module.rules.push({<br/>      test: /\.svg$/i,<br/>      issuer: /\.[jt]sx?$/,<br/>      use: ['<a class="ae kg" href="http://twitter.com/svgr/webpack" rel="noopener ugc nofollow" target="_blank">@svgr/webpack</a>'],<br/>    })</span><span id="2473" class="kh ki iu mp b gz ni nf l ng nh">    return config<br/>  },<br/>}</span></pre><p id="bc63" class="pw-post-body-paragraph ld le iu lf b lg ly li lj lk lz lm ln kq ma lp lq ku mb ls lt ky mc lv lw lx in bi translated">然后在我们的代码中，我们可以将SVG图标作为普通的React组件导入:</p><pre class="mw mx my mz gu na mp nb nc aw nd bi"><span id="4382" class="kh ki iu mp b gz ne nf l ng nh">import VercelLogo from '../public/vercel.svg';</span><span id="bcc1" class="kh ki iu mp b gz ni nf l ng nh">const Footer = () =&gt; {<br/>  return &lt;footer&gt; &lt;VercelLogo /&gt; &lt;/footer&gt;<br/>};</span></pre><p id="c4d6" class="pw-post-body-paragraph ld le iu lf b lg ly li lj lk lz lm ln kq ma lp lq ku mb ls lt ky mc lv lw lx in bi translated">React会将SVG图标呈现为html <code class="fe mm mn mo mp b">&lt;svg&gt;</code>元素，所以我们可以通过CSS改变颜色或其他属性。</p><h2 id="265a" class="kh ki iu bd kj kk kl dn km kn ko dp kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">将SVG内容内联到JSX</h2><p id="7eba" class="pw-post-body-paragraph ld le iu lf b lg lh li lj lk ll lm ln kq lo lp lq ku lr ls lt ky lu lv lw lx in bi translated">SVG图标是基于html <code class="fe mm mn mo mp b">&lt;svg&gt;</code>元素的，我们也可以将SVG内容内联到JSX:</p><pre class="mw mx my mz gu na mp nb nc aw nd bi"><span id="9d6b" class="kh ki iu mp b gz ne nf l ng nh">const Footer = () =&gt; {<br/>  return (<br/>    &lt;footer&gt;<br/>      &lt;svg width="283" height="64" viewBox="0 0 283 64" fill="none" &gt;<br/>        &lt;path d="M141.04 16c-11.04 0-19 7.2-19 18s8.96 18 20 18c6.67 0 12.55-2.64 16.19-7.09l-7.65-4.42c-2.02 2.21-5.09 3.5-8.54 3.5-4.79 0-8.86-2.5-10.37-6.5h28.02c.22-1.12.35-2.28.35-3.5 0-10.79-7.96-17.99-19-17.99zm-9.46 14.5c1.25-3.99 4.67-6.5 9.45-6.5 4.79 0 8.21 2.51 9.45 6.5h-18.9zM248.72 16c-11.04 0-19 7.2-19 18s8.96 18 20 18c6.67 0 12.55-2.64 16.19-7.09l-7.65-4.42c-2.02 2.21-5.09 3.5-8.54 3.5-4.79 0-8.86-2.5-10.37-6.5h28.02c.22-1.12.35-2.28.35-3.5 0-10.79-7.96-17.99-19-17.99zm-9.45 14.5c1.25-3.99 4.67-6.5 9.45-6.5 4.79 0 8.21 2.51 9.45 6.5h-18.9zM200.24 34c0 6 3.92 10 10 10 4.12 0 7.21-1.87 8.8-4.92l7.68 4.43c-3.18 5.3-9.14 8.49-16.48 8.49-11.05 0-19-7.2-19-18s7.96-18 19-18c7.34 0 13.29 3.19 16.48 8.49l-7.68 4.43c-1.59-3.05-4.68-4.92-8.8-4.92-6.07 0-10 4-10 10zm82.48-29v46h-9V5h9zM36.95 0L73.9 64H0L36.95 0zm92.38 5l-27.71 48L73.91 5H84.3l17.32 30 17.32-30h10.39zm58.91 12v9.69c-1-.29-2.06-.49-3.2-.49-5.81 0-10 4-10 10V51h-9V17h9v9.2c0-5.08 5.91-9.2 13.2-9.2z" fill="#000"/&gt;<br/>      &lt;/svg&gt;<br/>    &lt;/footer&gt;<br/>  );<br/>}</span></pre><p id="e88e" class="pw-post-body-paragraph ld le iu lf b lg ly li lj lk lz lm ln kq ma lp lq ku mb ls lt ky mc lv lw lx in bi translated">但是它会使JSX变得混乱，当我们需要替换或导入更多的SVG图标时，这将是一场灾难。</p><h2 id="4fee" class="kh ki iu bd kj kk kl dn km kn ko dp kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">使SVG成为JavaScript常量变量</h2><p id="67ba" class="pw-post-body-paragraph ld le iu lf b lg lh li lj lk ll lm ln kq lo lp lq ku lr ls lt ky lu lv lw lx in bi translated">正如我们所知，React通过使用<code class="fe mm mn mo mp b">dangerouslySetInnerHTML</code>属性支持将字符串呈现为html。所以我们可以将svg作为一个常量变量:</p><pre class="mw mx my mz gu na mp nb nc aw nd bi"><span id="8b3e" class="kh ki iu mp b gz ne nf l ng nh">const logoString = '&lt;svg width="283" height="64" viewBox="0 0 283 64" fill="none" &gt;&lt;path d="M141.04 16c-11.04 0-19 7.2-19 18s8.96 18 20 18c6.67 0 12.55-2.64 16.19-7.09l-7.65-4.42c-2.02 2.21-5.09 3.5-8.54 3.5-4.79 0-8.86-2.5-10.37-6.5h28.02c.22-1.12.35-2.28.35-3.5 0-10.79-7.96-17.99-19-17.99zm-9.46 14.5c1.25-3.99 4.67-6.5 9.45-6.5 4.79 0 8.21 2.51 9.45 6.5h-18.9zM248.72 16c-11.04 0-19 7.2-19 18s8.96 18 20 18c6.67 0 12.55-2.64 16.19-7.09l-7.65-4.42c-2.02 2.21-5.09 3.5-8.54 3.5-4.79 0-8.86-2.5-10.37-6.5h28.02c.22-1.12.35-2.28.35-3.5 0-10.79-7.96-17.99-19-17.99zm-9.45 14.5c1.25-3.99 4.67-6.5 9.45-6.5 4.79 0 8.21 2.51 9.45 6.5h-18.9zM200.24 34c0 6 3.92 10 10 10 4.12 0 7.21-1.87 8.8-4.92l7.68 4.43c-3.18 5.3-9.14 8.49-16.48 8.49-11.05 0-19-7.2-19-18s7.96-18 19-18c7.34 0 13.29 3.19 16.48 8.49l-7.68 4.43c-1.59-3.05-4.68-4.92-8.8-4.92-6.07 0-10 4-10 10zm82.48-29v46h-9V5h9zM36.95 0L73.9 64H0L36.95 0zm92.38 5l-27.71 48L73.91 5H84.3l17.32 30 17.32-30h10.39zm58.91 12v9.69c-1-.29-2.06-.49-3.2-.49-5.81 0-10 4-10 10V51h-9V17h9v9.2c0-5.08 5.91-9.2 13.2-9.2z" fill="#000"/&gt;&lt;/svg&gt;'</span><span id="57c8" class="kh ki iu mp b gz ni nf l ng nh">const Footer = () =&gt; {<br/>  return  &lt;footer  dangerouslySetInnerHTML={{__html: logoString}} /&gt;;<br/>};</span></pre><p id="6227" class="pw-post-body-paragraph ld le iu lf b lg ly li lj lk lz lm ln kq ma lp lq ku mb ls lt ky mc lv lw lx in bi translated">通过使用<code class="fe mm mn mo mp b">dangerouslySetInnerHTML</code>，字符串中的整个html将被保留，这可能会使您的用户遭受XSS攻击。另一种方法是使用一个<a class="ae kg" href="https://github.com/remarkablemark/html-react-parser" rel="noopener ugc nofollow" target="_blank"> html-react-parser </a>库，它将html字符串转换成react组件。</p><h2 id="9d9c" class="kh ki iu bd kj kk kl dn km kn ko dp kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">结论</h2><p id="2cc5" class="pw-post-body-paragraph ld le iu lf b lg lh li lj lk ll lm ln kq lo lp lq ku lr ls lt ky lu lv lw lx in bi translated">在本文中，我们学习了在Next.js项目中使用SVG图标的4种方法。如果你需要改变悬停时SVG图标的颜色，图像的方式是不适合的。</p><p id="6a76" class="pw-post-body-paragraph ld le iu lf b lg ly li lj lk lz lm ln kq ma lp lq ku mb ls lt ky mc lv lw lx in bi translated">在我的项目中，最常用的方法是SVGR，因为它将SVG图标作为一个React组件，React最重要的特性是基于组件的。</p></div><div class="ab cl nj nk hy nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="in io ip iq ir"><h1 id="1e68" class="nq ki iu bd kj nr ns nt km nu nv nw kp nx ny nz kt oa ob oc kx od oe of lb og bi translated">分级编码</h1><p id="3faf" class="pw-post-body-paragraph ld le iu lf b lg lh li lj lk ll lm ln kq lo lp lq ku lr ls lt ky lu lv lw lx in bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="3ea3" class="md me iu lf b lg ly lk lz kq mf ku mg ky mh lx oh mj mk ml bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="06ce" class="md me iu lf b lg mq lk mr kq ms ku mt ky mu lx oh mj mk ml bi translated">📰查看<a class="ae kg" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">升级编码出版物</a>中的更多内容</li><li id="edec" class="md me iu lf b lg mq lk mr kq ms ku mt ky mu lx oh mj mk ml bi translated">🔔关注我们:<a class="ae kg" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae kg" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae kg" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="73cf" class="pw-post-body-paragraph ld le iu lf b lg ly li lj lk lz lm ln kq ma lp lq ku mb ls lt ky mc lv lw lx in bi translated">🚀👉<a class="ae kg" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="lf iv">将像你这样的开发人员安置在顶级初创公司和科技公司</strong> </a></p></div></div>    
</body>
</html>