# Web API 开发项目的 Golang 与 Rust:快速比较

> 原文：<https://levelup.gitconnected.com/golang-vs-rust-for-web-api-development-projects-a-quick-comparison-fcc2ae2d0f6d>

![](img/2095f533d0a42e4fad9d3e40544c66f4.png)

设计时的选择！

选择 web 框架是一个极其艰难的决定。在决定框架之前，我们必须真正理解需求、用例以及一些非功能性的考虑。这篇文章强调了几个针对**高性能**web API 项目的**设计选择**，并在几个因素上对比了 **Golang** 和 **Rust** 。

# 戈朗

在过去的几年里，Golang 已经发展成熟，成为一种特别好的 web 应用程序开发语言。有许多框架可以帮助开发人员快速编写 REST APIs、GRPC API 和大量高性能后端系统。选择 Golang 作为 web 框架的主要原因之一是它的**性能、内存消耗、构建时间和开发人员生产力**——更不用说**云原生**支持了。我们将在接下来的章节中讨论这些因素，并比较 Golang 和 Rust。Rust vs Golang 中经常出现的是**内存管理**。首先，尽管 Golang 是一种非常高效的语言，但内存管理是通过垃圾收集器完成的。

> Golang 有一个非常高效的垃圾收集器。对于大多数应用程序来说，它的性能非常好。

我们将详细讨论内存管理。在此之前，我们先来看看一些最流行的 Go web 框架。 *( Echo 开始成为我的最爱了。)*

1.  实验室堆栈回声
2.  杜松子酒
3.  纤维
4.  装备
5.  快速 http

还有很多。请参考此链接获取完整列表。[https://github.com/mingrammer/go-web-framework-stars](https://github.com/mingrammer/go-web-framework-stars)

# 锈

现在我们来谈谈铁锈。传统上，Rust 被比作 C++系统编程语言。在过去的几年里，它已经成为许多社区的焦点。作为一种语言，它是顶层，有许多构造，使开发人员能够设计和编写漂亮的代码。就个人而言，随着 Rust 的发展，我认为它既是一种系统编程语言，也是一种通用编程语言——当然还有手动内存管理的警告。这就是为什么 Rust 似乎有一个陡峭的学习曲线。

不考虑它的学习曲线和内存管理，在过去的几年中出现了很多框架来迎合 Rust 内部的 Web 和 API 开发。更不用说他们在各种各样的基准测试中拥有最高的性能统计数据。下面是 RUST world 中的几个 web 框架。

1.  **Actix Web**
2.  **Axum**
3.  **火箭火箭**
4.  高度紧张的

*借助 rust 中的这些框架，用 Rust 写一个 API 极其简单。*

但是编写产品质量的应用程序的挑战是不要启动它。而是维护它，并真正确保它能够在一段时间内合理地增长并满足业务需求。

让我们看看在选择这些语言时必须考虑的一些因素。

# 表演

说到性能，**毫无疑问 Rust 是领头羊。**Rust 和 go 之间的大多数基准测试显示 Rust 至少比 go 领先 15-30%。这并不奇怪，因为 Rust 没有垃圾收集器。所有的内存管理都是显式的。开发人员通过遵循一定的规则来管理内存。另一方面，Go 有一个垃圾收集器，让开发人员不用担心管理内存。还有其他原因导致 Rust 的运行速度更快。但是需要注意的重要一点是，这是有成本的，我们作为开发人员必须为编写 **Performant Rust 代码付出代价。在这一点上，重要的是要考虑你的应用程序的功能需求是否值得编写代码和投资。**

编写几个`Hello World`程序和一些简单的程序是很简单的，但是随着你的应用程序的增长，如果你的团队没有 Rust 开发人员，这将是一个痛苦。开始开发固然重要，但长期支持和维护它更为重要。

# 开发人员和库支持

我们通常认为微服务是 REST API 公开的一些功能。这是真的，但更多的时候，REST APIs 也处理大量的复杂性和抽象应用程序中的复杂动作。例如，多个服务交互、事务管理、安全性、日志记录、对象存储、消息传递都是 API 通常处理的事情的例子。在思考和规划您的项目时，要考虑开发这些特性的可用集成、帮助、支持和时间。想一些紧随其后的未来用例/需求。

对于这个问题，没有简单的答案来选择是锈还是走。这在很大程度上取决于您正在构建的功能和服务。

总的来说，在撰写本文时，Golang 有一个庞大的社区，已经为几乎所有的东西开发了库/中间件。云工具对它也有很大的支持。

显然，Rust 不会落后，因为它已经成为世界上最受欢迎的语言之一。但是社区还在成长。在某些方面(当然，总的来说)，与 go 相比，事情可能有点难以处理。

如果您真的准备投入一些时间，因为您的应用程序是任务关键型的，需要绝对的性能、安全性和稳定性，您可以花时间自己编写这些。

# 并发

我经常听到人们谈论 Go 中的并发性。太棒了。Rust 有什么叫做'**无畏并发'**。这是编译器帮助您避免常见并发问题的地方，如死锁、竞争条件和内存问题。当比较围棋和铁锈时，我不会站在哪一边。这主要是因为它的易用性。

这两种方法各有利弊。在某些情况下，由于 Rust 的异步编程原语，我会站在 Rust 一边。但是当我想在程序中嵌入一些并发性时，我喜欢 Go。开箱即用非常简单。

在大多数情况下，您选择的框架处理请求的并发性，您不必担心一些基本的问题。

# 开发人员支持和业务优先级

当在企业工作时，这是非常特殊的事情。像所有其他软件架构和设计一样，您的应用程序需求决定了框架和实现。我建议在 Go 和 Rust 之间谨慎选择。将业务视为重要的优先事项之一。反复问自己一个问题，选择 Rust 而不是 golang 是否有意义，考虑到这也是雇用开发人员并让他们提高能力的一项努力。应用程序的性质是否证明投资 Rust 并维护它是合理的？

尽管 Rust 的编译器在这方面做得很好，但随着时间的推移，培训人员和雇佣人员的成本也很高。这不是一个技术上的设计选择，但是如果你在你的组织内部开发应用程序，这是一个重要的选择。另一方面，Golang 的学习曲线很短，语义简单，应用程序开发周期也非常快。

# 摘要

我喜欢 Rust 和 Go 各自的用例。它们是我大部分开发项目的首选之一。但是我已经学会在两者之间做出明智的选择。最初在 Go 中原型化和构建也是可以的，如果它证明是正确的，就移植到 rust。毕竟，这就是编写服务的美妙之处。

例如，如果您正在构建下一个 API，用于从 s3 向全世界提供图像。毫无疑问，我会选择 rust 而不是 go。但是如果你正在编写一个 crud admin API /一个内部工具，其中 Golang 中的垃圾收集不会有性能峰值或与内存管理相关的安全问题，我会选择 Golang。

Rust 在避免内存问题方面非常出色，但同时我们有很好的工具来检测其他语言中的这类问题。您所做的选择可能会影响项目的财务、生产力，甚至是长期的可交付性。

出于好奇，我对 Rust 和 Golang 中实现的 REST API 进行了一个非常简单的性能测试。虽然我认为这些不会导致生锈，但它让我得到了一些数字，以供将来设计时参考。请参考下面的文章:

[](https://shanmukhsista.medium.com/go-vs-rust-web-api-performance-testing-rust-baseline-part-1-f35c5f21e64b) [## Go vs Rust Web API 性能测试— Rust 基线第 1 部分

### 人们普遍认为 RUST APIs 是性能最好的 API，因为它的语言语义和人工记忆…

shanmukhsista.medium.com](https://shanmukhsista.medium.com/go-vs-rust-web-api-performance-testing-rust-baseline-part-1-f35c5f21e64b) [](https://shanmukhsista.medium.com/rust-and-golang-web-apis-performance-testing-results-objective-data-points-to-choose-between-fd7a84c4272f) [## Rust 和 Golang Web APIs 性能测试结果—可供选择的客观数据点…

### 在这篇文章中，我将分享一个用 Golang 和 Rust 写的 API 的客观比较。在我…

shanmukhsista.medium.com](https://shanmukhsista.medium.com/rust-and-golang-web-apis-performance-testing-results-objective-data-points-to-choose-between-fd7a84c4272f) 

> **请继续关注我，了解更多！**