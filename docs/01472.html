<html>
<head>
<title>Swift Tips and Tricks #1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Swift提示和技巧#1</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/tips-and-tricks-to-improve-your-swift-code-138a7d1e1bd8?source=collection_archive---------10-----------------------#2020-01-05">https://levelup.gitconnected.com/tips-and-tricks-to-improve-your-swift-code-138a7d1e1bd8?source=collection_archive---------10-----------------------#2020-01-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/cf4a835adaeb4a808a4f8aff962326d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*56TelAbnj3X34UtuTuePgQ.jpeg"/></div></div></figure><p id="f089" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可能已经看到了我下面要展示的一些甚至全部内容。以上是我向我的兄弟(他在不到一年前开始从事iOS开发)、朋友和同事传授的一些技巧和诀窍。</p><p id="b1d1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这些只是简单的提示或技巧，可以改变你的代码的结果，或者是我喜欢每天应用到我的代码中的东西。</p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="20d6" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">1.将可选值与精确值进行比较</h1><p id="5573" class="pw-post-body-paragraph jy jz iq ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated">如果您要将一个可选值与一个精确值进行比较，您不需要打开它。</p><p id="87d5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这样的事情很常见:</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="c80b" class="mp le iq ml b gy mq mr l ms mt"><strong class="ml ir">var </strong>someOptionalString: String?<strong class="ml ir"><br/>if</strong> <strong class="ml ir">let</strong> stringValue = someOptionalString, stringValue.isEmpty { ... }</span></pre><p id="fe75" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您的目标只是检查字符串是否为空并对其进行操作，您可以简单地将<strong class="ka ir"> <em class="mu"> isEmpty </em> </strong>与您期望的确切结果进行比较，结果如下:</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="24d2" class="mp le iq ml b gy mq mr l ms mt"><strong class="ml ir">var </strong>someOptionalString: String?<strong class="ml ir"><br/>if</strong> stringValue?.isEmpty == false { ... }</span></pre><h1 id="af8b" class="ld le iq bd lf lg mv li lj lk mw lm ln lo mx lq lr ls my lu lv lw mz ly lz ma bi translated">2.在将布尔值声明为可选之前，请三思</h1><p id="2063" class="pw-post-body-paragraph jy jz iq ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated">当我们创建布尔值时，我们通常想要验证某个值是<strong class="ka ir"> <em class="mu">真</em>还是<em class="mu">假</em> </strong> <em class="mu">，</em>所以这个属性有<strong class="ka ir"> 2 </strong>个可能的值。是啊，这听起来很简单，对吧？！记住这一点。</p><p id="880d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当一个布尔值被声明为<strong class="ka ir"> <em class="mu">可选、</em> </strong>时，我们最终得到了<strong class="ka ir"> 3个</strong>可能的值:<strong class="ka ir"> <em class="mu">真</em> </strong>、<strong class="ka ir"> <em class="mu">假</em> </strong>、<strong class="ka ir"> </strong>和<strong class="ka ir"> <em class="mu">零</em> </strong>。</p><p id="e884" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我想说的是:</p><ul class=""><li id="8b5d" class="na nb iq ka b kb kc kf kg kj nc kn nd kr ne kv nf ng nh ni bi translated">那是你真正想要的吗？<strong class="ka ir"><em class="mu">nil</em></strong><em class="mu">真的有必要吗？</em></li><li id="54ce" class="na nb iq ka b kb nj kf nk kj nl kn nm kr nn kv nf ng nh ni bi translated"><em class="mu">你真的需要三种可能的状态吗？</em></li><li id="1675" class="na nb iq ka b kb nj kf nk kj nl kn nm kr nn kv nf ng nh ni bi translated"><em class="mu">这个属性没有默认值吗？</em></li></ul><h1 id="db80" class="ld le iq bd lf lg mv li lj lk mw lm ln lo mx lq lr ls my lu lv lw mz ly lz ma bi translated">3.将嵌套类型用于命名空间</h1><blockquote class="no np nq"><p id="bcd7" class="jy jz mu ka b kb kc kd ke kf kg kh ki nr kk kl km ns ko kp kq nt ks kt ku kv ij bi translated">在<strong class="ka ir">计算</strong>中，<strong class="ka ir">命名空间</strong>是一组用于组织各种对象的符号，以便这些对象可以通过名称来引用。<strong class="ka ir">名称空间</strong>确保其中的所有标识符都有唯一的名称，这样就可以很容易地识别它们。<br/>(来源:<a class="ae nu" href="https://en.wikipedia.org/wiki/Namespace" rel="noopener ugc nofollow" target="_blank">维基百科</a>)</p></blockquote><p id="a2e4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在Swift中，这可以通过使用<strong class="ka ir">嵌套类型</strong>来实现。</p><figure class="mg mh mi mj gt jr"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="57c1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">正如定义所说，名称空间可以为您提供更多的上下文，这可以使您的代码更简洁，更不容易出错。</p><h1 id="a973" class="ld le iq bd lf lg mv li lj lk mw lm ln lo mx lq lr ls my lu lv lw mz ly lz ma bi translated">4.为协议中的参数提供默认值</h1><p id="66ee" class="pw-post-body-paragraph jy jz iq ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated">当从某个东西中提取接口时，找到带有默认参数的方法是非常常见的，而Swift协议不允许你有这种情况。为了保持兼容性，最好不要改变这种行为。</p><p id="1d8b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以使用协议扩展来解决这个问题，并保持方法与以前完全一样。</p><figure class="mg mh mi mj gt jr"><div class="bz fp l di"><div class="nv nw l"/></div></figure><h1 id="f3f6" class="ld le iq bd lf lg mv li lj lk mw lm ln lo mx lq lr ls my lu lv lw mz ly lz ma bi translated">5.为您的单件使用接口</h1><p id="b0e9" class="pw-post-body-paragraph jy jz iq ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated">首先，并不是所有的问题都需要用单例来解决，只是因为更简单。但是，当你真的需要时，为它们创建接口是非常有用的。这些接口对于在创建测试时避免副作用非常重要。</p><figure class="mg mh mi mj gt jr"><div class="bz fp l di"><div class="nv nw l"/></div></figure></div></div>    
</body>
</html>