<html>
<head>
<title>Using Static Types in TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在TypeScript中使用静态类型</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/using-static-types-in-typescript-681c223c70d9?source=collection_archive---------12-----------------------#2020-06-12">https://levelup.gitconnected.com/using-static-types-in-typescript-681c223c70d9?source=collection_archive---------12-----------------------#2020-06-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/6986ea82d980dcf2461d6ce108138787.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wNO85gwCY5ndItR2"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">卢西恩·阿利克夏在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="6028" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">TypeScript是JavaScript的自然扩展，在许多项目中取代了JavaScript。</p><p id="cc57" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，并不是每个人都知道它实际上是如何工作的。</p><p id="02f8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将研究静态类型在TypeScript项目中的使用。</p><h1 id="5388" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">静态类型</h1><p id="2a8a" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">TypeScript类型不同于JbaScript类型。我们可以指定比JavaScript允许的更多的数据类型。</p><p id="8f33" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">JavaScript是动态类型的。这对于熟悉其他语言的编程来说是一个障碍。</p><p id="bad6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在JavaScript中，值有类型而不是变量。</p><p id="3f68" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，如果我们有:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="dfe6" class="mq lf it mm b gy mr ms l mt mu">let x = 1;</span></pre><p id="6c77" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们可以用<code class="fe mv mw mx mm b">typeof</code>操作符得到<code class="fe mv mw mx mm b">x</code>的值的类型，即1。</p><p id="96e1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="d531" class="mq lf it mm b gy mr ms l mt mu">typeof x</span></pre><p id="2cb1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们会得到<code class="fe mv mw mx mm b">'number'</code>。</p><p id="35bb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们不给某物赋值，那么它的类型就是<code class="fe mv mw mx mm b">undefined</code>。</p><p id="53a5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">类型为<code class="fe mv mw mx mm b">undefined</code>的值只能是<code class="fe mv mw mx mm b">undefined</code>。</p><p id="b0a7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">JavaScript只有以下内置类型。</p><ul class=""><li id="3f06" class="my mz it ki b kj kk kn ko kr na kv nb kz nc ld nd ne nf ng bi translated"><code class="fe mv mw mx mm b">number</code> —表示数值的数据类型</li><li id="cfca" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated"><code class="fe mv mw mx mm b">string</code> —表示文本数据的数据类型</li><li id="0684" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated"><code class="fe mv mw mx mm b">boolean</code> — <code class="fe mv mw mx mm b">true</code>或<code class="fe mv mw mx mm b">false</code></li><li id="8404" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated"><code class="fe mv mw mx mm b">symbol</code>—表示唯一常数值的数据类型</li><li id="3c3f" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated"><code class="fe mv mw mx mm b">null</code> —值<code class="fe mv mw mx mm b">null</code>，用于表示不存在或无效的引用</li><li id="9d57" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated"><code class="fe mv mw mx mm b">undefined</code> —已定义变量但尚未赋值时使用的数据类型</li><li id="b8c7" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated"><code class="fe mv mw mx mm b">object</code> —表示复合值。</li></ul><p id="1c22" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">变量可以被赋予这些类型中的任何一种。</p><p id="f4a4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">函数参数类型也是动态的。这意味着参数可以接收任何类型的数据。</p><p id="67b1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，为了让我们的生活更轻松，我们可以使用TypeScript来帮助我们定义一些类型。</p><h1 id="0ef5" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">使用类型批注创建静态类型</h1><p id="1f44" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以用TypeScript创建带有类型注释的静态类型。</p><p id="0418" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">TypeScript中最基本的数据类型是静态类型。</p><p id="80f2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以用数据类型注释来注释变量和参数，以使我们的假设明确。</p><p id="dedc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">同样，我们可以对参数做同样的事情。</p><p id="4ad7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="a9f6" class="mq lf it mm b gy mr ms l mt mu">const add = (a: number, b: number): number =&gt; {<br/>  return a + b;<br/>};</span></pre><p id="9856" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们有<code class="fe mv mw mx mm b">add</code>函数，它有参数<code class="fe mv mw mx mm b">a</code>和<code class="fe mv mw mx mm b">b</code>，两者都是数字。</p><p id="7eb5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还会在将它们相加后返回一个数字。</p><p id="6e5a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是最基本的类型注释，有助于防止出错。</p><p id="2267" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们传入任何不是数字的东西，我们将从TypeScript编译器得到错误。</p><p id="09ab" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">同样，我们可以给变量添加类型注释。</p><p id="fae8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="f08b" class="mq lf it mm b gy mr ms l mt mu">let price: number = 100;</span></pre><p id="b612" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">限制<code class="fe mv mw mx mm b">price</code>只能被分配号码。</p><h1 id="d1a0" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">隐式定义的静态类型</h1><p id="1f0c" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">如果类型从赋值中显而易见，那么我们就不必显式地编写数据类型注释。</p><p id="5636" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，如果我们有上面的例子:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="2e40" class="mq lf it mm b gy mr ms l mt mu">let price: number = 100;</span></pre><p id="647a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以去掉类型注释，写成:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="9099" class="mq lf it mm b gy mr ms l mt mu">let price = 100;</span></pre><p id="d3fb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">TypeScript编译器将自动推断类型。</p><p id="adf6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">同样，我们可以对返回类型做同样的事情。</p><p id="4e5d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="26da" class="mq lf it mm b gy mr ms l mt mu">const getTax = (price: number) =&gt; {<br/>  return (price * 0.2).toFixed(2);<br/>};</span><span id="5e84" class="mq lf it mm b gy nm ms l mt mu">const halfTax = getTax(100) / 2;<br/>console.log(tax);</span></pre><p id="c6bc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们将在倒数第二行得到错误“算术运算的左侧必须是' any '、' number '、' bigint '或enum type.ts(2362)'。</p><p id="1de4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是因为TypeScript编译器知道我们只能将一个数除以2。</p><p id="ad6b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们的代码没有编译器错误，那么编译器会在我们运行代码时编译它。</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nn"><img src="../Images/f1fa6e37a1e6d873367ad3e123edfa2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jJbv3Q3EAl9g9pyA"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">米哈伊尔·瓦西里耶夫在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h1 id="b8b7" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">任何类型</h1><p id="53ca" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">TypeScript并没有阻止我们灵活使用数据类型。</p><p id="70f8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它为我们提供了<code class="fe mv mw mx mm b">any</code>时间来绕过编译器所做的数据类型检查。</p><p id="84db" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，它确实阻止了我们不小心使用它。</p><p id="6992" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以把<code class="fe mv mw mx mm b">getTax</code>改成:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="a328" class="mq lf it mm b gy mr ms l mt mu">const getTax = (price: any): any =&gt; {<br/>  return (price * 0.2).toFixed(2);<br/>};</span></pre><p id="3e70" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这样我们就可以返回任何我们想要的东西，并接受任何我们想要的参数。</p><p id="297a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，我们不应该过多地使用<code class="fe mv mw mx mm b">any</code>，这样我们就可以利用TypeScript的优势。</p><h1 id="185b" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="49cb" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以将静态数据类型用于基本数据类型注释。</p><p id="4501" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">TypeScript还会针对明显的情况进行类型推断，因此我们不必总是添加数据类型注释。</p><p id="2863" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另外，它有<code class="fe mv mw mx mm b">any</code>类型，可以让我们给变量、参数赋值，或者返回任何东西，但是我们不应该过多地使用它。</p></div></div>    
</body>
</html>