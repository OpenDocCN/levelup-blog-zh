<html>
<head>
<title>Useful Git Commands You Can Use Every Day</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">每天都可以使用的有用的Git命令</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/git-useful-command-for-daily-work-255b1927d21b?source=collection_archive---------5-----------------------#2020-01-31">https://levelup.gitconnected.com/git-useful-command-for-daily-work-255b1927d21b?source=collection_archive---------5-----------------------#2020-01-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/c69cc4b291c187dbdb442c93fb52e069.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lH3o14_O9fsDbQRq"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated"><a class="ae jd" href="https://unsplash.com/@yancymin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">扬西·敏</a>在<a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><div class=""/><blockquote class="kd ke kf"><p id="a71d" class="kg kh ki kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">这是我日常使用的Git命令的集合。我会继续添加它们，因为我发现其他有用的。</p></blockquote><p id="cbf0" class="pw-post-body-paragraph kg kh jg kj b kk kl km kn ko kp kq kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">作为承诺，我会更新一些有用的命令，请跟进:</p><ul class=""><li id="c31c" class="li lj jg kj b kk kl ko kp lf lk lg ll lh lm le ln lo lp lq bi translated">修订版1(2020年2月10日):更新了第4项的注释，为第13项增加了两个命令，增加了新的第16、17、18项</li><li id="6c98" class="li lj jg kj b kk lr ko ls lf lt lg lu lh lv le ln lo lp lq bi translated">修订版2(2020年2月19日):增加新项目19、20、21</li></ul><h2 id="18c1" class="lw lx jg bd ly lz ma dn mb mc md dp me lf mf mg mh lg mi mj mk lh ml mm mn mo bi translated">1.放弃本地文件修改</h2><pre class="mp mq mr ms gt mt mu mv mw aw mx bi"><span id="e0b2" class="lw lx jg mu b gy my mz l na nb"># discard specific file<br/>git checkout -- &lt;file_path&gt;</span><span id="fb9d" class="lw lx jg mu b gy nc mz l na nb"># discard all unstaged change<br/>git checkout -- .</span><span id="0901" class="lw lx jg mu b gy nc mz l na nb"># discard unstaged changes since &lt;commit&gt;.<br/>git checkout &lt;commit&gt;</span></pre><h2 id="e346" class="lw lx jg bd ly lz ma dn mb mc md dp me lf mf mg mh lg mi mj mk lh ml mm mn mo bi translated">2.撤消本地提交</h2><pre class="mp mq mr ms gt mt mu mv mw aw mx bi"><span id="64f4" class="lw lx jg mu b gy my mz l na nb"># discard staged and unstaged changes since the most recent commit.<br/>git reset HEAD~1<br/>git reset --hard HEAD~1</span></pre><h2 id="d67e" class="lw lx jg bd ly lz ma dn mb mc md dp me lf mf mg mh lg mi mj mk lh ml mm mn mo bi translated">3.编辑提交消息</h2><pre class="mp mq mr ms gt mt mu mv mw aw mx bi"><span id="0e3c" class="lw lx jg mu b gy my mz l na nb"># add your staged changes to the most recent commit<br/>git commit --amend<br/>git commit --amend -m "New message"</span></pre><h2 id="6c9e" class="lw lx jg bd ly lz ma dn mb mc md dp me lf mf mg mh lg mi mj mk lh ml mm mn mo bi translated">4.删除本地分支</h2><pre class="mp mq mr ms gt mt mu mv mw aw mx bi"><span id="fa6c" class="lw lx jg mu b gy my mz l na nb">git branch -d branchname # Delete branchname if it is already merged<br/>git branch -D branchname # Force delete branchname</span></pre><h2 id="4edd" class="lw lx jg bd ly lz ma dn mb mc md dp me lf mf mg mh lg mi mj mk lh ml mm mn mo bi translated">5.删除远程分支</h2><pre class="mp mq mr ms gt mt mu mv mw aw mx bi"><span id="25ac" class="lw lx jg mu b gy my mz l na nb">git push --delete origin branchname<br/>git push origin :branchname</span></pre><h2 id="6ace" class="lw lx jg bd ly lz ma dn mb mc md dp me lf mf mg mh lg mi mj mk lh ml mm mn mo bi translated">6.还原推送的提交</h2><pre class="mp mq mr ms gt mt mu mv mw aw mx bi"><span id="ad76" class="lw lx jg mu b gy my mz l na nb"># reverts the commit with the specified id<br/>git revert c761f5c<br/><br/># reverts the second to last commit<br/>git revert HEAD^<br/><br/># reverts a whole range of commits<br/>git revert develop~4..develop~2<br/><br/># undo the last commit, but don't create a revert commit <br/>git revert --no-commit HEAD = git revert -n HEAD</span></pre><h2 id="05cf" class="lw lx jg bd ly lz ma dn mb mc md dp me lf mf mg mh lg mi mj mk lh ml mm mn mo bi translated">7.避免重复的合并冲突</h2><pre class="mp mq mr ms gt mt mu mv mw aw mx bi"><span id="d782" class="lw lx jg mu b gy my mz l na nb">git config --global rerere.enabled true</span></pre><h2 id="253c" class="lw lx jg bd ly lz ma dn mb mc md dp me lf mf mg mh lg mi mj mk lh ml mm mn mo bi translated">8.在合并后找到中断某些东西的提交</h2><p id="f31a" class="pw-post-body-paragraph kg kh jg kj b kk nd km kn ko ne kq kr lf nf ku kv lg ng ky kz lh nh lc ld le ij bi translated">在一次大的合并之后，追踪引入一个bug的提交可能是相当耗时的。幸运的是<code class="fe ni nj nk mu b">git</code>以<code class="fe ni nj nk mu b">git-bisect</code>的形式提供了一个很棒的二分搜索法设施。首先，您必须执行初始设置:</p><pre class="mp mq mr ms gt mt mu mv mw aw mx bi"><span id="04ce" class="lw lx jg mu b gy my mz l na nb"># starts the bisecting session<br/>git bisect start</span><span id="ae87" class="lw lx jg mu b gy nc mz l na nb"># marks the current revision as bad<br/>git bisect bad</span><span id="f1ce" class="lw lx jg mu b gy nc mz l na nb"># marks the last known good revision<br/>git bisect good revision</span></pre><p id="b78c" class="pw-post-body-paragraph kg kh jg kj b kk kl km kn ko kp kq kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">在此之后，Git将自动检出一个介于已知“好”和“坏”版本之间的修订。现在，您可以再次运行您的规范，并相应地将提交标记为“好”或“坏”。</p><pre class="mp mq mr ms gt mt mu mv mw aw mx bi"><span id="f727" class="lw lx jg mu b gy my mz l na nb"># or git bisec bad<br/>git bisect good</span></pre><p id="071e" class="pw-post-body-paragraph kg kh jg kj b kk kl km kn ko kp kq kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">这个过程一直持续到引入bug的提交。</p><h2 id="206a" class="lw lx jg bd ly lz ma dn mb mc md dp me lf mf mg mh lg mi mj mk lh ml mm mn mo bi translated">9.过滤支路</h2><pre class="mp mq mr ms gt mt mu mv mw aw mx bi"><span id="4a29" class="lw lx jg mu b gy my mz l na nb">git filter-branch --force --index-filter \<br/>'git rm --cached --ignore-unmatch secrets.txt' \<br/>--prune-empty --tag-name-filter cat -- --all</span></pre><p id="b433" class="pw-post-body-paragraph kg kh jg kj b kk kl km kn ko kp kq kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">这将从每个分支和标签中删除文件<code class="fe ni nj nk mu b">secrets.txt</code>。它还将删除由于上述操作而为空的任何提交。</p><h2 id="1591" class="lw lx jg bd ly lz ma dn mb mc md dp me lf mf mg mh lg mi mj mk lh ml mm mn mo bi translated">10.显示提交历史记录</h2><pre class="mp mq mr ms gt mt mu mv mw aw mx bi"><span id="32d4" class="lw lx jg mu b gy my mz l na nb">git log                 # show log<br/>git log --oneline       # show log in one line<br/>git log -n1             # show log of last commit<br/>git log -p &lt;file_name&gt;  # show log for a file</span></pre><h2 id="68ef" class="lw lx jg bd ly lz ma dn mb mc md dp me lf mf mg mh lg mi mj mk lh ml mm mn mo bi translated">11.显示配置列表</h2><pre class="mp mq mr ms gt mt mu mv mw aw mx bi"><span id="864c" class="lw lx jg mu b gy my mz l na nb">git config --list           # see all setting of your git<br/>git config --local --list   # see only local setting<br/>git config --global --list  # see only global setting</span></pre><h2 id="e2a9" class="lw lx jg bd ly lz ma dn mb mc md dp me lf mf mg mh lg mi mj mk lh ml mm mn mo bi translated">12.未设置配置</h2><pre class="mp mq mr ms gt mt mu mv mw aw mx bi"><span id="b4c7" class="lw lx jg mu b gy my mz l na nb">git config --unset key<br/>git config --unset --global key</span></pre><h2 id="bfdc" class="lw lx jg bd ly lz ma dn mb mc md dp me lf mf mg mh lg mi mj mk lh ml mm mn mo bi translated">13.在本地查看所有文件更改</h2><pre class="mp mq mr ms gt mt mu mv mw aw mx bi"><span id="7553" class="lw lx jg mu b gy my mz l na nb">git diff<br/>git diff &lt;file_name&gt;    # Show changes for only one file</span><span id="5c16" class="lw lx jg mu b gy nc mz l na nb"># Displays changes between the working tree and the dev branch<br/>git diff dev</span><span id="5c02" class="lw lx jg mu b gy nc mz l na nb"># Displays changes between the branches master and dev<br/>git diff master..dev</span></pre><h2 id="6916" class="lw lx jg bd ly lz ma dn mb mc md dp me lf mf mg mh lg mi mj mk lh ml mm mn mo bi translated">14.对于文件名的每次更改，查看谁进行了更改以及更改发生的时间</h2><pre class="mp mq mr ms gt mt mu mv mw aw mx bi"><span id="8199" class="lw lx jg mu b gy my mz l na nb">git blame &lt;file_name&gt;</span></pre><h2 id="8222" class="lw lx jg bd ly lz ma dn mb mc md dp me lf mf mg mh lg mi mj mk lh ml mm mn mo bi translated">15.显示本地存储库头的更改日志</h2><pre class="mp mq mr ms gt mt mu mv mw aw mx bi"><span id="b874" class="lw lx jg mu b gy my mz l na nb">git reflog</span></pre></div><div class="ab cl nl nm hu nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ij ik il im in"><p id="d05c" class="pw-post-body-paragraph kg kh jg kj b kk kl km kn ko kp kq kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">16。删除所有已经合并到master或develop的本地分支</p><pre class="mp mq mr ms gt mt mu mv mw aw mx bi"><span id="0dd4" class="lw lx jg mu b gy my mz l na nb">[alias]<br/>  cu = !git branch --merged | egrep -v \"(^\\*|master|develop)\" | xargs git branch -d</span></pre><p id="3315" class="pw-post-body-paragraph kg kh jg kj b kk kl km kn ko kp kq kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">然后键入“git cu”，而<strong class="kj jh"> cu </strong>代表清理</p><p id="006d" class="pw-post-body-paragraph kg kh jg kj b kk kl km kn ko kp kq kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated"><strong class="kj jh"> 17。添加本地文件修改</strong></p><pre class="mp mq mr ms gt mt mu mv mw aw mx bi"><span id="74fa" class="lw lx jg mu b gy my mz l na nb"># Add file/folder to staging area<br/>git add &lt;file/folder&gt;</span><span id="bab9" class="lw lx jg mu b gy nc mz l na nb"># Add all files/folders in all the folders of the repository<br/>git add . or git add -A</span><span id="85e0" class="lw lx jg mu b gy nc mz l na nb"># Add only tracked files/folders<br/>git add . -u</span></pre><p id="5dd9" class="pw-post-body-paragraph kg kh jg kj b kk kl km kn ko kp kq kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">18。Git分支</p><pre class="mp mq mr ms gt mt mu mv mw aw mx bi"><span id="ef4a" class="lw lx jg mu b gy my mz l na nb">git branch                    # List all local branches<br/>git branch -r                 # List all remote branches<br/>git branch -a                 # List all local/remote branches</span><span id="f56d" class="lw lx jg mu b gy nc mz l na nb"># Create new branch with &lt;branch_name&gt; based off of current branch<br/>git branch &lt;branch_name&gt;</span><span id="8781" class="lw lx jg mu b gy nc mz l na nb"># Rename branch from &lt;old_name&gt; to &lt;new_name&gt;<br/>git branch -m &lt;old_name&gt; &lt;new_name&gt;</span><span id="1ede" class="lw lx jg mu b gy nc mz l na nb"># Rename the current branch to &lt;new_name&gt;<br/>git branch -m &lt;new_name&gt;</span><span id="314e" class="lw lx jg mu b gy nc mz l na nb">git checkout &lt;branch_name&gt;    # Switch to &lt;branch_name&gt;<br/>git checkout -b &lt;branch_name&gt; # Create new &lt;branch_name&gt; and switch to it</span></pre></div><div class="ab cl nl nm hu nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ij ik il im in"><p id="1455" class="pw-post-body-paragraph kg kh jg kj b kk kl km kn ko kp kq kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated"><strong class="kj jh"> 19。克隆git存储库</strong></p><pre class="mp mq mr ms gt mt mu mv mw aw mx bi"><span id="94fc" class="lw lx jg mu b gy my mz l na nb"># Clone repo into to specific directory<br/>git clone &lt;repo_url&gt; &lt;to_directory&gt;</span><span id="4cb4" class="lw lx jg mu b gy nc mz l na nb"># Clone specific branch<br/>git clone &lt;repo_url&gt; — branch &lt;branch_name&gt;</span><span id="89ed" class="lw lx jg mu b gy nc mz l na nb"># Clone a certain level of history’s depth<br/>git clone -depth=&lt;depth_level&gt; &lt;repo_url&gt;</span></pre><p id="299d" class="pw-post-body-paragraph kg kh jg kj b kk kl km kn ko kp kq kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated"><strong class="kj jh"> 20。使用遥控器工作</strong></p><pre class="mp mq mr ms gt mt mu mv mw aw mx bi"><span id="d35b" class="lw lx jg mu b gy my mz l na nb"># List remote connections with URL<br/>git remote -v</span><span id="c6b5" class="lw lx jg mu b gy nc mz l na nb"># Change the remote url<br/>git remote set-url &lt;remote_name&gt; &lt;new_remote_url&gt;</span><span id="7b2e" class="lw lx jg mu b gy nc mz l na nb"># Add another remote connection<br/>git remote add &lt;new_remote_name&gt; &lt;new_remote_url&gt;</span><span id="797a" class="lw lx jg mu b gy nc mz l na nb"># Rename connection<br/>git remote rename &lt;remote_old_name&gt; &lt;remote_new_name&gt;</span><span id="6733" class="lw lx jg mu b gy nc mz l na nb"># Delete connection<br/>git remote rm &lt;remote_name&gt;<br/>or<br/>git remote remove &lt;remote_name&gt;</span></pre><p id="3bd4" class="pw-post-body-paragraph kg kh jg kj b kk kl km kn ko kp kq kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated"><strong class="kj jh"> 21。通过抓取</strong>下载最新的代码库</p><pre class="mp mq mr ms gt mt mu mv mw aw mx bi"><span id="5841" class="lw lx jg mu b gy my mz l na nb"># Fetch all remote repositories<br/>git fetch — all</span><span id="9abb" class="lw lx jg mu b gy nc mz l na nb"># Fetch &lt;remote_name&gt; repository, usually origins<br/>git fetch &lt;remote_name&gt;</span><span id="39ee" class="lw lx jg mu b gy nc mz l na nb"># Fetch a branch from a remote repository<br/>git fetch &lt;remote_name&gt; &lt;branch_name&gt;</span></pre><p id="bf01" class="pw-post-body-paragraph kg kh jg kj b kk kl km kn ko kp kq kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">快乐Gitting~</p></div></div>    
</body>
</html>