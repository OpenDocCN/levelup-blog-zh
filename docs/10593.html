<html>
<head>
<title>Deploying a Complete Node.js Application in Kubernetes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åœ¨Kubernetesä¸­éƒ¨ç½²å®Œæ•´çš„Node.jsåº”ç”¨ç¨‹åº</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/deploying-a-complete-node-js-application-in-kubernetes-d747986e1e61?source=collection_archive---------0-----------------------#2021-12-24">https://levelup.gitconnected.com/deploying-a-complete-node-js-application-in-kubernetes-d747986e1e61?source=collection_archive---------0-----------------------#2021-12-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="763c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">ä½¿ç”¨Kubernetesç»„ä»¶å®ŒæˆNode.jsåº”ç”¨ç¨‹åºéƒ¨ç½²ã€‚</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/bd1c407d4d3e50812becca6abfc70f36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RDDcGx3IS4QPzjsIzSbEtg.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ç”±<a class="ae kv" href="https://unsplash.com/@juanjodev02?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">èƒ¡å®‰ä¹”Â·å“ˆæ‹‰ç±³ç•¥</a>åœ¨<a class="ae kv" href="https://unsplash.com/s/photos/nodejs?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>æ‹æ‘„çš„ç…§ç‰‡</figcaption></figure><h1 id="280e" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">ä»‹ç»</h1><p id="85c3" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">é¦–å…ˆï¼Œä½ éœ€è¦åœ¨ä½ çš„ç”µè„‘ä¸Šå®‰è£…<strong class="lq ir"> Docker </strong>ï¼Œè¿™æ ·ä½ å°±å¯ä»¥è½»æ¾å®Œæˆè¿™ä¸ªè¿‡ç¨‹ã€‚Dockerå’ŒKubernetesæ˜¯ä¸¤ä¸ªä¸åŒçš„ä¸œè¥¿ï¼Œä½†æ˜¯æ‚¨éœ€è¦Dockerä½œä¸ºKubernetes podsä¸­å®¹å™¨çš„å®¹å™¨è¿è¡Œæ—¶ã€‚</p><p id="fca6" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">ä½¿ç”¨ä»¥ä¸‹é“¾æ¥å°†<strong class="lq ir"> Docker Desktop </strong>ä¸‹è½½åˆ°æ‚¨çš„ç”µè„‘ä¸Šã€‚ç„¶åå®‰è£…å®ƒï¼Œå¹¶ç¡®ä¿é€šè¿‡åœ¨ç»ˆç«¯ä¸Šè¿è¡Œ<code class="fe mp mq mr ms b">docker version</code>è·å¾—è¾“å‡ºã€‚</p><div class="mt mu gp gr mv mw"><a href="https://www.docker.com/products/docker-desktop" rel="noopener  ugc nofollow" target="_blank"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd ir gy z fp nb fr fs nc fu fw ip bi translated">ç”¨äºMacå’ŒWindowsçš„Dockeræ¡Œé¢</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">Dockerè®¢é˜…æœåŠ¡åè®®å·²æ›´æ–°ã€‚æˆ‘ä»¬çš„Dockerè®¢é˜…æœåŠ¡åè®®åŒ…æ‹¬ä¸€é¡¹æ›´æ”¹â€¦</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">www.docker.com</p></div></div><div class="nf l"><div class="ng l nh ni nj nf nk kp mw"/></div></div></a></div></div><div class="ab cl nl nm hu nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ij ik il im in"><h1 id="285c" class="kw kx iq bd ky kz ns lb lc ld nt lf lg jw nu jx li jz nv ka lk kc nw kd lm ln bi translated">åˆ›å»ºNode.jsåº”ç”¨ç¨‹åº</h1><p id="21e5" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">æ‚¨å¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½åˆ›å»ºNode.jsåº”ç”¨ç¨‹åºï¼Œå¦‚æœæ‚¨å·²ç»åˆ›å»ºäº†Nodeåº”ç”¨ç¨‹åºï¼Œåˆ™å¯ä»¥åœ¨æœ¬æ•™ç¨‹ä¸­ä½¿ç”¨å®ƒã€‚æˆ‘å°†æŠŠæˆ‘çš„nodeåº”ç”¨ç¨‹åºæ”¾åœ¨ä¸‹é¢ï¼Œè¿™æ ·ä½ å°±å¯ä»¥å¯¹nodeåº”ç”¨ç¨‹åºæœ‰ä¸€ä¸ªæ¦‚å¿µäº†ã€‚</p><pre class="kg kh ki kj gt nx ms ny nz aw oa bi"><span id="0cac" class="ob kx iq ms b gy oc od l oe of">const express = require('express');<br/>const app = express();<br/>const port = 8080;</span><span id="2c66" class="ob kx iq ms b gy og od l oe of">app.listen(port, () =&gt; {<br/>console.log('listening for request on port 8080');<br/>});</span><span id="79f3" class="ob kx iq ms b gy og od l oe of">app.get('/', (req, res) =&gt; {<br/>console.log('request made');<br/>res.sendFile("./docs/index.html", { root: __dirname })<br/>});</span><span id="ff29" class="ob kx iq ms b gy og od l oe of">app.get('/about', (req, res) =&gt; {<br/>res.sendFile('./docs/about.html', { root: __dirname });<br/>});</span><span id="949b" class="ob kx iq ms b gy og od l oe of">app.get('/about-us', (req, res) =&gt; {<br/>res.redirect('/about');<br/>});</span><span id="f44d" class="ob kx iq ms b gy og od l oe of">app.use((req, res) =&gt; {<br/>res.status(404).sendFile('./docs/404.html', { root: __dirname });<br/>});</span></pre><p id="7595" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥çœ‹åˆ°ä¸€ä¸ªä½¿ç”¨expressåˆ›å»ºçš„ç®€å•èŠ‚ç‚¹åº”ç”¨ç¨‹åºï¼Œæˆ‘å·²ç»ä¸ºè¯¥åº”ç”¨ç¨‹åºè®¾ç½®äº†ç«¯å£<strong class="lq ir"> 8080 </strong>ã€‚æ­¤å¤–ï¼Œæˆ‘åœ¨é¡¹ç›®ä¸­åˆ›å»ºäº†ä¸€ä¸ª<strong class="lq ir"> docsæ–‡ä»¶å¤¹</strong>,å¹¶å°†æˆ‘æ‰€æœ‰çš„HTMLæ–‡ä»¶æ”¾åœ¨é‡Œé¢ã€‚æˆ‘è®¾ç½®äº†åŸºæœ¬è·¯ç”±æ¥è®¿é—®æˆ‘çš„èŠ‚ç‚¹åº”ç”¨ç¨‹åºçš„ä¸åŒé¡µé¢ï¼Œå¹¶åœ¨ä»£ç åº•éƒ¨æ·»åŠ äº†404è·¯ç”±æ¥æ•è·å…¶ä»–è¯·æ±‚ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/33bd3a9725e873e9ce18498015464b2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1032/0*a-F1dZ6jP_D3zvcm"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ä½œè€…æˆªå›¾</figcaption></figure></div><div class="ab cl nl nm hu nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ij ik il im in"><h1 id="5a8c" class="kw kx iq bd ky kz ns lb lc ld nt lf lg jw nu jx li jz nv ka lk kc nw kd lm ln bi translated">åˆ›å»ºDockerfileæ–‡ä»¶</h1><pre class="kg kh ki kj gt nx ms ny nz aw oa bi"><span id="1241" class="ob kx iq ms b gy oc od l oe of">FROM node:10<br/>WORKDIR /usr/src/app<br/>COPY package*.json ./<br/>RUN npm install<br/>COPY . .<br/>EXPOSE 8080<br/>CMD ["node", "app.js"]</span></pre><p id="3795" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">æˆ‘å·²ç»ä½¿ç”¨äº†docker hubä¸­çš„å®˜æ–¹<strong class="lq ir">èŠ‚ç‚¹Dockeræ˜ åƒ</strong>ï¼Œå¹¶æš´éœ²äº†ç«¯å£8080ï¼Œå°±åƒæˆ‘åœ¨æˆ‘çš„èŠ‚ç‚¹åº”ç”¨ç¨‹åºä¸­æ‰€åšçš„é‚£æ ·ã€‚å®Œæˆdockeræ–‡ä»¶åï¼Œç»§ç»­ä¸ºèŠ‚ç‚¹åº”ç”¨ç¨‹åºåˆ›å»ºdockeræ˜ åƒã€‚</p><p id="11d2" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">å¦‚æœä½ ä¸çŸ¥é“å¦‚ä½•åˆ›å»ºdockerå›¾åƒï¼Œä½ å¯ä»¥å‚è€ƒä¸‹é¢çš„æ–‡ç« æ¥çœ‹çœ‹å¦‚ä½•ä¸ºä½ çš„åº”ç”¨ç¨‹åºåˆ›å»ºDockerå›¾åƒã€‚</p><div class="mt mu gp gr mv mw"><a href="https://randiltennakoon.medium.com/how-to-containerize-a-node-js-application-using-docker-e195616de938" rel="noopener follow" target="_blank"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd ir gy z fp nb fr fs nc fu fw ip bi translated">å¦‚ä½•ä½¿ç”¨Dockerå®¹å™¨åŒ–Node.jsåº”ç”¨ç¨‹åºï¼Ÿ</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">å®¹å™¨åŒ–åº”ç”¨ç¨‹åºåœ¨å½“ä»Šä¸–ç•Œæ›´å—æ¬¢è¿ï¼Œå› ä¸ºå®ƒä»¬èƒ½å¤Ÿè§£å†³ä¸€äº›ä¸»è¦é—®é¢˜â€¦</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">randiltennakoon.medium.com</p></div></div><div class="nf l"><div class="oi l nh ni nj nf nk kp mw"/></div></div></a></div><p id="6c58" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">ä¸è¦å¿˜è®°åˆ›å»ºä¸€ä¸ªdockerå®¹å™¨ï¼Œç„¶ååœ¨æµè§ˆå™¨ä¸­è¿è¡Œå¹¶æŸ¥çœ‹å“åº”ï¼Œä»¥ç¡®ä¿åˆ°ç›®å‰ä¸ºæ­¢æ‚¨å·²ç»æ­£ç¡®å®Œæˆäº†ã€‚</p></div><div class="ab cl nl nm hu nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ij ik il im in"><h1 id="1d96" class="kw kx iq bd ky kz ns lb lc ld nt lf lg jw nu jx li jz nv ka lk kc nw kd lm ln bi translated">å®‰è£…Minikube</h1><p id="7e02" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">æˆ‘æ­£åœ¨ä½¿ç”¨Minikubeï¼Œè¿™æ˜¯ä¸€ä¸ªå•èŠ‚ç‚¹é›†ç¾¤ï¼Œå®ƒå¯¹æˆ‘ä»¬åœ¨Kubernetesä¸­éƒ¨ç½²åº”ç”¨ç¨‹åºéå¸¸æœ‰å¸®åŠ©ã€‚å¦‚æœæ‚¨çš„è®¡ç®—æœºä¸Šæ²¡æœ‰å®‰è£…Minikubeï¼Œè¯·èŠ±å‡ åˆ†é’Ÿæ—¶é—´å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼Œçœ‹çœ‹å¦‚ä½•åœ¨æ‚¨çš„è®¡ç®—æœºä¸Šå®‰è£…Minikubeã€‚</p><div class="mt mu gp gr mv mw"><a href="https://randiltennakoon.medium.com/getting-started-with-minikube-as-your-local-kubernetes-cluster-cfebf87abc39" rel="noopener follow" target="_blank"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd ir gy z fp nb fr fs nc fu fw ip bi translated">å¼€å§‹ä½¿ç”¨Minikubeä½œä¸ºæ‚¨çš„æœ¬åœ°Kubernetesé›†ç¾¤</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">å…è´¹åˆ›å»ºæ‚¨çš„å•èŠ‚ç‚¹æœ¬åœ°Kubernetesé›†ç¾¤ã€‚</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">randiltennakoon.medium.com</p></div></div><div class="nf l"><div class="oj l nh ni nj nf nk kp mw"/></div></div></a></div></div><div class="ab cl nl nm hu nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ij ik il im in"><h1 id="1021" class="kw kx iq bd ky kz ns lb lc ld nt lf lg jw nu jx li jz nv ka lk kc nw kd lm ln bi translated">åˆ›å»ºKubernetesç»„ä»¶</h1><p id="9d37" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">è‡³æ­¤ï¼Œæ‚¨å¯ä»¥ç»§ç»­ä½¿ç”¨YAMLæ–‡ä»¶é…ç½®Kubernetesç»„ä»¶ã€‚è®©æˆ‘ä»¬é¦–å…ˆåˆ›å»ºæˆ‘ä»¬çš„Kuberneteséƒ¨ç½²ã€‚</p><pre class="kg kh ki kj gt nx ms ok bn ol om bi"><span id="f6b1" class="on kx iq ms b be oo op l oq of">apiVersion: apps/v1<br/>kind: Deployment<br/>metadata:<br/>  name: node-app-deployment<br/>  labels:<br/>    app: node-app<br/>spec:<br/>  replicas: 1<br/>  selector:<br/>    matchLabels:<br/>      app: node-app<br/>  template:<br/>    metadata:<br/>      labels:<br/>        app: node-app <br/>    spec:<br/>      containers:<br/>      - name: node-app<br/>        image: #path to your docker image<br/>        ports:<br/>        - containerPort: 8080</span></pre><p id="b72b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">æ‚¨ä¸éœ€è¦è®°ä½YAMLé…ç½®çš„æ¯ä¸€è¡Œï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¯¥æ–‡ä»¶ä¼šæ ¹æ®éœ€æ±‚è€Œå˜åŒ–ã€‚åˆ›å»ºè¿™äº›æ–‡ä»¶æ—¶ï¼Œæ‚¨å¯ä»¥éšæ—¶å‚è€ƒå®˜æ–¹çš„<a class="ae kv" href="https://kubernetes.io/docs/home/" rel="noopener ugc nofollow" target="_blank"> <strong class="lq ir"> Kubernetesæ–‡æ¡£</strong> </a>ã€‚</p><p id="a5b8" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">åˆ›å»ºKuberneteséƒ¨ç½²æ—¶ï¼Œéœ€è¦å°†dockeræ˜ åƒçš„è·¯å¾„æ·»åŠ åˆ°è¿™ä¸ªé…ç½®æ–‡ä»¶ä¸­ã€‚åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘å·²ç»ç”¨<code class="fe mp mq mr ms b">#path to your docker image</code>è¡¨ç¤ºäº†é‚£ä¸ªåœ°æ–¹ã€‚</p><p id="8433" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">ä½ å¯ä»¥ä½¿ç”¨ä»»ä½•<strong class="lq ir">å®¹å™¨æ³¨å†Œè¡¨</strong>æ¥å­˜å‚¨ä½ çš„dockeré•œåƒï¼Œä½ åº”è¯¥è®¾ç½®å®ƒçš„è·¯å¾„åˆ°è¿™ä¸ªé…ç½®æ–‡ä»¶ã€‚æ­¤å¤–ï¼Œå¦‚æœä½ æ˜¯Kubernetesçš„åˆå­¦è€…ï¼Œä½ å¯ä»¥ä½¿ç”¨<strong class="lq ir"> Docker Hub </strong>ä½œä¸ºä½ çš„å…è´¹å®¹å™¨æ³¨å†Œè¡¨ï¼Œå¹¶æŠŠä½ çš„Dockerå›¾ç‰‡æ¨é€åˆ°é‚£é‡Œã€‚</p><p id="0c20" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨Docker Hubï¼Œé¦–å…ˆé€šè¿‡æ­¤<a class="ae kv" href="https://hub.docker.com/signup" rel="noopener ugc nofollow" target="_blank"> <strong class="lq ir">é“¾æ¥</strong> </a>åœ¨Docker Hubä¸­åˆ›å»ºä¸€ä¸ªå¸æˆ·ã€‚ç„¶åï¼Œåœ¨Docker Hubä¸­åˆ›å»ºä¸€ä¸ªå­˜å‚¨åº“ï¼Œæ‰“å¼€æ‚¨çš„ç»ˆç«¯ï¼Œé”®å…¥docker loginï¼Œå¹¶æä¾›æ‚¨çš„<strong class="lq ir">ç”¨æˆ·å</strong>å’Œ<strong class="lq ir">å¯†ç ã€‚</strong>ç™»å½•æˆåŠŸåï¼Œæ‚¨å¯ä»¥æ ‡è®°Dockeræ˜ åƒï¼Œå¹¶ä½¿ç”¨docker tag &amp; dockeræ¨é€å‘½ä»¤å°†å…¶æ¨é€åˆ°Docker Hubã€‚æ‚¨å¯ä»¥æŒ‰ç…§å±å¹•ä¸Šçš„è¯´æ˜æ¥å®Œæˆè¿™ä¸ªè¿‡ç¨‹ã€‚<em class="or">ã€å¦‚æœä½ å‘ç°æœ‰ä»€ä¹ˆåœ°æ–¹ä¸å¥½ï¼Œè¯·ä¸è¦çŠ¹è±«ï¼Œåœ¨ä¸‹é¢ç•™ä¸‹ä½ çš„è¯„è®ºï¼Œæˆ‘ä¼šå°½å¿«å›å¤ä½ ã€‘</em></p><p id="13a5" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">å¥½äº†ï¼Œç°åœ¨æ‚¨å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å°†Kuberneteséƒ¨ç½²åº”ç”¨åˆ°é›†ç¾¤ã€‚<em class="or">ã€ç¡®ä¿ä½ å·²ç»åœ¨ç”µè„‘ä¸Šå¯åŠ¨äº†Minikubeã€‘</em></p><pre class="kg kh ki kj gt nx ms ny nz aw oa bi"><span id="870a" class="ob kx iq ms b gy oc od l oe of">$ kubectl apply -f node-app-deployment.yaml<br/></span><span id="d58c" class="ob kx iq ms b gy og od l oe of">// output</span><span id="c1de" class="ob kx iq ms b gy og od l oe of">randiltennakoon@Randils-MacBook-Pro node_app % kubectl apply -f node-app-deployment.yaml</span><span id="e827" class="ob kx iq ms b gy og od l oe of">deployment.apps/node-app-deployment created</span></pre><p id="88e9" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">è¿è¡Œ<code class="fe mp mq mr ms b">kubectl get pods</code>æ¥æŸ¥çœ‹podï¼Œè¿™ä¸ªè¿‡ç¨‹å¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´ï¼Œå› ä¸ºä»Docker Hubæå–å›¾åƒé€šå¸¸éœ€è¦ä¸€äº›æ—¶é—´ã€‚<em class="or">ã€å¯ä»¥ä½¿ç”¨</em> <code class="fe mp mq mr ms b"><em class="or">kubectl describe pod &lt;pod_name&gt;</em></code> <em class="or">å‘½ä»¤æè¿°podï¼Œä½¿ç”¨</em> <code class="fe mp mq mr ms b"><em class="or">kubectl get pod --watch</em></code> <em class="or">å‘½ä»¤æŸ¥çœ‹å®¹å™¨åˆ›å»ºæ´»åŠ¨äº‹ä»¶ã€‘</em></p><p id="c8c6" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">åˆ›å»ºpodåï¼Œæ‚¨å¯ä»¥å¼€å§‹åˆ›å»ºKubernetesæœåŠ¡ã€‚</p><pre class="kg kh ki kj gt nx ms ok bn ol om bi"><span id="c7cb" class="on kx iq ms b be oo op l oq of">apiVersion: v1<br/>kind: Service<br/>metadata:<br/>  name: node-app-service<br/>spec:<br/>  selector:<br/>    app: node-app <br/>  type: LoadBalancer<br/>  ports:<br/>  - protocol: TCP<br/>    port: 5000<br/>    targetPort: 8080<br/>    nodePort: 31110</span></pre><p id="c674" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">æ‚¨å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤åˆ›å»ºæœåŠ¡ã€‚åœ¨KubernetesæœåŠ¡ä¸­ï¼Œæ‚¨å¯ä»¥åœ¨30000â€“32767ä¹‹é—´åˆ†é…æ‚¨å–œæ¬¢çš„ä»»ä½•èŠ‚ç‚¹ç«¯å£ã€‚å› æ­¤ï¼Œæˆ‘é€‰æ‹©äº†<code class="fe mp mq mr ms b">31110</code>ä½œä¸ºèŠ‚ç‚¹ç«¯å£ï¼Œä¸€æ—¦æ‚¨çš„èŠ‚ç‚¹åº”ç”¨ç¨‹åºå¼€å§‹åœ¨æ‚¨çš„æµè§ˆå™¨ä¸Šè¿è¡Œï¼Œæ‚¨å°±ä¼šçœ‹åˆ°è¿™ä¸ªç«¯å£ã€‚æ­¤å¤–ï¼Œæˆ‘å°†æœåŠ¡ç±»å‹è®¾ç½®ä¸º<code class="fe mp mq mr ms b">LoadBalancer </code>ï¼Œå› ä¸ºä½¿ç”¨Minikubeï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—ä¸€ä¸ªå¤–éƒ¨IPï¼Œå¹¶åœ¨æµè§ˆå™¨ä¸­è½»æ¾æ‰“å¼€æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚</p><pre class="kg kh ki kj gt nx ms ny nz aw oa bi"><span id="08e1" class="ob kx iq ms b gy oc od l oe of">$ kubectl apply -f node-app-service.yaml<br/></span><span id="38d0" class="ob kx iq ms b gy og od l oe of">// output</span><span id="1a33" class="ob kx iq ms b gy og od l oe of">randiltennakoon@Randils-MacBook-Pro node_app % kubectl apply -f node-app-service.yaml</span><span id="8151" class="ob kx iq ms b gy og od l oe of">service/node-app-service created</span></pre><p id="a4a8" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">æ‚¨å¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ£€æŸ¥é›†ç¾¤å†…éƒ¨çš„æœåŠ¡ã€‚</p><pre class="kg kh ki kj gt nx ms ny nz aw oa bi"><span id="3605" class="ob kx iq ms b gy oc od l oe of">$ kubectl get service</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi os"><img src="../Images/b00d695b44c12e7e276c367a3cfb0dbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ISwmrcLRheOazBAC"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ä½œè€…æˆªå›¾|ç¾¤é›†ä¸­çš„æœåŠ¡</figcaption></figure><p id="64a1" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">åœ¨è¿™é‡Œï¼Œ<code class="fe mp mq mr ms b">EXTERNAL-IP</code>ä»åœ¨ç­‰å¾…æœåŠ¡ã€‚ä½†æ˜¯ä½¿ç”¨Minikubeï¼Œä½ å¯ä»¥å¾—åˆ°ä¸€ä¸ªå¤–éƒ¨IPã€‚è¿è¡Œä»¥ä¸‹å‘½ä»¤ä¸ºæ‚¨çš„åº”ç”¨ç¨‹åºå¯ç”¨External-IPã€‚</p><pre class="kg kh ki kj gt nx ms ny nz aw oa bi"><span id="ddc6" class="ob kx iq ms b gy oc od l oe of">$ minikube service &lt;service_name&gt;</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi os"><img src="../Images/05a5b93032e4313f9f8b60041da2f17e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rDzivYOBjTWAfYSy"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ä½œè€…æˆªå›¾</figcaption></figure></div><div class="ab cl nl nm hu nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ij ik il im in"><h1 id="28de" class="kw kx iq bd ky kz ns lb lc ld nt lf lg jw nu jx li jz nv ka lk kc nw kd lm ln bi translated">åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€Node.jsåº”ç”¨ç¨‹åº</h1><p id="4194" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">ä¸Šé¢çš„å‘½ä»¤å°†è‡ªåŠ¨åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€Node.jsåº”ç”¨ç¨‹åºï¼Œæ‚¨å°†çœ‹åˆ°ä¸Šé¢æˆªå›¾ä¸­çš„URLã€‚å¦‚æœæ²¡æœ‰ï¼Œä½ å¯ä»¥åœ¨ä½ çš„æµè§ˆå™¨ä¸Šè®¿é—®ä¸Šé¢çš„ç½‘å€ï¼Œç„¶åä½ ä¼šçœ‹åˆ°ä½ çš„åº”ç”¨åœ¨é‚£é‡Œè¿è¡Œã€‚å¦å¤–ï¼Œè¯·æ³¨æ„ï¼ŒèŠ‚ç‚¹ç«¯å£å·²ç»é™„åŠ åˆ°äº†URLä¸Šã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi os"><img src="../Images/cbf5a1413a62c0a4dd32ad2f6a326523.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ULpQwM_OpLqUDlH-"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">ä½œè€…æˆªå›¾</figcaption></figure></div><div class="ab cl nl nm hu nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ij ik il im in"><h1 id="7cbc" class="kw kx iq bd ky kz ns lb lc ld nt lf lg jw nu jx li jz nv ka lk kc nw kd lm ln bi translated">ç»“è®º</h1><p id="e7ea" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated"><strong class="lq ir"> <em class="or">ç¥è´ºä½ ï¼</em></strong><em class="or">T8ã€‘ğŸ‰</em></p><p id="1953" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">æ‚¨å·²ç»åœ¨Kubernetesä¸­éƒ¨ç½²äº†ä¸€ä¸ªå®Œæ•´çš„Node.jsåº”ç”¨ç¨‹åºã€‚</p><p id="f134" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">æ„Ÿè°¢é˜…è¯»ã€‚æˆ‘å¸Œæœ›æœ¬æ–‡ä¸­çš„ä¿¡æ¯å¯¹æ‚¨æœ‰ç”¨ã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åœ¨ä¸‹é¢å›å¤ã€‚</p><p id="79b5" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><em class="or">å¿«ä¹ç¼–ç ï¼</em>ğŸ‘¨ğŸ»â€ğŸ’»</p></div></div>    
</body>
</html>