<html>
<head>
<title>How to Get Rental Data from the Census API using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Python从Census API获取租金数据</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-get-rental-data-from-the-census-api-using-python-3058c914cb55?source=collection_archive---------8-----------------------#2022-09-06">https://levelup.gitconnected.com/how-to-get-rental-data-from-the-census-api-using-python-3058c914cb55?source=collection_archive---------8-----------------------#2022-09-06</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="2faf" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">从美国人口普查中获取邮政编码级别的经济数据的分步教程</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/b65f068de19f2ac0e5171805e8ecdaad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xm_zveLL4WvEIfqLhopKhA.jpeg"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">约翰-马克·史密斯在T2的照片</figcaption></figure><p id="b544" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv"> <em class="lw">美国人口普查局提供美国各地区毛租金中值的历史数据。该数据可通过美国人口普查API免费获得。但是我们如何访问它呢？</em> </strong></p><p id="33eb" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">首先，我们来了解一下为什么要关心房租率？</p><p id="c97b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv"> <em class="lw">租金收入是房东盈利和维持稳定现金流的主要收入来源。</em>T11】</strong></p><blockquote class="lx ly lz"><p id="3fb7" class="la lb lw lc b ld le jv lf lg lh jy li ma lk ll lm mb lo lp lq mc ls lt lu lv in bi translated"><em class="iu">“如果你的房租对你所在的区域和房产来说太低，你可能无法吸引到你理想的房客。如果你的租金太高，你可能很难找到租客——并且冒着失去月收入的风险。你作为房东的工作就是找到</em> <a class="ae kz" href="https://www.mysmartmove.com/SmartMove/blog/how-determine-fair-market-rent.page" rel="noopener ugc nofollow" target="_blank"> <em class="iu">公平市场租金</em> </a> <em class="iu">甜蜜点:不要太高，但也不要太低。”——</em><a class="ae kz" href="https://www.mysmartmove.com/SmartMove/blog/how-much-charge-for-rent.page" rel="noopener ugc nofollow" target="_blank"><em class="iu">MySmartMove</em></a></p></blockquote><p id="46df" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">美国人口普查局提供了一个API，以编程方式查询他们的数据库，获取基于卧室数量的租金。</p><p id="15f9" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">然而，到目前为止，对于Python开发人员来说，文档是有限且令人困惑的！</p><p id="e928" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv"> <em class="lw">本帖将使用Python获得不同地理区域的总市场租金数据。</em> </strong></p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj md"><img src="../Images/da750d5ce651a6f3e1da13095fbd660d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JzZrERLI7DBJRdy-hO0ifQ.jpeg"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">乔治·贝克尔在<a class="ae kz" href="https://www.pexels.com/photo/photography-of-orange-and-gray-building-129494/" rel="noopener ugc nofollow" target="_blank">像素</a>上拍摄的照片</figcaption></figure><h1 id="eaea" class="me mf iu bd mg mh mi mj mk ml mm mn mo ka mp kb mq kd mr ke ms kg mt kh mu mv bi translated">问题陈述</h1><p id="b97c" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">我们需要获得美国不同地理区域的<strong class="lc iv"> <em class="lw">中值总租金</em> </strong>。数据必须来自可靠的政府来源。</p><p id="d973" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">租金数据将包括追溯到2015年的国家和邮政编码级别的<strong class="lc iv"> <em class="lw">信息。</em></strong></p><p id="dfc3" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这将有助于我们发现租金不断上涨的新兴市场。</p><h1 id="66e6" class="me mf iu bd mg mh mi mj mk ml mm mn mo ka mp kb mq kd mr ke ms kg mt kh mu mv bi translated">数据源</h1><p id="65bb" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">我们将使用<a class="ae kz" href="https://www.census.gov/data/developers/data-sets/acs-5year.html" rel="noopener ugc nofollow" target="_blank">美国社区调查5年数据</a>来获得租金数据。</p><blockquote class="lx ly lz"><p id="9359" class="la lb lw lc b ld le jv lf lg lh jy li ma lk ll lm mb lo lp lq mc ls lt lu lv in bi translated">美国社区调查(ACS)是一项持续的调查，每年提供数据，为社区提供规划投资和服务所需的最新信息。ACS涵盖了关于美国人口的社会、经济、人口和住房特征的广泛主题。—美国人口普查局</p></blockquote></div><div class="ab cl nb nc hy nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="in io ip iq ir"><h1 id="8932" class="me mf iu bd mg mh ni mj mk ml nj mn mo ka nk kb mq kd nl ke ms kg nm kh mu mv bi translated">先决条件</h1><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nn"><img src="../Images/f8c49d92bd1bd3886e8456f1f62da4bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ddNCc933AeRYfgUq.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated"><a class="ae kz" href="https://www.census.gov/data/developers/data-sets.html" rel="noopener ugc nofollow" target="_blank">美国人口普查可用API截图</a></figcaption></figure><h2 id="3837" class="no mf iu bd mg np nq dn mk nr ns dp mo lj nt nu mq ln nv nw ms lr nx ny mu nz bi translated">需要</h2><ol class=""><li id="dc1e" class="oa ob iu lc b ld mw lg mx lj oc ln od lr oe lv of og oh oi bi translated"><a class="ae kz" href="https://api.census.gov/data/key_signup.html" rel="noopener ugc nofollow" target="_blank">请求普查API密钥</a></li></ol><h2 id="26e9" class="no mf iu bd mg np nq dn mk nr ns dp mo lj nt nu mq ln nv nw ms lr nx ny mu nz bi translated">可选(住房+经济数据)</h2><ol class=""><li id="8751" class="oa ob iu lc b ld mw lg mx lj oc ln od lr oe lv of og oh oi bi translated"><a class="ae kz" href="https://docs.rapidapi.com/docs/consumer-quick-start-guide" rel="noopener ugc nofollow" target="_blank">注册免费的RapidAPI帐户</a>以获得API密钥(<a class="ae kz" href="https://docs.rapidapi.com/docs/consumer-quick-start-guide" rel="noopener ugc nofollow" target="_blank">注册Rapid API的步骤</a>)</li><li id="0655" class="oa ob iu lc b ld oj lg ok lj ol ln om lr on lv of og oh oi bi translated">订阅<a class="ae kz" href="http://www.bit.ly/3AHH7sY" rel="noopener ugc nofollow" target="_blank">美国房市数据API </a></li></ol><h1 id="84b0" class="me mf iu bd mg mh mi mj mk ml mm mn mo ka mp kb mq kd mr ke ms kg mt kh mu mv bi translated">支持视频</h1><p id="e46d" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated"><em class="lw">即将在</em><a class="ae kz" href="https://www.youtube.com/c/AnalyticsAriel/" rel="noopener ugc nofollow" target="_blank"><em class="lw">AnalyticsAriel YouTube频道</em> </a>播出</p><h1 id="5a6e" class="me mf iu bd mg mh mi mj mk ml mm mn mo ka mp kb mq kd mr ke ms kg mt kh mu mv bi translated">Python教程</h1><p id="a807" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">如果您没有现有的Python环境，那么我强烈建议首先用<strong class="lc iv">克隆笔记本</strong>(在文章的底部)。</p><p id="1a4f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这将允许您在Google Colab中运行Python代码(免费！).它是一个基于云的环境，让您无需在本地安装Python就可以运行代码。</p><h1 id="0d51" class="me mf iu bd mg mh mi mj mk ml mm mn mo ka mp kb mq kd mr ke ms kg mt kh mu mv bi translated">I .导入库</h1><p id="b447" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">首先，导入所需的库。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oo"><img src="../Images/f18176b33c8753df7dd37c33ae027e53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m9ep8A0iYM1acMvYagD-qA.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">导入的代码片段(作者使用snappify.io创建的图片)</figcaption></figure><h1 id="4a9d" class="me mf iu bd mg mh mi mj mk ml mm mn mo ka mp kb mq kd mr ke ms kg mt kh mu mv bi translated">二。局部变量和常量</h1><p id="50f1" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">报名参加<a class="ae kz" href="https://api.census.gov/data/key_signup.html" rel="noopener ugc nofollow" target="_blank">人口普查API密匙</a>。</p><p id="27e8" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">【可选】注册一个免费的<a class="ae kz" href="https://docs.rapidapi.com/docs/consumer-quick-start-guide" rel="noopener ugc nofollow" target="_blank"> RapidAPI账户</a>，订阅<a class="ae kz" href="http://www.bit.ly/3AHH7sY" rel="noopener ugc nofollow" target="_blank">美国房市数据</a>。</p><p id="26b0" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">创建变量来保存我们的API键。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj op"><img src="../Images/59e77759a9f0576d5755cb613b08f339.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IXQF0-25XE94PgNi.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">API键的代码片段(作者使用snappify.io创建的图片)</figcaption></figure><h1 id="52df" class="me mf iu bd mg mh mi mj mk ml mm mn mo ka mp kb mq kd mr ke ms kg mt kh mu mv bi translated">三。数据</h1><p id="b0e5" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated"><a class="ae kz" href="https://api.census.gov/data/2020/acs/acs5/variables.html" rel="noopener ugc nofollow" target="_blank">美国人口普查2020 ACS详细表格变量</a>有一个您可以从人口普查API查询的所有属性的列表。</p><p id="9e03" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">列表中的一个变量是<strong class="lc iv">卧室毛租金中位数</strong>。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oq"><img src="../Images/f59dee9c59aa4c8228f42d6b2dbad35a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rOUA86Gw4PWkA3Log2HmbA.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated"><a class="ae kz" href="https://api.census.gov/data/2020/acs/acs5/variables/B25031_001E.json" rel="noopener ugc nofollow" target="_blank">美国人口普查中值总租金JSON对象</a>作者截图</figcaption></figure><p id="08f4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">为了查询API，我们需要指定变量名。变量名在“名称”列下— B25031_001E。</p><p id="7403" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在这里，我们指定变量名(B25031_001E)和我们想要查询的美国人口普查的年份(2020)。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj or"><img src="../Images/88fa76c1ba788e85266ce84e5018adc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n6YWM3OCA296jgcFEAAIgg.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码片段(作者使用snappify.io创建的图片)</figcaption></figure><h2 id="104f" class="no mf iu bd mg np nq dn mk nr ns dp mo lj nt nu mq ln nv nw ms lr nx ny mu nz bi translated">国家区域</h2><p id="e166" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">现在，我们可以从国家层面开始按地区查询<strong class="lc iv">总租金中位数</strong>数据。</p><p id="548a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在<a class="ae kz" href="https://api.census.gov/data/2020/acs/acs5/examples.html" rel="noopener ugc nofollow" target="_blank"> 2020 ACS示例</a>中，我们可以查看不同地理区域的变量查询示例。</p><p id="a5df" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">为了获得国家一级的数据，我们指定以下参数:</p><ol class=""><li id="e585" class="oa ob iu lc b ld le lg lh lj os ln ot lr ou lv of og oh oi bi translated"><strong class="lc iv">年</strong> — 2020年</li><li id="20c5" class="oa ob iu lc b ld oj lg ok lj ol ln om lr on lv of og oh oi bi translated"><strong class="lc iv">变量</strong> — B25031_001E(租金中位数)</li><li id="b67e" class="oa ob iu lc b ld oj lg ok lj ol ln om lr on lv of og oh oi bi translated"><strong class="lc iv">地区</strong> —美国:*(整个美国)</li><li id="9264" class="oa ob iu lc b ld oj lg ok lj ol ln om lr on lv of og oh oi bi translated"><strong class="lc iv">键</strong> —普查API键</li></ol><p id="12fa" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">然后，我们将获取参数的URL作为请求传递给API。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ov"><img src="../Images/de1f77c2b875ed053c2b8b81c54d76b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5-HUtgt7bR3cktybFlqv7A.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码片段(作者使用snappify.io创建的图片)</figcaption></figure><p id="78b5" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们的<a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/200" rel="noopener ugc nofollow" target="_blank">响应的状态代码是200 </a>。这意味着我们的请求成功了！</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj op"><img src="../Images/d848e1cbb28ec78a8957da74bf4f7bfc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*lFGUcnQten9uqS9b.png"/></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码输出(作者创建的截图)</figcaption></figure><p id="70b5" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们来看看回复的内容。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj op"><img src="../Images/f6d70eabc2c9e57dbb82c186561d2c47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*DOYcz7nuuv6ZmaUv.png"/></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码片段(作者使用snappify.io创建的图片)</figcaption></figure><p id="400c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这将返回包含列名和数据的字符串。</p><p id="4bfd" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这很难读。我们可以做得更好！</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj ow"><img src="../Images/e84cd76a0f72ab88aae906af3e38ddd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*MB4MJZF60KGdSzuOaBYsKw.png"/></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码输出(作者创建的截图)</figcaption></figure><p id="5f3b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们将我们的响应转换成一个<a class="ae kz" href="https://www.w3schools.com/js/js_json_objects.asp" rel="noopener ugc nofollow" target="_blank"> JSON对象</a>。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj op"><img src="../Images/47f0d26dd6ee3073869619c4c680a78d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*RcCSWofsO_uDN7eg.png"/></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码片段(作者使用snappify.io创建的图片)</figcaption></figure><p id="41cd" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们的数据现在已经<em class="lw">组织好了</em>，我们可以查询其中的对象。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj ox"><img src="../Images/e59fec9535eb7d0f1ad3a45a021f2b58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1038/format:webp/1*XlQWIDVIukT2GU6JUfDktA.png"/></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码输出(作者创建的截图)</figcaption></figure><p id="d198" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">然而，我认为处理数据的最简单的方法是记住电子表格！</p><p id="f484" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这就是为什么我们将JSON响应对象转换成一个<a class="ae kz" href="https://www.w3schools.com/python/pandas/pandas_dataframes.asp#:~:text=What%20is%20a%20DataFrame%3F,table%20with%20rows%20and%20columns." rel="noopener ugc nofollow" target="_blank">熊猫数据帧</a>。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oy"><img src="../Images/022b48402b4c44fef6efcec688a37fbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xEZbL0HWo5xYFSqBlm5Vlg.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码片段(作者使用snappify.io创建的图片)</figcaption></figure><p id="f82c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们现在有了一个包含行和列的表格对象。</p><p id="fe71" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们的列代表三个字段:(1)地理区域，(2)所有卧室的总租金中值，以及(3)区域号。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj oz"><img src="../Images/e0fed0c2e08011da488aafb862fe5c60.png" data-original-src="https://miro.medium.com/v2/resize:fit:916/format:webp/1*S_OchZ1fD-J2cyyC7qy2aQ.png"/></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码输出(作者创建的截图)</figcaption></figure><p id="b03b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们将租金中位数变量重新命名为一个我们容易识别的名称。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj pa"><img src="../Images/c1e02911a98f200b042a47e8266d6e34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*145-CjnWVqoy4xlu00m2dQ.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码片段(作者使用snappify.io创建的图片)</figcaption></figure><p id="c237" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">太好了，现在我们有全国租金中位数了！</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj pb"><img src="../Images/b9ff4405f9406802f3de634765c33a71.png" data-original-src="https://miro.medium.com/v2/resize:fit:878/format:webp/1*kW6xGcJgmPhUB6uPi2RymQ.png"/></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码输出(作者创建的截图)</figcaption></figure><p id="3bf1" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">接下来，让我们获得更精细的数据。</p><h2 id="5da2" class="no mf iu bd mg np nq dn mk nr ns dp mo lj nt nu mq ln nv nw ms lr nx ny mu nz bi translated">邮政编码区域</h2><p id="5b02" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">为了获得邮政编码级别的数据，我们需要指定<strong class="lc iv"> <em class="lw">人口普查区域</em> </strong> <em class="lw">。</em></p><blockquote class="lx ly lz"><p id="74f9" class="la lb lw lc b ld le jv lf lg lh jy li ma lk ll lm mb lo lp lq mc ls lt lu lv in bi translated">人口普查区域是多边形，覆盖定义明确的地理区域。</p></blockquote><p id="8b38" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv"> <em class="lw">注:人口普查区域与邮政编码不是1:1的映射关系。</em>T9】</strong></p><p id="39c6" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这意味着一个人口普查区域可以在多个邮政编码之间重叠。同样，一个邮政编码可以有多个人口普查区域。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj pc"><img src="../Images/13c848741d1ab66de6db38d6170e37e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3jEqgK5x51m9wvCXZBbeAg.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">由<a class="ae kz" href="https://www.tampabayfederal.com/Map_of_Field_of_Membership_182999.html" rel="noopener ugc nofollow" target="_blank">坦帕湾联邦信用合作社</a>拍摄的人口普查区域图片</figcaption></figure><p id="3670" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">一个完美的解决方案是将人口普查区域按百分比与每个邮政编码相关联。然而，对于这个分析，为了简单起见，我们将坚持1:1的映射。</p><p id="deb1" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">理论上，租金不会在几个街区内大幅变动。因此，人口普查区域和邮政编码稍有重叠就足够了。<strong class="lc iv"> <em class="lw">我们将使用HUD数据集将区域映射到邮政编码</em> </strong>。</p><p id="c637" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">查看UCF对人口普查区域和邮政编码的详细评估分析。</p><div class="pd pe gq gs pf pg"><a href="https://guides.ucf.edu/statistics/zip" rel="noopener  ugc nofollow" target="_blank"><div class="ph ab fp"><div class="pi ab pj cl cj pk"><h2 class="bd iv gz z fq pl fs ft pm fv fx it bi translated">UCF研究指南:统计，人口统计和人口普查:邮政编码&gt;人口普查区</h2><div class="pn l"><h3 class="bd b gz z fq pl fs ft pm fv fx dk translated">邮政编码列表区(ZCTAs)”是美国邮政服务(USPS)邮政编码服务的通用区域表示…</h3></div><div class="po l"><p class="bd b dl z fq pl fs ft pm fv fx dk translated">guides.ucf.edu</p></div></div></div></a></div><h2 id="9165" class="no mf iu bd mg np nq dn mk nr ns dp mo lj nt nu mq ln nv nw ms lr nx ny mu nz bi translated">平视显示器跟踪数据</h2><p id="3abc" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">为了获取邮政编码信息，我们使用Pandas从Github读取HUD数据集。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj pp"><img src="../Images/56de2330db4ba3e6f50826217cd463b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Eo5HU-Y89YCKfvEnKkonpA.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码片段(作者使用snappify.io创建的图片)</figcaption></figure><p id="ebb4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">HUD数据集包含8列，包括邮政编码|区域|城市|州。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj pq"><img src="../Images/272f5c8d22ecb528e84abf8db660ca8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/format:webp/1*RkWn7LEXclM0_lZz3tGULg.png"/></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码输出(作者创建的截图)</figcaption></figure><p id="2e8f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们的邮政编码似乎有错误。我们的第一行显示邮政编码为3个字符——“683”。对于美国邮政编码，我们知道它们应该是5个字符——“00684”。</p><p id="cb51" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">出现这个错误是因为Pandas自动为我们的数据解释类型<em class="lw">和</em>。在这个实例中，Pandas将ZIP关联为一个整数。因为没有“00684”这样的数字，所以零会被自动删除。</p><p id="8e84" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们应用逻辑在我们的数据帧上执行<strong class="lc iv"> <em class="lw">数据清理</em> </strong>。</p><p id="a5dc" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">首先，我们定义一个新的函数<strong class="lc iv"><em class="lw">zip _ code _ to _ str</em></strong>来清理我们的ZIP列。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj pr"><img src="../Images/7f1a75f8da12333c9b94712a80d85356.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*hDdbCiGhHPF1Kjm-5MaV4g.png"/></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码片段(作者使用snappify.io创建的图片)</figcaption></figure><p id="acc8" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">接下来，我们修改ZIP和TRACT列。</p><p id="f37e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这里我们可以看到我们的TRACT列是10个字符。这是不正确的TRACT _ CODES是6个字符。</p><p id="afe8" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们的数据帧中的区域是州代码|县代码|区域代码的连接。</p><p id="6fa1" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们将这个字段分成3个子字段，以获得正确的TRACT_CODE。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ps"><img src="../Images/93ff5ee77112c44d59b37c4758ef562f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fLC6ppcZ9FPEGx_Phl6XJA.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码片段(作者使用snappify.io创建的图片)</figcaption></figure><p id="faad" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在，在我们的输出中，我们已经清理了ZIP和TRACT字段。我们在末尾还有3个新列，包括TRACT_CODE。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj pt"><img src="../Images/047a0311aa855caec36aa48980df4471.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nidNKpwEHRW7jiJzKUbwLQ.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码输出(作者创建的截图)</figcaption></figure><p id="b6a8" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们查看一下针对单个邮政编码的清理后的数据集。我在这里输入佛罗里达州坦帕市海德公园的邮政编码。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj pu"><img src="../Images/d58562ab261cba93cb9800b620237989.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2Wy2zpMl4InJqvgFIX7d7A.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码片段(作者使用snappify.io创建的图片)</figcaption></figure><p id="694b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们的输出由一个邮政编码的7个不同区域组成。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj pv"><img src="../Images/ade5533318ad9f938652f4027d03dd52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TTgFfSsc_XhA9Btiqnr84w.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码输出(作者创建的截图)</figcaption></figure><h2 id="31fa" class="no mf iu bd mg np nq dn mk nr ns dp mo lj nt nu mq ln nv nw ms lr nx ny mu nz bi translated">获取人口普查数据</h2><p id="b2be" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">我们现在将<strong class="lc iv"> <em class="lw">获取我们的单个样本邮政编码33606内的每个人口普查区域</em> </strong>的总租金中值数据。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj pw"><img src="../Images/818709356427ee43d0400760871f8cd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VJ3S8BNF7o7HlNHT4HPWWg.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码片段(作者使用snappify.io创建的图片)</figcaption></figure><p id="28d1" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们将获得最新的美国人口普查5年ACS报告——2020年的数据。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj px"><img src="../Images/62ba8dfba6a2e351b2e3ceda6d5db41c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1070/format:webp/1*nCh8EmO2wovU-otduVFdFQ.png"/></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码输出(作者创建的截图)</figcaption></figure><p id="4f57" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">为了获得区域级别的数据，我们指定以下参数:</p><ol class=""><li id="f67b" class="oa ob iu lc b ld le lg lh lj os ln ot lr ou lv of og oh oi bi translated"><strong class="lc iv">年份</strong> — 2020年</li><li id="a4b6" class="oa ob iu lc b ld oj lg ok lj ol ln om lr on lv of og oh oi bi translated"><strong class="lc iv">变量</strong> — B25031_001E(租金中位数)</li><li id="98cd" class="oa ob iu lc b ld oj lg ok lj ol ln om lr on lv of og oh oi bi translated"><strong class="lc iv"> Tract Str </strong> — 005500…004900(我们单一邮政编码的所有区域)</li><li id="7267" class="oa ob iu lc b ld oj lg ok lj ol ln om lr on lv of og oh oi bi translated"><strong class="lc iv">州</strong> — 12(佛罗里达州)</li><li id="08e6" class="oa ob iu lc b ld oj lg ok lj ol ln om lr on lv of og oh oi bi translated"><strong class="lc iv">县</strong> — 057(希尔斯伯勒县)</li><li id="9c57" class="oa ob iu lc b ld oj lg ok lj ol ln om lr on lv of og oh oi bi translated"><strong class="lc iv">键</strong> —普查API键</li></ol><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj py"><img src="../Images/ff1b58932d51d9f0f26412cc6d3d5e82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rglz4q1q7Wf7FsCj87pRUA.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码片段(作者使用snappify.io创建的图片)</figcaption></figure><p id="d86d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">接下来，我们将我们的响应转换成数据帧。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj pz"><img src="../Images/14f58b5a97e249cdf2c40c0c1e0647d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UyQ0kR9EfwXSj6PwhHrr5Q.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码片段(作者使用snappify.io创建的图片)</figcaption></figure><p id="2b1e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在我们有了<strong class="lc iv"><em class="lw">median _ rent _ all _ BDS</em></strong>per tract。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj qa"><img src="../Images/03558202354aa96ea66ff7a38f8f8b79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*sfRpkhJ2fb5gzBTvQamfTg.png"/></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码输出(作者创建的截图)</figcaption></figure><p id="be18" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们计算所有区域的中值，得到2020年<em class="lw">的<strong class="lc iv"><em class="lw">median _ rent _ all _ BDS</em></strong>。</em></p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj qb"><img src="../Images/ea49756d5730648b0cac5c16ffc1b46f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zW2JC8-sNcrb8iE-N6K3dg.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码片段(作者使用snappify.io创建的图片)</figcaption></figure><p id="a9fc" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">2020年的租金中位数为1467美元。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj qc"><img src="../Images/9c1aedf4b79502344584089d2168e2a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1078/format:webp/1*aN6cd86QEcrOc7fTf3HgKQ.png"/></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码输出(作者创建的截图)</figcaption></figure><p id="4425" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">通过查看一段时间内的租金中值，可以增强这一信息。</p><h1 id="8067" class="me mf iu bd mg mh mi mj mk ml mm mn mo ka mp kb mq kd mr ke ms kg mt kh mu mv bi translated">四。历史数据(循环)</h1><p id="32d0" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated"><strong class="lc iv"> <em class="lw">创建年份列表，以查询美国人口普查API中的毛租金中值</em> </strong>。</p><p id="2aa8" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们需要的数据可以追溯到2015年ACS调查。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj op"><img src="../Images/27fbbb2675eda38bce440da2ab2e9cb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*oUVjttMrwlBaYPj_.png"/></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码片段(作者使用snappify.io创建的图片)</figcaption></figure><h2 id="7dea" class="no mf iu bd mg np nq dn mk nr ns dp mo lj nt nu mq ln nv nw ms lr nx ny mu nz bi translated">人口普查数据API</h2><p id="a3c5" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">这里我们将为数据帧建立一个空列表。该列表将填写每年在邮政编码级别<strong class="lc iv"> <em class="lw">的总租金中位数</em> </strong>。</p><p id="97d4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们每年向API发出6个单独的请求。每个响应被转换成数据帧并存储在对象<strong class="lc iv"> <em class="lw"> df_list </em> </strong>中。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj qd"><img src="../Images/f7fcdc15ad295e4039d9c19d0a371437.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bSPAM1x77dTrUBcZMw-Oxg.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码片段(作者使用snappify.io创建的图片)</figcaption></figure><p id="2404" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们结合数据框架列表，查看所有年份的租金中值。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj qe"><img src="../Images/2f41a072b622234f865b8a61311e50de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6rtpsmsReDknDT7KA7Hkfg.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码片段(作者使用snappify.io创建的图片)</figcaption></figure><p id="e24e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们的输出包含41行。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj qf"><img src="../Images/93e45e07ef6e6d78f3605a2cd6f12a27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1318/format:webp/1*zwaDg4dambZ7jWVe-3lM5Q.png"/></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码输出(作者创建的截图)</figcaption></figure><p id="6c59" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们按年分组，以查看按年的毛租金中值。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj qg"><img src="../Images/116332cc0a4612d975fa341813ec903b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jtF9EHk2TjVKVAjg5Dtpvw.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码片段(作者使用snappify.io创建的图片)</figcaption></figure><p id="f41c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">海德公园的租金逐年稳步上升。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj qh"><img src="../Images/60d6a2b6721dda299cae7ac18fe6f0b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:774/format:webp/1*GJGIctoPR1P5CgLRRG_r6Q.png"/></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码输出(作者创建的截图)</figcaption></figure><p id="1027" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果我们想获得更多的经济数据呢？住房数据怎么样？</p><p id="030e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">通过查询美国住房市场数据API(可选)，我们可以<strong class="lc iv"> <em class="lw">发出一个请求来检索多个住房数据字段</em> </strong>。</p><h1 id="8b9f" class="me mf iu bd mg mh mi mj mk ml mm mn mo ka mp kb mq kd mr ke ms kg mt kh mu mv bi translated">美国住房市场数据API</h1><p id="0113" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">我们向<a class="ae kz" href="http://www.bit.ly/3AHH7sY" rel="noopener ugc nofollow" target="_blank">美国住房市场数据</a>请求一个邮政编码— 33606。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj qi"><img src="../Images/2f77f30fda51bbeaa5c0c0d4fa5087c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wqa83NkJfog9vs0tWdn2Gw.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码片段(作者使用snappify.io创建的图片)</figcaption></figure><p id="09e1" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们的数据集由72行经济和住房数据属性组成！哇，信息量真大！</p><p id="0877" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv"> <em class="lw">这包括按卧室划分的租金中位数的普查数据、普查的家庭收入中位数，以及Redfin提供的其他经济统计数据(即库存、销售额中位数、新上市房源等)。).</em>T9】</strong></p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj qj"><img src="../Images/cf46122ef590bed670db7c2fce72d950.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aD96MjXJUWUK-Z8vMDgdvQ.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码输出(作者创建的截图)</figcaption></figure><h1 id="f35f" class="me mf iu bd mg mh mi mj mk ml mm mn mo ka mp kb mq kd mr ke ms kg mt kh mu mv bi translated">动词 （verb的缩写）形象化</h1><p id="2a79" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">在这里，我们使用<a class="ae kz" href="https://plotly.com/python/line-charts/" rel="noopener ugc nofollow" target="_blank"> Plotly Express折线图</a>来可视化美国人口普查API和美国住房市场数据API中值总租金。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj qk"><img src="../Images/c0642deebe4ab5c75852f3aaa7827811.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3EPEfSpe08VvZExgU0mwpg.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码片段(作者使用snappify.io创建的图片)</figcaption></figure><p id="0329" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们的输出是一个交互式的折线图。这让我们可以直观地看到该地区总租金中值的增长或下降。</p><p id="b4f8" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们也可以在我们的网站上嵌入这个图形。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ql"><img src="../Images/a839b6dcd78fe9a9c55fe3bb43d89df4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4ZoYiq-W-sA8TP5DL3yJGA.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码输出(作者创建的截图)</figcaption></figure><p id="edc7" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们根据美国住房市场数据API来绘制总租金中值。</p><p id="8cff" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv"> <em class="lw">在我们对美国住房市场数据API的单一请求中，我们收到了按卧室类型和年份划分的租金中值。这简化了我们获取历史数据的过程。</em>T15】</strong></p><p id="f3e7" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在，我们可以选择我们关心的租金相关列。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj qm"><img src="../Images/c24a60cf068b3b5ab8486bf7453d53c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ca9vjJ8AGxtcjyMVImTacw.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码片段(作者使用snappify.io创建的图片)</figcaption></figure><p id="944b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">通过融合我们的数据框架，我们可以很容易地按卧室类型绘制租金数据。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj qn"><img src="../Images/ff7e1f28ebe7e947d18e3169b2dd5763.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*QVHzhfTYe8493KTziZlONw.png"/></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码输出(作者创建的截图)</figcaption></figure><p id="df24" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在我们的Plotly Express Line函数中，我们将“num_bds”传递到<strong class="lc iv"> color </strong>参数中，以根据卧室数量分割我们的数据。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj qo"><img src="../Images/7deedd23f329d3db0e6d3f99dcde0753.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e2KsyHE753mryWzmfDk6Rw.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码片段(作者使用snappify.io创建的图片)</figcaption></figure><p id="c3d7" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这里我们可以看到三居室的租金中位数是所有居室类型中最高的。这在直觉上是有意义的，因为更多的卧室通常意味着更大的空间(平方英尺)和更高的租金。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ql"><img src="../Images/bd517f8634a3315c0c7f6e8867599fc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tfJgWudimI6XI0Oz_yojqQ.png"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">代码输出(作者创建的截图)</figcaption></figure><h1 id="89a4" class="me mf iu bd mg mh mi mj mk ml mm mn mo ka mp kb mq kd mr ke ms kg mt kh mu mv bi translated">结论</h1><p id="ac7d" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">查看我的<a class="ae kz" href="https://youtube.com/c/analyticsariel" rel="noopener ugc nofollow" target="_blank"> YouTube频道——AnalyticsAriel</a>以获得更多关于房地产数据源和数据分析的见解！</p><h1 id="574e" class="me mf iu bd mg mh mi mj mk ml mm mn mo ka mp kb mq kd mr ke ms kg mt kh mu mv bi translated">克隆笔记本</h1><div class="pd pe gq gs pf pg"><a href="https://github.com/analyticsariel/projects/blob/master/rental_estimates/us_census_rental_zipcode.ipynb" rel="noopener  ugc nofollow" target="_blank"><div class="ph ab fp"><div class="pi ab pj cl cj pk"><h2 class="bd iv gz z fq pl fs ft pm fv fx it bi translated">projects/us _ census _ rental _ zip code . ipynb at master analytics Ariel/projects</h2><div class="pn l"><h3 class="bd b gz z fq pl fs ft pm fv fx dk translated">https://analyticsariel.com/.通过在GitHub上创建帐户，为analyticsariel/projects开发做出贡献。</h3></div><div class="po l"><p class="bd b dl z fq pl fs ft pm fv fx dk translated">github.com</p></div></div><div class="qp l"><div class="qq l qr qs qt qp qu kt pg"/></div></div></a></div><h1 id="31b0" class="me mf iu bd mg mh mi mj mk ml mm mn mo ka mp kb mq kd mr ke ms kg mt kh mu mv bi translated">来源</h1><div class="pd pe gq gs pf pg"><a href="https://rapidapi.com/arielherrera/api/us-housing-market-data/" rel="noopener  ugc nofollow" target="_blank"><div class="ph ab fp"><div class="pi ab pj cl cj pk"><h2 class="bd iv gz z fq pl fs ft pm fv fx it bi translated">美国住房市场数据API文档(arielherrera) | RapidAPI</h2><div class="pn l"><h3 class="bd b gz z fq pl fs ft pm fv fx dk translated">从Redfin、Census和美联储经济数据(FRED)中即时获取美国住房市场数据。</h3></div><div class="po l"><p class="bd b dl z fq pl fs ft pm fv fx dk translated">rapidapi.com</p></div></div><div class="qp l"><div class="qv l qr qs qt qp qu kt pg"/></div></div></a></div></div><div class="ab cl nb nc hy nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="in io ip iq ir"><h1 id="d66c" class="me mf iu bd mg mh ni mj mk ml nj mn mo ka nk kb mq kd nl ke ms kg nm kh mu mv bi translated">分级编码</h1><p id="2141" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="2c7c" class="oa ob iu lc b ld le lg lh lj os ln ot lr ou lv qw og oh oi bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="ceed" class="oa ob iu lc b ld oj lg ok lj ol ln om lr on lv qw og oh oi bi translated">📰查看<a class="ae kz" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">级编码出版物</a>中的更多内容</li><li id="1051" class="oa ob iu lc b ld oj lg ok lj ol ln om lr on lv qw og oh oi bi translated">🔔关注我们:<a class="ae kz" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">推特</a> | <a class="ae kz" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a> | <a class="ae kz" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="3a8e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">🚀👉<a class="ae kz" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="lc iv">加入升级人才集体，找到一份惊艳的工作</strong> </a></p></div></div>    
</body>
</html>