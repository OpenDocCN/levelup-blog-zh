<html>
<head>
<title>Build a Full-Fledged CLI tool | Deno By Example</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">é€šè¿‡ç¤ºä¾‹æ„å»ºæˆç†Ÿçš„CLIå·¥å…·| Deno</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/build-a-cli-tool-deno-by-example-79d39f25eb0a?source=collection_archive---------8-----------------------#2020-06-21">https://levelup.gitconnected.com/build-a-cli-tool-deno-by-example-79d39f25eb0a?source=collection_archive---------8-----------------------#2020-06-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="633e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬å·²ç»åœ¨å¦ä¸€ä¸ªæ•™ç¨‹ä¸­çœ‹åˆ°äº†å¦‚ä½•åˆ›å»ºä¸€ä¸ª<a class="ae kl" href="https://deepakshrma.github.io/02-greet-from-cli" rel="noopener ugc nofollow" target="_blank">é—®å€™CLI </a>ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å°†æ‰©å±•æˆ‘ä»¬çš„çŸ¥è¯†ï¼Œåˆ›å»ºä¸€ä¸ªéƒ¨åˆ†å…‹éš†Mac/Unix <code class="fe km kn ko kp b">find</code>çš„<code class="fe km kn ko kp b">full-fledged</code> CLIã€‚</p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="gh gi kq"><img src="../Images/b9416c5d8cf9662ed9287ad7745dd643.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6IOv24zYgd_Zt5iqYGridg.jpeg"/></div></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated"><a class="ae kl" href="https://unsplash.com/@agkdesign?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">äºšå†å±±å¤§Â·å¥ˆç‰¹</a>åœ¨<a class="ae kl" href="/s/photos/innovation?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šçš„ç…§ç‰‡</figcaption></figure><p id="e88b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åˆ›å»ºCLIéœ€è¦ä»¥ä¸‹æåˆ°çš„åŠŸèƒ½:</p><ol class=""><li id="f04a" class="lg lh iq jp b jq jr ju jv jy li kc lj kg lk kk ll lm ln lo bi translated">è¾“å…¥å‘½ä»¤å‚æ•°è§£æå™¨</li><li id="138a" class="lg lh iq jp b jq lp ju lq jy lr kc ls kg lt kk ll lm ln lo bi translated">éå†æ–‡ä»¶å’Œç›®å½•æ ‘</li><li id="db8d" class="lg lh iq jp b jq lp ju lq jy lr kc ls kg lt kk ll lm ln lo bi translated">æ ¹æ®å‚æ•°è¿‡æ»¤æ–‡ä»¶/ç›®å½•</li><li id="4356" class="lg lh iq jp b jq lp ju lq jy lr kc ls kg lt kk ll lm ln lo bi translated">è®°å½•å™¨ï¼Œæ›´å¥½çš„è®°å½•ä¿¡æ¯</li></ol><h2 id="b830" class="lu lv iq bd lw lx ly dn lz ma mb dp mc jy md me mf kc mg mh mi kg mj mk ml mm bi translated">1.è¾“å…¥å‘½ä»¤å‚æ•°è§£æå™¨</h2><pre class="kr ks kt ku gt mn kp mo mp aw mq bi"><span id="ac4e" class="lu lv iq kp b gy mr ms l mt mu">async function main(args: string[]) {<br/>  console.log(args);<br/>}<br/>main(Deno.args);</span></pre><p id="40ad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨<code class="fe km kn ko kp b">Deno</code>æ‹¿è®ºæ®ï¼Œå¾ˆå®¹æ˜“ã€‚æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰<code class="fe km kn ko kp b">Deno.args</code>ï¼Œå®ƒè¿”å›ä¼ é€’ç»™ç¨‹åºçš„å‚æ•°ã€‚</p><p id="683a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mv">è¿è¡Œ:</em></p><p id="e6eb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe km kn ko kp b">deno run examples/minifind.ts param1 param2</code></p><p id="d56a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mv">è¾“å‡º:</em></p><p id="4662" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe km kn ko kp b">[ â€œparam1â€, â€œparam2â€ ]</code></p><p id="ac2d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe km kn ko kp b">Deno.args</code>è¿”å›ä¼ é€’ç»™ç¨‹åºçš„å­—ç¬¦ä¸²æ•°ç»„(examples/minifind.ts)ã€‚</p><p id="ea13" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬çš„CLIéœ€è¦åƒ<code class="fe km kn ko kp b">type</code>ã€<code class="fe km kn ko kp b">name</code>å’Œ<code class="fe km kn ko kp b">help</code>è¿™æ ·çš„å‚æ•°ã€‚æ¥è·å¾—è¿™äº›å‚æ•°çš„å€¼ã€‚æˆ‘ä»¬éœ€è¦åˆ†æè®ºç‚¹ã€‚Denoæœ‰<code class="fe km kn ko kp b">flags</code> <a class="ae kl" href="https://deno.land/std/flags/mod.ts" rel="noopener ugc nofollow" target="_blank">æ¨¡å—</a>å¸®åŠ©è§£æå’Œæ”¶é›†å‚æ•°ã€‚å†æ¥è¡¥å……ä¸€ä¸‹<code class="fe km kn ko kp b">parser</code>ã€‚</p><pre class="kr ks kt ku gt mn kp mo mp aw mq bi"><span id="78fa" class="lu lv iq kp b gy mr ms l mt mu">import { parse } from "<a class="ae kl" href="https://deno.land/std/flags/mod.ts" rel="noopener ugc nofollow" target="_blank">https://deno.land/std/flags/mod.ts</a>";</span><span id="71a1" class="lu lv iq kp b gy mw ms l mt mu">async function main(args: string[]) {<br/>  const {<br/>    type,<br/>    name,<br/>    not,<br/>    help,<br/>    _: [dir = "."],<br/>  } = parse(args);</span><span id="c81f" class="lu lv iq kp b gy mw ms l mt mu">console.log({<br/>    type,<br/>    name,<br/>    not,<br/>    help,<br/>    dir,<br/>  });<br/>}<br/>main(Deno.args);</span></pre><p id="e199" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mv">è¿è¡Œ:</em></p><pre class="kr ks kt ku gt mn kp mo mp aw mq bi"><span id="c56d" class="lu lv iq kp b gy mr ms l mt mu">deno run examples/minifind.ts --help --type=f --type=d --name=".*\.ts" examples</span></pre><p id="6236" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mv">è¾“å‡º:</em></p><pre class="kr ks kt ku gt mn kp mo mp aw mq bi"><span id="186e" class="lu lv iq kp b gy mr ms l mt mu">{ type: [ "f", "d" ], name: ".*\.ts", not: undefined, help: true, dir: "examples" }</span></pre><p id="2c62" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å½“æ‚¨ä½¿ç”¨ä¸€ä¸ªç»™å®šçš„ç¤ºä¾‹è¿è¡Œç¨‹åºæ—¶ï¼Œæ‚¨å°†çœ‹åˆ°å¦‚ä¸Šæ‰€ç¤ºçš„è¾“å‡ºã€‚Deno parseå¸®åŠ©ä½ æ”¶é›†æ‰€æœ‰çš„å‚æ•°ã€‚</p><p id="329d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘å·²ç»ä½¿ç”¨äº†ES6åˆ†è§£ç‰¹æ€§æ¥åˆ†é…é»˜è®¤å€¼ã€‚</p><p id="be81" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Deno parseè‡ªåŠ¨å°è¯•åŸºäºæ¨¡å¼æ”¶é›†å’Œç»„åˆå‚æ•°ã€‚ä»»ä½•ä½œä¸ºå‰ç¼€(â€”)ä¼ é€’çš„å‚æ•°éƒ½è¢«è§†ä¸ºå¸¦å€¼çš„å‚æ•°ã€‚å¦‚æœä½ ä¸ä¼ é€’å®ƒæ—è¾¹çš„å€¼ã€‚å®ƒå°†å˜æˆå¸ƒå°”å‹ã€‚</p><p id="47c7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mv">ä¾‹1: </em></p><pre class="kr ks kt ku gt mn kp mo mp aw mq bi"><span id="724c" class="lu lv iq kp b gy mr ms l mt mu">console.log(parse(["--test", "t"])); // { _: [], test: "t" }<br/>console.log(parse(["--test"])); // { _: [], test: true }</span></pre><p id="79b5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">éœ€è¦æ³¨æ„çš„æ˜¯:å¦‚æœä½ ä¸æ­¢ä¸€æ¬¡çš„ä¼ é€’åŒä¸€ä¸ªå‚æ•°ã€‚<code class="fe km kn ko kp b">parse</code>åœ¨<code class="fe km kn ko kp b">array</code>ä¸­åˆå¹¶ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œç±»å‹è¢«ä¼ é€’äº†ä¸¤æ¬¡ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ<code class="fe km kn ko kp b">type</code>æœ‰å€¼<code class="fe km kn ko kp b">[ "f", "d" ]</code>çš„åŸå› ã€‚</p><p id="8006" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mv">ä¾‹2: </em></p><pre class="kr ks kt ku gt mn kp mo mp aw mq bi"><span id="654a" class="lu lv iq kp b gy mr ms l mt mu">console.log(parse(["--test", "t", "--test", "t2"])); // { _: [], test: [ "t", "t2" ] }</span></pre><p id="eb28" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸‹åˆ’çº¿(<code class="fe km kn ko kp b">_</code>)åœ¨è¿™é‡Œå°±åƒrestå‚æ•°çš„é›†åˆã€‚å¦‚æœå‚æ•°ä¸éµå¾ªæ ‡å‡†çš„<code class="fe km kn ko kp b">--</code>æˆ–<code class="fe km kn ko kp b">-</code>å‰ç¼€ã€‚åœ¨<code class="fe km kn ko kp b">_</code>ä¸­æ”¶é›†çš„æ‰€æœ‰å‚æ•°ä½œä¸ºä¸€ä¸ªæ•°æ®æ•°ç»„ã€‚æˆ‘ä»¬ä»rest <code class="fe km kn ko kp b">_</code>ä¸­æå–<code class="fe km kn ko kp b">dir</code>ä½œä¸ºç›®å½•åã€‚</p><p id="cc62" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mv">ä¾‹3: </em></p><pre class="kr ks kt ku gt mn kp mo mp aw mq bi"><span id="1231" class="lu lv iq kp b gy mr ms l mt mu">const { _ } = parse(["--test", "t", "examples"]);<br/>console.log(_); // _ == [ "examples" ]<br/>const [dir = "."] = _;<br/>console.log(dir); // examples</span></pre><p id="b1c6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ›´å¤šä¿¡æ¯è¯·é˜…è¯»:<a class="ae kl" href="https://deno.land/std/flags" rel="noopener ugc nofollow" target="_blank">https://deno.land/std/flags</a></p><h2 id="71c3" class="lu lv iq bd lw lx ly dn lz ma mb dp mc jy md me mf kc mg mh mi kg mj mk ml mm bi translated">2.éå†æ–‡ä»¶å’Œç›®å½•æ ‘</h2><p id="d8bd" class="pw-post-body-paragraph jn jo iq jp b jq mx js jt ju my jw jx jy mz ka kb kc na ke kf kg nb ki kj kk ij bi translated">æ—¢ç„¶ç°åœ¨æˆ‘ä»¬å·²ç»è§£æäº†å‚æ•°ï¼Œè®©æˆ‘ä»¬æ·»åŠ ä¸€äº›é€»è¾‘æ¥è¯»å–ç›®å½•ã€‚</p><p id="49a3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬å¯ä»¥åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥è§£æéœ€è¦æœç´¢æ–‡ä»¶çš„<code class="fe km kn ko kp b">path</code>æˆ–<code class="fe km kn ko kp b">directory</code>ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<a class="ae kl" href="https://deno.land/std/path" rel="noopener ugc nofollow" target="_blank">è·¯å¾„æ¨¡å—</a>ä¸­çš„resolveæ–¹æ³•ã€‚</p><pre class="kr ks kt ku gt mn kp mo mp aw mq bi"><span id="36af" class="lu lv iq kp b gy mr ms l mt mu">import { parse } from "<a class="ae kl" href="https://deno.land/std/flags/mod.ts" rel="noopener ugc nofollow" target="_blank">https://deno.land/std/flags/mod.ts</a>";<br/>import { resolve } from "<a class="ae kl" href="https://deno.land/std/path/mod.ts" rel="noopener ugc nofollow" target="_blank">https://deno.land/std/path/mod.ts</a>";</span><span id="8235" class="lu lv iq kp b gy mw ms l mt mu">async function main(args: string[]) {<br/>  const {<br/>    type,<br/>    name,<br/>    not,<br/>    help,<br/>    _: [dir = "."],<br/>  } = parse(args);<br/>  const dirFullPath = resolve(Deno.cwd(), String(dir));<br/>  console.log(dirFullPath);<br/>}<br/>main(Deno.args);</span></pre><p id="0a0a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mv">è¿è¡Œ:</em></p><p id="3aaa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe km kn ko kp b">deno run -A examples/minifind.ts examples</code></p><p id="1939" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mv">è¾“å‡º:</em></p><p id="0ce4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe km kn ko kp b"><em class="mv">/Users/xdeepakv/github/deno-by-example/examples</em></code></p><p id="9309" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe km kn ko kp b">resolve</code>éœ€è¦<code class="fe km kn ko kp b">--allow-read</code>çš„è®¸å¯ã€‚ç›®å‰ï¼Œæˆ‘å·²ç»ç»™äº†æ‰€æœ‰è®¸å¯é€šè¿‡æ ‡å¿—<code class="fe km kn ko kp b">-A</code>ã€‚ä½ å¯ä»¥é˜…è¯»æ›´å¤šå…³äº<a class="ae kl" href="https://deno.land/manual/getting_started/permissions" rel="noopener ugc nofollow" target="_blank">æƒé™</a></p><p id="92a2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe km kn ko kp b">Deno.cwd()</code>ç”¨äºè·å–å½“å‰è¿è¡Œè·¯å¾„ã€‚æˆ‘ä»¬å¿…é¡»å°†<code class="fe km kn ko kp b">dir</code>è½¬æ¢æˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚å› ä¸º<code class="fe km kn ko kp b">parse</code>å¯ä»¥æ ¹æ®è¾“å…¥ç±»å‹å°†å…¶è½¬æ¢ä¸º<code class="fe km kn ko kp b">string | number</code>ã€‚</p><p id="d308" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä½¿ç”¨<code class="fe km kn ko kp b">Deno.readDir</code>å¯ä»¥è¯»å–ç›®å½•ã€‚ä½†æ˜¯æˆ‘ä»¬æ­£åœ¨éå†æ•´ä¸ªç›®å½•å’Œæ–‡ä»¶æ ‘ã€‚ç¼–å†™éå†æ–¹æ³•å¯èƒ½å¾ˆæ£˜æ‰‹ã€‚ä½ å¯ä»¥è‡ªå·±è¯•è¯•ã€‚</p><p id="14af" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™é‡Œï¼Œæˆ‘å°†å€ŸåŠ©<a class="ae kl" href="https://deno.land/std/fs/mod.ts" rel="noopener ugc nofollow" target="_blank">https://deno.land/std/fs/mod.ts</a>çš„<code class="fe km kn ko kp b">walk</code>åŠŸèƒ½ã€‚</p><pre class="kr ks kt ku gt mn kp mo mp aw mq bi"><span id="ff3b" class="lu lv iq kp b gy mr ms l mt mu">import { parse } from "<a class="ae kl" href="https://deno.land/std/flags/mod.ts" rel="noopener ugc nofollow" target="_blank">https://deno.land/std/flags/mod.ts</a>";<br/>import { resolve } from "<a class="ae kl" href="https://deno.land/std/path/mod.ts" rel="noopener ugc nofollow" target="_blank">https://deno.land/std/path/mod.ts</a>";<br/>import { walk } from "<a class="ae kl" href="https://deno.land/std/fs/mod.ts" rel="noopener ugc nofollow" target="_blank">https://deno.land/std/fs/mod.ts</a>";</span><span id="e0b0" class="lu lv iq kp b gy mw ms l mt mu">async function main(args: string[]) {<br/>  const {<br/>    type,<br/>    name,<br/>    not,<br/>    help,<br/>    _: [dir = "."],<br/>  } = parse(args);<br/>  const dirFullPath = resolve(Deno.cwd(), String(dir));<br/>  for await (let entry of walk(dirFullPath)) {<br/>    console.log(entry);<br/>  }<br/>}<br/>main(Deno.args);</span></pre><p id="92a5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mv">è¿è¡Œ:</em></p><p id="61b7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe km kn ko kp b">deno run -A --unstable examples/minifind.ts examples</code></p><p id="ad17" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mv">è¾“å‡º</em> <strong class="jp ir"> <em class="mv"> : </em> </strong></p><pre class="kr ks kt ku gt mn kp mo mp aw mq bi"><span id="440d" class="lu lv iq kp b gy mr ms l mt mu">{<br/>  path: "/Users/xdeepakv/github/deno-by-example/examples/sample_employee.csv",<br/>  name: "sample_employee.csv",<br/>  isFile: true,<br/>  isDirectory: false,<br/>  isSymlink: false<br/>}<br/>{<br/>  path: "/Users/xdeepakv/github/deno-by-example/examples/06_readfile_chunk.ts",<br/>  name: "06_readfile_chunk.ts",<br/>  isFile: true,<br/>  isDirectory: false,<br/>  isSymlink: false<br/>}</span></pre><p id="581e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç”±äº<code class="fe km kn ko kp b">walk</code>åŠŸèƒ½ä¸æ˜¯ç¨³å®šåŠŸèƒ½ã€‚åœ¨è¿è¡Œè¯¥ç¤ºä¾‹æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨<code class="fe km kn ko kp b">--unstable</code>æ ‡å¿—ã€‚</p><p id="7743" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Walkå‡½æ•°è¿”å›ä¸€ä¸ª<code class="fe km kn ko kp b">entries</code>çš„å¼‚æ­¥ç”Ÿæˆå™¨ã€‚æ¯ä¸ªæ¡ç›®éƒ½æœ‰<code class="fe km kn ko kp b">name</code>å’Œ<code class="fe km kn ko kp b">path</code>ä»¥åŠå…¶ä»–æ ‡å¿—ï¼Œå¦‚<code class="fe km kn ko kp b">isDirectory</code>å’Œ<code class="fe km kn ko kp b">isFile</code>ã€‚</p><p id="bc97" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ¼‚äº®:æœ€å›°éš¾çš„éƒ¨åˆ†å·²ç»å®Œæˆäº†ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥è¯»å–æ•´ä¸ªç›®å½•ä»¥åŠå…¶ä¸­çš„æ–‡ä»¶ã€‚</p><h2 id="493b" class="lu lv iq bd lw lx ly dn lz ma mb dp mc jy md me mf kc mg mh mi kg mj mk ml mm bi translated">3.æ ¹æ®å‚æ•°è¿‡æ»¤æ–‡ä»¶/ç›®å½•</h2><p id="d9d1" class="pw-post-body-paragraph jn jo iq jp b jq mx js jt ju my jw jx jy mz ka kb kc na ke kf kg nb ki kj kk ij bi translated">Walkå‡½æ•°æ¥å—<code class="fe km kn ko kp b">WalkOptions</code>ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªé€‰é¡¹æ¥æ·»åŠ æˆ‘ä»¬çš„é€»è¾‘ã€‚</p><p id="42a2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mv">ç•Œé¢:</em></p><pre class="kr ks kt ku gt mn kp mo mp aw mq bi"><span id="d572" class="lu lv iq kp b gy mr ms l mt mu">export interface WalkOptions {<br/>  maxDepth?: number;<br/>  includeFiles?: boolean;<br/>  includeDirs?: boolean;<br/>  followSymlinks?: boolean;<br/>  exts?: string[];<br/>  match?: RegExp[];<br/>  s</span></pre><p id="ee9b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mv">ä»£ç :</em></p><pre class="kr ks kt ku gt mn kp mo mp aw mq bi"><span id="ef3b" class="lu lv iq kp b gy mr ms l mt mu">// rest of the code<br/>async function main(args: string[]) {<br/>  // rest of the code<br/>  const dirFullPath = resolve(Deno.cwd(), String(dir));<br/>  let includeFiles = true;<br/>  let includeDirs = true;<br/>  let types = type ? (Array.isArray(type) ? type : [type]) : ["f", "d"];<br/>  if (!types.includes("f")) {<br/>    includeFiles = false;<br/>  }<br/>  if (!types.includes("d")) {<br/>    includeDirs = false;<br/>  }<br/>  const options = {<br/>    maxDepth: 2,<br/>    includeFiles,<br/>    includeDirs,<br/>    followSymlinks: false,<br/>    skip: [/node_modules/g],<br/>  };<br/>  for await (const entry of walk(dirFullPath, options)) {<br/>    console.log(entry.path);<br/>  }<br/>}<br/>main(Deno.args);</span></pre><p id="9c58" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mv">è¿è¡Œ:</em></p><p id="f9e6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe km kn ko kp b">deno run -A --unstable examples/minifind.ts examples</code></p><p id="139e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mv">è¾“å‡º:</em></p><pre class="kr ks kt ku gt mn kp mo mp aw mq bi"><span id="be74" class="lu lv iq kp b gy mr ms l mt mu">/Users/xdeepakv/github/deno-by-example/examples<br/>/Users/xdeepakv/github/deno-by-example/examples/subfolder<br/>/Users/xdeepakv/github/deno-by-example/examples/subfolder/dummy.ts</span></pre><p id="998a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">é»˜è®¤ç±»å‹åŒ…æ‹¬<code class="fe km kn ko kp b">file</code>å’Œ<code class="fe km kn ko kp b">dir</code>[â€œfâ€ã€â€œdâ€]ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡æ ‡å¿—<code class="fe km kn ko kp b">--type=f</code>å’Œ<code class="fe km kn ko kp b">--type=d</code>æ¥è¦†ç›–è¡Œä¸ºã€‚</p><p id="6a92" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="mv">ä»…è¿è¡Œç›®å½•:</em> </strong></p><p id="7c84" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe km kn ko kp b">deno run -A --unstable examples/minifind.ts --type=d examples</code></p><p id="d724" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="mv">ä»…è¿è¡Œæ–‡ä»¶:</em> </strong></p><p id="fc70" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe km kn ko kp b">deno run -A --unstable examples/minifind.ts --type=f examples</code></p><p id="cfce" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe km kn ko kp b">WalkOptions</code>æ”¯æŒregexpåŒ…å«å’Œæ’é™¤æ¨¡å¼ã€‚æˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥æŒ‰åç§°è¿‡æ»¤æ¡ç›®ã€‚</p><pre class="kr ks kt ku gt mn kp mo mp aw mq bi"><span id="19cc" class="lu lv iq kp b gy mr ms l mt mu">/// rest of the code</span><span id="13f5" class="lu lv iq kp b gy mw ms l mt mu">async function main(args: string[]) {<br/>  /// rest of the code</span><span id="7c79" class="lu lv iq kp b gy mw ms l mt mu">let matchRegexps: RegExp[] | undefined = name<br/>    ? (Array.isArray(name) ? name : [name]).map(<br/>        (reg: string) =&gt; new RegExp(reg)<br/>      )<br/>    : undefined;<br/>  const options = {<br/>    maxDepth: 2,<br/>    includeFiles,<br/>    includeDirs,<br/>    followSymlinks: false,<br/>    match: matchRegexps,<br/>    skip: [/node_modules/g],<br/>  };<br/>  for await (const entry of walk(dirFullPath, options)) {<br/>    console.log(entry.path);<br/>  }<br/>}<br/>main(Deno.args);</span></pre><p id="2f48" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">è¿è¡Œ-è·å–æ‰€æœ‰åŒ…å«è®°å½•å™¨çš„æ–‡ä»¶å:</strong></p><p id="3af5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe km kn ko kp b">deno run -A --unstable examples/minifind.ts --type=f --name=â€.*logger.*â€ examples</code></p><p id="b523" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨æˆ‘ä»¬æœ‰å·¥ä½œ<code class="fe km kn ko kp b">minifind</code>ã€‚<strong class="jp ir">å™ªéŸ³</strong>ï¼</p><h2 id="c509" class="lu lv iq bd lw lx ly dn lz ma mb dp mc jy md me mf kc mg mh mi kg mj mk ml mm bi translated">4.è®°å½•å™¨ï¼Œæ›´å¥½çš„è®°å½•ä¿¡æ¯</h2><pre class="kr ks kt ku gt mn kp mo mp aw mq bi"><span id="373f" class="lu lv iq kp b gy mr ms l mt mu">/// rest of the code<br/>import { Logger } from "<a class="ae kl" href="https://deno.land/x/deno_util/logger.ts" rel="noopener ugc nofollow" target="_blank">https://deno.land/x/deno_util/logger.ts</a>";</span><span id="b5d1" class="lu lv iq kp b gy mw ms l mt mu">const usesFormat = `Uses:\n\n  minifind %s`;<br/>const logger = new Logger();</span><span id="a6d9" class="lu lv iq kp b gy mw ms l mt mu">function printHelp(command: string) {<br/>  logger.info(`Welcome to minifind [v%s]`, "1.0.0");<br/>  logger.warn(usesFormat, command);<br/>}<br/>async function main(args: string[]) {<br/>  /// rest of the code</span><span id="a23b" class="lu lv iq kp b gy mw ms l mt mu">if (help) {<br/>    printHelp(`--type=f --name=".*logger.*" --help examples`);<br/>    Deno.exit(0);<br/>  }</span><span id="5d6f" class="lu lv iq kp b gy mw ms l mt mu">/// rest of the code</span><span id="4570" class="lu lv iq kp b gy mw ms l mt mu">for await (const entry of walk(dirFullPath, options)) {<br/>    logger.inverse(entry.path);<br/>  }<br/>}<br/>main(Deno.args);</span></pre><p id="0b64" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æœ€åç¼ºå°‘çš„éƒ¨åˆ†æ˜¯å‘Šè¯‰ä½ çš„ç”¨æˆ·å…³äºä½ çš„CLIã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬ä¸ºç”¨æˆ·æ·»åŠ äº†å¸®åŠ©ä¿¡æ¯ã€‚æˆ‘åœ¨ç”¨æˆ‘è‡ªå·±åˆ›é€ çš„<code class="fe km kn ko kp b">logger-util</code>ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œé˜…è¯»æ›´å¤š<a class="ae kl" href="https://deno.land/x/deno_util" rel="noopener ugc nofollow" target="_blank">https://deno.land/x/deno_util</a>ã€‚</p><p id="8d31" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mv">åœ¨å¸®åŠ©ä¸‹è¿è¡Œ:</em></p><p id="826e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe km kn ko kp b">deno run -A --unstable examples/minifind.ts --help</code></p><p id="dfbd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mv">è¾“å‡º:</em></p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="gh gi nc"><img src="../Images/d2d8e8ffa9f053cfc6e1f68e4fb15c22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*CbyaCwfMZQGLpBLN.png"/></div></div></figure><p id="0eb6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mv">ç”¨å…¶ä»–é€‰é¡¹è¿è¡Œ:</em></p><p id="c7c5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe km kn ko kp b">deno run -A --unstable examples/minifind.ts --help</code></p><p id="1e7f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mv">è¾“å‡º:</em></p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="gh gi nc"><img src="../Images/7def4527359ebca9c196455fb0dbfa32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*C0gh1DXteaV1fFU4.png"/></div></div></figure><p id="980f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">TaDaï¼ğŸ‘ğŸ‘ç°åœ¨æ‚¨çŸ¥é“äº†å¦‚ä½•åˆ›å»ºCLIã€‚</p><h2 id="e725" class="lu lv iq bd lw lx ly dn lz ma mb dp mc jy md me mf kc mg mh mi kg mj mk ml mm bi translated">å¥–é‡‘:</h2><p id="21cc" class="pw-post-body-paragraph jn jo iq jp b jq mx js jt ju my jw jx jy mz ka kb kc na ke kf kg nb ki kj kk ij bi translated">ç°åœ¨æˆ‘ä»¬æœ‰äº†å·¥ä½œçš„å‘½ä»¤è¡Œç•Œé¢ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬ä¸å¾—ä¸ä½¿ç”¨<code class="fe km kn ko kp b">deno run</code>å’Œ<code class="fe km kn ko kp b">filename</code>æ¥è¿è¡Œå‘½ä»¤ï¼Œè¿™ä¸æ˜¯<em class="mv">æƒ³è¦/å¯è¡Œçš„</em>ã€‚Denoæä¾›<code class="fe km kn ko kp b">install</code>å‘½ä»¤ã€‚ä½¿ç”¨å®ƒï¼Œæˆ‘ä»¬å¯ä»¥å°†ä»»ä½•ç¨‹åºè½¬æ¢æˆä¸€ä¸ª<code class="fe km kn ko kp b">executable</code>å·¥å…·ã€‚</p><p id="0e18" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è®©æˆ‘ä»¬å°†minifindè½¬æ¢ä¸º<code class="fe km kn ko kp b">executable</code>ã€‚è¿™å¾ˆç®€å•ã€‚</p><pre class="kr ks kt ku gt mn kp mo mp aw mq bi"><span id="13e7" class="lu lv iq kp b gy mr ms l mt mu">deno install -f --allow-read --unstable examples/minifind.ts</span></pre><p id="fbf2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸€æ—¦è¿è¡Œä»¥ä¸Šå‘½ä»¤ï¼Œæ‚¨å°†çœ‹åˆ°å¦‚ä¸‹è¾“å‡º:</p><pre class="kr ks kt ku gt mn kp mo mp aw mq bi"><span id="47ae" class="lu lv iq kp b gy mr ms l mt mu">Add /Users/xdeepakv/.deno/bin to PATH<br/>    export PATH="/Users/xdeepakv/.deno/bin:$PATH"</span></pre><p id="2cb5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¦‚æœä½ çœ‹åˆ°äº†ï¼Œåªéœ€å°†<code class="fe km kn ko kp b">export PATH="/Users/xdeepakv/.deno/bin:$PATH"</code>è¿™ä¸€è¡Œæ·»åŠ åˆ°ä½ çš„<code class="fe km kn ko kp b">.bashrc</code>æˆ–<code class="fe km kn ko kp b">.bash_profile</code>(å–å†³äºä½ çš„æ“ä½œç³»ç»Ÿç±»å‹)ã€‚ä¸€æ—¦ä½ åœ¨è·¯å¾„ä¸­æ·»åŠ äº†<code class="fe km kn ko kp b">.deno/bin</code>ã€‚æ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯ï¼Œå¹¶å°è¯•ä¸‹é¢æåˆ°çš„å‘½ä»¤ã€‚</p><pre class="kr ks kt ku gt mn kp mo mp aw mq bi"><span id="0454" class="lu lv iq kp b gy mr ms l mt mu">minifind --type=f --name=".*logger.*" examples</span></pre><p id="95ea" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨æ‚¨çš„<strong class="jp ir"> minifind </strong>å·²ç»å‡†å¤‡å¥½ç”¨äºç”Ÿäº§(CLI)ã€‚:-)</p><p id="a4c3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mv">å¸Œæœ›ä½ å–œæ¬¢è¿™ä¸ªæ•™ç¨‹ã€‚è¯·çœ‹çœ‹æˆ‘ä»¬ç½‘ç«™ä¸Šçš„å…¶ä»–æ•™ç¨‹:</em><a class="ae kl" href="https://deepakshrma.github.io/deno-by-example/" rel="noopener ugc nofollow" target="_blank">https://deepakshrma.github.io/deno-by-example/</a></p><p id="1ade" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ‰€æœ‰å·¥ä½œå®ä¾‹éƒ½å¯ä»¥åœ¨æˆ‘çš„Githubä¸­æ‰¾åˆ°:<a class="ae kl" href="https://github.com/deepakshrma/deno-by-example/tree/master/examples" rel="noopener ugc nofollow" target="_blank">https://Github . com/deepakshrma/deno-by-example/tree/master/examples</a></p></div></div>    
</body>
</html>