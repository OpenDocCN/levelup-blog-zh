<html>
<head>
<title>Oops, You Have Accidentally Merged Into the Wrong Branch. What Should You Do?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">哎呀，你不小心合并到了错误的分支。你该怎么办？</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/git-workflow-devops-69e5a9071be1?source=collection_archive---------3-----------------------#2020-11-30">https://levelup.gitconnected.com/git-workflow-devops-69e5a9071be1?source=collection_archive---------3-----------------------#2020-11-30</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><h2 id="af4f" class="is it iu bd b dl iv iw ix iy iz ja dk jb translated" aria-label="kicker paragraph"><a class="ae ep" href="https://rakiabensassi.medium.com/list/software-engineering-7a179a23ebfd" rel="noopener">软件工程</a></h2><div class=""/><div class=""><h2 id="cb72" class="pw-subtitle-paragraph ka jd iu bd b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr dk translated">如何撤销推送或与Git合并？</h2></div><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gi gj ks"><img src="../Images/29fd2517f68129f03a16cc565ac1a1d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vvjtxV9mOIXF8Zs1rXgttg.jpeg"/></div></div><figcaption class="le lf gk gi gj lg lh bd b be z dk translated">由<a class="ae li" href="https://unsplash.com/@officestock?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">塞巴斯蒂安·赫尔曼</a>在<a class="ae li" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="9be2" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">我仍然记得当我试图使用eclipse更新我的本地分支时，突然“有冲突”的消息出现在我的眼前。在我职业生涯的那个阶段，解决合并冲突是一次可怕的经历。我不确定我正在做的事情——应该是修复——是对还是错。但我并不孤单。</p><p id="eb2f" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">在经典的subversion世界中，合并和分支被认为有点可怕。随着Git的事情发生了变化。这些实践变得简单，成为我们日常编码工作流程的一部分。为了更加流畅和熟悉它们，您所需要的就是理解Git工作流和特性分支概念。</p><blockquote class="mf mg mh"><p id="c507" class="lj lk mi ll b lm ln ke lo lp lq kh lr mj lt lu lv mk lx ly lz ml mb mc md me in bi translated">“功能分支工作流程背后的核心思想是，所有功能开发都应该在一个专门的分支中进行，而不是在<code class="fe mm mn mo mp b">master</code>分支中进行。这一概念使得多个开发人员在不干扰主要代码库的情况下处理特定功能变得容易。这也意味着<code class="fe mm mn mo mp b">master</code>分支永远不会包含破损的代码。”— <a class="ae li" href="https://www.atlassian.com/git/tutorials/comparing-workflows/feature-branch-workflow" rel="noopener ugc nofollow" target="_blank">亚特兰大人</a></p></blockquote><p id="96c6" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">但是，如果您不小心将损坏的代码推入或合并到所有团队成员使用的分支中，您应该怎么办？</p><p id="f4c5" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">别担心，在你的现实生活中你不能让时间倒流，但是在Git subversion系统中，你可以。在这篇文章中，我们将看到如何去做。</p><h1 id="1d8c" class="mq mr iu bd ms mt mu mv mw mx my mz na kj nb kk nc km nd kn ne kp nf kq ng nh bi translated">Git分支模型</h1><p id="bfa8" class="pw-post-body-paragraph lj lk iu ll b lm ni ke lo lp nj kh lr ls nk lu lv lw nl ly lz ma nm mc md me in bi translated">Git工作流定义了一个严格的分支模型，有助于实现DevOps实践。中央存储库包含两个具有无限生命周期的主要分支:</p><ul class=""><li id="21fa" class="nn no iu ll b lm ln lp lq ls np lw nq ma nr me ns nt nu nv bi translated"><code class="fe mm mn mo mp b">master</code></li><li id="237d" class="nn no iu ll b lm nw lp nx ls ny lw nz ma oa me ns nt nu nv bi translated"><code class="fe mm mn mo mp b">develop</code></li></ul><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div class="gi gj ob"><img src="../Images/42604b72fdd2189a7ad63bf69c40955a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1068/format:webp/1*VU9Fd_2HhZx9euhA8Fw0Fg.png"/></div><figcaption class="le lf gk gi gj lg lh bd b be z dk translated">主和开发:中央存储库中的两个主要分支(图片<a class="ae li" href="https://nvie.com/posts/a-successful-git-branching-model/" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><p id="f209" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated"><code class="fe mm mn mo mp b">master</code>包含生产就绪代码，而<code class="fe mm mn mo mp b">develop</code>包含下一版本的最新开发变更。Git模型中使用了各种其他支持分支(功能分支、发布分支和补丁分支):</p><ul class=""><li id="fbab" class="nn no iu ll b lm ln lp lq ls np lw nq ma nr me ns nt nu nv bi translated">为了帮助团队成员之间的并行开发</li><li id="6e1e" class="nn no iu ll b lm nw lp nx ls ny lw nz ma oa me ns nt nu nv bi translated">为了便于特征跟踪</li><li id="9d8e" class="nn no iu ll b lm nw lp nx ls ny lw nz ma oa me ns nt nu nv bi translated">准备生产发布和</li><li id="49b1" class="nn no iu ll b lm nw lp nx ls ny lw nz ma oa me ns nt nu nv bi translated">协助解决现场生产问题</li></ul><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gi gj oc"><img src="../Images/de226515701038bd3f558be9fd78e284.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8-zDz1s5Atux_yNW_mXmfg.png"/></div></div><figcaption class="le lf gk gi gj lg lh bd b be z dk translated">Vincent Driessen的Git分支模型</figcaption></figure><h1 id="5f18" class="mq mr iu bd ms mt mu mv mw mx my mz na kj nb kk nc km nd kn ne kp nf kq ng nh bi translated">用Git撤消推送的合并</h1><p id="b5a4" class="pw-post-body-paragraph lj lk iu ll b lm ni ke lo lp nj kh lr ls nk lu lv lw nl ly lz ma nm mc md me in bi translated">在看到Git分支模型的一般结构之后，让我们回到我们的主要问题:</p><p id="0fc0" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">午夜时分，您正坐在桌面上，计划在创建一个“拉”请求后上床睡觉，该请求允许您的同事检查您当前对新功能的实现，并向您提供反馈。不幸的是，你点击了错误的按钮，你的代码现在被合并到<em class="mi">开发</em>分支，没有任何审查。</p><p id="23c6" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">你该怎么办？</p><p id="02e6" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">以下步骤将撤销您的错误操作:</p><p id="d9fb" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated"><strong class="ll je"> 1。</strong>切换到<em class="mi">开发</em>在你本地的分支机构</p><p id="b699" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated"><strong class="ll je"> 2。</strong>通过从远程<em class="mi">开发</em>分支“拉”来更新您的本地开发分支</p><p id="9516" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated"><strong class="ll je"> 3。</strong>如果您使用VSCode、Git view(在IntelliJ中)或SourceTree，请在“Git History”插件中打开分支历史。</p><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gi gj od"><img src="../Images/24d2646fa8ed592e95aab2ad1b88e0c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d4Px56LmBrc89nYK5jfydQ.png"/></div></div><figcaption class="le lf gk gi gj lg lh bd b be z dk translated">Git分支</figcaption></figure><p id="3c01" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated"><strong class="ll je"> 4。</strong>右键单击您想要返回的提交。应该是在你犯错之前。</p><p id="2808" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated"><strong class="ll je"> 5。</strong>点击<em class="mi">将当前分支重置到此处</em></p><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gi gj oe"><img src="../Images/18d1a061c3eeadf908ce522e114ec36e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7taozpC2mIsa9ogCR1j-_A.png"/></div></div><figcaption class="le lf gk gi gj lg lh bd b be z dk translated">将当前分支重置到此处</figcaption></figure><p id="36c6" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">6。选择“硬”选项，然后点击“复位”按钮:</p><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div class="gi gj of"><img src="../Images/645b2058a79eaa8d7e9156bd5a244aa8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1130/format:webp/1*PvxV2QIxo3I2dCqwh9hZqg.png"/></div><figcaption class="le lf gk gi gj lg lh bd b be z dk translated">Git:恢复到选定的提交</figcaption></figure><p id="7602" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">7。现在你需要用力推动。打开您的终端并运行:</p><pre class="kt ku kv kw gu og mp oh oi aw oj bi"><span id="ea54" class="ok mr iu mp b gz ol om l on oo">git push origin HEAD --force</span></pre><p id="1d98" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">如果你只在你的本地<em class="mi">开发</em>分支中做了错误的提交，你不需要最后一步7。</p><p id="e85b" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated"><strong class="ll je">注:</strong>作为步骤3的替代方案。4.5.6.在复制了想要返回的提交的id之后，可以执行下面的命令。打开您的终端并运行:</p><pre class="kt ku kv kw gu og mp oh oi aw oj bi"><span id="1da2" class="ok mr iu mp b gz ol om l on oo">git reset --hard &lt;commit-id&gt;</span></pre><p id="ce20" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">就是这样！</p><p id="3458" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">希望这篇文章能让你在面对自己在git存储库中做过的不想要的操作时更加自信。记住第一条规则:</p><blockquote class="op"><p id="811a" class="oq or iu bd os ot ou ov ow ox oy me dk translated">永远不要在午夜创建拉取请求！</p></blockquote></div><div class="ab cl oz pa hy pb" role="separator"><span class="pc bw bk pd pe pf"/><span class="pc bw bk pd pe pf"/><span class="pc bw bk pd pe"/></div><div class="in io ip iq ir"><p id="8e15" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated">🧠💡我为一群聪明、好奇的人写关于工程、技术和领导力的文章。<a class="ae li" href="https://rakiabensassi.substack.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ll je">加入我的免费电子邮件简讯独家访问</strong> </a> <strong class="ll je"> </strong>或在此报名Medium<a class="ae li" href="https://rakiabensassi.medium.com/membership" rel="noopener"/>。</p><p id="6a44" class="pw-post-body-paragraph lj lk iu ll b lm ln ke lo lp lq kh lr ls lt lu lv lw lx ly lz ma mb mc md me in bi translated"><em class="mi">你可以在Udemy上查看我的</em> <strong class="ll je"> <em class="mi">视频课程</em></strong><em class="mi">:</em><a class="ae li" href="https://www.udemy.com/course/identify-and-fix-javascript-memory-leaks/" rel="noopener ugc nofollow" target="_blank"><em class="mi">如何识别、诊断、修复Web Apps中的内存泄漏</em> </a> <em class="mi">。</em></p><div class="pg ph gq gs pi pj"><a href="https://medium.com/better-programming/angular-keyboard-listeners-good-practices-b208edc6bf89" rel="noopener follow" target="_blank"><div class="pk ab fp"><div class="pl ab pm cl cj pn"><h2 class="bd je gz z fq po fs ft pp fv fx jd bi translated">Angular中的可访问性——良好实践和缺陷</h2><div class="pq l"><h3 class="bd b gz z fq po fs ft pp fv fx dk translated">关于键盘监听器的5个案例研究</h3></div><div class="pr l"><p class="bd b dl z fq po fs ft pp fv fx dk translated">medium.com</p></div></div><div class="ps l"><div class="pt l pu pv pw ps px lc pj"/></div></div></a></div><div class="pg ph gq gs pi pj"><a href="https://medium.com/better-programming/angular-dynamic-layout-with-ngtemplate-8b6faa995a8f" rel="noopener follow" target="_blank"><div class="pk ab fp"><div class="pl ab pm cl cj pn"><h2 class="bd je gz z fq po fs ft pp fv fx jd bi translated">动态角度模板:如何构建一个具有3种布局风格的应用</h2><div class="pq l"><h3 class="bd b gz z fq po fs ft pp fv fx dk translated">Angular ngTemplateLayout的高级用例</h3></div><div class="pr l"><p class="bd b dl z fq po fs ft pp fv fx dk translated">medium.com</p></div></div><div class="ps l"><div class="py l pu pv pw ps px lc pj"/></div></div></a></div></div></div>    
</body>
</html>