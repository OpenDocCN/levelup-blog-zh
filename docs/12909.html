<html>
<head>
<title>You Can Use This Library For Android Visual Chart Drawing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你可以使用这个库来绘制Android可视化图表</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/you-can-use-this-library-for-android-visual-chart-drawing-67ef47d4ee11?source=collection_archive---------5-----------------------#2022-07-20">https://levelup.gitconnected.com/you-can-use-this-library-for-android-visual-chart-drawing-67ef47d4ee11?source=collection_archive---------5-----------------------#2022-07-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="68dd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在大数据时代的入口之内，<code class="fe kl km kn ko b">visualization</code>可以用更直观的方式展示数据，让数据更客观，更有说服力，从而帮助用户理解和分析数据。今天我们就来看看如何使用 <strong class="jp ir"> Kotlin </strong>来<strong class="jp ir">绘制折线图</strong> <strong class="jp ir">。</strong></p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi kp"><img src="../Images/69f77c0ead6fdacda87b26b4755cf3e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nYF6dpHz7sy5xdRikaRxaA.jpeg"/></div></div></figure><h1 id="c84b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">技术选择</h1><p id="1689" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">其实iOS上的可视化图表库很少。著名的是<a class="ae me" href="https://github.com/danielgindi/Charts" rel="noopener ugc nofollow" target="_blank">图表</a>，但今天我选择了<a class="ae me" href="https://github.com/antvis/F2Native" rel="noopener ugc nofollow" target="_blank"> F2Native </a>，主要是因为它丰富的图表类型<code class="fe kl km kn ko b">supporting 7 types of charts</code>，跨越<code class="fe kl km kn ko b">iOS</code>、<code class="fe kl km kn ko b">MacOS</code>、<code class="fe kl km kn ko b">Android</code>、<code class="fe kl km kn ko b">Webassembly</code>平台，最后实现了<code class="fe kl km kn ko b"> the grammar of graphic</code>理论，可以组合形成千变万化的图表。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi mf"><img src="../Images/c2d42d40245f8252604aa59e02034c8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uXnuH2hpawf5PR7fE0AHtA.png"/></div></div></figure><h1 id="bfc2" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">开发和实施</h1><p id="127b" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">代码提交在<a class="ae me" href="https://github.com/weiqingtangx/LineChart-Kotlin" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上，你可以在最后直接下载。那我们开始吧。</p><h2 id="b0e0" class="mg lc iq bd ld mh mi dn lh mj mk dp ll jy ml mm lp kc mn mo lt kg mp mq lx mr bi translated">1.创建项目</h2><p id="b97b" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">我们用Android Studio创建一个空项目。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ms"><img src="../Images/e830b6b2ffc4b446e10d0eda2eee3b4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XCvDs6Esq3uyGUMzcYgq2Q.png"/></div></div></figure><p id="532c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">点击下一步，在下一个界面输入项目名称LineChart-Kotlin，选择语言为<code class="fe kl km kn ko b">Kotlin</code>，最小SDK选择<code class="fe kl km kn ko b">API 18</code>，点击完成。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ms"><img src="../Images/44d87797f332d99fe66823fce3213088.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qscrd0b-fGO3MF0acM1-dQ.png"/></div></div></figure><h2 id="c1d9" class="mg lc iq bd ld mh mi dn lh mj mk dp ll jy ml mm lp kc mn mo lt kg mp mq lx mr bi translated">2.导入F2Native</h2><p id="f8ca" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">F2Native已经上传到<code class="fe kl km kn ko b">jetpack</code>，所以我们需要把它添加到项目的<code class="fe kl km kn ko b">build.gradle</code></p><pre class="kq kr ks kt gt mt ko mu mv aw mw bi"><span id="d591" class="mg lc iq ko b gy mx my l mz na">maven { url 'https:<em class="nb">//jitpack.io' }</em></span></pre><p id="2a64" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后转到模块的<code class="fe kl km kn ko b">build.gradle </code>添加依赖项，我们默认使用最新版本。</p><pre class="kq kr ks kt gt mt ko mu mv aw mw bi"><span id="dccd" class="mg lc iq ko b gy mx my l mz na">implementation 'com.github.antvis:F2Native:latest.release'</span></pre><h2 id="3df5" class="mg lc iq bd ld mh mi dn lh mj mk dp ll jy ml mm lp kc mn mo lt kg mp mq lx mr bi translated">3.准备数据</h2><p id="6439" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">由于引擎的输入数据格式是字符串数组，所以我准备了以下数据，并将其保存为<code class="fe kl km kn ko b">data.json</code>文件。然后放在<code class="fe kl km kn ko b">assets</code>目录下。</p><pre class="kq kr ks kt gt mt ko mu mv aw mw bi"><span id="9e3c" class="mg lc iq ko b gy mx my l mz na">[{<br/>    "genre": "Sports",<br/>    "sold": 275<br/>}, {<br/>    "genre": "Strategy",<br/>    "sold": 115<br/>}, {<br/>    "genre": "Action",<br/>    "sold": 120<br/>}, {<br/>    "genre": "Shooter",<br/>    "sold": 350<br/>}, {<br/>    "genre": "Other",<br/>    "sold": 150<br/>}]</span></pre><h2 id="b896" class="mg lc iq bd ld mh mi dn lh mj mk dp ll jy ml mm lp kc mn mo lt kg mp mq lx mr bi translated">4.创建视图</h2><p id="2695" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">我们在<code class="fe kl km kn ko b">res/layout/activity_main.xml</code>中添加<code class="fe kl km kn ko b">F2CanvasView</code>并设置宽度和高度。此视图用于显示折线图。</p><pre class="kq kr ks kt gt mt ko mu mv aw mw bi"><span id="cab5" class="mg lc iq ko b gy mx my l mz na">&lt;com.antgroup.antv.f2.F2CanvasView     <br/>android:id="@+id/canvasView"     <br/>android:layout_width="match_parent"     android:layout_height="220dp"/&gt;</span></pre><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi nc"><img src="../Images/2e958e431cfef5db6ea95e5299a85234.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pV75TQxCQTefW6o0gWAUJg.png"/></div></div></figure><h1 id="962f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">5.编码</h1><p id="7bc3" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">下一步是编写代码。我们将相关的包导入到<code class="fe kl km kn ko b">MainActivity.kt</code></p><pre class="kq kr ks kt gt mt ko mu mv aw mw bi"><span id="321c" class="mg lc iq ko b gy mx my l mz na"><strong class="ko ir">import</strong> com.antgroup.antv.f2.* <br/><strong class="ko ir">import</strong> com.antgroup.antv.f2.F2Chart.*</span></pre><p id="2119" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">编写代码逻辑时，我写了代码中每一步的注释。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="9e9d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你看到了这个，恭喜你，以上是绘制折线图所需的全部代码，图表如下:</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi kp"><img src="../Images/69f77c0ead6fdacda87b26b4755cf3e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nYF6dpHz7sy5xdRikaRxaA.jpeg"/></div></div></figure><p id="5a57" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我提到过，F2Native实现了图形语法，可以通过组合快速应对业务迭代的快速性。如果需求突然发生变化，需要绘制柱形图，那么我们只需要修改<code class="fe kl km kn ko b">mChart!!.line().position(“ genre*sold”)</code>，其中代码中的线是<code class="fe kl km kn ko b">interval.</code></p><pre class="kq kr ks kt gt mt ko mu mv aw mw bi"><span id="b76b" class="mg lc iq ko b gy mx my l mz na">mChart!!.<strong class="ko ir">interval</strong>().position("genre*sold")</span></pre><p id="4c89" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">柱形图出来，很方便。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi kp"><img src="../Images/0de7e4ddc889bcd689e6d222c2c4e6dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CM5oNV66FD3txsq-kDvwvw.jpeg"/></div></div></figure><h1 id="8c8e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">最后</h1><p id="0449" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">感谢您的阅读，代码已经提交到<a class="ae me" href="https://github.com/weiqingtangx/LineChart-Kotlin" rel="noopener ugc nofollow" target="_blank"> GitHub </a>，欢迎下载。</p><div class="nf ng gp gr nh ni"><a href="https://github.com/weiqingtangx/LineChart-Kotlin" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd ir gy z fp nn fr fs no fu fw ip bi translated">GitHub-weiqing tangx/line chart-kot Lin:展示如何使用swift创建折线图示例</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">github.com</p></div></div><div class="nr l"><div class="ns l nt nu nv nr nw kz ni"/></div></div></a></div><p id="cb6f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你对iOS <code class="fe kl km kn ko b">visualization</code>感兴趣，你可以看看这篇文章。</p><div class="nf ng gp gr nh ni"><a href="https://medium.com/codex/draw-a-line-and-bar-chart-using-swift-within-10-lines-code-c36aadaf3cdd" rel="noopener follow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd ir gy z fp nn fr fs no fu fw ip bi translated">使用Swift在10行代码内绘制线条和条形图</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">介绍跨平台可视化库的使用</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">medium.com</p></div></div><div class="nr l"><div class="nx l nt nu nv nr nw kz ni"/></div></div></a></div></div><div class="ab cl ny nz hu oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="ij ik il im in"><h1 id="06e5" class="lb lc iq bd ld le of lg lh li og lk ll lm oh lo lp lq oi ls lt lu oj lw lx ly bi translated">分级编码</h1><p id="6c0e" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="18bf" class="ok ol iq jp b jq jr ju jv jy om kc on kg oo kk op oq or os bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="adf3" class="ok ol iq jp b jq ot ju ou jy ov kc ow kg ox kk op oq or os bi translated">📰查看<a class="ae me" href="https://levelup.gitconnected.com/" rel="noopener ugc nofollow" target="_blank">升级编码</a>中的更多内容</li><li id="d2b5" class="ok ol iq jp b jq ot ju ou jy ov kc ow kg ox kk op oq or os bi translated">🔔关注我们:<a class="ae me" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae me" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae me" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li><li id="4a19" class="ok ol iq jp b jq ot ju ou jy ov kc ow kg ox kk op oq or os bi translated">🚀👉<a class="ae me" href="https://jobs.levelup.dev/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">软件工程师的热门职位</strong> </a></li></ul></div></div>    
</body>
</html>