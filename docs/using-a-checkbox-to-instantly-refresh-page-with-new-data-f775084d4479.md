# 使用复选框用新数据即时刷新页面

> 原文：<https://levelup.gitconnected.com/using-a-checkbox-to-instantly-refresh-page-with-new-data-f775084d4479>

在这篇博客中，我将介绍如何使用复选框用新数据快速刷新页面。这个页面默认显示不同用户创建的所有四人组。每个四人组都标有一个差点数字，作为其他高尔夫球员的指示，如果他/她想参加这个四人组，他/她期望的技术水平。注册后，每个用户都可以在个人资料页面上输入自己的差点。下面显示了选中或取消选中复选框时页面的行为。

为了实现这一点，我们需要有一个设置，将四人组卡片的显示与复选框操作绑定在一起。对于那些熟悉 React 应用的人来说，我肯定首先想到的是状态。如果我们将检查/取消检查操作与更改状态联系起来，这肯定会产生预期的效果。

![](img/9e094228bc51049dda9ce07eee8cb1fd.png)

这里，我们使用“foursomes”状态来跟踪要在该页面上显示的内容的变化，而“applyHandicap”状态用于跟踪复选框值(选中或未选中)。

至于复选框本身，下面是我在语义 UI 中的做法。

![](img/e08810a283c65455c1718530e82bedd7.png)

“checked”属性从“applyHandicap”状态获取其值，因此无论状态包含什么值，它都将由复选框表示。当然，这里的另一个重要属性是 onClick 事件动作。接下来我们将研究“选择障碍”函数，看看它是如何工作的。

![](img/2a8f4e11392d8e4329a200969743607f.png)

需要注意的一个重要事项是，每当像单击这样的动作发生时，我们的函数都会获得两个参数——事件本身(上面代码中的 e)和由该动作引起的属性值(一个析构的“checked”)。如果我选中页面上的复选框，“选中”将包含 true，如果我取消选中，它将包含 false。

由于默认行为是显示所有的四人牌，所以我将 Redux store(this . props . four somes)中的所有牌都赋给了变量 myHandiFour。如果未选中该框，将不会采取任何操作。因此，所有的卡片都将显示为“foursomes”状态，其中包含 Redux 商店中的所有卡片。但是，如果选中了这个框，我会对 Redux store 中的“foursomes”数组应用一个过滤器，只返回那些差点数在用户唯一差点 3 以内的 foursomes。

这里的教训是正确地设置状态，以便保证任何后续操作都有正确的数据可用。由于 Redux store 为我们提供了完整的四元组集合，因此可以根据我们需要的任何操作来相应地操作页面组件的本地状态。通过在 Redux 存储中维护原始数据，可以通过刷新存储轻松恢复完整的数据集。