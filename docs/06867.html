<html>
<head>
<title>Add a Dialog Box to a Vue App with the vue-js-modal Library</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用vue-js-modal库向Vue应用程序添加对话框</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/add-a-dialog-box-to-a-vue-app-with-the-vue-js-modal-library-81a72eee6936?source=collection_archive---------7-----------------------#2021-01-09">https://levelup.gitconnected.com/add-a-dialog-box-to-a-vue-app-with-the-vue-js-modal-library-81a72eee6936?source=collection_archive---------7-----------------------#2021-01-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/91f62f0a85668f89cd8325a5429394af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*D8ynjqh401Nx69eR"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@chuttersnap?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> chuttersnap </a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="4e94" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将看看如何用vue-js-modal库添加一个模型。</p><h1 id="67d5" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">对话</h1><p id="5020" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">对话框是模态的简化版本，默认设置了大多数参数。</p><p id="e32c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这对于快速构建原型和显示警告非常有用。</p><p id="1153" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当我们调用<code class="fe mh mi mj mk b">Vue.use</code>来显示对话框时，我们可以将<code class="fe mh mi mj mk b">dialog</code>设置为<code class="fe mh mi mj mk b">true</code>。</p><p id="878e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以写:</p><p id="9491" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">main.js</code></p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="7f84" class="mt lf it mk b gy mu mv l mw mx">import Vue from "vue";<br/>import App from "./App.vue";<br/>import VModal from "vue-js-modal";<br/>Vue.use(VModal, {<br/>  dialog: true<br/>});</span><span id="e3c2" class="mt lf it mk b gy my mv l mw mx">Vue.config.productionTip = false;</span><span id="8750" class="mt lf it mk b gy my mv l mw mx">new Vue({<br/>  render: (h) =&gt; h(App)<br/>}).$mount("#app");</span></pre><p id="7eea" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">App.vue</code></p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="606d" class="mt lf it mk b gy mu mv l mw mx">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;v-dialog/&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>export default {<br/>  name: "App",<br/>  methods: {<br/>    show() {<br/>      this.$modal.show("dialog", {<br/>        title: "Dialog title",<br/>        text: "Lorem ipsum dolor sit amet.",<br/>        buttons: [<br/>          {<br/>            title: "Cancel",<br/>            handler: () =&gt; {<br/>              this.$modal.hide("dialog");<br/>            }<br/>          },<br/>          {<br/>            title: "Like",<br/>            handler: () =&gt; {<br/>              alert("Like action");<br/>            }<br/>          },<br/>          {<br/>            title: "OK",<br/>            handler: () =&gt; {<br/>              alert("success");<br/>            }<br/>          }<br/>        ]<br/>      });<br/>    }<br/>  },<br/>  mounted() {<br/>    this.show();<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="45fd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们用一个属性为<code class="fe mh mi mj mk b">dialog</code>的对象将插件注册到<code class="fe mh mi mj mk b">true</code>。</p><p id="03eb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后在<code class="fe mh mi mj mk b">show</code>方法中，我们添加了<code class="fe mh mi mj mk b">this.$modal.show</code>方法来显示对话框。</p><p id="faac" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第一个参数是对话框的名称。</p><p id="d1c7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第二个参数中的对象有各种选项，我们可以设置为对话框。</p><p id="fe18" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">title</code>有对话框标题。</p><p id="09bf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">text</code>有正文。</p><p id="6b8e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">buttons</code>属性有一个带有按钮选项的数组。</p><p id="a82a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它们是由对象定义的。<code class="fe mh mi mj mk b">title</code>有按钮文本。</p><p id="634f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">handler</code>有点击按钮时运行的事件处理程序。</p><p id="ffa2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">this.$modal.hide</code>让我们隐藏模态。我们引用对话框来关闭我们引用对话框的名称。</p><h1 id="9eca" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">事件</h1><p id="fff6" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">模态发出各种事件。要听它们，我们可以写:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="2601" class="mt lf it mk b gy mu mv l mw mx">&lt;template&gt;<br/>  &lt;modal name="example" @before-open="beforeOpen" @before-close="beforeClose"&gt;<br/>    &lt;span&gt;Hello, {{ name }}!&lt;/span&gt;<br/>  &lt;/modal&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>export default {<br/>  name: "Example",<br/>  data() {<br/>    return {<br/>      name: "world"<br/>    };<br/>  },<br/>  methods: {<br/>    beforeOpen(event) {<br/>      console.log("Opening...");<br/>    },<br/>    beforeClose(event) {<br/>      console.log("Closing...");<br/>      if (Math.random() &lt; 0.5) {<br/>        event.cancel();<br/>      }<br/>    }<br/>  },<br/>  mounted() {<br/>    this.$modal.show("example");<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="7e08" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们监听从<code class="fe mh mi mj mk b">modal</code>组件发出的<code class="fe mh mi mj mk b">before-open</code>和<code class="fe mh mi mj mk b">before-close</code>事件。</p><p id="3cd1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">before-open</code>模态打开时发出。</p><p id="166d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">before-close</code>模态关闭时发出。</p><p id="7087" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">event</code>参数是一个带有<code class="fe mh mi mj mk b">cancel</code>方法的对象，我们可以用它来取消操作。</p><p id="99bd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">由于我们在<code class="fe mh mi mj mk b">beforeClose</code>方法中调用了<code class="fe mh mi mj mk b">event.cancel</code>，它将取消关闭模态关闭动作。</p><h1 id="d8a8" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">时间</h1><p id="8936" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">组件有一个槽，我们可以用自己的内容填充它。</p><p id="1452" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以写:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="bbb0" class="mt lf it mk b gy mu mv l mw mx">&lt;template&gt;<br/>  &lt;modal name="example"&gt;<br/>    &lt;div slot="top-right"&gt;<br/>      &lt;button @click="$modal.hide('example')"&gt;❌&lt;/button&gt;<br/>    &lt;/div&gt;Hello, ☀️!<br/>  &lt;/modal&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>export default {<br/>  name: "App",<br/>  mounted() {<br/>    this.$modal.show("example");<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="791c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">top-right</code>槽将内容添加到模态的右上角。</p><p id="fe92" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">默认槽有主模态内容。</p><h1 id="cf44" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="9330" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以很容易地添加对话框，并用vue-js-modal库定制其内容。</p></div></div>    
</body>
</html>