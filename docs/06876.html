<html>
<head>
<title>Add a Histogram to a React App with the @data-ui/histogram Library</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用@data-ui/histogram库向React应用程序添加直方图</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/add-a-histogram-to-a-react-app-with-the-data-ui-histogram-library-adccd14b3196?source=collection_archive---------5-----------------------#2021-01-10">https://levelup.gitconnected.com/add-a-histogram-to-a-react-app-with-the-data-ui-histogram-library-adccd14b3196?source=collection_archive---------5-----------------------#2021-01-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/fc1b67fda88cf0ce0a4e625595b7d7e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kgE0ZCtCkN0M0-Bq"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">塞尔吉奥·阿尔维斯·桑托斯在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="5654" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将看看如何使用这个库向React应用程序添加直方图。</p><h1 id="b9ca" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">装置</h1><p id="09cb" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以通过运行以下命令来安装它:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="64ac" class="mq lf it mm b gy mr ms l mt mu">npm i @data-ui/histogram</span></pre><h1 id="861a" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">添加直方图</h1><p id="f9c6" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以通过编写以下内容来添加直方图:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="a0e7" class="mq lf it mm b gy mr ms l mt mu">import React from "react";<br/>import {<br/>  Histogram,<br/>  DensitySeries,<br/>  BarSeries,<br/>  withParentSize,<br/>  XAxis,<br/>  YAxis<br/>} from "<a class="ae kf" href="http://twitter.com/data" rel="noopener ugc nofollow" target="_blank">@data</a>-ui/histogram";</span><span id="8db6" class="mq lf it mm b gy mv ms l mt mu">const ResponsiveHistogram = withParentSize(<br/>  ({ parentWidth, parentHeight, ...rest }) =&gt; (<br/>    &lt;Histogram width={parentWidth} height={parentHeight} {...rest} /&gt;<br/>  )<br/>);</span><span id="cb7e" class="mq lf it mm b gy mv ms l mt mu">const rawData = Array(100).fill().map(Math.random);</span><span id="4651" class="mq lf it mm b gy mv ms l mt mu">export default function App() {<br/>  return (<br/>    &lt;div className="App" style={{ height: 300 }}&gt;<br/>      &lt;ResponsiveHistogram<br/>        ariaLabel="histogram"<br/>        orientation="vertical"<br/>        cumulative={false}<br/>        normalized={true}<br/>        binCount={25}<br/>        valueAccessor={(datum) =&gt; datum}<br/>        binType="numeric"<br/>        renderTooltip={({ event, datum, data, color }) =&gt; (<br/>          &lt;div&gt;<br/>            &lt;strong style={{ color }}&gt;<br/>              {datum.bin0} to {datum.bin1}<br/>            &lt;/strong&gt;<br/>            &lt;div&gt;<br/>              &lt;strong&gt;count &lt;/strong&gt;<br/>              {datum.count}<br/>            &lt;/div&gt;<br/>            &lt;div&gt;<br/>              &lt;strong&gt;cumulative &lt;/strong&gt;<br/>              {datum.cumulative}<br/>            &lt;/div&gt;<br/>            &lt;div&gt;<br/>              &lt;strong&gt;density &lt;/strong&gt;<br/>              {datum.density}<br/>            &lt;/div&gt;<br/>          &lt;/div&gt;<br/>        )}<br/>      &gt;<br/>        &lt;BarSeries animated rawData={rawData} /&gt;<br/>        &lt;XAxis /&gt;<br/>        &lt;YAxis /&gt;<br/>      &lt;/ResponsiveHistogram&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="870b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们创建了<code class="fe mw mx my mm b">ResponsiveHistorgram</code>组件，使直方图符合父维度。</p><p id="c19a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是通过调用<code class="fe mw mx my mm b">withParentSize</code>函数来渲染带有父对象高度的直方图来实现的。</p><p id="1bd2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<code class="fe mw mx my mm b">App</code>组件中，我们通过传入一些道具来使用<code class="fe mw mx my mm b">ResponsiveHistogram</code>组件。</p><p id="e893" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mw mx my mm b">orientation</code>具有直方图的方向性。</p><p id="40c1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mw mx my mm b">cumulative</code>表示直方图是否是累积的。</p><p id="be62" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mw mx my mm b">normalized</code>设置直方图是否标准化为总数的一部分。</p><p id="c66c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mw mx my mm b">binCount</code>是要使用的箱子数量的近似值。</p><p id="353e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mw mx my mm b">renderTooltip</code>是一个道具，其功能是让我们从我们悬停的栏中获得一个条目，并在工具提示中呈现它们。</p><p id="b229" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mw mx my mm b">bin0</code>有bin名。</p><p id="847e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mw mx my mm b">count</code>已经清点了箱中的物品。</p><p id="45f1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mw mx my mm b">cumulative</code>具有从最左边的箱子到当前箱子的累计项目数。</p><p id="da82" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mw mx my mm b">density</code>有密度。</p><p id="e940" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">条形用<code class="fe mw mx my mm b">BarSeries</code>组件呈现。</p><p id="9582" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mw mx my mm b">animated</code>加载直方图时动画显示直方图。</p><p id="f82d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mw mx my mm b">rawData</code>有原始数据。</p><p id="e4ce" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mw mx my mm b">XAxis</code>添加x轴。<code class="fe mw mx my mm b">YAxis</code>添加y轴。</p><p id="cb48" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，我们需要指定直方图容器的高度，以便它适合这个高度。</p><p id="6fc8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">其他属性包括<code class="fe mw mx my mm b">stroke</code>来改变条的颜色。</p><p id="d2e0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mw mx my mm b">strokeWidth</code>改变条形的宽度。</p><h1 id="6805" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><code class="fe mw mx my mm b">DensitySeries</code></h1><p id="ae5f" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated"><code class="fe mw mx my mm b">DensitySeries</code>组件让我们画出概率密度函数的估计值。</p><p id="465e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="073d" class="mq lf it mm b gy mr ms l mt mu">import React from "react";<br/>import {<br/>  Histogram,<br/>  DensitySeries,<br/>  BarSeries,<br/>  withParentSize,<br/>  XAxis,<br/>  YAxis<br/>} from "@data-ui/histogram";</span><span id="abf6" class="mq lf it mm b gy mv ms l mt mu">const ResponsiveHistogram = withParentSize(<br/>  ({ parentWidth, parentHeight, ...rest }) =&gt; (<br/>    &lt;Histogram width={parentWidth} height={parentHeight} {...rest} /&gt;<br/>  )<br/>);</span><span id="e72f" class="mq lf it mm b gy mv ms l mt mu">const rawData = Array(100).fill().map(Math.random);</span><span id="4a7f" class="mq lf it mm b gy mv ms l mt mu">export default function App() {<br/>  return (<br/>    &lt;div className="App" style={{ height: 300 }}&gt;<br/>      &lt;ResponsiveHistogram<br/>        ariaLabel="histogram"<br/>        orientation="vertical"<br/>        cumulative={false}<br/>        normalized={true}<br/>        binCount={25}<br/>        valueAccessor={(datum) =&gt; datum}<br/>        binType="numeric"<br/>      &gt;<br/>        &lt;DensitySeries animated rawData={rawData} /&gt;<br/>        &lt;XAxis /&gt;<br/>        &lt;YAxis /&gt;<br/>      &lt;/ResponsiveHistogram&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="8bd5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">添加密度系列以添加直方图。</p><h1 id="712a" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="d449" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以使用@data-ui/histogram库轻松地将直方图添加到React应用程序中。</p></div></div>    
</body>
</html>