<html>
<head>
<title>Angular Service's Best Practices</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Angular Service的最佳实践</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/angular-services-best-practices-f3d26ddaeedb?source=collection_archive---------1-----------------------#2022-08-20">https://levelup.gitconnected.com/angular-services-best-practices-f3d26ddaeedb?source=collection_archive---------1-----------------------#2022-08-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/aa601a7983881354635d21239a8653f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NYgtPBEAq4OsLe84NhOvlQ.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">作者:FAM</figcaption></figure><h2 id="5982" class="kf kg it bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">你好👋</h2><p id="de1c" class="pw-post-body-paragraph lb lc it ld b le lf lg lh li lj lk ll ko lm ln lo ks lp lq lr kw ls lt lu lv im bi translated">这个周末的小贴士是关于角度服务的。我希望你会喜欢，让我们开始吧！</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="87ec" class="md kg it bd kh me mf mg kk mh mi mj kn mk ml mm kr mn mo mp kv mq mr ms kz mt bi translated">命名</h1><p id="b05c" class="pw-post-body-paragraph lb lc it ld b le lf lg lh li lj lk ll ko lm ln lo ks lp lq lr kw ls lt lu lv im bi translated">在你的团队中设定一个命名策略，并尊重它。尽管Angular风格指南并不建议系统地给所有的Angular服务加上后缀，因为有些名字已经不言自明了，比如“Logger”。我更喜欢给所有服务加上后缀，这样当你阅读LoggerService时，你就知道它是一个服务，毫无疑问！</p><p id="c048" class="pw-post-body-paragraph lb lc it ld b le mu lg lh li mv lk ll ko mw ln lo ks mx lq lr kw my lt lu lv im bi translated">文件名也应该通过添加一个点服务<code class="fe mz na nb nc b">.service.ts</code>来表达自己。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="181a" class="md kg it bd kh me mf mg kk mh mi mj kn mk ml mm kr mn mo mp kv mq mr ms kz mt bi translated">服务角色</h1><ul class=""><li id="436b" class="nd ne it ld b le lf li lj ko nf ks ng kw nh lv ni nj nk nl bi translated"><strong class="ld iu">单一责任原则</strong></li></ul><p id="faaa" class="pw-post-body-paragraph lb lc it ld b le mu lg lh li mv lk ll ko mw ln lo ks mx lq lr kw my lt lu lv im bi translated">一旦记住服务应该遵守单一责任原则，服务就必须服务于一个单一的目的。你会有一个更干净的应用，容易被其他开发者阅读，也容易维护(认证有问题=检查认证服务)。你很快就能发现问题所在，<strong class="ld iu">识别代码一目了然原理</strong>。测试也是如此。</p><ul class=""><li id="2ca9" class="nd ne it ld b le mu li mv ko nm ks nn kw no lv ni nj nk nl bi translated"><strong class="ld iu">复杂逻辑</strong></li></ul><p id="fb14" class="pw-post-body-paragraph lb lc it ld b le mu lg lh li mv lk ll ko mw ln lo ks mx lq lr kw my lt lu lv im bi translated">容器组件或父组件拥有最少的逻辑，它管理并最终将数据/信息发送给它的子组件，这些子组件只是表示性的组件，也称为虚拟组件(尽管我不喜欢这个术语！).尽管如此，组件不应该有复杂的逻辑，因为它已经有了责任:它呈现给用户的内容，它分派给子组件的数据，它的简单逻辑等等。已经够了。组件中需要避免的一个例子是HTTP调用，这更像是一项服务工作。组件不应该获取数据或者知道数据来自哪里。</p><ul class=""><li id="f870" class="nd ne it ld b le mu li mv ko nm ks nn kw no lv ni nj nk nl bi translated"><strong class="ld iu">服务功能</strong></li></ul><p id="4b82" class="pw-post-body-paragraph lb lc it ld b le mu lg lh li mv lk ll ko mw ln lo ks mx lq lr kw my lt lu lv im bi translated">对单一责任原则有不同的理解。对于一些开发人员来说，服务应该只包含其职责/功能的功能，所以他们不会将其他服务注入服务本身。我不这么认为。例如，如果我需要从ProductService获取一些数据，以便在OrderService中使用。我会将产品服务注入到我的订单服务中。与订单相关的任何逻辑仍在OrderService中。产品数据来自已经被隔离的ProductService，在这里仅用于获取在OrderService功能中使用的输入数据。所以我们在这里没有混淆，ProductService的工作是围绕产品的，而OrderService管理与订单相关的事情。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="7b83" class="md kg it bd kh me mf mg kk mh mi mj kn mk ml mm kr mn mo mp kv mq mr ms kz mt bi translated">注射</h1><p id="f0bf" class="pw-post-body-paragraph lb lc it ld b le lf lg lh li lj lk ll ko lm ln lo ks lp lq lr kw ls lt lu lv im bi translated">一个有角度的服务必须注入到你想用的地方。所以你需要:</p><ul class=""><li id="ccf7" class="nd ne it ld b le mu li mv ko nm ks nn kw no lv ni nj nk nl bi translated">通过向类中添加装饰器<code class="fe mz na nb nc b"><strong class="ld iu"><em class="np">@Injectable</em></strong></code>来使服务可注入。这里的<code class="fe mz na nb nc b"><strong class="ld iu"><em class="np">providedIn</em></strong></code>告诉Angular把这个服务注入到app根注入器。根注入器的工作是在需要的时候注入服务。</li></ul><figure class="nq nr ns nt gt ju"><div class="bz fp l di"><div class="nu nv l"/></div></figure><ul class=""><li id="856f" class="nd ne it ld b le mu li mv ko nm ks nn kw no lv ni nj nk nl bi translated">然后你把它注入一个组件。建议使用以下语法:</li></ul><figure class="nq nr ns nt gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nw"><img src="../Images/76a9e6ed7be6988dd233b838b433048b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nwQ3oETX4Ck76HjWVwOslQ.png"/></div></div></figure><p id="ee34" class="pw-post-body-paragraph lb lc it ld b le mu lg lh li mv lk ll ko mw ln lo ks mx lq lr kw my lt lu lv im bi translated">而不是这个:</p><figure class="nq nr ns nt gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nw"><img src="../Images/868a78f658887de0fa6298a1c3351497.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dtM1WxmXbbUdeujWG3IKfQ.png"/></div></div></figure><p id="2688" class="pw-post-body-paragraph lb lc it ld b le mu lg lh li mv lk ll ko mw ln lo ks mx lq lr kw my lt lu lv im bi translated">如果您注入的服务不使用服务数据类型作为服务的令牌，那么第二个选项更合适。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="e13f" class="pw-post-body-paragraph lb lc it ld b le mu lg lh li mv lk ll ko mw ln lo ks mx lq lr kw my lt lu lv im bi translated">你觉得这些建议怎么样？你同意还是不同意？我很想听听你的观点，^^</p><p id="8e9f" class="pw-post-body-paragraph lb lc it ld b le mu lg lh li mv lk ll ko mw ln lo ks mx lq lr kw my lt lu lv im bi translated">今天到此为止，再见🙋</p><p id="2ce6" class="pw-post-body-paragraph lb lc it ld b le mu lg lh li mv lk ll ko mw ln lo ks mx lq lr kw my lt lu lv im bi translated">如果你有任何问题或反馈，请点击评论或通过LinkedIn联系我— <strong class="ld iu">我洗耳恭听！</strong></p><p id="a5d1" class="pw-post-body-paragraph lb lc it ld b le mu lg lh li mv lk ll ko mw ln lo ks mx lq lr kw my lt lu lv im bi translated"><a class="ae nx" href="https://www.buymeacoffee.com/fatimaamzil" rel="noopener ugc nofollow" target="_blank"> <strong class="ld iu">想请我喝杯咖啡吗？☕️ </strong> </a></p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><blockquote class="ny"><p id="9301" class="nz oa it bd ob oc od oe of og oh lv dk translated">让我们为2022年打造一个更好的‘我们’！</p></blockquote><blockquote class="oi oj ok"><p id="edfd" class="lb lc np ld b le ol lg lh li om lk ll on oo ln lo op oq lq lr or os lt lu lv im bi translated">如果你喜欢我的文章，<a class="ae nx" href="https://famzil.medium.com/subscribe" rel="noopener"> <strong class="ld iu">订阅</strong> </a>获取我的最新。如果你自己喜欢体验媒介，可以考虑通过<strong class="ld iu"> </strong> <a class="ae nx" href="https://famzil.medium.com/membership" rel="noopener"> <strong class="ld iu">注册会员</strong> </a>来支持我和其他成千上万的作家。它每月仅花费5美元，它支持我们，作家，你也有机会通过你的写作赚钱。当然，你可以随时取消会员资格。通过注册<a class="ae nx" href="https://famzil.medium.com/membership" rel="noopener">这个链接</a>，你将直接用你的一部分费用来支持我，不会花你更多的钱。如果你这样做了，万分感谢！</p></blockquote><p id="38e9" class="pw-post-body-paragraph lb lc it ld b le mu lg lh li mv lk ll ko mw ln lo ks mx lq lr kw my lt lu lv im bi translated">让我们在 <a class="ae nx" href="https://medium.com/@famzil/" rel="noopener"> <strong class="ld iu">上<strong class="ld iu">取得联系</strong></strong></a><strong class="ld iu"/><a class="ae nx" href="https://www.linkedin.com/in/fatima-amzil-9031ba95/" rel="noopener ugc nofollow" target="_blank"><strong class="ld iu">Linkedin</strong></a><strong class="ld iu"/><a class="ae nx" href="https://www.facebook.com/The-Front-End-World" rel="noopener ugc nofollow" target="_blank"><strong class="ld iu">脸书</strong></a><strong class="ld iu"/><a class="ae nx" href="https://www.instagram.com/the_frontend_world/" rel="noopener ugc nofollow" target="_blank"><strong class="ld iu">insta gram</strong></a><strong class="ld iu"/><a class="ae nx" href="https://www.youtube.com/channel/UCaxr-f9r6P1u7Y7SKFHi12g" rel="noopener ugc nofollow" target="_blank"><strong class="ld iu">YouTube</strong></a><strong class="ld iu">或</strong> <a class="ae nx" href="http://Www.twitter.com/fati_amzil" rel="noopener ugc nofollow" target="_blank"> <strong class="ld iu"/></a></p><div class="ot ou gp gr ov ow"><a href="https://famzil.medium.com/membership" rel="noopener follow" target="_blank"><div class="ox ab fo"><div class="oy ab oz cl cj pa"><h2 class="bd iu gy z fp pb fr fs pc fu fw is bi translated">通过我的推荐链接——FAM加入Medium</h2><div class="pd l"><h3 class="bd b gy z fp pb fr fs pc fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="pe l"><p class="bd b dl z fp pb fr fs pc fu fw dk translated">famzil.medium.com</p></div></div><div class="pf l"><div class="pg l ph pi pj pf pk jz ow"/></div></div></a></div></div></div>    
</body>
</html>