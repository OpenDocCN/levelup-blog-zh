<html>
<head>
<title>Flutter Internationalization done right</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">颤振国际化做得好吗</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/flutter-internationalization-done-right-91d77832d000?source=collection_archive---------2-----------------------#2020-11-20">https://levelup.gitconnected.com/flutter-internationalization-done-right-91d77832d000?source=collection_archive---------2-----------------------#2020-11-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="2bee" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以简单的方式国际化Flutter应用程序</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/5d9f1bb2369774d8eee1a385b46d5764.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z8sNTJIpmboVLb7PBY-yAg.png"/></div></div></figure><p id="1ded" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当你考虑在多个地理位置部署应用程序时，你应该<em class="kx">国际化</em>你的应用程序，让用户在使用时有宾至如归的感觉。Flutter现在附带了一个本地化工具，这使得开发人员可以非常容易地在应用程序中集成多种语言。</p><p id="58f4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这篇文章中，我们将看看如何以一种非常简单的方式国际化我们的Flutter应用程序。所以让我们开始吧！</p></div><div class="ab cl ky kz hu la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ij ik il im in"><h1 id="1ca9" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">入门指南</h1><p id="10e9" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">让我们从创建一个新的Flutter项目开始。我们将在本文中讨论以下几点:</p><ul class=""><li id="8566" class="mi mj iq jp b jq jr ju jv jy mk kc ml kg mm kk mn mo mp mq bi translated">使用两种不同的语言环境，在本例中是英语和西班牙语</li><li id="e0dd" class="mi mj iq jp b jq mr ju ms jy mt kc mu kg mv kk mn mo mp mq bi translated">覆盖应用程序某些部分的设备默认区域设置</li><li id="e250" class="mi mj iq jp b jq mr ju ms jy mt kc mu kg mv kk mn mo mp mq bi translated">让用户能够从应用程序中更改区域设置</li><li id="e935" class="mi mj iq jp b jq mr ju ms jy mt kc mu kg mv kk mn mo mp mq bi translated">将参数传递给区域设置消息</li></ul><blockquote class="mw mx my"><p id="6d37" class="jn jo kx jp b jq jr js jt ju jv jw jx mz jz ka kb na kd ke kf nb kh ki kj kk ij bi translated">注意:这个例子很简单，这样我们可以更关注国际化和本地化方面。</p></blockquote><h2 id="3377" class="nc lg iq bd lh nd ne dn ll nf ng dp lp jy nh ni lt kc nj nk lx kg nl nm mb nn bi translated">更新pubspec.yaml文件</h2><p id="50a6" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">更新<code class="fe no np nq nr b">pubspec.yaml</code>以包括<code class="fe no np nq nr b">flutter_localizations</code>、<code class="fe no np nq nr b">intl</code>和<code class="fe no np nq nr b">provider</code>包。</p><pre class="km kn ko kp gt ns nr nt nu aw nv bi"><span id="c6aa" class="nc lg iq nr b gy nw nx l ny nz">dependencies:<br/>  flutter:<br/><br/>  # Internationalization support.<br/>  <strong class="nr ir">flutter_localizations:<br/>    sdk: flutter</strong><br/>  <strong class="nr ir">intl: 0.16.1<br/>  provider: ^4.3.2+2</strong></span><span id="a327" class="nc lg iq nr b gy oa nx l ny nz">flutter:<br/># Adds code generation (synthetic package) support<br/><strong class="nr ir">generate: true</strong></span></pre><h2 id="a03b" class="nc lg iq bd lh nd ne dn ll nf ng dp lp jy nh ni lt kc nj nk lx kg nl nm mb nn bi translated">创建l10n.yaml文件</h2><p id="1a84" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">在项目的根目录下创建一个新的<code class="fe no np nq nr b">l10n.yaml</code>配置文件。它用于定制生成本地化类的工具，这些类将被导入到我们的应用程序中。</p><p id="256f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">将以下内容添加到文件中:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="5517" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们一个一个地看一下:</p><ul class=""><li id="78b9" class="mi mj iq jp b jq jr ju jv jy mk kc ml kg mm kk mn mo mp mq bi translated"><code class="fe no np nq nr b">arb-dir</code>:将包含<code class="fe no np nq nr b">.arb</code>格式消息目录的目录。每个<code class="fe no np nq nr b">locale</code>将有一个消息目录。这将作为本地化工具的输入目录。</li><li id="5851" class="mi mj iq jp b jq mr ju ms jy mt kc mu kg mv kk mn mo mp mq bi translated"><code class="fe no np nq nr b">template-arb-file</code>:定义应用程序中所有消息以及元数据信息的消息目录。该文件必须在<code class="fe no np nq nr b">arb-dir</code>中创建。</li><li id="94bd" class="mi mj iq jp b jq mr ju ms jy mt kc mu kg mv kk mn mo mp mq bi translated"><code class="fe no np nq nr b">output-localization-file</code>:定义将由本地化工具生成的主<code class="fe no np nq nr b">dart</code>类文件。</li></ul><blockquote class="mw mx my"><p id="107a" class="jn jo kx jp b jq jr js jt ju jv jw jx mz jz ka kb na kd ke kf nb kh ki kj kk ij bi translated">还有一些配置选项，但这些是您大多数时候需要的选项。</p></blockquote><h2 id="d8e3" class="nc lg iq bd lh nd ne dn ll nf ng dp lp jy nh ni lt kc nj nk lx kg nl nm mb nn bi translated">创建模板ARB文件</h2><p id="4e5d" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">按照上面的说明创建<code class="fe no np nq nr b">arb-dir</code>目录和<code class="fe no np nq nr b">template-arb-file</code>。<code class="fe no np nq nr b">template-arb-file</code>是一个ARB格式的消息目录，用于定义应用程序支持的所有消息。</p><blockquote class="mw mx my"><p id="26be" class="jn jo kx jp b jq jr js jt ju jv jw jx mz jz ka kb na kd ke kf nb kh ki kj kk ij bi translated">注意:所有arb文件的文件名不能包含下划线，除了用于描述语言环境。</p></blockquote><p id="5db8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们从在新文件<code class="fe no np nq nr b">app_en.arb</code>中添加英文消息目录开始:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="8104" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这里，我们使用<code class="fe no np nq nr b">@@locale</code>将英语定义为区域设置，后跟用于本地化的语言代码。</p><p id="e8b1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe no np nq nr b">helloWorld</code>行定义了应用程序helloWorld消息的英文翻译，即“Hello World！”。</p><p id="1b1a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">跟在<code class="fe no np nq nr b">@helloWorld</code>后面的JSON对象包含了对消息的描述，旨在帮助翻译人员。它也成为为消息生成的方法中的注释。</p><p id="82d4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">模板目录中每条消息的名称将成为应用程序用来检索该消息的本地化值的Dart方法的名称，这意味着它们必须是有效的Dart方法名称。</p><p id="acdb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们可以使用工具生成的<code class="fe no np nq nr b">AppLocalizations</code>类来查找消息的事务，如下所示:</p><pre class="km kn ko kp gt ns nr nt nu aw nv bi"><span id="0180" class="nc lg iq nr b gy nw nx l ny nz">Text(AppLocalizations.of(context).<strong class="nr ir">helloWorld</strong>)</span></pre><p id="2e86" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">同样，让我们也创建<code class="fe no np nq nr b">app_es.arb</code>:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="d706" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这里，我们不需要包括额外的信息，因为它将从英文目录。</p><h2 id="9add" class="nc lg iq bd lh nd ne dn ll nf ng dp lp jy nh ni lt kc nj nk lx kg nl nm mb nn bi translated">集成自动生成的本地化类</h2><p id="23ec" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">打开<code class="fe no np nq nr b">main.dart</code>并添加以下代码:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="d9fd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在让我们来看一下代码。第二行导入将由本地化工具生成的<code class="fe no np nq nr b">AppLocalizations</code>类。<code class="fe no np nq nr b">localiationsDelegates</code>和<code class="fe no np nq nr b">supportedLocales</code>是根据我们之前定义的消息目录和模板自动生成的。现在您已经准备好本地化您的应用程序了。这么简单，不是吗？</p><p id="d98c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，应用程序可以查找本地化消息，如上所示:</p><pre class="km kn ko kp gt ns nr nt nu aw nv bi"><span id="b140" class="nc lg iq nr b gy nw nx l ny nz">Text(AppLocalizations.of(context).<strong class="nr ir">helloWorld</strong>)</span></pre><p id="2d60" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将用它来显示在我们的<code class="fe no np nq nr b">appBar</code>和屏幕中央。我们的<code class="fe no np nq nr b">home_page.dart</code>会是这样的:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="532a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当您运行应用程序时，如果您的默认<code class="fe no np nq nr b">locale</code>是英语，您将看到以下输出:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi od"><img src="../Images/a88f4e656670e641033bf9432dcd4bf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0gWB-47qdmP2I6-ANfJi9w.png"/></div></div><figcaption class="oe of gj gh gi og oh bd b be z dk translated">英语区域设置</figcaption></figure><p id="5a56" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当您将设备<code class="fe no np nq nr b">locale</code>更改为西班牙语时，您将看到以下输出:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi od"><img src="../Images/dafd3eaa96124de14a3bbee3a429f4f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3o_ma3S9hPfQVW1cqeWjRA.png"/></div></div><figcaption class="oe of gj gh gi og oh bd b be z dk translated">西班牙语言环境</figcaption></figure><h2 id="f227" class="nc lg iq bd lh nd ne dn ll nf ng dp lp jy nh ni lt kc nj nk lx kg nl nm mb nn bi translated">覆盖设备默认区域设置</h2><p id="89ae" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">在某些情况下，你可能希望你的应用程序的某些部分有一个不同的<code class="fe no np nq nr b">locale</code>。<code class="fe no np nq nr b">Localizations</code>小部件有一个工厂构造器<code class="fe no np nq nr b">Localizations.override</code>，当你的应用需要被本地化到一个不同于为你的设备配置的<code class="fe no np nq nr b">locale</code>时使用。</p><p id="be3a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">打开<code class="fe no np nq nr b">home_page.dart</code>并将其更新为以下内容:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="8865" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe no np nq nr b">Localizations.override</code>取当前的<code class="fe no np nq nr b">BuildContext</code>，新的<code class="fe no np nq nr b">locale</code>和新的<code class="fe no np nq nr b">locale</code>生效的<code class="fe no np nq nr b">child</code>。这里我们将<code class="fe no np nq nr b">es</code>指定为<code class="fe no np nq nr b">child</code>的新<code class="fe no np nq nr b">locale</code>。</p><p id="b416" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">注意我们如何使用<code class="fe no np nq nr b">Builder</code>来获得正确的<code class="fe no np nq nr b">BuildContext</code>。如果你提供了一个错误的<code class="fe no np nq nr b">context</code>，那么新的<code class="fe no np nq nr b">locale</code>将不会生效。</p><p id="739e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您现在运行应用程序，将设备<code class="fe no np nq nr b">locale</code>设置为英语，您将看到以下内容:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi od"><img src="../Images/5892aaaf1d47b875cdf2a28ade0fc092.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3TY594KcNREkGRkLrEppJQ.png"/></div></div><figcaption class="oe of gj gh gi og oh bd b be z dk translated">覆盖西班牙语区域设置</figcaption></figure><p id="7933" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">正如你所看到的，除了我们使用<code class="fe no np nq nr b">Localizations.override</code>的地方，应用程序的所有其他部分都有英文<code class="fe no np nq nr b">locale </code>。</p><h2 id="6db6" class="nc lg iq bd lh nd ne dn ll nf ng dp lp jy nh ni lt kc nj nk lx kg nl nm mb nn bi translated">让用户能够从应用程序中更改区域设置</h2><p id="855f" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">仅仅让我们的应用程序响应不同的<code class="fe no np nq nr b">locale</code>是不够的，我们还希望让用户能够在需要时选择应用程序中的语言。我们将通过一个简单的例子来使用<code class="fe no np nq nr b">provider</code>包。</p><p id="1197" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">创建一个新的<code class="fe no np nq nr b">app_locale.dart</code>文件并添加以下代码:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="4036" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你熟悉<code class="fe no np nq nr b">provider</code>包，这肯定是显而易见的。这里我们定义了一个<code class="fe no np nq nr b">Locale</code>,当它被改变时，我们通知这个类的监听器。</p><p id="2999" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，我们将在我们的<code class="fe no np nq nr b">home_page.dart</code>中添加一个<code class="fe no np nq nr b">CupertinoSwitch</code>，让用户手动更改语言。我们将使用我们创建的<code class="fe no np nq nr b">AppLocale</code>类来更改应用程序的语言环境。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="1e62" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里，当<code class="fe no np nq nr b">CupertinoSwitch</code>的值改变时，我们访问我们创建的<code class="fe no np nq nr b">provider</code>并用适当的参数调用<code class="fe no np nq nr b">changeLocale</code>方法，并将其更新为一个新值。</p><p id="cf7c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们转到<code class="fe no np nq nr b">main.dart</code>并使用<code class="fe no np nq nr b">Consumer</code>小部件更新应用<code class="fe no np nq nr b">locale</code>。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="83fc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里我们使用<code class="fe no np nq nr b">ChangeNotifierProvider</code>向它的后代提供<code class="fe no np nq nr b">AppLocale</code>的实例。接下来，我们使用<code class="fe no np nq nr b">Consumer</code>来访问<code class="fe no np nq nr b">locale</code>，并使用<code class="fe no np nq nr b">locale.locale</code>将其分配给<code class="fe no np nq nr b">MaterialApp</code>小部件的<code class="fe no np nq nr b">locale</code>。</p><p id="89c0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面是当<code class="fe no np nq nr b">locale</code>是英语时的输出:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi od"><img src="../Images/f66dea2a1af73f50378f73b25f207eae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dlYD92Dj_8MhoKOmU2qeUA.png"/></div></div></figure><p id="f9ab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">用户将<code class="fe no np nq nr b">locale</code>改为西班牙语时的输出:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi od"><img src="../Images/e7016acc2a155248e54ce9fb711c62cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*veK6nZ8c-FMw1qfTaHuWEg.png"/></div></div></figure><blockquote class="mw mx my"><p id="95fa" class="jn jo kx jp b jq jr js jt ju jv jw jx mz jz ka kb na kd ke kf nb kh ki kj kk ij bi translated">请注意，被覆盖的区域设置独立于设备的区域设置或用户选择的区域设置。</p></blockquote><h2 id="1309" class="nc lg iq bd lh nd ne dn ll nf ng dp lp jy nh ni lt kc nj nk lx kg nl nm mb nn bi translated">向消息传递参数</h2><p id="e887" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">有时您可能想要使用应用程序值，如信息中的用户名。在这种情况下，我们可以使用<strong class="jp ir">占位符在目录中定义消息参数。</strong>这些是用花括号括起来的参数名。这些占位符成为生成的<code class="fe no np nq nr b">AppLocalizations</code>类中的位置方法参数。占位符名称必须是有效的Dart方法参数名称。</p><p id="cbef" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">每个占位符必须在<code class="fe no np nq nr b">placeholders</code>对象中定义。例如，将带有<code class="fe no np nq nr b">userName</code>参数的hello消息定义为:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="216d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">同样，我们可以在<code class="fe no np nq nr b">app_es.arb</code>中将其西班牙语目录定义为:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="6f80" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当没有参数被传递时，<code class="fe no np nq nr b">example</code>字符串将被用作<strong class="jp ir">默认的</strong>参数。</p><p id="23d8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">完成后，转到<code class="fe no np nq nr b">home_page.dart</code>并添加以下内容:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="fa7e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里，我们只是添加了一个新的<code class="fe no np nq nr b">Text</code>小部件，并调用工具将生成的<code class="fe no np nq nr b">hello</code>方法，参数为<em class="kx"> Flutter </em>。</p><p id="4250" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最终输出将是:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi od"><img src="../Images/377dddf6e735719ea083f32ba0f08d82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GtZVp3-_AjwVvoVcNKZZuA.png"/></div></div><figcaption class="oe of gj gh gi og oh bd b be z dk translated">最终英语输出</figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi od"><img src="../Images/311ceb72428654da0cfef1dbe3b745d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*01Zlaff2IXAhYWMhTHWWmQ.png"/></div></div><figcaption class="oe of gj gh gi og oh bd b be z dk translated">最终西班牙语输出</figcaption></figure><p id="0a09" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们也可以通过使用多个花括号和它们在<code class="fe no np nq nr b">placeholders</code>对象中的对应对象来拥有多个参数，比如:</p><pre class="km kn ko kp gt ns nr nt nu aw nv bi"><span id="add9" class="nc lg iq nr b gy nw nx l ny nz">"greeting": "{hello} {world}",<br/>"@greeting": {<br/>  "description": "A message with a two parameters",<br/>  "placeholders": {<br/>    "hello": {},<br/>    "world": {}<br/>  }<br/>},</span></pre><p id="f785" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">参数可以通过以下方式传递:</p><pre class="km kn ko kp gt ns nr nt nu aw nv bi"><span id="44da" class="nc lg iq nr b gy nw nx l ny nz">AppLocalizations.of(context).<strong class="nr ir">greeting(‘Hello’, ‘World’)</strong></span></pre></div><div class="ab cl ky kz hu la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ij ik il im in"><h1 id="a347" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">结论</h1><p id="6021" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">在本文中，我们了解到借助Flutter提供的新本地化工具，国际化和本地化我们的Flutter应用程序是多么容易。</p><p id="c94b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们还看到了如何使用这种新技术让用户控制更改应用程序语言，以及如何向消息目录传递参数。</p><p id="8668" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您有兴趣深入了解，请查看官方的国际化用户指南。</p><p id="e1d1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">完整的源代码可以在下面的链接中找到:</p><div class="oj ok gp gr ol om"><a href="https://github.com/harshshinde07/Internationalization-Flutter" rel="noopener  ugc nofollow" target="_blank"><div class="on ab fo"><div class="oo ab op cl cj oq"><h2 class="bd ir gy z fp or fr fs os fu fw ip bi translated">harshshinde 07/国际化-扑动</h2><div class="ot l"><h3 class="bd b gy z fp or fr fs os fu fw dk translated">展示国际化的新颤振应用。</h3></div><div class="ou l"><p class="bd b dl z fp or fr fs os fu fw dk translated">github.com</p></div></div><div class="ov l"><div class="ow l ox oy oz ov pa kv om"/></div></div></a></div></div><div class="ab cl ky kz hu la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ij ik il im in"><h2 id="cb19" class="nc lg iq bd lh nd ne dn ll nf ng dp lp jy nh ni lt kc nj nk lx kg nl nm mb nn bi translated">感谢您阅读这篇文章。如果你喜欢这篇文章或者学到了新的东西，尽可能多地鼓掌以示支持。👏</h2><h2 id="efad" class="nc lg iq bd lh nd ne dn ll nf ng dp lp jy nh ni lt kc nj nk lx kg nl nm mb nn bi translated">这真的激励我继续写更多！:)</h2><h2 id="0f13" class="nc lg iq bd lh nd ne dn ll nf ng dp lp jy nh ni lt kc nj nk lx kg nl nm mb nn bi translated">如果有错误，请随时纠正。</h2><h2 id="904b" class="nc lg iq bd lh nd ne dn ll nf ng dp lp jy nh ni lt kc nj nk lx kg nl nm mb nn bi translated">我们来连线:</h2><ul class=""><li id="d2eb" class="mi mj iq jp b jq md ju me jy pb kc pc kg pd kk mn mo mp mq bi translated"><a class="ae oi" href="https://github.com/harshshinde07/" rel="noopener ugc nofollow" target="_blank"> GitHub </a></li><li id="d683" class="mi mj iq jp b jq mr ju ms jy mt kc mu kg mv kk mn mo mp mq bi translated"><a class="ae oi" href="https://www.linkedin.com/in/harshshinde07/" rel="noopener ugc nofollow" target="_blank">领英</a></li></ul></div></div>    
</body>
</html>