<html>
<head>
<title>How to Make a Vue.js App with the Buefy Widget Library</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Buefy Widget库制作Vue.js App</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-make-a-vue-js-app-with-buefy-widget-library-57ff44b99415?source=collection_archive---------0-----------------------#2019-12-07">https://levelup.gitconnected.com/how-to-make-a-vue-js-app-with-buefy-widget-library-57ff44b99415?source=collection_archive---------0-----------------------#2019-12-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/9b393b174f759b89ee823abf37d92b7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1fhH6dOAcjR1YExb"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@mael_bld?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Mael BALLAND </a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="60e6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Buefy是Vue.js的轻量级UI组件库，它基于布尔玛CSS框架，这是一个类似于Vuetify和Vue Material这样的Bootstrap和Material设计库的框架。它提供了表单输入、表格、模态、警告等组件，这些是Web应用程序最常用的组件。组件的完整列表位于<a class="ae kf" href="https://buefy.org/documentation" rel="noopener ugc nofollow" target="_blank">https://buefy.org/documentation</a>。</p><p id="21ee" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将使用Buefy和Vue.js构建一个密码管理器。这是一个简单的应用程序，可以输入名称、URL、用户名和密码。用户可以编辑或删除他们输入的任何条目。</p><h2 id="6533" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">入门指南</h2><p id="a368" class="pw-post-body-paragraph kg kh it ki b kj lx kl km kn ly kp kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">为了开始构建应用程序，我们运行Vue CLI来搭建项目。我们运行<code class="fe mc md me mf b">npx @vue/cli create password-manager</code>来生成应用程序。在向导中，我们选择“手动选择功能”，并选择Babel、Vuex和Vue路由器。</p><p id="688e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来，我们安装一些我们使用的库。我们需要Axios进行HTTP请求，需要Buefy库，需要Vee-Validate进行表单验证。要安装它们，我们运行:</p><pre class="mg mh mi mj gt mk mf ml mm aw mn bi"><span id="5fdf" class="le lf it mf b gy mo mp l mq mr">npm i axios buefy vee-validate</span></pre><h2 id="4b92" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">构建应用程序</h2><p id="50cd" class="pw-post-body-paragraph kg kh it ki b kj lx kl km kn ly kp kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">安装完库之后，我们就可以开始构建我们的应用程序了。首先，在<code class="fe mc md me mf b">components</code>文件夹中，创建一个名为<code class="fe mc md me mf b">PasswordForm.vue</code>的文件，并添加:</p><pre class="mg mh mi mj gt mk mf ml mm aw mn bi"><span id="b146" class="le lf it mf b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;ValidationObserver ref="observer" v-slot="{ invalid }"&gt;<br/>    &lt;form <a class="ae kf" href="http://twitter.com/submit" rel="noopener ugc nofollow" target="_blank">@submit</a>.prevent="onSubmit" novalidate&gt;<br/>      &lt;ValidationProvider name="name" rules="required" v-slot="{ errors }"&gt;<br/>        &lt;b-field<br/>          label="Name"<br/>          :type="errors.length &gt; 0 ? 'is-danger': '' "<br/>          :message="errors.length &gt; 0 ? 'Name is required': ''"<br/>        &gt;<br/>          &lt;b-input type="text" name="name" v-model="form.name"&gt;&lt;/b-input&gt;<br/>        &lt;/b-field&gt;<br/>      &lt;/ValidationProvider&gt;</span><span id="f27b" class="le lf it mf b gy ms mp l mq mr">      &lt;ValidationProvider name="url" rules="required|url" v-slot="{ errors }"&gt;<br/>        &lt;b-field<br/>          label="URL"<br/>          :type="errors.length &gt; 0 ? 'is-danger': '' "<br/>          :message="errors.join('. ')"<br/>        &gt;<br/>          &lt;b-input type="text" name="url" v-model="form.url"&gt;&lt;/b-input&gt;<br/>        &lt;/b-field&gt;<br/>      &lt;/ValidationProvider&gt;</span><span id="3ce6" class="le lf it mf b gy ms mp l mq mr">      &lt;ValidationProvider name="username" rules="required" v-slot="{ errors }"&gt;<br/>        &lt;b-field<br/>          label="Username"<br/>          :type="errors.length &gt; 0 ? 'is-danger': '' "<br/>          :message="errors.length &gt; 0 ? 'Username is required': ''"<br/>        &gt;<br/>          &lt;b-input type="text" name="username" v-model="form.username"&gt;&lt;/b-input&gt;<br/>        &lt;/b-field&gt;<br/>      &lt;/ValidationProvider&gt;</span><span id="c525" class="le lf it mf b gy ms mp l mq mr">      &lt;ValidationProvider name="password" rules="required" v-slot="{ errors }"&gt;<br/>        &lt;b-field<br/>          label="Password"<br/>          :type="errors.length &gt; 0 ? 'is-danger': '' "<br/>          :message="errors.length &gt; 0 ? 'Password is required': ''"<br/>        &gt;<br/>          &lt;b-input type="password" name="password" v-model="form.password"&gt;&lt;/b-input&gt;<br/>        &lt;/b-field&gt;<br/>      &lt;/ValidationProvider&gt;</span><span id="dfdd" class="le lf it mf b gy ms mp l mq mr">      &lt;br /&gt;</span><span id="051c" class="le lf it mf b gy ms mp l mq mr">      &lt;b-button type="is-primary" native-type="submit" style="margin-right: 10px"&gt;Submit&lt;/b-button&gt;</span><span id="0d24" class="le lf it mf b gy ms mp l mq mr">      &lt;b-button type="is-warning" native-type="button" <a class="ae kf" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="cancel()"&gt;Cancel&lt;/b-button&gt;<br/>    &lt;/form&gt;<br/>  &lt;/ValidationObserver&gt;<br/>&lt;/template&gt;</span><span id="d260" class="le lf it mf b gy ms mp l mq mr">&lt;script&gt;<br/>import { requestsMixin } from "@/mixins/requestsMixin";</span><span id="06f9" class="le lf it mf b gy ms mp l mq mr">export default {<br/>  name: "PasswordForm",<br/>  mixins: [requestsMixin],<br/>  props: {<br/>    edit: Boolean,<br/>    password: Object<br/>  },<br/>  methods: {<br/>    async onSubmit() {<br/>      const isValid = await this.$refs.observer.validate();<br/>      if (!isValid) {<br/>        return;<br/>      }</span><span id="ea9b" class="le lf it mf b gy ms mp l mq mr">if (this.edit) {<br/>        await this.editPassword(this.form);<br/>      } else {<br/>        await this.addPassword(this.form);<br/>      }<br/>      const response = await this.getPasswords();<br/>      this.$store.commit("setPasswords", response.data);<br/>      this.$emit("saved");<br/>    },<br/>    cancel() {<br/>      this.$emit("cancelled");<br/>    }<br/>  },<br/>  data() {<br/>    return {<br/>      form: {}<br/>    };<br/>  },<br/>  watch: {<br/>    password: {<br/>      handler(p) {<br/>        this.form = JSON.parse(JSON.stringify(p || {}));<br/>      },<br/>      deep: true,<br/>      immediate: true<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="c780" class="le lf it mf b gy ms mp l mq mr">&lt;!-- Add "scoped" attribute to limit CSS to this component only --&gt;<br/>&lt;style scoped lang="scss"&gt;<br/>&lt;/style&gt;</span></pre><p id="d3e7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">该组件具有供用户输入密码条目的表单。我们使用<code class="fe mc md me mf b">ValidationObserver</code>组件来监视组件内部表单的有效性，使用<code class="fe mc md me mf b">ValidationProvider</code>来检查组件内部输入值的有效性规则。</p><p id="4cc6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<code class="fe mc md me mf b">ValidationProvider</code>内部，我们有我们的Buefy <code class="fe mc md me mf b">b-field</code>输入。我们从<code class="fe mc md me mf b">ValidationProvider</code>的插槽中获取<code class="fe mc md me mf b">errors</code>数组，并检查<code class="fe mc md me mf b">type</code>和<code class="fe mc md me mf b">message</code>道具中是否存在任何错误。<code class="fe mc md me mf b">label</code>属性对应于输入的标签标记。<code class="fe mc md me mf b">b-input</code>是实际输入字段。我们在这里绑定到我们的<code class="fe mc md me mf b">form</code>模型。</p><p id="2f54" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在输入下面，我们有<code class="fe mc md me mf b">b-button</code>组件，它们被呈现为按钮。我们使用<code class="fe mc md me mf b">native-type</code>道具来指定按钮的类型，<code class="fe mc md me mf b">type</code>道具用于指定按钮的样式。</p><p id="880f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一旦用户点击保存，就会调用<code class="fe mc md me mf b">onSubmit</code>函数。在函数内部，<code class="fe mc md me mf b">this.$refs.observer.validate();</code>被调用来检查表单的有效性。<code class="fe mc md me mf b">observer</code>是<code class="fe mc md me mf b">ValidationObserver</code>的ref。有效值的观察形式在这里。如果它解析为<code class="fe mc md me mf b">true</code>，那么我们调用<code class="fe mc md me mf b">editPassword</code>或<code class="fe mc md me mf b">addPassword</code>，这取决于<code class="fe mc md me mf b">edit</code>道具是否为<code class="fe mc md me mf b">true</code>。这两个函数来自我们稍后将创建的<code class="fe mc md me mf b">requestsMixin</code>。如果成功，那么我们调用同样来自mixin的<code class="fe mc md me mf b">getPasswords</code>，然后调用<code class="fe mc md me mf b">this.$store.commit</code>在我们的Vuex存储中存储最新的密码条目。之后，我们发出<code class="fe mc md me mf b">saved</code>事件来关闭表单所在的模态。</p><p id="5da7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来，我们在<code class="fe mc md me mf b">src</code>文件夹中创建一个<code class="fe mc md me mf b">mixins</code>文件夹，然后在<code class="fe mc md me mf b">mixins</code>文件夹中创建<code class="fe mc md me mf b">requestsMixin.js</code>。然后我们加上:</p><pre class="mg mh mi mj gt mk mf ml mm aw mn bi"><span id="cdd5" class="le lf it mf b gy mo mp l mq mr">const APIURL = "<a class="ae kf" href="http://localhost:3000" rel="noopener ugc nofollow" target="_blank">http://localhost:3000</a>";<br/>const axios = require("axios");</span><span id="ec3e" class="le lf it mf b gy ms mp l mq mr">export const requestsMixin = {<br/>  methods: {<br/>    getPasswords() {<br/>      return axios.get(`${APIURL}/passwords`);<br/>    },</span><span id="f771" class="le lf it mf b gy ms mp l mq mr">    addPassword(data) {<br/>      return axios.post(`${APIURL}/passwords`, data);<br/>    },</span><span id="ebc4" class="le lf it mf b gy ms mp l mq mr">    editPassword(data) {<br/>      return axios.put(`${APIURL}/passwords/${data.id}`, data);<br/>    },</span><span id="cb0a" class="le lf it mf b gy ms mp l mq mr">    deletePassword(id) {<br/>      return axios.delete(`${APIURL}/passwords/${id}`);<br/>    }<br/>  }<br/>};</span></pre><p id="0365" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这增加了请求后端保存密码数据的代码。</p><p id="5b55" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来在<code class="fe mc md me mf b">Home.vue</code>中，我们将现有代码替换为:</p><pre class="mg mh mi mj gt mk mf ml mm aw mn bi"><span id="3414" class="le lf it mf b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;div class="page"&gt;<br/>    &lt;h1 class="center"&gt;Password Manager&lt;/h1&gt;<br/>    &lt;b-button <a class="ae kf" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="openAddModal()"&gt;Add Password&lt;/b-button&gt;</span><span id="3e98" class="le lf it mf b gy ms mp l mq mr">    &lt;b-table :data="passwords"&gt;<br/>      &lt;template scope="props"&gt;<br/>        &lt;b-table-column field="name" label="Name"&gt;{{props.row.name}}&lt;/b-table-column&gt;<br/>        &lt;b-table-column field="url" label="URL"&gt;{{props.row.url}}&lt;/b-table-column&gt;<br/>        &lt;b-table-column field="username" label="Username"&gt;{{props.row.username}}&lt;/b-table-column&gt;<br/>        &lt;b-table-column field="password" label="Password"&gt;******&lt;/b-table-column&gt;<br/>        &lt;b-table-column field="edit" label="Edit"&gt;<br/>          &lt;b-button <a class="ae kf" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="openEditModal(props.row)"&gt;Edit&lt;/b-button&gt;<br/>        &lt;/b-table-column&gt;<br/>        &lt;b-table-column field="delete" label="Delete"&gt;<br/>          &lt;b-button <a class="ae kf" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="deleteOnePassword(props.row.id)"&gt;Delete&lt;/b-button&gt;<br/>        &lt;/b-table-column&gt;<br/>      &lt;/template&gt;<br/>    &lt;/b-table&gt;</span><span id="0b1a" class="le lf it mf b gy ms mp l mq mr">    &lt;b-modal :active.sync="showAddModal" :width="500" scroll="keep"&gt;<br/>      &lt;div class="card"&gt;<br/>        &lt;div class="card-content"&gt;<br/>          &lt;h1&gt;Add Password&lt;/h1&gt;<br/>          &lt;PasswordForm <a class="ae kf" href="http://twitter.com/saved" rel="noopener ugc nofollow" target="_blank">@saved</a>="closeModal()" <a class="ae kf" href="http://twitter.com/cancelled" rel="noopener ugc nofollow" target="_blank">@cancelled</a>="closeModal()" :edit="false"&gt;&lt;/PasswordForm&gt;<br/>        &lt;/div&gt;<br/>      &lt;/div&gt;<br/>    &lt;/b-modal&gt;</span><span id="d177" class="le lf it mf b gy ms mp l mq mr">    &lt;b-modal :active.sync="showEditModal" :width="500" scroll="keep"&gt;<br/>      &lt;div class="card"&gt;<br/>        &lt;div class="card-content"&gt;<br/>          &lt;h1&gt;Edit Password&lt;/h1&gt;<br/>          &lt;PasswordForm<br/>            <a class="ae kf" href="http://twitter.com/saved" rel="noopener ugc nofollow" target="_blank">@saved</a>="closeModal()"<br/>            <a class="ae kf" href="http://twitter.com/cancelled" rel="noopener ugc nofollow" target="_blank">@cancelled</a>="closeModal()"<br/>            :edit="true"<br/>            :password="selectedPassword"<br/>          &gt;&lt;/PasswordForm&gt;<br/>        &lt;/div&gt;<br/>      &lt;/div&gt;<br/>    &lt;/b-modal&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="f616" class="le lf it mf b gy ms mp l mq mr">&lt;script&gt;<br/>// @ is an alias to /src<br/>import { requestsMixin } from "@/mixins/requestsMixin";<br/>import PasswordForm from "@/components/PasswordForm";</span><span id="1e6d" class="le lf it mf b gy ms mp l mq mr">export default {<br/>  name: "home",<br/>  data() {<br/>    return {<br/>      selectedPassword: {},<br/>      showAddModal: false,<br/>      showEditModal: false<br/>    };<br/>  },<br/>  components: {<br/>    PasswordForm<br/>  },<br/>  mixins: [requestsMixin],<br/>  computed: {<br/>    passwords() {<br/>      return this.$store.state.passwords;<br/>    }<br/>  },<br/>  beforeMount() {<br/>    this.getAllPasswords();<br/>  },<br/>  methods: {<br/>    openAddModal() {<br/>      this.showAddModal = true;<br/>    },<br/>    openEditModal(password) {<br/>      this.showEditModal = true;<br/>      this.selectedPassword = password;<br/>    },<br/>    closeModal() {<br/>      this.showAddModal = false;<br/>      this.showEditModal = false;<br/>      this.selectedPassword = {};<br/>    },<br/>    async deleteOnePassword(id) {<br/>      await this.deletePassword(id);<br/>      this.getAllPasswords();<br/>    },<br/>    async getAllPasswords() {<br/>      const response = await this.getPasswords();<br/>      this.$store.commit("setPasswords", response.data);<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="b86f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们通过使用<code class="fe mc md me mf b">b-table</code>组件添加一个表来显示密码条目，并在<code class="fe mc md me mf b">b-table</code>中添加<code class="fe mc md me mf b">b-table-column</code>列来显示定制列。<code class="fe mc md me mf b">b-table</code>组件获取一个包含一组密码的<code class="fe mc md me mf b">data</code> prop，然后通过从作用域槽获取<code class="fe mc md me mf b">props</code>来公开数据供<code class="fe mc md me mf b">b-table-column</code>组件使用。然后我们通过使用<code class="fe mc md me mf b">prop.row</code>属性来显示这些字段。在最后两列中，我们添加了两个按钮，分别让用户打开编辑模式和删除条目。当页面加载时，通过调用<code class="fe mc md me mf b">beforeMount</code>钩子中的<code class="fe mc md me mf b">getAllPasswords</code>来加载条目。</p><p id="68dc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">该页面还有两个模态，一个用于添加视图，一个用于编辑条目。在每个模态中，我们嵌套了前面创建的<code class="fe mc md me mf b">PasswordForm</code>组件。我们调用<code class="fe mc md me mf b">openEditModal</code>来打开编辑模式。在该函数中，我们设置了<code class="fe mc md me mf b">selectedPassword</code>字段，将其传递给<code class="fe mc md me mf b">PasswordForm</code>，以便用户可以编辑它并将<code class="fe mc md me mf b">this.showEditModal</code>设置为<code class="fe mc md me mf b">true</code>。<code class="fe mc md me mf b">openAddModal</code>功能通过将<code class="fe mc md me mf b">this.showAddModal</code>更改为<code class="fe mc md me mf b">true</code>来打开添加密码模式。</p><p id="7f4c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来在<code class="fe mc md me mf b">App.vue</code>中，我们将现有代码替换为:</p><pre class="mg mh mi mj gt mk mf ml mm aw mn bi"><span id="885f" class="le lf it mf b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;b-navbar type="is-warning"&gt;<br/>      &lt;template slot="brand"&gt;<br/>        &lt;b-navbar-item tag="router-link" :to="{ path: '/' }"&gt;Password Manager&lt;/b-navbar-item&gt;<br/>      &lt;/template&gt;<br/>      &lt;template slot="start"&gt;<br/>        &lt;b-navbar-item :to="{ path: '/' }" :active="path  == '/'"&gt;Home&lt;/b-navbar-item&gt;<br/>      &lt;/template&gt;<br/>    &lt;/b-navbar&gt;<br/>    &lt;router-view /&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="9e79" class="le lf it mf b gy ms mp l mq mr">&lt;script&gt;<br/>export default {<br/>  data() {<br/>    return {<br/>      path: this.$route &amp;&amp; this.$route.path<br/>    };<br/>  },<br/>  watch: {<br/>    $route(route) {<br/>      this.path = route.path;<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="046e" class="le lf it mf b gy ms mp l mq mr">&lt;style lang="scss"&gt;<br/>.page {<br/>  padding: 20px;<br/>}</span><span id="70c8" class="le lf it mf b gy ms mp l mq mr">button {<br/>  margin-right: 10px;<br/>}</span><span id="bdf5" class="le lf it mf b gy ms mp l mq mr">.center {<br/>  text-align: center;<br/>}</span><span id="7231" class="le lf it mf b gy ms mp l mq mr">h1 {<br/>  font-size: 32px !important;<br/>}<br/>&lt;/style&gt;</span></pre><p id="cdec" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这增加了Buefy <code class="fe mc md me mf b">b-navbar</code>组件，它是Buefy提供的顶部导航栏组件。<code class="fe mc md me mf b">b-navbar</code>包含不同的插槽，用于将项目添加到左栏的不同部分。<code class="fe mc md me mf b">brand</code>槽折叠左上方的app名称，<code class="fe mc md me mf b">start</code>槽有左上方的链接。</p><p id="4acd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还有显示路线的<code class="fe mc md me mf b">router-view</code>。在<code class="fe mc md me mf b">scripts</code>部分中，我们观察<code class="fe mc md me mf b">$route</code>变量以获取用户导航的当前路径，从而设置<code class="fe mc md me mf b">b-navbar-item</code>的<code class="fe mc md me mf b">active</code>属性，如果用户当前导航到引用了URL的页面，则该属性会突出显示该链接。</p><p id="6703" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<code class="fe mc md me mf b">styles</code>部分，我们为页面和按钮添加了一些填充，还将一些文本居中并改变了标题大小。</p><p id="b127" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来在<code class="fe mc md me mf b">main.js</code>中，我们将现有代码替换为:</p><pre class="mg mh mi mj gt mk mf ml mm aw mn bi"><span id="9e09" class="le lf it mf b gy mo mp l mq mr">import Vue from "vue";<br/>import App from "./App.vue";<br/>import router from "./router";<br/>import store from "./store";<br/>import Buefy from "buefy";<br/>import { ValidationProvider, extend, ValidationObserver } from "vee-validate";<br/>import { required } from "vee-validate/dist/rules";<br/>import "buefy/dist/buefy.css";</span><span id="7e00" class="le lf it mf b gy ms mp l mq mr">extend("required", required);<br/>extend("url", {<br/>  validate: value =&gt; {<br/>    return /^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/.test(<br/>      value<br/>    );<br/>  },<br/>  message: "URL is invalid."<br/>});<br/>Vue.use(Buefy);<br/>Vue.component("ValidationProvider", ValidationProvider);<br/>Vue.component("ValidationObserver", ValidationObserver);</span><span id="c288" class="le lf it mf b gy ms mp l mq mr">Vue.config.productionTip = false;</span><span id="7787" class="le lf it mf b gy ms mp l mq mr">new Vue({<br/>  router,<br/>  store,<br/>  render: h =&gt; h(App)<br/>}).$mount("#app");</span></pre><p id="4773" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将Buefy库和样式添加到我们的应用程序中，并添加了我们需要的验证规则。此外，我们将<code class="fe mc md me mf b">ValidationProvider</code>和<code class="fe mc md me mf b">ValidationObserver</code>添加到我们的应用程序中，这样我们就可以在<code class="fe mc md me mf b">PasswordForm</code>中使用它。</p><p id="32c8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来在<code class="fe mc md me mf b">router.js</code>中，我们将现有代码替换为:</p><pre class="mg mh mi mj gt mk mf ml mm aw mn bi"><span id="285b" class="le lf it mf b gy mo mp l mq mr">import Vue from 'vue'<br/>import Router from 'vue-router'<br/>import Home from './views/Home.vue'</span><span id="0796" class="le lf it mf b gy ms mp l mq mr">Vue.use(Router)</span><span id="40f4" class="le lf it mf b gy ms mp l mq mr">export default new Router({<br/>  mode: 'history',<br/>  base: process.env.BASE_URL,<br/>  routes: [<br/>    {<br/>      path: '/',<br/>      name: 'home',<br/>      component: Home<br/>    }<br/>  ]<br/>})</span></pre><p id="ea10" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这包括主页路由。</p><p id="5ac5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后在<code class="fe mc md me mf b">store.js</code>中，我们将现有代码替换为:</p><pre class="mg mh mi mj gt mk mf ml mm aw mn bi"><span id="083c" class="le lf it mf b gy mo mp l mq mr">import Vue from "vue";<br/>import Vuex from "vuex";</span><span id="7852" class="le lf it mf b gy ms mp l mq mr">Vue.use(Vuex);</span><span id="da78" class="le lf it mf b gy ms mp l mq mr">export default new Vuex.Store({<br/>  state: {<br/>    passwords: []<br/>  },<br/>  mutations: {<br/>    setPasswords(state, payload) {<br/>      state.passwords = payload;<br/>    }<br/>  },<br/>  actions: {}<br/>});</span></pre><p id="6f8e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将我们的<code class="fe mc md me mf b">passwords</code>状态添加到存储中，因此我们可以在<code class="fe mc md me mf b">PasswordForm</code>和<code class="fe mc md me mf b">HomePage</code>组件的<code class="fe mc md me mf b">computed</code>块中观察它。我们有<code class="fe mc md me mf b">setPasswords</code>函数来更新<code class="fe mc md me mf b">passwords</code>状态，我们通过调用<code class="fe mc md me mf b">this.$store.commit(“setPasswords”, response.data);</code>在组件中使用它，就像我们在<code class="fe mc md me mf b">PasswordForm</code>中做的那样。此外，我们在这个文件中导入了引导CSS来获取样式。</p><p id="3601" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在所有的努力之后，我们可以通过运行<code class="fe mc md me mf b">npm start</code>来启动我们的app。</p><h2 id="9a28" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">假冒的应用后端</h2><p id="05fc" class="pw-post-body-paragraph kg kh it ki b kj lx kl km kn ly kp kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">为了启动后端，我们首先通过运行<code class="fe mc md me mf b">npm i json-server</code>来安装<code class="fe mc md me mf b">json-server</code>包。然后，转到我们的项目文件夹并运行:</p><pre class="mg mh mi mj gt mk mf ml mm aw mn bi"><span id="9c31" class="le lf it mf b gy mo mp l mq mr">json-server --watch db.json</span></pre><p id="e100" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<code class="fe mc md me mf b">db.json</code>中，将文本改为:</p><pre class="mg mh mi mj gt mk mf ml mm aw mn bi"><span id="d789" class="le lf it mf b gy mo mp l mq mr">{<br/>  "passwords": [<br/>  ]<br/>}</span></pre><p id="45ee" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以我们有了在可用的<code class="fe mc md me mf b">requests.js</code>中定义的<code class="fe mc md me mf b">passwords</code>端点。</p><p id="5e9c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">经过所有的努力，我们得到了:</p><figure class="mg mh mi mj gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mt"><img src="../Images/a59a02501acd6d31d132d2333cb8c911.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UW-EYsR777gfMeXtW8Aorg.png"/></div></div></figure><figure class="mg mh mi mj gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mt"><img src="../Images/da27507cd188095eed9113de8bdfcb3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GAuuKV1NR7lx0n4u9rBI3A.png"/></div></div></figure><figure class="mg mh mi mj gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mt"><img src="../Images/74e8a47cefc10c0a5ff4ca3f9e425490.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bLyJEs5iiwsYSdEosHwKNA.png"/></div></div></figure></div></div>    
</body>
</html>