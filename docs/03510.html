<html>
<head>
<title>Build a simple React Native Pokemon app with React-Navigation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用React-Navigation构建一个简单的React原生口袋妖怪应用程序</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/build-a-simple-react-native-pokemon-app-with-react-navigation-1bbf1e845d92?source=collection_archive---------3-----------------------#2020-05-13">https://levelup.gitconnected.com/build-a-simple-react-native-pokemon-app-with-react-navigation-1bbf1e845d92?source=collection_archive---------3-----------------------#2020-05-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/81e8b2c1506d44565664603c79833688.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GBg6Nv-NUhEU-I7YarxxcA.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">来源:https://hackernoon.com/drafts/ro2832a9.png</figcaption></figure><p id="5c99" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当我们开始学习新技术时，我们希望开始构建一些东西或从事一个简单的项目，以更好地理解技术。所以，让我们来构建这个简单的应用程序。</p><p id="3c3b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于这个应用程序，我们将使用<a class="ae kf" href="https://pokeapi.co/" rel="noopener ugc nofollow" target="_blank"> PokeApi </a>来获取我们的口袋妖怪数据，我们还将使用<a class="ae kf" href="https://reactjs.org/docs/hooks-intro.html" rel="noopener ugc nofollow" target="_blank">钩子</a>。我正在使用口袋妖怪精灵的<a class="ae kf" href="https://pokemondb.net/" rel="noopener ugc nofollow" target="_blank">口袋妖怪db </a>。这只是个人喜好，你想用什么就用什么。</p><h2 id="2444" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">一些先决条件:</h2><ul class=""><li id="0df9" class="lx ly it ki b kj lz kn ma kr mb kv mc kz md ld me mf mg mh bi translated">对反应堆的基本理解</li><li id="b684" class="lx ly it ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated">对JavaScript(ES6)语法的基本理解</li><li id="c538" class="lx ly it ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated">已安装npm</li></ul><h2 id="e7a6" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">React-Native入门</h2><p id="063d" class="pw-post-body-paragraph kg kh it ki b kj lz kl km kn ma kp kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">我将在这个项目中使用react-native-cli。我用的是windows，但是你可以在这里了解更多关于设置react-native开发者环境<a class="ae kf" href="https://reactnative.dev/docs/environment-setup" rel="noopener ugc nofollow" target="_blank">的信息。</a></p><p id="6e74" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们首先使用以下命令在我们的计算机上全局安装react-native-cli:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="db05" class="le lf it mv b gy mz na l nb nc">npm install -g react-native-cli</span></pre><p id="4a66" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在让我们使用下面的命令来获取react-native样板文件</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="e10d" class="le lf it mv b gy mz na l nb nc">npx react-native init Pokedex</span></pre><p id="9c3f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Pokedex将成为我们应用的名字，因为何乐而不为！</p><p id="b112" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在让我们进入我们的项目，打开我们的代码编辑器。我用的是VS代码。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="c9a1" class="le lf it mv b gy mz na l nb nc">cd Pokedex<br/>code .</span></pre><h2 id="a2cf" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">运行我们的应用</h2><p id="13cc" class="pw-post-body-paragraph kg kh it ki b kj lz kl km kn ma kp kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">您可以在物理设备或模拟器上使用此命令运行android应用程序。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="1475" class="le lf it mv b gy mz na l nb nc">npx react-native run-android</span></pre><p id="e933" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于iOS，您可以使用以下命令</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="6698" class="le lf it mv b gy mz na l nb nc">npx react-native run-ios</span></pre><p id="93d8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你会看到这个屏幕，这意味着我们准备好了！</p><figure class="mq mr ms mt gt ju gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/847e217d44db4c245b3f3577d540168e.png" data-original-src="https://miro.medium.com/v2/resize:fit:970/format:webp/1*uvyNd0tOYSeYwJ_F8RLgbg.png"/></div></figure><p id="b11d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们安装该应用程序所需的一些依赖项。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="7043" class="le lf it mv b gy mz na l nb nc">npm install react-navigation react-navigation-stack react-native-reanimated react-native-gesture-handler react-native-screens react-native-safe-area-context @react-native-community/masked-view</span></pre><p id="0642" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您的package.json将如下所示</p><figure class="mq mr ms mt gt ju gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/f72b3224bf20103250ec8e5e3f54e3f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*YP8J4YBNtPM9uMufAC_hGQ.png"/></div></figure><h2 id="bc18" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">让我们编码！</h2><p id="2e24" class="pw-post-body-paragraph kg kh it ki b kj lz kl km kn ma kp kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">首先，让我们在项目中创建一个Components文件夹，并创建两个文件Pokemons.js和Details.js，如下所示</p><figure class="mq mr ms mt gt ju gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/32c57bc7fcc86b1d50a2073453154f9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:338/format:webp/1*82qVLPwIx3zB7Ab8giBbHg.png"/></div></figure><p id="7279" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，正如在<em class="ng">“欢迎使用React”</em>屏幕的第一步中所写的，让我们编辑我们的App.js。App.js是react-native应用程序的根组件，因此我们需要导入我们的组件并在app . js中编写我们的路线。在app . js中，我们将编写以下代码</p><figure class="mq mr ms mt gt ju"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="3b30" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，<code class="fe nj nk nl mv b">createStackNavigator</code>是一个返回组件的函数，它可以接受两个参数，第一个配置对象是我们的路由，我们可以传递第二个可选的配置对象。<code class="fe nj nk nl mv b">createStackNavigator</code>将一个组件像堆栈一样放在顶部，因此得名。在<code class="fe nj nk nl mv b">createStackNavigator</code>的配置对象中，<code class="fe nj nk nl mv b">Home</code>路由渲染口袋妖怪组件，<code class="fe nj nk nl mv b">Details</code>路由渲染细节组件。在第二个选项对象中，我们可以声明应用程序加载时将呈现的初始路线，我们将保持<code class="fe nj nk nl mv b">Home</code>为初始路线。</p><p id="1fbb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe nj nk nl mv b">createAppContainer</code>是一个接受<code class="fe nj nk nl mv b">appNavigator</code>并返回从<code class="fe nj nk nl mv b">appNavigator</code>返回的组件的函数。最后，我们从App.js文件中导出<code class="fe nj nk nl mv b">AppContainer</code>。</p><h2 id="970e" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">航行</h2><p id="a481" class="pw-post-body-paragraph kg kh it ki b kj lz kl km kn ma kp kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">导航属性被传递给每个屏幕组件。导航道具对象具有以下内容</p><figure class="mq mr ms mt gt ju gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/ae7fc1fa16208df776e5714c20708492.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/format:webp/1*gAPY5akRJgZXHr3g-I_t0Q.png"/></div></figure><p id="a511" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了导航到其他组件，我们使用<code class="fe nj nk nl mv b">navigation.navigate()</code>功能。我们将路由名称作为第一个参数传递。如果我们想要传递参数，我们传递一个对象作为第二个参数。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="fee2" class="le lf it mv b gy mz na l nb nc">navigation.navigate('RouteName', { /* params go here */ })</span></pre><p id="85fe" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了读取被传递的参数，我们使用<code class="fe nj nk nl mv b">navigation.state.params</code>。</p><h2 id="cf09" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">编写我们的第一个组件</h2><p id="62b3" class="pw-post-body-paragraph kg kh it ki b kj lz kl km kn ma kp kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">在Pokemons.js文件中，我们导入了以下内容</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="c8b7" class="le lf it mv b gy mz na l nb nc"><em class="ng">import</em> React, {useState, useEffect} <em class="ng">from</em> ‘react’;<br/><em class="ng">import</em> {View, Text, ScrollView, Image, TouchableOpacity, StyleSheet, TextInput} <em class="ng">from</em> ‘react-native’;</span></pre><p id="5006" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe nj nk nl mv b">useState()</code> hook帮助我们在功能组件中使用状态变量。我们将使用一个状态变量来保存我们的口袋妖怪数据，当有人使用搜索输入时，使用另一个状态变量来过滤口袋妖怪。你可以阅读更多关于<code class="fe nj nk nl mv b">useState()</code>钩子<a class="ae kf" href="https://reactjs.org/docs/hooks-state.html" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="4ba6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以将<code class="fe nj nk nl mv b">useEffect()</code>挂钩作为<code class="fe nj nk nl mv b">componentDidMount()</code>。useEffect()将回调作为参数。为了让它像<code class="fe nj nk nl mv b">componentDidMount()</code>一样工作，我们在使用<code class="fe nj nk nl mv b">useEffect()</code>钩子时传递一个空数组作为第二个参数，</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="40cc" class="le lf it mv b gy mz na l nb nc">useEffect(() =&gt; {<br/>fetchPokemons();<br/>},[])</span></pre><p id="0d27" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">上面的代码作为<code class="fe nj nk nl mv b">componentDidMount()</code>工作。此外，我们编码如下</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="2b33" class="le lf it mv b gy mz na l nb nc"><em class="ng">import</em> React, {useState, useEffect} <em class="ng">from</em> 'react';<br/><em class="ng">import</em> {View, Text, ScrollView, Image, TouchableOpacity, StyleSheet, TextInput} <em class="ng">from</em> 'react-native';</span><span id="d688" class="le lf it mv b gy nn na l nb nc">const Pokemons = (props) =&gt; {<br/>const [pokemons, setPokemons] = useState([]);<br/>const [searchfeild, setSearchfeild] = useState('');</span><span id="415c" class="le lf it mv b gy nn na l nb nc">useEffect(() =&gt; {<br/> fetchPokemons();<br/>},[]);</span><span id="1d14" class="le lf it mv b gy nn na l nb nc">const fetchPokemons = () =&gt; {<br/>fetch('https://pokeapi.co/api/v2/pokemon?limit=500')<br/>.then(response =&gt; response.json())<br/>.then(pokemons =&gt; setPokemons(pokemons.results));<br/>};</span></pre><p id="17a0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，<code class="fe nj nk nl mv b">pokemons</code>是一个状态变量，一个我们保存口袋妖怪数据的数组。最初，它是一个空数组，<code class="fe nj nk nl mv b">setPokemons</code>是一个用来改变状态的函数。<code class="fe nj nk nl mv b">searchfeild </code>状态变量是我们将使用的搜索输入。<code class="fe nj nk nl mv b">setPokemons</code>、<code class="fe nj nk nl mv b">setSearchfeild</code>作为<code class="fe nj nk nl mv b">this.setState()</code>工作。我们使用<code class="fe nj nk nl mv b">useEffect()</code>作为componentDidMount()。在<code class="fe nj nk nl mv b">fetchPokemons()</code>函数中，我们对<a class="ae kf" href="https://pokeapi.co/" rel="noopener ugc nofollow" target="_blank"> PokeApi </a>服务器进行API调用，以获取我们的口袋妖怪数据。我们将从API得到以下响应。</p><figure class="mq mr ms mt gt ju gh gi paragraph-image"><div class="gh gi no"><img src="../Images/1d664f1b00f4745cbaeafdee6a0bf90f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*kZt_ZWwEnxzT_uMX-he_Cw.png"/></div></figure><p id="643c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们将它转换成JSON格式，然后使用<code class="fe nj nk nl mv b">setPokemons</code>函数将<code class="fe nj nk nl mv b">pokemons.results</code>保存在我们的<code class="fe nj nk nl mv b">pokemons</code>状态变量中。</p><p id="ada0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，我们将对组件的UI进行样式化和编码</p><figure class="mq mr ms mt gt ju"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="1bfb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">首先，我们对位于顶部的TextInput进行编码。我们使用<code class="fe nj nk nl mv b">onChangeText</code>来监听TextInput中发生的变化，并使用<code class="fe nj nk nl mv b">setSearchfeild</code>函数将TextInput的值设置为<code class="fe nj nk nl mv b">searchfeild</code>。我们使用JavaScript <code class="fe nj nk nl mv b">.filter()</code>方法根据搜索过滤口袋妖怪。<code class="fe nj nk nl mv b">.filter()</code>方法返回一个数组，所以我们使用<code class="fe nj nk nl mv b">.map()</code>方法来映射这个数组。</p><p id="c610" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了处理触摸，我们在React-Native中使用可触摸组件。<code class="fe nj nk nl mv b">TouchableOpacity</code>触摸或轻触时给出反馈。您可以使用<code class="fe nj nk nl mv b">activeOpacity</code>属性来调整不透明度。你可以在这里阅读更多关于可触摸组件<a class="ae kf" href="https://reactnative.dev/docs/handling-touches" rel="noopener ugc nofollow" target="_blank">的信息。我将图片<code class="fe nj nk nl mv b">uri</code>中的<code class="fe nj nk nl mv b">pokemon.name</code>作为模板文字进行传递，以获得各个口袋妖怪的精灵。</a></p><p id="2fd7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<code class="fe nj nk nl mv b">onPress </code>中，我们使用<code class="fe nj nk nl mv b">props.navigation.navigate()</code>来导航到Details.js组件，并将<code class="fe nj nk nl mv b">pokemon.name</code>作为参数传递，我们将使用该参数来获取单个口袋妖怪数据。</p><p id="c2de" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在我们定义组件的样式</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="d6d3" class="le lf it mv b gy mz na l nb nc">const styles = StyleSheet.create({  <br/>container: {    <br/> display: 'flex',    <br/> flexDirection: 'row',    <br/> flexWrap: 'wrap',    <br/> justifyContent: 'center',    <br/> marginTop: 30,  <br/>},  <br/>card: {    <br/> display: 'flex',    <br/> alignItems: 'center',    <br/> borderBottomWidth: 1,    <br/> borderBottomColor: 'black',    <br/> marginHorizontal: 20,    <br/> marginVertical: 10,  <br/>},  <br/>searchCont: {    <br/> position: 'absolute',    <br/> marginBottom: 70,    <br/> left: '20%',    <br/> zIndex: 1,    <br/> marginTop: 10,  <br/>},  <br/>searchfeild: {    <br/>height: 40,    <br/>borderWidth: 1,    <br/>borderColor: '#000',    <br/>textAlign: 'center',    <br/>width: 250,    <br/>borderRadius: 50,  <br/>},<br/>});</span></pre><p id="b4ab" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们在React-Native中使用<code class="fe nj nk nl mv b">StyleSheet</code>来定义组件的样式。在<code class="fe nj nk nl mv b">StyleSheet.create()</code>中，我们传递一个对象，在这个对象中我们可以定义组件的样式。我们通过在React-Native元素的style属性中传递该样式的引用来使用样式。</p><p id="e7fb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，此时Pokemons.js组件将如下所示</p><figure class="mq mr ms mt gt ju"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="b3bd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们运行我们的应用程序，或者如果你正在运行它，你会看到一个错误，因为我们还没有编码Details.js。</p><p id="caca" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们快速编写Details.js代码，并检查一切是否正常</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="3de0" class="le lf it mv b gy mz na l nb nc"><em class="ng">import</em> React <em class="ng">from</em> 'react';<br/><em class="ng">import</em> {View, Text} <em class="ng">from</em> 'react-native';</span><span id="abd7" class="le lf it mv b gy nn na l nb nc">const Details = props =&gt; {<br/> <em class="ng">return</em> (<br/>  &lt;View <em class="ng">style</em>={{ flex: 1, alignItems: 'center', justifyContent:          'center' }}&gt; <br/>   &lt;Text&gt;Details&lt;/Text&gt;<br/> &lt;/View&gt;);<br/>};</span><span id="23c8" class="le lf it mv b gy nn na l nb nc"><em class="ng">export</em> <em class="ng">default</em> Details;</span></pre><p id="856d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我们的设备/仿真器中，应该是这样工作的，</p><figure class="mq mr ms mt gt ju gh gi paragraph-image"><div class="gh gi np"><img src="../Images/df8ffed0d3f0ceb504bcd15579e624cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:472/1*4Q7ko2EfzHTzicjIP5mFLg.gif"/></div></figure><p id="87c0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，我们所需要的是完成我们的细节部分，我们就完成了。它将类似于口袋妖怪组件，在<code class="fe nj nk nl mv b">useEffect()</code>中进行API调用，并将其保存在我们的州。然后，使用状态变量在屏幕上显示数据。Details.js应该是这样的</p><figure class="mq mr ms mt gt ju"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="43b4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们使用<code class="fe nj nk nl mv b">navigation.state.params </code>来读取从Pokemons组件传递到Details组件的参数。使用<code class="fe nj nk nl mv b">fetchPokemonsDetail</code>函数中的参数，我们进行一个API调用来获取单个口袋妖怪数据。当从组件返回时，我添加了一个条件，以便在获取数据时不会显示空白屏幕，它会显示<code class="fe nj nk nl mv b">ActivityIndicator</code>。这是一个循环加载动画。</p><figure class="mq mr ms mt gt ju gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/2b9ba2167b62c667274dc4d587153369.png" data-original-src="https://miro.medium.com/v2/resize:fit:476/1*ly_N6_phjFZFTlSEmshTcA.gif"/></div></figure><p id="a7be" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这就是，你的口袋妖怪应用反应原生。如果你完成了这个应用程序，请鼓励自己。</p></div></div>    
</body>
</html>