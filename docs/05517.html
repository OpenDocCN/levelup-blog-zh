<html>
<head>
<title>How to View PDFs in a React App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在React应用程序中查看pdf</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-view-pdfs-in-a-react-app-32a9f3c48f06?source=collection_archive---------0-----------------------#2020-09-06">https://levelup.gitconnected.com/how-to-view-pdfs-in-a-react-app-32a9f3c48f06?source=collection_archive---------0-----------------------#2020-09-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d7c9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一个方便在网上查看pdf的库</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c44defda14196183e0eb26a4c616b2cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bwq2DZgDEedqDGAxZM8I1Q.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">Susan Yin 在<a class="ae ky" href="https://unsplash.com/s/photos/books?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="0808" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最近有一个在应用程序中查看pdf文件的功能请求。用户应该能够点击包含pdf的组件，并在模式中打开该pdf。在这种模式下，用户可以浏览pdf文件的页面。在这篇文章中，我将向您展示我是如何借助一个名为<a class="ae ky" href="https://github.com/mikecousins/react-pdf-js" rel="noopener ugc nofollow" target="_blank"> react-pdf-js </a>的库相对容易地实现这一点的。</p><p id="3464" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> react-pdf-js </strong>不要与<a class="ae ky" href="https://github.com/wojtekmaj/react-pdf" rel="noopener ugc nofollow" target="_blank"> react-pdf </a>混淆。我首先尝试使用react-pdf，但是我发现在我们的应用程序中尝试配置它很困难。经过大约一个小时的调试，毫无收获，我决定寻找一个替代方案。这是我发现react-pdf-js的时候。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/ce196b5c19f9823283f5e0c57936dd48.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*Qy9jq92CXgOK7r_0l8znqQ.gif"/></div></figure><p id="086c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们下载库。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="5c52" class="mb mc it lx b gy md me l mf mg"><strong class="lx iu">NPM</strong>: npm install @mikecousins/react-pdf<br/><strong class="lx iu">YARN</strong>: yarn add @mikecousins/react-pdf</span></pre><p id="5407" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="mh">注意:在这个演示中，我将安装</em><a class="ae ky" href="https://ant.design/components/overview/" rel="noopener ugc nofollow" target="_blank"><em class="mh">Ant Design</em></a><em class="mh">，这样我就可以使用它们的</em> <code class="fe mi mj mk lx b"><a class="ae ky" href="https://ant.design/components/modal/" rel="noopener ugc nofollow" target="_blank"><em class="mh">Modal</em></a></code> <em class="mh">组件。react-pdf-js不以任何方式依赖于Ant设计。</em></p><p id="d0e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">安装Ant Design ( <code class="fe mi mj mk lx b">npm i antd</code>)之后，我们还需要导入Ant设计风格。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="5622" class="mb mc it lx b gy md me l mf mg">import "antd/dist/antd.css";</span></pre><p id="034f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将进口蚂蚁设计公司提供的<code class="fe mi mj mk lx b">Modal</code>和<code class="fe mi mj mk lx b">Button</code>组件，以及<code class="fe mi mj mk lx b">react-pdf-js</code>。我们可以将<code class="fe mi mj mk lx b">react-pdf-js</code>作为<code class="fe mi mj mk lx b">PDF</code>导入。到目前为止，你的组件应该是什么样子的，请看下面。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="249c" class="mb mc it lx b gy md me l mf mg">import React, {useState} from "react";<br/>import "antd/dist/antd.css";<br/>import '../App.css';<br/>import {Modal, Button} from "antd";<br/>import PDF from "react-pdf-js";</span><span id="ac3e" class="mb mc it lx b gy ml me l mf mg">const PdfViewer = ({pdf, onCancel, visible})=&gt; {<br/>   return( <br/>         &lt;Modal visible={visible}<br/>                onCancel={onCancel}<br/>                maskClosable={false}<br/>                width={"50%"}         <br/>         &gt;<br/>             Hello World<br/>         &lt;Modal/&gt;;<br/>};</span><span id="f6f7" class="mb mc it lx b gy ml me l mf mg">export default PdfViewer;</span></pre><p id="e94d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mi mj mk lx b">PdfViewer</code>接受道具<code class="fe mi mj mk lx b">pdf</code>、<code class="fe mi mj mk lx b">onCancel</code>和<code class="fe mi mj mk lx b">visible</code>。对于这个演示，这些道具由我们的<code class="fe mi mj mk lx b">App</code>组件提供。或者，您可以在<code class="fe mi mj mk lx b">PdfViewer</code>中处理所有的可见性和pdf导入，但这不够动态。见下面我的<code class="fe mi mj mk lx b">App</code>组件。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="b08a" class="mb mc it lx b gy md me l mf mg">import React, {useState} from 'react';<br/>import PdfViewer from './components/PdfViewer'<br/>import {Button} from 'antd';<br/>import pdf from './assets/test.pdf'<br/>import './App.css';</span><span id="af23" class="mb mc it lx b gy ml me l mf mg">function App() {</span><span id="23bf" class="mb mc it lx b gy ml me l mf mg">   const [showPdf, setShowPdf] = useState(false)</span><span id="29f4" class="mb mc it lx b gy ml me l mf mg">   return (<br/>      &lt;div className="App"&gt;<br/>         &lt;PdfViewer pdf={pdf} <br/>                    onCancel={()=&gt;setShowPdf(false)}<br/>                    visible={showPdf}<br/>         /&gt;<br/>         &lt;Button onClick={()=&gt;setShowPdf(!showPdf)}&gt;<br/>           Show PdfViewer<br/>         &lt;/Button&gt;<br/>      &lt;/div&gt;<br/>   );<br/>}</span><span id="45bd" class="mb mc it lx b gy ml me l mf mg">export default App;</span></pre><p id="3a6b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我使用react钩子来控制是否显示<code class="fe mi mj mk lx b">PdfViewer</code>。下面是我用来设计我的react应用的一个小CSS。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="27aa" class="mb mc it lx b gy md me l mf mg">.App{<br/>   width: 100%;<br/>   height: 500px;<br/>   display: flex;<br/>   align-items: center;<br/>   justify-content: center;<br/>}</span></pre><p id="2bae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">添加CSS后，你的应用程序应该看起来像一个孤独的按钮，在页面的(几乎)中间。现在我们已经有了基本的结构和模态逻辑，我们可以进入react-pdf-js的本质。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/50873c7e3fa05bd2a3d9865c29b39dd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*Rnvns33ERxDzpAzYSIN89Q.gif"/></div></figure><p id="ea78" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我们需要设置页面导航，这样用户就可以更改他们想要查看的页面。我们可以通过使用<code class="fe mi mj mk lx b">useState</code>存储当前<code class="fe mi mj mk lx b">page</code>以及功能状态下的总<code class="fe mi mj mk lx b">pages</code>来实现这一点。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="340e" class="mb mc it lx b gy md me l mf mg">const [page, setPage] = useState(1);<br/>const [pages, setPages] = useState(null);</span></pre><p id="9886" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">既然我们可以跟踪总页数和当前页码，我们可以将第一个道具传递给我们的<code class="fe mi mj mk lx b">PDF</code>组件<code class="fe mi mj mk lx b">page</code>。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="8d39" class="mb mc it lx b gy md me l mf mg">&lt;PDF<br/>   page={page}<br/>/&gt;</span></pre><p id="1c57" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了当前页面，<code class="fe mi mj mk lx b">PDF</code>还接受一个<code class="fe mi mj mk lx b">file</code>属性，它将是从我们的<code class="fe mi mj mk lx b">App</code>组件传递来的<code class="fe mi mj mk lx b">pdf</code>。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="3c17" class="mb mc it lx b gy md me l mf mg">&lt;PDF   <br/>   page={page}<br/>   file={pdf}<br/>/&gt;</span></pre><p id="e919" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">太棒了。我们的<code class="fe mi mj mk lx b">PDF</code>组件现在可以决定为提供的<code class="fe mi mj mk lx b">pdf</code>文件显示哪个<code class="fe mi mj mk lx b">page</code>。我们现在需要的只是一个用于<code class="fe mi mj mk lx b">onDocumentComplete</code>和<code class="fe mi mj mk lx b">onDocumentError</code>的函数。当所提供的文件被<code class="fe mi mj mk lx b">PDF</code>处理完后，第一个函数被执行。从这个属性中，我们可以获得pdf的总页数，这是我们用来设置<code class="fe mi mj mk lx b">pages</code>属性的内容。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="93ef" class="mb mc it lx b gy md me l mf mg">const onDocumentComplete = (numPages) =&gt;{<br/>   setPages(numPages)<br/>}</span></pre><p id="aea1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mi mj mk lx b">onDocumentError</code>是处理任何可能出现的错误的道具。现在，我只打算查看<code class="fe mi mj mk lx b">console.log</code> any errors，看看是什么(如果有的话)出了问题。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="45aa" class="mb mc it lx b gy md me l mf mg">const onDocumentError = (err) =&gt; {<br/>   console.error('pdf viewer error:', err);<br/>}</span></pre><p id="fec3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完美！下面是我们更新后的<code class="fe mi mj mk lx b">PdfViewer</code>组件的样子。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="2f95" class="mb mc it lx b gy md me l mf mg">import React, {useState} from "react";<br/>import "antd/dist/antd.css";<br/>import '../App.css';<br/>import {Modal, Button} from "antd";<br/>import PDF from "react-pdf-js";</span><span id="2f19" class="mb mc it lx b gy ml me l mf mg">const PdfViewer = ({pdf, onCancel, visible})=&gt; {</span><span id="f78d" class="mb mc it lx b gy ml me l mf mg">   const [page, setPage] = useState(1);<br/>   const [pages, setPages] = useState(null);</span><span id="7bf6" class="mb mc it lx b gy ml me l mf mg">   const onDocumentError = (err) =&gt; {<br/>      console.error('pdf viewer error:', err);<br/>   }</span><span id="90c6" class="mb mc it lx b gy ml me l mf mg">   const onDocumentComplete = (numPages) =&gt;{<br/>      setPages(numPages)<br/>   }</span><span id="8a47" class="mb mc it lx b gy ml me l mf mg">return( <br/>         &lt;Modal visible={visible}<br/>                onCancel={onCancel}<br/>                maskClosable={false}<br/>                style={{top: 20}}<br/>                width={"50%"}         <br/>         &gt;<br/>             &lt;PDF file={pdf}<br/>                  page={page}<br/>                  onDocumentError={onDocumentError}<br/>                  onDocumentComplete={onDocumentComplete}   <br/>             /&gt;     <br/>             &lt;p style={{textAlign: 'center'}}&gt;<br/>                Page {page} of {pages}<br/>            &lt;/p&gt;<br/>         &lt;Modal/&gt;;<br/>};</span><span id="531b" class="mb mc it lx b gy ml me l mf mg">export default PdfViewer;</span></pre><p id="5dd6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，如果您单击“显示PdfViewer”按钮，您应该会看到弹出的模式，其中提供的pdf的第一页是可见的，页面指示器位于底部。您可能还会注意到显示的pdf有点靠左对齐。要解决这个问题，你可以在<code class="fe mi mj mk lx b">PDF</code>周围添加一个包装器<code class="fe mi mj mk lx b">div</code>，并应用下面的样式。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="88a8" class="mb mc it lx b gy md me l mf mg">.pdfWrapper{<br/>   display: flex;<br/>   align-items: center;<br/>   justify-content: center;<br/>   overflow-x: auto;<br/>}</span></pre><p id="f038" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">pdf现在应该是漂亮的和居中的。如果你的屏幕变得太小，pdf溢出，增加的<code class="fe mi mj mk lx b">overflow-x: auto;</code>属性应该允许用户水平滚动来查看pdf溢出的部分。我们去看看。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/7c48b1bcb5ef423cc89b9a14431e532b.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*KGtd8T6VCTn5R733gDkvig.gif"/></div></figure><p id="2cd4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">厉害！现在让我们添加一些控件，以便用户可以看到其他页面。我们可以通过在我们的模型中添加一个<code class="fe mi mj mk lx b">footer</code>来做到这一点，并在这个<code class="fe mi mj mk lx b">footer</code>道具中制作一个<code class="fe mi mj mk lx b">div</code>来包装两个Ant Design <code class="fe mi mj mk lx b">Button</code>组件。一个是上一个，一个是下一个。请参见下面的页脚元素。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="2d5b" class="mb mc it lx b gy md me l mf mg">const footer = &lt;div className="footer"&gt;<br/>   &lt;Button onClick={()=&gt;onPage(0)}&gt;Previous&lt;/Button&gt;<br/>   &lt;Button onClick={()=&gt;onPage(1)}&gt;Next&lt;/Button&gt;<br/>&lt;/div&gt;</span></pre><p id="6d3e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的<code class="fe mi mj mk lx b">footer</code>类将有下面的样式属性。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="ad6e" class="mb mc it lx b gy md me l mf mg">.footer{<br/>   display: flex;<br/>   justify-content: space-between;<br/>}</span></pre><p id="5ba8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们可以包含<code class="fe mi mj mk lx b">footer={footer}</code>作为我们<code class="fe mi mj mk lx b">Modal</code>的道具。你现在应该会在<code class="fe mi mj mk lx b">Modal</code>的底部看到两个按钮。然而，这些按钮还不做任何事情，因为我们需要定义我们的<code class="fe mi mj mk lx b">onPage</code>函数。该功能将作为上一个和下一个功能的导航器。我们为上一个动作传递一个<code class="fe mi mj mk lx b">0</code>，为下一个动作传递一个<code class="fe mi mj mk lx b">1</code>。这可以让我们确定设置<code class="fe mi mj mk lx b">page</code>值的方向。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="c679" class="mb mc it lx b gy md me l mf mg">const onPage = (type) =&gt;{<br/>   var newPage = type ? page + 1 : page - 1<br/>   setPage(newPage)<br/>}</span></pre><p id="7daa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这很好，但是如果我们超出了页数，会发生什么呢？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mm"><img src="../Images/d32b59b7d405a873f64079474e8129b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2PIX3HvDreRHTSfQ3LqPng.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/1faf6fb0ba966f1a174e8c43761ae12a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*1NH7hZHwXj9Jq5sRapHmXA.gif"/></div></figure><p id="884a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那可不好！我不知道为什么这个库的创建者没有建立一些默认的行为来处理这个逻辑，但是不用担心！我们可以创造我们自己的。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="7f2d" class="mb mc it lx b gy md me l mf mg">if (newPage &gt; pages){<br/>   newPage = 1<br/>} else if (newPage &lt; 1){<br/>   newPage = pages<br/>}</span></pre><p id="8947" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该逻辑在我们正式设置<code class="fe mi mj mk lx b">page</code>的值之前重置<code class="fe mi mj mk lx b">newPage</code>的值。如果我们接下来走得太远(<code class="fe mi mj mk lx b">newPage === pages + 1</code>，我们将<code class="fe mi mj mk lx b">newPage</code>设置为1，有效地循环回到pdf的第一页。如果我们往回走得太远(<code class="fe mi mj mk lx b">newPage === 0</code>)，那么我们将<code class="fe mi mj mk lx b">newPage</code>设置为等于<code class="fe mi mj mk lx b">pages</code>的总数，循环回到末尾。这样，无论用户点击多少次“下一页”或“上一页”,我们都可以完全正确地循环浏览pdf。我们最终的<code class="fe mi mj mk lx b">onPage</code>应该如下所示。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="f3d6" class="mb mc it lx b gy md me l mf mg">const onPage = (type) =&gt;{</span><span id="6e1d" class="mb mc it lx b gy ml me l mf mg">   var newPage = type ? page + 1 : page - 1</span><span id="3a71" class="mb mc it lx b gy ml me l mf mg">   if (newPage &gt; pages){<br/>      newPage = 1<br/>   } else if (newPage &lt; 1){<br/>      newPage = pages<br/>   }</span><span id="45a8" class="mb mc it lx b gy ml me l mf mg">   setPage(newPage)<br/>}</span></pre><p id="3d80" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们看看我们的PDF查看器的运行情况。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/7384df26ef17f6b7f97a7895043d7ec7.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*FoJiVK6jjjY52oF-nV9f-w.gif"/></div></figure><p id="4bd4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看起来相当不错！用户现在可以有效地循环浏览pdf页面。虽然这是最初的特性所要求的，但我们可以更进一步。</p><h2 id="bc14" class="mb mc it bd mo mp mq dn mr ms mt dp mu li mv mw mx lm my mz na lq nb nc nd ne bi translated">奖金:规模</h2><p id="996d" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">我们可以传给<code class="fe mi mj mk lx b">PDF</code>的另一个道具是<code class="fe mi mj mk lx b">scale</code>。使用<code class="fe mi mj mk lx b">scale</code>，我们可以管理我们的pdf文件有多大。默认情况下<code class="fe mi mj mk lx b">scale</code>为1。首先，让我们为<code class="fe mi mj mk lx b">scale</code>创建一个新的状态值。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="edeb" class="mb mc it lx b gy md me l mf mg">const [scale, setScale] = useState(1); //default to 1</span></pre><p id="2c85" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，让我们对页脚做一些修改。我们的页脚现在将包括允许用户放大到200%(真实比例为2)或缩小到10%(真实比例为0.1)的工具。我们从蚂蚁设计导入<code class="fe mi mj mk lx b">ZoomOutOutlined</code>和<code class="fe mi mj mk lx b">ZoomInOutlined</code>吧。这些是用户点击放大或缩小的图标。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="982e" class="mb mc it lx b gy md me l mf mg">import {ZoomInOutlined, ZoomOutOutlined} from '@ant-design/icons';</span></pre><p id="9bb0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在它们被导入了，让我们开始构造新的页脚。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="e595" class="mb mc it lx b gy md me l mf mg">const zoomStyle = {<br/>   marginLeft: 10,<br/>   cursor: 'pointer'<br/>}</span><span id="6867" class="mb mc it lx b gy ml me l mf mg">const footer = &lt;div className="footer"&gt;<br/>    &lt;Button onClick={()=&gt;onPage(0)}&gt;Previous&lt;/Button&gt;<br/>    &lt;div&gt;<br/>      &lt;span style={{textAlign: 'center'}}&gt;Page {page} of {pages}&lt;/span<br/>      &lt;ZoomOutOutlined style={zoomStyle} onClick={()=&gt;onSetScale(0)}/&gt;<br/>      &lt;ZoomInOutlined style={zoomStyle} onClick={()=&gt;onSetScale(1)}/&gt;<br/>      &lt;span&gt;{Math.round(scale * 100)}%&lt;/span&gt;<br/>   &lt;/div&gt;<br/>   &lt;Button onClick={()=&gt;onPage(1)}&gt;Next&lt;/Button&gt;<br/>&lt;/div&gt;</span></pre><p id="2c57" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如你所见，我们也将页面指示器移到了页脚。这是因为我们要给模型一个<code class="fe mi mj mk lx b">bodyStyle</code>道具，给它一个固定的高度，并允许任何垂直溢出的内容可以滚动。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="29db" class="mb mc it lx b gy md me l mf mg">bodyStyle={{height: 600, overflowY: 'auto'}}</span></pre><p id="9be8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我最初在<code class="fe mi mj mk lx b">pdfWrapper</code>上尝试过，但由于某种原因，如果缩放比例太高，仍然会切掉一些pdf页面。现在我们已经重新配置了<code class="fe mi mj mk lx b">Modal</code>和<code class="fe mi mj mk lx b">footer</code>来支持不断增加的规模，让我们继续我们的<code class="fe mi mj mk lx b">onSetScale</code>功能。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="b7e8" class="mb mc it lx b gy md me l mf mg">const onSetScale = (type) =&gt;{<br/>   var newScale = type ? scale + 0.1 : scale - 0.1;</span><span id="7a85" class="mb mc it lx b gy ml me l mf mg">   if (newScale &gt; 2){<br/>      newScale = 2<br/>   } else if (newScale &lt; 0.1){<br/>      newScale = 0.1<br/>   }</span><span id="8a06" class="mb mc it lx b gy ml me l mf mg">   setScale(newScale)<br/>}</span></pre><p id="6c56" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这非常类似于我们的<code class="fe mi mj mk lx b">onPage</code>函数。我最初试图合并这两者，但由于它们的最终逻辑有点不同，我认为将它们的功能分开会更简单。现在我们已经有了我们的scale UI和功能，让我们看看我们的最终产品。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/b5d53c3a2e981486a5dac82dfc1ad4ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*TUve3KZVIV6A-BzTpYVmeQ.gif"/></div></figure><p id="0063" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在你知道了。一个相对简单而健壮的<code class="fe mi mj mk lx b">react-pdf-js</code>实现，允许用户打开、导航和放大/缩小pdf。这个演示的所有代码都可以在<a class="ae ky" href="https://github.com/macro6461/react-pdf-viewer" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到。</p></div><div class="ab cl nl nm hx nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="im in io ip iq"><p id="1922" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://matt-croak.medium.com/membership" rel="noopener"> <em class="mh">点击此处，将您的免费媒体会员升级为付费会员</em> </a> <em class="mh">，每月只需5美元，您就可以获得数千名作家的无限量无广告故事。这是一个附属链接，你的会员资格的一部分帮助我为我创造的内容获得奖励。谢谢大家！</em></p><h1 id="40b9" class="ns mc it bd mo nt nu nv mr nw nx ny mu jz nz ka mx kc oa kd na kf ob kg nd oc bi translated">参考</h1><div class="od oe gp gr of og"><a href="https://github.com/macro6461/react-pdf-viewer" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">macro 6461/react-pdf-查看器</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">这是React PDF Viewer的存储库，React PDF Viewer是一个应用程序，它利用react-pdf-js Ant设计来提供一个健壮的…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">github.com</p></div></div><div class="op l"><div class="oq l or os ot op ou ks og"/></div></div></a></div><div class="od oe gp gr of og"><a href="https://github.com/mikecousins/react-pdf-js" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">mikecousins/react-pdf-js</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">react-pdf-js提供了一个使用pdf.js渲染PDF文档的组件。https://pdf.netlify.com用yarn安装…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">github.com</p></div></div><div class="op l"><div class="ov l or os ot op ou ks og"/></div></div></a></div><div class="od oe gp gr of og"><a href="https://github.com/wojtekmaj/react-pdf" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">wojtekmaj/react-pdf</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">在React应用程序中显示pdf，就像显示图像一样简单。通过执行npm install react-pdf或yarn add安装…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">github.com</p></div></div><div class="op l"><div class="ow l or os ot op ou ks og"/></div></div></a></div><div class="od oe gp gr of og"><a href="https://ant.design/components/overview/" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">组件概述- Ant设计</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">antd提供了大量的UI组件来丰富您的web应用程序，我们将改进组件体验…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">蚂蚁设计</p></div></div><div class="op l"><div class="ox l or os ot op ou ks og"/></div></div></a></div><div class="od oe gp gr of og"><a href="https://ant.design/components/modal/" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">模态蚂蚁设计</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">默认情况下，模态的状态将保留在其组件生命周期中，如果您希望用一个全新的…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">蚂蚁设计</p></div></div><div class="op l"><div class="oy l or os ot op ou ks og"/></div></div></a></div></div></div>    
</body>
</html>