# å¦‚ä½•å°†è°·æ­Œåˆ†æè´¦æˆ·é“¾æ¥åˆ° React åº”ç”¨

> åŸæ–‡ï¼š<https://levelup.gitconnected.com/how-to-link-a-google-analytics-account-to-your-react-app-f0b4dd13663c>

## åªéœ€ä¸¤æ­¥ï¼

![](img/ccbb8f4b8a51994d31e40d23b4a91c30.png)

é¦–å…ˆï¼Œæ­å–œä½ ï¼ä½ å·²å®Œæˆåº”ç”¨ç¨‹åºç¼–ç ï¼Œä½ æƒ³æ·»åŠ ä½ çš„ Google Analytics å¸æˆ·ã€‚å¤ªæ£’äº†ã€‚å¤ªæ£’äº†ã€‚

æˆ‘çŸ¥é“è¿™ä¼šå¤šä¹ˆä»¤äººå…´å¥‹ã€‚æˆ‘åˆ›å»ºäº†å¾ˆå¤šåº”ç”¨ç¨‹åºï¼Œæ¯ä¸€æ¬¡å½“å®ƒè¢«å…¬ä¹‹äºä¼—çš„æ—¶å€™ï¼Œæˆ‘éƒ½æœ‰ä¸€ç§ç§¯æçš„å…´å¥‹æ„Ÿã€‚

æˆ‘ä¸ä¼šå” å¨å¾ˆä¹…ï¼Œè®©æˆ‘ä»¬å¼€å§‹ç²¾å½©çš„éƒ¨åˆ†å§ã€‚

è®©æˆ‘ä»¬å»á••(á›)á•—å§

# ç¬¬ä¸€æ­¥:åˆ›å»ºä¸€ä¸ªè°·æ­Œåˆ†æè´¦æˆ·(å¦‚æœè¿˜æ²¡æœ‰çš„è¯)

é¦–å…ˆï¼Œè¦åœ¨ React åº”ç”¨ç¨‹åºä¸­æ·»åŠ ä¸€ä¸ª Google Analytics å¸æˆ·ï¼Œä½ æ˜¾ç„¶éœ€è¦ä¸€ä¸ª GA å¸æˆ·ï¼Œæˆ–è€…æ›´å‡†ç¡®åœ°è¯´ï¼Œéœ€è¦ä¸€ä¸ª ***è·Ÿè¸ª id*** ã€‚

*   é¦–å…ˆï¼Œè¿æ¥æˆ–åˆ›å»ºä¸€ä¸ªå¸æˆ·ï¼Œå¹¶å‰å¾€ç®¡ç†:

![](img/35252bed0104d2b1981cc3b1c381903c.png)

GA ç®¡ç†

*   ç‚¹å‡»åˆ›å»ºä¸€ä¸ªæ–°è´¦æˆ·ã€‚

![](img/b5804aa8f6e880c0398094da7600a6d7.png)

åˆ›å»ºå¸æˆ·

âš ï¸:å¦‚æœä½ å·²ç»æœ‰äº†å¦ä¸€ä¸ªç½‘ç«™çš„è´¦æˆ·ï¼Œä¸è¦æ‹…å¿ƒã€‚ä½ æƒ³åˆ›é€ å¤šå°‘å°±åˆ›é€ å¤šå°‘ï¼

*   å¡«å†™æ‰€éœ€ä¿¡æ¯:

![](img/864e939116e0ad52cf6020f825367aa5.png)

é”®å…¥å¸æˆ·è¯¦ç»†ä¿¡æ¯

*   ä¸‹ä¸€æ­¥è¶…çº§é‡è¦: ***é«˜çº§é€‰é¡¹*** ã€‚æ‚¨éœ€è¦ç¡®ä¿æ‚¨åˆ›å»ºäº†ä¸€ä¸ªé€šç”¨ IDï¼Œå¹¶ä¸”é»˜è®¤æƒ…å†µä¸‹æ˜¯ç¦ç”¨çš„ï¼Œæ‰€ä»¥è¯·ç¡®ä¿æ‚¨æ¿€æ´»äº†å®ƒã€‚å¦åˆ™ï¼Œå®ƒä¸èµ·ä½œç”¨:

![](img/a6d631caa4d5c46e2057a339702cdff8.png)

è¶…çº§é‡è¦çš„ä¸€æ­¥ï¼

*   ç°åœ¨ï¼Œä½ å®Œæˆäº†ã€‚ä½ éœ€è¦ä¿ç•™ ***è·Ÿè¸ª ID*** ä»¥åä¼šç”¨åˆ°ã€‚

![](img/ba77987b410a7b27f31cbb2a321d40a7.png)

UA-è·Ÿè¸ª ID

âš ï¸:å¦‚æœä½ æœ‰ä¸€ä¸ªä»¥ ***G-*** å¼€å¤´çš„æµ‹é‡ IDï¼Œå®ƒå°±ä¸èƒ½ä¸`ReactGA`ä¸€èµ·ä½¿ç”¨ï¼Œå› ä¸ºå®ƒä¸æ˜¯ä¸€ä¸ªä»¥ ***UA-å¼€å¤´çš„é€šç”¨ IDã€‚***

# ç¬¬ 2 æ­¥:æ£€ç´¢æ‚¨çš„è·Ÿè¸ª ID å¹¶å°†å…¶é“¾æ¥åˆ°æ‚¨çš„ React åº”ç”¨ç¨‹åºã€‚

ç°åœ¨æˆ‘ä»¬å·²ç»è·å¾—äº†è·Ÿè¸ª idï¼Œæ‚¨åªéœ€è¦åœ¨ React åº”ç”¨ç¨‹åºä¸­ä»å®¢æˆ·ç«¯è®¾ç½®æ­£ç¡®çš„é…ç½®:

*   é¦–å…ˆéœ€è¦å®‰è£…ä¸€ä¸ªè½¯ä»¶åŒ…ï¼Œå¸®åŠ©æˆ‘ä»¬å°† React åº”ç”¨ç¨‹åºè¿æ¥åˆ° GAã€‚

```
npm install --save **react-ga**
```

å…³äºè¿™ä¸ªåŒ…çš„æ›´å¤šä¿¡æ¯:[è¿™é‡Œæ˜¯å»å“ªå„¿ï¼](https://www.npmjs.com/package/react-ga)

*   ç°åœ¨æˆ‘ä»¬å·²ç»å®‰è£…äº†è¿™ä¸ªåŒ…ï¼Œä¸‹ä¸€æ­¥æ˜¯é€šè¿‡æ·»åŠ ä»¥ä¸‹å†…å®¹æ¥è·Ÿè¸ªé¡µé¢æµè§ˆé‡:

```
...
import ReactGA from 'react-ga';
ReactGA.initialize('UA-000000-01');**function** App() {useEffect(() **=>** {
    **ReactGA.pageview(window.location.pathname + window.location.search);**
}, []);return (
....
)
}
```

> åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†å¦‚ä½•è·Ÿè¸ªé¡µé¢æµè§ˆé‡ã€‚è§¦å‘äº‹ä»¶å‘¢ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦è·Ÿè¸ªå®ƒä»¬ï¼Œä¸æ˜¯å—ï¼Ÿ

äº‹å®ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥ç”¨`ReactGA`åšå¾ˆå¤šäº‹æƒ…ï¼Œæ‰€ä»¥è¯·ä¸è¦çŠ¹è±«å»æŸ¥çœ‹å’Œé˜…è¯»æ›´å¤šå…³äºå®ƒçš„å†…å®¹ã€‚å¯¹äºæˆ‘çš„äº‹ä»¶ï¼Œä»¥ä¸‹æ˜¯ç¤ºä¾‹ä»£ç :

```
**const** useGAEventsTracker = (category = 'Event Category') **=>** {

  **const** **trackEvent** = (action = 'action', label = 'label') **=>** {
      **ReactGA.event**(category, action, label);
      return **trackEvent**;
  };
};
```

æ‚¨å¯ä»¥å°†è¯¥å‡½æ•°å¤–éƒ¨åŒ–ï¼Œä»¥ä¾¿åœ¨æ¯æ¬¡æƒ³è¦è·Ÿè¸ªäº‹ä»¶æ—¶é‡ç”¨å®ƒã€‚è¦ä½¿ç”¨ï¼Œæ‚¨åªéœ€:

```
**const** eventTracker = **trackEvent**("Link triggered");
```

ç„¶ååœ¨äº‹ä»¶è§¦å‘æ—¶è§¦å‘å®ƒ:

```
<a href="..." onClick={e=eventTracker(actions)}>
...
</a>
```

æ‚¨å¯ä»¥å°†åŠ¨ä½œæ·»åŠ ä¸º***event tracker***param æˆ–è€…åªæ˜¯ä¸€ä¸ªæ ‡ç­¾æ¥æŸ¥çœ‹æ›´å¤šç»†èŠ‚ã€‚

# æœ€åï¼Œäº«å—ä½ çš„å®æ—¶è®¿å®¢ä»ªè¡¨æ¿~ á••(á›)á•—

![](img/1f36c960c8141eb2157c150f08d685c1.png)

æˆ‘è®¿é—®æˆ‘çš„æ–°ç½‘ç«™ğŸ¤£ğŸ¤£ğŸ¤£

äº²çˆ±çš„è¯»è€…ï¼Œè°¢è°¢ä½ â¤

æˆ‘å¸Œæœ›ä½ å’Œä½ çš„å®¶äººæ— è®ºåœ¨å“ªé‡Œéƒ½å¹³å®‰æ— äº‹ï¼åšæŒä½ã€‚æ˜å¤©ä¼šæ›´å¥½ï¼

**è®©æˆ‘ä»¬è”ç³»ä¸Š** [**ä¸­**](https://medium.com/@famzil/) **ï¼Œ** [**é¢†è‹±**](https://www.linkedin.com/in/fatima-amzil-9031ba95/) **ï¼Œ** [**è„¸ä¹¦**](https://www.facebook.com/The-Front-End-World) **ï¼Œæˆ–è€…** [**æ¨ç‰¹**](https://twitter.com/FatimaAMZIL9) **ã€‚**

**FAM**

![](img/ffaaf5317a0513a57eb1067843af0093.png)