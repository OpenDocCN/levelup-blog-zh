<html>
<head>
<title>More JavaScript Features We Probably Haven’t Used</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">更多我们可能还没用过的JavaScript特性</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/more-javascript-features-we-probably-havent-used-da32d500767?source=collection_archive---------10-----------------------#2020-05-21">https://levelup.gitconnected.com/more-javascript-features-we-probably-havent-used-da32d500767?source=collection_archive---------10-----------------------#2020-05-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/9e03320361e30efa857f9a01755aaa29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4y3ao3vHD40v72eN"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@danielchenjs?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">陈俊生</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="c1d0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">JavaScript有很多经常使用的特性。然而，也有一些功能可能是我们大多数人都没有用过的，因为它们中的一些可能对大多数人来说并不那么有用。</p><p id="393f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将研究其中的一些特性以及它们可能的用例。</p><h1 id="ad14" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">数组构造函数</h1><p id="62a7" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated"><code class="fe mh mi mj mk b">Array</code>构造函数允许我们创建一个数组，要么通过传入一个长度作为唯一的参数，要么传入多个参数，其中包含我们想要填充到数组中的项目。</p><p id="afed" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以如下使用<code class="fe mh mi mj mk b">Array</code>构造函数:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="addd" class="mt lf it mk b gy mu mv l mw mx">const arr = new Array(5);</span></pre><p id="7464" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们将5作为唯一的参数传递给了<code class="fe mh mi mj mk b">Array</code>构造函数。</p><p id="394d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们得到一个有5个空槽的数组。因此，<code class="fe mh mi mj mk b">arr</code>以此为值。</p><p id="c502" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还可以向<code class="fe mh mi mj mk b">Array</code>构造函数传递多个值。例如，我们可以这样写:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="443c" class="mt lf it mk b gy mu mv l mw mx">const arr = new Array(1, 2, 3);</span></pre><p id="f84d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们得到<code class="fe mh mi mj mk b">arr</code>就是<code class="fe mh mi mj mk b">[1, 2, 3]</code>。</p><p id="7765" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这可能是有用的。然而，我们需要键入的不仅仅是定义一个数组文字，所以我们也可以使用数组文字。</p><h1 id="dee5" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">函数构造函数</h1><p id="dcc2" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated"><code class="fe mh mi mj mk b">Function</code>构造函数让我们通过为参数和函数体传递字符串来创建函数。</p><p id="3ceb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们传递给<code class="fe mh mi mj mk b">Function</code>构造函数的第一个到第二个参数是参数，最后一个参数是函数体。</p><p id="d1b6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以用它创建如下函数:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="1abe" class="mt lf it mk b gy mu mv l mw mx">const add = new Function("a", "b", "return a + b")</span></pre><p id="ddec" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们传入了<code class="fe mh mi mj mk b">'a'</code>和<code class="fe mh mi mj mk b">'b'</code>来使<code class="fe mh mi mj mk b">a</code>和<code class="fe mh mi mj mk b">b</code>成为我们函数的参数。然后我们用<code class="fe mh mi mj mk b">return a + b</code>作为我们函数的主体。</p><p id="8e00" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那么我们可以这样称呼它:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="d157" class="mt lf it mk b gy mu mv l mw mx">const sum = add(1, 2);</span></pre><p id="07e4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们得到<code class="fe mh mi mj mk b">sum</code>是我们期望的3。</p><p id="0da9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">变量名是函数名，所以<code class="fe mh mi mj mk b">add</code>是函数名。</p><p id="4ac0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，这并不是定义函数的一种非常方便的方式。此外，由于所有参数都是字符串，JavaScript解释器很难进行任何优化，因为函数是动态创建的。</p><p id="5824" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，以这种方式创建函数存在性能问题。</p><p id="11f8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">Function</code>构造函数创建只在全局范围内运行的函数。</p><h1 id="b76f" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">使用<code class="fe mh mi mj mk b">length</code>属性截断数组内容</h1><p id="d2c9" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">大多数人不知道的JavaScript数组的一个特性是,<code class="fe mh mi mj mk b">length</code>属性可以被重新分配给不同的。它既是getter又是setter。</p><p id="e21d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当我们把它重新赋值给一个小于数组当前长度的值时，它会截断数组。</p><p id="c656" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，如果我们有以下数组:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="3bca" class="mt lf it mk b gy mu mv l mw mx">const arr = [1, 2, 3, 4, 5];</span></pre><p id="f58c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那么我们可以把它的长度减少到3:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="98b0" class="mt lf it mk b gy mu mv l mw mx">arr.length = 3;</span></pre><p id="f68d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们得到<code class="fe mh mi mj mk b">arr</code>是<code class="fe mh mi mj mk b">[1, 2, 3]</code>。<code class="fe mh mi mj mk b">arr</code>只是从它原来的长度5被截短为3。</p><h1 id="1c3f" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">向阵列中添加空插槽</h1><p id="9d5a" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们还可以通过将数组的长度设置为比原始长度更长来添加空槽。</p><p id="ca80" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，如果我们有与上一个示例相同的数组:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="8fcd" class="mt lf it mk b gy mu mv l mw mx">const arr = [1, 2, 3, 4, 5];</span></pre><p id="7ba8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以通过编写以下代码来增加长度:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="1cad" class="mt lf it mk b gy mu mv l mw mx">const arr = [1, 2, 3, 4, 5];<br/>arr.length = 10;</span></pre><p id="09ce" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那么我们得到<code class="fe mh mi mj mk b">arr</code>是:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="d633" class="mt lf it mk b gy mu mv l mw mx">[1, 2, 3, 4, 5, empty × 5]</span></pre><p id="38e4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在我们得到了数组中的原始项加上5个空槽，因为我们将<code class="fe mh mi mj mk b">arr</code>的<code class="fe mh mi mj mk b">length</code>属性设置为10。</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi my"><img src="../Images/81bc68fed20c7b859c771b850ff5f385.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*foNa4CbPMJiQWZI4"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">Sebastian Herrmann 在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="ec76" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">争论</h1><p id="7561" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated"><code class="fe mh mi mj mk b">arguments</code>对象是一个类似数组的iterable对象，它返回函数的参数。</p><p id="89bd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它只适用于传统功能。例如，我们可以从<code class="fe mh mi mj mk b">arguments</code>对象获得如下参数:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="3bd6" class="mt lf it mk b gy mu mv l mw mx">function foo() {<br/>  console.log(arguments);<br/>}</span></pre><p id="7da5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那么当我们这样称呼它的时候:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="3b5a" class="mt lf it mk b gy mu mv l mw mx">foo(1, 2, 3)</span></pre><p id="4c49" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们会得到这样的结果:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="e5f9" class="mt lf it mk b gy mu mv l mw mx">Arguments(3) [1, 2, 3, callee: ƒ, Symbol(Symbol.iterator): ƒ]</span></pre><p id="54cf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从控制台日志输出。因为<code class="fe mh mi mj mk b">Symbol.iterator</code>被设置为迭代器函数，正如我们从控制台日志输出中看到的，所以它是可迭代的。所以我们可以使用spread操作符将它转换成一个数组，或者对它使用<code class="fe mh mi mj mk b">for...of</code>循环。</p><p id="d973" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，如果我们需要获取没有被赋值给参数的参数，rest操作符是一个更好的选择。</p><h1 id="ecaf" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="c364" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">有一些有用的JavaScript特性。数组构造函数很有用，通过设置数组的<code class="fe mh mi mj mk b">length</code>属性来改变数组的长度也很有用。</p><p id="2322" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">像<code class="fe mh mi mj mk b">Function</code>构造函数或<code class="fe mh mi mj mk b">arguments</code>对象这样的东西就没那么有用了。</p></div></div>    
</body>
</html>