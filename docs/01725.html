<html>
<head>
<title>How to Host Your Site for Free</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何免费托管你的网站</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-host-your-site-for-free-596642b4305c?source=collection_archive---------6-----------------------#2020-01-25">https://levelup.gitconnected.com/how-to-host-your-site-for-free-596642b4305c?source=collection_archive---------6-----------------------#2020-01-25</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><figure class="gm go js jt ju jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj jr"><img src="../Images/e514b220e2589dc05d1b5a44768134f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QjvS4mIYQZsxPALPnZs6IQ.png"/></div></div></figure><p id="c898" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">对于前端开发人员来说，历史上最难做好的事情之一就是虚拟主机。找出部署代码的最佳方式、用SSL证书保护代码、意外部署bug以及许多其他问题。</p><p id="cc36" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">幸运的是，在过去的几年里，托管解决方案出现了爆炸式的增长，这种解决方案将web托管的大部分工作都去掉了。今天我们将讨论Firebase托管。如果你们从未听说过<a class="ae la" href="https://firebase.google.com" rel="noopener ugc nofollow" target="_blank"> Firebase </a>，我强烈建议你们去看看。</p><h1 id="0043" class="lb lc iu bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">一点历史</h1><figure class="ma mb mc md gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj lz"><img src="../Images/fd7171ce1eaeddc9436dbb0e013705b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*FEZwlQY-yTPrB-1A.png"/></div></div><figcaption class="me mf gk gi gj mg mh bd b be z dk translated">旧的Firebase标志</figcaption></figure><p id="1127" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">在我们进入杂草之前，我想指出一点历史来给你一些关于Firebase的背景。Firebase由一家名为Envolve的初创公司发展而来，该公司为开发人员提供了一个API来构建实时聊天应用程序。虽然它是为了同步聊天应用程序，但他们开始注意到开发人员用它做了很多事情。开发人员意识到，他们可以轻松地在整个设备主机上同步游戏或其他应用程序的状态。发布后，他们添加了托管和认证。</p><p id="53fc" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">Firebase很快在2014年被谷歌收购，服务变得更大、更好、更便宜。今天，Firebase是谷歌云平台的扩展，做了更多的事情。Firebase的服务涵盖了虚拟主机、无服务器计算、无服务器NoSQL数据库(Firestore和实时数据库)、机器学习，甚至分析。</p><h1 id="3cf9" class="lb lc iu bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">为什么Firebase托管很棒</h1><figure class="ma mb mc md gu jv gi gj paragraph-image"><div class="ab gv cl mi"><img src="../Images/a0bc7083da0821a162688da0d6679c17.png" data-original-src="https://miro.medium.com/v2/format:webp/1*W0f0TtR3hmdN-7QF4zY1bA.png"/></div></figure><p id="58da" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">现在我们已经了解了Firebase平台的一些历史，让我们进入主题，托管。我个人已经使用Firebase主机多年，我还没有找到一个更好的解决方案。那么是什么让Firebase主机比它的竞争对手更好呢？</p><h2 id="e91b" class="mj lc iu bd ld mk ml dn lh mm mn dp ll kn mo mp lp kr mq mr lt kv ms mt lx mu bi translated">简易CLI</h2><p id="8f06" class="pw-post-body-paragraph kc kd iu ke b kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv mz kx ky kz in bi translated">Firebase有一个非常容易使用的CLI工具用于部署。要安装CLI，您只需在系统上运行<code class="fe na nb nc nd b">npm i -g firebase-tools</code>。安装完成后，你可以用<code class="fe na nb nc nd b">firebase login</code>登录你的谷歌账户，这将打开你的浏览器并使用谷歌OAuth。一旦你登录，你可以用<code class="fe na nb nc nd b">firebase init</code>命令初始化你的项目。您选择您的Firebase项目，选择您想要设置的内容，并为您的托管环境选择几个选项(单页面设置与否)。</p><p id="a902" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">安装完成后，将在您为部署指定的路径中创建一个新文件夹。你所要做的就是运行<code class="fe na nb nc nd b">firebase deploy</code>命令，然后离开你的站点。一旦部署完成，您可以立即看到您的网站！完成所有这些步骤大约需要10分钟，然后托管就完成了。</p><h2 id="00b6" class="mj lc iu bd ld mk ml dn lh mm mn dp ll kn mo mp lp kr mq mr lt kv ms mt lx mu bi translated">免费SSL证书</h2><p id="1ad4" class="pw-post-body-paragraph kc kd iu ke b kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv mz kx ky kz in bi translated">今天，使用SSL保护您的网站变得越来越重要。然而，如果你想托管一个爱好网站，个人网站，或其他东西，SSL可能有点贵。一个Comodo SSL可以让你在任何地方花费60-100美元，这取决于你是否需要一个外卡。一旦你有了SSL证书，设置它就有点麻烦了。更重要的是，如果你的网站没有SSL证书，谷歌宣布你的网站可能不会出现在搜索结果中。这是为了促进人们保护他们的网站。</p><p id="a1ef" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">Firebase让您100%摆脱麻烦和成本。所有托管在Firebase上的网站都可以获得免费的SSL证书。最棒的是它是自动发生的。没有设置或配置，你必须摆弄。老实说，SSL证书是我作为自由web开发人员工作时遇到的最大的麻烦之一。自从上了Firebase平台，我就再也不用担心这个问题了。</p><h2 id="988e" class="mj lc iu bd ld mk ml dn lh mm mn dp ll kn mo mp lp kr mq mr lt kv ms mt lx mu bi translated">自由定制域</h2><p id="0d63" class="pw-post-body-paragraph kc kd iu ke b kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv mz kx ky kz in bi translated">马上，Firebase给你两个不同的域名</p><ol class=""><li id="f53b" class="ne nf iu ke b kf kg kj kk kn ng kr nh kv ni kz nj nk nl nm bi translated">{我的项目名称}.web.app</li><li id="5a68" class="ne nf iu ke b kf nn kj no kn np kr nq kv nr kz nj nk nl nm bi translated">{我的项目名称}.firebaseapp.com</li></ol><p id="7064" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">如果你正在制作一个网站，很可能你已经为它购买了一个域名。免费虚拟主机和免费SSL证书是很棒的，但我们也需要用我们的自定义域名来标记网站。别担心，Firebase会保护你。你可以设置一个完全免费的自定义域名。您所要做的就是在域名提供商的DNS中添加一个条目，并给Firebase几个小时的时间来验证该条目是否已被添加。完成后，你的网站就可以使用你想要的自定义域名了。哦，还有一件事，你的自定义域名还获得一个免费的SSL证书。</p><h2 id="d89e" class="mj lc iu bd ld mk ml dn lh mm mn dp ll kn mo mp lp kr mq mr lt kv ms mt lx mu bi translated">一键回滚部署历史记录</h2><p id="804b" class="pw-post-body-paragraph kc kd iu ke b kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv mz kx ky kz in bi translated">Firebase保存了托管环境中所有部署的历史记录。假设我们不小心部署了一个有bug的站点版本。试图找出错误在哪里以及如何修复它可能是一件非常头疼的事情。像大多数事情一样，Firebase使这个问题很容易解决。您只需点击一下鼠标，即可查看部署历史并回滚到以前的版本。灾难避免了，我们不用紧急行动就能修复漏洞。</p><h2 id="141d" class="mj lc iu bd ld mk ml dn lh mm mn dp ll kn mo mp lp kr mq mr lt kv ms mt lx mu bi translated">在一个项目中托管多个站点</h2><p id="d4be" class="pw-post-body-paragraph kc kd iu ke b kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv mz kx ky kz in bi translated">有时，当我们创建一个项目时，我们需要托管多个站点。例如，假设我们有一个面向客户的应用程序和一个管理应用程序。我们可以启动一个新的Firebase项目来托管管理应用程序，但这听起来并不是一个很好的解决方案。幸运的是，2018年Firebase创建了多站点托管。</p><figure class="ma mb mc md gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj ns"><img src="../Images/3eb691c6ba9ebcd469f9390fe25b3de3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ExdkXO8c7MzYdhJ53R2q5A.png"/></div></div></figure><p id="854b" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">当你点击主机选项卡，滚动到底部，你会看到上面的卡。最棒的是Firebase CLI允许您通过一个简单的命令轻松配置本地托管环境。</p><p id="b90d" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated"><code class="fe na nb nc nd b">firebase target:apply hosting &lt;target-name&gt; &lt;resource-name&gt;</code></p><p id="9d15" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">因此，如果我们有我们的客户应用程序和我们的管理应用程序，我们会这样做。</p><pre class="ma mb mc md gu nt nd nu nv aw nw bi"><span id="92fe" class="mj lc iu nd b gz nx ny l nz oa">firebase target:apply hosting customer {MY PROJECT NAME}<br/>firebase target:apply hosting admin admin-{MY PROJECT NAME}</span></pre><p id="dbc9" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">这将自动更新您的本地主机配置，所以你不必担心它。然后，您可以同时部署两个站点，或者一次部署一个。</p><pre class="ma mb mc md gu nt nd nu nv aw nw bi"><span id="c879" class="mj lc iu nd b gz nx ny l nz oa">firebase deploy --only hosting // deploy all sites</span><span id="9851" class="mj lc iu nd b gz ob ny l nz oa">firebase deploy --only hosting:customer // deploy customer site</span><span id="0566" class="mj lc iu nd b gz ob ny l nz oa">firebase deploy --only hosting:admin // deploy admin site</span></pre><p id="2258" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">就像魔术一样，你的两个网站都托管在同一个项目上，拥有自己的自定义域名和免费的SSL证书。</p><h2 id="c586" class="mj lc iu bd ld mk ml dn lh mm mn dp ll kn mo mp lp kr mq mr lt kv ms mt lx mu bi translated">本地测试</h2><p id="7084" class="pw-post-body-paragraph kc kd iu ke b kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv mz kx ky kz in bi translated">我们喜欢测试我们的代码，Firebase让它变得简单。一旦您的代码构建到部署目录中，您只需运行<code class="fe na nb nc nd b">firebase serve</code>或<code class="fe na nb nc nd b">firebase serve --only hosting</code>，firebase将在本地为您的站点提供服务。这可以帮助您测试您构建的代码，并确保一旦托管在Firebase上，一切都将正常运行。</p><h2 id="815f" class="mj lc iu bd ld mk ml dn lh mm mn dp ll kn mo mp lp kr mq mr lt kv ms mt lx mu bi translated">轻松集成CI/CD</h2><p id="3ce4" class="pw-post-body-paragraph kc kd iu ke b kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv mz kx ky kz in bi translated">当我们在存储库上执行某些操作时，CI/CD管道帮助我们毫不费力地测试和部署我们的代码。我们需要能够从我们的CI/CD管道中部署代码，像往常一样，Firebase使这变得容易。我们可以使用<code class="fe na nb nc nd b">firebase login:ci</code>获取一个Firebase CI令牌，并通过相同的Google OAuth流程。然后，我们将在终端中获得一个令牌，我们可以将其复制并粘贴到我们的CI/CD平台中。由于<code class="fe na nb nc nd b">firebase-tools</code>包可以通过npm安装，我们可以很容易地将其作为开发依赖项安装到我们的项目中，以便在CI/CD管道中使用。</p><h2 id="6e91" class="mj lc iu bd ld mk ml dn lh mm mn dp ll kn mo mp lp kr mq mr lt kv ms mt lx mu bi translated">与其他Firebase服务轻松集成</h2><p id="a663" class="pw-post-body-paragraph kc kd iu ke b kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv mz kx ky kz in bi translated">Firebase附带了大量有用的服务，我们可以用它们来制作一个完整的应用程序。这些服务之一是Firebase功能，它是无服务器功能。我们可以从这些函数中托管一个API，看起来就像是<code class="fe na nb nc nd b"><a class="ae la" href="https://us-central1-dev-ocean-goal.cloudfunctions.net/AuthAPI" rel="noopener ugc nofollow" target="_blank">https://us-central1-{MY PROJECT NAME}.cloudfunctions.net/</a>API</code>。如果我们想让这个API使用我们的自定义域名，这是完全可能的。Firebase托管配置文件<a class="ae la" href="https://firebase.google.com/docs/hosting/full-config#direct_requests_to_a_function" rel="noopener ugc nofollow" target="_blank">为我们提供了一个重写数组</a></p><pre class="ma mb mc md gu nt nd nu nv aw nw bi"><span id="698d" class="mj lc iu nd b gz nx ny l nz oa">"hosting": {<br/>  // ...<br/><br/>  // Add the "rewrites" attribute within "hosting"<br/>  "rewrites": [ {<br/>    "source": "/api",<br/>    "function": "api"<br/>  } ]<br/>}</span></pre><p id="5ff1" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">现在从<code class="fe na nb nc nd b">https://{MY CUSTOM DOMAIN NAME}.com/api</code>可以调用该功能。</p><p id="e276" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">Firebase函数有一些限制，因为您只能使用NodeJS、Python或Golang。然而，谷歌不久前宣布了最新的无服务器产品云运行。Cloud Run毫不费力地管理你给它的任何Docker容器，这样你就可以部署你想要的任何代码。我们还可以利用重写为我们的云运行容器提供一个自定义的URL。在这里，你可以做更多关于<a class="ae la" href="https://firebase.google.com/docs/hosting/full-config" rel="noopener ugc nofollow" target="_blank">的事情，但这些是我个人最喜欢的与其他Firebase产品的集成。</a></p><h1 id="92ad" class="lb lc iu bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">包扎</h1><p id="a77a" class="pw-post-body-paragraph kc kd iu ke b kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv mz kx ky kz in bi translated">如果你正在寻找一种服务来托管你的网站，不用再找了。Firebase已经能够添加这么多有用的功能，并使它们易于使用。简而言之，Firebase抽象出了很多通常令人头疼的东西，让我们能够专注于真正重要的东西。在下一篇Firebase文章中，我将介绍另一个很棒的Firebase产品，身份验证。我希望你们受到启发，走出去，为你们的下一个项目尝试Firebase hosting。</p><p id="5a18" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">如果你喜欢这篇文章，我希望你<a class="ae la" href="https://email.sam-redmond.com/" rel="noopener ugc nofollow" target="_blank">加入我的邮件列表</a>，在那里我会发送额外的提示&amp;技巧！</p><p id="e3ea" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">如果你觉得这篇文章有帮助、有趣或娱乐性<a class="ae la" href="https://email.sam-redmond.com/products/throw-me-a-bit" rel="noopener ugc nofollow" target="_blank">请给我买杯咖啡</a>来帮助我继续发布内容！</p></div></div>    
</body>
</html>