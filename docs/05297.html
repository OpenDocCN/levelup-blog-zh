<html>
<head>
<title>Animations with JavaScript, React and GSAP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">动画与JavaScript，反应和GSAP</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/animations-with-gsap-javascript-and-react-82903487f0f1?source=collection_archive---------16-----------------------#2020-08-17">https://levelup.gitconnected.com/animations-with-gsap-javascript-and-react-82903487f0f1?source=collection_archive---------16-----------------------#2020-08-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/ce0a9e3b6a19891e4f8c56b95977ac45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*g9ZkV63wrZcAU_5e"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@aaronburden?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">亚伦·伯顿</a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="72be" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果说我在向非技术类的朋友和家人展示我的网站时学到了什么，那就是:他们从来不会对WebSockets或Ruby Gems或你刚刚学到的任何新技术留下深刻印象——他们只是喜欢你主页上花哨的JavaScript动画。老实说，我明白为什么。没有什么比点击一个网站，在你与它互动的时候，看着令人满意的动画出现在页面上更好的了。它可以在改善用户体验方面做很多事情，并且它是一种给你的网站添加一些铃铛和口哨的非常有趣的方式。因此，在本教程中，我将向你展示如何使用我最喜欢的JavaScript动画库之一:<a class="ae kc" href="https://greensock.com/" rel="noopener ugc nofollow" target="_blank"> GreenSock动画平台</a>(或GSAP)。</p><p id="de7d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">GSAP有大量有用的工具，它可以让你的网站变成动画天堂，让你的技术和非技术朋友们惊叹不已。GSAP有如此多的功能，以至于开始可能会令人生畏，但是一旦你掌握了基础知识，你就很难阻止自己在你的网站上制作动画了！</p><h1 id="5375" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">安装GSAP</h1><p id="f512" class="pw-post-body-paragraph kd ke iq kf b kg ma ki kj kk mb km kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">我喜欢用npm安装GSAP。如果你喜欢使用yarn或其他方法，查看GSAP文档中的<a class="ae kc" href="https://greensock.com/docs/v3/Installation" rel="noopener ugc nofollow" target="_blank">各种安装方法</a>。</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="8d66" class="mo ld iq mk b gy mp mq l mr ms">$ npm install gsap</span></pre><p id="acf9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，您将在要制作动画的文件的开头导入GSAP:</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="3814" class="mo ld iq mk b gy mp mq l mr ms">import { gsap } from 'gsap'</span></pre><p id="1cb2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在你的文件可以调用GSAP方法了。</p><h1 id="752f" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">用GSAP制作动画</h1><p id="bf9e" class="pw-post-body-paragraph kd ke iq kf b kg ma ki kj kk mb km kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">最容易上手的GSAP方法是<code class="fe mt mu mv mk b">gsap.to()</code>。对于第一个示例，我们要做的就是将一个框向右滑动300像素:</p><figure class="mf mg mh mi gt jr"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="1d8b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是使用componentDidMount中的以下代码创建的:</p><figure class="mf mg mh mi gt jr"><div class="bz fp l di"><div class="my mx l"/></div></figure><p id="f2fb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我将这段代码放在componentDidMount函数中，因为我希望动画在页面加载时立即触发，但是如果您希望它在单击时触发，您可以将<code class="fe mt mu mv mk b">gsap.to()</code>函数绑定到一个带有事件侦听器的按钮上(我将在最后解释如何实现)。</p><p id="4176" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mk b">gsap.to()</code>函数有两个参数:<strong class="kf ir">目标元素</strong>和<strong class="kf ir">变量</strong>。首先，您要制作动画的元素是属性的目标。它可以是一个类名，id，标签，你能想到的。使<code class="fe mt mu mv mk b">gsap.to()</code>函数如此强大的部分原因是它能够操纵几乎任何DOM元素。第二个参数描述了您想要创建的动画。在我的动画中，我将橙色框向右滑动300像素，所以我将“x”值设置为300。第二个变量描述了我希望事件发生多长时间。您可以通过操作持续时间来使框在页面上缩放或爬行。</p><h1 id="23de" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">一些有用的变量</h1><p id="0cc4" class="pw-post-body-paragraph kd ke iq kf b kg ma ki kj kk mb km kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">好了，现在我们已经有了一个简单的动画，我们可以检查几个变量了！</p><h2 id="7270" class="mo ld iq bd le mz na dn li nb nc dp lm ko nd ne lq ks nf ng lu kw nh ni ly nj bi translated">1.旋转</h2><p id="9fce" class="pw-post-body-paragraph kd ke iq kf b kg ma ki kj kk mb km kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">旋转变量是不言自明的。它接受您想要旋转元素的度数，并在持续时间中指定的秒数内完成旋转。</p><h2 id="d994" class="mo ld iq bd le mz na dn li nb nc dp lm ko nd ne lq ks nf ng lu kw nh ni ly nj bi translated">2.缓解</h2><p id="ab6e" class="pw-post-body-paragraph kd ke iq kf b kg ma ki kj kk mb km kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">ease变量影响每个动画的定时，它创建了一些非常惊人的效果。理解每个案例最简单的方法是使用文档中的<a class="ae kc" href="https://greensock.com/docs/v3/Eases" rel="noopener ugc nofollow" target="_blank"> GreenSock Ease Visualizer </a>工具。我最喜欢的是弹跳和弹性。</p><h2 id="a015" class="mo ld iq bd le mz na dn li nb nc dp lm ko nd ne lq ks nf ng lu kw nh ni ly nj bi translated"><strong class="ak"> 3。重复</strong></h2><p id="2ae8" class="pw-post-body-paragraph kd ke iq kf b kg ma ki kj kk mb km kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">如果你想让一个动画自己循环，重复变量是很好的。它可以作为一个变量使用，也可以在你想要循环的动画之后链接。如果您想无限循环，只需将其设置为-1。如果你想在动画中持续计时，不要忘记设置你的ease变量为“none”。</p><h2 id="8dc1" class="mo ld iq bd le mz na dn li nb nc dp lm ko nd ne lq ks nf ng lu kw nh ni ly nj bi translated"><strong class="ak"> 4。Yoyo </strong></h2><p id="361e" class="pw-post-body-paragraph kd ke iq kf b kg ma ki kj kk mb km kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">溜溜球是持续运动的另一个重要变量。当与repeat变量结合使用时，您的动画将在每次重复迭代中来回循环，从而创建一个yoyo效果。YoyoEase变量也可用于控制yoyo效果的计时。</p><h2 id="d0d4" class="mo ld iq bd le mz na dn li nb nc dp lm ko nd ne lq ks nf ng lu kw nh ni ly nj bi translated"><strong class="ak"> 5。延迟</strong></h2><p id="3ebe" class="pw-post-body-paragraph kd ke iq kf b kg ma ki kj kk mb km kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">最后，delay变量设置事件触发和动画播放之间的延迟秒数。</p><p id="9f81" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是一个使用所有这些变量的动画:</p><figure class="mf mg mh mi gt jr"><div class="bz fp l di"><div class="mw mx l"/></div></figure><h1 id="cfee" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">播放、暂停、倒退和重启按钮</h1><p id="e66e" class="pw-post-body-paragraph kd ke iq kf b kg ma ki kj kk mb km kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">GSAP给我们的最后一个方便的工具是播放、暂停、倒退和重启功能。这些可以在你的网站中使用，在点击时给用户反馈。我将向您展示如何使用按钮和React来实现它们。</p><p id="2908" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，在构造函数中定义“box”和“boxAnimation”。</p><figure class="mf mg mh mi gt jr"><div class="bz fp l di"><div class="my mx l"/></div></figure><p id="a39c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这些值最初被设置为null，直到您的render和componentDidMount函数触发时它们才存在。接下来，在渲染块中创建将要制作动画的盒子和每个动作的按钮。</p><figure class="mf mg mh mi gt jr"><div class="bz fp l di"><div class="my mx l"/></div></figure><p id="cf64" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">请注意，在box-div中，我们使用ref函数将“this.box”设置为等于刚刚创建的div。我们还为每个按钮创建了onClick函数，调用动画所需的函数。</p><p id="f968" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们将在componentDidMount函数中定义我们的GSAP动画:</p><figure class="mf mg mh mi gt jr"><div class="bz fp l di"><div class="my mx l"/></div></figure><p id="98ef" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这里，我们设置“this.boxAnimation”等于我们的GSAP动画，默认为暂停。这是我们的结果:</p><figure class="mf mg mh mi gt jr"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="1f88" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">感谢阅读！</p></div></div>    
</body>
</html>