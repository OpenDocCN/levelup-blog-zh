<html>
<head>
<title>Linux 101: File Permissions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Linux 101:文件权限</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/linux-file-permissions-explained-970eaf11faac?source=collection_archive---------5-----------------------#2022-06-18">https://levelup.gitconnected.com/linux-file-permissions-explained-970eaf11faac?source=collection_archive---------5-----------------------#2022-06-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="3104" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">Linux基础知识</h2><div class=""/><figure class="gl gn jx jy jz ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi jw"><img src="../Images/98e442fdf8bb075cbc94ef1c3953779c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wu1t8EMYSdzzPqqXDj2tlg.png"/></div></div></figure><p id="de92" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">对于任何使用Linux的人来说，文件权限是一个需要理解的重要概念。权限是一组属性(以及所有权)，用于控制用户和系统进程对文件的访问级别。它是一种安全机制，确保只有授权的用户和进程才能访问某些文件和目录。</p></div><div class="ab cl lf lg hu lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="ij ik il im in"><h1 id="2ef8" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">权限组</h1><p id="3898" class="pw-post-body-paragraph kh ki iq kj b kk mk km kn ko ml kq kr ks mm ku kv kw mn ky kz la mo lc ld le ij bi translated">Linux中的所有文件和目录都分配有三个权限组。该组中的每一个都可以被分配不同的访问级别。这三组如下:</p><ul class=""><li id="dbf3" class="mp mq iq kj b kk kl ko kp ks mr kw ms la mt le mu mv mw mx bi translated"><strong class="kj ja">用户</strong>:该组代表文件或目录的所有者，即创建文件或目录的用户或进程。</li><li id="f456" class="mp mq iq kj b kk my ko mz ks na kw nb la nc le mu mv mw mx bi translated"><strong class="kj ja">群组</strong>:群组就是一群用户。一个Linux系统可以有多个用户，并说这些用户需要被分配权限，而不是一次一个地为他们设置权限，我们可以将他们全部添加到一个组中。在组级别应用的权限会传播给该组中的所有用户。因此，此处分配的权限适用于与文件或目录属于同一组的所有用户。</li><li id="0e80" class="mp mq iq kj b kk my ko mz ks na kw nb la nc le mu mv mw mx bi translated"><strong class="kj ja">其他</strong>:为该组指定的权限适用于系统中不是文件所有者且不属于文件或目录所有者组的所有人。</li></ul></div><div class="ab cl lf lg hu lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="ij ik il im in"><h1 id="5b93" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">文件所有权</h1><p id="8d36" class="pw-post-body-paragraph kh ki iq kj b kk mk km kn ko ml kq kr ks mm ku kv kw mn ky kz la mo lc ld le ij bi translated">在我们进入权限集之前，让我们快速浏览一下文件所有权。Linux中的每个文件和目录都属于一个用户和组。我们可以使用<strong class="kj ja"> ls </strong>命令查看这些信息</p><figure class="ne nf ng nh gt ka gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/338df14136996044cd17c68539782870.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*Y7f_zjGRf5pX_2mwFTD_lA.png"/></div></figure><p id="8177" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">请注意突出显示的部分，第一列表示文件的所有者，第二列表示拥有该文件的组。一个文件或目录只能由一个组拥有。</p><p id="9a4b" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">要查看我们所属的组，我们可以使用<strong class="kj ja"> id </strong>或<strong class="kj ja"> groups </strong>命令</p><figure class="ne nf ng nh gt ka gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/d842007ea5b1d699f47bf4d506469303.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*HSTBECdLBZG-pHOAsK_zWg.png"/></div></figure><p id="926f" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">请注意id命令输出的数值，这是分配给系统中每个用户和组的数值。用户属于多个组也是完全有效的，这可以在id和groups命令的输出中看到。显示为UID(用户ID)的值是系统用户的名称，而显示为GID(组ID)的值是用户的<strong class="kj ja">主组</strong>。当用户创建任何文件或目录时，默认情况下该文件或目录将归该组所有。</p></div><div class="ab cl lf lg hu lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="ij ik il im in"><h1 id="b6eb" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">权限集</h1><p id="2d2b" class="pw-post-body-paragraph kh ki iq kj b kk mk km kn ko ml kq kr ks mm ku kv kw mn ky kz la mo lc ld le ij bi translated">有三种权限可以分配给每个文件或目录。这些权限是读、写和执行。</p><figure class="ne nf ng nh gt ka"><div class="bz fp l di"><div class="ni nj l"/></div><figcaption class="nk nl gj gh gi nm nn bd b be z dk translated">Linux权限及其对文件和目录的意义</figcaption></figure><figure class="ne nf ng nh gt ka gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/109219a07f7e0d821710a919326dfaf3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*lz10t_j6gscDJjbK6IxzIA.png"/></div></figure><p id="7a8c" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">回到之前的输出，现在让我们关注第一列。请注意，对于每个文件和目录，该列中始终有10位。第一位用于表示文件的类型。在这个位置的一个<strong class="kj ja"> d </strong>代表一个目录，而一个连字符(<strong class="kj ja"> - </strong>)将意味着一个普通的文件。</p><blockquote class="no np nq"><p id="c238" class="kh ki nr kj b kk kl km kn ko kp kq kr ns kt ku kv nt kx ky kz nu lb lc ld le ij bi translated"><strong class="kj ja">注意</strong>:在这个位置还可以找到一些其他的值，比如b、c、s、p、l，这些用来表示文件类型，不在本讨论的范围之内。这些文件类型只有当人们在系统中寻找时才会遇到。</p></blockquote><p id="4805" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">剩余的9位被分成3组，每组3位。第一组3位代表所有者的许可。下一组代表拥有该文件的组的权限，最后3位代表适用于系统中其他每个人的权限。</p><p id="e794" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">3组中每组的第一个位置可以具有值r(读)，第二个位置可以具有值w(写)，最后一位可以具有值x(执行)。如果9位中的任何一位有连字符(-)，则意味着没有设置权限。</p><figure class="ne nf ng nh gt ka gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/82e508236aa8ea9ade249bb24e04410f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/format:webp/1*zamuIOqwVon7v8TTugMyrQ.png"/></div></figure><p id="2077" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">回到图像，让我们试着运用我们所学的知识，试着更清楚地理解图像。我们可以看到有8个目录和1个普通文件(通过查看permissions列的第一位推断出来)。目录为所有者设置了读取、写入和执行位，为所有者组设置了读取和执行位，为其他用户设置了相同的位(读取和执行)。大多数目录(其中7个)归用户“david”所有，属于组“david ”,而其中一个目录归用户“root”所有，属于组“root”。对于映像中唯一的文件，所有者设置了读取和写入位，所有者组和其他用户仅设置了读取位。该文件归“root”用户和“root”组所有。</p><blockquote class="no np nq"><p id="d2eb" class="kh ki nr kj b kk kl km kn ko kp kq kr ns kt ku kv nt kx ky kz nu lb lc ld le ij bi translated"><strong class="kj ja">注意</strong>:第一个&amp;第二个目录是特殊目录。句号(。)表示当前工作目录，而双句点(..)表示当前目录的父目录</p></blockquote><p id="6fcf" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">权限也可以用数字形式表示:读(4)、写(2)、执行(1)和无权限(0)。这些权限可以添加在一起，表示如下所示的复杂权限</p><figure class="ne nf ng nh gt ka"><div class="bz fp l di"><div class="ni nj l"/></div><figcaption class="nk nl gj gh gi nm nn bd b be z dk translated">Linux权限的数字表示</figcaption></figure></div><div class="ab cl lf lg hu lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="ij ik il im in"><h1 id="5b4f" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">授予和撤销权限</h1><p id="e6a1" class="pw-post-body-paragraph kh ki iq kj b kk mk km kn ko ml kq kr ks mm ku kv kw mn ky kz la mo lc ld le ij bi translated">使用<strong class="kj ja"> chmod </strong>(更改模式)命令可以更改文件的权限。有两种方法可以设置文件的权限——符号方法和数字方法。</p><h2 id="b8f0" class="nw ln iq bd lo nx ny dn ls nz oa dp lw ks ob oc ma kw od oe me la of og mi iw bi translated">符号方法</h2><p id="1691" class="pw-post-body-paragraph kh ki iq kj b kk mk km kn ko ml kq kr ks mm ku kv kw mn ky kz la mo lc ld le ij bi translated">这种方法要求我们明确而详细地指定需要对文件应用的权限。它具有以下一般形式:</p><pre class="ne nf ng nh gt oh oi oj ok aw ol bi"><span id="5aca" class="nw ln iq oi b gy om on l oo op">chmod WhoWhatWhich filename</span></pre><ul class=""><li id="b444" class="mp mq iq kj b kk kl ko kp ks mr kw ms la mt le mu mv mw mx bi translated"><strong class="kj ja">谁</strong>:用户，组，其他，所有(u，g，o，a)</li><li id="44b2" class="mp mq iq kj b kk my ko mz ks na kw nb la nc le mu mv mw mx bi translated"><strong class="kj ja">什么</strong>:添加，删除，精确(+，-，=)</li><li id="dcd4" class="mp mq iq kj b kk my ko mz ks na kw nb la nc le mu mv mw mx bi translated"><strong class="kj ja">哪个</strong>:读，写，执行(r，w，x)</li></ul><figure class="ne nf ng nh gt ka gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/2ff140db59c976f09de7be2d505eb613.png" data-original-src="https://miro.medium.com/v2/resize:fit:1048/format:webp/1*xjvoXDNemTR-sl2Q9jo9mA.png"/></div></figure><p id="674b" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">我们有一个名为<code class="fe or os ot oi b">test-file.txt</code>的文件，现在让我们更改该文件的权限，以便所有者和其他权限组可以拥有读取、写入和执行权限。</p><figure class="ne nf ng nh gt ka gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/4ba5ce5a2551f982186dc6c2542eb802.png" data-original-src="https://miro.medium.com/v2/resize:fit:1054/format:webp/1*y1oOiVwXaxVKhmUnLxuVgg.png"/></div></figure><p id="b51f" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">每个组的权限也可以用逗号分隔的值单独分配。</p><pre class="ne nf ng nh gt oh oi oj ok aw ol bi"><span id="9135" class="nw ln iq oi b gy om on l oo op">sudo chmod u=rwx,o=rwx test-file.txt</span></pre><p id="df6c" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">如果我们想要添加或删除某些权限，可以使用加号(+)和减号(-)。等号(=)将权限精确地设置为用户指定的值。</p><h2 id="a978" class="nw ln iq bd lo nx ny dn ls nz oa dp lw ks ob oc ma kw od oe me la of og mi iw bi translated">数值方法</h2><p id="8f32" class="pw-post-body-paragraph kh ki iq kj b kk mk km kn ko ml kq kr ks mm ku kv kw mn ky kz la mo lc ld le ij bi translated">在这种方法中，我们利用前面讨论过的权限的数字表示。我们需要指定三个数字，第一个代表所有者的权限，第二个代表所有者组的权限，第三个代表分配给所有其他用户的权限。</p><pre class="ne nf ng nh gt oh oi oj ok aw ol bi"><span id="e49a" class="nw ln iq oi b gy om on l oo op">chmod ### file</span></pre><p id="dc84" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">在我们设置示例之前，让我们使用符号方法将文件的权限重置为其原始权限，然后尝试使用数字方法设置相同的权限。</p><figure class="ne nf ng nh gt ka gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/49e8f78b91566e16d509547dba4b85b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1050/format:webp/1*HJnUoT57oCGSQdVbEHB_lg.png"/></div></figure><figure class="ne nf ng nh gt ka gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/b988348a3dcb1bfec69886757deadc16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1058/format:webp/1*xPJqS__NuZWDp3WHdYDRYg.png"/></div></figure><p id="dfc5" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">正如我们所看到的，使用这种方法，我们可以非常快速和优雅地设置文件的权限。</p><figure class="ne nf ng nh gt ka gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/c1b5be2b2f29afbaf0aa0abc56fa65de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*lA49ZOikqLocyh8ArZxueQ.png"/></div></figure><p id="b9a8" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">最后，权限是Linux系统的一个重要部分，理解它对于有效地使用Linux非常重要。我们研究了什么是权限组和权限集。然后我们走了一个小弯路去了解组和文件所有权。然后，我们探讨了可以用来更改文件和目录权限的两种方法:符号和数字。</p></div><div class="ab cl lf lg hu lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="ij ik il im in"><h2 id="16b8" class="nw ln iq bd lo nx ny dn ls nz oa dp lw ks ob oc ma kw od oe me la of og mi iw bi translated">参考</h2><ul class=""><li id="66d6" class="mp mq iq kj b kk mk ko ml ks oy kw oz la pa le mu mv mw mx bi translated"><a class="ae pb" href="https://linuxize.com/post/understanding-linux-file-permissions/" rel="noopener ugc nofollow" target="_blank">https://linuxize . com/post/understanding-Linux-file-permissions/</a></li><li id="4bf5" class="mp mq iq kj b kk my ko mz ks na kw nb la nc le mu mv mw mx bi translated"><a class="ae pb" href="https://www.thegeekdiary.com/understanding-basic-file-permissions-and-ownership-in-linux/" rel="noopener ugc nofollow" target="_blank">https://www . the geekdiary . com/understanding-basic-file-permissions-and-ownership-in-Linux/</a></li><li id="90f9" class="mp mq iq kj b kk my ko mz ks na kw nb la nc le mu mv mw mx bi translated"><a class="ae pb" href="https://linuxfoundation.org/blog/classic-sysadmin-understanding-linux-file-permissions/" rel="noopener ugc nofollow" target="_blank">https://Linux foundation . org/blog/classic-sysadmin-understanding-Linux-file-permissions/</a></li></ul></div></div>    
</body>
</html>