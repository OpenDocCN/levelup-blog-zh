<html>
<head>
<title>How To Make A Polyline With Multiple Markers On React Google Maps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在React谷歌地图上制作多标记折线</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-make-a-polyline-with-multiple-markers-on-react-google-maps-3c1cdb64de76?source=collection_archive---------3-----------------------#2020-09-08">https://levelup.gitconnected.com/how-to-make-a-polyline-with-multiple-markers-on-react-google-maps-3c1cdb64de76?source=collection_archive---------3-----------------------#2020-09-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="4055" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我是一名高尔夫球手，但由于我的技术非常业余，我自然会使用我能找到的任何应用程序来帮助我的比赛，无论是练习还是打球。我一直被吸引的一点是在地图上看到路径和距离的能力，就像这样。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/a6fdcdf4cfe626d62d5c30d13312dc66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ji42hNN8sBBx06iUVWe6MA.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">圆石滩第8洞</figcaption></figure><p id="bffd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在上面的例子中，我想看看我需要击打开球的路径和我需要携带的距离。如果我不确定我能打我的司机超过270码来完成这个海湾，我最好放弃。</p><p id="b569" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">地图上有三个点——球座、旗帜和我希望我的发球落点。您可以考虑前两个固定位置，但最后一个位置会根据您在地图上单击的位置而变化。假设您已经在应用程序中实现了React Google Maps，定位前两个点只需在地图组件中放置两个标记组件。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi lb"><img src="../Images/89b5c5375bc547309336b189854c3311.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NAVetqNebj4K_djzl2LmxQ.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">球座标记组件</figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi lb"><img src="../Images/e00ab9636eda331a0594cd8b6c0c36de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0LiCv-WRXlEk77T3WeZyFQ.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">标志标记组件</figcaption></figure><p id="bddc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">位置属性通过包含纬度和经度的对象获取GPS坐标— {lat: 99.999999，lng: 99.999999}。我通过父组件的道具传递两个GPS。</p><p id="575f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然而，第三个标记只会在我点击地图上的任何地方时显示，显然GPS坐标会根据点击的位置而变化。这使得基于状态改变的位置属性值改变以及新标记在地图上的重新呈现成为必要。这意味着我需要地图组件上的一个点击事件。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi lb"><img src="../Images/b2ba2652f6e7a47a5c4483a015728581.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rR_VnIB2OCMdsNpgGbgeZg.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">地图组件</figcaption></figure><p id="e5ef" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">每当我点击地图上的任何地方，handleClick代码就会触发。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi lc"><img src="../Images/65c9068af06d8aa3cfec902d11008b0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ru0ffaTJmNorIOv9IIB8rQ.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">单击地图时触发的代码</figcaption></figure><p id="d13c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里的关键是获取地图上被点击点的GPS坐标。谷歌地图提供了两个功能，给我经度和纬度的数字。通过调用clickEvent.latLng.lat()和clickEvent.latLng.lng()，我得到了该点击事件的lat和Lng编号。现在，我可以使用这些数字来设置状态，并在我的lat和lng键中提供坐标值。只要我的状态中有这些键/值，我就可以像点击点的标记组件那样使用状态。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ld"><img src="../Images/e64a330ac70ebdf92aa2acaa7f495223.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J375I7K3iflJKG4cCQkdOQ.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">单击点的标记组件</figcaption></figure><p id="d2dc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们有了地图上的所有三个标记，我们可以继续折线。您可能已经注意到了我在handleClick事件代码的状态中设置的多路径键。为了创建折线路径，您需要一个GPS坐标数组，Google maps将根据数组中的顺序从中创建一条直线路径。在我的例子中，它是球座-地图-点-旗帜。然后像这样在地图组件中添加折线组件。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi le"><img src="../Images/e94675c540d4ff145ceeeef13b344514.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*28jneh8SydW6IfHxINqw3g.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">折线组件</figcaption></figure><p id="2c19" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我有了一条路径，它将球座连接到地图上被点击的点，然后连接到旗帜。单击的点标记标签还会显示与其他点的距离。有很多代码可以计算两个GPS点之间的距离。我选择一个基于地球半径进行数学计算的。我不打算解释如何做，因为我真的不明白背后的数学原理。我创建了一个函数，它接收两个GPS点并返回以码为单位的距离。因为我提供了以英里为单位的地球半径，返回的距离也是以英里为单位的，所以我需要将结果乘以1760以获得码数。现在你有了一条从球座到旗杆的三点多段线路径，从球座到旗杆的距离为。</p></div></div>    
</body>
</html>