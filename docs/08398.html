<html>
<head>
<title>How To Fix Android Studio emulator issue: “The emulator process for AVD was killed”</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何修复Android Studio模拟器问题:“AVD的模拟器进程被杀死”</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-fix-android-studio-emulator-issue-the-emulator-process-for-avd-was-killed-db74cb02a359?source=collection_archive---------1-----------------------#2021-04-28">https://levelup.gitconnected.com/how-to-fix-android-studio-emulator-issue-the-emulator-process-for-avd-was-killed-db74cb02a359?source=collection_archive---------1-----------------------#2021-04-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="4ea1" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">一个macOS Big Sur 11.3和Android Studio 4.1.3的bug</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/4abab342e5978ee67d327488b9687070.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J252xAHlEUX-AhFdSyfzwg.png"/></div></div></figure><p id="4e43" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">每个使用Android Studio和Android emulator的Android/Flutter开发人员都知道常见的错误消息是多么令人沮丧:</p><blockquote class="ln lo lp"><p id="6b9f" class="kr ks lq kt b ku kv jr kw kx ky ju kz lr lb lc ld ls lf lg lh lt lj lk ll lm ij bi translated">AVD的模拟器进程被终止。</p></blockquote><p id="8ead" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你可以在网上找到关于这个问题的不同解决方案，因为它可以由许多事情引起…但是，这次可能会不同。</p><p id="a4b8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">随着新的macOS Big Sur 11.3更新，Android Studio中的模拟器不再运行。出现此错误是因为Apple对虚拟机管理程序权限进行了更改。</p><blockquote class="ln lo lp"><p id="a916" class="kr ks lq kt b ku kv jr kw kx ky ju kz lr lb lc ld ls lf lg lh lt lj lk ll lm ij bi translated">授权是授予可执行程序使用服务或技术的权限的键值对。</p></blockquote><p id="6bb4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这种情况下，<code class="fe lu lv lw lx b">/Users/&lt;username&gt;/Library/Android/sdk/emulator/qemu/darwin-x86_64/qemu-system-x86_64</code>缺少创建和运行虚拟机的实体元素。</p><p id="8c57" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">更具体地说，<code class="fe lu lv lw lx b">com.apple.vm.hypervisor</code>权限(在macOS 10.15中使用)已被弃用，并被<code class="fe lu lv lw lx b">com.apple.security.hypervisor</code>所取代。</p><p id="64fe" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要解决这个问题，我们所要做的就是将授权添加到<code class="fe lu lv lw lx b">qemu-system-x86_64</code>二进制文件中。</p><blockquote class="ln lo lp"><p id="afdc" class="kr ks lq kt b ku kv jr kw kx ky ju kz lr lb lc ld ls lf lg lh lt lj lk ll lm ij bi translated">编辑:看起来模拟器更新30.5.6已经解决了这个问题。</p></blockquote><h1 id="59ce" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">解决问题的步骤:</h1><ol class=""><li id="2af0" class="mq mr iq kt b ku ms kx mt la mu le mv li mw lm mx my mz na bi translated">打开<code class="fe lu lv lw lx b">Terminal</code>，进入目录<code class="fe lu lv lw lx b">/Users/&lt;username&gt;/Library/Android/sdk/emulator/qemu/darwin-x86_64/</code></li><li id="3306" class="mq mr iq kt b ku nb kx nc la nd le ne li nf lm mx my mz na bi translated">用<code class="fe lu lv lw lx b">touch</code>或<code class="fe lu lv lw lx b">cat</code>命令创建一个名为<code class="fe lu lv lw lx b">entitlements.xml</code>的xml文件</li><li id="6e04" class="mq mr iq kt b ku nb kx nc la nd le ne li nf lm mx my mz na bi translated">将此内容添加到<code class="fe lu lv lw lx b">entitlements.xml</code>文件:</li></ol><pre class="kg kh ki kj gt ng lx nh ni aw nj bi"><span id="abcb" class="nk lz iq lx b gy nl nm l nn no">&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br/>&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;<br/>&lt;plist version="1.0"&gt;<br/>&lt;dict&gt;<br/>    &lt;key&gt;com.apple.security.hypervisor&lt;/key&gt;<br/>    &lt;true/&gt;<br/>&lt;/dict&gt;<br/>&lt;/plist&gt;</span></pre><p id="b6b1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">4.然后简单地在<code class="fe lu lv lw lx b">qemu-system-x86_64</code>上签名:</p><pre class="kg kh ki kj gt ng lx nh ni aw nj bi"><span id="4fcc" class="nk lz iq lx b gy nl nm l nn no">codesign -s - --entitlements entitlements.xml --force qemu-system-x86_64</span></pre><p id="6163" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在只需重新启动Android Studio，Android模拟器就可以再次工作了！</p><p id="713d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">感谢阅读！我希望你喜欢这篇文章。如果你愿意，可以查看我的<a class="ae np" href="https://twitter.com/andrea_culot" rel="noopener ugc nofollow" target="_blank">推特简介</a>:)</p><p id="89b3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="lq">资源:</em> <a class="ae np" href="https://www.arthurkoziel.com/qemu-on-macos-big-sur/" rel="noopener ugc nofollow" target="_blank"> <em class="lq">如何在macOS 11.0 Big Sur上运行QEMU</em></a></p></div></div>    
</body>
</html>