<html>
<head>
<title>Decorator Design Pattern</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">装饰设计模式</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/decorator-design-pattern-4a9ca2c51061?source=collection_archive---------16-----------------------#2022-02-27">https://levelup.gitconnected.com/decorator-design-pattern-4a9ca2c51061?source=collection_archive---------16-----------------------#2022-02-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0112" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">流行设计模式的实际实现。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/64da772725b66d1e12f673aabb1127a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*L15uhsL11gNpuqDF"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@ffstop?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Fotis Fotopoulos </a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="7316" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们从一个概念图开始，图示将帮助我们理解流程。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/6f3b7ef2d6a3171b36ffadc46c1bb878.png" data-original-src="https://miro.medium.com/v2/resize:fit:862/format:webp/1*XJfzR2YAHxd_l__l7pBuRw.jpeg"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">装饰设计模式的概念图</figcaption></figure><p id="1bed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">类<strong class="ky ir"> <em class="lt"> DecoratorOne </em> </strong>正在注入一个<strong class="ky ir"> <em class="lt"> IComponent </em> </strong>接口。这允许您注入您想要添加的任何行为，例如，传递您想要装饰的对象。</p><p id="619e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以<strong class="ky ir"> <em class="lt"> DecoratorOne </em> </strong>就是充当装饰的包装器。在上图中，您可以看到Decorator类保存了对被修饰对象的引用。在这种情况下，是一个组件类。</p><p id="aabc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不仅我们的<strong class="ky ir"> <em class="lt"> DecoratorOne </em> </strong>类是-A<strong class="ky ir"><em class="lt">I component</em></strong>而且它还有-A<strong class="ky ir"><em class="lt">I component</em></strong>。这是因为decorator类实现了与原始Component类相同的接口，所以它现在有机会拦截接口上的任何方法调用，并向这些调用中注入一些额外的行为。</p><p id="107a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">举个例子，我们点一份晚餐。</p><ol class=""><li id="a63f" class="lu lv iq ky b kz la lc ld lf lw lj lx ln ly lr lz ma mb mc bi translated">订购比萨饼:接口Ipizza</li><li id="e1a6" class="lu lv iq ky b kz md lc me lf mf lj mg ln mh lr lz ma mb mc bi translated">晚餐:班级晚餐:伊皮扎</li><li id="cd8c" class="lu lv iq ky b kz md lc me lf mf lj mg ln mh lr lz ma mb mc bi translated">添加百事可乐:班级聚餐:Ipepsi</li><li id="c740" class="lu lv iq ky b kz md lc me lf mf lj mg ln mh lr lz ma mb mc bi translated">添加意大利面:班级晚餐:Ipasta</li></ol><p id="a072" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，我们点了一份晚餐，有披萨、百事可乐和意大利面。我们不断地注入新的需求，不断地修饰旧的类，以获得额外的东西。</p><p id="16c1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以当你听到decorator这个词的时候，你真正在做的是设计一系列的对象，这些对象可以互相包装，并根据需要注入行为。</p><p id="1496" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">事实上，您可以一起定义和使用多个装饰器对象，这样您就可以在原始对象周围拥有一个分层结构，就像洋葱一样。</p><p id="8b90" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每个decorator类都可以定义不同的行为，所以您保持了关注点的强烈分离。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/385e84a6070566c6012b89ca53099a91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*t6X2hPaTzC8bo1tioH4OAg.jpeg"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">装饰设计模式的概念</figcaption></figure><p id="6e4a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为所有的decorator类都实现了与原始对象相同的接口，所以您不必修改任何客户端代码来添加这些不同的新行为。</p><p id="972d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们从代码开始，实现以下设计:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/8b060caf735b035ea99916783275b2bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/1*VKJ8itk2tCs5LsC9Sx7HdQ.jpeg"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">智能手机的一个例子</figcaption></figure><p id="9e0f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们添加界面IMobile:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="c898" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，添加另一个接口IAndroid:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="b9cf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，对于Android类的默认实现，让我们通过函数返回一些字符串和值。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="8b60" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，我们需要一个装饰类，为函数添加额外的信息。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="d929" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">observer覆盖的方法向注入的类添加了额外的信息，因此这是一种IS-A &amp; HAS-A关系。</p><p id="3ce7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们通过程序调用它。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="03fb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">运行应用程序，看看神奇之处。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mm"><img src="../Images/d1d15da1f3f3bc43e68c5f50e363e20e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RrhIXdkH5Afiycz_-DIt9g.png"/></div></div></figure><h1 id="937d" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">万岁！！！</h1><p id="7885" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">如您所见，它是两个对象的组合。一个默认实现&amp;另一个装饰默认对象。</p><p id="77c3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">能够在这种分层结构中将对象分层，然后拦截和修改方法调用是一个非常强大的想法，因为它允许我们分离关注点，并在新需求出现时动态添加新功能。因此，当您使用装饰模式时，请记住这些想法。</p><p id="d78c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我希望你从这篇文章中有所收获，祝你好运。</p><p id="7e5d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">干杯！！</p><div class="nk nl gp gr nm nn"><a href="https://www.linkedin.com/in/rikampalkar/" rel="noopener  ugc nofollow" target="_blank"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd ir gy z fp ns fr fs nt fu fw ip bi translated">Rikam Palkar -软件工程师-小天鹅-威德福| LinkedIn</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">通过编写可伸缩的代码让世界变得更美好。我从来没有在大学里发现我对编码的热情，也没有在…</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">www.linkedin.com</p></div></div><div class="nw l"><div class="nx l ny nz oa nw ob kp nn"/></div></div></a></div></div></div>    
</body>
</html>