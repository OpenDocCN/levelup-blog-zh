<html>
<head>
<title>Revealing Module Pattern in JS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">揭示JS中的模块模式</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/revealing-module-pattern-in-js-5fa4a6499dd5?source=collection_archive---------11-----------------------#2020-04-20">https://levelup.gitconnected.com/revealing-module-pattern-in-js-5fa4a6499dd5?source=collection_archive---------11-----------------------#2020-04-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/91d4716ec9e0f6a87385e31ac8d689e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dXzd22xoowhSdpCOWEsGHA.png"/></div></div></figure><p id="5117" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">让我们了解一下模块模式背后的一些理论，以及它在实现这种模式时的目的。</p><p id="ae07" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">模块模式最初被定义为一种为类提供私有和公共封装的方式。</p><p id="a33c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">它还用于通过在单个对象中包含私有和公共属性/方法和变量，从而封装底层细节(实现细节、属性、变量等),来体现类的概念。)从全局范围来看。</p><p id="f479" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果我们试图总结模块模式的要点，它服务于以下目的:</p><ol class=""><li id="2ad8" class="kz la it kd b ke kf ki kj km lb kq lc ku ld ky le lf lg lh bi translated">代码封装</li><li id="f482" class="kz la it kd b ke li ki lj km lk kq ll ku lm ky le lf lg lh bi translated">数据保密</li></ol><p id="f9d9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">让我们借助代码来理解这个模式。</p><p id="4869" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">第一步是创建一个模块。</p><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div class="gh gi ln"><img src="../Images/0a3f505742ef973ed9d506675424f214.png" data-original-src="https://miro.medium.com/v2/resize:fit:1184/format:webp/1*i2reuQHbSQ4EqQtS-x6jxA.png"/></div></figure><p id="9193" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">下一步是为我们的模块创建一个公共方法，这样用户就可以调用这个公共方法。为了公开方法，我们将返回一个定义了方法的对象。</p><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ls"><img src="../Images/c35cd5b3107cc8275a6b9b67327b339a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A0frvIjB6zA8VW_KFmVmgQ.png"/></div></div></figure><p id="59d8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果我们尝试执行上面的方法，我们将看到从公开给我们的calcOrderModule的公共方法中获得输出。否则，如果我们试图从模块函数中执行私有属性或方法，我们会得到undefined。只是为了做一个小的标识更改，私有属性或方法以下划线(<code class="fe lt lu lv lw b">_</code>)开始。</p><p id="dd3f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">简单概括一下，我们已经执行了3个步骤:</p><ol class=""><li id="0dde" class="kz la it kd b ke kf ki kj km lb kq lc ku ld ky le lf lg lh bi translated">使用生命创建一个模块。</li><li id="d971" class="kz la it kd b ke li ki lj km lk kq ll ku lm ky le lf lg lh bi translated">创建私有属性和私有方法。</li><li id="daa9" class="kz la it kd b ke li ki lj km lk kq ll ku lm ky le lf lg lh bi translated">创建一个公开在模块外的公共方法。</li></ol><p id="1d4c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">到目前为止，我们已经介绍了模块模式的基础知识。让我们继续讨论揭示性的模块模式。</p><p id="e860" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">模块模式和揭示模块模式的实现方式几乎相似，唯一的区别是后者在从我们的模块</strong>中公开公共方法时返回对象。</p><p id="85da" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">旁注:模块模式类似于工厂函数，因为我们创建对象时没有使用“new”关键字的细微差别。</strong></p><p id="f8ac" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">没有进一步的延迟，我们将尝试使用揭示模块模式实现代码，稍后将强调代码片段发生了什么。</p><p id="97cb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">让我们尝试在现有模块中添加一些私有属性和私有方法。</p><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/d6de60c60beef88d975d0a5d610b5882.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*oaPbxbT09b0tDSCYDANI9w.png"/></div></figure><p id="9a44" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">因此，我们声明了一些私有属性和两个私有方法来计算购物车商品列表的折扣。</p><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ly"><img src="../Images/f0b0283fa7ff00f84474844504fcaa6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*snWe5pEOfGk2la9s1940cA.png"/></div></div></figure><p id="0d62" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果列表中的任何商品有折扣，这个方法将给出商品的数量和价格。</p><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lz"><img src="../Images/087e07166be75c9eceac36dd3d587d7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dWUZ9xCCJp5cRdkf4JkMSQ.png"/></div></div></figure><p id="3fe5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这是我们的最后一个方法，它将返回一个包含总计数和总订单值的对象。</p><p id="8771" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">最后，我们从模块返回的公共方法将调用上面的方法。</p><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ma"><img src="../Images/116f2d8ccfee9833d324456dc6736368.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kue_Be5e3NFpBGYl5l-77Q.png"/></div></div></figure><p id="d9b9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">上面的代码片段展示了揭示模块模式的实现。</p><p id="8801" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在，让我们通过提供输入来执行代码，并检查它的输出。</p><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mb"><img src="../Images/a6677f85618b3df60d06678453cf0452.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lw5HCZSFkFW-Rkz7VpzkGg.png"/></div></div></figure><p id="8ac5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果您尝试执行上面的代码，我们会发现在获取私有属性时，我们会得到未定义的。大多数代码实现都是不言自明的。</p><p id="3cfe" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">正如承诺的那样，下面附上完整的代码片段。</p><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mc"><img src="../Images/7b23cdbc92cfdeb026b58b2708c9c72c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6um0275Kg7cMx0kxUFC33A.png"/></div></div></figure><p id="61cf" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我希望，你可能已经对模块和揭示模块模式有了一些想法。</p><p id="6300" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这样我们可以实现数据封装和隐私，这是使用模块模式或显示模块模式背后的思想。</p><p id="d79f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">快乐编码。不断学习。继续探索。</p></div></div>    
</body>
</html>