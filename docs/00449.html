<html>
<head>
<title>What is AWS Lambda and Serverless?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是AWS Lambda和无服务器？</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/what-is-aws-lambda-or-serverless-f0a006e9d56c?source=collection_archive---------2-----------------------#2019-03-07">https://levelup.gitconnected.com/what-is-aws-lambda-or-serverless-f0a006e9d56c?source=collection_archive---------2-----------------------#2019-03-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/824241c4700ed93f49f362ab62412531.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-P0w5Fgk5Ixj_3IEmjAL7g@2x.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">AWS Lambda徽标</figcaption></figure><p id="5e80" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">最近有很多关于无服务器和AWS lambda的讨论。越来越多的公司和团队正在转向他们的应用程序的无服务器架构。</p><p id="5eb8" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在这篇文章中，我将解释无服务器，我们将部署我们的第一个hello world lambda函数！</p><h2 id="76d8" class="la lb iq bd lc ld le dn lf lg lh dp li kn lj lk ll kr lm ln lo kv lp lq lr ls bi translated">什么是无服务器？</h2><p id="6181" class="pw-post-body-paragraph kc kd iq ke b kf lt kh ki kj lu kl km kn lv kp kq kr lw kt ku kv lx kx ky kz ij bi translated">无服务器意味着您不必管理运行应用程序的服务器。</p><p id="cf67" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">你不必负责修补系统，安装防病毒软件或配置防火墙。此外，您不必担心随着负载的增加而扩展应用程序。它是自动处理的！</p><p id="c875" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">因此，它允许您更多地关注应用程序的功能。</p><h2 id="c555" class="la lb iq bd lc ld le dn lf lg lh dp li kn lj lk ll kr lm ln lo kv lp lq lr ls bi translated">为什么更好？</h2><p id="da96" class="pw-post-body-paragraph kc kd iq ke b kf lt kh ki kj lu kl km kn lv kp kq kr lw kt ku kv lx kx ky kz ij bi translated">通常，当你创建一个动态的web应用程序时，你通常用PHP、Nodejs、Ruby或Python创建一个服务器，它与数据库交互以获取信息并将其发送到前端。</p><p id="c76b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">然后，您将这个后端服务器托管在AWS或Azure等托管提供商上。这种方法的问题在于您的服务器是全天候运行的。即使没有人与您的应用程序交互，它也在运行。</p><p id="75e1" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">因此，你甚至不再为空闲时间付费。除此之外，大部分时间你还要负责修补系统漏洞，更新杀毒软件，设置自动缩放。</p><h1 id="54d3" class="ly lb iq bd lc lz ma mb lf mc md me li mf mg mh ll mi mj mk lo ml mm mn lr mo bi translated">什么是AWS Lambda？</h1><p id="7527" class="pw-post-body-paragraph kc kd iq ke b kf lt kh ki kj lu kl km kn lv kp kq kr lw kt ku kv lx kx ky kz ij bi translated">这是AWS提供的构建无服务器应用程序。在这种情况下，您可以创建lambda函数，这些函数仅在执行某些操作时执行。</p><p id="9559" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">执行的操作可能是有人访问您的网站，因此您的函数从数据库中获取一些数据并返回响应。你可以用很多语言来创建这些函数，比如Python，Nodejs，Java，Go，Ruby，C#。网络等。</p><p id="2c9c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">最好的部分是，您只需为函数的执行时间付费。<strong class="ke ir">当您的功能不运行时，您无需支付任何费用。</strong></p><p id="42e0" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">与lambda类似，其他云提供商也有自己的无服务器产品，如微软Azure提供Azure功能，谷歌云平台提供云功能。</p><h1 id="8eab" class="ly lb iq bd lc lz ma mb lf mc md me li mf mg mh ll mi mj mk lo ml mm mn lr mo bi translated">Lambda的特性</h1><ol class=""><li id="f14e" class="mp mq iq ke b kf lt kj lu kn mr kr ms kv mt kz mu mv mw mx bi translated">按执行付费。</li><li id="0ef6" class="mp mq iq ke b kf my kj mz kn na kr nb kv nc kz mu mv mw mx bi translated">创建事件驱动的架构。一旦一张图片上传到亚马逊S3，触发你的lambda函数，为图片添加水印或改变其格式。</li><li id="0d79" class="mp mq iq ke b kf my kj mz kn na kr nb kv nc kz mu mv mw mx bi translated">内置容错功能。</li><li id="5032" class="mp mq iq ke b kf my kj mz kn na kr nb kv nc kz mu mv mw mx bi translated">自动缩放。</li><li id="c429" class="mp mq iq ke b kf my kj mz kn na kr nb kv nc kz mu mv mw mx bi translated">集成安全模型(行业合规性)。</li></ol><p id="e2cd" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在介绍完毕，让我们创建你的第一个lambda函数。</p><h1 id="b4bd" class="ly lb iq bd lc lz ma mb lf mc md me li mf mg mh ll mi mj mk lo ml mm mn lr mo bi translated">创建lambda函数</h1><p id="1892" class="pw-post-body-paragraph kc kd iq ke b kf lt kh ki kj lu kl km kn lv kp kq kr lw kt ku kv lx kx ky kz ij bi translated">1.登录你的AWS控制台，在计算选项卡下选择<strong class="ke ir">λ</strong>。您将被带到lambda仪表板。你会看到下面两张图片中的任何一张。</p><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nd"><img src="../Images/eca7d82c7de72e98e1ef27aaea75e5b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K7iuCcaz1toxGChNkzSN7g.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">λ仪表板</figcaption></figure><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nd"><img src="../Images/2768d4c00ee6c86fb91c216321f8aac6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KrRq7Xlx_e05-o-26Wb6_A.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">λ仪表板</figcaption></figure><p id="250f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">2.现在，让我们点击<strong class="ke ir">创建功能</strong>按钮。它将打开一个表单，您必须在其中输入lambda函数的一些基本细节。</p><p id="d42c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">3.你有三种方法来创建lambda函数</p><p id="a0fc" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">一个</strong>。从头开始创建，从头开始编写所有代码。<br/>bT3。使用常见用例<br/> <strong class="ke ir"> c </strong>中lambda函数的蓝图。从AWS无服务器存储库中选择一个示例函数。</p><p id="9742" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果你正在构建一个被其他人普遍使用的东西，那么你可能会在最后两个选项中找到一个相似的函数。使用它们可能会减少开发时间。</p><p id="846e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在这里，我将从头开始创建一个函数。让我们补充一些细节。</p><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ni"><img src="../Images/d9923ec364b3fb8cac8b5caa580105b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ENDDrMKOjG5fnTzpaWJyXw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">创建lambda函数</figcaption></figure><p id="7869" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">4.给你的函数起一个你自己选择的名字。然后，您可以选择想要运行此功能的<strong class="ke ir">语言</strong>。我在这里选择的是<strong class="ke ir"> Node.js 8.10 </strong>。</p><p id="459c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在您指定一个<strong class="ke ir"> IAM角色</strong>，它定义了您的lambda函数拥有的权限。例如，如果你的职能将与S3互动，只需给S3访问其分配的角色。因此，您的功能仅限于访问S3，不能与任何其他AWS服务进行交互(#Security！).</p><p id="3e14" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在选择<strong class="ke ir">创建一个新角色</strong>选项，并为您的角色命名。</p><p id="836f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">完成后，点击<strong class="ke ir">创建功能</strong>按钮。</p><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nj"><img src="../Images/bb06e365e2c5cd0c53ad95998cca06d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MxNRtV8iTuG3UNrD3lnijw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">创建lambda函数形式</figcaption></figure><p id="90af" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">5.您的lambda函数现在将被创建。默认情况下，lambda函数可以访问<strong class="ke ir"> CloudWatch日志</strong>，其中<strong class="ke ir">记录函数的所有执行</strong>以及任何基于<strong class="ke ir"> STDOUT </strong>的事件，如Nodejs的<strong class="ke ir"> console.log </strong>和python <strong class="ke ir">的<strong class="ke ir"> print </strong>。</strong></p><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nk"><img src="../Images/a915a104a111405ec42cc36f111c7007.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*crZgWD0J_uesN5jPD-qQew.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">lambda函数已创建</figcaption></figure><p id="0023" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果你向下滚动，你可以看到你的功能代码。默认情况下，它只输出“你好，来自Lambda！”。</p><p id="f0e6" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果您进一步滚动，您可以向函数添加环境变量、描述和分配的内存，以及帮助您计费和过滤的标记。</p><p id="6351" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">你的函数超时意味着在这段时间后，如果你的函数继续运行，它将自动停止。</p><p id="5c45" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们的函数现在已经创建好了，但是要运行它，我们需要给它添加一些触发器。</p><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nl"><img src="../Images/fdeb3d9cb7d5bd2c5f5d13ec2a8996cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5Jz2Oy4hjFYzkRLN1n4f-A.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">lambda功能设置</figcaption></figure><p id="d8ea" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">6.滚动到顶部并从左侧面板中选择<strong class="ke ir"> API网关</strong>。你会在底部看到一个表格。在API字段选择<strong class="ke ir">创建新的API </strong>，在安全字段选择<strong class="ke ir">打开</strong>。开放意味着任何人都可以通过生成的URL访问这个API。</p><p id="bdb5" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">完成后，点击<strong class="ke ir">添加按钮</strong>，然后点击页面右上方的<strong class="ke ir">保存按钮</strong>保存您的功能。</p><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nm"><img src="../Images/690bb468037d9566c0c470092237eeb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lcztGQeyGOqwMJDCZjfKUw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">API端点已创建</figcaption></figure><p id="b818" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">您的API已经创建，可以通过给定的链接进行访问。如果你点击链接，它会打开一个新的标签，你会看到“你好，来自Lambda！”。</p><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nd"><img src="../Images/b5710a1b144dca0ce94204f96fb9d9e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dyAVDlexw7qObbzeXzp9wg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">在新标签中打开的API链接</figcaption></figure><p id="4f8a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">尝试将此文本更改为其他内容，保存您的函数并重新加载API页面。您将看到更新的文本。</p><p id="ca3c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">恭喜你！您已经使用API Gateway创建了第一个lambda函数和API。</p><p id="ebbc" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我将会写更多关于lambda和无服务器的文章，敬请关注！</p></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><p id="a069" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">感谢阅读这篇文章。如果你喜欢它，请给它一些掌声，让更多的人喜欢它！</p></div></div>    
</body>
</html>