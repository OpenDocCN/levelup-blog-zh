<html>
<head>
<title>Rapper Destroys Google Software Engineer in API Development</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">说唱歌手在API开发中摧毁谷歌软件工程师</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/rapper-destroys-google-software-engineer-in-api-development-9a1faef3dc49?source=collection_archive---------0-----------------------#2022-12-15">https://levelup.gitconnected.com/rapper-destroys-google-software-engineer-in-api-development-9a1faef3dc49?source=collection_archive---------0-----------------------#2022-12-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div class="gh gi jq"><img src="../Images/0a7f7752cd09aef6c8bd1b2ef7d6a89e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*gGzbaVaMZmzQKUVyiKOgAg.png"/></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk translated">照片由<a class="ae kb" href="https://github.com/switchupcb/disgo" rel="noopener ugc nofollow" target="_blank"> Disgo </a>拍摄</figcaption></figure><p id="07cb" class="pw-post-body-paragraph kc kd it ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><a class="ae kb" href="https://github.com/diamondburned" rel="noopener ugc nofollow" target="_blank"> DiamondBurned </a>是2023年谷歌的一名软件工程师实习生，在该公司工作每月能拿到11000美元。这位程序员创建了许多涉及Discord的开源库，不要忘记一个名为<a class="ae kb" href="https://github.com/diamondburned/arikawa" rel="noopener ugc nofollow" target="_blank"> Arikawa </a>的API包装器。这个软件允许其他开发者使用Go编程语言与Discord进行交互；而不是创建他们自己的API包装器来这样做。</p><p id="f902" class="pw-post-body-paragraph kc kd it ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">Yung Quant 是一名说唱歌手，他被亚马逊(广告部)的最后一轮拒绝，并被禁止参加2022年谷歌招聘冻结的面试。这位说唱歌手还创建了许多开源库，包括一个名为<a class="ae kb" href="https://github.com/switchupcb/copygen" rel="noopener ugc nofollow" target="_blank"> Copygen </a>和<a class="ae kb" href="https://github.com/switchupcb/disgo" rel="noopener ugc nofollow" target="_blank"> Disgo </a>的基于类型的代码生成器；另一个用于在Go中创建不和谐机器人的API包装器。</p><p id="a8ed" class="pw-post-body-paragraph kc kd it ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><strong class="ke iu">与有川相比如何？</strong></p><p id="21b8" class="pw-post-body-paragraph kc kd it ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">谷歌是一个被超过90%的互联网用户使用的搜索引擎巨头。鉴于这些资质，人们会预测Arikawa软件比Disgo更好。然而，预测可能是错误的。我们基于易用性、架构设计和原始代码性能比较了每个库，以确定哪个库是Go中更好的Discord API包装器。</p><p id="a117" class="pw-post-body-paragraph kc kd it ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">这是结果，你可以自己决定。</p></div><div class="ab cl lb lc hx ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="im in io ip iq"><h1 id="1cdf" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">易用性</h1><h2 id="7722" class="mg lj it bd lk mh mi dn lo mj mk dp ls kn ml mm lw kr mn mo ma kv mp mq me mr bi translated">有川</h2><p id="2c44" class="pw-post-body-paragraph kc kd it ke b kf ms kh ki kj mt kl km kn mu kp kq kr mv kt ku kv mw kx ky kz im bi translated">Arikawa的程序员接口以标准格式(基于函数)提供:当开发人员希望发送消息<em class="la">(至Discord) </em>时，开发人员必须查看Arikawa的API文档，以获取向Discord发送消息的Go函数。在Arikawa中，这个请求被分成多个函数<em class="la">(每个函数有不同的参数)</em> : <code class="fe mx my mz na b">Client.SendEmbedReply</code>、<code class="fe mx my mz na b">Client.SendEmbeds</code>、<code class="fe mx my mz na b">Client.SendMessage</code>、<code class="fe mx my mz na b">Client.SendMessageComplex</code>、<code class="fe mx my mz na b">Client.SendMessage</code>、<code class="fe mx my mz na b">Client.SendTextReply</code>。不幸的是，按原样使用这些函数缺乏发送消息的语义背后的信息。对每个函数使用严格的参数还会阻止开发人员访问其他功能，如文本到语音转换和组件<em class="la">(在Discord的API文档中列出)</em>。</p><p id="61b3" class="pw-post-body-paragraph kc kd it ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">由于Arikawa使用基于函数的API，因此对API函数参数的任何更新都需要开发人员在自己的代码中添加或删除那些参数；编译Go程序设计语言的一种规范。当Discord API更新时，这会导致不必要的开销，这种情况经常发生。客观地说，仅在2022年，Discord API文档就已经更新了<strong class="ke iu">400多次</strong>。</p><h2 id="7c03" class="mg lj it bd lk mh mi dn lo mj mk dp ls kn ml mm lw kr mn mo ma kv mp mq me mr bi translated">迪斯戈</h2><p id="fc84" class="pw-post-body-paragraph kc kd it ke b kf ms kh ki kj mt kl km kn mu kp kq kr mv kt ku kv mw kx ky kz im bi translated">Disgo的程序员接口以基于结构的格式提供:当开发人员希望发送消息<em class="la">(至Discord) </em>时，开发人员必须检查Discord API文档，以获得向Discord发送消息的端点(<code class="fe mx my mz na b">Create Message</code>)的名称。由于Disgo是Discord API的1:1实现，开发者会立刻明白在go中使用哪个struct因为创建结构是语言的基本操作。</p><p id="f5f1" class="pw-post-body-paragraph kc kd it ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">Disgo提供了发送任何请求的单一函数:<code class="fe mx my mz na b">Send(*Client)</code>。在发送消息的上下文中，该函数是<code class="fe mx my mz na b">CreateMessage.Send(*Client)</code>。因此，开发人员将能够使用Disgo的API，而无需接触它提供的文档。相反，开发人员可以通过使用Discord的API文档来理解他们的Go代码是如何工作的。这提供了对开发人员正在使用的API的深入理解，同时也从浏览器的额外标签中保存了它们。</p><p id="1765" class="pw-post-body-paragraph kc kd it ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">因为Disgo是基于结构的，所以可以忽略对API的结构参数的任何添加；因为在编译的Go编程语言中不需要设置每个字段。这使得Discord API更新时的开销更少，这种情况经常发生。Disgo通过创建<a class="ae kb" href="https://github.com/switchupcb/dasgo" rel="noopener ugc nofollow" target="_blank"> Dasgo </a>解决了这个问题，Dasgo 是一个类型库，任何go API包装器都可以使用它来维护不一致对象的Go表示。</p></div><div class="ab cl lb lc hx ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="im in io ip iq"><h1 id="94a0" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">建筑设计</h1><h2 id="7d11" class="mg lj it bd lk mh mi dn lo mj mk dp ls kn ml mm lw kr mn mo ma kv mp mq me mr bi translated">有川(请求)</h2><p id="ce78" class="pw-post-body-paragraph kc kd it ke b kf ms kh ki kj mt kl km kn mu kp kq kr mv kt ku kv mw kx ky kz im bi translated">Arikawa请求函数保持无副作用。Arikawa实现了速率限制器，但未能在其功能<em class="la">(即</em><a class="ae kb" href="https://github.com/diamondburned/arikawa/blob/0f0c9686348aeda8e25cb715be7c05292cfa5455/api/send.go#L152" rel="noopener ugc nofollow" target="_blank"><em class="la">sendmessage complex</em></a><em class="la">)</em>内使用它。这没有被发现，因为它的限速器测试使用了模拟。结果是开发者必须实现他们自己的速率限制器，以避免他们的不和谐机器人被禁止。不太好。</p><h2 id="e51b" class="mg lj it bd lk mh mi dn lo mj mk dp ls kn ml mm lw kr mn mo ma kv mp mq me mr bi translated">有川(事件)</h2><p id="0b68" class="pw-post-body-paragraph kc kd it ke b kf ms kh ki kj mt kl km kn mu kp kq kr mv kt ku kv mw kx ky kz im bi translated">创建一个WebSocket连接，并使用发送到事件处理函数的事件。然而，这些函数涉及类型断言和反射的使用，这对性能(在热路径内)带来了巨大的冲击，这是DiamondBurned <em class="la"> (API包装器创建者)</em>更容易实现的代价。尚不清楚是否对网关发送事件正确实施了速率限制。</p><h2 id="530b" class="mg lj it bd lk mh mi dn lo mj mk dp ls kn ml mm lw kr mn mo ma kv mp mq me mr bi translated">Disgo(请求)</h2><p id="3d66" class="pw-post-body-paragraph kc kd it ke b kf ms kh ki kj mt kl km kn mu kp kq kr mv kt ku kv mw kx ky kz im bi translated">Disgo请求函数没有副作用。Disgo的速率限制实现——可定制并通过集成测试进行测试——确保这些请求的并发调用不会导致速率限制。这允许开发人员遵守Discord API速率限制，而无需额外的工作。</p><h2 id="f07e" class="mg lj it bd lk mh mi dn lo mj mk dp ls kn ml mm lw kr mn mo ma kv mp mq me mr bi translated">Disgo(事件)</h2><p id="83f2" class="pw-post-body-paragraph kc kd it ke b kf ms kh ki kj mt kl km kn mu kp kq kr mv kt ku kv mw kx ky kz im bi translated">创建一个WebSocket连接，并使用发送到事件处理函数的事件。这些函数不使用类型断言或反射，这使得Disgo的实现成为迄今为止最快的Discord API包装器。此外，Disgo的<a class="ae kb" href="https://github.com/switchupcb/disgo/blob/v10/_contribution/concepts/EVENTS.md#selective-event-processing" rel="noopener ugc nofollow" target="_blank">选择性事件处理</a>防止处理终端开发者不使用的事件。Disgo还维护网关发送事件的速率限制，这样开发人员无需额外工作就可以遵守Discord API网关速率限制。</p></div><div class="ab cl lb lc hx ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="im in io ip iq"><h1 id="9146" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">比较</h1><p id="0900" class="pw-post-body-paragraph kc kd it ke b kf ms kh ki kj mt kl km kn mu kp kq kr mv kt ku kv mw kx ky kz im bi translated">Disgo更容易使用，保持了更好的架构设计、更好的性能和更快的代码速度。Disgo已经存在了9个月，有3个贡献者。Arikawa已经存在了36个月，有32个贡献者。此外，Disgo保持了迄今为止Go API包装器中Discord API的最高覆盖率。</p><h2 id="9a3d" class="mg lj it bd lk mh mi dn lo mj mk dp ls kn ml mm lw kr mn mo ma kv mp mq me mr bi translated">性能(请求)</h2><p id="e647" class="pw-post-body-paragraph kc kd it ke b kf ms kh ki kj mt kl km kn mu kp kq kr mv kt ku kv mw kx ky kz im bi translated">Disgo使用<code class="fe mx my mz na b"><a class="ae kb" href="https://github.com/valyala/fasthttp" rel="noopener ugc nofollow" target="_blank">fasthttp</a></code>库来发送请求。这个库比Arikawa使用的标准库<code class="fe mx my mz na b">net/http</code>快10倍。然而，由于Discord的违约率限制，这个因素对大多数开发者来说并不重要。</p><h2 id="9092" class="mg lj it bd lk mh mi dn lo mj mk dp ls kn ml mm lw kr mn mo ma kv mp mq me mr bi translated">绩效(事件)</h2><p id="3f57" class="pw-post-body-paragraph kc kd it ke b kf ms kh ki kj mt kl km kn mu kp kq kr mv kt ku kv mw kx ky kz im bi translated">Disgo不使用类型断言或反射来处理事件，而Arikawa使用。Disgo的选择性事件处理防止任何开发者不使用的事件影响性能。仅基于理论，Disgo在两个库之间保持最快的网关实现。</p><h2 id="5a6c" class="mg lj it bd lk mh mi dn lo mj mk dp ls kn ml mm lw kr mn mo ma kv mp mq me mr bi translated">测试</h2><p id="760d" class="pw-post-body-paragraph kc kd it ke b kf ms kh ki kj mt kl km kn mu kp kq kr mv kt ku kv mw kx ky kz im bi translated">测试代码是开发人员的热门话题。谷歌值得称赞的正常运行时间要求会让你相信它的天才保持了更好的测试代码，对吗？这里不是这样的。Arikawa提供了一个集成测试，覆盖了<strong class="ke iu"> 2.8%的Discord REST API </strong>，并实现了其功能的一个未指定的百分比。Disgo的特点是集成测试覆盖了<em class="la"> </em> <strong class="ke iu"> 42.6%的Discord REST API </strong>和<strong class="ke iu">实现了其100%的功能。</strong></p><p id="2c80" class="pw-post-body-paragraph kc kd it ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated"><em class="la">这些测试在开发人员提交的每个变更上运行，以确保问题在更新发布之前得到解决。</em></p></div><div class="ab cl lb lc hx ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="im in io ip iq"><h1 id="3660" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">精英统治的神话</h1><p id="3bb3" class="pw-post-body-paragraph kc kd it ke b kf ms kh ki kj mt kl km kn mu kp kq kr mv kt ku kv mw kx ky kz im bi translated">关于<strong class="ke iu">有川vs. Disgo </strong>开发者有什么要说的？有川在Github上保持351颗星，而Disgo只保持38颗星。这表明开发人员发现Arikawa比Disgo更有趣，尽管Disgo在API消费的每个方面都占据主导地位。此外，Arikawa在Discord Go社区中获得了一个专用频道，而Disgo的请求被否决了。所以现在的Discord Go社区更看重Arikawa而不是Disgo。当然，在一个崇尚信誉胜于技术性能的行业，这并不奇怪。</p></div><div class="ab cl lb lc hx ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="im in io ip iq"><div class="nb nc nd ne gt nf"><a rel="noopener  ugc nofollow" target="_blank" href="/the-pay-disparity-of-programmers-c6b9472a8a06"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd iu gy z fp nk fr fs nl fu fw is bi translated">程序员的薪酬差距</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">程序员拿多少工资是由什么决定的？</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="no l"><div class="np l nq nr ns no nt jv nf"/></div></div></a></div><div class="nu nv gp gr nw"><div role="button" tabindex="0" class="ab bv gv cb fp nx ny bn nz jv ex"><div class="oa l"><div class="ab q"><div class="l di"><img alt="SwitchUpCB" class="l de bw ob oc fe" src="../Images/1cad2fef382780a14b36bbcbc9263a1d.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*nZY8Iir9G0sgC1liAlVHlw.png"/><div class="fb bw l ob oc fc n aw fd"/></div><div class="hh l fo"><p class="bd b dl z fp fq fr fs ft fu fv fw dk translated"><a class="ae af ag ah ai aj ak al am an ao ap aq ar as" href="https://switchupcb.medium.com/?source=post_page-----9a1faef3dc49--------------------------------" rel="noopener follow" target="_top">开关CB </a></p></div></div><div class="of og gw l"><h2 class="bd iu ti tj fp tk fr fs nl fu fw is bi translated">什么是Disgo？</h2></div><div class="ab q"><div class="l fo"><a class="bd b be z bi tl au tm tn to pz tp an eh ei tq tr ts el em eo de bk ep" href="https://switchupcb.medium.com/list/what-is-disgo-78e1dc5847c9?source=post_page-----9a1faef3dc49--------------------------------" rel="noopener follow" target="_top">View list</a></div><div class="tt l fo"><span class="bd b dl z dk">5 stories</span></div></div></div><div class="os dh ot fp ab ou fo di"><div class="di ok bv ol om"><div class="dh l"><img alt="" class="dh" src="../Images/d2a899dc5d8db018d1d1a48e4d2e8e38.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*mAx1UVN0tIvhqxi2szrP3g.png"/></div></div><div class="di ok bv on oo op"><div class="dh l"><img alt="" class="dh" src="../Images/031c23b4a45fe9d76b66d32bfee558ad.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*gGzbaVaMZmzQKUVyiKOgAg.png"/></div></div><div class="di bv oq or op"><div class="dh l"><img alt="" class="dh" src="../Images/fcc35b5f7a4f96462923e1b7dd3fdc1d.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*11Eqz_7TQFZ0ntsq.jpg"/></div></div></div></div></div></div></div>    
</body>
</html>