<html>
<head>
<title>Is Bun.js the Node.js killer?!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Bun.js是Node.js杀手吗？！</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/is-bun-js-the-node-js-killer-ffeb0f89196a?source=collection_archive---------1-----------------------#2022-08-14">https://levelup.gitconnected.com/is-bun-js-the-node-js-killer-ffeb0f89196a?source=collection_archive---------1-----------------------#2022-08-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="ff02" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">Bun概述及其性能和运行时与Node的比较</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7285e782b38e429fbbe54e6f0ea669e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mUI6FhSwQwZyKaT1lUf0lg.png"/></div></div></figure><p id="5eb4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最近Bun.js在网上大做文章，被诬陷为又一个Node.js杀手，但真的是这样吗？我们一起想办法。</p><h1 id="237e" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">Bun.js是什么？</h1><p id="4e25" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">首先，Bun.js 是一个新的JavaScript运行时，按照它的创建者的说法，“它被设计成当前JavaScript &amp;类型脚本应用或脚本的替代物……”</p><p id="4b95" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一般来说，Bun.js有点像js世界的<strong class="kt ir">“瑞士刀”,因为你有一个bundler、transpiler和包管理器作为单一的工具。</strong></p><p id="3609" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">听起来很有希望，不是吗？！</p><h1 id="4d35" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">Bun.js函数</h1><p id="4dc3" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">作为JS界的一把瑞士刀，Bun.js有不同的功能，让我们来谈谈它们。</p><h2 id="caa8" class="ml lo iq bd lp mm mn dn lt mo mp dp lx la mq mr lz le ms mt mb li mu mv md mw bi translated">使用bun作为打包器/传输器</h2><p id="3d8d" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">现代Node.js被称为后端工具。我想我们有时会忘记，在一开始，Node.js主要是用来提高前端工程师的生活质量，不同的工具如gulp/grunt/webpack就是为了这个目的而出现的。</p><p id="f6b6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Bun.js开箱即可支持JSX、Typescript和TSX。想试试吗？只需运行<code class="fe mx my mz na b">bun create react ./app</code>，然后做<code class="fe mx my mz na b">bun dev</code>来启动dev服务器。此外，您可以用常规的<code class="fe mx my mz na b">tsconfig.json</code>文件配置您的类型脚本。</p><p id="9d9b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">想要捆绑您的代码用于生产吗？只要运行<code class="fe mx my mz na b">bun bun</code>，它就会以惊人的速度创建一个扩展名为<code class="fe mx my mz na b">.bun</code>的二进制文件，然后你就可以将这个文件发布到一个静态web服务器上来提供内容。</p><p id="0b6d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">相比之下，为生产捆绑一个基本的Create React应用程序模板，Node.js需要大约6秒，而Bun.js需要8毫秒。这是一个重大的改进，尽管我们需要记住Bun.js还不支持树抖动，我也无法找到一种方法来分块这个包。</p><h2 id="eb1a" class="ml lo iq bd lp mm mn dn lt mo mp dp lx la mq mr lz le ms mt mb li mu mv md mw bi translated">使用bun作为后端</h2><p id="f0a4" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">Bun.js有着雄心勃勃的目标，希望有一天取代Node.js，现代Node.js的很大一部分是后端开发。</p><p id="1b64" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">幸运的是，您可以用Bun安装<code class="fe mx my mz na b">express</code>，它将正常工作，所以让我们用bare express服务器性能做几个测试。下面你可以看到一个我在测试中使用的样本。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="b3eb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们先测试一下Bun。为此，我们将使用<a class="ae mk" href="https://github.com/wg/wrk" rel="noopener ugc nofollow" target="_blank"> wrk </a>工具。我们将在30秒内为服务器加载256个并发连接。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/b266731a867f1e859b03b1d325536f4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3n6aFgOnTICaFpYxIHPZ5Q.png"/></div></div></figure><p id="7ac8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">它平均每秒可以处理49k个请求。现在让我们看看Node.js可以用同样的代码做什么。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/02297e49dc578378c0865ff719c375c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n_SMwQtB0_VieVs_o5yPXw.png"/></div></div></figure><p id="15c3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如您所见，使用Express时，Bun比Node.js快2倍，但是让我们更进一步，看看如果我们删除Express并使用原始HTTP服务器会发生什么。</p><p id="3511" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们将对Node.js使用以下代码。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="2487" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如您所见，raw Node.js HTTP服务器每秒可以处理大约70k个请求。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/a264207f012b0cdee0a8e992f8bf212e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2dnFkRFGQgE7W9jf-jMQbA.png"/></div></div></figure><p id="03c8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在让我们测试Bun，用它自己的方式创建一个HTTP服务器。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="bc39" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在Node.js和Bun.js的差距更大了，Bun.js每秒处理152k请求。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/e93241f01eba01a95194e36caf3a32e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nmAjoK07d9tCmxWTZGtifg.png"/></div></div></figure><h2 id="f286" class="ml lo iq bd lp mm mn dn lt mo mp dp lx la mq mr lz le ms mt mb li mu mv md mw bi translated">使用bun作为软件包管理器</h2><p id="a659" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">Bun.js比NPM快4-80倍。您可以打开现有的应用程序并运行<code class="fe mx my mz na b">bun install</code>,看看它会以多快的速度为您的应用程序下载所有的依赖项。</p><p id="906a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您可以使用<code class="fe mx my mz na b">bun add</code>和<code class="fe mx my mz na b">bun remove</code>在您的应用程序中添加/移除包。</p><h1 id="6e3a" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">挑战Bun.js</h1><p id="e557" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">与Node.js和Deno.js相比，Bun.js显示了巨大的性能改进，我想看看Bun.js展示的三个主题中的每一个。</p><h2 id="f943" class="ml lo iq bd lp mm mn dn lt mo mp dp lx la mq mr lz le ms mt mb li mu mv md mw bi translated">服务器端渲染反应</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nf"><img src="../Images/861dfcd30d2355d079a5bd3275dd957d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ea0GIwlBAs_rwUeo0NiDWw.png"/></div></div></figure><p id="e1b2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Bun.js声明在使用服务器端React渲染时，它至少比Node.js和Deno快2.5倍。</p><p id="16ce" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">但是当您开始研究Bun.js提供的性能测试示例时，您会发现它是一个呈现在后端的裸露React组件。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="006e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">上一次有人用“raw React”用Node.js实现SSR是什么时候？所以还是尽量现实一点用Next.js吧！</p><p id="d2df" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你可以用一行代码<code class="fe mx my mz na b">bun create next ./app</code>用bun.js创建一个Next.js应用程序，然后你可以用<code class="fe mx my mz na b">bun dev</code>运行你的应用程序来启动一个开发服务器。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ng"><img src="../Images/8fa7f73fc1f595cc2b7ec6cfb5a56f74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O1DI3zUkmEp38maozK-FGQ.png"/></div></div></figure><p id="cdb5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们做一个简单的“性能测试”。我将使用Apache Benchmark加载bun.js，将并发性设置为10，产生10000个请求。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/9ac155378723d29867b672fe963e58ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QymW5n5uiICau7x2IcClCw.png"/></div></div></figure><p id="af5c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">没想到在完成722个请求后，Bun.js因分段错误异常而崩溃，而用Node.js运行Next.js可以轻松处理879个请求/秒这样的负载。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/9fecc2b266e44bb03ec3fc2eec9ca74c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ITrAISvDjbWv2UdGD-Y2Cg.png"/></div></div></figure><p id="c288" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">平心而论，根据Bun.js <a class="ae mk" href="https://github.com/oven-sh/bun/issues/159" rel="noopener ugc nofollow" target="_blank">路线图</a>，Next.js目前只是部分支持，其他SSR工具如<a class="ae mk" href="https://nuxtjs.org/" rel="noopener ugc nofollow" target="_blank"> Nuxt.js </a>或<a class="ae mk" href="https://kit.svelte.dev/" rel="noopener ugc nofollow" target="_blank"> SvelteKit </a>还不支持。</p><h2 id="cec7" class="ml lo iq bd lp mm mn dn lt mo mp dp lx la mq mr lz le ms mt mb li mu mv md mw bi translated">装上一张大桌子</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nh"><img src="../Images/f0841716cccab723caf6f36d58b18c0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BnNxItnAtCM21rcXiu1ZDw.png"/></div></div></figure><p id="15af" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">有趣的是，Bun.js展示了对<a class="ae mk" href="https://www.sqlite.org/index.html" rel="noopener ugc nofollow" target="_blank"> SQLite </a>包的性能测试，以显示它可以进行多少次查询。</p><p id="deba" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您不知道，SQLite是一个数据库引擎，主要用于移动/计算机本地应用程序，因为SQLite中的数据库只是文件系统上的一个本地文件。您从来没有使用SQLite来构建您的后端，因为您不能适当地扩展它。</p><p id="8995" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我承认这显示了Bun.js的性能有多好，因为它作为数据库引擎比Deno或Node.js好得多。</p><p id="0476" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了确保我们理解使用真实数据库时的区别，让我们尝试使用真实的数据库来执行一个简单的测试。我更喜欢<a class="ae mk" href="https://www.postgresql.org/" rel="noopener ugc nofollow" target="_blank"> PostgreSQL </a>，因此我将使用<a class="ae mk" href="https://www.npmjs.com/package/pg" rel="noopener ugc nofollow" target="_blank"> <em class="ni"> pg </em> </a> NPM包。</p><p id="a1fd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我创建了一个表，并为它生成了一百万条记录。让我们创建一个HTTP服务器，它从数据库中读取数据并将其返回给客户机。对于每个请求，我们将从DB中读取100条记录，并带有随机偏移量。我们将使用下面的代码来执行测试。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="1f2c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">出乎意料的是，当我用Bun.js运行这段代码时，我得到一个错误，它不能解析模块<code class="fe mx my mz na b">dns</code>。它是Node.js的核心模块，似乎Bun.js还不支持它。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/58777f1882283535f9694758ee33661e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*To7Z-t_PM0Cjfwk-maL8RQ.png"/></div></div></figure><p id="bede" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们必须等待Bun.js提供更好的向后兼容支持来执行这个测试。</p><h2 id="803f" class="ml lo iq bd lp mm mn dn lt mo mp dp lx la mq mr lz le ms mt mb li mu mv md mw bi translated">对外功能接口</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nj"><img src="../Images/ca751ad07e55d395261235e58bb8ee49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iMODq8DERLAYe2laVNIOZQ.png"/></div></div></figure><p id="9edc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Bun用FFI显示了很好的结果，但是让我们弄清楚FFI是什么。假设你有一个用另一种语言编写的函数，比如C或C++，出于某种原因你想调用它。假设你想用一些C库进行图像处理。有两种方法可以做到这一点，第一种是为你的语言/运行时实现某种扩展(在Node.js的情况下，它将是一个<a class="ae mk" href="https://nodejs.org/api/addons.html" rel="noopener ugc nofollow" target="_blank">原生插件</a>)或者使用FFI来允许你这样做。</p><p id="c7d1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我要说的是，在Node.js world中使用FFI是一种罕见的情况，尽管它仍然显示了Bun有多快。</p><h1 id="762a" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">其他亮点</h1><h2 id="1d70" class="ml lo iq bd lp mm mn dn lt mo mp dp lx la mq mr lz le ms mt mb li mu mv md mw bi translated"><strong class="ak">没有调试器</strong></h2><p id="d25d" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">它实际上还没有调试器。</p><h2 id="6301" class="ml lo iq bd lp mm mn dn lt mo mp dp lx la mq mr lz le ms mt mb li mu mv md mw bi translated">捆绑和运输</h2><p id="2092" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">JS世界变化很快。今天，我们使用JSX，因为React，但我们也有Angular/Svelte/Vue，他们有不同的文件格式，目前你不能只使用Bun.js。</p><h2 id="aa6f" class="ml lo iq bd lp mm mn dn lt mo mp dp lx la mq mr lz le ms mt mb li mu mv md mw bi translated">以打字打的文件</h2><p id="4186" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">Bun.js提供了现成的TS支持，他们正在犯Deno开发人员犯过的同样的错误(即使由于捆绑/移植而规模更大)，必须有人支持核心Bun.js以跟上TypeScript的变化。现在，要获得TS的最新特性，你需要等待Bun.js添加对它的支持，这对于某些人来说可能没问题。</p><h2 id="f05a" class="ml lo iq bd lp mm mn dn lt mo mp dp lx la mq mr lz le ms mt mb li mu mv md mw bi translated">Bun.js！== Node.js</h2><p id="945d" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">Bun.js目前并不是100%向后兼容Node.js，尽管它努力尽可能向后兼容。这是一个完全独立的运行时。目前并不是所有的Node.js核心模块都在Bun.js中实现，像<code class="fe mx my mz na b">cluster</code>或者<code class="fe mx my mz na b">dns</code>和<code class="fe mx my mz na b">child_processes</code>。</p><h2 id="e2af" class="ml lo iq bd lp mm mn dn lt mo mp dp lx la mq mr lz le ms mt mb li mu mv md mw bi translated">证明文件</h2><p id="3272" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">因为现在还是早期测试版，所以Bun.js没有太多关于它和它内部的文档。</p><h2 id="77f5" class="ml lo iq bd lp mm mn dn lt mo mp dp lx la mq mr lz le ms mt mb li mu mv md mw bi translated">快速启动时间</h2><p id="8488" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">Bun比Node.js有更好的启动时间，这在无服务器的环境中或者用类似Electron的东西构建的PC应用程序中是一个很大的优势。</p><h2 id="e79b" class="ml lo iq bd lp mm mn dn lt mo mp dp lx la mq mr lz le ms mt mb li mu mv md mw bi translated">Bun.js为什么这么快？</h2><p id="5873" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">首先Bun.js用的是不一样的js引擎。它没有使用<a class="ae mk" href="https://v8.dev/" rel="noopener ugc nofollow" target="_blank"> V8 </a>，而是使用了<a class="ae mk" href="https://developer.apple.com/documentation/javascriptcore" rel="noopener ugc nofollow" target="_blank"> JavaScriptCore </a>。除此之外，它是用<a class="ae mk" href="https://ziglang.org/" rel="noopener ugc nofollow" target="_blank"> Zig </a>编程语言编写的。</p><h1 id="3066" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">我对Bun.js未来的展望</h1><p id="9e83" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">Bun试图做一个多合一的工具，给贡献者带来很多负担。在我看来，Bun应该思考如何走UNIX的路。我所说的UNIX方式是指拥有独立的小工具，它们能做好一件事，并且还能一起玩。Bun.js现在就像一个扑克碗，我会把它分成不同的成分。</p><p id="84b6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">bowl可以是一个bun-core，一个运行时+包管理器，它将提供核心功能，为我们的应用程序提供疯狂的性能和最小的开销。</p><p id="887a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后bun-core可以提供API来用模块(我们的组件)扩展它，并且可以通过内置的包管理器安装一个单独的模块来提供诸如捆绑或传输、对其他框架的支持等等。</p><h2 id="4de0" class="ml lo iq bd lp mm mn dn lt mo mp dp lx la mq mr lz le ms mt mb li mu mv md mw bi translated">Node.js杀手？</h2><p id="383f" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">值得称赞的是，Bun.js对未来有很大的野心。它的目标是取代Node.js，尽管做出这样的声明还为时过早。Bun.js的性能肯定是疯狂的，但是它试图一次替换很多工具，这给Bun.js的贡献者带来了很大的负担，而且它是用<a class="ae mk" href="https://ziglang.org/" rel="noopener ugc nofollow" target="_blank"> Zig </a>这种不是很流行的编程语言编写的，这使得搜索贡献者成为一项艰巨的任务，IMHO。</p><h1 id="f8ae" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">摘要</h1><p id="ba9d" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">Bun.js仍然是一个太年轻和不成熟的工具，需要几年的时间才能开发到可以在我们的生产应用程序中使用的程度。虽然它有很大的潜力。</p><p id="36b5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我相信现在Node.js/Deno会有更多的“动力”来尽可能地提高他们的表现，因为他们在市场上有一个潜在的强大竞争对手。</p><h2 id="1484" class="ml lo iq bd lp mm mn dn lt mo mp dp lx la mq mr lz le ms mt mb li mu mv md mw bi translated">接下来呢？</h2><p id="774d" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">想要更多Bun.js的实验？在下一篇文章中，我们将看到如何在AWS Lambda中使用它。</p><p id="9166" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">爱Node.js？你可以阅读我关于Node.js的其他文章:</p><ul class=""><li id="f0b9" class="nk nl iq kt b ku kv kx ky la nm le nn li no lm np nq nr ns bi translated"><a class="ae mk" rel="noopener ugc nofollow" target="_blank" href="/why-asynchronous-is-a-trend-c9892667e245">为什么异步是一种趋势？</a></li><li id="3a07" class="nk nl iq kt b ku nt kx nu la nv le nw li nx lm np nq nr ns bi translated"><a class="ae mk" rel="noopener ugc nofollow" target="_blank" href="/how-to-handle-blockers-in-node-js-1966d0399703">如何处理Node.js中的拦截器？</a></li></ul></div><div class="ab cl ny nz hu oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="ij ik il im in"><h1 id="60ee" class="ln lo iq bd lp lq of ls lt lu og lw lx jw oh jx lz jz oi ka mb kc oj kd md me bi translated">分级编码</h1><p id="317b" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="2b5b" class="nk nl iq kt b ku kv kx ky la nm le nn li no lm np nq nr ns bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="ac73" class="nk nl iq kt b ku nt kx nu la nv le nw li nx lm np nq nr ns bi translated">📰查看<a class="ae mk" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">级编码出版物</a>中的更多内容</li><li id="7f84" class="nk nl iq kt b ku nt kx nu la nv le nw li nx lm np nq nr ns bi translated">🔔关注我们:<a class="ae mk" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">推特</a> | <a class="ae mk" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a> | <a class="ae mk" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="cacd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">🚀👉<a class="ae mk" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir">加入升级人才集体，找到一份惊艳的工作</strong> </a></p></div></div>    
</body>
</html>