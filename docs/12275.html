<html>
<head>
<title>Deploy an Express Node.js Application to Heroku Quickly and Easily</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">快速轻松地将Express Node.js应用程序部署到Heroku</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/deploy-an-express-node-js-application-to-heroku-quickly-and-easily-100e5ce80b0f?source=collection_archive---------3-----------------------#2022-05-28">https://levelup.gitconnected.com/deploy-an-express-node-js-application-to-heroku-quickly-and-easily-100e5ce80b0f?source=collection_archive---------3-----------------------#2022-05-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="34f3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用Heroku，只需几个步骤就可以将Express Node.js应用程序部署到生产环境中。在这篇文章中，我将向您展示如何将Express Node.js应用程序部署到Heroku的分步指南。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/a7945a619e81a5b065060bcc5b248e57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y_-IRmNy6r5lGw1tMtVULA.png"/></div></div></figure><p id="9b39" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要快速入门，您可以使用我的回购模板<a class="ae la" href="https://github.com/simeg/express-heroku-example" rel="noopener ugc nofollow" target="_blank">simeg/express-heroku-example</a>。</p><h1 id="3a5d" class="lb lc it bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">什么是Heroku？</h1><p id="368c" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">Heroku是一个平台即服务(PaaS)，不应该与服务即服务(SaaS)混淆。它提供了一个爱好计划，你可以免费部署你的应用程序，但有一些限制。</p><p id="3ada" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于我所有的爱好网站项目，我都使用Heroku。我创造了像<a class="ae la" href="https://github.com/simeg/sudoku-js" rel="noopener ugc nofollow" target="_blank">数独-js </a>和<a class="ae la" href="https://github.com/simeg/impossible-tic-tac-toe" rel="noopener ugc nofollow" target="_blank">不可能-井字游戏</a>这样的东西。有关应用程序的链接，请参见“关于”部分。</p><h1 id="96ba" class="lb lc it bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">准备</h1><p id="3050" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">首先，安装Heroku CLI。如果你在苹果电脑上运行</p><pre class="kp kq kr ks gt me mf mg mh aw mi bi"><span id="0def" class="mj lc it mf b gy mk ml l mm mn">$ brew tap heroku/brew &amp;&amp; brew install heroku</span></pre><p id="a3ae" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">否则，前往Heroku的网站。</p><h1 id="d4ef" class="lb lc it bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">将Node.js应用程序部署到Heroku</h1><p id="e05c" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">现在您已经安装了CLI，我们可以开始编写一些代码了。我们将使用一个HTTP Express服务器的最小例子。</p><h2 id="713d" class="mj lc it bd ld mo mp dn lh mq mr dp ll kb ms mt lp kf mu mv lt kj mw mx lx my bi translated">Node.js应用程序</h2><p id="50d4" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">用<code class="fe mz na nb mf b">npm init</code>引导Node.js应用程序。然后用<code class="fe mz na nb mf b">npm i --save express</code>添加Express作为依赖。</p><p id="7418" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在让我们看看我们在<code class="fe mz na nb mf b">index.js</code>的slim Express服务器。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nc nd l"/></div><figcaption class="ne nf gj gh gi ng nh bd b be z dk translated">Slim Express服务器</figcaption></figure><p id="2c0c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你可以在这里阅读更多关于<a class="ae la" href="https://expressjs.com/" rel="noopener ugc nofollow" target="_blank">快递</a>。</p><p id="52a7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个HTTP服务器很简单。它有一个返回<code class="fe mz na nb mf b">200</code>和文本<code class="fe mz na nb mf b">Hello World!</code>的<code class="fe mz na nb mf b">GET</code>端点。</p><p id="7e80" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在我们已经准备好了服务器，我们需要一些额外的东西来将它部署到Heroku。首先我们需要一个<code class="fe mz na nb mf b">Procfile</code>。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nc nd l"/></div><figcaption class="ne nf gj gh gi ng nh bd b be z dk translated">Procfile</figcaption></figure><p id="3d36" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是Heroku在启动应用程序时读取的文件。如您所见，文件运行<code class="fe mz na nb mf b">npm start</code>，因此我们也需要创建它。我们把它加到<code class="fe mz na nb mf b">package.json</code>上。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nc nd l"/></div><figcaption class="ne nf gj gh gi ng nh bd b be z dk translated">package.json</figcaption></figure><p id="1797" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">另外，请注意<code class="fe mz na nb mf b">engines</code>部分。这是为了让Heroku知道使用什么运行时来运行您的应用程序。你可以在这个网站上看到Heroku支持哪些Node.js版本。</p><h2 id="eb9d" class="mj lc it bd ld mo mp dn lh mq mr dp ll kb ms mt lp kf mu mv lt kj mw mx lx my bi translated">部署到Heroku</h2><p id="0ea1" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">有几种方法可以部署到Heroku。我们将使用git，这是最简单的方法。</p><p id="9c8c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在所有的代码都写好了，我们需要提交它。</p><pre class="kp kq kr ks gt me mf mg mh aw mi bi"><span id="9824" class="mj lc it mf b gy mk ml l mm mn">$ git add .<br/>$ git commit -m "Initial commit"</span></pre><p id="a26a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后我们需要在Heroku上创建一个应用程序。</p><pre class="kp kq kr ks gt me mf mg mh aw mi bi"><span id="a261" class="mj lc it mf b gy mk ml l mm mn">$ heroku create</span></pre><p id="a580" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个命令还添加了一个名为<code class="fe mz na nb mf b">heroku</code>的git遥控器。这个遥控器是我们部署应用程序的地方。让我们现在就做吧！</p><pre class="kp kq kr ks gt me mf mg mh aw mi bi"><span id="00e1" class="mj lc it mf b gy mk ml l mm mn">$ git push heroku main</span></pre><p id="bea5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这一点上，Heroku将试图找出使用什么构建包。实际上，您正在部署什么类型的应用程序？因为我们在根目录中有一个<code class="fe mz na nb mf b">package.json</code>文件，它知道这是一个Node.js应用程序。</p><p id="a63b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当命令完成时，它将输出一个URL。让我们打开它！</p><pre class="kp kq kr ks gt me mf mg mh aw mi bi"><span id="acd2" class="mj lc it mf b gy mk ml l mm mn">...<br/>https://thawing-beyond-32509.herokuapp.com/ deployed to Heroku<br/>...</span></pre><p id="1d88" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们可以在浏览器中看到<code class="fe mz na nb mf b">Hello World!</code>。易如反掌！</p><p id="c53a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在您可以检查应用程序的日志了。</p><pre class="kp kq kr ks gt me mf mg mh aw mi bi"><span id="c937" class="mj lc it mf b gy mk ml l mm mn">$ heroku logs --tail</span></pre><h1 id="5fbf" class="lb lc it bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="2960" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">现在您已经知道如何将Node.js应用程序部署到Heroku。Heroku提供了很好的工具来快速启动并运行一些东西。但这仅仅是开始！Express允许您构建复杂的web应用程序。借助Heroku，您可以快速将它们部署到生产环境中。</p><p id="0796" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">查看Heroku的<a class="ae la" href="https://devcenter.heroku.com/articles/node-best-practices" rel="noopener ugc nofollow" target="_blank">node . js开发的最佳实践</a>以获得提示和技巧。而他们关于Node.js的<a class="ae la" href="https://devcenter.heroku.com/categories/nodejs-support" rel="noopener ugc nofollow" target="_blank">页面</a>也是有用的。</p></div><div class="ab cl ni nj hx nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="im in io ip iq"><p id="a357" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="np">在</em><a class="ae la" href="https://twitter.com/prplcode" rel="noopener ugc nofollow" target="_blank"><em class="np">Twitter</em></a><em class="np">，</em><a class="ae la" href="https://linkedin.com/in/simeg" rel="noopener ugc nofollow" target="_blank"><em class="np">LinkedIn</em></a><em class="np">，或者</em> <a class="ae la" href="https://github.com/simeg" rel="noopener ugc nofollow" target="_blank"> <em class="np"> GitHub </em> </a></p><p id="3816" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="np">最初发布于</em><a class="ae la" href="https://prplcode.dev/" rel="noopener ugc nofollow" target="_blank"><em class="np">prplcode . dev</em></a></p></div></div>    
</body>
</html>