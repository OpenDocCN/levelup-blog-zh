<html>
<head>
<title>March LeetCoding Challenge 2021 — Day 18: Wiggle Subsequence</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">2021年三月电码挑战—第18天:摆动序列</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/march-leetcoding-challenge-2021-day-18-wiggle-subsequence-3c408287325b?source=collection_archive---------11-----------------------#2021-03-18">https://levelup.gitconnected.com/march-leetcoding-challenge-2021-day-18-wiggle-subsequence-3c408287325b?source=collection_archive---------11-----------------------#2021-03-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="93a8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">今天，我们将解决三月电码挑战的第18个问题。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/70c845d0aa34813da4e17f3492916d9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4JqChwcIHy0GzdoAFm5L2g.png"/></div></div></figure></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><h1 id="e96c" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">问题陈述</h1><p id="28e1" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">给定一个整数数组<code class="fe mh mi mj mk b">nums</code>，返回<em class="ml">长度最长的</em> <strong class="jp ir"> <em class="ml">摆动序列</em> </strong>。</p><p id="26b0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">摆动序列</strong>是一个序列，其中连续数字之间的差严格地在正负之间交替。第一个差异(如果存在的话)可能是正的，也可能是负的。少于两个元素的序列通常是摆动序列。</p><ul class=""><li id="868e" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated">例如，<code class="fe mh mi mj mk b">[1, 7, 4, 9, 2, 5]</code>是一个<strong class="jp ir">摆动序列</strong>，因为差异<code class="fe mh mi mj mk b">(6, -3, 5, -7, 3)</code>是正负交替的。</li><li id="fee2" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">相反，<code class="fe mh mi mj mk b">[1, 4, 7, 2, 5]</code>和<code class="fe mh mi mj mk b">[1, 7, 4, 5, 5]</code>不是摆动序列，第一个是因为它的前两个差是正的，第二个是因为它的最后一个差是零。</li></ul><p id="8f3c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一个<strong class="jp ir">子序列</strong>通过从原始序列中删除一些元素(最终也是零)而获得，剩下的元素保持其原始顺序。</p><p id="7680" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">例1: </strong></p><pre class="km kn ko kp gt na mk nb nc aw nd bi"><span id="2267" class="ne lf iq mk b gy nf ng l nh ni"><strong class="mk ir">Input:</strong> nums = [1,7,4,9,2,5]<br/><strong class="mk ir">Output:</strong> 6<br/><strong class="mk ir">Explanation:</strong> The entire sequence is a wiggle sequence.</span></pre><p id="7a52" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">例2: </strong></p><pre class="km kn ko kp gt na mk nb nc aw nd bi"><span id="0256" class="ne lf iq mk b gy nf ng l nh ni"><strong class="mk ir">Input:</strong> nums = [1,17,5,10,13,15,10,5,16,8]<br/><strong class="mk ir">Output:</strong> 7<br/><strong class="mk ir">Explanation:</strong> There are several subsequences that achieve this length. One is [1,17,10,13,10,16,8].</span></pre><p id="3399" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">例3: </strong></p><pre class="km kn ko kp gt na mk nb nc aw nd bi"><span id="66b3" class="ne lf iq mk b gy nf ng l nh ni"><strong class="mk ir">Input:</strong> nums = [1,2,3,4,5,6,7,8,9]<br/><strong class="mk ir">Output:</strong> 2</span></pre></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><h1 id="495c" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">解决办法</h1><p id="8387" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">对于这个问题，我们必须找到最长的摆动子序列。摆动子序列意味着连续元素之间的差异在正负之间交替。</p><p id="8354" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了解决这个问题，我们将使用动态规划。我们将通过两种方法，一种是使用<code class="fe mh mi mj mk b">O(n²)</code>，另一种是使用<code class="fe mh mi mj mk b">O(n)</code>。</p><p id="fda3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">方法1: </strong>我们将使用两个数组<code class="fe mh mi mj mk b">up </code>和<code class="fe mh mi mj mk b">down</code>。<code class="fe mh mi mj mk b">up </code>数组是指结束元素为上升摆动的最长摆动子序列的长度。类似地，<code class="fe mh mi mj mk b">down </code>数组指的是最长摆动子序列的长度，其中结束元素是下降摆动。</p><p id="82a1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当我们在指数<code class="fe mh mi mj mk b">i</code>处发现一个上升的波动时，我们将更新<code class="fe mh mi mj mk b">up[i]</code>。但是有一个问题。我们必须考虑前面的摆动子序列，它以下降摆动结束(因为我们需要确保子序列总体上是摆动的)。在<code class="fe mh mi mj mk b">down[i]</code>的情况下，我们遵循相同的方法。</p><p id="86a5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">代码如下。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="c0f3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里我们使用了两个循环。为了检查索引<code class="fe mh mi mj mk b">i</code>处的最长摆动子序列，我们检查从0到<code class="fe mh mi mj mk b">i-1</code>的每个元素。</p><p id="d11c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">时间复杂度:<code class="fe mh mi mj mk b">O(n²)</code>，n是数组的长度</p><p id="8e25" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">空间复杂度:<code class="fe mh mi mj mk b">O(n)</code>，n是数组的长度</p><p id="5e15" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">方法2: </strong>使用这种方法，我们只使用一个循环和两个名为up和down的数组。这里，我们有三个案例。</p><ul class=""><li id="bd95" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated">当<code class="fe mh mi mj mk b">nums[i]&gt;nums[i-1]</code>时:表示它向上摆动。所以它前面的元素必须是向下的。因此，<code class="fe mh mi mj mk b">up[i] = down[i-1]+1</code>和<code class="fe mh mi mj mk b">down[i]</code>将与<code class="fe mh mi mj mk b">down[i-1]</code>相同。</li><li id="b8ae" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">当<code class="fe mh mi mj mk b">nums[i]&lt;nums[i-1]</code>时:表示向下摆动，其之前的元素必须在向上位置。因此<code class="fe mh mi mj mk b">down[i] = 1+up[i-1]</code>和<code class="fe mh mi mj mk b">up[i]</code>将与<code class="fe mh mi mj mk b">up[i-1]</code>相同。</li><li id="ff4c" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">如果是<code class="fe mh mi mj mk b">nums[i]=nums[i-1]</code>，那么<code class="fe mh mi mj mk b">up[i]</code>将会是<code class="fe mh mi mj mk b">up[i-1]</code>而<code class="fe mh mi mj mk b">down[i]</code>将会是<code class="fe mh mi mj mk b">down[i-1]</code>。</li></ul><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nl"><img src="../Images/d927bc1c3f73981c514757d58b9b55c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*MgzyW08XYtsfyoLk6ku8Qw.gif"/></div></div></figure><p id="f9dd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">代码如下。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="f128" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">时间复杂度:<code class="fe mh mi mj mk b">O(n)</code>，n是数组的长度</p><p id="02ca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">空间复杂度:<code class="fe mh mi mj mk b">O(n)</code>，n是数组的长度</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="7040" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">代码可以在这里找到</p><div class="nm nn gp gr no np"><a href="https://github.com/sksaikia/LeetCode/tree/main/src/MarchLeetcodeChallenge2021" rel="noopener  ugc nofollow" target="_blank"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd ir gy z fp nu fr fs nv fu fw ip bi translated">sksaikia/LeetCode</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">在GitHub上创建一个帐户，为sksaikia/LeetCode开发做贡献。</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">github.com</p></div></div><div class="ny l"><div class="nz l oa ob oc ny od kv np"/></div></div></a></div></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="50b8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">看看我在2021年3月LeetCoding挑战赛上的其他帖子。</p><ol class=""><li id="b13d" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk oe ms mt mu bi translated"><a class="ae of" href="https://medium.com/dev-genius/march-leetcoding-challenge-2021-problem-1-distribute-candies-f37f66ea7ee9" rel="noopener">三月吃糖挑战——第一天——分发糖果</a></li><li id="2b9a" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk oe ms mt mu bi translated"><a class="ae of" href="https://sourav-saikia.medium.com/march-leetcoding-challenge-2021-day-2-set-mismatch-4abd5ee491c9" rel="noopener">三月LeetCoding挑战赛—第二天—设置不匹配</a></li><li id="704e" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk oe ms mt mu bi translated"><a class="ae of" href="https://sourav-saikia.medium.com/march-leetcoding-challenge-2021-day-3-missing-number-ae8ee45a58cb" rel="noopener">三月电码挑战—第三天—缺少号码</a></li><li id="032b" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk oe ms mt mu bi translated"><a class="ae of" href="https://sourav-saikia.medium.com/march-leetcoding-challenge-2021-day-4-intersection-of-two-linked-lists-a775449b5563" rel="noopener">3月LeetCoding挑战赛—第4天—两个链表的交集</a></li><li id="9805" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk oe ms mt mu bi translated"><a class="ae of" href="https://link.medium.com/sC9L595opeb" rel="noopener">三月LeetCoding挑战赛—第5天—二叉树平均水平</a></li><li id="ead4" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk oe ms mt mu bi translated"><a class="ae of" href="https://medium.com/leetcode-simplified/march-leetcoding-challenge-2021-day-6-short-encoding-of-words-7fed4bfae557" rel="noopener">三月电子编码挑战—第6天—单词的短编码</a></li><li id="3297" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk oe ms mt mu bi translated"><a class="ae of" rel="noopener ugc nofollow" target="_blank" href="/leetcode-706-design-hashmap-march-leetcoding-challenge-2021-fdae1a4adbc">三月电子编码挑战—第7天—设计散列表</a></li><li id="5b22" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk oe ms mt mu bi translated"><a class="ae of" href="https://sourav-saikia.medium.com/march-leetcoding-challenge-2021-day-8-remove-palindromic-subsequences-12b037705722" rel="noopener">三月LeetCoding挑战—第8天—移除回文子序列</a></li><li id="69f9" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk oe ms mt mu bi translated"><a class="ae of" href="https://medium.com/leetcode-simplified/march-leetcoding-challenge-2021-day-10-integer-to-roman-76caa87a0e07" rel="noopener">三月LeetCoding挑战赛——第10天——整数变罗马</a></li><li id="3f2a" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk oe ms mt mu bi translated"><a class="ae of" href="https://medium.com/dev-genius/march-leetcoding-challenge-2021-day-12-check-if-a-string-contains-all-binary-codes-of-size-k-48f1fed4d9b9" rel="noopener">三月LeetCoding挑战赛——第12天——检查一个字符串是否包含所有大小为K的二进制代码</a></li><li id="dc36" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk oe ms mt mu bi translated"><a class="ae of" href="https://medium.com/leetcode-simplified/march-leetcoding-challenge-2021-day-14-swapping-nodes-in-a-linked-list-a540785c816f" rel="noopener">三月LeetCoding挑战赛——第14天——交换链表中的节点</a></li><li id="2129" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk oe ms mt mu bi translated"><a class="ae of" href="https://medium.com/dev-genius/march-leetcoding-challenge-2021-day-15-encode-and-decode-tinyurl-bfeeba44308e" rel="noopener">三月电子编码挑战—第15天—编码和解码TinyURL </a></li></ol></div></div>    
</body>
</html>