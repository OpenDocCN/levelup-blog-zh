<html>
<head>
<title>Troubleshooting general software problems in Linux</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Linux中常见软件问题的故障排除</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/troubleshooting-general-software-problems-in-linux-1524db667e25?source=collection_archive---------2-----------------------#2020-10-23">https://levelup.gitconnected.com/troubleshooting-general-software-problems-in-linux-1524db667e25?source=collection_archive---------2-----------------------#2020-10-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/1151ab8e7081783ff9960285a4babba1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vp4PNgZ5gOFyA3Ss"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">马修·韦林在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="a216" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">继续故障排除经验，现在是时候转移到软件角度了。这需要一定的心态来发现和解决问题，因为错误实际上可能存在于许多向量中。</p><p id="fa1e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你有一定的系统管理员或软件开发人员的经验，这个过程会变得很容易，当然，最好有一定的技术背景来正确地完成这个过程。</p><p id="329d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要排除故障，我们需要一些问题，对吗？不幸的是，这个软件非常庞大，可能有大量的问题需要解决。也可以被看作是好的东西，更好的改进机会等。另一天的东西。</p><h2 id="4981" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">问题的类型</h2><p id="7120" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">这里需要的第一个好的分析提示是检测问题产生的位置。为了便于理解，我尝试将许多常见因素归类到一个小列表中，包括:</p><ol class=""><li id="ebf8" class="lz ma iq kf b kg kh kk kl ko mb ks mc kw md la me mf mg mh bi translated"><strong class="kf ir">硬件</strong> <strong class="kf ir">问题</strong>:这主要集中在你系统中的物理问题，来自电线、插头或掉落的磁盘。一个好的直接解决方法是修复或更换故障或损坏的零件。</li><li id="c4b5" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated">操作系统的内核问题:这种情况并不常见，但也有可能发生。很多时候，问题输出是用内核的语义版本来表示的，如果出于某种原因，您正在使用一个实验性的内核版本，问题就不言自明了。有很多很多方法可以解决这个问题，但总的来说，你将结束修补那些内核错误，然后重新编译内核，或者替换整个内核并重新开始。</li><li id="420e" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated"><strong class="kf ir">应用软件</strong>:根据所用程序的类型，一些预期的功能可能会因环境或配置而工作，为此，您可以随时检查日志以获得确切的错误，很多时候这些问题可能与系统设置中的错误配置或损坏的标志有关。</li><li id="91a8" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated"><strong class="kf ir">配置问题</strong>:可能出现在系统范围内，应用软件故障排除方法也适用于此。</li><li id="719d" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated"><strong class="kf ir">用户问题</strong>:相关用户账号问题。时钟，用户密码，显示器设置，以及所有那些无聊的东西。</li></ol><p id="b015" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦您检测到可能的问题载体，您就可以开始计划故障排除过程。这个计划可以通过4个简单的步骤来恢复，从<strong class="kf ir">观察问题行为</strong>开始，这里的目标是能够重现问题。然后，我们可以转到<strong class="kf ir">制定对问题原因的猜测</strong>(设定问题的原因)。</p><p id="7e7b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此时，我们可以<strong class="kf ir">尝试修复问题</strong>，在这里，你应该修复并记录你修复的内容，确保更改解决了所有问题。如果没有，第四步也是最后一步是返回到第一步，重复整个过程，直到完全验证。</p><h2 id="0c7a" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">预防措施</h2><p id="9c60" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">软件上的问题，生活上的问题，一切的问题，都是不可避免的。但是当与软件相对应时，我们可以通过简单有效的措施来防止错误。</p><p id="c6c3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">就硬件而言，预防很简单，<strong class="kf ir">购买受支持的元素</strong>，这将给你带来更少的问题，因为已经由制造商甚至早期采用者社区进行了测试。</p><p id="d7af" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">另一个常见的错误行为是<strong class="kf ir">处理器超频。</strong>如果您超过了处理器的平均速度(提高了时钟频率),那么它将产生更多的热量，相应的硬件可能会出现故障或使整个系统崩溃(散热能力较慢)</p><p id="81a3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在软件方面，还有更多的事情要做，一件简单的事情就是远离测试版软件，这是相当令人兴奋的，但会由于未经测试的行为而导致问题。此外，阅读日志文件，许多人不会这样做，浪费大量时间猜测和谷歌错误。</p><p id="7cc6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们暂时停留在<strong class="kf ir">日志</strong>上，在Linux环境中，<strong class="kf ir">日志</strong>目录位于<code class="fe mn mo mp mq b">/var/log</code>目录中。</p><p id="076f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里的另一件事是，您可以过滤和检查<code class="fe mn mo mp mq b">/etc/syslog.conf</code>文件中的更多信息，它会告诉您代表什么类型的设施或服务器，以及写入的特定日志文件。</p><blockquote class="mr ms mt"><p id="d9d8" class="kd ke mu kf b kg kh ki kj kk kl km kn mv kp kq kr mw kt ku kv mx kx ky kz la ij bi translated"><strong class="kf ir">整个故障诊断都是为了收集信息，以便尽可能确定地采取行动。</strong></p></blockquote><p id="dc32" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我。</p><h2 id="1e5f" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">收集系统信息</h2><p id="6be2" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">有很多方法(命令)来获取关于操作系统及其状态的信息，如网络、磁盘、打印机等。此外，还有像<code class="fe mn mo mp mq b">top</code>或<code class="fe mn mo mp mq b">htop</code>命令这样的系统进程监控工具。</p><p id="9d60" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们从内核操作系统信息开始，这里使用的最好命令是<code class="fe mn mo mp mq b">dmesg</code>命令，这个命令显示内核环形缓冲区(内核消息)，这些消息通常写在其他引导文件中</p><p id="3d10" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通过执行<code class="fe mn mo mp mq b">dmesg</code>,您将获得关于系统、硬件、驱动程序、处理器速度、高速缓存、可用内存、驱动程序信息等信息，这对于诊断问题来说非常重要。</p><p id="edec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以使用:</p><ol class=""><li id="1e2c" class="lz ma iq kf b kg kh kk kl ko mb ks mc kw md la me mf mg mh bi translated">用于联网:<code class="fe mn mo mp mq b">ifconfig</code></li><li id="563d" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated">对于磁盘统计:<code class="fe mn mo mp mq b">du</code>、<code class="fe mn mo mp mq b">df</code>或<code class="fe mn mo mp mq b">fdisk</code></li><li id="7026" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated">对于打印机:<code class="fe mn mo mp mq b">lpq</code></li><li id="d2e1" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated">对于进程:<code class="fe mn mo mp mq b">top</code>或<code class="fe mn mo mp mq b">htop</code>都是交互式命令，用于获取系统中使用的Pid、用户、进程、大小和内存使用等信息。</li></ol><h2 id="faeb" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">启动或停止进程</h2><p id="d651" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">许多正在运行的服务在<code class="fe mn mo mp mq b">/etc/init.d</code>目录中被引用，一些命令如<code class="fe mn mo mp mq b">systemctl</code>或<code class="fe mn mo mp mq b">service</code>可以在运行时正确处理程序的状态。</p><p id="0cbc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当遇到不好的行为时，有时可能是一个挂起的进程，许多开发人员使用<code class="fe mn mo mp mq b">kill</code>命令来完成执行，但现实是你没有正确地停止程序，最好是<code class="fe mn mo mp mq b">start</code>或<code class="fe mn mo mp mq b">stop</code>进程，然后重新访问配置脚本或日志来检查行为。有些程序会生成<code class="fe mn mo mp mq b">lock</code>文件，里面保存着控制程序，有时这个文件会因为这个文件的存在而让系统无法启动。</p><h2 id="3331" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">有用的命令</h2><p id="3419" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">在讨论引导问题之前，我们可以重温一些用于文件定位、时间访问和过滤的有用命令。</p><p id="122f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mn mo mp mq b">find</code>命令从特定的目录集开始查找系统。这里有一个例子:<code class="fe mn mo mp mq b">find / -name *.local</code>，这里我们过滤的是<code class="fe mn mo mp mq b">.local</code>格式的文件，另外，通过<code class="fe mn mo mp mq b">-amin [n|-n|+n]</code>我们可以过滤在<code class="fe mn mo mp mq b">N</code>分钟内访问过的文件。</p><p id="cf08" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于使用正则表达式过滤，我们使用<code class="fe mn mo mp mq b">grep</code>命令，对于日志，<code class="fe mn mo mp mq b">tail</code>命令对于访问底部(新)生成的记录非常有用。</p><p id="d046" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">其中大部分是纯基础的Linux命令，但值得一提。</p><h2 id="687d" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">启动问题</h2><p id="0a4a" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">免责声明:LILO适用于旧系统。现在默认使用GRUB</p><p id="5a39" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了更好地理解这一点，让我们倒回到BIOS系统启动时，它将检查硬件和内存，执行测试，如果所有测试都通过，它将指示转到磁盘的MBR，之后，它将获得访问MBR中的引导加载程序并与之交互的指令。这就是LILO作为Linux加载器的作用。</p><p id="e70f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我在以前的其他帖子中讨论了引导过程，但是出于故障排除的目的，最好直接解释LILO校验码。如今，LILO 已经被GRUB取代，成为大多数发行版的默认引导加载程序</p><p id="afba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果在引导过程中出现问题，<strong class="kf ir"> LILO </strong>可以通过使用字母(表示状态的加载程序片段)来显示错误代码。</p><p id="c9ad" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mn mo mp mq b">L</code>字母表示第一级已经加载，但增加了2位错误描述，这种状态主要表示磁盘错误代码。</p><p id="672f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mn mo mp mq b">LI</code>序列设置boot能够加载到第二阶段，在执行中有一些问题。<code class="fe mn mo mp mq b">LIL</code>和<code class="fe mn mo mp mq b">LILO</code>序列是一切都成功完成的好迹象。</p><p id="ca91" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在此之后，您可以更改某些内容或移动文件，但是<strong class="kf ir"> LILO </strong>将不能或不能直接从配置文件中恢复数据，您将需要再次运行LILO命令并使更改永久化</p><p id="68b2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">LILO的一个好处是它会坏掉，没有它你也可以启动系统。有一些像<code class="fe mn mo mp mq b">LoadLIN</code>这样的替代品，需要一份硬盘、一个引导驱动器和bin文件本身。如果没有，您可以使用<code class="fe mn mo mp mq b">Emergency mode boot disk</code>并使用最小分布来评估当前状态并做出决策。</p><h2 id="8003" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">备份问题</h2><p id="43bc" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">我们可以将备份问题分成两种类型。</p><p id="4678" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">计算机方面的问题，集中在错误配置的驱动程序和写权限(集中在设备上)，而没有分开设置文件权限(用户权限)</p><p id="2eeb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">备份设备端的问题是当我们遇到介质错误时。尝试恢复文件时，您可以遵循这些建议。</p><ol class=""><li id="dae4" class="lz ma iq kf b kg kh kk kl ko mb ks mc kw md la me mf mg mh bi translated">不要GZIP你的文件(在Tar上压缩)，因为如果有东西损坏了，你以后就不能恢复数据了</li><li id="fb5b" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated">不要滥用备份介质</li><li id="f15e" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated">尝试进行备份</li><li id="45e3" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated">确保您可以在进行备份后回滚信息。</li></ol><p id="adcd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">不是关于制作备份，而是关于制作格式良好且可用的备份</p><h2 id="fb55" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">应用问题</h2><p id="83ed" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">同样，两个视角，但以人为本。</p><p id="2133" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从用户(最终用户)的角度来看，您只需测试您的程序，检查它是否正常工作，如果您愿意，您可以对服务进行自我诊断和问题检测，并将其报告给所有者或利益相关者，以便以后进行改进。</p><p id="079f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从系统管理员的角度来看，保持系统的良好运行，监控一切。记住，你是你能衡量的人</p><h2 id="2af6" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">网络问题</h2><p id="196f" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">这个视角主要关注连通性。整个想法是为了防止连接故障。又为了什么。</p><ol class=""><li id="3fd8" class="lz ma iq kf b kg kh kk kl ko mb ks mc kw md la me mf mg mh bi translated">测试网络的每个部分(强制)</li><li id="fca5" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated">检查为服务器、动态/静态IP、网关和其他服务成功到达而设置的网络基础架构。</li><li id="8031" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated">本地网卡接口状态，一个完整的网络诊断。</li><li id="d053" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated">名称服务器注册管理机构配置和记录</li></ol></div></div>    
</body>
</html>