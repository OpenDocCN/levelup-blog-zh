<html>
<head>
<title>How to Sort Imports in React Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在React项目中对导入进行排序</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-sort-imports-in-react-project-550f5ce70cbf?source=collection_archive---------1-----------------------#2022-09-22">https://levelup.gitconnected.com/how-to-sort-imports-in-react-project-550f5ce70cbf?source=collection_archive---------1-----------------------#2022-09-22</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="54cc" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">Eslint和Prettier都有插件来做这个</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/b8e232c3f3c3710b7aadd43a262e6235.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Plo12pDsEHBF8WwV"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated">由<a class="ae kw" href="https://unsplash.com/@andretaissin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">安德烈·泰森</a>在<a class="ae kw" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="e73e" class="kx ky ir bd kz la lb lc ld le lf lg lh jx li jy lj ka lk kb ll kd lm ke ln lo bi translated">前言</h1><p id="ca14" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">最近我遇到了一个非常奇怪的风格错误。在一个SPA项目中，如果先访问页面A，再访问页面B，那么页面样式就会出现问题。如果直接访问B页，效果很好。这个bug花了我很多时间去修复，但是bug的原因很简单。pageA和pageB都导入一些相同的组件并覆盖样式，但是它们的顺序不同，这导致样式被覆盖。有一些演示代码:</p><pre class="kh ki kj kk gu ml mm mn mo aw mp bi"><span id="1728" class="mq ky ir mm b gz mr ms l mt mu">// Page A<br/>import "./styleA.css"; // override componentA and componentB style<br/>import CompA from 'component/a';<br/>import CompB from 'component/b';</span><span id="d005" class="mq ky ir mm b gz mv ms l mt mu">// Page B<br/>import CompA from 'component/a';<br/>import CompB from 'component/b';<br/>import "./styleB.css"; // override componentA and componentB style</span></pre><p id="3b80" class="pw-post-body-paragraph lp lq ir lr b ls mw js lu lv mx jv lx ly my ma mb mc mz me mf mg na mi mj mk ik bi translated">pageA自定义样式的优先级高于pageB自定义样式。</p><p id="e5ac" class="pw-post-body-paragraph lp lq ir lr b ls mw js lu lv mx jv lx ly my ma mb mc mz me mf mg na mi mj mk ik bi translated">他们可能有很多方法来修复这个bug，比如使用作用域css，命名空间等等..但是我发现最简单的方法是对进口商品进行分类。</p><p id="6f38" class="pw-post-body-paragraph lp lq ir lr b ls mw js lu lv mx jv lx ly my ma mb mc mz me mf mg na mi mj mk ik bi translated">在本文中，我们可以了解对导入进行排序的两种方法:</p><ol class=""><li id="5d98" class="nb nc ir lr b ls mw lv mx ly nd mc ne mg nf mk ng nh ni nj bi translated">较美丽</li><li id="6224" class="nb nc ir lr b ls nk lv nl ly nm mc nn mg no mk ng nh ni nj bi translated">埃斯林特</li></ol><p id="cb8f" class="pw-post-body-paragraph lp lq ir lr b ls mw js lu lv mx jv lx ly my ma mb mc mz me mf mg na mi mj mk ik bi translated">我正在使用VS代码开发一个react项目。我已经安装了VS代码的beautiful和eslint插件，不会在项目中单独安装。</p><h1 id="ab80" class="kx ky ir bd kz la lb lc ld le lf lg lh jx li jy lj ka lk kb ll kd lm ke ln lo bi translated">用更漂亮的分类进口货</h1><p id="906b" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">更漂亮的不支持这个功能，有一个很牛逼的插件可以用来排序导入——<a class="ae kw" href="https://github.com/trivago/prettier-plugin-sort-imports" rel="noopener ugc nofollow" target="_blank">GitHub——trivago/更漂亮的——插件——排序——导入</a>。</p><p id="5439" class="pw-post-body-paragraph lp lq ir lr b ls mw js lu lv mx jv lx ly my ma mb mc mz me mf mg na mi mj mk ik bi translated">首先，让我们安装它:</p><pre class="kh ki kj kk gu ml mm mn mo aw mp bi"><span id="0578" class="mq ky ir mm b gz mr ms l mt mu">npm install --save-dev @trivago/prettier-plugin-sort-imports</span><span id="7a5f" class="mq ky ir mm b gz mv ms l mt mu">// or use yarn<br/>yarn add --dev @trivago/prettier-plugin-sort-imports</span></pre><p id="c066" class="pw-post-body-paragraph lp lq ir lr b ls mw js lu lv mx jv lx ly my ma mb mc mz me mf mg na mi mj mk ik bi translated">然后，我们开始为这个插件配置规则。这个插件非常灵活，有一些API可以帮助我们定制订单。</p><p id="5515" class="pw-post-body-paragraph lp lq ir lr b ls mw js lu lv mx jv lx ly my ma mb mc mz me mf mg na mi mj mk ik bi translated">在我的项目中，我使用<code class="fe np nq nr mm b">importOrder</code>来定制导入的顺序，使用<code class="fe np nq nr mm b">importOrderSeparation</code>来分隔不同的部分:</p><pre class="kh ki kj kk gu ml mm mn mo aw mp bi"><span id="76f0" class="mq ky ir mm b gz mr ms l mt mu">// .prettierrc.json<br/>{<br/>  "importOrder": ["^react(.*)", "antd/(.*)", "&lt;THIRD_PARTY_MODULES&gt;", "@/(.*)", "^[./]"],<br/>  "importOrderSeparation": true<br/>}</span></pre><p id="66c1" class="pw-post-body-paragraph lp lq ir lr b ls mw js lu lv mx jv lx ly my ma mb mc mz me mf mg na mi mj mk ik bi translated">导入顺序如下:</p><ol class=""><li id="2a71" class="nb nc ir lr b ls mw lv mx ly nd mc ne mg nf mk ng nh ni nj bi translated">反应，反应王国，反应路由器</li><li id="cbbb" class="nb nc ir lr b ls nk lv nl ly nm mc nn mg no mk ng nh ni nj bi translated">antd(用户界面库)</li><li id="f7a9" class="nb nc ir lr b ls nk lv nl ly nm mc nn mg no mk ng nh ni nj bi translated">包装/第三方进口，如lodash。</li><li id="9bac" class="nb nc ir lr b ls nk lv nl ly nm mc nn mg no mk ng nh ni nj bi translated">项目别名导入</li><li id="1093" class="nb nc ir lr b ls nk lv nl ly nm mc nn mg no mk ng nh ni nj bi translated">相对进口</li></ol><p id="83fd" class="pw-post-body-paragraph lp lq ir lr b ls mw js lu lv mx jv lx ly my ma mb mc mz me mf mg na mi mj mk ik bi translated">这条规则的效果将是这样的:</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj ns"><img src="../Images/ffb34ce724b26d3e1c4a3f81739c3780.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*7ucjtKBm_2B8l3CdozfccA.gif"/></div></div></figure><p id="713d" class="pw-post-body-paragraph lp lq ir lr b ls mw js lu lv mx jv lx ly my ma mb mc mz me mf mg na mi mj mk ik bi translated">当保存文件时，将自动使用更漂亮的格式，所以将自动排序的进口。</p><h1 id="2215" class="kx ky ir bd kz la lb lc ld le lf lg lh jx li jy lj ka lk kb ll kd lm ke ln lo bi translated">使用Eslint对导入进行排序</h1><p id="a1ee" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">Eslint有很多用于排序导入的插件，比如<a class="ae kw" href="https://github.com/lydell/eslint-plugin-simple-import-sort" rel="noopener ugc nofollow" target="_blank">eslint-plugin-simple-import-sort</a>、<a class="ae kw" href="https://github.com/import-js/eslint-plugin-import" rel="noopener ugc nofollow" target="_blank"> eslint-plugin-import </a>、<a class="ae kw" href="https://eslint.org/docs/rules/sort-imports" rel="noopener ugc nofollow" target="_blank"> sort-imports </a>。我更喜欢使用<a class="ae kw" href="https://github.com/lydell/eslint-plugin-simple-import-sort" rel="noopener ugc nofollow" target="_blank">eslint-plugin-simple-import-sort</a>，这更容易，也是配置组的一个选项。在下面内容中，我们将学习如何使用它。</p><p id="f4a6" class="pw-post-body-paragraph lp lq ir lr b ls mw js lu lv mx jv lx ly my ma mb mc mz me mf mg na mi mj mk ik bi translated">首先，让我们在项目中安装依赖项:</p><pre class="kh ki kj kk gu ml mm mn mo aw mp bi"><span id="f58c" class="mq ky ir mm b gz mr ms l mt mu">npm install --save-dev eslint-plugin-simple-import-sort</span><span id="bce1" class="mq ky ir mm b gz mv ms l mt mu">// or use yarn<br/>yarn add eslint-plugin-simple-import-sort -D</span></pre><p id="7155" class="pw-post-body-paragraph lp lq ir lr b ls mw js lu lv mx jv lx ly my ma mb mc mz me mf mg na mi mj mk ik bi translated">然后，我们开始为这个插件配置规则:</p><pre class="kh ki kj kk gu ml mm mn mo aw mp bi"><span id="4713" class="mq ky ir mm b gz mr ms l mt mu">// .eslintrc.js<br/>module.exports = {<br/>  //...<br/>  plugin: ["simple-import-sort"],<br/>  rules: {<br/>    "simple-import-sort/imports": "error",<br/>    //if we want to group imports can use below.<br/>    "simple-import-sort/imports": ["error", {<br/>      groups: [<br/>        ["^react"],<br/>        ["^antd"],<br/>        ["^@?\\w"],<br/>        ["@/(.*)"],<br/>        ["^[./]"]<br/>      ]<br/>    }] <br/>  }<br/>}</span></pre><p id="48e7" class="pw-post-body-paragraph lp lq ir lr b ls mw js lu lv mx jv lx ly my ma mb mc mz me mf mg na mi mj mk ik bi translated">这将产生与“更漂亮”相同的效果，除了行与行之间的分隔符:</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj nt"><img src="../Images/1c865fa1be82583401cf3a34c5014fe3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*B7oQxVh51obfRMMav2Jehw.gif"/></div></div></figure><h1 id="7e76" class="kx ky ir bd kz la lb lc ld le lf lg lh jx li jy lj ka lk kb ll kd lm ke ln lo bi translated">结论</h1><p id="9925" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">在本文中，我们将学习如何使用eslint的learn对进口商品进行排序。建议使用更漂亮的方式，因为更漂亮会自动格式化代码样式，如分号、空格等。这两种方法都可以帮助我们编写更干净、可读和健壮的代码，特别是对于CSS规则覆盖。</p><p id="cba0" class="pw-post-body-paragraph lp lq ir lr b ls mw js lu lv mx jv lx ly my ma mb mc mz me mf mg na mi mj mk ik bi translated">感谢您的阅读，希望这篇文章能对您有所帮助，我期待您<strong class="lr is">跟随</strong>我学习更多实用技巧，成为一名更好的开发人员。</p></div><div class="ab cl nu nv hv nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="ik il im in io"><h1 id="5b10" class="kx ky ir bd kz la ob lc ld le oc lg lh jx od jy lj ka oe kb ll kd of ke ln lo bi translated">分级编码</h1><p id="fa43" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="bc60" class="nb nc ir lr b ls mw lv mx ly nd mc ne mg nf mk og nh ni nj bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="d22f" class="nb nc ir lr b ls nk lv nl ly nm mc nn mg no mk og nh ni nj bi translated">📰查看<a class="ae kw" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">升级编码出版物</a>中的更多内容</li><li id="569a" class="nb nc ir lr b ls nk lv nl ly nm mc nn mg no mk og nh ni nj bi translated">🔔关注我们:<a class="ae kw" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae kw" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae kw" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="15dd" class="pw-post-body-paragraph lp lq ir lr b ls mw js lu lv mx jv lx ly my ma mb mc mz me mf mg na mi mj mk ik bi translated">🚀👉<a class="ae kw" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="lr is">将像你这样的开发人员安置在顶级创业公司和科技公司</strong> </a></p></div></div>    
</body>
</html>