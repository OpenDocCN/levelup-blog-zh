<html>
<head>
<title>Learning C: The do-while Statement and the Input and Process Until Done Template</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">学习do-while语句以及输入和处理，直到完成模板</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/learning-c-the-do-while-statement-and-the-input-and-process-until-done-template-9f6b60bea048?source=collection_archive---------11-----------------------#2021-04-07">https://levelup.gitconnected.com/learning-c-the-do-while-statement-and-the-input-and-process-until-done-template-9f6b60bea048?source=collection_archive---------11-----------------------#2021-04-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/2eca49c729e13d28be0160698ac12cf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qNoUKCPX3YXGO5To"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@priscilladupreez?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">普里西拉·杜·普里兹</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="5fcd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我将使用<code class="fe lf lg lh li b">do-while</code>语句演示另一种实现<em class="le">输入和处理直到完成</em>模板的方法。<code class="fe lf lg lh li b">while</code>语句和<code class="fe lf lg lh li b">do-while</code>语句的主要区别在于<code class="fe lf lg lh li b">do-while</code>语句在循环的底部测试条件，而不是像<code class="fe lf lg lh li b">while</code>语句那样在循环的顶部测试。</p><h1 id="b243" class="lj lk it bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">输入并处理，直到完成模板审核</h1><p id="84e5" class="pw-post-body-paragraph kg kh it ki b kj mh kl km kn mi kp kq kr mj kt ku kv mk kx ky kz ml lb lc ld im bi translated">以下是该模板的伪代码:</p><p id="d8fc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">重复以下操作直到完成:<br/>读取数值<br/>处理数值</em></p><p id="c2ca" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我将使用下面的<code class="fe lf lg lh li b">do-while</code>语句来演示，通过输入所有考试分数来确定考试的平均分数，然后在输入最后一个考试分数后计算平均值。以下是此问题的一些可能的伪代码:</p><p id="2a50" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">当有更多分数要输入时:<br/>提示用户输入分数<br/>从键盘上获得分数<br/>将分数加到累计分数上<br/>计算平均值</em></p><p id="da47" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在让我们看看如何使用<code class="fe lf lg lh li b">do-while</code>语句实现这个模板。</p><h1 id="355e" class="lj lk it bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">do-while语句</h1><p id="cea6" class="pw-post-body-paragraph kg kh it ki b kj mh kl km kn mi kp kq kr mj kt ku kv mk kx ky kz ml lb lc ld im bi translated">以下是do-while语句的语法模板:</p><p id="3516" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le"> do { <br/>语句；<br/> } while(条件)；</em></p><p id="0095" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">同样，这条语句和<code class="fe lf lg lh li b">while</code>语句的区别在于，条件是在循环的底部测试的，而不是在循环的顶部。这实际上意味着一条<code class="fe lf lg lh li b">do-while</code>语句总是至少要执行一次，因为循环体是在条件之前遇到的。</p><p id="ad93" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们看第一个简单的例子，从1数到10:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="ea85" class="mu lk it li b gy mv mw l mx my">#include &lt;stdio.h&gt;<br/>#include &lt;stdlib.h&gt;</span><span id="66ef" class="mu lk it li b gy mz mw l mx my">int main()<br/>{<br/>  int number = 1;<br/>  do {<br/>    printf("Number: %d\n", number);<br/>    number++;<br/>  } while (number &lt;= 10);<br/>  return 0;<br/>}</span></pre><p id="91b6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个程序的输出是:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="9fa2" class="mu lk it li b gy mv mw l mx my">Number: 1<br/>Number: 2<br/>Number: 3<br/>Number: 4<br/>Number: 5<br/>Number: 6<br/>Number: 7<br/>Number: 8<br/>Number: 9<br/>Number: 10</span></pre><p id="6a70" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在让我们看一个更实际的例子。我想要一个程序，允许我输入任何数量的考试分数，然后当我退出输入分数，该程序计算并显示平均分数。下面是使用<code class="fe lf lg lh li b">do-while</code>语句的程序:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="c58c" class="mu lk it li b gy mv mw l mx my">int main()<br/>{<br/>  int grade, total = 0, count = 0;<br/>  do {<br/>    printf("Enter a grade: ");<br/>    scanf("%d", &amp;grade);<br/>    total += grade;<br/>    count++;<br/>  } while (grade != -1);<br/>  double average = (float) total / count;<br/>  printf("The average grade is %f\n", average);<br/>  return 0;<br/>}</span></pre><p id="27f2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">该程序不计算正确的平均值:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="b185" class="mu lk it li b gy mv mw l mx my">Enter a grade: 60<br/>Enter a grade: 70<br/>Enter a grade: 80<br/>Enter a grade: -1</span></pre><p id="bf62" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">问题是-1的分数被加到总分中，总分数是4而不是3。当然，解决这一问题的一种方法是退回最后一个标记等级，并调整输入的等级总数，从而生成以下程序:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="9424" class="mu lk it li b gy mv mw l mx my">int main()<br/>{<br/>  int grade, total = 0, count = 0;<br/>  do {<br/>    printf("Enter a grade: ");<br/>    scanf("%d", &amp;grade);<br/>    total += grade;<br/>    count++;<br/>  } while (grade != -1);<br/>  total++;<br/>  count--;<br/>  double average = (float) total / count;<br/>  printf("The average grade is %f\n", average);<br/>  return 0;<br/>}</span></pre><p id="f95f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当然，更好的答案是根本不使用<code class="fe lf lg lh li b">do-while</code>语句编写这样的程序。对于这个问题，没有理由不使用<code class="fe lf lg lh li b">while</code>语句。</p><p id="1084" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，在某些情况下,<code class="fe lf lg lh li b">do-while </code>声明更受青睐。例如，当您想要对来自用户的一些输入进行数据验证时，可以使用<code class="fe lf lg lh li b">do-while</code>语句。对于这种情况，您希望输入首先发生，然后根据条件测试该输入。</p><p id="78e2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，下面是一个小程序，它验证输入的测试分数是否在0到100之间:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="fefe" class="mu lk it li b gy mv mw l mx my">int main()<br/>{<br/>  int grade;<br/>  do {<br/>    printf("Enter a grade: ");<br/>    scanf("%d", &amp;grade);<br/>  } while (grade &lt; 0 || grade &gt; 100);<br/>  printf("You entered %d.\n", grade);<br/>  return 0;<br/>}</span></pre><p id="4772" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是该程序运行的输出:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="63a5" class="mu lk it li b gy mv mw l mx my">Enter a grade: -1<br/>Enter a grade: 101<br/>Enter a grade: -123<br/>Enter a grade: 1234<br/>Enter a grade: 88<br/>You entered 88.</span></pre><p id="f45d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我可以用一个<code class="fe lf lg lh li b">while</code>循环写同样的程序，但是使用一个<code class="fe lf lg lh li b">do-while</code>对这种类型的问题更有意义。</p><p id="0a31" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有许多应用程序包含可以用<code class="fe lf lg lh li b">while</code>语句或<code class="fe lf lg lh li b">do-while</code>语句编写的循环。例如，下面是一个程序，它使用一个<code class="fe lf lg lh li b">while </code>语句来计算从500美元开始，在利率为2%的情况下，在银行账户中赚取某个5000美元需要多长时间:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="fb5e" class="mu lk it li b gy mv mw l mx my">int main()<br/>{<br/>  const double RATE = 1.02;<br/>  double balance = 500.0;<br/>  int years = 0;<br/>  while (balance &lt; 5000) {<br/>    years++;<br/>    balance *= RATE;<br/>  }<br/>  printf("It will take %d years to reach $5000.\n", years);<br/>  return 0;<br/>}</span></pre><p id="2177" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是用<code class="fe lf lg lh li b">do-while</code>语句编写的相同程序:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="28f1" class="mu lk it li b gy mv mw l mx my">int main()<br/>{<br/>  const double RATE = 1.02;<br/>  double balance = 500.0;<br/>  int years = 0;<br/>  do {<br/>    years++;<br/>    balance *= RATE;<br/>  } while (balance &lt; 5000);<br/>  printf("It will take %d years to reach $5000.\n", years);<br/>  return 0;<br/>}</span></pre><p id="cfb4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是两个程序的输出:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="ee4c" class="mu lk it li b gy mv mw l mx my">It will take 117 years to reach $5000.</span></pre><p id="031a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">大多数专业程序员会说使用<code class="fe lf lg lh li b">while</code>语句而不是<code class="fe lf lg lh li b">do-while</code>语句，因为它对大多数程序员来说更熟悉，但我在这里的观点是证明两种形式都可以处理相同的问题，从<code class="fe lf lg lh li b">whi</code> le语句到<code class="fe lf lg lh li b">do-while</code>语句几乎没有变化。</p><h1 id="6610" class="lj lk it bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">何时使用do-while语句</h1><p id="3ac5" class="pw-post-body-paragraph kg kh it ki b kj mh kl km kn mi kp kq kr mj kt ku kv mk kx ky kz ml lb lc ld im bi translated">我的讨论表明，在某些情况下，<code class="fe lf lg lh li b">do-while</code>语句比<code class="fe lf lg lh li b">while</code>语句更好。当循环体确实需要在测试条件之前至少执行一次时，应该首选<code class="fe lf lg lh li b">do-while</code>语句。一个明显的情况是数据验证例程需要在循环结束时检查用户输入的内容。在这种情况下使用<code class="fe lf lg lh li b">while</code>循环通常需要在进入循环之前从用户处获得输入，然后在循环底部再次从用户处获得输入。</p><p id="0606" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">作为复习，这里有另一个例子，这次演示了一个用户登录程序片段:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="86f8" class="mu lk it li b gy mv mw l mx my">int main()<br/>{<br/>  const int PIN = 1234;<br/>  int user_pin;<br/>  do {<br/>    printf("Enter your pin: ");<br/>    scanf("%d", &amp;user_pin);<br/>  } while (user_pin != PIN);<br/>  printf("Pin accepted.\n");<br/>  return 0;<br/>}</span></pre><p id="ff96" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是这个程序运行一次的输出:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="d2b4" class="mu lk it li b gy mv mw l mx my">Enter your pin: 1235<br/>Enter your pin: 5432<br/>Enter your pin: 2341<br/>Enter your pin: 1234<br/>Pin accepted.</span></pre><p id="8796" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">关于<code class="fe lf lg lh li b">do-while</code>声明的这篇文章到此结束。在我的下一篇文章中，我将讨论C中的第三种主要循环类型——<code class="fe lf lg lh li b">for</code>语句。</p><p id="6640" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢您的阅读，请回复这篇文章或发邮件给我，告诉我您的意见和建议。</p></div></div>    
</body>
</html>