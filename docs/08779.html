<html>
<head>
<title>Using C# in Unity to Create an Enemy On Death Behavior</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Unity中使用C#创建一个死亡行为的敌人</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/using-c-in-unity-to-create-an-enemy-on-death-behavior-a595f76d9f07?source=collection_archive---------1-----------------------#2021-06-04">https://levelup.gitconnected.com/using-c-in-unity-to-create-an-enemy-on-death-behavior-a595f76d9f07?source=collection_archive---------1-----------------------#2021-06-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/865983e636aa47411c1031e83e0f7c7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*DUr4I_cp_TXAUVr23FN-3Q.gif"/></div></div></figure><div class=""/><p id="fed7" class="pw-post-body-paragraph kc kd je ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">视频游戏在展示各种死亡行为方面有着丰富的历史。如果我正在处理机械的和潜在易燃的游戏物体，比如汽车或飞机，我可能想在敌人死亡时制造一次爆炸。我可以通过给敌人<strong class="ke jf">游戏对象</strong>附加一个爆炸<strong class="ke jf">动画</strong>，然后使用<strong class="ke jf">动画器</strong>中的<strong class="ke jf">触发参数</strong>来播放当敌人<strong class="ke jf">与<strong class="ke jf">玩家</strong>或<strong class="ke jf">抛射体</strong>碰撞</strong>时的爆炸动画。敌方游戏对象本身也可以持有任何可能想玩的爆炸<strong class="ke jf">音效FX </strong>。由此可能产生的一个潜在问题是，如果你的敌人有<strong class="ke jf">碰撞器</strong>和/或<strong class="ke jf">发射</strong>武器。敌人游戏对象将需要保持<strong class="ke jf">活动</strong>与<strong class="ke jf">一样长</strong>，因为它需要<strong class="ke jf">爆炸动画</strong>和<strong class="ke jf">音效</strong>到<strong class="ke jf">播放</strong>出来。如果敌人应该在那一点上死亡，那么<strong class="ke jf">碰撞器</strong>应该被<strong class="ke jf">禁用</strong>，以及任何<strong class="ke jf">发射</strong>机制，除非你潜在地想要爆炸动画引起碰撞或发射射弹。</p><p id="87b6" class="pw-post-body-paragraph kc kd je ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">另一个选择是从动画精灵爆炸序列中制作一个<strong class="ke jf">预设</strong>游戏对象，并且<strong class="ke jf">在<strong class="ke jf">敌人</strong>的<strong class="ke jf">位置</strong>处实例化</strong>它，就在它到期之前。同样的爆炸预设也可以包含当爆炸发生时触发的声音特效，并且没有碰撞器或火力对物体造成意外的行为。</p><p id="5c45" class="pw-post-body-paragraph kc kd je ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">在这篇文章中，我没有使用宇宙飞船、火箭甚至动画。只有我，我的海洋朋友，Unity和Visual Studio。我将向你展示我如何使用<strong class="ke jf">代码</strong>和Unity内置的<strong class="ke jf">物理</strong>引擎来制作一个简单的死亡行为。</p><p id="0e47" class="pw-post-body-paragraph kc kd je ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">在我的<strong class="ke jf">敌人脚本</strong>中，我需要一些<strong class="ke jf">变量</strong>给我想要访问的<strong class="ke jf">组件</strong>。</p><figure class="lb lc ld le gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi la"><img src="../Images/170e6bc41210a8105e1552954ab6757e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eXJEIoPPa-1F0rw2sZ8DGw.png"/></div></div></figure><p id="65d8" class="pw-post-body-paragraph kc kd je ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">在<strong class="ke jf"> void Start </strong>中，我使用<strong class="ke jf"> GetComponent </strong>抓取我想要的组件。</p><figure class="lb lc ld le gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lf"><img src="../Images/41ea552d0147418547d18dd124f3cd6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q1Cf2cdo4rJmYWHSFb1Drw.png"/></div></div></figure><p id="b4a5" class="pw-post-body-paragraph kc kd je ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">我的<strong class="ke jf"> OnTriggerEnter2D </strong>方法是敌人<strong class="ke jf">对撞机</strong>与<strong class="ke jf">玩家</strong>和<strong class="ke jf">抛射体</strong>游戏物体交互的地方，所以那是我需要做一些调整的地方。由于<strong class="ke jf">玩家和投射物都在杀死敌人，所以<strong class="ke jf">镜像</strong>两个碰撞的命令。我首先<strong class="ke jf">禁用</strong>碰撞器<strong class="ke jf">碰撞器</strong>，这样它就不会撞上并伤害应该已经死亡的玩家。然后我访问<strong class="ke jf">精灵渲染器</strong>并将精灵<strong class="ke jf">颜色</strong>从默认改为<strong class="ke jf">蓝色</strong>。这使得精灵变成了深蓝色，表明敌人不再是威胁。然后我将<strong class="ke jf"> Rigidbody2D </strong>上的<strong class="ke jf">重力刻度</strong>设置为<strong class="ke jf"> 1 </strong>(从零开始)，所以之前的零重力物体现在<strong class="ke jf">随着Unity的物理系统自由下落</strong>。</strong></p><figure class="lb lc ld le gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lg"><img src="../Images/e2b74d2f847da5e6ec95387ffbe7aa05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EaO843XlIapdcFz0rNceZw.png"/></div></div></figure><p id="8cdf" class="pw-post-body-paragraph kc kd je ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">下落的速度非常快，正如你对重力的预期。我可以使用我的<strong class="ke jf"> Rigidbody2D </strong>组件上的<strong class="ke jf">线性拖曳</strong>对话框，给<strong class="ke jf">添加拖曳</strong>，这将<strong class="ke jf">减缓</strong>物体下落时的<strong class="ke jf">下降</strong>。我知道现实生活中用独角兽射鱼是不会这样掉在海里的…我是说独角鲸的獠牙，但这毕竟是游戏。在这里，我制定规则！</p><figure class="lb lc ld le gt iv gh gi paragraph-image"><div class="gh gi lh"><img src="../Images/fc6970dc2b66a68d218da6bc9292ca6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:808/format:webp/1*cA4tp0XdezWy4-wQsRxnHw.png"/></div></figure><p id="47af" class="pw-post-body-paragraph kc kd je ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">最后，我<strong class="ke jf">翻转</strong>在<strong class="ke jf"> Y轴</strong>上的死敌鱼，这样它被杀死时会上下颠倒。可怜的小家伙。</p><figure class="lb lc ld le gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi li"><img src="../Images/c748097083e767445a9ddda7b12be23a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vVQ_Fy-4LzmYj9FwSc1tAg.png"/></div></div></figure><p id="cffb" class="pw-post-body-paragraph kc kd je ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">在我的下一篇文章中，我会给我的玩家一些受到伤害的动画，并展示如何通过动画师触发它。感谢阅读！</p></div></div>    
</body>
</html>