# å¦‚ä½•åœ¨ Next.js é¡¹ç›®ä¸­ä½¿ç”¨ SVG å›¾æ ‡

> åŸæ–‡ï¼š<https://levelup.gitconnected.com/how-to-use-svg-icons-in-a-next-js-project-f6f8256f9e12>

![](img/0fb9d61f5643ef3846f60efacf989cee.png)

[Pankaj Patel](https://unsplash.com/@pankajpatel?utm_source=medium&utm_medium=referral) åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šæ‹æ‘„çš„ç…§ç‰‡

## å‰è¨€

å¯¹äº SVGS æ¥è¯´ï¼ŒSVG å›¾æ ‡æ¯” png/jpeg æœ‰å¾ˆå¤šä¼˜åŠ¿ï¼Œå› ä¸ºå®ƒä»¬çš„å°ºå¯¸æ›´å°ï¼Œå¹¶ä¸”å¯ä»¥åƒæ”¹å˜ CSS å±æ€§å’ŒåŠ¨ç”»ä¸€æ ·è¿›è¡Œç¼–ç¨‹ã€‚

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ç ”ç©¶å¦‚ä½•åœ¨ Next.js é¡¹ç›®ä¸­ä½¿ç”¨ SVG å›¾æ ‡ã€‚æœ‰ 4 ç§æ–¹æ³•å¯ä»¥ç”¨æ¥æ˜¾ç¤º SVG å›¾æ ‡:

1.  ä½¿ç”¨ Next.js çš„`Image`ç»„ä»¶
2.  ä½¿ç”¨ [SVGR](https://react-svgr.com/docs/what-is-svgr/)
3.  å°† SVG å†…å®¹å†…è”åˆ° JSX
4.  ä½¿ SVG æˆä¸º JavaScript å¸¸é‡å˜é‡

## ä½¿ç”¨ Next.js çš„å›¾åƒç»„ä»¶

æ¯å½“æˆ‘ä»¬ä½¿ç”¨`create-next-app`åˆ›å»ºä¸€ä¸ª Next.js é¡¹ç›®æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°`public`ç›®å½•åŒ…å«ä¸€ä¸ª`vercel.svg`ï¼Œå®ƒåœ¨`page/index.tsx`æ–‡ä»¶ä¸­è¢«å¼•ç”¨ã€‚SVG å›¾æ ‡å‘ˆç°ä¸ºå›¾åƒ:

![](img/676debc1f93fb2e72e5a0390fa8fcafe.png)

`Image`æ˜¯ä¸€ä¸ª Next.js ç»„ä»¶ï¼Œå®ƒæ˜¯ HTML `<img>`å…ƒç´ çš„æ‰©å±•ï¼Œå…·æœ‰å¤šç§æ€§èƒ½ä¼˜åŒ–ã€‚

å¦‚æœä¸æƒ³ä½¿ç”¨è¿™ä¸ªç»„ä»¶ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨`<img>`å…ƒç´ ã€‚

```
<img src="/vercel.svg"" alt="Vercel Logo" />
```

## ä½¿ç”¨ SVGR

SVGR æ˜¯å°† SVG è½¬æ¢æˆ React ç»„ä»¶çš„å·¥å…·ï¼Œæ”¯æŒ Webpackã€Rollup.jsã€Next.js ç­‰ã€‚

å¯¹äº Next.js é¡¹ç›®ï¼Œæˆ‘ä»¬éœ€è¦é¦–å…ˆå®‰è£…`@svgr/webpack`åŠ è½½å™¨:

```
npm install --save-dev @svgr/webpack
```

ç„¶åä¿®æ”¹ Next.js é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„`next.config.js`ï¼Œé…ç½®`@svgr/webpack`:

```
module.exports = {
  webpack(config) {
    config.module.rules.push({
      test: /\.svg$/i,
      issuer: /\.[jt]sx?$/,
      use: ['[@svgr/webpack](http://twitter.com/svgr/webpack)'],
    }) return config
  },
}
```

ç„¶ååœ¨æˆ‘ä»¬çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°† SVG å›¾æ ‡ä½œä¸ºæ™®é€šçš„ React ç»„ä»¶å¯¼å…¥:

```
import VercelLogo from '../public/vercel.svg';const Footer = () => {
  return <footer> <VercelLogo /> </footer>
};
```

React ä¼šå°† SVG å›¾æ ‡å‘ˆç°ä¸º html `<svg>`å…ƒç´ ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ CSS æ”¹å˜é¢œè‰²æˆ–å…¶ä»–å±æ€§ã€‚

## å°† SVG å†…å®¹å†…è”åˆ° JSX

SVG å›¾æ ‡æ˜¯åŸºäº html `<svg>`å…ƒç´ çš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°† SVG å†…å®¹å†…è”åˆ° JSX:

```
const Footer = () => {
  return (
    <footer>
      <svg width="283" height="64" viewBox="0 0 283 64" fill="none" >
        <path d="M141.04 16c-11.04 0-19 7.2-19 18s8.96 18 20 18c6.67 0 12.55-2.64 16.19-7.09l-7.65-4.42c-2.02 2.21-5.09 3.5-8.54 3.5-4.79 0-8.86-2.5-10.37-6.5h28.02c.22-1.12.35-2.28.35-3.5 0-10.79-7.96-17.99-19-17.99zm-9.46 14.5c1.25-3.99 4.67-6.5 9.45-6.5 4.79 0 8.21 2.51 9.45 6.5h-18.9zM248.72 16c-11.04 0-19 7.2-19 18s8.96 18 20 18c6.67 0 12.55-2.64 16.19-7.09l-7.65-4.42c-2.02 2.21-5.09 3.5-8.54 3.5-4.79 0-8.86-2.5-10.37-6.5h28.02c.22-1.12.35-2.28.35-3.5 0-10.79-7.96-17.99-19-17.99zm-9.45 14.5c1.25-3.99 4.67-6.5 9.45-6.5 4.79 0 8.21 2.51 9.45 6.5h-18.9zM200.24 34c0 6 3.92 10 10 10 4.12 0 7.21-1.87 8.8-4.92l7.68 4.43c-3.18 5.3-9.14 8.49-16.48 8.49-11.05 0-19-7.2-19-18s7.96-18 19-18c7.34 0 13.29 3.19 16.48 8.49l-7.68 4.43c-1.59-3.05-4.68-4.92-8.8-4.92-6.07 0-10 4-10 10zm82.48-29v46h-9V5h9zM36.95 0L73.9 64H0L36.95 0zm92.38 5l-27.71 48L73.91 5H84.3l17.32 30 17.32-30h10.39zm58.91 12v9.69c-1-.29-2.06-.49-3.2-.49-5.81 0-10 4-10 10V51h-9V17h9v9.2c0-5.08 5.91-9.2 13.2-9.2z" fill="#000"/>
      </svg>
    </footer>
  );
}
```

ä½†æ˜¯å®ƒä¼šä½¿ JSX å˜å¾—æ··ä¹±ï¼Œå½“æˆ‘ä»¬éœ€è¦æ›¿æ¢æˆ–å¯¼å…¥æ›´å¤šçš„ SVG å›¾æ ‡æ—¶ï¼Œè¿™å°†æ˜¯ä¸€åœºç¾éš¾ã€‚

## ä½¿ SVG æˆä¸º JavaScript å¸¸é‡å˜é‡

æ­£å¦‚æˆ‘ä»¬æ‰€çŸ¥ï¼ŒReact é€šè¿‡ä½¿ç”¨`dangerouslySetInnerHTML`å±æ€§æ”¯æŒå°†å­—ç¬¦ä¸²å‘ˆç°ä¸º htmlã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°† svg ä½œä¸ºä¸€ä¸ªå¸¸é‡å˜é‡:

```
const logoString = '<svg width="283" height="64" viewBox="0 0 283 64" fill="none" ><path d="M141.04 16c-11.04 0-19 7.2-19 18s8.96 18 20 18c6.67 0 12.55-2.64 16.19-7.09l-7.65-4.42c-2.02 2.21-5.09 3.5-8.54 3.5-4.79 0-8.86-2.5-10.37-6.5h28.02c.22-1.12.35-2.28.35-3.5 0-10.79-7.96-17.99-19-17.99zm-9.46 14.5c1.25-3.99 4.67-6.5 9.45-6.5 4.79 0 8.21 2.51 9.45 6.5h-18.9zM248.72 16c-11.04 0-19 7.2-19 18s8.96 18 20 18c6.67 0 12.55-2.64 16.19-7.09l-7.65-4.42c-2.02 2.21-5.09 3.5-8.54 3.5-4.79 0-8.86-2.5-10.37-6.5h28.02c.22-1.12.35-2.28.35-3.5 0-10.79-7.96-17.99-19-17.99zm-9.45 14.5c1.25-3.99 4.67-6.5 9.45-6.5 4.79 0 8.21 2.51 9.45 6.5h-18.9zM200.24 34c0 6 3.92 10 10 10 4.12 0 7.21-1.87 8.8-4.92l7.68 4.43c-3.18 5.3-9.14 8.49-16.48 8.49-11.05 0-19-7.2-19-18s7.96-18 19-18c7.34 0 13.29 3.19 16.48 8.49l-7.68 4.43c-1.59-3.05-4.68-4.92-8.8-4.92-6.07 0-10 4-10 10zm82.48-29v46h-9V5h9zM36.95 0L73.9 64H0L36.95 0zm92.38 5l-27.71 48L73.91 5H84.3l17.32 30 17.32-30h10.39zm58.91 12v9.69c-1-.29-2.06-.49-3.2-.49-5.81 0-10 4-10 10V51h-9V17h9v9.2c0-5.08 5.91-9.2 13.2-9.2z" fill="#000"/></svg>'const Footer = () => {
  return  <footer  dangerouslySetInnerHTML={{__html: logoString}} />;
};
```

é€šè¿‡ä½¿ç”¨`dangerouslySetInnerHTML`ï¼Œå­—ç¬¦ä¸²ä¸­çš„æ•´ä¸ª html å°†è¢«ä¿ç•™ï¼Œè¿™å¯èƒ½ä¼šä½¿æ‚¨çš„ç”¨æˆ·é­å— XSS æ”»å‡»ã€‚å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ä¸€ä¸ª [html-react-parser](https://github.com/remarkablemark/html-react-parser) åº“ï¼Œå®ƒå°† html å­—ç¬¦ä¸²è½¬æ¢æˆ react ç»„ä»¶ã€‚

## ç»“è®º

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†åœ¨ Next.js é¡¹ç›®ä¸­ä½¿ç”¨ SVG å›¾æ ‡çš„ 4 ç§æ–¹æ³•ã€‚å¦‚æœä½ éœ€è¦æ”¹å˜æ‚¬åœæ—¶ SVG å›¾æ ‡çš„é¢œè‰²ï¼Œå›¾åƒçš„æ–¹å¼æ˜¯ä¸é€‚åˆçš„ã€‚

åœ¨æˆ‘çš„é¡¹ç›®ä¸­ï¼Œæœ€å¸¸ç”¨çš„æ–¹æ³•æ˜¯ SVGRï¼Œå› ä¸ºå®ƒå°† SVG å›¾æ ‡ä½œä¸ºä¸€ä¸ª React ç»„ä»¶ï¼ŒReact æœ€é‡è¦çš„ç‰¹æ€§æ˜¯åŸºäºç»„ä»¶çš„ã€‚

# åˆ†çº§ç¼–ç 

æ„Ÿè°¢æ‚¨æˆä¸ºæˆ‘ä»¬ç¤¾åŒºçš„ä¸€å‘˜ï¼åœ¨ä½ ç¦»å¼€ä¹‹å‰:

*   ğŸ‘ä¸ºæ•…äº‹é¼“æŒï¼Œè·Ÿç€ä½œè€…èµ°ğŸ‘‰
*   ğŸ“°æŸ¥çœ‹[å‡çº§ç¼–ç å‡ºç‰ˆç‰©](https://levelup.gitconnected.com/?utm_source=pub&utm_medium=post)ä¸­çš„æ›´å¤šå†…å®¹
*   ğŸ””å…³æ³¨æˆ‘ä»¬:[Twitter](https://twitter.com/gitconnected)|[LinkedIn](https://www.linkedin.com/company/gitconnected)|[æ—¶äº‹é€šè®¯](https://newsletter.levelup.dev)

ğŸš€ğŸ‘‰ [**å°†åƒä½ è¿™æ ·çš„å¼€å‘äººå‘˜å®‰ç½®åœ¨é¡¶çº§åˆåˆ›å…¬å¸å’Œç§‘æŠ€å…¬å¸**](https://jobs.levelup.dev/talent/welcome?referral=true)