<html>
<head>
<title>Comparing Android and iOS TextView</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">比较Android和iOS TextView</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/comparing-android-ios-textview-b17f4177ad09?source=collection_archive---------7-----------------------#2020-03-01">https://levelup.gitconnected.com/comparing-android-ios-textview-b17f4177ad09?source=collection_archive---------7-----------------------#2020-03-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/3fa3a3b58b9a9ac13ee1d8cf8acc98db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L8uSagvw1cvwSxVAeFl-JA.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">图片由<a class="ae kf" href="https://unsplash.com/@muratodr" rel="noopener ugc nofollow" target="_blank">缪拉·翁德尔</a>在<a class="ae kf" href="https://unsplash.com/photos/EWDCeCUz8Ho" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="5351" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">TextView是app开发最基础的UI组件。iOS和Android之间的差异使得很难从一个平台过渡到另一个平台。</p><p id="469f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们来对比一下。</p><h1 id="b953" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">文本视图的类型</h1><p id="1c44" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">在<strong class="ki iu">安卓</strong>，我们有<code class="fe mh mi mj mk b">TextView</code>。它们用于所有文本目的。</p><p id="08b9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<strong class="ki iu"> iOS </strong>中，我们有<code class="fe mh mi mj mk b">UILabel</code>和<code class="fe mh mi mj mk b">UITextView</code>表现不同。一个是字面上的标签(较短的文本)，另一个是更长的文本(例如，通常超过一行)。</p><h1 id="58ab" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">尺寸包装</h1><p id="5411" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">众所周知，确定文本的大小并不容易。所以最好的方法是让系统根据文本的大小和长度来换行。</p><p id="3d48" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<strong class="ki iu"> Android </strong>中，这可以通过如下方式轻松实现。</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="18e6" class="mt lf it mk b gy mu mv l mw mx">&lt;TextView<br/><strong class="mk iu">    android:layout_width="wrap_content"<br/>    android:layout_height="wrap_content"</strong><br/>    android:text="Hello World!"<br/>    android:background="@android:color/darker_gray"<br/>    app:layout_constraintBottom_toBottomOf="parent"<br/>    app:layout_constraintLeft_toLeftOf="parent"<br/>    app:layout_constraintRight_toRightOf="parent"<br/>    app:layout_constraintTop_toTopOf="parent" /&gt;</span></pre><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div class="gh gi my"><img src="../Images/ce024b72a3ab05751d79b66ffccd143a.png" data-original-src="https://miro.medium.com/v2/resize:fit:360/format:webp/1*nCVXXM2PNsxnGYmki1QOdg.png"/></div></figure><p id="9ff1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于<strong class="ki iu"> iOS UILabel </strong>，不需要明确的规模。我们只需要分配centerX和centerY约束，它就会显示出来。</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="5de3" class="mt lf it mk b gy mu mv l mw mx">let myText = <strong class="mk iu">UILabel</strong>()<br/>myText.text = "Hello World!"<br/>view.addSubview(myText)<br/>myText.translatesAutoresizingMaskIntoConstraints = false<strong class="mk iu"><br/></strong>myText.backgroundColor = .gray<br/>NSLayoutConstraint.activate([<br/>  myText.centerXAnchor.constraint(equalTo: view.centerXAnchor),<br/>  myText.centerYAnchor.constraint(equalTo: view.centerYAnchor),<br/>])</span></pre><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/8861e8c3269089d13ee80253f2d1aefc.png" data-original-src="https://miro.medium.com/v2/resize:fit:420/format:webp/1*0rMfaRQwHQJ4FPXYr55dqQ.png"/></div></figure><blockquote class="na nb nc"><p id="7eee" class="kg kh nd ki b kj kk kl km kn ko kp kq ne ks kt ku nf kw kx ky ng la lb lc ld im bi translated">注意:如果我们按照Android将约束设置为leading、top、trailing和bottom，UILabel的大小将与约束匹配。(注意，我明确地测试了对齐情况，以使其居中对齐)。</p></blockquote><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="b10a" class="mt lf it mk b gy mu mv l mw mx">let myText = <strong class="mk iu">UILabel</strong>()<br/>myText.text = "Hello World!"<br/>view.addSubview(myText)<br/>myText.translatesAutoresizingMaskIntoConstraints = false<br/><strong class="mk iu">myText.textAlignment = .center</strong><strong class="mk iu">.</strong><br/>myText.backgroundColor = .gray<br/>NSLayoutConstraint.activate([<br/>  myText<!-- -->.leadingAnchor.constraint(equalTo: view.leadingAnchor),<br/>  <!-- -->myText<!-- -->.topAnchor.constraint(equalTo: view.topAnchor),<br/>  <!-- -->myText<!-- -->.trailingAnchor.constraint(equalTo: view.trailingAnchor),<br/>  <!-- -->myText<!-- -->.bottomAnchor.constraint(equalTo: view.bottomAnchor),<br/>])</span></pre><p id="df59" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用上面的代码，它将获得与父视图(右图)完全匹配的大小，而不是像左图所示那样包装内容。</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nh"><img src="../Images/c5ea6e7a77a65aabeb9e1b5a5bffe0c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*02uztyFqTyss05Kc9vsMLw.png"/></div></div></figure><p id="0bad" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于<strong class="ki iu"> iOS UITextView </strong>，将需要明确的尺寸(即定义高度和宽度)。如果没有，我们将不得不做额外的编码来计算它的大小，如下所示。此外，我们还需要禁用滚动。</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="ff15" class="mt lf it mk b gy mu mv l mw mx">let myText = <strong class="mk iu">UITextView</strong>()<br/>myText.text = "Hello World!"<br/>view.addSubview(myText)<br/>myText.translatesAutoresizingMaskIntoConstraints = false<strong class="mk iu"><br/></strong>myText.backgroundColor = .gray<br/>NSLayoutConstraint.activate([<br/>  myText.centerXAnchor.constraint(equalTo: view.centerXAnchor),<br/>  myText.centerYAnchor.constraint(equalTo: view.centerYAnchor),<br/>])</span><span id="581a" class="mt lf it mk b gy ni mv l mw mx"><strong class="mk iu">// Explicit calculation of the size of UITextView<br/></strong>let fixedWidth = myText.frame.size.width<br/>let newSize = myText.sizeThatFits(CGSize(<br/>    width: fixedWidth, height: CGFloat.greatestFiniteMagnitude))<br/>myText.frame.size = CGSize(<br/>    width: max(newSize.width, fixedWidth), height: newSize.height)</span><span id="257d" class="mt lf it mk b gy ni mv l mw mx"><strong class="mk iu">myText.isScrollEnabled = false;</strong></span></pre><p id="7a3f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有了这些，文本显示如下，周围有一点侧边填充。</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/9b6438670addc39f84477d47260bc77c.png" data-original-src="https://miro.medium.com/v2/resize:fit:324/format:webp/1*9PEEEpIsNCvzEjyn7tvhuQ.png"/></div></figure><h1 id="5d9b" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">文本换行</h1><p id="8fd2" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">有了自动换行大小的文本，我们想看看他们是否能自动换行。</p><p id="1b08" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们使用的文本是</p><blockquote class="nk"><p id="0b69" class="nl nm it bd nn no np nq nr ns nt ld dk translated">测试一个很长很长的文本，超过一行，看看它是否自动换行</p></blockquote><p id="00fb" class="pw-post-body-paragraph kg kh it ki b kj nu kl km kn nv kp kq kr nw kt ku kv nx kx ky kz ny lb lc ld im bi translated">在Android 中，我们将它自动包装在界面的末端。</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/34c2432913c28ddd2d8bf652b30c5ec5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1104/format:webp/1*1BNz_MZMFQ19JNEpSENxKQ.png"/></div></figure><p id="4ec8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于iOS UILabel ，它不换行。相反，它被切断了。</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/efd227f89fcf5ec7fbd81c62ac1031cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/1*PAJ0oZJF8bEiZB35_qCiLg.png"/></div></figure><p id="004c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于<strong class="ki iu"> iOS UITextView </strong>也是一样，不换行。它被切断了。</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/e85f830b3d5c8449c9e0873f3957ac60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/1*DkRhjMQQus-eEB4W7GT2ng.png"/></div></figure><h2 id="7b70" class="mt lf it bd lg ob oc dn lk od oe dp lo kr of og ls kv oh oi lw kz oj ok ma ol bi translated">在iOS上实现文本换行</h2><p id="b16d" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">为了使包装成为可能，我们必须做以下工作。</p><p id="4cb4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于<strong class="ki iu"> iOS UILabel </strong>，我们需要设置<code class="fe mh mi mj mk b">numberOfLines = 0</code>并且也有一个明确的大小。</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="9c90" class="mt lf it mk b gy mu mv l mw mx">let myText = <strong class="mk iu">UILabel</strong>()<br/>myText.text = "Hello World!"<br/>view.addSubview(myText)<br/>myText.translatesAutoresizingMaskIntoConstraints = false<strong class="mk iu"><br/></strong>myText.backgroundColor = .gray<br/><strong class="mk iu">myText.numberOfLines = 0</strong><br/>NSLayoutConstraint.activate([<br/>  myText.centerXAnchor.constraint(equalTo: view.centerXAnchor),<br/>  myText.centerYAnchor.constraint(equalTo: view.centerYAnchor),<br/><strong class="mk iu">  myText.heightAnchor.constraint(equalToConstant: 60),<br/>  myText.widthAnchor.constraint(equalToConstant: 400),<br/></strong>])</span></pre><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div class="gh gi om"><img src="../Images/0e60cf4db45c29c2ea97c19169cc11bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*Qg0PS2qZavBrF7Whe39lqA.png"/></div></figure><p id="524c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于<strong class="ki iu"> iOS UITextView </strong>，我们只需要为它设置显式大小即可。</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="827c" class="mt lf it mk b gy mu mv l mw mx">let myText = <strong class="mk iu">UITextView</strong>()<br/>myText.text = "Hello World!"<br/>view.addSubview(myText)<br/>myText.translatesAutoresizingMaskIntoConstraints = false<strong class="mk iu"><br/></strong>myText.backgroundColor = .gray<br/>NSLayoutConstraint.activate([<br/>  myText.centerXAnchor.constraint(equalTo: view.centerXAnchor),<br/>  myText.centerYAnchor.constraint(equalTo: view.centerYAnchor),<br/><strong class="mk iu">  myText.heightAnchor.constraint(equalToConstant: 60),<br/>  myText.widthAnchor.constraint(equalToConstant: 400),<br/></strong>])</span></pre><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div class="gh gi on"><img src="../Images/f2b9993f5f628ce73c75d476e894ab20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1088/format:webp/1*vgStLQch1rjnahlbGqnrBA.png"/></div></figure><h1 id="da25" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">默认文本对齐方式</h1><p id="e383" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">没有设置文本对齐，但比文本大一些，它们的文本对齐如下。</p><p id="6d0a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<strong class="ki iu">安卓</strong>中，是顶部开始(左)对齐</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/e294bc0805a87b52bd1657157e601418.png" data-original-src="https://miro.medium.com/v2/resize:fit:1104/format:webp/1*vMgmaNL8Hu9e4ZJSt8EJ2Q.png"/></div></figure><p id="9d27" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于<strong class="ki iu"> iOS UILabel </strong>，它是顶部居中对齐的</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/1932c7d1493e8bbbe8b33e9c3436697d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1096/format:webp/1*6yVCxji7oGIVSc7K3EgG9w.png"/></div></figure><p id="4a76" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于<strong class="ki iu"> iOS UITextView </strong>，它是左上对齐的</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div class="gh gi op"><img src="../Images/3297b0f5c376d4b4678a246a80c849be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1092/format:webp/1*JdkXJEQw3qPUSMPFay64Kg.png"/></div></figure><h1 id="747e" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">滚动文本</h1><p id="4fcf" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">有时文本比文本视图的高度还长。我们希望用户有能力滚动。</p><p id="8fd0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<strong class="ki iu"> Android </strong>中，我们需要用一个<code class="fe mh mi mj mk b">ScrollView</code>来包装<code class="fe mh mi mj mk b">TextView</code>。</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="995f" class="mt lf it mk b gy mu mv l mw mx"><strong class="mk iu">&lt;ScrollView<br/>    android:layout_width="360dp"<br/>    android:layout_height="100dp"&gt;</strong><br/>    &lt;TextView<br/>        android:layout_width="match_parent"<br/>        android:layout_height="match_parent"<br/>        android:background="@android:color/darker_gray"<br/>        android:text="... long text ..." /&gt;<br/><strong class="mk iu">&lt;/ScrollView&gt;</strong></span></pre><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/5a80106f0b69a61114daf6a0885ef969.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/1*OIJCRzFcK_j-VWALK2UGbA.gif"/></div></figure><p id="c9c7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于<strong class="ki iu"> iOS UITextView </strong>，一旦我们设置了<code class="fe mh mi mj mk b">UITextView</code>的大小，它现在默认是可滚动的。</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/a2d628fc1e0ab9c64878483ee2e76072.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/1*AFFmQ8bXXjNEcl8IqaqOJg.gif"/></div></figure><p id="b78c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于iOS UILabel ，让它可滚动是没有意义的，因为标签应该总是可见的。如果我们想让它可滚动，使用<code class="fe mh mi mj mk b">UITextView</code>。</p></div><div class="ab cl or os hx ot" role="separator"><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow"/></div><div class="im in io ip iq"><p id="6557" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">总之，一张表</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oy"><img src="../Images/f5487848a67beec48aebba7b0fca6b4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LXKDxik8MwR7ApB0JIIThw.png"/></div></div></figure><p id="d5e3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我相信他们之间有更多的不同。请随意与我分享。</p><p id="c286" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢阅读。你可以在这里查看我的其他话题<a class="ae kf" href="https://medium.com/@elye.project/" rel="noopener">。</a></p><p id="5a35" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">关注我的<a class="ae kf" href="https://medium.com/@elye.project" rel="noopener"> <em class="nd">中</em></a><em class="nd"/><a class="ae kf" href="https://twitter.com/elye_project" rel="noopener ugc nofollow" target="_blank"><em class="nd">Twitter</em></a><em class="nd"/><a class="ae kf" href="https://www.facebook.com/elyeproj/" rel="noopener ugc nofollow" target="_blank"><em class="nd">【脸书】</em> </a>或<a class="ae kf" href="https://www.reddit.com/user/elyeproj/" rel="noopener ugc nofollow" target="_blank"> <em class="nd"> Reddit </em> </a>获取关于移动开发等相关话题的小技巧和学习。~Elye~</p><figure class="ml mm mn mo gt ju"><div class="bz fp l di"><div class="oz pa l"/></div></figure></div></div>    
</body>
</html>