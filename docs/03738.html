<html>
<head>
<title>Beginners Guide to Setting Up a Network Level Ad Blocker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">设置网络级广告拦截器的初学者指南</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/beginners-guide-to-setting-up-a-network-level-ad-blocker-fbac66dbac0?source=collection_archive---------4-----------------------#2020-05-25">https://levelup.gitconnected.com/beginners-guide-to-setting-up-a-network-level-ad-blocker-fbac66dbac0?source=collection_archive---------4-----------------------#2020-05-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/97057385378d225f60625974b4ee0fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gJ4kg_OAgPLdSXBq"/></div></div></figure><p id="6717" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">最近的事件刺激了我的家庭改善项目，作为其中的一部分，我最终决定使用<a class="ae kz" href="https://pi-hole.net/" rel="noopener ugc nofollow" target="_blank"> Pi-hole </a>实现一个网络级广告和互联网跟踪器块。虽然这篇文章将重点介绍如何使用Mac来设置Pi-hole，但是您也可以使用Windows或Linux机器来做同样的事情。</p><p id="249e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这个过程中，我意识到虽然有很多Pio-hole教程，但几乎没有一个完成了所有重要的步骤，比如安全性。<br/>我希望这篇文章能成为一个一站式指南，从下载你的第一个Raspbian操作系统到保护一个由它驱动的网络设备。如果一切顺利，你将能够在一个小时内享受更加愉快的浏览体验。</p></div><div class="ab cl la lb hx lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="im in io ip iq"><h2 id="c509" class="lh li it bd lj lk ll dn lm ln lo dp lp km lq lr ls kq lt lu lv ku lw lx ly lz bi translated">在这篇文章中，你将</h2><ul class=""><li id="2f32" class="ma mb it kd b ke mc ki md km me kq mf ku mg ky mh mi mj mk bi translated">执行无头安装并设置Pi-hole，一个网络级广告和互联网跟踪拦截器</li><li id="4e50" class="ma mb it kd b ke ml ki mm km mn kq mo ku mp ky mh mi mj mk bi translated">使用入侵防御软件框架<a class="ae kz" href="https://www.fail2ban.org/" rel="noopener ugc nofollow" target="_blank"> Fail2Ban </a>来保护你刚刚设置的漏洞</li></ul><h2 id="b5c0" class="lh li it bd lj lk ll dn lm ln lo dp lp km lq lr ls kq lt lu lv ku lw lx ly lz bi translated">你需要什么</h2><ul class=""><li id="3630" class="ma mb it kd b ke mc ki md km me kq mf ku mg ky mh mi mj mk bi translated">Raspberry Pi(任何型号都可以，最好带以太网端口)</li><li id="277d" class="ma mb it kd b ke ml ki mm km mn kq mo ku mp ky mh mi mj mk bi translated">微型SD卡</li><li id="29b5" class="ma mb it kd b ke ml ki mm km mn kq mo ku mp ky mh mi mj mk bi translated">一台电脑</li><li id="aa61" class="ma mb it kd b ke ml ki mm km mn kq mo ku mp ky mh mi mj mk bi translated">以太网电缆</li></ul><h2 id="3401" class="lh li it bd lj lk ll dn lm ln lo dp lp km lq lr ls kq lt lu lv ku lw lx ly lz bi translated">你可能需要什么</h2><ul class=""><li id="caa6" class="ma mb it kd b ke mc ki md km me kq mf ku mg ky mh mi mj mk bi translated">微型USB到RJ45以太网适配器，如果你的Pi没有任何以太网端口(例如:树莓Pi零)</li><li id="8dce" class="ma mb it kd b ke ml ki mm km mn kq mo ku mp ky mh mi mj mk bi translated">微型SD读卡器(如果您的电脑没有)</li></ul><p id="d03f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">如果你都准备好了，我们就开始吧</strong></p></div><div class="ab cl la lb hx lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="im in io ip iq"><h2 id="e2df" class="lh li it bd lj lk ll dn lm ln lo dp lp km lq lr ls kq lt lu lv ku lw lx ly lz bi translated">步骤1:下载并刻录Raspbian操作系统</h2><p id="a64f" class="pw-post-body-paragraph kb kc it kd b ke mc kg kh ki md kk kl km mq ko kp kq mr ks kt ku ms kw kx ky im bi translated">Raspberry Pi基金会在他们的网站上提供了几个Raspbian操作系统的变体。因为我们想保持操作系统的足迹最小化，我们将安装Raspbian巴斯特精简版的操作系统。为了刻录所说的操作系统，我们将使用<a class="ae kz" href="https://www.balena.io/etcher/" rel="noopener ugc nofollow" target="_blank"> balenaEtcher </a>。所以继续下载/安装这个。</p><p id="3518" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">一旦你下载了Raspbian操作系统，并且在你的电脑上安装了balenaEtcher，继续把微型SD卡连接到你的电脑上。<br/>电脑识别出micro SD卡后，启动balenaEtcher，选择Raspbian镜像，您的micro SD卡，然后点击<em class="mt">“Flash”</em>。</p><figure class="mv mw mx my gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mu"><img src="../Images/0dc1b88ad1b37e29a49355a8b7951e73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3kpB6JPh2Ha4MPbKhileeQ.png"/></div></div></figure><p id="902e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">闪存完成后，从计算机上拔下micro SD。现在，您已经成功地将Raspbian操作系统刻录到SD卡中。</p><h2 id="e071" class="lh li it bd lj lk ll dn lm ln lo dp lp km lq lr ls kq lt lu lv ku lw lx ly lz bi translated">步骤2:准备无头安装</h2><p id="3b18" class="pw-post-body-paragraph kb kc it kd b ke mc kg kh ki md kk kl km mq ko kp kq mr ks kt ku ms kw kx ky im bi translated">正如开始时提到的，我们将执行一个无头安装。这是您不使用显示器或键盘来运行Pi的时候。</p><p id="f1a1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">那我们怎么和圆周率互动呢？<em class="mt"> </em>我们将使用一个叫做<a class="ae kz" href="https://www.ssh.com/ssh/protocol/" rel="noopener ugc nofollow" target="_blank"> ssh </a>的东西来获得远程访问。</p><p id="f2a8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">首先，将微型SD卡重新插入电脑。您应该会看到一个标记为<em class="mt">“boot”</em>的驱动器弹出。一旦你看到驱动器，打开你的终端，并导航到它的目录。在Mac上，这可以通过右键单击引导文件夹，并选择<em class="mt">“服务- &gt;在文件夹中新建终端”来轻松完成。</em></p><figure class="mv mw mx my gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mz"><img src="../Images/d7cd0c4062929e2a154445456c718891.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*oD0rGBT6zBt2yWvwIMcVVg.gif"/></div></div></figure><p id="848d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在终端中，输入<code class="fe na nb nc nd b">touch ssh</code>创建一个无扩展名的ssh文件。<br/>之后，只要关闭终端，就大功告成了。</p><h2 id="d6ff" class="lh li it bd lj lk ll dn lm ln lo dp lp km lq lr ls kq lt lu lv ku lw lx ly lz bi translated">第三步:设置你的树莓派</h2><p id="96e1" class="pw-post-body-paragraph kb kc it kd b ke mc kg kh ki md kk kl km mq ko kp kq mr ks kt ku ms kw kx ky im bi translated">将您的micro SD卡插入Pi，然后连接以太网，然后通电。确保你的以太网电缆连接到路由器的以太网端口，而不是调制解调器。</p><p id="4373" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">既然Pi已经连接好了，我们需要知道它的IP地址，这样我们就可以通过SSH访问它。要做到这一点，你可以登录你的路由器的管理页面或使用软件，如<a class="ae kz" href="https://angryip.org/download/#mac" rel="noopener ugc nofollow" target="_blank">愤怒的IP扫描仪</a>。</p><p id="163d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">你可能会尝试使用第三方软件，但是知道如何绕过你的路由器的管理页面将会派上用场。<br/>你永远不知道什么时候你会需要更新固件，或者不得不为那个亲戚的坏孩子建立一个访客网络！</p><p id="cdf3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们将只使用路由器的管理页面。每台路由器都有不同的软件，因此接下来的几个步骤可能与您所拥有的不完全匹配，但总体思路是相同的。就像生活中的其他事情一样，你最好的选择是做一些谷歌搜索。</p><p id="4818" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们在连接的设备列表中寻找主机名<em class="mt">“raspberrypi”</em>。一旦你找到它，注意它的IP和MAC地址。</p><p id="447d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我只需登录，然后转到“连接的设备”选项卡。</p><figure class="mv mw mx my gt ju gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/92752e8a70796322623898a9fa626b66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*2VZREno5EK3nvpf99ohmWg.png"/></div></figure><p id="f7cc" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">点击它将会看到更详细的视图。</p><figure class="mv mw mx my gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nf"><img src="../Images/e1b4c07d406a6fc2d02e635208da713a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CcdHC8CQNvIF68hdiR-PSw.png"/></div></div></figure><p id="b5eb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在我们需要为Pi配置一个静态IP，以防止它随着时间的推移而改变。为此，我们需要给它分配一个静态IP地址<a class="ae kz" href="https://www.lifewire.com/what-is-a-static-ip-address-2626012" rel="noopener ugc nofollow" target="_blank">。这个过程也会因路由器和服务提供商的不同而不同，所以你可能需要再一次进行谷歌搜索。</a></p><p id="f8d3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">因为我有一个Netgear路由器，所以这个过程非常简单。我只需导航到<em class="mt">“高级&gt;设置&gt;局域网设置”，</em>然后在局域网设置页面的地址保留部分，点击<em class="mt">“添加”</em>按钮。</p><p id="ec34" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在IP地址字段中，输入您想要分配的IP地址(<strong class="kd iu">确认它没有被网络上的其他设备使用</strong>)。在MAC地址字段中，键入您之前找到的Pi的MAC地址。</p><figure class="mv mw mx my gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ng"><img src="../Images/b76a010192f20dc3f8f9843e867f169f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jht1b-LI5A1uJnE5Nh5JwQ.png"/></div></div></figure><p id="cf13" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">最后，重启(插入和拔出电源线)您的Pi，让它获取新分配的IP。</p><h2 id="77d1" class="lh li it bd lj lk ll dn lm ln lo dp lp km lq lr ls kq lt lu lv ku lw lx ly lz bi translated">步骤4:远程连接到Raspberry Pi</h2><p id="c42c" class="pw-post-body-paragraph kb kc it kd b ke mc kg kh ki md kk kl km mq ko kp kq mr ks kt ku ms kw kx ky im bi translated">为了通过ssh连接，我们需要一个ssh客户端。对于Mac，我们可以只使用内置终端。对于windows用户，我们可以使用类似<a class="ae kz" href="https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html" rel="noopener ugc nofollow" target="_blank"> PuTTY </a>的东西。</p><p id="051b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">打开终端，输入<code class="fe na nb nc nd b">ssh pi@&lt;static IP address of your Raspberry Pi&gt;</code>并按回车键。一旦提示输入密码，输入缺省值<code class="fe na nb nc nd b">raspberry</code>并按回车键。</p><figure class="mv mw mx my gt ju gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/78df8a256481b5045f614d2b736f6d1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/1*uLtXrKbNl_ljuHyYmT7t0Q.png"/></div></figure><p id="7fb1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果您看到类似上面的内容，您已经成功连接到您的Pi！</p><h2 id="5719" class="lh li it bd lj lk ll dn lm ln lo dp lp km lq lr ls kq lt lu lv ku lw lx ly lz bi translated">步骤5:更新和保护树莓Pi</h2><p id="cc9e" class="pw-post-body-paragraph kb kc it kd b ke mc kg kh ki md kk kl km mq ko kp kq mr ks kt ku ms kw kx ky im bi translated">保护新连接的设备是最重要的步骤之一。树莓派基金会表示</p><blockquote class="ni nj nk"><p id="d7f4" class="kb kc mt kd b ke kf kg kh ki kj kk kl nl kn ko kp nm kr ks kt nn kv kw kx ky im bi translated">你的覆盆子酱的安全性很重要。安全漏洞使得你的Raspberry Pi对黑客开放，他们可以在没有你的允许下使用它。<br/> … <br/>如果你想让你的Raspberry Pi直接暴露在互联网上，要么直接连接(不太可能)，要么<strong class="kd iu">让某些协议通过你的路由器防火墙(如SSH) </strong>，那么你需要做一些基本的安全更改。</p></blockquote><p id="33da" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">你也可以看看<a class="ae kz" href="https://www.raspberrypi.org/documentation/configuration/security.md" rel="noopener ugc nofollow" target="_blank">官方树莓Pi基金会网站</a>了解更多。</p><p id="ea6d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">让我们从更新设备开始。在终端中键入并输入<code class="fe na nb nc nd b">sudo apt-get update &amp;&amp; apt-get upgrade -y</code>来更新任何过期的软件包。</p><p id="b732" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在，让我们更改默认密码。我推荐使用一个<a class="ae kz" href="https://passwordsgenerator.net/" rel="noopener ugc nofollow" target="_blank">强大的随机密码生成器</a>，它可以像<code class="fe na nb nc nd b">oE1M6FmcD!33t2wb*r7y</code>一样生成密码，并将其存储在安全的地方，这样它就不会丢失。在终端上输入<code class="fe na nb nc nd b">passwd</code>，然后输入你的新密码。当您键入新密码时，您将看不到任何提示，但不要担心，密码输入正确。</p><p id="0ab8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">最后，我们将安装和配置<a class="ae kz" href="https://www.fail2ban.org/wiki/index.php/Main_Page" rel="noopener ugc nofollow" target="_blank"> Fail2Ban </a>，这个服务</p><blockquote class="ni nj nk"><p id="ece1" class="kb kc mt kd b ke kf kg kh ki kj kk kl nl kn ko kp nm kr ks kt nn kv kw kx ky im bi translated">扫描日志文件…并禁止显示恶意迹象的IP，如多次密码失败、寻找漏洞等。一般来说，Fail2ban随后用于更新<a class="ae kz" href="https://wiki.archlinux.org/index.php/Firewall" rel="noopener ugc nofollow" target="_blank"> <strong class="kd iu">防火墙</strong> </a>规则，以在指定时间内拒绝IP地址，尽管也可以配置任何其他任意操作(例如发送电子邮件)。</p></blockquote><p id="c4d0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">保护我们的Pi免受暴力攻击。</p><p id="7e3a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">进入<code class="fe na nb nc nd b">sudo apt-get install fail2ban</code>，等待下载安装完成。然后，输入<code class="fe na nb nc nd b">sudo nano /etc/fail2ban/jail.local</code>来配置它的安全规则。</p><p id="26a3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">下面是我如何设置它，以及每个参数的含义。你可以随意编辑，也可以原样复制(不带注释)。</p><pre class="mv mw mx my gt no nd np nq aw nr bi"><span id="cbad" class="lh li it nd b gy ns nt l nu nv">[ssh] # Services where this rule will apply.</span><span id="10f2" class="lh li it nd b gy nw nt l nu nv"># Enables this rule.<br/>enabled = true</span><span id="ff5c" class="lh li it nd b gy nw nt l nu nv"># Port to block out. We can just enter ssh sicne that is how the pi will be accessed.<br/>port = ssh</span><span id="b7f4" class="lh li it nd b gy nw nt l nu nv"># Fail2Ban default filter library.<br/>filter = sshd</span><span id="e4a3" class="lh li it nd b gy nw nt l nu nv"># Path for the log file.<br/>logpath = /var/log/auth.log</span><span id="d850" class="lh li it nd b gy nw nt l nu nv"># Time in seconds where ban will be effective.<br/>bantime = 6000</span><span id="7cd3" class="lh li it nd b gy nw nt l nu nv"># Action that will be used when the below threshold is reached.<br/>banaction = iptables-allports</span><span id="feb9" class="lh li it nd b gy nw nt l nu nv"># Window of time in seconds where the re-tries will stack.<br/># Here, 3 failed tries within 900 seconds will result in a ban.<br/>findtime = 900</span><span id="4868" class="lh li it nd b gy nw nt l nu nv"># Number of re-tries allowed for a client connection.<br/>maxretry = 3</span></pre><p id="bc49" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">一旦你完成配置，继续按下<em class="mt"> ctrl + x </em>，然后<em class="mt"> y </em>，然后<em class="mt">回车</em>。这将保存您的配置。要应用它，我们将通过在终端输入<code class="fe na nb nc nd b">sudo service fail2ban restart</code>来重启服务。</p><p id="0a8a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">就是这样！</p><h2 id="54fb" class="lh li it bd lj lk ll dn lm ln lo dp lp km lq lr ls kq lt lu lv ku lw lx ly lz bi translated">步骤6:安装和设置Pi-hole</h2><p id="a8e3" class="pw-post-body-paragraph kb kc it kd b ke mc kg kh ki md kk kl km mq ko kp kq mr ks kt ku ms kw kx ky im bi translated">从他们的网站上复制Pi-hole <a class="ae kz" href="https://github.com/pi-hole/pi-hole/#curl--ssl-httpsinstallpi-holenet--bash" rel="noopener ugc nofollow" target="_blank">安装命令</a>。写到这里的时候，是<code class="fe na nb nc nd b">curl -sSL <a class="ae kz" href="https://install.pi-hole.net" rel="noopener ugc nofollow" target="_blank">https://install.pi-hole.net</a> | bash</code>。将它复制并输入到终端，您将看到如下配置屏幕:</p><figure class="mv mw mx my gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nx"><img src="../Images/7fe88e22d0f53b85afeaf7fda76158bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KQpjN4PCFD0Y-791g9mGdA.png"/></div></div></figure><p id="0f2d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果您一直遵循本教程，您可以继续接受所有默认设置。<strong class="kd iu">您可能会看到一个关于IP冲突的屏幕，但您可以忽略它并继续。</strong>在最后一步，Pi-hole将需要几分钟来完成安装。完成后，你会看到一个<em class="mt">“安装完成！”</em>带有Pi-hole web仪表板的IP和密码的页面。一定要把它写下来，这样你就不会忘记了。</p><figure class="mv mw mx my gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ny"><img src="../Images/3dc694ac324c707e6381205d863b6190.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0C2PsGp9EXivZtizODxnew.png"/></div></div><figcaption class="nz oa gj gh gi ob oc bd b be z dk translated">(透视终端…忽略令人毛骨悚然的背景lol)</figcaption></figure><p id="efb1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">打开浏览器，转到提供的IP地址，并使用提供的密码登录。这将带您进入Pi-hole仪表板，在那里您可以看到有趣的统计数据和修补设置。</p><figure class="mv mw mx my gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi od"><img src="../Images/59b8ef897794ecb259f787fe551e700d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vSRGrSc58Ep4rR6FznZtGw.png"/></div></div></figure><h2 id="add7" class="lh li it bd lj lk ll dn lm ln lo dp lp km lq lr ls kq lt lu lv ku lw lx ly lz bi translated">最后一步:在网络范围内启用它！</h2><p id="b430" class="pw-post-body-paragraph kb kc it kd b ke mc kg kh ki md kk kl km mq ko kp kq mr ks kt ku ms kw kx ky im bi translated">要在您的所有设备上自动启用Pi-hole，我们需要配置您路由器的默认DNS设置。重新登录到路由器的管理面板，将其DNS服务器设置为您的Pi的静态IP地址。同样，这将因路由器而异(我的是在<em class="mt">“互联网&gt; DNS地址】)</em>。</p><figure class="mv mw mx my gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oe"><img src="../Images/c95c42e4900a63600378d858f7b72812.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xgqs8wv0FYCkDjPcW6MCeA.png"/></div></div></figure><p id="032d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">一旦你设置好了，点击应用(或保存或任何你的管理页面)。就这样，我们现在有了一个全网络的广告和跟踪拦截器！</p><h2 id="ed30" class="lh li it bd lj lk ll dn lm ln lo dp lp km lq lr ls kq lt lu lv ku lw lx ly lz bi translated">樱桃在上面</h2><p id="5051" class="pw-post-body-paragraph kb kc it kd b ke mc kg kh ki md kk kl km mq ko kp kq mr ks kt ku ms kw kx ky im bi translated">Pi-hole自动附带一些阻止列表，Pi-hole将使用这些列表来识别常见广告和跟踪源。但是，没有什么可以阻止你创建自己的黑名单或使用其他黑名单来扩大覆盖范围。这可能会导致一些误报(然后会被列入白名单)，所以要小心行事。</p><p id="646e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我个人使用一个额外的阻止列表，比如来自<a class="ae kz" href="https://v.firebog.net/hosts/lists.php?type=tick" rel="noopener ugc nofollow" target="_blank"> firebog </a>的列表。</p><p id="04ce" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">要设置这些，请转到Pi-hole仪表板，然后转到<em class="mt">“组管理”</em>选项卡下的<em class="mt">“广告列表”</em>。您可以在这里添加列表的URL，以及帮助您记住其目的的个性化注释。</p><figure class="mv mw mx my gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi od"><img src="../Images/394a1b1b7334eb7e58fa6db312ad6452.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d13ONPPjGtV6vSDchcL_iQ.png"/></div></div></figure><p id="89d2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您还可以在同一选项卡下的<em class="mt">“Domains”</em>页面中阻止某些域。我设置它来阻止任何以<code class="fe na nb nc nd b">.cn</code>和<code class="fe na nb nc nd b">.ru</code>结尾的域名。</p><figure class="mv mw mx my gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ng"><img src="../Images/a67920ddc9c80773de015bdbe4c6c470.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ROzIRClNaMmvFiDJ45DYXQ.png"/></div></div></figure></div><div class="ab cl la lb hx lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="im in io ip iq"><p id="ad48" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这篇文章中，我们仅仅触及了树莓派的皮毛。我鼓励任何感兴趣的人超越这一点，看看其他很酷的项目，如<a class="ae kz" href="https://thepi.io/how-to-set-up-a-raspberry-pi-plex-server/" rel="noopener ugc nofollow" target="_blank">建立一个Raspberry Pi Plex服务器</a>为您的家庭创建一个媒体中心！</p></div></div>    
</body>
</html>