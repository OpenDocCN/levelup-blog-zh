<html>
<head>
<title>Immersion Starts with Sound</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">沉浸从声音开始</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/immersion-starts-with-sound-d2ea446eab50?source=collection_archive---------8-----------------------#2021-04-30">https://levelup.gitconnected.com/immersion-starts-with-sound-d2ea446eab50?source=collection_archive---------8-----------------------#2021-04-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="ba25" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">创建音频管理器并为Unity添加背景音乐</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/572aecb016c1232915c182b400fb7e5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*U2L3AJRJO7wvhNd2"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">照片由<a class="ae le" href="https://unsplash.com/@denisseleon?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">丹尼斯·莱昂</a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="4505" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi lf translated">当你第一次学习制作视频游戏时，你首先注意到的一件事是，没有声音，游戏就失去了一些魅力。是配乐和SFX把我们带入了我们正在创造的世界。你们中有多少人能哼出塞尔达或殊死搏斗的主题曲？当我需要集中注意力的时候，我喜欢播放一些Nobuo Uematsu(最终幻想和其他Squaresoft/SquareEnix游戏)的音乐。比如“过来！”，“是我，马里奥！”和“Shoryuken！”仍然住在我的头免租金，几十年后各自的来源出来了。</p><p id="8570" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果声音这么重要，为什么我的游戏没有声音呢？我们大多数人担心版权和版税，因为我们不能自己制作音乐。因此，首先，几个地方获得不同程度的使用权免费游戏声音。</p><p id="8575" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae le" href="https://opengameart.org/art-search-advanced?keys=&amp;field_art_type_tid%5B%5D=12&amp;sort_by=count&amp;sort_order=DESC" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">搜索艺术| OpenGameArt.org</strong></a></p><p id="2592" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae le" href="https://patrickdearteaga.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">帕特里克·德·阿尔蒂加的电子游戏音乐</strong> </a></p><p id="2f3b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">其他的存在，但是这些应该让你开始。挑选一些东西，下载下来，让我们播放一些背景音乐。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi lo"><img src="../Images/ab6a7ce7965abb0fbc0f72a95af639da.png" data-original-src="https://miro.medium.com/v2/resize:fit:922/format:webp/1*vLsp8BDGF8nVjNrDF0HJYQ.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">检查器中的摄像机对象。</figcaption></figure><p id="5b30" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当你创建新场景时，每一个带有主摄像机<strong class="js iu">的Unity场景都会添加一个<strong class="js iu">音频监听器</strong>组件。它在检查器</strong>中没有属性，只有一个任务。它只是坐在那里，等待一些声音播放，以便它可以传递给玩家。所以我们已经完成了一半的工作。</p><p id="0207" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了让音频监听器工作，我们需要在游戏中播放一些声音。这意味着我们需要添加一个可以播放声音的<strong class="js iu">音频源</strong>和一个将要播放的<strong class="js iu">音频剪辑</strong>。我们将在层次结构中添加一个空的游戏对象，并将其命名为<strong class="js iu">音频管理器</strong>，这样，如果我们需要按需播放声音效果，我们可以稍后使用它，但我们也希望在游戏活动时播放背景音乐，并且不想被其他声音剪辑打断。因此，为了解决这个问题，我们将添加一个<strong class="js iu">子对象</strong>到新的音频管理器中，并将其命名为背景音乐。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi lp"><img src="../Images/fc4a1942f2a5b71ffb6df705c0b4ba20.png" data-original-src="https://miro.medium.com/v2/resize:fit:490/1*incI9W0oQuY6d-LqyfhjeQ.gif"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">添加音频管理器</figcaption></figure><p id="87b8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在未来，我们可以创建脚本添加到这些将允许我们控制游戏中的音频。不过现在，我们将为我们创建的每个对象添加一个<strong class="js iu">音频源</strong>组件。之后，我们可以将我们的音乐添加到背景对象的源中，并将其设置为在awake上播放。请注意，我们将禁用我们构建的音频管理器的<strong class="js iu">唤醒播放</strong>。<strong class="js iu">唤醒时播放</strong>告诉Unity立即开始播放那个声音。我们的音频管理器会根据需要播放其他声音，但它没有任何东西可以播放，除非被告知。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi lq"><img src="../Images/8a3cf6431c00afc0fed151fd07fd166d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*fTEhyEtLWb3TxI5QZ90YfQ.gif"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">添加音频源</figcaption></figure><p id="52db" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">好了，现在只需拖动你之前下载的音乐，并将其应用到源。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/9dcdb90fde6af756c7b57510a46fc98f.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/1*tB9pwDXybfB-ztW3FL5YJg.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">添加音频剪辑</figcaption></figure><p id="8003" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">随着剪辑的应用，我们现在将有一些身临其境的背景音乐准备播放，一旦我们启动游戏。一旦游戏运行，音乐将开始无限播放，直到游戏停止或直到我们用代码停止它。</p><p id="3509" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">之前我提到过我们可以用脚本来控制背景音乐。在一个脚本中，我们可以创建一个背景音乐剪辑的<strong class="js iu">数组</strong>,并根据新浪潮、新关卡、危险敌人等创建在它们之间交换的方法。让我们看看我们的<strong class="js iu">音频管理器</strong>和<strong class="js iu">背景音乐</strong>对象<strong class="js iu">的样本脚本可能是什么样子。</strong></p><pre class="kp kq kr ks gt ls lt lu lv aw lw bi"><span id="146c" class="lx ly it lt b gy lz ma l mb mc">using System.Collections;<br/>using System.Collections.Generic;<br/>using UnityEngine;</span><span id="e103" class="lx ly it lt b gy md ma l mb mc">\\AudioManger.cs<br/>public class AudioManager: <a class="ae le" href="https://docs.unity3d.com/ScriptReference/MonoBehaviour.html" rel="noopener ugc nofollow" target="_blank">MonoBehaviour</a><br/>{<br/>    [SerializeField] private AudioSource audioManager;   <br/>  <br/>    void Awake()<br/>    {<br/>        DontDestroyOnLoad(this.gameObject);<br/>    }</span><span id="c821" class="lx ly it lt b gy md ma l mb mc">    void Start()<br/>    {<br/>       audioManager = this.GetComponent&lt;AudioSource&gt;();<br/>       if (audioManager== null)<br/>       {<br/>          Debug.LogError("Audio Manger: Audio Source is NULL");<br/>       }<br/>    }</span><span id="7aac" class="lx ly it lt b gy md ma l mb mc">    public class PlayAudioClip(AudioClip clip)<br/>    {<br/>        musicManger.clip = clip;<br/>        audioManager.Play();<br/>    }<br/>}</span></pre><p id="b76c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">以上只是AudioManager脚本的一个非常快速而肮脏的示例。让它成为一个静态类可能更有意义，我们也想扩展它的特性。</p><p id="56be" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在让我们来看看背景音乐的样本脚本。</p><pre class="kp kq kr ks gt ls lt lu lv aw lw bi"><span id="7d2a" class="lx ly it lt b gy lz ma l mb mc">using System.Collections;<br/>using System.Collections.Generic;<br/>using UnityEngine;</span><span id="cfcf" class="lx ly it lt b gy md ma l mb mc">\\MusicManager.cs<br/>public class MusicManager: <a class="ae le" href="https://docs.unity3d.com/ScriptReference/MonoBehaviour.html" rel="noopener ugc nofollow" target="_blank">MonoBehaviour</a><br/>{<br/>    [SerializeField] private AudioSource musicManager;    </span><span id="3011" class="lx ly it lt b gy md ma l mb mc">    void Start()<br/>    {<br/>       musicManager = this.GetComponent&lt;AudioSource&gt;();<br/>       if (musicManager== null)<br/>       {<br/>          Debug.LogError("Music Manger: Audio Source is NULL");<br/>       }<br/>    }</span><span id="1595" class="lx ly it lt b gy md ma l mb mc">    public class SetBackgroundMusicByLevel(int level)<br/>    {<br/>        musicManager.clip = _backgroundMusic[level];<br/>        musicManager.Play();<br/>    }<br/>}</span></pre><p id="8e06" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">同样，这是一个非常基本的示例，我们可能想要添加更多的选项。也许我们想让背景音乐由一个代表和级别改变时发生的事件来控制。我们可能想添加一个选项，玩家可以按下一个键，改变当前的背景音乐。这些都是我们可以做的事情，通过使用控制音频源的脚本还可以做更多的事情。</p><p id="ffab" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们还可以将音频源直接应用到我们的其他游戏对象，以便它们可以播放自己独特的声音效果。明天我们将学习如何使用类似的方法来添加背景音乐，以创建当我们做激光射击、受到伤害、爆炸、收集能量等事情时播放的声音效果。使用所有这些小小的声音效果和背景音乐将会给我们的游戏增加更多的生命，给他们一个更专业的吸引力。</p></div></div>    
</body>
</html>