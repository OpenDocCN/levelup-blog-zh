# 检查 Python 中两个列表之间的关系

> 原文：<https://levelup.gitconnected.com/check-the-relationships-between-two-lists-in-python-80f3cda42584>

![](img/a6e1bada94371974e79a8dab3c67c96a.png)

格伦·卡斯滕斯-彼得斯在 [Unsplash](https://unsplash.com/s/photos/list?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上的照片

## 了解如何检查一个列表是否包含另一个列表的全部或任何元素

Python 已经广泛应用于数据处理和分析。一个经常遇到的需求是检查某些元素的两个列表之间的关系。具体来说，我们大多数人都对检查以下两种关系中的一种是否存在感兴趣。

1.  一个列表包含另一个列表的所有元素。
2.  一个列表包含另一个列表的任何元素。

在本文中，我将向您展示我们如何用 Python 实现这一点。出于演示的目的，我们将在示例中简单地使用以下列表。

## 在函数中使用迭代

有时候，为了解决简单的问题，我们没有太多的动力去谷歌搜索或查阅官方文档来使用现有的、可能很简单的解决方案。例如，要检查一个列表是否包含另一个列表的所有或任何元素，我们只需自己编写几行代码，如下所示。

当然，这些功能只是出于本教程的目的，更多的可以考虑在一个真实的项目中完善这些功能，比如检查列表的空值。总的来说，这些函数是自解释的，一些使用这些函数的例子向您展示了上述关系是可以检查的。

## 使用与集合相关的函数

在大多数情况下，当我们测试两个列表之间的关系时，我们不关心任何一个列表是否有重复的元素。因此，我们可以使用内置的`set`数据类型，它可以方便地从`list`对象中创建。根据定义，Python 中的`set`对象是不同可散列对象的无序集合。

当我们评估两个集合之间的关系时，为什么要使用`set`数据类型？只是因为集合数据类型有几个内置的函数，包括`issubset()`、`issuperset()`、`intersection()`，这些都是测试两个`set`对象之间关系的便捷函数。另外，下面的代码片段还向您展示了 Python 支持`>`、`==`、`<`来检查`set`对象之间的关系。关于这些功能的更多信息，请参见[官方文件](https://docs.python.org/3.8/library/stdtypes.html#set)。

具体来说，`issubset()`函数检查调用该函数的`set`是否是作为参数传递的`set`的子集。如其名称所示，函数`issuperset()`检查调用该函数的`set`是否包含作为参数传递的`set`。`intersection()`功能会创建一个包含重叠元素的`set`，因此可以用来检查两者的关系，分别如图 11 和 18 行所示。

## 使用列表理解`With all()`和`any()`功能

Python 的一个很酷的特性是列表理解，它有基本的语法`expression for item in list if conditional`，其中`if conditional`是可选的。我们可以使用这种 pythonic 方式来检查两个列表之间的关系，如下所示。

在上面的代码片段中，我们使用了`all()`和`any()`函数，这两个函数都评估任何可迭代的对象(例如，list，set)。具体来说，这些列表理解生成一个布尔值列表。如果所有这些布尔值都是`True`，则`all()`函数返回`True`，而如果这些布尔值中的任何一个是`True`，则`any()`函数返回`True`。因此，我们可以方便地使用`all()`和`any()`函数来分别检查一个列表是否包含另一个列表的全部或任何元素。

## 外卖食品

上述方法向您展示了我们如何在 Python 中检查两个列表之间的关系。虽然它们可以产生相同的结果，但我个人最喜欢第三个，因为它的语法最简洁，也最有 pythonic 风格:)