<html>
<head>
<title>What is the ‘combineLatest’ Operator in RxSwift?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">RxSwift中的“combineLatest”运算符是什么？</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/what-is-the-combinelatest-operator-in-rxswift-5a63c555e22b?source=collection_archive---------14-----------------------#2020-07-19">https://levelup.gitconnected.com/what-is-the-combinelatest-operator-in-rxswift-5a63c555e22b?source=collection_archive---------14-----------------------#2020-07-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0596" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">将几个可观察的序列合并成一个</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1d519338b12a4f4b70dfd7fb60d039f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oz8pceFgCmv8-Bqz"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@rktkn?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> RKTKN </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><p id="747c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将快速了解一个非常有用的RxSwift操作符— <code class="fe lv lw lx ly b">combineLatest</code>。它允许我们将几个可观察的序列合并成一个可观察的元组序列，只要任何可观察的序列产生一个元素。</p><p id="1014" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，当我们想要验证用户名和密码<code class="fe lv lw lx ly b">UITextField</code>中的用户输入，并在输入有效时启用“登录”按钮时，我们可以使用它。这正是我们在本文中要达到的目标:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/585e1abe3b1319599966894c0c8ebffe.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*QI4yBp2ZKtMgpzm4txF4BQ.gif"/></div></figure><h1 id="b04a" class="ma mb it bd mc md me mf mg mh mi mj mk jz ml ka mm kc mn kd mo kf mp kg mq mr bi translated">我们开始吧</h1><p id="1378" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">我们从一个基本的<code class="fe lv lw lx ly b">UIViewController</code>开始，它包含两个<code class="fe lv lw lx ly b">UITextField</code>和一个<code class="fe lv lw lx ly b">UIButton</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="5bb6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们添加两个属性:</p><ul class=""><li id="5ffb" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">A <code class="fe lv lw lx ly b">DisposeBag</code>存储我们未来的订阅</li><li id="6d6d" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">一个包含<code class="fe lv lw lx ly b">Bool</code>值的<code class="fe lv lw lx ly b">BehaviorRelay</code>,表示“签到”按钮是否启用</li></ul><p id="e0db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是我们的文件现在的样子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="b106" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们的任务是观察用户名和密码<code class="fe lv lw lx ly b">UITextField</code>的输入，并相应地更改<code class="fe lv lw lx ly b">isButtonEnabled</code>属性的值。让我们使用<code class="fe lv lw lx ly b">combineLatest</code>操作符来组合两个观察值:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="90ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们所见，在<code class="fe lv lw lx ly b">viewDidLoad()</code>方法中，我们订阅了每个文本字段的两个<code class="fe lv lw lx ly b">text</code>观察值。然后，在<code class="fe lv lw lx ly b">.map</code>操作符中，我们获得每个文本字段的最新值，并返回一个<code class="fe lv lw lx ly b">Bool</code>值。<em class="nn">如果用户名超过4个字符，密码超过7个字符</em>，则返回<code class="fe lv lw lx ly b">true</code>。最后，我们使用<code class="fe lv lw lx ly b">.bind(to:)</code>操作符将得到的<code class="fe lv lw lx ly b">Bool</code>值绑定到<code class="fe lv lw lx ly b">isButtonEnabled</code>属性。</p><p id="2a9c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们在<code class="fe lv lw lx ly b">.map</code>操作符中添加<code class="fe lv lw lx ly b">print()</code>语句，看看我们是如何接收用户名和密码值的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="b4ff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，当我们在任一文本字段中输入内容时，我们会看到控制台中打印出用户名和密码<code class="fe lv lw lx ly b">String</code>的值:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/4f4cea53aad05b4f4f797d988085cfde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a25pM4EIKJODu9Tw1qyGtA.png"/></div></div></figure></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><p id="3475" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在需要做的就是调整按钮的UI来反映它的状态:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="9248" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果按钮被激活，我们将<code class="fe lv lw lx ly b">backgroundColor</code>设置为<code class="fe lv lw lx ly b">.systemOrange</code>并将<code class="fe lv lw lx ly b">isEnabled</code>设置为<code class="fe lv lw lx ly b">true</code>。否则，颜色设置为<code class="fe lv lw lx ly b">.lightGray</code>，按钮不允许接收触摸事件。</p><p id="18df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是我们实现目标所需的全部内容——我们已经成功地实现了对用户输入的验证，并将结果<code class="fe lv lw lx ly b">Bool</code>值绑定到了<code class="fe lv lw lx ly b">UIButton</code>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/585e1abe3b1319599966894c0c8ebffe.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*QI4yBp2ZKtMgpzm4txF4BQ.gif"/></div></figure></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><h1 id="80dc" class="ma mb it bd mc md nw mf mg mh nx mj mk jz ny ka mm kc nz kd mo kf oa kg mq mr bi translated">资源</h1><p id="76c6" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">GitHub上提供了源代码:</p><div class="ob oc gp gr od oe"><a href="https://github.com/zafarivaev/RxSwift-CombineLatest" rel="noopener  ugc nofollow" target="_blank"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd iu gy z fp oj fr fs ok fu fw is bi translated">zafarivaev/rx swift-CombineLatest</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">展示RxSwift中combineLatest操作符的使用的简单项目。为中型教程编写的GitHub是…</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">github.com</p></div></div><div class="on l"><div class="oo l op oq or on os ks oe"/></div></div></a></div><h1 id="764f" class="ma mb it bd mc md me mf mg mh mi mj mk jz ml ka mm kc mn kd mo kf mp kg mq mr bi translated">包扎</h1><p id="f23e" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">对更多RxSwift文章感兴趣？那么你可能会发现这些很有帮助:</p><ul class=""><li id="b4a3" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated"><a class="ae ky" href="https://medium.com/better-programming/replace-delegation-with-rxswift-32ad18d75140" rel="noopener">用RxSwift替换委托</a></li><li id="35f3" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated"><a class="ae ky" href="https://medium.com/better-programming/mvvm-in-swift-infinite-scrolling-and-image-loading-d47780b06e23" rel="noopener">在Swift 5中实施反应式MVVM架构</a></li><li id="57b1" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated"><a class="ae ky" href="https://medium.com/better-programming/how-to-implement-uitableview-and-uicollectionview-with-rxdatasources-1afcd68729bf" rel="noopener">如何用RxDataSources实现UITableView和UICollectionView】</a></li><li id="9d4b" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated"><a class="ae ky" href="https://medium.com/better-programming/how-to-create-a-timer-in-rxswift-578bf8712678" rel="noopener">如何在RxSwift中创建定时器</a></li><li id="ede7" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated"><a class="ae ky" href="https://medium.com/better-programming/rxswift-unit-testing-explained-in-3-minutes-c024b7a26d" rel="noopener"> RxSwift单元测试在2分钟内说明</a></li></ul><p id="5dba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！</p></div></div>    
</body>
</html>