<html>
<head>
<title>Angular Dynamic Styles with built-in Directives</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有内置指令的角度动态样式</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/angular-styling-with-ngstyle-ngclass-334ecfef120b?source=collection_archive---------12-----------------------#2021-01-26">https://levelup.gitconnected.com/angular-styling-with-ngstyle-ngclass-334ecfef120b?source=collection_archive---------12-----------------------#2021-01-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/5b943f45028e8b3b366a67ac0a273831.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Br7zeZ8NPfibCmX1Yjms-Q.jpeg"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">使用NgStyle和NgClass的角度样式</figcaption></figure><div class=""/><div class=""><h2 id="0a81" class="pw-subtitle-paragraph kf jh ji bd b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dk translated">控制你的应用用户界面行为</h2></div><p id="dd53" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">如果你使用普通的JavaScript，在web应用程序中创建动态样式会是一个真正的挑战。<br/>幸好有了have框架，而且我们还有Angular，这给了我们多种方式<strong class="kz jj"> <em class="lt">处理动态CSS和CSS类</em> </strong>。</p><p id="79d0" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">在本文中，你将学习如何通过使用<em class="lt"> @angular/core </em>的<code class="fe lu lv lw lx b">ngStyle</code>和<code class="fe lu lv lw lx b">ngClass</code>、<strong class="kz jj">两个内置指令</strong>，轻松管理你的<em class="lt"> HTML </em>元素的样式。使用直观的语法，你可以制定复杂的逻辑，管理涉及应用程序操作的各种情况，让我们来看看这两条指令的细节。</p><h1 id="6e51" class="ly lz ji bd ma mb mc md me mf mg mh mi ko mj kp mk kr ml ks mm ku mn kv mo mp bi translated">NgStyle</h1><blockquote class="mq"><p id="eb57" class="mr ms ji bd mt mu mv mw mx my mz ls dk translated"><code class="fe lu lv lw lx b">NgStyle</code>指令允许你对给定的DOM元素应用样式属性。</p></blockquote><p id="9a7f" class="pw-post-body-paragraph kx ky ji kz b la na kj lc ld nb km lf lg nc li lj lk nd lm ln lo ne lq lr ls im bi translated">设置样式的一种方法是使用<code class="fe lu lv lw lx b">NgStyle</code>指令，并给它分配一个<em class="lt">对象文字</em>，如下所示:</p><pre class="nf ng nh ni gt nj lx nk nl aw nm bi"><span id="b03f" class="nn lz ji lx b gy no np l nq nr">&lt;p [ngStyle]="{'color':'red'}"&gt;&lt;/&lt;p&gt;</span></pre><blockquote class="ns nt nu"><p id="c5c6" class="kx ky lt kz b la lb kj lc ld le km lf nv lh li lj nw ll lm ln nx lp lq lr ls im bi translated">这只是将<code class="fe lu lv lw lx b">p</code>元素的字体颜色设置为红色。</p></blockquote><p id="3e48" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated"><code class="fe lu lv lw lx b">ngStyle</code>在你想添加<em class="lt">动态值</em>的时候非常有用。我们分配给<code class="fe lu lv lw lx b">ngStyle</code>的对象文字中的<em class="lt">值</em>可以是被求值的JavaScript表达式，该表达式的结果被用作CSS属性的值，如下所示:</p><figure class="nf ng nh ni gt iv"><div class="bz fp l di"><div class="ny nz l"/></div></figure><p id="017a" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">如果单位不等于零，上面的代码使用三元运算符将<code class="fe lu lv lw lx b"><em class="lt">p</em></code>元素的颜色设置为绿色，否则设置为红色。</p><h2 id="293d" class="nn lz ji bd ma oa ob dn me oc od dp mi lg oe of mk lk og oh mm lo oi oj mo ok bi translated">替代语法</h2><p id="ec20" class="pw-post-body-paragraph kx ky ji kz b la ol kj lc ld om km lf lg on li lj lk oo lm ln lo op lq lr ls im bi translated">除了使用<code class="fe lu lv lw lx b">ngStyle</code>指令，我们还可以使用<code class="fe lu lv lw lx b">[style.&lt;property&gt;]</code>语法设置单独的样式属性，例如<code class="fe lu lv lw lx b">[style.color]="getColor(person.country)"</code></p><figure class="nf ng nh ni gt iv"><div class="bz fp l di"><div class="ny nz l"/></div></figure><figure class="nf ng nh ni gt iv"><div class="bz fp l di"><div class="ny nz l"/></div></figure><figure class="nf ng nh ni gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oq"><img src="../Images/ed7ea025229e8b6868495cf9674cc579.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*doGKTIs4WLqf6J5rkZ2Z5A.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">NgStyle示例结果</figcaption></figure><h2 id="d8f7" class="nn lz ji bd ma oa ob dn me oc od dp mi lg oe of mk lk og oh mm lo oi oj mo ok bi translated">点数和像素</h2><p id="1098" class="pw-post-body-paragraph kx ky ji kz b la ol kj lc ld om km lf lg on li lj lk oo lm ln lo op lq lr ls im bi translated">假设我们想将字体大小设置为18，我们可以使用:</p><pre class="nf ng nh ni gt nj lx nk nl aw nm bi"><span id="b0bd" class="nn lz ji lx b gy no np l nq nr">[ngStyle]="{'font-size':18}"</span></pre><p id="ea6e" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">但是这样不行，仅仅设置字体大小为18是无效的CSS，我们必须指定一个<em class="lt">单元</em>比如<em class="lt"> px </em>或者<em class="lt"> em </em>。</p><p id="6c9f" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">Angular用一个特殊的语法<code class="fe lu lv lw lx b">&lt;property&gt;.&lt;unit&gt;</code>来拯救我们。因此，对于上面的例子，如果我们希望尺寸为18像素，我们可以写<code class="fe lu lv lw lx b">[ngStyle]="{'font-size.px':18}"</code></p><p id="8c4c" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">后缀<code class="fe lu lv lw lx b">.px</code>表示我们正在以像素为单位设置字体大小。<br/>你可以<code class="fe lu lv lw lx b">.em</code>使用<code class="fe lu lv lw lx b">.%</code>用ems甚至百分比来表示字体大小</p><p id="1ff3" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">让我们看一个例子:</p><figure class="nf ng nh ni gt iv"><div class="bz fp l di"><div class="ny nz l"/></div></figure><h1 id="478b" class="ly lz ji bd ma mb mc md me mf mg mh mi ko mj kp mk kr ml ks mm ku mn kv mo mp bi translated">NgClass</h1><p id="e050" class="pw-post-body-paragraph kx ky ji kz b la ol kj lc ld om km lf lg on li lj lk oo lm ln lo op lq lr ls im bi translated">指令语法简洁，支持更复杂的逻辑，允许我们更好地控制我们的类名。</p><h2 id="78c4" class="nn lz ji bd ma oa ob dn me oc od dp mi lg oe of mk lk og oh mm lo oi oj mo ok bi translated">不带角的类名</h2><p id="226b" class="pw-post-body-paragraph kx ky ji kz b la ol kj lc ld om km lf lg on li lj lk oo lm ln lo op lq lr ls im bi translated">在HTML中，我们可以通过<code class="fe lu lv lw lx b">class</code>属性声明一个类:</p><pre class="nf ng nh ni gt nj lx nk nl aw nm bi"><span id="8f88" class="nn lz ji lx b gy no np l nq nr">&lt;span class="availability"&gt;<br/>   {{ product.status }}<br/>&lt;/span&gt;</span></pre><p id="1559" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">如果我们想给它添加一个类，我们可以使用存在于<em class="lt">元素对象</em>上的<code class="fe lu lv lw lx b">className</code>属性来设置或获取一个类:</p><pre class="nf ng nh ni gt nj lx nk nl aw nm bi"><span id="1cbd" class="nn lz ji lx b gy no np l nq nr">const el = document.querySelector('.availability');<br/>el.className += ' available';<br/>console.log(el.className); // 'availability text-available'</span></pre><h2 id="f7cf" class="nn lz ji bd ma oa ob dn me oc od dp mi lg oe of mk lk og oh mm lo oi oj mo ok bi translated">Angular中的NgClass指令</h2><blockquote class="mq"><p id="4002" class="mr ms ji bd mt mu mv mw mx my mz ls dk translated"><code class="fe lu lv lw lx b">NgClass</code>指令允许你为一个<em class="or"> DOM元素</em>动态设置CSS类。</p></blockquote><p id="601b" class="pw-post-body-paragraph kx ky ji kz b la na kj lc ld nb km lf lg nc li lj lk nd lm ln lo ne lq lr ls im bi translated">有两种方法可以使用这个指令，第一种是通过传递一个<em class="lt">对象文字</em>给这个指令，就像这样:</p><pre class="nf ng nh ni gt nj lx nk nl aw nm bi"><span id="3216" class="nn lz ji lx b gy no np l nq nr">[ngClass]="{'text-available':true}"</span></pre><p id="c4d3" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">当使用一个对象文字时，<em class="lt">键</em>是当键值评估为true时添加到元素中的类。</p><p id="aca0" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">所以在上面的例子中，由于值是<code class="fe lu lv lw lx b">true</code>，这将把类<code class="fe lu lv lw lx b">text-available</code>设置到指令附加到的元素上。</p><p id="a8d4" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">该值也可以是一个<em class="lt">表达式</em>，因此我们可以将上面的内容改写为:</p><pre class="nf ng nh ni gt nj lx nk nl aw nm bi"><span id="b41d" class="nn lz ji lx b gy no np l nq nr">[ngClass]="{'text-success':person.country === 'UK'}"</span></pre><p id="61bb" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">让我们来看一个例子，通过改进我们之前用<code class="fe lu lv lw lx b">ngStyle</code>指令做的例子，我们可以创建设置比我们之前使用的基本颜色如红色、黄色和绿色更好的颜色的类:</p><figure class="nf ng nh ni gt iv"><div class="bz fp l di"><div class="ny nz l"/></div></figure><figure class="nf ng nh ni gt iv"><div class="bz fp l di"><div class="ny nz l"/></div></figure><blockquote class="ns nt nu"><p id="ab84" class="kx ky lt kz b la lb kj lc ld le km lf nv lh li lj nw ll lm ln nx lp lq lr ls im bi translated">因为对象文字可以包含许多键，所以我们也可以设置许多类名。</p></blockquote><p id="c46c" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">如果我们运行上面的代码，我们会看到:</p><figure class="nf ng nh ni gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi os"><img src="../Images/c1595a84333e6c6f475f00d716b25880.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JoSP1J3ilmExyUh_uLuPrw.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">使用ngStyle的角度样式示例</figcaption></figure><h2 id="3385" class="nn lz ji bd ma oa ob dn me oc od dp mi lg oe of mk lk og oh mm lo oi oj mo ok bi translated">替代语法</h2><p id="f1f5" class="pw-post-body-paragraph kx ky ji kz b la ol kj lc ld om km lf lg on li lj lk oo lm ln lo op lq lr ls im bi translated">我们也可以通过绑定到名为<code class="fe lu lv lw lx b">class</code>的输入属性绑定来在元素上设置一个类，就像这样<code class="fe lu lv lw lx b">[class]="'text-available'"</code></p><blockquote class="ns nt nu"><p id="7691" class="kx ky lt kz b la lb kj lc ld le km lf nv lh li lj nw ll lm ln nx lp lq lr ls im bi translated"><code class="fe lu lv lw lx b">'text-available'</code>用单引号括起来，所以当它被当作JavaScript计算时，它不会试图把<code class="fe lu lv lw lx b">text-available</code>当作一个变量。</p></blockquote><p id="80aa" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">上面的语法删除了该元素的所有现有类，并用<code class="fe lu lv lw lx b">'text-available'</code>替换它们。</p><p id="7f22" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">如果我们只想将<code class="fe lu lv lw lx b">text-available</code>添加到已经在元素上设置的类列表中，我们可以使用扩展语法<code class="fe lu lv lw lx b">[class.&lt;class-name&gt;]='truthy expression'</code></p><p id="d115" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">例如，要将<code class="fe lu lv lw lx b">text-available</code>添加到元素的类列表中，我们可以使用:</p><pre class="nf ng nh ni gt nj lx nk nl aw nm bi"><span id="de34" class="nn lz ji lx b gy no np l nq nr">[class.text-available]="true"</span></pre><p id="4e4b" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">我们实际上可以一次指定多个值:</p><figure class="nf ng nh ni gt iv"><div class="bz fp l di"><div class="ny nz l"/></div></figure><figure class="nf ng nh ni gt iv"><div class="bz fp l di"><div class="ny nz l"/></div></figure><figure class="nf ng nh ni gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi os"><img src="../Images/c1595a84333e6c6f475f00d716b25880.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JoSP1J3ilmExyUh_uLuPrw.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">ngClass的角度样式示例</figcaption></figure><h1 id="c308" class="ly lz ji bd ma mb mc md me mf mg mh mi ko mj kp mk kr ml ks mm ku mn kv mo mp bi translated">结论</h1><p id="59fa" class="pw-post-body-paragraph kx ky ji kz b la ol kj lc ld om km lf lg on li lj lk oo lm ln lo op lq lr ls im bi translated">Angular为样式化<strong class="kz jj"> DOM元素</strong>提供了广泛的解决方案，并通过<code class="fe lu lv lw lx b">ngStyle</code>和<code class="fe lu lv lw lx b">ngClass</code>指令使之变得简单。</p><p id="8132" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">多亏了这些指令，<strong class="kz jj">你可以通过编辑简单的变量或使用更复杂的函数来控制你的应用程序UI </strong>的行为。</p><p id="2410" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated"><em class="lt">感谢阅读！</em></p></div></div>    
</body>
</html>