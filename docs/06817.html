<html>
<head>
<title>Get Unique Values From a JavaScript Array Using Set (ES6)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Set (ES6)从JavaScript数组中获取唯一值</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/get-unique-values-from-a-javascript-array-using-set-es6-32b0bc8f1870?source=collection_archive---------11-----------------------#2021-01-04">https://levelup.gitconnected.com/get-unique-values-from-a-javascript-array-using-set-es6-32b0bc8f1870?source=collection_archive---------11-----------------------#2021-01-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5281" class="pw-subtitle-paragraph ju is it bd b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl dk translated">当您有一个具有重复值的数组时，您可以通过调用数组上的<code class="fe jq jr js jt b">Set</code>构造函数:<code class="fe jq jr js jt b">new Set([])</code>来获得唯一值。</h2></div><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/5ffad219fa7cb30bc22ca78317f0e922.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*t9YuPTfl4veyEbh2"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">Igor Starkov 在<a class="ae lc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="65e1" class="ld le it bd lf lg lh li lj lk ll lm ln kd lo ke lp kg lq kh lr kj ls kk lt lu bi translated">从数组中删除重复值</h1><p id="33de" class="pw-post-body-paragraph lv lw it lx b ly lz jy ma mb mc kb md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">ES6(也称为ECMAScript 2015或简称为“现代JavaScript”)中我最喜欢的部分之一是添加了<code class="fe jq jr js jt b"><a class="ae lc" href="https://medium.com/coding-at-dawn/how-to-use-set-to-filter-unique-items-in-javascript-es6-196c55ce924b" rel="noopener">Set</a></code>，这是一种新的对象类型，只允许你一次添加任何给定值。</p><p id="68d0" class="pw-post-body-paragraph lv lw it lx b ly mr jy ma mb ms kb md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">乍一看，<code class="fe jq jr js jt b">Set</code>与常规的JavaScript对象有一些相似之处，后者需要惟一的对象键(也称为属性或属性名)。对象只允许您一次添加任何给定的属性名，因此似乎您可以使用它们从JavaScript数组中获取唯一的值。</p><p id="6a2a" class="pw-post-body-paragraph lv lw it lx b ly mr jy ma mb ms kb md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">但是，JavaScript对象键必须是字符串；除了特殊类型<code class="fe jq jr js jt b"><a class="ae lc" href="https://medium.com/p/30c3f294ea65" rel="noopener">Symbol</a></code>，其他类型不能作为对象键。此外，对象关键点不记得它们的“插入顺序”，即它们最初被添加到对象中的顺序。</p><p id="9d47" class="pw-post-body-paragraph lv lw it lx b ly mr jy ma mb ms kb md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">这使得对象不适合从数组中查找唯一值，特别是如果您希望以唯一值在数组中出现的相同顺序来获取它们。这就是为什么我们现在有了<code class="fe jq jr js jt b">Set</code>。</p><p id="5058" class="pw-post-body-paragraph lv lw it lx b ly mr jy ma mb ms kb md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">正如我们将在本文中看到的，因为<code class="fe jq jr js jt b">Set</code>对象是<a class="ae lc" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols" rel="noopener ugc nofollow" target="_blank">可迭代的</a>，所以很容易将数组转换成<code class="fe jq jr js jt b">Set</code>对象，反之亦然。</p></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="06bd" class="ld le it bd lf lg nd li lj lk ne lm ln kd nf ke lp kg ng kh lr kj nh kk lt lu bi translated">用<code class="fe jq jr js jt b">Set</code>寻找唯一的数组值</h1><p id="cc1f" class="pw-post-body-paragraph lv lw it lx b ly lz jy ma mb mc kb md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">让我们举一个包含不同类型的数组的代码示例，一些重复的<a class="ae lc" href="https://medium.com/javascript-in-plain-english/how-to-check-for-a-number-in-javascript-8d9024708153" rel="noopener">数字</a>、<a class="ae lc" href="https://medium.com/javascript-in-plain-english/how-to-check-for-a-string-in-javascript-a16b196915ff" rel="noopener">字符串</a>和<a class="ae lc" href="https://medium.com/javascript-in-plain-english/how-to-check-for-a-boolean-in-javascript-98fdc8aec2a7" rel="noopener">布尔值</a>。</p><p id="0f47" class="pw-post-body-paragraph lv lw it lx b ly mr jy ma mb ms kb md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">虽然我使用的是更常见的<a class="ae lc" href="https://medium.com/p/671909def6ca" rel="noopener">原始类型</a> , <code class="fe jq jr js jt b">Set</code>实际上对<code class="fe jq jr js jt b"><a class="ae lc" href="https://medium.com/javascript-in-plain-english/how-to-check-for-null-in-javascript-dffab64d8ed5" rel="noopener">null</a></code>、<code class="fe jq jr js jt b"><a class="ae lc" href="https://medium.com/coding-at-dawn/how-to-check-for-undefined-in-javascript-bcedd62c8ad" rel="noopener">undefined</a></code>和<code class="fe jq jr js jt b"><a class="ae lc" href="https://medium.com/coding-in-simple-english/how-to-check-for-nan-in-javascript-4294e555b447" rel="noopener">NaN</a></code>值也很有效。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi ni"><img src="../Images/be770f4de8cdfc5cb0feb123b0428e03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a8dl022djOvMqoRVtyXQCA.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><a class="ae lc" href="https://gist.github.com/DoctorDerek/36210807db004c3ba464f823737fe7d0" rel="noopener ugc nofollow" target="_blank">查看原始代码</a>作为GitHub要点</figcaption></figure><p id="eadc" class="pw-post-body-paragraph lv lw it lx b ly mr jy ma mb ms kb md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">我们在示例中看到，项目的插入顺序保持不变，因此一旦删除了7个重复值，在得到的6个唯一值的数组中，<code class="fe jq jr js jt b">2</code>仍然位于<code class="fe jq jr js jt b">1</code>之前。</p><p id="e062" class="pw-post-body-paragraph lv lw it lx b ly mr jy ma mb ms kb md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">我们如何从数组中获得不同的值？我们只是用<code class="fe jq jr js jt b"><a class="ae lc" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new" rel="noopener ugc nofollow" target="_blank">new</a></code>关键字(<code class="fe jq jr js jt b">new Set()</code>)调用<a class="ae lc" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set/Set" rel="noopener ugc nofollow" target="_blank">的</a> <code class="fe jq jr js jt b"><a class="ae lc" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set/Set" rel="noopener ugc nofollow" target="_blank">Set</a></code> <a class="ae lc" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set/Set" rel="noopener ugc nofollow" target="_blank">构造函数</a>，将数组作为唯一参数传递给构造函数。</p><blockquote class="nj nk nl"><p id="6e22" class="lv lw nm lx b ly mr jy ma mb ms kb md nn mt mg mh no mu mk ml np mv mo mp mq im bi translated">"<code class="fe jq jr js jt b"><strong class="lx iu">Set</strong></code> <strong class="lx iu">构造函数</strong>允许你创建<code class="fe jq jr js jt b">Set</code>对象来存储任何类型的唯一值，无论是<a class="ae lc" href="https://developer.mozilla.org/en-US/docs/Glossary/Primitive" rel="noopener ugc nofollow" target="_blank">原始值</a>还是对象引用。"— <a class="ae lc" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set/Set" rel="noopener ugc nofollow" target="_blank"> MDN文档</a></p></blockquote><p id="f712" class="pw-post-body-paragraph lv lw it lx b ly mr jy ma mb ms kb md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">我们可以通过使用<code class="fe jq jr js jt b"><a class="ae lc" rel="noopener ugc nofollow" target="_blank" href="/how-to-copy-an-array-in-javascript-with-array-from-298c7e66eebc?gi=25ca4049065">Array.from()</a></code>或者<a class="ae lc" href="https://medium.com/coding-at-dawn/how-to-use-the-spread-operator-in-javascript-b9e4a8b06fab" rel="noopener">带方括号<code class="fe jq jr js jt b">[]</code>的</a> <code class="fe jq jr js jt b"><a class="ae lc" href="https://medium.com/coding-at-dawn/how-to-use-the-spread-operator-in-javascript-b9e4a8b06fab" rel="noopener">...</a></code> <a class="ae lc" href="https://medium.com/coding-at-dawn/how-to-use-the-spread-operator-in-javascript-b9e4a8b06fab" rel="noopener">扩展操作符</a>转换回数组。后者也被称为使用带有“数组文字符号”的<code class="fe jq jr js jt b">...</code>扩展语法</p><p id="6a18" class="pw-post-body-paragraph lv lw it lx b ly mr jy ma mb ms kb md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">将两者放在一起，我们可以用一行代码从数组中获得唯一的值:<code class="fe jq jr js jt b">Array.from(new Set(oldArray))</code>。使用<code class="fe jq jr js jt b">...</code>扩展语法的等效代码是:<code class="fe jq jr js jt b">[...new Set(oldArray)]</code>。</p></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><p id="5851" class="pw-post-body-paragraph lv lw it lx b ly mr jy ma mb ms kb md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">请注意，<a class="ae lc" href="https://medium.com/better-programming/how-to-find-unique-objects-in-an-array-in-javascript-by-object-reference-or-key-value-pairs-131338898d7a" rel="noopener">使用</a> <code class="fe jq jr js jt b"><a class="ae lc" href="https://medium.com/better-programming/how-to-find-unique-objects-in-an-array-in-javascript-by-object-reference-or-key-value-pairs-131338898d7a" rel="noopener">Set</a></code> <a class="ae lc" href="https://medium.com/better-programming/how-to-find-unique-objects-in-an-array-in-javascript-by-object-reference-or-key-value-pairs-131338898d7a" rel="noopener">和JavaScript对象</a>的工作方式略有不同，这取决于您是否需要唯一的对象引用或者比较那些对象的内容。</p><p id="fa7e" class="pw-post-body-paragraph lv lw it lx b ly mr jy ma mb ms kb md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">默认行为使用唯一的对象引用，因此<code class="fe jq jr js jt b">Set</code>将删除多次找到的对象的任何副本。您必须采用不同的方法来比较对象的内容。</p><p id="904f" class="pw-post-body-paragraph lv lw it lx b ly mr jy ma mb ms kb md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">关于这种寻找唯一值的方法的更多信息，请阅读我的在JavaScript 中使用<code class="fe jq jr js jt b"><a class="ae lc" href="https://medium.com/coding-at-dawn/how-to-use-set-to-filter-unique-items-in-javascript-es6-196c55ce924b" rel="noopener">Set</a></code> <a class="ae lc" href="https://medium.com/coding-at-dawn/how-to-use-set-to-filter-unique-items-in-javascript-es6-196c55ce924b" rel="noopener">的完整指南:</a></p><div class="nq nr gp gr ns nt"><a href="https://medium.com/coding-at-dawn/how-to-use-set-to-filter-unique-items-in-javascript-es6-196c55ce924b" rel="noopener follow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd iu gy z fp ny fr fs nz fu fw is bi translated">如何使用Set来过滤JavaScript ES6中的唯一项</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">JavaScript中需要唯一值？这就是Set对象出现的原因。以下是如何使用Set来过滤一个列表…</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">medium.com</p></div></div><div class="oc l"><div class="od l oe of og oc oh kw nt"/></div></div></a></div><p id="ed72" class="pw-post-body-paragraph lv lw it lx b ly mr jy ma mb ms kb md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated">我希望这篇文章已经帮助你理解了为什么当你需要从一个数组中获取唯一值时,<code class="fe jq jr js jt b">Set</code>是一个可以使用的工具。</p><p id="9e61" class="pw-post-body-paragraph lv lw it lx b ly mr jy ma mb ms kb md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated"><strong class="lx iu">编码快乐！</strong>🎭👔🎠🎄🎁</p></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><p id="fbed" class="pw-post-body-paragraph lv lw it lx b ly mr jy ma mb ms kb md me mt mg mh mi mu mk ml mm mv mo mp mq im bi translated"><a class="ae lc" href="https://www.linkedin.com/in/derek-austin/" rel="noopener ugc nofollow" target="_blank">德里克·奥斯丁</a>博士是《职业编程:如何在6个月内成为一名成功的6位数程序员 一书的作者，该书现已在亚马逊上架。</p></div></div>    
</body>
</html>