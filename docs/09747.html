<html>
<head>
<title>How to Keep Your Dependencies Up to Date with npm and Yarn</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用npm和Yarn保持您的依赖关系最新</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-keep-your-dependencies-up-to-date-with-npm-and-yarn-5ee7e3a4981e?source=collection_archive---------9-----------------------#2021-09-09">https://levelup.gitconnected.com/how-to-keep-your-dependencies-up-to-date-with-npm-and-yarn-5ee7e3a4981e?source=collection_archive---------9-----------------------#2021-09-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f5e0283a3860b93fc9166dc97a0cff8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QfFGcYjOBrkr7sKL"/></div></div></figure><h1 id="26eb" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">介绍</h1><p id="208e" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated"><a class="ae lu" href="https://en.wikipedia.org/wiki/Package_manager" rel="noopener ugc nofollow" target="_blank">包管理器</a>使得日常使用他人的代码更加流畅和标准化。无法以一致的方式完成常见任务的日子已经一去不复返了，这些任务包括:</p><ul class=""><li id="16fb" class="lv lw iq ky b kz lx ld ly lh lz ll ma lp mb lt mc md me mf bi translated">安装/卸载节点程序包及其依赖项</li><li id="db92" class="lv lw iq ky b kz mg ld mh lh mi ll mj lp mk lt mc md me mf bi translated">创建/发布依赖关系</li><li id="333a" class="lv lw iq ky b kz mg ld mh lh mi ll mj lp mk lt mc md me mf bi translated"><strong class="ky ir">保持软件包版本以及*其*依赖项版本的最新状态</strong></li></ul><p id="36a3" class="pw-post-body-paragraph kw kx iq ky b kz lx lb lc ld ly lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">这最后一点，也就是本文将要讨论的内容。今天，有了像<a class="ae lu" href="https://www.npmjs.com/" rel="noopener ugc nofollow" target="_blank"> npm </a>和Yarn这样的包管理器，就有了方便地更新包及其依赖项的方法。</p><h1 id="0e5e" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">依赖关系和版本控制</h1><p id="6fee" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">npm和Yarn都遵循<a class="ae lu" href="https://semver.org/" rel="noopener ugc nofollow" target="_blank">语义版本化</a>的规则来表示一个包的给定版本。每个包版本从<code class="fe mo mp mq mr b">1.0.0</code>开始，在不同的点上进展，像这样分解。</p><p id="5853" class="pw-post-body-paragraph kw kx iq ky b kz lx lb lc ld ly lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">许多软件包使用其他现有的软件包来提供其独特的功能。这些包被称为“依赖项”。下一节将展示如何更新单个依赖项。</p><h1 id="70bc" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">更新单个包依赖项</h1><p id="b28a" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">要检查一个包中过时的依赖项，使用带有npm或Yarn的<code class="fe mo mp mq mr b">outdated</code>命令:</p><pre class="ms mt mu mv gt mw mr mx my aw mz bi"><span id="6f42" class="na jz iq mr b gy nb nc l nd ne">$ npm outdated $ $ yarn outdated</span></pre><p id="4621" class="pw-post-body-paragraph kw kx iq ky b kz lx lb lc ld ly lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">这将显示可以更新到较新版本的包依赖项列表。以下是更新单个依赖项的一些方法。</p><h2 id="0373" class="na jz iq bd ka nf ng dn ke nh ni dp ki lh nj nk km ll nl nm kq lp nn no ku np bi translated">npm</h2><p id="cce9" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated"><code class="fe mo mp mq mr b">npm update</code>命令，当与一个特定的包名一起使用时，更新那个包。一些次要的语法要点需要注意:</p><p id="b8bd" class="pw-post-body-paragraph kw kx iq ky b kz lx lb lc ld ly lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">假设我们已经安装了过时版本的:</p><pre class="ms mt mu mv gt mw mr mx my aw mz bi"><span id="9628" class="na jz iq mr b gy nb nc l nd ne">$ npm update lodash@4.17.10</span><span id="3901" class="na jz iq mr b gy nq nc l nd ne">$ npm update lodash@latest</span></pre><h2 id="e5c0" class="na jz iq bd ka nf ng dn ke nh ni dp ki lh nj nk km ll nl nm kq lp nn no ku np bi translated">故事</h2><p id="ea95" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">在Yarn中，命令是相似的。不要用<code class="fe mo mp mq mr b">update</code>，用<code class="fe mo mp mq mr b">up</code>。</p><p id="5dae" class="pw-post-body-paragraph kw kx iq ky b kz lx lb lc ld ly lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">继续使用lodash示例，下面是对特定版本的更新:</p><p id="f10a" class="pw-post-body-paragraph kw kx iq ky b kz lx lb lc ld ly lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">这是最新版本的更新:</p><pre class="ms mt mu mv gt mw mr mx my aw mz bi"><span id="c025" class="na jz iq mr b gy nb nc l nd ne">$ yarn up lodash</span></pre><h1 id="1540" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">更新所有包依赖项</h1><p id="941c" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">虽然我们可以使用<code class="fe mo mp mq mr b">npm update</code>或<code class="fe mo mp mq mr b">yarn upgrade</code>来更新<code class="fe mo mp mq mr b">package.json</code>文件约束内的所有依赖项，但本节涵盖了将所有依赖项更新到它们的<em class="nr">最新主版本</em>。</p><p id="5cea" class="pw-post-body-paragraph kw kx iq ky b kz lx lb lc ld ly lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">有一个叫做<code class="fe mo mp mq mr b"><a class="ae lu" href="https://www.npmjs.com/package/npm-check-updates" rel="noopener ugc nofollow" target="_blank">npm-check-updates</a></code>的包，它被设计用来更新所有的依赖关系，而不管<code class="fe mo mp mq mr b">package.json</code>中指定了什么。它的速记别名是<code class="fe mo mp mq mr b">ncu</code>。</p><p id="c1cf" class="pw-post-body-paragraph kw kx iq ky b kz lx lb lc ld ly lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">因为npm和Yarn都可以访问npm注册表，<code class="fe mo mp mq mr b">npm-check-updates</code>与两者都兼容！</p></div><div class="ab cl ns nt hu nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ij ik il im in"><p id="7f64" class="pw-post-body-paragraph kw kx iq ky b kz lx lb lc ld ly lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated"><em class="nr">原载于【https://blog.mydevdiary.net】<a class="ae lu" href="https://blog.mydevdiary.net/how-to-keep-your-dependencies-up-to-date-with-npm-and-yarn-cktbm9mc901gutjs1chnj73mw" rel="noopener ugc nofollow" target="_blank"><em class="nr"/></a><em class="nr">。</em></em></p></div></div>    
</body>
</html>