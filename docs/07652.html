<html>
<head>
<title>Using environment variables in a React Native App.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React本机应用程序中使用环境变量。</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/using-environment-variables-in-a-react-native-app-f2dd005d2457?source=collection_archive---------0-----------------------#2021-03-03">https://levelup.gitconnected.com/using-environment-variables-in-a-react-native-app-f2dd005d2457?source=collection_archive---------0-----------------------#2021-03-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/11b573b223e083414ce69d17d3e2f7d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oHdfLWFWkL0XVMKr"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@ffstop?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">摄影师</a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="3332" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通过运行命令安装<code class="fe lb lc ld le b">react-native-dotenv</code>库/包</p><p id="6b6a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">npm i react-native-dotenv</code></p><h2 id="9680" class="lf lg iq bd lh li lj dn lk ll lm dp ln ko lo lp lq ks lr ls lt kw lu lv lw lx bi translated">对于iOS来说，</h2><ol class=""><li id="5d2e" class="ly lz iq kf b kg ma kk mb ko mc ks md kw me la mf mg mh mi bi translated"><code class="fe lb lc ld le b">cd /ios</code></li><li id="a7ee" class="ly lz iq kf b kg mj kk mk ko ml ks mm kw mn la mf mg mh mi bi translated"><code class="fe lb lc ld le b">pod install</code></li></ol><p id="a3f7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">配置您的<code class="fe lb lc ld le b">babel.configure.js</code>,允许您使用dotenv为多个环境将您的环境变量注入到您的<strong class="kf ir"> react-native环境</strong>中。</p><h2 id="99df" class="lf lg iq bd lh li lj dn lk ll lm dp ln ko lo lp lq ks lr ls lt kw lu lv lw lx bi translated">基本设置:</h2><p id="27a7" class="pw-post-body-paragraph kd ke iq kf b kg ma ki kj kk mb km kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">在您的<code class="fe lb lc ld le b">babel.configure.js</code>文件中，添加以下代码:</p><pre class="mr ms mt mu gt mv le mw mx aw my bi"><span id="a57c" class="lf lg iq le b gy mz na l nb nc">module.exports = {<br/>  "plugins": [<br/>    ["module:react-native-dotenv", {<br/>      "moduleName": "@env",<br/>      "path": ".env",<br/>      "blacklist": null,<br/>      "whitelist": null,<br/>      "safe": false,<br/>      "allowUndefined": true<br/>    }]<br/>  ]<br/>}</span></pre><h2 id="3573" class="lf lg iq bd lh li lj dn lk ll lm dp ln ko lo lp lq ks lr ls lt kw lu lv lw lx bi translated">用法:</h2><p id="1139" class="pw-post-body-paragraph kd ke iq kf b kg ma ki kj kk mb km kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">在项目文件夹的根目录下创建一个<code class="fe lb lc ld le b">.env</code>文件，并添加环境变量。</p><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/da83f637f7196ada2739f5aeb98eeca7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1072/format:webp/1*xpEpxWznoNxGH-eG1AnX6Q.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">环境变量的示例</figcaption></figure><p id="5ec6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，导入环境变量并在代码中使用它，如下所示:</p><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ne"><img src="../Images/9e760a30c78c50aba61aee96d7afd339.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uwvvats72hvU_MMXjs3nzg.png"/></div></div></figure><h2 id="0c40" class="lf lg iq bd lh li lj dn lk ll lm dp ln ko lo lp lq ks lr ls lt kw lu lv lw lx bi translated">对于使用Typescript的项目:</h2><ul class=""><li id="932e" class="ly lz iq kf b kg ma kk mb ko mc ks md kw me la nf mg mh mi bi translated">创建一个<strong class="kf ir">类型</strong>文件夹</li><li id="b669" class="ly lz iq kf b kg mj kk mk ko ml ks mm kw mn la nf mg mh mi bi translated">在类型文件夹中创建一个文件，例如<code class="fe lb lc ld le b">env.d.ts</code></li><li id="e991" class="ly lz iq kf b kg mj kk mk ko ml ks mm kw mn la nf mg mh mi bi translated">打开<code class="fe lb lc ld le b">tsconfig.json</code>文件，将下面一行添加到“compilerOptions”中:{}对象:</li></ul><p id="0ed4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">"typeRoots": ["./src/types"]</code></p><ul class=""><li id="1319" class="ly lz iq kf b kg kh kk kl ko ng ks nh kw ni la nf mg mh mi bi translated">现在回到<code class="fe lb lc ld le b">env.d.ts</code>文件，声明一个“@env”模块，添加所有的环境变量，并像这样导出:</li></ul><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nj"><img src="../Images/7fa24af384337849f8009b5a0231ac4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1x3-neTj0Ycwm38yWUfCUA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">声明“@env”模块并导出所有环境变量(typescript选项)</figcaption></figure><h2 id="ee45" class="lf lg iq bd lh li lj dn lk ll lm dp ln ko lo lp lq ks lr ls lt kw lu lv lw lx bi translated">总结:</h2><p id="37f2" class="pw-post-body-paragraph kd ke iq kf b kg ma ki kj kk mb km kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">在这篇博文中，我们通过安装npm包<code class="fe lb lc ld le b">react-native-dotenv</code>和配置babel.config.js文件，了解了如何在我们的<strong class="kf ir"> react-native </strong>项目中使用环境变量。最后，我们创建了一个<strong class="kf ir"> env </strong>文件，并在我们想要使用的文件/源代码中导入了环境变量。</p><p id="0c0b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">暂时就这样了。请在下面的评论区给我你的反馈。谢谢大家！</p></div></div>    
</body>
</html>