<html>
<head>
<title>How to Use YOLOv3 With Darknet in 4 Easy Steps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何通过4个简单的步骤使用YOLOv3和Darknet</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-use-yolov3-with-darknet-in-4-easy-steps-f401e1a7e47d?source=collection_archive---------6-----------------------#2021-07-12">https://levelup.gitconnected.com/how-to-use-yolov3-with-darknet-in-4-easy-steps-f401e1a7e47d?source=collection_archive---------6-----------------------#2021-07-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="5806" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">什么是暗网？</strong></p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ko"><img src="../Images/40ba26a2cbf989bdd0711444aa70774d.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*bMyMOvHmXZAmuJxwYvsctg.jpeg"/></div></figure><p id="1327" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Darknet是一个开源的神经网络框架，以YOLO为特色。</p><p id="337a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">YoloV3现在已经上市很多年了，仍然被广泛使用。</p><p id="cf36" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">什么是YOLO？</strong></p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kw"><img src="../Images/e304378e1655bc891dec3e5b418d8e9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bSLNlG7crv-p-m4LVYYk3Q.png"/></div></div></figure><p id="26b0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">YOLO代表你只看一次，是一个实时对象检测系统。</p><p id="fbfd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">如何利用YOLO进行推理</strong></p><p id="ea3e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用YOLO有几种方式，最初的方式是通过暗网本身。</p><p id="f44a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要使用darknet，我们需要通过终端来完成，这很容易做到。</p><p id="a3e7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">以下是我们需要遵循的步骤。</p><p id="e107" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">第一步:从Github克隆Darknet】</strong></p><pre class="kp kq kr ks gt lb lc ld le aw lf bi"><span id="ee4d" class="lg lh it lc b gy li lj l lk ll">git clone <a class="ae lm" href="https://github.com/pjreddie/darknet" rel="noopener ugc nofollow" target="_blank">https://github.com/pjreddie/darknet</a></span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ln"><img src="../Images/744aee6743a6f48515dac0e55af68b3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1342/format:webp/1*FrNrwgyy0UZTgmmEHCW7cQ.png"/></div></figure><p id="878d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">第二步:编译暗网</strong></p><p id="2d66" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们需要利用“make”来编译darknet，这将在MacOs和Linux上开箱即用，我正在macOS上做这个。</p><p id="3804" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在Windows中，你可能需要做进一步的研究，看看如何使用“make”来编译它</p><pre class="kp kq kr ks gt lb lc ld le aw lf bi"><span id="6fd3" class="lg lh it lc b gy li lj l lk ll">cd darknet<br/>make</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi lo"><img src="../Images/ffa905f80527d6b9c8597228baffea07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_woddnXRDl0MM-KMT78ylw.png"/></div></div></figure><p id="506d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">步骤3:下载YOLOv3砝码文件</strong></p><p id="5da4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">权重文件大约248 MB，它不包含在存储库中，所以我们需要从不同的URL下载它。</p><p id="57f1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你可以用浏览器下载，但我更喜欢直接在控制台上下载，就像这样:</p><pre class="kp kq kr ks gt lb lc ld le aw lf bi"><span id="39bf" class="lg lh it lc b gy li lj l lk ll">wget <a class="ae lm" href="https://pjreddie.com/media/files/yolov3.weights" rel="noopener ugc nofollow" target="_blank">https://pjreddie.com/media/files/yolov3.weights</a></span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi lp"><img src="../Images/8b80cd643a5689d5967380700eeabd45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qRGuj2wOzNIRdfqKNB6k_Q.png"/></div></div></figure><p id="44f6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">无论哪种方式，您都要确保将权重文件放在darknet存储库中，这样我们就可以在下一步中轻松地引用它。</p><p id="e161" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">步骤4:运行YOLO检测图像中的物体</strong></p><p id="956d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在是关键时刻，我们将运行darknet来检测图像中的对象。</p><p id="68e9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为此，只需执行以下命令:</p><pre class="kp kq kr ks gt lb lc ld le aw lf bi"><span id="1781" class="lg lh it lc b gy li lj l lk ll">./darknet detect cfg/yolov3.cfg yolov3.weights data/dog.jpg</span></pre><ul class=""><li id="3635" class="lq lr it js b jt ju jx jy kb ls kf lt kj lu kn lv lw lx ly bi translated">。/darknet是可执行文件</li><li id="5558" class="lq lr it js b jt lz jx ma kb mb kf mc kj md kn lv lw lx ly bi translated">检测是表明我们想要做什么的论点</li><li id="263c" class="lq lr it js b jt lz jx ma kb mb kf mc kj md kn lv lw lx ly bi translated">cfg/yolov3.cfg是存储库中包含的yolov3配置文件的路径</li><li id="504f" class="lq lr it js b jt lz jx ma kb mb kf mc kj md kn lv lw lx ly bi translated">yolov3.weights是我们刚刚在上面下载的权重文件</li><li id="36d9" class="lq lr it js b jt lz jx ma kb mb kf mc kj md kn lv lw lx ly bi translated">data/dog.jpg是我们想要分析的图像的路径，它也是存储库的一部分</li></ul><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi me"><img src="../Images/190d1e51294d80c6577e70fd47e9d89a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HULk0RztahFRNJjIR_0O6A.png"/></div></div></figure><p id="99ef" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">几秒钟后，一旦它运行完毕，一个名为<strong class="js iu"><em class="mf">predictions.jpg</em></strong>的文件将出现在暗网存储库文件夹中，这个图像将包含显示所有检测到的对象的注释。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/21fc54f73a7b8adda508e7bb3a216c56.png" data-original-src="https://miro.medium.com/v2/resize:fit:764/format:webp/1*vs-YdTzQOg3vGZZitp7Waw.png"/></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">26.7秒后，结束了！</figcaption></figure><p id="f864" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是结果，如您所见，它包含我们在上面的终端屏幕截图中看到的检测到的对象:</p><p id="2a30" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">自行车:99%信心<br/>卡车:92%信心<br/>狗:100%信心</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ml"><img src="../Images/680d2e91a70c796e83b293c7e3856198.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NAMk1XF8qb2L4B2CnfCuWw.jpeg"/></div></div></figure><p id="8909" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">使用OpenCV的YOLOv3】</strong></p><p id="1b5a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">虽然这是YOLO最初的设计使用方式，但也有其他的使用方式。如果你想在你的Python脚本中使用YOLO，当然你可以利用“子过程”来集成它，但实际上，OpenCV已经做了很好的工作来集成它和他们的深度神经网络模块或简称“dnn”。</p><p id="6fff" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">不仅如此，当从Darknet运行时，它还被优化为比原来的运行速度更快，更快的速度我指的是快9倍左右，正如他们在原始文章中所说:<a class="ae lm" href="https://learnopencv.com/deep-learning-based-object-detection-using-yolov3-with-opencv-python-c/" rel="noopener ugc nofollow" target="_blank">https://learnopencv . com/deep-learning-based-object-detection-using-yolov 3-with-opencv-python-c/</a></p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi mm"><img src="../Images/76f0ee7fbaec0d09aed31b9f84cc9506.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y6xgDiXiYZmtPmH3m3hR8A.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">表格摘自learnopencv.com-&gt;<a class="ae lm" href="https://learnopencv.com/deep-learning-based-object-detection-using-yolov3-with-opencv-python-c/" rel="noopener ugc nofollow" target="_blank">https://learnopencv . com/deep-learning-based-object-detection-using-yolov 3-with-opencv-python-c/</a></figcaption></figure><p id="1bfb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我将会另外写一篇文章来解释如何将YOLOv3和OpenCV <em class="mf"> cv2.dnn </em>一起使用，敬请关注。</p><p id="bfc5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你觉得这篇文章有用吗？</p><p id="6980" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">分享你的评论和经验！让我们知道什么对你有效，什么对你无效。</p><p id="0078" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一定要给这篇文章一些掌声(50左右是个好数字！)如果你喜欢这篇文章并想看更多。</p><p id="6775" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要了解最新信息，请务必关注，直到下次！</p><p id="d6b1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">我们来连线</strong></p><p id="f636" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你可以在这里找到我的社交网络链接:<a class="ae lm" href="https://linktr.ee/gnstudenko" rel="noopener ugc nofollow" target="_blank">https://linktr.ee/gnstudenko</a></p></div></div>    
</body>
</html>