<html>
<head>
<title>Creating a Custom Logger for a Node.js Application using Winston</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Winston为Node.js应用程序创建自定义记录器</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/creating-a-custom-logger-for-node-js-application-using-winston-3925007c9659?source=collection_archive---------1-----------------------#2019-11-24">https://levelup.gitconnected.com/creating-a-custom-logger-for-node-js-application-using-winston-3925007c9659?source=collection_archive---------1-----------------------#2019-11-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/bf1bdf71dd2e09c6960e5e718b549979.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0MOGVmOgWmfVdPG0g6arYA.png"/></div></div></figure><p id="43d5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">本文将带您为Node.js应用程序创建一个定制的日志记录器。</p><p id="6b08" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当我在做我的一个个人项目时，我有一个关于在生产环境中如何跟踪应用程序的错误和事件流的问题。当我研究这个的时候，我遇到了单词<strong class="ka ir"> logs </strong>，下面是一个简单的定义。</p><blockquote class="kw kx ky"><p id="ef80" class="jy jz kz ka b kb kc kd ke kf kg kh ki la kk kl km lb ko kp kq lc ks kt ku kv ij bi translated"><strong class="ka ir">日志文件</strong>是存储与应用程序处理过程中发生的事件相关的记录的文件。日志文件中的单个记录被称为<strong class="ka ir">日志</strong>。</p></blockquote><p id="cb73" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在对什么是日志有了基本的概念之后，我又想出了三个问题，这促使我写了这篇博客。以下是我给他们找到的问题和答案。</p><p id="bb32" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们什么时候使用日志？ <br/>根据应用程序及其用途，开发人员可以采用多种方法进行日志记录。以下是最常见的方法</p><ol class=""><li id="5d3c" class="ld le iq ka b kb kc kf kg kj lf kn lg kr lh kv li lj lk ll bi translated">仅在出现错误或意外行为时记录日志</li><li id="d2e0" class="ld le iq ka b kb lm kf ln kj lo kn lp kr lq kv li lj lk ll bi translated">仅在调试模式下记录日志</li><li id="9513" class="ld le iq ka b kb lm kf ln kj lo kn lp kr lq kv li lj lk ll bi translated">事件发生时记录日志</li></ol><p id="1753" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">选择这些方法中的一种或组合或任何其他方法是由开发者做出的决定。在这篇博客中，由于我正在创建一个RESTful API(假设有大量用户在使用它)，我决定使用第三种方法，记录所有发生的重要事件。</p><p id="dfdd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们记录什么？<br/> 这个问题的答案是取决于应用本身。例如，如果我们正在创建一个将被许多用户调用的REST API，那么包含时间、事件和请求的主体或参数将是一个好主意。这可用于区分特定用户的日志。</p><p id="ae11" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果用户遇到错误并联系开发人员来解决问题，开发人员将只需要用户id(假设用户id是在请求正文中发送的)和/或发出请求的时间，就可以跟踪出了什么问题。</p><p id="cbdc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在下面的实现中，我使用了下面的日志格式:</p><figure class="ls lt lu lv gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lr"><img src="../Images/2860c0095d06c1e83f40f6051d68c602.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*laagHUTDaGsGR2GWsDbLYQ.png"/></div></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">main.log文件中的日志摘录(图2)</figcaption></figure><p id="420b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">1- UTC日期和时间<br/> 2-日志的类型(例如:信息、调试、错误)<br/> 3-日志所属的文件<br/> 4-发生的事件<br/> 5-事件的附加数据<br/> 6。日志数据(用于区分或分组针对特定请求发生的事件的数据)</p><p id="4829" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如何为一个节点应用程序实现一个日志记录器？<br/> 有许多npm模块用于日志记录。其中，三个被广泛使用:摩根，班扬和温斯顿。在这些npm模块中，我决定使用Winston，因为它更容易构建如图<strong class="ka ir"> <em class="kz">图2 </em> </strong>所示的自定义日志。</p><p id="74f4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">按照下面的说明为您的节点应用程序实现一个自定义记录器。如果已经创建了节点项目，可以跳过第一条指令。</p><p id="244b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你想从我的Git库<a class="ae ma" href="https://github.com/amjadnzr/Custom-Logger" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir">下载下面部分的代码，点击这里</strong> </a></p><blockquote class="kw kx ky"><p id="efad" class="jy jz kz ka b kb kc kd ke kf kg kh ki la kk kl km lb ko kp kq lc ks kt ku kv ij bi translated"><strong class="ka ir">注意:本文假设您已经安装了Node、VS代码，并为npm配置了一个路径。</strong></p></blockquote><h2 id="426b" class="mb mc iq bd md me mf dn mg mh mi dp mj kj mk ml mm kn mn mo mp kr mq mr ms mt bi translated"><strong class="ak"> 1。创建一个节点项目</strong></h2><p id="ad1a" class="pw-post-body-paragraph jy jz iq ka b kb mu kd ke kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv ij bi translated">创建一个新文件夹(我将其命名为<code class="fe mz na nb nc b">App</code>)。在VS代码中打开文件夹，然后在终端中键入下面的命令。</p><pre class="ls lt lu lv gt nd nc ne nf aw ng bi"><span id="98c8" class="mb mc iq nc b gy nh ni l nj nk">npm init</span></pre><p id="9e67" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">填写要求的详细信息，或按Enter <strong class="ka ir">跳过。</strong>当你完成这个过程后，一个名为<strong class="ka ir"> package.json </strong>的JSON文件会出现在你的文件夹中。</p><h2 id="c19d" class="mb mc iq bd md me mf dn mg mh mi dp mj kj mk ml mm kn mn mo mp kr mq mr ms mt bi translated">2.<strong class="ak">安装所需模块</strong></h2><p id="4632" class="pw-post-body-paragraph jy jz iq ka b kb mu kd ke kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv ij bi translated">因为我们使用Winston作为npm模块来构建定制日志记录器，所以我们必须安装该模块。为此，请在终端中键入以下命令</p><pre class="ls lt lu lv gt nd nc ne nf aw ng bi"><span id="4fd3" class="mb mc iq nc b gy nh ni l nj nk">npm i winston</span></pre><p id="abbe" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">此外，我们将使用express来构建API端点和主体解析器中间件，以访问发送到端点的请求主体。键入下面的命令来安装express和body-parser。</p><pre class="ls lt lu lv gt nd nc ne nf aw ng bi"><span id="ccbc" class="mb mc iq nc b gy nh ni l nj nk">npm i express body-parser</span></pre><h2 id="5164" class="mb mc iq bd md me mf dn mg mh mi dp mj kj mk ml mm kn mn mo mp kr mq mr ms mt bi translated">3.<strong class="ak">创建自定义记录器类</strong></h2><p id="34c7" class="pw-post-body-paragraph jy jz iq ka b kb mu kd ke kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv ij bi translated">创建一个名为<code class="fe mz na nb nc b">services</code>的文件夹，在服务文件夹中创建一个名为<code class="fe mz na nb nc b">logger_service.js</code>的文件，复制粘贴下面的代码。</p><pre class="ls lt lu lv gt nd nc ne nf aw ng bi"><span id="b5ee" class="mb mc iq nc b gy nh ni l nj nk">const winston = require('winston')</span><span id="a44f" class="mb mc iq nc b gy nl ni l nj nk">dateFormat = () =&gt; {</span><span id="c71d" class="mb mc iq nc b gy nl ni l nj nk">  return new Date(Date.now()).toUTCString()</span><span id="5b28" class="mb mc iq nc b gy nl ni l nj nk">}</span><span id="915e" class="mb mc iq nc b gy nl ni l nj nk">class LoggerService {</span><span id="cc8a" class="mb mc iq nc b gy nl ni l nj nk">  constructor(route) {</span><span id="487e" class="mb mc iq nc b gy nl ni l nj nk">    this.log_data = null</span><span id="3416" class="mb mc iq nc b gy nl ni l nj nk">    this.route = route</span><span id="5c5c" class="mb mc iq nc b gy nl ni l nj nk">    const logger = winston.createLogger({</span><span id="e48b" class="mb mc iq nc b gy nl ni l nj nk">      transports: [</span><span id="f1af" class="mb mc iq nc b gy nl ni l nj nk">        new winston.transports.Console(),</span><span id="d8cb" class="mb mc iq nc b gy nl ni l nj nk">        new winston.transports.File({</span><span id="79aa" class="mb mc iq nc b gy nl ni l nj nk">          filename: `./logs/${route}.log`</span><span id="9ce8" class="mb mc iq nc b gy nl ni l nj nk">        })</span><span id="756f" class="mb mc iq nc b gy nl ni l nj nk">      ],</span><span id="0c46" class="mb mc iq nc b gy nl ni l nj nk">      format: winston.format.printf((info) =&gt; {</span><span id="9910" class="mb mc iq nc b gy nl ni l nj nk">        let message = `${dateFormat()} | ${info.level.toUpperCase()} | ${route}.log | ${info.message} | `</span><span id="5d45" class="mb mc iq nc b gy nl ni l nj nk">        message = info.obj ? message + `data:${JSON.stringify(info.obj)} | ` : message</span><span id="b77a" class="mb mc iq nc b gy nl ni l nj nk">        message = this.log_data ? message + `log_data:${JSON.stringify(this.log_data)} | ` : message</span><span id="fd9f" class="mb mc iq nc b gy nl ni l nj nk">        return message</span><span id="187d" class="mb mc iq nc b gy nl ni l nj nk">      })</span><span id="4c63" class="mb mc iq nc b gy nl ni l nj nk">   });</span><span id="ed54" class="mb mc iq nc b gy nl ni l nj nk">   this.logger = logger</span><span id="d46e" class="mb mc iq nc b gy nl ni l nj nk">}</span><span id="e99a" class="mb mc iq nc b gy nl ni l nj nk">setLogData(log_data) {</span><span id="ed14" class="mb mc iq nc b gy nl ni l nj nk">  this.log_data = log_data</span><span id="e4ea" class="mb mc iq nc b gy nl ni l nj nk">}</span><span id="547b" class="mb mc iq nc b gy nl ni l nj nk">async info(message) {</span><span id="fbe8" class="mb mc iq nc b gy nl ni l nj nk">  this.logger.log('info', message);</span><span id="c718" class="mb mc iq nc b gy nl ni l nj nk">}</span><span id="0b6f" class="mb mc iq nc b gy nl ni l nj nk">async info(message, obj) {</span><span id="c2de" class="mb mc iq nc b gy nl ni l nj nk">  this.logger.log('info', message, {</span><span id="f8be" class="mb mc iq nc b gy nl ni l nj nk">    obj</span><span id="5de9" class="mb mc iq nc b gy nl ni l nj nk">  })</span><span id="2a79" class="mb mc iq nc b gy nl ni l nj nk">}</span><span id="cb57" class="mb mc iq nc b gy nl ni l nj nk">async debug(message) {</span><span id="ad60" class="mb mc iq nc b gy nl ni l nj nk">  this.logger.log('debug', message);</span><span id="813d" class="mb mc iq nc b gy nl ni l nj nk">}</span><span id="d761" class="mb mc iq nc b gy nl ni l nj nk">async debug(message, obj) {</span><span id="9725" class="mb mc iq nc b gy nl ni l nj nk">  this.logger.log('debug', message, {</span><span id="cb35" class="mb mc iq nc b gy nl ni l nj nk">    obj</span><span id="3ed1" class="mb mc iq nc b gy nl ni l nj nk">  })</span><span id="cc68" class="mb mc iq nc b gy nl ni l nj nk">}</span><span id="9d28" class="mb mc iq nc b gy nl ni l nj nk">async error(message) {</span><span id="b0f1" class="mb mc iq nc b gy nl ni l nj nk">  this.logger.log('error', message);</span><span id="31dc" class="mb mc iq nc b gy nl ni l nj nk">}</span><span id="8471" class="mb mc iq nc b gy nl ni l nj nk">async error(message, obj) {</span><span id="74cc" class="mb mc iq nc b gy nl ni l nj nk">  this.logger.log('error', message, {</span><span id="0d92" class="mb mc iq nc b gy nl ni l nj nk">    obj</span><span id="d1d3" class="mb mc iq nc b gy nl ni l nj nk">  })</span><span id="7325" class="mb mc iq nc b gy nl ni l nj nk">}</span><span id="a854" class="mb mc iq nc b gy nl ni l nj nk">}</span><span id="326e" class="mb mc iq nc b gy nl ni l nj nk">module.exports = LoggerService</span></pre><p id="dafd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您希望更改日志消息，您可以简单地编辑<code class="fe mz na nb nc b">winston.createLogger()</code>方法中对象的格式属性的返回语句。如果你想完全改变日志的格式，你可以参考<a class="ae ma" href="https://www.npmjs.com/package/winston" rel="noopener ugc nofollow" target="_blank">温斯顿文档</a>。</p><h2 id="dbb9" class="mb mc iq bd md me mf dn mg mh mi dp mj kj mk ml mm kn mn mo mp kr mq mr ms mt bi translated">4.<strong class="ak">创建/测试POST API端点以测试记录器</strong></h2><p id="59de" class="pw-post-body-paragraph jy jz iq ka b kb mu kd ke kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv ij bi translated">在主文件夹中创建一个名为app.js的文件，并复制粘贴以下代码</p><pre class="ls lt lu lv gt nd nc ne nf aw ng bi"><span id="e245" class="mb mc iq nc b gy nh ni l nj nk">const express = require('express')</span><span id="e330" class="mb mc iq nc b gy nl ni l nj nk">const app = express()</span><span id="455f" class="mb mc iq nc b gy nl ni l nj nk">const Logger = require('./services/logger_service')</span><span id="14e9" class="mb mc iq nc b gy nl ni l nj nk">const bodyParser = require('body-parser')</span><span id="8546" class="mb mc iq nc b gy nl ni l nj nk">const logger = new Logger('app')</span><span id="e02f" class="mb mc iq nc b gy nl ni l nj nk">app.use(bodyParser.urlencoded({</span><span id="7add" class="mb mc iq nc b gy nl ni l nj nk">  extended: false</span><span id="b9ca" class="mb mc iq nc b gy nl ni l nj nk">}))</span><span id="31a9" class="mb mc iq nc b gy nl ni l nj nk">app.use(bodyParser.json())</span><span id="933d" class="mb mc iq nc b gy nl ni l nj nk">app.post('/test', (req, res) =&gt; {</span><span id="d004" class="mb mc iq nc b gy nl ni l nj nk">  const body = req.body</span><span id="f155" class="mb mc iq nc b gy nl ni l nj nk">  let error = {}</span><span id="f11d" class="mb mc iq nc b gy nl ni l nj nk">  // Adding body of the request as log data</span><span id="9293" class="mb mc iq nc b gy nl ni l nj nk">  logger.setLogData(body)</span><span id="214a" class="mb mc iq nc b gy nl ni l nj nk">  logger.info("Request recieved at /test", req.body)</span><span id="8023" class="mb mc iq nc b gy nl ni l nj nk">  // We are expecting name,age and gender in the body of the request</span><span id="a1ed" class="mb mc iq nc b gy nl ni l nj nk">  if (body.name == null || body.name == "") {</span><span id="4dac" class="mb mc iq nc b gy nl ni l nj nk">    logger.error("Name field is empty")</span><span id="fe11" class="mb mc iq nc b gy nl ni l nj nk">    error["name"] = "name field is empty"</span><span id="da33" class="mb mc iq nc b gy nl ni l nj nk">  }</span><span id="fd5f" class="mb mc iq nc b gy nl ni l nj nk">  if (body.age == null || body.age == "") {</span><span id="b0d4" class="mb mc iq nc b gy nl ni l nj nk">    logger.error("Age field is empty")</span><span id="ea8e" class="mb mc iq nc b gy nl ni l nj nk">    error["age"] = "age field is empty"</span><span id="3538" class="mb mc iq nc b gy nl ni l nj nk">  }</span><span id="a652" class="mb mc iq nc b gy nl ni l nj nk">  if (body.gender == null || body.gender == "") {</span><span id="b814" class="mb mc iq nc b gy nl ni l nj nk">    logger.error("Gender field is empty")</span><span id="e102" class="mb mc iq nc b gy nl ni l nj nk">    error["gender"] = "gender field is empty"</span><span id="c3e8" class="mb mc iq nc b gy nl ni l nj nk">  }</span><span id="bb1f" class="mb mc iq nc b gy nl ni l nj nk">  if (Object.keys(error).length != 0) { </span><span id="9407" class="mb mc iq nc b gy nl ni l nj nk">    logger.error("Retun error response", {</span><span id="cca0" class="mb mc iq nc b gy nl ni l nj nk">    "sucess":false</span><span id="9061" class="mb mc iq nc b gy nl ni l nj nk">  })</span><span id="562b" class="mb mc iq nc b gy nl ni l nj nk">  res.send("Error")</span><span id="f8f5" class="mb mc iq nc b gy nl ni l nj nk">}else{</span><span id="0c25" class="mb mc iq nc b gy nl ni l nj nk">  logger.info("Retun sucess response", {</span><span id="486b" class="mb mc iq nc b gy nl ni l nj nk">    "sucess": true</span><span id="286c" class="mb mc iq nc b gy nl ni l nj nk">  })</span><span id="d216" class="mb mc iq nc b gy nl ni l nj nk">  res.send("No Error")</span><span id="cd03" class="mb mc iq nc b gy nl ni l nj nk">}</span><span id="08ac" class="mb mc iq nc b gy nl ni l nj nk">})</span><span id="0ceb" class="mb mc iq nc b gy nl ni l nj nk">app.listen(4000, () =&gt; {</span><span id="7a96" class="mb mc iq nc b gy nl ni l nj nk">  logger.info("APP LAUNCHED IN PORT 4000")</span><span id="cb30" class="mb mc iq nc b gy nl ni l nj nk">})</span></pre><p id="f58b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">上面的代码部分是一个基本的验证端点，它接受下面的JSON并检查是否有任何值为空或null，并根据它返回“Error”或“No Error”。</p><pre class="ls lt lu lv gt nd nc ne nf aw ng bi"><span id="07b2" class="mb mc iq nc b gy nh ni l nj nk">{<br/>  “gender”:”Male”,<br/>  “age”: 10,<br/>  “name”:”Andy”<br/>}</span></pre><h2 id="0d67" class="mb mc iq bd md me mf dn mg mh mi dp mj kj mk ml mm kn mn mo mp kr mq mr ms mt bi translated">5.<strong class="ak">运行节点应用程序并测试创建的/test端点</strong></h2><p id="1a22" class="pw-post-body-paragraph jy jz iq ka b kb mu kd ke kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv ij bi translated">在您的终端中键入以下命令</p><pre class="ls lt lu lv gt nd nc ne nf aw ng bi"><span id="f881" class="mb mc iq nc b gy nh ni l nj nk">node app</span></pre><p id="53f9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当服务器启动时，您将在终端中看到一个日志，并且您还应该在<strong class="ka ir"> logs </strong>文件夹中看到一个文件<code class="fe mz na nb nc b">app.log</code>(终端中的日志存储在app.log文件中)。</p><figure class="ls lt lu lv gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nm"><img src="../Images/ec6a4029c1f445341c36860e1e0a1ee8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1cGNaVnKSGhi4W7Y8Pb3Gg.png"/></div></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">vs代码终端和文件夹结构(图3)</figcaption></figure><p id="1877" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，您必须使用测试工具来测试端点(我已经使用了Postman)。在你的请求正文中使用下面的JSON。name属性保持为空，以获得错误响应，并尝试通过日志来解决问题。</p><pre class="ls lt lu lv gt nd nc ne nf aw ng bi"><span id="d9ff" class="mb mc iq nc b gy nh ni l nj nk">{<br/>  “gender”:”Male”,<br/>  “age”: 10,<br/>  “name”:””<br/>}</span></pre><p id="6592" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">根据下图设置邮递员请求。</p><figure class="ls lt lu lv gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nn"><img src="../Images/eae92d02463ada57a863de205d8c4952.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N-t5lEq3kPGXLFk4x2PP2A.png"/></div></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">邮递员中的请求部分(图4)</figcaption></figure><p id="83ac" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如<strong class="ka ir"> <em class="kz">图4 </em> </strong>所示设置后，发送请求，检查响应是否包含错误信息。</p><p id="41a7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，您必须跟踪日志文件来找到确切的错误。</p><figure class="ls lt lu lv gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi no"><img src="../Images/2276d3fe30dd55ef68bd64fc03db3bd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IGt4diZ0RZ67zxxwPE7hSg.png"/></div></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">app.log文件的摘录(图5)</figcaption></figure><p id="2fab" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您遵循了上面给出的所有说明，您将会看到类似于图5中的<strong class="ka ir"> <em class="kz">的输出。</em> </strong>图5  中的第三条日志是错误日志。因此，我们设法通过日志找出错误。</p><p id="9f1b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在Postman中更改请求体JSON的值，并测试是否记录了预期的日志。</p><p id="3531" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">就这样<br/>干杯！！！</p></div></div>    
</body>
</html>