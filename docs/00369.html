<html>
<head>
<title>Vuex is super simple! — Vue.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vuex超级简单！— Vue.js</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/vuex-is-super-simple-vue-js-d8da2e552766?source=collection_archive---------2-----------------------#2019-01-27">https://levelup.gitconnected.com/vuex-is-super-simple-vue-js-d8da2e552766?source=collection_archive---------2-----------------------#2019-01-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/db7f85ae1f387d6174a8a301bd65334b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EM2oYsb4-NzwJ0YqszVaig.png"/></div></div></figure><div class=""/><div class=""><h2 id="06f5" class="pw-subtitle-paragraph jy ja jb bd b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp dk translated">Vuex概述，Vue.js的状态管理库</h2></div><p id="3390" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">今天的文章旨在教你Vuex的概念和实现。在我们开始之前，我们应该定义一下术语Vuex。Vuex的官方文档将其定义为:Vuex是Vue.js应用的<strong class="ks jc">状态管理模式+库</strong>。这意味着，首先我们应该熟悉状态管理模式以及Vuex如何使用它。</p><p id="c59a" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">我将介绍:</p><ul class=""><li id="89ac" class="ln lo jb ks b kt ku kw kx kz lp ld lq lh lr ll ls lt lu lv bi translated">状态管理模式</li><li id="16a5" class="ln lo jb ks b kt lw kw lx kz ly ld lz lh ma ll ls lt lu lv bi translated">状态</li><li id="3327" class="ln lo jb ks b kt lw kw lx kz ly ld lz lh ma ll ls lt lu lv bi translated">吸气剂</li><li id="b60a" class="ln lo jb ks b kt lw kw lx kz ly ld lz lh ma ll ls lt lu lv bi translated">突变</li><li id="1a4b" class="ln lo jb ks b kt lw kw lx kz ly ld lz lh ma ll ls lt lu lv bi translated">行动</li></ul></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><h1 id="d944" class="mi mj jb bd mk ml mm mn mo mp mq mr ms kh mt ki mu kk mv kl mw kn mx ko my mz bi translated">1.流量</h1><p id="6ef8" class="pw-post-body-paragraph kq kr jb ks b kt na kc kv kw nb kf ky kz nc lb lc ld nd lf lg lh ne lj lk ll ij bi translated">Flux是由脸书开发的一种可伸缩的数据处理模式(不是一个库)，这个概念很快在前端框架中被采用。那么，Flux解决的是什么问题呢？众所周知的问题之一是脸书的通知错误。当用户登录脸书时，他/她会在消息图标上看到通知。但是，当用户点击它时，将不会有任何消息，通知也消失了。过了一会儿，它又回来了，出现了同样的故事——用户点击了消息图标，但没有新消息。</p><p id="90a5" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">脸书开发团队修复了这个bug几次，在一段时间内运行良好，但最终它会再次出现。最后，他们决定解决问题并修复一次错误，并开发了一种数据管理模式Flux。</p><p id="0a71" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">Flux有4个主要组件(动作、调度器、存储、视图)和2个原则(单一真实来源、只读数据)。</p><figure class="ng nh ni nj gt is gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/3023724cb199862ec513a7883b647046.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*n8VVqwYIb2JL1Tk4iB3N4Q.png"/></div><figcaption class="nk nl gj gh gi nm nn bd b be z dk translated">单向数据流</figcaption></figure><p id="b23b" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">我将在Vuex部分详细介绍它们各自的功能。解释原则:</p><blockquote class="no np nq"><p id="c0fc" class="kq kr lm ks b kt ku kc kv kw kx kf ky nr la lb lc ns le lf lg nt li lj lk ll ij bi translated"><strong class="ks jc"> 1。真相的单一来源</strong></p><p id="9d9d" class="kq kr lm ks b kt ku kc kv kw kx kf ky nr la lb lc ns le lf lg nt li lj lk ll ij bi translated">基本上，每个Vue应用程序应该有两种类型的数据:本地和全局数据。</p><p id="671f" class="kq kr lm ks b kt ku kc kv kw kx kf ky nr la lb lc ns le lf lg nt li lj lk ll ij bi translated">本地数据:每个组件都有自己的本地数据，这些数据可以在该组件中访问，并可以通过发出事件和道具传递给其他组件。</p><p id="8235" class="kq kr lm ks b kt ku kc kv kw kx kf ky nr la lb lc ns le lf lg nt li lj lk ll ij bi translated">全局数据:应用程序的全局数据应该可以通过所有组件访问，并且应该保存在一个单独的地方，与组件分开。这个单一的地方就是商店，这个概念被称为SSOT(真理的单一来源)。</p><p id="61b8" class="kq kr lm ks b kt ku kc kv kw kx kf ky nr la lb lc ns le lf lg nt li lj lk ll ij bi translated"><strong class="ks jc"> 2。只读数据</strong></p><p id="aca2" class="kq kr lm ks b kt ku kc kv kw kx kf ky nr la lb lc ns le lf lg nt li lj lk ll ij bi translated">每个组件都能够从存储中读取全局应用程序数据，但不能对其进行更改。如果任何组件打算改变存储中的数据，它们应该通过<strong class="ks jc">突变和动作来完成。这是因为我们不希望任何组件有意或无意地改变我们的全局状态。</strong></p></blockquote></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><h1 id="bdd3" class="mi mj jb bd mk ml mm mn mo mp mq mr ms kh mt ki mu kk mv kl mw kn mx ko my mz bi translated">2.Vuex</h1><p id="8ea6" class="pw-post-body-paragraph kq kr jb ks b kt na kc kv kw nb kf ky kz nc lb lc ld nd lf lg lh ne lj lk ll ij bi translated">回到Vuex。正如我上面提到的，Flux不是库，它是一种架构，Vuex是实现这种模式并使用其原理的库。要使用Vuex，我们可以通过CDN链接或作为npm包将其连接到我们的应用程序。</p><p id="829e" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated"><strong class="ks jc"> CDN链接:</strong></p><pre class="ng nh ni nj gt nu nv nw nx aw ny bi"><span id="bc49" class="nz mj jb nv b gy oa ob l oc od"><strong class="nv jc">//It requires ES6 Promises</strong><br/>&lt;script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.js"&gt;&lt;/script&gt;</span><span id="d5dd" class="nz mj jb nv b gy oe ob l oc od">&lt;script src="<a class="ae of" href="https://unpkg.com/vuex@3.1.0/dist/vuex.js" rel="noopener ugc nofollow" target="_blank">https://unpkg.com/vuex@3.1.0/dist/vuex.js</a>"&gt;&lt;/script&gt;</span></pre><p id="a9d6" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated"><strong class="ks jc"> NPM套餐:</strong></p><pre class="ng nh ni nj gt nu nv nw nx aw ny bi"><span id="55ff" class="nz mj jb nv b gy oa ob l oc od">//Run this commands to install<br/>npm install vuex --save</span><span id="c95b" class="nz mj jb nv b gy oe ob l oc od">//Use it like<br/>import Vue from 'vue'<br/>import Vuex from 'vuex'<br/><br/>Vue.use(Vuex)</span></pre></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><p id="3ca7" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">Vuex有4个主要概念，在Flux部分提到过:<strong class="ks jc">状态、Getters、突变和动作。</strong></p><figure class="ng nh ni nj gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi og"><img src="../Images/23218b7a5cd2a8b0d343afbc2863f4fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xkhqmTQCDz4l0zSjJDHTAg.png"/></div></div></figure></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><p id="fae2" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">商店的基本设置:</p><pre class="ng nh ni nj gt nu nv nw nx aw ny bi"><span id="fe06" class="nz mj jb nv b gy oa ob l oc od">const store = new Vuex.Store({<br/>  state: {     <br/>    myVariable: 0   <br/>  },<br/>  getters: {<br/>   someFilter: state =&gt; {<br/>    return state.myVariable[0]<br/>   }<br/>  },<br/>  <!-- -->mutations: {<br/>     addToArray(state, value) {<br/>       state.<!-- -->myVariable<!-- -->.push(value)<br/>     }<br/>  },<br/>  actions: {<br/>     addToArray(context) {<br/>      context.commit('addToArray');<br/>     }<br/>  }<br/>});</span></pre><p id="44d0" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated"><strong class="ks jc"> <em class="lm">我们来看看细节！</em>T3】</strong></p></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><h1 id="6c28" class="mi mj jb bd mk ml mm mn mo mp mq mr ms kh mt ki mu kk mv kl mw kn mx ko my mz bi translated"><strong class="ak"> 3。状态</strong></h1><p id="80a8" class="pw-post-body-paragraph kq kr jb ks b kt na kc kv kw nb kf ky kz nc lb lc ld nd lf lg lh ne lj lk ll ij bi translated">状态与Vue实例数据属性相同，但数据属性是本地的，这意味着只能在该范围内访问。状态是我们应用程序的真理的单一来源。我们在那里定义和存储我们的应用程序数据。Vuex的状态也是反应性的，这意味着每当我们更新其中的任何数据时，所有使用该数据的组件都会相应地重新呈现。</p><pre class="ng nh ni nj gt nu nv nw nx aw ny bi"><span id="8aba" class="nz mj jb nv b gy oa ob l oc od"><strong class="nv jc"><em class="lm">state: {     <br/>  myVariable: []   <br/>}</em></strong></span></pre></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><h1 id="e098" class="mi mj jb bd mk ml mm mn mo mp mq mr ms kh mt ki mu kk mv kl mw kn mx ko my mz bi translated">4.吸气剂</h1><p id="2baf" class="pw-post-body-paragraph kq kr jb ks b kt na kc kv kw nb kf ky kz nc lb lc ld nd lf lg lh ne lj lk ll ij bi translated">Getters很像Vue实例中的计算属性。我们获取状态数据，进行一些过滤，然后在Getter方法中返回。</p><pre class="ng nh ni nj gt nu nv nw nx aw ny bi"><span id="31fe" class="nz mj jb nv b gy oa ob l oc od"><strong class="nv jc"><em class="lm">getters: {<br/>  someFilter: state =&gt; {<br/>    return state.myVariable[0]<br/>  }<br/>}</em></strong></span></pre></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><h1 id="fec6" class="mi mj jb bd mk ml mm mn mo mp mq mr ms kh mt ki mu kk mv kl mw kn mx ko my mz bi translated">5.突变</h1><p id="f545" class="pw-post-body-paragraph kq kr jb ks b kt na kc kv kw nb kf ky kz nc lb lc ld nd lf lg lh ne lj lk ll ij bi translated">突变只是改变我们状态数据的一个途径。我们通过提交一个突变来实施我们的改变，每个突变都有一个名字和一个处理程序。</p><blockquote class="no np nq"><p id="b5be" class="kq kr lm ks b kt ku kc kv kw kx kf ky nr la lb lc ns le lf lg nt li lj lk ll ij bi translated"><strong class="ks jc">突变是同步的</strong></p></blockquote><pre class="ng nh ni nj gt nu nv nw nx aw ny bi"><span id="36c8" class="nz mj jb nv b gy oa ob l oc od"><strong class="nv jc"><em class="lm">mutations: {<br/>   addToArray(state, value) {<br/>     state.</em></strong><strong class="nv jc"><em class="lm">myVariable</em></strong><strong class="nv jc"><em class="lm">.push(value)<br/>   }<br/>}</em></strong></span><span id="3c35" class="nz mj jb nv b gy oe ob l oc od"><strong class="nv jc">//To commit</strong><br/>store.commit('<strong class="nv jc"><em class="lm">addToArray</em></strong>', 'Hey! I am added!');</span></pre></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><h1 id="cdc5" class="mi mj jb bd mk ml mm mn mo mp mq mr ms kh mt ki mu kk mv kl mw kn mx ko my mz bi translated"><strong class="ak"> 6。行动</strong></h1><p id="0ca7" class="pw-post-body-paragraph kq kr jb ks b kt na kc kv kw nb kf ky kz nc lb lc ld nd lf lg lh ne lj lk ll ij bi translated">动作与突变非常相似，但也有一些不同。它们是提交突变的函数。</p><pre class="ng nh ni nj gt nu nv nw nx aw ny bi"><span id="d838" class="nz mj jb nv b gy oa ob l oc od"><strong class="nv jc">actions<em class="lm">: {<br/>   addToArray(context) {<br/>    </em>context.commit('<em class="lm">addToArray</em>');<em class="lm"><br/>   }<br/>}</em></strong></span><span id="aedc" class="nz mj jb nv b gy oe ob l oc od"><strong class="nv jc">//Dispatching action</strong><br/>store.dispatch('<strong class="nv jc"><em class="lm">addToArray</em></strong>')</span></pre><blockquote class="no np nq"><p id="e807" class="kq kr lm ks b kt ku kc kv kw kx kf ky nr la lb lc ns le lf lg nt li lj lk ll ij bi translated">动作被分派，突变被提交。</p></blockquote><p id="bb6e" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">问题是，为什么我们在做同样的事情时，既有动作又有突变？动作和突变之间有两个主要区别。</p><ol class=""><li id="c2bd" class="ln lo jb ks b kt ku kw kx kz lp ld lq lh lr ll oh lt lu lv bi translated"><em class="lm">突变是</em> <strong class="ks jc"> <em class="lm">同步，</em> </strong> <em class="lm">但动作是</em> <strong class="ks jc"> <em class="lm">异步。</em> </strong></li></ol><pre class="ng nh ni nj gt nu nv nw nx aw ny bi"><span id="5530" class="nz mj jb nv b gy oa ob l oc od">That means we cannot request any data with axios or fetch API in mutations because mutations are synchronous. Instead we should request any data in actions along committing mutations.</span></pre><p id="9d7c" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">2.动作更<strong class="ks jc">复杂</strong>，但突变<strong class="ks jc">简单</strong>。</p><pre class="ng nh ni nj gt nu nv nw nx aw ny bi"><span id="95f1" class="nz mj jb nv b gy oa ob l oc od">Actions handle application functionality and logic by committing more than a mutation, requesting data etc. while mutations are individual changes that aims to do one and certain thing.</span></pre><p id="1b57" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">这就是今天的文章。希望是熟悉Vuex的一个好的开始。</p><p id="b46a" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">更多:<strong class="ks jc">鼓掌分享</strong>:)</p><h2 id="3d1b" class="nz mj jb bd mk oi oj dn mo ok ol dp ms kz om on mu ld oo op mw lh oq or my os bi translated">如有任何疑问:contact@ilkin-guluzada.com</h2></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><figure class="ng nh ni nj gt is gh gi paragraph-image"><a href="https://levelup.gitconnected.com"><div class="gh gi ot"><img src="../Images/9914c5dd23ac08b70eea6f4f9ba6fed2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E6CoI_MRyZ1JInNPsBSHtA.png"/></div></a></figure><div class="ip iq gp gr ir ou"><a href="https://gitconnected.com/learn/vue-js" rel="noopener  ugc nofollow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd jc gy z fp oz fr fs pa fu fw ja bi translated">学习Vue.js -最佳Vue.js教程(2019) | gitconnected</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">27大Vue.js教程-免费学习Vue.js。课程由开发人员提交并投票，使您能够…</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">gitconnected.com</p></div></div><div class="pd l"><div class="pe l pf pg ph pd pi ix ou"/></div></div></a></div></div></div>    
</body>
</html>