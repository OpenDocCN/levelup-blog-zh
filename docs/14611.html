<html>
<head>
<title>Python Automated WhatsApp Message Sender 2.0</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python自动化WhatsApp消息发送器2.0</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/python-automated-whatsapp-message-sender-2-0-d146704e7f2f?source=collection_archive---------5-----------------------#2022-12-12">https://levelup.gitconnected.com/python-automated-whatsapp-message-sender-2-0-d146704e7f2f?source=collection_archive---------5-----------------------#2022-12-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1e42" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">让我们的自动化WhatsApp sender更上一层楼，并了解如何添加图形用户界面(GUI)以便更方便地使用。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/172ae433e89e47486738f40fb55e8643.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qZsXUuivbvvgs5eIVyXeGQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</figcaption></figure></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="3217" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">一周前，我发表了一篇关于如何“建立一个自动WhatsApp发送器，在白天代表你发送随机消息”的<a class="ae ly" rel="noopener ugc nofollow" target="_blank" href="/python-automated-whatsapp-message-sender-db488c8c6bc7">故事</a>，几天后，它获得了超过20，000次浏览。多个平台(Medium、LinkedIn等)上的很多人问我很多关于我们如何让它更容易使用的问题。因此，使其更加适用的第一步是将用户界面转换成更加直观的GUI。</p><p id="90aa" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">在这个故事中，我们不会讨论WhatsApp自动消息发送器(WAMS)的基础知识，所以你可以回到上一个故事，从这里开始深入了解它的基础知识:</p><div class="lz ma gp gr mb mc"><a rel="noopener  ugc nofollow" target="_blank" href="/python-automated-whatsapp-message-sender-db488c8c6bc7"><div class="md ab fo"><div class="me ab mf cl cj mg"><h2 class="bd ir gy z fp mh fr fs mi fu fw ip bi translated">Python自动WhatsApp消息发送器</h2><div class="mj l"><h3 class="bd b gy z fp mh fr fs mi fu fw dk translated">了解如何构建一个自动化的WhatsApp发送器，在白天代表你发送随机消息。</h3></div><div class="mk l"><p class="bd b dl z fp mh fr fs mi fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="ml l"><div class="mm l mn mo mp ml mq kp mc"/></div></div></a></div><h2 id="f71d" class="mr ms iq bd mt mu mv dn mw mx my dp mz ll na nb nc lp nd ne nf lt ng nh ni nj bi translated">我们开始吧</h2><p id="fd98" class="pw-post-body-paragraph lc ld iq le b lf nk jr lh li nl ju lk ll nm ln lo lp nn lr ls lt no lv lw lx ij bi translated">和往常一样，我们将从导入将要使用的库开始。在这种情况下，我们只需要一个库— <a class="ae ly" href="https://docs.python.org/3/library/tkinter.html" rel="noopener ugc nofollow" target="_blank"> tkinter </a>，它是Python的标准GUI库。当与tkinter结合使用时，Python提供了一种快速简单的方法来创建GUI应用程序。此外，Tkinter为Tk GUI工具包提供了一个强大的面向对象的接口。我们可以对这个库进行大量的修改，我们将使用其中的一些。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="812e" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">导入之后，我们首先需要创建GUI应用程序的主窗口，我们将用<code class="fe nr ns nt nu b">.Tk()</code>方法来完成。由于窗口的默认标题是‘tk’，我们将使用<code class="fe nr ns nt nu b">.title</code>方法来设置我们想要的标题。标题方法以一个字符串作为参数，所以我们将称之为“WAMS — WhatsApp自动消息发送器”。最后，我们需要<code class="fe nr ns nt nu b">.mainloop()</code>方法，它只是主窗口中的一个方法，执行我们希望在应用程序中执行的内容。顾名思义，它将永远循环下去，直到用户退出窗口或等待来自用户的任何事件。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/9cb0ec08baf4ceed50f3520b65ddf436.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*NurtQYlnQuN4RMcatGazRw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">我们的GUI。显然，它现在是空的。(图片由作者提供)</figcaption></figure><p id="5c9f" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">现在，正如我们在前面的故事中构建WAMS一样，它需要用户的四个输入:</p><ul class=""><li id="fe1a" class="nw nx iq le b lf lg li lj ll ny lp nz lt oa lx ob oc od oe bi translated">phoneNumber:用户想发什么号码的短信？请记住，该号码必须包括国家呼叫代码</li><li id="980c" class="nw nx iq le b lf of li og ll oh lp oi lt oj lx ob oc od oe bi translated">numberOfMessages:应用程序将向该号码发送多少条消息？</li></ul><p id="a94e" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">由于这个脚本在两个小时之间随机发送消息，用户还需要指出他希望在哪两个小时之间发送消息，因此我们需要:</p><ul class=""><li id="f8f3" class="nw nx iq le b lf lg li lj ll ny lp nz lt oa lx ob oc od oe bi translated">开始时间</li><li id="9bb3" class="nw nx iq le b lf of li og ll oh lp oi lt oj lx ob oc od oe bi translated">结束时</li></ul><h2 id="3123" class="mr ms iq bd mt mu mv dn mw mx my dp mz ll na nb nc lp nd ne nf lt ng nh ni nj bi translated">让我们添加小部件</h2><p id="a916" class="pw-post-body-paragraph lc ld iq le b lf nk jr lh li nl ju lk ll nm ln lo lp nn lr ls lt no lv lw lx ij bi translated">tkinter提供了各种控件，比如GUI应用程序中使用的按钮、标签和文本框。这些控件通常被称为小部件。</p><p id="3d45" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">对于我们的前两个输入，我们将使用<code class="fe nr ns nt nu b">.Label</code>小部件来指示我们需要从他那里得到什么数据，使用<code class="fe nr ns nt nu b">.Entry</code>小部件来收集数据。入口小部件是一个文本框，用户可以在其中输入内容，至少需要两个参数。首先，每个小部件都需要我们指出它要放在哪个窗口上(本例中是master ),其次，它带有<code class="fe nr ns nt nu b">text=</code>参数，这个参数显然指的是我们想要呈现的文本标签。</p><p id="ed35" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">接下来，我们将定义两个变量来保存收集到的输入。注意，我们使用<code class="fe nr ns nt nu b">.StringVar</code>方法来保存电话号码，因为它需要是一个字符串。第二个是我们发送的消息数量，需要是一个整数。</p><p id="a132" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">现在，如前所述，我们想使用<code class="fe nr ns nt nu b">.Entry</code>小部件来收集输入。为此，我们再次从声明它将出现在哪个窗口开始，然后声明插入的要分配给耦合变量的文本。</p><p id="09f5" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">注意，对于每个小部件，我们还调用了<code class="fe nr ns nt nu b">.grid()</code>方法。网格几何管理器将小部件放在一个二维表格中。主小部件被分成许多行和列，结果表中的每个“单元”可以容纳一个小部件。在我们的例子中，我们将每个标签及其条目放在同一行中。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="ee10" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">接下来，我们需要要求用户设置小时变量。为此，我们将要求他选择他想要发送消息的时间，并将其放在一行中，但分成三列。开始和结束时间都是整数值，在“从”和“到”下面，我们将放置两个<code class="fe nr ns nt nu b">.OptionMenu</code>，一个下拉菜单的小部件。和往常一样，它首先获取将要放置它的窗口。其次，它接受将要赋值的变量。第三，它接受一个菜单选项列表，最后接受一个命令。该命令是一个函数，它所做的事情也可以取决于我们选择的值。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="132c" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">在这两个<code class="fe nr ns nt nu b">.OptionMenu</code>小部件中，我们构建了一个函数，将值分配给小部件本身，因此用户可以看到他选择的值。为此，我们需要使用<code class="fe nr ns nt nu b">.get()</code>方法来提取存储在tkinter变量中的值。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="62b6" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">在我们跳到最后一个小部件之前，我们需要将我们的<code class="fe nr ns nt nu b">numberOfMessages</code> while循环定义为一个函数，这样它就可以用于最后一个小部件的执行:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="36ed" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">最后，我们将添加一个按钮，用<code class="fe nr ns nt nu b">.Button</code>小部件发送消息。声明窗口后，我们在按钮上设置文本，然后分配一个命令来激活<code class="fe nr ns nt nu b">countMessages</code>功能。因为这个函数有五个参数，我们需要用lambda包装它，如下所示。最后，我们将按钮分配到第4行第5列。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="6fde" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">最终结果:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ok"><img src="../Images/0e1c9e78d7036b15b8385ee75f5cb275.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H-dTGZeOVIDZ016b5dW5bg.png"/></div></div></figure></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h1 id="85c2" class="ol ms iq bd mt om on oo mw op oq or mz jw os jx nc jz ot ka nf kc ou kd ni ov bi translated">真的是这样！</h1><p id="b93c" class="pw-post-body-paragraph lc ld iq le b lf nk jr lh li nl ju lk ll nm ln lo lp nn lr ls lt no lv lw lx ij bi translated">我就讲到这里，你可以在这里找到<a class="ae ly" href="https://github.com/Waeara/Python-Automated-WhatsApp-Message-Sender/blob/main/Whatsapp%20automate%20message%20sender%20with%20GUI.ipynb" rel="noopener ugc nofollow" target="_blank">的完整代码</a>。如前所述，我们可以在GUI中不断修改很多东西。因此，如果你做了任何进一步的修改，请留言告诉我，或者作为git的一个分支来做，如果你有任何想法或问题，请随时留下评论🙂</p><p id="b891" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">感谢阅读！👍</p></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h1 id="70dc" class="ol ms iq bd mt om on oo mw op oq or mz jw os jx nc jz ot ka nf kc ou kd ni ov bi translated">分级编码</h1><p id="58d7" class="pw-post-body-paragraph lc ld iq le b lf nk jr lh li nl ju lk ll nm ln lo lp nn lr ls lt no lv lw lx ij bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="1efb" class="nw nx iq le b lf lg li lj ll ny lp nz lt oa lx ob oc od oe bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="544c" class="nw nx iq le b lf of li og ll oh lp oi lt oj lx ob oc od oe bi translated">📰查看更多内容请参见<a class="ae ly" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">升级编码刊物</a></li><li id="73ca" class="nw nx iq le b lf of li og ll oh lp oi lt oj lx ob oc od oe bi translated">🔔关注我们:<a class="ae ly" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae ly" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae ly" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="dbd1" class="pw-post-body-paragraph lc ld iq le b lf lg jr lh li lj ju lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">🚀👉<a class="ae ly" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="le ir">加入升级人才集体，找到一份神奇的工作</strong> </a></p></div></div>    
</body>
</html>