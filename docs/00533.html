<html>
<head>
<title>Pearson Coefficient of Correlation with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">与Python相关的皮尔逊系数</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/pearson-coefficient-of-correlation-using-pandas-ca68ce678c04?source=collection_archive---------1-----------------------#2019-04-14">https://levelup.gitconnected.com/pearson-coefficient-of-correlation-using-pandas-ca68ce678c04?source=collection_archive---------1-----------------------#2019-04-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="278e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">作为一名数据科学家，这对我来说是一个非常令人兴奋的领域，因为它有助于揭示数据集中变量之间复杂而未知的关系。</p><p id="afc7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我将直接讨论如何在Python中使用皮尔逊r系数来实现这一点。</p><p id="672d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Python是一种令人惊叹的数据分析语言，主要是因为以数据为中心的Python包的奇妙生态系统。Pandas<strong class="jp ir"><em class="kl"/></strong>就是其中的一个软件包，它使得导入和分析数据变得更加容易。</p><h1 id="36ae" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated"><strong class="ak"> dataframe.corr()解释</strong></h1><p id="22a4" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">Pandas <strong class="jp ir"> </strong> <code class="fe lp lq lr ls b"><strong class="jp ir">dataframe.corr()</strong></code>用于查找数据帧中所有列的成对相关性。</p><blockquote class="lt lu lv"><p id="ee3d" class="jn jo kl jp b jq jr js jt ju jv jw jx lw jz ka kb lx kd ke kf ly kh ki kj kk ij bi translated">任何<code class="fe lp lq lr ls b">na</code>值都被自动排除。</p><p id="5367" class="jn jo kl jp b jq jr js jt ju jv jw jx lw jz ka kb lx kd ke kf ly kh ki kj kk ij bi translated">dataframe中的任何非数字数据类型列都将被忽略。</p></blockquote><p id="06ce" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">dataframe.corr参数:<code class="fe lp lq lr ls b"><strong class="jp ir">dataframe.corr(method='',min_periods=1)</strong></code></p><p id="38ba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe lp lq lr ls b">method</code> : <code class="fe lp lq lr ls b"><em class="kl">{‘pearson’, ‘kendall’, ‘spearman’}</em></code> <em class="kl">或可调用</em></p><ul class=""><li id="f61a" class="lz ma iq jp b jq jr ju jv jy mb kc mc kg md kk me mf mg mh bi translated">皮尔森:标准相关系数— <a class="ae mi" href="https://medium.com/@joseph.magiya/pearson-coefficient-of-correlation-explained-369991d93404" rel="noopener">点击此处了解更多信息</a></li><li id="d952" class="lz ma iq jp b jq mj ju mk jy ml kc mm kg mn kk me mf mg mh bi translated">肯德尔:肯德尔τ相关系数</li><li id="fd6d" class="lz ma iq jp b jq mj ju mk jy ml kc mm kg mn kk me mf mg mh bi translated">斯皮尔曼:斯皮尔曼等级相关</li></ul><p id="d2ea" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe lp lq lr ls b">min_periods</code> : <em class="kl"> int，可选</em></p><ul class=""><li id="0103" class="lz ma iq jp b jq jr ju jv jy mb kc mc kg md kk me mf mg mh bi translated">每对列获得有效结果所需的最小观察次数。这目前仅适用于pearson和spearman相关性</li></ul><h1 id="5220" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">让我们来点实际的吧！</h1><blockquote class="lt lu lv"><p id="1978" class="jn jo kl jp b jq jr js jt ju jv jw jx lw jz ka kb lx kd ke kf ly kh ki kj kk ij bi translated">因为我们在实践中学习</p></blockquote><p id="e0fa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，我们导入我们需要的包:</p><pre class="mo mp mq mr gt ms ls mt mu aw mv bi"><span id="6158" class="mw kn iq ls b gy mx my l mz na">import numpy as np<br/>import pandas as pd<br/>import matplotlib.pyplot as plt<br/>import seaborn as sb</span></pre><p id="598e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们需要一些数据。为此，我选择了一个简单但有趣的数据集，这是我在Kaggle上看到的。你可以在这里阅读并下载<a class="ae mi" href="https://www.kaggle.com/russellyates88/suicide-rates-overview-1985-to-2016" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="d16d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们读取数据并将其放入数据帧中。</p><pre class="mo mp mq mr gt ms ls mt mu aw mv bi"><span id="f35a" class="mw kn iq ls b gy mx my l mz na">SuicideRate = pd.read_csv("suicide-rates-overview-1985-to-2016.csv")</span></pre><p id="f0df" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你想浏览一下Python上的数据，看看里面有什么数据。</p><pre class="mo mp mq mr gt ms ls mt mu aw mv bi"><span id="ae18" class="mw kn iq ls b gy mx my l mz na">SuicideRate.head()</span></pre><figure class="mo mp mq mr gt nc gh gi paragraph-image"><div role="button" tabindex="0" class="nd ne di nf bf ng"><div class="gh gi nb"><img src="../Images/ea6a1745507887f1830b399bcdf78635.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IE9fR7-rjrY6ABc5yKLDtg.png"/></div></div><figcaption class="nj nk gj gh gi nl nm bd b be z dk translated">DateFrame.head()</figcaption></figure><h1 id="28e6" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated"><strong class="ak">计算皮尔逊相关系数</strong></h1><p id="d359" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">我们将使用<code class="fe lp lq lr ls b">method = ‘pearson’</code>表示<code class="fe lp lq lr ls b">dataframe.cor</code> r，因为我们想要计算皮尔逊相关系数。那我们就打印出来！</p><pre class="mo mp mq mr gt ms ls mt mu aw mv bi"><span id="1a5b" class="mw kn iq ls b gy mx my l mz na">pearsoncorr = SuicideRate.corr(method='pearson')</span><span id="a7dd" class="mw kn iq ls b gy nn my l mz na">pearsoncorr</span></pre><figure class="mo mp mq mr gt nc gh gi paragraph-image"><div role="button" tabindex="0" class="nd ne di nf bf ng"><div class="gh gi no"><img src="../Images/0f5934c89bbc5438bcc307c204c276a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ldLM4hIHHL_zeGDLeqF2ww.png"/></div></div><figcaption class="nj nk gj gh gi nl nm bd b be z dk translated">DateFrame.corr(method='pearson ')</figcaption></figure><p id="cb3e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这很好，但是数据中有大量的变量会很快使解释变得更加耗时。</p><p id="70f9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这就是我在熊猫中导入seaborn包的原因:</p><pre class="mo mp mq mr gt ms ls mt mu aw mv bi"><span id="a093" class="mw kn iq ls b gy mx my l mz na">import seaborn as sb</span></pre><blockquote class="lt lu lv"><p id="ac63" class="jn jo kl jp b jq jr js jt ju jv jw jx lw jz ka kb lx kd ke kf ly kh ki kj kk ij bi translated">快速描述Seaborn是一个用于可视化数据的python库。它建立在matplotlib之上，并与T2熊猫数据结构紧密结合。</p></blockquote><p id="eca2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了使这个看起来更漂亮，更容易解释，在计算皮尔逊相关系数后添加这个。</p><pre class="mo mp mq mr gt ms ls mt mu aw mv bi"><span id="ee4e" class="mw kn iq ls b gy mx my l mz na">sb.heatmap(pearsoncorr, <br/>            xticklabels=pearsoncorr.columns,<br/>            yticklabels=pearsoncorr.columns,<br/>            cmap='RdBu_r',<br/>            annot=True,<br/>            linewidth=0.5)</span></pre><h1 id="87c9" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated"><strong class="ak">结果和解释</strong></h1><figure class="mo mp mq mr gt nc gh gi paragraph-image"><div role="button" tabindex="0" class="nd ne di nf bf ng"><div class="gh gi np"><img src="../Images/1c73061f512bf67797fbaca8fd6f46b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nEV79MkDmX2x8AoAxPeXsw.png"/></div></div><figcaption class="nj nk gj gh gi nl nm bd b be z dk translated">皮尔逊corr的热图</figcaption></figure><p id="3764" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">系数接近1意味着两个变量之间有很强的正相关性。在我们的例子中，栗色显示了很强的相关性。对角线是变量之间的相关性——所以它们显然是1。</p><p id="0101" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">看着这个我们可以很快发现:</p><ul class=""><li id="7bac" class="lz ma iq jp b jq jr ju jv jy mb kc mc kg md kk me mf mg mh bi translated">人类发展指数与人均国内生产总值密切相关。</li><li id="baa0" class="lz ma iq jp b jq mj ju mk jy ml kc mm kg mn kk me mf mg mh bi translated">人口数量与自杀人数也有很强的相关性。这是我们所期望的，对吗？人口越多，自杀人数就越多，反之亦然。</li></ul><h1 id="efd8" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated"><strong class="ak">结论</strong></h1><p id="57ef" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">在对数据进行任何类型的分析之前，关联变量将节省数据忍者的时间。在我看来，这更像是对数据的x光透视。在任何项目中执行这种关联都是关键——您可能会发现一些有用的东西，也可能会一无所获，不管是哪种情况，您都会对数据有所了解！</p><p id="38d3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您还可以查看:</p><ul class=""><li id="1ddb" class="lz ma iq jp b jq jr ju jv jy mb kc mc kg md kk me mf mg mh bi translated"><a class="ae mi" href="https://medium.com/@joseph.magiya/pearson-coefficient-of-correlation-explained-369991d93404" rel="noopener">皮尔逊相关系数解释道。</a></li><li id="1621" class="lz ma iq jp b jq mj ju mk jy ml kc mm kg mn kk me mf mg mh bi translated"><a class="ae mi" href="https://medium.com/@joseph.magiya/kendall-rank-correlation-python-19524cb0e9a0" rel="noopener">肯德尔等级相关性— python </a></li><li id="db77" class="lz ma iq jp b jq mj ju mk jy ml kc mm kg mn kk me mf mg mh bi translated"><a class="ae mi" href="https://medium.com/@joseph.magiya/kendall-rank-correlation-explained-dee01d99c535" rel="noopener">肯德尔秩相关解释。</a></li><li id="8654" class="lz ma iq jp b jq mj ju mk jy ml kc mm kg mn kk me mf mg mh bi translated"><a class="ae mi" href="https://medium.com/@joseph.magiya" rel="noopener">我的个人资料了解更多数据</a></li></ul></div></div>    
</body>
</html>