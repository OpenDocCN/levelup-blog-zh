<html>
<head>
<title>How to use NFS in Kubernetes Cluster — Storage Class</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Kubernetes集群存储类中使用NFS</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-use-nfs-in-kubernetes-cluster-storage-class-ed1179a83817?source=collection_archive---------2-----------------------#2021-01-04">https://levelup.gitconnected.com/how-to-use-nfs-in-kubernetes-cluster-storage-class-ed1179a83817?source=collection_archive---------2-----------------------#2021-01-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="f6ae" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在<a class="ae ko" rel="noopener ugc nofollow" target="_blank" href="/how-to-use-nfs-in-kubernetes-cluster-method-2-73df4efb4c00">上一篇文章</a>中，我们讨论了仅通过持久卷配置连接到NFS服务器。</p><p id="46e9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">结合我们在本文的<a class="ae ko" rel="noopener ugc nofollow" target="_blank" href="/how-to-use-nfs-in-kubernetes-cluster-method-1-4071724af37c">中看到的直接节点映射到NFS的方法，这种方法是使用Kubernetes的NFS服务器最常用的方式。</a></p><p id="b24e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本系列的第三篇也是最后一篇文章中，我将向您展示如何自动化部分工作，创建一个持久卷。</p><p id="06a4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">从长远来看，它节省了大量的工作，但是在初始配置时需要更多的工作。</p><p id="303f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您将在互联网上看到的大多数创建自定义存储类的教程都使用脚本或helm包安装。为了继续本系列的模式，我将向您展示如何仅使用yml配置文件来实现这一点。这将使事情变得更加费力，但我相信您将学到比运行命令更多的东西。</p><h1 id="37a3" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">一般注意事项</h1><h1 id="6143" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">文章系列</h1><p id="6e65" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">本文是关于Kubernetes使用NFS服务器作为持久性卷来源的系列文章的一部分。以下是本系列的文章列表:</p><ol class=""><li id="55d0" class="ls lt it js b jt ju jx jy kb lu kf lv kj lw kn lx ly lz ma bi translated"><a class="ae ko" href="https://fabiofernandesx.medium.com/how-to-use-nfs-in-kubernetes-cluster-configuring-the-nfs-server-1bf4116641d4" rel="noopener">配置NFS服务器</a></li><li id="8547" class="ls lt it js b jt mb jx mc kb md kf me kj mf kn lx ly lz ma bi translated"><a class="ae ko" rel="noopener ugc nofollow" target="_blank" href="/how-to-use-nfs-in-kubernetes-cluster-method-1-4071724af37c">方法1 —将NFS驱动器映射到每个节点的本地文件夹</a></li><li id="6747" class="ls lt it js b jt mb jx mc kb md kf me kj mf kn lx ly lz ma bi translated"><a class="ae ko" rel="noopener ugc nofollow" target="_blank" href="/how-to-use-nfs-in-kubernetes-cluster-method-2-73df4efb4c00">方法2 —通过永久卷配置直接连接到NFS服务器</a></li><li id="986a" class="ls lt it js b jt mb jx mc kb md kf me kj mf kn lx ly lz ma bi translated"><strong class="js iu">创建一个存储类，通过声明自动创建一个持久卷。(这一个)</strong></li></ol><h1 id="310d" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">源代码</h1><p id="18bd" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">本文使用的所有文件都发布在这个GitHub资源库中:<a class="ae ko" href="https://github.com/fabiofernandesx/k8s-volumes" rel="noopener ugc nofollow" target="_blank">https://github.com/fabiofernandesx/k8s-volumes</a>。如果您发现需要修复或添加的东西，可以随意克隆它，甚至打开一个拉请求。</p><h1 id="b94a" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">家庭实验室</h1><p id="6d83" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">对于本系列文章，我将使用我的raspberry pi Kubernetes集群，但是这些命令应该可以在任何环境下工作，包括云和虚拟机。如果你对如何创建一个raspberry pi k8s集群感兴趣，你可以在这里找到它:<a class="ae ko" href="https://medium.com/swlh/yet-another-raspberry-pi-k8s-cluster-ea05fb48e9a8" rel="noopener">又一个Raspberry Pi k8的集群</a>，或者如果你对如何使用虚拟机器创建这个集群感兴趣，你可以看看这个:<a class="ae ko" href="https://fabiofernandesx.medium.com/preparing-virtual-box-vms-to-run-kubernetes-a31c7c851566" rel="noopener">准备虚拟机器来运行Kubernetes </a>。</p><h1 id="e49e" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">通过自定义存储类连接到NFS服务器</h1><p id="6ee5" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">首先我们说的是自动化，每次需要我们k8s集群对外做一些事情的时候，都需要一些特殊的配置来处理安全部分。</p><p id="1d3c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里我们要做的第一件事是设置服务帐户和角色绑定。我们将使用RBAC(基于角色的访问控制)来完成这一配置。</p><p id="5929" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们需要5种配置来使这个安全部分工作:</p><ol class=""><li id="1b80" class="ls lt it js b jt ju jx jy kb lu kf lv kj lw kn lx ly lz ma bi translated">服务帐户(向其授予权限)</li><li id="0021" class="ls lt it js b jt mb jx mc kb md kf me kj mf kn lx ly lz ma bi translated">集群角色</li><li id="68a6" class="ls lt it js b jt mb jx mc kb md kf me kj mf kn lx ly lz ma bi translated">群集角色绑定</li><li id="4e6a" class="ls lt it js b jt mb jx mc kb md kf me kj mf kn lx ly lz ma bi translated">作用</li><li id="0cd0" class="ls lt it js b jt mb jx mc kb md kf me kj mf kn lx ly lz ma bi translated">角色绑定</li></ol><p id="82c9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这看起来太多了，但是您最终可以将所有配置放在一个60行的文件中。您可以将所有内容放在同一个文件中，用3个破折号分隔每个配置，如下所示:</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi mg"><img src="../Images/01e6b2a100312fe7eda1caccee240a26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lmMl3fYuc0f5cqKzmWFUHA.png"/></div></div></figure><p id="281d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">无论如何，我将“一个接一个”地创建配置，以便更容易地调查可能的错误。我建议你也这样做，至少第一次是这样。</p><p id="54da" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一旦一切正常，您就可以将所有的配置文件合并成一个文件，并以这种方式存储它。</p><p id="e8e5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">从服务帐户开始:</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi gj"><img src="../Images/a1b08aa74cad73e99c88eb972069d5ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ge92epWFM9KyHmtcbNCa4A.png"/></div></div></figure><p id="4fec" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里没什么特别的；只是另一种k8s类型的配置—“种类”</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi ms"><img src="../Images/37c87953fb6f869a208097167fc5b998.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ahOnhxlSLfnSnqiNmEAS_w.png"/></div></div></figure><p id="77d6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">群集角色:</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi mt"><img src="../Images/9966c8c5140ec298d2138f552e409ed0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PEEOY-7fAh8TtJrs3llAwg.png"/></div></div></figure><p id="3e51" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我不会详细介绍每个资源的含义，您只需阅读配置文件就可以了解一点，如果您想深入了解，我推荐k8s文档(那里有很多不同的场景)</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi mu"><img src="../Images/0b733002f9ec41e9ad9127a50ac822df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P766nVFJqhHoErEA2jBFIw.png"/></div></div></figure><p id="4596" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">群集角色绑定:</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi mv"><img src="../Images/6224df90a0bdce0723af13b5e55bedbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1cuLnI5Pns1Goe229CdJ8A.png"/></div></div></figure><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi mw"><img src="../Images/db66557f7da4a553f3a95f5e34508dff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dCYTZfs9j4JGDqJlZbKZ0g.png"/></div></div></figure><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi mx"><img src="../Images/7f310357f96624406616ad7d7f1a3fa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eqAsXt_a8VgTrNWQeaS7HA.png"/></div></div></figure><p id="451a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这可能有点单调乏味，但是一个接一个地执行这些命令并检查一切是否正常运行总是好的，正如您在图片中看到的那样。如果出现问题，您只需要几行配置就可以调查并找到错误。</p><p id="126e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">角色:</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi my"><img src="../Images/2c98eb714a855411c76088f0fe582922.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qhWJtKheefzXrS9DePm95A.png"/></div></div></figure><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi mz"><img src="../Images/4219357e78b58776bd3fc46a5559890f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gJZe29RZDF0d0WURG7T4FQ.png"/></div></div></figure><p id="6fba" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Ant角色绑定:</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi na"><img src="../Images/be002015772ae80aae80386e8867c7a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MC6OoSlyxFDgAwdQ8-uQpA.png"/></div></div></figure><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi nb"><img src="../Images/beb134c4a1dfbb9fccb6f40c8d7b1248.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Ia6M-oOFDHfanhumEXZtg.png"/></div></div></figure><p id="65e1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，我们需要的与安全相关的一切都被创造出来了。我们可以使用以下命令来检查是否所有东西都在那里:</p><pre class="mh mi mj mk gt nc nd ne nf aw ng bi"><span id="edf7" class="nh kq it nd b gy ni nj l nk nl">kubectl get clusterrole,role,clusterrolebindings,rolebindings -o custom-columns='KIND:kind,NAME:metadata.name,SERVICE_ACCOUNTS:subjects[?(@.kind=="ServiceAccount")].name'-n pv-demo | grep nfs-client</span></pre><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi nm"><img src="../Images/9f2268a5a3c5e2db288f5cc2172e2237.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cgqEhepHq6JZsHUhBBGidA.png"/></div></div></figure><p id="c32f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，让我们部署存储类。</p><p id="cb81" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果我们正在使用provisioner插件，我们可以将其添加到配置中的provisioner参数中，类似于<code class="fe nn no np nd b">kubernetes.io/aws-ebs</code>或<code class="fe nn no np nd b">kubernetes.io/azure-file</code>，但我们没有针对NFS的插件。所以用像<code class="fe nn no np nd b">mysite.com/nfs</code>这样的词来代替。我正在使用我的一个域名。</p><p id="d830" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我还将其创建为“ssd-nfs-storage”，因为我想为我的外部驱动器创建其他存储类。因为配置是相同的，所以我在这里不包括这些。</p><p id="ac99" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是存储级配置文件:</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi nq"><img src="../Images/a5e762d34c364daed247215cbea90f6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HTuLYowfi-aXjlf_ap10vw.png"/></div></div></figure><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi nr"><img src="../Images/ee632a2036115cdd41a6b5e015cb1ac1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3KWeh48-Ibo9bCVESz2BoA.png"/></div></div></figure><p id="ab7e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们需要部署置备程序；工作人员将负责与我们的NFS服务器通信，在那里创建文件夹，然后将新的PV配置到集群中。</p><p id="bffb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">请注意，我在这里使用的是arm映像，但是如果您的情况是这样的话，同样的插件也有x86版本。</p><p id="ce8e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你想更好地理解这张图片的作用，你可以在这里找到它的来源:</p><p id="4ebd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae ko" href="https://github.com/kubernetes-retired/external-storage/tree/master/nfs-client" rel="noopener ugc nofollow" target="_blank">https://github . com/kubernetes-retired/external-storage/tree/master/NFS-client</a></p><p id="726d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">以下是部署配置文件:</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi ns"><img src="../Images/05e23d0594baca1eb3f3ab08b78d727f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4IErtH4IrytC3uWZV-Sf9g.png"/></div></div></figure><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi nt"><img src="../Images/b3efd3bafc3b3babc8e4f0a9c152b400.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W9YDiIExEHZfrivN07x7yQ.png"/></div></div></figure><p id="0340" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下一步将向我们展示到目前为止我们在这里配置的一切是否正常。我们将使用我们全新的存储类别创建一个批量声明。让我们开始吧。</p><p id="0b8d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">文件如下:</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi nu"><img src="../Images/0306bfb7de9ebe748adf98acf9354dcd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YMYLYdvCfHO1PVrN_TkNAg.png"/></div></div></figure><p id="905f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">以及命令:</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi nv"><img src="../Images/6c315c14d1f31945fe5ab0bd3a9eaeb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XT69eI9kQ-QJxCsVfER1dg.png"/></div></div></figure><p id="a056" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">请注意，PV是自动创建的，具有唯一的ID。让我们用ssh连接我们的NFS服务器，检查那里是否创建了一些东西。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi nw"><img src="../Images/30e8d45a2426ac1196067e8f1e683070.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pc19xqJSoL-Mcg7kaLIVPA.png"/></div></div></figure><p id="4f64" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">看看在我们的根文件夹中为存储类创建的文件夹。它是名称空间、PVC名称和PV名称的合并。</p><p id="1f3f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后，让我们将index.html复制到这个奇怪的文件夹中，并配置我们网站的其余部分。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi nx"><img src="../Images/fcc725b6efe9006e87f32905470bb9a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*06E78208bdlY9kxo8TJ0vA.png"/></div></div></figure><p id="e86a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一切就绪。现在我们需要像在以前的文章中一样配置应用程序本身。这次我使用一个文件来配置站点的其余部分(部署、服务和入口):</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi ny"><img src="../Images/c07fa55d6348c6962504dd1d90519622.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M2A8kcIfMLBeBZS7uVgWiQ.png"/></div></div></figure><p id="8675" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们应用它并检查是否一切正常。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi nz"><img src="../Images/66c9e0191e0d1a6c2bdc8616411eb141.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*80tIOBq8Y4MqpZ3zvJkZaQ.png"/></div></div></figure><p id="94c3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这就是我们在pv-demo名称空间下运行的所有部署和服务。我们现在只需要在浏览器中尝试一下，我们的工作就在这里完成了:</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi oa"><img src="../Images/a4830de1f25a4d0c8ed09bf2e3856931.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*65Gb-Fg0IRbvuWs7FxVRSQ.png"/></div></div></figure><p id="8b84" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">就是这样。如果你有任何问题让我知道。</p><p id="4e24" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我希望您已经了解了更多关于k8s和持久性卷的知识。再见！</p></div></div>    
</body>
</html>