<html>
<head>
<title>Calculating Roman Numerals in C#</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在C#中计算罗马数字</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/calculating-roman-numerals-in-c-d8532a00b5c0?source=collection_archive---------4-----------------------#2019-12-13">https://levelup.gitconnected.com/calculating-roman-numerals-in-c-d8532a00b5c0?source=collection_archive---------4-----------------------#2019-12-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/20e440a08612fa82c820c0967169a9c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hlvKBI4ujIutUv8NUFFYFw.jpeg"/></div></div></figure><p id="7cdd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最近，我的一个伙伴给了我一个挑战，要我写一个程序，把一个整数转换成罗马数字。</p><h1 id="fb15" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">StackOverflow.com的回答</h1><p id="8f43" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">我看了一下<a class="ae lz" href="https://stackoverflow.com/questions/7040289/converting-integers-to-roman-numerals/" rel="noopener ugc nofollow" target="_blank">这个问题</a>，对答案有点惊讶。</p><p id="495d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">大多数答案都有硬编码值，如“XL”代表40，“XC”代表90等。</p><p id="36e1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我心想，写这个的程序员一定在脑子里用逻辑算出了X和C加起来等于90，为什么他不能把这个逻辑写到他的代码里，从而只需要硬编码主要的符号呢？</p><p id="db16" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">其他解决方案的问题在于，它们没有模拟人们思考问题的方式。</p><p id="3b16" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">通过硬编码“IV”、“IX”、“XL”和“CM”等，你到处都有重复的符号。如果你想用“X”而不是“X”呢？你需要在不止一个地方做出改变。</p><p id="a602" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这不支持“集中控制点”的概念，只是比硬编码每个可能值的强力方法稍微好一点的解决方案。</p><h1 id="6558" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">更自然的解决方案</h1><p id="9e37" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">我决定只对7个独特的符号进行硬编码:<em class="ma"> I，V，X，L，C，D，M. </em></p><p id="afe8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下一步是用伪代码写下来，这是一个人在计算罗马数字时的思维过程。</p><h2 id="4216" class="mb kx iq bd ky mc md dn lc me mf dp lg kj mg mh lk kn mi mj lo kr mk ml ls mm bi translated">选择最大的符号</h2><p id="3392" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">一个好的起点是选择一个随机数，比如22。</p><p id="0128" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">任何时候你看到罗马数字，最大的数字总是第一个(就像任何其他数字系统，除了小端二进制)。</p><p id="191c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">可用于22的最大罗马数字符号是X，即10。</p><h2 id="9b78" class="mb kx iq bd ky mc md dn lc me mf dp lg kj mg mh lk kn mi mj lo kr mk ml ls mm bi translated">解决剩下的问题</h2><p id="049c" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">写下X后，你需要算出其余的数。既然你已经有了10，剩下的就是22–10 = 12。</p><p id="44aa" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">用罗马数字写12，我们遵循同样的过程。我们可以用来写12的最大数字是10，也就是x。</p><p id="09d8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所以现在我们有XX，它是20，其余的是22–20 = 2。</p><p id="f6e3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以用来写2的最大数字是1，也就是I。</p><p id="e8d0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所以现在我们有XXI是21，其余的是22–21 = 1。</p><p id="2e62" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以用来写1的最大数字是1，也就是I。</p><p id="9e8b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所以现在我们有XXII，它是22，其余的是22–22 = 0，这意味着我们完成了。</p><p id="7089" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如你所见，我们对其余的输入使用相同的过程，这意味着我们需要使用递归。</p><h2 id="4685" class="mb kx iq bd ky mc md dn lc me mf dp lg kj mg mh lk kn mi mj lo kr mk ml ls mm bi translated">一些边缘情况</h2><p id="528c" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">有相当多的数字上面的过程不会工作。例如40不是XXXX而是XL(50之前的10)。</p><p id="e70a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">规则是，只有当较小的数乘以10大于或等于较大的数时，才能将较小的数放在较大的数前面。</p><p id="ed3a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一个更简单的方法是，如果在7个罗马数字字母的列表中，一个较小的数字直接出现在一个较大的数字之前，并且它是10的幂，那么你只能将该较小的数字放在该较大的数字之前。</p><p id="00aa" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这意味着你不能为99写IC，因为在罗马数字字母列表中，X在C之前，而不是I(注意L实际上在C之前，但它被忽略了，因为它不是10的幂)。</p><h2 id="3f78" class="mb kx iq bd ky mc md dn lc me mf dp lg kj mg mh lk kn mi mj lo kr mk ml ls mm bi translated">想办法把一个较小的符号放在一个较大的符号前面</h2><p id="21aa" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">让我们用一个例子来试着解决这个过程，来决定我们是否可以把一个较小的符号放在一个较大的符号前面。</p><p id="fb79" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们以39 (XXXIX)、40 (XL)和41 (XLI)为例。</p><p id="5433" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">取39上面的罗马数字符号50 (L)，从中减去39。50–39 = 11.这不小于或等于39以下的符号，即10 (X)。</p><p id="727e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">取40以上的罗马数字符号50 (L)，从中减去40。50–40 = 10.这小于或等于40以下的符号，即10 (X)。</p><p id="a09c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">取41上面的罗马数字符号50 (L)，从中减去41。50–41 = 9.这小于或等于40以下的符号，即10 (X)。</p><p id="f270" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这可以用下面的规则来概括:</p><p id="6e9f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你输入的罗马数字和上面的罗马数字之差小于或等于你输入的下面的罗马数字，那么你可以把下面的符号放在较大的符号前面。</p><p id="9146" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">例如，输入= 41: <br/>因为50–41 = 9且9小于或等于10，所以可以在50前面加上10作为输出的开始:XL</p><h1 id="75ea" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">其他需要注意的事项</h1><h2 id="c2ab" class="mb kx iq bd ky mc md dn lc me mf dp lg kj mg mh lk kn mi mj lo kr mk ml ls mm bi translated">更多信件</h2><p id="0f81" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">在代码中，我实际上使用了13个独特的罗马数字字母，这是因为在字母上加一条上划线会使它乘以1000(我使用撇号而不是上划线)。</p><p id="df0d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所以用的13个罗马数字字母是I(1)，V(5)，X(10)，L(50)，C(100)，D(500)，M(1000)，V'(5000)，X'(10000)，L'(50000)，C'(100000)，M'(100000)</p><h2 id="77d9" class="mb kx iq bd ky mc md dn lc me mf dp lg kj mg mh lk kn mi mj lo kr mk ml ls mm bi translated">最大数量</h2><p id="813d" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">有些人认为3'999'999是可以用罗马数字写出的最大值。</p><p id="a6c6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是因为他们认为一个罗马数字字母不能连续显示三次以上。</p><p id="9e34" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这不是一个规则，而是在情况允许的情况下，必须在较大的字母前面使用较小的字母的结果。</p><p id="15f8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">比如你不能把4写成IIII，原因不是因为IIII在一行中比字母I多3倍，而是因为你有一种情况，你必须把I放在v前面。</p><p id="5457" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一行中有三个以上字母的情况是，当你达到一个数字时，这个数字太高，以至于在一个较大的字母前面没有较小的字母，因为较大的字母不存在。</p><p id="c1a3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当你需要写一个大于或等于400万的数M'M'M'M '时，就会出现这种情况。</p><h1 id="0437" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">代码</h1><p id="aa0e" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">下面基本就是上面的算法转换成C#了。</p><p id="7aa3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">要自己运行这个应用程序，你需要克隆<a class="ae lz" href="https://github.com/DavidKlempfner/RomanNumeralCalculator" rel="noopener ugc nofollow" target="_blank">回购</a>，因为下面只列出了应用程序的核心部分。</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="mr ms l"/></div></figure></div><div class="ab cl mt mu hu mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="ij ik il im in"><h1 id="93fb" class="kw kx iq bd ky kz na lb lc ld nb lf lg lh nc lj lk ll nd ln lo lp ne lr ls lt bi translated">分级编码</h1><p id="81e3" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">感谢您成为我们社区的一员！<a class="ae lz" href="https://www.youtube.com/channel/UC3v9kBR_ab4UHXXdknz8Fbg?sub_confirmation=1" rel="noopener ugc nofollow" target="_blank">订阅我们的YouTube频道</a>或者加入<a class="ae lz" href="https://skilled.dev/" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> Skilled.dev编码面试课程</strong> </a>。</p><div class="nf ng gp gr nh ni"><a href="https://skilled.dev" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd ir gy z fp nn fr fs no fu fw ip bi translated">编写面试问题+获得开发工作</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">掌握编码面试的过程</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">技术开发</p></div></div><div class="nr l"><div class="ns l nt nu nv nr nw jw ni"/></div></div></a></div></div></div>    
</body>
</html>