<html>
<head>
<title>Django Admin Stacked Inline Example: Many-one Relations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Django管理堆叠内联示例:多对一关系</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/django-admin-stacked-inline-example-many-to-many-relations-e81ae4b59f51?source=collection_archive---------5-----------------------#2022-05-24">https://levelup.gitconnected.com/django-admin-stacked-inline-example-many-to-many-relations-e81ae4b59f51?source=collection_archive---------5-----------------------#2022-05-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="d46b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你如何把几样东西加入购物车？</p></div><div class="ab cl ko kp hx kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="im in io ip iq"><p id="45a5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Django Admin在处理数据时非常强大。许多(甚至是有经验的)开发人员都不知道的一个特性是在同一页面上有多个多对一或多对多行，如下图所示:</p><figure class="kw kx ky kz gt la gh gi paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="gh gi kv"><img src="../Images/c0961ee9faa043d25a01d8650a84e22e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AYDWxRKA13-dg5jBopy0iw.png"/></div></div></figure><p id="3ac7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">令人兴奋，不是吗？而且食谱很简单，大家看看吧。</p></div><div class="ab cl ko kp hx kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="im in io ip iq"><h1 id="5cc7" class="lh li it bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">数据(模型)</h1><figure class="kw kx ky kz gt la"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="2fa7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">模型很简单:我们有商品，我们有购物车，我们有一个表CartItem，用于商品和购物车之间的多对多关系。我们不能使用模型。因为我们在关系中需要这个额外的“计数”字段。我发现当我自己建立关系时，它变得更加透明。</p></div><div class="ab cl ko kp hx kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="im in io ip iq"><h1 id="ebc0" class="lh li it bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">管理</h1><p id="1179" class="pw-post-body-paragraph jq jr it js b jt mh jv jw jx mi jz ka kb mj kd ke kf mk kh ki kj ml kl km kn im bi translated">在Admin中，我们不是简单地直接注册模型，而是需要创建一个ModelAdmin类和一个StackedInline类。</p><p id="ba55" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">想法如下。我们首先创建多行视图来绘制CartItem表。然后我们将这个视图添加到购物车的视图中。</p><p id="ba24" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是按如下方式完成的:</p><figure class="kw kx ky kz gt la"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="5bad" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">就是这样，没多久，我发现它极其有用。</p><p id="2357" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你喜欢这篇文章吗？关注我，阅读我关于Django的其他文章。</p><p id="b09f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">尚未订阅媒体？使用下面我的个人链接，对你来说，这在成本上没有区别，但我从每次订阅中受益。</p></div></div>    
</body>
</html>