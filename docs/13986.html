<html>
<head>
<title>Learn To Explore Wikipedia With Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">学习使用Python探索维基百科</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/learn-to-explore-wikipedia-with-python-c3a971f5d72a?source=collection_archive---------7-----------------------#2022-10-22">https://levelup.gitconnected.com/learn-to-explore-wikipedia-with-python-c3a971f5d72a?source=collection_archive---------7-----------------------#2022-10-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9476" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">先说用Python探索维基百科吧！</h2></div><p id="56b7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你想在你的网络应用程序中使用维基百科的数据吗？为此，一个流行的尝试选项是<em class="le"> MediaWiki API </em>。</p><div class="lf lg gp gr lh li"><a href="https://www.mediawiki.org/wiki/API:Main_page" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab fo"><div class="lk ab ll cl cj lm"><h2 class="bd iu gy z fp ln fr fs lo fu fw is bi translated">API:主页- MediaWiki</h2><div class="lp l"><h3 class="bd b gy z fp ln fr fs lo fu fw dk translated">切换目录本页概述了MediaWiki操作API。此页面旨在用于…</h3></div><div class="lq l"><p class="bd b dl z fp ln fr fs lo fu fw dk translated">www.mediawiki.org</p></div></div><div class="lr l"><div class="ls l lt lu lv lr lw lx li"/></div></div></a></div><p id="8bec" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是，如果我们可以得到一个Python库来包装这个API并使事情变得简单，那会怎么样呢？</p><figure class="lz ma mb mc gt md gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi ly"><img src="../Images/9b8027c90eec66891cb7446ce07e42c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Y7I4dxUo_M5g8v_B"/></div></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk translated">ober on Copeland @ very informed . com在<a class="ae mn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h1 id="f531" class="mo mp it bd mq mr ms mt mu mv mw mx my jz mz ka na kc nb kd nc kf nd kg ne nf bi translated">“维基百科”图书馆</h1><p id="eee8" class="pw-post-body-paragraph ki kj it kk b kl ng ju kn ko nh jx kq kr ni kt ku kv nj kx ky kz nk lb lc ld im bi translated"><code class="fe nl nm nn no b">wikipedia</code>是一个库，它使我们能够从维基百科获取数据，并使用Python对其进行解析。</p><h2 id="e4b7" class="np mp it bd mq nq nr dn mu ns nt dp my kr nu nv na kv nw nx nc kz ny nz ne oa bi translated">装置</h2><p id="8a50" class="pw-post-body-paragraph ki kj it kk b kl ng ju kn ko nh jx kq kr ni kt ku kv nj kx ky kz nk lb lc ld im bi translated">可以使用终端将该库安装在项目目录中，如下所示:</p><pre class="lz ma mb mc gt ob no oc od aw oe bi"><span id="4a1c" class="np mp it no b gy of og l oh oi">$ pip install wikipedia<!-- --> </span></pre><p id="4cf3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后将该库导入到您的项目中，如下所示:</p><pre class="lz ma mb mc gt ob no oc od aw oe bi"><span id="e933" class="np mp it no b gy of og l oh oi">import wikipedia</span></pre><h2 id="06fc" class="np mp it bd mq nq nr dn mu ns nt dp my kr nu nv na kv nw nx nc kz ny nz ne oa bi translated">搜索维基百科</h2><p id="7343" class="pw-post-body-paragraph ki kj it kk b kl ng ju kn ko nh jx kq kr ni kt ku kv nj kx ky kz nk lb lc ld im bi translated">为了在维基百科中搜索一个查询，我们可以使用<code class="fe nl nm nn no b">search</code>方法。</p><pre class="lz ma mb mc gt ob no oc od aw oe bi"><span id="4cfe" class="np mp it no b gy of og l oh oi">print(wikipedia.search("India", results = 3, suggestion = False))</span><span id="71a3" class="np mp it no b gy oj og l oh oi">#Output: <br/>['India', 'Demography of India', 'Punjab, India']</span></pre><p id="cffe" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将返回查询<code class="fe nl nm nn no b">India</code>的搜索结果，并返回3个结果。</p><p id="41d1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe nl nm nn no b">suggestion</code>参数如果设置为True，将以元组的形式返回查询结果和建议(如果有的话)。</p><pre class="lz ma mb mc gt ob no oc od aw oe bi"><span id="a39e" class="np mp it no b gy of og l oh oi">print(wikipedia.search("India", results = 3, suggestion = True))</span><span id="7cf0" class="np mp it no b gy oj og l oh oi">#Output: <br/>(['India', 'Punjab, India', 'Demography of India'], 'indian')</span></pre><figure class="lz ma mb mc gt md gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi ok"><img src="../Images/7aeb45b43d9e201bfedea658a1b76d2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GCJoiiFrCfM8lgSB"/></div></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk translated"><a class="ae mn" href="https://unsplash.com/@girlwithredhat?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">戴红色帽子的女孩</a>在<a class="ae mn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h2 id="496e" class="np mp it bd mq nq nr dn mu ns nt dp my kr nu nv na kv nw nx nc kz ny nz ne oa bi translated">总结一篇维基百科文章</h2><p id="807a" class="pw-post-body-paragraph ki kj it kk b kl ng ju kn ko nh jx kq kr ni kt ku kv nj kx ky kz nk lb lc ld im bi translated">要总结一篇来自维基百科的文章，我们可以使用<code class="fe nl nm nn no b">summary</code>方法。</p><pre class="lz ma mb mc gt ob no oc od aw oe bi"><span id="4060" class="np mp it no b gy of og l oh oi">print(wikipedia.summary("Python programming"))</span><span id="3ea8" class="np mp it no b gy oj og l oh oi">#Output:<br/>Python is a high-level, general-purpose programming language. Its design philosophy emphasizes code readability with the use of significant indentation.Python is dynamically-typed and garbage-collected. It supports multiple programming paradigms, including structured (particularly procedural), object-oriented and functional programming. It is often described as a "batteries included" language due to its comprehensive standard library...</span></pre><p id="8cf4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">可以使用以下参数修改输出:</p><ul class=""><li id="f9d3" class="ol om it kk b kl km ko kp kr on kv oo kz op ld oq or os ot bi translated"><code class="fe nl nm nn no b">sentences</code> —返回第一个指定数量的句子</li><li id="b372" class="ol om it kk b kl ou ko ov kr ow kv ox kz oy ld oq or os ot bi translated"><code class="fe nl nm nn no b">char</code> —返回第一个指定数量的字符</li></ul><pre class="lz ma mb mc gt ob no oc od aw oe bi"><span id="114e" class="np mp it no b gy of og l oh oi">print(wikipedia.summary("Led Zeppelin", sentences=3))</span><span id="b624" class="np mp it no b gy oj og l oh oi">#Output:<br/>Led Zeppelin were an English rock band formed in London in 1968. The group comprised vocalist Robert Plant, guitarist Jimmy Page, bassist/keyboardist John Paul Jones, and drummer John Bonham. With a heavy, guitar-driven sound, they are cited as one of the progenitors of hard rock and heavy metal, although their style drew from a variety of influences, including blues and folk music.</span></pre><h2 id="83da" class="np mp it bd mq nq nr dn mu ns nt dp my kr nu nv na kv nw nx nc kz ny nz ne oa bi translated">访问维基百科页面</h2><p id="7048" class="pw-post-body-paragraph ki kj it kk b kl ng ju kn ko nh jx kq kr ni kt ku kv nj kx ky kz nk lb lc ld im bi translated">为了从一个完整的维基百科页面访问数据，可以使用如下的<code class="fe nl nm nn no b">page</code>方法。</p><pre class="lz ma mb mc gt ob no oc od aw oe bi"><span id="44b3" class="np mp it no b gy of og l oh oi">london_page = wikipedia.page("London")</span></pre><p id="96df" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将名为“London”的维基百科页面的数据加载到一个名为<code class="fe nl nm nn no b">london_page</code>的变量中。</p><p id="c0da" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">进入页面的<strong class="kk iu">标题</strong>如下:</p><pre class="lz ma mb mc gt ob no oc od aw oe bi"><span id="ecdb" class="np mp it no b gy of og l oh oi">print(london_page.title)</span><span id="56e6" class="np mp it no b gy oj og l oh oi">#Output: London</span></pre><p id="b4fb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">进入页面的<strong class="kk iu">内容</strong>如下:</p><pre class="lz ma mb mc gt ob no oc od aw oe bi"><span id="cfcc" class="np mp it no b gy of og l oh oi">print(london_page.content)</span><span id="2e36" class="np mp it no b gy oj og l oh oi">#Output:<br/>London is the capital and largest city of England and the United Kingdom, with a population of just under 9 million. It stands on the River Thames in south-east England at the head of a 50-mile (80 km) estuary down to the North Sea, and has been a major settlement for two millennia. The City of London, its ancient core and financial centre...</span></pre><p id="58fa" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">访问与页面相关的所有<strong class="kk iu">图像</strong>，如下所示:</p><pre class="lz ma mb mc gt ob no oc od aw oe bi"><span id="312c" class="np mp it no b gy of og l oh oi">print(london_page.images)</span><span id="36a8" class="np mp it no b gy oj og l oh oi">#Output:<br/>'<a class="ae mn" href="https://upload.wikimedia.org/wikipedia/commons/d/d3/Siege_of_London_%28MS_1168%29.jpg" rel="noopener ugc nofollow" target="_blank">https://upload.wikimedia.org/wikipedia/commons/d/d3/Siege_of_London_%28MS_1168%29.jpg</a>',  '<a class="ae mn" href="https://upload.wikimedia.org/wikipedia/commons/6/60/St_Pancras_Railway_Station_2012-06-23.jpg" rel="noopener ugc nofollow" target="_blank">https://upload.wikimedia.org/wikipedia/commons/6/60/St_Pancras_Railway_Station_2012-06-23.jpg</a>',  '<a class="ae mn" href="https://upload.wikimedia.org/wikipedia/commons/9/90/St_Paul%27s_Cathedral_from_The_south_east.jpg" rel="noopener ugc nofollow" target="_blank">https://upload.wikimedia.org/wikipedia/commons/9/90/St_Paul%27s_Cathedral_from_The_south_east.jpg</a>' ...</span></pre><figure class="lz ma mb mc gt md gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi oz"><img src="../Images/d8cd144bc923826fb7bc179895a901cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VIage1RiFzrDItNs"/></div></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk translated">照片由<a class="ae mn" href="https://unsplash.com/@impatrickt?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">帕特里克·托马索</a>在<a class="ae mn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h2 id="c3f3" class="np mp it bd mq nq nr dn mu ns nt dp my kr nu nv na kv nw nx nc kz ny nz ne oa bi translated">一个常见的例外:<strong class="ak">消除歧义错误</strong></h2><p id="77ef" class="pw-post-body-paragraph ki kj it kk b kl ng ju kn ko nh jx kq kr ni kt ku kv nj kx ky kz nk lb lc ld im bi translated">请看下面的例子，在这个例子中，我们试图使用查询<code class="fe nl nm nn no b">Python</code>进行总结:</p><pre class="lz ma mb mc gt ob no oc od aw oe bi"><span id="ac30" class="np mp it no b gy of og l oh oi">print(wikipedia.summary("Python", sentences=3))</span><span id="627a" class="np mp it no b gy oj og l oh oi">#Output:<br/>DisambiguationError: "Python" may refer to:  <br/>Pythonidae <br/>Python (genus) <br/>Python (mythology) <br/>Python (programming language) ...</span></pre><p id="6d1b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这引发了<code class="fe nl nm nn no b">DisambiguationError</code>异常，因为查询解析到了一个消歧页面。</p><p id="a3fd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">可以使用<code class="fe nl nm nn no b">try-except</code>来处理这个异常，如下所示:</p><pre class="lz ma mb mc gt ob no oc od aw oe bi"><span id="fa50" class="np mp it no b gy of og l oh oi">try:<br/>    print(wikipedia.summary("Python", sentences=3))<br/>except wikipedia.exceptions.DisambiguationError:<br/>    print('DisambiguationError')</span><span id="314c" class="np mp it no b gy oj og l oh oi">#Output: DisambiguationError</span></pre><h2 id="0963" class="np mp it bd mq nq nr dn mu ns nt dp my kr nu nv na kv nw nx nc kz ny nz ne oa bi translated">另一个常见的异常:<strong class="ak">页面错误</strong></h2><p id="2d57" class="pw-post-body-paragraph ki kj it kk b kl ng ju kn ko nh jx kq kr ni kt ku kv nj kx ky kz nk lb lc ld im bi translated">当一个人的查询与维基百科上的任何页面都不匹配时，就会出现这个异常。</p><p id="ae74" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这可以按如下方式处理:</p><pre class="lz ma mb mc gt ob no oc od aw oe bi"><span id="fbdc" class="np mp it no b gy of og l oh oi">try:<br/>    wikipedia.page("asdflkj")<br/>except wikipedia.exceptions.PageError:<br/>    print("Your query didn't match a page on Wikipedia")</span></pre><h2 id="6985" class="np mp it bd mq nq nr dn mu ns nt dp my kr nu nv na kv nw nx nc kz ny nz ne oa bi translated">其他例外</h2><p id="564b" class="pw-post-body-paragraph ki kj it kk b kl ng ju kn ko nh jx kq kr ni kt ku kv nj kx ky kz nk lb lc ld im bi translated">所有API异常都链接到<code class="fe nl nm nn no b">wikipedia.exceptions</code>模块。</p><h1 id="964b" class="mo mp it bd mq mr ms mt mu mv mw mx my jz mz ka na kc nb kd nc kf nd kg ne nf bi translated">向维基百科捐款</h1><p id="6177" class="pw-post-body-paragraph ki kj it kk b kl ng ju kn ko nh jx kq kr ni kt ku kv nj kx ky kz nk lb lc ld im bi translated">最后，但也是最重要的，请按如下方式向维基百科捐款，这样它就能一如既往地免费向所有人开放！</p><pre class="lz ma mb mc gt ob no oc od aw oe bi"><span id="7159" class="np mp it no b gy of og l oh oi">wikipedia.donate()</span></pre><p id="d2ad" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将在您最喜欢的浏览器中打开维基媒体捐赠页面。</p><div class="lf lg gp gr lh li"><a href="https://donate.wikimedia.org/wiki/Ways_to_Give" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab fo"><div class="lk ab ll cl cj lm"><h2 class="bd iu gy z fp ln fr fs lo fu fw is bi translated">给予的方式-维基媒体基金会</h2><div class="lp l"><h3 class="bd b gy z fp ln fr fs lo fu fw dk translated">感谢您有兴趣向维基媒体基金会捐款，这是一个非营利组织，托管维基百科和其他免费的…</h3></div><div class="lq l"><p class="bd b dl z fp ln fr fs lo fu fw dk translated">donate.wikimedia.org</p></div></div></div></a></div><figure class="lz ma mb mc gt md gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi pa"><img src="../Images/cb8a444aa2a11a1d7c5118d4c6748989.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Cl2to3gCOgHq6VHk"/></div></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk translated"><a class="ae mn" href="https://unsplash.com/@ecasap?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">伊莱恩·卡萨普</a>在<a class="ae mn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure></div><div class="ab cl pb pc hx pd" role="separator"><span class="pe bw bk pf pg ph"/><span class="pe bw bk pf pg ph"/><span class="pe bw bk pf pg"/></div><div class="im in io ip iq"><p id="fa38" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">本文到此为止！</em></p><p id="d704" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">本文中提到的API的文档可以在下面找到:</p><div class="lf lg gp gr lh li"><a href="https://wikipedia.readthedocs.io/en/latest/code.html#api" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab fo"><div class="lk ab ll cl cj lm"><h2 class="bd iu gy z fp ln fr fs lo fu fw is bi translated">维基百科文档-维基百科0.9文档</h2><div class="lp l"><h3 class="bd b gy z fp ln fr fs lo fu fw dk translated">在这里你可以找到wikipedia项目的完整开发者API。内容:在维基百科上搜索查询。关键词…</h3></div><div class="lq l"><p class="bd b dl z fp ln fr fs lo fu fw dk translated">wikipedia.readthedocs.io</p></div></div></div></a></div><div class="lf lg gp gr lh li"><a href="https://www.mediawiki.org/wiki/MediaWiki" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab fo"><div class="lk ab ll cl cj lm"><h2 class="bd iu gy z fp ln fr fs lo fu fw is bi translated">MediaWiki</h2><div class="lp l"><h3 class="bd b gy z fp ln fr fs lo fu fw dk translated">成千上万的网站和成千上万的公司和组织使用MediaWiki软件。它赋予了…</h3></div><div class="lq l"><p class="bd b dl z fp ln fr fs lo fu fw dk translated">www.mediawiki.org</p></div></div><div class="lr l"><div class="pi l lt lu lv lr lw lx li"/></div></div></a></div></div><div class="ab cl pb pc hx pd" role="separator"><span class="pe bw bk pf pg ph"/><span class="pe bw bk pf pg ph"/><span class="pe bw bk pf pg"/></div><div class="im in io ip iq"><p id="6ca2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">感谢阅读！</em></p><div class="lf lg gp gr lh li"><a href="https://bamania-ashish.medium.com/membership" rel="noopener follow" target="_blank"><div class="lj ab fo"><div class="lk ab ll cl cj lm"><h2 class="bd iu gy z fp ln fr fs lo fu fw is bi translated">通过我的推荐链接加入Medium-Ashish Bama nia博士</h2><div class="lp l"><h3 class="bd b gy z fp ln fr fs lo fu fw dk translated">阅读Ashish Bamania博士(以及Medium上成千上万的其他作家)的每一个故事。您的会员费直接…</h3></div><div class="lq l"><p class="bd b dl z fp ln fr fs lo fu fw dk translated">bamania-ashish.medium.com</p></div></div><div class="lr l"><div class="pj l lt lu lv lr lw lx li"/></div></div></a></div></div></div>    
</body>
</html>