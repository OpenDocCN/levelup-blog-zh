<html>
<head>
<title>How to Add Two-Factor Authentication (2FA) Using Java and Spark</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Java和Spark添加双因素认证(2FA)</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-add-two-factor-authentication-2fa-using-java-and-spark-6389409159b8?source=collection_archive---------8-----------------------#2020-09-01">https://levelup.gitconnected.com/how-to-add-two-factor-authentication-2fa-using-java-and-spark-6389409159b8?source=collection_archive---------8-----------------------#2020-09-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/b3800d9660ee8bf96b914af3098c163b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ea8GfewFPpEBDXOPmdodIA.png"/></div></div></figure><p id="a89d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">双因素认证(2FA)是一种越来越流行的防止欺诈注册的方法。它通过添加额外的安全层来工作，不仅需要传统的用户名和密码，还需要用户拥有的东西。那是典型的他们的手机。</p><p id="90c6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在本教程中，您将学习如何为您的web应用程序和服务实现2FA。为此，我们将创建一个简单的网页，要求用户使用他们的手机号码注册。我们将使用<a class="ae kz" href="https://developer.nexmo.com/verify/overview" rel="noopener ugc nofollow" target="_blank">验证API </a>生成一个确认码，并通过短信发送到该号码。</p><p id="6cf9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果用户可以访问他们注册时使用的号码，他们将会收到代码。然后，我们的应用程序会提示他们输入信息以完成注册过程。</p><h1 id="ca2f" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">先决条件</h1><p id="8625" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">我们将使用Java和<a class="ae kz" href="http://sparkjava.com/" rel="noopener ugc nofollow" target="_blank"> Spark web框架</a>构建这个应用程序，并使用<a class="ae kz" href="https://handlebarsjs.com/" rel="noopener ugc nofollow" target="_blank">手柄模板引擎</a>为UI元素创建一些简单的视图。</p><p id="7b2b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您将需要以下内容:</p><ul class=""><li id="ea06" class="md me it kd b ke kf ki kj km mf kq mg ku mh ky mi mj mk ml bi translated">JDK 或其开源等价物<a class="ae kz" href="https://openjdk.java.net/install/" rel="noopener ugc nofollow" target="_blank"> OpenJDK </a>。本教程是用OpenJDK 11编写的，但版本8或以上都可以。</li><li id="e3f2" class="md me it kd b ke mm ki mn km mo kq mp ku mq ky mi mj mk ml bi translated"><a class="ae kz" href="https://gradle.org/install/" rel="noopener ugc nofollow" target="_blank">Gradle</a>(3.4或更高版本)来构建你的项目并管理它的依赖项。</li></ul><p id="6e34" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">你可以在GitHub 上找到这个教程<a class="ae kz" href="https://github.com/nexmo-community/two-factor-auth" rel="noopener ugc nofollow" target="_blank">的源代码。</a></p><h1 id="8090" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">Vonage API帐户</h1><p id="1214" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">要完成本教程，您将需要一个<a class="ae kz" href="http://developer.nexmo.com/ed?c=blog_text&amp;ct=2020-08-18-how-to-add-two-factor-authentication-using-java-and-spark" rel="noopener ugc nofollow" target="_blank"> Vonage API帐户</a>。如果你还没有，你可以今天就<a class="ae kz" href="http://developer.nexmo.com/ed?c=blog_text&amp;ct=2020-08-18-how-to-add-two-factor-authentication-using-java-and-spark" rel="noopener ugc nofollow" target="_blank">注册</a>并开始用免费信用点数进行构建。一旦你有了一个帐户，你可以在<a class="ae kz" href="http://developer.nexmo.com/ed?c=blog_text&amp;ct=2020-08-18-how-to-add-two-factor-authentication-using-java-and-spark" rel="noopener ugc nofollow" target="_blank"> Vonage API仪表板</a>的顶部找到你的API密匙和API秘密。</p><figure class="mr ms mt mu gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/6dc7abca7b68dbbf89db9e5e58f4614c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0KH114LCB-oStk69"/></div></div></figure><h1 id="2ae5" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">创建您的项目</h1><p id="5cdb" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">为您的项目创建一个名为<code class="fe mv mw mx my b">two-factor-auth</code>的目录，切换到该目录，然后使用<code class="fe mv mw mx my b">gradle</code>来初始化项目:</p><figure class="mr ms mt mu gt ju"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="9941" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">接受所有默认值，然后在IDE中打开生成的项目。</p><h1 id="1fcc" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">初始化相关性</h1><p id="fee2" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">找到<code class="fe mv mw mx my b">build.gradle</code>文件，并用以下内容替换<code class="fe mv mw mx my b">dependencies</code>部分:</p><figure class="mr ms mt mu gt ju"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="306e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这个例子中我们不会写任何单元测试，但是你可以暂时把<code class="fe mv mw mx my b">JUnit</code>留在那里。然而，为了防止它以后抱怨缺少问候方法，在<code class="fe mv mw mx my b">src/test/java/two/factor/auth/AppTest.java</code>中注释掉测试，如下所示:</p><figure class="mr ms mt mu gt ju"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="f98b" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">创建Spark Web应用程序</h1><p id="350c" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated"><code class="fe mv mw mx my b">gradle</code>在<code class="fe mv mw mx my b">src/main/java/two/factor/auth/App.java</code>文件夹中创建了<code class="fe mv mw mx my b">App</code>类。</p><p id="56b3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在IDE中打开<code class="fe mv mw mx my b">App.java</code>。移除<code class="fe mv mw mx my b">gradle</code>为您创建的<code class="fe mv mw mx my b">getGreeting()</code>方法，并为<code class="fe mv mw mx my b">spark</code>包添加必要的<code class="fe mv mw mx my b">import</code>语句。</p><p id="d7a3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后，调用Spark的<code class="fe mv mw mx my b">port</code>方法来指示您的应用程序正在侦听端口3000上的请求。</p><p id="1b62" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">你的<code class="fe mv mw mx my b">App.java</code>应该是这样的:</p><figure class="mr ms mt mu gt ju"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="0927" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">初始化Java客户端库</h1><p id="4119" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">要访问Verify API，您需要使用用于Java的<a class="ae kz" href="https://github.com/nexmo/nexmo-java" rel="noopener ugc nofollow" target="_blank"> REST API客户端库</a>。</p><p id="e463" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如下所示实例化它，用您的API密钥和来自<a class="ae kz" href="https://dashboard.nexmo.com" rel="noopener ugc nofollow" target="_blank">开发者仪表板</a>的秘密替换<code class="fe mv mw mx my b">YOUR_API_KEY</code>和<code class="fe mv mw mx my b">YOUR_API_SECRET</code>。确保包含使用Verify API所需的必要的<code class="fe mv mw mx my b">import</code>语句:</p><figure class="mr ms mt mu gt ju"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="24a0" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">创建视图</h1><p id="14ba" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">你的申请将有三页:</p><ul class=""><li id="6a63" class="md me it kd b ke kf ki kj km mf kq mg ku mh ky mi mj mk ml bi translated">初始<strong class="kd iu">注册页面</strong>，您的用户将通过输入他们的手机号码注册您的服务。</li><li id="94ae" class="md me it kd b ke mm ki mn km mo kq mp ku mq ky mi mj mk ml bi translated">一个<strong class="kd iu">确认页面</strong>，将要求他们输入由Verify API发送给他们的移动设备的确认码。</li><li id="d21f" class="md me it kd b ke mm ki mn km mo kq mp ku mq ky mi mj mk ml bi translated">一个<strong class="kd iu">结果页面</strong>，应用程序会显示他们已经注册成功(如果他们输入了正确的确认码)或者注册失败(如果他们没有)。</li></ul><p id="35cd" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Spark支持许多不同的模板引擎，这使得你可以动态地将内容插入到你的HTML页面中，并且重用HTML块。在本教程中，我们将使用<a class="ae kz" href="https://handlebarsjs.com/" rel="noopener ugc nofollow" target="_blank">手柄</a>。</p><p id="cf51" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">因为我们想在这里重点教你如何使用Verify API，所以我们不会在这篇文章中描述它们是如何工作的，而是要求你从<a class="ae kz" href="https://github.com/nexmo-community/two-factor-auth" rel="noopener ugc nofollow" target="_blank">我们的GitHub repo </a>下载你需要的内容。</p><p id="7106" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">首先，在您的<code class="fe mv mw mx my b">App.java</code>文件中包含以下导入，这将使您能够使用车把:</p><figure class="mr ms mt mu gt ju"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="18cb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后，创建<code class="fe mv mw mx my b">src/main/resources/public</code>和<code class="fe mv mw mx my b">src/main/resources/templates</code>目录。</p><p id="c4fe" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">将<a class="ae kz" href="https://github.com/nexmo-community/two-factor-auth/blob/master/src/main/resources/public/styles.css" rel="noopener ugc nofollow" target="_blank"> styles.css </a>文件的内容复制到<code class="fe mv mw mx my b">src/main/resources/public/styles.css</code>中。</p><p id="617c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后将GitHub 上<a class="ae kz" href="https://github.com/nexmo-community/two-factor-auth/tree/master/src/main/resources/templates" rel="noopener ugc nofollow" target="_blank"> resources文件夹中的<code class="fe mv mw mx my b">*.hbs</code>模板文件复制到<code class="fe mv mw mx my b">src/main/resources/templates</code>中。</a></p><p id="d93d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">通过在<code class="fe mv mw mx my b">App.java</code>中的<code class="fe mv mw mx my b">main</code>方法中指定其父文件夹(<code class="fe mv mw mx my b">public</code>)的位置，确保您的应用程序知道<code class="fe mv mw mx my b">styles.css</code>静态CSS文件:</p><figure class="mr ms mt mu gt ju"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="5235" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">显示初始注册页面</h1><p id="a850" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">当您的用户第一次访问您的站点时，您希望显示注册页面。通过使用<code class="fe mv mw mx my b">spark</code>定义默认路线(<code class="fe mv mw mx my b">/</code>，并渲染<code class="fe mv mw mx my b">register.hbs</code>模板，如下所示:</p><figure class="mr ms mt mu gt ju"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="2f8c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">通过执行<code class="fe mv mw mx my b">gradle run</code>然后在浏览器中访问<code class="fe mv mw mx my b">http://localhost:3000</code>来测试您的应用。如果您已经正确设置了所有内容，您将看到以下页面:</p><figure class="mr ms mt mu gt ju gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/20f9fb34a4ed58c8dbfd7c8957056ce8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1316/0*ENmbfB0L3l4nc2XR"/></div></figure><h1 id="d531" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">提交验证请求</h1><p id="47bb" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">用户必须在注册页面的文本框中输入手机号码，然后点击<strong class="kd iu">注册</strong>开始验证过程。</p><p id="1c68" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Verify API希望该号码包含国际拨号代码，但忽略任何前导零。比如英国数字<code class="fe mv mw mx my b">07700 900001</code>就应该用<code class="fe mv mw mx my b">447700900001</code>来表示。</p><p id="1097" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在生产应用程序中，您可能希望以编程方式确定正确的区域设置和国家代码，我们有一个API来实现这一点！查看<a class="ae kz" href="https://developer.nexmo.com/number-insight/code-snippets/number-insight-basic" rel="noopener ugc nofollow" target="_blank">数字洞察API </a>。不过现在，让我们保持简单。</p><p id="1bfb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当用户点击<strong class="kd iu"> Register </strong>时，我们希望获取他们输入的数字并提交验证请求。</p><p id="dab1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">每个验证请求都与一个验证ID相关联。我们也需要保存一份记录，这样我们就可以用它来检查用户是否输入了正确的确认码。</p><p id="c2bd" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">所以添加两个类级别的变量来存储这些信息，放在您之前填充的<code class="fe mv mw mx my b">API_KEY</code>和<code class="fe mv mw mx my b">API_SECRET</code>变量下面:</p><figure class="mr ms mt mu gt ju"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="1ae5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们将从<code class="fe mv mw mx my b">/register</code>路线提交验证请求，因此将路线定义如下:</p><figure class="mr ms mt mu gt ju"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="eda2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这段代码触发验证请求，首先检索一个<code class="fe mv mw mx my b">VerifyClient</code>的实例，然后调用它的<code class="fe mv mw mx my b">verify</code>方法，传入我们想要验证的数字和一个用于在SMS消息正文中标识发送者的字母数字字符串。</p><p id="37ac" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">它返回一个<code class="fe mv mw mx my b">VerifyResponse</code>对象，我们可以用它来检查请求是否成功发出。如果是这样，我们检索验证请求ID，并在下一步中使用它来检查发送给用户的特定验证尝试的代码。</p><p id="4b41" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">一旦我们提交了验证请求，用户将通过短信收到一个验证码:</p><figure class="mr ms mt mu gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nc"><img src="../Images/b196226a6503072998a264117a3cb2f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HBQtDEDPaj_LyP5E"/></div></div></figure><p id="bf51" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们呈现<code class="fe mv mw mx my b">verify.hbs</code>视图，允许他们输入收到的代码:</p><figure class="mr ms mt mu gt ju gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/f50194507717ecd171adc8313fd92044.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/0*9WC8PilwP5rjbAMX"/></div></figure><p id="73c1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">默认情况下，发送SMS后，Verify API会等待125秒的代码。如果在这段时间内没有收到，它会进行两次文本到语音转换电话呼叫，最终放弃验证尝试并失败。您可以通过<a class="ae kz" href="https://developer.nexmo.com/verify/guides/workflows-and-events" rel="noopener ugc nofollow" target="_blank">阅读文档</a>了解更多关于默认工作流程以及如何启用不同工作流程的信息。</p><h1 id="9457" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">检查确认码</h1><p id="3807" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">我们现在需要提供必要的逻辑来验证他们输入的代码。为此创建<code class="fe mv mw mx my b">/check</code>路线:</p><figure class="mr ms mt mu gt ju"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="5879" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这段代码使用了<code class="fe mv mw mx my b">VerifyClient.check</code>方法，向它传递我们在验证请求步骤中存储的请求ID和用户在<code class="fe mv mw mx my b">verify.hbs</code>视图中输入的代码。</p><p id="d703" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe mv mw mx my b">check</code>方法返回一个<code class="fe mv mw mx my b">CheckResponse</code>对象。我们使用它的<code class="fe mv mw mx my b">getStatus</code>方法来确定用户是否输入了正确的代码，并在<code class="fe mv mw mx my b">result.hbs</code>视图中显示适当的响应。如果用户正确输入了代码，我们会收到以下消息:</p><figure class="mr ms mt mu gt ju gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/3162b43cda522d9454f76ce23aac8ac9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/0*d-88RlYFvlnXN-Yg"/></div></figure><h1 id="79b7" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">试试吧！</h1><ol class=""><li id="7a24" class="md me it kd b ke ly ki lz km ne kq nf ku ng ky nh mj mk ml bi translated">在您的终端中执行<code class="fe mv mw mx my b">gradle run</code>。</li><li id="da9f" class="md me it kd b ke mm ki mn km mo kq mp ku mq ky nh mj mk ml bi translated">在浏览器中访问<code class="fe mv mw mx my b">http://localhost:3000</code>。</li><li id="bdd7" class="md me it kd b ke mm ki mn km mo kq mp ku mq ky nh mj mk ml bi translated">输入您的手机号码，点击<strong class="kd iu">注册</strong>。过一会儿，你会收到一条包含验证码的短信。</li><li id="fe79" class="md me it kd b ke mm ki mn km mo kq mp ku mq ky nh mj mk ml bi translated">输入验证码，点击<strong class="kd iu">检查</strong>。</li><li id="e55a" class="md me it kd b ke mm ki mn km mo kq mp ku mq ky nh mj mk ml bi translated">如果您成功输入了代码，您将收到一条“注册成功”的消息。</li></ol><h1 id="83c1" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">结论</h1><p id="e260" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">这是使用Verify API在Java web应用程序中实现双因素身份验证的基础。要了解更多信息，请参阅下面提供的文档链接。</p><h1 id="e4ca" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">进一步阅读</h1><ul class=""><li id="0aab" class="md me it kd b ke ly ki lz km ne kq nf ku ng ky mi mj mk ml bi translated"><a class="ae kz" href="https://www.nexmo.com/products/verify" rel="noopener ugc nofollow" target="_blank">关于验证API的一般信息</a></li><li id="cf5d" class="md me it kd b ke mm ki mn km mo kq mp ku mq ky mi mj mk ml bi translated"><a class="ae kz" href="https://developer.nexmo.com/verify/overview" rel="noopener ugc nofollow" target="_blank">验证API文件</a></li><li id="1ccb" class="md me it kd b ke mm ki mn km mo kq mp ku mq ky mi mj mk ml bi translated"><a class="ae kz" href="https://developer.nexmo.com/api/verify" rel="noopener ugc nofollow" target="_blank">验证API参考</a></li><li id="7cc0" class="md me it kd b ke mm ki mn km mo kq mp ku mq ky mi mj mk ml bi translated"><a class="ae kz" href="https://developer.nexmo.com/number-insight/overview" rel="noopener ugc nofollow" target="_blank">数字洞察API </a></li></ul></div><div class="ab cl ni nj hx nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="im in io ip iq"><p id="5c27" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><em class="np">原载于</em><a class="ae kz" href="https://www.nexmo.com/blog/2020/08/18/how-to-add-two-factor-authentication-using-java-and-spark" rel="noopener ugc nofollow" target="_blank"><em class="np">https://www . NEX mo . com/blog/2020/08/18/how-to-add-two-factor-authentic ation-using-Java-and-spark</em></a></p></div></div>    
</body>
</html>