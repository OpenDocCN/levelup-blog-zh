<html>
<head>
<title>Generating accessible color combinations for the web</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为网页生成可访问的颜色组合</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/generating-accessible-color-combinations-for-the-web-911fba08db89?source=collection_archive---------13-----------------------#2020-05-14">https://levelup.gitconnected.com/generating-accessible-color-combinations-for-the-web-911fba08db89?source=collection_archive---------13-----------------------#2020-05-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b8a1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">利用创成式设计为每位参观者创造独特的体验</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5bbd2a0ddffd5209c7ee9089656d6535.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i7E8wD96eRM6fpIBRCgfjQ.png"/></div></div></figure><p id="5e48" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">嘿大家好！这将是一个简短的帖子，但是我想向你展示在客户端为你的网站随机生成配色方案是多么容易。对于用户来说，这是一个非常有趣的体验，但我认为这对大多数网站来说没有意义，因为大多数企业(甚至个人)都希望坚持更标准的配色方案，这样他们就可以与他们的品牌身份保持一致。然而，如果你发现这些可访问的组合很酷，请与我分享，我很乐意看到！</p><p id="5aed" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在让我们来看看实际的代码。有几种方法可以做到这一点，我最近发现了一个名为colors2k的小(不到2kb) npm包，它提供了这一功能，但我也想向您展示只使用普通的JS也可以做到这一点，所以让我们先从最简单的方法开始。对于所有这些例子，我使用的是一个普通的HTML页面，它是用<a class="ae lq" href="https://parceljs.org/" rel="noopener ugc nofollow" target="_blank">包</a>捆绑的，并且还引入了一个修改版的<a class="ae lq" href="https://grotesk.now.sh" rel="noopener ugc nofollow" target="_blank"> grotesk </a>来进行基本的样式设计。</p><h1 id="340b" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">设置</h1><p id="6733" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">对于那些不熟悉的人，这是创建新地块项目的方法。其他想直接跳到组合生成的人<a class="ae lq" href="https://gist.github.com/kartiknair/b3359ee9c54aab81bd3bccbd592077fa#generating-the-combos" rel="noopener ugc nofollow" target="_blank">点击这里</a>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="56df" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们创建一个<code class="fe mq mr ms mt b">src</code>目录，并添加我们的HTML和JavaScript文件。我使用的只是普通的HTML样板文件，你可能已经看过无数次了:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="6c70" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然后向您的<code class="fe mq mr ms mt b">package.json</code>添加以下脚本:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure><h1 id="9601" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">生成组合</h1><p id="f89f" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">太好了，我们都准备好了。现在我们可以实际安装我告诉你的软件包了:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="902f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在让我们将它导入到我们的JS文件中，并使用它的对比度函数:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="dc15" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如你所见，这很酷。但是在十六进制提供的1600多万种颜色中循环是非常不必要的，而且看起来也不那么好。相反，一个更好的主意是找到一个看起来不错的颜色列表，并在列表中找到可访问的组合。这就是我所做的，经过一番搜索，我发现了两个很好的选项<a class="ae lq" href="https://cloudflare.design/colors" rel="noopener ugc nofollow" target="_blank">cloud flare designs color pallete</a>和颜色命名项目中的<a class="ae lq" href="https://unpkg.com/color-name-list@5.23.0/dist/colornames.bestof.json" rel="noopener ugc nofollow" target="_blank"> best。这两个列表都仍然很大，但cloudflare列表要小得多，所以我将选择它，但正如您所看到的，那里有更多的选项。</a></p><p id="43ff" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我创建了一个<code class="fe mq mr ms mt b">colors.js</code>文件，并从那里导出了颜色json。因此，现在在我的索引文件中，我可以遍历它们中的每一个，以获得一个有效的组合(我所说的有效是指根据WCAG标准可以访问的组合，因此对比度大于7.1)。一旦我得到一个有效的组合，我就用这些颜色创建一个样式元素，并把它附加到文档的头部:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="759d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">很简单，对吧？结果看起来非常令人愉快:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/f215255e9af59956967e112e413c62c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*yr8RKGL1QFRzoYpRx1CUeQ.gif"/></div></figure><h1 id="1bec" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">学习如何自己去做</h1><p id="56da" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">虽然使用一个库很棒(尤其是一个制作精良的库),但我们理解它是如何工作的也很重要。所以我决定我们可以自己学习如何做这件事。获得对比度的推荐方法是用较浅颜色的<strong class="kw iu">相对亮度</strong>除以较深颜色的相对亮度。你问什么是相对亮度？嗯，这是一种颜色的相对亮度——基本上是指如果图像是黑白的，它与黑色有多接近(0表示纯白，一点也不接近，1表示纯黑)。</p><p id="c55c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">那我们怎么计算呢？谢天谢地，WCAG对此也有指导方针。要实现这个公式，你必须要有RGB格式的颜色，所以我们也需要实现十六进制→ RGB转换。</p><p id="dfcb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这非常容易实现，因为我们只需要将字符串分成2个组，然后使用内置的<code class="fe mq mr ms mt b">parseInt</code>函数转换它们的基数:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="d5c8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">不错！这很简单。现在让我们用WCAG给出的公式来实现相对亮度公式。这是他们网站上的公式:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/d2f68612e0c37a1789958c956f54538a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4bxd0ZFJurU6BLgTzrVXqA.png"/></div></div></figure><p id="fb19" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">所以画出来会是这样的。从我们的RGB数组中取出每个值，除以255，然后根据其大小，执行给出的两个公式之一。一旦我们有了每个通道的3个值，我们将做顶部给出的最终公式来得到我们的亮度。听起来不错？我们来编码一下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="f276" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们已经非常接近结果了。我们所要做的就是实现最后的公式，比较两种颜色的亮度。具体来说，我们必须检查哪个是打火机，在这个公式中必须是L1:<code class="fe mq mr ms mt b">(L1 + 0.05) / (L2 + 0.05)</code>。让我们来实现它:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="a9b3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">就这样，我们成功了！下面是我们的普通实现的完整代码，其执行方式与使用<code class="fe mq mr ms mt b">colors2k</code>库完全相同:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="cc03" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">酷，这就是这篇文章的内容。我希望你会发现这个小片段很有用，并用它做一些很酷的东西。你可以在<a class="ae lq" href="https://accessible-combos.now.sh" rel="noopener ugc nofollow" target="_blank">https://accessible-combos . now . sh</a>现场观看，或者在【https://github.com/kartiknair/accessible-combos】查看代码。感谢阅读，如果你想打招呼，请在推特上联系我，我是<a class="ae lq" href="https://twitter.com/kartikajitnair/" rel="noopener ugc nofollow" target="_blank"> @kartikajitnair </a>。注意安全，✌.</p></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><p id="3850" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="nd">原载于</em><a class="ae lq" href="https://kartikn.me/writing/accessible-combos" rel="noopener ugc nofollow" target="_blank"><em class="nd">https://kartikn.me/writing/accessible-combos</em></a><em class="nd">。</em></p></div></div>    
</body>
</html>