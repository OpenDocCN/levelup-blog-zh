<html>
<head>
<title>Use Cloudflare JavaScript Workers to Deploy Your Static Generated Site (SSG)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨Cloudflare JavaScript Workerséƒ¨ç½²é™æ€ç”Ÿæˆçš„ç«™ç‚¹(SSG)</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/use-cloudflare-javascript-workers-to-deploy-you-static-generated-site-ssg-1c518e078646?source=collection_archive---------3-----------------------#2020-01-30">https://levelup.gitconnected.com/use-cloudflare-javascript-workers-to-deploy-you-static-generated-site-ssg-1c518e078646?source=collection_archive---------3-----------------------#2020-01-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/be510e2e906c20e1b4dafca719ee8082.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QKXN1T-TjDqld67y4i-P1Q.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">æ¥è‡ª<a class="ae kf" href="https://www.pexels.com/photo/man-sitting-on-edge-facing-sunset-915972/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>çš„<a class="ae kf" href="https://www.pexels.com/@abhiram2244?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Abhiram Prakash </a>æ‘„å½±</figcaption></figure><p id="68cc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">é™æ€ç«™ç‚¹ç”Ÿæˆå™¨æ­£åœ¨æˆä¸ºæ„å»ºå’Œéƒ¨ç½²ä¸éœ€è¦æœåŠ¡å™¨ç«¯å‘ˆç°çš„webåº”ç”¨ç¨‹åºçš„å®é™…æ–¹å¼ã€‚è¿™äº›åº”ç”¨ç¨‹åºçš„é¡µé¢ä¸éœ€è¦å®é™…çš„webæœåŠ¡å™¨æ¥åŠ¨æ€å‘ˆç°å†…å®¹ã€‚éœ€è¦æœåŠ¡å™¨çš„é¡µé¢ç±»å‹é€šå¸¸å—åˆ°èº«ä»½éªŒè¯å¢™çš„ä¿æŠ¤ã€‚å¯èƒ½ä¼šæœ‰å…¶ä»–ç«™ç‚¹åœ¨æœåŠ¡å™¨ä¸Šä¸ºSEOç”ŸæˆåŠ¨æ€å†…å®¹ã€‚</p><p id="5c31" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae kf" href="https://gohugo.io/" rel="noopener ugc nofollow" target="_blank"> Hugo </a>ã€<a class="ae kf" href="https://www.gatsbyjs.org/" rel="noopener ugc nofollow" target="_blank"> Gatsby </a>å’Œ<a class="ae kf" href="https://nextjs.org/" rel="noopener ugc nofollow" target="_blank"> NextJS </a>æ˜¯è¿™ä¸ªé¢†åŸŸæœ€å—æ¬¢è¿çš„è§£å†³æ–¹æ¡ˆã€‚å®ƒä»¬éƒ½åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­æ„å»ºç”±ä¸€ç»„æ–‡ä»¶(HTMLã€CSSã€JavaScriptã€å›¾åƒ)ç»„æˆçš„è¾“å‡ºï¼Œç„¶åæˆ‘ä»¬å¯ä»¥ç”¨å¸¸è§„æœåŠ¡å™¨(NGINXã€Apacheç­‰)å°†å®ƒä»¬æä¾›ç»™ç”¨æˆ·ã€‚)æˆ–è€…æœ€å¥½é€šè¿‡CDN(å†…å®¹äº¤ä»˜ç½‘ç»œ),å› ä¸ºæˆ‘ä»¬ä¸éœ€è¦æœåŠ¡å™¨ä¸šåŠ¡é€»è¾‘ã€‚åªæœ‰CDNå°†ç”¨ä½œæºçš„æ–‡ä»¶å­˜å‚¨ã€‚</p><p id="f02c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">é™¤äº†è¿™äº›å·¥ä»¶ï¼Œä¸€äº›é™æ€spaï¼Œå°¤å…¶æ˜¯ç”¨<code class="fe le lf lg lh b">react-router</code>å¼€å‘çš„åº”ç”¨ï¼Œå¯èƒ½éœ€è¦é¢å¤–çš„é…ç½®ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†æ‰€æœ‰è·¯å¾„é‡å®šå‘åˆ°ä¸€ä¸ªæ–‡ä»¶æ¥å®ç°è¿™ä¸€ç‚¹ã€‚è¿™å¯ä»¥åœ¨è´Ÿè½½å¹³è¡¡å™¨ä¸Šå®ç°ï¼Œç”šè‡³å¯ä»¥é€šè¿‡Cloudflare Workersæœ¬èº«å®ç°ã€‚</p><p id="670c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åˆ°ç›®å‰ä¸ºæ­¢ï¼Œåœ¨æ‰€æœ‰è¿™äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦å°†æ–‡ä»¶å­˜å‚¨åœ¨æŸä¸ªåœ°æ–¹ã€‚ä½¿ç”¨S3æ¡¶å’ŒCloudfrontå‘è¡Œç‰ˆçš„AWSä¸€ç›´æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚è¿™ç¯‡æ–‡ç« çš„ç›®çš„æ˜¯å±•ç¤ºå¦ä¸€ç§è§£å†³æ–¹æ¡ˆã€‚ä½¿ç”¨æœ€æ–°çš„Workers KVæ•°æ®å­˜å‚¨ç›´æ¥éƒ¨ç½²åˆ°Cloudflare Workersã€‚</p><p id="ccf6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="li">æˆ‘å¿…é¡»æŒ‡å‡ºï¼ŒCloudflare Workerçš„æœ€åˆç›®çš„æ˜¯å°†è®¡ç®—å¸¦åˆ°è¾¹ç¼˜ã€‚æ— æœåŠ¡å™¨å¹³å°ã€‚ç”±äºWorkers KV storeçš„å¯ç”¨æ€§ï¼Œéƒ¨ç½²é™æ€ç«™ç‚¹æ˜¯å¦ä¸€ä¸ªå—æ”¯æŒçš„ç”¨ä¾‹ã€‚</em></p><h2 id="9917" class="lj lk it bd ll lm ln dn lo lp lq dp lr kr ls lt lu kv lv lw lx kz ly lz ma mb bi translated">ä»€ä¹ˆæ˜¯å·¥äºº</h2><p id="bc98" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">Cloudflare Workeræ˜¯ä¸€æ®µJavaScriptä»£ç ï¼Œæ¯å½“æ‚¨è®¿é—®Cloudflareä»£ç†çš„ç½‘ç«™ä¸Šçš„ç‰¹å®šè·¯çº¿æ—¶ï¼Œå®ƒéƒ½ä¼šè¿è¡Œã€‚åœ¨è¯·æ±‚åˆ°è¾¾Cloudflareçš„ç¼“å­˜ä¹‹å‰ï¼Œä»£ç ä¼šåœ¨æ¯ä¸ªè¯·æ±‚<em class="li">ä¸Šæ‰§è¡Œã€‚è¿™æ„å‘³ç€å·¥ä½œå™¨å“åº”ä¸ä¼šè¢«ç¼“å­˜(å°½ç®¡å·¥ä½œå™¨å‘å…¶ä»–webæœåŠ¡å‘å‡ºçš„è¯·æ±‚å¯èƒ½ä¼šä½¿ç”¨é€‚å½“çš„ç¼“å­˜å¤´è¿›è¡Œç¼“å­˜)ã€‚</em></p><p id="3a5e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å·¥äººæ˜¯åœ¨ä¸€ä¸ªå®‰å…¨çš„ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å®‰å…¨åœ°åœ¨å…¶ä¸­åŒ…å«ç§˜å¯†ã€‚å·¥ä½œè€…ä¸èƒ½è®¿é—®å¦ä¸€ä¸ªå·¥ä½œè€…çš„ä¸Šä¸‹æ–‡ã€‚</p><p id="f448" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä»¥ä¸‹æ˜¯åŸºç¡€å·¥:</p><figure class="mh mi mj mk gt ju"><div class="bz fp l di"><div class="ml mm l"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">ä½ å¥½å·¥äºº</figcaption></figure><h2 id="2b1c" class="lj lk it bd ll lm ln dn lo lp lq dp lr kr ls lt lu kv lv lw lx kz ly lz ma mb bi translated">é…ç½®åŸŸ/è·¯ç”±/å·¥ä½œè€…</h2><p id="8b3f" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">è®©æˆ‘ä»¬éƒ¨ç½²ç¬¬ä¸€ä¸ªå·¥äººã€‚é¦–å…ˆï¼Œæ‚¨éœ€è¦åœ¨Cloudflareä¸Šé…ç½®ä¸€ä¸ªåŸŸã€‚æˆ‘çš„ä»ªè¡¨ç›˜ä¸Šå·²ç»æœ‰<code class="fe le lf lg lh b">outsrc.dev</code>äº†ã€‚</p><p id="64f8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨DNSéƒ¨åˆ†ï¼Œä¸ºæŒ‡å‘<code class="fe le lf lg lh b">192.2.0.1</code>çš„å­åŸŸ<code class="fe le lf lg lh b">www</code>æ·»åŠ ä¸€ä¸ªæ³¨å†Œè¡¨ç±»å‹Aã€‚è¿™ä¸ªIPå·ç è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªæ²¡æœ‰äººèƒ½å¤Ÿè§£å†³çš„é—®é¢˜ã€‚æˆ‘ä»¬çš„å·¥ä½œäººå‘˜ä¼šæ‹¦æˆªæ‰€æœ‰è¯·æ±‚ã€‚</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mn"><img src="../Images/0a0a62f5ca883ddabdb649d85dc63d71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LO8jBTquOVDbg-Wjy5VkIA.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">æˆ‘ä»¬å°†www.outsrc.devæ˜ å°„åˆ°192.2.0.1</figcaption></figure><p id="b3a3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç„¶åæˆ‘ä»¬å¯ä»¥åœ¨workeré€‰é¡¹å¡ä¸Šåˆ›å»ºä¸€ä¸ªworkerã€‚</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mn"><img src="../Images/75cb88a9074b01fedf9145cb2b0d99ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YcBFyeYvl3YLD9EYwtFNGQ.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">å·¥äººå°ç»„</figcaption></figure><p id="97be" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨Workersé¢æ¿ä¸­åˆ›å»ºæ–°çš„Workerï¼Œæ›´æ”¹åç§°(æˆ‘ä½¿ç”¨äº†<code class="fe le lf lg lh b">hello-worker</code>)å¹¶ç‚¹å‡»Save and Deployã€‚æ‰€æœ‰å·¥äººéƒ½å¯ä»¥è¢«è‡ªåŠ¨éƒ¨ç½²åˆ°ä¸€ä¸ªæ¼”ç¤ºå·¥ä½œåŒºï¼Œåœ¨æˆ‘çš„æƒ…å†µä¸‹ï¼Œæœ€ç»ˆæˆä¸ºäº†<a class="ae kf" href="https://hello-worker.outsrc.workers.dev/" rel="noopener ugc nofollow" target="_blank">https://hello-worker.outsrc.workers.dev/</a></p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mn"><img src="../Images/8952d1fa9d3c7e96d2d1726e7a6d08af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*056vvJvLUeETG7HEVUU55w.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">å·¥äººç¼–è¾‘å™¨</figcaption></figure><p id="4e81" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¸€æ—¦éƒ¨ç½²å®Œæˆï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨æˆ‘ä»¬çš„ä¸»<code class="fe le lf lg lh b">outsrc.dev</code>åŸŸä¸Šè¿è¡Œè¿™ä¸ªworkerï¼Œç”šè‡³å¯ä»¥åœ¨ä¸€ä¸ªå•ä¸€çš„è·¯ç”±è·¯å¾„ä¸Šè¿è¡Œã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦è½¬åˆ°ä¸»å¸æˆ·ä»ªè¡¨æ¿å¹¶é€‰æ‹©Workersé€‰é¡¹å¡ã€‚</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mn"><img src="../Images/e620186c5cbefbd51f7d210c2482e8cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HI4PtHllaKJB3jszkzEWaw.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">å·¥äººæ ‡ç­¾</figcaption></figure><p id="00d7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç”¨<code class="fe le lf lg lh b">www.outsrc.dev/hello</code>æ·»åŠ è·¯çº¿å¹¶é€‰æ‹©æ‚¨æœ€è¿‘éƒ¨ç½²çš„<code class="fe le lf lg lh b">hello-worker</code>å·¥äººã€‚</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mn"><img src="../Images/ec283a6db015314801f719fa413402fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yqYHS0JpkoXLTCptlkNmpw.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">ä½ å¥½å·¥äººè¢«å‘é€åˆ°www.outsrc.dev/hello</figcaption></figure><p id="d466" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç°åœ¨æˆ‘ä»¬å¯ä»¥ç›´æ¥è®¿é—®è¿™ä¸ªç½‘å€:<a class="ae kf" href="https://www.outsrc.dev/hello" rel="noopener ugc nofollow" target="_blank">https://www.outsrc.dev/hello</a></p><pre class="mh mi mj mk gt mo lh mp mq aw mr bi"><span id="1559" class="lj lk it lh b gy ms mt l mu mv">$ http <a class="ae kf" href="https://www.outsrc.dev/hello" rel="noopener ugc nofollow" target="_blank">https://www.outsrc.dev/hello</a><br/>HTTP/1.1 200 OK<br/>CF-RAY: 55d4285c0f45d4ed-MIA<br/>Connection: keep-alive<br/>Content-Length: 11<br/>Content-Type: text/plain;charset=UTF-8<br/>Date: Thu, 30 Jan 2020 14:32:51 GMT<br/>Expect-CT: max-age=604800, report-uri="<a class="ae kf" href="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct" rel="noopener ugc nofollow" target="_blank">https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct</a>"<br/>Server: cloudflare<br/>Set-Cookie: __cfduid=dbd7b5387c4e90a370fdc89ed5e908f701580394771; expires=Sat, 29-Feb-20 14:32:51 GMT; path=/; domain=.outsrc.dev; HttpOnly; SameSite=Lax<br/>Vary: Accept-Encoding</span><span id="f931" class="lj lk it lh b gy mw mt l mu mv">hello world</span></pre><h2 id="2401" class="lj lk it bd ll lm ln dn lo lp lq dp lr kr ls lt lu kv lv lw lx kz ly lz ma mb bi translated">å·¥å…·ä½œä¸š</h2><p id="8f4b" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">æ‰‹åŠ¨åˆ›å»º/ä¿®æ”¹å·¥ä½œè€…çš„ä»£ç å¯èƒ½ä¼šå˜å¾—å¤æ‚ï¼Œç‰¹åˆ«æ˜¯å› ä¸ºæˆ‘ä»¬å¯èƒ½æƒ³è¦è‡ªåŠ¨åŒ–éƒ¨ç½²Webåº”ç”¨ç¨‹åºçš„æ‰€æœ‰æ­¥éª¤ã€‚</p><p id="ca9a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è¿›å…¥Cloudflareå·¥ä½œäººå‘˜çš„CLIå·¥å…·Wranglerã€‚<a class="ae kf" href="https://developers.cloudflare.com/workers/tooling/wrangler/" rel="noopener ugc nofollow" target="_blank">https://developers.cloudflare.com/workers/tooling/wrangler/</a></p><pre class="mh mi mj mk gt mo lh mp mq aw mr bi"><span id="49ad" class="lj lk it lh b gy ms mt l mu mv">$ npm i @cloudflare/wrangler -g</span></pre><p id="b723" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä½¿ç”¨å‡ ä¸ªå‘½ä»¤å¼•å¯¼/éƒ¨ç½²ç›¸åŒçš„åŸºæœ¬Hello Workerä¹‹å‰é…ç½®èº«ä»½éªŒè¯ã€‚è½¬åˆ°<a class="ae kf" href="https://dash.cloudflare.com/profile/api-tokens" rel="noopener ugc nofollow" target="_blank">https://dash.cloudflare.com/profile/api-tokens</a>ä¸ºç‰§é©¬äººå·¥å…·åˆ›å»ºAPIä»¤ç‰Œã€‚(ä½¿ç”¨Cloudflareå·¥ä½œäººå‘˜çš„æ¨¡æ¿è·å–æƒé™)</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mx"><img src="../Images/303290527af421ae082b90d2bb5dd526.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8ZU0YKMFqhvGdKgWYAk-Cg.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">ä¸ºWrangler CLIå·¥å…·åˆ›å»ºAPIä»¤ç‰Œ</figcaption></figure><pre class="mh mi mj mk gt mo lh mp mq aw mr bi"><span id="cb4c" class="lj lk it lh b gy ms mt l mu mv">$ wrangler config<br/>wrangler config</span><span id="093b" class="lj lk it lh b gy mw mt l mu mv">ğŸ’  To find your API token, go to <a class="ae kf" href="https://dash.cloudflare.com/profile/api-tokens" rel="noopener ugc nofollow" target="_blank">https://dash.cloudflare.com/profile/api-tokens</a><br/> and create it using the "Edit Cloudflare Workers" template</span><span id="6bf2" class="lj lk it lh b gy mw mt l mu mv">ğŸ’  If you are trying to use your Global API Key instead of an API Token<br/> (Not Recommended), run "wrangler config --api-key".</span><span id="d08b" class="lj lk it lh b gy mw mt l mu mv">Enter API token: </span></pre><p id="64b9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">é…ç½®å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡wrangler CLIå·¥å…·åˆ›å»ºæ–°å‘˜å·¥ã€‚</p><pre class="mh mi mj mk gt mo lh mp mq aw mr bi"><span id="0c39" class="lj lk it lh b gy ms mt l mu mv">$ wrangler generate hello-worker <a class="ae kf" href="https://github.com/cloudflare/worker-template" rel="noopener ugc nofollow" target="_blank">https://github.com/cloudflare/worker-template</a></span></pre><p id="adc9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è¿™ä¸ªworkeræ¨¡æ¿æ˜¯ä¸€ä¸ªç®€å•çš„JavaScript Hello Workerã€‚é™¤äº†æ¨¡æ¿çš„å†…å®¹ï¼Œæˆ‘ä»¬è¿˜å°†æœ‰ä¸€ä¸ª<code class="fe le lf lg lh b">wrangler.toml</code>æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«æˆ‘ä»¬éœ€è¦æ›´æ–°çš„è®¾ç½®ï¼Œä¾‹å¦‚:</p><ul class=""><li id="6c75" class="my mz it ki b kj kk kn ko kr na kv nb kz nc ld nd ne nf ng bi translated"><strong class="ki iu"> account_id </strong>:æ‚¨çš„è´¦æˆ·idï¼Œæ‚¨å¯ä»¥åœ¨ä¸»ä»ªè¡¨ç›˜ä¸Šæ‰¾åˆ°</li><li id="e345" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated"><strong class="ki iu">zone _ id</strong>:cloud flareä¸Šçš„æ¯ä¸ªDNSåŒºåŸŸéƒ½æœ‰è‡ªå·±çš„IDï¼Œä¹Ÿåœ¨æ§åˆ¶é¢æ¿ä¸Š</li><li id="284a" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated"><strong class="ki iu">è·¯çº¿</strong>:ä»å“ªé‡Œæ¥è¿‘å·¥äºº(ä¾‹å¦‚:<a class="ae kf" href="http://www.outsrc.dev/hello" rel="noopener ugc nofollow" target="_blank">www.outsrc.dev/hello</a>)</li><li id="d1d3" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated"><strong class="ki iu">workers _ dev</strong>:true | falseå®ƒä¼šå°†æ‚¨çš„Workeréƒ¨ç½²åˆ°ä¸€ä¸ªä¸´æ—¶ç¯å¢ƒï¼Œé€šå¸¸é‡‡ç”¨ä»¥ä¸‹å½¢å¼:<code class="fe le lf lg lh b">https://&lt;worker_name&gt;.&lt;account_name&gt;.worker.dev</code></li></ul><p id="6395" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è®¾ç½®å°±ç»ªå:</p><pre class="mh mi mj mk gt mo lh mp mq aw mr bi"><span id="b120" class="lj lk it lh b gy ms mt l mu mv">$ wrangler publish<br/>ğŸ’  JavaScript project found. Skipping unnecessary build!<br/>âœ¨  Successfully published your script to <a class="ae kf" href="http://www.outsrc.dev/hello" rel="noopener ugc nofollow" target="_blank">www.outsrc.dev/hello</a></span></pre><h2 id="acb3" class="lj lk it bd ll lm ln dn lo lp lq dp lr kr ls lt lu kv lv lw lx kz ly lz ma mb bi translated">å·¥äººKVå•†åº—</h2><blockquote class="nm nn no"><p id="dc5a" class="kg kh li ki b kj kk kl km kn ko kp kq np ks kt ku nq kw kx ky nr la lb lc ld im bi translated">Workers KVæ˜¯ä¸€ä¸ªå…¨çƒæ€§çš„ä½å»¶è¿Ÿã€é”®å€¼æ•°æ®å­˜å‚¨ã€‚å®ƒæ”¯æŒå¼‚å¸¸é«˜çš„è¯»å–é‡å’Œä½å»¶è¿Ÿï¼Œä½¿æ„å»ºé«˜åº¦åŠ¨æ€çš„APIå’Œç½‘ç«™æˆä¸ºå¯èƒ½ï¼Œè¿™äº›APIå’Œç½‘ç«™çš„å“åº”é€Ÿåº¦ä¸ç¼“å­˜çš„é™æ€æ–‡ä»¶ä¸€æ ·å¿«ã€‚</p></blockquote><p id="5401" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æœ‰äº†è¿™é¡¹åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥:</p><ul class=""><li id="af47" class="my mz it ki b kj kk kn ko kr na kv nb kz nc ld nd ne nf ng bi translated">åœ¨è¾¹ç¼˜å­˜å‚¨æˆ‘ä»¬çš„é™æ€èµ„äº§HTMLã€CSSã€å›¾åƒå’ŒJavaScriptæ–‡ä»¶</li><li id="39e2" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">ä¿®æ”¹æˆ‘ä»¬çš„Workerä»£ç ï¼Œæ ¹æ®è·¯å¾„è¿”å›æ­£ç¡®çš„æ–‡ä»¶ã€‚(Workers KV JavaScript APIså·²ç»æ”¯æŒè¿™ä¸€ç‚¹)</li><li id="1445" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">ä½¿ç”¨<code class="fe le lf lg lh b">wrangler</code>æ¥è‡ªåŠ¨åŒ–æ‰€æœ‰çš„è¿‡ç¨‹ã€‚</li></ul><p id="0899" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘ä»¬å¼€å§‹å§ã€‚</p><h2 id="fb24" class="lj lk it bd ll lm ln dn lo lp lq dp lr kr ls lt lu kv lv lw lx kz ly lz ma mb bi translated">åˆ›å»ºé™æ€ç”Ÿæˆçš„ç½‘ç«™</h2><p id="7e58" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">ä»»ä½•é™æ€ç«™ç‚¹ç”Ÿæˆå™¨éƒ½å¯ä»¥ã€‚æˆ‘ä»¬åªéœ€è¦èƒ½å¤Ÿæ‹¥æœ‰ä¸€ä¸ªé™æ€æ„å»ºè¾“å‡ºæ–‡ä»¶å¤¹ï¼Œæˆ‘ä»¬å°†æŠŠå®ƒéƒ¨ç½²åˆ°Worker KVå’Œä¸€ä¸ªWorkerè„šæœ¬ï¼Œåè€…å°†ä»å­˜å‚¨ä¸­æå–å¹¶æœåŠ¡äºå®ƒã€‚</p><p id="8c11" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å°†ä»¥https://github.com/outsrc/template-frontend<a class="ae kf" href="https://github.com/outsrc/template-frontend" rel="noopener ugc nofollow" target="_blank">çš„</a>å›è´­ä¸ºèµ·ç‚¹ã€‚è¿™ä¸ªrepoåŸºäºNextJSï¼Œå¹¶ä¸”å·²ç»åŒ…å«äº†ä¸€ä¸ªé™æ€å¯¼å‡ºwebåº”ç”¨ç¨‹åºçš„å‘½ä»¤(ç”Ÿæˆäº†ä¸€ä¸ªæ–‡ä»¶å¤¹<code class="fe le lf lg lh b">out</code>)</p><pre class="mh mi mj mk gt mo lh mp mq aw mr bi"><span id="a9c3" class="lj lk it lh b gy ms mt l mu mv">$ git clone git@github.com:outsrc/template-frontend.git static-app<br/>$ cd static-app<br/>$ yarn install<br/>$ yarn export</span></pre><p id="ecbc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è®©æˆ‘ä»¬æ·»åŠ <code class="fe le lf lg lh b">wrangler</code>ä½œä¸ºå¼€å‘ä¾èµ–é¡¹ï¼Œå¹¶é€šè¿‡<code class="fe le lf lg lh b">wrangler.toml</code>é…ç½®éƒ¨ç½²</p><pre class="mh mi mj mk gt mo lh mp mq aw mr bi"><span id="1594" class="lj lk it lh b gy ms mt l mu mv">$ yarn add --dev @cloudflare/wrangler<br/>$ wrangler init --site hello-worker<br/>â¬‡ï¸ Installing cargo-generate...<br/>ğŸ”§   Creating project called `workers-site`...<br/>âœ¨   Done! New project created /Users/ernestofreyre/Documents/nodeprojects/static-app/workers-site<br/>âœ¨  Succesfully scaffolded workers site<br/>âœ¨  Succesfully created a `wrangler.toml`</span></pre><p id="e3fc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è¿™å°†å¢åŠ :</p><ul class=""><li id="c8f3" class="my mz it ki b kj kk kn ko kr na kv nb kz nc ld nd ne nf ng bi translated">æ–‡ä»¶å¤¹:åŒ…å«æ‰€æœ‰å¿…è¦çš„ä¾èµ–é¡¹å’Œä¸€ä¸ªåŒ…å«æˆ‘ä»¬çš„é™æ€å‰ç«¯åº”ç”¨å·¥äººçš„æ–‡ä»¶ã€‚</li><li id="7c23" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated"><code class="fe le lf lg lh b">wrangler.toml</code>æ–‡ä»¶:éƒ¨ç½²å·¥äººçš„è®¾ç½®</li></ul><figure class="mh mi mj mk gt ju"><div class="bz fp l di"><div class="ml mm l"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">worker-site/index.js</figcaption></figure><p id="3a03" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘ä»¬ä¸éœ€è¦ä¿®æ”¹<code class="fe le lf lg lh b">worker-site</code>æ–‡ä»¶å¤¹(ç›®å‰)ï¼Œä½†æ˜¯<code class="fe le lf lg lh b">wrangler.toml</code>éœ€è¦ä¸€äº›æ›´æ–°(ç²—ä½“å­—æ¯)ã€‚</p><pre class="mh mi mj mk gt mo lh mp mq aw mr bi"><span id="124b" class="lj lk it lh b gy ms mt l mu mv">name = "hello-worker"<br/>type = "webpack"<br/>account_id = "<strong class="lh iu">&lt;YOUR ACCOUNT ID&gt;</strong>"<br/>workers_dev = <strong class="lh iu">true</strong></span><span id="2527" class="lj lk it lh b gy mw mt l mu mv">[site]<br/>bucket = "<strong class="lh iu">./out</strong>"<br/>entry-point = "workers-site"</span></pre><p id="a9b4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ›´æ–°åï¼Œæˆ‘ä»¬å¯ä»¥éƒ¨ç½²åˆ°ä¸€ä¸ªæš‚å­˜ç¯å¢ƒ:</p><pre class="mh mi mj mk gt mo lh mp mq aw mr bi"><span id="8c8f" class="lj lk it lh b gy ms mt l mu mv">$ wrangler publish<br/>ğŸŒ€  Created namespace for Workers Site "__hello-worker-workers_sites_assets"<br/>ğŸ’  Uploading...<br/>âœ¨  Success<br/>added 2 packages from 2 contributors and audited 2 packages in 0.395s<br/>found 0 vulnerabilities</span><span id="b2bc" class="lj lk it lh b gy mw mt l mu mv">â¬‡ï¸ Installing wranglerjs...<br/>â¬‡ï¸ Installing wasm-pack...<br/>âœ¨  Built successfully, built project size is 11 KiB.<br/>âœ¨  Successfully published your script to <a class="ae kf" href="https://hello-worker.outsrc.workers.dev" rel="noopener ugc nofollow" target="_blank">https://hello-worker.outsrc.workers.dev</a></span></pre><p id="8bbc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å°±æ˜¯è¿™æ ·ã€‚è®¿é—®åº•éƒ¨æ˜¾ç¤ºçš„ç½‘å€ï¼Œä½ ä¼šçœ‹åˆ°æˆ‘ä»¬çš„é™æ€åº”ç”¨ç¨‹åºè¿è¡Œè‰¯å¥½(æˆ‘ä¸å¾—ä¸è¯´éå¸¸å¿«)</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ns"><img src="../Images/0f2ebd1c1c4796594c338c2c07aa5d36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LXBlbjKgKqtGx4KswxZVkg.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">ç§å•Šã€‚</figcaption></figure><h2 id="ae81" class="lj lk it bd ll lm ln dn lo lp lq dp lr kr ls lt lu kv lv lw lx kz ly lz ma mb bi translated">éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ</h2><p id="c932" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">è¿™æ˜¯æˆ‘ä»¬è‡ªå·±çš„é¢†åŸŸã€‚æˆ‘ä»¬éœ€è¦ä¿®æ”¹<code class="fe le lf lg lh b">wrangler.toml</code>æ–‡ä»¶æ¥åŒ…å«ä¸€ä¸ªç¯å¢ƒéƒ¨åˆ†ã€‚</p><pre class="mh mi mj mk gt mo lh mp mq aw mr bi"><span id="52fc" class="lj lk it lh b gy ms mt l mu mv">name = "hello-worker"<br/>type = "webpack"<br/>account_id = "<strong class="lh iu">&lt;YOUR ACCOUNT ID&gt;</strong>"<br/>workers_dev = <strong class="lh iu">true</strong></span><span id="24e1" class="lj lk it lh b gy mw mt l mu mv">[site]<br/>bucket = "<strong class="lh iu">./out</strong>"<br/>entry-point = "workers-site"</span><span id="c200" class="lj lk it lh b gy mw mt l mu mv">[env.production]<br/>zone_id = "<strong class="lh iu">&lt;YOUR ZONE ID&gt;</strong>"<br/>route = "<a class="ae kf" href="http://www.outsrc.dev/*" rel="noopener ugc nofollow" target="_blank"><strong class="lh iu">www.outsrc.dev/*</strong></a>"</span></pre><p id="6797" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æœ‰äº†è¿™äº›ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥:</p><pre class="mh mi mj mk gt mo lh mp mq aw mr bi"><span id="7d83" class="lj lk it lh b gy ms mt l mu mv">$ wrangler publish --env production<br/>ğŸŒ€  Created namespace for Workers Site "__hello-worker-production-workers_sites_assets"<br/>ğŸ’  Uploading...<br/>âœ¨  Success<br/>â¬‡ï¸ Installing wranglerjs...<br/>â¬‡ï¸ Installing wasm-pack...<br/>âœ¨  Built successfully, built project size is 11 KiB.<br/>âœ¨  Successfully published your script to <a class="ae kf" href="http://www.outsrc.dev/*" rel="noopener ugc nofollow" target="_blank">www.outsrc.dev/*</a></span></pre><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ns"><img src="../Images/244bec0f191e186ef8b46760cd99559d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_XunJBR75aH43LhfRVskKA.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">æˆåŠŸï¼ï¼</figcaption></figure><h2 id="e8a4" class="lj lk it bd ll lm ln dn lo lp lq dp lr kr ls lt lu kv lv lw lx kz ly lz ma mb bi translated">éƒ¨ç½²æ›´è¿›ä¸€æ­¥</h2><p id="e12f" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">å‡è®¾æˆ‘ä»¬ä½¿ç”¨æäº¤æ•£åˆ—ä½œä¸ºè·¯å¾„å‰ç¼€ï¼Œå°†æ‰€æœ‰æäº¤æ„å»ºå¹¶éƒ¨ç½²åˆ°Worker KVå­˜å‚¨ã€‚(ä¾‹å¦‚:/8982c33e/index.html)ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥å°†æ‰€æœ‰è¯·æ±‚å®æ—¶åœ°é‡æ–°è·¯ç”±åˆ°æˆ‘ä»¬æƒ³è¦çš„ä»»ä½•æäº¤æ–‡ä»¶å¤¹ã€‚è¿™æ„å‘³ç€éƒ¨ç½²åˆ°ç”Ÿäº§å’Œå›æ»šå¯ä»¥é€šè¿‡æ›´æ”¹KVå­˜å‚¨ä¸Šçš„å•ä¸ªå€¼æ¥å³æ—¶å®Œæˆã€‚Canaryä¹Ÿéƒ¨ç½²(ä¸€ç»„ç”¨æˆ·å°†è·å¾—åº”ç”¨ç¨‹åºçš„ä¸€ä¸ªç‰ˆæœ¬)</p><p id="07c0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">é¦–å…ˆåˆ›å»ºä¸€ä¸ªåä¸ºCONTROLçš„æ–°å·¥ä½œKVåç§°ç©ºé—´:</p><pre class="mh mi mj mk gt mo lh mp mq aw mr bi"><span id="b1d2" class="lj lk it lh b gy ms mt l mu mv">$ wrangler kv:namespace create "CONTROL"<br/>ğŸŒ€  Creating namespace with title "hello-worker-CONTROL"<br/>âœ¨  Success: WorkersKvNamespace {<br/>    id: "22e976....",<br/>    title: "hello-worker-CONTROL",<br/>}<br/>âœ¨  Add the following to your wrangler.toml:<br/><strong class="lh iu">kv-namespaces = [ <br/>  { binding = "CONTROL", id = "22e976...." } <br/>]</strong></span></pre><p id="52d6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘ä»¬éœ€è¦å°†ç²—ä½“éƒ¨åˆ†æ”¾åœ¨<code class="fe le lf lg lh b">wrangler.toml</code>æ–‡ä»¶çš„é¡¶éƒ¨:</p><pre class="mh mi mj mk gt mo lh mp mq aw mr bi"><span id="7b82" class="lj lk it lh b gy ms mt l mu mv">name = "hello-worker"<br/>type = "webpack"<br/>account_id = "&lt;YOUR ACCOUNT ID&gt;"<br/>workers_dev = true</span><span id="5aa3" class="lj lk it lh b gy mw mt l mu mv"><strong class="lh iu">kv-namespaces = [ <br/>  { binding = "CONTROL", id = "22e976...." } <br/>]</strong></span><span id="6620" class="lj lk it lh b gy mw mt l mu mv">[site]<br/>bucket = "./out"<br/>entry-point = "workers-site"</span><span id="8517" class="lj lk it lh b gy mw mt l mu mv">[env.production]<br/>zone_id = "&lt;YOUR ZONE ID&gt;"<br/>route = "www.outsrc.dev/*"</span><span id="ef6c" class="lj lk it lh b gy mw mt l mu mv"><strong class="lh iu">kv-namespaces = [ <br/>  { binding = "CONTROL", id = "22e976...." } <br/>]</strong></span></pre><p id="5d94" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å› ä¸ºæˆ‘ä»¬çš„NextJSåº”ç”¨ç¨‹åºæ¯æ¬¡æ‰§è¡Œ<code class="fe le lf lg lh b">yarn export</code>éƒ½ä¼šé‡æ–°ç”Ÿæˆé™æ€è¾“å‡ºæ–‡ä»¶å¤¹ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ç›¸åº”åœ°ç§»åŠ¨æ–‡ä»¶ã€‚æ­¤å¤–ï¼Œwrangler CLIå·¥å…·ä¸ä¼šä¿ç•™ä»¥å‰éƒ¨ç½²çš„æ—§æ–‡ä»¶ã€‚æˆ‘ä»¬éœ€è¦æŠŠå®ƒä»¬éƒ½æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹ã€‚(å¦‚æœwranglerå…è®¸æˆ‘ä»¬åœ¨å­˜å‚¨ä¸Šä¿ç•™æ—§æ–‡ä»¶ï¼Œé‚£å°±å¤ªå¥½äº†)ã€‚åˆ›å»ºä¸€ä¸ªbuildsæ–‡ä»¶å¤¹ï¼Œæˆ‘ä»¬å°†åœ¨å…¶ä¸­å¤åˆ¶æ‰€æœ‰çš„é™æ€æ„å»ºã€‚</p><pre class="mh mi mj mk gt mo lh mp mq aw mr bi"><span id="6793" class="lj lk it lh b gy ms mt l mu mv">$ mkdir builds</span></pre><p id="dbe4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å¹¶å°†éƒ¨ç½²è„šæœ¬ä¿®æ”¹ä¸ºé¦–å…ˆï¼Œå°†<code class="fe le lf lg lh b">out</code>æ–‡ä»¶å¤¹é‡å‘½åä¸ºå½“å‰æäº¤å“ˆå¸Œçš„åç§°ï¼Œå¹¶å°†å…¶ç§»åŠ¨åˆ°<code class="fe le lf lg lh b">builds</code>æ–‡ä»¶å¤¹:</p><pre class="mh mi mj mk gt mo lh mp mq aw mr bi"><span id="4ef8" class="lj lk it lh b gy ms mt l mu mv">{<br/>  "name": "template-frontend",<br/>  "version": "1.0.0",<br/>  "description": "",<br/>  "main": "index.js",<br/>  "scripts": {<br/>    "clean": "rimraf .next &amp;&amp; rimraf out",<br/>    "dev": "next",<br/>    "build": "next build",<br/>    "start": "next start",<br/>    "export": "yarn clean &amp;&amp; yarn build &amp;&amp; next export",<br/>    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1",<br/>    "lint": "standard",<br/>    "format": "prettier-standard --format",<br/>    <strong class="lh iu">"pre-deploy": "mv out `git rev-parse HEAD | cut -c 1-8` &amp;&amp; mv `git rev-parse HEAD | cut -c 1-8` builds",<br/>    "deploy:production": "yarn export &amp;&amp; yarn pre-deploy &amp;&amp; wrangler publish --env production"</strong><br/>  },<br/>  "keywords": [],<br/>  "author": "",<br/>  "license": "ISC",<br/>  "dependencies": {<br/>    "next": "~9.2.0",<br/>    "react": "^16.12.0",<br/>    "react-dom": "^16.12.0"<br/>  },<br/>  "devDependencies": {<br/>    "<a class="ae kf" href="http://twitter.com/cloudflare/wrangler" rel="noopener ugc nofollow" target="_blank">@cloudflare/wrangler</a>": "^1.6.0",<br/>    "<a class="ae kf" href="http://twitter.com/types/node" rel="noopener ugc nofollow" target="_blank">@types/node</a>": "^12.12.7",<br/>    "<a class="ae kf" href="http://twitter.com/types/react" rel="noopener ugc nofollow" target="_blank">@types/react</a>": "^16.9.11",<br/>    "prettier-standard": "^15.0.1",<br/>    "rimraf": "^3.0.0",<br/>    "standard": "^14.3.1",<br/>    "typescript": "^3.7.2"<br/>  }<br/>}</span></pre><p id="726c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘ä»¬éœ€è¦çš„æœ€åæ›´æ”¹åœ¨<code class="fe le lf lg lh b">worker-site/index.js</code>æ–‡ä»¶ä¸­ã€‚å¯¹äºæ¯ä¸ªè¯·æ±‚ï¼Œé¦–å…ˆè·å–æˆ‘ä»¬æƒ³è¦æä¾›çš„æäº¤æ•£åˆ—ï¼Œå¹¶å°†è¯·æ±‚é‡æ–°æ˜ å°„åˆ°åŒ…å«æˆ‘ä»¬çš„èµ„äº§çš„æ–‡ä»¶å¤¹ã€‚ä½¿ç”¨æˆ‘ä»¬ä¹‹å‰è®¾ç½®çš„æ§ä»¶å‘½åç©ºé—´ä¸­çš„å€¼ã€‚</p><figure class="mh mi mj mk gt ju"><div class="bz fp l di"><div class="ml mm l"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">workers-site/index.js</figcaption></figure><p id="25d7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å¦‚æœæˆ‘ä»¬éƒ¨ç½²å¹¶å°è¯•è®¿é—®æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬å°†è·å¾—:</p><pre class="mh mi mj mk gt mo lh mp mq aw mr bi"><span id="2501" class="lj lk it lh b gy ms mt l mu mv">$ yarn deploy:production<br/>yarn run v1.21.1<br/>$ yarn export &amp;&amp; yarn pre-deploy &amp;&amp; wrangler publish --env production<br/>$ yarn clean &amp;&amp; yarn build &amp;&amp; next export<br/>$ rimraf .next &amp;&amp; rimraf out<br/>$ next build<br/>Creating an optimized production build</span><span id="6fa4" class="lj lk it lh b gy mw mt l mu mv">Compiled successfully.</span><span id="3a42" class="lj lk it lh b gy mw mt l mu mv">Automatically optimizing pages</span><span id="f05f" class="lj lk it lh b gy mw mt l mu mv">Page                            Size     First Load<br/>â”Œ â—‹ /                           595 B       75.5 kB<br/>â”” â—‹ /about                      583 B       75.5 kB<br/>+ shared by all                 68.8 kB<br/>  â”œ static/_buildManifest.js    188 B<br/>  â”œ static/pages/_app.js        944 B<br/>  â”œ chunks/commons.9ed1b2.js    21.7 kB<br/>  â”œ chunks/framework.94bc9f.js  40.5 kB<br/>  â”œ runtime/main.99b7a8.js      4.69 kB<br/>  â”” runtime/webpack.b65cab.js   746 B</span><span id="20c6" class="lj lk it lh b gy mw mt l mu mv">Î»  (Server)  server-side renders at runtime (uses getInitialProps or getServerProps)<br/>â—‹  (Static)  automatically rendered as static HTML (uses no initial props)<br/>â—  (SSG)     automatically generated as static HTML + JSON (uses getStaticProps)</span><span id="3513" class="lj lk it lh b gy mw mt l mu mv">&gt; using build directory: /Users/ernestofreyre/Documents/nodeprojects/static-app/.next<br/>  copying "static build" directory<br/>  launching 15 workers<br/>Exporting (3/3)</span><span id="1d7b" class="lj lk it lh b gy mw mt l mu mv">Export successful<br/>$ mv out `git rev-parse HEAD | cut -c 1-8` &amp;&amp; mv `git rev-parse HEAD | cut -c 1-8` builds<br/>ğŸŒ€  Using namespace for Workers Site "__hello-worker-production-workers_sites_assets"<br/>ğŸ’  Uploading...<br/>âœ¨  Success<br/>â¬‡ï¸ Installing wranglerjs...<br/>â¬‡ï¸ Installing wasm-pack...<br/>âœ¨  Built successfully, built project size is 11 KiB.<br/>âœ¨  Successfully published your script to <a class="ae kf" href="http://www.outsrc.dev/*" rel="noopener ugc nofollow" target="_blank">www.outsrc.dev/*</a><br/>âœ¨  Done in 16.53s.</span></pre><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nt"><img src="../Images/0e9fa106eaef8db1f4f2a84d0fb47124.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1wD84QLxlKPcWsQJo_diAg.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">é”™è¯¯ï¼ï¼</figcaption></figure><p id="00b4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘ä»¬åˆšåˆšé”™è¿‡äº†åœ¨æ§ä»¶åç§°ç©ºé—´ä¸Šè®¾ç½®<code class="fe le lf lg lh b">show_commit</code>å€¼ã€‚</p><pre class="mh mi mj mk gt mo lh mp mq aw mr bi"><span id="624b" class="lj lk it lh b gy ms mt l mu mv">$ wrangler kv:key put --binding=CONTROL "show_commit" "0b0b0ef4"<br/>âœ¨  Success</span></pre><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nt"><img src="../Images/a0354d2df2368ed45344c826ab733ffd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*67jpOtfV0njW2z7MIX_0rQ.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">æˆåŠŸï¼ï¼</figcaption></figure><p id="16b2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç°åœ¨ï¼Œæ¯æ¬¡æˆ‘ä»¬æäº¤å¹¶éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒæ—¶ï¼Œåº”ç”¨ç¨‹åºéƒ½ä¼šè¢«æ„å»ºå¹¶éƒ¨ç½²åˆ°KVå•†åº—ã€‚æ›´æ–°æäº¤æ‰€ç”¨å†…å®¹çš„å‘½ä»¤æ˜¯:</p><pre class="mh mi mj mk gt mo lh mp mq aw mr bi"><span id="249e" class="lj lk it lh b gy ms mt l mu mv">$ wrangler kv:key put --binding=CONTROL "show_commit" "&lt;COMMITHASH&gt;"</span></pre><p id="c955" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å›æ»šåªéœ€è¦ä¸æˆ‘ä»¬æƒ³è¦å›æ»šçš„æäº¤æ•£åˆ—ç›¸åŒçš„å‘½ä»¤ã€‚ç¬é—´ã€‚</p><h2 id="7664" class="lj lk it bd ll lm ln dn lo lp lq dp lr kr ls lt lu kv lv lw lx kz ly lz ma mb bi translated">ç»“è®º</h2><ul class=""><li id="834e" class="my mz it ki b kj mc kn md kr nu kv nv kz nw ld nd ne nf ng bi translated">æ‚¨çš„Webåº”ç”¨éœ€è¦ä¸€ä¸ªCDNï¼ŒCloudflare CDNæ˜¯ä¸€ä¸ªæˆç†Ÿçš„è§£å†³æ–¹æ¡ˆã€‚</li><li id="4cda" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">cloud flare Workers+cloud flare Workers KVå…è®¸æ‚¨å°†é™æ€ç«™ç‚¹ç”Ÿæˆçš„Webåº”ç”¨ç¨‹åºç›´æ¥éƒ¨ç½²åˆ°è¾¹ç¼˜ã€‚</li><li id="90c3" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">è¿˜å¯ä»¥æ”¯æŒæ›´å¤æ‚çš„ç”¨ä¾‹:ä¸åŒçš„åŸºè·¯å¾„ã€å¢å¼ºçš„å®‰å…¨æ¨¡å¼ã€‚</li><li id="7c3d" class="my mz it ki b kj nh kn ni kr nj kv nk kz nl ld nd ne nf ng bi translated">æ‚¨å¯ä»¥å°†æ‚¨çš„CI/CDç®¡é“è®¾ç½®ä¸ºæŒç»­éƒ¨ç½²åˆ°Worker KV storeï¼Œå¹¶åœ¨ä»¥åå†³å®šä½•æ—¶å°†æ‚¨çš„ç”¨æˆ·è½¬ç§»åˆ°æœ€æ–°ç‰ˆæœ¬æˆ–åœ¨å‘ç°bugæ—¶å›æ»šã€‚</li></ul><p id="4b49" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">é»‘å®¢å¿«ä¹â€¦</p></div></div>    
</body>
</html>