<html>
<head>
<title>SSR, should you use it?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SSR，该不该用？</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/ssr-should-you-use-it-dec6a5366193?source=collection_archive---------20-----------------------#2022-11-08">https://levelup.gitconnected.com/ssr-should-you-use-it-dec6a5366193?source=collection_archive---------20-----------------------#2022-11-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="fc44" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">服务器端渲染可能是一把双刃剑。阅读下面的文章，看看它是否适合你。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/89615e089190b201805d812fda68be3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ISQBXQsSZCeb3s7KXwCkfQ.png"/></div></div></figure><h1 id="0d21" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">介绍</h1><p id="85d3" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">自从互联网出现以来，我们可以在服务器端呈现网页。那时的网站相当简单，它们的目的是通知用户。他们很少或者根本没有互动。SSR的工作方式是完全渲染整个网页，然后将HTML文件返回给客户端使用。对于较小的包大小和静态页面，这在一段时间内非常有效。</p><p id="06a1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是随着时间的推移，网站变成了网络应用。它们变得更加复杂。它们使用户能够聊天、分享图片和文档、购物等。总而言之，它们变得高度互动，这也是SSR开始慢慢失去人气，客户端渲染开始占据中心舞台的地方。</p><h1 id="9247" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">CSR与SSR</h1><p id="3881" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">客户端渲染是在浏览器中渲染网页，而不是在网站的服务器上。这是当今大多数Javascript框架的默认设置。CSR在初始加载时请求一个带有浏览器链接的HTML文件。Javascript然后获取这些链接，并将网页组合在一起。CSR的一个主要缺点是，由于所有的负担都在浏览器上，它会很快增加几秒钟的渲染时间，从而导致糟糕的用户体验。CSR应用程序也常常难以获得良好SEO结果，在速度较慢的设备上表现不佳。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ma"><img src="../Images/8e918b1a12e70a84dda99051eb5a2771.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*36RpWYwtYjnHbbzJLWC5yg.png"/></div></div></figure><p id="caf6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用SSR，服务器完全呈现整个页面，然后向浏览器发送HTML文档，浏览器随后显示网站的内容。这意味着内容可以更快地获得，这对SEO和索引有积极的影响。另一方面，SSR的一个主要缺点是安全性，因为与CSR相比，服务器和浏览器之间的通信要多得多。更多的请求也意味着更多的费用。SSR非常适合静态页面，但是对于更具交互性和更复杂的页面内容，频繁的页面重载和请求实际上会导致性能下降和页面渲染变慢。由于嵌入了水合状态，SSR应用程序也趋向于具有更大的HTML文件。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ma"><img src="../Images/1ff809fd9d923d89746655c8fdd48cb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8020cBDCFoX1rl__o5fjzw.png"/></div></div></figure><h1 id="b6bb" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">谷歌爬虫</h1><p id="54e2" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">开发者决定实现<strong class="jp ir"> SSR </strong>的主要原因之一是<strong class="jp ir"> SEO </strong>和<strong class="jp ir">性能提升</strong>，以及随之而来的<strong class="jp ir">更好的用户体验</strong>。但是要理解SEO和SSR的关系，我们先来看看索引是如何工作的。</p><p id="8f7a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本文中，我们将以googlebot，或者更多人所知的Google网络爬虫为例。Googlebot分三个阶段工作:</p><ul class=""><li id="39dd" class="mb mc iq jp b jq jr ju jv jy md kc me kg mf kk mg mh mi mj bi translated">爬行，</li><li id="991e" class="mb mc iq jp b jq mk ju ml jy mm kc mn kg mo kk mg mh mi mj bi translated">渲染，</li><li id="7e5e" class="mb mc iq jp b jq mk ju ml jy mm kc mn kg mo kk mg mh mi mj bi translated">索引。</li></ul><p id="283a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Googlebot通过HTTP请求获得一个网站。首先，Googlebot检查robots.txt文件，看是否允许URL。有一个选项可以阻止谷歌机器人索引你的网站。如果是这种情况，它将不会发出HTTP请求并跳过这个URL。如果没有，Googlebot将抓取网站并解析其HTML。当Googlebot资产允许时，Chromium呈现页面并执行Javascript。然后，Googlebot使用呈现的页面进行索引，并再次解析HTML，扫描允许爬行的链接。然后，它将这些链接放入一个队列中，并重复这个过程。这样做的结果是一个索引网页。这意味着Googlebot经历的整个过程，决定了你的网页在结果队列中的位置。</p><h1 id="cf36" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">结论</h1><p id="53aa" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">那么现在，选哪个呢？SSR还是CSR？通常，web应用程序两者都使用。它们通常被称为混合应用程序。例如，网飞使用SSR、React(这是一个库，所以CSR是默认的)和预取的组合。它对静态页面使用SSR，对其余页面使用React和预取。我最近刚读了一篇<a class="ae mp" href="https://medium.com/dev-channel/a-netflix-web-performance-case-study-c0bcde26a9d9" rel="noopener">的文章</a>，关于他们如何优化他们的网络应用，作者得出的结论之一如下:</p><blockquote class="mq mr ms"><p id="74a0" class="jn jo mt jp b jq jr js jt ju jv jw jx mu jz ka kb mv kd ke kf mw kh ki kj kk ij bi translated">网飞决定做出的权衡是使用React服务器呈现登录页面，但同时预取React /注册流程的其余代码。这不仅优化了首次加载性能，还优化了注册流程其余部分的加载时间，因为它是一个单页面应用程序，所以要下载的JS包要大得多。</p></blockquote><p id="742c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我希望这能帮助你做出更容易的决定。如果你有任何进一步的问题，请在下面留言。</p></div></div>    
</body>
</html>