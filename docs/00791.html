<html>
<head>
<title>Understand the bind() function in Javascript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解Javascript中的bind()函数</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/bind-functions-in-javascript-f18beb160a82?source=collection_archive---------1-----------------------#2019-07-30">https://levelup.gitconnected.com/bind-functions-in-javascript-f18beb160a82?source=collection_archive---------1-----------------------#2019-07-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/afc8ea12583517396eae7c7d58da44aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_Hy1keVBrlrkSd9azhHfoA.jpeg"/></div></div></figure><p id="b5aa" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe kw kx ky kz b">.bind()</code> <strong class="ka ir"> </strong>功能允许as通过设置自定义的<code class="fe kw kx ky kz b">this</code> <strong class="ka ir"> </strong>值来创建功能。<code class="fe kw kx ky kz b">bind</code> <strong class="ka ir"> </strong>函数返回一个像普通函数一样可调用的函数，也可以传递给其他函数。</p><blockquote class="la lb lc"><p id="0a63" class="jy jz ld ka b kb kc kd ke kf kg kh ki le kk kl km lf ko kp kq lg ks kt ku kv ij bi translated">当我们需要捆绑的时候。</p></blockquote><p id="c4ad" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">假设我们有一个对象:</p><pre class="lh li lj lk gt ll kz lm ln aw lo bi"><span id="f8a4" class="lp lq iq kz b gy lr ls l lt lu">window.Name  = "Window";</span><span id="cf83" class="lp lq iq kz b gy lv ls l lt lu">var JsJeep = {</span><span id="1b52" class="lp lq iq kz b gy lv ls l lt lu">    Name  : "Javascript Jeep 🚙 🚗",</span><span id="6867" class="lp lq iq kz b gy lv ls l lt lu">    greet : function() {<br/>  <br/>          console.log(" 👋  from " + this.Name);</span><span id="51c3" class="lp lq iq kz b gy lv ls l lt lu">    }</span><span id="f1d4" class="lp lq iq kz b gy lv ls l lt lu">}</span></pre><p id="22a5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当我们用<code class="fe kw kx ky kz b">JsJeep</code>对象调用函数<code class="fe kw kx ky kz b">greet</code>时:</p><pre class="lh li lj lk gt ll kz lm ln aw lo bi"><span id="d2ff" class="lp lq iq kz b gy lr ls l lt lu">JsJeep.greet(); //  👋from Javascript Jeep 🚙 🚗</span></pre><p id="ad74" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果我们将函数存储在另一个变量中，并调用函数:</p><pre class="lh li lj lk gt ll kz lm ln aw lo bi"><span id="9d90" class="lp lq iq kz b gy lr ls l lt lu">var greet = JsJeep.greet;</span><span id="27ca" class="lp lq iq kz b gy lv ls l lt lu">greet(); //  👋 from Window.</span></pre><p id="c7bd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe kw kx ky kz b">this</code>指向<code class="fe kw kx ky kz b">"Window"</code>是因为greet函数里面的<code class="fe kw kx ky kz b">this</code>是<code class="fe kw kx ky kz b">global window object</code>，所以我们需要告诉浏览器具体使用它应该引用的<code class="fe kw kx ky kz b">JsJeep</code>对象。这就是使用<code class="fe kw kx ky kz b">bind</code>的时候。</p><p id="a083" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们再看一个例子，然后我们就明白了<code class="fe kw kx ky kz b">bind</code>。当我们在a <code class="fe kw kx ky kz b">setTimeout</code>中做同样的事情时:</p><pre class="lh li lj lk gt ll kz lm ln aw lo bi"><span id="7fc1" class="lp lq iq kz b gy lr ls l lt lu">setTimeout(JsJeep.greet , 0); //  👋<strong class="kz ir"> from Window</strong></span></pre><p id="8d79" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在<code class="fe kw kx ky kz b">setTimeout</code>函数内部，<code class="fe kw kx ky kz b">this</code>的值将再次为<code class="fe kw kx ky kz b">window</code>，因为我们正在将<code class="fe kw kx ky kz b">greet</code>函数的引用传递给<code class="fe kw kx ky kz b">setTimeout</code>，并且窗口对象正在执行<code class="fe kw kx ky kz b">0 milliseconds</code>之后的greet函数调用。</p><p id="6d59" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">上面的<code class="fe kw kx ky kz b">setTimeout</code>代码相当于</p><pre class="lh li lj lk gt ll kz lm ln aw lo bi"><span id="9a34" class="lp lq iq kz b gy lr ls l lt lu">var func = JsJeep.greet;</span><span id="59eb" class="lp lq iq kz b gy lv ls l lt lu">setTimeout(func, 0); // which is similar to above case.</span></pre><p id="9038" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了解决上述问题，我们使用了<code class="fe kw kx ky kz b">bind</code>函数，它允许我们在函数中指定<code class="fe kw kx ky kz b">this</code>的值。</p><h2 id="bf22" class="lp lq iq bd lw lx ly dn lz ma mb dp mc kj md me mf kn mg mh mi kr mj mk ml mm bi translated">句法</h2><p id="667d" class="pw-post-body-paragraph jy jz iq ka b kb mn kd ke kf mo kh ki kj mp kl km kn mq kp kq kr mr kt ku kv ij bi translated"><code class="fe kw kx ky kz b">functionToBind.<strong class="ka ir">bind(</strong>ourCustomThisObject, argumentsToFunction<strong class="ka ir">)</strong></code><strong class="ka ir">→</strong><strong class="ka ir"/>附加<strong class="ka ir"> </strong>参数可选。</p><p id="ee44" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">上述问题的解决方案:</p><pre class="lh li lj lk gt ll kz lm ln aw lo bi"><span id="7afe" class="lp lq iq kz b gy lr ls l lt lu">var fun = JsJeep.greet;</span><span id="baf4" class="lp lq iq kz b gy lv ls l lt lu">var newFun = fun.bind(JsJeep);</span><span id="d78b" class="lp lq iq kz b gy lv ls l lt lu"><strong class="kz ir">newFun</strong>(); //  👋 from Javascript Jeep 🚙 🚗</span><span id="c582" class="lp lq iq kz b gy lv ls l lt lu"><strong class="kz ir">setTimeout(newFun, 0); // </strong> 👋from Javascript Jeep 🚙 🚗</span></pre><p id="ae3e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所以我们解决了这个问题。</p><p id="27af" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们看看一些棘手的领域。</p><blockquote class="la lb lc"><p id="9022" class="jy jz ld ka b kb kc kd ke kf kg kh ki le kk kl km lf ko kp kq lg ks kt ku kv ij bi translated">1.当我们通过<code class="fe kw kx ky kz b">null</code>而不是<code class="fe kw kx ky kz b">JsJeep</code>对象时会发生什么</p></blockquote><pre class="lh li lj lk gt ll kz lm ln aw lo bi"><span id="7015" class="lp lq iq kz b gy lr ls l lt lu"> var fun = JsJeep.greet;</span><span id="71d4" class="lp lq iq kz b gy lv ls l lt lu"> var newFun = fun.bind(null); // then we are binding nothing</span></pre><ul class=""><li id="8dff" class="ms mt iq ka b kb kc kf kg kj mu kn mv kr mw kv mx my mz na bi translated">有两种情况，如果我们使用严格模式，那么<code class="fe kw kx ky kz b">this</code>将是<code class="fe kw kx ky kz b">null</code>。</li><li id="a626" class="ms mt iq ka b kb nb kf nc kj nd kn ne kr nf kv mx my mz na bi translated">如果我们处于非严格模式，那么<code class="fe kw kx ky kz b">this</code>将是<code class="fe kw kx ky kz b">window</code>对象。</li></ul><blockquote class="la lb lc"><p id="a044" class="jy jz ld ka b kb kc kd ke kf kg kh ki le kk kl km lf ko kp kq lg ks kt ku kv ij bi translated">2.一旦<code class="fe kw kx ky kz b">bind</code>完成，我们就不能改变<code class="fe kw kx ky kz b">this</code>的值。</p></blockquote><pre class="lh li lj lk gt ll kz lm ln aw lo bi"><span id="e2dc" class="lp lq iq kz b gy lr ls l lt lu">var fun = JsJeep.greet;</span><span id="3a21" class="lp lq iq kz b gy lv ls l lt lu">var bindFun= fun.bind( {Name: "Balaji"} );<br/> <br/>bindFun = bindFun.bind( {name: "Raju"} );</span><span id="8924" class="lp lq iq kz b gy lv ls l lt lu">bindFun(); //  👋 from Balaji</span></pre><p id="a39d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">原因是在第一次调用后，<code class="fe kw kx ky kz b">bindFun</code>已经修复了<code class="fe kw kx ky kz b">this</code>,并且我们不能在之后改变它。</p><blockquote class="la lb lc"><p id="8fcf" class="jy jz ld ka b kb kc kd ke kf kg kh ki le kk kl km lf ko kp kq lg ks kt ku kv ij bi translated">3.如何判断一个函数是否是有界函数？</p></blockquote><p id="9076" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">绑定函数的name属性以“bound”为前缀</p><pre class="lh li lj lk gt ll kz lm ln aw lo bi"><span id="bde1" class="lp lq iq kz b gy lr ls l lt lu">log(<strong class="kz ir">JsJeep.greet.name</strong>) // <strong class="kz ir">greet</strong></span><span id="6fec" class="lp lq iq kz b gy lv ls l lt lu">var fun = JsJeep.greet;</span><span id="f980" class="lp lq iq kz b gy lv ls l lt lu">var bindFun= fun.bind( JsJeep );</span><span id="81b2" class="lp lq iq kz b gy lv ls l lt lu">log(<strong class="kz ir">bindFun.name</strong>); // <strong class="kz ir">bound greet</strong></span></pre><blockquote class="la lb lc"><p id="ea90" class="jy jz ld ka b kb kc kd ke kf kg kh ki le kk kl km lf ko kp kq lg ks kt ku kv ij bi translated">4.如果对象的一个属性被更新，那么该属性的值也会在绑定函数中被更新。</p></blockquote><pre class="lh li lj lk gt ll kz lm ln aw lo bi"><span id="fefd" class="lp lq iq kz b gy lr ls l lt lu">var JsJeep = {</span><span id="ebd0" class="lp lq iq kz b gy lv ls l lt lu">    Name  : "Javascript Jeep 🚙 🚗",</span><span id="307b" class="lp lq iq kz b gy lv ls l lt lu">    greet : function() {<br/>  <br/>          console.log(" 👋  from " + this.Name);</span><span id="74a9" class="lp lq iq kz b gy lv ls l lt lu">   }</span><span id="afd2" class="lp lq iq kz b gy lv ls l lt lu">}</span><span id="6edb" class="lp lq iq kz b gy lv ls l lt lu">var fun = JsJeep.greet;</span><span id="ef46" class="lp lq iq kz b gy lv ls l lt lu">var bindFun= fun.bind( JsJeep );</span><span id="2ad6" class="lp lq iq kz b gy lv ls l lt lu"><strong class="kz ir">JsJeep.Name = "New Jeep 🚘 "; //updating the property.<br/></strong></span><span id="e0f5" class="lp lq iq kz b gy lv ls l lt lu">bindFun(); // <strong class="kz ir">  👋  from New Jeep 🚘</strong></span></pre><blockquote class="la lb lc"><p id="e58c" class="jy jz ld ka b kb kc kd ke kf kg kh ki le kk kl km lf ko kp kq lg ks kt ku kv ij bi translated">笔记</p></blockquote><p id="6e01" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为✍️写这篇文章，我🤷🏻‍♂️参考了<code class="fe kw kx ky kz b"><a class="ae ng" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Function/bind" rel="noopener ugc nofollow" target="_blank">MDN</a></code>和<code class="fe kw kx ky kz b"><a class="ae ng" href="https://javascript.info/bind" rel="noopener ugc nofollow" target="_blank">javascrip.info</a></code>以及<code class="fe kw kx ky kz b">StackOverflow</code>的一些回答，谢谢🙏对他们来说🌟 💖 😜。</p><p id="783c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi">— — — — — — — — — — — — — — — — — — — — —</p><p id="f750" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">在这里</strong> 学习创建随机数的新方法 <a class="ae ng" href="http:// https://link.medium.com/rXCCnb6BJY" rel="noopener ugc nofollow"> <strong class="ka ir"/></a></p><p id="83bb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi">— — — — — — — — — — — — — — — — — — — — —</p><p id="62b4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你发现这个有用的惊喜🎁我这里的<a class="ae ng" href="https://www.paypal.me/jagathishSaravanan?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"/></a><strong class="ka ir">。</strong></p><p id="735d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">开心就分享😃 😆 🙂。</strong></p><p id="6969" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">跟随</strong> <a class="ae ng" href="https://medium.com/u/f9ffc26e7e69?source=post_page---------------------------" rel="noopener"> <strong class="ka ir"> Javascript吉普🚙</strong> </a> <strong class="ka ir">如果你觉得值得。</strong></p></div><div class="ab cl nh ni hu nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ij ik il im in"><div class="lh li lj lk gt no"><a href="https://gitconnected.com/learn/javascript" rel="noopener  ugc nofollow" target="_blank"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd ir gy z fp nt fr fs nu fu fw ip bi translated">学习JavaScript -最佳JavaScript教程(2019) | gitconnected</h2><div class="nv l"><h3 class="bd b gy z fp nt fr fs nu fu fw dk translated">JavaScript是世界上最流行的编程语言之一——它随处可见。JavaScript是一种…</h3></div><div class="nw l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">gitconnected.com</p></div></div><div class="nx l"><div class="ny l nz oa ob nx oc jw no"/></div></div></a></div></div></div>    
</body>
</html>