<html>
<head>
<title>Create a Simple Vue.js Registration Form</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建一个简单的Vue.js注册表</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/create-a-simple-vue-js-registration-form-e249ffe3ddc9?source=collection_archive---------1-----------------------#2021-01-09">https://levelup.gitconnected.com/create-a-simple-vue-js-registration-form-e249ffe3ddc9?source=collection_archive---------1-----------------------#2021-01-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/001910a5db38b8ddb6e4c11877bbc731.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*933HgzWrAv2hbmhA"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@christiannkoepke?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Christiann Koepke </a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="11e7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将了解如何使用Vue和Express创建注册表单。</p><h1 id="e949" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">后端</h1><p id="e2cf" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以创建一个简单的登录表单，在后端获取一些数据。为此，我们通过安装一些软件包来创建一个快速应用程序:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="248c" class="mq lf it mm b gy mr ms l mt mu">npm i express cors body-parser</span></pre><p id="c5dc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们可以通过书写来使用它们:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="1dc7" class="mq lf it mm b gy mr ms l mt mu">const express = require('express');<br/>const bodyParser = require('body-parser');<br/>const cors = require('cors')<br/>const app = express();<br/>app.use(cors())<br/>app.use(bodyParser.json());<br/>app.use(bodyParser.urlencoded({ extended: true }));</span><span id="c813" class="mq lf it mm b gy mv ms l mt mu">app.post('/register', (req, res) =&gt; {  <br/>  res.json(req.body);<br/>});</span><span id="7125" class="mq lf it mm b gy mv ms l mt mu">app.listen(3000, () =&gt; console.log('server started'));</span></pre><p id="f8aa" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mw mx my mm b">cors</code>包让我们进行跨域通信。我们用的是<code class="fe mw mx my mm b">app.use(cors())</code>。</p><p id="79f3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mw mx my mm b">bodyParser</code>解析我们将从前端提交的JSON请求体。<code class="fe mw mx my mm b">bodyParser.json()</code>让我们解析JSON。</p><p id="d287" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们也有一条<code class="fe mw mx my mm b">register</code>路线来获取请求数据。</p><p id="6360" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mw mx my mm b">req.body</code>有解析过的JSON数据。</p><h1 id="8103" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">注册表单前端</h1><p id="b9af" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">在我们添加了接受注册数据的后端之后，我们可以用Vue.js添加注册表单。</p><p id="4a0e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为此，我们可以写:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="a33a" class="mq lf it mm b gy mr ms l mt mu">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;form <a class="ae kf" href="http://twitter.com/submit" rel="noopener ugc nofollow" target="_blank">@submit</a>.prevent="login"&gt;<br/>      &lt;div&gt;<br/>        &lt;label for="username"&gt;username&lt;/label&gt;<br/>        &lt;input name="username" v-model="username" placeholder="username"&gt;<br/>      &lt;/div&gt;<br/>      &lt;div&gt;<br/>        &lt;label for="password"&gt;password&lt;/label&gt;<br/>        &lt;input name="password" v-model="password" placeholder="password" type="password"&gt;<br/>      &lt;/div&gt;<br/>      &lt;div&gt;<br/>        &lt;label for="firstName"&gt;first name&lt;/label&gt;<br/>        &lt;input name="firstName" v-model="firstName" placeholder="first name"&gt;<br/>      &lt;/div&gt;<br/>      &lt;div&gt;<br/>        &lt;label for="lastName"&gt;last name&lt;/label&gt;<br/>        &lt;input name="lastName" v-model="lastName" placeholder="last name"&gt;<br/>      &lt;/div&gt;</span><span id="94d9" class="mq lf it mm b gy mv ms l mt mu">&lt;div&gt;<br/>        &lt;label for="age"&gt;age&lt;/label&gt;<br/>        &lt;input name="age" v-model="age" placeholder="age" type="number"&gt;<br/>      &lt;/div&gt;<br/>      &lt;div&gt;<br/>        &lt;label for="address"&gt;address&lt;/label&gt;<br/>        &lt;input name="address" v-model="address" placeholder="address"&gt;<br/>      &lt;/div&gt;<br/>      &lt;input type="submit" value="register"&gt;<br/>    &lt;/form&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="11e5" class="mq lf it mm b gy mv ms l mt mu">&lt;script&gt;<br/>export default {<br/>  name: "App",<br/>  data() {<br/>    return {<br/>      username: "",<br/>      password: "",<br/>      firstName: "",<br/>      lastName: "",<br/>      age: "",<br/>      address: ""<br/>    };<br/>  },<br/>  methods: {<br/>    async login() {<br/>      const { username, password, firstName, lastName, age, address } = this;<br/>      const res = await fetch(<br/>        "https://SomberHandsomePhysics--five-nine.repl.co/register",<br/>        {<br/>          method: "POST",<br/>          headers: {<br/>            "Content-Type": "application/json"<br/>          },<br/>          body: JSON.stringify({<br/>            username,<br/>            password,<br/>            firstName,<br/>            lastName,<br/>            age,<br/>            address<br/>          })<br/>        }<br/>      );<br/>      const data = await res.json();<br/>      console.log(data);<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="dc5b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们添加了一个带有<code class="fe mw mx my mm b">form</code>元素的注册表单。</p><p id="ea1f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mw mx my mm b">submit.prevent</code> listen在提交时运行<code class="fe mw mx my mm b">login</code>方法，同时运行<code class="fe mw mx my mm b">preventDefault</code>。</p><p id="b873" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">表单域由<code class="fe mw mx my mm b">label</code>和<code class="fe mw mx my mm b">input</code>标签创建。</p><p id="e63b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mw mx my mm b">for</code>具有输入字段的<code class="fe mw mx my mm b">name</code>属性值。</p><p id="587f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mw mx my mm b">v-model</code>绑定到我们提交的值。</p><p id="f67d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还设置了一些输入的<code class="fe mw mx my mm b">type</code>属性。</p><p id="cf66" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mw mx my mm b">password</code>用于密码输入。</p><p id="410a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mw mx my mm b">number</code>用于数字输入。</p><p id="2ef1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mw mx my mm b">login</code>方法调用<code class="fe mw mx my mm b">fetch</code>向后端发出POST请求。</p><p id="b06c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们在第一行中获得了所有想要提交的反应属性。然后我们把它们都放在JSON字符串中。</p><p id="c9f1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mw mx my mm b">headers</code>必须将<code class="fe mw mx my mm b">Content-Type</code>设置为<code class="fe mw mx my mm b">application/json</code>才能提交JSON。</p><p id="4efb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一旦发出请求，我们就从<code class="fe mw mx my mm b">register</code>路由得到响应。</p><h1 id="c7c7" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="5ce7" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以用Vue.js创建一个带有<code class="fe mw mx my mm b">v-model</code>指令和<code class="fe mw mx my mm b">fetch</code>函数的注册表单来发出请求。</p></div></div>    
</body>
</html>