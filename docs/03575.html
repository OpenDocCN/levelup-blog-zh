<html>
<head>
<title>Building a Simple Controlled Form in React.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React.js中构建简单的控件表单</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/building-a-simple-controlled-form-in-react-js-b7e28236bf2e?source=collection_archive---------6-----------------------#2020-05-17">https://levelup.gitconnected.com/building-a-simple-controlled-form-in-react-js-b7e28236bf2e?source=collection_archive---------6-----------------------#2020-05-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/8f450c1aeabe3de3fc0f090c02914624.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*am5s5cEowYP44PHbTuXVjQ.jpeg"/></div></div></figure><p id="49d8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">今天，我们将在React.js中构建一个简单的受控表单。</p><h2 id="adb2" class="kz la it bd lb lc ld dn le lf lg dp lh km li lj lk kq ll lm ln ku lo lp lq lr bi translated">什么是受控表单？</h2><p id="32c7" class="pw-post-body-paragraph kb kc it kd b ke ls kg kh ki lt kk kl km lu ko kp kq lv ks kt ku lw kw kx ky im bi translated">受控表单的输入字段值由应用程序的状态决定，而应用程序的状态由输入字段值决定。当通过API调用发送/接收信息时，控制表单是非常重要的；我们可以使用应用程序的当前状态来反映表单中提交或填充了什么值。</p><p id="eece" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">下面是一个实际控制表单的示例:</p><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/7539ab6accff363d3b1b075acd2b4320.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*lWcZ6ynHB4Dclrmq6Ta-Tw.gif"/></div></figure><p id="5c74" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如你所见，左边的输入与右边的应用状态相对应。</p><p id="8213" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">你可以在这里找到这个演示的回购<a class="ae mc" href="https://github.com/jonathanbrierre/Simple-Controlled-Form" rel="noopener ugc nofollow" target="_blank">的链接</a>。</p><p id="ff4d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这是我的App.js组件:</p><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi md"><img src="../Images/5f5689664e51079dfc1c5bfd4739dc3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s5jqnTIHi7zYpLIdzJVayg.png"/></div></div></figure><p id="76e3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">因为这里发生了很多事情，所以让我们从表格JSX开始一点一点地分解它:</p><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi me"><img src="../Images/9bd7cf24a839ce82200b60611867b14b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MmKl4pQiFxK9OoUAvUPwkQ.png"/></div></div></figure><p id="b0b9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">对于每个输入，我们需要三个重要的属性来控制它:名称<strong class="kd iu"/>、<strong class="kd iu">值</strong>和<strong class="kd iu"> onChange </strong>事件监听器。</p><p id="8490" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> name </strong>属性将与我们的状态对象中存在的特定键相对应。</p><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/3a28073d6d714525d2cf36927240e746.png" data-original-src="https://miro.medium.com/v2/resize:fit:488/format:webp/1*sm38do5ZFujYbF9fi2LbNw.png"/></div></figure><p id="3a48" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">值</strong>属性将引用我们状态中相应键的精确值。</p><p id="8d60" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> onChange </strong>事件监听器将接受一个改变状态值的回调函数，从而同时改变输入字段的值。这是我们的回调函数:</p><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/426e1853e058dd3f6016a7ff3fa509fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*qCLgeGBmaKD42YL3XQW4iw.png"/></div></figure><p id="17e3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当回调接收一个事件对象(在本例中称为“e”)时，我们可以访问与该函数中的事件相关的信息。这就是我们用下面一行代码改变状态的地方:</p><pre class="ly lz ma mb gt mh mi mj mk aw ml bi"><span id="9d45" class="kz la it mi b gy mm mn l mo mp">this.setState({[e.target.name]:e.target.value})</span></pre><p id="c101" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们通过使用事件对象提供给我们的值，在状态中动态生成一个键。这是通过使用括号符号— [e.target.name]来完成的。这样做使得这个函数对于两个输入字段都是可重用的，因为当我们在一个字段上键入一个特定的名称时，这个回调将使用那个输入的名称来动态地在我们的状态中找到一个键进行编辑。</p><p id="0ca6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在你知道了！如果我们想将这个表单提交到后端，那么我们将获取存储在状态中的数据，然后将其与API调用一起传递——这是我们以前不控制表单就无法直接完成的事情。</p><h1 id="3f1d" class="mq la it bd lb mr ms mt le mu mv mw lh mx my mz lk na nb nc ln nd ne nf lq ng bi translated">资源</h1><div class="nh ni gp gr nj nk"><a href="https://reactjs.org/docs/forms.html" rel="noopener  ugc nofollow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd iu gy z fp np fr fs nq fu fw is bi translated">表单-反应</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">HTML表单元素的工作方式与React中的其他DOM元素稍有不同，因为表单元素自然会保持…</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">reactjs.org</p></div></div><div class="nt l"><div class="nu l nv nw nx nt ny jz nk"/></div></div></a></div><div class="nh ni gp gr nj nk"><a href="https://github.com/jonathanbrierre/Simple-Controlled-Form" rel="noopener  ugc nofollow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd iu gy z fp np fr fs nq fu fw is bi translated">jonathanbrierre/简单控制形式</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">这个项目是用Create React App引导的。在项目目录中，您可以运行:在…中运行应用程序</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">github.com</p></div></div><div class="nt l"><div class="nz l nv nw nx nt ny jz nk"/></div></div></a></div></div></div>    
</body>
</html>