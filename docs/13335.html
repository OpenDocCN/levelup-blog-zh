<html>
<head>
<title>Python tutorial on how to use Folium to publish an interactive map</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于如何使用follow发布交互式地图的Python教程</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/python-tutorial-on-how-to-use-folium-to-publish-an-interactive-map-31a4120b19c4?source=collection_archive---------0-----------------------#2022-08-28">https://levelup.gitconnected.com/python-tutorial-on-how-to-use-folium-to-publish-an-interactive-map-31a4120b19c4?source=collection_archive---------0-----------------------#2022-08-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/2cca1221506f2fefbc9e0af8a3058af8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*s1p96IHDV9okx4lX.png"/></div></div></figure><p id="17ec" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这个例子提供了一个关于如何用一些简单的形状创建一个<a class="ae kw" href="https://python-visualization.github.io/folium/modules.html" rel="noopener ugc nofollow" target="_blank">叶子</a>地图的快速概述。</p><p id="d28f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">要开始，去<a class="ae kw" href="https://mecsimcalc.com/create" rel="noopener ugc nofollow" target="_blank">mecsimcalc.com/create</a>，点击地图，选择绘制形状。</p><h1 id="6aeb" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">第一步:输入<a class="ae kw" href="https://docs.mecsimcalc.com/maps/example-3#step-1-inputs" rel="noopener ugc nofollow" target="_blank">和</a></h1><p id="ae22" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">对于输入，创建具有以下属性的单个选择:</p><ul class=""><li id="5ca2" class="ma mb iq ka b kb kc kf kg kj mc kn md kr me kv mf mg mh mi bi translated">名称:map_tile</li><li id="2d82" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">标签:地图框</li><li id="ed37" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">选项:</li><li id="1f96" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">OpenStreetMap</li><li id="0fee" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">雄蕊地形</li><li id="35bd" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">雄蕊调色剂</li><li id="fdce" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">雄蕊水彩</li></ul><p id="c10f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">并创建一个具有以下属性的颜色选择器:</p><ul class=""><li id="b625" class="ma mb iq ka b kb kc kf kg kj mc kn md kr me kv mf mg mh mi bi translated">名称:颜色</li><li id="984f" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">标签:形状颜色</li><li id="f743" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">默认值:#43BFF5</li></ul><h1 id="fef3" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">第二步:编码<a class="ae kw" href="https://docs.mecsimcalc.com/maps/example-3#step-2-code" rel="noopener ugc nofollow" target="_blank"> </a></h1><h1 id="f399" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">创建地图<a class="ae kw" href="https://docs.mecsimcalc.com/maps/example-3#creating-a-map" rel="noopener ugc nofollow" target="_blank"> </a></h1><p id="ef60" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">首先创建一个叶子地图实例<code class="fe mo mp mq mr b">m</code>，它具有以下属性:</p><ul class=""><li id="2b3d" class="ma mb iq ka b kb kc kf kg kj mc kn md kr me kv mf mg mh mi bi translated"><code class="fe mo mp mq mr b">location</code>:经纬度地图的初始中心。</li><li id="35a5" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><code class="fe mo mp mq mr b">zoom_start</code>:初始缩放级别。</li><li id="1850" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><code class="fe mo mp mq mr b">tiles</code>:地图平铺。</li><li id="e956" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">地图分块指定要使用的地图类型，例如卫星与道路。</li><li id="189f" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><code class="fe mo mp mq mr b">"OpenStreetMap"</code>是用来看道路的标准瓦片。</li><li id="a13e" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">点击查看可能的地图区块<a class="ae kw" href="https://python-visualization.github.io/folium/modules.html" rel="noopener ugc nofollow" target="_blank">。</a></li></ul><pre class="ms mt mu mv gt mw mr mx my aw mz bi"><span id="f580" class="na ky iq mr b gy nb nc l nd ne">m = folium.Map(location=[45.372, -121.6972],<br/>                zoom_start=15, tiles=inputs['map_tile'])</span></pre><h1 id="9917" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">添加形状<a class="ae kw" href="https://docs.mecsimcalc.com/maps/example-3#adding-shapes" rel="noopener ugc nofollow" target="_blank">和</a></h1><p id="e249" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">要将形状添加到您的地图，首先创建形状，然后使用<code class="fe mo mp mq mr b">.add_to(m)</code>将其添加到您的地图。</p><p id="c797" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">向您的地图添加两个<code class="fe mo mp mq mr b"><a class="ae kw" href="https://python-visualization.github.io/folium/modules.html#folium.map.Marker" rel="noopener ugc nofollow" target="_blank">Markers</a></code>:</p><ul class=""><li id="ccb8" class="ma mb iq ka b kb kc kf kg kj mc kn md kr me kv mf mg mh mi bi translated"><code class="fe mo mp mq mr b">location</code>是经纬度中的标记位置。</li><li id="b693" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">点击标记时会显示<code class="fe mo mp mq mr b">popup</code>。您可以在字符串中使用HTML。</li><li id="abe4" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><code class="fe mo mp mq mr b">tooltip</code>将鼠标悬停在标记上时显示。</li><li id="bd83" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><code class="fe mo mp mq mr b">icon</code>是标记的可选图标。</li></ul><pre class="ms mt mu mv gt mw mr mx my aw mz bi"><span id="fda9" class="na ky iq mr b gy nb nc l nd ne">folium.Marker(<br/>    [45.372, -121.6972], popup="&lt;i&gt;Italic popup text&lt;/i&gt;", tooltip="Click on Marker"<br/>).add_to(m)</span><span id="3134" class="na ky iq mr b gy nf nc l nd ne">folium.Marker(  <em class="ng"># Marker with icon</em><br/>    location=[45.371, -121.683],<br/>    popup="&lt;b&gt;Bold popup text&lt;/b&gt;",<br/>    tooltip="Click on Marker",<br/>    icon=folium.Icon(color=inputs['color'], icon="info-sign"),<br/>).add_to(m)</span></pre><p id="60d7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">向您的地图添加一个<code class="fe mo mp mq mr b"><a class="ae kw" href="https://python-visualization.github.io/folium/modules.html#folium.vector_layers.PolyLine" rel="noopener ugc nofollow" target="_blank">PolyLine</a></code>:</p><ul class=""><li id="d3fe" class="ma mb iq ka b kb kc kf kg kj mc kn md kr me kv mf mg mh mi bi translated"><code class="fe mo mp mq mr b">locations</code>是连接时构成直线的点的列表。</li><li id="c34b" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><code class="fe mo mp mq mr b">color</code>是线条的颜色，为十六进制颜色代码。</li><li id="762f" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><code class="fe mo mp mq mr b">tooltip</code>将鼠标悬停在折线上时显示。</li><li id="fbf4" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><code class="fe mo mp mq mr b">weight</code>是线条粗细。</li><li id="a603" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><code class="fe mo mp mq mr b">opacity</code>是线条的透明度。</li></ul><pre class="ms mt mu mv gt mw mr mx my aw mz bi"><span id="4290" class="na ky iq mr b gy nb nc l nd ne">lat_lng_points = [[45.372, -121.6972],<br/>                    [45.373, -121.6831],<br/>                    [45.371, -121.683]]<br/>folium.PolyLine(locations=lat_lng_points,<br/>                color=inputs['color'],<br/>                tooltip="PolyLine",<br/>                weight=5,  <em class="ng"># line thickness</em><br/>                opacity=0.8  <em class="ng"># transparency</em><br/>                ).add_to(m)</span></pre><p id="11b5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">向您的地图添加一个<code class="fe mo mp mq mr b"><a class="ae kw" href="https://python-visualization.github.io/folium/modules.html#folium.vector_layers.Circle" rel="noopener ugc nofollow" target="_blank">Circle</a></code>:</p><ul class=""><li id="0503" class="ma mb iq ka b kb kc kf kg kj mc kn md kr me kv mf mg mh mi bi translated"><code class="fe mo mp mq mr b">radius</code>是圆的半径。</li><li id="eb6b" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><code class="fe mo mp mq mr b">location</code>是经纬度上的圆心。</li><li id="35cd" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><code class="fe mo mp mq mr b">tooltip</code>悬停在圆圈上方时显示。</li><li id="6594" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">点击圆圈时会显示<code class="fe mo mp mq mr b">popup</code>。您可以在字符串中使用HTML。</li><li id="2ec1" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><code class="fe mo mp mq mr b">color</code>是圆的颜色作为十六进制颜色代码。</li></ul><pre class="ms mt mu mv gt mw mr mx my aw mz bi"><span id="477c" class="na ky iq mr b gy nb nc l nd ne">folium.Circle(<br/>    radius=100,<br/>    location=[45.372, -121.6972],<br/>    tooltip="Click on Circle",<br/>    popup="Circle",<br/>    color=inputs['color'],<br/>    fill=False,<br/>).add_to(m)</span></pre><h1 id="0146" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">导出地图<a class="ae kw" href="https://docs.mecsimcalc.com/maps/example-3#exporting-the-map" rel="noopener ugc nofollow" target="_blank"> </a></h1><p id="6684" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">最后，要导出地图，只需使用<code class="fe mo mp mq mr b">._repr_html_()</code>将叶子地图对象转换成可以在输出步骤中显示的HTML。</p><pre class="ms mt mu mv gt mw mr mx my aw mz bi"><span id="07b5" class="na ky iq mr b gy nb nc l nd ne">map_html = m._repr_html_()<br/>return {"map": map_html}</span></pre><h1 id="396e" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">完整代码<a class="ae kw" href="https://docs.mecsimcalc.com/maps/example-3#full-code" rel="noopener ugc nofollow" target="_blank"> </a></h1><pre class="ms mt mu mv gt mw mr mx my aw mz bi"><span id="dd3d" class="na ky iq mr b gy nb nc l nd ne">import folium<br/></span><span id="ffb0" class="na ky iq mr b gy nf nc l nd ne">def main(inputs):<br/>    <em class="ng"># Create a folium map</em><br/>    m = folium.Map(location=[45.372, -121.6972],<br/>                   zoom_start=15, tiles=inputs['map_tile'])</span><span id="9d4b" class="na ky iq mr b gy nf nc l nd ne">    <em class="ng"># Add markers to map</em><br/>    folium.Marker(<br/>        [45.372, -121.6972], popup="&lt;i&gt;Italic popup text&lt;/i&gt;", tooltip="Click on Marker"<br/>    ).add_to(m)<br/>    folium.Marker(  <em class="ng"># Marker with icon</em><br/>        location=[45.371, -121.683],<br/>        popup="&lt;b&gt;Bold popup text&lt;/b&gt;",<br/>        tooltip="Click on Marker",<br/>        icon=folium.Icon(color=inputs['color'], icon="info-sign"),<br/>    ).add_to(m)</span><span id="6698" class="na ky iq mr b gy nf nc l nd ne">    <em class="ng"># Add line shape</em><br/>    lat_lng_points = [[45.372, -121.6972],<br/>                      [45.373, -121.6831],<br/>                      [45.371, -121.683]]<br/>    folium.PolyLine(lat_lng_points,<br/>                    color=inputs['color'],<br/>                    tooltip="PolyLine",<br/>                    weight=5,  <em class="ng"># line thickness</em><br/>                    opacity=0.8  <em class="ng"># transparency</em><br/>                    ).add_to(m)</span><span id="a381" class="na ky iq mr b gy nf nc l nd ne">    <em class="ng"># Add circle shape</em><br/>    folium.Circle(<br/>        radius=100,<br/>        location=[45.372, -121.6972],<br/>        tooltip="Click on Circle",<br/>        popup="Circle",<br/>        color=inputs['color'],<br/>        fill=False,<br/>    ).add_to(m)</span><span id="2856" class="na ky iq mr b gy nf nc l nd ne">    <em class="ng"># Export folium map as HTML string</em><br/>    map_html = m._repr_html_()</span><span id="a147" class="na ky iq mr b gy nf nc l nd ne">    return {"map": map_html}</span></pre><h1 id="f52d" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">第三步:输出<a class="ae kw" href="https://docs.mecsimcalc.com/maps/example-3#step-3-output" rel="noopener ugc nofollow" target="_blank"> </a></h1><pre class="ms mt mu mv gt mw mr mx my aw mz bi"><span id="1838" class="na ky iq mr b gy nb nc l nd ne">{{ outputs.map }}</span></pre><figure class="ms mt mu mv gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/2cca1221506f2fefbc9e0af8a3058af8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*s1p96IHDV9okx4lX.png"/></div></div></figure><p id="5081" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ng">更多教程，请访问</em> <a class="ae kw" href="https://docs.mecsimcalc.com/" rel="noopener ugc nofollow" target="_blank"> <em class="ng">这里</em> </a> <em class="ng">。</em></p></div></div>    
</body>
</html>