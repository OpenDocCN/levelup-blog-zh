<html>
<head>
<title>Tutorial for React Beginners - Building A Recipe Book In React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React初学者教程——在React中构建食谱</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/building-a-recipe-book-in-react-part-1-c05b3e53cbb1?source=collection_archive---------0-----------------------#2018-08-15">https://levelup.gitconnected.com/building-a-recipe-book-in-react-part-1-c05b3e53cbb1?source=collection_archive---------0-----------------------#2018-08-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/50cd15f0ae39c8645c492fcf0092bd88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*WcUwKCZW4Ax5Mn2a.png"/></div></div></figure><h1 id="95a1" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">介绍</h1><p id="9551" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">当我开始学习React时，我发现有时很难跟上。我发现有些教程对我来说节奏有点太快了。</p><p id="c08e" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">因此，我决定自己写一个关于如何使用React创建食谱的分步指南。</p><p id="3ef3" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">这将包括使用<code class="fe lz ma mb mc b">create-react-app</code>的基本知识，不会使用许多花哨的包。</p><p id="7548" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">我并不自称React专家(我自己还在学习中)，所以如果你发现了错误，欢迎留言评论！😸</p><h1 id="cc18" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated"><strong class="ak">先决条件</strong></h1><ol class=""><li id="3727" class="md me iq ky b kz la ld le lh mf ll mg lp mh lt mi mj mk ml bi translated">下载<a class="ae mm" href="https://www.npmjs.com/get-npm" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> npm </strong> </a></li></ol><p id="2981" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">我们使用节点包管理器(NPM)来下载和管理应用程序中的包。</p><p id="2e27" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">2.安装<strong class="ky ir">反应</strong>和<a class="ae mm" href="https://www.npmjs.com/package/react-cli" rel="noopener ugc nofollow" target="_blank">反应CLI </a></p><pre class="mn mo mp mq gt mr mc ms mt aw mu bi"><span id="0ef6" class="mv jz iq mc b gy mw mx l my mz">npm install -g react-cli react</span></pre><p id="4b53" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">我们希望安装React和React命令行接口，这样我们就可以在文件系统中的任何地方使用它们来创建React应用程序。</p><p id="7749" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">3.安装<strong class="ky ir">纱线</strong></p><pre class="mn mo mp mq gt mr mc ms mt aw mu bi"><span id="4bd6" class="mv jz iq mc b gy mw mx l my mz">npm install homebrew<br/>brew install yarn</span></pre><p id="c568" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">家酿是另一个包管理器，我们需要安装纱线。我们使用Yarn来安装包依赖项。</p><p id="d206" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">4.安装<strong class="ky ir"> sass </strong></p><pre class="mn mo mp mq gt mr mc ms mt aw mu bi"><span id="a197" class="mv jz iq mc b gy mw mx l my mz">npm install -g sass</span></pre><p id="6f22" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">我们使用语法上很棒的Stylesheeets作为我们的CSS预处理器，使我们的样式模块化，并获得CSS没有提供的功能。</p><p id="0fd1" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">我使用<a class="ae mm" href="https://github.com/ejbostian/react-recipes.git" rel="noopener ugc nofollow" target="_blank"> GitHub </a>来托管所有的代码，所以请随意派生/克隆我的repo并跟随！</p></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h1 id="6c04" class="jy jz iq bd ka kb nh kd ke kf ni kh ki kj nj kl km kn nk kp kq kr nl kt ku kv bi translated"><strong class="ak">第一步:项目架构</strong></h1><p id="8fe6" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated"><em class="nm">所有代码都可以在</em> <a class="ae mm" href="https://github.com/ejbostian/react-recipes" rel="noopener ugc nofollow" target="_blank"> <em class="nm">这里找到</em> </a> <em class="nm">。</em></p><ol class=""><li id="8a6f" class="md me iq ky b kz lu ld lv lh nn ll no lp np lt mi mj mk ml bi translated">使用命令行，将CD放入项目文件夹。我将我的存储库克隆到我的桌面上，因此我的命令如下所示:</li></ol><pre class="mn mo mp mq gt mr mc ms mt aw mu bi"><span id="669f" class="mv jz iq mc b gy mw mx l my mz">cd Desktop/react-recipes</span></pre><p id="c7ff" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">2.进入项目目录后，运行以下命令。</p><pre class="mn mo mp mq gt mr mc ms mt aw mu bi"><span id="8327" class="mv jz iq mc b gy mw mx l my mz">create-react-app .</span></pre><p id="7df8" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">这将在已经建立的目录中创建一个React应用程序。要创建没有项目文件夹的新应用程序，请运行:</p><pre class="mn mo mp mq gt mr mc ms mt aw mu bi"><span id="ce4f" class="mv jz iq mc b gy mw mx l my mz">create-react-app <em class="nm">name-of-app</em></span></pre><p id="0b9b" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">3.一旦<code class="fe lz ma mb mc b">create-react-app</code>完成，安装依赖项:</p><pre class="mn mo mp mq gt mr mc ms mt aw mu bi"><span id="c965" class="mv jz iq mc b gy mw mx l my mz">yarn</span></pre><p id="5e29" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">4.现在，我们将在您选择的IDE中打开应用程序(我喜欢<a class="ae mm" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank">与代码</a>)并启动应用程序。</p><p id="c5e4" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">一旦你在IDE中打开你的项目，这就是你的<code class="fe lz ma mb mc b">src/</code>文件夹的样子。</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="2e1a" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">在命令行运行<code class="fe lz ma mb mc b">yarn start</code>，查看默认的<code class="fe lz ma mb mc b">create-react-app</code>登陆页面。</p><p id="26d6" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">5.接下来，删除我们不会使用的文件:<code class="fe lz ma mb mc b">App.css</code>、<code class="fe lz ma mb mc b">App.test.js</code>、<code class="fe lz ma mb mc b">index.css</code>和<code class="fe lz ma mb mc b">logo.svg</code>。</p><p id="bf03" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">我喜欢我的组件模块化，所以让我们继续添加一些文件夹来构建我们的应用程序。</p><p id="d8fe" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">在<code class="fe lz ma mb mc b">src/</code>中创建一个<code class="fe lz ma mb mc b">components</code>文件夹，并将<code class="fe lz ma mb mc b">App.js</code>移动到里面。</p><p id="ffe6" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">你的<code class="fe lz ma mb mc b">src/</code>文件夹结构现在应该是这样的。</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="46e6" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">6.更新<code class="fe lz ma mb mc b">index.js</code>以指向<code class="fe lz ma mb mc b">App.js</code>的新路径，并删除我们刚刚删除的文件的旧导入。</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="4ee2" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">7.在<code class="fe lz ma mb mc b">App.js</code>内部，删除旧的导入和用<code class="fe lz ma mb mc b">create-react-app</code>得到的默认代码。</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><h2 id="3001" class="mv jz iq bd ka ns nt dn ke nu nv dp ki lh nw nx km ll ny nz kq lp oa ob ku oc bi translated">设置Sass</h2><p id="2928" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">这里有一个快速简单的方法在你的项目中使用Sass而不用弹出！</p><ol class=""><li id="ca53" class="md me iq ky b kz lu ld lv lh nn ll no lp np lt mi mj mk ml bi translated">在<code class="fe lz ma mb mc b">src/</code>中创建一个<code class="fe lz ma mb mc b">styles/</code>文件夹，并在其中添加两个文件夹:<code class="fe lz ma mb mc b">scss/</code>和<code class="fe lz ma mb mc b">css/</code>。在<code class="fe lz ma mb mc b">scss/</code>文件夹内，再添加两个文件夹:<code class="fe lz ma mb mc b">base/</code>和<code class="fe lz ma mb mc b">components/</code>。另外，在<code class="fe lz ma mb mc b">scss/</code>文件夹中添加一个<code class="fe lz ma mb mc b">index.scss</code>文件。</li></ol><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="bd2f" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">2.更新<code class="fe lz ma mb mc b">index.js</code>以包含到<code class="fe lz ma mb mc b">index.css</code>的路径(我们还没有生成)。它将存在于<code class="fe lz ma mb mc b">src/styles/css</code>文件夹中。</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="886c" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">3.现在，让我们添加一些样式来看看SCSS到CSS的转换。</p><ul class=""><li id="1377" class="md me iq ky b kz lu ld lv lh nn ll no lp np lt od mj mk ml bi translated">在<code class="fe lz ma mb mc b">styles/base/</code>内部，创建<code class="fe lz ma mb mc b">_variables.scss</code>和<code class="fe lz ma mb mc b">_elements.scss</code>。元素partial将包含基本HTML元素的任何样式，如<code class="fe lz ma mb mc b">&lt;body&gt;</code>、<code class="fe lz ma mb mc b">&lt;h1&gt;</code>等。变量partial将包含字体、颜色等变量。</li></ul><p id="644c" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">Sass中的片段是Sass代码的片段，你可以将它们包含在其他Sass文件中。我们正在为变量和基本元素创建一个分部，这样我们可以将每种类型的样式分开。我们将每个部分导入到<code class="fe lz ma mb mc b">index.scss</code>文件中，以便在我们的HTML文件中使用它。部分由文件名中的下划线表示(尽管您可以在导入过程中省略它)。</p><p id="b319" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">我在<code class="fe lz ma mb mc b">index.html</code>文件中加入了一个<a class="ae mm" href="https://fonts.google.com/?selection.family=Lato" rel="noopener ugc nofollow" target="_blank">谷歌字体</a>，并且清理了一些<code class="fe lz ma mb mc b">create-react-app</code>默认注释。我还更新了应用程序的标题。</p><ul class=""><li id="1afb" class="md me iq ky b kz lu ld lv lh nn ll no lp np lt od mj mk ml bi translated">在<code class="fe lz ma mb mc b">index.html</code>文件中包含自定义字体链接后，在<code class="fe lz ma mb mc b">src/styles/scss/base/_variables.scss</code>中创建两个变量<code class="fe lz ma mb mc b">$color-main</code>和<code class="fe lz ma mb mc b">$font-main</code>。</li></ul><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="e11e" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">4.在<code class="fe lz ma mb mc b">styles/scss/base/_elements.scss</code>中，设置<code class="fe lz ma mb mc b">&lt;h1&gt;</code>背景色和字体系列。</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="9d53" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">5.在<code class="fe lz ma mb mc b">styles/scss/index.scss</code>里面，导入分音。</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="3341" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">现在，让我们使用Sass watch将Sass代码(SCSS)转换成CSS！</p><p id="14ad" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">6.在<code class="fe lz ma mb mc b">package.json</code>中，创建一个新脚本:</p><pre class="mn mo mp mq gt mr mc ms mt aw mu bi"><span id="4fb5" class="mv jz iq mc b gy mw mx l my mz"><em class="nm">"sass"</em> : "sass --watch src/styles/scss:src/styles/css"</span></pre><p id="bec5" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">这将获取在<code class="fe lz ma mb mc b">src/styles/scss</code>中找到的任何Sass (SCSS)文件，并将其转换成<code class="fe lz ma mb mc b">src/styles/css</code>中的CSS代码。</p><p id="9ff1" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">7.在终端中，运行<code class="fe lz ma mb mc b">yarn run sass</code>。这将把<code class="fe lz ma mb mc b">index.scss</code>转换成<code class="fe lz ma mb mc b">index.css</code>和<code class="fe lz ma mb mc b">index.css.map</code>。</p><p id="b0ba" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">8.运行<code class="fe lz ma mb mc b">yarn start</code>查看您新创建的应用程序！</p><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oe"><img src="../Images/c5ccedc30bf6d0d1ee1752a845723dc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MBvFiiKOPvpaZIye0jfsog.png"/></div></div></figure></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h1 id="584b" class="jy jz iq bd ka kb nh kd ke kf ni kh ki kj nj kl km kn nk kp kq kr nl kt ku kv bi translated">步骤2:配方成分</h1><p id="d939" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">我们将为这个应用程序使用两个额外的组件:<strong class="ky ir">导航</strong>和<strong class="ky ir">配方。</strong></p><p id="4608" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">让我们从菜谱组件开始。</p><ol class=""><li id="0ff0" class="md me iq ky b kz lu ld lv lh nn ll no lp np lt mi mj mk ml bi translated">在<code class="fe lz ma mb mc b">src/components</code>中创建一个名为<code class="fe lz ma mb mc b">Recipe.js</code>的新文件。进口反应。并在文件末尾包含导出语句。</li></ol><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="7aff" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">2.我们希望能够将数据(作为道具)传递给我们的食谱组件。所以让我们在状态中创建一个食谱数组，它将存在于<code class="fe lz ma mb mc b">App.js</code>中。</p><ul class=""><li id="5ddc" class="md me iq ky b kz lu ld lv lh nn ll no lp np lt od mj mk ml bi translated">创建一个构造函数并调用<code class="fe lz ma mb mc b"><a class="ae mm" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/super" rel="noopener ugc nofollow" target="_blank">super();</a></code></li></ul><p id="4e3a" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">对于每个食谱，我们需要在我们的状态中跟踪哪种信息？</p><ul class=""><li id="1d6b" class="md me iq ky b kz lu ld lv lh nn ll no lp np lt od mj mk ml bi translated"><strong class="ky ir">配料</strong>:串[]</li><li id="5feb" class="md me iq ky b kz of ld og lh oh ll oi lp oj lt od mj mk ml bi translated"><strong class="ky ir">步骤</strong>:字符串[]</li><li id="4282" class="md me iq ky b kz of ld og lh oh ll oi lp oj lt od mj mk ml bi translated"><strong class="ky ir">标题</strong>:字符串</li><li id="ea7a" class="md me iq ky b kz of ld og lh oh ll oi lp oj lt od mj mk ml bi translated"><strong class="ky ir"> id </strong>:字符串</li><li id="e2dd" class="md me iq ky b kz of ld og lh oh ll oi lp oj lt od mj mk ml bi translated">在构造函数中创建<code class="fe lz ma mb mc b">this.state</code>,并将两个项目添加到我们的食谱数组中。</li></ul><p id="4743" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">理想情况下，每个食谱的id应该通过一个函数来确保它的唯一性，但是为了简单起见，我们将只显式地设置它。</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="8d32" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">你可以另外选择去掉 <code class="fe lz ma mb mc b"><a class="ae mm" href="https://medium.com/@nikolalsvk/loosing-bind-this-in-react-8637ebf372cf" rel="noopener">.bind(this)</a></code>，但是为了简单起见，我把它留在这里。</p><p id="bb92" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">3.为了检查传递给Recipe组件的数据类型，我们将使用PropTypes。我们希望确保我们收到的数据是我们期望的数据类型。</p><pre class="mn mo mp mq gt mr mc ms mt aw mu bi"><span id="aa9b" class="mv jz iq mc b gy mw mx l my mz">npm install prop-types --save</span></pre><ul class=""><li id="ebac" class="md me iq ky b kz lu ld lv lh nn ll no lp np lt od mj mk ml bi translated">将<code class="fe lz ma mb mc b">PropTypes</code>导入<code class="fe lz ma mb mc b">Recipe.js</code>。</li><li id="b792" class="md me iq ky b kz of ld og lh oh ll oi lp oj lt od mj mk ml bi translated">在组件的底部，在导出之前，添加一个带有我们将要传入的相应属性的<code class="fe lz ma mb mc b">propTypes</code>键:<strong class="ky ir">配料</strong>、<strong class="ky ir">步骤</strong>、<strong class="ky ir">标题</strong>和<strong class="ky ir"> id </strong>。我在这些上面设置了<code class="fe lz ma mb mc b">isRequired</code>标志，因为我们不想展示没有它们的食谱。</li></ul><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><ul class=""><li id="87f4" class="md me iq ky b kz lu ld lv lh nn ll no lp np lt od mj mk ml bi translated">在<code class="fe lz ma mb mc b">render</code>函数中的<code class="fe lz ma mb mc b">return()</code>语句前创建两个常量<code class="fe lz ma mb mc b">ingredients</code>和<code class="fe lz ma mb mc b">steps,</code>。这将为配料和步骤数组中的每一项创建新的列表项。你可以在JSX做到这一点，但我喜欢将我的逻辑提取到变量中。</li></ul><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><ul class=""><li id="a522" class="md me iq ky b kz lu ld lv lh nn ll no lp np lt od mj mk ml bi translated">为标题、配料和步骤标题添加HTML元素，并显示我们刚刚用const创建的配料和步骤列表。</li></ul><p id="3b74" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">下面是<code class="fe lz ma mb mc b">Recipe.js</code>应该是什么样子:</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="7ace" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">4.回到<code class="fe lz ma mb mc b">App.js</code>，让我们遍历每一个食谱并实际传递数据。</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="fd77" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">这将为该状态下的每个配方创建一个新的<code class="fe lz ma mb mc b">&lt;Recipe /&gt;</code>组件。</p><p id="67df" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">下面是<code class="fe lz ma mb mc b">App.js</code>的样子:</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="444f" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">现在你应该看到你的每一个食谱都列出了它们各自的成分和步骤。</p><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ok"><img src="../Images/86ec296f1c4460c32aa34d4a011f503d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UPDemeW3xq0QErNlaPLahg.png"/></div></div></figure><p id="0a08" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">看起来还不是超级好看，但是很管用！</p></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h1 id="cb20" class="jy jz iq bd ka kb nh kd ke kf ni kh ki kj nj kl km kn nk kp kq kr nl kt ku kv bi translated">步骤3:导航组件</h1><ol class=""><li id="d25e" class="md me iq ky b kz la ld le lh mf ll mg lp mh lt mi mj mk ml bi translated">在<code class="fe lz ma mb mc b">components/</code>文件夹中，创建<code class="fe lz ma mb mc b">Navigation.js</code>。</li></ol><p id="3cc3" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">导航组件目前只需要一个道具:食谱列表。</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="0e78" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">2.在<code class="fe lz ma mb mc b">App.js</code>中包含导航组件</p><ul class=""><li id="2410" class="md me iq ky b kz lu ld lv lh nn ll no lp np lt od mj mk ml bi translated">在<code class="fe lz ma mb mc b">App.js</code>内部，导入<code class="fe lz ma mb mc b">Navigation.js</code>并将其包含在<code class="fe lz ma mb mc b">render()</code>函数中。</li><li id="492d" class="md me iq ky b kz of ld og lh oh ll oi lp oj lt od mj mk ml bi translated">加一个<code class="fe lz ma mb mc b">recipes</code>道具，从状态传食谱列表。</li></ul><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="4e51" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">3.回到<code class="fe lz ma mb mc b">Navigation.js</code>，让我们把食谱渲染成按钮。</p><ul class=""><li id="1111" class="md me iq ky b kz lu ld lv lh nn ll no lp np lt od mj mk ml bi translated">遍历数组中的每个配方，并动态生成一个元素。</li></ul><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="adfe" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">4.现在，让我们开发当相应的导航按钮被按下时显示正确配方的逻辑。</p><ul class=""><li id="4ce9" class="md me iq ky b kz lu ld lv lh nn ll no lp np lt od mj mk ml bi translated">在<code class="fe lz ma mb mc b">App.js</code>中，创建一个名为<code class="fe lz ma mb mc b">selectedRecipe</code>的新状态。这将包含当前显示的食谱的id。我们暂时可以将初始状态设置为<code class="fe lz ma mb mc b">null</code>。</li><li id="eb60" class="md me iq ky b kz of ld og lh oh ll oi lp oj lt od mj mk ml bi translated">在渲染函数中，我们只想为当前选中的菜谱创建一个<code class="fe lz ma mb mc b">&lt;Recipe&gt;</code>组件。为此，我们可以使用<code class="fe lz ma mb mc b">array.filter()</code>功能。</li></ul><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="33fd" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">除了我们的初始状态值为<code class="fe lz ma mb mc b">null</code>之外，这很好，所以让我们将上面的语句包装在一个“if”语句中，以确保定义了“this.state.selectedRecipe”。</p><pre class="mn mo mp mq gt mr mc ms mt aw mu bi"><span id="0e22" class="mv jz iq mc b gy mw mx l my mz">if(this.state.selectedRecipe) {</span><span id="c0f0" class="mv jz iq mc b gy ol mx l my mz">...</span><span id="9413" class="mv jz iq mc b gy ol mx l my mz">}</span></pre><p id="e667" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">此外，<code class="fe lz ma mb mc b">filter()</code>函数返回符合该描述的项目数组。所以我们引入一个局部变量叫做<code class="fe lz ma mb mc b">recipeToSelect</code>。</p><p id="3476" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">我们将在刚刚编写的<code class="fe lz ma mb mc b">if()</code>语句之前声明它，如果<code class="fe lz ma mb mc b">filteredRecipes</code>至少返回一项，我们将把它赋给找到的第一个值(它应该只返回一个，所以这更像是一种边缘情况检查)。</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="adf7" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">现在，我们可以检查<code class="fe lz ma mb mc b">recipeToSelect</code>是否有值。如果是，用那个id呈现<code class="fe lz ma mb mc b">&lt;Recipe&gt;</code>组件，否则，只返回null。</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="0f9c" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">5.接下来，我们想用第一个食谱初始化我们的应用程序，所以让我们添加一个<code class="fe lz ma mb mc b">componentDidMount()</code>生命周期函数。</p><p id="dc09" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">如果配方状态数组中有配方，将<code class="fe lz ma mb mc b">selectedRecipe</code>的状态设置为其<code class="fe lz ma mb mc b">id</code>。</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="a886" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">7.我们需要做的最后一件事是，当单击导航按钮时，更新显示哪个配方。</p><p id="7d29" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">在<code class="fe lz ma mb mc b">App.js</code>中，让我们创建一个将<code class="fe lz ma mb mc b">selectedRecipe</code>状态设置为所选配方的函数。</p><p id="95e0" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">在构造函数下面，添加一个名为<code class="fe lz ma mb mc b">selectNewRecipe</code>的函数。这将采用一个参数<code class="fe lz ma mb mc b">recipeId</code>并更新状态，如果这个值存在的话。</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="486f" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">这看起来很棒，除了一件事:我们需要将这个函数绑定到<code class="fe lz ma mb mc b">App</code>。否则<code class="fe lz ma mb mc b">this</code>上下文就全错了。</p><p id="c0ed" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">在构造函数内部，为<code class="fe lz ma mb mc b">selectNewRecipe</code>添加一个绑定。</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="dd52" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">酷！那么我们如何让子组件(导航)在按钮被点击时调用这个函数呢？</p><ul class=""><li id="ece4" class="md me iq ky b kz lu ld lv lh nn ll no lp np lt od mj mk ml bi translated">把这个函数作为一个道具传递给导航。</li></ul><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="8a62" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">我们刚刚以prop的形式创建了对该函数的引用。</p><ul class=""><li id="dfcb" class="md me iq ky b kz lu ld lv lh nn ll no lp np lt od mj mk ml bi translated">在<code class="fe lz ma mb mc b">Navigation.js</code>内部，让我们给按钮添加一个<code class="fe lz ma mb mc b">onClick</code>处理程序。</li></ul><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="7e82" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">每点击一个按钮，就会调用<code class="fe lz ma mb mc b">changeRecipe</code>函数。让我们现在就创建它。</p><p id="fd10" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">该函数将接收<code class="fe lz ma mb mc b">e</code>(事件)并为点击的食谱获取<code class="fe lz ma mb mc b">id</code>。然后，它将把这个id传递给父函数，以便更新状态。</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="4bde" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">正如我们在<code class="fe lz ma mb mc b">App.js</code>中绑定函数一样，我们在这里也必须这样做。因此，让我们创建一个构造函数并绑定该值。</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="185f" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">还要更新<code class="fe lz ma mb mc b">Navigation</code>中的<code class="fe lz ma mb mc b">propTypes</code>以包含传递的函数。</p><p id="809f" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">厉害！您的应用程序现在应该呈现正确的组件！</p><p id="657d" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">以下是<code class="fe lz ma mb mc b">App.js</code>和<code class="fe lz ma mb mc b">Navigation.js</code>的完整文件:</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="9439" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">这是我们的应用程序目前的样子。</p><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi om"><img src="../Images/db900bc2913da58b6f3a8a34145bf4e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8u-vfuIjmMxqEjbSxBMV9A.png"/></div></div></figure><h1 id="57e4" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">第四步:风格</h1><p id="a7b1" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">好吧，我承认，这个应用看起来不怎么好看。所以我们给它一些风格。你可以随心所欲地设计你的应用。我只是为每个组件的Sass创建一个新的scss部分，并将其导入到<code class="fe lz ma mb mc b">index.scss</code>中。</p><p id="fd83" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated"><strong class="ky ir">对选择的导航项目进行样式化</strong></p><p id="e85a" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">我们必须做的一件重要的事情是样式化选择的导航项目。为此，我们必须将<code class="fe lz ma mb mc b">selectedRecipe</code>状态作为道具传递给<code class="fe lz ma mb mc b">&lt;Navigation&gt;</code>组件。</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="dfc1" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">接下来，向<code class="fe lz ma mb mc b">Navigation.js</code>中的<code class="fe lz ma mb mc b">className</code>属性添加一个三元组。如果导航项的id等于所选的配方，那么除了基类之外，还要给它一个活动类。</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="8bb8" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">这是我们的风格化应用程序的外观。</p><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/8b901ef44ac0a64b7ecbb6338ba387a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ynOXxb4sc2kn1zdD.png"/></div></div></figure><h1 id="7465" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">结论</h1><p id="d2fa" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">我知道这不是一个超级花哨的应用程序，但对于初学者来说，这是一个很好的学习练习。</p><p id="4846" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">我喜欢这个应用程序的想法，也因为我有一吨的食谱，我需要保持跟踪。</p><p id="fcd9" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">你甚至可以<a class="ae mm" href="https://guides.github.com/features/pages/" rel="noopener ugc nofollow" target="_blank">通过GitHub </a>托管这个，发送给你的朋友和家人！</p></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><p id="afb9" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">Emma Wedekind是德国卡尔斯鲁厄LogMeIn公司的前端软件工程师。她喜欢写博客、在沙滩上漫步和养猫。还有披萨。Mmmm披萨。</p><p id="7f3f" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">如果你喜欢这个博客，请一定要为它鼓掌或关注我的 <a class="ae mm" href="https://twitter.com/EmmaWedekind" rel="noopener ugc nofollow" target="_blank"> <em class="nm">推特</em> </a> <em class="nm">，</em><a class="ae mm" href="https://www.linkedin.com/in/emmawedekind/" rel="noopener ugc nofollow" target="_blank"><em class="nm">LinkedIn</em></a><em class="nm">，或</em><a class="ae mm" href="https://www.instagram.com/emmawedekind/" rel="noopener ugc nofollow" target="_blank"><em class="nm">insta gram</em></a><em class="nm">！</em>😄 😼</p></div></div>    
</body>
</html>