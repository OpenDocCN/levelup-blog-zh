<html>
<head>
<title>Several ways to concatenate String Null in Java</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Java中连接字符串Null的几种方法</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/several-ways-to-concatenate-string-null-in-java-b27d567ce05b?source=collection_archive---------11-----------------------#2022-09-27">https://levelup.gitconnected.com/several-ways-to-concatenate-string-null-in-java-b27d567ce05b?source=collection_archive---------11-----------------------#2022-09-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="e636" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如何在Java中处理字符串</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ko"><img src="../Images/a7d7ee2e00feb3fabec3857a81fa96af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*8_WZ5nqNxRvcutSZ1BVlWw.jpeg"/></div><figcaption class="kw kx gj gh gi ky kz bd b be z dk translated">照片由<a class="ae la" href="https://unsplash.com/@karishea?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Kari Shea </a>在<a class="ae la" href="https://unsplash.com/s/photos/desk?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="0981" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Java提供了多种串接String字符串的方式，但是有时候如果我们不注意<code class="fe lb lc ld le b">null</code>字符串，可能会将null串接成结果，这显然不是我们想要的。</p><p id="87e1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本文中，我将介绍一些在连接<code class="fe lb lc ld le b">String</code>时避免<code class="fe lb lc ld le b">null</code>值的方法。</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><p id="5e07" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">案例分析。</strong></p><p id="f276" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果我们想要连接字符串数组，我们可以简单地使用<code class="fe lb lc ld le b">+</code>操作符来连接它们，但是我们可能会遇到<code class="fe lb lc ld le b">null</code>值。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="lm ln l"/></div></figure><p id="bfa8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这将把所有元素连接成结果字符串，如下所示:</p><pre class="kp kq kr ks gt lo le lp lq aw lr bi"><span id="6fd2" class="ls lt it le b gy lu lv l lw lx">https://gist.github.comnull</span></pre><p id="8850" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是，我们已经发现了问题，最终的<code class="fe lb lc ld le b">null</code>值也被连接成一个字符串，这显然不是我们想要的。</p><p id="ef31" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">此外，即使我们运行在Java 8或更高版本上，然后使用<code class="fe lb lc ld le b">String.join()</code>静态方法连接字符串，我们也会得到带有<code class="fe lb lc ld le b">null</code>值的输出。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="lm ln l"/></div></figure><p id="d8d2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">结果也如下。</p><pre class="kp kq kr ks gt lo le lp lq aw lr bi"><span id="e3ef" class="ls lt it le b gy lu lv l lw lx">https://gist.github.comnull</span></pre><p id="a189" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">那么如何解决这个问题呢？下面我们分享一些解决方法。</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><p id="5579" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了方便后面的代码演示，我们提取了一个方法，可以传入一个字符串，返回一个非空字符串。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="lm ln l"/></div></figure><p id="f717" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> # 1。使用</strong> <code class="fe lb lc ld le b"><strong class="js iu">String.concat()</strong></code> <strong class="js iu">。</strong></p><p id="0060" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe lb lc ld le b">String.concat()</code>是String类附带的一个方法。使用这种方法连接字符串非常方便。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="lm ln l"/></div></figure><p id="3a9e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">因为调用了<code class="fe lb lc ld le b">nullToString()</code>方法，所以结果中没有<code class="fe lb lc ld le b">null</code>值。</p><p id="c64f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> # 2。使用StringBuilder。</strong></p><p id="4219" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">StringBuilder类提供了许多有用且方便的字符串构造方法。</p><p id="fcfc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最常用的方法是append()方法，用<code class="fe lb lc ld le b">append()</code>拼接字符串，结合<code class="fe lb lc ld le b">nullToString()</code>方法避免<code class="fe lb lc ld le b">null</code>值。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="lm ln l"/></div></figure><p id="d18b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">可以获得以下结果:</p><pre class="kp kq kr ks gt lo le lp lq aw lr bi"><span id="dfe4" class="ls lt it le b gy lu lv l lw lx">https://gist.github.com</span></pre><p id="76bf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> # 3。使用StringJoiner类(Java 8+)。</strong></p><p id="708a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe lb lc ld le b">StringJoiner</code>类提供了更强大的字符串拼接功能。它不仅可以指定拼接时的分隔符，还可以指定拼接时的前缀和后缀。这里我们可以使用它的<code class="fe lb lc ld le b">add()</code>方法来拼接字符串。</p><p id="a284" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">同样会使用<code class="fe lb lc ld le b">nullToString()</code>方法来避免空值。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="lm ln l"/></div></figure><p id="382f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> # 4。使用Streams.filter (Java 8+)。</strong></p><p id="5b38" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Stream API是Java 8中引入的一个强大的流操作类，可以执行常见的过滤、映射、遍历、分组、统计等操作。</p><p id="e829" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">过滤操作<code class="fe lb lc ld le b">filter</code>可以接收一个<code class="fe lb lc ld le b">Predicate</code>功能。</p><p id="c584" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe lb lc ld le b">Predicate</code>功能界面与之前介绍的<code class="fe lb lc ld le b">Function</code>界面相同。</p><p id="3141" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是一个功能界面。</p><p id="4408" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它可以接受一个通用的<code class="fe lb lc ld le b">&lt;T&gt;</code>参数，返回值是一个布尔类型。</p><p id="2b35" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe lb lc ld le b">Predicate</code>常用于数据<code class="fe lb lc ld le b">filter</code>。</p><p id="d833" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">因此，我们可以定义一个<code class="fe lb lc ld le b">Predicate</code>来检查一个<code class="fe lb lc ld le b">null</code>字符串，并将其传递给流API的<code class="fe lb lc ld le b">filter()</code>方法。</p><p id="edab" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，使用<code class="fe lb lc ld le b">Collectors.joining()</code>方法连接剩余的非<code class="fe lb lc ld le b">null</code>字符串。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="lm ln l"/></div></figure><p id="e144" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> # 5。使用</strong> <code class="fe lb lc ld le b"><strong class="js iu">+</strong></code> <strong class="js iu">运算符。</strong></p><p id="342d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用<code class="fe lb lc ld le b">+</code>操作符可以解决问题，但不推荐使用。</p><p id="8092" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们知道字符串是不可变的对象。使用<code class="fe lb lc ld le b">+</code>符号会频繁创建一个字符串对象，每次都会在内存中创建一个新的字符串，所以使用<code class="fe lb lc ld le b">+</code>符号拼接字符串的性能消耗非常高。</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><p id="1ea1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">总结一下。</strong></p><p id="1b2b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">本文介绍了几种连接字符串和处理NULL的方法，不同的方法可能适用于不同的场景。</p><p id="40da" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">请注意，连接字符串是一项开销很大的操作，下面是使用JMH对几个连接进行基准测试的结果。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="lm ln l"/></div></figure><p id="e175" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">可见<code class="fe lb lc ld le b">StringBuilder</code>的性能是最好的。在实际使用中，需要结合具体场景，然后选择性能开销最低的方法。</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><p id="4475" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">感谢阅读。</p><p id="c25c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你喜欢这样的故事，想支持我，请给我鼓掌。</p><p id="2db9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你的支持对我来说非常重要，谢谢你。</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h1 id="08b5" class="ly lt it bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">分级编码</h1><p id="11e5" class="pw-post-body-paragraph jq jr it js b jt mv jv jw jx mw jz ka kb mx kd ke kf my kh ki kj mz kl km kn im bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="82f1" class="na nb it js b jt ju jx jy kb nc kf nd kj ne kn nf ng nh ni bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="57f8" class="na nb it js b jt nj jx nk kb nl kf nm kj nn kn nf ng nh ni bi translated">📰查看<a class="ae la" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">级编码出版物</a>中的更多内容</li><li id="545b" class="na nb it js b jt nj jx nk kb nl kf nm kj nn kn nf ng nh ni bi translated">🔔关注我们:<a class="ae la" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">推特</a> | <a class="ae la" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a> | <a class="ae la" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="d1fa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">🚀👉<a class="ae la" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">将像你这样的开发人员安置在顶级创业公司和科技公司</strong> </a></p></div></div>    
</body>
</html>