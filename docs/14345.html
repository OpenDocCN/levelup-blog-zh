<html>
<head>
<title>Use Typescript keyof Like a Pro</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">像专家一样使用Typescript keyof</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/use-typescript-keyof-like-a-pro-56f3a3d06b73?source=collection_archive---------2-----------------------#2022-11-18">https://levelup.gitconnected.com/use-typescript-keyof-like-a-pro-56f3a3d06b73?source=collection_archive---------2-----------------------#2022-11-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="4708" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">本文旨在以简单的方式向您展示如何利用Typescript中的<code class="fe ko kp kq kr b">keyof</code>关键字来升级您的代码。</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi ks"><img src="../Images/ae52f5862e69dbdf222d647cf099bca2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J_yNfIlOO7H9FJD07K8DrQ.jpeg"/></div></div></figure><h1 id="32fc" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">第一</h1><p id="d032" class="pw-post-body-paragraph jq jr it js b jt mc jv jw jx md jz ka kb me kd ke kf mf kh ki kj mg kl km kn im bi translated"><code class="fe ko kp kq kr b">keyof</code>操作符接受一个对象类型，并生成其键的字符串或数字联合。它是一个强大的工具，为我们提供了构建时检查，防止我们使用底层对象中不存在的过时键。</p><h1 id="bd94" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">内容概述/摘要</h1><ul class=""><li id="4659" class="mh mi it js b jt mc jx md kb mj kf mk kj ml kn mm mn mo mp bi translated">对类型、对象、接口和类使用<code class="fe ko kp kq kr b">keyof</code></li><li id="8997" class="mh mi it js b jt mq jx mr kb ms kf mt kj mu kn mm mn mo mp bi translated">使用类型脚本泛型的<code class="fe ko kp kq kr b">keyof</code></li><li id="2e42" class="mh mi it js b jt mq jx mr kb ms kf mt kj mu kn mm mn mo mp bi translated">对映射类型使用<code class="fe ko kp kq kr b">keyof</code></li><li id="cb42" class="mh mi it js b jt mq jx mr kb ms kf mt kj mu kn mm mn mo mp bi translated">对条件映射类型使用<code class="fe ko kp kq kr b">keyof</code></li></ul><h2 id="1ce7" class="mv lf it bd lg mw mx dn lk my mz dp lo kb na nb ls kf nc nd lw kj ne nf ma ng bi translated">与类型一起使用<code class="fe ko kp kq kr b">keyof</code></h2><pre class="kt ku kv kw gt nh kr ni bn nj nk bi"><span id="1bc1" class="nl lf it kr b be nm nn l no np">type Staff = {<br/>  name: string;<br/>  age: number;<br/>};<br/><br/>type StaffKeys = keyof Staff; // 'name' || 'age'<br/><br/>const staff: Staff = {<br/>  name: "Tom",<br/>  age: 18,<br/>};<br/><br/>function getStaffInfoByKey(key: StaffKeys) {<br/>  console.log(staff[key]);<br/>}<br/>getStaffInfoByKey("name"); // Tom<br/>getStaffInfoByKey("salary"); // error TS2345: Argument of type '"salary"' is not assignable to parameter of type 'keyof Staff'.</span></pre><h2 id="0212" class="mv lf it bd lg mw mx dn lk my mz dp lo kb na nb ls kf nc nd lw kj ne nf ma ng bi translated">对对象使用keyof</h2><pre class="kt ku kv kw gt nh kr ni bn nj nk bi"><span id="a088" class="nl lf it kr b be nm nn l no np">const staff = {<br/>  name: "Tom",<br/>  age: 18,<br/>};<br/><br/>type StaffKeys = keyof typeof staff; //  "name" | "age"<br/><br/>function getStaffInfoByKey(key: StaffKeys) {<br/>  console.log(staff[key]);<br/>}<br/>getStaffInfoByKey("name"); // Tom<br/>getStaffInfoByKey("salary"); // error TS2345: Argument of type '"salary"' is not assignable to parameter of type 'keyof Staff'.</span></pre><h2 id="5702" class="mv lf it bd lg mw mx dn lk my mz dp lo kb na nb ls kf nc nd lw kj ne nf ma ng bi translated">对接口使用keyof</h2><pre class="kt ku kv kw gt nh kr ni bn nj nk bi"><span id="88fe" class="nl lf it kr b be nm nn l no np">interface Staff {<br/>  name: string;<br/>  age: number;<br/>}<br/><br/>type StaffKeys = keyof Staff; //  "name" | "age"<br/><br/>const staff = {<br/>  name: "Tom",<br/>  age: 18,<br/>};<br/><br/>function getStaffInfoByKey(key: StaffKeys) {<br/>  console.log(staff[key]);<br/>}<br/>getStaffInfoByKey("name"); // Tom<br/>getStaffInfoByKey("salary"); // error TS2345: Argument of type '"salary"' is not assignable to parameter of type 'keyof Staff'.</span></pre><h2 id="37ab" class="mv lf it bd lg mw mx dn lk my mz dp lo kb na nb ls kf nc nd lw kj ne nf ma ng bi translated">对类使用keyof</h2><pre class="kt ku kv kw gt nh kr ni bn nj nk bi"><span id="05be" class="nl lf it kr b be nm nn l no np">class Staff {<br/>  constructor(public name: string, public age: number) {}<br/>}<br/><br/>// keyof<br/>type StaffKeys = keyof Staff; // "name" | "age"<br/><br/>function getStaffInfoByKey (staff: Staff, key: StaffKeys) {<br/>  return staff[key];<br/>}<br/><br/>const staff = new Staff("Jack", 32);<br/>console.log(getStaffInfoByKey(staff, "name")); // Jack<br/>console.log(getStaffInfoByKey(staff, "salary")); // error TS2345: Argument of type '"salary"' is not assignable to parameter of type 'keyof Staff'.</span></pre><h2 id="fa43" class="mv lf it bd lg mw mx dn lk my mz dp lo kb na nb ls kf nc nd lw kj ne nf ma ng bi translated">对泛型使用keyof</h2><pre class="kt ku kv kw gt nh kr ni bn nj nk bi"><span id="b43c" class="nl lf it kr b be nm nn l no np">function getProperty&lt;T, K extends keyof T&gt;(obj: T, key: K): T[K] {<br/>  return obj[key];<br/>}<br/><br/>const randomData = {<br/>  name: "John",<br/>  age: 30,<br/>};<br/><br/>console.log(getProperty(randomData, "name")); // John<br/>console.log(getProperty(randomData, "age")); // 30<br/>console.log(getProperty(randomData, "location")); // error TS2345: Argument of type '"location"' is not assignable to parameter of type '"name" | "age"'.</span></pre><h2 id="0c99" class="mv lf it bd lg mw mx dn lk my mz dp lo kb na nb ls kf nc nd lw kj ne nf ma ng bi translated">对映射类型使用keyof</h2><p id="22b5" class="pw-post-body-paragraph jq jr it js b jt mc jv jw jx md jz ka kb me kd ke kf mf kh ki kj mg kl km kn im bi translated">轻松创建新类型，并为类属性添加修饰符，如<code class="fe ko kp kq kr b">readonly</code>、<code class="fe ko kp kq kr b">private</code>和<code class="fe ko kp kq kr b">protected</code>。</p><pre class="kt ku kv kw gt nh kr ni bn nj nk bi"><span id="7a70" class="nl lf it kr b be nm nn l no np">type Visibility&lt;T&gt; = {<br/>  [Key in keyof T]: boolean;<br/>};<br/><br/>type Staff = {<br/>  name: string;<br/>  age: number;<br/>};<br/><br/>type StaffDetailVisibility = Visibility&lt;Staff&gt;;<br/>// result<br/>/*<br/>type StaffDetailVisibility = {<br/>  name: boolean; <br/>  age: boolean; <br/>} <br/>*/</span></pre><h2 id="7869" class="mv lf it bd lg mw mx dn lk my mz dp lo kb na nb ls kf nc nd lw kj ne nf ma ng bi translated">对条件映射类型使用keyof</h2><pre class="kt ku kv kw gt nh kr ni bn nj nk bi"><span id="4821" class="nl lf it kr b be nm nn l no np">type Visibility&lt;T&gt; = {<br/>  [Key in keyof T]: T[Key] extends Function? Function: boolean;<br/>};<br/><br/>type Staff = {<br/>  name: string;<br/>  age: number;<br/>  report: () =&gt; void;<br/>};<br/><br/>type StaffDetailVisibility = Visibility&lt;Staff&gt;;<br/>// result<br/>/*<br/>type StaffDetailVisibility = {<br/>  name: boolean; <br/>  age: boolean; <br/>  report: Function;<br/>} <br/>*/</span></pre><h2 id="ccff" class="mv lf it bd lg mw mx dn lk my mz dp lo kb na nb ls kf nc nd lw kj ne nf ma ng bi translated">延伸阅读:</h2><ul class=""><li id="41b8" class="mh mi it js b jt mc jx md kb mj kf mk kj ml kn mm mn mo mp bi translated"><a class="ae nq" rel="noopener ugc nofollow" target="_blank" href="/typescript-must-know-fundamentals-for-your-next-tech-interview-or-project-255ae70df0a3"> TypeScript必备基础知识—类型别名和接口</a></li><li id="81d8" class="mh mi it js b jt mq jx mr kb ms kf mt kj mu kn mm mn mo mp bi translated"><a class="ae nq" rel="noopener ugc nofollow" target="_blank" href="/typescript-classes-from-zero-to-hero-a429a3c96189">打字稿类——从零到英雄</a></li><li id="c559" class="mh mi it js b jt mq jx mr kb ms kf mt kj mu kn mm mn mo mp bi translated"><a class="ae nq" rel="noopener ugc nofollow" target="_blank" href="/next-level-your-typescript-runtime-type-validation-using-class-and-decorators-ddd2ce3c86f3">使用类和装饰器的下一级Typescript运行时类型验证</a></li><li id="68aa" class="mh mi it js b jt mq jx mr kb ms kf mt kj mu kn mm mn mo mp bi translated"><a class="ae nq" rel="noopener ugc nofollow" target="_blank" href="/mastering-typescript-generics-the-ultimate-guide-3a62afeff44">掌握类型脚本泛型:终极指南</a></li><li id="c096" class="mh mi it js b jt mq jx mr kb ms kf mt kj mu kn mm mn mo mp bi translated"><a class="ae nq" href="https://bootcamp.uxdesign.cc/typescript-tricks-and-tips-become-a-pro-in-no-time-5390aba151be" rel="noopener" target="_blank">打字技巧和提示:立即成为专业人士</a></li><li id="f813" class="mh mi it js b jt mq jx mr kb ms kf mt kj mu kn mm mn mo mp bi translated"><a class="ae nq" rel="noopener ugc nofollow" target="_blank" href="/generics-in-typescript-must-know-fundamentals-stupidly-simplified-e7b4d7ffc0e3">打字稿中的泛型——愚蠢地简化了的必备基础知识</a></li><li id="c0f9" class="mh mi it js b jt mq jx mr kb ms kf mt kj mu kn mm mn mo mp bi translated"><a class="ae nq" rel="noopener ugc nofollow" target="_blank" href="/typescript-missed-this-but-you-shouldnt-runtime-type-validation-aa8a81ce4289"> Typescript遗漏了这一点，但你不应该—运行时类型验证</a></li><li id="ff23" class="mh mi it js b jt mq jx mr kb ms kf mt kj mu kn mm mn mo mp bi translated"><a class="ae nq" rel="noopener ugc nofollow" target="_blank" href="/typescript-enum-pitfalls-and-solutions-must-know-bb971cb0f7d2"> Typescript枚举陷阱和解决方案必须知道</a></li><li id="27e6" class="mh mi it js b jt mq jx mr kb ms kf mt kj mu kn mm mn mo mp bi translated"><a class="ae nq" href="https://bootcamp.uxdesign.cc/mastering-typescript-generics-the-ultimate-guide-essential-interface-techniques-86e793cf1fc" rel="noopener" target="_blank">掌握类型脚本泛型—终极指南—基本接口技术</a></li><li id="0a9f" class="mh mi it js b jt mq jx mr kb ms kf mt kj mu kn mm mn mo mp bi translated">【Javascript开发者经常忽略的Typescript特性</li><li id="bc34" class="mh mi it js b jt mq jx mr kb ms kf mt kj mu kn mm mn mo mp bi translated"><a class="ae nq" rel="noopener ugc nofollow" target="_blank" href="/mastering-intersection-and-union-types-in-typescript-the-ultimate-guide-essential-techniques-49aa9f6a188a">掌握打字稿中的交集和并集类型:终极指南和基本技巧</a></li></ul></div><div class="ab cl nr ns hx nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="im in io ip iq"><p id="3895" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你觉得这个指南有帮助，请鼓掌并跟我来。通过<a class="ae nq" href="https://medium.com/@caopengau/membership" rel="noopener">链接</a>加入medium，获取我和所有其他优秀作家在medium上发表的所有优质文章。</p></div><div class="ab cl nr ns hx nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="im in io ip iq"><h1 id="15ce" class="le lf it bd lg lh ny lj lk ll nz ln lo lp oa lr ls lt ob lv lw lx oc lz ma mb bi translated">分级编码</h1><p id="66fd" class="pw-post-body-paragraph jq jr it js b jt mc jv jw jx md jz ka kb me kd ke kf mf kh ki kj mg kl km kn im bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="4823" class="mh mi it js b jt ju jx jy kb od kf oe kj of kn mm mn mo mp bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="7c87" class="mh mi it js b jt mq jx mr kb ms kf mt kj mu kn mm mn mo mp bi translated">📰查看<a class="ae nq" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">升级编码出版物</a>中的更多内容</li><li id="807b" class="mh mi it js b jt mq jx mr kb ms kf mt kj mu kn mm mn mo mp bi translated">🔔关注我们:<a class="ae nq" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae nq" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae nq" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="5d37" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">🚀👉<a class="ae nq" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">加入升级人才集体，找到一份神奇的工作</strong> </a></p></div></div>    
</body>
</html>