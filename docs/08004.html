<html>
<head>
<title>ImageColorSwitcher in Flutter: Part 1 Raster Image Coloring</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Flutter中的ImageColorSwitcher:第1部分光栅图像着色</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/imagecolorswitcher-in-flutter-part-1-raster-image-coloring-90f2cd0c8788?source=collection_archive---------8-----------------------#2021-03-28">https://levelup.gitconnected.com/imagecolorswitcher-in-flutter-part-1-raster-image-coloring-90f2cd0c8788?source=collection_archive---------8-----------------------#2021-03-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="2e0d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="kl">从光栅到矢量图像着色的经验教训。</em>T3】</strong></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/43bf4c369ebc1e1a40cfd39042745221.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w9m_WsXSSrIWOUfCODwwsw.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><strong class="bd lc">颤振中的ImageColorSwitcher:第一部分——光栅图像着色</strong></figcaption></figure><p id="442b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae ld" href="#1014" rel="noopener ugc nofollow">概述</a> <br/> <a class="ae ld" href="#980d" rel="noopener ugc nofollow">挑战</a> <br/> <a class="ae ld" href="#68ba" rel="noopener ugc nofollow">混合滑块</a> <br/> <a class="ae ld" href="#afb4" rel="noopener ugc nofollow">并非所有人都是数学家！</a> <br/> <a class="ae ld" href="#3edc" rel="noopener ugc nofollow">试一试再试</a> <br/> <a class="ae ld" href="#dd81" rel="noopener ugc nofollow">打散图像</a> <br/> <a class="ae ld" href="#9af9" rel="noopener ugc nofollow">各就各位，准备好，开始设定代码！</a> <br/> ∘ <a class="ae ld" href="#637b" rel="noopener ugc nofollow">先决条件</a> <br/> ∘ <a class="ae ld" href="#735b" rel="noopener ugc nofollow">图像颜色切换器</a> <br/> ∘ <a class="ae ld" href="#c864" rel="noopener ugc nofollow">颜色滑块</a> <br/> ∘ <a class="ae ld" href="#a166" rel="noopener ugc nofollow">最终结果</a> <br/> <a class="ae ld" href="#bd7a" rel="noopener ugc nofollow">游戏没有结束！</a> <br/> <a class="ae ld" href="#8eef" rel="noopener ugc nofollow">那么接下来是什么？</a> <br/> <a class="ae ld" href="#e4a8" rel="noopener ugc nofollow">参考文献</a></p><h1 id="1014" class="le lf iq bd lc lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">概观</h1><p id="e92f" class="pw-post-body-paragraph jn jo iq jp b jq mb js jt ju mc jw jx jy md ka kb kc me ke kf kg mf ki kj kk ij bi translated">您希望通过dart代码给图像着色吗？随着时间的推移，你是否面临失败？你感到失落吗？嗯，先不要放弃希望！</p><p id="3aab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这个系列中，我们将探索使用flutter增强图像着色概念的技术。不仅仅是理论上的阐述，我们还将关注定制小部件的开发和可视化，更不用说不时打磨编码技能的失败。</p><h1 id="980d" class="le lf iq bd lc lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">挑战</h1><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mg"><img src="../Images/2d67b639641120dde0a3229906d757d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LUCDUEhPB5A37r-ebEsLUg.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><strong class="bd lc">图1:图像如何根据输入改变颜色的图示。</strong></figcaption></figure><p id="610f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">作为一名flutter开发人员，我被分配创建一个定制的小部件，它将获取一个简单的图像并根据输入的颜色改变图像颜色，如图<strong class="jp ir"> <em class="kl">图</em> 1 </strong>所示。</p><p id="f3a8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你可能会奇怪为什么我没有使用<a class="ae ld" href="https://api.flutter.dev/flutter/widgets/ColorFiltered-class.html" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">color filtered</strong></a><strong class="jp ir">小工具并在上面尝试不同的混合模式！</strong></p><h1 id="68ba" class="le lf iq bd lc lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">混合滑块</h1><p id="7673" class="pw-post-body-paragraph jn jo iq jp b jq mb js jt ju mc jw jx jy md ka kb kc me ke kf kg mf ki kj kk ij bi translated">我还以为这只是小菜一碟，但遗憾的是，事实并非如此。我通过定义一个<strong class="jp ir"> <em class="kl">混合滑块</em> </strong>来应用不同的混合模式。点击后，我可以看到每种模式如何改变图像；看下面的片段，明白我的意思。</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mh mi l"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">混合滑块源代码</figcaption></figure><p id="698c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在main.dart文件中，我将<strong class="jp ir"> <em class="kl"> BlendingSlider </em> </strong>包装在一个<strong class="jp ir"> <em class="kl">列</em> </strong>小部件中；请参见下面的片段。</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mh mi l"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">演示页面(main.dart)</figcaption></figure><p id="2864" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="kl">图2 </em> </strong>说明了根本不希望的结果。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/c3f8e34aefb680efbaaea05faf5527a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:656/1*LQHCWajw5twyjSVdYnE1XQ.gif"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><strong class="bd lc">图2:不同图像混合模式的演示。</strong></figcaption></figure><h1 id="afb4" class="le lf iq bd lc lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">我们并不都是数学家！</h1><p id="9381" class="pw-post-body-paragraph jn jo iq jp b jq mb js jt ju mc jw jx jy md ka kb kc me ke kf kg mf ki kj kk ij bi translated">下一个方法是将构造函数从<strong class="jp ir"><em class="kl">color filter . mode</em></strong>改为<strong class="jp ir"><em class="kl">color filter . matrix</em>。</strong>在继续之前，我必须直观地看到应用滤色矩阵后会发生的变化。于是我打开浏览器，访问了<a class="ae ld" href="https://kazzkiq.github.io/svg-color-filter/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> SVG滤色游乐场</strong> </a> <strong class="jp ir"> </strong>网站，使用了<a class="ae ld" href="http://github.com/kazzkiq" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">Claudio Holanda</strong></a><strong class="jp ir">制作的在线工具。</strong>不幸的是，我还是没能得到满意的结果；见下图<strong class="jp ir"> <em class="kl">图3 </em> </strong>。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/91bfe1f812d0645881e57e133ab147e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1294/1*sMntm5Ms_6aKBJGJVzn9rQ.gif"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><strong class="bd lc">图3:不同颜色过滤效果示意图。</strong></figcaption></figure><h1 id="3edc" class="le lf iq bd lc lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">试着再试一次</h1><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi ml"><img src="../Images/657728e5ca4f7223bb6565da185f8d4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Q858O3e3rOpqetH_"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">照片由<a class="ae ld" href="https://unsplash.com/@theblowup?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">在<a class="ae ld" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上放大</a></figcaption></figure><p id="420c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">正如<a class="ae ld" href="https://www.brainyquote.com/authors/morihei-ueshiba-quotes" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">森平</strong> </a> <strong class="jp ir"> </strong>所说</p><blockquote class="mm"><p id="6afc" class="mn mo iq bd mp mq mr ms mt mu mv kk dk translated">失败是成功的关键；每个错误都教会我们一些东西。</p></blockquote><p id="8b13" class="pw-post-body-paragraph jn jo iq jp b jq mw js jt ju mx jw jx jy my ka kb kc mz ke kf kg na ki kj kk ij bi translated">我开始在谷歌上搜索关于这个话题的任何提示、帖子或教程，但运气不佳。我也把这个问题作为问题贴在了<a class="ae ld" href="https://stackoverflow.com/questions/65633869/how-to-switch-specific-colors-of-an-image-in-flutter" rel="noopener ugc nofollow" target="_blank"> StackOverflow </a> <strong class="jp ir"> </strong>上。在我的研究过程中，我发现了作者托马斯·gallinari⁴.写的《从图像中去除颜色》中的文章<strong class="jp ir"><em class="kl"/></strong><a class="ae ld" href="https://thomasgallinari.medium.com/remove-a-color-from-an-image-in-flutter-36770ac42669" rel="noopener"><strong class="jp ir"><em class="kl"/></strong></a><strong class="jp ir"><em class="kl"/></strong><strong class="jp ir"><em class="kl"/></strong> 我仔细阅读了文章，按照步骤进行了不同的编码实验。</p><h1 id="dd81" class="le lf iq bd lc lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">打破形象</h1><p id="6867" class="pw-post-body-paragraph jn jo iq jp b jq mb js jt ju mc jw jx jy md ka kb kc me ke kf kg mf ki kj kk ij bi translated">在放大自行车图片时，我注意到只有图片的两个属性在变化，而其余的属性保持不变，一个是蓝色，另一个是暗蓝色。经过深入观察，我总结出以下理论:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi nb"><img src="../Images/81d0439b4fb79ddfd0b259f93ed90831.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yRGF0JaCD6Mg_EWNYQb3Xg.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><strong class="bd lc">图3:图像解码成像素的图示。</strong></figcaption></figure><ul class=""><li id="e06d" class="nc nd iq jp b jq jr ju jv jy ne kc nf kg ng kk nh ni nj nk bi translated">如<strong class="jp ir"> <em class="kl">图3</em></strong><strong class="jp ir"><em class="kl"/></strong>所示，图像需要解码成像素化格式。</li></ul><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/c30e8e369f3a147425e97102539eebaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1138/format:webp/1*JFw0Tko6qk-mfz4e1nWc6w.png"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><strong class="bd lc">图4:RGBA滤波器示意图。</strong></figcaption></figure><ul class=""><li id="39a5" class="nc nd iq jp b jq jr ju jv jy ne kc nf kg ng kk nh ni nj nk bi translated">定制的RGBA(红、绿、蓝和阿尔法)滤镜会在每个像素上滑动，检测所需的RGB值，并将其切换为所需的输入颜色的RGB值，如图<strong class="jp ir"> <em class="kl">图4 </em> </strong>所示。</li></ul><p id="4ac9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了澄清概念，我记下了我需要检测的RGB值，如图<strong class="jp ir"> <em class="kl">图5 </em> </strong>所示。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi nm"><img src="../Images/9047be6283e63aa7d5ddab69b08a7bff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R2WA-krCvDIrfLTuglsw_A.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><strong class="bd lc">图5:图像颜色示意图&amp;阴影RGBA值。</strong></figcaption></figure><h1 id="9af9" class="le lf iq bd lc lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">各就各位，准备，获取设定代码！</h1><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi nn"><img src="../Images/14fd14054973c9c525042845069f7510.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Bey1Zo4xSmsLEjxy"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">詹姆斯·哈里森在<a class="ae ld" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="421b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">保持冷静，继续阅读并遵循以下步骤。</p><h2 id="637b" class="no lf iq bd lc np nq dn lj nr ns dp ln jy nt nu lr kc nv nw lv kg nx ny lz nz bi translated">先决条件</h2><ul class=""><li id="7415" class="nc nd iq jp b jq mb ju mc jy oa kc ob kg oc kk nh ni nj nk bi translated">我在项目的根目录下创建了一个文件夹<strong class="jp ir">“asset”</strong>，并把图片放在里面；见下图<strong class="jp ir">中的<em class="kl">图6 </em>中的</strong>。</li></ul><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi od"><img src="../Images/8b4ac2162a8afb349835464ef7f6125c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3oTPAZ5hq_fqFk9QRtxkfA.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><strong class="bd lc">图6:将图像放入资产文件夹</strong></figcaption></figure><ul class=""><li id="29b5" class="nc nd iq jp b jq jr ju jv jy ne kc nf kg ng kk nh ni nj nk bi translated">接下来，我在dependencies部分添加了<a class="ae ld" href="https://pub.dev/packages/image" rel="noopener ugc nofollow" target="_blank">图像</a> <strong class="jp ir"> ⁵ </strong>包，并将图像的根路径放在pubspec.yaml文件内的assets部分，如下面的代码片段所示。</li></ul><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mh mi l"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">Pubspec.yaml</figcaption></figure><h2 id="735b" class="no lf iq bd lc np nq dn lj nr ns dp ln jy nt nu lr kc nv nw lv kg nx ny lz nz bi translated">图像颜色切换器</h2><p id="0712" class="pw-post-body-paragraph jn jo iq jp b jq mb js jt ju mc jw jx jy md ka kb kc me ke kf kg mf ki kj kk ij bi translated">以下步骤总结了编写代码的本质:</p><ul class=""><li id="16b0" class="nc nd iq jp b jq jr ju jv jy ne kc nf kg ng kk nh ni nj nk bi translated">我创建了一个自定义小部件，<strong class="jp ir"><em class="kl">ImageColorSwitcher</em></strong><em class="kl">，</em> <strong class="jp ir"> <em class="kl"> </em> </strong>，一个有状态的小部件，它使用构造函数获取图像路径和所需的颜色。</li><li id="d53c" class="nc nd iq jp b jq oe ju of jy og kc oh kg oi kk nh ni nj nk bi translated">在<strong class="jp ir"> <em class="kl"> initState </em> </strong>方法中，我加载了图像，并使用<strong class="jp ir"><em class="kl">setState</em></strong><em class="kl"/>函数将原始字节赋给了<strong class="jp ir"> <em class="kl"> imageBytes </em> </strong>变量。</li><li id="7e0b" class="nc nd iq jp b jq oe ju of jy og kc oh kg oi kk nh ni nj nk bi translated">接下来，我创建了一个名为<strong class="jp ir"> <em class="kl"> switchColor </em> </strong>的自定义异步函数，它将把<strong class="jp ir"><em class="kl">uint 8 list</em><em class="kl">bytes</em></strong>作为参数，检测RGB值，用所需的颜色进行切换，并返回一个编码的png图像。</li><li id="9329" class="nc nd iq jp b jq oe ju of jy og kc oh kg oi kk nh ni nj nk bi translated">在<strong class="jp ir"> <em class="kl">构建</em> </strong>方法内部，万一<strong class="jp ir"> <em class="kl"> imageBytes </em> </strong>没有准备好，我会显示一个<strong class="jp ir"> <em class="kl">圆形progression indicator</em></strong>否则，一个<strong class="jp ir"><em class="kl">future builder</em></strong>会调用<strong class="jp ir"> <em class="kl"> switchColor </em> </strong>函数并返回一个容器化的图像(如图<strong class="jp ir"> <em class="kl">图7所示)</em></strong></li></ul><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi oj"><img src="../Images/d00461e18ac6000e66286621c9954ea9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AeDDejaylbTX2NLsEU2nHw.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><strong class="bd lc">图7:图像颜色切换器的基本概念。</strong></figcaption></figure><ul class=""><li id="c813" class="nc nd iq jp b jq jr ju jv jy ne kc nf kg ng kk nh ni nj nk bi translated">使用<strong class="jp ir"> <em class="kl"> Image.memory </em> </strong>构造函数的主要好处是，它使用原始字节加速了图像渲染过程。</li></ul><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mh mi l"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">ImageColorSwitcher小部件代码</figcaption></figure><h2 id="c864" class="no lf iq bd lc np nq dn lj nr ns dp ln jy nt nu lr kc nv nw lv kg nx ny lz nz bi translated">颜色滑块</h2><p id="ac99" class="pw-post-body-paragraph jn jo iq jp b jq mb js jt ju mc jw jx jy md ka kb kc me ke kf kg mf ki kj kk ij bi translated">为了让用户选择一种颜色，我开发了一个自定义的滑块来显示颜色和它们的名称，如图8  所示。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/96f7b8e942ad41290d7ccbf132ca16c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*gJ50lDreH5yQv40cQh_m7w.png"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><strong class="bd lc">图8:颜色滑块概念的图示</strong></figcaption></figure><ul class=""><li id="f751" class="nc nd iq jp b jq jr ju jv jy ne kc nf kg ng kk nh ni nj nk bi translated">我首先定义了一个自定义的Map变量<strong class="jp ir"> <em class="kl"> _colorMap </em> </strong>，它将保存颜色名称和颜色值。</li><li id="4dbb" class="nc nd iq jp b jq oe ju of jy og kc oh kg oi kk nh ni nj nk bi translated">在<strong class="jp ir"> <em class="kl">构建</em> </strong>的方法中，我基于<strong class="jp ir"> <em class="kl"> _colorMap </em> </strong>的条目创建了一个<strong class="jp ir"> <em class="kl"> ListView </em> </strong>。</li><li id="837b" class="nc nd iq jp b jq oe ju of jy og kc oh kg oi kk nh ni nj nk bi translated">我使用<strong class="jp ir"><em class="kl">box shape . circle</em></strong>将每个<strong class="jp ir"> <em class="kl"> colorEntry </em> </strong>包装在一个圆形容器中。</li><li id="e771" class="nc nd iq jp b jq oe ju of jy og kc oh kg oi kk nh ni nj nk bi translated">为了点击每种颜色，我将每个容器都包装在<strong class="jp ir">油墨池</strong> <em class="kl"> </em>小部件中。</li><li id="3c85" class="nc nd iq jp b jq oe ju of jy og kc oh kg oi kk nh ni nj nk bi translated">在<strong class="jp ir"> <em class="kl"> onTap </em> </strong>函数中，我返回了选中的地图条目，即颜色值。</li></ul><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mh mi l"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">ColorSlider小部件代码</figcaption></figure><h2 id="a166" class="no lf iq bd lc np nq dn lj nr ns dp ln jy nt nu lr kc nv nw lv kg nx ny lz nz bi translated">决赛成绩</h2><p id="add9" class="pw-post-body-paragraph jn jo iq jp b jq mb js jt ju mc jw jx jy md ka kb kc me ke kf kg mf ki kj kk ij bi translated">为了将<strong class="jp ir"> <em class="kl"> ColorSlider </em> </strong>与<strong class="jp ir"> <em class="kl"> ImageColorSwitcher、</em> </strong>集成在一起，我声明了一个颜色变量<strong class="jp ir"> <em class="kl"> ColorCode </em> </strong>，并将来自<strong class="jp ir"> <em class="kl"> ColorSlider的onColorSelected</em></strong><em class="kl"/>回调函数的值赋给它。为了避免空值，我将红色设置为默认颜色。最后，我将这两个定制小部件包装在一个<strong class="jp ir"> <em class="kl">列</em> </strong>小部件中；请参见下面的片段。参考<strong class="jp ir"> <em class="kl">图9 </em> </strong>查看最终结果。</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mh mi l"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">图像颜色切换器的完整源代码</figcaption></figure><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/1e088e9031beae1bb1938807fc82377c.png" data-original-src="https://miro.medium.com/v2/resize:fit:656/1*kB3tN6owjTBTq0j65Tp1pw.gif"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><strong class="bd lc">图9: <em class="ol">最终结果图</em> </strong></figcaption></figure><h1 id="bd7a" class="le lf iq bd lc lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">游戏没有结束！</h1><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi om"><img src="../Images/7bf4261d839021c68060e691d6badee6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WrOvF49fs9LD2som"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">照片由<a class="ae ld" href="https://unsplash.com/@twalton?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">汤森·沃尔顿</a>在<a class="ae ld" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="e823" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我以为对我来说已经结束了，但是将结果与Illustrator的源图像文件进行比较，我震惊了，因为它仍然不完美。<br/>我不会说这是一个彻底的失败，因为这个解决方案为我提供了足够的知识和学习经验。我曾经用十六进制颜色替换了默认颜色，但这还不够；仍然缺少一些东西。</p><h1 id="8eef" class="le lf iq bd lc lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">那么下一步是什么？</h1><p id="bdc4" class="pw-post-body-paragraph jn jo iq jp b jq mb js jt ju mc jw jx jy md ka kb kc me ke kf kg mf ki kj kk ij bi translated">请不要把鞋子放在汽车刹车上；我们还有很长的路要走。在下一部分，我将详细解释:</p><ul class=""><li id="1ef7" class="nc nd iq jp b jq jr ju jv jy ne kc nf kg ng kk nh ni nj nk bi translated">为什么我决定改变我的代码？</li><li id="5f9b" class="nc nd iq jp b jq oe ju of jy og kc oh kg oi kk nh ni nj nk bi translated">缺失的部分是什么？</li><li id="7a09" class="nc nd iq jp b jq oe ju of jy og kc oh kg oi kk nh ni nj nk bi translated">我被困在代码里了。</li></ul><p id="c314" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我将在下一部分回答所有这些问题。一如既往，代码对你开放；拉请求是最受欢迎的；访问<a class="ae ld" href="https://github.com/Zujaj/image_color_switcher" rel="noopener ugc nofollow" target="_blank"> Github库</a>。</p><div class="on oo gp gr op oq"><a rel="noopener  ugc nofollow" target="_blank" href="/imagecolorswitcher-in-flutter-part-2-vector-image-coloring-97509fd6a90a"><div class="or ab fo"><div class="os ab ot cl cj ou"><h2 class="bd ir gy z fp ov fr fs ow fu fw ip bi translated">颤振中的ImageColorSwitcher:第2部分-矢量图像着色</h2><div class="ox l"><h3 class="bd b gy z fp ov fr fs ow fu fw dk translated">从光栅到矢量图像着色的经验教训。</h3></div><div class="oy l"><p class="bd b dl z fp ov fr fs ow fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="oz l"><div class="pa l pb pc pd oz pe kw oq"/></div></div></a></div><h1 id="e4a8" class="le lf iq bd lc lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">参考</h1><p id="578d" class="pw-post-body-paragraph jn jo iq jp b jq mb js jt ju mc jw jx jy md ka kb kc me ke kf kg mf ki kj kk ij bi translated"><strong class="jp ir">【1】:<em class="kl">color filtered类— widgets库—Dart API<br/></em></strong><a class="ae ld" href="https://api.flutter.dev/flutter/widgets/ColorFiltered-class.html" rel="noopener ugc nofollow" target="_blank">https://API . flutter . dev/flutter/widgets/color filtered-class . html</a></p><p id="2f0e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">【2】:<em class="kl">SVG滤色游乐场<br/></em></strong><a class="ae ld" href="https://kazzkiq.github.io/svg-color-filter/" rel="noopener ugc nofollow" target="_blank">https://kazzkiq.github.io/svg-color-filter/</a></p><p id="d430" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">【3】:<em class="kl">如何在Flutter中切换图像的特定颜色—堆栈溢出<br/></em></strong><a class="ae ld" href="https://stackoverflow.com/questions/65633869/how-to-switch-specific-colors-of-an-image-in-flutter" rel="noopener ugc nofollow" target="_blank">https://Stack Overflow . com/questions/65633869/How-to-Switch-Specific-Colors-of-an-a-Image-in-Flutter</a></p><p id="830a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">【4】:<em class="kl">从抖动的图像中移除颜色|作者Thomas Gallinari<br/></em></strong><a class="ae ld" href="https://thomasgallinari.medium.com/remove-a-color-from-an-image-in-flutter-36770ac42669" rel="noopener">https://Thomas Gallinari . medium . com/Remove-a-color-from-an-a-image-in-Flutter-36770 AC 42669</a></p><p id="9e15" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">【5】:</strong><a class="ae ld" href="https://pub.dev/packages/image" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="kl">图片|镖包(pub . dev)</em></strong></a><strong class="jp ir"><em class="kl"><br/></em></strong><a class="ae ld" href="https://pub.dev/packages/image" rel="noopener ugc nofollow" target="_blank">https://pub.dev/packages/image</a></p><p id="5feb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">【6】:<em class="kl">图像颜色切换器Github Repo<br/></em></strong><a class="ae ld" href="https://github.com/Zujaj/image_color_switcher" rel="noopener ugc nofollow" target="_blank">https://github.com/Zujaj/image_color_switcher</a></p></div></div>    
</body>
</html>