<html>
<head>
<title>Beginner iOS Dev — Toggle light/dark &amp; follow system modes in Swift/iOS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">初学iOS开发—在Swift/iOS中切换亮/暗和跟随系统模式</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/beginner-ios-dev-toggle-light-dark-follow-system-modes-in-swift-ios-8b427127df79?source=collection_archive---------2-----------------------#2021-12-17">https://levelup.gitconnected.com/beginner-ios-dev-toggle-light-dark-follow-system-modes-in-swift-ios-8b427127df79?source=collection_archive---------2-----------------------#2021-12-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div class="gh gi jq"><img src="../Images/a7b1885b9d208316475eecd187a4e236.png" data-original-src="https://miro.medium.com/v2/resize:fit:532/1*MPMBn_ENoau-tvT7JKCsdw.gif"/></div></figure><p id="e7c7" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">在iOS中采用明暗模式，并允许用户在主题(或模式)之间切换，这是令人惊讶的复杂(至少我是这么认为的……我还在学习)。</p><p id="9ebd" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">它分为两部分，为黑暗模式选择颜色(除非你乐意使用系统颜色，在这种情况下iOS可以为你切换)。允许用户独立于系统在明暗模式(或主题)之间切换，并且还具有“跟随系统”设置是另一个挑战。</p><p id="cd6a" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">我将着眼于后者。</p><p id="7cc8" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">在网上快速搜索给出了一些现成的解决方案，使用观察协议是一种方法。我在这里找到了Lee Kah Seng的一篇很棒的文章，这里使用的大部分代码都来自这篇文章。但不幸的是，它没有提到“跟随系统设置”的方法——这是可以理解的，因为它给文章增加了一点复杂性。</p><p id="7f5e" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">但这是目前大多数应用程序的标准功能。</p><p id="84c4" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">因此，为了缩短一个相当短的故事，让它更短，我做了一个解决方案，这就是。(如果你有兴趣看到这个解决方案在一个生产应用中工作，这里有一个<a class="ae kv" href="https://apps.apple.com/en/app/use-your-words-aac-buttons/id1580455486?l=en" rel="noopener ugc nofollow" target="_blank">链接</a></p><p id="23b2" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">演示不会像上面的gif那样花哨，这里有一个截图。</p><figure class="kx ky kz la gt ju gh gi paragraph-image"><div class="gh gi kw"><img src="../Images/2d79df773e8f4119d5783e5fc0270fd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:586/format:webp/1*3iZPk6hkbI_77_eoSaIpFg.png"/></div></figure><p id="8d78" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">我不会去详细说明，因为我认为代码是相当自明的。但是如果你有任何问题，不要犹豫。缺少的主要部分(遵循系统模式)基本上是使用NotificationCenter和“didBecomeActiveNotification ”,当然当应用程序激活时适当地切换模式。</p><figure class="kx ky kz la gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi lb"><img src="../Images/ace33fd6c39dbe038baca1baa57eb145.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8KFusq_mnCMD1-7W-DtBEg.png"/></div></div></figure><p id="79b4" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">如果你觉得这有用，请让我知道，特别是如果你用完全不同的方法做这件事，我很想知道。一如既往，我不会说这是唯一的方法:)</p><p id="7519" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">感谢阅读，这里有一个关于<a class="ae kv" href="https://github.com/jamestapping/Medium_ToggleThemesDemo" rel="noopener ugc nofollow" target="_blank"> Github </a>项目的链接。</p></div></div>    
</body>
</html>