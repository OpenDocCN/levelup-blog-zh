<html>
<head>
<title>Creating a Weighted Loot Table Inside Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Unity中创建一个加权的战利品表</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/creating-a-weighted-loot-table-inside-unity-c89fc804b343?source=collection_archive---------12-----------------------#2022-10-10">https://levelup.gitconnected.com/creating-a-weighted-loot-table-inside-unity-c89fc804b343?source=collection_archive---------12-----------------------#2022-10-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/0f3a47ffc61e10355407f4167f6cfe51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qQHwsudR1yIf0AJ2DewElA.png"/></div></div></figure><p id="c4d2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">概述:</strong></p><p id="7877" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">今天，我们将创建一个加权的战利品表。</p><p id="deea" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是如何工作的，我们有一个loot表(整数数组),保存每个对象从最高到最低的所有百分比。接下来，我们运行for-each循环，将每个百分比相加，并将其存储在一个名为Table Total的变量中。</p><p id="304c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们生成一个从0到表总数的随机数。</p><p id="acf0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后我们运行for-each循环，比较随机数是否小于或等于当前重量(百分比)。如果是真的，我们就产生这个对象。如果它是假的，我们用随机数减去当前的重量(百分比)。</p><p id="74dc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">加权战利品表:</strong></p><p id="452c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在种子管理器中，我们需要创建一些新的变量。</p><ol class=""><li id="f9ac" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lb lc ld le bi translated">我们需要一个int来表示加权值/百分比和加权表总计。</li></ol><figure class="lg lh li lj gt jr gh gi paragraph-image"><div class="gh gi lf"><img src="../Images/6ba0825c2f4d4fe39ce6c216e71495b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1058/format:webp/1*6VDg9jf3wcE8oWwZ25oL5w.png"/></div></figure><p id="5685" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">2.我们创造了一种新方法。我们运行一个foreach循环，将每个百分比相加，并存储在一个名为Table Total的变量中。接下来，我们生成一个从0到表总数的随机数。然后，我们运行foreach循环，比较随机数是否小于或等于当前权重(百分比)。如果是真的，我们就产生这个物体，如果是假的，我们就用随机数减去当前的重量(百分比)。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div class="gh gi lk"><img src="../Images/62bd66c1b1afb20f2c8c1502fe879126.png" data-original-src="https://miro.medium.com/v2/resize:fit:1096/format:webp/1*3eBEVuHu1zZFsuriqfmtJA.png"/></div></figure><p id="21f1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">产卵对象:</strong></p><ol class=""><li id="b677" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lb lc ld le bi translated">在start spawning方法中，我们需要将stop spawning PowerUps布尔值设置为false。</li></ol><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ll"><img src="../Images/402b1ec951062a5144e70852ea413bf3.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*fSAAIyorbYhnM852bLV-fw.png"/></div></div></figure><p id="29cc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">2.在spawn PowerUp协同例程中，我们运行一个while循环，该循环将调用SelectPowerUp方法。接下来，我们检查所选择的加电是否不等于null，如果不等于，我们产生加电。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lm"><img src="../Images/97c395233987924e94289dabafa5da77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9zY-Br98IqGZNwYAcHP0_g.png"/></div></div></figure><p id="37ed" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这就是在Unity中创建一个加权的战利品表。</p><p id="52de" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">感谢您的时间和关注。</p></div></div>    
</body>
</html>