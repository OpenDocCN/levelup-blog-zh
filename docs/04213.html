<html>
<head>
<title>Easy server-side Micro Frontends with Podium</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带讲台的简易服务器端微前端</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/podium-easy-server-side-micro-frontends-385f3a4cd346?source=collection_archive---------7-----------------------#2020-06-15">https://levelup.gitconnected.com/podium-easy-server-side-micro-frontends-385f3a4cd346?source=collection_archive---------7-----------------------#2020-06-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="0d95" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="ko">想直接跳到代码？</em></p><div class="kp kq gp gr kr ks"><a href="https://github.com/Jozzeh/podium-basic-example" rel="noopener  ugc nofollow" target="_blank"><div class="kt ab fo"><div class="ku ab kv cl cj kw"><h2 class="bd iu gy z fp kx fr fs ky fu fw is bi translated">jozzeh/讲台-基本-示例</h2><div class="kz l"><h3 class="bd b gy z fp kx fr fs ky fu fw dk translated">一个基本的例子，两个Podlets组合在一个页面或布局。-Jozzeh/讲台-基本-示例</h3></div><div class="la l"><p class="bd b dl z fp kx fr fs ky fu fw dk translated">github.com</p></div></div><div class="lb l"><div class="lc l ld le lf lb lg lh ks"/></div></div></a></div><p id="85d6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这听起来熟悉吗？</p><blockquote class="li lj lk"><p id="6648" class="jq jr ko js b jt ju jv jw jx jy jz ka ll kc kd ke lm kg kh ki ln kk kl km kn im bi translated">我们的大型前端应用程序使用过去的技术堆栈</p><p id="3c87" class="jq jr ko js b jt ju jv jw jx jy jz ka ll kc kd ke lm kg kh ki ln kk kl km kn im bi translated">开发人员维护应用程序，不能创建新功能。</p><p id="df33" class="jq jr ko js b jt ju jv jw jx jy jz ka ll kc kd ke lm kg kh ki ln kk kl km kn im bi translated">有一些快速和肮脏的代码在那里(由于交付压力)。</p><p id="6333" class="jq jr ko js b jt ju jv jw jx jy jz ka ll kc kd ke lm kg kh ki ln kk kl km kn im bi translated">项目太大，连核心团队都不知道什么在哪里。</p></blockquote><p id="0d4c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">作为一名开发人员，完全重写是非常诱人的。然而，重写可能会引入其他问题，例如巨大的成本。一个解决方案可能是将应用程序一部分一部分地分离和重写。同时，团队仍然可以向最终用户或客户交付新的特性。</p><p id="9a92" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这种解耦和逐段重写导致了微前端架构。这些新的部分很小，应该更容易理解和维护，因为它做一件“事情”，而且做得很好……<br/>开发者只需要关注“他们的部分”，这反过来使他们高度专业化。</p><p id="d5cc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它还使开发人员能够独立开发和部署应用程序，而不必构建和测试所有其他部分，从而大大缩短了上市时间。</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="gh gi lo"><img src="../Images/1accc87a5d0626b96390dc5d31452407.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dj5So76uhoUvUKbb28Y1CA.png"/></div></div><figcaption class="lz ma gj gh gi mb mc bd b be z dk translated">构建管道和微前端组成示例</figcaption></figure><p id="5258" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最终游戏:松散耦合的不同微前端。在每个微前端应用程序中，开发人员有很大的自由去做对项目最有利的事情。这些微前端被捆绑在一个页面或其他应用程序中…基础应用程序。</p><p id="1cb2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="ko">注意:不全是小猫彩虹。在采用微前端架构之前，应该考虑一些缺点。一个陷阱可能是用户界面的不一致性，所以准备好努力使用/创建一个通用的用户界面库或者投资一个设计系统。</em></p><h2 id="d697" class="md me it bd mf mg mh dn mi mj mk dp ml kb mm mn mo kf mp mq mr kj ms mt mu mv bi translated">服务器端合成</h2><p id="2b80" class="pw-post-body-paragraph jq jr it js b jt mw jv jw jx mx jz ka kb my kd ke kf mz kh ki kj na kl km kn im bi translated">微前端的一个常见的、重复出现的项目是捆绑或组成不同微前端的一个基础应用程序。</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="gh gi nb"><img src="../Images/a8356d10fa9eb5659fad84f6ff41a6ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IsbtWNHc5c_DkKDZBx45sA.png"/></div></div><figcaption class="lz ma gj gh gi mb mc bd b be z dk translated">集成了2个微前端的小应用程序</figcaption></figure><p id="9ffd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">微前端的组成可以在3个阶段集成:</p><ol class=""><li id="4a7b" class="nc nd it js b jt ju jx jy kb ne kf nf kj ng kn nh ni nj nk bi translated"><strong class="js iu">客户端</strong>:浏览器进入页面，运行时加载微前端。</li><li id="fa37" class="nc nd it js b jt nl jx nm kb nn kf no kj np kn nh ni nj nk bi translated"><strong class="js iu">构建时间</strong>:当构建基础应用程序时，它会引入微前端。(微前端通常是(npm)包。)</li><li id="ae96" class="nc nd it js b jt nl jx nm kb nn kf no kj np kn nh ni nj nk bi translated"><strong class="js iu">服务器端</strong>:服务器将组成页面/应用，然后返回给用户。</li></ol><p id="fc5c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本文中，我们将研究如何使用powder框架集成服务器端方法。</p><p id="89ee" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一个简单但强大的服务器端组合框架。</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="gh gi nq"><img src="../Images/7a6ec4c866ea543bc6314a87889d2102.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NWCpOVmJuAyzMtevhFm0TQ.jpeg"/></div></div></figure><h1 id="dfd8" class="nr me it bd mf ns nt nu mi nv nw nx ml ny nz oa mo ob oc od mr oe of og mu oh bi translated">讲台</h1><p id="ffbc" class="pw-post-body-paragraph jq jr it js b jt mw jv jw jx mx jz ka kb my kd ke kf mz kh ki kj na kl km kn im bi translated">Podium是一个简单的微前端服务器端组合框架。该框架成功地实现了非侵入性，处理简单的概念，但执行起来非常强大。</p><p id="e15f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这导致了一个微前端框架，它不仅是框架不可知的，而且是语言不可知的。换句话说，你可以使用你最喜欢的前端框架，比如React，Svelte，VueJS，Angular，…或者甚至可以集成一个Java/PHP/C#应用。</p><p id="3b4a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">页面的组合是以编程方式完成的，而不是通过配置文件。它提供了更多的权力和自由。</p><blockquote class="oi"><p id="a96e" class="oj ok it bd ol om on oo op oq or kn dk translated">拥有按照自己的方式工作的自由…这吸引了我使用讲台。讲台是根据项目的需要量身定制的，而不是相反。</p></blockquote><p id="2a41" class="pw-post-body-paragraph jq jr it js b jt os jv jw jx ot jz ka kb ou kd ke kf ov kh ki kj ow kl km kn im bi translated">讲台还具有其他一些优势:</p><ul class=""><li id="f433" class="nc nd it js b jt ju jx jy kb ne kf nf kj ng kn ox ni nj nk bi translated">完全隔离的微前端开发和测试<br/>(我认为这是绝对必须的)</li><li id="cfc9" class="nc nd it js b jt nl jx nm kb nn kf no kj np kn ox ni nj nk bi translated">多回购或单回购…你的选择</li><li id="8504" class="nc nd it js b jt nl jx nm kb nn kf no kj np kn ox ni nj nk bi translated">文档写得很好</li><li id="9cd2" class="nc nd it js b jt nl jx nm kb nn kf no kj np kn ox ni nj nk bi translated">回应作者</li></ul><p id="983f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">关于领奖台，还有很多东西需要发掘。<br/>以下是网站链接&amp;文档:【https://podium-lib.io/】T2</p><h2 id="1e48" class="md me it bd mf mg mh dn mi mj mk dp ml kb mm mn mo kf mp mq mr kj ms mt mu mv bi translated">概念</h2><p id="046f" class="pw-post-body-paragraph jq jr it js b jt mw jv jw jx mx jz ka kb my kd ke kf mz kh ki kj na kl km kn im bi translated">Podium在组合和微前端之间放置了一个NodeJS服务器(Express、哈比神、Fastify或HTTP)。</p><p id="da14" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">布局<br/> </strong>指挥台的基础应用称为“布局”。<br/>一个布局将结合一个页面上的所有微前端。</p><p id="7faf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下面是一个使用express创建NodeJS服务器的布局示例。</p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="oz pa l"/></div></figure><p id="6f2e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">上面的代码只有一个网页的根网址，但布局并不限于一个网址。</p><p id="c93f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">podlet<br/></strong>podlet是独立开发和运行的页面片段。它们是基础应用程序或布局的构建块。</p><p id="dbe7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一个Podlet需要为一个布局提供3个项目:</p><ol class=""><li id="7550" class="nc nd it js b jt ju jx jy kb ne kf nf kj ng kn nh ni nj nk bi translated">超文本标记语言</li><li id="f965" class="nc nd it js b jt nl jx nm kb nn kf no kj np kn nh ni nj nk bi translated">半铸钢ˌ钢性铸铁(Cast Semi-Steel)</li><li id="1668" class="nc nd it js b jt nl jx nm kb nn kf no kj np kn nh ni nj nk bi translated">射流研究…</li></ol><p id="7196" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是通过manifest.json文件完成的，该文件还包含一些其他信息。有一个为Podium制作的JavaScript包，让这个过程变得更简单。使用JavaScript包不是必需的，因为Podium是与语言无关的。</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="gh gi pb"><img src="../Images/05383f693de81abbadeeaf71af3a5fe4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DI6TQYVom8swIqdlMjQA6A.png"/></div></div><figcaption class="lz ma gj gh gi mb mc bd b be z dk translated">服务器端组合的呈现</figcaption></figure><h2 id="ca5a" class="md me it bd mf mg mh dn mi mj mk dp ml kb mm mn mo kf mp mq mr kj ms mt mu mv bi translated">manifest.json剖析</h2><pre class="lp lq lr ls gt pc pd pe pf aw pg bi"><span id="c5a0" class="md me it pd b gy ph pi l pj pk">{<br/>  "name":"aPodlet",<br/>  "version":"1.0.0",<br/>  "content":"/",<br/>  "fallback":"",<br/>  "assets": {<br/>    "js":"/js/podleta.js",<br/>    "css":"/css/podleta.css"<br/>  },<br/>  "css":<br/>  [{"value":"/css/podleta.css",<br/>    "type":"text/css",<br/>    "rel":"stylesheet"<br/>  }],<br/>  "js":<br/>  [{"value":"/js/podleta.js",<br/>    "defer":true,<br/>    "type":"default"<br/>  }],<br/>  "proxy":{}<br/>}</span></pre><ul class=""><li id="fb72" class="nc nd it js b jt ju jx jy kb ne kf nf kj ng kn ox ni nj nk bi translated">名称:Podlet的唯一名称</li><li id="2200" class="nc nd it js b jt nl jx nm kb nn kf no kj np kn ox ni nj nk bi translated">版本:版本有助于确定基本应用程序是否需要重新加载Podlet清单和回退</li><li id="6578" class="nc nd it js b jt nl jx nm kb nn kf no kj np kn ox ni nj nk bi translated">内容:是可以找到HTML内容的路径</li><li id="720b" class="nc nd it js b jt nl jx nm kb nn kf no kj np kn ox ni nj nk bi translated">回退:是内容加载失败时的路径</li><li id="084a" class="nc nd it js b jt nl jx nm kb nn kf no kj np kn ox ni nj nk bi translated">资产:(已弃用)运行应用程序所需的初始CSS和JS文件</li><li id="8cc5" class="nc nd it js b jt nl jx nm kb nn kf no kj np kn ox ni nj nk bi translated">CSS:应用程序使用的所有CSS文件的数组</li><li id="1ca8" class="nc nd it js b jt nl jx nm kb nn kf no kj np kn ox ni nj nk bi translated">JS:应用程序使用的所有JavaScript文件的数组(加载可以推迟，类型可以设置)</li><li id="eab4" class="nc nd it js b jt nl jx nm kb nn kf no kj np kn ox ni nj nk bi translated">代理:额外的路由，并且它们应该通过布局服务器上的路由被给予公共访问。</li></ul><p id="ab39" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">podlet附带了一个NodeJS包(@podium/podlet)来轻松创建这个manifest.json文件。使用NodeJS包并不是强制性的，您可以编写自己的manifest.json或者从任何其他编程语言生成它。</p><h2 id="15e3" class="md me it bd mf mg mh dn mi mj mk dp ml kb mm mn mo kf mp mq mr kj ms mt mu mv bi translated">基本示例</h2><p id="a054" class="pw-post-body-paragraph jq jr it js b jt mw jv jw jx mx jz ka kb my kd ke kf mz kh ki kj na kl km kn im bi translated">这是一个非常基本的例子，两个微前端应用程序(Podlets)被合并在一个页面(布局)。</p><p id="9e9b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> Podlets示例</strong></p><p id="de86" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这两个静态HTML应用程序非常简单。一个是橙色背景，中间有一个大“A”，另一个是绿色背景，中间有一个大“B”。</p><p id="388b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">代码非常简单，但是podlet-a和podlet-b文件夹中的<em class="ko"> index.js </em>非常有趣。出于演示目的，除了Podlet名称之外，这两个名称是相同的。</p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="oz pa l"/></div></figure><p id="0946" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">布局示例</strong></p><p id="e3f1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Podlets已经准备好了，是时候将它们合并到一个页面上了。<br/>首先，我们需要开始布局，注册podlets，然后在页面上呈现它们。</p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="oz pa l"/></div></figure><p id="cb07" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">代码可以在我的Github页面上找到。</p><div class="kp kq gp gr kr ks"><a href="https://github.com/Jozzeh/podium-basic-example" rel="noopener  ugc nofollow" target="_blank"><div class="kt ab fo"><div class="ku ab kv cl cj kw"><h2 class="bd iu gy z fp kx fr fs ky fu fw is bi translated">jozzeh/讲台-基本-示例</h2><div class="kz l"><h3 class="bd b gy z fp kx fr fs ky fu fw dk translated">一个基本的例子，两个Podlets组合在一个页面或布局。-Jozzeh/讲台-基本-示例</h3></div><div class="la l"><p class="bd b dl z fp kx fr fs ky fu fw dk translated">github.com</p></div></div><div class="lb l"><div class="lc l ld le lf lb lg lh ks"/></div></div></a></div><p id="f6cd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="ko">注意:尽管Podlets和布局现在都在一个存储库中，但是每个应用程序都可以驻留在它们的存储库中。这两种Podlets都可以完全独立地开发和部署。</em></p><p id="0f4e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是一个非常基础的领奖台入门，还有很多需要探索的地方。<br/>https://podium-lib . io上有写得很好的文档。</p><p id="87c4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">本文是将流行的前端框架组合在一个页面上的系列文章的一部分。Podium非常灵活，可以组合多个框架。以下是本系列的其他文章:</p><p id="a81b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae oy" href="https://medium.com/@jozzeh/react-micro-frontends-with-podium-dd832075d924" rel="noopener"> <em class="ko"> React微前端带讲台<br/> </em> </a> <a class="ae oy" href="https://medium.com/@jozzeh/easy-svelte-micro-frontends-with-podium-34aa949bed02" rel="noopener"> <em class="ko">苗条的服务器端微前端带讲台</em></a><em class="ko"><br/></em><a class="ae oy" href="https://medium.com/@jozzeh/vue-micro-frontends-with-podium-7d4d96b36596" rel="noopener"><em class="ko">VueJS微前端带讲台</em></a><em class="ko"><br/></em><a class="ae oy" href="https://medium.com/@jozzeh/react-vue-svelte-on-one-page-with-micro-frontends-f740b3ee6979" rel="noopener"><em class="ko">微前端带讲台(React，苗条的&amp; VueJS) </em> </a></p></div></div>    
</body>
</html>