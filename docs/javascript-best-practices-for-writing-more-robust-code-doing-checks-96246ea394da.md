# 编写更健壮代码的 JavaScript 最佳实践——做检查

> 原文：<https://levelup.gitconnected.com/javascript-best-practices-for-writing-more-robust-code-doing-checks-96246ea394da>

![](img/8ea50bb4edeb7ddb94a9cea8ebaeb3d4.png)

戴维·克洛德在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片

JavaScript 是一种简单易学的编程语言。编写运行并执行某些操作的程序很容易。然而，很难考虑所有的用例并编写健壮的 JavaScript 代码。

在这篇文章中，我们将看看如何在我们的应用程序中进行检查，以便只在给定的条件为真或假时运行。

# 我们应该做的检查类型

如果我们希望 JavaScript 程序健壮。然后，我们必须在应用程序中进行一些检查。

有三种支票。它们是:

*   存在检查——检查某物是否可用
*   类型检查-检查数据类型是否正确或属性是否存在
*   价值检查——检查某样东西是否具有我们正在寻找的价值

# 条件语句

我们可以用条件语句检查值并相应地运行代码。JavaScript 中有几种类型的条件语句。它们包括`if`语句、`switch`语句和三元运算符。

`if`语句是最通用的一种条件语句。如果`if`语句中的表达式为真，则运行代码。

真值表达式是当它们被强制为布尔值时，计算结果为`true`的表达式。当被强制为布尔值时，Falsy 表达式的计算结果为`false`。

JavaScript 中的 Falsy 值有 0、`false`、`''`(空字符串)、`undefined`、`null`和`NaN`。其他一切都是真实的。

例如，我们可以编写下面的`if`语句:

```
if (foo === 1) {
  //...
} else if (foo === 2) {
  //...
} else {
  //...
}
```

在上面的代码中，我们在`if`语句中进行了几次检查。首先，我们用`===`操作符检查`foo`是否为 1，如果为`true`则运行一些操作。

否则，我们检查`foo`是否是 2，如果是`true`，那么我们运行一些东西。

在所有其他情况下，如最后的`else`块所示，如果`foo`不是 1 或 2，我们就运行一些东西。

在检查东西的时候，我们应该使用`===`操作符来进行检查。如果我们想检查某物是否不等于某物，那么我们使用`!==`操作符。

这是因为在进行比较之前，它们不会进行类型强制。

# Switch 语句

上面的这种比较也可以用`switch`语句来做。

例如，我们可以用下面的`switch`语句重写我们的例子:

```
switch (foo) {
  case 1: {
    //...
    break;
  }
  case 2: {
    //...
    break;
  }
  default: {
    //...
    break;
  }
}
```

在上面的代码中，我们有`switch (foo)`，它表示我们检查`foo`的给定值。在这种情况下，我们检查 1 和 2，如`case`块所示。如果`foo`分别为 1 或 2，它们用于运行代码。

我们将`case`语句放在块中，这样我们就不必担心块范围内的变量与同名的其他块范围内的变量发生冲突。

同样重要的是，我们在每个块的末尾使用了`break;`语句，这样其他情况下的代码就不会运行，只有匹配的代码块才会运行。

`default`块用于当`foo`不是 1 或 2，或者通常与`case`块中给出的情况不匹配时运行代码。

这就像我们在`if`语句示例中的`else`块。

# 三元运算符

三元运算符对于编写只有两种情况的条件检查非常有用，我们希望为一种情况返回一些内容，为另一种情况返回一些内容。

运算符用`?`表示，我们用`:`运算符区分情况。

例如，我们可以如下使用它:

```
const foo = 1;
const x = (foo === 1 ? 'foo' : 'bar');
```

在上面的代码中，我们有一个表达式:

```
(foo === 1 ? 'foo' : 'bar')
```

它使用三元运算符。这个表达式意味着如果`foo`为 1，那么我们返回`'foo'`。否则，我们返回`'bar'`。

因此，因为`foo`为 1，所以返回`'foo'`，我们将其赋给`x`。

![](img/2e8d6a72da1157200a995cfbed061897.png)

d 照片由 [Leslie Low](https://unsplash.com/@pl_low?utm_source=medium&utm_medium=referral) 在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄

# 结论

我们应该在我们的应用程序中进行多种检查，以确保我们的应用程序正确运行，并且只在我们拥有所需数据时才执行操作。

为了进行检查，我们应该使用条件语句，如`if`语句、`switch`语句或三元表达式。