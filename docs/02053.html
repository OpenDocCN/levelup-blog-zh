<html>
<head>
<title>Set Up Next.js with a Custom Express Server + Typescript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用自定义Express Server + Typescript设置Next.js</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/set-up-next-js-with-a-custom-express-server-typescript-9096d819da1c?source=collection_archive---------0-----------------------#2020-02-16">https://levelup.gitconnected.com/set-up-next-js-with-a-custom-express-server-typescript-9096d819da1c?source=collection_archive---------0-----------------------#2020-02-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/2d3f9e3a73260c4c647f03c69810081d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*acnd9JbjI1OX_KKu"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@adigold1?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Adi Goldstein </a>在<a class="ae kc" href="https://unsplash.com/s/photos/coding?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="a314" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我将带您了解如何使用Typescript创建一个由自定义Express服务器处理的Next.js应用程序。</p><p id="1bb2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你可以在<a class="ae kc" href="https://github.com/tiptopcoder/simple-next-express-typescript" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上看到发布的完整代码。</p><h1 id="bbc8" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">设置Next.js项目</h1><p id="bdd6" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">首先创建一个项目文件夹:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="972d" class="mn lc iq mj b gy mo mp l mq mr">mkdir -p next-express-typescript<br/>cd ./next-express-typescript</span></pre><p id="5607" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">初始化一个<code class="fe ms mt mu mj b">package.json</code>文件并安装依赖项:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="863e" class="mn lc iq mj b gy mo mp l mq mr">npm init -y<br/>npm install react react-dom next</span></pre><p id="493e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将以下脚本添加到<code class="fe ms mt mu mj b">package.json</code>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="d1b9" class="mn lc iq mj b gy mo mp l mq mr">"scripts": {<br/>  "dev": "next",<br/>  "build": "next build",<br/>  "start": "next start"<br/>}</span></pre><p id="d194" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">创建您的第一页:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="95da" class="mn lc iq mj b gy mo mp l mq mr">mkdir -p src/pages<br/>touch src/pages/index.js</span></pre><p id="1fd1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用一些虚拟内容填充<code class="fe ms mt mu mj b">./src/pages/index.js</code>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="5e75" class="mn lc iq mj b gy mo mp l mq mr">function IndexPage() {<br/>  <!-- -->return &lt;div&gt;Hello World Next - Typescript - Express&lt;/div&gt;;<br/>}<br/><br/>export default IndexPage;</span></pre><p id="9f5f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后运行<code class="fe ms mt mu mj b">npm run dev</code>并访问<code class="fe ms mt mu mj b">http://localhost:3000</code>查看创建的页面:</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/58df291a21a501fd1266014949eb64d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AlNJjJXPf_-33EDxP1C-Sg.png"/></div></div></figure><h1 id="1743" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">配置Typescript</h1><p id="1764" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">基本上，Next.js为我们提供了一种快速配置Typescript的方法。首先，创建一个空的<code class="fe ms mt mu mj b">tsconfig.json</code>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="f15d" class="mn lc iq mj b gy mo mp l mq mr">touch tsconfig.json</span></pre><p id="2a20" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后再次执行<code class="fe ms mt mu mj b">npm run dev</code>，您应该会看到Next.js中的一个向导告诉您安装所需的包:</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/3a4a6a6399e620b365d662528eaf8140.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LvQtUIIPl_gHnGiLg_xtpA.png"/></div></div></figure><p id="d2bb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，让我们安装并完成Typescript设置:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="e3db" class="mn lc iq mj b gy mo mp l mq mr">npm install --save-dev typescript <a class="ae kc" href="http://twitter.com/types/react" rel="noopener ugc nofollow" target="_blank">@types/react</a> <a class="ae kc" href="http://twitter.com/types/node" rel="noopener ugc nofollow" target="_blank">@types/node</a><br/>mv src/pages/index.js src/pages/index.tsx</span></pre><p id="8732" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后再次运行开发服务器，一切都应该正常工作了。</p><h1 id="f4de" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">设置Express</h1><p id="56f1" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">当你运行<code class="fe ms mt mu mj b">npm run dev</code>时，基本上Next.js会启动它自己的服务器，但是也可以用你自己的Express服务器以编程方式处理它。</p><p id="9627" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们需要安装<code class="fe ms mt mu mj b">express</code>及其Typescript定义:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="9d41" class="mn lc iq mj b gy mo mp l mq mr">npm install express<br/>npm install --save-dev @types/express ts-node</span></pre><p id="bfcf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">创建服务器文件夹和服务器入口点:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="3534" class="mn lc iq mj b gy mo mp l mq mr">mkdir -p server<br/>touch server/index.ts</span></pre><p id="f504" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用此代码填充<code class="fe ms mt mu mj b">index.ts</code>:</p><figure class="me mf mg mh gt jr"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="cb45" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们编辑<code class="fe ms mt mu mj b">package.json</code>中的<code class="fe ms mt mu mj b">dev</code>脚本:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="4139" class="mn lc iq mj b gy mo mp l mq mr">"scripts": {<br/>   "dev": "ts-node server/index.ts",<br/>   ...<br/>}</span></pre><blockquote class="mz na nb"><p id="897d" class="kd ke nc kf b kg kh ki kj kk kl km kn nd kp kq kr ne kt ku kv nf kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">ts-node</code>是node.js的TypeScript执行和REPL，支持源映射。(<a class="ae kc" href="https://www.npmjs.com/package/ts-node" rel="noopener ugc nofollow" target="_blank">来源</a>)</p></blockquote><p id="0803" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在运行<code class="fe ms mt mu mj b">npm run dev</code>。但糟糕的是，我们遇到了一个错误:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="68c2" class="mn lc iq mj b gy mo mp l mq mr">import express from "express";<br/>       ^^^^^^^</span></pre><p id="0424" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">问题来自<code class="fe ms mt mu mj b">tsconfig.json</code>，有一条线<code class="fe ms mt mu mj b">"module": "esnext"</code>。通常，Next.js <strong class="kf ir">会强制</strong> TS使用ESNext模式编译，但是<code class="fe ms mt mu mj b">express</code>是基于<code class="fe ms mt mu mj b">commonjs</code>模式构建的。如果您将值从<code class="fe ms mt mu mj b">esnext</code>更改为<code class="fe ms mt mu mj b">commonjs</code>，<strong class="kf ir"> Next.js会自动将其恢复。</strong></p><p id="6283" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了解决这个问题，让我们创建另一个配置文件:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="0cac" class="mn lc iq mj b gy mo mp l mq mr">touch tsconfig.server.json</span></pre><p id="66f5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并从<code class="fe ms mt mu mj b">tsconfig.json</code>开始延伸:</p><figure class="me mf mg mh gt jr"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="01b7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">分解为:</p><ul class=""><li id="7647" class="ng nh iq kf b kg kh kk kl ko ni ks nj kw nk la nl nm nn no bi translated"><code class="fe ms mt mu mj b">"extends": "./tsconfig.json"</code>:从<code class="fe ms mt mu mj b">tsconfig.json</code>获取所有选项</li><li id="335f" class="ng nh iq kf b kg np kk nq ko nr ks ns kw nt la nl nm nn no bi translated"><code class="fe ms mt mu mj b">"compilerOptions.module": "commonjs"</code>:使用<code class="fe ms mt mu mj b">commonjs</code>作为模块模式，使<code class="fe ms mt mu mj b">express</code>和<code class="fe ms mt mu mj b">next</code>一起工作。</li><li id="4ff8" class="ng nh iq kf b kg np kk nq ko nr ks ns kw nt la nl nm nn no bi translated"><code class="fe ms mt mu mj b">"compilerOptions.outDir": "dist"</code>:该选项用于生产。它会将<code class="fe ms mt mu mj b">server</code>目录下的所有<code class="fe ms mt mu mj b">.ts</code>文件编译到<code class="fe ms mt mu mj b">.js</code>并发送到<code class="fe ms mt mu mj b">dist</code>目录。</li><li id="8306" class="ng nh iq kf b kg np kk nq ko nr ks ns kw nt la nl nm nn no bi translated"><code class="fe ms mt mu mj b">"compilerOptions.noEmit": true</code>:该选项用于生产。Next.js基本上是用<code class="fe ms mt mu mj b">babel</code>来编译Typescript所以TS编译器不会输出<code class="fe ms mt mu mj b">.js</code>。我们将覆盖这个值，告诉TS编译器编译并输出我们的<code class="fe ms mt mu mj b">server</code>文件。</li><li id="110d" class="ng nh iq kf b kg np kk nq ko nr ks ns kw nt la nl nm nn no bi translated"><code class="fe ms mt mu mj b">"include": ["server"]</code>:该选项也用于生产。它让ts编译器只知道编译<code class="fe ms mt mu mj b">server/</code>目录中的<code class="fe ms mt mu mj b">.ts</code>文件。</li></ul><p id="99f0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将使用这个配置进行本地开发。现在我们需要再次编辑<code class="fe ms mt mu mj b">dev</code>脚本:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="ce5f" class="mn lc iq mj b gy mo mp l mq mr">"dev": "ts-node --project tsconfig.server.json server/index.ts"</span></pre><p id="e016" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后执行<code class="fe ms mt mu mj b">npm run dev</code>然后访问<code class="fe ms mt mu mj b">http//localhost:3000</code> …成功了！</p><h2 id="ef4a" class="mn lc iq bd ld nu nv dn lh nw nx dp ll ko ny nz lp ks oa ob lt kw oc od lx oe bi translated">找不到修复错误页面</h2><p id="8fbc" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">当运行定制服务器时，你们中的一些人可能会遇到控制台弹出<code class="fe ms mt mu mj b">RangeError: Invalid array length</code>。</p><p id="48b9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">另外，当你访问一个未知的页面，比如说<code class="fe ms mt mu mj b">http://localhost:3000/no-exist-page</code>，你会得到<code class="fe ms mt mu mj b">Internal Server Error</code>而不是<code class="fe ms mt mu mj b">404 not found</code>这样的消息。这是因为Next.js在与定制服务器集成时不再处理错误。</p><p id="fd76" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">解决方案是创建<a class="ae kc" href="https://nextjs.org/docs/advanced-features/custom-error-page" rel="noopener ugc nofollow" target="_blank">一个自定义错误页面</a>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="8ef8" class="mn lc iq mj b gy mo mp l mq mr">touch src/pages/_error.tsx</span></pre><p id="6b2f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后用下面的代码填充它:</p><figure class="me mf mg mh gt jr"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="fef7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在再次访问<code class="fe ms mt mu mj b"><a class="ae kc" href="http://localhost:3000/no-exist-page" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/no-exist-page</a></code>，您应该会看到我们的错误消息:</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi of"><img src="../Images/f21cfc085d830281343d362af7080c87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SmibIyu3EVC-f60yXn7Osw.png"/></div></div></figure><p id="4ad9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">控制台中的错误也消失了！</p><h1 id="ba2a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">我们去生产吧</h1><p id="bc53" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">在生产模式下启动服务器之前，我们需要将Next.js和服务器代码编译到<code class="fe ms mt mu mj b">.js</code>。现在，修改<code class="fe ms mt mu mj b">package.json</code>中的<code class="fe ms mt mu mj b">scripts</code>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="6727" class="mn lc iq mj b gy mo mp l mq mr">"scripts": {<br/>    "build:server": "tsc --project tsconfig.server.json",<br/>    "build:next": "next build",<br/>    "build": "npm run build:next &amp;&amp; npm run build:server",<br/>    "start": "NODE_ENV=production node dist/index.js"<br/>}</span></pre><p id="8a4c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">细分:</p><ul class=""><li id="3713" class="ng nh iq kf b kg kh kk kl ko ni ks nj kw nk la nl nm nn no bi translated"><code class="fe ms mt mu mj b">build:server</code>:将<code class="fe ms mt mu mj b">server</code>代码构建到<code class="fe ms mt mu mj b">dist</code>目录下</li><li id="15b9" class="ng nh iq kf b kg np kk nq ko nr ks ns kw nt la nl nm nn no bi translated"><code class="fe ms mt mu mj b">build:next</code>:构建Next.js应用程序</li><li id="dc93" class="ng nh iq kf b kg np kk nq ko nr ks ns kw nt la nl nm nn no bi translated"><code class="fe ms mt mu mj b">build</code>:运行<code class="fe ms mt mu mj b">build:server</code>和<code class="fe ms mt mu mj b">build:next</code></li><li id="b92c" class="ng nh iq kf b kg np kk nq ko nr ks ns kw nt la nl nm nn no bi translated"><code class="fe ms mt mu mj b">start</code>:运行服务器。它运行<code class="fe ms mt mu mj b">node dist/index.js</code>而不是<code class="fe ms mt mu mj b">next start</code>，因为现在我们让<code class="fe ms mt mu mj b">experss</code>处理服务器。</li></ul><p id="0d70" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们通过运行<code class="fe ms mt mu mj b">npm run build</code>来构建所有的东西，您应该会看到这样的结果:</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi og"><img src="../Images/d6348767bcaeebc14cedeb8efc319289.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mMuUGGGWP3UsOyvMRgKoww.png"/></div></div></figure><p id="5537" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在运行<code class="fe ms mt mu mj b">npm start</code>,让我们看看我们的应用在生产中的工作情况:</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/45dc56cdf744c6ad414553b70f0b5062.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/format:webp/1*l6lNVy3Z1i2VTVz_vhrqoQ.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">告诉它正在生产环境中工作的控制台消息…</figcaption></figure><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oi"><img src="../Images/8be1ac0897ce5c254d7ba1d463d24f3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gYetKDM-5gx3qiiBmCwk-Q.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">…在浏览器上，我们的Next.js应用程序工作正常！</figcaption></figure><h1 id="f408" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">包裹</h1><p id="329c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">现在您有了一个样板文件，可以用Express server和Typescript开始您的Next.js项目了！还有一些高级配置，比如make <a class="ae kc" rel="noopener ugc nofollow" target="_blank" href="/get-rid-of-relative-import-path-hell-in-your-typescript-project-9952adec2e84"> Path Alias </a>与VSCode一起工作，TS-Jest for Next和Express testing……希望我能在不久的将来写出来。</p></div><div class="ab cl oj ok hu ol" role="separator"><span class="om bw bk on oo op"/><span class="om bw bk on oo op"/><span class="om bw bk on oo"/></div><div class="ij ik il im in"><h1 id="210d" class="lb lc iq bd ld le oq lg lh li or lk ll lm os lo lp lq ot ls lt lu ou lw lx ly bi translated">参考</h1><div class="ov ow gp gr ox oy"><a href="https://nextjs.org/docs/advanced-features/custom-server" rel="noopener  ugc nofollow" target="_blank"><div class="oz ab fo"><div class="pa ab pb cl cj pc"><h2 class="bd ir gy z fp pd fr fs pe fu fw ip bi translated">自定义服务器-文档| Next.js</h2><div class="pf l"><h3 class="bd b gy z fp pd fr fs pe fu fw dk translated">通常，您可以使用“下一次启动”来启动下一台服务器。然而，100%以编程方式启动服务器是可能的…</h3></div><div class="pg l"><p class="bd b dl z fp pd fr fs pe fu fw dk translated">nextjs.org</p></div></div><div class="ph l"><div class="pi l pj pk pl ph pm jw oy"/></div></div></a></div></div></div>    
</body>
</html>