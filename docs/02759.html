<html>
<head>
<title>How to Find UIWebView Uses in Your iOS App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在您的iOS应用程序中查找UIWebView用途</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-find-and-remove-uiwebview-uses-in-your-ios-app-d9395f7baacc?source=collection_archive---------2-----------------------#2020-04-03">https://levelup.gitconnected.com/how-to-find-and-remove-uiwebview-uses-in-your-ios-app-d9395f7baacc?source=collection_archive---------2-----------------------#2020-04-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/0b6280ca738c84141a22cabbe36d1889.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fqabkwv8v_F7tsS8c_C_Bw.jpeg"/></div></div></figure><p id="d07d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可能在最近向iTunes Connect提交应用程序时看到过此警告，并想知道它是什么意思。</p><blockquote class="kw kx ky"><p id="97af" class="jy jz kz ka b kb kc kd ke kf kg kh ki la kk kl km lb ko kp kq lc ks kt ku kv ij bi translated">ITMS-90809:不赞成使用的API——苹果将停止接受使用UIWebView APIs的应用提交。更多信息参见<a class="ae ld" href="https://developer.apple.com/documentation/uikit/uiwebview" rel="noopener ugc nofollow" target="_blank">https://developer.apple.com/documentation/uikit/uiwebview</a>。</p></blockquote><p id="01be" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">它说的是你的应用程序包含一个对UIWebView API的引用，该API现在在iOS 12.0中已被否决。苹果警告你，在你的应用被移除之前，它不会被批准。我一开始很困惑，因为我提交的应用程序没有使用任何UIWebView的。尽管如此，事实证明是依赖造成的。</p><p id="8c35" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您使用的是<code class="fe le lf lg lh b">UIWebView</code>，您应该将其迁移到使用WKWebView。否则，如果依赖项存在，您应该将其升级到开发人员已移除该引用的较新版本。</p><h1 id="c989" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">查找对UIWebView的引用</h1><p id="3a4f" class="pw-post-body-paragraph jy jz iq ka b kb mg kd ke kf mh kh ki kj mi kl km kn mj kp kq kr mk kt ku kv ij bi translated">要在您的应用程序中找到使用方法——在您的根目录中，您可以运行以下终端命令，该命令将突出显示包含该术语的文件的路径。然而，并不是所有的结果都暗示它包含了这一点。例如，一个众所周知的依赖项，PromiseKit在注释中引用了它，但实际上并不使用API，所以要确保首先查看使用它的代码行。</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="65bc" class="mt lj iq lh b gy mu mv l mw mx">grep -r UIWebView .</span></pre><h2 id="cf5b" class="mt lj iq bd lk my mz dn lo na nb dp ls kj nc nd lw kn ne nf ma kr ng nh me ni bi translated">二进制框架呢？</h2><p id="7b45" class="pw-post-body-paragraph jy jz iq ka b kb mg kd ke kf mh kh ki kj mi kl km kn mj kp kq kr mk kt ku kv ij bi translated">二进制框架不公开它们的纯文本源代码，所以grep不会直接作用于它们。相反，一旦你完成了你的应用程序的存档，你应该右击它，在finder中显示它。然后右键单击归档文件以显示包内容。从这里，您要导航到:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="864c" class="mt lj iq lh b gy mu mv l mw mx">/Products/Applications/MyAppName.app</span></pre><p id="52b1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">通过运行下面的shell脚本来查看<code class="fe le lf lg lh b">UIWebView</code>提及的框架符号。</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="ce6e" class="mt lj iq lh b gy mu mv l mw mx">for framework in Frameworks/*.framework; do<br/>  fname=$(basename $framework .framework)<br/>  echo $fname<br/>  nm $framework/$fname | grep UIWebView<br/>done</span></pre><h1 id="ff8d" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">就成了</h1><p id="5a9b" class="pw-post-body-paragraph jy jz iq ka b kb mg kd ke kf mh kh ki kj mi kl km kn mj kp kq kr mk kt ku kv ij bi translated">通过修复几个项目，我发现可能的罪魁祸首是社交登录，如<code class="fe le lf lg lh b">GoogleSignIn</code>和<code class="fe le lf lg lh b">FBSDKLoginKit</code>以及常见的依赖，如<code class="fe le lf lg lh b">Crashlytics</code></p><p id="224a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">希望这有助于您删除对UIWebView的引用。</p></div></div>    
</body>
</html>