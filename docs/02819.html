<html>
<head>
<title>Web Automation? It’s Easy If You Get the Basics</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Web自动化？如果你掌握了基础知识，这很容易</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/web-automation-its-easy-if-you-get-the-basics-e35227247162?source=collection_archive---------24-----------------------#2020-04-05">https://levelup.gitconnected.com/web-automation-its-easy-if-you-get-the-basics-e35227247162?source=collection_archive---------24-----------------------#2020-04-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/718265ef2df39c6eec0bd7461a39ff69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EVpIdAzJ34ljpfZe"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">与Raj 在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>的<a class="ae kc" href="https://unsplash.com/@roadtripwithraj?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">公路旅行照片</a></figcaption></figure><p id="8add" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将尝试理解web自动化的构建模块。让我们从一大类需要了解的事情开始:</p><ol class=""><li id="8314" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated">Selenium支持的任何编程语言，在我的例子中是Python。</li><li id="76fd" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">selenium web驱动程序API——有很好的文档记录。像任何图书馆一样，我们从这里寻找我们需要的东西并使用它们。</li><li id="9226" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">框架开发——这包括结构化测试、抽象以简化测试脚本的编写、检测和运行测试、报告结果等。</li></ol><p id="359e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将深入讨论第二个selenium web驱动程序API的细节。</p><h2 id="168a" class="lp lq iq bd lr ls lt dn lu lv lw dp lx ko ly lz ma ks mb mc md kw me mf mg mh bi translated">WebDriver的体系结构</h2><p id="fc74" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko mk kq kr ks ml ku kv kw mm ky kz la ij bi translated">selenium web驱动程序基本上是一个与特定于浏览器的驱动程序对话的API。这些驱动程序实际上向各自的浏览器发送命令。</p><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mn"><img src="../Images/5aa45a24955063b53a4cc1b0a1678f13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rxKMQNTZvZx7oy5q5rAaVg.png"/></div></div></figure><h2 id="fe6a" class="lp lq iq bd lr ls lt dn lu lv lw dp lx ko ly lz ma ks mb mc md kw me mf mg mh bi translated">装置</h2><p id="6561" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko mk kq kr ks ml ku kv kw mm ky kz la ij bi translated">我提到了用于我的设置的版本，但任何兼容的版本都可以使用。</p><ol class=""><li id="8402" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated">安装Python(版本3.7)</li></ol><p id="2a98" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mv b">Download and run the installer from <a class="ae kc" href="https://www.python.org/downloads/" rel="noopener ugc nofollow" target="_blank">https://www.python.org/downloads/</a></code></p><p id="e870" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">2.安装selenium库(版本3.141.0)</p><pre class="mo mp mq mr gt mw mv mx my aw mz bi"><span id="f745" class="lp lq iq mv b gy na nb l nc nd">- Open Terminal<br/>- Run the command : pip3 install selenium<br/>- Run the command : pip3 freeze and verify that the library is installed.</span></pre><p id="4bd2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">3.从<a class="ae kc" href="https://chromedriver.chromium.org/downloads" rel="noopener ugc nofollow" target="_blank">https://chromedriver.chromium.org/downloads</a>安装chrome驱动程序。确保这与Chrome浏览器版本(版本80.0.3987.162)匹配。在path环境变量中添加驱动程序的路径。</p><p id="7fa6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">4.安装PyCharm。这在这个阶段是可选的，因为我们可以从IDE中运行框架开发所需的所有selenium命令。</p><h2 id="ae5f" class="lp lq iq bd lr ls lt dn lu lv lw dp lx ko ly lz ma ks mb mc md kw me mf mg mh bi translated">实例化web驱动程序</h2><p id="6051" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko mk kq kr ks ml ku kv kw mm ky kz la ij bi translated">像Chrome/IE/Firefox这样的每个浏览器都有不同的行为，因为它们是功能相似的不同程序。因此，对于每个浏览器来说，都有一个单独的WebDriver类，使用不同的<code class="fe ms mt mu mv b">__init__</code>方法进行初始化。</p><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ne"><img src="../Images/f7cf6e822435e3b14cd1561ed07b017f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bK0OnQgo3PUnCL_3nD5NKw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">webdriver.py</figcaption></figure><p id="4d61" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我们的代码中，当我们写:</p><pre class="mo mp mq mr gt mw mv mx my aw mz bi"><span id="a60e" class="lp lq iq mv b gy na nb l nc nd">driver = Webdriver.Chrome()</span></pre><p id="225b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它实际上会从chrome/webdriver.py模块中调用<code class="fe ms mt mu mv b">__init__</code>方法。</p><h2 id="0187" class="lp lq iq bd lr ls lt dn lu lv lw dp lx ko ly lz ma ks mb mc md kw me mf mg mh bi translated">分类webdriver API</h2><p id="bc86" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko mk kq kr ks ml ku kv kw mm ky kz la ij bi translated">本质上，selenium库是关于与网页和不同的web元素进行交互的。我们可以将该库大致分为以下几组功能</p><ul class=""><li id="0855" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la nf lh li lj bi translated">导航—转到一个页面，向后或向前移动，等等</li><li id="6ab0" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la nf lh li lj bi translated">定位—通过唯一识别网页元素来获取网页元素。</li><li id="3b2c" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la nf lh li lj bi translated">更新—与定位的web元素进行交互。点击按钮、在文本框中输入文本、选择/清除字段等。</li><li id="fbbe" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la nf lh li lj bi translated">synchronize——想象一下，试图与页面上的一个元素交互，但它是不可交互的，这可能意味着几件事，我们将看到这些交互如何使用<em class="ng">等待来同步。</em></li></ul><h2 id="8a6d" class="lp lq iq bd lr ls lt dn lu lv lw dp lx ko ly lz ma ks mb mc md kw me mf mg mh bi translated">航行</h2><p id="c4e9" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko mk kq kr ks ml ku kv kw mm ky kz la ij bi translated">这是最简单的。转到一页，后退，前进，就这样。</p><figure class="mo mp mq mr gt jr"><div class="bz fp l di"><div class="nh ni l"/></div></figure><h2 id="0aaf" class="lp lq iq bd lr ls lt dn lu lv lw dp lx ko ly lz ma ks mb mc md kw me mf mg mh bi translated">确定…的位置，发现…的位置</h2><blockquote class="nj"><p id="1a91" class="nk nl iq bd nm nn no np nq nr ns la dk translated">在我们开始定位web元素之前，我们需要知道什么是DOM？</p></blockquote><p id="d6ba" class="pw-post-body-paragraph kd ke iq kf b kg nt ki kj kk nu km kn ko nv kq kr ks nw ku kv kw nx ky kz la ij bi translated">HTML (HyperTextMarkupLanguage)是一种表示网页内容和格式的标记语言。DOM(文档对象模型)是一个独立于语言的API，它将HTML文档视为一个树形结构，其中<strong class="kf ir">的每个节点代表文档</strong>中的一个对象。</p><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ny"><img src="../Images/d587947619bddb6c59cf1d71e06e7e7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8L2KzdEknWkrlLiWQycGpg.png"/></div></div></figure><p id="e418" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">DOM表示允许外部程序访问和操作web页面上的元素，selenium webdriver使用它与web元素进行交互。</p><p id="076e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">DOM元素的类型:</p><ol class=""><li id="7779" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated">文档:整个网页就是一个文档。</li><li id="8238" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">元素:HTML中的所有标签——包括打开标签和相应的关闭标签。</li><li id="7cf9" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">文本:标签中的所有文本</li><li id="b1d3" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">属性:特定HTML元素的属性。例如:类别/id等。</li></ol><p id="e55e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Selenium中有两种定位web元素的基本方法:<em class="ng"> find_element </em>和<em class="ng"> find_elements </em>。两者都接受定位器策略的参数，后跟定位器策略的值，并分别返回WebElement类型的对象或web元素列表。find_element_by_* <em class="ng">形式的所有其他方法实际上是</em> <em class="ng">在内部调用find_element函数。</em>如果不匹配，则引发NoSuchElementFound异常。</p><pre class="mo mp mq mr gt mw mv mx my aw mz bi"><span id="df5c" class="lp lq iq mv b gy na nb l nc nd"><strong class="mv ir">Tip</strong>: to look at the method definition of Selenium functions from PyCharm, point cursor at the method name and do a CTRL+click. </span></pre><blockquote class="nz oa ob"><p id="d0d8" class="kd ke ng kf b kg kh ki kj kk kl km kn oc kp kq kr od kt ku kv oe kx ky kz la ij bi translated">什么是定位器策略？它是web元素的一个属性，可以用来标识它。示例:对于雇员实体，我们可以使用雇员id作为唯一标识符。在没有唯一标识符的情况下，我们可以使用像姓名和部门这样的属性组合。类似地，web元素可以有惟一的id，在缺少惟一标识符的情况下，我们可以使用属性的组合来惟一地标识web元素。这些属性可以是id、类、标记名、链接文本、部分链接文本、XPath或CSS。</p></blockquote><h2 id="8bbc" class="lp lq iq bd lr ls lt dn lu lv lw dp lx ko ly lz ma ks mb mc md kw me mf mg mh bi translated">locate-find _ element _ by _ *方法的示例</h2><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi of"><img src="../Images/eb77e08ee5740cbada5a288fb3b7ef76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dBsbHX3fCjBQVdm2gtMJ3A.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">查找元素依据*方法</figcaption></figure><pre class="mo mp mq mr gt mw mv mx my aw mz bi"><span id="828e" class="lp lq iq mv b gy na nb l nc nd"><strong class="mv ir">Note</strong>: All these methods have a corresponding <em class="ng">find_elements_by_*</em> method as well. These methods return a list of matched web elements or an empty list if no match is found.</span></pre><h2 id="0f1b" class="lp lq iq bd lr ls lt dn lu lv lw dp lx ko ly lz ma ks mb mc md kw me mf mg mh bi translated"><strong class="ak">定位—选择定位器策略</strong></h2><ul class=""><li id="c540" class="lb lc iq kf b kg mi kk mj ko og ks oh kw oi la nf lh li lj bi translated">如果元素具有唯一的属性，请使用find_element_by_*方法及其相应的属性。例如:如果id是唯一标识符，那么使用find_element_by_id方法。</li><li id="acd9" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la nf lh li lj bi translated">如果没有唯一的属性，那么使用紧凑的CSS选择器。</li><li id="387e" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la nf lh li lj bi translated">标签名称会有多个匹配项，因此不建议使用。</li><li id="2c5e" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la nf lh li lj bi translated">搜索DOM代价很高，所以为了减少时间，选择紧凑的xpaths，这在很大程度上缩小了搜索范围。</li></ul><h2 id="6615" class="lp lq iq bd lr ls lt dn lu lv lw dp lx ko ly lz ma ks mb mc md kw me mf mg mh bi translated"><strong class="ak">定位—理解find_element方法语法</strong></h2><p id="4607" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko mk kq kr ks ml ku kv kw mm ky kz la ij bi translated">这是find_element方法的签名:</p><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oj"><img src="../Images/d01b4bbcbf52fca93792397dbe2baf0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7kelatWBUh62jiulUhNjMg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">find_element方法签名</figcaption></figure><p id="4ef8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这就是我们在脚本中调用find_element方法的方式</p><pre class="mo mp mq mr gt mw mv mx my aw mz bi"><span id="966b" class="lp lq iq mv b gy na nb l nc nd">input_username = driver.find_element(By.ID, 'userSignInFormEmail')</span></pre><blockquote class="nz oa ob"><p id="3530" class="kd ke ng kf b kg kh ki kj kk kl km kn oc kp kq kr od kt ku kv oe kx ky kz la ij bi translated">这是什么意思？我指的是？它只是字符串“id”。如果我们查看By类，我们可以看到它将定位器策略作为类的属性，因此可以使用class_name.attribute语法轻松访问它们。</p></blockquote><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ok"><img src="../Images/17c03824c8636a2bb1f7400a867234cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-3yie4uTxCrv_yghrHdEQQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">按类</figcaption></figure><p id="aa58" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以像下面这样写上面的语句，但是我们使用By.attribute，因为这是推荐的方法。</p><pre class="mo mp mq mr gt mw mv mx my aw mz bi"><span id="7430" class="lp lq iq mv b gy na nb l nc nd">input_username = driver.find_element(id, 'userSignInFormEm</span></pre><p id="6daf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们简单看看如何使用CSS后跟Xpaths来标识元素。</p><p id="0243" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">定位— CSS/级联样式表</strong></p><p id="d19d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是一种控制网页如何显示/呈现的语言。CSS规则是一组与选择器相关联的属性。利用这一点，网页的不同部分可以被格式化成节。网站有几个CSS规则。</p><p id="8591" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">CSS规则的示例:</p><pre class="mo mp mq mr gt mw mv mx my aw mz bi"><span id="8bec" class="lp lq iq mv b gy na nb l nc nd">/* The selector "p" indicates that all paragraphs in the document will be affected by that rule */<br/>p {<br/>  /* The "color" property defines the text color, in this case yellow. */<br/>  color: yellow;<br/><br/>  /* The "background-color" property defines the background color, in this case black. */<br/>  background-color: black<br/>}</span></pre><p id="0609" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们只需要知道CSS选择器，而不是规则。</p><p id="0cd2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在开始CSS选择器之前，让我们看一个样本HTML并澄清一些术语。</p><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ol"><img src="../Images/d391f1ae136fc78060e8514c5f464293.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EDhoBCx50qhEn9Cjjqz2lg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">元素和属性</figcaption></figure><h2 id="7d9b" class="lp lq iq bd lr ls lt dn lu lv lw dp lx ko ly lz ma ks mb mc md kw me mf mg mh bi translated">Locate —简单CSS选择器的示例</h2><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi om"><img src="../Images/1134b368bf19f297c77c50ab67868891.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kvLsIIBiEmZ8cNxhnSEF7g.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">简单的CSS选择器</figcaption></figure><h2 id="8ce0" class="lp lq iq bd lr ls lt dn lu lv lw dp lx ko ly lz ma ks mb mc md kw me mf mg mh bi translated">定位—带属性的选择器示例</h2><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi on"><img src="../Images/0af6c2bacd8220f4a20977c11e5424f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*piaHe0W9XaqZeSk0G2qRQw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">具有属性的选择器</figcaption></figure><h2 id="9d94" class="lp lq iq bd lr ls lt dn lu lv lw dp lx ko ly lz ma ks mb mc md kw me mf mg mh bi translated">定位—组合子/定义元素间关系的示例</h2><p id="5b08" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko mk kq kr ks ml ku kv kw mm ky kz la ij bi translated">为此，我们将使用下面的HTML示例:</p><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oo"><img src="../Images/d8f83f30d87f431567e10612357533e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MX1doYdZdy4d7bzPxxo2WA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">CSS组合器的HTML示例</figcaption></figure><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi op"><img src="../Images/e52b8b7263f1f114242eeebaf1492a6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jIn_hHvh6obxdDG8rfDKPg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">组合器CSS选择器</figcaption></figure><h2 id="7c41" class="lp lq iq bd lr ls lt dn lu lv lw dp lx ko ly lz ma ks mb mc md kw me mf mg mh bi translated"><strong class="ak">定位——第n个匹配的例子</strong></h2><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oq"><img src="../Images/7e47a1098186c063daf2404f2d77e56b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mp6sryZMk3h0xsfxwtuxRw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">第n个匹配CSS选择器</figcaption></figure><h2 id="badc" class="lp lq iq bd lr ls lt dn lu lv lw dp lx ko ly lz ma ks mb mc md kw me mf mg mh bi translated">定位XPATH定位器的示例</h2><p id="fa74" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko mk kq kr ks ml ku kv kw mm ky kz la ij bi translated">XPath/XML路径语言可用于定位XML等分层结构中的元素。因为DOM(文档对象模型)也是分层的，所以我们可以使用xpaths来定位web元素。</p><p id="d727" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Xpaths可以是绝对的，这意味着它将从DOM的根开始，也可以是相对的，这意味着它可以从DOM中的任何地方开始。</p><h2 id="befa" class="lp lq iq bd lr ls lt dn lu lv lw dp lx ko ly lz ma ks mb mc md kw me mf mg mh bi translated"><strong class="ak">定位XPath的主要组件示例</strong></h2><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi or"><img src="../Images/74f2fd8ac5115011b37a4c3b4e4313d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OpeeIMZ5eanBpCLkHRZaaQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">Xpath组件</figcaption></figure><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi os"><img src="../Images/3644195f87ef034d505ed705e4b63ad9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dZwOpta_ZIRpH6pn7Va_bg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">Xpath组件续。</figcaption></figure><h2 id="2247" class="lp lq iq bd lr ls lt dn lu lv lw dp lx ko ly lz ma ks mb mc md kw me mf mg mh bi translated"><strong class="ak">Locate—Xpath定位器中的轴/关系示例</strong></h2><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ot"><img src="../Images/216793ff35cbcf91e7fd2b804c302535.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rfv2AmP7gpVf2xK1-T7l3Q.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">XPath轴</figcaption></figure><h2 id="a0de" class="lp lq iq bd lr ls lt dn lu lv lw dp lx ko ly lz ma ks mb mc md kw me mf mg mh bi translated">更新—与不同元素交互</h2><p id="91fa" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko mk kq kr ks ml ku kv kw mm ky kz la ij bi translated">现在我们知道了如何定位web元素，是时候看看如何与它们交互了。一大类web元素包括文本框、按钮、下拉列表、单选按钮和滚动条。</p><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ou"><img src="../Images/7dc45838d5202f8e027d9d6cddf322ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dj_S286OAtfzEVRdbBE34A.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">与web元素交互</figcaption></figure><h2 id="dd36" class="lp lq iq bd lr ls lt dn lu lv lw dp lx ko ly lz ma ks mb mc md kw me mf mg mh bi translated">同步—等待</h2><p id="fa72" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko mk kq kr ks ml ku kv kw mm ky kz la ij bi translated">想象一下，当她不在听的时候和一个人说话，无论说什么我们都不会得到预期的结果，因为没有被听到。为了解决这个问题，我们需要同步，这样我们只有在别人听的时候才说话。类似地，如果我们不注意自动化，我们可能会在按钮未启用时单击它们，或者在不可见的文本框中输入内容。这将导致代码因异常而停止。我们可以通过使用等待来避免这种情况。</p><p id="4458" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Selenium中有两种类型的等待:隐式和显式。</p><p id="245a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">隐式等待是一种webdriver方法。可以为整个webdriver会话设置等待时间。它不特定于任何web元素。不建议对自动化使用这种等待。</p><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ov"><img src="../Images/3760ef040e2b4bd4134a118fb5d60bc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ih-n2wKY7mugrr0-svyK8Q.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">隐式等待</figcaption></figure><p id="ccf8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">可以为不同的web元素定制显式等待。显式等待将等待指定的时间，直到条件评估为真(预期条件)。</p><p id="cbb1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了实现显式等待，除了webdriver之外，还应该导入两个类:WebDriverWait和expected_conditions。</p><p id="c32c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，我们需要创建一个WebDriverWait对象并初始化它。接下来，对此对象调用WebdriverWait类的until方法。until方法检查作为其参数传递的条件。如果条件为真，它返回相应的返回值，如果在等待时间结束时评估为假，则抛出TimeOutException。</p><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ow"><img src="../Images/6eff2ac7e802ca83900b4240252b5421.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PqbY4BNvg-Fu70_OaR7xSQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">解释了显式等待语法</figcaption></figure><p id="8fbd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">就这样，我们到了这篇文章的结尾。这不是一个包罗万象的列表，而是一个简要的概述。为了更好地了解这个库，总是建议阅读源代码和文档。</p><h2 id="d642" class="lp lq iq bd lr ls lt dn lu lv lw dp lx ko ly lz ma ks mb mc md kw me mf mg mh bi translated">资源</h2><ol class=""><li id="81e7" class="lb lc iq kf b kg mi kk mj ko og ks oh kw oi la lg lh li lj bi translated"><a class="ae kc" href="https://developer.mozilla.org/en-US/docs/Web/HTML" rel="noopener ugc nofollow" target="_blank">https://developer . Mozilla . org/en-/docs/Learn/HTML/Introduction _ to _ HTML</a></li><li id="9ee8" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">https://www.selenium.dev/docs/site/en/<a class="ae kc" href="https://www.selenium.dev/docs/site/en/" rel="noopener ugc nofollow" target="_blank"/></li><li id="d6cd" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><a class="ae kc" href="https://www.amazon.in/Learning-Selenium-Testing-Tools-Python-ebook/dp/B00RP13D10" rel="noopener ugc nofollow" target="_blank">https://www . Amazon . in/Learning-Selenium-Testing-Tools-Python-ebook/DP/b 00 RP 13d 10</a></li><li id="9564" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><a class="ae kc" href="http://elementalselenium.com/tips" rel="noopener ugc nofollow" target="_blank">http://elementalselenium.com/tips</a></li><li id="b7da" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><a class="ae kc" href="https://www.red-gate.com/simple-talk/dotnet/.net-framework/xpath,-css,-dom-and-selenium-the-rosetta-stone/" rel="noopener ugc nofollow" target="_blank">https://www.red-gate.com/simple-talk/dotnet/.net-framework/xpath，-css，-DOM-and-selenium-the-Rosetta-stone/</a></li></ol></div></div>    
</body>
</html>