<html>
<head>
<title>Getting Started with Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Angular入门</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/getting-started-with-angular-daf63df15c3f?source=collection_archive---------2-----------------------#2022-05-09">https://levelup.gitconnected.com/getting-started-with-angular-daf63df15c3f?source=collection_archive---------2-----------------------#2022-05-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><h1 id="4568" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">什么是有角？</h1><p id="ff42" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在我看来，Angular是构建你自己定制的html标签的平台和框架。虽然html有一组固定的标签(例如，<code class="fe lj lk ll lm b">&lt;h1&gt;</code>、<code class="fe lj lk ll lm b">&lt;a&gt;</code>、<code class="fe lj lk ll lm b">&lt;form&gt;</code>、<code class="fe lj lk ll lm b">&lt;input&gt;</code>等)可以用来建立你的网站，Angular让你用现有的html标签创建你的定制标签(例如，<code class="fe lj lk ll lm b">&lt;temperature-converter&gt;</code>、<code class="fe lj lk ll lm b">&lt;my-login-form&gt;</code>等)，确定它们应该如何看起来和行为。</p><p id="9483" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lp ky kz la lq lc ld le lr lg lh li ij bi translated">但是Angular内置的这些标签包含在Angular生态系统中，所以你不能简单地在普通的html页面中重复使用这些标签，但是你的整个网站是由你创建的所有这些定制标签组成的。Angular框架提供的单个html页面中将有一个主标签(例如<code class="fe lj lk ll lm b">&lt;app-root&gt;</code>)，app-root可以包含并链接到您创建的其他定制标签，但所有内容都包含在<code class="fe lj lk ll lm b">&lt;app-root&gt;</code>中。当然，因为你的浏览器只能识别html标签，所以你创建的所有定制标签都会被编译成普通的html。**有时候，你可以把它想象成创建一个额外步骤的网站。但是创建定制标签的好处是您可以重用它，而不是重新创建html。这些“定制标签”在Angular中被称为<strong class="kn ir">组件</strong>。组件不仅允许您重用外观，还允许您重用标签的行为。比如当你点击这个按钮或者在文本框中输入时会发生什么。有了框架的正确知识和实现，它也使代码更容易理解和维护。然而，我想强调的是“正确的知识和实现”，因为我已经看到了许多误用的情况，这样有时创建正常的html可能更容易。</p><h1 id="ce0e" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">入门指南</h1><p id="bcad" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">作为一个平台，Angular为用户自动化了相当多的步骤，使代码清晰易懂。例如，对于你创建的每个组件，Angular把它分成3个文件——行为(类型脚本)、外观(html)和格式(css)。这三个文件需要在一个文件夹中，具有相同的名称，但不同的扩展名。手动操作可能会相当麻烦。所以Angular附带了命令行界面(CLI)，这样这些手动任务就可以自动化了。</p><p id="6e03" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lp ky kz la lq lc ld le lr lg lh li ij bi translated">要开始使用Angular进行开发，您需要安装NodeJS和NPM。然后使用以下命令安装Angular CLI。</p><pre class="ls lt lu lv gt lw lm lx ly aw lz bi"><span id="4976" class="ma jo iq lm b gy mb mc l md me">npm install -g @angular/cli</span></pre><p id="73c5" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lp ky kz la lq lc ld le lr lg lh li ij bi translated">现在，您可以创建自己的应用程序了。</p><h1 id="ea0b" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">例子</h1><p id="951b" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在本文中，我将演示如何创建一个简单的温度转换器(C到F / F到C)。首先用下面的命令让Angular生成准系统，然后选择默认选项。</p><pre class="ls lt lu lv gt lw lm lx ly aw lz bi"><span id="0241" class="ma jo iq lm b gy mb mc l md me">ng new temperature-converter</span></pre><p id="1d41" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lp ky kz la lq lc ld le lr lg lh li ij bi translated">就是这样！文件夹的整个结构是为你创建的，它本身就是一个正在运行的应用程序。</p><figure class="ls lt lu lv gt mg gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/19bc4bbdfd23bbde06fe3f1fbf5af02f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1246/format:webp/0*iPn7YBO_SePDRrz4.png"/></div></figure><p id="6ef4" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lp ky kz la lq lc ld le lr lg lh li ij bi translated">您可以通过运行<code class="fe lj lk ll lm b">ng serve</code>来运行它，看看它看起来是什么样子，并且您将被提示通过在您的浏览器中转到<code class="fe lj lk ll lm b">http://localhost:4200</code>来查看该应用程序。</p><figure class="ls lt lu lv gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi mj"><img src="../Images/f644336c16f169a83d6ca37c544c9a19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*QxiczjaUXfMvhH18.png"/></div></div></figure><p id="7760" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lp ky kz la lq lc ld le lr lg lh li ij bi translated">如你所见，<code class="fe lj lk ll lm b">ng</code>是角度命令，你有不同的选项来做不同的事情。要获得完整列表和更多信息，请运行<code class="fe lj lk ll lm b">ng help</code>。</p><p id="87af" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lp ky kz la lq lc ld le lr lg lh li ij bi translated">你可以在<code class="fe lj lk ll lm b">src</code>文件夹中看到<code class="fe lj lk ll lm b">index.html</code>，还有一个不熟悉的<code class="fe lj lk ll lm b">&lt;app-root&gt;</code> html标签在里面。默认情况下，<code class="fe lj lk ll lm b">&lt;app-root&gt;</code>是为您创建的，它的代码可以在<code class="fe lj lk ll lm b">src/app</code>文件夹中找到。</p><p id="496a" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lp ky kz la lq lc ld le lr lg lh li ij bi translated">事实上，您可能只需要关注<code class="fe lj lk ll lm b">src/app</code>文件夹，其他的通常不是开发过程中的主要关注点。</p><h1 id="6214" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">文件描述</h1><p id="418c" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">这些是您将在<code class="fe lj lk ll lm b">src/app</code>文件夹中看到的文件:</p><ul class=""><li id="acda" class="mo mp iq kn b ko ln ks lo kw mq la mr le ms li mt mu mv mw bi translated">应用程序.组件. css</li><li id="d9fb" class="mo mp iq kn b ko mx ks my kw mz la na le nb li mt mu mv mw bi translated">app.component.html</li><li id="66dc" class="mo mp iq kn b ko mx ks my kw mz la na le nb li mt mu mv mw bi translated">应用程序.组件.规格</li><li id="6953" class="mo mp iq kn b ko mx ks my kw mz la na le nb li mt mu mv mw bi translated">应用程序组件</li><li id="4169" class="mo mp iq kn b ko mx ks my kw mz la na le nb li mt mu mv mw bi translated">应用程序模块</li></ul><p id="37d4" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lp ky kz la lq lc ld le lr lg lh li ij bi translated">前缀为<code class="fe lj lk ll lm b">app.component</code>的文件都是默认创建的<code class="fe lj lk ll lm b">&lt;app-root&gt;</code>组件。<code class="fe lj lk ll lm b">app.component.spec.ts</code>是单元测试。<code class="fe lj lk ll lm b">app.module.ts</code>是模块文件，用于导入所有其他模块，并声明从您的应用程序中导出的内容。因此，模块位于层次结构的顶部，所有其他组件和服务都位于其下。</p><h1 id="678f" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">服务</h1><p id="6c72" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">对于MVC模式来说，隔离业务逻辑是一个很好的实践，这样就可以在需要时导入和重用业务逻辑。Angular也是这么想的，所以有生成服务文件的命令。对于我们的应用程序来说，我们将创建一个温度转换服务，将摄氏温度转换为华氏温度，反之亦然。</p><pre class="ls lt lu lv gt lw lm lx ly aw lz bi"><span id="a6a6" class="ma jo iq lm b gy mb mc l md me">ng generate service temperature-converter</span></pre><p id="a44c" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lp ky kz la lq lc ld le lr lg lh li ij bi translated">这将创建两个文件—temperature-converter . service . ts和temperature-converter . service . spec . ts。扩展名为<code class="fe lj lk ll lm b">spec.ts</code>的文件是单元测试。让我们关注now-temperature-converter . service . ts的主服务文件。注意，Angular自动将<code class="fe lj lk ll lm b">service</code>添加到您的扩展中，以便突出该文件是一个服务。生成的代码如下:</p><pre class="ls lt lu lv gt lw lm lx ly aw lz bi"><span id="33e1" class="ma jo iq lm b gy mb mc l md me">import { Injectable } from '@angular/core';</span><span id="5bf8" class="ma jo iq lm b gy nc mc l md me">@Injectable({<br/>  providedIn: 'root'<br/>})<br/>export class TemperatureConverterService {</span><span id="1e52" class="ma jo iq lm b gy nc mc l md me">  constructor() { }<br/>}</span></pre><blockquote class="nd ne nf"><p id="fa66" class="kl km ng kn b ko ln kq kr ks lo ku kv nh lp ky kz ni lq lc ld nj lr lg lh li ij bi translated">注意:<code class="fe lj lk ll lm b">@Injectable</code>是该类的装饰器，因此可以通过依赖注入将它注入到其他类中。</p></blockquote><p id="4a5a" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lp ky kz la lq lc ld le lr lg lh li ij bi translated">我们将在这个文件中添加两个函数来转换摄氏温度和华氏温度，反之亦然。</p><pre class="ls lt lu lv gt lw lm lx ly aw lz bi"><span id="3d4b" class="ma jo iq lm b gy mb mc l md me">import { Injectable } from '@angular/core';</span><span id="a1cc" class="ma jo iq lm b gy nc mc l md me">@Injectable({<br/>  providedIn: 'root'<br/>})<br/>export class TemperatureConverterService {</span><span id="6bcd" class="ma jo iq lm b gy nc mc l md me">  constructor() { }</span><span id="2573" class="ma jo iq lm b gy nc mc l md me">  <strong class="lm ir">convertCtoF(c: number): number {<br/>    return parseFloat(((c * 9 / 5) + 32).toFixed(1));<br/>  }</strong></span><span id="4fd5" class="ma jo iq lm b gy nc mc l md me"><strong class="lm ir">  convertFtoC(f: number): number {<br/>    return parseFloat(((f - 32) * 5  / 9).toFixed(1));<br/>  }</strong><br/>}</span></pre><h1 id="194a" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">测试</h1><p id="7084" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">作为一个好的实践，我们应该编写一些单元测试来确认函数将给出正确的结果。因此，更新了温度转换器的规格。</p><pre class="ls lt lu lv gt lw lm lx ly aw lz bi"><span id="c506" class="ma jo iq lm b gy mb mc l md me">import { TestBed } from '@angular/core/testing';</span><span id="a036" class="ma jo iq lm b gy nc mc l md me">import { TemperatureConverterService } from './temperature-converter.service';</span><span id="7e9d" class="ma jo iq lm b gy nc mc l md me">describe('TemperatureConverterService', () =&gt; {<br/>  let service: TemperatureConverterService;</span><span id="e186" class="ma jo iq lm b gy nc mc l md me">  beforeEach(() =&gt; {<br/>    TestBed.configureTestingModule({});<br/>    service = TestBed.inject(TemperatureConverterService);<br/>  });</span><span id="2b57" class="ma jo iq lm b gy nc mc l md me">  it('should be created', () =&gt; {<br/>    expect(service).toBeTruthy();<br/>  });</span><span id="c1e4" class="ma jo iq lm b gy nc mc l md me">  it('should get correct fahrenheit value', () =&gt; {<br/>    expect(service.convertCtoF(0)).toEqual(32);<br/>    expect(service.convertCtoF(100)).toEqual(212);<br/>    expect(service.convertCtoF(37.9)).toEqual(100.2);<br/>    expect(service.convertCtoF(50.1)).toEqual(122.2);<br/>  });</span><span id="ec49" class="ma jo iq lm b gy nc mc l md me">  it('should get correct celcius value', () =&gt; {<br/>    expect(service.convertFtoC(0)).toEqual(-17.8);<br/>    expect(service.convertFtoC(100)).toEqual(37.8);<br/>    expect(service.convertFtoC(212)).toEqual(100);<br/>    expect(service.convertFtoC(32)).toEqual(0);<br/>  });<br/>});</span></pre><p id="faeb" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lp ky kz la lq lc ld le lr lg lh li ij bi translated">您可以使用<code class="fe lj lk ll lm b">ng test</code>运行单元测试。</p><figure class="ls lt lu lv gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nk"><img src="../Images/e924209ec72010c4e95a4cfec2019fd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*y7wzMZ6Qjro_erVh.png"/></div></div></figure><h1 id="d40a" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">成分</h1><p id="ca90" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">现在，让我们关注我们的主要组件<code class="fe lj lk ll lm b">&lt;app-root&gt;</code>。为该组件创建了4个文件:</p><ul class=""><li id="61f7" class="mo mp iq kn b ko ln ks lo kw mq la mr le ms li mt mu mv mw bi translated">应用程序.组件. css</li><li id="d669" class="mo mp iq kn b ko mx ks my kw mz la na le nb li mt mu mv mw bi translated">app.component.html</li><li id="eaea" class="mo mp iq kn b ko mx ks my kw mz la na le nb li mt mu mv mw bi translated">应用程序.组件.规格</li><li id="9b0e" class="mo mp iq kn b ko mx ks my kw mz la na le nb li mt mu mv mw bi translated">应用程序组件</li></ul><p id="1ef0" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lp ky kz la lq lc ld le lr lg lh li ij bi translated"><code class="fe lj lk ll lm b">app.component.ts</code>是所有变量声明和函数应该驻留的地方，<code class="fe lj lk ll lm b">app.component.html</code>是编写html以确定组件外观的模板，<code class="fe lj lk ll lm b">app.component.css</code>是组件的样式表。默认生成的<code class="fe lj lk ll lm b">app.component.ts</code>如下:</p><pre class="ls lt lu lv gt lw lm lx ly aw lz bi"><span id="481c" class="ma jo iq lm b gy mb mc l md me">import { Component } from '@angular/core';</span><span id="2c57" class="ma jo iq lm b gy nc mc l md me">@Component({<br/>  selector: 'app-root',<br/>  templateUrl: './app.component.html',<br/>  styleUrls: ['./app.component.css']<br/>})<br/>export class AppComponent {<br/>  title = 'temperature-converter';<br/>}</span></pre><p id="47cb" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lp ky kz la lq lc ld le lr lg lh li ij bi translated"><code class="fe lj lk ll lm b">@Component</code>是一个装饰器，用于将文件组合在一起。<code class="fe lj lk ll lm b">selector</code>表示html标签应该是什么，在本例中是<code class="fe lj lk ll lm b">&lt;app-root&gt;</code>。<code class="fe lj lk ll lm b">templateUrl</code>表示该组件的html文件，<code class="fe lj lk ll lm b">styleUrls</code>表示样式表。我们班取名<code class="fe lj lk ll lm b">AppComponent</code>。<code class="fe lj lk ll lm b">title</code>只是一个默认生成的属性，我们不需要它，所以可以安全地删除它。我们将代码转换如下:</p><pre class="ls lt lu lv gt lw lm lx ly aw lz bi"><span id="5932" class="ma jo iq lm b gy mb mc l md me">import {Component, Input} from '@angular/core';<br/><strong class="lm ir">import {TemperatureConverterService} from "./temperature-converter.service";</strong></span><span id="ef2e" class="ma jo iq lm b gy nc mc l md me">@Component({<br/>  selector: 'app-root',<br/>  templateUrl: './app.component.html',<br/>  styleUrls: ['./app.component.css']<br/>})<br/>export class AppComponent {<br/>  <strong class="lm ir">fahrenheit?: number;<br/>  celsius?: number;</strong></span><span id="8f19" class="ma jo iq lm b gy nc mc l md me">  constructor(<br/>    <strong class="lm ir">private temperatureConverter: TemperatureConverterService</strong><br/>  ) {<br/>  }</span><span id="6522" class="ma jo iq lm b gy nc mc l md me">  <strong class="lm ir">updateFahrenheit(){<br/>    if(this.celsius == null) this.celsius = 0;<br/>    this.fahrenheit = this.temperatureConverter.convertCtoF(this.celsius!);<br/>  }</strong></span><span id="c44a" class="ma jo iq lm b gy nc mc l md me"><strong class="lm ir">  updateCelsius(){<br/>    if(this.fahrenheit == null) this.fahrenheit = 0;<br/>    this.celsius = this.temperatureConverter.convertFtoC(this.fahrenheit!);<br/>  }</strong><br/>}</span></pre><p id="edf0" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lp ky kz la lq lc ld le lr lg lh li ij bi translated">首先，我们声明<code class="fe lj lk ll lm b">fahrenheit</code>和<code class="fe lj lk ll lm b">celsius</code>属性来绑定要在输入框中输入和显示的内容，这样这两个变量将自动包含在各自的输入框中输入或显示的内容。</p><p id="24f3" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lp ky kz la lq lc ld le lr lg lh li ij bi translated">接下来，我们将之前创建的TemperatureConverterService注入到构造函数中，这样我们就可以使用这些函数了。注意顶部的import语句— <code class="fe lj lk ll lm b">import {TemperatureConverterService} from "./temperature-converter.service";</code>。然后将<code class="fe lj lk ll lm b">private temperatureConverter: TemperatureConverterService</code>添加到构造函数的参数中。</p><p id="cbb7" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lp ky kz la lq lc ld le lr lg lh li ij bi translated">最后但同样重要的是，我们添加了两个函数— <code class="fe lj lk ll lm b">updateFahrenheit()</code>和<code class="fe lj lk ll lm b">updatedCelsius()</code>，每当输入框中的值发生变化时，都会调用这两个函数。</p><p id="cefc" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lp ky kz la lq lc ld le lr lg lh li ij bi translated">我们还必须改变<code class="fe lj lk ll lm b">app.component.html</code>，以便它看起来像我们想要的样子。首先，删除文件中的所有内容，并将其替换为:</p><pre class="ls lt lu lv gt lw lm lx ly aw lz bi"><span id="61a0" class="ma jo iq lm b gy mb mc l md me">&lt;div class="box"&gt;<br/>  &lt;div class="box"&gt;<br/>    &lt;input type="number" data-test-id="celsius-input" [(ngModel)]="celsius" class="border" (ngModelChange)="updateFahrenheit()" /&gt;<br/>    &lt;div class="box-text"&gt;Celsius&lt;/div&gt;<br/>  &lt;/div&gt;<br/>  &lt;div class="box"&gt;<br/>    &lt;input type="number" data-test-id="fahrenheit-input" [(ngModel)]="fahrenheit" class="border" (ngModelChange)="updateCelsius()" /&gt;<br/>    &lt;div class="box-text"&gt;Fahrenheit&lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/div&gt;</span></pre><p id="106c" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lp ky kz la lq lc ld le lr lg lh li ij bi translated"><code class="fe lj lk ll lm b">[(ngModel)]</code>表示html标签和它所赋给的变量之间的双向绑定。在<code class="fe lj lk ll lm b">[(ngModel)]="celsius</code>的情况下，对输入框中的值的任何改变，将改变分配给类中的<code class="fe lj lk ll lm b">celcius</code>属性的值，并且对类<code class="fe lj lk ll lm b">app.component.ts</code>中的<code class="fe lj lk ll lm b">celsius</code>属性的值的任何改变将反映在输入框的值中。当<code class="fe lj lk ll lm b">ngModel</code>中指定的值有任何变化时，<code class="fe lj lk ll lm b">(ngModelChange)</code>将调用该函数。所以，只要有人在摄氏输入框中输入，就会调用<code class="fe lj lk ll lm b">updateFahrenheit()</code>函数。</p><p id="2b98" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lp ky kz la lq lc ld le lr lg lh li ij bi translated"><code class="fe lj lk ll lm b">data-test-id</code>只是一个<a class="ae nl" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" rel="noopener ugc nofollow" target="_blank">数据属性</a>，用于我们在单元测试中识别测试的html标签。</p><p id="b713" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lp ky kz la lq lc ld le lr lg lh li ij bi translated">要设计组件的样式，更新<code class="fe lj lk ll lm b">app.component.css</code>使其如此。</p><pre class="ls lt lu lv gt lw lm lx ly aw lz bi"><span id="6de0" class="ma jo iq lm b gy mb mc l md me">.box {<br/>  padding: 5px;<br/>  border-width: 2px;<br/>  border-color: lightgrey;<br/>  border-style: solid;<br/>  display: inline-block;<br/>}</span><span id="d4d0" class="ma jo iq lm b gy nc mc l md me">.box input {<br/>  border-color: lightgrey;<br/>}</span><span id="66d8" class="ma jo iq lm b gy nc mc l md me">.box-text {<br/>  text-align: center;<br/>  font-family: sans-serif;<br/>  margin-top: 5px;<br/>}</span></pre><p id="deca" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lp ky kz la lq lc ld le lr lg lh li ij bi translated">最后，作为一个好的实践，用测试用例来检查你的代码是否工作正常，更新<code class="fe lj lk ll lm b">app.component.spec.ts</code>也是如此。</p><pre class="ls lt lu lv gt lw lm lx ly aw lz bi"><span id="c056" class="ma jo iq lm b gy mb mc l md me">import {ComponentFixture, TestBed} from '@angular/core/testing';<br/>import { RouterTestingModule } from '@angular/router/testing';<br/>import { AppComponent } from './app.component';<br/>import {FormsModule} from "@angular/forms";</span><span id="792d" class="ma jo iq lm b gy nc mc l md me">describe('AppComponent', () =&gt; {</span><span id="8ff9" class="ma jo iq lm b gy nc mc l md me">  let fixture: ComponentFixture&lt;AppComponent&gt;;<br/>  let component: AppComponent;<br/>  let compiled: any;<br/>  let celsiusInput: any;<br/>  let fahrenheitInput: any;</span><span id="d8e6" class="ma jo iq lm b gy nc mc l md me">  beforeEach(async () =&gt; {<br/>    await TestBed.configureTestingModule({<br/>      imports: [<br/>        RouterTestingModule,<br/>        FormsModule<br/>      ],<br/>      declarations: [<br/>        AppComponent<br/>      ],<br/>    }).compileComponents();<br/>  });</span><span id="965f" class="ma jo iq lm b gy nc mc l md me">  beforeEach(() =&gt; {<br/>    fixture = TestBed.createComponent(AppComponent);<br/>    fixture.autoDetectChanges(true);<br/>    component = fixture.componentInstance;<br/>    compiled = fixture.debugElement.nativeElement;<br/>    celsiusInput = getByTestId("celsius-input");<br/>    fahrenheitInput = getByTestId("fahrenheit-input");<br/>    fixture.detectChanges();<br/>  });</span><span id="dfc0" class="ma jo iq lm b gy nc mc l md me">  const getByTestId = (testId: string) =&gt; {<br/>    return compiled.querySelector(`[data-test-id="${testId}"]`);<br/>  };</span><span id="3530" class="ma jo iq lm b gy nc mc l md me">  const pushCelsiusValue = async (value: number) =&gt; {<br/>    celsiusInput.value = value;<br/>    celsiusInput.dispatchEvent(new Event('change'));<br/>    celsiusInput.dispatchEvent(new Event('input'));<br/>    await fixture.whenStable();<br/>    await fixture.detectChanges();<br/>  };</span><span id="50eb" class="ma jo iq lm b gy nc mc l md me">  const pushFahrenheitValue = async (value: number) =&gt; {<br/>    fahrenheitInput.value = value;<br/>    fahrenheitInput.dispatchEvent(new Event('change'));<br/>    fahrenheitInput.dispatchEvent(new Event('input'));<br/>    await fixture.whenStable();<br/>    await fixture.detectChanges();<br/>  }</span><span id="25a2" class="ma jo iq lm b gy nc mc l md me">  it('should create the app', () =&gt; {<br/>    expect(component).toBeTruthy();<br/>  });</span><span id="6b8d" class="ma jo iq lm b gy nc mc l md me">  it('Typing value in Celsius field gets correct Fahrenheit value', async() =&gt; {<br/>    await pushCelsiusValue(500);<br/>    fahrenheitInput = getByTestId('fahrenheit-input');<br/>    expect(Number(fahrenheitInput.value)).toEqual(932);<br/>  });</span><span id="fe06" class="ma jo iq lm b gy nc mc l md me">  it('Typing value in Celsius field gets correct Fahrenheit value upto 1 decimal values', async() =&gt; {<br/>    await pushCelsiusValue(32);<br/>    fahrenheitInput = getByTestId('fahrenheit-input');<br/>    expect(Number(fahrenheitInput.value)).toEqual(89.6);<br/>  });</span><span id="e7dc" class="ma jo iq lm b gy nc mc l md me">  it('Typing value in Fahrenheit field gets correct Celsius value', async() =&gt; {<br/>    await pushFahrenheitValue(932);<br/>    celsiusInput = getByTestId('celsius-input');<br/>    expect(Number(celsiusInput.value)).toEqual(500);<br/>  });</span><span id="2a28" class="ma jo iq lm b gy nc mc l md me">  it('Typing value in Fahrenheit field gets correct Celsius value upto 1 decimal values', async() =&gt; {<br/>    await pushFahrenheitValue(100);<br/>    celsiusInput = getByTestId('celsius-input');<br/>    expect(Number(celsiusInput.value)).toEqual(37.8);<br/>  });</span><span id="e724" class="ma jo iq lm b gy nc mc l md me">  it('Perform series of actions', async() =&gt; {<br/>    await pushFahrenheitValue(10);<br/>    celsiusInput = getByTestId('celsius-input');<br/>    expect(Number(celsiusInput.value)).toEqual(-12.2);</span><span id="2e29" class="ma jo iq lm b gy nc mc l md me">    await pushCelsiusValue(10);<br/>    fahrenheitInput = getByTestId('fahrenheit-input');<br/>    expect(Number(fahrenheitInput.value)).toEqual(50);</span><span id="7a3f" class="ma jo iq lm b gy nc mc l md me">    await pushFahrenheitValue(200);<br/>    celsiusInput = getByTestId('celsius-input');<br/>    expect(Number(celsiusInput.value)).toEqual(93.3);</span><span id="f505" class="ma jo iq lm b gy nc mc l md me">    await pushCelsiusValue(248);<br/>    fahrenheitInput = getByTestId('fahrenheit-input');<br/>    expect(Number(fahrenheitInput.value)).toEqual(478.4);<br/>  });<br/>});</span></pre><p id="0e6c" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lp ky kz la lq lc ld le lr lg lh li ij bi translated">我现在不会讨论如何为Angular编写测试用例，因为它太长了，留待以后的文章讨论。</p><p id="cab1" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lp ky kz la lq lc ld le lr lg lh li ij bi translated">运行<code class="fe lj lk ll lm b">ng serve</code>并再次打开浏览器到<code class="fe lj lk ll lm b">localhost:4200</code>。Tada！尝试在摄氏和华氏输入框中输入一些内容。</p><figure class="ls lt lu lv gt mg gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/4f5a95cecb741ecb667e39f58d5b35ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:816/format:webp/0*ol7lsmSd7ZZYJj8p.png"/></div></figure><p id="57d4" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lp ky kz la lq lc ld le lr lg lh li ij bi translated">完整的代码可以在https://github.com/thecodinganalyst/temperature-converter上找到。</p></div></div>    
</body>
</html>