<html>
<head>
<title>The Problem With Microservices</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">微服务的问题是</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/the-problem-with-microservices-2068f64c52e2?source=collection_archive---------7-----------------------#2022-02-02">https://levelup.gitconnected.com/the-problem-with-microservices-2068f64c52e2?source=collection_archive---------7-----------------------#2022-02-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="2d4e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">什么是微服务，何时使用微服务，需要考虑什么</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/14b7918857d5959bb34acefa74236c29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KC7ZTj4jXDYzejF60At7fg.jpeg"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">照片由<br/> <a class="ae le" href="https://unsplash.com/@joshua_j_woroniecki" rel="noopener ugc nofollow" target="_blank"> Joshua Woroniecki </a>在<a class="ae le" href="https://unsplash.com/photos/lzh3hPtJz9c" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="ae89" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">首先，我只想说一个爱微服务，觉得他们很棒。但是在与不同的人交谈时，我也可以看到为什么有些人认为微服务不好，以及他们所发生的问题，所以我只是想尝试澄清一下我们何时应该真正使用微服务，以及有什么好处和需要注意的事情。</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h2 id="63b5" class="lm ln it bd lo lp lq dn lr ls lt dp lu kb lv lw lx kf ly lz ma kj mb mc md me bi translated">什么是微服务</h2><p id="022b" class="pw-post-body-paragraph jq jr it js b jt mf jv jw jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn im bi translated">首先，让我们看看传统的单片应用程序是如何工作的。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/2ecf8de146f1bdb847763ac3592660b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1330/format:webp/1*0px-g_nEArZWNeejpXnuiQ.png"/></div></figure><p id="3d9a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">实际情况是，应用程序是一个整体，为了实现可伸缩性，我们需要克隆整个应用程序。听起来很理想，我知道。</p><p id="5803" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在让我们来看看微服务方法。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ml"><img src="../Images/257c7f14cd617d343cfd18ec00694c80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9W8q1AcWOuuKbX9g_vtqEw.png"/></div></div></figure><p id="c49a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在我们可以看到，可伸缩性是通过扩展具有大量流量的单个服务而不是整个应用程序来实现的，这很好，因为它带来了很多好处。</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><p id="ad72" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">微服务方法意味着设计和开发一个应用程序，该应用程序是一组松散耦合的服务，它们之间相互通信以实现业务需求。</p><p id="5eda" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您使用微服务有多种原因，例如:</p><ol class=""><li id="dde9" class="mm mn it js b jt ju jx jy kb mo kf mp kj mq kn mr ms mt mu bi translated"><em class="mv">改进的可扩展性</em></li><li id="89cd" class="mm mn it js b jt mw jx mx kb my kf mz kj na kn mr ms mt mu bi translated"><em class="mv">围绕业务能力组织</em></li><li id="22d1" class="mm mn it js b jt mw jx mx kb my kf mz kj na kn mr ms mt mu bi translated"><em class="mv">提高生产率和速度</em></li><li id="942a" class="mm mn it js b jt mw jx mx kb my kf mz kj na kn mr ms mt mu bi translated"><em class="mv">自主</em></li><li id="a014" class="mm mn it js b jt mw jx mx kb my kf mz kj na kn mr ms mt mu bi translated"><em class="mv">更快交货</em></li></ol><p id="8e5b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">虽然这在理论上听起来很棒，但你可能根本不需要采用微服务。</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h2 id="5fc3" class="lm ln it bd lo lp lq dn lr ls lt dp lu kb lv lw lx kf ly lz ma kj mb mc md me bi translated">使用微服务的理由:</h2><ol class=""><li id="30eb" class="mm mn it js b jt mf jx mg kb nb kf nc kj nd kn mr ms mt mu bi translated">如果你想让你的单片应用程序适应可伸缩性，可管理性和速度。</li><li id="6702" class="mm mn it js b jt mw jx mx kb my kf mz kj na kn mr ms mt mu bi translated">如果您构建的应用程序要求快速的交付速度等等。</li><li id="50f1" class="mm mn it js b jt mw jx mx kb my kf mz kj na kn mr ms mt mu bi translated">如果您需要在几乎不停机的情况下独立部署新功能</li><li id="155b" class="mm mn it js b jt mw jx mx kb my kf mz kj na kn mr ms mt mu bi translated">如果你需要更高程度的团队自治。例如，一个大型的单片应用程序和一个大型团队会因为大量的合并冲突而使更改变得更加困难。</li></ol></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h2 id="c2f6" class="lm ln it bd lo lp lq dn lr ls lt dp lu kb lv lw lx kf ly lz ma kj mb mc md me bi translated">不使用微服务的理由:</h2><ol class=""><li id="4b0e" class="mm mn it js b jt mf jx mg kb nb kf nc kj nd kn mr ms mt mu bi translated">微服务为复杂的问题提供了很好的解决方案，但是如果企业没有更复杂的问题，那么你可能不需要微服务。</li><li id="7ce2" class="mm mn it js b jt mw jx mx kb my kf mz kj na kn mr ms mt mu bi translated">微服务更难构建，需要开发人员对微服务有很好的理解，如果没有这样的人或在较小的团队中采用微服务，可能会导致不好的后果。</li><li id="1e5e" class="mm mn it js b jt mw jx mx kb my kf mz kj na kn mr ms mt mu bi translated">为了实现微服务而实现微服务，或者因为它在理论上提供了许多积极因素，这并不是一个足够好的实际投入工作的理由。有些应用本质上和功能上都很简单，没有必要采用微服务。</li></ol></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><p id="1ffd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我知道，我知道，题目说的是'<em class="mv">问题</em>'。再来看看微服务带来的问题。</p><h2 id="054a" class="lm ln it bd lo lp lq dn lr ls lt dp lu kb lv lw lx kf ly lz ma kj mb mc md me bi translated">微服务是一种分布式系统架构</h2><p id="6309" class="pw-post-body-paragraph jq jr it js b jt mf jv jw jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn im bi translated">这意味着使用微服务比创建一个单一的应用程序要复杂得多，而且不仅仅是构建REST APIs。您需要考虑服务、安全性和设计本身之间的通信。</p><p id="c385" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">监控也更加复杂，例如，一个请求在完成之前可能会经过多个服务，这就产生了一个需要适当监控的路径，以确定问题的潜在原因。</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h2 id="bb86" class="lm ln it bd lo lp lq dn lr ls lt dp lu kb lv lw lx kf ly lz ma kj mb mc md me bi translated">微服务需要很小</h2><p id="6a26" class="pw-post-body-paragraph jq jr it js b jt mf jv jw jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn im bi translated">微服务需要小而易懂，但具体指的是什么可能会因你问的人而异。一个很好的参考点可能是——如果重新实现服务需要几周以上的时间，而且这样做听起来很可怕，那么很可能服务已经太大了。</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h2 id="1939" class="lm ln it bd lo lp lq dn lr ls lt dp lu kb lv lw lx kf ly lz ma kj mb mc md me bi translated">微服务需要专注于一项任务</h2><p id="67ea" class="pw-post-body-paragraph jq jr it js b jt mf jv jw jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn im bi translated">在设计微服务时，我们需要记住，它应该只完成一项任务。现在，很明显，它可以与其他微服务通信来这样做，但如果从外部来看，你应该只将它与一个任务相关联。例如，如果我们有一个订单微服务，它应该只负责订单，但在内部，它很可能会与产品、电子邮件等微服务进行通信，以实现目标。</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h2 id="4119" class="lm ln it bd lo lp lq dn lr ls lt dp lu kb lv lw lx kf ly lz ma kj mb mc md me bi translated">微服务应该是自治的</h2><p id="84ce" class="pw-post-body-paragraph jq jr it js b jt mf jv jw jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn im bi translated">正如我们上面提到的，微服务的真正力量在于它们允许我们独立部署它们。这意味着我们应该能够在不与其他团队成员真正协调的情况下进行更改或实现，因为我们只在单个服务上工作。这是微服务将带来的真正价值，允许巨大的可伸缩性。</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h2 id="7f82" class="lm ln it bd lo lp lq dn lr ls lt dp lu kb lv lw lx kf ly lz ma kj mb mc md me bi translated">结论</h2><p id="5ffa" class="pw-post-body-paragraph jq jr it js b jt mf jv jw jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn im bi translated">整体式方法和微服务方法各有优缺点，并且完全基于期望的结果。如果你想处理复杂的问题，微服务是很好的选择，因为它们速度快、可伸缩且易于部署。但是，在现实中，对于许多较小的企业和应用程序，您并不真的需要采用微服务，因为它会变得非常复杂，作为一个团队，您应该考虑这是否是正确的决策。</p></div></div>    
</body>
</html>