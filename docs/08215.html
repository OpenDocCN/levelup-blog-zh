<html>
<head>
<title>Learning TypeScript: Introduction and Getting Started</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">学习TypeScript:简介和入门</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/learning-typescript-introduction-and-getting-started-ad10ce54fe48?source=collection_archive---------10-----------------------#2021-04-11">https://levelup.gitconnected.com/learning-typescript-introduction-and-getting-started-ad10ce54fe48?source=collection_archive---------10-----------------------#2021-04-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/d8dc1dcee01e8f81c448e7cd4edc08aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gC2AcAW5QJYfSoJG"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">由<a class="ae kf" href="https://unsplash.com/@lucamartini?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Luca Martini </a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="820d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这个系列文章<em class="le">学习TypeScript </em>中，我将记录我学习TypeScript编程语言的经历。TypeScript是JavaScript的超集，它提供了比JavaScript更严格的类型系统，减少了出现数据类型错误的机会，例如当您无意中试图将一个数字乘以一个字符串或其他一些数据类型不匹配时。</p><p id="8c84" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我将向您展示如何在您的计算机上安装TypeScript，以及如何使用TypeScript编写一些简单的程序。在那之后，我将通过描述TypeScript类型系统以及类型系统如何工作的例子来深入讨论。</p><p id="50ea" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我用JavaScript展示的例子是使用Spidermonkey JavaScript引擎编写的。</p><h1 id="3d87" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">下载和安装TypeScript</h1><p id="006f" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">TypeScript使用Node.js (Node)系统运行，因此如果尚未安装node，您的第一步是下载并安装它。请访问他们的网站<a class="ae kf" href="https://nodejs.org" rel="noopener ugc nofollow" target="_blank">https://nodejs.org</a>，获取在您的系统上安装节点的说明。</p><p id="dbd8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">安装了node之后，您就可以下载并安装TypeScript了。打开命令行窗口，输入以下命令:</p><p id="aa32" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mi mj mk ml b">npm install -g typescript</code></p><p id="305c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您可以通过检查版本来确保安装了TypeScript:</p><p id="192f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mi mj mk ml b">tsc –version</code></p><p id="e056" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">暂时就这样了。我们可以安装更多的支持程序，比如检查语法的lint程序，但是让我们从简单的开始，随着我们获得更多使用TypeScript的经验，我将从这里开始构建。</p><h1 id="c609" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">你好，世界！打字稿</h1><p id="5412" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">先写一个经典的你好，世界！TypeScript中的程序。首先，导航到您想要存储TypeScript程序的目录，打开一个文本编辑器(现在我只在我的Windows机器上使用Notepad，尽管我将在本文的后面学习VS代码)，启动一个名为helloworld.ts的新文件，并输入下面的TypeScript代码:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="fafb" class="mu lg it ml b gy mv mw l mx my">let greeting: string = "Hello, world!"<br/>console.log(greeting)</span></pre><p id="5eab" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">保存并关闭文件。现在转到命令行，输入以下命令:</p><p id="c01b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mi mj mk ml b">tsc helloworld.ts</code></p><p id="600f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mi mj mk ml b">tsc</code>是TypeScript编译器的名称。这里我调用了我的源文件上的编译器。如果程序编译成功，结果将是一个JavaScript文件——hello world . js。然后，我可以通过调用node和JavaScript文件名来运行该程序，如下所示:</p><p id="503b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mi mj mk ml b">node helloworld.js</code></p><p id="1db7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">结果显示在下一行:</p><p id="ac89" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mi mj mk ml b">Hello, world!</code></p><p id="5514" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您应该注意的第一件事是TypeScript编译成JavaScript代码。但是即使我们生成的程序是用JavaScript代码编写的，编译器仍然对TypeScript程序进行类型检查，以确保在整个程序中使用了正确的类型(即使是像这样短的程序)。</p><p id="a928" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里有一个实验，您可以通过它来了解TypeScript编译程序的方式和JavaScript“编译”程序的方式之间的区别。输入下面的JavaScript程序(可以用node运行):</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="dc93" class="mu lg it ml b gy mv mw l mx my">let vals = [1,2,3];<br/>let val = 2;<br/>console.log(val * vals);</span></pre><p id="905c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个程序的结果是:</p><p id="6210" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mi mj mk ml b">NaN</code></p><p id="fc3a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这意味着节点运行了程序，结果是<code class="fe mi mj mk ml b">NaN</code>。现在将这个程序输入到一个TypeScript文件中并编译它:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="f6fe" class="mu lg it ml b gy mv mw l mx my">let vals: number[] = [1,2,3]<br/>let val: number = 2<br/>console.log(vals * val)</span></pre><p id="afb7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">不要担心变量是如何用类型声明的。稍后我将更详细地解释如何做到这一点。</p><p id="a010" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是我尝试用TypeScript编译这个程序时得到的结果:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="744f" class="mu lg it ml b gy mv mw l mx my">C:\Users\mmcmi\Documents\ts&gt;tsc types.ts</span><span id="70d6" class="mu lg it ml b gy mz mw l mx my">types.ts:3:13 - error TS2362: The left-hand side of an arithmetic operation must be of type 'any', 'number', 'bigint' or an enum type.</span><span id="b61c" class="mu lg it ml b gy mz mw l mx my">3 console.log(vals * val)</span><span id="e136" class="mu lg it ml b gy mz mw l mx my">~~~~</span><span id="386f" class="mu lg it ml b gy mz mw l mx my">Found 1 error.</span></pre><p id="a099" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">程序无法编译，更不用说运行了，因为类型系统不允许数组与数字相乘。</p><h1 id="12b4" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">打字稿中的打字简介</h1><p id="fe8a" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">JavaScript是一种<em class="le">弱类型</em>语言。这意味着变量和对象可以通过赋值来改变数据类型。例如，我可以用JavaScript这样做:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="cc03" class="mu lg it ml b gy mv mw l mx my">let x = 1;<br/>print(x); // displays 1<br/>x = "Hello, world!";<br/>print(x); // displays Hello, world!</span></pre><p id="876c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">弱类型语言很难调试，因为变量可以采用任何合法的JavaScript类型。</p><p id="c22f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">JavaScript也是一种动态类型语言。这意味着当遇到一个类型时，该语言试图将它赋给一个值，但该语言并没有做太多的工作来强制类型安全。例如，如果您尝试将一个数字乘以数组元素，如下所示:</p><p id="6e39" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mi mj mk ml b">let x = 4 * [1]; // y gets 4</code></p><p id="81fa" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">JavaScript会将数组元素转换为数字1并执行乘法。当你试图将一个数字和一个字符串相乘时，也会发生同样的事情:</p><p id="3c9c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mi mj mk ml b">let y = 10 * “10”; // y gets 100</code></p><p id="2da1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">不能像这样混合数据类型是语言类型安全的一部分。当我在上面演示TypeScript如何在编译时识别类型错误时，我演示了TypeScript如何促进类型安全。</p><p id="6990" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">TypeScript是一种强类型语言。TypeScript允许您将数据类型赋给变量或对象的一部分。TypeScript使用一种称为类型批注的技术来实现这一点。我在上一节的例子中也演示了这一点，但是我将在这里更完整地介绍这个概念。</p><p id="a35d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是类型注释的一些示例:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="758d" class="mu lg it ml b gy mv mw l mx my">let number :string = 100<br/>let name :string = "Cynthia"<br/>function square(num :number) :number {<br/>  return num * num<br/>}</span></pre><p id="f0f0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">类型添加在标识符之后(对于变量声明)或参数之后(在函数定义中)，以及函数签名的末尾，以指示函数的返回类型。一旦一个变量被标注了类型，这个变量就不能接受不同类型的值。如果您尝试这样做，将会出现编译时错误，如下例所示:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="c539" class="mu lg it ml b gy mv mw l mx my">let num :number = 1<br/>num = "two"</span></pre><p id="a569" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是错误消息:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="e2dd" class="mu lg it ml b gy mv mw l mx my">test.ts:2:1 - error TS2322: Type 'string' is not assignable to type 'number'.</span><span id="2f9d" class="mu lg it ml b gy mz mw l mx my">2 num = "two"<br/>  ~~~</span></pre><p id="f0b4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您不必为TypeScript注释类型来对程序执行类型检查。TypeScript还将根据被赋值的值的类型来推断数据类型。上面的例子可以不用类型注释写成:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="de11" class="mu lg it ml b gy mv mw l mx my">let num = 1<br/>num = "two"</span></pre><p id="5559" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">编译器仍然会抱怨一个字符串被错误地赋给了一个数字。JavaScript也做类型推断，但是是以弱方式而不是强方式，因为它不强制类型安全。</p><p id="39bd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我谈论类型推断的时候，让我再来区分一下TypeScript和JavaScript。JavaScript是一种<em class="le">动态类型</em>语言，而TypeScript是一种<em class="le">静态类型</em>语言。静态类型语言允许类型注释，例如在TypeScript中使用的类型注释，而动态类型语言在后台进行数据类型赋值。在JavaScript中，您可以使用<code class="fe mi mj mk ml b">typeof</code>运算符查看变量的当前类型，如下例所示:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="85e4" class="mu lg it ml b gy mv mw l mx my">js&gt; let x = 1;<br/>js&gt; print(typeof(x));<br/>number<br/>js&gt; x = "Jane";<br/>"Jane"<br/>js&gt; print(typeof(x));<br/>string<br/>js&gt;</span></pre><p id="600d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mi mj mk ml b">x</code>的数据类型随着分配给它的不同数据类型而变化。这演示了动态类型。你也可以说JavaScript确实是运行时类型，因为数据类型是在运行时决定的，甚至是在程序运行的时候。</p><p id="cf37" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">静态类型化意味着类型是在编译时决定的，一旦类型被建立，它就不能通过赋值被覆盖，正如我们在上面的错误例子中看到的。静态类型使程序更容易调试，因为您不必跟踪在程序中的任何特定点变量中存储了什么类型的数据。</p><p id="d580" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正如我们所看到的，静态类型还可以防止您在尝试对混合数据类型执行非法操作时出错，例如尝试将一个字符串乘以一个数字。JavaScript将执行这些操作，结果从<code class="fe mi mj mk ml b">undefined</code>到<code class="fe mi mj mk ml b">NaN</code>不等。</p><p id="d7a2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这个例子中可以看到动态类型语言和静态类型语言的另一个区别。下面是一个有错别字的JavaScript程序:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="4380" class="mu lg it ml b gy mv mw l mx my">let number = 5;<br/>numbr = (number + 10) / 2; // user typed numbr instead of number<br/>print(number); // displays 5 rather than 10</span></pre><p id="8a8b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您尝试在TypeScript中运行此程序，您会得到以下错误消息:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="6f50" class="mu lg it ml b gy mv mw l mx my">test.ts:2:1 - error TS2552: Cannot find name 'numbr'. Did you mean 'number'?</span><span id="d004" class="mu lg it ml b gy mz mw l mx my">2 numbr = (number + 15) / 2<br/>~~~~~<br/>test.ts:1:5<br/>1 let number = 5<br/>      ~~~~~~<br/>'number' is declared here.</span><span id="6892" class="mu lg it ml b gy mz mw l mx my">Found 1 error.</span></pre><p id="b7e7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">静态类型的语言帮助你发现错误，比如动态类型的语言所忽略的错误。对于一次性脚本来说，必须处理这个错误可能没什么大不了的，但是它可能会在大型项目中导致大量无效的调试时间。</p><p id="4bf7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我关于TypeScript的介绍性文章到此结束。在我的下一篇文章中，我将花一些时间向您介绍健壮的TypeScript类型系统以及如何使用它。'</p><p id="f28b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢您的阅读，请回复这篇文章或发邮件给我，告诉我您的意见和建议。</p></div></div>    
</body>
</html>