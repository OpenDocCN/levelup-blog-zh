<html>
<head>
<title>Build a web, iOS, and Android app with a GraphQL server â€” understand the whole system</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨GraphQLæœåŠ¡å™¨æ„å»ºwebã€iOSå’ŒAndroidåº”ç”¨ç¨‹åºâ€”â€”äº†è§£æ•´ä¸ªç³»ç»Ÿ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/build-a-simple-system-with-ios-android-react-node-js-and-graphql-cb74d2c400fe?source=collection_archive---------3-----------------------#2019-12-01">https://levelup.gitconnected.com/build-a-simple-system-with-ios-android-react-node-js-and-graphql-cb74d2c400fe?source=collection_archive---------3-----------------------#2019-12-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/81ae8386a9ff3f2424010446b7466807.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EQCTgmz5I-ae0wKzbnsLKQ.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">ç…§ç‰‡ç”±<a class="ae kf" href="https://unsplash.com/@perrygrone" rel="noopener ugc nofollow" target="_blank">ä½©é‡ŒÂ·æ ¼ç½—å†…</a>åœ¨<a class="ae kf" href="https://unsplash.com/photos/lbLgFFlADrY" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>æ‹æ‘„</figcaption></figure><p id="80ee" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä»Šå¤©è¦æ„å»ºä¸€ä¸ªå®Œæ•´çš„è§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä»¬è‡³å°‘éœ€è¦å››ä¸ªç»„ä»¶:ç§»åŠ¨(iOSå’ŒAndroid)ã€webå’Œæä¾›æ‰€éœ€æ•°æ®çš„æœåŠ¡å™¨ã€‚</p><p id="5f10" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è¿™äº›ç»„ä»¶ä¸­çš„æ¯ä¸€ä¸ªéƒ½éœ€è¦å¹¿æ³›çš„çŸ¥è¯†æ¥æ„å»ºã€‚å› æ­¤ï¼Œå¾ˆéš¾æ‰¾åˆ°ä¸€ä¸ªåŒ…å«æ‰€æœ‰ç¤ºä¾‹çš„é¡µé¢ã€‚</p><p id="f70a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">é‰´äºè¿™ä¸€äº‹å®ï¼Œæˆ‘å†³å®šæ„å»ºä¸€ä¸ªç®€å•çš„ç³»ç»Ÿæ¥è¿æ¥æ‰€æœ‰è¿™äº›ç»„ä»¶ï¼Œå¸Œæœ›å®ƒå¯ä»¥ä½œä¸ºåªç†Ÿæ‚‰å…¶ä¸­ä¸€ä¸ªç»„ä»¶å¹¶å¸Œæœ›å­¦ä¹ å…¶ä»–éƒ¨åˆ†çš„å¼€å‘äººå‘˜çš„å‚è€ƒã€‚</p><h1 id="8e9c" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">è®¡åˆ’ä¸­çš„ç®€å•ç³»ç»Ÿ</h1><p id="1090" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">ä¸ºäº†ç”¨å·¥ä½œä»£ç æ¼”ç¤ºæ‰€æœ‰ç»„ä»¶ï¼Œæˆ‘æ„å»ºäº†ä¸€ä¸ªç®€å•çš„ç³»ç»Ÿï¼Œä»Wikipedia Open APIè·å–ä¸€äº›æ•°æ®ã€‚ç”¨æˆ·åªéœ€å‘APIå‘é€ä¸€ä¸ªå…³é”®è¯ï¼ŒAPIå°±ä¼šè¿”å›è¯¥å…³é”®è¯åœ¨ç»´åŸºç™¾ç§‘ä¸­è¢«ä½¿ç”¨çš„æ¬¡æ•°ã€‚</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/a7e3b5f77d4bed9c1a2baf9d745c19bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:722/format:webp/1*rhzrd9ZjCjN_0XlU9fUbWQ.png"/></div></figure><p id="bdac" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘æ˜ç¡®åœ°é€‰æ‹©äº†è¿™ä¸ªç®€å•çš„ä¾‹å­ï¼Œä»¥ä¾¿å­¦ä¹ å›´ç»•ç€ä¸ºæ‰€æœ‰ç»„ä»¶æ„å»ºç³»ç»Ÿï¼Œè€Œä¸æ˜¯å…³æ³¨APIçš„å¤æ‚æ€§ã€‚</p><p id="1921" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä»è¿™é‡Œï¼Œæˆ‘ä»¬æ‰©å±•æˆ‘ä»¬çš„ç³»ç»Ÿï¼Œä½¿å…¶å¯ä»¥ä»<strong class="ki iu"> iOS </strong>ã€<strong class="ki iu"> Androidã€</strong>å’Œ<strong class="ki iu"> web </strong> ( <strong class="ki iu"> React </strong>)è¿›è¡Œè®¿é—®ã€‚æœ€é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªä¸­é—´æœåŠ¡å™¨(ä½¿ç”¨<strong class="ki iu"> Node.js </strong>)å¹¶ä½¿ç”¨<strong class="ki iu"> GraphQL </strong>ä½œä¸ºé€šä¿¡æ‰‹æ®µï¼Œä»¥å½¢æˆä¸€ä¸ªæˆ‘ä»¬å®Œå…¨æ§åˆ¶çš„å®Œæ•´ç³»ç»Ÿã€‚</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/3193e1e201e00e56626db9a5c28729a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*NSHb9Nm2aU4aTOA6PVhCqQ.png"/></div></figure><p id="8f90" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ–è€…åœ¨å›¾è¡¨ä¸­ï¼Œæ‚¨å°†èƒ½å¤Ÿè·å¾—åŸºäºä»¥ä¸‹ç»„ä»¶æ„å»ºçš„ç³»ç»Ÿã€‚</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mn"><img src="../Images/fd6d6a2e31cacdcaf50fa1f11549583b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ssGLLXyxWfRMxAqw2Let2g.png"/></div></div></figure><p id="0c1d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä½ å¯ä»¥åœ¨ä¸‹é¢å¾—åˆ°æ•´ä¸ªç³»ç»Ÿçš„ä»£ç (<strong class="ki iu"> iOSï¼ŒAndroidï¼ŒReactï¼ŒNode.jsï¼ŒGraphql </strong></p><div class="mo mp gp gr mq mr"><a href="https://github.com/elye/demo_graphql_fullstack_mobile" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd iu gy z fp mw fr fs mx fu fw is bi translated">elye/demo _ graph QL _ full stack _ mobile</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">æ­¤æ—¶æ‚¨ä¸èƒ½æ‰§è¡Œè¯¥æ“ä½œã€‚æ‚¨å·²ä½¿ç”¨å¦ä¸€ä¸ªæ ‡ç­¾é¡µæˆ–çª—å£ç™»å½•ã€‚æ‚¨å·²åœ¨å¦ä¸€ä¸ªé€‰é¡¹å¡ä¸­æ³¨é”€ï¼Œæˆ–è€…â€¦</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">github.com</p></div></div><div class="na l"><div class="nb l nc nd ne na nf jz mr"/></div></div></a></div><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/502ed4a4a8bc93c6810e6b9e89190705.png" data-original-src="https://miro.medium.com/v2/resize:fit:708/format:webp/1*fAipG9kmXsrtBJWeeQ86FQ.png"/></div></figure><h1 id="2071" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">Node.jsæœåŠ¡å™¨</h1><p id="912e" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">é¦–å…ˆï¼Œæˆ‘æœ‰ä¸€ä¸ª<em class="nh"> Node.js </em>æœåŠ¡å™¨ã€‚è¦è¿è¡Œå®ƒï¼Œåªéœ€è½¬åˆ°<em class="nh">æœåŠ¡å™¨</em>æ–‡ä»¶å¤¹ï¼Œå¹¶é”®å…¥<code class="fe ni nj nk nl b">yarn start</code>ã€‚(å¦‚æœä½ ä¸ç¡®å®šä»€ä¹ˆæ˜¯çº±çº¿ï¼Œå¯ä»¥çœ‹çœ‹<a class="ae kf" href="https://medium.com/@elye.project/know-yarn-before-learning-node-js-bf39a50fb27f" rel="noopener">è¿™ç¯‡åšå®¢</a>)ã€‚</p><blockquote class="nm nn no"><p id="95a3" class="kg kh nh ki b kj kk kl km kn ko kp kq np ks kt ku nq kw kx ky nr la lb lc ld im bi translated">æ³¨æ„:åœ¨<code class="fe ni nj nk nl b">yarn start</code>ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆè¿è¡Œ<code class="fe ni nj nk nl b">yarn install</code>æ¥å®‰è£…åŒ…</p></blockquote><blockquote class="ns"><p id="9951" class="nt nu it bd nv nw nx ny nz oa ob ld dk translated"><code class="fe ni nj nk nl b">ğŸš€ Server ready at <a class="ae kf" href="http://localhost:4000/" rel="noopener ugc nofollow" target="_blank">http://localhost:4000/</a></code></p></blockquote><p id="a114" class="pw-post-body-paragraph kg kh it ki b kj oc kl km kn od kp kq kr oe kt ku kv of kx ky kz og lb lc ld im bi translated">Node.jsæ˜¯åœ¨æœºå™¨ä¸Šè®¾ç½®çš„æœ€ç®€å•çš„æœåŠ¡å™¨ä¹‹ä¸€ã€‚æ²¡æœ‰çš„è¯åªéœ€è¦<em class="nh"> npm </em>æˆ–è€…<em class="nh">çº±</em>å®‰è£…å³å¯ã€‚</p><p id="c75a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¹‹åï¼Œåœ¨æ‚¨å¸Œæœ›åˆ›å»ºNode.jsæœåŠ¡å™¨çš„æ–‡ä»¶å¤¹ä¸­ï¼Œä½¿ç”¨<code class="fe ni nj nk nl b">npm init</code>æˆ–<code class="fe ni nj nk nl b">yarn init</code>å‘½ä»¤åˆ›å»ºä¸€ä¸ªåˆé€‚çš„åŒ…ï¼Œå…¶ä¸­<em class="nh"> package.json </em>å°†è¢«åˆå§‹åŒ–ã€‚</p><p id="db6f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¿®æ”¹æ‚¨çš„åŒ…ä»¥åŒ…å«ä¸€ä¸ªè¦è¿è¡Œçš„<em class="nh"> start </em>è„šæœ¬:</p><pre class="mi mj mk ml gt oh nl oi oj aw ok bi"><span id="fae8" class="ol lf it nl b gy om on l oo op">{<br/>  "name": "simpleserver",<br/>  "version": "1.0.0",<br/>  "description": "Simple Server with Graphql",<br/>  "main": "index.js",<br/>  "dependencies": {<br/>    "apollo-datasource-rest": "^0.6.6",<br/>    "apollo-server": "^2.9.9",<br/>    "graphql": "^14.5.8"<br/>  },<br/>  "devDependencies": {},<br/>  "scripts": {<br/><strong class="nl iu">    "start": "node src/index.js",</strong><br/>    "test": "No test"<br/>  },<br/>  "author": "author (author@gmail.com)",<br/>  "license": "Apache-2.0"<br/>}</span></pre><p id="2f4c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¸€æ—¦æœ‰äº†æ­£ç¡®çš„JavaScriptä»£ç ï¼Œå°±å¯ä»¥ä½¿ç”¨<code class="fe ni nj nk nl b">npm start</code>æˆ–<code class="fe ni nj nk nl b">yarn start</code>æ¥å¯åŠ¨èŠ‚ç‚¹æœåŠ¡å™¨ã€‚</p><p id="ce7b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è¦äº†è§£Node.jsçš„åŸºç¡€çŸ¥è¯†ï¼Œè¯·å‚è€ƒ:</p><div class="mo mp gp gr mq mr"><a href="https://www.w3schools.com/nodejs/default.asp" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd iu gy z fp mw fr fs mx fu fw is bi translated">Node.jsæ•™ç¨‹</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">æˆ‘ä»¬çš„â€œShow Node.jsâ€å·¥å…·ä½¿å­¦ä¹ Node.jså˜å¾—å®¹æ˜“ï¼Œå®ƒæ˜¾ç¤ºä»£ç å’Œç»“æœã€‚var http =â€¦</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">www.w3schools.com</p></div></div><div class="na l"><div class="oq l nc nd ne na nf jz mr"/></div></div></a></div><h2 id="1662" class="ol lf it bd lg or os dn lk ot ou dp lo kr ov ow ls kv ox oy lw kz oz pa ma pb bi translated">ç»´åŸºç™¾ç§‘API</h2><p id="a598" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">æˆ‘ä»¬åˆ›å»ºçš„Node.jsæœåŠ¡å™¨æ˜¯ä¸ºäº†åœ¨Wikipedia open APIå’Œæ‰€æœ‰å®¢æˆ·ç«¯(Webã€iOSå’ŒAndroid)ä¹‹é—´å½¢æˆä¸€ä¸ªä¸­é—´æœåŠ¡ï¼Œä»¥ä¾¿å®ƒåªä¸ºå‘å®¢æˆ·ç«¯å‘é€æ•°æ®æä¾›æœåŠ¡ã€‚</p><p id="cf5a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å®ƒçš„åŠŸèƒ½æ˜¯è·å–å…³é”®å­—å¹¶æ‰§è¡Œå¯¹ç»´åŸºç™¾ç§‘å¼€æ”¾APIçš„æå–ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><p id="fd8b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">APIæ˜¯<a class="ae kf" href="https://en.wikipedia.org/w/api.php" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/w/api.php</a>ï¼Œå…·æœ‰ä»¥ä¸‹å‚æ•°:</p><pre class="mi mj mk ml gt oh nl oi oj aw ok bi"><span id="5730" class="ol lf it nl b gy om on l oo op">â€œactionâ€ =  â€œqueryâ€,<br/>â€œformatâ€ =  â€œjsonâ€,<br/>â€œlistâ€ = â€œsearchâ€,<br/>"srsearch" = &lt;Something to Provide&gt;</span></pre><p id="015c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae kf" href="https://en.wikipedia.org/w/api.php?action=query&amp;format=json&amp;list=search&amp;srsearch=Networking" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/w/api.php?action=query&amp;format = JSON&amp;list = search&amp;Sr search = Networking</a>ä¼šç”Ÿæˆä¸‹é¢è¿™ä¸ªã€‚æ³¨æ„ï¼Œ<code class="fe ni nj nk nl b">totalhits</code>æ˜¯æˆ‘ä»¬æƒ³è¦å¾—åˆ°çš„ã€‚</p><pre class="mi mj mk ml gt oh nl oi oj aw ok bi"><span id="70c9" class="ol lf it nl b gy om on l oo op">{   batchcomplete: "",<br/>    continue: {<br/>       sroffset: 10,<br/>       continue: "-||"<br/>    },<br/>    query: {<br/>       searchinfo: {<br/><strong class="nl iu">          totalhits: 399303</strong><br/>       }, ...</span></pre><h2 id="6cdc" class="ol lf it bd lg or os dn lk ot ou dp lo kr ov ow ls kv ox oy lw kz oz pa ma pb bi translated">GraphQLæœåŠ¡</h2><p id="a64d" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">æˆ‘ä»¬å¸Œæœ›Node.jsæœåŠ¡å™¨ä¸ä»…èƒ½ä»¥é™æ€JSONæ ¼å¼æä¾›ä»ç»´åŸºç™¾ç§‘è·å¾—çš„å…¨éƒ¨ç»“æœï¼Œè¿˜èƒ½ä»¥åŠ¨æ€æ ¼å¼æä¾›ã€‚è¿™é‡Œçš„åŠ¨æ€æ„å‘³ç€ï¼Œæ•°æ®çš„å†…å®¹(éœ€è¦ä»€ä¹ˆä¿¡æ¯)ç”±å®¢æˆ·ç«¯å†³å®šã€‚è¿™å¯ä»¥é€šè¿‡ä½¿ç”¨<a class="ae kf" href="https://graphql.org/" rel="noopener ugc nofollow" target="_blank">å›¾è¡¨QL </a>æ¥å®ç°ã€‚</p><p id="ac6d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¸€ä¸ªç®€å•çš„ä¾‹å­æ˜¯ï¼Œå¦‚æœæ‚¨å¯åŠ¨äº†GraphQLæœåŠ¡å™¨ï¼Œæ‚¨å¯ä»¥å†³å®šå®ƒå¯ä»¥è·å¾—çš„æ”¯ä»˜æ•°æ®æ ¼å¼ã€‚ä¸‹é¢æ˜¯ä¸¤ä¸ªä¾‹å­(å·¦è¾¹æ˜¯æŸ¥è¯¢ï¼Œå³è¾¹æ˜¯ç»“æœ)</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pc"><img src="../Images/b1a5faa3a29f2651220d6afc6c95e364.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8oTDO8I_9rQic1ZpE2P9Nw.png"/></div></div></figure><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pd"><img src="../Images/a32a910df61c0457be73f42b954a2b39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lQfiIhgyck5ate60gGBJWQ.png"/></div></div></figure><blockquote class="nm nn no"><p id="ea53" class="kg kh nh ki b kj kk kl km kn ko kp kq np ks kt ku nq kw kx ky nr la lb lc ld im bi translated">ä¸Šé¢è§†å›¾æ˜¯ä»https://electronjs.org/apps/graphiql<a class="ae kf" href="https://electronjs.org/apps/graphiql" rel="noopener ugc nofollow" target="_blank">çš„GraphiQLå·¥å…·è·å¾—çš„</a></p></blockquote><h2 id="02a5" class="ol lf it bd lg or os dn lk ot ou dp lo kr ov ow ls kv ox oy lw kz oz pa ma pb bi translated">é˜¿æ³¢ç½—æœåŠ¡å™¨</h2><p id="bf9d" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">ä¸ºäº†ä»æˆ‘ä»¬çš„<em class="nh"> Node.js </em>æœåŠ¡å™¨å¯ç”¨GraphQLæœåŠ¡ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<a class="ae kf" href="https://www.apollographql.com/" rel="noopener ugc nofollow" target="_blank"> <em class="nh"> Apollo GraphQL </em>åº“</a>ã€‚</p><p id="42a1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨https://www.apollographql.com/docs/tutorial/introduction/æœ‰ä¸€ä¸ªæ•™ç¨‹ã€‚æœ‰å…³ä»£ç çš„æœåŠ¡å™¨éƒ¨åˆ†ï¼Œè¯·å‚è€ƒç¬¬0èŠ‚åˆ°ç¬¬3èŠ‚ã€‚</p><p id="2532" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ€»çš„æ¥è¯´ï¼Œæˆ‘åˆ›å»ºçš„ç®€å•çš„<em class="nh"> Node.js </em>æœåŠ¡å™¨å¦‚ä¸‹æ‰€ç¤º</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/be8fa559d89633b1dd65dc1eff84161d.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/1*_-tkv-tft2lKIScs2tuw3g.png"/></div></figure><p id="bcda" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è‡³äºæ¨¡å¼ï¼Œæˆ‘ä»¬å°†å…¶å®šä¹‰å¦‚ä¸‹:</p><pre class="mi mj mk ml gt oh nl oi oj aw ok bi"><span id="0431" class="ol lf it nl b gy om on l oo op">const typeDefs = gql`<br/>  type Query {<br/>    wikiCount(keyword: String!): WikiCount<br/>  }<br/>  type WikiCount {<br/>    keyword: String!<br/>    totalhits: String<br/>  }<br/>`;</span></pre><p id="a1c7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘ä»¬æœ‰ä¸€ä¸ªè§£æå™¨æŸ¥è¯¢ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p><pre class="mi mj mk ml gt oh nl oi oj aw ok bi"><span id="19aa" class="ol lf it nl b gy om on l oo op">async getWikiCountByKeyword({ keyword }) {<br/>  const response = await this.get('api.php',<br/>      [["action", "query"], <br/>       ["format", "json"], <br/>       ["list", "search"], <br/>       ["srsearch", keyword]]);<br/>  return this.wikiCountReducer(<br/>      keyword, response.query.searchinfo.totalhits);<br/>}</span></pre><p id="b7ec" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è€ƒGitHubä¸­çš„ä»£ç ã€‚</p><p id="fac8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è¿™æ ·ï¼Œå½“æ‚¨ä½¿ç”¨æµè§ˆå™¨è®¿é—®è¯¥ç½‘ç«™æ—¶ï¼Œæ‚¨å°†ä¼šçœ‹åˆ°å¦‚ä¸‹å†…å®¹ï¼Œæ˜¾ç¤ºå¯ç”¨çš„æœåŠ¡ã€‚</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pf"><img src="../Images/2602f32ac523f2eee271754272b9e3c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wWqz_PfijrMR1R2-5Nbh3A.png"/></div></div></figure><p id="f058" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å·¦è¾¹æ˜¯æ‚¨çš„è¾“å…¥æŸ¥è¯¢ï¼Œè¯·æ±‚æ‚¨æƒ³è¦çš„è¾“å‡ºã€‚ä¸­é—´æ˜¯ç»“æœ(æŒ‰ä¸‹æ’­æ”¾æŒ‰é’®åç”Ÿæˆ)ã€‚å³è¾¹æ˜¯æˆ‘ä»¬åœ¨<em class="nh"> Node.js </em>æœåŠ¡å™¨ä¸­å®šä¹‰çš„æ¨¡å¼ã€‚</p><h1 id="e13a" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">React Webå®¢æˆ·ç«¯</h1><p id="5cac" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹Webå®¢æˆ·ç«¯ã€‚</p><p id="a3a3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»»ä½•webå®¢æˆ·ç«¯ï¼Œåªè¦å®ƒä»¬èƒ½å¤Ÿæ‰§è¡ŒPOSTè¯·æ±‚ã€‚è¿™é‡Œæˆ‘åªå…³æ³¨ä½¿ç”¨<em class="nh"> React </em>ï¼Œå› ä¸ºå®ƒä¹Ÿæ˜¯ç”¨<em class="nh"> JavaScript </em>ç¼–å†™çš„ï¼Œå¹¶ä¸”å¾ˆå¥½åœ°è¡¥å……äº†<em class="nh"> Node.js </em>ã€‚</p><p id="9694" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è¦å¯åŠ¨<em class="nh"> React </em> Webå®¢æˆ·ç«¯ï¼Œåªéœ€è½¬åˆ°<em class="nh"> client-web </em>æ–‡ä»¶å¤¹ï¼Œå¹¶æ‰§è¡Œå‘½ä»¤<code class="fe ni nj nk nl b">yarn start</code></p><p id="d3cd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å®ƒå°†è‡ªåŠ¨å¯åŠ¨æµè§ˆå™¨å¹¶è‡ªåŠ¨æ‰“å¼€<code class="fe ni nj nk nl b">localhost:3000</code>ç«™ç‚¹ï¼Œç”¨æˆ·ç•Œé¢å¦‚ä¸‹æ‰€ç¤ºã€‚</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pg"><img src="../Images/efa560546c9899fa4dadbcd6fe53e360.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fkZpLIbwMYJ30jB7PBP--Q.png"/></div></div></figure><p id="9516" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘å®ç°äº†ä¸¤ç§æŠ“å–æ–¹æ³•ã€‚ä¸€ç§æ˜¯ä½¿ç”¨Apollo GraphQLå®¢æˆ·ç«¯reactåŒ…åº“ã€‚å¦ä¸€ä¸ªåªæ˜¯å¸¸è§„çš„POSTè¯·æ±‚ã€‚</p><blockquote class="nm nn no"><p id="2023" class="kg kh nh ki b kj kk kl km kn ko kp kq np ks kt ku nq kw kx ky nr la lb lc ld im bi translated">è¦å­¦ä¹ Reactï¼Œå‚è€ƒè¿™ä¸ªç½‘ç«™<a class="ae kf" href="https://reactjs.org/tutorial/tutorial.html" rel="noopener ugc nofollow" target="_blank">https://reactjs.org/tutorial/tutorial.html</a>ï¼Œè®©ä½ åˆ›å»ºä¸€ä¸ªç®€å•çš„æ¸¸æˆã€‚</p></blockquote><h2 id="a06c" class="ol lf it bd lg or os dn lk ot ou dp lo kr ov ow ls kv ox oy lw kz oz pa ma pb bi translated">é˜¿æ³¢ç½—ç½‘ç»œå®¢æˆ·ç«¯</h2><p id="45b2" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">åœ¨https://www.apollographql.com/docs/tutorial/introduction/å¯ä»¥æ‰¾åˆ°<em class="nh"> React </em>çš„å®˜æ–¹Apollo Webå®¢æˆ·ç«¯æ•™ç¨‹ã€‚å…³äºæˆ‘ä»¬ä»£ç ä¸­æåˆ°çš„Webå®¢æˆ·ç«¯ï¼Œè¯·å‚è€ƒç¬¬5åˆ°6èŠ‚ã€‚</p><p id="fa67" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨æˆ‘ä»¬çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆå°†<code class="fe ni nj nk nl b">ApolloClient</code>åŒ…è£…åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­ã€‚</p><pre class="mi mj mk ml gt oh nl oi oj aw ok bi"><span id="18c6" class="ol lf it nl b gy om on l oo op">const cache = new InMemoryCache();<br/>const link = new HttpLink({<br/>    uri: <strong class="nl iu"><em class="nh">SERVERURL<br/></em></strong>});<br/><br/>const client = new ApolloClient({<br/>    cache,<br/>    link<br/>});<br/><br/>ReactDOM.render(<br/>    &lt;ApolloProvider client={client}&gt;<br/>        &lt;App/&gt;<br/>    &lt;/ApolloProvider&gt;, <strong class="nl iu"><em class="nh">document</em></strong>.getElementById('root')<br/>);</span></pre><p id="3e91" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç„¶ååœ¨è·å–ç«¯ï¼Œé¦–å…ˆæˆ‘ä»¬å®šä¹‰æŸ¥è¯¢(å³<code class="fe ni nj nk nl b">GET_WIKI_HIT</code>)</p><pre class="mi mj mk ml gt oh nl oi oj aw ok bi"><span id="03e0" class="ol lf it nl b gy om on l oo op">const GET_WIKI_HIT = gql`<br/>    query GetWikicountByKeyword($keyword: String!) {<br/>        wikiCount(keyword: $keyword) {<br/>            keyword<br/>            totalhits<br/>        }<br/>    }<br/>`;</span></pre><p id="2499" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç„¶åæˆ‘ä»¬æœ‰ä¸€ä¸ªè·å–å‡½æ•°ï¼Œå®ƒç»“åˆäº†æ•´ä¸ªæœç´¢æ¡†ã€æŒ‰é’®å’Œç»“æœæ–‡æœ¬çš„åˆ›å»ºã€‚å®ƒä½¿ç”¨äº†ä¸€ç§<em class="nh"> React Hook </em>æ–¹æ³•ï¼Œè¿™ç§æ–¹æ³•ä¼šæ ¹æ®çŠ¶æ€è€Œæ”¹å˜ã€‚</p><blockquote class="nm nn no"><p id="6d07" class="kg kh nh ki b kj kk kl km kn ko kp kq np ks kt ku nq kw kx ky nr la lb lc ld im bi translated">ä¸ºäº†æ›´å¥½åœ°ç†è§£React Hookï¼Œè¯·å‚è€ƒPOST Web Clientæ–¹æ³•ã€‚</p></blockquote><pre class="mi mj mk ml gt oh nl oi oj aw ok bi"><span id="ad80" class="ol lf it nl b gy om on l oo op">export default function FetchApollo() {<br/>        const [keyword, setKeyword] = React.useState("");<br/>        const {data, loading, error} = <br/>            useQuery(GET_WIKI_HIT, {variables: {keyword: keyword}});<br/><br/>        let result<br/>        if (keyword === "") result = "No Result";<br/>        else if (loading) result = "loading"<br/>        else if (error) result = error.message;<br/>        else result = <br/>            data.wikiCount.keyword + ":" + data.wikiCount.totalhits;<br/><br/>        return (<br/>            &lt;div&gt;<br/>                &lt;div&gt;&lt;SearchBox caption={"Apollo Wiki Search"} <br/>                     onSubmit={(keyword) =&gt; <br/>                     setKeyword(keyword)}/&gt;&lt;/div&gt;</span><span id="d261" class="ol lf it nl b gy ph on l oo op">                {loading &amp;&amp; keyword !== "" ?<br/>                    (&lt;Loading /&gt;) :<br/>                    (&lt;div&gt;&lt;SearchResult value={result}/&gt;&lt;/div&gt;)<br/>                }<br/><br/>            &lt;/div&gt;<br/>        );<br/>}</span></pre><h2 id="405a" class="ol lf it bd lg or os dn lk ot ou dp lo kr ov ow ls kv ox oy lw kz oz pa ma pb bi translated">HTTP Post Webå®¢æˆ·ç«¯</h2><p id="f208" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">é™¤äº†ä½¿ç”¨Apolloå®¢æˆ·ç«¯å¸®åŠ©è·å–GraphQLç»“æœï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ä¼ ç»Ÿçš„HTTP Postï¼Œæ­£å¦‚åœ¨https://graphql.org/learn/serving-over-http/ä¸­æåˆ°çš„</p><p id="aeba" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç®€è€Œè¨€ä¹‹ï¼Œè¿™æ˜¯ä¸€ä¸ªpostè¯·æ±‚ï¼ŒJSONä¸»ä½“ä¸º:</p><pre class="mi mj mk ml gt oh nl oi oj aw ok bi"><span id="9ff8" class="ol lf it nl b gy om on l oo op">{<br/>  "query": "...",<br/>  "operationName": "...",<br/>  "variables": { "myVariable": "someValue", ... }<br/>}</span></pre><p id="53df" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ‰€ä»¥å¯¹äºæˆ‘ä»¬çš„æŸ¥è¯¢ï¼Œæˆ‘ä»¬åšå¦‚ä¸‹:</p><pre class="mi mj mk ml gt oh nl oi oj aw ok bi"><span id="bb49" class="ol lf it nl b gy om on l oo op">const query = `<br/>query GetWikicountByKeyword($keyword: String!) {<br/>    wikiCount<br/>        (keyword: $keyword) {<br/>            keyword <br/>            totalhits<br/>        } <br/>}`</span><span id="840e" class="ol lf it nl b gy ph on l oo op">// and </span><span id="3344" class="ol lf it nl b gy ph on l oo op">const body = {<br/>    query: query,<br/>    variables : { keyword }<br/>};</span></pre><p id="0ad0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘è¿˜ä½¿ç”¨Reacté’©å­æ–¹æ³•æŒ‰ç…§ä¸­çš„æŒ‡å¯¼æ‰§è¡Œè·å–</p><div class="mo mp gp gr mq mr"><a href="https://www.robinwieruch.de/react-hooks-fetch-data" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd iu gy z fp mw fr fs mx fu fw is bi translated">å¦‚ä½•ç”¨Reacté’©å­å–æ•°æ®ï¼Ÿ- RWieruch</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘æƒ³å‘æ‚¨å±•ç¤ºå¦‚ä½•é€šè¿‡ä½¿ç”¨çŠ¶æ€å’Œæ•ˆæœæŒ‚é’©åœ¨React with Hooksä¸­è·å–æ•°æ®ã€‚æˆ‘ä»¬ä¼šâ€¦</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">www.robinwieruch.de</p></div></div><div class="na l"><div class="pi l nc nd ne na nf jz mr"/></div></div></a></div><h1 id="0885" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">Androidå®¢æˆ·ç«¯</h1><p id="209c" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">è®©æˆ‘ä»¬ç»§ç»­ç§»åŠ¨å®¢æˆ·ç«¯ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹Androidã€‚</p><p id="395b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Androidä¹Ÿæœ‰ä¸¤ç§æ–¹æ³•ï¼Œ1 .HTTP Postæ–¹æ³•ï¼›2.Apollo GraphQLåº“æ–¹æ³•ã€‚</p><blockquote class="nm nn no"><p id="7fd1" class="kg kh nh ki b kj kk kl km kn ko kp kq np ks kt ku nq kw kx ky nr la lb lc ld im bi translated">ä½†æ˜¯é¦–å…ˆï¼Œè¦ä½¿ç”¨å®ƒï¼Œæ‚¨éœ€è¦å°†<code class="fe ni nj nk nl b"><a class="ae kf" href="http://ENTER_YOUR_HOST_HERE:4000" rel="noopener ugc nofollow" target="_blank"><em class="it">ENTER_YOUR_HOST_HERE</em></a></code>æ›´æ”¹ä¸ºæ‚¨çš„æœ¬åœ°ä¸»æœºIPã€‚æ‚¨å¯ä»¥åœ¨ç»ˆç«¯ä¸Šä½¿ç”¨<code class="fe ni nj nk nl b"><em class="it">ifconfig</em></code>å‘½ä»¤æ‰¾åˆ°å®ƒã€‚</p></blockquote><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div class="gh gi pj"><img src="../Images/da53566c2d59622eb967d530f59d7003.png" data-original-src="https://miro.medium.com/v2/resize:fit:1060/format:webp/1*JJWVFE4PnqZzrtfhmKK6aw.png"/></div></figure><h2 id="e014" class="ol lf it bd lg or os dn lk ot ou dp lo kr ov ow ls kv ox oy lw kz oz pa ma pb bi translated">HTTP Post Androidå®¢æˆ·ç«¯</h2><p id="34ff" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">æˆ‘æŒ‡çš„æ˜¯åŸºæœ¬ç½‘ç»œ(æ£€æŸ¥Androidç«¯)</p><div class="mo mp gp gr mq mr"><a href="https://medium.com/better-programming/learn-ios-android-networking-e19808f554a7" rel="noopener follow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd iu gy z fp mw fr fs mx fu fw is bi translated">å­¦ä¹ iOS/Android:ç½‘ç»œ</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">æ¢ç´¢Alamofire (iOS)å’ŒokHttp (Android)</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">medium.com</p></div></div><div class="na l"><div class="pk l nc nd ne na nf jz mr"/></div></div></a></div><p id="1203" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¸æ•™ç¨‹çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œæˆ‘æ‰§è¡Œçš„æ˜¯POSTè€Œä¸æ˜¯GETã€‚</p><p id="1549" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘å½¢æˆå¦‚ä¸‹çš„æŸ¥è¯¢:</p><pre class="mi mj mk ml gt oh nl oi oj aw ok bi"><span id="9c7c" class="ol lf it nl b gy om on l oo op">companion object {<br/>    private val queryString = """<br/>        query GetWikicountByKeyword(${"$"}keyword: String!){ <br/>            wikiCount(keyword: ${"$"}keyword) {<br/>                keyword <br/>                totalhits<br/>            }<br/>        }<br/>        """.<em class="nh">trimIndent</em>().<em class="nh">replace</em>("\n", "")<br/>}</span></pre><p id="ad54" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç„¶åæˆ‘æ‰‹åŠ¨åˆ›å»ºè¦å‘å¸ƒçš„JSONä¸»ä½“ã€‚æ³¨æ„ï¼Œæˆ‘å°†è¯·æ±‚å’Œæ ‡é¢˜éƒ½è®¾ç½®ä¸º<code class="fe ni nj nk nl b">application/json</code>ã€‚</p><pre class="mi mj mk ml gt oh nl oi oj aw ok bi"><span id="0fe9" class="ol lf it nl b gy om on l oo op">val params = HashMap&lt;String, String&gt;()<br/><strong class="nl iu">params["query"] = queryString<br/>params["variables"] = "{\"keyword\": \"${searchText}\"}"</strong><br/>val body = JSONObject(params)<br/>    .toString().<em class="nh">toRequestBody</em>(<strong class="nl iu">"application/json; charset=utf-8"</strong>.<em class="nh">toMediaType</em>())<br/><br/>val httpUrl = httpUrlBuilder.build()<br/>val request = Request.Builder()<br/>    .header(<strong class="nl iu">"Content-Type", "application/json"</strong>)<br/>    .url(httpUrl)<br/>    .post(body)<br/>    .build()<br/>val response = httpClient.newCall(request).execute()</span></pre><blockquote class="nm nn no"><p id="f9cb" class="kg kh nh ki b kj kk kl km kn ko kp kq np ks kt ku nq kw kx ky nr la lb lc ld im bi translated">æ³¨æ„:å¯¹äºä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä½¿ç”¨äº†<code class="fe ni nj nk nl b">â€˜com.squareup.okhttp3:okhttp:4.2.2â€™</code>ï¼Œå®ƒåœ¨è®¾ç½®ç±»å‹ç­‰æ–¹é¢æœ‰æ•´æ´çš„Kotlinæ‰©å±•å‡½æ•°ã€‚</p></blockquote><h2 id="4618" class="ol lf it bd lg or os dn lk ot ou dp lo kr ov ow ls kv ox oy lw kz oz pa ma pb bi translated">é˜¿æ³¢ç½—å®‰å“å®¢æˆ·ç«¯</h2><p id="fbb3" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">è¿™æ˜¯é€šè¿‡æŒ‰ç…§ä¸­çš„æ­¥éª¤å®Œæˆçš„</p><div class="mo mp gp gr mq mr"><a href="https://www.apollographql.com/docs/android/essentials/get-started/" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd iu gy z fp mw fr fs mx fu fw is bi translated">å¼€å§‹</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">Apollo-Androidæ˜¯ä¸€ä¸ªç¬¦åˆGraphQLçš„å®¢æˆ·æœºï¼Œå®ƒä»æ ‡å‡†çš„GraphQLæŸ¥è¯¢ç”ŸæˆJavaæ¨¡å‹ã€‚è¿™äº›æ¨¡å‹â€¦</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">www.apollographql.com</p></div></div><div class="na l"><div class="pl l nc nd ne na nf jz mr"/></div></div></a></div><p id="f2d3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è®©æˆ‘åœ¨ä¸‹é¢é™ˆè¿°å‡ ä¸ªé‡è¦çš„æ­¥éª¤ã€‚</p><p id="cd0c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">å‡†å¤‡æ¨¡å¼å’ŒGraphQLæ–‡ä»¶</strong></p><p id="6e6e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¸ºäº†è®©Apolloå®¢æˆ·ç«¯å·¥ä½œï¼Œæˆ‘ä»¬éœ€è¦<em class="nh">æ¨¡å¼</em>å’Œ<em class="nh"> graphqlæ–‡ä»¶</em>ç”¨äºç¨åçš„è‡ªåŠ¨ä»£ç ç”Ÿæˆã€‚</p><p id="aafe" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è¦æœ‰ä¸€ä¸ª<em class="nh"> schema.json </em>æ–‡ä»¶ï¼Œæ‚¨éœ€è¦æœ‰ä¸€ä¸ª<code class="fe ni nj nk nl b"><a class="ae kf" href="https://github.com/apollographql/apollo-tooling#usage" rel="noopener ugc nofollow" target="_blank">apollo-codegen</a></code>ï¼Œå®ƒå¯ä»¥ä½¿ç”¨å‘½ä»¤è·å¾—ã€‚</p><pre class="mi mj mk ml gt oh nl oi oj aw ok bi"><span id="2948" class="ol lf it nl b gy om on l oo op">yarn global add apollo</span></pre><blockquote class="nm nn no"><p id="0c48" class="kg kh nh ki b kj kk kl km kn ko kp kq np ks kt ku nq kw kx ky nr la lb lc ld im bi translated">å¦‚æœä½ æƒ³äº†è§£<em class="it">çº±çº¿</em>çš„è¯ï¼Œå¯ä»¥çœ‹çœ‹è¿™ä¸ªåšå®¢</p></blockquote><p id="3db8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¹‹åï¼Œä½ çš„æœºå™¨ä¸Šåº”è¯¥æœ‰<code class="fe ni nj nk nl b">apollo</code>å¯ä»¥ä½¿ç”¨ã€‚</p><p id="7556" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç„¶ååªéœ€è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼Œä»æˆ‘ä»¬çš„æœåŠ¡å™¨ä¸­æå–å‡º<em class="nh"> schema.json </em>ã€‚å®ƒåŸºæœ¬ä¸Šæ˜¯æˆ‘ä»¬åœ¨æœåŠ¡å™¨ä¸­å®šä¹‰çš„æ¨¡å¼çš„JSONæ ¼å¼ã€‚</p><pre class="mi mj mk ml gt oh nl oi oj aw ok bi"><span id="efea" class="ol lf it nl b gy om on l oo op">apollo schema:download â€” endpoint=http://localhost:4000 schema.json</span></pre><p id="700d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç°åœ¨ï¼Œæ‰‹åŠ¨åˆ›å»ºæ‰€æœ‰æŸ¥è¯¢GraphQLæ–‡ä»¶ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åªæœ‰ä¸€ä¸ªã€‚</p><pre class="mi mj mk ml gt oh nl oi oj aw ok bi"><span id="25d5" class="ol lf it nl b gy om on l oo op">query GetWikicountByKeyword($keyword: String!){<br/>    wikiCount(keyword: $keyword) {<br/>        keyword<br/>        totalhits<br/>    }<br/>}</span></pre><p id="8834" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æŠŠå®ƒä»¬æ”¾åœ¨ä¸‹é¢çš„æ–‡ä»¶å¤¹é‡Œã€‚</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pm"><img src="../Images/cffabb221dce390442d7a014e37797a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VnFw6oZjdgqWkmuvR5qZHg.png"/></div></div></figure><p id="05e7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">è®¾ç½®ä»£ç è‡ªåŠ¨ç”Ÿæˆä¾èµ–å…³ç³»</strong></p><p id="d3be" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¹‹åï¼Œæ·»åŠ ä¸‹é¢çš„<strong class="ki iu">é¡¹ç›®</strong><strong class="ki iu"><em class="nh">build . gradle</em></strong></p><pre class="mi mj mk ml gt oh nl oi oj aw ok bi"><span id="6601" class="ol lf it nl b gy om on l oo op">classpath 'com.apollographql.apollo:apollo-gradle-plugin:1.0.0'</span></pre><p id="4d8a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç„¶ååœ¨<strong class="ki iu">app</strong><strong class="ki iu"><em class="nh">build . gradle</em></strong>çš„å¤´éƒ¨åˆ†æ·»åŠ ä»¥ä¸‹å†…å®¹</p><pre class="mi mj mk ml gt oh nl oi oj aw ok bi"><span id="3740" class="ol lf it nl b gy om on l oo op">apply plugin: 'com.apollographql.android'</span></pre><blockquote class="nm nn no"><p id="b299" class="kg kh nh ki b kj kk kl km kn ko kp kq np ks kt ku nq kw kx ky nr la lb lc ld im bi translated">è¿™ä¸¤ä¸ªå·¥å…·å°†å…è®¸åŸºäºgraphqlæŸ¥è¯¢å’Œæ¨¡å¼è‡ªåŠ¨ç”Ÿæˆç‰¹å®šçš„apolloæŸ¥è¯¢ä»£ç ã€‚å®ƒå°†åœ¨<em class="it">app/build/generated/source/Apollo/class</em>æ–‡ä»¶å¤¹ä¸­ç”Ÿæˆã€‚</p></blockquote><p id="25ce" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">è®¾ç½®åº“ä¾èµ–å…³ç³»</strong></p><p id="62c4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç°åœ¨å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°æ‚¨çš„<strong class="ki iu">åº”ç”¨ç¨‹åº<em class="nh">build . gradle</em>T12ã€‘</strong></p><pre class="mi mj mk ml gt oh nl oi oj aw ok bi"><span id="671f" class="ol lf it nl b gy om on l oo op">implementation 'com.apollographql.apollo:apollo-runtime:1.0.0'<br/>implementation "com.apollographql.apollo:apollo-android-support:1.0.0"</span></pre><p id="99a5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ‰§è¡ŒåŒæ­¥ï¼Œæ‚¨å°±å¯ä»¥å¼€å§‹ç¼–ç äº†ã€‚</p><p id="b87d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">æå–å™¨ä»£ç </strong></p><p id="ea42" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">é¦–å…ˆï¼Œè®©æˆ‘ä»¬ä»<em class="nh"> OkHttp </em>åˆ›å»ºç½‘ç»œå®¢æˆ·ç«¯ï¼Œå¹¶è®¾ç½®<em class="nh"> ApolloClient </em>ã€‚</p><pre class="mi mj mk ml gt oh nl oi oj aw ok bi"><span id="9d1d" class="ol lf it nl b gy om on l oo op">object ApolloConnector {<br/>    private const val SERVER_URL = "http://ENTER_HOST_HERE:4000"<br/>    fun setupApollo(): ApolloClient {<br/>        val okHttpClient = OkHttpClient.Builder().build()<br/>        return ApolloClient.builder()<br/>           .serverUrl(BASE_URL).okHttpClient(okHttpClient).build()<br/>    }<br/>}</span></pre><p id="c232" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç„¶ååœ¨ä»£ç çš„è·å–éƒ¨åˆ†ï¼Œè®¾ç½®è‡ªåŠ¨ç”Ÿæˆçš„ç±»<code class="fe ni nj nk nl b">GetWikicountByKeywordQuery</code>ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚ç„¶åæ£€ç´¢ç»“æœæˆ–æå–é”™è¯¯æ¶ˆæ¯ã€‚</p><pre class="mi mj mk ml gt oh nl oi oj aw ok bi"><span id="502a" class="ol lf it nl b gy om on l oo op">ApolloConnector.setupApollo().query(<br/>    // Autogenerated Query Class<br/><strong class="nl iu">    GetWikicountByKeywordQuery<br/>        .builder()<br/>        .keyword(keyword)<br/>        .build()</strong><br/>)<br/>    .enqueue(object : ApolloCall.Callback&lt;<strong class="nl iu">GetWikicountByKeywordQuery</strong>.Data&gt;() {<br/>        override fun onResponse(response: <br/>            Response&lt;<strong class="nl iu">GetWikicountByKeywordQuery</strong>.Data&gt;) {<br/>            response.data()?.wikiCount?.<em class="nh">run </em><strong class="nl iu">{<br/>                </strong>showApolloResult("${keyword()}:${totalhits()}")<br/>            <strong class="nl iu">} </strong>?: showApolloResult("No Result")<br/>        }<br/><br/>        override fun onFailure(e: ApolloException) {<br/>            showApolloResult(e.<em class="nh">localizedMessage</em>)<br/>        }<br/>    })</span></pre><h1 id="49d1" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">iOSå®¢æˆ·ç«¯</h1><p id="d2c5" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">ç°åœ¨æˆ‘ä»¬æ¥çœ‹çœ‹iOSã€‚ä¸Webå®¢æˆ·ç«¯å’ŒAndroidå®¢æˆ·ç«¯ç±»ä¼¼ï¼ŒiOSä¹Ÿæœ‰ä¸¤ç§æ–¹æ³•ï¼Œ1ã€‚é˜¿æ³¢ç½—GraphQLåº“æ–¹æ³•:2.HTTP Postæ–¹æ³•</p><blockquote class="nm nn no"><p id="1f28" class="kg kh nh ki b kj kk kl km kn ko kp kq np ks kt ku nq kw kx ky nr la lb lc ld im bi translated">ä½†æ˜¯é¦–å…ˆï¼Œè¦ä½¿ç”¨å®ƒï¼Œæ‚¨éœ€è¦å°†<code class="fe ni nj nk nl b"><a class="ae kf" href="http://ENTER_YOUR_HOST_HERE:4000" rel="noopener ugc nofollow" target="_blank"><em class="it">ENTER_YOUR_HOST_HERE</em></a></code>æ›´æ”¹ä¸ºæ‚¨çš„æœ¬åœ°ä¸»æœºIPã€‚ä½ å¯ä»¥åœ¨ä½ çš„ç»ˆç«¯ä¸Šä½¿ç”¨<code class="fe ni nj nk nl b"><em class="it">ifconfig</em></code>å‘½ä»¤æ‰¾åˆ°å®ƒã€‚</p></blockquote><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/13ff8c2c03f5fdfeb1ae9e7659e46ef3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*xjbcKRYwm9IweURxc5RunA.png"/></div></figure><h2 id="2c69" class="ol lf it bd lg or os dn lk ot ou dp lo kr ov ow ls kv ox oy lw kz oz pa ma pb bi translated">HTTP Post Androidå®¢æˆ·ç«¯</h2><p id="bfd9" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">æˆ‘æŒ‡çš„æ˜¯åŸºæœ¬ç½‘ç»œ(æŸ¥çœ‹iOSç«¯)</p><div class="mo mp gp gr mq mr"><a href="https://medium.com/better-programming/learn-ios-android-networking-e19808f554a7" rel="noopener follow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd iu gy z fp mw fr fs mx fu fw is bi translated">å­¦ä¹ iOS/Android:ç½‘ç»œ</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">æ¢ç´¢Alamofire (iOS)å’ŒokHttp (Android)</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">medium.com</p></div></div><div class="na l"><div class="pk l nc nd ne na nf jz mr"/></div></div></a></div><p id="7053" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¸æ•™ç¨‹çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œæˆ‘æ‰§è¡Œçš„æ˜¯POSTè€Œä¸æ˜¯GETã€‚</p><p id="da1d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘åªéœ€è¦è®¾ç½®éœ€è¦çš„JSONæŸ¥è¯¢ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><pre class="mi mj mk ml gt oh nl oi oj aw ok bi"><span id="a520" class="ol lf it nl b gy om on l oo op">let search = """<br/>    query GetWikicountByKeyword($keyword: String!)<br/>    { wikiCount<br/>        (keyword: $keyword) {<br/>          keyword<br/>          totalhits<br/>        }<br/>    }<br/>    """</span><span id="cab3" class="ol lf it nl b gy ph on l oo op">let parameters: Parameters = [<br/>      "query": search,<br/>      "variables": "{ \"keyword\": \"\(searchText)\" }"<br/>    ]</span></pre><p id="2f2e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç„¶åæ‰§è¡Œæ­£å¸¸çš„æå–ï¼Œå¦‚ä¸‹æ‰€ç¤º</p><pre class="mi mj mk ml gt oh nl oi oj aw ok bi"><span id="6803" class="ol lf it nl b gy om on l oo op">request = Alamofire.SessionManager.default.request(<br/>      ViewController.baseUrl, method: .post, <br/>           parameters: parameters, encoding: JSONEncoding.default)<br/>      .responseData { (resData) -&gt; Void in<br/>        self.view.stopLoading()</span><span id="c51b" class="ol lf it nl b gy ph on l oo op">switch (resData.result) {<br/>        case let .success(data):<br/>          let swiftyJsonVar = JSON(data)<br/>          let countObj = <br/>            swiftyJsonVar["data"]["wikiCount"]["totalhits"]<br/>          let keywordObj = <br/>            swiftyJsonVar["data"]["wikiCount"]["keyword"]<br/>          guard<br/>            let count = countObj.rawValue as? String,<br/>            let keyword = keywordObj.rawValue as? String,<br/>            count.isNumber<br/>            else {<br/>              self.view.showResult(data: "No data found")<br/>              return<br/>          }<br/>          self.view.showResult(data: "\(keyword):\(count)")<br/>        case let .failure(error):<br/>          self.view.showResult(data: error.localizedDescription)<br/>        }<br/>    }</span></pre><h2 id="c2ea" class="ol lf it bd lg or os dn lk ot ou dp lo kr ov ow ls kv ox oy lw kz oz pa ma pb bi translated">é˜¿æ³¢ç½—iOSå®¢æˆ·ç«¯</h2><p id="24b2" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">ä½¿ç”¨Apollo iOSå®¢æˆ·ç«¯çš„ä¸»è¦å‚è€ƒæ˜¯ä½¿ç”¨ä¸‹é¢çš„ã€‚æˆ‘ä½¿ç”¨Cocoapodä¾èµ–ç®¡ç†ç³»ç»Ÿé“¾æ¥åˆ°è¿™ä¸ªåº“ã€‚</p><blockquote class="nm nn no"><p id="a5e1" class="kg kh nh ki b kj kk kl km kn ko kp kq np ks kt ku nq kw kx ky nr la lb lc ld im bi translated">å‚è€ƒ<a class="ae kf" href="https://medium.com/@elye.project/learn-ios-android-dependency-management-5893300342d0" rel="noopener">è¿™ç¯‡åšå®¢</a>äº†è§£æ›´å¤šå…³äº<em class="it">æ¤°å­çš„ç»†èŠ‚</em>ã€‚</p></blockquote><div class="mo mp gp gr mq mr"><a href="https://www.apollographql.com/docs/ios/installation/" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd iu gy z fp mw fr fs mx fu fw is bi translated">è£…ç½®</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">Apollo iOSéœ€è¦æœ€æ–°çš„Xcodeï¼Œå¯ä»¥ä»Mac App Storeå®‰è£…ã€‚</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">www.apollographql.com</p></div></div><div class="na l"><div class="po l nc nd ne na nf jz mr"/></div></div></a></div><p id="6fdc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åƒåœ¨Androidä¸­ä¸€æ ·ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦æœ‰<em class="nh"> schema.json </em>å’Œå„è‡ªçš„<em class="nh"> GraphQLæŸ¥è¯¢</em>ã€‚æˆ‘ä»¬æŒ‰ç…§Androidéƒ¨åˆ†çš„<strong class="ki iu">å‡†å¤‡æ¨¡å¼å’ŒGraphQLæ–‡ä»¶<em class="nh"> </em> </strong>ä¸€èŠ‚ä¸­çš„æè¿°æ¥ç”Ÿæˆå®ƒä»¬ã€‚ä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬æŠŠå®ƒä»¬å’Œä¸»ä»£ç æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹é‡Œã€‚</p><p id="fa6f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">è®¾ç½®ä»£ç è‡ªåŠ¨ç”Ÿæˆä¾èµ–å…³ç³»</strong></p><p id="6889" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¸ºäº†ä½¿ç”¨<em class="nh"> schema.json </em>å’Œç›¸åº”çš„<em class="nh"> GraphQLæŸ¥è¯¢</em>æ¥ç”Ÿæˆæ‰€éœ€çš„ä»£ç ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ„å»ºé˜¶æ®µæ·»åŠ ä»¥ä¸‹å†…å®¹</p><pre class="mi mj mk ml gt oh nl oi oj aw ok bi"><span id="ba4d" class="ol lf it nl b gy om on l oo op">SCRIPT_PATH="${PODS_ROOT}/Apollo/scripts"</span><span id="ad43" class="ol lf it nl b gy ph on l oo op"><strong class="nl iu">cd</strong> "${SRCROOT}/${TARGET_NAME}"</span><span id="6b82" class="ol lf it nl b gy ph on l oo op">"${SCRIPT_PATH}"/run-bundled-codegen.sh codegen:generate --target=swift --includes=./**/*.graphql</span></pre><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pp"><img src="../Images/e6d52f729856a45d0824f71fbc7ba07d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pqp6qZGzS8EmtHDT7jf57A.png"/></div></div></figure><p id="531a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æœ‰äº†è¿™ä¸ªï¼Œå½“ç¼–è¯‘å¼€å§‹æ—¶ï¼Œå®ƒå°†ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶å<code class="fe ni nj nk nl b">API.swift</code>ï¼Œå…¶ä¸­å®šä¹‰äº†ç±»<code class="fe ni nj nk nl b">GetWikicountByKeywordQuery</code>ã€‚</p><p id="d696" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">æå–å™¨ä»£ç </strong></p><p id="96ac" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æœ‰äº†ç”Ÿæˆçš„ä»£ç ï¼Œç°åœ¨æ‚¨å¯ä»¥æ‰§è¡Œå¦‚ä¸‹æŠ“å–</p><pre class="mi mj mk ml gt oh nl oi oj aw ok bi"><span id="1493" class="ol lf it nl b gy om on l oo op">private let view: MainView<br/>  private let apollo = ApolloClient(url: URL(string: ViewController.baseUrl)!)<br/>  private var watcher: <br/>     <strong class="nl iu">GraphQLQueryWatcher</strong>&lt;<strong class="nl iu">GetWikicountByKeywordQuery</strong>&gt;?</span><span id="2640" class="ol lf it nl b gy ph on l oo op">init(view: MainView) {<br/>    self.view = view<br/>  }</span><span id="32ac" class="ol lf it nl b gy ph on l oo op">func fetchData(searchText: String) {<br/>    watcher = <strong class="nl iu">apollo.watch</strong>(query: <br/>      <strong class="nl iu">GetWikicountByKeywordQuery</strong>(keyword: searchText)) { result in<br/>      self.view.stopLoading()<br/>      switch result {<br/>      case .success(let graphQLResult):<br/>        guard<br/>          let count = graphQLResult.data?.wikiCount?.totalhits,<br/>          let keyword = graphQLResult.data?.wikiCount?.keyword,<br/>          count.isNumber<br/>          else {<br/>            self.showResult(data: "No data found")<br/>            return<br/>        }<br/>        self.showResult(data: "\(keyword):\(count)")<br/>      case .failure(let error):<br/>        self.showResult(data: error.localizedDescription)<br/>      }<br/>    }<br/>  }</span></pre><h1 id="4599" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">ä¸€ä¸ªç³»ç»Ÿå¯åŠ¨äº†ï¼</h1><p id="ae66" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">å°±æ˜¯è¿™æ ·ã€‚ç°åœ¨ä½ æœ‰äº†ä¸€ä¸ªå®Œæ•´çš„ç³»ç»Ÿã€‚</p><p id="a50e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨Apolloå®¢æˆ·ç«¯(ç”¨äºiOSã€Androidå’ŒWeb)ï¼Œå®ƒå·²ç»å†…ç½®äº†ç¼“å­˜æœºåˆ¶ã€‚å› æ­¤ç›¸åŒçš„è·å–ä¸ä¼šå†æ¬¡å‘é€è¯·æ±‚ã€‚ç„¶è€Œï¼Œè¿™ç§æ–¹æ³•ä¾èµ–äºGraphQLåº“ã€‚</p><p id="8877" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åŸç”ŸHTTP POSTè¯·æ±‚æ›´åŠ ä¼ ç»Ÿï¼Œå°½ç®¡æˆ‘æä¾›çš„ä¾‹å­æ²¡æœ‰ç¼“å­˜æœºåˆ¶ã€‚</p><p id="11e3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ³¨æ„ï¼Œè¿™äº›æ˜¯å»ºç«‹ä¸€ä¸ªå®Œæ•´ç³»ç»Ÿçš„åŸºç¡€ã€‚è¯·å‚è€ƒç›¸åº”çš„ç«™ç‚¹å’ŒåŸŸï¼Œäº†è§£å®ƒæä¾›çš„æ›´å¤šé«˜çº§åŠŸèƒ½ã€‚</p></div><div class="ab cl pq pr hx ps" role="separator"><span class="pt bw bk pu pv pw"/><span class="pt bw bk pu pv pw"/><span class="pt bw bk pu pv"/></div><div class="im in io ip iq"><p id="235a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘å¸Œæœ›è¿™ç»™ä½ ä¸€ä¸ªå¥½çš„å¼€å§‹ã€‚æˆ‘è¦æ„Ÿè°¢<a class="px py ep" href="https://medium.com/u/22ad527b5a1a?source=post_page-----cb74d2c400fe--------------------------------" rel="noopener" target="_blank"> Frank Tan </a>ï¼Œä»–æœ€åˆè®©æˆ‘æ¥è§¦äº†é˜¿æ³¢ç½—å›¾ä¹¦é¦†ï¼Œå¹¶é˜è¿°äº†æˆ‘åœ¨è¿™ä¸€é¢†åŸŸçš„å­¦ä¹ ã€‚</p><p id="4f1a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ„Ÿè°¢é˜…è¯»ã€‚ä½ å¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹æˆ‘çš„å…¶ä»–è¯é¢˜<a class="ae kf" href="https://medium.com/@elye.project/" rel="noopener"/>ã€‚</p><p id="fc93" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å…³æ³¨æˆ‘çš„<a class="ae kf" href="https://medium.com/@elye.project" rel="noopener"> <em class="nh">ä¸­çš„</em> </a> <em class="nh">ï¼Œ</em> <a class="ae kf" href="https://twitter.com/elye_project" rel="noopener ugc nofollow" target="_blank"> <em class="nh">æ¨ç‰¹</em> </a> <em class="nh">ï¼Œ</em> <a class="ae kf" href="https://www.facebook.com/elyeproj/" rel="noopener ugc nofollow" target="_blank"> <em class="nh">è„¸ä¹¦</em> </a>æˆ–<a class="ae kf" href="https://www.reddit.com/user/elyeproj/" rel="noopener ugc nofollow" target="_blank"> <em class="nh"> Reddit </em> </a>è·å–å…³äºç§»åŠ¨å¼€å‘ç­‰ç›¸å…³è¯é¢˜çš„å°æŠ€å·§å’Œå­¦ä¹ ã€‚~Elye~</p><figure class="mi mj mk ml gt ju"><div class="bz fp l di"><div class="pz qa l"/></div></figure></div></div>    
</body>
</html>