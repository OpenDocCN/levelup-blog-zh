# 你不需要搜索引擎

> 原文：<https://levelup.gitconnected.com/you-dont-need-a-search-engine-e788502c2473>

我们每天都在使用它们。当有人说“搜索引擎”时，很难不想到“谷歌”。我们只是“谷歌”一些东西，不管我们实际上是否使用 Bing 或 DuckDuckGo。这是关于什么是*搜索引擎*是*的流行观点。*

信不信由你，在我们有谷歌、Altavista 和 Lycos 之前，我们确实有搜索。在网络出现之前，有很多搜索解决方案。

![](img/c0d58d6ce9cd693fb2e9957e74e4f8d7.png)

由[尼古拉斯·皮卡德](https://unsplash.com/@artnok?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 拍摄的照片

如果你问一个构建网络服务的人关于搜索引擎的问题，他们可能会想到 Elasticsearch、Solr 或 Lucene。这些都是强大而流行的工具，用于为大量系统提供搜索功能。

他们都被称为*搜索引擎，*他们都自称为*搜索引擎。我认为他们是大众观点中技术含量高的一面，他们做得很好！*

> 值得指出的是，我这里说的是[全文搜索](https://www.google.com/search?q=full-text+search)。当下面使用术语**搜索**时，它意味着在搜索栏中键入一个文本短语来查找匹配的项目。

# 寻找是困难的

我已经开发软件系统很长时间了。他们中的大多数不需要搜索功能。然而，当工作在有搜索的地方时，*搜索*通常被认为是一个相当简单的附加功能。

从产品的角度来看事情很简单，因为每个人都“知道”搜索是如何工作的。从技术的角度来看很简单，因为，嗯，*“这能有多难？”。*

事实是，添加哪怕一点点搜索都很难。

![](img/feedd9e7b2a10f5e28dd939b44982072.png)

安东尼·马蒂诺在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片

## 产品方面

**PdM:** *作为一个网店客户，我希望能够搜索到产品，这样我就可以快速找到我想要的东西。*

**UX:** *太好了！我有几个问题来缩小范围*

*   *搜索是主界面吗？使用建议和浏览会减少点击次数。*
*   *搜索结果应该动态显示，还是点击确定完成搜索更好？*
*   在这种情况下，建议和自动完成功能会有所帮助还是会让人困惑？
*   *搜索结果应该包括缺货商品吗？这是在推动销售还是只是让人讨厌？*
*   *就性能而言，什么是可以接受的？*
*   *搜索词应该与产品名称、描述和关键词相匹配吗？*
*   *您对如何可视化结果有什么建议吗，比如突出显示匹配的术语等？*
*   …

## 技术方面

向产品添加搜索功能时，有三种主要途径可供考虑:

1.  在内部构建一些东西作为主存储的扩展。例如，使用现有 SQL 数据库的全文搜索功能。
2.  选择提供所需功能的服务，并与主存储集成。
3.  选择并运行现有的内部软件包，并与主存储集成。

然后，您需要添加实际的搜索字段，并将其连接到选定的解决方案。*主存储*是要搜索的数据所在的位置，通常是一个 SQL 数据库。

每条道路都有自己的利弊。

**如果要搜索的项目集很小，并且搜索不会使现有系统过载，那么路径 1** 可能非常有意义。不需要管理额外的服务器，等等

**途径 2** 在工作时间方面可能是最简单的解决方案，因为有人负责整个托管情况。尽管随着数据集的增长、负载的增加和正常运行时间的要求，这种方法的成本会非常高。

**途径 3** 可能是唯一可行的解决方案，如果你因为法规限制而不能使用服务的话。如果您需要不包含在任何服务中的特定调整，这也可能是唯一的途径。

# 还是那句话，什么是搜索引擎？

看看全文搜索引擎的技术方面，它们是什么，它们提供什么？

![](img/7a2bbed39aa56fa1f4c8cddbd1a421f9.png)

肖恩·奥尔登多夫在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片

近年来，全文搜索引擎有了惊人的发展。它们被用于网络搜索、网上商店、大型媒体目录、日志分析器等等。

因此，搜索引擎的预期功能增加了。现在，我们希望他们拥有或处理:

*   内容快速变化的庞大数据集
*   伟大的排名，最好是可定制的权重
*   多脚本、多语言词干和拼写纠正
*   高级查询语言，带有可嵌套的逻辑表达式，当然还有正则表达式
*   动态、可配置的文档结构，可在现场进行搜索
*   建议和自动完成
*   搜索后聚类和过滤
*   少量的机器学习可以使上述任何一种方法更好地适应特定的数据集或用户群
*   [前 30 名列表](https://www.google.com/search?q=top+30+programming+languages)中所有编程语言的客户端库

这个列表可以更长，但显示了搜索引擎目前拥有的广泛的好功能。这真是太棒了！

这很复杂。

# 但我只是想要一点点搜索！

仅仅为了给一个产品增加一点搜索，我就不得不学习和关心这么多东西，这让我感到疲惫和沮丧。我只需要在 ***中搜索一个 ***相对较小的数据集*** (500k-1M 项)一个语言*** 与 ***足够好的结果*** 并且能够随着我的产品的增长*解决方案。*

*我的用户不会使用复杂的查询表达式。*

*我没有兴趣花几天或几周的时间来解决如何托管搜索解决方案，配置一切，加载数据，并保持同步。*

*作为开始，我只想在我的本地开发机器上运行这个东西，看看它是如何工作的。*

*在承受了一段时间的挫折后，我决定走天真自大的道路，构建自己的全文搜索解决方案。*

*它不是一个搜索引擎。*

*![](img/90875918e2a88a3d04a7c57b5ad41151.png)*

*乔纳森·法伯在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片*

# *这是一个全文搜索的东西*

*我做了一个叫做 [Letarette](https://letarette.io) 的东西——一个易于设置和开始使用的搜索解决方案。*

*尽管它的功能还不完整，但它永远也不会有流行搜索引擎的一半功能。*

*Letarette 只需很少的设置就能提供全文搜索功能。您可以在开发笔记本电脑上从小处着手。如果对您有用，系统可以扩展为分布式解决方案，处理巨大的负载和数据集。*

*查询语言很简单，类似于大多数用户所习惯的语言。*

*它有一个固定的、基本的文档结构。将它连接到您的数据就像编写两个 SQL 查询一样简单。一旦连接上，Letarette 就会与您的数据保持同步。*

*它没有解决上面列出的所有 UX 挑战。然而，它会让你快速地从真实数据中学习。*

*Letarette 是一款开源软件，目前有 SQL、Go 和 Javascript 的客户端库。*

*而且，因为它不是一个搜索引擎，所以在试用之前，请确保这不是您所需要的！*

**[1]是的，我就是那么老！**

**[2]一种瑞典式的文字游戏，意思是“寻找”和“正确搜索”。这个小词尾暗示它是一件很小的东西。**