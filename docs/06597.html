<html>
<head>
<title>How I Created My First VS Code Extention</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何创建我的第一个VS代码扩展</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-i-created-my-first-vs-code-extention-66d7d5ff7fbe?source=collection_archive---------6-----------------------#2020-12-10">https://levelup.gitconnected.com/how-i-created-my-first-vs-code-extention-66d7d5ff7fbe?source=collection_archive---------6-----------------------#2020-12-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="e718" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">不要让任何事情阻止你个性化你最喜欢的代码编辑器！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/10eb8bd613efb0d1ebcac0b47cf9a85c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EunyZh9x1TI1WtGpO2hiew.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">天然气开关</figcaption></figure><blockquote class="lb"><p id="419b" class="lc ld iq bd le lf lg lh li lj lk kk dk translated">“自动化应用于低效率的操作会放大低效率。”——比尔·盖茨</p></blockquote><p id="33c7" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi lq translated">谈到编程，isual Studio Code可以说是世界上使用最多的文本编辑器！事实上，在<a class="ae lz" href="https://insights.stackoverflow.com/survey/2018#development-environments-and-tools" rel="noopener ugc nofollow" target="_blank"> 2018 </a>和<a class="ae lz" href="https://insights.stackoverflow.com/survey/2019#development-environments-and-tools" rel="noopener ugc nofollow" target="_blank"> 2019 </a> StackOverflow开发者调查中，VS Code被评为最受欢迎的开发者工具。它是轻量级的，易于导航，易于定制每个人都想要的代码编辑器。自2015年首次发布以来，这使得VS Code成为我们所有人的最爱。</p><p id="4277" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">VS Code还允许开发者创建所谓的<a class="ae lz" href="https://code.visualstudio.com/docs/introvideos/extend" rel="noopener ugc nofollow" target="_blank">扩展</a>,以确保来自技术领域各个角落的每个人都可以开发特定于他们的功能。我每天都在使用这些工具，这让我的开发者体验非常愉快。</p><h2 id="7809" class="ma mb iq bd mc md me dn mf mg mh dp mi jy mj mk ml kc mm mn mo kg mp mq mr ms bi translated">为什么要创建自定义扩展？</h2><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mt"><img src="../Images/13fa51816a4f015cdcf5987c5fac14cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QgMR6h_0FSh2N0UT"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">丹尼尔·萨尔西乌斯在<a class="ae lz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="c6d8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我已经问过自己一千次了，直到我不得不创造一个！</p><p id="b727" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">几乎所有明显的用例都有扩展。但是作为开发人员，我们的每个工作流程都是不同的。我们每个人的个人偏好都很广泛，把它们分成几个盒子可能并不总是管用。</p><p id="6c1a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">创建自定义扩展也是同样的原因。你或你的团队可能有一个独特的想法，你认为这将有利于你的工作流程。</p><h2 id="d57a" class="ma mb iq bd mc md me dn mf mg mh dp mi jy mj mk ml kc mm mn mo kg mp mq mr ms bi translated">对我来说，它是有棱角的</h2><p id="be66" class="pw-post-body-paragraph jn jo iq jp b jq mu js jt ju mv jw jx jy mw ka kb kc mx ke kf kg my ki kj kk ij bi translated">我每天都和Angular一起工作。Angular做得很好的一件事是开箱即用的模块化。使用Angular CLI创建的每个组件都会为您生成四个文件</p><ul class=""><li id="7f73" class="mz na iq jp b jq jr ju jv jy nb kc nc kg nd kk ne nf ng nh bi translated">组件。html(模板)</li><li id="6662" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk ne nf ng nh bi translated">组件。ts文件(控制器)</li><li id="67bc" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk ne nf ng nh bi translated">组件样式表文件</li><li id="5897" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk ne nf ng nh bi translated">组件。规格文件(单元测试)</li></ul><p id="d114" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我发现自己一次又一次地在这些文件之间切换。这些年来，我意识到我在这上面花费了相当多的时间。</p><p id="024e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个过程看起来像(从模板切换到控制器)</p><ol class=""><li id="e479" class="mz na iq jp b jq jr ju jv jy nb kc nc kg nd kk nn nf ng nh bi translated">打开边栏(Cmd+B)</li><li id="01eb" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk nn nf ng nh bi translated">使用触摸板导航到组件文件</li><li id="e436" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk nn nf ng nh bi translated">点击控制器文件</li><li id="4eed" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk nn nf ng nh bi translated">关闭侧边栏(Cmd+B)</li></ol><p id="d2bb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我在一个小时内重复这个20次，它开始变得令人抓狂。我非常需要一个键盘快捷键，但是互联网并没有太大的帮助。我发现它不可用，并立即开始创建一个。</p><h2 id="45dc" class="ma mb iq bd mc md me dn mf mg mh dp mi jy mj mk ml kc mm mn mo kg mp mq mr ms bi translated">让我们创建一个</h2><p id="1c41" class="pw-post-body-paragraph jn jo iq jp b jq mu js jt ju mv jw jx jy mw ka kb kc mx ke kf kg my ki kj kk ij bi translated">事不宜迟，让我们写一些代码。</p><p id="72cd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">搭建VS代码扩展的最简单和推荐的方法是使用<em class="no"> code yeoman generator。</em> <a class="ae lz" href="https://yeoman.io/" rel="noopener ugc nofollow" target="_blank">约曼</a>是一个项目脚手架工具。每个yeoman应用程序都被称为生成器，因为它通常根据配置命令生成文件。在我们的例子中，我们想使用名为<code class="fe np nq nr ns b">generator-code</code>的生成器。<br/>走吧！</p><pre class="km kn ko kp gt nt ns nu nv aw nw bi"><span id="ea15" class="ma mb iq ns b gy nx ny l nz oa">npm install -g yo generator-code</span></pre><blockquote class="ob oc od"><p id="8437" class="jn jo no jp b jq jr js jt ju jv jw jx oe jz ka kb of kd ke kf og kh ki kj kk ij bi translated"><code class="fe np nq nr ns b">yo</code>这里是约曼npm包，<code class="fe np nq nr ns b">generator-code</code>是约曼发电机包</p></blockquote><p id="e5db" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦你安装好了所有的东西，运行</p><pre class="km kn ko kp gt nt ns nu nv aw nw bi"><span id="aa6a" class="ma mb iq ns b gy nx ny l nz oa">yo code</span></pre><p id="9565" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为您搭建第一个VS代码扩展项目。约曼将提示您有关分机的更多信息。全部照着回答，这里有个例子。</p><pre class="km kn ko kp gt nt ns nu nv aw nw bi"><span id="efdf" class="ma mb iq ns b gy nx ny l nz oa">? What type of extension do you want to create? New Extension (TypeScript)<br/>? What's the name of your extension? ng-switch<br/>? What's the identifier of your extension? ng-switch<br/>? What's the description of your extension?<br/>? Initialize a git repository? Yes<br/>? Bundle the source code with webpack? Yes<br/>? Which package manager to use? npm</span></pre><blockquote class="ob oc od"><p id="59cd" class="jn jo no jp b jq jr js jt ju jv jw jx oe jz ka kb of kd ke kf og kh ki kj kk ij bi translated">如果你喜欢js胜过ts，使用<code class="fe np nq nr ns b"><em class="iq">New Extension (javaScript)</em></code></p></blockquote><p id="d199" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">项目工作环境将类似于</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/6df83b6dd340614c08bae5db5242bd69.png" data-original-src="https://miro.medium.com/v2/resize:fit:682/format:webp/1*MXxEGcRvYi7bU-2X35ozSQ.png"/></div></figure><p id="41b2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里有两个感兴趣的文件。</p><ol class=""><li id="325c" class="mz na iq jp b jq jr ju jv jy nb kc nc kg nd kk nn nf ng nh bi translated"><strong class="jp ir"> package.json </strong>事件是您希望使用扩展执行的任何操作。每个动作被称为一个<em class="no">命令</em>。</li><li id="542d" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk nn nf ng nh bi translated"><strong class="jp ir">src/extension . ts</strong><br/><em class="no">命令</em>注册在该文件中。一个<em class="no">命令</em>可以只是一个你想显示给用户的信息弹出窗口。</li></ol><p id="9d0b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以，简单来说，<em class="no">extension . ts</em>文件是写<em class="no">命令</em>的地方，而<em class="no"> package.json </em>包含了关于如何激活这些<em class="no">命令</em>的信息。</p><p id="f0a8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们退一步，把我们最初的目标联系起来。</p><p id="ce1f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们需要注册一个切换文件的<em class="no">命令</em>，并在键盘快捷键上激活它，比如说<code class="fe np nq nr ns b">Cmd+Y</code>。</p><p id="cf8a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们首先研究一下<em class="no">命令</em>的实现。下面是最小功能版本的样子。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="06c4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们正在注册一个命令，即<em class="no"> ng-switch.switch. </em></p><blockquote class="ob oc od"><p id="eb36" class="jn jo no jp b jq jr js jt ju jv jw jx oe jz ka kb of kd ke kf og kh ki kj kk ij bi translated"><code class="fe np nq nr ns b"><em class="iq">ng-switch</em></code>是我们扩展的唯一标识符，<code class="fe np nq nr ns b">switch</code> <em class="iq">是命令</em></p></blockquote><p id="99ee" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">激活此<em class="no">命令后，</em>将触发以下流程。</p><ol class=""><li id="f258" class="mz na iq jp b jq jr ju jv jy nb kc nc kg nd kk nn nf ng nh bi translated">获取打开文件的当前路径(component.ts文件或component.ts文件)</li><li id="6991" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk nn nf ng nh bi translated">交换文件名(<em class="no">)。html </em>到。<em class="no"> ts反之亦然)</em></li><li id="4096" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk nn nf ng nh bi translated">为文件路径生成VS代码URI</li><li id="ce7e" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk nn nf ng nh bi translated">使用URI打开文件</li></ol><p id="3bf5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">是的，就这么简单！</p><p id="ea14" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在剩下的唯一步骤是激活键盘快捷键按下事件上的这个<em class="no">命令</em>。</p><p id="723b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们导航到<em class="no"> package.json </em>文件并更新<em class="no"> contributes </em>条目，如下所示</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="d21d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="no">命令</em>数组可用于通过VS代码命令托盘(本例中为<em class="no">开关</em>)触发命令，并且<em class="no">键绑定</em>数组将包含激活<em class="no">命令的所有键盘快捷键。</em></p><p id="d6a0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这显然导致当用户按下<code class="fe np nq nr ns b">Cmd+Y</code>或<code class="fe np nq nr ns b">Ctrl+Alt+Y</code>时激活我们注册的命令(<em class="no">开关</em>)。</p><p id="2a1a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我迫不及待地想看到您将创建的所有惊人的扩展！</p><p id="341c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这里找到GitHub repo的完整源代码<a class="ae lz" href="https://github.com/BharathRavi27/code-ng-switch" rel="noopener ugc nofollow" target="_blank"/>。请随意创建问题、功能请求或拉动请求，以使其变得更好。</p><p id="0297" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你可以在这里了解所有关于向市场发布你的扩展的信息。</p></div><div class="ab cl ok ol hu om" role="separator"><span class="on bw bk oo op oq"/><span class="on bw bk oo op oq"/><span class="on bw bk oo op"/></div><div class="ij ik il im in"><p id="1f8c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">更多类似的文章👇</p><div class="or os gp gr ot ou"><a href="http://bharathravi.com/" rel="noopener  ugc nofollow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd ir gy z fp oz fr fs pa fu fw ip bi translated">Bharath Ravi | javaScript文章</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">有能力的文章来提升你的网络技能。javaScript全栈开发者Bharath Ravi的个人博客</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">bharathravi.com</p></div></div><div class="pd l"><div class="pe l pf pg ph pd pi kv ou"/></div></div></a></div><p id="d635" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在Twitter上找到我<a class="ae lz" href="https://twitter.com/_bharath_ravi" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="443e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">黑客快乐！</p></div></div>    
</body>
</html>