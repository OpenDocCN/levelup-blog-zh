<html>
<head>
<title>JavaScript Best Practices — Arrow Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript最佳实践—箭头函数</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/javascript-best-practices-arrow-functions-aefef2517f4?source=collection_archive---------15-----------------------#2020-05-24">https://levelup.gitconnected.com/javascript-best-practices-arrow-functions-aefef2517f4?source=collection_archive---------15-----------------------#2020-05-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/f2d680a48c1d9fd4abacab8722d4f5a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CMESW1pgOisuXpaj"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated"><a class="ae kf" href="https://unsplash.com/@davidclode?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">大卫·克洛德</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="b0c6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">JavaScript是一种非常宽容的语言。编写可以运行但有错误的代码很容易。</p><p id="a6c4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将看看如何以最简洁的方式定义和使用箭头函数。</p><h1 id="4146" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">如果一个表达式跨越多行，那么用括号把它括起来，使它更易读</h1><p id="9a32" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">如果我们有一个arrow函数，它有一个跨越多行的长JavaScript表达式，那么我们应该用括号将表达式括起来。</p><p id="fb25" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这适用于没有花括号的箭头函数。例如，如果我们的arrow函数返回一个对象，那么我们应该编写如下代码:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="0e7d" class="mq lf it mm b gy mr ms l mt mu">const foo = () =&gt; ({<br/>  a: 1<br/>})</span></pre><p id="28c8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们将对象表达式放在括号中，以便在调用<code class="fe mv mw mx mm b">foo</code>函数时可以返回对象。</p><p id="d274" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">将对象放在括号中让我们返回它，而不是把它当作函数体的花括号。</p><p id="192e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，我们应该用花括号将表达式括起来。</p><h1 id="b4f2" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">为了清晰和一致，请始终将参数括在括号中</h1><p id="3e7e" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">如果签名只有一个参数，箭头函数签名可以跳过括号。否则，我们必须包含括号。</p><p id="eca1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，即使我们可以跳过签名中的括号，我们也可能希望包含它们，以使我们的函数签名更加清晰，并使代码与其他函数定义保持一致。</p><p id="0ea3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们编写以下代码，在函数签名中包含括号:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="345e" class="mq lf it mm b gy mr ms l mt mu">const foo = (a) =&gt; a + 1</span></pre><h1 id="3829" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">避免混淆箭头函数语法(<code class="fe mv mw mx mm b">=&gt;</code>)和比较运算符(<code class="fe mv mw mx mm b">&lt;=</code>、<code class="fe mv mw mx mm b">&gt;=</code>)</h1><p id="8d48" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">arrow函数中的粗箭头看起来像比较运算符，因为它们都由等号和大于号或小于号组成。</p><p id="daec" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了使箭头函数更容易与比较表达式区分开来，我们应该在表达式两边加上括号。</p><p id="a832" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以为箭头函数编写以下代码:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="be50" class="mq lf it mm b gy mr ms l mt mu">const foo = (a) =&gt; (a &lt;= 1);</span></pre><p id="2e25" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们用括号将函数体和签名包装起来，这样我们就知道我们有一个箭头函数。</p><p id="5794" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从括号中，我们还可以清楚地看到，比较表达式是<code class="fe mv mw mx mm b">a &lt;= 1</code>。如果我们跳过括号，那么我们将很难区分函数代码和比较表达式。</p><p id="e002" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以如果我们有如下的东西:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="f6e3" class="mq lf it mm b gy mr ms l mt mu">const foo = a =&gt; a &lt;= 1;</span></pre><p id="8e3a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那么就很难分辨出函数箭头在哪里，比较箭头在哪里。</p><p id="19c8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于较长的函数，我们还应该用花括号来分隔函数体，如下所示:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="e221" class="mq lf it mm b gy mr ms l mt mu">const foo = (a) =&gt; {<br/>  return a &lt;= 1;<br/>}</span></pre><p id="be61" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们用花括号将函数体括起来，让每个人都清楚这就是函数体。</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi my"><img src="../Images/06ee68f669d882736a21f89fd87bd9c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qJxlCWeadgqDhpwV"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">泰勒·史密斯在Unsplash<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">拍摄的照片</a></figcaption></figure><h1 id="eece" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">使用隐式返回强制箭头函数体的位置</h1><p id="6ca6" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">对于箭头函数的隐式返回，我们必须保持返回的表达式的位置是一致的。它应该从箭头函数的第一行开始。</p><p id="5bbd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是，剩余的表达式可以在它下面的行中。例如，我们可以编写类似以下代码的函数:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="468b" class="mq lf it mm b gy mr ms l mt mu">const foo = (a) =&gt; a + 1;<br/>const bar = (a) =&gt; (a + 1);<br/>const baz = (a) =&gt; (<br/>  a + 1<br/>)</span></pre><p id="cd7c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们在第一行使用了隐式返回表达式。我们可以用几种方法把它放在第一行。</p><p id="d915" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们将返回的表达式放在括号中，那么我们可以将表达式移到第二行，就像在<code class="fe mv mw mx mm b">baz</code>函数中一样。</p><p id="c69a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，最重要的是保持我们在第一行返回的表达式的开头，如果添加了括号，就包括括号。</p><h1 id="fce0" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="8eb0" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">对于箭头函数，我们必须小心隐式返回。我们返回的表达式必须从第一行开始。</p><p id="aff0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们返回的表达式跨越多行，那么它必须用括号括起来。</p><p id="4792" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，为了避免与比较运算符(如大于或小于)混淆，我们应该将比较表达式括在括号中，或者如果我们有多行箭头函数，我们应该用花括号将整个内容括起来。</p></div></div>    
</body>
</html>