# æ— æœåŠ¡å™¨ç§æœ‰ APIs ç¬¬ 1 éƒ¨åˆ†ğŸš€

> åŸæ–‡ï¼š<https://levelup.gitconnected.com/serverless-private-apis-60749934b161>

![](img/53e62062478cac8d81fa4515382fb7dc.png)

é©¬åº“æ–¯Â·æ¸©å…‹å‹’åœ¨ [Unsplash](https://unsplash.com/s/photos/jigsaw?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) ä¸Šçš„ç…§ç‰‡

## å¦‚ä½•å…è®¸ç§æœ‰æ— æœåŠ¡å™¨å¹³å° API åœ¨æ‚¨çš„ç»„ç»‡å†…éƒ¨å®‰å…¨é€šä¿¡ï¼Œè€Œæ— éœ€ç©¿è¶Šå…¬å…±äº’è”ç½‘ã€‚åŒ…æ‹¬ç”¨ TypeScript å’Œ AWS CDK ç¼–å†™çš„è§†è§‰æ•ˆæœå’Œä»£ç åº“ã€‚

![](img/d19ae8680c35d118ea3ecd71723757a7.png)

# ä»‹ç»

å¾ˆå¤šæ—¶å€™ï¼Œåœ¨è®¾è®¡æ— æœåŠ¡å™¨è§£å†³æ–¹æ¡ˆæ—¶ï¼Œæ‚¨ä¼šå‘ç°æ‚¨æœ‰ä¸€ä¸ªå®‰å…¨çš„å†…éƒ¨å¹³å°ï¼Œç”±å¤šä¸ªåŸŸä½¿ç”¨ï¼Œå¹¶ä¸”æ²¡æœ‰å¿…è¦è®©æµå‘å®ƒçš„æµé‡ç©¿è¶Šå…¬å…±äº’è”ç½‘ã€‚é€šå¸¸ï¼Œè¿™å°†æ˜¯åŸŸæœåŠ¡ä¹‹é—´çš„æœºå™¨åˆ°æœºå™¨çš„æµã€‚æœ¬æ–‡å°†è®¨è®ºä¸€ç§ä½¿ç”¨ API ç½‘å…³ã€VPC ç«¯ç‚¹å’Œ Lambda çš„æ–¹æ³•ï¼Œä½¿ç”¨ AWS CDK éƒ¨ç½²ï¼Œä»£ç ç¤ºä¾‹å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°ã€‚

æœ‰å…³ä½¿ç”¨å®¢æˆ·ç«¯å‡­è¯æˆæƒæµçš„â€œ*æœºå™¨å¯¹æœºå™¨*â€æµçš„æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹è¿™ç¯‡å•ç‹¬çš„æ–‡ç« :

[](/serverless-api-to-api-authentication-d4cb4472721e) [## æ— æœåŠ¡å™¨ API åˆ° API è®¤è¯ğŸš€

### ä½¿ç”¨ OAuth2 å®¢æˆ·ç«¯å‡­è¯ä½¿ç”¨ Amazon Cognito éªŒè¯ API åˆ° API é›†æˆçš„å®ç”¨æŒ‡å—â€¦

levelup.gitconnected.com](/serverless-api-to-api-authentication-d4cb4472721e) 

è¿™ç¯‡æ–‡ç« çš„ç¬¬äºŒéƒ¨åˆ†å¯ä»¥åœ¨[è¿™é‡Œ](https://leejamesgilmore.medium.com/91fb9ab0c484)æ‰¾åˆ°ã€‚

## æˆ‘ä»¬è®¨è®ºçš„æ˜¯å“ªäº› API å±‚ï¼ŸğŸ’­

è®©æˆ‘ä»¬çœ‹çœ‹ä¸‹é¢çš„ä¾‹å­ï¼Œå±•ç¤ºäº†æˆ‘ä»¬çš„æ— æœåŠ¡å™¨æ¶æ„çš„å„ä¸ªå±‚:

![](img/4f78ecf7db946ad255320557e664144b.png)

åŸºäº**Andy Butcher(AO é¦–å¸­æ¶æ„å¸ˆ)**ä½œå“çš„å…¸å‹æ¶æ„å±‚

ä¸‹å›¾æ˜¾ç¤ºäº†:

1.  **UI å±‚**ã€‚è¿™æ˜¯å…¸å‹çš„ç§»åŠ¨å’Œç½‘ç«™å‰ç«¯ã€‚
2.  **MFE ( *å¾®å‰ç«¯* )** ã€‚è¿™é€šå¸¸æ˜¯åµŒå…¥åœ¨ UI å±‚ä¸­çš„ MFE ç»„ä»¶æˆ– web åº”ç”¨ç¨‹åºã€‚
3.  **MFE API**ã€‚è¿™äº› API å°è£…å¾—å¾ˆå¥½ï¼Œä½äº MFE ç»„ä»¶çš„åé¢ã€‚è¿™ä½¿å¾—å®ƒä»¬å¯ä»¥è¢«æ”¾åˆ°å…¶ä»– ui ä¸­ï¼Œå¹¶ä¸”ä¸éœ€è¦ä»»ä½•è¿›ä¸€æ­¥çš„å¼€å‘å·¥ä½œå°±å¯ä»¥å·¥ä½œ(*é™¤äº†é€šè¿‡*ä¼ é€’ä»¤ç‰Œ)ã€‚
4.  **å…¬å…± API**ã€‚è¿™äº› API å¾€å¾€ä½äº UI å±‚ä¹‹åï¼Œé€šå¸¸ä½¿ç”¨ JWT è¿›è¡Œç»‘å®š(*ç¤ºä¾‹æ˜¯ç”¨æˆ·é€šè¿‡ UI ç™»å½•åˆ°æ‚¨çš„åº”ç”¨ç¨‹åºï¼Œè¯¥ UI è¿›è¡Œèº«ä»½éªŒè¯ï¼Œè¿”å›ä¸€ä¸ª JWTï¼Œå¹¶ä½¿ç”¨å®ƒæ¥éªŒè¯ API è°ƒç”¨*)ã€‚
5.  **å¹³å° API**ã€‚å¹³å° API é€šå¸¸æ˜¯ç§æœ‰ APIï¼Œå…·æœ‰è‰¯å¥½å®šä¹‰çš„ REST æ¨¡å¼( *OpenAPI/Swagger* )ï¼Œå¹¶å…è®¸å…¶ä»–å…¬å…± APIã€å¹³å° API å’Œ MFE APIs ä½¿ç”¨å…¬å…±åŠŸèƒ½ã€‚å®ƒä»¬ä¸åº”è¯¥å…¬å¼€ã€‚
6.  **æ•°æ®å±‚**ã€‚æœ€åæ˜¯æ•°æ®å±‚ï¼Œå®ƒæ”¯æ’‘ç€å¤§å¤šæ•°å…¬å…±å’Œå¹³å° APIã€‚æ¯ä¸ªå¾®æœåŠ¡éƒ½åº”è¯¥æœ‰è‡ªå·±çš„æ•°æ®å­˜å‚¨ï¼Œé€šå¸¸æ˜¯æ•°æ®åº“ã€‚

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å…³æ³¨ä¸‹é¢ç²‰çº¢è‰²åœ†åœˆä¸­æ˜¾ç¤ºçš„è¿™ç»„ API ä¹‹é—´çš„äº¤äº’ï¼Œå³å…¬å…± APIã€å¹³å° API å’Œ MFE APIs ä¹‹é—´çš„äº¤äº’(*æˆ–è€…å½“ç„¶è¿˜æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå†…éƒ¨å¹³å° API*):

![](img/7cb633301005d1e1ad2095eb4f1dedd1.png)

æœ¬æ–‡å°†å…³æ³¨ API ç±»å‹ä¹‹é—´çš„ç§æœ‰äº¤äº’

## å¯¹äºå…¸å‹çš„æ— æœåŠ¡å™¨è§£å†³æ–¹æ¡ˆï¼Œä¸Šå›¾æ˜¯ä»€ä¹ˆæ ·çš„ï¼ŸğŸ’­

å¦‚æœæˆ‘ä»¬ä»¥ä¸Šé¢çš„æ¶æ„å±‚ç¤ºæ„å›¾ä¸ºä¾‹ï¼Œå±•ç¤ºå®ƒåœ¨ä¸€ä¸ªè™šæ„çš„ç»„ç»‡ä¸­çš„æ ·å­ï¼Œå®ƒå¯èƒ½å¦‚ä¸‹æ‰€ç¤º:

![](img/eb73aa0f4f6d963360aa9048285da26b.png)

è°ƒç”¨å…±äº«å¹³å°çš„å…¸å‹æ— æœåŠ¡å™¨æ¶æ„ç¤ºä¾‹

ä»ä¸Šå›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬æœ‰ä¸€ç»„ä¸‰ä¸ª APIï¼Œå®ƒä»¬æ˜¯å¯å…¬å¼€è®¿é—®çš„( *Basketã€Orders å’Œ Customer* )ï¼Œç”¨äºä¿ƒè¿›å‰ç«¯ web/ç§»åŠ¨åº”ç”¨ã€‚å®¢æˆ·é€šè¿‡ jwt ä½¿ç”¨è¿™äº› API è¿›è¡Œè®¤è¯(å¯èƒ½é€šè¿‡ Amazon Cognito )ã€‚

ç„¶åï¼Œè¿™äº›å…¬å…± API è°ƒç”¨å…±äº«å¹³å° APIï¼Œä¾‹å¦‚æ”¯ä»˜å’Œè®¢å•å¹³å°ã€‚è¿™ä¸¤ä¸ªå…±äº«å¹³å°ä¸åº”è¯¥å¯ä»¥ä»å…¬å…±äº’è”ç½‘è®¿é—®(*æ²¡æœ‰å¿…è¦è¿™æ ·åšï¼Œå®ƒä»¬éœ€è¦æ˜¯å®‰å…¨çš„*)ï¼Œå¹¶ä¸”ä¸èƒ½ä»é™¤äº†é¢å‘å…¬ä¼—çš„ API æˆ–å†…éƒ¨ä¸šåŠ¡ç³»ç»Ÿä¹‹å¤–çš„ä»»ä½•åœ°æ–¹ç›´æ¥è°ƒç”¨ã€‚æ‰€æœ‰æµé‡éƒ½åº”è¯¥åœ¨å†…éƒ¨ AWS ç½‘ç»œä¸Šä¿æŒç§æœ‰ã€‚

> ç„¶åï¼Œè¿™äº›å…¬å…± API è°ƒç”¨å…±äº«å¹³å° APIï¼Œä¾‹å¦‚æ”¯ä»˜å’Œè®¢å•å¹³å°ã€‚è¿™ä¸¤ä¸ªå…±äº«å¹³å°åº”è¯¥ä¸èƒ½ä»å…¬å…±äº’è”ç½‘è®¿é—®

> *ğŸ’¡* ***æ³¨*** :ç°å®ä¸­å¹¶ä¸æ˜¯æ‰€æœ‰çš„è°ƒç”¨éƒ½æ˜¯è¿™æ ·åŒæ­¥çš„ï¼Œåœ¨æˆ‘çœ‹æ¥å¤§å¤šæ•°æ¶æ„åº”è¯¥æ˜¯äº‹ä»¶é©±åŠ¨ä¼˜å…ˆã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä½¿åœ¨äº‹ä»¶é©±åŠ¨çš„æ— æœåŠ¡å™¨æ¶æ„ä¸­ï¼Œä¹Ÿå‡ ä¹æ€»æ˜¯éœ€è¦åŒæ­¥ API è°ƒç”¨ã€‚æœ‰å…³æ— æœåŠ¡å™¨äº‹ä»¶é©±åŠ¨ç³»ç»Ÿçš„æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ä»¥ä¸‹å†…å®¹

[](https://leejamesgilmore.medium.com/serverless-event-driven-systems-9617c6406064) [## æ— æœåŠ¡å™¨äº‹ä»¶é©±åŠ¨ç³»ç»ŸğŸš€

### æ‚¨åº”è¯¥å¦‚ä½•ä»¥åŠä¸ºä»€ä¹ˆé¦–å…ˆä½¿ç”¨ Amazon EventBridge æ„å»ºäº‹ä»¶é©±åŠ¨çš„æ— æœåŠ¡å™¨æ¶æ„â€¦

leejamesgilmore.medium.com](https://leejamesgilmore.medium.com/serverless-event-driven-systems-9617c6406064) 

# AWS ä¸Šçš„ç§æœ‰ API ç½‘å…³æ˜¯ä»€ä¹ˆï¼Ÿ

é‚£ä¹ˆåˆ°åº•ä»€ä¹ˆæ˜¯ç§æœ‰ API ç½‘å…³å‘¢ï¼Ÿåœ¨æˆ‘çœ‹æ¥ï¼Œä¸‹é¢è¿™æ®µç”±ç¥å¥‡çš„[èµ„æºç­–ç•¥](https://medium.com/u/1eea7e34b9e5#apigateway-private-api-set-up-resource-policy)ï¼Œä½ å¯ä»¥å…è®¸æˆ–æ‹’ç»ä»é€‰å®šçš„ VPC å’Œ VPC ç«¯ç‚¹ã€*è®¿é—®ä½ çš„ç§æœ‰ APIï¼ŒåŒ…æ‹¬è·¨ AWS è´¦æˆ·*ã€‚æ¯ä¸ªç«¯ç‚¹éƒ½å¯ä»¥ç”¨æ¥è®¿é—®å¤šä¸ªç§æœ‰ APIã€‚

## ç§æœ‰ DNS

å½“å¯ç”¨ç§æœ‰ DNS æ—¶ï¼Œæ‚¨å¯ä»¥é€šè¿‡ç§æœ‰ DNS è®¿é—®æ‚¨çš„ç§æœ‰ APIã€‚å¦‚æœæ²¡æœ‰ï¼Œæ‚¨å°†éœ€è¦ä½¿ç”¨ Route 53 åˆ«åæˆ–è€…é€šè¿‡ VPCE ç«¯ç‚¹æœ¬èº«(*åŠ ä¸Šä¸€äº›é¢å¤–çš„å¤´*)ã€‚

# æˆ‘ä»¬åœ¨å»ºé€ ä»€ä¹ˆï¼ŸğŸ—ï¸

> *ğŸ’¡* ***æ³¨æ„*** :è¦è¿è¡Œè¿™äº›ç¤ºä¾‹ï¼Œæ‚¨éœ€è¦ä¸¤ä¸ªå•ç‹¬çš„ AWS å¸æˆ·æˆ–ä¸€ä¸ªå¸æˆ·ä¸­çš„ä¸¤ä¸ª VPCã€‚

æˆ‘ä»¬å°†åœ¨ä¸‹é¢æ„å»ºä¸€ä¸ªåˆ©ç”¨ç§æœ‰ API çš„ç®€å•ç¤ºä¾‹(*æ‘˜è‡ªæˆ‘ä»¬ä¸Šé¢çš„è™šæ„æ— æœåŠ¡å™¨æ¶æ„å›¾ç¤ºä¾‹*):

![](img/6563dc591e9dbadae555015b2d5f08ed.png)

æˆ‘ä»¬ä»Šå¤©æ­£åœ¨æ„å»ºçš„æ¶æ„ç¤ºä¾‹â€”éå¸¸å®‰å…¨ï¼Œæ”»å‡»è€…æ²¡æœ‰æœºä¼šæ”»å‡»æˆ‘ä»¬çš„å¹³å°

è¿™ä¸ªæ¶æ„å…è®¸ç”¨æˆ·è°ƒç”¨ä¸€ä¸ªå…¬å…±çš„`Orders API`æ¥åˆ›å»ºä¸€ä¸ªè®¢å•ï¼Œå…¶æ ‡å‡†å¦‚ä¸‹:

1.  è®¢å• API ç½‘å…³ç”± Lambdas åœ¨ä¸¤ä¸ªæ²¡æœ‰å…¬å…±äº’è”ç½‘æ¥å…¥çš„ç§æœ‰å­ç½‘ä¸­æä¾›æ”¯æŒ(*æ²¡æœ‰äº’è”ç½‘ç½‘å…³ã€NAT å®ä¾‹æˆ– NAT ç½‘å…³*)ã€‚
2.  è®¢å•æœåŠ¡ä¸­çš„ä¸“ç”¨å­ç½‘å…·æœ‰ API ç½‘å…³æœåŠ¡çš„ VPC ç«¯ç‚¹ã€‚
3.  ä» orders Lambdas åˆ° private `Stock Platform API`çš„æµé‡å®‰å…¨åœ°é€šè¿‡ VPC ç«¯ç‚¹ï¼Œè€Œä¸ç©¿è¶Šå…¬å…±äº’è”ç½‘ã€‚

## æ ¹æ®æˆ‘çš„ç»éªŒï¼Œå›¢é˜Ÿé€šå¸¸ä¼šåšä»€ä¹ˆï¼ŸâŒ

æˆ‘ç»å¸¸çœ‹åˆ°å›¢é˜Ÿæ„å»ºå‡ºä¸‹é¢çš„ç¤ºä¾‹æ¶æ„:

![](img/16895d8b6680c0a435e2cdae6127e832.png)

ç©¿è¶Šå…¬å…±äº’è”ç½‘çš„æµé‡ç¤ºä¾‹

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè‚¡ç¥¨å¹³å° API å¯¹ä»»ä½•äººéƒ½æ˜¯å…¬å¼€å¯è®¿é—®çš„(*å³ï¼Œä½ å¯ä»¥ä» Postmanã€ä½ çš„ç§»åŠ¨è®¾å¤‡æˆ– CURL å‘½ä»¤*ç‚¹å‡»å®ƒ)ï¼Œå¹¶ä¸”åªèƒ½é€šè¿‡ API å¯†é’¥ç»‘å®šã€‚è¿™æ„å‘³ç€:

1.  æ”»å‡»è€…å¯èƒ½è¯•å›¾æš´åŠ›ç ´è§£è¿™ä¸ª API å¯†é’¥ã€‚
2.  æ”»å‡»è€…å¯ä»¥å°è¯• DDOS æˆ–æ‹’ç»é’±åŒ…æ”»å‡» APIã€‚
3.  å†…éƒ¨ä¸è‰¯è¡Œä¸ºè€…å¯ä»¥åˆ©ç”¨ API å¯†é’¥ï¼Œåœ¨å®¶ä¸­è®¿é—®å®¢æˆ·æ•°æ®è€Œä¸ç•™ä¸‹ä»»ä½•ç—•è¿¹ã€‚
4.  API å¯†é’¥ä¸åº”å•ç‹¬ç”¨äºè®¤è¯(*è§ä¸‹æ–‡*)ã€‚

> ä¸è¦ä¾èµ– API å¯†åŒ™ä½œä¸º API è®¤è¯å’Œæˆæƒçš„å”¯ä¸€æ–¹å¼ã€‚å¦‚æœåœ¨ä¸€ä¸ªä½¿ç”¨è®¡åˆ’ä¸­æœ‰å¤šä¸ª APIï¼Œæ‹¥æœ‰è¯¥ä½¿ç”¨è®¡åˆ’ä¸­ä¸€ä¸ª API çš„æœ‰æ•ˆ API å¯†é’¥çš„ç”¨æˆ·å¯ä»¥è®¿é—®è¯¥ä½¿ç”¨è®¡åˆ’ä¸­çš„*æ‰€æœ‰*APIã€‚ç›¸åï¼Œä½¿ç”¨ä¸€ä¸ª IAM è§’è‰²ï¼Œ[ï¼Œä¸€ä¸ª Lambda æˆæƒè€…](https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-use-lambda-authorizer.html)ï¼Œæˆ–è€…ä¸€ä¸ª [Amazon Cognito ç”¨æˆ·æ± ](https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-integrate-with-cognito.html)ã€‚â€”[https://docs . AWS . Amazon . com/API gateway/latest/developer guide/API-gateway-API-usage-plans . html](https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-api-usage-plans.html)

æœ‰å…³å¨èƒçš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§ä»¥ä¸‹æ–‡ç« :

[](https://leejamesgilmore.medium.com/serverless-threat-modelling-df8e4028ef6d) [## æ— æœåŠ¡å™¨å¨èƒå»ºæ¨¡ğŸš€

### æ‚¨åº”è¯¥å¦‚ä½•ä»¥åŠä¸ºä»€ä¹ˆåœ¨ AWS ä¸Šå¯¹æ‚¨çš„æ— æœåŠ¡å™¨è§£å†³æ–¹æ¡ˆè¿›è¡Œå¨èƒå»ºæ¨¡ï¼Œå¹¶æä¾›çœŸå®ç”Ÿæ´»ä¸­çš„å¯è§†åŒ–ç¤ºä¾‹

leejamesgilmore.medium.com](https://leejamesgilmore.medium.com/serverless-threat-modelling-df8e4028ef6d) 

ä¸è¨€è€Œå–»ï¼Œä»æ¶æ„å±‚çš„è§’åº¦æ¥çœ‹ï¼Œè‚¡ç¥¨å¹³å° API ä¸éœ€è¦å…¬å¼€è®¿é—®ï¼Œå¹¶ä¸”åº”è¯¥æ˜¯å®‰å…¨çš„ï¼Œæ‰€æœ‰æµé‡éƒ½ä¿ç•™åœ¨å†…éƒ¨ AWS ä¸“ç”¨ç½‘ç»œä¸Šã€‚

# ç§æœ‰ API çš„å±€é™æ€§æ˜¯ä»€ä¹ˆï¼ŸğŸ˜”

å› æ­¤ï¼Œåœ¨æˆ‘ä»¬æ·±å…¥æ¢è®¨ä¹‹å‰ï¼Œè®©æˆ‘ä»¬è®¨è®ºä¸€ä¸‹ AWS ä¸Šç§æœ‰ API ç½‘å…³çš„ä¸€äº›é™åˆ¶:

## **è‡ªå®šä¹‰åŸŸå**

[ç§æœ‰ API ä¸æ”¯æŒè‡ªå®šä¹‰åŸŸå](https://docs.aws.amazon.com/apigateway/latest/developerguide/how-to-custom-domains.html)ã€‚è¿™æ„å‘³ç€æ‚¨å°†éœ€è¦é€šè¿‡è‡ªåŠ¨ç”Ÿæˆçš„ä¸“ç”¨ DNS API URLã€VPC ç«¯ç‚¹(å¸¦æ ‡å¤´)æˆ– Route 53 åˆ«å(*è§ä¸‹æ–‡*)æ¥è®¿é—®å®ƒä»¬ã€‚

> æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥ç»•è¿‡è¿™ä¸ªéå¸¸å¤æ‚çš„é—®é¢˜ï¼Œä½†æ˜¯åœ¨æœ¬æ–‡çš„ç¬¬ 2 éƒ¨åˆ†ä¸­è®¨è®ºäº†è¿™ä¸ªé—®é¢˜ã€‚

## **ç§æœ‰ DNS**

é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨æ‚¨çš„ VPC ç«¯ç‚¹ä¸Šå¯ç”¨ç§æœ‰ DNSï¼Œä½†æ˜¯è¿™æ„å‘³ç€å¦‚æœæ‚¨ä½¿ç”¨ VPC ç«¯ç‚¹è¿æ¥åˆ°æ‚¨çš„ç§æœ‰ APIï¼Œæ‚¨å°†æ— æ³•åŒæ—¶è®¿é—®ä»»ä½•å…¬å…± API ç½‘å…³(*è§ä¸‹æ–‡*)

![](img/7e9dc34109ed92a0b5ca19de2921433c.png)

[https://docs . AWS . Amazon . com/API gateway/latest/developer guide/API gateway-private-APIs . html](https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-private-apis.html)

![](img/13d79c2fe6419da79749d12cd872c3b1.png)

[https://D1 . AWS static . com/whites/private-API-best-practices . pdf](https://d1.awsstatic.com/whitepapers/private-api-best-practices.pdf)

å½“ä¸äºšé©¬é€Š VPC å…³è”çš„ API ç½‘å…³[æ¥å£ VPC ç«¯ç‚¹](https://docs.aws.amazon.com/vpc/latest/userguide/vpce-interface.html)å¯ç”¨äº†[ç§æœ‰ DNS](https://docs.aws.amazon.com/vpc/latest/userguide/vpce-interface.html#vpce-private-dns) æ—¶ï¼Œä» VPC åˆ° API ç½‘å…³ API çš„æ‰€æœ‰è¯·æ±‚éƒ½è§£æåˆ°è¯¥æ¥å£ VPC ç«¯ç‚¹ã€‚**ç„¶è€Œï¼Œä¸å¯èƒ½åŒæ—¶ä½¿ç”¨ VPC ç«¯ç‚¹è¿æ¥åˆ°å…¬å…± APIã€‚**

> ç”±äºåœ¨æ¥å£ VPC ç«¯ç‚¹ä¸Šå¯ç”¨äº†ä¸“ç”¨ DNS é€‰é¡¹ï¼ŒDNS ä¼šé’ˆå¯¹*è¿›è¡ŒæŸ¥è¯¢ã€‚execute-api.amazonaws.com å°†è¢«è§£æä¸ºç«¯ç‚¹çš„ç§æœ‰ IPã€‚å½“ VPC ä¸­çš„å®¢æˆ·ç«¯å°è¯•è°ƒç”¨åŒºåŸŸæˆ–è¾¹ç¼˜ä¼˜åŒ–çš„ API æ—¶ï¼Œè¿™ä¼šå¯¼è‡´é—®é¢˜ï¼Œå› ä¸ºè¿™äº›ç±»å‹çš„ API å¿…é¡»é€šè¿‡äº’è”ç½‘è®¿é—®ã€‚ä¸å…è®¸é€šè¿‡æ¥å£ VPC ç«¯ç‚¹çš„æµé‡ã€‚å”¯ä¸€çš„è§£å†³æ–¹æ³•æ˜¯ä½¿ç”¨è¾¹ç¼˜ä¼˜åŒ–çš„è‡ªå®šä¹‰åŸŸåã€‚

VPC ä¸­è¯•å›¾è¿æ¥åˆ°å…¬å…± API çš„èµ„æºå¿…é¡»å…·æœ‰ internet è¿æ¥ã€‚

ä¸‹é¢æ˜¾ç¤ºäº†ä¸€ä¸ªç¤ºä¾‹ä»£ç ç‰‡æ®µï¼Œå…¶ä¸­ VPC ç«¯ç‚¹ä¸Šå¯ç”¨äº† DNS:

## æˆ‘ä»¬å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆå®ƒå¾ˆé‡è¦ï¼Ÿ

å¦‚æœæ‚¨æ˜¯ä¸€ä¸ªæ‹¥æœ‰å¤šä¸ªå¹³å°å’Œå¤šä¸ªæ¶ˆè´¹è€…çš„ç»„ç»‡(*å°±åƒæœ¬æ–‡å¼€å¤´çš„å›¾è¡¨*)ï¼Œæ‚¨å¯èƒ½ä¼šå‘ç°è¿™äº›æ¶ˆè´¹è€…éœ€è¦ä»ä»–ä»¬çš„ VPC ä¸­åŒæ—¶è°ƒç”¨ç§æœ‰å’Œå…¬å…± API ä½œä¸ºæ ‡å‡†(*ï¼Œå¹¶ä¸”è‚¯å®šè¿˜éœ€è¦è°ƒç”¨ç¬¬ä¸‰æ–¹ APIï¼Œä¾‹å¦‚ fulfilment.acme.comã€deliveries.acme.com ç­‰*)ã€‚

æˆ‘ä»¬æ€»æ˜¯æƒ³è®©æˆ‘ä»¬å†…éƒ¨å¹³å° API çš„æ¶ˆè´¹è€…å°½å¯èƒ½ç®€å•åœ°ä½¿ç”¨å®ƒï¼Œè€Œä¸èƒ½æœŸæœ›ä»–ä»¬åšå¤§é‡çš„è·‘è…¿å·¥ä½œï¼

åœ¨æ²¡æœ‰è‡ªå®šä¹‰åŸŸåçš„æƒ…å†µä¸‹ï¼Œæœ‰ä¸¤ç§ä¸»è¦æ–¹æ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸‹é¢å°†è®¨è®ºè¿™ä¸¤ç§æ–¹æ³•:

âœ… **åˆ©ç”¨è¾¹ç¼˜ä¼˜åŒ–å®šåˆ¶åŸŸè§£å†³è¿™ä¸ªé—®é¢˜**

å¦‚æœä½¿ç”¨è¾¹ç¼˜ä¼˜åŒ–çš„è‡ªå®šä¹‰åŸŸåè®¿é—®å…¬å…± APIï¼Œç§æœ‰ DNS è®¾ç½®ä¸ä¼šå½±å“ä» VPC è°ƒç”¨è¿™äº›å…¬å…± API çš„èƒ½åŠ›ã€‚ä½¿ç”¨ edge ä¼˜åŒ–çš„è‡ªå®šä¹‰åŸŸåè®¿é—®æ‚¨çš„å…¬å…± API ( *åŒæ—¶ä½¿ç”¨ç§æœ‰ DNS è®¿é—®æ‚¨çš„ç§æœ‰ API* )æ˜¯ä» VPC è®¿é—®å…¬å…±å’Œç§æœ‰ API çš„ä¸€ç§æ–¹å¼ï¼Œå…¶ä¸­ç«¯ç‚¹æ˜¯ä½¿ç”¨ç§æœ‰ DNS `enabled`åˆ›å»ºçš„ã€‚

**âœ… **ç§æœ‰ API Route53 åˆ«å****

**å¦ä¸€ç§è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•æ˜¯ä½¿ç”¨ Route 53 åˆ«åè®¿é—®æ‚¨çš„ç§æœ‰ APIï¼Œå¹¶å°†ç§æœ‰ DNS è®¾ç½®ä¸º`false`ï¼Œå½“æ‚¨å°† VPC ç«¯ç‚¹ä¸ç§æœ‰ API ç½‘å…³ç›¸å…³è”æ—¶ï¼Œä¼šä¸ºæ‚¨åˆ›å»ºåˆ«å:[https://docs . AWS . Amazon . com/API gateway/latest/developer guide/API gateway-Private-API-test-invoke-URL . htm](https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-private-api-test-invoke-url.html)l(*å‚è§ä¸‹é¢çš„ç¤ºä¾‹*)**

**![](img/f1feec2034082f7c0b219b362559ceec.png)**

**æ˜¾ç¤ºå°†ç§æœ‰ API ç½‘å…³ä¸ä¸€ä¸ªæˆ–å¤šä¸ªç‰¹å®š VPC ç«¯ç‚¹ç›¸å…³è”çš„ç¤ºä¾‹**

**ç„¶åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨è¿™ä¸ªåˆ«åè®°å½•æ¥è°ƒç”¨æ‚¨çš„ç§æœ‰ APIï¼Œå°±åƒæ‚¨è°ƒç”¨æ‚¨çš„è¾¹ç¼˜ä¼˜åŒ–æˆ–åŒºåŸŸ API ä¸€æ ·ï¼Œè€Œæ— éœ€è¦†ç›–ä¸€ä¸ª`Host`å¤´æˆ–ä¼ é€’ä¸€ä¸ª`x-apigw-api-id`å¤´ã€‚**

**å¯¹äº Route 53 åˆ«åï¼Œç”Ÿæˆçš„åˆ«å URL ç°åœ¨é‡‡ç”¨ä»¥ä¸‹æ ¼å¼:**

**`[https://{rest-api-id}-{vpce-id}.execute-api.{region}.amazonaws.com/{stage}](https://{rest-api-id}-{vpce-id}.execute-api{region}.amazonaws.com/{stage})`**

**![](img/f1af054e0c621d5ee50116ab293835e3.png)**

**å°† Route 53 åˆ«åè®°å½•ä¸ API å¯†é’¥ä¸€èµ·ä½¿ç”¨çš„ç¤ºä¾‹**

**æˆ‘ä»¬ä½¿ç”¨å®ƒæ¥ä»£æ›¿æˆ‘ä»¬çš„ç§æœ‰ URLï¼Œå› ä¸ºç§æœ‰ DNS åœ¨ VPC ç«¯ç‚¹ä¸Šè¢«ç¦ç”¨ï¼Œç§æœ‰ URL å°†ä¸å†èµ·ä½œç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸‹é¢çš„å†…å®¹å°†æ— æ³•ä½¿ç”¨ç§æœ‰ DNS è¿›è¡Œè§£æ`disabled`:**

**`[https://{rest-api-id}.execute-api.eu-west-1.amazonaws.com/{stage}](https://{rest-api-id}.execute-api.eu-west-1.amazonaws.com/{stage})`**

**å¦‚æœæˆ‘ä»¬è¯•å›¾åœ¨ VPC ä¹‹å¤–æ‰¾åˆ° 53 å·å…¬è·¯çš„åˆ«åï¼Œä½ å°†æ— æ³•è§£å†³è¿™ä¸ªé—®é¢˜:**

**![](img/96b28b072cff1df19a4d6b6a21fb14c0.png)**

**è¿™å…è®¸æ‚¨å°† VPC ç«¯ç‚¹çš„'`enablePrivateDNS`'å±æ€§è®¾ç½®ä¸º`false`ï¼Œå¹¶ä¸”åœ¨æ‚¨çš„ç§æœ‰å­ç½‘è·¯ç”±è¡¨ä¸­æ·»åŠ ä¸€ä¸ªæŒ‡å‘å…¬å…±å­ç½‘ä¸­ NAT ç½‘å…³çš„è·¯ç”±ç°åœ¨å¯ä»¥å·¥ä½œäº†(***é‡è¦çš„æ˜¯*** â€” *)ï¼ŒåŒæ—¶ä»ç„¶ä¿æŒæ‚¨çš„ç§æœ‰ API åªèƒ½ä»æ‚¨çš„ç¬¬äºŒä¸ª VPC å†…éƒ¨è®¿é—®ï¼Œå¹¶ä¸”ä¹Ÿèƒ½å¤Ÿè®¿é—®å¤–éƒ¨ APIâ€”å…¬å…± API ç½‘å…³å’Œç¬¬ä¸‰æ–¹ API éƒ½å¯ä»¥***

# **éƒ¨ç½²è§£å†³æ–¹æ¡ˆï¼ğŸ‘¨â€ğŸ’»**

> ***ğŸ›‘* ***æ³¨æ„*** *:* è¿è¡Œä»¥ä¸‹å‘½ä»¤å°†åœ¨æ‚¨çš„ AWS è´¦æˆ·ä¸Šäº§ç”Ÿè´¹ç”¨ã€‚**

**è®©æˆ‘ä»¬åœ¨è¿™é‡Œéƒ¨ç½²æ‚¨å¯ä»¥å…‹éš†çš„åŸºæœ¬ä»£ç ç¤ºä¾‹:[https://github.com/leegilmorecode/serverless-private-apis](https://github.com/leegilmorecode/serverless-private-apis)**

**ğŸ’¡*è¯·æ³¨æ„ï¼Œåœ¨æˆ‘çš„ç¤ºä¾‹ä¸­ï¼Œéƒ¨ç½² NPM è„šæœ¬ä½¿ç”¨ä¸åŒçš„ AWS é…ç½®æ–‡ä»¶ï¼Œå› ä¸ºæˆ‘ä»¬è¦éƒ¨ç½²åˆ°ä¸¤ä¸ªç‹¬ç«‹çš„ AWS å¸æˆ·ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆå®ƒä»¬ä¸æ˜¯åŒä¸€ä¸ªåº”ç”¨ç¨‹åºä¸­çš„ä¸¤ä¸ªç‹¬ç«‹çš„ CDK å †æ ˆã€‚***

1.  **åœ¨è®¢å•æœåŠ¡å’Œåº“å­˜æœåŠ¡æ–‡ä»¶å¤¹ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤:`npm i`**
2.  **å°†ç›®å½•åˆ‡æ¢åˆ°è®¢å•æœåŠ¡æ–‡ä»¶å¤¹å¹¶è¿è¡Œ`npm run deploy`**
3.  **éƒ¨ç½²å®Œæˆåï¼Œè®°ä¸‹ç»ˆç«¯è¾“å‡ºçš„`VPC Endpoint ID`ã€‚**
4.  **åœ¨æ–‡ä»¶`serverless-private-apis/stock-service/lib/stock-service-stack.ts`ä¸­ï¼Œå°†ç¬¬ 68 è¡Œæ›´æ–°ä¸ºæ­£ç¡®çš„ VPC ç«¯ç‚¹ IDã€‚**
5.  **ç°åœ¨æ‰§è¡Œç¬¬äºŒæ­¥ï¼Œä½†è¿™æ¬¡æ˜¯åœ¨åº“å­˜æœåŠ¡æ–‡ä»¶å¤¹ä¸­ã€‚**
6.  **è·å–éƒ¨ç½²è¾“å‡ºä¸­è¾“å‡ºçš„åº“å­˜ APIï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°ç¬¬ 7 è¡Œçš„æ–‡ä»¶`orders-service/orders/create-order/create-order.ts`ä¸­ï¼Œç„¶åå†æ¬¡é‡æ–°éƒ¨ç½²ã€‚**

**ğŸ’¡*è¯·æ³¨æ„ï¼Œè¿™æ˜¯å…è®¸æˆ‘ä»¬è®¨è®ºæ–‡ç« è¦ç‚¹çš„æœ€åŸºæœ¬çš„ä»£ç å’Œæ¶æ„ï¼Œå› æ­¤è¿™ä¸æ˜¯ç”Ÿäº§å°±ç»ªï¼Œä¹Ÿä¸ç¬¦åˆç¼–ç æœ€ä½³å®è·µ*ã€‚*(ä¾‹å¦‚ï¼Œç«¯ç‚¹ä¸Šæ— è®¤è¯)ã€‚æˆ‘ä¹Ÿå°½é‡ä¸æŠŠä»£ç åˆ†å‰²å¾—å¤ªå¤šï¼Œè¿™æ ·ä¸‹é¢çš„ä¾‹å­æ–‡ä»¶å¾ˆå®¹æ˜“æŸ¥çœ‹ï¼Œæ‰€æœ‰çš„ä¾èµ–å…³ç³»éƒ½åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚***

# **æµ‹è¯•è§£å†³æ–¹æ¡ˆğŸ¯**

**ä¸€æ—¦éƒ¨ç½²äº†è§£å†³æ–¹æ¡ˆï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`serverless-private-apis/postman/serverless-private-apis.postman_collection.json`ä¸­çš„ postman æ–‡ä»¶æ¥å°è¯•è®¿é—® orders å…¬å…±ç«¯ç‚¹ï¼Œè¯¥ç«¯ç‚¹æœ¬èº«å°†åœ¨ AWS ç½‘ç»œä¸Šç§ä¸‹è°ƒç”¨ Stock API:**

**![](img/3607408ae843d9b8304670f8114ea509.png)**

**ç¤ºä¾‹æ˜¾ç¤ºäº†ä½¿ç”¨ Postman çš„å‘¼å«ï¼Œå…¶ä¸­è‚¡ç¥¨æ•°æ®è¢«ç§ä¸‹è§£æ**

# **æ›´æ·±å…¥åœ°æ¢ç©¶æ¶æ„**

**ä¸‹å›¾æ˜¾ç¤ºäº†æ‚¨å¦‚ä½•é€šè¿‡å¯¹æ‚¨ç»„ç»‡ä¸­å¯èƒ½æœ‰çš„å¤šä¸ªç§æœ‰ API çš„ä»»ä½•è°ƒç”¨æ¥é‡ç”¨æ‚¨çš„ VPC ç«¯ç‚¹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ‚¨ä¸éœ€è¦ä¸ºæ¯ä¸ªä¸æƒ³ä½¿ç”¨çš„ç§æœ‰ API ä½¿ç”¨ä¸€ä¸ª VPC ç«¯ç‚¹ã€‚**

**ç§æœ‰ API æœ¬èº«çš„èµ„æºç­–ç•¥è§„å®šäº†å“ªäº› VPC ç«¯ç‚¹(*æˆ– VPC*)å¯ä»¥å°†æµé‡è·¯ç”±åˆ°å®ƒï¼Œå› æ­¤å®ƒæ˜¯å®Œå…¨å®‰å…¨çš„ã€‚æ­£å¦‚æ‚¨åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­æ‰€çœ‹åˆ°çš„ï¼Œæˆ‘ä»¬åœ¨æ”¯ä»˜å¹³å° API çš„èµ„æºç­–ç•¥ä¸Šå£°æ˜ï¼Œæˆ‘ä»¬å°†åªå…è®¸æ¥è‡ª VPC ç«¯ç‚¹`vpce-0d9643ccd883bac3a.`çš„æµé‡è¿›å…¥ï¼Œæˆ‘ä»¬ä¹Ÿå°†å¯¹åº“å­˜å¹³å°èµ„æºç­–ç•¥æ‰§è¡ŒåŒæ ·çš„æ“ä½œï¼Œå¹¶ä¸”åœ¨è®¢å•ä¸“ç”¨å­ç½‘ä¸­åªéœ€è¦ä¸€ä¸ª VPC ç«¯ç‚¹ã€‚**

> ****æ³¨æ„**æ‚¨è¿˜å¯ä»¥æ·»åŠ ä¸€ä¸ª VPC ç«¯ç‚¹ç­–ç•¥æ¥è¿›ä¸€æ­¥ä¿æŠ¤å“ªäº›æµé‡å¯ä»¥è·¯ç”±åˆ°æ‚¨çš„ VPC ç«¯ç‚¹ï¼Œä»è€Œä¿æŠ¤ä¸¤ç«¯çš„å®‰å…¨ã€‚**

**![](img/2c10214a43ddd979a6a6d34b879bbcdc.png)**

# **æ‘˜è¦**

**æˆ‘å¸Œæœ›ä½ è§‰å¾—æœ‰ç”¨ï¼åœ¨æœ¬æ–‡çš„ç¬¬ 2 éƒ¨åˆ†ä¸­ï¼Œæˆ‘å°†å±•ç¤ºå¦‚ä½•é€šè¿‡ä½¿ç”¨è‡ªå®šä¹‰åŸŸåçš„è§£å†³æ–¹æ¡ˆï¼Œè®©æ‚¨çš„æ¶ˆè´¹è€…æ›´å®¹æ˜“åœ°ä½¿ç”¨æ‚¨çš„ç§æœ‰ APIã€‚è®©æˆ‘ä»¬é¢å¯¹ç°å®å§ï¼Œå¯¹äºä½ çš„å†…éƒ¨ API çš„æ¶ˆè´¹è€…æ¥è¯´ï¼Œéœ€è¦ä½¿ç”¨ VPC ç«¯ç‚¹å’Œæ‰€æœ‰è¿™äº›å˜é€šåŠæ³•å¹¶ä¸å¤ªå¥½ã€‚**

**åœ¨æœ¬æ–‡çš„ç¬¬ 2 éƒ¨åˆ†[ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨å¸¦æœ‰å†…éƒ¨ç§æœ‰ API çš„å®šåˆ¶åŸŸã€‚](https://leejamesgilmore.medium.com/91fb9ab0c484)**

**è¯·ç‚¹å‡»æ­¤å¤„è®¢é˜…æˆ‘çš„ä¼ä¸šæ— æœåŠ¡å™¨æ–°é—»ç¨¿ï¼Œäº†è§£æ›´å¤šç›¸åŒçš„å†…å®¹:**

**[](https://www.linkedin.com/newsletters/enterprise-serverless-%F0%9F%9A%80-6875837779876605952/) [## ä¼ä¸šæ— æœåŠ¡å™¨ğŸš€LinkedIn

### Lee Gilmore |é¢å‘ AWS å¼€å‘äººå‘˜ã€DevOps å·¥ç¨‹å¸ˆå’Œäº‘æ¶æ„å¸ˆçš„æ— æœåŠ¡å™¨æ–°é—»å’Œæ–‡ç« 

www.linkedin.com](https://www.linkedin.com/newsletters/enterprise-serverless-%F0%9F%9A%80-6875837779876605952/)** 

# **åŒ…æ‰ğŸ‘‹**

**æˆ‘å¸Œæœ›ä½ è§‰å¾—æœ‰ç”¨ï¼**

**è¯·[å»æˆ‘çš„ YouTube é¢‘é“](https://www.youtube.com/channel/UC_Bi6eLsBXpLnNRNnxKQUsA)è®¢é˜…ç±»ä¼¼çš„å†…å®¹ï¼**

**![](img/e2ccbd59f6719593198c0d2372e5b398.png)**

**æˆ‘å¾ˆä¹æ„å°±ä»¥ä¸‹ä»»ä½•ä¸€ä¸ªæ–¹é¢ä¸æ‚¨è”ç³»:**

**[https://www.linkedin.com/in/lee-james-gilmore/](https://www.linkedin.com/in/lee-james-gilmore/)T8[https://twitter.com/LeeJamesGilmore](https://twitter.com/LeeJamesGilmore)**

**å¦‚æœä½ è§‰å¾—è¿™äº›æ–‡ç« é¼“èˆäººå¿ƒæˆ–æœ‰ç”¨ï¼Œè¯·éšæ—¶ç”¨è™šæ‹Ÿå’–å•¡[https://www.buymeacoffee.com/leegilmore](https://www.buymeacoffee.com/leegilmore)æ¥æ”¯æŒæˆ‘ï¼Œä¸ç®¡æ€æ ·ï¼Œè®©æˆ‘ä»¬è”ç³»å’ŒèŠå¤©å§ï¼â˜•ï¸**

**å¦‚æœä½ å–œæ¬¢è¿™äº›å¸–å­ï¼Œè¯·å…³æ³¨æˆ‘çš„ç®€ä»‹[æÂ·è©¹å§†æ–¯Â·å‰å°”æ‘©](https://medium.com/u/2906c6def240?source=post_page-----39c4f4ae5aff----------------------)ä»¥è·å–æ›´å¤šçš„å¸–å­/ç³»åˆ—ï¼Œä¸è¦å¿˜è®°è”ç³»æˆ‘å¹¶æ‰“æ‹›å‘¼ğŸ‘‹**

**å¦‚æœä½ å–œæ¬¢ï¼Œä¹Ÿè¯·ä½¿ç”¨å¸–å­åº•éƒ¨çš„â€œé¼“æŒâ€åŠŸèƒ½ï¼(*å¯ä»¥ä¸æ­¢ä¸€æ¬¡é¼“æŒï¼ï¼*)**

****æœ¬æ–‡ç”±**[**sedai . io**](https://www.sedai.io/)èµåŠ©**

**![](img/4c77bc2d275bd557dda90aa2fe842d2e.png)**

# **å…³äºæˆ‘**

**"*å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ Leeï¼Œè‹±å›½çš„ AWS ç¤¾åŒºæ„å»ºè€…ã€åšå®¢ä½œè€…ã€AWS è®¤è¯äº‘æ¶æ„å¸ˆå’Œé¦–å¸­è½¯ä»¶å·¥ç¨‹å¸ˆï¼›ç›®å‰æ˜¯ä¸€åæŠ€æœ¯äº‘æ¶æ„å¸ˆå’Œé¦–å¸­æ— æœåŠ¡å™¨å¼€å‘äººå‘˜ï¼Œè¿‡å» 5 å¹´ä¸»è¦ä»äº‹ AWS ä¸Šçš„å…¨æ ˆ JavaScript å·¥ä½œã€‚***

**æˆ‘è®¤ä¸ºè‡ªå·±æ˜¯ä¸€ä¸ªæ— æœåŠ¡å™¨å€¡å¯¼è€…ï¼Œçƒ­çˆ± AWSã€åˆ›æ–°ã€è½¯ä»¶æ¶æ„å’ŒæŠ€æœ¯ã€‚â€**

*****æ‰€æä¾›çš„ä¿¡æ¯æ˜¯æˆ‘ä¸ªäººçš„è§‚ç‚¹ï¼Œæˆ‘å¯¹è¿™äº›ä¿¡æ¯çš„ä½¿ç”¨ä¸æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚*****

**æ‚¨å¯èƒ½è¿˜å¯¹ä»¥ä¸‹å†…å®¹æ„Ÿå…´è¶£:**

**[](https://leejamesgilmore.medium.com/serverless-tactical-dd-r-23d18d529fa1) [## æ— æœåŠ¡å™¨æˆ˜æœ¯ DD(R)ğŸš€

### å¯¹äºæ— æœåŠ¡å™¨è§£å†³æ–¹æ¡ˆï¼Œä»€ä¹ˆæ˜¯æˆ˜æœ¯æ€§ DD(R)ä½œä¸ºéåŠŸèƒ½æ€§éœ€æ±‚çš„æˆ˜æœ¯æ–¹æ³•ï¼Œä»¥åŠâ€¦

leejamesgilmore.medium.com](https://leejamesgilmore.medium.com/serverless-tactical-dd-r-23d18d529fa1) [](https://leejamesgilmore.medium.com/serverless-threat-modelling-df8e4028ef6d) [## æ— æœåŠ¡å™¨å¨èƒå»ºæ¨¡ğŸš€

### æ‚¨åº”è¯¥å¦‚ä½•ä»¥åŠä¸ºä»€ä¹ˆåœ¨ AWS ä¸Šå¯¹æ‚¨çš„æ— æœåŠ¡å™¨è§£å†³æ–¹æ¡ˆè¿›è¡Œå¨èƒå»ºæ¨¡ï¼Œå¹¶æä¾›çœŸå®ç”Ÿæ´»ä¸­çš„å¯è§†åŒ–ç¤ºä¾‹

leejamesgilmore.medium.com](https://leejamesgilmore.medium.com/serverless-threat-modelling-df8e4028ef6d) [](https://leejamesgilmore.medium.com/serverless-content-46ef5b562d8e) [## æ— æœåŠ¡å™¨å†…å®¹ğŸš€

### æˆ‘çš„æ‰€æœ‰æ— æœåŠ¡å™¨å†…å®¹çš„ç´¢å¼•ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªåœ°æ–¹è½»æ¾æµè§ˆï¼ŒåŒ…æ‹¬è§†é¢‘ã€åšå®¢æ–‡ç« ç­‰..

leejamesgilmore.medium.com](https://leejamesgilmore.medium.com/serverless-content-46ef5b562d8e) [](https://leejamesgilmore.medium.com/serverless-synthetic-canaries-7946dc5216ba) [## æ— æœåŠ¡å™¨åˆæˆé‡‘ä¸é›€ğŸš€

### ä½¿ç”¨ CloudWatch åˆæˆé‡‘ä¸é›€æ¥ç›‘æ§ä½ çš„æ— æœåŠ¡å™¨åº”ç”¨ç¨‹åºçš„å®é™…ä¾‹å­ï¼Œæœ‰è§†è§‰æ•ˆæœå’Œâ€¦

leejamesgilmore.medium.com](https://leejamesgilmore.medium.com/serverless-synthetic-canaries-7946dc5216ba) [](/documenting-your-serverless-solutions-509f1928564b) [## è®°å½•æ‚¨çš„æ— æœåŠ¡å™¨è§£å†³æ–¹æ¡ˆğŸš€

### ä¸€ä¸ªç”Ÿæˆå’Œæ‰˜ç®¡ä½ çš„æ— æœåŠ¡å™¨æ–‡æ¡£çš„ä¾‹å­ï¼Œæ¯”å¦‚ OpenAPI/Swaggerï¼ŒADRs å’Œ codeâ€¦

levelup.gitconnected.com](/documenting-your-serverless-solutions-509f1928564b)**