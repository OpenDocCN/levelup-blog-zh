<html>
<head>
<title>Stop Doing One Liners</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">停止做一个衬垫</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/stop-doing-one-liners-fb78b3e81cd7?source=collection_archive---------5-----------------------#2020-10-18">https://levelup.gitconnected.com/stop-doing-one-liners-fb78b3e81cd7?source=collection_archive---------5-----------------------#2020-10-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="cf0c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">代码行越少并不总是越好</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d08b4555f7c5f608dc7da34686bcb143.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9I_LUp0oKdcgpEzl"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">西蒙·哈奇在<a class="ae ky" href="https://unsplash.com/photos/TqEjlOTmF5U" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><p id="937b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">前几天我在调试这个方法:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><p id="0a80" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是我发现的这个衬垫的一些问题:</p><h1 id="a704" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">查看返回值是不方便的</h1><p id="8fc2" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">我不得不突出显示<code class="fe mu mv mw mx b">return</code>之后的所有内容，并将其添加到监视窗口中，而不是仅仅停留在一个变量上。</p><h1 id="1c72" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">在测试期间更新返回值是不可能的</h1><p id="c3a2" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">由于<code class="fe mu mv mw mx b">IdMap.Contains&lt;Deposit&gt;(dto.DepositID)</code>不是一个变量，我不能像有时需要做的那样，在Visual Studio的即时窗口中更新返回值。</p><h1 id="2f2b" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">让其他开发者的，你的生活更轻松，用两行！</h1><p id="c7e7" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">如果代码是这样写的，调试起来会容易得多:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><h1 id="c67d" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">Reddit的评论摘要</h1><p id="3c7f" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">我在Reddit上讨论过这个话题，大多数人都反对。</p><p id="e9fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是他们观点的总结，以及我的回应:</p><h2 id="230d" class="my ly it bd lz mz na dn md nb nc dp mh li nd ne mj lm nf ng ml lq nh ni mn nj bi translated">您可以使用“自动”窗口查看函数返回值</h2><p id="33fc" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">你也可以用变量来做这件事。有了变量，开发人员就可以选择将光标悬停在变量上来查看值。</p><p id="cbc9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">“汽车”窗口可能充斥着您不关心的其他变量。不得不通过筛选或滚动来找到您的变量，这并不理想。</p><h2 id="a934" class="my ly it bd lz mz na dn md nb nc dp mh li nd ne mj lm nf ng ml lq nh ni mn nj bi translated">您可以等到方法返回</h2><p id="aee9" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">该方法返回，然后您可以将鼠标悬停在返回值被捕获到的变量上。但是，如果您想在计算后立即找到值，该怎么办呢？如果返回值不是被捕获到一个变量中，而是在一个<code class="fe mu mv mw mx b">if</code>语句中使用，该怎么办？如果一个方法的返回值是由调用方法返回的，一直到action方法，在这种情况下，您永远没有机会查看/更新结果。</p><h2 id="72ce" class="my ly it bd lz mz na dn md nb nc dp mh li nd ne mj lm nf ng ml lq nh ni mn nj bi translated">你可以突出显示一个班轮，并添加一个手表</h2><p id="02c7" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">这不仅仅是停留在一个变量上。此外，这可能会产生不希望的副作用，因为这涉及到每次添加观察器时执行一个liner。</p><h2 id="d5b9" class="my ly it bd lz mz na dn md nb nc dp mh li nd ne mj lm nf ng ml lq nh ni mn nj bi translated">您可以使用单元测试或硬编码值来测试不同的返回值</h2><p id="86b9" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">这需要付出很多努力，尤其是当测试这个方法可能没有意义的时候(如果它是一个私有方法呢？).如果您正在调试一个正在运行的应用程序，花了五分钟才到达您当前所在的行，并且您想要测试一个不同的返回值，却发现您需要停止程序，编辑代码以硬编码一个新值，或者编写一个单元测试，该怎么办？不太理想。单元测试也不允许您在结果UI中查看不同变量值的结果。</p><h2 id="b991" class="my ly it bd lz mz na dn md nb nc dp mh li nd ne mj lm nf ng ml lq nh ni mn nj bi translated">摘要</h2><p id="3ea0" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">将返回值捕获到变量中并不能提高可读性，因为方法名应该已经告诉了你将返回什么。然而，这也不会降低可读性。</p><p id="d811" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我看来，两行代码的好处(更容易调试)远远超过可以忽略的缺点(多一行代码)。</p></div></div>    
</body>
</html>