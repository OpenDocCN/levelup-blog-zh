<html>
<head>
<title>How I structure my React projects</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何构建我的React项目</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-i-structure-my-react-projects-34b35e18f91e?source=collection_archive---------0-----------------------#2021-09-05">https://levelup.gitconnected.com/how-i-structure-my-react-projects-34b35e18f91e?source=collection_archive---------0-----------------------#2021-09-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/0c05bfb483b4703a80adaffd0833c657.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MvOU--Wo77R2GoodKwks4g.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae kc" href="https://unsplash.com/photos/-nz-GTuvyBw" rel="noopener ugc nofollow" target="_blank">https://unsplash.com/photos/-nz-GTuvyBw</a></figcaption></figure><p id="715d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">自从我写了一篇关于如何构建Node.js REST APIs的<a class="ae kc" href="https://larswaechter.dev/blog/nodejs-rest-api-structure/" rel="noopener ugc nofollow" target="_blank">文章</a>已经有一段时间了。本文介绍了为Node.js应用程序设计组织良好且可维护的文件夹结构的方法。</p><p id="6c76" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以今天我不想谈论Node.js APIs，而是谈论React应用程序的架构，并再次回答上一篇文章中的同一个问题:</p><blockquote class="lb lc ld"><p id="7566" class="kd ke le kf b kg kh ki kj kk kl km kn lf kp kq kr lg kt ku kv lh kx ky kz la ij bi translated"><em class="iq">文件夹结构应该是什么样子？</em></p></blockquote><p id="007b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">再说一遍:这个问题没有完美或100%正确的答案，但互联网上有大量其他文章讨论这个问题。这种文件夹结构也部分基于它们中的多个。</p><p id="8cb1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">值得一提的是，React并没有真正告诉你如何组织你的项目，除了你应该避免过多的嵌套和过度思考。确切地说，他们说:(<a class="ae kc" href="https://reactjs.org/docs/faq-structure.html" rel="noopener ugc nofollow" target="_blank">来源</a>)</p><blockquote class="lb lc ld"><p id="1078" class="kd ke le kf b kg kh ki kj kk kl km kn lf kp kq kr lg kt ku kv lh kx ky kz la ij bi translated">React对你如何将文件放入文件夹没有意见。也就是说，在生态系统中有一些常见的方法你可以考虑。</p></blockquote><p id="a751" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">看一下链接的源代码，在那里你可以读到更多关于这些常用方法的内容。本文不再赘述。</p><p id="003c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面的结构和架构对我来说已经被证明是可维护和可靠的。它可能会帮助你设计你自己的项目。请记住，以下架构是基于一个用<a class="ae kc" href="https://github.com/facebook/create-react-app" rel="noopener ugc nofollow" target="_blank"> create-react-app </a>引导的应用程序，并且是用JavaScript编写的。</p><h1 id="244d" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">目录:根目录</h1><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="7088" class="mp lj iq ml b gy mq mr l ms mt">react-project<br/>├── node_modules<br/>├── public<br/>├── src<br/>├── package.json<br/>└── package-lock.json</span></pre><p id="5035" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个结构没什么特别的，对你来说不应该是新的。这实际上是一个基本的<a class="ae kc" href="https://github.com/facebook/create-react-app" rel="noopener ugc nofollow" target="_blank">创建-反应-应用</a>设置。这里有趣的部分是本文所涉及的<code class="fe mu mv mw ml b">src</code>文件夹的内容。</p><p id="e0c2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们这里有什么？</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="2481" class="mp lj iq ml b gy mq mr l ms mt">react-project<br/>├── api<br/>├── components<br/>├── i18n<br/>├── modules<br/>├── pages<br/>├── stores<br/>├── tests<br/>├── utils<br/>├── index.js<br/>├── main.js<br/>└── style.css</span></pre><p id="0333" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如您所见，该应用程序主要分为八个目录。从这里开始，我们将自上而下地浏览目录并检查每一个目录。</p><p id="4ce7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们从<code class="fe mu mv mw ml b">api</code>目录开始。</p><h1 id="57ee" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">目录:src/api</h1><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="713e" class="mp lj iq ml b gy mq mr l ms mt">react-project<br/>├── api<br/>│   ├── services<br/>│   │   ├── Job.js<br/>│   │   ├── User.js<br/>│   ├── auth.js<br/>│   └── axios.js</span></pre><p id="468f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mu mv mw ml b">api</code>目录包含所有负责React应用程序(前端)和API(后端)之间通信的服务。单个服务提供多种功能，使用HTTP协议从外部服务检索数据或将数据发送到外部服务。</p><p id="73d4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mu mv mw ml b">auth.js</code>提供认证功能，而<code class="fe mu mv mw ml b">axios.js</code>包含一个<a class="ae kc" href="https://www.npmjs.com/package/axios" rel="noopener ugc nofollow" target="_blank"> axios </a>实例，该实例包括用于传出HTTP请求和传入响应的拦截器。此外，刷新jwt的过程是在这里处理的。</p><h1 id="debb" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">目录:src/组件</h1><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="81a5" class="mp lj iq ml b gy mq mr l ms mt">react-project<br/>├── components<br/>│   ├── Job<br/>│   │   ├── Description.js<br/>│   │   └── Preview.js<br/>│   └── User<br/>│   │   ├── Card.js<br/>│   │   ├── Create.js<br/>│   │   └── List.js</span></pre><p id="5698" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你已经熟悉React，你应该知道它主要是基于组件的。组件实际上是每个React应用程序的核心。整个应用程序，至少是表示视图，是由许多小组件组成的。</p><p id="958d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么什么是组件呢？(<a class="ae kc" href="https://reactjs.org/docs/components-and-props.html" rel="noopener ugc nofollow" target="_blank">来源</a>)</p><blockquote class="lb lc ld"><p id="5057" class="kd ke le kf b kg kh ki kj kk kl km kn lf kp kq kr lg kt ku kv lh kx ky kz la ij bi translated"><em class="iq">组件让你将用户界面分割成独立的、可重用的部分，并孤立地考虑每一部分。</em></p></blockquote><p id="9735" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">想象一下，你有一个像Twitter或脸书这样的网站。大型网站由许多较小的部分(组件)组成，例如按钮、输入或小部件。这些碎片被放在一起，以建立更复杂和更大的。每个组件都有自己的生命周期和状态管理，因此您可以与其他组件共享组件的状态。</p><p id="6e4b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">组件在应用程序中被多次重用，以避免开发人员编写多余的代码。</p><blockquote class="lb lc ld"><p id="13a9" class="kd ke le kf b kg kh ki kj kk kl km kn lf kp kq kr lg kt ku kv lh kx ky kz la ij bi translated"><a class="ae kc" href="https://de.wikipedia.org/wiki/Don%E2%80%99t_repeat_yourself" rel="noopener ugc nofollow" target="_blank"> <em class="iq">【不重复自己(干)</em> </a></p></blockquote><p id="c424" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将代码库拆分成多个组件不仅仅是一件“反应”的事情。简化开发过程和后期维护是软件工程中的一种常见模式。</p><p id="274d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在React中，组件主要是一个简单的JavaScript函数或类。通常，我为每个单独的组件创建一个新文件。在一些罕见的情况下，我把它们(函数或类)组合成一个文件。想象一个呈现多个<code class="fe mu mv mw ml b">UserListItem</code>元素的<code class="fe mu mv mw ml b">UserList.js</code>组件:</p><figure class="mg mh mi mj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mx"><img src="../Images/bf0b795a28b7c63099b10530fe6c6637.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h68yhcYXsMGazdCa7lELBw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">用户列表&amp;用户列表项组件</figcaption></figure><p id="2e11" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这里，将两者合并到一个文件中是有意义的。此外，<code class="fe mu mv mw ml b">UserListItem</code>甚至可能没有被除了<code class="fe mu mv mw ml b">UserList</code>之外的任何其他组件使用。</p><p id="ceb4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">除了组件本身，您还可以将它们的样式表或测试添加到这个目录中。</p><h1 id="ab98" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">目录:src/i18n</h1><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="6df0" class="mp lj iq ml b gy mq mr l ms mt">react-project<br/>├── i18n<br/>│   ├── de.json<br/>│   └── en.json</span></pre><p id="952f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mu mv mw ml b">i18n</code>代表国际化，负责应用程序的语言支持。包含的JSON文件基本上是包含固定常量作为键和相关翻译作为值的对象。</p><p id="a975" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，每个语言文件的键应该是相同的。只有值(翻译)彼此不同。稍后，您可以通过编写自己的定制钩子或组件来轻松查询这些语言文件。</p><h1 id="58a5" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">目录:src/模块</h1><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="e9e2" class="mp lj iq ml b gy mq mr l ms mt">react-project<br/>├── modules<br/>│   ├── logger.js<br/>│   └── session.js</span></pre><p id="441f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个目录包括一些全局模块，例如，这些模块可能用于日志记录或者作为浏览器的<code class="fe mu mv mw ml b">LocalStorage</code>的包装器。</p><h1 id="2456" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">目录:src/pages</h1><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="eafd" class="mp lj iq ml b gy mq mr l ms mt">react-project<br/>├── pages<br/>│   ├── Home<br/>│   │   ├── components<br/>│   │   │   ├── Dashboard.js<br/>│   │   │   └── Welcome.js<br/>│   │   └── index.js<br/>│   ├── Login.js<br/>│   └── Profile.js</span></pre><p id="9b95" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mu mv mw ml b">pages</code>目录包括在应用程序中导航时访问的<code class="fe mu mv mw ml b">react-router-dom</code>路径。这里，我们将多个组件收集到一个更大的组件中，以显示一个完整的页面视图。</p><p id="cf17" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一个页面可能包含它自己的<code class="fe mu mv mw ml b">component</code>目录，其中包含只在这个页面上使用的“本地”组件。对于具有深度组件树的复杂页面，您可能想要检查一下<a class="ae kc" href="https://reactjs.org/docs/context.html" rel="noopener ugc nofollow" target="_blank"> React上下文API </a>，这使得沿着树传递属性和处理全局“页面状态”更加容易。</p><h1 id="adec" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">目录:src/stores</h1><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="6b6d" class="mp lj iq ml b gy mq mr l ms mt">react-project<br/>├── stores<br/>│   ├── language.js<br/>│   └── user.js</span></pre><p id="28ca" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">该目录包括所有全局React状态，可以从应用程序中的任何组件访问这些状态。虽然<a class="ae kc" href="https://react-redux.js.org/" rel="noopener ugc nofollow" target="_blank"> Redux </a>可能是管理全局状态最流行的解决方案，但我更喜欢使用<a class="ae kc" href="https://github.com/pmndrs/zustand" rel="noopener ugc nofollow" target="_blank"> zustand </a>。它很容易上手，而且它的API非常简单。</p><h1 id="ba60" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">目录:src/tests</h1><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="8f4a" class="mp lj iq ml b gy mq mr l ms mt">react-project<br/>├── tests<br/>│   ├── language.test.js<br/>│   └── utils.test.js</span></pre><p id="716d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mu mv mw ml b">tests</code>目录包括不属于某些组件的测试。例如，这可以是对算法实现的测试。此外，我验证并比较了我上面提到的语言文件的关键字，以确保我没有错过任何给定语言的翻译。</p><h1 id="1a6c" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">目录:src/utils</h1><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="44b2" class="mp lj iq ml b gy mq mr l ms mt">react-project<br/>├── utils<br/>│   ├── hooks<br/>│   │   ├── useChat.js<br/>│   │   ├── useOutsideAlerter.js<br/>│   │   ├── useToast.js<br/>│   ├── providers<br/>│   │   ├── HomeContextProvider.js<br/>│   │   ├── ToastContextProvider.js<br/>│   ├── colors.js<br/>│   ├── constants.js<br/>│   ├── index.js</span></pre><p id="90eb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里，我们有一堆实用工具，比如:定制钩子、上下文提供者、常量和帮助函数。请随意在此添加更多内容。</p><h1 id="37c0" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">一起</h1><p id="964d" class="pw-post-body-paragraph kd ke iq kf b kg my ki kj kk mz km kn ko na kq kr ks nb ku kv kw nc ky kz la ij bi translated">最后但同样重要的是，项目结构的完整概述:</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="2398" class="mp lj iq ml b gy mq mr l ms mt">react-project<br/>├── api<br/>│   ├── services<br/>│   │   ├── Job.js<br/>│   │   ├── User.js<br/>│   ├── auth.js<br/>│   └── axios.js<br/>├── components<br/>│   ├── Job<br/>│   │   ├── Description.js<br/>│   │   └── Preview.js<br/>│   └── User<br/>│   │   ├── Card.js<br/>│   │   ├── Create.js<br/>│   │   └── List.js<br/>├── i18n<br/>│   ├── de.json<br/>│   └── en.json<br/>├── modules<br/>│   ├── logger.js<br/>│   └── session.js<br/>├── pages<br/>│   ├── Home<br/>│   │   ├── components<br/>│   │   │   ├── Dashboard.js<br/>│   │   │   └── Welcome.js<br/>│   │   └── index.js<br/>│   ├── Login.js<br/>│   └── Profile.js<br/>├── stores<br/>│   ├── language.js<br/>│   └── user.js<br/>├── tests<br/>│   ├── language.test.js<br/>│   └── utils.test.js<br/>├── utils<br/>│   ├── hooks<br/>│   │   ├── useChat.js<br/>│   │   ├── useOutsideAlerter.js<br/>│   │   ├── useToast.js<br/>│   ├── providers<br/>│   │   ├── HomeContextProvider.js<br/>│   │   ├── ToastContextProvider.js<br/>│   ├── colors.js<br/>│   ├── constants.js<br/>│   ├── index.js<br/>├── index.js<br/>├── main.js<br/>└── style.css</span></pre><p id="e7df" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">就是这样！我希望这对不知道如何构建React应用程序或不知道如何开始的人有一点帮助。请随意提出任何建议。</p></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><p id="a050" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">这篇文章最初发表在我的博客上。看一看。</strong></p><div class="nk nl gp gr nm nn"><a href="https://larswaechter.dev/blog/react-project-structure/" rel="noopener  ugc nofollow" target="_blank"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd ir gy z fp ns fr fs nt fu fw ip bi translated">我如何构建我的React项目</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">自从我写了一篇关于如何构建Node.js REST APIs的文章已经有一段时间了。的…</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">拉斯瓦切特.德夫</p></div></div></div></a></div></div></div>    
</body>
</html>