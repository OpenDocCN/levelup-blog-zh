<html>
<head>
<title>Adding Weather Data To Your App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">向您的应用程序添加天气数据</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/adding-weather-data-to-your-app-66389e85f421?source=collection_archive---------10-----------------------#2020-11-03">https://levelup.gitconnected.com/adding-weather-data-to-your-app-66389e85f421?source=collection_archive---------10-----------------------#2020-11-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="c29c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你需要在你的应用程序中添加天气信息，有很多API可以提供你需要的数据。这是我用过的一个，我发现它非常容易实现。好吧，如果“天气api”这个名字对你来说不够简单，我想知道还有什么能引起你的注意。</p><p id="57d6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我已经写过几次关于我的高尔夫应用程序的文章，所以如果你读过一些博客，你可能知道它是通过谷歌地图实现的，使用GPS数据显示高尔夫球场和球洞信息。作为一名高尔夫球手，天气是对比赛有实质性影响的一个因素。像雨和风这样的条件会改变人们为郊游做准备的方式。因此，当我开发这个应用程序时，直到人们可以获得球场的当前天气状况，它才感觉完整。</p><p id="827b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果我在玩TPC Sawgrass，我可能想看看是否下雨，因为球场位于佛罗里达州。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/36520e3a547fa9235fa4ebe7fb5b8163.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UrYZIC50vbrD0aYohQpA3w.png"/></div></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/85f323986b43cd127c5b2920cfd39943.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6FpB3Xzn-4NDi8HNhWhAsA.png"/></div></div></figure><p id="05e8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然而，如果我在玩圆石滩高尔夫球场，我很可能会担心加利福尼亚海岸的风。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/cc71958e5c62d61a3b02c9280ba8d140.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dDjIEIV1XiDs8Q0NC4Lr-w.png"/></div></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/04d672ed8259c46809672ece43c07403.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3daPsl-MiZk6b6eTOgoKZA.png"/></div></div></figure><p id="0f50" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因为我已经有了球场的GPS位置数据(经度和纬度),天气api就派上了用场，因为数据查询是基于GPS的。让我们开始吧。</p><p id="e733" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，我们需要注册一个天气api账户。一旦注册，你会在你的账户下找到API密匙。这是我们请求天气数据所需要的。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/b207d0cd9aadc4b58eeae45204c23e57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HCbWexvBj8jxbOguZAV1OA.png"/></div></div></figure><p id="401f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我的应用程序中，我在一个模态窗口中设置了天气信息显示，它是通过点击菜单栏上的天气按钮来触发的。这是我用的JSX代码。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kx"><img src="../Images/acc2370564ad9c34248053016b329327.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5NG5H3dl6VgOEaSGHFcSVg.png"/></div></div></figure><p id="c838" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如上所示，我的模态元素由一个菜单项触发，该菜单项由一个调用getWeather函数的按钮组成。该功能是通过GPS横向和纵向的过程中，已经存储在我的页面组件的状态。当显示模式时，窗口的内容只是一个从天气状态获取值的标签。我将在下面的代码中展示如何设置它。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ky"><img src="../Images/039373776480dce9a4ea59c9feefac3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6v0pgmc9O0PqHt0BbA1cPw.png"/></div></div></figure><p id="b13b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了获得当前的天气数据，我们需要从api.weatherapi.com/v1/current.json.的天气api api中获取，我们需要从我们的帐户注册和我们的查询参数中提供API键(' q=lat，long ')。还有许多其他的API方法可以用来获取不同种类的天气数据。例如，如果您对预报信息而不是当前状况感兴趣，您可以使用api.weather.com/v1/forecast.json.所有天气信息以JSON格式返回，并带有各种数据点供您显示。对于当前条件，“当前”对象包含的数据包括温度(华氏温度和摄氏温度)、文本和图标形式的天气条件、风向、风速(英里和公里)、阵风、真实温度、紫外线指数等。你可以在这里  <em class="la">找到关于API方法和所有数据点<a class="ae kz" href="https://www.weatherapi.com/docs/" rel="noopener ugc nofollow" target="_blank"> <em class="la">的文档。</em></a></em></p><p id="05f2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你想展示你的应用程序的气象能力，你肯定可以用热指数、云量百分比等项目来过载它，甚至像月出和月相这样的东西，如果你认为常规的五天预报太单调的话。</p></div></div>    
</body>
</html>