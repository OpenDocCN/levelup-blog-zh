<html>
<head>
<title>Add Embedded Google Maps to Your Application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将嵌入式谷歌地图添加到您的应用程序中</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/add-embedded-google-maps-to-your-application-432605cdbeac?source=collection_archive---------11-----------------------#2020-06-27">https://levelup.gitconnected.com/add-embedded-google-maps-to-your-application-432605cdbeac?source=collection_archive---------11-----------------------#2020-06-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7145" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">跟随我的旅程(和解决方案)将Google Maps添加到您的应用程序中，让您免受痛苦和折磨。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/1b7d7437e1480c6b5bd37bb3298573e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VqAx4lVYYE45hWIW"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@hjkp?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">亨利·佩克斯</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="db09" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我已经为一个大项目工作了几个月了。我有一份任务清单，并试图一点一点地完成它们。</p><p id="c3d9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">本周，我开始着手“添加谷歌地图”的任务。我一直认为这是一个相对简单的任务。毕竟，谷歌地图已经存在很久了，而且谷歌对开发者也很友好。我很快意识到我的期望是错误的！😜</p><p id="30e9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当然，我做的第一件事是谷歌“将谷歌地图添加到我的应用程序中”。我通读了许多文章。我通读了<a class="ae kv" href="https://cloud.google.com/maps-platform" rel="noopener ugc nofollow" target="_blank">谷歌地图平台</a>网站上的大量文档。</p><p id="9eee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不用说，我被找到的大量信息淹没了。我不知道谷歌地图API实际上是一个由众多API组成的“平台”。</p><ul class=""><li id="d5c3" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated"><a class="ae kv" href="https://developers.google.com/maps/documentation/maps-static/intro" rel="noopener ugc nofollow" target="_blank">地图静态API </a></li><li id="85e7" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" href="https://developers.google.com/maps/documentation/embed/start" rel="noopener ugc nofollow" target="_blank">地图嵌入API </a></li><li id="5b1e" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" href="https://developers.google.com/maps/documentation/javascript/tutorial" rel="noopener ugc nofollow" target="_blank">映射JavaScript API </a></li><li id="c8fd" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" href="https://developers.google.com/maps/documentation/directions/start" rel="noopener ugc nofollow" target="_blank">方向API </a></li><li id="52c4" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" href="https://developers.google.com/maps/documentation/roads/intro" rel="noopener ugc nofollow" target="_blank">道路API </a></li><li id="2d22" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" href="https://developers.google.com/places/web-service/intro" rel="noopener ugc nofollow" target="_blank">场所API </a></li><li id="54b1" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" href="https://developers.google.com/maps/documentation/geocoding/start" rel="noopener ugc nofollow" target="_blank">地理编码API </a></li></ul><p id="8c6e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">…仅举几个例子…😵</p><p id="4b7d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我的例子中，我有一个包含地址的数据集。我只是希望输出包括一个指向该地址的小谷歌地图。听起来很简单，对吧？</p><p id="3a93" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，事实上非常简单。困难在于过滤信息，并找出什么过程对我的场景是有效的、适用的和当前的。所以，这是我学到的东西，我希望它能帮助其他人更快地达到他们想要的结果，比我付出的痛苦更少！👍</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="5c78" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">设计</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nf"><img src="../Images/58fd30a57db6b5627931931a14da12c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e3n9CxBs07hLXbSgRy9UBQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">医生列表项目</figcaption></figure><p id="8b8e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">根据我的设计，我确定我需要地图作为我的列表项组件中的一个单独的“组件”。我可以找到一个现有的组件，创建我自己的组件，或者至少，我可以使用一个<code class="fe ng nh ni nj b">iframe</code>。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="4b17" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">选项</h1><p id="c898" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">在我的研究中，我发现许多文章提供了看似无限的解决方案。作为开发人员，我们知道有许多方法可以解决问题；但是，我们也希望找到符合我们特定需求的最佳解决方案。</p><p id="eb91" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我正在使用<a class="ae kv" href="https://quasar.dev" rel="noopener ugc nofollow" target="_blank">类星体框架</a>构建这个应用程序。类星体框架包括许多<a class="ae kv" href="https://quasar.dev/vue-components" rel="noopener ugc nofollow" target="_blank">组件</a>，但没有任何谷歌地图。他们也有<a class="ae kv" href="https://quasar.dev/app-extensions/discover" rel="noopener ugc nofollow" target="_blank">应用扩展库</a>，但也没有运气。我在Quasar论坛上找到了关于这个话题的讨论，但最终我没有找到好的答案，只是一些和我一样的问题(和挫折)。</p><p id="3f65" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Quasar框架建立在<a class="ae kv" href="https://vuejs.org/" rel="noopener ugc nofollow" target="_blank"> Vue.js </a>之上。下一个合乎逻辑的地方是NPM，看看是否有人发布了Vue和谷歌地图的软件包。找到了40多个包，但没有一个是我真正需要的。我玩了几个包，但发现它们是针对不同的场景，或者它们认为我有可用的纬度和经度。我只有一个地址。一些软件包专门针对移动设备。许多软件包比较旧，不支持Webpack。每扇门后似乎都有另一个问题。总有一天…</p><blockquote class="np nq nr"><p id="c84e" class="kw kx ns ky b kz la jr lb lc ld ju le nt lg lh li nu lk ll lm nv lo lp lq lr ij bi translated">我想这最后一段可能会得到一些评论，让我知道我完全错了，有很好的软件包可用。这很可能是真的，但经过几个小时的反复试验，我决定继续前进。😫</p></blockquote><p id="7f03" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">几个小时后，我离开了组件和包搜索，开始寻找与Google Maps Platform(GMP)API的直接交互。长话短说，我知道的太晚了，这就是我着陆的地方。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="65f7" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">解决方案</h1><p id="6b31" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">我最初逆向解决了这个问题。我知道我想要一张“嵌入式”地图。GMP中包含的[许多] API之一是Maps Embed API。听起来很完美！</p><p id="306e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Google文档中这个API的第一个例子是:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="0dbe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">由此，我显然知道我需要一个API密匙。好消息是，这样做与<a class="ae kv" href="https://developers.google.com/maps/documentation/embed/get-api-key" rel="noopener ugc nofollow" target="_blank">直截了当的指令</a>有明显的联系:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/54c790662474b2233e78499910f1328a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FC9CmQieMC8n4uG-tL7kAw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">获取API密钥</figcaption></figure><p id="bc29" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Map Embed API还声明它<strong class="ky ir">必须在一个<em class="ns"> iframe </em> </strong>中使用。这很棒，因为这是我在设计时的选择之一。所以我只需要派生一个地图URL，并填充<em class="ns"> iframe </em>的<em class="ns"> src </em>属性。听起来很简单！😥</p><p id="b634" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">嵌入URL的结构如下:</p><pre class="kg kh ki kj gt nz nj oa ob aw oc bi"><span id="6ae2" class="od mo iq nj b gy oe of l og oh">https://www.google.com/maps/embed/v1/{MODE}?key={YOUR_API_KEY}&amp;<em class="ns">parameters</em></span></pre><blockquote class="np nq nr"><p id="e3f1" class="kw kx ns ky b kz la jr lb lc ld ju le nt lg lh li nu lk ll lm nv lo lp lq lr ij bi translated">其中:</p><p id="f1f1" class="kw kx ns ky b kz la jr lb lc ld ju le nt lg lh li nu lk ll lm nv lo lp lq lr ij bi translated"><code class="fe ng nh ni nj b">{MODE}</code>是<code class="fe ng nh ni nj b">place</code>、<code class="fe ng nh ni nj b">search</code>、<code class="fe ng nh ni nj b">view</code>、<code class="fe ng nh ni nj b">directions</code>或<code class="fe ng nh ni nj b">streetview</code>中的一种。</p><p id="cf73" class="kw kx ns ky b kz la jr lb lc ld ju le nt lg lh li nu lk ll lm nv lo lp lq lr ij bi translated"><code class="fe ng nh ni nj b">{YOUR_API_KEY}</code>是你的免费API密匙。</p><p id="8a21" class="kw kx ns ky b kz la jr lb lc ld ju le nt lg lh li nu lk ll lm nv lo lp lq lr ij bi translated"><code class="fe ng nh ni nj b">parameters</code>包括<a class="ae kv" href="https://developers.google.com/maps/documentation/embed/guide#optional_parameters" rel="noopener ugc nofollow" target="_blank">可选参数</a>，以及模式特定参数。</p></blockquote><p id="82dc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过阅读不同的模式，我确定<em class="ns">位置</em>最适合我的场景。place模式可以接受转义地址或<em class="ns"> place_id </em>。基于我找到的例子，我决定使用<em class="ns"> place_id </em>参数。</p><p id="8cee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为我的数据中只有一个地址字符串，所以我仍然需要弄清楚如何获得一个<em class="ns"> place_id。</em></p><p id="11ab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">经过更多的(也就是几个小时的)研究，我发现了地理编码API。原来这个API接受一个地址字符串，不仅返回<em class="ns"> place_id </em>，还返回其他GMP APIs需要的所有“地理编码”细节。</p><p id="08d5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，以下是地理编码API文档中的请求和响应:</p><p id="6da7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请求:</p><pre class="kg kh ki kj gt nz nj oa ob aw oc bi"><span id="7b02" class="od mo iq nj b gy oe of l og oh"><a class="ae kv" href="https://maps.googleapis.com/maps/api/geocode/json?" rel="noopener ugc nofollow" target="_blank">https://maps.googleapis.com/maps/api/geocode/json</a> \<br/>?address=1600+Amphitheatre+Parkway,+Mountain+View,+CA \ &amp;key=YOUR_API_KEY</span></pre><p id="7138" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">回应:</p><pre class="kg kh ki kj gt nz nj oa ob aw oc bi"><span id="4f45" class="od mo iq nj b gy oe of l og oh">{<br/>   "results" : [<br/>      {<br/>         "address_components" : [<br/>            {<br/>               "long_name" : "1600",<br/>               "short_name" : "1600",<br/>               "types" : [ "street_number" ]<br/>            },<br/>            {<br/>               "long_name" : "Amphitheatre Parkway",<br/>               "short_name" : "Amphitheatre Pkwy",<br/>               "types" : [ "route" ]<br/>            },<br/>            {<br/>               "long_name" : "Mountain View",<br/>               "short_name" : "Mountain View",<br/>               "types" : [ "locality", "political" ]<br/>            },<br/>            {<br/>               "long_name" : "Santa Clara County",<br/>               "short_name" : "Santa Clara County",<br/>               "types" : [ "administrative_area_level_2", "political" ]<br/>            },<br/>            {<br/>               "long_name" : "California",<br/>               "short_name" : "CA",<br/>               "types" : [ "administrative_area_level_1", "political" ]<br/>            },<br/>            {<br/>               "long_name" : "United States",<br/>               "short_name" : "US",<br/>               "types" : [ "country", "political" ]<br/>            },<br/>            {<br/>               "long_name" : "94043",<br/>               "short_name" : "94043",<br/>               "types" : [ "postal_code" ]<br/>            }<br/>         ],<br/>         "formatted_address" : "1600 Amphitheatre Pkwy, Mountain View, CA 94043, USA",<br/>         "geometry" : {<br/>            "location" : {<br/>               "lat" : 37.4267861,<br/>               "lng" : -122.0806032<br/>            },<br/>            "location_type" : "ROOFTOP",<br/>            "viewport" : {<br/>               "northeast" : {<br/>                  "lat" : 37.4281350802915,<br/>                  "lng" : -122.0792542197085<br/>               },<br/>               "southwest" : {<br/>                  "lat" : 37.4254371197085,<br/>                  "lng" : -122.0819521802915<br/>               }<br/>            }<br/>         },<br/>         "place_id" : "ChIJtYuu0V25j4ARwu5e4wwRYgE",<br/>         "plus_code" : {<br/>            "compound_code" : "CWC8+R3 Mountain View, California, United States",<br/>            "global_code" : "849VCWC8+R3"<br/>         },<br/>         "types" : [ "street_address" ]<br/>      }<br/>   ],<br/>   "status" : "OK"<br/>}</span></pre><p id="e7ff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这个惊人的输出中间，你可以看到<em class="ns"> place_id </em>。答对了。我觉得这是可以使用的正确API，因为如果我决定将来使用它们，我可以将它用于Map Embed API和其他GMP APIs。</p><p id="d8a6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如我之前提到的，最终，解决方案非常简单:</p><ol class=""><li id="30f4" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr oi ly lz ma bi translated">使用我的地址向地理编码API发出请求</li><li id="9cd4" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr oi ly lz ma bi translated">取回<em class="ns"> place_id </em></li><li id="6e88" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr oi ly lz ma bi translated">使用<em class="ns"> place_id </em>请求映射嵌入API</li><li id="9f69" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr oi ly lz ma bi translated">获取嵌入的地图URL</li><li id="d5bb" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr oi ly lz ma bi translated">将URL放入一个<em class="ns"> iframe </em>的<em class="ns"> src </em>属性</li><li id="93fe" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr oi ly lz ma bi translated">兴奋地欢呼！👏</li></ol><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="c39f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上面是我的`<em class="ns"> google.js` </em>文件，我调用它来获取地图URL。</p><ol class=""><li id="49c4" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr oi ly lz ma bi translated">从我的应用程序中，我调用了getGoogleMapUrl函数，并传入了我的地址值。您在这里传递的内容非常灵活，因为我的数据源有街道、城市、州和邮政编码。</li><li id="1ad9" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr oi ly lz ma bi translated"><em class="ns"> getGoogleMapUrl </em>函数调用<em class="ns"> getGoogleGeocode </em>函数</li><li id="5cf9" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr oi ly lz ma bi translated"><em class="ns"> getGoogleGeocode </em>函数对地址进行转义(用“+”替换空格)并调用地理编码API。</li><li id="da05" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr oi ly lz ma bi translated">整个地理编码输出返回给<em class="ns"> getGoogleMapUrl </em></li><li id="a74f" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr oi ly lz ma bi translated">提取<em class="ns"> place_id </em>值并注入到嵌入API URL中。</li><li id="61c7" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr oi ly lz ma bi translated">该URL返回到我的应用程序，并直接分配给一个<em class="ns"> iframe </em> <em class="ns"> src </em>属性。</li></ol></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="51ea" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">结果呢</h1><p id="4fcd" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">经过几个小时的挫折，我终于能够享受我的劳动成果。虽然我对这个任务没有我想象的那么简单感到失望，但最终结果正是我想要的，完全令人满意。以至于激发了我写第一篇文章的灵感！</p><p id="158f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上面“设计”一节中使用的图像来自工作应用程序的一个截图。我可以控制地图的大小，初始缩放，它是可点击的。</p><p id="515c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这正是我想要的！</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="c25d" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">经验教训</h1><p id="1602" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">除了努力寻找正确的API之外，在这个过程中还有一些问题(情况不总是这样吗？).</p><h2 id="6f61" class="od mo iq bd mp oj ok dn mt ol om dp mx lf on oo mz lj op oq nb ln or os nd ot bi translated">启用API</h2><p id="1ee4" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">在Google Cloud控制台中，您必须启用您将使用的所有单独的GMP API。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ou"><img src="../Images/62a2bf33583e49b67d9dc149ecfec4a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tJYIFryuPWZ-3hDkFpQc3g.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">GMP入门</figcaption></figure><p id="ed7f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Google文档中的链接网最终让我找到了GMP的通用“入门”指南，它显示了基本的先决条件。你需要一个谷歌帐户和一个启用计费的谷歌云项目。然后启用每个API并创建一个API键。听起来很简单！😥</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/27811df60106b13e4de05a446d7ca02f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1258/format:webp/1*qfN-96pqp2DOhP3WHV7ZLQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">启用Google地图API</figcaption></figure><p id="e2a6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如您所见，我启用了地理编码、地图嵌入、地图JavaScript和位置API。我提出的解决方案只使用了地理编码和地图嵌入API。其他的都是在我反复试验的过程中启用的，但是我选择离开它们，因为我将继续学习更多的GMP API。</p><h2 id="dd4d" class="od mo iq bd mp oj ok dn mt ol om dp mx lf on oo mz lj op oq nb ln or os nd ot bi translated">使用成本</h2><p id="9a1e" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">我需要更深入地了解相关的成本。我所知道的是，每个API都有自己的定价模型。对于所有GMP请求，您每个月将获得200美元的积分。在下面的计费窗口小部件中，您可以看到指示信用限额的红线，下面的栏开始显示六月份的信用限额。这是我迄今为止开发和测试工作的结果。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ow"><img src="../Images/c8601df27f4db0bbd4f3fd18e22aba6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q1jZFpygcXi5tbk6srmgow.png"/></div></div></figure><p id="b28b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你需要自己研究定价，因为我不能保证你的实现是“免费”的解决方案。</p><h2 id="8dae" class="od mo iq bd mp oj ok dn mt ol om dp mx lf on oo mz lj op oq nb ln or os nd ot bi translated">韵律学</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ox"><img src="../Images/c98b4c1f5d8d497fa85eb22989a50224.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Llyy5ecFB7lmZJvzldnu1g.png"/></div></div></figure><p id="acd3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">谷歌云控制台确实提供了API使用的指标；然而，我发现这些指标并不是实时更新的。直到第二天，我才从最初的测试中看到任何指标。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><p id="4b9b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">更多文章由<a class="oy oz ep" href="https://medium.com/u/831caef304ef?source=post_page-----432605cdbeac--------------------------------" rel="noopener" target="_blank">特洛伊·莫兰</a></p><div class="pa pb gp gr pc pd"><a href="https://graypes.medium.com" rel="noopener follow" target="_blank"><div class="pe ab fo"><div class="pf ab pg cl cj ph"><h2 class="bd ir gy z fp pi fr fs pj fu fw ip bi translated">特洛伊·莫兰-中等</h2><div class="pk l"><h3 class="bd b gy z fp pi fr fs pj fu fw dk translated">你在用Vue，Vuex，云Firestore吗？即使你不使用Firestore，你仍然应该阅读这篇文章，因为…</h3></div><div class="pl l"><p class="bd b dl z fp pi fr fs pj fu fw dk translated">graypes.medium.com</p></div></div><div class="pm l"><div class="pn l po pp pq pm pr kp pd"/></div></div></a></div></div></div>    
</body>
</html>