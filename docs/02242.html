<html>
<head>
<title>5 Software Architectures You Can Quickly Prototype on PaaS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">您可以在PaaS上快速原型化5种软件架构</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/5-software-architectures-you-can-quickly-prototype-on-paas-285414140a26?source=collection_archive---------14-----------------------#2020-02-28">https://levelup.gitconnected.com/5-software-architectures-you-can-quickly-prototype-on-paas-285414140a26?source=collection_archive---------14-----------------------#2020-02-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/920cf1581d2ba1357fa5c01abf5edbf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qPL07Wi5r7O3aOSBhZa9Gw.jpeg"/></div></div></figure><p id="8dd4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">有时，作为一名架构师或开发人员，您想尝试一种新的技术堆栈或技术解决方案，但似乎找不到时间来安装、配置、调试和理解一个全新的概念。实验是一项繁重的工作，项目截止日期排在第一位，新技术通常是你最后的优先事项之一。</p><p id="11d9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然而，平台即服务(PaaS)可以提供帮助。PaaS的优势之一是预配置部署的速度和简单性。您可以滚动选项列表，单击一两个按钮，在几分钟内就可以部署、运行参考体系结构或示例项目，并为实验做好准备。</p><p id="8250" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在本文中，我们将回顾五种可以使用PaaS快速尝试的架构。大多数PaaS平台都支持原型开发。对于我们的例子，我们将使用Heroku及其“<a class="ae kz" href="https://elements.heroku.com/buttons/" rel="noopener ugc nofollow" target="_blank">一键式部署</a>和<a class="ae kz" href="https://www.terraform.io/intro/index.html" rel="noopener ugc nofollow" target="_blank">地形</a>脚本，因为它们易于使用。你需要一个Heroku账户来开始，尽管基本的免费计划适用于这些例子中的大多数(我会注意你哪里需要更多)。</p><h2 id="d3b5" class="la lb it bd lc ld le dn lf lg lh dp li km lj lk ll kq lm ln lo ku lp lq lr ls bi translated"><strong class="ak"> 1。使用平均堆栈的RESTful应用</strong></h2><p id="daf7" class="pw-post-body-paragraph kb kc it kd b ke lt kg kh ki lu kk kl km lv ko kp kq lw ks kt ku lx kw kx ky im bi translated">平均堆栈已经成为现代网络开发的基石。这个堆栈由<a class="ae kz" href="https://www.mongodb.com/" rel="noopener ugc nofollow" target="_blank"> MongoDB </a>、<a class="ae kz" href="https://expressjs.com/" rel="noopener ugc nofollow" target="_blank"> Express.js </a>、<a class="ae kz" href="https://angularjs.org/" rel="noopener ugc nofollow" target="_blank"> AngularJS </a>和<a class="ae kz" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> Node.js </a>组成，具有可伸缩性和可扩展性。它通常是云托管应用的首选堆栈。</p><p id="57ad" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">对于初学者来说，MEAN stack也是一个很好的起点，因为这些技术在能够提供帮助和支持的活跃社区中很受欢迎。额外的好处是，您只需要知道客户机和服务器的一种语言——JavaScript。</p><p id="8820" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae kz" href="https://devcenter.heroku.com/articles/mean-apps-restful-api" rel="noopener ugc nofollow" target="_blank">使用这个一键部署</a>来部署一个简单的“联系人列表”应用。此部署:</p><ul class=""><li id="3a94" class="ly lz it kd b ke kf ki kj km ma kq mb ku mc ky md me mf mg bi translated">在Express和Node.js中创建RESTful API服务</li><li id="6c47" class="ly lz it kd b ke mh ki mi km mj kq mk ku ml ky md me mf mg bi translated">将MongoDB数据库连接到API服务器</li><li id="35e8" class="ly lz it kd b ke mh ki mi km mj kq mk ku ml ky md me mf mg bi translated">使用Angular创建丰富的web应用程序</li></ul><p id="6107" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">或者，从同一个链接，您可以一步一步地完成教程，自己创建和部署应用程序。</p><h2 id="9b54" class="la lb it bd lc ld le dn lf lg lh dp li km lj lk ll kq lm ln lo ku lp lq lr ls bi translated"><strong class="ak"> 2。异步网络工人</strong></h2><p id="c3b6" class="pw-post-body-paragraph kb kc it kd b ke lt kg kh ki lu kk kl km lv ko kp kq lw ks kt ku lx kw kx ky im bi translated">长时间运行的服务器请求会降低应用程序的性能和可伸缩性。处理这些问题的标准方式是使用<a class="ae kz" href="https://devcenter.heroku.com/articles/background-jobs-queueing" rel="noopener ugc nofollow" target="_blank">异步web workers来完成任务</a>。将长时间运行的任务转移到后台工作人员可以释放资源并保持应用程序的响应速度。</p><figure class="mn mo mp mq gt ju gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/db1910cca3dc5f64923d8c09980794c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1070/0*Ky-UgiqFmE9cNHTW"/></div><figcaption class="mr ms gj gh gi mt mu bd b be z dk translated"><em class="mv">为任务使用后台服务的示例架构</em></figcaption></figure><p id="5605" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">实现异步web workers的一种流行方式是使用队列。队列从客户端获取工作请求，存储它们，并保证移交给一群工作人员。<a class="ae kz" href="https://devcenter.heroku.com/articles/asynchronous-web-worker-model-using-rabbitmq-in-java" rel="noopener ugc nofollow" target="_blank">这个参考架构</a>使用Java、<a class="ae kz" href="https://spring.io/guides/gs/serving-web-content/" rel="noopener ugc nofollow" target="_blank"> Spring MVC </a>、<a class="ae kz" href="https://www.rabbitmq.com/" rel="noopener ugc nofollow" target="_blank"> RabbitMQ </a>和<a class="ae kz" href="http://www.amqp.org/" rel="noopener ugc nofollow" target="_blank"> AMPQ </a>实现了这个设计。</p><p id="a087" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">为了开始，你可以很容易地<a class="ae kz" href="https://github.com/heroku/devcenter-java-web-worker/" rel="noopener ugc nofollow" target="_blank">克隆这个项目</a>用于你自己的实验。该项目创造了:</p><ul class=""><li id="3990" class="ly lz it kd b ke kf ki kj km ma kq mb ku mc ky md me mf mg bi translated">Web——一个Spring MVC应用程序，它接收web请求并在RabbitMQ中对它们进行排队</li><li id="9170" class="ly lz it kd b ke mh ki mi km mj kq mk ku ml ky md me mf mg bi translated">worker——一个独立的Java应用程序，使用Spring AMPQ来读取和处理来自RabbitMQ的消息</li></ul><p id="1fa2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">参考架构还包括项目中关键类的演练。</p><p id="6d1b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">对于队列的另一个快速部署示例，<a class="ae kz" href="https://dev.to/heroku/scale-your-apps-with-an-easy-message-queue-on-redis-4glp" rel="noopener ugc nofollow" target="_blank">查看这篇关于使用RSMQ和Reddis创建队列的文章</a>。</p><h2 id="9bc7" class="la lb it bd lc ld le dn lf lg lh dp li km lj lk ll kq lm ln lo ku lp lq lr ls bi translated"><strong class="ak"> 3。与Salesforce的反应式集成</strong></h2><p id="a224" class="pw-post-body-paragraph kb kc it kd b ke lt kg kh ki lu kk kl km lv ko kp kq lw ks kt ku lx kw kx ky im bi translated">Salesforce在技术社区中无处不在。它的工具和平台被用于各种各样的目的，远远超出了基本的CRM。联系Salesforce生态圈来观察事件或对事件做出反应是一种常见的需求。</p><p id="8546" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae kz" href="https://github.com/heroku-examples/salesforce-streams-nodejs" rel="noopener ugc nofollow" target="_blank">此参考架构</a>利用Salesforce平台事件和变更数据捕获来创建响应Salesforce活动的应用程序。</p><p id="5d44" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">该应用程序有一个基于web的用户界面和两个服务器端进程:</p><ul class=""><li id="6cda" class="ly lz it kd b ke kf ki kj km ma kq mb ku mc ky md me mf mg bi translated">stream-consumer . js-sales force流API消费者</li><li id="df5f" class="ly lz it kd b ke mh ki mi km mj kq mk ku ml ky md me mf mg bi translated">server.js向web浏览器提供帐户更改的web应用程序和API</li></ul><p id="c124" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">以下是部署的基本架构:</p><figure class="mn mo mp mq gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mw"><img src="../Images/3c89195ccbfca68bbc3b1e2ffa5877ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rQdu2RjUNOouqDab"/></div></div><figcaption class="mr ms gj gh gi mt mu bd b be z dk translated"><em class="mv">与Salesforce的反应式集成概述</em></figcaption></figure><p id="1a37" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">由于Salesforce设置可能非常复杂，因此这一部署不仅仅需要单击一下。但是，该示例应用程序应该为您提供一种快速、简单的方法来理解和测试Salesforce集成。</p><h2 id="8ca6" class="la lb it bd lc ld le dn lf lg lh dp li km lj lk ll kq lm ln lo ku lp lq lr ls bi translated"><strong class="ak"> 4。事件驱动的微服务</strong></h2><p id="9b46" class="pw-post-body-paragraph kb kc it kd b ke lt kg kh ki lu kk kl km lv ko kp kq lw ks kt ku lx kw kx ky im bi translated">如果您是一名企业架构师，您可能听说过并使用过微服务架构。虽然您过去可能使用REST作为您的服务通信层，<a class="ae kz" href="https://dev.to/heroku/best-practices-for-event-driven-microservice-architecture-2lh7" rel="noopener ugc nofollow" target="_blank">越来越多的项目正在转向事件驱动架构</a>。事件驱动在以下情况下很受欢迎:</p><ul class=""><li id="56d3" class="ly lz it kd b ke kf ki kj km ma kq mb ku mc ky md me mf mg bi translated">您有大量需要异步通信的微服务。</li><li id="d912" class="ly lz it kd b ke mh ki mi km mj kq mk ku ml ky md me mf mg bi translated">您希望您的微服务是解耦的、可替换的和独立维护的。</li><li id="ee09" class="ly lz it kd b ke mh ki mi km mj kq mk ku ml ky md me mf mg bi translated">您有一个或多个产生事件的服务，这些事件需要由许多服务来处理。</li><li id="190b" class="ly lz it kd b ke mh ki mi km mj kq mk ku ml ky md me mf mg bi translated">您希望使用比典型的HTTPS方法更具解耦性的微服务通信模式。</li></ul><p id="b062" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae kz" href="https://devcenter.heroku.com/articles/event-driven-microservices-with-apache-kafka" rel="noopener ugc nofollow" target="_blank">有了这个参考架构</a>,您可以部署一个完整的事件驱动的Apache Kafka架构的工作实现，它由客户端、生产者、消费者和仪表板组成。您需要首先在您的环境上做一些准备工作，但是一旦设置好了，您就可以使用一个单击式Terrascript来部署整个示例项目。</p><p id="6ef4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">要更详细地了解这个参考架构，<a class="ae kz" href="https://dev.to/heroku/how-stream-processing-makes-your-event-driven-architecture-even-better-5ehg" rel="noopener ugc nofollow" target="_blank">查看这篇关于流处理的文章</a>。</p><p id="1d63" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">*注意:您将需要一个<a class="ae kz" href="https://www.heroku.com/pricing" rel="noopener ugc nofollow" target="_blank">标准计划</a>来部署此参考架构。</p><h2 id="bede" class="la lb it bd lc ld le dn lf lg lh dp li km lj lk ll kq lm ln lo ku lp lq lr ls bi translated"><strong class="ak"> 5。私有云通信</strong></h2><p id="3356" class="pw-post-body-paragraph kb kc it kd b ke lt kg kh ki lu kk kl km lv ko kp kq lw ks kt ku lx kw kx ky im bi translated">如果你运行的是AWS服务，比如亚马逊VPC的Redshift或RDS，你可能正在寻找一种方法通过私有连接将你的应用程序连接到这些服务。这个示例项目实现了私有的多云通信，因此您的应用程序可以与您的AWS服务进行私有通信，而无需穿越公共互联网。</p><p id="b298" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果您使用Amazon红移集群来分析数据，这可能会很有用。您可以将VPC连接到您的应用程序，并将数据从Postgres数据库安全地传输到Redshift集群进行分析。</p><p id="881e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae kz" href="https://devcenter.heroku.com/articles/peering-aws-rds-aws-redshift-with-heroku" rel="noopener ugc nofollow" target="_blank">这个Terraform脚本</a>易于部署，创建了一个简单的私有云通信实现。当您运行脚本时，它会:</p><ul class=""><li id="c3f9" class="ly lz it kd b ke kf ki kj km ma kq mb ku mc ky md me mf mg bi translated">创建亚马逊VPC和亚马逊红移集群</li><li id="c925" class="ly lz it kd b ke mh ki mi km mj kq mk ku ml ky md me mf mg bi translated">同行的<a class="ae kz" href="https://www.heroku.com/private-spaces" rel="noopener ugc nofollow" target="_blank"> Heroku私人空间</a>和VPC，并设置相应的安全组</li><li id="7a87" class="ly lz it kd b ke mh ki mi km mj kq mk ku ml ky md me mf mg bi translated">将一个红移客户端应用程序部署到Heroku，该应用程序连接到红移数据库</li></ul><figure class="mn mo mp mq gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mx"><img src="../Images/26e91dc4e71acca2433306a4ddbb607d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*50QUrYItK2rBdZskrCcafQ.png"/></div></div><figcaption class="mr ms gj gh gi mt mu bd b be z dk translated"><em class="mv">私有云通信</em></figcaption></figure><p id="04df" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">设置有几个步骤，您需要熟悉VPCs的管理，但是您将很快启动并运行安全连接。</p><p id="7641" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">*注意:你需要一个<a class="ae kz" href="https://www.heroku.com/enterprise" rel="noopener ugc nofollow" target="_blank">企业计划</a>来部署这个例子(为了有一个Heroku私人空间)</p><p id="6c53" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">结论</strong></p><p id="5354" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">PaaS不仅简化了部署和开发工作，还提供了一种快速、高效的方法来测试新的架构和技术。</p></div></div>    
</body>
</html>