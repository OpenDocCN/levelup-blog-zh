<html>
<head>
<title>Everything you need to know about JavaScript symbols</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于JavaScript符号你需要知道的一切</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/everything-you-need-to-know-about-javascript-symbols-24650a163038?source=collection_archive---------2-----------------------#2020-03-15">https://levelup.gitconnected.com/everything-you-need-to-know-about-javascript-symbols-24650a163038?source=collection_archive---------2-----------------------#2020-03-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/af45065ef0337bc1cc0eb2e936ae8c71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*13nRTbL0V3Idd3fDdKGkjQ.png"/></div></div></figure><p id="9da0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">一个<strong class="kd iu"> JavaScript符号</strong>是一个相对较新的JavaScript“特性”。它于2015年作为<a class="ae kz" href="http://es6-features.org" rel="noopener ugc nofollow" target="_blank"> ES6 </a>的一部分推出。在本文中，我将介绍:</p><ol class=""><li id="d4c6" class="la lb it kd b ke kf ki kj km lc kq ld ku le ky lf lg lh li bi translated">JavaScript符号到底是什么</li><li id="7203" class="la lb it kd b ke lj ki lk km ll kq lm ku ln ky lf lg lh li bi translated">将数据类型添加到语言中的动机</li><li id="47c5" class="la lb it kd b ke lj ki lk km ll kq lm ku ln ky lf lg lh li bi translated">数据类型是否成功地解决了它应该解决的问题</li><li id="cccc" class="la lb it kd b ke lj ki lk km ll kq lm ku ln ky lf lg lh li bi translated">与其他语言中符号数据类型的区别，例如Ruby</li><li id="13b0" class="la lb it kd b ke lj ki lk km ll kq lm ku ln ky lf lg lh li bi translated">众所周知的JavaScript符号</li><li id="6a47" class="la lb it kd b ke lj ki lk km ll kq lm ku ln ky lf lg lh li bi translated">受益于数据类型</li></ol></div><div class="ab cl lo lp hx lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="im in io ip iq"><h1 id="4fd2" class="lv lw it bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms bi translated">JavaScript符号</h1><p id="7311" class="pw-post-body-paragraph kb kc it kd b ke mt kg kh ki mu kk kl km mv ko kp kq mw ks kt ku mx kw kx ky im bi translated">2015年，JavaScript中的原始数据类型阵容中增加了符号。它是ES6规范的一部分，其唯一目的是充当对象属性的<strong class="kd iu">唯一标识符，即它可以用作对象中的<strong class="kd iu">键</strong>。你可以<strong class="kd iu">认为</strong>符号是大数字，每次你创建一个符号，一个新的随机数就会产生<em class="my"> (uuid) </em>。您可以使用符号<em class="my">(随机大数字)</em>作为对象中的键。</strong></p><p id="8cee" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">通过调用symbol函数来创建符号，该函数采用一个可选的参数字符串，该字符串仅用于调试目的，并作为符号的描述。Symbol函数返回唯一的符号值。</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mz"><img src="../Images/4c7e4c72837e74d1c2db062441da60c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CbM8A2Xj43EjYVz8Vmi_Og.png"/></div></div></figure><p id="db51" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">注意，符号不是构造函数，不能用<strong class="kd iu"> new </strong>调用<strong class="kd iu"/>。</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ne"><img src="../Images/fc0375992131da66fd08b6df87ed6ceb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9i7eeHcx4t-NCESG71aZbQ.png"/></div></div></figure><p id="b73c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">也可以创建分配给<strong class="kd iu">全局符号注册表</strong>的符号。方法<code class="fe nf ng nh ni b"><strong class="kd iu">Symbol.for()</strong></code>和<code class="fe nf ng nh ni b"><strong class="kd iu">Symbol.keyFor()</strong></code>帮助创建和读取全局符号注册表中的符号。<code class="fe nf ng nh ni b"><strong class="kd iu">Symbol.for()</strong></code>方法在全局符号注册表中查找，并根据是否找到来检索或初始化符号。</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nj"><img src="../Images/591a794b017b5f8c5535338664db3ecf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IBCJQzFflSlnOAgMYNP4MA.png"/></div></div></figure><p id="3907" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">并且<code class="fe nf ng nh ni b"><strong class="kd iu">Symbol.keyFor()</strong></code>方法在全局符号注册表中查找符号，如果找到则返回它的键，否则返回<code class="fe nf ng nh ni b">undefined</code>。可以将全局符号注册表看作一个全局对象，其中键是传递给<code class="fe nf ng nh ni b"><strong class="kd iu">Symbol.for()</strong></code>的字符串，值是符号。</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nk"><img src="../Images/16a13acc0d7d85e7e33e65ad2f95e9b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HZ06QgqZp3IQOpQ6LuYkkQ.png"/></div></div></figure><p id="2877" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">注册到全局符号注册表的符号不仅可以在所有范围内访问，甚至可以跨领域访问。</p></div><div class="ab cl lo lp hx lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="im in io ip iq"><h1 id="cfac" class="lv lw it bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms bi translated">添加新数据类型的动机</h1><p id="dce8" class="pw-post-body-paragraph kb kc it kd b ke mt kg kh ki mu kk kl km mv ko kp kq mw ks kt ku mx kw kx ky im bi translated">添加数据类型的原因之一是在JavaScript中启用私有属性。在符号之前，隐私或不变性是通过闭包、代理和其他变通方法解决的。但是所有的解决方案都过于冗长，需要大量的代码和逻辑来实现它们的目的。</p><p id="473e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">让我们看看这个符号是如何解决这个问题的。从symbol函数返回的每个符号值都是唯一的，可以用作对象属性标识符。这是这个符号的主要目的。</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nl"><img src="../Images/0bae5d7631047d25c3caca764b160e9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4aakLJrmi1vCnqPIncSFDw.png"/></div></div></figure><p id="a69b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">因为每个符号都是唯一的，而且两个符号不可能彼此相等，所以如果某个符号被用作属性标识符，并且在某个范围内不可用，则不能从该范围访问该属性。</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ne"><img src="../Images/ee3ad52fe49516680a7df99bcd3fbe17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DOx36fH8NLbGYatdUKWG9w.png"/></div></div></figure><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nm"><img src="../Images/bb561ac825e44f62b16208fbc19b43be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JoAxAJgflsM6tUEXSZ_sXQ.png"/></div></div></figure><p id="efc4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在全局符号注册表中定义的符号可以用<code class="fe nf ng nh ni b"><strong class="kd iu">Symbol.for()</strong></code> <strong class="kd iu"> </strong>访问，并且将是相同的。</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nn"><img src="../Images/cf252de5bd9cef3c13955731637e1d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CaQbgutU-KYxLPOQm-7Ztw.png"/></div></div></figure><p id="1fc9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">好吧，所以符号很酷。它们帮助我们制造永远不会重复的独特值，并用它们来<em class="my">隐藏</em>属性。但是它们真的解决了隐私问题吗？</p></div><div class="ab cl lo lp hx lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="im in io ip iq"><h1 id="5568" class="lv lw it bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms bi translated">符号是否实现了财产隐私？</h1><p id="5d25" class="pw-post-body-paragraph kb kc it kd b ke mt kg kh ki mu kk kl km mv ko kp kq mw ks kt ku mx kw kx ky im bi translated">JavaScript符号<strong class="kd iu">不</strong>实现财产隐私。你不能依靠符号来对你的牌库使用者隐藏某些东西。在名为<code class="fe nf ng nh ni b"><strong class="kd iu">Object.getOwnPropertySymbols()</strong></code>的对象类上定义了一个方法，该方法将一个对象作为参数，并返回参数对象的属性符号数组。</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi no"><img src="../Images/5728763f66bef5cf9d9575a0728b214e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mzNkoGU403VrYTL0T2GBtw.png"/></div></div></figure><p id="49ac" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">此外，如果将该符号分配给全局符号注册表，则没有任何东西可以停止访问该符号及其属性值。</p></div><div class="ab cl lo lp hx lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="im in io ip iq"><h1 id="2bb1" class="lv lw it bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms bi translated">计算机程序设计中的符号</h1><p id="aa07" class="pw-post-body-paragraph kb kc it kd b ke mt kg kh ki mu kk kl km mv ko kp kq mw ks kt ku mx kw kx ky im bi translated">如果你熟悉其他编程语言，你会知道它们也有符号。事实上，即使数据类型的名称相同，它们之间也有相当大的区别。</p><p id="2a47" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在让我们从总体上谈谈编程中的符号。维基百科中符号的定义如下:</p><blockquote class="np nq nr"><p id="e14a" class="kb kc my kd b ke kf kg kh ki kj kk kl ns kn ko kp nt kr ks kt nu kv kw kx ky im bi translated">计算机编程中的符号是一种原始数据类型，其实例具有独特的人可读形式。</p></blockquote><p id="54da" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在JavaScript中，symbol是一种基本的数据类型，虽然该语言并不强制您使实例可读，但是您可以为该符号提供一个调试描述属性。</p><p id="d197" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">鉴于此，我们应该知道<strong class="kd iu"> JS </strong>符号和其他语言中的符号有一些区别。让我们来看看<a class="ae kz" href="https://ruby-doc.org/core-2.2.0/Symbol.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kd iu">红宝石符号</strong> </a>。在Ruby中，通常使用符号对象来表示一些字符串。它们是使用冒号语法生成的，也是通过使用<code class="fe nf ng nh ni b"><strong class="kd iu">to_sym</strong></code>方法的类型转换生成的。</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nv"><img src="../Images/636641c9edd80b92514f423581c712e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0u8FeH7Nn_fSmLWV2ixcLg.png"/></div></div></figure><p id="0048" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果你注意到了，我们从来没有把“创建”符号赋给一个变量。如果我们在Ruby程序中使用<em class="my"> (generate) </em>一个符号，它将在程序的整个执行过程中一直保持不变，不管它的创建上下文是什么。</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nw"><img src="../Images/2183878a85a24d858ec8314e2ebfd595.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KbQyAg5yHC7KXSdBSWyR7Q.png"/></div></div></figure><p id="48ba" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在JavaScript中，我们可以通过在全局符号注册表中创建一个符号来复制这种行为。</p><p id="9aac" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这两种语言中符号的一个主要区别是，在Ruby中，符号可以用来代替字符串，事实上，在很多情况下，它们会自动转换成字符串。字符串对象上可用的方法在符号上也可用，正如我们看到的，字符串可以使用<code class="fe nf ng nh ni b"><strong class="kd iu">to_sym</strong></code>方法转换成符号。</p><p id="73a0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们已经看到了在JavaScript中添加符号的原因和动机，现在让我们看看它们在Ruby中的目的是什么。在Ruby中，我们可以把符号看作是不可变的字符串，仅此一点就可以带来很多使用它们的好处。它们可以用作对象属性标识符，通常也是如此。</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nx"><img src="../Images/8ff09245978a76811f6f90a576ed4e60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fa2BNIGDEvDW9R_44uI97w.png"/></div></div></figure><p id="3cf5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">符号也比字符串有性能优势。每次使用字符串表示法时，都会在内存中创建一个新的对象，而符号总是相同的。</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ny"><img src="../Images/731ac7c9f62998217c22d81eaad7b236.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3qvoL8xoQD4H5As3u-j87g.png"/></div></div></figure><p id="5cd7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在假设我们使用一个字符串作为属性标识符，并创建100个该对象。Ruby还必须创建100个不同的字符串对象。这可以通过使用符号来避免。</p><p id="1b53" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">符号的另一个用途是显示状态。例如，函数返回一个符号是一个很好的实践，指示成功状态，如(<strong class="kd iu"> :ok </strong>，<strong class="kd iu"> :error </strong>)和结果。</p><p id="bb9e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在<a class="ae kz" href="https://rubyonrails.org/" rel="noopener ugc nofollow" target="_blank"> Rails </a> <em class="my">(一个著名的Ruby web-app框架)</em>中，几乎所有的<a class="ae kz" href="https://gist.github.com/mlanett/a31c340b132ddefa9cca" rel="noopener ugc nofollow" target="_blank"> HTTP状态代码都可以和符号</a>一起使用。您可以发送状态<strong class="kd iu"> :ok </strong>、<strong class="kd iu"> :internal_server_error </strong>或<strong class="kd iu"> :not_found、</strong>，框架会用正确的状态代码和消息替换它们。</p><p id="cb2a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">最后，我们可以说，在所有编程语言中，符号并不相同，也不具有相同的目的，作为一个已经熟悉Ruby符号的人，对我来说，JavaScript符号和它们的动机有点令人困惑。</p><p id="cfc0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><em class="my">注:在一些编程语言中(</em><a class="ae kz" href="https://www.erlang.org/" rel="noopener ugc nofollow" target="_blank"><em class="my">Erlang</em></a><em class="my">，</em><a class="ae kz" href="https://elixir-lang.org/" rel="noopener ugc nofollow" target="_blank"><em class="my">elixir</em></a><em class="my">)，符号被称为一个</em> <a class="ae kz" href="https://elixir-lang.org/getting-started/basic-types.html#atoms" rel="noopener ugc nofollow" target="_blank"> <em class="my">原子</em> </a> <em class="my">。</em></p></div><div class="ab cl lo lp hx lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="im in io ip iq"><h1 id="b8c5" class="lv lw it bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms bi translated">众所周知的JavaScript符号</h1><p id="ef1e" class="pw-post-body-paragraph kb kc it kd b ke mt kg kh ki mu kk kl km mv ko kp kq mw ks kt ku mx kw kx ky im bi translated">JavaScript有一些内置的符号，允许开发者访问一些在符号引入语言之前没有公开的属性。</p><p id="e55d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">下面是一些众所周知的用于迭代、正则表达式等的JavaScript符号。</p><h2 id="aa54" class="nz lw it bd lx oa ob dn mb oc od dp mf km oe of mj kq og oh mn ku oi oj mr ok bi translated">符号迭代器</h2><p id="d705" class="pw-post-body-paragraph kb kc it kd b ke mt kg kh ki mu kk kl km mv ko kp kq mw ks kt ku mx kw kx ky im bi translated">这个符号允许开发者访问对象的默认迭代器。在<code class="fe nf ng nh ni b"><strong class="kd iu">for…of</strong></code>中使用，其值应该是一个发生器函数。</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ol"><img src="../Images/747c9db7a29105f7fb0f3e9d5032485e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pTFWK26OfUHMKysmg36Zlg.png"/></div></div></figure><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi om"><img src="../Images/1bddd43d18f84a3c9718ff47f8e334a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qYvPQJVoT5tQKCjoQ5Hkuw.png"/></div></div></figure><blockquote class="np nq nr"><p id="5aff" class="kb kc my kd b ke kf kg kh ki kj kk kl ns kn ko kp nt kr ks kt nu kv kw kx ky im bi translated"><code class="fe nf ng nh ni b">function*() {}</code>是定义<strong class="kd iu">生成器函数的语法。</strong>生成器函数返回一个生成器对象。</p><p id="65fc" class="kb kc my kd b ke kf kg kh ki kj kk kl ns kn ko kp nt kr ks kt nu kv kw kx ky im bi translated"><code class="fe nf ng nh ni b">yield</code>是用于暂停和恢复发生器功能的关键字。</p><p id="297e" class="kb kc my kd b ke kf kg kh ki kj kk kl ns kn ko kp nt kr ks kt nu kv kw kx ky im bi translated">查看更多关于<a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function*" rel="noopener ugc nofollow" target="_blank">发电机功能</a>和<a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/yield" rel="noopener ugc nofollow" target="_blank">产量</a>的信息。</p></blockquote><p id="cf8f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">对于异步迭代，有<strong class="kd iu"> Symbol.asyncIterator </strong>供<code class="fe nf ng nh ni b"><strong class="kd iu">for await…of</strong></code>循环使用。</p><h2 id="4a5f" class="nz lw it bd lx oa ob dn mb oc od dp mf km oe of mj kq og oh mn ku oi oj mr ok bi translated">符号匹配</h2><p id="385d" class="pw-post-body-paragraph kb kc it kd b ke mt kg kh ki mu kk kl km mv ko kp kq mw ks kt ku mx kw kx ky im bi translated">众所周知，像<code class="fe nf ng nh ni b"><strong class="kd iu">String.prototype.startsWith(), String.prototype.endsWith()</strong></code>这样的函数将一个字符串作为它们的第一个参数。</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ne"><img src="../Images/2591ed458a90daa3d22d32ed1bf27b7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZQnSSyo2bD95Xo--mJDK3g.png"/></div></div></figure><p id="a6d6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">让我们尝试传递一个正则表达式而不是一个字符串给函数，我们得到一个类型错误。</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi on"><img src="../Images/a830348a346c09821dccd3eb6a0948a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mVSJ9mZR6eiVxa_wt0piLw.png"/></div></div></figure><p id="4cb7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">实际上，函数会专门检查传递的参数是否是regexp。我们可以说，通过将一个对象的<code class="fe nf ng nh ni b"><strong class="kd iu">Symbol.match</strong></code>属性设置为<strong class="kd iu"> false </strong>或另一个false值，该对象不打算用作regexp。</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oo"><img src="../Images/fe4c546f1ddb78eec66b506b34b3c0c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bE28F0Oz0o5Sl6LGuHVR4Q.png"/></div></div></figure><p id="6ed8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">注:老实说，我不知道你为什么要这么做。上面的代码是一个演示如何使用 <code class="fe nf ng nh ni b"><em class="my">Symbol.match</em></code> <em class="my">的例子。这看起来像一个黑客，如果像这样使用会有问题，因为它改变了经常使用的函数的行为。我想不出任何使用这个的真实用例。</em></p></div><div class="ab cl lo lp hx lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="im in io ip iq"><h1 id="7d7d" class="lv lw it bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms bi translated">受益于JavaScript符号</h1><p id="8adf" class="pw-post-body-paragraph kb kc it kd b ke mt kg kh ki mu kk kl km mv ko kp kq mw ks kt ku mx kw kx ky im bi translated">虽然JS符号没有被广泛使用，也没有解决财产隐私问题，但我们仍然可以从中受益。</p><p id="8e56" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们可以使用符号在对象上定义一些<strong class="kd iu">元数据</strong>。例如，我们想要创建一个字典，我们将通过向对象添加单词和定义对来实现该字典，出于某些计算原因，我们想要跟踪字典中的单词数。这种情况下的字数可以被认为是元数据。对于用户来说，这并不是一条真正有价值的信息，用户可能不希望在迭代对象时看到它。</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nw"><img src="../Images/072ee53b935b32f261e7cbfb6d92aa64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sRYsDvC0c4-EQkaD-MIoww.png"/></div></div></figure><p id="85a5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们可以通过用一个符号来保持单词计数属性来解决这个问题。在这种情况下，我们避免了用户意外访问它的问题。</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi op"><img src="../Images/cfd25c722d936c9ce51c586c2a1d99d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F6CB9NdXMu60kWx3TljHOA.png"/></div></div></figure><p id="8a45" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">使用最多的符号可能是属性名冲突。有时我们在迭代对象属性时获取并设置它们，或者我们使用一个动态值来访问属性<em class="my">(使用</em><strong class="kd iu"><em class="my">obj[key]</em></strong><em class="my">符号)</em>结果，意外地改变了我们不想要的属性。所以我们可以通过使用符号作为属性标识符来解决这个问题。在这种情况下，当迭代对象或使用动态值时，我们永远不能停留在那个键上。迭代案例不会发生，因为我们在用<code class="fe nf ng nh ni b"><strong class="kd iu">for…in</strong></code>迭代的时候永远不能停留在它们上面</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oq"><img src="../Images/88aaa123bf31133186cbbbeaa734868a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yhZemW2nIYKx_CLHWP72-g.png"/></div></div></figure><p id="da95" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">动态值键的情况不会发生，因为除了某个符号之外，没有其他值等于该符号。</p><p id="e454" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当然，像<code class="fe nf ng nh ni b"><strong class="kd iu">Symbol.iterator</strong></code>或<code class="fe nf ng nh ni b"><strong class="kd iu">Symbol.asyncIterator</strong></code>这样众所周知的符号可以有有趣的用例。</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi or"><img src="../Images/64ccd8787f6da1079a93f940d71e04f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZkrQzQrm6Xf9LV_C9-KyZw.png"/></div></div></figure></div><div class="ab cl lo lp hx lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="im in io ip iq"><p id="d356" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我介绍了理解JavaScript符号概念所需的重要概念和实践。当然，还有更多的内容需要介绍，比如其他众所周知的符号，或者跨领域使用符号的用例，但是我将省略一些有用的材料，介绍JavaScript符号的这些和其他部分。</p></div><div class="ab cl lo lp hx lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="im in io ip iq"><h2 id="a0db" class="nz lw it bd lx oa ob dn mb oc od dp mf km oe of mj kq og oh mn ku oi oj mr ok bi translated">附加材料</h2><blockquote class="np nq nr"><p id="2ff1" class="kb kc my kd b ke kf kg kh ki kj kk kl ns kn ko kp nt kr ks kt nu kv kw kx ky im bi translated"><a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol" rel="noopener ugc nofollow" target="_blank"> JavaScript符号MDN </a></p><p id="85ee" class="kb kc my kd b ke kf kg kh ki kj kk kl ns kn ko kp nt kr ks kt nu kv kw kx ky im bi translated"><a class="ae kz" href="http://tc39wiki.calculist.org/es6/symbols/" rel="noopener ugc nofollow" target="_blank"> ES6符号tc39wiki </a></p><p id="e97a" class="kb kc my kd b ke kf kg kh ki kj kk kl ns kn ko kp nt kr ks kt nu kv kw kx ky im bi translated"><a class="ae kz" href="https://exploringjs.com/es6/ch_symbols.html" rel="noopener ugc nofollow" target="_blank"> JS符号exploringjs.com</a></p><p id="7a4b" class="kb kc my kd b ke kf kg kh ki kj kk kl ns kn ko kp nt kr ks kt nu kv kw kx ky im bi translated"><a class="ae kz" href="https://stackoverflow.com/questions/49832187/how-to-understand-js-realms" rel="noopener ugc nofollow" target="_blank"> JS领域堆栈溢出</a></p><p id="04d1" class="kb kc my kd b ke kf kg kh ki kj kk kl ns kn ko kp nt kr ks kt nu kv kw kx ky im bi translated"><a class="ae kz" href="https://en.wikipedia.org/wiki/Symbol_(programming)" rel="noopener ugc nofollow" target="_blank">符号(编程)百科</a></p><p id="db77" class="kb kc my kd b ke kf kg kh ki kj kk kl ns kn ko kp nt kr ks kt nu kv kw kx ky im bi translated"><a class="ae kz" href="https://ruby-doc.org/core-2.2.0/Symbol.html" rel="noopener ugc nofollow" target="_blank">红宝石符号</a></p></blockquote></div></div>    
</body>
</html>