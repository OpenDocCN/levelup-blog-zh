<html>
<head>
<title>16 Important SQL Commands for Handling Database</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">处理数据库的16个重要SQL命令</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/16-important-sql-commands-for-handling-database-8ab293312bd0?source=collection_archive---------18-----------------------#2021-06-07">https://levelup.gitconnected.com/16-important-sql-commands-for-handling-database-8ab293312bd0?source=collection_archive---------18-----------------------#2021-06-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="80f6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">每个开发人员都应该知道这些命令。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6d5bac80d07c9bf9ed5cfbcc1a776dca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jBFdm_g0FTQ_oyhyZfjMbA.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由来自Pexels的Christina Morillo拍摄</figcaption></figure><p id="6aa3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一个数据库可能包含一个或多个表、函数，并且它有一个唯一的名称。每个表也由名称标识(例如，“用户”、“产品”、“订单”)。每个表都包含与数据相关的表记录。</p><p id="d962" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> SQL </strong>代表结构化查询语言。查询语言是一种设计和开发的编程语言，用于根据查询标准从数据库中检索特定信息，这正是SQL所做的事情。简单来说，SQL就是数据库的语言。</p><p id="6391" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">SQL是特定于数据库的，因此它可以根据数据库驱动程序改变其语法。这意味着不能保证他们必须在Oracle数据库上运行MySQL的SQL。</p><p id="570c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">本文将检查一些常用的和强制性的数据库SQL，每个开发人员都应该知道。</p><p id="ba0f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了覆盖这篇文章，我们将使用下面的表格。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lu"><img src="../Images/6d754046a5d3a200478e8fda2771a206.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/1*XGJFNBBrYZT7GoLeJD_Cyg.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">ER图</figcaption></figure><p id="5701" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里，</p><ul class=""><li id="fc7a" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated"><code class="fe me mf mg mh b">user_info</code>表中有用户基本信息的相关数据，其id是主键</li><li id="18db" class="lv lw it la b lb mi le mj lh mk ll ml lp mm lt ma mb mc md bi translated"><code class="fe me mf mg mh b">user_details</code>表中有用户扩展信息相关的数据，其id是主键。这里，<code class="fe me mf mg mh b">user_info_id</code>字段被添加为该表的外键</li></ul><p id="1cde" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，我们将展示MySQL数据库的SQL。对于Oracle或PostgreSQL等其他数据库，其语法可能略有不同。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="1de8" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">1.创建数据库</h1><p id="40c5" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated">SQL语句<code class="fe me mf mg mh b">CREATE DATABASE</code>用于创建一个新的数据库。其语法如下所示</p><pre class="kj kk kl km gt nr mh ns nt aw nu bi"><span id="6774" class="nv mv it mh b gy nw nx l ny nz"><strong class="mh iu">CREATE DATABASE </strong>databaseName;</span></pre><p id="1ee9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通过该命令，最初使用提供的名称创建一个数据库。</p><p id="5043" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我们的例子中，数据库名称是<code class="fe me mf mg mh b">user_system</code>,因此，我们的数据库创建SQL将是</p><pre class="kj kk kl km gt nr mh ns nt aw nu bi"><span id="beb7" class="nv mv it mh b gy nw nx l ny nz"><strong class="mh iu">CREATE DATABASE </strong>user_system;</span></pre><p id="f998" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">创建数据库后，您可以通过下面的命令查看数据库。</p><pre class="kj kk kl km gt nr mh ns nt aw nu bi"><span id="e2dd" class="nv mv it mh b gy nw nx l ny nz"><strong class="mh iu">SHOW DATABASES</strong>;</span></pre><h1 id="3094" class="mu mv it bd mw mx oa mz na nb ob nd ne jz oc ka ng kc od kd ni kf oe kg nk nl bi translated">2.创建表格</h1><p id="c161" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated">语句<code class="fe me mf mg mh b">CREATE TABLE</code>主要用于在数据库中创建新表。</p><p id="956b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对于我们的例子，<code class="fe me mf mg mh b">user_info</code>表创建命令将是</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">代码致谢—作者</figcaption></figure><p id="6c79" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里，<code class="fe me mf mg mh b">user_info</code>表格列是<code class="fe me mf mg mh b">id</code>、<code class="fe me mf mg mh b">full_name</code>和<code class="fe me mf mg mh b">email</code>。这里的<code class="fe me mf mg mh b">id</code>也是<code class="fe me mf mg mh b">auto_increment</code>和主键。</p><p id="4426" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在<code class="fe me mf mg mh b">user_details</code>表创建SQL是</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="3d5d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里，user_details表，</p><ul class=""><li id="3a57" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">它有<code class="fe me mf mg mh b">ID</code>是主键，自动递增。</li><li id="1a47" class="lv lw it la b lb mi le mj lh mk ll ml lp mm lt ma mb mc md bi translated"><code class="fe me mf mg mh b">user_info_id</code>外键是否引用了<code class="fe me mf mg mh b">user_info</code>表</li></ul><h1 id="190f" class="mu mv it bd mw mx oa mz na nb ob nd ne jz oc ka ng kc od kd ni kf oe kg nk nl bi translated">3.将数据插入表格</h1><p id="f3b8" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated">下面给出了<code class="fe me mf mg mh b">user_info</code>表的插入SQL</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="67be" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里，我们只添加了<code class="fe me mf mg mh b">full_name</code>和<code class="fe me mf mg mh b">email</code>。<code class="fe me mf mg mh b">id</code>字段是自动递增的，所以它会自动创建。</p><p id="0c71" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要将数据插入<code class="fe me mf mg mh b">user_details</code>表，必须添加<code class="fe me mf mg mh b">user_info</code>表<code class="fe me mf mg mh b">id</code>作为外键引用。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div></figure><h1 id="04f1" class="mu mv it bd mw mx oa mz na nb ob nd ne jz oc ka ng kc od kd ni kf oe kg nk nl bi translated">4.挑选</h1><p id="de7a" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated">SQL中最常用和最基本的命令。它的目的是从特定数据库的表中检索数据。</p><p id="4280" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">从表中选择所有数据</p><pre class="kj kk kl km gt nr mh ns nt aw nu bi"><span id="8128" class="nv mv it mh b gy nw nx l ny nz"><strong class="mh iu">SELECT </strong><em class="oh">* </em><strong class="mh iu">FROM </strong>user_info;</span></pre><p id="0519" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">从表用户中选择特定数据</p><pre class="kj kk kl km gt nr mh ns nt aw nu bi"><span id="3c04" class="nv mv it mh b gy nw nx l ny nz"><strong class="mh iu">SELECT id</strong>, <strong class="mh iu">full_name</strong>, <strong class="mh iu">country FROM </strong>user_system.user_info;</span></pre><p id="ec70" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">输出是</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/d4b60a0a405a801f7d5f16f732eea2e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1104/format:webp/1*b8uW_XTliAlHMfqUn5dkmw.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源—作者</figcaption></figure><h1 id="4503" class="mu mv it bd mw mx oa mz na nb ob nd ne jz oc ka ng kc od kd ni kf oe kg nk nl bi translated">5.使用Where子句筛选数据</h1><p id="6067" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated">通过<code class="fe me mf mg mh b">where </code>关闭，我们可以从表格中过滤数据。</p><pre class="kj kk kl km gt nr mh ns nt aw nu bi"><span id="6233" class="nv mv it mh b gy nw nx l ny nz"><strong class="mh iu">SELECT id</strong>, <strong class="mh iu">full_name</strong>, <strong class="mh iu">country FROM </strong>user_system.user_info<br/><strong class="mh iu">where country </strong>= <strong class="mh iu">'Bangladesh'</strong>;</span></pre><p id="ef8d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这里，它将返回所有<code class="fe me mf mg mh b">country</code>是孟加拉国的用户。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/7dbed5c42569c6552b4a6ce2576c82eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*f70v-5Fp1Vua3QqIQVmBNA.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源—作者</figcaption></figure><h1 id="105c" class="mu mv it bd mw mx oa mz na nb ob nd ne jz oc ka ng kc od kd ni kf oe kg nk nl bi translated">6.使用order by子句对数据进行排序</h1><p id="cdb3" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated">通过<code class="fe me mf mg mh b">order by</code>子句，我们可以对检索到的行进行排序。</p><pre class="kj kk kl km gt nr mh ns nt aw nu bi"><span id="6fed" class="nv mv it mh b gy nw nx l ny nz"><strong class="mh iu">SELECT id</strong>, <strong class="mh iu">full_name</strong>, <strong class="mh iu">country FROM </strong>user_system.user_info<br/><strong class="mh iu">where country </strong>= <strong class="mh iu">'Bangladesh' order by id desc</strong>;</span></pre><p id="4649" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">该查询将显示孟加拉国的所有数据，并通过<code class="fe me mf mg mh b">descending order</code>中的<code class="fe me mf mg mh b">id</code>显示<code class="fe me mf mg mh b">sort</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/8046ad742357c0da1b7f53f9dcc54561.png" data-original-src="https://miro.medium.com/v2/resize:fit:1116/format:webp/1*P81SSVg61SnY86krSAKnaA.png"/></div></figure><h1 id="d34c" class="mu mv it bd mw mx oa mz na nb ob nd ne jz oc ka ng kc od kd ni kf oe kg nk nl bi translated">7.使用group by子句对数据进行分组</h1><p id="5cd6" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated">SQL <code class="fe me mf mg mh b">GROUP BY</code>是一个SQL命令，用于<strong class="la iu">对那些具有相同值的行进行分组。SELECT语句中使用了子句GROUP BY。</strong></p><p id="d714" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在其他情况下，它通常与aggregate below函数<br/><code class="fe me mf mg mh b">COUNT()</code><code class="fe me mf mg mh b">MAX()</code><code class="fe me mf mg mh b">MIN()</code><code class="fe me mf mg mh b">SUM()</code><code class="fe me mf mg mh b">AVG()</code>一起使用，按照一个或多个列对结果集进行分组，以从数据库中生成摘要报告。</p><p id="6da2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通过下面的查询，<code class="fe me mf mg mh b">group by</code>子句用于按国家统计用户</p><pre class="kj kk kl km gt nr mh ns nt aw nu bi"><span id="7986" class="nv mv it mh b gy nw nx l ny nz"><strong class="mh iu">SELECT country</strong>, <em class="oh">count</em>(<em class="oh">*</em>) <strong class="mh iu">'count' FROM </strong>user_system.user_info<br/><strong class="mh iu">group by country</strong>;</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/75e3923e0022d4acfde10dd0ab834905.png" data-original-src="https://miro.medium.com/v2/resize:fit:444/format:webp/1*r9K9FmWTNs3qlZUMXej3ng.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源—作者</figcaption></figure><h1 id="dd46" class="mu mv it bd mw mx oa mz na nb ob nd ne jz oc ka ng kc od kd ni kf oe kg nk nl bi translated">8.使用表连接检索数据</h1><p id="e01e" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated">SQL <code class="fe me mf mg mh b">JOIN</code>用于根据两个表中相应的列值组合两个表中的相关记录。一个查询可以包含零个、一个或多个连接操作。</p><p id="fb7f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">主要有4种类型的数据库连接:内部连接、左连接、右连接和完全连接</p><h2 id="618b" class="nv mv it bd mw om on dn na oo op dp ne lh oq or ng ll os ot ni lp ou ov nk ow bi translated">内部连接</h2><p id="ddeb" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated">它只检索两个表中的公共数据</p><pre class="kj kk kl km gt nr mh ns nt aw nu bi"><span id="d616" class="nv mv it mh b gy nw nx l ny nz"><strong class="mh iu">SELECT </strong>ui.<strong class="mh iu">id</strong>, ui.<strong class="mh iu">full_name</strong>, ui.<strong class="mh iu">country</strong>, ud.<strong class="mh iu">gender</strong>, ud.<strong class="mh iu">address<br/>FROM </strong>user_system.user_info ui<br/><strong class="mh iu">inner join </strong>user_system.user_details ud <strong class="mh iu">ON </strong>(ui.<strong class="mh iu">id </strong>= ud.<strong class="mh iu">user_info_id</strong>)</span></pre><p id="e0d0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">输出是</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/ccbaa7a71f3fab4e1379b06082095bcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W0FCVoG2_h6UBZctbG2wLw.png"/></div></div></figure><h2 id="63c6" class="nv mv it bd mw om on dn na oo op dp ne lh oq or ng ll os ot ni lp ou ov nk ow bi translated">左连接</h2><p id="b38a" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated">将右表记录与左表记录匹配。左表可能有空记录，但右表必须有记录。左连接正好与右连接相反</p><pre class="kj kk kl km gt nr mh ns nt aw nu bi"><span id="118b" class="nv mv it mh b gy nw nx l ny nz"><strong class="mh iu">SELECT </strong>ui.<strong class="mh iu">id</strong>, ui.<strong class="mh iu">full_name</strong>, ui.<strong class="mh iu">country</strong>, ud.<strong class="mh iu">gender</strong>, ud.<strong class="mh iu">address<br/>FROM </strong>user_system.user_info ui<br/><strong class="mh iu">left join </strong>user_system.user_details ud <strong class="mh iu">ON </strong>(ui.<strong class="mh iu">id </strong>= ud.<strong class="mh iu">user_info_id</strong>);</span></pre><p id="f302" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">输出是</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/bd36943d127bda8254fe15741eeca895.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3ImFcNGRLVi-b0pDVTS2TA.png"/></div></div></figure><h2 id="23f0" class="nv mv it bd mw om on dn na oo op dp ne lh oq or ng ll os ot ni lp ou ov nk ow bi translated">右连接</h2><p id="83c1" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated">将右表记录与左表记录匹配。左表可能有空记录，但右表必须有记录。</p><pre class="kj kk kl km gt nr mh ns nt aw nu bi"><span id="6012" class="nv mv it mh b gy nw nx l ny nz"><strong class="mh iu">SELECT </strong>ui.<strong class="mh iu">id</strong>, ui.<strong class="mh iu">full_name</strong>, ui.<strong class="mh iu">country</strong>, ud.<strong class="mh iu">gender</strong>, ud.<strong class="mh iu">address<br/>FROM </strong>user_system.user_info ui<br/><strong class="mh iu">right join </strong>user_system.user_details ud <strong class="mh iu">ON </strong>(ui.<strong class="mh iu">id </strong>= ud.<strong class="mh iu">user_info_id</strong>);</span></pre><p id="c02e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">输出是</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/b4f6624201d291a0f56c543c0ad4240b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0sHr6Md81Qm6eDHIAEA07A.png"/></div></div></figure><h2 id="9241" class="nv mv it bd mw om on dn na oo op dp ne lh oq or ng ll os ot ni lp ou ov nk ow bi translated">完全(外部)连接</h2><p id="5069" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated">该SQL语句选择符合左表或右表记录的所有记录。</p><p id="25f9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Mysql不支持这一点，但是你仍然可以通过<code class="fe me mf mg mh b">UNION ALL</code>子句实现这一点</p><h1 id="692d" class="mu mv it bd mw mx oa mz na nb ob nd ne jz oc ka ng kc od kd ni kf oe kg nk nl bi translated">9.聚合函数的使用</h1><p id="db59" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated">聚合函数用于计算一组值并返回单个标量值，以用于报告或决策目的。我们经常在SELECT语句的GROUP BY和HAVING子句中使用聚合函数。</p><p id="5173" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最常用的聚合函数有:<br/> <code class="fe me mf mg mh b">AVG</code> —计算一组值的平均值。<br/> <code class="fe me mf mg mh b">COUNT</code> —用于统计指定表或视图中所选条件下的行数。<br/> <code class="fe me mf mg mh b">MIN</code> —用于从指定表格或视图的行中选择具有选定条件的最小值。<br/> <code class="fe me mf mg mh b">MAX</code> —用于在选定的条件下，从指定的表或视图的行中选择最大值。<br/> <code class="fe me mf mg mh b">SUM</code> —计算值的总和。</p><p id="aaa0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下面的SQL根据国家选择用户数量</p><pre class="kj kk kl km gt nr mh ns nt aw nu bi"><span id="1b65" class="nv mv it mh b gy nw nx l ny nz"><strong class="mh iu">select </strong>ui.<strong class="mh iu">country</strong>, <em class="oh">count</em>(ui.<strong class="mh iu">id</strong>) <strong class="mh iu">'user_count'<br/>from </strong>user_info ui<br/><strong class="mh iu">group by </strong>ui.<strong class="mh iu">country</strong>;</span></pre><p id="890a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">输出是</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/0bdc5e5f99aa573fe472456e11177702.png" data-original-src="https://miro.medium.com/v2/resize:fit:1116/format:webp/1*aP1sobpezq0kP0JVSV-fNg.png"/></div></figure><h1 id="a8f8" class="mu mv it bd mw mx oa mz na nb ob nd ne jz oc ka ng kc od kd ni kf oe kg nk nl bi translated">10.从表中删除记录</h1><p id="9c7b" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated">通过<code class="fe me mf mg mh b">DELETE</code>命令，它将删除选中的行</p><pre class="kj kk kl km gt nr mh ns nt aw nu bi"><span id="7c4a" class="nv mv it mh b gy nw nx l ny nz"><strong class="mh iu">DELETE from </strong>user_info <strong class="mh iu">where full_name </strong>= <strong class="mh iu">'Imran Khan'</strong>;</span></pre><p id="4c68" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通过这个命令，它将删除名字为<strong class="la iu">伊姆兰·汗</strong>的记录</p><h1 id="6592" class="mu mv it bd mw mx oa mz na nb ob nd ne jz oc ka ng kc od kd ni kf oe kg nk nl bi translated">11.改变桌子</h1><p id="d196" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated">SQL语句<code class="fe me mf mg mh b">ALTER TABLE</code>主要用于改变一个表(例如，添加、删除或修改现有表中的列)。<br/>该语句也用于添加或删除现有表上的各种约束。</p><pre class="kj kk kl km gt nr mh ns nt aw nu bi"><span id="5cc6" class="nv mv it mh b gy nw nx l ny nz"><strong class="mh iu">ALTER TABLE </strong>`user_system`.`user_info`<br/>    <strong class="mh iu">ADD COLUMN `password` VARCHAR</strong>(45) <strong class="mh iu">NOT NULL AFTER `country`</strong>;</span></pre><p id="698a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通过这个命令，我们在用户表中添加了一个地址列</p><h1 id="883d" class="mu mv it bd mw mx oa mz na nb ob nd ne jz oc ka ng kc od kd ni kf oe kg nk nl bi translated">12。截断表格</h1><p id="2bf9" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated"><code class="fe me mf mg mh b">TRUNCATE TABLE</code>命令从表中删除所有行。</p><p id="143d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">表中的<code class="fe me mf mg mh b">TRUNCATE</code>和<code class="fe me mf mg mh b">DROP</code>的主要区别是通过<code class="fe me mf mg mh b">TRUNCATE</code>命令，表的结构和它的列、约束、索引等将保持不变。</p><p id="5c4b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要删除表定义及其数据，请使用<code class="fe me mf mg mh b">DROP TABLE</code>语句。</p><pre class="kj kk kl km gt nr mh ns nt aw nu bi"><span id="a9e7" class="nv mv it mh b gy nw nx l ny nz"><strong class="mh iu">TRUNCATE TABLE </strong>user_system.user_info;</span></pre><p id="cae4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通过该命令，它将从表<code class="fe me mf mg mh b">user_info</code>中删除所有记录</p><h1 id="dd18" class="mu mv it bd mw mx oa mz na nb ob nd ne jz oc ka ng kc od kd ni kf oe kg nk nl bi translated">13.翻桌</h1><p id="43fa" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated"><code class="fe me mf mg mh b">DROP TABLE</code>命令从数据库中删除该表和数据。</p><pre class="kj kk kl km gt nr mh ns nt aw nu bi"><span id="e9f6" class="nv mv it mh b gy nw nx l ny nz"><strong class="mh iu">DROP TABLE </strong>user_system.user_info;</span></pre><h1 id="2ab5" class="mu mv it bd mw mx oa mz na nb ob nd ne jz oc ka ng kc od kd ni kf oe kg nk nl bi translated">14.创建索引</h1><p id="81a5" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated"><code class="fe me mf mg mh b">CREATE INDEX</code>语句主要用于在表中创建新的索引。</p><p id="9745" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通过使用索引，基于该列搜索数据将比以前更快。最终用户看不到索引，但是他们在搜索数据时的用户体验会得到改善。</p><pre class="kj kk kl km gt nr mh ns nt aw nu bi"><span id="7110" class="nv mv it mh b gy nw nx l ny nz"><strong class="mh iu">CREATE INDEX </strong>idx_fullName<br/>    <strong class="mh iu">ON </strong>user_info (<strong class="mh iu">full_name</strong>);</span></pre><p id="8b0c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通过这个索引<code class="fe me mf mg mh b">idx_fullName</code>，现在使用<code class="fe me mf mg mh b"><strong class="la iu">full_name</strong> </code>的搜索将比以前更快。</p><h1 id="a7ba" class="mu mv it bd mw mx oa mz na nb ob nd ne jz oc ka ng kc od kd ni kf oe kg nk nl bi translated">15.下降指数</h1><p id="ce87" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated">SQL语句<code class="fe me mf mg mh b">DROP INDEX</code>用于从表中删除一个索引。</p><pre class="kj kk kl km gt nr mh ns nt aw nu bi"><span id="36f6" class="nv mv it mh b gy nw nx l ny nz"><strong class="mh iu">DROP INDEX </strong>idx_fullName <strong class="mh iu">ON </strong>user_info;</span></pre><h1 id="0d4c" class="mu mv it bd mw mx oa mz na nb ob nd ne jz oc ka ng kc od kd ni kf oe kg nk nl bi translated">16.删除数据库</h1><p id="2820" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated">SQL语句<code class="fe me mf mg mh b">DROP DATABASE</code>用于删除现有的数据库。</p><pre class="kj kk kl km gt nr mh ns nt aw nu bi"><span id="cea8" class="nv mv it mh b gy nw nx l ny nz"><strong class="mh iu">DROP DATABASE </strong>user_system;</span></pre><p id="78f4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这样做之前必须思考10次:P</p><h1 id="2d30" class="mu mv it bd mw mx oa mz na nb ob nd ne jz oc ka ng kc od kd ni kf oe kg nk nl bi translated">结论</h1><p id="37ef" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated">对于所有类型的开发人员，我们都需要数据库相关查询的基础知识。希望这能帮到你。</p><p id="d780" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对于编写数据库存储过程或数据库函数，你可以查阅<a class="ae pa" rel="noopener ugc nofollow" target="_blank" href="/deep-dive-on-stored-procedure-with-mysql-database-3fa02669e2be?sk=07d2b9db13dc7db612f6c10867c0e1c4">这篇文章</a>。</p><h2 id="8ed4" class="nv mv it bd mw om on dn na oo op dp ne lh oq or ng ll os ot ni lp ou ov nk ow bi translated">参考</h2><ol class=""><li id="d711" class="lv lw it la b lb nm le nn lh pb ll pc lp pd lt pe mb mc md bi translated"><a class="ae pa" href="https://docs.microsoft.com/en-us/sql/t-sql/functions/aggregate-functions-transact-sql?view=sql-server-ver15" rel="noopener ugc nofollow" target="_blank">https://docs . Microsoft . com/en-us/SQL/t-SQL/functions/aggregate-functions-transact-SQL？view=sql-server-ver15 </a></li><li id="1d68" class="lv lw it la b lb mi le mj lh mk ll ml lp mm lt pe mb mc md bi translated"><a class="ae pa" href="https://www.zentut.com/sql-tutorial/sql-aggregate-functions/" rel="noopener ugc nofollow" target="_blank">https://www . zentut . com/SQL-tutorial/SQL-aggregate-functions/</a></li><li id="5b3a" class="lv lw it la b lb mi le mj lh mk ll ml lp mm lt pe mb mc md bi translated"><a class="ae pa" href="https://www.w3schools.com/sql/" rel="noopener ugc nofollow" target="_blank">https://www.w3schools.com/sql/</a></li></ol></div></div>    
</body>
</html>