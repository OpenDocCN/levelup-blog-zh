<html>
<head>
<title>Microfrontends Hands-On Project with Module Federation — Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">具有模块联合的微前端实践项目—第1部分</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/microfrontends-hands-on-project-with-module-federation-part-1-c4eda1ffcf10?source=collection_archive---------9-----------------------#2021-09-07">https://levelup.gitconnected.com/microfrontends-hands-on-project-with-module-federation-part-1-c4eda1ffcf10?source=collection_archive---------9-----------------------#2021-09-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/daf13de5d480ba32771080a394324565.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*0tzl0B-BPWxnrNUbol6cpg.gif"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">具有模块联合的Microfrontends实践项目</figcaption></figure><p id="81e2" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">本文将介绍架构、设计、实现和部署现实生活中的微前端项目。</p><h1 id="55f6" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">目录</h1><ul class=""><li id="2ceb" class="ly lz iq ke b kf ma kj mb kn mc kr md kv me kz mf mg mh mi bi translated"><a class="ae mj" href="#852a" rel="noopener ugc nofollow">要求</a></li><li id="3ba4" class="ly lz iq ke b kf mk kj ml kn mm kr mn kv mo kz mf mg mh mi bi translated"><a class="ae mj" href="#7d07" rel="noopener ugc nofollow">设计</a></li></ul><p id="d039" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">T <a class="ae mj" href="#35a4" rel="noopener ugc nofollow"> <strong class="ke ir">何【产品】微前端</strong> </a></p><ul class=""><li id="3c76" class="ly lz iq ke b kf kg kj kk kn mp kr mq kv mr kz mf mg mh mi bi translated"><a class="ae mj" href="#9d3d" rel="noopener ugc nofollow">设置项目</a></li><li id="cae4" class="ly lz iq ke b kf mk kj ml kn mm kr mn kv mo kz mf mg mh mi bi translated"><a class="ae mj" href="#01b1" rel="noopener ugc nofollow">认识“产品”团队</a></li><li id="c3c6" class="ly lz iq ke b kf mk kj ml kn mm kr mn kv mo kz mf mg mh mi bi translated"><a class="ae mj" href="#0084" rel="noopener ugc nofollow">要求</a></li><li id="adf5" class="ly lz iq ke b kf mk kj ml kn mm kr mn kv mo kz mf mg mh mi bi translated"><a class="ae mj" href="#1c30" rel="noopener ugc nofollow">设计</a></li><li id="b0f8" class="ly lz iq ke b kf mk kj ml kn mm kr mn kv mo kz mf mg mh mi bi translated"><a class="ae mj" href="#25f5" rel="noopener ugc nofollow">创建产品微前端</a></li></ul><p id="be73" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><a class="ae mj" href="#78eb" rel="noopener ugc nofollow"> <strong class="ke ir">合作伙伴门户</strong> </a></p><ul class=""><li id="d5f4" class="ly lz iq ke b kf kg kj kk kn mp kr mq kv mr kz mf mg mh mi bi translated"><a class="ae mj" href="#bba5" rel="noopener ugc nofollow">给产品微前端添加一个遥控器</a></li><li id="b8e6" class="ly lz iq ke b kf mk kj ml kn mm kr mn kv mo kz mf mg mh mi bi translated"><a class="ae mj" href="#920b" rel="noopener ugc nofollow">将产品Microfrontend导入并呈现到PartnerPortal </a></li></ul><p id="ae83" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><a class="ae mj" href="#2737" rel="noopener ugc nofollow"> <strong class="ke ir">我们在哪里</strong> </a></p></div><div class="ab cl ms mt hu mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ij ik il im in"><p id="248f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果你是微前端的新手，我建议你从<a class="ae mj" href="https://www.linkedin.com/pulse/micro-frontends-what-why-how-rany-elhousieny-phd%E1%B4%AC%E1%B4%AE%E1%B4%B0" rel="noopener ugc nofollow" target="_blank">这篇文章</a>开始</p><h2 id="852a" class="mz lb iq bd lc na nb dn lg nc nd dp lk kn ne nf lo kr ng nh ls kv ni nj lw nk bi translated">要求:</h2><p id="dfcc" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn nl kp kq kr nm kt ku kv nn kx ky kz ij bi translated">我的一个客户想要实现一个合作伙伴门户。该公司的业务是在他们的网站上为不同的合作伙伴营销产品。他们需要一个门户来使他们的合作伙伴公司更容易选择某些产品，并在他们的营销网站上的某些活动中发布它们。例如，圣诞节活动，合作伙伴可以选择与圣诞节相关的产品，并将其添加到“圣诞节活动”中当然，我不会追求同样的复杂性，但我会采用高层次的想法，用微前端实现基础。实际上，我们从类似于本文中的概念证明开始，并在后来扩展了它。</p><h2 id="7d07" class="mz lb iq bd lc na nb dn lg nc nd dp lk kn ne nf lo kr ng nh ls kv ni nj lw nk bi translated">设计:</h2><p id="8f24" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn nl kp kq kr nm kt ku kv nn kx ky kz ij bi translated">对于这个项目，我们将实现以下简单的用户界面:</p><figure class="np nq nr ns gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi no"><img src="../Images/6d588d90b8443d861f11d733e6be14fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hsS_Do3Ca77NzBCf3iinTw.png"/></div></div></figure><p id="801d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们将拥有:</p><ol class=""><li id="5197" class="ly lz iq ke b kf kg kj kk kn mp kr mq kv mr kz nt mg mh mi bi translated">工具栏</li><li id="806b" class="ly lz iq ke b kf mk kj ml kn mm kr mn kv mo kz nt mg mh mi bi translated">用户配置文件和信息的组件</li><li id="9a6e" class="ly lz iq ke b kf mk kj ml kn mm kr mn kv mo kz nt mg mh mi bi translated">产品清单</li><li id="6f1d" class="ly lz iq ke b kf mk kj ml kn mm kr mn kv mo kz nt mg mh mi bi translated">我们将向其中添加产品的活动</li></ol><p id="07e4" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们将把其中的每一个都实现为一个独立的微前端。</p></div><div class="ab cl ms mt hu mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ij ik il im in"><h1 id="35a4" class="la lb iq bd lc ld nu lf lg lh nv lj lk ll nw ln lo lp nx lr ls lt ny lv lw lx bi translated">“产品”微前端</h1><h2 id="9d3d" class="mz lb iq bd lc na nb dn lg nc nd dp lk kn ne nf lo kr ng nh ls kv ni nj lw nk bi translated">设置项目</h2><p id="6c8c" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn nl kp kq kr nm kt ku kv nn kx ky kz ij bi translated">我们将使用React、Webpack 5和模块联合来创建项目。但是，我们不会使用create-react-app。因此，您可能会经历本文中的步骤来创建样板文件设置，</p><div class="nz oa gp gr ob oc"><a href="https://www.linkedin.com/feed/update/urn:li:ugcPost:6837477108789456896?updateEntityUrn=urn%3Ali%3Afs_feedUpdate%3A%28*%2Curn%3Ali%3AugcPost%3A6837477108789456896%29" rel="noopener  ugc nofollow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd ir gy z fp oh fr fs oi fu fw ip bi translated">兰尼·埃尔豪斯尼，PhDᴬᴮᴰ在LinkedIn上:创建React应用程序而不创建react应用程序</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">创建react应用程序而不创建React应用程序(CRA)...</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">www.linkedin.com</p></div></div><div class="ol l"><div class="om l on oo op ol oq jw oc"/></div></div></a></div><p id="1aba" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">或者下载/克隆以下Github项目:</p><pre class="np nq nr ns gt or os ot ou aw ov bi"><span id="45c1" class="mz lb iq os b gy ow ox l oy oz">git clone --single-branch --branch Products-Microfrontend-Start <a class="ae mj" href="https://github.com/ranyelhousieny/Products.git" rel="noopener ugc nofollow" target="_blank">https://github.com/ranyelhousieny/Products.git</a></span><span id="d1d4" class="mz lb iq os b gy pa ox l oy oz">cd Products</span><span id="f4d6" class="mz lb iq os b gy pa ox l oy oz">npm install</span><span id="4daf" class="mz lb iq os b gy pa ox l oy oz">code .</span><span id="82a7" class="mz lb iq os b gy pa ox l oy oz">npm run start</span></pre><p id="6215" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">您应该在<a class="ae mj" href="http://localhost:8080" rel="noopener ugc nofollow" target="_blank"> http://localhost:8080 </a>看到以下内容</p><figure class="np nq nr ns gt jr gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/ed9e363079c0f27025f66e7c49bcdc37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*o1iWzYfGFa7mWUPzYex7Ug.png"/></div></figure><p id="1f08" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这是一个非常简单的index.js，将呈现三种产品，如上所示。</p><figure class="np nq nr ns gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi pc"><img src="../Images/563980ed41bed32aa4dd3b796988be15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0QEmTDkhcTefVWo1T8SD3w.png"/></div></div></figure><p id="a4a8" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果这对您来说是新的，请阅读下面的文章，以获得关于这个项目中使用的配置的更多细节。</p><div class="nz oa gp gr ob oc"><a href="https://www.linkedin.com/feed/update/urn:li:ugcPost:6837477108789456896?updateEntityUrn=urn%3Ali%3Afs_feedUpdate%3A%28*%2Curn%3Ali%3AugcPost%3A6837477108789456896%29" rel="noopener  ugc nofollow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd ir gy z fp oh fr fs oi fu fw ip bi translated">兰尼·埃尔豪斯尼，PhDᴬᴮᴰ在LinkedIn上:创建React应用程序而不创建react应用程序</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">创建react应用程序而不创建React应用程序(CRA)...</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">www.linkedin.com</p></div></div><div class="ol l"><div class="om l on oo op ol oq jw oc"/></div></div></a></div><p id="1482" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi">======</p><h2 id="01b1" class="mz lb iq bd lc na nb dn lg nc nd dp lk kn ne nf lo kr ng nh ls kv ni nj lw nk bi translated">认识“产品”团队</h2><figure class="np nq nr ns gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi pd"><img src="../Images/4634a8612c34e4d0cb7306713de06a60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*0CouoxZfa2njjtMk4bETPQ.gif"/></div></div></figure><p id="d34c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这个“产品”微前端归产品团队所有。这个团队独立于其他微前端和门户本身来创建、部署和维护它。他们有单独的回购和CI/CD。在本例中，我将对产品微服务使用以下repo。<code class="fe pe pf pg os b">Products.git</code></p><pre class="np nq nr ns gt or os ot ou aw ov bi"><span id="b0bf" class="mz lb iq os b gy ow ox l oy oz"><a class="ae mj" href="https://github.com/ranyelhousieny/Products.git" rel="noopener ugc nofollow" target="_blank">https://github.com/ranyelhousieny/Products.git</a></span></pre><p id="e0b3" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">他们需要单独测试它。因此，在导出远程微前端之前，我安装了Webpack HTML插件来独立呈现它。但是，在导出之前，他们需要建立网站。</p><h2 id="0084" class="mz lb iq bd lc na nb dn lg nc nd dp lk kn ne nf lo kr ng nh ls kv ni nj lw nk bi translated">要求</h2><p id="d162" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn nl kp kq kr nm kt ku kv nn kx ky kz ij bi translated">产品页面需要列出某个合作伙伴的所有产品。在这个例子中，我假设只有一个伙伴。所以，我会提供一份产品清单。另一个需求是搜索栏和过滤器，以限制产品的看法。</p><h2 id="1c30" class="mz lb iq bd lc na nb dn lg nc nd dp lk kn ne nf lo kr ng nh ls kv ni nj lw nk bi translated">设计</h2><p id="044c" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn nl kp kq kr nm kt ku kv nn kx ky kz ij bi translated">对于这个例子，我将提供一个关注微前端集成的产品列表。随着我们的进展，我将开始从API获取数据，并提供搜索和过滤器。这将需要状态管理，并将使项目更有趣。</p><p id="0d50" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在，我们将呈现产品列表。</p><h2 id="25f5" class="mz lb iq bd lc na nb dn lg nc nd dp lk kn ne nf lo kr ng nh ls kv ni nj lw nk bi translated">创建产品微前端</h2><figure class="np nq nr ns gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ph"><img src="../Images/45f36d8ad0bee28866eed4f11fb2e517.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ntkG3rlxgFo4klDUV1whFQ.gif"/></div></div></figure><p id="4f0d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">按照下面的文章来导入模块联合和转换。微前端的产品</p><div class="nz oa gp gr ob oc"><a href="https://www.linkedin.com/feed/update/urn:li:ugcPost:6840733175652741121?updateEntityUrn=urn%3Ali%3Afs_feedUpdate%3A%28*%2Curn%3Ali%3AugcPost%3A6840733175652741121%29" rel="noopener  ugc nofollow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd ir gy z fp oh fr fs oi fu fw ip bi translated">兰尼·埃尔豪斯尼，PhDᴬᴮᴰ在LinkedIn上:使用Webpack 5模块联盟创建微前端</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">使用Webpack 5模块联合创建微前端...</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">www.linkedin.com</p></div></div><div class="ol l"><div class="pi l on oo op ol oq jw oc"/></div></div></a></div><figure class="np nq nr ns gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi pj"><img src="../Images/b3e7c81a0e1c90402b24a1b2116a4025.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0v_GXuTZBqIjTmt9wHwqQA.png"/></div></div></figure><figure class="np nq nr ns gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi pk"><img src="../Images/25b38fdfe841ea88765e17683a5aded4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gy0NN1RrqWDZYBjZ2gVMmQ.png"/></div></div></figure><p id="c66c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">您的webpack.config.js应该看起来像是跟在后面的<a class="ae mj" href="https://github.com/ranyelhousieny/Products/blob/Products-Microfrontend-Step2/webpack.config.js" rel="noopener ugc nofollow" target="_blank"/></p><div class="nz oa gp gr ob oc"><a href="https://github.com/ranyelhousieny/Products/blob/Products-Microfrontend-Step2/webpack.config.js" rel="noopener  ugc nofollow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd ir gy z fp oh fr fs oi fu fw ip bi translated">Products/webpack.config.js位于Products-micro frontend-step 2 ranyelhousieny/Products</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">通过在GitHub上创建帐户，为ranyelhousieny/产品开发做出贡献。</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">github.com</p></div></div><div class="ol l"><div class="pl l on oo op ol oq jw oc"/></div></div></a></div><figure class="np nq nr ns gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi pm"><img src="../Images/6a4a4d87822ba18490b4850cba125e22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XR08XKLcNTMqYFPu2dSrbQ.png"/></div></div></figure><pre class="np nq nr ns gt or os ot ou aw ov bi"><span id="736f" class="mz lb iq os b gy ow ox l oy oz">When you run `npm webpack` or `yarn webpack' you will notice the generation of dist/remoteEntry.js</span></pre><figure class="np nq nr ns gt jr gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/18e206e5c5d11a1dcdec24ec1035530e.png" data-original-src="https://miro.medium.com/v2/resize:fit:940/format:webp/1*0RzptM0bTh7DUdL-Jkg4yA.png"/></div></figure><p id="40a8" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在，运行<code class="fe pe pf pg os b">yarn run start </code>或<code class="fe pe pf pg os b">npm run start</code>并让它在<a class="ae mj" href="http://localhost:8001/" rel="noopener ugc nofollow" target="_blank"> http://localhost:8001/ </a>上运行，以便门户链接到它</p><figure class="np nq nr ns gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi po"><img src="../Images/e9777b3c30500890014fc2f6892dafa3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nqnKHInG77grY1Cb5Xd-Tg.png"/></div></div></figure><p id="12fa" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果你很好奇门户会加载什么，可以浏览<a class="ae mj" href="http://localhost:8001/remoteEntry.js" rel="noopener ugc nofollow" target="_blank">http://localhost:8001/remote entry . js</a></p><figure class="np nq nr ns gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi pp"><img src="../Images/632e9bc90ccb9c5f97cba92f0c6f1efc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OvAzcBJwxz604KEqINhUyg.png"/></div></div></figure><p id="d617" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">当然，这里没什么可看的。Webpack将在门户/容器端对此进行解码。</p><p id="8f4a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi">=====================</p><h1 id="78eb" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">合作伙伴门户</h1><figure class="np nq nr ns gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ph"><img src="../Images/6e0bbcbcc0c43f4d6e9262cb7146d132.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*9SRMFLAiMPATzIOOaaHewA.gif"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">具有模块联合的微前端门户/容器</figcaption></figure><p id="0e89" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">“合作伙伴”团队拥有合作伙伴门户。他们拥有身份验证和基于角色的访问控制(RBAC)。他们将创建微前端主机/容器。容器是包含所有微前端的大师。</p><p id="b8fa" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">按照下面的文章配置微前端门户/容器:</p><div class="nz oa gp gr ob oc"><a href="https://www.linkedin.com/pulse/create-microfrontends-portalhostcontainer-cra-elhousieny-phd%25E1%25B4%25AC%25E1%25B4%25AE%25E1%25B4%25B0" rel="noopener  ugc nofollow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd ir gy z fp oh fr fs oi fu fw ip bi translated">创建微前端门户/主机/容器CRA</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">创建一个React应用程序按照下面的文章创建一个没有CRA的React应用程序，或者你可以下载/克隆…</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">www.linkedin.com。</p></div></div><div class="ol l"><div class="pq l on oo op ol oq jw oc"/></div></div></a></div><p id="ceec" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">您也可以下载/复制下面的分支来跟进</p><pre class="np nq nr ns gt or os ot ou aw ov bi"><span id="fff1" class="mz lb iq os b gy ow ox l oy oz">git clone --single-branch --branch Partner-Portal-Step1 <a class="ae mj" href="https://github.com/ranyelhousieny/partner-portal.git" rel="noopener ugc nofollow" target="_blank">https://github.com/ranyelhousieny/partner-portal.git</a></span><span id="6145" class="mz lb iq os b gy pa ox l oy oz">cd partner-portal</span><span id="e6a1" class="mz lb iq os b gy pa ox l oy oz">yarn install</span><span id="f875" class="mz lb iq os b gy pa ox l oy oz">code .</span><span id="1cf4" class="mz lb iq os b gy pa ox l oy oz">yarn run start</span></pre><h2 id="bba5" class="mz lb iq bd lc na nb dn lg nc nd dp lk kn ne nf lo kr ng nh ls kv ni nj lw nk bi translated">向ProductsMicrofrontend Webpack配置添加远程</h2><pre class="np nq nr ns gt or os ot ou aw ov bi"><span id="a01a" class="mz lb iq os b gy ow ox l oy oz">remotes: {</span><span id="b8e1" class="mz lb iq os b gy pa ox l oy oz">ProductsMicrofrontend:</span><span id="b079" class="mz lb iq os b gy pa ox l oy oz">'ProductsMicrofrontend@http://localhost:8001/remoteEntry.js',</span><span id="b34e" class="mz lb iq os b gy pa ox l oy oz">},</span></pre><figure class="np nq nr ns gt jr gh gi paragraph-image"><div class="gh gi pr"><img src="../Images/dea8fc271acbedeb4d51744ee3a9f8d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/format:webp/1*BV_tl-mEAU_xX9BqB9zbxA.png"/></div></figure><p id="fb10" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">纱线运行开始</p><p id="448c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">当然，传送门还是空的。</p><figure class="np nq nr ns gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ps"><img src="../Images/eb16231bb141066aab24a85c524fb37b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3DaRz1Pu7gTruRjw9oJE_A.png"/></div></div></figure><h2 id="920b" class="mz lb iq bd lc na nb dn lg nc nd dp lk kn ne nf lo kr ng nh ls kv ni nj lw nk bi translated">在PartnerPortal上导入和呈现产品Microfrontend</h2><p id="70c0" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn nl kp kq kr nm kt ku kv nn kx ky kz ij bi translated">现在，让我们将这个remoteEntry.js从<a class="ae mj" href="http://localhost:8001/remoteEntry.js" rel="noopener ugc nofollow" target="_blank">http://localhost:8001/remote entry . js</a>导入到门户中(我们还没有使用React)</p><ol class=""><li id="aea5" class="ly lz iq ke b kf kg kj kk kn mp kr mq kv mr kz nt mg mh mi bi translated">创建src/bootstrap.js并添加以下行</li></ol><pre class="np nq nr ns gt or os ot ou aw ov bi"><span id="9d9c" class="mz lb iq os b gy ow ox l oy oz">import 'ProductsMicrofrontend/ProductsIndex';</span></pre><figure class="np nq nr ns gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi pt"><img src="../Images/cea2c0eec49761cda902c9acd5907e54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MRk2JncWK7KWtHbdcYpszw.png"/></div></div></figure><figure class="np nq nr ns gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi pu"><img src="../Images/725d9a366a88ba259345ccd992424db0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NdJf1v7vkFSuMxqXD_Yz2g.png"/></div></div></figure><p id="6231" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">2.在src/index.js中，删除所有内容并在其中导入引导</p><pre class="np nq nr ns gt or os ot ou aw ov bi"><span id="abd9" class="mz lb iq os b gy ow ox l oy oz">import('./bootstrap');</span></pre><figure class="np nq nr ns gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi pv"><img src="../Images/6f7fce99367b038ed40a8296d7340ab2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1iMphnpkgvaWfw5KJjknHw.png"/></div></div></figure><p id="c860" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在，在<a class="ae mj" href="http://localhost:8000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:8000/ </a>刷新门户页面，会看到如下内容。</p><figure class="np nq nr ns gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi pw"><img src="../Images/ebc11418d9038d0dcc848be28a8ff108.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rTQ-F4u24xXZdQEGBagyOw.png"/></div></div></figure><p id="2970" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这实际上是来自产品Microfontend。</p></div><div class="ab cl ms mt hu mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ij ik il im in"><h1 id="2737" class="la lb iq bd lc ld nu lf lg lh nv lj lk ll nw ln lo lp nx lr ls lt ny lv lw lx bi translated">我们在哪里</h1><ol class=""><li id="0ac6" class="ly lz iq ke b kf ma kj mb kn mc kr md kv me kz nt mg mh mi bi translated">到目前为止，产品团队已经在<a class="ae mj" href="http://localhost:8001/" rel="noopener ugc nofollow" target="_blank"> http://localhost:8001/ </a>实现了基本的微前端(我们将看到如何部署到AWS)</li></ol><figure class="np nq nr ns gt jr gh gi paragraph-image"><div class="gh gi px"><img src="../Images/50f0131dddc915e1c91b36699716f3b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1050/format:webp/1*LOuClMq_yzzSRIC-BUJfIA.png"/></div></figure><p id="4e02" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">2.他们将其部署到<a class="ae mj" href="http://localhost:8001/remoteEntry.js" rel="noopener ugc nofollow" target="_blank">http://localhost:8001/remote entry . j</a>(我们将看到如何将其部署到AWS S3)</p><figure class="np nq nr ns gt jr gh gi paragraph-image"><div class="gh gi py"><img src="../Images/d462f61e708aaed51b622b55c3a4e404.png" data-original-src="https://miro.medium.com/v2/resize:fit:892/format:webp/1*Teiw0rPoSaFLpJ3HLEA_FQ.png"/></div></figure><p id="74ad" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">3.合作伙伴团队将它添加到位于<a class="ae mj" href="http://localhost:8000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:8000/ </a>的合作伙伴门户中(我们将在最后看到如何将它部署到AWS)</p><figure class="np nq nr ns gt jr gh gi paragraph-image"><div class="gh gi pz"><img src="../Images/7a5fc4908c4822e6ff07763553d04c59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1054/format:webp/1*H83jPDLGyhclj84I3qCC7w.png"/></div></figure><p id="99fe" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在添加CSS之前，让我们用public/index.html中的头和标题来标识门户。</p><figure class="np nq nr ns gt jr gh gi paragraph-image"><div class="gh gi qa"><img src="../Images/401ceb17e02c3b6c199f7e6cec7f2ce7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/format:webp/1*M2Nx2QI31fdhn-x5wRSR9g.png"/></div></figure><p id="bc6d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">您将能够立即在浏览器上看到这些更改，而无需重新运行。</p><figure class="np nq nr ns gt jr gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/67ad458980b78550a7e66ce32fdeb184.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*dF9g4yKXQN4rADPJZjoIiA.png"/></div></figure><p id="ab2c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在Products微内容中，我添加了一个非CSS边框，如下所示。</p><figure class="np nq nr ns gt jr gh gi paragraph-image"><div class="gh gi pr"><img src="../Images/c859628c1d3e9d9e3c8629ca92a7f6d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/format:webp/1*CCzWMGrhoPeYK-m1sx6J3A.png"/></div></figure><p id="cbfd" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这将使微前端可识别。</p><figure class="np nq nr ns gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi qb"><img src="../Images/8ae30c3d3ec1ebf9e8159492ffce89cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9mMznhxRq5Rl3r8ccjzPpw.png"/></div></div></figure><p id="ba74" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi">===============================</p><p id="ad27" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在下面的<a class="ae mj" href="https://ranyel.medium.com/microfrontends-hands-on-project-with-module-federation-events-microfrontend-ce8a7f8a16ad" rel="noopener">文章</a>中，我们将创建事件微前端并将其添加到门户:</p><p id="476e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><a class="ae mj" href="https://ranyel.medium.com/microfrontends-hands-on-project-with-module-federation-events-microfrontend-ce8a7f8a16ad" rel="noopener">https://ranyel . medium . com/micro frontends-hands-on-project-with-module-Federation-events-micro frontend-ce 8 a 7 f 8 a 16 ad</a></p></div></div>    
</body>
</html>