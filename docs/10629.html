<html>
<head>
<title>Metrics in the Matrix</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">矩阵中的指标</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/metrics-in-the-matrix-95800fe93254?source=collection_archive---------20-----------------------#2021-12-27">https://levelup.gitconnected.com/metrics-in-the-matrix-95800fe93254?source=collection_archive---------20-----------------------#2021-12-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="85ce" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">机器学习中度量标准的简单介绍(有来自<em class="kf">《黑客帝国》电影的有趣类比)</em></h2></div><p id="2bc4" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">虽然这篇博客文章并不支持《T2》《黑客帝国》《T3》是有史以来最伟大的科幻电影之一《T4》《T5》，但如果你最终有这种感觉，我不会失望。需要澄清的是，对于三部曲剩余部分的粉丝来说，类似的情绪可能并不普遍，尤其是最近重启的<a class="ae ld" href="https://www.looper.com/284930/why-the-matrix-is-the-best-sci-fi-movie-ever" rel="noopener ugc nofollow" target="_blank"> <em class="lc">《黑客帝国》复活</em> </a> <em class="lc">。</em></p><p id="5367" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">我将分解基本的机器学习指标，包括<strong class="ki ir">准确度</strong>、<strong class="ki ir">召回率、</strong>和<strong class="ki ir">精确度</strong>以及<strong class="ki ir">混淆矩阵、第一类错误和第二类错误。</strong>所有这些都伴随着通过<em class="lc">矩阵</em>的小小心灵旅行，希望能建立你的直觉。</p><p id="edd8" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><em class="lc">(</em></p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/9ac38b4ac88e126476a929b2107eb7ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VaB4Gvi1dKrpS3LjpYiqsg.png"/></div></div></figure><h1 id="4c61" class="lq lr iq bd ls lt lu lv lw lx ly lz ma jw mb jx mc jz md ka me kc mf kd mg mh bi translated">准确度不够吗？</h1><p id="1334" class="pw-post-body-paragraph kg kh iq ki b kj mi jr kl km mj ju ko kp mk kr ks kt ml kv kw kx mm kz la lb ij bi translated">机器学习中的一个基本过程是二分类。这仅仅意味着决定某样东西是否应该有一个标签。在监督学习模型中，初始数据将教会我们的模型什么是正确的标签。基于此，模型将学习预测新数据的标签。我们如何判断我们的模型做得有多好？自然地，我们的大脑会考虑准确性——模型的所有预测中有多少是正确的？</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi mn"><img src="../Images/a3b9900e70ad6358be4c36dc39256294.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mgQvjCWNKpqxi3hASMchbQ.png"/></div></div></figure><p id="47bf" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">在评估模型时，准确性无疑是非常重要的。但是，不一定总是最好的！假设我们试图标记信用卡上的欺诈交易。如果99%的交易是合法的，只有1%是欺诈性的，一个模型可以说所有的交易都是合法的，而且99%准确！然而，这对于抓住罪犯没有太大的帮助。根据您的目标，还有其他可能更有用的指标选项。</p><p id="f205" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">在我们进入其他指标和混淆矩阵之前，上面公式中的缩写TP、TN、FP、FN是什么意思？首先，我们需要解决一个经常让人们困惑的问题:第一类和第二类错误(也称为假阳性和假阴性)。</p><h1 id="5b02" class="lq lr iq bd ls lt lu lv lw lx ly lz ma jw mb jx mc jz md ka me kc mf kd mg mh bi translated">第一类和第二类错误</h1><p id="4423" class="pw-post-body-paragraph kg kh iq ki b kj mi jr kl km mj ju ko kp mk kr ks kt ml kv kw kx mm kz la lb ij bi translated">好吧，回到我们的电影参考。你知道吗，有一个非常有趣的理论<a class="ae ld" href="https://www.thewrap.com/the-matrix-the-one-agent-smith-neo-keanu-reeves-hugo-weaving/" rel="noopener ugc nofollow" target="_blank">认为特工史密斯实际上是‘那个人’？对于大多数不相信这是真的粉丝来说，声称史密斯先生是“唯一”将是一类错误——或假阳性(FP)。</a></p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi mn"><img src="../Images/dfc5761c019d7ed93e5bc357518f7971.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aE-AbjmMnp8SnrecwaVexg.png"/></div></div></figure><p id="9ce6" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">在故事的早期引入的主要紧张之一是尼奥试图弄清楚他是否真的是“那个人”。当神谕(显然是一个非常明智的先知)告诉他，他不是“那一位”时，这变得尤其困难。如果我们假设他确实是‘那个人’(即使在那个时候)，那么先知告诉他的话将被认为是第二类错误——或者假阴性(FN)。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi mn"><img src="../Images/4b1d658fae1fea68abc03295e25bb0ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LGtF46AINj0ULdUIzta6pA.png"/></div></div></figure><h1 id="5aeb" class="lq lr iq bd ls lt lu lv lw lx ly lz ma jw mb jx mc jz md ka me kc mf kd mg mh bi translated">带来(混乱)矩阵！</h1><p id="d0f8" class="pw-post-body-paragraph kg kh iq ki b kj mi jr kl km mj ju ko kp mk kr ks kt ml kv kw kx mm kz la lb ij bi translated">因此，随着假阳性(FP)和假阴性(FN)的解决，理解混淆矩阵变得容易多了。让我们开始吧，让我先问一个问题——什么是矩阵？</p><blockquote class="mw mx my"><p id="89ba" class="kg kh lc ki b kj kk jr kl km kn ju ko mz kq kr ks na ku kv kw nb ky kz la lb ij bi translated">在数学中，矩阵(复数矩阵)是按行和列排列的数字、符号或表达式的矩形阵列或表格。(<a class="ae ld" href="https://en.wikipedia.org/wiki/Matrix_(mathematics)" rel="noopener ugc nofollow" target="_blank">维基百科</a>)</p></blockquote><p id="8962" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">在我从事数据科学研究的早期，我遇到了一个重要的版本，叫做混淆矩阵。诚然，我最初试图快速理解这一重要工具的尝试让我感到困惑(因为没有更好的词)。(补充说明,“混乱”是指模型在做出正确预测时有多混乱。)让我们来看看混淆矩阵所传达的信息:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi mn"><img src="../Images/eadc7ab4431eab17bc8f4b6d6bbaf2d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rZgoJizWgm6qZNjmOSuoeg.png"/></div></div></figure><h1 id="8f6b" class="lq lr iq bd ls lt lu lv lw lx ly lz ma jw mb jx mc jz md ka me kc mf kd mg mh bi translated">回忆</h1><p id="c87b" class="pw-post-body-paragraph kg kh iq ki b kj mi jr kl km mj ju ko kp mk kr ks kt ml kv kw kx mm kz la lb ij bi translated">好吧，没有电影参考这没什么用，对吧？让我们以墨菲斯为例。神谕告诉他，他会找到“那个人”。本质上，他是一个二元分类算法，应该能够根据一组给定的人类特征来标记“那个人”。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi mn"><img src="../Images/3315d2a5dc5f3eddcb593f6234c4fdfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aeO_w7Lt7XyDla033RSMWA.png"/></div></div></figure><p id="202a" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">对莫斐斯来说什么会更糟？认为某人是“唯一”，但随后发现他们实际上不是(FP)或者认为某人是<em class="lc">而不是</em>“唯一”，然后因为他错了而使人类彻底灭亡(FN)？在这种情况下，因为只有一个“唯一”，所以FN的成本更高。这就是我们需要关心是否有更高的回忆分数的时候了。公式如下:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi mn"><img src="../Images/cdb1bc61a01e2d6c0506eeb99823320f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ML0S1keIpEdAr6cuZ4KGTQ.png"/></div></div></figure><p id="71b7" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">上面的欺诈交易示例是我们需要高召回分数时的真实示例。将欺诈交易标记为非欺诈(FN)的成本远远高于将非欺诈交易标记为欺诈(FP)的成本。高召回分数与较少的假阴性相关。</p><h1 id="5bec" class="lq lr iq bd ls lt lu lv lw lx ly lz ma jw mb jx mc jz md ka me kc mf kd mg mh bi translated">精确</h1><p id="5081" class="pw-post-body-paragraph kg kh iq ki b kj mi jr kl km mj ju ko kp mk kr ks kt ml kv kw kx mm kz la lb ij bi translated">让我们看看另一个人，他收到了神谕的预言。崔妮蒂被告知她会爱上“那个人”。她确定尼奥一定是“那个人”，因为她对他产生了强烈的感情。然而，当尼奥告诉她他认为(关键词:认为)神谕告诉他他不是“那个人”时，这一切变得非常混乱。有一个史诗般的场景，尼欧在《黑客帝国》中死去，也即将在现实世界中死去。在现实世界中，崔妮蒂冒着极大的风险和他在一起，并以一个吻来表达她对尼奥的爱。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi mn"><img src="../Images/3baa899c600a23cb48fdc7f6b1d71fc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*466fRx-6EsrMEt2SgafQLg.png"/></div></div></figure><p id="1762" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">冒着过于简单化的风险，如果我们把这个吻看作是一个二元分类器，它要么将接收者标记为真正的“那个人”，要么不是，那么对三一来说什么是重要的呢？目标是减少FP的机会。在这种情况下，吻是精确的；拯救尼欧，崔妮蒂，大概还有全人类。这里是精度的公式:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi mn"><img src="../Images/7be2e4d4d286c3f258180d752cd24a36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SHO1vjNyK4IuRpQf_6AnTg.png"/></div></div></figure><p id="f42f" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">需要高精度分数的一个真实例子是垃圾邮件标签。如果您的垃圾邮件过滤器的精确度分数较低，则更有可能将非垃圾邮件标记为垃圾邮件(FP)。<strong class="ki ir">高精度分数与较少的假阳性相关</strong>。</p><h1 id="cc62" class="lq lr iq bd ls lt lu lv lw lx ly lz ma jw mb jx mc jz md ka me kc mf kd mg mh bi translated">子一代</h1><p id="3095" class="pw-post-body-paragraph kg kh iq ki b kj mi jr kl km mj ju ko kp mk kr ks kt ml kv kw kx mm kz la lb ij bi translated">如果查全率和查准率都很重要怎么办？这就是F1分数发挥作用的地方！它平衡了模型的查全率和查准率，并将惩罚上述两个分数的不平衡。公式如下:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi mn"><img src="../Images/7200bfc75853feab0a0d801ed4fa8cfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ug6lsko6RbrK0fdyFlcZ-w.png"/></div></div></figure><p id="4c4e" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">因此，具有完美回忆和精确度的模型将得到1分的F1值。然而，具有完美回忆或精确的模型，然后在另一个中得分为0，则F1得分为0。因此，像本博客前面描述的那个模型，猜测所有信用卡交易都不是欺诈性的，其准确率为99%，但F1值只有50%！</p><h1 id="4515" class="lq lr iq bd ls lt lu lv lw lx ly lz ma jw mb jx mc jz md ka me kc mf kd mg mh bi translated">结论</h1><p id="02f4" class="pw-post-body-paragraph kg kh iq ki b kj mi jr kl km mj ju ko kp mk kr ks kt ml kv kw kx mm kz la lb ij bi translated">有很多方法可以衡量你的机器学习模型在精确度之外做得有多好。我希望这些(诚然错综复杂的)矩阵电影类比能有助于你对精度、回忆和F1工作等分数的直观理解，以及何时使用它们会有好处。</p><h1 id="cc40" class="lq lr iq bd ls lt lu lv lw lx ly lz ma jw mb jx mc jz md ka me kc mf kd mg mh bi translated">附言</h1><h2 id="a3e8" class="nc lr iq bd ls nd ne dn lw nf ng dp ma kp nh ni mc kt nj nk me kx nl nm mg nn bi translated">医学诊断测试怎么样(比如Covid测试)？</h2><p id="2b1d" class="pw-post-body-paragraph kg kh iq ki b kj mi jr kl km mj ju ko kp mk kr ks kt ml kv kw kx mm kz la lb ij bi translated">很棒的问题！这是我问自己的一个问题，当我写这篇文章的时候。医学测试使用略有不同的指标术语，即灵敏度和特异性。<strong class="ki ir">灵敏度</strong>与回忆完全重叠，如上所述——一项测试在检测阳性方面有多好？<strong class="ki ir">特异性，</strong>虽然在最小化假阳性方面类似于精度，但提出了新的公式:TN / (TN + FP)。简单地说— <a class="ae ld" href="https://uberpython.wordpress.com/2012/01/01/precision-recall-sensitivity-and-specificity/" rel="noopener ugc nofollow" target="_blank">测试在避免错误警报方面有多好</a>(阅读最后一个链接以获得更深入的解释)。</p><p id="2f55" class="pw-post-body-paragraph kg kh iq ki b kj kk jr kl km kn ju ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">所以我把这个问题抛给你——<em class="lc">对于Covid测试来说，灵敏度和特异性哪个更重要？</em></p></div></div>    
</body>
</html>