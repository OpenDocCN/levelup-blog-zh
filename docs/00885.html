<html>
<head>
<title>AWS Lambda Cold Start Language Comparisons, 2019 edition ☃️</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">自动气象站Lambda冷启动语言对比，2019年版☃️</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/aws-lambda-cold-start-language-comparisons-2019-edition-%EF%B8%8F-1946d32a0244?source=collection_archive---------0-----------------------#2019-09-04">https://levelup.gitconnected.com/aws-lambda-cold-start-language-comparisons-2019-edition-%EF%B8%8F-1946d32a0244?source=collection_archive---------0-----------------------#2019-09-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/a259a1af65defafd66b1e60da26fd73f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pjDVbHTE6WyNTGuRqBtlTA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">约书亚·厄尔在<a class="ae kc" href="https://unsplash.com/search/photos/comparison?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="b395" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在是2019年，世界是一个不断变化的地方，但其中最大的问题是，自2018年以来，兰姆达斯的表现有什么变化？我再次在这里比较AWS平台上各竞争语言的冷启动时间。随着最近<strong class="kf ir">红宝石</strong>的加入，结合2018年的结果，这应该是一个有趣的分析！<a class="ae kc" href="https://medium.com/@nathan.malishev/lambda-cold-starts-language-comparison-️-a4f4b5f16a62" rel="noopener">见我2018年4月语言对比。在不破坏结果的情况下，AWS团队做出的改进令人兴奋。</a></p><h2 id="3521" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated"><strong class="ak">冷启动？</strong></h2><p id="49df" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">无服务器计算的世界要求功能按需运行，不需要时就扔掉。所有这些仅在需要时运行功能的效率导致了一种称为<strong class="kf ir">冷启动</strong>的现象。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lz"><img src="../Images/b354e51f3327613930ea95952f7d92e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ajxqAxlS9CcOtZqa.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae kc" href="https://youtu.be/oQFORsso2go?t=8m5s" rel="noopener ugc nofollow" target="_blank">常规冷启动</a>(截图自视频)</figcaption></figure><p id="81d7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一次<strong class="kf ir">冷启动</strong>是你的代码在一段时间内(5-25分钟)第一次被执行。这意味着它需要被下载、装箱、启动并准备运行。此外，这一过程会显著增加延迟，性能会降低20到60倍。<strong class="kf ir">冷启动的长度取决于几个变量</strong>、语言/运行时间、专用于函数的资源量(MB)&amp;运行函数所需的包/依赖项。</p><p id="0a3b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">冷启动时间很重要</strong>,尽管这是一种边缘情况。<a class="ae kc" href="https://theburningmonk.com/2018/01/im-afraid-youre-thinking-about-aws-lambda-cold-starts-all-wrong/" rel="noopener ugc nofollow" target="_blank">每当你遭遇流量高峰</a>，ever lambda function就面临着潜在的冷启动！欲了解更多信息，请查看<a class="ae kc" href="https://medium.com/free-code-camp/lambda-vpc-cold-starts-a-latency-killer-5408323278dd" rel="noopener">之前的帖子</a>，该帖子进一步解释了冷启动。</p><h2 id="f88c" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">方法学</h2><p id="8c68" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">我测试了以下语言:Go 1.x，Node.js 8.10，Java 8，Ruby 2.5，Python 3.6 &amp;。netcore 2.1。我为每种语言分别创建了三个函数。该函数除了发出“hello world”之外什么也没做。每种语言都有一个功能，分配给128兆、1024兆和3008兆的内存。然后我创建了一个<a class="ae kc" href="https://aws.amazon.com/step-functions/" rel="noopener ugc nofollow" target="_blank">阶跃函数</a>，来触发所有18个函数。我定期手动收集来自<a class="ae kc" href="https://aws.amazon.com/xray/" rel="noopener ugc nofollow" target="_blank"> AWS x射线</a>的结果。</p><h2 id="cfdf" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">结果</h2><p id="28d8" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">我收集了冷启动时间和AWS x射线引入的一个新变量<code class="fe me mf mg mh b">initialisation</code>，它测量环境设置时间。</p><p id="f4b5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面是冷启动图，分为三个部分:在128mb、1024mb和3008mb内存下运行的功能。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mi"><img src="../Images/569c1c34943ba5e15bccf46bf43949c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9sCYX6qNP2_v4h65dAXldQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">冷启动时间，128mb、1024mb和3008mb分别起作用—毫秒<a class="ae kc" href="https://plot.ly/~nathanmalishev/7/#/" rel="noopener ugc nofollow" target="_blank">*交互图形* </a></figcaption></figure><p id="3b81" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">2018年出现了同样的总体趋势，增加分配给每种语言的资源会减少启动时间，编译的语言会更慢。<br/>但令人惊讶的是，与2018年不同的是<strong class="kf ir"> NodeJs是大赢家</strong>，Ruby和Python略微落后。2018年python占主导地位，我认为这是因为Lambda本身运行在Python环境中。这给python带来了巨大的优势，因为启动时不需要运行时。有趣的是看到其他运行时得到了优化，以至于它们可以与Python竞争。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mj"><img src="../Images/dcbb5ac6ad4d85b6490918d60afd65dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yRoptbhiLIc8pcSkhKAWmA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">由AWS x射线提供的平均初始化时间—毫秒</figcaption></figure><p id="d67e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">以上是每种语言运行时的平均初始化时间。再次有趣的是看到NodeJS与python在同一水平上竞争，可能AWS团队已经为NodeJS函数建立了一个单独的优化函数处理程序？</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mk"><img src="../Images/74900bd4236f7123f7d3f8ce93464fc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CTR45urzK4_gz177XyyWew.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">平均冷启动时间—毫秒<a class="ae kc" href="https://plot.ly/~nathanmalishev/10/#/" rel="noopener ugc nofollow" target="_blank">*交互图* </a></figcaption></figure><p id="9511" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">平均冷启动时间可视化，有助于说明大多数语言现在表现强劲。与2018年不同，他们似乎也更加独立于分配给他们的记忆。除了Java &amp; .Net，我想知道这是否意味着AWS的工程团队正在达到无服务器效率的上限。</p><p id="b024" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我在2020年重新进行这些实验，会发生什么？我们会看到更显著的进步吗？</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mj"><img src="../Images/9b318aad1857c3cae165cf6b45cced7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LFlcTu9ha5Rk60CoGc1yBA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">*2018年结果*2018年平均冷启动—毫秒* 2018年结果*</figcaption></figure><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mj"><img src="../Images/6495fd2e556eb06f848adeda45529d90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5SjQoRwO7Q97wyC2QxQXug.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">平均冷启动2019 —毫秒</figcaption></figure><p id="cf2d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">过去16个月的改善是最令人震惊的发现。随着冷启动变得相当便宜和无后果，全面有了巨大的改进。</p><blockquote class="ml mm mn"><p id="0f04" class="kd ke mo kf b kg kh ki kj kk kl km kn mp kp kq kr mq kt ku kv mr kx ky kz la ij bi translated">NodeJS现在是性能最好的语言，仅用了16个月就提高了74.6%或638毫秒。</p></blockquote><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ms"><img src="../Images/b58b3f003b0fc292c612db81033fb2a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vbP1Fsr-HJY5xkqg9jqpSg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">相对于前一年相同领域的冷启动时间改进</figcaption></figure><p id="d40d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这确实是对AWS工程团队的证明。他们不仅创造了伟大的产品，而且不会忘记这些产品。<strong class="kf ir">我很期待看到这些效率能发挥到什么程度！</strong></p><h2 id="4c7a" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">温暖的功能</h2><p id="0489" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">最后，我想留下一些关于热函数的统计数据。通过这种方式，我们可以了解lambda函数在大多数情况下的执行速度。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mj"><img src="../Images/f688fcdfe6dbe0dffa4d6dffaf039133.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2jxLFiAgdH9klhWZB8wBww.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">热启动—毫秒</figcaption></figure><p id="298f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当lambda函数被适当加热时，不管是哪种语言，它都是非常高效的！</p><h2 id="e419" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">进一步阅读</h2><div class="mt mu gp gr mv mw"><a rel="noopener  ugc nofollow" target="_blank" href="/lambda-cold-starts-language-comparison-️-a4f4b5f16a62"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd ir gy z fp nb fr fs nc fu fw ip bi translated">拉姆达冷启动，语言对比🕵 ❄️ (2018)</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">走向无服务器比以往任何时候都更有利可图，但无服务器的警告总是越来越多。避免冷启动…</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="nf l"><div class="ng l nh ni nj nf nk jw mw"/></div></div></a></div><div class="mt mu gp gr mv mw"><a rel="noopener  ugc nofollow" target="_blank" href="/lambda-vpc-cold-starts-a-latency-killer-5408323278dd"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd ir gy z fp nb fr fs nc fu fw ip bi translated">AWS Lambda和VPC冷启动—🕶⛈的黑暗面</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">所有无服务器计算都遭受可怕的“冷启动”，AWS Lambda也不例外。我探索过寒冷…</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="nf l"><div class="nl l nh ni nj nf nk jw mw"/></div></div></a></div></div></div>    
</body>
</html>