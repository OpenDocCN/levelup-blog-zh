<html>
<head>
<title>Put a Leash on that Pistol by Creating A Cooldown System in Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过在Unity中创建一个冷却系统来控制手枪</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/put-a-leash-on-that-pistol-by-creating-a-cooldown-system-in-unity-f5c36f3532be?source=collection_archive---------17-----------------------#2021-05-06">https://levelup.gitconnected.com/put-a-leash-on-that-pistol-by-creating-a-cooldown-system-in-unity-f5c36f3532be?source=collection_archive---------17-----------------------#2021-05-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/8d210e4e1f9ef9b555b827237270abe1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kEGTmV3q4OcpdiuJ1bx0JA.png"/></div></div></figure><div class=""/><p id="2f74" class="pw-post-body-paragraph kc kd je ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">在我的上一篇文章中，玩家通过实例化预置获得了射击子弹的能力。每当用户按下空格键，子弹就会发射，不管他们按得多快。在这篇文章中，我将介绍如何在火技能上设置一个总督。</p><p id="3a0b" class="pw-post-body-paragraph kc kd je ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">发射机制可以有一个定时器延迟，基本上是说，“你只能每隔X秒发射一次。”为了使用那个定时器，我需要使用real time，可以用<strong class="ke jf"> Time.time </strong>统一完成。</p><figure class="lb lc ld le gt iv gh gi paragraph-image"><div class="gh gi la"><img src="../Images/651ce5a37ffa7a69fbd2ca0e68203ce9.png" data-original-src="https://miro.medium.com/v2/resize:fit:438/format:webp/1*_3CDmzBWcIKlQMT7h2lpYw.png"/></div></figure><p id="deb1" class="pw-post-body-paragraph kc kd je ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">时间被认为是一种<strong class="ke jf">浮动</strong>，可能是因为它以微小的增量流逝，比如一秒的几分之一。</p><figure class="lb lc ld le gt iv gh gi paragraph-image"><div class="gh gi lf"><img src="../Images/b97a58d920a38f961a3837d6a08bcad6.png" data-original-src="https://miro.medium.com/v2/resize:fit:408/format:webp/1*KXvFh2zbkcO0LPz-i6lfIA.png"/></div></figure><p id="d32c" class="pw-post-body-paragraph kc kd je ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">从下一个片段中可以看出一些重要的事情，时间<strong class="ke jf">代表</strong>，是从<strong class="ke jf">游戏</strong>开始<strong class="ke jf">到</strong>结束<strong class="ke jf">的时间。如果游戏已经运行了<strong class="ke jf"> 8秒</strong>，你就有了<strong class="ke jf"> 8 </strong>的Time.time <strong class="ke jf">变量</strong>。游戏运行的<strong class="ke jf">时间越长</strong>，这个变量就变得越大<strong class="ke jf">。</strong></strong></p><figure class="lb lc ld le gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lg"><img src="../Images/38a7114042f38d2addcb8f7547f1c6b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0xcVs1JWfU0VpkF4x9-ERg.png"/></div></div></figure><p id="81ad" class="pw-post-body-paragraph kc kd je ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">Unity给了我们一个使用Time.time的<strong class="ke jf">例子</strong>，而它恰好是关于<strong class="ke jf">如何在一个射击机制</strong>上实现一个冷却系统。没有比这更简单的了！</p><figure class="lb lc ld le gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lh"><img src="../Images/5ad8f824dbe18f8590c8bdbda7ad2f55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lgk89QqQeIHJkobmgoPSmA.png"/></div></div></figure><p id="e88b" class="pw-post-body-paragraph kc kd je ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">为了在我的游戏中加入这个额外的例子，我首先需要一些变量。我把<strong class="ke jf">射速</strong>变量默认设置为<strong class="ke jf"> 0.5f </strong>，这样会让玩家每隔<strong class="ke jf">半秒</strong>发射一颗子弹。然后<strong class="ke jf">序列化</strong>字段<strong class="ke jf">字段</strong>，这样我就可以<strong class="ke jf">稍后从<strong class="ke jf">检查器</strong>调整</strong>该值。我还需要另一个变量，让我的<strong class="ke jf">可以触发</strong>，我将它设置为<strong class="ke jf">零</strong>，原因我稍后会谈到。</p><figure class="lb lc ld le gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi li"><img src="../Images/5c270da08d15a35bc7df1594240ec257.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MXTKzCdC5OAE_f1U9Q6yBQ.png"/></div></div></figure><p id="88f3" class="pw-post-body-paragraph kc kd je ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">在我的更新方法中，我使用<strong class="ke jf">检查</strong>空格<strong class="ke jf">键进行输入，我使用<strong class="ke jf"> &amp; &amp; </strong>运算符来检查两个条件。如果空格键被<strong class="ke jf">按住</strong>并且(&amp; &amp; ) <strong class="ke jf"> Time.time </strong>(游戏开始后经过的时间)大于<strong class="ke jf">可以发射</strong>变量(零)，子弹将会发射。</strong></p><figure class="lb lc ld le gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lj"><img src="../Images/9046a22684d27f0c6faaaf4f0a6c5ea1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Uv0OxxxtSvQKBACCjzfAWA.png"/></div></div></figure><p id="8624" class="pw-post-body-paragraph kc kd je ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">这里是一切汇集的地方。由于游戏已经运行了<strong class="ke jf">比<strong class="ke jf">零秒</strong>(time . time&gt;_ canFireBullet)长</strong>，玩家可以发射一颗子弹。之后，在发射子弹方法中，<strong class="ke jf">可以发射</strong>变量，通过<strong class="ke jf">将</strong> Time.time加到我们的发射率上，得到一个<strong class="ke jf">新值</strong>。现在可以开火的值就是我们的时间.时间值<strong class="ke jf">加上</strong> 0.5从射速。也就是说，Time.time的<strong class="ke jf">不会大于</strong>的<strong class="ke jf">新</strong>可以开火的数值，所以玩家不能开火。Time.time保持<strong class="ke jf">更新，</strong>所以在一个<strong class="ke jf">半秒</strong>(射速)后，Time.time的值将再次大于<strong class="ke jf"/>，玩家可以再次开火！</p><figure class="lb lc ld le gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lk"><img src="../Images/d68f6a85f5878d16e66535df5e66d3cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OH9l3MqGvFUD5TubvxSI_Q.png"/></div></div></figure></div></div>    
</body>
</html>