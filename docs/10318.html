<html>
<head>
<title>Unix sed Command Tutorial with Examples</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有示例的Unix sed命令教程</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/unix-sed-command-tutorial-with-examples-4d59c9257004?source=collection_archive---------2-----------------------#2021-11-20">https://levelup.gitconnected.com/unix-sed-command-tutorial-with-examples-4d59c9257004?source=collection_archive---------2-----------------------#2021-11-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="06ba" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">通过实际例子开始sed</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/196d90315737a322bb80bc6b3a4da6b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*32KaKqxoaFXF6jvL"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@samuelchenard?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">塞缪尔·切纳德</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><div class="kz la gp gr lb lc"><a href="https://jorgepit-14189.medium.com/membership" rel="noopener follow" target="_blank"><div class="ld ab fo"><div class="le ab lf cl cj lg"><h2 class="bd iu gy z fp lh fr fs li fu fw is bi translated">用我的推荐链接加入媒体-乔治皮皮斯</h2><div class="lj l"><h3 class="bd b gy z fp lh fr fs li fu fw dk translated">阅读乔治·皮皮斯(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接支持…</h3></div><div class="lk l"><p class="bd b dl z fp lh fr fs li fu fw dk translated">jorgepit-14189.medium.com</p></div></div><div class="ll l"><div class="lm l ln lo lp ll lq ks lc"/></div></div></a></div><p id="da68" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">(<strong class="lt iu">s</strong>stream<strong class="lt iu">ed</strong>itor)是一个非常强大的解析和转换文本的工具，早在1973年由贝尔实验室开发。通常，您可以在任何UNIX变体中找到预安装的sed，但是您可能需要安装它。</p><p id="21b6" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在本教程中，我们将通过示例向您展示sed命令的基本用法。对于示例，我们将使用以下两个文件。</p><p id="3a07" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><strong class="lt iu">例如csv </strong></p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="91d4" class="mv mw it mq b gy mx my l mz na">ID,Name,Dept,Gender<br/>1,George,DS,M<br/>2,Billy,DS,M<br/>3,Nick,IT,M<br/>4,George,IT,M<br/>5,Nikki,HR,F<br/>6,Claudia,HR,F<br/>7,Maria,Sales,F<br/>8,Jimmy,Sales,M<br/>9,Jane,Marketing,F<br/>10,George,DS,M</span></pre><p id="83f2" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><strong class="lt iu"> myfile.txt </strong></p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="2ea1" class="mv mw it mq b gy mx my l mz na">This is the first line bla bla bla<br/>This is the second line bla bla bla<br/>This is the third line bla bla bla<br/>some other text is here<br/>This is Predictive Hacks a Data Science blog<br/>and this is the last line of this non sense text</span></pre><p id="ae22" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在开始举例之前，让我们检查一下系统中是否安装了sed。</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="9fe9" class="mv mw it mq b gy mx my l mz na">sed --version</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/f0060be21d9b3817adef0f5d35bdccee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1258/format:webp/0*FucO6S-cEc4b-JrA.png"/></div></figure><p id="451d" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">既然我们已经安装了sed，我们就可以开始了！</p><h1 id="b701" class="nc mw it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">如何逐行替换值</h1><p id="5685" class="pw-post-body-paragraph lr ls it lt b lu nt ju lw lx nu jx lz ma nv mc md me nw mg mh mi nx mk ml mm im bi translated">sed最常见的命令是<code class="fe mn mo mp mq b">'s/pattern/value/'</code>，它搜索一个字符串“模式”并用所需的值替换它。注意“<strong class="lt iu"> s </strong>来自于“<strong class="lt iu">替代</strong>”。让我们来看一个例子，我们想把<strong class="lt iu"> myfile.txt </strong>中的<strong class="lt iu"> bla </strong>改成<strong class="lt iu"> BLA </strong>。</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="3b77" class="mv mw it mq b gy mx my l mz na">sed 's/bla/BLA/' myfile.txt</span></pre><p id="f519" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们得到了:</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="a347" class="mv mw it mq b gy mx my l mz na">This is the first line BLA bla bla<br/>This is the second line BLA bla bla<br/>This is the third line BLA bla bla<br/>some other text is here<br/>This is Predictive Hacks a Data Science blog</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/39914d866045a88e4843f02005f3cef5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/format:webp/0*hR_lk2ZGACGJnMlg.png"/></div></figure><p id="df64" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><strong class="lt iu">注意</strong>:正如我们所看到的，它只将每行中第一次出现的“bla”替换为“BLA”。</p><p id="4aa6" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果我们想要替换每一次出现，那么我们应该在表达式中添加“g”(s/pattern/value/g)。“g”来自“global”。</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="548b" class="mv mw it mq b gy mx my l mz na">sed 's/bla/BLA/g' myfile.txt</span></pre><p id="6bd0" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们得到了:</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="ee49" class="mv mw it mq b gy mx my l mz na">This is the first line BLA BLA BLA<br/>This is the second line BLA BLA BLA<br/>This is the third line BLA BLA BLA<br/>some other text is here<br/>This is Predictive Hacks a Data Science blog</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/8c856ec32740d22c2ccc4fc5318b6caa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/format:webp/0*Wqqx5Yg1hXfa7rOi.png"/></div></figure><p id="4a8f" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">正如我们所看到的，我们用“bla”替换了所有出现的“BLA”。</p><h1 id="9b48" class="nc mw it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">如何用一个值替换第n次出现的内容</h1><p id="6b56" class="pw-post-body-paragraph lr ls it lt b lu nt ju lw lx nu jx lz ma nv mc md me nw mg mh mi nx mk ml mm im bi translated">假设我们想用“bla”替换每行中第三次出现的单词“BLA”。我们可以很容易地做到如下:</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="7db4" class="mv mw it mq b gy mx my l mz na">sed 's/bla/BLA/3' myfile.txt</span></pre><p id="df88" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们得到了:</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="be55" class="mv mw it mq b gy mx my l mz na">This is the first line bla bla BLA<br/>This is the second line bla bla BLA<br/>This is the third line bla bla BLA<br/>some other text is here<br/>This is Predictive Hacks a Data Science blog</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/9f841b5f90f84448f48f4f54c1cf71b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/format:webp/0*mMGMkMa4DQ1dH-YZ.png"/></div></figure><p id="59c5" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">正如我们所看到的，每行中只有第三次出现的“bla”被替换为“BLA”。</p><h1 id="6861" class="nc mw it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">“&amp;”的使用</h1><p id="679a" class="pw-post-body-paragraph lr ls it lt b lu nt ju lw lx nu jx lz ma nv mc md me nw mg mh mi nx mk ml mm im bi translated">我们可以使用“&amp;”符号调用匹配的模式。比方说，我们希望将eg.csv的第一个数字放在括号中。让我们看看我们如何能做它。</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="683a" class="mv mw it mq b gy mx my l mz na">sed 's/^[0-9]\{1,2\}/(&amp;)/g' eg.csv</span></pre><p id="0898" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们得到了:</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="0dde" class="mv mw it mq b gy mx my l mz na">ID,Name,Dept,Gender<br/>(1),George,DS,M<br/>(2),Billy,DS,M<br/>(3),Nick,IT,M<br/>(4),George,IT,M<br/>(5),Nikki,HR,F<br/>(6),Claudia,HR,F<br/>(7),Maria,Sales,F<br/>(8),Jimmy,Sales,M<br/>(9),Jane,Marketing,F<br/>(10),George,DS,M</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/af3d2f3d1d95351ba3355ed3e45c268b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*QnOgPeGa568N8rKF.png"/></div></div></figure><p id="744d" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><strong class="lt iu">说明</strong>:“^[0–9]\{1,2\}”部分搜索任何以1或2位数开头的行。然后，匹配的文本用“&amp;”表示，因此“(&amp;)”表示将前1到2位数字括在括号中。</p><h1 id="fb02" class="nc mw it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">多个命令</h1><p id="9a83" class="pw-post-body-paragraph lr ls it lt b lu nt ju lw lx nu jx lz ma nv mc md me nw mg mh mi nx mk ml mm im bi translated">我们可以使用“-e”标志运行多个命令。比方说，我们想在同一个命令中用“<strong class="lt iu">”、“<strong class="lt iu">是”、“</strong>”替换“<strong class="lt iu">是”、“</strong>”。</strong></p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="c20b" class="mv mw it mq b gy mx my l mz na">sed -e 's/This/That/g' -e 's/is/was/g' myfile.txt</span></pre><p id="9cb7" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们得到了:</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="c00a" class="mv mw it mq b gy mx my l mz na">That was the first line bla bla bla<br/>That was the second line bla bla bla<br/>That was the third line bla bla bla<br/>some other text was here<br/>That was Predictive Hacks a Data Science blog</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/fd8a5bdcbe53c1f384b64f2d7175f4fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tjypuKjLTUmZ2hjj.png"/></div></div></figure><h1 id="d422" class="nc mw it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">指定线条范围</h1><p id="6b3a" class="pw-post-body-paragraph lr ls it lt b lu nt ju lw lx nu jx lz ma nv mc md me nw mg mh mi nx mk ml mm im bi translated">我们可以为sed命令指定一系列行。更具体地说，我们可以指定:</p><ul class=""><li id="71de" class="oc od it lt b lu lv lx ly ma oe me of mi og mm oh oi oj ok bi translated">只有一个数字的一行。</li><li id="0152" class="oc od it lt b lu ol lx om ma on me oo mi op mm oh oi oj ok bi translated">最后一行带有“$”符号。</li><li id="fa6d" class="oc od it lt b lu ol lx om ma on me oo mi op mm oh oi oj ok bi translated">带有使用“/…/”符号的正则表达式的行</li><li id="0a12" class="oc od it lt b lu ol lx om ma on me oo mi op mm oh oi oj ok bi translated">带有“<strong class="lt iu">、</strong>”符号的线条范围。</li><li id="d5a1" class="oc od it lt b lu ol lx om ma on me oo mi op mm oh oi oj ok bi translated">使用“<strong class="lt iu">的反转表达式！</strong>"符号。</li></ul><h1 id="cc62" class="nc mw it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">如何替换特定行中的文本</h1><p id="8e92" class="pw-post-body-paragraph lr ls it lt b lu nt ju lw lx nu jx lz ma nv mc md me nw mg mh mi nx mk ml mm im bi translated">假设我们只想将第三行中的“bla”替换为“BLA”。</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="9dcb" class="mv mw it mq b gy mx my l mz na">sed '3 s/bla/BLA/g' myfile.txt</span></pre><p id="22e0" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们得到了:</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="a81f" class="mv mw it mq b gy mx my l mz na">This is the first line bla bla bla<br/>This is the second line bla bla bla<br/>This is the third line BLA BLA BLA<br/>some other text is here<br/>This is Predictive Hacks a Data Science blog</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/c1d077ae675c0f500aaa5093a3c0015e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*a7LuCLk57pijSIBl.png"/></div></div></figure><p id="4260" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">请注意，更改只发生在第三行。</p><h1 id="6917" class="nc mw it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">打印特定行</h1><p id="2725" class="pw-post-body-paragraph lr ls it lt b lu nt ju lw lx nu jx lz ma nv mc md me nw mg mh mi nx mk ml mm im bi translated">我们可以打印特定的行。例如，假设我们想打印前5行。</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="4975" class="mv mw it mq b gy mx my l mz na">sed -n '1,5 p' eg.csv</span></pre><p id="0a95" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们得到了:</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="cf3e" class="mv mw it mq b gy mx my l mz na">ID,Name,Dept,Gender<br/>1,George,DS,M<br/>2,Billy,DS,M<br/>3,Nick,IT,M<br/>4,George,IT,M</span></pre><p id="495d" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">使用$符号，我们可以打印到最后一行。例如，假设我们想从第5行到达末尾:</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="0b6b" class="mv mw it mq b gy mx my l mz na">sed -n '5,$ p' eg.csv</span></pre><p id="d061" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们得到了:</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="1ced" class="mv mw it mq b gy mx my l mz na">4,George,IT,M<br/>5,Nikki,HR,F<br/>6,Claudia,HR,F<br/>7,Maria,Sales,F<br/>8,Jimmy,Sales,M<br/>9,Jane,Marketing,F<br/>10,George,DS,M</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/9fabeb9f7eeb17907343f4d04d09bd8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kSY1LHuFhY3xSL3H.png"/></div></div></figure><p id="edbb" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">最后，使用<strong class="lt iu">！我们可以把这个表达式反过来。例如，假设我们想打印除前五行之外的所有行。</strong></p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="f5e3" class="mv mw it mq b gy mx my l mz na">sed -n '1,5 !p' eg.csv</span></pre><p id="f77f" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们得到了:</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="9df0" class="mv mw it mq b gy mx my l mz na">5,Nikki,HR,F<br/>6,Claudia,HR,F<br/>7,Maria,Sales,F<br/>8,Jimmy,Sales,M<br/>9,Jane,Marketing,F<br/>10,George,DS,M</span></pre><h1 id="316d" class="nc mw it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">基于正则表达式打印行</h1><p id="ead6" class="pw-post-body-paragraph lr ls it lt b lu nt ju lw lx nu jx lz ma nv mc md me nw mg mh mi nx mk ml mm im bi translated">假设我想返回所有包含"<strong class="lt iu"> bla </strong>"的行，直到第一次出现"<strong class="lt iu"> here </strong>"为止。</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="acfb" class="mv mw it mq b gy mx my l mz na">sed -n '/bla/ , /here/p' myfile.txt</span></pre><p id="6242" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们得到了:</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="0827" class="mv mw it mq b gy mx my l mz na">This is the first line bla bla bla<br/>This is the second line bla bla bla<br/>This is the third line bla bla bla<br/>some other text is here</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/a27d67cceffaaf52a5bdaf595ebb7034.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*RLjlrm16z7NDBU1J.png"/></div></div></figure><h1 id="a213" class="nc mw it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">仅打印替换的行</h1><p id="2d74" class="pw-post-body-paragraph lr ls it lt b lu nt ju lw lx nu jx lz ma nv mc md me nw mg mh mi nx mk ml mm im bi translated">我们可以通过使用-n和-p标志只打印被替换的行。例如，我们将用“数据科学”替换“<strong class="lt iu"> DS </strong>”，并且我们将只返回有替换的行。</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="bf00" class="mv mw it mq b gy mx my l mz na">sed -n 's/DS/Data Science/p' eg.csv</span></pre><p id="7c15" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们得到了:</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="b6c4" class="mv mw it mq b gy mx my l mz na">1,George,Data Science,M<br/>2,Billy,Data Science,M<br/>10,George,Data Science,M</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/3587784cc09188c7544a00bf033acc5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jR3WtOYI1L--NKpK.png"/></div></div></figure><h1 id="0f02" class="nc mw it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">删除行</h1><p id="62fc" class="pw-post-body-paragraph lr ls it lt b lu nt ju lw lx nu jx lz ma nv mc md me nw mg mh mi nx mk ml mm im bi translated">我们可以用-d标志“删除”行。当我们说删除时，我们的意思是不会打印这些行。不要担心你的原始文件，它不会受到影响。假设我想“删除”，即过滤掉所有包含“<strong class="lt iu"> bla </strong>”的行。</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="c48b" class="mv mw it mq b gy mx my l mz na">sed '/bla/d' myfile.txt</span></pre><p id="5996" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们得到了:</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="23a9" class="mv mw it mq b gy mx my l mz na">some other text is here <br/>This is Predictive Hacks a Data Science blog</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/c35a237d948bce31287aa0d963e40764.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*dDt16qCqUIfgkcuG.png"/></div></div></figure><h1 id="4296" class="nc mw it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">用单个字符替换单个字符</h1><p id="9069" class="pw-post-body-paragraph lr ls it lt b lu nt ju lw lx nu jx lz ma nv mc md me nw mg mh mi nx mk ml mm im bi translated">类似于UNIX的“tr”命令，我们可以使用-y标志用单个字符替换单个字符。我们可以使用映射一次替换许多单个字符。比如说我想把小写元音改成大写。</p><ul class=""><li id="190a" class="oc od it lt b lu lv lx ly ma oe me of mi og mm oh oi oj ok bi translated">a → A</li><li id="5feb" class="oc od it lt b lu ol lx om ma on me oo mi op mm oh oi oj ok bi translated">e → E</li><li id="8979" class="oc od it lt b lu ol lx om ma on me oo mi op mm oh oi oj ok bi translated">我→我</li><li id="89c0" class="oc od it lt b lu ol lx om ma on me oo mi op mm oh oi oj ok bi translated">o → O</li><li id="d04a" class="oc od it lt b lu ol lx om ma on me oo mi op mm oh oi oj ok bi translated">u → U</li></ul><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="b0b7" class="mv mw it mq b gy mx my l mz na">sed 'y/aeiou/AEIOU/' myfile.txt</span></pre><p id="ab82" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们得到了:</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="a2af" class="mv mw it mq b gy mx my l mz na">ThIs Is thE fIrst lInE blA blA blA<br/>ThIs Is thE sEcOnd lInE blA blA blA<br/>ThIs Is thE thIrd lInE blA blA blA<br/>sOmE OthEr tExt Is hErE<br/>ThIs Is PrEdIctIvE HAcks A DAtA ScIEncE blOg</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/dcbe6d96fccc7808bfb8b1bb42606370.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mCtVygblfce2CdkX.png"/></div></div></figure><p id="9c0e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们可以看到，所有的元音都是大写的。</p><h1 id="68ff" class="nc mw it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">在每行后添加一个空行</h1><p id="d08f" class="pw-post-body-paragraph lr ls it lt b lu nt ju lw lx nu jx lz ma nv mc md me nw mg mh mi nx mk ml mm im bi translated">我们可以在每行之后插入一个空行，如下所示:</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="cb3d" class="mv mw it mq b gy mx my l mz na">$ sed G myfile.txt</span></pre><p id="958d" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们得到了:</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="ef93" class="mv mw it mq b gy mx my l mz na">This is the first line bla bla bla</span><span id="7c5a" class="mv mw it mq b gy or my l mz na">This is the second line bla bla bla</span><span id="9ddb" class="mv mw it mq b gy or my l mz na">This is the third line bla bla bla</span><span id="fd19" class="mv mw it mq b gy or my l mz na">some other text is here</span><span id="b36f" class="mv mw it mq b gy or my l mz na">This is Predictive Hacks a Data Science blog</span><span id="2fe0" class="mv mw it mq b gy or my l mz na">and this is the last line of this non sense text</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/4eaac38af5395097c1bc369b7aaf14a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*O2FLIV5Sdlqx8lQF.png"/></div></div></figure><h1 id="a86e" class="nc mw it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">如何删除空行</h1><p id="4f96" class="pw-post-body-paragraph lr ls it lt b lu nt ju lw lx nu jx lz ma nv mc md me nw mg mh mi nx mk ml mm im bi translated">在前面的例子中，我们添加了空行。让我们看看如何使用sed删除空行。</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="0d5f" class="mv mw it mq b gy mx my l mz na">sed G myfile.txt | sed '/^$/d'</span></pre><p id="ebcd" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们得到了:</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="6010" class="mv mw it mq b gy mx my l mz na">This is the first line bla bla bla<br/>This is the second line bla bla bla<br/>This is the third line bla bla bla<br/>some other text is here<br/>This is Predictive Hacks a Data Science blog<br/>and this is the last line of this non sense text</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/e3f089e3e2a63974cfd78e83d3fa56a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jD1nKmWx-mICN-Qm.png"/></div></div></figure><h1 id="dbb3" class="nc mw it bd nd ne nf ng nh ni nj nk nl jz nm ka nn kc no kd np kf nq kg nr ns bi translated">外卖</h1><p id="98ab" class="pw-post-body-paragraph lr ls it lt b lu nt ju lw lx nu jx lz ma nv mc md me nw mg mh mi nx mk ml mm im bi translated">sed是处理文本文件的强大工具，对于数据科学家和数据工程师来说是一项极具竞争力的技术技能。它使我们能够进行基本的数据清理和一些检查，而不必使用R或Python将文件加载到内存中。如果你对sed教程感兴趣，你可能也会喜欢那个<a class="ae ky" href="https://predictivehacks.com/awk-tutorial-for-data-scientists-and-engineers/" rel="noopener ugc nofollow" target="_blank"> awk教程</a>。敬请关注。</p></div><div class="ab cl ot ou hx ov" role="separator"><span class="ow bw bk ox oy oz"/><span class="ow bw bk ox oy oz"/><span class="ow bw bk ox oy"/></div><div class="im in io ip iq"><p id="a343" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><em class="pa">最初发表于</em><a class="ae ky" href="https://predictivehacks.com/unix-sed-command-tutorial-with-examples/" rel="noopener ugc nofollow" target="_blank">T5【https://predictivehacks.com】</a><em class="pa">。</em></p></div></div>    
</body>
</html>