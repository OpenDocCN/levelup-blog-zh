<html>
<head>
<title>Digging into DNS Resolution with dig</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ç”¨digæŒ–æ˜DNSè§£æ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/digging-into-dns-resolution-with-dig-3e9498ff1a57?source=collection_archive---------6-----------------------#2021-06-13">https://levelup.gitconnected.com/digging-into-dns-resolution-with-dig-3e9498ff1a57?source=collection_archive---------6-----------------------#2021-06-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/dad185faa8b4ed03b352113274c2906c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qGq_p3QxZzR9AxxL"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">ç…§ç‰‡ç”±<a class="ae kc" href="https://unsplash.com/@markuswinkler?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">é©¬åº“æ–¯Â·æ¸©å…‹å‹’</a>åœ¨<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹æ‘„</figcaption></figure><p id="af39" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç”µè„‘å’Œæ•°å­—æ‰“äº¤é“ã€‚ç”µè„‘ä½¿ç”¨ç§°ä¸ºIPåœ°å€çš„æ•°å­—åœ°å€ä¸å¦ä¸€å°ç”µè„‘é€šä¿¡ã€‚è™½ç„¶å®ƒæ˜¯ç»“æ„åŒ–çš„ï¼Œå› æ­¤å¯¹è®¡ç®—æœºæ¥è¯´å¾ˆæ£’ï¼Œä½†å¯¹äººç±»æ¥è¯´å¾ˆéš¾è®°ä½ã€‚</p><p id="c24c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">DNSå……å½“äº’è”ç½‘çš„ç”µè¯ç°¿ğŸŒã€‚å®ƒå°†è¯¸å¦‚â€œexample.comâ€ä¹‹ç±»çš„ç½‘å€è½¬æ¢æˆè®¡ç®—æœºç”¨æ¥è¿æ¥çš„IPåœ°å€ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¸å¿…è®°ä½å¤æ‚çš„IPåœ°å€ğŸ¤©ã€‚</p><figure class="lc ld le lf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lb"><img src="../Images/5fc06ea7937282b69f91da07f8fbb512.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*vEc77dSrNBzinm1g.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated"><em class="lg">æƒŠè‰³å°å“/æ¼«ç”»ä½œè€…</em> <a class="ae kc" href="https://twitter.com/b0rk?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor" rel="noopener ugc nofollow" target="_blank">æœ±è‰å¨…Â·åŸƒæ–‡æ–¯ï¼</a></figcaption></figure><p id="c184" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘ä»¬æ­£è¯•å›¾åœ¨æµè§ˆå™¨ä¸Šæ‰“å¼€example.comã€‚å…¸å‹çš„DNSæŸ¥æ‰¾æ˜¯è¿™æ ·çš„:</p><ol class=""><li id="8ae5" class="lh li iq kf b kg kh kk kl ko lj ks lk kw ll la lm ln lo lp bi translated">æµè§ˆå™¨é¦–å…ˆåœ¨å…¶DNSç¼“å­˜ä¸­æŸ¥æ‰¾â€œexample.comâ€ã€‚å¦‚æœå­˜åœ¨ï¼Œæµè§ˆå™¨å°†ä½¿ç”¨ç¼“å­˜çš„IPåœ°å€å¹¶è¿æ¥åˆ°â€œexample.comâ€ã€‚å¦‚æœæ²¡æœ‰ï¼Œåˆ™æµè§ˆå™¨è¿›å…¥ä¸‹ä¸€æ­¥ã€‚</li><li id="858f" class="lh li iq kf b kg lq kk lr ko ls ks lt kw lu la lm ln lo lp bi translated">æµè§ˆå™¨å‘å‡ºä¸€ä¸ª<code class="fe lv lw lx ly b">gethostbyname (3)</code>å¹¶å°†åç§°è§£æçš„è´£ä»»ä¼ é€’ç»™æ“ä½œç³»ç»Ÿ(OS)ã€‚æ“ä½œç³»ç»Ÿç°åœ¨æˆä¸ºè§£æå™¨ã€‚</li><li id="8570" class="lh li iq kf b kg lq kk lr ko ls ks lt kw lu la lm ln lo lp bi translated">æ“ä½œç³»ç»Ÿåœ¨ç³»ç»ŸDNSç¼“å­˜ä¸­æŸ¥æ‰¾åŸŸåã€‚å¦‚æœæ‰¾åˆ°äº†ï¼Œå®ƒå°±æŠŠIPåœ°å€è¿”å›ç»™æµè§ˆå™¨ï¼Œå¦åˆ™æ“ä½œç³»ç»Ÿè¿›å…¥ä¸‹ä¸€æ­¥ã€‚</li><li id="822e" class="lh li iq kf b kg lq kk lr ko ls ks lt kw lu la lm ln lo lp bi translated">æ“ä½œç³»ç»ŸæŸ¥çœ‹è¢«ç§°ä¸ºä¸»æœºæ–‡ä»¶çš„<code class="fe lv lw lx ly b">\etc\hosts</code>ã€‚åœ¨ARPANETæ—¶ä»£ï¼Œhostsæ–‡ä»¶æ˜¯ç»´æŠ¤ä¸»æœºååˆ°IPåœ°å€æ˜ å°„çš„ä¸€ç§æ–¹æ³•ã€‚å¦‚æœæ¡ç›®å­˜åœ¨ï¼Œæ“ä½œç³»ç»Ÿè¿”å›IPåœ°å€ï¼Œå¦åˆ™è¿›å…¥ä¸‹ä¸€æ­¥ã€‚</li><li id="58da" class="lh li iq kf b kg lq kk lr ko ls ks lt kw lu la lm ln lo lp bi translated">æ“ä½œç³»ç»Ÿå°è¯•è¿æ¥åˆ°æ‚¨é…ç½®çš„DNSæœåŠ¡å™¨ï¼Œå¹¶å‘é€é’ˆå¯¹â€œexample.comâ€çš„DNSæŸ¥è¯¢ã€‚æ‚¨å¯ä»¥æ‰‹åŠ¨è®¾ç½®æ‚¨çš„DNSæœåŠ¡å™¨ï¼Œæˆ–è€…æ‚¨è¿æ¥çš„ç½‘ç»œå¯ä»¥ä¸ºæ‚¨è¿›è¡Œé…ç½®ã€‚DNSæœåŠ¡å™¨ç°åœ¨æˆä¸ºè§£æå™¨ï¼Œå¿…é¡»å‘å‘é€DNSæŸ¥è¯¢çš„æœºå™¨çš„æ“ä½œç³»ç»Ÿè¿”å›å“åº”ã€‚</li><li id="9cdb" class="lh li iq kf b kg lq kk lr ko ls ks lt kw lu la lm ln lo lp bi translated">DNSæœåŠ¡å™¨(è§£æå™¨)åœ¨å…¶DNSç¼“å­˜ä¸­æŸ¥æ‰¾ä¸»æœºåã€‚å¦‚æœå®ƒæ‰¾åˆ°ä¸€ä¸ªæ¡ç›®ï¼Œå®ƒå°±æŠŠè¿™ä¸ªæ¡ç›®è¿”å›ç»™è°ƒç”¨æœºå™¨ã€‚å¦åˆ™è¿›å…¥ä¸‹ä¸€æ­¥ã€‚</li><li id="cc2b" class="lh li iq kf b kg lq kk lr ko ls ks lt kw lu la lm ln lo lp bi translated">DNSæœåŠ¡å™¨å°è¯•è¿æ¥åˆ°æ ¹åç§°æœåŠ¡å™¨(ã€‚)ä½ å¯ä»¥åš<code class="fe lv lw lx ly b">dig .</code>æ¥æ‰¾åˆ°ä½ çš„DNSæœåŠ¡å™¨è¯•å›¾è¿æ¥çš„æ ¹åŸŸåæœåŠ¡å™¨ã€‚ç›®å‰ï¼Œä»¥å­—æ¯â€œaâ€åˆ°â€œmâ€â€”â€”<code class="fe lv lw lx ly b">a.root-servers.net.</code>å‘½åçš„æ ¹åŸŸåæœåŠ¡å™¨æœ‰13ä¸ª</li></ol><pre class="lc ld le lf gt lz ly ma mb aw mc bi"><span id="adda" class="md me iq ly b gy mf mg l mh mi">âœ dig -t NS .</span><span id="3188" class="md me iq ly b gy mj mg l mh mi">; &lt;&lt;&gt;&gt; DiG 9.10.6 &lt;&lt;&gt;&gt; -t NS .<br/>;; global options: +cmd<br/>;; Got answer:<br/>;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 45206<br/>;; flags: qr rd ra; QUERY: 1, ANSWER: 13, AUTHORITY: 0, ADDITIONAL: 1</span><span id="bb5a" class="md me iq ly b gy mj mg l mh mi">;; OPT PSEUDOSECTION:<br/>; EDNS: version: 0, flags:; udp: 4096<br/>;; QUESTION SECTION:<br/>;.              IN  NS</span><span id="415c" class="md me iq ly b gy mj mg l mh mi">;; ANSWER SECTION:<br/>.           48  IN  NS  a.root-servers.net.<br/>.           48  IN  NS  d.root-servers.net.<br/>.           48  IN  NS  k.root-servers.net.<br/>.           48  IN  NS  g.root-servers.net.<br/>.           48  IN  NS  j.root-servers.net.<br/>.           48  IN  NS  c.root-servers.net.<br/>.           48  IN  NS  b.root-servers.net.<br/>.           48  IN  NS  m.root-servers.net.<br/>.           48  IN  NS  f.root-servers.net.<br/>.           48  IN  NS  h.root-servers.net.<br/>.           48  IN  NS  l.root-servers.net.<br/>.           48  IN  NS  e.root-servers.net.<br/>.           48  IN  NS  i.root-servers.net.</span><span id="2bfc" class="md me iq ly b gy mj mg l mh mi">;; Query time: 80 msec<br/>;; SERVER: 10.254.254.210#53(10.254.254.210)<br/>;; WHEN: Wed May 06 22:51:43 IST 2020<br/>;; MSG SIZE  rcvd: 239</span></pre><p id="fff7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">8.ç°åœ¨ï¼ŒDNSæœåŠ¡å™¨è¯·æ±‚ä¸Šè¿°æ ¹åŸŸåæœåŠ¡å™¨ä¸­çš„ä¸€ä¸ªä½œä¸ºTLDçš„TLDçº§æ ¹åŸŸåæœåŠ¡å™¨ã€‚comâ€ã€‚</p><pre class="lc ld le lf gt lz ly ma mb aw mc bi"><span id="4477" class="md me iq ly b gy mf mg l mh mi">âœ dig <a class="ae kc" href="http://twitter.com/d" rel="noopener ugc nofollow" target="_blank">@d</a>.root-servers.net. -t NS com.</span><span id="1cae" class="md me iq ly b gy mj mg l mh mi">; &lt;&lt;&gt;&gt; DiG 9.10.6 &lt;&lt;&gt;&gt; <a class="ae kc" href="http://twitter.com/d" rel="noopener ugc nofollow" target="_blank">@d</a>.root-servers.net. -t NS com.<br/>; (1 server found)<br/>;; global options: +cmd<br/>;; Got answer:<br/>;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 106<br/>;; flags: qr rd; QUERY: 1, ANSWER: 0, AUTHORITY: 13, ADDITIONAL: 27<br/>;; WARNING: recursion requested but not available</span><span id="f6f0" class="md me iq ly b gy mj mg l mh mi">;; OPT PSEUDOSECTION:<br/>; EDNS: version: 0, flags:; udp: 1450<br/>;; QUESTION SECTION:<br/>;com.               IN  NS</span><span id="38a4" class="md me iq ly b gy mj mg l mh mi">;; AUTHORITY SECTION:<br/>com.            172800  IN  NS  a.gtld-servers.net.<br/>com.            172800  IN  NS  b.gtld-servers.net.<br/>com.            172800  IN  NS  c.gtld-servers.net.<br/>com.            172800  IN  NS  d.gtld-servers.net.<br/>com.            172800  IN  NS  e.gtld-servers.net.<br/>com.            172800  IN  NS  f.gtld-servers.net.<br/>com.            172800  IN  NS  g.gtld-servers.net.<br/>com.            172800  IN  NS  h.gtld-servers.net.<br/>com.            172800  IN  NS  i.gtld-servers.net.<br/>com.            172800  IN  NS  j.gtld-servers.net.<br/>com.            172800  IN  NS  k.gtld-servers.net.<br/>com.            172800  IN  NS  l.gtld-servers.net.<br/>com.            172800  IN  NS  m.gtld-servers.net.</span><span id="0113" class="md me iq ly b gy mj mg l mh mi">;; ADDITIONAL SECTION:<br/>a.gtld-servers.net. 172800  IN  A   192.5.6.30<br/>b.gtld-servers.net. 172800  IN  A   192.33.14.30<br/>c.gtld-servers.net. 172800  IN  A   192.26.92.30<br/>d.gtld-servers.net. 172800  IN  A   192.31.80.30<br/>e.gtld-servers.net. 172800  IN  A   192.12.94.30<br/>f.gtld-servers.net. 172800  IN  A   192.35.51.30<br/>g.gtld-servers.net. 172800  IN  A   192.42.93.30<br/>h.gtld-servers.net. 172800  IN  A   192.54.112.30<br/>i.gtld-servers.net. 172800  IN  A   192.43.172.30<br/>j.gtld-servers.net. 172800  IN  A   192.48.79.30<br/>k.gtld-servers.net. 172800  IN  A   192.52.178.30<br/>l.gtld-servers.net. 172800  IN  A   192.41.162.30<br/>m.gtld-servers.net. 172800  IN  A   192.55.83.30<br/>a.gtld-servers.net. 172800  IN  AAAA    2001:503:a83e::2:30<br/>b.gtld-servers.net. 172800  IN  AAAA    2001:503:231d::2:30<br/>c.gtld-servers.net. 172800  IN  AAAA    2001:503:83eb::30<br/>d.gtld-servers.net. 172800  IN  AAAA    2001:500:856e::30<br/>e.gtld-servers.net. 172800  IN  AAAA    2001:502:1ca1::30<br/>f.gtld-servers.net. 172800  IN  AAAA    2001:503:d414::30<br/>g.gtld-servers.net. 172800  IN  AAAA    2001:503:eea3::30<br/>h.gtld-servers.net. 172800  IN  AAAA    2001:502:8cc::30<br/>i.gtld-servers.net. 172800  IN  AAAA    2001:503:39c1::30<br/>j.gtld-servers.net. 172800  IN  AAAA    2001:502:7094::30<br/>k.gtld-servers.net. 172800  IN  AAAA    2001:503:d2d::30<br/>l.gtld-servers.net. 172800  IN  AAAA    2001:500:d937::30<br/>m.gtld-servers.net. 172800  IN  AAAA    2001:501:b1f9::30</span><span id="3b24" class="md me iq ly b gy mj mg l mh mi">;; Query time: 259 msec<br/>;; SERVER: 199.7.91.13#53(199.7.91.13)<br/>;; WHEN: Wed May 06 22:54:16 IST 2020<br/>;; MSG SIZE  rcvd: 828</span></pre><p id="2607" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">9.ç„¶åï¼ŒDNSæœåŠ¡å™¨è¯·æ±‚ä¸Šè¿°æ ¹åŸŸåæœåŠ¡å™¨ä¹‹ä¸€ä½œä¸ºåŸŸ<code class="fe lv lw lx ly b">example.com</code>çš„æƒå¨åŸŸåæœåŠ¡å™¨ã€‚è¿™ç»„åŸŸåæœåŠ¡å™¨æ‰˜ç®¡è¯¥åŸŸçš„åœ°å€ä»¥åŠå®ƒå¯èƒ½æ‹¥æœ‰çš„ä»»ä½•å­åŸŸã€‚</p><pre class="lc ld le lf gt lz ly ma mb aw mc bi"><span id="fbb2" class="md me iq ly b gy mf mg l mh mi">âœ dig <a class="ae kc" href="http://twitter.com/a" rel="noopener ugc nofollow" target="_blank">@a</a>.gtld-servers.net. -t NS example.com</span><span id="f976" class="md me iq ly b gy mj mg l mh mi">; &lt;&lt;&gt;&gt; DiG 9.10.6 &lt;&lt;&gt;&gt; <a class="ae kc" href="http://twitter.com/a" rel="noopener ugc nofollow" target="_blank">@a</a>.gtld-servers.net. -t NS example.com<br/>; (1 server found)<br/>;; global options: +cmd<br/>;; Got answer:<br/>;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 1127<br/>;; flags: qr rd; QUERY: 1, ANSWER: 0, AUTHORITY: 2, ADDITIONAL: 1<br/>;; WARNING: recursion requested but not available</span><span id="1999" class="md me iq ly b gy mj mg l mh mi">;; OPT PSEUDOSECTION:<br/>; EDNS: version: 0, flags:; udp: 4096<br/>;; QUESTION SECTION:<br/>;example.com.           IN  NS</span><span id="cc73" class="md me iq ly b gy mj mg l mh mi">;; AUTHORITY SECTION:<br/>example.com.        172800  IN  NS  a.iana-servers.net.<br/>example.com.        172800  IN  NS  b.iana-servers.net.</span><span id="a409" class="md me iq ly b gy mj mg l mh mi">;; Query time: 66 msec<br/>;; SERVER: 192.5.6.30#53(192.5.6.30)<br/>;; WHEN: Wed May 06 22:55:10 IST 2020<br/>;; MSG SIZE  rcvd: 88</span></pre><p id="c1cf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">10.DNSæœåŠ¡å™¨å‘æƒå¨åç§°æœåŠ¡å™¨è¯·æ±‚è¯¥åŸŸçš„IPåœ°å€ï¼Œå¹¶å°†ç»“æœè¿”å›ç»™å‘å…¶å‘é€DNSæŸ¥è¯¢çš„ç³»ç»Ÿã€‚</p><pre class="lc ld le lf gt lz ly ma mb aw mc bi"><span id="5ebf" class="md me iq ly b gy mf mg l mh mi">âœ dig <a class="ae kc" href="http://twitter.com/a" rel="noopener ugc nofollow" target="_blank">@a</a>.iana-servers.net. -t A example.com</span><span id="5c42" class="md me iq ly b gy mj mg l mh mi">; &lt;&lt;&gt;&gt; DiG 9.10.6 &lt;&lt;&gt;&gt; <a class="ae kc" href="http://twitter.com/a" rel="noopener ugc nofollow" target="_blank">@a</a>.iana-servers.net. -t A example.com<br/>; (1 server found)<br/>;; global options: +cmd<br/>;; Got answer:<br/>;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 5682<br/>;; flags: qr aa rd; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1<br/>;; WARNING: recursion requested but not available</span><span id="f0ce" class="md me iq ly b gy mj mg l mh mi">;; OPT PSEUDOSECTION:<br/>; EDNS: version: 0, flags:; udp: 4096<br/>;; QUESTION SECTION:<br/>;example.com.           IN  A</span><span id="588a" class="md me iq ly b gy mj mg l mh mi">;; ANSWER SECTION:<br/>example.com.        86400   IN  A   93.184.216.34</span><span id="ebc0" class="md me iq ly b gy mj mg l mh mi">;; Query time: 281 msec<br/>;; SERVER: 199.43.135.53#53(199.43.135.53)<br/>;; WHEN: Wed May 06 22:58:40 IST 2020<br/>;; MSG SIZE  rcvd: 56</span></pre><p id="a107" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä½¿ç”¨IPåœ°å€<code class="fe lv lw lx ly b">93.184.216.34</code>ï¼Œç½‘ç»œæµè§ˆå™¨è¿æ¥åˆ°ä¸»æœºã€‚</p><p id="1c5a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æ ¹æ®æ¯ä¸ªæŸ¥è¯¢è¿”å›çš„<code class="fe lv lw lx ly b">TTL</code>,æ¯ä¸ªé˜¶æ®µéƒ½ä¼šåœ¨å‡ ç§’é’Ÿå†…ç»´æŠ¤ä¸€ä¸ªç¼“å­˜ã€‚åœ¨ä¸‹é¢çš„DNSæŸ¥è¯¢ç»“æœä¸­ï¼ŒTTLæ˜¯<code class="fe lv lw lx ly b">86400</code>ç§’</p><pre class="lc ld le lf gt lz ly ma mb aw mc bi"><span id="88b0" class="md me iq ly b gy mf mg l mh mi">example.com.        86400   IN  A   93.184.216.34</span></pre><p id="c42d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å› æ­¤ï¼Œè§£æå™¨å¯ä»¥å°†æŸ¥è¯¢å†…å®¹ç¼“å­˜86400ç§’ã€‚è¿™ç§ç¼“å­˜æœ‰åŠ©äºåŠ å¿«è¿›ç¨‹å¹¶å‡å°‘DNSæœåŠ¡å™¨çš„è´Ÿè½½ã€‚</p></div></div>    
</body>
</html>