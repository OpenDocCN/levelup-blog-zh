<html>
<head>
<title>6 Tips for Using Git Efficiently Like a Pro</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">像专家一样有效使用Git的6个技巧</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/6-tips-for-using-git-efficiently-like-a-pro-dc0ab6b81985?source=collection_archive---------8-----------------------#2022-05-02">https://levelup.gitconnected.com/6-tips-for-using-git-efficiently-like-a-pro-dc0ab6b81985?source=collection_archive---------8-----------------------#2022-05-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="562d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">高效的命令拯救你的生命</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/93cb60c8930a8fca401f8cc09280d481.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1gMVGQp3eljiCsAh"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@pankajpatel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Pankaj Patel </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="97ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为当今最流行的版本管理工具，Git被绝大多数工程师使用。本文将介绍6个简单实用的小技巧供你使用。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ff01" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">1.将更改隐藏在一个脏的工作目录中</h1><p id="9793" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">当你在一个分支机构做了一些工作，但不得不切换到另一个分支机构。此时，您可以使用“git stash”来保存当前未提交的代码。与之相关的常用命令如下:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="c803" class="ne md it na b gy nf ng l nh ni"># Staging uncommitted code<br/>$ git stash</span><span id="d3aa" class="ne md it na b gy nj ng l nh ni"># Staging uncommitted code and adding comments<br/>$ git stash save comments</span><span id="da8e" class="ne md it na b gy nj ng l nh ni"># List all staging records<br/>$ git stash list</span><span id="334e" class="ne md it na b gy nj ng l nh ni"># Delete all staging records<br/>$ git stash clear</span><span id="044b" class="ne md it na b gy nj ng l nh ni"># Apply the last staged code<br/>$ git stash apply</span><span id="08b7" class="ne md it na b gy nj ng l nh ni"># Apply the last staged code and delete the record<br/>$ git stash pop</span><span id="4b46" class="ne md it na b gy nj ng l nh ni"># Delete the last record<br/>$ git stash drop</span></pre><p id="ca7c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<code class="fe nk nl nm na b">git stash apply</code>或<code class="fe nk nl nm na b">git stash pop</code>或<code class="fe nk nl nm na b">git stash drop</code>可以选择指定的记录。就像这样:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="6677" class="ne md it na b gy nf ng l nh ni">$ git stash apply stash@{1}<br/>$ git stash pop stash@{2}<br/>$ git stash drop stash@{3}</span></pre><p id="2733" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些记录可以通过<code class="fe nk nl nm na b">git stash list</code>列出。</p><h1 id="5ef1" class="mc md it bd me mf nn mh mi mj no ml mm jz np ka mo kc nq kd mq kf nr kg ms mt bi translated">2.快速查看最后一次提交</h1><p id="f11c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">案例:当你写了一个提交，但是还没有<code class="fe nk nl nm na b">push</code>到远程。有人打断你，当你再次回来时，你忘记你提交了什么。</p><p id="5174" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后您可以使用下面的命令来显示当前<code class="fe nk nl nm na b">HEAD</code>上最近的提交。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="17e1" class="ne md it na b gy nf ng l nh ni">$ git show</span><span id="a99c" class="ne md it na b gy nj ng l nh ni"># or<br/>$ git log -n1 -p</span></pre><h1 id="b52b" class="mc md it bd me mf nn mh mi mj no ml mm jz np ka mo kc nq kd mq kf nr kg ms mt bi translated">3.快速修改提交消息</h1><p id="73fb" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">修改提交消息中的用户名和电子邮件地址:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="906a" class="ne md it na b gy nf ng l nh ni">$ git commit --amend --author "Username Mail"</span></pre><p id="2ceb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">修改提交消息的内容:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="8e4a" class="ne md it na b gy nf ng l nh ni"># Edit with editor<br/>$ git commit --amend --only</span><span id="db9a" class="ne md it na b gy nj ng l nh ni"># Modify directly<br/>$ git commit --amend --only -m 'feat: update'</span></pre><h1 id="83e8" class="mc md it bd me mf nn mh mi mj no ml mm jz np ka mo kc nq kd mq kf nr kg ms mt bi translated">4.重置上次提交</h1><p id="6226" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在推送之前，您可以使用以下命令重置到上次提交的状态，同时保留临时区域的状态。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="c5e3" class="ne md it na b gy nf ng l nh ni">$ git reset --soft HEAD^</span></pre><p id="85d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，如果您已经将提交推送到远程，您可以使用以下命令重置它:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="b7d8" class="ne md it na b gy nf ng l nh ni">$ git reset --hard HEAD^<br/>$ git push --force [remote] [branch]</span></pre><p id="c929" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但这会搞乱那些已经从那个分支抽身的人的历史，慎用。</p><h1 id="02d2" class="mc md it bd me mf nn mh mi mj no ml mm jz np ka mo kc nq kd mq kf nr kg ms mt bi translated">5.查看所有提交操作记录</h1><p id="83c8" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如果使用类似<code class="fe nk nl nm na b">git reset --hard target</code>的命令，它会将HEAD重置为另一个commit(目标)。</p><p id="d640" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是如果这个目标被错误地指定，其他贡献者的提交也将被重置。</p><p id="3cab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，您可以使用以下命令进行恢复:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="a04c" class="ne md it na b gy nf ng l nh ni"># View all commit operation records and find the CommitHash of the wrong operation<br/>$ git reflog  <br/>​<br/># Reset to the CommitHash of the wrong operation<br/>$ git reset --hard CommitHash</span></pre><h1 id="cce4" class="mc md it bd me mf nn mh mi mj no ml mm jz np ka mo kc nq kd mq kf nr kg ms mt bi translated">6.删除分支</h1><p id="1849" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">删除本地分支:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="4fd2" class="ne md it na b gy nf ng l nh ni">$ git branch -D local-branch</span></pre><p id="0c30" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">删除远程分支:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="4ddb" class="ne md it na b gy nf ng l nh ni">$ git push origin --delete remote-branch</span><span id="acf1" class="ne md it na b gy nj ng l nh ni"># or<br/>$ git push origin :remote-branch</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="7881" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="ns">今天就到这里。我是Zachary，我将继续输出与web开发相关的故事。如果你喜欢这样的故事，想支持我，请考虑成为</em> <a class="ae ky" href="https://medium.com/@islizeqiang/membership" rel="noopener"> <em class="ns">中会员</em> </a> <em class="ns">。每月5美元，你可以无限制地访问媒体内容。如果你通过</em> <a class="ae ky" href="https://medium.com/@islizeqiang/membership" rel="noopener"> <em class="ns">我的链接</em> </a> <em class="ns">报名，我会得到一点佣金。</em></p><p id="24e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你的支持对我来说非常重要——谢谢。</p></div></div>    
</body>
</html>