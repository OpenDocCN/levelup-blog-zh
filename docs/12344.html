<html>
<head>
<title>How to Create a Multi-Layer Gantt Chart Using Plotly</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Plotly创建多层甘特图</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-create-a-multi-layer-gantt-chart-using-plotly-e7d7f158938c?source=collection_archive---------3-----------------------#2022-06-02">https://levelup.gitconnected.com/how-to-create-a-multi-layer-gantt-chart-using-plotly-e7d7f158938c?source=collection_archive---------3-----------------------#2022-06-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9a11" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">创建甘特图，根据计划完成日期和实际完成日期来跟踪项目计划</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2d3cf9c7e6f8d5b799ecca7ad7076799.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pvsDe5KQIYTLJ1o2oI4wSg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">图片由<a class="ae ky" href="https://pixabay.com/photos/sticky-notes-project-management-1455911/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>提供(作者修改)</figcaption></figure><p id="441e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">甘特图对于项目经理和团队计划和跟踪项目路线图、时间表和进度是一种非常流行和有用的视觉效果。基本甘特图通过在纵轴上列出要执行的任务，在横轴上列出每项任务的计划开始和完成日期来说明项目计划。</p><p id="b005" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有时，除了显示任务的计划日程，我们还想显示所有任务的实际开始和完成日期。下面的甘特图是一个多层甘特图，包含两层计划日期和实际日期:“计划日程”条形图(绿色)是甘特图的第一层，“实际日程”条形图(橙色)是第二层。如何使用Python轻松创建这样的多层甘特图？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/56401eb4286768fcc575aa228108cfe7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i9t7UydouWYaAl9p0nxqiA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</figcaption></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="2c46" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我将向你展示如何使用<code class="fe md me mf mg b">Plotly</code>轻松创建多层甘特图。对于那些不熟悉<code class="fe md me mf mg b">Plotly</code>的人来说，<code class="fe md me mf mg b">Plotly</code> Python库是一个交互式的开源图形库，涵盖了广泛的图表类型和数据可视化用例。它有一个名为<code class="fe md me mf mg b">Plotly Express</code>的包装器，是<code class="fe md me mf mg b">Plotly</code>的高级接口，作为创建一些最常见可视化的起点，使用起来超级简单快捷。</p><p id="c3eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe md me mf mg b">Plotly</code>也有一个叫做<code class="fe md me mf mg b">Plotly Graph Objects</code>的底层图形包，它通常需要更多的编码，但是与<code class="fe md me mf mg b">Plotly Express</code>相比更加可定制和灵活。在本帖中，我们将使用<code class="fe md me mf mg b">Plotly Express</code>来绘制多层甘特图。</p><p id="a7ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您的计算机上还没有<code class="fe md me mf mg b">plotly</code>，您可以通过运行以下命令来安装它:</p><pre class="kj kk kl km gt mh mg mi mj aw mk bi"><span id="b378" class="ml mm it mg b gy mn mo l mp mq">pip install plotly</span></pre></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="4433" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们首先导入所有的库，并将我们的样本数据读入Pandas数据框架。请注意，数据的组织方式是，对于每项任务，我们有两行数据，一行是计划的开始和完成日期，另一行是实际的开始和完成日期。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mr ms l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/46208d66015ee1298c8856cb605ab6b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1186/format:webp/1*F-6Ria7o_zfMdUKNUtgOhQ.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</figcaption></figure><p id="ec66" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了创建甘特图，我们需要使用<code class="fe md me mf mg b">px.timeline()</code>来绘制时间线图，其中数据帧的每一行都表示为沿x轴的矩形/水平条，从“开始”日期跨越到“完成”日期，每个任务都沿y轴列出。</p><p id="f539" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还指定了参数<code class="fe md me mf mg b">color</code>来为“计划”和“实际”进度栏分配不同的颜色。您可以为第2行和第3行中的两个条形设置您的颜色首选项。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="b040" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，这是使甘特图看起来双层的诀窍:我们需要更新“实际日程”条形图的宽度，以便它们不会与“计划日程”条形图完全重叠。我们在第16行做。如果不应用这个技巧，你的图看起来会像左上方的图:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/ed7b9f4543bdc6b765aaf2a3f1b75f47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VrV95UgjktJCIYs8hjSMog.png"/></div></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="78ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们快完成了！让我们通过添加图表标题、将x轴标签移动到顶部、调整图例的位置、删除图例标题等来微调图表。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mr ms l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/684057ed616be683839476f8cec34d35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yx8D7EncBhvvUm5YPj-M-w.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</figcaption></figure><p id="50a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就对了。我们已经创建了一个多层甘特图，使用<code class="fe md me mf mg b">Plotly.Express</code>按计划和实际进度显示项目计划。感谢阅读，我希望你喜欢这个关于<code class="fe md me mf mg b">Plotly</code>的简短教程。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h2 id="b5c7" class="ml mm it bd mw mx my dn mz na nb dp nc li nd ne nf lm ng nh ni lq nj nk nl nm bi translated">数据源:</h2><p id="02be" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">本文中使用的样本数据集是作者出于演示目的创建的。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="a0e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以通过这个<a class="ae ky" href="https://medium.com/@insightsbees/membership" rel="noopener">推荐链接</a>注册成为Medium会员(每月5美元)来获得我的作品和Medium的其他内容。通过这个链接注册，我将收到你的会员费的一部分，不需要你额外付费。谢谢大家！</p></div></div>    
</body>
</html>