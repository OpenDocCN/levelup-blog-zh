<html>
<head>
<title>Shorter import paths in Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">角度更短的导入路径</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/shorter-import-paths-in-angular-8141734090e4?source=collection_archive---------0-----------------------#2021-04-10">https://levelup.gitconnected.com/shorter-import-paths-in-angular-8141734090e4?source=collection_archive---------0-----------------------#2021-04-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/cada07593e76c3e1a7d65c03387349db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sw4IeaqAWhbcYPU49fFk0A.png"/></div></div></figure><p id="fff9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">角度应用程序中的导入可能会变得混乱，尤其是在嵌套结构非常多的应用程序中。虽然嵌套的项目目录结构有许多好处，使它比平面结构好得多，但在这种情况下，相对和/或绝对导入路径可能会非常长。例如，考虑下面的项目目录。</p><h1 id="a58f" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">问题是</h1><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div class="gh gi lu"><img src="../Images/98eeb71454f3d775ca7528651bbaf0e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:570/format:webp/1*u0dByPS1EeVfhWuS7FJ32Q.png"/></div></figure><p id="7ad4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">很棒，你说呢？现在考虑您希望将从它们<code class="fe lz ma mb mc b">shared.service.ts</code>中导出的<code class="fe lz ma mb mc b">SharedService</code>导入并注入到<code class="fe lz ma mb mc b">admin-dashboard.component.ts</code>中的<code class="fe lz ma mb mc b">AdminDashboardComponent</code>中。import语句看起来会像这样:</p><pre class="lv lw lx ly gt md mc me mf aw mg bi"><span id="4389" class="mh kx iq mc b gy mi mj l mk ml">import { SharedService } from ‘../../../shared/services/shared.service’;</span></pre><p id="b31a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在一个更大更复杂的应用程序中，这个时间可能会更长。当然，我们健壮的文本编辑器，在我的例子中是VSCode，主要负责导入，但是即使这样，当包含如此长的相对路径时，代码的可读性也会大大降低。</p><p id="65ef" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这就带来了一个问题——有没有一种方法可以让导入路径更优雅，是的，更短？(提示鼓声…)是的。有——甚至不是黑客，而是原生提供的。让我们找出方法。</p><h1 id="311f" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">解决方案</h1><p id="b089" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated"><code class="fe lz ma mb mc b">tsconfig.json</code>是一个存在于项目目录根目录中的文件，对每个Angular项目都至关重要。从名称和内容可以看出，如果您已经检查过，这个文件定义了应用程序所需的许多配置。我们将在这里进行设置，以实现更短的导入路径。</p><p id="6d91" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们需要做的是将名为<code class="fe lz ma mb mc b"><a class="ae mr" href="https://www.typescriptlang.org/tsconfig#paths" rel="noopener ugc nofollow" target="_blank">paths</a></code>的键添加到<code class="fe lz ma mb mc b">compilerOptions</code>数组中。这里，Typescript允许我们定义在整个项目中使用的路径别名。在幕后，当项目被编译时，无论在<code class="fe lz ma mb mc b">paths</code>数组中定义的路径别名出现在代码中的什么地方，编译器都会将其替换为实际的路径。<code class="fe lz ma mb mc b">paths</code>的值将是一个包含实际路径和别名的键值对的对象。让我们用一个例子来看看这些步骤。</p><p id="651a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">考虑我们上面讨论的那个问题。这里有一种方法(是的，这是一种方法，不是方法)来做这件事</p><ol class=""><li id="081a" class="ms mt iq ka b kb kc kf kg kj mu kn mv kr mw kv mx my mz na bi translated">在<code class="fe lz ma mb mc b">shared</code>文件夹的根目录下，添加一个名为<code class="fe lz ma mb mc b">index.ts</code>的新文件(随便取什么名字，只要是TS文件)。</li><li id="38b7" class="ms mt iq ka b kb nb kf nc kj nd kn ne kr nf kv mx my mz na bi translated">在<code class="fe lz ma mb mc b">index.ts</code>中，添加下面一行<br/> <code class="fe lz ma mb mc b">export { SharedService } from ‘./services/shared.service’;</code></li><li id="d6eb" class="ms mt iq ka b kb nb kf nc kj nd kn ne kr nf kv mx my mz na bi translated">现在，打开<code class="fe lz ma mb mc b">tsconfig.json</code>，在<code class="fe lz ma mb mc b">compilerOptions</code>中，添加下面一行<br/> <code class="fe lz ma mb mc b">“paths”: { “@blog/shared”: [“src/app/shared”] }</code></li><li id="5170" class="ms mt iq ka b kb nb kf nc kj nd kn ne kr nf kv mx my mz na bi translated">完成后，转到<code class="fe lz ma mb mc b">admin-dashboard.component.ts</code>，导入可以更新如下<br/> <code class="fe lz ma mb mc b">import { SharedService } from ‘@blog/shared’;</code></li></ol><p id="ce4b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">就是这样！那不是看起来好多了吗？显然，您可以命名路径别名(路径对象中的键)可以是任何东西(甚至是中的<code class="fe lz ma mb mc b">@</code>，这是个人的选择而不是语法)，只要这些值指定了相对于项目根目录的正确的绝对路径。</p><p id="c899" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因为我们在这里利用了Typescript特性，所以这可以用于遵循模块化结构的任何Typescript项目，包括但不限于NestJS项目。</p><p id="c3ce" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我希望这个故事对你有所帮助。</p></div><div class="ab cl ng nh hu ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ij ik il im in"><blockquote class="nn"><p id="5ad1" class="no np iq bd nq nr ns nt nu nv nw kv dk translated">有兴趣和我就这个故事或Angular、Typescript和Javascript进行一对一的交谈吗？前往<a class="ae mr" href="https://www.hiretheauthor.com/ashwinSathian" rel="noopener ugc nofollow" target="_blank">聘请作者</a>让我们连线！</p></blockquote></div></div>    
</body>
</html>