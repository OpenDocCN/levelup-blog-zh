<html>
<head>
<title>4 Custom Hooks to Boost Your React App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">4个定制挂钩来提升您的React应用程序</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/4-custom-hooks-to-boost-your-react-app-d54aefe34061?source=collection_archive---------1-----------------------#2019-11-18">https://levelup.gitconnected.com/4-custom-hooks-to-boost-your-react-app-d54aefe34061?source=collection_archive---------1-----------------------#2019-11-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="19b3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用定制的react钩子使你的代码更整洁，更可重用。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1f84d0693cef1476298a97627bcdc7ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SBdCJ_FASR83s0fZ"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@tata186?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">塔蒂亚娜·罗德里格兹</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><p id="a3c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在第一个稳定版本发布9个月后，React挂钩改变了前端开发人员编写React组件的方式。这是库发展过程中的正常步骤，新特性的引入决定了哪些库和框架在前端开发的持续竞争中胜出。React已经是一个备受推崇的前端库，但是随着React Hooks的引入，它向前迈进了一大步。</p><h1 id="b7f3" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">为什么要反应钩子？</h1><p id="b52c" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">它们帮助开发人员控制我们的功能组件的副作用，而不需要使用类方法和生命周期方法，如<code class="fe ms mt mu mv b">componentDidMount</code>、<code class="fe ms mt mu mv b">componentDidUpdate</code>等。此外，它们允许开发人员跨组件共享逻辑，减少代码重复和人为错误。</p><p id="317b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">React具有内置的钩子，可以提供围绕组件控制过程的功能，但最令人惊叹的功能是将它们组合起来创建自定义钩子的能力，以及钩子与浏览器的API进行交互的能力。</p><p id="b6ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有许多库提供了定制的钩子，其中一些可以更好地处理我们在这里创建的功能。然而，看到您每天都在使用的函数背后发生的事情总是好的！让我们来编写我们的定制钩子吧！</p><h1 id="77f2" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">使用预取</h1><p id="71a5" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated"><code class="fe ms mt mu mv b">usePrefetch</code> <em class="mw"> </em>钩子可以通过在第一个视图上懒加载其他不需要渲染的次要组件，帮助你提高app主页面的加载时间。目标是减少包的大小，使您的应用程序响应更快。</p><p id="79d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于我们的示例，假设我们有一个包含一些信息的页面和一个打开模态的按钮。在我们按下按钮之前，模态不应该呈现，我们还不需要它。但是如果我们在主组件的开头导入它，我们将需要更多的时间来下载它的JavaScript代码，因为它将包含在原始的包中。我们想做的是延迟加载模态组件，将它的代码从主组件中分离出来，并在主组件第一次呈现时预取它。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mx"><img src="../Images/5209f1a47dc79eb2251cd4f2e86cb724.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X3yhCiSjWvR7I93Q4gop5Q.png"/></div></div></figure><p id="2ecf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">问:为什么我们要定义一个</strong> <code class="fe ms mt mu mv b"><strong class="lb iu">importModal</strong></code> <strong class="lb iu">函数？因为如果我们以内联方式编写导入，它将在每次调用新函数时发生，并且它将在每次渲染时运行钩子内的<code class="fe ms mt mu mv b">useEffect</code>。</strong></p><h1 id="10da" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">使用地理</h1><p id="b886" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">每当用户移动时，这个钩子获取当前位置和更新的值:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/67667b140a8a1fdd4a3a2e9f52a65433.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AaT0tZbMaGWo3iBq2EdNmw.png"/></div></div></figure><p id="ba5e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> Q.A .为什么我们要定义一个</strong> <code class="fe ms mt mu mv b"><strong class="lb iu">isLoad</strong></code> <strong class="lb iu"> <em class="mw"> </em>变量？</strong>由于获取位置是一个异步操作，你的组件有可能被重新渲染。因此，我们在它有效地检索位置之前运行清理函数。有了这个解决方法，如果组件被卸载得太快，我们可以防止运行<code class="fe ms mt mu mv b">onSuccess</code>或<code class="fe ms mt mu mv b">onFailure</code> <em class="mw"> </em>处理程序。</p><h1 id="bca6" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">使用间隔</h1><p id="a0c0" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated"><code class="fe ms mt mu mv b">useInterval</code>效果可能是最著名的自定义React钩子，但这里我将展示由<a class="mz na ep" href="https://medium.com/u/a3a8af6addc1?source=post_page-----d54aefe34061--------------------------------" rel="noopener" target="_blank"> Dan Abramov </a>实现的效果，因为我们将在下一个钩子中使用它:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nb"><img src="../Images/aed098709a2c41840cc5a587c0f2a4c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jVP4qYC95Us59_gV09l_Ig.png"/></div></div></figure><h1 id="be2d" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">使用计时器</h1><p id="3897" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">有时，开发人员需要实现一种有效的方式来获得倒计时定时器，所以让我们从一个时间戳开始创建一个倒计时定时器，该时间戳代表我们希望倒计时的时间量，以毫秒为单位:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nc"><img src="../Images/62363b147b84127aa732bba9efaa59cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y31veR8pnV6Uxw_BgjohbA.png"/></div></div></figure></div><div class="ab cl nd ne hx nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="im in io ip iq"><p id="8805" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">关于这个话题的评论、分享和讨论总是很受欢迎，我很乐意回答你的任何问题！</p><blockquote class="nk nl nm"><p id="7149" class="kz la mw lb b lc ld ju le lf lg jx lh nn lj lk ll no ln lo lp np lr ls lt lu im bi translated"><strong class="lb iu">随时联系我</strong><a class="ae ky" href="https://www.linkedin.com/in/marcoantonioghiani/" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu">Linkedin</strong></a></p></blockquote><div class="nq nr gp gr ns nt"><a rel="noopener  ugc nofollow" target="_blank" href="/refactoring-a-complex-react-component-5-best-practices-to-write-efficient-and-readable-components-b0d06f4f22b4"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd iu gy z fp ny fr fs nz fu fw is bi translated">重构复杂的React组件——编写高效可读组件的5个最佳实践</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">使用最佳实践编写高效可读的React组件的5条规则</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="oc l"><div class="od l oe of og oc oh ks nt"/></div></div></a></div><div class="nq nr gp gr ns nt"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-use-component-composition-to-create-a-flexible-compound-component-in-react-4024660b9613"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd iu gy z fp ny fr fs nz fu fw is bi translated">如何在React中使用组件组合创建灵活的复合组件</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">按照组合模式创建坚固而灵活的react组件。</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="oc l"><div class="oi l oe of og oc oh ks nt"/></div></div></a></div><div class="nq nr gp gr ns nt"><a href="https://medium.com/swlh/how-i-became-a-fast-learner-changing-my-habits-5e8f125ce42f" rel="noopener follow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd iu gy z fp ny fr fs nz fu fw is bi translated">我是如何通过改变习惯快速学习的。</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">9个有效的习惯可以让你学得更快，提高工作效率。</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">medium.com</p></div></div><div class="oc l"><div class="oj l oe of og oc oh ks nt"/></div></div></a></div></div></div>    
</body>
</html>