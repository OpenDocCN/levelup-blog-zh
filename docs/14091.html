<html>
<head>
<title>Full Guide: Add Eslint to React TypeScript Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">完整指南:将Eslint添加到React TypeScript项目</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/full-guide-add-eslint-to-react-typescript-project-406618192b9?source=collection_archive---------7-----------------------#2022-11-01">https://levelup.gitconnected.com/full-guide-add-eslint-to-react-typescript-project-406618192b9?source=collection_archive---------7-----------------------#2022-11-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/1926a67f38964445a09bddabf5752940.png" data-original-src="https://miro.medium.com/v2/resize:fit:1330/format:webp/1*JIdJTTwlDjwv7OuIdl1ZHQ.png"/></div></div></figure><p id="3f79" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这将是帮助您从零开始使用React应用程序的完整指南，包括以下内容:</p><ul class=""><li id="2d50" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lb lc ld le bi translated">Webpack 5(捆绑您的应用)</li><li id="5dc6" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">巴别塔(穿越JSX)</li><li id="6440" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">以打字打的文件</li><li id="8fc9" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">Eslint(像专业人员一样格式化代码)</li><li id="9309" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">Husky(提交前的Lint)</li><li id="de07" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">测试库</li><li id="32d1" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">微前端(Webpack 5模块联盟)</li></ul></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><p id="e4b8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">以前的课程</p><ol class=""><li id="489e" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lr lc ld le bi translated"><a class="ae ls" href="https://medium.com/@steveleung9527/full-guide-start-react-app-from-scratch-2e1579ac6868" rel="noopener">从头开始React App</a></li></ol><div class="lt lu gp gr lv lw"><a href="https://medium.com/@steveleung9527/full-guide-start-react-app-from-scratch-2e1579ac6868" rel="noopener follow" target="_blank"><div class="lx ab fo"><div class="ly ab lz cl cj ma"><h2 class="bd ir gy z fp mb fr fs mc fu fw ip bi translated">完整指南:从头开始使用React应用程序</h2><div class="md l"><h3 class="bd b gy z fp mb fr fs mc fu fw dk translated">这将是帮助您从零开始使用React应用程序的完整指南，包括以下内容:</h3></div><div class="me l"><p class="bd b dl z fp mb fr fs mc fu fw dk translated">medium.com</p></div></div><div class="mf l"><div class="mg l mh mi mj mf mk jw lw"/></div></div></a></div></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><p id="66b8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，我们将在react项目中实现eslint。</p><h1 id="a92a" class="ml mm iq bd mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni bi translated">为什么？</h1><p id="6f84" class="pw-post-body-paragraph jy jz iq ka b kb nj kd ke kf nk kh ki kj nl kl km kn nm kp kq kr nn kt ku kv ij bi translated">为什么要用eslint？</p><p id="4aa1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Eslint执行您的编码标准和指导方针，以帮助您和您的团队最大限度地减少次要错误，保持相同的编码风格，并更好地实践您的代码。</p></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><p id="06c4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">VS代码</p><p id="52cf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">强烈建议安装ESlint和beauty插件</p><figure class="np nq nr ns gt jr gh gi paragraph-image"><div class="gh gi no"><img src="../Images/d6beaffb700e44d228c8f964b8bd2f30.png" data-original-src="https://miro.medium.com/v2/resize:fit:918/format:webp/1*3O3pcIfSmZERof9qjr3UFQ.png"/></div><figcaption class="nt nu gj gh gi nv nw bd b be z dk translated">埃斯林特</figcaption></figure><figure class="np nq nr ns gt jr gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/ce65378a7effa4cca45546e06b292b4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:980/format:webp/1*PuhvWzKwaPeGAQ0ym6eVng.png"/></div><figcaption class="nt nu gj gh gi nv nw bd b be z dk translated">较美丽</figcaption></figure></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><ol class=""><li id="52b2" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lr lc ld le bi translated">初始化eslint</li></ol><pre class="np nq nr ns gt ny nz oa ob aw oc bi"><span id="9196" class="od mm iq nz b gy oe of l og oh">npx eslint --init</span></pre><p id="0dd5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后它会弹出选项供你选择</p><figure class="np nq nr ns gt jr gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/7cd9a8ad0e4f3a3d5ca7c2dc5f757538.png" data-original-src="https://miro.medium.com/v2/resize:fit:1378/format:webp/1*GrNuBp0vpzmVFRGC3O_N0g.png"/></div></figure><p id="2667" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是我的偏好</p><pre class="np nq nr ns gt ny nz oa ob aw oc bi"><span id="7eb6" class="od mm iq nz b gy oe of l og oh"># To check syntax, find problems, and enforce code style</span><span id="4f5d" class="od mm iq nz b gy oj of l og oh"># JavaScript modules (import/export)</span><span id="aecb" class="od mm iq nz b gy oj of l og oh"># React</span><span id="441d" class="od mm iq nz b gy oj of l og oh"># Yes</span><span id="9fb1" class="od mm iq nz b gy oj of l og oh"># Browser</span><span id="1bd9" class="od mm iq nz b gy oj of l og oh"># Use a popular style guide</span><span id="4d53" class="od mm iq nz b gy oj of l og oh"># Standard</span><span id="a300" class="od mm iq nz b gy oj of l og oh"># JSON</span><span id="0fc0" class="od mm iq nz b gy oj of l og oh"># Yes</span><span id="8420" class="od mm iq nz b gy oj of l og oh"># npm</span></pre><p id="f5d5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在那之后,<code class="fe ok ol om nz b">.eslintrc.json</code>在根目录下自动创建</p><figure class="np nq nr ns gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi on"><img src="../Images/10b965644c32115c3b44bf3f373f2a59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mvlnZgKsnJ5APIrlUFVGAw.png"/></div></div></figure><p id="c921" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">2.更新<code class="fe ok ol om nz b">.eslintrc.json</code></p><p id="8218" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">请在<code class="fe ok ol om nz b">parserOptions</code>下添加<code class="fe ok ol om nz b">“project”: [“./tsconfig.json”]</code></p><pre class="np nq nr ns gt ny nz oa ob aw oc bi"><span id="57d5" class="od mm iq nz b gy oe of l og oh">// .eslintrc.json</span><span id="84f1" class="od mm iq nz b gy oj of l og oh">"parserOptions": {</span><span id="454a" class="od mm iq nz b gy oj of l og oh">  "ecmaVersion": "latest",</span><span id="5c87" class="od mm iq nz b gy oj of l og oh">  "sourceType": "module",</span><span id="7ac9" class="od mm iq nz b gy oj of l og oh">  "project": ["./tsconfig.json"]</span><span id="a7b1" class="od mm iq nz b gy oj of l og oh">},</span></pre><p id="455b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是typescript项目所必需的。</p><p id="e78b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">eslint现在应该可以工作了，如果不能，请重启vscode</p><figure class="np nq nr ns gt jr gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/37e954e8637a84373f770ed3e6e9b594.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/format:webp/1*GqfIq4yv-4j2VuI2u9b-EQ.png"/></div><figcaption class="nt nu gj gh gi nv nw bd b be z dk translated">Eslint强制您的代码风格</figcaption></figure><p id="a401" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">3.更新<code class="fe ok ol om nz b">package.json</code></p><pre class="np nq nr ns gt ny nz oa ob aw oc bi"><span id="dee7" class="od mm iq nz b gy oe of l og oh">"scripts": {<br/>...</span><span id="7a01" class="od mm iq nz b gy oj of l og oh">  "lint": "eslint --fix --ext .ts,.tsx ./src",</span><span id="f14f" class="od mm iq nz b gy oj of l og oh">...</span><span id="5ce4" class="od mm iq nz b gy oj of l og oh">},</span></pre><p id="d5b3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">添加脚本<code class="fe ok ol om nz b">lint</code>并运行</p><p id="56fc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">告诉eslint根据您的配置帮助修复一些错误和警告</p><p id="4c81" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe ok ol om nz b">— ext</code>告诉eslint到扩展名为<code class="fe ok ol om nz b">.ts </code>和<code class="fe ok ol om nz b">.tsx</code>的lint文件</p><pre class="np nq nr ns gt ny nz oa ob aw oc bi"><span id="1ca2" class="od mm iq nz b gy oe of l og oh">npm run lint</span></pre><p id="fd67" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">仍然看到错误？？？</p><figure class="np nq nr ns gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi op"><img src="../Images/d6cb5ff7ea36c1e18404ea3a71aef415.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xeYBkfAWcdDR_fFq04z43g.png"/></div></div></figure><p id="a4aa" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">运行该命令后，还有两个错误无法修复。</p><ol class=""><li id="7ef8" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lr lc ld le bi translated">函数缺少返回类型</li></ol><p id="b534" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于这个eslint错误有两个解决方案，第一个是，根据提示添加返回类型</p><pre class="np nq nr ns gt ny nz oa ob aw oc bi"><span id="c7e7" class="od mm iq nz b gy oe of l og oh">import { ReactNode } from 'react'<br/>const App = (): ReactNode =&gt; {<br/>  return &lt;div&gt;Hello World!&lt;/div&gt;<br/>}</span></pre><p id="4ff9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您觉得这很烦人，那么您可以通过如下方式更新eslint config来关闭这条规则</p><pre class="np nq nr ns gt ny nz oa ob aw oc bi"><span id="60bc" class="od mm iq nz b gy oe of l og oh">// .eslintrc.json<br/>{<br/>  "rules": {<br/>    "@typescript-eslint/explicit-function-return-type": "off"<br/>  }<br/>}</span></pre><p id="e0b8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">2.使用JSX时,“React”必须在范围内</p><p id="e2be" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为此，请随意关闭eslint规则，因为我们使用<code class="fe ok ol om nz b">babel </code>来帮助我们注入<code class="fe ok ol om nz b">react runtime</code>，因此我们可以跳过这个语句<code class="fe ok ol om nz b">import React from ‘react’</code></p><p id="fc0a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在您的<code class="fe ok ol om nz b">.eslintrc.json</code>可能看起来像这样，并且没有发生eslint错误</p><figure class="np nq nr ns gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oq"><img src="../Images/cac94d56854dfc3a70134ca5247906de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yHQsGIGYvKdYJ0R44-edzQ.png"/></div></div></figure><pre class="np nq nr ns gt ny nz oa ob aw oc bi"><span id="f8b5" class="od mm iq nz b gy oe of l og oh">npm run lint</span></pre><figure class="np nq nr ns gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi or"><img src="../Images/2a8b7d0842e17bc879970c0098eeab6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e-5gSe_yyf-BrAj7pVO9iw.png"/></div></div><figcaption class="nt nu gj gh gi nv nw bd b be z dk translated">现在没有ESlint错误</figcaption></figure><p id="0291" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">4.探索更多</p><p id="d2e8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在你应该研究一下<a class="ae ls" href="https://eslint.org/" rel="noopener ugc nofollow" target="_blank"> Eslint </a>和<a class="ae ls" href="https://typescript-eslint.io/docs/" rel="noopener ugc nofollow" target="_blank"> TypeScript Eslint </a>文档来定制你喜欢的编码风格</p><p id="e71b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">带React的Eslint的推荐规则/插件:</p><p id="a107" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae ls" href="https://www.npmjs.com/package/eslint-config-react-app" rel="noopener ugc nofollow" target="_blank">eslint-config-react-app</a>—由create-react-app团队创建</p><p id="6a72" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae ls" href="https://www.npmjs.com/package/eslint-plugin-react-hooks" rel="noopener ugc nofollow" target="_blank">eslint-plugin-react-hooks</a>—react hooks依赖推荐器</p><p id="9614" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">用更漂亮的格式化程序实现，让你的代码更漂亮</p></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><h1 id="aa10" class="ml mm iq bd mn mo os mq mr ms ot mu mv mw ou my mz na ov nc nd ne ow ng nh ni bi translated">额外的</h1><p id="f63e" class="pw-post-body-paragraph jy jz iq ka b kb nj kd ke kf nk kh ki kj nl kl km kn nm kp kq kr nn kt ku kv ij bi translated">对于那些想要快速设置的初学者，你可以在这里跟随我的eslint实践和偏好:</p><figure class="np nq nr ns gt jr"><div class="bz fp l di"><div class="ox oy l"/></div></figure><figure class="np nq nr ns gt jr"><div class="bz fp l di"><div class="ox oy l"/></div></figure></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><p id="d957" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下次执行<code class="fe ok ol om nz b">husky</code>和<code class="fe ok ol om nz b">lint-stage</code> ~</p><p id="ae6d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">git提交前格式化代码！</strong></p><p id="3de4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">请为我鼓掌，如果你发现这篇文章有用，请跟我来。</p></div></div>    
</body>
</html>