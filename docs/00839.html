<html>
<head>
<title>Redux Store Setup for Your React Application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React应用程序的Redux存储设置</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/advanced-redux-store-setup-for-your-react-application-4b07e13f619e?source=collection_archive---------4-----------------------#2019-08-19">https://levelup.gitconnected.com/advanced-redux-store-setup-for-your-react-application-4b07e13f619e?source=collection_archive---------4-----------------------#2019-08-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6faa" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">向React应用程序添加Redux存储的快速而简洁的配置。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8ceaf7a513b53154c1a2b988732a9aba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1y-FEv3ktYo8bKqn"/></div></div></figure><p id="533c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在开发一个<em class="lq"> React应用</em>时，我们经常需要在项目中引入一个状态管理器来帮助我们管理所有的状态，并在应用中轻松共享数据。</p><p id="d33f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">通常，一个好的候选人是<strong class="kw iu"> Redux </strong>。<strong class="kw iu">这是一个强大而灵活的选项，可以管理您的全局状态并集中您的大部分数据逻辑。</strong></p><blockquote class="lr"><p id="c61f" class="ls lt it bd lu lv lw lx ly lz ma lp dk translated">Redux是JavaScript应用程序的可预测状态容器。</p></blockquote><p id="dfbd" class="pw-post-body-paragraph ku kv it kw b kx mb ju kz la mc jx lc ld md lf lg lh me lj lk ll mf ln lo lp im bi translated">但是在你的React app上添加Redux的时候，你确定你做的对吗？在这里，我们将看到如何按照良好的文件结构和配置设置将其集成到我们的应用程序中。<strong class="kw iu"> <em class="lq">我们开始吧！</em> </strong></p><h1 id="690e" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">1.商店的骨架。</h1><p id="8178" class="pw-post-body-paragraph ku kv it kw b kx my ju kz la mz jx lc ld na lf lg lh nb lj lk ll nc ln lo lp im bi translated">在开始查看代码之前，让我们一起定义我们希望如何组织文件并将其集成到React代码库中。</p><p id="c7ae" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">总体思路是创建一个<strong class="kw iu">“store”</strong>目录，其中包含我们所有的逻辑和商店配置，这样我们就可以简单地导入我们的商店设置，并将其传递给我们应用程序中的一个<code class="fe nd ne nf ng b">Provider</code> <em class="lq"> </em>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/febba4717b6bbd78e22af910bef7d2df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rRiQ4Uxg1jTxmxv9ZdfmVQ.png"/></div></div></figure><ol class=""><li id="8f0d" class="ni nj it kw b kx ky la lb ld nk lh nl ll nm lp nn no np nq bi translated">创建<strong class="kw iu"> <em class="lq">存储</em> </strong>文件夹到<strong class="kw iu"> <em class="lq"> MyApp/src </em> </strong>中。</li><li id="01b4" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp nn no np nq bi translated">创建一个<strong class="kw iu"> <em class="lq"> index.js </em> </strong>文件来导出我们的商店创建者。另外，添加两个文件夹:<strong class="kw iu">中间件</strong>和<strong class="kw iu">减速器</strong> <em class="lq">。</em></li><li id="0189" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp nn no np nq bi translated">在<em class="lq">中间件</em>文件夹中，为每个<a class="ae nw" href="https://redux.js.org/advanced/middleware" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu"> <em class="lq"> Redux中间件</em> </strong> </a>(如api、logger)创建一个文件。</li><li id="a078" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp nn no np nq bi translated">在<em class="lq">减速器</em>文件夹中，创建一个<em class="lq"> index.js </em>文件，将所有减速器组合在一起。另外，为每个缩减器添加一个文件夹。</li><li id="6d5f" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp nn no np nq bi translated">对于每个reducer文件夹，创建四个文件:</li></ol><ul class=""><li id="a018" class="ni nj it kw b kx ky la lb ld nk lh nl ll nm lp nx no np nq bi translated"><strong class="kw iu"><em class="lq">【actions . js:</em></strong>包含与该缩减器相关的动作的动作创建者。</li><li id="3704" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp nx no np nq bi translated"><strong class="kw iu"> <em class="lq"> reducer.js: </em> </strong>包含减速器功能。</li><li id="94c4" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp nx no np nq bi translated"><strong class="kw iu"> <em class="lq">选择器. js: </em> </strong>包含状态选择器。</li><li id="dd73" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp nx no np nq bi translated"><strong class="kw iu"> <em class="lq"> types.js: </em> </strong>包含动作的类型定义。</li></ul><h1 id="3d67" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">2.添加第一个减速器。</h1><p id="0051" class="pw-post-body-paragraph ku kv it kw b kx my ju kz la mz jx lc ld na lf lg lh nb lj lk ll nc ln lo lp im bi translated">由于每个应用程序都是不同的，您可能需要不同的状态，为了简单起见，我将编写众所周知的<a class="ae nw" href="https://github.com/reduxjs/redux/tree/master/examples/counter/src" rel="noopener ugc nofollow" target="_blank"> <em class="lq">反例</em> </a> <em class="lq">。</em></p><blockquote class="ny nz oa"><p id="48dc" class="ku kv lq kw b kx ky ju kz la lb jx lc ob le lf lg oc li lj lk od lm ln lo lp im bi translated">免责声明:对于这个例子，建议的样板文件是过度结构化的，但是随着应用程序的增长，保持这种逻辑的条理性是很重要的。</p></blockquote><div class="kj kk kl km gt ab cb"><figure class="oe kn of og oh oi oj paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/b42758651edad9d87551ac0283bfdfa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/1*d3g9uf2MSQhuKSzbRa9ptw.png"/></div></figure><figure class="oe kn ok og oh oi oj paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/7066d98364ab34cdfb1d1793b9a67ccc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1034/format:webp/1*Cj659OFGD0MnLfjJbxOEIQ.png"/></div></figure></div><div class="ab cb"><figure class="oe kn ol og oh oi oj paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/d3dcc153f5ec2dfdff0d929e535b96e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:886/format:webp/1*wl_qXxo48ZiS9p9Ec-8GWg.png"/></div></figure><figure class="oe kn om og oh oi oj paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/de4eae1df23fd97a1541dafd2f382cae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1116/format:webp/1*q55FO7_Zjp7JuWyrCXnOFQ.png"/></div></figure></div><h1 id="5087" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">3.结合你的减速器。</h1><p id="ee36" class="pw-post-body-paragraph ku kv it kw b kx my ju kz la mz jx lc ld na lf lg lh nb lj lk ll nc ln lo lp im bi translated">如果您的应用程序非常简单，并且您只使用一个reducer函数，您可能不需要将它们组合起来，但是如果您定义了多个reducer函数，最好使用Redux包提供的<code class="fe nd ne nf ng b"><strong class="kw iu">combineReducers</strong></code> <strong class="kw iu"> <em class="lq"> </em> </strong>函数将它们组合在一起:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/cf3967be499defd16604bcdaf9f7331c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nXelFGJwsICm37DFf_ZlTw.png"/></div></div><figcaption class="oo op gj gh gi oq or bd b be z dk translated">index.js文件放到reducers文件夹中</figcaption></figure><p id="1fb7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">正如你所注意到的，如果我们需要<em class="lq">减速器</em>文件夹，我们的减速器组合将被导入。</p><h1 id="49c0" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">4.中间件还是非中间件？</h1><p id="7536" class="pw-post-body-paragraph ku kv it kw b kx my ju kz la mz jx lc ld na lf lg lh nb lj lk ll nc ln lo lp im bi translated">本练习的重点不是中间件的实现，所以我假设你知道它们是如何工作的，以及它们在商店中的角色是什么，但是我保证我也会创建一个关于它们实现的指南🚀</p><h1 id="8f44" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">5.最后是店铺配置。</h1><p id="2c99" class="pw-post-body-paragraph ku kv it kw b kx my ju kz la mz jx lc ld na lf lg lh nb lj lk ll nc ln lo lp im bi translated">现在我们已经准备好了redux和中间件，是时候创建我们的redux store creator了——这个函数允许我们用一些可选参数创建一个新的store:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/67a9b318af98976a636b3758e1c2f42f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yBGP5ngWWoADrDdEbdkxvA.png"/></div></div><figcaption class="oo op gj gh gi oq or bd b be z dk translated">index.js文件复制到存储文件夹中</figcaption></figure><p id="c88e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">概括一下这个文件中发生的事情:</p><ul class=""><li id="336f" class="ni nj it kw b kx ky la lb ld nk lh nl ll nm lp nx no np nq bi translated">我们创建了一个<em class="lq">必备</em>中间件的列表。</li><li id="ada9" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp nx no np nq bi translated">如果在开发模式下，我们应用一个额外的配置，比如日志中间件。</li><li id="1871" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp nx no np nq bi translated">我们定义(并导出！)一个<code class="fe nd ne nf ng b"><strong class="kw iu">configureStore</strong></code> <strong class="kw iu"> <em class="lq"> </em> </strong>函数，它创建一个新的存储，并基于作为参数接收的选项，设置一个初始状态，并可选地缓存该状态。</li></ul><h1 id="476d" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">摘要</h1><p id="09a0" class="pw-post-body-paragraph ku kv it kw b kx my ju kz la mz jx lc ld na lf lg lh nb lj lk ll nc ln lo lp im bi translated">好吧，亲爱的读者，现在你可以从你的商店文件夹中导入一个能够轻松创建你的商店的功能，如果你需要用新的逻辑扩展你的状态，你就有了一个易于遵循和工作的按功能划分的模板！</p></div><div class="ab cl ot ou hx ov" role="separator"><span class="ow bw bk ox oy oz"/><span class="ow bw bk ox oy oz"/><span class="ow bw bk ox oy"/></div><div class="im in io ip iq"><p id="ff33" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">关于这个话题的评论、分享和讨论总是很受欢迎的，我很乐意回答你的任何问题！</p><blockquote class="ny nz oa"><p id="7149" class="ku kv lq kw b kx ky ju kz la lb jx lc ob le lf lg oc li lj lk od lm ln lo lp im bi translated"><strong class="kw iu">随时在Linkedin上联系我:</strong><a class="ae nw" href="https://www.linkedin.com/in/marcoantonioghiani/" rel="noopener ugc nofollow" target="_blank"><strong class="kw iu"><em class="it">https://www.linkedin.com/in/marcoantonioghiani/</em></strong></a></p></blockquote><p id="933a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> <em class="lq">这里可以找到我的一些文章:</em> </strong></p><div class="pa pb gp gr pc pd"><a href="https://medium.com/swlh/how-i-became-a-fast-learner-changing-my-habits-5e8f125ce42f" rel="noopener follow" target="_blank"><div class="pe ab fo"><div class="pf ab pg cl cj ph"><h2 class="bd iu gy z fp pi fr fs pj fu fw is bi translated">我是如何通过改变习惯快速学习的。</h2><div class="pk l"><h3 class="bd b gy z fp pi fr fs pj fu fw dk translated">9个有效的习惯可以让你学得更快，提高工作效率。</h3></div><div class="pl l"><p class="bd b dl z fp pi fr fs pj fu fw dk translated">medium.com</p></div></div><div class="pm l"><div class="pn l po pp pq pm pr ks pd"/></div></div></a></div><div class="pa pb gp gr pc pd"><a href="https://hackernoon.com/how-to-write-clean-react-components-following-best-practices-c952242126ee" rel="noopener  ugc nofollow" target="_blank"><div class="pe ab fo"><div class="pf ab pg cl cj ph"><h2 class="bd iu gy z fp pi fr fs pj fu fw is bi translated">如何编写干净的React组件</h2><div class="pk l"><h3 class="bd b gy z fp pi fr fs pj fu fw dk translated">使用最佳实践编写高效可读的React组件的5条规则</h3></div><div class="pl l"><p class="bd b dl z fp pi fr fs pj fu fw dk translated">hackernoon.com</p></div></div><div class="pm l"><div class="ps l po pp pq pm pr ks pd"/></div></div></a></div><div class="pa pb gp gr pc pd"><a href="https://medium.com/swlh/advanced-koa-js-boilerplate-bda90c9abe24" rel="noopener follow" target="_blank"><div class="pe ab fo"><div class="pf ab pg cl cj ph"><h2 class="bd iu gy z fp pi fr fs pj fu fw is bi translated">高级Koa.js样板文件</h2><div class="pk l"><h3 class="bd b gy z fp pi fr fs pj fu fw dk translated">使用Create Koa应用程序组织代码的高级建议。</h3></div><div class="pl l"><p class="bd b dl z fp pi fr fs pj fu fw dk translated">medium.com</p></div></div><div class="pm l"><div class="pt l po pp pq pm pr ks pd"/></div></div></a></div></div></div>    
</body>
</html>