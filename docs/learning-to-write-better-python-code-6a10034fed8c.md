# 学习编写更好的 Python 代码

> 原文：<https://levelup.gitconnected.com/learning-to-write-better-python-code-6a10034fed8c>

不断提高你的编码技能是很重要的，让我们来讨论一下如何提高

![](img/44a11b0f334c6a4f666bad1cd8f09828.png)

凯文·Ku 在 [Unsplash](https://unsplash.com/s/photos/coding?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上的照片

作为一名程序员，最令人生畏的一个方面就是要学习大量的技能。无论您是刚刚开始您的编程之旅，还是已经在成为一名合格的软件工程师的道路上，努力不断提高您的知识和技能总是很重要的。由于计算机科学发展如此之快，语言和框架时好时坏，学习新技能的需求从未真正消失。

我个人发现，大学毕业后，我必须确保留出时间来继续拓宽我的编程知识。虽然我开始在工作中获得有价值的技能，但我不想忘记学校里的话题，因为我现在的工作不需要我经常使用。甚至当我在学校的时候，超越指定的家庭作业帮助我提高得更快。我在大学开始学习环境工程，但在第二年转到了计算机科学和地理，这意味着我需要迎头赶上。在这篇文章中，我将讨论帮助我成为一名更强的程序员的主题和策略，以及如何使用它们来提高 Python 编程技能。

# 注意数据结构

要成为一名优秀的程序员，算法和数据结构是最重要的两个领域。虽然您确实可以在互联网上找到几乎任何算法或数据结构的实现，但是对它们如何工作有一个可靠的理解可以让您更有效地解决问题。当要完成一次技术面试或给你的老板留下深刻印象时，发现一个新问题并迅速提出可行解决方案的能力是至关重要的。通常，对常用算法和数据结构的深刻理解会使解决问题变得容易得多。

Python 是一种有趣的语言，因为它非常容易使用内置函数和库来抽象出我们在其他语言中手工做的许多事情。许多大学让学生开始学习像 c++这样的语言，因为这迫使他们学习诸如内存分配如何工作以及更严格的语法之类的东西。然而，越来越多的学生开始使用 Python，因为它在数据科学、web 开发和软件工程等广泛的主题中有如此多的用途。

## 数据结构

由于 Python 已经实现了如此多有用的数据结构，并且易于访问，因此了解在哪些情况下使用特定的数据结构非常重要。

数据结构的选择取决于所处理的数据量、访问数据的方式以及代码运行的速度。一些数据结构对于某些操作来说非常快，但是可能根本不支持其他操作。Python 字典是哈希表的内置实现，在插入或查找项目时速度很快；但是，没有办法对字典进行切片或排序。这意味着对于涉及大量需要频繁查询的独特数据点的任务，字典可能是一个很好的选择，但如果数据的顺序很重要，则不是一个好的选择。

Python 也可以访问库，比如 Numpy，它使用 C 来产生更快更有效的数据结构。一个很好的例子是 Python 列表和 Numpy 数组。在某些情况下，Numpy 数组和 list 是可以互换的，但是当您的数据是同质的(都是同一类型)时，数组可以节省您的时间和内存。下面的代码创建一个列表和一个等长的 Numpy 数组，然后给每个元素加 2；看看 Numpy 与列表相比有多快。

由作者创建

```
It Took 0.03738 seconds to add two to each element in our list
It Took 0.00026 seconds to add two to each element in our array
```

我们可以看到，具有相同整数数量的 Numpy 数组的修改速度比它的 list 副本快得多。然而，这种效率是以灵活性为代价的。Python 列表可以存储多种数据类型，并且比 Numpy 数组更容易添加元素。Numpy 确实提供了一些在不需要循环的情况下在 Python 列表上不容易实现的操作，但是 Numpy 是专门为数学设计的，并不像 list 那样处理各种数据类型。希望这个例子显示了在什么时候使用 Python 中可用的许多数据结构需要花多少心思。

# 看看 Github 上的代码

虽然按照自己的想法工作很重要，但学习查看其他程序员编写的代码并理解它在做什么是一项需要掌握的非常重要的技能。在你的职业生涯中，会有很多次你被交给一个由过去的开发人员编写的程序，并期望升级或维护它。根据您之前的开发人员的不同，这项任务可能从简单到极其困难。因为 Python 是一种非常灵活的语言，所以通常有许多方法来解决同一个问题，并且有一系列可用的语法选项。有时开发人员更注重简洁，以牺牲可读性为代价，如果他们不能解释他们的思维过程，更新他们的代码就要花更长的时间。

这听起来可能是一项很难实践的技能，然而，像 Python 这样的语言和蓬勃发展的开源社区为有经验的开发人员通过他们发布的库探索代码提供了大量的机会。随着您使用更多的库，如 Numpy、Pandas 和更小的库，上 GitHub 并尝试理解它们是如何实现您所使用的功能会非常有益。虽然一些较大的库——Numpy——可能非常大，但是还有许多较小的库更容易上手。

您也很有可能在项目中使用的库的功能中发现错误或低效之处；这是 GitHub 有一个“问题”标签的主要原因。如果您发现了一个 bug，您可以不仅仅是简单地报告它，而是自己修复它，并以拉请求的形式提出您所做的更改。因为大多数 Python 库都是由志愿者开发的，所以当社区成员提供一个 bug 的解决方案时，它会非常有帮助。查找 bug 可能比听起来更难，用户经常会发现开发人员没有预料到的边缘情况。库的维护人员可以将您的更改合并到他们的代码库中，或者与您讨论 bug 和建议的解决方案，以提出可能的最佳解决方案。

最后，向存储库提交一个 pull 请求并不一定要有 bug。如果你发现一个你感兴趣的项目，随时提出你在使用他们的软件时想到的改进。为您喜欢使用的项目做贡献是支持开源社区的最佳方式之一，开源社区使 Python 成为了一种非常强大的语言。

# 总是在寻找优化的方法

当你在做一个项目时，想想你能更有效地解决问题的方法。Python 可以使用如此多的工具，并且通常有多种方法来解决同一个问题。但是，有些方法通常比其他方法更快。因为我们经常使用 Python 来处理越来越大的数据集，所以提高代码的速度可以显著减少您在工作和测试时等待的时间。

即使你当前的项目不需要高效，学习如何编写精益而快速的代码也会让未来资源更有限的项目变得容易得多。当我第一次开始为 web 应用程序开发 Python 代码时，我很快就意识到创建臃肿的 Python 程序是多么容易，以及使用正确的方法可以使某些任务变得多快。

## 使用正确的工具

正如我们在比较 Python 列表和 Numpy 数组时看到的，解决一个问题通常有多种方法，但每种方法都有一定的优势。另一个很好的例子是充分利用 Python 的内置函数，这些函数通常用 C 语言编写要快得多。

例如，我使用 nltk 库导入了一个超过 230，000 单词的列表。如果我想让每个单词都大写，我可以遍历列表并对每个单词调用`.upper()`。更好的一步是使用列表理解来使我们的循环更有效率。但是最快的选择是使用 Python 内置的`map()`函数将`.upper()`应用于列表中的每个单词。

```
Our list contains 236736 words 

It took 0.03233 seconds using a for loop
It took 0.01148 seconds using list comprehension
It took 2e-05 seconds using 'map
```

虽然`map()`不能在所有情况下使用，但它非常适合它所能完成的任务。列表理解也比传统的 for 循环有显著的速度提升，同时比`map()`更加灵活。

## 依赖性膨胀

许多 Python 库都很大，如果为了使用一个函数而必须加载一个大的依赖项，会给项目增加不必要的规模。我的第一个网络应用程序询问用户一个位置，他们愿意开车多远，以及他们想步行多远。Python 程序将抓取位于行驶半径内的所有路径，然后求解最接近所需长度的环。由于在科罗拉多州等州有如此多的路径相互交叉，我们的想法是制作一个有趣的应用程序，帮助我们在特定地区找到更长的徒步旅行。

设计 Python 应用程序来创建一个轨迹网络，然后求解一个最优回路是很有趣的，我学到了很多关于图形算法的知识。当我试图把它转移到云端时，困难就来了。托管一个总是运行并等待有人与网站交互的 AWS 实例是很昂贵的，尤其是对于一个闲置时间比使用时间更长的小项目。所以我采用了一种无服务器的方法，每当网站发出请求时，就会有一个小实例启动。我最终选择了 AWS Lambda 作为无服务器后端，它运行得非常好。

唯一的问题是代码对 Lambda 来说太重了。我设法优化了 graph solve，以使代码足够快，但是，我有太多的依赖项，超过了 Lambda 对环境的严格大小要求。加载许多库，如 sci-kit learn、NumPy、Pandas 和 Scipy，会形成一个大环境。幸运的是，我能够重构代码来使用较小库中的函数。这很好，但这是一个很好的教训，考虑如何用我已经在使用的库解决问题，而不是每当我有一个具有挑战性的任务要解决时就导入一个新的库。

# 练习，练习，练习

我发现作为一名开发人员，提高技能最重要的一步是坚持不懈地练习。有很多方法可以练习编程，比如做你感兴趣的个人项目，或者留出时间学习你在当前工作中用不到的新技能。继续关注那些可能不会每天都用到的基本技能也很重要，比如算法。

像 Leetcode 这样的网站会向你提出一些具体的挑战，要求你解决速度上的限制，这是一个不断挑战自我的好方法。我还发现 Leetcode 是一种让挑战自我变得更有趣的方式，因为当我的代码通过测试用例时，它给了我一种奖励感。

如果你还是编程新手，不要忘记逐渐增加难度。当你想构建很酷的应用程序和从事更大的项目时，练习基础知识可能会令人沮丧。虽然雄心勃勃很好，但一定要逐渐增加工作的难度。没有什么比不知所措或沮丧更让学习变得困难，如果你把学习分成更容易管理的部分，你会轻松得多。

这并不意味着你不应该处理你有一个很酷的想法。但是，当你遇到新的挑战时，后退一步，花额外的时间真正学习新的主题，而不是从堆栈溢出中复制一些东西，看看它是否有效，会有所帮助。当然，有些时候只是让代码工作，但是为了真正提高，最好花时间真正理解你在搜索解决问题时找到的东西。

***注*** *:如果你喜欢在媒体上阅读我和其他人的内容，可以考虑使用下面的链接订阅，以支持这样的内容创作，并解锁无限的故事！*

[](https://medium.com/@willmnorris/membership) [## 用我的推荐链接加入媒体-威尔·诺里斯

### 作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…

medium.com](https://medium.com/@willmnorris/membership) 

# 资源

*   [加速 Python 代码的方法](https://towardsdatascience.com/10-ways-to-speed-up-your-python-code-e3d57630b710)
*   [Leetcode](https://leetcode.com/) —练习算法和数据结构