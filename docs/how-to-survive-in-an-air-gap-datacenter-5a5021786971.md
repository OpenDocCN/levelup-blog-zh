# 如何在空气间隙数据中心生存

> 原文：<https://levelup.gitconnected.com/how-to-survive-in-an-air-gap-datacenter-5a5021786971>

![](img/eb96ae853348f9e00ae0b2dbdbfd81be.png)

来自 resellerbytes 的图像

最近，我有机会将我的 DevOps 经验扩展到机器学习操作(MLOps)。令人兴奋的是，我必须在一个空气间隙数据中心安装一个企业级软件。

不幸的是，由于缺乏经验，我不得不经历许多困难的问题时，来安装软件在一个空气间隙的环境。由于零互联网接入政策(没有代理服务器，没有卫星服务器)，对于那些对云如此适应的人来说是很困难的，他们实际上可以`yum install`或`apt install`任何事情和一切。但是我最终克服了必要的障碍，最终安装并配置了软件。因此，我希望通过分享我的经验来帮助别人。

所以，如果你的 DC 有气隙，以下是我的建议，让你的 DC 之旅更轻松:

**带件外套**

你在有空气间隙的数据中心呆的时间会比没有空气间隙的数据中心长。所以带一件夹克来保暖。

**了解 DC 的地形**

在进入气隙数据中心之前，了解规则、注意事项、餐具室、卫生间、可以上网的桌子在哪里。很有帮助。

此外，还有一些严格的规则，如晚上 7 点后的权力处理，所以请注意这一点。

**准备本地 yum/apt 库**

你肯定需要很多库，因为你安装的东西可能有很多依赖关系。，因此您肯定需要一个本地存储库服务器来帮助您安装库。我使用 Red Hat 作为基本操作系统，所以有一些有用的[链接](https://access.redhat.com/discussions/3988321)来帮助你获得 EPEL 的所有依赖项。

对于 EPEL 以外的库，使用 [yumdownloader](https://access.redhat.com/solutions/10154) 下载。

**与供应商合作**

如果你在一家系统/软件集成商(SI)公司工作，你将不得不与多方合作。我请求帮助在机架中设置服务器和网络的供应商帮助我在所有 redhat 操作系统中安装 3 个库:net-tools、rsync 和 createrepo。这 3 个是帮助您建立本地存储库的基本要素。我还问他们如何将这些库复制到服务器中，我了解到我可以使用 [iLo](https://www.hpe.com/us/en/servers/integrated-lights-out-ilo.html) ，这类似于我以前从事的 KVM 技术。

**获得服务器磁盘存储分配权限**

企业软件对磁盘的要求非常严格。某些文件夹必须有一定数量的空白空间，如果不是整个安装不工作。确保`/`和`/var`有足够的安装空间。

**为你的笔记本电脑找一个电源转换器插头**

这很重要。当你试图将所有的 EPEL 库文件同步到你的服务器上时，你的电池很快就会耗尽。为你的笔记本电脑买一个 C19/C20 电源插头转换器，这样它就不会没电了