<html>
<head>
<title>Rust: Conversion Between &amp;str and String Types</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Rust:字符串和字符串类型之间的转换</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/rust-convert-str-to-string-and-vice-versa-8b000776fac6?source=collection_archive---------16-----------------------#2022-12-19">https://levelup.gitconnected.com/rust-convert-str-to-string-and-vice-versa-8b000776fac6?source=collection_archive---------16-----------------------#2022-12-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="43e1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用<code class="fe ko kp kq kr b">to_string()</code>和<code class="fe ko kp kq kr b">as_str()</code>方法或<code class="fe ko kp kq kr b">&amp;</code>操作器在铁锈的<code class="fe ko kp kq kr b">&amp;str</code>和<code class="fe ko kp kq kr b">String</code>类型之间转换。</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi ks"><img src="../Images/27f985263bba3747eabc6a34e4ea75cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0uJB2qBaaGR1biF82CBOgw.jpeg"/></div></div></figure><h2 id="5427" class="le lf it bd lg lh li dn lj lk ll dp lm kb ln lo lp kf lq lr ls kj lt lu lv lw bi translated">&amp;字符串与字符串</h2><p id="4620" class="pw-post-body-paragraph jq jr it js b jt lx jv jw jx ly jz ka kb lz kd ke kf ma kh ki kj mb kl km kn im bi translated">在Rust中，<code class="fe ko kp kq kr b">&amp;str</code>是一个字符串片段，指的是字符串中特定的字符序列。它是一个不可变的引用，意味着一旦绑定到一个特定的字符串，它就不能被改变。</p><p id="902d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">另一方面，<code class="fe ko kp kq kr b">String</code>是存储在堆上的可增长的可变字符串类型。它可以根据需要在内存中修改和重新分配。</p><h2 id="dd90" class="le lf it bd lg lh li dn lj lk ll dp lm kb ln lo lp kf lq lr ls kj lt lu lv lw bi translated">&amp;字符串到字符串</h2><p id="99c1" class="pw-post-body-paragraph jq jr it js b jt lx jv jw jx ly jz ka kb lz kd ke kf ma kh ki kj mb kl km kn im bi translated">要将Rust中的<code class="fe ko kp kq kr b">&amp;str</code>转换为<code class="fe ko kp kq kr b">String</code>，可以使用<code class="fe ko kp kq kr b">to_string()</code>方法:</p><pre class="kt ku kv kw gt mc kr md bn me mf bi"><span id="f547" class="mg lf it kr b be mh mi l mj mk">// Declare a string slice<br/>let s = "Hello, world!";<br/><br/>// Convert the string slice to a String<br/>let string = s.to_string();</span></pre><p id="05cb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe ko kp kq kr b">to_string()</code>方法从字符串片<code class="fe ko kp kq kr b">s</code>创建一个新的<code class="fe ko kp kq kr b">String</code>对象，它包含字符串数据的副本。</p><h2 id="f2d0" class="le lf it bd lg lh li dn lj lk ll dp lm kb ln lo lp kf lq lr ls kj lt lu lv lw bi translated">字符串到&amp;str</h2><p id="b9f4" class="pw-post-body-paragraph jq jr it js b jt lx jv jw jx ly jz ka kb lz kd ke kf ma kh ki kj mb kl km kn im bi translated">要将<code class="fe ko kp kq kr b">String</code>转换为<code class="fe ko kp kq kr b">&amp;str</code>，可以使用<code class="fe ko kp kq kr b">as_str()</code>方法:</p><pre class="kt ku kv kw gt mc kr md bn me mf bi"><span id="2112" class="mg lf it kr b be mh mi l mj mk">// Declare a String<br/>let string = String::from("Hello, world!");<br/><br/>// Convert the String to a string slice<br/>let s = string.as_str();</span></pre><p id="54eb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe ko kp kq kr b">as_str()</code>方法返回一个引用<code class="fe ko kp kq kr b">String</code>对象中数据的<code class="fe ko kp kq kr b">&amp;str</code>片。如果您需要将字符串数据传递给需要一个<code class="fe ko kp kq kr b">&amp;str</code>参数的函数或方法，这个方法会很有帮助。</p><p id="f246" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">或者，您可以使用<code class="fe ko kp kq kr b">&amp;</code>操作符将对<code class="fe ko kp kq kr b">String</code>的引用作为<code class="fe ko kp kq kr b">&amp;str</code>:</p><pre class="kt ku kv kw gt mc kr md bn me mf bi"><span id="d974" class="mg lf it kr b be mh mi l mj mk">// Declare a String<br/>let string = String::from("Hello, world!");<br/><br/>// Get a reference to the String as a string slice<br/>let s = &amp;string;</span></pre><p id="5dbc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个语法相当于调用<code class="fe ko kp kq kr b">as_str()</code>方法，但是在某些情况下可能更简洁。</p><h2 id="a579" class="le lf it bd lg lh li dn lj lk ll dp lm kb ln lo lp kf lq lr ls kj lt lu lv lw bi translated">你想联系吗？</h2><p id="6350" class="pw-post-body-paragraph jq jr it js b jt lx jv jw jx ly jz ka kb lz kd ke kf ma kh ki kj mb kl km kn im bi translated">如果你想联系我，请通过LinkedIn联系我。</p><p id="c598" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">另外，请随意查看我的书籍推荐📚。</p></div><div class="ab cl mm mn hx mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="im in io ip iq"><div class="kt ku kv kw gt mt"><a href="https://mr-pascal.medium.com/my-book-recommendations-4b9f73bf961b" rel="noopener follow" target="_blank"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd iu gy z fp my fr fs mz fu fw is bi translated">我的书籍推荐</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">在接下来的章节中，你可以找到我对所有日常生活话题的书籍推荐，它们对我帮助很大。</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">mr-pascal.medium.com</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh lc mt"/></div></div></a></div><div class="ni nj gp gr nk mt"><a href="https://mr-pascal.medium.com/membership" rel="noopener follow" target="_blank"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd iu gy z fp my fr fs mz fu fw is bi translated">通过我的推荐链接加入Medium—Pascal Zwikirsch</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">mr-pascal.medium.com</p></div></div><div class="nc l"><div class="nl l ne nf ng nc nh lc mt"/></div></div></a></div></div></div>    
</body>
</html>