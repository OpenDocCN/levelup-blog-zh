<html>
<head>
<title>A Complete Guide to JavaScript Dates</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript日期完全指南</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/why-your-javascript-date-is-off-by-1-day-a-complete-guide-to-javascript-dates-10a973fb9b1f?source=collection_archive---------8-----------------------#2020-10-02">https://levelup.gitconnected.com/why-your-javascript-date-is-off-by-1-day-a-complete-guide-to-javascript-dates-10a973fb9b1f?source=collection_archive---------8-----------------------#2020-10-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="296c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">又名:为什么你的JavaScript日期总是差一天</h2></div><p id="1eb6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">JavaScript日期令人困惑。此外，它们可能是JavaScript编程中最不令人兴奋的事情。</p><p id="f918" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是，如果你正在构建一个Todo应用程序——你知道，这是现存最被过度使用的web应用程序，并且你想添加日历提醒功能，会发生什么呢？</p><p id="2146" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你的约会对象没有正确处理时区，你最终会得到一个“差1分”的错误，<strong class="kk iu">你错过面试的用户会对你的应用程序非常生气。</strong></p><h2 id="46c4" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">我关于JavaScript日期的自白</h2><p id="dd86" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">我花了<strong class="kk iu">至少3年的编程时间才最终坐下来理解这个话题。如果我不得不猜测的话，你们中的一些人正在阅读这篇文章，所以为此干杯！🍻</strong></p><h2 id="06d3" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">剧透警报</h2><p id="7c05" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">JavaScript日期<strong class="kk iu">实际上并没有那么难。</strong>当你阅读这篇文章时，你会意识到JavaScript日期的难点在于非JavaScript概念，如时区和格式标准。</p><p id="c948" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">大多数人搜索关于JavaScript日期的教程，而他们所需要的只是回顾时间是如何工作的！(包括我自己)</p><h2 id="138e" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">在我开始阅读之前MomentJS怎么样？</h2><p id="4487" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">似乎现在所有酷的孩子都在用MomentJS(或者如果你更酷的话——Luxon)。</p><p id="6c0c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">别担心，我不是什么JavaScript纯粹主义者，我只是告诉你要始终使用普通的JS日期对象——我只是想通过核心概念来让你的Moment/Luxon生活变得更加容易。</p><h2 id="053f" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">最后，我们开始吧。</h2><p id="dcfd" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">想象一下——你已经写了8个小时的代码，你的大脑有点累了，你在一次紧张的调试会议中遇到了一个约会对象:</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="6433" class="le lf it mg b gy mp mq l mr ms">new Date('2020-09-30')</span><span id="1a26" class="le lf it mg b gy mt mq l mr ms">// Output: Tue Sep 29 2020 20:00:00 GMT-0400 (Eastern Daylight Time)</span></pre><p id="7020" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">什么？？？</p><p id="fc09" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">等等，事情会变得更混乱。这是我的本地电脑(我现在站在美国东部的电脑):</p><figure class="mh mi mj mk gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi mu"><img src="../Images/f05e99d4430039a1a4ac566ea192ee2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*rzkmxWh9Vw-mg5x_d2sVlQ.gif"/></div></div></figure><p id="6153" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里是<strong class="kk iu">我在</strong>上运行高尔夫训练应用程序的网络服务器:</p><figure class="mh mi mj mk gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi mu"><img src="../Images/446f677d2565c00da7fa97610e47a989.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*SXmvBptRR1370JcKx1yS8g.gif"/></div></div></figure><p id="c344" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">注意到什么了吗？在我的本地电脑上，<code class="fe md me mf mg b">.toDateString()</code>的结果是<code class="fe md me mf mg b">Tue Sep 29 2020</code>，而在我的服务器上，<code class="fe md me mf mg b">.toDateString()</code>的结果是<code class="fe md me mf mg b">Wed Sep 30 2020</code>。此外，两台计算机对<code class="fe md me mf mg b">toISOString()</code>方法返回了相同的结果！</p><p id="7dd4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要么是我疯了，要么是我们在两台不同的电脑上输入了完全相同的内容，却得到了完全不同的答案——更不用说其中一台电脑完全弄错了我的日期！！还是……</p><p id="f1ad" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我想我们不应该感到惊讶，因为JavaScript是一种充满惊喜的语言。无论如何，是时候解决另一个JavaScript之谜了。</p><h1 id="87af" class="nc lf it bd lg nd ne nf lj ng nh ni lm jz nj ka lp kc nk kd ls kf nl kg lv nm bi translated">这是你最后一次被JavaScript日期弄糊涂了</h1><p id="55be" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">如果我们想一劳永逸地了解这一点，我们需要从了解计算机的时区开始。</p><p id="1fd6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里是我的<strong class="kk iu">本地计算机的</strong>时区:</p><figure class="mh mi mj mk gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nn"><img src="../Images/23ea965fe11bb07d0dd92d06fdb28bbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dm633OChjDczS52vowwETw.png"/></div></div></figure><p id="81b5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是我的<strong class="kk iu">服务器的</strong>时区:</p><figure class="mh mi mj mk gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi no"><img src="../Images/ae21acdca45e46e4908069ba9ac5ec02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xwKLfjVMzT35UyajUj2MqA.png"/></div></div></figure><p id="8bf6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如您所见，本地计算机的时区是EST/EDT，而服务器的时区是UTC。这一点，加上JavaScript的一些怪癖，就是为什么我们会得到上面这样意想不到的结果。但是在我们更深入地探索这个过程的内部之前，这是没有意义的。</p><p id="3e4c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">虽然我同意JavaScript有时会造成不必要的混乱，但当涉及到日期时，<strong class="kk iu">整个系统都是混乱的</strong>——尤其是当我们开始谈论时区的时候。但是有了一点历史教训，我想我们可以把事情控制在一个可控的范围内。</p><h1 id="9ea3" class="nc lf it bd lg nd ne nf lj ng nh ni lm jz nj ka lp kc nk kd ls kf nl kg lv nm bi translated">什么是UTC？(理解JavaScript日期的关键)</h1><p id="7205" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">UTC代表“协调世界时”，顾名思义，它是计时的基础。嗯…算是吧。</p><p id="6c4a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我们的手腕上、口袋里、墙上和价格昂贵的咖啡机上有时间记录之前，人们需要一种可靠的方法来计算当前时间。他们是怎么做到的？太阳。</p></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><p id="be04" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">警告:我们在这里会分心几分钟，但是如果我们真的想记住这些讨厌的JavaScript日期是如何工作的，我们需要一些历史背景。如果你不喜欢读我简短的历史课，跳到这篇文章的下一部分。</p></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><p id="1388" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">想象一下，在一个阳光明媚的日子里，把一根完全垂直的杆子插在地上。当太阳升起时，那根杆子会向西投下阴影，反之，当太阳落下时，会向东投下阴影。如果你要计算影子从一点移动到另一点需要多长时间，你就可以(在某种程度上)记录时间。</p><p id="70c3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">但是有一个问题… </strong>如果我在我居住的美国把一根垂直的柱子放在地上，影子不会像有人在爱尔兰的某个地方把一根柱子放在地上一样同时投射到同一个方向。</p><p id="ab3d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了解决这个问题，我们需要一个<strong class="kk iu">公共参考点</strong>和一个<strong class="kk iu">时间标准</strong>。在某种程度上，一些科学人士认为，使用0经度(又名“本初子午线”，恰好是英国的格林威治)将是一个很好的“通用参考点”，以将谚语中的“极点”放在地上。</p><figure class="mh mi mj mk gt mv gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/9e4e49bfd1116b357ad41bd79f966006.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/0*hQyVdYbq-fnlBB1G"/></div></figure><p id="fc04" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下一个挑战实际上是根据“地上的杆子”计算“时间”。它过去是用格林威治标准时间(GMT标准——始于1847年)来计算的，但是在20世纪60年代初的某个时候，一些工程师认为我们需要一个新的标准，它的计算方式比GMT更加一致。</p><p id="bf86" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">1970年，<strong class="kk iu"> UTC标准</strong>最终确定，但在1972年，为了使UTC与<a class="ae mc" href="https://en.wikipedia.org/wiki/Solar_time#Mean_solar_time" rel="noopener ugc nofollow" target="_blank">平均太阳时</a>(由于地球自转的不规则性，稍有不精确)保持一致，对其进行了修正，定期添加了<a class="ae mc" href="https://en.wikipedia.org/wiki/Leap_second" rel="noopener ugc nofollow" target="_blank">闰秒</a>。</p><p id="350b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">今天，有3个主要的“时间”计算方法(当我写这篇文章时，它对我来说越来越没有意义):</p><ol class=""><li id="3de9" class="nx ny it kk b kl km ko kp kr nz kv oa kz ob ld oc od oe of bi translated">平均太阳时(UT1)</li><li id="d0c9" class="nx ny it kk b kl og ko oh kr oi kv oj kz ok ld oc od oe of bi translated">世界协调时间(UTC)</li><li id="1e40" class="nx ny it kk b kl og ko oh kr oi kv oj kz ok ld oc od oe of bi translated">国际原子时</li></ol><p id="e374" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">TAI最准，由<a class="ae mc" href="https://en.wikipedia.org/wiki/Atomic_clock" rel="noopener ugc nofollow" target="_blank">原子钟</a>计算。</p><p id="972f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">UTC的<em class="ol">来源于</em> TAI，但为了与UT1保持同步，它加入了闰秒。</p><p id="17fa" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在JavaScript中，你会经常看到GMT，但它只是一个从未消失的传统术语，可以被认为是UTC的等价物。</p></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><p id="3003" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">有趣的事实</strong></p><p id="54cc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后一个闰秒是在2015年6月30日添加的，2023年的世界无线电通信大会上，将会有一场关于可能从UTC时间标准中删除<em class="ol">闰秒的讨论，该标准自1972年以来就没有改变过。</em></p><figure class="mh mi mj mk gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi om"><img src="../Images/0a1f9e39f7aa10b7057b0bdda3dd8fc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d4k9O0JPWGKEiRKSIcXNPw.png"/></div></div></figure></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><h2 id="24ee" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">一切都围绕着UTC</h2><p id="178d" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">自1972年以来，世界一直基于这一UTC标准运行，当谈到时区时，它被认为是+/- 0:</p><figure class="mh mi mj mk gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi on"><img src="../Images/772498bb9f634098b327fcfb6d0651bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9sKUhJhxSKNWEIUoQeDDVQ.png"/></div></div><figcaption class="oo op gj gh gi oq or bd b be z dk translated">请注意图片底部的值</figcaption></figure><p id="41c9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们向西移动UTC时区，每个连续的时区会变得负1小时，而向东移动时则相反。</p><p id="0f33" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正如你可能已经猜到的那样，由于世界是一个球体，向东移动最终会到达一个“西部”时区，因此，例如，-10时区相当于+14时区。</p><h2 id="396d" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">时区可以用两种方式定义(那么夏令时呢？)</h2><p id="5af4" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">我们可以用两种方式谈论时区:</p><ol class=""><li id="e4fc" class="nx ny it kk b kl km ko kp kr nz kv oa kz ob ld oc od oe of bi translated">作为对“零点”的数字引用，零点是UTC时区</li><li id="77e5" class="nx ny it kk b kl og ko oh kr oi kv oj kz ok ld oc od oe of bi translated">作为一个常见的名称，如“UTC”或“EST”</li></ol><p id="b579" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">我们必须记住的一件事是，UTC不会改变。永远不会。</strong></p><p id="06f7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我住在美国东部，所以从2019年11月4日→2020年3月7日，我住在美国东部时区或官方时区列表<a class="ae mc" href="https://en.wikipedia.org/wiki/List_of_time_zone_abbreviations" rel="noopener ugc nofollow" target="_blank">中的“东部标准时间(北美)”区。美国东部时区也可以称为“UTC-05 ”,因为它位于UTC时区以西5小时。</a></p><p id="f26b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是，2020年3月8日——美国“夏令时”的第一天——会发生什么呢？</p><p id="2aa3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果UTC从不改变，那我们怎么知道现在是夏令时呢？</p><p id="13d1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">2020年3月8日(美国夏令时第一天)，<strong class="kk iu">我的时区从EST → EDT，</strong>变为“东部标准时间(北美)”→“东部夏令时(北美)”。</p><p id="c955" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">EDT也可以被称为“UTC-04 ”,因为我们由于夏令时而“向前冲”,现在，我只比UTC晚4个小时。</p><p id="53c4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">明白这是怎么回事了吗？？UTC从不改变，但你所在的时区会改变。对大多数人来说，这并不重要，因为当我说“活动在东部时间上午10点开始”时，没有人会问我是在说东部时间还是东部时间。没人在乎，因为我们的智能手机负责“幕后”转换。</p><p id="c70b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是作为JavaScript开发人员，我们是编写这些转换的人，因此，应该理解这些东西！</p><h2 id="60ba" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">但是…我的JavaScript日期是“GMT-0400”</h2><p id="94f5" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">记住——JavaScript很奇怪。奇怪的是，它仍然使用“GMT”或“格林威治标准时间”来表示日期。</p><p id="9a2d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在你的大脑里，当你看到“GMT”的时候，就想着“UTC”。</p><p id="bd48" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当您看到“GMT-0400”时，这与我们在上一节中定义的“UTC-04”、“EDT”或“东部夏令时(北美)”是一回事。</p><p id="754a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">JavaScript是在90年代发明的，所以我真的不确定他们为什么不用“UTC-0400”而不用“GMT-0400 ”,但这是另外一个问题了。</p><h2 id="ec64" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">但是UNIX时代呢？</h2><p id="5c5d" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">所以让我们回到电脑上来。你肯定听说过这个术语，“UNIX纪元”，它被定义为1970年1月1日。</p><p id="d939" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是ISO 8601的格式(后面会详细介绍):</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="8b14" class="le lf it mg b gy mp mq l mr ms">1970-01-01T00:00:00Z</span></pre><p id="1ea1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当《时代》杂志的工程师在20世纪70年代早期努力定义UTC标准时，计算机工程师也在努力制造计算机。当你制造一台计算机时，你必须给它一个参考点和一个“滴答”频率，以便它能记住现在是什么时间。而那个参考点被任意选择为<strong class="kk iu">1970年1月1日午夜。</strong></p><p id="6c2f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">几个来源争论这个日期背后的真正原因，但最终，这并不重要。它只是一个<strong class="kk iu">参考点。请在评论中留下你对此的理论(或故事)——我很乐意阅读它们。</strong></p><h1 id="3276" class="nc lf it bd lg nd ne nf lj ng nh ni lm jz nj ka lp kc nk kd ls kf nl kg lv nm bi translated">那么什么是JavaScript日期呢？</h1><blockquote class="os ot ou"><p id="ed04" class="ki kj ol kk b kl km ju kn ko kp jx kq ov ks kt ku ow kw kx ky ox la lb lc ld im bi translated">JavaScript日期是自1970年1月1日午夜(UTC时区)以来经过的毫秒数。</p></blockquote><p id="35ee" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">嗯…那个日期听起来很熟悉…</p><p id="b7ed" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当处理JavaScript日期时，您必须始终记住这个定义。Date对象上有很多原型函数，比如<code class="fe md me mf mg b">getDate()</code>、<code class="fe md me mf mg b">getUTCDate()</code>和<code class="fe md me mf mg b">toISOString</code>，但是只有一个方法可以给你一个JavaScript日期的<strong class="kk iu">真实表示</strong>:</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="6179" class="le lf it mg b gy mp mq l mr ms">const myDate = new Date('2020-01-01');</span><span id="f043" class="le lf it mg b gy mt mq l mr ms">console.log(myDate.valueOf()) // 1577836800000</span></pre><p id="24b2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe md me mf mg b">valueOf()</code>方法告诉我们，2020年1月1日(UTC时区)的午夜是1970年1月1日(UTC时区)午夜之后的<code class="fe md me mf mg b">1577836800000</code>毫秒。</p><figure class="mh mi mj mk gt mv gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/7ea993eedd9f2f671a608cd4c1a909ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1342/format:webp/1*T3Sy7gKCLjJWGVGcdisxBQ.png"/></div></figure><p id="982a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你像我一样，你可能会对第<strong class="kk iu">部分感到疑惑。这代表闰年。自1970年以来，我们在接下来的几年里有闰年:</strong></p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="67fb" class="le lf it mg b gy mp mq l mr ms">1972, 1976, 1980, 1984, 1988, 1992, 1996, 2000, 2004, 2008, 2012, 2016, 2020</span></pre><p id="2344" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">由于我们使用的是2020年1月1日，额外的一天是在2月增加的，我们需要<em class="ol">在计算中排除</em>2020闰年，这样我们就有了自1970年1月1日以来的<strong class="kk iu"> 12个闰年</strong>。如果我们把年转换成天:</p><figure class="mh mi mj mk gt mv gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/36ec6ae697562bd2ef220aef53c7f08f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*2EPYeolXnCo6HrSxxFxDhQ.png"/></div></figure><p id="251f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这就是我们如何得到这些额外的小数😆</p><p id="fe4d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，如果我们想计算一个日期在1970年1月1日之前，可能吗？</p><p id="44dc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当然啦！值将会是负的。</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="328c" class="le lf it mg b gy mp mq l mr ms">const d = new Date('1912-06-23');</span><span id="b72d" class="le lf it mg b gy mt mq l mr ms">console.log(d.valueOf()) // -1815350400000</span></pre><h2 id="0cc0" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">可能的日期对象输出值</h2><p id="c09f" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">当我们打印上面的<code class="fe md me mf mg b">valueOf()</code>日期时，您可能已经注意到输出是一个数字。这是日期对象的三种可能输出中的第一种:</p><ol class=""><li id="9ad1" class="nx ny it kk b kl km ko kp kr nz kv oa kz ob ld oc od oe of bi translated">日期对象的原始值(数字)</li><li id="cde9" class="nx ny it kk b kl og ko oh kr oi kv oj kz ok ld oc od oe of bi translated">ISO 8601(字符串)</li><li id="857b" class="nx ny it kk b kl og ko oh kr oi kv oj kz ok ld oc od oe of bi translated">JavaScript标准格式(字符串)</li></ol><p id="2683" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是每种方法的示例:</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="d521" class="le lf it mg b gy mp mq l mr ms">const myDate = new Date('2020-09-30');</span><span id="6664" class="le lf it mg b gy mt mq l mr ms">// Primitive value (number)<br/>myDate.valueOf() // 1601424000000</span><span id="00cc" class="le lf it mg b gy mt mq l mr ms">// ISO 8601 (string)<br/>myDate.toISOString() // "2020-09-30T00:00:00.000Z"</span><span id="eb3f" class="le lf it mg b gy mt mq l mr ms">// JavaScript Standard Format (string)<br/>myDate.toString() // "Tue Sep 29 2020 20:00:00 GMT-0400 (Eastern Daylight Time)"</span></pre><p id="c8a3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">JavaScript日期的原始值很简单。正如我们所讨论的，它表示自1970年1月1日午夜(UTC时区)以来的毫秒数，这是一个数字值。</p><p id="5214" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ISO 8601的格式有点令人困惑，但是一旦你把这些片段分开，它看起来就不那么吓人了。ISO 8601实际上与JavaScript毫无关系——它是时间和日期的全球标准(如果你感兴趣，可以在附录中找到更多相关信息)。</p><figure class="mh mi mj mk gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi pa"><img src="../Images/0ee4f93bddd4975672d2f3c57f7228dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f1Ye0uCRt1ziCG18sl74CQ.png"/></div></div><figcaption class="oo op gj gh gi oq or bd b be z dk translated">JavaScript ISO 8601格式</figcaption></figure><p id="fd91" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们稍后会详细讨论这种格式，但是现在，只要记住<code class="fe md me mf mg b">T</code>是时间指示器，而<code class="fe md me mf mg b">Z</code>是时区指示器。在这种情况下,“Z”来自“祖鲁时间”,这是针对<strong class="kk iu"> UTC时区</strong>的<a class="ae mc" href="https://en.wikipedia.org/wiki/List_of_military_time_zones" rel="noopener ugc nofollow" target="_blank">军事时区参考。所以请记住:</a></p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="6ca5" class="le lf it mg b gy mp mq l mr ms">Z === “Zulu Time” (military) === UTC time (JavaScript)</span></pre><p id="07a7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">每当您在JavaScript Date对象上使用<code class="fe md me mf mg b">toISOString()</code>时，您将总是获得日期的UTC表示，由<code class="fe md me mf mg b">Z</code>表示。</p><p id="90b8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">最后但同样重要的是——</strong>JavaScript标准日期格式。</p><p id="8327" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我看来，这是所有输出中最令人困惑的。原始值打印从epoch开始的毫秒数，这很容易掌握。ISO 8601值打印以从不改变的标准化格式表示的日期值。但是JavaScript标准格式呢？它不仅打印了一个我们还没有谈论很多的时区，而且还产生了如上所示的意外结果(Sep 30输入更改为Sep 29输出)！</p><p id="fb9f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们一劳永逸地解决这个JavaScript之谜。</p><h1 id="3383" class="nc lf it bd lg nd ne nf lj ng nh ni lm jz nj ka lp kc nk kd ls kf nl kg lv nm bi translated">两台计算机的故事(以及为什么它们似乎不能在日期上达成一致！)</h1><p id="3832" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">在这篇文章的开始，<strong class="kk iu">在我们对UTC </strong>有所了解之前，我展示了一个JavaScript日期如何根据你使用的计算机和计算机的时区而<em class="ol">显示</em>不同的例子。</p><p id="d736" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这一部分，我们将使用两台电脑和一个日期(2020年9月30日——写作的那一天),来说明为什么你的约会“晚了1分钟”。</p><p id="076d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里有两台<strong class="kk iu">不同时区的电脑</strong>，如下图截图所示。请注意，打印的时区看起来与我们之前讨论的时区有些不同。这是因为有两个官方时区列表——一个是<a class="ae mc" href="https://en.wikipedia.org/wiki/List_of_time_zone_abbreviations" rel="noopener ugc nofollow" target="_blank">“普通”时区列表</a>和一个是<a class="ae mc" href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones" rel="noopener ugc nofollow" target="_blank">“计算机”时区列表</a>。在文章的第一部分，我们使用“常规”列表，而在下面，我们使用“计算机”列表。没有实质上的区别，只是语义上的。</p><figure class="mh mi mj mk gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi pb"><img src="../Images/7f4f7539757de48f8274c0303f2e4d8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W58cu5JyeByhWfJ2ntDhwg.png"/></div></div><figcaption class="oo op gj gh gi oq or bd b be z dk translated">本地计算机(左)，web服务器(右)</figcaption></figure><p id="6fc3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以<strong class="kk iu">记住，当我们看这些例子的时候:</strong></p><figure class="mh mi mj mk gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi pa"><img src="../Images/225af537a5ec1466e25b226b6c2c2703.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6YXhG7MlDC34c1fn_6vfLA.png"/></div></div><figcaption class="oo op gj gh gi oq or bd b be z dk translated">这两台计算机有不同的时区</figcaption></figure><p id="0abd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们从一个简单的日期开始，获取它的原始值。</p><figure class="mh mi mj mk gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi pc"><img src="../Images/e30d7e241a234399c40e5ee30b9caf5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WKv4IOIumOAFiw7FnYIR_A.png"/></div></div><figcaption class="oo op gj gh gi oq or bd b be z dk translated">记住，这是自1970年1月1日午夜以来的毫秒数</figcaption></figure><p id="ae29" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">到目前为止，一切顺利。我们将值<code class="fe md me mf mg b">'2020-09-30'</code>作为输入传递，并得到相同的输出— <code class="fe md me mf mg b">1601424000000</code>。</p><p id="35ad" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，让我们看看当我们以UTC时间打印时会发生什么:</p><figure class="mh mi mj mk gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi pd"><img src="../Images/4f7fdd0dba2df0c0bd65b294dcb8cfe1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MVWgxi5Fa5i1NuYlnWC8Uw.png"/></div></div></figure><p id="bc36" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里看起来还不错。正如所料，它们显示了相同的值。让我们把它看作一个ISO字符串，它应该和一个UTC字符串是一回事。</p><figure class="mh mi mj mk gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi pe"><img src="../Images/cdbf82e861588f327ed6c76a9914323f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*31tnMyBuBv0s96BN0TSvWw.png"/></div></div></figure><p id="474e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">同样，我们得到了和预期一样的值。但是现在是真正有趣的时候了:</p><figure class="mh mi mj mk gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi pf"><img src="../Images/bdc296b49fada56686788c02b5b13951.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LwrMQvGigbSRuobDaedDLw.png"/></div></div></figure><p id="1274" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这就是为什么JavaScript日期迷惑了这么多人(包括我以前的自己)。</p><p id="1d88" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们仔细想想…我们知道以下事情:</p><ul class=""><li id="550a" class="nx ny it kk b kl km ko kp kr nz kv oa kz ob ld pg od oe of bi translated">我们使用了一个输入值<code class="fe md me mf mg b">2020-09-30</code></li><li id="f8d4" class="nx ny it kk b kl og ko oh kr oi kv oj kz ok ld pg od oe of bi translated">JavaScript日期的原始值是从1970年1月1日午夜(UTC时间)开始的<code class="fe md me mf mg b">1601424000000</code>毫秒</li><li id="d492" class="nx ny it kk b kl og ko oh kr oi kv oj kz ok ld pg od oe of bi translated">如果我们将原始值转换为UTC时间，它表示2020年9月30日午夜。</li></ul><p id="ea4b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，我们在这里可以得出的结论是，<strong class="kk iu">一些JavaScript日期方法</strong>输出内部存储日期<strong class="kk iu">的<strong class="kk iu">“真”值</strong>，而其他方法</strong>基于打印值的计算机的时区输出内部存储日期<strong class="kk iu">的<strong class="kk iu">“相对”值</strong>。</strong></p><p id="e951" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">记住，左边的计算机处于美国东部时间时区，也就是“UTC-04”。</p><p id="5ad0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以如果这个日期的内部值是<code class="fe md me mf mg b">160142400000</code>(UTC时间2020年9月30日午夜)，那么如果我们把这个值转换成EDT时间，就要减去4个小时。如果我们从午夜开始减去4个小时，那么这个日期的“相对”时区值是2020年9月29日下午8点(即20:00)。</p><h1 id="6e04" class="nc lf it bd lg nd ne nf lj ng nh ni lm jz nj ka lp kc nk kd ls kf nl kg lv nm bi translated">好吧，我明白了，但是为什么JavaScript要这样做呢？</h1><p id="3aad" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">所以JavaScript日期是这样工作的:</p><ol class=""><li id="7080" class="nx ny it kk b kl km ko kp kr nz kv oa kz ob ld oc od oe of bi translated">您输入一个值，例如<code class="fe md me mf mg b">2020-09-30</code></li><li id="beaa" class="nx ny it kk b kl og ko oh kr oi kv oj kz ok ld oc od oe of bi translated">JavaScript假设这个值是UTC时间</li><li id="1c73" class="nx ny it kk b kl og ko oh kr oi kv oj kz ok ld oc od oe of bi translated">JavaScript将其存储为UTC时间</li><li id="d7a0" class="nx ny it kk b kl og ko oh kr oi kv oj kz ok ld oc od oe of bi translated">当使用<code class="fe md me mf mg b">toString()</code>方法或者当您<code class="fe md me mf mg b">console.log</code>日期时，JavaScript以您的当地时间输出它</li></ol><p id="84db" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">真正的问题是…如果JavaScript假设您输入的是一个UTC值，那么它为什么不假设您想要一个UTC值输出呢？</p><p id="10b7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">好吧，在JavaScript的眼里，当你输入<code class="fe md me mf mg b">2020-09-30</code>的时候，你不够具体。</p><p id="5b27" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以我们来谈谈如何避免这个问题。</p><h1 id="7cb2" class="nc lf it bd lg nd ne nf lj ng nh ni lm jz nj ka lp kc nk kd ls kf nl kg lv nm bi translated">如何看待JavaScript日期</h1><p id="edf7" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">当使用JavaScript日期时，我们需要问自己以下问题:</p><ol class=""><li id="d4e3" class="nx ny it kk b kl km ko kp kr nz kv oa kz ob ld oc od oe of bi translated">我的<strong class="kk iu">输入值</strong>是什么，我是否指定了时区？(即<code class="fe md me mf mg b">2020-09-30</code>对<code class="fe md me mf mg b">2020–09–30 GMT-0400</code>)</li><li id="42ef" class="nx ny it kk b kl og ko oh kr oi kv oj kz ok ld oc od oe of bi translated">我约会的UTC值是多少？(你总是可以使用<code class="fe md me mf mg b">.toISOString()</code>找到它)</li><li id="8045" class="nx ny it kk b kl og ko oh kr oi kv oj kz ok ld oc od oe of bi translated">我使用什么JavaScript方法来显示日期，它会以什么时区输出我的值？</li></ol><p id="f170" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">假设您正在构建一个应用程序，允许您的用户在他们的用户资料中指定他们的生日。假设我们的用户的生日是1971年6月28日，他们住在佛罗里达州(东部时区)。</p><p id="843a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以你很快编写了一个应用程序，并询问用户的生日:</p><figure class="mh mi mj mk gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi ph"><img src="../Images/1417d58f53e67025da258aada7e02500.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*0Bl5RGOklznQpBQU57ffoQ.gif"/></div></div><figcaption class="oo op gj gh gi oq or bd b be z dk translated">JS中显示日期的不正确方式</figcaption></figure><p id="3b18" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">用户选择了6月28日，但您的web应用程序显示的是6月27日(以字符串形式打印)😢</p><p id="75f4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是该web应用程序的代码，让我们看看您是否能发现错误:</p><figure class="mh mi mj mk gt mv"><div class="bz fp l di"><div class="pi pj l"/></div></figure><p id="9d14" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们回顾一下之前的清单:</p><ol class=""><li id="e086" class="nx ny it kk b kl km ko kp kr nz kv oa kz ob ld oc od oe of bi translated">什么是输入值，我是否指定了时区？—默认情况下，HTML5输入将以UTC格式记录日期选择。所以从技术上讲，我们指定了一个时区，但它是默认的——UTC。</li><li id="5529" class="nx ny it kk b kl og ko oh kr oi kv oj kz ok ld oc od oe of bi translated"><strong class="kk iu">这个日期的UTC值是多少？</strong> —如果您要打印<code class="fe md me mf mg b">console.log(dateValue.toISOString())</code>，您将得到<code class="fe md me mf mg b">1971-06-28T00:00:00.000Z</code>，它代表UTC值。</li><li id="e338" class="nx ny it kk b kl og ko oh kr oi kv oj kz ok ld oc od oe of bi translated"><strong class="kk iu">我使用了什么JavaScript方法来显示日期？这就是我们出错的地方。我们的输入值是用UTC记录的，但是由于我们使用了<code class="fe md me mf mg b">getDate()</code>、<code class="fe md me mf mg b">getMonth()</code>和<code class="fe md me mf mg b">getFullYear()</code>方法，这些方法会将原始日期转换成用户的本地时区，即东部标准时区(北美)！</strong></li></ol><p id="ee40" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">那么我们如何解决这个问题呢？</strong></p><p id="bb8d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有两种方法:</p><ol class=""><li id="66e3" class="nx ny it kk b kl km ko kp kr nz kv oa kz ob ld oc od oe of bi translated">最简单—以UTC时间显示日期(与输入方式一致)</li><li id="9648" class="nx ny it kk b kl og ko oh kr oi kv oj kz ok ld oc od oe of bi translated">更难—询问用户的时区，并在保存日期时指定时区</li></ol><p id="4c4e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于第一种方法，您需要做的只是更改以下内容:</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="1813" class="le lf it mg b gy mp mq l mr ms">const day = dateValue.getDate();<br/>const month = dateValue.getMonth() + 1; // Return Value is 0 indexed<br/>const year = dateValue.getFullYear();</span></pre><p id="16aa" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对此:</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="1471" class="le lf it mg b gy mp mq l mr ms">const day = dateValue.getUTCDate();<br/>const month = dateValue.getUTCMonth() + 1; // Return Value is 0 indexed<br/>const year = dateValue.getUTCFullYear();</span></pre><p id="c3a9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">经过这些改变，瞧！有用！</p><figure class="mh mi mj mk gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi ph"><img src="../Images/e76d3612f1bbb40e2b1d72715b5051ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*hE92uvqGOZFOjV5CE5BJJw.gif"/></div></div><figcaption class="oo op gj gh gi oq or bd b be z dk translated">正确的日期示例</figcaption></figure><p id="0ab9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第二种方法更复杂，但仍然可行。假设您要求该用户选择他们的时区，他们选择了“EDT —东部夏令时(北美)”时区。</p><p id="950b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一旦有了这些信息，就可以使用下面的JavaScript代码(尽管我不推荐):</p><figure class="mh mi mj mk gt mv"><div class="bz fp l di"><div class="pi pj l"/></div></figure><p id="6608" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如您所见，这是更多的代码行，有点重复——绝对不推荐。</p><h1 id="ff22" class="nc lf it bd lg nd ne nf lj ng nh ni lm jz nj ka lp kc nk kd ls kf nl kg lv nm bi translated">使用JavaScript日期的多种方式</h1><p id="1d96" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">上一节中的例子强调了一个特定的“gotcha”场景，但是还有许多其他方式来处理JS日期。</p><p id="3df8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，您可以将几乎任何内容传递给Date对象:</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="53a9" class="le lf it mg b gy mp mq l mr ms">// EXAMPLE #1<br/>// Inputs as arguments<br/>// Date(year, month, day, hour, minute, second, millisecond)<br/>// Note: the month is 0-indexed (I have no clue why...)<br/>new Date(2020, 11, 2, 7, 10);</span><span id="c8f4" class="le lf it mg b gy mt mq l mr ms">// EXAMPLE #2<br/>// Inputs as various strings<br/>// This works with pretty much anything you can think of<br/>new Date('Jan 20 2020');<br/>new Date('January 20 2020');<br/>new Date('Jan-20-2020');<br/>new Date('Jan 20 2020 02:20:10')</span><span id="dd62" class="le lf it mg b gy mt mq l mr ms">// EXAMPLE #3<br/>// Inputs as numbers (milliseconds)<br/>new Date(102031203)</span><span id="ab6e" class="le lf it mg b gy mt mq l mr ms">// EXAMPLE #4<br/>// Inputs as ISO 8601 (we are about to talk about this)<br/>new Date('2020-01-20T00:00Z')</span><span id="42da" class="le lf it mg b gy mt mq l mr ms">// EXAMPLE #5<br/>// Inputs with timezone specifications<br/>new Date('Jan 20 2020 02:20:10 -10:00') // SPECIAL CASE<br/>new Date('Jan 20 2020 02:20:10 -1000') // SPECIAL CASE<br/>new Date('Jan 20 2020 02:20:10 (EDT)') // SPECIAL CASE</span><span id="4ad5" class="le lf it mg b gy mt mq l mr ms">// EXAMPLE #6<br/>// The current moment, specified in the user's local timezone<br/>new Date(Date.now()) // SPECIAL CASE</span></pre><p id="e544" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">请记住，始终注意您的输入值！在示例1–4中，我们用UTC时间指定这些日期！示例5和6是我们根据特定时区指定日期的唯一例子。在示例5中，我们明确地这样做了。在示例6中，<code class="fe md me mf mg b">Date.now()</code>静态方法将自动计算计算机本地时区的当前日期和时间。该方法返回一个本地日期值——自UTC 1970年1月1日午夜以来的毫秒数，因此我们需要将其传递给<code class="fe md me mf mg b">Date()</code>构造函数以获得一个实际的Date对象。</p><p id="c6df" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">换句话说，如果您计划在2020年8月10日(记住，这是夏令时)晚上8点在加利福尼亚州举行的直播活动，那么您需要将其输入为(其中PDT是太平洋夏令时):</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="b59e" class="le lf it mg b gy mp mq l mr ms">const myEventDate = new Date('Aug 10 2020 08:00:00 PDT');</span></pre><p id="d91c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">并显示为:</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="e5d9" class="le lf it mg b gy mp mq l mr ms">myEventDate.toString();</span></pre><p id="68cd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将确保从个人电脑(在不同时区)读取此内容的任何人都能以当地时间显示此直播活动的时间和日期。你可以自己尝试一下！<code class="fe md me mf mg b">myEventDate.toString()</code>的输出应该打印转换到您的时区的事件的时间和日期。</p><h1 id="6cc8" class="nc lf it bd lg nd ne nf lj ng nh ni lm jz nj ka lp kc nk kd ls kf nl kg lv nm bi translated">一定有更简单的方法做到这一点(MomentJS和LuxonJS)</h1><p id="2910" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">不，您不会被JavaScript中的普通日期对象所束缚。有像<a class="ae mc" href="https://momentjs.com/" rel="noopener ugc nofollow" target="_blank"> Moment和Luxon </a> (Luxon是Moment creators的最新项目)这样的库，给你提供快速简单的方法来创建和格式化日期。</p><p id="984c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">也就是说，我建议在使用这些库之前，至少要通读一两遍这篇文章，因为尽管这些库有很多处理JavaScript日期的帮助方法，但它们并没有改变JavaScript日期的内部工作方式，如果你不理解核心概念，仍然会让你大吃一惊！</p><p id="e7b7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是之前用MomentJS演示的相同问题。记住:</p><figure class="mh mi mj mk gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi pa"><img src="../Images/225af537a5ec1466e25b226b6c2c2703.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6YXhG7MlDC34c1fn_6vfLA.png"/></div></div></figure><figure class="mh mi mj mk gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi pe"><img src="../Images/85cca9eb22ea6845af64659fad88a227.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qzc-XumMNEWJvb5PsDKiQA.png"/></div></div></figure><p id="da53" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如你所见，我们也有同样的问题。但是……Moment比JavaScript Dates更聪明一点。如果您直接在moment对象中键入日期，它会起作用:</p><figure class="mh mi mj mk gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi pd"><img src="../Images/fd1564b6169f939028236d77d77e71f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9IQqD4uz7TRdTbPg_ohm6A.png"/></div></div></figure><p id="c016" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Moment不仅防止了常见的日期陷阱(在大多数情况下)，还提供了格式化日期的简单方法！</p><p id="8009" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这绝不是使用MomentJS或Luxon的教程——请自行查阅它们的文档。我在这里的意图是指出，尽管这些库提供了处理JavaScript日期的简单方法，但它们并没有改变JS日期的工作方式，您仍然应该努力理解它们！</p><h1 id="8cc2" class="nc lf it bd lg nd ne nf lj ng nh ni lm jz nj ka lp kc nk kd ls kf nl kg lv nm bi translated">附录:ISO 8601入门(可选)</h1><p id="916d" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">记住，JavaScript日期的3种可能的输出格式是:</p><ol class=""><li id="138c" class="nx ny it kk b kl km ko kp kr nz kv oa kz ob ld oc od oe of bi translated">日期对象的原始值(数字)</li><li id="9cfa" class="nx ny it kk b kl og ko oh kr oi kv oj kz ok ld oc od oe of bi translated">ISO 8601(字符串)</li><li id="00bb" class="nx ny it kk b kl og ko oh kr oi kv oj kz ok ld oc od oe of bi translated">JavaScript标准格式(字符串)</li></ol><p id="ca08" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本附录中，我们将深入研究ISO 8601标准格式。</p></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><p id="c2c8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">就像UTC不是JavaScript特有的概念一样，ISO 8601也不是。</p><p id="4a96" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">T2是一种国际标准，有两种主要版本:</p><ol class=""><li id="f7d8" class="nx ny it kk b kl km ko kp kr nz kv oa kz ob ld oc od oe of bi translated">基础</li><li id="2bc6" class="nx ny it kk b kl og ko oh kr oi kv oj kz ok ld oc od oe of bi translated">延长</li></ol><p id="a687" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">JavaScript使用“扩展”变体，这仅仅意味着不同类型的值之间有分隔符。例如，让我们看看日期和时间的“基本”版本:</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="4e26" class="le lf it mg b gy mp mq l mr ms">20200930T000000.000Z</span></pre><p id="1478" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这代表世界协调时2020年9月30日午夜，使用ISO 8601标准的“基本”格式。但是可读性不是很好，JavaScript也不接受:</p><figure class="mh mi mj mk gt mv gh gi paragraph-image"><div class="gh gi pk"><img src="../Images/cd9815be9864f1c7a18393a5e0a6ce48.png" data-original-src="https://miro.medium.com/v2/resize:fit:494/format:webp/1*jmjTIfDMwp1EFjSaexGDZg.png"/></div></figure><p id="0857" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ISO 8601的“基本”和“扩展”变体之间的唯一区别是分隔符的使用。以下是“扩展”格式的相同日期:</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="14e4" class="le lf it mg b gy mp mq l mr ms">2020-09-30T00:00:00.000Z</span></pre><p id="3a5d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这种情况下，JavaScript认为它是有效的。结果是9月29日，因为我的浏览器正在将UTC(9月30日午夜)转换为EST(9月29日晚上8点)。它进行这种转换，因为我生活在美国东部时区(解释主要职位)。</p><figure class="mh mi mj mk gt mv gh gi paragraph-image"><div class="gh gi pl"><img src="../Images/e11e3d40b1e4407047577e97bf1ddfdf.png" data-original-src="https://miro.medium.com/v2/resize:fit:862/format:webp/1*b53GClwxrCMCLBiQ8h8KKQ.png"/></div></figure><p id="4b54" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是一些片段:</p><figure class="mh mi mj mk gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi pa"><img src="../Images/0ee4f93bddd4975672d2f3c57f7228dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f1Ye0uCRt1ziCG18sl74CQ.png"/></div></div><figcaption class="oo op gj gh gi oq or bd b be z dk translated">JavaScript ISO 8601格式</figcaption></figure><p id="5f33" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这大部分是不言自明的。<code class="fe md me mf mg b">YYYY</code>代表全年，<code class="fe md me mf mg b">MM</code>代表必要时用零填充的月份(即<code class="fe md me mf mg b">01</code>代表一月)，而<code class="fe md me mf mg b">DD</code>代表必要时用零填充的日子。</p><p id="ecd4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe md me mf mg b">T</code>仅仅是一个指示器，表明“我们将要输入时间值而不是日期值”。</p><p id="6114" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">同样，<code class="fe md me mf mg b">HH</code>、<code class="fe md me mf mg b">MM</code>、<code class="fe md me mf mg b">SS</code>和<code class="fe md me mf mg b">SSS</code>分别代表小时、分钟、秒和毫秒。</p><p id="2826" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe md me mf mg b">Z</code>代表UTC时区。每当你在你的ISO日期字符串的末尾加上那个<code class="fe md me mf mg b">Z</code>，你的日期将被解释为UTC时间。如果您关闭它，日期将被解释为当地时间。</p><p id="f3ac" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">关于ISO 8601琴弦，你需要知道的最后一件事是它们是有弹性的。你可以<em class="ol">降低</em>与他们的特异性。例如，以下所有ISO字符串都有效:</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="fc3e" class="le lf it mg b gy mp mq l mr ms">new Date('2020Z') // 2020-01-01T00:00:00.000Z<br/>new Date('2020-05Z') // 2020-05-01T00:00:00.000Z<br/>new Date('2020-05-10T00:00Z') // 2020-05-10T00:00:00.000Z</span></pre><p id="b160" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们删除<code class="fe md me mf mg b">Z</code>，日期仍然有效，但是它们被解释为当地时间(如果您现在不理解这一点，没关系，因为我们将在稍后详细介绍)</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="e79e" class="le lf it mg b gy mp mq l mr ms">// Adding the Z interprets dates as UTC time<br/>new Date('2020-05-10T00:00Z') // 2020-05-10T00:00:00.000Z</span><span id="70df" class="le lf it mg b gy mt mq l mr ms">// Dropping the Z interprets dates as local time<br/>new Date('2020-05-10T00:00') // 2020-05-10T04:00:00.000Z</span></pre><h1 id="1425" class="nc lf it bd lg nd ne nf lj ng nh ni lm jz nj ka lp kc nk kd ls kf nl kg lv nm bi translated">4000字之后…</h1><p id="9136" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">如果你在JavaScript约会上写了超过4000字的帖子，👏</p><p id="e31c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你想读一些更无聊的话题，比如JavaScript日期，这里有一些我写的:</p><p id="cdbf" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae mc" href="https://medium.com/javascript-in-plain-english/the-most-confusing-thing-in-javascript-the-this-keyword-3436f451fca" rel="noopener">JavaScript中最令人困惑的事情:</a> <code class="fe md me mf mg b"><a class="ae mc" href="https://medium.com/javascript-in-plain-english/the-most-confusing-thing-in-javascript-the-this-keyword-3436f451fca" rel="noopener">this</a></code> <a class="ae mc" href="https://medium.com/javascript-in-plain-english/the-most-confusing-thing-in-javascript-the-this-keyword-3436f451fca" rel="noopener">关键字</a></p><p id="a46c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae mc" href="https://medium.com/@zach.gollwitzer/understanding-ip-addresses-and-subnet-masks-d3083396799f" rel="noopener">了解IP地址和家庭网络</a></p></div></div>    
</body>
</html>