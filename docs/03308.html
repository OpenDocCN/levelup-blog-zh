<html>
<head>
<title>Magic Numbers and How to Fix them in Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">幻数以及如何在代码中修正它们</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/magic-numbers-820d2d570cc5?source=collection_archive---------9-----------------------#2020-05-01">https://levelup.gitconnected.com/magic-numbers-820d2d570cc5?source=collection_archive---------9-----------------------#2020-05-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/faafbe75a9bfa716efb2875bdcabe5b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*T-vBrxbhSSp2VFa3.jpg"/></div></div></figure><blockquote class="kb kc kd"><p id="273c" class="ke kf kg kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><em class="it">这是关于提高代码可读性的一系列短文的一部分</em></p></blockquote><p id="7ae3" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp ld kr ks kt le kv kw kx lf kz la lb lc im bi translated">在这篇短文中，我想讨论幻数的用法，它们是什么，以及不使用它们如何使阅读代码变得更容易！</p><p id="0973" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp ld kr ks kt le kv kw kx lf kz la lb lc im bi translated">首先，你可能会问一个神奇的数字是什么？它通常是一个直接使用的数字，不存储在变量中。</p><p id="82e6" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp ld kr ks kt le kv kw kx lf kz la lb lc im bi translated">一个简单的人为例子是:</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="fecb" class="lp lq it ll b gy lr ls l lt lu">const users = [{<br/>  name: 'Matt',<br/>  age: 30<br/>}, {<br/>  name: 'Austin',<br/>  age: 20<br/>}].filter(user =&gt; user.age &gt;= 21)</span></pre><p id="8af0" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp ld kr ks kt le kv kw kx lf kz la lb lc im bi translated">这看起来没那么糟糕，但是说这个<code class="fe lv lw lx ll b">21</code>数字被用在许多地方，并且在将来需要更新时，你需要在多个文件中找到所有需要更新的地方。将它存储为变量/常量，并在需要时导入，这使得更新更加容易。它还提高了可读性，因为变量名应该提供一些关于数字含义的上下文。</p><p id="a3b4" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp ld kr ks kt le kv kw kx lf kz la lb lc im bi translated">这可以重写为:</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="dd58" class="lp lq it ll b gy lr ls l lt lu">const { isOverDrinkingAge } = require('./constants')<br/><br/>const users = [{<br/>  name: 'Matt',<br/>  age: 30<br/>}, {<br/>  name: 'Austin',<br/>  age: 20<br/>}].filter(user =&gt; user.age &gt;= isOverDrinkingAge)</span></pre><p id="8e48" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp ld kr ks kt le kv kw kx lf kz la lb lc im bi translated">现在看看这个，您可以看到用户的数组现在只包含超过饮酒年龄的用户。</p><p id="4245" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp ld kr ks kt le kv kw kx lf kz la lb lc im bi translated">为了帮助你的项目保持一致性，我建议使用类似于<a class="ae ly" href="https://eslint.org/docs/rules/no-magic-numbers" rel="noopener ugc nofollow" target="_blank"> eslint </a>的东西，确保你启用了<code class="fe lv lw lx ll b">no-magic-numbers</code>规则。</p><p id="baa3" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp ld kr ks kt le kv kw kx lf kz la lb lc im bi translated">感谢阅读！</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><p id="3631" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp ld kr ks kt le kv kw kx lf kz la lb lc im bi translated"><em class="kg">最初发布于</em><a class="ae ly" href="https://mattchaffe.uk/posts/readable-code--magic-numbers" rel="noopener ugc nofollow" target="_blank"><em class="kg">https://mattchaffe . uk</em></a><em class="kg">。</em></p></div></div>    
</body>
</html>