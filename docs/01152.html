<html>
<head>
<title>Debugging JavaScript Apps with the Console Object</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用控制台对象调试JavaScript应用程序</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/debugging-javascript-apps-with-the-console-object-4c7ebe6810dc?source=collection_archive---------4-----------------------#2019-11-18">https://levelup.gitconnected.com/debugging-javascript-apps-with-the-console-object-4c7ebe6810dc?source=collection_archive---------4-----------------------#2019-11-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/05de22ee68e657e986952e90e1837ab7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*a1XOFgizYKomcdYh"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">Jeffrey Buchbinder 在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="23ce" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">JavaScript内置了很棒的调试工具。一种简单但强大的调试方法是使用<code class="fe le lf lg lh b">console</code>对象。这个对象有许多方法，允许我们在任何给定的时间检查程序的状态。<code class="fe le lf lg lh b">console</code>如何工作的细节因浏览器而异，但是在大多数流行的浏览器中,<code class="fe le lf lg lh b">console</code>对象已经标准化了。</p><h1 id="1172" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">控制台方法</h1><p id="1067" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated"><code class="fe le lf lg lh b">console</code>对象是一个全局对象。它是大多数浏览器中<code class="fe le lf lg lh b">window</code>的属性，可以通过<code class="fe le lf lg lh b">window.console</code>或简单的<code class="fe le lf lg lh b">console</code>来引用。<code class="fe le lf lg lh b">console</code>对象有以下方法:</p><ul class=""><li id="8cb7" class="ml mm it ki b kj kk kn ko kr mn kv mo kz mp ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">console.assert(boolStatement, message)</code>如果第一个参数是<code class="fe le lf lg lh b">false</code>，则将消息和堆栈跟踪记录到控制台。</li><li id="0f7f" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">console.clear()</code>清空控制台。</li><li id="ea3d" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">console.count(label)</code>用给定的标签记录该方法被调用的次数。</li><li id="4f55" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">console.countReset()</code>重置给定标签的计数器值。</li><li id="6d5a" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">console.debug(message)</code>用日志级别“调试”将消息记录到控制台。</li><li id="6822" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">console.dir(obj)</code>列出给定JavaScript对象的属性。内容将有三角形来显示子对象的内容。</li><li id="5904" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">console.dirxml(obj)</code>如果可能，显示对象的HTML或XML表示。</li><li id="854f" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">console.error(message)</code>将错误信息记录到控制台。我们可以使用字符串替换和附加参数来格式化日志消息。</li><li id="233c" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">console.group()</code>创建一组控制台消息，按级别缩进。我们可以用<code class="fe le lf lg lh b">groupEnd()</code>移出一个关卡。</li><li id="8e09" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">console.groupCollapsed()</code>创建一组控制台消息，按项目折叠的级别缩进。我们可以用<code class="fe le lf lg lh b">groupEnd()</code>走出一个关卡</li><li id="1cf0" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">console.groupEnd()</code>退出当前内联组。</li><li id="4761" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">console.info(message)</code>记录信息性消息。我们可以使用字符串替换和附加参数来格式化日志消息。</li><li id="66d7" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">console.log(message)</code>用于信息的一般记录。我们可以使用字符串替换和附加参数来格式化日志消息。</li><li id="156d" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">console.table()</code>以表格形式记录和显示数据。</li><li id="4316" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">console.time(name)</code>以参数中指定的名称启动定时器。在给定的页面上可以同时运行10000个计时器。</li><li id="4d57" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">console.timeEnd(name)</code>停止指定的计时器，并以秒为单位记录它启动后所经过的时间。</li><li id="91dc" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">console.timeLog()</code>将指定定时器的值记录到控制台。</li><li id="e1a9" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">console.trace()</code>记录堆栈跟踪。</li><li id="c5c3" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">console.warn(message)</code>向控制台记录一条警告消息。我们可以使用字符串替换和附加参数来格式化日志消息。</li></ul><h1 id="15fa" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">不同级别的日志记录</h1><p id="e703" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">记录数据是<code class="fe le lf lg lh b">console</code>对象最常见的用途。为此，我们可以使用<code class="fe le lf lg lh b">console.log()</code>、<code class="fe le lf lg lh b">console.info()</code>、<code class="fe le lf lg lh b">console.warn()</code>或<code class="fe le lf lg lh b">console.error()</code>，这取决于您正在记录的信息类型。它们都有不同的风格。</p><p id="f5a2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">console.error()</code>在Chrome中使用红色背景，<code class="fe le lf lg lh b">console.warn()</code>在Chrome中使用黄色背景，<code class="fe le lf lg lh b">console.log()</code>在Chrome中没有特殊背景。</p><p id="7f6d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以向它们传递任何JavaScript数据。例如，我们可以这样写:</p><pre class="mz na nb nc gt nd lh ne nf aw ng bi"><span id="8eda" class="nh lj it lh b gy ni nj l nk nl">const obj = {a: 1, b: 2, c:3};<br/>const message = { message: 'Error occurred' };</span><span id="066f" class="nh lj it lh b gy nm nj l nk nl">console.log(obj);<br/>console.info('Info logged', 123); <br/>console.warn('Warning logged');<br/>console.error('Error', message);</span></pre><p id="a90b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果文运行上面的代码，我们会得到这样的结果:</p><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nn"><img src="../Images/59dcfd04eed0fb324965622090a582ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GFey9TjFhjsVkNeyRNdqcw.png"/></div></div></figure><p id="5beb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以在一行中输出任意多的内容，因为<code class="fe le lf lg lh b">console.log()</code>、<code class="fe le lf lg lh b">console.info()</code>、<code class="fe le lf lg lh b">console.warn()</code>或<code class="fe le lf lg lh b">console.error()</code>方法都可以接受多个参数。所以我们可以这样写:</p><pre class="mz na nb nc gt nd lh ne nf aw ng bi"><span id="ae5d" class="nh lj it lh b gy ni nj l nk nl">const obj = {<br/>  a: 1,<br/>  b: 2,<br/>  c: 3<br/>};<br/>const message = {<br/>  message: 'Error occurred'<br/>};<br/>console.log(obj, obj, message);<br/>console.info('Info logged', 123, obj, message);<br/>console.warn('Warning logged', obj, message);<br/>console.error('Error', obj, message);</span></pre><p id="d544" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一切都会被记录下来。我们记录了以下内容:</p><pre class="mz na nb nc gt nd lh ne nf aw ng bi"><span id="0ccc" class="nh lj it lh b gy ni nj l nk nl">{a: 1, b: 2, c: 3} {a: 1, b: 2, c: 3} {message: "Error occurred"}</span><span id="faea" class="nh lj it lh b gy nm nj l nk nl">Info logged 123 {a: 1, b: 2, c: 3} {message: "Error occurred"}</span><span id="c5cc" class="nh lj it lh b gy nm nj l nk nl">Warning logged {a: 1, b: 2, c: 3} {message: "Error occurred"}</span><span id="4bf2" class="nh lj it lh b gy nm nj l nk nl">Error {a: 1, b: 2, c: 3} {message: "Error occurred"}</span></pre><h1 id="5420" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">字符串替换</h1><p id="5d4a" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">通过字符串替换，我们可以用一种更容易阅读的方式来格式化我们的控制台。它的工作原理是将字符串中的占位符替换为传入字符串右侧的参数。以下占位符可用于字符串替换:</p><ul class=""><li id="efce" class="ml mm it ki b kj kk kn ko kr mn kv mo kz mp ld mq mr ms mt bi translated">这个占位符将被一个JavaScript对象替换。当您在控制台中单击对象时，可以单击对象名称来获取有关该对象的更多数据。</li><li id="f196" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">%d</code>或<code class="fe le lf lg lh b">%i</code>该占位符将被替换为整数。我们可以使用这个占位符来格式化数字。我们可以编写类似于<code class="fe le lf lg lh b">%.3d</code>的代码，将数字四舍五入到3位有效数字，并以0开头。</li><li id="a6b0" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">%s</code>该占位符将被替换为字符串</li><li id="6bbc" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">%f</code>该占位符将被替换为浮点值。我们可以使用这个占位符来格式化数字。我们可以编写类似于<code class="fe le lf lg lh b">%.3d</code>的代码，将数字四舍五入到3位有效数字，并以0开头。</li></ul><pre class="mz na nb nc gt nd lh ne nf aw ng bi"><span id="5757" class="nh lj it lh b gy ni nj l nk nl">const obj = {<br/>  a: 1,<br/>  b: 2,<br/>  c: 3<br/>};<br/>const message = {<br/>  message: 'Error occurred'<br/>};<br/>console.log('Object %o', obj);<br/>console.info('Number is %.3d', 123.456);<br/>console.warn('Warning: number is: %.3d', 123.456);<br/>console.error('Error - Error is %o. Error message is %s', message, message.message);</span></pre><p id="7030" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们运行上面的代码，只要有<code class="fe le lf lg lh b">%o</code>占位符并记录一个对象，我们就可以点击三角形来查看更多数据。每当我们有一个带数字的<code class="fe le lf lg lh b">%.3d</code>时，我们会看到参数中的数字四舍五入到3位有效数字。弦留为弦。</p><h1 id="ed66" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">设计消息</h1><p id="17e3" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">控制台消息也可以使用带有<code class="fe le lf lg lh b">%c</code>指令的CSS样式。在<code class="fe le lf lg lh b">%c</code>指令之后的任何文本都将使用指定的样式。我们将带有<code class="fe le lf lg lh b">%c</code>指令的字符串作为第一个参数，将带有样式的字符串作为第二个参数。例如，我们可以写:</p><pre class="mz na nb nc gt nd lh ne nf aw ng bi"><span id="2957" class="nh lj it lh b gy ni nj l nk nl">console.log("This is a %cMy colorful message", "color: lightgreen; font-style: italic; background-color: black;padding: 2px");</span></pre><p id="753f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后在控制台中，我们将看到以下内容:</p><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nn"><img src="../Images/03f7258fe52f18c76d6326c5ce4c6e4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8OwfaZxAfXAFP0UH0-N7AQ.png"/></div></div></figure><p id="e684" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">样式字符串中允许使用以下语法:</p><ul class=""><li id="c5f2" class="ml mm it ki b kj kk kn ko kr mn kv mo kz mp ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">background</code>及其等同的手写本。注意<code class="fe le lf lg lh b">background-image</code>似乎在Firefox中不起作用，尽管它在Chrome中确实起作用。</li><li id="c1e6" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">border</code>及其等同的手写</li><li id="1368" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">border-radius</code></li><li id="1aa4" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">box-decoration-break</code></li><li id="7318" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">box-shadow</code></li><li id="9cfc" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">clear</code>和<code class="fe le lf lg lh b">float</code></li><li id="c0e2" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">color</code></li><li id="33df" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">cursor</code></li><li id="62b6" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">display</code></li><li id="f3e6" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">font</code>及其正楷等价物</li><li id="7c15" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">line-height</code></li><li id="d3f3" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">margin</code></li><li id="37d1" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">outline</code>及其正楷等价物</li><li id="72e0" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">padding</code></li><li id="3e62" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">text-*</code>等属性<code class="fe le lf lg lh b">text-transform</code></li><li id="825d" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">white-space</code></li><li id="c4f6" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">word-spacing</code>和<code class="fe le lf lg lh b">word-break</code></li><li id="03ee" class="ml mm it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated"><code class="fe le lf lg lh b">writing-mode</code></li></ul><h1 id="ec6f" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">控制台分组</h1><p id="6585" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">我们可以通过使用<code class="fe le lf lg lh b">console.group()</code>创建组和使用<code class="fe le lf lg lh b">console.groupEnd()</code>方法结束组来对控制台输出进行分组。<code class="fe le lf lg lh b">console.groupCollapsed()</code>方法类似于<code class="fe le lf lg lh b">console.group()</code>方法，但会创建一个折叠组。要查看折叠组的输出，可以单击三角形按钮打开输出。例如，我们可以使用以下代码创建多个控制台日志组:</p><pre class="mz na nb nc gt nd lh ne nf aw ng bi"><span id="202a" class="nh lj it lh b gy ni nj l nk nl">console.log("Outer level");</span><span id="97d5" class="nh lj it lh b gy nm nj l nk nl">console.group("Group 1");<br/>console.log("Message in group 1");</span><span id="a980" class="nh lj it lh b gy nm nj l nk nl">console.group("Group 2");<br/>console.log("Message in group 2");</span><span id="7f63" class="nh lj it lh b gy nm nj l nk nl">console.group("Group 3");<br/>console.log("Message in group 3");</span><span id="3d7d" class="nh lj it lh b gy nm nj l nk nl">console.group("Group 4");<br/>console.log("Message in group 4");<br/>console.groupEnd();</span><span id="4eae" class="nh lj it lh b gy nm nj l nk nl">console.groupEnd();</span><span id="4612" class="nh lj it lh b gy nm nj l nk nl">console.groupEnd();</span><span id="4e89" class="nh lj it lh b gy nm nj l nk nl">console.log("Back in group 3");<br/>console.groupEnd();</span><span id="ff00" class="nh lj it lh b gy nm nj l nk nl">console.log("Back in group 2");</span></pre><p id="780a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一旦我们运行上面的代码，我们就会在Chrome中看到下面的屏幕:</p><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nn"><img src="../Images/47cd181d871619edcb1384625eaa6d2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*spdE8Y4jwdX6SZhD8-cINQ.png"/></div></div></figure><h1 id="fd0c" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">找出某物运行需要多长时间</h1><p id="32c8" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">为了计算一些代码运行所需的时间，我们可以使用控制台计时器对象。我们可以使用<code class="fe le lf lg lh b">console.time()</code>方法启动一个定时器，用一个字符串作为定时器的标签。然后，您可以调用<code class="fe le lf lg lh b">console.timeLog()</code>来记录计时器运行的时间，并调用<code class="fe le lf lg lh b">console.timeEnd()</code>来结束计时器。例如，我们可以编写以下代码来查看循环在元素中循环的时间:</p><pre class="mz na nb nc gt nd lh ne nf aw ng bi"><span id="c463" class="nh lj it lh b gy ni nj l nk nl">const arr = Array.from({<br/>  length: 5<br/>}, (v, i) =&gt; i);</span><span id="ae56" class="nh lj it lh b gy nm nj l nk nl">(async () =&gt; {<br/>  console.time("loop time");<br/>  for await (let i of arr) {<br/>    console.log(i)<br/>    console.timeLog("loop time");<br/>    await new Promise((resolve, reject) =&gt; setTimeout(() =&gt; resolve(i), 1000))<br/>  }<br/>  console.timeEnd("loop time");<br/>})();</span></pre><p id="7c78" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当我们运行上面的代码时，我们会看到如下内容:</p><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nn"><img src="../Images/143cff37ad0fc2844df6bc88963ac5f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zqVrAHDoZha9rFxwRQPo3Q.png"/></div></div></figure><p id="0c43" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以同时设置多个计时器，如下面的代码所示:</p><pre class="mz na nb nc gt nd lh ne nf aw ng bi"><span id="a73e" class="nh lj it lh b gy ni nj l nk nl">const arr = Array.from({<br/>  length: 5<br/>}, (v, i) =&gt; i);</span><span id="9a5c" class="nh lj it lh b gy nm nj l nk nl">const arr2 = Array.from({<br/>  length: 10<br/>}, (v, i) =&gt; i);</span><span id="d759" class="nh lj it lh b gy nm nj l nk nl">const asyncLoop1 = async () =&gt; {<br/>  console.time("loop time");<br/>  for await (let i of arr) {<br/>    console.log(i)<br/>    console.timeLog("loop time");<br/>    await new Promise((resolve, reject) =&gt; setTimeout(() =&gt; resolve(i), 1000))<br/>  }<br/>  console.timeEnd("loop time");<br/>}</span><span id="5a56" class="nh lj it lh b gy nm nj l nk nl">const asyncLoop2 = async () =&gt; {<br/>  console.time("loop time 2");<br/>  for await (let i of arr2) {<br/>    console.log(i)<br/>    console.timeLog("loop time 2");<br/>    await new Promise((resolve, reject) =&gt; setTimeout(() =&gt; resolve(i), 1000))<br/>  }<br/>  console.timeEnd("loop time 2");<br/>}</span><span id="291e" class="nh lj it lh b gy nm nj l nk nl">(async () =&gt; {<br/>  await asyncLoop1();<br/>  await asyncLoop2();<br/>})()</span></pre><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nn"><img src="../Images/5e40fd2b51caaf5d7517ea996e692081.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F58FYuZWMCUAjN_PZVm0Mw.png"/></div></div></figure><p id="72ba" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果两个定时器有不同的名字，那么它们就是两个不同的定时器。每个定时器的运行时间将被单独记录。它们可以同时运行，如下面的代码所示:</p><pre class="mz na nb nc gt nd lh ne nf aw ng bi"><span id="7424" class="nh lj it lh b gy ni nj l nk nl">const arr = Array.from({<br/>  length: 5<br/>}, (v, i) =&gt; i);</span><span id="af5f" class="nh lj it lh b gy nm nj l nk nl">const arr2 = Array.from({<br/>  length: 10<br/>}, (v, i) =&gt; i);</span><span id="668a" class="nh lj it lh b gy nm nj l nk nl">const asyncLoop1 = async () =&gt; {<br/>  console.time("loop time");<br/>  for await (let i of arr) {<br/>    console.log(i)<br/>    console.timeLog("loop time");<br/>    await new Promise((resolve, reject) =&gt; setTimeout(() =&gt; resolve(i), 1000))<br/>  }<br/>  console.timeEnd("loop time");<br/>}</span><span id="b913" class="nh lj it lh b gy nm nj l nk nl">const asyncLoop2 = async () =&gt; {<br/>  console.time("loop time 2");<br/>  for await (let i of arr2) {<br/>    console.log(i)<br/>    console.timeLog("loop time 2");<br/>    await new Promise((resolve, reject) =&gt; setTimeout(() =&gt; resolve(i), 1000))<br/>  }<br/>  console.timeEnd("loop time 2");<br/>}</span><span id="ebb2" class="nh lj it lh b gy nm nj l nk nl">asyncLoop1();<br/>asyncLoop2();</span></pre><p id="e9d5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们看到这两个计时器同时来自控制台的日志:</p><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nn"><img src="../Images/7154d27c7c7341bd7cbad9470ac07093.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*viCWmXZtuOTjZkII5uD1KA.png"/></div></div></figure><h1 id="6a0b" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">日志堆栈跟踪</h1><p id="9535" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">我们还可以用<code class="fe le lf lg lh b">console.trace()</code>方法记录函数调用的堆栈跟踪。我们只要把它放在我们想要得到堆栈跟踪的函数中，就可以得到整个函数调用链。例如，我们可以写:</p><pre class="mz na nb nc gt nd lh ne nf aw ng bi"><span id="e368" class="nh lj it lh b gy ni nj l nk nl">const a = () =&gt; console.trace()<br/>const b = () =&gt; a()<br/>const c = () =&gt; b()<br/>const d = () =&gt; c()<br/>const e = () =&gt; d()</span><span id="26d5" class="nh lj it lh b gy nm nj l nk nl">e();</span></pre><p id="ce17" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们得到:</p><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nn"><img src="../Images/6edc96666bc7dbe28589815c50c6f6f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b0IQbMSAzyo7-wXzzSdZAw.png"/></div></div></figure><h1 id="582d" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">在表中记录对象和数组值</h1><p id="f722" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">当我们记录对象时，为了在表格中显示日志数据，我们可以使用<code class="fe le lf lg lh b">console.table</code>命令。它对对象和数组都有效。对于对象，如果对象有两层，它将记录行和列中的属性。例如，如果我们有:</p><pre class="mz na nb nc gt nd lh ne nf aw ng bi"><span id="ed02" class="nh lj it lh b gy ni nj l nk nl">const family = {<br/>  son: {<br/>    firstName: 'John',<br/>    lastName: 'Jones'<br/>  },<br/>  daughter: {<br/>    firstName: 'Jane',<br/>    lastName: 'Jones'<br/>  }<br/>}</span><span id="19be" class="nh lj it lh b gy nm nj l nk nl">console.table(family)</span></pre><p id="47f1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们得到:</p><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nn"><img src="../Images/fb8d8ed34ee90c8d8cb99f5f1cad5311.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1BcwwcP4MtIfmlEK7W-Npg.png"/></div></div></figure><p id="b649" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们有一个单一级别的对象，那么我们得到的键在左边，值在右边。例如，如果我们运行:</p><pre class="mz na nb nc gt nd lh ne nf aw ng bi"><span id="2a2e" class="nh lj it lh b gy ni nj l nk nl">const son = {<br/>  firstName: 'John',<br/>  lastName: 'Jones'<br/>}</span><span id="ee54" class="nh lj it lh b gy nm nj l nk nl">console.table(son)</span></pre><p id="8e1e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们得到:</p><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nn"><img src="../Images/7a454c068069ed05c18f80b1bb602ddc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PTWJMjrOmqMJcCCfLvJwFg.png"/></div></div></figure><p id="7d5e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">console.table()</code>也适用于数组。我们可以用它来记录一维和二维数组。对于一维数组，左边是数组的索引，右边是数组的值。例如，如果我们有:</p><pre class="mz na nb nc gt nd lh ne nf aw ng bi"><span id="116b" class="nh lj it lh b gy ni nj l nk nl">const arr = [1, 2, 3];<br/>console.table(arr)</span></pre><p id="dbe6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们得到:</p><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nn"><img src="../Images/313dc717df02399936ebf36d3b5bf3b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J3Yc0l8kGUDmtE9H1vv85g.png"/></div></div></figure><p id="c64b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们已经使用<code class="fe le lf lg lh b">console.table()</code>来记录一个二维数组，我们将在左边得到顶层数组的索引，在表的顶部得到嵌套数组的索引，以及表中每个条目的值。例如，如果我们有:</p><pre class="mz na nb nc gt nd lh ne nf aw ng bi"><span id="dd9b" class="nh lj it lh b gy ni nj l nk nl">const arr = [<br/>  ['a', 1],<br/>  ['b', 2],<br/>  ['c', 3]<br/>];<br/>console.table(arr);</span></pre><p id="b09f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们得到:</p><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nn"><img src="../Images/cadf64473a8772c833d4e8b9fb7ec8f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gXkFMSeC8iR5SMnhLwKygA.png"/></div></div></figure><p id="40e5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">console.table()</code>方法有第二个参数，通过用我们想要显示的对象的键或我们想要记录的数组的索引设置一个数组来限制显示的列。这只适用于两层深度的嵌套对象。例如，我们可以写:</p><pre class="mz na nb nc gt nd lh ne nf aw ng bi"><span id="5728" class="nh lj it lh b gy ni nj l nk nl">const family = {<br/>  son: {<br/>    firstName: 'John',<br/>    lastName: 'Jones'<br/>  },<br/>  daughter: {<br/>    firstName: 'Jane',<br/>    lastName: 'Jones'<br/>  }<br/>}<br/>console.table(family, ['firstName'])</span></pre><p id="2e18" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们只得到显示的<code class="fe le lf lg lh b">firstName</code>列和相应的值。这只适用于嵌套对象的第二级属性。</p><p id="7b8f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正如我们所见，<code class="fe le lf lg lh b">console</code>对象对于在我们的JavaScript程序中记录数据非常有用。我们可以使用<code class="fe le lf lg lh b">console.log()</code>、<code class="fe le lf lg lh b">console.info()</code>、<code class="fe le lf lg lh b">console.warn()</code>和<code class="fe le lf lg lh b">console.error()</code>方法进行不同级别的日志记录。我们可以用<code class="fe le lf lg lh b">console.table()</code>在一个表中显示对象和数组。我们可以看到用<code class="fe le lf lg lh b">console.time()</code>和相关方法运行代码需要多长时间，我们可以用<code class="fe le lf lg lh b">console.group()</code>和相关方法对消息进行分组。</p></div></div>    
</body>
</html>