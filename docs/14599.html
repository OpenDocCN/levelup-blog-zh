<html>
<head>
<title>Quines: Usage and Best Practices</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">奎因:用法和最佳实践</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/quines-usage-and-best-practices-41e988ae6894?source=collection_archive---------4-----------------------#2022-12-10">https://levelup.gitconnected.com/quines-usage-and-best-practices-41e988ae6894?source=collection_archive---------4-----------------------#2022-12-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="20bd" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">编程；编排</h2><div class=""/><div class=""><h2 id="f4dc" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">使用ES6 JavaScript探索Quines！</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/acf2bcfd2c4bd64425f1bb8ef6b68d90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gFvHUNH3yZP1hZqu"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated"><a class="ae le" href="https://unsplash.com/fr/@claybanks?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">粘土银行</a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><p id="2039" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">quine是一种计算机程序，它不接受任何输入，只生成自己源代码的副本作为唯一输出。“蒯因”一词是数学家兼哲学家威拉德·范·奥曼·奎因根据“查询”一词创造的。</p><p id="b3aa" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">蒯因的概念可以追溯到20世纪50年代，当时数学家道格拉斯·霍夫施塔特(Douglas Hofstadter)写了一本名为《哥德尔、埃舍尔、巴赫:一条永恒的金色辫子》的书，他在书中引入了自指句的思想。这个想法后来被奎因扩展，他用它来描述一个产生自己的源代码作为输出的程序。</p><p id="4510" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">第一个已知的奎因是由程序员和逻辑学家J. H. Conway在20世纪60年代早期写的。它是一个简短的自引用程序，用LISP编程语言编写，简单地输出自己源代码的副本。从那以后，quines被写成了许多不同的编程语言，它们已经成为计算机科学家和程序员之间的热门研究课题。</p><p id="576c" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">奎因经常被认为是对程序员的挑战，因为他们需要一定程度的创造力和独创性来创造。一些最复杂的查询是那些能够生成自己的源代码的多个副本的查询，或者那些使用编程语言的高级功能来产生其输出的查询。</p><h2 id="4f7c" class="mb mc iq bd md me mf dn mg mh mi dp mj lo mk ml mm ls mn mo mp lw mq mr ms iw bi translated">用ES6 JavaScript写的例子</h2><ol class=""><li id="1a46" class="mt mu iq lh b li mv ll mw lo mx ls my lw mz ma na nb nc nd bi translated">第一个示例使用ES6模板字符串语法输出自己的源代码:</li></ol><pre class="kp kq kr ks gt ne nf ng bn nh ni bi"><span id="3935" class="nj mc iq nf b be nk nl l nm nn">const quine = () =&gt; {<br/>  const src = `const quine = () =&gt; {<br/>    const src = \`${src}\`;<br/>    return src;<br/>  }`;<br/>  return src;<br/>}<br/><br/>console.log(quine());</span></pre><p id="a2b3" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">2.第二个查询使用ES6扩展操作符创建自己源代码的副本:</p><pre class="kp kq kr ks gt ne nf ng bn nh ni bi"><span id="06e8" class="nj mc iq nf b be nk nl l nm nn">const quine = () =&gt; {<br/>  const arr = [...arr, ...arr];<br/>  return arr.join("\n");<br/>}<br/><br/>console.log(quine());</span></pre><p id="452c" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">3.第三个quine使用ES6映射函数创建其自己源代码的多个副本:</p><pre class="kp kq kr ks gt ne nf ng bn nh ni bi"><span id="1427" class="nj mc iq nf b be nk nl l nm nn">const quine = () =&gt; {<br/>  const src = `const quine = () =&gt; {<br/>    const src = \`${src}\`;<br/>    return src;<br/>  }`;<br/>  return [...Array(5)].map(() =&gt; src).join("\n\n");<br/>} <br/><br/>console.log(quine());</span></pre><p id="932e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">4.第四个quine使用ES6 reduce函数连接自己源代码的多个副本:</p><pre class="kp kq kr ks gt ne nf ng bn nh ni bi"><span id="6415" class="nj mc iq nf b be nk nl l nm nn">const quine = () =&gt; {<br/>  const src = `const quine = () =&gt; {<br/>    const src = \`${src}\`;<br/>    return src;<br/>  }`;<br/>  return [...Array(5)].reduce((acc, _) =&gt; acc + "\n\n" + src, "");<br/>}<br/><br/>console.log(quine());<br/></span></pre><p id="fa8d" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">5.最后一个示例使用ES6 <em class="no"> String.raw </em>方法以最小的转义输出自己的源代码:</p><pre class="kp kq kr ks gt ne nf ng bn nh ni bi"><span id="90e0" class="nj mc iq nf b be nk nl l nm nn">const quine = () =&gt; {<br/>  const src = String.raw`const quine = () =&gt; {<br/>    const src = \`${src}\`;<br/>    return src;<br/>  }`;<br/>  return src;<br/>}<br/><br/>console.log(quine());<br/></span></pre><p id="ced0" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这些例子展示了使用ES6 JavaScript的高级特性编写查询的创造性方法。无论是作为编程挑战还是作为代码生成工具，quines都继续吸引和激励着计算机科学家和程序员。</p><h2 id="5d82" class="mb mc iq bd md me mf dn mg mh mi dp mj lo mk ml mm ls mn mo mp lw mq mr ms iw bi translated">在ES6 JavaScript中使用quines时要考虑的最佳实践:</h2><ol class=""><li id="e2c6" class="mt mu iq lh b li mv ll mw lo mx ls my lw mz ma na nb nc nd bi translated">避免使用<code class="fe np nq nr nf b">eval</code>或新函数来评估查询的输出，因为这可能会引入安全漏洞。相反，使用内置的JavaScript方法来执行代码，比如沙盒环境中的<code class="fe np nq nr nf b">Function.prototype.call</code>或<code class="fe np nq nr nf b">eval</code>函数。</li><li id="6301" class="mt mu iq lh b li ns ll nt lo nu ls nv lw nw ma na nb nc nd bi translated">请注意使用quine生成和执行大量代码的性能影响。Quines可以快速生成大量源代码，这会影响程序的性能。</li><li id="ffd8" class="mt mu iq lh b li ns ll nt lo nu ls nv lw nw ma na nb nc nd bi translated">在源代码中使用注释来清楚地解释quine是如何工作的，并为理解代码提供任何必要的上下文。这可以帮助其他正在阅读和使用quine的程序员。</li><li id="ba23" class="mt mu iq lh b li ns ll nt lo nu ls nv lw nw ma na nb nc nd bi translated">避免在quine中使用全局变量或改变现有变量，因为这可能导致不可预测的行为，并使代码难以理解。相反，使用函数式编程技术和局部变量来确保查询是结构良好且可预测的。</li><li id="f0f2" class="mt mu iq lh b li ns ll nt lo nu ls nv lw nw ma na nb nc nd bi translated">彻底测试quine，以确保它生成了预期的输出，并且生成的代码是正确且格式良好的。这有助于防止quine中的任何错误，并确保它是可靠和值得信赖的。</li><li id="2521" class="mt mu iq lh b li ns ll nt lo nu ls nv lw nw ma na nb nc nd bi translated">下面是一个遵循这些最佳实践的结构良好的奎因的示例:</li></ol><pre class="kp kq kr ks gt ne nf ng bn nh ni bi"><span id="8327" class="nj mc iq nf b be nk nl l nm nn">const quine = () =&gt; {<br/>  // Use a local variable to store the source code of the quine<br/>  const src = `const quine = () =&gt; {<br/>    // Use a local variable to store the source code of the quine<br/>    const src = \`${src}\`;<br/>    return src;<br/>  }`;<br/><br/>  // Use the Function constructor to create a new function from the source code<br/>  // of the quine, and return the result of calling that function<br/>  return new Function(src)();<br/>}<br/><br/>console.log(quine());</span></pre><p id="d0cb" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这个查询使用一个局部变量来存储查询的源代码，并使用函数构造器以安全和可预测的方式执行生成的代码。它注释良好，易于理解，是在ES6 JavaScript中使用quines的最佳实践的好例子。</p></div><div class="ab cl nx ny hu nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="ij ik il im in"><h1 id="49a9" class="oe mc iq bd md of og oh mg oi oj ok mj kf ol kg mm ki om kj mp kl on km ms oo bi translated">分级编码</h1><p id="2105" class="pw-post-body-paragraph lf lg iq lh b li mv ka lk ll mw kd ln lo op lq lr ls oq lu lv lw or ly lz ma ij bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="479b" class="mt mu iq lh b li lj ll lm lo os ls ot lw ou ma ov nb nc nd bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="ebd2" class="mt mu iq lh b li ns ll nt lo nu ls nv lw nw ma ov nb nc nd bi translated">📰查看<a class="ae le" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">级编码出版物</a>中的更多内容</li><li id="6ca8" class="mt mu iq lh b li ns ll nt lo nu ls nv lw nw ma ov nb nc nd bi translated">🔔关注我们:<a class="ae le" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">推特</a> | <a class="ae le" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a> | <a class="ae le" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="5819" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">🚀👉<a class="ae le" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="lh ja">加入升级人才集体，找到一份惊艳的工作</strong> </a></p></div></div>    
</body>
</html>