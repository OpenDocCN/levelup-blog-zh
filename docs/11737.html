<html>
<head>
<title>Serverless Architecture Layers 🚀</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">无服务器架构层🚀</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/serverless-architecture-layers-a9dc50e9b342?source=collection_archive---------1-----------------------#2022-04-12">https://levelup.gitconnected.com/serverless-architecture-layers-a9dc50e9b342?source=collection_archive---------1-----------------------#2022-04-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/822cfc03d4ad2f207341c0a6e53dd1af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mvyPYL2hG_Kty5e2dv7T0Q.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">威利安·贾斯登·德·瓦斯康塞洛斯在<a class="ae jd" href="https://unsplash.com/s/photos/moutain-layers?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><div class=""/><div class=""><h2 id="19f0" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">受Eric Evans伟大作品的启发，我如何以及为什么认为企业组织应该使用具有五个无服务器架构层的领域驱动设计。我们将通过一个使用架构层的虚构公司，用视觉和描述来进行讨论。</h2></div><h1 id="99f3" class="kv kw jg bd kx ky kz la lb lc ld le lf km lg kn lh kp li kq lj ks lk kt ll lm bi translated">内容</h1><p id="152f" class="pw-post-body-paragraph ln lo jg lp b lq lr kh ls lt lu kk lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">⚪体验层<br/> ⚪横切层<br/> ⚪领域层<br/> ⚪数据层<br/> ⚪平台层</p><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mj"><img src="../Images/1247c56454a7b7a23a24d9d76285d115.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IAeN-8jJdDeXNBpAkuh_ug.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">无服务器的五个架构层的示例</figcaption></figure></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><h1 id="07cc" class="kv kw jg bd kx ky mv la lb lc mw le lf km mx kn lh kp my kq lj ks mz kt ll lm bi translated">介绍</h1><p id="dd0f" class="pw-post-body-paragraph ln lo jg lp b lq lr kh ls lt lu kk lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">在无服务器世界的企业架构中，我们必须从概念上和整体上考虑我们的整体解决方案，将其作为一组模式、模板和防护栏，以确保我们不会以一个贫血的<a class="ae jd" href="https://www.thoughtworks.com/en-gb/radar/techniques/lambda-pinball" rel="noopener ugc nofollow" target="_blank"> lambda弹球架构</a>而告终，随着时间的推移，它会变成一个大泥球，很可能是一个具有大量重复业务逻辑和浪费团队努力的分布式整体。(<em class="na">如下图</em>)</p><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nb"><img src="../Images/45cdbbf9ef45d814fe689de9bebc0d8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9SSUAfDBHKCcKmT88lmW7Q.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">无服务器弹球架构和无服务器转换项目中的大球泥</figcaption></figure><blockquote class="nc"><p id="9064" class="nd ne jg bd nf ng nh ni nj nk nl mi dk translated">“Lambda弹球架构的特点是，当请求在越来越复杂的云服务图表中来回跳动时，会忽略Lambda、桶和队列的复杂网络中的重要领域逻辑。”—思想工作</p></blockquote><p id="18aa" class="pw-post-body-paragraph ln lo jg lp b lq nm kh ls lt nn kk lv lw no ly lz ma np mc md me nq mg mh mi ij bi translated">这很容易发生，因为企业组织开始了他们的无服务器转型，随着时间的推移，许多新团队在他们自己的筒仓中开发新的解决方案，这很快就可以推断出来，因为许多组织也是全球性的，地理上是分布式的。将此与<a class="ae jd" href="https://www.thoughtworks.com/insights/articles/demystifying-conways-law" rel="noopener ugc nofollow" target="_blank">康韦法则</a>结合起来，我们可以很快大规模地解决大问题和大规模返工。</p><p id="dfbd" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">本文讨论分层架构，Eric Evans在《领域驱动设计》一书中突出了这一点。(<em class="na">我鼓励所有架构师和无服务器开发人员购买这本书</em>)，以及这对于企业的无服务器范例意味着什么。</p><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nw"><img src="../Images/9c490361653ecdaa8c824e3993d5bd44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z7XooSUeYqprARuYLYnEgg.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">领域驱动的设计——Eric Evans:<a class="ae jd" href="https://tinyurl.com/rs7jap5r" rel="noopener ugc nofollow" target="_blank">https://tinyurl.com/rs7jap5r</a></figcaption></figure><p id="abcd" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">说到企业组织中的无服务器世界，我相信它看起来更像下图，其中显示了"<strong class="lp jh">五个无服务器架构层</strong>":</p><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mj"><img src="../Images/1247c56454a7b7a23a24d9d76285d115.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IAeN-8jJdDeXNBpAkuh_ug.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">无服务器的五个架构层的示例</figcaption></figure><p id="ebd2" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">以下几层跨越了旧世界和新的无服务器世界(<em class="na">我们将引用书中的话</em>):</p><p id="dc6f" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">✔️ <strong class="lp jh">用户界面(演示)&amp;应用→体验</strong></p><p id="fd34" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">✔️ <strong class="lp jh">域→域</strong></p><p id="4c18" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">✔️ <strong class="lp jh">基础设施→平台</strong></p><p id="e3dc" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">在本文中，我们将深入五个无服务器架构层，同时展示一个虚构公司的无服务器架构在使用或不使用这种方法时的样子。</p><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nx"><img src="../Images/8180b61359a42e22543c9696df1693a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f5XIJkJSrECXJIqBDJQEow.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">我们虚构的公司，李·詹姆斯·山地服装公司</figcaption></figure><p id="ce3d" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">我们还可以将这种方法与<a class="ae jd" rel="noopener ugc nofollow" target="_blank" href="/serverless-tactical-dd-r-23d18d529fa1">无服务器战术DD(R) </a>和企业范围的<a class="ae jd" href="https://www.thoughtworks.com/radar/byor" rel="noopener ugc nofollow" target="_blank">技术雷达</a>相结合，以确保在企业范围的转型期间，当团队转向无服务器世界时，我们拥有相关的护栏、模式和架构治理；同时还允许创新和演进架构:</p><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ny"><img src="../Images/750115eb93df5a7262f176dcc8b5435a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PvCP621lApdk0VSjVWKZBA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">架构层+战术DD(R) +技术雷达</figcaption></figure><div class="ip iq gp gr ir nz"><a rel="noopener  ugc nofollow" target="_blank" href="/serverless-tactical-dd-r-23d18d529fa1"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd jh gy z fp oe fr fs of fu fw jf bi translated">无服务器战术DD(R)🚀</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">对于无服务器解决方案，什么是战术性DD(R)作为非功能性需求的战术方法，以及…</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="oi l"><div class="oj l ok ol om oi on ix nz"/></div></div></a></div><div class="ip iq gp gr ir nz"><a href="https://www.thoughtworks.com/radar/byor" rel="noopener  ugc nofollow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd jh gy z fp oe fr fs of fu fw jf bi translated">构建您自己的雷达| Thoughtworks</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">了解如何使用我们的雷达创建练习在所有组织级别进行对话，并回顾您的…</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">www.thoughtworks.com</p></div></div><div class="oi l"><div class="oo l ok ol om oi on ix nz"/></div></div></a></div><p id="4a4d" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">在下一节中，让我们从下面的各个层开始。</p></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><h1 id="8952" class="kv kw jg bd kx ky mv la lb lc mw le lf km mx kn lh kp my kq lj ks mz kt ll lm bi translated">体验层概述🏂</h1><blockquote class="op oq or"><p id="ae73" class="ln lo na lp b lq nr kh ls lt ns kk lv os nt ly lz ot nu mc md ou nv mg mh mi ij bi translated"><strong class="lp jh">要深入体验层，请参见下面的链接</strong></p></blockquote><div class="ip iq gp gr ir nz"><a href="https://leejamesgilmore.medium.com/serverless-architecture-layers-ddd-part-1-the-experience-layer-fc57205153c3" rel="noopener follow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd jh gy z fp oe fr fs of fu fw jf bi translated">无服务器架构层&amp; DDD(第1部分)——体验层</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">详细讨论5个无服务器架构层，从第1部分中的体验层开始。</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">leejamesgilmore.medium.com</p></div></div><div class="oi l"><div class="ov l ok ol om oi on ix nz"/></div></div></a></div><p id="bfca" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">在本书中，<strong class="lp jh">用户界面</strong>或<strong class="lp jh">表示层</strong>被描述为“<em class="na">负责向用户显示信息并解释用户命令</em>”,而<strong class="lp jh">应用层</strong>被描述为“<em class="na">定义软件应该做的工作并指导表达性领域对象解决问题</em>”。</p><blockquote class="nc"><p id="ce29" class="nd ne jg bd nf ng ow ox oy oz pa mi dk translated">定义软件应该做的工作，并指导表达性的领域对象解决问题</p></blockquote><p id="03bf" class="pw-post-body-paragraph ln lo jg lp b lq nm kh ls lt nn kk lv lw no ly lz ma np mc md me nq mg mh mi ij bi translated">接下来是关于<strong class="lp jh">应用层</strong>“<em class="na">这一层一直很薄。它不包含业务规则或知识，而只是协调任务并将工作委托给下一层中的域对象的协作</em></p><blockquote class="nc"><p id="8235" class="nd ne jg bd nf ng ow ox oy oz pa mi dk translated">”<em class="pb">这一层保持得很薄。它不包含业务规则或知识，而只是协调任务，并将工作委托给下一层中的领域对象的协作</em></p></blockquote><p id="17b0" class="pw-post-body-paragraph ln lo jg lp b lq nm kh ls lt nn kk lv lw no ly lz ma np mc md me nq mg mh mi ij bi translated">我们可以在下图中看到一个由表示层和应用层组成的<strong class="lp jh">无服务器</strong> <strong class="lp jh">体验层</strong>的示例，它通常由微前端、<a class="ae jd" href="https://developer.amazon.com/en-US/alexa" rel="noopener ugc nofollow" target="_blank"> Alexa应用</a>、网站(<em class="na">或许是亚马逊S3 </em>中存储的React应用)、移动应用等体验组成；以及针对前端的特定<a class="ae jd" href="https://docs.microsoft.com/en-us/azure/architecture/patterns/backends-for-frontends" rel="noopener ugc nofollow" target="_blank">后端(<em class="na"> BFF </em> ) </a>瘦API，或许使用<a class="ae jd" href="https://aws.amazon.com/api-gateway/" rel="noopener ugc nofollow" target="_blank">亚马逊API网关</a>或者<a class="ae jd" href="https://aws.amazon.com/appsync/" rel="noopener ugc nofollow" target="_blank"> AWS AppSync </a>。</p><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pc"><img src="../Images/6cc5b176fa8f01f33adb046c58e35009.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z0LdCJbvp0o1CWnPVC5Nvw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">使用瘦API(BFF)的体验层</figcaption></figure><blockquote class="op oq or"><p id="714b" class="ln lo na lp b lq nr kh ls lt ns kk lv os nt ly lz ot nu mc md ou nv mg mh mi ij bi translated">创建单独的后端服务，供特定的前端应用程序或接口使用。当您想避免为多个接口定制一个后端时，这种模式很有用。萨姆·纽曼首先描述了这种模式。—<a class="ae jd" href="https://learn.microsoft.com/en-us/azure/architecture/patterns/backends-for-frontends" rel="noopener ugc nofollow" target="_blank">https://learn . Microsoft . com/en-us/azure/architecture/patterns/back ends-for-frontends</a></p></blockquote><p id="bd49" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">这些瘦API可以有自己的认证需求，例如，内部员工应用程序可能使用与Azure AD联合的<a class="ae jd" href="https://en.wikipedia.org/wiki/Single_sign-on" rel="noopener ugc nofollow" target="_blank"> SSO </a>，但是移动和Alexa应用程序可能对系统的外部用户使用<a class="ae jd" href="https://aws.amazon.com/cognito/" rel="noopener ugc nofollow" target="_blank"> Amazon Cognito </a>。</p><p id="bac1" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">在这些瘦API中不应该有业务逻辑(<em class="na">我们将在后面继续讨论为什么</em>)，而应该只关心通过利用<strong class="lp jh">域层</strong>来编排体验所需的业务功能。</p><blockquote class="nc"><p id="51a1" class="nd ne jg bd nf ng ow ox oy oz pa mi dk translated">这些经验团队与团队拓扑中的'<a class="ae jd" href="https://teamtopologies.com/key-concepts" rel="noopener ugc nofollow" target="_blank">流一致的</a>团队一致。这些被描述为“与来自(通常)业务领域部分的工作流一致”</p></blockquote><p id="e219" class="pw-post-body-paragraph ln lo jg lp b lq nm kh ls lt nn kk lv lw no ly lz ma np mc md me nq mg mh mi ij bi translated"><strong class="lp jh">让我们看一个我们公司的例子</strong></p><p id="db56" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">从下图中我们可以看到，处理mountain wear库存的库存团队有:</p><ol class=""><li id="bcc3" class="pd pe jg lp b lq nr lt ns lw pf ma pg me ph mi pi pj pk pl bi translated">允许业务逻辑泄漏到内部库存检查系统的前端代码中。这个逻辑对于其余的系统是不可访问的。</li><li id="7f01" class="pd pe jg lp b lq pm lt pn lw po ma pp me pq mi pi pj pk pl bi translated">一个Alexa应用程序需要添加“在线查看股票”的功能；然而，内部库存检查系统和网站库存检查功能的前端API的两个后端中已经复制了该逻辑。</li></ol><p id="1e7b" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">如果业务逻辑留在了它应该在的领域层，那么这三种体验都可以恰当地利用它。</p><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pr"><img src="../Images/031efad33b5281c876fd3bc9a2650274.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zyF4NwaPxB-ZA_h-cX4fEQ.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">团队直接出错的例子</figcaption></figure><h2 id="8e85" class="ps kw jg bd kx pt pu dn lb pv pw dp lf lw px py lh ma pz qa lj me qb qc ll qd bi translated">摘要</h2><p id="c084" class="pw-post-body-paragraph ln lo jg lp b lq lr kh ls lt lu kk lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">✔️确保商业逻辑不会通过组织泄露。(<em class="na"> Lambda Pinball </em> ) <br/> ✔️确保业务逻辑在整个组织和体验中可重用，因为它不位于BFF或前端代码中。<br/> ✔️允许我们在每次体验中使用不同的身份验证要求。<br/> ✔️体验，即UI/Voice/UX不应包含任何共享的业务逻辑。✔️体验的后端API应该是无状态的。</p></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><h1 id="b76e" class="kv kw jg bd kx ky mv la lb lc mw le lf km mx kn lh kp my kq lj ks mz kt ll lm bi translated">交叉层概述📐</h1><p id="cbf3" class="pw-post-body-paragraph ln lo jg lp b lq lr kh ls lt lu kk lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">书中没有关于<strong class="lp jh">横切层</strong>的对等物，但是在我看来，这是在构建企业无服务器解决方案和通过技术雷达获得治理时必须考虑的事情。</p><blockquote class="nc"><p id="ecd7" class="nd ne jg bd nf ng ow ox oy oz pa mi dk translated">这些横切关注点通常通过团队拓扑中的'<a class="ae jd" href="https://teamtopologies.com/key-concepts" rel="noopener ugc nofollow" target="_blank">启用</a>'团队来进行。这些被描述为“帮助流对齐的团队克服障碍”。还检测缺失的功能”</p></blockquote><p id="2068" class="pw-post-body-paragraph ln lo jg lp b lq nm kh ls lt nn kk lv lw no ly lz ma np mc md me nq mg mh mi ij bi translated">横切关注点的例子有前端开发的组件库、电子邮件和SMS等通信的发送，以及聚合日志和跟踪，允许我们跨无数服务和调用关联日志。另一个是身份验证，因为我们的客户无论使用Alexa应用程序、聊天机器人还是我们的网站，都应该有SSO体验。</p><p id="39f4" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">我们可能还想考虑为代码重用创建一个公司SDK，以提高开发速度，并减少认知负荷。在AWS世界中，这可以通过使用<a class="ae jd" href="https://aws.amazon.com/codeartifact/" rel="noopener ugc nofollow" target="_blank"> AWS代码工件</a>来实现。</p><blockquote class="op oq or"><p id="db3b" class="ln lo na lp b lq nr kh ls lt ns kk lv os nt ly lz ot nu mc md ou nv mg mh mi ij bi translated">一个<strong class="lp jh">软件开发工具包</strong> ( <strong class="lp jh"> SDK </strong>)是一个可安装包——维基百科中的<a class="ae jd" href="https://en.wikipedia.org/wiki/Software_development_process" rel="noopener ugc nofollow" target="_blank">软件开发</a>工具的集合</p></blockquote><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mj"><img src="../Images/d183dbeb1df61cb4bdd8f55256518339.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sVl4VMbiRy_OnY2GT4Ummw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">红色的交叉层</figcaption></figure><p id="c6ac" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">作为CTO和架构师，如果我们在开始设计我们的解决方案时没有像团队一样尽早考虑这个问题，我们会发现单个团队开始一遍又一遍地处理和解决相同的问题；例如，多个团队在研究客户身份认证。(<em class="na">如下图</em>)</p><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi qe"><img src="../Images/1d4ce594acbf3f8890ffa67244cbecbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Slb-6MIvNVsaOpSLUin1BQ.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">跨交叉层中许多许多团队的重复</figcaption></figure><p id="33db" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">这导致团队在他们自己的筒仓中选择不同的SasS产品，例如，增加了新团队的认知负荷(一次又一次地解决相同的问题)，并减少了我们与供应商大规模获得更好合同的机会。如果我们随后在大量团队中用日志、通信、组件库等等来推断这一点，就会让我们处于一种糟糕的状态。</p><p id="f739" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated"><strong class="lp jh">让我们看一个我们公司的例子</strong></p><p id="975d" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">在我们的<em class="na"> Lee James Mountain Wear </em>的例子中，我们发现我们的库存和订单团队都在自己的筒仓中构建自己的React组件库，因为缺乏战略层面的沟通，而没有在企业层面上考虑这个问题。</p><p id="9870" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">与此同时，我们的客户和订单团队都在围绕可观察性开展POC工作，并与两家不同的SaaS供应商交谈。随着团队数量的增长，以及全球层面的发展，你会在规模上遇到一些严重的问题(如下图所示<em class="na">)。</em></p><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi qf"><img src="../Images/62d8aa05e0b0711baeb9715b6fdd4a8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X_9G7qe0EiWBCnk0Pc7rXw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">不从整体上考虑跨领域问题时的问题</figcaption></figure><h2 id="5a83" class="ps kw jg bd kx pt pu dn lb pv pw dp lf lw px py lh ma pz qa lj me qb qc ll qd bi translated">摘要</h2><p id="7098" class="pw-post-body-paragraph ln lo jg lp b lq lr kh ls lt lu kk lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">✔️防止每个团队在解决相同问题时出现复杂性、重复和认知负荷。<br/> ✔️允许人们更容易地在球队之间流动，因为我们有标准。<br/> ✔️不用重新发明轮子就能提高团队的速度和灵活性。<br/>由于SasS产品在企业范围内的使用增加，✔️使我们能够与供应商达成更好的交易。</p></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><h1 id="b766" class="kv kw jg bd kx ky mv la lb lc mw le lf km mx kn lh kp my kq lj ks mz kt ll lm bi translated">🛍️属性域图层概述</h1><blockquote class="op oq or"><p id="5e94" class="ln lo na lp b lq nr kh ls lt ns kk lv os nt ly lz ot nu mc md ou nv mg mh mi ij bi translated"><strong class="lp jh">要深入了解领域层，请参见下面的</strong></p></blockquote><div class="ip iq gp gr ir nz"><a href="https://leejamesgilmore.medium.com/serverless-architecture-layers-ddd-part-3-the-domain-layer-43ffce28806f" rel="noopener follow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd jh gy z fp oe fr fs of fu fw jf bi translated">无服务器架构层和DDD(第三部分)——域层</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">详细讨论5个无服务器架构层，这次将在第3部分讨论领域层。</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">leejamesgilmore.medium.com</p></div></div><div class="oi l"><div class="qg l ok ol om oi on ix nz"/></div></div></a></div><p id="cef7" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">在我看来，领域层是最重要的，也是最需要关注的。在书中，Eric Evans将此描述为“<em class="na">”,负责表示业务概念、有关业务情况的信息以及业务规则。</em>”。</p><blockquote class="nc"><p id="bf05" class="nd ne jg bd nf ng ow ox oy oz pa mi dk translated">“负责表示业务概念、关于业务情况的信息和业务规则”——Eric Evans(领域驱动设计)</p></blockquote><p id="f066" class="pw-post-body-paragraph ln lo jg lp b lq nm kh ls lt nn kk lv lw no ly lz ma np mc md me nq mg mh mi ij bi translated">在一个无服务器的世界中，这通常会使用由<a class="ae jd" href="https://aws.amazon.com/lambda/" rel="noopener ugc nofollow" target="_blank"> AWS Lambda </a>或<a class="ae jd" href="https://aws.amazon.com/fargate/" rel="noopener ugc nofollow" target="_blank"> AWS Fargate </a>支持的私有API网关来表示，特别是使用其自己的数据存储，如<a class="ae jd" href="https://aws.amazon.com/dynamodb" rel="noopener ugc nofollow" target="_blank"> AWS DynamoDB </a>。我们还希望通过领域驱动设计(DDD)来推动这一点，这将在下面的<strong class="lp jh"> <em class="na">概念层面</em> </strong>进行讨论:</p><div class="ip iq gp gr ir nz"><a href="https://leejamesgilmore.medium.com/serverless-domain-driven-design-6da44e151cfa" rel="noopener follow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd jh gy z fp oe fr fs of fu fw jf bi translated">无服务器域驱动设计</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">用真实世界的例子将DDD概念分解成有形的无服务器等价物。</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">leejamesgilmore.medium.com</p></div></div><div class="oi l"><div class="qh l ok ol om oi on ix nz"/></div></div></a></div><blockquote class="nc"><p id="bb25" class="nd ne jg bd nf ng nh ni nj nk nl mi dk translated">这些领域团队与团队拓扑中的'<a class="ae jd" href="https://teamtopologies.com/key-concepts" rel="noopener ugc nofollow" target="_blank">流一致的</a>'团队一致。这些被描述为“与来自(通常)业务领域部分的工作流一致”</p></blockquote><p id="51dd" class="pw-post-body-paragraph ln lo jg lp b lq nm kh ls lt nn kk lv lw no ly lz ma np mc md me nq mg mh mi ij bi translated">API应该使用<a class="ae jd" href="https://swagger.io/specification/" rel="noopener ugc nofollow" target="_blank">开放API ( <em class="na"> Swagger </em> ) </a>进行良好的定义和版本控制，并且应该成为域的聚合根和主接口。在事件驱动的系统中，我们还必须使用定义良好的版本化事件来与领域交互，例如使用带有<a class="ae jd" href="https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-schema.html" rel="noopener ugc nofollow" target="_blank">模式注册表</a>的<a class="ae jd" href="https://aws.amazon.com/eventbridge/" rel="noopener ugc nofollow" target="_blank"> Amazon EventBridge </a>。这确保了我们可以在不影响消费者的情况下改变我们的域服务的内部。</p><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi qi"><img src="../Images/efea079258ed7e9619d779f475e1b958.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J6XCCJrTnVRIiQvXGEyyFA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">领域层—可重用的业务逻辑</figcaption></figure><p id="f1db" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">域服务的内部应该封装起来，这样我们就不会有其他域和团队直接访问我们的数据存储，例如，绕过我们的业务规则、日志和逻辑的治理。(<em class="na">如上图</em>)</p><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi qj"><img src="../Images/356efde3a34dd72f2f609c4e4eaaafd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LJHE0gc_dN8WuGNd_obY8Q.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">域层—利用共享的业务逻辑</figcaption></figure><p id="1253" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">这意味着我们可以跨许多体验层和其他领域重用领域业务逻辑，使用IAM auth和SigV4从前端API的瘦后端调用我们的领域API。</p><blockquote class="nc"><p id="8edf" class="nd ne jg bd nf ng ow ox oy oz pa mi dk translated">“这意味着我们现在可以跨许多体验层和其他领域重用领域业务逻辑，使用IAM auth和SigV4从前端API的瘦后端调用我们的领域API。”—李·吉尔摩</p></blockquote><figure class="ql qm qn qo qp is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi qk"><img src="../Images/dc10c8e23148df4ae01c782aea17b53c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TO-F8yBQkCaLOuwBsE0aAw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">不共享内部数据存储——我们只使用定义良好的API</figcaption></figure><p id="bbf5" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">我们需要确保域被很好地封装，并且域服务不会开始与其他域的内部交互，无论是数据存储还是内部<a class="ae jd" href="https://aws.amazon.com/sns/" rel="noopener ugc nofollow" target="_blank"> AWS SNS </a>主题还是<a class="ae jd" href="https://aws.amazon.com/sqs/" rel="noopener ugc nofollow" target="_blank">亚马逊SQS </a>队列(如上图所示的<em class="na">)。这就撤销了我们在定义领域和创建版本化接口方面所做的所有工作。</em></p><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi qq"><img src="../Images/86b8bca299ad71722564f6369bf5d899.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w3mvdAUof7e24PuD1hzeog.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">这些域被很好地封装，在AWS主干网之外是不可访问的</figcaption></figure><p id="00b8" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">我们还应该确保外部世界无法访问我们的域服务，即使它们是使用身份验证绑定的。(<em class="na">如上图</em>)。</p><p id="d32e" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">由于API应该使用机器到机器的流程来绑定，因此没有理由通过Postman、curl、mobile、网页等来访问它们。例如，它们永远不会被直接从前端调用，所以出于安全原因，它们应该被相应地绑定。</p><p id="31c1" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">那么领域驱动的设计在代码层面上会是什么样的呢？</p><p id="f1c6" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">上面的链接讨论了DDD，以及我们如何在纯粹的概念和服务级别应用这些概念。下面的链接更进了一步，展示了我们如何在代码级别做到这一点:</p><div class="ip iq gp gr ir nz"><a href="https://leejamesgilmore.medium.com/serverless-clean-architecture-code-with-domain-driven-design-852796846d28" rel="noopener follow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd jh gy z fp oe fr fs of fu fw jf bi translated">无服务器的干净架构和代码采用领域驱动的设计🚀</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">在我们的无服务器解决方案中使用干净的代码和架构，以确保代码和基础架构的干净分离…</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">leejamesgilmore.medium.com</p></div></div><div class="oi l"><div class="qr l ok ol om oi on ix nz"/></div></div></a></div><h2 id="3e51" class="ps kw jg bd kx pt pu dn lb pv pw dp lf lw px py lh ma pz qa lj me qb qc ll qd bi translated">摘要</h2><p id="1370" class="pw-post-body-paragraph ln lo jg lp b lq lr kh ls lt lu kk lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">✔️定义良好的版本化API和事件确保消费者了解如何与我们的域进行交互。<br/> ✔️域接口意味着我们可以在不影响消费者的情况下改变内部结构。<br/> ✔️我们的域服务不对外开放，只能通过机器对机器的流程进行访问。(<em class="na">即使用私有API网关</em>)。<br/> ✔️我们确保消费者不会与我们领域的内部交互，只通过我们定义良好的API和事件。<br/> ✔️域逻辑可以被其他域服务或体验所利用，防止贫血的域被分割成分布式整体。</p></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><h1 id="10e4" class="kv kw jg bd kx ky mv la lb lc mw le lf km mx kn lh kp my kq lj ks mz kt ll lm bi translated">数据层概述📊</h1><blockquote class="op oq or"><p id="e416" class="ln lo na lp b lq nr kh ls lt ns kk lv os nt ly lz ot nu mc md ou nv mg mh mi ij bi translated"><strong class="lp jh">要深入了解数据层，请参阅以下文章:</strong></p></blockquote><div class="ip iq gp gr ir nz"><a href="https://leejamesgilmore.medium.com/serverless-architecture-layers-ddd-part-4-the-data-layer-8d27b5889034" rel="noopener follow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd jh gy z fp oe fr fs of fu fw jf bi translated">无服务器架构层&amp; DDD(第4部分)——数据层</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">详细讨论5个无服务器架构层，这次将在第4部分讨论数据层。</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">leejamesgilmore.medium.com</p></div></div><div class="oi l"><div class="qs l ok ol om oi on ix nz"/></div></div></a></div><p id="329a" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">下一个无服务器层是<strong class="lp jh">数据层</strong>，书中没有表示；然而，在今天的数据和事件驱动的世界中，我们需要从企业层面考虑这个问题。</p><p id="ba9a" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">数据层通常由三个关键区域组成:</p><ol class=""><li id="576f" class="pd pe jg lp b lq nr lt ns lw pf ma pg me ph mi pi pj pk pl bi translated"><strong class="lp jh">企业服务总线</strong>。例如，这通常是<a class="ae jd" href="https://aws.amazon.com/eventbridge/" rel="noopener ugc nofollow" target="_blank">亚马逊事件桥</a>或<a class="ae jd" href="https://aws.amazon.com/msk/" rel="noopener ugc nofollow" target="_blank">亚马逊MSK ( <em class="na">卡夫卡</em> ) </a>。</li><li id="1758" class="pd pe jg lp b lq pm lt pn lw po ma pp me pq mi pi pj pk pl bi translated"><strong class="lp jh">汇报和BI </strong>。例如，这通常是<a class="ae jd" href="https://aws.amazon.com/quicksight/" rel="noopener ugc nofollow" target="_blank">亚马逊快速网站</a>和<a class="ae jd" href="https://aws.amazon.com/athena/" rel="noopener ugc nofollow" target="_blank">亚马逊雅典娜</a>。</li><li id="2f71" class="pd pe jg lp b lq pm lt pn lw po ma pp me pq mi pi pj pk pl bi translated"><strong class="lp jh">数据</strong>。例如，这通常是亚马逊红移或S3数据湖。</li></ol><blockquote class="nc"><p id="ecbd" class="nd ne jg bd nf ng nh ni nj nk nl mi dk translated">数据层通常通过团队拓扑中的“复杂子系统”和“平台”团队来进行。复杂的子系统团队被描述为“需要大量数学/计算/技术专业知识的地方”。平台团队将在后面进一步讨论。</p></blockquote><p id="c2bc" class="pw-post-body-paragraph ln lo jg lp b lq nm kh ls lt nn kk lv lw no ly lz ma np mc md me nq mg mh mi ij bi translated">我们应该在企业架构级别对此进行治理，以确保我们的领域服务能够以事件驱动的方式在整个组织中相互交互，而不是让不同的团队使用不同的技术(<em class="na"> SNS、Kafka、EventBridge等</em>)。这将在下面的文章中介绍:</p><div class="ip iq gp gr ir nz"><a rel="noopener  ugc nofollow" target="_blank" href="/serverless-event-driven-systems-9617c6406064"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd jh gy z fp oe fr fs of fu fw jf bi translated">无服务器事件驱动系统🚀</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">您应该如何以及为什么首先使用Amazon EventBridge构建事件驱动的无服务器架构…</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="oi l"><div class="qt l ok ol om oi on ix nz"/></div></div></a></div><p id="c4fc" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">利用企业服务总线，如<strong class="lp jh"><em class="na">Amazon event bridge</em></strong>现在意味着域可以使用定义良好的版本化事件相互交互，体验层中前端API的后端也可以引发其他域可能感兴趣的事件:</p><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi qu"><img src="../Images/6b14461d865030de885ced5d553525fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tT3Wzy5Fh1Q3sxF5SqN73g.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">在数据层(即我们的企业服务总线)引发的域事件</figcaption></figure><p id="33cd" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">如下所示，域名可能会引发“订单已创建”、“价格已修改”等事件。并且体验层可以引发诸如“用户登录”的事件。</p><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi qv"><img src="../Images/41ce5511c05edd56d8754d9ea35630c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UwjkOOBEUnRnKGVY1sig-A.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">数据层—引发的示例域事件</figcaption></figure><p id="a9ca" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">这也使我们能够构建数据湖并聚合这些事件，从而使我们更加以数据为导向，因此事件、数据和报告/BI之间存在内在联系。下面的文章讨论了如何利用流和事件来解决无服务器世界中两阶段提交的问题:</p><div class="ip iq gp gr ir nz"><a rel="noopener  ugc nofollow" target="_blank" href="/serverless-streamed-events-ada6ed9a9ecf"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd jh gy z fp oe fr fs of fu fw jf bi translated">无服务器流式事件🚀</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">如何基于DynamoDB和DocumentDB中的数据库更改，使用EventBridge、可视化和…</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="oi l"><div class="qw l ok ol om oi on ix nz"/></div></div></a></div><p id="ef12" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">让我们看一个我们公司的例子</p><p id="6fb0" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">在企业组织<em class="na"> Lee James Mountain Wear </em>中，我们有三个不同的团队使用三种不同的技术(<em class="na"> SQS、EventBridge和MSK </em>)，因此这使得基于事件的领域通信变得非常困难。从一开始就在企业层面实现标准化会使这变得容易得多，减少开发时间，降低团队的认知负荷，并允许版本化的事件模式和事件发现。</p><blockquote class="nc"><p id="ecf2" class="nd ne jg bd nf ng ow ox oy oz pa mi dk translated">“从一开始就在企业层面实现标准化会使这变得容易得多，减少开发时间，降低团队的认知负荷，并允许版本化的事件模式和事件发现。”——Lee Gilmore</p></blockquote><figure class="ql qm qn qo qp is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi qx"><img src="../Images/4f031e97ea583b96e6c4a7058f25d976.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DzV1s8h2FsxOXoPs8PCquQ.png"/></div></div></figure><h2 id="6abd" class="ps kw jg bd kx pt pu dn lb pv pw dp lf lw px py lh ma pz qa lj me qb qc ll qd bi translated">摘要</h2><p id="7532" class="pw-post-body-paragraph ln lo jg lp b lq lr kh ls lt lu kk lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">✔️:企业服务总线允许我们跨业务团队进行协调amazon eventbridge应该是你在AWS上的首选。<br/> ✔️亚马逊EventBridge Schema Registry允许其他团队查看我们的版本化事件并使用它们(<em class="na">易于发现，减少认知负荷并增强沟通</em> ) <br/> ✔️我们可以通过将数据和事件流式传输到数据湖或数据仓库来报告它们，并使用Athena和QuickSite等工具进行使用。<br/> ✔️我们可以利用情感分析和事件来建立单一客户视图。<br/> ✔️减少了使用ESB的团队的认知负荷，并提高了他们的速度和敏捷性。</p></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><h1 id="5ef2" class="kv kw jg bd kx ky mv la lb lc mw le lf km mx kn lh kp my kq lj ks mz kt ll lm bi translated">平台层概述🌐</h1><p id="5f1f" class="pw-post-body-paragraph ln lo jg lp b lq lr kh ls lt lu kk lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">本书的最后一层是基础设施层，相当于平台层。在无服务器的世界中，团队将通过IaC管理他们自己的架构和服务，而不是传统的服务器管理。该书将基础设施层描述为“<em class="na">提供支持更高层的通用技术能力</em>”。</p><blockquote class="nc"><p id="d0a4" class="nd ne jg bd nf ng ow ox oy oz pa mi dk translated">"<em class="pb">提供支持更高层的通用技术能力</em> " — Eric Evans(领域驱动设计)</p></blockquote><p id="dcf6" class="pw-post-body-paragraph ln lo jg lp b lq nm kh ls lt nn kk lv lw no ly lz ma np mc md me nq mg mh mi ij bi translated">在开发团队的无服务器世界中，这通常包括:</p><ol class=""><li id="7b20" class="pd pe jg lp b lq nr lt ns lw pf ma pg me ph mi pi pj pk pl bi translated"><strong class="lp jh">认证平台</strong>。这是团队执行机器对机器流程的标准方式。</li><li id="4bde" class="pd pe jg lp b lq pm lt pn lw po ma pp me pq mi pi pj pk pl bi translated">管道/账户。无服务器团队不需要考虑不同的繁重工作，例如启动管道或创建VPC、联网、中转网关等。这应该是模板化的，可以快速为新的团队/领域旋转起来(<em class="na">想想自动售货机</em>)。</li><li id="fc65" class="pd pe jg lp b lq pm lt pn lw po ma pp me pq mi pi pj pk pl bi translated"><strong class="lp jh">安全</strong>。当新的团队和解决方案出现时，安全性应该尽早融入到我们的模板中——尽快向左移动。</li><li id="7c38" class="pd pe jg lp b lq pm lt pn lw po ma pp me pq mi pi pj pk pl bi translated"><strong class="lp jh"> API规范/事件模式</strong>。这些应该是集中的，容易被团队发现，增加灵活性和速度。这是我们应该重点关注开发者体验的地方。</li></ol><blockquote class="nc"><p id="03c5" class="nd ne jg bd nf ng nh ni nj nk nl mi dk translated">平台层通常通过团队拓扑中的“平台”团队进行。平台团队被描述为“一组其他类型的团队，它们提供令人信服的内部产品，以加速与流程一致的团队的交付”。</p></blockquote><p id="36b9" class="pw-post-body-paragraph ln lo jg lp b lq nm kh ls lt nn kk lv lw no ly lz ma np mc md me nq mg mh mi ij bi translated">如下图所示:</p><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi qy"><img src="../Images/1951cdfdd01c02885c6e7ef8d980cabc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7YziRRMVJ2e7hU4I8QGAWA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">平台层</figcaption></figure><p id="f5cd" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">在我看来，其中最重要的是<strong class="lp jh">管道和账户</strong>，因为无服务器团队应该有能力利用模板和参考架构，该平台从本质上消除了差异化的繁重工作并减少了认知负荷。这些模板还应该包含安全性，尽可能早地转移安全性。</p><p id="2a96" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">有许多产品，如<a class="ae jd" href="https://aws.amazon.com/proton/" rel="noopener ugc nofollow" target="_blank"> AWS Proton </a>和<a class="ae jd" href="https://backstage.io/" rel="noopener ugc nofollow" target="_blank"> Backstage IO </a>在企业级执行这一功能。</p><h2 id="7767" class="ps kw jg bd kx pt pu dn lb pv pw dp lf lw px py lh ma pz qa lj me qb qc ll qd bi translated">摘要</h2><p id="de48" class="pw-post-body-paragraph ln lo jg lp b lq lr kh ls lt lu kk lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">✔️开发者门户和平台应该提高无服务器团队的速度和灵活性。<br/>平台应提供✔️差异化的繁重工作，如联网、建立VPCs、创建管道等。<br/> ✔️开发者门户应该让团队更容易发现API和事件定义。<br/> ✔️亚马逊CDK L3/L4结构允许团队重用标准基础架构模板。<br/> ✔️拥有<a class="ae jd" href="https://micro-frontends.org/" rel="noopener ugc nofollow" target="_blank">微前端战略</a>和核心UI，这使得团队更有效率，并在UI层面上支持DDD。</p></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><h1 id="763f" class="kv kw jg bd kx ky mv la lb lc mw le lf km mx kn lh kp my kq lj ks mz kt ll lm bi translated">摘要</h1><p id="18a1" class="pw-post-body-paragraph ln lo jg lp b lq lr kh ls lt lu kk lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">我希望这对于在企业架构层面上从概念上考虑我们的无服务器架构是有用的。</p><p id="1dec" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">请点击此处订阅我的企业无服务器新闻稿，了解更多相同的内容:</p><div class="ip iq gp gr ir nz"><a href="https://www.linkedin.com/newsletters/enterprise-serverless-%F0%9F%9A%80-6875837779876605952/" rel="noopener  ugc nofollow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd jh gy z fp oe fr fs of fu fw jf bi translated">企业无服务器🚀LinkedIn</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">Lee Gilmore |面向AWS开发人员、DevOps工程师和云架构师的无服务器新闻和文章</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">www.linkedin.com</p></div></div><div class="oi l"><div class="qz l ok ol om oi on ix nz"/></div></div></a></div><h1 id="330a" class="kv kw jg bd kx ky kz la lb lc ld le lf km lg kn lh kp li kq lj ks lk kt ll lm bi translated">包扎👋</h1><p id="83bf" class="pw-post-body-paragraph ln lo jg lp b lq lr kh ls lt lu kk lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">请<a class="ae jd" href="https://www.youtube.com/channel/UC_Bi6eLsBXpLnNRNnxKQUsA" rel="noopener ugc nofollow" target="_blank">去我的YouTube频道</a>订阅类似内容！</p><figure class="mk ml mm mn gt is gh gi paragraph-image"><div class="ab gu cl ra"><img src="../Images/f3ba4075f75db9c7b678cd80364ec775.png" data-original-src="https://miro.medium.com/v2/format:webp/0*j0nwUelnISDOIuVk.png"/></div></figure><p id="3ebb" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">我很乐意就以下任何一个方面与您联系:</p><p id="a0bf" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated"><a class="ae jd" href="https://www.linkedin.com/in/lee-james-gilmore/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/lee-james-gilmore/</a><br/>T17】https://twitter.com/LeeJamesGilmore</p><p id="1d81" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">如果你喜欢这些帖子，请关注我的简介<a class="ae jd" href="https://medium.com/u/2906c6def240?source=post_page-----39c4f4ae5aff----------------------" rel="noopener">李·詹姆斯·吉尔摩</a>以获取更多的帖子/系列，不要忘记联系我并打招呼👋</p><p id="c6a6" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">如果你喜欢，也请使用帖子底部的“鼓掌”功能！(<em class="na">你可以不止一次鼓掌！！</em>)</p></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><h1 id="1884" class="kv kw jg bd kx ky mv la lb lc mw le lf km mx kn lh kp my kq lj ks mz kt ll lm bi translated">关于我</h1><p id="118d" class="pw-post-body-paragraph ln lo jg lp b lq lr kh ls lt lu kk lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">"<em class="na">大家好，我是Lee，AWS社区构建者、博客作者、AWS认证云架构师和全球无服务器架构师，住在英国；目前在City Electrical Factors工作，过去6年主要从事AWS上的全栈JavaScript工作。</em></p><p id="2dbe" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated"><em class="na">我认为自己是一个无服务器倡导者，热爱AWS、创新、软件架构和技术。</em></p><p id="0c4b" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated"><strong class="lp jh"> ***所提供的信息是我个人的观点，我对信息的使用不承担任何责任。*** </strong></p><p id="9abc" class="pw-post-body-paragraph ln lo jg lp b lq nr kh ls lt ns kk lv lw nt ly lz ma nu mc md me nv mg mh mi ij bi translated">您可能还对以下内容感兴趣:</p><div class="ip iq gp gr ir nz"><a href="https://leejamesgilmore.medium.com/serverless-content-46ef5b562d8e" rel="noopener follow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd jh gy z fp oe fr fs of fu fw jf bi translated">无服务器内容🚀</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">我的所有无服务器内容的索引，可以在一个地方轻松浏览，包括视频、博客文章等..</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">leejamesgilmore.medium.com</p></div></div><div class="oi l"><div class="rb l ok ol om oi on ix nz"/></div></div></a></div></div></div>    
</body>
</html>