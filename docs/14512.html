<html>
<head>
<title>Simple Callback System with Anonymous Method</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">简单的匿名回调系统</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/simple-callback-system-with-anonymous-method-30245d5b6279?source=collection_archive---------7-----------------------#2022-12-03">https://levelup.gitconnected.com/simple-callback-system-with-anonymous-method-30245d5b6279?source=collection_archive---------7-----------------------#2022-12-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/b92279a4a3a6a995b479b95cfbd5b21a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i1BKvso64DtgNpWk23STJA.png"/></div></div></figure><div class=""/><p id="6cde" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">利用在过去几篇关于委托和lambda表达式的文章中学到的知识，让我们看看如何使用匿名方法设置一个基本的回调系统。</p><p id="cf69" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">一个<em class="kz">匿名</em>方法是一个没有<em class="kz">名字</em>的<em class="kz">内联</em>方法。它本质上是一个带有<em class="kz">主体</em>的<em class="kz">无名委托</em>，其中<em class="kz">参数</em>和<em class="kz">返回</em>是可选的。</p><p id="8090" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这里有一个名为<em class="kz"> CompletedRoutine </em>的<em class="kz">协程</em>，它有一个<em class="kz">动作</em>委托作为<em class="kz">参数</em>。通过将<em class="kz">动作</em>指定为<em class="kz">空</em>，当启动协程时，它变成完全可选的。还有一个新的<em class="kz"> 5秒</em>的<em class="kz"> WaitForSeconds </em>，已经被<em class="kz">缓存</em>在<em class="kz"> void Start </em>变量名<em class="kz"> completedWaitTime </em>下。作为最佳实践，调用<em class="kz"> onCompleteRoutine </em>委托之前会对<em class="kz">进行空检查</em>。</p><pre class="la lb lc ld gt le lf lg bn lh li bi"><span id="4913" class="lj lk je lf b be ll lm l ln lo">private IEnumerator CompletedRoutine(Action onCompleteRoutine = null)<br/>{<br/>    yield return _completedWaitTime;<br/><br/>    if (onCompleteRoutine != null)<br/>            onCompleteRoutine();<br/>}</span></pre><p id="6f39" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这里在<em class="kz"> void Start </em>中，<em class="kz">协程</em>是<em class="kz"> started </em>然后一个<em class="kz"> lambda表达式</em>转到一个<em class="kz">匿名</em>方法。在此方法中，两条<em class="kz">调试</em>消息被发送到控制台。匿名方法的传入使得<em class="kz"> onCompleteRoutine </em>不再<em class="kz"> null </em>，所以<em class="kz"> onCompleteRoutine </em>会在等待<em class="kz"> 5秒</em>后运行。</p><pre class="la lb lc ld gt le lf lg bn lh li bi"><span id="e116" class="lj lk je lf b be ll lm l ln lo">StartCoroutine(CompletedRoutine(() =&gt; <br/>{<br/>    Debug.Log("The routine has finished");<br/>    Debug.Log("Run some code here!");<br/>}));</span></pre><p id="021a" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这里是等待时间过后显示的调试消息。</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lp"><img src="../Images/191e289b86cb354963f77dc0a1ba8fd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*98kfWN9SumYrsrF-ooEWcA.png"/></div></div></figure><p id="4d81" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">下一次我们将从代表开始，让他们使用Unity的<em class="kz">新输入系统</em>工作。感谢阅读！</p></div></div>    
</body>
</html>