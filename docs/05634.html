<html>
<head>
<title>Programmatically Finding Your Neighborhood’s Best Avocado Toast</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">有计划地寻找你家附近最好的鳄梨吐司</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/programmatically-finding-your-neighborhoods-best-avocado-toast-820aeea44a32?source=collection_archive---------5-----------------------#2020-09-15">https://levelup.gitconnected.com/programmatically-finding-your-neighborhoods-best-avocado-toast-820aeea44a32?source=collection_archive---------5-----------------------#2020-09-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5e24" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">利用Yelp的API和R实时查询Yelp的数据库</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/9d1839b9094ef77e2c17a8ecdaa43376.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GrXsvlx_pMGeMzJG"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">信用:本·科尔德，Unsplash.com</figcaption></figure><p id="44db" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用公司API是自动化数据提取的一个好方法。虽然从网站上抓取数据是可能的，但API提供了一种更简单、通常也更合法的大规模获取数据的方式。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><p id="97ca" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">完整的基础知识——什么是API？</strong></p><p id="e848" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">API代表“应用程序编程接口”，简单来说，就是一个允许两个应用程序进行通信的软件。App 1将向App 2发送请求，App 2将返回结果。不同的API对数据访问有不同的限制。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ly"><img src="../Images/691da5be94fdc3aafb0de67700a413dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*iS8f0Y962mgiAuO1-zhvlA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">想想你与网站互动的方式。这离RESTful APIs的基础不远了</figcaption></figure></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><p id="4447" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">完整的基础知识Web服务API的类型</strong></p><p id="c535" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">有许多不同类型的web APIs，但我们将重点介绍4种主要的web服务API。</p><ol class=""><li id="4ecd" class="lz ma iq kx b ky kz lb lc le mb li mc lm md lq me mf mg mh bi translated"><strong class="kx ir"> JSON协议:</strong>查询服务器，返回JSON格式的结果。如果您使用的是Python/R之类的东西，您需要解析JSON以获得可用的数据格式。</li><li id="61ca" class="lz ma iq kx b ky mi lb mj le mk li ml lm mm lq me mf mg mh bi translated">XML协议:基本上与JSON相同，除了结果是以特定的XML格式提交的。很简单的协议。</li><li id="416e" class="lz ma iq kx b ky mi lb mj le mk li ml lm mm lq me mf mg mh bi translated">SOAP协议:类似于XML，只是要复杂得多。虽然它仍然以XML形式提供结果，但它使用了专有的XML格式。</li><li id="c392" class="lz ma iq kx b ky mi lb mj le mk li ml lm mm lq me mf mg mh bi translated"><strong class="kx ir"> *REST: </strong>虽然REST在技术上不是一个协议，但它经常被比作SOAP。REST更轻量级，并且(通常)具有更好的性能。对于初学者来说，它也很容易使用，这也是我们将在本文中讨论的内容。</li></ol></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><p id="c516" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">完整的基础知识——与REST APIs一起使用的HTTP方法</strong></p><p id="f762" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir"> GET: </strong>检索资源和信息。GET请求从不改变底层资源，因此它们被视为“安全的方法”如您所料，大多数API都允许GET请求。</p><p id="97a5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir"> POST: </strong>创建一个新资源。我们使用POST方法来创建访问API的客户端凭证。</p><p id="82b3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir"> PUT: </strong>更新现有的资源。如果你使用的是一家公司的API，很可能你没有任何权限来放置资源。</p><p id="ca7e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">删除:</strong>顾名思义，这是用来删除资源的。与PUT一样，您可能无法访问它。</p><p id="2200" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir"> PATCH: </strong>像PUT一样，更新现有的资源。与PUT不同，PATCH部分编辑资源。这种方法有一些相关的问题，并没有普遍使用。您可能不会使用补丁，尤其是在查询时。</p><p id="451e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">更详细的文档可以在RESTful官网找到:<a class="ae mn" href="https://restfulapi.net/http-methods/" rel="noopener ugc nofollow" target="_blank">https://restfulapi.net/http-methods/</a></p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h1 id="a9b3" class="mo mp iq bd mq mr ms mt mu mv mw mx my jw mz jx na jz nb ka nc kc nd kd ne nf bi translated"><strong class="ak">TL；博士:给我密码</strong></h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ng nh l"/></div></figure></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h1 id="c91b" class="mo mp iq bd mq mr ms mt mu mv mw mx my jw mz jx na jz nb ka nc kc nd kd ne nf bi translated">分解功能</h1><p id="826d" class="pw-post-body-paragraph kv kw iq kx b ky ni jr la lb nj ju ld le nk lg lh li nl lk ll lm nm lo lp lq ij bi translated">这个功能看起来有点吓人，但分解起来很简单。</p><ol class=""><li id="e50c" class="lz ma iq kx b ky kz lb lc le mb li mc lm md lq me mf mg mh bi translated">它将您想要查询的页数作为参数。默认情况下，Yelp API每页最多只允许50个结果。因此，如果我们想得到多个页面，我们需要明确地告诉我们的程序继续。</li><li id="d195" class="lz ma iq kx b ky mi lb mj le mk li ml lm mm lq me mf mg mh bi translated">在我们定义任何东西之前，我们需要一个主数据框架来存储我们所有的结果。</li></ol><pre class="kg kh ki kj gt nn no np nq aw nr bi"><span id="365d" class="ns mp iq no b gy nt nu l nv nw"># Defining the Function to search and parse<br/>YelpScr &lt;- function(offset=offsetP){<br/>  <br/>  # Define our storage dataframe where we will store results<br/>  storage = data.frame()</span></pre><p id="f1a3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">3.要查询Yelp，我们需要创建一个URL。给定我们将传递的参数，下一个函数构造一个URL。该URL看起来会像这样:“https://yelp . API . com/v3/business/search/query =…”</p><pre class="kg kh ki kj gt nn no np nq aw nr bi"><span id="b3d9" class="ns mp iq no b gy nt nu l nv nw">for(i in 1:length(offsetP)){  <br/>    <br/>    url &lt;- modify_url(yelp, path = c("v3", "businesses", "search"),<br/>                     query = list(term = term, location = location, <br/>                                   limit = limit,<br/>                                   radius = radius,<br/>          # For next pages -&gt; offset 51 for pg 2, 101 for pg 3...<br/>                                   offset = offsetP[i]<br/>                      ))</span></pre><p id="600c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">4.我们传递一个GET请求，本质上是请求数据并提供我们的客户机ID来与服务器进行身份验证。</p><pre class="kg kh ki kj gt nn no np nq aw nr bi"><span id="cb41" class="ns mp iq no b gy nt nu l nv nw"># Our GET request, querying the server<br/>res &lt;- GET(url, add_headers('Authorization' = paste("bearer", client_key)))<br/>    <br/># Getting our results<br/>results &lt;- content(res)</span></pre><p id="4e88" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">5.我们创建了一个本地方法，可以将结果解析成一个列表，然后解析成一个易读的表。</p><pre class="kg kh ki kj gt nn no np nq aw nr bi"><span id="b324" class="ns mp iq no b gy nt nu l nv nw"># Parsing our results<br/>yelp_httr_parse &lt;- function(x) {<br/>      <br/>      # Defining the variables we want<br/>      parse_list &lt;- list(id = x$id, <br/>                         name = x$name, <br/>                         rating = x$rating, <br/>                         review_count = x$review_count, <br/>                         latitude = x$coordinates$latitude, <br/>                         longitude = x$coordinates$longitude, <br/>                         address1 = x$location$address1, <br/>                         city = x$location$city, <br/>                         state = x$location$state, <br/>                         zip_code = x$location$zip_code,<br/>                         distance = x$distance,<br/>                         phone = x$phone,<br/>                         url = x$url<br/>      )<br/>      <br/># Quick lapply to clean the data up<br/>parse_list &lt;- lapply(parse_list, FUN = function(x) ifelse(is.null(x), "", x))<br/>      <br/>      # Making our data into a tibble for easy access<br/>      df &lt;- tibble(id=parse_list$id,<br/>                   name=parse_list$name, <br/>                   rating = parse_list$rating, <br/>                   review_count = parse_list$review_count, <br/>                   latitude=parse_list$latitude, <br/>                   longitude = parse_list$longitude, <br/>                   address1 = parse_list$address1, <br/>                   city = parse_list$city, <br/>                   state = parse_list$state, <br/>                   zip_code = x$location$zip_code,<br/>                   distance = x$distance,<br/>                   phone = x$phone,<br/>                   url = x$url)<br/>      df<br/>    }</span></pre><p id="4a38" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">6.我们将创建的本地方法应用到结果中，然后rbind(按行追加)由我们的方法创建的所有数据结构。</p><pre class="kg kh ki kj gt nn no np nq aw nr bi"><span id="daed" class="ns mp iq no b gy nt nu l nv nw"># Results list<br/>results_list &lt;- lapply(results$businesses, FUN = yelp_httr_parse)<br/>    <br/>payload &lt;- do.call("rbind", results_list)</span></pre><p id="cc28" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">7.我们创建另一个本地函数:在每个页面被查询后，我们显示一些与页面相关的元数据。下面是这个函数运行时的样子。</p><pre class="kg kh ki kj gt nn no np nq aw nr bi"><span id="6ac1" class="ns mp iq no b gy nt nu l nv nw"># Show analysis on every pageg<br/>ratingsCalc &lt;- function(payload){<br/>      x &lt;- payload$rating * payload$review_count <br/>      x2 &lt;- round( (sum(x) / sum(payload$review_count)), 2)</span><span id="eda6" class="ns mp iq no b gy nx nu l nv nw">print(paste0("Average Yelp rating for stores within a radius of about ", radius, " feet of ", location, <br/>", using the search term ***", term,  "*** ", "is: ", x2, " stars. This is calculated using a total of ", sum(payload$review_count), " reviews"))<br/>}</span><span id="ec1f" class="ns mp iq no b gy nx nu l nv nw"># Show the messages as it queries Yelp<br/>    msg &lt;- ratingsCalc(payload)<br/>    strsplit(msg, "\n")</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/ef3f442169f9ba5a4ef0ce0fafb82cd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_A6LSUZjFzhDu6Z_k5YRQg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">我们的元数据正在显示。鳄梨拼错了。我的错。:/</figcaption></figure><p id="fd62" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">8.在每个页面被解析后，我们将它按行存储在我们的存储数据帧中。我们还包括一个空页面的退出条件，并返回数据帧。</p><pre class="kg kh ki kj gt nn no np nq aw nr bi"><span id="1485" class="ns mp iq no b gy nt nu l nv nw"># Store the results in our dataframe<br/>storage = rbind(storage, payload)</span><span id="14cb" class="ns mp iq no b gy nx nu l nv nw">if(sum(payload$review_count)==0){ break}<br/>  }<br/>  # Return our final storage DF<br/>  return(storage)<br/>  }</span></pre></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h1 id="dcb6" class="mo mp iq bd mq mr ms mt mu mv mw mx my jw mz jx na jz nb ka nc kc nd kd ne nf bi translated">该跑了！</h1><p id="6e57" class="pw-post-body-paragraph kv kw iq kx b ky ni jr la lb nj ju ld le nk lg lh li nl lk ll lm nm lo lp lq ij bi translated">9.我们传递我们的客户ID和客户密钥(可以从Yelp的开发者门户免费获得)。我们需要确保我们<strong class="kx ir">永远不会</strong>明确地传递我们的凭证。有几种方法可以传递我们的凭证。评论中列出了3种最好的方法:使用<strong class="kx ir"> Keyring包，</strong> opt将其存储在文本文件中，打开、读取和关闭文件，或者强制用户输入。</p><pre class="kg kh ki kj gt nn no np nq aw nr bi"><span id="a6fa" class="ns mp iq no b gy nt nu l nv nw"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #<br/>#                 Running Our Code<br/># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #</span><span id="6bf2" class="ns mp iq no b gy nx nu l nv nw"># We want to avoid explicitly having our client id/key in our code. Instead we can do 3 things:<br/>  # 1) Open a .txt with our id/key in rows 1/2, respectively<br/>  # 2) Use the R Keyring library to save your keys <br/>  # 3) Force user to input id/key manually. This becomes too much of a headache once you start using the script often since it's a manual touch every time</span><span id="6196" class="ns mp iq no b gy nx nu l nv nw">#  ~~~~~~~~~~~~~~~~~~~~~~~ PASSING CREDENTIALS<br/># Opening text file, reading the keys, closing<br/>f=open('C:/path/of/your/credentials.txt',"r")<br/>lines=f.readlines()<br/>client_id=lines[0]<br/>client_key=lines[1]<br/>f.close()</span><span id="48cb" class="ns mp iq no b gy nx nu l nv nw"># Alternatively, ask for a password if you run this script rarely.<br/>client_id &lt;- rstudioapi::askForPassword()<br/>client_key &lt;- rstudioapi::askForPassword()<br/>#  ~~~~~~~~~~~~~~~~~~~~~~~ PASSING CREDENTIALS</span><span id="e854" class="ns mp iq no b gy nx nu l nv nw"># Opening text file, reading the keys, closing<br/>f=open('C:/path/of/your/credentials.txt',"r")<br/>lines=f.readlines()<br/>client_id=lines[0]<br/>client_key=lines[1]<br/>f.close()</span></pre><p id="e185" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">10.发布并生成我们的访问令牌，这样我们就可以实际查询API。</p><pre class="kg kh ki kj gt nn no np nq aw nr bi"><span id="88c9" class="ns mp iq no b gy nt nu l nv nw"># POST command to access API<br/>res &lt;- POST("<a class="ae mn" href="https://api.yelp.com/oauth2/token" rel="noopener ugc nofollow" target="_blank">https://api.yelp.com/oauth2/token</a>",<br/>            body = list(grant_type = "client_credentials",<br/>                        client_id = client_id))</span><span id="7bb5" class="ns mp iq no b gy nx nu l nv nw"># Generate our token<br/>token &lt;- content(res)$access_token</span></pre><p id="c866" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">11.定义我们的搜索参数。关于搜索参数限制的完整文档可以在Yelp的网站上找到:</p><p id="28c2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><a class="ae mn" href="https://www.yelp.com/developers/documentation/v3/business_search" rel="noopener ugc nofollow" target="_blank">https://www . yelp . com/developers/documentation/v3/business _ search</a></p><pre class="kg kh ki kj gt nn no np nq aw nr bi"><span id="8da2" class="ns mp iq no b gy nt nu l nv nw"># Search parameters<br/>yelp &lt;- "<a class="ae mn" href="https://api.yelp.com" rel="noopener ugc nofollow" target="_blank">https://api.yelp.com</a>" # Base URL<br/>term &lt;- "Avocado Toast" # Search term<br/>location &lt;- "10013" # Manhattan Zip Code<br/>categories &lt;- NULL # Optional filter, looking at specific category of place... ex: bar, park, etc.<br/>limit &lt;- 50 # Biggest limit of results Yelp returns per page<br/>radius &lt;- 16000 # Radius, in meters from location. Max is 40,000 (25 miles)</span><span id="347b" class="ns mp iq no b gy nx nu l nv nw"># Number of pages you want to query. 50 = 1 page of results. So 600 is 600/50 = 12 pages of results<br/>  # The function automatically stops if it reaches an empty page<br/>offsetP &lt;- seq(1,601, 50)</span></pre><p id="a639" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">12.把所有东西放在一起！运行该功能，并将其导出为CSV格式。</p><pre class="kg kh ki kj gt nn no np nq aw nr bi"><span id="3c40" class="ns mp iq no b gy nt nu l nv nw"># This will query our database with our function!<br/>storage &lt;- YelpScr(offsetP)</span><span id="56f8" class="ns mp iq no b gy nx nu l nv nw"># Export it<br/>save_path = "C:/users/path/to/where/you/want/it"<br/>nameOfExport &lt;- paste0(term,"_", radius, "_meter_radius_of_",location)<br/>write.table(storage, paste0(save_path, nameOfExport, ".csv"), row.names = FALSE)</span></pre></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h1 id="4399" class="mo mp iq bd mq mr ms mt mu mv mw mx my jw mz jx na jz nb ka nc kc nd kd ne nf bi translated">我们完事了。嗯，除非你想在Excel中…</h1><p id="0d11" class="pw-post-body-paragraph kv kw iq kx b ky ni jr la lb nj ju ld le nk lg lh li nl lk ll lm nm lo lp lq ij bi translated">如果你是一个Excel的人，你有几个更快的步骤。我们得到的文件格式是. csv，但是可以很容易地转换成可读的Excel文件。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/86230237e19395a25ccd3f7bf8cb692e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vIDra03chnKvDTvdlGhMPA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">在Excel中打开时的输出</figcaption></figure><p id="e1d2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">13.突出显示列A →数据选项卡→“文本到列”→“下一步”→在<strong class="kx ir">空格上定界</strong> →“完成”</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/c8fe686789372920abc57f97f0a6e337.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kWcirUywjq7ZDwSnImNbiA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">空间划界</figcaption></figure><p id="99a2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在我们有了一个易读的Excel文件，我们可以保存为. xlsx。从这里你可以过滤，排序等。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/665febc09add13e0bd5789b30ead070d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5cHFk1jorQCVN7LUR45KEQ.png"/></div></div></figure></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h1 id="5189" class="mo mp iq bd mq mr ms mt mu mv mw mx my jw mz jx na jz nb ka nc kc nd kd ne nf bi translated">法律考虑</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/d8af22e8eb9dca0d4618f01745f0fa51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*98CuhTI_4jMDTWCO.png"/></div></div></figure><p id="415c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">就像我的抓取文章一样，我想强调在使用这些数据之前阅读服务条款。通常公司会提供付费的API用于商业用途，而这些免费的API仅供个人使用。你可以在这里找到Yelp的ToS:</p><p id="3901" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><a class="ae mn" href="https://www.yelp.com/developers/api_terms" rel="noopener ugc nofollow" target="_blank">https://www.yelp.com/developers/api_terms</a></p></div></div>    
</body>
</html>