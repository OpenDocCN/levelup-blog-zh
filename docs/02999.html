<html>
<head>
<title>JavaScript Algorithm: Search and Replace</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript算法:搜索和替换</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/javascript-algorithm-search-and-replace-6895e17ccfd7?source=collection_archive---------15-----------------------#2020-04-14">https://levelup.gitconnected.com/javascript-algorithm-search-and-replace-6895e17ccfd7?source=collection_archive---------15-----------------------#2020-04-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2d7d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">我们编写了一个函数，可以对字符串执行简单的搜索和替换操作。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b40106146445d80ce2a30faf2d646131.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7NtWx1ngbndFZJlu1EIDow@2x.png"/></div></div></figure><p id="8bd3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们将编写一个名为<code class="fe lq lr ls lt b">myReplace</code>的函数，它将接受三个字符串(<code class="fe lq lr ls lt b">str</code>、<code class="fe lq lr ls lt b">before</code>和<code class="fe lq lr ls lt b">after</code>)作为参数。</p><p id="18b1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">该函数的目标是获取第二个参数(<code class="fe lq lr ls lt b">before</code>)并在给定的字符串(<code class="fe lq lr ls lt b">str</code>)中搜索术语，然后用第三个参数(<code class="fe lq lr ls lt b">replace</code>)替换它。该函数将返回结果字符串。</p><p id="6353" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">替换字符串应该保留它所替换的字符串中第一个字符的大小写。</p><p id="7253" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">示例:</p><pre class="kj kk kl km gt lu lt lv lw aw lx bi"><span id="9f97" class="ly lz it lt b gy ma mb l mc md">let str = "Let us go to the Store";<br/>let before = "Store";<br/>let after = "mall";</span><span id="dfda" class="ly lz it lt b gy me mb l mc md">// output: "Let us go to the Mall"</span></pre><p id="6cc8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在上面的字符串中，由于<code class="fe lq lr ls lt b">"Store"</code>是大写的，当用<code class="fe lq lr ls lt b">"mall"</code>替换那个单词时，<code class="fe lq lr ls lt b">after</code>字符串也要大写。</p><pre class="kj kk kl km gt lu lt lv lw aw lx bi"><span id="a464" class="ly lz it lt b gy ma mb l mc md">let str = "This has a spellngi error";<br/>let before = "spellngi";<br/>let after = "spelling";</span><span id="4973" class="ly lz it lt b gy me mb l mc md">// output: "This has a spelling error"</span></pre><p id="213a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们开始函数。</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><p id="b2a6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们首先创建两个变量:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="4024" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果<code class="fe lq lr ls lt b">capitalizedBefore</code>变量是大写的，那么它就是<code class="fe lq lr ls lt b">before</code>字符串。这同样适用于<code class="fe lq lr ls lt b">after</code>字符串的<code class="fe lq lr ls lt b">capitalizedAfter</code>变量。</p><p id="55aa" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们将字符串的第一个字符大写，然后使用<code class="fe lq lr ls lt b">substring()</code>方法将该字符连接到剩余的字符串。</p><p id="7d19" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">接下来，我们编写if语句。</p><pre class="kj kk kl km gt lu lt lv lw aw lx bi"><span id="4003" class="ly lz it lt b gy ma mb l mc md">if (before === capitalizedBefore) {<br/>    return str.replace(before, capitalizedAfter);<br/>} else {<br/>    return str.replace(before, after.toLowerCase());<br/>}</span></pre><p id="c74d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们创建这两个变量，这样如果<code class="fe lq lr ls lt b">before</code>字符串是大写的，我们可以保留第一个字母can的大小写并用<code class="fe lq lr ls lt b">capitalizedAfter</code>替换它。</p><p id="e6f3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">if语句检查是否是这种情况，如果是，用<code class="fe lq lr ls lt b">capitalizedAfter</code>变量替换<code class="fe lq lr ls lt b">before</code>字符串。我们返回字符串。</p><p id="ecf2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果不是这种情况，那么我们简单地用<code class="fe lq lr ls lt b">after</code>字符串替换<code class="fe lq lr ls lt b">before</code>字符串并返回它。我们将<code class="fe lq lr ls lt b">after</code>字符串小写，以防<code class="fe lq lr ls lt b">after</code>字符串最初是大写的。</p><p id="0600" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们的代码到此结束。下面是该函数的其余部分:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mm mn l"/></div></figure></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><p id="4a66" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你觉得这个算法有帮助，看看我的其他JavaScript算法解决方案:</p><div class="mo mp gp gr mq mr"><a href="https://medium.com/javascript-in-plain-english/javascript-algorithm-pig-latin-82402739bc3f" rel="noopener follow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd iu gy z fp mw fr fs mx fu fw is bi translated">JavaScript算法:猪拉丁</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">我们写了一个函数，将一个单词转换成拉丁文。</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">medium.com</p></div></div><div class="na l"><div class="nb l nc nd ne na nf ks mr"/></div></div></a></div><div class="mo mp gp gr mq mr"><a href="https://medium.com/@endubueze00/javascript-algorithm-seek-and-destroy-36888783f35f" rel="noopener follow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd iu gy z fp mw fr fs mx fu fw is bi translated">JavaScript算法:寻找和破坏</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">我们编写了一个函数，它将从一个数组中删除与所提供的参数具有相同值的所有元素。</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">medium.com</p></div></div><div class="na l"><div class="ng l nc nd ne na nf ks mr"/></div></div></a></div><div class="mo mp gp gr mq mr"><a href="https://medium.com/javascript-in-plain-english/javascript-algorithm-wherefore-art-thou-1e6eb6c10ba2" rel="noopener follow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd iu gy z fp mw fr fs mx fu fw is bi translated">JavaScript算法:你是为什么</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">我们编写一个函数，它返回一个数组中的所有对象，该数组包含来自源的所有名称/值对…</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">medium.com</p></div></div><div class="na l"><div class="nh l nc nd ne na nf ks mr"/></div></div></a></div></div></div>    
</body>
</html>