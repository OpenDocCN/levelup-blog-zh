# ä½•æ—¶ã€ä¸ºä½•ä»¥åŠå¦‚ä½•ä½¿ç”¨ React ä¸Šä¸‹æ–‡

> åŸæ–‡ï¼š<https://levelup.gitconnected.com/when-why-and-how-to-use-react-context-2f9832a3ebc4>

## React ä¸­çš„ä¸Šä¸‹æ–‡æ˜¯ä»€ä¹ˆï¼Ÿ

![](img/aedf303083713a012c8d26767e05140b.png)

ä½œè€…:FAM

# ä»€ä¹ˆæ˜¯ååº”ä¸Šä¸‹æ–‡ï¼Ÿ

> â€œä¸Šä¸‹æ–‡æä¾›äº†ä¸€ç§é€šè¿‡ç»„ä»¶æ ‘ä¼ é€’æ•°æ®çš„æ–¹å¼ï¼Œè€Œä¸å¿…åœ¨æ¯ä¸€çº§æ‰‹åŠ¨å‘ä¸‹ä¼ é€’å±æ€§ã€‚â€â€”åšå‡ºååº”

## æ²¡æœ‰ååº”ä¸Šä¸‹æ–‡â€¦

å½“æ‚¨éœ€è¦å‘Šè¯‰ä¸€ä¸ªå­ç»„ä»¶ç”±ä¸»ä½“å’Œæ ¹ç»„ä»¶é€šçŸ¥çš„çŠ¶æ€å˜åŒ–æ—¶ï¼Œæˆ‘ä»¬å°†çŠ¶æ€ä»ä¸€ä¸ªç»„ä»¶ä¼ é€’åˆ°å¦ä¸€ä¸ªç»„ä»¶ï¼Œç›´åˆ°åˆ°è¾¾å­ç»„ä»¶ã€‚æˆ‘ä»¬éœ€è¦é€šçŸ¥å®ƒè¿™ä¸€å˜åŒ–ã€‚

*   **è¿™ä¸ªçš„é—®é¢˜:**

åœ¨æŸäº›æ—¶å€™ï¼Œå½“æˆ‘ä»¬ä»ä¸€ä¸ªç»„ä»¶ä¼ é€’åˆ°å¦ä¸€ä¸ªç»„ä»¶æ—¶ï¼Œç­‰ç­‰ã€‚æˆ‘ä»¬æœ‰ä¸€ç§ç°è±¡å«åšé“å…·è®­ç»ƒã€‚æˆ‘ä»¬åœ¨æ”¹å˜çŠ¶æ€çš„ç»„ä»¶å’Œéœ€è¦çŸ¥é“çš„ç»„ä»¶ä¹‹é—´ä½¿ç”¨çš„ç»„ä»¶æœ¬èº«ä¸ä½¿ç”¨é“å…·ã€‚ä»–ä»¬åªæ˜¯ä¼ é€’å®ƒï¼Œç›´åˆ°å®ƒåˆ°è¾¾æˆ‘ä»¬æƒ³è¦é€šçŸ¥çš„å­ç»„ä»¶ã€‚

è¿™äº›éƒ¨ä»¶æœ€ç»ˆå°±åƒä¸€åº§æ¡¥æ¢ï¼Œé€šè¿‡ React props ä¼ é€’æ•°æ®ã€‚

## ä½¿ç”¨ React ä¸Šä¸‹æ–‡æŒ‚é’©â€¦

Context åœ¨ React ä¸­çš„å·¥ä½œæ˜¯åœ¨æ‰€æœ‰åº”ç”¨ç¨‹åºç»„ä»¶ä¹‹é—´å…±äº«æ•°æ®æˆ–åº”ç”¨ç¨‹åºçŠ¶æ€ã€‚è¿™æ„å‘³ç€å¯ä»¥ä»ä»»ä½•ç»„ä»¶è®¿é—®é“å…·ã€‚å› æ­¤ï¼Œä¸éœ€è¦é€šè¿‡å…¶ä»–ç»„ä»¶å°†å®ƒå‘é€åˆ°æˆ‘ä»¬çš„ç›®æ ‡ç»„ä»¶ã€‚æ›´å°‘çš„ä»£ç ï¼Œæ›´å°‘çš„è°ƒè¯•éº»çƒ¦ï¼Œä»¥åŠæ›´å¤šçš„ä»£ç å¯è§æ€§ã€‚

# ä½•æ—¶ä½¿ç”¨ React ä¸Šä¸‹æ–‡

ä¸Šä¸‹æ–‡æ—¨åœ¨å…±äº«å¯è¢«è§†ä¸ºæ•´ä¸ªåº”ç”¨ç¨‹åºâ€œå…¨å±€â€çš„æ•°æ®ã€‚ä¸€ä¸ªä¾‹å­æ˜¯ ***è®¤è¯ç”¨æˆ·*** ï¼Œä¸€ä¸ª ***ä¸»é¢˜*** ï¼Œæˆ–è€… ***ç”¨æˆ·åå¥½*** ã€‚

æˆ‘å·²ç»åœ¨æ„å»ºé»‘æš—æ¨¡å¼åˆ‡æ¢çš„å®è·µæŒ‡å—ä¸­ä½¿ç”¨äº†ä¸Šä¸‹æ–‡ã€‚å¦‚æœæ‚¨å¯¹æˆ‘å¦‚ä½•ç”¨ React ä¸Šä¸‹æ–‡å®ç°è¿™ä¸€ç‚¹æ„Ÿå…´è¶£ï¼Œè¿™é‡Œæ˜¯:

[](https://famzil.medium.com/dark-mode-in-react-533faaee3c6e) [## React ä¸­çš„é»‘æš—æ¨¡å¼

### å¦‚ä½•åœ¨ react JS ä¸­åˆ¶ä½œé»‘æš—ä¸»é¢˜ï¼Ÿ

famzil.medium.com](https://famzil.medium.com/dark-mode-in-react-533faaee3c6e) 

**ä»€ä¹ˆæ—¶å€™ç”¨è¯­å¢ƒå¥½ï¼Ÿæ ‡å¿—:**

*   ä½ æƒ³ä¸ä¸åŒåµŒå¥—å±‚æ¬¡çš„è®¸å¤šç»„ä»¶å…±äº«æ•°æ®ã€‚(å°±åƒä¸€ä¸ªä¸»é¢˜ï¼Œä¾‹å¦‚ï¼Œå½“æ‚¨ä»ç™½è‰²å˜ä¸ºé»‘è‰²æ—¶ï¼Œæ‰€æœ‰ç»„ä»¶éƒ½éœ€è¦åˆ‡æ¢å®ƒä»¬çš„é¢œè‰²ã€å›¾æ ‡ç­‰ç­‰)
*   å½“åŒä¸€ä¸ªé“å…·(æ•°æ®)ä½œä¸ºä¸­é—´ç‰©é€šè¿‡å‡ ä¸ªç»„ä»¶ä¼ é€’æ—¶:

*   å½“çŠ¶æ€è¢«è®¸å¤šç»„ä»¶æ›´æ”¹æ—¶ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¯æ¬¡æ›´æ”¹éƒ½è¦æ‰‹åŠ¨å°†æ–°æ•°æ®ä¼ é€’ç»™å…¶ä»–ç»„ä»¶ï¼Œè¿™å¾ˆå¤æ‚ã€‚å°†å®ƒä»¬è¿æ¥åˆ°åŒä¸€ä¸ªå…¨å±€çŠ¶æ€(ä¸€ä¸ªçœŸå®çš„æ¥æº)ä¼šä½¿ä»£ç æ›´å¹²å‡€ï¼Œæ›´å®¹æ˜“ç»´æŠ¤å’Œè°ƒè¯•ã€‚

> [æ¥æº](https://reactjs.org/docs/context.html#before-you-use-context)

# å¦‚ä½•ä½¿ç”¨ React ä¸Šä¸‹æ–‡ï¼Ÿ

*   `createContext()` API

*   å°†åº”ç”¨ç¨‹åºçš„ä¸»è¦ç»„ä»¶åŒ…è£…åœ¨ä¸Šä¸‹æ–‡ä¸­ã€‚`Provider`å…³é”®å­—æ˜¯å¿…ä¸å¯å°‘çš„ã€‚å®ƒè¡¨æ˜è¿™æ˜¯æˆ‘ä»¬é“å…·å’ŒçŠ¶æ€çš„å…¨çƒä¾›åº”å•†ã€‚

çŠ¶æ€ã€é“å…·æ•°æ®åœ¨`value`å±æ€§ä¸­ä¼ é€’ã€‚æˆ‘å¯ä»¥åªå‘é€`myTitle`é“å…·ï¼Œä½†æ˜¯æˆ‘æƒ³å±•ç¤ºæˆ‘ä»¬å¯ä»¥ä¸ºå¤šä¸ªé“å…·ä¼ å…¥å­—ç¬¦ä¸²å’Œå¯¹è±¡ã€‚

*   è®¿é—®å…±äº«çŠ¶æ€å’Œå±æ€§:

æ³¨æ„ï¼Œæˆ‘ä»¬è¿™æ¬¡ä½¿ç”¨äº†`useContext()`é’©å­æ¥è®¿é—®é“å…·ã€‚è¿™ä¸ªé’©å­éœ€è¦æˆ‘ä»¬åˆ°ç›®å‰ä¸ºæ­¢åˆ›å»ºçš„ä¸Šä¸‹æ–‡æ¥è·å–å…±äº«æ•°æ®ã€‚

# ä¸»é¢˜ç¤ºä¾‹

å¦‚æœä½ è¯»è¿‡å…³äºé»‘æš—æ¨¡å¼çš„æ–‡ç« ï¼Œä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°æˆ‘ç”¨äº†`MyContext.Consumer`ã€‚

è¿™æ˜¯å› ä¸ºï¼Œåœ¨æ¯æ¬¡æŒ‰é’®åˆ‡æ¢ä¹‹åï¼Œæˆ‘éœ€è¦æ›´æ–°ä¸Šä¸‹æ–‡ã€‚è¯¥åŠ¨ä½œç”±ç»„ä»¶æ ‘ä¸­æŸå¤„çš„åµŒå¥—ç»„ä»¶(æœ¬ä¾‹ä¸­çš„ ToggleDark ç»„ä»¶)è§¦å‘ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥é€šè¿‡ä¸Šä¸‹æ–‡å‘ä¸‹ä¼ é€’ä¸€ä¸ªå‡½æ•°ï¼Œä»¥å…è®¸ä½¿ç”¨è€…æ›´æ–°ä¸Šä¸‹æ–‡ã€‚

é»‘æš—ä¸»é¢˜ç¤ºä¾‹ä¸­ä¼ é€’çš„å‡½æ•°æ˜¯`changeTheme`:

å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œå¹¶å¸Œæœ›æˆ‘ä»‹ç»å…¶ä»–çš„ React æŒ‚é’©ï¼Œè¯·åœ¨è¯„è®ºä¸­å‘Šè¯‰æˆ‘ğŸ‘‡

[](https://famzil.medium.com/subscribe) [## å¦‚æœä½ å–œæ¬¢çœ‹æˆ‘çš„æ–‡ç« ...â™¥ï¸

### å¦‚æœä½ å–œæ¬¢çœ‹æˆ‘çš„æ–‡ç« ...â™¥ï¸ï¼Œå½“æˆ‘çš„æ–‡ç« å‘è¡¨æ—¶ï¼Œæ¬¢è¿ä½ ç¬¬ä¸€ä¸ªå¾—åˆ°é€šçŸ¥â€¦

famzil.medium.com](https://famzil.medium.com/subscribe) 

> è°¢è°¢ä½ ï¼Œâ¤

å¦‚æœä½ æœ‰å…´è¶£æˆä¸ºä»˜è´¹ä¼šå‘˜ï¼Œä½ å¯ä»¥ä½¿ç”¨æˆ‘çš„æ¨èé“¾æ¥ã€‚ä¸‹æ¬¡è§

äº²çˆ±çš„è¯»è€…ï¼Œæ„Ÿè°¢ä½ åœ¨æˆ‘ç”Ÿå‘½ä¸­çš„å­˜åœ¨ã€‚

**è®©æˆ‘ä»¬åœ¨** [**ä¸­**](https://medium.com/@famzil/)**[**Linkedin**](https://www.linkedin.com/in/fatima-amzil-9031ba95/)**[**è„¸ä¹¦**](https://www.facebook.com/The-Front-End-World)**[**insta gram**](https://www.instagram.com/the_frontend_world/)**[**YouTube**](https://www.youtube.com/channel/UCaxr-f9r6P1u7Y7SKFHi12g)**æˆ–**ä¸Šå–å¾—è”ç³»************

**å‚è§æˆ‘çš„å…³äºç½‘ç»œè¦ç´ å’Œä¸€èˆ¬æ–‡åŒ–çš„ç”µå­ä¹¦ã€‚**