<html>
<head>
<title>Data Visualization with the plot method in Pandas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫数据可视化的绘图方法</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/data-visualization-with-pandas-in-action-part-2-2cc8674da1d0?source=collection_archive---------7-----------------------#2021-03-29">https://levelup.gitconnected.com/data-visualization-with-pandas-in-action-part-2-2cc8674da1d0?source=collection_archive---------7-----------------------#2021-03-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="48e2" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">数据可视化</h2><div class=""/><div class=""><h2 id="81fb" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">面积图、散点图、六边形箱线图、饼图、密度图、散点图。</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/6cc5c5d62eaf66d83e61b0d9428a206b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1942cZUWICTcQPNu"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated"><a class="ae le" href="https://unsplash.com/@benwhitephotography?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">本·怀特</a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><p id="9987" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">数据可视化是数据分析中最令人愉快的阶段之一。Pandas是用于数据预处理和数据清理的最常用的Python库之一。Matplotlib和Seaborn等库经常用于可视化数据。但是，你可以很容易地用熊猫形象化系列和数据框架。</p><p id="37dd" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><a class="ae le" rel="noopener ugc nofollow" target="_blank" href="/data-visualization-with-pandas-in-action-1-98582b69ee8b">在我的上一篇文章</a>中，我展示了如何使用<code class="fe mb mc md me b">plot</code>方法，并谈到了使用这种方法的条形图、直方图和盒状图。在这篇文章中，我将讨论以下主题:</p><ul class=""><li id="c3e3" class="mf mg iq lh b li lj ll lm lo mh ls mi lw mj ma mk ml mm mn bi translated">面积图</li><li id="0df7" class="mf mg iq lh b li mo ll mp lo mq ls mr lw ms ma mk ml mm mn bi translated">散点图</li><li id="3af8" class="mf mg iq lh b li mo ll mp lo mq ls mr lw ms ma mk ml mm mn bi translated">六边形箱线图</li><li id="bbf9" class="mf mg iq lh b li mo ll mp lo mq ls mr lw ms ma mk ml mm mn bi translated">饼图</li><li id="5198" class="mf mg iq lh b li mo ll mp lo mq ls mr lw ms ma mk ml mm mn bi translated">密度图</li><li id="6252" class="mf mg iq lh b li mo ll mp lo mq ls mr lw ms ma mk ml mm mn bi translated">散布矩阵图</li></ul><p id="df96" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">让我们开始吧！</p><div class="mt mu gp gr mv mw"><a href="https://www.youtube.com/channel/UCFU9Go20p01kC64w-tmFORw" rel="noopener  ugc nofollow" target="_blank"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd ja gy z fp nb fr fs nc fu fw iz bi translated">蒂伦达兹学院</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">嗨，欢迎来到提伦达兹学院。Tirendaz学院是一个在线教育平台，制作视频和写博客…</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">www.youtube.com</p></div></div><div class="nf l"><div class="ng l nh ni nj nf nk ky mw"/></div></div></a></div><h1 id="68fb" class="nl nm iq bd nn no np nq nr ns nt nu nv kf nw kg nx ki ny kj nz kl oa km ob oc bi translated">面积图</h1><p id="e1b6" class="pw-post-body-paragraph lf lg iq lh b li od ka lk ll oe kd ln lo of lq lr ls og lu lv lw oh ly lz ma ij bi translated">通过填充完成线下方的空间来绘制面积图。请注意，对于面积图，每列必须是正数或负数。为了显示面积图，让我们导入必要的库。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="9c71" class="om nm iq me b gy on oo l op oq">import matplotlib.pyplot as plt                       <br/>import numpy as np                       <br/>import pandas as pd</span></pre><p id="c36d" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">让我将seaborn-white样式设置为图形样式。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="72a6" class="om nm iq me b gy on oo l op oq">plt.style.use("fivethirtyeight")</span></pre><p id="929d" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">您可以使用<code class="fe mb mc md me b">plot.area</code>方法绘制面积图。为了展示这个方法，让我创建一个数据帧。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="592c" class="om nm iq me b gy on oo l op oq">df = pd.DataFrame(np.random.rand(10, 4), columns=list("ABCD"))<br/>df.head()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi or"><img src="../Images/07d9e2c7aa7cf474c40d8640337e4fb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:932/format:webp/1*YtYGO1GMnxsuBTJyNrPLOA.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">数据帧的前五行</figcaption></figure><p id="eac7" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">请注意，您可以在这里找到笔记本和数据集<a class="ae le" href="https://github.com/TirendazAcademy/DATA-VISUALIZATION-WITH-PYTHON/blob/main/10-Data%20Visualization%20with%20Pandas%20-%20Part%202.ipynb" rel="noopener ugc nofollow" target="_blank">。让我们只为这个数据集中的一个变量绘制一个面积图。</a></p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="9c5c" class="om nm iq me b gy on oo l op oq">df['A'].plot.area()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi os"><img src="../Images/83dab9a3a29c66c4d82ae56929d35ec8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/format:webp/1*Joq7i_Dwzhp7cAfNQMV5XA.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">一个变量的面积图</figcaption></figure><p id="7d4b" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">让我们画出所有柱子的面积图。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="e49c" class="om nm iq me b gy on oo l op oq">df.plot.area()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/49989fe6f38e32a2c45ebd679d1ffb61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*w9-0wkjT97fTZ35DPs-mDQ.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">多变量面积图</figcaption></figure><p id="026c" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">默认情况下，面积图是堆叠的。要绘制未堆叠的图，可以使用<code class="fe mb mc md me b">stacked = False</code>参数。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="b7db" class="om nm iq me b gy on oo l op oq">df.plot.area(stacked=False)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/b6cd7a304b05744c4254bd70a972803d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1022/format:webp/1*g_hs-ATRLjgOSNBPZ14WMg.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">未堆叠面积图</figcaption></figure><p id="49af" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">请注意，如果有丢失的数据，该值会自动设置为零。此外，您可以使用<code class="fe mb mc md me b">fillna</code>方法删除丢失的数据。</p><p id="2f60" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">让我们继续使用名为iris和movies的真实数据集。你可以点击下载这些数据集<a class="ae le" href="https://github.com/TirendazAcademy/DATA-VISUALIZATION-WITH-PYTHON/tree/main/Datasets" rel="noopener ugc nofollow" target="_blank">。首先，我将使用<code class="fe mb mc md me b">read_csv</code>方法加载著名的虹膜数据集。</a></p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="db64" class="om nm iq me b gy on oo l op oq">iris=pd.read_csv("iris.data", header=None)</span></pre><p id="e401" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">数据集中没有列名。让我们用<code class="fe mb mc md me b">columns</code>方法命名数据集的列。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="4729" class="om nm iq me b gy on oo l op oq">iris.columns=["sepal_length","sepal_width", "petal_length", <br/>              "petal_width", "species"]</span></pre><p id="b780" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">让我们看看带有<code class="fe mb mc md me b">dtypes</code>属性的数据集的列类型。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="e057" class="om nm iq me b gy on oo l op oq">iris.dtypes</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/2089dd9d2eb170375e07cf0ab71de588.png" data-original-src="https://miro.medium.com/v2/resize:fit:390/format:webp/1*3mdrlTgSyX0XbxTz9J7VWg.png"/></div></figure><p id="eb12" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">iris数据集的前四列是数字，最后一列是分类。现在让我们用<code class="fe mb mc md me b">plot.area</code>方法画出数值数据的面积图。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="8f3c" class="om nm iq me b gy on oo l op oq">iris.plot.area()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/8936f2e3b5552b6f974e3825f2edbfff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/1*VfpXi9Mon_goto8sp8zM9g.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">虹膜数据集的面积图</figcaption></figure><p id="d8a5" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">让我们用<code class="fe mb mc md me b">stacked=False</code>参数绘制变量的非堆叠图。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="200a" class="om nm iq me b gy on oo l op oq">iris.plot.area(stacked=False)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/9dcfaba27b56c5c63cf5f9de0b8cf2e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/1*bG2vwCUpFkzYNAIiOYftSQ.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">iris数据集的未堆叠面积图</figcaption></figure><h1 id="b15f" class="nl nm iq bd nn no np nq nr ns nt nu nv kf nw kg nx ki ny kj nz kl oa km ob oc bi translated">散点图</h1><p id="837d" class="pw-post-body-paragraph lf lg iq lh b li od ka lk ll oe kd ln lo of lq lr ls og lu lv lw oh ly lz ma ij bi translated">散点图用于查看两个数值变量之间的关系。<code class="fe mb mc md me b">plot.scatter</code>方法用于绘制散点图。让我们用这种方法在df数据集中绘制变量A和B之间的散点图。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="a607" class="om nm iq me b gy on oo l op oq">df.plot.scatter(x='A', y='B')</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/0d3e730a66f25efc52d834541afabef5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1064/format:webp/1*NsZAsgp_6zvKkQmPBEkqug.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">散点图</figcaption></figure><p id="d349" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在让我们使用IMDb数据集来显示散点图。首先，让我们用<code class="fe mb mc md me b">read_csv</code>方法加载这个数据集。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="007b" class="om nm iq me b gy on oo l op oq">movies=pd.read_csv("imdbratings.txt")</span></pre><p id="bcf8" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">让我们用<code class="fe mb mc md me b">head</code>方法来看看这个数据集的第一行。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="1ee2" class="om nm iq me b gy on oo l op oq">movies.head()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oz"><img src="../Images/c2d753929c02b418a3b18dba742b394a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*djrTerKE1XomLE7SB8dVAw.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">imdb评级数据集的前几行</figcaption></figure><p id="6ff1" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">让我们看看数据集中的列类型。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="8762" class="om nm iq me b gy on oo l op oq">movies.dtypes</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/88d91781e2929e3c566f9e9d1bcf0c8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:438/format:webp/1*HCi7SbCd7AzgDOKhETcXeA.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">变量类型</figcaption></figure><p id="6510" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">注意变量<code class="fe mb mc md me b">star_rating</code>和<code class="fe mb mc md me b">duration</code>是数字。让我们用<code class="fe mb mc md me b">plot.scatter</code>方法画出这两个变量的散点图。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="243d" class="om nm iq me b gy on oo l op oq">movies.plot.scatter(x='star_rating', y='duration')</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/b261a644d76196d8a7e0575305c4b98b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1068/format:webp/1*OwRSXkvxUY4j7dV75sgHsw.png"/></div></figure><p id="58ea" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">您可以使用<code class="fe mb mc md me b">plot</code>方法两次绘制图中两对变量的散点图。让我们在同一个图上查看iris数据集中<code class="fe mb mc md me b">sepal_length</code>和<code class="fe mb mc md me b">sepal_width</code>以及<code class="fe mb mc md me b">petal_length</code>和<code class="fe mb mc md me b">petal_width</code>变量的散点图。为此，让我们首先创建一个名为<code class="fe mb mc md me b">ax</code>的变量，并用这个变量<code class="fe mb mc md me b">ax</code>绘制散点图。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="9e21" class="om nm iq me b gy on oo l op oq">ax=iris.plot.scatter(x='sepal_length', y='sepal_width', <br/>                     color='Blue', label='sepal')<br/>iris.plot.scatter(x='petal_length', y='petal_width', color='red', <br/>                  label='petal', ax=ax)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/d52125816f7587199cdcf8b0f92394a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1034/format:webp/1*NoKje6vZnZtIkiST-6nsHg.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">两对变量的散点图</figcaption></figure><p id="58ca" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如果您想在比较两个变量时设置每个点的颜色，您可以如下编写参数<code class="fe mb mc md me b">c</code>:</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="96e0" class="om nm iq me b gy on oo l op oq">iris.plot.scatter(x='sepal_length', y='sepal_width', <br/>                  c='petal_length', s=100)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/689f3be45169473f6d2dd8a8a0dc0c90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1042/format:webp/1*qiH6Eqy_6PdV7vzZ7a2mGg.png"/></div></figure><p id="078f" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">您可以使用<code class="fe mb mc md me b">s</code>参数调整图上每个点的大小。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="abb7" class="om nm iq me b gy on oo l op oq">iris.plot.scatter(x='sepal_length', y='sepal_width', <br/>                  s=iris['petal_length'] * 50)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/3c4ff875430139d2a93ea0fba19535e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*gRy9XRJjHghpFB1VkmX3wg.png"/></div></figure><h1 id="1ac8" class="nl nm iq bd nn no np nq nr ns nt nu nv kf nw kg nx ki ny kj nz kl oa km ob oc bi translated">六边形箱线图</h1><p id="4821" class="pw-post-body-paragraph lf lg iq lh b li od ka lk ll oe kd ln lo of lq lr ls og lu lv lw oh ly lz ma ij bi translated">如果数据中的观察值数量很大，您可以使用六边形图，而不是使用<code class="fe mb mc md me b">plot.hexbin</code>方法的散点图。让我们画出电影数据集中的<code class="fe mb mc md me b">star_rating</code>和<code class="fe mb mc md me b">duration</code>变量的六边形面元图。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="cc44" class="om nm iq me b gy on oo l op oq">movies.plot.hexbin(x="star_rating", y="duration", gridsize=25)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/c13b4ecc5b61a8669bd9a6eee98a26c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*oBICyQbsnTdkJtSRX1uC7Q.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">六边形箱线图</figcaption></figure><p id="c6f8" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">要确定x轴上六边形的数量，您可以使用<code class="fe mb mc md me b">gridsize</code>参数。默认情况下，该值为100。让我们将<code class="fe mb mc md me b">gridsize</code>设置为10。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="0e00" class="om nm iq me b gy on oo l op oq">movies.plot.hexbin(x="star_rating", y="duration", gridsize=10)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/c7314cb87f0e5c4f82735f2b20012a32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1022/format:webp/1*eFCMAB1Vs_rJR7oe5d-IeQ.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">六边形箱线图</figcaption></figure><p id="98e6" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">请记住，因为我们设置为<code class="fe mb mc md me b">gridsize=10</code>，六边形变得更大。</p><h1 id="ff0d" class="nl nm iq bd nn no np nq nr ns nt nu nv kf nw kg nx ki ny kj nz kl oa km ob oc bi translated">饼图</h1><p id="7c82" class="pw-post-body-paragraph lf lg iq lh b li od ka lk ll oe kd ln lo of lq lr ls og lu lv lw oh ly lz ma ij bi translated">饼图是只能显示一个数据系列的圆形统计图。您可以使用<code class="fe mb mc md me b">plot.pie</code>方法绘制系列和数据框的饼图。让我们用虹膜数据集来展示这个图。首先，我将选择<code class="fe mb mc md me b">petal_width</code>变量，并通过变量<code class="fe mb mc md me b">species</code>对数据集进行分组。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="9222" class="om nm iq me b gy on oo l op oq">iris_avg=iris["petal_width"].groupby(iris["species"]).mean()<br/>iris_avg</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pf"><img src="../Images/72419106209ae6f6441ce08bc29a9587.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*frZpuBbSfZ0ZR2zsSKQ_QA.png"/></div></div></figure><p id="72f5" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在让我们用<code class="fe mb mc md me b">plot.pie</code>方法绘制一个饼状图。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="52a7" class="om nm iq me b gy on oo l op oq">iris_avg.plot.pie()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi pg"><img src="../Images/145764e63477321a7f8b1ff7b57bbe0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:794/format:webp/1*4Y3TzhsTX565jHjyUzpuVg.png"/></div></figure><p id="53cc" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在让我们画出iris数据集的两个数值变量的饼状图，我们根据变量种类对它们进行了分组。首先，让我们创建名为<code class="fe mb mc md me b">iris_avg_2</code>的变量。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="e1b0" class="om nm iq me b gy on oo l op oq">iris_avg_2=iris[["petal_width", <br/>                 "petal_length"]].groupby(iris["species"]).mean()</span></pre><p id="64b0" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在，让我们为这个数据集的每一列分别绘制一个饼图。对于数据帧数据的饼图，要么输入特定的a <code class="fe mb mc md me b">y</code>值，要么使用<code class="fe mb mc md me b">subplots = True</code>参数。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="ccf6" class="om nm iq me b gy on oo l op oq">iris_avg_2.plot.pie(subplots=True)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ph"><img src="../Images/044b5e2254cfc6ceb006bea9c5c36205.png" data-original-src="https://miro.medium.com/v2/resize:fit:1150/format:webp/1*h_rUDKZ8vnd75vBIsMp1lA.png"/></div></figure><p id="8a63" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">您还可以设置其他属性，如饼图中的标签。例如，让我们处理<code class="fe mb mc md me b">iris_avg</code>数据，并用默认值绘制该数据的饼图。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="2fe1" class="om nm iq me b gy on oo l op oq">iris_avg.plot.pie()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/5c9f3494255b72609470b052a7b00fcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:790/format:webp/1*e48uh8wqIhFVS68TqOgT1Q.png"/></div></figure><p id="fb5e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在让我们设置属性。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="76ee" class="om nm iq me b gy on oo l op oq">iris_avg.plot.pie(labels=["setosa","versicolor", "virginica"], <br/>                  colors=list("brg"), fontsize=25, figsize=(10,10))</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi pj"><img src="../Images/224da2a684e1252c151f61761c215734.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*gv19CMcmCB3UN9sYgGKlJw.png"/></div></figure><p id="4174" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">要查看饼图切片的百分比，您可以使用<code class="fe mb mc md me b">autopct='%.2f'</code>参数。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="64de" class="om nm iq me b gy on oo l op oq">iris_avg.plot.pie(labels=["setosa","versicolor", "virginica"],   <br/>                  colors=list("brg"),<br/>                  autopct='%.2f', <br/>                  fontsize=25, <br/>                  figsize=(10,10))</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi pk"><img src="../Images/676fe48b6ad98655b66c095ee12f1f25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/1*g1jBMragKHNo-MgPNENvAg.png"/></div></figure><h1 id="5bc5" class="nl nm iq bd nn no np nq nr ns nt nu nv kf nw kg nx ki ny kj nz kl oa km ob oc bi translated">密度图</h1><p id="1f24" class="pw-post-body-paragraph lf lg iq lh b li od ka lk ll oe kd ln lo of lq lr ls og lu lv lw oh ly lz ma ij bi translated">密度图允许可视化一个或几个组的数值变量的分布。您可以使用<code class="fe mb mc md me b">plot.kde</code>方法绘制密度图。此方法可用于序列和数据帧。让我们绘制iris数据集中数值变量的密度图。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="0908" class="om nm iq me b gy on oo l op oq">iris.plot.kde()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi pl"><img src="../Images/c480292b06cac3a720ba27363660e21e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1070/format:webp/1*CuPMzpt48DHHLicATzGHKw.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">密度图</figcaption></figure><h1 id="9b06" class="nl nm iq bd nn no np nq nr ns nt nu nv kf nw kg nx ki ny kj nz kl oa km ob oc bi translated">散布矩阵</h1><p id="fc54" class="pw-post-body-paragraph lf lg iq lh b li od ka lk ll oe kd ln lo of lq lr ls og lu lv lw oh ly lz ma ij bi translated">在多元统计和概率论中，散布矩阵是用于估计协方差矩阵的统计量。您可以使用<code class="fe mb mc md me b">scatter_matrix</code>方法绘制散布矩阵。我们先从<code class="fe mb mc md me b">pandas.plotting</code>导入这个方法。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="62ee" class="om nm iq me b gy on oo l op oq">from pandas.plotting import scatter_matrix</span></pre><p id="03cc" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在让我们看看电影数据集中数字列的散布矩阵。</p><pre class="kp kq kr ks gt oi me oj ok aw ol bi"><span id="ff5c" class="om nm iq me b gy on oo l op oq">scatter_matrix(movies, alpha=0.5, diagonal='kde')</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi pm"><img src="../Images/194fd8275be2be27f02f25444f741780.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/1*NvYA2QuS4gzh-JPS9mw_CQ.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">散布矩阵</figcaption></figure><h1 id="2aa4" class="nl nm iq bd nn no np nq nr ns nt nu nv kf nw kg nx ki ny kj nz kl oa km ob oc bi translated">结论</h1><p id="ee3d" class="pw-post-body-paragraph lf lg iq lh b li od ka lk ll oe kd ln lo of lq lr ls og lu lv lw oh ly lz ma ij bi translated">可以使用Pandas中的<code class="fe mb mc md me b">plot</code>方法进行数据可视化。这种方法可以让您更容易地绘制图形。在这篇文章中，我用这种方法讲了面积图，散点图，六边形面元图，饼图，密度图，散点图。就是这样。我希望你喜欢它。感谢您的阅读。你可以在这里找到这个笔记本<a class="ae le" href="https://github.com/TirendazAcademy/DATA-VISUALIZATION-WITH-PYTHON/blob/main/09-Data%20Visualization%20with%20Pandas%20-%20Part%201.ipynb" rel="noopener ugc nofollow" target="_blank">。别忘了关注我们的</a><a class="ae le" href="https://www.youtube.com/channel/UCFU9Go20p01kC64w-tmFORw" rel="noopener ugc nofollow" target="_blank">YouTube</a>|<a class="ae le" href="https://github.com/tirendazacademy" rel="noopener ugc nofollow" target="_blank">GitHub</a>|<a class="ae le" href="https://twitter.com/TirendazAcademy" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae le" href="https://www.kaggle.com/tirendazacademy" rel="noopener ugc nofollow" target="_blank">ka ggle</a>|<a class="ae le" href="https://www.linkedin.com/in/tirendaz-academy" rel="noopener ugc nofollow" target="_blank">LinkedIn</a></p><div class="mt mu gp gr mv"><div role="button" tabindex="0" class="ab bv gv cb fp pn po bn pp ky ex"><div class="pq l"><div class="ab q"><div class="l di"><img alt="Tirendaz AI" class="l de bw pr ps fe" src="../Images/384c46a0053e6856ca4df470ae6476d6.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*kmflHCCpj1_qrGGBdH3BJA.png"/><div class="fb bw l pr ps fc n aw fd"/></div><div class="hh l fo"><p class="bd b dl z fp fq fr fs ft fu fv fw dk translated"><a class="ae af ag ah ai aj ak al am an ao ap aq ar as" href="https://tirendazacademy.medium.com/?source=post_page-----2cc8674da1d0--------------------------------" rel="noopener follow" target="_top">提伦达兹艾</a></p></div></div><div class="pv pw gw l"><h2 class="bd ja vf mf fp vg fr fs nc fu fw iz bi translated">用Python实现数据可视化</h2></div><div class="ab q"><div class="l fo"><a class="bd b be z bi vh au vi vj vk rr vl an eh ei vm vn vo el em eo de bk ep" href="https://tirendazacademy.medium.com/list/data-visualization-with-python-72919ad57b84?source=post_page-----2cc8674da1d0--------------------------------" rel="noopener follow" target="_top">View list</a></div><div class="vp l fo"><span class="bd b dl z dk">11 stories</span></div></div></div><div class="qi dh qj fp ab qk fo di"><div class="di qa bv qb qc"><div class="dh l"><img alt="" class="dh" src="../Images/c488dead590dd5010c1227364ba2701f.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*4vLOH7GQkZfI6S9W"/></div></div><div class="di qa bv qd qe qf"><div class="dh l"><img alt="" class="dh" src="../Images/76b23c08a8d0b95169094b46bd2f6251.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*ph9z4RLiQ7_IndrM"/></div></div><div class="di bv qg qh qf"><div class="dh l"><img alt="" class="dh" src="../Images/f0183d951fb93667dc3324d16a64366a.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*FrvfLW1RLTV8Vbgz"/></div></div></div></div></div><p id="561e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><em class="qo">如果这篇文章有帮助，请点击拍手👏按钮几下，以示支持👇</em></p></div></div>    
</body>
</html>