<html>
<head>
<title>5 Powerful Python One-Liners You Should Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">您应该知道的5个强大的Python一行程序</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/5-powerful-python-one-liners-you-should-know-469b9c4737c7?source=collection_archive---------1-----------------------#2021-07-08">https://levelup.gitconnected.com/5-powerful-python-one-liners-you-should-know-469b9c4737c7?source=collection_archive---------1-----------------------#2021-07-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1794" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如果没有map()函数和理解，我真不知道该怎么办。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/930b863985743531b258dc6c5919923f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vmAbP0ETrKWzfkFk"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@jannerboy62?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">尼克·费因斯</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><p id="da4f" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">我喜欢用Python，因为它简单。我总是着迷于用一条线解决复杂的问题。当然，Python中的大多数一行程序都是用<code class="fe mc md me mf b">map()</code>和comprehensions编写的。它们有利于用一条线解决你的问题。</p><p id="0a52" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">您还可以使用<code class="fe mc md me mf b">map()</code>和列表理解来提高Python程序的效率。我就这个问题写过一篇文章:</p><div class="mg mh gp gr mi mj"><a href="https://python.plainenglish.io/5-ways-to-make-your-python-code-faster-463a3c946534" rel="noopener  ugc nofollow" target="_blank"><div class="mk ab fo"><div class="ml ab mm cl cj mn"><h2 class="bd iu gy z fp mo fr fs mp fu fw is bi translated">提高Python代码速度的5种方法</h2><div class="mq l"><h3 class="bd b gy z fp mo fr fs mp fu fw dk translated">让我们来学习如何让Python更快！</h3></div><div class="mr l"><p class="bd b dl z fp mo fr fs mp fu fw dk translated">python .平原英语. io</p></div></div><div class="ms l"><div class="mt l mu mv mw ms mx ks mj"/></div></div></a></div><p id="c2b7" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">我们开始吧！</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="9a25" class="my mz it bd na nb nc dn nd ne nf dp ng lp nh ni nj lt nk nl nm lx nn no np nq bi translated">1-列表中所有项目的类型转换</h2><p id="2d86" class="pw-post-body-paragraph lg lh it li b lj nr ju ll lm ns jx lo lp nt lr ls lt nu lv lw lx nv lz ma mb im bi translated">当您需要更改列表中值的类型时，这很有用。</p><p id="a444" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated"><strong class="li iu">例1: </strong></p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="7155" class="my mz it mf b gy oa ob l oc od">&gt;&gt;&gt; list(map(int, ['1', '2', '3']))</span></pre><p id="8424" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated"><strong class="li iu">输出:</strong></p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="8c01" class="my mz it mf b gy oa ob l oc od">[1, 2, 3]</span></pre><p id="5961" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated"><strong class="li iu">例2: </strong></p><p id="6968" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">当我们想要制作一个包含异质同质项目的列表时，这也很有用。</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="d549" class="my mz it mf b gy oa ob l oc od">&gt;&gt;&gt; list(map(float, ['1', 2, '3.0', 4.0, '5', 6]))</span></pre><p id="23bd" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated"><strong class="li iu">输出:</strong></p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="bc7e" class="my mz it mf b gy oa ob l oc od">[1.0, 2.0, 3.0, 4.0, 5.0, 6.0]</span></pre></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="7f36" class="my mz it bd na nb nc dn nd ne nf dp ng lp nh ni nj lt nk nl nm lx nn no np nq bi translated">2-整数的位数之和</h2><p id="c9ff" class="pw-post-body-paragraph lg lh it li b lj nr ju ll lm ns jx lo lp nt lr ls lt nu lv lw lx nv lz ma mb im bi translated">你不必使用数学运算符，即<code class="fe mc md me mf b">/</code>(除法)和<code class="fe mc md me mf b">%</code>(模)运算符来计算一个整数的位数之和。有另一种方法可以做到这一点。如果我们把数字转换成字符串，一切就变得容易了。但是怎么做呢？我们已经知道字符串是可迭代的，所以我们可以用<code class="fe mc md me mf b">map()</code>函数迭代字符串中的字符。我们基本上会用这个逻辑。</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="b75f" class="my mz it mf b gy oa ob l oc od">&gt;&gt;&gt; sum_of_digits = lambda x: sum(map(int, str(x)))</span></pre><p id="42fa" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated"><strong class="li iu">例子:</strong></p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="ce22" class="my mz it mf b gy oa ob l oc od">&gt;&gt;&gt; print(sum_of_digits(1789))</span></pre><p id="6195" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated"><strong class="li iu">输出:</strong></p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="7fc1" class="my mz it mf b gy oa ob l oc od">25</span></pre></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="8008" class="my mz it bd na nb nc dn nd ne nf dp ng lp nh ni nj lt nk nl nm lx nn no np nq bi translated">3-包含子列表的平面列表</h2><p id="926d" class="pw-post-body-paragraph lg lh it li b lj nr ju ll lm ns jx lo lp nt lr ls lt nu lv lw lx nv lz ma mb im bi translated">假设我们有一个这样的列表:</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="2825" class="my mz it mf b gy oa ob l oc od">&gt;&gt;&gt; l = [[1, 2, 3], [4, 5], [6], [7, 8], [9]]</span></pre><p id="960a" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">我们希望简化列表，使结果变成:</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="03eb" class="my mz it mf b gy oa ob l oc od">[1, 2, 3, 4, 5, 6, 7, 8, 9]</span></pre><p id="e413" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">这是首先想到的一种方法:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="705a" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">但是我们可以进一步应用列表理解来改进我们的代码:</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="d641" class="my mz it mf b gy oa ob l oc od">&gt;&gt;&gt; flattened_list = [item for sublist in l for item in sublist]</span></pre><p id="a212" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated"><strong class="li iu">例如:</strong></p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="babb" class="my mz it mf b gy oa ob l oc od">&gt;&gt;&gt; l = [[1, 2, 3], [4, 5], [6], [7, 8], [9]]</span><span id="ad70" class="my mz it mf b gy og ob l oc od">&gt;&gt;&gt; flattened_list = [item for sublist in l for item in sublist]<br/>&gt;&gt;&gt; print(flattened_list)</span></pre><p id="ad18" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated"><strong class="li iu">输出:</strong></p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="5e66" class="my mz it mf b gy oa ob l oc od">[1, 2, 3, 4, 5, 6, 7, 8, 9]</span></pre></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="8e20" class="my mz it bd na nb nc dn nd ne nf dp ng lp nh ni nj lt nk nl nm lx nn no np nq bi translated">矩阵的4-转置</h2><p id="c71d" class="pw-post-body-paragraph lg lh it li b lj nr ju ll lm ns jx lo lp nt lr ls lt nu lv lw lx nv lz ma mb im bi translated">使用<code class="fe mc md me mf b">zip()</code>功能是一个很好的做法。</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="581a" class="my mz it mf b gy oa ob l oc od">&gt;&gt;&gt; transpose_A = [list(i) for i in zip(*A)]</span></pre><p id="2d8a" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated"><strong class="li iu">例如:</strong></p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="29e5" class="my mz it mf b gy oa ob l oc od">&gt;&gt;&gt; A = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]</span><span id="dab5" class="my mz it mf b gy og ob l oc od">&gt;&gt;&gt; transpose_A = [list(i) for i in zip(*A)]</span></pre><p id="5f26" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">让我们使用<code class="fe mc md me mf b">numpy</code>来打印结果。打印二维数组很有用。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="ed2c" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated"><strong class="li iu">输出:</strong></p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="7003" class="my mz it mf b gy oa ob l oc od">[[1 2 3]<br/> [4 5 6]<br/> [7 8 9]]</span><span id="aad9" class="my mz it mf b gy og ob l oc od">[[1 4 7]<br/> [2 5 8]<br/> [3 6 9]]</span></pre></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="95ea" class="my mz it bd na nb nc dn nd ne nf dp ng lp nh ni nj lt nk nl nm lx nn no np nq bi translated">5-交换字典中的键和值</h2><p id="532a" class="pw-post-body-paragraph lg lh it li b lj nr ju ll lm ns jx lo lp nt lr ls lt nu lv lw lx nv lz ma mb im bi translated">假设我们将人员数据存储在一个<code class="fe mc md me mf b">dict</code>中，并希望交换键-值对。</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="efb7" class="my mz it mf b gy oa ob l oc od">&gt;&gt;&gt; staff = {'Data Scientist': 'John', 'Django Developer': 'Jane'}</span></pre><p id="91e2" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">我们可以使用字典理解来交换键值对。</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="7bf4" class="my mz it mf b gy oa ob l oc od">&gt;&gt;&gt; staff = {i:j for j, i in staff.items()}</span></pre><p id="ec33" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">让我们打印结果:</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="c841" class="my mz it mf b gy oa ob l oc od">&gt;&gt;&gt; print(staff)</span></pre><p id="e607" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated"><strong class="li iu">输出:</strong></p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="ce8a" class="my mz it mf b gy oa ob l oc od">{'John': 'Data Scientist', 'Jane': 'Django Developer'}</span></pre></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><p id="3228" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">就是这样！希望这篇文章对你有用。</p><p id="0177" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">要不你再看一篇有用的文章？</p><div class="mg mh gp gr mi mj"><a href="https://python.plainenglish.io/11-python-tricks-to-boost-your-python-skills-significantly-1a5221dfa5c7" rel="noopener  ugc nofollow" target="_blank"><div class="mk ab fo"><div class="ml ab mm cl cj mn"><h2 class="bd iu gy z fp mo fr fs mp fu fw is bi translated">显著提升你的Python技能的11个Python技巧</h2><div class="mq l"><h3 class="bd b gy z fp mo fr fs mp fu fw dk translated">你不会相信有了这些技巧，Python中的事情会变得多么简单！</h3></div><div class="mr l"><p class="bd b dl z fp mo fr fs mp fu fw dk translated">python .平原英语. io</p></div></div><div class="ms l"><div class="oh l mu mv mw ms mx ks mj"/></div></div></a></div></div></div>    
</body>
</html>