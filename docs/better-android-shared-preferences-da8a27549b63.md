# 更好的 Android 共享偏好

> 原文：<https://levelup.gitconnected.com/better-android-shared-preferences-da8a27549b63>

![](img/1e3f3612a3d3d9c78e189174589811f4.png)

图片来自 Instagram，作者 [phunnyspirit](https://www.instagram.com/p/B3AUF9OpmxG/)

共享偏好设置是一个 goto 解决方案，可以为您的 android 应用程序存储几乎任何类型的信息。

但是实现它们有时会很麻烦和冗长，每次您想要读取/编辑它们时都要初始化共享的首选项对象。

以下是一种简单有效地使用共享偏好设置的替代方法:

*   我们创建一个`Prefs`类，作为读取/写入我们共享偏好的唯一联系点:

*“我的应用程序”是共享的首选项名称。它可以是带有您的应用程序名称的字符串。*

我们在这里实现了一个接口，用于保存应用程序中使用的所有共享首选项。

虽然这是完全可选的，但这种方法可以帮助您了解哪些字段已经存储在您的共享首选项中，并防止您的共享首选项数据失控。

*   既然我们的 Prefs 类已经定义好了，我们所需要的就是初始化我们共享的 preferences 对象的上下文。这个上下文需要是应用程序范围的，并且不依赖于任何一个活动，所以我们创建一个应用程序类，并从我们的应用程序清单中设置它的上下文。我们将这个类创建为单例类，因为我们在任何时候都只需要它的一个实例。

应用程序单例类:

*   在我们的应用程序 AndroidManifest.xml 中:

*注意一下* ***android:name= "。应用程序标记*中的 BaseApplication"** *部分*

*就是这样！*

现在，您可以使用您的偏好，例如:

您甚至可以将 Prefs 对象放在您的基本活动中，这样您就不必一次又一次地初始化它。

访问[22boxes.com](https://22boxes.com/)获取更多移动&网络开发资源。