<html>
<head>
<title>How to Debug Web Program like a Pro</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何像专家一样调试Web程序</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-debug-web-program-like-a-pro-ebc8995201bf?source=collection_archive---------17-----------------------#2022-02-27">https://levelup.gitconnected.com/how-to-debug-web-program-like-a-pro-ebc8995201bf?source=collection_archive---------17-----------------------#2022-02-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9366" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用VS代码或web DevTools调试Web程序。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e8ae801018eef0dd6addf9060535c315.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*q_67Y2rBAbe6VAH3"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@sigmund?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">西格蒙德</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="4012" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你还没看过我发表的调试系列第一篇:<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/want-to-become-a-senior-frontend-developer-you-must-master-debugging-f577ee569687"> <em class="lv">如何用VS代码调试Node.js程序？</em> </a> <em class="lv"> </em>最好提前看完，里面涵盖了用VS代码调试的基础知识。这篇文章是第二篇，我将重点介绍如何在web DevTools和VS代码中调试Web程序，所以请跟我来。</p><h1 id="e875" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">使用Web DevTools调试</h1><p id="b3a3" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">既然要调试web程序，那就先介绍一下如何在Web DevTools中调试。市面上的浏览器有很多，但是他们对DevTools的使用都差不多，下面就和我一起看看chrome浏览器提供的调试方案吧。</p><p id="334f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Chrome DevTools提供的调试功能可以在源代码面板上找到。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/a72b9d972d542db4c17c532181d2bc42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ji-EbTCeM5DYgeInsmZVKQ.png"/></div></div></figure><p id="192b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们从左边开始:</p><p id="0052" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">页面</strong>:页面窗格可以查看页面已经加载的所有资源。</p><p id="ec18" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">文件系统:</strong>默认情况下，当您在“源代码”面板中编辑文件时，这些更改会在您重新加载页面时丢失。工作区可以将DevTools中所做的更改保存到文件系统中。</p><p id="82bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> Overrides: </strong> Overrides类似于Workspaces，可以覆盖当前页面上的本地文件，页面刷新后仍然生效，但不会将更改映射到页面的源代码。这对于一些需要在线调试的场景很有用。</p><p id="7bb4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> Snippets: </strong> Snippets可以在浏览器环境中运行脚本。您可以使用此功能将一些库加载到当前环境中，然后可以在控制台面板中调用库中的方法。</p><p id="efa2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，让我们从左侧选择一个文件，并查看中间部分:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/7324164920f4c6d270144ace561af93a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JqXktWBi6-g0aRmEyy6yow.png"/></div></div></figure><p id="aed6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里的操作类似于VS代码中的操作。用鼠标左键点击断点，鼠标右键可以设置特殊类型的断点，比如条件断点和日志点。如果不确定，可以查看<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/want-to-become-a-senior-frontend-developer-you-must-master-debugging-f577ee569687">上一篇</a>。</p><p id="4923" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，让我们看看右边的部分:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/fa9d0fde07dfdec0804e8518cba30252.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*BrvtulI2Ka_ILoSd5HayFA.png"/></div></figure><p id="f239" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第一个是调试操作。前四个与VS代码中的效果相同，后三个是:</p><ul class=""><li id="15cd" class="mw mx it lb b lc ld lf lg li my lm mz lq na lu nb nc nd ne bi translated"><strong class="lb iu">步</strong>步<code class="fe nf ng nh ni b"><strong class="lb iu">F9</strong></code></li></ul><p id="0138" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个选项允许我们逐行执行JavaScript代码，如果中间有函数调用，它也会进入函数，逐行执行，然后退出。</p><ul class=""><li id="66d5" class="mw mx it lb b lc ld lf lg li my lm mz lq na lu nb nc nd ne bi translated"><strong class="lb iu">停用断点</strong> <code class="fe nf ng nh ni b"><strong class="lb iu">Ctrl+F8</strong></code></li><li id="beff" class="mw mx it lb b lc nj lf nk li nl lm nm lq nn lu nb nc nd ne bi translated"><strong class="lb iu">不要因为异常而暂停</strong></li></ul><p id="3e50" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">默认情况下，异常会直接抛出而不会暂停，我们可以点击这个选项在异常发生时暂停代码。VS代码也提供了类似的特性。</p><p id="ed0d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来是<strong class="lb iu">手表</strong>块，和VS码的功能一样。</p><p id="4322" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来是<strong class="lb iu">断点</strong>块，和VS代码的功能一样。</p><p id="6fa0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来是<strong class="lb iu">作用域</strong>块，与VS代码中的<strong class="lb iu">变量</strong>具有相同的特性。</p><p id="b154" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来是<strong class="lb iu">调用栈</strong>块，和VS代码有相同的特性。</p><p id="6e4f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来是<strong class="lb iu">XHR/fetch</strong>T17】断点块，可以输入指定的URL片段。一旦浏览器发送包含子片段的XHR/获取请求，它将进入断点。如果输入为空，则为所有请求启用断点。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/01a75988b660186355e4fd420cd52622.png" data-original-src="https://miro.medium.com/v2/resize:fit:818/format:webp/1*0GPVYIwjG6l2GoZi_JLufg.png"/></div></figure><p id="0770" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来是<strong class="lb iu"> DOM断点</strong>块，要设置它，你需要去Elements面板。右键单击DOM元素可以查看以下选项。在监视DOM变化时，它会很有用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/9606d1ffc959cc3d4d26d3dc131c795f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*qYBY0nMexh3Xt9AIC2m0bg.gif"/></div></div></figure><p id="1992" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来是<strong class="lb iu">全局监听器</strong>块，它显示了所有绑定到窗口的事件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/5ccc0a1d053ddfe7552b22aa6e56d0fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GPmJ-yKSKG5y0q1sdQXJqA.png"/></div></div></figure><p id="0b51" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以找到相应的绑定代码，或者单击“删除”将其删除。但是注意这里是所有绑定到窗口的事件，文档或者特定的元素事件需要在元素面板中找到对应的元素，然后看右边的事件监听器。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/6f4087beb60aec198ad2873076722cd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j_fqznaks2qdomdBlH_o6Q.png"/></div></div></figure><p id="f085" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来是<strong class="lb iu">事件监听器断点</strong>块，你可以在这里打勾，触发相应的事件就会进入断点。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/76fa4d9ec9a31780fd31c529b7d1bb24.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*kMOezk3hptVBQu7NAhCFBg.png"/></div></figure><p id="27e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来是<strong class="lb iu"> CSP违反断点</strong>块，当<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP" rel="noopener ugc nofollow" target="_blank"> CSP </a>被违反时进入一个断点，这个<a class="ae ky" href="https://developer.chrome.com/blog/new-in-devtools-89/#trusted-types-violations" rel="noopener ugc nofollow" target="_blank">链接</a>是官方介绍。</p><p id="3621" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以上都是关于Web DevTools中的调试，我们来看看如何在VS代码中调试Web程序。</p><h1 id="0f8f" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">用VS代码调试</h1><p id="4702" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">我在<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/want-to-become-a-senior-frontend-developer-you-must-master-debugging-f577ee569687">T3中介绍过VS代码相关的调试特性如何用VS代码调试Node.js程序？ </a>。也适用于web程序，但是需要在launch.json中添加新的配置。</p><p id="ef7b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于简单的web程序调试，您可以直接使用以下配置:</p><pre class="kj kk kl km gt nt ni nu nv aw nw bi"><span id="98f2" class="nx lx it ni b gy ny nz l oa ob">{<br/>  "name": "Open index.html",<br/>  "request": "launch",<br/>  "type": "pwa-chrome",<br/>  "file": "Your HTML file path"<br/>}</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/f8807bddc67645756304862cb2f11344.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Sm6xGxm0l7c0DrGIVI95hQ.gif"/></div></div></figure><p id="f300" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是如果要调试React应用程序，这是不可行的，我们可以使用下面的配置来处理这种情况:</p><pre class="kj kk kl km gt nt ni nu nv aw nw bi"><span id="592a" class="nx lx it ni b gy ny nz l oa ob">{<br/>  "name": "Launch Chrome",<br/>  "request": "launch",<br/>  "type": "pwa-chrome",<br/>  "url": "Your web service URL, such as <a class="ae ky" href="http://localhost:8080" rel="noopener ugc nofollow" target="_blank">http://localhost:8080</a>",<br/>  "webRoot": "${workspaceFolder}"<br/>},</span></pre><p id="a34c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">特别注意这里的<strong class="lb iu"> webRoot </strong>参数。<code class="fe nf ng nh ni b">${workspaceFolder}</code>是VS代码中打开的文件夹的路径，如果不是你的web服务的根路径，需要修改。</p><p id="9823" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面这个例子，就是<code class="fe nf ng nh ni b">${workspaceFolder}/react-app</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/57639e7465fedba0bb8c8911e2ac7356.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*FBHCm7rSrv5Hy6h6kUSlnA.gif"/></div></div></figure><p id="7be2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，我们也可以自己启动一个HTTP服务器，然后把URL填入launch.json，也可以调试。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/ec214b18a15d18d30cc954c98837c6fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ne3eFqgnBpZB0fB8We1sKg.gif"/></div></div></figure></div><div class="ab cl of og hx oh" role="separator"><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok"/></div><div class="im in io ip iq"><p id="f578" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我是李。我会继续输出前端技术相关的故事。如果你喜欢这样的故事，想支持我，请考虑成为 <a class="ae ky" href="https://medium.com/@islizeqiang/membership" rel="noopener"> <em class="lv">中会员</em> </a> <em class="lv">。每月5美元，你可以无限制地访问媒体内容。如果你通过</em> <a class="ae ky" href="https://medium.com/@islizeqiang/membership" rel="noopener"> <em class="lv">我的链接</em> </a> <em class="lv">报名，我会得到一点佣金。</em></p><p id="e5ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你的支持对我来说非常重要——谢谢。</p></div></div>    
</body>
</html>