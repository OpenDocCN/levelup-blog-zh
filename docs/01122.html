<html>
<head>
<title>Handling Dates in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript处理日期</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/handling-dates-in-javascript-3587ace328c9?source=collection_archive---------1-----------------------#2019-11-12">https://levelup.gitconnected.com/handling-dates-in-javascript-3587ace328c9?source=collection_archive---------1-----------------------#2019-11-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/1125fb7c9c602502e288b7ed5b73fcfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sX7Rx89oiyZf1E0j"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated"><a class="ae kf" href="https://unsplash.com/@icons8?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Icons8团队</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="ad46" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在许多JavaScript程序中，处理日期和时间也很重要。这就是为什么JavaScript有一个内置的<code class="fe le lf lg lh b">Date</code>对象来处理日期操作。Dates对象包含一个数字，表示自UTC(Linux纪元时间)1970年1月以来的毫秒数。</p><p id="de42" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以用Date对象做很多事情来操作日期。然而，它有许多怪癖和缺失的功能。因此，在许多情况下，第三方库处理日期比使用内置的日期对象更好。Moment.js是其中比较流行的一个，所以当我们需要在JavaScript中操作日期时，它自然是第一选择。</p><h1 id="090b" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">内置日期对象</h1><p id="afff" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">为了在JavaScript中处理日期，我们必须创建一个<code class="fe le lf lg lh b">new Date</code>对象。date对象的构造函数接受零个或多个参数。如果没有传入参数，那么创建的Date对象将具有您本地时区的当前日期和时间，从实例化时开始。</p><p id="3eb8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它可以接受的参数包括日期字符串、另一个日期对象或(年、月索引、日、小时、分钟、秒和毫秒)的组合。我们可以向日期构造函数传递如下日期字符串:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="21da" class="mt lj it lh b gy mu mv l mw mx">new Date('2019-01-01');</span></pre><p id="3a91" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们记录结果，我们会得到<code class="fe le lf lg lh b">‘Mon Dec 31 2018 16:00:00 GMT-0800 (Pacific Standard Time)’</code>，因为日期存储在UTC中，浏览器运行在太平洋时区的计算机上，这比2019年1月1日的UTC晚8个小时，即太平洋标准时间。</p><p id="56a4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正如我们所见，将日期字符串传递给<code class="fe le lf lg lh b">Date</code>构造函数令人困惑。不同的浏览器解析日期字符串的方式不同。同样，<code class="fe le lf lg lh b">Date.parse</code>方法也不应该用于解析日期字符串。我们可以看到，像我们传入的只包含日期的字符串被视为UTC，而不是本地时间。</p><p id="2331" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们想把一个日期对象传递给构造函数，我们可以写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="364c" class="mt lj it lh b gy mu mv l mw mx">new Date(new Date());</span></pre><p id="06a8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当我们记录结果时，我们会得到类似“太阳2019年10月20日10:57:58 GMT-0700(太平洋夏令时)”的信息。这是以当地时间显示的。</p><p id="0ae8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以将年、月索引、日、小时、分钟、秒和毫秒传递给构造函数。只需要年份和月份。所以我们可以这样写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="3f75" class="mt lj it lh b gy mu mv l mw mx">new Date(2019,0,1,0,0,0,0)</span></pre><p id="cd77" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们记录它，将返回“2019年1月1日星期二00:00:00 GMT-0800(太平洋标准时间)”。注意，我们在构造函数的第二个参数中有0。第二个参数是月份索引，0表示一月，1表示二月，依此类推。所以12月是11日。其余的论点是我们所期望的。第一个是年，第三个是日，第四个是小时，第五个是分钟，第六个是秒，最后一个是毫秒。</p><p id="79d0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以用一元运算符<code class="fe le lf lg lh b">+</code>将Date对象转换成UNIX时间戳，即自1970年1月1日UTC以来的毫秒数，因此如果我们写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="69a3" class="mt lj it lh b gy mu mv l mw mx">+new Date(2019,0,1,0,0,0,0)</span></pre><p id="2a1f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当我们记录输出时，我们得到了<code class="fe le lf lg lh b">1546329600000</code>,因为它将日期强制为一个数字。</p><p id="bf45" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一种获取时间戳的方法是使用<code class="fe le lf lg lh b">.getTime()</code>方法。</p><p id="30bf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要改变日期对象的各个组成部分，如设置小时或天，或者获取日期的组成部分，如一周中的某一天或一个月中的某一天，在日期对象中有一些方法可以做到这一点。</p><h1 id="f4f6" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">日期对象中的方法</h1><p id="b4f3" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">Date对象中有一些方法可以获取和设置部分日期，并将时间转换为UTC，或者设置时区偏移量。一些重要的日期对象方法包括:</p><h2 id="8558" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.now()</h2><p id="219d" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">以忽略闰秒的UNIX时间戳的形式返回当前时间。这个方法是静态的。</p><h2 id="c2dc" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">约会。世界协调时()</h2><p id="06df" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">以忽略闰秒的UNIX时间戳的形式返回当前时间。这个方法是静态的。它接受与Date构造函数的最长参数列表相同的参数，即年、月索引、日、小时、分钟、秒和毫秒，但只有年和月是必需的。我们可以在下面的代码中使用它:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="85ca" class="mt lj it lh b gy mu mv l mw mx">Date.UTC(2019,0,1,1,0,0,0)</span></pre><p id="406b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们返回类似于<code class="fe le lf lg lh b">1546304400000</code>的东西。</p><h1 id="2f04" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">Getter函数</h1><h2 id="5a55" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.getDate()</h2><p id="587d" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">根据本地时间返回一个月中的某一天。例如，如果我们有:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="1afe" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019,0,1,0,0,0,0);<br/>console.log(date.getDate());</span></pre><p id="d5d2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们将得到1，因为我们在构造函数的参数中将它指定为一个月中的某一天。</p><h2 id="965c" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.getDay()</h2><p id="7e65" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">根据本地时间返回指定日期的星期几(0–6)，其中0表示星期日，6表示星期六，1到5表示两天之间的天数。例如，我们可以写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="e1c9" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019,0,1,0,0,0,0);<br/>console.log(date.getDay());</span></pre><p id="ed14" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们得到2，也就是星期二。</p><h2 id="831c" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.getFullYear()</h2><p id="99a4" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">根据本地时间返回指定日期的4位数年份。例如，我们可以写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="b38e" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019,0,1,0,0,0,0);<br/>console.log(date.getFullYear());</span></pre><p id="691c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们得到2019年，也就是<code class="fe le lf lg lh b">date</code>的4位数年份。</p><h2 id="2a04" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.getHours()</h2><p id="e7ee" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">根据本地时间返回指定日期的小时(0–23)。例如，我们可以写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="56d8" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019,0,1,0,0,0,0);<br/>console.log(date.getHours());</span></pre><p id="c8e1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们得到0，这是我们在构造函数的小时参数中指定的。</p><h2 id="da47" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">约会。getMilliseconds()</h2><p id="bdd7" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">根据本地时间返回0到999之间的指定日期的毫秒数。例如，我们可以写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="a6dd" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019, 0, 1, 0, 0, 0, 0);<br/>console.log(date.getMilliseconds());</span></pre><p id="b48f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将获得在<code class="fe le lf lg lh b">date</code>对象中指定的毫秒数，它应该像我们在构造函数中指定的那样返回0。</p><h2 id="24f5" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.getMinutes()</h2><p id="9154" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">以本地时间返回指定日期的分钟(0–59)。例如，我们可以写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="e19a" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019, 0, 1, 0, 0, 0, 0);<br/>console.log(date.getMinutes());</span></pre><p id="c660" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们得到0分钟，就像我们在构造函数中指定的那样。</p><h2 id="415f" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.getMonth()</h2><p id="d4f9" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">根据本地时间返回指定日期的月份(从0表示1月到11表示12月)。例如，我们可以写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="4724" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019, 0, 1, 0, 0, 0, 0);<br/>console.log(date.getMonth());</span></pre><p id="fc85" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们得到一月的月份0，就像我们在构造函数中指定的那样。</p><h2 id="4333" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.getSeconds()</h2><p id="2238" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">以本地时间返回指定日期中的秒(0–59)。例如，我们可以写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="20c5" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019, 0, 1, 0, 0, 0, 0);<br/>console.log(date.getSeconds());</span></pre><p id="8da2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们得到0秒，就像我们在构造函数中指定的那样。</p><h2 id="c4bc" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.getTime()</h2><p id="e7b7" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">返回指定日期的UNIX时间戳，即自1970年1月1日00:00:00 UTC以来的毫秒数。对于以前的时间，它将是负的。例如，我们可以写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="c95a" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019, 0, 1, 0, 0, 0, 0);<br/>console.log(date.getTime());</span></pre><p id="88e2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们得到从<code class="fe le lf lg lh b">getTime()</code>函数返回的1546329600000。对此的一种简化方法是使用一元<code class="fe le lf lg lh b">+</code>运算符，如下面的代码所示:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="b6b4" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019, 0, 1, 0, 0, 0, 0);<br/>console.log(+date);</span></pre><p id="d488" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们运行上面的代码，我们会得到相同的结果。</p><h2 id="434b" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.getTimezoneOffset()</h2><p id="4c70" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">返回主机设备上设置的当前位置的时区偏移量(以分钟为单位)。例如，如果我们写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="9d3a" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019, 0, 1, 0, 0, 0, 0);<br/>console.log(date.getTimezoneOffset());</span></pre><p id="1811" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您的主机设备设置为太平洋时区，我们将得到480，因为2019年1月1日，太平洋时区比UTC晚8小时，所以我们得到时区偏移是480分钟，也就是8小时。</p><h2 id="d705" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.getUTCDate()</h2><p id="b587" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">根据UTC返回指定日期中一个月中的第几天，从1到31。例如，如果我们写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="7de0" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019, 0, 1, 0, 0, 0, 0);<br/>console.log(date.getUTCDate());</span></pre><p id="ec60" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因为我们将2019年1月1日指定为日期，所以我们得到1。</p><h2 id="c9c8" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.getUTCDay()</h2><p id="5ca7" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">根据UTC中的指定日期，返回0到6之间的星期几。例如，如果我们写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="38c4" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019, 0, 1, 0, 0, 0, 0);<br/>console.log(date.getUTCDay());</span></pre><p id="61dc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那么我们得到2，因为2019年1月1日是星期二。</p><h2 id="5765" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.getUTCFullYear()</h2><p id="0831" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">根据UTC返回指定日期中的4位数年份。例如，如果我们写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="68aa" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019, 0, 1, 0, 0, 0, 0);<br/>console.log(date.getUTCFullYear());</span></pre><p id="b931" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们得到2019，因为这是我们在日期构造函数中指定的。</p><h2 id="3584" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.getUTCHours()</h2><p id="f0d5" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">根据UTC返回指定日期中从0到23的小时数。例如，如果我们写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="caf4" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019, 0, 1, 0, 0, 0, 0);<br/>console.log(date.getUTCHours());</span></pre><p id="9a3f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果区域设置设置为太平洋时区，我们会得到8，因为我们指定了当地时间的小时数为0，这与2019年1月1日的UTC时间8相同。</p><h2 id="3afa" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.getUTCMilliseconds()</h2><p id="9d93" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">根据UTC返回0到999之间的指定日期的毫秒数。例如，我们可以写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="2994" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019, 0, 1, 0, 0, 0, 0);<br/>console.log(date.getUTCMilliseconds());</span></pre><p id="2535" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将获得在<code class="fe le lf lg lh b">date</code>对象中指定的毫秒数，它应该像我们在构造函数中指定的那样返回0。</p><h2 id="c4dc" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.getUTCMonth()</h2><p id="a0f2" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">根据UTC返回指定时间内从0表示1月到11表示12月的月份。例如，如果我们写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="9a3c" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019, 0, 1, 0, 0, 0, 0);<br/>console.log(date.getUTCMonth());</span></pre><p id="f56b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将获得在<code class="fe le lf lg lh b">date</code>对象中指定的月份，该对象应该像我们在构造函数中指定的那样返回0。</p><h2 id="2648" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.getUTCSeconds()</h2><p id="347a" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">以UTC返回指定日期中的秒(0–59)。例如，我们可以写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="f0a8" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019, 0, 1, 0, 0, 0, 0);<br/>console.log(date.getUTCSeconds());</span></pre><p id="b6a5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们得到0秒，就像我们在构造函数中指定的那样。</p><h2 id="41d3" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.getYear()</h2><p id="25cd" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">根据当地时区，返回指定日期中的年份，通常为2到3位数。</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="6b6b" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019, 0, 1, 0, 0, 0, 0);<br/>console.log(date.getUTCSeconds());</span></pre><p id="07b1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那么我们得到2019年的119。</p><p id="cd6d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们有:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="29f5" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(1900, 0, 1, 0, 0, 0, 0);<br/>console.log(date.getYear());</span></pre><p id="07ec" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">1900年我们得到0。如果我们有:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="9ee5" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2000, 0, 1, 0, 0, 0, 0);<br/>console.log(date.getYear());</span></pre><p id="7cea" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那么2000年我们得到100。所以根据<code class="fe le lf lg lh b">getYear()</code>方法，1900年是0年。使用<code class="fe le lf lg lh b">getFullYear()</code>方法来从Date对象中获取正确的年份要好得多。</p><h1 id="b94e" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">Setter函数</h1><p id="170b" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">我们上面提到的每个getter函数都有相应的setter函数。我们为日期对象提供了以下setter函数:</p><h2 id="e246" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.setDate()</h2><p id="743a" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">根据本地时间设置一个月中的某一天。例如，如果我们有:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="475c" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019,0,1,0,0,0,0);<br/>date.setDate(2)<br/>console.log(date);</span></pre><p id="1d75" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当主机设备设置为太平洋时区时，我们将得到“Wed Jan 02 2019 00:00:00 GMT-0800(太平洋标准时间)”，因为我们在<code class="fe le lf lg lh b">setDate</code>函数中指定了2。</p><h2 id="d0b0" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.setFullYear()</h2><p id="e78d" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">根据本地时间设置指定日期的4位数年份。例如，我们可以写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="d4ca" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019,0,1,0,0,0,0);<br/>date.setFullYear(2020)<br/>console.log(date.getFullYear());</span></pre><p id="664e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们得到2020年，也就是<code class="fe le lf lg lh b">date</code>的4位数年份。</p><h2 id="7abf" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.setHours()</h2><p id="3fff" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">根据本地时间设置指定日期的小时(0–23)。例如，我们可以写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="3dcf" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019,0,1,0,0,0,0);<br/>date.setHours(3)<br/>console.log(date.getHours());</span></pre><p id="cebb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，当我们调用<code class="fe le lf lg lh b">getHours</code>时，我们得到3，这是我们在<code class="fe le lf lg lh b">setHours</code>函数的小时参数中指定的。</p><h2 id="e64c" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">约会。setMilliseconds()</h2><p id="eaaa" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">根据本地时间将指定日期的毫秒数设置为0到999。例如，我们可以写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="95dd" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019,0,1,0,0,0,0);<br/>date.setMilliseconds(3)<br/>console.log(date.getMilliseconds());</span></pre><p id="66b4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将设置在<code class="fe le lf lg lh b">date</code>对象中指定的毫秒数，当我们调用<code class="fe le lf lg lh b">getMilliseconds</code>函数时，它将返回3，就像我们在<code class="fe le lf lg lh b">setMilliseconds</code>函数中指定的那样。</p><h2 id="0f07" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.setMinutes()</h2><p id="4528" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">以本地时间设置指定日期的分钟(0–59)。例如，我们可以写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="b3fc" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019, 0, 1, 0, 0, 0, 0);<br/>date.setMinutes(20)<br/>console.log(date.getMinutes());</span></pre><p id="b83f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们从<code class="fe le lf lg lh b">getMinutes()</code>返回20分钟，就像我们在<code class="fe le lf lg lh b">setMinutes</code>函数中指定的那样。</p><h2 id="d74d" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.setMonth()</h2><p id="12ae" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">根据本地时间设置指定日期的月份(0表示1月，11表示12月)。例如，我们可以写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="0d2e" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019, 0, 1, 0, 0, 0, 0);<br/>date.setMonth(3)<br/>console.log(date.getMonth());</span></pre><p id="664c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，在我们通过<code class="fe le lf lg lh b">setMonth()</code>设置后，我们从<code class="fe le lf lg lh b">getMonth()</code>返回第3个月</p><h2 id="ace3" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.setSeconds()</h2><p id="b7d9" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">以本地时间设置指定日期中的秒(0–59)。例如，我们可以写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="8610" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019, 0, 1, 0, 0, 0, 0);<br/>date.setSeconds(10);<br/>console.log(date.getSeconds());</span></pre><p id="f584" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们从<code class="fe le lf lg lh b">getSeconds()</code>得到10秒，就像我们在<code class="fe le lf lg lh b">setSeconds</code>函数中指定的那样。</p><h2 id="cbe2" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.setTime()</h2><p id="1116" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">为指定日期设置UNIX时间戳，该日期是自1970年1月1日00:00:00 UTC以来的毫秒数。对于以前的时间，它将是负的。例如，我们可以写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="5606" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019, 0, 1, 0, 0, 0, 0);<br/>date.setTime(100)<br/>console.log(date.getTime());</span></pre><p id="3e78" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们从<code class="fe le lf lg lh b">getTime()</code>函数中得到100，因为我们用<code class="fe le lf lg lh b">setTime</code>将它设置为100。</p><h2 id="b904" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.setUTCDate()</h2><p id="a464" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">根据UTC设置指定日期中1到31之间的某一天。例如，如果我们写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="c54a" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019, 0, 1, 0, 0, 0, 0);<br/>date.setUTCDate(2)<br/>console.log(date.getUTCDate(2));</span></pre><p id="2e12" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们得到2，因为我们在<code class="fe le lf lg lh b">setUTCDate</code>中指定了2</p><h2 id="d620" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.setUTCFullYear()</h2><p id="bdc7" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">根据UTC设置指定日期中的4位数年份。例如，如果我们写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="ba6c" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019, 0, 1, 0, 0, 0, 0);<br/>date.setUTCFullYear(2020)<br/>console.log(date.getUTCFullYear());</span></pre><p id="a113" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们用<code class="fe le lf lg lh b">getUTCFullYear()</code>得到2020，因为这是我们在日期<code class="fe le lf lg lh b">setUTCFullYear()</code>函数中指定的。</p><h2 id="26f1" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.setUTCHours()</h2><p id="6e71" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">根据UTC设置指定日期中从0到23的小时。例如，如果我们写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="5870" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019, 0, 1, 0, 0, 0, 0);<br/>date.setUTCHours(2)<br/>console.log(date.getUTCHours());</span></pre><p id="042f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们用<code class="fe le lf lg lh b">getUTCHours()</code>得到2，因为我们在调用<code class="fe le lf lg lh b">setUTCHours()</code>时指定了它。</p><h2 id="5ff9" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.setUTCMilliseconds()</h2><p id="f87f" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">根据UTC将指定日期的毫秒数设置为0到999。例如，我们可以写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="6190" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019, 0, 1, 0, 0, 0, 0);<br/>date.setUTCMilliseconds(10)<br/>console.log(date.getUTCMilliseconds());</span></pre><p id="d07e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这用<code class="fe le lf lg lh b">getUTCMilliseconds()</code>得到毫秒，它应该像我们在<code class="fe le lf lg lh b">setUTCMilliseconds()</code>中指定的那样返回10。</p><h2 id="b2a2" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.setUTCMonth()</h2><p id="9707" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">根据UTC返回指定时间内从0表示1月到11表示12月的月份。例如，如果我们写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="6dd3" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019, 0, 1, 0, 0, 0, 0);<br/>date.setUTCMonth(3);<br/>console.log(date.getUTCMonth());</span></pre><p id="ea3b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将获得在<code class="fe le lf lg lh b">date</code>对象中指定的月份，该对象将从<code class="fe le lf lg lh b">getUTCMonth()</code>返回3，就像我们在<code class="fe le lf lg lh b">setUTCMonth()</code>调用中指定的那样。</p><h2 id="9728" class="mt lj it bd lk my mz dn lo na nb dp ls kr nc nd lw kv ne nf ma kz ng nh me ni bi translated">Date.setUTCSeconds()</h2><p id="b5a4" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">以UTC设置指定日期中的秒(0–59)。例如，我们可以写:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="f755" class="mt lj it lh b gy mu mv l mw mx">const date = new Date(2019, 0, 1, 0, 0, 0, 0);<br/>date.setUTCSeconds(10);<br/>console.log(date.getUTCSeconds());</span></pre><p id="33f8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那么当我们调用<code class="fe le lf lg lh b">getUTCSeconds()</code>时，我们得到10秒，因为我们在调用<code class="fe le lf lg lh b">setUTCSeconds()</code>时指定了10秒。</p><p id="c2f0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个<code class="fe le lf lg lh b">setYear()</code>法套住了叶。使用<code class="fe le lf lg lh b">setFullYear()</code>方法来从日期对象中获取正确的年份要好得多。</p><p id="cb2f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Date对象有一些限制。例如，它不支持时区。当我们需要日期中的时区数据时，这就产生了问题。JavaScript日期仅支持本地时区、UTC或相对于UTC的时区偏移量。操作date对象时，只允许这些时区之间的部分转换。例如，当我们将日期对象转换为日期字符串时，我们只能在本地时间和UTC之间进行选择。JavaScript Date对象在内部以UTC格式存储日期。</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nj"><img src="../Images/a1bd8830aa297ebb56f2129977658d77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rUPAWeIP8yYh1rOY"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">德里克·汤姆森在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="d853" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">Moment.js</h1><p id="976b" class="pw-post-body-paragraph kg kh it ki b kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz mk lb lc ld im bi translated">由于我们上面讨论的限制，在JavaScript中操作时间和日期是很痛苦的。即使有了<code class="fe le lf lg lh b">Date</code>对象可用的函数，还是有很多机会出现bug和错误。此外，没有格式化时间和日期的功能，这是一个大问题。为了解决这个问题，我们使用moment.js。这是处理时间的最佳库。</p><p id="71cc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">本机JavaScript日期对象在将YYYY-MM-DD日期解析为UTC时间而不是本地时间时存在时区问题。这对没有意识到这个问题的开发人员来说是个问题。参见<a class="ae kf" href="https://stackoverflow.com/questions/29174810/javascript-date-timezone-issue" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/29174810/JavaScript-date-time zone-issue</a></p><p id="9c78" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">不同浏览器对部分日期的支持也有所不同。(参见<a class="ae kf" href="https://stackoverflow.com/questions/11253351/javascript-date-object-issue-in-safari-and-ie" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/11253351/JavaScript-date-object-issue-in-safari-and-ie</a>)</p><p id="0a49" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">用内置的日期函数添加和减去时间戳也很困难。如果不编写大量代码和进行大量检查，就没有办法做到这一点。还有，没办法对比2次。</p><p id="3b70" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果不编写自己的代码来使用第三方库，格式化日期也是不可用的。</p><p id="80f8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Moment.js通过提供内置函数来完成所有这些常见操作，从而解决了所有这些问题。它提供了解析和格式化日期的函数。</p><p id="7a6e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<code class="fe le lf lg lh b">moment</code>构造函数中，您可以传入一个日期字符串，然后会创建一个<code class="fe le lf lg lh b">moment</code>对象。例如，您可以传入:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="501e" class="mt lj it lh b gy mu mv l mw mx">moment('2019-08-04')</span></pre><p id="6bbf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你会得到一个<code class="fe le lf lg lh b">moment</code>，你可以与其他<code class="fe le lf lg lh b">moment</code>对象进行比较，并增加或减少不同的时间跨度。</p><p id="aeb4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您没有向<code class="fe le lf lg lh b">moment</code>构造函数传递任何东西，那么您将获得当前的日期和时间。</p><p id="6a8f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这也需要第二个论证。如果您想确保一个日期被解析为YYYY-MM-DD日期，那么编写<code class="fe le lf lg lh b">moment(‘2019–08–04’, 'YYYY-MM-DD')</code>。如果您不知道日期或时间的格式，那么您可以传入一组可能的格式，Moment将选择正确的格式:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="5241" class="mt lj it lh b gy mu mv l mw mx">moment('2019–08–04', ['YYYY-MM-DD', 'DD-MM-YYYY']);</span></pre><p id="cc6e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">创建Moment对象后，您可以做许多事情，如格式化日期:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="4bfa" class="mt lj it lh b gy mu mv l mw mx">const a = moment('2019–08–04', 'YYYY-MM-DD').format('MMMM Do YYYY, h:mm:ss a');<br/>console.log(a);// August 4th 2019, 12:00:00 am</span><span id="413d" class="mt lj it lh b gy nk mv l mw mx">const b = moment('2019–08–04', 'YYYY-MM-DD').format('dddd');<br/>console.log(b);// Sunday</span><span id="169e" class="mt lj it lh b gy nk mv l mw mx">const c = moment('2019–08–04', 'YYYY-MM-DD').format("MMM Do YY");<br/>console.log(c);// Aug 4th 19</span><span id="10f7" class="mt lj it lh b gy nk mv l mw mx">const d = moment('2019–08–04', 'YYYY-MM-DD').format('YYYY [escaped] YYYY');    <br/>console.log(d);// 2019 escaped 2019</span><span id="75d7" class="mt lj it lh b gy nk mv l mw mx">const e = moment('2019–08–04', 'YYYY-MM-DD').format();<br/>console.log(e);// 2019-08-04T00:00:00-07:00</span></pre><p id="d134" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从上面的例子中，我们看到我们可以用任何我们想要的方式格式化日期。</p><p id="1fbc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还可以通过写下以下内容来判断一个日期相对于另一个日期的时间跨度:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="871e" class="mt lj it lh b gy mu mv l mw mx">const augDate = moment('2019–08–04', 'YYYY-MM-DD');<br/>const sepDate = moment('2019–09–04', 'YYYY-MM-DD');<br/>console.log(augDate.from(sepDate)); // a month ago</span></pre><p id="9cff" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还可以增加或减少时刻日期:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="1858" class="mt lj it lh b gy mu mv l mw mx">const augDate = moment('2019–08–04', 'YYYY-MM-DD');<br/>const sepDate = moment('2019–09–04', 'YYYY-MM-DD');<br/>console.log(augDate.add(10, 'days').calendar()); // 08/14/2019<br/>console.log(augDate.subtract(10, 'days').calendar()); // 07/25/2019</span></pre><p id="d5ff" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">比较两个日期很容易:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="5569" class="mt lj it lh b gy mu mv l mw mx">moment('2010-01-01').isSame('2010-01-01', 'month'); // true<br/>moment('2010-01-01').isSame('2010-05-01', 'day');   // false, different month<br/>moment('2008-01-01').isSame('2011-01-01', 'month'); // false, different year</span></pre><p id="f535" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您还可以检查某个日期是否实行夏令时:</p><pre class="ml mm mn mo gt mp lh mq mr aw ms bi"><span id="784e" class="mt lj it lh b gy mu mv l mw mx">const augDate = moment('2019–08–04', 'YYYY-MM-DD');<br/>const decDate = moment('2019–12–04', 'YYYY-MM-DD');<br/>console.log(augDate.isDST()) // true<br/>console.log(decDate.isDST()) // false</span></pre><p id="563f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您可以随时通过调用Moment对象上的<code class="fe le lf lg lh b">toDate()</code>函数转换回JavaScript date。</p><p id="ab10" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正如我们所见，JavaScript的Date对象在处理日期时功能有限。它也不能很好地解析日期，也不能很容易地格式化日期。这就是为什么我们需要使用像Moment.js这样的库来填补空白，这样我们就可以创建更容易操纵日期的无错误代码。</p></div></div>    
</body>
</html>