<html>
<head>
<title>How to Rotate an Image in JavaScript and Keep its Aspect ratio</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¦‚ä½•åœ¨JavaScriptä¸­æ—‹è½¬å›¾åƒå¹¶ä¿æŒå…¶çºµæ¨ªæ¯”</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/how-to-rotate-an-image-in-javascript-and-keep-its-aspect-ratio-e42060190889?source=collection_archive---------14-----------------------#2022-11-28">https://levelup.gitconnected.com/how-to-rotate-an-image-in-javascript-and-keep-its-aspect-ratio-e42060190889?source=collection_archive---------14-----------------------#2022-11-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8f91" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">ä»¥åŠå¦‚ä½•åœ¨Reacté’©å­ä¸­å®ç°ï¼Ÿ</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c6c36835cab1fbdc9dfac2256b6072b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*23dWzW5-iHi7mI8K"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">ç”±<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šçš„<a class="ae ky" href="https://unsplash.com/@karsten_wuerth?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Karsten WÃ¼rth </a>æ‹æ‘„</figcaption></figure><p id="4e07" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">åœ¨webå¼€å‘ä¸­ï¼Œæ‚¨å¯èƒ½éœ€è¦æ—‹è½¬å›¾åƒï¼Œè¿™åœ¨CSSä¸­å¾ˆå®¹æ˜“åšåˆ°ã€‚åƒè¿™æ ·ç®€å•çš„ä»£ç <code class="fe lv lw lx ly b">transform: rotate(90deg);</code>ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬æƒ³ç”¨JSæ¥åšå‘¢ï¼Ÿ</p><h1 id="4136" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">TLDR</h1><p id="4af3" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­å°†å›¾åƒç»˜åˆ¶åˆ°ç”»å¸ƒä¸Šå¹¶æ—‹è½¬å®ƒã€‚ä½†åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦åšä¸€äº›æ•°å­¦è¿ç®—æ¥ä¿æŒåŸå§‹å›¾åƒçš„çºµæ¨ªæ¯”ã€‚</p><h1 id="90dc" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">æ ¸å¿ƒ</h1><p id="5ef7" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">å‡è®¾æˆ‘ä»¬å·²ç»åŠ è½½äº†å›¾åƒï¼Œå¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼è®¡ç®—æ—‹è½¬åçš„å›¾åƒ:</p><pre class="kj kk kl km gt mw ly mx bn my mz bi"><span id="00d7" class="na ma it ly b be nb nc l nd ne">const { PI, sin, cos, abs } = Math;<br/>const angle = (degree * PI) / 180;<br/>const sinAngle = sin(angle);<br/>const cosAngle = cos(angle);<br/><br/>const rotatedWidth = abs(imageWidth * cosAngle) + abs(imageHeight * sinAngle);<br/>const rotatedHeight = abs(imageWidth * sinAngle) + abs(imageHeight * cosAngle);</span></pre><p id="2536" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€äº›canvas APIsæ¥è¿›è¡Œå®é™…çš„æ—‹è½¬:</p><pre class="kj kk kl km gt mw ly mx bn my mz bi"><span id="d580" class="na ma it ly b be nb nc l nd ne">const canvas = document.createElement('canvas');<br/><br/>const { width: canvasWidth, height: canvasHeight } = canvas;<br/>const canvasCtx2D = canvas.getContext('2d');<br/><br/>canvasCtx2D.clearRect(0, 0, canvasWidth, canvasHeight);<br/>canvasCtx2D.translate(canvasWidth / 2, canvasHeight / 2);<br/>canvasCtx2D.rotate(angle);<br/><br/>canvasCtx2D.drawImage(<br/>  image,<br/>  -imageWidth / 2,<br/>  -imageHeight / 2,<br/>  imageWidth,<br/>  imageHeight,<br/>);<br/><br/>return canvas.toDataURL('image/png');</span></pre><h1 id="ceec" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">åŒ…è£¹</h1><p id="58fe" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">æœ‰äº†æ ¸å¿ƒä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œä¸€äº›ä¼˜åŒ–ï¼Œå¹¶ç¼–å†™ä¸“ç”¨çš„ReactæŒ‚é’©æ¥ä½¿ç”¨å®ƒ:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="9581" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è¿™é‡Œæˆ‘é‡ç”¨äº†åŒä¸€ä¸ªcanvaså…ƒç´ ï¼Œä»¥å‡å°‘é‡å¤åˆ›å»ºã€‚å…¶æ¬¡ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘åœ¨æ¯æ¬¡æ—‹è½¬åéƒ½å°†å…¶å®½åº¦å’Œé«˜åº¦è®¾ç½®ä¸º<code class="fe lv lw lx ly b">0</code>ï¼Œä»¥å‡å°‘å†…å­˜ä½¿ç”¨ã€‚å¯¹äº†ï¼Œæˆ‘è¿˜åšäº†æ¸…ç”»å¸ƒçš„æ“ä½œã€‚è¿™æ˜¯å› ä¸ºåœ¨<a class="ae ky" href="https://html.spec.whatwg.org/multipage/canvas.html#concept-canvas-set-bitmap-dimensions" rel="noopener ugc nofollow" target="_blank"> HTMLè§„èŒƒ</a>ä¸­å½“ä½ ä¿®æ”¹ç”»å¸ƒçš„å®½åº¦å’Œé«˜åº¦(æ˜¯å¦å’Œä¹‹å‰ä¸€æ ·)ä¼šæ¸…ç©ºç”»å¸ƒï¼Œè¿™å’Œ<code class="fe lv lw lx ly b">canvasCtx2D.clearRect(0, 0, canvasWidth, canvasHeight)</code>æ˜¯ä¸€æ ·çš„ï¼Œç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒã€‚</p><p id="736c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">åœ¨<code class="fe lv lw lx ly b">useRotateImage</code>ä¸­ï¼Œæˆ‘ä¿ç•™äº†ä¸€ä¸ªå¯¹<code class="fe lv lw lx ly b">image</code>å…ƒç´ çš„å¼•ç”¨ï¼Œå¹¶åœ¨<code class="fe lv lw lx ly b"><a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/decode" rel="noopener ugc nofollow" target="_blank">image.decode()</a></code>åè®¾ç½®æ—‹è½¬åçš„å›¾åƒçŠ¶æ€ï¼Œè¿™åœ¨å›¾åƒæ•°æ®å‡†å¤‡å°±ç»ªåè§£å†³ã€‚</p><p id="5fe2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨æ¡ˆä¾‹:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ng l"/></div></figure></div><div class="ab cl ni nj hx nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="im in io ip iq"><p id="56fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="np">æ„Ÿè°¢é˜…è¯»ã€‚å¦‚æœä½ å–œæ¬¢è¿™æ ·çš„æ•…äº‹ï¼Œæƒ³æ”¯æŒæˆ‘ï¼Œè¯·è€ƒè™‘æˆä¸º</em> <a class="ae ky" href="https://medium.com/@islizeqiang/membership" rel="noopener"> <em class="np">ä¸­ä¼šå‘˜</em> </a> <em class="np">ã€‚å®ƒæ¯æœˆæ”¶è´¹5ç¾å…ƒï¼Œå¯ä»¥æ— é™åˆ¶åœ°è®¿é—®åª’ä½“å†…å®¹ã€‚å¦‚æœä½ é€šè¿‡</em> <a class="ae ky" href="https://medium.com/@islizeqiang/membership" rel="noopener"> <em class="np">æˆ‘çš„é“¾æ¥</em> </a> <em class="np">æŠ¥åï¼Œæˆ‘ä¼šå¾—åˆ°ä¸€ç‚¹ä½£é‡‘ã€‚</em></p><p id="4c10" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä½ çš„æ”¯æŒå¯¹æˆ‘æ¥è¯´å¾ˆé‡è¦â€”â€”è°¢è°¢ã€‚</p></div><div class="ab cl ni nj hx nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="im in io ip iq"><h1 id="5f29" class="lz ma it bd mb mc nq me mf mg nr mi mj jz ns ka ml kc nt kd mn kf nu kg mp mq bi translated">åˆ†çº§ç¼–ç </h1><p id="ad66" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">æ„Ÿè°¢æ‚¨æˆä¸ºæˆ‘ä»¬ç¤¾åŒºçš„ä¸€å‘˜ï¼åœ¨ä½ ç¦»å¼€ä¹‹å‰:</p><ul class=""><li id="2f55" class="nv nw it lb b lc ld lf lg li nx lm ny lq nz lu oa ob oc od bi translated">ğŸ‘ä¸ºæ•…äº‹é¼“æŒï¼Œè·Ÿç€ä½œè€…èµ°ğŸ‘‰</li><li id="b9bb" class="nv nw it lb b lc oe lf of li og lm oh lq oi lu oa ob oc od bi translated">ğŸ“°æŸ¥çœ‹<a class="ae ky" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">çº§ç¼–ç å‡ºç‰ˆç‰©</a>ä¸­çš„æ›´å¤šå†…å®¹</li><li id="6a88" class="nv nw it lb b lc oe lf of li og lm oh lq oi lu oa ob oc od bi translated">ğŸ””å…³æ³¨æˆ‘ä»¬:<a class="ae ky" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">æ¨ç‰¹</a> | <a class="ae ky" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a> | <a class="ae ky" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">æ—¶äº‹é€šè®¯</a></li></ul><p id="f475" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ğŸš€ğŸ‘‰<a class="ae ky" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">åŠ å…¥å‡çº§äººæ‰é›†ä½“ï¼Œæ‰¾åˆ°ä¸€ä»½æƒŠè‰³çš„å·¥ä½œ</strong> </a></p></div></div>    
</body>
</html>