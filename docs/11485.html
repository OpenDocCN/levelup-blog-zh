<html>
<head>
<title>Data Reading in Python — Easy Learning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的数据读取—简单易学</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/reading-data-with-python-easy-learning-68947a42fb0?source=collection_archive---------18-----------------------#2022-03-20">https://levelup.gitconnected.com/reading-data-with-python-easy-learning-68947a42fb0?source=collection_archive---------18-----------------------#2022-03-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/182f7619cf8673b22c266467ec713ed0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AnNkT2giJdOCKUv1eEA79g.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated"><a class="ae jg" href="https://hdqwalls.com/wallpaper/2932x2932/spider-man-reading-new-paper" rel="noopener ugc nofollow" target="_blank">https://hdq walls . com/wallpaper/2932 x 2932/蜘蛛侠-阅读-新-论文</a></figcaption></figure><div class=""/><p id="fe20" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你使用什么编程语言没有区别。如果您需要与现实世界的应用程序交互，您必须处理数据和数据库。您使用的数据源类型取决于您的应用程序。您在Python中的大部分时间将用于读取数据和与数据交互。作为Python开发人员，您应该熟悉从各种来源读取数据的基础知识。在本文中，我将介绍一些基本的数据源，以及如何使用Python从这些数据源中检索数据。</p><h2 id="7eb4" class="le lf jj bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated"><strong class="ak">先决条件</strong></h2><ul class=""><li id="adf7" class="lx ly jj ki b kj lz kn ma kr mb kv mc kz md ld me mf mg mh bi translated">基本配置选项和命令行界面(Unix推荐)</li><li id="96c8" class="lx ly jj ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated">Python 3.5及以上(所有程序都用Python 3.5+测试过)</li></ul><h2 id="53ba" class="le lf jj bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">1.读取文本文件</h2><p id="5276" class="pw-post-body-paragraph kg kh jj ki b kj lz kl km kn ma kp kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">文本是最基本的数据源类型。非结构化数据存储在文本文件中。然而，存储格式化的数据是非常有用的，比如<strong class="ki jk">应用程序日志</strong>。在Python中，读取文件是小菜一碟。但是，我想提供一些读取和解析日志文件的示例代码。</p><p id="c37e" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki jk">示例:</strong> <em class="mq"> app.log </em></p><figure class="mr ms mt mu gt iv"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="d258" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您可以使用内置函数<a class="ae jg" href="https://docs.python.org/3/library/functions.html#open" rel="noopener ugc nofollow" target="_blank"> open </a>打开并读/写一个文件。另一方面，如果您打算使用低级I/O，您可以使用<a class="ae jg" href="https://docs.python.org/3/library/os.html#os.open" rel="noopener ugc nofollow" target="_blank"> os.open </a>。</p><figure class="mr ms mt mu gt iv"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="4756" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki jk">注意:</strong>请记住，在前面的例子中，我使用了带有操作符的<a class="ae jg" href="https://docs.python.org/3/reference/compound_stmts.html#the-with-statement" rel="noopener ugc nofollow" target="_blank">。一旦操作块完成，操作员协助清理资源。<br/>在Python中，你还可以通过使用迭代器对<strong class="ki jk">逐行进行</strong>操作。</a></p><figure class="mr ms mt mu gt iv"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="ea45" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在前面的例子中，我逐行读取文件并解析它以创建一个字典数据数组。在数组析构中，使用了<strong class="ki jk"> *rest运算符</strong>。更多信息可在<a class="ae jg" href="https://blog.teclado.com/destructuring-in-python/" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><h2 id="ebe5" class="le lf jj bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">2.正在读取CSV文件</h2><p id="f65a" class="pw-post-body-paragraph kg kh jj ki b kj lz kl km kn ma kp kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">在Python中读取CSV文件是如此常见，以至于它有自己的模块/包。导入CSV模块后，您可以使用CSV文件。</p><p id="3c2f" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki jk">样本:</strong> <a class="ae jg" href="https://gist.githubusercontent.com/deepakshrma/b87c5d9d1382bdb1a2bce1b2b03bcabc/raw/22c9670d2a27c0fa132c484bc008b7fcabc09b39/country.csv" rel="noopener ugc nofollow" target="_blank"> <em class="mq"> country.csv </em> </a></p><figure class="mr ms mt mu gt iv"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="7de1" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki jk">逐行读取CSV行:</strong></p><figure class="mr ms mt mu gt iv"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="3a40" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您还可以使用<a class="ae jg" href="https://docs.python.org/3/library/csv.html#csv.DictReader" rel="noopener ugc nofollow" target="_blank"> csv读取字典格式的行。字典阅读器</a>。</p><figure class="mr ms mt mu gt iv"><div class="bz fp l di"><div class="mv mw l"/></div></figure><h2 id="277b" class="le lf jj bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated"><strong class="ak"> 3。使用HTTP通过网络</strong></h2><p id="2e45" class="pw-post-body-paragraph kg kh jj ki b kj lz kl km kn ma kp kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">有时，您可能需要通过网络读取和解析CSV文件。<a class="ae jg" href="https://docs.python.org/3/library/urllib.html" rel="noopener ugc nofollow" target="_blank"> urllib </a>模块可用于连接网络和下载数据。下载完数据后，您可以用<a class="ae jg" href="https://docs.python.org/3/library/csv.html#csv.DictReader" rel="noopener ugc nofollow" target="_blank"> csv解析它。字典阅读器</a>。<br/>在下面的例子中，我将创建一个可重用的助手<strong class="ki jk"> requestCSV </strong>函数，它通过网络下载并解析CSV文件。</p><figure class="mr ms mt mu gt iv"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="7bd8" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki jk">字典排版本:</strong> <em class="mq"> requestJsonCSV </em></p><figure class="mr ms mt mu gt iv"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="f8e6" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你可以在这里阅读更多关于读写的内容<a class="ae jg" href="https://thepythonguru.com/python-how-to-read-and-write-csv-files/" rel="noopener ugc nofollow" target="_blank">读写csv文件</a>。</p><h2 id="1ac9" class="le lf jj bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">4.从数据库中读取数据</h2><p id="2c72" class="pw-post-body-paragraph kg kh jj ki b kj lz kl km kn ma kp kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">从数据库中读取数据需要数据库连接器。我将使用一个<strong class="ki jk"> sqlite3 </strong>数据库来演示这些示例。在互联网上，你可以很容易地找到相关数据库的代码和连接器。</p><p id="d748" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki jk">注:</strong></p><ul class=""><li id="2b8d" class="lx ly jj ki b kj kk kn ko kr mx kv my kz mz ld me mf mg mh bi translated">如果你想测试SQLite，你可以安装SQLite表单向导<a class="ae jg" href="https://www.tutorialspoint.com/sqlite/sqlite_installation.htm" rel="noopener ugc nofollow" target="_blank"> sqlite_installation </a>。</li><li id="2e0e" class="lx ly jj ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated">要将数据从<a class="ae jg" href="https://www.sqlitetutorial.net/wp-content/uploads/2016/05/city.csv" rel="noopener ugc nofollow" target="_blank"> CSV </a>导入SQLite，您可以遵循以下步骤。您可以从<a class="ae jg" href="https://gist.githubusercontent.com/deepakshrma/b87c5d9d1382bdb1a2bce1b2b03bcabc/raw/245d02679af4aa7998781ec369c0b09ceb7e8481/cities.csv" rel="noopener ugc nofollow" target="_blank"> cities.csv </a>下载样本CSV。</li></ul><figure class="mr ms mt mu gt iv"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="56f7" class="pw-post-body-paragraph kg kh jj ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">将数据导入城市表后。您可以从数据库中读取数据，如下所示。</p><figure class="mr ms mt mu gt iv"><div class="bz fp l di"><div class="mv mw l"/></div></figure><h2 id="25f9" class="le lf jj bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated"><strong class="ak">结论</strong></h2><p id="2881" class="pw-post-body-paragraph kg kh jj ki b kj lz kl km kn ma kp kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">我刚刚接触了海洋的表面。有许多类型的数据源。但是，工作模型必须类似于上面列出的格式之一。我将尝试重温这篇文章，并添加更多的示例代码。</p><h2 id="39b1" class="le lf jj bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">参考资料:</h2><ul class=""><li id="3be0" class="lx ly jj ki b kj lz kn ma kr mb kv mc kz md ld me mf mg mh bi translated"><a class="ae jg" href="https://medium.com/geekculture/building-truth-and-dare-game-with-python-80a8e83bbc1b" rel="noopener">https://medium . com/geek culture/building-truth-and-dare-game-with-python-80a8e 83 BBC 1b</a></li><li id="3407" class="lx ly jj ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated"><a class="ae jg" href="https://www.pythontutorial.net/python-basics/python-read-csv-file/" rel="noopener ugc nofollow" target="_blank">https://www . python tutorial . net/python-basics/python-read-CSV-file/</a></li><li id="8008" class="lx ly jj ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated">【https://docs.python.org/3/library/typing.html T4】</li><li id="a684" class="lx ly jj ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated"><a class="ae jg" href="https://realpython.com/documenting-python-code/" rel="noopener ugc nofollow" target="_blank">https://realpython.com/documenting-python-code/</a></li><li id="22f7" class="lx ly jj ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated"><a class="ae jg" href="https://www.tutorialspoint.com/sqlite/sqlite_create_database.htm" rel="noopener ugc nofollow" target="_blank">https://www . tutorialspoint . com/SQLite/SQLite _ create _ database . htm</a></li><li id="5e2d" class="lx ly jj ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated"><a class="ae jg" href="https://www.sqlitetutorial.net/sqlite-import-csv/" rel="noopener ugc nofollow" target="_blank">https://www.sqlitetutorial.net/sqlite-import-csv/</a></li><li id="bd8f" class="lx ly jj ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated"><a class="ae jg" href="https://docs.python.org/3/reference/compound_stmts.html#the-with-statement" rel="noopener ugc nofollow" target="_blank">https://docs . python . org/3/reference/compound _ stmts . html # the-with-statement</a></li><li id="4b32" class="lx ly jj ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated"><a class="ae jg" href="https://docs.python.org/3/library/functions.html#open" rel="noopener ugc nofollow" target="_blank">https://docs.python.org/3/library/functions.html#open</a></li></ul></div></div>    
</body>
</html>