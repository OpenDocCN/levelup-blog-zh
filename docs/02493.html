<html>
<head>
<title>How to Make an Image Gallery in React: Coronavirus Edition</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在React:冠状病毒版中制作图片库</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-make-an-image-gallery-in-react-coronavirus-edition-19eff3878c3f?source=collection_archive---------4-----------------------#2020-03-17">https://levelup.gitconnected.com/how-to-make-an-image-gallery-in-react-coronavirus-edition-19eff3878c3f?source=collection_archive---------4-----------------------#2020-03-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/8b9df54ce6cd7711d3b8b7f3dd36d5f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NviGR_C6-IJPW7kazJXDJw.png"/></div></div></figure><p id="5414" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这个社交媒体的时代，照片就是一切。你家人度假的个人相册，狗和猫的生日聚会，还有上周末朋友勒索的照片现在都在网上了。因此，这就是为什么我对在React应用程序中构建一个简单的“图片画廊”组件感兴趣，用户可以在其中来回翻动图片。</p><p id="309e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">为了纪念当前的国际健康危机和疫情，我想将React应用程序的主题献给冠状病毒新冠肺炎，这是自地铁关闭恐慌以来纽约发生的最糟糕的事情。在这个图库中，我将展示自从冠状病毒关闭纽约以来我错过做的事情😢。</p><p id="26aa" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">下面是如何在React中编写一个“图片画廊”的代码。首先，在“src”下创建一个“pics”文件夹。在“图片”文件夹中，放置所有您将使用的图片。</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div class="gh gi kz"><img src="../Images/49d53a616d11c16cec6178d43cdddbdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/format:webp/1*aRbSSJMD3AsSU_J2EMoBiw.png"/></div></figure><p id="7e40" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在将存放您的“图库”的组件中，像这样导入图像:</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="c43b" class="lj lk it lf b gy ll lm l ln lo">import React, { Component } from 'react';<br/>import bar from '../pics/bar.jpg';<br/>import train from '../pics/train.jpg';<br/>import meetup from '../pics/meetup.jpg';<br/>import touchface from '../pics/touchface.gif';<br/>import restaurant from '../pics/restaurant.jpg';<br/>import walking from '../pics/walking.jpg'</span></pre><p id="9e04" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">接下来，创建状态对象。State将保存<code class="fe lp lq lr lf b">index</code>和<code class="fe lp lq lr lf b">picList</code>，这是一个图像数组。Index对应于picsList数组的索引值。</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="33be" class="lj lk it lf b gy ll lm l ln lo">state = {<br/>index: 0,<br/>picList: [bar, train, meetup, touchface, restaurant, walking]<br/>}</span></pre><p id="679f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">让我们制作两个按钮来浏览图片。一个按钮称为“上一个”，另一个按钮称为“下一个”。我们可以首先使用函数<code class="fe lp lq lr lf b">onClickNext()</code>构建“下一步”按钮。</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="12ab" class="lj lk it lf b gy ll lm l ln lo">onClickNext= () =&gt; {<br/>  if (this.state.index + 1 === this.state.picList.length {<br/>    this.setState({<br/>      index: 0<br/>    })<br/>  } else {<br/>    this.setState({<br/>      index: this.state.index + 1<br/>    })<br/>  }<br/>}</span></pre><p id="0296" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">if语句显示，如果索引值已经达到其极限，即等于picList数组的长度，则索引被重置为0(在setState中)。因此，图片库将重新开始播放第一张图片。</p><p id="2804" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">否则，索引将增加1，并移动到列表中的下一张图片。</p><p id="8e68" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在让我们使用函数<code class="fe lp lq lr lf b">onClickPrevious()</code>构建“上一步”按钮。</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="f176" class="lj lk it lf b gy ll lm l ln lo">onClickPrevious= () =&gt; {<br/>  if (this.state.index - 1 === -1 ){</span><span id="feea" class="lj lk it lf b gy ls lm l ln lo">    this.setState({<br/>      index: this.state.picList.length - 1<br/>    })<br/>  } else {<br/>    this.setState({<br/>      index: this.state.index - 1<br/>    })<br/>  }<br/>}</span></pre><p id="394c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">上面的if语句显示，如果索引值为-1，图片库将转到最后一张图片。否则，索引将递减1，并移回到列表中的前一个图片。</p><p id="8ff6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe lp lq lr lf b">render</code>方法应该是这样的:</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="0939" class="lj lk it lf b gy ll lm l ln lo">render() {<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;img <em class="lt">src</em>={this.state.picList[this.state.index]}/&gt;</span><span id="5b05" class="lj lk it lf b gy ls lm l ln lo">      &lt;button <em class="lt">onClick</em>={this.onClickPrevious}&gt; Previous &lt;/button&gt;</span><span id="b6f7" class="lj lk it lf b gy ls lm l ln lo">      &lt;button <em class="lt">onClick</em>={this.onClickNext}&gt; Next &lt;/button&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="3941" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">整个代码应该如下所示:</p><figure class="la lb lc ld gt ju"><div class="bz fp l di"><div class="lu lv l"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">添加了一些CSS</figcaption></figure><p id="3726" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">最后，成品:</p><figure class="la lb lc ld gt ju"><div class="bz fp l di"><div class="ma lv l"/></div></figure><div class="mb mc gp gr md me"><a href="http://ihatecoronavirus.surge.sh/" rel="noopener  ugc nofollow" target="_blank"><div class="mf ab fo"><div class="mg ab mh cl cj mi"><h2 class="bd iu gy z fp mj fr fs mk fu fw is bi translated">我讨厌冠状病毒</h2><div class="ml l"><h3 class="bd b gy z fp mj fr fs mk fu fw dk translated">我讨厌冠状病毒。</h3></div><div class="mm l"><p class="bd b dl z fp mj fr fs mk fu fw dk translated">ihatecoronavirus.surge.sh</p></div></div></div></a></div><p id="4a14" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">保持安全和健康。记住:洗手液是你新的最好的朋友。👋</p></div></div>    
</body>
</html>