<html>
<head>
<title>Putting variables into an Azure Pipelines yml build pipeline</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将变量放入Azure Pipelines yml构建管道</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/putting-variables-into-an-azure-pipelines-yml-build-pipeline-72f353708a7e?source=collection_archive---------1-----------------------#2019-08-09">https://levelup.gitconnected.com/putting-variables-into-an-azure-pipelines-yml-build-pipeline-72f353708a7e?source=collection_archive---------1-----------------------#2019-08-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/a62b4a104a28727fe2d68895c6265447.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NW4UbJvnPfDQ_Rim"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated"><a class="ae kf" href="https://unsplash.com/@realaxer?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">田宽</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><p id="f471" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我似乎一直在努力尝试将变量放入Azure Pipelines <code class="fe le lf lg lh b">build.yml</code>文件。一些变量<a class="ae kf" href="https://docs.microsoft.com/en-us/azure/devops/pipelines/build/variables?view=azure-devops&amp;tabs=yaml" rel="noopener ugc nofollow" target="_blank">是预定义的和全局的</a>，而其他的<a class="ae kf" href="https://docs.microsoft.com/en-us/azure/devops/pipelines/process/variables?view=azure-devops&amp;tabs=yaml%2Cbatch" rel="noopener ugc nofollow" target="_blank">是本地设置的</a>。我将编制一个代码示例列表供自己参考，并随着我学习新的做事方法而增加这个列表。</p><h2 id="8712" class="li lj it bd lk ll lm dn ln lo lp dp lq kr lr ls lt kv lu lv lw kz lx ly lz ma bi translated">将预定义的变量放入bash脚本中</h2><figure class="mb mc md me gt ju"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="c4ee" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这种情况下，我想在Mac代理上运行bash脚本来重命名构建的应用程序文件，以包含版本号。要使用预定义的变量，您需要全部使用大写字母，并在有句号的地方添加下划线。您还需要在开头添加一个美元符号。例如<code class="fe le lf lg lh b">Build.BuildNumber</code>变成了<code class="fe le lf lg lh b">$BUILD_BUILDNUMBER</code>。</p><h2 id="4231" class="li lj it bd lk ll lm dn ln lo lp dp lq kr lr ls lt kv lu lv lw kz lx ly lz ma bi translated">将模板参数放入bash脚本中</h2><figure class="mb mc md me gt ju"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="c381" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这种情况下，我们从另一个<code class="fe le lf lg lh b">.yml</code>文件中包含这个模板，并在包含它时传递参数。</p><h2 id="84a0" class="li lj it bd lk ll lm dn ln lo lp dp lq kr lr ls lt kv lu lv lw kz lx ly lz ma bi translated">将作业变量放入bash脚本中</h2><figure class="mb mc md me gt ju"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="cd74" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这种情况下，我们只是在作业的顶部局部设置一个变量。</p></div></div>    
</body>
</html>