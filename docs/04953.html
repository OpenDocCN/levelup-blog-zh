<html>
<head>
<title/>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1/>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-use-your-tailwind-theme-anywhere-throughout-your-react-app-7f17174bdd31?source=collection_archive---------6-----------------------#2020-07-26">https://levelup.gitconnected.com/how-to-use-your-tailwind-theme-anywhere-throughout-your-react-app-7f17174bdd31?source=collection_archive---------6-----------------------#2020-07-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="ir is gp gr it iu gh gi paragraph-image"><div class="ab gu cl iv"><img src="../Images/92d50967b493fe0c22609fefcdb011cb.png" data-original-src="https://miro.medium.com/v2/0*m-aJ_CJdseaSTHTv"/></div></figure><p id="41d4" class="pw-post-body-paragraph iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw im bi translated">今天，我们将使用Tailwind的resolveConfig编写一个JavaScript文件，我们可以使用<a class="ae jx" href="https://reactjs.org/docs/context.html" rel="noopener ugc nofollow" target="_blank"> React上下文API </a>从整个应用程序的任何地方访问这些值。</p><p id="0b5a" class="pw-post-body-paragraph iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw im bi translated">我们将创建一个小应用程序，并通过覆盖<a class="ae jx" href="https://react-select.com/home" rel="noopener ugc nofollow" target="_blank"> React Select </a>库中的一些样式来展示它的运行。</p><h2 id="7fa4" class="jy jz ja bd ka kb kc dn kd ke kf dp kg jk kh ki kj jo kk kl km js kn ko kp kq bi translated">安装</h2><p id="5332" class="pw-post-body-paragraph iy iz ja jb b jc kr je jf jg ks ji jj jk kt jm jn jo ku jq jr js kv ju jv jw im bi translated">我们将使用基本的<a class="ae jx" href="https://github.com/facebook/create-react-app" rel="noopener ugc nofollow" target="_blank"> Create React App </a>模板。让我们进行设置，并安装今天的依赖项。</p><figure class="kw kx ky kz gt iu"><div class="bz fp l di"><div class="la lb l"/></div></figure><h2 id="3b6a" class="jy jz ja bd ka kb kc dn kd ke kf dp kg jk kh ki kj jo kk kl km js kn ko kp kq bi translated">顺风构型</h2><p id="3d13" class="pw-post-body-paragraph iy iz ja jb b jc kr je jf jg ks ji jj jk kt jm jn jo ku jq jr js kv ju jv jw im bi translated">我们希望有一个<code class="fe lc ld le lf b">tailwind.config.js</code>文件可以用来扩展顺风默认值。我们今天不会对它做太多，但是让我们稍后创建它以便在没有我们的脚本的情况下使用。</p><figure class="kw kx ky kz gt iu"><div class="bz fp l di"><div class="la lb l"/></div></figure><p id="a951" class="pw-post-body-paragraph iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw im bi translated">这将在根目录下创建一个<code class="fe lc ld le lf b">tailwind.config.js</code>文件，如下所示:</p><figure class="kw kx ky kz gt iu"><div class="bz fp l di"><div class="la lb l"/></div></figure><p id="c92e" class="pw-post-body-paragraph iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw im bi translated">现在让我们编写引用这个文件的脚本。</p><h2 id="f711" class="jy jz ja bd ka kb kc dn kd ke kf dp kg jk kh ki kj jo kk kl km js kn ko kp kq bi translated">更新我们的脚本</h2><p id="5bc5" class="pw-post-body-paragraph iy iz ja jb b jc kr je jf jg ks ji jj jk kt jm jn jo ku jq jr js kv ju jv jw im bi translated">在<code class="fe lc ld le lf b">bin/generate-tailwind-theme</code>中，更新文件，使其包含以下内容:</p><figure class="kw kx ky kz gt iu"><div class="bz fp l di"><div class="la lb l"/></div></figure><p id="1581" class="pw-post-body-paragraph iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw im bi translated">在这里，我们遵循以下步骤:</p><ol class=""><li id="a7a1" class="lg lh ja jb b jc jd jg jh jk li jo lj js lk jw ll lm ln lo bi translated">使用顺风的<code class="fe lc ld le lf b">resolveConfig</code>来组合我们的配置和他们的默认配置。我们正在从结果中析构<code class="fe lc ld le lf b">theme</code>。</li><li id="5fd2" class="lg lh ja jb b jc lp jg lq jk lr jo ls js lt jw ll lm ln lo bi translated">将<code class="fe lc ld le lf b">theme</code>的值转换成字符串，并将其插入到字符串<code class="fe lc ld le lf b">js</code>中。这个字符串是有效的JavaScript。</li><li id="29de" class="lg lh ja jb b jc lp jg lq jk lr jo ls js lt jw ll lm ln lo bi translated">在我们漂亮的库格式化它之后，把那个文件写出到<code class="fe lc ld le lf b">src/theme.js</code>。</li></ol><p id="1a50" class="pw-post-body-paragraph iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw im bi translated">我们现在可以使用<code class="fe lc ld le lf b">bin/generate-tailwind-theme</code>来运行它。如果这不起作用，您可能需要检查您是否有正确的权限，并shebang(！)引用您的节点安装。如果这不起作用，可以运行<code class="fe lc ld le lf b">node bin/generate-tailwind-theme</code>看看会发生什么。</p><h2 id="3a11" class="jy jz ja bd ka kb kc dn kd ke kf dp kg jk kh ki kj jo kk kl km js kn ko kp kq bi translated">主题输出</h2><p id="dc6c" class="pw-post-body-paragraph iy iz ja jb b jc kr je jf jg ks ji jj jk kt jm jn jo ku jq jr js kv ju jv jw im bi translated">成功之后，简短地查看一下我们的<code class="fe lc ld le lf b">src/theme.js</code>文件应该如下所示:</p><figure class="kw kx ky kz gt iu"><div class="bz fp l di"><div class="la lb l"/></div></figure><p id="156e" class="pw-post-body-paragraph iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw im bi translated">厉害！现在我们有了可以与React上下文一起使用的主题配置。</p><h2 id="b76f" class="jy jz ja bd ka kb kc dn kd ke kf dp kg jk kh ki kj jo kk kl km js kn ko kp kq bi translated">为我们的应用程序设置提供者</h2><p id="1ea9" class="pw-post-body-paragraph iy iz ja jb b jc kr je jf jg ks ji jj jk kt jm jn jo ku jq jr js kv ju jv jw im bi translated">更新<code class="fe lc ld le lf b">src/App.jsx</code>文件，如下所示:</p><figure class="kw kx ky kz gt iu"><div class="bz fp l di"><div class="la lb l"/></div></figure><p id="217b" class="pw-post-body-paragraph iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw im bi translated">我们使用<code class="fe lc ld le lf b">createContext</code>创建的<code class="fe lc ld le lf b">ThemeContext</code>将允许在整个应用程序中使用<code class="fe lc ld le lf b">useContext</code>钩子访问主题！</p><p id="b71a" class="pw-post-body-paragraph iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw im bi translated">目前，我们的应用程序不会运行(我们还没有创建我们的<code class="fe lc ld le lf b">Select</code>文件！).</p><p id="4cc1" class="pw-post-body-paragraph iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw im bi translated">我们将为我们的<code class="fe lc ld le lf b">Select</code>组件编写一个适配器文件。</p><h2 id="5552" class="jy jz ja bd ka kb kc dn kd ke kf dp kg jk kh ki kj jo kk kl km js kn ko kp kq bi translated">创建选择适配器</h2><p id="1fce" class="pw-post-body-paragraph iy iz ja jb b jc kr je jf jg ks ji jj jk kt jm jn jo ku jq jr js kv ju jv jw im bi translated">添加一个新的<code class="fe lc ld le lf b">Select</code>组件文件。</p><figure class="kw kx ky kz gt iu"><div class="bz fp l di"><div class="la lb l"/></div></figure><p id="fb92" class="pw-post-body-paragraph iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw im bi translated">现在，在这个<code class="fe lc ld le lf b">src/Select.jsx</code>文件中，添加以下内容:</p><figure class="kw kx ky kz gt iu"><div class="bz fp l di"><div class="la lb l"/></div></figure><p id="4e51" class="pw-post-body-paragraph iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw im bi translated">在这个文件中，我们用来自我们的<code class="fe lc ld le lf b">theme</code>的一些默认样式导出了<code class="fe lc ld le lf b">BaseSelect</code>。</p><p id="5403" class="pw-post-body-paragraph iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw im bi translated">这些主题值来自添加到我们上下文中的<code class="fe lc ld le lf b">theme.js</code>对象！这在第<code class="fe lc ld le lf b">const theme = React.useContext(ThemeContext)</code>行是可能的，在那里我们设置主题来自我们在<code class="fe lc ld le lf b">App.js</code>中设置的上下文。</p><p id="7786" class="pw-post-body-paragraph iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw im bi translated">需要注意的是字体系列的值是<code class="fe lc ld le lf b">theme.fontFamily.sans.join(" ")</code>。基本上，<code class="fe lc ld le lf b">fontFamily</code>键值是一个数组，所以为了使它对<code class="fe lc ld le lf b">font-family</code> CSS属性有效，我们希望加入该数组，在每个值之间有一个空格，例如<code class="fe lc ld le lf b">['Open Sans', 'sans-serif']</code>会变成<code class="fe lc ld le lf b">Open Sans,sans-serif</code>。</p><blockquote class="lu lv lw"><p id="dc55" class="iy iz lx jb b jc jd je jf jg jh ji jj ly jl jm jn lz jp jq jr ma jt ju jv jw im bi translated">这种风格并不完美。它们只是我今天早上玩的一些风格，但是它们说明了问题。</p></blockquote><h2 id="7bc9" class="jy jz ja bd ka kb kc dn kd ke kf dp kg jk kh ki kj jo kk kl km js kn ko kp kq bi translated">运行应用程序</h2><p id="c5dc" class="pw-post-body-paragraph iy iz ja jb b jc kr je jf jg ks ji jj jk kt jm jn jo ku jq jr js kv ju jv jw im bi translated">让我们启动我们的应用程序，正常运行:</p><figure class="kw kx ky kz gt iu"><div class="bz fp l di"><div class="la lb l"/></div></figure><p id="0470" class="pw-post-body-paragraph iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw im bi translated">现在你可以看到我们已经应用了顺风主题样式！</p><figure class="kw kx ky kz gt iu gh gi paragraph-image"><div class="ab gu cl iv"><img src="../Images/311902139b59524c442f6f445319cba4.png" data-original-src="https://miro.medium.com/v2/0*9FHuElijMQXHa6pU"/></div></figure><p id="a598" class="pw-post-body-paragraph iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw im bi translated">我们现在可以看到这些变化在起作用。如果我们返回到我们的<code class="fe lc ld le lf b">src/Select.jsx</code>文件，用<code class="fe lc ld le lf b">theme.colors.teal</code>替换<code class="fe lc ld le lf b">theme.colors.blue</code>的所有实例，你现在会看到蓝绿色！</p><figure class="kw kx ky kz gt iu gh gi paragraph-image"><div class="ab gu cl iv"><img src="../Images/baf8ed22a7ec7b868a542084a9020675.png" data-original-src="https://miro.medium.com/v2/0*yHNMClemF2U0NXXH"/></div></figure><p id="0f52" class="pw-post-body-paragraph iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw im bi translated">恭喜你，你现在可以通过你的React应用程序访问你的顺风主题值了！</p><h2 id="3ee3" class="jy jz ja bd ka kb kc dn kd ke kf dp kg jk kh ki kj jo kk kl km js kn ko kp kq bi translated">资源和进一步阅读</h2><ol class=""><li id="3c45" class="lg lh ja jb b jc kr jg ks jk mb jo mc js md jw ll lm ln lo bi translated"><a class="ae jx" href="https://github.com/okeeffed/tailwind-theme-example" rel="noopener ugc nofollow" target="_blank">GitHub上已完成的项目</a></li><li id="e803" class="lg lh ja jb b jc lp jg lq jk lr jo ls js lt jw ll lm ln lo bi translated"><a class="ae jx" href="https://react-select.com/home#custom-styles" rel="noopener ugc nofollow" target="_blank">反应选择—自定义样式</a></li><li id="263c" class="lg lh ja jb b jc lp jg lq jk lr jo ls js lt jw ll lm ln lo bi translated"><a class="ae jx" href="https://tailwindcss.com/docs/configuration/#referencing-in-javascript" rel="noopener ugc nofollow" target="_blank">顺风JavaScript中的引用</a></li><li id="ce7b" class="lg lh ja jb b jc lp jg lq jk lr jo ls js lt jw ll lm ln lo bi translated"><a class="ae jx" href="https://reactjs.org/docs/context.html" rel="noopener ugc nofollow" target="_blank"> React上下文API </a></li></ol><p id="f9ee" class="pw-post-body-paragraph iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw im bi translated"><em class="lx">图像来源:</em> <a class="ae jx" href="https://unsplash.com/@asadphoto" rel="noopener ugc nofollow" target="_blank"> <em class="lx">易卜拉欣·阿萨德</em> </a></p><p id="cafe" class="pw-post-body-paragraph iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw im bi translated"><em class="lx">原贴于我的</em> <a class="ae jx" href="https://blog.dennisokeeffe.com/blog/2020-07-26-using-tailwind-theme-anywhere/" rel="noopener ugc nofollow" target="_blank"> <em class="lx">博客</em> </a> <em class="lx">。</em></p></div></div>    
</body>
</html>