<html>
<head>
<title>How does PR review wait time affect your open source project?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PR评审等待时间如何影响你的开源项目？</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-does-pr-review-wait-time-affect-your-open-source-project-d79bd0af0ea3?source=collection_archive---------10-----------------------#2022-08-16">https://levelup.gitconnected.com/how-does-pr-review-wait-time-affect-your-open-source-project-d79bd0af0ea3?source=collection_archive---------10-----------------------#2022-08-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/46161785f57b8544b3044661e75b8e8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UKJXGASx9KhB15_H2_Egpw.png"/></div></div></figure><p id="b41e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你好！我是珍妮，是 <a class="ae kx" href="http://multitudes.co/" rel="noopener ugc nofollow" target="_blank"> <em class="kw">众</em> </a> <em class="kw">的数据科学家。我想看看我们在大众中提供的见解是否对开源软件(OSS)社区有所帮助，这是我们在技术世界中所依赖的。我与OSS的贡献者交谈，阅读文献，并探索从GitHub挖掘的数据，以确定关键挑战&amp;机会，这些挑战和机会不仅与OSS相关，而且与任何希望改善团队福利、协作和交付的软件团队相关。这是一个系列的第二部分——下面是第一部分</em><a class="ae kx" href="https://medium.com/gitconnected/how-to-grow-a-sustainable-inclusive-open-source-community-ce156214cc9f" rel="noopener"><em class="kw"/></a><a class="ae kx" rel="noopener ugc nofollow" target="_blank" href="/how-to-create-a-better-first-time-contributor-experience-for-your-open-source-project-27300d6085ad"><em class="kw">第三部分</em></a><em class="kw"/><a class="ae kx" rel="noopener ugc nofollow" target="_blank" href="/how-to-mine-github-data-in-2022-e9c70b3f61d3"><em class="kw">奖金</em> </a> <em class="kw">。</em></p><h1 id="e707" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">对于潜在的贡献者来说，PRs上的长等待时间是令人讨厌的</h1><p id="665b" class="pw-post-body-paragraph jy jz iq ka b kb lw kd ke kf lx kh ki kj ly kl km kn lz kp kq kr ma kt ku kv ij bi translated">熟悉软件开发的人会知道长时间等待对他们的PR的评估是什么感觉。特别是在开源软件(OSS)项目中，维护人员会承认长时间的审查等待会导致负面的贡献体验。这可能会阻碍项目急需的新贡献者。<strong class="ka ir">事实上，研究表明，新人往往会因为必须等待很长时间才能获得对其PRs的反馈而气馁</strong> ( <a class="ae kx" href="https://ieeexplore.ieee.org/abstract/document/9332267" rel="noopener ugc nofollow" target="_blank">李等人，2021 </a>)，Mozilla 的<a class="ae kx" href="https://docs.google.com/presentation/d/1hsJLv1ieSqtXBzd5YZusY-mB8e1VJzaeOmh8Q4VeMio/edit#slide=id.g43d857af8_0177" rel="noopener ugc nofollow" target="_blank">研究表明，维护者的响应能力是鼓励重复贡献的关键因素。然而，由于开源中的许多维护者是志愿者，所以有时很难及时响应所有未决的PRs。</a></p><h1 id="f690" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">审查等待时间对于OSS项目来说是一个有用的度量标准</h1><p id="ec46" class="pw-post-body-paragraph jy jz iq ka b kb lw kd ke kf lx kh ki kj ly kl km kn lz kp kq kr ma kt ku kv ij bi translated">古老的格言说，“你不能改善你不能衡量的”。尽管由于志愿者工作时间有限，开源社区并不总是有可能改善他们的等待时间，但是为了获得贡献者体验的可见性，对他们进行测量仍然是很重要的。有许多开发人员生产力的度量标准，如交付时间或部署频率，但是这如何应用于开源社区呢？在开源社区中，工作很大程度上是由志愿者驱动的。</p><p id="d7fd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我决定研究审查等待时间，以确定维护人员的时间最值得花的时间段。<strong class="ka ir">审查等待时间是从创建采购订单到其他人对该采购订单做出第一次回应的交付时间的子集。</strong>基本上是PR上什么都没发生，PR作者在等评论的时候。我们可以用GitHub的数据来衡量这一点。</p><p id="2418" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了衡量这一点，<strong class="ka ir">我从2017年到2021年(包括2017年和2021年)的5年时间范围内提取了6个不同开源项目的数据。这6个项目是Tensorflow、ReactJS、VueJS、Travis CI和两个更小的Ruby框架，它们的规模、功能和志愿者驱动与付费都各不相同。项目的规模从5年内有500个拉动请求的项目到有20000多个拉动请求的项目不等。我还排除了机器人的活动，它们通常会在PR打开时自动生成消息。关于我如何获得这些数据的更多信息在本系列的第4部分！</strong></p><p id="2533" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我计算了每个PR的审阅等待时间，从PR创建(或当它第一次被标记为准备审阅时，如果它是在草稿状态下打开的)，到第一次评论、审阅或被PR作者之外的其他人合并。僵尸工具或已删除用户的活动被排除在外。</p><h1 id="59a2" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">总的来说，审查等待时间往往很快</h1><p id="6e51" class="pw-post-body-paragraph jy jz iq ka b kb lw kd ke kf lx kh ki kj ly kl km kn lz kp kq kr ma kt ku kv ij bi translated">查看所有6个组织的PRs的审查等待时间，我发现实际上，<strong class="ka ir"> PRs得到了相当快的响应！在得到回复的PRs中，大多数在24小时内得到回复。</strong></p><figure class="mc md me mf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mb"><img src="../Images/6b8d146e557cc013513f79daf4974ba0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MxOX-_DAvb4YaPnSASOlqg.png"/></div></div></figure><p id="cd48" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但是，这并没有考虑到所有没有收到任何响应的PRs它们要么是自合并的，要么仍然是开放的，没有响应。在截至2021年底仍未解决的减贫战略中，没有回应的减贫战略的范围在10%至60%之间。</p><h1 id="8082" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">在用户层面，体验到的典型等待时间有很大差异</h1><p id="e245" class="pw-post-body-paragraph jy jz iq ka b kb lw kd ke kf lx kh ki kj ly kl km kn lz kp kq kr ma kt ku kv ij bi translated">上图显示了总体水平上的审核等待时间。然而，我们真正感兴趣的是这些指标如何转化为贡献者的体验。<strong class="ka ir">当我查看每位投稿人的<em class="kw">中值</em>审核等待时间<em class="kw">时，我发现人与人之间存在相当大的差异。</em></strong></p><figure class="mc md me mf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mg"><img src="../Images/bccb9d78acdfcc3f834ac2efe23900ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g2rT0R685rpuVvdw1qG0wA.png"/></div></div></figure><p id="1fc0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">虽然数据集中几乎75%的贡献者的平均等待时间不到一周，但仍有相当一部分贡献者倾向于等待很长时间才能得到第一次响应。例如，6%的贡献者的平均等待时间超过一个月。此外，几乎十分之一的贡献者没有对他们的任何减贫战略作出回应。</p><figure class="mc md me mf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mh"><img src="../Images/fff4d7f3b18245ced6961484a0023380.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cKRXOq0Wci-AIzV7"/></div></div></figure><p id="6b67" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当然，这些值会因项目和时间的不同而不同。例如，我发现较小的社区存储库(如匿名的Ruby framework 2)可能会有较长的等待时间，这是有道理的，因为它们可能没有一些较大的项目那么多专门的付费维护者。这就是为什么资助开源如此重要——它可以帮助改善贡献者的体验，从而影响开源的可持续性。此外，我们知道疫情对开源产生了影响——事实上，<a class="ae kx" href="https://venturebeat.com/2021/01/26/how-the-pandemic-is-accelerating-enterprise-open-source-adoption/" rel="noopener ugc nofollow" target="_blank">许多项目的活动都有所增加</a>。这将影响提交的拉取请求的数量，尤其是新来者提交的请求。虽然我们在2020-2021年的样本中没有看到所有6个项目的特定趋势，但很明显，审核等待时间会随着社区的发展而变化，因此在定期监控时最有用。</p><p id="df37" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">🌱<em class="kw">需要讨论的事情:在你的团队、社区或组织中，你希望合理的评审等待时间是多少？</em></p><p id="1b09" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">人们等待时间变长可能还有其他更具体的原因。也许一些贡献者选择了复杂的问题来解决，这需要评审者留出更多的精力和时间来坐下来处理它。也许他们是新来的，不熟悉有贡献的规范——结果，他们的PR不是很清楚，评审者很容易发现，或者它没有解决一个紧迫的问题。<strong class="ka ir">查看审核等待时间可以作为一个起点，让机构群体对他们所处的位置进行基准测试，并致力于逐步改善等待时间的长度和一致性。</strong></p><h1 id="2537" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">人们越做PRs就越快</h1><p id="fd7d" class="pw-post-body-paragraph jy jz iq ka b kb lw kd ke kf lx kh ki kj ly kl km kn lz kp kq kr ma kt ku kv ij bi translated">之前分析中出现的一个假设是，审查等待时间是否会随着贡献者打开更多PRs而改变。我想看看相对较新的贡献者的PRs是否比已经提交PRs有一段时间的人的PRs等待审查的时间更长。</p><p id="b1d5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">假设你的第一次公关的“排名”是1，而你的第十次公关的“排名”是10。较低“级别”的PR比较高“级别”的PR多得多，因为第一个PR比第100个PR多得多(不是每个人都达到100个PR，但所有贡献者都有第一个PR)。为了处理这个不平衡的数据集，我首先按等级对PRs进行分类，然后从每个分类中抽取一致的样本大小。如果我不这样做，结果将总是看起来像较低等级的PRs更有可能具有长的响应时间，纯粹是因为有更多具有各种响应时间的较低等级的PRs，无论是短的还是长的。</p><figure class="mc md me mf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mi"><img src="../Images/38c1cd308f5b2856ab66f3ed03649a89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KCztTVsZ1ROrGxF7"/></div></div></figure><p id="0da0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">上图显示了结果，用阴影区分每个样本。每个样本将PRs分成大小为10的桶(即一桶等级为1-10、11-20等的PRs。).从每个桶中随机选择10个PRs并标绘。重复10次，结果绘制在同一图表上。看起来公关的级别和你等待回复的时间之间没有明显的关系！这让我很惊讶，因为我认为随着贡献者对项目的过程和规范越来越熟悉，他们可能会提交更清晰、更容易审查的PRs(因此等待时间更短)。看起来维护者对PRs的反应是一致的，不管你是新手还是老手💝</p><p id="fc39" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">🌱<em class="kw">拥有公关回应模板有助于缩短您的审核等待时间，同时设定对公关作者的期望。一句简单的“我已经看到了，我会在接下来的X天/周内处理它”会有很大的帮助！</em></p><h1 id="90fa" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">结论</h1><ul class=""><li id="ba0a" class="mj mk iq ka b kb lw kf lx kj ml kn mm kr mn kv mo mp mq mr bi translated">审核等待时间是一个有用的指标，可以说明贡献者的部分公关体验。</li><li id="3075" class="mj mk iq ka b kb ms kf mt kj mu kn mv kr mw kv mo mp mq mr bi translated">大多数投稿人的平均审查等待时间不到一周，但请记住，也有许多人<em class="kw">只</em>经历了更长的等待时间。此外，有相当一部分人从未收到任何回复。</li><li id="d6db" class="mj mk iq ka b kb ms kf mt kj mu kn mv kr mw kv mo mp mq mr bi translated">不管是你的第一次公关还是第100次公关，等待审核的时间都差不多。</li></ul><p id="1f6c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">无论您是开源社区的一员、一家初创公司还是一家企业公司，您都可以在评审等待时间采取以下措施:</p><ul class=""><li id="660f" class="mj mk iq ka b kb kc kf kg kj mx kn my kr mz kv mo mp mq mr bi translated">一个清晰的、最新的CONTRIBUTING.md文件将大大有助于减少潜在的费用。你可以在网上找到很多模板——这里有一个是由<a class="ae kx" href="https://contribute.cncf.io/maintainers/github/templates/required/contributing/" rel="noopener ugc nofollow" target="_blank">云本地计算基金会</a>提供的，另一个来自<a class="ae kx" href="https://opensource.guide/starting-a-project/#writing-your-contributing-guidelines" rel="noopener ugc nofollow" target="_blank">开源指南</a>。<a class="ae kx" href="https://docs.getdbt.com/blog/analytics-pull-request-template" rel="noopener ugc nofollow" target="_blank">公关模板</a>也很方便！</li><li id="2da0" class="mj mk iq ka b kb ms kf mt kj mu kn mv kr mw kv mo mp mq mr bi translated"><a class="ae kx" href="https://help.github.com/en/articles/helping-new-contributors-find-your-project-with-labels" rel="noopener ugc nofollow" target="_blank">清楚的问题标签表明什么是好的第一个问题</a>将大大减少新人选择太困难的任务并导致第一个PR拖延的机会——这对他们和评审者来说都不是一件有趣的事情！</li><li id="2a50" class="mj mk iq ka b kb ms kf mt kj mu kn mv kr mw kv mo mp mq mr bi translated">让一个公关作者知道多久你会回复一个快速确认收到的回复，可以减少等待时间，减轻压力，设定明确的期望，并让作者放心，他们的作品已经被看到并将被考虑。</li></ul><p id="6175" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kx" rel="noopener ugc nofollow" target="_blank" href="/how-to-create-a-better-first-time-contributor-experience-for-your-open-source-project-27300d6085ad">第3部分</a>将探讨什么因素可能导致第一次贡献者离开或留在OSS社区。那里见！</p><pre class="mc md me mf gt na nb nc nd aw ne bi"><span id="6dca" class="nf kz iq nb b gy ng nh l ni nj">🌱 Send us your feedback, questions, and thoughts via <a class="ae kx" href="https://twitter.com/MultitudesCo" rel="noopener ugc nofollow" target="_blank">Twitter</a>, <a class="ae kx" href="https://www.linkedin.com/company/multitudesco/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>, or <a class="ae kx" href="mailto:hello@multitudes.co" rel="noopener ugc nofollow" target="_blank">hello@multitudes.co</a></span><span id="40d0" class="nf kz iq nb b gy nk nh l ni nj">👉 Interested in ethical team health metrics? <a class="ae kx" href="http://multitudes.co/" rel="noopener ugc nofollow" target="_blank">Apply to join our closed beta!</a></span></pre></div><div class="ab cl nl nm hu nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ij ik il im in"><h1 id="0046" class="ky kz iq bd la lb ns ld le lf nt lh li lj nu ll lm ln nv lp lq lr nw lt lu lv bi translated">分级编码</h1><p id="6443" class="pw-post-body-paragraph jy jz iq ka b kb lw kd ke kf lx kh ki kj ly kl km kn lz kp kq kr ma kt ku kv ij bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="4c2a" class="mj mk iq ka b kb kc kf kg kj mx kn my kr mz kv mo mp mq mr bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="0151" class="mj mk iq ka b kb ms kf mt kj mu kn mv kr mw kv mo mp mq mr bi translated">📰查看更多内容请参见<a class="ae kx" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">升级编码刊物</a></li><li id="ab72" class="mj mk iq ka b kb ms kf mt kj mu kn mv kr mw kv mo mp mq mr bi translated">🔔关注我们:<a class="ae kx" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae kx" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae kx" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="5145" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">🚀👉<a class="ae kx" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir">加入升级人才集体，找到一份神奇的工作</strong> </a></p></div></div>    
</body>
</html>