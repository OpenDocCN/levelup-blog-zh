<html>
<head>
<title>How to Improve User Experience — The Best Loading Screen UX in React Using Hooks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何提高用户体验React中最好的加载屏幕UX使用钩子</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-improve-user-experience-the-best-way-to-loading-screen-ux-in-react-ccec73de1d66?source=collection_archive---------17-----------------------#2020-06-05">https://levelup.gitconnected.com/how-to-improve-user-experience-the-best-way-to-loading-screen-ux-in-react-ccec73de1d66?source=collection_archive---------17-----------------------#2020-06-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="265b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">加载屏幕的正确指南</h2></div><blockquote class="ki kj kk"><p id="e13f" class="kl km kn ko b kp kq ju kr ks kt jx ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">如果你的应用程序美观且易于理解，用户就更有可能继续使用它。</p></blockquote><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi li"><img src="../Images/4820425340b88754eaee0be9b1fe21ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Sx4MFs41hOUHqEL5RnPZpQ.gif"/></div></div><figcaption class="lu lv gj gh gi lw lx bd b be z dk translated">丹·哈尔佩林</figcaption></figure><p id="2e28" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku ly kw kx ky lz la lb lc ma le lf lg lh im bi translated">最好的开始方式是一个简单的<strong class="ko iu"/>加载屏幕<strong class="ko iu"/>。所以让我们开始构建一个简单的加载屏幕。我们将把这部分分成两半。一种方法是创建典型的加载屏幕，这样就可以让您先了解加载屏幕如何与react一起工作。在第二部分，我们将添加<strong class="ko iu"/>美学和更容易理解的<strong class="ko iu"/>外观到应用程序中。</p><p id="9523" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku ly kw kx ky lz la lb lc ma le lf lg lh im bi translated">这里的主要思想是使加载屏幕吸引人的眼睛，并增加它的意义。所以让我们开始吧，我们会一步一步来。首先，⚡️启动你的VS代码或者任何你熟悉的应用程序。如果你在中间迷路了，可以到我的GitHub Repo <a class="ae mb" href="https://github.com/itsimranmd/Medium-React-UX" rel="noopener ugc nofollow" target="_blank">这里<strong class="ko iu">这里</strong>这里</a>。</p><h1 id="44f3" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak">第1部分(典型装载屏幕)</strong></h1><h2 id="3a56" class="mu md it bd me mv mw dn mi mx my dp mm ly mz na mo lz nb nc mq ma nd ne ms nf bi translated">创建反应应用程序🧱</h2><pre class="lj lk ll lm gt ng nh ni nj aw nk bi"><span id="3b56" class="mu md it nh b gy nl nm l nn no">yarn create react-app loadingscreen</span></pre><h2 id="9a4f" class="mu md it bd me mv mw dn mi mx my dp mm ly mz na mo lz nb nc mq ma nd ne ms nf bi translated">安装软件包📦</h2><pre class="lj lk ll lm gt ng nh ni nj aw nk bi"><span id="0cce" class="mu md it nh b gy nl nm l nn no">npm i react-loading bootstrap</span></pre><h2 id="8459" class="mu md it bd me mv mw dn mi mx my dp mm ly mz na mo lz nb nc mq ma nd ne ms nf bi translated">启动应用程序⚡️</h2><pre class="lj lk ll lm gt ng nh ni nj aw nk bi"><span id="085a" class="mu md it nh b gy nl nm l nn no">npm start</span></pre><h2 id="a3c4" class="mu md it bd me mv mw dn mi mx my dp mm ly mz na mo lz nb nc mq ma nd ne ms nf bi translated">让我们构建一个典型的加载屏幕。</h2><p id="0252" class="pw-post-body-paragraph kl km it ko b kp np ju kr ks nq jx ku ly nr kx ky lz ns lb lc ma nt lf lg lh im bi translated">为此，首先在<code class="fe nu nv nw nh b">src</code>目录下创建一个<code class="fe nu nv nw nh b">loading.js</code>文件，它将在加载时显示我们的内容。</p><p id="58ac" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku ly kw kx ky lz la lb lc ma le lf lg lh im bi translated">像这样导入之前安装的包。</p><pre class="lj lk ll lm gt ng nh ni nj aw nk bi"><span id="6a8d" class="mu md it nh b gy nl nm l nn no">import React from "react";</span><span id="1482" class="mu md it nh b gy nx nm l nn no">import ReactLoading from "react-loading";</span><span id="6c47" class="mu md it nh b gy nx nm l nn no">import "bootstrap/dist/css/bootstrap.css";</span></pre><p id="37c4" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku ly kw kx ky lz la lb lc ma le lf lg lh im bi translated">将该函数命名为“Loading”并将其导出。</p><pre class="lj lk ll lm gt ng nh ni nj aw nk bi"><span id="48b8" class="mu md it nh b gy nl nm l nn no">function Loading(){<br/>...<br/>return(<br/>...<br/>)<br/>}<br/>export default Loading;</span></pre><p id="518f" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku ly kw kx ky lz la lb lc ma le lf lg lh im bi translated">现在添加一条简单的消息，如“厌倦了hello world”🤢在<code class="fe nu nv nw nh b">return ();</code>内部。</p><pre class="lj lk ll lm gt ng nh ni nj aw nk bi"><span id="b965" class="mu md it nh b gy nl nm l nn no">&lt;div&gt;<br/>&lt;h1&gt; Sick of hello world &lt;/h1&gt;<br/>&lt;/div&gt;</span></pre><p id="7932" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku ly kw kx ky lz la lb lc ma le lf lg lh im bi translated">接下来，我们将设置我们的状态，使用<em class="kn"> useEffect </em>获取API，然后使用三元运算符使整个流程工作。现在不要担心，所有这些都将在几行中变得有意义。完成后的代码，即<code class="fe nu nv nw nh b">loading.js</code>应该是这样的:</p><figure class="lj lk ll lm gt ln"><div class="bz fp l di"><div class="ny nz l"/></div></figure><p id="eca9" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku ly kw kx ky lz la lb lc ma le lf lg lh im bi translated">如果你有点迷茫，让我给你分析一下。让我们一行一行地用简单的语言来理解这一点。我们将首先从react导入钩子<code class="fe nu nv nw nh b">{useEffect, useState}</code>。然后我们必须定义<strong class="ko iu">状态</strong>，这基本上意味着“如果我们的应用程序在某一点上被执行了一个特定的动作，它应该是什么样子”。更简单地说，我们有两种状态，在这种情况下，一个是加载屏幕，另一个是内容屏幕，上面写着“讨厌hello world”。我们已经将<em class="kn"> useState </em>定义为false，用于显示一种状态(记住，这个false值将变为其他值，它将不再是false，一旦它从API获得数据，它的值将是我们从API获得的值)，如果它的值在程序中的任何地方发生变化，则显示另一种状态。(你也可以用undefined代替false。)</p><p id="1bf1" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku ly kw kx ky lz la lb lc ma le lf lg lh im bi translated">然后我们使用<em class="kn"> useEffect </em>异步地从API获取数据。其中我们设置了2秒的超时。所以它在2秒内把我们带到第二个状态。</p><p id="6710" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku ly kw kx ky lz la lb lc ma le lf lg lh im bi translated">然后我们使用三元运算符来显示值。如果值为真，那么它将显示加载部分，否则，内容。</p><p id="5c6b" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku ly kw kx ky lz la lb lc ma le lf lg lh im bi translated">就这么简单。</p><p id="435e" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku ly kw kx ky lz la lb lc ma le lf lg lh im bi translated">现在，转到<code class="fe nu nv nw nh b">src/App.js</code>，删除<code class="fe nu nv nw nh b">&lt;header&gt;&lt;/header&gt;</code>中的所有内容，只替换为<code class="fe nu nv nw nh b">&lt;Loading/&gt;</code>。现在，你的<code class="fe nu nv nw nh b">App.js</code>应该是这样的。</p><figure class="lj lk ll lm gt ln"><div class="bz fp l di"><div class="ny nz l"/></div></figure><p id="5b68" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku ly kw kx ky lz la lb lc ma le lf lg lh im bi translated">您的应用程序现在应该看起来像这样:</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi oa"><img src="../Images/8c8f687e633d4aa1d0d5c6d1c54dbf40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*5Tg5tC_3kJ8u9nGdlvy87w.gif"/></div></div><figcaption class="lu lv gj gh gi lw lx bd b be z dk translated">老实说，这看起来很无聊</figcaption></figure><p id="bfcf" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku ly kw kx ky lz la lb lc ma le lf lg lh im bi translated">最后，让我们跳到有趣的部分。我现在兴奋不已，欣喜若狂💪🏻 😬。</p><h1 id="2849" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">第二部分(美学和有意义)</h1><p id="b685" class="pw-post-body-paragraph kl km it ko b kp np ju kr ks nq jx ku ly nr kx ky lz ns lb lc ma nt lf lg lh im bi translated">让我们将这个应用程序向前推进一步。为此，我们将采取以下措施。</p><ul class=""><li id="3716" class="ob oc it ko b kp kq ks kt ly od lz oe ma of lh og oh oi oj bi translated">告诉用户我们正在进行哪个API调用。</li><li id="c22d" class="ob oc it ko b kp ok ks ol ly om lz on ma oo lh og oh oi oj bi translated">当API调用完成时，给出一个确认动画。</li><li id="4f34" class="ob oc it ko b kp ok ks ol ly om lz on ma oo lh og oh oi oj bi translated">使用淡入创建平滑过渡。</li></ul><p id="b7b1" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku ly kw kx ky lz la lb lc ma le lf lg lh im bi translated">首先，我们需要再安装2个包<strong class="ko iu">📦。</strong></p><pre class="lj lk ll lm gt ng nh ni nj aw nk bi"><span id="b3bf" class="mu md it nh b gy nl nm l nn no">npm i react-lottie react-fade-in</span></pre><p id="3474" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku ly kw kx ky lz la lb lc ma le lf lg lh im bi translated">我们将使用Lottie Json作为我们的图标，你可以从<a class="ae mb" href="https://lottiefiles.com" rel="noopener ugc nofollow" target="_blank"> Lottie文件</a>中选择一个，如果你懒的话，就在这里<a class="ae mb" href="https://drive.google.com/drive/folders/16_8udpWPnIGTFaNsDzQurp1HCcBmRoyD?usp=sharing" rel="noopener ugc nofollow" target="_blank"><strong class="ko iu"/></a><strong class="ko iu">选择我为这个应用程序选择的文件。为了简单起见，只需复制JSON文件并将其粘贴到<code class="fe nu nv nw nh b">src</code>目录。现在我们已经做好了一切准备，让我们进入代码编辑器，导入我们添加到应用程序中的所有内容。</strong></p><p id="5370" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku ly kw kx ky lz la lb lc ma le lf lg lh im bi translated">将包和文件导入<code class="fe nu nv nw nh b">loading.js</code>。</p><pre class="lj lk ll lm gt ng nh ni nj aw nk bi"><span id="a51f" class="mu md it nh b gy nl nm l nn no">...</span><span id="0de7" class="mu md it nh b gy nx nm l nn no">import FadeIn from "react-fade-in";</span><span id="a18f" class="mu md it nh b gy nx nm l nn no">import Lottie from "react-lottie";</span><span id="e89e" class="mu md it nh b gy nx nm l nn no">import * as loadData from "./load.json";</span><span id="4f60" class="mu md it nh b gy nx nm l nn no">import * as doneData from "./doneloading.json";</span><span id="4dfc" class="mu md it nh b gy nx nm l nn no">import * as instaLogo from "./instagram.json";</span><span id="7bd3" class="mu md it nh b gy nx nm l nn no">...</span></pre><p id="080a" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku ly kw kx ky lz la lb lc ma le lf lg lh im bi translated">下一步是用模糊的术语定义另一个图标的状态，就像在我们的第一个状态中合并另一个状态一样。因此，一旦我们的数据被加载，我们必须向用户显示一个成功的图标，清楚地定义了这个过程。</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi oa"><img src="../Images/30b6e118d335a72f3de11c00a13bec26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*F2pVg-p7006dhsUapspj8w.gif"/></div></div></figure><p id="7756" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku ly kw kx ky lz la lb lc ma le lf lg lh im bi translated">让我们定义状态，就像上一个一样。将状态设置为false:</p><pre class="lj lk ll lm gt ng nh ni nj aw nk bi"><span id="f084" class="mu md it nh b gy nl nm l nn no">...<br/>const [loading, setLoading]=useState(false);<br/>...</span></pre><p id="b32b" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku ly kw kx ky lz la lb lc ma le lf lg lh im bi translated">接下来，我们需要修改我们的<em class="kn">使用效果如下:</em></p><pre class="lj lk ll lm gt ng nh ni nj aw nk bi"><span id="ef05" class="mu md it nh b gy nl nm l nn no">//API fetch call using asynchronous function.</span><span id="3414" class="mu md it nh b gy nx nm l nn no">useEffect(()=&gt;{</span><span id="bec2" class="mu md it nh b gy nx nm l nn no">setTimeout(()=&gt;{</span><span id="2def" class="mu md it nh b gy nx nm l nn no">const fetcheddata = async() =&gt;{</span><span id="1bb2" class="mu md it nh b gy nx nm l nn no">const response = await fetch("https://jsonplaceholder.typicode.com/posts");</span><span id="b2bd" class="mu md it nh b gy nx nm l nn no">setLoading(response);</span><span id="e38d" class="mu md it nh b gy nx nm l nn no">setTimeout(()=&gt;{</span><span id="0f1c" class="mu md it nh b gy nx nm l nn no">setDone(response);</span><span id="0935" class="mu md it nh b gy nx nm l nn no">console.log(`${loading} loading `);</span><span id="1926" class="mu md it nh b gy nx nm l nn no">},2000);</span><span id="21c7" class="mu md it nh b gy nx nm l nn no">console.log(done);}</span><span id="71d4" class="mu md it nh b gy nx nm l nn no">fetcheddata();</span><span id="e157" class="mu md it nh b gy nx nm l nn no">},3000);</span><span id="4ba7" class="mu md it nh b gy nx nm l nn no">},[]);</span></pre><p id="a290" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku ly kw kx ky lz la lb lc ma le lf lg lh im bi translated">然后我们需要修改<code class="fe nu nv nw nh b">return();</code>中的代码，并定义图标属性。定义图标属性非常简单。为了简单起见，复制代码，我会带你走一遍。这就是我们的<strong class="ko iu">最终代码</strong>的样子:</p><figure class="lj lk ll lm gt ln"><div class="bz fp l di"><div class="ny nz l"/></div></figure><p id="edab" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku ly kw kx ky lz la lb lc ma le lf lg lh im bi translated">我们使用“反应-淡入”中的<em class="kn">淡入</em>替换旧的反应加载器到洛蒂文件，并在“加载状态”中运行三元运算符。我们还修改了两个图标的设置时间，这样一个图标正好在另一个图标之后出现。</p><p id="1591" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku ly kw kx ky lz la lb lc ma le lf lg lh im bi translated">就是这样！你已经做到了👏🏻。轻拍自己的肩膀🏆。您的应用程序应该如下所示。</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi oa"><img src="../Images/43eb45d5ff44d3b4c18f7d0bebf42676.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ukrW5KxuhywHUQ3on_3bRg.gif"/></div></div><figcaption class="lu lv gj gh gi lw lx bd b be z dk translated">决赛成绩🔥</figcaption></figure><p id="c488" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku ly kw kx ky lz la lb lc ma le lf lg lh im bi translated">有几种方法可以改善用户体验，Instagram、Spotify和脸书等公司使用占位符图标，这种策略带来了数据已经加载的错觉。其他例子是微交互。这些事情听起来可能太微不足道了，但是相信我，这就是你让你的用户关注这个应用的方式。查看<a class="op oq ep" href="https://medium.com/u/ea1aff802914?source=post_page-----ccec73de1d66--------------------------------" rel="noopener" target="_blank">丹·哈尔佩林</a>的文章了解更多。在那之前，✌和平🏼。</p></div><div class="ab cl or os hx ot" role="separator"><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow"/></div><div class="im in io ip iq"><div class="lj lk ll lm gt oy"><a href="https://skilled.dev" rel="noopener  ugc nofollow" target="_blank"><div class="oz ab fo"><div class="pa ab pb cl cj pc"><h2 class="bd iu gy z fp pd fr fs pe fu fw is bi translated">编写面试问题</h2><div class="pf l"><h3 class="bd b gy z fp pd fr fs pe fu fw dk translated">一个完整的平台，在这里我会教你找到下一份工作所需的一切，以及…</h3></div><div class="pg l"><p class="bd b dl z fp pd fr fs pe fu fw dk translated">技术开发</p></div></div><div class="ph l"><div class="pi l pj pk pl ph pm ls oy"/></div></div></a></div></div></div>    
</body>
</html>