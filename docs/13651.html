<html>
<head>
<title>How to Commit Multiline Messages in git commit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在git提交中提交多行消息</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-commit-multiline-messages-in-git-commit-bcd76f81919c?source=collection_archive---------4-----------------------#2022-09-26">https://levelup.gitconnected.com/how-to-commit-multiline-messages-in-git-commit-bcd76f81919c?source=collection_archive---------4-----------------------#2022-09-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3182" class="pw-subtitle-paragraph ju is it bd b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl dk translated">有一些简单的方法可以做到这一点，这完全取决于你的个人喜好</h2></div><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/2f2f4465e737e657f8e1cc1caaf1f2d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jV9uS8WLV7s1g-je"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">由<a class="ae lc" href="https://unsplash.com/@dearseymour?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Ksenia Makagonova </a>在<a class="ae lc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="0a09" class="pw-post-body-paragraph ld le it lf b lg lh jy li lj lk kb ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">作为开发人员，当使用Git向远程存储库提交代码时，我们需要编写关于这一修改的信息。在命令行上，我们使用<code class="fe jq jr js jt b">git commit</code>命令，比如<code class="fe jq jr js jt b">git commit -m</code>允许你添加一行信息。但有时带有标题和具体描述的多行消息可能更能表明您的意图，例如:</p><pre class="kn ko kp kq gt lz jt ma mb aw mc bi"><span id="ea65" class="md me it jt b gy mf mg l mh mi">Commit Title: Briefly describe what I changed<br/>Commit Description: Detailed instructions for changing it</span></pre><p id="19dd" class="pw-post-body-paragraph ld le it lf b lg lh jy li lj lk kb ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">那么如何实现这个呢？</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="f310" class="mq me it bd mr ms mt mu mv mw mx my mz kd na ke nb kg nc kh nd kj ne kk nf ng bi translated">1.使用文本编辑器</h1><p id="a685" class="pw-post-body-paragraph ld le it lf b lg nh jy li lj ni kb ll lm nj lo lp lq nk ls lt lu nl lw lx ly im bi translated">使用不带<code class="fe jq jr js jt b">-m</code>或<code class="fe jq jr js jt b">git commit -v</code>的<code class="fe jq jr js jt b">git commit</code>，这将带你到一个文本编辑器。这样你就可以用你最喜欢的文本编辑器添加多行文本。</p><h1 id="13bc" class="mq me it bd mr ms nm mu mv mw nn my mz kd no ke nb kg np kh nd kj nq kk nf ng bi translated">2.多个<code class="fe jq jr js jt b">-m</code>选项</h1><p id="40a4" class="pw-post-body-paragraph ld le it lf b lg nh jy li lj ni kb ll lm nj lo lp lq nk ls lt lu nl lw lx ly im bi translated">如果你不想看到冗长的差异，你可以使用多个<code class="fe jq jr js jt b">-m</code>选项。就像这样:</p><pre class="kn ko kp kq gt lz jt ma mb aw mc bi"><span id="77db" class="md me it jt b gy mf mg l mh mi">$ git commit <strong class="jt iu">-m</strong> "Commit Title" <strong class="jt iu">-m</strong> "Commit Description"</span></pre><p id="8397" class="pw-post-body-paragraph ld le it lf b lg lh jy li lj lk kb ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">这是因为如果给出了多个<code class="fe jq jr js jt b">-m</code>选项，它们的值将被连接成单独的段落，这可以在<a class="ae lc" href="https://git-scm.com/docs/git-commit#Documentation/git-commit.txt--mltmsggt" rel="noopener ugc nofollow" target="_blank"> git文档</a>中找到。</p><p id="bc6f" class="pw-post-body-paragraph ld le it lf b lg lh jy li lj lk kb ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">接下来的<code class="fe jq jr js jt b">git log</code>会是这样的:</p><pre class="kn ko kp kq gt lz jt ma mb aw mc bi"><span id="521d" class="md me it jt b gy mf mg l mh mi">$ git log<br/>commit 1e8ec2c4e820fbf8045b1c7af9f1f4f23262f755<br/>Author: Your Name you@example.com<br/>Date:   Sat Sep 24 20:18:15 2022 -0700</span><span id="03ad" class="md me it jt b gy nr mg l mh mi">Commit Title</span><span id="337f" class="md me it jt b gy nr mg l mh mi">Commit Description</span></pre><h1 id="6cfd" class="mq me it bd mr ms nm mu mv mw nn my mz kd no ke nb kg np kh nd kj nq kk nf ng bi translated">3.打开引号，按回车</h1><p id="37ce" class="pw-post-body-paragraph ld le it lf b lg nh jy li lj ni kb ll lm nj lo lp lq nk ls lt lu nl lw lx ly im bi translated">另一种更简单的方法是键入<code class="fe jq jr js jt b">git commit -m "</code>并点击<code class="fe jq jr js jt b">Enter</code>来输入多行，并在结束时使用右引号。这看起来像这样:</p><pre class="kn ko kp kq gt lz jt ma mb aw mc bi"><span id="b562" class="md me it jt b gy mf mg l mh mi">$ git commit -m "<br/>&gt; Commit Title<br/>&gt; Commit Description"</span></pre><p id="12ca" class="pw-post-body-paragraph ld le it lf b lg lh jy li lj lk kb ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">接下来的<code class="fe jq jr js jt b">git log</code>将会是这样的:</p><pre class="kn ko kp kq gt lz jt ma mb aw mc bi"><span id="5826" class="md me it jt b gy mf mg l mh mi">$ git log<br/>commit 7d75a73e41b578a1e2130372a88a20ed1a0a81e4<br/>Author: Your Name you@example.com<br/>Date:   Sat Sep 24 20:22:02 2022 -0700</span><span id="13ee" class="md me it jt b gy nr mg l mh mi">Commit Title<br/>    Commit Description</span></pre><h1 id="38ab" class="mq me it bd mr ms nm mu mv mw nn my mz kd no ke nb kg np kh nd kj nq kk nf ng bi translated">4.Shell环境变量</h1><p id="4cbe" class="pw-post-body-paragraph ld le it lf b lg nh jy li lj ni kb ll lm nj lo lp lq nk ls lt lu nl lw lx ly im bi translated">不要忘记您可以在shell中定义环境变量，例如，您可以用换行符定义临时环境变量:</p><pre class="kn ko kp kq gt lz jt ma mb aw mc bi"><span id="a37b" class="md me it jt b gy mf mg l mh mi">$ msg="<br/>&gt; Commit Title<br/>&gt; Commit Description"</span><span id="12f3" class="md me it jt b gy nr mg l mh mi"># or<br/>$ msg="$(printf "Commit Title\nCommit Description")"</span></pre><p id="971f" class="pw-post-body-paragraph ld le it lf b lg lh jy li lj lk kb ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">接下来，您可以:</p><pre class="kn ko kp kq gt lz jt ma mb aw mc bi"><span id="03e0" class="md me it jt b gy mf mg l mh mi">$ git commit -m "$msg"</span></pre><p id="5f37" class="pw-post-body-paragraph ld le it lf b lg lh jy li lj lk kb ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">就这样，<code class="fe jq jr js jt b">git log</code>会输出:</p><pre class="kn ko kp kq gt lz jt ma mb aw mc bi"><span id="9ac6" class="md me it jt b gy mf mg l mh mi">$ git log<br/>commit 056e35c37d199c0f3904e47d2107140267608c4a<br/>Author: Your Name you@example.com<br/>Date:   Sat Sep 24 20:42:11 2022 -0700</span><span id="3d2f" class="md me it jt b gy nr mg l mh mi">Commit Title<br/>    Commit Description</span></pre><h1 id="b698" class="mq me it bd mr ms nm mu mv mw nn my mz kd no ke nb kg np kh nd kj nq kk nf ng bi translated">5.使用<code class="fe jq jr js jt b">-F</code>选项</h1><p id="2e16" class="pw-post-body-paragraph ld le it lf b lg nh jy li lj ni kb ll lm nj lo lp lq nk ls lt lu nl lw lx ly im bi translated">来自<a class="ae lc" href="https://git-scm.com/docs/git-commit#Documentation/git-commit.txt--Fltfilegt" rel="noopener ugc nofollow" target="_blank">文档</a>的介绍:</p><blockquote class="ns nt nu"><p id="8ebf" class="ld le nv lf b lg lh jy li lj lk kb ll nw ln lo lp nx lr ls lt ny lv lw lx ly im bi translated">-F<file><br/>—file =&lt;file&gt;</file></p><p id="887b" class="ld le nv lf b lg lh jy li lj lk kb ll nw ln lo lp nx lr ls lt ny lv lw lx ly im bi translated">从给定文件中获取提交消息。使用`-'从标准输入中读取消息。</p></blockquote><p id="25f1" class="pw-post-body-paragraph ld le it lf b lg lh jy li lj lk kb ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">因此您可以在提交之前在一个临时文件中编写一个多行消息。像下面这样:</p><pre class="kn ko kp kq gt lz jt ma mb aw mc bi"><span id="2c45" class="md me it jt b gy mf mg l mh mi">$ printf "Commit Title\nCommit Description" &gt; "temp.txt"<br/>$ git commit -F "temp.txt"</span></pre><p id="2f9b" class="pw-post-body-paragraph ld le it lf b lg lh jy li lj lk kb ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">或者使用标准输入代替临时文件:</p><pre class="kn ko kp kq gt lz jt ma mb aw mc bi"><span id="0f23" class="md me it jt b gy mf mg l mh mi">$ printf "Commit Title\nCommit Description" | git commit -F-</span></pre></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="cda6" class="mq me it bd mr ms mt mu mv mw mx my mz kd na ke nb kg nc kh nd kj ne kk nf ng bi translated">结论</h1><p id="be95" class="pw-post-body-paragraph ld le it lf b lg nh jy li lj ni kb ll lm nj lo lp lq nk ls lt lu nl lw lx ly im bi translated">下面是我看到的几种方法，你可以根据自己的喜好选择其中一种，希望有帮助。</p><p id="3a79" class="pw-post-body-paragraph ld le it lf b lg lh jy li lj lk kb ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">如果你有其他方法，欢迎分享。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="e9b0" class="pw-post-body-paragraph ld le it lf b lg lh jy li lj lk kb ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><em class="nv">感谢阅读。如果你喜欢这样的故事，想支持我，请考虑成为</em> <a class="ae lc" href="https://medium.com/@islizeqiang/membership" rel="noopener"> <em class="nv">中等会员</em> </a> <em class="nv">。它每月收费5美元，可以无限制地访问媒体内容。如果你通过</em> <a class="ae lc" href="https://medium.com/@islizeqiang/membership" rel="noopener"> <em class="nv">我的链接</em> </a> <em class="nv">报名，我会得到一点佣金。</em></p><p id="23f1" class="pw-post-body-paragraph ld le it lf b lg lh jy li lj lk kb ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">你的支持对我来说非常重要——谢谢。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="6628" class="mq me it bd mr ms mt mu mv mw mx my mz kd na ke nb kg nc kh nd kj ne kk nf ng bi translated">分级编码</h1><p id="be69" class="pw-post-body-paragraph ld le it lf b lg nh jy li lj ni kb ll lm nj lo lp lq nk ls lt lu nl lw lx ly im bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="2be1" class="nz oa it lf b lg lh lj lk lm ob lq oc lu od ly oe of og oh bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="dc00" class="nz oa it lf b lg oi lj oj lm ok lq ol lu om ly oe of og oh bi translated">📰查看<a class="ae lc" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">升级编码出版物</a>中的更多内容</li><li id="3161" class="nz oa it lf b lg oi lj oj lm ok lq ol lu om ly oe of og oh bi translated">🔔关注我们:<a class="ae lc" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae lc" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae lc" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="1e27" class="pw-post-body-paragraph ld le it lf b lg lh jy li lj lk kb ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">🚀👉<a class="ae lc" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="lf iu">将像你这样的开发人员安置在顶级创业公司和科技公司</strong> </a></p></div></div>    
</body>
</html>