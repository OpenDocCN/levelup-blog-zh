# 停止做一个衬垫

> 原文：<https://levelup.gitconnected.com/stop-doing-one-liners-fb78b3e81cd7>

## 代码行越少并不总是越好

![](img/d08b4555f7c5f608dc7da34686bcb143.png)

西蒙·哈奇在 [Unsplash](https://unsplash.com/photos/TqEjlOTmF5U) 拍摄的照片

前几天我在调试这个方法:

以下是我发现的这个衬垫的一些问题:

# 查看返回值是不方便的

我不得不突出显示`return`之后的所有内容，并将其添加到监视窗口中，而不是仅仅停留在一个变量上。

# 在测试期间更新返回值是不可能的

由于`IdMap.Contains<Deposit>(dto.DepositID)`不是一个变量，我不能像有时需要做的那样，在 Visual Studio 的即时窗口中更新返回值。

# 让其他开发者的，你的生活更轻松，用两行！

如果代码是这样写的，调试起来会容易得多:

# Reddit 的评论摘要

我在 Reddit 上讨论过这个话题，大多数人都反对。

以下是他们观点的总结，以及我的回应:

## 您可以使用“自动”窗口查看函数返回值

你也可以用变量来做这件事。有了变量，开发人员就可以选择将光标悬停在变量上来查看值。

“汽车”窗口可能充斥着您不关心的其他变量。不得不通过筛选或滚动来找到您的变量，这并不理想。

## 您可以等到方法返回

该方法返回，然后您可以将鼠标悬停在返回值被捕获到的变量上。但是，如果您想在计算后立即找到值，该怎么办呢？如果返回值不是被捕获到一个变量中，而是在一个`if`语句中使用，该怎么办？如果一个方法的返回值是由调用方法返回的，一直到 action 方法，在这种情况下，您永远没有机会查看/更新结果。

## 你可以突出显示一个班轮，并添加一个手表

这不仅仅是停留在一个变量上。此外，这可能会产生不希望的副作用，因为这涉及到每次添加观察器时执行一个 liner。

## 您可以使用单元测试或硬编码值来测试不同的返回值

这需要付出很多努力，尤其是当测试这个方法可能没有意义的时候(如果它是一个私有方法呢？).如果您正在调试一个正在运行的应用程序，花了五分钟才到达您当前所在的行，并且您想要测试一个不同的返回值，却发现您需要停止程序，编辑代码以硬编码一个新值，或者编写一个单元测试，该怎么办？不太理想。单元测试也不允许您在结果 UI 中查看不同变量值的结果。

## 摘要

将返回值捕获到变量中并不能提高可读性，因为方法名应该已经告诉了你将返回什么。然而，这也不会降低可读性。

在我看来，两行代码的好处(更容易调试)远远超过可以忽略的缺点(多一行代码)。