<html>
<head>
<title>An Introduction to Base64 Encoding</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Base64编码简介</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/an-introduction-to-base64-encoding-716cdccc58ce?source=collection_archive---------2-----------------------#2021-08-08">https://levelup.gitconnected.com/an-introduction-to-base64-encoding-716cdccc58ce?source=collection_archive---------2-----------------------#2021-08-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/06dda47646ae28beca2d218ea5b60117.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kOFMkW93KQ4BcKCn-OgV2w.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">作者通过<a class="ae kc" href="https://www.flickr.com/photos/cmmorrow/10788726084/" rel="noopener ugc nofollow" target="_blank"> Flickr </a>拍摄的照片</figcaption></figure><p id="3a8b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您从事web开发、数据工程或网络安全，您可能听说过Base64。如果你看过Base64文本的例子，它看起来就像胡言乱语。你可能会问自己“这是什么？”，更重要的是“这是干什么用的？”谷歌搜索答案给出了涉及radix-64和RFC 4648的高度技术性的解释。如果你在寻找一个简单的解释，你来对地方了。</p><h1 id="9668" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">什么是Base64？</h1><p id="2109" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">Base64是将任意二进制数据表示为文本的常用且可靠的方法。这个名字来源于这样一个事实:Base64使用64个可能的值来表示二进制数据。这意味着用6位来表示一个Base64字符(2⁶ = 64)。这些值由大小写字母、数字0到9以及“+”和“/”符号组成。但是我们如何将位转换成Base64呢？要理解这是如何做到的，需要对二进制数据是如何表示的进行一些解释。</p><p id="cec0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">举个例子，我们以单词“one”为例，看看它是如何用Base64表示的。然而，在此之前，我们先讨论一下ASCII。<a class="ae kc" href="https://en.wikipedia.org/wiki/ASCII" rel="noopener ugc nofollow" target="_blank"> ASCII </a>是一种在计算机系统中表示文本数据的编码方案。ASCII用八位表示字符(总共2⁸ = 256个可能值)，因此ASCII编码的字“一”表示为:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="e935" class="mn lc iq mj b gy mo mp l mq mr">  "o"        "n"        "e"<br/>01101111   01101110   01100101</span></pre><p id="4e12" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由<a class="ae kc" href="https://www.rapidtables.com/code/text/ascii-table.html" rel="noopener ugc nofollow" target="_blank"> ASCII表</a>定义每个字符到其八位二进制表示的翻译。根据Base64 <a class="ae kc" href="https://en.wikipedia.org/wiki/Base64#Base64_table" rel="noopener ugc nofollow" target="_blank">查找表</a>中的值，Base64用六位而不是八位对二进制数据进行编码。通过将“一”的ASCII二进制表示拆分成六个位块，并使用Base64查找表，我们可以将ASCII字“一”的Base64表示获得为“b25l”。</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="2388" class="mn lc iq mj b gy mo mp l mq mr">   "o"        "n"        "e"<br/> 01101111   01101110   01100101<br/> 011011  110110  111001  100101<br/>   "b"     "2"     "5"     "l"</span></pre><h1 id="fa36" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">Base64是做什么用的？</h1><p id="b994" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">您可能希望将二进制数据编码为Base64有几个原因，有些好，有些不太好。最常见的情况是通过HTTP发送二进制数据。为了防止数据损坏，您可以对图像、音频和其他二进制文件格式进行Base64编码，以便将数据作为HTTP GET请求或HTML表单的一部分发送。一个例子就是把你的简历以PDF格式上传到雇主的网站上。您也可以对计算机代码进行Base64编码，以便通过HTTP进行传输。MermaidJS 这样做是为了共享流程图和图表。</p><p id="0a74" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Base64的另一个成熟用例是在电子邮件附件中。附加到电子邮件的文件在通过SMTP邮件协议与电子邮件一起传输之前，会在后台进行Base64编码。</p><p id="24d4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Base64也用于混淆数据，或者掩盖数据，使其不可读。这通常是为了通过HTTP传输半机密信息，如唯一标识符或JSON有效载荷。然而，不良行为者通常采用Base64编码来隐藏反病毒软件的Excel宏和脚本中的恶意软件或恶意URL。因此，您应该始终对运行您下载或通过电子邮件发送给您的、来源不可靠的脚本和宏持怀疑态度。</p><h1 id="cd36" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">Base64和加密一样吗？</h1><p id="e2a8" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">简而言之，不能。从表面上看，Base64编码似乎可以用来加密数据，然而，Base64编码只是将数据转换成文本格式。Base64解码不使用密码，在这个过程中没有使用随机性。因此，任何Base64编码的数据都很容易被其他人解码。</p><p id="3b4a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，Base64编码不能替代安全性。如果您需要确保传输的数据不会被不可信的一方读取，则需要对数据进行加密。如果您只想确保传输的数据不被不可信的一方篡改，您将需要对数据进行加密签名。这两个主题都超出了本次讨论的范围，但是我完全鼓励您学习更多关于<a class="ae kc" href="https://searchsecurity.techtarget.com/definition/encryption" rel="noopener ugc nofollow" target="_blank">加密数据</a>的知识。</p><h1 id="befa" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">如何对数据进行Base64编码和解码？</h1><p id="f9b8" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果你需要对文本或文件内容进行Base64编码作为一次性用例，你可以访问www.base64encode.org的<a class="ae kc" href="https://www.base64encode.org/" rel="noopener ugc nofollow" target="_blank">，它是免费且易于使用的。还有解码Base64的姐妹站点【www.base64decode.org</a><a class="ae kc" href="https://www.base64decode.org/" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="1aec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您需要定期对数据进行Base64编码和解码，几种编程语言都内置了对Base64的支持。在Go中，你可以使用下面的代码对一个字符串进行Base64编码:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="5103" class="mn lc iq mj b gy mo mp l mq mr">package main</span><span id="1112" class="mn lc iq mj b gy ms mp l mq mr">import (<br/>    "encoding/base64"<br/>    "fmt"<br/>)</span><span id="6603" class="mn lc iq mj b gy ms mp l mq mr">func main() {<br/>    msg := "Hello world!"<br/>    encoded := base64.StdEncoding.EncodeToString([]byte(msg)<br/>    fmt.Println(encoded)<br/>}</span></pre><p id="f0dd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在Python中，等效代码可用于对字符串进行Base64编码:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="20d1" class="mn lc iq mj b gy mo mp l mq mr">import base64</span><span id="3a49" class="mn lc iq mj b gy ms mp l mq mr">msg = "Hello world!"<br/>encoded = base64.b64encode(bytes(msg, encoding='utf-8'))<br/>print(encoded.decode('utf-8'))</span></pre><p id="8991" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">两组代码实现了相同的目标——它们接受字符串“Hello world！”as <code class="fe mt mu mv mj b">msg</code>和Base64使用<code class="fe mt mu mv mj b">utf-8</code>编码对其进行编码(<code class="fe mt mu mv mj b">utf-8</code>在Go where中被隐式使用，因为它在Python中被显式定义)。两个Base64编码函数都处理二进制数据——Go中的字节数组和Python中的字节对象。由于<code class="fe mt mu mv mj b">msg</code>是一个字符串，它被转换成适当的类型并保存到变量<code class="fe mt mu mv mj b">encoded</code>。<code class="fe mt mu mv mj b">encoded</code>打印结果为“SGVsbG8gd29ybGQh”。</p><p id="3bd6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从Base64解码文本非常相似:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="62b0" class="mn lc iq mj b gy mo mp l mq mr">package main</span><span id="0fd1" class="mn lc iq mj b gy ms mp l mq mr">import (<br/>    "encoding/base64"<br/>    "fmt"<br/>)</span><span id="662c" class="mn lc iq mj b gy ms mp l mq mr">func main() {<br/>    msg := "SGVsbG8gd29ybGQh"<br/>    decoded, err := base64.StdEncoding.DecodeString(msg)<br/>    if err != nil {<br/>        fmt.Println("error:", err)<br/>        return<br/>    }<br/>    fmt.Printf("%q\n", decoded)<br/>}</span></pre><p id="6b51" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在Python中，等效代码可用于对字符串进行Base64解码:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="a37c" class="mn lc iq mj b gy mo mp l mq mr">import base64</span><span id="4339" class="mn lc iq mj b gy ms mp l mq mr">msg = bytes("SGVsbG8gd29ybGQh", encoding='utf-8')<br/>decoded = base64.b64decode(msg)<br/>print(decoded.decode('utf-8'))</span></pre><p id="f8df" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">两组代码都采用字符串“SGVsbG8gd29ybGQh”并对其进行Base64解码。Base64对二进制数据进行操作，因此即使Go <code class="fe mt mu mv mj b">DecodeString</code>函数接受一个字符串，它也将<code class="fe mt mu mv mj b">decoded</code>作为一个字节数组返回——这就是用于打印<code class="fe mt mu mv mj b">decoded</code>的<code class="fe mt mu mv mj b">%q</code>格式化动词。Python代码同样需要通过使用<code class="fe mt mu mv mj b">decode()</code>方法将<code class="fe mt mu mv mj b">decoded</code>从字节对象转换为字符串对象。</p><h1 id="447f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="65aa" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们学习了Base64是什么，它的用途，以及如何在Go和Python中实现Base64编码器和解码器。然而，这仅仅是对Base64的皮毛，还有很多有待发现。希望您现在对如何将Base64整合到您的下一个项目中有一个更好的想法。黑客快乐！</p></div></div>    
</body>
</html>