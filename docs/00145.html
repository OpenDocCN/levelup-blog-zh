<html>
<head>
<title>How to Build a Simple Blog using Vue and Cosmic JS + Deploy to Netlify</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Vue和Cosmic JS + Deploy to Netlify构建一个简单的博客</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-build-a-simple-blog-using-vue-and-cosmic-js-deploy-to-netlify-5700fd6a676c?source=collection_archive---------0-----------------------#2018-05-29">https://levelup.gitconnected.com/how-to-build-a-simple-blog-using-vue-and-cosmic-js-deploy-to-netlify-5700fd6a676c?source=collection_archive---------0-----------------------#2018-05-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/75d1580cecd8ddfac48e4fec0e086e1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cnAjM0WRYSpoDz-HLU3I9g.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">文章最初出现在<a class="ae kc" href="https://cosmicjs.com/articles/how-to-build-a-simple-blog-using-vue-cosmic-js-and-deploy-to-netlify" rel="noopener ugc nofollow" target="_blank">宇宙JS开发者文章</a>中，作者<a class="ae kc" href="https://cosmicjs.com/jazibsawar" rel="noopener ugc nofollow" target="_blank"> Jazib Sawar </a>。</figcaption></figure><p id="15f1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本教程中，我将向您展示如何使用<a class="ae kc" href="https://vuejs.org/" rel="noopener ugc nofollow" target="_blank"> Vue </a>、Vuex、<a class="ae kc" href="https://cosmicjs.com/" rel="noopener ugc nofollow" target="_blank"> Cosmic JS </a>创建一个简单但令人惊叹的博客，并部署到<a class="ae kc" href="http://netlify.com/" rel="noopener ugc nofollow" target="_blank"> Netlify </a>。让我们开始吧。</p><h1 id="474b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">TL；速度三角形定位法(dead reckoning)</h1><p id="75c3" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><a class="ae kc" href="https://github.com/cosmicjs/vue-blog-cosmicjs" rel="noopener ugc nofollow" target="_blank">下载GitHub回购。</a> <br/> <a class="ae kc" href="https://simple-vue-blog.cosmicapp.co/" rel="noopener ugc nofollow" target="_blank">查看演示。</a></p><h1 id="a272" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">先决条件</h1><p id="250e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">在启动之前，您需要安装NodeJS和npm。通过在终端中键入<code class="fe me mf mg mh b">node -v</code>和<code class="fe me mf mg mh b">npm -v</code>来确保您已经拥有它们。</p><h1 id="9f22" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">开始使用:</h1><p id="b319" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">在这个应用程序中，我们使用<a class="ae kc" href="https://github.com/snipcart/vue-blog-demo" rel="noopener ugc nofollow" target="_blank"> Snipcart Vue博客演示</a>作为起点。派生并克隆这个存储库，我们稍后将研究它。首先，我们将在宇宙JS中设置桶。</p><p id="580c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">设置铲斗:</strong></p><p id="c79c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要创建存储桶，请登录<a class="ae kc" href="http://cosmicjs.com/" rel="noopener ugc nofollow" target="_blank"> Cosmic JS </a>并点击“添加新存储桶”。</p><figure class="mj mk ml mm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mi"><img src="../Images/37dba4982b90402f3e6330b053659ed5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*n1pUjy23AiJnw6IX.png"/></div></div></figure><p id="916b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">选择从头开始。</p><figure class="mj mk ml mm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mn"><img src="../Images/7f80dff4b5f38e6d2580a7037ed82a5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qfzzT0UAcdE5XAJa.png"/></div></div></figure><p id="a5f7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">导入桶数据</strong></p><p id="221a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下载这个<a class="ae kc" href="https://raw.githubusercontent.com/jazibsawar/vue-blog-cosmicjs/backend-cosmicjs/bucket.json" rel="noopener ugc nofollow" target="_blank"> bucket.json </a>文件。在<code class="fe me mf mg mh b">Settings &gt; Import / Export Data</code>中，点击“添加导入文件”，选择下载的文件。它将导入所有对象类型和所需数据。</p><figure class="mj mk ml mm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mo"><img src="../Images/80af9307ae00fb80c3575054cba67b7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*EthYfCbHaD1nROeb.png"/></div></div></figure><p id="dfe8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们将致力于应用程序。</p><h1 id="be98" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">整合宇宙JS</h1><p id="aad2" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">铲斗应该完全设置好。现在，我们将把Cosmic JS后端集成到分叉的<a class="ae kc" href="https://github.com/snipcart/vue-blog-demo" rel="noopener ugc nofollow" target="_blank">https://github.com/snipcart/vue-blog-demo</a>存储库中。首先，用这个替换<code class="fe me mf mg mh b">package.json</code>:</p><figure class="mj mk ml mm gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="3879" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在终端打开文件夹，做<code class="fe me mf mg mh b">npm install</code>。完成之后，我们需要设置Cosmic JS配置，以便与API进行通信。为此，我们将在<code class="fe me mf mg mh b">/src/config/</code>文件夹中创建一个文件<code class="fe me mf mg mh b">index.js</code>。</p><figure class="mj mk ml mm gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="01a2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">之后分别替换<code class="fe me mf mg mh b">/config/</code>文件夹中<code class="fe me mf mg mh b">index.js</code>和<code class="fe me mf mg mh b">prod.env.js</code>的内容。</p><p id="0ef5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">index.js</code></p><figure class="mj mk ml mm gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="6b02" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">prod.env.js</code></p><figure class="mj mk ml mm gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="9fea" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这就完成了宇宙JS配置。我们需要在项目的根目录下创建一个<code class="fe me mf mg mh b">.env</code>文件。它会将所有变量加载到process.env中。</p><figure class="mj mk ml mm gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="2bd4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">更改Vue资源插件以集成Cosmic JS API </strong></p><p id="d969" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们的应用程序就快完成了。我们只需要做一些小的调整，以使它正常工作。</p><p id="d7d8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用以下代码替换代码<code class="fe me mf mg mh b">src/main.js</code>。我们正在改变一个API端点，以便调用Cosmic JS后端。</p><figure class="mj mk ml mm gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="5cfe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用下面的代码替换<code class="fe me mf mg mh b">src/plugins/resource/index.js</code>，我会解释我们在这里做什么。</p><figure class="mj mk ml mm gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="4b32" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这次修改中，我们基本上导入了之前创建的配置，并将API请求的端点URI更改为Cosmic JS。</p><p id="ce77" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">博客供稿</p><p id="ea4c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">替换<code class="fe me mf mg mh b">src/resources/BlogFeed.js</code>以便将来自Cosmic JS API的数据映射到博客提要。我们只需要正确地进行映射，因为前端代码独立于API调用。</p><figure class="mj mk ml mm gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="bd84" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">博客帖子</strong></p><p id="82b3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，更换<code class="fe me mf mg mh b">src/resources/BlogPost.js</code>。它将使单一职位的工作完美。</p><figure class="mj mk ml mm gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="75a4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">定稿</strong></p><p id="5e6d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你在终端里做<code class="fe me mf mg mh b">npm run dev</code>就可以了。但是在我们开始部署之前，我们需要完成一些事情。替换<code class="fe me mf mg mh b">static/api/blog.json</code>中的博客标题、作者标签和帖子标签。该字符串将在应用程序中使用。</p><figure class="mj mk ml mm gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="1451" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于这个博客应用程序是静态的，如果您想将它部署到Cosmic JS主机，您需要创建一个简单的Node.js Express服务器。在应用程序的根目录下创建<code class="fe me mf mg mh b">server.js</code>,并将下面的代码复制到该文件中。</p><figure class="mj mk ml mm gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="efa4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一切都结束了😃。另外，我增加了<code class="fe me mf mg mh b">TitleComponent</code>来改变<code class="fe me mf mg mh b">document.title</code>。你可以在我的<a class="ae kc" href="https://github.com/jazibsawar/vue-blog-cosmicjs" rel="noopener ugc nofollow" target="_blank">库</a>里查看代码。</p><p id="036b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">部署</strong></p><p id="0bac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我将展示如何在<a class="ae kc" href="https://cosmicjs.com" rel="noopener ugc nofollow" target="_blank"> Cosmic JS </a>上部署这个应用程序，并使用Netlify的免费主机。您需要将这个应用程序代码推送到GitHub上的存储库中。</p><p id="00ca" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">部署在Cosmic JS主机上</strong></p><p id="dafb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">进入<a class="ae kc" href="https://cosmicjs.com" rel="noopener ugc nofollow" target="_blank"> Cosmic JS </a> dashboard中你的桶，点击设置- &gt;部署Web App。</p><figure class="mj mk ml mm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mr"><img src="../Images/83eb6ba540ce22a9cc6a555d73e6a5c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*7MhG2i8p-4rO-F-u.png"/></div></div></figure><p id="b1dc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在新窗口中，输入您的存储库URL和分支名称。添加完所有需要的配置后，点击“部署web应用程序”。它将被部署，成功部署后您将收到一封电子邮件。你不需要像在Cosmic JS托管中那样在这里输入任何环境变量，因为一切都已经为我们做好了。</p><figure class="mj mk ml mm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mr"><img src="../Images/520208558f09f7d159d58708550b87e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*f_ats7VeaCqaCbxY.png"/></div></div></figure><p id="20fa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">在网络上部署</strong></p><p id="c768" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在Netlify上注册，点击“来自Git的新站点”。请在那里选择Git提供者。就我而言，我将使用Github。</p><figure class="mj mk ml mm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mr"><img src="../Images/e79c0e6b73c6f51b5a2da04cfaefd256.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*yJBXkB8Y_nLP29Lw.png"/></div></div></figure><p id="1e96" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">成功认证后，您的所有存储库都将显示出来。选择正确的存储库。</p><figure class="mj mk ml mm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mr"><img src="../Images/68cc4c6ae3e129c68a0c74b8c3af56c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*JkoQIQNOG-G01VEA.png"/></div></div></figure><p id="407f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在您需要选择您的分支并提供一些配置，以便使它正常工作。选择分支成功后，在<code class="fe me mf mg mh b">build</code>命令中输入<code class="fe me mf mg mh b">'npm run build'</code>，在<code class="fe me mf mg mh b">publish</code>目录中输入<code class="fe me mf mg mh b">'dist'</code>。最后，点击<code class="fe me mf mg mh b">'Show advanced'</code>按钮。</p><figure class="mj mk ml mm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mr"><img src="../Images/71669b5122481eb51f7102dc7134fa42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*65M3Ca-tTWrkTd_S.png"/></div></div></figure><p id="edbf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">点击前进按钮后，需要添加<code class="fe me mf mg mh b">3 environment variables</code>。这里我们必须手动完成，但是Cosmic JS主机会自动为我们完成。</p><p id="c227" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在那里加上<code class="fe me mf mg mh b">COSMIC_BUCKET</code>、<code class="fe me mf mg mh b">COSMIC_READ_KEY</code>和<code class="fe me mf mg mh b">COSMIC_WRITE_KEY</code>。您可以从<code class="fe me mf mg mh b">Settings &gt; Basic Settings</code>中获得这些值。只需将值粘贴在那里，然后按下<code class="fe me mf mg mh b">Deploy Site</code>。它将在几分钟内部署！</p><figure class="mj mk ml mm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mr"><img src="../Images/a0ae4b4a47902579d30fc1a1c2ce39ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4DWedvl_pTaBckYR.png"/></div></div></figure><h1 id="7b6c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="78f1" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">这是一个使用Vue、Vuex和<a class="ae kc" href="https://cosmicjs.com" rel="noopener ugc nofollow" target="_blank"> Cosmic JS </a>构建的简单博客应用。我们还学习了如何将这个应用程序部署到Netlify以及Cosmic JS主机。我希望你喜欢这个教程，并会对你有所帮助。干杯！</p></div></div>    
</body>
</html>