<html>
<head>
<title>How to Create, Host, and Deploy an LWC OSS App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何创建、托管和部署LWC OSS应用程序</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-create-host-and-deploy-an-lwc-oss-app-ff5e05a12409?source=collection_archive---------12-----------------------#2021-02-09">https://levelup.gitconnected.com/how-to-create-host-and-deploy-an-lwc-oss-app-ff5e05a12409?source=collection_archive---------12-----------------------#2021-02-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="141a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本教程中，我们将了解从头创建一个<a class="ae ko" href="https://lwc.dev/" rel="noopener ugc nofollow" target="_blank"> LWC开源</a>应用程序，将其托管在Github页面上，并最终部署到<a class="ae ko" href="https://www.heroku.com" rel="noopener ugc nofollow" target="_blank"> Heroku </a>的端到端过程。我们还将研究各种<a class="ae ko" href="https://www.heroku.com" rel="noopener ugc nofollow" target="_blank"> Heroku </a>部署选项，包括Express server和其他替代方案。所以，让我们开始构建我们的第一个LWC开源应用吧！</p><h1 id="eb72" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">Lightning Web组件简介</h1><p id="ff07" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">Lightning Web Components (LWC)是一个开源的轻量级可重用组件集，由JavaScript、JavaScript和CSS构建。</p><p id="2352" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于Salesforce开发人员来说,, LWC最好的部分是组件与Aura组件在一个页面上共存和互操作。公平地说，LWC在销售队伍发展方面引入了一个重大的范式转变。作为一名开发人员，您不再使用Visualforce这样的专有语言。相反，您可以利用使用现代和开放网络标准构建的LWC框架，该框架允许您不仅为Salesforce，还为其他平台创建应用程序。</p><p id="1da8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于<strong class="js iu">全栈开发</strong>，LWC代表“使用你的团队喜欢的栈和工具的快速、通用的web组件和应用”换句话说，它们是一组快速的、可重用的、开源的web组件，你可以在你的项目中使用，在大多数web栈之上。</p><p id="0d05" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">LWC框架的主要优势包括更好的应用程序性能，以及由于开放标准而不断发展和改进的路线图。欲了解更多信息和示例，请查阅官方指南。</p><p id="881e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">因此，让我们构建一个LWC项目，并查看托管和部署它的选项。</p><p id="14de" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">注意:如果你更喜欢看视频而不是阅读，我受这些视频的启发写了这篇文章，内容包括如何<a class="ae ko" href="https://www.youtube.com/watch?v=-GMvhbZgqAI&amp;feature=youtu.be" rel="noopener ugc nofollow" target="_blank">创建LWC应用</a>，<a class="ae ko" href="https://www.youtube.com/watch?v=LqPPDyTD67U&amp;feature=youtu.be" rel="noopener ugc nofollow" target="_blank">在Github页面上托管LWC OSS应用</a>，<a class="ae ko" href="https://www.youtube.com/watch?v=WHD5VZVabNw&amp;feature=youtu.be" rel="noopener ugc nofollow" target="_blank">用Heroku和Express部署LWC应用</a>，以及<a class="ae ko" href="https://www.youtube.com/watch?v=UoO_-3kC7x4&amp;feature=youtu.be" rel="noopener ugc nofollow" target="_blank">用Heroku部署LWC应用<em class="ls">而不使用</em> Express </a>。</p><h1 id="63ea" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">我们开始吧！</h1><p id="8fe6" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">为了开始构建我们的LWC应用程序，我们利用开源的<a class="ae ko" href="https://github.com/muenzpraeger/create-lwc-app" rel="noopener ugc nofollow" target="_blank"><em class="ls">create-LWC-app</em></a><em class="ls"/>工具来构建具有所需结构的种子项目。让我们称我们的示例LWC应用程序为“<em class="ls"> demo-app”</em></p><p id="52b9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在创建演示应用程序之前，您需要以下内容:</p><ul class=""><li id="da1c" class="lt lu it js b jt ju jx jy kb lv kf lw kj lx kn ly lz ma mb bi translated"><a class="ae ko" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> Node.js </a>及npm 5.2以上</li><li id="51b9" class="lt lu it js b jt mc jx md kb me kf mf kj mg kn ly lz ma mb bi translated"><a class="ae ko" href="https://nodejs.dev/learn/the-npx-nodejs-package-runner" rel="noopener ugc nofollow" target="_blank">节点包运行器</a> (npx)</li><li id="cf65" class="lt lu it js b jt mc jx md kb me kf mf kj mg kn ly lz ma mb bi translated"><em class="ls"> Git命令行</em></li></ul><p id="cba8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">具备这些先决条件后，您现在可以进入终端了。从那里，创建一个新目录，然后运行以下命令:</p><p id="ba35" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe mh mi mj mk b">npx create-lwc-app demo-app</code></p><p id="3d0b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">运行上述命令后，它会要求您确认以下参数。现在，让我们只选择默认选项——我们将在本教程的后续部分探索它们。</p><ul class=""><li id="ad42" class="lt lu it js b jt ju jx jy kb lv kf lw kj lx kn ly lz ma mb bi translated"><strong class="js iu">您想使用简单设置吗？是的</strong></li><li id="b786" class="lt lu it js b jt mc jx md kb me kf mf kj mg kn ly lz ma mb bi translated"><strong class="js iu">NPM</strong>演示应用程序的包名</li><li id="5b41" class="lt lu it js b jt mc jx md kb me kf mf kj mg kn ly lz ma mb bi translated"><strong class="js iu">选择您想要创建的应用类型</strong>标准web应用</li><li id="59ae" class="lt lu it js b jt mc jx md kb me kf mf kj mg kn ly lz ma mb bi translated">你想要一个基本的Express API服务器吗？没有</li></ul><p id="226a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一旦命令完成，它将安装默认的结构和框架及其相关的依赖项。如果一切顺利，您应该会看到如下确认消息:</p><p id="b693" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe mh mi mj mk b">🎉 Created demo-app in /Users/gaurav/Desktop/demo-app.. Checkout the `scripts` section of your `package.json` to get started.</code></p><h1 id="fdec" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">了解项目框架结构</h1><p id="cba0" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">让我们打开Visual Studio代码中的<em class="ls"> demo-app项目</em>来了解一下app的骨架结构。</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi ml"><img src="../Images/55c2f1ef7615c0dd60adccd7020c0900.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3vEbaQCgRndn3yqt"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">演示应用程序结构</figcaption></figure><p id="d7d1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们示例应用程序的源代码位于<em class="ls"> src </em>文件夹中。我们的应用程序的入口点是<em class="ls"> src/index.html </em></p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi nb"><img src="../Images/93b289afcd821273553d4ab185815101.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iqEKVe3ubEczFEqc"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">index.html</figcaption></figure><p id="61a4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">基于在<em class="ls"> index.js </em>中创建的路线，在路线<em class="ls"> demo-app </em>上提供示例应用</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi nc"><img src="../Images/d578b3b35ad40955117b93433c661c56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zqIBNninQV1XU37S"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">索引. js</figcaption></figure><p id="6720" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">所有LWC都存在于“我的”命名空间内的<em class="ls">模块文件夹中。</em></p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi nd"><img src="../Images/45d8c8d0f41a22e00631ccd6a0bd1b45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2xP5MiGJUJ_ItBjm"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">模块结构</figcaption></figure><p id="7fae" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于这个<em class="ls">演示应用程序，</em>我们有两个预构建的组件— <em class="ls">应用程序</em>和<em class="ls">问候。</em>每个构件的结构包含:</p><ul class=""><li id="496d" class="lt lu it js b jt ju jx jy kb lv kf lw kj lx kn ly lz ma mb bi translated">包含用于呈现的组件标记的HTML文件</li><li id="f43d" class="lt lu it js b jt mc jx md kb me kf mf kj mg kn ly lz ma mb bi translated">包含组件业务逻辑的JS文件</li><li id="794e" class="lt lu it js b jt mc jx md kb me kf mf kj mg kn ly lz ma mb bi translated">具有组件样式的CSS文件</li><li id="1420" class="lt lu it js b jt mc jx md kb me kf mf kj mg kn ly lz ma mb bi translated">一个包含组件单元测试的<strong class="js iu">测试</strong>目录</li></ul><h1 id="c9f1" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">在本地运行应用程序</h1><p id="8dbf" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">最好先在本地运行应用程序，以确保没有构建问题。为此，请执行以下命令:</p><p id="f507" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe mh mi mj mk b">npm run watch</code></p><p id="5fce" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这将在<em class="ls"> localhost:3001 </em>上启动应用程序</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi nb"><img src="../Images/99e170236d22c6abbe6a804b2d90474b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IDSiIjSeG58MBx6K"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">本地执行</figcaption></figure><p id="f245" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你可以在任何浏览器中打开<a class="ae ko" href="http://localhost:3001" rel="noopener ugc nofollow" target="_blank"> http://localhost:3001 </a>进行验证。它应该显示这一页。</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi ne"><img src="../Images/cccdf47d89159a9144b2a0217bad9eae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YtYghvD9IHyvnhol"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">本地验证</figcaption></figure><h1 id="5e7e" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">在Github页面上托管LWC应用</h1><p id="bbee" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">现在我们已经在本地运行了我们的LWC演示应用程序，让我们进入下一步:Github Pages应用程序托管。这是一个静态站点托管服务，可以直接从Github repo提供文件。</p><p id="53cf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为此，运行在<em class="ls"> package.json文件中定义的构建命令。</em></p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi nf"><img src="../Images/4cef990b6d4b62a28fb322960502f762.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*N7Agl9zcZZagt34k"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">构建命令</figcaption></figure><p id="c0ec" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">运行<code class="fe mh mi mj mk b">npm run build</code> <em class="ls"> </em>将显示一个确认，表明构建已经成功完成。</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi ng"><img src="../Images/ba53419c35302f5fdde384a4b987a98f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KrvhWXW1qfywps1R"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">建立成功</figcaption></figure><p id="097f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这将在项目中创建一个<em class="ls"> dist </em>子文件夹。它包含了要在Github页面上部署的文件。</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/89c81d03711211cc57ece02a352ec254.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/0*iv_tWFjtu4kuINIm"/></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">分发文件夹</figcaption></figure><p id="a207" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在我们已经构建了应用程序，让我们看看如何将它部署到Github页面。虽然在Github页面上有多种方法来组织文件分支，但现在让我们采用最简单的方法——我们将把文件推送到主<em class="ls">分支。</em></p><p id="7bd8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">首先，在Github上创建一个公共回购。</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi ni"><img src="../Images/41e1d7879817a75f397c8685359a7f6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iIc8fPGSzn40cOsn"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">创建新的回购协议</figcaption></figure><p id="b813" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">创建存储库后，使用以下命令将<em class="ls"> dist </em>目录中的文件推送到您的存储库中:</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi nj"><img src="../Images/77ab60d4962b079fefb65a13345ca9c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hDzEOzTj4DfvT1IP"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">将代码推送到回购的步骤</figcaption></figure><p id="68b3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">成功推送文件后，将显示以下消息:</p><pre class="mm mn mo mp gt nk mk nl nm aw nn bi"><span id="6c43" class="no kq it mk b gy np nq l nr ns">Enumerating objects: 3, done.<br/>Counting objects: 100% (3/3), done.<br/>Writing objects: 100% (3/3), 238 bytes | 238.00 KiB/s, done.<br/>Total 3 (delta 0), reused 0 (delta 0)<br/>To https://github.com/gauravkheterpal/demo-app.git<br/> * [new branch]      main -&gt; main<br/>Branch 'main' set up to track remote branch 'main' from 'origin'.</span></pre><p id="3b71" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">通过访问存储库页面上的<em class="ls">设置</em>链接启用Github页面，并选择<em class="ls">主</em>分支。</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi nt"><img src="../Images/0958e0a566e54fce7b03eb3507d46e9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lIjxbIj-FTR_I-l7"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">Github页面</figcaption></figure><p id="a7d9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这将把你的应用程序部署到Github页面。完成后，它将显示一条确认消息，表明该应用程序已被部署到Github Pages URL。您可以在任何浏览器中打开提供的URL，它将显示演示应用程序。</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi ne"><img src="../Images/358e3c35af2dfd367a79e29f5c4d95b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*W5F9x9s_IdFNhI79"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">Github页面演示应用程序验证</figcaption></figure><p id="2319" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下一步，您可以使用Github动作、预提交钩子和gh-pages库来自动化部署过程。</p><h1 id="a034" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">部署到Heroku</h1><p id="a378" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">在我们深入了解将我们的演示应用程序部署到Heroku的细节之前，让我们更好地了解一下Heroku。Heroku是一个平台即服务(PaaS ),允许开发者快速构建和部署web应用程序。Heroku负责管道系统——开发、清洗等等。—并让您专注于<em class="ls">建筑</em>。Heroku支持多种编程语言、构建包和插件。</p><p id="c1e1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">首先，我们将在不使用Express服务器的情况下将演示应用程序部署到Heroku。当我们使用CLI创建示例应用程序时，我们选择了这个选项。</p><ul class=""><li id="ba8a" class="lt lu it js b jt ju jx jy kb lv kf lw kj lx kn ly lz ma mb bi translated">你想要一个基本的Express API服务器吗？没有</li></ul><p id="4b97" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了部署应用程序，我们将在应用程序的根目录下创建一个<a class="ae ko" href="https://devcenter.heroku.com/articles/procfile" rel="noopener ugc nofollow" target="_blank"> <em class="ls"> Procfile </em> </a>。此<em class="ls"> Procfile </em>的内容决定了程序类型和应用程序启动时执行的命令。</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi nb"><img src="../Images/b82b9bc5b8615ac9afbebaf919f4b766.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rX0MUft-j0E3X8LI"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">Procfile</figcaption></figure><p id="fee9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，我们准备使用Heroku CLI将这个应用程序部署到Heroku。如果您没有安装Heroku CLI，请参见此处列出的<a class="ae ko" href="https://devcenter.heroku.com/articles/heroku-cli" rel="noopener ugc nofollow" target="_blank">步骤。</a></p><p id="73cf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">第一步是登录你的Heroku账户。</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi nb"><img src="../Images/d1f0604f2bb8435f92059973abb70e10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*R6RjNXu_BWvkM_ze"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">Heroku登录</figcaption></figure><p id="7591" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这将打开一个网页浏览器，提示您输入Heroku凭证。</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi nu"><img src="../Images/35dfbc11ce09bfd8e2e478095ee64566.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2mrnZbnrtGVFZkI6"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">Heroku登录页面</figcaption></figure><p id="a2e7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一旦认证成功，它将显示一条确认消息。</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi nv"><img src="../Images/4ca759cae82eca97be00688f26bd555a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*b3bYb8Rk6x3njTV5"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">Heroku登录成功</figcaption></figure><p id="2a44" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">接下来，使用<code class="fe mh mi mj mk b">heroku create</code> <em class="ls"> </em>命令创建一个Heroku应用程序。一旦成功，它将显示一条确认消息，其中包含您的应用程序的Heroku URL。</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi nw"><img src="../Images/2c76d2f677447b775f8d242fcb1c451d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7wiynZcUPhjWy4aI"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">Heroku创建</figcaption></figure><p id="d943" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您可以使用<code class="fe mh mi mj mk b">git remote -v</code>来识别Heroku应用程序的远程git端点</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi nc"><img src="../Images/a7b7736cb5e675e70ed0259ec165385d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZrOYGP6QwNJSimaV"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">git远程端点标识</figcaption></figure><p id="210d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们将使用以下命令将演示应用程序文件推送到这个远程git端点:</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi nx"><img src="../Images/7d093d225336f556adcf2b1d573ea71c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*O8ZBChtpf6zkImJk"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">git提交</figcaption></figure><p id="aa32" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当您运行<code class="fe mh mi mj mk b">git push heroku main</code> <em class="ls"> </em>命令时，它会运行构建脚本来将应用程序部署到Heroku。</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi ny"><img src="../Images/1c0f4da0610ae9ac9b37890f69eea64f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iKn7aWQperD6npo0"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">git推送</figcaption></figure><p id="98da" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一旦完成，你会看到一个确认信息。</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi nz"><img src="../Images/92e1882a42211f3b79c52c8c538e695b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FISVKRFA9kQMbFFN"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">git推送确认</figcaption></figure><p id="ef20" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后，您可以使用<code class="fe mh mi mj mk b">heroku open</code> <em class="ls"> </em>命令打开您的应用程序的Heroku URL。它应该显示此页面:</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi ne"><img src="../Images/8756fdd8f392ae882f854734096aeee4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*G_z88VKlvjTpPcTA"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">Heroku实例验证</figcaption></figure><p id="252d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在让我们看看在Heroku上部署LWC应用程序的另一种方法:使用Express服务器。创建应用程序时，选择使用Express服务器的选项。</p><ul class=""><li id="2a9a" class="lt lu it js b jt ju jx jy kb lv kf lw kj lx kn ly lz ma mb bi translated"><strong class="js iu">您想使用简单设置吗？是的</strong></li><li id="3b0f" class="lt lu it js b jt mc jx md kb me kf mf kj mg kn ly lz ma mb bi translated"><strong class="js iu">NPM</strong>演示应用的包名</li><li id="1569" class="lt lu it js b jt mc jx md kb me kf mf kj mg kn ly lz ma mb bi translated"><strong class="js iu">选择您想要创建的应用类型</strong>标准web应用</li><li id="744d" class="lt lu it js b jt mc jx md kb me kf mf kj mg kn ly lz ma mb bi translated">你想要一个基本的Express API服务器吗？是的</li></ul><p id="8deb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了部署应用程序，我们将在应用程序的根目录中创建一个<em class="ls"> Procfile </em>。</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi nb"><img src="../Images/f8de92b577e85d18ae60f1818fa9fdd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YT3daZPX2S8znGqF"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">Express API服务器</figcaption></figure><p id="4a43" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里的关键区别是serve脚本引用内置的Express服务器。</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/c42dc9346fb3064cabe4e05c327cc70b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/0*gcSNuAKzBBNxVMJB"/></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">服务目标</figcaption></figure><p id="86e6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您会注意到这个项目有一个名为<em class="ls"> server/api.js </em>的文件，它包含以下内容:</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi ob"><img src="../Images/df34ce9b2dfdc35c685d2ba44737aafb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*U-YJ5b37WleYC-3l"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">api.js</figcaption></figure><p id="f40c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">请注意，它使用的端口(3002)不同于<em class="ls"> server.js </em>中使用的内置Express服务器端口(3001)</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi oc"><img src="../Images/379f499cb1a141327bcfc8b28d2a9786.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*k5YaIzPnGoV_yhbJ"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">server.js</figcaption></figure><p id="3705" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里的关键区别是<em class="ls"> api.js </em>提供api，而<em class="ls"> server.js </em>支持后端内容。为了简单起见，我们在<em class="ls"> api.js </em>中做了以下更改，这样它既服务于api，也服务于静态内容。</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi od"><img src="../Images/ad1696151f87cb270641fdb642213d85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uk49RoRUDb3AEyvR"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">api.js</figcaption></figure><p id="82e9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这确保了非API端点调用仍然呈现index.html<em class="ls"/>，而API端点调用仍然像以前一样工作。然后我们修改“serve”目标来运行<em class="ls"> api.js. </em></p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/402d5d3f33725fddc2dee15095f23feb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/0*aEopBkkrwwcPl0r8"/></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">服务目标</figcaption></figure><p id="730a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一旦完成，剩下的步骤与前面的部分完全相同。使用<code class="fe mh mi mj mk b">heroku create</code> <em class="ls"> </em>命令创建您的Heroku应用程序。它将显示一条确认消息，其中包含您的应用程序的Heroku URL。</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi nw"><img src="../Images/df977866101002ee665bdd124d6ce6cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WVCiNwJX3Zo2fjFT"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">Heroku创建</figcaption></figure><p id="2560" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您可以使用<code class="fe mh mi mj mk b">git remote -v</code>来识别Heroku应用程序的远程git端点</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi nc"><img src="../Images/553be00e3f177373cda22317c4260068.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XKZZ_7Hjm7E7Ds-I"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">git远程端点</figcaption></figure><p id="cfdc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们将使用以下命令将演示应用程序文件推送到这个远程git端点:</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi nx"><img src="../Images/8eb0b164da0e1ccbb44399fc095e262e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mKlAy9I5-f2J_X8Y"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">git提交</figcaption></figure><p id="0e27" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当您运行<code class="fe mh mi mj mk b">git push heroku main</code> <em class="ls"> </em>命令时，它会运行将应用程序部署到Heroku的构建脚本。</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi ny"><img src="../Images/2cc72dab1a38115dedddeda40e88e448.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-WtOAIfiRaKtG5gz"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">git推送</figcaption></figure><p id="73f6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">完成后，会显示一条确认消息。</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi nz"><img src="../Images/3526b54c6b875bc15d27da3f641cab70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ThnUQkartaZhu_YP"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">git推送确认</figcaption></figure><p id="206c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后，您可以使用<code class="fe mh mi mj mk b">heroku open</code> <em class="ls"> </em>命令打开您的应用程序的Heroku URL。它应该显示此页面:</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi ne"><img src="../Images/0f3f6f61e57b4f044c0508f5071a3bde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iQAfAsa0tFZBmsFf"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">Heroku实例验证</figcaption></figure><h1 id="d5f0" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">结论</h1><p id="a023" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">在本教程中，我们使用LWC构建了一个简单的演示应用程序，将其托管在Github页面上，并在有和没有Express服务器的情况下将其部署到Heroku。在未来的教程中，我们将更详细地探讨LWC开发和应用程序托管的其他方面。敬请期待！</p></div></div>    
</body>
</html>