# 使用 Python 将文本转换为语音

> 原文：<https://levelup.gitconnected.com/convert-text-to-speech-using-python-b085943f2c54>

![](img/48f74c4f5a09c219fcc25e21e787f173.png)

帕特里克·托马索在 [Unsplash](https://unsplash.com/s/photos/text?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上的照片

## 在本文中，我们将讨论如何使用 Python 将文本转换成语音。

**目录**

*   介绍
*   基本的文本到语音转换
*   改变声音
*   改变语速
*   改变音量
*   将语音保存为 mp3 文件
*   结论

# 介绍

随着编程社区的发展，文本到语音(TTS)的转换以及语音合成变得越来越流行。

目前有几个 Python 库支持这一功能，它们被持续维护并添加了新的特性。

要继续学习本教程，我们需要以下 Python 库:pyttsx3。

如果您没有安装它，请打开“命令提示符”(在 Windows 上)并使用以下代码安装它:

```
pip install pyttsx3
```

# 使用 Python 进行基本的文本到语音转换

这个库的基本功能使用起来非常简单。我们需要做的就是导入库并初始化语音引擎，将文本转换为字符串格式，并执行文本到语音的转换过程:

在默认设置下，你会听到一个女声快速地说出这句话。如果你想改变声音或语速或音量，库提供了很大的灵活性。

我们初始化的类的**引擎**实例有**。getProperty()** 方法，它将帮助我们将当前的默认设置调整为我们想要的设置。

现在，您可以开始探索更多的特性，并了解更多关于如何使用 Python 将文本转换为语音的信息。

# 改变声音

我们在上一节中初始化的类的引擎实例具有 pyttsx3 库，默认配置中包含两种类型的声音:男声和女声。

这些可以通过简单地运行以下命令来检索:

您应该得到的回报是一个包含每个声音的本地存储位置的列表。现在我们想尝试每一种方法，我们简单地通过一个循环运行文本到语音的基本用法代码:

我们可以观察到，男性声音存储在索引为 0 的列表中，女性声音存储在索引为 1 的列表中。

为了将语音设置为永久设置，我们初始化的类的**引擎**实例具有**。setProperty()** 方法。它将允许我们指定代码应该使用两种声音中的哪一种。

假设我想将声音永久更改为男性(记住它在索引 0 处):

现在，您将尝试使用初始化的**引擎**运行的每个短语都将始终有男性的声音。

# 改变语速

在我们改变了声音之后，我们可能想要调整每个短语的语速。

利用已知的**。getProperty()** 方法我们将首先找出当前的语音速率是多少:

对于默认设置，速率显示为 200(应该是每分钟字数)。

当我开始听这个引擎的时候，我觉得它太快了，所以我想把每分钟的字数减少到 125 个。类似于设置声音，我们将使用**。setProperty()** 处理语音速率并测试它的方法:

您应该会听到一个明显较慢的讲话，这样听起来会更舒服。

在另一种情况下，如果你觉得语速太低，你可以随时调整它，通常只是不断尝试不同的值，直到你找到一个你满意的。

# 改变音量

类似于语速调整，我们可以改变我们设置的音量。

使用已知的**。getProperty()** 方法我们首先会找出当前的体积是多少:

对于默认设置，比率显示为 1.0(这是我们可以拥有的最大值，范围在 0 和 1 之间)。

基本上可以选择 0 到 1 之间的任意值，看看音量是怎么变化的。与设置语速类似，我们将使用**。setProperty()** 处理卷并对其进行测试的方法:

这里我们将音量设置为之前的一半，注意听测试短语时的不同。

这种设置允许根据基于文本到语音转换的使用的叙述进行调整，具有很大的灵活性。

# 使用 Python 将语音保存为 mp3 文件

这个库中提供的另一个奇妙的功能是能够简单地将我们的文本到语音转换存储为 mp3 文件，以后可以在任何音频播放器中收听。

代码非常简单，需要用户做两件事:将被转换成语音的文本和输出文件的名称:

上面的代码将输出保存为 mp3 文件，保存在 Python 脚本所在的位置。当然，您可以通过在输出文件路径中指定目的地来改变它。

# 结论

在本文中，我们讨论了如何使用 Python 将文本转换成语音。

通过学习这段代码，您应该能够通过必要的调整将全文转换为语音。

我也鼓励你看看我在 [Python 编程](https://pyshark.com/category/python-programming/)上的其他帖子。

你可以在这里了解更多关于 pyttsx3 库[的信息。](https://pypi.org/project/pyttsx3/)

如果你有任何问题或者对编辑有任何建议，请在下面留下你的评论。

*原载于 2020 年 10 月 21 日*[*【https://pyshark.com】*](https://pyshark.com/convert-text-to-speech-using-python/)*。*