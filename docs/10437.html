<html>
<head>
<title>Secure Coding Standards</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">安全编码标准</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/secure-coding-standards-114be27e1253?source=collection_archive---------8-----------------------#2021-12-06">https://levelup.gitconnected.com/secure-coding-standards-114be27e1253?source=collection_archive---------8-----------------------#2021-12-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6396" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">通过学习安全编码标准，让您的软件开发技能更上一层楼。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/caa6901c0408a875fedca316e3fd54eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PznLuWAEpuEdFdqa.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">网络安全，许可:<a class="ae ky" href="https://en.wikipedia.org/wiki/Creative_Commons_license#Zero_/_public_domain" rel="noopener ugc nofollow" target="_blank"> <em class="kz">知识共享零</em> </a></figcaption></figure><h1 id="4479" class="la lb it bd lc ld le lf lg lh li lj lk jz ll ka lm kc ln kd lo kf lp kg lq lr bi translated">介绍</h1><p id="a979" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated"><strong class="lu iu">安全编码</strong>是一种开发计算机软件的实践，它可以防止安全漏洞的意外引入。</p><p id="0677" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">缺陷、错误和逻辑缺陷一直是常见的被利用的软件漏洞的主要原因。</p><p id="b9a1" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">通过识别导致这些错误的不安全编码实践，并对开发人员进行安全替代培训，组织可以采取主动措施，在部署之前帮助显著减少或消除软件中的漏洞。</p><h1 id="ef3e" class="la lb it bd lc ld le lf lg lh li lj lk jz ll ka lm kc ln kd lo kf lp kg lq lr bi translated">编码标准与安全编码标准</h1><p id="ec41" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated"><strong class="lu iu">编码标准</strong>指的是如何格式化源代码、如何命名变量、函数(方法)等通用的语言特定规则。</p><p id="cfaf" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">因此，编码标准包括可以通过使用IDE (VS Code，Eclipse)或插件(linters，code formatters)自动执行的编码风格，它们将格式化源代码。</p><p id="384d" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">编码标准(样式)定义了命名约定，例如:大小写、大写字母等。缩进、括号、空白以及项目结构(文件和文件夹)。</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><p id="ec1a" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated"><strong class="lu iu">安全编码标准</strong>是一套关于如何编写安全代码的指南。通过遵循这些标准，我们可以减少最常见的软件漏洞。</p><p id="3fab" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">在<a class="ae ky" href="https://owasp.org/www-project-secure-coding-practices-quick-reference-guide/migrated_content" rel="noopener ugc nofollow" target="_blank"> OWASP安全编码实践-快速参考指南</a>中记录了一组流行且非常好的实践。其中包括:</p><ul class=""><li id="8b85" class="na nb it lu b lv mo ly mp mb nc mf nd mj ne mn nf ng nh ni bi translated">输入验证</li><li id="c7e1" class="na nb it lu b lv nj ly nk mb nl mf nm mj nn mn nf ng nh ni bi translated">输出编码</li><li id="0715" class="na nb it lu b lv nj ly nk mb nl mf nm mj nn mn nf ng nh ni bi translated">认证和密码管理</li><li id="4eda" class="na nb it lu b lv nj ly nk mb nl mf nm mj nn mn nf ng nh ni bi translated">会话管理</li><li id="1c43" class="na nb it lu b lv nj ly nk mb nl mf nm mj nn mn nf ng nh ni bi translated">访问控制</li><li id="ccbe" class="na nb it lu b lv nj ly nk mb nl mf nm mj nn mn nf ng nh ni bi translated">加密实践</li><li id="8dad" class="na nb it lu b lv nj ly nk mb nl mf nm mj nn mn nf ng nh ni bi translated">错误处理和记录</li><li id="3773" class="na nb it lu b lv nj ly nk mb nl mf nm mj nn mn nf ng nh ni bi translated">数据保护</li><li id="c327" class="na nb it lu b lv nj ly nk mb nl mf nm mj nn mn nf ng nh ni bi translated">通信安全</li><li id="fa2f" class="na nb it lu b lv nj ly nk mb nl mf nm mj nn mn nf ng nh ni bi translated">系统配置</li><li id="f419" class="na nb it lu b lv nj ly nk mb nl mf nm mj nn mn nf ng nh ni bi translated">数据库安全</li><li id="88a2" class="na nb it lu b lv nj ly nk mb nl mf nm mj nn mn nf ng nh ni bi translated">文件管理</li><li id="6376" class="na nb it lu b lv nj ly nk mb nl mf nm mj nn mn nf ng nh ni bi translated">内存管理</li><li id="9e1d" class="na nb it lu b lv nj ly nk mb nl mf nm mj nn mn nf ng nh ni bi translated">一般编码实践</li></ul><p id="6823" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">另一个很棒的资源是<a class="ae ky" href="https://wiki.sei.cmu.edu/confluence/display/java/SEI+CERT+Oracle+Coding+Standard+for+Java" rel="noopener ugc nofollow" target="_blank">SEI CERT Oracle Coding Standard for Java</a>。</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><p id="927d" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">以下标准<em class="no">不能</em>保证解决<em class="no">所有</em>软件漏洞，但是它能够实现可接受的良好结果。</p><h1 id="90f9" class="la lb it bd lc ld le lf lg lh li lj lk jz ll ka lm kc ln kd lo kf lp kg lq lr bi translated">例子</h1><h2 id="0fac" class="np lb it bd lc nq nr dn lg ns nt dp lk mb nu nv lm mf nw nx lo mj ny nz lq oa bi translated">输入验证示例</h2><p id="0f97" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">这个代码有什么问题？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/a181226a4dde0f29c186d76cb083e33e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1164/0*sT3IljDhGVVpOc02"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">示例，不安全的登录方法</figcaption></figure><p id="1083" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">基于<a class="ae ky" href="https://wiki.sei.cmu.edu/confluence/display/java/IDS03-J.+Do+not+log+unsanitized+user+input" rel="noopener ugc nofollow" target="_blank"> IDS03-J的示例。不要记录未经确认的用户输入</a></p><p id="1413" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">我们可以看到，在这种情况下，攻击者可以尝试插入不需要的字符(甚至是代码),我们会创建原始的(未组织的)输入日志。攻击者可以轻易地在客户端禁用JS代码验证！</p><h2 id="ae9f" class="np lb it bd lc nq nr dn lg ns nt dp lk mb nu nv lm mf nw nx lo mj ny nz lq oa bi translated">解决办法</h2><ul class=""><li id="001d" class="na nb it lu b lv lw ly lz mb oc mf od mj oe mn nf ng nh ni bi translated">不要记录未经整理的用户输入</li><li id="aa84" class="na nb it lu b lv nj ly nk mb nl mf nm mj nn mn nf ng nh ni bi translated">在客户端和<strong class="lu iu">服务器端</strong>进行验证。永远不要相信客户！</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi of"><img src="../Images/dd4097fa51e11858935404f8a9c30467.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/0*V5ilIYg4bwpPmDy9"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">具有净化输入的部分解决方案</figcaption></figure><p id="911d" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">这段代码还可以改进——在入口点清理用户名和密码！</p><p id="430d" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">模式允许任意数量的字符(模式末尾的加号)——这应该更严格！</p><p id="8992" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">为了说明将所有内容都写入日志的意义以及这会如何损害应用程序，对示例进行了简化。考虑注入控制字符——新行等。或者向日志中写入无限的数据并耗尽存储空间等等。</p><h2 id="84f3" class="np lb it bd lc nq nr dn lg ns nt dp lk mb nu nv lm mf nw nx lo mj ny nz lq oa bi translated">数据库示例</h2><p id="9369" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">这个代码有什么问题？我们使用了<code class="fe og oh oi oj b">PreparedStatment</code>来减轻SQL的影响，对吗？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/5cbe85a40e9eee7bf4ffe2b7162acf3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/0*r0Bvfab77O8xl_ti"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">PreparedStatement示例</figcaption></figure><h2 id="c752" class="np lb it bd lc nq nr dn lg ns nt dp lk mb nu nv lm mf nw nx lo mj ny nz lq oa bi translated">解决办法</h2><ul class=""><li id="a841" class="na nb it lu b lv lw ly lz mb oc mf od mj oe mn nf ng nh ni bi translated">SQL注入—正确使用PreparedStatement】仍以不安全的方式构建！</li><li id="0a51" class="na nb it lu b lv nj ly nk mb nl mf nm mj nn mn nf ng nh ni bi translated">用户名长度的附加检查</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/0ae001b7a8eafc2a3a0496171d7e4bd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1110/0*W4-_JTdyE009oIOl"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">使用带参数的预准备语句(参数化查询)。额外检查用户名长度—也可以使用模式。参见前面的登录方法示例！</figcaption></figure><h2 id="21a8" class="np lb it bd lc nq nr dn lg ns nt dp lk mb nu nv lm mf nw nx lo mj ny nz lq oa bi translated">用户名和密码示例</h2><p id="0964" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">这个代码有什么问题？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi om"><img src="../Images/ca0107088cb28adc37bebda88894e291.png" data-original-src="https://miro.medium.com/v2/resize:fit:1314/0*KD2AU4O3Dd6lcIbc"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">用户名和密码示例</figcaption></figure><h2 id="b4c6" class="np lb it bd lc nq nr dn lg ns nt dp lk mb nu nv lm mf nw nx lo mj ny nz lq oa bi translated">解决办法</h2><ul class=""><li id="b0ca" class="na nb it lu b lv lw ly lz mb oc mf od mj oe mn nf ng nh ni bi translated">不要对敏感信息进行硬编码</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/7a08ada0b77304da314a9dfcafc093a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1312/0*bWX22-J4t4He5cYA"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">用户名和密码解决方案</figcaption></figure><h1 id="4842" class="la lb it bd lc ld le lf lg lh li lj lk jz ll ka lm kc ln kd lo kf lp kg lq lr bi translated">参考</h1><p id="c9eb" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">以下是一些很好的安全编码标准资源:</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h2 id="d96a" class="np lb it bd lc nq nr dn lg ns nt dp lk mb nu nv lm mf nw nx lo mj ny nz lq oa bi translated"><a class="ae ky" href="https://owasp.org/www-project-secure-coding-practices-quick-reference-guide/migrated_content" rel="noopener ugc nofollow" target="_blank"> OWASP安全编码实践-快速参考指南</a></h2><ul class=""><li id="fe5b" class="na nb it lu b lv lw ly lz mb oc mf od mj oe mn nf ng nh ni bi translated">不特定于语言</li><li id="0cc4" class="na nb it lu b lv nj ly nk mb nl mf nm mj nn mn nf ng nh ni bi translated">一组分类的<strong class="lu iu">清单</strong></li></ul></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h2 id="75cb" class="np lb it bd lc nq nr dn lg ns nt dp lk mb nu nv lm mf nw nx lo mj ny nz lq oa bi translated"><a class="ae ky" href="https://wiki.sei.cmu.edu/confluence/display/java/Java+Coding+Guidelines" rel="noopener ugc nofollow" target="_blank"> Java编码指南</a></h2><ul class=""><li id="ba86" class="na nb it lu b lv lw ly lz mb oc mf od mj oe mn nf ng nh ni bi translated">惊喜，惊喜… <em class="no"> Java </em>具体指南</li><li id="8f3b" class="na nb it lu b lv nj ly nk mb nl mf nm mj nn mn nf ng nh ni bi translated"><strong class="lu iu">代码示例</strong></li><li id="c224" class="na nb it lu b lv nj ly nk mb nl mf nm mj nn mn nf ng nh ni bi translated">规则和建议集</li></ul></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h2 id="b4fe" class="np lb it bd lc nq nr dn lg ns nt dp lk mb nu nv lm mf nw nx lo mj ny nz lq oa bi translated"><a class="ae ky" href="https://www.oracle.com/java/technologies/javase/seccodeguide.html" rel="noopener ugc nofollow" target="_blank">Java SE的安全编码指南</a></h2><ul class=""><li id="27f2" class="na nb it lu b lv lw ly lz mb oc mf od mj oe mn nf ng nh ni bi translated">带有<strong class="lu iu">代码示例</strong>的指南集</li></ul></div></div>    
</body>
</html>