<html>
<head>
<title>Debounce Your React and Redux Code to Improve Performance</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">消除React和Redux代码的抖动以提高性能</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/debounce-react-and-redux-code-for-improved-performance-4b8d3c19e305?source=collection_archive---------0-----------------------#2017-10-11">https://levelup.gitconnected.com/debounce-react-and-redux-code-for-improved-performance-4b8d3c19e305?source=collection_archive---------0-----------------------#2017-10-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/2dba53fa22ab00eaabafc18ef3979870.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DbNWnGNlYDZQCoNEoIxDfg.jpeg"/></div></div></figure><p id="d128" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">一个<a class="ae kz" href="https://medium.com/gitconnected/debounce-in-javascript-improve-your-applications-performance-5b01855e086" rel="noopener">去抖</a>是一个每个网络开发者都应该拥有的工具。它通过限制昂贵的计算、API调用和DOM更新的数量来提高性能。尽管去抖技术已经存在多年，但它仍然是现代库和框架的一个很好的选择。在<a class="ae kz" href="https://gitconnected.com" rel="noopener ugc nofollow" target="_blank"><strong class="kd iu">git connected</strong></a><strong class="kd iu"/>中，我们将它与React和Redux一起使用，以保持应用程序运行速度极快。</p><div class="la lb gp gr lc ld"><a href="https://gitconnected.com/learn/react" rel="noopener  ugc nofollow" target="_blank"><div class="le ab fo"><div class="lf ab lg cl cj lh"><h2 class="bd iu gy z fp li fr fs lj fu fw is bi translated">学习React -最佳React教程(2019) | gitconnected</h2><div class="lk l"><h3 class="bd b gy z fp li fr fs lj fu fw dk translated">React的前48门课程。教程由开发者提交并投票，让你找到最好的反应…</h3></div><div class="ll l"><p class="bd b dl z fp li fr fs lj fu fw dk translated">gitconnected.com</p></div></div><div class="lm l"><div class="ln l lo lp lq lm lr jz ld"/></div></div></a></div><p id="481c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们将定义一个<code class="fe ls lt lu lv b">&lt;Project&gt;</code>组件，为所有项目创建一个列表。它连接到一个<code class="fe ls lt lu lv b">mockApi()</code>来模拟执行API调用的需求。我把所有东西都放在了单个文件中，而不是连接它Redux，但是所有的原则仍然适用于您设置的任何状态管理和API框架。我将代码中典型的瓶颈编号为1-3。</p><figure class="lw lx ly lz gt ju"><div class="bz fp l di"><div class="ma mb l"/></div></figure><figure class="lw lx ly lz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mc"><img src="../Images/aced8a676f6e35c5f7a618a71ff5fd7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TLAWV1AQAnbMj9Ravbgq7A.png"/></div></div></figure><div class="la lb gp gr lc ld"><a href="https://gitconnected.com/portfolio-api" rel="noopener  ugc nofollow" target="_blank"><div class="le ab fo"><div class="lf ab lg cl cj lh"><h2 class="bd iu gy z fp li fr fs lj fu fw is bi translated">组合API —轻松发展您的编码事业| gitconnected</h2><div class="lk l"><h3 class="bd b gy z fp li fr fs lj fu fw dk translated">消除在每个单独位置手动更新您的详细信息的痛苦。只需在您的中更改一次数据…</h3></div><div class="ll l"><p class="bd b dl z fp li fr fs lj fu fw dk translated">gitconnected.com</p></div></div><div class="lm l"><div class="md l lo lp lq lm lr jz ld"/></div></div></a></div><figure class="lw lx ly lz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mc"><img src="../Images/aced8a676f6e35c5f7a618a71ff5fd7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TLAWV1AQAnbMj9Ravbgq7A.png"/></div></div></figure><p id="dfe6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们有一个简单的按名称列出项目的<code class="fe ls lt lu lv b">&lt;ul&gt;</code>，和一个允许我们过滤这些项目的<code class="fe ls lt lu lv b">&lt;input&gt;</code>。当<code class="fe ls lt lu lv b">&lt;input&gt;</code>上有一个<code class="fe ls lt lu lv b">onKeyUp</code>被触发时，它会执行<code class="fe ls lt lu lv b">handleFilter()</code>，这个函数包含在我们的<code class="fe ls lt lu lv b">debounce</code>函数中。这限制了我们的<code class="fe ls lt lu lv b">mockApi()</code>函数只能每500毫秒调用一次。通过去抖，我们不再需要每次按键都执行这些操作，我们只在用户停止输入一小段时间后才这样做。这确保了我们不会执行不必要的操作来寻找用户根本不关心的项目。让我们看一下每个步骤，了解我们实际节省了多少。</p><ol class=""><li id="8b05" class="me mf it kd b ke kf ki kj km mg kq mh ku mi ky mj mk ml mm bi translated">在最后一次按键后去抖时间到期后，第一步是进行我们的API调用。因为我们已经对从API中获取的函数进行了去抖，所以我们只在输入结束时发出一次请求。</li><li id="84d2" class="me mf it kd b ke mn ki mo km mp kq mq ku mr ky mj mk ml mm bi translated">这里发生了两件事——从数据库中检索项目，然后执行繁重的计算来过滤和排序数据。在实际环境中，服务器对这些数据的查询和计算效率会更高，但是学习结果仍然完全有效。在这种情况下，让我们假设我们在去抖计时器中键入5个字符。如果没有反跳，我们将对10亿个项目执行5次查询，然后执行过滤、字符串匹配和排序。因此，我们在一个已经非常繁重的计算密集型操作上获得了5倍的性能提升。</li><li id="a286" class="me mf it kd b ke mn ki mo km mp kq mq ku mr ky mj mk ml mm bi translated">React很快，但最大的问题是太多的渲染和协调。此外，DOM交互非常慢。通过去反跳，我们防止了<code class="fe ls lt lu lv b">setState()</code>，这大大减少了我们强制反应以协调和附加列表到DOM的次数。</li></ol><p id="9973" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果没有去抖，这个组件对于如此大量的数据几乎无法使用。这个概念很容易扩展到Redux，用于任何状态更新或API调用。如果这些互动分派了其他行动，我们又一次获得了倍增的收益。</p><p id="ce0c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">去抖的常见情况是<code class="fe ls lt lu lv b">resize</code>、<code class="fe ls lt lu lv b">scroll</code>和<code class="fe ls lt lu lv b">keyup/keydown</code>事件。此外，您应该考虑将任何触发过度计算或API调用的交互用去抖封装起来。</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><p id="ba6e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><em class="mz">如果您觉得这篇文章有帮助，请点击</em>👏<em class="mz">。</em> <a class="ae kz" href="https://medium.com/@treyhuffine" rel="noopener"> <em class="mz">关注我</em> </a> <em class="mz">了解更多关于React、Node.js、JavaScript和开源软件的文章！你也可以在</em><a class="ae kz" href="https://twitter.com/treyhuffine" rel="noopener ugc nofollow" target="_blank"><em class="mz">Twitter</em></a><em class="mz">或者</em><a class="ae kz" href="https://gitconnected.com/treyhuffine" rel="noopener ugc nofollow" target="_blank"><em class="mz">git connected</em></a><em class="mz">上找到我。</em></p><figure class="lw lx ly lz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi na"><img src="../Images/f2aaaee00b80953a973cc4d292ff00ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QYm3YyoNRgPwb9x6GRf04g.png"/></div></div></figure></div></div>    
</body>
</html>