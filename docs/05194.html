<html>
<head>
<title>Master Go with functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带功能的主Go</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/master-go-with-functions-8bc21c076c07?source=collection_archive---------18-----------------------#2020-08-10">https://levelup.gitconnected.com/master-go-with-functions-8bc21c076c07?source=collection_archive---------18-----------------------#2020-08-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/030d442facc856970d53d56f2dc70b44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M_Z5dQRwX9SsPS-WTqIBGw.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">蕾妮·弗伦奇(<a class="ae kf" href="http://reneefrench.blogspot.com" rel="noopener ugc nofollow" target="_blank">http://reneefrench.blogspot.com</a>)</figcaption></figure><p id="45be" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">函数是围棋中的一等公民。他们无处不在。功能可以添加到<code class="fe le lf lg lh b">struct</code>类型中。它们可以作为参数在函数内部传递，或者函数甚至可以从另一个函数返回。由于函数在围棋中无处不在，所以为了掌握这门语言，对不同形式的用法有一个更清晰的理解是至关重要的。在本文中，我已经详细介绍了函数的结构及其不同的用例。</p><p id="4218" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">从语法</strong>开始</p><p id="9c2f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在任何语言中，函数都由以下实体组成—关键字、函数名、参数列表和返回类型。围棋也有同样的实体——</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="d122" class="lq lr it lh b gy ls lt l lu lv">func &lt;func-name&gt;(list of parameters) &lt;comma-separated return types&gt;{<br/>    &lt;body&gt;<br/>    &lt;return stmts&gt;<br/>}</span></pre><p id="71bb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是一个简单函数的例子，它将两个数相加，并返回相加的值—</p><figure class="li lj lk ll gt ju"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="32c7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">上面的函数是这样调用的— <code class="fe le lf lg lh b">addNumbers(2,3)</code>。</p><p id="dd8c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Go在向函数传递参数方面有一个有趣的特性。当一组参数的数据类型相同时，可以对它们进行分组，后面跟一个数据类型关键字。例如，上述函数的<code class="fe le lf lg lh b">first</code>和<code class="fe le lf lg lh b">second</code>参数具有相同的<code class="fe le lf lg lh b">int</code>类型。它们可以按以下方式归为一类—</p><figure class="li lj lk ll gt ju"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="97c4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">函数也可以是匿名的。这些函数可以从定义点调用，也可以赋给一个变量，以后再用。是的，<strong class="ki iu">函数可以分配给变量</strong>。同样的<code class="fe le lf lg lh b">addNumbers()</code>可以这样匿名——</p><figure class="li lj lk ll gt ju"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="615c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">上述声明只能使用一次。我们在声明时传递参数。为了能够重用同一个匿名函数，我们可以将该函数分配给一个变量，如下所示</p><figure class="li lj lk ll gt ju"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="a220" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">高阶函数</strong></p><p id="b2f8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有人可能会怀疑匿名函数的必要性。Go支持高阶函数ie。接受其他函数作为参数的函数。匿名函数用于作为参数传递给高阶函数。让我们来看看其中的一个函数。</p><figure class="li lj lk ll gt ju"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="627e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的例子中，<code class="fe le lf lg lh b">add</code>和<code class="fe le lf lg lh b">multiply</code>是两个匿名函数，它们接受两个<code class="fe le lf lg lh b">int</code>参数并返回相同的<code class="fe le lf lg lh b">int</code>类型。<code class="fe le lf lg lh b">acceptFunctionAndExecute</code>是一个高阶函数，它接受支持两个<code class="fe le lf lg lh b">int</code>参数和类型<code class="fe le lf lg lh b">int</code>结果的任何其他函数。我们已经定义了这个高阶函数的行为，将参数<code class="fe le lf lg lh b">(2,3)</code>应用于传递的任何函数。一旦我们运行上面的程序，第一个输出将是<code class="fe le lf lg lh b">5</code>，第二个将是<code class="fe le lf lg lh b">6</code>。</p><p id="80a7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">方法接收者</strong></p><p id="42e8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这些是附属于<code class="fe le lf lg lh b">struct</code>类型的函数。与其他面向对象的语言不同，Go没有类。最接近类的类型是结构类型。我们可以定义适用于特定结构类型的方法接收器。</p><p id="c9dd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">除了通常的函数语法之外，方法接收器还具有它们适用的结构类型。考虑下面的例子—</p><figure class="li lj lk ll gt ju"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="dce0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里，Rectangle是一个带有两个参数的结构——长度和宽度。要找到矩形的面积，一种可能的方法是创建一个函数，该函数将<code class="fe le lf lg lh b">Rectangle</code> struct作为参数并计算面积。</p><p id="bfe8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一种面向对象的方式是在上面的代码片段中编写的<code class="fe le lf lg lh b">Rectangle</code>结构上创建一个方法接收器。这样，调用此方法的客户端将无法操作结构中的核心字段。这是面向对象编程中封装的本质。</p><p id="8b72" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了计算矩形的面积，客户端可以如下调用—</p><figure class="li lj lk ll gt ju"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="d827" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">面向包的访问</strong></p><p id="2b3b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">许多语言在从一个模块到另一个模块访问实体时都有一组约束。例如，在Java中，有预定义的访问说明符——公共的、私有的等等..它们是字段或函数声明的前缀。应用程序中的所有模块都可以访问公共字段。私有字段只能在定义它的类中访问。</p><p id="e0f8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在Go中，访问限制是通过标识符名称的<strong class="ki iu">大写</strong>实现的。例如，以大写字母开头的函数或变量名在应用程序中随处可见。而以非大写字母开头的变量名只能在定义包中访问。</p><figure class="li lj lk ll gt ju"><div class="bz fp l di"><div class="lw lx l"/></div></figure></div><div class="ab cl ly lz hx ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="im in io ip iq"><p id="69e2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果一种编程语言支持函数的各种特性，比如传递函数的参数、将函数赋给变量、从函数调用中返回函数，那么这种编程语言就被称为具有一流的函数。从上面的例子我们看到，Go支持一级函数。</p><p id="48ad" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">即使Go支持一些面向对象的原则，Go中真正的强大来自于对函数的掌握。</p><p id="aec2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这里试试函数的特性—<a class="ae kf" href="https://play.golang.org/" rel="noopener ugc nofollow" target="_blank">https://play.golang.org/</a></p></div></div>    
</body>
</html>