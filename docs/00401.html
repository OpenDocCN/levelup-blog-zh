<html>
<head>
<title>GraphQL: Basics and Overview</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">GraphQL:基础和概述</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/graphql-basics-469c7d8db1a6?source=collection_archive---------3-----------------------#2019-02-07">https://levelup.gitconnected.com/graphql-basics-469c7d8db1a6?source=collection_archive---------3-----------------------#2019-02-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/749432ecaa68838217a6384f110b32a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rxD2eVeer-CENwpg_OvqEA.png"/></div></div></figure><p id="cb86" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://graphql.org/" rel="noopener ugc nofollow" target="_blank"> GraphQL </a>是一项新技术，正在迅速获得关注和采用，自从脸书在2016年开源以来，它一直在挑战REST API的当前惯例。它是最激动人心的技术之一，有机会改变我们构建web应用程序的方式。本文是GraphQL系列教程的一部分，带领您从基础走向专家。</p><h1 id="6511" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">GraphQL是什么？</h1><p id="6b18" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">GraphQL是一种用于API的查询语言，也是一种用现有数据完成查询的运行时语言。GraphQL通过模式提供了API中数据的完整描述。它使客户能够准确地要求他们需要的数据，仅此而已，使API更容易随着时间的推移而发展，并支持强大的开发工具。</p><p id="6ba9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">API的核心目的是定义客户端可以从服务器加载的数据，但不幸的是，REST没有提供足够的解决方案。</p><p id="ebf7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">另一方面，GraphQL提供了一个以更加直观的方式查询API的接口。这句话可以总结为:</p><blockquote class="ma mb mc"><p id="131e" class="jy jz md ka b kb kc kd ke kf kg kh ki me kk kl km mf ko kp kq mg ks kt ku kv ij bi translated">GraphQL支持声明性数据获取，客户端可以准确地指定他需要从API获取什么数据。除此之外，GraphQL服务器只公开单个端点，并精确地用客户端请求的数据进行响应，这与REST API公开返回固定数据结构的多个端点不同。这本身就提高了你的应用性能！</p></blockquote><p id="390b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在REST API中，您调用不同的端点来收集页面所需的数据。在GraphQL中，信息只是通过<code class="fe mh mi mj mk b">key/value</code>对进行传输。您只需对一个端点进行一次调用，并发送您需要的数据的键，服务器就会用相应的值进行响应。您可以准确地获得您需要的数据。GraphQL的一个例子是:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="2294" class="mt ky iq mk b gy mu mv l mw mx">POST /graphql</span><span id="3841" class="mt ky iq mk b gy my mv l mw mx">{<br/>  user(id: 1) {<br/>    email,<br/>    username,<br/>    posts {<br/>      title,<br/>      content   <br/>    }<br/>  }<br/>}</span></pre><p id="a092" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">服务器会用相应的JSON对象进行响应:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="ca4f" class="mt ky iq mk b gy mu mv l mw mx">{<br/>  user: {<br/>    email: "test@test.com",<br/>    username: "testuser",<br/>    posts: [<br/>      { title: 'post1', content: 'hello'},<br/>      { title: 'post2', content: 'world'}<br/>    ]<br/>  }<br/>}</span></pre><p id="fbc0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">它很直观，允许客户准确地声明他们需要的数据。</p><h1 id="e158" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">为什么应该使用GraphQL</h1><p id="7ec4" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">我们已经讨论了GraphQL作为REST的替代方案，但是为什么它更好呢？</p><h2 id="498e" class="mt ky iq bd kz mz na dn ld nb nc dp lh kj nd ne ll kn nf ng lp kr nh ni lt nj bi translated">1.GraphQL APIs有一个强类型模式</h2><p id="ae2a" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">REST API没有为您的API提供合适的模式，正因为如此，在不同的客户端平台(移动平台、web平台和服务器平台)之间总是存在沟通不畅的情况。此外，许多开发人员被迫使用废弃的API及其文档。这些问题背后的主要原因是REST API缺少GraphQL提供的强类型模式。</p><p id="59b6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">GraphQL模式是GraphQL API的核心特性。它清楚地定义了API支持的操作(<em class="md">查询</em>、<em class="md">突变、</em>和<em class="md">订阅</em>)，包括输入参数和确切的预期响应。这些字段使用常见的约定进行强类型化，如<code class="fe mh mi mj mk b">string</code>、<code class="fe mh mi mj mk b">boolean</code>等。所以我们确切地知道从我们的API中可以期待什么。GraphQL模式是用简单而富于表现力的GraphQL模式定义语言(SDL)编写的。这提供了两件事:</p><ol class=""><li id="a09f" class="nk nl iq ka b kb kc kf kg kj nm kn nn kr no kv np nq nr ns bi translated">构建工具可用于验证API请求，并检查编译时与API通信中可能出现的任何错误。因此，你的编辑是你最好的向导！</li><li id="c4e2" class="nk nl iq ka b kb nt kf nu kj nv kn nw kr nx kv np nq nr ns bi translated">开发人员不需要编写API文档。GraphQL会处理好它，因为它会根据API的模式自动生成文档——惊喜吧！</li></ol><p id="f9de" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> 2。告别不必要的抓取</strong></p><p id="7866" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">考虑一个您想要获取用户配置文件的公共位置。让我们假设这个用户配置文件有三个元素:</p><ol class=""><li id="ac98" class="nk nl iq ka b kb kc kf kg kj nm kn nn kr no kv np nq nr ns bi translated">用户详细信息—用户名、个人资料图像。</li><li id="f0dd" class="nk nl iq ka b kb nt kf nu kj nv kn nw kr nx kv np nq nr ns bi translated">博客帖子—用户的最后三篇博客。</li><li id="349b" class="nk nl iq ka b kb nt kf nu kj nv kn nw kr nx kv np nq nr ns bi translated">追随者——追随者和用户追随者的数量。</li></ol><p id="7470" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用REST API，您可能需要查询三个独立的端点来检索这些字段，并且您可能不需要来自每个端点的页面内容的全部数据。</p><figure class="ml mm mn mo gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ny"><img src="../Images/ed76b646f27548b93a44a92add5f1016.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FM6Y3Qu__9IsbZRZt5bHAA.png"/></div></div><figcaption class="nz oa gj gh gi ob oc bd b be z dk translated">你想象力的图示</figcaption></figure><p id="97ad" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在GraphQL中，您需要的只是一个查询。不存在蚀刻不足或蚀刻过度的问题，您会得到您所需要的东西。</p><figure class="ml mm mn mo gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi od"><img src="../Images/5539caf5bc5a81b97323366a19392f75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9xVwRy6KPILYa5iLoQZnOA.png"/></div></div><figcaption class="nz oa gj gh gi ob oc bd b be z dk translated">一个简单的GraphQL请求。</figcaption></figure><p id="2d88" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> 3。GraphQL支持快速产品开发</strong></p><p id="7f0a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">GraphQL让开发者的生活变得简单。GraphQL允许快速开发前端。由于响应只有一个具有明确数据结构的端点，因此消除了前端UI更改的风险。这也确保后端不需要随着频繁的变化而调整，最终提高生产率。</p><p id="298d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> 4。后端的深入分析</strong></p><p id="3a9f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">GraphQL有助于保持系统的分析，因为我们可以准确地看到客户选择从我们的API查询什么数据。跟踪不同用户发出的请求有助于监控系统流量。通过监控流量，我们可以决定哪些领域应该集中时间进行优化，哪些领域可以弃用。</p><p id="0957" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">GraphQL的优点还有很多，我只过滤掉了主要原因。在下一篇文章中，我们将研究GraphQL的核心概念。</p><p id="ec3f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="md">如果你喜欢这篇文章，请鼓掌欣赏，你可以关注我的</em> <a class="ae kw" href="https://medium.com/@bhavikbamania" rel="noopener"> <em class="md">【中】</em></a><em class="md"/><a class="ae kw" href="https://twitter.com/bhavikbamania" rel="noopener ugc nofollow" target="_blank"><em class="md">推特</em></a><em class="md"/><a class="ae kw" href="https://www.instagram.com/bhavikbamania/" rel="noopener ugc nofollow" target="_blank"><em class="md">insta gram</em></a><em class="md">，你的欣赏会激励你写更多！谢谢你的时间，下次再见！</em></p></div><div class="ab cl oe of hu og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ij ik il im in"><figure class="ml mm mn mo gt jr gh gi paragraph-image"><a href="https://levelup.gitconnected.com"><div class="gh gi ol"><img src="../Images/e37acf65c564eb7d6c509556d242a14e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jP9Wz3g6ir6HdGjm6aPJag.jpeg"/></div></a></figure><div class="om on gp gr oo op"><a href="https://gitconnected.com/learn/graphql" rel="noopener  ugc nofollow" target="_blank"><div class="oq ab fo"><div class="or ab os cl cj ot"><h2 class="bd ir gy z fp ou fr fs ov fu fw ip bi translated">学习GraphQL -最佳GraphQL教程(2019) | gitconnected</h2><div class="ow l"><h3 class="bd b gy z fp ou fr fs ov fu fw dk translated">11大GraphQL教程-免费学习GraphQL。课程由开发人员提交和投票，使您能够…</h3></div><div class="ox l"><p class="bd b dl z fp ou fr fs ov fu fw dk translated">gitconnected.com</p></div></div><div class="oy l"><div class="oz l pa pb pc oy pd jw op"/></div></div></a></div></div></div>    
</body>
</html>