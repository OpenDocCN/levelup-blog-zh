<html>
<head>
<title>What in the world is ‘this’ in Javascript?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Javascript中的‘this’到底是什么？</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/what-in-the-world-is-this-in-javascript-aafb9d7dd2db?source=collection_archive---------15-----------------------#2020-02-20">https://levelup.gitconnected.com/what-in-the-world-is-this-in-javascript-aafb9d7dd2db?source=collection_archive---------15-----------------------#2020-02-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/03608be2ad088a70f42562a4b70839eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QNAJ8JqIJ6PDOaU1Tdgxvw.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@srz?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">悉尼·瑞伊</a>在<a class="ae kf" href="https://unsplash.com/s/photos/this?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="2bd9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Javascript中另一个经常混淆的概念是'<em class="le"> this' </em>关键字。什么是'<em class="le">这个</em>，什么是'<em class="le">这个</em>所指？</p><p id="b462" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">答案是<strong class="ki iu"> <em class="le">看情况</em> </strong>。在我回答这个“T15”指的是什么之前，让我先问另一个问题。</p><h1 id="4f23" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">“这”是什么？</h1><p id="8c23" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">我说的不是一个好奇的2岁小孩指着所有的东西问，“这是什么？那是什么？”我说的是Javascript的关键字'<em class="le"> this </em>'。</p><p id="8b78" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Javascript使用'<em class="le"> this' </em>关键字来引用单个对象。从你作为程序员的角度来看，这个“T21”可以让你精确定位你关注的对象。就像一个孩子指着书架问，“我能要一本书吗？”你拿起书(在这种情况下是一个特定的对象)并问:“这是你想要的吗？”</p><h1 id="abfa" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">你说看情况是什么意思？</h1><p id="88a0" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">回到原来的问题，那么'<em class="le">这个</em>指的是什么？这取决于这个是如何被调用的。有四种类型的绑定，它决定了如何引用'<em class="le"> this </em>'。</p><ol class=""><li id="b248" class="mi mj it ki b kj kk kn ko kr mk kv ml kz mm ld mn mo mp mq bi translated">新绑定</li><li id="ac26" class="mi mj it ki b kj mr kn ms kr mt kv mu kz mv ld mn mo mp mq bi translated">显式绑定</li><li id="0099" class="mi mj it ki b kj mr kn ms kr mt kv mu kz mv ld mn mo mp mq bi translated">隐式结合</li><li id="a043" class="mi mj it ki b kj mr kn ms kr mt kv mu kz mv ld mn mo mp mq bi translated">默认绑定</li></ol><p id="49e4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">上面的顺序是绑定的优先级。然而，如果我不按顺序解释绑定，会更有意义。</p><h1 id="5d22" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">隐式结合</h1><p id="54d0" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">在隐式绑定中，'<em class="le"> this </em>'是函数调用期间点左边的对象。</p><p id="6dc1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是'<em class="le">这个</em>'将如何根据左边的对象而变化的例子。</p><figure class="mw mx my mz gt ju"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">隐式结合</figcaption></figure><p id="006e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如你所见，根据sayNames函数左边的对象，“this”指的是Jasmine或Jello。</p><h1 id="519e" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">显式绑定</h1><p id="4354" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">在显式绑定中，'<em class="le"> this' </em>是您使用call()、apply()或bind() Javascript方法显式定义的对象。</p><p id="ca0f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于以下显式绑定方法，让我们假设我们有以下对象:</p><pre class="mw mx my mz gt nc nd ne nf aw ng bi"><span id="4ae2" class="nh lg it nd b gy ni nj l nk nl">let john = {</span><span id="f8d3" class="nh lg it nd b gy nm nj l nk nl">name: 'John',</span><span id="dea9" class="nh lg it nd b gy nm nj l nk nl">age: 30,</span><span id="a06a" class="nh lg it nd b gy nm nj l nk nl">hobbies: ['painting', 'cooking', 'biking']</span><span id="a969" class="nh lg it nd b gy nm nj l nk nl">}</span></pre><p id="fbd8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">使用call()方法的显式绑定</strong></p><p id="c44c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用。call()方法，可以手动调用一个以特定对象作为参数的函数:</p><pre class="mw mx my mz gt nc nd ne nf aw ng bi"><span id="e350" class="nh lg it nd b gy ni nj l nk nl">myFunction.call(thisArgument, arg1, arg2, ... );</span></pre><p id="cf87" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是一个示例，说明如何将一个'<em class="le"> this </em>'值和参数提供到。call()方法。</p><figure class="mw mx my mz gt ju"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">使用call()方法的显式绑定</figcaption></figure><p id="f88d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正如你所看到的，'<em class="le">约翰</em>'作为'<em class="le">这个'</em>参数被传入，附加参数被分别传入。</p><p id="fe2f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">使用apply()方法的显式绑定</strong></p><p id="6f89" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正如您在call()示例中所看到的，手动传递每个参数会非常繁琐。这就是我们使用apply()方法的原因。</p><p id="fe92" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用apply()方法的绑定与使用call()方法的绑定几乎完全相同，只是您传入的是一个数组:</p><pre class="mw mx my mz gt nc nd ne nf aw ng bi"><span id="734a" class="nh lg it nd b gy ni nj l nk nl">myFunction.apply(thisArgument, [argumentArray]);</span></pre><p id="bee4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面使用与call方法相同的示例，但显示了如何使用数组参数调用函数。</p><figure class="mw mx my mz gt ju"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">使用apply()方法的显式绑定</figcaption></figure><p id="4c8e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如您所见，'<em class="le"> john </em>仍然作为'<em class="le">this '【T3]参数传入，但是其他参数作为单个数组传入。</em></p><p id="cfd8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">使用bind()方法的显式绑定</strong></p><p id="3c82" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，如果您想做call()方法所做的事情，但不调用函数，该怎么办呢？这就是使用bind()方法的地方。bind()方法将使用您提供的特定对象返回一个新函数，并且只有在您调用返回的函数时才会被调用。</p><p id="c1e8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里有一个例子。如您所见，bind()方法返回一个函数，并且在调用myFunction()之前，console.log不会出现。</p><figure class="mw mx my mz gt ju"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">使用bind()方法进行显式绑定</figcaption></figure><h1 id="9a82" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">新绑定</h1><p id="a41b" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">当您使用'<em class="le"> new </em>关键字创建新对象时，'<em class="le">这个</em>将引用新对象。</p><figure class="mw mx my mz gt ju"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">使用新关键字绑定</figcaption></figure><h1 id="8caa" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">默认绑定</h1><p id="7ac3" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">如果上述所有情况都为真，那么‘this’将指向一个全局对象。</p><h1 id="d7da" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">结论</h1><p id="bf6c" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">简单回顾一下，有四种类型的调用和应用'<em class="le"> this </em>'的优先级顺序:</p><ol class=""><li id="3e25" class="mi mj it ki b kj kk kn ko kr mk kv ml kz mm ld mn mo mp mq bi translated">新绑定</li><li id="b225" class="mi mj it ki b kj mr kn ms kr mt kv mu kz mv ld mn mo mp mq bi translated">显式绑定</li><li id="c63a" class="mi mj it ki b kj mr kn ms kr mt kv mu kz mv ld mn mo mp mq bi translated">隐式结合</li><li id="86e5" class="mi mj it ki b kj mr kn ms kr mt kv mu kz mv ld mn mo mp mq bi translated">默认绑定</li></ol><h1 id="72e0" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">引用</h1><p id="7484" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">我使用了以下资源来帮助我理解这些主题:</p><p id="17b1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">[1].泰勒·麦金尼斯。<em class="le">高级Javascript课程。</em> (2020)。<a class="ae kf" href="https://tylermcginnis.com/courses/" rel="noopener ugc nofollow" target="_blank"><em class="le">https://tylermcginnis.com/courses/</em></a></p><p id="1900" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">[2].奥萨马·埃尔马沙德。<em class="le"> Javascript的‘this’关键字，它是如何工作的？</em>。(2020).<a class="ae kf" href="https://medium.com/tech-tajawal/javascript-this-4-rules-7354abdb274c" rel="noopener">https://alligator.io/js/finally-understand-reduce/T21</a></p><p id="19bc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">[3].MDN Web文档。(2020).<a class="ae kf" href="https://developer.mozilla.org/" rel="noopener ugc nofollow" target="_blank">https://developer.mozilla.org/</a></p><p id="479d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">[4].扎克·卡塞雷斯。<em class="le">如何在Javascript中挖掘你的“This”上下文。</em> (2020)。<a class="ae kf" href="https://gist.github.com/zcaceres/2a4ac91f9f42ec0ef9cd0d18e4e71262" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/zcaceres/2 a4 AC 91 f 9 f 42 EC 0 ef 9 CD 0d 18 E4 e 71262</a></p><p id="2e73" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">[5].NC帕特罗。<em class="le"> JavaScript —关于“这个”关键字的一切</em>。(2020).<a class="ae kf" href="https://codeburst.io/all-about-this-and-new-keywords-in-javascript-38039f71780c" rel="noopener" target="_blank">https://code burst . io/all-about-this-and-new-keywords-in-JavaScript-38039 f 71780 c</a></p></div></div>    
</body>
</html>