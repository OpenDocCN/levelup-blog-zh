# JavaScript 正则表达式基础指南

> 原文：<https://levelup.gitconnected.com/basic-guide-to-javascript-regular-expressions-6c8ad542043a>

![](img/05a09052aaa79a2051fdc61e6f0c2b8b.png)

安德烈·瓦瑟伯格在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片

正则表达式让我们可以轻松地操作字符串。它们是让我们以我们想象的任何方式匹配文本的模式。没有它，我们在搜索复杂模式的文本时会有很大的困难。根据正则表达式检查输入对于表单验证也很有用。

在 JavaScript 中，有一个正则表达式对象。我们可以用正则表达式来定义它，或者使用`RegExp`构造函数来定义一个正则表达式对象。

为了定义正则表达式文字，我们用斜线包围正则表达式模式。例如，我们可以写:

```
const re = /a/
```

定义一个正则表达式对象来查找字母“a”。或者，我们可以使用正则表达式构造函数来定义正则表达式对象，方法是向`RegExp`构造函数传递一个字符串，如下所示:

```
const re = new RegExp('a');
```

使用上面提到的字母或数字对于搜索像数字和字母这样的简单模式很有用。如果我们想要搜索更复杂的模式，我们必须使用特殊字符来构建一个正则表达式，让我们搜索更复杂的模式。它们中的大多数对于大多数编程语言都是相同的，但是也可能有特定于语言的扩展。

# 特殊字符

以下是我们可以在 JavaScript 对象中使用的特殊字符:

## \

非特殊字符前面的反斜杠表示下一个字符是特殊字符，不能按字面意思解释。例如，`\b`表示单词边界，而`b`匹配字母‘b’。

特殊字符前面的反斜杠表示下一个字符不特殊，应该按字面意思解释。例如，`\^`将搜索'^'字符。

## ^

^字符匹配输入的开头。如果 multiline 标志设置为 true，它还会紧跟在换行符之后进行匹配。

例如，`/^a/`匹配字符串`abc`中的‘a ’,但不匹配`cba`中的‘a’。

## $

$匹配输入的结尾。如果 multiline 标志设置为 true，它还会紧跟在换行符之后进行匹配。

例如，`/t$/`匹配`bat`中的‘t’，但不匹配`tab`中的‘t’。

## *

*匹配前面的表达式 0 次或更多次。和`{0*}`一样。

例如，`/o*/`与`moo`中的‘oo’匹配，但与`tab`中的‘oo’不匹配。

## +

该字符与它前面的表达式匹配 1 次或多次。和`{1,}`一样。

例如，`/b+/`与`cabbage`中的`bb`匹配，但与`moo`中的`bb`不匹配。

## ?

问号与它前面的表达式匹配 0 或 1 次。和`{0,1}`一样。

比如`/b?a/`匹配`bat`中的`ba`，匹配`cat`中的`a`。

如果用在任何字符*、+、？或者{}，那么它使`?`非贪婪，这意味着它匹配最少的可能字符。这与默认的贪婪相反，贪婪匹配尽可能多的字符。

比如`[a-z]+`匹配`abc`但是`[a-z]+?`匹配`a`。

## .

默认情况下，句点匹配除换行符以外的任何单个字符。

例如`.a`与`ba`中的`ba`或`bat`相匹配。

## (十)

匹配括号中的任何模式，并记住该匹配。括号被称为捕获括号。那么整个模式称为捕获群。

例如，如果我们有`(abc)(def) \1`，那么如果我们得到几个`abcdef abcdef`的匹配。我们得到`abcdef abc`、`abc`和`def`。`\1`用于表示第一个子串匹配，即`abc`。

我们可以在一个正则表达式中有多个捕获组，例如如果我们有`(abc) (def) \1 \2`，那么我们得到匹配`abc def abc def`、`abc`和`def`。正如我们所看到的，任何与每个捕获组中的模式相匹配的东西以及它们的组合都被认为是匹配的。`\1`是代表与上例相同的东西，`\2`代表第二个子串，也就是`def`。

## `(?:x)`

这个类似于`(x)`但是不记得比赛。

例如，如果我们有模式`(?:abc){1,2}`，那么如果我们有字符串`abc def abc def`，那么第一个`abc`将被匹配。

## `x(?=y)`

只有当`x`在`y`之前时，模式才与`x`匹配。这叫做前瞻模式。

例如，如果我们有模式`x(?=y)`和字符串`xy`，那么我们得到`x`作为匹配。

## `x(?!y)`

仅当`x`后面没有`y`时，该模式才匹配`x`。这叫做回顾。

例如`x(?!y)`不会与`xylophone`匹配，但会与`axe`中的`x`匹配。

## (?

这个模式只匹配`x`是`x`前面没有`y`。这被称为否定的前瞻。

例如，如果我们有模式`(?<=b)a`和字符串`bat`，那么它将匹配`bat`中的`a`。然而，同样的模式不会匹配单词`cat`，因为`b`不在`a`之前。

## (?

仅当`x`前面没有`y`时，该模式才匹配`x`。这被称为否定后视。

例如，如果我们有模式`(?<!b)a`和字符串`cat`，那么它将匹配`cat`中的`a`。但是，不会和`bat`里的任何东西匹配。

## `x|y`

匹配`x`或`y`。例如，如果我们有图案`x|y`和单词`xylophone`，那么它将匹配`x`。

## {n}

精确匹配表达式的`n`次出现。例如，如果我们有`a{2}`，那么我们匹配`baa`中的`aa`。

## {n，}

这个模式至少匹配前面表达式中出现的`n`，其中`n`是一个正整数。

比如 `b{2,}`匹配`bb`、`bbb`、`bbbb`等等。

## {a，b}

匹配在此之前从`a`到`b`次的表达式。例如，如果我们有`b{2,4}`，它将匹配字符串`bb`、`bbb`、`bbbb`而不匹配其他。

## [xyz]

匹配括号中的某个字符的模式，包括转义序列。例如，`[xyz]`将匹配`xylophone`中的`x`，匹配`yawn`中的`y`。

![](img/5be1a654e50b8825d66cc7188ab860ff.png)

照片由[宝琳·伯恩菲尔德](https://unsplash.com/@pizbern?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄

# 组合特殊字符以形成复杂的图案

我们可以结合这些特殊表达式来寻找更复杂的模式。一个常见的例子是验证电子邮件地址。

电子邮件的简单正则表达式可以是:

```
[a-z0-9.]+@[a-z0-9.]+.[a-z]
```

在上面的正则表达式中，我们有`[a-z0–9.]+`，它匹配任何数字、字母或出现任意次的句点。接下来是一个`@`符号，它出现在每个电子邮件地址中，将用户名和域名分开。然后，我们再次使用`[a-z0–9.]+`来匹配出现任意次的任何字母、数字或句点。这后面跟着一个句号。然后`[a-z]`匹配域名。

# 结论

在本文中，我们刚刚开始研究 JavaScript 中的正则表达式。定义正则表达式可以用文字表达式或`RegExp`构造函数来完成。我们可以用表示特定模式的特殊字符来构造正则表达式。然后，我们可以将它们组合成更大的正则表达式，以搜索更复杂的模式，如电子邮件。