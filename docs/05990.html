<html>
<head>
<title>Take your Typescript skills to the next level with Utility Types</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用实用程序类型将您的类型脚本技能提升到一个新的水平</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/take-your-typescript-skills-to-the-next-level-with-utility-types-370c25153c2f?source=collection_archive---------10-----------------------#2020-10-16">https://levelup.gitconnected.com/take-your-typescript-skills-to-the-next-level-with-utility-types-370c25153c2f?source=collection_archive---------10-----------------------#2020-10-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/18996607165860daa268581457cad0f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Iaqjq5sCgn8HvMoJ9Gxxpw.png"/></div></div></figure><p id="3a51" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在撰写本文时，Github上有65k颗星，您可以很容易地得出结论，在开发基于javascript的应用程序时，这种语言已经成为开发人员的工具。根据Stack Overflow的年度开发人员调查(调查可在此处找到<a class="ae kw" href="https://insights.stackoverflow.com/survey/2020#technology-most-loved-dreaded-and-wanted-languages-loved" rel="noopener ugc nofollow" target="_blank"/>)Typescript是第二受欢迎的语言，支持率为67.1%，Javascript以58.3%的支持率排在第十位。</p><p id="7f21" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我经常听到日常使用普通javascript的人说，他们对Typescript和它所提供的东西很好奇，但也受到假设的约束，即他们会失去普通javascript所提供的一些灵活性。<br/>你也可能是一名开发人员，专注于开发新的特性，并不断创建新的接口和类，每次出现新的数据模型时，它们的命名都略有不同，或者你一直将属性设置为可选的或any类型，以使typescript编译器在编写代码时不再抱怨。</p><p id="af73" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您曾经发现自己处于上述情况之一，或者只是好奇如何使用实用程序类型来提高您的打字技能，那么您来对地方了。</p><h2 id="7935" class="kx ky iq bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated">什么是Typescript实用工具类型</h2><p id="ca28" class="pw-post-body-paragraph jy jz iq ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">实用工具类型是Typescript语言附带的特殊类型，可用于提高语言的可读性和灵活性，同时减少样板代码。</p><p id="9c38" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">简单地说，您提供一个值，实用程序类型将在特定实用程序类型定义的约束下构造一个新类型。</p><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="lz ma l"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">只读实用程序类型</figcaption></figure><p id="f6f9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">只读&lt;类型&gt;T4】</strong></p><p id="dd93" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">上面的要点显示了一个使用内置Readonly实用程序类型的简单示例。<br/>这里我们定义了一个简单的Todo接口，它有三个属性。假设我们想预览数据，并确保我们不能变异它。因此，我们创建了另一个名为TodoPreview的类型，它基于将Todo类型作为泛型参数应用于Readonly实用程序类型函数。现在，我们可以在创建一个新对象时使用该类型，并分配首字母值。<br/>如果我们像在最后一行那样给属性分配一个新值，title将获得一个新值“Clean room again ”,将会出现下面的错误消息。</p><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mf"><img src="../Images/239ca0ecced1008bde980031e446ad8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rm0MbVAOne0a2WBqINTW-A.png"/></div></div></figure><p id="22df" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，我们可以确保当您尝试分配新值时，typescript编译器将抛出错误。请注意，Typescript只是Javascript的超集，如果使用括号符号，您仍然可以为todo赋值，但这也可以用tslint规则进行限制。</p><p id="ab70" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">选择&lt;类型，【prop 1】|【prop 2】&gt;</strong></p><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="lz ma l"/></div></figure><p id="33e4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Pick可用于从特定模型中挑选您想要的特定属性，以根据您的选择构建新模型。</p><p id="dd33" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在上面的要点中，我们创建了一个名为TodoSummary的新类型，它是由Todo模型构造的。这里的“标题”和“已完成”是精选的，这样我们就不会在TodoSummary上获得新属性的描述。现在，当我们使用todo对象时，我们不能使用description属性，并且typescript编译器会抱怨该类型上不存在“description”。</p><p id="22ab" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">省略&lt;式，&gt;prop 1</strong></p><p id="c4f4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">省略实用程序类型与<em class="mg">选择实用程序类型</em>相同，但不是选择你想用来构造新类型的属性，而是提供你想从新类型的构造中省略/排除的属性</p><p id="9380" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">偏&lt;型&gt;型</strong></p><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="lz ma l"/></div></figure><p id="13de" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Partial也是一种常见的实用程序类型，它能够构造一种所有属性都设置为可选的新类型。</p><p id="5cd0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">上面的场景说明了部分实用程序类型的一个简单而常见的用例。<br/>假设您创建了一个动态对象，在更新状态时您不知道该对象的模型。然后可以添加一个<em class="mg"> Partial &lt; Todo &gt; </em>作为类型，并将‘description’作为参数传递，而无需定义‘title’参数，typescript编译器不会抱怨。如果没有部分实用程序类型，您还必须定义一个未更改或未提供值的“标题”。</p><p id="c012" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">记录&lt;键，键入&gt; </strong></p><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="lz ma l"/></div></figure><p id="4fcb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当您想要扩展键类型时，Record是一个非常有用的类型，在本例中是<em class="mg">to state</em>并将值映射到一个新构造的类型。<br/>上面的要点定义了一个名为TodoState的枚举，它描述了待办事项可能处于的不同状态。</p><p id="7b72" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">该列有一个属性“title ”,它为该列添加了一个有意义的标题。<br/>现在我们直接依赖于TodoState，这将影响看板对象，因为它基于以TodoState为关键字的记录。<br/>假设我们想要扩展TodoState，并在完成之前和完成之后引入一个“测试”状态以保证质量。那么typescript编译器将抛出一个错误，因为Kanban对象没有用ColumnInfo值定义“Testing”属性名。</p><p id="f61a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Typescript还有11个内置的实用程序类型，可以进一步增强您的typescript代码，例如，如果提供的类型没有构造函数，则使用<em class="mg">instance Type&lt;Type&gt;</em>实用程序类型抛出错误。</p><h2 id="84da" class="kx ky iq bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated">甚至更多的实用工具类型！</h2><p id="42df" class="pw-post-body-paragraph jy jz iq ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">当您对现有的实用程序类型有了深入的了解，并且可以看到它们的强大功能以及贯穿您代码的用例时，您可能会想要检查这个库</p><p id="d6b2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://github.com/piotrwitek/utility-types" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir">【https://github.com/piotrwitek/utility-types】T21</strong></a></p><p id="11da" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是您可以在Typescript中使用所有不同种类的实用工具类型的集合。可以把它们看作静态类型的“lodash”。</p><p id="f905" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">希望这让您对如何使用实用程序类型改进一些代码有了一些了解，并且可能在不添加额外样板文件的情况下增加代码的可读性和可维护性。</p><p id="f45a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，快乐编码！</p></div></div>    
</body>
</html>