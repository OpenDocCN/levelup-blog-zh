<html>
<head>
<title>Getters and Setters in Kotlin</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">科特林的Getters和Setters</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/getters-and-setters-in-kotlin-e6dbeab9751d?source=collection_archive---------1-----------------------#2021-12-25">https://levelup.gitconnected.com/getters-and-setters-in-kotlin-e6dbeab9751d?source=collection_archive---------1-----------------------#2021-12-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/82e1edefb128207b3fe02db4b18ca31e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_2DWdG_M7H13cmKRjHn-MA@2x.jpeg"/></div></div></figure><p id="9600" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你是科特林的新手，这个话题可能会有点混乱。我们来分解一下。</p><p id="dc76" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在面向对象的世界里，我们用类来构造代码，并创建对象，这样我们就可以有更多可重用的和更可读的代码。在类内部，我们有<strong class="ka ir">字段</strong>和<strong class="ka ir">属性</strong>。</p><p id="fc20" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">很少，我们不应该在类外暴露我们的字段，相反，我们应该<strong class="ka ir">用属性封装</strong>,也许在属性内添加一些简单的提升逻辑。不建议在属性中包含大量逻辑。</p><p id="bd5a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">科特林想出了如何通过在后台生成一些东西来让我们的生活变得更简单。</p><p id="27a9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">到目前为止一切顺利。现在让我们看看如何在Kotlin中定义字段和属性</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="4598" class="lf lg iq lb b gy lh li l lj lk">class Human {<br/>    var requireVaccineDose = 3<br/>}</span></pre><p id="810c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对，就是这样。Kotlin将在后台生成属性(<em class="ll">read getter和setter</em>)。</p><p id="f75e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这与以下内容相同:</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="4635" class="lf lg iq lb b gy lh li l lj lk">class Human {</span><span id="721a" class="lf lg iq lb b gy lm li l lj lk">     var numOfVacineDose = 3<br/>     get() = field</span><span id="8726" class="lf lg iq lb b gy lm li l lj lk">     set(value) { <br/>         field = value<br/>     }</span><span id="cc7b" class="lf lg iq lb b gy lm li l lj lk">}</span></pre><p id="f7d5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这个例子中，这些getters和setters是多余的，因为它们是在后台生成的。但是，有时我们需要一些定制的逻辑来编写干净简洁的代码。</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="b747" class="lf lg iq lb b gy lh li l lj lk">class Human {</span><span id="a87e" class="lf lg iq lb b gy lm li l lj lk">var numOfVacineDose = 2 //this is default value  <br/>   get() = field<br/>   set(value) = if(numOfVacineDose &gt; 2) {<br/>         field = value<br/>     }</span><span id="3b64" class="lf lg iq lb b gy lm li l lj lk">}</span></pre><p id="f31d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">要为该属性设置一些值，您需要添加<strong class="ka ir"> var </strong>关键字<strong class="ka ir"> </strong>，因为它表示可变状态，如果您希望拥有只读访问权限，还需要添加<strong class="ka ir"> val </strong>关键字<strong class="ka ir"> </strong>。</p><p id="ffd4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这里，我们可以添加一个不可变的属性，如果一个人受到完全保护，该属性将返回。</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="b3ac" class="lf lg iq lb b gy lh li l lj lk">val isFullyProtected get() = this.numOfVacineDose &gt; 3</span></pre><p id="a904" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果我们想在getter中使用一些繁重而缓慢的操作，就像上面的例子一样，你应该创建一个方法来提供清晰性。</p><p id="80f7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，如果我们想从外部创建只读访问，从类内部创建只写访问，该怎么办呢？Kotlin通过setter添加一个可见性修饰符来提供对属性的访问模式。</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="6661" class="lf lg iq lb b gy lh li l lj lk">var vaccineCertificateNum: Int = 31345<br/>     private set</span></pre><p id="26a5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在任何人都可以看到<strong class="ka ir"> vaccineCertificateNum，</strong>但是只有<strong class="ka ir"/><strong class="ka ir">人类类</strong>可以改变这个属性的值。</p><p id="0f37" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在Kotlin中访问属性是通过“点语法”,如下所示。</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="6940" class="lf lg iq lb b gy lh li l lj lk">// creating some Human clone and set the number of vaccine dose</span><span id="f9eb" class="lf lg iq lb b gy lm li l lj lk">val human = Human()<br/>human.numOfVacineDose = 3 //accessing the setter method</span><span id="981f" class="lf lg iq lb b gy lm li l lj lk">println("Is human with certificate number {$human.certificateNum} fully protected from the virus: {human.isFullyProtected}) </span><span id="9088" class="lf lg iq lb b gy lm li l lj lk">//accessing the getter logic and returning value after execution.</span></pre><p id="0eba" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，我们可以看到，Kotlin已经找到了一个隐藏的好概念，并创建了一种更干净的编写代码的方式。日志记录、检查输入验证、数据转换以及所有这些业务逻辑都可以很容易地添加到getters和setters中。这样，您可以确保逻辑将被执行。</p><p id="8339" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">感谢阅读。编码快乐！</p></div></div>    
</body>
</html>