<html>
<head>
<title>Testing Dockers II: Unit Testing and Contract Testing with Terratest</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">测试Dockers II:使用Terratest进行单元测试和契约测试</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/testing-dockers-ii-unit-testing-and-contract-testing-with-terratest-61f6a151ac04?source=collection_archive---------4-----------------------#2022-01-15">https://levelup.gitconnected.com/testing-dockers-ii-unit-testing-and-contract-testing-with-terratest-61f6a151ac04?source=collection_archive---------4-----------------------#2022-01-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="5a1c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">不要让你的码头沉没！</p><p id="a1a9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">本博客是上一篇博客的延续，<a class="ae kl" href="https://monikashrma.medium.com/testing-dockers-i-usecase-and-test-strategy-hadolint-for-best-practices-1a385e3d9ebd" rel="noopener">链接此处</a>！</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/a810173cdf0e961a33703d0606b0b238.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wtY30x0RX-WCwZCK.png"/></div></div></figure><blockquote class="ky kz la"><p id="cf9a" class="jn jo lb jp b jq jr js jt ju jv jw jx lc jz ka kb ld kd ke kf le kh ki kj kk ij bi translated">单元测试意味着测试一个孤立的“单元”。</p></blockquote><h1 id="079e" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">但是最基本的！</h1><h2 id="5f0f" class="md lg iq bd lh me mf dn ll mg mh dp lp jy mi mj lt kc mk ml lx kg mm mn mb mo bi translated">了解Dockerfile</h2><p id="761e" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">考虑下面的docker文件进行测试。在此docker文件中，将执行以下操作:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mu"><img src="../Images/f11854aab1774615ee290a6186263a63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fFa_mk_VIu2jTqIQEz5R0Q.png"/></div></div></figure><p id="cbf3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第1行:用别名base-builder从“registry.access.redhat.com”创建层</p><p id="f836" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第4行到第6行:安装压缩包，然后清洗</p><p id="4eff" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第13行到第14行:设置环境变量</p><p id="c53c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第16行到第22行:安装与ruby语言相关的包，然后进行清理</p><p id="8e57" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第24行:将changelog文件从当前目录复制到/etc/</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mv"><img src="../Images/881e870afb1a3a071479aa08eecfdf89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n2UekPa0nUZYN7FeU9e7Mg.png"/></div></div><figcaption class="mw mx gj gh gi my mz bd b be z dk translated">变更日志文件</figcaption></figure><p id="0cde" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，将图像标记为最终图像。</p><h2 id="fb4e" class="md lg iq bd lh me mf dn ll mg mh dp lp jy mi mj lt kc mk ml lx kg mm mn mb mo bi translated">建立Docker形象</h2><pre class="kn ko kp kq gt na nb nc nd aw ne bi"><span id="d920" class="md lg iq nb b gy nf ng l nh ni">\\docker build &lt;path-to-dockerfile&gt; --tag &lt;tag-name&gt;<br/>\\docker build &lt;url-for-dockerfile&gt; --tag &lt;tag-name&gt;<br/>\\tag-name is optional</span><span id="d8e4" class="md lg iq nb b gy nj ng l nh ni">docker build ./images/language-based-images/ruby-image/2.6-builder-ubi8 --tag ruby2.6</span></pre><p id="1caf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">根据图像的大小，构建图像需要一些时间。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi nk"><img src="../Images/5b403f45708145323ac124b10e3f55a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qoFNYzXeY6vqQStR7UzNHg.png"/></div></div></figure><p id="1a64" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">docker image将列出构建的图像</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi nl"><img src="../Images/5434074fd5fb64b49c4c22ffc0c2394f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0qQDuXS__ATBgwPUkZB8aA.png"/></div></div></figure><h2 id="31e5" class="md lg iq bd lh me mf dn ll mg mh dp lp jy mi mj lt kc mk ml lx kg mm mn mb mo bi translated">旋转容器</h2><pre class="kn ko kp kq gt na nb nc nd aw ne bi"><span id="1376" class="md lg iq nb b gy nf ng l nh ni">\\docker run -it --rm &lt;tag-name&gt; /bin/bash<br/>\\docker run -it --rm &lt;image-id&gt;</span><span id="bbd5" class="md lg iq nb b gy nj ng l nh ni">docker run -it --rm ruby2.6 /bin/bash</span></pre><p id="186c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它将打开命令界面，输入命令:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi nm"><img src="../Images/cfa8273d6754cdc4e123b282c0b9304d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MaRs85lbbVFsg1xUjSXS3Q.png"/></div></div></figure><p id="1e79" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要从配置项移出，请输入</p><pre class="kn ko kp kq gt na nb nc nd aw ne bi"><span id="1365" class="md lg iq nb b gy nf ng l nh ni">exit</span></pre></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><h2 id="1036" class="md lg iq bd lh me mf dn ll mg mh dp lp jy mi mj lt kc mk ml lx kg mm mn mb mo bi translated">问题:考什么？</h2><h1 id="7fd2" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">单元级测试</h1><ul class=""><li id="f1fd" class="nu nv iq jp b jq mp ju mq jy nw kc nx kg ny kk nz oa ob oc bi translated"><strong class="jp ir">命令测试</strong>用于验证安装的软件包版本。</li></ul><pre class="kn ko kp kq gt na nb nc nd aw ne bi"><span id="859c" class="md lg iq nb b gy nf ng l nh ni">ruby --version</span></pre><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi od"><img src="../Images/f49b7e70ca61fd259a557bb2880598bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*14HZNHSdsyT3whC3jp8hUw.png"/></div></div></figure><ul class=""><li id="888d" class="nu nv iq jp b jq jr ju jv jy oe kc of kg og kk nz oa ob oc bi translated"><strong class="jp ir">环境变量测试</strong>用于验证变量设置是否正确。例如:GEM_HOME = /usr/local/share/gems</li></ul><pre class="kn ko kp kq gt na nb nc nd aw ne bi"><span id="68d0" class="md lg iq nb b gy nf ng l nh ni">echo $GEM_HOME</span></pre><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi oh"><img src="../Images/c383dc22c9b65f4f37da264b5a603249.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3TwbzUB4Uy74mIQUYmtfvQ.png"/></div></div></figure><ul class=""><li id="dbfd" class="nu nv iq jp b jq jr ju jv jy oe kc of kg og kk nz oa ob oc bi translated"><strong class="jp ir">文件存在测试</strong>用于验证特定文件是否存在。例如:变更日志文件的存在</li></ul><pre class="kn ko kp kq gt na nb nc nd aw ne bi"><span id="b199" class="md lg iq nb b gy nf ng l nh ni">ls /etc/CHANGELOG</span></pre><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi oi"><img src="../Images/c90f0f9882d3c7396ece6cb6807902f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cRk7tbzQhzWPVXOQYu616A.png"/></div></div></figure><ul class=""><li id="b080" class="nu nv iq jp b jq jr ju jv jy oe kc of kg og kk nz oa ob oc bi translated"><strong class="jp ir">文件内容测试</strong>用于验证文件内容。例如:变更日志文件的内容</li></ul><pre class="kn ko kp kq gt na nb nc nd aw ne bi"><span id="15f7" class="md lg iq nb b gy nf ng l nh ni">cat /etc/CHANGELOG</span></pre><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi oj"><img src="../Images/99c87468b77f875f8ac80a526f05ba54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TDSgsU9i5ZdpitWD8PVj4A.png"/></div></div></figure><ul class=""><li id="3e8f" class="nu nv iq jp b jq jr ju jv jy oe kc of kg og kk nz oa ob oc bi translated"><strong class="jp ir">许可证测试</strong>用于验证许可证(如果适用)。</li></ul></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><h2 id="b3bd" class="md lg iq bd lh me mf dn ll mg mh dp lp jy mi mj lt kc mk ml lx kg mm mn mb mo bi translated">下一个问题:如何自动化单元测试？</h2><p id="107e" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">从构建docker映像、运行映像、测试一些命令开始手动执行的上述步骤可以通过基础设施测试库Terratest自动执行。也有其他可用的库，但首选terratest，因为它易于设置。</p><h1 id="2f34" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">地形测试</h1><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi ok"><img src="../Images/4771da4cf86a4d4bf7cd311e825089e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5gIUUitZ1lcw1f9lAKU92g.png"/></div></div></figure><p id="fa3e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Terratest是一个Go库，它为测试infra提供了模式和帮助函数。通过terratest，以下平台得到验证:</p><ul class=""><li id="9d39" class="nu nv iq jp b jq jr ju jv jy oe kc of kg og kk nz oa ob oc bi translated">将（行星）地球化（以适合人类居住）</li><li id="d6d8" class="nu nv iq jp b jq ol ju om jy on kc oo kg op kk nz oa ob oc bi translated">包装工人和码头工人</li><li id="bb6a" class="nu nv iq jp b jq ol ju om jy on kc oo kg op kk nz oa ob oc bi translated">库伯内特斯</li><li id="193a" class="nu nv iq jp b jq ol ju om jy on kc oo kg op kk nz oa ob oc bi translated">AWS、GCP和Azure</li></ul><h2 id="ecc4" class="md lg iq bd lh me mf dn ll mg mh dp lp jy mi mj lt kc mk ml lx kg mm mn mb mo bi translated">Terratest设置</h2><ol class=""><li id="5bad" class="nu nv iq jp b jq mp ju mq jy nw kc nx kg ny kk oq oa ob oc bi translated">Terratest使用Go测试框架。要使用Terratest，您需要安装:Go(需要版本&gt; =1.13)</li><li id="e15b" class="nu nv iq jp b jq ol ju om jy on kc oo kg op kk oq oa ob oc bi translated">使用以下方式启动GO项目:</li></ol><pre class="kn ko kp kq gt na nb nc nd aw ne bi"><span id="e182" class="md lg iq nb b gy nf ng l nh ni">go mod init</span></pre><p id="946a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3.使用以下命令安装Terratest:</p><pre class="kn ko kp kq gt na nb nc nd aw ne bi"><span id="e10d" class="md lg iq nb b gy nf ng l nh ni">go get github.com/gruntwork-io/terratest</span></pre><p id="d772" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">4.创建一个名为“单元测试”的文件夹，并添加以下列结尾的go测试文件:</p><pre class="kn ko kp kq gt na nb nc nd aw ne bi"><span id="9983" class="md lg iq nb b gy nf ng l nh ni">_test.go</span></pre><p id="efe4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">5.开始写测试。</p></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><h1 id="aad5" class="lf lg iq bd lh li or lk ll lm os lo lp lq ot ls lt lu ou lw lx ly ov ma mb mc bi translated">编写测试</h1><p id="739c" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">测试文件将包含3个部分:</p><ul class=""><li id="dedf" class="nu nv iq jp b jq jr ju jv jy oe kc of kg og kk nz oa ob oc bi translated"><strong class="jp ir">包</strong>部分-提及包名的地方</li><li id="8629" class="nu nv iq jp b jq ol ju om jy on kc oo kg op kk nz oa ob oc bi translated"><strong class="jp ir">导入</strong>部分——导入所需的库和这些库，使用后续方法。</li><li id="d1ba" class="nu nv iq jp b jq ol ju om jy on kc oo kg op kk nz oa ob oc bi translated"><strong class="jp ir">function</strong>section——编写实际测试的地方。</li></ul><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi ow"><img src="../Images/aa2838817bb037ac5194d808d3b4afa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uAkUDMV2Gkw2J1ex1JWiTA.png"/></div></div></figure><p id="5006" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">创建了变量buildOptions，该变量将用作构建标记名为“testruby”的docker图像的参数之一。</p><p id="e199" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第20行提到的路径是docker文件的路径。</p><p id="cebe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">码头工人。Build将构建docker映像，该映像位于上面一行中给出的路径，带有标记名。</p><p id="f396" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第24行，docker.runOptions将运行docker映像并执行命令‘ruby-version’。</p><p id="f8f3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">此命令' ruby - version '输出将存储在变量Output中，以便与实际值进行比较。</p><p id="d9b4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，断言将实际输出与预期进行比较。</p><h1 id="e41c" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">运行测试</h1><p id="a8dd" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">随着命令</p><pre class="kn ko kp kq gt na nb nc nd aw ne bi"><span id="9d32" class="md lg iq nb b gy nf ng l nh ni">go test -v -run TestRuby</span></pre><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi ox"><img src="../Images/b526ea0f95a4099ec0f6df7454ff5fbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oBR_cESsS85F7HQx8YzeFg.png"/></div></div></figure></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><h1 id="a3a2" class="lf lg iq bd lh li or lk ll lm os lo lp lq ot ls lt lu ou lw lx ly ov ma mb mc bi translated">合同测试</h1><p id="f6f7" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">这是一种方法，用于确保两个独立的系统(如两个docker映像)在已经安装在映像中的包中是兼容的，并且如果该映像将被用作基本映像，则不需要再次安装相同的包，相反，可以在其上安装插件包。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mu"><img src="../Images/f11854aab1774615ee290a6186263a63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fFa_mk_VIu2jTqIQEz5R0Q.png"/></div></div></figure><p id="f1f6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">为什么是</strong>？当第1行-用于创建基础层的图像来自第三方，或者更简单地说，不是来自客户的图像之一时，需要进行该测试。这就是为什么需要编写契约测试的原因。</p><p id="e23d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">什么</strong>？这种测试将确保已安装的包、文件、变量不会被更改，并且可以安全地用作docker文件中的基础映像。</p><p id="f01f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">如何</strong>？编写契约测试不需要不同的库。可以使用用于编写单元测试的同一个库。</p></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><h1 id="8223" class="lf lg iq bd lh li or lk ll lm os lo lp lq ot ls lt lu ou lw lx ly ov ma mb mc bi translated">其他可用选项</h1><p id="b9ca" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">有不同的库可以用来为docker编写测试。</p><ul class=""><li id="73d8" class="nu nv iq jp b jq jr ju jv jy oe kc of kg og kk nz oa ob oc bi translated">使用<a class="ae kl" href="https://github.com/GoogleContainerTools/container-structure-test" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">【容器-结构-测试】</strong> </a> <strong class="jp ir"> </strong>，基于YAML编写测试非常简单。没有发现大的问题，除了这样一个事实，即如果有人是新来YAML的，那么需要做很少的研究，因为文档非常少。</li><li id="12a5" class="nu nv iq jp b jq ol ju om jy on kc oo kg op kk nz oa ob oc bi translated"><a class="ae kl" href="https://github.com/sstephenson/bats" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> bats </strong> </a> (Bash自动化测试框架)和<a class="ae kl" href="https://github.com/kward/shunit2" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> shunit2 </strong> </a>有点类似，基于shell，简单，内置框架。不需要为框架安装其他库。除此之外，shunit2和bats在不运行映像或者不需要旋转容器的情况下运行测试。如果CI/CD管道不支持“docker中的docker”，这两个是不错的选择。</li></ul></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><h1 id="997e" class="lf lg iq bd lh li or lk ll lm os lo lp lq ot ls lt lu ou lw lx ly ov ma mb mc bi translated">Youtube链接</h1><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="oy oz l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk translated">请参考docker测试的后半部分</figcaption></figure></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><h1 id="4a92" class="lf lg iq bd lh li or lk ll lm os lo lp lq ot ls lt lu ou lw lx ly ov ma mb mc bi translated">要参考的基本代码</h1><div class="pa pb gp gr pc pd"><a href="https://github.com/msharma-tw/docker-images-project" rel="noopener  ugc nofollow" target="_blank"><div class="pe ab fo"><div class="pf ab pg cl cj ph"><h2 class="bd ir gy z fp pi fr fs pj fu fw ip bi translated">GitHub-m Sharma-tw/docker-images-project</h2><div class="pk l"><h3 class="bd b gy z fp pi fr fs pj fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="pl l"><p class="bd b dl z fp pi fr fs pj fu fw dk translated">github.com</p></div></div><div class="pm l"><div class="pn l po pp pq pm pr kw pd"/></div></div></a></div></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><h1 id="d339" class="lf lg iq bd lh li or lk ll lm os lo lp lq ot ls lt lu ou lw lx ly ov ma mb mc bi translated">下一步</h1><p id="fe9a" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">下一篇博客将是这个博客系列的继续，它涵盖了下一个测试级别——安全性测试。</p><blockquote class="ky kz la"><p id="3c6e" class="jn jo lb jp b jq jr js jt ju jv jw jx lc jz ka kb ld kd ke kf le kh ki kj kk ij bi translated"><strong class="jp ir">资源</strong></p><p id="43b6" class="jn jo lb jp b jq jr js jt ju jv jw jx lc jz ka kb ld kd ke kf le kh ki kj kk ij bi translated">Terratest文档-【https://terratest.gruntwork.io/ T2】</p></blockquote><h1 id="a9ce" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">感谢阅读！！</h1></div></div>    
</body>
</html>