<html>
<head>
<title>How to Display Places in Google Maps on Android like Airbnb</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何像Airbnb一样在Android上显示谷歌地图中的地点</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-display-places-in-map-like-airbnb-4cd7fde2279c?source=collection_archive---------14-----------------------#2021-01-11">https://levelup.gitconnected.com/how-to-display-places-in-map-like-airbnb-4cd7fde2279c?source=collection_archive---------14-----------------------#2021-01-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="8088" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本教程中，我们将创建一个API和移动应用程序来在谷歌地图上显示大学。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/0d6e35c250c9be1ee3d3778be191573b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*W8gP5fXQ_OtFBU_G"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">照片由<a class="ae le" href="https://unsplash.com/@hjkp?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> henry perks </a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄(不是我们将在本教程中构建的应用程序的视觉效果)</figcaption></figure><h1 id="afab" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">我们将做什么</h1><p id="2863" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">在本教程中，我们将学习开发一个后端API和Android应用程序，在地图上显示印度的大学(使用Google Maps SDK for Android)，就像AirBnB在世界地图上显示酒店/住宅的位置一样。</p><p id="4aae" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你以前没有使用过Airbnb，看看下面的视频就知道了。您也可以<strong class="js iu">通过点击链接<a class="ae le" href="https://play.google.com/store/apps/details?id=com.webtutsplus.collegefinder" rel="noopener ugc nofollow" target="_blank">这里</a>从我们将在本教程系列中创建的play store下载应用</strong></p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mi mj l"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">大学搜索器应用程序演示</figcaption></figure><p id="e833" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们将学习如何使用经纬度坐标在地图上放置标记。</p><p id="8f7f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这个系列中，每个部分都被划分为任务，每个任务又被划分为步骤。这将有助于您了解我们在做什么，以及我们在每一步是如何做的。</p><h1 id="246e" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">数据库设计</h1><p id="0ce9" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">我们从各种网站上收集了一些大学的信息。我们可以使用网络搜集来获取这些信息。请参考本教程了解更多关于网页抓取。</p><div class="mk ml gp gr mm mn"><a href="https://medium.com/swlh/lets-parse-the-web-a7f5300b244f" rel="noopener follow" target="_blank"><div class="mo ab fo"><div class="mp ab mq cl cj mr"><h2 class="bd iu gy z fp ms fr fs mt fu fw is bi translated">让我们来解析网络</h2><div class="mu l"><h3 class="bd b gy z fp ms fr fs mt fu fw dk translated">介绍</h3></div><div class="mv l"><p class="bd b dl z fp ms fr fs mt fu fw dk translated">medium.com</p></div></div><div class="mw l"><div class="mx l my mz na mw nb ky mn"/></div></div></a></div><h1 id="f54f" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">表格设计</h1><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nc mj l"/></div></figure><p id="06a6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是我们需要学院的<code class="fe nd ne nf ng b">lat</code>和<code class="fe nd ne nf ng b">long</code>，为此我们将使用谷歌地理定位API。</p><p id="6ea9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们将使用谷歌的地理编码API</p><p id="a3db" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae le" href="https://maps.googleapis.com/maps/api/geocode/json?address=Indian+School+of+Business+Management+Administration+(ISBM),+bangalore&amp;key=AIzaSyBx6Z-A8Ne9pMc57p3LcVnWuoE5yRVz5Og" rel="noopener ugc nofollow" target="_blank">https://maps.googleapis.com/maps/api/geocode/json?address = { address }&amp;KEY =</a>{ API _ KEY }</p><p id="ae2c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果我们将地址作为<code class="fe nd ne nf ng b">college name + city </code>传递，我们将得到这个响应。从那里我们将提取<code class="fe nd ne nf ng b">lat</code>、<code class="fe nd ne nf ng b">long</code>并更新数据库。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nh"><img src="../Images/76635a6fcaf7fdaf3f098b860f6f4cd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*93-4KTD7bAaYQC6ba-D9JQ.png"/></div></div></figure><h1 id="c2ed" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">最终API</h1><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nc mj l"/></div></figure><p id="074b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，我们的API已经准备好了，我们将开始构建Android部分。</p></div><div class="ab cl ni nj hx nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="im in io ip iq"><h1 id="dd33" class="lf lg it bd lh li np lk ll lm nq lo lp lq nr ls lt lu ns lw lx ly nt ma mb mc bi translated">先决条件</h1><p id="e2de" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">本教程假设你熟悉Android开发和面向对象的编程概念。更具体地说，您应该知道如何使用XML创建基本的ui，以及如何使用Android对API执行网络调用。还有，你要知道什么是JSON格式，什么是API。</p><h1 id="8a20" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">必须安装Android Studio 4.0及以上版本。</h1><h1 id="56bc" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">任务1 —在ANDROID STUDIO中创建一个谷歌地图项目</h1><p id="7967" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated"><strong class="js iu">第一步:安装Google Play服务SDK。</strong> <br/>打开此<a class="ae le" href="https://developer.android.com/studio/intro/update.html#sdk-manager" rel="noopener ugc nofollow" target="_blank">链接</a>了解更多详细信息。要安装SDK</p><ol class=""><li id="9380" class="nu nv it js b jt ju jx jy kb nw kf nx kj ny kn nz oa ob oc bi translated">转到<code class="fe nd ne nf ng b">Tools</code> → <code class="fe nd ne nf ng b">SDK Manager.</code></li><li id="2ae3" class="nu nv it js b jt od jx oe kb of kf og kj oh kn nz oa ob oc bi translated">切换到名为<code class="fe nd ne nf ng b">SDK Tools</code>的选项卡</li><li id="2307" class="nu nv it js b jt od jx oe kb of kf og kj oh kn nz oa ob oc bi translated">勾选<code class="fe nd ne nf ng b">Google Play Services</code>并点击应用。下载并安装Google Play服务SDK后，单击OK。</li></ol><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oi"><img src="../Images/a8b442ce91984911ad3c7b0fa0a7c68a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fR0q3q-4JNws_48AD1m9ZQ.png"/></div></div></figure><p id="bd2c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">步骤2:在Android Studio中创建一个谷歌地图项目</strong> <br/>按照以下步骤创建一个新的应用程序项目，其中包括一个地图活动:</p><ol class=""><li id="1f24" class="nu nv it js b jt ju jx jy kb nw kf nx kj ny kn nz oa ob oc bi translated">启动Android Studio。</li><li id="6ce8" class="nu nv it js b jt od jx oe kb of kf og kj oh kn nz oa ob oc bi translated">创建一个新项目如下:<br/> *如果你看到<code class="fe nd ne nf ng b">Welcome to Android Studio</code>对话框，选择<code class="fe nd ne nf ng b">Start a new Android Studio project</code>，在对话框右边的“快速启动”下。<br/> *否则，点击Android Studio菜单栏中的<code class="fe nd ne nf ng b">File</code>，然后点击<code class="fe nd ne nf ng b">New</code>、<code class="fe nd ne nf ng b"><strong class="js iu">New Project.</strong></code></li><li id="f184" class="nu nv it js b jt od jx oe kb of kf og kj oh kn nz oa ob oc bi translated">在<code class="fe nd ne nf ng b">Choose your project</code>对话框中，选择标签<code class="fe nd ne nf ng b">Phone and Tablet.</code></li><li id="af47" class="nu nv it js b jt od jx oe kb of kf og kj oh kn nz oa ob oc bi translated">选择<code class="fe nd ne nf ng b">Google Maps Activity</code>，然后点击<code class="fe nd ne nf ng b">Next</code>。</li><li id="63a9" class="nu nv it js b jt od jx oe kb of kf og kj oh kn nz oa ob oc bi translated">输入您的应用名称、包名称和项目位置，编程语言为<code class="fe nd ne nf ng b">Java</code>，以及您的应用支持的最低Android API级别，然后单击<code class="fe nd ne nf ng b">Finish</code>。</li><li id="5c29" class="nu nv it js b jt od jx oe kb of kf og kj oh kn nz oa ob oc bi translated">Android Studio启动Gradle并构建您的项目。这可能需要几秒钟的时间。</li><li id="7d4b" class="nu nv it js b jt od jx oe kb of kf og kj oh kn nz oa ob oc bi translated">构建完成后，Android Studio在编辑器中打开<code class="fe nd ne nf ng b">google_maps_api.xml</code>和<code class="fe nd ne nf ng b">MapsActivity.java</code>文件。下一节将更详细地描述如何获取API密钥。</li></ol><p id="93b6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">第三步:设置谷歌地图API密钥</strong></p><ol class=""><li id="3f1c" class="nu nv it js b jt ju jx jy kb nw kf nx kj ny kn nz oa ob oc bi translated">在您的项目上启用<a class="ae le" href="https://console.cloud.google.com/project/_/billing/enable" rel="noopener ugc nofollow" target="_blank">计费</a>。有关详细信息，请参见<a class="ae le" href="https://developers.google.com/maps/gmp-get-started#create-billing-account" rel="noopener ugc nofollow" target="_blank">创建计费账户</a>。</li><li id="17a0" class="nu nv it js b jt od jx oe kb of kf og kj oh kn nz oa ob oc bi translated">在<a class="ae le" href="https://console.cloud.google.com/apis/library/maps-android-backend.googleapis.com" rel="noopener ugc nofollow" target="_blank">云控制台</a>中，在您的项目上启用<strong class="js iu"> Maps SDK for Android </strong>。详情请参见<a class="ae le" href="https://developers.google.com/maps/gmp-get-started#enable-api-sdk" rel="noopener ugc nofollow" target="_blank">启用API</a>。</li><li id="14da" class="nu nv it js b jt od jx oe kb of kf og kj oh kn nz oa ob oc bi translated">遵循<a class="ae le" href="https://developers.google.com/maps/documentation/android-sdk/get-api-key" rel="noopener ugc nofollow" target="_blank">获取API密钥</a>指南，以<strong class="js iu">获取并添加</strong>API密钥。对于本教程，没有必要限制API键。我们也<strong class="js iu">不需要我们应用程序的SHA-1指纹</strong>信息</li><li id="604b" class="nu nv it js b jt od jx oe kb of kf og kj oh kn nz oa ob oc bi translated">记住将您的密钥添加到<code class="fe nd ne nf ng b">local.properties</code>文件中，这样当您将代码上传到远程git存储库时，您不会最终也上传您的密钥。</li></ol><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oj"><img src="../Images/7e548b1e9d593d9f894928ad53d86b92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NDbNUHIBlpYEg7h8gaOTnQ.png"/></div></div></figure><p id="5ab6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">第四步:检查模板提供的代码</strong></p><p id="20cf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">检查模板提供的代码。特别是，看看您的Android Studio项目中的以下文件。</p><ol class=""><li id="ff86" class="nu nv it js b jt ju jx jy kb nw kf nx kj ny kn nz oa ob oc bi translated">XML布局文件— <code class="fe nd ne nf ng b">activity_maps.xml</code></li></ol><ul class=""><li id="089a" class="nu nv it js b jt ju jx jy kb nw kf nx kj ny kn ok oa ob oc bi translated">默认情况下，定义应用程序布局的XML文件位于<code class="fe nd ne nf ng b">res/layout/activity_maps.xml</code>。它包含以下代码:</li></ul><pre class="kp kq kr ks gt ol ng om on aw oo bi"><span id="2b2e" class="op lg it ng b gy oq or l os ot">&lt;fragment xmlns:android="http://schemas.android.com/apk/res/android"<br/>    xmlns:tools="http://schemas.android.com/tools"<br/>    android:layout_width="match_parent"<br/>    android:layout_height="match_parent"<br/>    android:id="@+id/map"<br/>    tools:context=".MapsActivity"<br/>    android:name="com.google.android.gms.maps.SupportMapFragment" /&gt;</span></pre><p id="8b49" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">2.地图活动文件— <code class="fe nd ne nf ng b">MapsActivity.java</code></p><ul class=""><li id="02ba" class="nu nv it js b jt ju jx jy kb nw kf nx kj ny kn ok oa ob oc bi translated">默认情况下，定义地图活动的Java文件被命名为<code class="fe nd ne nf ng b">MapsActivity.java</code>。它应该在您的软件包名称后包含以下代码:</li></ul><pre class="kp kq kr ks gt ol ng om on aw oo bi"><span id="5161" class="op lg it ng b gy oq or l os ot">// Copyright 2020 Google LLC<br/>//<br/>// Licensed under the Apache License, Version 2.0 (the "License");<br/>// you may not use this file except in compliance with the License.<br/>// You may obtain a copy of the License at<br/>//<br/>//      http://www.apache.org/licenses/LICENSE-2.0<br/>//<br/>// Unless required by applicable law or agreed to in writing, software<br/>// distributed under the License is distributed on an "AS IS" BASIS,<br/>// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>// See the License for the specific language governing permissions and<br/>// limitations under the License.<br/><br/>package com.google.maps.example;<br/><br/><br/>import androidx.appcompat.app.AppCompatActivity;<br/><br/>import android.os.Bundle;<br/><br/>import com.google.android.gms.maps.CameraUpdateFactory;<br/>import com.google.android.gms.maps.GoogleMap;<br/>import com.google.android.gms.maps.OnMapReadyCallback;<br/>import com.google.android.gms.maps.SupportMapFragment;<br/>import com.google.android.gms.maps.model.LatLng;<br/>import com.google.android.gms.maps.model.MarkerOptions;<br/><br/>public class MapsActivity extends AppCompatActivity implements OnMapReadyCallback {<br/><br/>    private GoogleMap mMap;<br/><br/>    @Override<br/>    protected void onCreate(Bundle savedInstanceState) {<br/>        super.onCreate(savedInstanceState);<br/>        setContentView(R.layout.activity_maps);<br/>        // Obtain the SupportMapFragment and get notified when the map is ready to be used.<br/>        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()<br/>                .findFragmentById(R.id.map);<br/>        mapFragment.getMapAsync(this);<br/>    }<br/><br/>    /**<br/>     * Manipulates the map once available.<br/>     * This callback is triggered when the map is ready to be used.<br/>     * This is where we can add markers or lines, add listeners or move the camera. In this case,<br/>     * we just add a marker near Sydney, Australia.<br/>     *<br/>     * If Google Play services is not installed on the device, the user will be prompted to install<br/>     * it inside the SupportMapFragment. This method will only be triggered once the user has<br/>     * installed Google Play services and returned to the app.<br/>     */<br/>    @Override<br/>    public void onMapReady(GoogleMap googleMap) {<br/>        mMap = googleMap;<br/><br/>        // Add a marker in Sydney and move the camera<br/>        LatLng sydney = new LatLng(-34, 151);<br/>        mMap.addMarker(new MarkerOptions()<br/>                .position(sydney)<br/>                .title("Marker in Sydney"));<br/>        mMap.moveCamera(CameraUpdateFactory.newLatLng(sydney));<br/>    }<br/>}</span></pre><ul class=""><li id="b771" class="nu nv it js b jt ju jx jy kb nw kf nx kj ny kn ok oa ob oc bi translated">如果您的地图活动文件不包含上述代码，请在您的包名称后用上述代码替换文件的内容。</li></ul><p id="507a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这个阶段，建议您检查Google Maps SDK是否与应用程序正确集成。要检查谷歌地图API for Android是否正常工作，请在你觉得合适的物理设备或模拟器上运行该应用程序。打开应用程序时，您应该会看到以悉尼为中心的地图，如下图所示。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/c17b36efe9e4611909dd7f9fae96474c.png" data-original-src="https://miro.medium.com/v2/resize:fit:432/format:webp/1*8Yl3HLx9OMUe-_vE0S3tbQ.jpeg"/></div></figure><p id="7514" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果看不到地图，那就是有问题。检查Android Studio中的<code class="fe nd ne nf ng b">LogCat</code>以查看错误。如果您无法解决该错误，您可以创建一个新项目并再次遵循上述步骤。</p><h1 id="cc00" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">任务2 —使用Android版谷歌地图SDK在地图上放置标记</h1><p id="1db9" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">让我们学习如何在地图上放置标记。</p><p id="1a05" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">第一步:创建一个</strong> <code class="fe nd ne nf ng b"><strong class="js iu">LatLng</strong></code> <strong class="js iu">对象</strong></p><ul class=""><li id="b977" class="nu nv it js b jt ju jx jy kb nw kf nx kj ny kn ok oa ob oc bi translated">通过将纬度和经度传递给类的构造函数，可以创建一个<code class="fe nd ne nf ng b">LatLng</code>对象。<code class="fe nd ne nf ng b">LatLng</code>Google Maps SDK使用对象来识别地点的坐标。</li><li id="c620" class="nu nv it js b jt od jx oe kb of kf og kj oh kn ok oa ob oc bi translated">使用以下代码在<code class="fe nd ne nf ng b">MapsActivity.java </code>类的<code class="fe nd ne nf ng b">onMapReady()</code>方法中创建<code class="fe nd ne nf ng b">LatLng</code>对象</li></ul><p id="e4b1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe nd ne nf ng b">LatLng india= new LatLng(20.5937, 78.9629);</code></p><ul class=""><li id="30a1" class="nu nv it js b jt ju jx jy kb nw kf nx kj ny kn ok oa ob oc bi translated">在这一步之后，MapsActivity.java的<code class="fe nd ne nf ng b">onMapReady()</code>方法如下所示</li></ul><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nc mj l"/></div></figure><p id="391e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">第二步:使用Android版谷歌地图SDK添加标记</strong></p><ul class=""><li id="e593" class="nu nv it js b jt ju jx jy kb nw kf nx kj ny kn ok oa ob oc bi translated">现在我们将使用<code class="fe nd ne nf ng b">GoogleMap</code>类的<code class="fe nd ne nf ng b">addMarker()</code>方法在谷歌地图中添加标记。以下代码说明了:-</li></ul><pre class="kp kq kr ks gt ol ng om on aw oo bi"><span id="62f8" class="op lg it ng b gy oq or l os ot"><strong class="ng iu">mMap</strong>.addMarker(<strong class="ng iu">new </strong>MarkerOptions().position(sydney).title(<strong class="ng iu">"Marker in Sydney"</strong>));</span></pre><ul class=""><li id="5893" class="nu nv it js b jt ju jx jy kb nw kf nx kj ny kn ok oa ob oc bi translated"><code class="fe nd ne nf ng b">title(String)</code>方法设置用户点击标记时显示的字符串。</li><li id="5af4" class="nu nv it js b jt od jx oe kb of kf og kj oh kn ok oa ob oc bi translated">在这个步骤之后，<code class="fe nd ne nf ng b">MapsActivity.java</code>的<code class="fe nd ne nf ng b">onMapReady()</code>方法如下所示</li></ul><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nc mj l"/></div></figure><p id="7070" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">第三步:运行app </strong></p><ul class=""><li id="502c" class="nu nv it js b jt ju jx jy kb nw kf nx kj ny kn ok oa ob oc bi translated">现在让我们运行应用程序。运行该应用程序时，您会看到地图的中心位于非洲上空(纬度:0，经度:0)。如果你把地图移到印度，你会看到一个标记。下图说明了:-</li></ul><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/58ea4ce04ff6282d014f0ecc91bcef5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:432/format:webp/1*AM26A4BWr8TGAJ5fZcXhbA.jpeg"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">默认情况下，地图以非洲为中心</figcaption></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/9483db16de99f02c4d348c6c95dee953.png" data-original-src="https://miro.medium.com/v2/resize:fit:432/format:webp/1*JwuF4yax7P2Sn5ba5iu1mg.jpeg"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">放置在印度上方的标记</figcaption></figure><p id="fa8e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">第四步:更改谷歌地图的默认位置</strong></p><ul class=""><li id="3b85" class="nu nv it js b jt ju jx jy kb nw kf nx kj ny kn ok oa ob oc bi translated">如你所知，当我们运行应用程序时，默认情况下，地图以非洲为中心。这是因为谷歌地图居中的默认位置被设置为纬度:0 &amp;纬度0。</li><li id="baa3" class="nu nv it js b jt od jx oe kb of kf og kj oh kn ok oa ob oc bi translated">要改变默认位置，我们可以使用<code class="fe nd ne nf ng b">GoogleMap</code>类的<code class="fe nd ne nf ng b">moveCamera()</code>方法。我们将在<code class="fe nd ne nf ng b">MapsActivity.java</code>的<code class="fe nd ne nf ng b">onMapsReady()</code>方法中使用以下代码。<code class="fe nd ne nf ng b">india</code>是我们之前创建的<code class="fe nd ne nf ng b">LatLng</code>对象。它包含了印度的坐标。</li></ul><pre class="kp kq kr ks gt ol ng om on aw oo bi"><span id="ef2e" class="op lg it ng b gy oq or l os ot"><strong class="ng iu">mMap</strong>.moveCamera(CameraUpdateFactory.<em class="ov">newLatLng</em>(india));</span></pre><ul class=""><li id="4e5c" class="nu nv it js b jt ju jx jy kb nw kf nx kj ny kn ok oa ob oc bi translated">在这个步骤之后，<code class="fe nd ne nf ng b">MapsActivity.java</code>的<code class="fe nd ne nf ng b">onMapReady()</code>方法看起来如下</li></ul><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nc mj l"/></div></figure><ul class=""><li id="71d8" class="nu nv it js b jt ju jx jy kb nw kf nx kj ny kn ok oa ob oc bi translated">现在运行应用程序。默认情况下，你会看到地图以印度为中心</li></ul><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/9483db16de99f02c4d348c6c95dee953.png" data-original-src="https://miro.medium.com/v2/resize:fit:432/format:webp/1*JwuF4yax7P2Sn5ba5iu1mg.jpeg"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">地图的默认视图</figcaption></figure><h1 id="a30d" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">恭喜</h1><p id="b4fb" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">祝贺您完成了本系列的第一部分。你做得很好！！！在下一部分，我们将学习如何像AirBnB一样在地图的当前视图上放置标记。</p><div class="mk ml gp gr mm mn"><a href="https://medium.com/webtutsplus/lets-make-an-android-app-to-search-colleges-like-airbnb-b63834a0d4a8" rel="noopener follow" target="_blank"><div class="mo ab fo"><div class="mp ab mq cl cj mr"><h2 class="bd iu gy z fp ms fr fs mt fu fw is bi translated">让我们制作一个Android应用程序，像Airbnb一样搜索大学</h2><div class="mu l"><h3 class="bd b gy z fp ms fr fs mt fu fw dk translated">在之前的教程中，我们在android中的地图上显示了学院。今天，我们将实现一个搜索功能…</h3></div><div class="mv l"><p class="bd b dl z fp ms fr fs mt fu fw dk translated">medium.com</p></div></div><div class="mw l"><div class="ow l my mz na mw nb ky mn"/></div></div></a></div></div></div>    
</body>
</html>