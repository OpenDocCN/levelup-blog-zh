<html>
<head>
<title>Make Digital Art with JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript制作数字艺术</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/make-digital-art-with-javascript-643315bfef0d?source=collection_archive---------15-----------------------#2021-02-22">https://levelup.gitconnected.com/make-digital-art-with-javascript-643315bfef0d?source=collection_archive---------15-----------------------#2021-02-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f918" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">学习p5.js的基础知识</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7d48f1e5b0b7867883fd9f26829f9d3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rmWbaTx_fIuntgSk2fzHsg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">用p5.js创建</figcaption></figure><p id="9fa1" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">完全披露——到本文结束时，你不会成为创作数字艺术的专家。然而，你将学习它的基础知识，并有一个开始从事更大项目的起点。</p><p id="4599" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们将致力于创造一个充满随机几何形状的画布。有没有可能用p5做出更刺激的东西？绝对的。查看文档中的示例项目<a class="ae lr" href="https://p5js.org/examples/" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="adcc" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">然而，在本文中，我们将坚持简单的几何图形。这是为了确保项目的复杂性不会阻止我们学习要点。让我们把激动人心的部分留到将来，现在就开始研究这个吧。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="4d27" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">设置HTML</h1><p id="87c0" class="pw-post-body-paragraph kv kw iq kx b ky mr jr la lb ms ju ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated">我们将为网页设置一个主干，然后不再接触HTML。我们的HTML需要做两件事。首先，它需要链接我们项目所需的所有文件p5.js库、我们的js脚本和样式表。然后，它还需要设置一个分区，我们稍后将在其上安装画布(记住稍后的“形状”id)。</p><blockquote class="mw mx my"><p id="ee7e" class="kv kw mz kx b ky kz jr la lb lc ju ld na lf lg lh nb lj lk ll nc ln lo lp lq ij bi translated">注意:我已经决定使用CDN导入p5.js，但是请随意将其下载到您的机器上，并在本地使用它。</p></blockquote><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><h1 id="4e4a" class="lz ma iq bd mb mc nf me mf mg ng mi mj jw nh jx ml jz ni ka mn kc nj kd mp mq bi translated">设计网页样式(可选)</h1><p id="8a1b" class="pw-post-body-paragraph kv kw iq kx b ky mr jr la lb ms ju ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated">如果你想让你的页面看起来更好一点，并且不希望你的最终画布位于屏幕的左上角，你需要给它添加一些样式。我在这里嵌入了我的风格，但是当然，你可以根据自己的喜好自由调整。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><h1 id="db98" class="lz ma iq bd mb mc nf me mf mg ng mi mj jw nh jx ml jz ni ka mn kc nj kd mp mq bi translated">创建画布</h1><p id="fd3c" class="pw-post-body-paragraph kv kw iq kx b ky mr jr la lb ms ju ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated">现在我们准备将画布安装到我们之前创建的HTML部门。为此，我们需要设置一个新的sketch对象，并将该对象传递给p5构造函数来创建一个新的p5实例。</p><blockquote class="mw mx my"><p id="ce36" class="kv kw mz kx b ky kz jr la lb lc ju ld na lf lg lh nb lj lk ll nc ln lo lp lq ij bi translated">注意:使用“全局模式”创建画布有一种更简单的方法，但是这样做不允许您在同一个网页上创建多个草图——如果您以后决定这样做的话。详细谈论这些差异不在本文的范围之内，但是如果你想了解更多，请参考<a class="ae lr" href="https://p5js.org/reference/#/p5/p5" rel="noopener ugc nofollow" target="_blank">文档</a>。</p></blockquote><p id="643b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我知道这听起来有点复杂，但是让我们看一些代码，然后分析发生了什么。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="81cc" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">首先，我们得到想要安装画布的div的高度。然后，我们创建一个接受p5实例(这里称为p)作为参数的函数，并为其附加一个<em class="mz">设置</em>方法。在这个<em class="mz">设置</em>中，我们将编写我们希望在网页加载后立即运行的所有代码。现在，我们所做的就是创建一个与HTML div尺寸完全相同的画布。</p><blockquote class="mw mx my"><p id="08af" class="kv kw mz kx b ky kz jr la lb lc ju ld na lf lg lh nb lj lk ll nc ln lo lp lq ij bi translated">注意:这里我们假设div是一个正方形。如果我们希望允许矩形块，我们需要获得分割的高度和宽度，并相应地将它们传递给<em class="iq"> createCanvas() </em>方法。</p></blockquote><p id="c2da" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">最后，我们创建一个新的p5实例，并传入<em class="mz">草图</em>函数作为回调，传入div的<strong class="kx ir"> id </strong>作为挂载点。我们的页面上还没有显示任何内容，因为我们还没有在画布上添加任何内容。我们现在就开始努力吧。</p><h1 id="714f" class="lz ma iq bd mb mc nf me mf mg ng mi mj jw nh jx ml jz ni ka mn kc nj kd mp mq bi translated">将形状添加到画布</h1><p id="c038" class="pw-post-body-paragraph kv kw iq kx b ky mr jr la lb ms ju ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated">我们将从简单开始，在制作更疯狂的形状之前，在画布中央添加一个无聊的小椭圆。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="8358" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">注意在创建椭圆之前如何使用<em class="mz">填充</em>来指定椭圆的颜色。在上面的例子中，我使用了一个映射到0–255颜色方案的整数，但是<em class="mz"> fill </em>也接受RGB或六化学颜色字符串，我们将在后面看到。</p><p id="1a91" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为了将椭圆定位在中心，我们将画布大小的一半作为椭圆中心的x和y坐标。画布的坐标轴位于左上角的中心，x向右侧增加，y向底部增加。</p><h1 id="27c4" class="lz ma iq bd mb mc nf me mf mg ng mi mj jw nh jx ml jz ni ka mn kc nj kd mp mq bi translated">随机位置和大小</h1><p id="8648" class="pw-post-body-paragraph kv kw iq kx b ky mr jr la lb ms ju ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated">如果我们想要显示的所有形状都是相同的大小，并且位于相同的位置，那么最终的图像就不会太令人兴奋。所以让我们把这些参数随机化。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="1969" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们现在为位置生成随机的x，y坐标，为大小生成随机的宽度和高度，而不是将预设值传递给<em class="mz"> ellipse() </em>方法。这将使图形在画布上看起来更有趣。</p><h1 id="deb1" class="lz ma iq bd mb mc nf me mf mg ng mi mj jw nh jx ml jz ni ka mn kc nj kd mp mq bi translated">重构形状创建</h1><p id="baaa" class="pw-post-body-paragraph kv kw iq kx b ky mr jr la lb ms ju ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated">目前我们正在用<em class="mz">设置</em>方法创建我们的形状，如果我们只想显示一个椭圆，这是完全可以接受的。然而，我们正在努力渲染许多不同大小的不同形状，所以让我们做一些重构，当需要向画布添加更多形状时，这将使我们的生活变得更容易。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="14c3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">注意<em class="mz"> p.ellipse </em>现在是从<em class="mz"> drawEllipse </em>函数调用，而不是从<em class="mz"> p.setup </em>调用。<em class="mz"> drawEllipse </em>也负责随机化椭圆的大小。在<em class="mz">设置</em>中，我们创建了一个绘制形状的函数数组，对于每个函数，我们生成一个随机颜色来填充形状。我们还在画布中选取了一个随机位置，然后调用辅助函数来实际呈现形状。</p><h1 id="42ce" class="lz ma iq bd mb mc nf me mf mg ng mi mj jw nh jx ml jz ni ka mn kc nj kd mp mq bi translated">添加更多形状</h1><p id="fa57" class="pw-post-body-paragraph kv kw iq kx b ky mr jr la lb ms ju ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated">现在没有什么可以限制我们创建更多的帮助函数来添加不同类型的对象到我们的绘图中。有许多不同的形状，它们都有自己的一套参数。仔细研究这些参数的细微差别会形成一篇很长的文章，所以如果你想完全理解下面代码中发生的事情，我要求你参考文档。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="e8d7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们添加了三个新的辅助函数来绘制三角形、直线和矩形，并在设置过程中调用了所有这些函数。我们还嵌套了我们的<em class="mz"> forEach </em>循环，这样我们在最终的画布中每种形状有五个。结果是这样的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/9aef2b281c64f4d8f7d272de6e5dff00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*FsdOQvp4YWUJtBuWDxmIQw.png"/></div></div></figure><p id="023a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">你完全可以决定你想要这件作品有多少种形状。我建议调整所有的参数，比如<em class="mz"> roughSize </em>和<em class="mz"> numRepeats </em>，这样画布看起来对你来说才是最佳的。</p><p id="b4aa" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">绘制这些形状的另一种方法是使用<em class="mz"> p.random </em>(在<a class="ae lr" href="https://p5js.org/reference/#/p5/random" rel="noopener ugc nofollow" target="_blank">文档</a>中的信息)在每次迭代中选择一个随机绘制函数。然后，我们在画布上有不同数量的每个形状。我把它留给读者做练习。请分享你的最终结果！</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="367a" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">你成功了！</h1><p id="a5a1" class="pw-post-body-paragraph kv kw iq kx b ky mr jr la lb ms ju ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated">恭喜你，现在你有了一个可以使用JavaScript创建漂亮图形的神奇工具。我希望这篇文章让您对p5库有了基本的了解。感谢您一直以来的关注。</p><p id="ad1e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我有一个<a class="ae lr" href="https://bezier-gallery.netlify.app/" rel="noopener ugc nofollow" target="_blank">收集的片段</a>是我在学习这个主题时制作的，当然所有的代码都可以在<a class="ae lr" href="https://github.com/Schapagain/bezier-gallery" rel="noopener ugc nofollow" target="_blank">我的github </a>中找到。请让我知道你是否想看到我浏览其中的任何一个，或者你可能尝试进入的任何其他新话题。</p><p id="97f2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">再次感谢阅读！</p></div></div>    
</body>
</html>