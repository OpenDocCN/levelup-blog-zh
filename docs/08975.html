<html>
<head>
<title>Improve Your Python Coding: Tuple Packing and Unpacking</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">改进您的Python编码:元组打包和解包</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/improve-your-python-coding-tuple-packing-and-unpacking-44bd92daab31?source=collection_archive---------0-----------------------#2021-06-24">https://levelup.gitconnected.com/improve-your-python-coding-tuple-packing-and-unpacking-44bd92daab31?source=collection_archive---------0-----------------------#2021-06-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="cf3c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">打包和解包确实提高了代码的可读性。让我们回顾一下它们，并学习在元组中使用下划线和星号。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/7141bf0228fc0189c87a6eaecc92589b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5BHdjuLZdpZ7W_38"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">照片由<a class="ae le" href="https://unsplash.com/@andrewtneel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">安德鲁·尼尔</a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><p id="44e5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">元组是Python中不可变的数据类型。它们速度更快，内存效率高，并且防止修改。打包和解包可以用于任何可迭代对象，但是其中一个众所周知的用法属于元组对象。使用打包和解包的最大影响之一是，它提高了代码的可读性。</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h2 id="1659" class="lm ln it bd lo lp lq dn lr ls lt dp lu kb lv lw lx kf ly lz ma kj mb mc md me bi translated">什么是元组打包和解包？</h2><p id="8237" class="pw-post-body-paragraph jq jr it js b jt mf jv jw jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn im bi translated">让我们从简单的定义开始。</p><p id="85b1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">元组打包</strong>是指将多个值赋给一个元组。</p><p id="901c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">元组解包</strong>是指将一个元组赋给多个变量。</p><p id="8f5a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您已经使用了<strong class="js iu">元组打包</strong>,因为它很简单:</p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="140a" class="lm ln it ml b gy mp mq l mr ms">&gt;&gt;&gt; django_movie = ("Tarantino", 2012, 8.4, "Waltz &amp; DiCaprio")</span></pre><p id="9757" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们只是把多个变量，<em class="mt">也就是</em> <code class="fe mu mv mw ml b">"Tarantino"</code>，<code class="fe mu mv mw ml b">2012</code>，<code class="fe mu mv mw ml b">8.4</code>，<code class="fe mu mv mw ml b">"Waltz &amp; DiCaprio"</code>赋值到一个元组，<em class="mt">也就是</em> <code class="fe mu mv mw ml b">django_movie</code>。</p><p id="df8f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们尝试访问<code class="fe mu mv mw ml b">django_movie</code>的元素:</p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="e228" class="lm ln it ml b gy mp mq l mr ms">&gt;&gt;&gt; director = django_movie[0]<br/>&gt;&gt;&gt; year = django_movie[1]<br/>&gt;&gt;&gt; imdb_rating = django_movie[2]<br/>&gt;&gt;&gt; stars = django_movie[3]</span></pre><p id="25f0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">与其这样做，还有一种更Pythonic化的处理方式:<strong class="js iu">元组解包</strong>。</p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="d23a" class="lm ln it ml b gy mp mq l mr ms">&gt;&gt;&gt; director, year, imdb_rating, stars = django_movie</span></pre><p id="5735" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如您所见，<strong class="js iu">元组解包</strong>与<strong class="js iu">元组打包</strong>完全相反，因此我们将元组的每个元素分配给多个变量。事实上，<strong class="js iu">元组解包</strong>在Python中与一个元组的多次赋值有着相同的含义。</p><p id="07e9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当然，在使用<strong class="js iu">元组解包</strong>时，有一定的规则必须遵守。请记住，变量的数量必须与元组的长度相同。如果元素的数量过多或过少，<strong class="js iu"> ValueError </strong>就会出现。</p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="0c4e" class="lm ln it ml b gy mp mq l mr ms">&gt;&gt;&gt; director, year, imdb_rating = django_movie</span></pre><p id="60ee" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">输出:</strong></p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="55f8" class="lm ln it ml b gy mp mq l mr ms">Traceback (most recent call last):<br/>  File "&lt;input&gt;", line 1, in &lt;module&gt;<br/>ValueError: too many values to unpack (expected 3)</span></pre><p id="03d5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它说我们试图将一个较大的元组分解成较小数量的变量。</p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="993c" class="lm ln it ml b gy mp mq l mr ms">&gt;&gt;&gt; director, scenarist, year, imdb_rating, stars = django_movie</span></pre><p id="cce2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">输出:</strong></p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="ffac" class="lm ln it ml b gy mp mq l mr ms">Traceback (most recent call last):<br/>  File "&lt;input&gt;", line 1, in &lt;module&gt;<br/>ValueError: not enough values to unpack (expected 5, got 4)</span></pre><p id="75e8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个错误告诉我们，我们试图将一个较小的元组解包成更多的变量。</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h2 id="e975" class="lm ln it bd lo lp lq dn lr ls lt dp lu kb lv lw lx kf ly lz ma kj mb mc md me bi translated">带有下划线“_”的不需要的项目</h2><p id="855f" class="pw-post-body-paragraph jq jr it js b jt mf jv jw jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn im bi translated">下划线<code class="fe mu mv mw ml b">_</code>代表你不关心其值的变量。换句话说，它们是什么并不重要。</p><p id="dddb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">假设您不会在项目中使用<code class="fe mu mv mw ml b">imdb_rating</code>。在这种情况下，你可以用<code class="fe mu mv mw ml b">_</code>来表明你对<code class="fe mu mv mw ml b">imdb_rating</code>变量的值不感兴趣。</p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="3901" class="lm ln it ml b gy mp mq l mr ms">&gt;&gt;&gt; director, year, _, stars = django_movie</span></pre><p id="0f78" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">请记住，<code class="fe mu mv mw ml b">_</code>是一个有效的变量名，而不是Python中的特殊关键字，所以它仍然保存着<code class="fe mu mv mw ml b">imdb_rating</code>的值。</p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="af44" class="lm ln it ml b gy mp mq l mr ms">&gt;&gt;&gt; print(_)</span></pre><p id="54e7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">输出:</strong></p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="3a1d" class="lm ln it ml b gy mp mq l mr ms">8.4</span></pre><p id="68a6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果想只保留<code class="fe mu mv mw ml b">director</code>和<code class="fe mu mv mw ml b">stars</code>怎么办？然后，您将省略<code class="fe mu mv mw ml b">year</code>和<code class="fe mu mv mw ml b">imdb_rating</code>，对它们分别使用<code class="fe mu mv mw ml b">_</code>。</p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="1f5b" class="lm ln it ml b gy mp mq l mr ms">&gt;&gt;&gt; director, _, _, stars = django_movie</span></pre><p id="86a2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您可以使用<code class="fe mu mv mw ml b">_</code>指定您想要忽略的所有值。</p><p id="ff91" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但这看起来不妙。对吗？</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h2 id="61e0" class="lm ln it bd lo lp lq dn lr ls lt dp lu kb lv lw lx kf ly lz ma kj mb mc md me bi translated">用星号' * '运算符扩展解包</h2><p id="c615" class="pw-post-body-paragraph jq jr it js b jt mf jv jw jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn im bi translated"><code class="fe mu mv mw ml b">*</code>操作符用于扩展解包。</p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="d693" class="lm ln it ml b gy mp mq l mr ms">&gt;&gt;&gt; director, *_, stars = django_movie</span></pre><p id="c68d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们可以打印出它们的值来看看发生了什么。</p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="c9ac" class="lm ln it ml b gy mp mq l mr ms">&gt;&gt;&gt; print(director)<br/>&gt;&gt;&gt; print(stars)</span></pre><p id="7cb2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">输出:</strong></p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="5545" class="lm ln it ml b gy mp mq l mr ms">Tarantino<br/>Waltz &amp; DiCaprio</span></pre><p id="6c3c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们看进一步的例子。</p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="d388" class="lm ln it ml b gy mp mq l mr ms">&gt;&gt;&gt; numbers = (1, 2, 3, 4, 5)<br/>&gt;&gt;&gt; first, *others = numbers<br/>&gt;&gt;&gt; print(first)<br/>&gt;&gt;&gt; print(others)</span></pre><p id="185e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">输出:</strong></p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="3926" class="lm ln it ml b gy mp mq l mr ms">1<br/>[2, 3, 4, 5]</span></pre><p id="edcd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">注意，当我们使用<code class="fe mu mv mw ml b">*</code>操作符时，返回的是一个列表，而不是一个元组。</p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="8bf3" class="lm ln it ml b gy mp mq l mr ms">&gt;&gt;&gt; first, *others, last = numbers<br/>&gt;&gt;&gt; print(first)<br/>&gt;&gt;&gt; print(others)<br/>&gt;&gt;&gt; print(last)</span></pre><p id="7e8f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">输出:</strong></p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="3c49" class="lm ln it ml b gy mp mq l mr ms">1<br/>[2, 3, 4]<br/>5</span></pre><p id="738b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后一个例子:</p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="0dcb" class="lm ln it ml b gy mp mq l mr ms">&gt;&gt;&gt; *others, last = numbers<br/>&gt;&gt;&gt; print(others)<br/>&gt;&gt;&gt; print(last)</span></pre><p id="a5d6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">输出:</strong></p><pre class="kp kq kr ks gt mk ml mm mn aw mo bi"><span id="0f1b" class="lm ln it ml b gy mp mq l mr ms">[1, 2, 3, 4]<br/>5</span></pre></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><p id="57da" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">希望这篇文章对你有用。</p><p id="17cc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您可能感兴趣的另一篇有用的文章:</p><div class="mx my gp gr mz na"><a href="https://python.plainenglish.io/9-python-tricks-to-become-a-better-data-scientist-eb26970b4160" rel="noopener  ugc nofollow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd iu gy z fp nf fr fs ng fu fw is bi translated">成为更好的数据科学家的9个Python技巧</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">你应该知道这些可怕的技巧，以便拥有更好的数据科学家职业生涯</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">python .平原英语. io</p></div></div><div class="nj l"><div class="nk l nl nm nn nj no ky na"/></div></div></a></div></div></div>    
</body>
</html>