<html>
<head>
<title>How do you write a unit test case? What you must know before starting a unit test in Angular!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何编写单元测试用例？在Angular中开始单元测试之前你必须知道的事情！</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-do-you-write-a-unit-test-case-what-you-must-know-before-starting-a-unit-test-in-angular-f1174f437cb6?source=collection_archive---------5-----------------------#2021-01-29">https://levelup.gitconnected.com/how-do-you-write-a-unit-test-case-what-you-must-know-before-starting-a-unit-test-in-angular-f1174f437cb6?source=collection_archive---------5-----------------------#2021-01-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9212" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">角度单位测试</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/62f1d0deb852158b37e77569ffcde439.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dF7M8aQh15VItbMuJdqM2A.png"/></div></div></figure><p id="a610" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">通常，当我们第一次加入angular应用程序任务时，我们开始学习Angular，这不是很快就能学会的，你必须为每个编码的功能编写一个单元测试来完成你的用户故事。通过我的经验，我注意到几乎每个Angular初学者都开始复制/粘贴现有的单元测试，而不理解后面是什么。当然，随着时间的推移，我们最终会有一些奇怪的代码，这些代码在测试单元中是逻辑上不需要的。</p><p id="a043" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当我开始调查这个过程中出了什么问题时，我发现主要有两个原因。第一，是时间，我是说期限问题。第二，缺乏询问信息或以正确方式做事情的快速培训。</p><p id="6b27" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这就是为什么我决定写这篇文章，作为一个快速指南，在几分钟内有一个基本的深刻理解，这将帮助你肯定首先，理解Angular中的单元测试，并为你开发的功能编写单元测试代码。</p><p id="c460" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Angular中的单元测试可能看起来很复杂，而且要花很多时间，但是如果你对它的工作原理有一个清晰的概念，你会发现测试很容易也很快。</p><p id="5a32" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这篇文章将会给你一个在Angular中进行单元测试的平稳着陆。因此，这给了你理解任何已经编码的测试和编写你自己的测试的基础。</p><p id="efe0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">本文的计划如下:</p><ul class=""><li id="e3dc" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated"><strong class="kw iu"> <em class="lz">了解测试骨骼</em> </strong></li><li id="2981" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi translated"><strong class="kw iu"> <em class="lz">关键字了解进行异步测试的</em> </strong></li><li id="a169" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi translated"><strong class="kw iu"> <em class="lz">关键字了解模板和HTML测试</em> </strong></li><li id="1c22" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi translated"><strong class="kw iu"> <em class="lz">外卖</em> </strong></li></ul><p id="c8fe" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">拿一个☕和你的📝让我们开始吧(ง ل͜ )ง</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="62ae" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">理解测试框架</h1><p id="3fe5" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">在深入探讨之前，我们需要了解一下角测试骨架。这真的很重要，因为如果你不理解测试是如何在幕后运行的，什么时候是异步或同步的，等等，有些bug是无法修复的。</p><p id="c1a6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">下面是一个简单单元测试的框架图，它验证了当前是否创建了一个组件:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/eb43a01c932a9678f7522177fbe85943.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*54wQkrLUDjH5NN-nLVddug.png"/></div></div></figure><p id="5a1d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是每个组件应该验证它是否被正确初始化和创建的初始测试。(如果你想复制代码，这里有一个git版本)</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="cc93" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们开始吧。</p><h2 id="ced7" class="nm mn it bd mo nn no dn ms np nq dp mw ld nr ns my lh nt nu na ll nv nw nc nx bi translated">第一步:描述</h2><p id="4d62" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">Describe bloc顾名思义是对它所包含的单元测试集的描述。在一个大组件中，我们找到多个描述块来按类别组织测试。因此，我们将有主描述块(组件的父描述)和描述几个大功能的子块，来进行按主题或类别分组的单元测试。</p><blockquote class="ny nz oa"><p id="ef44" class="ku kv lz kw b kx ky ju kz la lb jx lc ob le lf lg oc li lj lk od lm ln lo lp im bi translated">所以，把<code class="fe oe of og oh b">describe</code>想象成打开一个测试块或者一个测试集的<code class="fe oe of og oh b">{</code>。</p></blockquote><h2 id="5d7c" class="nm mn it bd mo nn no dn ms np nq dp mw ld nr ns my lh nt nu na ll nv nw nc nx bi translated">步骤2和3: BeforeEach(异步)与BeforeEach</h2><p id="48c8" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated"><code class="fe oe of og oh b">BeforeEach</code> bloc旨在设置实例和正确的配置，这个bloc在每次测试之前运行并提供必要的实例，不管是服务还是组件的实例都要测试。有时我们还会加上AfterEach来收拾残局。</p><p id="ad28" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你注意到我们有两个BeforeEach blocs。事实上，我们可以在每个集团之前将两个集团连接成一个集团。分成两个块的原因是为了理解何时应该在BeforeEach中使用异步。</p><p id="0a00" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">使用<strong class="kw iu"> <em class="lz"> async </em> </strong>测试区域是强制性的，以告诉测试运行者我们解析了这个块中的异步和同步编译组件。</p><ul class=""><li id="08a0" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated"><strong class="kw iu">现在我们来谈谈异步部分(2号)</strong></li></ul><p id="38b6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这一步至关重要。这是我们配置我们需要的组件、服务或管道的地方…等等。</p><p id="98e6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">可以把它看作是向使用组件或服务的模块添加一个必要的导入。在模块中，我们声明组件，这样我们就知道它的存在。我们提供它正常工作所需的必要服务等等。这里也是一样，因为测试必须是自主的。我们需要声明组件并提供初始化组件或服务所需的任何东西…等等。</p><p id="09a7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> <em class="lz"> /！\提示:</em> </strong>我这里的提示是使用Angular CLI来生成测试。当您准备好测试您的功能时，请检查组件的构造函数或声明。这将告诉您需要为组件提供什么。</p><p id="f478" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> <em class="lz"> /！\提示:</em> </strong>另一个提示，只需要声明组件，只提供服务。所以如果你正在写一个服务测试，不需要<code class="fe oe of og oh b">declarations:[NameComponent]</code>。</p><ul class=""><li id="ac9f" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated"><strong class="kw iu">每个之前(数字3) </strong></li></ul><p id="d9a5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">固定物，是什么？</strong></p><p id="0f30" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">夹具，你在每次测试中肯定会用到的东西之一。因此，你需要理解它，了解它的力量！</p><blockquote class="ny nz oa"><p id="db7a" class="ku kv lz kw b kx ky ju kz la lb jx lc ob le lf lg oc li lj lk od lm ln lo lp im bi translated">fixture =包含在ComponentFixture类型中的组件实例</p></blockquote><p id="d603" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">什么是组件夹具类型？</p><p id="75f7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是一种实用程序类型，可帮助您访问关于组件的所有所需内容:</p><ul class=""><li id="f869" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated">组件实例</li><li id="5bab" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi translated">允许您查询DOM的调试元素</li><li id="3813" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi translated">触发变化检测周期</li><li id="a0de" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi">….</li></ul><h2 id="5446" class="nm mn it bd mo nn no dn ms np nq dp mw ld nr ns my lh nt nu na ll nv nw nc nx bi translated">步骤4:单元测试</h2><p id="b3f3" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">您可能已经注意到，单元测试以<code class="fe oe of og oh b">it</code>开始，后面是一个小描述。当我们运行上面的测试时，我们应该看到测试名为<strong class="kw iu"><em class="lz">‘它应该创建’。</em> </strong></p><p id="79e4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们可以想创建多少就创建多少，我们需要用<code class="fe oe of og oh b">it</code>进行单元测试。如果我们有很多测试，建议用关键字<code class="fe oe of og oh b">describe</code>将它们归类到一个主题或功能名称下……等等。</p><p id="d3d5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> <em class="lz"> /！\提示:</em> </strong>我在开发时使用的一个提示是<strong class="kw iu"> <em class="lz"> fit。</em> </strong>合体的意思是<strong class="kw iu"> <em class="lz">焦点+它。这在编写测试代码时非常实用，因为它告诉测试运行人员关注它，并首先运行它。我通常创建所有的<strong class="kw iu"> <em class="lz">它是</em> </strong>我需要测试一个组件，这样我就不会忘记任何功能。跑完全程会白白花费你这么多时间。fit将关注您正在编写的当前测试，如果有任何错误，将立即显示出来。当然，当我做完测试时，我会把注意力从测试上移开。</em></strong></p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="7f82" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">在beforeEach中设置测试时要知道的关键字</h1><ul class=""><li id="1290" class="lq lr it kw b kx ne la nf ld oi lh oj ll ok lp lv lw lx ly bi translated"><strong class="kw iu">试验台</strong></li></ul><p id="70c3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">该类主要用于在角度测试中配置测试模块。当您想要测试的组件有依赖关系时，这是非常重要的。我们用与普通<code class="fe oe of og oh b">NgModule</code>相同的方式配置它。</p><p id="edfe" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在下面的例子中，我正在测试声明中的<code class="fe oe of og oh b">LoginComponent</code>,这个组件使用了<code class="fe oe of og oh b">AuthService</code>依赖，所以我们需要将它提供给测试模块。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="f792" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">有时我们需要访问一个依赖项来测试一个功能。在这种情况下，我们也使用TestBed类来测试它。</p><p id="8e14" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您可能已经注意到，我们也使用TestBed类来创建fixture。</p><p id="316f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这里有一个例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="fa9c" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">测试异步功能要知道的关键词</h1><ul class=""><li id="e2cd" class="lq lr it kw b kx ne la nf ld oi lh oj ll ok lp lv lw lx ly bi translated"><strong class="kw iu"> <em class="lz">茉莉方式:</em> </strong>茉莉的<code class="fe oe of og oh b">done</code>功能</li></ul><p id="30cc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><code class="fe oe of og oh b">done</code>函数是Jasmine中处理异步代码的内置方式。这是通过在测试中传递内置函数(<code class="fe oe of og oh b">done</code>)来实现的。以下示例显示了它的工作原理:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><ul class=""><li id="bdff" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated"><strong class="kw iu"><em class="lz"/></strong>:<code class="fe oe of og oh b">async</code>和<code class="fe oe of og oh b">whenStable</code></li></ul><p id="ffbc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">另一个和我们使用Jasmine的<code class="fe oe of og oh b">done</code>函数一样的方法是使用<code class="fe oe of og oh b">whenStable</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="b9a0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这两种方法解决了异步调用，所以基于最可读和可理解的，你可以选择你想要的解决方案，但是在你需要学习另一种方法之前，给我们更多的控制并使代码可读。</p><ul class=""><li id="885f" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated"><code class="fe oe of og oh b">fakeAsync</code> &amp; <code class="fe oe of og oh b">tick</code>(推进时钟)</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/8ce3477e67261c083249f276c5c344db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*tuGLCxK5a6VFDDCNbkF2OQ.gif"/></div></div></figure><p id="c904" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当我有异步代码要测试时，这是我用得最多的方法。它简单而高效。首先，<code class="fe oe of og oh b">fakeAsyc</code>马上告诉你我们在一个异步代码中。因此，无论何时使用异步代码，都需要将其包装在fakeAsync块中。第二，包装测试是不够的，因为我们仍然需要知道<strong class="kw iu"> <em class="lz">何时</em> </strong>我的异步调用被解析以测试结果。这可以通过使用<code class="fe oe of og oh b">tick</code>功能来完成，该功能会为您提前时钟。所以在自动调用<code class="fe oe of og oh b">tick</code>之后，你的承诺就解决了，之后你就可以测试了。</p><p id="2d1c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">下面是一个例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><ul class=""><li id="c8a7" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated"><code class="fe oe of og oh b">fakeAsync</code> &amp; <code class="fe oe of og oh b">flush</code>(确保FakeAsync的所有排队定时器为空或已解析)</li></ul><p id="3b16" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">还有一个功能可以提前时间，就是<code class="fe oe of og oh b">flush</code>功能。<code class="fe oe of og oh b">tick()</code>和<code class="fe oe of og oh b">flush()</code>的区别在于:</p><p id="b5a2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">&gt;<code class="fe oe of og oh b">tick()</code>将向前移动到您的第一个异步呼叫得到解决的时间。</p><p id="220b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">&gt;<code class="fe oe of og oh b">flush()</code>将移动到结束，所有异步调用结束的时间。</p><p id="b6e4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">其用法与<code class="fe oe of og oh b">tick()</code>功能相同。</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="a271" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">测试模板和HTML需要知道的关键词</h1><ul class=""><li id="13cb" class="lq lr it kw b kx ne la nf ld oi lh oj ll ok lp lv lw lx ly bi translated">debug element . query all(by . CSS(' CSS class '))</li><li id="5ffb" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi translated">查询选择器</li><li id="d6ed" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi translated">debug element . native element . outer html</li><li id="1ab0" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi translated">调试元素</li><li id="950d" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi">…</li></ul></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="5edf" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">外卖</h1><ul class=""><li id="e64f" class="lq lr it kw b kx ne la nf ld oi lh oj ll ok lp lv lw lx ly bi translated"><code class="fe oe of og oh b">detectChanges()</code>是触发变更检测周期和查看结果的强制选项。</li><li id="4fc6" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi translated">出于组织的原因，编写待定测试将有助于您了解需要编写多少测试，并且不会忘记任何单元测试。这也将帮助您估计完成整个测试套件需要多少时间。</li><li id="e7bf" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi translated">当您在<code class="fe oe of og oh b">detectChanges()</code>之后看不到您想要的更改时，检查<code class="fe oe of og oh b">detectChanges()</code>调用的顺序或者您是否正在测试一个异步代码。</li><li id="0594" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi translated">测试您的测试是否因为异步操作而失败的临时技巧之一是使用setTimeout(()，5000)来检查测试是否通过。你可能需要更多的时间。</li><li id="8e72" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi translated">当你进行异步测试时，你应该使用带有<code class="fe oe of og oh b">tick</code> API或者<code class="fe oe of og oh b">flush</code>的角度<code class="fe oe of og oh b">fakeAsync</code>测试区域。</li><li id="f5df" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi translated">使用<code class="fe oe of og oh b">fit</code>而不是<code class="fe oe of og oh b">it</code>来告诉测试运行人员，出于编码/调试的原因，您想要专注于一个特定的测试。</li></ul></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><p id="63f8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">亲爱的读者朋友们，感谢你们的支持和宝贵时间。我希望这对你有用和有帮助。</p><p id="91d5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">关注我上</strong> <a class="ae om" href="https://medium.com/@famzil/" rel="noopener"> <strong class="kw iu">中</strong> </a> <strong class="kw iu">，</strong><a class="ae om" href="https://www.linkedin.com/in/fatima-amzil-9031ba95/" rel="noopener ugc nofollow" target="_blank"><strong class="kw iu">Linkedin</strong></a><strong class="kw iu">，</strong> <a class="ae om" href="https://www.facebook.com/The-Front-End-World" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu">【脸书</strong> </a> <strong class="kw iu">，</strong><a class="ae om" href="https://twitter.com/FatimaAMZIL9" rel="noopener ugc nofollow" target="_blank"><strong class="kw iu">Twitter</strong></a><strong class="kw iu">查看更多文章。</strong></p><p id="cfa5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">回头见(ﾉ◕ヮ◕)ﾉ*:･ﾟ✧)</p><p id="fa7c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">快速辅助存贮器(Fast Auxiliary Memory)</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f62adcd181b639fcac9aef9f5dd563eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DOGpRsEyqYSApVFLFX6AFQ.png"/></div></div></figure></div></div>    
</body>
</html>