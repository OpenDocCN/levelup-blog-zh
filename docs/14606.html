<html>
<head>
<title>Write Go like a senior engineer</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åƒé«˜çº§å·¥ç¨‹å¸ˆä¸€æ ·å†™å›´æ£‹</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/write-go-like-a-senior-engineer-eee7f03a1883?source=collection_archive---------0-----------------------#2022-12-12">https://levelup.gitconnected.com/write-go-like-a-senior-engineer-eee7f03a1883?source=collection_archive---------0-----------------------#2022-12-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4ec8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">å½“æˆ‘å¼€å§‹å†™å›´æ£‹çš„æ—¶å€™ï¼Œæˆ‘å¸Œæœ›æˆ‘çŸ¥é“çš„æ˜¯</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7efc7984e7883cdb5b45d6900f06c4d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_88b4dUUI3F_Yail.jpg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">Renee Frenchï¼Œ<a class="ae ky" href="https://creativecommons.org/licenses/by/3.0" rel="noopener ugc nofollow" target="_blank"> CC BY 3.0 </a>ï¼Œé€šè¿‡ç»´åŸºå…±äº«</figcaption></figure><p id="150e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2018å¹´å¼€å§‹ä¸“ä¸šå†™å›´æ£‹ã€‚ä»¥ä¸‹æ˜¯æˆ‘å¼€å§‹æ—¶å¸Œæœ›èƒ½å‘Šè¯‰è‡ªå·±çš„è¯ã€‚</p><h1 id="ca6e" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">Goæ˜¯æŒ‰å€¼ä¼ é€’çš„</h1><p id="0b19" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">Goå®Œå…¨æ˜¯æŒ‰å€¼ä¼ é€’çš„ã€‚è¿™æ„å‘³ç€æ¯ä¸ªå‡½æ•°æ¥æ”¶ä¸€ä¸ªä½ ä¼ å…¥çš„å€¼çš„å‰¯æœ¬ã€‚æ²¡æœ‰ä¾‹å¤–ã€‚</p><p id="bf6a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ç®—æ˜¯å§ã€‚</p><p id="22af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æ‚¨ä¹Ÿå¯ä»¥ä¼ é€’æŒ‡é’ˆ(ä»æŠ€æœ¯ä¸Šè®²ï¼Œæ‚¨ä¼ é€’çš„æ˜¯æŒ‡é’ˆçš„å€¼â€”åœ°å€)ã€‚é€šè¿‡Goçš„å¼ºç±»å‹ï¼Œä½ å¯ä»¥å¯¹åº•å±‚æŒ‡é’ˆè¿›è¡Œç±»å‹æ£€æŸ¥ã€‚</p><p id="eb63" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å€¼æ¥ä¼ é€’<code class="fe mt mu mv mw b">rect</code>ç»“æ„ã€‚è¯¥ç»“æ„è¿›å…¥å‡½æ•°ï¼Œæ‰€æœ‰æ“ä½œéƒ½ä¿®æ”¹ä¼ å…¥çš„å€¼ï¼Œä½†åŸå§‹å¯¹è±¡ä¿æŒä¸å˜ï¼Œå› ä¸ºå®ƒä¸æ˜¯é€šè¿‡å¼•ç”¨ä¼ é€’çš„ã€‚</p><pre class="kj kk kl km gt mx mw my bn mz na bi"><span id="346e" class="nb lw it mw b be nc nd l ne nf">// https://go.dev/play/p/TAiWwsOZ_n6<br/>package main<br/><br/>import "fmt"<br/><br/>type Rectangle struct {<br/>    Width  int<br/>    Height int<br/>}<br/><br/>func DoubleHeight(rect Rectangle) {<br/>    rect.Height = rect.Height * 2<br/>}<br/><br/>func main() {<br/>    rect := Rectangle{<br/>        Width:  10,<br/>        Height: 3,<br/>    }<br/><br/>    // this won't actually modify rect<br/>    DoubleHeight(rect)<br/><br/>    fmt.Println("Width", rect.Width)<br/>    fmt.Println("Height", rect.Height)<br/>}</span></pre><p id="6f82" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è¿™ä¸ªå‡½æ•°æ²¡æœ‰åšæˆ‘ä»¬æƒ³è¦å®ƒåšçš„äº‹æƒ…ã€‚è¯¥å¯¹è±¡æœªè¢«æ›´æ–°ã€‚</p><p id="7bd7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æŒ‡å‘<code class="fe mt mu mv mw b">rect</code>çš„æŒ‡é’ˆä½œä¸º<code class="fe mt mu mv mw b">DoubleHeight</code>å‡½æ•°çš„å‚æ•°ï¼Œå¹¶é€šè¿‡å¼•ç”¨æœ‰æ•ˆåœ°ä¼ é€’<code class="fe mt mu mv mw b">rect</code> <em class="ms">ã€‚</em></p><pre class="kj kk kl km gt mx mw my bn mz na bi"><span id="dc5f" class="nb lw it mw b be nc nd l ne nf">// https://go.dev/play/p/7L5QQtvzdDU<br/>package main<br/><br/>import "fmt"<br/><br/>type Rectangle struct {<br/>    Width  int<br/>    Height int<br/>}<br/><br/>func DoubleHeight(rect *Rectangle) {<br/>    rect.Height = rect.Height * 2<br/>}<br/><br/>func main() {<br/>    rect := Rectangle{<br/>        Width:  10,<br/>        Height: 3,<br/>    }<br/><br/>    // this modifies rect<br/>    DoubleHeight(&amp;rect)<br/><br/>    fmt.Println("Width", rect.Width)<br/>    fmt.Println("Height", rect.Height)<br/>}</span></pre><h1 id="20e2" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">ä½¿ç”¨(ä½†ä¸è¦æ»¥ç”¨)æŒ‡é’ˆ</h1><p id="5787" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">ä¸æŒ‡é’ˆç›¸å…³çš„æ“ä½œç¬¦æœ‰ä¸¤ä¸ª:<code class="fe mt mu mv mw b">*</code>å’Œ<code class="fe mt mu mv mw b">&amp;</code>ã€‚</p><h2 id="ed91" class="ng lw it bd lx nh ni dn mb nj nk dp mf li nl nm mh lm nn no mj lq np nq ml nr bi translated"><code class="fe mt mu mv mw b">*</code>æ“ä½œå‘˜</h2><p id="e967" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated"><code class="fe mt mu mv mw b">*</code>æ“ä½œç¬¦è¢«ç§°ä¸ºâ€œæŒ‡é’ˆâ€æ“ä½œç¬¦ã€‚ç±»å‹<code class="fe mt mu mv mw b">*Rectangle</code>æ˜¯ä¸€ä¸ªæŒ‡å‘<code class="fe mt mu mv mw b">Rectangle</code>å®ä¾‹çš„æŒ‡é’ˆã€‚å£°æ˜ä¸€ä¸ªç±»å‹ä¸º<code class="fe mt mu mv mw b">*Rectangle</code>çš„å‚æ•°æ„å‘³ç€å‡½æ•°æ¥å—â€œä¸€ä¸ªæŒ‡å‘çŸ©å½¢å®ä¾‹çš„æŒ‡é’ˆâ€ã€‚</p><pre class="kj kk kl km gt mx mw my bn mz na bi"><span id="a7be" class="nb lw it mw b be nc nd l ne nf">var rect *Rectangle</span></pre><p id="cccc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æŒ‡é’ˆçš„é›¶å€¼æ˜¯<code class="fe mt mu mv mw b">nil</code>ã€‚åœ¨å¾ˆå¤šæƒ…å†µä¸‹è¶…çº§æœ‰ç”¨ï¼ä½†æ˜¯å½“ä½ è¯•å›¾åœ¨ä¸€ä¸ªç©ºæŒ‡é’ˆä¸Šè°ƒç”¨å‡½æ•°æ—¶ï¼Œè¿™é€šå¸¸ä¼šå¯¼è‡´<code class="fe mt mu mv mw b">panic</code>è¢«è°ƒç”¨ã€‚è°ƒè¯•èµ·æ¥å¾ˆç³Ÿç³•(ç¨åä¼šè¯¦ç»†ä»‹ç»)ã€‚</p><h2 id="ee20" class="ng lw it bd lx nh ni dn mb nj nk dp mf li nl nm mh lm nn no mj lq np nq ml nr bi translated">&amp;è¿ç®—ç¬¦</h2><p id="8fd6" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated"><code class="fe mt mu mv mw b">&amp;</code>æ“ä½œç¬¦(ç§°ä¸ºâ€œåœ°å€â€æ“ä½œç¬¦)ç”Ÿæˆä¸€ä¸ªæŒ‡å‘å…¶æ“ä½œæ•°çš„æŒ‡é’ˆã€‚</p><pre class="kj kk kl km gt mx mw my bn mz na bi"><span id="8713" class="nb lw it mw b be nc nd l ne nf">rect := Rectangle{<br/>    Width:  10,<br/>    Height: 3,<br/>}<br/>pntr := &amp;rect</span></pre><p id="3a7a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è¦è·å¾—æŒ‡é’ˆçš„åŸºç¡€å€¼ï¼Œä½¿ç”¨<code class="fe mt mu mv mw b">*</code>æ“ä½œç¬¦ã€‚è¿™è¢«ç§°ä¸ºâ€œå–æ¶ˆæŒ‡é’ˆå¼•ç”¨â€</p><pre class="kj kk kl km gt mx mw my bn mz na bi"><span id="f652" class="nb lw it mw b be nc nd l ne nf">// read rect through the pointer<br/>fmt.Println(*pntr)<br/><br/>// set rect through the pointer<br/>*pntr = Rectangle{<br/>    Width: 20,<br/>    Height: 4,<br/>}</span></pre><p id="3f85" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å¦‚æœä½ æƒ³çŸ¥é“â€œæˆ‘åº”è¯¥åœ¨è¿™é‡Œä½¿ç”¨æŒ‡é’ˆå—ï¼Ÿâ€ç­”æ¡ˆå¾ˆå¯èƒ½æ˜¯â€œæ˜¯çš„ã€‚â€å¦‚æœ‰ç–‘é—®ï¼Œè¯·ä½¿ç”¨æŒ‡é’ˆã€‚</p><h2 id="4e68" class="ng lw it bd lx nh ni dn mb nj nk dp mf li nl nm mh lm nn no mj lq np nq ml nr bi translated">é›¶æŒ‡é’ˆå–æ¶ˆå¼•ç”¨é”™è¯¯</h2><p id="83d7" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">æˆ‘å­˜åœ¨çš„ç¥¸æ ¹ã€‚</p><p id="fece" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æœ‰æ—¶å½“ä½ ä½¿ç”¨æŒ‡é’ˆæ—¶ï¼Œä½ ä¼šå¾—åˆ°è¿™ä¸ª<code class="fe mt mu mv mw b">panic</code>å®Œå…¨å…³é—­ä½ çš„ç¨‹åº:</p><pre class="kj kk kl km gt mx mw my bn mz na bi"><span id="245f" class="nb lw it mw b be nc nd l ne nf">panic: runtime error: invalid memory address or nil pointer dereference</span></pre><p id="1f24" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è¿™æ˜¯å› ä¸ºä½ è¯•å›¾å–æ¶ˆå¼•ç”¨ä¸€ä¸ªæŒ‡é’ˆ<code class="fe mt mu mv mw b">nil</code>ã€‚</p><pre class="kj kk kl km gt mx mw my bn mz na bi"><span id="7640" class="nb lw it mw b be nc nd l ne nf">// https://go.dev/play/p/XjtkrEudRe9<br/>package main<br/><br/>import "fmt"<br/><br/>type Rectangle struct {<br/>    Width  int<br/>    Height int<br/>}<br/><br/>func (r *Rectangle) Area() int {<br/>    return r.Width * r.Height<br/>}<br/><br/>func main() {<br/>    var rect *Rectangle      // default value is nil<br/>    fmt.Println(rect.Area()) // this will panic<br/>}</span></pre><p id="a6d3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä¿®å¤å¾ˆå®¹æ˜“ã€‚åœ¨å¯¹æŒ‡é’ˆå€¼è°ƒç”¨æ–¹æ³•ä¹‹å‰ï¼Œå¯ä»¥æ£€æŸ¥æŒ‡é’ˆå€¼ã€‚</p><pre class="kj kk kl km gt mx mw my bn mz na bi"><span id="7706" class="nb lw it mw b be nc nd l ne nf">// https://go.dev/play/p/VM0fdzZjiq_Y<br/>package main<br/><br/>import "fmt"<br/><br/>type Rectangle struct {<br/>    Width  int<br/>    Height int<br/>}<br/><br/>func (r *Rectangle) Area() int {<br/>    return r.Width * r.Height<br/>}<br/><br/>func main() {<br/>    var rect *Rectangle<br/><br/>    if rect != nil {<br/>        fmt.Println(rect.Area())<br/>    } else {<br/>        fmt.Println("rect is nil!")<br/>    }<br/>}</span></pre><p id="3317" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è¿™äº›é”™è¯¯é€šå¸¸å¾ˆéš¾æ’é™¤ï¼Œå®ƒä»¬èŠ±è´¹äº†æˆ‘<em class="ms">å°æ—¶</em>çš„æ—¶é—´æ¥å¯»æ‰¾bugã€‚å¦‚æœä½ å†³å®šä½¿ç”¨æŒ‡é’ˆï¼Œæ€»æ˜¯<em class="ms">æ€»æ˜¯</em>æ£€æŸ¥é›¶å€¼ï¼</p><h1 id="51f7" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">åœ¨ä½¿ç”¨æ¥å£çš„åœ°æ–¹å£°æ˜æ¥å£</h1><p id="8a97" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">å¥½çš„ã€‚æŒ‡é’ˆåœ¨å›´æ£‹ä¸­éå¸¸é‡è¦ã€‚å®ƒä»¬å¹¶ä¸æ˜¯å”¯ä¸€çš„ã€‚ä½†æ˜¯å½“JSæˆ–Pythonå·¥ç¨‹å¸ˆè½¬æ¢æ—¶ï¼Œæ¥å£çœŸçš„ä¼šæŠŠä»–ä»¬æå®ã€‚</p><p id="3586" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Goä¸­çš„æ¥å£å°±åƒä¸€ä¸ªçº¦å®šï¼Œå®ƒæŒ‡å®šäº†ä¸€ç»„æ–¹æ³•ï¼Œç±»å‹<em class="ms">å¿…é¡»</em>å®ç°è¿™äº›æ–¹æ³•æ‰èƒ½å®Œæˆçº¦å®šã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªåä¸º<code class="fe mt mu mv mw b">Reader</code>çš„æ¥å£ï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ª<code class="fe mt mu mv mw b">Read()</code>æ–¹æ³•ï¼Œé‚£ä¹ˆä»»ä½•å®ç°äº†<code class="fe mt mu mv mw b">Read()</code>æ–¹æ³•çš„ç±»å‹éƒ½è¢«ç§°ä¸ºå®ç°äº†<code class="fe mt mu mv mw b">Reader</code>æ¥å£ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ä»»ä½•éœ€è¦<code class="fe mt mu mv mw b">Reader</code>çš„åœ°æ–¹ä½¿ç”¨ã€‚</p><p id="2720" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Goä¸­æ¥å£çš„ä¸€ä¸ªå¾ˆé…·çš„åœ°æ–¹æ˜¯ä¸€ä¸ªç±»å‹å¯ä»¥å®ç°å¤šä¸ªæ¥å£ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æœ‰ä¸€ä¸ªåä¸º<code class="fe mt mu mv mw b">File</code>çš„ç±»å‹ï¼Œå®ƒå®ç°äº†<code class="fe mt mu mv mw b">Reader</code>å’Œ<code class="fe mt mu mv mw b">Writer</code>æ¥å£ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥åœ¨éœ€è¦<code class="fe mt mu mv mw b">Reader</code>æˆ–<code class="fe mt mu mv mw b">Writer</code>çš„ä»»ä½•åœ°æ–¹ä½¿ç”¨<code class="fe mt mu mv mw b">File</code>ï¼Œæˆ–è€…ç”šè‡³åœ¨éœ€è¦å®ç°è¿™ä¸¤ä¸ªæ¥å£çš„ä»»ä½•åœ°æ–¹ä½¿ç”¨ã€‚è¿™ä½¿å¾—ç¼–å†™çµæ´»ä¸”å¯é‡ç”¨çš„ä»£ç å˜å¾—å®¹æ˜“ã€‚</p><p id="d3a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Goä¸­æ¥å£çš„å¦ä¸€ä¸ªå¾ˆé…·çš„åœ°æ–¹æ˜¯ï¼Œä½ å¯ä»¥ç”¨å®ƒä»¬æ¥å®šä¹‰é€šç”¨çš„ç®—æ³•æˆ–å‡½æ•°æ¥å¤„ç†å¤šç§ç±»å‹ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ç¼–å†™ä¸€ä¸ªæ’åºå‡½æ•°ï¼Œå®ƒå°†ä¸€ä¸ª<code class="fe mt mu mv mw b">sort.Interface</code>ä½œä¸ºè¾“å…¥ï¼Œå¹¶ä¸”å¯ä»¥å¯¹å®ç°æ‰€éœ€æ–¹æ³•çš„ä»»ä½•ç±»å‹è¿›è¡Œæ’åºã€‚</p><pre class="kj kk kl km gt mx mw my bn mz na bi"><span id="e0e8" class="nb lw it mw b be nc nd l ne nf">package sort<br/><br/>type Interface interface{<br/>    Len()           int<br/>    Less (i , j)    bool<br/>    Swap(i , j int)<br/>}</span></pre><p id="f596" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è¿™ä½¿å¾—ç¼–å†™é«˜åº¦çµæ´»å’Œå¯å®šåˆ¶çš„ä»£ç å˜å¾—å®¹æ˜“ã€‚æ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰ç±»å‹(å¦‚<code class="fe mt mu mv mw b">UserList</code>æˆ–<code class="fe mt mu mv mw b">PostFeed</code>)å¹¶å®šä¹‰è¿™äº›æ–¹æ³•ï¼Œå¹¶å°†å…¶ç”¨äºæ ‡å‡†åº“ã€‚</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><h2 id="5a8c" class="ng lw it bd lx nh ni dn mb nj nk dp mf li nl nm mh lm nn no mj lq np nq ml nr bi translated">ç§˜å¯†æ­¦å™¨</h2><p id="b6ed" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">æˆ‘ä¸çŸ¥é“ä¸ºä»€ä¹ˆGoä¸èƒ½å¼€ç®±å³ç”¨ã€‚ä½†æ˜¯å®ƒæœ‰å¾ˆå¤šåŠŸèƒ½ä¸æ˜¯ç°æˆçš„(ä¾‹å¦‚é”™è¯¯å¤„ç†)ã€‚æˆ‘åªèƒ½å‡è®¾è¿™æ˜¯æœ‰æ„çš„è®¾è®¡ã€‚</p><p id="e292" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">é—®é¢˜æ˜¯è¿™æ ·çš„:</p><p id="1e1e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä½ å¦‚ä½•ä¿è¯ä¸€ä¸ªç»“æ„ç¬¦åˆä¸€ä¸ªæ¥å£çš„æ‰€æœ‰æ–¹æ³•ï¼Ÿ</p><pre class="kj kk kl km gt mx mw my bn mz na bi"><span id="39e8" class="nb lw it mw b be nc nd l ne nf">type SomeInterface interface {<br/>    Method()<br/>}<br/><br/>type Implementation struct{}<br/><br/>func (*Implementation) Method() { fmt.Println("Hello, World!") }<br/><br/>var _ SomeInterface = (*Implementation)(nil) // â† this is the line</span></pre><p id="1aa0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è¿™æœ€åä¸€è¡Œç¡®ä¿<code class="fe mt mu mv mw b">Implementation</code>æ»¡è¶³<code class="fe mt mu mv mw b">SomeInterface</code>çš„æ‰€æœ‰æ–¹æ³•ï¼Œå¦‚æœ<code class="fe mt mu mv mw b">SomeInterface</code>æ·»åŠ äº†<code class="fe mt mu mv mw b">Implementation</code>ä¸æ»¡è¶³çš„æ–¹æ³•ï¼Œ<em class="ms">å°†æ— æ³•ç¼–è¯‘</em>ã€‚</p><p id="559b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://go.dev/play/p/RTbbdlBitJE" rel="noopener ugc nofollow" target="_blank">æˆ‘å·²ç»ä¸ºè¿™ä¸ªæ¦‚å¿µåˆ›å»ºäº†ä¸€ä¸ªæ›´å®Œæ•´çš„æ¼”ç¤ºï¼Œä½ å¯ä»¥åœ¨go.dev â†’ </a>ä¸Šç©ç©</p><h1 id="7381" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">æ›´å–œæ¬¢æ¡Œé¢æµ‹è¯•ï¼Œä½†ä¸è¦è¿‡åº¦</h1><p id="1403" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">å½“ä½ æµ‹è¯•ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œä½ å®é™…ä¸Šåªæ˜¯æ”¹å˜äº†è¾“å…¥å’ŒæœŸæœ›è¾“å‡ºã€‚Goå…è®¸æ‚¨ä½¿ç”¨è¡¨æµ‹è¯•(æˆ–è¡¨é©±åŠ¨æµ‹è¯•)ä»¥ä¸€ç§éå¸¸ç›´æ¥çš„æ–¹å¼æ¥å®Œæˆè¿™é¡¹å·¥ä½œã€‚</p><p id="bc68" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è®©æˆ‘ä»¬ä»æˆ‘ä»¬æƒ³è¦æµ‹è¯•çš„ä»£ç å¼€å§‹ã€‚å®ƒæœ‰ç‚¹ä¹±ï¼Œä½†å®ƒåœ¨æˆ‘ä»¬çš„ç³»ç»Ÿä¸­è¿è¡Œç€ä¸€ä¸ªå…³é”®çš„åŠŸèƒ½ï¼Œæ‰€ä»¥åœ¨ä¸çŸ¥é“å®ƒç¡®å®å¦‚æˆ‘ä»¬æ‰€æ„¿çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸æƒ³ç¢°å®ƒã€‚</p><pre class="kj kk kl km gt mx mw my bn mz na bi"><span id="80b9" class="nb lw it mw b be nc nd l ne nf">package main<br/><br/>import "strings"<br/><br/>func ToSnakeCase(str string) string {<br/>    // step 0: handle empty string<br/>    if str == "" {<br/>        return ""<br/>    }<br/><br/>    // step 1: CamelCase to snake_case<br/>    for i := 0; i &lt; len(str); i++ {<br/>        if str[i] &gt;= 'A' &amp;&amp; str[i] &lt;= 'Z' {<br/>            if i == 0 {<br/>                str = strings.ToLower(string(str[i])) + str[i+1:]<br/>            } else {<br/>                str = str[:i] + "_" + strings.ToLower(string(str[i])) + str[i+1:]<br/>            }<br/>        }<br/>    }<br/><br/>    // step 2: remove spaces<br/>    str = strings.ReplaceAll(str, " ", "")<br/><br/>    // step 3: remove double-underscores<br/>    str = strings.ReplaceAll(str, "__", "_")<br/><br/>    return str<br/>}</span></pre><p id="8d53" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æˆ‘ä»¬å¯èƒ½å¸Œæœ›æµ‹è¯•å¤§èŒƒå›´çš„è¾“å…¥ï¼Œä»¥ç¡®ä¿å¾—åˆ°æ­£ç¡®çš„è¾“å‡ºã€‚ä¸è¦ä¸ºæ­¤ç¼–å†™å•ç‹¬çš„æµ‹è¯•ï¼Œè€Œæ˜¯ä½¿ç”¨è¡¨æ ¼æµ‹è¯•æ¥è·å¾—åŒæ ·çš„ç»“æœï¼Œä¸€ä¸ªæ›´æ¸…æ™°ã€æ›´æ˜“äºç»´æŠ¤çš„ç»“æœã€‚</p><pre class="kj kk kl km gt mx mw my bn mz na bi"><span id="bda9" class="nb lw it mw b be nc nd l ne nf"><br/>package main<br/><br/>import "testing"<br/><br/>func TestToSnakeCase(t *testing.T) {<br/>    type testCase struct {<br/>        description string<br/>        input       string<br/>        expected    string<br/>    }<br/><br/>    testCases := []testCase{<br/>        {<br/>            description: "empty string",<br/>            input:       "",<br/>            expected:    "",<br/>        },<br/>        {<br/>            description: "single word",<br/>            input:       "Hello",<br/>            expected:    "hello",<br/>        },<br/>        {<br/>            description: "two words (camel case)",<br/>            input:       "HelloWorld",<br/>            expected:    "hello_world",<br/>        },<br/>        {<br/>            description: "two words with space",<br/>            input:       "Hello World",<br/>            expected:    "hello_world",<br/>        },<br/>        {<br/>            description: "two words with space and underscore",<br/>            input:       "Hello_World",<br/>            expected:    "hello_world",<br/>        },<br/>    }<br/><br/>    for _, tc := range testCases {<br/>        t.Run(tc.description, func(t *testing.T) {<br/>            actual := ToSnakeCase(tc.input)<br/>            if actual != tc.expected {<br/>                t.Errorf("expected %s, got %s", tc.expected, actual)<br/>            }<br/>        })<br/>    }<br/>}</span></pre><p id="e93b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è¿™äº›æµ‹è¯•ç”¨ä¾‹çœŸçš„å¾ˆå¥½è¯»ï¼</p><h2 id="ec15" class="ng lw it bd lx nh ni dn mb nj nk dp mf li nl nm mh lm nn no mj lq np nq ml nr bi translated">ä½•æ—¶é¿å…æ¡Œé¢æµ‹è¯•</h2><p id="14c9" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">ä¸€ä¸ªå¾ˆå¥½çš„è¯•é‡‘çŸ³æ˜¯:å¦‚æœä½ åœ¨å®é™…çš„æµ‹è¯•è°ƒç”¨ä¸­è¿›è¡Œé€»è¾‘åˆ†æ”¯ï¼Œä½ è¦ä¹ˆä¸åº”è¯¥ä½¿ç”¨è¡¨æµ‹è¯•ï¼Œè¦ä¹ˆä½ çš„å‡½æ•°å¤ªå¤æ‚ï¼Œåº”è¯¥è¢«åˆ†è§£ã€‚</p><p id="9f0f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è¿™ä¸ªä¾‹å­å¹¶ä¸å¤ªéš¾ç†è§£(å°½ç®¡å®ƒä¸æ˜¯å¾ˆå¥½çš„ä»£ç )ï¼Œä½†æ˜¯å®ƒä»ç„¶æ˜¯ä¸€ä¸ªä»£ç å‘³é“ï¼Œå¯èƒ½è¡¨æ˜ä¸€ä¸ªè®¾è®¡ä¸è‰¯çš„å‡½æ•°ã€‚</p><pre class="kj kk kl km gt mx mw my bn mz na bi"><span id="7e1c" class="nb lw it mw b be nc nd l ne nf">// this is BAD<br/>for _, tc := range testCases {<br/>    t.Run(tc.description, func(t *testing.T) {<br/>        result, err := SomeOverlyComplexFunction(tc.input)<br/><br/>        if err == nil {<br/>            if tc.expectedResult != result {<br/>                t.Errorf("expected %v, got %v", tc.expectedResult, result)<br/>            }<br/>        } else {<br/>            if !strings.Contains(err.Error(), tc.expectedErr.Error()) {<br/>                t.Errorf("expected error to be %s, got %s", tc.expectedErr.Error(), err.Error())<br/>            }<br/>        }<br/>    })<br/>}</span></pre><h1 id="35e0" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">å…¶ä»–èµ„æº</h1><p id="69bc" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">æœ‰æ•ˆçš„å›´æ£‹æ˜¯æ–°å›´æ£‹å·¥ç¨‹å¸ˆçš„èµ·ç‚¹ã€‚å³ä½¿åœ¨ä½¿ç”¨è¿™é—¨è¯­è¨€å¤šå¹´ä¹‹åï¼Œå®ƒä»ç„¶æ˜¯æˆ‘çš„ä¸€ä¸ªæ°¸æ’çš„ä¹¦ç­¾ã€‚</p><div class="nu nv gp gr nw nx"><a href="https://go.dev/doc/effective_go" rel="noopener  ugc nofollow" target="_blank"><div class="ny ab fo"><div class="nz ab oa cl cj ob"><h2 class="bd iu gy z fp oc fr fs od fu fw is bi translated">æœ‰æ•ˆçš„Go-Goç¼–ç¨‹è¯­è¨€</h2><div class="oe l"><h3 class="bd b gy z fp oc fr fs od fu fw dk translated">å›´æ£‹æ˜¯ä¸€é—¨æ–°çš„è¯­è¨€ã€‚è™½ç„¶å®ƒå€Ÿé‰´äº†ç°æœ‰è¯­è¨€çš„æ€æƒ³ï¼Œä½†å®ƒæœ‰ä¸€äº›ä¸å¯»å¸¸çš„å±æ€§ï¼Œä½¿å®ƒå˜å¾—æœ‰æ•ˆâ€¦</h3></div><div class="of l"><p class="bd b dl z fp oc fr fs od fu fw dk translated">go.dev</p></div></div><div class="og l"><div class="oh l oi oj ok og ol ks nx"/></div></div></a></div></div><div class="ab cl om on hx oo" role="separator"><span class="op bw bk oq or os"/><span class="op bw bk oq or os"/><span class="op bw bk oq or"/></div><div class="im in io ip iq"><h1 id="203c" class="lv lw it bd lx ly ot ma mb mc ou me mf jz ov ka mh kc ow kd mj kf ox kg ml mm bi translated">åˆ†çº§ç¼–ç </h1><p id="113a" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">æ„Ÿè°¢æ‚¨æˆä¸ºæˆ‘ä»¬ç¤¾åŒºçš„ä¸€å‘˜ï¼åœ¨ä½ ç¦»å¼€ä¹‹å‰:</p><ul class=""><li id="6d3d" class="oy oz it lb b lc ld lf lg li pa lm pb lq pc lu pd pe pf pg bi translated">ğŸ‘ä¸ºæ•…äº‹é¼“æŒï¼Œè·Ÿç€ä½œè€…èµ°ğŸ‘‰</li><li id="0eed" class="oy oz it lb b lc ph lf pi li pj lm pk lq pl lu pd pe pf pg bi translated">ğŸ“°æ›´å¤šå†…å®¹è¯·æŸ¥çœ‹<a class="ae ky" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">å‡çº§ç¼–ç åˆŠç‰©</a></li><li id="a8db" class="oy oz it lb b lc ph lf pi li pj lm pk lq pl lu pd pe pf pg bi translated">ğŸ””å…³æ³¨æˆ‘ä»¬:<a class="ae ky" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">æ¨ç‰¹</a> | <a class="ae ky" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a> | <a class="ae ky" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">æ—¶äº‹é€šè®¯</a></li></ul><p id="6e31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ğŸš€ğŸ‘‰<a class="ae ky" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">åŠ å…¥å‡çº§äººæ‰é›†ä½“ï¼Œæ‰¾åˆ°ä¸€ä»½ç¥å¥‡çš„å·¥ä½œ</strong> </a></p></div></div>    
</body>
</html>