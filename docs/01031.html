<html>
<head>
<title>How to Use MobX for Easy State Management in Your Angular App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Angular应用中使用MobX进行简单的状态管理</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-use-mobx-for-easy-state-management-in-your-angular-app-78e482407da8?source=collection_archive---------0-----------------------#2019-10-24">https://levelup.gitconnected.com/how-to-use-mobx-for-easy-state-management-in-your-angular-app-78e482407da8?source=collection_archive---------0-----------------------#2019-10-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/1ebcbf610ff467fa5cd9f4e27fc71659.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E4txflGGXLCLG4OkzU0zRg.png"/></div></div></figure><p id="30ce" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Angular是一个用于构建web应用程序的综合前端框架。它有很多很棒的特性，比如基于组件的架构、父组件和子组件之间的通信、路由、控制路由访问的保护、共享代码的服务以及易于开发的TypeScript。然而，它没有附带的一个大功能是应用程序的全局状态管理。</p><p id="edc6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">MobX是一个简单的状态管理库。它允许任何引用MobX存储的代码观察值，并在值改变时触发改变。该存储区还公开了可用于设置值的函数。</p><p id="ceea" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">要使用MobX，您只需将存储导入到您想要使用它的组件中，因此在NgRX/store之前没有要添加的样板文件。这意味着状态管理比NgRX/store简单得多。MobX不需要调度函数和减速器。</p><p id="092b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Angular和MobX配合得非常好，因为有了MobX-Angular库。</p><p id="4944" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在本文中，我们将构建一个在后端存储联系人的地址簿应用程序。我们使用MobX-Angular在组件之间共享数据。对于样式，我们使用Ngx-Boostrap库来样式化应用程序。</p><p id="d8d1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们首先通过运行<code class="fe kz la lb lc b">npm i -g @angular/cli</code>来安装Angular CLI。接下来，我们运行<code class="fe kz la lb lc b">ng new address-book-app</code>为我们的地址簿应用程序创建文件。一定要选择包括路线和SCSS的样式。</p><p id="4d40" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">接下来，我们安装一些我们需要使用的库。我们用MobX和MobX-Angular进行状态管理，用Ng2-Validation进行表单验证，用Ngx-Bootstrap进行样式化。</p><p id="46d2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">安装完所有的库之后，我们运行一些命令来创建更多的代码文件。</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="4da2" class="ll lm it lc b gy ln lo l lp lq">ng g component contactForm<br/>ng g component homePage<br/>ng g class contactStore<br/>ng g service contacts<br/>ng g class exports</span></pre><p id="fed2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这将为我们的主页、联系表单和向服务器发送HTTP请求的服务创建文件，</p><p id="7caf" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在在<code class="fe kz la lb lc b">contact-form.component.ts</code>，我们把:</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="0674" class="ll lm it lc b gy ln lo l lp lq">import { Component, OnInit, Input, Output, SimpleChanges } from '<a class="ae lr" href="http://twitter.com/angular/core" rel="noopener ugc nofollow" target="_blank">@angular/core</a>';<br/>import { COUNTRIES } from '../exports';<br/>import { contactStore } from '../contact-store';<br/>import { EventEmitter } from '<a class="ae lr" href="http://twitter.com/angular/core" rel="noopener ugc nofollow" target="_blank">@angular/core</a>';<br/>import { ContactsService } from '../contacts.service';<br/>import { NgForm } from '<a class="ae lr" href="http://twitter.com/angular/forms" rel="noopener ugc nofollow" target="_blank">@angular/forms</a>';</span><span id="2bb3" class="ll lm it lc b gy ls lo l lp lq"><a class="ae lr" href="http://twitter.com/Component" rel="noopener ugc nofollow" target="_blank">@Component</a>({<br/>  selector: 'app-contact-form',<br/>  templateUrl: './contact-form.component.html',<br/>  styleUrls: ['./contact-form.component.scss']<br/>})<br/>export class ContactFormComponent implements OnInit {<br/>  contactData: any = &lt;any&gt;{};<br/>  countries = COUNTRIES;<br/>  store = contactStore;<br/>  <a class="ae lr" href="http://twitter.com/Input" rel="noopener ugc nofollow" target="_blank">@Input</a>('edit') edit: boolean;<br/>  <a class="ae lr" href="http://twitter.com/Input" rel="noopener ugc nofollow" target="_blank">@Input</a>('contact') contact: any = &lt;any&gt;{};<br/>  <a class="ae lr" href="http://twitter.com/Output" rel="noopener ugc nofollow" target="_blank">@Output</a>('contactEdited') contactEdited = new EventEmitter();</span><span id="f8b2" class="ll lm it lc b gy ls lo l lp lq">  constructor(<br/>    private contactsService: ContactsService<br/>  ) { }</span><span id="d629" class="ll lm it lc b gy ls lo l lp lq">  ngOnInit() {<br/>  }</span><span id="3a51" class="ll lm it lc b gy ls lo l lp lq">ngOnChanges(changes: SimpleChanges) {<br/>    if (this.contact) {<br/>      this.contactData = Object.assign({}, this.contact);<br/>    }<br/>  }</span><span id="fcf2" class="ll lm it lc b gy ls lo l lp lq">  getPostalCodeRegex() {<br/>    if (this.contactData.country == "United States") {<br/>      return /^[0-9]{5}(?:-[0-9]{4})?$/;<br/>    } else if (this.contactData.country == "Canada") {<br/>      return /^[A-Za-z]\d[A-Za-z][ -]?\d[A-Za-z]\d$/;<br/>    }<br/>    return /./;<br/>  }</span><span id="c357" class="ll lm it lc b gy ls lo l lp lq">  getPhoneRegex() {<br/>    if (["United States", "Canada"].includes(this.contactData.country)) {<br/>      return /^[2-9]\d{2}[2-9]\d{2}\d{4}$/;<br/>    }<br/>    return /./;<br/>  }</span><span id="c1bf" class="ll lm it lc b gy ls lo l lp lq">  saveContact(contactForm: NgForm) {<br/>    if (contactForm.invalid) {<br/>      return;<br/>    }</span><span id="85e2" class="ll lm it lc b gy ls lo l lp lq">    if (this.edit) {<br/>      this.contactsService.editContact(this.contactData)<br/>        .subscribe(res =&gt; {<br/>          this.getContacts();<br/>        })<br/>    }<br/>    else {<br/>      this.contactsService.addContact(this.contactData)<br/>        .subscribe(res =&gt; {<br/>          this.getContacts();<br/>        })<br/>    }<br/>  }</span><span id="2399" class="ll lm it lc b gy ls lo l lp lq">  getContacts() {<br/>    this.contactsService.getContacts()<br/>      .subscribe(res =&gt; {<br/>        this.store.setContacts(res);<br/>        this.contactEdited.emit();<br/>      })<br/>  }</span><span id="434d" class="ll lm it lc b gy ls lo l lp lq">}</span></pre><p id="e647" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这是联系人表单的逻辑。我们创建了一些函数，分别根据国家、<code class="fe kz la lb lc b">getPostalCodeRegex </code>和<code class="fe kz la lb lc b">getPhoneRegex</code>来获取电话和邮政编码的正则表达式。我们还有一个保存联系人和保存后获取联系人的功能，分别是<code class="fe kz la lb lc b">saveContact</code>和<code class="fe kz la lb lc b">getContacts</code>功能。我们需要<code class="fe kz la lb lc b">ngOnChanges</code>生命周期处理程序来获取一个已有的联系人，如果它被传入的话。</p><p id="d7ed" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">每当我们获取联系人时，我们调用<code class="fe kz la lb lc b">this.store.setContacts</code>，其中<code class="fe kz la lb lc b">this.store</code>是我们将创建的MobX商店，它将最新的联系人数组设置到该商店。</p><p id="f17e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在<code class="fe kz la lb lc b">contact-form.component.html</code>中，我们添加:</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="7967" class="ll lm it lc b gy ln lo l lp lq">&lt;form #contactForm="ngForm" (ngSubmit)="saveContact(contactForm)"&gt;<br/>  &lt;div class="form-group"&gt;<br/>    &lt;label&gt;First Name&lt;/label&gt;<br/>    &lt;input<br/>      type="text"<br/>      class="form-control"<br/>      placeholder="First Name"<br/>      #firstName="ngModel"<br/>      name="firstName"<br/>      [(ngModel)]="contactData.firstName"<br/>      required<br/>    /&gt;<br/>    &lt;div *ngIf="firstName.invalid &amp;&amp; (firstName.dirty || firstName.touched)"&gt;<br/>      &lt;div *ngIf="firstName.errors.required"&gt;<br/>        First Name is required.<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>  &lt;div class="form-group"&gt;<br/>    &lt;label&gt;Last Name&lt;/label&gt;<br/>    &lt;input<br/>      type="text"<br/>      class="form-control"<br/>      placeholder="Last Name"<br/>      #lastName="ngModel"<br/>      name="lastName"<br/>      [(ngModel)]="contactData.lastName"<br/>      required<br/>    /&gt;<br/>    &lt;div *ngIf="lastName?.invalid &amp;&amp; (lastName.dirty || lastName.touched)"&gt;<br/>      &lt;div *ngIf="lastName.errors.required"&gt;<br/>        Last Name is required.<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;</span><span id="0218" class="ll lm it lc b gy ls lo l lp lq">  &lt;div class="form-group"&gt;<br/>    &lt;label&gt;Address Line 1&lt;/label&gt;<br/>    &lt;input<br/>      type="text"<br/>      class="form-control"<br/>      placeholder="Address Line 1"<br/>      #addressLineOne="ngModel"<br/>      name="addressLineOne"<br/>      [(ngModel)]="contactData.addressLineOne"<br/>      required<br/>    /&gt;<br/>    &lt;div<br/>      *ngIf="<br/>        addressLineOne?.invalid &amp;&amp;<br/>        (addressLineOne.dirty || addressLineOne.touched)<br/>      "<br/>    &gt;<br/>      &lt;div *ngIf="addressLineOne.errors.required"&gt;<br/>        Address line 1 is required.<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;</span><span id="14e2" class="ll lm it lc b gy ls lo l lp lq">  &lt;div class="form-group"&gt;<br/>    &lt;label&gt;Address Line 2&lt;/label&gt;<br/>    &lt;input<br/>      type="text"<br/>      class="form-control"<br/>      placeholder="Address Line 2"<br/>      #addressLineTwo="ngModel"<br/>      name="addressLineTwo"<br/>      [(ngModel)]="contactData.addressLineTwo"<br/>    /&gt;<br/>  &lt;/div&gt;</span><span id="b3d4" class="ll lm it lc b gy ls lo l lp lq">  &lt;div class="form-group"&gt;<br/>    &lt;label&gt;City&lt;/label&gt;<br/>    &lt;input<br/>      type="text"<br/>      class="form-control"<br/>      placeholder="City"<br/>      #city="ngModel"<br/>      name="city"<br/>      [(ngModel)]="contactData.city"<br/>      required<br/>    /&gt;<br/>    &lt;div *ngIf="city?.invalid &amp;&amp; (city.dirty || city.touched)"&gt;<br/>      &lt;div *ngIf="city.errors.required"&gt;<br/>        City is required.<br/>      &lt;/div&gt;<br/>      &lt;div *ngIf="city.invalid"&gt;<br/>        City is invalid.<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;</span><span id="0b01" class="ll lm it lc b gy ls lo l lp lq">  &lt;div class="form-group"&gt;<br/>    &lt;label&gt;Country&lt;/label&gt;<br/>    &lt;select<br/>      class="form-control"<br/>      #country="ngModel"<br/>      name="country"<br/>      [(ngModel)]="contactData.country"<br/>      required<br/>    &gt;<br/>      &lt;option *ngFor="let c of countries" [value]="c.name"&gt;<br/>        {{ c.name }}<br/>      &lt;/option&gt;<br/>    &lt;/select&gt;<br/>    &lt;div *ngIf="country?.invalid &amp;&amp; (country.dirty || country.touched)"&gt;<br/>      &lt;div *ngIf="country.errors.required"&gt;<br/>        Country is required.<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;</span><span id="0946" class="ll lm it lc b gy ls lo l lp lq">  &lt;div class="form-group"&gt;<br/>    &lt;label&gt;Postal Code&lt;/label&gt;<br/>    &lt;input<br/>      type="text"<br/>      class="form-control"<br/>      placeholder="Postal Code"<br/>      #postalCode="ngModel"<br/>      name="postalCode"<br/>      [(ngModel)]="contactData.postalCode"<br/>      required<br/>      [pattern]="getPostalCodeRegex()"<br/>    /&gt;<br/>    &lt;div<br/>      *ngIf="postalCode?.invalid &amp;&amp; (postalCode.dirty || postalCode.touched)"<br/>    &gt;<br/>      &lt;div *ngIf="postalCode.errors.required"&gt;<br/>        Postal code is required.<br/>      &lt;/div&gt;<br/>      &lt;div *ngIf="postalCode.invalid"&gt;<br/>        Postal code is invalid.<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;</span><span id="951e" class="ll lm it lc b gy ls lo l lp lq">  &lt;div class="form-group"&gt;<br/>    &lt;label&gt;Phone&lt;/label&gt;<br/>    &lt;input<br/>      type="text"<br/>      class="form-control"<br/>      placeholder="Phone"<br/>      #phone="ngModel"<br/>      name="phone"<br/>      [(ngModel)]="contactData.phone"<br/>      required<br/>      [pattern]="getPhoneRegex()"<br/>    /&gt;<br/>    &lt;div *ngIf="phone?.invalid &amp;&amp; (phone.dirty || phone.touched)"&gt;<br/>      &lt;div *ngIf="phone.errors.required"&gt;<br/>        Phone is required.<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;</span><span id="d5c4" class="ll lm it lc b gy ls lo l lp lq">  &lt;div class="form-group"&gt;<br/>    &lt;label&gt;Age&lt;/label&gt;<br/>    &lt;input<br/>      type="text"<br/>      class="form-control"<br/>      placeholder="Age"<br/>      #age="ngModel"<br/>      name="age"<br/>      [(ngModel)]="contactData.age"<br/>      required<br/>      [range]="[0, 200]"<br/>    /&gt;<br/>    &lt;div *ngIf="age?.invalid &amp;&amp; (age.dirty || age.touched)"&gt;<br/>      &lt;div *ngIf="age.errors.required"&gt;<br/>        Age is required.<br/>      &lt;/div&gt;<br/>      &lt;div *ngIf="age.invalid"&gt;<br/>        Age must be between 0 and 200.<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;</span><span id="e591" class="ll lm it lc b gy ls lo l lp lq">  &lt;div class="form-group"&gt;<br/>    &lt;label&gt;Email&lt;/label&gt;<br/>    &lt;input<br/>      type="text"<br/>      class="form-control"<br/>      placeholder="Email"<br/>      #email="ngModel"<br/>      name="email"<br/>      [(ngModel)]="contactData.email"<br/>      required<br/>      email<br/>    /&gt;<br/>    &lt;div *ngIf="email?.invalid &amp;&amp; (email.dirty || email.touched)"&gt;<br/>      &lt;div *ngIf="email.errors.required"&gt;<br/>        Email is required.<br/>      &lt;/div&gt;<br/>      &lt;div *ngIf="email.invalid"&gt;<br/>        Email is invalid.<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>  &lt;button type="submit" class="btn btn-primary"&gt;Submit&lt;/button&gt;<br/>&lt;/form&gt;</span></pre><p id="fad8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这是联系方式本身。<code class="fe kz la lb lc b">email</code>指令由<code class="fe kz la lb lc b">ng2-validation</code>提供，用于验证电子邮件。同样，<code class="fe kz la lb lc b">[range]=”[0, 200]”</code>输入也由同一库提供，用于验证数字范围。</p><p id="e733" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">接下来我们在主页上工作。在<code class="fe kz la lb lc b">home-page.component.ts</code>中，我们添加:</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="efa1" class="ll lm it lc b gy ln lo l lp lq">import { Component, OnInit, TemplateRef } from '<a class="ae lr" href="http://twitter.com/angular/core" rel="noopener ugc nofollow" target="_blank">@angular/core</a>';<br/>import { BsModalService, BsModalRef } from 'ngx-bootstrap/modal';<br/>import { ContactsService } from '../contacts.service';<br/>import { contactStore } from '../contact-store';</span><span id="eeb4" class="ll lm it lc b gy ls lo l lp lq"><a class="ae lr" href="http://twitter.com/Component" rel="noopener ugc nofollow" target="_blank">@Component</a>({<br/>  selector: 'app-home-page',<br/>  templateUrl: './home-page.component.html',<br/>  styleUrls: ['./home-page.component.scss']<br/>})<br/>export class HomePageComponent implements OnInit {</span><span id="45f0" class="ll lm it lc b gy ls lo l lp lq">  modalRef: BsModalRef;<br/>  store = contactStore;<br/>  edit: boolean;<br/>  contacts: any[] = [];<br/>  selectedContact: any = &lt;any&gt;{};<br/>  constructor(<br/>    private modalService: BsModalService,<br/>    private contactsService: ContactsService<br/>  ) { }</span><span id="0160" class="ll lm it lc b gy ls lo l lp lq">  openModal(addTemplate: TemplateRef&lt;any&gt;) {<br/>    this.modalRef = this.modalService.show(addTemplate);<br/>  }</span><span id="9abb" class="ll lm it lc b gy ls lo l lp lq">  openEditModal(editTemplate: TemplateRef&lt;any&gt;, contact) {<br/>    this.selectedContact = contact;<br/>    this.modalRef = this.modalService.show(editTemplate);<br/>  }</span><span id="b487" class="ll lm it lc b gy ls lo l lp lq">  closeModal() {<br/>    this.modalRef.hide();<br/>    this.selectedContact = {};<br/>  }</span><span id="28cd" class="ll lm it lc b gy ls lo l lp lq">  ngOnInit() {<br/>    this.contactsService.getContacts()<br/>      .subscribe(res =&gt; {<br/>        this.store.setContacts(res);<br/>      })<br/>  }</span><span id="12ed" class="ll lm it lc b gy ls lo l lp lq">  deleteContact(id) {<br/>    this.contactsService.deleteContact(id)<br/>      .subscribe(res =&gt; {<br/>        this.getContacts();<br/>      })<br/>  }</span><span id="ec05" class="ll lm it lc b gy ls lo l lp lq">  getContacts() {<br/>    this.contactsService.getContacts()<br/>      .subscribe(res =&gt; {<br/>        this.store.setContacts(res);<br/>      })<br/>  }<br/>}</span></pre><p id="814e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们有<code class="fe kz la lb lc b">getContacts</code>函数来获取联系人，<code class="fe kz la lb lc b">deleteContact</code>函数来删除联系人，以及<code class="fe kz la lb lc b">openModal</code> / <code class="fe kz la lb lc b">openEditModal</code>函数来分别打开添加联系人和编辑联系人模式。<code class="fe kz la lb lc b">closeModal</code>功能用于关闭从<code class="fe kz la lb lc b">ContactFormComponent</code>发出的<code class="fe kz la lb lc b">contactEdited</code>事件的模态。</p><p id="52e6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">每当我们获得联系人时，我们调用<code class="fe kz la lb lc b">this.store.setContacts</code>来将最新的联系人数组设置到存储中。</p><p id="e305" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">接下来，在<code class="fe kz la lb lc b">home-page.component.html</code>中，我们添加:</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="b106" class="ll lm it lc b gy ln lo l lp lq">&lt;div class="home-page" *mobxAutorun&gt;<br/>  &lt;h1 class="text-center"&gt;Address Book&lt;/h1&gt;<br/>  &lt;button<br/>    type="button"<br/>    class="btn btn-primary"<br/>    (click)="openModal(addTemplate)"<br/>  &gt;<br/>    Add Contact<br/>  &lt;/button&gt;</span><span id="3467" class="ll lm it lc b gy ls lo l lp lq">  &lt;div class="table-container"&gt;<br/>    &lt;table class="table"&gt;<br/>      &lt;thead&gt;<br/>        &lt;tr&gt;<br/>          &lt;th&gt;First Name&lt;/th&gt;<br/>          &lt;th&gt;Last Name&lt;/th&gt;<br/>          &lt;th&gt;Address&lt;/th&gt;<br/>          &lt;th&gt;Phone&lt;/th&gt;<br/>          &lt;th&gt;Age&lt;/th&gt;<br/>          &lt;th&gt;Email&lt;/th&gt;<br/>          &lt;th&gt;&lt;/th&gt;<br/>          &lt;th&gt;&lt;/th&gt;<br/>        &lt;/tr&gt;<br/>      &lt;/thead&gt;<br/>      &lt;tbody&gt;<br/>        &lt;tr *ngFor="let c of store.contacts"&gt;<br/>          &lt;td&gt;{{ c.firstName }}&lt;/td&gt;<br/>          &lt;td&gt;{{ c.lastName }}&lt;/td&gt;<br/>          &lt;td&gt;<br/>            {{ c.addressLineOne }}, {{ c.city }},<br/>            {{ c.country }}<br/>          &lt;/td&gt;<br/>          &lt;td&gt;{{ c.phone }}&lt;/td&gt;<br/>          &lt;td&gt;{{ c.age }}&lt;/td&gt;<br/>          &lt;td&gt;{{ c.email }}&lt;/td&gt;<br/>          &lt;td&gt;<br/>            &lt;button<br/>              type="button"<br/>              class="btn btn-primary"<br/>              (click)="openEditModal(editTemplate, c)"<br/>            &gt;<br/>              Edit<br/>            &lt;/button&gt;<br/>          &lt;/td&gt;<br/>          &lt;td&gt;<br/>            &lt;button<br/>              type="button"<br/>              class="btn btn-primary"<br/>              (click)="deleteContact(c.id)"<br/>            &gt;<br/>              Delete<br/>            &lt;/button&gt;<br/>          &lt;/td&gt;<br/>        &lt;/tr&gt;<br/>      &lt;/tbody&gt;<br/>    &lt;/table&gt;<br/>  &lt;/div&gt;<br/>&lt;/div&gt;</span><span id="69d8" class="ll lm it lc b gy ls lo l lp lq">&lt;ng-template #addTemplate&gt;<br/>  &lt;div class="modal-header"&gt;<br/>    &lt;h4 class="modal-title pull-left"&gt;Add Contact&lt;/h4&gt;<br/>  &lt;/div&gt;<br/>  &lt;div class="modal-body"&gt;<br/>    &lt;app-contact-form<br/>      (contactEdited)="closeModal()"<br/>      [edit]="false"<br/>    &gt;&lt;/app-contact-form&gt;<br/>  &lt;/div&gt;<br/>&lt;/ng-template&gt;</span><span id="dadd" class="ll lm it lc b gy ls lo l lp lq">&lt;ng-template #editTemplate&gt;<br/>  &lt;div class="modal-header"&gt;<br/>    &lt;h4 class="modal-title pull-left"&gt;Edit Contact&lt;/h4&gt;<br/>  &lt;/div&gt;<br/>  &lt;div class="modal-body"&gt;<br/>    &lt;app-contact-form<br/>      (contactEdited)="closeModal()"<br/>      [edit]="true"<br/>      [contact]='selectedContact'<br/>    &gt;&lt;/app-contact-form&gt;<br/>  &lt;/div&gt;<br/>&lt;/ng-template&gt;</span></pre><p id="5aa7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们有一个表格来显示联系人列表。<code class="fe kz la lb lc b">*ngFor=”let c of store.contacts”</code>指令位于<code class="fe kz la lb lc b">tr</code>标签中，用于遍历联系人，将他们存储在我们的MobX存储中。</p><p id="9459" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe kz la lb lc b">ng-template</code>组件是由<code class="fe kz la lb lc b">ngx-bootstrap</code>提供的模态。我们有<code class="fe kz la lb lc b">addTemplate</code>用于使用联系人表单添加联系人，还有<code class="fe kz la lb lc b">editTemplate</code>用于显示相同的表单进行编辑。</p><p id="e692" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在<code class="fe kz la lb lc b">home-page.component.scss</code>中，我们添加:</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="5ce6" class="ll lm it lc b gy ln lo l lp lq">.home-page {<br/>    padding: 20px;<br/>}</span><span id="6099" class="ll lm it lc b gy ls lo l lp lq">.table-container {<br/>    margin-top: 20px;<br/>}</span></pre><p id="ab3a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在<code class="fe kz la lb lc b">app-routing.module.ts</code>中，我们通过运行Angular CLI向导时包含路由来获得，我们输入:</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="bf23" class="ll lm it lc b gy ln lo l lp lq">import { NgModule } from '<a class="ae lr" href="http://twitter.com/angular/core" rel="noopener ugc nofollow" target="_blank">@angular/core</a>';<br/>import { Routes, RouterModule } from '<a class="ae lr" href="http://twitter.com/angular/router" rel="noopener ugc nofollow" target="_blank">@angular/router</a>';<br/>import { HomePageComponent } from './home-page/home-page.component';</span><span id="47cf" class="ll lm it lc b gy ls lo l lp lq">const routes: Routes = [<br/>  { path: '', component: HomePageComponent },<br/>];</span><span id="af7d" class="ll lm it lc b gy ls lo l lp lq"><a class="ae lr" href="http://twitter.com/NgModule" rel="noopener ugc nofollow" target="_blank">@NgModule</a>({<br/>  imports: [RouterModule.forRoot(routes)],<br/>  exports: [RouterModule]<br/>})<br/>export class AppRoutingModule { }</span></pre><p id="1601" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这允许用户导航到主页。</p><p id="90dd" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在<code class="fe kz la lb lc b">app.component.html</code>中，我们将现有代码替换为:</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="7bc9" class="ll lm it lc b gy ln lo l lp lq">&lt;nav class="navbar navbar-expand-lg navbar-light bg-light"&gt;<br/>  &lt;a class="navbar-brand" href="#"&gt;Address Book&lt;/a&gt;<br/>  &lt;button<br/>    class="navbar-toggler"<br/>    type="button"<br/>    data-toggle="collapse"<br/>    data-target="#navbarSupportedContent"<br/>    aria-controls="navbarSupportedContent"<br/>    aria-expanded="false"<br/>    aria-label="Toggle navigation"<br/>  &gt;<br/>    &lt;span class="navbar-toggler-icon"&gt;&lt;/span&gt;<br/>  &lt;/button&gt;</span><span id="d48f" class="ll lm it lc b gy ls lo l lp lq">  &lt;div class="collapse navbar-collapse" id="navbarSupportedContent"&gt;<br/>    &lt;ul class="navbar-nav mr-auto"&gt;<br/>      &lt;li class="nav-item active"&gt;<br/>        &lt;a class="nav-link" href="#"&gt;Home &lt;/a&gt;<br/>      &lt;/li&gt;<br/>    &lt;/ul&gt;<br/>  &lt;/div&gt;<br/>&lt;/nav&gt;<br/>&lt;router-outlet&gt;&lt;/router-outlet&gt;</span></pre><p id="74af" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这里，我们添加了引导导航栏，用于显示应用程序标题和导航链接。</p><p id="068a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">接下来在<code class="fe kz la lb lc b">app.module.ts</code>中，我们将现有代码替换为:</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="243b" class="ll lm it lc b gy ln lo l lp lq">import { BrowserModule } from '<a class="ae lr" href="http://twitter.com/angular/platform-browser" rel="noopener ugc nofollow" target="_blank">@angular/platform-browser</a>';<br/>import { NgModule } from '<a class="ae lr" href="http://twitter.com/angular/core" rel="noopener ugc nofollow" target="_blank">@angular/core</a>';<br/>import { FormsModule } from '<a class="ae lr" href="http://twitter.com/angular/forms" rel="noopener ugc nofollow" target="_blank">@angular/forms</a>';<br/>import { HttpClientModule } from '<a class="ae lr" href="http://twitter.com/angular/common" rel="noopener ugc nofollow" target="_blank">@angular/common</a>/http';<br/>import { AppRoutingModule } from './app-routing.module';<br/>import { AppComponent } from './app.component';<br/>import { HomePageComponent } from './home-page/home-page.component';<br/>import { ContactFormComponent } from './contact-form/contact-form.component';<br/>import { ModalModule } from 'ngx-bootstrap/modal';<br/>import { CustomFormsModule } from 'ng2-validation'<br/>import { MobxAngularModule } from 'mobx-angular';<br/>import { ContactsService } from './contacts.service';</span><span id="5814" class="ll lm it lc b gy ls lo l lp lq"><a class="ae lr" href="http://twitter.com/NgModule" rel="noopener ugc nofollow" target="_blank">@NgModule</a>({<br/>  declarations: [<br/>    AppComponent,<br/>    HomePageComponent,<br/>    ContactFormComponent<br/>  ],<br/>  imports: [<br/>    BrowserModule,<br/>    AppRoutingModule,<br/>    FormsModule,<br/>    HttpClientModule,<br/>    CustomFormsModule,<br/>    ModalModule.forRoot(),<br/>    MobxAngularModule<br/>  ],<br/>  providers: [<br/>    ContactsService<br/>  ],<br/>  bootstrap: [AppComponent]<br/>})<br/>export class AppModule { }</span></pre><p id="c97c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这包括我们用于构建应用程序的所有库以及我们生成的代码。</p><p id="9933" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后我们创建MobX商店。在<code class="fe kz la lb lc b">contact-store.ts</code>中，我们添加:</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="251b" class="ll lm it lc b gy ln lo l lp lq">import { observable, action } from 'mobx-angular';</span><span id="03eb" class="ll lm it lc b gy ls lo l lp lq">class ContactStore {<br/>    <a class="ae lr" href="http://twitter.com/observable" rel="noopener ugc nofollow" target="_blank">@observable</a> contacts = [];<br/>    <a class="ae lr" href="http://twitter.com/action" rel="noopener ugc nofollow" target="_blank">@action</a> setContacts(contacts) {<br/>        this.contacts = contacts;<br/>    }<br/>}</span><span id="0aba" class="ll lm it lc b gy ls lo l lp lq">export const contactStore = new ContactStore();</span></pre><p id="f47b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">店面很简单。它有一个我们用<code class="fe kz la lb lc b">observable</code>装饰器装饰的<code class="fe kz la lb lc b">contacts</code>数组，这样当我们在代码中引用它时，它将总是被更新。<code class="fe kz la lb lc b">setContacts</code>函数让我们设置<code class="fe kz la lb lc b">contacts</code>数组的值，该值将被传播给引用它的任何代码，因为我们在它前面有<code class="fe kz la lb lc b">observable</code>装饰器。<code class="fe kz la lb lc b">action</code>装饰器意味着我们指定函数能够更新商店中的<code class="fe kz la lb lc b">observable</code>值。</p><p id="1624" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们导出商店的实例，我们在组件中引用<code class="fe kz la lb lc b">contactStore</code>的地方使用它。</p><p id="af2b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">接下来在<code class="fe kz la lb lc b">contact.service.ts</code>中，我们添加:</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="f1ba" class="ll lm it lc b gy ln lo l lp lq">import { Injectable } from '<a class="ae lr" href="http://twitter.com/angular/core" rel="noopener ugc nofollow" target="_blank">@angular/core</a>';<br/>import { HttpClient } from '<a class="ae lr" href="http://twitter.com/angular/common" rel="noopener ugc nofollow" target="_blank">@angular/common</a>/http';<br/>import { environment } from 'src/environments/environment';</span><span id="c208" class="ll lm it lc b gy ls lo l lp lq"><a class="ae lr" href="http://twitter.com/Injectable" rel="noopener ugc nofollow" target="_blank">@Injectable</a>({<br/>  providedIn: 'root'<br/>})<br/>export class ContactsService {</span><span id="971c" class="ll lm it lc b gy ls lo l lp lq">constructor(<br/>    private http: HttpClient<br/>  ) { }</span><span id="ea55" class="ll lm it lc b gy ls lo l lp lq">  getContacts() {<br/>    return this.http.get(`${environment.apiUrl}/contacts`);<br/>  }</span><span id="f608" class="ll lm it lc b gy ls lo l lp lq">  addContact(data) {<br/>    return this.http.post(`${environment.apiUrl}/contacts`, data);<br/>  }</span><span id="d363" class="ll lm it lc b gy ls lo l lp lq">  editContact(data) {<br/>    return this.http.put(`${environment.apiUrl}/contacts/${data.id}`, data);<br/>  }</span><span id="0c21" class="ll lm it lc b gy ls lo l lp lq">  deleteContact(id) {<br/>    return this.http.delete(`${environment.apiUrl}/contacts/${id}`);<br/>  }<br/>}</span></pre><p id="550f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这让我们向后端发出HTTP请求来操作联系人。</p><p id="f259" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在<code class="fe kz la lb lc b">exports.ts</code>中，我们添加:</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="6b09" class="ll lm it lc b gy ln lo l lp lq">export const COUNTRIES = [<br/>    { "name": "Afghanistan", "code": "AF" },<br/>    { "name": "Aland Islands", "code": "AX" },<br/>    { "name": "Albania", "code": "AL" },<br/>    { "name": "Algeria", "code": "DZ" },<br/>    { "name": "American Samoa", "code": "AS" },<br/>    { "name": "AndorrA", "code": "AD" },<br/>    { "name": "Angola", "code": "AO" },<br/>    { "name": "Anguilla", "code": "AI" },<br/>    { "name": "Antarctica", "code": "AQ" },<br/>    { "name": "Antigua and Barbuda", "code": "AG" },<br/>    { "name": "Argentina", "code": "AR" },<br/>    { "name": "Armenia", "code": "AM" },<br/>    { "name": "Aruba", "code": "AW" },<br/>    { "name": "Australia", "code": "AU" },<br/>    { "name": "Austria", "code": "AT" },<br/>    { "name": "Azerbaijan", "code": "AZ" },<br/>    { "name": "Bahamas", "code": "BS" },<br/>    { "name": "Bahrain", "code": "BH" },<br/>    { "name": "Bangladesh", "code": "BD" },<br/>    { "name": "Barbados", "code": "BB" },<br/>    { "name": "Belarus", "code": "BY" },<br/>    { "name": "Belgium", "code": "BE" },<br/>    { "name": "Belize", "code": "BZ" },<br/>    { "name": "Benin", "code": "BJ" },<br/>    { "name": "Bermuda", "code": "BM" },<br/>    { "name": "Bhutan", "code": "BT" },<br/>    { "name": "Bolivia", "code": "BO" },<br/>    { "name": "Bosnia and Herzegovina", "code": "BA" },<br/>    { "name": "Botswana", "code": "BW" },<br/>    { "name": "Bouvet Island", "code": "BV" },<br/>    { "name": "Brazil", "code": "BR" },<br/>    { "name": "British Indian Ocean Territory", "code": "IO" },<br/>    { "name": "Brunei Darussalam", "code": "BN" },<br/>    { "name": "Bulgaria", "code": "BG" },<br/>    { "name": "Burkina Faso", "code": "BF" },<br/>    { "name": "Burundi", "code": "BI" },<br/>    { "name": "Cambodia", "code": "KH" },<br/>    { "name": "Cameroon", "code": "CM" },<br/>    { "name": "Canada", "code": "CA" },<br/>    { "name": "Cape Verde", "code": "CV" },<br/>    { "name": "Cayman Islands", "code": "KY" },<br/>    { "name": "Central African Republic", "code": "CF" },<br/>    { "name": "Chad", "code": "TD" },<br/>    { "name": "Chile", "code": "CL" },<br/>    { "name": "China", "code": "CN" },<br/>    { "name": "Christmas Island", "code": "CX" },<br/>    { "name": "Cocos (Keeling) Islands", "code": "CC" },<br/>    { "name": "Colombia", "code": "CO" },<br/>    { "name": "Comoros", "code": "KM" },<br/>    { "name": "Congo", "code": "CG" },<br/>    { "name": "Congo, The Democratic Republic of the", "code": "CD" },<br/>    { "name": "Cook Islands", "code": "CK" },<br/>    { "name": "Costa Rica", "code": "CR" },<br/>    {<br/>        "name": "Cote D\"Ivoire", "code": "CI"<br/>    },<br/>    { "name": "Croatia", "code": "HR" },<br/>    { "name": "Cuba", "code": "CU" },<br/>    { "name": "Cyprus", "code": "CY" },<br/>    { "name": "Czech Republic", "code": "CZ" },<br/>    { "name": "Denmark", "code": "DK" },<br/>    { "name": "Djibouti", "code": "DJ" },<br/>    { "name": "Dominica", "code": "DM" },<br/>    { "name": "Dominican Republic", "code": "DO" },<br/>    { "name": "Ecuador", "code": "EC" },<br/>    { "name": "Egypt", "code": "EG" },<br/>    { "name": "El Salvador", "code": "SV" },<br/>    { "name": "Equatorial Guinea", "code": "GQ" },<br/>    { "name": "Eritrea", "code": "ER" },<br/>    { "name": "Estonia", "code": "EE" },<br/>    { "name": "Ethiopia", "code": "ET" },<br/>    { "name": "Falkland Islands (Malvinas)", "code": "FK" },<br/>    { "name": "Faroe Islands", "code": "FO" },<br/>    { "name": "Fiji", "code": "FJ" },<br/>    { "name": "Finland", "code": "FI" },<br/>    { "name": "France", "code": "FR" },<br/>    { "name": "French Guiana", "code": "GF" },<br/>    { "name": "French Polynesia", "code": "PF" },<br/>    { "name": "French Southern Territories", "code": "TF" },<br/>    { "name": "Gabon", "code": "GA" },<br/>    { "name": "Gambia", "code": "GM" },<br/>    { "name": "Georgia", "code": "GE" },<br/>    { "name": "Germany", "code": "DE" },<br/>    { "name": "Ghana", "code": "GH" },<br/>    { "name": "Gibraltar", "code": "GI" },<br/>    { "name": "Greece", "code": "GR" },<br/>    { "name": "Greenland", "code": "GL" },<br/>    { "name": "Grenada", "code": "GD" },<br/>    { "name": "Guadeloupe", "code": "GP" },<br/>    { "name": "Guam", "code": "GU" },<br/>    { "name": "Guatemala", "code": "GT" },<br/>    { "name": "Guernsey", "code": "GG" },<br/>    { "name": "Guinea", "code": "GN" },<br/>    { "name": "Guinea-Bissau", "code": "GW" },<br/>    { "name": "Guyana", "code": "GY" },<br/>    { "name": "Haiti", "code": "HT" },<br/>    { "name": "Heard Island and Mcdonald Islands", "code": "HM" },<br/>    { "name": "Holy See (Vatican City State)", "code": "VA" },<br/>    { "name": "Honduras", "code": "HN" },<br/>    { "name": "Hong Kong", "code": "HK" },<br/>    { "name": "Hungary", "code": "HU" },<br/>    { "name": "Iceland", "code": "IS" },<br/>    { "name": "India", "code": "IN" },<br/>    { "name": "Indonesia", "code": "ID" },<br/>    { "name": "Iran, Islamic Republic Of", "code": "IR" },<br/>    { "name": "Iraq", "code": "IQ" },<br/>    { "name": "Ireland", "code": "IE" },<br/>    { "name": "Isle of Man", "code": "IM" },<br/>    { "name": "Israel", "code": "IL" },<br/>    { "name": "Italy", "code": "IT" },<br/>    { "name": "Jamaica", "code": "JM" },<br/>    { "name": "Japan", "code": "JP" },<br/>    { "name": "Jersey", "code": "JE" },<br/>    { "name": "Jordan", "code": "JO" },<br/>    { "name": "Kazakhstan", "code": "KZ" },<br/>    { "name": "Kenya", "code": "KE" },<br/>    { "name": "Kiribati", "code": "KI" },<br/>    {<br/>        "name": "Korea, Democratic People\"S Republic of", "code": "KP"<br/>    },<br/>    { "name": "Korea, Republic of", "code": "KR" },<br/>    { "name": "Kuwait", "code": "KW" },<br/>    { "name": "Kyrgyzstan", "code": "KG" },<br/>    {<br/>        "name": "Lao People\"S Democratic Republic", "code": "LA"<br/>    },<br/>    { "name": "Latvia", "code": "LV" },<br/>    { "name": "Lebanon", "code": "LB" },<br/>    { "name": "Lesotho", "code": "LS" },<br/>    { "name": "Liberia", "code": "LR" },<br/>    { "name": "Libyan Arab Jamahiriya", "code": "LY" },<br/>    { "name": "Liechtenstein", "code": "LI" },<br/>    { "name": "Lithuania", "code": "LT" },<br/>    { "name": "Luxembourg", "code": "LU" },<br/>    { "name": "Macao", "code": "MO" },<br/>    { "name": "Macedonia, The Former Yugoslav Republic of", "code": "MK" },<br/>    { "name": "Madagascar", "code": "MG" },<br/>    { "name": "Malawi", "code": "MW" },<br/>    { "name": "Malaysia", "code": "MY" },<br/>    { "name": "Maldives", "code": "MV" },<br/>    { "name": "Mali", "code": "ML" },<br/>    { "name": "Malta", "code": "MT" },<br/>    { "name": "Marshall Islands", "code": "MH" },<br/>    { "name": "Martinique", "code": "MQ" },<br/>    { "name": "Mauritania", "code": "MR" },<br/>    { "name": "Mauritius", "code": "MU" },<br/>    { "name": "Mayotte", "code": "YT" },<br/>    { "name": "Mexico", "code": "MX" },<br/>    { "name": "Micronesia, Federated States of", "code": "FM" },<br/>    { "name": "Moldova, Republic of", "code": "MD" },<br/>    { "name": "Monaco", "code": "MC" },<br/>    { "name": "Mongolia", "code": "MN" },<br/>    { "name": "Montenegro", "code": "ME" },<br/>    { "name": "Montserrat", "code": "MS" },<br/>    { "name": "Morocco", "code": "MA" },<br/>    { "name": "Mozambique", "code": "MZ" },<br/>    { "name": "Myanmar", "code": "MM" },<br/>    { "name": "Namibia", "code": "NA" },<br/>    { "name": "Nauru", "code": "NR" },<br/>    { "name": "Nepal", "code": "NP" },<br/>    { "name": "Netherlands", "code": "NL" },<br/>    { "name": "Netherlands Antilles", "code": "AN" },<br/>    { "name": "New Caledonia", "code": "NC" },<br/>    { "name": "New Zealand", "code": "NZ" },<br/>    { "name": "Nicaragua", "code": "NI" },<br/>    { "name": "Niger", "code": "NE" },<br/>    { "name": "Nigeria", "code": "NG" },<br/>    { "name": "Niue", "code": "NU" },<br/>    { "name": "Norfolk Island", "code": "NF" },<br/>    { "name": "Northern Mariana Islands", "code": "MP" },<br/>    { "name": "Norway", "code": "NO" },<br/>    { "name": "Oman", "code": "OM" },<br/>    { "name": "Pakistan", "code": "PK" },<br/>    { "name": "Palau", "code": "PW" },<br/>    { "name": "Palestinian Territory, Occupied", "code": "PS" },<br/>    { "name": "Panama", "code": "PA" },<br/>    { "name": "Papua New Guinea", "code": "PG" },<br/>    { "name": "Paraguay", "code": "PY" },<br/>    { "name": "Peru", "code": "PE" },<br/>    { "name": "Philippines", "code": "PH" },<br/>    { "name": "Pitcairn", "code": "PN" },<br/>    { "name": "Poland", "code": "PL" },<br/>    { "name": "Portugal", "code": "PT" },<br/>    { "name": "Puerto Rico", "code": "PR" },<br/>    { "name": "Qatar", "code": "QA" },<br/>    { "name": "Reunion", "code": "RE" },<br/>    { "name": "Romania", "code": "RO" },<br/>    { "name": "Russian Federation", "code": "RU" },<br/>    { "name": "RWANDA", "code": "RW" },<br/>    { "name": "Saint Helena", "code": "SH" },<br/>    { "name": "Saint Kitts and Nevis", "code": "KN" },<br/>    { "name": "Saint Lucia", "code": "LC" },<br/>    { "name": "Saint Pierre and Miquelon", "code": "PM" },<br/>    { "name": "Saint Vincent and the Grenadines", "code": "VC" },<br/>    { "name": "Samoa", "code": "WS" },<br/>    { "name": "San Marino", "code": "SM" },<br/>    { "name": "Sao Tome and Principe", "code": "ST" },<br/>    { "name": "Saudi Arabia", "code": "SA" },<br/>    { "name": "Senegal", "code": "SN" },<br/>    { "name": "Serbia", "code": "RS" },<br/>    { "name": "Seychelles", "code": "SC" },<br/>    { "name": "Sierra Leone", "code": "SL" },<br/>    { "name": "Singapore", "code": "SG" },<br/>    { "name": "Slovakia", "code": "SK" },<br/>    { "name": "Slovenia", "code": "SI" },<br/>    { "name": "Solomon Islands", "code": "SB" },<br/>    { "name": "Somalia", "code": "SO" },<br/>    { "name": "South Africa", "code": "ZA" },<br/>    { "name": "South Georgia and the South Sandwich Islands", "code": "GS" },<br/>    { "name": "Spain", "code": "ES" },<br/>    { "name": "Sri Lanka", "code": "LK" },<br/>    { "name": "Sudan", "code": "SD" },<br/>    { "name": "Suriname", "code": "SR" },<br/>    { "name": "Svalbard and Jan Mayen", "code": "SJ" },<br/>    { "name": "Swaziland", "code": "SZ" },<br/>    { "name": "Sweden", "code": "SE" },<br/>    { "name": "Switzerland", "code": "CH" },<br/>    { "name": "Syrian Arab Republic", "code": "SY" },<br/>    { "name": "Taiwan, Province of China", "code": "TW" },<br/>    { "name": "Tajikistan", "code": "TJ" },<br/>    { "name": "Tanzania, United Republic of", "code": "TZ" },<br/>    { "name": "Thailand", "code": "TH" },<br/>    { "name": "Timor-Leste", "code": "TL" },<br/>    { "name": "Togo", "code": "TG" },<br/>    { "name": "Tokelau", "code": "TK" },<br/>    { "name": "Tonga", "code": "TO" },<br/>    { "name": "Trinidad and Tobago", "code": "TT" },<br/>    { "name": "Tunisia", "code": "TN" },<br/>    { "name": "Turkey", "code": "TR" },<br/>    { "name": "Turkmenistan", "code": "TM" },<br/>    { "name": "Turks and Caicos Islands", "code": "TC" },<br/>    { "name": "Tuvalu", "code": "TV" },<br/>    { "name": "Uganda", "code": "UG" },<br/>    { "name": "Ukraine", "code": "UA" },<br/>    { "name": "United Arab Emirates", "code": "AE" },<br/>    { "name": "United Kingdom", "code": "GB" },<br/>    { "name": "United States", "code": "US" },<br/>    { "name": "United States Minor Outlying Islands", "code": "UM" },<br/>    { "name": "Uruguay", "code": "UY" },<br/>    { "name": "Uzbekistan", "code": "UZ" },<br/>    { "name": "Vanuatu", "code": "VU" },<br/>    { "name": "Venezuela", "code": "VE" },<br/>    { "name": "Viet Nam", "code": "VN" },<br/>    { "name": "Virgin Islands, British", "code": "VG" },<br/>    { "name": "Virgin Islands, U.S.", "code": "VI" },<br/>    { "name": "Wallis and Futuna", "code": "WF" },<br/>    { "name": "Western Sahara", "code": "EH" },<br/>    { "name": "Yemen", "code": "YE" },<br/>    { "name": "Zambia", "code": "ZM" },<br/>    { "name": "Zimbabwe", "code": "ZW" }<br/>]</span></pre><p id="86ec" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这样我们就有了一个国家列表，可以在我们的联系表单中找到这些国家。</p><p id="465b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在<code class="fe kz la lb lc b">environment.ts</code>中，我们添加:</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="262c" class="ll lm it lc b gy ln lo l lp lq">export const environment = {<br/>  production: false,<br/>  apiUrl: '<a class="ae lr" href="http://localhost:3000'" rel="noopener ugc nofollow" target="_blank">http://localhost:3000'</a><br/>};</span></pre><p id="16a2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这允许我们与后端对话。</p><p id="559d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后在<code class="fe kz la lb lc b">index.html</code>中，我们有:</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="55fe" class="ll lm it lc b gy ln lo l lp lq">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;meta charset="utf-8" /&gt;<br/>    &lt;title&gt;Angular Address Book App&lt;/title&gt;<br/>    &lt;base href="/" /&gt;</span><span id="6c33" class="ll lm it lc b gy ls lo l lp lq">&lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;<br/>    &lt;link rel="icon" type="image/x-icon" href="favicon.ico" /&gt;<br/>    &lt;link<br/>      href="<a class="ae lr" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="noopener ugc nofollow" target="_blank">https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css</a>"<br/>      rel="stylesheet"<br/>    /&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;app-root&gt;&lt;/app-root&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="9d78" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这将默认标题改为我们自己的，并添加了引导CSS。</p><p id="5a25" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">为了运行我们的应用程序，我们使用位于<a class="ae lr" href="https://github.com/typicode/json-server" rel="noopener ugc nofollow" target="_blank">https://github.com/typicode/json-server</a>的JSON服务器包来创建一个简单的后端，而无需编写任何代码。运行<code class="fe kz la lb lc b">npm i -g json-server</code>进行安装。</p><p id="3b33" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们在根文件夹中创建一个名为<code class="fe kz la lb lc b">db.json</code>的文件，并添加:</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="05c5" class="ll lm it lc b gy ln lo l lp lq">{<br/>  "contacts": []<br/>}</span></pre><p id="5ef7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这将自动生成我们之前在<code class="fe kz la lb lc b">contacts.service.ts</code>中指定的路线。</p><p id="2af8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后我们运行<code class="fe kz la lb lc b">json-server --watch db.json</code>来启动我们的后端，运行<code class="fe kz la lb lc b">ng serve</code>来启动我们的应用程序。</p><p id="a43f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">所有工作完成后，我们得到:</p><figure class="ld le lf lg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lt"><img src="../Images/2dda2cdb62fbfad175ab1105ad7e0a89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MrS1yDGXYcjmtvRGrYJIlA.png"/></div></div></figure><figure class="ld le lf lg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lu"><img src="../Images/66fc01f6a22c1ddff8a72f3eefd3e494.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KhJPG6qWNHJktAnrzJsz-g.png"/></div></div></figure><figure class="ld le lf lg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/1ebcbf610ff467fa5cd9f4e27fc71659.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E4txflGGXLCLG4OkzU0zRg.png"/></div></div></figure></div></div>    
</body>
</html>