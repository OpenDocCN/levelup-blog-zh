<html>
<head>
<title>Introduction to JavaScript Error Values — NaN and Infinity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript错误值简介— NaN和Infinity</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/introduction-to-javascript-error-values-nan-and-infinity-1df6d5e7ea91?source=collection_archive---------4-----------------------#2020-03-25">https://levelup.gitconnected.com/introduction-to-javascript-error-values-nan-and-infinity-1df6d5e7ea91?source=collection_archive---------4-----------------------#2020-03-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/cd06dc58b84f579d375ad64349b8c8fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*U-AJKXVJZrTEB_ZR"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@ejleusink?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Erik-Jan Leusink </a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="9f39" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">JavaScript有几个错误值是由一些无效的计算产生的。</p><p id="0412" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将研究它们及其属性。</p><h1 id="ff08" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">圆盘烤饼</h1><p id="4812" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated"><code class="fe mh mi mj mk b">NaN</code>表示不是数字。尽管有这个名字，JavaScript仍然认为它是一个数字。</p><p id="7c29" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们写:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="54c5" class="mt lf it mk b gy mu mv l mw mx">typeof NaN</span></pre><p id="8901" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">If返回<code class="fe mh mi mj mk b">'number'</code>。</p><p id="56be" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">每当我们试图用<code class="fe mh mi mj mk b">Number</code>函数将没有数字内容的东西转换成数字时，它就会返回。</p><p id="91f4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，如果我们写:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="86ce" class="mt lf it mk b gy mu mv l mw mx">Number('foo')</span></pre><p id="52c0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们得到<code class="fe mh mi mj mk b">NaN</code>返回。</p><p id="2421" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另外，<code class="fe mh mi mj mk b">NaN</code>是无效数学运算的返回结果。</p><p id="2f26" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，如果我们有:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="6999" class="mt lf it mk b gy mu mv l mw mx">Math.log(-2)</span></pre><p id="6262" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们得到返回的<code class="fe mh mi mj mk b">NaN</code>。</p><p id="7893" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们使用负数的<code class="fe mh mi mj mk b">sqrt</code>,如下所示:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="d652" class="mt lf it mk b gy mu mv l mw mx">Math.sqrt(-1)</span></pre><p id="44d2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们也得到了<code class="fe mh mi mj mk b">NaN</code>的回报。</p><p id="df53" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">任何涉及到<code class="fe mh mi mj mk b">NaN</code>的计算也会返回<code class="fe mh mi mj mk b">NaN</code>。下列表达式:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="c7b5" class="mt lf it mk b gy mu mv l mw mx">NaN - 3<br/>7 ** NaN</span></pre><p id="ff69" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">都会双双返回<code class="fe mh mi mj mk b">NaN</code>。</p><p id="e62a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">注意<code class="fe mh mi mj mk b">NaN</code>不等于自身。例如，两者:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="f436" class="mt lf it mk b gy mu mv l mw mx">NaN == NaN</span></pre><p id="0f3f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">和</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="ea08" class="mt lf it mk b gy mu mv l mw mx">NaN === NaN</span></pre><p id="d7e7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">返回<code class="fe mh mi mj mk b">false</code>。</p><h2 id="0320" class="mt lf it bd lg my mz dn lk na nb dp lo kr nc nd ls kv ne nf lw kz ng nh ma ni bi translated">伊斯南</h2><p id="4e8c" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">为了测试<code class="fe mh mi mj mk b">NaN</code>，我们可以使用<code class="fe mh mi mj mk b">Number.isNaN()</code>或<code class="fe mh mi mj mk b">isNaN()</code>功能。</p><p id="752c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以如下使用它:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="8d1e" class="mt lf it mk b gy mu mv l mw mx">isNaN(Math.sqrt(-1))</span></pre><p id="0273" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们得到<code class="fe mh mi mj mk b">true</code>。</p><p id="bcf4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们写:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="0e45" class="mt lf it mk b gy mu mv l mw mx">isNaN(2)</span></pre><p id="be7d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们得到返回的<code class="fe mh mi mj mk b">false</code>。</p><h2 id="4e61" class="mt lf it bd lg my mz dn lk na nb dp lo kr nc nd ls kv ne nf lw kz ng nh ma ni bi translated">在数组中查找<code class="fe mh mi mj mk b">NaN</code></h2><p id="0fcb" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">有些数组方法找不到<code class="fe mh mi mj mk b">NaN</code>。例如，<code class="fe mh mi mj mk b">indexOf</code>没有抓住<code class="fe mh mi mj mk b">NaN</code>。</p><p id="aba0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们写:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="bad1" class="mt lf it mk b gy mu mv l mw mx">[1, NaN].indexOf(NaN)</span></pre><p id="2033" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们得到返回的<code class="fe mh mi mj mk b">-1</code>。这意味着它找不到<code class="fe mh mi mj mk b">NaN</code>。</p><p id="e232" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是其他像<code class="fe mh mi mj mk b">includes</code>、<code class="fe mh mi mj mk b">findIndex</code>、<code class="fe mh mi mj mk b">find</code>的方法都可以找到<code class="fe mh mi mj mk b">NaN</code>。</p><p id="825d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以<code class="fe mh mi mj mk b">[1, NaN].includes(NaN)</code>返回<code class="fe mh mi mj mk b">true</code>。</p><p id="4b01" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">[1, NaN].findIndex(x =&gt; Number.isNaN(x))</code>返回1。</p><p id="b01c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">[1, NaN].find(x =&gt; Number.isNaN(x))</code>返回<code class="fe mh mi mj mk b">NaN</code>。</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nj"><img src="../Images/663e1d841e7bcb782cb2c523a8fe4e35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*COUop9MCJlh3fSX6"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@nrly?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">内森·赖利</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="eab6" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><code class="fe mh mi mj mk b">Infinity</code></h1><p id="0c16" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated"><code class="fe mh mi mj mk b">Infinity</code>数量过大时返回。</p><p id="0657" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，如果<code class="fe mh mi mj mk b">Math.pow</code>返回的值大于一个JavaScript数字的最大值，那么我们将返回<code class="fe mh mi mj mk b">Infinity</code>。</p><p id="a2ec" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="6119" class="mt lf it mk b gy mu mv l mw mx">Math.pow(2, 2024)</span></pre><p id="8370" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">返回<code class="fe mh mi mj mk b">Infinity</code>,因为它大于最大JavaScript数。</p><p id="6e46" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">Math.log(0)</code>返回<code class="fe mh mi mj mk b">-Infinity</code>。</p><p id="5b00" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">Infinity</code>的值是<code class="fe mh mi mj mk b">Number.POSITIVE_INFINITY</code>。</p><p id="d282" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它的表现与数学上的无穷大略有不同:</p><ul class=""><li id="6b00" class="nk nl it ki b kj kk kn ko kr nm kv nn kz no ld np nq nr ns bi translated"><code class="fe mh mi mj mk b">POSITIVE_INFINITY </code>乘以任意正值就是<code class="fe mh mi mj mk b">POSITIVE_INFINITY</code></li><li id="14aa" class="nk nl it ki b kj nt kn nu kr nv kv nw kz nx ld np nq nr ns bi translated">任何负值乘以<code class="fe mh mi mj mk b">POSITIVE_INFINITY</code>就是<code class="fe mh mi mj mk b">NEGATIVE_INFINITY</code></li><li id="0488" class="nk nl it ki b kj nt kn nu kr nv kv nw kz nx ld np nq nr ns bi translated"><code class="fe mh mi mj mk b">POSITIVE_INFINITY</code>乘以0就是<code class="fe mh mi mj mk b">NaN</code></li><li id="665b" class="nk nl it ki b kj nt kn nu kr nv kv nw kz nx ld np nq nr ns bi translated"><code class="fe mh mi mj mk b">NaN</code>乘以<code class="fe mh mi mj mk b">POSITIVE_INFINITY</code>就是<code class="fe mh mi mj mk b">NaN</code>。</li><li id="06b1" class="nk nl it ki b kj nt kn nu kr nv kv nw kz nx ld np nq nr ns bi translated"><code class="fe mh mi mj mk b">POSITIVE_INFINITY</code>除以除<code class="fe mh mi mj mk b">NEGATIVE_INFINITY</code>以外的任何负值，即为<code class="fe mh mi mj mk b">NEGATIVE_INFINITY</code></li><li id="c7f8" class="nk nl it ki b kj nt kn nu kr nv kv nw kz nx ld np nq nr ns bi translated"><code class="fe mh mi mj mk b">POSITIVE_INFINITY</code>除以除<code class="fe mh mi mj mk b">POSITIVE_INFINITY</code>以外的任意正值，为<code class="fe mh mi mj mk b">POSITIVE_INFINITY</code></li><li id="7e81" class="nk nl it ki b kj nt kn nu kr nv kv nw kz nx ld np nq nr ns bi translated"><code class="fe mh mi mj mk b">POSITIVE_INFINITY</code>除以<code class="fe mh mi mj mk b">NEGATIVE_INFINITY</code>或<code class="fe mh mi mj mk b">POSITIVE_INFINITY</code>，得到<code class="fe mh mi mj mk b">NaN</code></li><li id="ad97" class="nk nl it ki b kj nt kn nu kr nv kv nw kz nx ld np nq nr ns bi translated">当我们将一个数除以0时，我们也得到了<code class="fe mh mi mj mk b">Infinity</code></li><li id="db06" class="nk nl it ki b kj nt kn nu kr nv kv nw kz nx ld np nq nr ns bi translated">将一个数除以<code class="fe mh mi mj mk b">Infinity</code>将得到0</li><li id="5f6c" class="nk nl it ki b kj nt kn nu kr nv kv nw kz nx ld np nq nr ns bi translated">在<code class="fe mh mi mj mk b">Infinity</code>上加任何东西都会得到<code class="fe mh mi mj mk b">Infinity</code>。从<code class="fe mh mi mj mk b">Infinity</code>中减去一个数将得到<code class="fe mh mi mj mk b">Infinity</code></li></ul><p id="3630" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们希望它比我们能想象的任何数字都大，我们也可以使用<code class="fe mh mi mj mk b">Infinity</code>作为默认值。</p><p id="6e9f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以使用它来获取数组中的最小数，如下所示:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="58a5" class="mt lf it mk b gy mu mv l mw mx">const min = (numbers) =&gt; {<br/>  let min = Infinity;<br/>  for (const n of numbers) {<br/>    if (n &lt; min) {<br/>      min = n;<br/>    }<br/>  }<br/>  return min;<br/>}</span></pre><p id="f6fd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们将<code class="fe mh mi mj mk b">min</code>的初始值设为<code class="fe mh mi mj mk b">Infinity</code>，然后如果我们发现<code class="fe mh mi mj mk b">n</code>小于<code class="fe mh mi mj mk b">min</code>，我们将<code class="fe mh mi mj mk b">n</code>设为<code class="fe mh mi mj mk b">min</code>。</p><p id="c9d0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们返回<code class="fe mh mi mj mk b">min</code>。</p><h2 id="63a8" class="mt lf it bd lg my mz dn lk na nb dp lo kr nc nd ls kv ne nf lw kz ng nh ma ni bi translated">检查<code class="fe mh mi mj mk b">Infinity</code></h2><p id="e67e" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以通过使用<code class="fe mh mi mj mk b">Number.isFinite</code>函数或等式运算符来检查<code class="fe mh mi mj mk b">Infinity</code>。</p><p id="97c1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以写:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="5da0" class="mt lf it mk b gy mu mv l mw mx">Math.pow(2, 2024) === Infinity</span></pre><p id="b767" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">哪个应该返回<code class="fe mh mi mj mk b">true</code>或者:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="b785" class="mt lf it mk b gy mu mv l mw mx">Number.isFinite(Math.pow(2, 2024))</span></pre><p id="fcfc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这应该会返回<code class="fe mh mi mj mk b">false</code>。</p><h1 id="b015" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="6e17" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated"><code class="fe mh mi mj mk b">NaN</code>是一个错误值，表示不是数字。然而，JavaScript认为<code class="fe mh mi mj mk b">NaN</code>的类型是数字。</p><p id="ed24" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">Infinity</code>是一个大到无法用JavaScript数字表示的值。它的行为很像数学上的无穷大。</p></div></div>    
</body>
</html>