# Swift 通用

> 原文：<https://levelup.gitconnected.com/swift-generic-4937967755a5>

# 为什么使用泛型类型

*   使用泛型类型或泛型方法，我们可以创建抽象和可重用的代码。
*   例如，我们可以创建一个接受任何类型作为参数的函数，而不是创建一个只接受整数作为参数的函数。

# 如何识别泛型类型

*   泛型类型由类型名后面的尖括号定义，例如 struct SomeType <t>{}</t>
*   数组和字典是我们日常使用的两种常见的泛型类型。

*   关键字`where: Hashable` 表示该类型必须采用可哈希协议。

# 如何识别泛型方法

*   泛型方法也由方法名后的尖括号定义，例如`func name<T>(param1: T, param2: T) -> T {}`
*   max()函数是采用泛型类型 T 的泛型函数的一个示例，其中 T 必须采用可比协议。

# 如何识别通用协议

*   通用协议由关键字`associatedtype`定义

# 如何使用泛型使代码可重用

步骤 1:分析函数

第二步:注意常见的模式。在这个例子中，有三种常见的模式

1.  URL 实例
2.  对 URL 的网络请求
3.  将数据解码成所需类型并返回。

步骤 3:创建通用协议

1.  URL 实例
2.  将数据转换成所需类型解码功能

步骤 4:采用创建的通用协议

步骤 5:创建一个使用这个通用协议通用方法

步骤 6:用创建的通用函数替换 fetchPhoto()和 fetchImage()。