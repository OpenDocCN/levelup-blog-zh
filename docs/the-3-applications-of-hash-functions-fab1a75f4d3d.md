# å“ˆå¸Œå‡½æ•°çš„ 3 ä¸ªåº”ç”¨

> åŸæ–‡ï¼š<https://levelup.gitconnected.com/the-3-applications-of-hash-functions-fab1a75f4d3d>

## å®ƒä»¬æ˜¯ä»€ä¹ˆï¼Œæœ‰å“ªäº›é€‰æ‹©ï¼Œä»¥åŠå®ƒä»¬ä¸ºä»€ä¹ˆé‡è¦

![](img/6d6f408e3c5333f67367f783ef3312f6.png)

å›¾ç‰‡ä½œè€…:é©¬ä¸Â·æ‰˜é©¬æ–¯

å“ˆå¸Œå‡½æ•°å°†ä»»æ„å¤šä¸ªå­—èŠ‚ä½œä¸ºè¾“å…¥ï¼Œå¹¶äº§ç”Ÿä¸€ä¸ªå›ºå®šé•¿åº¦çš„å­—ç¬¦ä¸²ä½œä¸ºè¾“å‡ºã€‚è¯¥å­—ç¬¦ä¸²é€šå¸¸çœ‹èµ·æ¥å®Œå…¨éšæœºï¼Œä½†æ˜¯ç›¸åŒçš„è¾“å…¥æ€»æ˜¯ç”Ÿæˆç›¸åŒçš„è¾“å‡ºã€‚å¯¹äºä¸åŒçš„è¾“å…¥ï¼Œå®ƒä»¬é€šå¸¸ä¼šäº§ç”Ÿä¸åŒçš„è¾“å‡ºï¼Œä½†ç¨åä¼šè¯¦ç»†ä»‹ç»ã€‚

è¯»å®Œè¿™ç¯‡æ–‡ç« åï¼Œä½ ä¼šçŸ¥é“æ•£åˆ—å‡½æ•°çš„ä¸‰ç§ä¸åŒçš„åº”ç”¨ã€‚æ‰€æœ‰è¿™äº›å¯¹äºç°ä»£è½¯ä»¶å¼€å‘éƒ½æ˜¯è‡³å…³é‡è¦çš„ã€‚æˆ‘ä»¬èµ°å§ï¼

# å¹³å‡¡çš„æ•£åˆ—å‡½æ•°

å‡è®¾æˆ‘ä»¬æƒ³è¦ä¸€ä¸ªæ•£åˆ—å‡½æ•°ï¼Œå®ƒæ¥å—ä»»æ„é•¿åº¦çš„è¾“å…¥å¹¶ç”Ÿæˆä¸€ä¸ª 128 ä½çš„è¾“å‡ºã€‚

è®¡ç®—æ•£åˆ—çš„ç®€å•æ–¹æ³•æ˜¯æŸ¥çœ‹ 128 ä½æ•°æ®å—ã€‚å¦‚æœè¾“å…¥ä¸æ˜¯ 128 ä½çš„å€æ•°ï¼Œæˆ‘ä»¬å°±ç”¨é›¶å¡«å……å®ƒã€‚ç„¶åæˆ‘ä»¬å¯¹è¿™äº›å—è¿›è¡Œå¼‚æˆ–è¿ç®—:

è¿™åªæ˜¯å“ˆå¸Œå‡½æ•°çš„ä¸€ä¸ªéå¸¸ç®€å•çš„ä¾‹å­ã€‚å®ƒæœ‰ä¸¤ä¸ªå¾ˆå¥½çš„ç‰¹æ€§:æ‰§è¡Œé€Ÿåº¦éå¸¸å¿«ï¼Œéå¸¸ç®€å•ã€‚

ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾:

*   é€šè¿‡æ›´æ”¹è¾“å…¥æ¥å¼ºåˆ¶æ‰§è¡ŒæŸä¸ªå“ˆå¸Œå€¼æ˜¯å¾ˆç®€å•çš„äº‹æƒ…
*   å¦‚æœæ‚¨ä½¿ç”¨æ•£åˆ—å‡½æ•°è¿›è¡Œé”™è¯¯æ£€æŸ¥ï¼Œæ‚¨å°†æ— æ³•åœ¨ç›¸åŒçš„ä½ç½®ä»¥æ•£åˆ—é•¿åº¦ä¸ºæ¨¡æ•è·å¶æ•°ä¸ªé”™è¯¯ã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨åœ¨ç¬¬ 127 ä½å’Œç¬¬ 255 ä½æœ‰é”™è¯¯ï¼Œå“ˆå¸Œå°†ä¸æ²¡æœ‰é”™è¯¯æ—¶ç›¸åŒã€‚
*   çŸ­è¾“å…¥çš„å“ˆå¸Œå€¼(ä½äºå“ˆå¸Œå€¼çš„é•¿åº¦)å°±æ˜¯å¡«å……çš„è¾“å…¥ã€‚å¯ä»¥ç›´æ¥çœ‹ã€‚

# åº”ç”¨ 1:å¯†ç 

å½“ä½ åœ¨ç½‘ç«™æ³¨å†Œæ—¶ï¼Œä½ é€šå¸¸éœ€è¦è¾“å…¥å¯†ç ã€‚ä½†æ˜¯ç½‘ç«™å¯èƒ½ä¼šè¢«é»‘ï¼Œæ”»å‡»è€…å¯èƒ½ä¼šå¾—åˆ°ä½ çš„å¯†ç ã€‚ä¸ºäº†ä¿æŠ¤ç”¨æˆ·ï¼Œå¯†ç ä¸ä»¥æ˜æ–‡å½¢å¼å­˜å‚¨ã€‚å®ƒä»¬ä¹Ÿæ²¡æœ‰åŠ å¯†ã€‚ç›¸åï¼Œå®ƒä»¬è¢«æ•£åˆ—ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å¯¹å®ƒä»¬åº”ç”¨ä¸€ä¸ª**å•å‘å‡½æ•°**ã€‚æ•£åˆ—å‡½æ•°çš„ä¸€ä¸ªå…¸å‹ä¾‹å­æ˜¯ MD5ã€‚åœ¨ Python ä¸­ï¼Œæ‚¨å¯ä»¥åƒè¿™æ ·åº”ç”¨å®ƒ:

```
# IMPORTANT: DO NOT USE MD5 FOR PASSWORDS!
>>> import hashlib
>>> hashlib.md5(b"unicorn").hexdigest()
'1abcb33beeb811dca15f0ac3e47b88d9'
>>> hashlib.md5(b"unicorns").hexdigest()
'02d8c4ac323c5df679077f020f170453'
```

æ‚¨å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°ä¸¤ä¸ªå…³é”®å±æ€§:(1)è¾“å…¥çš„é•¿åº¦æ— å…³ç´§è¦ï¼›è¾“å‡ºçš„é•¿åº¦æ˜¯æ’å®šçš„ï¼Œå¹¶ä¸”(2)ä¸åŒçš„è¾“å…¥æ˜ å°„åˆ°ä¸åŒçš„è¾“å‡ºã€‚

æ‚¨çœ‹ä¸åˆ°çš„æ˜¯å“ˆå¸Œå‡½æ•°çš„å•å‘ç‰¹æ€§:

![](img/d4ede014f8fe27a9f60f2fef35463e37.png)

å›¾ç‰‡ä½œè€…:é©¬ä¸Â·æ‰˜é©¬æ–¯

è®¡ç®—ç»™å®šå¯†ç çš„å“ˆå¸Œå€¼ç›¸å¯¹è¾ƒå¿«ä¸”å…·æœ‰ç¡®å®šæ€§ã€‚ç»™å®šå“ˆå¸Œå€¼ï¼Œä¸å¯èƒ½ç¡®åˆ‡çŸ¥é“åŸå§‹å¯†ç ã€‚å‡ºç°è¿™ç§æƒ…å†µçš„åŸå› æ˜¯å†²çª:å¯†ç å¯ä»¥ä»»æ„é•¿ï¼Œä½†æ˜¯å“ˆå¸Œå€¼çš„é•¿åº¦æ˜¯å›ºå®šçš„ã€‚è¿™æ„å‘³ç€ä¸€å®šæœ‰ä¸€äº›(ä¸åŒçš„)å¯†ç å…·æœ‰ç›¸åŒçš„å“ˆå¸Œå€¼ã€‚å¯¹äºå¥½çš„æ•£åˆ—å‡½æ•°æ¥è¯´ï¼Œè¿™æ˜¯è¶…çº§ä¸å¯èƒ½çš„ã€‚

é€šå¸¸ï¼ŒæŸ¥æ‰¾å…·æœ‰ç»™å®šå“ˆå¸Œå€¼çš„å¯†ç çš„æœ€ä½³é€‰æ‹©æ˜¯å°è¯•æ¯ä¸ªå¯èƒ½çš„å¯†ç ï¼Œç›´åˆ°çœ‹åˆ°ç›¸åŒçš„å“ˆå¸Œå€¼:

```
def inverse_hash(hashed_password):
    for password in generate_new_password():
        if hash(password) == hashed_password:
            return password
```

è¿™æ¯”è®¡ç®—å“ˆå¸Œå€¼éš¾å¤šäº†ã€‚å¯¹äºéšæœºç”Ÿæˆçš„å¯†ç ï¼Œå¾ˆå¯èƒ½æ‚¨å¿…é¡»å°è¯•æ•°åäº¿ä¸ªå¯†ç ï¼Œç›´åˆ°æ‚¨ç¢°å·§æ‰¾åˆ°ä¸€ä¸ªå…·æœ‰æ­£ç¡®å“ˆå¸Œçš„å¯†ç ã€‚

**å¯†ç å“ˆå¸Œå‡½æ•°**æ˜¯å“ˆå¸Œå‡½æ•°ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„å“ˆå¸Œå‡½æ•°éƒ½æ˜¯å¯†ç å“ˆå¸Œå‡½æ•°ã€‚åŠ å¯†å“ˆå¸Œå‡½æ•°éœ€è¦çš„å…¶ä»–å±æ€§æœ‰:

*   **é¢„é•œåƒæŠ—æ”»å‡»èƒ½åŠ›**:ç»™å®š`hash(m1)`ï¼Œæ‰¾ä¸åˆ°`m1`ã€‚
*   **é›ªå´©æ•ˆåº”**:å¦‚æœä½ æ”¹å˜è¾“å…¥ä¸­çš„å•ä¸ªæ¯”ç‰¹ï¼Œè¾“å‡ºä¸­çš„æ¯ä¸ªæ¯”ç‰¹éƒ½æœ‰ 50%çš„æ¦‚ç‡å‘ç”Ÿå˜åŒ–ã€‚è¿™ä¸ªå±æ€§æ˜¯å¯å–çš„ï¼Œå› ä¸ºå®ƒè¡¨æ˜æ‚¨æ²¡æœ‰å¾—åˆ°ä»»ä½•å…³äºå‰æ˜ åƒçš„ä¿¡æ¯ã€‚
*   **æŠ—ç¢°æ’æ”»å‡»**:æ‰¾ä¸åˆ°å“ˆå¸Œå€¼`hash(m1) == hash(m2)`ç›¸åŒçš„`m1`å’Œ`m2`æ¶ˆæ¯ã€‚
*   **é€‰æ‹©å‰ç¼€æŠ—æ”»å‡»**:è¿™æ¯”ç¢°æ’æŠ—æ”»å‡»æ›´ä¸€èˆ¬ã€‚ç»™å®šä¸¤ä¸ªå‰ç¼€`p1`å’Œ`p2`ï¼Œæ‰¾åˆ°ä¸¤ä¸ªæ¶ˆæ¯`m1`å’Œ`m2`ï¼Œä½¿å¾—å®ƒä»¬çš„ä¸²è”ç»™å‡ºç›¸åŒçš„æ•£åˆ—:
    `hash(p1+m1) == hash(p2+m2)` ( [æº](https://en.wikipedia.org/wiki/Collision_attack))

å¦‚æœæ”»å‡»è€…æƒ³è¦åº”ç”¨ä¸Šé¢ç»™å‡ºçš„`inverse_hash`,ä½ åº”è¯¥è®©å®ƒæˆä¸ºä¸€ä¸ªè¶…çº§è€—æ—¶çš„æ“ä½œã€‚å› æ­¤ï¼Œé€šè¿‡åº”ç”¨å“ˆå¸Œå‡½æ•° 1000 æ¬¡ï¼Œæ‚¨å¯ä»¥å°†æ‰§è¡Œæ—¶é—´ä»å¤§çº¦ 100Î¼s æ¨åˆ° 100msã€‚

è¦äº†è§£æ›´å¤šç»†èŠ‚ï¼Œè¯·é˜…è¯»æˆ‘çš„å…³äºå¯†ç å“ˆå¸Œçš„æ–‡ç« :

[](/password-hashing-eb3b97684636) [## å¯†ç å“ˆå¸ŒğŸ˜‡

### å‡†å¤‡å¥½è¢«é»‘å§

levelup.gitconnected.com](/password-hashing-eb3b97684636) 

# åº”ç”¨ 2:å®Œæ•´æ€§æ£€æŸ¥

æœ‰æ—¶ä½ åªæƒ³çŸ¥é“ä¸¤ä¸ªæ–‡ä»¶æ˜¯å¦å¯èƒ½å®Œå…¨ç›¸åŒã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯èƒ½å¸Œæœ›åˆ›å»ºä¸€ä¸ªç¨‹åºæ¥æ‰«æç›®å½•å’Œæ‰€æœ‰å­ç›®å½•ä¸­çš„é‡å¤æ–‡ä»¶:

åœ¨è¿™ä¸ªåº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªä¸åŒçš„å“ˆå¸Œå€¼é€šå¸¸æ„å‘³ç€è¾“å…¥æ˜¯ä¸åŒçš„è¿™ä¸€äº‹å®ã€‚å“ˆå¸Œå†²çªå¾ˆå°‘å‘ç”Ÿã€‚ç„¶åï¼Œæ‚¨è¿˜å¯ä»¥æ¯”è¾ƒ`duplicate_set`ä¸­çš„æ–‡ä»¶ï¼Œä»¥ç¡®ä¿å®ƒä»¬ç¡®å®æ˜¯é‡å¤çš„ã€‚

è¿™ç§æ–¹æ³•ä¹Ÿå¯ä»¥ç”¨æ¥ç¡®ä¿æ–‡ä»¶çš„å®Œæ•´æ€§ã€‚æƒ³æƒ³ä½ ä¸‹è½½çš„å¤§æ–‡ä»¶ã€‚æ‚¨å¯ä»¥é€šè¿‡è®¡ç®—å·²ä¸‹è½½æ–‡ä»¶çš„æ ¡éªŒå’Œä¸åœ¨çº¿æ–‡ä»¶çš„æ ¡éªŒå’Œæ¥æ£€æŸ¥ä¸‹è½½è¿‡ç¨‹ä¸­æ˜¯å¦å‡ºç°äº†é—®é¢˜ã€‚

# åº”ç”¨ 3:åŒºå—é“¾ä¸­çš„å·¥ä½œè¯æ˜

æ¯”ç‰¹å¸å’Œå…¶ä»–å„ç§åŒºå—é“¾ä½¿ç”¨ä¸€ç§å«åšâ€œå·¥ä½œè¯æ˜â€çš„æ¦‚å¿µã€‚å¯¹äºè¿™äº›æŠ€æœ¯æ¥è¯´ï¼Œèƒ½å¤Ÿè¯æ˜ä½ åœ¨ä¸€ä¸ªé—®é¢˜ä¸ŠæŠ•å…¥äº†ä¸€å®šçš„è®¡ç®—èµ„æºæ˜¯å¾ˆé‡è¦çš„ã€‚è§£å†³è¿™ä¸ªé—®é¢˜éœ€è¦å¾ˆéš¾ï¼Œä½†æ˜¯å®¹æ˜“äº§ç”Ÿé—®é¢˜å®ä¾‹ã€‚å·¥ä½œè¯æ˜çš„ä¸€ä¸ªå¸¸è§é€‰æ‹©æ˜¯ä½¿ç”¨åŠ å¯†æ•£åˆ—å‡½æ•°ï¼Œå¹¶è¦æ±‚è¾“å…¥ç”Ÿæˆå…·æœ‰ç‰¹å®šæ¨¡å¼çš„æ•£åˆ—å€¼ã€‚ä¾‹å¦‚:

> æ‰¾åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²`x`ï¼Œä½¿å¾—`y := sha256(x)`å’Œ`y`ä»¥`0000`å¼€å§‹

è¿™ç§æ¨¡å¼å—åˆ°çš„é™åˆ¶è¶Šå¤šï¼Œè§£å†³è¿™ä¸ªä»»åŠ¡å°±è¶Šéš¾ã€‚å› æ­¤ä½ å¿…é¡»æŠ•å…¥æ›´å¤šçš„å·¥ä½œã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªè§£å†³æ­¤ç±»ä»»åŠ¡çš„ç®€çŸ­ç¨‹åº:

å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºå¦‚ä½•åœ¨åŒºå—é“¾ä¸­ä½¿ç”¨å·¥ä½œè¯æ˜çš„èƒŒæ™¯ï¼Œå¯ä»¥çœ‹çœ‹æˆ‘çš„ä»‹ç»æ€§æ–‡ç« :

[](https://medium.com/coinmonks/the-blockchain-473aac352e5) [## åŒºå—é“¾

### â‚¿åŒºå—é“¾ã€æ¯”ç‰¹å¸åŠç›¸å…³æ¦‚å¿µä»‹ç»

medium.com](https://medium.com/coinmonks/the-blockchain-473aac352e5) 

# é¢å¤–æ”¶è·:å­—å…¸/åœ°å›¾/å…³è”æ•°ç»„

**å“ˆå¸Œæ˜ å°„**æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œé€šå¸¸å°†å­—ç¬¦ä¸²æˆ–æ•°å­—æ˜ å°„åˆ°ä»»ä½•å¯¹è±¡ã€‚å®ƒä»¬åœ¨ Python ä¸­ç§°ä¸ºå­—å…¸ï¼Œåœ¨ PHP ä¸­ç§°ä¸ºå…³è”æ•°ç»„ï¼Œåœ¨ Java ä¸­ç§°ä¸º HashMap/HashTableï¼Œåœ¨ C++ä¸­ç®€ç§°ä¸º Mapã€‚æ¦‚å¿µè¶…çº§é…·ï¼›çœ‹çœ‹[ç»´åŸºç™¾ç§‘çš„æ–‡ç« ](https://en.wikipedia.org/wiki/Hash_table)ã€‚

å¦‚æœä½ å¯¹ Python æ˜¯å¦‚ä½•åšåˆ°çš„æ„Ÿå…´è¶£ï¼Œé‚£ä¹ˆ [Praveen Gollakota](https://medium.com/u/50a1e60db988?source=post_page-----fab1a75f4d3d--------------------------------) å†™äº†ä¸€ä¸ª[æ£’æäº†çš„ StackOverflow ç­”æ¡ˆ](https://stackoverflow.com/a/9022835/562769)å’Œ [Ian Clelland](https://medium.com/u/e72f14e8b4ab?source=post_page-----fab1a75f4d3d--------------------------------) è§£é‡Šäº†[é»˜è®¤ä½¿ç”¨å“ªäº›æ•£åˆ—å‡½æ•°](https://stackoverflow.com/a/8998010/562769)ã€‚

# ç¢°æ’æœ‰å¤šå¸¸è§ï¼Ÿ

å¯¹äºè¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬åªéœ€è¦æ•£åˆ— 466ï¼Œ550 ä¸ªè‹±è¯­å•è¯ã€‚ä¸€æœ¬ç›¸å½“å…¨é¢çš„è¯å…¸ã€‚

è®©æˆ‘ä»¬é¦–å…ˆäº†è§£ä¸€ä¸‹æ¦‚å†µ:

```
Hash function        collisions      ns/value          bits
-------------------------------------------------------------------
sha512               0                1250.0 ns/value  512 bit
sha256               0                1039.0 ns/value  256 bit
sha1                 0                 884.0 ns/value  160 bit
RIPEMD160            0               13892.7 ns/value  160 bit
md5                  0                 857.8 ns/value  128 bit
crc32                23                596.3 ns/value   32 bit
adler32              227,149           660.9 ns/value   32 bit
char_xor             466,422           993.9 ns/value    7 bit
```

è¿™é‡Œæœ‰å‡ ä»¶äº‹å€¼å¾—æ³¨æ„:

*   128 ä½æˆ–æ›´é«˜çš„å“ˆå¸Œæ²¡æœ‰ä»»ä½•å†²çªã€‚`char_xor`å®é™…ä¸Šåªä½¿ç”¨ 7 ä½ï¼Œå› æ­¤æœ€å¤šåªèƒ½ç¼–ç  128 ä¸ªä¸åŒçš„å­—ã€‚
*   RIPEMD160 æ¯” SHA å“ˆå¸Œå‡½æ•°æ…¢å¾—å¤šã€‚å¾ˆå¯èƒ½[è‹±ç‰¹å°” SHA æ‰©å±•](https://en.wikipedia.org/wiki/Intel_SHA_extensions)ï¼Œä¹Ÿå°±æ˜¯ç›´æ¥ç¡¬ä»¶æ”¯æŒï¼Œæ˜¯é€Ÿåº¦å¦‚æ­¤ä¹‹å¿«çš„åŸå› ã€‚æ²™çš„çŸ¥ååº¦æé«˜ï¼Œæµä¼ ç”šå¹¿ã€‚å‡ºäºè¿™ä¸ªåŸå› ï¼Œæˆ‘å¸Œæœ›å®ç°éå¸¸é«˜æ•ˆã€‚

å¦‚æœä½ å¥½å¥‡çš„è¯ï¼Œè¿™æ˜¯ CRC32 çš„ 23 æ¬¡ç¢°æ’:

```
('Audras', 'bermensch')
('defeudalize', 'demobilisation')
('dyn', 'gigmanism')
('gigmaness', 'hyp')
('Endamoebidae', 'Ilysa')
('card-cutting', 'intertwinements')
('eminency', 'Kelcie')
('drift-netter', 'lattermath')
('meny', 'menthols')
('funerary', 'morenosite')
('envoyship', 'platycarpous')
('buckeroo', 'plumless')
('fetishists', 'precedential')
('penetration', 'prepituitary')
('death-polluted', 'rabbitoh')
('Bridget', 'slagging')
('bimasty', 'superspecial')
('droopingness', 'thalloid')
('coach-box', 'tythed')
('luminesce', 'twice-given')
('casewood', 'uncontorted')
('bronziest', 'unexigible')
('pachadoms', 'wind-changing')
```

# ä¸‹ä¸€æ­¥æ˜¯ä»€ä¹ˆï¼Ÿ

æˆ‘æƒ³è¿‡å†™ä¸€ä¸ªå…³äºå¼€å‘è€…åŸºç¡€çš„ç³»åˆ—ã€‚æˆ‘å¯ä»¥æƒ³è±¡ä¸€ç¯‡å…³äºæµ®åŠ¨çš„æ–‡ç« ï¼Œä¸€ç¯‡å…³äºæ—¥æœŸ/æ—¶é—´ã€æ¶æ„ã€ç½‘ç»œçš„æ–‡ç« ã€‚è®©æˆ‘çŸ¥é“ä½ å¯¹ä»€ä¹ˆæ„Ÿå…´è¶£ï¼