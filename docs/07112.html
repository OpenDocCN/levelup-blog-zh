<html>
<head>
<title>Extracting Audio from a Video using YouTubeDL Package</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用YouTubeDL包从视频中提取音频</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/extracting-audio-from-a-video-using-youtubedl-package-e98dc109f5d3?source=collection_archive---------18-----------------------#2021-01-25">https://levelup.gitconnected.com/extracting-audio-from-a-video-using-youtubedl-package-e98dc109f5d3?source=collection_archive---------18-----------------------#2021-01-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1290" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Python的简单音频提取项目</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b4399c3d65fbbb9de3d54df196aefc25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f2EQLNp5mQ05SqoEkQw7DQ.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://www.pexels.com/photo/macbook-white-164716/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">像素</a>的<a class="ae ky" href="https://www.pexels.com/@pixabay?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">皮克斯拜</a>拍摄</figcaption></figure><p id="184e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated"><span class="l lw lx ly bm lz ma mb mc md di">在这篇文章中，我将向你展示如何创建一个程序来下载YouTube视频的音频文件。这将是一个简单的项目，可以开始使用YouTubeDL包。使用Python可以做的事情是无限的，这也是Python成为一门引人注目的编程语言的原因。</span></p><p id="4d1e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我的帖子中，我展示了可以使用Python构建的各种项目，比如下面的:<a class="ae ky" href="https://towardsdatascience.com/building-a-face-recognizer-in-python-7fd6630c6340" rel="noopener" target="_blank">人脸识别器</a>到<a class="ae ky" href="https://towardsdatascience.com/building-a-barcode-qr-code-reader-using-python-360e22dfb6e5" rel="noopener" target="_blank">条形码阅读器</a>。如果你有一个想法，你可以用python来实现它。你的项目不需要完美；找一个你想解决的问题就好了。然后，开始编程。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi me"><img src="../Images/bba0212ccdfa9a31b84c67256ed05147.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ljZyOzCLoh8mwfIsDxM5Nw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">作者设计</figcaption></figure><h2 id="231e" class="mf mg it bd mh mi mj dn mk ml mm dp mn li mo mp mq lm mr ms mt lq mu mv mw mx bi translated">目录:</h2><ul class=""><li id="751d" class="my mz it lb b lc na lf nb li nc lm nd lq ne lu nf ng nh ni bi translated"><strong class="lb iu"> <em class="nj"> Python </em> </strong></li><li id="4300" class="my mz it lb b lc nk lf nl li nm lm nn lq no lu nf ng nh ni bi translated"><strong class="lb iu"><em class="nj">YouTube EDL库</em> </strong></li><li id="7167" class="my mz it lb b lc nk lf nl li nm lm nn lq no lu nf ng nh ni bi translated"><strong class="lb iu"> <em class="nj">主程序</em> </strong></li><li id="8b33" class="my mz it lb b lc nk lf nl li nm lm nn lq no lu nf ng nh ni bi translated"><strong class="lb iu"> <em class="nj">转换文件类型</em> </strong></li><li id="7304" class="my mz it lb b lc nk lf nl li nm lm nn lq no lu nf ng nh ni bi translated"><strong class="lb iu"> <em class="nj">结论</em> </strong></li></ul></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><h1 id="4f3a" class="nw mg it bd mh nx ny nz mk oa ob oc mn jz od ka mq kc oe kd mt kf of kg mw og bi translated">计算机编程语言</h1><p id="dba7" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li oh lk ll lm oi lo lp lq oj ls lt lu im bi translated">Python是一种通用编程语言，在分析数据方面越来越受欢迎。Python还能让您快速工作，更有效地集成系统。世界各地的公司都在利用Python从他们的数据中收集知识。官方Python页面如果你想<a class="ae ky" href="https://www.python.org/about/" rel="noopener ugc nofollow" target="_blank">了解更多</a>。</p></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><h1 id="958f" class="nw mg it bd mh nx ny nz mk oa ob oc mn jz od ka mq kc oe kd mt kf of kg mw og bi translated">YouTubeDL库</h1><p id="1209" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li oh lk ll lm oi lo lp lq oj ls lt lu im bi translated">我们将只需要一个图书馆；换句话说，这个项目的一个包。我提到这将是一个毫不费力的项目。我们将安装以下python包:<a class="ae ky" href="https://pypi.org/project/youtube_dl/#description" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> YouTube DL </strong> </a>。</p><p id="033d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">YouTubeDL是一个开源软件项目，主要从YouTube下载视频和音频，但它可以在不同的平台上工作。</p><p id="fb15" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用PIP (python包管理器)安装包:</p><pre class="kj kk kl km gt ok ol om on aw oo bi"><span id="e871" class="mf mg it ol b gy op oq l or os">pip install youtube_dl</span></pre><p id="6d73" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">安装完成后，我们可以将其导入到我们的程序中。我们将在代码编辑器中添加以下代码行。</p><pre class="kj kk kl km gt ok ol om on aw oo bi"><span id="808e" class="mf mg it ol b gy op oq l or os">from youtube_dl import YoutubeDL</span></pre><p id="bc1d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完美！让我们进入下一步，开始编写主程序。</p></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><h1 id="7d8b" class="nw mg it bd mh nx ny nz mk oa ob oc mn jz od ka mq kc oe kd mt kf of kg mw og bi translated">主程序</h1><p id="09b0" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li oh lk ll lm oi lo lp lq oj ls lt lu im bi translated">我们将有两个部分:定义音频下载器和while循环。我将分享代码中发生的事情的简短描述。</p><pre class="kj kk kl km gt ok ol om on aw oo bi"><span id="5fa8" class="mf mg it ol b gy op oq l or os">audio_downloader = YoutubeDL({'format':'bestaudio'})</span><span id="67c8" class="mf mg it ol b gy ot oq l or os">while True: <br/>  try: <br/>    print('Audio Downloader'.center(40, '_')) <br/>    URL = input('Enter the url of the video: ') <br/>    audio_downloader.extract_info(URL)</span><span id="917f" class="mf mg it ol b gy ot oq l or os">except Exception: <br/>    print("Couldn\'t download the audio")</span><span id="4960" class="mf mg it ol b gy ot oq l or os">finally: <br/>    option = int(input('\n <br/>    1.Download another audio \n <br/>    2.Exit Program \n\n</span><span id="d684" class="mf mg it ol b gy ot oq l or os">Choose your option :'))</span><span id="8f5a" class="mf mg it ol b gy ot oq l or os">if option != 1: <br/>      break</span></pre><ul class=""><li id="4243" class="my mz it lb b lc ld lf lg li ou lm ov lq ow lu nf ng nh ni bi translated">首先，我们定义音频下载器实例。至于格式，我们选择“最佳音频”。你可以从他们的github <a class="ae ky" href="https://github.com/ytdl-org/youtube-dl/blob/master/README.md" rel="noopener ugc nofollow" target="_blank">文档</a>中了解更多关于YouTubeDL的信息。</li><li id="f231" class="my mz it lb b lc nk lf nl li nm lm nn lq no lu nf ng nh ni bi translated">其次，我们正在启动一个while循环，这意味着它将一直运行，直到我们通过按“1”来打破循环。在循环中，程序要求用户输入我们希望程序下载的视频的url。在终端窗口中粘贴网址后，程序开始下载YouTube视频的音频。这是通过“<em class="nj"> extract_info </em>”方法完成的。</li><li id="30e3" class="my mz it lb b lc nk lf nl li nm lm nn lq no lu nf ng nh ni bi translated">最后，程序会询问用户是继续下载还是退出程序。这是一个交互式的程序，这使得它对用户更友好。</li></ul><p id="6f48" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这一步就到此为止，让我们进入下一步，在这里我们将读取下载的音频文件。</p></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><h1 id="f7ef" class="nw mg it bd mh nx ny nz mk oa ob oc mn jz od ka mq kc oe kd mt kf of kg mw og bi translated">转换文件类型</h1><p id="cacb" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li oh lk ll lm oi lo lp lq oj ls lt lu im bi translated">在这一步，我们将把下载的文件转换成音频格式。下载的格式是WebM。这是一种专门为网络设计的媒体格式。我们必须转换成常规的音频格式，如MP3、M4A或WAV，才能打开WebM文件。</p><p id="9344" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是WebM格式的简短定义:</p><p id="d3d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nj"> WebM定义了文件容器结构、视频和音频格式。WebM文件由使用VP8或VP9视频编解码器压缩的视频流和使用</em> <a class="ae ky" href="https://xiph.org/vorbis/" rel="noopener ugc nofollow" target="_blank"> <em class="nj"> Vorbis </em> </a> <em class="nj">或</em><a class="ae ky" href="https://www.opus-codec.org/" rel="noopener ugc nofollow" target="_blank"><em class="nj">Opus</em></a><em class="nj">音频编解码器压缩的音频流组成。(参考:</em><a class="ae ky" href="https://www.webmproject.org/about/" rel="noopener ugc nofollow" target="_blank"><em class="nj"/></a><em class="nj">)</em></p><p id="c255" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">回到转换，您可以使用在线转换工具将WebM文件转换为音频文件。随意找一个在线平台来完成这项工作。</p></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><h1 id="6ef9" class="nw mg it bd mh nx ny nz mk oa ob oc mn jz od ka mq kc oe kd mt kf of kg mw og bi translated">结论</h1><p id="649e" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li oh lk ll lm oi lo lp lq oj ls lt lu im bi translated">恭喜你。！您创建了一个程序，可以从YouTube下载视频音频。我们通过使用一个python包做到了这一点。这个包也可以用于不同的项目。现在，您已经了解了如何将想法转化为实际项目。</p><p id="8153" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从事像这样的动手编程项目是提高编码技能的最好方式。如果你今天学到了新东西，我会很高兴。</p><p id="1efd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nj">谢谢，</em></p></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><h2 id="5b1b" class="mf mg it bd mh mi mj dn mk ml mm dp mn li mo mp mq lm mr ms mt lq mu mv mw mx bi translated">资源</h2><ul class=""><li id="f49a" class="my mz it lb b lc na lf nb li nc lm nd lq ne lu nf ng nh ni bi translated"><a class="ae ky" href="https://www.python.org/about" rel="noopener ugc nofollow" target="_blank"> Python官方文档</a></li><li id="656f" class="my mz it lb b lc nk lf nl li nm lm nn lq no lu nf ng nh ni bi translated"><a class="ae ky" href="https://github.com/ytdl-org/youtube-dl/blob/master/README.md" rel="noopener ugc nofollow" target="_blank"> YouTubeDL官方文档</a></li><li id="2266" class="my mz it lb b lc nk lf nl li nm lm nn lq no lu nf ng nh ni bi translated"><a class="ae ky" href="https://www.webmproject.org/about" rel="noopener ugc nofollow" target="_blank"> WebM关于页面</a></li></ul></div></div>    
</body>
</html>