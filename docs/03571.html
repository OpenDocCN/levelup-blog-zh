<html>
<head>
<title>A look into Kotlin KAPT for Android — Code-In Mobile</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向Android的科特林·KAPT研究——手机代码</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/a-look-into-kotlin-kapt-for-android-code-in-mobile-46ca10d8cb63?source=collection_archive---------2-----------------------#2020-05-17">https://levelup.gitconnected.com/a-look-into-kotlin-kapt-for-android-code-in-mobile-46ca10d8cb63?source=collection_archive---------2-----------------------#2020-05-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5d98" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">科特林注释处理工具。这是什么？什么时候用？让我们来了解一下这个Android工具。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5833a91a815301f1df95124ffb9d9530.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*EDl-IWoWgjG4BPX-.jpg"/></div></div></figure><p id="9505" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Kotlin被引入Android世界已经三年了。像许多其他编程语言一样，注释是一个必需的强大工具，但令人惊讶的是Kotlin与Java的注释处理工具不兼容。因此，让我们深入了解什么是Android的KAPT。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lq"><img src="../Images/2c8c2de110c998a9cdce15f49f5573af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*FO74LxFNgKzVfDyh.jpg"/></div></div></figure><h1 id="605f" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">何时使用KAPT？</h1><p id="e4c9" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">当谈到Android中的注释处理时，我们通常想到的第一个问题是，你是否应该使用KAPT，尤其是在Java背景下。答案是，KAPT是Kotlin中进行注释处理的官方工具，因此答案总是。这是只要你需要标注处理，否则为什么要加？</p><h1 id="a584" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">包括KAPT在一个安卓项目中</h1><p id="b358" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">要开始在Android项目中使用KAPT，你应该像使用任何其他外部工具一样，将它添加到应用程序gradle dependencies中。使用下面一行来包含它:</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="874c" class="mt ls it mp b gy mu mv l mw mx">apply plugin: 'kotlin-kapt'</span></pre><p id="2863" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">就是这么简单，但是在将这个依赖项添加到项目中时会出现一个常见的错误。这个错误说“Kotlin插件应该在‘kot Lin-kapt’之前启用”，解决这个问题的方法很简单，但是当你有大量的代码行时，这可能会令人困惑。这个错误的意思是，当将上面的行添加到Gradle文件中时，您需要像这样首先添加Kotlin插件:</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="5962" class="mt ls it mp b gy mu mv l mw mx">apply plugin: 'kotlin-android' <br/>apply plugin: 'kotlin-kapt'</span></pre><p id="21e9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您切换第1行和第2行，您将得到上面的错误。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/77d47c2298f8b3f8a5361f628913647e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*uNOhEzPFy-QSa2As.jpg"/></div></div></figure><h1 id="fbe4" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">KAPT是用来做什么的？</h1><p id="403f" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">这个问题的答案很简单，它用于Kotlin中的注释处理。但是如果您对此感到疑惑，这可能意味着您不熟悉注释处理。</p><p id="9042" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们先来学习一下什么是注释。批注是您在文件和方法顶部看到的带有“@”符号的单词。您可能已经见过的最常见的例子是@Override注释。但是还有更多的，其中一些可以被Kotlin直接解释，那些被称为内置注释。其他人需要在代码中使用“注释处理器”，也称为KAPT。</p><p id="31d6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Kotlin文档中注释的定义如下:</p><blockquote class="mz na nb"><p id="4fb6" class="ku kv nc kw b kx ky ju kz la lb jx lc nd le lf lg ne li lj lk nf lm ln lo lp im bi translated">注释是将元数据附加到代码上的方法。</p><p id="e309" class="ku kv nc kw b kx ky ju kz la lb jx lc nd le lf lg ne li lj lk nf lm ln lo lp im bi translated"><a class="ae ng" href="https://kotlinlang.org/docs/reference/annotations.html" rel="noopener ugc nofollow" target="_blank">T3【https://kotlinlang.org/docs/reference/annotations.html】T5</a></p></blockquote><p id="ef47" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你想了解更多关于注释的知识，上面的文档会很有帮助。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lq"><img src="../Images/9c5fb547827a815b2f0f9d3be48930e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tFWze7sjwU0e6KGH.jpg"/></div></div></figure><h1 id="5e7b" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">好的，但是……注释处理器是做什么的？</h1><p id="e780" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">注释处理器可以追溯到Android基于Java的时候。Java中有很多关于注释的教程，因为在过去的某个时候，注释变得非常强大(事实也的确如此)并且是流行的工具。</p><p id="72f4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">无论是在Java还是Kotlin中，注释处理器都是在编译时运行代码并为应用程序生成代码的工具。这解释了为什么它们如此强大，如果你知道如何使用注释，它们可以通过自己生成代码来为你节省时间。</p><p id="c062" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">KAPT的一个优点是，如果你有一个同时包含Java和Kotlin文件的项目，它可以兼顾两者。反之则不然，因为APT (Java注释处理工具)不能解释Kotlin注释。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lq"><img src="../Images/530add3b67e4729182839c7b212f2dcd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cEJUPe4GJzBoaX3D.jpg"/></div></div></figure><h1 id="393a" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">包扎</h1><p id="2172" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">现在你应该对Android的KAPT有了更清晰的认识。随着您深入注释的世界，您将了解到您可以创建自己的注释，并使您的编码更加实用和安全。</p><p id="6e8f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你有任何疑问，不要犹豫留下评论，我会尽快回复。</p><p id="bd36" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">下次见！</p><p id="c3fa" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">埃娃娜·马尔甘·普伊格</p></div></div>    
</body>
</html>