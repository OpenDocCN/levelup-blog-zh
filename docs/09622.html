<html>
<head>
<title>Five jupyter magic commands to speed up your workflow</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">五个jupyter魔术命令加速您的工作流程</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/five-jupyter-magic-commands-to-speed-up-your-work-flow-dfaa5ade14ed?source=collection_archive---------16-----------------------#2021-08-26">https://levelup.gitconnected.com/five-jupyter-magic-commands-to-speed-up-your-work-flow-dfaa5ade14ed?source=collection_archive---------16-----------------------#2021-08-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/be0d43fa837d8334f06a98f1f476c27c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*l_v9VxcNiqGCrb0Q"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">Artem Maltsev 在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="1e1a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在jupyter笔记本上工作是测试代码和检查结果的好方法。有时我发现当我的工作流分散到太多的单元时会变得杂乱无章。这里有5个jupyter魔术命令，帮助你坚持下去，做更多的事情。</p><h2 id="6f81" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">1.<code class="fe lu lv lw lx b">%%writefile</code></h2><p id="dd72" class="pw-post-body-paragraph kd ke iq kf b kg ly ki kj kk lz km kn ko ma kq kr ks mb ku kv kw mc ky kz la ij bi translated">如果我正在做一个项目，我希望代码单元以后变成python文件，我使用<code class="fe lu lv lw lx b">%%writefile</code>单元魔法。<code class="fe lu lv lw lx b">%%writefile</code>把你正在写的文件名作为它的参数。</p><pre class="md me mf mg gt mh lx mi mj aw mk bi"><span id="5f38" class="lb lc iq lx b gy ml mm l mn mo">%%writefile hello.py<br/>def hello():<br/>    print("Hello everybody!")</span><span id="2c8a" class="lb lc iq lx b gy mp mm l mn mo">Writing hello.py</span></pre><p id="ab68" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果以后我想添加那个文件，我只需要添加<code class="fe lu lv lw lx b">-a</code>标志。</p><pre class="md me mf mg gt mh lx mi mj aw mk bi"><span id="2892" class="lb lc iq lx b gy ml mm l mn mo">%%writefile -a hello.py<br/>def hope():<br/>    print('Hope you are having a great day.')<br/>if __name__ == '__main__':<br/>    hello()<br/>    hope()</span><span id="01ad" class="lb lc iq lx b gy mp mm l mn mo">Appending to hello.py</span></pre><h2 id="ce8e" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">2.<code class="fe lu lv lw lx b">%load</code></h2><p id="5127" class="pw-post-body-paragraph kd ke iq kf b kg ly ki kj kk lz km kn ko ma kq kr ks mb ku kv kw mc ky kz la ij bi translated">如果我想加载我一直在处理的文件，我可以使用<code class="fe lu lv lw lx b">%load</code>行魔术，它把文件名作为一个参数。</p><pre class="md me mf mg gt mh lx mi mj aw mk bi"><span id="52c5" class="lb lc iq lx b gy ml mm l mn mo"># %load hello.py<br/>def hello():<br/>    print("Hello everybody!")<br/>def hope():<br/>    print('Hope you are having a great day.')<br/>if __name__ == '__main__':<br/>    hello()<br/>    hope()</span><span id="5783" class="lb lc iq lx b gy mp mm l mn mo">Hello everybody!<br/>Hope you are having a great day.</span></pre><p id="64de" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<code class="fe lu lv lw lx b">%load</code>行魔术执行后，代码出现在单元格中。魔术行注释掉了，这样我就可以执行我的代码，而不需要魔术重新运行。我也可以只加载我想用<code class="fe lu lv lw lx b">-r</code>标签使用的文件行。</p><pre class="md me mf mg gt mh lx mi mj aw mk bi"><span id="cb15" class="lb lc iq lx b gy ml mm l mn mo"># %load -r 3-4 hello.py<br/>def hope():<br/>    print('Hope you are having a great day.')</span></pre><p id="e929" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我最喜欢的功能是直接从URL加载。</p><pre class="md me mf mg gt mh lx mi mj aw mk bi"><span id="227a" class="lb lc iq lx b gy ml mm l mn mo"># %load https://bit.ly/jupmagart<br/>def hello():<br/>    print("Hello everybody!")<br/>def hope():<br/>    print('Hope you are having a great day.')<br/><br/>if __name__ == '__main__':<br/>    hello()<br/>    hope()</span><span id="0654" class="lb lc iq lx b gy mp mm l mn mo">Hello everybody!<br/>Hope you are having a great day.</span></pre><h2 id="3708" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">3.<code class="fe lu lv lw lx b">%alias</code></h2><p id="e6ff" class="pw-post-body-paragraph kd ke iq kf b kg ly ki kj kk lz km kn ko ma kq kr ks mb ku kv kw mc ky kz la ij bi translated"><code class="fe lu lv lw lx b">%alias</code>允许用户给一个新的魔法附加一个系统命令。</p><pre class="md me mf mg gt mh lx mi mj aw mk bi"><span id="1925" class="lb lc iq lx b gy ml mm l mn mo">%alias sign_file echo "%l" &gt;&gt; hello.py<br/>%sign_file "#Written for Medium by Michael Wayne Smith"</span></pre><h2 id="2d7c" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">4.<code class="fe lu lv lw lx b">%history</code></h2><p id="ebf5" class="pw-post-body-paragraph kd ke iq kf b kg ly ki kj kk lz km kn ko ma kq kr ks mb ku kv kw mc ky kz la ij bi translated"><code class="fe lu lv lw lx b">%history</code>打印您之前命令的历史记录。<code class="fe lu lv lw lx b">-n</code>标志对输出进行编号，<code class="fe lu lv lw lx b">-l</code>限制最后返回的行数。</p><pre class="md me mf mg gt mh lx mi mj aw mk bi"><span id="3fc8" class="lb lc iq lx b gy ml mm l mn mo">%history -n -l 3</span><span id="7ee4" class="lb lc iq lx b gy mp mm l mn mo">4:<br/># %load -r 3-4 hello.py<br/>def hope():<br/>    print('Hope you are having a great day.')<br/>5:<br/># %load https://bit.ly/jupmagart<br/>def hello():<br/>    print("Hello everybody!")<br/>def hope():<br/>    print('Hope you are having a great day.')<br/>if __name__ == '__main__':<br/>    hello()<br/>    hope()<br/>6:<br/>%alias sign_file echo "%l" &gt;&gt; hello.py<br/>%sign_file "#Written for Medium by Michael Wayne Smith"</span></pre><h2 id="c9e5" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">5.<code class="fe lu lv lw lx b">%macro</code></h2><p id="5f5a" class="pw-post-body-paragraph kd ke iq kf b kg ly ki kj kk lz km kn ko ma kq kr ks mb ku kv kw mc ky kz la ij bi translated"><code class="fe lu lv lw lx b">%macro</code>允许用户定义宏。这在与history命令结合使用时尤其强大。您可以将历史记录的行号传递给宏。</p><pre class="md me mf mg gt mh lx mi mj aw mk bi"><span id="ec8e" class="lb lc iq lx b gy ml mm l mn mo">%macro reprint_hello 5</span><span id="0b79" class="lb lc iq lx b gy mp mm l mn mo">Macro `reprint_hello` created. To execute, type its name (without quotes).<br/>=== Macro contents: ===<br/># %load https://bit.ly/jupmagart<br/>def hello():<br/>    print("Hello everybody!")<br/>def hope():<br/>    print('Hope you are having a great day.')<br/>if __name__ == '__main__':<br/>    hello()<br/>    hope()</span></pre><p id="2b32" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后可以调用命名的宏。</p><pre class="md me mf mg gt mh lx mi mj aw mk bi"><span id="1ca7" class="lb lc iq lx b gy ml mm l mn mo">reprint_hello</span><span id="7b39" class="lb lc iq lx b gy mp mm l mn mo">Hello everybody!<br/>Hope you are having a great day.</span></pre><p id="962a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">感谢阅读！</p><p id="2ecb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你可以在这里找到更多关于IPython magics <a class="ae kc" href="https://ipython.readthedocs.io/en/stable/interactive/magics.html#" rel="noopener ugc nofollow" target="_blank">的信息。</a></p></div></div>    
</body>
</html>