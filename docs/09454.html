<html>
<head>
<title>Why You Should Scan Packages in Ruby Applications</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么应该在Ruby应用程序中扫描包</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/why-you-should-scan-packages-in-ruby-applications-327dd8324f05?source=collection_archive---------12-----------------------#2021-08-11">https://levelup.gitconnected.com/why-you-should-scan-packages-in-ruby-applications-327dd8324f05?source=collection_archive---------12-----------------------#2021-08-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c8a7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解您的应用程序是否安全。很关键！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/bd39eb8780cf5282a08273c9aa8aeeb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fG4NSPJ2aouSP7Hh"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@flyd2069?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">飞:D </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></figcaption></figure><h1 id="778f" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">介绍</h1><p id="ca10" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">开源是大多数现代软件构建的驱动力。如果没有开源，现在很难想到开发任何解决方案。现在，开发人员在使用开源解决他们的问题之前不会三思。</p><p id="6b6e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">当您安装软件包时，它会在您的应用程序环境中运行。恶意或易受攻击的软件包可能会导致严重的后果，如侵入您的服务器。已经有过恶意代码隐藏在开源包中的例子。</p><p id="77a0" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">作为一名开发人员，我们每天都在许多战线上战斗。开源库和软件包可以方便地解决我们的问题。但是这些包中的任何一个都有漏洞。而且，作为问题解决者，我们没有时间去探究软件包的来源。</p><p id="c857" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">例如，已经有<a class="ae ky" href="https://www.cvedetails.com/vulnerability-list/vendor_id-12065/Rubygems.html" rel="noopener ugc nofollow" target="_blank">几份关于在Ruby gems中发现漏洞的报告</a>。</p><p id="a8ae" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">2020年12月，RubyGems移除了几个带有恶意代码的<a class="ae ky" href="https://www.securityweek.com/two-malware-laced-gems-found-rubygems-repository" rel="noopener ugc nofollow" target="_blank">宝石</a>。这些漏洞非常严重。这些gem包含恶意代码，用攻击者提供的地址替换剪贴板中的加密货币钱包地址。因此，攻击者可以访问用户的交易并窃取资金。</p><p id="fd8c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">你可以很容易地找到一个宝石，可以解决手头的问题，只要谷歌一下。一般你看许可证，GitHub上的星数，把宝石加到你的项目里。开发人员不要试图理解gem代码，只要它能解决他们的问题。</p><p id="4754" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">好吧，如果你对开源软件包带来的漏洞没有洞察力，你就是在瞎跑。</p><p id="7b6e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">以下是一些威胁、事实和数字，以及降低风险的方法。</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="ef04" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">主要威胁</h1><p id="f708" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">盲目地使用开源包或gems，你将自己置于危险之中。有许多错误会导致攻击:</p><ul class=""><li id="af27" class="ne nf it lt b lu mn lx mo ma ng me nh mi ni mm nj nk nl nm bi translated">使用老化和未维护的开源包。</li><li id="f672" class="ne nf it lt b lu nn lx no ma np me nq mi nr mm nj nk nl nm bi translated">低估开源漏洞可能造成的影响。</li><li id="dec1" class="ne nf it lt b lu nn lx no ma np me nq mi nr mm nj nk nl nm bi translated">在不了解更改的情况下升级软件包。</li><li id="4e90" class="ne nf it lt b lu nn lx no ma np me nq mi nr mm nj nk nl nm bi translated">不使用工具来找出您的应用程序由于开源而可能存在的漏洞。</li></ul></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="7ad2" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">事实和数字</h1><p id="b570" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><a class="ae ky" href="https://octoverse.github.com/static/github-octoverse-2020-security-report.pdf" rel="noopener ugc nofollow" target="_blank">octo verse</a>的2020年状态报告让您深入了解如果您使用错误的软件包可能会对您造成伤害的漏洞:</p><ul class=""><li id="fb71" class="ne nf it lt b lu mn lx mo ma ng me nh mi ni mm nj nk nl nm bi translated">17%的漏洞是故意恶意的。这清楚地表明，开源开发者故意将恶意软件隐藏在包中。但是，这也说明83%的漏洞都不是故意的。但是，它们仍然是弱点。</li><li id="6081" class="ne nf it lt b lu nn lx no ma np me nq mi nr mm nj nk nl nm bi translated">许多漏洞多年来都未被发现。</li><li id="d35b" class="ne nf it lt b lu nn lx no ma np me nq mi nr mm nj nk nl nm bi translated">具有受支持的包生态系统的活动Ruby库有81%的机会在下一年收到安全警报。</li></ul></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="152b" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">风险缓解</h1><p id="9741" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">好吧，有办法在这些弱点严重打击你之前减轻它们。这些方法简单而繁琐。</p><ul class=""><li id="cd1d" class="ne nf it lt b lu mn lx mo ma ng me nh mi ni mm nj nk nl nm bi translated">定期检查您使用的gem中的漏洞。获得一个可以发现漏洞和恶意软件并向您发出警告的工具。</li><li id="c19f" class="ne nf it lt b lu nn lx no ma np me nq mi nr mm nj nk nl nm bi translated">保持gem更新，因为有时他们会修复新版本中的漏洞。</li><li id="c854" class="ne nf it lt b lu nn lx no ma np me nq mi nr mm nj nk nl nm bi translated">如果你有解决办法，别忘了投稿。这会帮助别人。</li><li id="5f5b" class="ne nf it lt b lu nn lx no ma np me nq mi nr mm nj nk nl nm bi translated">构建一个监控系统，检查后端发生的任何攻击，并在受到攻击时发出警报。</li></ul></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="c26c" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">工具</h1><p id="416a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">市场上有许多工具可以扫描开源包，检测漏洞，并通过漏洞修复降低网络风险。</p><p id="df23" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">以下是市场上一些流行的工具:</p><ul class=""><li id="1726" class="ne nf it lt b lu mn lx mo ma ng me nh mi ni mm nj nk nl nm bi translated"><a class="ae ky" href="https://vulcan.io/lp/vulcan-free/" rel="noopener ugc nofollow" target="_blank">瓦肯</a>:瓦肯协调修复生命周期。它发现开源软件中的漏洞并修复它们。</li><li id="e3cf" class="ne nf it lt b lu nn lx no ma np me nq mi nr mm nj nk nl nm bi translated"><a class="ae ky" href="https://www.indusface.com/vulnerability-management.php?" rel="noopener ugc nofollow" target="_blank"> AppTrana </a> : AppTrana是一款Web应用防火墙。它扫描Web应用程序以查找漏洞。它还提供WAF、托管DDOS和Bot缓解服务以及CDN。</li><li id="e7af" class="ne nf it lt b lu nn lx no ma np me nq mi nr mm nj nk nl nm bi translated">Netsparker  : Netsparker web应用安全扫描程序检测漏洞，如SQL注入、跨站点脚本(XSS)。</li></ul><p id="9f68" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我一直在使用<a class="ae ky" href="https://www.whitesourcesoftware.com/whitesource-diffend/" rel="noopener ugc nofollow" target="_blank"> WhiteSource Diffend </a>来寻找我在各种项目中使用的包中的漏洞，无论是Ruby还是任何其他语言。该工具被许多著名的组织使用和信任，如微软、康卡斯特和诺基亚。它也是免费的，这很好。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/6daa5534f56735b4e4adc851a60c503b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*llfU4uxu2SYlhfyW"/></div></div></figure><p id="35a5" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">特别是对于Ruby，每当我添加一个新的gem或更新现有的gem时，我都会运行WhiteSource Diffend来扫描漏洞或恶意软件。</p><p id="b0c8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我使用Diffend发现了相当多的漏洞，因此能够在投入生产之前消除它们并找到替代方案。</p><p id="78ea" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">WhiteSource Diffend保护您免受各种攻击，如恶意接管、ATO攻击、makefile污染、<a class="ae ky" href="https://azure.microsoft.com/en-us/blog/how-azure-security-center-detects-a-bitcoin-mining-attack/" rel="noopener ugc nofollow" target="_blank">比特币挖矿</a>、意外注入等。</p><p id="5ea6" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在更新您的应用程序中的gem之前，您可以浏览这些更改并决定是否要升级。</p><p id="93fe" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">起初，我从免费版本开始，看看它有多有用。从那以后，我转向了付费版本，它提供了一种灵活的定价模式。</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="51de" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">最后的话</h1><p id="d834" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">你不能忽视开源在当今软件开发中的重要作用。但是，与此同时，您不应该忽视开源可能带来的漏洞。由于开源的采用正在飞速增长，所以在添加新的包或宝石或升级包时，你应该勤奋。</p><p id="283f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">开发人员发现漏洞并不容易。然而，有各种各样的工具可以帮你完成这项工作。您可以通过在每次添加/升级软件包或gem时运行这些工具来降低风险。当漏洞扫描集成到CI/CD流程中时，您会获得最佳结果。</p></div></div>    
</body>
</html>