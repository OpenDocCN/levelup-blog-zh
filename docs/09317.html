<html>
<head>
<title>Weather Data Analysis and Visualization with Pandas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫的天气数据分析和可视化</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/weather-data-analysis-and-visualization-with-pandas-dec9c6078065?source=collection_archive---------3-----------------------#2021-07-27">https://levelup.gitconnected.com/weather-data-analysis-and-visualization-with-pandas-dec9c6078065?source=collection_archive---------3-----------------------#2021-07-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/77dde12ec97019d6400fcfe81925d281.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QrHef_kP6IHAK2xxNJ0ixQ.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">由<a class="ae kf" href="https://unsplash.com/@maxlarochelle?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Max LaRochelle </a>在<a class="ae kf" href="https://unsplash.com/s/photos/weather?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="9030" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是一个关于如何使用一个著名的数据分析库Pandas进行数据分析和可视化的介绍性教程。以下是本教程内容的快速总结:</p><ul class=""><li id="1034" class="le lf it ki b kj kk kn ko kr lg kv lh kz li ld lj lk ll lm bi translated">Python包的安装(请求、熊猫、jupyter)</li><li id="138b" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated">天气数据收集(使用<a class="ae kf" href="https://www.tomorrow.io/" rel="noopener ugc nofollow" target="_blank"> Tomorrow.io天气API </a></li><li id="5508" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated">数据分析(平均值、最小值、最大值、标准值等。)</li><li id="434b" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated">数据可视化(条形图、饼图)</li></ul><p id="796e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们继续下一节，开始安装必要的软件包。</p></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="1f57" class="lz ma it bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">设置</h1><p id="098b" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">强烈建议您在继续之前创建一个虚拟环境。激活它并运行以下命令来安装所有必需的依赖项:</p><h2 id="3f6f" class="nc ma it bd mb nd ne dn mf nf ng dp mj kr nh ni mn kv nj nk mr kz nl nm mv nn bi translated">请求(可选)</h2><p id="ee13" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">我们使用<code class="fe no np nq nr b">requests</code>调用天气端点进行数据收集。运行以下命令进行安装:</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="00cd" class="nc ma it nr b gy oa ob l oc od">pip install requests</span></pre><h2 id="6e3c" class="nc ma it bd mb nd ne dn mf nf ng dp mj kr nh ni mn kv nj nk mr kz nl nm mv nn bi translated">熊猫</h2><p id="70a2" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">Pandas是数据科学项目中最有用和最核心的库之一。按照以下方式安装:</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="e3f2" class="nc ma it nr b gy oa ob l oc od">pip install pandas</span></pre><h2 id="62d6" class="nc ma it bd mb nd ne dn mf nf ng dp mj kr nh ni mn kv nj nk mr kz nl nm mv nn bi translated">朱皮特</h2><p id="f201" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">这个包为数据科学和机器学习项目提供了一个基于web的交互式开发环境。本教程涵盖了一个叫做<code class="fe no np nq nr b">Jupyter Notebook</code>的特性，它允许你创建交互式的实时代码。</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="3592" class="nc ma it nr b gy oa ob l oc od">pip install jupyter</span></pre></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="e1b6" class="lz ma it bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">数据收集</h1><p id="8eaa" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">本教程中使用的数据集来自Tomorrow.io天气API v4，这是最可靠的免费天气API之一。最新版本带有一体化端点，您只需对端点进行一次调用，即可轻松检索所需的所有数据。</p><p id="56e9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，最新版本还包括一些有用的功能，例如:</p><ul class=""><li id="20b3" class="le lf it ki b kj kk kn ko kr lg kv lh kz li ld lj lk ll lm bi translated"><code class="fe no np nq nr b">Polygon/polyline locations</code> —基于边界框的位置，而不仅仅是经纬度。</li><li id="0481" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated"><code class="fe no np nq nr b">Monitoring and alert via webhooks</code> —设置您自己的规则，以便在满足特定条件时接收警报。</li><li id="2b3c" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated"><code class="fe no np nq nr b">Dynamic routes</code> —将数据字段映射到旅行路线。</li><li id="e45f" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated"><code class="fe no np nq nr b">Dashboard</code> —洞察与互动天气图。</li></ul><h2 id="09fd" class="nc ma it bd mb nd ne dn mf nf ng dp mj kr nh ni mn kv nj nk mr kz nl nm mv nn bi translated">样本数据集</h2><p id="c6fd" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">您可以在以下Github要点中找到本项目中使用的样本数据集:</p><ul class=""><li id="f81c" class="le lf it ki b kj kk kn ko kr lg kv lh kz li ld lj lk ll lm bi translated"><a class="ae kf" href="https://gist.github.com/wfng92/440df3cbb35b46f9ba0f30a84da501c5" rel="noopener ugc nofollow" target="_blank"> lasvegas.txt </a></li><li id="ca7f" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated"><a class="ae kf" href="https://gist.github.com/wfng92/b5020b592520a984fa0cf4b0d3903587" rel="noopener ugc nofollow" target="_blank"> washington.txt </a></li></ul><p id="b074" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它包含华盛顿和拉斯维加斯15天的天气数据。</p><h2 id="7fef" class="nc ma it bd mb nd ne dn mf nf ng dp mj kr nh ni mn kv nj nk mr kz nl nm mv nn bi translated">天气API</h2><p id="e05a" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">如果你正在寻找更多的数据，明天注册一个新的账户。免费计划最多允许:</p><ul class=""><li id="4c49" class="le lf it ki b kj kk kn ko kr lg kv lh kz li ld lj lk ll lm bi translated">每天500个电话</li><li id="00ea" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated"><strong class="ki iu">每小时25次呼叫/ </strong></li><li id="78bc" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated"><strong class="ki iu">每秒3次呼叫/ </strong></li></ul><p id="3e3f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">完成后，点击<code class="fe no np nq nr b">Development</code>菜单，您应该会看到以下用户界面。</p><figure class="ns nt nu nv gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oe"><img src="../Images/b7df47a22a1884d641075f3891cbbccc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4EaD31oGskMCVQon3QPlaw.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">作者图片</figcaption></figure><p id="5380" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">记下<code class="fe no np nq nr b">Secret Key</code>，因为稍后调用天气API时会用到它。API接受以下输入参数:</p><ul class=""><li id="f37b" class="le lf it ki b kj kk kn ko kr lg kv lh kz li ld lj lk ll lm bi translated"><code class="fe no np nq nr b">location</code> —预定义位置或经纬度字符串的ID。</li><li id="5176" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated"><code class="fe no np nq nr b">fields</code> —代表数据层的字段列表。</li><li id="9693" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated"><code class="fe no np nq nr b">units</code> —单位制。接受<code class="fe no np nq nr b">metric</code>或<code class="fe no np nq nr b">imperial</code>。</li><li id="3baa" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated"><code class="fe no np nq nr b">timestep</code> —时间线的时间步长。默认值it <code class="fe no np nq nr b">1h</code>。接受<code class="fe no np nq nr b">best</code>、<code class="fe no np nq nr b">1m</code>、<code class="fe no np nq nr b">5m</code>、<code class="fe no np nq nr b">15m</code>、<code class="fe no np nq nr b">30m</code>、<code class="fe no np nq nr b">1h</code>、<code class="fe no np nq nr b">1d</code>或<code class="fe no np nq nr b">current</code>。</li><li id="18d0" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated"><code class="fe no np nq nr b">startTime</code>—ISO 8601格式的开始时间。如<code class="fe no np nq nr b">2019–03–20T14:09:50Z</code>。</li><li id="b497" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated"><code class="fe no np nq nr b">endTime</code>—ISO 8601格式的结束时间。如<code class="fe no np nq nr b">2019–03–20T14:09:50Z</code>。</li><li id="b759" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated"><code class="fe no np nq nr b">timezone</code> —日期时间的时区。默认为<code class="fe no np nq nr b">UTC</code>。</li></ul><p id="70e8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">创建一个新的Python文件，并在其中添加以下代码。</p><figure class="ns nt nu nv gt ju"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="5a03" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它将调用Tomorrow.io天气API并将数据保存在一个文本文件中。查看<a class="ae kf" href="https://docs.tomorrow.io/reference/get-timelines" rel="noopener ugc nofollow" target="_blank">官方文档</a>以了解更多可用数据。</p></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="fec5" class="lz ma it bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">数据分析</h1><p id="17f7" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">运行Jupyter Notebook就像在命令行中调用以下命令一样简单:</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="f316" class="nc ma it nr b gy oa ob l oc od">jupyter notebook</span></pre><p id="2e96" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它将使用以下URL在您的默认浏览器中启动一个新选项卡</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="161d" class="nc ma it nr b gy oa ob l oc od"><a class="ae kf" href="http://localhost:8888" rel="noopener ugc nofollow" target="_blank">http://localhost:8888</a></span></pre><p id="637d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">点击<code class="fe no np nq nr b">File &gt; New Notebook &gt; Python3</code>创建新笔记本。</p><h2 id="8ba4" class="nc ma it bd mb nd ne dn mf nf ng dp mj kr nh ni mn kv nj nk mr kz nl nm mv nn bi translated">导入</h2><p id="5aab" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">将下面的import语句添加到第一个单元格，点击<code class="fe no np nq nr b">Shift-Enter</code>执行代码，并跳转到下一个单元格。</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="60fe" class="nc ma it nr b gy oa ob l oc od">import pandas as pd<br/>import json</span></pre><p id="eae6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在Jupyter Notebook中，基于单元格执行代码。这很方便，因为您可以将数据加载代码放在一个单元格中，将数据分析代码放在另一个单元格中。这允许您一次加载数据集，多次执行数据分析代码。</p><h2 id="389a" class="nc ma it bd mb nd ne dn mf nf ng dp mj kr nh ni mn kv nj nk mr kz nl nm mv nn bi translated">加载数据集</h2><p id="6bec" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">在下一个单元格中，追加以下代码并执行它以加载数据集:</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="aee0" class="nc ma it nr b gy oa ob l oc od">with open('washington.txt', 'r', encoding='utf8') as f:<br/>    washington = json.load(f)<br/>with open('lasvegas.txt', 'r', encoding='utf8') as f:<br/>    lasvegas = json.load(f)</span></pre><h2 id="ccad" class="nc ma it bd mb nd ne dn mf nf ng dp mj kr nh ni mn kv nj nk mr kz nl nm mv nn bi translated">打印</h2><p id="6099" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">请注意，Jupyter Notebook会自动将最后一次评估的结果打印到控制台的一个单元格中。举个例子，</p><figure class="ns nt nu nv gt ju gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/e5c0862380b3c006df89cca8e373b148.png" data-original-src="https://miro.medium.com/v2/resize:fit:596/format:webp/1*g45TDjpqc7ZxK9yKZ1C0UQ.png"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">作者图片</figcaption></figure><p id="8f08" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这种情况下，不需要将变量包装在<code class="fe no np nq nr b">print()</code>函数中。如果您希望打印出所有变量，只需显式地打印出来，或者在笔记本的开头执行以下代码:</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="1e87" class="nc ma it nr b gy oa ob l oc od">from IPython.core.interactiveshell import InteractiveShell<br/>InteractiveShell.ast_node_interactivity = "all"</span></pre><h2 id="8284" class="nc ma it bd mb nd ne dn mf nf ng dp mj kr nh ni mn kv nj nk mr kz nl nm mv nn bi translated">创建新的数据框架</h2><p id="db38" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">接下来，运行下面的代码来创建一个新的<code class="fe no np nq nr b">DataFrame</code>对象:</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="6279" class="nc ma it nr b gy oa ob l oc od">intervals = washington['data']['timelines'][0]['intervals']</span><span id="54c6" class="nc ma it nr b gy oi ob l oc od">washington_df = pd.DataFrame([x['values'] for x in intervals])<br/>washington_df</span></pre><p id="6ce1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您应该会在控制台上看到以下输出:</p><figure class="ns nt nu nv gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oj"><img src="../Images/c42ad89ca56e12b168c61dce8f6614a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GmZWLsQxlUtkiLowdrr9kw.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">作者图片</figcaption></figure><p id="720d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">同样，对拉斯维加斯的数据重复相同的步骤。</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="5883" class="nc ma it nr b gy oa ob l oc od">intervals = lasvegas['data']['timelines'][0]['intervals']</span><span id="0e2a" class="nc ma it nr b gy oi ob l oc od">lasvegas_df = pd.DataFrame([x['values'] for x in intervals])<br/>lasvegas_df</span></pre><p id="5ba0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下结果将显示在您的控制台上。</p><figure class="ns nt nu nv gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ok"><img src="../Images/6d0d3fbc73672f6df0639a1d8daa51cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tabvJdThwNKDJg_hUSPYCg.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">作者图片</figcaption></figure><h2 id="46d8" class="nc ma it bd mb nd ne dn mf nf ng dp mj kr nh ni mn kv nj nk mr kz nl nm mv nn bi translated">修改数据帧</h2><p id="9e97" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">如你所见，<code class="fe no np nq nr b">weatherCode</code>是基于一个4位数的整数，这并不直观。让我们覆盖该列，并将代码映射到<a class="ae kf" href="https://docs.tomorrow.io/reference/data-layers-core" rel="noopener ugc nofollow" target="_blank">对应的值</a>。</p><figure class="ns nt nu nv gt ju"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="0346" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您应该会得到下面的输出，其中的代码被相应的天气所取代。</p><figure class="ns nt nu nv gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ol"><img src="../Images/2b85c1fb530dc84d12440b7dc9af56b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rSgSht0S3G6cnbfU40JoMg.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">作者图片</figcaption></figure><h2 id="3697" class="nc ma it bd mb nd ne dn mf nf ng dp mj kr nh ni mn kv nj nk mr kz nl nm mv nn bi translated">获取统计数据</h2><p id="a61c" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">为了获得每一列的最大值，可以运行下面的代码:</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="c474" class="nc ma it nr b gy oa ob l oc od">washington_df.max()</span></pre><p id="4575" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输出如下所示:</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="2152" class="nc ma it nr b gy oa ob l oc od">temperature                  28.28<br/>humidity                     95.03<br/>windSpeed                     8.06<br/>windDirection               311.89<br/>windGust                      18.4<br/>precipitationType                2<br/>solarGHI                    951.39<br/>visibility                   24.13<br/>weatherCode          Partly Cloudy<br/>dtype: object</span></pre><p id="7c5e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">或者，您可以获取单个列的最小值，如下所示:</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="fcd2" class="nc ma it nr b gy oa ob l oc od">washington_df['temperature'].min()<br/># 7.37</span></pre><p id="d76d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您可能更喜欢使用<code class="fe no np nq nr b">describe()</code>,因为它提供了您需要的所有信息:</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="75ec" class="nc ma it nr b gy oa ob l oc od">washington_df.describe()</span></pre><p id="ac28" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">结果如下:</p><figure class="ns nt nu nv gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi om"><img src="../Images/1c48e804558470a4a53cf6cd877aba64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*azaGY_4YLv4afqKmZkTFVQ.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">作者图片</figcaption></figure><h2 id="f68f" class="nc ma it bd mb nd ne dn mf nf ng dp mj kr nh ni mn kv nj nk mr kz nl nm mv nn bi translated">基于特定条件过滤数据帧</h2><p id="6620" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">假设您只想获取温度低于15摄氏度的地方的数据。您可以通过以下代码来实现:</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="c7ee" class="nc ma it nr b gy oa ob l oc od">washington_df[washington_df['temperature'] &lt;= 15]</span></pre><figure class="ns nt nu nv gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi on"><img src="../Images/71b17a52b307822e22db4f8ddcde5291.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9irFHU0HWwzY7XYZdbUzVQ.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">作者图片</figcaption></figure><p id="33b8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">除此之外，您还可以使用它进行字符串比较。例如，要获得所有被认为是<code class="fe no np nq nr b">Cloudy</code>的地方的数据，使用下面的代码:</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="6f2b" class="nc ma it nr b gy oa ob l oc od">washington_df[washington_df['weatherCode'] == 'Cloudy']</span></pre><figure class="ns nt nu nv gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oo"><img src="../Images/a16eb0e21a3f8f7addd866e7fd7fca6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U274nnZiLADxg6YKUBUR-g.png"/></div></div></figure><h2 id="2b45" class="nc ma it bd mb nd ne dn mf nf ng dp mj kr nh ni mn kv nj nk mr kz nl nm mv nn bi translated">数数</h2><p id="4d2a" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">假设给你一个任务来确定第几天是<code class="fe no np nq nr b">Cloudy</code>，最好的方法是使用下面的代码:</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="2c45" class="nc ma it nr b gy oa ob l oc od">lasvegas_df['weatherCode'].value_counts()</span></pre><p id="c440" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输出将根据频率排列:</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="81af" class="nc ma it nr b gy oa ob l oc od">Cloudy           7<br/>Drizzle          4<br/>Mostly Clear     3<br/>Partly Cloudy    1<br/>Clear            1<br/>Name: weatherCode, dtype: int64</span></pre></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="8105" class="lz ma it bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">数据可视化</h1><p id="269e" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">传统上，数据科学家使用<code class="fe no np nq nr b">matplotlib</code>包进行数据可视化。例如，要创建简单的条形图来显示每天的温度，请执行以下操作:</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="0679" class="nc ma it nr b gy oa ob l oc od">import matplotlib<br/>import matplotlib.pyplot as plt</span><span id="3c80" class="nc ma it nr b gy oi ob l oc od">fig = plt.figure()<br/>ax = fig.add_axes([0,0,1,1])<br/>ax.bar(indexes, washington_df['temperature'], color ='maroon', width = 0.4)<br/>plt.xlabel("Day")<br/>plt.ylabel("Temperature")<br/>plt.show()</span></pre><figure class="ns nt nu nv gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi op"><img src="../Images/2ac56ba529377db5122073125ef54a48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eJdzEQGkOkeEU5blvz8xEA.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">作者图片</figcaption></figure><p id="cd9f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，你可以使用<code class="fe no np nq nr b">DataFrame</code>对象直接绘制它们。通过以下代码可以获得相同的条形图:</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="56a8" class="nc ma it nr b gy oa ob l oc od">washington_df['temperature'].plot.bar(xlabel='Day', ylabel='Temperature', color ='maroon', width = 0.4)</span></pre><p id="ee50" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这比传统方法方便多了。</p><p id="0e3e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">事实上，您可以结合拉斯维加斯和华盛顿的数据，更好地了解这两个城市之间的差异。</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="ac4f" class="nc ma it nr b gy oa ob l oc od">barplot = pd.DataFrame({'Washington': washington_df['temperature'], 'LasVegas': lasvegas_df['temperature']}, index=indexes)</span><span id="a123" class="nc ma it nr b gy oi ob l oc od">barplot.plot.bar(width = 0.4)</span></pre><figure class="ns nt nu nv gt ju gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/b5cce59f3ca56f1fe6bfad0eee074b29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*Q_Ap8BCYJrfMD-d4HhkhOw.png"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">作者图片</figcaption></figure><p id="311a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们画一个<code class="fe no np nq nr b">Pie Chart</code>来表示被视为<code class="fe no np nq nr b">Cloudy</code>、<code class="fe no np nq nr b">Drizzle</code>等的天数。</p><pre class="ns nt nu nv gt nw nr nx ny aw nz bi"><span id="ede5" class="nc ma it nr b gy oa ob l oc od">weather = dict(washington_df['weatherCode'].value_counts())<br/>series = pd.Series(weather.values(), index=weather.keys(), name="Weather")</span><span id="102d" class="nc ma it nr b gy oi ob l oc od">series.plot.pie(figsize=(6, 6))</span></pre><p id="1acd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您应该在控制台上获得以下输出:</p><figure class="ns nt nu nv gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi or"><img src="../Images/bd370343baf1fa0cf579441e806e4c6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1234/format:webp/1*cV6WCewGTEo2_KnGzz-oVg.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">作者图片</figcaption></figure><p id="f2f1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">查看<a class="ae kf" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/visualization.html" rel="noopener ugc nofollow" target="_blank">以下文档</a>了解更多关于所有可用可视化的信息。</p></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="566b" class="lz ma it bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">结论</h1><p id="b0de" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">让我们回顾一下你今天所学的内容。</p><p id="b610" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">本教程从安装Python包开始，比如<code class="fe no np nq nr b">Pandas</code>和<code class="fe no np nq nr b">Jupyter</code>。</p><p id="f700" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，它讲述了如何从明天的天气API中获取额外的天气数据。</p><p id="ca12" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在随后的部分，重点转移到数据分析。这包括加载数据集、创建新的<code class="fe no np nq nr b">DataFrame</code>、获取统计数据以及基于特定条件的数据过滤。</p><p id="9d7a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，对<code class="fe no np nq nr b">Pandas</code>包中内置的数据可视化特性进行了解释。你可以用它来创建条形图，饼图等。</p><p id="66ef" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢你阅读这篇文章。祝你有美好的一天！</p></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="0e11" class="lz ma it bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">参考</h1><ol class=""><li id="e07a" class="le lf it ki b kj mx kn my kr os kv ot kz ou ld ov lk ll lm bi translated"><a class="ae kf" href="https://app.tomorrow.io/signin" rel="noopener ugc nofollow" target="_blank">明天—签到</a></li><li id="7750" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld ov lk ll lm bi translated"><a class="ae kf" href="https://docs.tomorrow.io/reference/welcome" rel="noopener ugc nofollow" target="_blank">明天—文档</a></li><li id="4471" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld ov lk ll lm bi translated"><a class="ae kf" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/visualization.html" rel="noopener ugc nofollow" target="_blank">熊猫——可视化</a></li></ol></div></div>    
</body>
</html>