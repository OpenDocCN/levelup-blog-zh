# JavaScript 最佳实践—箭头函数

> 原文：<https://levelup.gitconnected.com/javascript-best-practices-arrow-functions-aefef2517f4>

![](img/f2d680a48c1d9fd4abacab8722d4f5a1.png)

[大卫·克洛德](https://unsplash.com/@davidclode?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片

JavaScript 是一种非常宽容的语言。编写可以运行但有错误的代码很容易。

在本文中，我们将看看如何以最简洁的方式定义和使用箭头函数。

# 如果一个表达式跨越多行，那么用括号把它括起来，使它更易读

如果我们有一个 arrow 函数，它有一个跨越多行的长 JavaScript 表达式，那么我们应该用括号将表达式括起来。

这适用于没有花括号的箭头函数。例如，如果我们的 arrow 函数返回一个对象，那么我们应该编写如下代码:

```
const foo = () => ({
  a: 1
})
```

在上面的代码中，我们将对象表达式放在括号中，以便在调用`foo`函数时可以返回对象。

将对象放在括号中让我们返回它，而不是把它当作函数体的花括号。

因此，我们应该用花括号将表达式括起来。

# 为了清晰和一致，请始终将参数括在括号中

如果签名只有一个参数，箭头函数签名可以跳过括号。否则，我们必须包含括号。

然而，即使我们可以跳过签名中的括号，我们也可能希望包含它们，以使我们的函数签名更加清晰，并使代码与其他函数定义保持一致。

例如，我们编写以下代码，在函数签名中包含括号:

```
const foo = (a) => a + 1
```

# 避免混淆箭头函数语法(`=>`)和比较运算符(`<=`、`>=`)

arrow 函数中的粗箭头看起来像比较运算符，因为它们都由等号和大于号或小于号组成。

为了使箭头函数更容易与比较表达式区分开来，我们应该在表达式两边加上括号。

例如，我们可以为箭头函数编写以下代码:

```
const foo = (a) => (a <= 1);
```

我们用括号将函数体和签名包装起来，这样我们就知道我们有一个箭头函数。

从括号中，我们还可以清楚地看到，比较表达式是`a <= 1`。如果我们跳过括号，那么我们将很难区分函数代码和比较表达式。

所以如果我们有如下的东西:

```
const foo = a => a <= 1;
```

那么就很难分辨出函数箭头在哪里，比较箭头在哪里。

对于较长的函数，我们还应该用花括号来分隔函数体，如下所示:

```
const foo = (a) => {
  return a <= 1;
}
```

在上面的代码中，我们用花括号将函数体括起来，让每个人都清楚这就是函数体。

![](img/06ee68f669d882736a21f89fd87bd9c5.png)

泰勒·史密斯在 Unsplash[拍摄的照片](https://unsplash.com?utm_source=medium&utm_medium=referral)

# 使用隐式返回强制箭头函数体的位置

对于箭头函数的隐式返回，我们必须保持返回的表达式的位置是一致的。它应该从箭头函数的第一行开始。

但是，剩余的表达式可以在它下面的行中。例如，我们可以编写类似以下代码的函数:

```
const foo = (a) => a + 1;
const bar = (a) => (a + 1);
const baz = (a) => (
  a + 1
)
```

在上面的代码中，我们在第一行使用了隐式返回表达式。我们可以用几种方法把它放在第一行。

如果我们将返回的表达式放在括号中，那么我们可以将表达式移到第二行，就像在`baz`函数中一样。

然而，最重要的是保持我们在第一行返回的表达式的开头，如果添加了括号，就包括括号。

# 结论

对于箭头函数，我们必须小心隐式返回。我们返回的表达式必须从第一行开始。

如果我们返回的表达式跨越多行，那么它必须用括号括起来。

此外，为了避免与比较运算符(如大于或小于)混淆，我们应该将比较表达式括在括号中，或者如果我们有多行箭头函数，我们应该用花括号将整个内容括起来。