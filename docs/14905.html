<html>
<head>
<title>How to start with WebAssembly</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何开始使用WebAssembly</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-start-with-webassembly-1e87587ac4df?source=collection_archive---------6-----------------------#2022-12-31">https://levelup.gitconnected.com/how-to-start-with-webassembly-1e87587ac4df?source=collection_archive---------6-----------------------#2022-12-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="42d5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi ko translated"><span class="l kp ky bm di kz"><img alt="W" class="la lb lc ld le lf fc n ih dh bf" src="../Images/d891666cc9ebd9231a574f9c9cb6a45e.png" width="70" height="79" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fit:140/1*59b1ZckwqsMM87YXqWOz-g.png"/><span class="l kp kq kr bm ks kt ku kv kw di kx">W</span></span>ebAssembly(Wasm)是一种用于在网络上执行代码的低级二进制格式。它被设计成高效和快速的，并打算用作C、C++和Rust等语言的编译目标，然后可以在web上以接近本机的性能运行。</p><p id="b279" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">WebAssembly旨在作为JavaScript的补充，而不是替代。它可以在web应用程序中与JavaScript一起使用，以利用其性能优势，并运行在web上难以或不可能运行的代码。</p><p id="14fc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">WebAssembly的主要优势之一是它可以在现代web浏览器中运行，而不需要插件或附加软件。它还被设计成可移植的，可以在多种设备和平台上运行。</p><p id="dd10" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">WebAssembly仍然是一项相对较新的技术，但它已经被用于各种应用程序，如游戏、多媒体应用程序、科学模拟等。它有可能显著提高web应用程序的性能和功能，并使在web上运行更复杂和要求更高的应用程序成为可能。</p><p id="66b6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本文中，我们将创建一个示例项目来帮助您使用WebAssmbly。</p><p id="cb8c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这只是众多关于JavaScript和软件开发的文章中的一篇。欢迎关注我们，获取更多关于JavaScript和软件开发的精彩内容。我们尝试一周发布多次。请确保不要错过我们的任何精彩内容。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi lg"><img src="../Images/e0ddac8e17632a2b80fc4a5f71df959c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2v1BJjZUlQBVen3c"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">苏珊·霍尔特·辛普森在<a class="ae lv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="e9e6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这篇文章最初发表在我之前的博客上。</p><p id="248a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最近我想深入研究Web组装。我在网上找到的例子不管用，或者信息丢失。我会花几个小时去弄明白。为了节省你的时间，我创建了这个帖子。</p><p id="a84d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我被<a class="ae lv" href="https://medium.freecodecamp.org/get-started-with-webassembly-using-only-14-lines-of-javascript-b37b6aaca1e4#--respond" rel="noopener ugc nofollow" target="_blank">这个帖子</a>所吸引(但是这个项目不会为我运行)。因此，我根据那篇文章创建了自己的博客。</p><p id="8eb0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">文件结构将如下所示:</p><blockquote class="lw lx ly"><p id="cae9" class="jq jr lz js b jt ju jv jw jx jy jz ka ma kc kd ke mb kg kh ki mc kk kl km kn im bi translated">wasmDemo<br/>| _ index . html<br/>| _ scripts . js<br/>| _ server . js<br/>| _ squarer . wasm</p></blockquote><p id="dc6f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">所以，所有东西都在一个没有子文件夹的目录中。</p><p id="cab3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了编写一个C++程序，首先进入下面的页面:</p><p id="3e68" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae lv" href="https://mbebenita.github.io/WasmExplorer/" rel="noopener ugc nofollow" target="_blank">https://mbebenita.github.io/WasmExplorer/</a></p><p id="08b7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们写一个平方程序:</p><pre class="lh li lj lk gt md me mf bn mg mh bi"><span id="2760" class="mi mj it me b be mk ml l mm mn">int squarer((int i) {<br/> return i * i;<br/>}</span></pre><p id="12b2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">粘贴到上面的网站。然后编译它并下载`. wasm '文件。将该文件移到我们的文件夹“wasmDemo”中。</p><p id="699c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">接下来创建一个html文件:</p><pre class="lh li lj lk gt md me mf bn mg mh bi"><span id="66e6" class="mi mj it me b be mk ml l mm mn">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;meta charset="utf-8" /&gt;<br/>    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;<br/>    &lt;title&gt;WASM Demo&lt;/title&gt;<br/>    &lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;h1&gt;WASM Demo&lt;/h1&gt;<br/>    &lt;script src="./scripts.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="a4dd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后创建一个js文件:</p><pre class="lh li lj lk gt md me mf bn mg mh bi"><span id="2e4e" class="mi mj it me b be mk ml l mm mn">let squarer;<br/>function loadWebAssembly(fileName) {<br/>  return fetch(fileName)<br/>    .then(response =&gt; response.arrayBuffer())<br/>    .then(buffer =&gt; WebAssembly.compile(buffer))<br/>    .then(module =&gt; {<br/>      return new WebAssembly.Instance(module);<br/>  });<br/>}<br/>loadWebAssembly('./squarer.wasm').then(instance =&gt; {<br/>  squarer = instance.exports._Z7squareri;<br/>  console.log('Finished compiling! Ready when you are…');<br/>});</span></pre><p id="77c2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">因为我们必须在服务器上运行它，所以让我们为节点服务器创建一个server.js文件:</p><pre class="lh li lj lk gt md me mf bn mg mh bi"><span id="bbe9" class="mi mj it me b be mk ml l mm mn">var http = require('http');<br/>var fs = require('fs');<br/>var path = require('path');<br/>const PORT = 8080;<br/>http<br/>  .createServer(function(request, response) {<br/>    var filePath = '.' + request.url;<br/>    if (filePath == './') {<br/>      filePath = './index.html';<br/>    }<br/>    var extname = String(path.extname(filePath)).toLowerCase();<br/>    var mimeTypes = {<br/>      '.html': 'text/html',<br/>      '.js': 'text/javascript',<br/>      '.css': 'text/css',<br/>      '.wasm': 'application/wasm'<br/>    };<br/>    var contentType = mimeTypes[extname] || 'application/octet-stream';<br/>    fs.readFile(filePath, function(error, content) {<br/>      if (error) {<br/>        response.writeHead(404);<br/>        response.end('404 Not Found');<br/>      } else {<br/>        response.writeHead(200, { 'Content-Type': contentType });<br/>        response.end(content, 'utf-8');<br/>      }<br/>    });<br/>  })<br/>  .listen(PORT);</span></pre><p id="b81b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果一切正常，那么用“node server.js”启动应用程序</p><p id="5035" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在你可以访问squarer函数，我们用C++写的，也可以在js文件或控制台中使用。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/5c7fdb823e2c7f4190f716ff6bed224c.png" data-original-src="https://miro.medium.com/v2/resize:fit:304/format:webp/1*M96Lw3t2ZV4F3S-tD-N27Q.png"/></div></figure><p id="5071" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">就是这样。您刚刚创建了您的第一个WebAssembly应用程序。没那么难。尝试一下，让它成为你自己的，然后发布你创造的其他东西。我们很想知道你对此有何看法。</p><p id="4bff" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你喜欢这个教程，那么别忘了分享，鼓掌，关注我们。我们每周发表多篇文章。所以，不要错过任何一个。再见</p></div></div>    
</body>
</html>