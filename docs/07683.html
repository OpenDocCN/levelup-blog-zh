<html>
<head>
<title>How to Draw on an Image or Canvas in Python Using The Mouse</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用鼠标在Python中的图像或画布上绘图</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-draw-on-an-image-or-canvas-in-python-using-the-mouse-257f9d091f86?source=collection_archive---------1-----------------------#2021-03-05">https://levelup.gitconnected.com/how-to-draw-on-an-image-or-canvas-in-python-using-the-mouse-257f9d091f86?source=collection_archive---------1-----------------------#2021-03-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f9e6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如果你想在Tkinter的图像或画布上画点什么。有些步骤你应该先做。在这篇博客中一步一步地跟随我，看看你是如何轻松做到的。</h2></div><blockquote class="ki kj kk"><p id="445f" class="kl km kn ko b kp kq ju kr ks kt jx ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">原文在我的博客网站<a class="ae li" href="https://pycad.co/how-to-draw-on-an-image/" rel="noopener ugc nofollow" target="_blank"> <strong class="ko iu">这里</strong> </a>。</p></blockquote><figure class="lj lk ll lm gt ln"><div class="bz fp l di"><div class="lo lp l"/></div></figure><h1 id="8c30" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">台阶</h1><ul class=""><li id="ed7f" class="mi mj it ko b kp mk ks ml mm mn mo mp mq mr lh ms mt mu mv bi translated">创建应用程序</li><li id="7228" class="mi mj it ko b kp mw ks mx mm my mo mz mq na lh ms mt mu mv bi translated">创建画布</li><li id="8b92" class="mi mj it ko b kp mw ks mx mm my mo mz mq na lh ms mt mu mv bi translated">将图像放在画布上</li><li id="6295" class="mi mj it ko b kp mw ks mx mm my mo mz mq na lh ms mt mu mv bi translated">使用鼠标在画布上画线</li></ul><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="gh gi nb"><img src="../Images/ebf8763ca9f2cec6c45dd92cc437b4cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1NVLbsNs_WfHal7D1eD9oQ.png"/></div></div></figure><h1 id="b1ae" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">创建应用程序</h1><p id="1c2a" class="pw-post-body-paragraph kl km it ko b kp mk ju kr ks ml jx ku mm ni kx ky mo nj lb lc mq nk lf lg lh im bi translated">为了创建应用程序，我们将只使用4行代码(如果你以前从未使用过Tkinter，你可以在这个<a class="ae li" href="https://pycad.co/how-to-create-a-desktop-application-using-python-and-tkinter/" rel="noopener ugc nofollow" target="_blank"> <strong class="ko iu">链接</strong> </a>查看我的另一篇关于如何为初学者创建Tkinter应用程序的博客)。然而，我会给你4行代码来创建一个空的应用程序，我们需要在这个项目中。</p><pre class="lj lk ll lm gt nl nm nn no aw np bi"><span id="e88d" class="nq lr it nm b gy nr ns l nt nu">from tkinter import *<br/>app = Tk()<br/>app.geometry("400x400")<br/>app.mainloop()</span></pre><p id="1c51" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku mm kw kx ky mo la lb lc mq le lf lg lh im bi translated">第一行是包含Tkinter库。第二行是创建应用程序。第三步是更改应用程序的维度，最后一行是将应用程序作为主循环，这样它将保持运行。</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/2cc9fe5d18760ee81500eeb7a3c67a94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/0*ZIj_M46DCDxg3R8i.png"/></div></figure><h1 id="9d01" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">在Tkinter中创建画布</h1><p id="56f1" class="pw-post-body-paragraph kl km it ko b kp mk ju kr ks ml jx ku mm ni kx ky mo nj lb lc mq nk lf lg lh im bi translated">现在，在这之后，我们已经创建了空应用程序。我们需要在上面放一块画布，这样我们就可以在上面画画了。要创建一个非常真实的画布，我们将使用Tkinter的canvas函数。您可以在这两行代码中看到如何实现。</p><pre class="lj lk ll lm gt nl nm nn no aw np bi"><span id="97e7" class="nq lr it nm b gy nr ns l nt nu">canvas = Canvas(app, bg='black')<br/>canvas.pack(anchor='nw', fill='both', expand=1)</span></pre><p id="14cb" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku mm kw kx ky mo la lb lc mq le lf lg lh im bi translated">在第一行，我创建了一个黑色背景的画布。然后在第二行，我将它打包在应用程序中，但你可以看到，还有一些其他参数，我现在将讨论。</p><p id="3f37" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku mm kw kx ky mo la lb lc mq le lf lg lh im bi translated">还有就是<strong class="ko iu">锚点</strong>是选择画布的起点。为此，我为nor-west设置了<strong class="ko iu">‘NW’</strong>，这意味着画布的第一个点将位于小部件的相同起点(0，0)。</p><p id="04a6" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku mm kw kx ky mo la lb lc mq le lf lg lh im bi translated">对于<strong class="ko iu"> fill </strong>和<strong class="ko iu"> expand </strong>参数，用于在应用程序的整个区域上拉伸画布，以便我们可以使用整个尺寸。即使我们改变了窗口的大小，画布的大小也会自动改变。</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/3807099ae0a1e4d1bcecf978d8bdb0cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/0*JpbYuCe4qn9NRKwc.png"/></div></figure><h1 id="207b" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">如何在画布中放置图像</h1><p id="7ce6" class="pw-post-body-paragraph kl km it ko b kp mk ju kr ks ml jx ku mm ni kx ky mo nj lb lc mq nk lf lg lh im bi translated">现在到了将图像放入画布的步骤，为此我使用pillow library打开图像，调整其大小，并为Tkinter应用程序做好准备。</p><p id="cfea" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku mm kw kx ky mo la lb lc mq le lf lg lh im bi translated">然后，你应该使用“create_image”函数创建一个画布图像，这样你就可以在上面画画了。</p><p id="aac1" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku mm kw kx ky mo la lb lc mq le lf lg lh im bi translated">下面是实现这一点的代码行:</p><pre class="lj lk ll lm gt nl nm nn no aw np bi"><span id="69b0" class="nq lr it nm b gy nr ns l nt nu">image = Image.open("image.jpg")<br/>image = image.resize((400,400), Image.ANTIALIAS)<br/>image = ImageTk.PhotoImage(image)<br/>canvas.create_image(0,0, image=image, anchor='nw')</span></pre><p id="bbf6" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku mm kw kx ky mo la lb lc mq le lf lg lh im bi translated">你可以看到我调整了图像的大小，使其适合画布(你可以查看视频<a class="ae li" href="https://www.youtube.com/watch?v=4ehHuDDH-uc&amp;t=1s&amp;ab_channel=pycad" rel="noopener ugc nofollow" target="_blank"><strong class="ko iu"/></a>，它有更多的细节)。</p><p id="f7b8" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku mm kw kx ky mo la lb lc mq le lf lg lh im bi translated">这是应用程序上的图像:</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/436d48483d00a81df15474b7958008b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/0*AQHo-N1udweoS3eD.png"/></div></figure><h1 id="073a" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">使用鼠标在图像上绘图</h1><p id="e0f5" class="pw-post-body-paragraph kl km it ko b kp mk ju kr ks ml jx ku mm ni kx ky mo nj lb lc mq nk lf lg lh im bi translated">现在到了最后一步，将图像放到画布上后，我们需要为绘图创建两个函数。第一个函数是获取鼠标第一次点击的x和y坐标，然后第二个函数用新的点击获取前一次点击的坐标并画一条线。因为画一条线只需要两点，起点和终点。对于这一点，如果我们一直点击按钮，然后拖动进行绘制，这意味着我们正在创建许多点，这些点之间的距离非常小。用这些点我们画线，这样它会是连续的…</p><p id="661a" class="pw-post-body-paragraph kl km it ko b kp kq ju kr ks kt jx ku mm kw kx ky mo la lb lc mq le lf lg lh im bi translated"><a class="ae li" href="https://pycad.co/how-to-draw-on-an-image/" rel="noopener ugc nofollow" target="_blank"> <strong class="ko iu"> <em class="kn">阅读更多</em> </strong> </a></p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="gh gi nw"><img src="../Images/6ed1a37b09f1a3ec5375fbed1bd8666f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HdQ_POLPtWx4dn5bOWJYmA.png"/></div></div><figcaption class="nx ny gj gh gi nz oa bd b be z dk translated"><a class="ae li" href="https://pycad.co/how-to-draw-on-an-image/" rel="noopener ugc nofollow" target="_blank">链接此处</a></figcaption></figure></div><div class="ab cl ob oc hx od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="im in io ip iq"><blockquote class="oi"><p id="cb42" class="oj ok it bd ol om on oo op oq or lh dk translated">订阅<a class="ae li" href="https://astounding-teacher-3608.ck.page/136bdb1fbe" rel="noopener ugc nofollow" target="_blank">我的简讯</a>获取我工作的所有更新:)。</p></blockquote></div></div>    
</body>
</html>