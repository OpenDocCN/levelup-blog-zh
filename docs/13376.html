<html>
<head>
<title>Slap Chris Rock With The Power of JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript的力量给克里斯·洛克一巴掌</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/slap-chris-rock-with-the-power-of-javascript-79faabaccfd2?source=collection_archive---------15-----------------------#2022-08-30">https://levelup.gitconnected.com/slap-chris-rock-with-the-power-of-javascript-79faabaccfd2?source=collection_archive---------15-----------------------#2022-08-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/e9e7dc4ae720a75b35ff655ffa106566.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3CSwOoXWZBPMVSrB9fSNYw.png"/></div></div></figure><h2 id="8b57" class="kb kc it bd kd ke kf dn kg kh ki dp kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">概观</h2><p id="1546" class="pw-post-body-paragraph kx ky it kz b la lb lc ld le lf lg lh kk li lj lk ko ll lm ln ks lo lp lq lr im bi translated">在本文中，我们将看到网页游戏<a class="ae ls" href="https://slapchris.com/" rel="noopener ugc nofollow" target="_blank"> <em class="lt">打克里斯</em> </a> <em class="lt"> </em>是如何工作的。之后，我们将操纵可访问的JavaScript对象来获得更高的分数。</p><p id="0ecf" class="pw-post-body-paragraph kx ky it kz b la lu lc ld le lv lg lh kk lw lj lk ko lx lm ln ks ly lp lq lr im bi translated">我们将学习如何使用Chrome DevTools来读取源代码，以及如何使用JavaScript来覆盖一个公共方法以提高命中率。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h2 id="3b24" class="kb kc it bd kd ke kf dn kg kh ki dp kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">1.获取源代码</h2><p id="6f7b" class="pw-post-body-paragraph kx ky it kz b la lb lc ld le lf lg lh kk li lj lk ko ll lm ln ks lo lp lq lr im bi translated">为了获得游戏的源代码，我们将打开一个新的chrome选项卡，然后通过右键单击页面并选择“<em class="lt"> inspect”来打开DevTools。</em></p><p id="7a0d" class="pw-post-body-paragraph kx ky it kz b la lu lc ld le lv lg lh kk lw lj lk ko lx lm ln ks ly lp lq lr im bi translated">之后，我们将转到<em class="lt">网络</em>选项卡，并导航到我们想要分析的页面——在我们的示例中，是<a class="ae ls" href="https://slapchris.com/" rel="noopener ugc nofollow" target="_blank"><em class="lt">https://slapchris.com</em></a>。</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mg"><img src="../Images/b19f736a933d8a365ded09eed56a924c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J1W8FMjrxMbRFRy8odEO4Q.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">打开开发工具并导航至<a class="ae ls" href="https://slapchris.com/" rel="noopener ugc nofollow" target="_blank"><em class="mp">https://slapchris.com</em></a></figcaption></figure><p id="2b62" class="pw-post-body-paragraph kx ky it kz b la lu lc ld le lv lg lh kk lw lj lk ko lx lm ln ks ly lp lq lr im bi translated">在Network选项卡中，我们现在可以看到浏览器执行的所有请求。会有各种类型的文件:JavaScript，CSS，图像，音频，gif...等等。所有这些资源对小浏览器游戏都至关重要。</p><p id="f6b4" class="pw-post-body-paragraph kx ky it kz b la lu lc ld le lv lg lh kk lw lj lk ko lx lm ln ks ly lp lq lr im bi translated">现在，我们正在寻找包含所有逻辑的主JavaScript文件。幸运的是，在这种情况下，文件很容易找到:查找<em class="lt"> main.js、</em>或者简单地在搜索字段中键入<em class="lt"> main </em>。</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mq"><img src="../Images/fa8731201ae96f6bf9535532c1984645.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A2lrz_O7g-Qn1Uu0Ois73Q.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">找到main.js文件</figcaption></figure><p id="7e5a" class="pw-post-body-paragraph kx ky it kz b la lu lc ld le lv lg lh kk lw lj lk ko lx lm ln ks ly lp lq lr im bi translated">我们又一次幸运了——源代码被缩小了，但没有混淆！这意味着我们可以简单地格式化代码并容易地理解它。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h2 id="4372" class="kb kc it bd kd ke kf dn kg kh ki dp kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">2.对代码进行逆向工程</h2><p id="5c6c" class="pw-post-body-paragraph kx ky it kz b la lb lc ld le lf lg lh kk li lj lk ko ll lm ln ks lo lp lq lr im bi translated">让我们来看看这个游戏是如何计分的！</p><p id="acd6" class="pw-post-body-paragraph kx ky it kz b la lu lc ld le lv lg lh kk lw lj lk ko lx lm ln ks ly lp lq lr im bi translated">首先我们将美化代码，搜索<em class="lt">“score”</em>变量。经过几次匹配，我们可以找到一些有用的东西:</p><pre class="mh mi mj mk gt mr ms mt mu aw mv bi"><span id="cb20" class="kb kc it ms b gy mw mx l my mz">score.innerHTML = `${speed}${speedUnits}`;</span></pre><p id="26f3" class="pw-post-body-paragraph kx ky it kz b la lu lc ld le lv lg lh kk lw lj lk ko lx lm ln ks ly lp lq lr im bi translated">现在，让我们看看<em class="lt">速度</em>参数是从哪里来的。<em class="lt"> </em>再往上几行，我们可以发现这一点:</p><pre class="mh mi mj mk gt mr ms mt mu aw mv bi"><span id="d34e" class="kb kc it ms b gy mw mx l my mz">const speed = metric ? Math.floor(speedFloat) : Math.floor(speedFloat / 1.609);</span></pre><p id="da9c" class="pw-post-body-paragraph kx ky it kz b la lu lc ld le lv lg lh kk lw lj lk ko lx lm ln ks ly lp lq lr im bi translated">让我们继续这个过程，我们将跟随<em class="lt">速度浮动</em>，然后是<em class="lt">速度:</em></p><pre class="mh mi mj mk gt mr ms mt mu aw mv bi"><span id="0942" class="kb kc it ms b gy mw mx l my mz">face.velocity_x = hand.v_speed_x * 0.1;<br/>face.velocity_y = hand.v_speed * 0.1;</span></pre><p id="a87d" class="pw-post-body-paragraph kx ky it kz b la lu lc ld le lv lg lh kk lw lj lk ko lx lm ln ks ly lp lq lr im bi translated">我们可以看到，最终得分是根据<em class="lt">手</em>物体的速度计算出来的。</p><p id="da0f" class="pw-post-body-paragraph kx ky it kz b la lu lc ld le lv lg lh kk lw lj lk ko lx lm ln ks ly lp lq lr im bi translated">幸运的是，这个对象是公共的，可以访问。让我们看看它提供了哪些方法和领域。</p><figure class="mh mi mj mk gt ju"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">对源代码进行逆向工程</figcaption></figure><p id="b750" class="pw-post-body-paragraph kx ky it kz b la lu lc ld le lv lg lh kk lw lj lk ko lx lm ln ks ly lp lq lr im bi translated">我们可以注意到<em class="lt">手</em>的速度是用这个<em class="lt"> update() </em>方法计算的。</p><p id="a38c" class="pw-post-body-paragraph kx ky it kz b la lu lc ld le lv lg lh kk lw lj lk ko lx lm ln ks ly lp lq lr im bi translated">因此，这可能是我们可以插入并覆盖源代码的地方之一。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h2 id="183e" class="kb kc it bd kd ke kf dn kg kh ki dp kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">3.重写源代码中的方法</h2><p id="9626" class="pw-post-body-paragraph kx ky it kz b la lb lc ld le lf lg lh kk li lj lk ko ll lm ln ks lo lp lq lr im bi translated">首先，我们将复制<em class="lt">更新</em>方法的初始内容。之后，我们将改变速度的计算方法，并大幅提高速度:</p><pre class="mh mi mj mk gt mr ms mt mu aw mv bi"><span id="5011" class="kb kc it ms b gy mw mx l my mz">this.v_speed_x = this.v_speed_x / 2 + (mouseX - this.mousex) <strong class="ms iu">+ 9999</strong>;<br/>this.v_speed = this.v_speed / 2 + (mouseY - this.mousey) <strong class="ms iu">+ 9999</strong>;</span></pre><p id="ab51" class="pw-post-body-paragraph kx ky it kz b la lu lc ld le lv lg lh kk lw lj lk ko lx lm ln ks ly lp lq lr im bi translated">手对象是全局范围的一部分</p><pre class="mh mi mj mk gt mr ms mt mu aw mv bi"><span id="fffa" class="kb kc it ms b gy mw mx l my mz">function resetGame() {<br/>  let socials = document.getElementById("socials");<br/>  socials.style.fontSize = "1.05rem";<br/>  ready.play();<br/>  <strong class="ms iu">hand = new Hand();</strong><br/>  face = new Face();<br/>  // ...<br/>}</span></pre><p id="1291" class="pw-post-body-paragraph kx ky it kz b la lu lc ld le lv lg lh kk lw lj lk ko lx lm ln ks ly lp lq lr im bi translated">这意味着我们可以从浏览器控制台访问它，只需键入变量名:</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nc"><img src="../Images/d0afca9afd35ed026f2e3ab7f801e7da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J2U8A4a3za-RMplX2S_s0A.png"/></div></div></figure><p id="d972" class="pw-post-body-paragraph kx ky it kz b la lu lc ld le lv lg lh kk lw lj lk ko lx lm ln ks ly lp lq lr im bi translated">最后，使用浏览器的控制台来覆盖我们的方法:</p><figure class="mh mi mj mk gt ju"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="c3c0" class="pw-post-body-paragraph kx ky it kz b la lu lc ld le lv lg lh kk lw lj lk ko lx lm ln ks ly lp lq lr im bi translated">就这样，你现在可以从浏览器中点击Chris，并分享你的结果！</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nd"><img src="../Images/5e8283bd7bf59b4a2f100c8b00a8e18e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iIxi0xxEDRXZMfs6bklkOw.png"/></div></div></figure></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h2 id="d681" class="kb kc it bd kd ke kf dn kg kh ki dp kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">4.保持好奇心，继续学习</h2><p id="72e7" class="pw-post-body-paragraph kx ky it kz b la lb lc ld le lf lg lh kk li lj lk ko ll lm ln ks lo lp lq lr im bi translated">最后，也是最重要的，继续研究代码，并尝试使用它。发现新的挑战，并努力解决它们。</p><p id="0b31" class="pw-post-body-paragraph kx ky it kz b la lu lc ld le lv lg lh kk lw lj lk ko lx lm ln ks ly lp lq lr im bi translated">例如，尝试改变重力，从控制台播放声音，尝试解锁罕见的动画…等等。</p><p id="a300" class="pw-post-body-paragraph kx ky it kz b la lu lc ld le lv lg lh kk lw lj lk ko lx lm ln ks ly lp lq lr im bi translated">阅读别人写的代码可以极大地提高你的理解能力，这是一个很好的练习。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="685e" class="ne kc it bd kd nf ng nh kg ni nj nk kj nl nm nn kn no np nq kr nr ns nt kv nu bi translated">分级编码</h1><p id="c170" class="pw-post-body-paragraph kx ky it kz b la lb lc ld le lf lg lh kk li lj lk ko ll lm ln ks lo lp lq lr im bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="8eaa" class="nv nw it kz b la lu le lv kk nx ko ny ks nz lr oa ob oc od bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="7d21" class="nv nw it kz b la oe le of kk og ko oh ks oi lr oa ob oc od bi translated">📰查看<a class="ae ls" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">级编码出版物</a>中的更多内容</li><li id="6b8c" class="nv nw it kz b la oe le of kk og ko oh ks oi lr oa ob oc od bi translated">🔔关注我们:<a class="ae ls" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">推特</a> | <a class="ae ls" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a> | <a class="ae ls" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="a861" class="pw-post-body-paragraph kx ky it kz b la lu lc ld le lv lg lh kk lw lj lk ko lx lm ln ks ly lp lq lr im bi translated">🚀👉<a class="ae ls" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kz iu">加入升级人才集体，找到一份惊艳的工作</strong> </a></p></div></div>    
</body>
</html>