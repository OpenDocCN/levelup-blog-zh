<html>
<head>
<title>JavaScript — Generating a Random Integer in a Specific Range</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript —生成特定范围内的随机整数</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/javascript-generating-a-random-integer-in-a-specific-range-d6eda2a83503?source=collection_archive---------17-----------------------#2022-06-12">https://levelup.gitconnected.com/javascript-generating-a-random-integer-in-a-specific-range-d6eda2a83503?source=collection_archive---------17-----------------------#2022-06-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="b90b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这篇简明教程将向你展示如何用几行代码在JavaScript中生成一个随机的整数。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/7ac00ae084e41c6b7febc6566bd2bf5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jw9V__6jYhm2amP74D_0lw.png"/></div></div></figure><h1 id="0ed6" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">GitHub知识库</h1><p id="7b62" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">要检查使用的代码，请查看我为本文创建的<a class="ae md" href="https://github.com/mr-pascal/medium-js-generate-whole-number" rel="noopener ugc nofollow" target="_blank"> GitHub库</a>。</p><div class="me mf gp gr mg mh"><a href="https://github.com/mr-pascal/medium-js-generate-whole-number" rel="noopener  ugc nofollow" target="_blank"><div class="mi ab fo"><div class="mj ab mk cl cj ml"><h2 class="bd iu gy z fp mm fr fs mn fu fw is bi translated">GitHub-Mr-Pascal/medium-js-generate-整数</h2><div class="mo l"><h3 class="bd b gy z fp mm fr fs mn fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="mp l"><p class="bd b dl z fp mm fr fs mn fu fw dk translated">github.com</p></div></div><div class="mq l"><div class="mr l ms mt mu mq mv ky mh"/></div></div></a></div><h1 id="9f5e" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">代码</h1><p id="41ad" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">让我们直接进入代码，它将返回给你一个特定范围内的随机整数，然后深入探究它为什么工作。如果你只是对代码感兴趣，而不关心<strong class="js iu">为什么</strong>你当然可以就此打住😉。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="43e9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">既然您似乎想知道发生了什么，让我们更详细地检查一下代码:</p><pre class="kp kq kr ks gt my mz na nb aw nc bi"><span id="bce4" class="nd lb it mz b gy ne nf l ng nh">min = Math.ceil(min);<br/>max = Math.floor(max);</span></pre><p id="89df" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你100%确定你将总是得到一个整数而不是一个小数作为你的<code class="fe ni nj nk mz b">min</code>和<code class="fe ni nj nk mz b">max</code>值的输入，你不需要那两行。这些行确保在输入十进制数字的情况下，我们向上舍入(<code class="fe ni nj nk mz b">min</code>大小写)或向下舍入(<code class="fe ni nj nk mz b">max</code>大小写)以将数字范围的外部范围定义为整数而不是小数。</p><p id="7dec" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果我们不这样做，而有人输入一个十进制值，我们也会得到一个十进制值作为输出，而不是一个整数。</p><p id="b2a0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">例如:</strong></p><p id="6f90" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe ni nj nk mz b">min = 1.1</code> → <code class="fe ni nj nk mz b">min = 2</code></p><p id="e4cb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe ni nj nk mz b">max = 7.7</code> → <code class="fe ni nj nk mz b">max = 7</code></p><p id="065d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">结果范围→ <code class="fe ni nj nk mz b">[2...7]</code></p><p id="89d1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在让我们来看看代码中更复杂的一行:</p><p id="321a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe ni nj nk mz b">Math.floor(Math.random() * (max — min + 1)) + min;</code></p><p id="7b83" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们从右边的<code class="fe ni nj nk mz b">+ min</code>语句开始。这定义了我们范围左侧的最小值。我们从<code class="fe ni nj nk mz b">min</code>开始，然后添加一些随机数直到<code class="fe ni nj nk mz b">max</code>的最大值。</p><p id="c738" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">等式的<code class="fe ni nj nk mz b">max — min</code>部分定义了我们的最小值和最大值之间的差异，因此，我们最多可以将该值添加到我们的<code class="fe ni nj nk mz b">min</code>值中，以保持在该范围内。</p><p id="8fce" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">由于<code class="fe ni nj nk mz b">Math.random()</code>在<code class="fe ni nj nk mz b">0</code>和<code class="fe ni nj nk mz b">1</code>之间产生一个随机数，而<code class="fe ni nj nk mz b">0</code>是包含的而<code class="fe ni nj nk mz b">1</code>是排他的，我们给我们的<code class="fe ni nj nk mz b">max — min</code>差加上一个额外的<code class="fe ni nj nk mz b">+ 1</code>。理论上，这将导致一个比我们的最大值更高的值，对于<code class="fe ni nj nk mz b">Math.random()</code>返回值。为了解决这个问题，我们使用<code class="fe ni nj nk mz b">Math.floor()</code>将结果值向下舍入。</p><p id="961b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是为了理解计算的细节，你最好看看下面的例子，在这些例子中，我展示了可能的<code class="fe ni nj nk mz b">Math.random()</code>值的极值以及“正常”情况。</p><p id="5d74" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">示例</strong></p><p id="d505" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们来看看一些例子，以验证数学工作。</p><p id="096d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">以下示例在插入变量值后逐步解析上述最后一行代码。</p><pre class="kp kq kr ks gt my mz na nb aw nc bi"><span id="3c6b" class="nd lb it mz b gy ne nf l ng nh">min = 2;<br/>max = 7;</span><span id="f85f" class="nd lb it mz b gy nl nf l ng nh">Math.floor(Math.random() * (7 - 2 + 1)) + 2<br/>Math.floor(Math.random() * 6) + 2</span><span id="057f" class="nd lb it mz b gy nl nf l ng nh">// Math.random() -&gt; 0.7<br/>Math.floor(0.7 * 6) + 2<br/>Math.floor(4.2) + 2<br/>4 + 2<br/>--&gt; 6 (inside our 2...7 range)</span><span id="ddd1" class="nd lb it mz b gy nl nf l ng nh">// Math.random() -&gt; 0.999<br/>Math.floor(0.999 * 6) + 2<br/>Math.floor(5.994) + 2<br/>5 + 2<br/>--&gt; 7 (inside our 2...7 range)</span><span id="5dd1" class="nd lb it mz b gy nl nf l ng nh">// Math.random() -&gt; 0<br/>Math.floor(0.0 * 6) + 2<br/>Math.floor(0.0) + 2<br/>0 + 2<br/>--&gt; 2 (inside our 2...7 range)</span></pre><p id="2ee0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如你所见，即使有了<code class="fe ni nj nk mz b">Math.random()</code>的最大值和最小值，结果也停留在有效值的范围内。</p><h2 id="55a1" class="nd lb it bd lc nm nn dn lg no np dp lk kb nq nr lo kf ns nt ls kj nu nv lw nw bi translated">你想联系吗？</h2><p id="6350" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">如果你想联系我，请在LinkedIn上给我打电话。</p><p id="c598" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">另外，请随意查看我的书籍推荐📚。</p></div><div class="ab cl nx ny hx nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="im in io ip iq"><div class="kp kq kr ks gt mh"><a href="https://mr-pascal.medium.com/my-book-recommendations-4b9f73bf961b" rel="noopener follow" target="_blank"><div class="mi ab fo"><div class="mj ab mk cl cj ml"><h2 class="bd iu gy z fp mm fr fs mn fu fw is bi translated">我的书籍推荐</h2><div class="mo l"><h3 class="bd b gy z fp mm fr fs mn fu fw dk translated">在接下来的章节中，你可以找到我对所有日常生活话题的书籍推荐，它们对我帮助很大。</h3></div><div class="mp l"><p class="bd b dl z fp mm fr fs mn fu fw dk translated">mr-pascal.medium.com</p></div></div><div class="mq l"><div class="oe l ms mt mu mq mv ky mh"/></div></div></a></div><div class="me mf gp gr mg mh"><a href="https://mr-pascal.medium.com/membership" rel="noopener follow" target="_blank"><div class="mi ab fo"><div class="mj ab mk cl cj ml"><h2 class="bd iu gy z fp mm fr fs mn fu fw is bi translated">通过我的推荐链接加入Medium—Pascal Zwikirsch</h2><div class="mo l"><h3 class="bd b gy z fp mm fr fs mn fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="mp l"><p class="bd b dl z fp mm fr fs mn fu fw dk translated">mr-pascal.medium.com</p></div></div><div class="mq l"><div class="of l ms mt mu mq mv ky mh"/></div></div></a></div></div></div>    
</body>
</html>