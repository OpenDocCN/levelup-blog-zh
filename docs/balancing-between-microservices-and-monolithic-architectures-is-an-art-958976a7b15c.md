# 微服务和整体架构之间的平衡是一门艺术

> 原文：<https://levelup.gitconnected.com/balancing-between-microservices-and-monolithic-architectures-is-an-art-958976a7b15c>

## 微服务是好的，但在一定程度上并不是对所有团队都是如此

![](img/cadeaa76b347bcadee1c0df68ef1ffdf.png)

拉格斯技术人员在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片

关于微服务及其带来的好处，我们已经看得够多了。

大多数人谈论的是好处，比如提高开发速度，独立扩展服务。没有人谈论它的缺点。

如果您自己没有构建一些微服务，您将不会意识到它们让您的团队陷入的复杂性。

这并不意味着我赞成建立一个大的整体应用程序。你需要在这两个概念之间找到平衡。

以下是我多年搭建和维护微服务的心得。

# 太多的服务难以管理

曾经有一段时间，我和我的团队痴迷于微服务。一开始我们看到了很多好处，所以我们不断创造新的服务。

我们花了几个月的时间才意识到，为所有东西创建一个新的服务会让我们付出代价。它增加了调试和维护的时间。

当微服务相互依赖数据时，很难找出数据不一致的地方或哪个服务有问题。

添加新代码或调试可能影响其他服务的问题是一场噩梦。上下文切换和理解其他服务减少了微服务的好处。

这并不意味着，微服务不好。 ***不要造太多微服务。取而代之的是，提供不是微型的服务，但也不应该过于庞大。***

# 永远考虑你的团队规模

使用微服务的团队，服务往往多于团队成员的数量。在该比率变为 3–4 倍之前，这不是问题。

微服务架构非常适合大型团队。你可以让一个开发者或者一个小团队专门做一个微服务。小团队和创业公司没有这个闲心。

当小团队创建太多服务时，每个团队成员都有许多服务要处理和维护。这可能会变成一场噩梦。

团队规模是创建微服务时要考虑的一个重要方面。 ***不要用太多的微服务让你的团队超负荷*** 。

# DevOps 噩梦

微服务如果编写和分离得好，确实可以让团队的 DevOps 变得简单。它有助于在不同类型的服务器上运行和扩展不同类型的服务。

你可能有一个 web 应用、后端、pubsub 服务和许多其他支持服务。所有这些服务在 CPU 和内存方面都有不同的要求。它们也可能有不同的负载。

架构完善的微服务可帮助您独立扩展服务并降低成本。

它也有不好的一面。您需要运行、维护和监控更多的服务。不仅如此，您还需要关注更多服务的安全性。

# 数据管理

当您拥有相互通信的微服务时，这确实会使数据管理变得复杂。

松散耦合的服务拥有自己的数据存储是架构的理想条件。但这是一个很难找到的案例。

当服务相互通信或具有公共数据存储时，如果服务停止，这可能会产生问题。这可能会损坏数据存储中的数据。

发现数据中的这些损坏需要您调试许多服务。

# 会变成调试地狱

当相互依赖的服务表现不佳时，开发人员需要研究多个服务以及服务之间的数据交换。

这种情况我经历过太多次了。有 3-4 个服务使用队列相互交互。我知道想要的数据

# 离别的思绪

我不反对微服务，但我反对为了好玩而创建微服务器。

***许多团队跟风创造微服务，即使他们并不真正需要它们*** 。有些时候你需要它们，但是你不应该过度工作。

找到适合您的服务非常重要，在大多数情况下，您可能只需要几个服务就可以有效地开发、测试、部署和扩展。创建太多的服务会给你带来更多的痛苦而不是快乐。

我希望你喜欢阅读这篇文章。如果你愿意支持我当作家，请我喝杯咖啡，可以考虑报名 [***成为中等会员***](https://singhamrit.medium.com/membership) ***。每月只需 5 美元，你就可以无限制地使用 Medium。***