<html>
<head>
<title>Difference Between LocalStorage And SessionStorage — How To Use Them?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">LocalStorage和SessionStorage的区别——如何使用它们？</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/difference-between-localstorage-and-sessionstorage-how-to-use-them-5b4cf7f7ce69?source=collection_archive---------11-----------------------#2022-10-25">https://levelup.gitconnected.com/difference-between-localstorage-and-sessionstorage-how-to-use-them-5b4cf7f7ce69?source=collection_archive---------11-----------------------#2022-10-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="4018" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">了解如何使用JavaScript在localStorage和sessionStorage中存储数据</p><p id="39b5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe kl km kn ko b">localStorage</code>和<code class="fe kl km kn ko b">sessionStorage</code>都是浏览器中的对象。您可以使用这两个对象来存储数据。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi kp"><img src="../Images/2a1ef8d4a2bf901eeadc408a73244311.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*A8mVjCB4ZvKprOvd"/></div></div><figcaption class="lb lc gj gh gi ld le bd b be z dk translated">照片由<a class="ae lf" href="https://unsplash.com/es/@steve_j?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">斯蒂夫·约翰森</a>在<a class="ae lf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="1768" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">TL；博士:</h1><ul class=""><li id="435b" class="me mf iq jp b jq mg ju mh jy mi kc mj kg mk kk ml mm mn mo bi translated"><code class="fe kl km kn ko b">localStorage</code>数据没有到期时间，除非用户在匿名模式下浏览。在这种情况下，当页面关闭时，数据会被删除。用户也可以通过清除浏览器缓存来删除数据。</li><li id="2549" class="me mf iq jp b jq mp ju mq jy mr kc ms kg mt kk ml mm mn mo bi translated"><code class="fe kl km kn ko b">sessionStorage</code>当页面关闭时，数据被删除。</li></ul><h1 id="36c4" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">如何使用LocalStorage？</h1><p id="6838" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mu ka kb kc mv ke kf kg mw ki kj kk ij bi translated">下面是在<code class="fe kl km kn ko b">localStorage</code>中保存数据的通用语法。</p><pre class="kq kr ks kt gt mx ko my mz aw na bi"><span id="0bce" class="nb lh iq ko b gy nc nd l ne nf">localStorage.setItem(variableKey, variableValue);</span></pre><h2 id="68c5" class="nb lh iq bd li ng nh dn lm ni nj dp lq jy nk nl lu kc nm nn ly kg no np mc nq bi translated">存储数据</h2><p id="be87" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mu ka kb kc mv ke kf kg mw ki kj kk ij bi translated">假设你有一个叫做<code class="fe kl km kn ko b">dataValue</code>的字符串变量。</p><p id="5d9d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您可以使用以下语法将<code class="fe kl km kn ko b">dataValue</code>保存在<code class="fe kl km kn ko b">localStorage</code>中。</p><pre class="kq kr ks kt gt mx ko my mz aw na bi"><span id="e265" class="nb lh iq ko b gy nc nd l ne nf">localStorage.setItem("dataKey", "dataValue");</span></pre><p id="caa2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本例中，<code class="fe kl km kn ko b">dataKey</code>表示将与值<code class="fe kl km kn ko b">dataValue</code>相关联的键。你可以随意命名<code class="fe kl km kn ko b">dataKey</code>。</p><p id="26cc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果<code class="fe kl km kn ko b">dataValue</code>不是一个字符串，你可以使用<code class="fe kl km kn ko b">JSON.stringify()</code>来转换它。</p><h2 id="4d50" class="nb lh iq bd li ng nh dn lm ni nj dp lq jy nk nl lu kc nm nn ly kg no np mc nq bi translated">读出数据</h2><p id="2deb" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mu ka kb kc mv ke kf kg mw ki kj kk ij bi translated">然后，您可以使用从存储中读取数据</p><pre class="kq kr ks kt gt mx ko my mz aw na bi"><span id="d595" class="nb lh iq ko b gy nc nd l ne nf">const data = localStorage.getItem("dataKey");<br/>console.log("Data in storage: ", data);</span></pre><p id="83ed" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您之前使用了<code class="fe kl km kn ko b">JSON.stringify()</code>，那么现在您需要对数据使用<code class="fe kl km kn ko b">JSON.parse()</code>方法。然而，这并不是绝对必要的，这取决于您想要对该数据做什么。</p><p id="0d94" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">可以在React和Angular中使用<code class="fe kl km kn ko b">localStorage</code>。但是，您应该注意前者的组件生命周期。</p><h2 id="6685" class="nb lh iq bd li ng nh dn lm ni nj dp lq jy nk nl lu kc nm nn ly kg no np mc nq bi translated">删除数据</h2><p id="3bd7" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mu ka kb kc mv ke kf kg mw ki kj kk ij bi translated">最后，您可能想要删除<code class="fe kl km kn ko b"><em class="nr">localStorage</em></code>和<em class="nr">中的数据。</em></p><p id="3544" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有两种方式:<code class="fe kl km kn ko b">removeItem()</code>和<code class="fe kl km kn ko b">clear()</code>。</p><p id="6ae5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通过使用<code class="fe kl km kn ko b">removeItem()</code>,您只删除与您传入的键相关的值，例如下面例子中的<code class="fe kl km kn ko b">'dataKey'</code>。</p><pre class="kq kr ks kt gt mx ko my mz aw na bi"><span id="627a" class="nb lh iq ko b gy nc nd l ne nf">localStorage.removeItem('dataKey');</span></pre><p id="a55f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通过使用<code class="fe kl km kn ko b">clear()</code>，您将删除<code class="fe kl km kn ko b">localStorage</code>区域中与您正在使用的应用程序相关的所有内容。</p><pre class="kq kr ks kt gt mx ko my mz aw na bi"><span id="f40e" class="nb lh iq ko b gy nc nd l ne nf">localStorage.clear();</span></pre><h1 id="571b" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">如何使用SessionStorage？</h1><p id="d4f5" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mu ka kb kc mv ke kf kg mw ki kj kk ij bi translated">关于<code class="fe kl km kn ko b">sessionStorage</code>的几句话。根据<a class="ae lf" href="https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage" rel="noopener ugc nofollow" target="_blank"> MDN </a>的报告:</p><ul class=""><li id="0db2" class="me mf iq jp b jq jr ju jv jy ns kc nt kg nu kk ml mm mn mo bi translated"><strong class="jp ir">一个选项卡=一个会话存储</strong><em class="nr">——每当在浏览器的特定选项卡中加载文档时，都会创建一个唯一的页面会话并分配给该特定选项卡。该页面会话仅对该特定选项卡有效。</em></li><li id="32e3" class="me mf iq jp b jq mp ju mq jy mr kc ms kg mt kk ml mm mn mo bi translated"><strong class="jp ir">Tab open = session storage alive</strong><em class="nr">—只要选项卡或浏览器打开，页面会话就会持续，并在页面重新加载和恢复后继续存在。</em></li><li id="eb75" class="me mf iq jp b jq mp ju mq jy mr kc ms kg mt kk ml mm mn mo bi translated"><strong class="jp ir">标签关闭=清除会话存储— </strong> <em class="nr">关闭标签/窗口结束会话并清除</em> <code class="fe kl km kn ko b"><em class="nr">sessionStorage</em></code> <em class="nr">中的对象。</em></li></ul><p id="bdfa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">说到这里，用<code class="fe kl km kn ko b">sessionStorage</code>和<code class="fe kl km kn ko b">localStorage</code>很像。</p><h2 id="bebf" class="nb lh iq bd li ng nh dn lm ni nj dp lq jy nk nl lu kc nm nn ly kg no np mc nq bi translated">存储数据</h2><p id="fdbd" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mu ka kb kc mv ke kf kg mw ki kj kk ij bi translated">假设你有一个叫做<code class="fe kl km kn ko b">dataValue2</code>的字符串变量。</p><p id="128b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您可以使用以下语法将<code class="fe kl km kn ko b">dataValue2</code>保存在<code class="fe kl km kn ko b">sessionStorage</code>中。</p><pre class="kq kr ks kt gt mx ko my mz aw na bi"><span id="e354" class="nb lh iq ko b gy nc nd l ne nf">sessionStorage.setItem("dataKey", "dataValue2");</span></pre><p id="cd86" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">与前面的例子一样，<code class="fe kl km kn ko b">dataKey</code>表示将与值<code class="fe kl km kn ko b">dataValue2</code>相关联的键。你可以随意命名<code class="fe kl km kn ko b">dataKey</code>。</p><p id="500b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果<code class="fe kl km kn ko b">dataValue2</code>不是一个字符串，你可以使用<code class="fe kl km kn ko b">JSON.stringify()</code>来转换它。</p><h2 id="0719" class="nb lh iq bd li ng nh dn lm ni nj dp lq jy nk nl lu kc nm nn ly kg no np mc nq bi translated">读出数据</h2><p id="58ee" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mu ka kb kc mv ke kf kg mw ki kj kk ij bi translated">然后，您可以使用从存储中读取数据</p><pre class="kq kr ks kt gt mx ko my mz aw na bi"><span id="22ab" class="nb lh iq ko b gy nc nd l ne nf">const data = sessionStorage.getItem("dataKey");<br/>console.log("Data in storage: ", data);</span></pre><p id="bb66" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您之前使用了<code class="fe kl km kn ko b">JSON.stringify()</code>，那么现在您需要对数据使用<code class="fe kl km kn ko b">JSON.parse()</code>方法。然而，这并不是绝对必要的，这取决于您想要对该数据做什么。</p><h2 id="3faa" class="nb lh iq bd li ng nh dn lm ni nj dp lq jy nk nl lu kc nm nn ly kg no np mc nq bi translated">删除数据</h2><p id="d575" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mu ka kb kc mv ke kf kg mw ki kj kk ij bi translated">最后，您可能想要删除数据会话存储<em class="nr">。</em></p><p id="3e82" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有两种方式:<code class="fe kl km kn ko b">removeItem()</code>和<code class="fe kl km kn ko b">clear()</code>。</p><p id="16e2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通过使用<code class="fe kl km kn ko b">removeItem()</code>，您只删除与您传入的键相关的值，例如下面例子中的<code class="fe kl km kn ko b">'dataKey'</code>。</p><pre class="kq kr ks kt gt mx ko my mz aw na bi"><span id="283a" class="nb lh iq ko b gy nc nd l ne nf">sessionStorage.removeItem('dataKey');</span></pre><p id="8f53" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通过使用<code class="fe kl km kn ko b">clear()</code>，您将删除<code class="fe kl km kn ko b">sessionStorage</code>区域中与您正在使用的应用程序相关的所有内容。</p><pre class="kq kr ks kt gt mx ko my mz aw na bi"><span id="8a72" class="nb lh iq ko b gy nc nd l ne nf">sessionStorage.clear();</span></pre><p id="69b4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">虽然这里你只能看到一个使用React和Angular的<code class="fe kl km kn ko b">localStorage</code>的例子，但是使用<code class="fe kl km kn ko b">sessionStorage</code>也遵循类似的模式。</p></div></div>    
</body>
</html>