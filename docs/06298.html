<html>
<head>
<title>Learning Python: Search a List</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">学习Python:搜索列表</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/learning-python-search-a-list-de6d98aea418?source=collection_archive---------8-----------------------#2020-11-12">https://levelup.gitconnected.com/learning-python-search-a-list-de6d98aea418?source=collection_archive---------8-----------------------#2020-11-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/f5c4484dea5ecd6cb4c683295392a588.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yz8Be2lcDwoeWQZ0"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">科琳·库兹在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="56a8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当数据存储在列表中时，您通常需要搜索列表以查看特定值是否存储在列表中。本文介绍了处理这项任务的模板——<em class="le">搜索列表</em>模板。在文章的最后，我将向您展示如何使用内置的Python函数来执行这项任务，而无需编写自己的函数。</p><h1 id="fecf" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">搜索列表模板</h1><p id="0dbc" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated"><em class="le">搜索列表</em>模板实现列表的顺序或线性搜索。这意味着搜索从列表的第一个元素开始，在找到要搜索的元素或搜索到达列表末尾时结束。</p><p id="2637" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我要用一个函数来实现这个模板。如果搜索成功，模板的一个版本将返回真值，如果搜索失败，它将返回假值。在第二个版本中，如果搜索成功，函数将返回找到的值的位置，如果搜索失败，函数将返回<code class="fe mi mj mk ml b">-1</code>。失败的搜索返回<code class="fe mi mj mk ml b">-1</code>的原因是它不是有效的列表位置。</p><p id="af76" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是<em class="le">搜索列表</em>模板的伪代码，使用了一个<code class="fe mi mj mk ml b">while</code>循环，返回真或假:</p><p id="615d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le"> found = false <br/>初始list-position-variable为0 <br/>而未找到所搜索的值:<br/>如果到达列表末尾:<br/>表示搜索失败<br/>如果找到元素:<br/>表示搜索成功<br/>将list-position-variable递增1 </em></p><p id="ba0b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您也可以使用一个<code class="fe mi mj mk ml b">for</code>循环来实现这个模板，我将把它留给读者作为练习。</p><p id="a1cc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是返回列表位置或<code class="fe mi mj mk ml b">-1</code>的版本的伪代码，这次使用了for循环:</p><p id="32e5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">对于列表中的每个元素:<br/>如果找到元素:<br/>将foundPos设置为元素位置<br/>中断循环<br/>返回foundPos </em></p><p id="7385" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">过早地跳出循环是有争议的，但是我相信效率高于软件工程纯粹主义，所以我在伪代码中加入了一个break。</p><h1 id="b053" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">实施搜索列表模板—返回真或假</h1><p id="669f" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">现在让我们来看看实现上面给出的两个伪代码示例中的第一个。这个模板最好用一个函数来实现，在这个函数中，我们把想要搜索的列表和要搜索的值作为参数传入。如果在列表中找到该值，则该函数返回true值，否则返回false值。</p><p id="fcd1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第一个实现是针对返回布尔值的<code class="fe mi mj mk ml b">while</code>循环版本。下面是函数定义:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="c1d0" class="mu lg it ml b gy mv mw l mx my">def find(list, value):<br/>  found = False<br/>  listPos = 0<br/>  while not found:<br/>    if listPos == len(list):<br/>      return found<br/>    elif list[listPos] == value:<br/>      found = True<br/>      return found<br/>    else:<br/>      listPos = listPos+1</span></pre><p id="847e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们测试一下这个函数，用它来搜索一个随机生成的数字列表。程序是这样的:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="854a" class="mu lg it ml b gy mv mw l mx my">from random import randint</span><span id="8827" class="mu lg it ml b gy mz mw l mx my">grades = []<br/>numGrades = 20<br/>for i in range(0, numGrades):<br/>  grades.append(randint(1,101))<br/>  print(grades)<br/>searchVal = int(input("Enter a value to search for: "))<br/>if (find(grades, searchVal)):<br/>  print(searchVal,"is in grades.")<br/>else:<br/>  print(searchVal,"is not in grades.")</span></pre><p id="534b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是该程序两次运行的输出:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="f6cc" class="mu lg it ml b gy mv mw l mx my">[83, 73, 81, 97, 56, 13, 53, 46, 77, 90, 40, 81, 5, 65, 5, 56, 6, 82, 45, 31]<br/>Enter a value to search for: 77<br/>77 is in grades.<br/>[91, 12, 32, 56, 64, 35, 96, 30, 17, 82, 97, 96, 82, 47, 98, 83, 50, 101, 48, 71]<br/>Enter a value to search for: 55<br/>55 is not in grades.</span></pre><p id="fe08" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在让我们编写一个带有<code class="fe mi mj mk ml b">for</code>循环的<code class="fe mi mj mk ml b">find</code>函数版本:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="ee97" class="mu lg it ml b gy mv mw l mx my">def find1(list, value):<br/>  for i in range(0, len(list)):<br/>    if list[i] == value:<br/>      return True<br/>  return False</span></pre><p id="7637" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">注意，这一次我没有使用布尔变量，而是在列表中找到要搜索的值时返回<code class="fe mi mj mk ml b">True</code>。如果搜索不成功，函数自动返回<code class="fe mi mj mk ml b">False</code>，因为该返回语句是函数的最后一行。</p><p id="e0d5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有些人认为这是糟糕的编程风格，因为函数中有两个return语句。其他人只是认为这是编写函数的一种更有效的方式。你必须明白，一旦一个函数命中了return语句，函数中的其他语句都不会被执行。我不会判断哪个版本是最好的，因为两种方法都可以完成工作，但只返回true或false值肯定更有效，代码更少，但代码也同样容易理解。</p><h1 id="c5cb" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">实现搜索列表模板—返回位置或-1</h1><p id="1e01" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">现在让我们看看如何实现<em class="le"> Search a List </em>模板，该模板返回值在列表中的位置，或者如果值不在列表中，则返回一个<code class="fe mi mj mk ml b">-1</code>。我将使用一个<code class="fe mi mj mk ml b">while </code>循环和一个<code class="fe mi mj mk ml b">for</code>循环来实现这个函数。</p><p id="59e4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是<code class="fe mi mj mk ml b">find </code>函数的<code class="fe mi mj mk ml b">while </code>循环版本:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="efc9" class="mu lg it ml b gy mv mw l mx my">def find(list, value):<br/>  pos = 0<br/>  while pos &lt; len(list):<br/>    if list[pos] == value:<br/>      return pos<br/>    pos = pos + 1<br/>  return -1</span></pre><p id="bd5b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">该函数返回列表中找到被搜索值的位置，或者该函数返回<code class="fe mi mj mk ml b">-1</code>。</p><p id="b66f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是测试该功能的程序:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="2de4" class="mu lg it ml b gy mv mw l mx my">grades = []<br/>numGrades = 20<br/>for i in range(0, numGrades):<br/>  grades.append(randint(1,101))<br/>  print(grades)<br/>searchVal = int(input("Enter a value to search for: "))<br/>position = find(grades, searchVal)<br/>if (position &gt; -1):<br/>  print("Found",searchVal,"at position",position)<br/>else:<br/>  print(searchVal,"is not in the list.")</span></pre><p id="3824" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是该程序两次运行的输出:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="d893" class="mu lg it ml b gy mv mw l mx my">[92, 37, 64, 59, 48, 61, 56, 8, 59, 10, 20, 29, 75, 39, 49, 30, 75, 62, 12, 52]<br/>Enter a value to search for: 8<br/>Found 8 at position 7</span><span id="062f" class="mu lg it ml b gy mz mw l mx my">[20, 61, 72, 84, 28, 56, 11, 5, 17, 74, 73, 30, 17, 1, 66, 6, 76, 53, 74, 53]<br/>Enter a value to search for: 10<br/>10 is not in the Now let's write a for loop version:list.</span></pre><p id="7fe5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在让我们写一个<code class="fe mi mj mk ml b">for</code>循环版本:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="57c4" class="mu lg it ml b gy mv mw l mx my">def find(list, value):<br/>  for i in range(0, len(list)):<br/>    if list[i] == value:<br/>      return i<br/>  return -1There's really not much difference between the two functions, though most programmers would write this function with a for loop as for loops are the most natural way to traverse lists.</span><span id="5ca0" class="mu lg it ml b gy mz mw l mx my">You can plug this function into the program above and you'll get similar results. The results won't necessarily be the same because the program uses random number generation for creating the lists.</span></pre><h1 id="0889" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">in函数</h1><p id="a97f" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">Python提供了一个内置函数<code class="fe mi mj mk ml b">in</code>，可以用来判断一个列表是否包含值。以下是<code class="fe mi mj mk ml b">in</code>函数的语法模板:</p><p id="c759" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">列表名称中的布尔数据值</em></p><p id="bc3e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mi mj mk ml b">in</code>函数看起来不像传统的函数，其操作更像C++中的条件运算符。<code class="fe mi mj mk ml b">in</code>关键字的左边是要搜索的值，右边是要搜索的列表。如果在列表中找到该值，函数返回<code class="fe mi mj mk ml b">True</code>；否则函数返回<code class="fe mi mj mk ml b">False</code>。</p><p id="7b20" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是演示如何使用<code class="fe mi mj mk ml b">in</code>功能的程序:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="a833" class="mu lg it ml b gy mv mw l mx my">from random import randint<br/>from random import seed</span><span id="61f5" class="mu lg it ml b gy mz mw l mx my">seed(1)<br/>numbers = []<br/>for i in range(1,11):<br/>  numbers.append(randint(1,100))<br/>  print(numbers)<br/>value = int(input("Enter a number to search for: "))<br/>if value in numbers:<br/>  print(value,"is in numbers.")<br/>else:<br/>  print(value,"is not in numbers.")</span></pre><p id="33c9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是该程序几次运行的输出:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="8bc4" class="mu lg it ml b gy mv mw l mx my">[18, 73, 98, 9, 33, 16, 64, 98, 58, 61]<br/>Enter a number to search for: 33<br/>33 is in numbers.</span><span id="64a9" class="mu lg it ml b gy mz mw l mx my">[18, 73, 98, 9, 33, 16, 64, 98, 58, 61]<br/>Enter a number to search for: 15<br/>15 is not in numbers.</span></pre><p id="10d3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">和往常一样，你应该使用语言提供的内置函数，而不是你自己编写的函数，但是用你自己的代码重新实现一种语言的函数是成为更好的程序员的一种方式，这是非常有启发性的。</p><p id="784b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这篇关于用Python实现搜索列表模板的文章到此结束。请务必发送电子邮件至mmmcmillan1@att.net的<a class="ae kf" href="mailto:mmmcmillan1@att.net" rel="noopener ugc nofollow" target="_blank">，告诉我您的意见和建议。</a></p></div></div>    
</body>
</html>