<html>
<head>
<title>Write and Debug JavaScript With NodeJS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用NodeJS编写和调试JavaScript</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/think-and-write-javascript-with-nodejs-88ce9e728eb8?source=collection_archive---------19-----------------------#2020-04-27">https://levelup.gitconnected.com/think-and-write-javascript-with-nodejs-88ce9e728eb8?source=collection_archive---------19-----------------------#2020-04-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="97d0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">用NodeJS代替浏览器编写和调试JavaScript的指南。</p><p id="64c1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">什么是<a class="ae ko" href="https://nodejs.dev/" rel="noopener ugc nofollow" target="_blank"> NodeJS </a>？它是一个开源的跨平台JavaScript运行时环境。它可以互换地称为node.js、nodejs或node。NodeJS有一个独特的优势，因为数百万为浏览器编写JavaScript的前端开发人员现在可以在编写客户端代码的同时编写服务器端代码，而无需学习完全不同的语言。</p><p id="9183" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在为客户端编写了大量JavaScript代码之后，我最近一直在从事NodeJS中间层的工作。我想分享一些我在NodeJS生态系统中编写JavaScript的经验。这类似于为浏览器编写JavaScript代码，但又不完全相同。</p></div><div class="ab cl kp kq hx kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="im in io ip iq"><h1 id="9d0a" class="kw kx it bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">1.该命令由节点启动</h1><p id="905a" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">首先，您以不同的方式启动代码。假设您的应用程序的名称是<code class="fe lz ma mb mc b">app.js</code>，现在您运行的命令是<code class="fe lz ma mb mc b">node app.js</code>，而不是<code class="fe lz ma mb mc b">npm start</code>。</p><p id="1611" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">或者，您可以向应用程序提供参数。</p><p id="4ee5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe lz ma mb mc b">node app.js system.log</code></p><p id="f35b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe lz ma mb mc b">process.argv</code>可以读取命令行信息:</p><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="mi mj l"/></div></figure><p id="33cf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你有复杂的参数，你可以考虑安装<code class="fe lz ma mb mc b"><a class="ae ko" href="https://github.com/substack/minimist" rel="noopener ugc nofollow" target="_blank">minimist</a></code>，一个参数解析器。</p><h1 id="675c" class="kw kx it bd ky kz mk lb lc ld ml lf lg lh mm lj lk ll mn ln lo lp mo lr ls lt bi translated">2.您可以完全控制NodeJS环境</h1><p id="cffb" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">如果你为浏览器编写JavaScript，客户可能会使用不同版本的不同浏览器。但是，在NodeJS环境中，您可以完全控制使用哪个NodeJS版本。</p><p id="02a3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">查看此表了解ES2015、ES2016、ES2017、ES2018、ES2019、ES2020、ES2021或ES2022的特性。您将确切地知道哪个节点版本支持哪个ECMAScript APIs。</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi mp"><img src="../Images/15bf42929a3a05bacb79efd5f06753eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B0TK9hrt6ONVL3DpZi-1Lw.png"/></div></div></figure><p id="de20" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你想使用BigInt，很明显你必须使用NodeJS 10.8.0+。</p><h1 id="1651" class="kw kx it bd ky kz mk lb lc ld ml lf lg lh mm lj lk ll mn ln lo lp mo lr ls lt bi translated">3.您拥有系统访问的完全控制权</h1><p id="bd15" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">在浏览器中，为了安全起见，JavaScript是沙箱化的。但是NodeJS可以完全访问你的系统。它允许直接读写文件系统、无限制地访问网络和执行软件。小心电源。</p><p id="d4b6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">以下是文件系统实用程序的一个示例:</p><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="mi mj l"/></div></figure><h1 id="6b2c" class="kw kx it bd ky kz mk lb lc ld ml lf lg lh mm lj lk ll mn ln lo lp mo lr ls lt bi translated">4.NodeJS使用CommonJS模块系统</h1><p id="8bc0" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">浏览器中的JavaScript使用异步模块定义(AMD)，RequireJS是最流行的实现。ES6模块也越来越受欢迎。</p><p id="7a09" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">NodeJS使用CommonJS模块系统。实际上，这意味着导入和导出的编码不同。</p><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="mi mj l"/></div></figure><h1 id="e275" class="kw kx it bd ky kz mk lb lc ld ml lf lg lh mm lj lk ll mn ln lo lp mo lr ls lt bi translated">5.NodeJS使用全局对象</h1><p id="64d7" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">在NodeJS环境中，没有全局的<code class="fe lz ma mb mc b">window</code>和<code class="fe lz ma mb mc b">document</code>，以及浏览器提供的所有其他对象。NodeJS中的一个全局对象是<code class="fe lz ma mb mc b">global</code>。从ES2020开始，<code class="fe lz ma mb mc b">globalThis</code>将取代<code class="fe lz ma mb mc b">window</code>和<code class="fe lz ma mb mc b">global</code>。</p><p id="3a98" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">类似于<code class="fe lz ma mb mc b">window</code>，你不需要给一个全局对象加上前缀<code class="fe lz ma mb mc b">global</code>。</p><p id="97bf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe lz ma mb mc b">process</code>是一个<code class="fe lz ma mb mc b">global</code>对象，提供关于当前节点进程的信息并对其进行控制。作为一个全局变量，它总是可用于NodeJS应用程序，而无需使用<code class="fe lz ma mb mc b">require()</code>。</p><h1 id="a094" class="kw kx it bd ky kz mk lb lc ld ml lf lg lh mm lj lk ll mn ln lo lp mo lr ls lt bi translated">6.您可以通过VSCode调试NodeJS的JavaScript</h1><p id="ac52" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">在NodeJS环境中，没有浏览器的检查工具来调试代码。VSCode 可能是一个有用的调试工具。</p><p id="81ab" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们有这个叫做<code class="fe lz ma mb mc b">sum.js</code>的JavaScript代码:</p><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="mi mj l"/></div></figure><p id="ea9d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">用NodeJS运行它:</p><pre class="md me mf mg gt mw mc mx my aw mz bi"><span id="fe59" class="na kx it mc b gy nb nc l nd ne">$ node sum.js 1 2 3 4 5 6 7 8 9 10<br/>55</span></pre><p id="680e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">怎么才能调试呢？</p><p id="e86b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在<code class="fe lz ma mb mc b">&lt;rootDir&gt;/.vscode</code>下创建launch.json:</p><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="mi mj l"/></div></figure><p id="ef66" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在第12行，所有输入的数字都必须加上引号。这对于命令行执行是不需要的。</p><p id="5f4f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在以下代码的第4行设置一个断点。然后我们可以为每次迭代检查<code class="fe lz ma mb mc b">value</code>和<code class="fe lz ma mb mc b">sum</code>。</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi nf"><img src="../Images/0c417c09197c172832d1b487bf96c6cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tKGWM1aPywb3E5jCg4YjEg.png"/></div></div></figure></div><div class="ab cl kp kq hx kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="im in io ip iq"><h1 id="0dca" class="kw kx it bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">结论</h1><p id="00d1" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">JavaScript运行在浏览器和NodeJS环境中。它们很相似，但有一些不同。如果您使用JavaScript开发客户端幻灯片代码，您也会喜欢使用JavaScript开发服务器端代码。</p><p id="cea0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这项工作的一部分是由乔纳森马贡献。</p><p id="745e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">感谢阅读。我希望这有所帮助。你可以在这里看到我的其他媒体出版物<a class="ae ko" href="https://medium.com/@jenniferfubook/jennifer-fus-web-development-publications-1a887e4454af" rel="noopener"/>。</p></div></div>    
</body>
</html>