<html>
<head>
<title>Start Your Scripting Journey Today | Bash Script — Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">立即开始您的脚本之旅| Bash脚本—第1部分</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/start-your-scripting-journey-today-bash-script-part-1-46cbddf4e4e7?source=collection_archive---------6-----------------------#2022-10-18">https://levelup.gitconnected.com/start-your-scripting-journey-today-bash-script-part-1-46cbddf4e4e7?source=collection_archive---------6-----------------------#2022-10-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="574c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">编写Bash脚本需要知道的一切</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f9a3d10876fa89c80e4235b0deb4567d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EMCWdxZlQSImSorp"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@burtonts?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Ty suggest</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></figcaption></figure><h2 id="7ac3" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">你的第一个剧本</h2><p id="9603" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">一个<strong class="lu ir"> Bash脚本</strong> t是一个包含一系列命令的纯文本文件。我们通常可以从命令行运行的任何东西都可以用来创建脚本。</p><p id="7082" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">bash脚本的第一行:</p><blockquote class="mq"><p id="d2a4" class="mr ms iq bd mt mu mv mw mx my mz mk dk translated">#!/bin/bash</p></blockquote><p id="dfd0" class="pw-post-body-paragraph ls lt iq lu b lv na jr lx ly nb ju ma lf nc mc md lj nd mf mg ln ne mi mj mk ij bi translated">井号和感叹号<strong class="lu ir"> ( #！)</strong>字符序列被称为<strong class="lu ir">射帮</strong>。后跟"<strong class="lu ir"> /bin/bash" </strong>哪个<strong class="lu ir"> </strong>是应该用来运行其余命令的解释器的路径。</p><p id="8730" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">让我们创建我们的第一个bash脚本:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="ad6c" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated"><strong class="lu ir">执行过程:<br/> </strong>我们可以使用相对路径和绝对路径来执行一个脚本。在执行脚本之前，我们需要使用<strong class="lu ir"> chmod </strong>命令使脚本可执行:</p><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="1523" class="kw kx iq ni b gy nm nn l no np"><strong class="ni ir">$ </strong>chmod <strong class="ni ir">+x</strong> fisrtscript.sh  # Make the script executable<br/><strong class="ni ir">$</strong> ./firstscript.sh      # Executing the script (using relative path)</span><span id="5daa" class="kw kx iq ni b gy nq nn l no np">-------------------------------------<br/> Hello Learners!</span></pre><p id="1cb6" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">在bash脚本中，<strong class="lu ir"> "#" </strong>之后的任何内容都将被假定为注释。</p><h2 id="9534" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">任务— 1</h2><p id="11e0" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">假设，我们需要安装一个apache服务器，然后我们必须将一个简单的静态网页部署到web服务器中。由于静态网页存储在GitHub中，我们必须将相应的git存储库克隆到web服务器的默认目录中。</p><p id="2dad" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">正如我们前面讨论的，bash脚本是命令的集合。让我们试着通过创建一个脚本来实现我们的目标；</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="83bd" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">执行上面的脚本:</p><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="5a85" class="kw kx iq ni b gy nm nn l no np"><strong class="ni ir">$ </strong>chmod <strong class="ni ir">+x</strong> webserver-setup.sh <br/><strong class="ni ir">$</strong> ./webserver-setup.sh        </span></pre><p id="8ca3" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">现在，让我们检查apache服务器是否为我们的静态网站提供服务:</p><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="3367" class="kw kx iq ni b gy nm nn l no np">curl http://18.181.179.198/</span></pre><h2 id="423c" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">变量</h2><p id="9761" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">变量只不过是指向实际数据的指针。shell使我们能够创建、分配和删除变量。可以通过以下方式创建变量:</p><blockquote class="mq"><p id="cebf" class="mr ms iq bd mt mu mv mw mx my mz mk dk translated">GREET="Hello，World" <br/> echo $GREET</p></blockquote><p id="9343" class="pw-post-body-paragraph ls lt iq lu b lv na jr lx ly nb ju ma lf nc mc md lj nd mf mg ln ne mi mj mk ij bi translated">要将一个变量和一个字符串连接起来，我们必须使用方括号{ }。例子—</p><blockquote class="mq"><p id="cdbd" class="mr ms iq bd mt mu mv mw mx my mz mk dk translated">TIME=12 <br/> DAY= "星期一"</p><p id="3c2b" class="mr ms iq bd mt mu mv mw mx my mz mk dk translated">echo“现在是${TIME}pm，$DAY”</p></blockquote><h2 id="db1f" class="kw kx iq bd ky kz nr dn lb lc ns dp le lf nt lh li lj nu ll lm ln nv lp lq lr bi translated">任务— 2</h2><p id="a6ca" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">创建一个包含多个变量的脚本，并为这些变量分配不同类型的数据。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="4e82" class="kw kx iq ni b gy nm nn l no np"><strong class="ni ir"># Execute the script</strong><br/><strong class="ni ir">$</strong> chmod <strong class="ni ir">+x</strong> variables.sh<strong class="ni ir"><br/>$</strong> ./variables.sh</span><span id="020b" class="kw kx iq ni b gy nq nn l no np">----------------------------<br/>Hello, World<br/>It's 12pm, Monday<br/>Money exchange rate:<br/>USD TO YEN: 1$ = 144.7655¥</span></pre><h2 id="88d3" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated"><strong class="ak">命令行参数</strong></h2><p id="8133" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">命令行参数是我们可以在执行过程中提供给我们的<strong class="lu ir"> bash脚本</strong>的参数。</p><p id="4c0c" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">为了给bash脚本传递一个参数，我们只需要在执行它的时候把它写在Bash脚本的名字后面；</p><blockquote class="mq"><p id="811c" class="mr ms iq bd mt mu mv mw mx my mz mk dk translated">。/script . sh<argument>T28】</argument></p></blockquote><p id="9a09" class="pw-post-body-paragraph ls lt iq lu b lv na jr lx ly nb ju ma lf nc mc md lj nd mf mg ln ne mi mj mk ij bi translated">第一个参数将存储在<strong class="lu ir"> $1 </strong>中，第二个存储在<strong class="lu ir"> $2 </strong>中，第三个存储在<strong class="lu ir"> $3中…..$9.</strong>我们可以使用<strong class="lu ir"> $1 </strong>到<strong class="lu ir"> $9 </strong>来存储命令行参数。</p><blockquote class="mq"><p id="9e49" class="mr ms iq bd mt mu mv mw mx my mz mk dk translated">echo“你最喜欢的电视剧是:$ 1”<br/>echo“你最喜欢的电影是:$2”</p></blockquote><h2 id="f4bc" class="kw kx iq bd ky kz nr dn lb lc ns dp le lf nt lh li lj nu ll lm ln nv lp lq lr bi translated">任务— 3</h2><p id="8b5b" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">用命令行参数稍微修改一下上面的<a class="ae kv" href="#db1f" rel="noopener ugc nofollow">脚本。</a></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="b5b9" class="kw kx iq ni b gy nm nn l no np"><strong class="ni ir"># Execute the script with arguments<br/>$</strong> chmod <strong class="ni ir">+x</strong> command-line-args.sh<br/><strong class="ni ir">$</strong> ./command-line-args.sh  <strong class="ni ir">12  monday  1  144.23</strong></span><span id="9f28" class="kw kx iq ni b gy nq nn l no np">--------------------------------------------------------------------<br/>Hello, World<br/>It's 12pm, monday<br/>Money exchange rate:<br/>USD TO YEN: 1$ = 144.23¥</span></pre><h2 id="d5ed" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated"><strong class="ak">特殊和保留变量</strong></h2><p id="0223" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">以下是一些特殊变量的列表:</p><blockquote class="nw nx ny"><p id="417b" class="ls lt nz lu b lv ml jr lx ly mm ju ma oa mn mc md ob mo mf mg oc mp mi mj mk ij bi translated"><strong class="lu ir"> <em class="iq"> $0 — </em> </strong> <em class="iq">当前脚本的文件名。<br/></em><strong class="lu ir"><em class="iq">$ 1-$ 9</em></strong><em class="iq">—存储前9个参数的名称<br/></em><strong class="lu ir"><em class="iq">$ $—</em></strong><em class="iq">当前bash的进程id。<br/></em><strong class="lu ir"><em class="iq">】$ #</em></strong><em class="iq">—提供给脚本的参数数量。<br/></em><strong class="lu ir"><em class="iq">】$ *—</em></strong><em class="iq">将所有命令行参数连接在一起存储。<br/></em><strong class="lu ir"><em class="iq">$ @</em></strong><em class="iq">—将参数列表存储为数组。<br/> </em> <strong class="lu ir"> <em class="iq"> $？</em> </strong> <em class="iq"> —指定最后一个命令或最近一次执行过程的退出状态。</em></p></blockquote><p id="ae02" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">以下是一些保留变量的列表:</p><blockquote class="nw nx ny"><p id="e6fd" class="ls lt nz lu b lv ml jr lx ly mm ju ma oa mn mc md ob mo mf mg oc mp mi mj mk ij bi translated"><strong class="lu ir"> <em class="iq">主机类型</em> </strong> <em class="iq"> —当前主机的名称。<br/> </em> <strong class="lu ir"> <em class="iq">主机名</em> </strong> <em class="iq"> —生成0到32767之间的随机整数。<br/></em><strong class="lu ir"><em class="iq">【PWD】</em></strong><em class="iq">—返回当前工作目录。<br/></em><strong class="lu ir"><em class="iq">OSTYPE</em></strong><em class="iq">—返回正在运行的操作系统Bash。</em></p></blockquote><p id="eb20" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">更多关于<a class="ae kv" href="https://tldp.org/LDP/Bash-Beginners-Guide/html/sect_03_02.html" rel="noopener ugc nofollow" target="_blank">中特殊变量和保留变量的信息，请点击</a>。</p><h2 id="d144" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">任务— 4</h2><p id="3189" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">使用一些特殊的和保留的变量创建一个脚本。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="fde1" class="kw kx iq ni b gy nm nn l no np"><strong class="ni ir"># Execute the script<br/>$</strong> chmod +x special.sh<br/><strong class="ni ir">$</strong> ./special.sh </span><span id="3788" class="kw kx iq ni b gy nq nn l no np">--------------------------------------------------------------------<br/>Welcome to TASK-3</span><span id="3fbb" class="kw kx iq ni b gy nq nn l no np">Environment configuration: <br/> OSTYPE: linux-gnu<br/> HOSTTYPE: x86_64<br/> HOSTNAME: centos</span><span id="0cca" class="kw kx iq ni b gy nq nn l no np">Script details:<br/> Script name: ./special.sh<br/> Process Id: 8940</span></pre><h2 id="76e2" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">环境变量</h2><p id="48b8" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated"><strong class="lu ir">预定义环境<br/> </strong>系统中有许多预定义的环境变量。使用<strong class="lu ir"> printenv </strong>命令找出所有预定义的环境变量。</p><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="28b4" class="kw kx iq ni b gy nm nn l no np"><strong class="ni ir">$ </strong>printenv</span><span id="590b" class="kw kx iq ni b gy nq nn l no np">--------------------<br/>XDG_SESSION_ID=163<br/>HOSTNAME=centos<br/>TERM=xterm<br/>SHELL=/bin/bash<br/>--------------------</span><span id="304e" class="kw kx iq ni b gy nq nn l no np"><strong class="ni ir">$ </strong>echo <strong class="ni ir">$SHELL</strong><br/>/bin/bash</span><span id="17c2" class="kw kx iq ni b gy nq nn l no np"><strong class="ni ir">$ </strong>echo <strong class="ni ir">$HOSTNAME</strong><br/>centos</span></pre><p id="0865" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated"><strong class="lu ir">创建一个新的环境变量<br/> </strong>我们可以在Linux中使用<strong class="lu ir"> export </strong>命令创建一个新的环境变量:</p><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="a4c7" class="kw kx iq ni b gy nm nn l no np"><strong class="ni ir">$</strong> <strong class="ni ir">export </strong>APP_MODE="test"</span></pre><p id="348f" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">上面创建的环境变量可以在bash脚本中使用:</p><blockquote class="mq"><p id="f80c" class="mr ms iq bd mt mu mv mw mx my mz mk dk translated">echo "当前应用模式为:$APP_MODE "</p></blockquote><p id="fc9e" class="pw-post-body-paragraph ls lt iq lu b lv na jr lx ly nb ju ma lf nc mc md lj nd mf mg ln ne mi mj mk ij bi translated">如果我们关闭终端，重启服务器，或者会话结束，env变量将不会持久。</p><p id="d8cb" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">要永久保存env变量，有两种方法:我们可以只保存相应用户的env变量，或者保存所有用户的env变量。</p><p id="1191" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">为了只为相应的用户保存env变量，我们必须将env变量放在<strong class="lu ir">下。bashrc </strong>文件位于用户的主目录中。</p><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="3557" class="kw kx iq ni b gy nm nn l no np"># Add env into the .bashrc<br/><strong class="ni ir">$</strong> echo "export APP_MODE=test" &gt;&gt; <strong class="ni ir">~/.bashrc</strong></span><span id="abb4" class="kw kx iq ni b gy nq nn l no np"># Reload the file<br/><strong class="ni ir">$</strong> source <strong class="ni ir">~/.bashrc</strong></span><span id="76e7" class="kw kx iq ni b gy nq nn l no np"><strong class="ni ir">$ </strong>echo <strong class="ni ir">$APP_MODE</strong><br/>----------------<br/>test</span></pre><p id="93e4" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">要为所有用户保存环境变量，我们必须将环境变量放在<strong class="lu ir"> /etc/profile </strong>文件下。</p><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="d3d8" class="kw kx iq ni b gy nm nn l no np"># Add env into the <strong class="ni ir">/etc/profile</strong> file<br/>$ su<br/>$ vim  echo "export APP_VERSION=1.25.0" &gt;&gt; <strong class="ni ir">/etc/profile</strong></span><span id="d165" class="kw kx iq ni b gy nq nn l no np"># Reload the file<br/>$ source <strong class="ni ir">/etc/profile</strong></span><span id="8518" class="kw kx iq ni b gy nq nn l no np">$ echo <strong class="ni ir">$APP_VERSION</strong><br/>-------------------<br/>1.25.0</span></pre><h2 id="7256" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">任务— 5</h2><p id="7af2" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">将上面创建的env变量用于脚本:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="df81" class="kw kx iq ni b gy nm nn l no np"><strong class="ni ir"># Execute the script<br/>$</strong> chmod <strong class="ni ir">+x</strong> env.sh<strong class="ni ir"><br/>$</strong> ./env.sh</span><span id="ea85" class="kw kx iq ni b gy nq nn l no np">--------------------------------------------------------------------Current app mode is: test<br/>Current app version is: 1.25.0</span></pre><h2 id="0647" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">命令替换</h2><p id="b9e1" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">Bash <strong class="lu ir">中的命令替换允许我们执行一个命令，并用它的标准输出</strong>替换它。</p><blockquote class="nw nx ny"><p id="5730" class="ls lt nz lu b lv ml jr lx ly mm ju ma oa mn mc md ob mo mf mg oc mp mi mj mk ij bi translated"><strong class="lu ir"> <em class="iq">注意:</em> </strong> <em class="iq">该命令在子shell中执行，这意味着它有自己的环境，因此不会影响父shell的环境。</em></p></blockquote><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="17d8" class="kw kx iq ni b gy nm nn l no np"><strong class="ni ir"># Execute the script<br/>$</strong> chmod <strong class="ni ir">+x </strong>command-sub.sh<br/><strong class="ni ir">$</strong> ./command-sub.sh</span><span id="44b0" class="kw kx iq ni b gy nq nn l no np">----------------------------------------<br/>Mon Oct 3 09:02:21 UTC 2022<br/>----------------------------------------<br/>Available space in 'dev' disk: /dev 474M<br/>Used Memory: 295M</span></pre><h2 id="4b20" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">引用</h2><p id="5f47" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">我们可以在bash脚本中同时使用单引号和双引号。但是单引号和双引号的用例是不同的:</p><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="8dc7" class="kw kx iq ni b gy nm nn l no np"><strong class="ni ir"># Double quotes</strong><br/><strong class="ni ir">$ </strong>echo "hostname is: $HOSTNAME"<br/>--------------------------------<br/>hostname is: centos<br/>--------------------------------</span><span id="59a7" class="kw kx iq ni b gy nq nn l no np"><strong class="ni ir"># Single quotes<br/>$ </strong>echo 'hostname is: $HOSTNAME'<br/>--------------------------------<br/>hostname is: <strong class="ni ir">$HOSTNAME   </strong><br/>--------------------------------</span></pre><p id="eb23" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated"><strong class="lu ir">单引号</strong>忽略所有特殊字符(如— <code class="fe od oe of ni b"><strong class="lu ir">$ &amp; * ; |.'</strong></code>)，按原样打印语句。</p><p id="ba62" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">相比之下，要在<strong class="lu ir">双引号</strong>中打印一个特殊字符，我们必须在我们要打印的字符前面使用反斜杠<strong class="lu ir"> ( \ ) </strong>。</p><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="d82d" class="kw kx iq ni b gy nm nn l no np"><br/><strong class="ni ir">$ </strong>echo "hostname is:<strong class="ni ir">\"</strong>$HOSTNAME<strong class="ni ir">\"</strong>"<br/>--------------------------------<br/>hostname is: "centos"<br/></span><span id="86a7" class="kw kx iq ni b gy nq nn l no np"><strong class="ni ir">$</strong> echo "I have only 5<strong class="ni ir">\$</strong> today"<br/>--------------------------------<br/>I have only 5$ today</span></pre><h2 id="9be6" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">用户输入</h2><p id="ac2e" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">为了创建一个交互式脚本，我们可能需要从用户那里获得输入。使用<strong class="lu ir">读取</strong>命令，我们可以从用户处获得输入。</p><p id="383c" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">如果没有指定NAME，则使用名为REPLY的变量来存储用户输入。</p><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="85bd" class="kw kx iq ni b gy nm nn l no np">$ read <br/>$ echo $REPLY</span></pre><p id="4493" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">读取并插入变量:</p><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="2ecf" class="kw kx iq ni b gy nm nn l no np">$ read $VAR<br/>$ echo $VAR</span></pre><p id="2e23" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">我们可以在读取数据时使用各种选项。</p><blockquote class="nw nx ny"><p id="c2d1" class="ls lt nz lu b lv ml jr lx ly mm ju ma oa mn mc md ob mo mf mg oc mp mi mj mk ij bi translated"><strong class="lu ir"> <em class="iq"> -p </em> </strong> <em class="iq">提示用户输入一些消息<br/></em><strong class="lu ir"><em class="iq">-s</em></strong><em class="iq">提示用户输入一个秘密<br/></em><strong class="lu ir"><em class="iq">-n</em></strong><em class="iq">限制使用</em>的字符数</p></blockquote><h2 id="d333" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">任务— 6</h2><p id="fd8d" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">创建一个脚本，您需要从用户那里读取数据，并尝试在双引号中使用特殊字符。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="b881" class="kw kx iq ni b gy nm nn l no np"><strong class="ni ir"># Execute the script<br/>$</strong> chmod <strong class="ni ir">+x </strong>userlogin.sh<br/><strong class="ni ir">$</strong> ./userlogin.sh</span><span id="3df5" class="kw kx iq ni b gy nq nn l no np">----------------------------------------<br/>Welcome to "kubehub.com"<br/>USENAME: shamim           <br/>Enter your 4 digit PIN<br/>PIN: <br/>Successfully singed in<br/>Welcome, shamim</span></pre><h2 id="8a44" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">Bash中$()和${ }的区别</h2><p id="075b" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">在命令替换期间，我们必须使用<strong class="lu ir"> $(命令)。<br/> </strong>另一边，我们可以用<strong class="lu ir"> ${paramtere} </strong>来避免歧义。</p><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="2419" class="kw kx iq ni b gy nm nn l no np"><strong class="ni ir"># command substitution $()</strong><br/><strong class="ni ir">$ </strong>USED_MEM=$(free -m | grep Mem | awk '{print $3}')</span><span id="3c72" class="kw kx iq ni b gy nq nn l no np"><strong class="ni ir"># without using ${}</strong><br/><strong class="ni ir">$</strong> echo $USED_MEMMB      <br/>  ------------------------<br/>  No output, because there is no variable named "USED_MEMMB"</span><span id="fe1e" class="kw kx iq ni b gy nq nn l no np"><strong class="ni ir"># by using ${}</strong><br/><strong class="ni ir">$</strong> echo ${USED_MEM}MB  <br/>  -------------------------<br/>  295MB</span></pre></div><div class="ab cl og oh hu oi" role="separator"><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol"/></div><div class="ij ik il im in"><h2 id="4856" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated"><strong class="ak">下一个— </strong></h2><div class="on oo gp gr op oq"><a href="https://medium.com/geekculture/start-your-scripting-journey-today-bash-script-part-2-4d93ecb59249" rel="noopener follow" target="_blank"><div class="or ab fo"><div class="os ab ot cl cj ou"><h2 class="bd ir gy z fp ov fr fs ow fu fw ip bi translated">立即开始您的脚本之旅| Bash脚本—第2部分</h2><div class="ox l"><h3 class="bd b gy z fp ov fr fs ow fu fw dk translated">编写Bash脚本需要知道的一切</h3></div><div class="oy l"><p class="bd b dl z fp ov fr fs ow fu fw dk translated">medium.com</p></div></div><div class="oz l"><div class="pa l pb pc pd oz pe kp oq"/></div></div></a></div></div><div class="ab cl og oh hu oi" role="separator"><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol"/></div><div class="ij ik il im in"><blockquote class="nw nx ny"><p id="3467" class="ls lt nz lu b lv ml jr lx ly mm ju ma oa mn mc md ob mo mf mg oc mp mi mj mk ij bi translated"><em class="iq">如果你觉得这篇文章很有帮助，请</em> <strong class="lu ir"> <em class="iq">别忘了</em> </strong> <em class="iq">来点击</em> <strong class="lu ir"> <em class="iq">跟随</em></strong><em class="iq"/><strong class="lu ir"><em class="iq">拍拍</em> </strong> <em class="iq">按钮，帮我写更多这样的文章。<br/> </em> <strong class="lu ir"> <em class="iq">谢谢🖤 </em> </strong></p></blockquote></div></div>    
</body>
</html>