<html>
<head>
<title>Machine Learning and Rust (Part 2): Linear Regression</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">机器学习与Rust(第二部分):线性回归</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/machine-learning-and-rust-part-2-linear-regression-d3b820ed28f9?source=collection_archive---------9-----------------------#2021-06-15">https://levelup.gitconnected.com/machine-learning-and-rust-part-2-linear-regression-d3b820ed28f9?source=collection_archive---------9-----------------------#2021-06-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="ed96" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本教程中:如何在Rust中读取csv文件？如何实现线性回归？让我们亲自动手，了解更多关于<code class="fe ko kp kq kr b">rusty_machine</code>的知识。</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi ks"><img src="../Images/019f05d400089c3f1e811b8ca5adfd20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vkGzrByBl9KBpVEcUQOTCw.jpeg"/></div></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">图片来自<a class="ae li" href="https://unsplash.com/photos/uGGy672VX1E" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>作者<a class="ae li" href="https://unsplash.com/@snapsbyclark" rel="noopener ugc nofollow" target="_blank"> Clark Van Der Beken </a></figcaption></figure><div class="lj lk gp gr ll lm"><a href="https://medium.com/@stefanobosisio1/membership" rel="noopener follow" target="_blank"><div class="ln ab fo"><div class="lo ab lp cl cj lq"><h2 class="bd iu gy z fp lr fr fs ls fu fw is bi translated">通过我的推荐链接加入Medium-Stefano Bosisio</h2><div class="lt l"><h3 class="bd b gy z fp lr fr fs ls fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="lu l"><p class="bd b dl z fp lr fr fs ls fu fw dk translated">medium.com</p></div></div><div class="lv l"><div class="lw l lx ly lz lv ma lc lm"/></div></div></a></div><p id="a3ee" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">欢迎来到第一个学习Rust并将这种奇妙的编程语言应用于机器学习的教程。</p><ul class=""><li id="b984" class="mb mc it js b jt ju jx jy kb md kf me kj mf kn mg mh mi mj bi translated">在这里你可以找到关于Rus的简介</li><li id="2449" class="mb mc it js b jt mk jx ml kb mm kf mn kj mo kn mg mh mi mj bi translated">参考Github repo for today教程在这里:h<a class="ae li" href="https://github.com/Steboss/ML_and_Rust/tree/master/tutorial_1" rel="noopener ugc nofollow" target="_blank">ttps://Github . com/ste boss/ML _ and _ Rust/tree/master/tutorial _ 1</a></li><li id="81fc" class="mb mc it js b jt mk jx ml kb mm kf mn kj mo kn mg mh mi mj bi translated">今天我们将处理<a class="ae li" href="https://en.wikipedia.org/wiki/Linear_regression" rel="noopener ugc nofollow" target="_blank">线性回归</a>和著名的<a class="ae li" href="https://www.cs.toronto.edu/~delve/data/boston/bostonDetail.html" rel="noopener ugc nofollow" target="_blank">波士顿住房数据集</a>。</li><li id="3597" class="mb mc it js b jt mk jx ml kb mm kf mn kj mo kn mg mh mi mj bi translated">为了测试Rust online的功能，我可以向你推荐这个神奇的应用程序<a class="ae li" href="https://play.rust-lang.org" rel="noopener ugc nofollow" target="_blank">https://play.rust-lang.org</a>。</li></ul><p id="daae" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">本教程结束时，您将学到什么？</p><ul class=""><li id="bc94" class="mb mc it js b jt ju jx jy kb md kf me kj mf kn mg mh mi mj bi translated">如何在Rust中使用自定义函数读取csv文件</li><li id="3f6f" class="mb mc it js b jt mk jx ml kb mm kf mn kj mo kn mg mh mi mj bi translated">如何编写一个Rust代码来处理数据，定义训练和测试分割以及创建向量和矩阵</li><li id="3b7f" class="mb mc it js b jt mk jx ml kb mm kf mn kj mo kn mg mh mi mj bi translated">熟悉我们的第一个ML Rust包:<code class="fe ko kp kq kr b">rusty_machine</code></li></ul><p id="e68d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">请继续关注下一次冒险，我们将使用<code class="fe ko kp kq kr b">smartcore</code>扩展本教程——另一个强大的ML Rust包</p></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h2 id="8089" class="mw mx it bd my mz na dn nb nc nd dp ne kb nf ng nh kf ni nj nk kj nl nm nn no bi translated">线性回归:是什么？</h2><p id="7936" class="pw-post-body-paragraph jq jr it js b jt np jv jw jx nq jz ka kb nr kd ke kf ns kh ki kj nt kl km kn im bi translated">从流行病学到金融和天文学，线性回归是一种广泛使用的模型。线性回归理论指的是广义线性模型族(GLM)。如果你想深入了解下面的数学知识，就看看这个关于GLM的介绍吧。GLM的主要目的是拟合输入数据点，这些数据点遵循准正态分布并呈现方差恒常性。给定这些假设，我们可以创建一个模型，通过最大化对数似然来预测给定一些初始条件下的新数据点。这就把我们带到了线性回归模型，它用线性拟合正负系统误差来拟合给定的分布。</p><h2 id="bc54" class="mw mx it bd my mz na dn nb nc nd dp ne kb nf ng nh kf ni nj nk kj nl nm nn no bi translated">CSV阅读器:学习如何在Rust中处理CSV文件</h2><p id="6e1d" class="pw-post-body-paragraph jq jr it js b jt np jv jw jx nq jz ka kb nr kd ke kf ns kh ki kj nt kl km kn im bi translated">现在我们知道了模型，我们可以开始看看如何处理输入数据:<a class="ae li" href="https://github.com/Steboss/ML_and_Rust/tree/master/tutorial_1/regression/datasets" rel="noopener ugc nofollow" target="_blank">https://github . com/ste boss/ml _ and _ rust/tree/master/regression/datasets</a></p><p id="c5f3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">和往常一样，首先要做的是用<code class="fe ko kp kq kr b">cargo</code>创建一个新的包:</p><pre class="kt ku kv kw gt nu kr nv nw aw nx bi"><span id="0424" class="mw mx it kr b gy ny nz l oa ob">cargo new read_csv</span></pre><p id="981c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在<code class="fe ko kp kq kr b">src</code>文件夹中，我们可以将<code class="fe ko kp kq kr b">main.rs</code>重命名为<code class="fe ko kp kq kr b">reader.rs</code>，这样我们<em class="oc">将使用这个包作为回归代码</em>的外部库。为了创建这个库，我们将创建主要的Rust代码来解析和读取csv文件，然后，我们将设置<code class="fe ko kp kq kr b">Cargo.toml</code>文件。</p><p id="3b7b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要将csv文件解析成Rust，我们可以遵循图1</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi od"><img src="../Images/4c091c7ab3ddf7f71fdfc16d0db07f2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lYOKe9dJCvxjvXjv4SkBsQ.png"/></div></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">图1:用Rust解析输入csv文件的步骤。首先创建一个函数来读取csv文件，然后将每一行拆分成元素，最后创建一个结构的实现来将每个元素与特定的结构组件相关联。</figcaption></figure><p id="a466" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们要写的第一个函数是<code class="fe ko kp kq kr b">read_housing_csv</code>，在这里输入csv将被读取。此函数的声明定义了函数的名称、文件的路径类型和返回类型:</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="a6d2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">所以函数是可见的，<code class="fe ko kp kq kr b">pub</code>是函数<code class="fe ko kp kq kr b">fn</code>，输入是来自导入<code class="fe ko kp kq kr b">use std::path::Path;</code>的路径<code class="fe ko kp kq kr b">impl AsRef&lt;Path&gt;</code>，返回一个矢量<code class="fe ko kp kq kr b">HousingDataset</code>。此函数的核心在第95–98行之间，我们将在此处理所有文件行并将其映射出来:</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="4ae0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">每一行都由函数<code class="fe ko kp kq kr b">read_single_line</code>处理，该函数创建一个类型为<code class="fe ko kp kq kr b">HousingDataset</code>的新向量。<code class="fe ko kp kq kr b">HousingDataset</code>类型的实现完成了解析输入文件值的粗略工作。首先，我们将定义一个函数来展开每一行(30–34):</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="a53c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="oc">这是一个很好的例子来理解如何在Rust中换行并使用命令</em> <code class="fe ko kp kq kr b">map</code>。基本上，我们取字符串的输入向量<code class="fe ko kp kq kr b">v</code>，用<code class="fe ko kp kq kr b">iter()</code>遍历每个元素，然后定义一个<code class="fe ko kp kq kr b">map</code>。<code class="fe ko kp kq kr b">map</code>将由<code class="fe ko kp kq kr b">|</code>分隔的变量作为输入，该变量对给定向量的每个元素执行操作，在本例中<code class="fe ko kp kq kr b">parse().unwrap().</code>如果您熟悉Python，这就像<code class="fe ko kp kq kr b">lambda(x: do something)</code>最后，必须收集所有结果，所以我们添加了<code class="fe ko kp kq kr b">.collect()</code>——就像在PySpark中一样。</p><p id="5ee6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一旦这些元素被解析，我们就可以将每个vector元素与结构<code class="fe ko kp kq kr b">pub struct HousingDataset</code>(第8行)关联起来。正如<a class="ae li" rel="noopener ugc nofollow" target="_blank" href="/machine-learning-and-rust-part-1-getting-started-745885771bc2?source=your_stories_page-------------------------------------">我们的Rust简介</a>中所解释的，这是一个很好的案例，可以看到和学习如何创建新的数据类型，以及如何用固有的实现来实现功能。</p><p id="1585" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于<code class="fe ko kp kq kr b">struct HousingDataset</code>类型，我们可以实现另外两个功能:<code class="fe ko kp kq kr b">pub fn train_features</code>和<code class="fe ko kp kq kr b">pub fn train_target</code>来细分训练特征和目标特征。在前一种情况下，我们使用<code class="fe ko kp kq kr b">Vector&lt;f64&gt;</code>返回一个浮点向量，而对于目标，我们只返回一个浮点向量<code class="fe ko kp kq kr b">f64</code> <a class="ae li" href="https://github.com/Steboss/ml_and_rust/blob/5a3f7e2482ee75bce95850c087da7e9c38fe3a9e/read_csv/src/reader.rs#L52" rel="noopener ugc nofollow" target="_blank">第52–74行</a>允许理解如何创建一个简单向量以及如何在Rust中处理简单函数。</p><p id="d927" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在让我们建立<code class="fe ko kp kq kr b">Cargo.toml</code>文件。<em class="oc">在这个文件中，我们必须定义所有的依赖关系和代码功能</em>。在这种情况下，我添加了依赖关系<code class="fe ko kp kq kr b">serde</code>和<code class="fe ko kp kq kr b">serde_derive</code>，以允许代码的序列化——我们会回来讨论这一点，但你可能已经注意到在<code class="fe ko kp kq kr b">reader.rs</code>代码中有类似于<code class="fe ko kp kq kr b">[derive(Debug)].</code>的东西。最后，我们将使用<code class="fe ko kp kq kr b">read_csv</code>作为主线性回归函数的外部库。因此，我们必须将<code class="fe ko kp kq kr b">[lib]</code>关键字添加到<code class="fe ko kp kq kr b">toml</code>文件中:</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="930e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里我们定义了这个库的名字，它将在后面被用来调用函数，以及代码的路径。这意味着在我们的主代码中，我们将把这个函数作为<code class="fe ko kp kq kr b">read_csv::read_housing_csv</code>导入，其中<code class="fe ko kp kq kr b">read_csv</code>是库名，<code class="fe ko kp kq kr b">read_housing_csv</code>是读取<code class="fe ko kp kq kr b">csv</code>文件的主函数。</p><h2 id="714f" class="mw mx it bd my mz na dn nb nc nd dp ne kb nf ng nh kf ni nj nk kj nl nm nn no bi translated">rusty_machine线性回归</h2><p id="24b2" class="pw-post-body-paragraph jq jr it js b jt np jv jw jx nq jz ka kb nr kd ke kf ns kh ki kj nt kl km kn im bi translated">和以前一样，首先我们可以创建一个新的<code class="fe ko kp kq kr b">cargo</code>包:</p><pre class="kt ku kv kw gt nu kr nv nw aw nx bi"><span id="b6e6" class="mw mx it kr b gy ny nz l oa ob">cargo new rust-regression</span></pre><p id="69f4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里我们将使用<code class="fe ko kp kq kr b">rusty_machine</code>实现线性回归。虽然名字听起来不怎么样，<code class="fe ko kp kq kr b">rusty_machine</code>是Rust的ML包，已经实现了很多算法，随时可以使用。既然我们要使用外部库，那么第一个问题就是:我们在Rust中从哪里检索外部库？以及我们如何安装它们？</p><p id="394d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">任何在Rust的库都被称为<em class="oc">板条箱。在这里，你可以找到一个特定包装所需的所有板条箱。例如，我们可以搜索<code class="fe ko kp kq kr b">rusty-machine</code>:</em></p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi og"><img src="../Images/2fea4d059da39e17703d65c5ab119ade.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Agov8C08aEp0QCvRbPEgFA.png"/></div></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">图2: crates.io允许我们查找特定包装所需的所有板条箱。在本例中，我们要寻找生锈的机器</figcaption></figure><p id="fb8d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">点击<code class="fe ko kp kq kr b">rusty-machine</code>,您将被提示进入一个页面，其中包含关于该软件包的所有详细信息，以及“安装”程序:</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi oh"><img src="../Images/6d4d2b311bab84700915d411a227fccd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eZPD1lx9ywqDNMecVlzUMA.png"/></div></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">图3:对于每个板条箱，只需复制Cargo.toml文件中的安装说明</figcaption></figure><p id="bcb0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">正如你所看到的，要安装这个包，你只需要把<code class="fe ko kp kq kr b">rusty-machine = "0.5.4"</code>复制到你的Cargo.toml！瞧</p><p id="df1d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">此外，在Cargo.toml中，我们可以将依赖项添加到已创建的<code class="fe ko kp kq kr b">read_csv</code>库中。这非常简单，正如您在我们最终的Cargo.toml文件中看到的，我们只需要使用一个相对文件路径:</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="3f50" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在让我们实现线性回归。在<code class="fe ko kp kq kr b">src</code>目录下创建一个名为<code class="fe ko kp kq kr b">linear_regression.rs</code>的新文件。首先，我们需要导入所有相关的<code class="fe ko kp kq kr b">rusty_machine</code>函数，以及我们的<code class="fe ko kp kq kr b">read_csv</code>库:</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="3b5a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如你所见，与Python不同，<code class="fe ko kp kq kr b">rusty_machine</code>需要特定的类型来定义一个<code class="fe ko kp kq kr b">Matrix</code>和一个<code class="fe ko kp kq kr b">Vector</code>。此外，在<code class="fe ko kp kq kr b">rusty_machine</code>中，当我们导入<code class="fe ko kp kq kr b">rusty_machine::learning__lin_reg::LinRegressor</code> <a class="ae li" href="https://docs.rs/rusty-machine/0.3.2/i686-pc-windows-gnu/rusty_machine/learning/lin_reg/struct.LinRegressor.html" rel="noopener ugc nofollow" target="_blank">时，我们将导入一个线性回归结构</a>，它的唯一方法是<code class="fe ko kp kq kr b">train_with_optimization</code>。为了拥有线性回归的全部功能，我们需要导入相应的特征— <a class="ae li" rel="noopener ugc nofollow" target="_blank" href="/machine-learning-and-rust-part-1-getting-started-745885771bc2">你还记得特征吗？你能看出它们现在有多重要吗？</a> —这将使我们使用<code class="fe ko kp kq kr b">train</code>和<code class="fe ko kp kq kr b">predict</code>功能。为此，我们需要导入:<code class="fe ko kp kq kr b">use rusty_machine::learning::SupModel;</code> <a class="ae li" href="https://docs.rs/rusty-machine/0.2.0/rusty_machine/learning/trait.SupModel.html" rel="noopener ugc nofollow" target="_blank">，它实现了模型<code class="fe ko kp kq kr b">struct</code>的特征</a>。最后，值得一提的是<code class="fe ko kp kq kr b">rusty_machine</code>几乎没有已经编码好的度量，因此我们正在计算与<code class="fe ko kp kq kr b">neg_mean_squared_error</code>的线性回归拟合度(此处的<a class="ae li" href="https://athemathmo.github.io/rusty-machine/doc/rusty_machine/analysis/score/fn.neg_mean_squared_error.html" rel="noopener ugc nofollow" target="_blank">用于参考</a>)。</p><p id="258b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">第二步是实现预处理部分。我们将在接下来的教程中讨论预处理技术，现在让我们熟悉如何读取输入文件并在训练集和测试集中拆分数据:</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="5adf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们需要记住几个要点:</p><ul class=""><li id="d548" class="mb mc it js b jt ju jx jy kb md kf me kj mf kn mg mh mi mj bi translated">正如您所看到的，输入数据向量具有属性<code class="fe ko kp kq kr b">split_at</code>,这对于拆分数组非常方便</li><li id="baba" class="mb mc it js b jt mk jx ml kb mm kf mn kj mo kn mg mh mi mj bi translated">从输入数据向量，我们通过平面映射出训练变量和映射出目标变量来创建向量<code class="fe ko kp kq kr b">x_train, y_train, x_test, y_test</code></li><li id="411b" class="mb mc it js b jt mk jx ml kb mm kf mn kj mo kn mg mh mi mj bi translated"><code class="fe ko kp kq kr b">rusty_machine</code>想要自己的数据类型，因此我们需要将<code class="fe ko kp kq kr b">x_train, y_train, x_test, y_test</code>转换成<code class="fe ko kp kq kr b">rusty_machine::Matrix</code>和<code class="fe ko kp kq kr b">rusty_machine::Vector</code>。这有时可能会很乏味</li></ul><p id="b314" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，让我们实现模型，进行预测并检索<code class="fe ko kp kq kr b">mse</code>指标:</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="9837" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="oc">注意这里的所有权概念，我们通过引用传递我们的输入变量</em>。然后，如上所述，我们必须将我们的预测和<code class="fe ko kp kq kr b">y_test</code>向量转换成矩阵格式，以供<code class="fe ko kp kq kr b">neg_mean_squared_error</code>读取这是<code class="fe ko kp kq kr b">rusty_machine</code>想要的，例如，这是与Python的显著区别。</p><p id="e82f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">将一切变为现实的最后一步是为我们的代码创建主<code class="fe ko kp kq kr b">main.rs</code>。由于这个任务相对容易，我们只需要导入线性回归模块并运行它。就像这样简单:</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="b639" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">由于<code class="fe ko kp kq kr b">main.rs</code>和<code class="fe ko kp kq kr b">linear_regression.rs</code>位于同一个文件夹中，我们可以用<code class="fe ko kp kq kr b">mod</code>将代码作为一个模块导入</p><h2 id="ec17" class="mw mx it bd my mz na dn nb nc nd dp ne kb nf ng nh kf ni nj nk kj nl nm nn no bi translated">准备，稳定，开始:运行您的第一个ML RUST代码！</h2><p id="d52a" class="pw-post-body-paragraph jq jr it js b jt np jv jw jx nq jz ka kb nr kd ke kf ns kh ki kj nt kl km kn im bi translated">现在我们已经为运行代码做好了一切准备。首先进入你的<code class="fe ko kp kq kr b">rust-regression</code>文件夹，输入<code class="fe ko kp kq kr b">cargo run</code>。这将运行<code class="fe ko kp kq kr b">cargo</code>，读取Cargo.toml并安装依赖项和编译我们的代码。如果一切顺利，您应该会看到一个<code class="fe ko kp kq kr b">Cargo.lock</code>文件，它用Java记住了我的一个<code class="fe ko kp kq kr b">pom.xml</code>文件和所有已安装的依赖项，以及没有编译代码的<code class="fe ko kp kq kr b">target</code>文件夹。此外,<code class="fe ko kp kq kr b">cargo run</code>将运行我们的<code class="fe ko kp kq kr b">main.rs</code>,您将看到类似如下的最终输出结果:</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/72585dff10c73f241c7039d8af7b7858.png" data-original-src="https://miro.medium.com/v2/resize:fit:1124/format:webp/1*dQaj-jbjh2oXDajM7fQKBA.png"/></div></figure><p id="1490" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你足够高兴，你可以用<code class="fe ko kp kq kr b">cargo build</code>构建整个包，它将对我们的代码运行进一步的优化，瞧！</p><p id="7972" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你的第一个ML Rust代码完成了:)🎊🎊🎊</p></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><p id="fba9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">暂时就这些吧！看起来不是很多，但是你学会Rust，申请ML，已经是很了不起的进步了！</p><p id="698d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">请随时给我发电子邮件询问问题或评论，地址:stefanobosisio1@gmail.com</p><p id="77aa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">或者，你可以在Instagram上联系我:<a class="ae li" href="https://www.instagram.com/a_pic_of_science/" rel="noopener ugc nofollow" target="_blank">https://www.instagram.com/a_pic_of_science/</a></p></div></div>    
</body>
</html>