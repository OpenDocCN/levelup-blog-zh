<html>
<head>
<title>Creating Custom Toast in Android 🌈</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Android中创建自定义吐司🌈</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/creating-custom-toast-in-android-4f7fbcb14bf0?source=collection_archive---------0-----------------------#2020-07-01">https://levelup.gitconnected.com/creating-custom-toast-in-android-4f7fbcb14bf0?source=collection_archive---------0-----------------------#2020-07-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/41a80bd60e6157f29a97cb631e6b6f4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3JxVxMJj22GPgNdpZTKNCg.png"/></div></div></figure><p id="0095" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi kw translated">oast是应用程序开发中经常使用的UI元素，用于以温和的方式向用户显示或提示一些消息。提高祝酒词的质量可以大大改善应用程序的用户体验。我们只能通过创建自定义吐司来做到这一点，因为只有这样我们才能完全控制它的外观。</p><p id="ee59" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在本文中，我将向您展示一个如何在您的应用程序中创建自定义<code class="fe lf lg lh li b">Toast</code>的示例。</p><p id="be34" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了创建定制的toast，简单的过程(我们马上会看到细节)是我们创建一个定制的布局，展开这个布局，将视图设置为我们的<code class="fe lf lg lh li b">Toast</code>对象，并最终显示它。所以让我们一步一步来:</p><h2 id="f24c" class="lj lk iq bd ll lm ln dn lo lp lq dp lr kj ls lt lu kn lv lw lx kr ly lz ma mb bi translated">步骤1:创建我们的自定义吐司布局</h2><ul class=""><li id="949c" class="mc md iq ka b kb me kf mf kj mg kn mh kr mi kv mj mk ml mm bi translated">在<strong class="ka ir"> res/layout </strong>文件夹中创建一个新的布局资源文件。将布局文件命名为<code class="fe lf lg lh li b">toast_layout.xml</code>。</li><li id="9c7f" class="mc md iq ka b kb mn kf mo kj mp kn mq kr mr kv mj mk ml mm bi translated">因此，我们的布局基本上是一个彩色背景和白色文本的祝酒词(你可以根据自己的要求定制，也许会放一个图标)。所以相同的代码如下:</li></ul><figure class="ms mt mu mv gt jr"><div class="bz fp l di"><div class="mw mx l"/></div></figure><h2 id="3c60" class="lj lk iq bd ll lm ln dn lo lp lq dp lr kj ls lt lu kn lv lw lx kr ly lz ma mb bi translated">步骤2:膨胀创建的布局</h2><ul class=""><li id="58d2" class="mc md iq ka b kb me kf mf kj mg kn mh kr mi kv mj mk ml mm bi translated">为了放大我们创建的布局，即<code class="fe lf lg lh li b">toast_layout.xml</code>，我们将利用<code class="fe lf lg lh li b">LayoutInflater</code>类来放大我们的布局，并获得相同的视图。</li><li id="398d" class="mc md iq ka b kb mn kf mo kj mp kn mq kr mr kv mj mk ml mm bi translated">在您的活动中，创建一个名为<code class="fe lf lg lh li b">showToast(String message)</code>的方法，它将包含所有的toast创建代码。</li></ul><pre class="ms mt mu mv gt my li mz na aw nb bi"><span id="77ca" class="lj lk iq li b gy nc nd l ne nf"><em class="ng">void </em><strong class="li ir">showToast</strong>(String <strong class="li ir">message</strong>) {<br/>       <br/>}</span></pre><ul class=""><li id="2c1c" class="mc md iq ka b kb kc kf kg kj nh kn ni kr nj kv mj mk ml mm bi translated">现在将布局膨胀代码放入这个方法中，如下所示:</li></ul><pre class="ms mt mu mv gt my li mz na aw nb bi"><span id="e4c6" class="lj lk iq li b gy nc nd l ne nf"><em class="ng">void </em><strong class="li ir">showToast</strong>(String <strong class="li ir">message</strong>) {<br/>       <strong class="li ir">View</strong> view = <strong class="li ir">LayoutInflater</strong>.<em class="ng">from</em>(MainActivity.<em class="ng">this</em>)<br/>              .inflate(R.layout.<strong class="li ir">toast_layout</strong>, <em class="ng">null</em>);<br/>}</span></pre><h2 id="5f62" class="lj lk iq bd ll lm ln dn lo lp lq dp lr kj ls lt lu kn lv lw lx kr ly lz ma mb bi translated">步骤3:创建Toast对象并显示它</h2><ul class=""><li id="0fe0" class="mc md iq ka b kb me kf mf kj mg kn mh kr mi kv mj mk ml mm bi translated">这是最后一步，我们将视图绑定到toast对象，设置它的上下文并最终显示它。所以让我们用和下面一样的方法创建一个<code class="fe lf lg lh li b">Toast</code>对象，并给它传递一个上下文。</li></ul><pre class="ms mt mu mv gt my li mz na aw nb bi"><span id="72ea" class="lj lk iq li b gy nc nd l ne nf"><strong class="li ir">Toast</strong> toast = <em class="ng">new </em><strong class="li ir">Toast</strong>(<strong class="li ir">MainActivity</strong>.<em class="ng">this</em>);</span></pre><ul class=""><li id="7993" class="mc md iq ka b kb kc kf kg kj nh kn ni kr nj kv mj mk ml mm bi translated">在我们最终将视图设置为Toast并显示它之前，我们需要实际设置我们的消息到我们的<code class="fe lf lg lh li b">TextView</code></li></ul><pre class="ms mt mu mv gt my li mz na aw nb bi"><span id="493e" class="lj lk iq li b gy nc nd l ne nf"><strong class="li ir">TextView</strong> tvMessage = view.<strong class="li ir">findViewById</strong>(R.id.<strong class="li ir">tvMessage</strong>);<br/>tvMessage.<strong class="li ir">setText</strong>(message);</span></pre><ul class=""><li id="50bb" class="mc md iq ka b kb kc kf kg kj nh kn ni kr nj kv mj mk ml mm bi translated">最后为我们的祝酒词设置视图并展示它！</li></ul><pre class="ms mt mu mv gt my li mz na aw nb bi"><span id="127c" class="lj lk iq li b gy nc nd l ne nf">toast.<strong class="li ir">setView</strong>(view);<br/>toast.<strong class="li ir">show</strong>();</span></pre><ul class=""><li id="b459" class="mc md iq ka b kb kc kf kg kj nh kn ni kr nj kv mj mk ml mm bi translated">您的方法应该如下所示:</li></ul><figure class="ms mt mu mv gt jr"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="4a46" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在任何你想的地方调用这个方法，屏幕应该显示一个如下的<code class="fe lf lg lh li b">Toast</code>:</p><figure class="ms mt mu mv gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/cc254c61aa30d4e5f144ee73cb701fbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LXc5iAHpYGxQnkkUuYFo7A.png"/></div></div></figure><p id="6287" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你当然可以通过使用<code class="fe lf lg lh li b">gravity</code>、<code class="fe lf lg lh li b">duration</code>、<code class="fe lf lg lh li b">layout</code>等自定义<code class="fe lf lg lh li b">Toast</code>，以上只是一个例子。</p><p id="3c44" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我能够完成的一些祝酒词如下:</p><div class="ms mt mu mv gt ab cb"><figure class="nk jr nl nm nn no np paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/76f4529499a2b7242f927333798574e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:638/format:webp/1*u1yCPraQeM7OdsFIuSqxNQ.jpeg"/></div></figure><figure class="nk jr nq nm nn no np paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/a55b12246454d09cb19883e8f9eeda0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*LOh8eFmdiilve80Vri5lnw.jpeg"/></div></figure><figure class="nk jr nr nm nn no np paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/b671832c18ac352ed89ec85d18e91dda.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/1*aOhk5m49mEj_0bDEAkjZ4A.jpeg"/></div></figure></div><div class="ab cb"><figure class="nk jr ns nm nn no np paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/c4e1455ade72cdd2856e6dc3978be136.png" data-original-src="https://miro.medium.com/v2/resize:fit:664/format:webp/1*1e91u2GnTFCqBGNLAbUf7A.jpeg"/></div></figure><figure class="nk jr nt nm nn no np paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/264e97d981c927586bc4bf144bcd528e.png" data-original-src="https://miro.medium.com/v2/resize:fit:646/format:webp/1*Axm8yjJoLe7_BFPJEj3rlw.jpeg"/></div></figure><figure class="nk jr nu nm nn no np paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/4bd7cdadf06f3411c37e35d8b71f8255.png" data-original-src="https://miro.medium.com/v2/resize:fit:694/format:webp/1*rQe8JaYGzffbo0UfnOvHXA.jpeg"/></div></figure></div><div class="ab cb"><figure class="nk jr nv nm nn no np paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/e975e02814130e1e6a0661f846d8fd60.png" data-original-src="https://miro.medium.com/v2/resize:fit:664/format:webp/1*2Kqgi-osM_B674yDDSdDyA.jpeg"/></div></figure><figure class="nk jr nw nm nn no np paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/f25c94f9936b7807457938070aa863d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:730/format:webp/1*Q8SOOjQCYQfsQdwtcl7N3w.jpeg"/></div></figure><figure class="nk jr nx nm nn no np paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/cdecdf96c18708ca059c284208571a14.png" data-original-src="https://miro.medium.com/v2/resize:fit:608/format:webp/1*yeoCvCGx7_BzD8itGOWryA.jpeg"/></div></figure></div><div class="ab cb"><figure class="nk jr ny nm nn no np paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/71d0336d51589ec984238aa4720f8cf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/1*hN2yYT0YDX5UwpwY33sAqA.jpeg"/></div></figure><figure class="nk jr nz nm nn no np paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/6c3113379e02963e792ce6c9797df382.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/format:webp/1*-bzyLHk1gpzJt1BiSD3D7g.jpeg"/></div></figure><figure class="nk jr oa nm nn no np paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/63bd79aaa1adcbebf957492f5c2d7fed.png" data-original-src="https://miro.medium.com/v2/resize:fit:534/format:webp/1*gGd268cekt2bT9oUeGEJbA.jpeg"/></div></figure></div><div class="ab cb"><figure class="nk jr ob nm nn no np paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/e2d985ae75a2a348586bdbbec79aac5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:818/format:webp/1*_h4IZI2o75Zp_vBibCbqYQ.jpeg"/></div></figure><figure class="nk jr oc nm nn no np paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/2f1fbf7a0e61a081e7f4ef71be74cf2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:588/format:webp/1*c1Hp-5HGuvKm-cjW7CaiJQ.jpeg"/></div></figure><figure class="nk jr od nm nn no np paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/bb77b6b963a1b7c0a4d1a164c164887c.png" data-original-src="https://miro.medium.com/v2/resize:fit:596/format:webp/1*NgCQ-cat9xseoqn1wLHSVA.jpeg"/></div></figure></div><div class="ab cb"><figure class="nk jr oe nm nn no np paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/a873e3646e36af41b90545eb8a0610ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*wpyiIQjWqMHssIWpAOhsDg.jpeg"/></div></figure><figure class="nk jr of nm nn no np paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/3d2093eb76328b08d90f0be11f40cc13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1122/format:webp/1*eByKOxwjNkPMEH2rucY67A.jpeg"/></div></figure></div><p id="839b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所有这些都是完全可以实现的，你只需要相应地设计布局。但是如果你不想做这些冗长的工作，我有东西给你。</p><p id="cd91" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我创建了这个名为“TastyToasty”的库，它可以帮助你创建你自己的定制吐司，也可以使用简单的命令行创建如上的吐司:</p><div class="og oh gp gr oi oj"><a href="https://github.com/usman18/TastyToasty" rel="noopener  ugc nofollow" target="_blank"><div class="ok ab fo"><div class="ol ab om cl cj on"><h2 class="bd ir gy z fp oo fr fs op fu fw ip bi translated">usman18/TastyToasty</h2><div class="oq l"><h3 class="bd b gy z fp oo fr fs op fu fw dk translated">一个易于使用的库来创建美味😋各种口味的祝酒🌈它还提供了轻松的方法来…</h3></div><div class="or l"><p class="bd b dl z fp oo fr fs op fu fw dk translated">github.com</p></div></div><div class="os l"><div class="ot l ou ov ow os ox jw oj"/></div></div></a></div></div><div class="ab cl oy oz hu pa" role="separator"><span class="pb bw bk pc pd pe"/><span class="pb bw bk pc pd pe"/><span class="pb bw bk pc pd"/></div><div class="ij ik il im in"><blockquote class="pf"><p id="bcee" class="pg ph iq bd pi pj pk pl pm pn po kv dk translated">感谢您阅读我的文章。如果你真的喜欢，留下一些掌声。更多文章请关注我的媒体。</p></blockquote><p id="5d6d" class="pw-post-body-paragraph jy jz iq ka b kb pp kd ke kf pq kh ki kj pr kl km kn ps kp kq kr pt kt ku kv ij bi translated">我的其他个人资料:</p><ul class=""><li id="2940" class="mc md iq ka b kb kc kf kg kj nh kn ni kr nj kv mj mk ml mm bi translated"><a class="ae pu" href="https://twitter.com/khan_usman_18" rel="noopener ugc nofollow" target="_blank">推特</a></li><li id="a734" class="mc md iq ka b kb mn kf mo kj mp kn mq kr mr kv mj mk ml mm bi translated"><a class="ae pu" href="https://www.linkedin.com/in/usmankhan18/" rel="noopener ugc nofollow" target="_blank">领英</a></li><li id="4858" class="mc md iq ka b kb mn kf mo kj mp kn mq kr mr kv mj mk ml mm bi translated"><a class="ae pu" href="https://github.com/usman18" rel="noopener ugc nofollow" target="_blank"> Github </a></li><li id="cf5b" class="mc md iq ka b kb mn kf mo kj mp kn mq kr mr kv mj mk ml mm bi translated"><a class="ae pu" href="https://www.instagram.com/usman__khan18/" rel="noopener ugc nofollow" target="_blank"> Instagram </a></li></ul></div></div>    
</body>
</html>