<html>
<head>
<title>RxJS Testing … Is My Observable Working Correctly?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">RxJS测试…我的可观察对象工作正常吗？</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/rxjs-testing-is-my-observable-working-correctly-9842bbe0a571?source=collection_archive---------1-----------------------#2021-11-06">https://levelup.gitconnected.com/rxjs-testing-is-my-observable-working-correctly-9842bbe0a571?source=collection_archive---------1-----------------------#2021-11-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="edc8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">RxJS中的单元测试，所有你需要知道的！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c75cd19dfb9f2104f133fe75251d1d43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rhCopRCqqC08uQq5GCvB2g.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">作者:FAM</figcaption></figure><p id="424d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">今天的故事是关于测试的😈</p><p id="afd9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在任何软件开发过程中，测试都是必须知道的。它保证了整个系统仍在工作，并且在开发新功能或修复bug时没有发生退化。</p><p id="12bb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当然，如果我们对每个新实现的特性进行测试。否则，防止回归和系统错误的整个逻辑就行不通了。</p><p id="66a4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">可观测量是反应式编程中必须知道和使用的。使用新的框架和库，如Angular、React和VueJS。这是在你的应用中处理数据的最干净、最恰当的方式。因此，知道如何测试可观察性也是需要的，这篇文章就是关于这个的！</p><blockquote class="lu"><p id="e57d" class="lv lw it bd lx ly lz ma mb mc md lt dk translated">如今编写单元测试是至关重要的</p></blockquote><p id="fcfc" class="pw-post-body-paragraph ky kz it la b lb me ju ld le mf jx lg lh mg lj lk ll mh ln lo lp mi lr ls lt im bi translated">我们用一个物体来测试可观测性。如果你读过关于<a class="ae mj" rel="noopener ugc nofollow" target="_blank" href="/rexjs-schedulers-the-observable-execution-orchestrators-60479ece23da?source=your_stories_page-------------------------------------">可观察调度器</a>，你可能会记得它是<code class="fe mk ml mm mn b">TestScheduler</code>。用一句直白的话来说，这个物体就是:</p><blockquote class="lu"><p id="37d7" class="lv lw it bd lx ly lz ma mb mc md lt dk translated">我们同步测试异步代码的方式</p></blockquote><p id="704f" class="pw-post-body-paragraph ky kz it la b lb me ju ld le mf jx lg lh mg lj lk ll mh ln lo lp mi lr ls lt im bi translated">如您所见，我们在链的末端进行测试，因此完全了解RxJS可观测量是至关重要的。因此，在阅读以下内容之前，一些必要的知识是必要的:</p><ul class=""><li id="af25" class="mo mp it la b lb lc le lf lh mq ll mr lp ms lt mt mu mv mw bi translated">你需要知道的关于RxJS的全部知识和概念</li></ul><div class="mx my gp gr mz na"><a rel="noopener  ugc nofollow" target="_blank" href="/rxjs-like-youve-never-seen-it-b99467557a54"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd iu gy z fp nf fr fs ng fu fw is bi translated">RxJS像没见过一样！</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">关于RxJS你可能想了解或知道的一切！</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="nj l"><div class="nk l nl nm nn nj no ks na"/></div></div></a></div><ul class=""><li id="c1fb" class="mo mp it la b lb lc le lf lh mq ll mr lp ms lt mt mu mv mw bi translated">单元测试(仅当<code class="fe mk ml mm mn b">describe(...)</code>、<code class="fe mk ml mm mn b">beforEach(..)</code>、<code class="fe mk ml mm mn b">it(...)</code>不和你说话时)</li></ul><div class="mx my gp gr mz na"><a rel="noopener  ugc nofollow" target="_blank" href="/how-do-you-write-a-unit-test-case-what-you-must-know-before-starting-a-unit-test-in-angular-f1174f437cb6"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd iu gy z fp nf fr fs ng fu fw is bi translated">如何编写单元测试用例？在Angular中开始单元测试之前你必须知道的事情！</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">角度单位测试</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="nj l"><div class="np l nl nm nn nj no ks na"/></div></div></a></div><ul class=""><li id="b347" class="mo mp it la b lb lc le lf lh mq ll mr lp ms lt mt mu mv mw bi translated">大理石图</li></ul><div class="mx my gp gr mz na"><a href="https://famzil.medium.com/marble-diagram-testing-5009c74324db" rel="noopener follow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd iu gy z fp nf fr fs ng fu fw is bi translated">大理石图测试</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">什么是大理石图，它是如何工作的？</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">famzil.medium.com</p></div></div><div class="nj l"><div class="nq l nl nm nn nj no ks na"/></div></div></a></div></div><div class="ab cl nr ns hx nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="im in io ip iq"><h1 id="8641" class="ny nz it bd oa ob oc od oe of og oh oi jz oj ka ok kc ol kd om kf on kg oo op bi translated">这家伙怎么能这么做？</h1><ul class=""><li id="9806" class="mo mp it la b lb oq le or lh os ll ot lp ou lt mt mu mv mw bi translated"><strong class="la iu">通过虚拟化时间:</strong></li></ul><p id="87b5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您的可观察对象需要一个<code class="fe mk ml mm mn b">T</code>时间来完成，那么<code class="fe mk ml mm mn b">TestScheduler</code>将有效地使用它自己的内部定时器来测试异步代码。<code class="fe mk ml mm mn b">TestCheduler</code>会提前时间。你不用等了。</p><ul class=""><li id="808a" class="mo mp it la b lb lc le lf lh mq ll mr lp ms lt mt mu mv mw bi translated"><strong class="la iu">一期it </strong></li></ul><p id="c7ee" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不幸的是，使用这个家伙有一个限制。它只支持与<code class="fe mk ml mm mn b">AsynchSechduler</code>一起工作的代码。(我在这篇<a class="ae mj" rel="noopener ugc nofollow" target="_blank" href="/rexjs-schedulers-the-observable-execution-orchestrators-60479ece23da?source=your_stories_page-------------------------------------">文章</a>里讲过这个调度器。如果这还不能说明问题，我建议您学习一下调度程序)。</p><ul class=""><li id="882b" class="mo mp it la b lb lc le lf lh mq ll mr lp ms lt mt mu mv mw bi translated"><strong class="la iu">优势</strong></li></ul><p id="808b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这个家伙被<strong class="la iu"> <em class="ov">实例化，向它的构造函数传递一个函数</em> </strong>，你想用它来进行等式测试。这个信息的最大优点是它的<strong class="la iu"><em class="ov"/></strong>。它不会强迫你使用一个特定的测试框架。无论你想用什么(笑话，因果报应，笑话…)，对于<code class="fe mk ml mm mn b">TestScheduler</code>来说无所谓。</p><ul class=""><li id="f801" class="mo mp it la b lb lc le lf lh mq ll mr lp ms lt mt mu mv mw bi translated"><strong class="la iu">代码示例</strong></li></ul><p id="9389" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">实例化</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="9318" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通过使用带有<code class="fe mk ml mm mn b">helpers</code>对象的<code class="fe mk ml mm mn b">run()</code>方法编写您的测试。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="f97e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">被称为<code class="fe mk ml mm mn b">helpers</code>(你可以随便叫它什么。这个对象的作用是帮助你测试。</p><p id="181c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe mk ml mm mn b">helpers</code>的另一种使用方式:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="ccd3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">—如果您期望观察到<code class="fe mk ml mm mn b">cold</code>或<code class="fe mk ml mm mn b">hot</code>，那么您可以使用:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="beba" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">—其他助手也是如此……</p></div><div class="ab cl nr ns hx nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="im in io ip iq"><h1 id="a911" class="ny nz it bd oa ob oc od oe of og oh oi jz oj ka ok kc ol kd om kf on kg oo op bi translated">使用Chai的完整代码示例</h1><p id="6b50" class="pw-post-body-paragraph ky kz it la b lb oq ju ld le or jx lg lh oy lj lk ll oz ln lo lp pa lr ls lt im bi translated">仅供参考:你不需要使用柴。正如我之前告诉你的，你可以自由选择你的测试框架。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ow ox l"/></div></figure><ul class=""><li id="4775" class="mo mp it la b lb lc le lf lh mq ll mr lp ms lt mt mu mv mw bi translated">对于测试套件，我们需要一个<code class="fe mk ml mm mn b"><strong class="la iu"><em class="ov">TestScheduler</em></strong></code>的实例</li><li id="989f" class="mo mp it la b lb pb le pc lh pd ll pe lp pf lt mt mu mv mw bi translated">在每次测试之前，我们实例化这个家伙</li><li id="2ee7" class="mo mp it la b lb pb le pc lh pd ll pe lp pf lt mt mu mv mw bi translated">每个测试将执行<code class="fe mk ml mm mn b"><em class="ov">TestShcheduler</em></code>对象的<code class="fe mk ml mm mn b"><strong class="la iu"><em class="ov">beforeEach(…)</em></strong></code>和<code class="fe mk ml mm mn b"><strong class="la iu"><em class="ov">run()</em></strong></code>方法。</li><li id="06db" class="mo mp it la b lb pb le pc lh pd ll pe lp pf lt mt mu mv mw bi translated">每个测试根据测试期望使用<code class="fe mk ml mm mn b"><strong class="la iu"><em class="ov">helpers</em></strong></code> <strong class="la iu"> <em class="ov"> </em> </strong>(对于冷可观察的，我们使用<code class="fe mk ml mm mn b"><strong class="la iu"><em class="ov">helper.cold</em></strong>($theColdObservable)<strong class="la iu"><em class="ov">.toBe</em></strong>(theExpectedProducedValues)</code></li><li id="3a78" class="mo mp it la b lb pb le pc lh pd ll pe lp pf lt mt mu mv mw bi translated">每个测试可以使用尽可能多的助手内置方法来测试预期值。</li><li id="996e" class="mo mp it la b lb pb le pc lh pd ll pe lp pf lt mt mu mv mw bi translated">测试使用了一个<strong class="la iu"> <em class="ov">弹球图，一个</em> </strong>字符串，包含表示虚拟时间内发生的事件的特殊语法。</li></ul><p id="b536" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">就这样😛</p></div><div class="ab cl nr ns hx nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="im in io ip iq"><blockquote class="lu"><p id="1f36" class="lv lw it bd lx ly lz ma mb mc md lt dk translated">我今天的故事到此结束，希望你喜欢it❤</p></blockquote><p id="d54a" class="pw-post-body-paragraph ky kz it la b lb me ju ld le mf jx lg lh mg lj lk ll mh ln lo lp mi lr ls lt im bi translated">如果你喜欢看我的文章… ♥️</p><div class="mx my gp gr mz na"><a href="https://famzil.medium.com/subscribe" rel="noopener follow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd iu gy z fp nf fr fs ng fu fw is bi translated">如果你喜欢看我的文章… ♥️</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">如果你喜欢读我的文章… ♥️，当我的文章发表时，欢迎你第一个得到通知…</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">famzil.medium.com</p></div></div><div class="nj l"><div class="pg l nl nm nn nj no ks na"/></div></div></a></div><blockquote class="lu"><p id="f631" class="lv lw it bd lx ly ph pi pj pk pl lt dk translated">谢谢你，❤</p></blockquote><p id="4f8e" class="pw-post-body-paragraph ky kz it la b lb me ju ld le mf jx lg lh mg lj lk ll mh ln lo lp mi lr ls lt im bi translated">如果你有兴趣成为付费会员，你可以使用我的推荐链接。下次见</p><p id="ba9d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">亲爱的读者，感谢你在我生命中的存在。</p><p id="fc67" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">让我们在</strong> <a class="ae mj" href="https://medium.com/@famzil/" rel="noopener"> <strong class="la iu">上取得联系</strong></a><strong class="la iu"/><a class="ae mj" href="https://www.linkedin.com/in/fatima-amzil-9031ba95/" rel="noopener ugc nofollow" target="_blank"><strong class="la iu">Linkedin</strong></a><strong class="la iu"/><a class="ae mj" href="https://www.facebook.com/The-Front-End-World" rel="noopener ugc nofollow" target="_blank"><strong class="la iu">脸书</strong></a><strong class="la iu"/><a class="ae mj" href="https://www.instagram.com/the_frontend_world/" rel="noopener ugc nofollow" target="_blank"><strong class="la iu">insta gram</strong></a><strong class="la iu"/><a class="ae mj" href="https://www.youtube.com/channel/UCaxr-f9r6P1u7Y7SKFHi12g" rel="noopener ugc nofollow" target="_blank"><strong class="la iu">YouTube</strong></a><strong class="la iu">或</strong> <a class="ae mj" href="https://twitter.com/FatimaAMZIL9" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu"/></a></p><p id="a8f8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">参见我的关于网络要素和一般文化的电子书。</p></div></div>    
</body>
</html>