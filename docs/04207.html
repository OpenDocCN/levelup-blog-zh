<html>
<head>
<title>Conan package manager tutorial</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">柯南包管理器教程</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/conan-package-manager-tutorial-bfb308ddd7a?source=collection_archive---------1-----------------------#2020-06-15">https://levelup.gitconnected.com/conan-package-manager-tutorial-bfb308ddd7a?source=collection_archive---------1-----------------------#2020-06-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f017" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">柯南包管理器概念和工作流程简介</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/2291c102094cb144354947313bfe2ebe.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*4y6w-krh1GwOJ0g4kFqn1w.png"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk translated"><a class="ae ku" href="https://commons.wikimedia.org/wiki/File:Conan_package_manager_logo.png" rel="noopener ugc nofollow" target="_blank">https://commons . wikimedia . org/wiki/File:Conan _ package _ manager _ logo . png</a></figcaption></figure><p id="a416" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">当你开发一个库或一个可执行程序时，有时你会为你的软件使用外部库，而不是自己写，以避免重复发明轮子。</p><p id="0ecd" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">尽管无论您使用哪种工具来管理构建过程都会发生这种情况，但是由于CMake已经成为C/C++包的事实上的工具，所以我将重点讨论关于CMake的主题。</p><p id="15d1" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">使用CMake时解决外部库依赖性的经典方法是将外部库的源代码复制到子目录中，然后使用CMakeLists.txt中的<em class="lr"> add_subdirectory() </em>将外部库代码添加到CMake树中，并与您的软件一起构建。</p><p id="c3fe" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">通过手动下载代码(通常是。zip，tar.gz)或者使用<em class="lr"> git子模块</em>和<em class="lr"> </em>从git库获取或者使用CMake的<em class="lr"> ExternalProject </em>模块扩展。</p><p id="c98a" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">此外，除了将复制的外部包添加到您的CMake树之外，您还可以在您的CMake树之外单独构建和安装外部包，然后在您构建软件时使用CMakeLists.txt中的<em class="lr"> find_package() </em>来导入它们(您可以查看<a class="ae ku" rel="noopener ugc nofollow" target="_blank" href="/simple-modern-cmake-tutorial-b0c1c362cd2c">我以前的帖子</a>以了解有关如何导出/导入CMake包的更多详细信息)。</p><p id="ff7e" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">可以想象，随着您使用的外部库数量的增加，用上面提到的那些经典方法处理依赖性很快就会变得难以管理。</p><p id="0288" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">在本帖中，我将简单介绍一下名为“柯南”的C/C++包管理器。Conan包管理器不仅使处理外部依赖变得容易，而且改进了包的部署过程。</p><p id="4df9" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">Conan⁴是一个C /C++语言的依赖和包管理器。这是一个开源软件，可以免费使用。它可以运行在大多数主流平台上(Windows、Linux和OSX)。</p><p id="b488" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">柯南由客户端和服务器组成。推荐的服务器是JFrog Artifactory社区版(CE)。JFrog Artifactory社区版(CE)免费使用。因此，在本教程中，我将使用它来给出客户端和服务器方面的概述。即使没有安装它或实际执行教程，你也应该能够通过通读这篇文章来理解基本思想和工作流程。</p><h1 id="ff53" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">安装柯南服务器和客户端</h1><p id="b7c2" class="pw-post-body-paragraph kv kw it kx b ky mk ju la lb ml jx ld le mm lg lh li mn lk ll lm mo lo lp lq im bi translated">首先，你可以从<a class="ae ku" href="https://conan.io/downloads.html" rel="noopener ugc nofollow" target="_blank">这里</a>下载JFrog Artifactory社区版。此时，我使用Linux作为环境，我简单地下载了tar.gz文件，但是有几个选项，比如获得docker容器。</p><pre class="kj kk kl km gt mp mq mr ms aw mt bi"><span id="6145" class="mu lt it mq b gy mv mw l mx my">tar xvf jfrog-artifactory-cpp-ce-7.5.7-linux.tar.gz<br/>cd artifactory-cpp-ce-7.5.7/app/bin<br/>sudo bash installService.sh<br/>sudo systemctl start artifactory.service</span></pre><p id="316f" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">最后一个命令将启动服务器(服务名为artifactory.service)。现在你可以通过一个网址为<a class="ae ku" href="http://localhost:8081" rel="noopener ugc nofollow" target="_blank">的网络浏览器访问服务器。首次登录时会要求输入用户名和密码(用户名为“admin”，密码为“password”)。</a></p><p id="20a1" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">然后，选择创建柯南知识库。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="gh gi mz"><img src="../Images/8cb442e33313a49926012c4c8b7b7ce0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tvjuLYWxcajbVgR-6wgmPg.png"/></div></div></figure><p id="73e7" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">现在，您已经有了一个服务器，作为在您的机器上本地运行的Conan库。</p><p id="395c" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">接下来，为了安装柯南客户端，执行<em class="lr"> pip </em> ⁵命令。</p><pre class="kj kk kl km gt mp mq mr ms aw mt bi"><span id="788a" class="mu lt it mq b gy mv mw l mx my">pip install conan</span></pre><p id="ffbf" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">最后，您的机器上安装了柯南服务器和客户端。接下来，让我们创建一个简单的“hello world”柯南包。</p><h1 id="6e27" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">创建柯南包</h1><p id="acb5" class="pw-post-body-paragraph kv kw it kx b ky mk ju la lb ml jx ld le mm lg lh li mn lk ll lm mo lo lp lq im bi translated">幸运的是，柯南有一个功能，可以提供一个与“hello world”包装一模一样的食谱。通过执行下面的命令，</p><pre class="kj kk kl km gt mp mq mr ms aw mt bi"><span id="89e6" class="mu lt it mq b gy mv mw l mx my">mkdir conan_tutorial &amp;&amp; cd conan_tutorial<br/>conan new hello/0.1 -t -s</span></pre><p id="077c" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">它将创建如下所示的文件(hello/0.1分别是一个<em class="lr">包名</em> / <em class="lr">版本</em>)，</p><pre class="kj kk kl km gt mp mq mr ms aw mt bi"><span id="e438" class="mu lt it mq b gy mv mw l mx my">conan_tutorial<br/>├── conanfile.py<br/>├── src<br/>│   ├── CMakeLists.txt<br/>│   ├── hello.cpp<br/>│   └── hello.h<br/>└── test_package<br/>    ├── CMakeLists.txt<br/>    ├── conanfile.py<br/>    └── example.cpp</span></pre><p id="5a1e" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">在src/目录下，定义了一个简单的CMake库包(hello.h/cpp实现<em class="lr"> hello() </em>函数，打印“Hello World”)</p><p id="9d5d" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><em class="lr"> conanfile.py </em>是自动生成的Conan主配方文件。</p><pre class="kj kk kl km gt mp mq mr ms aw mt bi"><span id="b88f" class="mu lt it mq b gy mv mw l mx my">####### <em class="lr">conanfile.py #######</em></span><span id="ab9f" class="mu lt it mq b gy ne mw l mx my">from conans import ConanFile, CMake</span><span id="6c7b" class="mu lt it mq b gy ne mw l mx my">class HelloConan(ConanFile):<br/>    <strong class="mq iu">name = "hello"<br/>    version = "0.1"</strong><br/>    license = "&lt;Put the package license here&gt;"<br/>    author = "&lt;Put your name here&gt; &lt;And your email here&gt;"<br/>    url = "&lt;Package recipe repository url here, for issues about the package&gt;"<br/>    description = "&lt;Description of Hello here&gt;"<br/>    topics = ("&lt;Put some tag here&gt;", "&lt;here&gt;", "&lt;and here&gt;")<br/>    settings = "os", "compiler", "build_type", "arch"<br/>    options = {"shared": [True, False]}<br/>    default_options = {"shared": False}<br/>    <strong class="mq iu">generators = "cmake"</strong><br/>    <strong class="mq iu">exports_sources = "src/*"</strong></span><span id="2b1b" class="mu lt it mq b gy ne mw l mx my">def build(self):<br/>        cmake = CMake(self)<br/>        cmake.configure(source_folder="src")<br/>        cmake.build()</span><span id="4405" class="mu lt it mq b gy ne mw l mx my"># Explicit way:<br/>        # self.run('cmake %s/hello %s'<br/>        #          % (self.source_folder, cmake.command_line))<br/>        # self.run("cmake --build . %s" % cmake.build_config)</span><span id="ff14" class="mu lt it mq b gy ne mw l mx my">def package(self):<br/>        self.copy("*.h", dst="include", src="src")<br/>        self.copy("*.lib", dst="lib", keep_path=False)<br/>        self.copy("*.dll", dst="bin", keep_path=False)<br/>        self.copy("*.dylib*", dst="lib", keep_path=False)<br/>        self.copy("*.so", dst="lib", keep_path=False)<br/>        self.copy("*.a", dst="lib", keep_path=False)</span><span id="aa3b" class="mu lt it mq b gy ne mw l mx my">def package_info(self):<br/>        self.cpp_info.libs = ["hello"]</span></pre><p id="8662" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">我们在生成配方时给出的名称和版本(hello/0.1)用于名称和版本属性。</p><p id="4ff1" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">另外，通过设置<em class="lr"> generators = "cmake" </em>，Conan生成一个<em class="lr">conanbuiltinfo . cmake</em>文件，当我们用CMake构建包时可以包含这个文件。生成的conanbuildinfo.cmake包含包所需的依赖项的信息。在这个例子中，为了简单起见，hello world包没有任何必需的依赖项，所以没有太多的意义，但是如果一个包有任何必需的依赖项，我们需要在<em class="lr"> conanfile.py </em>文件<em class="lr">中指定<a class="ae ku" href="https://docs.conan.io/en/latest/devtools/build_requires.html" rel="noopener ugc nofollow" target="_blank">构建需求</a>。</em></p><p id="8910" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">为了让柯南包对消费者可见，我们需要将<em class="lr"> conanfile.py </em>导出到本地柯南缓存(按照惯例，该文件将位于用户主文件夹~/。柯南/)。</p><p id="1691" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><em class="lr"> exports_sources = src/* </em>指示柯南在导出<em class="lr"> conanfile.py. </em>时，将本地<em class="lr"> src/ </em>文件夹中的所有文件复制到本地柯南缓存中。这种方法的优点是，它使配方自包含，并且在从源构建时不需要从外部位置获取源。</p><p id="c660" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><em class="lr"> build() </em>用于从导出的源代码进行构建，本例中表示使用CMake。</p><p id="1846" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><em class="lr"> package() </em>用于将构建工件复制到柯南本地缓存下的指定包文件夹中。</p><p id="8162" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><em class="lr"> package_info() </em>指定一些构建信息，以传达给包的消费者。当我们稍后用柯南构建另一个消费这个包的包时，这里指定的信息将被收集。然后，Conan生成<em class="lr">conanbuiltinfo . cmake</em>，其中包含消费者包所需的该包的所有信息。</p><p id="79bb" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">在这种情况下，<em class="lr">self . CPP _ info . libs =[" hello "]</em>表示消费者包应该链接的库。</p><p id="5732" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">为了简单起见，我没有介绍所有的属性和方法，只介绍了与掌握工作流基础知识相关的内容。柯南是一个非常强大的工具，它有许多功能。如果你有兴趣，你可以查看<a class="ae ku" href="https://docs.conan.io/en/latest/reference/conanfile/methods.html" rel="noopener ugc nofollow" target="_blank">这里的</a>来了解更多关于方法的细节。这里的<a class="ae ku" href="https://docs.conan.io/en/latest/reference/conanfile/attributes.html" rel="noopener ugc nofollow" target="_blank">是关于属性的详细信息</a>。</p><h1 id="9bf4" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">导出并上传柯南包</h1><p id="c376" class="pw-post-body-paragraph kv kw it kx b ky mk ju la lb ml jx ld le mm lg lh li mn lk ll lm mo lo lp lq im bi translated">现在我们创建了一个简单的hello world柯南包。下一个。让我们导出包，以便消费者可以看到它。为了导出，我们需要执行</p><pre class="kj kk kl km gt mp mq mr ms aw mt bi"><span id="52da" class="mu lt it mq b gy mv mw l mx my">conan export . demo/testing</span></pre><p id="dc52" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">这将导出<em class="lr"> conanfile.py </em>并将<em class="lr"> exported_sources </em>复制到我们上面提到的Conan本地缓存中。除了<em class="lr">版本</em>和<em class="lr">名称</em>属性之外，演示/测试是您可以指定的包的附加标识。导出包后，消费者就可以看到它了。为了确认，我们可以跑</p><pre class="kj kk kl km gt mp mq mr ms aw mt bi"><span id="05cf" class="mu lt it mq b gy mv mw l mx my">conan search</span><span id="5692" class="mu lt it mq b gy ne mw l mx my"><em class="lr">Existing package recipes:</em></span><span id="8ab5" class="mu lt it mq b gy ne mw l mx my"><em class="lr">hello/0.1@demo/testing</em></span></pre><p id="e989" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">现在可以看到<em class="lr"> hello/0.1@demo/testing </em>这个包上市了。</p><p id="bbeb" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">然后，作为下一步，我们建立并安装到柯南本地缓存包。</p><pre class="kj kk kl km gt mp mq mr ms aw mt bi"><span id="50a6" class="mu lt it mq b gy mv mw l mx my">conan install hello/0.1@demo/testing --build=hello</span></pre><p id="1970" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">这将构建包并将工件复制到Conan本地缓存下的指定包目录中。你可以回去看看上面提到的<em class="lr">包(self) </em>功能。</p><p id="39de" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">运行命令后，<em class="lr"> hello/0.1@demo/testing </em>包应该安装在本地(在柯南本地缓存中)。</p><p id="e005" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">到现在为止，我们还没有用过当初准备的柯南服务器。所以，我们把包上传到柯南服务器吧。</p><p id="5501" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">首先，我们需要通过运行下面的命令将服务器添加到远程列表中，</p><pre class="kj kk kl km gt mp mq mr ms aw mt bi"><span id="2e83" class="mu lt it mq b gy mv mw l mx my">conan remote add conan-local http://localhost:8081/artifactory/api/conan/conan-local</span></pre><p id="c88b" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">conan-local是您可以指定的远程名称。然后您可以通过执行，</p><pre class="kj kk kl km gt mp mq mr ms aw mt bi"><span id="b6d5" class="mu lt it mq b gy mv mw l mx my">conan upload hello/0.1@demo/testing — all -r=conan-local</span></pre><p id="c5e0" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">为了确认，如果您检查存储库，您可以看到<em class="lr"> hello/0.1@demo/testing </em>包被上传并托管在存储库上。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="gh gi nf"><img src="../Images/caa8ce79bc75a8822f0024526c46820a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NtSTSh1lGsHYc-2Kjqtt8Q.png"/></div></div></figure><p id="f82e" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">就是这样。我们成功地创建了一个柯南包，并将其上传到一个远程存储库(在本教程中，它托管在本地机器上，但如果是远程存储库，也可以应用相同的工作流程)。</p><h1 id="c0fa" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">消费一个柯南包</h1><p id="48b6" class="pw-post-body-paragraph kv kw it kx b ky mk ju la lb ml jx ld le mm lg lh li mn lk ll lm mo lo lp lq im bi translated">到目前为止，我们创建了一个柯南包，并上传到远程资源库。接下来，我们看看如何使用另一个包中的包。</p><p id="9468" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">你可能已经注意到了，之前我们执行“<em class="lr">柯南new hello/0.1 -t -s </em>命令的时候，<em class="lr"> test_package </em>目录<em class="lr"> </em>是自动创建的。这是一个简单的示例包，它使用了<em class="lr"> hello/0.1 </em>包。柯南自动创建的，这样我们就可以测试柯南包是否可以正确安装和链接。</p><p id="a9df" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><em class="lr"> test_package </em>的CMakeLists.txt如下所示，</p><pre class="kj kk kl km gt mp mq mr ms aw mt bi"><span id="2021" class="mu lt it mq b gy mv mw l mx my">cmake_minimum_required(VERSION 2.8.12)<br/>project(PackageTest CXX)</span><span id="836b" class="mu lt it mq b gy ne mw l mx my">include(${CMAKE_BINARY_DIR}/conanbuildinfo.cmake)<br/>conan_basic_setup()</span><span id="df87" class="mu lt it mq b gy ne mw l mx my">add_executable(example example.cpp)<br/>target_link_libraries(example ${CONAN_LIBS})</span><span id="66b6" class="mu lt it mq b gy ne mw l mx my"># CTest is a testing tool that can be used to test your project.<br/># enable_testing()<br/># add_test(NAME example<br/>#          WORKING_DIRECTORY ${CMAKE_BINARY_DIR}/bin<br/>#          COMMAND example)</span></pre><p id="80f1" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">关键部分是<em class="lr">“包含($ { CMAKE _ BINARY _ DIR }/conanbuildinfo . CMAKE)”。</em></p><p id="d543" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">当<em class="lr"> test_package </em>被安装后，所有依赖关系的<em class="lr"> package_info() </em>方法(在本例中，只有<em class="lr">" hello/0.1 @ demo/testing "</em>包)将被调用和聚集。然后，Conan生成conanbuildinfo.cmake，其中包含不同变量形式的所有依赖关系信息(同样，在这种情况下，仅包含来自<em class="lr">“hello/0.1 @ demo/testing”</em>包的信息)。</p><p id="0725" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">为了安装和执行<em class="lr">测试包</em>，我们运行</p><pre class="kj kk kl km gt mp mq mr ms aw mt bi"><span id="bf2a" class="mu lt it mq b gy mv mw l mx my">conan test test_package hello/0.1@demo/testing</span></pre><p id="c844" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">如前所述，这是一个简单的测试包，专门为使用<em class="lr">“hello/0.1 @ demo/testing”而生成。</em>所以<em class="lr"> </em>和普通包消耗<em class="lr">“hello/0.1 @ demo/testing”</em>的情况略有不同。我们需要以某种方式告诉这个包需要或者依赖于<em class="lr">“hello/0.1 @ demo/testing”。</em>在这种情况下，我们只需要在消费包的<em class="lr">con config file . py</em>文件中指定<a class="ae ku" href="https://docs.conan.io/en/latest/devtools/build_requires.html" rel="noopener ugc nofollow" target="_blank">构建需求</a>。</p><h1 id="18ff" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">摘要</h1><p id="22b2" class="pw-post-body-paragraph kv kw it kx b ky mk ju la lb ml jx ld le mm lg lh li mn lk ll lm mo lo lp lq im bi translated">在这篇文章中，我简单介绍了柯南包管理器，并且用一个简单的教程解释了柯南包管理器的基本工作流程。</p></div><div class="ab cl ng nh hx ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="im in io ip iq"><p id="a7c0" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">[1]:<a class="ae ku" href="https://cmake.org/" rel="noopener ugc nofollow" target="_blank">https://cmake.org/</a></p><p id="91da" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">[2]:<a class="ae ku" href="https://git-scm.com/book/en/v2/Git-Tools-Submodules" rel="noopener ugc nofollow" target="_blank">https://git-scm.com/book/en/v2/Git-Tools-Submodules</a></p><p id="ff27" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">[3]:<a class="ae ku" href="https://cmake.org/cmake/help/latest/module/ExternalProject.html" rel="noopener ugc nofollow" target="_blank">https://cmake . org/cmake/help/latest/module/external project . html</a></p><p id="c8f6" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">【4】:<a class="ae ku" href="https://conan.io/" rel="noopener ugc nofollow" target="_blank">https://conan.io/</a></p><p id="c67b" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">[5]:<a class="ae ku" href="https://pypi.org/project/pip/" rel="noopener ugc nofollow" target="_blank">https://pypi.org/project/pip/</a></p></div></div>    
</body>
</html>