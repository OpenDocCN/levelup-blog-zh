<html>
<head>
<title>Visual Novels with Ren’Py</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">仁皮视觉小说</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/visual-novels-with-renpy-478a690c92d3?source=collection_archive---------16-----------------------#2020-08-10">https://levelup.gitconnected.com/visual-novels-with-renpy-478a690c92d3?source=collection_archive---------16-----------------------#2020-08-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="018c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让你的家人一起写视频游戏。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/277ad43aca337fd19ecc2190352a228f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X8zqdYk544atQdkReAdvVg.png"/></div></div></figure><p id="74c2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们一家人总是一起玩电子游戏。但是现在我们一起写了一个，它让我们在分离的这段时间里更加亲密。在四个星期的过程中，我们集思广益，画出草图，并最终制作出一个可行的游戏。</p><p id="4b4f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在这个游戏不是一个花哨的3-D射击游戏或模拟游戏。这是一部视觉小说，就像它的名字一样，一个配有图片的短篇故事。有几个选择，但大多数只是偏离了几个面板的主要故事。对于我们所有人来说，这是一种尝试视觉小说创作的有趣方式。</p><p id="831f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">7月15日，我的女儿雷切尔给我发短信，邀请我参加她在<a class="ae lq" href="https://itch.io/" rel="noopener ugc nofollow" target="_blank"> itch.io </a>上举办的“游戏聚会”。她告诉我，itch.io是视频游戏的乐队营地，你可以在那里主持并列出你的游戏，付费或捐款。他们还举办了各种各样的游戏，有人想出一个主题，你有有限的时间来写一个游戏。她推荐给我的特别游戏是<a class="ae lq" href="https://itch.io/jam/i-cant-write-but-want-to-tell-a-story" rel="noopener ugc nofollow" target="_blank">我不能写(但想讲个故事)</a>，一直持续到8月10日。然后在短暂的时间后宣布奖项。回报只是吹牛的权利，但这是一个很好的挑战，将我们限制在一个小的时间框架内，并限制我们的工作范围。</p><p id="8944" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">翻翻jam的游戏规则，上面说你可以在任何你想要的平台上写，但是推荐三个:<a class="ae lq" href="https://twinery.org/" rel="noopener ugc nofollow" target="_blank">麻线</a>、<a class="ae lq" href="https://www.renpy.org/" rel="noopener ugc nofollow" target="_blank"> Ren'Py </a>和<a class="ae lq" href="http://textadventures.co.uk/quest" rel="noopener ugc nofollow" target="_blank"> Quest </a>。瑞秋推荐了《Ren'Py 》,因为它专注于视觉小说。我同意，因为脚本是基于Python的，所以它应该相对容易学习。事实证明，脚本编写非常简单，不需要太多的学习。我从<a class="ae lq" href="https://www.renpy.org/latest.html" rel="noopener ugc nofollow" target="_blank">最新</a>页面下载了Ren'Py，并安装在我的Mac上。点击启动它会弹出一个小对话框。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lr"><img src="../Images/00709ac7246544a15b897372fe0f6c63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-zIOal6Ke361pf3G4LGP3A.png"/></div></div></figure><p id="abff" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">点击“创建新项目”，它给我带来了一系列的对话框，其中大部分我保持默认。然后它被添加到我的项目列表中:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lr"><img src="../Images/2be717520cacf22b9dad9441273cdf7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P8StbliKlCYjq4XaqjTsXQ.png"/></div></div></figure><p id="38e7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然后我点击“启动项目”,它会弹出新游戏的主菜单:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ls"><img src="../Images/4cdf876032fc579a964f1fca4e5acdcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JmYWt4kKG8WshCm5dAehnQ.png"/></div></div></figure><p id="9cbf" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">点击“开始”，它开始游戏，这只是两个面板。您只需点击屏幕，从一个面板移动到下一个面板。</p><p id="edd3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我在GitHub中为我的组织<a class="ae lq" href="https://github.com/MuseApplications" rel="noopener ugc nofollow" target="_blank"> MuseApplications </a>创建了一个项目，并邀请Rachel和我的妻子合作。我把它设为私有，直到游戏结束，以避免任何人复制我们的东西(好像)。我还在我的<a class="ae lq" href="https://discord.com/new" rel="noopener ugc nofollow" target="_blank"> Discord </a>服务器上增加了一个“游戏开发”聊天频道(我通常在和家人玩视频游戏时使用)。我添加了一个机器人，使用指令<a class="ae lq" href="https://support.discord.com/hc/en-us/articles/228383668-Intro-to-Webhooks" rel="noopener ugc nofollow" target="_blank">在这里</a>显示游戏开发频道的所有推送。</p><p id="06ba" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在每个推送都显示如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ls"><img src="../Images/f5d9b4fabac6609d43a21a30253665ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XPGuw83S02cBaqgBpBAvPg.png"/></div></div></figure><p id="257d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">由于我们分布在两个(很快将是三个)地方，这是协调我们所有变化的一个很好的方法。到7月17日，我们已经准备好合作了。</p><p id="308e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Rachel添加了一个文件，其中有一些不同视觉小说的链接，比如这个<a class="ae lq" href="https://Brianna-lei.itch.io/butterfly-soup" rel="noopener ugc nofollow" target="_blank">和一个</a>并创建了一个关于视觉小说的PDF初级读本，所以我们都知道应该做什么。我们都开始讨论这个故事应该讲些什么。</p><p id="e4ad" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我的兄弟也在我们的discord服务器上，他突然跑进来问这是怎么回事，所以我们让他做首席程序员。这意味着我们其余的人可以专注于故事和艺术(我也做了一点编程来帮忙)。</p><p id="1d4c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在讨论了各种不和谐的想法后，我们想出了一个基本的故事，一个女孩认为自己什么都不擅长，尽管她喜欢电脑和电子产品。她遇到了她的一个古怪的发明家邻居，她鼓励她追求电子学，在另一个朋友的帮助下，她带着她的一个项目参加了科学博览会。</p><p id="626b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我匆匆写了一个剧本，充实了一些细节。我还把剧本分成了几个场景，并下载了占位符图片。我哥哥给每个场景都加了一个脚本，还有编码的角色描述。场景文件如下所示:</p><pre class="kj kk kl km gt lt lu lv lw aw lx bi"><span id="edb8" class="ly lz it lu b gy ma mb l mc md">label house:<br/>      scene deskback<br/>      with fade</span><span id="77ab" class="ly lz it lu b gy me mb l mc md">show rubyspritehalf:<br/>          xalign 0.5 yalign 0.08</span><span id="d527" class="ly lz it lu b gy me mb l mc md">show miaspritehalf:<br/>          xalign 0.825 yalign 0.135</span><span id="f155" class="ly lz it lu b gy me mb l mc md">show raspberrypisprite:<br/>          xalign 0.66 yalign 0.5</span><span id="4fe3" class="ly lz it lu b gy me mb l mc md">show mechanicalhandsprite:<br/>          xalign 0.5 yalign 0.5</span><span id="d41c" class="ly lz it lu b gy me mb l mc md">rai "I bet if I hooked this up with my Raspberry Pi I could make it move. But what should it do?"</span><span id="bdfd" class="ly lz it lu b gy me mb l mc md">mia "I can bake a raspberry pie, but how would that make it move?"</span><span id="a809" class="ly lz it lu b gy me mb l mc md">rai "Not that kind of pie! A P-I pi. It's like a little computer."</span><span id="e23b" class="ly lz it lu b gy me mb l mc md">mia "Oh. Well, since it's a single hand, maybe you can teach it to play solitaire."</span><span id="d673" class="ly lz it lu b gy me mb l mc md">$kiss_flag = False</span><span id="1472" class="ly lz it lu b gy me mb l mc md">menu:<br/>    "That's a great ideal! I'm glad I thought of it!":<br/>        jump mia_dejected<br/>    "That's a great ideal! You're a genius, [mia]!":<br/>        jump mia_happy<br/>    "Kiss her.":<br/>        jump mia_surprised</span><span id="de39" class="ly lz it lu b gy me mb l mc md">label mia_surprised:</span><span id="3382" class="ly lz it lu b gy me mb l mc md">$kiss_flag = True<br/>    rai "Wait what? Uh, yeah, no, let's just forget this ever popped in my head."</span><span id="c941" class="ly lz it lu b gy me mb l mc md">menu:<br/>    "That's a great ideal! I'm glad I thought of it!":<br/>        jump mia_dejected<br/>    "That's a great ideal! You're a genius, [mia]!":<br/>        jump mia_happy</span><span id="6c6c" class="ly lz it lu b gy me mb l mc md">label mia_dejected:<br/>    # show mia dejected</span><span id="8e01" class="ly lz it lu b gy me mb l mc md">jump continue</span><span id="60f8" class="ly lz it lu b gy me mb l mc md">label mia_happy:<br/>    # show mia happy</span><span id="5af5" class="ly lz it lu b gy me mb l mc md">jump continue</span><span id="ca89" class="ly lz it lu b gy me mb l mc md">label continue:</span><span id="3ac9" class="ly lz it lu b gy me mb l mc md">mia "You know the science fair is tomorrow, can you do it by then?"</span><span id="1b6e" class="ly lz it lu b gy me mb l mc md">"..."</span><span id="4ed2" class="ly lz it lu b gy me mb l mc md">mia "Can I help?"</span><span id="8690" class="ly lz it lu b gy me mb l mc md">"..."</span><span id="5a4d" class="ly lz it lu b gy me mb l mc md">mia "I'll get some energy drinks, it sounds like it will be a long night."</span><span id="b61f" class="ly lz it lu b gy me mb l mc md">jump bedroom</span></pre><p id="2cce" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">第<code class="fe mf mg mh lu b">scene deskback</code>行从文件<code class="fe mf mg mh lu b">game/images/deskback.png</code>添加背景。这条线<code class="fe mf mg mh lu b">show rubyspritehalf</code>在背景的顶部添加了一张主角露比的腰部以上的照片(这是一张腰部以上的照片，因为她在桌子后面)。人物已经有了对象，所以典型的台词就是&lt;人物&gt;“对话”。在<code class="fe mf mg mh lu b">characters.rpy</code>脚本中定义了一个字符，如下所示:</p><pre class="kj kk kl km gt lt lu lv lw aw lx bi"><span id="a003" class="ly lz it lu b gy ma mb l mc md">define rai = Character("Ruby", color="#e0115f")<br/>define mia = Character("Mia", color="#b57edc")<br/>define yf = Character("John", color="#6080ff")<br/>define rk = Character("Jacqueline", color="#00ad43")</span></pre><p id="9279" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然后是背景和人物艺术品。这个角色的作品非常简单，没有动画，甚至没有任何姿势，除了一个漫不经心的姿势。游戏中最后的东西是这样放在一起的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mi"><img src="../Images/c4f68b51cbbfbc47e008e0882b11881b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3JF9NZABjbC1afS6fv996w.png"/></div></div></figure><p id="5eac" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">基本的想法是你放上背景，然后放上角色，然后给角色一些对话。点击场景中的任何地方，你会看到下一个对话框。</p><p id="d51d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">选项显示为几个选项，您可以单击这些选项，根据您单击的内容，会将您带到不同的代码路径。在上面的示例代码中，有一个<code class="fe mf mg mh lu b">menu</code>然后<code class="fe mf mg mh lu b">jump</code>到一个<code class="fe mf mg mh lu b">label</code>提供控制流。相当原始！这是菜单在屏幕上的样子:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mi"><img src="../Images/b3cda24b4009141a12578a24af1af6f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i_v3dK1LoNjKXvk4sdEAtQ.png"/></div></div></figure><p id="c7b8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然后，根据代码，在回到主要内容之前，每个对话框会带您进入一组不同的对话框:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mi"><img src="../Images/61dedcab53bd855008b7fbfa4b5c85c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rMPtuQ6_w6xK0Q-4dt-wUw.png"/></div></div></figure><p id="770f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">所以我们所做的就是用一些小分支来讲述一个故事，这些分支主要是为了达到幽默的效果。</p><p id="a99d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">许多游戏特性都在<code class="fe mf mg mh lu b">options.rpy</code>和<code class="fe mf mg mh lu b">gui.rpy</code>中。<code class="fe mf mg mh lu b">gui.rpy</code>设置显示器的属性，如颜色和字体。我们所做的唯一改变是将字体设置为黑脸田鸡。</p><pre class="kj kk kl km gt lt lu lv lw aw lx bi"><span id="b8be" class="ly lz it lu b gy ma mb l mc md">## The font used for in-game text.<br/>define gui.text_font = "fonts/Sora/Sora-VariableFont_wght.ttf"</span><span id="d8a2" class="ly lz it lu b gy me mb l mc md">## The font used for character names.<br/>define gui.name_text_font = "fonts/Sora/Sora-VariableFont_wght.ttf"</span><span id="6756" class="ly lz it lu b gy me mb l mc md">## The font used for out-of-game text.<br/>define gui.interface_text_font = "fonts/Sora/Sora-VariableFont_wght.ttf"</span></pre><p id="2bd5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><code class="fe mf mg mh lu b">options.rpy</code>设置了许多特性，如游戏名称、版本和主要音乐</p><pre class="kj kk kl km gt lt lu lv lw aw lx bi"><span id="dba4" class="ly lz it lu b gy ma mb l mc md">define config.version = "1.0.0-beta"</span><span id="43bc" class="ly lz it lu b gy me mb l mc md">## Text that is placed on the game's about screen. Place the text between the<br/>## triple-quotes, and leave a blank line between paragraphs.</span><span id="6c6d" class="ly lz it lu b gy me mb l mc md">define gui.about = _("""<br/>A Kamradt Family Production<br/>Writers: Mary, Randy, rai<br/>Technical team: Randy, yugyfoog<br/>Character designer: rai<br/>Colorist: Mary<br/>Background art: Randy, Mary<br/>Animation: yugyfoog<br/>Music: 'Ruby Bells' composed and produced by Randy<br/>Sound <a class="ae lq" href="https://www.freesfx.co.uk" rel="noopener ugc nofollow" target="_blank">https://www.freesfx.co.uk</a><br/>""")</span><span id="e50a" class="ly lz it lu b gy me mb l mc md">## A short name for the game used for executables and directories in the built<br/>## distribution. This must be ASCII-only, and must not contain spaces, colons,<br/>## or semicolons.</span><span id="d0b8" class="ly lz it lu b gy me mb l mc md">define build.name = "RubyPi"</span><span id="f298" class="ly lz it lu b gy me mb l mc md">## Sounds and music ############################################################</span><span id="989c" class="ly lz it lu b gy me mb l mc md">define config.has_sound = True<br/>define config.has_music = True<br/>define config.has_voice = True</span><span id="ac86" class="ly lz it lu b gy me mb l mc md">define config.main_menu_music = "audio/rubypi.mp3"</span></pre><p id="84ce" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">要创建发行版，请使用主屏幕上的“构建发行版”链接。它将生成在Windows、MacOS和Linux上发布游戏所需的安装文件。在此过程中，我们创建了几个里程碑版本，并将文件从构建发行版上传到GitHub发行版。</p><p id="1e99" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">回到itch.io，我们创建了一个项目，并能够给它一个小站点和地方来下载发行版。你也可以设定一个价格或者要求捐赠。部分价格或捐赠可以回馈给itch.io。</p><p id="840d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">它并不花哨，而且只有大约五分钟的故事价值。但是把所有的东西都放在适当的位置是很有趣的，并且有助于让每个人都习惯于使用GitHub作为合作的仓库，并在我们从一个想法到一个实际的游戏的过程中使用GitHub问题作为待办事项。这是一个伟大的方式来花时间在一起，而我们仍然被分开。</p><p id="8b74" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是包含游戏源代码的存储库:</p><div class="mj mk gp gr ml mm"><a href="https://github.com/MuseApplications/MyFunGame" rel="noopener  ugc nofollow" target="_blank"><div class="mn ab fo"><div class="mo ab mp cl cj mq"><h2 class="bd iu gy z fp mr fr fs ms fu fw is bi translated">MuseApplications/MyFunGame</h2><div class="mt l"><h3 class="bd b gy z fp mr fr fs ms fu fw dk translated">解散GitHub是超过5000万开发者的家园，他们一起工作来托管和审查代码，管理项目，以及…</h3></div><div class="mu l"><p class="bd b dl z fp mr fr fs ms fu fw dk translated">github.com</p></div></div><div class="mv l"><div class="mw l mx my mz mv na ks mm"/></div></div></a></div><p id="4fcc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">该游戏可从以下网址下载:</p><div class="mj mk gp gr ml mm"><a href="https://raihka.itch.io/ruby-pi" rel="noopener  ugc nofollow" target="_blank"><div class="mn ab fo"><div class="mo ab mp cl cj mq"><h2 class="bd iu gy z fp mr fr fs ms fu fw is bi translated">红宝石Pi</h2><div class="mt l"><h3 class="bd b gy z fp mr fr fs ms fu fw dk translated">《红宝石圆周率》是一部视觉小说，讲述了一名青少年发现自己在电子方面的天赋。和她最好的朋友米娅一起…</h3></div><div class="mu l"><p class="bd b dl z fp mr fr fs ms fu fw dk translated">raihka.itch.io</p></div></div><div class="mv l"><div class="nb l mx my mz mv na ks mm"/></div></div></a></div></div></div>    
</body>
</html>