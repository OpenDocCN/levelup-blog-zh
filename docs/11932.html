<html>
<head>
<title>Useful Git Commands You Might Not Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">您可能不知道的有用的Git命令</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/useful-git-commands-you-might-not-know-2ff7c0c6a4e9?source=collection_archive---------4-----------------------#2022-04-30">https://levelup.gitconnected.com/useful-git-commands-you-might-not-know-2ff7c0c6a4e9?source=collection_archive---------4-----------------------#2022-04-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="c1cd" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">饭桶</h2><div class=""/><div class=""><h2 id="dac3" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">让我们开始吧。</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/50bbda8f9b2cd8db2bb91b1f51ceec9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-weiCm4JIz9eeGqQ"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">照片由<a class="ae le" href="https://unsplash.com/@yancymin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">扬西·敏</a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="1358" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">学习Git很重要，因为作为一名软件开发人员，您每天都会用到它。Git有时很容易，有时很难。在这篇文章中，我将讨论一些人们可能不知道或者没有经常使用的git命令。但是他们确实很有帮助。</p><h1 id="8427" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">向提交消息添加描述</h1><p id="9f3d" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">假设您已经在项目中添加了一个新文件或者更改了一个现有文件，现在是时候将它添加到远程存储库中了。第一件事是在本地提交您的文件。我们大多数人都会用<code class="fe my mz na nb b">git commit -m "file changed"</code>或者<code class="fe my mz na nb b">git commit -m "nth commit"</code>。你用的最多的是哪一个？</p><p id="92eb" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">嗯，这是不好的做法。提交消息是告诉另一个开发人员做了什么更改的最好方式。写一个好的提交消息的另一个原因是，在某种程度上，你是自己的未来。因此，编写好的提交消息来完美地描述变更是一个很好的实践。</p><p id="f325" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">标题</strong>应不超过50个字符。在<strong class="lh ja">描述</strong>中描述提交消息的内容和原因。最好提一下更改或添加的组件。</p><pre class="kp kq kr ks gt nc nb nd ne aw nf bi"><span id="6c1f" class="ng mc iq nb b gy nh ni l nj nk">git commit -m "commit title" -m "this is the description of the commit."</span></pre><p id="e148" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如果你写的<code class="fe my mz na nb b">git commit</code>没有<code class="fe my mz na nb b">-m</code>标志，那么将会打开一个编辑器(对我们大多数人来说是vi编辑器)。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nl"><img src="../Images/2a6c9650f48ab2c56c33b97ac54e9895.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*8i5uNAVnnxIA4RlgUqMb2Q.gif"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">为编写提交消息而打开的VI编辑器</figcaption></figure><h1 id="fe42" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">更改上一次提交的消息</h1><p id="c26a" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">假设您在提交消息中提交了一个未被注意到的错别字。事情变得更有关联了。别担心，它会发生在我们最好的人身上。好的一面是有一个命令可以改变之前的提交消息。</p><pre class="kp kq kr ks gt nc nb nd ne aw nf bi"><span id="583d" class="ng mc iq nb b gy nh ni l nj nk">git commit --amend -m "new message for the commit"</span></pre><p id="dfae" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这将在本地更改先前提交的提交消息。要远程更改它，命令是:</p><pre class="kp kq kr ks gt nc nb nd ne aw nf bi"><span id="95e9" class="ng mc iq nb b gy nh ni l nj nk">git push origin master --force-with-lease</span></pre><p id="940a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">注意:另外，请记住，上述命令不会改变提交次数。相反，它将替换最近的提交。</strong></p><h1 id="e6ec" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">提交后忽略文件</h1><p id="2703" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">重要的是要记住，一旦<strong class="lh ja">文件</strong>被提交，它将被跟踪，即使文件路径被添加到<strong class="lh ja">。gitignore </strong>文件。第一步是在. gitignore中添加文件的路径。</p><pre class="kp kq kr ks gt nc nb nd ne aw nf bi"><span id="98e6" class="ng mc iq nb b gy nh ni l nj nk">git rm --cached &lt;path/to/file&gt;<br/>git add .gitignore<br/>git commit -m "stopped tracking &lt;filename&gt;"</span></pre><h1 id="a295" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">创建空提交</h1><p id="f6fc" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">有些人可能认为这是有史以来最没用的git命令。但它有自己的用处。有时您可能需要触发一些部署，或者您可能需要测试一些集成。</p><pre class="kp kq kr ks gt nc nb nd ne aw nf bi"><span id="1060" class="ng mc iq nb b gy nh ni l nj nk">git commit --allow-empty -m "no files added to this commit"</span></pre><h1 id="6e7b" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">向以前的提交添加/更新文件</h1><p id="a6fb" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">另一个你可能会想到的情况。假设您在提交代码之前忘记了从代码中删除print语句。我支持你，我的开发者伙伴。您可以做的一件事是删除print语句并进行新的提交<code class="fe my mz na nb b">git commit -m “removed the print statements from the code”</code>。看起来不太好。下面提到另一种方法:</p><ol class=""><li id="047d" class="nm nn iq lh b li lj ll lm lo no ls np lw nq ma nr ns nt nu bi translated">从文件中删除不需要的代码。将文件添加到临时区域。</li></ol><pre class="kp kq kr ks gt nc nb nd ne aw nf bi"><span id="120e" class="ng mc iq nb b gy nh ni l nj nk">git add .</span></pre><p id="343d" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">2.提交文件而不改变先前写入的消息</p><pre class="kp kq kr ks gt nc nb nd ne aw nf bi"><span id="c2a8" class="ng mc iq nb b gy nh ni l nj nk">git commit --amend --no-edit</span></pre><p id="daf0" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">3.用新的提交消息提交文件</p><pre class="kp kq kr ks gt nc nb nd ne aw nf bi"><span id="1350" class="ng mc iq nb b gy nh ni l nj nk">git commit --amend -m "new commit message"</span></pre><p id="ab6d" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">4.正确地远程更改代码</p><pre class="kp kq kr ks gt nc nb nd ne aw nf bi"><span id="dc0d" class="ng mc iq nb b gy nh ni l nj nk">git push origin master --force-with-lease</span></pre><p id="e016" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如果您想在之前的提交中添加一个新文件，可以遵循相同的步骤。因为我们正在修改提交，所以提交的数量不会改变。</p><h1 id="4513" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">撤消上次提交</h1><ol class=""><li id="23eb" class="nm nn iq lh b li mt ll mu lo nv ls nw lw nx ma nr ns nt nu bi translated">正在本地撤消上次提交。<code class="fe my mz na nb b">--soft</code> flag将保留对文件所做的更改。</li></ol><pre class="kp kq kr ks gt nc nb nd ne aw nf bi"><span id="485c" class="ng mc iq nb b gy nh ni l nj nk">git reset --soft HEAD~1</span></pre><p id="03e3" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">2.远程撤销最后一次提交</p><pre class="kp kq kr ks gt nc nb nd ne aw nf bi"><span id="157e" class="ng mc iq nb b gy nh ni l nj nk">git push origin master --force-with-lease</span></pre><h1 id="072e" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">有风格的日志记录</h1><p id="5c6b" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated"><code class="fe my mz na nb b">git log</code>用于显示提交日志。但是太无聊了。它会显示很多可能有用也可能没用的数据。有许多标志可以和<code class="fe my mz na nb b">git log</code>一起使用，以一种令人愉快的方式显示关于提交的有用数据。</p><ol class=""><li id="a891" class="nm nn iq lh b li lj ll lm lo no ls np lw nq ma nr ns nt nu bi translated"><code class="fe my mz na nb b">--oneline</code>:这个标志用于在一行中打印所有内容。它将包括提交id和提交消息。</li><li id="dd4a" class="nm nn iq lh b li ny ll nz lo oa ls ob lw oc ma nr ns nt nu bi translated"><code class="fe my mz na nb b">--stat</code>:该标志负责显示哪些文件被修改和添加。</li><li id="67eb" class="nm nn iq lh b li ny ll nz lo oa ls ob lw oc ma nr ns nt nu bi translated"><code class="fe my mz na nb b">--decorate</code>:这将显示所有引用，如分支、标签等。对于每次提交。</li><li id="67db" class="nm nn iq lh b li ny ll nz lo oa ls ob lw oc ma nr ns nt nu bi translated"><code class="fe my mz na nb b">--graph</code>:此标志使您能够以图形方式查看日志。</li></ol><pre class="kp kq kr ks gt nc nb nd ne aw nf bi"><span id="169d" class="ng mc iq nb b gy nh ni l nj nk">git log --oneline --stat --decorate --graph</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi od"><img src="../Images/ddadf0b81a6f6c2e2f4d5ac965b9b909.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XLgYqZBBQuXBWgUr7aqC3g.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">日志记录使用各种标志提交历史记录</figcaption></figure><h1 id="814a" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">提交历史记录</h1><p id="9a8e" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">提交的历史？这不就是<code class="fe my mz na nb b">git log</code>的作用吗？是和否。<code class="fe my mz na nb b">git log</code>显示了可由父节点，即<strong class="lh ja">头</strong>访问的提交日志。如果您想查看存储库的所有撤消历史记录，那么命令是:</p><pre class="kp kq kr ks gt nc nb nd ne aw nf bi"><span id="0232" class="ng mc iq nb b gy nh ni l nj nk">git reflog</span></pre></div><div class="ab cl oe of hu og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ij ik il im in"><h1 id="9ed6" class="mb mc iq bd md me ol mg mh mi om mk ml kf on kg mn ki oo kj mp kl op km mr ms bi translated">附加说明</h1><blockquote class="oq or os"><p id="b98c" class="lf lg ot lh b li lj ka lk ll lm kd ln ou lp lq lr ov lt lu lv ow lx ly lz ma ij bi translated">“我不总是使用武力，但当我这样做的时候，我会用租赁的方式”</p></blockquote><p id="570b" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><a class="ox oy ep" href="https://medium.com/u/13982d09d3b0?source=post_page-----2ff7c0c6a4e9--------------------------------" rel="noopener" target="_blank">Mohammad-Ali A ' r ABI</a>在他的文章<a class="ae le" href="https://itnext.io/git-force-vs-force-with-lease-9d0e753e8c41" rel="noopener ugc nofollow" target="_blank"><strong class="lh ja">Git Force vs Force with Lease</strong></a><strong class="lh ja"/>中提到了上述引文，它是完美的。</p><p id="c4a2" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">除非您想破坏代码库，否则不应该在提交时使用<code class="fe my mz na nb b">--force</code>标志。此命令用本地分支中的新代码覆盖远程分支中的现有代码，忽略远程分支的当前状态。因此，如果其他开发人员做了一些更改，它将被覆盖。最好的选择是使用<code class="fe my mz na nb b">--force-with-lease</code>。</p></div><div class="ab cl oe of hu og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ij ik il im in"><p id="9c70" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我希望这篇文章对你有帮助。感谢您的阅读。在<a class="ae le" href="https://www.linkedin.com/in/ashish-yoel-585a6116a/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上与我联系。</p><h1 id="f6e5" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">资源</h1><div class="oz pa gp gr pb pc"><a href="https://gitbetter.substack.com/p/5-useful-git-commands-you-might-not?s=r" rel="noopener  ugc nofollow" target="_blank"><div class="pd ab fo"><div class="pe ab pf cl cj pg"><h2 class="bd ja gy z fp ph fr fs pi fu fw iz bi translated">你可能不知道的5个有用的git命令</h2><div class="pj l"><h3 class="bd b gy z fp ph fr fs pi fu fw dk translated">你好。我是斯雷巴拉吉。您收到这封电子邮件是因为您已经订阅了Git来升级您的游戏。选择…</h3></div><div class="pk l"><p class="bd b dl z fp ph fr fs pi fu fw dk translated">gitbetter.substack.com</p></div></div><div class="pl l"><div class="pm l pn po pp pl pq ky pc"/></div></div></a></div><div class="oz pa gp gr pb pc"><a href="https://itnext.io/git-force-vs-force-with-lease-9d0e753e8c41" rel="noopener  ugc nofollow" target="_blank"><div class="pd ab fo"><div class="pe ab pf cl cj pg"><h2 class="bd ja gy z fp ph fr fs pi fu fw iz bi translated">Git Force与Force with Lease</h2><div class="pj l"><h3 class="bd b gy z fp ph fr fs pi fu fw dk translated">以及何时使用它们</h3></div><div class="pk l"><p class="bd b dl z fp ph fr fs pi fu fw dk translated">itnext.io</p></div></div><div class="pl l"><div class="pr l pn po pp pl pq ky pc"/></div></div></a></div></div></div>    
</body>
</html>