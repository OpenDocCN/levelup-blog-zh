<html>
<head>
<title>3 Ways to Show Both Image and Title on Swipe Action</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">3种在滑动动作上显示图像和标题的方式</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/3-ways-to-show-both-image-and-title-on-swipe-action-4aeb61fe64ad?source=collection_archive---------8-----------------------#2022-07-26">https://levelup.gitconnected.com/3-ways-to-show-both-image-and-title-on-swipe-action-4aeb61fe64ad?source=collection_archive---------8-----------------------#2022-07-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6766" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">这是苹果的设计，只有当单元格高度等于或大于90时，图像和标题才会在滑动动作上显示。有三种方法来展示这两者。</h2></div><p id="8654" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面的代码将动作标题设置为“catched ”,并将图像设置为系统星形图标。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="c47e" class="ln lo it lj b gy lp lq l lr ls">let starAction = UIContextualAction(style: .normal, <strong class="lj iu">title: “Caught”</strong>) { _, _, _ in }<br/>let starImage = UIImage(systemName: “star.fill”)<br/><strong class="lj iu">starAction.image = starImage</strong></span></pre><p id="394b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们希望图像和标题都显示在滑动动作上，但是当单元格高度小于90时，我们会得到以下结果。</p><figure class="le lf lg lh gt lu gh gi paragraph-image"><div class="gh gi lt"><img src="../Images/41e4cd9e4a26533b6ad00ac6e2b511dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/format:webp/1*UbzEQqtadz6ERtnIlAoRLA.png"/></div></figure><p id="79bf" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是苹果的设计，只有当单元格高度等于或大于90时，图像和标题才会在滑动动作上显示。当单元格高度小于90时，如果您同时设置了图像和标题，则只有图像会出现在滑动操作中。你可以在一些内置的app上观察，比如Messages。</p><p id="0b60" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你想同时给他们看呢？你可以考虑以下三种方式。</p><h1 id="c1cc" class="lx lo it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated"><strong class="ak"> 1。将单元格的高度设置为&gt; = 90 </strong></h1><p id="fc47" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">很直白。将单元格的高度设置为等于或大于90，则图像和文本都会出现。</p><figure class="le lf lg lh gt lu gh gi paragraph-image"><div class="gh gi lt"><img src="../Images/174a5f61b6121657ce4a14cdc0cdbe36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/format:webp/1*LETnJS9wN-S2sGQkkYotvA.png"/></div></figure><h1 id="3f18" class="lx lo it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated"><strong class="ak"> 2。用Unicode字符替换图像</strong></h1><p id="8e6e" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">如果你的图标很常见，比如一颗星、一颗心或者一个垃圾箱，也许你可以用一个<a class="ae mt" href="https://unicode-table.com/en/" rel="noopener ugc nofollow" target="_blank"> Unicode字符</a>替换这个图像。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="f506" class="ln lo it lj b gy lp lq l lr ls">let star = UIContextualAction(style: .normal, title: “<strong class="lj iu">\u{2605}</strong>\nCaught”) { _, _, _ in }</span></pre><figure class="le lf lg lh gt lu gh gi paragraph-image"><div class="gh gi lt"><img src="../Images/bfbb0a8ac2efe5680cdb0094f24183ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/format:webp/1*gtvSh8IkkvHJZKh1qRYQOA.png"/></div></figure><p id="d47c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在滑动操作中，Unicode字符看起来比系统图标小。您可能希望通过调整字体大小来放大图标，但这也会放大文本。</p><p id="3e51" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这种方法的缺点是你不能单独调整图标的大小而不影响文本的其余部分。在标题中放一个Unicode图标意味着你的图标大小会随着字体大小而改变。</p><p id="5057" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你可能会想到属性化字符串。遗憾的是，<code class="fe mu mv mw lj b">UIContextualAction</code>的标题不支持属性化字符串。</p><h1 id="fe6e" class="lx lo it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">3.将图像和标题转换为图像</h1><p id="500d" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">我们可以通过<code class="fe mu mv mw lj b">NSAttributedString</code>和<code class="fe mu mv mw lj b">NSTextAttachment</code>创建一个包含文字和图片的标签，然后将标签转换成图片。</p><p id="3fad" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">首先，创建一个包含文本和图像的属性字符串。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="6f1d" class="ln lo it lj b gy lp lq l lr ls">let text = NSMutableAttributedString(string: <strong class="lj iu">“Caught”</strong>)<br/>let attachment = NSTextAttachment()<br/>attachment.image = <strong class="lj iu">UIImage(systemName: “star.fill”)</strong><br/>text.append<!-- -->(NSAttributedString(attachment: attachment))</span></pre><p id="d229" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后创建一个标签来保存属性化的字符串。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="3645" class="ln lo it lj b gy lp lq l lr ls">let label = UILabel(frame: CGRect(x: 0, y: 0, width: 50, height: 50))<br/>label.textAlignment = .center<br/>label.numberOfLines = 2<br/>label.attributedText = text</span></pre><p id="f35e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，将标签转换成图像。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="e28c" class="ln lo it lj b gy lp lq l lr ls">let renderer = UIGraphicsImageRenderer(bounds: label.bounds)<br/>let image = renderer.image { context in<br/>    label.layer.render(in: context.cgContext)<br/>}</span><span id="6131" class="ln lo it lj b gy mx lq l lr ls">if let cgImage = image.cgImage {<br/>    let finalImage = UIImage(cgImage: cgImage, scale: UIScreen.main.scale, orientation: .up)<br/>}</span></pre><figure class="le lf lg lh gt lu gh gi paragraph-image"><div class="gh gi lt"><img src="../Images/de5272f2371d69b47a00c8e32f10d905.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/format:webp/1*JIcfOo9z0N-nUl9OYXt7xA.png"/></div></figure><p id="c827" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这种方法有一些缺点:</p><p id="4efe" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">图像的字体大小是固定的，因此滑动操作中的图标和文本都不支持动态字体。</p><p id="5852" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，滑动动作上的图像有最大尺寸；如果您的标签太宽，图像将在滑动操作时缩小。</p><p id="ec87" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，文本字体看起来比标题上显示的要小。如果您尝试将字体设置得更大，文本将被截断。</p><figure class="le lf lg lh gt lu gh gi paragraph-image"><div class="gh gi lt"><img src="../Images/583d2e3e0e2df97ff02c03481dd9fc55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/format:webp/1*NOQc78YRGgvjkFy2X51V3w.png"/></div></figure></div><div class="ab cl my mz hx na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="im in io ip iq"><h2 id="c3bc" class="ln lo it bd ly nf ng dn mc nh ni dp mg kr nj nk mi kv nl nm mk kz nn no mm np bi translated">参考资料:</h2><div class="nq nr gp gr ns nt"><a href="https://stackoverflow.com/questions/27740884/uitableviewrowaction-title-as-image-icon-instead-of-text" rel="noopener  ugc nofollow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd iu gy z fp ny fr fs nz fu fw is bi translated">UITableViewRowAction标题作为图像图标而不是文本</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">我想在Swift的tableviewCell中的滑动操作中放置图标(图像)而不是文本。但是我不知道如何表达这个形象…</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">stackoverflow.com</p></div></div><div class="oc l"><div class="od l oe of og oc oh lv nt"/></div></div></a></div><div class="nq nr gp gr ns nt"><a href="https://stackoverflow.com/questions/29421894/uitableviewrowaction-image-for-title" rel="noopener  ugc nofollow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd iu gy z fp ny fr fs nz fu fw is bi translated">标题的UITableViewRowAction图像</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">我做了一个自定义的UITableViewRowAction。现在，我想添加一个图像，而不是文本。我知道这是可能的，但是…</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">stackoverflow.com</p></div></div><div class="oc l"><div class="oi l oe of og oc oh lv nt"/></div></div></a></div><div class="nq nr gp gr ns nt"><a href="https://developer.apple.com/documentation/uikit/uiimage/configuring_and_displaying_symbol_images_in_your_ui/" rel="noopener  ugc nofollow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd iu gy z fp ny fr fs nz fu fw is bi translated">Apple开发者文档</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">编辑描述</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">developer.apple.com</p></div></div></div></a></div></div></div>    
</body>
</html>