<html>
<head>
<title>How easy I code a hamburger menu with CSS and JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用CSS和JavaScript编写一份汉堡菜单有多简单</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-easy-i-code-a-hamburger-menu-with-css-and-javascript-5537d5669aa?source=collection_archive---------5-----------------------#2022-01-18">https://levelup.gitconnected.com/how-easy-i-code-a-hamburger-menu-with-css-and-javascript-5537d5669aa?source=collection_archive---------5-----------------------#2022-01-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b0d2" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何用73行Javascript编写移动菜单的快速教程。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/2e35b5b5e9f665a3fbfc9e665f06a4d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pNbxjDcOZWnzLEQL_xs-rg.jpeg"/></div></div></figure><h2 id="54b7" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">这个概念</h2><p id="c8a3" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">在事件监听器<em class="mg"> DOMContentLoaded </em>中，我为每个页面调用一个函数<code class="fe mh mi mj mk b">mobileMenu_init()</code>。此函数处理移动菜单是否必须显示、构建或销毁。</p><p id="dd7f" class="pw-post-body-paragraph ln lo iq lp b lq ml jr ls lt mm ju lv la mn lx ly le mo ma mb li mp md me mf ij bi translated">在窗口事件监听器<em class="mg"> resize </em>中，我还调用了<code class="fe mh mi mj mk b">mobileMenu_init()</code>来处理关于窗口大小调整的移动菜单。</p><p id="4210" class="pw-post-body-paragraph ln lo iq lp b lq ml jr ls lt mm ju lv la mn lx ly le mo ma mb li mp md me mf ij bi translated">在<em class="mg">构建函数</em>中，<em class="mg"> JavaScript </em>克隆导航中的所有链接。所以移动菜单是完全动态创建的。</p><p id="7af7" class="pw-post-body-paragraph ln lo iq lp b lq ml jr ls lt mm ju lv la mn lx ly le mo ma mb li mp md me mf ij bi translated"><em class="mg"> CSS </em>通过媒体查询隐藏桌面导航。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mq"><img src="../Images/732c7d75be55217b2539fc03fc8353c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BTY87uqRN6Xzd_PnxYP8Mw.jpeg"/></div></div><figcaption class="mr ms gj gh gi mt mu bd b be z dk translated">JavaScript为移动菜单构建的HTML代码</figcaption></figure><blockquote class="mv"><p id="c29a" class="mw mx iq bd my mz na nb nc nd ne mf dk translated">下面是<strong class="ak">工作实例</strong>:<br/><a class="ae nf" href="https://www.stephan-romhart.de/medium.com/mobile-menu-vanilla-js/" rel="noopener ugc nofollow" target="_blank">https://www . Stephan-rom hart . de/medium . com/mobile-menu-vanilla-js/</a></p></blockquote></div><div class="ab cl ng nh hu ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ij ik il im in"><h2 id="36f4" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">HTML</h2><p id="031c" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">对于本教程，我使用一个简单的HTML。桌面视图的菜单位于<code class="fe mh mi mj mk b">&lt;nav&gt;</code>元素内的<code class="fe mh mi mj mk b">&lt;header&gt;</code>中。</p><p id="80da" class="pw-post-body-paragraph ln lo iq lp b lq ml jr ls lt mm ju lv la mn lx ly le mo ma mb li mp md me mf ij bi translated">在文件的<code class="fe mh mi mj mk b">&lt;head&gt;</code>部分有两个文件链接:</p><ul class=""><li id="480b" class="nn no iq lp b lq ml lt mm la np le nq li nr mf ns nt nu nv bi translated">样式的<strong class="lp ir"> styles.css </strong></li><li id="63de" class="nn no iq lp b lq nw lt nx la ny le nz li oa mf ns nt nu nv bi translated">为了让菜单工作</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure></div><div class="ab cl ng nh hu ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ij ik il im in"><h1 id="21e9" class="od ks iq bd kt oe of og kw oh oi oj kz jw ok jx ld jz ol ka lh kc om kd ll on bi translated">CSS</h1><p id="39bd" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">我假设你知道CSS的基础知识。为了给你看这个最简单的例子，我只定义了</p><ul class=""><li id="0218" class="nn no iq lp b lq ml lt mm la np le nq li nr mf ns nt nu nv bi translated">一个简单的重置和一个桌面导航条，</li><li id="7602" class="nn no iq lp b lq nw lt nx la ny le nz li oa mf ns nt nu nv bi translated"><em class="mg">移动菜单按钮</em>，</li><li id="b4ea" class="nn no iq lp b lq nw lt nx la ny le nz li oa mf ns nt nu nv bi translated"><em class="mg">移动菜单内容</em></li><li id="5f76" class="nn no iq lp b lq nw lt nx la ny le nz li oa mf ns nt nu nv bi translated">以及<em class="mg">媒体查询</em>隐藏手机上的桌面导航</li></ul><h2 id="1885" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">CSS:全局变量和桌面版本</h2><p id="0877" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">首先我做了一个简单的CSS重置(<em class="mg">第3行到第6行</em>)。变量定义字体大小、标题高度、菜单宽度和一些颜色(<em class="mg">第12行到第20行</em>)。第25到63行定义了主体和桌面标题(包括导航)的一些基本样式。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure><h2 id="2e51" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">CSS:移动菜单按钮</h2><p id="f3ef" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">菜单按钮的大小由变量mobile-menu-width定义。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure><h2 id="8900" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">汉堡菜单:外观和动画</h2><p id="9742" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">菜单的HTML完全来自Javascript。为了让3行的菜单按钮变成2行的<strong class="lp ir"> x </strong>，我用了3个<code class="fe mh mi mj mk b">&lt;span&gt;</code>。JavaScript向<code class="fe mh mi mj mk b">&lt;div id="mobile-menu"&gt;</code>添加了一个开放类，因此中间的<code class="fe mh mi mj mk b">&lt;span&gt;</code>的不透明度设置为0，第一个和最后一个<code class="fe mh mi mj mk b">&lt;span&gt;</code>使用transform旋转。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/942f83e8d497436316ec783e935570e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2i70_dpOzu2HovK4oc_K4g.png"/></div></div><figcaption class="mr ms gj gh gi mt mu bd b be z dk translated">处理3档开放式汉堡菜单。</figcaption></figure><h2 id="2590" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">CSS:移动菜单内容</h2><p id="9340" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">如果关闭，移动菜单内容位于<em class="mg"> -100vh </em>。当点击移动菜单按钮时，#mobile-menu-content获取类<em class="mg"> open </em>。由于第13行的转换，菜单内容变成了动画。</p><p id="fb4b" class="pw-post-body-paragraph ln lo iq lp b lq ml jr ls lt mm ju lv la mn lx ly le mo ma mb li mp md me mf ij bi translated">第18行中额外的<code class="fe mh mi mj mk b">&lt;div&gt;</code>是可选的，但是如果链接高于智能手机，这是一个解决方案。用一个简单的<em class="mg"> overflow-y:auto </em>你可以在打开的菜单中滚动。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure><h2 id="35d1" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">CSS:媒体查询</h2><p id="ef1c" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">通过这个简单的媒体查询，我只需隐藏桌面导航。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="c4e7" class="pw-post-body-paragraph ln lo iq lp b lq ml jr ls lt mm ju lv la mn lx ly le mo ma mb li mp md me mf ij bi translated">顺便说一下:如果你对如何用notepad++更好地构建你的CSS感兴趣，请阅读我的文章😊</p><div class="oo op gp gr oq or"><a href="https://medium.com/codex/how-do-i-keep-track-of-large-css-files-with-notepad-and-the-function-list-6b3ec567937d" rel="noopener follow" target="_blank"><div class="os ab fo"><div class="ot ab ou cl cj ov"><h2 class="bd ir gy z fp ow fr fs ox fu fw ip bi translated">我如何用Notepad++和函数列表跟踪大型CSS文件</h2><div class="oy l"><h3 class="bd b gy z fp ow fr fs ox fu fw dk translated">这篇文章展示了我如何配置notepad++并编写CSS代码在定义之间快速导航。</h3></div><div class="oz l"><p class="bd b dl z fp ow fr fs ox fu fw dk translated">medium.com</p></div></div><div class="pa l"><div class="pb l pc pd pe pa pf kp or"/></div></div></a></div></div><div class="ab cl ng nh hu ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ij ik il im in"><h1 id="45e5" class="od ks iq bd kt oe of og kw oh oi oj kz jw ok jx ld jz ol ka lh kc om kd ll on bi translated">Javascript</h1><p id="455b" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">正如介绍中提到的，我在文档事件监听器<em class="mg"> DOMContentLoaded </em>和窗口事件监听器<em class="mg"> resize中调用了<code class="fe mh mi mj mk b">mobileMenu_init();</code>。</em></p><p id="933f" class="pw-post-body-paragraph ln lo iq lp b lq ml jr ls lt mm ju lv la mn lx ly le mo ma mb li mp md me mf ij bi translated">为了让菜单工作，我使用了五个功能:</p><ul class=""><li id="1bda" class="nn no iq lp b lq ml lt mm la np le nq li nr mf ns nt nu nv bi translated">🚩mobileMenu_init()</li><li id="b48b" class="nn no iq lp b lq nw lt nx la ny le nz li oa mf ns nt nu nv bi translated">▶️ mobileMenu_show()</li><li id="c986" class="nn no iq lp b lq nw lt nx la ny le nz li oa mf ns nt nu nv bi translated">🛠️ mobileMenu_build()</li><li id="8cc5" class="nn no iq lp b lq nw lt nx la ny le nz li oa mf ns nt nu nv bi translated">🔃移动菜单_切换()</li><li id="b97f" class="nn no iq lp b lq nw lt nx la ny le nz li oa mf ns nt nu nv bi translated">💣mobileMenu_destroy()</li></ul><p id="914f" class="pw-post-body-paragraph ln lo iq lp b lq ml jr ls lt mm ju lv la mn lx ly le mo ma mb li mp md me mf ij bi translated">在接下来的步骤中，我将详细解释所有五个功能。最后，我展示了整个javascript文件。</p></div><div class="ab cl ng nh hu ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ij ik il im in"><h2 id="e56a" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">mobileMenu_show()</h2><p id="34de" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">此功能检查是否必须显示移动菜单。使用<a class="ae nf" href="https://developer.mozilla.org/en-US/docs/Web/API/Window/matchMedia" rel="noopener ugc nofollow" target="_blank"> window.matchMedia </a>方法，可以在JavaScript中检查媒体查询。在本例中，移动的<em class="mg">断点的最大宽度为1024像素。</em></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure><h2 id="5d46" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">🚩mobileMenu_init()</h2><p id="3167" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">该函数初始化完整的菜单行为。</p><p id="31eb" class="pw-post-body-paragraph ln lo iq lp b lq ml jr ls lt mm ju lv la mn lx ly le mo ma mb li mp md me mf ij bi translated">我检查移动菜单是否必须显示(<em class="mg">行3 </em>)。</p><p id="7ab1" class="pw-post-body-paragraph ln lo iq lp b lq ml jr ls lt mm ju lv la mn lx ly le mo ma mb li mp md me mf ij bi translated">如果必须显示，我会检查菜单是必须构建(<em class="mg">第5行</em>)还是必须销毁(<em class="mg">第18行</em>)。</p><p id="5fac" class="pw-post-body-paragraph ln lo iq lp b lq ml jr ls lt mm ju lv la mn lx ly le mo ma mb li mp md me mf ij bi translated">如果必须构建，我会在标题的<code class="fe mh mi mj mk b">&lt;nav&gt;</code>元素中添加移动菜单按钮的HTML。然后我调用<code class="fe mh mi mj mk b">mobileMenu_build()</code>从<code class="fe mh mi mj mk b">&lt;header&gt;</code>中现有的导航构建移动菜单内容。最后我定义了手机菜单按钮上的<em class="mg">点击事件</em>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure><h2 id="d892" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">🛠️ mobileMenu_build()</h2><p id="477f" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">该函数为移动菜单内容创建元素，并将其附加到正文中。</p><p id="f5da" class="pw-post-body-paragraph ln lo iq lp b lq ml jr ls lt mm ju lv la mn lx ly le mo ma mb li mp md me mf ij bi translated"><em class="mg"> menu_content_overflow </em>是一个可选的容器，用于处理长导航，这样用户可以使用CSS的<em class="mg"> overflow:auto </em>在里面滚动。</p><p id="66df" class="pw-post-body-paragraph ln lo iq lp b lq ml jr ls lt mm ju lv la mn lx ly le mo ma mb li mp md me mf ij bi translated">为了从标题中获取所有的桌面导航链接，我只是克隆并附加到菜单内容div ( <em class="mg">第10行</em>)。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure><h2 id="2111" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">🔃移动菜单_切换()</h2><p id="2bec" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">该函数在<em class="mg">点击事件</em>内的<code class="fe mh mi mj mk b">mobileMenu_build()</code>函数中调用，处理菜单按钮和菜单内容打开状态。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure><h2 id="2d22" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">💣mobileMenu_destroy()</h2><p id="3d27" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">如果菜单存在，并且用户调整浏览器大小以显示桌面版本，我只需删除菜单按钮和菜单内容的元素。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure><h1 id="c5e8" class="od ks iq bd kt oe pg og kw oh ph oj kz jw pi jx ld jz pj ka lh kc pk kd ll on bi translated">完整的Javascript</h1><p id="507a" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">为了完整起见，这里是完整的Javascript文件。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure><h1 id="74c7" class="od ks iq bd kt oe pg og kw oh ph oj kz jw pi jx ld jz pj ka lh kc pk kd ll on bi translated">结论</h1><p id="0498" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">这篇文章展示了我的移动菜单解决方案。我尽量保持简单。同时，我演示了如何使用CSS和溢出容器来制作菜单按钮的动画，如何处理比标准智能手机屏幕高得多的移动导航。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pl"><img src="../Images/c3f77d4a312b9f8992424386af764e85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NUXZyr-jaDRszfRGw9BuuQ.jpeg"/></div></div><figcaption class="mr ms gj gh gi mt mu bd b be z dk translated">我自己做代码分析。</figcaption></figure><p id="c719" class="pw-post-body-paragraph ln lo iq lp b lq ml jr ls lt mm ju lv la mn lx ly le mo ma mb li mp md me mf ij bi translated"><strong class="lp ir">感谢阅读。<br/> </strong>期待您的反馈。😍</p><p id="60d3" class="pw-post-body-paragraph ln lo iq lp b lq ml jr ls lt mm ju lv la mn lx ly le mo ma mb li mp md me mf ij bi translated">请评论、书签或关注我，支持我的频道。</p><p id="4028" class="pw-post-body-paragraph ln lo iq lp b lq ml jr ls lt mm ju lv la mn lx ly le mo ma mb li mp md me mf ij bi translated">如果你心中有一个特定的主题，你会希望我写下来，让我在推特上知道:<a class="ae nf" href="https://www.twitter.com/@stephan_romhart" rel="noopener ugc nofollow" target="_blank">https://www.twitter.com/@stephan_romhart</a></p></div></div>    
</body>
</html>