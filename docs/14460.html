<html>
<head>
<title>Automate Continuous Integration (CI) For iOS Apps With GitHub Actions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过GitHub操作实现iOS应用的自动化持续集成(CI)</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/automate-continuous-integration-ci-for-ios-apps-with-github-actions-98a5b6d48d7f?source=collection_archive---------2-----------------------#2022-11-29">https://levelup.gitconnected.com/automate-continuous-integration-ci-for-ios-apps-with-github-actions-98a5b6d48d7f?source=collection_archive---------2-----------------------#2022-11-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7238" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">关于如何在GitHub上为iOS应用程序自动化CI管道的分步教程</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/17d422c12c3b6834394eb2f3227262c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*khk5Wo8b8KrO6ier"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@richygreat?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">rich Great</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h2 id="af0a" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">先决条件</h2><p id="03c6" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">已经创建了一个名为<strong class="lx iu"> CI </strong>的方案来定义在持续集成期间要执行的测试。当变更被合并到master时，这些测试将被触发，以立即检测任何错误。</p><p id="2d34" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">如果您还没有为您的持续集成创建一个，请先这样做。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/acc454425f3d07b46851d31878e79715.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QoUyjyJS36j2hXry-88uTg.png"/></div></div></figure><p id="ed47" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">并选择要执行的测试。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/db799406d7973d244a70c85e176fabe0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A9djUziWz1CUwQB9zFsoHg.png"/></div></div></figure><h2 id="cc7a" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated"><strong class="ak">在GitHub上设置CI</strong></h2><p id="1d05" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">转到您想要添加CI管道的GitHub存储库。</p><p id="3b3c" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">转到<strong class="lx iu">操作</strong>并选择<strong class="lx iu">自行设置工作流程</strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/3b8e3e389c88531a6a5590caf161d04c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vgGFX_DQc7xn5jjiBWFYJw.png"/></div></div></figure><p id="db3d" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">它将帮助您创建一个YAML文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/225d572832c9039ef26ea6d8765bbfef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5qXfVG8ZLX1Gk57jPVlwVw.png"/></div></div></figure><p id="80d2" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">在空文件中，粘贴以下代码，并单击<strong class="lx iu">开始提交</strong>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="5a5b" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">关于YAML档案中所写的一些解释:</p><pre class="kj kk kl km gt mz na nb bn nc nd bi"><span id="3744" class="ne la it na b be nf ng l nh ni">name: CI </span></pre><p id="9395" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">此工作流的名称。这是可选的。它将出现在GitHub存储库的<strong class="lx iu">动作</strong>选项卡中。</p><pre class="kj kk kl km gt mz na nb bn nc nd bi"><span id="7711" class="ne la it na b be nf ng l nh ni">runs-on: macos-latest</span></pre><p id="2a90" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">这一行将作业配置为在最新版本的macOS runner上运行。然而，标签<code class="fe nj nk nl na b">macos-latest</code>并不总是最新的版本；目前是macOS 11，但很快就会变成macOS 12。如果你现在想在macOS 12上运行，使用标签<code class="fe nj nk nl na b">macos-12</code>。</p><p id="7cd7" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">要查找可用的跑步者图片，请点击查看<a class="ae ky" href="https://github.com/actions/runner-images" rel="noopener ugc nofollow" target="_blank">。</a></p><pre class="kj kk kl km gt mz na nb bn nc nd bi"><span id="ad8c" class="ne la it na b be nf ng l nh ni">- name: Checkout repository<br/>  uses: actions/checkout@v3</span></pre><p id="0d75" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">该操作将您的存储库签出到runner上，以便您的脚本可以针对您的代码运行。</p><p id="8350" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">GitHub Docs规定:</p><blockquote class="nm nn no"><p id="5039" class="lv lw np lx b ly mo ju ma mb mp jx md nq mq mf mg nr mr mi mj ns ms ml mm mn im bi translated">任何时候，当你的工作流运行在库的代码上时，你都应该使用签出操作。</p></blockquote><pre class="kj kk kl km gt mz na nb bn nc nd bi"><span id="2fac" class="ne la it na b be nf ng l nh ni">- uses: maxim-lobanov/setup-xcode@v1 <br/>  with: <br/>    xcode-version: latest-stable</span></pre><p id="c96f" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">此操作会将配置为使用最新的稳定Xcode版本。</p><p id="8e97" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">您也可以指定使用特定的Xcode版本，如下所示:</p><pre class="kj kk kl km gt mz na nb bn nc nd bi"><span id="07c3" class="ne la it na b be nf ng l nh ni">- uses: maxim-lobanov/setup-xcode@v1 <br/>  with: <br/>    xcode-version: '14.0'</span></pre><pre class="nt mz na nb bn nc nd bi"><span id="a45a" class="ne la it na b be nf ng l nh ni">- name: Build and test <br/>  run: xcodebuild clean build test -project &lt;yourProjectName&gt;.xcodeproj -scheme “&lt;yourScheme&gt;” CODE_SIGN_IDENTITY=”” CODE_SIGNING_REQUIRED=NO</span></pre><p id="5ca3" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">这个脚本清理构建并测试我的项目。</p><p id="4d27" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">如果你想在你的工作空间而不是Xcode项目上运行，用<code class="fe nj nk nl na b">-workspace</code>代替<code class="fe nj nk nl na b">-project</code>。</p><pre class="kj kk kl km gt mz na nb bn nc nd bi"><span id="5cff" class="ne la it na b be nf ng l nh ni">-workspace &lt;yourWorkspaceName&gt;.xcworkspace</span></pre><p id="4141" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">在将脚本部署到GitHub之前，尝试在终端上运行脚本，以确保脚本可以成功运行。这可能需要几秒钟。如果一切顺利，您将看到<strong class="lx iu"> **清理成功** 、**构建成功** 、**测试成功** </strong>分别出现。</p><p id="2bee" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">现在您已经完成了设置。当您推送新的提交时，此处会出现一个图标，显示此提交是否通过所有检查。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/a6d52475edb116cf864825bc13f7c27c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xQAGxV9QO8np1otyNaFPtA.png"/></div></div></figure><p id="2df4" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">转到存储库的<strong class="lx iu">操作</strong>，您可以看到所有工作流运行的状态。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/27c854cf7266bd9167cde708378b490f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oWagTp79TnJR_-sulnF_hw.png"/></div></div></figure><p id="9b47" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">您也可以在运行中检查错误。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/cc0fe246a0c22a0c03245499dc12ff3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jNEh6Rz--aoDgnNncllT2A.png"/></div></div></figure><p id="371e" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">查看构建和测试过程中发生了什么。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/2db2015b867e47c315eea5713dc46b87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6wBT0bXHfgTi-iUUNI7igg.png"/></div></div></figure></div><div class="ab cl nx ny hx nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="im in io ip iq"><h2 id="cce7" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">参考资料:</h2><div class="oe of gp gr og oh"><a href="https://docs.github.com/en/actions/using-workflows/about-workflows" rel="noopener  ugc nofollow" target="_blank"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd iu gy z fp om fr fs on fu fw is bi translated">关于工作流程- GitHub文档</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">工作流是一个可配置的自动化流程，将运行一个或多个作业。工作流由YAML文件定义…</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">docs.github.com</p></div></div><div class="oq l"><div class="or l os ot ou oq ov ks oh"/></div></div></a></div><div class="oe of gp gr og oh"><a href="https://github.com/marketplace/actions/setup-xcode-version" rel="noopener  ugc nofollow" target="_blank"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd iu gy z fp om fr fs on fu fw is bi translated">设置Xcode版本- GitHub市场</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">此操作旨在GitHub操作中在预装版本的Xcode for macOS映像之间切换。列表…</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">github.com</p></div></div><div class="oq l"><div class="ow l os ot ou oq ov ks oh"/></div></div></a></div><div class="oe of gp gr og oh"><a href="https://www.essentialdeveloper.com/articles/s02e21-migrating-to-swift-5-2-and-ci-with-github-actions-professional-ios-engineering-series" rel="noopener  ugc nofollow" target="_blank"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd iu gy z fp om fr fs on fu fw is bi translated">S02E21:使用GitHub Actions迁移到Swift 5.2和CI专业iOS工程系列…</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">在这一集中，我们将测验项目迁移到Swift 5.2和Xcode 11.4.1。我们还将CI服务器迁移到了GitHub…</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">www.essentialdeveloper.com</p></div></div><div class="oq l"><div class="ox l os ot ou oq ov ks oh"/></div></div></a></div><div class="oe of gp gr og oh"><a href="https://engineering.talkdesk.com/test-and-deploy-an-ios-app-with-github-actions-44de9a7dcef6" rel="noopener  ugc nofollow" target="_blank"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd iu gy z fp om fr fs on fu fw is bi translated">使用GitHub操作测试和部署iOS应用程序</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">Github去年夏天公布了Github行动。有了这个新工具，您可以分析、构建、测试和部署您的项目…</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">engineering.talkdesk.com</p></div></div><div class="oq l"><div class="oy l os ot ou oq ov ks oh"/></div></div></a></div><div class="oe of gp gr og oh"><a href="https://developer.apple.com/library/archive/technotes/tn2339/_index.html" rel="noopener  ugc nofollow" target="_blank"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd iu gy z fp om fr fs on fu fw is bi translated">使用Xcode从命令行构建常见问题</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">本文档提供了关于命令行工具的常见问题解答。命令行工具包…</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">developer.apple.com</p></div></div></div></a></div></div><div class="ab cl nx ny hx nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="im in io ip iq"><h1 id="c482" class="oz la it bd lb pa pb pc le pd pe pf lh jz pg ka ll kc ph kd lp kf pi kg lt pj bi translated">分级编码</h1><p id="ed53" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="3e4d" class="pk pl it lx b ly mo mb mp li pm lm pn lq po mn pp pq pr ps bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="3336" class="pk pl it lx b ly pt mb pu li pv lm pw lq px mn pp pq pr ps bi translated">📰更多内容请查看<a class="ae ky" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">升级编码刊物</a></li><li id="71d4" class="pk pl it lx b ly pt mb pu li pv lm pw lq px mn pp pq pr ps bi translated">🔔关注我们:<a class="ae ky" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">推特</a> | <a class="ae ky" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a> | <a class="ae ky" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="f298" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">🚀👉<a class="ae ky" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="lx iu">加入升级人才集体，找到一份神奇的工作</strong> </a></p></div></div>    
</body>
</html>