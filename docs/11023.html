<html>
<head>
<title>Declarations in Go</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Go中的声明</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/declarations-in-go-4dcfeb2606dd?source=collection_archive---------20-----------------------#2022-02-07">https://levelup.gitconnected.com/declarations-in-go-4dcfeb2606dd?source=collection_archive---------20-----------------------#2022-02-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="2689" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一个<em class="ko">声明</em>命名一个程序实体并指定它的一些或全部属性。</p><p id="b5b7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本帖中，我们将讨论Go中的各种<em class="ko">声明</em>。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi kp"><img src="../Images/9f54de5cbc3db02cc76e64a434c6f2dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*qtK5VIN0CjPUg1NNEypisg.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">Go中的各种声明</figcaption></figure><ul class=""><li id="bf97" class="lb lc it js b jt ju jx jy kb ld kf le kj lf kn lg lh li lj bi translated">包装声明</li><li id="82d4" class="lb lc it js b jt lk jx ll kb lm kf ln kj lo kn lg lh li lj bi translated">进口报单</li><li id="4e1a" class="lb lc it js b jt lk jx ll kb lm kf ln kj lo kn lg lh li lj bi translated">变量声明</li><li id="3d03" class="lb lc it js b jt lk jx ll kb lm kf ln kj lo kn lg lh li lj bi translated">常数声明</li><li id="f7c2" class="lb lc it js b jt lk jx ll kb lm kf ln kj lo kn lg lh li lj bi translated">函数声明</li><li id="ad85" class="lb lc it js b jt lk jx ll kb lm kf ln kj lo kn lg lh li lj bi translated">类型声明</li></ul><h1 id="ce27" class="lp lq it bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">包装声明</h1><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/97a01078731f228f8f402cc5a268fc4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:862/format:webp/1*sor5l5VqnPlXUZVtjKLcCw.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">围棋程序的结构</figcaption></figure><p id="f79a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Go程序是包的组合，每个包都有一个或多个文件名以<code class="fe mo mp mq mr b">.go</code>结尾的源文件</p><p id="0330" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在每个源文件中，<strong class="js iu">包声明</strong>告诉我们当前文件属于哪个包。它是位于源文件第一行的必需子句。</p><p id="a9cd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们使用下面的语法来声明一个包。</p><pre class="kq kr ks kt gt ms mr mt mu aw mv bi"><span id="7254" class="mw lq it mr b gy mx my l mz na"><strong class="mr iu">package </strong>&lt;packagename&gt;</span></pre><h1 id="1358" class="lp lq it bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">进口报单</h1><p id="f1e9" class="pw-post-body-paragraph jq jr it js b jt nb jv jw jx nc jz ka kb nd kd ke kf ne kh ki kj nf kl km kn im bi translated">要使用其他包中的标识符，我们必须首先导入它们。这是通过一个名为<em class="ko"> import declaration的构造完成的。</em></p><p id="da17" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">例如</p><pre class="kq kr ks kt gt ms mr mt mu aw mv bi"><span id="c1a8" class="mw lq it mr b gy mx my l mz na">package main</span><span id="6827" class="mw lq it mr b gy ng my l mz na"><strong class="mr iu">import (<br/>    "fmt"<br/>    "math"<br/>)</strong></span><span id="590c" class="mw lq it mr b gy ng my l mz na">func main() {<br/>    fmt.Println(math.<strong class="mr iu">Exp</strong>(0)) // 1<br/>}</span></pre><p id="68e5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">包<code class="fe mo mp mq mr b">math</code>中的函数<code class="fe mo mp mq mr b">Exp</code>用于计算一个数的指数。包<code class="fe mo mp mq mr b">math</code>需要在这个源文件的导入声明部分导入。</p><p id="da1b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">请记住，导入的范围是文件块。导入的标识符只能从整个文件中访问，而不能在整个包中访问。</p><p id="f89a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里有一个关于<em class="ko">进口报关的好帖子。</em>高度<em class="ko"> r </em>建议有个<em class="ko"> </em>样子<em class="ko">。</em></p><div class="nh ni gp gr nj nk"><a href="https://medium.com/golangspec/import-declarations-in-go-8de0fd3ae8ff" rel="noopener follow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd iu gy z fp np fr fs nq fu fw is bi translated">在Go中导入申报</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">Golang中的程序由包组成。通常，一个包依赖于其他包，无论是内置于…</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">medium.com。</p></div></div><div class="nt l"><div class="nu l nv nw nx nt ny kv nk"/></div></div></a></div><h1 id="c1d1" class="lp lq it bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">变量声明</h1><p id="1833" class="pw-post-body-paragraph jq jr it js b jt nb jv jw jx nc jz ka kb nd kd ke kf ne kh ki kj nf kl km kn im bi translated">变量声明具有以下一般形式(带有可选的初始化器)。</p><pre class="kq kr ks kt gt ms mr mt mu aw mv bi"><span id="ebd0" class="mw lq it mr b gy mx my l mz na"><strong class="mr iu">var</strong> &lt;identifier&gt; &lt;type&gt; = &lt;initializer&gt;</span></pre><ul class=""><li id="f45b" class="lb lc it js b jt ju jx jy kb ld kf le kj lf kn lg lh li lj bi translated">&lt;<em class="ko">标识符</em> &gt;:变量的名称</li><li id="b2e8" class="lb lc it js b jt lk jx ll kb lm kf ln kj lo kn lg lh li lj bi translated">&lt;<em class="ko">类型</em>T32】:变量的类型</li><li id="2d40" class="lb lc it js b jt lk jx ll kb lm kf ln kj lo kn lg lh li lj bi translated">&lt;<em class="ko">初始化器</em> &gt;:变量将被初始化的值，可选。</li></ul><p id="4f23" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果没有指定初始值，变量被初始化为该类型的零值。另一方面，如果没有指定类型，变量的类型将从初始化器中推断出来。</p><p id="41a6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">举个例子，</p><pre class="kq kr ks kt gt ms mr mt mu aw mv bi"><span id="6e75" class="mw lq it mr b gy mx my l mz na">var s string<br/>fmt.Println(s)   //  zero value of string is ""</span></pre><p id="e623" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">变量<code class="fe mo mp mq mr b">s</code>的声明没有初始值设定项，这使得它的字符串值为零。</p><p id="56dc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">变量声明的另一种形式，称为<em class="ko">短变量声明</em>，因其简洁和灵活而被广泛使用。这里有一个关于如何正确使用它的好帖子。</p><div class="nh ni gp gr nj nk"><a href="https://blog.learngoprogramming.com/golang-short-variable-declaration-rules-6df88c881ee" rel="noopener  ugc nofollow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd iu gy z fp np fr fs nq fu fw is bi translated">短变量声明规则</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">如何正确使用短变量声明？</h3></div></div><div class="nt l"><div class="nz l nv nw nx nt ny kv nk"/></div></div></a></div><h1 id="c97b" class="lp lq it bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">常数声明</h1><p id="09e2" class="pw-post-body-paragraph jq jr it js b jt nb jv jw jx nc jz ka kb nd kd ke kf ne kh ki kj nf kl km kn im bi translated">const 声明定义了语法上看起来像变量但却是常量的命名值，以防止程序执行过程中的意外(或恶意)变化。</p><p id="9075" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">例如，常数比变量更适合存储像pi这样的数学值，因为不能在运行时编辑它。</p><pre class="kq kr ks kt gt ms mr mt mu aw mv bi"><span id="b55f" class="mw lq it mr b gy mx my l mz na">const pi = 3.14159 // approximately; math.Pi is better</span></pre><h1 id="1773" class="lp lq it bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">函数声明</h1><p id="cd11" class="pw-post-body-paragraph jq jr it js b jt nb jv jw jx nc jz ka kb nd kd ke kf ne kh ki kj nf kl km kn im bi translated">函数声明是声明函数的语句。它由名称标识符、参数列表、可选结果列表和主体组成:</p><pre class="kq kr ks kt gt ms mr mt mu aw mv bi"><span id="a9d1" class="mw lq it mr b gy mx my l mz na">func &lt;identifier&gt;(&lt;parameter-list&gt;) (&lt;result-list&gt;) {<br/>    // body<br/>}</span></pre><ul class=""><li id="23d5" class="lb lc it js b jt ju jx jy kb ld kf le kj lf kn lg lh li lj bi translated"><identifier>:函数的名称</identifier></li><li id="be20" class="lb lc it js b jt lk jx ll kb lm kf ln kj lo kn lg lh li lj bi translated"><parameter-list>:指定函数参数的名称和类型</parameter-list></li><li id="c559" class="lb lc it js b jt lk jx ll kb lm kf ln kj lo kn lg lh li lj bi translated"><result-list>:指定函数返回值的类型</result-list></li><li id="00ef" class="lb lc it js b jt lk jx ll kb lm kf ln kj lo kn lg lh li lj bi translated">:定义功能实现</li></ul><p id="4b3e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下面是一个函数示例。它接收一个<code class="fe mo mp mq mr b">int</code>变量并将其乘以2，然后返回结果。</p><pre class="kq kr ks kt gt ms mr mt mu aw mv bi"><span id="cf23" class="mw lq it mr b gy mx my l mz na"><strong class="mr iu">func</strong> tripleNumber(a int) int {     <br/>    return a * 3<br/>}</span></pre><h1 id="bfd7" class="lp lq it bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">类型声明</h1><p id="3027" class="pw-post-body-paragraph jq jr it js b jt nb jv jw jx nc jz ka kb nd kd ke kf ne kh ki kj nf kl km kn im bi translated">一个类型声明定义了一个名为类型的新<em class="ko">，其基础类型<em class="ko">与现有类型</em>相同。它具有以下形式:</em></p><pre class="kq kr ks kt gt ms mr mt mu aw mv bi"><span id="5368" class="mw lq it mr b gy mx my l mz na">type &lt;identifier&gt; &lt;underlying-type&gt;</span></pre><ul class=""><li id="fbd8" class="lb lc it js b jt ju jx jy kb ld kf le kj lf kn lg lh li lj bi translated"><identifier>:新类型的名称。</identifier></li><li id="f065" class="lb lc it js b jt lk jx ll kb lm kf ln kj lo kn lg lh li lj bi translated"><underlying-type>:新类型所基于的类型。</underlying-type></li></ul><p id="2e0b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们来举个例子。</p><pre class="kq kr ks kt gt ms mr mt mu aw mv bi"><span id="06af" class="mw lq it mr b gy mx my l mz na">package main</span><span id="50f3" class="mw lq it mr b gy ng my l mz na">import (<br/> "fmt"<br/>)</span><span id="c729" class="mw lq it mr b gy ng my l mz na">// Celsius is a temperature in the Celsius scale.<br/>type Celsius float64</span><span id="a26c" class="mw lq it mr b gy ng my l mz na">func (c Celsius) String() string { return fmt.Sprintf("%g°C", c) }</span><span id="104c" class="mw lq it mr b gy ng my l mz na">func CToF(c Celsius) Fahrenheit { return Fahrenheit(c*9/5 + 32) }</span><span id="7df3" class="mw lq it mr b gy ng my l mz na"><br/>// Fahrenheit is a temperature in degrees Fahrenheit.<br/>type Fahrenheit float64</span><span id="47a5" class="mw lq it mr b gy ng my l mz na">func (f Fahrenheit) String() string { return fmt.Sprintf("%g°F", f)}</span><span id="fd8d" class="mw lq it mr b gy ng my l mz na">func FToC(f Fahrenheit) Celsius { return Celsius((f - 32) * 5 / 9) }</span><span id="11a5" class="mw lq it mr b gy ng my l mz na">func main() {</span><span id="4a12" class="mw lq it mr b gy ng my l mz na">    var c Celsius = 40<br/>    var f Fahrenheit = CToF(c)<br/>    fmt.Println(c, f)<br/>}</span></pre><p id="86ed" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在上面的例子中，我们声明了两种类型:摄氏<em class="ko">类型和华氏<em class="ko">类型。</em></em></p><ul class=""><li id="c2ec" class="lb lc it js b jt ju jx jy kb ld kf le kj lf kn lg lh li lj bi translated">尽管它们是不同的类型，但它们都有相同的基础类型，float64。</li><li id="0af4" class="lb lc it js b jt lk jx ll kb lm kf ln kj lo kn lg lh li lj bi translated">它们都实现了string接口，所以我们可以使用函数<code class="fe mo mp mq mr b">fmt.Println</code>以人类可读的格式打印它们。</li><li id="a0d4" class="lb lc it js b jt lk jx ll kb lm kf ln kj lo kn lg lh li lj bi translated">它们都声明了从一种类型转换到另一种类型的函数。</li></ul><p id="2234" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">请记住，命名类型提供了一种方法，可以将基础类型的不同用法(也许是不兼容的用法)分开，这样它们就不会被无意中混合在一起。</p></div><div class="ab cl oa ob hx oc" role="separator"><span class="od bw bk oe of og"/><span class="od bw bk oe of og"/><span class="od bw bk oe of"/></div><div class="im in io ip iq"><p id="da02" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我希望你喜欢读这篇文章😄。</p><p id="53f2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你想支持我☕作为一个作家，考虑注册<a class="ae oh" href="https://jerryan.medium.com/membership" rel="noopener">成为一个媒体成员</a>。你还可以无限制地访问媒体上的每个故事。</p></div></div>    
</body>
</html>