# 当开始一个新的技术项目时，如何为成功做计划

> 原文：<https://levelup.gitconnected.com/how-to-plan-for-success-when-starting-a-new-technical-project-901599161629>

## 你考虑过你需要做的一切了吗？

![](img/d6197cd47e50811f62b39b153f96067b.png)

费德里科·雷斯皮尼在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片

毫无疑问，有机会从头开始构建一个新的服务或存储库是令人兴奋的。然而，工程师们经常被这种兴奋所吸引，忘记了一些基本的步骤。在编写任何代码之前，都有一些重要的决定要做——一开始就做出错误的决定可能会在将来妨碍你。

每个公司的工作方式都是独一无二的，但是下面所有的考虑几乎适用于任何公司——例如，如果你目前没有实践领域驱动设计，现在可能是时候尝试一下，看看它是否能给开发过程带来好处。

# 成功计划

在开始建立一个新项目之前，确保你有一个计划。规划的水平将根据公司的成熟度和项目的复杂程度而变化。一个在数据库中创建或更新记录的简单 API 可能比一个决定贷款申请的服务需要更少的规划。

> “如果你没有计划，你就是在计划失败！”—本杰明·富兰克林

## 主要考虑事项

不管你是一家成熟的公司还是一家初创公司，计划的关键原因是确保你构建的任何东西都符合业务的要求。以下是一些需要考虑的其他事情:

*   新服务如何适应您现有的服务？您需要一个新的服务吗，或者它可以在现有的服务中共存吗？
*   如果新服务是它自己的可部署单元，你的新服务如何与其他服务交互？(例如，通过 API、事件等。)
*   你将如何存储它的数据？(例如关系数据库、文档数据库等。)
*   你打算用什么架构来构建你的代码库？(如[分层架构](https://www.oreilly.com/library/view/software-architecture-patterns/9781491971437/ch01.html)、[洁净架构](https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html)等。)
*   是否有任何可伸缩性、可靠性或安全性方面需要考虑？

# 选择技术组合

不要无缘无故地用一种新奇的语言来编写它，你需要专业知识来维护它，也需要公司里的其他人能够潜在地使用它。

引入新技术有时是正确的选择，但应该有充分的理由(例如，性能或当前堆栈不提供的功能)。

从 [Ruby on Rails](https://rubyonrails.org/) ，到 C#和[。NET Framework](https://dotnet.microsoft.com/learn/dotnet/what-is-dotnet-framework) ，to [React](https://reactjs.org/) 和[Express](https://expressjs.com/)——科技公司有太多的选择，那么你如何选择正确的呢？

## 老牌公司

如果你有一个已经建立的技术栈，你通常会坚持你所知道的——除非你有一个好的理由去改变。

也许您开始遇到性能问题，需要一种支持并发的语言。也许你的前端变得难以使用，像 React 这样的框架会有所帮助。

然而，如果您当前的堆栈很好地服务于您，不要无缘无故地改变到最新的流行语言——您的工程师已经花时间用那个特定的堆栈磨练他们的技能，仅仅为了它而让他们学习一门新语言没有好处。

## 创业公司

如果你刚刚起步，选择一个成熟的、工程师喜欢的、符合你今天的需求的技术栈。

每年，Stack Overflow 都会发布一份开发者调查[,让人们深入了解科技行业的现状。你绝不应该简单地选择最流行或最受欢迎的语言，但这是一个很好的参考点来了解可供你选择的语言。](https://insights.stackoverflow.com/survey/2020#technology)

分析您在中短期内的需求，包括您需要构建的内容和您期望看到的吞吐量，然后做出相应的选择。由于大多数创业公司发展迅速，确保你选择的任何技术都有足够的工程师可供雇佣。

# 测试覆盖率

开始一个全新的项目是确保您拥有全自动测试覆盖的最佳时机。虽然向遗留系统添加测试覆盖可能是一项棘手的任务，但是当开始一个新项目时，确保每个 PR 具有适当的测试覆盖却成为一个容易的习惯。

自动化测试覆盖有很多好处，例如:

*   部署的信心，知道测试将捕捉任何潜在的问题。
*   提高开发速度，因为通常不需要冗长的手工或回归测试。
*   更少的生产缺陷。
*   更短的反馈循环，您可以快速轻松地看到您所做的更改是否破坏了任何东西。

你还需要决定写什么样的测试。你的应用程序是简单的 CRUD API 吗？集成测试可能会提供最合适的覆盖范围。如果你有复杂的业务流程，单元测试将会很重要——首先是因为为所有场景编写集成测试将会很困难，但是单元测试也可以作为优秀的文档，帮助其他工程师准确理解代码中实现了什么。

如果你不确定什么适合你的应用，我建议给[看一下这篇文章](https://www.softwaretestingclass.com/what-is-difference-between-unit-testing-and-integration-testing/#:~:text=Unit%20testing%20is%20a%20type,the%20modules%20are%20working%20together.&text=The%20scope%20of%20Unit%20testing,piece%20of%20code%20under%20test.)。

最后，确保您的测试套件在每一次提交(或者至少每一次 PR)时都是自动化的。编写从不运行的测试，或者只手动运行的测试，是没有用的——它们会很快被遗忘，最终不会带来任何好处。有很棒的工具可以帮你做到这一点，比如 [AWS CodeBuild](https://aws.amazon.com/codebuild/) 或 [CircleCI](https://circleci.com/) 。

# 领域驱动设计

你如何确保每个人都说同一种语言，并且同一种语言在代码库中被表示出来？进入[领域驱动设计](https://en.wikipedia.org/wiki/Domain-driven_design) (DDD)。

虽然不适用于每个用例，但是您应该考虑是否可以从一开始就利用 DDD。如果新服务正在为业务实现一个新的领域，它可能是一个新的有自己语言的[有界上下文](https://martinfowler.com/bliki/BoundedContext.html)。

在其核心，DDD 试图弥合业务(领域)和代码库之间的差距。例如，一个航班比较网站可能将航班和预订作为其[域模型](https://martinfowler.com/eaaCatalog/domainModel.html)的两个核心概念。

DDD 当然是一个复杂的话题，所以如果你有兴趣在你的下一个项目中使用它，我推荐阅读 Eric Evans 关于这个话题的书。

# 反馈

记录决策的常见格式是[架构决策记录](https://adr.github.io/) (ADR)。在文档中，您概述了背景、您考虑的选项和您做出的决定。如果您的组织没有正式流程，也没关系，您仍然可以使用 ADR 模板为您的决策提供一个良好的框架。

一旦写好了，从任何感兴趣的方面寻求反馈是很重要的。我建议从您的团队、任何其他受其影响的团队(例如，如果您的服务与另一个团队的服务通信)以及产品经理等人员那里获得反馈，以确保您的设计满足业务需求。

# 证明文件

您已经做出了如何构建服务的所有决策，甚至已经实现了最初的几个功能，但是将来的人如何理解这些决策，或者知道如何利用这些功能呢？

这就是文档的用处。默认情况下，每个存储库通常会得到一个[自述文件](https://en.wikipedia.org/wiki/README)——确保您使用了它！至少，我会尝试记录:

*   您的服务的名称，以及该服务的职责。
*   如何设置服务(例如安装依赖项)。
*   如何运行自动化测试套件？
*   高层架构，以及它如何与任何其他服务交互
*   如何与服务集成(例如，如何通过 API 进行身份验证)

文档经常被忽略，但将来会为您和您的同事节省时间——我相信您更愿意写代码而不是回答支持查询！

# 摘要

开始一个新项目当然令人兴奋，只要遵循上面的指导，确保最终结果同样令人兴奋。我发现用 Trello 这样的工具写一份清单很有帮助，并且在我做的时候把每一项都标出来。

如果你的组织还没有实现以上任何一项，也许这是一个提出它的机会——例如，成功地引入自动化测试将是一个巨大的胜利。