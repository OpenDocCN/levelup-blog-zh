<html>
<head>
<title>Introducing a new Flutter widget animator</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">介绍一个新的Flutter widget动画师</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/introducing-a-new-flutter-widget-animator-b499c1a98ee5?source=collection_archive---------5-----------------------#2020-11-18">https://levelup.gitconnected.com/introducing-a-new-flutter-widget-animator-b499c1a98ee5?source=collection_archive---------5-----------------------#2020-11-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2c1f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">最后的小部件源代码。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/6cd2d12420aec95353e0877bbf78130c.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/1*Cs3002L5vOszIoJVp3WITA.gif"/></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk translated"><a class="ae kr" href="https://github.com/Ezaldeen99/flutter_circular_animator" rel="noopener ugc nofollow" target="_blank">颤振_圆形_动画制作</a></figcaption></figure><p id="ce30" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">我在Lottie上看到了这个动画，并决定将其转换为一个新的flutter animations小部件，所以让我们看看如何做。</p><p id="21c1" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">在开始阅读本文之前，如果你有使用flutter<a class="ae kr" href="https://api.flutter.dev/flutter/widgets/CustomPaint-class.html" rel="noopener ugc nofollow" target="_blank"><strong class="ku ir">custom paint</strong></a><strong class="ku ir"/>的经验，请跳到文章的第二部分(弧线)。</p><h1 id="f80b" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">让我们从画两个圆开始</h1><p id="1e38" class="pw-post-body-paragraph ks kt iq ku b kv mg jr kx ky mh ju la lb mi ld le lf mj lh li lj mk ll lm ln ij bi translated">要画一个圆，我们必须创建一个<strong class="ku ir"> CustomPainter </strong>类。下面是一个画圆的例子:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="6a2a" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">为外圆制作另一个<strong class="ku ir"> CustomPainter </strong>，现在使用相同的代码。</p><p id="7021" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">如果您想查看您的<strong class="ku ir"> CustomPainter </strong>结果，您可以这样使用它。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="31f6" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">现在我们可以使用一个堆栈来得到这样的结果:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="e4c8" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">您应该会得到这样的结果:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi mn"><img src="../Images/ab9b939cf19a9ff9f10cc1ded57e9dd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WUTCDufhAejImZH3uStnvw.png"/></div></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk translated"><a class="ae kr" href="https://github.com/Ezaldeen99/flutter_circular_animator" rel="noopener ugc nofollow" target="_blank">颤动_圆形_动画制作</a></figcaption></figure><h1 id="97fd" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated"><strong class="ak">圆弧</strong></h1><p id="0509" class="pw-post-body-paragraph ks kt iq ku b kv mg jr kx ky mh ju la lb mi ld le lf mj lh li lj mk ll lm ln ij bi translated">为了给我们的旋转图标腾出空间，我们必须把我们的圆分成几个弧</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi mn"><img src="../Images/bdb3b81b71b7a21120eba90992f80411.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z7Xvk-kv_3c-DCsohV9TRA.png"/></div></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk translated"><a class="ae kr" href="https://github.com/Ezaldeen99/flutter_circular_animator" rel="noopener ugc nofollow" target="_blank">颤动_圆形_动画制作</a></figcaption></figure><p id="d276" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">我们可以控制我们在第一步中已经用来画圆的每个圆弧的起点和终点。</p><p id="9a21" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">这是一个简单的例子，演示了如何将一个圆分割成两个圆弧。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ml mm l"/></div></figure><h1 id="c979" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">动画片</h1><p id="086a" class="pw-post-body-paragraph ks kt iq ku b kv mg jr kx ky mh ju la lb mi ld le lf mj lh li lj mk ll lm ln ij bi translated">为了制作旋转动画，我们可以使用颤动动画来制作曲线线性动画。您可以在小部件initState()中创建圆形动画，如下所示。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="99cb" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">你可以看到我们使用了<strong class="ku ir">反转动画</strong>让第二个圆反向旋转第一个方向</p><p id="2378" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">现在您必须添加几行代码来将这些动画应用到您的<strong class="ku ir"> CustomPainter </strong>类中</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="397c" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">现在你可以看到围绕你的部件旋转的圆环，困难的部分已经完成了(不是真的😂)</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ms mm l"/></div></figure><h1 id="c620" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated"><strong class="ak">绘图图标</strong></h1><blockquote class="mt"><p id="37b9" class="mu mv iq bd mw mx my mz na nb nc ln dk translated">坚持住，我们快到了，不要放弃</p></blockquote><p id="6f29" class="pw-post-body-paragraph ks kt iq ku b kv nd jr kx ky ne ju la lb nf ld le lf ng lh li lj nh ll lm ln ij bi translated">这对我来说是最难的部分，主要的挑战是跟踪两条弧线之间空间的X，Y坐标，以便在那里绘制图标。我从最简单的形状开始，比如十字形、圆形、椭圆形以及介于十字形和圆形之间的形状。</p><p id="90d9" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">以下是我在空白处画一些图标的方法:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="4f39" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">最后，你可以看到一些动画围绕着你的小部件旋转</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi mn"><img src="../Images/d8abe5e849d4450e7d26f13f983db5f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QmUSA1-Eg3oFxs4PIgfFxg.png"/></div></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk translated"><a class="ae kr" href="https://github.com/Ezaldeen99/flutter_circular_animator" rel="noopener ugc nofollow" target="_blank">颤振_圆形_动画制作</a></figcaption></figure><p id="d219" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">您可以从这里直接在您的应用程序中使用它:</p><div class="ni nj gp gr nk nl"><a href="https://pub.dev/packages/widget_circular_animator" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd ir gy z fp nq fr fs nr fu fw ip bi translated">widget _ circular _ animator | Flutter包</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">这个lottie动画启发了一个新的Flutter widget动画师。[https://lottiefiles.com/3619-profile]小部件…</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">公共开发</p></div></div><div class="nu l"><div class="nv l nw nx ny nu nz kl nl"/></div></div></a></div><p id="6029" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">你可以在这里看到这个小部件的完整源代码，还有一个演示应用程序<a class="ae kr" href="https://github.com/Ezaldeen99/flutter_circular_animator" rel="noopener ugc nofollow" target="_blank">在这里</a></p><p id="9484" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">【github.com】ezaldeen 99/Flutter _ circular _ animator:一个预建的Flutter circular animator可以适合你的新剖面图或者你的任何其他部件(T3)</p><p id="9087" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">我希望你喜欢它，不久你会在这里看到更多的动画。</p></div></div>    
</body>
</html>