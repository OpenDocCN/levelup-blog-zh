<html>
<head>
<title>Stock Market Analysis Using Python Pandas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python熊猫进行股票市场分析</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/stock-market-analysis-using-python-pandas-ec278f76e217?source=collection_archive---------1-----------------------#2021-12-19">https://levelup.gitconnected.com/stock-market-analysis-using-python-pandas-ec278f76e217?source=collection_archive---------1-----------------------#2021-12-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="d73f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Python pandas是数据科学家工具箱中最重要的工具之一。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/ac25c85615574361f7b064a2063d7477.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8QpMpCoG48LOav6-o4MsTA.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">来源:尼古拉斯·卡佩罗，Unsplash.com</figcaption></figure><p id="6612" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们指的是用于表格分析的框架。该名称源自“面板数据”，这是一个与多维结构化数据集密切相关的术语。</p><p id="1f9c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我为熊猫想到了一个有趣的用例，那就是股票市场分析。</p><p id="a72c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们想分析我最喜欢的5家汽车制造商的股票价格，看看我们能用熊猫做些什么有趣又酷的事情。</p><h1 id="3f8f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">设置我们的环境</h1><p id="ffe0" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">在开始任何项目之前，准备好我们的工具箱是很重要的，这主要是设置环境。</p><p id="0053" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将创建一个文件夹，命名为“analyzing _ Stock _ Prices ”,作为管理员打开Anaconda提示符，将cd放入文件夹“analyzing _ Stock _ Prices ”,然后打开Jupyter笔记本。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi me"><img src="../Images/513a4e1520211e8bcd35cc0c1491308f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*kyyOgEwyu35hpbgHUmz-Ng.jpeg"/></div></figure><p id="a769" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">选择New和Python 3 (Ipykernel)并准备好你的Jupyter笔记本。</p><h1 id="8d77" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">从雅虎财经获取实时数据</h1><p id="70f6" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">我们将使用<a class="ae mf" href="https://pandas-datareader.readthedocs.io/en/latest/remote_data.html" rel="noopener ugc nofollow" target="_blank">熊猫数据阅读器</a>，获取实时数据供我们使用和分析。</p><p id="5beb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将从导入pandas数据读取器和日期时间模块开始，我们将使用数据读取器进行远程数据访问，使用日期时间模块指定开始和结束日期时间。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/ebafafed9153d74afbac77232d0d155a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*DHdAe9Lrf8QwXLrsolTXDQ.png"/></div></figure><p id="efcf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，我们需要向DataReader指定我们想要的数据，即开始和结束日期。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/694d63b7a9aed8a182f71234efb8b22a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*SCYqGqc2SfTQgwJ2R7lgWQ.png"/></div></figure><p id="02c3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将使用宝马作为试金石，来测试熊猫阅读器和日期时间模块。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/4d9579207d9309c789d82e520b8cdf71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*CaX6Z0V0irzdQRXLeYsgrQ.png"/></div></figure><p id="7bac" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">上面我们有我们的变量宝马，我们通过调用web将它设置为熊猫数据阅读器。DataReader并传入“宝马。DE“作为宝马的股票名称，我们的来源是雅虎，我们输入我们的开始和结束日期。然后我们打电话给宝马，检查我们的数据。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/904c2af0869b41d8f3943871595198e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*NjyTiPBgcUoO_5FWTRa2KA.jpeg"/></div></figure><p id="c60c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">上面我们有2015年到2021年的重要数据汇总。我们需要第一组结果，我们将使用。head()方法，对于最后一点结果，我们可以使用。tail()方法。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mh"><img src="../Images/26d2d50a76c7469a8dcd8862add46a47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dHqALqlAlBqrHmqmw968LA.png"/></div></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/06b4841356f392d79b1e58d14b3c646f.png" data-original-src="https://miro.medium.com/v2/resize:fit:54/0*mGPlQgil3gKD0znO"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mj"><img src="../Images/c210d280cbcf17e6c887f7a0ecc10b78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RGIme5Y3iYPY-CXLeaETVg.jpeg"/></div></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/fa42c1575fc8e97684ae7031d18ae12d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*rzth9dyAQ_aMm_w9QeqvbQ.png"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ml"><img src="../Images/7c6dfe5c248b537c7a7dd1d979c7487d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*El97lgts_gsO2MzMrKXxng.jpeg"/></div></div></figure><p id="e79c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们想要宝马股票收盘时的数据，也就是2015年到2021年的数据，我们也想把这个数据标绘出来。我们将首先导入matplotlib作为别名plt。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/f69d5bd994132bc219e7b92b706db08c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*un0sabkOsuypHC5x5YIluA.png"/></div></figure><p id="8448" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后我们需要读取收盘股票并使用matplotlib绘制它们。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/d16aed70d5da22d15de8e8c25a265f44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*kHwrUIrEfrhzA9TjVYTTbQ.png"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/29dd3a7a6319f4ae4564be6bdb0cfbc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:120/0*dLfisPVTJg03IcZM"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/58fc5883563f69e7e03c3f567def9e80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1178/format:webp/1*DYcC0rJdtbuLXc6CQfB9Jg.jpeg"/></div></figure><p id="9648" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们的数据看起来更有趣，我们知道财务人员希望看到颜色、标签、更大的形状和交互式数据。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/a3136050fd65d097cbc2726c3d617a0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1114/format:webp/1*cPdJYnooCIH9GMaxlobHZA.png"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi me"><img src="../Images/8455a7059469976eb1847351c8a146bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*ZcWotzG-6e7nk9YWR4hApQ.jpeg"/></div></figure><p id="b287" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们确信我们的环境已经完全设置好了，让我们开始吧。</p><h1 id="f70b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">特斯拉Vs大众Vs宝马Vs戴姆勒Vs福特Vs丰田Vs日产</h1><p id="fb01" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">德国汽车制造商对美国同行对日本汽车制造商。</p><p id="6532" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在开始之前，我们还需要一个名为NumPy的Python库，我们在处理数组和矩阵时会用到它。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/1bf7e2257bd539e88a8ebf747cd82a20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*SOlHlBJwjAXxY6XAYA9Umg.png"/></div></figure><p id="27d8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后我们需要告诉数据阅读器获取我们不同的库存</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/241e2b3e1d5f46fd23939d6b8a7fb140.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/1*SBAi_O3_9FPmGtLbhHbiQQ.png"/></div></figure><p id="c07c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们还可以将股票保存在CSV文件中，以补充我们的Jupyter笔记本。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mk"><img src="../Images/39c1ed614cf40c394c3b58ffa5c93e30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*EBeGIyIsQPsXgVvEQ__oQg.png"/></div></div></figure><p id="0291" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们为不同的汽车制造商命名变量，然后使用。to_csv()方法，并在括号中传递csv文件的标题。然后，我们可以查看名为Analysing _ Stock _ Prices的文件夹。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi me"><img src="../Images/42c95ea4786b2cdf5927adc17b5bfc2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*uTTs77jfNa8yWx2234YSQQ.jpeg"/></div></figure><h1 id="b6da" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">分析开始数据</h1><p id="af6f" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">为了检查起始数据，我们使用。头法，现在给所有我们拉进来的车厂做。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/bc8919b38f2a98eda6d4b0167da2fcf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*ItrwXqNMZnjPyUv0KLWNAA.png"/></div></figure><p id="d6d0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">还有。tail()方法，用于查看底部分段数据，这是最新的数据。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/7f31cad3ab2ab662e47e202b30b31f54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1214/format:webp/1*grUOH-HojEDy1RXYIKFTow.png"/></div></figure><p id="74f0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们希望绘制出汽车制造商在开盘和收盘时的所有数据。</p><p id="23b2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将从“关闭”开始。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/7ff6f6c22503a590f4333d677c40ed3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1214/format:webp/1*NBk65dy7greIliaVeGkX2Q.png"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi me"><img src="../Images/44dc6170a9c4e42142236477afb8d57a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*q0P3mDtKse2G8nBJBGyWvA.jpeg"/></div></figure><p id="40f8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后继续“打开”并画出结果。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/079116fbe2c3fcc638ab54c868ea35a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*FSfJ4BSNoNEN1SqCLOOUnw.png"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi me"><img src="../Images/8ed2ce5d55db6b146f7466a9bbca1e6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*PkNlfs7wjBg77KoPwyyb1w.jpeg"/></div></figure><p id="d8c4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">正如我们从2020年中期的“开放”和“关闭”中看到的那样，特斯拉一直在主导其他汽车制造商，我们可以从蓝色浪潮中看到这一点。让我们继续玩我们的数据，看看特斯拉是否真的占优。</p><p id="c55b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我想看看所有这些股票的交易量。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/ebe664cd98d63acf4f4bddb23b4958b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*xnlivpljqOa9gM4Hw4pZOw.png"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi me"><img src="../Images/ffed75739c9c21a2cde6552cd74d7bf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*d6xuPKNkMMrceJVTz9MKlw.jpeg"/></div></figure><p id="d074" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们来分析一下上面的情节，我们看到特斯拉在2020年中期开始见顶，是什么原因导致了特斯拉股票的暴涨？为此，我们将使用iloc方法。当我们想要使用Pandas在某一点进行索引时，使用iloc方法。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/a3f3f6d04ee9425e819a98f380a6011e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/1*Bl_7f_zn9zg9KtHSUsNSBw.png"/></div></figure><p id="4c57" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，我们希望从2020年年中开始看到特斯拉的“开放”库存，我们只是通过指定图片大小来放大我们的图表。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi me"><img src="../Images/01eee24bebac4c677273e7d65adb564e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*JIvZnyjwU1RN-4JtIJDnbQ.jpeg"/></div></div></figure><p id="5f7c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是我们只想要2020年的更清晰的图像。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/acac5b76a88cb056d115a99bb4a4187d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*026yo_X4KE-NaARrnEbRNw.png"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi me"><img src="../Images/63eb392d56684938331d5759f3aab87c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*4OSJzoFIEzjvCDzMk7VBCw.jpeg"/></div></figure><p id="0cc3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">成交量增加，股价下跌。公司股票下跌，交易量增加。</p><h1 id="441e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">分析市值</h1><p id="b246" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">我们想看看哪家汽车制造商比另一家更有价值。我们不想简单地依赖时间序列数据。</p><p id="6e27" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们目前的数据不能帮助我们分析这一点，但这不会阻止我们使用数学中的技巧来获得这些数据。我们将使用一些基本的数学来得到股票的总单位。</p><p id="83ad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将使用开盘价和交易量，我们的最终目标是得到交易的总金额。</p><p id="bd85" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，我们想为每个汽车制造商的总交易量添加一列。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/004448e495ab83e774f3c1f1944910cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*nv7BNF7ZF2RkDDjzgqvn6w.png"/></div></figure><p id="f9c6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们检查一下日产，特斯拉和大众，如果我们有列增加。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi me"><img src="../Images/d3b8d18de4cb4f631cb272d2ab3c60ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*NZ6pLYDBWBlpPql8THd8Zw.jpeg"/></div></figure><p id="76e1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在让我们画出所有汽车制造商的“总交易量”。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/8d93c8346b50ba9806afcc731db55b83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*vOKyT-poWF2PEEloOmymdQ.png"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi me"><img src="../Images/e7c4f7e958ca216295b53f3d607bb424.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*nTZlpt3h1pDAB-2AMBJ4FQ.jpeg"/></div></figure><p id="5616" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">时间序列图向我们展示了2021年特斯拉的交易总量。所以我们需要那个尖峰的位置。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/41c7b1438acf82703e8a7c8119ea9f67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1214/format:webp/1*xay3gn5U_y_xLnG2xnBOww.png"/></div></figure><p id="95a2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们得到位置1502，并希望iloc位于1502上。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/e2445f949c669c7965e0f5739fb18bb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/1*KKhYgA8sbvQDdRFJ7MLpSg.png"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi me"><img src="../Images/c530d56b034c88169702a479ad9cc640.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*edB-l0KVh7QoguaRSH9YwA.jpeg"/></div></figure><p id="ec75" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">正如我之前说过的，我们不能依赖时间序列表示法，因为它有时会误导人。高峰发生在2020年12月18日<a class="ae mf" href="https://www.reuters.com/business/autos-transportation/tesla-shares-jump-record-high-ahead-sp-500-debut-2020-12-18/#:~:text=Dec%2018%20(Reuters)%20%2D%20Shares,SPX).&amp;text=Tesla's%20shares%20ended%20up%206%25%20at%20a%20record%20%24695." rel="noopener ugc nofollow" target="_blank"/>，非常有趣。</p><h1 id="7c4f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">移动平均数</h1><p id="2026" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">我们想单独阅读每个制造商，因为此时此刻特斯拉似乎正在获胜，但我们需要分析一切，以便做出明智的决定。我们现在只做收尾工作。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/7290dfa10afbe58b83237d35d684325c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*Dj5MICy4M0-UbaIt0khNrA.png"/></div></figure><p id="59f8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">既然我们已经分别画出了每一个，我们想要去掉噪声，使我们的图平滑一点。</p><p id="7ea5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将开始创建另一个新的柱，我们将它称为移动平均线60。60代表我们将要分析的样本，60个日期，两个月的分析是相当公平的。我们可以使用大众作为我们的样本，但在笔记本上，我已经为你们做了所有的汽车制造商。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/e37785c3355427c2c82a2b7ee82cc68a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*qwEpCBygBoXs6Fd3eqTI8Q.png"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi me"><img src="../Images/9784c680469499f91893f28b1101c5db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*Tn8oTs0OSv93HGxgQQxHkg.jpeg"/></div></figure><p id="9d6e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">噪声已经变得平滑了一些，我们可以将移动平均值提高到大约300。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/1982bb1629c25b1b319511dc140e1c34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*UKr_qvgytkkog0uyX0LYTA.png"/></div></figure><p id="32b2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当窗口太大时，我们会错过趋势，最好是将大数据分成小块使用。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi me"><img src="../Images/3d772791c7b45d5e7d897a25e0823e41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*hq-_zcWp6aEg6moB-4O6VA.jpeg"/></div></figure><h1 id="976b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">相关和散布矩阵</h1><p id="3157" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">pandas中有一个框架，允许我们轻松地处理散布矩阵。所以我们会导入它，导入熊猫作为我们的别名pd。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/5839facba395b90c441097e59a930254.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*7zgYJkD6uNPGwL_F6a64eA.png"/></div></figure><p id="2d63" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们想综合所有汽车制造商的收盘价。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/f5091accf45bf8cc1f8a6b1eabb9c2fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*MRIR6EeR_HtBLazjCNcQyA.png"/></div></figure><p id="b3dc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们要命名我们的列。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/3f7685a0b9b01881bb11210b6c7881c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*jjTtiv7hB3HrUu9uQ3N5DQ.png"/></div></figure><p id="aec4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们需要绘制散布矩阵。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/90e948dae2b9cd14322c0f4008043f27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*ikIk_kG-Bhta-j-p4ki1aA.png"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi me"><img src="../Images/beae0fc92014e45cdd41814e0c070d0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*efnLJWkuQwTTX7cigu_Zdw.jpeg"/></div></figure><p id="d4b5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">股票价格可以被视为随机变量，现在分散矩阵可以确定是否有一个或多个变量的线性相关性。因此，它只是向我们展示了不同类型的数据之间的相关性和关系。</p><p id="2fc8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在某种程度上，宝马和日产是相关的，福特和日产也是。线性，直方图，曲线等，我们在某一点寻找类似的图表。</p><p id="a973" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当一个图看起来像一条线时，我们说可能有一些相关性，在一条直线上聚集的点越多，我们说有完美的相关性。</p><p id="835e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当我们有奇怪的曲线和较少的直线时，我们说变量之间的相关性较小(在我们的例子中是汽车制造商)。</p><h1 id="1456" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">蜡烛棒图</h1><p id="5dd7" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">我们现在想变得有点花哨，并绘制蜡烛图，有了这些迷人的图表，我们可以在一个图表中看到开盘价、收盘价、最高价和最低价。</p><p id="0a37" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将从引入mpl_finance库和引入烛台库开始。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi my"><img src="../Images/435d159658cb8b28d832575f326d10ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1208/format:webp/1*qFJyit4h1mOU6dXhReJscQ.png"/></div></figure><p id="acea" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">会有一个警告，只要忽略它并再次运行导入，然后一切都会正常。</p><p id="e3ca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从matplotlib我们将需要以下模块；</p><p id="9165" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">DateFormatter、date2num、WeekdayLocator、dayLocator和lastly Monday。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/e3726551e73260ae01b29ac629831a49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/format:webp/1*kSvc7eAd_2AnDHQdUxmJNg.png"/></div></figure><p id="f69b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们现在将使用丰田作为我们的样本，您可以在我提供的笔记本上完成其余的工作。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/c1a30c18160ad93979e967ca5a13861e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/format:webp/1*ymQiOA9-1V8k3E3jbcD-Cw.png"/></div></figure><p id="7ca1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们只对12月的信息感兴趣，从2021年12月1日到现在。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/8d2a3f65b23fca5fb853971ad87a7ef4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/1*I1bIN_PvwXlFf2esY6CTmw.png"/></div></figure><p id="206a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，我们将创建一个新列，并将其命名为date access(date _ ACC ),我们将应用一个lambda函数将日期转换为数字。我们也会取开盘价的值；</p><p id="8730" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">“访问日期”、“开盘价”、“最高价”、“最低价”、“收盘价”。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/4fc68824b2f76217f78ec7b32d3b9863.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*zwAwTGuPZhI1G3zZn4gWNA.png"/></div></figure><p id="2c5f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">绿色表示获得，红色表示损失。</p><h1 id="4d12" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">每日百分比变化</h1><p id="dd96" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">每日百分比变化可由以下公式表示:</p><p id="33a9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">rt =Pt/Pt-1 -1</p><p id="5ca8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">rt是t时刻的收益</p><p id="5b87" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Pt是T时刻的价格</p><p id="630e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Pt-1是t-1时刻的价格</p><p id="a4a9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">rt值报告的是百分比增益或损失。假设你在t-1日买入股票，在t日卖出，如果你获利了，那么Pt应该比Pt-1大。所以比值应该大于1，所以rt应该是正的。</p><p id="c3e3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">rt的值越大，t的价格越好，但如果你在t-1日买入一只股票，然后以更低的价格卖出，那么我们的比率将小于1，rt将为负。rt值越小，我们经历的损失越多。</p><p id="1131" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这主要用于分析股票的波动性，如果日收益率分布较宽，则股票波动性较大。我们将计算百分比回报，并将它们绘制在柱状图上。</p><p id="1bdd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这些直方图将帮助我们了解哪个更稳定，哪个更不稳定。大多数投资者害怕波动，他们想要稳定。</p><p id="1bfc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将公式表示为代码，使用；</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/87b822e439482296b2c94a97d50d22c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*EEk1miFuPWSgfiDuEoyJAw.png"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi me"><img src="../Images/db3c814d538beb0cc4f6c96661b449ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*hGHCI7Xk3WVmzA1DxpDadA.jpeg"/></div></figure><p id="7590" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第一项有NAN，因为它前面没有任何东西，因此它不能被任何东西整除。让我们为其他人做同样的事情，并在直方图上绘制一切。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mr"><img src="../Images/99ff932d78119553dbb5592eb010e387.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*Qu4PMrQWbG6rn-QmZb0zPw.png"/></div></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi me"><img src="../Images/810dc669c820db98e06b0ae732144dc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*OZvn7J00bEt979uAeRYv3g.jpeg"/></div></figure><p id="2129" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以我们用。hist方法，我们指定想要的箱数。我们的柱状图越厚，股票波动越大。</p><p id="d6df" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">直方图形状的宽度与分布的标准偏差有关。它越高，我们的变量就越多，某个分布的变量与标准差直接相关。它实际上是标准差的平方值，标准差越高，方差越高。股票分析的波动性越大。</p><p id="3594" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们对其他汽车制造商做同样的事情，甚至更好的是，在同一张图上分析他们。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/e45cf7b6ba1b44ca6416537ea799d307.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*gTN1Q_it4Zqz7BQj1yWYfg.png"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi me"><img src="../Images/06b2d90e92ade54e61cd7f6e77267227.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*cH0sq4EDYS29l2CgrGBm3Q.jpeg"/></div></figure><p id="0fef" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一个直方图覆盖了另一个直方图，所以我们可以设置称为alpha的透明度并放大该图。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi me"><img src="../Images/076cdf8f871c9388731f92520abf8f48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*DkbqA5yUMkOD4g2ZHrtuMA.jpeg"/></div></figure><p id="6a52" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">放大的图表显示特斯拉、福特和大众的曲线更宽，因此我们可以看到这些股票比其他股票波动更大。为了平滑这一点，我们将使用KDE(核密度估计)。</p><p id="fc30" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">KDE接受一个直方图，并试图拟合某个内核。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/ed26a6ba9c8f3c94d2c02fa4ebebc143.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*Cpe1sslzmPOZisY4SmlWqQ.png"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi me"><img src="../Images/4e4791dc637d6286a37525cc58952bf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*8m4hD5zeleBj_Ozn9XMjFg.jpeg"/></div></div></figure><p id="55b2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在图中，有些公司比较矮，比如特斯拉，它在柱状图上比较高，但是在KDE上比较矮。我们用的是一个核，它告诉我们一个概率函数。</p><p id="605e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">直方图没有归一化，而KDE是归一化的，每个密度的面积是恒定的，因此这两种方法可以用于比较。我们仍然看到特斯拉，福特和大众仍然更胖，这肯定证实了股票是不稳定的。</p><h1 id="fc26" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">箱线图</h1><p id="999b" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">也是另一个有用的工具，你可以用它来表达信息。我们称之为熊猫盒子法。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/404bbf11f11ae4195cb0ad586a7600ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*N-hdx-yWN-2AAdLshLs8kQ.png"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi me"><img src="../Images/28ce9ea9c375a8ff4d2cac28ae2580bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*A6-pwZm03U_LUY2miQAlIQ.jpeg"/></div></figure><p id="7889" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">特斯拉、丰田和梅赛德斯的每日百分比变化高于其他公司，这意味着这些股票更不稳定。</p><h1 id="affc" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">累积回报</h1><p id="8ef2" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">其公式如下:it = (1 + rt)it-1，这是一个递归公式，因此我们称之为累积回报。</p><p id="dc30" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将“it-1”乘以因子“1+rt”，rt是之前使用的，它被称为每日百分比变化。累积回报是所有投资者都会问的问题的答案。</p><p id="4c8c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在你的时间序列开始时，你向一家汽车制造商投资100美元。这里最重要的问题是它今天值多少钱。所以在2015年，我向宝马投资了100美元，从那时到现在，这一美元让我赚了多少钱？</p><p id="6e15" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们的公式只计算每日回报，不考虑有股息的股票。累计回报是在投资当天计算的，如果累计回报高于1，那么你就在盈利。我们可以使用以下公式来计算:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/659c1191e0a5a896a772c6864334fc63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*qVR8vNq1QW_KfeHUpXa0gw.png"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi me"><img src="../Images/315ae919f031a46ff275ec8012b50251.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*qMBCln5x4YQwPt1XeAJ4gA.jpeg"/></div></figure><p id="8944" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第一个条目始终是1美元，正如您在表格中看到的，这些值接近1，因此累积回报始终与1美元进行比较。那么，哪只股票的1美元投资回报最高呢？显然，图表显示，对于一些公司来说，2015年的1美元在2021年价值25美元。</p><h1 id="038e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">附加阅读</h1><div class="na nb gp gr nc nd"><a href="https://colab.research.google.com/drive/1gSih6aUzJLG39tHh6EZRvDg7FqfJnUc5?usp=sharing" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab fo"><div class="nf ab ng cl cj nh"><h2 class="bd ir gy z fp ni fr fs nj fu fw ip bi translated">谷歌联合实验室</h2><div class="nk l"><h3 class="bd b gy z fp ni fr fs nj fu fw dk translated">编辑描述</h3></div><div class="nl l"><p class="bd b dl z fp ni fr fs nj fu fw dk translated">colab.research.google.com</p></div></div><div class="nm l"><div class="nn l no np nq nm nr kv nd"/></div></div></a></div></div></div>    
</body>
</html>