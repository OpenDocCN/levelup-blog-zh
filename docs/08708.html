<html>
<head>
<title>Giving our player some life… to lose! (Unity 3D)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">给我们的玩家一些生命…去失去！(Unity 3D)</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/giving-our-player-some-life-to-lose-unity-3d-82befbf06853?source=collection_archive---------4-----------------------#2021-05-27">https://levelup.gitconnected.com/giving-our-player-some-life-to-lose-unity-3d-82befbf06853?source=collection_archive---------4-----------------------#2021-05-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="bb67" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">//在此插入邪笑</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/87d39594960eccf53f2ba6102f7c0b1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-g4iKlkIHrSfLtow"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@sigmund?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">西格蒙德</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="2242" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">生活是视频游戏的经典元素之一，但是实现起来有多难呢？今天我们来看看这有多简单。</p><p id="378a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们需要的第一件事是一个容器来容纳我们的玩家拥有的生命数量。我们可以通过玩家脚本中的一个变量来实现这一点。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="dc7b" class="ma mb it lw b gy mc md l me mf">[SerializeField] private int _lives;</span></pre><p id="cb79" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们使用私有变量是因为我们不想让游戏中的其他脚本直接修改生命变量。相反，我们将使用在需要改变时间接更新生命变量的方法。</p><p id="87cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将使用两种方法<strong class="lb iu"> AddLife() </strong>和<strong class="lb iu"> RemoveLife()。</strong>首先我们来看看AddLife():</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="2b9b" class="ma mb it lw b gy mc md l me mf">private void AddLife()<br/>{<br/>    _lives++;<br/>}</span></pre><p id="d2e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后删除Life()</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="cea0" class="ma mb it lw b gy mc md l me mf">private void RemoveLife()<br/>{<br/>    _lives--;<br/>}</span></pre><p id="659f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在你可能会注意到这两个方法都是私有的。那么其他剧本将如何影响生活呢？这就是设计发挥作用的地方。我的设计如下:</p><p id="9848" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> AddLife() </strong> -只有当玩家在游戏中收集一个物体时才会被调用，想想超级马里奥的绿蘑菇吧。当该对象被收集时，它调用AddLife()。</p><p id="abc6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> RemoveLife()- </strong>这个方法只能从游戏中另一个名为<strong class="lb iu"> DamagePlayer(int dmgAmount)的公共方法调用。在破坏方法中，我会根据我制作的游戏做不同的事情。这真的取决于我的球员有健康和生命，或者只是有生命。如果我的玩家只有生命，那么每个伤害源调用带有1点伤害的伤害方法。如果玩家有健康，那么伤害的数量会有所不同，瞬间死亡会造成玩家不应该受到的巨大伤害。损害方法检查玩家的健康等于零，如果等于零，则调用RemoveLife()。</strong></p><p id="944e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，有了防止外部访问的生命变量和一些方法，我们现在有了一个拥有生命的播放器。那现在怎么办？</p><h2 id="6023" class="ma mb it bd mg mh mi dn mj mk ml dp mm li mn mo mp lm mq mr ms lq mt mu mv mw bi translated">玩家反馈</h2><p id="6e2c" class="pw-post-body-paragraph kz la it lb b lc mx ju le lf my jx lh li mz lk ll lm na lo lp lq nb ls lt lu im bi translated">如果玩家有生命，我们需要给他们关于他们当前生命数量的反馈。我们通过生命计数器的UI文本元素来实现这一点。我们的UI脚本有一个名为<strong class="lb iu">UpdateLivesUI(int current lives)</strong>的公共方法，它将更新屏幕显示。这个方法在<strong class="lb iu"> AddLives() </strong>和<strong class="lb iu"> RemoveLives() </strong>中以完全相同的方式被调用，我的使用UIManager的一个实例，但是如果你更喜欢使用GetComponent &lt; &gt;也可以做同样的事情:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="90c4" class="ma mb it lw b gy mc md l me mf">UIManager.Instance.UpdateLivesUI(_lives);</span></pre><p id="8270" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就是这样！差不多吧。你需要添加一些逻辑来处理玩家生命的耗尽，然后你就有了一个功能齐全的生命系统。</p><p id="19aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">久而久之，像生命这样的东西变得越来越不常见，因为开发者在寻找新的方式与玩家互动。作为游戏的支柱之一，把它放在你的后口袋里是件好事。</p></div></div>    
</body>
</html>