<html>
<head>
<title>Dinobot with Computer Vision</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">具有计算机视觉的恐龙机器人</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/dynobot-with-computer-vision-eae8e9cd1b3c?source=collection_archive---------6-----------------------#2020-08-21">https://levelup.gitconnected.com/dynobot-with-computer-vision-eae8e9cd1b3c?source=collection_archive---------6-----------------------#2020-08-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="35a9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">今天让我们玩得开心点！每个人可能都在某个时候使用过Chrome浏览器。许多人知道，如果你没有互联网连接，Chrome将允许你玩恐龙游戏。今天，我们将尝试建立一个机器人来为我们玩这个游戏。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/86b42fca27df26b1d36e456403006c12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-5MUxux-A2g3rDYDent3kA.jpeg"/></div></div></figure><p id="c095" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">方法论</strong></p><p id="7e1a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们要做的是捕捉游戏正在进行的部分屏幕，并对其进行截图。我们会尽快完成。然后我们将把图像转换成像素值的数组。恐龙机器人将分析屏幕上给定部分的像素值，如果它检测到障碍，它将撞击空间并跳过它。</p><p id="b9d2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">设置</strong></p><p id="3cc8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了构建我们的机器人，我们将使用python，因为它为数据解析和计算机视觉提供了各种库。这是我们的恐龙机器人需要的库列表:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi la"><img src="../Images/008530171e501c9fb8567bffd2c36fa3.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*eQJunO_j1fQnYyFj8sEBqA.jpeg"/></div></figure><h1 id="e8ea" class="lb lc it bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">确保所有库都全局安装或安装在您的虚拟环境中。</h1><p id="a7e5" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated"><strong class="js iu">计算机视觉</strong></p><p id="bfc9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在我能看见了！为了赋予机器人看世界的能力，我们将使用一个<strong class="js iu"> mss </strong>库。它将拍摄屏幕的给定部分，并将其保存到。png格式。</p><p id="9792" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在让我们告诉机器人它应该看哪里:</p><pre class="kp kq kr ks gt me mf mg mh aw mi bi"><span id="fb21" class="mj lc it mf b gy mk ml l mm mn">box = {‘top’: 173, ‘left’: -979, ‘width’: 21, ‘height’: 20}</span></pre><p id="4c45" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">左上角是屏幕上的x/y坐标，参数旁边是观察块的大小。</p><p id="597f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">警告</strong> : <strong class="js iu"> <em class="mo">这个坐标适用于我的屏幕，但可能不适用于你的屏幕。所以如果你想使用机器人，你需要确定游戏窗口的坐标。</em>T13】</strong></p><p id="4ace" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是如何拍照片的:</p><pre class="kp kq kr ks gt me mf mg mh aw mi bi"><span id="fc4c" class="mj lc it mf b gy mk ml l mm mn">sct = mss()</span><span id="79a7" class="mj lc it mf b gy mp ml l mm mn">img = sct.grab(box)</span></pre><p id="e3c9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">数据解析</strong></p><p id="475f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当我们有一个图像时，我们将在<strong class="js iu"> numpy </strong>库的帮助下把它变成一个数组。</p><pre class="kp kq kr ks gt me mf mg mh aw mi bi"><span id="f14e" class="mj lc it mf b gy mk ml l mm mn">img = np.array(img)</span></pre><p id="355f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">接下来我们将使用<strong class="js iu"> OpenCV </strong>库去除图像中的噪声，使机器人更容易检测到游戏中的障碍物:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mq"><img src="../Images/0ebc3b2f92b7f642b75e9c28a4a4a4b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0ITP9zojr15098WbNjEjLA.jpeg"/></div></div></figure><p id="3bc2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当我们得到处理过的图像时，我们将再次使用<strong class="js iu"> numpy </strong>来确定图片上是否有非白色像素。Numpy.mean将返回数组元素的平均值。</p><pre class="kp kq kr ks gt me mf mg mh aw mi bi"><span id="188f" class="mj lc it mf b gy mk ml l mm mn">mean = np.mean(processed_image)</span></pre><p id="9fa6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果所有像素都是白色的，那么<strong class="js iu">均值</strong>变量的值将是0.0，如果有一些东西，那么它将不是0.0。这是机器人行为的条件。如果它不等于0.0，那么有一个障碍，机器人应该跳转。</p><p id="3726" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了赋予机器人行动的能力，我们需要让它控制输入设备，在这里是键盘。我们将使用<strong class="js iu"> pyautogui </strong>库来跳过:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/07a6c5c1b5483592b084f43455ae2832.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*1YwxzA1EaRLNvl1n5mtKMQ.jpeg"/></div></figure><p id="ddf6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">恐龙机器人的全部代码:</strong></p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="392b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">成功了</strong></p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mu mt l"/></div></figure><p id="8432" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">结论</strong></p><p id="5c50" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们的机器人并不完美，它最终会失败，因为游戏的速度随着时间的推移而加快，机器人将无法在简单的情况下做出我们想要的反应。在可预见的未来，我们将尝试在机器学习的帮助下让我们的恐龙机器人“有自我意识”，我们将看到当它能够学习时会有多好。</p><p id="e28b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">软件工程很好玩！技术可以让世界变得更加有趣和生动。Python生态系统有很多库，让我们可以非常快速地构建酷员工。</p><p id="3c49" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">不断学习，不断成长！</p><p id="fe28" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们上<a class="ae mv" href="https://www.linkedin.com/in/pavel-ilin/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>连线吧！</p></div></div>    
</body>
</html>