<html>
<head>
<title>How to Convert an Image to ASCII Art with Python in 5 Steps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Python通过5个步骤将图像转换成ASCII艺术</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-convert-an-image-to-ascii-art-with-python-in-5-steps-efbac8996d5e?source=collection_archive---------0-----------------------#2022-08-02">https://levelup.gitconnected.com/how-to-convert-an-image-to-ascii-art-with-python-in-5-steps-efbac8996d5e?source=collection_archive---------0-----------------------#2022-08-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/178cfd2d4231d781a45ac70a875a572e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I9c1m1fD54d6skSWRKS16g.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">拿着我的像素走人！</figcaption></figure><p id="f148" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">在这篇简单明了的文章中，我们将用Python将一幅图像转换成ASCII字符。</p><p id="7c6d" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">如果你是一个寻找新挑战的初级开发人员，这可能是一个很好的练习！</p></div><div class="ab cl ld le hx lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="im in io ip iq"><h2 id="560b" class="lk ll it bd lm ln lo dn lp lq lr dp ls kq lt lu lv ku lw lx ly ky lz ma mb mc bi translated">1.ASCII字符映射表</h2><p id="3f90" class="pw-post-body-paragraph kf kg it kh b ki md kk kl km me ko kp kq mf ks kt ku mg kw kx ky mh la lb lc im bi translated">首先，我们将创建一个包含所有字符的<em class="mi">字符串</em>，用于生成ASCII艺术</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="3b07" class="lk ll it mo b gy ms mt l mu mv">ascii_characters_by_surface = "`^\",:;Il!i~+_-?][}{1)(|\\/tfjrxnuvczXYUJCLQ0OZmwqpdbkhao*#MW&amp;8%B@$"</span></pre><p id="2bdf" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">这些字符是根据它们在渲染时所占据的表面进行排序的。例如，字符“<strong class="kh iu"> ` </strong>”在屏幕上使用最小的表面，而字符“<strong class="kh iu"> $ </strong>”具有最大的面积。</p></div><div class="ab cl ld le hx lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="im in io ip iq"><h2 id="f4e1" class="lk ll it bd lm ln lo dn lp lq lr dp ls kq lt lu lv ku lw lx ly ky lz ma mb mc bi translated">2.计算像素的亮度</h2><p id="b5c3" class="pw-post-body-paragraph kf kg it kh b ki md kk kl km me ko kp kq mf ks kt ku mg kw kx ky mh la lb lc im bi translated">像素将被表示为三个整数的元组，其值在0到255之间，相当于红色、绿色和蓝色值。</p><p id="eb12" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">这些值越高，像素越亮。例如，一个白色像素将被表示为(255，255，255)。</p><p id="88a5" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">因此，我们将对三个整数场求和，以决定像素有多亮。</p><p id="371b" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">这也意味着我们可以获得的像素亮度的最大值将是765——白色像素的亮度<em class="mi"> (255 +255 +255) </em>。</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="f746" class="lk ll it mo b gy ms mt l mu mv">(r, g, b) = pixel<br/>pixel_brightness = r + g + b<br/>max_brightness = 255 * 3</span></pre></div><div class="ab cl ld le hx lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="im in io ip iq"><h2 id="854c" class="lk ll it bd lm ln lo dn lp lq lr dp ls kq lt lu lv ku lw lx ly ky lz ma mb mc bi translated">3.将像素转换为字符</h2><p id="a4e8" class="pw-post-body-paragraph kf kg it kh b ki md kk kl km me ko kp kq mf ks kt ku mg kw kx ky mh la lb lc im bi translated">现在，我们可以将像素转换成ASCII字符。</p><p id="c9a0" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">首先，我们需要计算亮度权重。为此，我们将ASCII字符列表的长度除以最大亮度值。</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="8298" class="lk ll it mo b gy ms mt l mu mv">brightness_weight = len(ascii_characters_by_surface) / max_brightness</span></pre><p id="0f01" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">之后，对于给定的像素，我们可以从ASCII字符列表中找到其对应的索引，如下所示:</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="6253" class="lk ll it mo b gy ms mt l mu mv">index = int(pixel_brightness * brightness_weight) - 1</span></pre><p id="d0a3" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">最后，我们可以通过返回对应于该索引的字符来将像素转换为字符:</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="c692" class="lk ll it mo b gy ms mt l mu mv">return ascii_characters_by_surface[index]</span></pre></div><div class="ab cl ld le hx lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="im in io ip iq"><h2 id="c225" class="lk ll it bd lm ln lo dn lp lq lr dp ls kq lt lu lv ku lw lx ly ky lz ma mb mc bi translated">4.解析图像</h2><p id="e3a9" class="pw-post-body-paragraph kf kg it kh b ki md kk kl km me ko kp kq mf ks kt ku mg kw kx ky mh la lb lc im bi translated">我们将使用<em class="mi"> Pillow </em>模块加载一幅图像，读取它的所有像素，并将它们转换成(r，g，b)元组。</p><p id="0055" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">首先，我们需要导入模块并读取图像:</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="8b97" class="lk ll it mo b gy ms mt l mu mv">from PIL import Image<br/><br/>image = Image.open('image.jpg')<br/>(width, height) = image.size</span></pre><p id="b199" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">之后，我们将遍历所有像素并逐个读取它们:</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="1fef" class="lk ll it mo b gy ms mt l mu mv">for y in range(0, height - 1):<br/>    for x in range(0, width - 1):<br/>        px = image.getpixel((x, y))</span></pre><p id="656c" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们将这些像素映射到相应的ASCII字符，并为图像的每一行创建一个字符串:</p><figure class="mj mk ml mm gt ju"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="4cf0" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">最后，我们将把所有内容写入一个文本文件:</p><figure class="mj mk ml mm gt ju"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="650c" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">让我们在一个代码片段中查看所有代码:</p><figure class="mj mk ml mm gt ju"><div class="bz fp l di"><div class="mw mx l"/></div></figure></div><div class="ab cl ld le hx lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="im in io ip iq"><h2 id="c657" class="lk ll it bd lm ln lo dn lp lq lr dp ls kq lt lu lv ku lw lx ly ky lz ma mb mc bi translated">5.玩得开心！</h2><p id="2a6d" class="pw-post-body-paragraph kf kg it kh b ki md kk kl km me ko kp kq mf ks kt ku mg kw kx ky mh la lb lc im bi translated">在文本编辑器中打开结果文件，缩小以查看更大的图片。</p><p id="b1ab" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">现在，运行应用程序并分享您的最佳结果。</p><div class="mj mk ml mm gt ab cb"><figure class="my ju mz na nb nc nd paragraph-image"><img src="../Images/1effefbb3162ffab7076ba688db001a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1214/format:webp/1*SkSXpy88uqu-7Kr8XU80aA.jpeg"/></figure><figure class="my ju ne na nb nc nd paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><img src="../Images/d7319d2239ab6f90cbd791585caf6263.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/format:webp/1*IDrs83LWqrRwcU3avufNNw.jpeg"/></div></figure></div><figure class="mj mk ml mm gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nf"><img src="../Images/5be517adccfa7a6c00a404d767daba57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r5RxewLqNHpgC4r0GO3jOw.jpeg"/></div></div></figure></div><div class="ab cl ld le hx lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="im in io ip iq"><h1 id="9aa8" class="ng ll it bd lm nh ni nj lp nk nl nm ls nn no np lv nq nr ns ly nt nu nv mb nw bi translated">分级编码</h1><p id="6957" class="pw-post-body-paragraph kf kg it kh b ki md kk kl km me ko kp kq mf ks kt ku mg kw kx ky mh la lb lc im bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="9860" class="nx ny it kh b ki kj km kn kq nz ku oa ky ob lc oc od oe of bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="3364" class="nx ny it kh b ki og km oh kq oi ku oj ky ok lc oc od oe of bi translated">📰查看<a class="ae ol" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">升级编码出版物</a>中的更多内容</li><li id="835d" class="nx ny it kh b ki og km oh kq oi ku oj ky ok lc oc od oe of bi translated">🔔关注我们:<a class="ae ol" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae ol" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae ol" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="3b25" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">🚀👉<a class="ae ol" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kh iu">加入升级达人集体，找到一份惊艳的工作</strong> </a></p></div></div>    
</body>
</html>