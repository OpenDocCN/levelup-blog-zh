<html>
<head>
<title>CSV Parsing in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React中的CSV解析</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/csv-parsing-in-react-8d2a05f844f3?source=collection_archive---------8-----------------------#2021-04-15">https://levelup.gitconnected.com/csv-parsing-in-react-8d2a05f844f3?source=collection_archive---------8-----------------------#2021-04-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="d9ea" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这篇文章包括React、JS、Rails和PapaParse的使用</p><p id="da25" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我目前正在开发一个围绕加密货币和气候的应用程序。它要求我们从不同的加密货币交易所收集用户的加密交易，以便对它们进行分析。我想使用比特币基地的API，因为大多数加密用户都是从他们的产品开始的。比特币基地鼓励用户使用他们的Oauth2认证，而不是他们的API密钥，所以我花了一些时间试图弄清楚这一点。</p><p id="4331" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我通读了一遍文档，查阅了StackOverflow等很多网站，但是都弄不到！首先，我意识到CB网站上提供的一个网址是不正确的！这里的接入令牌<a class="ae kl" href="https://developers.coinbase.com/docs/wallet/coinbase-connect/integrating" rel="noopener ugc nofollow" target="_blank"/>应该是【https://api.coinbase.com/oauth/token】<em class="km"/><em class="km">。</em>我尝试使用Auth0，但无法成功重定向回我的应用程序，也无法使用我的令牌获取数据。我最终搁置了Oauth2，并把目光放在了CSV上传上，因为所有的交易所都允许我们导出CSV格式的交易。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi kn"><img src="../Images/34a88afc5ce6493c8eaedb3b53b318a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hWLtVAQotydQA8g6"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">Pierre Borthiry 在<a class="ae kl" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="4d03" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我正在使用React前端(利用钩子)和Rails后端。我对导入这些CSV文件的最佳方式做了一些研究，最终找到了一个名为<a class="ae kl" href="https://www.npmjs.com/package/react-papaparse" rel="noopener ugc nofollow" target="_blank"> PapaParse </a>的解决方案。安装完解析器后，我导入了组件并利用了大部分起始代码..PapaParse文档很好地解释了这个库，只是做了一些小的改动，把它从类组件变成了钩子。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi ld"><img src="../Images/73dc033169a4babb23a12e283f535129.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QBEiNbzydCHPfAah95NM-g.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">导入CSVReader</figcaption></figure><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi le"><img src="../Images/2e95c9fce2f58b0b42690de9395e6417.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*li5p53bBPhbCFYcrVF8omw.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">用于CSVReader的一些代码</figcaption></figure><p id="efaf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在实现这些元素、更新代码以利用钩子，并在页面上测试我的代码之后，我利用State来保存上传的CSV文件。然后我创建了一个“上传”按钮，它将触发onPost，遍历数据中的每一项。输出的数据有点难以处理，但是通过几个console.logs就变得非常清楚了。在这个for循环中，我用每个数据项的必要字段创建了一个对象，然后将数据发送到后端。这最后三张图片来自for循环，为了清晰起见，我删掉了一些代码。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi lf"><img src="../Images/b1630097014e97c46b0e596778d61a9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UgdbfhvvG1QQ4mmrg9Xi0A.png"/></div></div></figure><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi lg"><img src="../Images/c714963019f6c9b6b4a30a45d662e2aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*2V5MThTscyjZqsU46Sf_CQ.png"/></div></figure><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi lh"><img src="../Images/87471e991a988e1012bced23e27e82ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VygL3t0jvadei5EN8cm5FQ.png"/></div></div></figure><p id="fe53" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里我们有一个新的获取请求发生在每一行数据上。</p><p id="e00b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，我们看到一切都传播到了后端！只要数据结构良好，将其析构并发送到后端就相当简单。我希望这对你有所帮助，如果你有任何问题，请随时联系我们！我希望在不久的将来能有一个解释比特币基地Oauth2的帖子。</p></div><div class="ab cl li lj hu lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ij ik il im in"><div class="ko kp kq kr gt lp"><a href="https://www.npmjs.com/package/react-papaparse" rel="noopener  ugc nofollow" target="_blank"><div class="lq ab fo"><div class="lr ab ls cl cj lt"><h2 class="bd ir gy z fp lu fr fs lv fu fw ip bi translated">react-papaparse</h2><div class="lw l"><h3 class="bd b gy z fp lu fr fs lv fu fw dk translated">React最快的浏览器内CSV(或分隔文本)解析器。它充满了有用的功能，如CSVReader…</h3></div><div class="lx l"><p class="bd b dl z fp lu fr fs lv fu fw dk translated">www.npmjs.com</p></div></div><div class="ly l"><div class="lz l ma mb mc ly md kx lp"/></div></div></a></div></div></div>    
</body>
</html>