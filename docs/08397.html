<html>
<head>
<title>Creating a Score UI Element in Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Unity中创建乐谱UI元素</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/ease-of-building-ui-elements-in-unity-4f501c7e7c5e?source=collection_archive---------0-----------------------#2021-04-28">https://levelup.gitconnected.com/ease-of-building-ui-elements-in-unity-4f501c7e7c5e?source=collection_archive---------0-----------------------#2021-04-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jp jq jr js gh gi paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gh gi jo"><img src="../Images/11c54376c6824f08f762112a73f01f27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*RDWoydY6feUxtaOsBvvqQA.gif"/></div></div></figure><p id="bebf" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">Unity UI是一个用于游戏和应用程序的用户界面开发工具包。这个框架基于游戏对象，游戏对象使用组件和游戏视图来安排、定位和设计用户界面。</p><p id="4ac0" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">在今天的文章中，我们将探讨如何轻松地添加一个UI元素，并将其编写成一个功能齐全的评分系统！</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><h1 id="297d" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">添加乐谱文本</h1><ol class=""><li id="a1b0" class="mc md iq kb b kc me kg mf kk mg ko mh ks mi kw mj mk ml mm bi translated">转到层次结构，右键单击打开下拉菜单。</li></ol><figure class="mo mp mq mr gt js gh gi paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gh gi mn"><img src="../Images/b4021f1ebebd46fbfa5706dee0f25064.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*0U4dFGncCVuQwd5kTN6jfA.gif"/></div></div></figure><p id="934c" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">这为层次结构添加了一个<strong class="kb ir">画布、</strong>文本对象、和一个<strong class="kb ir">事件系统</strong>。画布是我们所有UI元素所在的工作区，所有UI元素，就像我们刚刚添加的文本一样，都是这个主游戏对象的子对象。事件系统是UI可交互的原因。</p><p id="6cc5" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">缩小后，您将能够在底部看到画布和新添加的文本。</p><figure class="mo mp mq mr gt js gh gi paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gh gi ms"><img src="../Images/5d009a32b76e93f3321d7d07d785f935.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*rQOu_zvltrwYrifB3GsC1A.gif"/></div></div></figure><p id="a299" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">2.如有必要，更改文本的颜色和大小，使其更加清晰可见。</p><figure class="mo mp mq mr gt js gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/3ac2e702a0c24a20ad77b54975beca5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1042/1*d8YUYz0cj5e6vsaYMSgJKQ.gif"/></div></figure><p id="3bf7" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">3.定位你的文本:<strong class="kb ir"> </strong>画布的周长代表我们游戏视图屏幕的尺寸。这意味着如果你把文本放在画布的左上角，它也会出现在游戏视图的屏幕左上角。</p><figure class="mo mp mq mr gt js gh gi paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gh gi mu"><img src="../Images/c1cd80462746a8b14c0550a2256cb286.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*I07r8kvIH-oNJcxqGXCJZQ.gif"/></div></div></figure><p id="6091" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">4.锚定文本的位置:如果在调整屏幕大小时，文本没有锚定到特定的位置，那么文本的位置就不会保持不变。当部署到屏幕大小可能不同的不同平台时，锚定文本至关重要。</p><p id="8b2d" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">您可以使用检查器中的<strong class="kb ir">锚定预置</strong>来锚定文本。这允许您选择特定的画布象限或位置来放置文本。然后，您可以根据需要调整位置、宽度和高度。</p><figure class="mo mp mq mr gt js gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/d6cab6f02b6288d4fb877a732202b361.png" data-original-src="https://miro.medium.com/v2/resize:fit:1086/1*lta_gV6ab9NT_nAeAIWhhA.gif"/></div></figure><p id="635d" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">5.根据屏幕大小缩放透视文本:重要的是要记住，无论屏幕大小如何，文本都将保持相同的大小。这可能会导致文本过大或过小，具体取决于它所在的显示器。要确保文本在透视中缩放到屏幕大小，您可以在检查器中设定UI缩放模式。</p><figure class="mo mp mq mr gt js gh gi paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gh gi mw"><img src="../Images/eebf87d89f9e96929d37f91419c81dee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*yLWV3WC_UTuIFkGdY8m5VQ.gif"/></div></div></figure></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><h1 id="1277" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">编写乐谱文本的脚本</h1><p id="c7c9" class="pw-post-body-paragraph jz ka iq kb b kc me ke kf kg mf ki kj kk mx km kn ko my kq kr ks mz ku kv kw ij bi translated">在这一节中，我将向您展示如何编写文本脚本，以便通过代码更新其中的内容。这个例子使用的是2D太空射击游戏，每击败一个敌人就增加10分。</p><ol class=""><li id="af50" class="mc md iq kb b kc kd kg kh kk na ko nb ks nc kw mj mk ml mm bi translated">创建一个脚本来处理UI管理，并将其附加到画布上。我们很快就会用到这个脚本！</li></ol><figure class="mo mp mq mr gt js gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/069ff558eee859b291db25556acd7794.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/1*dpQZrbL4k51EXNQDoyW1kA.gif"/></div></figure><p id="3a3e" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">2.创建一个全局变量来存储分数。我的分数变量位于我的<strong class="kb ir">播放器脚本</strong>中，因为分数被添加到播放器中。</p><figure class="mo mp mq mr gt js gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/53efec3cd33668d299e1af418d169f53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*qXh48kXQat2C__GpfI-RIQ.png"/></div></figure><p id="155d" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">3.增加一个给分数加分的方法。这必须在你的分数变量所在的同一个脚本中。</p><blockquote class="nf ng nh"><p id="029b" class="jz ka ni kb b kc kd ke kf kg kh ki kj nj kl km kn nk kp kq kr nl kt ku kv kw ij bi translated"><strong class="kb ir">注意</strong>:可以直接用一个int值加到分数上。下面的例子使用了一个参数变量，如果需要的话，可以从敌人的脚本中调整来为每种敌人类型分配不同的点值。</p></blockquote><figure class="mo mp mq mr gt js gh gi paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gh gi nm"><img src="../Images/359a501953c80fcbaf892988dec113c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sbz0qXFvNV73-z6F_sK2fw.png"/></div></div></figure><p id="3365" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">4.使用<a class="ae nn" href="https://medium.com/codex/script-communication-in-unity-using-getcomponent-ca4444bfec6" rel="noopener">脚本通信</a>从各自的脚本中访问addScore方法。在我的例子中，我从敌人的脚本中访问这个方法，因为每次敌人被击败时分数都需要更新。括号中的值将是前一变量的<strong class="kb ir">点</strong>。</p><blockquote class="nf ng nh"><p id="ed7c" class="jz ka ni kb b kc kd ke kf kg kh ki kj nj kl km kn nk kp kq kr nl kt ku kv kw ij bi translated"><strong class="kb ir">注意</strong>:在这种情况下，最好检查你通过脚本通信引用的对象或组件是否为空。</p></blockquote><figure class="mo mp mq mr gt js gh gi paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gh gi nm"><img src="../Images/fbd1d368d304b99f01ad1e1b09bc789e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oJTMi3VOtInkOr3dS4fhYw.png"/></div></div></figure><p id="7519" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">5.在UI管理器脚本中，确保将Unity UI库添加到您的，以便您可以通过代码访问和操作文本。</p><figure class="mo mp mq mr gt js gh gi paragraph-image"><div class="gh gi no"><img src="../Images/5b1f3776bc39e562df8b798956116b4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1312/1*QrSaoAOHAkVjZcx_Ln-9Fw.gif"/></div></figure><p id="0663" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">6.使用SerializeField创建一个句柄来引用文本对象，以便从检查器中访问它。将文本对象从层次拖动到新创建的引用。</p><blockquote class="nf ng nh"><p id="55af" class="jz ka ni kb b kc kd ke kf kg kh ki kj nj kl km kn nk kp kq kr nl kt ku kv kw ij bi translated"><strong class="kb ir">注意</strong>:由于您之前已经使Unity UI库可访问，现在您可以创建文本数据类型。这使得在这里添加一个<strong class="kb ir">文本</strong>变量成为可能。</p></blockquote><figure class="mo mp mq mr gt js gh gi paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gh gi np"><img src="../Images/73952b92ff25c55cf04bfe627b4391d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mEJh3vJ5nxcBUvKj3k7d7Q.png"/></div></div></figure><figure class="mo mp mq mr gt js gh gi paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gh gi nq"><img src="../Images/e0e45769273a9bccd8a62fc71c06cbad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*QufG_Un7uq8qNukHHkTQ_w.gif"/></div></div></figure><p id="a67c" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">7.将起始分数设置为0。因为这是使用文本数据类型，所以它实际上会显示在我们的UI上。</p><figure class="mo mp mq mr gt js gh gi paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gh gi nr"><img src="../Images/d4d7a47b0633a6bbf683310f8bb97d69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rA1tW-BOrWBckOE909tYXg.png"/></div></div></figure><p id="f8f0" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">8.在UI管理器脚本中创建一个通过UI文本更新分数的方法。</p><figure class="mo mp mq mr gt js gh gi paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gh gi nr"><img src="../Images/c846631e936c2275794ffea9529b5cf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jjl-IKx6itSSvLBnbGFk4A.png"/></div></div></figure><p id="d05a" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">9.在播放器脚本中(或者在3中添加了addScore方法的相应脚本中)，使用脚本通信来访问updateScore方法。这样做是为了每次分数增加时，它也会反映在我们的UI中。</p><figure class="mo mp mq mr gt js gh gi paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gh gi ns"><img src="../Images/c63d99d72f17ea342ca38b8e245aa524.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G-cCbCtgUWghlNncNxJ_iA.png"/></div></div></figure><p id="c75f" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">现在，你应该有一个全功能的评分系统，将显示在用户界面！</p><figure class="mo mp mq mr gt js gh gi paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gh gi nt"><img src="../Images/d15caf6a458a6f37898b50f06d1486e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/1*y7Zoneu3e2Pftp6WdJMeNg.gif"/></div></div></figure></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="77b1" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">在我的下一篇文章中，我们将看看如何制作一个<a class="ae nn" href="https://medium.com/codex/creating-a-lives-counter-ui-element-in-unity-9d48b485555e" rel="noopener"> UI系统，用实际的精灵图像来跟踪玩家的生活</a>！</p></div></div>    
</body>
</html>