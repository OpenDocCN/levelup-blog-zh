<html>
<head>
<title>Learning C++: Declaring and Initializing Variables</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">学习C++:声明和初始化变量</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/learning-c-declaring-and-initializing-variables-5661c6455b33?source=collection_archive---------19-----------------------#2020-06-29">https://levelup.gitconnected.com/learning-c-declaring-and-initializing-variables-5661c6455b33?source=collection_archive---------19-----------------------#2020-06-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/cb6fcdc8ddcafbc77137b3d3484a6f9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jUsuum7Ao5Po_tyy"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">由<a class="ae kf" href="https://unsplash.com/@kellysikkema?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">凯利·西克玛</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="01f1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">学习如何使用变量是新C++程序员应该学习的第一项技能。关于变量是如何声明(创建)和初始化(给定值)的，你需要知道几件事，我将在本文中涉及这些。</p><h1 id="4168" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">命名变量的规则</h1><p id="a144" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">C++有一些命名变量的规则。第一条规则是变量名必须以字母字符开头。这个字符通常是小写的，因为以大写字母开头的名称是为类名保存的。这是惯例而不是规则，但无论如何你都应该遵守。</p><p id="b60d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在最初的字母字符之后，变量可以包含更多的字母、数字和下划线字符。变量名不能包含符号或空格。</p><p id="da17" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一个C++变量命名约定，但不是规则，是变量名应该有意义。变量名<code class="fe mh mi mj mk b">salary</code>比变量名<code class="fe mh mi mj mk b">s</code>有意义得多。遵循这一约定会使您的程序更容易阅读和调试。</p><h1 id="c744" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">声明没有值的变量</h1><p id="c2cf" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">第一种变量声明类型是创建一个没有值的变量。通过指定变量将保存的数据类型并给变量命名来声明变量。下面是声明变量的语法模板:</p><p id="f339" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ml">数据类型变量名；</em></p><p id="0a96" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是一些例子:</p><pre class="mm mn mo mp gt mq mk mr ms aw mt bi"><span id="7b3d" class="mu lf it mk b gy mv mw l mx my">int salary;<br/>double ratio;<br/>string firstName;<br/>bool flag;</span></pre><p id="f139" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您想要声明同一类型的多个值，您可以将它们放入一个语句中，用逗号分隔变量。以下是在一条语句中声明多个变量的语法模板:</p><p id="e036" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ml">数据类型变量名1，变量名2，变量名3，…；</em></p><p id="167f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">省略号表示列表可以继续。</p><p id="d341" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是一些例子:</p><pre class="mm mn mo mp gt mq mk mr ms aw mt bi"><span id="1880" class="mu lf it mk b gy mv mw l mx my">int grade1, grade2, grade3;<br/>double tax_rate1, tax_rate2;<br/>string firstName, middleName, lastName;</span></pre><h1 id="2916" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">声明和初始化变量</h1><p id="c750" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">有时候你既想声明一个变量，又想给它一个初始值(初始化)。在C++中，有几种方法可以做到这一点。</p><p id="51db" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">声明和初始化变量的第一种方法是在声明语句中给变量赋值。以下是这项技术的语法模板:</p><p id="df6c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ml">数据类型变量名=表达式；</em></p><p id="7d1f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">赋值运算符右侧的表达式可以是文字或其他类型的表达式，如算术或字符串表达式。以下是一些例子:</p><pre class="mm mn mo mp gt mq mk mr ms aw mt bi"><span id="56cf" class="mu lf it mk b gy mv mw l mx my">int salary = 40000;<br/>double ratio = 0.01 * .14;<br/>string aBeatle = "Paul " + "McCartney";<br/>bool flag = false;</span></pre><p id="8e40" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您可以使用这种技术在同一个语句中声明和初始化变量。以下是一些例子:</p><pre class="mm mn mo mp gt mq mk mr ms aw mt bi"><span id="132e" class="mu lf it mk b gy mv mw l mx my">int grade1 = 89+5, grade2 = 77+5, grade3 = 81;<br/>string aBeatle = "John Lennon",<br/>       anotherBeatle = "George Harrison";<br/>bool flag1 = false, flag2 = true;</span></pre><h1 id="f9db" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">可选的声明和初始化方法</h1><p id="ac7c" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">随着C++发展到C++11和更高版本，声明和初始化变量的新方法已经出现。一种方法是使用函数运算符将变量初始化为一个值。例如:</p><pre class="mm mn mo mp gt mq mk mr ms aw mt bi"><span id="64b1" class="mu lf it mk b gy mv mw l mx my">int number(22);<br/>string greeting("Hello.");<br/>double ratio(0.25 * 1.1);</span></pre><p id="75e6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一种初始化方法是使用花括号，就像你在初始化列表中使用的一样，但是用一个值或表达式代替，如下例所示:</p><pre class="mm mn mo mp gt mq mk mr ms aw mt bi"><span id="d03f" class="mu lf it mk b gy mv mw l mx my">int grade1{81};<br/>string address{"1000 W. Scenic"};<br/>double salary{25250.50 * 2};</span></pre><p id="fa53" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当使用初始值设定项时，可以执行扩大转换，但不能执行收缩转换。所以，你可以把一个整数值赋给一个浮点变量，但是你不能把浮点值赋给一个整型变量。这里有两个例子:</p><pre class="mm mn mo mp gt mq mk mr ms aw mt bi"><span id="bf43" class="mu lf it mk b gy mv mw l mx my">double salary {25000}; // allowed<br/>int salary {35250.50}; // not allowed</span></pre><p id="a73e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您选择，可以将赋值运算符用于初始值设定项:</p><pre class="mm mn mo mp gt mq mk mr ms aw mt bi"><span id="4abc" class="mu lf it mk b gy mv mw l mx my">double salary = {25000};</span></pre><h1 id="547a" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">用初始值设定项分配默认值</h1><p id="f2f4" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">如果你给一个变量赋值一个空的初始化器，这个变量将被赋予这个数据类型的默认值。以下是一些例子:</p><pre class="mm mn mo mp gt mq mk mr ms aw mt bi"><span id="f2ee" class="mu lf it mk b gy mv mw l mx my">int number{}; // assigned 0<br/>double ratio{}; // assigned 0.0<br/>string name{}; // assigned the empty string ""<br/>bool flag{}; // assigned 0 or false</span></pre><p id="6126" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从C++11开始，就可以使用初始化器进行变量赋值了。</p><h1 id="6e47" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">使用auto分配数据类型</h1><p id="75bc" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">从C++11开始，您可以使用<code class="fe mh mi mj mk b">auto</code>关键字让编译器自动为变量分配数据类型。它通过检查赋值右边的表达式的类型并将该类型赋给变量来实现这一点。</p><p id="ec1e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这种类型的变量初始化的语法模板是:</p><p id="b76b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ml">汽车变量名=表达式；</em></p><p id="62d8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下程序演示了<code class="fe mh mi mj mk b">auto</code>关键字是如何工作的:</p><pre class="mm mn mo mp gt mq mk mr ms aw mt bi"><span id="5a42" class="mu lf it mk b gy mv mw l mx my">#include &lt;iostream&gt;<br/>#include &lt;typeinfo&gt;<br/>using namespace std;</span><span id="0b8e" class="mu lf it mk b gy mz mw l mx my">int main () {<br/>  auto salary = 38500;<br/>  auto flag = false;<br/>  auto pi = 3.14159;<br/>  cout &lt;&lt; "The data type of salary is: "<br/>       &lt;&lt; typeid(salary).name() &lt;&lt; endl;<br/>  cout &lt;&lt; "The data type of flag is: "<br/>       &lt;&lt; typeid(flag).name() &lt;&lt; endl;<br/>  cout &lt;&lt; "The data type of pi is: "<br/>       &lt;&lt; typeid(pi).name() &lt;&lt; endl;<br/>  return 0;<br/>}</span></pre><p id="1142" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个程序的输出是:</p><pre class="mm mn mo mp gt mq mk mr ms aw mt bi"><span id="e3a3" class="mu lf it mk b gy mv mw l mx my">The data type of salary is: i<br/>The data type of flag is: b<br/>The data type of pi is: d</span></pre><p id="2066" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">其中“I”代表int，“b”代表bool，“d”代表double。</p><p id="70f7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，现在我已经向您展示了如何使用auto，您不应该在我在这里展示的例子中使用它。更好地使用<code class="fe mh mi mj mk b">auto</code>是因为当输入数据类型很麻烦，或者语句非常复杂，直到运行时才能知道数据类型。</p><p id="4007" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">什么时候应该使用<code class="fe mh mi mj mk b">auto</code>的一个例子是当你声明一个迭代器变量，并且不想键入该类型的全名时。</p><h1 id="3ca6" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">变量声明选择</h1><p id="1f51" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">正如您所看到的，有几种选择可以用来声明变量。我让我所有的初学者使用需要赋值操作符的标准方法，尽管当他们进入更高级的课程时，他们可以选择他们最喜欢的方法。你很可能会选择你最习惯的类型，或者是你工作的标准。</p><p id="b04b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">像大多数C++特性一样，选择是多种多样的，但是它们的使用通常取决于你正在编写的程序的类型。</p><p id="4f63" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢您的阅读，请给我发电子邮件提出意见和建议。</p></div></div>    
</body>
</html>