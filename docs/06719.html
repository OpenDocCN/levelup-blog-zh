<html>
<head>
<title>Rosebox: CSS in Typescript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">rosebox:Typescript中的CSS</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/rosebox-css-in-typescript-8534afaa7583?source=collection_archive---------10-----------------------#2020-12-22">https://levelup.gitconnected.com/rosebox-css-in-typescript-8534afaa7583?source=collection_archive---------10-----------------------#2020-12-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="cfc2" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">具有函数、对象和智能感知的样式</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/437799a433917870d26fb6bcee31b48c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XAStjYzuBPNyMbiXiKZhFQ.png"/></div></div></figure><p id="c1d0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Rosebox是一个CSS-in-Typescript库，它提供了诸如强类型(例如，<code class="fe ln lo lp lq b">Angle</code>)、类型化函数(例如，<code class="fe ln lo lp lq b"><a class="ae lr" href="https://www.rosebox.dev/api/#rb-vc-lingrad" rel="noopener ugc nofollow" target="_blank">linearGradient</a></code>)、附加速记属性(例如，<code class="fe ln lo lp lq b"><a class="ae lr" href="https://www.rosebox.dev/api/#rb-prop-marginX" rel="noopener ugc nofollow" target="_blank">marginX</a></code>、<code class="fe ln lo lp lq b"><a class="ae lr" href="https://www.rosebox.dev/api/#rb-prop-paddingX" rel="noopener ugc nofollow" target="_blank">paddingX</a></code>)、一些复杂属性的对象接口(例如，<code class="fe ln lo lp lq b"><a class="ae lr" href="https://www.rosebox.dev/api/#rb-prop-animation" rel="noopener ugc nofollow" target="_blank">animation</a></code>)以及对高质量智能感知的支持等功能。</p><p id="3641" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">它将CSS的数据类型映射到Typescript中。这些数据类型中的一些直接映射到TS的固有类型，如<code class="fe ln lo lp lq b">stringLiteral</code>、<code class="fe ln lo lp lq b">string</code>和<code class="fe ln lo lp lq b">number</code>，而其他的则映射到RB的自定义类型，如<code class="fe ln lo lp lq b">Duration</code>、<code class="fe ln lo lp lq b">TransformFunction</code>和<code class="fe ln lo lp lq b">Length</code>。它的设计和开发着眼于<strong class="kt ir">减少打字错误、更好的自动完成、富于表现力的API和数据操作的简易性</strong>。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="4900" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">1.减少打字和更好的自动完成🤝</h1><p id="9dd5" class="pw-post-body-paragraph kr ks iq kt b ku mr jr kw kx ms ju kz la mt lc ld le mu lg lh li mv lk ll lm ij bi translated">这两者是相辅相成的，就像Knafeh和糖浆一样。在我们的环境中分别讨论每一个问题是一件不可能完成的任务，尽管我尊重你对关注点分离原则的保留。</p><p id="9b0c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您在React中做过开发，那么您很可能使用过类型为<code class="fe ln lo lp lq b">React.CSSProperties</code>的样式对象。让我们对<code class="fe ln lo lp lq b">Rosebox.RBStyle</code>和<code class="fe ln lo lp lq b">React.CSSProperties</code> (v17.0.1)进行型式检查测试:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mw"><img src="../Images/33945b514c06b5fb3cd96f5d13ed1a55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XuKCxWAM5bSdsfT9sPAXEw.png"/></div></div></figure><p id="b397" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">正如您所看到的，在<code class="fe ln lo lp lq b">React.CSSProperties</code>的情况下，类型检查器捕获的唯一类型错误是与<code class="fe ln lo lp lq b">flexDirection</code>相关的错误，本例中的所有其他属性都通过了类型检查。为什么？因为除了<code class="fe ln lo lp lq b">flexDirection</code>之外，它们都有类型<code class="fe ln lo lp lq b">string</code>；全宇宙最欢迎错别字的类型；我把它叫做<em class="mx"/><strong class="kt ir"><em class="mx">错别字</em> </strong>。</p><p id="1bb6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">另一方面，使用<code class="fe ln lo lp lq b">Rosebox.RBStyle</code>，类型检查器捕捉这个例子中所有属性的类型错误。它之所以能够这样做，是因为Rosebox中的属性尽可能地缩小了类型范围。他们只有在万不得已的情况下才会得到<code class="fe ln lo lp lq b">string</code>型。</p><p id="569f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这里有一个通过类型检查的<code class="fe ln lo lp lq b">styleRB</code>版本:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/27fba754195df6a79bfa6e5a4ebd3408.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RObige0CWa5HfOEvMkroZw.png"/></div></div></figure><p id="b726" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这里是<code class="fe ln lo lp lq b">display</code>所有可能值的文档截图:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mz"><img src="../Images/96cc9c68dc21f5417320a24203d7ac7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*5HZzEQWm-AJciRwDPKpZtg.gif"/></div></div></figure><blockquote class="na nb nc"><p id="e658" class="kr ks mx kt b ku kv jr kw kx ky ju kz nd lb lc ld ne lf lg lh nf lj lk ll lm ij bi translated">你不会打错的，不会的，先生！…<em class="iq">RB的手表上没有。</em></p></blockquote></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="3b2d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这就把我们带到了<strong class="kt ir">更好的自动完成</strong>部分，这是RB中强类型化的自然产物，它大量使用<code class="fe ln lo lp lq b">stringLiteral</code>而不是<code class="fe ln lo lp lq b">string,</code>，甚至在元组和数组中也是如此。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mz"><img src="../Images/ed7e799188f687445f7dc86cdae99a51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*aoIQ8UX3dZCePDrhm1VWwg.gif"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mz"><img src="../Images/e39a3459870153df12c3c9d3b62452b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*4bXwb-s47SEtm12rH3joFg.gif"/></div></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="cda5" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">2.表达API</h1><p id="df5c" class="pw-post-body-paragraph kr ks iq kt b ku mr jr kw kx ms ju kz la mt lc ld le mu lg lh li mv lk ll lm ij bi translated">所有基于单位的类型都是作为泛型类型实现的，这些泛型类型采用指定类型单位的类型参数。比如<code class="fe ln lo lp lq b">Duration&lt;'ms'&gt;</code>和<code class="fe ln lo lp lq b">Length&lt;'em'&gt;</code>。当您公开一个API，并且想要清楚地说明您所期望的值的单位时，这就很方便了。考虑以下简单的react组件:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ng"><img src="../Images/b5b790d8c53e548cdfe5b43af581187a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l_8lSYZZZrfzRgX_TXiNTQ.png"/></div></div></figure><p id="dc8b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，如果我们试图通过一个<code class="fe ln lo lp lq b">Duration&lt;'s'&gt;</code>我们会得到一个错误:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nh"><img src="../Images/e66c977c0d3a19d4ba2b47e15fe547b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-IrPKRdixmbkjZTMZ6bdZw.png"/></div></div></figure><p id="2efd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当然，我们并不总是想要强制执行<code class="fe ln lo lp lq b">Duration</code>的某个单元或任何其他基于单元的类型；在这种情况下，我们只需省略类型参数(例如<code class="fe ln lo lp lq b">Duration</code>)。</p><p id="b35f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">整洁，对不对？但这只是RB提供表达性API的一种方式。另一个是为一些复杂的属性如动画提供对象接口:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mz"><img src="../Images/58e823314880e65e112518f19eab8e2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Qq6SzJ2c3ODaFIfhLUDByQ.gif"/></div></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="d50b" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">3.无缝数据操作</h1><p id="7e2c" class="pw-post-body-paragraph kr ks iq kt b ku mr jr kw kx ms ju kz la mt lc ld le mu lg lh li mv lk ll lm ij bi translated">当操作颜色时，我们通常需要在样式中使用它们之前将它们转换成<code class="fe ln lo lp lq b">string</code>值。这里有一个例子:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="e75d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在RB中，使用<code class="fe ln lo lp lq b">@rosebox/colors</code>，您只是处理RB类型并返回RB类型，所以您不需要额外的序列化步骤，这是内部处理的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="b621" class="lz ma iq bd mb mc nk me mf mg nl mi mj jw nm jx ml jz nn ka mn kc no kd mp mq bi translated">相关链接:</h1><p id="9d82" class="pw-post-body-paragraph kr ks iq kt b ku mr jr kw kx ms ju kz la mt lc ld le mu lg lh li mv lk ll lm ij bi translated">github:<a class="ae lr" href="https://github.com/rosebox/rosebox" rel="noopener ugc nofollow" target="_blank">https://github.com/rosebox/rosebox</a></p><p id="ea4b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在React中使用Rosebox:<a class="ae lr" href="https://www.rosebox.dev/docs/how-to-use" rel="noopener ugc nofollow" target="_blank">https://www.rosebox.dev/docs/how-to-use</a></p><p id="e355" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">API:【https://www.rosebox.dev/api/ T21】</p></div></div>    
</body>
</html>