<html>
<head>
<title>Flutter: Stateful Widgets vs Stateless Widgets</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Flutter:有状态窗口小部件与无状态窗口小部件</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/flutter-stateful-widget-vs-stateless-widget-c7baf0a3bbc1?source=collection_archive---------12-----------------------#2020-04-17">https://levelup.gitconnected.com/flutter-stateful-widget-vs-stateless-widget-c7baf0a3bbc1?source=collection_archive---------12-----------------------#2020-04-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="44c7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Flutter是关于小部件的。如果你想开发一个应用程序，你必须首先决定你将使用哪些部件。每个部件都有自己的状态。</p><h2 id="6bfa" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">什么是状态？</h2><p id="b53a" class="pw-post-body-paragraph jn jo iq jp b jq le js jt ju lf jw jx jy lg ka kb kc lh ke kf kg li ki kj kk ij bi translated">状态是在构建小部件时可以同时读取的信息，并且可能在运行时改变，简而言之，我们可以说状态定义了小部件的当前属性。</p><p id="a8e8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">继承有状态小部件的类是不可变的，但是状态是可变的。</p><p id="ecc8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">(<strong class="jp ir">不可变类</strong>是指对象一旦被创建，我们就不能改变它的内容。一个<strong class="jp ir">可变类</strong>是一个在创建后可以改变其内部状态的类。)</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi lj"><img src="../Images/27ed32da015371b830041d3cf94aa112.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/1*gQiRJZJ3O59Hl6A_K4SLHg.png"/></div></div><figcaption class="lv lw gj gh gi lx ly bd b be z dk translated">有状态小部件与无状态小部件</figcaption></figure><h2 id="ccb0" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated"><strong class="ak">实现有状态小部件的步骤？</strong></h2><ol class=""><li id="f2af" class="lz ma iq jp b jq le ju lf jy mb kc mc kg md kk me mf mg mh bi translated">创建一个扩展“StatefulWidget”的类，该类在“createState()”中返回状态</li><li id="3a55" class="lz ma iq jp b jq mi ju mj jy mk kc ml kg mm kk me mf mg mh bi translated">为可能在运行时改变其值的小部件创建一个“状态”类。</li><li id="9b1c" class="lz ma iq jp b jq mi ju mj jy mk kc ml kg mm kk me mf mg mh bi translated">在“State”类中，实现“build()”方法。</li><li id="d457" class="lz ma iq jp b jq mi ju mj jy mk kc ml kg mm kk me mf mg mh bi translated">调用“setState()”函数。“setState()”函数实际上会重画小工具。</li></ol><h2 id="0bc4" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">代码示例:</h2><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/46f6b3334eccf7f46cbdedd369b9f203.png" data-original-src="https://miro.medium.com/v2/resize:fit:1318/format:webp/1*-sBAwG23gPrF5NTF3OX3Kg.png"/></div><figcaption class="lv lw gj gh gi lx ly bd b be z dk translated">StatefulWidget实现</figcaption></figure><h2 id="c677" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">实现无状态小部件的步骤？</h2><ol class=""><li id="dbed" class="lz ma iq jp b jq le ju lf jy mb kc mc kg md kk me mf mg mh bi translated">创建一个扩展“StatelessWidget”的类。</li><li id="4711" class="lz ma iq jp b jq mi ju mj jy mk kc ml kg mm kk me mf mg mh bi translated">为运行时从不改变值的小部件创建一个“build()”方法。</li><li id="a327" class="lz ma iq jp b jq mi ju mj jy mk kc ml kg mm kk me mf mg mh bi translated">“build()”方法返回小部件。</li></ol><h2 id="c739" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">代码示例:</h2><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/7f08842bc73d366ada5c2ad0c877df2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*Mnn45CEMAbCsNqZ1WWnnDw.png"/></div><figcaption class="lv lw gj gh gi lx ly bd b be z dk translated">无状态小部件实现</figcaption></figure><h2 id="38e2" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">完整代码和输出:</h2><pre class="lk ll lm ln gt mp mq mr ms aw mt bi"><span id="5459" class="kl km iq mq b gy mu mv l mw mx">import 'package:flutter/material.dart';<br/><br/>void main() =&gt; runApp(MyApp());<br/><br/>class MyApp extends StatelessWidget {<br/>  // This widget is the root of your application.<br/>  @override<br/>  Widget build(BuildContext context) {<br/>    return MaterialApp(<br/>      debugShowCheckedModeBanner: false,<br/>      title: 'Flutter Demo',<br/>      theme: ThemeData(<br/>        primarySwatch: Colors.<em class="my">blue</em>,<br/>      ),<br/>      home: Home(),<br/>    );<br/>  }<br/>}<br/><br/>class Home extends StatefulWidget {<br/>  @override<br/>  _HomeState createState() =&gt; _HomeState();<br/>}<br/><br/>class _HomeState extends State&lt;Home&gt; {<br/>  String name = "";<br/>  @override<br/>  Widget build(BuildContext context) {<br/>    return SafeArea(<br/>      child: Scaffold(<br/>        appBar: AppBar(<br/>          title: Text("Stateful Widget Vs. Stateless Widget"),<br/>          centerTitle: true,<br/>        ),<br/>        body: Center(<br/>          child: Container(<br/>            width: 300,<br/>            child: Column(<br/>              mainAxisAlignment: MainAxisAlignment.center,<br/>              children: &lt;Widget&gt;[<br/>                TextField(<br/>                  decoration: InputDecoration(<br/>                    border: OutlineInputBorder(),<br/>                    labelText: 'Enter your name',<br/>                  ),<br/>                  onSubmitted: (String str) {<br/>                    setState(() {<br/>                      name = str;<br/>                    });<br/>                  },<br/>                ),<br/>                Text("Hello $name!"),<br/>                Greet(),<br/>              ],<br/>            ),<br/>          ),<br/>        ),<br/>      ),<br/>    );<br/>  }<br/>}<br/><br/>class Greet extends StatelessWidget {<br/>  @override<br/>  Widget build(BuildContext context) {<br/>    return RaisedButton(<br/>      child: Text("Nice to meet you"),<br/>    );<br/>  }<br/>}</span></pre><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/52c59a3a51870407d6a0cdfb63b2e75c.png" data-original-src="https://miro.medium.com/v2/resize:fit:898/format:webp/1*KR_RlsTwHZZz1twwjbURng.png"/></div><figcaption class="lv lw gj gh gi lx ly bd b be z dk translated">最终输出的屏幕截图</figcaption></figure><p id="ff57" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您想参考完整的源代码，请访问:</p><div class="na nb gp gr nc nd"><a href="https://github.com/yogitakumar/firstflutter" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab fo"><div class="nf ab ng cl cj nh"><h2 class="bd ir gy z fp ni fr fs nj fu fw ip bi translated">yogitakumar/firstflutter</h2><div class="nk l"><h3 class="bd b gy z fp ni fr fs nj fu fw dk translated">理解有状态小部件和无状态小部件概念的Fluuter项目GitHub是超过5000万个…</h3></div><div class="nl l"><p class="bd b dl z fp ni fr fs nj fu fw dk translated">github.com</p></div></div><div class="nm l"><div class="nn l no np nq nm nr lt nd"/></div></div></a></div><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi ns"><img src="../Images/8c7f1f8215dc1aaecd1e708e7650e726.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Piks8Tu6xUYpF4DU"/></div></div></figure><p id="e5d4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">👋<a class="ae nt" href="https://faun.dev/join" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">今天就加入农牧之神，每周都会在你的收件箱里收到类似的故事！</strong> </a> <strong class="jp ir"> </strong> ️ <strong class="jp ir">获得每周必读的科技故事、新闻和教程。</strong></p><p id="32cd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">关注我们的</strong> <a class="ae nt" href="https://twitter.com/joinfaun" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">推特</strong> </a> <strong class="jp ir"> </strong>🐦<strong class="jp ir">和</strong> <a class="ae nt" href="https://www.facebook.com/faun.dev/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">脸书</strong> </a> <strong class="jp ir"> </strong>👥<strong class="jp ir">和</strong><a class="ae nt" href="https://instagram.com/fauncommunity/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">insta gram</strong></a><strong class="jp ir"/>📷<strong class="jp ir">并加入我们的</strong> <a class="ae nt" href="https://www.facebook.com/groups/364904580892967/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">脸书</strong> </a> <strong class="jp ir">和</strong><a class="ae nt" href="https://www.linkedin.com/company/faundev" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">Linkedin</strong></a><strong class="jp ir">群</strong>💬</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><a href="https://www.faun.dev/join?utm_source=medium.com/faun&amp;utm_medium=medium&amp;utm_campaign=faunmediumbanner"><div class="gh gi nu"><img src="../Images/736b863229e91a8b7d15e0978302a382.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*_cT0_laE4iPcqW1qrbstAg.gif"/></div></a></figure><h2 id="3062" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">如果这篇文章有帮助，请点击拍手👏按钮下面几下，以示你对作者的支持！⬇</h2></div></div>    
</body>
</html>