<html>
<head>
<title>Writing a Flutter Starter Application for Beginners</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为初学者编写一个Flutter入门应用程序</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/writing-a-flutter-starter-application-for-beginners-f3e2ce591e3e?source=collection_archive---------14-----------------------#2021-02-07">https://levelup.gitconnected.com/writing-a-flutter-starter-application-for-beginners-f3e2ce591e3e?source=collection_archive---------14-----------------------#2021-02-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="437d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在UI中加载远程数据、解析和呈现。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/edf5dc48cdb0bd51c5ff0af036fe1cdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3puFEGIcyYnANJzsznmFOw.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">Vojtech Bruzek 在<a class="ae ky" href="https://unsplash.com/s/photos/mobile?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="7f7d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将编写一个应用程序来加载待办事项列表，并在一个表格中显示它们，如果已经完成，则在待办事项标题文本上划线。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="27a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是我们的远程数据URL:</p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="7648" class="mh mi it md b gy mj mk l ml mm"><a class="ae ky" href="https://jsonplaceholder.typicode.com/todos" rel="noopener ugc nofollow" target="_blank">https://jsonplaceholder.typicode.com/todos</a></span></pre><p id="acfc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它返回如下内容</p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="b5dd" class="mh mi it md b gy mj mk l ml mm">[<br/>  {<br/>    "userId": 1,<br/>    "id": 1,<br/>    "title": "delectus aut autem",<br/>    "completed": false<br/>  },<br/>  {<br/>    "userId": 1,<br/>    "id": 2,<br/>    "title": "quis ut nam facilis et officia qui",<br/>    "completed": false<br/>  },<br/>  {....}<br/>]</span></pre><p id="4783" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是我们激动人心的应用程序的样机设计。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/9fb38f91797a7eee74d6e0d2659d5b70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*IiXz8cVbHqjByJIJGj2qTw.gif"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">我们疯狂的小程序</figcaption></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><blockquote class="mo mp mq"><p id="8621" class="kz la mr lb b lc ld ju le lf lg jx lh ms lj lk ll mt ln lo lp mu lr ls lt lu im bi translated">注意:为了简单起见，我们将尝试main.dart文件中的所有代码，这显然是不推荐的！</p></blockquote></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="948f" class="mv mi it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">基本设置</h1><p id="caa6" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">我们将使用基于<em class="mr">脚手架</em>的设计，其中我们将有一个<em class="mr"> appBar </em>、<em class="mr">主体、</em>和一个<em class="mr">浮动动作按钮</em>。</p><p id="7c2b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">没有花哨的国家管理图书馆。只是香草飘动<em class="mr">设置状态</em>。</p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="6e08" class="mh mi it md b gy mj mk l ml mm">void main() {</span><span id="7f7f" class="mh mi it md b gy nr mk l ml mm">runApp(MaterialApp(<br/> home: Home(),<br/>));</span><span id="4e95" class="mh mi it md b gy nr mk l ml mm">}</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><pre class="mc md me mf aw mg bi"><span id="b497" class="mh mi it md b gy ns nt nu nv nw mk l ml mm">class Home extends StatefulWidget{</span><span id="bb24" class="mh mi it md b gy nr mk l ml mm"> @override<br/> State&lt;StatefulWidget&gt; createState() {<br/>   return _HomeState();<br/> }<br/>}</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6c89" class="mv mi it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">加载数据</h1><p id="8e7d" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">将<em class="mr"> http </em>依赖项添加到您的<em class="mr"> pubspec.yaml </em></p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="067c" class="mh mi it md b gy mj mk l ml mm">http: ^0.12.2</span></pre><p id="8261" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意:VSCode插件<a class="ae ky" href="https://marketplace.visualstudio.com/items?itemName=jeroen-meijer.pubspec-assist" rel="noopener ugc nofollow" target="_blank"> Pubspec Assist </a>有助于轻松添加和更新Dart和Flutter项目的依赖关系。</p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="89c8" class="mh mi it md b gy mj mk l ml mm">import 'package:http/http.dart' as http;</span><span id="6c19" class="mh mi it md b gy nr mk l ml mm">var data = await     http.get("https://jsonplaceholder.typicode.com/todos");</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="1f7d" class="mv mi it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">解析数据并将数据映射到对象</h1><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="71b1" class="mh mi it md b gy mj mk l ml mm">class ToDo {</span><span id="780e" class="mh mi it md b gy nr mk l ml mm">final int userId;<br/>final int id;<br/>final String title;<br/>final bool completed;</span><span id="709f" class="mh mi it md b gy nr mk l ml mm">ToDo(this.userId,this.id, this.title,this.completed);</span><span id="4bc7" class="mh mi it md b gy nr mk l ml mm">ToDo.fromJson(Map&lt;String, dynamic&gt; json)<br/>  : userId = json['userId'],<br/>    id = json['id'],<br/>    completed = json['completed'],<br/>    title = json['title'];<br/>}</span><span id="19fa" class="mh mi it md b gy nr mk l ml mm">// Our toDo class</span></pre><p id="cf46" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在从json响应映射todo的数组</p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="4f80" class="mh mi it md b gy mj mk l ml mm">var data = await  http.get("https://jsonplaceholder.typicode.com/todos");</span><span id="e6f6" class="mh mi it md b gy nr mk l ml mm">Iterable arr = json.decode(data.body);<br/>final todos = List&lt;ToDo&gt;.from(arr.map((e) =&gt; ToDo.fromJson(e)));</span><span id="f712" class="mh mi it md b gy nr mk l ml mm">// todos contain the array of todos</span></pre><p id="2233" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在是渲染数据的时候了。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="45fe" class="mv mi it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">渲染数据</h1><p id="823b" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">这是我们的有状态的<em class="mr"> _HomeState </em>类</p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="72c7" class="mh mi it md b gy mj mk l ml mm">class _HomeState extends State&lt;Home&gt;{</span><span id="7f94" class="mh mi it md b gy nr mk l ml mm">List&lt;ToDo&gt; _toDos =  [];<br/>bool _loading = false;<br/>void _onCliked() async{</span><span id="3638" class="mh mi it md b gy nr mk l ml mm">this.setState(() {<br/> _loading= true;<br/>});</span><span id="5a67" class="mh mi it md b gy nr mk l ml mm">var data = await http.get("https://jsonplaceholder.typicode.com/todos");<br/>Iterable arr = json.decode(data.body);<br/>final todos = List&lt;ToDo&gt;.from(arr.map((e) =&gt; ToDo.fromJson(e)));</span><span id="d2eb" class="mh mi it md b gy nr mk l ml mm">this.setState(() {<br/> _toDos = todos;<br/> _loading = false;<br/>});<br/>}</span><span id="a433" class="mh mi it md b gy nr mk l ml mm">@override<br/>Widget build(BuildContext context) {<br/>return Scaffold(<br/>appBar: AppBar(<br/> title: Text("My Application"),<br/>),<br/>body: Center(<br/>child: _loading ? CircularProgressIndicator(backgroundColor: Colors.blue) : ToDoList(todos: _toDos,)<br/>),<br/>floatingActionButton: FloatingActionButton(<br/>child: Icon(Icons.sync),<br/>onPressed: _onCliked,<br/>),<br/>);<br/>}}</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><pre class="mc md me mf aw mg bi"><span id="d83c" class="mh mi it md b gy ns nt nu nv nw mk l ml mm">class ToDoList extends StatelessWidget{</span><span id="7186" class="mh mi it md b gy nr mk l ml mm">final List&lt;ToDo&gt; todos;<br/>ToDoList({@required this.todos});</span><span id="cc1b" class="mh mi it md b gy nr mk l ml mm">@override<br/>Widget build(BuildContext context) {<br/> return todos.length == 0 ? Text("No data available"):<br/> ListView.separated(<br/> itemBuilder: (context,index){<br/>final item = todos[index];<br/>return ListViewCell(todo: item);<br/>},<br/>separatorBuilder: (context,index){<br/> return SizedBox(<br/>  height: 0.1,<br/>  child: Container(color: Colors.blue,),<br/>);<br/>},<br/>itemCount: todos.length);<br/>}<br/>}</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="62c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以及<em class="mr">细胞</em>细胞<em class="mr">类</em></p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="01f5" class="mh mi it md b gy mj mk l ml mm">class ListViewCell extends StatelessWidget{</span><span id="5188" class="mh mi it md b gy nr mk l ml mm">final ToDo todo;<br/>ListViewCell({@required this.todo});</span><span id="fea7" class="mh mi it md b gy nr mk l ml mm">@override<br/>Widget build(BuildContext context) {<br/> return SizedBox(<br/>  height: 40,<br/>  child: Text(todo.title,textAlign: TextAlign.center,style:  TextStyle(fontWeight: FontWeight.bold,decoration: this.todo.completed? TextDecoration.lineThrough : TextDecoration.none),),<br/>);<br/>}<br/>}</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="cd6d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是完整的代码</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nx ny l"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">完整的代码在这里！</figcaption></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="3d67" class="mh mi it bd mw nz oa dn na ob oc dp ne li od oe ng lm of og ni lq oh oi nk oj bi translated">感谢阅读，我希望你发现这是有用的！</h2></div></div>    
</body>
</html>