<html>
<head>
<title>JavaScript Array.filter()</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript Array.filter()</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/javascript-array-filter-6c6c6585da31?source=collection_archive---------6-----------------------#2020-03-08">https://levelup.gitconnected.com/javascript-array-filter-6c6c6585da31?source=collection_archive---------6-----------------------#2020-03-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/12f8f764e6091f91a41d25a5e5726b65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TqIANFHPQMFQb7ZjcTw5ZA.jpeg"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">韦德·奥斯汀·埃利斯在<a class="ae jg" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><div class=""/><div class=""><h2 id="c382" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">它是什么以及如何使用它？</h2></div><p id="2ab1" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它创建一个新数组，其中包含由提供的函数实现的给定条件下的所有元素。</p><p id="eb71" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">此外，它不会改变应用它的原始数组。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="28b7" class="md me jj lz b gy mf mg l mh mi">let filteredArray = orginalArray.filter(<br/>    callback(element[, index, [array]])[, thisArg]<br/>)</span></pre><p id="3a9b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里，<code class="fe mj mk ml lz b">filteredArray</code>包含了通过测试的所有元素。如果没有元素通过测试，将返回一个空数组。</p><p id="dc90" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe mj mk ml lz b"><strong class="la jk">callback</strong></code>:测试数组各元素的函数。返回<code class="fe mj mk ml lz b">true</code>保持元素，<code class="fe mj mk ml lz b">false</code>否则。</p><p id="db61" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它需要三个参数:</p><p id="550b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe mj mk ml lz b"><strong class="la jk">element</strong></code>:数组的当前元素。</p><p id="3ea2" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe mj mk ml lz b"><strong class="la jk">index | Optional</strong></code>:当前正在处理的元素的索引。</p><p id="ef90" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe mj mk ml lz b"><strong class="la jk">array | Optional</strong></code>:正在应用过滤的原始数组。</p><p id="cb54" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe mj mk ml lz b"><strong class="la jk">thisArg | Optional</strong></code>:执行<code class="fe mj mk ml lz b">callback</code>时用作<code class="fe mj mk ml lz b">this</code>的值。</p><p id="6cfc" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">简单来说:</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="c4fd" class="md me jj lz b gy mf mg l mh mi">var filteredArray = orginalArray.filter(function(arrayItem) {<br/> return condition;<br/>});</span></pre><p id="654e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里，<code class="fe mj mk ml lz b">arrayItem</code> <strong class="la jk"> <em class="mm"> </em> </strong>指的是数组中的当前元素，<code class="fe mj mk ml lz b">filter()</code>根据条件对其进行检查。当我们想要访问对象的属性时，这个语法对对象很有用。</p><h1 id="1fbe" class="mn me jj bd mo mp mq mr ms mt mu mv mw kp mx kq my ks mz kt na kv nb kw nc nd bi translated">例子</h1><h2 id="1d71" class="md me jj bd mo ne nf dn ms ng nh dp mw lh ni nj my ll nk nl na lp nm nn nc no bi translated">简单的例子</h2><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="fa90" class="md me jj lz b gy mf mg l mh mi">var numbers = [1, 5, 8, 11, 14];</span><span id="d407" class="md me jj lz b gy np mg l mh mi">var evenNumber = numbers.filter(function(number) {<br/>  if(number%2 == 0 ) <br/>  {<br/>      console.log(number);<br/>  };<br/>});</span><span id="87e6" class="md me jj lz b gy np mg l mh mi">// 8 14</span></pre><h2 id="84e0" class="md me jj bd mo ne nf dn ms ng nh dp mw lh ni nj my ll nk nl na lp nm nn nc no bi translated">使用对象</h2><p id="3418" class="pw-post-body-paragraph ky kz jj la b lb nq kk ld le nr kn lg lh ns lj lk ll nt ln lo lp nu lr ls lt im bi translated">假设，我们有一个对象列表，我们想根据某些条件或某些属性过滤一些对象。</p><p id="db1f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一种方法是使用循环 的<strong class="la jk"> <em class="mm">手动迭代对象列表，然后根据条件返回过滤后的列表。</em></strong></p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="2f7b" class="md me jj lz b gy mf mg l mh mi">var vehicles = [<br/> {name: "Audi", type: "Car"},<br/> {name: "Mercedes", type: "Car"},<br/> {name: "Ducati", type: "Bike"},<br/> {name: "Harley Davidson", type: "Bike"},<br/>];</span><span id="06cb" class="md me jj lz b gy np mg l mh mi">var carItems = [];</span><span id="dc3a" class="md me jj lz b gy np mg l mh mi">for (var i = 0; i &lt; vehicles.length ; i++) {<br/>    if (vehicles[i].type === "Car") {<br/>        carItems.push(vehicles[i]);<br/>    }<br/>}</span><span id="0d7f" class="md me jj lz b gy np mg l mh mi">console.log(carItems);<br/>// [ { name: 'Audi', type: 'Car' }, { name: 'Mercedes', type: 'Car' } ]</span></pre><p id="fc45" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，使用<code class="fe mj mk ml lz b">array.filter()</code>，我们可以用最少的代码轻松做到这一点。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="0a6d" class="md me jj lz b gy mf mg l mh mi">var vehicles = [<br/> {name: "Audi", type: "Car"},<br/> {name: "Mercedes", type: "Car"},<br/> {name: "Ducati", type: "Bike"},<br/> {name: "Harley Davidson", type: "Bike"},<br/>];</span><span id="3914" class="md me jj lz b gy np mg l mh mi">var carItems =  vehicles.filter(function(vehicle) {<br/> return vehicle.type == "Car";<br/>});</span><span id="1fec" class="md me jj lz b gy np mg l mh mi">console.log(carItems);<br/>// [ { name: 'Audi', type: 'Car' }, { name: 'Mercedes', type: 'Car' } ]</span></pre><h1 id="92df" class="mn me jj bd mo mp mq mr ms mt mu mv mw kp mx kq my ks mz kt na kv nb kw nc nd bi translated">用例</h1><ul class=""><li id="8600" class="nv nw jj la b lb nq le nr lh nx ll ny lp nz lt oa ob oc od bi translated">一般来说，如果我们需要对数组中的每个元素应用任何特定的条件，并基于该条件返回结果，就使用<code class="fe mj mk ml lz b">Array.filter()</code> <strong class="la jk"> <em class="mm"> </em> </strong>。</li><li id="4469" class="nv nw jj la b lb oe le of lh og ll oh lp oi lt oa ob oc od bi translated">我们还可以使用它根据相同的属性从列表中过滤对象。</li><li id="dfe0" class="nv nw jj la b lb oe le of lh og ll oh lp oi lt oa ob oc od bi translated"><strong class="la jk">过滤嵌套数组</strong> —但是，我们必须首先<strong class="la jk"> <em class="mm">减少</em> </strong>数组，然后<strong class="la jk"> <em class="mm">过滤</em> </strong>我们想要的值。</li></ul><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="81d0" class="md me jj lz b gy mf mg l mh mi">const characters = [<br/>    [<br/>        { type : 'Hero', name: "Batman" }, { type : 'Hero', name: "Superman" } ],<br/>    [<br/>        { type : 'Villan', name: "Joker" },{ type : 'Villan', name: "Lex Luthor" } ]<br/>]</span><span id="fec8" class="md me jj lz b gy np mg l mh mi">const villains = characters<br/>                .reduce((characterA , characterB) =&gt; characterA.concat(characterB))<br/>                .filter((obj) =&gt; obj.type === 'Villan');</span><span id="a413" class="md me jj lz b gy np mg l mh mi">console.log(villains)</span><span id="649c" class="md me jj lz b gy np mg l mh mi">// Output --&gt;<br/>[<br/>  { type: 'Villan', name: 'Joker' },<br/>  { type: 'Villan', name: 'Lex Luthor' }<br/>]</span></pre><h1 id="f9d5" class="mn me jj bd mo mp mq mr ms mt mu mv mw kp mx kq my ks mz kt na kv nb kw nc nd bi translated">浏览器支持</h1><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oj"><img src="../Images/276001149d1ed00ff50487f26f23f71a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I5dUzjYpkcBZ1w6bmoEVZg.png"/></div></div></figure><h1 id="0ca3" class="mn me jj bd mo mp mq mr ms mt mu mv mw kp mx kq my ks mz kt na kv nb kw nc nd bi translated">快速小结</h1><ul class=""><li id="9e03" class="nv nw jj la b lb nq le nr lh nx ll ny lp nz lt oa ob oc od bi translated">取一个测试函数。</li><li id="33fa" class="nv nw jj la b lb oe le of lh og ll oh lp oi lt oa ob oc od bi translated">返回包含通过测试的元素的新数组。</li><li id="8412" class="nv nw jj la b lb oe le of lh og ll oh lp oi lt oa ob oc od bi translated">如果没有匹配项，则返回一个空数组。</li><li id="11ae" class="nv nw jj la b lb oe le of lh og ll oh lp oi lt oa ob oc od bi translated">它可以用来代替循环 中的<strong class="la jk"> <em class="mm">来过滤数组，而不是我们自己手动循环数组。</em></strong></li></ul><h2 id="2f94" class="md me jj bd mo ne nf dn ms ng nh dp mw lh ni nj my ll nk nl na lp nm nn nc no bi translated">参考</h2><p id="84b5" class="pw-post-body-paragraph ky kz jj la b lb nq kk ld le nr kn lg lh ns lj lk ll nt ln lo lp nu lr ls lt im bi translated">MDN <br/> Scotch <br/>等各种在线教程。</p></div></div>    
</body>
</html>