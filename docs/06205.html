<html>
<head>
<title>What is the type of NaN?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">南是什么类型的？</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/what-is-the-type-of-nan-8e7d8b5d809?source=collection_archive---------22-----------------------#2020-11-02">https://levelup.gitconnected.com/what-is-the-type-of-nan-8e7d8b5d809?source=collection_archive---------22-----------------------#2020-11-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/ee8d9c471e4f5cdf40a744bf9212255f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gOHjYBLjukp1DmZm.jpg"/></div></div></figure><p id="380e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">不久前，我回答了一个关于堆栈溢出的有趣问题，关于<code class="fe la lb lc ld b">NaN</code>的类型。事实上，如果你在浏览器控制台输入<code class="fe la lb lc ld b">typeof NaN === 'number'</code>，你会得到<code class="fe la lb lc ld b">true</code>。对答案的评论让我意识到这不是JavaScript的另一个怪癖，而是事实上所有实现IEEE浮点运算标准的编程语言的标准特性。</p><p id="0c24" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">例如，在Ruby中，<code class="fe la lb lc ld b">NaN</code>可以是<code class="fe la lb lc ld b">Float</code>或<code class="fe la lb lc ld b">BigDecimal</code>的实例。</p><p id="bb86" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">事实上，如果我们看一下<a class="ae kz" href="https://www.ecma-international.org/ecma-262/10.0/index.html" rel="noopener ugc nofollow" target="_blank"> ECMA-262，第10版</a>，ECMAScript语言规范，<a class="ae kz" href="https://www.ecma-international.org/ecma-262/10.0/index.html#sec-terms-and-definitions-number-type" rel="noopener ugc nofollow" target="_blank">第4.3.21节</a>声明数字类型表示“所有可能的数字值的集合，包括特殊的“非数字”(NaN)值、正无穷大和负无穷大”。在下面的几个小节中，<a class="ae kz" href="https://www.ecma-international.org/ecma-262/10.0/index.html#sec-terms-and-definitions-nan" rel="noopener ugc nofollow" target="_blank">第4.3.24节</a>阐明了NaN是一个“IEEE 754–2008”数值，而不是一个“数值”。</p><p id="dae6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">那么这个IEEE 754标准是什么呢？</strong></p><p id="241b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">首次发表于1985年，其主要目的是提供一种具有浮点数的计算方法，该方法将具有相同的结果，而与处理完成的环境无关，无论该环境是软件、硬件还是两者的混合。除了为计算机编程环境中的浮点运算指定格式和方法，IEEE 754还定义了一组特殊值:<code class="fe la lb lc ld b">0</code> ( <code class="fe la lb lc ld b">-0</code>和<code class="fe la lb lc ld b">+0</code>是不同的值，尽管它们都相等；这里有一篇<a class="ae kz" href="https://2ality.com/2012/03/signedzero.html" rel="noopener ugc nofollow" target="_blank">深入的文章</a>关于JS中的零值、<a class="ae kz" href="https://en.wikipedia.org/wiki/Denormal_number" rel="noopener ugc nofollow" target="_blank">反规格化数</a>、正负<code class="fe la lb lc ld b">Infinity</code>和<code class="fe la lb lc ld b">NaN</code>，标准将其描述为一种不能在计算系统中表示的数字数据类型。事实上，IEEE 754定义了两种类型的<code class="fe la lb lc ld b">NaN</code>——安静的<code class="fe la lb lc ld b">NaN</code> ( <code class="fe la lb lc ld b">qNaN</code>)和发信号的<code class="fe la lb lc ld b">NaN</code> ( <code class="fe la lb lc ld b">sNaN</code>)。两者最重要的区别是<code class="fe la lb lc ld b">sNaN</code>在算术运算中使用时会引发异常而<code class="fe la lb lc ld b">qNaN</code>不会。似乎在JavaScript中所有的<code class="fe la lb lc ld b">NaN</code>都是安静的，至少我找不到任何相反的信息。</p><p id="1e9d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">此外，该标准定义了特殊操作及其结果的有趣列表:</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="li lj l"/></div></figure><p id="3088" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">测试NaN值</strong></p><p id="3608" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">JavaScript没有单一的<code class="fe la lb lc ld b">NaN</code>值，事实上，根据<a class="ae kz" href="https://www.ecma-international.org/ecma-262/10.0/index.html#sec-ecmascript-language-types-number-type" rel="noopener ugc nofollow" target="_blank"> ECMA-262 </a>，IEEE标准有“9007199254740990(即253 - 2)个不同的“非数字”值[...]在ECMAScript中表示为单个特殊NaN值。在一些实现中，外部代码可能能够检测各种非数字值之间的差异，但是这种行为是依赖于实现的；对ECMAScript代码来说，所有NaN值都是无法区分的。</p><p id="63d6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">因为<code class="fe la lb lc ld b">NaN</code>不等于自身(事实上在一些编程语言中，自比较是一种广泛使用的测试<code class="fe la lb lc ld b">NaN</code> s的方法)，我们需要使用一种特殊的<code class="fe la lb lc ld b">Number.isNaN()</code>或<code class="fe la lb lc ld b">isNaN()</code>方法来检测<code class="fe la lb lc ld b">NaN</code> s。两者的区别在于，如果值当前为<code class="fe la lb lc ld b">NaN</code>或<strong class="kd iu">，则<code class="fe la lb lc ld b">isNaN()</code>返回<code class="fe la lb lc ld b">true</code>；如果值当前为<code class="fe la lb lc ld b">NaN</code>，则<code class="fe la lb lc ld b">Number.isNaN()</code>将被强制为数值</strong>后为NaN如果值当前为<code class="fe la lb lc ld b">NaN</code>，则<code class="fe la lb lc ld b">Number.isNaN()</code>仅返回<code class="fe la lb lc ld b">true</code>。一般来说，<code class="fe la lb lc ld b">Number.isNaN()</code>更准确，因为它也检查值的类型是否是数字。<a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN#Testing_against_NaN" rel="noopener ugc nofollow" target="_blank"> MDN </a>有一个关于测试NaN的简单解释。</p><p id="2589" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">将“非数字”值作为一种数字类型是非常不合逻辑的，也许更好的名称应该是“非实数”或类似的名称。然而，在这种情况下，这在JavaScript中并不是一种奇怪的行为，而是一种通用的编程原则。</p><p id="3b13" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">对这篇文章有任何问题/评论或其他类型的反馈吗？请在评论中或在<a class="ae kz" href="https://mobile.twitter.com/Clarity_89" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上告诉我。</p></div><div class="ab cl lk ll hx lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="im in io ip iq"><p id="641a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><em class="lr">原载于https://claritydev.net</em><a class="ae kz" href="https://claritydev.net/blog/what-is-the-type-of-nan/" rel="noopener ugc nofollow" target="_blank"><em class="lr"/></a><em class="lr">。</em></p></div></div>    
</body>
</html>