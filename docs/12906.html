<html>
<head>
<title>Tackling 7 Common PHP Problems With Elegant Solutions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用优雅的解决方案解决7个常见的PHP问题</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/tackling-7-common-php-problems-with-elegant-solutions-b3784f62121d?source=collection_archive---------2-----------------------#2022-07-20">https://levelup.gitconnected.com/tackling-7-common-php-problems-with-elegant-solutions-b3784f62121d?source=collection_archive---------2-----------------------#2022-07-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/5eab1a92128cef86d2673a9d0d5d5684.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*M0ZlsxKk5_F1H2od"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">约翰·施诺布里奇在Unsplash<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">上的照片</a></figcaption></figure><div class=""/><div class=""><h2 id="b276" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">如果您刚刚开始使用PHP并希望提高，这是完美的选择</h2></div><p id="07ef" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当你刚刚开始使用PHP时，你会面临许多问题。其中一些问题比其他问题更常见。为了帮助你开始，我们将讨论你最终会遇到的七个常见的PHP问题，你将学会如何以一种优雅的方式解决这些问题。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h2 id="15a3" class="mb mc jj bd md me mf dn mg mh mi dp mj lh mk ml mm ll mn mo mp lp mq mr ms mt bi translated">1.检查字符串是否包含特定的子字符串</h2><p id="0325" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">一个非常常见的检查是在一个字符串中找到某个子串，对于初学者来说解决方案不是很明显。例如，您可能想知道用户提交的一段文本是否包含单词<em class="mz">“Hello”</em>。</p><p id="5d67" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为此，您可以使用<em class="mz"> strpos </em>功能。函数的作用是:检查子串是否存在于字符串中。如果子串存在，将返回一个整数，它是子串第一次出现的索引。当字符串<em class="mz">中不存在子串时，将返回false </em>。</p><figure class="na nb nc nd gt iv"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="35b8" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在第一个例子中，我们显式地检查<code class="fe ng nh ni nj b">!== false</code>，因为如果子串存在，<em class="mz"> strpos </em>函数将返回一个整数。</p><p id="1b9c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在第二个示例中，我们反转了检查。我们检查文本变量中是否存在某个子串<strong class="la jk">或</strong>。如前所述，如果子串不存在，<em class="mz"> strpos </em>函数将返回false。</p><p id="65f9" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在PHP 8.0中引入了<em class="mz"> str_contains </em>函数。这简化了检查，并使其更具可读性。该函数不同于<em class="mz"> strpos </em>函数，因为<em class="mz"> str_contains </em>只返回一个布尔值。<em class="mz"> str_contains </em>函数是从PHP 8.0开始的方法，因为它不那么麻烦。</p><figure class="na nb nc nd gt iv"><div class="bz fp l di"><div class="ne nf l"/></div></figure></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h2 id="ab02" class="mb mc jj bd md me mf dn mg mh mi dp mj lh mk ml mm ll mn mo mp lp mq mr ms mt bi translated">2.从数组中删除一个或多个值</h2><p id="6b4e" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">从数组中删除一个或多个值是一个常见的编程问题，您会经常遇到。要从数组中删除一个值，我们可以使用<em class="mz"> unset </em>函数。由于<em class="mz">未设置的</em>函数需要需要移除的项目的索引，我们也使用了<em class="mz"> array_search </em>函数。<em class="mz"> array_search </em>函数在数组中搜索一个值，如果成功则返回第一个对应的键。</p><figure class="na nb nc nd gt iv"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="6a95" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，上面的例子有一个限制。它只删除第一次出现的名字<em class="mz"> John </em>。如果在names数组中出现了多个John，那么代码将不起作用。只有当你知道数组中只有一个元素出现时，才使用这个方法移除元素。</p><figure class="na nb nc nd gt iv"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="771a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你想从数组中删除所有的出现，你最好使用<em class="mz"> array_filter </em>函数。<em class="mz"> array_filter </em>函数遍历数组中的每个值，并将它们传递给回调函数。如果回调函数返回<em class="mz"> true </em>，该值将被添加到新的结果数组中。在下面的示例中，如果名称不等于John，则该项将被添加到结果数组中。</p><figure class="na nb nc nd gt iv"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="dbcb" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">另一种从数组中移除值的优雅方式是使用<em class="mz"> array_diff </em>函数。<em class="mz"> array_diff </em>函数返回一个数组，其中包含第一个数组中不存在于任何其他数组中的所有条目——这只是第二个数组，包含John，如下例所示。</p><figure class="na nb nc nd gt iv"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="4747" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如您所见，有几种方法可以解决这个特定的问题。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h2 id="96bf" class="mb mc jj bd md me mf dn mg mh mi dp mj lh mk ml mm ll mn mo mp lp mq mr ms mt bi translated">3.确定foreach循环中的第一次和最后一次迭代</h2><p id="c664" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">当您必须使用foreach循环遍历数组时，您可能需要在循环的第一次或最后一次迭代中做一些不同的事情。</p><p id="35b7" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我经常看到这样的代码，它通过使用在foreach循环之外初始化并在每次迭代中递增的计数器来跟踪迭代次数。你觉得这很熟悉吗？</p><figure class="na nb nc nd gt iv"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="1979" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是你知道有一个更简单更优雅的解决方案吗？</p><figure class="na nb nc nd gt iv"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="bc7c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对于这个常见问题，这是迄今为止最简单、可读性最强的解决方案。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h2 id="7b73" class="mb mc jj bd md me mf dn mg mh mi dp mj lh mk ml mm ll mn mo mp lp mq mr ms mt bi translated">4.将项目移动到数组的末尾</h2><p id="c607" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">要将一个项移动到数组的末尾，我们可以使用第二个数组中的一段代码。要在索引处移动一个项目，我们首先要从数组中移除它。您已经知道可以通过将<em class="mz"> array_search </em>函数与unset函数结合使用来实现这一点。</p><figure class="na nb nc nd gt iv"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="3602" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在我们已经从数组中移除了该项，我们必须将它添加到数组的末尾。为此，我们必须使用<em class="mz"> array_push </em>函数。</p><figure class="na nb nc nd gt iv"><div class="bz fp l di"><div class="ne nf l"/></div></figure></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h2 id="72c0" class="mb mc jj bd md me mf dn mg mh mi dp mj lh mk ml mm ll mn mo mp lp mq mr ms mt bi translated">5.从多维数组中的单个列获取所有值</h2><p id="61f9" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">假设我们有一个学生名单，我们想得到学生的名字。为此，我们可以使用<em class="mz"> array_column </em>函数。这个函数很容易理解:它返回输入数组中一列的值。</p><p id="f553" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们看看下面的例子。</p><figure class="na nb nc nd gt iv"><div class="bz fp l di"><div class="ne nf l"/></div></figure></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h2 id="1c60" class="mb mc jj bd md me mf dn mg mh mi dp mj lh mk ml mm ll mn mo mp lp mq mr ms mt bi translated">6.计算日期</h2><p id="a319" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">计算日期是你会经常用到的。基本的计算，如加减法，可以很容易地完成。你只需要知道<em class="mz"> strtotime </em>函数。</p><figure class="na nb nc nd gt iv"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="302c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">提示:如果你不得不做大量的计算，你可以通过使用像<a class="ae jg" href="https://carbon.nesbot.com/docs/" rel="noopener ugc nofollow" target="_blank"> Carbon </a>这样的库来让你的生活变得更加容易。它使你的代码更具可读性，并为你省去麻烦。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h2 id="5f8d" class="mb mc jj bd md me mf dn mg mh mi dp mj lh mk ml mm ll mn mo mp lp mq mr ms mt bi translated">7.从字符串中删除字符</h2><p id="edc0" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">本文中我们要讨论的最后一个常见问题是从字符串中移除字符——包括从字符串的开头和结尾移除字符。我们可以通过使用代表substring的<em class="mz"> substr </em>函数来实现这一点。从这个函数的名字可以看出，它将返回字符串的一部分。</p><p id="8915" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们来看看下面的例子，它向你展示了如何从一个字符串的开头删除字符。</p><figure class="na nb nc nd gt iv"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="2711" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">第一个参数是要从中删除字符的字符串。第二个参数是偏移量。此参数允许您从字符串中的指定位置开始(从0开始)。</p><p id="6880" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在上面的例子中，我们从位置5开始。这是how这个词的h。这样，我们从字符串中删除了前5个字符，索引0-4，该字符串归结为单词<em class="mz">嘿</em>和它后面的空格。</p><p id="5258" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要删除字符串末尾的字符，我们需要使用第三个参数，即子字符串的长度。如果长度为负，那么字符串末尾的字符数将被忽略。</p><figure class="na nb nc nd gt iv"><div class="bz fp l di"><div class="ne nf l"/></div></figure></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h2 id="a70e" class="mb mc jj bd md me mf dn mg mh mi dp mj lh mk ml mm ll mn mo mp lp mq mr ms mt bi translated">就是这样！</h2><p id="12c6" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">既然我们已经讨论了这个常见问题的列表，接下来就要做实验了。如果你学习了一个新的功能，就用它来做一些练习。最好的学习方法就是把手弄脏。</p><p id="eadc" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在尝试新事物时，不要害怕犯错误。我们都犯过这样的错误。哦，你想要证据吗？查看下面的文章！</p><div class="is it gp gr iu nk"><a href="https://betterprogramming.pub/15-mistakes-every-developer-has-made-in-their-life-7b7ef03cc84c" rel="noopener  ugc nofollow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd jk gy z fp np fr fs nq fu fw ji bi translated">每个开发人员一生中都会犯的15个错误</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">你可能会联想到这些错误</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">better编程. pub</p></div></div><div class="nt l"><div class="nu l nv nw nx nt ny ja nk"/></div></div></a></div><p id="e65f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢阅读！</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="fd7e" class="nz mc jj bd md oa ob oc mg od oe of mj kp og kq mm ks oh kt mp kv oi kw ms oj bi translated">分级编码</h1><p id="4044" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="3023" class="ok ol jj la b lb lc le lf lh om ll on lp oo lt op oq or os bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="e417" class="ok ol jj la b lb ot le ou lh ov ll ow lp ox lt op oq or os bi translated">📰查看<a class="ae jg" href="https://levelup.gitconnected.com/" rel="noopener ugc nofollow" target="_blank">升级编码</a>中的更多内容</li><li id="7f68" class="ok ol jj la b lb ot le ou lh ov ll ow lp ox lt op oq or os bi translated">🔔关注我们:<a class="ae jg" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae jg" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae jg" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li><li id="b4d3" class="ok ol jj la b lb ot le ou lh ov ll ow lp ox lt op oq or os bi translated">🚀👉<a class="ae jg" href="https://jobs.levelup.dev/" rel="noopener ugc nofollow" target="_blank"> <strong class="la jk">软件工程师的顶级工作</strong> </a></li></ul></div></div>    
</body>
</html>