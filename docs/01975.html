<html>
<head>
<title>How to Performance test your API the right way and improve reliability</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何以正确的方式对API进行性能测试并提高可靠性</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-performance-test-your-api-the-right-way-and-improve-reliability-8d7ff17c0037?source=collection_archive---------2-----------------------#2020-02-10">https://levelup.gitconnected.com/how-to-performance-test-your-api-the-right-way-and-improve-reliability-8d7ff17c0037?source=collection_archive---------2-----------------------#2020-02-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/36223680cefd492b195a25f2f982b58c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*838JzCqsMupmNb-Yf4-dkg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">图片来自<a class="ae kc" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=24053" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae kc" href="https://pixabay.com/users/Clker-Free-Vector-Images-3736/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=24053" rel="noopener ugc nofollow" target="_blank"> Clker-Free-Vector-Images </a></figcaption></figure><p id="ac2c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">已经有很多由于高流量导致<a class="ae kc" href="https://www.cs.cmu.edu/~priya/PDL-CMU-05-109.pdf" rel="noopener ugc nofollow" target="_blank">网络应用失败</a>的案例。这些主要是由于系统复杂性、不充分的测试、对系统依赖性的理解差、系统过载、资源耗尽和复杂的故障恢复例程。</p><p id="554d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以采取必要的步骤来避免故障，并通过执行性能测试来更好地理解应用程序的局限性。</p><h1 id="12d4" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><span class="l lz ma mb bm mc md me mf mg di">一</span> <strong class="ak">性能测试简介</strong></h1><p id="7951" class="pw-post-body-paragraph kd ke iq kf b kg mh ki kj kk mi km kn ko mj kq kr ks mk ku kv kw ml ky kz la ij bi translated">性能测试[PT]有助于确定系统和应用程序在预期负载下的限制。它还有助于微调应用程序，以确保应用程序稳定、可伸缩，并以最佳的资源利用率按预期一致地执行。</p><p id="197a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">性能测试是应用程序生命周期的一个非常重要的方面。如果处理得当，PT可以通过考虑响应时间、可伸缩性、停机时间、基础设施成本等因素，确保应用程序在最佳条件下运行。PT将有助于早期识别瓶颈，并使团队能够修复它们。</p><p id="8515" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">应用程序的测试是多方面的，但是可以大致分为API测试和应用程序测试。</p><ol class=""><li id="03de" class="mm mn iq kf b kg kh kk kl ko mo ks mp kw mq la mr ms mt mu bi translated"><strong class="kf ir"> API测试</strong> —测量响应时间，分析托管和支持应用程序的基础设施</li><li id="d4f9" class="mm mn iq kf b kg mv kk mw ko mx ks my kw mz la mr ms mt mu bi translated"><strong class="kf ir">应用测试</strong> —测试应用对安装它们的设备的影响。例如，考虑一个打算在iOS或Android设备上使用的应用程序。需要进行完整的应用程序测试，以确保安装该应用程序不会降低设备的整体性能(如电池消耗、系统频繁挂起)</li></ol><p id="fa43" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我将讨论API性能测试的重要性和不同方面。</p><p id="0cb9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将使用:</p><ul class=""><li id="f97c" class="mm mn iq kf b kg kh kk kl ko mo ks mp kw mq la na ms mt mu bi translated">用于API性能测试的Apache JMeter</li><li id="57a8" class="mm mn iq kf b kg mv kk mw ko mx ks my kw mz la na ms mt mu bi translated">AWS EC2来托管我们的应用程序</li><li id="777a" class="mm mn iq kf b kg mv kk mw ko mx ks my kw mz la na ms mt mu bi translated">数据库——MongoDB图集</li></ul><h1 id="73a7" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">API性能测试的重要性</h1><ul class=""><li id="1b31" class="mm mn iq kf b kg mh kk mi ko nb ks nc kw nd la na ms mt mu bi translated">维护应用程序性能和可伸缩性的一致性</li><li id="e8a0" class="mm mn iq kf b kg mv kk mw ko mx ks my kw mz la na ms mt mu bi translated">帮助开发团队解决性能问题，并随着用户群的增加提供适当的资源</li><li id="8ee4" class="mm mn iq kf b kg mv kk mw ko mx ks my kw mz la na ms mt mu bi translated">识别热点(缓慢的API、内存泄漏)</li><li id="bc5b" class="mm mn iq kf b kg mv kk mw ko mx ks my kw mz la na ms mt mu bi translated">帮助财务团队决定基础架构，注意估计的用户</li><li id="4bdf" class="mm mn iq kf b kg mv kk mw ko mx ks my kw mz la na ms mt mu bi translated">根据应用程序的类型及其目标用户群，应用程序应该在没有太多延迟和绝对无停机时间的情况下满足请求。(特别是当应用程序是新进入市场时，这在用户接受应用程序方面起着重要作用)</li></ul><p id="5222" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而在发布应用之前进行PT有助于维系用户，提供良好的用户体验。应用程序生命周期中的PT通过确保应用程序的稳定性来帮助留住用户。</p></div><div class="ab cl ne nf hu ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="ij ik il im in"><h2 id="ac7d" class="nl lc iq bd ld nm nn dn lh no np dp ll ko nq nr lp ks ns nt lt kw nu nv lx nw bi translated">执行API性能测试之前需要考虑的要点</h2><ol class=""><li id="c609" class="mm mn iq kf b kg mh kk mi ko nb ks nc kw nd la mr ms mt mu bi translated">测试应该通过实时模拟预期的数据来完成</li><li id="9ae8" class="mm mn iq kf b kg mv kk mw ko mx ks my kw mz la mr ms mt mu bi translated">使用应用程序特定功能的预期用户和频率</li><li id="62e4" class="mm mn iq kf b kg mv kk mw ko mx ks my kw mz la mr ms mt mu bi translated">服务器部署的地理位置以及执行负载测试的位置</li></ol><p id="1b46" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在让我们看看这些因素对我们应用程序的性能意味着什么。</p><h1 id="4b29" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">模拟数据</h1><p id="5db0" class="pw-post-body-paragraph kd ke iq kf b kg mh ki kj kk mi km kn ko mj kq kr ks mk ku kv kw ml ky kz la ij bi translated">拥有预期的实时数据集有助于验证API的功能和性能。通过使用Postman工作流和collection runner功能，可以模拟实际的应用程序流，并且通过使用脚本，我们可以为将要测试的功能创建负载。</p><ul class=""><li id="a51a" class="mm mn iq kf b kg kh kk kl ko mo ks mp kw mq la na ms mt mu bi translated">例如，如果一个API列出了所有注册用户，页面大小限制为100，那么需要创建至少100个负载(注册用户)来测试这个API</li><li id="4cb3" class="mm mn iq kf b kg mv kk mw ko mx ks my kw mz la na ms mt mu bi translated">在空载或负载较小的情况下，PT将不起作用</li><li id="750c" class="mm mn iq kf b kg mv kk mw ko mx ks my kw mz la na ms mt mu bi translated">即使在生成不切实际的数据集的情况下，PT也不会有效，因为解决此类数据集的问题将导致分配额外的资源，从而增加部署成本。</li></ul><blockquote class="nx ny nz"><p id="f1ad" class="kd ke oa kf b kg kh ki kj kk kl km kn ob kp kq kr oc kt ku kv od kx ky kz la ij bi translated"><strong class="kf ir">注意:</strong>应用服务器和数据库的配置在整个测试中是相同的。</p></blockquote><figure class="of og oh oi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oe"><img src="../Images/62cd8c7286b9850694b7b226ed60753e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x39rgSAutqlNsSb_-Nvx3A.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">图1:没有数据时的API响应。响应时间小于300毫秒</figcaption></figure><figure class="of og oh oi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oj"><img src="../Images/eb83e638fed57b9389021249500241ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I8YD-dZTpclbX-CeRY5bIg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">图2:当预期的实时数据出现时的API响应。响应时间高于1200毫秒</figcaption></figure><p id="4e11" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">图1和图2显示了对我们的API进行单次调用的响应时间。有数据时的响应时间= 4 *无数据时的响应时间。</p><h2 id="0ee8" class="nl lc iq bd ld nm nn dn lh no np dp ll ko nq nr lp ks ns nt lt kw nu nv lx nw bi translated">用JMeter测试</h2><p id="7ddf" class="pw-post-body-paragraph kd ke iq kf b kg mh ki kj kk mi km kn ko mj kq kr ks mk ku kv kw ml ky kz la ij bi translated">我们打算实现每秒100个请求的吞吐量[RPS],测试进行了10分钟。两个测试都是在相同的服务器配置下进行的。</p><blockquote class="nx ny nz"><p id="1345" class="kd ke oa kf b kg kh ki kj kk kl km kn ob kp kq kr oc kt ku kv od kx ky kz la ij bi translated"><strong class="kf ir">重要</strong>:使用JMeter GUI设置测试脚本，使用CLI进行测试(Apache JMeter推荐)。</p></blockquote><figure class="of og oh oi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oj"><img src="../Images/32dcc14756cec4aac53bf5ea02c17ae4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*no-HeMA4-xqKCiclf54V7g.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">图3:没有数据的负载测试</figcaption></figure><figure class="of og oh oi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ok"><img src="../Images/c9a50f7b4ef848ece36d68e5cd16ce81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*apAa1nquU-7aot-XcwjXrg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">图4:用数据进行负载测试</figcaption></figure><p id="4a54" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于没有数据的测试(图3)，我们有不到1%的错误率(即使这是在JMeter中关闭线程期间)，平均响应时间为1300 ms，并且能够实现100 RPS。</p><p id="7e21" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是当使用数据进行测试时(图4 ),我们有98%的错误率，响应时间超过5000毫秒，并且仅实现了15 RPS。这主要是由于数据库连接和配置的数量。API在这里没有分页，这也导致了额外的处理时间。</p><p id="6677" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过减少线程的数量来提高数据测试的错误率，但是RPS会比我们预期的要少(参见图5)。错误率从98%提高到6%，吞吐量为3 RPS，平均响应时间为9000 ms。</p><figure class="of og oh oi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ol"><img src="../Images/0706905a4e3d3967780a2cea4e33b1dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UlBBwabihjEd9KbdbyYOmw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">图5:减少线程(虚拟用户)的数量以降低错误率</figcaption></figure><h1 id="80b2" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">原料药的选择</h1><p id="f423" class="pw-post-body-paragraph kd ke iq kf b kg mh ki kj kk mi km kn ko mj kq kr ks mk ku kv kw ml ky kz la ij bi translated">以前面列出所有注册用户的API作为应用程序的主要功能/屏幕为例，如果这个API本身需要很长时间来加载，那么用户将很难使用这个应用程序。</p><p id="f5b6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">选择用于测试的API是API性能测试的关键方面之一，因为每个API都有不同的被调用频率和复杂性。因此，为测试确定正确的API是非常重要的。选择API时要考虑的因素:</p><ol class=""><li id="f6f5" class="mm mn iq kf b kg kh kk kl ko mo ks mp kw mq la mr ms mt mu bi translated">被呼叫的频率</li><li id="bb17" class="mm mn iq kf b kg mv kk mw ko mx ks my kw mz la mr ms mt mu bi translated">性能密集型操作(如查找不同的集合)</li><li id="e84e" class="mm mn iq kf b kg mv kk mw ko mx ks my kw mz la mr ms mt mu bi translated">API在加载主屏幕上的调用。</li></ol><p id="3da9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">以及根据应用需要考虑的更多因素。</p><p id="6aac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果应用程序在生产中，通过收集使用统计数据，可以确定哪个功能/API面临高流量、用户/功能花费的平均时间、哪个API需要很长时间来响应以及哪个功能具有增加流量的范围。</p><p id="81b3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在JMeter中，我们创建虚拟用户[VU]，并在一段时间内对选定的API进行并发调用。JMeter生成的报告有助于我们了解响应时间、错误率、实现的吞吐量(以每秒请求数衡量)。</p><p id="7791" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">来自AWS的数据让我们了解CPU利用率、内存消耗、服务器请求处理能力和其他一些参数。</p><figure class="of og oh oi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ol"><img src="../Images/e3175b7051ce2d91cd3c767ad62968f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EarThDIF0MTEjex-LiXGlA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">图6:对服务器的请求被分配给4个API</figcaption></figure><p id="1017" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在4个API中，2个API返回对象列表，另外2个将只返回一个对象。对服务器的总请求是102989(样本数)，平均分配给所有4个API(即大约25747个样本)。通过这样做，我们能够实现230 RPS的吞吐量和530 ms的平均响应时间。</p><p id="13d6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，将请求分布在不同的API上以模拟实时场景是很重要的。为了获得更好的结果，JMeter测试脚本应该以这样一种方式配置，即很少的API具有较高的样本数，而其他API具有较少的样本数。这可以通过为在同一测试计划下测试的每个请求创建一个单独的线程组来实现。</p><h1 id="a67e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">地理因素</h1><p id="b4e7" class="pw-post-body-paragraph kd ke iq kf b kg mh ki kj kk mi km kn ko mj kq kr ks mk ku kv kw ml ky kz la ij bi translated">应用程序服务器和用户可以并且在大多数情况下将位于全球的不同地方。这将增加系统的网络延迟。</p><p id="1f88" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">考虑到这一事实，需要解决性能范围的两个极端点(有和没有网络延迟的响应时间)。</p><blockquote class="nx ny nz"><p id="4217" class="kd ke oa kf b kg kh ki kj kk kl km kn ob kp kq kr oc kt ku kv od kx ky kz la ij bi translated"><strong class="kf ir">注意:</strong>对于我们的应用程序，我们使用JMeter链接方法进行了性能测试，该方法使用主从配置来创建大量并发用户。AWS EC2用于托管主服务器和从服务器。</p></blockquote><h2 id="080b" class="nl lc iq bd ld nm nn dn lh no np dp ll ko nq nr lp ks ns nt lt kw nu nv lx nw bi translated">范围的高端</h2><ul class=""><li id="3441" class="mm mn iq kf b kg mh kk mi ko nb ks nc kw nd la na ms mt mu bi translated">PT从应用服务器所在的同一区域执行，这意味着用于执行负载测试的工具也必须部署在与应用服务器相同区域的服务器上。考虑到我们的情况，JMeter slave和应用程序都来自同一个区域。</li><li id="89d9" class="mm mn iq kf b kg mv kk mw ko mx ks my kw mz la na ms mt mu bi translated">这将为用户提供最佳的性能体验。</li></ul><blockquote class="om"><p id="d6d4" class="on oo iq bd op oq or os ot ou ov la dk translated">示例场景:应用服务器部署在俄勒冈州地区，访问应用程序的用户也在俄勒冈州。</p></blockquote><h2 id="1a8d" class="nl lc iq bd ld nm ow dn lh no ox dp ll ko oy nr lp ks oz nt lt kw pa nv lx nw bi translated">范围的低端</h2><ul class=""><li id="bfbf" class="mm mn iq kf b kg mh kk mi ko nb ks nc kw nd la na ms mt mu bi translated">PT是从应用服务器所在的不同地方执行的，这意味着用于执行负载测试的工具部署在离应用服务器最远的服务器上。</li><li id="86c4" class="mm mn iq kf b kg mv kk mw ko mx ks my kw mz la na ms mt mu bi translated">这将使用户体验到最大延迟。</li></ul><blockquote class="om"><p id="4ed5" class="on oo iq bd op oq or os ot ou ov la dk translated">示例场景:应用服务器部署在Oregon地区，访问应用程序的用户在中亚的某个地方。</p></blockquote><p id="6bdf" class="pw-post-body-paragraph kd ke iq kf b kg pb ki kj kk pc km kn ko pd kq kr ks pe ku kv kw pf ky kz la ij bi translated">解决这些地理用例有助于理解网络延迟和响应时间对实际用户的影响。</p></div><div class="ab cl ne nf hu ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="ij ik il im in"><h1 id="e800" class="lb lc iq bd ld le pg lg lh li ph lk ll lm pi lo lp lq pj ls lt lu pk lw lx ly bi translated"><span class="l lz ma mb bm mc md me mf mg di"> F </span>发现</h1><figure class="of og oh oi gt jr gh gi paragraph-image"><div class="gh gi pl"><img src="../Images/49900c0dd7b83fe699666d0a67842ea7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/1*iVXbn9A0WJ7Fb_ZvoH0qvg.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">来自<a class="ae kc" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1424831" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae kc" href="https://pixabay.com/users/GraphicMama-team-2641041/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1424831" rel="noopener ugc nofollow" target="_blank">图形制作团队</a>的图片</figcaption></figure><p id="dc58" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通过性能测试，我们能够在应用程序中识别的一些问题是</p><ol class=""><li id="cd54" class="mm mn iq kf b kg kh kk kl ko mo ks mp kw mq la mr ms mt mu bi translated"><strong class="kf ir">索引</strong> —当我们开始基于最初的需求构建应用程序时，索引是为了支持这些需求而建立的，而当应用程序增长时，索引并没有得到优化。这导致查询执行时间更长。</li><li id="373a" class="mm mn iq kf b kg mv kk mw ko mx ks my kw mz la mr ms mt mu bi translated"><strong class="kf ir">分页</strong> —与将整个数据加载到内存中并进行处理相比，查询数据子集并对其进行处理使用的内存更少，所需的时间也更少。</li><li id="8fc9" class="mm mn iq kf b kg mv kk mw ko mx ks my kw mz la mr ms mt mu bi translated"><strong class="kf ir">缓存</strong> —我们在查询数据库中的静态数据或不常变化的数据，引入缓存后，数据库的负载有所降低。</li><li id="db0e" class="mm mn iq kf b kg mv kk mw ko mx ks my kw mz la mr ms mt mu bi translated"><strong class="kf ir">拥有正确的数据集</strong> —我们没有数据，因为应用程序正在开发中，尚未发布。这就是我们能够使用Postman特性模拟应用程序流并生成数据的地方。</li><li id="2bb1" class="mm mn iq kf b kg mv kk mw ko mx ks my kw mz la mr ms mt mu bi translated"><strong class="kf ir">剖析API</strong>—这需要定期练习，因为通过利用语言提供的功能、数据结构和算法，总是有更好地处理数据的余地。</li><li id="d0e5" class="mm mn iq kf b kg mv kk mw ko mx ks my kw mz la mr ms mt mu bi translated"><strong class="kf ir">数据库连接</strong> —池框架有助于优化连接数据库连接的利用率</li></ol></div><div class="ab cl ne nf hu ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="ij ik il im in"><h1 id="c8d6" class="lb lc iq bd ld le pg lg lh li ph lk ll lm pi lo lp lq pj ls lt lu pk lw lx ly bi translated"><strong class="ak">总结</strong></h1><p id="5bc0" class="pw-post-body-paragraph kd ke iq kf b kg mh ki kj kk mi km kn ko mj kq kr ks mk ku kv kw ml ky kz la ij bi translated">性能测试需要在应用程序的整个生命周期中进行，以解决一旦应用程序上线、用户群增加或某些关键功能被修改时可能出现的问题。</p><p id="d047" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了获得最佳结果，必须进行多次迭代。这需要大量的时间和金钱，这取决于应用程序的类型和特定的API集，以通过优化的资源设置来实现期望的吞吐量。</p><blockquote class="nx ny nz"><p id="06ed" class="kd ke oa kf b kg kh ki kj kk kl km kn ob kp kq kr oc kt ku kv od kx ky kz la ij bi translated">不可能消除所有问题并使资源规格尽善尽美，但我们可以做到足够接近。<br/>如果资源规格有误，应用程序可能会在关键时期变慢或崩溃。用户会很恼火，公司可能会赔钱和名誉。如果您超出规格并拥有过剩的容量，将导致成本和复杂性成倍增加，但这是您为降低风险所付出的代价。</p></blockquote></div></div>    
</body>
</html>