<html>
<head>
<title>Goodbye HTML. Hello Canvas!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">再见HTML。你好画布！</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/goodbye-html-hello-canvas-bccba5601085?source=collection_archive---------3-----------------------#2022-04-15">https://levelup.gitconnected.com/goodbye-html-hello-canvas-bccba5601085?source=collection_archive---------3-----------------------#2022-04-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a78a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">第7部分:马赛克生成器&amp;发布库</h2></div><p id="943d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里可以看之前的文章<a class="ae lb" href="https://javascript.plainenglish.io/goodbye-html-hello-canvas-3cc1b2e7b096" rel="noopener ugc nofollow" target="_blank">。</a></p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lc"><img src="../Images/75016cc4bd576c1a1aef910391cc060d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*agKcgs7yBqrA3oAms9gNqQ.png"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk translated">马赛克生成器</figcaption></figure><h2 id="db67" class="ls lt iq bd lu lv lw dn lx ly lz dp ma ko mb mc md ks me mf mg kw mh mi mj mk bi translated">图书馆</h2><p id="4b90" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">最后，今天我发布GoodbyeHtml库。</p><p id="97ac" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是GitHub  中库的<a class="ae lb" href="https://github.com/JoanaBLate/goodbye-html" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir">链接。</strong></a></p><h2 id="70e9" class="ls lt iq bd lu lv lw dn lx ly lz dp ma ko mb mc md ks me mf mg kw mh mi mj mk bi translated">应用程序(演示)</h2><p id="895e" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">今天，我想解释更多的概念，谈论在浏览器中的<em class="mq">浏览器，但我有点恼火，因为读者不断回复说我正在做的事情是不可能的，或者说<strong class="kh ir">太难了</strong>，或者没有性能…因此，我决定使用当前的演示和文章来停止这些废话。</em></p><p id="a6b6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是<a class="ae lb" href="https://storage.googleapis.com/jblate/medium/mosaic-demo.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir">链接播放的demo </strong> </a> <strong class="kh ir"> </strong>(不适用于智能手机)。</p><p id="cfb3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，这个库与之前描述的有些不同。虽然我没有做一个适当的文档，你可以检查源文件，我认为它们非常可读。</p><p id="b873" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，这个演示是一个嵌入了所有内容的HTML文件。它让我的服务器保持干净，但对学习不利。没问题，因为你可以在GitHub中轻松研究演示的源代码。</p><p id="4fb5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是GitHub  中演示的<a class="ae lb" href="https://github.com/JoanaBLate/mosaic-generator" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir">链接。</strong></a></p><p id="4bcd" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">浏览器只看到文档体中的一个HTML元素:画布。</p><p id="2a1f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这个画布中有六种不同的小部件 : <em class="mq">简单图标按钮、舞台图标按钮、文本按钮、复选框、滑块和文本输入框</em>。</p><p id="410e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">整个界面的<strong class="kh ir">代码是在一个单独的JavaScript文件中编写的，这个文件统计<strong class="kh ir">不到120个简单的行</strong>(不包括备注和空行)。</strong></p><p id="5ed5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将一部分一部分地看到文件<em class="mq"> mosaic-interface.js </em>的代码。</p></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h2 id="0b37" class="ls lt iq bd lu lv lw dn lx ly lz dp ma ko mb mc md ks me mf mg kw mh mi mj mk bi translated">不适合智能手机！</h2><p id="07ef" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">我已经用Chrome在Linux和Windows上测试了演示，一切正常。</p><p id="a917" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我在我的Android智能手机上用三星浏览器测试了这个演示。成功了，但是</p><ol class=""><li id="3329" class="my mz iq kh b ki kj kl km ko na ks nb kw nc la nd ne nf ng bi translated">浏览器不允许保存(伪下载)结果</li><li id="b886" class="my mz iq kh b ki nh kl ni ko nj ks nk kw nl la nd ne nf ng bi translated">“随机化”按钮可以工作，但按下后不会改变外观</li></ol><p id="07ac" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在灾难发生了。我在同一台Android设备上测试了演示，但这次使用的是Chrome。好消息是Chrome允许我们保存结果。坏消息是，第一张图片一加载，Chrome就删除了部分面板“header”和部分面板“options”，这意味着一个巨大的错误，因为在内部这些面板只是图像(绘制的画布)。此外，它们与加载和处理图像几乎没有关系。</p><p id="1720" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这远远超出了我在本系列第一篇文章中所说的浏览器特质；这在一个…聪明的读者的回复中被讽刺了。</p><p id="ad5c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">虽然这个工具只是为台式机设计的，但我从没想到在(同一台)智能手机上会有如此怪异的行为。</p></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h2 id="4572" class="ls lt iq bd lu lv lw dn lx ly lz dp ma ko mb mc md ks me mf mg kw mh mi mj mk bi translated">接口代码—初始化</h2><p id="cdc7" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">这里我们创建了表示库的对象，并加载了<strong class="kh ir">界面</strong>需要的<strong class="kh ir">资源</strong>:字体表和图标。</p><p id="b69b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如代码所示，加载器必须只被创建和调用一次，否则我们将会遇到同步问题。还有<strong class="kh ir">另一个功能，用于在应用程序运行时加载用户图像</strong>。</p><pre class="ld le lf lg gt nm nn no np aw nq bi"><span id="f840" class="ls lt iq nn b gy nr ns l nt nu">"use strict"<br/><br/>var goodbye = null<br/><br/>var box = null<br/><br/>function main() {<br/>    //<br/>    goodbye = createGoodbyeHtmlLibrary()<br/>    loadResources()<br/>}<br/><br/>function loadResources() {<br/>    //<br/>    const loader = goodbye.createLoader()<br/>    //<br/>    loader.loadFont("sg", fontSmallGrey) <br/>    loader.loadFont("black", fontSourceProSansBlack) <br/>    loader.loadFont("white", fontSourceProSansWhite)<br/>    //<br/>    const keys = Object.keys(blackIconsSources)<br/>    //<br/>    for (const key of keys) { loader.loadImage(key, blackIconsSources[key]) }<br/>    //<br/>    loader.ready(resourcesLoaded) // must send a callback<br/>}  <br/>  <br/>function resourcesLoaded() { // the callback <br/>    //<br/>    initLogic()<br/>    //<br/>    mountInterface()    <br/>}</span></pre></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h2 id="f11f" class="ls lt iq bd lu lv lw dn lx ly lz dp ma ko mb mc md ks me mf mg kw mh mi mj mk bi translated">接口代码—安装</h2><p id="aa99" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">这个简单的功能就是整个界面的<strong class="kh ir">蓝图。首先，它创建盒子并将其赋给一个全局变量(常量)。该框将其自身附加到设计的父对象(文档正文)上。然后，它定义舞台的背景颜色(选择“透明”是可能的)。并初始化这些层。我们只需要两个。它隐藏了“帮助”层。并命令创建五个面板。就是这样！</strong></p><pre class="ld le lf lg gt nm nn no np aw nq bi"><span id="50a0" class="ls lt iq nn b gy nr ns l nt nu">function mountInterface() {<br/>    //<br/>    box = goodbye.createBox(1000, 600, document.body)<br/>    //<br/>    box.setBgColor("#084d6e")<br/>    //<br/>    box.initLayers(["base", "help"])<br/>    //<br/>    box.get("help").hide()<br/>    //<br/>    createHeader()<br/>    //<br/>    createSourceArea()<br/>    //<br/>    createResultArea()<br/>    //<br/>    createOptionsPanel()<br/>    //<br/>    createHelp()<br/> }</span></pre></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h2 id="4258" class="ls lt iq bd lu lv lw dn lx ly lz dp ma ko mb mc md ks me mf mg kw mh mi mj mk bi translated">界面代码—面板标题</h2><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lc"><img src="../Images/4ee137c9822ad48c2f77829ed5fffd8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AwvG73sRI_YV3ute03UFkQ.png"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk translated">面板标题</figcaption></figure><p id="3185" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这里，我们创建面板“标题”，设置一些装饰(包括文本)并应用3个图标按钮。请注意，“帮助”按钮的行为与其他按钮不同。它处于“活动”状态。</p><pre class="ld le lf lg gt nm nn no np aw nq bi"><span id="f500" class="ls lt iq nn b gy nr ns l nt nu">function createHeader() {<br/>    //<br/>    const i = goodbye.allImages<br/>    //<br/>    const ph = box.get("base").createPanel("header", 0, 0, 1000, 50, "black")<br/>    //<br/>    ph.paintRect(0, 0, 250, 50, "white")<br/>    //<br/>    ph.setFont("black")<br/>    //<br/>    ph.write(30, 10, "Mosaic Generator")<br/>    //<br/>    ph.setFont("white")<br/>    //<br/>    ph.write(265, 10, "demo - web app made using only one HTML element")<br/>    //<br/>    const bl = ph.createButton("load", 790, 0, 50, 50, "rgb(0,150,180)")<br/>    bl.setImageNormal(i["load-black"])<br/>    bl.setOnClick(loadSourceImage)<br/>    //<br/>    const bs = ph.createButton("save", 865, 0, 50, 50, "rgb(0,150,180)")<br/>    bs.setImageNormal(i["save-black"])<br/>    const disabled = goodbye.fadeImage(i["save-black"], "black", 0.40)<br/>    bs.setImageDisabled(disabled)<br/>    bs.disable()<br/>    bs.setOnClick(save)<br/>    //<br/>    const bh = ph.createButton("help", 940, 0, 50, 50, "rgb(0,150,180)")<br/>    bh.setImageNormal(i["help-black"])<br/>    const negative = goodbye.negativeFromImage(i["help-black"])<br/>    bh.setImageActive(negative)<br/>    bh.setOnClick(buttonHelpClicked)<br/>}</span></pre><p id="5a7c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是舞台图标按钮的代码:</p><pre class="ld le lf lg gt nm nn no np aw nq bi"><span id="3960" class="ls lt iq nn b gy nr ns l nt nu">function buttonHelpClicked() {<br/>    //<br/>    const button = box.get("base.header.help") // stage icon button<br/>    //<br/>    if (button.getActive()) {<br/>        //<br/>        button.deactivate()<br/>        box.get("help").hide()<br/>    }<br/>    else {<br/>        //<br/>        button.activate()<br/>        box.resetFocus()<br/>        box.get("help").show()<br/>    }<br/>}</span></pre><p id="c6ec" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">注意:库的代码高度封装在函数中。比如我们不说<strong class="kh ir"> my_panel.visible </strong>，我们说<strong class="kh ir"> my_panel.getVisible() </strong>。</p></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h2 id="208b" class="ls lt iq bd lu lv lw dn lx ly lz dp ma ko mb mc md ks me mf mg kw mh mi mj mk bi translated">界面代码-面板源区域</h2><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/5a2317b3e63fa5ee200780ed0a8fc580.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*b_5Sysvi2ESBM6RzTId1rA.png"/></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk translated">面板源区域(图像加载后)</figcaption></figure><p id="6822" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这非常简单:一个没有小部件的面板。它只是一个用来画图像的基底。</p><pre class="ld le lf lg gt nm nn no np aw nq bi"><span id="2841" class="ls lt iq nn b gy nr ns l nt nu">function createSourceArea() {<br/>    //<br/>    const ps = box.get("base").createPanel("source", 20, 70, 600, 400, "red")<br/>    //<br/>    const chess = goodbye.createCheckerboard(600, 400, 50, 50, "silver", "gainsboro")<br/>    //<br/>    ps.paintImage(chess, 0, 0)<br/>}</span></pre></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h2 id="a18a" class="ls lt iq bd lu lv lw dn lx ly lz dp ma ko mb mc md ks me mf mg kw mh mi mj mk bi translated">界面代码-面板结果区域</h2><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/ee8d04141fabdc53d12a10c0868bd7a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*TVhauKL_zoR_8TFAVwyzSQ.png"/></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk translated">面板结果区域(图像加载后)</figcaption></figure><p id="1257" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这几乎是一个前面板的副本。</p><pre class="ld le lf lg gt nm nn no np aw nq bi"><span id="3ce1" class="ls lt iq nn b gy nr ns l nt nu">function createResultArea() {<br/>    //<br/>    const pr = box.get("base").createPanel("result", 670, 120, 300, 300, "red")<br/>    //<br/>    const chess = goodbye.createCheckerboard(800, 450, 50, 50, "silver", "gainsboro")<br/>    //<br/>    pr.paintImage(chess, 0, 0)<br/>}</span></pre></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h2 id="3f0d" class="ls lt iq bd lu lv lw dn lx ly lz dp ma ko mb mc md ks me mf mg kw mh mi mj mk bi translated">界面代码-面板选项</h2><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="ab gu cl nx"><img src="../Images/8644322a764aca47dfb558b961547d40.png" data-original-src="https://miro.medium.com/v2/format:webp/1*ZhflRZ-WL1HSycXQ-j9L5Q.png"/></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk translated">面板选项</figcaption></figure><p id="d74d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">考虑到窗口小部件的数量(4)和不同种类窗口小部件的数量(4)，这是应用程序最复杂的面板。但是，令人惊讶的是，它的代码很短。</p><pre class="ld le lf lg gt nm nn no np aw nq bi"><span id="7a9c" class="ls lt iq nn b gy nr ns l nt nu">function createOptionsPanel() {<br/>    //<br/>    const po = box.get("base").createPanel("options", 20, 500, 960, 80, "lightgrey")<br/>    //<br/>    po.setFont("sg")<br/>    //<br/>    po.createCheckbox("stretch", 10, 10, 14, true, null)<br/>    //<br/>    po.write(30, 10, "stretch both dimensions when loading") <br/>    //<br/>    const br = po.createButton("randomize", 90, 35, 120, 30, "white")<br/>    br.config("sg", "randomize", randomize)<br/>    br.disable()<br/>    //<br/>    po.write(418, 10, "size of resulting mosaic")<br/>    //<br/>    paintMosaicSize()<br/>    //<br/>    const ss = po.createSlider("size", 400, 30, 200, 30, 0)<br/>    //<br/>    ss.setOnChange(changeMosaicSize)<br/>    ss.disable()<br/>    //<br/>    po.write(772, 10, "choose mosaic name")<br/>    //<br/>    const tn = po.createTextbox("name", 760,30,150,35,15, "black", true)<br/>    tn.setText("my-mosaic")<br/>}</span></pre><p id="fdde" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这些是它的处理程序:</p><pre class="ld le lf lg gt nm nn no np aw nq bi"><span id="4b31" class="ls lt iq nn b gy nr ns l nt nu">function changeMosaicSize() {<br/>    //<br/>    const factor = box.get("base.options.size").getValue()<br/>    //<br/>    mosaicDimension = 300 + (Math.floor(1500 * factor / 300) * 300)<br/>    //<br/>    paintMosaicSize()<br/>}<br/><br/>function paintMosaicSize() {<br/>    //<br/>    const panel = box.get("base.options")<br/>    //<br/>    panel.clearRect(390, 60, 100, 20)<br/>    //<br/>    panel.write(400, 63, mosaicDimension + " x " + mosaicDimension)<br/>}</span></pre></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h2 id="aaba" class="ls lt iq bd lu lv lw dn lx ly lz dp ma ko mb mc md ks me mf mg kw mh mi mj mk bi translated">界面代码-面板帮助</h2><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi ny"><img src="../Images/17cf4f6b453f27c3e039c8a6d07bb101.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1ppd7mISNt-UO0Vya2qukQ.png"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk translated">面板帮助</figcaption></figure><p id="1663" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">另一个非常直接的面板，没有小部件，只有文本。</p><pre class="ld le lf lg gt nm nn no np aw nq bi"><span id="95d0" class="ls lt iq nn b gy nr ns l nt nu">function createHelp() {<br/>    //<br/>    const ph = box.get("help").createPanel("help", 0, 50, 1000, 550, "lightgrey")<br/>    //<br/>    ph.setFont("sg")<br/>    //<br/>    ph.write(150,  50, "This is a desktop application.")<br/>    ph.write(150, 100, "Loading an image creates a mosaic based on its center.")<br/>    ph.write(150, 150, "Pressing \"randomize\" creates another mosaic based on a random point of the image.")<br/>    ph.write(150, 200, "There is only a single HTML element (a canvas) inside the document body.")<br/>    ph.write(150, 250, "All other widgets were constructed inside this single canvas and the browser doesn't know about them:")<br/>    ph.write(170, 280, "single icon button, stage icon button, text button, checkbox, slider and text input box.")<br/>    ph.write(150, 330, "The code of the *interface* of this demo has less than 100 meaningful, simple lines and was written")<br/>    ph.write(170, 360, "using the GoodbyeHTML library.")<br/>    ph.write(150, 410, "The library is available at https://github.com/JoanaBLate/goodbye-html")  <br/>    ph.write(150, 460, "Clicking again the help icon hides this help.")    <br/>}</span></pre><p id="5cc5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们结束了！</p><h2 id="1d1e" class="ls lt iq bd lu lv lw dn lx ly lz dp ma ko mb mc md ks me mf mg kw mh mi mj mk bi translated">按ID获取元素</h2><p id="6cc6" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">将box作为一个全局变量(常量)非常有用，可以使源代码变得更简洁。一个网页中有很多框是没有问题的。当然，我们需要为每个盒子使用不同的全局变量——<em class="mq">box，box2，big box……</em></p><p id="fd5e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用函数<strong class="kh ir"> <em class="mq"> box.get(id) </em> </strong>随时访问任何图层、面板或小部件。</p><p id="c61a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ID只有3种格式:</p><ol class=""><li id="06c4" class="my mz iq kh b ki kj kl km ko na ks nb kw nc la nd ne nf ng bi translated">对于层:<em class="mq">层</em></li><li id="b557" class="my mz iq kh b ki nh kl ni ko nj ks nk kw nl la nd ne nf ng bi translated">对于面板:<em class="mq">图层.面板</em></li><li id="39b3" class="my mz iq kh b ki nh kl ni ko nj ks nk kw nl la nd ne nf ng bi translated">对于小部件:<em class="mq"> layer.panel.widget </em></li></ol><p id="b8d5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们创建每个面板或小部件，只提供其名称；该库使用公式<em class="mq">parent . ID+dot+chosen _ name</em>创建其ID。</p><pre class="ld le lf lg gt nm nn no np aw nq bi"><span id="a512" class="ls lt iq nn b gy nr ns l nt nu">// creating the panel<br/>const po = box.get("base").createPanel("options", ...</span><span id="f872" class="ls lt iq nn b gy nz ns l nt nu">// creating the widget<br/>const ss = po.createSlider("size", ...</span><span id="1e21" class="ls lt iq nn b gy nz ns l nt nu">// acessing the widget in other function<br/>const factor = box.get("base.options.size").getValue()</span></pre><h2 id="5169" class="ls lt iq bd lu lv lw dn lx ly lz dp ma ko mb mc md ks me mf mg kw mh mi mj mk bi translated">结论</h2><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/683efe855eab8fe4a3e07de085401421.png" data-original-src="https://miro.medium.com/v2/resize:fit:850/format:webp/1*eGsJ0LbBXLoLKUsXw0le_g.png"/></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk translated">演示的性能</figcaption></figure><p id="5f2e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们今天制作的实际应用程序证明，基于画布的网页制作方法非常好。但是，正如我们在本系列文章中所看到的，在超过99%的情况下，它不应该取代HTML/CSS方法。</p><p id="0bf5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我想我能听到你:</p><p id="7324" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这很遗憾，因为用再见库构建一个网页是如此的酷和简单。我想在任何地方都使用它！另外，我不想失去HTML的任何优势，比如流畅的布局，易访问性，(可扩展)TrueType字体，自动翻译… </p><p id="dd03" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">嗯……一个好人不会把香肠递到狗的鼻子上，然后警告说，<em class="mq">这只是为了闻闻</em>。对吗？</p><p id="d9d9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">请把下面的文章读完<strong class="kh ir">结尾</strong>，或者至少读完它的<strong class="kh ir">结尾</strong>。解决办法是有的。</p><p id="b769" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae lb" href="https://javascript.plainenglish.io/hey-html-i-am-back-darling-4505b557a66d" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="mq">哎，HTML……我回来了，乖乖！</em> </strong> </a></p><h2 id="8ef8" class="ls lt iq bd lu lv lw dn lx ly lz dp ma ko mb mc md ks me mf mg kw mh mi mj mk bi translated">敬请关注</h2><p id="2f07" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">这是<a class="ae lb" href="https://joanaborgeslate.medium.com/goodbye-html-hello-canvas-9e2b38a69ba" rel="noopener"> <strong class="kh ir">系列</strong> </a>下一篇文章的链接。</p></div></div>    
</body>
</html>