<html>
<head>
<title>Building a personal site with Gatsby.js, Contentful and Netlify</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Gatsby.js建立一个个人网站</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/building-a-personal-site-with-gatsby-js-contentful-and-netlify-d9e614ed9a77?source=collection_archive---------4-----------------------#2018-12-25">https://levelup.gitconnected.com/building-a-personal-site-with-gatsby-js-contentful-and-netlify-d9e614ed9a77?source=collection_archive---------4-----------------------#2018-12-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="e402" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我用<a class="ae kl" href="https://jamstack.org/" rel="noopener ugc nofollow" target="_blank"> JAMstack </a>中的最新工具建立<a class="ae kl" href="https://timrbula.me" rel="noopener ugc nofollow" target="_blank">个人网站</a>的过程。</p></div><div class="ab cl km kn hu ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="ij ik il im in"><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi kt"><img src="../Images/71fc7c0637dde519df73f834b316f797.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x6gRYQZBkfz8CEeu6twdIQ.png"/></div></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">情况就是这样</figcaption></figure><h1 id="fd87" class="lj lk iq bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">结构</h1><p id="f66c" class="pw-post-body-paragraph jn jo iq jp b jq mh js jt ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk ij bi translated">在过去几年的工作中，我一直使用<a class="ae kl" href="https://www.gatsbyjs.org/" rel="noopener ugc nofollow" target="_blank"> Gatsby.js </a>。凭借其出色的性能、大量的插件和完整的文档(众多特性中的一个),对我来说，这是一个建立个人网站的简单起点。我选择了Starter<a class="ae kl" href="https://github.com/EmaSuriano/gatsby-starter-mate" rel="noopener ugc nofollow" target="_blank">Gatsby Starter:Mate</a>来快速启动项目。一个简单的<code class="fe mm mn mo mp b">npx gatsby new personal-site <a class="ae kl" href="https://github.com/EmaSuriano" rel="noopener ugc nofollow" target="_blank">https://github.com/EmaSuriano</a>/gastsby-starter-mate</code>就创建了一个新项目，我开始运行了。</p><h1 id="a076" class="lj lk iq bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">羧甲基淀粉钠</h1><p id="16ab" class="pw-post-body-paragraph jn jo iq jp b jq mh js jt ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk ij bi translated">盖茨比首发:Mate已经与<a class="ae kl" href="http://www.contentful.com" rel="noopener ugc nofollow" target="_blank"> Contentful </a>融合。我没有使用该产品的经验，但是在通读了文档并浏览了演示站点和仪表板之后，这似乎是一种将站点内容与代码分开的强大方法。对于一个简单的个人网站来说，这可能有点过分了，但是我还是想探索一下这个产品。内容模型和灵活的API套件非常吸引人，并使通过GraphQL与Gatsby.js的集成变得容易。我使用Mate starter的内容模型&amp;内容作为起点，并从那里开始添加我自己的内容。</p><h1 id="d615" class="lj lk iq bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">主办；主持</h1><p id="7635" class="pw-post-body-paragraph jn jo iq jp b jq mh js jt ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk ij bi translated">Gatsby有几个托管服务的文档，我认为包括:</p><ul class=""><li id="c54b" class="mq mr iq jp b jq jr ju jv jy ms kc mt kg mu kk mv mw mx my bi translated">现在</li><li id="ccbe" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated">Github页面</li><li id="2df5" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated">网络生活</li></ul><p id="1362" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">经过一番研究，我选择了<a class="ae kl" href="https://www.netlify.com/" rel="noopener ugc nofollow" target="_blank"> Netlify </a>，因为它专注且简单。这不是一个完全明智的决定，但它对我的目的来说迄今为止效果很好。持续集成和自动HTTPS像宣传的那样工作，有点自动。作为一名开发者，我理解你不喜欢一切都被抽象化的观点，但不可否认的是，把一个网站放到网上是多么容易。</p><h2 id="213f" class="ne lk iq bd ll nf ng dn lp nh ni dp lt jy nj nk lx kc nl nm mb kg nn no mf np bi translated">解决纷争</h2><p id="a0c2" class="pw-post-body-paragraph jn jo iq jp b jq mh js jt ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk ij bi translated">为项目连接<a class="ae kl" href="https://github.com/timrbula/personal-site" rel="noopener ugc nofollow" target="_blank"> GitHub repo </a>的过程非常简单，几分钟后我就尝试了网站的第一次构建。它失败了😞。在深入研究了日志和代码之后，我发现为了连接到Contentful，需要将一个<code class="fe mm mn mo mp b">space_id</code>和一个<code class="fe mm mn mo mp b">api_key</code> <em class="nq"> </em>作为环境变量注入。通过<em class="nq">设置- &gt;构建&amp;部署</em>，在Netlify仪表板中添加环境变量很容易。在我添加了它们之后，我尝试了另一个版本，并且成功了！💚</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi nr"><img src="../Images/09168c88a81edf788c0f38c0032bc8cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c9eBHq1APuwelc-p9LIMkw.png"/></div></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">失败和成功😋</figcaption></figure><h1 id="11dc" class="lj lk iq bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">领域</h1><p id="fdb2" class="pw-post-body-paragraph jn jo iq jp b jq mh js jt ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk ij bi translated">大约一年前，我通过谷歌域名购买了一个域名。我从来没有用它来建立一个网站，但体验相对简单，价格也足够实惠。我想要那个域名和一个新的域名重定向到我的个人网站，所以我决定再次使用谷歌域名购买新的域名。我必须在Netlify中设置以下内容，以便在两个域上都可以访问我的站点:</p><ul class=""><li id="9077" class="mq mr iq jp b jq jr ju jv jy ms kc mt kg mu kk mv mw mx my bi translated">自定义主域</li><li id="33f2" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated">域别名</li></ul><h2 id="95e3" class="ne lk iq bd ll nf ng dn lp nh ni dp lt jy nj nk lx kc nl nm mb kg nn no mf np bi translated">自定义主域</h2><p id="ee2a" class="pw-post-body-paragraph jn jo iq jp b jq mh js jt ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk ij bi translated">设置我的自定义主域是通过以下步骤完成的:</p><ol class=""><li id="a639" class="mq mr iq jp b jq jr ju jv jy ms kc mt kg mu kk ns mw mx my bi translated">将新购买的域作为自定义域添加到Netlify仪表板中。</li><li id="764b" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk ns mw mx my bi translated">使用Netlify中的四个DNS服务器值更新Google Domains中的<em class="nq">配置DNS - &gt; </em> <em class="nq">名称服务器</em>设置。</li></ol><p id="d526" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">DNS更改在五分钟内传播，我的站点在我的自定义域中可用。</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi nt"><img src="../Images/3d6837080ccbed7e2ff26eaf694ac40c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_3C9cu3xRxUdsNkEDFBvnA.png"/></div></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">谷歌域名中的自定义域名服务器</figcaption></figure><h2 id="768a" class="ne lk iq bd ll nf ng dn lp nh ni dp lt jy nj nk lx kc nl nm mb kg nn no mf np bi translated">域别名</h2><p id="0df8" class="pw-post-body-paragraph jn jo iq jp b jq mh js jt ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk ij bi translated">如上所述，我注册了另一个域名，我想重定向到该网站。这是通过以下方式完成的:</p><ol class=""><li id="6af8" class="mq mr iq jp b jq jr ju jv jy ms kc mt kg mu kk ns mw mx my bi translated">将以前购买的域作为<em class="nq">域别名</em>添加到Netlify仪表板<em class="nq">中。</em></li><li id="34e7" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk ns mw mx my bi translated">使用Netlify提供的信息向Google Domains中的<em class="nq">配置DNS - &gt;自定义资源记录</em>设置添加一条记录。</li></ol><h2 id="3dd2" class="ne lk iq bd ll nf ng dn lp nh ni dp lt jy nj nk lx kc nl nm mb kg nn no mf np bi translated">安全性</h2><p id="c1e4" class="pw-post-body-paragraph jn jo iq jp b jq mh js jt ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk ij bi translated">在DNS更改被传播和确认后，Netlify通过“让我们加密”自动设置HTTPS (SSL/TLS)。精彩的😀。</p><h1 id="0c18" class="lj lk iq bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">结论</h1><p id="3b3e" class="pw-post-body-paragraph jn jo iq jp b jq mh js jt ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk ij bi translated">该网站可在<a class="ae kl" href="https://timrbula.me/" rel="noopener ugc nofollow" target="_blank"> timrbula.me </a>找到。这是一个非常简单的网站，不会偏离起点太远。对于一个小的Gatsby应用程序来说，性能如预期的那样好。</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi nu"><img src="../Images/5dbda5fbdfcc965cd9f724cb633255b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9MztplP2uZT-fZyzRFncBg.png"/></div></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">谷歌灯塔评分显示一个伟大的性能得分。归功于盖茨比</figcaption></figure><p id="d710" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">构建和部署过程也非常简单。任何对<code class="fe mm mn mo mp b">master</code>分支的推送或者Contentful上内容的更新(通过一个webhook)都会触发一个新版本通过Netlify部署出去。</p><p id="2591" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">总的来说，我对创建和托管一个有吸引力的、高性能的静态站点的工具印象深刻。我没有涵盖这个过程中的所有内容，尤其是我在starter中所做的React更改，因为我认为它对于任何有前端经验的人来说都是非常简单的，并不是特别有趣。我还为这个网站做了更多的工作，比如交叉发布中型文章，设置CI测试，修复可访问性问题，以及对我正在使用的工具提供的所有功能进行更多的研究。尽管如此，这是一个很好的开始，我期待着继续使用这些工具。</p></div><div class="ab cl km kn hu ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="ij ik il im in"><figure class="ku kv kw kx gt ky gh gi paragraph-image"><a href="https://levelup.gitconnected.com/"><div class="gh gi nv"><img src="../Images/439094b9a664ef0239afbc4565c6ca49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S9uYu-fFL3hIQLGVu0o-EQ.png"/></div></a></figure><div class="nw nx gp gr ny nz"><a href="https://gitconnected.com/learn/react" rel="noopener  ugc nofollow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd ir gy z fp oe fr fs of fu fw ip bi translated">学习React -最佳React教程(2018) | gitconnected</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">前45名React教程。课程由开发人员提交并投票，使您能够找到最好的React课程…</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">gitconnected.com</p></div></div><div class="oi l"><div class="oj l ok ol om oi on ld nz"/></div></div></a></div></div></div>    
</body>
</html>