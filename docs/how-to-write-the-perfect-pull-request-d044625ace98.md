# 如何写出完美的拉式请求

> 原文：<https://levelup.gitconnected.com/how-to-write-the-perfect-pull-request-d044625ace98>

## 这会给你的经理和团队留下深刻印象

![](img/50d7756d28bc35a37ea4f488fe27b92f.png)

安妮·斯普拉特在 [Unsplash](https://unsplash.com/photos/QckxruozjRg) 上的照片

当我们看到一个好的拉取请求时，我们都知道。它通常很清晰，容易通读，也容易给出反馈。错误的拉取请求？追溯起来很痛苦，很难理解，而且非常耗时。

很久以前，在我实习的第一周，一名开发人员实际上创建了一个由我和我的经理组成的小组，感谢我的拉请求，并指出我们应该按照这种格式前进。这是我第一次专业拉请求。这表明，只要付出努力，任何人都可以创建一个很好的拉动式请求。

在这篇文章中，我将阐明什么是好的拉请求，如何写一个完美的请求，以及为什么你应该写好的拉请求。

# 拉取请求是好的意味着什么？

这实际上与代码更改几乎没有任何关系。你不必是一个有经验的或者资深的开发者来提出一个很好的拉取请求。一个好的拉式请求是这样的:你理解它的意义，阐明代码变更的意图，很好地总结代码，并确定编写代码所涉及的一些思考过程。此外，一个好的拉请求会在问题被提出之前回答一些问题。我将在本文的后面详细阐述这一点。

# 良好拉动式请求的迹象:

*   **你收到了清晰的反馈**:反馈并不表明你的拉请求不好，而是表明你的代码需要改进。那是两码事。好的拉动式请求有助于提供好的、可操作的反馈。
*   人们会很快地审阅它:如果人们开始很快地审阅公关，这通常是一个好迹象；每当我被标记为一个坏的拉取请求时，我会推迟审查它，因为这将花费大量的时间和精力来审查，因为它会中断我的工作流程。
*   **你不会得到很多问题**:如果你的拉取请求受到“*为什么*”的困扰还有“*怎么*？”问题，那么很可能你没有写一个很好的。一个好的拉式请求很好地澄清了这两件事:你的决定和你如何去执行它们

# 如何写好拉式请求

## 分配适当的审阅者

指派那些与您首先更改的代码领域密切相关的人员。如果您的更改很复杂或者更改了平台的一个关键领域，那么确保您包括高级开发人员作为评审人员。对于小而简单的变化，你可以增加更多的初级开发人员。最后，分配适当数量的评审人员；不要为每个公关添加团队中的每个人，只有当你希望每个人都知道你所做的改变时才这样做。此外，不要添加太少的评审员，理想情况下，你的公司要求有一个最低数量的评审员。

## 添加详细描述

请确保您包含了回答此类问题的变更的详细描述:

*   这种改变应该做什么？
*   你做了什么架构上的决定吗？你为什么选择那个设计模式？
*   每个文件中所做更改的摘要是什么？(如果变化不直接)

## 添加可能的风险并突出显示有风险的代码

如果你的代码有风险，那么你应该明确地提到它。这会让人们对你的公关更加挑剔，这是一件好事。什么是风险公关？好吧，如果你对你写的一些代码不确定，那么你可以突出显示它以获得关于它的具体反馈。此外，如果您担心您更改的代码可能会影响其他行为或平台的其他领域，请确保强调这一点(如果您开始一项新工作，并且不完全了解该产品，这尤其有用)。

不确定什么构成风险？这里有一个小清单:

*   **性能下降**:您是否担心您所做的更改可能会严重影响性能？
*   **安全漏洞**:你认为你添加的代码会造成安全威胁吗？你担心你可能没有覆盖所有可能到来的威胁吗？一些包括 SQL 注入、DDoS 等。确保标记一个高级开发人员来解决这些问题。在设计公共 API 时，考虑这种类型的风险尤其重要。
*   **边缘情况**:您是否担心一些边缘情况可能会导致意外行为？你担心你错过了一些你没有想到的边缘案例吗？

## 包括测试计划

在您的拉取请求被批准后，下一步将是测试它。除了重要的边缘情况之外，包含一个测试计划允许更快的合并时间，也可以允许评审者可视化你的代码将如何工作。此外，它保证您的代码将被彻底测试；没有人比您更了解您所做的更改，因此提供测试计划可以帮助其他人确保您的代码是完全防弹的。

## 添加评论

我并不是说要在代码中添加注释——始终坚持你的公司制定的注释实践。相反，向拉请求本身添加注释。对您认为可能需要进一步解释或复杂的代码部分进行注释。如果您认为在某一点上需要他们的反馈，或者您认为这一部分与他们有关，您也可以在拉动请求的特定部分标记人员。同时，不要使用过多的注释，这会影响 pull 请求的可读性。总之，在有助于进一步理解的地方进行评论。

我错过什么了吗？是否还有其他因素使拉请求变得更好？回复这篇文章让我知道！

如果你喜欢这篇文章，我会感谢一个关注！我经常写这类内容和比较技术含量的。

# 分级编码

感谢您成为我们社区的一员！在你离开之前:

*   👏为故事鼓掌，跟着作者走👉
*   📰查看[级编码出版物](https://levelup.gitconnected.com/?utm_source=pub&utm_medium=post)中的更多内容
*   🔔关注我们:[推特](https://twitter.com/gitconnected) | [LinkedIn](https://www.linkedin.com/company/gitconnected) | [时事通讯](https://newsletter.levelup.dev)

🚀👉 [**加入升级人才集体，找到一份惊艳的工作**](https://jobs.levelup.dev/talent/welcome?referral=true)