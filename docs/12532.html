<html>
<head>
<title>How a HashMap Works Internally</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">散列表如何在内部工作</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-does-hashmap-work-internally-612dd950822f?source=collection_archive---------0-----------------------#2022-06-18">https://levelup.gitconnected.com/how-does-hashmap-work-internally-612dd950822f?source=collection_archive---------0-----------------------#2022-06-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="39f9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">嘿大家好👋,</p><p id="b428" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我又回到了另一个有趣的话题，那就是“散列表”。在本文中，我们将学习hashmap以及hashmap的内部工作原理。</p><p id="d8e6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一个非常重要的面试问题。在我过去的一次采访中，有人问我hashmap的工作方式，我在很多解决方案中都使用了它。</p><p id="cfe8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于所有的问题解决者来说，HashMap是解决编码问题最受欢迎的数据结构之一。连我也是其中之一😆。散列表可以让问题的解决变得更加容易和快捷。让我们找出原因😉</p><p id="6411" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这个编程世界中，散列是一种存储键值对的方法，这是通过利用Java中的HashMaps来实现的。因为我用Java编码，所以我将讨论Java中散列表的工作方式。</p><blockquote class="kl km kn"><p id="fba6" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated"><strong class="jp ir">什么是HashMap？</strong></p></blockquote><p id="9d7e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">HashMap类是Java集合框架的一部分，用于存储键值对中的元素。hashmap中的所有键都是唯一的。它允许通过键检索值。</p><p id="5030" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">假设您想要存储员工的详细信息，比如员工id和员工姓名，那么您可以使用hashmap轻松地存储它们。雇员id作为键，雇员姓名作为值，可以映射到雇员id。</p><p id="de4b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">关于hashmap需要记住的一些要点:</strong></p><ul class=""><li id="cb54" class="ks kt iq jp b jq jr ju jv jy ku kc kv kg kw kk kx ky kz la bi translated">用于使用哈希表存储键值对</li><li id="dd16" class="ks kt iq jp b jq lb ju lc jy ld kc le kg lf kk kx ky kz la bi translated">只允许唯一的键</li><li id="3732" class="ks kt iq jp b jq lb ju lc jy ld kc le kg lf kk kx ky kz la bi translated">Hashmap不保证元素的顺序</li></ul><blockquote class="kl km kn"><p id="3cde" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated"><strong class="jp ir">如果我们试图在一个散列表中用同一个键存储多个值会怎么样？</strong></p><p id="edb3" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated">嗯，答案是否定的！在HashMap中，不能用同一个键存储多个值。如果您尝试这样做，那么将会发生重写，即旧的键值对将被新的键值对替换。</p></blockquote><p id="95e7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">散列表的内部工作:</strong></p><p id="4d43" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">散列表使用散列表，然而，它在内部使用两种数据结构实现，即数组和链表。每当你在内部声明一个hashmap时，它都会创建一个桶数组。这些桶被称为节点，或者你可以说是一个链表。一个节点可以表示:</p><ul class=""><li id="86f6" class="ks kt iq jp b jq jr ju jv jy ku kc kv kg kw kk kx ky kz la bi translated">哈希码</li><li id="9845" class="ks kt iq jp b jq lb ju lc jy ld kc le kg lf kk kx ky kz la bi translated">钥匙</li><li id="dea4" class="ks kt iq jp b jq lb ju lc jy ld kc le kg lf kk kx ky kz la bi translated">价值</li><li id="7d8d" class="ks kt iq jp b jq lb ju lc jy ld kc le kg lf kk kx ky kz la bi translated">下一个节点的地址</li></ul><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi lg"><img src="../Images/c98789b010f9e588d5d34d5fab9ffc98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8R3e49BbAuMEJhrx.jpg"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">HashMap的内部工作</figcaption></figure><p id="2ab0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，当您使用HashMap类的put()方法在键中插入值时，hashcode将由put()方法生成。Hashcode使得接收值的过程更快更容易。这个hashcode被进一步计算，它将生成用于存储值的索引。</p><p id="bcd3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们的键的值将以链表的形式存储在hashcode给出的索引中。</p><p id="2add" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了更有效地检索键值对，Java 8引入了二叉查找树(BST)来代替链表。</p><p id="da63" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，让我们看看如何计算索引来存储值。</p><blockquote class="kl km kn"><p id="cca9" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated"><strong class="jp ir">HashMap中的索引计算:</strong></p></blockquote><p id="df4d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">键的Hashcode可能非常大，无法创建数组。生成的Hashcode可能在整数的范围内，如果我们为这么长的范围创建数组，那么它可能是一个消耗内存的任务。</p><pre class="lh li lj lk gt lw lx ly lz aw ma bi"><span id="8f5b" class="mb mc iq lx b gy md me l mf mg"><strong class="lx ir">index = hashCode(key) &amp; (length-1)</strong></span></pre><p id="c375" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">表达式<code class="fe mh mi mj lx b"><strong class="jp ir">hashcode &amp; (length-1)</strong></code>使用<code class="fe mh mi mj lx b"><strong class="jp ir">length-1</strong></code>对<code class="fe mh mi mj lx b"><strong class="jp ir">hashcode</strong></code>进行逐位<code class="fe mh mi mj lx b"><strong class="jp ir">AND</strong></code>，这就像一个位掩码，只返回<code class="fe mh mi mj lx b"><strong class="jp ir">hashcode</strong></code>的低阶位，从而形成了<code class="fe mh mi mj lx b"><strong class="jp ir">hashcode % length</strong></code>的超快速变体。</p><blockquote class="kl km kn"><p id="5d62" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated">在Hashmap中，put(插入)、remove(删除)和get(搜索)操作是在固定的时间执行的，也就是说，时间复杂度是<strong class="jp ir"> O(1) </strong>，假设键值对在桶中分布良好。</p></blockquote><p id="3df5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">散列表中的冲突:</strong></p><p id="94f7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">哈希冲突是指对于两个或更多不同的记录，哈希函数返回哈希表中相同的桶位置。这是使用hashmap的主要缺点。</p><p id="40c4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">HashMap使用这两种方法来处理冲突:</p><ol class=""><li id="0c83" class="ks kt iq jp b jq jr ju jv jy ku kc kv kg kw kk mk ky kz la bi translated">单独链接</li><li id="1cb8" class="ks kt iq jp b jq lb ju lc jy ld kc le kg lf kk mk ky kz la bi translated">散列地址</li></ol><p id="b7c5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">用于独立链接的数据结构是</p><ol class=""><li id="4e61" class="ks kt iq jp b jq jr ju jv jy ku kc kv kg kw kk mk ky kz la bi translated">链表</li><li id="bda8" class="ks kt iq jp b jq lb ju lc jy ld kc le kg lf kk mk ky kz la bi translated">自平衡二叉查找树</li><li id="7c69" class="ks kt iq jp b jq lb ju lc jy ld kc le kg lf kk mk ky kz la bi translated">动态大小数组</li></ol><p id="0701" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在链接中，所有映射到同一个索引的键值对都将存储在该索引的链表中。类似地，二分搜索法树也可以用于链接。</p><p id="d858" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">碰撞是一个需要了解的非常重要的话题。我将分享一篇关于这方面的文章。</p><p id="f7dc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是我到目前为止对HashMap的所有了解。如果你觉得这篇文章有用，那就给它一个掌声。</p><p id="8d15" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">快乐学习！！！</p></div></div>    
</body>
</html>