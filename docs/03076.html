<html>
<head>
<title>Stripe payment form with ReactJS and Material-UI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">具有反应和材料的条形付款表单-UI</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/stripe-payment-form-with-reactjs-and-material-ui-cf6fe3f0f653?source=collection_archive---------2-----------------------#2020-04-18">https://levelup.gitconnected.com/stripe-payment-form-with-reactjs-and-material-ui-cf6fe3f0f653?source=collection_archive---------2-----------------------#2020-04-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div class="gh gi jq"><img src="../Images/30a930011a13a3df85bd5fb878fa4b72.png" data-original-src="https://miro.medium.com/v2/resize:fit:930/format:webp/1*NOjexGq1ScH_0sRpuKCb7w.png"/></div></figure><p id="096b" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">这些天来，越来越多的协会/组织正在寻找收集捐款或接收付款，所有可用的文件都与“购物车”和“结帐”有关。</p><p id="13e0" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">如果我想让用户选择金额和货币，该怎么办？</p><p id="7e8c" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">这就是事情的原委。</p><blockquote class="kv kw kx"><p id="2e8a" class="jx jy ky jz b ka kb kc kd ke kf kg kh kz kj kk kl la kn ko kp lb kr ks kt ku im bi translated"><strong class="jz iu">免责声明</strong> <br/>本文绝不是由Stripe或Material-UI赞助的(尽管我希望是)。我已经使用这两个图书馆好几年了，我想是时候分享我的经验和知识了。</p></blockquote><p id="89f3" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><br/> <strong class="jz iu">本文共分4个部分1 .</strong>带材质的用户界面-UI <br/> <strong class="jz iu"> 2。</strong> <a class="ae lc" href="https://t.co/NiWBVDCcg5?amp=1" rel="noopener ugc nofollow" target="_blank">创建表单</a> <br/> <strong class="jz iu"> 3。</strong> <a class="ae lc" href="https://t.co/3nKnR4e8sC?amp=1" rel="noopener ugc nofollow" target="_blank">保存用户输入与React use context</a><br/><strong class="jz iu">4。</strong> <a class="ae lc" href="https://t.co/UArLhAcZDs?amp=1" rel="noopener ugc nofollow" target="_blank">实现条纹</a></p><blockquote class="kv kw kx"><p id="1ba6" class="jx jy ky jz b ka kb kc kd ke kf kg kh kz kj kk kl la kn ko kp lb kr ks kt ku im bi translated">如果你只对如何实现Stripe感兴趣，直接跳到<a class="ae lc" href="https://t.co/UArLhAcZDs?amp=1" rel="noopener ugc nofollow" target="_blank">第4部分</a>。</p></blockquote><p id="7cab" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">有了这些，我们开始吧。以下是我们将要创建的内容:</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi ld"><img src="../Images/fb3a48672098d29e7b197c5303a803c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bMva_EsAAQqjv9cRH4yuxQ.png"/></div></div></figure><blockquote class="kv kw kx"><p id="a3ea" class="jx jy ky jz b ka kb kc kd ke kf kg kh kz kj kk kl la kn ko kp lb kr ks kt ku im bi translated">懒得看全了…没问题，在这里找到完整项目<a class="ae lc" href="https://github.com/angeloron/react-material-ui-stripe-payment-form" rel="noopener ugc nofollow" target="_blank">。</a></p></blockquote></div><div class="ab cl lm ln hx lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="im in io ip iq"><p id="c4fd" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">好了，现在让我们从书呆子气中走出来，进入有趣的部分。</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lt"><img src="../Images/683a54a4b0ac84a7f09eef5401468388.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*Jk0ZewLoBJk1YMxe_2tu3A.jpeg"/></div></div></figure><h1 id="13da" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">设置</h1><p id="f28d" class="pw-post-body-paragraph jx jy it jz b ka ms kc kd ke mt kg kh ki mu kk kl km mv ko kp kq mw ks kt ku im bi translated">让我们首先创建一个项目并安装所有需要的依赖项，或者在这里下载package.json文件<a class="ae lc" href="https://github.com/angeloron/react-material-ui-stripe-payment-form/blob/master/package.json" rel="noopener ugc nofollow" target="_blank"/>。</p><pre class="le lf lg lh gt mx my mz na aw nb bi"><span id="c524" class="nc lv it my b gy nd ne l nf ng">npx create-react-app stripe-form<br/>npm i @stripe/react-stripe-js @stripe/stripe-js <!-- -->@material-ui/core @material-ui/icons @material-ui/lab</span></pre><p id="cb85" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">对于工作流，我习惯于将组件与视图分开，并将主题和功能保存在一个固定的文件夹中。因此，在“src”文件夹中创建以下文件夹和文件。</p><p id="1aa1" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">你不必有相同的工作流程，但我就是这样做的:</p><pre class="le lf lg lh gt mx my mz na aw nb bi"><span id="09e4" class="nc lv it my b gy nd ne l nf ng">src/<br/>├── components/<br/>│   └── StripeInput.js<br/>├── constants/<br/>│   ├── functions.js<br/>│   └── theme.js<br/>└── views/<br/>    ├── Footer.js<br/>    ├── Header.js<br/>    ├── Main.js<br/>    ├── Stepper.js<br/>    ├── StepConnector.js<br/>    ├── StepIcons.js<br/>    └── Forms<br/>        ├── ContactForm.js<br/>        ├── PaymentForm.js<br/>        └── ServiceForm.js</span></pre><h1 id="053d" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">设计</h1><p id="acb4" class="pw-post-body-paragraph jx jy it jz b ka ms kc kd ke mt kg kh ki mu kk kl km mv ko kp kq mw ks kt ku im bi translated">我更像是一个前端类型的人，总是从设置主题开始，因为我希望看到我的项目以其适当的设计和<a class="ae lc" href="https://material-ui.com" rel="noopener ugc nofollow" target="_blank"> Material-UI </a>使这一部分对我们来说很容易，因为“<a class="ae lc" href="https://material-ui.com/customization/theming/" rel="noopener ugc nofollow" target="_blank">createmiutheme</a>”不用说，我的网站必须有响应性，因此我也使用“<a class="ae lc" href="https://material-ui.com/customization/theming/#responsivefontsizes-theme-options-theme" rel="noopener ugc nofollow" target="_blank"> responsiveFontSizes </a>”。</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="nh ni l"/></div><figcaption class="nj nk gj gh gi nl nm bd b be z dk translated">主题. js</figcaption></figure><p id="1cb9" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">清理App.js文件并将新主题应用到我们的应用程序中:</p><pre class="le lf lg lh gt mx my mz na aw nb bi"><span id="7aa6" class="nc lv it my b gy nd ne l nf ng">//App.js<br/>import React from 'react';<br/>import { ThemeProvider } from '@material-ui/styles';<br/>import theme from './constants/theme';</span><span id="0c54" class="nc lv it my b gy nn ne l nf ng">const App = () =&gt; &lt;ThemeProvider theme={theme}&gt;&lt;/ThemeProvider&gt;</span><span id="a9f3" class="nc lv it my b gy nn ne l nf ng">export default App;</span></pre><h1 id="d2b9" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">页眉</h1><p id="2121" class="pw-post-body-paragraph jx jy it jz b ka ms kc kd ke mt kg kh ki mu kk kl km mv ko kp kq mw ks kt ku im bi translated"><em class="ky"> src/views/Header.js </em></p><p id="a4bd" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">对于页眉，我们将使用Material-UI的<a class="ae lc" href="https://material-ui.com/components/app-bar/#app-bar" rel="noopener ugc nofollow" target="_blank">应用栏</a>，并使用<a class="ae lc" href="https://material-ui.com/styles/api/#makestyles-styles-options-hook" rel="noopener ugc nofollow" target="_blank"> makeStyles </a>对其进行定制。默认情况下，我使用ReactJS的标志和标题的占位符:“标题在这里”，你应该把它改为你选择的标题。</p><p id="5c73" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">我还使用了<a class="ae lc" href="https://material-ui.com/components/typography" rel="noopener ugc nofollow" target="_blank">排版</a>组件，而不是普通的&lt; h1 &gt;，因为自从我们将<a class="ae lc" href="https://material-ui.com/customization/theming/#responsivefontsizes-theme-options-theme" rel="noopener ugc nofollow" target="_blank"> responsiveFontSizes </a>应用到我们的主题后，它将根据屏幕大小调整文本的大小。</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="40e0" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">同样为了保持响应，我使用了Material-UI中的<a class="ae lc" href="https://material-ui.com/components/grid" rel="noopener ugc nofollow" target="_blank">网格</a>，这使得CSS网格的实现更加容易。</p><p id="70ea" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">请注意，我在版式上使用了variant="h4 "和component="h1 ",因为h1会太大，但出于搜索引擎优化(SEO)的目的，您希望有一个<h1>作为标题。</h1></p><p id="7561" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">向App.js文件添加头:</p><pre class="le lf lg lh gt mx my mz na aw nb bi"><span id="4147" class="nc lv it my b gy nd ne l nf ng">//App.js<br/>import React from 'react';<br/>import { ThemeProvider } from '@material-ui/styles';<br/>import theme from './constants/theme';<br/><strong class="my iu">import Header from "./views/Header";</strong></span><span id="eb63" class="nc lv it my b gy nn ne l nf ng">const App = () =&gt; &lt;ThemeProvider theme={theme}&gt;<br/>    <strong class="my iu">&lt;Header /&gt;</strong><br/>&lt;/ThemeProvider&gt;</span><span id="2039" class="nc lv it my b gy nn ne l nf ng">export default App;</span></pre><p id="fb7f" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">如果还没有完成，尝试“npm开始”,你应该有一个不错的标题。</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi no"><img src="../Images/d9c4e18291c63c7a32f6f074c0ac89ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lPbnujyanDuiWWlsrosEaQ.png"/></div></div></figure><blockquote class="kv kw kx"><p id="d327" class="jx jy ky jz b ka kb kc kd ke kf kg kh kz kj kk kl la kn ko kp lb kr ks kt ku im bi translated">注意应用于topAppBar的CSS:{ Height:" 20vh "，minHeight: "200px"}如果您更改这些数字，您将不得不调整我们稍后创建的主框。</p></blockquote><h1 id="5197" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">页脚</h1><p id="3e6c" class="pw-post-body-paragraph jx jy it jz b ka ms kc kd ke mt kg kh ki mu kk kl km mv ko kp kq mw ks kt ku im bi translated"><em class="ky"> src/views/Footer.js </em></p><p id="a097" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">在本文开头的原始截屏和最终源代码的链接上，您会看到“法律声明”、“隐私政策”等部分。但是我不想在这里讨论这个。你还会看到两个看似在页面中间的段落，但它们实际上是页脚的一部分，这取决于屏幕高度，你希望它与页脚保持比例。</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi np"><img src="../Images/876e6b15440d7c120dae245218126c97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RHTeW-QIpwkQPlwlEJ2F9A.png"/></div></div></figure><p id="f543" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">开始吧，我将使用<a class="ae lc" href="https://material-ui.com/components/grid" rel="noopener ugc nofollow" target="_blank">网格</a>用于两段，另一个<a class="ae lc" href="https://material-ui.com/components/app-bar/#app-bar" rel="noopener ugc nofollow" target="_blank"> AppBar </a>用于版权声明。</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="3d2f" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">我使用了安全和信息图标，你可以从<a class="ae lc" href="https://material-ui.com/components/material-icons" rel="noopener ugc nofollow" target="_blank">材质图标</a>中选择许多其他图标。</p><p id="e74e" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">类似于页眉上的H1，我将component="footer "添加到AppBar，因为我希望它呈现为一个<footer>。</footer></p><p id="8e70" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">向App.js文件添加页脚:</p><pre class="le lf lg lh gt mx my mz na aw nb bi"><span id="f557" class="nc lv it my b gy nd ne l nf ng">//App.js<br/>import React from 'react';<br/>import { ThemeProvider } from '@material-ui/styles';<br/>import theme from './constants/theme';<br/>import Header from "./<strong class="my iu">views/</strong>Header";<br/><strong class="my iu">import Footer from "./views/Footer";</strong></span><span id="5f61" class="nc lv it my b gy nn ne l nf ng">const App = () =&gt; &lt;ThemeProvider theme={theme}&gt;<br/>    &lt;Header /&gt;<br/>   <strong class="my iu"> &lt;Footer /&gt;</strong><br/>&lt;/ThemeProvider&gt;</span><span id="94aa" class="nc lv it my b gy nn ne l nf ng">export default App;</span></pre><p id="c677" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">在这一点上，很明显你在页眉和页脚之间遗漏了一些东西。</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi nq"><img src="../Images/00e1dc354b88abe082b9869356ddf5e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8GQVFWRPvGPG-CHxh07ZdA.png"/></div></div></figure><h1 id="03f0" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">主要的</h1><p id="c473" class="pw-post-body-paragraph jx jy it jz b ka ms kc kd ke mt kg kh ki mu kk kl km mv ko kp kq mw ks kt ku im bi translated"><em class="ky"> src/views/Main.js </em></p><p id="6f0d" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">首先，我将添加一个<a class="ae lc" href="https://material-ui.com/components/box" rel="noopener ugc nofollow" target="_blank">框</a>——这是一个简单的&lt; div &gt;包装器，并使用它来设置该组件的最小高度，以便页脚最低限度地位于页面底部(这显然取决于您的屏幕大小，如果您喜欢，您可以添加位置:固定到您的页脚)。</p><p id="e289" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">然后，我添加了一个<a class="ae lc" href="https://material-ui.com/components/container/" rel="noopener ugc nofollow" target="_blank">容器</a>，它确保组件能够响应，并在每个屏幕尺寸上正确居中。</p><p id="c308" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">有了这一套，我只是错过了<a class="ae lc" href="https://material-ui.com/components/paper" rel="noopener ugc nofollow" target="_blank">纸</a>组件添加一个漂亮的阴影到整个事情。</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="1330" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">将这个新组件添加到App.js:</p><pre class="le lf lg lh gt mx my mz na aw nb bi"><span id="7215" class="nc lv it my b gy nd ne l nf ng">//App.js<br/>import React from 'react';<br/>import { ThemeProvider } from '@material-ui/styles';<br/>import theme from './constants/theme';<br/>import Header from "./<strong class="my iu">views/</strong>Header";<br/>import Footer from "./<strong class="my iu">views/</strong>Footer";<br/><strong class="my iu">import Main from "./views/Main";</strong></span><span id="6f2a" class="nc lv it my b gy nn ne l nf ng">const App = () =&gt; &lt;ThemeProvider theme={theme}&gt;<br/>     &lt;Header /&gt;<br/>     <strong class="my iu">&lt;Main /&gt;</strong><br/>     &lt;Footer /&gt;<br/>&lt;/ThemeProvider&gt;</span><span id="5285" class="nc lv it my b gy nn ne l nf ng">export default App;</span></pre><p id="6327" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">你会看到这片神奇的白色空间:</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi nr"><img src="../Images/b7140d2a4b63f10f9fd86d78f6768396.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PNAUBWgjTPPc4PnfbplAuQ.png"/></div></div></figure><figure class="le lf lg lh gt ju gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/a3e61f6b6f6912d235e7726d202c27bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*M4I9AwLq8eKWMNLLPB1y3w.jpeg"/></div></figure><p id="bd93" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">是的，我知道，没有性感的影子，没有盒子，什么都没有…不要担心它在那里，但只是缺少内容。</p><h1 id="1a5a" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">跳舞者</h1><p id="9400" class="pw-post-body-paragraph jx jy it jz b ka ms kc kd ke mt kg kh ki mu kk kl km mv ko kp kq mw ks kt ku im bi translated"><em class="ky"> src/views/Stepper.js </em></p><p id="2ded" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">在我看来，Material-UI的<a class="ae lc" href="https://material-ui.com/components/steppers/#customized-stepper" rel="noopener ugc nofollow" target="_blank"> stepper </a>组件可能是该库中最复杂的组件。我不得不定制它以适应整体设计。为了保持有序，我把图标和连接器放在不同的文件中。</p><p id="eebd" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">通过在步进器中添加3个步骤和一个放表格的容器来渐变。</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="5686" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">我再次为CSS使用了makeStyles，并用框和网格的组合来包装表单。</p><p id="9176" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">我将步进器的高度设置为与标题成比例，并从在theme.js中创建的主题对象中获取背景色</p><p id="cf17" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">我创建了一个空的可迭代数组来循环3次，因为我的步进器上有3步。</p><p id="3ebe" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">最后，您应该开始在应用程序上看到一些内容:</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi nt"><img src="../Images/77c2296c9cf8e8fee7ec21d57874f35e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NU826b5YOyDQqG5xLnEvQg.png"/></div></div></figure><p id="d151" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">是时候添加图标和连接器了</p><h1 id="61af" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">阶梯图标</h1><p id="beba" class="pw-post-body-paragraph jx jy it jz b ka ms kc kd ke mt kg kh ki mu kk kl km mv ko kp kq mw ks kt ku im bi translated"><em class="ky"> src/views/StepIcons.js </em></p><p id="3b88" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">这次我选择了联系人邮件、信息和支付图标，但是你也可以从<a class="ae lc" href="https://material-ui.com/components/material-icons/" rel="noopener ugc nofollow" target="_blank">材料图标库中选择任何你想要的图标</a>。</p><p id="db63" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">在下面的代码中，你会看到使用clsx，对于那些不知道的人来说，这个小函数允许我方便地使用多个类名。</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="8f28" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">向Stepper.js添加StepIcons和StepLabel</p><pre class="le lf lg lh gt mx my mz na aw nb bi"><span id="8e5f" class="nc lv it my b gy nd ne l nf ng">//Stepper.js<br/>import React from 'react';                       import { makeStyles } from '@material-ui/core/styles';                       import {<br/>     Stepper,<br/>     Step,<br/>     <strong class="my iu">StepLabel,</strong><br/>     Box,<br/>     Grid,<br/>} from '@material-ui/core';<br/><strong class="my iu">import StepIcons from "./StepIcons";</strong></span><span id="cb9d" class="nc lv it my b gy nn ne l nf ng">[...]</span><span id="5dd4" class="nc lv it my b gy nn ne l nf ng">&lt;Stepper alternativeLabel className={classes.stepper}&gt;<br/>{/* Change the number of loops here based on StepContent */}<br/>[1, 2, 3].map(e =&gt; &lt;Step key={e}&gt;<br/>     <strong class="my iu">&lt;StepLabel StepIconComponent={StepperIcons} /&gt;</strong><br/>&lt;/Step&gt;<br/>)}<br/>&lt;/Stepper&gt;</span></pre><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi nu"><img src="../Images/fa3f8d4f97fbf62ff5887a274963d519.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j1sId6F_GbcOn2-1RfLmgA.png"/></div></div></figure><p id="b9fc" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">如你所见，连接器不合适，因此这是下一步要处理的事情。</p><h1 id="4012" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">阶梯连接器</h1><p id="0f4e" class="pw-post-body-paragraph jx jy it jz b ka ms kc kd ke mt kg kh ki mu kk kl km mv ko kp kq mw ks kt ku im bi translated"><em class="ky">src/views/step connector . js</em></p><p id="9b74" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><a class="ae lc" href="https://material-ui.com/api/step-connector/" rel="noopener ugc nofollow" target="_blank"> StepConnector </a>是Material-UI的一个组件，我们将使用<a class="ae lc" href="https://material-ui.com/guides/typescript/#usage-of-withstyles" rel="noopener ugc nofollow" target="_blank">和</a>重新设计。</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="4d9e" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">将StepConnector添加到Stepper.js</p><pre class="le lf lg lh gt mx my mz na aw nb bi"><span id="d5ab" class="nc lv it my b gy nd ne l nf ng"><strong class="my iu">import StepConnector from './StepConnector'</strong></span><span id="2cb6" class="nc lv it my b gy nn ne l nf ng">[...]</span><span id="303a" class="nc lv it my b gy nn ne l nf ng">return &lt;&gt;<br/>&lt;Stepper alternativeLabel className={classes.stepper} <strong class="my iu">connector={&lt;StepConnector /&gt;}</strong>&gt;<br/>     {/* Change the number of loops here based on StepContent */}<br/>     {[1, 2, 3].map(e =&gt;<br/>          &lt;Step key={e}&gt;<br/>              &lt;StepLabel StepIconComponent={StepperIcons} /&gt;<br/>          &lt;/Step&gt;)}<br/>&lt;/Stepper&gt;</span></pre><p id="448d" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">你最终会为我们的踏步机得到一个漂亮的头球。</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi nu"><img src="../Images/d112852ba472ddc75c4803615346f016.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E50Y6ZqIY-7M8Mj79DRIHA.png"/></div></div></figure><p id="ea85" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">现在是时候创建一个在这些步骤之间切换的函数了…</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/3e0d3877f77747e585ceaf7d26a930aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*c-Q1APQ75Uy009tS5h9odg.png"/></div></figure><p id="5552" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">让我们回到Stepper.js</p><h1 id="c73b" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">跳舞者</h1><p id="f6cb" class="pw-post-body-paragraph jx jy it jz b ka ms kc kd ke mt kg kh ki mu kk kl km mv ko kp kq mw ks kt ku im bi translated"><em class="ky"> src/views/Stepper.js </em></p><p id="1314" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">我们需要添加一个状态来查看哪个步骤当前是活动的。首先从react导入useState。</p><pre class="le lf lg lh gt mx my mz na aw nb bi"><span id="8888" class="nc lv it my b gy nd ne l nf ng">import React<strong class="my iu">, { useState }</strong> from "react";</span></pre><p id="3efa" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">并在步进器功能中添加“activeStep”状态:</p><pre class="le lf lg lh gt mx my mz na aw nb bi"><span id="39bd" class="nc lv it my b gy nd ne l nf ng">const Steppers = () =&gt; {<br/><strong class="my iu">const [activeStep, setActiveStep] = useState(0)</strong> //step 0 by default</span></pre><p id="40c5" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">Stepper组件有一个activeStep属性，用于更新图标和连接器，所以让我们更新它。</p><pre class="le lf lg lh gt mx my mz na aw nb bi"><span id="a1eb" class="nc lv it my b gy nd ne l nf ng">&lt;Stepper alternativeLabel className={classes.stepper} connector={&lt;StepConnector /&gt;} <strong class="my iu">activeStep={activeStep}</strong>&gt;</span></pre><p id="3fd8" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">现在，如果您将状态更改为1“use state(1)”，您将会看到下一个图标会高亮显示。</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi nu"><img src="../Images/33e734baf4569f1ebe9eb6c5e9ed4808.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SnjbiLTP-FGjmtZ87vPA-g.png"/></div></div></figure><p id="590b" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">为了让用户与这些图标交互，我们将添加2个按钮。</p><p id="fa67" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">首先将“Button”导入到@material-ui/core中</p><pre class="le lf lg lh gt mx my mz na aw nb bi"><span id="94b7" class="nc lv it my b gy nd ne l nf ng">import {<br/>     Stepper,<br/>     Step,<br/>     StepLabel,<br/>     Box,<br/>     Grid,<br/>     <strong class="my iu">Button</strong><br/>} from '@material-ui/core';</span></pre><p id="4037" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">给按钮添加一些样式</p><pre class="le lf lg lh gt mx my mz na aw nb bi"><span id="2e66" class="nc lv it my b gy nd ne l nf ng">const style = makeStyles(theme =&gt; ({<br/><strong class="my iu">    button: {<br/>         marginRight: theme.spacing(1),<br/>    },<br/></strong>    mainBox: {...</span></pre><p id="f034" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">在网格组件外部和框内部添加两个按钮。一个按钮是向前移动，另一个是向后移动。</p><pre class="le lf lg lh gt mx my mz na aw nb bi"><span id="0a31" class="nc lv it my b gy nd ne l nf ng">     &lt;/Grid&gt;<br/>     &lt;Button disabled={activeStep === 0} className={classes.button}&gt;<br/>        Back<br/>     &lt;/Button&gt;<br/>     &lt;Button variant="contained" color="primary" className={classes.button}&gt;<br/>         {activeStep === 2 ? 'Pay' : 'Next'}<br/>     &lt;/Button&gt;<br/>&lt;/Box&gt;</span></pre><p id="1afa" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">如果活动步骤是第一步，则后退按钮被禁用，如果活动步骤是最后一步(在本例中为2)，则文本变为“支付”，因为最后一个按钮将启动支付。</p><p id="196b" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">在这一点上，你应该有两个漂亮但无用的按钮在你的步进器的底部。</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi nv"><img src="../Images/660f676b3438095a45a7964970c53be5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FovaXRUDH60rouzUcQv9Ow.png"/></div></div></figure><p id="49f5" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">是时候创建一些函数来让这些按钮与步进器交互了。我们将创建两个函数:“handleNext”和“handleBack”。</p><pre class="le lf lg lh gt mx my mz na aw nb bi"><span id="c413" class="nc lv it my b gy nd ne l nf ng">const handleNext = () =&gt; setActiveStep(prevActiveStep =&gt; prevActiveStep + 1);<br/>const handleBack = () =&gt; setActiveStep((prevActiveStep) =&gt; prevActiveStep - 1);</span></pre><p id="1136" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">将这些函数添加到每个按钮上的onClick侦听器中:</p><pre class="le lf lg lh gt mx my mz na aw nb bi"><span id="2d2d" class="nc lv it my b gy nd ne l nf ng">&lt;Button disabled={activeStep === 0} className={classes.button} onClick={handleBack}&gt;<br/>     Back<br/>&lt;/Button&gt;<br/>&lt;Button variant="contained" color="primary" className={classes.button} onClick={handleNext}&gt;<br/>     {activeStep === 2 ? 'Pay' : 'Next'}<br/>&lt;/Button&gt;</span></pre><p id="09a0" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">就这样，奇迹发生了！现在，您可以在这些步骤之间导航。</p><p id="73d8" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">但是有一个问题…一旦你按下“支付”按钮就会变成“下一步”，其他什么也不会发生。这是因为我们没有写当用户完成这两个步骤时必须做什么。</p><p id="23a7" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">当用户完成支付后，你会希望有一个感谢信息，也许是一个“重置”按钮，返回退出表单。</p><p id="5de5" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">现在，我们将创建一个简单的“重置”按钮，它带有一个onClick listenner，可以将activeStep改回0，并且该按钮应该只在activeStep = 3时出现(即:当用户完成支付时)。</p><p id="a3ac" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">让我们首先在“handleNext”和“handleBack”函数之后创建一个“handleReset”函数:</p><pre class="le lf lg lh gt mx my mz na aw nb bi"><span id="aba8" class="nc lv it my b gy nd ne l nf ng">const handleNext = () =&gt; setActiveStep(prevActiveStep =&gt; prevActiveStep + 1);<br/>const handleBack = () =&gt; setActiveStep((prevActiveStep) =&gt; prevActiveStep - 1);<br/><strong class="my iu">const handleReset = () =&gt; setActiveStep(0);</strong></span></pre><p id="ce05" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">然后添加一个内联if语句，检查activeStep是否等于上一步(本例中为3)。</p><pre class="le lf lg lh gt mx my mz na aw nb bi"><span id="aee2" class="nc lv it my b gy nd ne l nf ng">{<br/>activeStep === 3<br/>?<br/>&lt;Button onClick={handleReset} className={classes.button}&gt;<br/>     Reset<br/>&lt;/Button&gt;<br/>:<br/>&lt;&gt;<br/>     &lt;Button disabled={activeStep === 0} className={classes.button} onClick={handleBack}&gt;<br/>          Back<br/>     &lt;/Button&gt;<br/>     &lt;Button variant="contained" color="primary" className={classes.button} onClick={handleNext}&gt;<br/>          {activeStep === 2 ? 'Pay' : 'Next'}<br/>     &lt;/Button&gt;<br/>&lt;/&gt;<br/>}</span></pre><p id="18c2" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">总结一下，Stepper.js应该是这样的:</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="61d2" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">这是第一部分，你现在有了页面的基本布局和一个功能步进器。</p><p id="ba72" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">完成后，让我们进入第2部分:</p><div class="nw nx gp gr ny nz"><a href="https://t.co/NiWBVDCcg5?amp=1" rel="noopener  ugc nofollow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd iu gy z fp oe fr fs of fu fw is bi translated">带反应和材料的条纹支付表单-ui -第2部分</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">一个语言很重要的地方</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">t.co</p></div></div><div class="oi l"><div class="oj l ok ol om oi on jv nz"/></div></div></a></div></div></div>    
</body>
</html>