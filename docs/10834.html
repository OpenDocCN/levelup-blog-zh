<html>
<head>
<title>How To Analyze Your Whats App Data With R Programming.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用R编程分析你的Whats App数据？</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-analyze-your-whatsapp-data-with-r-programming-dd6a42c1a0e0?source=collection_archive---------2-----------------------#2022-01-16">https://levelup.gitconnected.com/how-to-analyze-your-whatsapp-data-with-r-programming-dd6a42c1a0e0?source=collection_archive---------2-----------------------#2022-01-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/4a5bf8e7be61f06e05093322a0acc57c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jLKfuFy_hsTym_F5"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@solomin_d?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">马頔·索洛明</a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="f6e5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本帖中，我要分析一下我的部门Whats app聊天群<em class="lb">2019</em>统计类。多亏了一个名为<code class="fe lc ld le lf b">rwhatsapp</code>的特殊包，这允许我们在r中处理Whatsapp文本数据。我们还将使用<code class="fe lc ld le lf b">tidytext</code>包执行一些文本挖掘。</p><pre class="lg lh li lj gt lk lf ll lm aw ln bi"><span id="1846" class="lo lp iq lf b gy lq lr l ls lt">#load libraries library(rwhatsapp) library(tidyverse) #load data chat &lt;- rwa_read("C:/Users/Adejumo/Downloads/whatsapp.txt") %&gt;% #remove messages without author <br/>filter(!is.na(author)) chat</span></pre><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lu"><img src="../Images/6af98a335968a12f5b87f97183075eed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f8_wx4lc5bI_Mc0zppORBw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">作者图片</figcaption></figure><p id="f487" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我丢失了一些消息，这些消息实际上不止这些。我们这里只有403条信息。</p><p id="2bb6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们看看每天发送的消息数量。</p><pre class="lg lh li lj gt lk lf ll lm aw ln bi"><span id="3d77" class="lo lp iq lf b gy lq lr l ls lt">chat %&gt;% <br/>mutate(day = lubridate::date(time)) %&gt;% <br/>count(day) %&gt;% <br/>ggplot(aes(x = day, y = n)) + <br/>geom_bar(stat = "identity") + <br/>ylab("") + <br/>xlab("") + <br/>ggtitle("Messages per day")</span></pre><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lv"><img src="../Images/aba28818963df83f72d6ea51bd5da021.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*7kapx1kU6kShZTxG.png"/></div></div></figure><p id="10f0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最近这个团体不像以前那样活跃了。</p><p id="5389" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">每天发送的消息数量已经下降。</p><p id="0de9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">截至去年12月，每天发送的最大消息数不超过20条。似乎每个人都忙于生活(lol！).让我们看看活跃的成员。</p><pre class="lg lh li lj gt lk lf ll lm aw ln bi"><span id="8739" class="lo lp iq lf b gy lq lr l ls lt">chat %&gt;% <br/>mutate(day = lubridate::date(time)) %&gt;% <br/>count(author) %&gt;% <br/>arrange(desc(n)) %&gt;% <br/>head() %&gt;% <br/>ggplot(aes(x = reorder(author, n), y = n, fill = author)) + geom_bar(stat = "identity") + <br/>ylab("") + <br/>xlab("") + <br/>coord_flip() + <br/>ggtitle("Number of messages")</span></pre><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lv"><img src="../Images/e925bc5a7d974e9d826f2c1ca3be3bab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*hrWwrL9nttm-1W7b.png"/></div></div></figure><p id="426b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一个未知号码已经发送了90多条信息。</p><p id="cbe5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Jagaban是组管理员，正如他所期望的那样，他经常很活跃。</p><p id="0ca2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们进入有趣的部分，让我们看看这个群体中最常用的表情符号。</p><pre class="lg lh li lj gt lk lf ll lm aw ln bi"><span id="98f4" class="lo lp iq lf b gy lq lr l ls lt">library("ggimage") emoji_data &lt;- <br/>rwhatsapp::emojis %&gt;% # data built into package mutate(hex_runes1 = gsub("\\s.*", "", hex_runes)) %&gt;% # ignore combined emojis mutate(emoji_url = paste0("https://abs.twimg.com/emoji/v2/72x72/", tolower(hex_runes1), ".png")) </span><span id="97f9" class="lo lp iq lf b gy lw lr l ls lt">chat %&gt;% <br/>unnest(emoji) %&gt;% <br/>count(author, emoji, sort = TRUE) %&gt;% <br/>arrange(desc(n)) %&gt;% head(10) %&gt;% <br/>group_by(author) %&gt;% <br/>left_join(emoji_data, by = "emoji") %&gt;% <br/>ggplot(aes(x = reorder(emoji, n), y = n, fill = author)) + geom_col(show.legend = FALSE) + <br/>ylab("") + xlab("") + <br/>coord_flip() + <br/>geom_image(aes(y = n + 20, image = emoji_url)) + <br/>facet_wrap(~author, ncol = 2, scales = "free_y") + <br/>ggtitle("Most often used emojis") + <br/>theme(axis.text.y = element_blank(), axis.ticks.y = element_blank())</span></pre><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lv"><img src="../Images/f9d59c9a90868c112206a1a040c5ece1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*UtwKrc3OcwuLvWr4.png"/></div></div></figure><p id="eb50" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">看起来最受欢迎的表情符号是<code class="fe lc ld le lf b">face with tears of joy</code>。群组管理员<code class="fe lc ld le lf b">Jagaban</code>也是发送表情符号最多的成员。来对比一下喜欢的词。</p><pre class="lg lh li lj gt lk lf ll lm aw ln bi"><span id="f8af" class="lo lp iq lf b gy lq lr l ls lt">library(tidytext) <br/>chat %&gt;% <br/>unnest_tokens(input = text, output = word) %&gt;% <br/>count(author, word, sort = TRUE) %&gt;% <br/>head(80) %&gt;% <br/>group_by(author) %&gt;% <br/>top_n(n = 6, n) %&gt;% <br/>ggplot(aes(x = reorder_within(word, n, author), y = n, fill = author)) + <br/>geom_col(show.legend = FALSE) + <br/>ylab("") + <br/>xlab("") + <br/>coord_flip() + <br/>facet_wrap(~author, ncol = 2, scales = "free_y") + scale_x_reordered() + <br/>ggtitle("Most often used words")</span></pre><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lv"><img src="../Images/7d8a5558d83c0d90e7467d142dc08a84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*nwn2y_wflgYxETH2.png"/></div></div></figure><p id="e27a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，我们要做的是删除“媒体”和“省略”这两个词，这是app放入日志文件的占位符，而不是图片或视频。</p><p id="4abf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">还有一些看起来不是特别有用的词，这些词被称为停用词:没有实质意义的词，例如，and、or等等。还有一些<em class="lb">洋泾浜语</em>也需要删除，比如<em class="lb"> dey </em>、<em class="lb"> na </em>等等。</p><p id="8326" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">洋泾浜语是尼日利亚使用的俚语，如果你以前去过尼日利亚，你就会知道我在说什么。</p><pre class="lg lh li lj gt lk lf ll lm aw ln bi"><span id="b711" class="lo lp iq lf b gy lq lr l ls lt">library("stopwords") </span><span id="ecd0" class="lo lp iq lf b gy lw lr l ls lt">to_remove &lt;- c(stopwords(language = "en"), "media","omitted","na","2","s","u","ahni","irc","dey","3","au","mak","u","don","naa","4","6","una","b","oo","2021","go","sir") chat %&gt;% unnest_tokens(input = text, output = word) %&gt;% <br/>filter(!word %in% to_remove) %&gt;% <br/>count(author, word, sort = TRUE) %&gt;% <br/>head(90) %&gt;% group_by(author) %&gt;% <br/>top_n(n = 6, n) %&gt;% <br/>ggplot(aes(x = reorder_within(word, n, author), y = n, fill = author)) + <br/>geom_col(show.legend = FALSE) + ylab("") + <br/>xlab("") + <br/>coord_flip() + <br/>facet_wrap(~author, ncol = 2, scales = "free_y") + scale_x_reordered() + ggtitle("Most often used words")</span></pre><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lv"><img src="../Images/e708ecd616a43693eb3ad4d3721c6e39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*KDNjVQw57XKsIjmH.png"/></div></div></figure><p id="4035" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">未知号码在群聊中发送更多链接，大多是来自链接名称<code class="fe lc ld le lf b">ngojobsite.com</code>的工作链接。</p><p id="f9ba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以做的另一个文本挖掘技术是计算词汇多样性。这让我们可以看到一个作者使用了多少独特的词。</p><pre class="lg lh li lj gt lk lf ll lm aw ln bi"><span id="2a58" class="lo lp iq lf b gy lq lr l ls lt">chat %&gt;% <br/>unnest_tokens(input = text, output = word) %&gt;% <br/>filter(!word %in% to_remove) %&gt;% <br/>count(author, word, sort = TRUE) %&gt;% <br/>group_by(author) %&gt;% <br/>summarise(lex_diversity = n_distinct(word)) %&gt;% arrange(desc(lex_diversity)) %&gt;% <br/>head(10) %&gt;% <br/>ggplot(aes(x = reorder(author, lex_diversity), y = lex_diversity, fill = author)) + <br/>geom_col(show.legend = FALSE) + <br/>scale_y_continuous(expand = (mult = c(0, 0, 0, 500))) + geom_text(aes(label = scales::comma(lex_diversity)), hjust = -0.1) + ylab("unique words") + <br/>xlab("") + <br/>ggtitle("Lexical Diversity") + <br/>coord_flip()</span></pre><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lv"><img src="../Images/3d1889f0d36d6d7ce31c061534b22b9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*uA1TBfuVezFi2_81.png"/></div></div></figure><p id="dd71" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从之前的剧情中我们知道，未知号大多是分享网站链接的。</p><p id="cbc5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们看看第二位上榜的<strong class="kf ir">无限</strong>用了什么独特的词。</p><pre class="lg lh li lj gt lk lf ll lm aw ln bi"><span id="5100" class="lo lp iq lf b gy lq lr l ls lt">o_words &lt;- chat %&gt;% <br/>unnest_tokens(input = text, output = word) %&gt;% <br/>filter(author != "Limitless") %&gt;% <br/>count(word, sort = TRUE) chat %&gt;% <br/>unnest_tokens(input = text, output = word) %&gt;% <br/>filter(author == "Limitless") %&gt;% <br/>count(word, sort = TRUE) %&gt;% <br/>filter(!word %in% o_words$word) %&gt;% # only select words nobody else uses top_n(n = 6, n) %&gt;% <br/>ggplot(aes(x = reorder(word, n), y = n, fill = word)) + geom_col(show.legend = FALSE) + <br/>ylab("") + <br/>xlab("") + <br/>coord_flip() + <br/>ggtitle("Unique words of Limitless")</span></pre><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lv"><img src="../Images/05b7ca92c3c2a944b51897a6724d4f25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*sv5eLDYq5ejCp3yq.png"/></div></div></figure><p id="b3c9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从上面可以看出，这些都是<strong class="kf ir">无限</strong>独有的词汇。</p><p id="25ec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您可以对您的数据执行类似的分析，甚至做得更好。</p></div><div class="ab cl lx ly hu lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ij ik il im in"><p id="815b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb">原载于2022年1月16日</em><a class="ae kc" href="https://www.adejumoridwan.com/blog/analysing-whatsapp-group-chat-data/" rel="noopener ugc nofollow" target="_blank"><em class="lb">【https://www.adejumoridwan.com】</em></a><em class="lb">。</em></p></div><div class="ab cl lx ly hu lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ij ik il im in"><h1 id="a9ea" class="me lp iq bd mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na bi translated">分级编码</h1><p id="fcc8" class="pw-post-body-paragraph kd ke iq kf b kg nb ki kj kk nc km kn ko nd kq kr ks ne ku kv kw nf ky kz la ij bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="d81b" class="ng nh iq kf b kg kh kk kl ko ni ks nj kw nk la nl nm nn no bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="48e6" class="ng nh iq kf b kg np kk nq ko nr ks ns kw nt la nl nm nn no bi translated">📰查看<a class="ae kc" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">升级编码出版物</a>中的更多内容</li><li id="534b" class="ng nh iq kf b kg np kk nq ko nr ks ns kw nt la nl nm nn no bi translated">🔔关注我们:<a class="ae kc" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae kc" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae kc" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="c37a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">🚀👉<a class="ae kc" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">加入升级人才集体，找到一份神奇的工作</strong> </a></p></div></div>    
</body>
</html>