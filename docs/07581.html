<html>
<head>
<title>Important Methods for Time Series in Pandas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫时间序列的重要方法</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/important-for-time-series-in-pandas-c2c632175442?source=collection_archive---------15-----------------------#2021-02-24">https://levelup.gitconnected.com/important-for-time-series-in-pandas-c2c632175442?source=collection_archive---------15-----------------------#2021-02-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="4931" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何使用脸书股票数据集的重采样、移位和窗口方法，以及如何处理时区。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a5e0987f88f62c19f6d2d48be1faa032.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*q1X0xYg1ZjxgNRFe"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae kv" href="https://unsplash.com/@mimithian?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">米米·蒂安</a>拍摄的照片</figcaption></figure><p id="6cd4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">时间序列是一系列按时间顺序排列的数据点。时间序列分析在金融研究中使用非常频繁。Pandas是一个非常重要的时间序列分析库。有了熊猫，你可以很容易地操纵你的时间序列。在这篇文章中，我将讨论以下主题:</p><ul class=""><li id="26fc" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">什么是重采样？</li><li id="1d9e" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">什么是转变？</li><li id="2477" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">窗口操作</li><li id="f274" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">处理时区</li><li id="798d" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">更改时区</li></ul><p id="0bb6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们开始吧！</p><div class="mg mh gp gr mi mj"><a href="https://www.youtube.com/channel/UCFU9Go20p01kC64w-tmFORw" rel="noopener  ugc nofollow" target="_blank"><div class="mk ab fo"><div class="ml ab mm cl cj mn"><h2 class="bd ir gy z fp mo fr fs mp fu fw ip bi translated">蒂伦达兹学院</h2><div class="mq l"><h3 class="bd b gy z fp mo fr fs mp fu fw dk translated">嗨，欢迎来到提伦达兹学院。Tirendaz学院是一个在线教育平台，制作视频和写博客…</h3></div><div class="mr l"><p class="bd b dl z fp mo fr fs mp fu fw dk translated">www.youtube.com</p></div></div><div class="ms l"><div class="mt l mu mv mw ms mx kp mj"/></div></div></a></div><h1 id="84f0" class="my mz iq bd na nb nc nd ne nf ng nh ni jw nj jx nk jz nl ka nm kc nn kd no np bi translated">什么是重采样？</h1><p id="2a55" class="pw-post-body-paragraph kw kx iq ky b kz nq jr lb lc nr ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated">在Pandas中，重采样是一种基于时间的分组方式，其后是每个分组的减少方法。通过重采样，您可以将时间序列从一种频率转换为另一种频率。为了显示重采样，让我导入Pandas和Numpy库。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nv"><img src="../Images/4edc478af5f7374034e1c355f11bef95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/format:webp/1*VJO4nHXGuS_cGiyd5bZn7A.png"/></div></div></figure><p id="73e4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">重采样执行分组，类似于groupby技术。为了解释这一点，我将使用脸书股票数据集。你可以在这里找到这个数据集<a class="ae kv" href="https://www.kaggle.com/datasets/tirendazacademy/fbcsv" rel="noopener ugc nofollow" target="_blank"/>。让我们导入这个数据集。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/9deb59529c5ea92679dbad13f8023009.png" data-original-src="https://miro.medium.com/v2/resize:fit:1350/format:webp/1*GXyfwyb-JTdnqcFrETgtxg.png"/></div></figure><p id="79de" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请注意，我使用了parse_dates参数将Date列转换为datetime对象。我还设置了index_col参数，将该列指定为索引对象。让我们看看数据集的第一行。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/b4c57d6ba68c567e2d0e85c90660299f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/format:webp/1*Srw3rqOq3Bxr6o8wfikFnQ.png"/></div></figure><p id="e0bd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">重采样方法非常灵活，允许您指定许多不同的参数来控制频率转换和重采样操作。让我们用重采样法来看看月平均值。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/3a09a89ad01eb818d66b1399d3ee420e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*NpaYVtOq5pueMIQkAX5zUQ.png"/></div></figure><p id="e689" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我画出收盘价。首先，我将使用% Matplotlib inline magic命令来查看行间的绘图。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/86c2a634d6650806bdb5eb93c06097a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/format:webp/1*8ymUDJcZ7F3F75ajFJdUrA.png"/></div></figure><p id="3174" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要查看月平均值的曲线图，可以使用plot方法。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/f7a356a3fb06787fae122cf1b50b095a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/format:webp/1*1hKFmdtXXsInMcX6CvTR9Q.png"/></div></figure><p id="c57d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们来看看季度值的平均价格的条形图。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/7cd9faae0aa0358649fc6c3ae88c54b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1368/format:webp/1*V_eRZStfLplDfS-OrLWPlQ.png"/></div></figure><h1 id="b9e6" class="my mz iq bd na nb nc nd ne nf ng nh ni jw nj jx nk jz nl ka nm kc nn kd no np bi translated">什么是转变？</h1><p id="de47" class="pw-post-body-paragraph kw kx iq ky b kz nq jr lb lc nr ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated">您可能希望使用shift方法在时间上前后移动或延迟时间序列中的值。Series和DataFrame都具有shift属性。让我们取3月份脸书收盘价的值，并将这些值赋给fb1变量。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/fce5ef784d55f789492e112b848fea66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/format:webp/1*ZOQLb2fcEVu-nplnWVViug.png"/></div></figure><p id="1fb2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们来看看fb1变量。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/da9e2725295bb59a788b20e642748295.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/format:webp/1*_-ZaBBJLl9sAgVFmQkfJYQ.png"/></div></figure><p id="2772" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">shift方法接受freq参数，该参数可以接受DataOffset类或其他timedelta，如对象或偏移别名。当您可以确定freq参数时，shift方法会更改索引中的所有日期。让我们将时间序列中的值向前移动两个时间。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/c4ae35ef205d3dec934695048a12dbca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/1*rT3uGKeUZoRsKv9O9RkLfw.png"/></div></figure><p id="7d84" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们将时间序列中的值向后移动两次。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/22c8e7bbeec8c6030654241adfaf0122.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/format:webp/1*jWvmrDFKNJPb3qYHkVOT-g.png"/></div></figure><p id="2444" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以在同一个表格中看到这种变化。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi od"><img src="../Images/1bd918dd023b502b0ad2d34cb096d87d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1378/format:webp/1*FRnGXDcvBVo-TvmzSsfxdw.png"/></div></figure><p id="2808" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们再来看看fb1变量。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/c00f6f5fd2d7f6d4e743466d3e21ac9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/format:webp/1*hAOB4bv0C6qWxPiC02qfLw.png"/></div></figure><p id="eedb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在时间序列中，您有时希望找到一天中的变化百分比。现在让我们找出一天内的数值差异。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/863632a94e3973f7d5f9fd850a5994cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1382/format:webp/1*t3KTzf0ccwg4-5mRYEEhHg.png"/></div></figure><p id="acba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们再来看看fb1变量。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/386de87b5769d86984d677fb7ccc3b4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1382/format:webp/1*bxwOrAA67TDJxxDVaf14lQ.png"/></div></figure><p id="feaf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">tshift方法使用索引的频率来移动时间索引。此方法向前或向后播放索引。为了说明这一点，让我们先看一下Close列。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi of"><img src="../Images/567c577736461aad8c0aee3efc848ab4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*2PM7_JlDmsvhz9Qyqm2PGA.png"/></div></figure><p id="6ca1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们选择关闭列。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi og"><img src="../Images/c0f123ab75ab6f9aa27c629491b958fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/1*u5G1Hom3TFa0TwL4Xo4fxw.png"/></div></figure><p id="7eb4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们看看fb2变量的前几行。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/a9ed8dc46c753d1f1bafa355d6a78924.png" data-original-src="https://miro.medium.com/v2/resize:fit:1370/format:webp/1*7xHQl6SnSut9l6QtUSo6nQ.png"/></div></figure><p id="335b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们看看这些数据的索引结构。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/9a54d27e33051c5b443863ce0f0c13d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/format:webp/1*eNrMr-Q5Pvh0zKJPk_rGZQ.png"/></div></div></figure><p id="41e3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意，日期值没有频率值。让我们给这些指数分配频率。为此，我将使用date_range函数。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/736f992734300a6cfa7d6636353292c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1382/format:webp/1*DvFZaDgOcTAP1utRDYyDmA.png"/></div></figure><p id="490f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们再次看看fb2数据的指数。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/a1cbdab4bd4e34bc03a682eb536571f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1382/format:webp/1*DPLtfVSldUS2PSMS46asow.png"/></div></div></figure><p id="834b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请注意，日期指的是工作日。您可以前后移动索引。例如，让我们将日线指数前移。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/9c79d017802d604d173887787333b608.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/format:webp/1*KlTIO5Otee-u4-AN1UWOHQ.png"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/c5de5d8046bfb15258113d84a18ca8bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/format:webp/1*hfLAIdPZ0P6xH5IGvDyOVw.png"/></div></figure><p id="50ed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们回去2天吧。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/7fe7fa9d83fb6022f98823557162ef7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1370/format:webp/1*h36ojy57evTdgHlHtWs6wQ.png"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/a16ad3b4e8739a753fd098be1b310178.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/format:webp/1*s1cHfLDVoy79F3XmjMzbzQ.png"/></div></figure><h1 id="93f1" class="my mz iq bd na nb nc nd ne nf ng nh ni jw nj jx nk jz nl ka nm kc nn kd no np bi translated">窗口操作</h1><p id="d95a" class="pw-post-body-paragraph kw kx iq ky b kz nq jr lb lc nr ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated">Pandas包含一组紧凑的API，用于执行窗口操作，这是一种在值的滑动分区上执行聚合的操作。您可以将API函数想象成类似于groupby API。</p><p id="19f2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">窗口操作用于平滑数据。让我们重新思考脸书股票数据集，并讨论滚动函数。该函数类似于groupby和resample方法。可以用滚动功能分组。例如，滚动(30)意味着30天的平均值。为了说明这一点，让我们首先绘制fb收盘价。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi og"><img src="../Images/45784902d406a42ac6c5ef7c6c741a76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/1*vcbGGGH5K4Xu4VBZdA6HMQ.png"/></div></figure><p id="f124" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们用滚动函数找到30日均值，并在图上显示这些值。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi og"><img src="../Images/5095fcaa787e6b2d98b52e76210eff3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/1*f6kPnkFIqmlsFz74GwcvCQ.png"/></div></figure><h1 id="5148" class="my mz iq bd na nb nc nd ne nf ng nh ni jw nj jx nk jz nl ka nm kc nn kd no np bi translated">处理时区</h1><p id="3100" class="pw-post-body-paragraph kw kx iq ky b kz nq jr lb lc nr ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated">众所周知，世界上每个地区都有不同的时区。许多研究人员根据缩写UTC国际时间工作。</p><p id="c45c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">pytz库用于Python中的时区。这个库装载了Anaconda。如果你的电脑没有安装这个库，你可以用pip或者conda来安装。让我们导入这个库。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi od"><img src="../Images/1f7c7fe24d714305da74c853a2c5a52b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1378/format:webp/1*4B6lh-nizgtuW9T9qFCFPQ.png"/></div></figure><p id="dfbb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">比如让我们学习土耳其的时区。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi og"><img src="../Images/97e4156045375b7d653c204d94a9afc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/1*CAJ9B5HvixuD_2tZZraK5g.png"/></div></figure><p id="4d92" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们找到美国纽约地区的时区。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/f463502b8bafcdc9e262bc49ef567804.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/format:webp/1*KIF3j4U6yhhUTghpSHVwSg.png"/></div></figure><p id="8556" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，让我们查找比中部时区晚7个小时的地方。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/5de4c3fd0bde0937d9feffd423b3f70a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1374/format:webp/1*Cjsyq2SjQRlX4xTjK1QJsQ.png"/></div></figure><h1 id="222e" class="my mz iq bd na nb nc nd ne nf ng nh ni jw nj jx nk jz nl ka nm kc nn kd no np bi translated">更改时区</h1><p id="f5b5" class="pw-post-body-paragraph kw kx iq ky b kz nq jr lb lc nr ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated">您可以更改数据集的时区。为了展示这一点，让我们创建一个date对象。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi og"><img src="../Images/93e6347964c329d57ff5f4eee38cc67d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/1*cJipCaaM87p9lydTDIHiBA.png"/></div></figure><p id="3cb3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们用这个日期对象创建一个时间序列。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi og"><img src="../Images/a1a8e114e783e64df0aef555faae8fab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/1*9uoo-YTjRFqxXCRwuDHFvQ.png"/></div></figure><p id="a0fb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们来看看这个变量。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/9b308b3137c23ac15353bfc7163f07a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1374/format:webp/1*9_A3Mzemls3O8A_QY2cYng.png"/></div></figure><p id="18f2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们使用tz属性来控制索引的时区。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi og"><img src="../Images/febbef27bd831c65b0b3051cc03f4a47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/1*lBmcibyKJvZR2bWrcycFWw.png"/></div></figure><p id="b5e1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ts数据没有时区。现在让我们为这些数据指定日期范围。为此，您可以使用tz_localize方法。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi om"><img src="../Images/f9832f8af516e752c2812fcc31a6b35a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/1*tKyFUk19abmQF4uTyMEGAw.png"/></div></figure><p id="8ca2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果要按照某个特殊区域来排列时间序列，可以使用tz_convert方法。例如，让我们根据夏威夷设置时间序列。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/39d3870861f09761a7f7f2d705be1658.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/format:webp/1*lG9WtuOkVy0Ax3CuxfuM3w.png"/></div></figure><p id="91b2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以将数据集转换为国际中部时区。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/c6d3bed52dfcc725c2fc0288cd644bb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1374/format:webp/1*4nG_uijK4EeqEXqxqhgCRA.png"/></div></figure><p id="bc37" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们把这个时间转换成国际当地时间。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi on"><img src="../Images/d1a85cffa8f4528d2c7e02059bbda8ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/format:webp/1*Eb758ZR8pYbydpyRaaTWhQ.png"/></div></figure><p id="08d2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们把这个当地时间转换成伊斯坦布尔当地时间。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/47df0c2aebe36db816ed14911ab74b6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1370/format:webp/1*5KBIpJAYgQVtr1Ls_x44jw.png"/></div></figure><p id="3fa0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果合并不同地区的两个时间序列，结果将以中部-当地时间显示。让我们再次打印ts时间序列。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/5a40b9b3a083a58b2d30f1243235bc27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/format:webp/1*biDmCNWyqH8khM99MTQKiw.png"/></div></figure><p id="3c97" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们用两个不同的地区时间创建两个时间序列。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/a7ba208a96fb7aeadbc69b67d73b7732.png" data-original-src="https://miro.medium.com/v2/resize:fit:1368/format:webp/1*fmbDhHiijlIaNgKIfwAl6g.png"/></div></figure><p id="fff4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们把这个时间序列加起来。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi od"><img src="../Images/e71df1f6d7c30b0ee7194d12478cd011.png" data-original-src="https://miro.medium.com/v2/resize:fit:1378/format:webp/1*dKqK-tg7lUTe1InXnO_3tg.png"/></div></figure><p id="488d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们看看结果变量的索引。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/d9b18c698aae79faa882ac4dc3de6c2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/format:webp/1*N7pTwSYlmhNgA8KXDY0uPw.png"/></div></figure><p id="22ff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，结果索引是根据中央-地方时间打印的。</p><h1 id="c431" class="my mz iq bd na nb nc nd ne nf ng nh ni jw nj jx nk jz nl ka nm kc nn kd no np bi translated">结论</h1><p id="cd09" class="pw-post-body-paragraph kw kx iq ky b kz nq jr lb lc nr ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated">时间序列分析在金融研究中使用非常频繁。在这篇文章中，我谈到了如何使用重采样、移位和窗口方法，以及如何处理时区。就是这样。我希望你喜欢它。感谢您的阅读。你可以在这里找到这个笔记本<a class="ae kv" href="https://github.com/TirendazAcademy/PANDAS-TUTORIAL/blob/main/24-Working%20with%20Methods%20in%20Pandas%20-%20Part%201%20.ipynb" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="bea8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">别忘了在<a class="ae kv" href="https://www.youtube.com/channel/UCFU9Go20p01kC64w-tmFORw" rel="noopener ugc nofollow" target="_blank">YouTube</a>|<a class="ae kv" href="https://github.com/tirendazacademy" rel="noopener ugc nofollow" target="_blank">GitHub</a>|<a class="ae kv" href="https://twitter.com/TirendazAcademy" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae kv" href="https://www.kaggle.com/tirendazacademy" rel="noopener ugc nofollow" target="_blank">ka ggle</a>|<a class="ae kv" href="https://www.linkedin.com/in/tirendaz-academy" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>上关注我们</p><div class="mg mh gp gr mi mj"><a rel="noopener  ugc nofollow" target="_blank" href="/top-10-python-libraries-and-5-best-books-for-data-science-fa0d0cf171a6"><div class="mk ab fo"><div class="ml ab mm cl cj mn"><h2 class="bd ir gy z fp mo fr fs mp fu fw ip bi translated">数据科学的10个最佳Python库</h2><div class="mq l"><h3 class="bd b gy z fp mo fr fs mp fu fw dk translated">数据科学家应该知道的图书馆和学习它们的前5本书。</h3></div><div class="mr l"><p class="bd b dl z fp mo fr fs mp fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="ms l"><div class="oo l mu mv mw ms mx kp mj"/></div></div></a></div><div class="mg mh gp gr mi mj"><a href="https://medium.com/geekculture/8-best-seaborn-visualizations-20143a4b3b2f" rel="noopener follow" target="_blank"><div class="mk ab fo"><div class="ml ab mm cl cj mn"><h2 class="bd ir gy z fp mo fr fs mp fu fw ip bi translated">8个最好的Seaborn可视化</h2><div class="mq l"><h3 class="bd b gy z fp mo fr fs mp fu fw dk translated">使用企鹅数据集与Seaborn一起动手绘制统计图。</h3></div><div class="mr l"><p class="bd b dl z fp mo fr fs mp fu fw dk translated">medium.com</p></div></div><div class="ms l"><div class="op l mu mv mw ms mx kp mj"/></div></div></a></div><p id="ba70" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="oq">如果这篇文章有帮助，请点击拍手👏按钮几下，以示支持👇</em></p></div></div>    
</body>
</html>