<html>
<head>
<title>Testing a React Application: The Modern Approach</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">测试React应用程序:现代方法</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/testing-a-react-application-the-modern-approach-9f9ccef4dae5?source=collection_archive---------8-----------------------#2022-04-20">https://levelup.gitconnected.com/testing-a-react-application-the-modern-approach-9f9ccef4dae5?source=collection_archive---------8-----------------------#2022-04-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/883c045a89907aca210719b169cd5a77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*BMvNROtR2aQoxA8z.jpeg"/></div></div></figure><h1 id="ce99" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">介绍</h1><p id="b1fa" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">测试是开发的基本部分。测试react应用程序也不例外。一旦一个应用程序发展到一定的规模，它就成为你确信你所做的改变不会影响之前功能的唯一方法之一。这里的关键词是<strong class="ky ir">信心</strong>。</p><blockquote class="lu lv lw"><p id="3128" class="kw kx lx ky b kz ly lb lc ld lz lf lg ma mb lj lk mc md ln lo me mf lr ls lt ij bi translated"><em class="iq">只有确保用户期望的交互保持不变，测试才是好的</em></p><p id="e1da" class="kw kx lx ky b kz ly lb lc ld lz lf lg ma mb lj lk mc md ln lo me mf lr ls lt ij bi translated"><em class="iq">我什么的</em></p></blockquote><p id="42af" class="pw-post-body-paragraph kw kx iq ky b kz ly lb lc ld lz lf lg lh mb lj lk ll md ln lo lp mf lr ls lt ij bi translated">测试的主要焦点应该集中在最终用户的期望上。这意味着任何和所有的实现细节应该保持不相关。用户不关心变量或函数的名字，只关心当他们点击一个按钮时，它会有预期的行为。</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mg"><img src="../Images/83b654400d37f67d34c16937bcfb6ec7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GV63mVYdii97VrtF"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">由<a class="ae mp" href="https://unsplash.com/@dtravisphd?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">大卫·特拉维斯</a>在<a class="ae mp" href="https://unsplash.com/s/photos/testing?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="b888" class="pw-post-body-paragraph kw kx iq ky b kz ly lb lc ld lz lf lg lh mb lj lk ll md ln lo lp mf lr ls lt ij bi translated">也就是说，这是系列文章中的第<strong class="ky ir">篇，我将介绍如何在React应用程序上执行现代测试。我将首先介绍我们的术语和工具，接下来的文章将介绍如何使用选择的工具创建E2E测试和单元测试。</strong></p></div><div class="ab cl mq mr hu ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ij ik il im in"><h1 id="7037" class="jy jz iq bd ka kb mx kd ke kf my kh ki kj mz kl km kn na kp kq kr nb kt ku kv bi translated">术语</h1><p id="3937" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">虽然每个人对不同类型的测试有不同的定义，我想我会给出我自己的定义供将来参考:</p><h2 id="5eb8" class="nc jz iq bd ka nd ne dn ke nf ng dp ki lh nh ni km ll nj nk kq lp nl nm ku nn bi translated">什么是单元测试？</h2><p id="45ff" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">单元测试是一种针对一段独立的代码的测试方法，一个<strong class="ky ir">单元</strong>。在React的上下文中，这很可能指的是单独测试我们的组件以及任何相关的功能。</p><h2 id="fe40" class="nc jz iq bd ka nd ne dn ke nf ng dp ki lh nh ni km ll nj nk kq lp nl nm ku nn bi translated">什么是端到端(E2E)测试？</h2><p id="4a10" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">在最接近生产的环境下测试应用程序的功能。在我们的例子中，这意味着在类似浏览器的环境中编译、构建和运行应用程序，并经历不同的用户流。</p><h1 id="103c" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">测试React应用程序:工具</h1><p id="eda4" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">我非常重视端到端测试。这将非常类似于用户与应用程序的交互方式，并且将再次灌输最大程度的信心。我这里选择的框架是<a class="ae mp" href="https://www.cypress.io/" rel="noopener ugc nofollow" target="_blank">柏树</a>。</p><p id="2580" class="pw-post-body-paragraph kw kx iq ky b kz ly lb lc ld lz lf lg lh mb lj lk ll md ln lo lp mf lr ls lt ij bi translated">单元测试将由<a class="ae mp" href="https://vitest.dev/" rel="noopener ugc nofollow" target="_blank"> Vitest </a>负责(是的，不是玩笑)。</p><p id="1fa2" class="pw-post-body-paragraph kw kx iq ky b kz ly lb lc ld lz lf lg lh mb lj lk ll md ln lo lp mf lr ls lt ij bi translated">最后，由于我们关心的不是后端或API，而是前端和相应的用户交互，因此模仿库将是至关重要的。MSW在这里掩护我们。</p><h1 id="b2c3" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">端到端测试React应用程序:Cypress</h1><p id="f335" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">这是一段直接来自他们登录页面的视频，简要介绍了:</p><p id="c89c" class="pw-post-body-paragraph kw kx iq ky b kz ly lb lc ld lz lf lg lh mb lj lk ll md ln lo lp mf lr ls lt ij bi translated">柏树是一个工具，我不能说得更高了。虽然听起来很奇怪，但这让测试变得很有趣。可视化测试运行器使得开发测试变得非常容易，因为它可以选择元素，并帮助您创建选择器。它提供了惊人的现成的类型脚本支持。网站文档很切题。我现在不再滔滔不绝地谈论它了。😢</p><h1 id="25fb" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">React应用程序的单元测试:Vitest🌽</h1><p id="a6c8" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">阴对我们的柏阳。Vitest将涵盖端到端测试不可行的一切。尽管集成测试是至关重要的，但它也有不好的一面，那就是它可能比单元测试慢得多。</p><p id="bc98" class="pw-post-body-paragraph kw kx iq ky b kz ly lb lc ld lz lf lg lh mb lj lk ll md ln lo lp mf lr ls lt ij bi translated">虽然说某事是<strong class="ky ir"><em class="lx"/></strong>已经有点模因化了🚀。在这种情况下，它完全成立。</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mg"><img src="../Images/1182d5f77221655835a1d4b960bbe3bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5bb2rDvEBo3FfRW2"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">照片由<a class="ae mp" href="https://unsplash.com/@saffu?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">萨夫</a>在<a class="ae mp" href="https://unsplash.com/s/photos/fast?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="2f16" class="pw-post-body-paragraph kw kx iq ky b kz ly lb lc ld lz lf lg lh mb lj lk ll md ln lo lp mf lr ls lt ij bi translated">与Cypress非常相似，它提供了开箱即用的类型脚本支持、Chai内置断言、即时观察模式和DOM嘲讽！</p><p id="32fe" class="pw-post-body-paragraph kw kx iq ky b kz ly lb lc ld lz lf lg lh mb lj lk ll md ln lo lp mf lr ls lt ij bi translated">更不用说，如果我们想测试我们代码库中的函数或转换的特定边缘情况，这可能是多余的。</p><p id="16b1" class="pw-post-body-paragraph kw kx iq ky b kz ly lb lc ld lz lf lg lh mb lj lk ll md ln lo lp mf lr ls lt ij bi translated">我们将用它来单独测试我们的React组件、钩子和实用函数。这是为了确保我们在这个过程中涵盖了我们的边缘案例。</p><h1 id="bab1" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">嘲笑我们的测试:MSW🎭</h1><p id="eb26" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">虽然与我们的测试没有直接关系，但这仍然是一个重要的组成部分。MSW 将使我们的测试一致，并避免将我们的测试耦合到后端清理和API。对于端到端测试或单独的后端测试，这些可能更重要。</p><p id="6a58" class="pw-post-body-paragraph kw kx iq ky b kz ly lb lc ld lz lf lg lh mb lj lk ll md ln lo lp mf lr ls lt ij bi translated">在大多数情况下，我更喜欢MSW，因为我们可以用更具声明性的方式来模拟edges。</p><h1 id="86ae" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">结论</h1><p id="3dd5" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">希望你喜欢这个简短的介绍。如果你有兴趣了解更多关于测试的知识，请关注我或者给这篇文章添加书签！这只是这个系列的第一部分。</p><p id="9423" class="pw-post-body-paragraph kw kx iq ky b kz ly lb lc ld lz lf lg lh mb lj lk ll md ln lo lp mf lr ls lt ij bi translated">在以后的文章中，我将介绍从设置到构建测试，到在您的管道中实现这个过程，再到获得准确的代码覆盖报告的所有内容。</p><p id="e2cc" class="pw-post-body-paragraph kw kx iq ky b kz ly lb lc ld lz lf lg lh mb lj lk ll md ln lo lp mf lr ls lt ij bi translated">更多内容在<a class="ae mp" href="https://relatablecode.com" rel="noopener ugc nofollow" target="_blank">相关代码</a></p><p id="ad6b" class="pw-post-body-paragraph kw kx iq ky b kz ly lb lc ld lz lf lg lh mb lj lk ll md ln lo lp mf lr ls lt ij bi translated">如果你喜欢这个，请在LinkedIn或Twitter上与我联系</p><p id="1265" class="pw-post-body-paragraph kw kx iq ky b kz ly lb lc ld lz lf lg lh mb lj lk ll md ln lo lp mf lr ls lt ij bi translated">在我的<a class="ae mp" href="https://relatablecode.substack.com/" rel="noopener ugc nofollow" target="_blank">时事通讯</a>中查看我的免费开发者路线图和每周科技行业新闻。</p></div><div class="ab cl mq mr hu ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ij ik il im in"><p id="60b3" class="pw-post-body-paragraph kw kx iq ky b kz ly lb lc ld lz lf lg lh mb lj lk ll md ln lo lp mf lr ls lt ij bi translated"><em class="lx">原载于2022年4月20日</em><a class="ae mp" href="https://relatablecode.com/testing-a-react-application-the-modern-approach/" rel="noopener ugc nofollow" target="_blank"><em class="lx">【https://relatablecode.com】</em></a><em class="lx">。</em></p></div></div>    
</body>
</html>