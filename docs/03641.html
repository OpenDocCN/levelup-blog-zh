<html>
<head>
<title>More Useful Vue Directives to Save us Time</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">更有用的Vue指令来节省我们的时间</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/more-useful-vue-directives-to-save-us-time-f62330883c7e?source=collection_archive---------7-----------------------#2020-05-20">https://levelup.gitconnected.com/more-useful-vue-directives-to-save-us-time-f62330883c7e?source=collection_archive---------7-----------------------#2020-05-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/4b7cb00a649b6f2df9e0debaa33734d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MsKR19kcXOX7HOQd"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">杰弗里·F·林在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="d83b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Vue.js是一个易于使用的web应用框架，我们可以用它来开发交互式前端应用。</p><p id="47c6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将看看一些节省我们时间的Vue指令，包括滚动和延迟加载。</p><h1 id="0436" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">Vue-ScrollTo</h1><p id="8cd5" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以使用<code class="fe mh mi mj mk b">vue-scrollto</code>包以编程方式滚动到一个元素。</p><p id="2142" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要安装它，我们运行:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="7bf8" class="mt lf it mk b gy mu mv l mw mx">npm install --save vue-scrollto</span></pre><p id="f3f4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那么我们可以如下使用它:</p><p id="e8a8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">main.js</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="0d17" class="mt lf it mk b gy mu mv l mw mx">import Vue from "vue";<br/>import App from "./App.vue";<br/>const VueScrollTo = require("vue-scrollto");</span><span id="976b" class="mt lf it mk b gy my mv l mw mx">Vue.use(VueScrollTo);</span><span id="d3ce" class="mt lf it mk b gy my mv l mw mx">Vue.config.productionTip = false;</span><span id="99b2" class="mt lf it mk b gy my mv l mw mx">new Vue({<br/>  render: h =&gt; h(App)<br/>}).$mount("#app");</span></pre><p id="e4bc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">App.vue</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="5144" class="mt lf it mk b gy mu mv l mw mx">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;button v-scroll-to="'#p-99'"&gt;Scroll to bottom&lt;/button&gt;<br/>    &lt;p v-for="n in nums" :id="`p-${n}`" :key="n"&gt;{{n}}&lt;/p&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="4fe2" class="mt lf it mk b gy my mv l mw mx">&lt;script&gt;<br/>export default {<br/>  data() {<br/>    return {<br/>      nums: new Array(100).fill(0).map((_, i) =&gt; i)<br/>    };<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="c44a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们只是将元素的选择器设置为滚动，然后当我们单击Scroll to bottom按钮时，它将滚动到该元素。</p><p id="c1a4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还可以更改更多选项，如下所示:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="dd3a" class="mt lf it mk b gy mu mv l mw mx">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;button v-scroll-to="config"&gt;Scroll to bottom&lt;/button&gt;<br/>    &lt;p v-for="n in nums" :id="`p-${n}`" :key="n"&gt;{{n}}&lt;/p&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="db5d" class="mt lf it mk b gy my mv l mw mx">&lt;script&gt;<br/>export default {<br/>  data() {<br/>    return {<br/>      nums: new Array(100).fill(0).map((_, i) =&gt; i),<br/>      config: {<br/>        el: "#p-99",<br/>        duration: 500,<br/>        easing: "linear"<br/>      }<br/>    };<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="2316" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们将想要滚动到的元素的选择器移动到了<code class="fe mh mi mj mk b">config</code>对象中。我们还指定了一些动画选项。</p><p id="93a6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还可以通过编写以下代码来使滚动可编程和可取消:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="65c4" class="mt lf it mk b gy mu mv l mw mx">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;button @click="scroll"&gt;Scroll to bottom&lt;/button&gt;<br/>    &lt;button @click="cancel" class="fixed"&gt;Cancel&lt;/button&gt;<br/>    &lt;p v-for="n in nums" :id="`p-${n}`" :key="n"&gt;{{n}}&lt;/p&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="1dbf" class="mt lf it mk b gy my mv l mw mx">&lt;script&gt;<br/>export default {<br/>  data() {<br/>    return {<br/>      cancelScroll: undefined,<br/>      nums: new Array(100).fill(0).map((_, i) =&gt; i),<br/>      config: {<br/>        easing: "linear",<br/>        cancelable: true<br/>      }<br/>    };<br/>  },<br/>  methods: {<br/>    scroll() {<br/>      this.cancelScroll = this.$scrollTo("#p-99", 2500, this.config);<br/>    },<br/>    cancel() {<br/>      this.cancelScroll &amp;&amp; this.cancelScroll();<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="93e4" class="mt lf it mk b gy my mv l mw mx">&lt;style&gt;<br/>.fixed {<br/>  position: fixed;<br/>}<br/>&lt;/style&gt;</span></pre><p id="cf55" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们有了<code class="fe mh mi mj mk b">scroll</code>方法，它用滚动到的项目的选择器、持续时间和选项<code class="fe mh mi mj mk b">config</code>对象来调用<code class="fe mh mi mj mk b">$sccrollTo</code>方法。</p><p id="ac85" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<code class="fe mh mi mj mk b">config</code>对象中，我们将<code class="fe mh mi mj mk b">cancelable</code>设置为<code class="fe mh mi mj mk b">true</code>，这样我们就可以用<code class="fe mh mi mj mk b">$scrollTo</code>返回的函数取消它。</p><p id="f4d2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后当我们点击滚动到底部，我们得到滚动，当我们点击取消，它会停止滚动。</p><p id="de79" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还可以设置缓动，通过编写以下内容来控制动画在不同时间帧的速度:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="39d7" class="mt lf it mk b gy mu mv l mw mx">[0.25, 0.1, 0.25, 1.0]</span></pre><p id="fbd4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过将缓动值设置为<code class="fe mh mi mj mk b">easing</code>属性的值来更改缓动值。</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mz"><img src="../Images/444db27b56223e190b310c6e08aa6adc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*F6HMWQHalyK0Ro1G"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">塞巴斯蒂安·拉瓦雷在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="4ca7" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">vue-lazy负载</h1><p id="ed89" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated"><code class="fe mh mi mj mk b">vue-lazyload</code>包让我们可以延迟加载我们的图像来加速页面的加载。它的工作原理是推迟图像的加载，直到它出现在屏幕上。</p><p id="2b04" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要安装它，我们运行:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="3525" class="mt lf it mk b gy mu mv l mw mx">npm install --save vue-lazyload</span></pre><p id="5393" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那么当我们可以如下使用它时:</p><p id="396a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">main.js</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="cbc7" class="mt lf it mk b gy mu mv l mw mx">import Vue from "vue";<br/>import App from "./App.vue";<br/>import VueLazyload from "vue-lazyload";</span><span id="c138" class="mt lf it mk b gy my mv l mw mx">Vue.use(VueLazyload);</span><span id="ec48" class="mt lf it mk b gy my mv l mw mx">Vue.use(VueLazyload, {<br/>  preLoad: 1.3,<br/>  error:<br/>    "https://lh3.googleusercontent.com/proxy/z6LJw3nSgwQVqzu4AazrN_cJrUdkD5qnulNv-WCG_CjA8hYweNfGbcCdQ-JrbCCfBHIGnJA5DfOnb2zNSVntaMn2DJFKTOIgx80Dyx4dZDwByoX1BafHRzQvq9QTe1o",<br/>  loading:<br/>    "https://i.pinimg.com/originals/10/b2/f6/10b2f6d95195994fca386842dae53bb2.png",<br/>  attempt: 1<br/>});<br/>Vue.config.productionTip = false;</span><span id="8d21" class="mt lf it mk b gy my mv l mw mx">new Vue({<br/>  render: h =&gt; h(App)<br/>}).$mount("#app");</span></pre><p id="ce8b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">App.vue</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="5a2c" class="mt lf it mk b gy mu mv l mw mx">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;img<br/>      v-lazy="'https://images.unsplash.com/photo-1502673530728-f79b4cab31b1?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=750&amp;q=80'"<br/>    &gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="070e" class="mt lf it mk b gy my mv l mw mx">&lt;script&gt;<br/>export default {};<br/>&lt;/script&gt;</span></pre><p id="8bc5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们用<code class="fe mh mi mj mk b">v-lazy</code>指令加载一个图像。我们可以像在<code class="fe mh mi mj mk b">main.js</code>中所做的那样，设置图像在加载时和加载失败时加载。</p><p id="0c2b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还可以如下设置错误和加载图像:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="eea5" class="mt lf it mk b gy mu mv l mw mx">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;div v-lazy-container="{ selector: 'img' }"&gt;<br/>      &lt;img<br/>        data-src="https://images.unsplash.com/photo-1502673530728-f79b4cab31b1?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=750&amp;q=80"<br/>        data-error="https://lh3.googleusercontent.com/proxy/z6LJw3nSgwQVqzu4AazrN_cJrUdkD5qnulNv-WCG_CjA8hYweNfGbcCdQ-JrbCCfBHIGnJA5DfOnb2zNSVntaMn2DJFKTOIgx80Dyx4dZDwByoX1BafHRzQvq9QTe1o"<br/>        data-loading="https://i.pinimg.com/originals/10/b2/f6/10b2f6d95195994fca386842dae53bb2.png"<br/>      &gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="dea1" class="mt lf it mk b gy my mv l mw mx">&lt;script&gt;<br/>export default {};<br/>&lt;/script&gt;</span></pre><p id="743c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">data-error</code>和<code class="fe mh mi mj mk b">data-loading</code>分别有错误和加载状态的图像URL。</p><h1 id="0d60" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="00cf" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">除了延迟加载给定的图像，我们还可以定义错误、加载图像和<code class="fe mh mi mj mk b">v-lazy</code>。</p><p id="d143" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">v-lazy</code>用于保存加载页面，将图像的加载推迟到它出现在屏幕上。</p><p id="f64b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个<code class="fe mh mi mj mk b">vue-scrollto</code>包让我们增加了滚动到一个给定元素的能力，带有各种不同的缓动效果。</p><p id="4cd6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它还允许我们在模板中调用滚动代码，或者在代码中包含它。我们还可以在完成之前取消滚动操作。</p></div></div>    
</body>
</html>