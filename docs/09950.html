<html>
<head>
<title>Testing CSS Visibility with Cypress</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Cypress测试CSS可见性</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/testing-css-visibility-with-cypress-e852085fc15b?source=collection_archive---------1-----------------------#2021-10-07">https://levelup.gitconnected.com/testing-css-visibility-with-cypress-e852085fc15b?source=collection_archive---------1-----------------------#2021-10-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="205e" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://gentille.us/b3601fb73472?sk=0dc73c81df810c0f181c432c9db3e085" rel="noopener ugc nofollow" target="_blank"> JavaScript和类型脚本测试</a></h2><div class=""/><p id="4493" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">这里有一个技术来测试特定的CSS属性是否存在于你不能直接到达的元素上。</p><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div class="gh gi ku"><img src="../Images/ba44e619ee9ef6394ac9821f9597c163.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MU1nwyMHXK2IsR5z-FZqSQ.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">机器人寻找隐形人</figcaption></figure><p id="dd46" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">我仍然处于学习Cypress的初级阶段，有时需要花费一些努力才能找到相当简单的解决方案。如果您遇到这种特殊的测试需求，我希望我能为您节省一些时间。</p><p id="0ae5" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">日常工作中，我使用的是Pluralsight的<a class="ae lg" href="https://design-system.pluralsight.com/" rel="noopener ugc nofollow" target="_blank">开源设计系统</a>。它包含许多有用的小部件。其中一个是“<a class="ae lg" href="https://design-system.pluralsight.com/components/drawer#drawer" rel="noopener ugc nofollow" target="_blank">抽屉</a>”。默认情况下，抽屉是折叠的，其内容不可见。点击提供的按钮，抽屉内容显示:<em class="lh">好玩有用</em>。获得<code class="fe li lj lk ll b">visibility</code>属性的元素不在我的控制之下，它被注入到我的代码中。我既需要找到<code class="fe li lj lk ll b">visibility:hidden</code>属性，又需要找出测试它的语法。这里有一些假的类似React的代码，近似于被测单元(带有一个注释，显示了我想要测试的元素在哪里)。</p><pre class="kv kw kx ky gt lm ll ln lo aw lp bi"><span id="4ba0" class="lq lr iq ll b gy ls lt l lu lv">&lt;Drawer data-cy={CYC.DATA_CY_CP_NOTES_DRAWER}&gt;<br/>// a div with visibility gets injected here by the Drawer component<br/>  &lt;DrawerDetails&gt;<br/>    &lt;NoteHeader &gt;<br/>      Important Note<br/>    &lt;/NoteHeader&gt;<br/>    &lt;NoteBody&gt; Lorem ipsum blah blah blah... &lt;/NoteBody&gt;<br/>  &lt;/DrawerDetails&gt;<br/>&lt;/Drawer&gt;</span></pre><p id="a847" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">我想要一个测试，验证当页面加载时，可见性设置为隐藏，然后当抽屉按钮被单击时，可见性没有设置为隐藏。这是你需要的一切。</p><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/c39e33c085ec9867719f49921bd4cb24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1106/format:webp/1*mDuT0O0gNmsVs6L20r6IOg.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">测试可见性的两个单元测试:隐藏存在和不存在</figcaption></figure><p id="b1b5" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">我也可以显式地测试<code class="fe li lj lk ll b">visibility</code>是否被设置为<code class="fe li lj lk ll b">visible</code>，但是我更喜欢对称地测试是否存在相同的值。</p></div><div class="ab cl lx ly hu lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ij ik il im in"><p id="bf87" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><em class="lh">好奇者的补充说明<br/> </em> <code class="fe li lj lk ll b">dataCy</code>是一个自定义命令，它只是<code class="fe li lj lk ll b">cy.get('[data-cy=${CYC.DATA_CY_CP_NOTES_DRAWER}]'&gt;</code>的简写，我有一篇关于如何开始使用自定义命令的<a class="ae lg" rel="noopener ugc nofollow" target="_blank" href="/navigating-cypress-custom-commands-412a817b088?sk=f176c6ef524d6fc83ecf309336a7ce06">短文</a>。</p><p id="bba7" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><code class="fe li lj lk ll b">CYC.DATA_CY_CP_NOTES_DRAWER</code>只是一个字符串常量。</p></div><div class="ab cl lx ly hu lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ij ik il im in"><p id="0770" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">还有更多<a class="ae lg" href="https://gentille.us/b3601fb73472?sk=0dc73c81df810c0f181c432c9db3e085" rel="noopener ugc nofollow" target="_blank"> JavaScript和类型脚本测试</a>技巧。</p><p id="66e1" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">平静地编码。</p></div></div>    
</body>
</html>