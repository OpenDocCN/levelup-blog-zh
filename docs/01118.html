<html>
<head>
<title>Understanding Switch Statements in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解JavaScript中的Switch语句</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/understanding-switch-statement-in-javascript-606825890227?source=collection_archive---------9-----------------------#2019-11-11">https://levelup.gitconnected.com/understanding-switch-statement-in-javascript-606825890227?source=collection_archive---------9-----------------------#2019-11-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/d35b6d9d848dca9e948984764f2d0c12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*3FFOvLPfuIY09e_EIaYyxg.jpeg"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">图像来自<a class="ae jy" href="https://www.pexels.com/@negativespace" rel="noopener ugc nofollow" target="_blank">负空间</a></figcaption></figure><p id="8c7a" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">每当我们为一个特定的测试用例编写多个<code class="fe kx ky kz la b">if/else</code>语句时，那么多个<code class="fe kx ky kz la b">if/else</code>语句可以被switch语句所替代。</p><p id="6dc1" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">语法:</p><pre class="lb lc ld le gt lf la lg lh aw li bi"><span id="5a6f" class="lj lk iq la b gy ll lm l ln lo">switch(expression_or_value) {<br/> <br/>   <strong class="la ir">case expression_or_value : <br/>      operation1<br/>      [break]; </strong></span><span id="30e8" class="lj lk iq la b gy lp lm l ln lo">  <strong class="la ir"> case expression_or_value :<br/>      operation2<br/>      [break]; </strong></span><span id="d0e5" class="lj lk iq la b gy lp lm l ln lo">    ...  </span><span id="7f97" class="lj lk iq la b gy lp lm l ln lo">  <strong class="la ir"> default : <br/>       default operation<br/>       [break]; </strong><br/>}</span><span id="ac0d" class="lj lk iq la b gy lp lm l ln lo"><strong class="la ir">// break is optional</strong></span></pre><p id="273f" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">switch语句首先计算其输入表达式。</p><p id="4996" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">然后使用严格的等号(<code class="fe kx ky kz la b">===</code>)检查第一个case表达式的结果是否与输入表达式的结果相同。</p><p id="0df2" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">如果大小写匹配，则执行与大小写相关的代码，直到找到关键字<code class="fe kx ky kz la b">break</code>，或者在函数中找到关键字<code class="fe kx ky kz la b">return</code>。</p><p id="4b95" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">如果<code class="fe kx ky kz la b">break</code>或<code class="fe kx ky kz la b">return</code>没有添加到<code class="fe kx ky kz la b">case</code>中，那么<code class="fe kx ky kz la b">switch</code>语句将继续执行匹配项下的代码。它将继续运行，直到找到一个<code class="fe kx ky kz la b">break</code>、<code class="fe kx ky kz la b">return</code>，或者到达语句的末尾。</p><p id="abe5" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">如果没有找到匹配的案例，那么程序会寻找一个<code class="fe kx ky kz la b">default</code>子句，并在那里执行代码。</p><p id="5bbb" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">如果没有找到一个<code class="fe kx ky kz la b">default</code>子句，那么它将到达switch表达式的末尾，并且不做任何事情。</p><p id="ae2b" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">示例:</p><pre class="lb lc ld le gt lf la lg lh aw li bi"><span id="d805" class="lj lk iq la b gy ll lm l ln lo">function getCost(item) {</span><span id="b281" class="lj lk iq la b gy lp lm l ln lo">  let cost ;</span><span id="3334" class="lj lk iq la b gy lp lm l ln lo">  switch(item) {</span><span id="6a60" class="lj lk iq la b gy lp lm l ln lo">    <strong class="la ir">case '🍌':<br/>      cost = '10$';<br/>      break;<br/>      <br/>    case '🍉' :<br/>      cost = '20$';<br/>      <br/>    case '🍓' :<br/>      cost = '30$';<br/>      break;<br/>      <br/>    default :<br/>      cost = "Item not in stock";</strong></span><span id="4ff7" class="lj lk iq la b gy lp lm l ln lo">  }</span><span id="8fe0" class="lj lk iq la b gy lp lm l ln lo">  return cost;<br/>}</span></pre><p id="58b6" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">让我们执行这个函数并测试它</p><pre class="lb lc ld le gt lf la lg lh aw li bi"><span id="811e" class="lj lk iq la b gy ll lm l ln lo">getCost('🍌'); // 10$</span><span id="9381" class="lj lk iq la b gy lp lm l ln lo">getCost('🍉'); // 30$</span><span id="4386" class="lj lk iq la b gy lp lm l ln lo">getCost('apple'); // Item not in stock</span></pre><p id="1c92" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated"><code class="fe kx ky kz la b">getCost(‘🍌’)</code> →匹配第一种情况，执行<code class="fe kx ky kz la b">cost = 10$</code>，执行<code class="fe kx ky kz la b">break</code>语句，结束switch语句。</p><p id="4573" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated"><code class="fe kx ky kz la b">getCost(‘🍉’)</code> →匹配第二种情况，执行<code class="fe kx ky kz la b">cost = 20$</code>。没有<code class="fe kx ky kz la b">break</code>，所以执行它下面的代码，<code class="fe kx ky kz la b">cost</code>的值从<code class="fe kx ky kz la b">20$</code>开始但是继续运行变成<code class="fe kx ky kz la b">30$</code>。</p><p id="006b" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated"><code class="fe kx ky kz la b">getCost(‘apple’)</code> →没有匹配的案例，执行<code class="fe kx ky kz la b">default</code>案例。对于最后一个案例，不需要<code class="fe kx ky kz la b">break</code>语句，因为它下面不会再有案例了。</p><h1 id="9759" class="lq lk iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">我们可以跳过break语句的情况</h1><p id="85b8" class="pw-post-body-paragraph jz ka iq kb b kc mn ke kf kg mo ki kj kk mp km kn ko mq kq kr ks mr ku kv kw ij bi translated">如果我们想对两个或更多的条件执行相同的操作，那么我们可以利用跳过break语句。</p><pre class="lb lc ld le gt lf la lg lh aw li bi"><span id="98bf" class="lj lk iq la b gy ll lm l ln lo">function isVowel(input) {</span><span id="5773" class="lj lk iq la b gy lp lm l ln lo">  let isVowel = false; </span><span id="fe33" class="lj lk iq la b gy lp lm l ln lo">  switch(<strong class="la ir">input</strong>) {</span><span id="3bf2" class="lj lk iq la b gy lp lm l ln lo">    <strong class="la ir">case 'a':<br/>    case 'e':<br/>    case 'i':<br/>    case 'o':<br/>    case 'u':<br/>      isVowel = true;</strong></span><span id="7006" class="lj lk iq la b gy lp lm l ln lo">  }</span><span id="1689" class="lj lk iq la b gy lp lm l ln lo">  return isVowel;</span><span id="6a17" class="lj lk iq la b gy lp lm l ln lo">}</span></pre><p id="610b" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">不考虑案例的放置顺序。</p><p id="b47a" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">我们还可以将默认case放在语句中的任何地方。</p><pre class="lb lc ld le gt lf la lg lh aw li bi"><span id="b5a5" class="lj lk iq la b gy ll lm l ln lo">function getCost(item) {</span><span id="78ca" class="lj lk iq la b gy lp lm l ln lo">  let cost = `The cost of ${item} is `;</span><span id="cd57" class="lj lk iq la b gy lp lm l ln lo">  switch(item) {</span><span id="1239" class="lj lk iq la b gy lp lm l ln lo">    <strong class="la ir">default :<br/>      cost = "Item not in stock";<br/>      break;</strong></span><span id="ec73" class="lj lk iq la b gy lp lm l ln lo">    case '🍌';<br/>      cost = '10$';<br/>      break;<br/>      <br/>    case '🍉' :<br/>      cost = '20$':<br/>      <br/>    case '🍓' :<br/>      cost = '30$';<br/>      break;</span><span id="2c78" class="lj lk iq la b gy lp lm l ln lo">  }<br/>  return cost;<br/>}</span></pre><p id="f723" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">但是不要忘记在<code class="fe kx ky kz la b">default</code> case的末尾加上一个<code class="fe kx ky kz la b">break</code>语句，如果它没有放在所有<code class="fe kx ky kz la b">cases</code>的末尾的话。</p><h1 id="28c9" class="lq lk iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">我们也可以在每个案例中加入区块</h1><pre class="lb lc ld le gt lf la lg lh aw li bi"><span id="f622" class="lj lk iq la b gy ll lm l ln lo">function getMenu(option) {</span><span id="7558" class="lj lk iq la b gy lp lm l ln lo">    switch(option) {<br/>    <br/>     <strong class="la ir"> </strong>case 'veg'<strong class="la ir"> : {<br/>       </strong> console.log('🍎','🍉','🍌','🍓', '🍏');<br/>        break;<strong class="la ir"><br/>      }<br/>      <br/>      </strong>case 'non-veg':<strong class="la ir"> {<br/>        </strong>console.log('🍗', '🍜', '🥩','🍣');<br/>        break;<br/> <strong class="la ir">     }<br/>      <br/>      </strong>default : <br/>        console.log('🍕','🥓','🥕','🍧');<strong class="la ir"><br/>       </strong> <br/>    }  </span><span id="5265" class="lj lk iq la b gy lp lm l ln lo">  }</span></pre><p id="b257" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">但是当我们需要使用它的时候呢？</p><p id="2dec" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">在一个<code class="fe kx ky kz la b">switch</code>表达式中，在任何一个case块中创建的变量对整个<code class="fe kx ky kz la b">switch</code>块都是可用的。</p><pre class="lb lc ld le gt lf la lg lh aw li bi"><span id="9ffc" class="lj lk iq la b gy ll lm l ln lo">function getMenu(option) {</span><span id="0889" class="lj lk iq la b gy lp lm l ln lo">    switch(option) {<br/>    <br/>      case 'veg' : <br/>       <strong class="la ir"> let menu =  ['🍎','🍉','🍌','🍓', '🍏'];</strong><br/>        console.log(...menu);<br/>        break;<br/>      <br/>      case 'non-veg': <br/>       <strong class="la ir"> let menu =  ['🍗', '🥩','🍣']; // this will throw error</strong><br/>        console.log(...menu);<br/>        break;<br/>      <br/>      default : <br/>        console.log('🍕','🥓','🥕','🍧');<br/>        <br/>    }  </span><span id="0324" class="lj lk iq la b gy lp lm l ln lo">  }</span></pre><p id="1a2b" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">上面的例子抛出“未捕获的SyntaxError:已经声明了标识符‘message’”，这可能不是您所期望的。</p><p id="8fdc" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">为了解决这个问题，我们可以使用一个模块<code class="fe kx ky kz la b">{}</code>作为<code class="fe kx ky kz la b">case</code>部分。</p><pre class="lb lc ld le gt lf la lg lh aw li bi"><span id="2cab" class="lj lk iq la b gy ll lm l ln lo">function getMenu(option) {</span><span id="9d88" class="lj lk iq la b gy lp lm l ln lo">    switch(option) {<br/>      <br/>     <strong class="la ir"> case 'veg' : {<br/>        </strong>let menu =  ['🍎','🍉','🍌','🍓', '🍏'];<br/>        console.log(...menu);<br/>        break;<strong class="la ir"><br/>      }</strong></span><span id="9596" class="lj lk iq la b gy lp lm l ln lo"><strong class="la ir">      case 'non-veg': {<br/>        </strong>let menu =  ['🍗', '🥩','🍣']; <br/>        console.log(...menu);<br/>        break;<strong class="la ir"><br/>      }</strong></span><span id="a4d4" class="lj lk iq la b gy lp lm l ln lo"><strong class="la ir">     </strong> default : <br/>        console.log('🍕','🥓','🥕','🍧');</span><span id="5725" class="lj lk iq la b gy lp lm l ln lo">    }</span><span id="4673" class="lj lk iq la b gy lp lm l ln lo">}</span></pre><h2 id="11da" class="lj lk iq bd lr ms mt dn lv mu mv dp lz kk mw mx md ko my mz mh ks na nb ml nc bi translated">我们可以有一个开关和外壳的表达式</h2><pre class="lb lc ld le gt lf la lg lh aw li bi"><span id="e5a1" class="lj lk iq la b gy ll lm l ln lo">switch(<strong class="la ir">1+2</strong>) {<br/>  <br/>    case 1: <br/>      console.log(1);<br/>      break;<br/>      <br/><strong class="la ir">    case 1+2 :</strong><br/>      console.log(3); // this will be executed<br/>      break;<br/>      <br/>  }</span></pre><p id="ff79" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">开关使用严格相等来比较大小写</p><pre class="lb lc ld le gt lf la lg lh aw li bi"><span id="57ac" class="lj lk iq la b gy ll lm l ln lo">switch(<strong class="la ir">1</strong>) {<br/>  <br/><strong class="la ir">    case '1':</strong> <br/>      console.log(1);<br/>      break;<br/>      <br/><strong class="la ir">    default :</strong><br/>      console.log("Default"); // this will be executed<br/>      <br/>  }</span></pre><p id="e146" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">感谢阅读📖。希望你喜欢这一点，如果你发现任何错别字或错误发送给我一个私人说明📝谢谢🙏 😊。</p><p id="d3fe" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">关注我<a class="ae jy" href="https://medium.com/u/f9ffc26e7e69?source=post_page-----98efbae5e8aa----------------------" rel="noopener"> JavaScript Jeep🚙💨</a>。</p><p id="431f" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated"><strong class="kb ir">请捐款</strong> <a class="ae jy" href="https://www.paypal.com/paypalme2/jagathishSaravanan" rel="noopener ugc nofollow" target="_blank"> <strong class="kb ir">此处</strong> </a> <strong class="kb ir">。你捐款的80%捐给了需要食物的人🥘。提前感谢。</strong></p></div></div>    
</body>
</html>