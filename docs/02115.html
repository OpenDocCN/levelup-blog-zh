<html>
<head>
<title>Firebase Android App Distribution</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Firebase Android应用程序分发</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/firebase-app-distribution-d7d5c75a73c5?source=collection_archive---------7-----------------------#2020-02-19">https://levelup.gitconnected.com/firebase-app-distribution-d7d5c75a73c5?source=collection_archive---------7-----------------------#2020-02-19</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="57f8" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">第一印象</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/019866125bcf3bd00207d40766ee2378.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZaYGehi1NivLdPjZT9GNaw.jpeg"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated"><a class="ae kw" href="https://unsplash.com/@marcinjozwiak?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Marcin Jozwiak </a>在<a class="ae kw" href="https://unsplash.com/s/photos/distribution?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="97e3" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">我从事Android开发已经很久了，以至于我早期的应用程序发行版都是将想要安装它的设备作为根，然后通过命令行手动插入电缆来安装它。不是最好的体验，也不是你想要的范围。你如何向加入测试程序的人解释，他们必须为他们的设备找到根？因此，扔掉他们所有的制造商的保证，甚至可能砖他们的手机。</p><p id="3d08" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">然后出现了其他应用商店，你可以在那里分发应用。如果你的用户在他们的设置中勾选了“信任不安全的来源”,你甚至可以创建dropbox链接。直到今天，我仍然记得在dropbox共享链接上，你必须改变查询才能直接从0到1开始下载。否则，它无法在大多数设备上运行，你最终会进入一个不允许你下载的网页。</p><p id="d427" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">最后，在2014年，Crashlytics推出了测试版(后来的Fabric Beta)，这使得分发我们的应用程序和管理我们的测试人员变得简单。它能在Android和iOS上运行可能是真正的卖点。但是所有的好事都必须结束，由于Crashlytics(和Fabric)被谷歌收购，他们认为将功能转移到Firebase品牌下更合适，因此出现了Firebase应用程序分发。</p><p id="daca" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">Firebase应用程序分发仍处于测试阶段，但我认为它足够稳定。事实上，它背后的团队成员来自从事Fabric Beta的团队，这让我确信无疑。给我的线索是，它仍然在制作中，是最小的功能集和一些隐藏的限制。</p><p id="1219" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">为了让您体验一下易用性，让我们开始吧。看完这篇文章后，你应该对通过Firebase发布你的应用感到舒服了，并且有什么限制需要考虑。你必须首先将你的应用程序连接到Firebase平台。如果你还在使用Crashlytics，现在是时候迁移了，因为它将在三月底关闭。</p><h1 id="89ad" class="lt lu ir bd lv lw lx ly lz ma mb mc md jx me jy mf ka mg kb mh kd mi ke mj mk bi translated">开始</h1><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj ml"><img src="../Images/300d4ce87d8f61c0900ac404b249e757.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w-v6zbRvWLwLjvhwQxIDmg.jpeg"/></div></div></figure><p id="c91b" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">单击主菜单中的应用程序分发。您将看到一个欢迎屏幕和一个关于如何开始的视频。单击“开始”按钮，您将进入主面板，它将由三个选项卡组成；<strong class="kz is"> <em class="mm">发布</em> </strong>，<strong class="kz is"> <em class="mm">邀请链接</em></strong><em class="mm"/>&amp;<strong class="kz is"><em class="mm">测试员和组</em> </strong>。</p><h2 id="0a9f" class="mn lu ir bd lv mo mp dn lz mq mr dp md lg ms mt mf lk mu mv mh lo mw mx mj my bi translated">测试人员和小组</h2><p id="5d9a" class="pw-post-body-paragraph kx ky ir kz b la mz js lc ld na jv lf lg nb li lj lk nc lm ln lo nd lq lr ls ik bi translated">让我们从“<em class="mm">测试人员和组</em>”开始在这里，您可以通过键入电子邮件地址来创建一个测试者；用户将收到一封电子邮件，询问他们是否想加入。</p><p id="8278" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">让我们也创建一个组。只需点击“添加组”按钮。但是请注意，你<em class="mm">不能</em>更改组名，也不能更改ID。所以要小心，因为这是如何从浪子和类似的API中引用它们的。</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj ml"><img src="../Images/0b2892f0fba2905dbc543aa68748e050.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mUo1hitxlkrbZ2oZGe36JA.jpeg"/></div></div></figure><p id="827c" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">现在，我们可以将用户添加到组中，也可以删除他们。我们还可以轻松地删除组和用户。所以不要害怕测试，测试，再测试。但是一旦你完成了测试，我会说尝试设置你的结构并坚持下去是好的。否则，您可能会以一堆命名不当的组而告终。或者更糟糕的是，手动处理测试人员从您想要删除的一个组到一个新组的移动。</p><h2 id="cfc4" class="mn lu ir bd lv mo mp dn lz mq mr dp md lg ms mt mf lk mu mv mh lo mw mx mj my bi translated">邀请链接</h2><p id="6bee" class="pw-post-body-paragraph kx ky ir kz b la mz js lc ld na jv lf lg nb li lj lk nc lm ln lo nd lq lr ls ik bi translated">邀请链接是获取你的测试者的一个简单方法，你创建一个共享链接，用户可以输入他们的邮件地址来注册。还有一个选项可以选择来自特定链接的注册是否应该在特定的组中结束。遗憾的是，您只能指定<strong class="kz is">一个</strong>组。</p><p id="e6e3" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">还有一个简洁的功能来指定电子邮件必须属于哪个域才能注册。同样的限制，只有一个。这对我来说很乏味，因为我们的组织有10-15个域，我不想创建15个邀请链接。</p><p id="208e" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">再说一遍，一旦创建了邀请链接，就不能更改。我并不介意邀请链接来来去去，你可能会想要旋转它们，这样旧的就不会被传播。但是，如果能够更新，比如说，链接应该提供给哪个组的用户，那就太好了。</p><p id="acca" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">如果您有许多测试用户注册并把他们添加到一个组中，这可能会成为一个真正的问题，因为每个组都有一个隐藏的限制，即每组200个用户。如果你达到了这个限制，下一个未记录的限制可能也会是一个问题，那就是你的整个项目只能有500个用户。这些限制不是一成不变的，但你自己无法改变它们。但是如果你有超过500名的测试人员，你可能对奢侈的问题没有意见，你可以随时联系Firebase看看他们能做什么。</p><p id="7c13" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">关于邀请链接的最后一件事是，您需要指定在您的项目中注册的应用程序中，链接应该邀请哪个应用程序进行测试。它藏在顶部。我已经错过好几次了…</p><p id="3571" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">在撰写本文期间，Firebase已经更新了邀请链接的UI，以包括邀请链接是为哪个应用程序创建的信息，因此他们肯定会听取反馈。看起来他们更新也很快。</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj ml"><img src="../Images/cfaf276f4c09966debe16c59b7a3227b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3nassRVTHrdRpucWrxqCTg.jpeg"/></div></div></figure><h2 id="82ec" class="mn lu ir bd lv mo mp dn lz mq mr dp md lg ms mt mf lk mu mv mh lo mw mx mj my bi translated">放</h2><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj ne"><img src="../Images/1c0e72b24cab789cea44011f030feed6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KHj9jGyoW7I_aO3Rh2E2iQ.png"/></div></div></figure><p id="5cb5" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">如果你对拖放业务感兴趣，发布一个应用程序也很简单，只需将你的apk文件拖放到web控制台即可。但是不要担心，如果你和我一样喜欢更自动化的上传方式，也可以支持浪子、Gradle和Firebase CLI。我自己只试过浪子，它很容易安装，文档也很简单。所以现在，每次我们将一个拉请求合并到我们的alpha分支中，我们的构建服务器都会将它推送到Firebase。</p><p id="9df5" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">使用web控制台时，必须再次注意在顶部半隐藏的下拉框中选择了哪个应用程序，因为这只会影响该应用程序。不过这里有个转折，你可以把<strong class="kz is"> <em class="mm">任何</em> </strong> apk拖进<strong class="kz is"> <em class="mm">任何</em> </strong> app。这意味着，如果你有不同的口味，或者一个beta版和一个alpha版，你可以随心所欲地混合搭配apk。放置apk的区域字面意思是“拖动任何”。apk在这里创建一个新版本。”</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj ml"><img src="../Images/6a716a21f86d785a58263642d45782ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_W0N4SC0Th9Ypr6wvMLvPA.jpeg"/></div></div></figure><p id="ee59" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">这有好有坏。好的一面是一些规则集不会强迫你；你可以测试一下。但是坏的一面是，您可能会让您的测试人员面临不一致的情况，因为他们是从您的APK中获取应用程序名称和版本的。因此，他们可能会注册“牛逼的应用程序测试版”，然后几个星期后只看到应用程序“牛逼的应用程序功能-袋鼠。”这可能不是世界末日，但测试人员很容易迷失，所以我们不要给他们任何理由。</p><h2 id="aebf" class="mn lu ir bd lv mo mp dn lz mq mr dp md lg ms mt mf lk mu mv mh lo mw mx mj my bi translated">结论</h2><p id="9b13" class="pw-post-body-paragraph kx ky ir kz b la mz js lc ld na jv lf lg nb li lj lk nc lm ln lo nd lq lr ls ik bi translated">总而言之，Firebase应用程序分发很好，很简单，甚至可能太简单了。但是有一个测试环境是很好的，在这个环境中您可以直接开始，而不用关心例行程序的运行。当你一切就绪。在邀请你真正的测试人员之前做一些打磨，给他们一个很好的体验。</p></div></div>    
</body>
</html>