<html>
<head>
<title>How to find the first and last day of a month with Oracle SQL Date Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Oracle SQL日期函数查找每月的第一天和最后一天</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-find-the-first-and-last-day-of-a-month-with-oracle-sql-date-functions-706572c751a8?source=collection_archive---------0-----------------------#2021-04-30">https://levelup.gitconnected.com/how-to-find-the-first-and-last-day-of-a-month-with-oracle-sql-date-functions-706572c751a8?source=collection_archive---------0-----------------------#2021-04-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="ba7d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我不断寻求提高与SQL相关的技能和知识。对MySQL有一个基本的了解，中度到重度使用(有些使用PostgreSQL)，我对Oracle数据库有一段时间了。</p><p id="70d1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Oracle SQL过去对我来说不太容易接近。我是一名Linux用户，我发现安装Oracle SQL——XE版——可能很简单，也可能很简单...(至少那是我的经历。)</p><p id="fbec" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然而，最近OCI上有一个一直免费的Oracle自治数据库，我最近注册了一个账户。</p><p id="107f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">有了两个免费的20 GB Oracle自治数据库，我开始了学习Oracle SQL数据库的旅程，最终目标是成为一名认证的Oracle SQL开发人员，这是我一段时间以来的目标。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi kp"><img src="../Images/b1afb7895427e9f065819ea9a698aa19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*0JVbssWRFHd8g_h_JNI0OA.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">图像由<a class="ae lb" href="https://pixabay.com/users/200degrees-2051452/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1763587" rel="noopener ugc nofollow" target="_blank"> 200度</a>从<a class="ae lb" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1763587" rel="noopener ugc nofollow" target="_blank">像素点开始</a></figcaption></figure><p id="fb4a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我最近写了一篇博文，名为<a class="ae lb" href="https://link.medium.com/39tBDpdDKfb" rel="noopener">MySQL Count Weekday Occurrences</a>，在这篇博文中，我<em class="ko">将一些Oracle SQL和日期功能概念(受YouTube视频的启发<a class="ae lb" href="https://youtu.be/wgg_zYD6Z3k?list=PLb1qVSx1k1VpEqAXgoFn5p7kFVzgsvUgM" rel="noopener ugc nofollow" target="_blank">移植到类似的MySQL查询中。在本文中，我将介绍Oracle SQL中日期功能的一小部分，据我所知，其目的是确定给定月份的第一天和最后一天。(本文中的例子针对的是撰写本文时的当月:2021年4月)。</a></em></p><h2 id="5df9" class="lc ld it bd le lf lg dn lh li lj dp lk kb ll lm ln kf lo lp lq kj lr ls lt lu bi translated">Oracle SQL日期函数</h2><p id="8099" class="pw-post-body-paragraph jq jr it js b jt lv jv jw jx lw jz ka kb lx kd ke kf ly kh ki kj lz kl km kn im bi translated">下面是我将在以下示例查询中使用的4个日期函数:</p><ul class=""><li id="778e" class="ma mb it js b jt ju jx jy kb mc kf md kj me kn mf mg mh mi bi translated"><code class="fe mj mk ml mm b">SYSDATE</code> —提供运行/安装Oracle数据库的操作系统的当前日期和时间。(注意:<code class="fe mj mk ml mm b">SYSDATE</code>不接受任何参数。)</li><li id="638b" class="ma mb it js b jt mn jx mo kb mp kf mq kj mr kn mf mg mh mi bi translated"><code class="fe mj mk ml mm b">LAST_DAY()</code> —为所提供的日期参数返回该月的最后一天。</li><li id="c9fb" class="ma mb it js b jt mn jx mo kb mp kf mq kj mr kn mf mg mh mi bi translated"><code class="fe mj mk ml mm b">TRUNC()</code> — <strong class="js iu">将日期值向下舍入</strong>为可选的指定格式模型(如月、年等)</li><li id="b331" class="ma mb it js b jt mn jx mo kb mp kf mq kj mr kn mf mg mh mi bi translated"><code class="fe mj mk ml mm b">ADD_MONTHS()</code> —接受两个参数:一个日期值和一个表示月份的数字。<code class="fe mj mk ml mm b">ADD_MONTHS()</code>返回给定日期参数加上指定月数的日期值结果。</li></ul><h2 id="701a" class="lc ld it bd le lf lg dn lh li lj dp lk kb ll lm ln kf lo lp lq kj lr ls lt lu bi translated">当月的第一天和最后一天</h2><p id="d384" class="pw-post-body-paragraph jq jr it js b jt lv jv jw jx lw jz ka kb lx kd ke kf ly kh ki kj lz kl km kn im bi translated">由于<code class="fe mj mk ml mm b">SYSDATE</code>提供了当前的日期和时间，使用它作为<code class="fe mj mk ml mm b">TRUNC()</code>函数的日期参数和一个<code class="fe mj mk ml mm b">MM</code>(月)格式模型返回月的第一天，因为<code class="fe mj mk ml mm b">TRUNC()</code>向下舍入。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="ms mt l"/></div></figure><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/de2c528656cfd821154528c9fa6c259e.png" data-original-src="https://miro.medium.com/v2/resize:fit:746/format:webp/1*HnWtdO1yAbDMRJUjSgRq1g.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">当月的第一天。</figcaption></figure><p id="579f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">将<code class="fe mj mk ml mm b">SYSDATE</code>作为参数传入<code class="fe mj mk ml mm b">LAST_DAY()</code>返回当月的最后一天:</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="ms mt l"/></div></figure><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/19ee225fe2079be6175d975caf6e55aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:562/format:webp/1*xvMBMDtMofPMwCYODGkCbw.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">当月的最后一天。</figcaption></figure><p id="9f4c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下面显示的是<code class="fe mj mk ml mm b">SYSDATE</code>提供的当月(2021年4月)的第一天和最后一天。如果需要，这些值可以用于进一步的数据处理(正如我在上面提到的链接文章中针对MySQL <em class="ko">端口over </em>所做的那样)。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="ms mt l"/></div></figure><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/21e95b057ea05be527649580d45e9b1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:740/format:webp/1*dw-f8MgrO8OtZ8uVa_UXXg.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">撰写本文时当月的第一天和最后一天。</figcaption></figure><h2 id="690e" class="lc ld it bd le lf lg dn lh li lj dp lk kb ll lm ln kf lo lp lq kj lr ls lt lu bi translated">下个月的第一天和最后一天</h2><p id="d163" class="pw-post-body-paragraph jq jr it js b jt lv jv jw jx lw jz ka kb lx kd ke kf ly kh ki kj lz kl km kn im bi translated">使用我们现在返回的查询结果，再做一点工作，使用另一个Oracle SQL日期函数— <code class="fe mj mk ml mm b">ADD_MONTHS()</code> —确定下个月的第一天和最后一天的值是非常容易的。简单地将数字1作为月数传递给<code class="fe mj mk ml mm b">ADD_MONTHS()</code>，将<code class="fe mj mk ml mm b">TRUNC(SYSDATE, ‘MM’)</code>调用作为<code class="fe mj mk ml mm b">DATE</code>值参数，返回下个(或下一个)月的第一天，<code class="fe mj mk ml mm b">01-MAY-21</code>:</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="ms mt l"/></div></figure><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/9e5b93f007dbc0eed6a857e81446505d.png" data-original-src="https://miro.medium.com/v2/resize:fit:520/format:webp/1*x1loehHapmTVd-myGTTzwQ.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">下个月的第一天。</figcaption></figure><p id="22f3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用<code class="fe mj mk ml mm b">ADD_MONTHS(TRUNC(SYSDATE, ‘MM), 1)</code>作为<code class="fe mj mk ml mm b">LAST_DAY()</code>函数的<code class="fe mj mk ml mm b">DATE</code>值参数也返回下个月的最后一天:</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="ms mt l"/></div></figure><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi my"><img src="../Images/ddc54fbd1decc720954f6e62231a72ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:546/format:webp/1*rHaJwxf1bGU-IlLpJ_lrSA.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">下个月的最后一天</figcaption></figure><h2 id="035a" class="lc ld it bd le lf lg dn lh li lj dp lk kb ll lm ln kf lo lp lq kj lr ls lt lu bi translated">上个月的第一天和最后一天</h2><p id="243c" class="pw-post-body-paragraph jq jr it js b jt lv jv jw jx lw jz ka kb lx kd ke kf ly kh ki kj lz kl km kn im bi translated">正如我在一本正在阅读的Oracle SQL书籍/指南中所了解到的，<em class="ko">Oracle SQL中没有SUBTRACT_MONTHS() </em> <code class="fe mj mk ml mm b">DATE</code>函数。但是，您可以使用一个负数作为第二个参数<code class="fe mj mk ml mm b">ADD_MONTHS()</code>，那么许多月份将从第一个参数<code class="fe mj mk ml mm b">DATE</code>值中减去。</p><p id="419f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">例如，使用a -1，您完全可以根据<code class="fe mj mk ml mm b">SYSDATE</code>的返回值<code class="fe mj mk ml mm b">DATE</code>确定前几个月的第一天和最后一天的值:</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="ms mt l"/></div></figure><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/5062f9464cfa8896991b4b8f722ef918.png" data-original-src="https://miro.medium.com/v2/resize:fit:724/format:webp/1*B1jfXvINdVmn9aJaMZekmg.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">上个月的第一天。</figcaption></figure><p id="5bd3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了计算上个月的最后一天，在调用<code class="fe mj mk ml mm b">LAST_DAY()</code>函数时，将整个表达式<code class="fe mj mk ml mm b">ADD_MONTHS(TRUNC(SYSDATE, ‘MM’), -1)</code>包装为<code class="fe mj mk ml mm b">DATE</code>参数:</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="ms mt l"/></div></figure><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi na"><img src="../Images/028f03474c17323aefb8e9e7ef8b8f58.png" data-original-src="https://miro.medium.com/v2/resize:fit:516/format:webp/1*IQNkGskXF8_OZstHC4rAOA.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">上个月的最后一天。</figcaption></figure><p id="94a6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我希望通过本文中的示例查询，您能更好地理解使用Oracle SQL日期函数检索第一天和最后一天的值是多么容易。</p><p id="f35d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果您看到代码中有任何错误或有任何问题，请随时发表评论。</p><p id="3071" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">感谢您的阅读。👍👏🤘</p></div><div class="ab cl nb nc hx nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="im in io ip iq"><p id="a648" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">喜欢的内容，你在这个帖子里看过？那么你肯定会喜欢我博客上的博文，数字猫头鹰的散文。</p><p id="5b9e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在那里，您可以找到关于SQL数据库开发/编程和LAMP web-stack开发的博客文章。</p></div><div class="ab cl nb nc hx nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="im in io ip iq"><h1 id="0626" class="ni ld it bd le nj nk nl lh nm nn no lk np nq nr ln ns nt nu lq nv nw nx lt ny bi translated">分级编码</h1><p id="9489" class="pw-post-body-paragraph jq jr it js b jt lv jv jw jx lw jz ka kb lx kd ke kf ly kh ki kj lz kl km kn im bi translated">感谢您成为我们社区的一员！升级正在改变技术招聘。<a class="ae lb" href="https://jobs.levelup.dev/talent" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">在最好的公司</strong>找到你最完美的工作 </a> <strong class="js iu">。</strong></p><div class="nz oa gp gr ob oc"><a href="https://jobs.levelup.dev/talent" rel="noopener  ugc nofollow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd iu gy z fp oh fr fs oi fu fw is bi translated">提升——改变招聘流程</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">🔥让软件工程师找到他们热爱的完美角色🧠寻找人才是最痛苦的部分…</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">作业. levelup.dev</p></div></div><div class="ol l"><div class="om l on oo op ol oq kv oc"/></div></div></a></div></div></div>    
</body>
</html>