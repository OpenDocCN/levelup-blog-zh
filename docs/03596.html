<html>
<head>
<title>Deploy and Scale your Dask Cluster with Kubernetes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Kubernetes部署和扩展您的Dask集群</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/deploy-and-scale-your-dask-cluster-with-kubernetes-9e43f7e24b04?source=collection_archive---------10-----------------------#2020-05-18">https://levelup.gitconnected.com/deploy-and-scale-your-dask-cluster-with-kubernetes-9e43f7e24b04?source=collection_archive---------10-----------------------#2020-05-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/fb2649be151120755586e4326ab8e3d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SdyGPspinsDFiv7F.jpg"/></div></div></figure><p id="5ee1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Dask是Python的并行计算库。我认为它就像MPI一样，不需要实际编写MPI代码，我非常欣赏这一点！</p><blockquote class="kw kx ky"><p id="4d5e" class="jy jz kz ka b kb kc kd ke kf kg kh ki la kk kl km lb ko kp kq lc ks kt ku kv ij bi translated"><em class="iq"> Dask原生鳞片蟒蛇</em></p><p id="10a6" class="jy jz kz ka b kb kc kd ke kf kg kh ki la kk kl km lb ko kp kq lc ks kt ku kv ij bi translated"><em class="iq"> Dask为分析提供先进的并行技术，为您喜爱的工具提供规模化性能</em></p><p id="ae33" class="jy jz kz ka b kb kc kd ke kf kg kh ki la kk kl km lb ko kp kq lc ks kt ku kv ij bi translated"><a class="ae ld" href="https://dask.org" rel="noopener ugc nofollow" target="_blank"><em class="iq">https://dask.org</em></a></p></blockquote><p id="735a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Dask的一个更酷的方面是，您可以跨计算机/服务器/节点/pod/容器等进行扩展。这就是为什么我说它像MPI。</p><p id="20be" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们今天要讨论的是:</p><ul class=""><li id="d5c5" class="le lf iq ka b kb kc kf kg kj lg kn lh kr li kv lj lk ll lm bi translated">使用Kubernetes的优势</li><li id="de87" class="le lf iq ka b kb ln kf lo kj lp kn lq kr lr kv lj lk ll lm bi translated">使用Kubernetes的缺点</li><li id="5d3d" class="le lf iq ka b kb ln kf lo kj lp kn lq kr lr kv lj lk ll lm bi translated">安装Dask舵图</li><li id="49f9" class="le lf iq ka b kb ln kf lo kj lp kn lq kr lr kv lj lk ll lm bi translated">使用<code class="fe ls lt lu lv b">kubectl scale</code>扩大/缩小您的Dask工人</li><li id="c06e" class="le lf iq ka b kb ln kf lo kj lp kn lq kr lr kv lj lk ll lm bi translated">修改Dask头盔图来增加额外的套装</li><li id="474c" class="le lf iq ka b kb ln kf lo kj lp kn lq kr lr kv lj lk ll lm bi translated">使用水平Pod自动缩放器自动缩放您的Dask工人</li></ul><h1 id="2534" class="lw lx iq bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">对Kubernetes上的Dask有利</h1><p id="7db7" class="pw-post-body-paragraph jy jz iq ka b kb mu kd ke kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv ij bi translated">先说一些(很多！)使用Kubernetes的好处！</p><h1 id="fdf8" class="lw lx iq bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">可定制的配置</h1><p id="e2aa" class="pw-post-body-paragraph jy jz iq ka b kb mu kd ke kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv ij bi translated">Dask的另一个非常重要的方面，至少对我来说，是我可以设置它，使基础设施方面的事情对用户完全透明，他们永远不必接触它。这一点对我来说很重要，因为传统上，我一直站在技术问题等式的开发运维与基础设施这一边，与应用程序或模型开发这一边的数据科学家一起工作。</p><p id="09c7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我喜欢这种灵活性，我可以在基础设施端获得一个很好的默认设置，然后关心定制的用户可以在应用程序端根据需要进行调整。</p><p id="7b1b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们举一个真实世界的例子。我和一个数据科学家团队一起工作，他正在创建一个<a class="ae ld" href="https://plotly.com/dash/" rel="noopener ugc nofollow" target="_blank"> Dash </a> web应用程序，对一些数据集进行实时可视化。</p><p id="ae6f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这个想法是，用户点击一个按钮，在后台数字被处理，模型参数被评估，科学向前发展！</p><p id="86a8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们不想在浏览器中，甚至在一台服务器上处理它们，<em class="kz">因为你看过</em>生物信息学数据集吗？数据集不断变大，分辨率也越来越高。(好吧，现在咆哮结束。)</p><p id="7772" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">理想情况下，我们想要的是在一个完全独立于我们的web应用程序的分布式、自动扩展的计算环境中处理数字。这就是达斯克的用武之地。</p><h1 id="0db6" class="lw lx iq bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">整合能力</h1><p id="ca82" class="pw-post-body-paragraph jy jz iq ka b kb mu kd ke kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv ij bi translated">你很少只使用一种工具或系统。我看到的最常见的用例是这样的:</p><ul class=""><li id="4733" class="le lf iq ka b kb kc kf kg kj lg kn lh kr li kv lj lk ll lm bi translated">数据存储在网络文件系统或S3上</li><li id="d2c4" class="le lf iq ka b kb ln kf lo kj lp kn lq kr lr kv lj lk ll lm bi translated">探索性分析是在JupyterHub、RStudio或仅使用SSH的HPC计算集群上完成的</li><li id="43ea" class="le lf iq ka b kb ln kf lo kj lp kn lq kr lr kv lj lk ll lm bi translated">最终分析被放入管道工具，如<a class="ae ld" href="https://github.com/apache/airflow" rel="noopener ugc nofollow" target="_blank"> Apache Airflow </a>，任务在Kubernetes或作业队列系统(如AWS Batch)上运行。</li></ul><p id="16f5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">其中的每一个都可以被认为是一个独立的组件，使用类似Terraform的东西，您可以轻松地部署您的文件系统、应用程序和集群。</p><p id="6c72" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后是与Dask包本身的集成。Dask可以作为使用<code class="fe ls lt lu lv b">dask_ml</code> <a class="ae ld" href="https://examples.dask.org/machine-learning.html" rel="noopener ugc nofollow" target="_blank">库</a>的许多SKLearn函数的替代品。</p><h1 id="bd31" class="lw lx iq bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">自动缩放的能力</h1><p id="7dc7" class="pw-post-body-paragraph jy jz iq ka b kb mu kd ke kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv ij bi translated">当然，我们不想花钱让一堆服务器无所事事。这就是我们在云上的原因！如果您在Kubernetes上使用Dask，您可以手动缩放，也可以通过在Kubernetes配置中创建自动缩放规则来按需缩放。</p><p id="b674" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Dask会注意到工程何时上升或下降，并利用这一切，除了将它指向调度程序之外，您无需做任何事情！</p><h1 id="e9e1" class="lw lx iq bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">Kubernetes上Dask的缺点</h1><p id="3e52" class="pw-post-body-paragraph jy jz iq ka b kb mu kd ke kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv ij bi translated">您必须学习Kubernetes，并且至少对Docker容器的工作原理有一个基本的了解。如果你没有这些，你的学习曲线会非常陡峭。</p><h1 id="23c1" class="lw lx iq bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">使用的技术</h1><p id="ac37" class="pw-post-body-paragraph jy jz iq ka b kb mu kd ke kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv ij bi translated">对于这个教程，你需要安装<a class="ae ld" href="https://kubernetes.io/docs/tasks/tools/install-kubectl/" rel="noopener ugc nofollow" target="_blank">库贝克</a>和<a class="ae ld" href="https://helm.sh/docs/intro/install/" rel="noopener ugc nofollow" target="_blank">头盔</a>。</p><p id="88ad" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你需要某种形式的Kubernetes或<a class="ae ld" href="https://kubernetes.io/docs/tasks/tools/install-minikube/" rel="noopener ugc nofollow" target="_blank"> MiniKube </a> cluster。Kubernetes是平台不可知的，所以不管你是部署在AWS、GCP还是内部。</p><p id="79b8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你对我如何部署我的AWS EKS集群感兴趣，你可以看看我写的这篇博文。</p><p id="3b1c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">从那里我们将使用<a class="ae ld" href="https://helm.sh/" rel="noopener ugc nofollow" target="_blank"> Helm V3 </a>，这是一种Kubernetes上应用程序的包管理器，来部署我们的<a class="ae ld" href="https://github.com/dask/helm-chart/tree/master/dask" rel="noopener ugc nofollow" target="_blank"> Dask集群</a>。</p><h1 id="4355" class="lw lx iq bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">安装Dask</h1><p id="bde3" class="pw-post-body-paragraph jy jz iq ka b kb mu kd ke kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv ij bi translated">此时，您应该已经启动并运行了Kubernetes或MiniKube集群。</p><p id="5771" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们关心的Kubernetes/MiniKube设置的唯一区别是公开服务。如果您使用AWS之类的云提供商，您会希望使用LoadBalancer serviceType进行部署。如果您使用的是on site或MiniKube，您将需要使用NodePort进行部署，然后使用kubectl来转发地址。如果你正在使用Minikube <a class="ae ld" href="https://kubernetes.io/docs/tasks/access-application-cluster/ingress-minikube/" rel="noopener ugc nofollow" target="_blank">,这是我发现的最好的公开服务的综合资源</a>。</p><p id="b346" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于这第一次通过，我们只是要安装Dask，看看周围。然后我们会做一些很酷的自动缩放的事情！</p><p id="787b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们将使用官方的<a class="ae ld" href="https://github.com/dask/helm-chart" rel="noopener ugc nofollow" target="_blank"> Dask头盔图</a>。</p><pre class="mz na nb nc gt nd lv ne nf aw ng bi"><span id="24cd" class="nh lx iq lv b gy ni nj l nk nl">helm repo add dask https://helm.dask.org/<br/>helm repo update<br/># Kubernetes cluster on a cloud provider (AWS, GCP, Azure)<br/># The default serviceType is already set as LoadBalancer<br/># Make sure to remember your release names!<br/>export RELEASE="dask"<br/>helm install ${RELEASE} dask/dask<br/># Kubernetes cluster on an in house server/minikube<br/># helm install dask dask/dask --set serviceType=NodePort</span></pre><p id="de76" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你会注意到，当你用Helm安装图表时，会弹出一些非常方便的说明。如果您需要再次访问它们，并且不希望余生都在滚动中度过，那么使用您之前提供的发布名称运行命令<code class="fe ls lt lu lv b">helm status $RELEASE</code>，在本例中是<code class="fe ls lt lu lv b">dask</code>。</p><p id="0036" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这些可能需要几分钟才能显示出来，但是让我们运行一些命令。</p><pre class="mz na nb nc gt nd lv ne nf aw ng bi"><span id="8cfd" class="nh lx iq lv b gy ni nj l nk nl">kubectl get pods |grep dask <br/>kubectl get svc |grep dask</span></pre><p id="582c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你应该会看到一个或多个像<code class="fe ls lt lu lv b">Init</code>或<code class="fe ls lt lu lv b">Running</code>这样的状态。启动和运行需要几分钟，所以去喝点茶吧！</p><figure class="mz na nb nc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nm"><img src="../Images/73c871319a37c602cc0fedfce5eaf2ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*o4xuRsUMW4Og1sU3.jpg"/></div></div></figure><p id="7db9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你使用云提供商，你会看到为你的Jupyter笔记本和Dask调度程序提供的负载平衡器服务。如果您使用MiniKube，您必须运行MiniKube命令来获取服务URL。</p><h1 id="94b5" class="lw lx iq bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">探索我们的木星中心环境</h1><p id="e04c" class="pw-post-body-paragraph jy jz iq ka b kb mu kd ke kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv ij bi translated">现在，我们有了Jupyterhub，它非常方便，因为它为我们提供了一个python控制台和一个终端。</p><p id="4141" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">前往<code class="fe ls lt lu lv b">dask-jupyter</code> svc中显示的网址。</p><pre class="mz na nb nc gt nd lv ne nf aw ng bi"><span id="38d9" class="nh lx iq lv b gy ni nj l nk nl">kubectl get svc dask-jupyter <br/># Or if you can't remember the name of all the services just grep for your release name <br/># kubectl get svc |grep dask</span></pre><p id="4d75" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">默认密码是<code class="fe ls lt lu lv b">dask</code>。如果你想改变它，去看看<a class="ae ld" href="https://github.com/dask/helm-chart" rel="noopener ugc nofollow" target="_blank"> dask舵图文档</a>。</p><p id="32a3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在左手边你会看到<code class="fe ls lt lu lv b">File Browser</code>。转到<code class="fe ls lt lu lv b">examples/01-custom-delayed.ipynb</code>。开始运行代码单元，直到您点击dask客户端。</p><h1 id="56c4" class="lw lx iq bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">配置Dask客户端</h1><p id="f1a0" class="pw-post-body-paragraph jy jz iq ka b kb mu kd ke kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv ij bi translated">现在，这是那些真正让人犯错的事情之一。我说的人也指我在学习Docker的时候。；-)</p><p id="4d41" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">(通常)您可以通过两种方式之一访问服务。如果您是集群的内部成员，就像我们在Jupyterhub笔记本上一样，您可以使用服务名，在本例中是<code class="fe ls lt lu lv b">dask-scheduler</code>，因为联网很神奇。我们还有一个外部IP地址，因此我们将使用它。你可以使用任何一个，它工作得很好。使用服务名可能更好，因为IP地址可以改变，但是我想在这里演示它也可以与外部IP一起工作。</p><p id="239d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">别忘了IP地址前面的<code class="fe ls lt lu lv b">tcp</code>。那件事一直困扰着我！</p><figure class="mz na nb nc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nn"><img src="../Images/e85cf86c7a3582abb55a0528b838e785.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*bzQm6ul6E56jfo01.jpg"/></div></div></figure><p id="460e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">按下run按钮，您应该会看到一些关于Dask集群的信息！</p><p id="1270" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">运行其余的单元格，这样我们就可以在Dask状态仪表板上看到一些有趣的东西。</p><h1 id="b31a" class="lw lx iq bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">探索Dask仪表板</h1><p id="288a" class="pw-post-body-paragraph jy jz iq ka b kb mu kd ke kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv ij bi translated">回到你的svcs去。</p><pre class="mz na nb nc gt nd lv ne nf aw ng bi"><span id="3fb1" class="nh lx iq lv b gy ni nj l nk nl">kubectl get svc dask-scheduler</span></pre><p id="0fcc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">并获取外部IP。打开那个网址，有或没有端口80(任何站点的默认端口都是端口80，所以不需要放入)，查看Dask仪表板。</p><pre class="mz na nb nc gt nd lv ne nf aw ng bi"><span id="57e9" class="nh lx iq lv b gy ni nj l nk nl">from dask.distributed import Client, progress<br/>import dask<br/>import distributed<br/>dask.config.set({<br/>"distributed.comm.timeouts.tcp": "50s",<br/>"distributed.scheduler.allowed-failures": 999<br/>})<br/>c = Client("tcp://dask-scheduler:8786")<br/># c = Client("tcp://EXTERNAL_IP:8786")<br/>c<br/><br/># TRUST BUT VERIFY<br/>dask.config.get('distributed.comm.timeouts')<br/>dask.config.get('distributed.scheduler.allowed-failures')</span></pre><h1 id="4d69" class="lw lx iq bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">Dask状态</h1><p id="cd1e" class="pw-post-body-paragraph jy jz iq ka b kb mu kd ke kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv ij bi translated">这是仪表板的默认部分。如果你运行了其余的细胞，你应该看到这里的东西。</p><p id="ac94" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你想玩一会儿，看看Dask实际执行的函数，并改变它们的参数。</p><pre class="mz na nb nc gt nd lv ne nf aw ng bi"><span id="495c" class="nh lx iq lv b gy ni nj l nk nl">%%time<br/>zs = []<br/># Change the range value to see how it affects tasks<br/>for i in range(10000):<br/>    x = inc(i)<br/>    y = dec(x)<br/>    z = add(x, y)<br/>    zs.append(z)<br/><br/>zs = dask.persist(*zs)<br/>total = dask.delayed(sum)(zs)</span></pre><figure class="mz na nb nc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nm"><img src="../Images/f0cb856ad69e1b92fe76c3c6207cf983.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Ni51p4_B4pmtHP9j.png"/></div></div></figure><h1 id="a0bd" class="lw lx iq bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">缩放Dask工人</h1><p id="8e35" class="pw-post-body-paragraph jy jz iq ka b kb mu kd ke kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv ij bi translated">现在我们已经完成了基线检查以确保一切正常，让我们改变一下dask工作人员的数量。我这样做有两个原因。我想确保这不会让Dask调度程序抓狂。然后，我想为自动伸缩或基于需求的伸缩奠定基础！</p><p id="bf4b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了做到这一点，我们将使用<code class="fe ls lt lu lv b">kubectl scale</code>命令。确切地说，我们的规模是基于Kubernetes类型，通常是<code class="fe ls lt lu lv b">Deployment</code>、<code class="fe ls lt lu lv b">StatefulSet</code>或<code class="fe ls lt lu lv b">SVC</code>。有关更多信息，请查看<a class="ae ld" href="https://kubernetes.io/docs/reference/kubectl/cheatsheet/#scaling-resources" rel="noopener ugc nofollow" target="_blank"> kubectl cheatsheet </a>和<a class="ae ld" href="https://kubernetes.io/docs/concepts/workloads/controllers/deployment/#scaling-a-deployment" rel="noopener ugc nofollow" target="_blank">scaling a deployment</a>。</p><p id="fd6e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们的Dask Worker是一个部署，因此我们将使用部署伸缩策略。如果你不知道你在缩放什么，去舵图，然后去你想要缩放的东西的模板。</p><p id="b88a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这里是<a class="ae ld" href="https://github.com/dask/helm-chart/blob/master/dask/templates/dask-worker-deployment.yaml#L1" rel="noopener ugc nofollow" target="_blank"> dask-worker模板</a>。</p><figure class="mz na nb nc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi no"><img src="../Images/d7fbd4c7cfa082792c73e11dd29476f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cKU60mokhSroWKgH.png"/></div></div></figure><p id="4456" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们将我们的工作人员扩展到4个副本！</p><pre class="mz na nb nc gt nd lv ne nf aw ng bi"><span id="cb46" class="nh lx iq lv b gy ni nj l nk nl">kubectl scale deployment.v1.apps/dask-worker --replicas=4</span></pre><p id="4e19" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您应该会看到一条成功消息:</p><pre class="mz na nb nc gt nd lv ne nf aw ng bi"><span id="a323" class="nh lx iq lv b gy ni nj l nk nl">deployment.apps/dask-worker scaled</span></pre><p id="4d62" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">获取pod，您应该会看到<code class="fe ls lt lu lv b">dask-worker</code>pod正在运行或正在初始化！</p><pre class="mz na nb nc gt nd lv ne nf aw ng bi"><span id="33a4" class="nh lx iq lv b gy ni nj l nk nl">(base) root@6e0a2f79446d:~# kubectl get pods |grep dask<br/>dask-jupyter-6596ccb45f-2cl64     1/1     Running   0          6d23h<br/>dask-scheduler-689c44ccf7-c6j58   1/1     Running   0          6d23h<br/>dask-worker-7df97cb9d-bvkhm       1/1     Running   0          6d23h<br/>dask-worker-7df97cb9d-dwq45       1/1     Running   0          7m55s<br/>dask-worker-7df97cb9d-k7xdb       1/1     Running   0          43s<br/>dask-worker-7df97cb9d-qvkl6       1/1     Running   0          7m55s</span></pre><p id="aad1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以前往Dask仪表板-&gt; Workers，您应该会看到4个工人！</p><figure class="mz na nb nc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi np"><img src="../Images/5f8e61139eed9a59acd509289dc59d27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cF269Jo-uxVUcDZ_.png"/></div></div></figure><p id="0ae8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了准备下一部分，让我们将我们的工作人员缩减到1个副本。</p><pre class="mz na nb nc gt nd lv ne nf aw ng bi"><span id="b6b8" class="nh lx iq lv b gy ni nj l nk nl">kubectl scale deployment.v1.apps/dask-worker --replicas=1</span></pre><h1 id="59db" class="lw lx iq bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">自动缩放Dask工作线程</h1><p id="5dda" class="pw-post-body-paragraph jy jz iq ka b kb mu kd ke kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv ij bi translated">下一部分是完全可选的。它描述了如何自动扩展Dask workers，以便根据需求动态地扩大或缩小规模。这是一个高级主题，确切的数字在很大程度上取决于您自己的Kubernetes集群和场景。</p><p id="8b0f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">首先，您需要安装<a class="ae ld" href="https://github.com/helm/charts/tree/master/stable/metrics-server" rel="noopener ugc nofollow" target="_blank"> helm metrics服务器</a>。</p><pre class="mz na nb nc gt nd lv ne nf aw ng bi"><span id="1856" class="nh lx iq lv b gy ni nj l nk nl">helm repo add stable https://kubernetes-charts.storage.googleapis.com<br/>helm repo update<br/>helm install metrics stable/metrics-server</span></pre><p id="4bb8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kz">警告</em>在这样做的时候，攻击你的系统是非常容易的。不要在生产系统上玩自动缩放！</p><p id="df0e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你破坏了你的安装，通常是以得到一个pod<code class="fe ls lt lu lv b">Evicted</code>的形式，最简单的方法就是用<code class="fe ls lt lu lv b">helm delete dask</code>删除你的版本，然后用<code class="fe ls lt lu lv b">helm install dask dask/dask</code>重新安装。</p><p id="39f8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">之前我们讨论了缩放。缩放很酷，但是对于我们想要的还不够。我们真正想要的是自动扩展，这意味着我们可以根据需求进行扩展！</p><pre class="mz na nb nc gt nd lv ne nf aw ng bi"><span id="9149" class="nh lx iq lv b gy ni nj l nk nl">kubectl scale deployment.v1.apps/dask-worker --replicas=1 <br/>kubectl autoscale deployment.v1.apps/dask-worker --min=1 --max=3 --cpu-percent=1</span></pre><p id="3744" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这将添加一个水平Pod自动缩放器。</p><pre class="mz na nb nc gt nd lv ne nf aw ng bi"><span id="2ff8" class="nh lx iq lv b gy ni nj l nk nl">kubectl get hpa <br/># To delete it run <br/># kubectl delete hpa dask-worker</span></pre><h1 id="0753" class="lw lx iq bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">用Dask-ML更新我们的Dask部署</h1><p id="cb3b" class="pw-post-body-paragraph jy jz iq ka b kb mu kd ke kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv ij bi translated">现在，为了让这个例子更有趣，让我们更新我们的部署来添加<code class="fe ls lt lu lv b">dask-ml</code>库。</p><p id="bd66" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">在此之前，请确保您已经导出了您关心的任何作品！这将重新创建所有的容器！</strong></p><pre class="mz na nb nc gt nd lv ne nf aw ng bi"><span id="688b" class="nh lx iq lv b gy ni nj l nk nl">wget <a class="ae ld" href="https://raw.githubusercontent.com/dask/helm-chart/master/dask/values.yaml" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/dask/helm-chart/master/dask/values.yaml</a></span></pre><p id="194f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">打开<code class="fe ls lt lu lv b">values.yaml</code>，寻找worker - &gt; env键。更改EXTRA_CONDA_PACKAGES环境变量，在worker和jupyterhub定义中包含<code class="fe ls lt lu lv b">dask-ml</code>和<code class="fe ls lt lu lv b">matplotlib</code>。</p><pre class="mz na nb nc gt nd lv ne nf aw ng bi"><span id="4364" class="nh lx iq lv b gy ni nj l nk nl">worker:<br/>  name: worker<br/>  image:<br/>    repository: "daskdev/dask"<br/>    tag: 2.14.0<br/>    pullPolicy: IfNotPresent<br/>    # dask_worker: "dask-cuda-worker"<br/>    dask_worker: "dask-worker"<br/>    pullSecrets:<br/>    #  - name: regcred<br/>  replicas: 3<br/>  default_resources:  # overwritten by resource limits if they exist<br/>    cpu: 1<br/>    memory: "4GiB"<br/>  env:<br/>  #  - name: EXTRA_APT_PACKAGES<br/>  #    value: build-essential openssl<br/>  #  - name: EXTRA_CONDA_PACKAGES<br/>  #    value: numba xarray -c conda-forge<br/>  #  - name: EXTRA_PIP_PACKAGES<br/>  #    value: s3fs dask-ml --upgrade</span></pre><p id="8470" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">收件人:</p><pre class="mz na nb nc gt nd lv ne nf aw ng bi"><span id="4fa6" class="nh lx iq lv b gy ni nj l nk nl">worker:<br/>  name: worker<br/>  image:<br/>    repository: "daskdev/dask"<br/>    tag: 2.14.0<br/>    pullPolicy: IfNotPresent<br/>    # dask_worker: "dask-cuda-worker"<br/>    dask_worker: "dask-worker"<br/>    pullSecrets:<br/>    #  - name: regcred<br/>  replicas: 3<br/>  default_resources:  # overwritten by resource limits if they exist<br/>    cpu: 1<br/>    memory: "4GiB"<br/>  env:<br/>  #  - name: EXTRA_APT_PACKAGES<br/>  #    value: build-essential openssl<br/>  ############## ADD IN EXTRA PACKAGES HERE!<br/>    - name: EXTRA_CONDA_PACKAGES<br/>      value: numba xarray dask-ml matplotlib -c conda-forge<br/>  #  - name: EXTRA_PIP_PACKAGES<br/>  #    value: s3fs dask-ml --upgrade</span></pre><p id="89c4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对jupyterhub变量做同样的事情！</p><p id="ed7c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在用以下内容更新安装:</p><pre class="mz na nb nc gt nd lv ne nf aw ng bi"><span id="6edb" class="nh lx iq lv b gy ni nj l nk nl">helm upgrade --install dask dask/dask --values values.yaml</span></pre><p id="01b8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">去看看你的豆荚怎么样了:</p><pre class="mz na nb nc gt nd lv ne nf aw ng bi"><span id="9673" class="nh lx iq lv b gy ni nj l nk nl">kubectl get pods |grep dask</span></pre><p id="17e4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可能会看到“容器创建”或“初始化”之类的内容，这是因为默认情况下，Kubernetes会进行滚动更新，在下一个容器准备好之前，它不会更新您的容器。</p><figure class="mz na nb nc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nq"><img src="../Images/d59293ab2b75f9a92c2ce7fe275ae083.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*yrHqTgerXeuPd5hb.png"/></div></div></figure><p id="b68c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">刷新你的Jupyterhub页面，用密码<code class="fe ls lt lu lv b">dask</code>重新登录。</p><p id="0b70" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">打开<code class="fe ls lt lu lv b">examples/ml/incremental.ipynb</code>笔记本。</p><p id="72fd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">请确保更改您的客户端配置！</p><pre class="mz na nb nc gt nd lv ne nf aw ng bi"><span id="883f" class="nh lx iq lv b gy ni nj l nk nl">from dask.distributed import Client, progress<br/>import dask<br/>import distributed<br/>dask.config.set({<br/>"distributed.comm.timeouts.tcp": "50s",<br/>"distributed.scheduler.allowed-failures": 999<br/>})<br/>c = Client("tcp://dask-scheduler:8786")</span></pre><p id="53fc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">遍历单元格，直到“创建一个随机数据集”。</p><p id="faf3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您将看到一些看起来有点像这样的代码，除了<code class="fe ls lt lu lv b">n_samples</code>和<code class="fe ls lt lu lv b">n_features</code>的编号不同。</p><p id="d9ac" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你要做的是把这些数字改成非常小的数字，只是为了测试一下，不要冒险破坏你的整个系统。</p><p id="69dc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我从<code class="fe ls lt lu lv b">n_samples=100</code>和<code class="fe ls lt lu lv b">n_features=2</code>开始。随便玩玩吧！</p><pre class="mz na nb nc gt nd lv ne nf aw ng bi"><span id="c89b" class="nh lx iq lv b gy ni nj l nk nl">n_samples = 100<br/>n_features = 2<br/><br/># These were my final numbers to get anything interesting with the autoscaling<br/># n_samples = 10000000<br/># n_features = 500<br/>chunks = n_samples // 50<br/><br/>X, y = dask_ml.datasets.make_classification(<br/>        n_samples=n_samples, n_features=n_features,<br/>        chunks=chunks,<br/>        random_state=0<br/>)</span></pre><p id="7d57" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，您可以运行代码，直到<em class="kz">创建Scikit-Learn模型、SGDClassifier </em>和%时间块。</p><pre class="mz na nb nc gt nd lv ne nf aw ng bi"><span id="c7f6" class="nh lx iq lv b gy ni nj l nk nl">%time _ = inc.fit(X_train, y_train, classes=[0, 1])</span></pre><p id="fa2e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这里，就是达斯克魔法发生的地方！用你的小数字运行整个代码。然后逐渐增加，看看它如何影响自动缩放。</p><p id="8ef2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以通过几种不同的方式来检查自动缩放器。一种是转到Dask仪表板的<em class="kz">工人</em>部分。另一个是刚刚运行的<code class="fe ls lt lu lv b">watch kubectl get pods</code>。</p><p id="6b5c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您的pods何时扩展取决于Kubernetes集群和各个容器的可用CPU/内存量。我试图把它放在一个非常低的量，这样每个人都可以看到自动缩放在起作用，但你将不得不与<code class="fe ls lt lu lv b">n_samples</code>和<code class="fe ls lt lu lv b">n_features</code>玩得相当多，以占用足够的CPU和内存来缩放你的豆荚。</p><p id="c14d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">以下是一些处于待定状态的窗格:</p><figure class="mz na nb nc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nr"><img src="../Images/1f225323bf60db5c73dce6be49a17915.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*uibr-5L5HCuF9HbQ.png"/></div></div></figure><p id="655e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这里，它们被Dask调度程序注册！</p><figure class="mz na nb nc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ns"><img src="../Images/0e36fa9af97b227cacd870c21c8eb310.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*f_OCoDP6wwhnnuOO.png"/></div></div></figure><h1 id="790c" class="lw lx iq bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">排除驱逐故障</h1><p id="34a8" class="pw-post-body-paragraph jy jz iq ka b kb mu kd ke kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv ij bi translated">如果您的pod一直显示为“被驱逐”,这意味着您正在尝试安排集群中没有资源的事情。你可以到<code class="fe ls lt lu lv b">values.yaml</code>处，摆弄各种<code class="fe ls lt lu lv b">resources</code>键来要求更小的容器。</p><p id="ef06" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这真的只是你需要摆弄的东西之一，直到你得到确切的设置。</p><h1 id="0534" class="lw lx iq bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">解决纷争</h1><pre class="mz na nb nc gt nd lv ne nf aw ng bi"><span id="4d38" class="nh lx iq lv b gy ni nj l nk nl"># Get your dask-worker pod names <br/>kubectl get pods |grep dask-worker <br/># Get various metrics and logs <br/>kubectl logs pod-name <br/>kubectl describe pod pod-name <br/>kubectl top pod pod-name</span></pre><h1 id="3db1" class="lw lx iq bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">包裹</h1><p id="adb0" class="pw-post-body-paragraph jy jz iq ka b kb mu kd ke kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv ij bi translated">就是这样！我希望这篇文章对你有帮助！如果你有任何问题或者想要一个指导，请不要犹豫联系我在jillian@dabbleofdevops.com或者查看我的网站。</p><h1 id="4f75" class="lw lx iq bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">文档和资源</h1><p id="4368" class="pw-post-body-paragraph jy jz iq ka b kb mu kd ke kf mv kh ki kj mw kl km kn mx kp kq kr my kt ku kv ij bi translated"><a class="ae ld" href="https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/" rel="noopener ugc nofollow" target="_blank"> Kubernetes水平伸缩吊舱</a></p><p id="3fbd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae ld" href="https://github.com/helm/charts/tree/master/stable/metrics-server" rel="noopener ugc nofollow" target="_blank">度量服务器掌舵图</a></p><p id="ffa5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae ld" href="https://github.com/dask/helm-chart/tree/master/dask" rel="noopener ugc nofollow" target="_blank">达斯克掌舵图</a></p><p id="b1dd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae ld" href="https://github.com/dask/helm-chart/tree/master/dask#jupyter-password" rel="noopener ugc nofollow" target="_blank">达斯克舵图—朱庇特密码</a></p><p id="939a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae ld" href="https://github.com/dask/helm-chart/tree/master/dask#customizing-python-environment" rel="noopener ugc nofollow" target="_blank"> Dask掌舵图—定制Python环境</a></p></div><div class="ab cl nt nu hu nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="ij ik il im in"><p id="c4b1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kz">最初发表于</em><a class="ae ld" href="https://www.dabbleofdevops.com/blog/deploy-and-scale-your-dask-cluster-with-kubernetes" rel="noopener ugc nofollow" target="_blank"><em class="kz">【https://www.dabbleofdevops.com】</em></a><em class="kz">。</em></p></div></div>    
</body>
</html>