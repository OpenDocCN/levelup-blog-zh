<html>
<head>
<title>React Router for Beginners</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">初学者用React路由器</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/react-router-for-beginners-788486cb3b?source=collection_archive---------9-----------------------#2020-03-30">https://levelup.gitconnected.com/react-router-for-beginners-788486cb3b?source=collection_archive---------9-----------------------#2020-03-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/381d62140030e4adad55223e9862b2a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V9G1gby3y4hltFtLUlgaHA.png"/></div></div></figure><p id="0845" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi kz translated">任何现代网站实际上都是由一个页面组成的。它们看起来就像多个页面，因为它们包含了呈现为独立页面的组件。这些通常被称为单个应用程序。</p><h1 id="4748" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated"><strong class="ak">React路由器的用途:</strong></h1><p id="ed49" class="pw-post-body-paragraph kb kc it kd b ke mg kg kh ki mh kk kl km mi ko kp kq mj ks kt ku mk kw kx ky im bi translated"><strong class="kd iu"> React Router </strong>和动态客户端<strong class="kd iu"> routing </strong>，允许我们构建单页面web应用和导航，而无需在用户导航时刷新页面。<strong class="kd iu"> React路由器</strong>使用组件结构基于路由调用组件，显示适当的信息。</p><h1 id="7c6a" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">React路由器是如何工作的？</h1><p id="92f5" class="pw-post-body-paragraph kb kc it kd b ke mg kg kh ki mh kk kl km mi ko kp kq mj ks kt ku mk kw kx ky im bi translated">React路由器的主要组件包括:</p><p id="4505" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">browser router:browser router是一个路由器实现，它使用HTML5历史API (pushState、replaceState和popstate事件)来保持你的UI与URL同步。它是用于存储所有其他组件的父组件。</p><p id="730e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">路由:</strong><code class="fe ml mm mn mo b">&lt;Route&gt;</code>组件是React路由器的主要构建模块。路线有三个属性，可以用来定义当路线的路径匹配时应该呈现什么。应该只给一个<code class="fe ml mm mn mo b">&lt;Route&gt;</code>元素提供一个。</p><p id="a0f2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe ml mm mn mo b">component</code> —一种反应成分。当带有组件属性的路由匹配时，该路由将返回一个新元素，其类型是提供的React组件(使用<code class="fe ml mm mn mo b">React.createElement</code>创建)。</p><p id="2a85" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe ml mm mn mo b">render</code> —返回React元素的函数。当路径匹配时将调用它。这类似于<code class="fe ml mm mn mo b">component</code>，但是对于内联渲染和向元素传递额外的属性很有用。在内部，传递给<code class="fe ml mm mn mo b">component</code>和<code class="fe ml mm mn mo b">render</code>的组件的最大区别是<code class="fe ml mm mn mo b">component</code>将使用<code class="fe ml mm mn mo b">React.createElement</code>创建元素，而<code class="fe ml mm mn mo b">render</code>将使用<a class="ae mp" rel="noopener ugc nofollow" target="_blank" href="/understanding-react-render-props-by-example-71f2162fd0f2?source=friends_link&amp;sk=f44aed6129cede85c72b6eace5f84673">渲染道具模式</a>作为函数调用组件。</p><p id="e3cf" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe ml mm mn mo b">children</code> —返回React元素的函数。与前面的两个道具不同，无论路线的路径是否与当前位置匹配，这个道具都会被渲染。</p><p id="3dd3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">链接:</strong> <code class="fe ml mm mn mo b">Link</code>组件用于创建不同路线的链接，实现应用程序的导航。它就像一个HTML锚标签一样工作。如果我们使用锚元素创建链接，点击它们会导致整个页面重新加载。React路由器提供了一个<code class="fe ml mm mn mo b">&lt;Link&gt;</code>组件来防止这种情况发生。当点击一个<code class="fe ml mm mn mo b">&lt;Link&gt;</code>时，URL会被更新，呈现的内容会改变，无需重新加载页面。</p><p id="f613" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe ml mm mn mo b">&lt;Link&gt;</code>让我们使用<code class="fe ml mm mn mo b">to</code>道具来描述他们应该导航到的位置。这可以是一个字符串，也可以是一个位置对象(包含<code class="fe ml mm mn mo b">pathname</code>、<code class="fe ml mm mn mo b">search</code>、<code class="fe ml mm mn mo b">hash</code>和<code class="fe ml mm mn mo b">state</code>属性的组合)。当它是一个字符串时，它将被转换成一个位置对象。</p><p id="f195" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">开关:</strong> <code class="fe ml mm mn mo b">Switch</code>组件用于只渲染与位置匹配的第一条路线，而不是渲染所有匹配的路线。</p><h1 id="b3d7" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">入门指南</h1><p id="d1fa" class="pw-post-body-paragraph kb kc it kd b ke mg kg kh ki mh kk kl km mi ko kp kq mj ks kt ku mk kw kx ky im bi translated">首先，我们将为我们的应用程序创建一个react应用程序。</p><h2 id="cf0b" class="mq lj it bd lk mr ms dn lo mt mu dp ls km mv mw lw kq mx my ma ku mz na me nb bi translated"><strong class="ak"> <em class="nc">设置React应用:</em> </strong></h2><p id="017a" class="pw-post-body-paragraph kb kc it kd b ke mg kg kh ki mh kk kl km mi ko kp kq mj ks kt ku mk kw kx ky im bi translated"><strong class="kd iu">步骤1 </strong>:安装NodeJS。您可以访问NodeJS的<a class="ae mp" href="https://nodejs.org/en/download/current/" rel="noopener ugc nofollow" target="_blank">官方下载链接</a>下载并安装最新版本的NodeJS。</p><p id="0ba3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">第二步</strong>:用<code class="fe ml mm mn mo b">create-react-app</code>创建一个React应用，姑且称之为<strong class="kd iu"> my-app。</strong>在您的终端或命令提示符下运行以下命令:</p><p id="68bf" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe ml mm mn mo b"><strong class="kd iu">npx create-react-app my-app</strong></code></p><blockquote class="nd ne nf"><p id="b0da" class="kb kc ng kd b ke kf kg kh ki kj kk kl nh kn ko kp ni kr ks kt nj kv kw kx ky im bi translated"><strong class="kd iu">注意<em class="it"> : </em> </strong> npx始终使用最新版本。(npx附带npm 5.2+及更高版本)</p></blockquote><figure class="nl nm nn no gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nk"><img src="../Images/97cb3e8c00ec763b083798177f900ffd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c8UPvXcwTIiA_oGVraeRNQ.png"/></div></div></figure><p id="8f07" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">运行上述命令并成功安装后，您的终端将显示如下图所示的一些输出:</p><figure class="nl nm nn no gt ju gh gi paragraph-image"><div class="gh gi np"><img src="../Images/661708d7d4cd21400e129da05637710c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/format:webp/1*e3oGqefkB-mYjek6yrQ30g.png"/></div></figure><p id="69d5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">上述语句将在您的当前目录下创建一个名为<strong class="kd iu"> <em class="ng"> myapp </em> </strong>的新目录，其中包含成功运行React应用程序所需的一系列文件。</p><p id="e47d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">让我们看看上面的命令创建的目录:</p><figure class="nl nm nn no gt ju gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/ca2d1650ab7e7d5f156e6bdc996a5ced.png" data-original-src="https://miro.medium.com/v2/resize:fit:574/format:webp/1*c0Xe8dgbI_258SZ3YVeShA.png"/></div></figure><p id="647b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在上面的目录中，你可以看到一些文件。我们将在基础课程中使用的主要文件是<strong class="kd iu"><em class="ng">index.html</em></strong>和<strong class="kd iu"> <em class="ng"> index.js </em> </strong>。<strong class="kd iu"><em class="ng">index.html</em></strong>文件将有一个带<code class="fe ml mm mn mo b">id = “root”</code>的<code class="fe ml mm mn mo b">div</code>元素，在里面所有的东西都将被渲染，我们所有的React代码都将在<strong class="kd iu"> <em class="ng"> index.js </em> </strong>文件里面。</p><p id="cccd" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">既然我们已经成功设置了开发环境，剩下的最后一件事就是<strong class="kd iu">启动开发服务器</strong>。</p><p id="2909" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">步骤3 </strong>:要启动开发服务器，进入当前目录“<strong class="kd iu"> <em class="ng"> myapp </em> </strong>”并执行以下命令:</p><p id="8be3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe ml mm mn mo b">npm start</code></p><p id="8f93" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">成功运行上述命令后，您的编译器将显示以下消息:</p><figure class="nl nm nn no gt ju gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/008d13dc8e30d8ff9dee728911870287.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*MQQ6LZ_nPBqiW2CgmYhuHw.png"/></div></figure><p id="b930" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">你可以去上面消息里显示的网址(<a class="ae mp" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000 </a>)看看你在App里做的改动。默认情况下，上述URL将显示以下页面:</p><figure class="nl nm nn no gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ns"><img src="../Images/d069a1f1136a6f78d4927b6526ff9fe9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xj85riYdwQHEUluHjnqBzQ.png"/></div></div></figure><p id="cd10" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您的开发环境已经准备好了。现在让我们在应用程序中安装React路由器。</p><h2 id="7967" class="mq lj it bd lk mr ms dn lo mt mu dp ls km mv mw lw kq mx my ma ku mz na me nb bi translated"><strong class="ak"> <em class="nc">安装React路由器:</em> </strong></h2><p id="da36" class="pw-post-body-paragraph kb kc it kd b ke mg kg kh ki mh kk kl km mi ko kp kq mj ks kt ku mk kw kx ky im bi translated">React路由器可以通过<code class="fe ml mm mn mo b"><a class="ae mp" href="https://www.geeksforgeeks.org/node-js-npm-node-package-manager/" rel="noopener ugc nofollow" target="_blank">npm</a></code>安装在React应用程序中。按照下面给出的步骤在React应用程序中安装路由器:</p><p id="b437" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">第一步:</strong> <code class="fe ml mm mn mo b"><a class="ae mp" href="https://www.geeksforgeeks.org/cd-command-in-linux-with-examples/" rel="noopener ugc nofollow" target="_blank">cd</a></code>进入你的项目目录即<strong class="kd iu">我的app </strong>。</p><p id="c881" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">步骤2: </strong>使用以下命令安装React路由器:</p><p id="d4b1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe ml mm mn mo b">npm install — save react-router-dom</code></p><blockquote class="nd ne nf"><p id="56b5" class="kb kc ng kd b ke kf kg kh ki kj kk kl nh kn ko kp ni kr ks kt nj kv kw kx ky im bi translated"><strong class="kd iu">注:</strong> React路由器兼容React &gt; = 16.8。</p></blockquote><figure class="nl nm nn no gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nt"><img src="../Images/9b640d9c3bec271ccc85020994e31c3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5QneGsppVWlI3ZMSZ_IEqQ.png"/></div></div></figure><p id="ecfd" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">之后到你的<code class="fe ml mm mn mo b">src</code>文件夹打开<strong class="kd iu"> <em class="ng"> index.js </em> </strong>导入<code class="fe ml mm mn mo b">BrowserRouter</code>。<code class="fe ml mm mn mo b">BrowserRouter</code>可能需要额外的服务器配置来处理动态请求。在你的<strong class="kd iu"><em class="ng">src/index . js</em></strong><em class="ng">中添加这一行。</em></p><p id="7212" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe ml mm mn mo b">import { BrowserRouter } from ‘react-router-dom’;</code></p><p id="d6a5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在路由器内部，您只能使用一个子元素。因此，有必要创建一个根组件来呈现应用程序的其余部分，然后将它作为路由器的子组件传递进来。为此，React已经提供了一个<strong class="kd iu"> <em class="ng"> App </em> </strong>组件。我们需要将<strong class="kd iu"> <em class="ng"> App </em> </strong>组件放在<code class="fe ml mm mn mo b">BrowserRouter</code>中，以便路由可以为整个应用程序工作。</p><figure class="nl nm nn no gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nu"><img src="../Images/8fc22207f19184c99c4b97decdbdd772.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*He2q-JbFlseybqEGhRqHWQ.png"/></div></div></figure><p id="1675" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">还有一种选择是我们可以直接使用<strong class="kd iu"> <em class="ng"> App.js </em> </strong>中的<code class="fe ml mm mn mo b">BrowserRouter</code>。在本文中，我正在使用这个过程。那么，让我们现在开始工作吧…..</p><h2 id="cba5" class="mq lj it bd lk mr ms dn lo mt mu dp ls km mv mw lw kq mx my ma ku mz na me nb bi translated"><strong class="ak">使用React路由器:</strong></h2><p id="da27" class="pw-post-body-paragraph kb kc it kd b ke mg kg kh ki mh kk kl km mi ko kp kq mj ks kt ku mk kw kx ky im bi translated">要使用react路由器，让我们首先在React应用程序中创建几个组件。在您的项目目录中，在<code class="fe ml mm mn mo b">src</code>文件夹中创建一个名为<strong class="kd iu">组件</strong>的文件夹，现在将名为<strong class="kd iu"> Home </strong>、<strong class="kd iu"> About </strong>和<strong class="kd iu"> Contact </strong>的3个文件夹添加到组件文件夹中。</p><figure class="nl nm nn no gt ju gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/94a93a89c38bdcdec2373ef1ab224883.png" data-original-src="https://miro.medium.com/v2/resize:fit:868/format:webp/1*qnkbAHltJEqdoNOi_NrJkg.png"/></div></figure><h2 id="c0b2" class="mq lj it bd lk mr ms dn lo mt mu dp ls km mv mw lw kq mx my ma ku mz na me nb bi translated"><strong class="ak">添加React路由器组件:</strong></h2><p id="1bd9" class="pw-post-body-paragraph kb kc it kd b ke mg kg kh ki mh kk kl km mi ko kp kq mj ks kt ku mk kw kx ky im bi translated">要在您的应用程序中添加React路由器组件，请在您使用的编辑器中打开您的项目目录，并转到<strong class="kd iu"> <em class="ng"> App.js </em> </strong>文件。现在，在<strong class="kd iu"> <em class="ng"> App.js中添加下面的代码:</em> </strong></p><pre class="nl nm nn no gt nw mo nx ny aw nz bi"><span id="00f0" class="mq lj it mo b gy oa ob l oc od">import {<br/>      BrowserRouter as Router,<br/>      Switch,<br/>      Route,<br/>      Link<br/>} from "react-router-dom";</span></pre><p id="4f7f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">让我们为我们的3个组件添加一些代码:</p><p id="9651" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><em class="ng"> Home.js: </em></p><pre class="nl nm nn no gt nw mo nx ny aw nz bi"><span id="5140" class="mq lj it mo b gy oa ob l oc od">import React from 'react';   <br/>function Home (){ <br/>    return &lt;h1&gt;Welcome to the world of Web Development!&lt;/h1&gt; <br/>}  <br/>export default Home;</span></pre><p id="dd0d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><em class="ng"> About.js: </em></p><pre class="nl nm nn no gt nw mo nx ny aw nz bi"><span id="995d" class="mq lj it mo b gy oa ob l oc od">import React from 'react';   <br/>function About () { <br/>    return &lt;div&gt; <br/>        &lt;h2&gt;    <br/>                Hello I'm<br/>                Nury Fatema!<br/>                I'm a web designer / developer based in Dhaka, Bangladesh. I have a passion for web design and love to create for web and mobile devices.<br/>        &lt;/h2&gt; <br/>      &lt;/div&gt; <br/>} <br/>export default About;</span></pre><p id="e2ca" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><em class="ng"> Contact.js: </em></p><pre class="nl nm nn no gt nw mo nx ny aw nz bi"><span id="3978" class="mq lj it mo b gy oa ob l oc od">import React from 'react';  <br/>function Contact (){ <br/> return &lt;address&gt; <br/>            You can find us here:&lt;br /&gt; <br/>            Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s<br/>        &lt;/address&gt; <br/>}   <br/>export default Contact;</span></pre><p id="6d7c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">现在，将React路由器组件包含到应用程序中:</strong></p><p id="7336" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> BrowserRouter: </strong>将别名为Router的<code class="fe ml mm mn mo b">BrowserRouter</code>添加到您的<strong class="kd iu"> <em class="ng"> App.js </em> </strong>文件中，以便包装所有其他组件。<code class="fe ml mm mn mo b">BrowserRouter</code>是父组件，只能有一个子组件。</p><pre class="nl nm nn no gt nw mo nx ny aw nz bi"><span id="e559" class="mq lj it mo b gy oa ob l oc od">function App() {<br/>  return (<br/>    &lt;div&gt;<br/>     &lt;Router&gt;<br/>           <br/>     &lt;/Router&gt;<br/>     &lt;Header&gt;&lt;/Header&gt;<br/>    &lt;/div&gt;   <br/>  );<br/>}<br/>export default App;</span></pre><p id="7e01" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> Route: </strong>添加<strong class="kd iu"> </strong> <code class="fe ml mm mn mo b">Route</code>组件现在将帮助我们建立组件的UI和URL之间的链接。在<code class="fe ml mm mn mo b">Route</code>组件中，我们需要传递两个道具:<code class="fe ml mm mn mo b">path</code>和<code class="fe ml mm mn mo b">component</code>。</p><p id="45d6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> <em class="ng">路径</em> </strong>:表示我们需要指定路径。一个<code class="fe ml mm mn mo b">&lt;Route&gt;</code>期望一个路径属性，这是一个描述路由匹配的路径名的字符串——例如，<code class="fe ml mm mn mo b">&lt;Route path='/about'/&gt;</code>应该匹配一个以<code class="fe ml mm mn mo b">/about</code>开头的路径名。当当前位置的路径名与<code class="fe ml mm mn mo b">path</code>匹配时，route将呈现一个React元素。当路径不匹配时，该路径不会渲染任何内容。</p><p id="405f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> <em class="ng">组件</em> </strong>:用户导航到该路径时需要看到哪个组件。</p><p id="837a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">要将<code class="fe ml mm mn mo b">routes</code>添加到应用程序中，请将下面给出的代码添加到您的<strong class="kd iu"> <em class="ng"> App.js: </em> </strong></p><pre class="nl nm nn no gt nw mo nx ny aw nz bi"><span id="6098" class="mq lj it mo b gy oa ob l oc od"> &lt;Route path="/ "&gt;<br/>        &lt;Home&gt;&lt;/Home&gt;<br/> &lt;/Route&gt;<br/> &lt;Route path="/about"&gt;<br/>        &lt;About&gt;&lt;/About&gt;<br/> &lt;/Route&gt;<br/> &lt;Route path="/contact"&gt;<br/>        &lt;Contact&gt;&lt;/Contact&gt;<br/> &lt;/Route&gt;</span></pre><p id="17a4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在将组件导入应用程序:</p><pre class="nl nm nn no gt nw mo nx ny aw nz bi"><span id="b2d0" class="mq lj it mo b gy oa ob l oc od">import Header from './component/Header/Header';<br/>import Home from './component/Home/Home';<br/>import About from './component/About/About';<br/>import Contact from './component/Contact/Contact';</span></pre><p id="5f4d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">很多首页网址都是站点名称后面跟着<code class="fe ml mm mn mo b">"/"</code>。在这种情况下，我们将<code class="fe ml mm mn mo b">exact</code>添加到<code class="fe ml mm mn mo b">Route</code>标签中。这是因为其他URL也包含“/”，所以如果我们不告诉应用程序它只需要查找<code class="fe ml mm mn mo b">/</code>，它会加载第一个匹配路径的URL，这样我们就需要处理一个非常棘手的bug。例如，<code class="fe ml mm mn mo b">exact path=’/about’</code>将只呈现与路径完全匹配的组件，但是如果我们从语法中移除<code class="fe ml mm mn mo b">exact</code>，那么即使结构类似于<code class="fe ml mm mn mo b">/about/10</code>，UI仍然会被呈现。</p><p id="63da" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">精确:</strong>我们可以为下面给出的精确位置设置“<code class="fe ml mm mn mo b">exact</code>”关键字:</p><pre class="nl nm nn no gt nw mo nx ny aw nz bi"><span id="2939" class="mq lj it mo b gy oa ob l oc od">&lt;Route exact path="/"&gt;<br/>    &lt;Home&gt;&lt;/Home&gt;<br/>&lt;/Route&gt;</span></pre><h1 id="82ae" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">增加404页</h1><h2 id="7cd1" class="mq lj it bd lk mr ms dn lo mt mu dp ls km mv mw lw kq mx my ma ku mz na me nb bi translated">什么是404页面？</h2><p id="9044" class="pw-post-body-paragraph kb kc it kd b ke mg kg kh ki mh kk kl km mi ko kp kq mj ks kt ku mk kw kx ky im bi translated">404页面也被称为未找到的页面，这意味着当用户导航到网站中不存在的错误路径时，我们需要显示未找到的页面。</p><h2 id="4863" class="mq lj it bd lk mr ms dn lo mt mu dp ls km mv mw lw kq mx my ma ku mz na me nb bi translated"><strong class="ak">如何在react中添加404页面？</strong></h2><p id="2099" class="pw-post-body-paragraph kb kc it kd b ke mg kg kh ki mh kk kl km mi ko kp kq mj ks kt ku mk kw kx ky im bi translated">如果我们导航到网站中不存在的错误路径怎么办？我们也可以使用“*”为所有其他错误路径设置一个路径。为了解决这个问题，创建一个<strong class="kd iu"> <em class="ng"> NotFound </em> </strong>组件。</p><p id="24a2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><em class="ng">未找到. js: </em></p><pre class="nl nm nn no gt nw mo nx ny aw nz bi"><span id="ff65" class="mq lj it mo b gy oa ob l oc od">import React from 'react';<br/>const NotFound = () =&gt; {<br/>  return (<br/>    &lt;div&gt;<br/>        &lt;h1&gt;<br/>            Page Not Found<br/>        &lt;/h1&gt;<br/>    &lt;/div&gt;<br/>    );<br/>};<br/>export default NotFound;</span></pre><p id="8c39" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在将<strong class="kd iu"> <em class="ng">未找到的</em> </strong>组件导入到<strong class="kd iu"> <em class="ng"> App.js </em> </strong>文件中，并包含以下代码:</p><pre class="nl nm nn no gt nw mo nx ny aw nz bi"><span id="6685" class="mq lj it mo b gy oa ob l oc od">&lt;Route path="*"&gt;<br/>    &lt;NotFound&gt;&lt;/NotFound&gt;<br/>&lt;/Route&gt;</span></pre><p id="6cb8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果你运行应用程序，你会看到我们的项目有问题。我们将一起看到“<code class="fe ml mm mn mo b">/</code>”和“<code class="fe ml mm mn mo b">*</code>”的内容。而如果我们转到“<code class="fe ml mm mn mo b"><strong class="kd iu">/about</strong></code>页，就会显示三页在一起。但是为什么呢？这里可以说“<code class="fe ml mm mn mo b">*</code>”是针对所有页面的。那么，我们能做什么呢？我们可以用<code class="fe ml mm mn mo b"><strong class="kd iu">Swich</strong></code> <strong class="kd iu"> </strong>表述。这和我们的JavaScript <code class="fe ml mm mn mo b">switch</code>语句一模一样。如果你以前没见过，你可以把<code class="fe ml mm mn mo b">Switch</code>想成一个<code class="fe ml mm mn mo b">if-else</code>条件。</p><p id="5b20" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> Switch: </strong>为了渲染一个单独的组件，把所有的路线都包装在<code class="fe ml mm mn mo b">Switch</code>组件里面。<code class="fe ml mm mn mo b">Switch</code>将几个<code class="fe ml mm mn mo b">routes</code>组合在一起，遍历它们，找到第一个匹配<code class="fe ml mm mn mo b">path</code>的。由此，呈现对应于<code class="fe ml mm mn mo b">path</code>的组件。</p><pre class="nl nm nn no gt nw mo nx ny aw nz bi"><span id="598f" class="mq lj it mo b gy oa ob l oc od">function App() {<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;Router&gt;<br/>        &lt;switch&gt; <br/>           &lt;Route exact path="/"&gt;<br/>             &lt;Home&gt;&lt;/Home&gt;<br/>           &lt;/Route&gt;<br/>           &lt;Route path="/about"&gt;<br/>             &lt;About&gt;&lt;/About&gt;<br/>           &lt;/Route&gt;<br/>           &lt;Route path="/contact"&gt;<br/>             &lt;Contact&gt;&lt;/Contact&gt;<br/>           &lt;/Route&gt;<br/>        &lt;/switch&gt;<br/>    &lt;/Router&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="07b5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">添加所有组件后，这里是我们完整的源代码:</p><pre class="nl nm nn no gt nw mo nx ny aw nz bi"><span id="42d3" class="mq lj it mo b gy oa ob l oc od">import React from 'react';<br/>import logo from './logo.svg';<br/>import './App.css';<br/>import {<br/>  BrowserRouter as Router,<br/>  Switch,<br/>  Route,<br/>  Link<br/>} from "react-router-dom";<br/>import Home from './component/Home/Home';<br/>import About from './component/About/About';<br/>import Contact from './component/Contact/Contact';<br/>import NotFound from './component/NotFound/NotFound';</span><span id="564b" class="mq lj it mo b gy oe ob l oc od">function App() {<br/>  return (<br/>    &lt;div&gt;<br/>       &lt;Router&gt;<br/>         &lt;switch&gt; <br/>           &lt;Route exact path="/"&gt;<br/>             &lt;Home&gt;&lt;/Home&gt;<br/>           &lt;/Route&gt;<br/>           &lt;Route path="/about"&gt;<br/>             &lt;About&gt;&lt;/About&gt;<br/>           &lt;/Route&gt;<br/>           &lt;Route path="/contact"&gt;<br/>             &lt;Contact&gt;&lt;/Contact&gt;<br/>           &lt;/Route&gt;<br/>           &lt;Route path="*"&gt;<br/>             &lt;NotFound&gt;&lt;/NotFound&gt;<br/>           &lt;/Route&gt;<br/>         &lt;/switch&gt;<br/>     &lt;/Router&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}<br/>export default App;</span></pre><h2 id="dd56" class="mq lj it bd lk mr ms dn lo mt mu dp ls km mv mw lw kq mx my ma ku mz na me nb bi translated">创建动态路径:</h2><p id="8eeb" class="pw-post-body-paragraph kb kc it kd b ke mg kg kh ki mh kk kl km mi ko kp kq mj ks kt ku mk kw kx ky im bi translated">为了给我们的项目创建一个动态路径，我们需要使用冒号标点符号(<code class="fe ml mm mn mo b">:</code>)。首先，我们创建另一个名为“<strong class="kd iu"> <em class="ng">用户</em> </strong>”的组件，并将其添加到<strong class="kd iu"> <em class="ng"> App.js </em> </strong>文件中。</p><pre class="nl nm nn no gt nw mo nx ny aw nz bi"><span id="7037" class="mq lj it mo b gy oa ob l oc od">&lt;Route path="user/:id"&gt;<br/> &lt;Users&gt;&lt;/Users&gt;<br/>&lt;/Route&gt;</span></pre><p id="45f5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果我们使用<code class="fe ml mm mn mo b">user/id</code>，我们将进入<code class="fe ml mm mn mo b">user/id</code>页面。但是我们想特别进入用户页面。你可以说，<code class="fe ml mm mn mo b">:id</code>不是确切的东西，我们可以通过这个传递一个动态值。如果我们有三/四个像“Amio”、“Christina”、“Othelo”这样的用户，我们可以通过<code class="fe ml mm mn mo b">:</code>传递用户id。</p><p id="27d4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">但是用户组件如何获得<code class="fe ml mm mn mo b">id</code>的值呢？</p><figure class="nl nm nn no gt ju gh gi paragraph-image"><div class="gh gi of"><img src="../Images/0386eaf727644bac5d483d1bea31cedd.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*BcqWCTTYaaSrDKttq6yytA.png"/></div></figure><p id="0127" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在<strong class="kd iu"> <em class="ng"> Users.js </em> </strong>文件中，我们可以使用<code class="fe ml mm mn mo b">useParams</code>，它也在我们的<code class="fe ml mm mn mo b">react-router-dom</code>中。这样，我们就可以得到这个组件的参数。然后我们可以随心所欲地使用我们的id。</p><h1 id="c194" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">结论</h1><p id="2e28" class="pw-post-body-paragraph kb kc it kd b ke mg kg kh ki mh kk kl km mi ko kp kq mj ks kt ku mk kw kx ky im bi translated">所以我们有它。如果你想在React应用中轻松导航，忘记锚标签，添加React路由器。它是干净的，有条理的，它使得添加和删除页面变得更加容易。</p></div></div>    
</body>
</html>