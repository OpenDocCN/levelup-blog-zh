<html>
<head>
<title>How to link a Google Analytics account to your React app</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将谷歌分析账户链接到React应用</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-link-a-google-analytics-account-to-your-react-app-f0b4dd13663c?source=collection_archive---------11-----------------------#2021-03-15">https://levelup.gitconnected.com/how-to-link-a-google-analytics-account-to-your-react-app-f0b4dd13663c?source=collection_archive---------11-----------------------#2021-03-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f268" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">只需两步！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ccbb8f4b8a51994d31e40d23b4a91c30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bV1xZmXgAYzyYwkeb6XyBA.png"/></div></div></figure><p id="6dab" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">首先，恭喜你！你已完成应用程序编码，你想添加你的Google Analytics帐户。太棒了。太棒了。</p><p id="e41d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我知道这会多么令人兴奋。我创建了很多应用程序，每一次当它被公之于众的时候，我都有一种积极的兴奋感。</p><p id="17b5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我不会唠叨很久，让我们开始精彩的部分吧。</p><p id="cf76" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们去ᕕ(ᐛ)ᕗ吧</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="caec" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">第一步:创建一个谷歌分析账户(如果还没有的话)</h1><p id="0ed4" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">首先，要在React应用程序中添加一个Google Analytics帐户，你显然需要一个GA帐户，或者更准确地说，需要一个<strong class="kw iu"> <em class="mu">跟踪id </em> </strong>。</p><ul class=""><li id="7542" class="mv mw it kw b kx ky la lb ld mx lh my ll mz lp na nb nc nd bi translated">首先，连接或创建一个帐户，并前往管理:</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/35252bed0104d2b1981cc3b1c381903c.png" data-original-src="https://miro.medium.com/v2/resize:fit:762/format:webp/1*U3kBIWR9tpoG6SNToy5rNg.png"/></div><figcaption class="nf ng gj gh gi nh ni bd b be z dk translated">GA管理</figcaption></figure><ul class=""><li id="ac1a" class="mv mw it kw b kx ky la lb ld mx lh my ll mz lp na nb nc nd bi translated">点击创建一个新账户。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/b5804aa8f6e880c0398094da7600a6d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*aL6QJiFR-O8VElHMzHZPwA.png"/></div><figcaption class="nf ng gj gh gi nh ni bd b be z dk translated">创建帐户</figcaption></figure><p id="67dd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">⚠️:如果你已经有了另一个网站的账户，不要担心。你想创造多少就创造多少！</p><ul class=""><li id="669f" class="mv mw it kw b kx ky la lb ld mx lh my ll mz lp na nb nc nd bi translated">填写所需信息:</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/864e939116e0ad52cf6020f825367aa5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ktTs4hJm0a7h9ihPnPnSUQ.png"/></div></div><figcaption class="nf ng gj gh gi nh ni bd b be z dk translated">键入帐户详细信息</figcaption></figure><ul class=""><li id="7b45" class="mv mw it kw b kx ky la lb ld mx lh my ll mz lp na nb nc nd bi translated">下一步超级重要:<strong class="kw iu"> <em class="mu">高级选项</em> </strong>。您需要确保您创建了一个通用ID，并且默认情况下是禁用的，所以请确保您激活了它。否则，它不起作用:</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/a6d631caa4d5c46e2057a339702cdff8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0sQe5XVh_gG1qJuD7fsyxg.png"/></div></div><figcaption class="nf ng gj gh gi nh ni bd b be z dk translated">超级重要的一步！</figcaption></figure><ul class=""><li id="b60e" class="mv mw it kw b kx ky la lb ld mx lh my ll mz lp na nb nc nd bi translated">现在，你完成了。你需要保留<strong class="kw iu"> <em class="mu">跟踪ID </em> </strong>以后会用到。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/ba77987b410a7b27f31cbb2a321d40a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1094/format:webp/1*_iVEMcG0hHwYsoz8cgQCTA.png"/></div><figcaption class="nf ng gj gh gi nh ni bd b be z dk translated">UA-跟踪ID</figcaption></figure><p id="623d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">⚠️:如果你有一个以<strong class="kw iu"> <em class="mu"> G- </em> </strong>开头的测量ID，它就不能与<code class="fe nn no np nq b">ReactGA</code>一起使用，因为它不是一个以<strong class="kw iu"> <em class="mu"> UA-开头的通用ID。</em> </strong></p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="6e54" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">第2步:检索您的跟踪ID并将其链接到您的React应用程序。</h1><p id="d6d7" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">现在我们已经获得了跟踪id，您只需要在React应用程序中从客户端设置正确的配置:</p><ul class=""><li id="570b" class="mv mw it kw b kx ky la lb ld mx lh my ll mz lp na nb nc nd bi translated">首先需要安装一个软件包，帮助我们将React应用程序连接到GA。</li></ul><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="900a" class="nv ly it nq b gy nw nx l ny nz">npm install --save <strong class="nq iu">react-ga</strong></span></pre><p id="7027" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">关于这个包的更多信息:<a class="ae oa" href="https://www.npmjs.com/package/react-ga" rel="noopener ugc nofollow" target="_blank">这里是去哪儿！</a></p><ul class=""><li id="97d0" class="mv mw it kw b kx ky la lb ld mx lh my ll mz lp na nb nc nd bi translated">现在我们已经安装了这个包，下一步是通过添加以下内容来跟踪页面浏览量:</li></ul><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="3bc4" class="nv ly it nq b gy nw nx l ny nz">...<br/>import ReactGA from 'react-ga';<br/>ReactGA.initialize('UA-000000-01');</span><span id="fadc" class="nv ly it nq b gy ob nx l ny nz"><strong class="nq iu">function</strong> App() {</span><span id="7e43" class="nv ly it nq b gy ob nx l ny nz">useEffect(() <strong class="nq iu">=&gt;</strong> {<br/>    <strong class="nq iu">ReactGA.pageview(window.location.pathname + window.location.search);</strong><br/>}, []);</span><span id="fd07" class="nv ly it nq b gy ob nx l ny nz">return (<br/>....<br/>)<br/>}</span></pre><blockquote class="oc od oe"><p id="5a74" class="ku kv mu kw b kx ky ju kz la lb jx lc of le lf lg og li lj lk oh lm ln lo lp im bi translated">到目前为止，我们看到了如何跟踪页面浏览量。触发事件呢，我们也需要跟踪它们，不是吗？</p></blockquote><p id="2dea" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">事实上，我们可以用<code class="fe nn no np nq b">ReactGA</code>做很多事情，所以请不要犹豫去查看和阅读更多关于它的内容。对于我的事件，以下是示例代码:</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="8292" class="nv ly it nq b gy nw nx l ny nz"><strong class="nq iu">const</strong> useGAEventsTracker = (category = 'Event Category') <strong class="nq iu">=&gt;</strong> {<br/>  <br/>  <strong class="nq iu">const</strong> <strong class="nq iu">trackEvent </strong>= (action = 'action', label = 'label') <strong class="nq iu">=&gt;</strong> {<br/>      <strong class="nq iu">ReactGA.event</strong>(category, action, label);<br/>      return <strong class="nq iu">trackEvent</strong>;<br/>  };<br/>};</span></pre><p id="9b90" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您可以将该函数外部化，以便在每次想要跟踪事件时重用它。要使用，您只需:</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="7e17" class="nv ly it nq b gy nw nx l ny nz"><strong class="nq iu">const</strong> eventTracker = <strong class="nq iu">trackEvent</strong>("Link triggered");</span></pre><p id="64ad" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然后在事件触发时触发它:</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="b45e" class="nv ly it nq b gy nw nx l ny nz">&lt;a href="..." onClick={e=eventTracker(actions)}&gt;<br/>...<br/>&lt;/a&gt;</span></pre><p id="17cc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您可以将动作添加为<strong class="kw iu"><em class="mu">event tracker</em></strong>param或者只是一个标签来查看更多细节。</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="e424" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">最后，享受你的实时访客仪表板~ ᕕ(ᐛ)ᕗ</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/1f36c960c8141eb2157c150f08d685c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gaQoZM_Oh3FJ2faZcWcBOg.png"/></div></div></figure><p id="ad2a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我访问我的新网站🤣🤣🤣</p><p id="e5db" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">亲爱的读者，谢谢你❤</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><p id="2089" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我希望你和你的家人无论在哪里都平安无事！坚持住。明天会更好！</p><p id="55ba" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">让我们联系上</strong> <a class="ae oa" href="https://medium.com/@famzil/" rel="noopener"> <strong class="kw iu">中</strong> </a> <strong class="kw iu">，</strong> <a class="ae oa" href="https://www.linkedin.com/in/fatima-amzil-9031ba95/" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu">领英</strong> </a> <strong class="kw iu">，</strong> <a class="ae oa" href="https://www.facebook.com/The-Front-End-World" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu">脸书</strong> </a> <strong class="kw iu">，或者</strong> <a class="ae oa" href="https://twitter.com/FatimaAMZIL9" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu">推特</strong> </a> <strong class="kw iu">。</strong></p><p id="5162" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> FAM </strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ffaaf5317a0513a57eb1067843af0093.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VASNtNzLbXJtOIBDDeXxmw.png"/></div></div></figure></div></div>    
</body>
</html>