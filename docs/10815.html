<html>
<head>
<title>How to Delete a File from a Remote Git Repository</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何从远程Git存储库中删除文件</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-delete-a-file-from-a-remote-git-repository-75f772e49d8e?source=collection_archive---------1-----------------------#2022-01-13">https://levelup.gitconnected.com/how-to-delete-a-file-from-a-remote-git-repository-75f772e49d8e?source=collection_archive---------1-----------------------#2022-01-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3ade" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何从远程Git Repo中删除文件的示例</h2></div><div class="ki kj gp gr kk kl"><a href="https://jorgepit-14189.medium.com/membership" rel="noopener follow" target="_blank"><div class="km ab fo"><div class="kn ab ko cl cj kp"><h2 class="bd iu gy z fp kq fr fs kr fu fw is bi translated">用我的推荐链接加入媒体-乔治皮皮斯</h2><div class="ks l"><h3 class="bd b gy z fp kq fr fs kr fu fw dk translated">阅读乔治·皮皮斯(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接支持…</h3></div><div class="kt l"><p class="bd b dl z fp kq fr fs kr fu fw dk translated">jorgepit-14189.medium.com</p></div></div><div class="ku l"><div class="kv l kw kx ky ku kz la kl"/></div></div></a></div><p id="0789" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">当我们使用Git和GitHub/GitLab时，我们可能会意外地将一个文件推送到一个远程Git存储库，因此需要删除它。像往常一样，我们将使用走查示例。我们将创建一个远程GitHub repo，然后在本地克隆它。</p><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi lx"><img src="../Images/084ae6c12ea415c9a8a7818fd2c95fd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Loo6BBSjr2xQx1Q-.png"/></div></div></figure><pre class="ly lz ma mb gt mi mj mk ml aw mm bi"><span id="8368" class="mn mo it mj b gy mp mq l mr ms">$ git clone <a class="ae mt" href="https://github.com/pipinho13/delete_example.git" rel="noopener ugc nofollow" target="_blank">https://github.com/pipinho13/delete_example.git</a></span></pre><p id="ee8b" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">然后，我们将工作目录更改为克隆的存储库，如我们所见，这里有<strong class="ld iu"> README.md </strong>和<strong class="ld iu">。git </strong>文件</p><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/184797249f62b4fb040b67aa03e6db4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1194/format:webp/0*lurr_2tfMG8dtoIl.png"/></div></figure><p id="340b" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">现在，我们将创建一个名为“error . txt”的文件，并将其推送到远程repo。</p><pre class="ly lz ma mb gt mi mj mk ml aw mm bi"><span id="a3af" class="mn mo it mj b gy mp mq l mr ms">$ ls -ltra</span><span id="d1fa" class="mn mo it mj b gy mv mq l mr ms">total 6<br/>drwxr-xr-x 1 gpipis 1049089  0 Jan 13 18:57 ../<br/>-rw-r--r-- 1 gpipis 1049089 16 Jan 13 18:57 README.md<br/>drwxr-xr-x 1 gpipis 1049089  0 Jan 13 18:57 .git/<br/>drwxr-xr-x 1 gpipis 1049089  0 Jan 13 19:12 ./<br/>-rw-r--r-- 1 gpipis 1049089 21 Jan 13 19:12 wrong.txt</span></pre><p id="d01a" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">我们来推一下“错了. txt”。</p><pre class="ly lz ma mb gt mi mj mk ml aw mm bi"><span id="a5af" class="mn mo it mj b gy mp mq l mr ms">$ git add wrong.txt<br/>$ git commit -m "pushing the wrong.txt file"<br/>$ git push origin main</span></pre><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi mw"><img src="../Images/5335e8b665d8ea25e03cb4534d3679d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*VMcOeS4KKGuwT8YO.png"/></div></div></figure><p id="d16c" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">“error . txt”文件已添加到远程存储库中。</p><h1 id="f809" class="mx mo it bd my mz na nb nc nd ne nf ng jz nh ka ni kc nj kd nk kf nl kg nm nn bi translated">如何删除文件</h1><p id="e5e6" class="pw-post-body-paragraph lb lc it ld b le no ju lg lh np jx lj lk nq lm ln lo nr lq lr ls ns lu lv lw im bi translated">现在，假设我们想从远程目录和本地文件系统中删除该文件。那么我们应该运行以下命令。</p><pre class="ly lz ma mb gt mi mj mk ml aw mm bi"><span id="b9fd" class="mn mo it mj b gy mp mq l mr ms">$ git rm wrong.txt<br/>$ git commit -m "remove the wrong.txt file"<br/>$ git push origin main</span></pre><p id="abc5" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">正如我们所看到的，该文件已经从本地文件系统和远程存储库中删除。</p><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi nt"><img src="../Images/72d1799bb5ff8b431ba56421a9700641.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mR91_KIA_aUEh5wn.png"/></div></div></figure><pre class="ly lz ma mb gt mi mj mk ml aw mm bi"><span id="6d09" class="mn mo it mj b gy mp mq l mr ms">$ ls -ltra<br/>total 5<br/>drwxr-xr-x 1 gpipis 1049089  0 Jan 13 18:57 ../<br/>-rw-r--r-- 1 gpipis 1049089 16 Jan 13 18:57 README.md<br/>drwxr-xr-x 1 gpipis 1049089  0 Jan 13 19:23 ./<br/>drwxr-xr-x 1 gpipis 1049089  0 Jan 13 19:24 .git/</span></pre><h1 id="3287" class="mx mo it bd my mz na nb nc nd ne nf ng jz nh ka ni kc nj kd nk kf nl kg nm nn bi translated">如何从远程Git Repo中删除文件，但将其保留在本地</h1><p id="312a" class="pw-post-body-paragraph lb lc it ld b le no ju lg lh np jx lj lk nq lm ln lo nr lq lr ls ns lu lv lw im bi translated">我们将通过创建“<strong class="ld iu">错误. txt”</strong>文件再次重复该过程，此时我们将仅从远程回购中删除它。</p><pre class="ly lz ma mb gt mi mj mk ml aw mm bi"><span id="f785" class="mn mo it mj b gy mp mq l mr ms">$ ls -ltra<br/>total 6<br/>drwxr-xr-x 1 gpipis 1049089  0 Jan 13 18:57 ../<br/>-rw-r--r-- 1 gpipis 1049089 16 Jan 13 18:57 README.md<br/>drwxr-xr-x 1 gpipis 1049089  0 Jan 13 19:24 .git/<br/>drwxr-xr-x 1 gpipis 1049089  0 Jan 13 19:33 ./<br/>-rw-r--r-- 1 gpipis 1049089 13 Jan 13 19:33 wrong.txt</span></pre><p id="4e38" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">我们来推送错误的. txt文件。</p><pre class="ly lz ma mb gt mi mj mk ml aw mm bi"><span id="ab1c" class="mn mo it mj b gy mp mq l mr ms">$ git add wrong.txt<br/>$ git commit -m "pushing the wrong.txt file again"<br/>$ git push origin main</span></pre><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi nu"><img src="../Images/23c7f8373c3837145c1975a0e71149a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4bPAwQ7Y0hdLhdVC.png"/></div></div></figure><p id="f7bf" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">现在，让我们只从远程repo中删除“error . txt”文件。对于这个任务，我们必须使用标记"<strong class="ld iu"> cached" </strong></p><pre class="ly lz ma mb gt mi mj mk ml aw mm bi"><span id="9a0c" class="mn mo it mj b gy mp mq l mr ms">$ git rm --cached wrong.txt<br/>$ git commit -m "remove the wrong.txt file only from remote repo"<br/>$ git push origin main</span><span id="8ca2" class="mn mo it mj b gy mv mq l mr ms">$ ls -ltra<br/>total 6<br/>drwxr-xr-x 1 gpipis 1049089  0 Jan 13 18:57 ../<br/>-rw-r--r-- 1 gpipis 1049089 16 Jan 13 18:57 README.md<br/>drwxr-xr-x 1 gpipis 1049089  0 Jan 13 19:33 ./<br/>-rw-r--r-- 1 gpipis 1049089 13 Jan 13 19:33 wrong.txt<br/>drwxr-xr-x 1 gpipis 1049089  0 Jan 13 19:38 .git/</span></pre><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi nv"><img src="../Images/5ed020dee27ff10711ad8beb3de6f50f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ZSHUg6fajyLdB9E9.png"/></div></div></figure><p id="e2a8" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">瞧，我们只从远程回购中删除了“错误的. txt ”!</p></div><div class="ab cl nw nx hx ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="im in io ip iq"><p id="9d8c" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated"><em class="od">最初发表于</em><a class="ae mt" href="https://predictivehacks.com/?all-tips=how-to-delete-a-file-from-a-remote-git-repository" rel="noopener ugc nofollow" target="_blank"><em class="od">https://predictivehacks.com</em></a><em class="od">。</em></p></div></div>    
</body>
</html>