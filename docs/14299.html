<html>
<head>
<title>I tried the new C# 11 features — Here are my useful takeaways</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我尝试了新的C# 11特性——以下是我有用的心得</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/i-tried-the-new-c-11-features-here-are-my-useful-takeaways-78c19abeaf72?source=collection_archive---------5-----------------------#2022-11-15">https://levelup.gitconnected.com/i-tried-the-new-c-11-features-here-are-my-useful-takeaways-78c19abeaf72?source=collection_archive---------5-----------------------#2022-11-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="0020" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">。NET 7 | C# 11</h2><div class=""/><div class=""><h2 id="22bb" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">。NET Conf 2022结束，微软发布。NET 7和C# 11一起使用。以下是新功能和我对它们的看法。</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi kr"><img src="../Images/8197d47818673573e6b41cdbeaa4c755.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/0*CMH1Q-eyHvwHyM6p"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">图片来自<a class="ae ld" href="https://www.pexels.com/de-de/foto/hande-laptop-buro-tippen-7988086/" rel="noopener ugc nofollow" target="_blank">像素</a></figcaption></figure><p id="ae5e" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">C# 11终于来了！</p><p id="91f3" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">微软发布了一篇<a class="ae ld" href="https://devblogs.microsoft.com/dotnet/welcome-to-csharp-11/" rel="noopener ugc nofollow" target="_blank">的博客文章</a>以及一段<a class="ae ld" href="https://www.youtube.com/watch?v=H18CfoinPZg" rel="noopener ugc nofollow" target="_blank">的视频</a>。NET Conf 2022关于发布。我会展示新的东西，并加入我的意见。</p><h2 id="4c10" class="ma mb it bd mc md me dn mf mg mh dp mi ln mj mk ml lr mm mn mo lv mp mq mr iz bi translated">UTF-8字符串文字</h2><p id="0f54" class="pw-post-body-paragraph le lf it lg b lh ms kd lj lk mt kg lm ln mu lp lq lr mv lt lu lv mw lx ly lz im bi translated">默认情况下，C#字符串是UTF-16。所以要得到一个UTF 8弦，前面的方法是</p><pre class="ks kt ku kv gt mx my mz bn na nb bi"><span id="a5a8" class="nc mb it my b be nd ne l nf ng">System.Text.Encoding.UTF8.GetBytes("I am a string!"); // returns byte[]</span></pre><p id="6319" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">现在，您可以执行以下操作</p><pre class="ks kt ku kv gt mx my mz bn na nb bi"><span id="b606" class="nc mb it my b be nd ne l nf ng">"I am a string!"u8; // returns ReadOnlySpan&lt;byte&gt;</span></pre><p id="c078" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">这对于一些开发人员来说可能会变得非常方便，因为编写起来更快更容易。我喜欢它，虽然我很少使用它。参见<a class="ae ld" href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/reference-types#utf-8-string-literals" rel="noopener ugc nofollow" target="_blank">文档</a>了解所有细节。🙃</p><h2 id="6e72" class="ma mb it bd mc md me dn mf mg mh dp mi ln mj mk ml lr mm mn mo lv mp mq mr iz bi translated">原始字符串文字</h2><p id="41fb" class="pw-post-body-paragraph le lf it lg b lh ms kd lj lk mt kg lm ln mu lp lq lr mv lt lu lv mw lx ly lz im bi translated">首先，我们有绳子。然后，我们得到了<a class="ae ld" href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/reference-types#string-literals" rel="noopener ugc nofollow" target="_blank">字符串文字</a>。现在，我们有了<a class="ae ld" href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/reference-types#string-literals" rel="noopener ugc nofollow" target="_blank">原始字符串文字</a>。最新添加的内容没有转义字符，所以所有内容都按原样打印。请参见下面的代码示例:</p><pre class="ks kt ku kv gt mx my mz bn na nb bi"><span id="e841" class="nc mb it my b be nd ne l nf ng">var @string = "I say \\\"Hello\\\" ";          // prints I say \"Hello\"<br/>var stringLiteral = @"I say \""Hello\"" ";     // prints I say \"Hello\"<br/>var rawStringLiteral = """I say \"Hello\" """; // prints I say \"Hello\"</span></pre><p id="9e43" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">原始字符串以3个双引号开始，以3个双引号结束。如果你想在字符串中使用3个双引号，只需使用4作为后缀和前缀(总是多一个💪).</p><p id="2618" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">您还可以将它用于多行字符串和缩进。请参见下面的示例:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/5885d78e1f8adf50d5730690d3427f65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1034/format:webp/1*OPn2NMxKCWgnDbsmKdVbHQ.png"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">C#11中带缩进的多行原始字符串。</figcaption></figure><p id="167d" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">这个其实挺牛逼的！我总是在JSON文件字符串中挣扎着转义，但是现在没有了。😊</p></div><div class="ab cl ni nj hx nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="im in io ip iq"><pre class="ks kt ku kv gt mx my mz bn na nb bi"><span id="e41b" class="nc mb it my b be nd ne l np ng">🔔 Get a short summary of my Medium content on the 1st of each month to your inbox. Save time and pick what you like to read! <br/><br/>Click <a class="ae ld" href="http://medium-newsletter.quickcoder.org/" rel="noopener ugc nofollow" target="_blank">HERE</a> to subscribe for free!</span></pre></div><div class="ab cl ni nj hx nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="im in io ip iq"><h2 id="7627" class="ma mb it bd mc md me dn mf mg mh dp mi ln mj mk ml lr mm mn mo lv mp mq mr iz bi translated">抽象静态成员</h2><p id="4ed7" class="pw-post-body-paragraph le lf it lg b lh ms kd lj lk mt kg lm ln mu lp lq lr mv lt lu lv mw lx ly lz im bi translated">接口可以有用关键字<code class="fe nq nr ns my b">abstract</code>表示的<code class="fe nq nr ns my b">static</code>成员(<a class="ae ld" href="https://learn.microsoft.com/en-us/dotnet/csharp/whats-new/tutorials/static-virtual-interface-members#static-abstract-interface-methods" rel="noopener ugc nofollow" target="_blank">文档</a>)。这迫使实现类提供具有匹配签名的静态方法。然而，您不能像非静态抽象接口方法那样定义方法体。</p><pre class="ks kt ku kv gt mx my mz bn na nb bi"><span id="039e" class="nc mb it my b be nd ne l nf ng">public interface IMyInterface<br/>{<br/>    public static abstract void ImplementMe();<br/>}<br/><br/>public class MyClass : IMyInterface<br/>{<br/>    public static void ImplementMe()<br/>    {<br/>        return;<br/>    }<br/>}</span></pre><p id="2f85" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">这也很酷，我很乐意用它来强制类的静态构造函数来实例化新对象。🔥</p><h2 id="74d6" class="ma mb it bd mc md me dn mf mg mh dp mi ln mj mk ml lr mm mn mo lv mp mq mr iz bi translated">列表模式</h2><p id="6933" class="pw-post-body-paragraph le lf it lg b lh ms kd lj lk mt kg lm ln mu lp lq lr mv lt lu lv mw lx ly lz im bi translated"><a class="ae ld" href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/patterns#list-patterns" rel="noopener ugc nofollow" target="_blank">列表模式</a>是C#中模式匹配家族的最新成员。结合切片模式<code class="fe nq nr ns my b">..</code>，你可以做一些疯狂的事情，如<a class="ae ld" href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/patterns#list-patterns" rel="noopener ugc nofollow" target="_blank">文档</a>中的例子所示:</p><pre class="ks kt ku kv gt mx my mz bn na nb bi"><span id="001e" class="nc mb it my b be nd ne l nf ng">Console.WriteLine(new[] { 1, 2, 3, 4, 5 } is [&gt; 0, &gt; 0, ..]);   // True<br/>Console.WriteLine(new[] { 1, 1 } is [_, _, ..]);                // True<br/>Console.WriteLine(new[] { 0, 1, 2, 3, 4 } is [&gt; 0, &gt; 0, ..]);   // False<br/>Console.WriteLine(new[] { 1 } is [1, 2, ..]);                   // False<br/>Console.WriteLine(new[] { 1, 2, 3, 4 } is [.., &gt; 0, &gt; 0]);      // True<br/>Console.WriteLine(new[] { 2, 4 } is [.., &gt; 0, 2, 4]);           // False<br/>Console.WriteLine(new[] { 2, 4 } is [.., 2, 4]);                // True<br/>Console.WriteLine(new[] { 1, 2, 3, 4 } is [&gt;= 0, .., 2 or 4]);  // True<br/>Console.WriteLine(new[] { 1, 0, 0, 1 } is [1, 0, .., 0, 1]);    // True<br/>Console.WriteLine(new[] { 1, 0, 1 } is [1, 0, .., 0, 1]);       // False</span></pre><p id="8c30" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">我不太确定这将有什么用例。正如您所看到的，代码完全不可读，也不会通过代码审查。也许我只是还没有看到好处，但目前来说，我不打算使用这个功能。如果你知道一些用例，分享一下！🤔</p><h2 id="8352" class="ma mb it bd mc md me dn mf mg mh dp mi ln mj mk ml lr mm mn mo lv mp mq mr iz bi translated">必需的成员</h2><p id="02ce" class="pw-post-body-paragraph le lf it lg b lh ms kd lj lk mt kg lm ln mu lp lq lr mv lt lu lv mw lx ly lz im bi translated">作为一名Flutter/Dart开发人员，我已经熟悉了一个<code class="fe nq nr ns my b">required</code>关键字的概念。编译器可以通过构造函数或对象初始化器(<a class="ae ld" href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/required" rel="noopener ugc nofollow" target="_blank"> docs </a>)强制属性赋值。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi nt"><img src="../Images/0210e35815574484ccc2edc405dc0ad8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rE3Seh8asYSGq1iC6-rK_g.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">在C#11中使用required关键字而没有正确初始化时出现编译器警告</figcaption></figure><p id="ef8d" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">在我看来非常有用。它确保重要的属性总是包含值。但这并不能保证物有所值，也有可能在每个属性上使用<code class="fe nq nr ns my b">required</code>,这将绕过该功能的要点。🤗</p><h2 id="716d" class="ma mb it bd mc md me dn mf mg mh dp mi ln mj mk ml lr mm mn mo lv mp mq mr iz bi translated">结论</h2><p id="cca4" class="pw-post-body-paragraph le lf it lg b lh ms kd lj lk mt kg lm ln mu lp lq lr mv lt lu lv mw lx ly lz im bi translated">这就是我对C#11简短而甜蜜的概述。你的外卖有哪些？</p></div><div class="ab cl ni nj hx nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="im in io ip iq"><p id="1f5a" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated"><a class="ae ld" href="https://medium.com/@xeladu/membership" rel="noopener"> <strong class="lg jd"> <em class="ny">通过我的推荐链接加入成千上万的媒体会员，每月只需5美元就可以阅读你想阅读的文章！</em> </strong> </a></p><div class="nz oa gp gr ob oc"><a href="https://medium.com/@xeladu/membership" rel="noopener follow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd jd gy z fp oh fr fs oi fu fw jc bi translated">通过我的推荐链接加入Medium-xela du</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">只需点击一下，就可以通过会员资格访问数千篇文章！您的会员资格只需5美元一张…</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">medium.com</p></div></div><div class="ol l"><div class="om l on oo op ol oq kx oc"/></div></div></a></div><p id="2eef" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">点击<a class="ae ld" href="http://medium-newsletter.quickcoder.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="lg jd">此处</strong> </a>每月获取一次我的所有中型文章的摘要🔔浏览<a class="ae ld" href="https://xeladu.gumroad.com/" rel="noopener ugc nofollow" target="_blank">我的Gumroad商店</a>寻找有趣的编程素材🏬</p></div><div class="ab cl ni nj hx nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="im in io ip iq"><div class="ks kt ku kv gt"><div role="button" tabindex="0" class="ab bv gv cb fp or os bn ot kx ex"><div class="ou l"><div class="ab q"><div class="l di"><img alt="xeladu" class="l de bw ov ow fe" src="../Images/c6d3049714795a7a8169ac0957f05cfe.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*zDQIuT_7N15cT_wzRxjc4g.jpeg"/><div class="fb bw l ov ow fc n aw fd"/></div><div class="hh l fo"><p class="bd b dl z fp fq fr fs ft fu fv fw dk translated">xeladu </p></div></div><div class="oz pa gw l"><h2 class="bd jd vb qe fp vc fr fs oi fu fw jc bi translated">所有人的洞察力。NET开发人员</h2></div><div class="ab q"><div class="l fo"><a class="bd b be z bi vd au ve vf vg rs vh an eh ei vi vj vk el em eo de bk ep" href="https://xeladu.medium.com/list/insights-for-all-net-developers-8642045c4443?source=post_page-----78c19abeaf72--------------------------------" rel="noopener follow" target="_top">View list</a></div><div class="vl l fo"><span class="bd b dl z dk">8 stories</span></div></div></div><div class="pm dh pn fp ab po fo di"><div class="di pe bv pf pg"><div class="dh l"><img alt="" class="dh" src="../Images/9363657a28fcab576ee284cda59e5dc2.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*963Zlw9_KuifPxsS"/></div></div><div class="di pe bv ph pi pj"><div class="dh l"><img alt="" class="dh" src="../Images/db2808003cddbb5cf96f318d451443a5.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*HV7w5ib8WiPJ9Tyi"/></div></div><div class="di bv pk pl pj"><div class="dh l"><img alt="" class="dh" src="../Images/b8ce880e11aaacb1d8a4f19d817345db.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*CMH1Q-eyHvwHyM6p"/></div></div></div></div></div><div class="nz oa gp gr ob"><div role="button" tabindex="0" class="ab bv gv cb fp or os bn ot kx ex"><div class="ou l"><div class="ab q"><div class="l di"><img alt="xeladu" class="l de bw ov ow fe" src="../Images/c6d3049714795a7a8169ac0957f05cfe.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*zDQIuT_7N15cT_wzRxjc4g.jpeg"/><div class="fb bw l ov ow fc n aw fd"/></div><div class="hh l fo"><p class="bd b dl z fp fq fr fs ft fu fv fw dk translated">xeladu </p></div></div><div class="oz pa gw l"><h2 class="bd jd vb qe fp vc fr fs oi fu fw jc bi translated">来自软件开发人员生活的感悟</h2></div><div class="ab q"><div class="l fo"><a class="bd b be z bi vd au ve vf vg rs vh an eh ei vi vj vk el em eo de bk ep" href="https://xeladu.medium.com/list/insights-from-the-life-of-a-software-developer-e1959ecf59e6?source=post_page-----78c19abeaf72--------------------------------" rel="noopener follow" target="_top">View list</a></div><div class="vl l fo"><span class="bd b dl z dk">8 stories</span></div></div></div><div class="pm dh pn fp ab po fo di"><div class="di pe bv pf pg"><div class="dh l"><img alt="" class="dh" src="../Images/3b18f484145343528a2e4807f2da8b7e.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*zdIdo3QQGOzrjzcv"/></div></div><div class="di pe bv ph pi pj"><div class="dh l"><img alt="" class="dh" src="../Images/fd485d5976fbc7c7ec7ddf7cc6c3edd9.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*BbSOmwqMwvgMne5b"/></div></div><div class="di bv pk pl pj"><div class="dh l"><img alt="" class="dh" src="../Images/facc2edbf30321fa38af077dba3ed072.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*scPXMvGZnTanw-SZ"/></div></div></div></div></div></div><div class="ab cl ni nj hx nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="im in io ip iq"><h1 id="1f45" class="pt mb it bd mc pu pv pw mf px py pz mi ki qa kj ml kl qb km mo ko qc kp mr qd bi translated">分级编码</h1><p id="dfd5" class="pw-post-body-paragraph le lf it lg b lh ms kd lj lk mt kg lm ln mu lp lq lr mv lt lu lv mw lx ly lz im bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="cd57" class="qe qf it lg b lh li lk ll ln qg lr qh lv qi lz qj qk ql qm bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="be0c" class="qe qf it lg b lh qn lk qo ln qp lr qq lv qr lz qj qk ql qm bi translated">📰更多内容请查看<a class="ae ld" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">升级编码刊物</a></li><li id="dac5" class="qe qf it lg b lh qn lk qo ln qp lr qq lv qr lz qj qk ql qm bi translated">🔔关注我们:<a class="ae ld" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">推特</a> | <a class="ae ld" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a> | <a class="ae ld" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="1eab" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">🚀👉<a class="ae ld" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="lg jd">加入升级人才集体，找到一份神奇的工作</strong> </a></p></div></div>    
</body>
</html>