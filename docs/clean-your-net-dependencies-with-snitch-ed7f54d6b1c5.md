# 清理你的。与 Snitch 的网络依赖

> 原文：<https://levelup.gitconnected.com/clean-your-net-dependencies-with-snitch-ed7f54d6b1c5>

## 结晶不常见的库

## 介绍

记得旧的。NET 框架？我听起来像一个睿智的老人，但是框架中的一个常见问题是它的包管理器和版本控制。

我敢打赌，您发现自己在多个场合删除重复的引用，处理 nuget 包版本，DLL 依赖冲突的部署。所有这些都是在到处都有警告的情况下发生的！

虽然大部分都是在新版本中修复的。NET 及其更新包管理器。还有提升的空间。小小的努力可以帮助您减少和最小化依赖树，这可能会也可能不会对您的基础架构产生重大影响。尤其是在涉及多个集群和实例的云环境中。每个多余的字节都会增加你的总成本。

谁不想省钱呢..对吗？

## 一个问题

你是个好小伙子，你想清楚地划分你的顾虑和界限。所以你创建一些通用的库来导出到一个 Excel 文件，或者某种图像转换器…任何东西都可以。

每个库都有自己的依赖项。对于您的 excel 导出器，您会有类似 OpenXml 和 Newtonsoft 的东西。例如带有特定版本的 Json。

要使用您编写的内容，您需要在应用程序的项目中引用这个库。如果您仔细观察，您会发现这些引用将在您的主项目中被“复制”。重复不是正确的词，在您的解决方案资源管理器->项目->中打开依赖项部分，并展开您的库项目。

简而言之，您的库依赖项可以从您的主项目中访问。如果你已经有了 Newtonsoft。在您的主项目中，这个包将被认为是重复的。

为了使它更令人兴奋，您还可以在您的项目中使用同一库的不同版本。这个问题真的会停止您的部署，并导致意外的行为。您完全依赖内置的依赖性自动解析。

如果这种依赖可以被忽略，而且一开始就不需要，你为什么要把自己放在这个位置上呢？移除多余的大块库，比如 UI 控件，也可以节省一些空间，何乐而不为呢。

## 飞贼前来救援

[飞贼](https://github.com/spectresystems/snitch)是一个 dotnet 工具，帮助你在你的项目中找到多余的包引用。使用它非常简单明了，如果您愿意，还可以将它集成到您的 CI/CD 管道中。

我个人在我的项目中使用了它，它在某些情况下产生了巨大的差异。作为一种动力，你最终会移除那些烦人的依赖警告。

与我们过去在框架领域所拥有的相比，dotnet 包管理器是令人敬畏的，但是这并不意味着你可以随心所欲而不承担后果。

> 记住，权力不可能是无辜的。

## 如何使用飞贼

使用飞贼很容易，如果你有你的。NET SDK 安装在你的机器上，打开命令提示符(CMD)或终端并安装它
`*dotnet tool install -g snitch*`

要检查一个项目，只需键入 snitch 和您的*的路径。csproj…你会立即得到一个关于你应该删除哪些依赖项的报告。您还可以使用命令标志来定位特定的框架版本或项目。

查看 GitHub 上的[飞贼文档了解更多细节，请不要忘记关注和支持这个库。](https://github.com/spectresystems/snitch)

# 分级编码

感谢您成为我们社区的一员！在你离开之前:

*   👏为故事鼓掌，跟着作者走👉
*   📰查看更多内容请参见[升级编码刊物](https://levelup.gitconnected.com/?utm_source=pub&utm_medium=post)
*   🔔关注我们:[Twitter](https://twitter.com/gitconnected)|[LinkedIn](https://www.linkedin.com/company/gitconnected)|[时事通讯](https://newsletter.levelup.dev)

🚀👉 [**软件工程师的热门职位**](https://jobs.levelup.dev/jobs?utm_source=pub&utm_medium=post)