<html>
<head>
<title>How to use Generics in Java</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Java中使用泛型</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-use-generics-in-java-aeca75d03a6c?source=collection_archive---------2-----------------------#2020-05-21">https://levelup.gitconnected.com/how-to-use-generics-in-java-aeca75d03a6c?source=collection_archive---------2-----------------------#2020-05-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d7e4" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Java泛型完全指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/77eaa02e0241fb00915f7e1803296ee0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dgiPHduZsn8RhZW2"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@alexiby?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">亚历克斯·伊比</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="b30a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">泛型是Java中的一个关键概念。大多数Java代码库都会用到它们。因此，不可避免的是，开发人员会在某个时候遇到它们。这就是为什么正确理解它们至关重要。正确理解泛型也会帮助你在Java面试中胜出。</p><p id="087b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我将讨论什么是泛型，如何在Java中使用它们，以及它们的优点是什么。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="952e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Java 5中增加了泛型，以提供编译时类型检查，并消除使用集合类时常见的<code class="fe mc md me mf b">ClassCastException</code>风险。Java中的集合类用于存储和操作对象组。例如，ArrayList集合类可以存储任何类型的对象。因为它被设计成Java的基类类型对象<em class="mg">的容器。</em>因此，ArrayList对象可以保存字符串、整数或任何Java类型。没有办法在泛型之前创建一个只有字符串或整数的数组列表。使用泛型，我们可以定义数组列表可以容纳的对象类型。从而允许创建单一对象类型的数组列表。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mh mi l"/></div></figure><p id="86c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如你在上面的例子中看到的，泛型是通过使用尖括号来定义的。在这个例子中，只有字符串对象可以存储在数组列表中。Java中的集合类现在有了泛型类型。现在让我们看看如何编写我们自己的泛型类、接口和方法。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="e1c3" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">通用类</h1><p id="5c7c" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">在泛型类声明中，类名后跟类型参数部分。我们可以遵循相同的语法来创建通用接口。<strong class="lb iu">类型参数</strong>，也称为类型变量，是用于指定通用类型名的标识符。泛型类的类型参数部分可以包含一个或多个用逗号分隔的类型参数。这些类也称为参数化类。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mh mi l"/></div></figure><p id="6a7e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的例子中，测试类有两个类型参数，名为<code class="fe mc md me mf b">K</code>和<code class="fe mc md me mf b">V</code>。所以Test类的对象可以存储两种不同类型的值。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="9c96" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">通用方法</h1><p id="de4f" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">如果我们能够编写一个<strong class="lb iu">单个</strong>排序方法，能够对一个整数数组、一个字符串数组或任何其他类型的支持排序的数组的元素进行排序，那就太棒了，对吗？Java泛型方法允许我们用一个方法声明来指定一组相关的类型。您将能够编写一个可以用不同类型的参数调用的泛型方法声明。必须在方法返回类型之前指定类型参数部分。类型参数也可以用作方法的返回类型。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mh mi l"/></div></figure><p id="eaa0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的例子中，<code class="fe mc md me mf b">printArray</code>方法可以用来打印任何类型数组的元素。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="7581" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">泛型中的有界类型参数</h1><p id="4fd7" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">到目前为止，我们只看到了无界泛型类型参数。Unbounded意味着我们的泛型类型参数可以是我们想要的任何类型。有时，您可能希望限制允许传递给type参数的类型。例如，操作数字的方法可能只想接受数字类或其子类的实例。为此使用了有界类型参数。要声明有界类型参数，首先列出类型参数的名称，然后是extends关键字，最后是上限。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mh mi l"/></div></figure><p id="21c6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本例中，笼子类的通用类型必须始终是Animal或Animal类的子类。因此，我们可以将猫、狗或动物类作为泛型类型参数传递。</p><p id="7c8f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果需要，我们还可以为泛型类型声明多个界限。所以上面例子中的抽象类可以修改如下。</p><p id="5706" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mc md me mf b">public abstract class Cage&lt;T extends Animal &amp; Comparable&lt;T&gt;&gt;</code></p><p id="ce0b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里，类型参数现在必须考虑动物类和类似的接口。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6ebe" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">泛型中的通配符和子类型</h1><p id="6336" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">问号(？)是泛型中的通配符，表示未知类型。如果我们希望我们的泛型方法适用于所有类型，在这种情况下，可以使用一个<strong class="lb iu">无界通配符</strong>。无界通配符由<code class="fe mc md me mf b">&lt;?&gt;</code>表示。我们也可以使用绑定通配符。有两种类型的有界通配符，上有界通配符<strong class="lb iu">和下有界通配符<strong class="lb iu">。</strong></strong></p><p id="0797" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上限通配符用于放宽对方法中变量类型的限制。例如，假设我们不知道一个列表是数字、整数还是双精度类型。那么我们如何得到列表中元素的和呢？我们可以使用上限通配符来解决这个问题。下面的例子展示了如何实现它。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mh mi l"/></div></figure><p id="a9a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下界通配符用于增加对方法中变量类型的限制。假设我们只想向一个列表中添加整数，然而我们也想接受一个整数的超类型列表。我们可以使用下限通配符来实现这一点。从下面的例子中，我们可以看到如何使用它。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mh mi l"/></div></figure><p id="c853" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然<code class="fe mc md me mf b">Integer</code>在Java中是<code class="fe mc md me mf b">Number</code>的子类型，但是<code class="fe mc md me mf b">List&lt;Integer&gt;</code>并不是<code class="fe mc md me mf b">List&lt;Number&gt;</code>的子类型。他们的共同父母是<code class="fe mc md me mf b">List&lt;?&gt;</code>。所以泛型类中的子类型是用通配符完成的。下面的例子将帮助你理解这一点。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mh mi l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="7861" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">菱形算子(&lt;&gt;)</h1><p id="bc26" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">菱形运算符，也称为菱形语法，是Java 7中引入的一个新特性。菱形运算符的目的是在创建对象时简化泛型的使用。</p><p id="6a03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mc md me mf b">ArrayList&lt;String&gt; al = new ArrayList&lt;&gt;();</code></p><p id="5de2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过使用菱形操作符，我们可以简化字符串数组列表的声明，如上所示。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="04ec" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">泛型的优势</h1><p id="cc51" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">现在你知道了如何使用泛型，你一定在想为什么我们需要使用它们。我们使用它们有三个主要原因，</p><ol class=""><li id="58df" class="ng nh it lb b lc ld lf lg li ni lm nj lq nk lu nl nm nn no bi translated"><strong class="lb iu">类型安全</strong></li><li id="2533" class="ng nh it lb b lc np lf nq li nr lm ns lq nt lu nl nm nn no bi translated"><strong class="lb iu">不需要类型转换</strong></li><li id="78b4" class="ng nh it lb b lc np lf nq li nr lm ns lq nt lu nl nm nn no bi translated"><strong class="lb iu">可重用代码</strong></li></ol><p id="824a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">泛型确保编译时安全，这允许您在编译代码时捕捉无效类型。因此，您不需要担心运行时异常。不需要单独的类型转换是使用泛型的另一个优势。你定义初始类型，然后让代码为你做造型。我们还可以避免代码重复。如果没有泛型，我们必须复制和粘贴相同的代码，但用于不同的类型。有了泛型，我们就不必这么做了。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="aaef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文到此为止。希望大家已经学会了什么是Java泛型，以及如何使用，希望以后能给大家带来更多的Java知识。</p><p id="94ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">非常感谢您的阅读和快乐编码！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="4612" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">参考</h1><ul class=""><li id="dd7d" class="ng nh it lb b lc nb lf nc li nu lm nv lq nw lu nx nm nn no bi translated"><a class="ae ky" href="https://docs.oracle.com/javase/tutorial/java/generics/index.html" rel="noopener ugc nofollow" target="_blank">关于泛型的Oracle Java文档</a></li><li id="e7cc" class="ng nh it lb b lc np lf nq li nr lm ns lq nt lu nx nm nn no bi translated"><a class="ae ky" href="https://www.baeldung.com/java-generics-interview-questions" rel="noopener ugc nofollow" target="_blank"> Java泛型面试问题</a></li></ul></div></div>    
</body>
</html>