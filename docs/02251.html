<html>
<head>
<title>Introduction to Angular: Displaying Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">角度简介:显示数据</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/introduction-to-angular-display-data-aea0eadefcd6?source=collection_archive---------7-----------------------#2020-02-29">https://levelup.gitconnected.com/introduction-to-angular-display-data-aea0eadefcd6?source=collection_archive---------7-----------------------#2020-02-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/362f3acf58fb45f104d45af14e4038d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jzkP-qoCK7jNCyzx"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">安德烈斯·努内斯在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="9af6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Angular是Google创建的一个流行的前端框架。像其他流行的前端框架一样，它使用基于组件的架构来构建应用程序。</p><p id="9694" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将了解如何在Angular应用程序中显示数据。</p><h1 id="cc09" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">显示数据</h1><p id="89f7" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以通过将模板数据绑定到模板来显示数据。</p><p id="e8b5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为此，我们可以将JavaScript表达式放在花括号中。</p><p id="a84b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以编写以下代码:</p><p id="9cb3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">app.component.ts</code></p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="dc69" class="mt lf it mk b gy mu mv l mw mx">import { Component } from "@angular/core";</span><span id="2366" class="mt lf it mk b gy my mv l mw mx">@Component({<br/>  selector: "app-root",<br/>  templateUrl: "./app.component.html",<br/>  styleUrls: ["./app.component.css"]<br/>})<br/>export class AppComponent {<br/>  name = "foo";<br/>}</span></pre><p id="fa91" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">app.component.html</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="dc58" class="mt lf it mk b gy mu mv l mw mx">{{name}}</span></pre><p id="bbad" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们屏幕上出现了<code class="fe mh mi mj mk b">foo</code>这个词。</p><p id="525e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正在发生的事情是，<code class="fe mh mi mj mk b">app.component.ts</code>的值中的<code class="fe mh mi mj mk b">name</code>字段被绑定到模板中的<code class="fe mh mi mj mk b">name</code>字段。</p><p id="bde4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还可以加入其他表达方式，比如:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="e047" class="mt lf it mk b gy mu mv l mw mx">{{ 1 + 1 }}</span></pre><p id="9f81" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们得到2显示。</p><p id="7a0c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的例子中，我们在一个单独的文件中有一个模板。我们也可以将模板放在组件文件中。</p><p id="e9ce" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以将第一个示例改写为:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="1845" class="mt lf it mk b gy mu mv l mw mx">import { Component } from "@angular/core";</span><span id="2bf9" class="mt lf it mk b gy my mv l mw mx">@Component({<br/>  selector: "app-root",<br/>  template: `<br/>    {{ name }}<br/>  `,<br/>  styleUrls: ["./app.component.css"]<br/>})<br/>export class AppComponent {<br/>  name = "foo";<br/>}</span></pre><p id="1dbe" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将像第一个例子一样显示<code class="fe mh mi mj mk b">foo</code>。</p><p id="6809" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们也可以初始化构造函数中的字段，如下所示:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="0f84" class="mt lf it mk b gy mu mv l mw mx">import { Component } from "@angular/core";</span><span id="464c" class="mt lf it mk b gy my mv l mw mx">@Component({<br/>  selector: "app-root",<br/>  template: `<br/>    {{ name }}<br/>  `,<br/>  styleUrls: ["./app.component.css"]<br/>})<br/>export class AppComponent {<br/>  name: string;<br/>  constructor() {<br/>    this.name = "foo";<br/>  }<br/>}</span></pre><p id="a1ee" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它会做和其他例子一样的事情。</p><h1 id="5780" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">使用*ngFor显示数组属性</h1><p id="8121" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以使用<code class="fe mh mi mj mk b">*ngFor</code>指令来遍历数组中的项目。</p><p id="f514" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要使用它，我们可以如下使用它:</p><p id="7665" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">app.component.ts</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="6665" class="mt lf it mk b gy mu mv l mw mx">import { Component } from "@angular/core";</span><span id="ad69" class="mt lf it mk b gy my mv l mw mx">@Component({<br/>  selector: "app-root",<br/>  templateUrl: "./app.component.html",<br/>  styleUrls: ["./app.component.css"]<br/>})<br/>export class AppComponent {<br/>  persons = [{ name: "Jane" }, { name: "John" }, { name: "Mary" }];<br/>}</span></pre><p id="5eec" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">app.component.html</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="d316" class="mt lf it mk b gy mu mv l mw mx">&lt;div *ngFor="let p of persons"&gt;{{p.name}}&lt;/div&gt;</span></pre><p id="83c3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们在<code class="fe mh mi mj mk b">AppComponent</code>中定义了<code class="fe mh mi mj mk b">persons</code>数组。</p><p id="e138" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们可以用<code class="fe mh mi mj mk b">*ngFor</code>指令来呈现<code class="fe mh mi mj mk b">app.component.html</code>中的数组。</p><p id="763d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们通过编写<code class="fe mh mi mj mk b">let p of persons</code>来遍历数组，然后将<code class="fe mh mi mj mk b">p.name</code>放在花括号中，以显示花括号中每个条目的<code class="fe mh mi mj mk b">name</code>属性。</p><p id="23c8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">*ngFor</code>可以在任何可重复对象中重复项目。</p><p id="59e3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以这样写:</p><p id="e810" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">app.component.ts</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="bc2d" class="mt lf it mk b gy mu mv l mw mx">import { Component } from "@angular/core";</span><span id="5dfd" class="mt lf it mk b gy my mv l mw mx">@Component({<br/>  selector: "app-root",<br/>  templateUrl: "./app.component.html",<br/>  styleUrls: ["./app.component.css"]<br/>})<br/>export class AppComponent {<br/>  getArgs() {<br/>    return arguments;<br/>  }<br/>}</span></pre><p id="4dc9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">app.component.html</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="865d" class="mt lf it mk b gy mu mv l mw mx">&lt;div *ngFor="let a of getArgs('John', 'Jane')"&gt;{{a}}&lt;/div&gt;</span></pre><p id="e982" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，<code class="fe mh mi mj mk b">getArgs</code>返回了<code class="fe mh mi mj mk b">arguments</code>对象，这是一个类似数组的可迭代对象。</p><p id="fdcd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，当我们将<code class="fe mh mi mj mk b">'John'</code>和<code class="fe mh mi mj mk b">'Jane'</code>传递给<code class="fe mh mi mj mk b">getArgs</code>并用<code class="fe mh mi mj mk b">*ngFor</code>循环遍历它时，我们会看到显示的项目就像在一个数组中一样。</p><h1 id="dd3c" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">为数据创建一个类</h1><p id="c5f4" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以创建一个类来设置数据的结构。要创建一个类，我们可以写:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="8e81" class="mt lf it mk b gy mu mv l mw mx">ng g class Person</span></pre><p id="29bf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<code class="fe mh mi mj mk b">person.ts</code>中，我们可以写道:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="2f55" class="mt lf it mk b gy mu mv l mw mx">export class Person {<br/>    constructor(name: string) { }<br/>}</span></pre><p id="c262" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">Person</code>有一个<code class="fe mh mi mj mk b">constructor</code>，它传递了<code class="fe mh mi mj mk b">name</code>字符串字段。将它传递给<code class="fe mh mi mj mk b">constructor</code>会将其声明为<code class="fe mh mi mj mk b">Person</code>的一个字段。</p><p id="6855" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后在<code class="fe mh mi mj mk b">app.component.ts</code>中，我们写道:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="0f21" class="mt lf it mk b gy mu mv l mw mx">import { Component } from '@angular/core';<br/>import { Person } from './person';</span><span id="de8d" class="mt lf it mk b gy my mv l mw mx">@Component({<br/>  selector: 'app-root',<br/>  templateUrl: './app.component.html',<br/>  styleUrls: ['./app.component.css']<br/>})<br/>export class AppComponent {<br/>  persons: Person[] = [new Person('Jane'), new Person('John')];<br/>}</span></pre><p id="b0a2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们引用了<code class="fe mh mi mj mk b">Person</code>类并从中创建了一个模板。</p><p id="cbbc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后在<code class="fe mh mi mj mk b">app.template.html</code>中，我们写道:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="63cf" class="mt lf it mk b gy mu mv l mw mx">&lt;div *ngFor="let p of persons"&gt;{{p.name}}&lt;/div&gt;</span></pre><p id="967d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">显示<code class="fe mh mi mj mk b">persons</code>条目。</p><p id="12ae" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">创建类有助于我们组织数据。</p><h1 id="da76" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">使用NgIf的条件显示</h1><p id="f580" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以使用<code class="fe mh mi mj mk b">*ngIf</code>指令有条件地显示数据。</p><p id="16bb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它将任何计算结果为true或falsy值的表达式作为一个值。</p><p id="1858" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以写:</p><p id="583a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">app.component.ts</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="79e2" class="mt lf it mk b gy mu mv l mw mx">import { Component } from "@angular/core";</span><span id="8f4b" class="mt lf it mk b gy my mv l mw mx">@Component({<br/>  selector: "app-root",<br/>  templateUrl: "./app.component.html",<br/>  styleUrls: ["./app.component.css"]<br/>})<br/>export class AppComponent {<br/>  showText: boolean = false;<br/>}</span></pre><p id="ec6b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">app.component.html</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="6354" class="mt lf it mk b gy mu mv l mw mx">&lt;button (click)="showText = !showText"&gt;Toggle&lt;/button&gt;<br/>&lt;div *ngIf="showText"&gt;foo&lt;/div&gt;</span></pre><p id="360c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们在<code class="fe mh mi mj mk b">AppComponent</code>中添加了<code class="fe mh mi mj mk b">showText</code>布尔字段，并将其设置为<code class="fe mh mi mj mk b">false</code>。</p><p id="ced1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们给<code class="fe mh mi mj mk b">app.component.html</code>添加了一个按钮，它有一个点击处理程序，当我们点击按钮时，它在<code class="fe mh mi mj mk b">true</code>和<code class="fe mh mi mj mk b">false</code>之间切换<code class="fe mh mi mj mk b">showText</code>。</p><p id="9965" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果<code class="fe mh mi mj mk b">showText</code>是<code class="fe mh mi mj mk b">true</code>，那么div使用<code class="fe mh mi mj mk b">*ngIf</code>指令来显示‘foo’。</p><h1 id="f009" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="081d" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以通过在模板中放入一个JavaScript表达式来用Angular显示数据。</p><p id="528c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了引用变量，我们可以在组件中将它们声明为字段，并在模板中引用它们。</p><p id="dfcc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以用<code class="fe mh mi mj mk b">*ngIf</code>指令有条件地显示项目，用<code class="fe mh mi mj mk b">*ngFor</code>指令呈现数组和其他可迭代对象。</p></div></div>    
</body>
</html>