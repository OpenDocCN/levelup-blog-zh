<html>
<head>
<title>TypeScript &amp; Nodemon — The Ultimate Setup!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TypeScript &amp; Nodemon —终极设置！</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/typescript-nodemon-the-ultimate-setup-7200aa60cc8b?source=collection_archive---------2-----------------------#2020-09-29">https://levelup.gitconnected.com/typescript-nodemon-the-ultimate-setup-7200aa60cc8b?source=collection_archive---------2-----------------------#2020-09-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9838" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解如何设置TypeScript和Nodemon来提高您的工作效率并轻松开发！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9dedf4380830b759a0a6396c844e9085.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i526cqOxGM0G2IxJGbRoXA.png"/></div></div></figure><p id="f346" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">设置TypeScript和Nodemon有时会很棘手，在本文中，我将向您展示如何轻松设置TypeScript和Nodemon！</p><p id="36e5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在<a class="ae lq" href="https://github.com/talohana/typescript-nodemon-ultimate-setup" rel="noopener ugc nofollow" target="_blank">github资源库</a>中找到本文的完整源代码</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h2 id="5ee8" class="ly lz it bd ma mb mc dn md me mf dp mg ld mh mi mj lh mk ml mm ll mn mo mp mq bi translated">创建一个示例项目</h2><p id="eb47" class="pw-post-body-paragraph ku kv it kw b kx mr ju kz la ms jx lc ld mt lf lg lh mu lj lk ll mv ln lo lp im bi translated">让我们从创建一个示例项目开始，我们将通过运行:</p><p id="acdc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><code class="fe mw mx my mz b">mkdir typescript-nodemon-ultimate-setup</code></p><p id="d745" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">接下来，通过运行以下命令创建最小npm包:</p><p id="f8c9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><code class="fe mw mx my mz b">npm init -y or yarn init -y</code></p><blockquote class="na nb nc"><p id="e104" class="ku kv nd kw b kx ky ju kz la lb jx lc ne le lf lg nf li lj lk ng lm ln lo lp im bi translated"><em class="it">注意:为了减少冗长，对于本文的其余部分，我将使用npm并省略yarn命令</em></p></blockquote><p id="92e2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">添加所需依赖:<br/> <code class="fe mw mx my mz b">npm i -D typescript ts-node nodemon @types/node</code></p><p id="f953" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">通过运行<code class="fe mw mx my mz b">npx tsc --init</code>初始化TypeScript</p><p id="7dbe" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最后，我们需要一些源代码，所以让我们创建包含以下类型脚本的<code class="fe mw mx my mz b">src/index.ts</code>文件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><h2 id="c3fe" class="ly lz it bd ma mb mc dn md me mf dp mg ld mh mi mj lh mk ml mm ll mn mo mp mq bi translated">添加Nodemon</h2><p id="87bc" class="pw-post-body-paragraph ku kv it kw b kx mr ju kz la ms jx lc ld mt lf lg lh mu lj lk ll mv ln lo lp im bi translated">Nodemon可以用各种方式配置<a class="ae lq" href="https://github.com/remy/nodemon#config-files" rel="noopener ugc nofollow" target="_blank"/>，我将通过在我们的项目根文件夹中添加<code class="fe mw mx my mz b">nodemon.json</code>用一个json文件来配置它:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="92d0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们看一下配置:</p><ul class=""><li id="ab00" class="nj nk it kw b kx ky la lb ld nl lh nm ll nn lp no np nq nr bi translated">可重启—一个我们可以用来手动重启程序的命令</li><li id="4abc" class="nj nk it kw b kx ns la nt ld nu lh nv ll nw lp no np nq nr bi translated">忽略—我们不希望在更改时触发程序重启的文件列表</li><li id="1d1d" class="nj nk it kw b kx ns la nt ld nu lh nv ll nw lp no np nq nr bi translated">监视—当发生变化时，我们希望触发程序重启的路径列表</li><li id="e0f7" class="nj nk it kw b kx ns la nt ld nu lh nv ll nw lp no np nq nr bi translated">execMap —文件类型/扩展名与运行时之间的映射</li><li id="031d" class="nj nk it kw b kx ns la nt ld nu lh nv ll nw lp no np nq nr bi translated">env —要包含的环境变量</li><li id="7de4" class="nj nk it kw b kx ns la nt ld nu lh nv ll nw lp no np nq nr bi translated">ext —节点监控的文件扩展名</li></ul><p id="6901" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了运行和调试我们的设置，在<code class="fe mw mx my mz b">package.json</code>文件中添加两个脚本:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="5121" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">注意<code class="fe mw mx my mz b">dev:debug</code>脚本添加了<code class="fe mw mx my mz b">--inspect-brk</code>标志，这告诉node暂停程序执行，直到附加了调试器，这可以替换为<br/> <code class="fe mw mx my mz b">--inspect</code>标志，以便在不暂停的情况下进行调试。</p><p id="d59a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在我们可以用<code class="fe mw mx my mz b">npm run dev</code>运行我们的程序，试着改变一些东西，看看程序用更新的代码重新运行！</p><h2 id="6e04" class="ly lz it bd ma mb mc dn md me mf dp mg ld mh mi mj lh mk ml mm ll mn mo mp mq bi translated">使用VSCode调试</h2><p id="59fa" class="pw-post-body-paragraph ku kv it kw b kx mr ju kz la ms jx lc ld mt lf lg lh mu lj lk ll mv ln lo lp im bi translated">这个难题的最后一部分是添加VSCode调试配置。</p><p id="8f11" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">创建包含以下配置的<code class="fe mw mx my mz b">.vscode/launch.json</code>文件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="4161" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，当我们通过<code class="fe mw mx my mz b">npm run dev:debug</code>启动nodemon时，程序会暂停，直到我们连接到它:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/ad060e9eae7aecd73859296f8fd6f375.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OSwbRKogSiMdtY7kDaKd8g.png"/></div></div></figure><p id="5da2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">附加后，VSCode将在第一行代码停止，您可以轻松地调试您的程序！</p></div></div>    
</body>
</html>