<html>
<head>
<title>Make a JavaScript Facial Recognition App that Works Like the Ones in the Movies</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">制作一个JavaScript面部识别应用程序，像电影中的那样工作</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/make-your-own-facial-recognition-app-that-works-like-the-ones-in-the-movies-ca0dffd56237?source=collection_archive---------1-----------------------#2019-10-08">https://levelup.gitconnected.com/make-your-own-facial-recognition-app-that-works-like-the-ones-in-the-movies-ca0dffd56237?source=collection_archive---------1-----------------------#2019-10-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/b267db350f155f70fbed7b9fa605bfc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6M6yIQYSKtvzVCoFLZgmSg.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/s/photos/face?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae kf" href="https://unsplash.com/@harishankphotography?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Harishan Kobalasingam </a>拍摄</figcaption></figure><p id="1ce4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当我们观看发生在未来的电影时，我们经常看到角色看着他们的电脑屏幕，试图扫描像罪犯或他们想追捕的任何人的脸。眼下，面部识别技术已经非常成熟，这已经成为现实。我们可以开发能够非常准确地识别人脸的应用程序。这不再仅仅是科幻小说的领域。</p><p id="57e5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要做一个面部识别app，我们可以使用face-api.js这样的库，位于<a class="ae kf" href="https://github.com/justadudewhohacks/face-api.js/" rel="noopener ugc nofollow" target="_blank">https://github.com/justadudewhohacks/face-api.js/</a>。它可以直接在浏览器和Node.js中工作。你可以通过用图像训练Tensorflow来生成训练数据，并将这些数据加载到应用程序中，然后它可以通过调用它的函数来检测人脸。生成数据超出了本文的范围，但是您可以下载预置数据，并将其加载到您的应用程序中进行面部识别。上面的链接有一个<code class="fe le lf lg lh b">weights</code>文件夹，你可以在你的应用程序中使用。</p><p id="4fd6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将制作一个简单的面部识别应用程序，用户可以使用它来检测面部的情感、性别和年龄。我们将使用Vue.js和face-api.js库来构建应用程序。首先，我们通过运行<code class="fe le lf lg lh b">npx @vue/cli create facial-recognition-app</code>来运行Vue CLI。在向导中，我们选择“手动选择功能”，然后选择Babel、CSS预处理器、Vuex和Vue路由器。</p><p id="f310" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在我们需要安装我们的库。除了face-api.js，我们还需要Axios向我们的后端和BootstrapVue发出样式请求。要安装它们，我们运行:</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="a6f9" class="lq lr it lh b gy ls lt l lu lv">npm i axios bootstrap-vue face-api.js</span></pre><p id="fd49" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在我们继续创建应用程序。在<code class="fe le lf lg lh b">src</code>目录下创建一个<code class="fe le lf lg lh b">mixins</code>文件夹，然后创建一个名为<code class="fe le lf lg lh b">requestsMixin.js</code>的文件。在那里，添加:</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="9c0c" class="lq lr it lh b gy ls lt l lu lv">const APIURL = "<a class="ae kf" href="http://localhost:3000" rel="noopener ugc nofollow" target="_blank">http://localhost:3000</a>";<br/>const axios = require("axios");</span><span id="3c15" class="lq lr it lh b gy lw lt l lu lv">export const requestsMixin = {<br/>  methods: {<br/>    getImages() {<br/>      return axios.get(`${APIURL}/images`);<br/>    },</span><span id="0f28" class="lq lr it lh b gy lw lt l lu lv">    addImage(data) {<br/>      return axios.post(`${APIURL}/images`, data);<br/>    },</span><span id="b3fd" class="lq lr it lh b gy lw lt l lu lv">    editImage(data) {<br/>      return axios.put(`${APIURL}/images/${data.id}`, data);<br/>    },</span><span id="705a" class="lq lr it lh b gy lw lt l lu lv">    deleteImage(id) {<br/>      return axios.delete(`${APIURL}/images/${id}`);<br/>    }<br/>  }<br/>};</span></pre><p id="2867" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这里，我们有一些函数向我们的后端发出保存图像的请求，我们将稍后设置这些请求。</p><p id="3c77" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来在<code class="fe le lf lg lh b">Home.vue</code>中，将现有代码替换为:</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="9f25" class="lq lr it lh b gy ls lt l lu lv">&lt;template&gt;<br/>  &lt;div class="page"&gt;<br/>    &lt;h1 class="text-center"&gt;Images&lt;/h1&gt;<br/>    &lt;div class="clearfix"&gt;<br/>      &lt;b-button-toolbar class="button-toolbar float-left"&gt;<br/>        &lt;input type="file" style="display: none" ref="file" <a class="ae kf" href="http://twitter.com/change" rel="noopener ugc nofollow" target="_blank">@change</a>="onChangeFileUpload($event)" /&gt;<br/>        &lt;b-button variant="primary" <a class="ae kf" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="$refs.file.click()"&gt;Upload Images&lt;/b-button&gt;<br/>      &lt;/b-button-toolbar&gt;</span><span id="42a2" class="lq lr it lh b gy lw lt l lu lv">      &lt;img ref="image" :src="form.image" class="photo float-left" /&gt;<br/>    &lt;/div&gt;</span><span id="f269" class="lq lr it lh b gy lw lt l lu lv">    &lt;div v-if="loaded"&gt;<br/>      &lt;b-card v-for="(img, index) in images" :key="img.id"&gt;<br/>        &lt;div class="row"&gt;<br/>          &lt;div class="col-md-6"&gt;<br/>            &lt;img :src="img.image" img-alt="Image" class="photo" :ref="`photo-${index}`" /&gt;<br/>          &lt;/div&gt;<br/>          &lt;div class="col-md-6"&gt;<br/>            &lt;h3&gt;Faces&lt;/h3&gt;<br/>            &lt;b-list-group&gt;<br/>              &lt;b-list-group-item v-for="(d, i) of img.detections" :key="i"&gt;<br/>                &lt;h4&gt;Face {{i + 1}}&lt;/h4&gt;<br/>                &lt;ul class="detection"&gt;<br/>                  &lt;li&gt;Age: {{d.age.toFixed(0)}}&lt;/li&gt;<br/>                  &lt;li&gt;Gender: {{d.gender}}&lt;/li&gt;<br/>                  &lt;li&gt;Gender Probability: {{(d.genderProbability*100).toFixed(2)}}%&lt;/li&gt;<br/>                  &lt;li&gt;<br/>                    Expressions:<br/>                    &lt;ul&gt;<br/>                      &lt;li<br/>                        v-for="key of Object.keys(d.expressions)"<br/>                        :key="key"<br/>                      &gt;{{key}}: {{(d.expressions[key]*100).toFixed(2)}}%&lt;/li&gt;<br/>                    &lt;/ul&gt;<br/>                  &lt;/li&gt;<br/>                &lt;/ul&gt;<br/>              &lt;/b-list-group-item&gt;<br/>            &lt;/b-list-group&gt;<br/>          &lt;/div&gt;<br/>        &lt;/div&gt;<br/>        &lt;br /&gt;</span><span id="ac92" class="lq lr it lh b gy lw lt l lu lv">        &lt;b-button variant="primary" <a class="ae kf" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="detectFace(index)"&gt;Detect Face&lt;/b-button&gt;</span><span id="e17a" class="lq lr it lh b gy lw lt l lu lv">        &lt;b-button variant="danger" <a class="ae kf" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="deleteOneImage(img.id)"&gt;Delete&lt;/b-button&gt;<br/>      &lt;/b-card&gt;<br/>    &lt;/div&gt;<br/>    &lt;div v-else&gt;<br/>      &lt;p&gt;Loading image data...&lt;/p&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="72f6" class="lq lr it lh b gy lw lt l lu lv">&lt;script&gt;<br/>import { requestsMixin } from "@/mixins/requestsMixin";<br/>import * as faceapi from "face-api.js";<br/>const axios = require("axios");<br/>const WEIGHTS_URL = "<a class="ae kf" href="http://localhost:8081/weights" rel="noopener ugc nofollow" target="_blank">http://localhost:8081/weights</a>";</span><span id="328d" class="lq lr it lh b gy lw lt l lu lv">export default {<br/>  name: "home",<br/>  mixins: [requestsMixin],<br/>  computed: {<br/>    images() {<br/>      return this.$store.state.images;<br/>    }<br/>  },<br/>  async beforeMount() {<br/>    await faceapi.loadTinyFaceDetectorModel(WEIGHTS_URL);<br/>    await faceapi.loadFaceLandmarkTinyModel(WEIGHTS_URL);<br/>    await faceapi.loadFaceLandmarkModel(WEIGHTS_URL);<br/>    await faceapi.loadFaceRecognitionModel(WEIGHTS_URL);<br/>    await faceapi.loadFaceExpressionModel(WEIGHTS_URL);<br/>    await faceapi.loadAgeGenderModel(WEIGHTS_URL);<br/>    await faceapi.loadFaceDetectionModel(WEIGHTS_URL);<br/>    await this.getAllImages();<br/>    this.loaded = true;<br/>  },<br/>  data() {<br/>    return {<br/>      form: {},<br/>      loaded: false<br/>    };<br/>  },<br/>  methods: {<br/>    async deleteOneImage(id) {<br/>      await this.deleteImage(id);<br/>      this.getAllImages();<br/>    },</span><span id="8102" class="lq lr it lh b gy lw lt l lu lv">    async getAllImages() {<br/>      const { data } = await this.getImages();<br/>      this.$store.commit("setImages", data);<br/>      if (this.$refs.file) {<br/>        this.$refs.file.value = "";<br/>      }<br/>    },</span><span id="e2de" class="lq lr it lh b gy lw lt l lu lv">    onChangeFileUpload($event) {<br/>      const file = $event.target.files[0];<br/>      const reader = new FileReader();<br/>      reader.onload = async () =&gt; {<br/>        this.$refs.image.src = reader.result;<br/>        this.form.image = reader.result;<br/>        await this.addImage(this.form);<br/>        this.getAllImages();<br/>        this.form.image = "";<br/>      };<br/>      reader.readAsDataURL(file);<br/>    },</span><span id="3380" class="lq lr it lh b gy lw lt l lu lv">    async detectFace(index) {<br/>      const input = this.$refs[`photo-${index}`][0];</span><span id="4afd" class="lq lr it lh b gy lw lt l lu lv">      const options = new faceapi.TinyFaceDetectorOptions({<br/>        inputSize: 128,<br/>        scoreThreshold: 0.3<br/>      });<br/>      const detections = await faceapi<br/>        .detectAllFaces(input, options)<br/>        .withFaceLandmarks()<br/>        .withFaceExpressions()<br/>        .withAgeAndGender()<br/>        .withFaceDescriptors();<br/>      this.images[index].detections = detections;<br/>      await this.editImage(this.images[index]);<br/>      this.getAllImages();<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="040b" class="lq lr it lh b gy lw lt l lu lv">&lt;style&gt;<br/>.photo {<br/>  max-width: 200px;<br/>  margin-bottom: 10px;<br/>}<br/>&lt;/style&gt;</span></pre><p id="e3ee" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这就是图像识别的神奇之处。在<code class="fe le lf lg lh b">beforeMount</code>钩子中，我们加载face-api.js做面部识别所需的所有训练数据。<code class="fe le lf lg lh b">WEIGHTS_URL</code>只是由HTTP服务器服务的<a class="ae kf" href="https://github.com/justadudewhohacks/face-api.js/" rel="noopener ugc nofollow" target="_blank">https://github.com/justadudewhohacks/face-api.js/</a>存储库的<code class="fe le lf lg lh b">weights</code>文件夹。通过这个链接，我们可以将整个存储库下载到一个Zip文件中，并从中提取出<code class="fe le lf lg lh b">weights</code>文件夹。然后运行<code class="fe le lf lg lh b">npm i -g http-server</code>下载<code class="fe le lf lg lh b">http-server</code>。转到<code class="fe le lf lg lh b">weights</code>文件夹并运行<code class="fe le lf lg lh b">http-server --cors</code>，这样我们就可以提供文件，浏览器在下载文件时不会出现CORS错误。请注意，加载文件可能需要几秒钟时间。</p><p id="94d0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在模板中，我们有一个“上传图像”按钮来加载图像。该按钮将打开打开文件对话框，然后将调用<code class="fe le lf lg lh b">onChangeFileUpload</code>将其转换为base64字符串，然后保存到服务器。请注意，这样做只是为了保持教程应用程序的简单。出于生产目的，可能应该用后端应用程序将它保存到文件中。</p><p id="de7d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一旦图像被加载，它们就会显示在卡片上。每张卡都有一个“检测面部”按钮。点击后，调用<code class="fe le lf lg lh b">detectFace</code>函数，运行face-api.js面部检测函数<code class="fe le lf lg lh b">detectAllFaces</code>。请注意，在进行面部识别以加快速度之前，我们使用了<code class="fe le lf lg lh b">TinyFaceDetectorOptions</code>来缩小图像。我们从<code class="fe le lf lg lh b">with</code>开始链接函数，以便获得一些人类可读的见解。一旦完成，卡片将重新载入结果。</p><p id="cda8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来在<code class="fe le lf lg lh b">App.vue</code>中，将现有代码替换为:</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="7575" class="lq lr it lh b gy ls lt l lu lv">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;b-navbar toggleable="lg" type="dark" variant="info"&gt;<br/>      &lt;b-navbar-brand to="/"&gt;Facial Recognition App&lt;/b-navbar-brand&gt;</span><span id="ef67" class="lq lr it lh b gy lw lt l lu lv">&lt;b-navbar-toggle target="nav-collapse"&gt;&lt;/b-navbar-toggle&gt;</span><span id="6b61" class="lq lr it lh b gy lw lt l lu lv">&lt;b-collapse id="nav-collapse" is-nav&gt;<br/>        &lt;b-navbar-nav&gt;<br/>          &lt;b-nav-item to="/" :active="path  == '/'"&gt;Home&lt;/b-nav-item&gt;<br/>        &lt;/b-navbar-nav&gt;<br/>      &lt;/b-collapse&gt;<br/>    &lt;/b-navbar&gt;<br/>    &lt;router-view /&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="25df" class="lq lr it lh b gy lw lt l lu lv">&lt;script&gt;<br/>export default {<br/>  data() {<br/>    return {<br/>      path: this.$route &amp;&amp; this.$route.path<br/>    };<br/>  },<br/>  watch: {<br/>    $route(route) {<br/>      this.path = route.path;<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="ac98" class="lq lr it lh b gy lw lt l lu lv">&lt;style lang="scss"&gt;<br/>.page {<br/>  padding: 20px;<br/>  margin: 0 auto;<br/>}</span><span id="e1df" class="lq lr it lh b gy lw lt l lu lv">button,<br/>.btn.btn-primary {<br/>  margin-right: 10px !important;<br/>}</span><span id="1efc" class="lq lr it lh b gy lw lt l lu lv">.button-toolbar {<br/>  margin-bottom: 10px;<br/>}<br/>&lt;/style&gt;</span></pre><p id="4b17" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将在我们页面的顶部添加一个引导导航条，并添加一个<code class="fe le lf lg lh b">router-view</code>来显示我们定义的路线。</p><p id="eae0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来在<code class="fe le lf lg lh b">main.js</code>中，将代码替换为:</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="21e6" class="lq lr it lh b gy ls lt l lu lv">import Vue from 'vue'<br/>import App from './App.vue'<br/>import router from './router'<br/>import store from './store'<br/>import BootstrapVue from "bootstrap-vue";<br/>import "bootstrap/dist/css/bootstrap.css";<br/>import "bootstrap-vue/dist/bootstrap-vue.css";<br/>Vue.use(BootstrapVue);</span><span id="4576" class="lq lr it lh b gy lw lt l lu lv">Vue.config.productionTip = false</span><span id="4bd2" class="lq lr it lh b gy lw lt l lu lv">new Vue({<br/>  router,<br/>  store,<br/>  render: h =&gt; h(App)<br/>}).$mount('#app')</span></pre><p id="0cc4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将我们安装的库添加到我们的应用程序中，因此我们可以在我们的组件中使用它们。</p><p id="3cfc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<code class="fe le lf lg lh b">router.js</code>中，我们将现有代码替换为:</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="917c" class="lq lr it lh b gy ls lt l lu lv">import Vue from "vue";<br/>import Router from "vue-router";<br/>import Home from "./views/Home.vue";</span><span id="1d2d" class="lq lr it lh b gy lw lt l lu lv">Vue.use(Router);</span><span id="d9be" class="lq lr it lh b gy lw lt l lu lv">export default new Router({<br/>  mode: "history",<br/>  base: process.env.BASE_URL,<br/>  routes: [<br/>    {<br/>      path: "/",<br/>      name: "home",<br/>      component: Home<br/>    }<br/>  ]<br/>});</span></pre><p id="5a14" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这包括我们的主页和搜索页面。</p><p id="d903" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后在<code class="fe le lf lg lh b">store.js</code>中，我们将现有代码替换为:</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="083c" class="lq lr it lh b gy ls lt l lu lv">import Vue from "vue";<br/>import Vuex from "vuex";</span><span id="1fb2" class="lq lr it lh b gy lw lt l lu lv">Vue.use(Vuex);</span><span id="63f7" class="lq lr it lh b gy lw lt l lu lv">export default new Vuex.Store({<br/>  state: {<br/>    images: []<br/>  },<br/>  mutations: {<br/>    setImages(state, payload) {<br/>      state.images = payload;<br/>    }<br/>  },<br/>  actions: {}<br/>});</span></pre><p id="9807" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将我们的<code class="fe le lf lg lh b">images</code>状态添加到存储中，因此我们可以在<code class="fe le lf lg lh b">HomePage</code>的<code class="fe le lf lg lh b">computed</code>块中观察它。我们有<code class="fe le lf lg lh b">setImages</code>函数来更新<code class="fe le lf lg lh b">passwords</code>状态，我们通过调用<code class="fe le lf lg lh b">this.$store.commit(“setImages”, data);</code>在组件中使用它，就像我们在<code class="fe le lf lg lh b">HomePage</code>中做的那样。</p><p id="b2bd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，在<code class="fe le lf lg lh b">index.html</code>中，用以下代码替换现有代码:</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="f913" class="lq lr it lh b gy ls lt l lu lv">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;meta charset="utf-8" /&gt;<br/>    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge" /&gt;<br/>    &lt;meta name="viewport" content="width=device-width,initial-scale=1.0" /&gt;<br/>    &lt;link rel="icon" href="&lt;%= BASE_URL %&gt;favicon.ico" /&gt;<br/>    &lt;title&gt;Facial Detection App&lt;/title&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;noscript&gt;<br/>      &lt;strong<br/>        &gt;We're sorry but vue-face-api-tutorial-app doesn't work properly without<br/>        JavaScript enabled. Please enable it to continue.&lt;/strong<br/>      &gt;<br/>    &lt;/noscript&gt;<br/>    &lt;div id="app"&gt;&lt;/div&gt;<br/>    &lt;!-- built files will be auto injected --&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="6e9a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这就改变了标题。</p><figure class="li lj lk ll gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lx"><img src="../Images/61b7d2d5589d5a14c008d69f1adc947f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*odyYVSXyD8k5hy3yd2Hy6w.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@madebymarius?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Marius Ciocirlan </a>在<a class="ae kf" href="https://unsplash.com/s/photos/man?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="d643" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在所有的努力之后，我们可以通过运行<code class="fe le lf lg lh b">npm run serve</code>来启动我们的app。</p><p id="05fc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了启动后端，我们首先通过运行<code class="fe le lf lg lh b">npm i json-server</code>来安装<code class="fe le lf lg lh b">json-server</code>包。然后，转到我们的项目文件夹并运行:</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="9c31" class="lq lr it lh b gy ls lt l lu lv">json-server --watch db.json</span></pre><p id="e100" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<code class="fe le lf lg lh b">db.json</code>中，将文本改为:</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="d789" class="lq lr it lh b gy ls lt l lu lv">{<br/>  "images": [<br/>  ]<br/>}</span></pre><p id="45ee" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以我们有了在可用的<code class="fe le lf lg lh b">requests.js</code>中定义的<code class="fe le lf lg lh b">images</code>端点。</p><p id="5e9c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">经过所有的艰苦工作，我们得到了以下结果:</p><figure class="li lj lk ll gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ly"><img src="../Images/9d8f445ee0a73be5bb0cb1efaa290c4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q4UI6GyydD3_zVV0LnXjMw.png"/></div></div></figure><figure class="li lj lk ll gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ly"><img src="../Images/f524df82d48cdd60cc019bb8db537859.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SFEsF7xCm1dlpbD9dp-sGA.png"/></div></div></figure><p id="e241" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正如你所看到的，face-api.js在检测男性和女性面部的性别和面部表情方面都相当准确。年龄看起来也很接近你的预期。这是令人兴奋的，因为由于face-api.js的开发人员，制作这个应用程序并没有做很多工作</p></div></div>    
</body>
</html>