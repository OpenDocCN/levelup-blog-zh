<html>
<head>
<title>Simplify your code: don't use "else"!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">简化你的代码:不要用“else”！</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/simplify-your-code-dont-use-else-7fcbe32a353e?source=collection_archive---------12-----------------------#2022-11-01">https://levelup.gitconnected.com/simplify-your-code-dont-use-else-7fcbe32a353e?source=collection_archive---------12-----------------------#2022-11-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="567a" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">将“不要使用else”原则应用到实际例子中</h2><div class=""/><div class=""><h2 id="bd02" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">如何避免使用else关键字以使代码更易于阅读和维护的真实例子</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/efc0a83dba19b74184c5c472cfae0348.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KS6LK4j2thi4dLyZ"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">伊利亚·巴甫洛夫在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="779d" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">作为开发人员，我们花更多的时间审查和阅读代码，而不是编写新功能和新内容。这意味着优化我们代码的可读性和可维护性将导致生产力的整体提高。考虑到这一点，有几个指导方针可以帮助我们实现这个目标。这些指导方针被称为目标健美操，是由杰夫·贝在《思想作品选集》一书中提出的。你可以找到这本书的链接，以及一篇解释它们是什么的文章和Nick Chapsas关于同一主题的视频，如果你想了解更多的信息。其中描述的原则之一是不要使用else关键字，这也是我在本文中关注的地方。</p><p id="c7a6" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">人们偶然发现的许多例子都非常简单，与现实生活中的场景没有真正联系，这使得人们更难理解为什么这是一件好事。在本文中，我将展示一个真实的例子，以及如何应用一些与if语句相关的重构技术来使您的代码更容易理解</p><h1 id="421b" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">形势</h1><p id="419f" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">每个需要实现的后端服务都需要某种身份验证，通过API key进行身份验证是最简单的方法之一，同时也非常有效。在这种情况下，API密钥是通过一个头提供的，下面的要点描述了验证API密钥被接受的过程。找到以下要点:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="6557" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在这段代码中，我们所关心的积极的场景是当头部带有一个值并且这个值是我们在设置中识别的值时。然而，从代码中可以看出，这种情况并不明显。让我们来看看这段代码的几个问题:</p><ol class=""><li id="9fbc" class="na nb iq lh b li lj ll lm lo nc ls nd lw ne ma nf ng nh ni bi translated">有两个连续的if，第一个包含了几乎所有的逻辑。这打破了目标健美操的另一个原则，即每种方法只能有一级缩进</li><li id="04ef" class="na nb iq lh b li nj ll nk lo nl ls nm lw nn ma nf ng nh ni bi translated">很难理解哪一个与哪一个“如果”相关，因为在那些“如果”中有很多逻辑</li></ol><p id="fd9e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">让我们一次研究一下每个问题的解决方案。</p><h1 id="0797" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">解决方案1——提前退出</h1><p id="58b5" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">我们可以通过应用早期退出原则来简化这段代码。在这种情况下，因为我们不在乎处理任何没有在头中提供的API键的东西，我们可以在那个时候返回。请看这里的例子:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="a474" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">通过退出first，我们已经解决了两个问题:</p><ul class=""><li id="579a" class="na nb iq lh b li lj ll lm lo nc ls nd lw ne ma no ng nh ni bi translated">现在，在没有提供API键的情况下，我们该做什么就更清楚了</li><li id="c61f" class="na nb iq lh b li nj ll nk lo nl ls nm lw nn ma no ng nh ni bi translated">现在整个方法只有一级缩进</li></ul><p id="745e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这段代码还有另一个问题，那就是else关键字的用法。让我们现在解决这个问题</p><h1 id="57b5" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">解决方案2—删除else关键字</h1><p id="16f5" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">因为无论它是负的还是正的，我们都不需要处理更多的逻辑，所以一旦执行了正的场景，我们就可以返回。请参见下面的重构示例:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="9395" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如您所见，这个想法非常简单，只需在if块中添加一个return语句。这确保了遵循更线性的逻辑以及一级缩进。</p><h1 id="fb99" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">结论</h1><p id="902a" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">像对象柔软体操这样的指导方针很容易理解，但是正如你在这个例子中看到的，它们非常强大，可以使你的代码更具可读性，并确保下次你必须通读这段代码时，你会更容易理解它。</p><p id="7fd4" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如果你想讨论，请在这里随意发表评论，或者在这些社交网络上找到我:<a class="ae le" href="https://linktr.ee/joaonadais" rel="noopener ugc nofollow" target="_blank">linktr.ee/joaonadais</a>。</p><p id="1e64" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">下一场见！</p><h1 id="9eb1" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">资源</h1><p id="39fc" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">思想作品选集:https://pragprog.com/search/?q =思想作品选集</p><p id="9d20" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">目标健身操:<a class="ae le" href="https://blog.avenuecode.com/object-calisthenics-principles-for-better-object-oriented-code" rel="noopener ugc nofollow" target="_blank">https://blog . avenue code . com/object-benjamins-principles-for-better-object-oriented-code</a></p><p id="42e5" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">尼克·查普萨斯实物健美操视频:https://www.youtube.com/watch?v=gyrSiY4SHxI</p><p id="00eb" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">要点:</p><ul class=""><li id="7260" class="na nb iq lh b li lj ll lm lo nc ls nd lw ne ma no ng nh ni bi translated"><a class="ae le" href="https://gist.github.com/nadais/d8aa732c5fdef43448bb71a7d458dc15" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/nada is/d 8 aa 732 C5 fdef 43448 bb 71 a7d 458 DC 15</a></li><li id="e829" class="na nb iq lh b li nj ll nk lo nl ls nm lw nn ma no ng nh ni bi translated"><a class="ae le" href="https://gist.github.com/nadais/e235cbde211add3d0d0c997fef465936" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/nada is/e 235 cbde 211 add 3d 0d 0 c 997 fef 465936</a></li><li id="3dc7" class="na nb iq lh b li nj ll nk lo nl ls nm lw nn ma no ng nh ni bi translated"><a class="ae le" href="https://gist.github.com/nadais/14c38f78d8782afc1a4ee279a34f7470" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/nada is/14 c 38 f 78d 8782 AFC 1 a4 ee 279 a 34 f 7470</a></li></ul></div></div>    
</body>
</html>