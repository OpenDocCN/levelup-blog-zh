<html>
<head>
<title>Docker Security 😇</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">码头保安😇</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/docker-security-5f4df118948c?source=collection_archive---------7-----------------------#2021-02-03">https://levelup.gitconnected.com/docker-security-5f4df118948c?source=collection_archive---------7-----------------------#2021-02-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ffbd" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">码头工人安全实践指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/dc7add1d56dc647e7a2dbd7a8ce50609.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*r4ZMVDm0J0WtgNKQ"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">安德烈·沙皮洛在Unsplash<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">上拍摄的照片</a></figcaption></figure><p id="342f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我见过的大多数公司至少在一个项目或服务中部署了Docker映像。Docker之所以伟大，是因为它通过在很大程度上指定环境，使内容具有可复制性。但是，你还是要考虑安全性。让我们仔细看看！</p><h1 id="20ce" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">主机安全性</h1><p id="e644" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">所有Docker容器都运行在一个主机系统上。主机需要安全，容器也需要安全。</p><p id="0a84" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有各种针对Linux系统的漏洞扫描、审计和强化工具:</p><ul class=""><li id="6f5b" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated">Lynis :执行<code class="fe nb nc nd ne b">sudo apt-get install lynis &amp;&amp; sudo lynis audit system</code>并等待几分钟，你会得到一个非常好的报告，指出你可以做些什么来强化你的系统。</li><li id="e84e" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">SELinux :作为内核模块提供强制访问控制(MAC)。托马斯·卡梅隆对SELinux 进行了<a class="ae ky" href="https://www.youtube.com/watch?v=_WOKRaM-HI4" rel="noopener ugc nofollow" target="_blank">介绍。SELinux和AppArmor的关键点是访问控制策略。默认情况下，Linux使用自主访问控制(DAC)。SELinux和AppArmor执行MAC。</a><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/effective-access-control-331f883cb0ff">了解更多差异</a>。<a class="nk nl ep" href="https://medium.com/u/ee455f5da731?source=post_page-----5f4df118948c--------------------------------" rel="noopener" target="_blank"> Luc Juggery </a>很好的介绍了<a class="ae ky" href="https://medium.com/lucjuggery/docker-selinux-30-000-foot-view-30f6ef7f621" rel="noopener"> SELinux &amp; Docker </a>。</li><li id="a66f" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated"><a class="ae ky" href="https://en.wikipedia.org/wiki/AppArmor" rel="noopener ugc nofollow" target="_blank"> AppArmor </a>:提供MAC即服务。它区分无约束和有约束的过程。它忽略了不受限制的进程。受限流程可能只做根据该流程的表观轮廓允许他们做的事情。<a class="ae ky" href="http://sarnold.org/resume/sarnold.html" rel="noopener ugc nofollow" target="_blank"> Seth Arnold </a>对<a class="ae ky" href="https://www.youtube.com/watch?v=PRZ59lxLlOY" rel="noopener ugc nofollow" target="_blank"> AppArmor 3.0 </a>做了一次很好的演讲。同样，<a class="nk nl ep" href="https://medium.com/u/ee455f5da731?source=post_page-----5f4df118948c--------------------------------" rel="noopener" target="_blank"> Luc Juggery </a>为<a class="ae ky" href="https://medium.com/lucjuggery/docker-apparmor-30-000-foot-view-60c5a5deb7b" rel="noopener"> AppArmor &amp; Docker </a>写了一份实践指南。</li><li id="9001" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">Docker守护进程:以非特权用户的身份运行守护进程。尤其不能作为root。</li></ul><p id="e478" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该定期检查漏洞数据库。如果他们发现一个问题，你需要一个有效的方法来得到通知，例如，通过发布到一个松弛的渠道。</p><p id="29d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你也可以使用一个针对容器优化的操作系统，例如<a class="ae ky" href="https://cloud.google.com/container-optimized-os" rel="noopener ugc nofollow" target="_blank">谷歌容器优化操作系统</a> (COS)。</p><p id="9aa4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">关于主机系统还有很多东西要说，但这不是本文的重点。如果你感兴趣，我会写一篇后续文章🙂</p></div><div class="ab cl nm nn hx no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="im in io ip iq"><h1 id="18ad" class="lv lw it bd lx ly nt ma mb mc nu me mf jz nv ka mh kc nw kd mj kf nx kg ml mm bi translated">基础图像</h1><p id="3b97" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">基础形象是你的码头形象的基础。在docker文件中，用<code class="fe nb nc nd ne b">FROM</code>定义基本图像。对我来说，它通常是<code class="fe nb nc nd ne b"><a class="ae ky" href="https://hub.docker.com/_/python" rel="noopener ugc nofollow" target="_blank">python:3.8.7-slim-buster</a></code>或类似的。你需要问自己:</p><ul class=""><li id="cd27" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated">我相信基础图片的作者是出于好意吗？</li><li id="3363" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">我是否信任基础映像的作者有一个安全的开发设置，这样恶意软件就不会被无意中上传，例如，通过向帐户泄露凭据或重复使用密码？</li></ul><p id="98f9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您还应该扫描您的基本映像以查找漏洞。即使是非常标准的图像，也经常存在漏洞。有些可以通过直接运行更新来修复(例如<code class="fe nb nc nd ne b">RUN apt-get update &amp;&amp; apt-get upgrade</code>)，其他的在存储库中没有更新。但是通常你也不需要所有已安装的东西。</p><p id="68d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，alpine只分享他们已经修复的漏洞。所以扫描对他们来说可能更好看，尽管他们并没有更好。不过，阿尔卑斯山的图像要小一些。所以攻击面更小。</p></div><div class="ab cl nm nn hx no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="im in io ip iq"><h1 id="5beb" class="lv lw it bd lx ly nt ma mb mc nu me mf jz nv ka mh kc nw kd mj kf nx kg ml mm bi translated">强化你的形象</h1><p id="99a7" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">硬化是减少攻击面或增加发现和利用现有漏洞的难度的过程。它减小了你体内任何定时炸弹的爆炸半径。</p><h2 id="7468" class="ny lw it bd lx nz oa dn mb ob oc dp mf li od oe mh lm of og mj lq oh oi ml oj bi translated">仅复制必要的文件</h2><p id="5107" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">可以用<a class="ae ky" href="https://docs.docker.com/engine/reference/builder/#dockerignore-file" rel="noopener ugc nofollow" target="_blank">。dockerignore </a>文件，以确保某些文件不会被添加。</p><h2 id="3a74" class="ny lw it bd lx nz oa dn mb ob oc dp mf li od oe mh lm of og mj lq oh oi ml oj bi translated">在容器中运行非特权用户</h2><p id="f49f" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">默认情况下，您在docker容器中执行的代码使用用户ID<code class="fe nb nc nd ne b">0</code>——root运行。建议不要那样做。您可以通过多种方式改变这一点:</p><p id="8666" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在docker文件中—我更喜欢这个:</p><pre class="kj kk kl km gt ok ne ol om aw on bi"><span id="a8bd" class="ny lw it ne b gy oo op l oq or">RUN groupadd -r noroot &amp;&amp; useradd -r -g noroot noroot<br/>USER noroot</span></pre><p id="d921" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当您启动容器时:</p><pre class="kj kk kl km gt ok ne ol om aw on bi"><span id="fcfd" class="ny lw it ne b gy oo op l oq or">$ docker run -u 1000 -it python:3.9.1-buster bash<br/>I have no name!@a70ba4f24042:/$ echo $UID<br/>1000</span></pre><p id="2759" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Kubernetes通过<code class="fe nb nc nd ne b">RunAsUser</code>在<code class="fe nb nc nd ne b">securityContext</code> ( <a class="ae ky" href="https://kubernetes.io/docs/tasks/configure-pod-container/security-context/" rel="noopener ugc nofollow" target="_blank"> docs </a>)。</p><h2 id="f642" class="ny lw it bd lx nz oa dn mb ob oc dp mf li od oe mh lm of og mj lq oh oi ml oj bi translated">多阶段构建</h2><p id="40bc" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">如果攻击者能够访问您的容器，您希望他们在那里拥有尽可能少的工具。为此使用<a class="ae ky" href="https://docs.docker.com/develop/develop-images/multistage-build/" rel="noopener ugc nofollow" target="_blank">多阶段构建</a>。在构建容器中构建您的代码，并在另一个容器中使用构建的工件。另外，你的图片尺寸会变小。</p><p id="b812" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://docs.docker.com/develop/develop-images/multistage-build/" rel="noopener ugc nofollow" target="_blank"> Docker文档</a>给出了一个很好的例子:</p><pre class="kj kk kl km gt ok ne ol om aw on bi"><span id="2a17" class="ny lw it ne b gy oo op l oq or"><strong class="ne iu">FROM golang:1.7.3</strong><br/>WORKDIR /go/src/github.com/alexellis/href-counter/<br/>RUN go get -d -v golang.org/x/net/html  <br/>COPY app.go .<br/>RUN CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -o app .<br/><br/><strong class="ne iu">FROM alpine:latest</strong>  <br/>RUN apk --no-cache add ca-certificates<br/>WORKDIR /root/<br/>COPY <strong class="ne iu">--from=0</strong> /go/src/github.com/alexellis/href-counter/app .<br/>CMD ["./app"]</span></pre><h1 id="3847" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">加固你的容器</h1><h2 id="3056" class="ny lw it bd lx nz oa dn mb ob oc dp mf li od oe mh lm of og mj lq oh oi ml oj bi translated">只读根文件系统</h2><p id="1eb8" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">这取决于你如何运行docker镜像，但是如果你使用<code class="fe nb nc nd ne b">docker run</code>你可以添加<code class="fe nb nc nd ne b"><a class="ae ky" href="https://docs.docker.com/engine/reference/commandline/run/" rel="noopener ugc nofollow" target="_blank">--read-only</a></code> <a class="ae ky" href="https://docs.docker.com/engine/reference/commandline/run/" rel="noopener ugc nofollow" target="_blank">标志</a>。这使得根文件系统成为只读的。这意味着如果攻击者进入系统，他们不能在磁盘上存储任何东西或更改任何可执行文件。他们仍然可以改变记忆。</p><p id="b84d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您还应该意识到，一些非常标准的任务(如创建临时文件)显然不再有效:</p><pre class="kj kk kl km gt ok ne ol om aw on bi"><span id="fea3" class="ny lw it ne b gy oo op l oq or">$ sudo docker run -it <strong class="ne iu">--read-only</strong> python:3.9.1-buster<br/>Python 3.9.1 (default, Jan 12 2021, 16:45:25) <br/>[GCC 8.3.0] on linux<br/>Type "help", "copyright", "credits" or "license" for more information.<br/>&gt;&gt;&gt; import tempfile<br/>&gt;&gt;&gt; a = tempfile.mkdtemp()<br/>Traceback (most recent call last):<br/>  File "&lt;stdin&gt;", line 1, in &lt;module&gt;<br/>  File "/usr/local/lib/python3.9/tempfile.py", line 348, in mkdtemp<br/>    prefix, suffix, dir, output_type = _sanitize_params(prefix, suffix, dir)<br/>  File "/usr/local/lib/python3.9/tempfile.py", line 118, in _sanitize_params<br/>    dir = gettempdir()<br/>  File "/usr/local/lib/python3.9/tempfile.py", line 287, in gettempdir<br/>    tempdir = _get_default_tempdir()<br/>  File "/usr/local/lib/python3.9/tempfile.py", line 219, in _get_default_tempdir<br/>    raise FileNotFoundError(_errno.ENOENT,<br/>FileNotFoundError: [Errno 2] No usable temporary directory found in ['/tmp', '/var/tmp', '/usr/tmp', '/']</span></pre><p id="39f1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以通过将<code class="fe nb nc nd ne b">/tmp</code>安装为一个卷来解决这个问题:</p><pre class="kj kk kl km gt ok ne ol om aw on bi"><span id="4193" class="ny lw it ne b gy oo op l oq or">$ sudo docker run -it <strong class="ne iu">--mount source=myvol2,target=/tmp</strong> --read-only python:3.9.1-buster<br/>Python 3.9.1 (default, Jan 12 2021, 16:45:25) <br/>[GCC 8.3.0] on linux<br/>Type "help", "copyright", "credits" or "license" for more information.<br/>&gt;&gt;&gt; import tempfile; a = tempfile.mkdtemp()</span><span id="81d0" class="ny lw it ne b gy os op l oq or"><br/>$ sudo docker run --rm -i -v=myvol2:/tmp/v busybox find /tmp/v<br/>/tmp/v<br/>/tmp/v/tmpbhw8djco</span></pre><p id="ae0b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更好的方法是使用主机的临时文件系统:</p><pre class="kj kk kl km gt ok ne ol om aw on bi"><span id="ab99" class="ny lw it ne b gy oo op l oq or">$ sudo docker run -it <strong class="ne iu">--tmpfs /tmp</strong> --read-only python:3.9.1-buster</span></pre><h2 id="fece" class="ny lw it bd lx nz oa dn mb ob oc dp mf li od oe mh lm of og mj lq oh oi ml oj bi translated">限制能力</h2><p id="116d" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">您可以限制<a class="ae ky" href="https://man7.org/linux/man-pages/man7/capabilities.7.html" rel="noopener ugc nofollow" target="_blank"> Linux内核功能</a>:</p><pre class="kj kk kl km gt ok ne ol om aw on bi"><span id="2245" class="ny lw it ne b gy oo op l oq or">$ docker run <strong class="ne iu">--cap-drop all</strong> -it python:3.9.1-buster bash<br/>root@3c568219116e:/# groupadd -r noroot <br/><strong class="ne iu">groupadd: failure while writing changes to /etc/gshadow</strong></span></pre><p id="5251" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，您可以授予应用程序所需的权限:</p><pre class="kj kk kl km gt ok ne ol om aw on bi"><span id="a8dd" class="ny lw it ne b gy oo op l oq or">$ docker run --cap-drop all --cap-add CHOWN -it python:3.9.1-buster bash<br/>root@3c568219116e:/# groupadd -r noroot <br/>groupadd: failure while writing changes to /etc/gshadow</span></pre><p id="53f1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Kubernetes中，这是通过<code class="fe nb nc nd ne b">securityContext</code> ( <a class="ae ky" href="https://kubernetes.io/docs/tasks/configure-pod-container/security-context/" rel="noopener ugc nofollow" target="_blank">文档</a>)中的<code class="fe nb nc nd ne b">capabilities</code>来完成的。</p><h2 id="5576" class="ny lw it bd lx nz oa dn mb ob oc dp mf li od oe mh lm of og mj lq oh oi ml oj bi translated">无新权限</h2><p id="6efb" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">你可能想总是设置<code class="fe nb nc nd ne b">--security-opt=no-new-privileges</code>。它禁止容器进程获得新的特权(<a class="ae ky" href="https://docs.docker.com/engine/reference/run/#security-configuration" rel="noopener ugc nofollow" target="_blank"> docs </a>)。在Kubernetes中，这被称为<code class="fe nb nc nd ne b">allowPrivilegeEscalation</code> ( <a class="ae ky" href="https://kubernetes.io/docs/tasks/configure-pod-container/security-context/" rel="noopener ugc nofollow" target="_blank"> docs </a>)。</p><h2 id="364e" class="ny lw it bd lx nz oa dn mb ob oc dp mf li od oe mh lm of og mj lq oh oi ml oj bi translated">扫描漏洞</h2><p id="ad0b" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">quay的Clair 似乎是扫描容器漏洞的常用工具。不过，到目前为止我还没用过。</p><h1 id="e04b" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">集装箱间通信</h1><p id="7ab8" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">“深度防御”的一个关键思想是让攻击者尽可能难走每一步。如果某些东西对于应用程序的运行不是绝对必要的，那么它就是不允许的。限制容器与其他容器的通信方式是其中的一部分。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/2494d0212af87393ed69cddfcc5ec3fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t8W3Hpw3xa89r9j8JNScWw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">场景攻击者如何被受控网络通信/容器间通信阻止。图片作者:马丁·托马斯</figcaption></figure><p id="795d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">大多数公司都有很多不同的微服务在容器中运行。有些容器需要通信，有些不需要。可能有两个存在如上图所示的漏洞。后端有一个漏洞，使得攻击者能够进入容器，另一个服务可能会遭受相同的问题。但是攻击者无法直接与其他易受攻击的服务进行通信，从而避免了伤害。</p><p id="b484" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看看<a class="ae ky" href="https://docs.docker.com/config/containers/container-networking/" rel="noopener ugc nofollow" target="_blank"> Docker容器网络</a>或者<a class="ae ky" href="https://kubernetes.io/docs/concepts/services-networking/network-policies/" rel="noopener ugc nofollow" target="_blank"> Kubernetes网络政策</a>。</p></div><div class="ab cl nm nn hx no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="im in io ip iq"><h1 id="5c94" class="lv lw it bd lx ly nt ma mb mc nu me mf jz nv ka mh kc nw kd mj kf nx kg ml mm bi translated">结论</h1><p id="9eac" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">集装箱安全是一个非常广泛的领域。NIST应用程序容器安全指南比这篇文章更广泛，OWASP Docker备忘单也差不多长。Tsvi Korren做了一个关于容器安全性的非常好的演示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ou ov l"/></div></figure><p id="25ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在安全方面，很难推荐该做什么。为了最大限度的安全，你什么都想做。但是一个非常简短且可行的指南应该是:</p><ul class=""><li id="e229" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated">确保使用众所周知的、可信的、经过维护的基础映像。</li><li id="f91d" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">只安装你需要的软件，只复制你使用的文件。如果您需要软件来构建软件，请尝试多阶段构建。</li><li id="4515" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">使用非超级用户。</li><li id="c336" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">限制特权/容器间通信。</li><li id="2d37" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">使用只读文件系统。</li><li id="c4a4" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">获得自动扫描漏洞并在发现新漏洞时向您发出警报的工作流程。</li></ul><h1 id="5d9b" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">下一步是什么？</h1><p id="faeb" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在这个关于应用安全(AppSec)的系列文章中，我们已经解释了攻击者的一些技术😈以及防守队员的技术😇：</p><ul class=""><li id="b3f5" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated">第1部分:<a class="ae ky" href="https://medium.com/faun/sql-injections-e8bc9a14c95" rel="noopener"> SQL注入</a>😈</li><li id="8d29" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">第二部:<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/leaking-secrets-240a3484cb80">不要泄露秘密</a>😇</li><li id="f5a5" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">第3部分:<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/cross-site-scripting-xss-fd374ce71b2f">跨站脚本(XSS) </a>😈</li><li id="2a11" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">第4部分:<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/password-hashing-eb3b97684636">密码哈希</a>😇</li><li id="8332" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">第五部分:<a class="ae ky" href="https://medium.com/bugbountywriteup/zip-bombs-30337a1b0112" rel="noopener"> ZIP炸弹</a>😈</li><li id="53e7" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">第六部分:<a class="ae ky" href="https://medium.com/plain-and-simple/captcha-500991bd90a3" rel="noopener">验证码</a>😇</li><li id="693a" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">第7部分:<a class="ae ky" href="https://medium.com/bugbountywriteup/email-spoofing-9da8d33406bf" rel="noopener">电子邮件欺骗</a>😈</li><li id="e88f" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">第8部分:<a class="ae ky" href="https://medium.com/python-in-plain-english/software-composition-analysis-sca-7e573214a98e" rel="noopener">软件组成分析</a> (SCA)😇</li><li id="be91" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">第九部分:<a class="ae ky" href="https://medium.com/faun/xxe-attacks-750e91448e8f" rel="noopener"> XXE袭击事件</a>😈</li><li id="0f03" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">第十部分:<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/effective-access-control-331f883cb0ff">有效的访问控制</a>😇</li><li id="60b4" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">第十一部分:<a class="ae ky" href="https://medium.com/bugbountywriteup/dos-via-a-billion-laughs-9a79be96e139" rel="noopener"> DOS via十亿次大笑</a>😈</li><li id="d577" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">第十二部分:<a class="ae ky" href="https://medium.com/faun/full-disk-encryption-2090489f9760" rel="noopener">全磁盘加密</a>😇</li><li id="f738" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">第13部分:<a class="ae ky" href="https://medium.com/bugbountywriteup/insecure-deserialization-5c64e9943f0e" rel="noopener">不安全的反序列化</a>😈</li><li id="32f9" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">第14部分:码头安全😇</li></ul><p id="49b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这即将到来:</p><ul class=""><li id="18fa" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated">CSRF😈</li><li id="2c1f" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">磁盘操作系统😈</li><li id="d99d" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">雷多斯😈</li><li id="988f" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">凭据填充😈</li><li id="9060" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">密码劫持😈</li><li id="d3e5" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">单点登录😇</li><li id="7707" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">双因素认证😇</li><li id="85f6" class="ms mt it lb b lc nf lf ng li nh lm ni lq nj lu mx my mz na bi translated">备份😇</li></ul><p id="9e3b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您对更多关于AppSec / InfoSec的文章感兴趣，请告诉我！</p></div></div>    
</body>
</html>