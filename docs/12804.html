<html>
<head>
<title>Arducam Hawk-Eye: 64MP Camera module for the Raspberry Pi</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Arducam鹰眼:用于Raspberry Pi的6400万像素摄像头模块</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/arducam-hawk-eye-64mp-camera-module-for-the-raspberry-pi-4f451b95ed11?source=collection_archive---------9-----------------------#2022-07-11">https://levelup.gitconnected.com/arducam-hawk-eye-64mp-camera-module-for-the-raspberry-pi-4f451b95ed11?source=collection_archive---------9-----------------------#2022-07-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/1faa0422a9c49fcc8a8d7d74bfd898a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7M2uWpvWjoANOcCpzU6iLA.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">鹰眼相机模块连接到树莓Pi 4</figcaption></figure><p id="5e48" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果你以前使用过普通的Raspberry Pi相机模块，你就会知道它还有很多不足之处。Pi基金会发布的HQ相机后来解决了原始相机的一些问题，但是，笨重的镜头使它更难融入一些项目。</p><p id="50cf" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">进入<a class="ae la" href="https://www.arducam.com/product/64mp-af-for-raspberry-pi/" rel="noopener ugc nofollow" target="_blank">鹰眼相机</a>——一个小而强大的相机模块。Arducam几个月前以35美元的价格开放了这款相机模块的预购，这是一笔令人难以置信的交易，因为普通相机模块的价格如此之高，更不用说50美元起的不带任何镜头的HQ相机了。现在鹰眼已经向公众发布，其价格已跃升至60美元。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="d68d" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">设置</h1><p id="28bb" class="pw-post-body-paragraph kc kd iq ke b kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv mk kx ky kz ij bi translated">为了充分利用传感器的64MP功率，您需要一个Raspberry Pi 4或Compute Module 4，而旧的Pi限制为16MP。安装最新版本的Bullseye(从2022年1月28日或更高版本)后，可以按如下方式安装摄像机驱动程序和自定义libcamera设置:</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="8a9a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">重新启动后，我们可以通过终端列出可用的摄像机来确认安装工作正常:</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="1b3f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果您遇到未检测到摄像头的问题，请先仔细检查您的摄像头电缆，然后尝试仅重新安装摄像头驱动程序并重新启动。如果您没有编辑配置文件并首先重新启动，您将需要再次重新安装相机内核驱动程序，因为在安装驱动程序之前必须加载配置更改。</p><figure class="ml mm mn mo gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mr"><img src="../Images/b270231213547f67e0b68cde7fcf3ee0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VYr7WEQ5TBsNyMsYW8qYXQ.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">鹰眼相机模块特写</figcaption></figure></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="4b49" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">测试</h1><p id="600f" class="pw-post-body-paragraph kc kd iq ke b kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv mk kx ky kz ij bi translated">为了测试相机，我在办公室里设置了一些额外的照明，并拿了一些道具。为了拍摄出像样的照片，镜头需要大量的光线——即使是F/1.8的固定焦距比(F-Stop)。需要一个三脚架或某种支架，因为即使我的女朋友操作对焦和扳机，手持相机也很难对焦。</p><p id="f883" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们可以创建一个脚本来从相机中抓取图片，或者在设置镜头时将其用作实时视图。这将给我们一个像样的工作点和拍摄相机系统，虽然比你的标准现成的相机稍微简单一点。幸运的是，该应用程序包括web控件，因此我们可以发送命令来触发一些通过普通V4L2库不可用的操作，如自动对焦和捕捉。</p><p id="3716" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们首先需要安装Arducam发布的V4L2库，这是他们的相机无关驱动程序解决方案，用于他们的相机系列。我们还将安装<code class="fe ms mt mu mv b">readchar</code>来简化热键的读取:</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="ca89" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">默认情况下，<a class="ae la" href="https://github.com/makvoid/Blog-Articles/blob/main/Arducam-64MP-Raspberry-Pi-Camera/control.py" rel="noopener ugc nofollow" target="_blank">脚本</a>将捕获4K分辨率的图像(3840 x 2160)，但是，您可以在脚本顶部的配置中将分辨率提高到9248 x 6944。代码准备好了，现在是时候将它与其他相机进行比较了，因为我们现在已经完全控制了照片的对焦、预览和抓取。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="ec90" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">与其他相机的比较</h1><p id="ac68" class="pw-post-body-paragraph kc kd iq ke b kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv mk kx ky kz ij bi translated">为了更好地了解质量，我拿起我的DSLR和我的手机进行比较:</p><ol class=""><li id="6654" class="mw mx iq ke b kf kg kj kk kn my kr mz kv na kz nb nc nd ne bi translated">佳能T3i (600D)带佳能24–105 F/4-L(18MP)</li><li id="6b87" class="mw mx iq ke b kf nf kj ng kn nh kr ni kv nj kz nb nc nd ne bi translated">谷歌Pixel 6(非专业版)F/1.85 (50MP)</li></ol><figure class="ml mm mn mo gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nk"><img src="../Images/2738e9b271db15f0e8f2bffa4cabfac6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FR0-eiBPWrY9eEtNIJYx7Q.png"/></div></div></figure><p id="1f90" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">与DSLR相比，相机模块的质量令人印象深刻。当比较这张样本照片时，与DSLR相比，景深有点不足——但我认为考虑到镜头差异，这是可以预料的。像素的后期处理在这张照片上做了一点，在我看来，这导致了道具周围的一些奇怪的区域。</p><figure class="ml mm mn mo gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nk"><img src="../Images/d864cf4c9609d07fd8b9e6c706c2fdd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WW5FnAVfid7JAZaoE61Bkw.png"/></div></div></figure><p id="87d7" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">DSLR似乎在这次测试中获得了更多的细节，但一些后处理肯定会有助于锐化Arducam图像。与DSLR相比，Arducam在花盆背景中丢失了一些高光，但这也可以通过一些轻微的编辑来解决。</p><figure class="ml mm mn mo gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nk"><img src="../Images/8dd60cf8309bb256a438289b3a120e13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pzYDHNMuWJJRpR9g4pnXsg.png"/></div></div></figure><p id="4c6a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我还想看看相机如何处理小细节，比如打印在CPU上的文本。同样数量的细节是可见的，但是，当比较边缘点阵图案时，DSLR似乎更清晰。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="d412" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">测试项目</h1><p id="f221" class="pw-post-body-paragraph kc kd iq ke b kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv mk kx ky kz ij bi translated">这个相机模块是我计划的一个项目的组件之一，我想用树莓Pi、OBD-2模块和传感器为我的汽车建造我自己的<a class="ae la" href="https://www.youtube.com/watch?v=1Xk35CAG6Lg" rel="noopener ugc nofollow" target="_blank">性能数据记录器</a>。我还需要音频和视频数据，所以我想要一个高质量的紧凑型相机模块，可以轻松地安装在我的挡风玻璃上。</p><p id="51bd" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">为了录制音频，我按照<a class="ae la" href="https://learn.adafruit.com/usb-audio-cards-with-a-raspberry-pi/instructions" rel="noopener ugc nofollow" target="_blank">这个指南</a>设置了一个USB音频设备，因为相机没有麦克风。为了实时结合音频和视频，我选择使用<a class="ae la" href="https://ffmpeg.org/" rel="noopener ugc nofollow" target="_blank"> FFmpeg </a>，因为它在社区中得到很好的支持，并且在我的经验中一直工作得很好(它也默认包含在Raspbian中)。</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="57c7" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">运行该命令后，将出现一个实时视图窗口，允许您检查视频帧和焦点(如果需要)。一旦您记录了所有需要的内容，您可以在终端中按下<strong class="ke ir"> Ctrl+C </strong>退出命令，FFmpeg会将文件保存到命令末尾指定的路径。</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="nl mq l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">动态视频模式样本</figcaption></figure><p id="d11a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这个样本是以1080p 30fps录制的，但是分辨率可以改变为例如720p 60fps。在比较了一些测试捕获后，h264模式(默认)捕获的质量最好，并且与MJPEG模式相比具有最小的压缩率。当提高MJPEG模式的质量时，帧速率受到影响，无法保持恒定的30fps。YUV420模式也可以工作，但是它的质量太高，相机模块在1080p下不能保持超过5fps。</p><figure class="ml mm mn mo gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nk"><img src="../Images/3925e7e553f267785d5ce5aabaa78dba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dkKOCIijKSvMGNK6xLqEVg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">来自h264的帧抓取和高质量PNG捕获之间的质量比较</figcaption></figure></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="dcff" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">结论</h1><p id="a7d4" class="pw-post-body-paragraph kc kd iq ke b kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv mk kx ky kz ij bi translated">这款Arducam摄像头模块以合理的价格将出色的质量、纯色表现和许多其他出色的功能集成到一个小封装中。虽然我在这次测试中只探索了一个摄像头，但你也可以使用Arducam出售的<a class="ae la" href="https://www.arducam.com/product/64mp-quad-camera-kit/" rel="noopener ugc nofollow" target="_blank">四摄像头套件</a>同时连接两到四个摄像头。我对Arducam未来的发布感到非常兴奋，因为我只能想象再过一两年会发生什么！</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="c2bd" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">资源</h1><ul class=""><li id="986d" class="mw mx iq ke b kf mg kj mh kn nm kr nn kv no kz np nc nd ne bi translated"><a class="ae la" href="https://github.com/makvoid/Blog-Articles/tree/main/Arducam-64MP-Raspberry-Pi-Camera" rel="noopener ugc nofollow" target="_blank"> GitHub回购</a></li><li id="e120" class="mw mx iq ke b kf nf kj ng kn nh kr ni kv nj kz np nc nd ne bi translated"><a class="ae la" href="https://www.arducam.com/product/64mp-af-for-raspberry-pi/" rel="noopener ugc nofollow" target="_blank">阿杜卡姆鹰眼相机模块</a></li><li id="f4b0" class="mw mx iq ke b kf nf kj ng kn nh kr ni kv nj kz np nc nd ne bi translated"><a class="ae la" href="https://www.arducam.com/downloads/arducam_64mp_pi_camera_manual.pdf" rel="noopener ugc nofollow" target="_blank">相机模块快速入门指南</a></li></ul></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="4fa1" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">分级编码</h1><pre class="ml mm mn mo gt nq mv nr ns aw nt bi"><span id="d512" class="nu lj iq mv b gy nv nw l nx ny">Thanks for being a part of our community! More content in the <a class="ae la" href="https://levelup.gitconnected.com/" rel="noopener ugc nofollow" target="_blank">Level Up Coding publication</a>.<br/>Follow: <a class="ae la" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">Twitter</a>, <a class="ae la" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>, <a class="ae la" href="https://newsletter.levelup.dev/" rel="noopener ugc nofollow" target="_blank">Newsletter</a></span><span id="2d37" class="nu lj iq mv b gy nz nw l nx ny">Level Up is transforming tech recruiting<strong class="mv ir"> </strong>👉<strong class="mv ir"> </strong><a class="ae la" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"><strong class="mv ir">Join our talent collective</strong></a></span></pre></div></div>    
</body>
</html>