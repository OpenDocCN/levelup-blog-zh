<html>
<head>
<title>Is GraphQL the new REST ?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">GraphQL是新的REST吗？</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/is-graphql-the-new-rest-fd9db3feb72b?source=collection_archive---------16-----------------------#2020-07-20">https://levelup.gitconnected.com/is-graphql-the-new-rest-fd9db3feb72b?source=collection_archive---------16-----------------------#2020-07-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/0d26bcd83c39f9de58b29aca11fc1a0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xB3YHManYUxE8rlVz2WyAw.jpeg"/></div></div></figure><p id="1b7e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">什么是GraphQL？</strong></p><p id="baa8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="http://www.graphql.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> GraphQL </strong> </a>是一个新的API标准，它提供了一个更高效、更强大、更灵活的REST替代方案。它是由脸书创建的，目的是基于直观和灵活的语法构建客户端应用程序，用于描述它们的数据需求和交互。</p><p id="53a1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">传统REST调用的主要挑战之一是客户端无法请求定制的(有限或扩展的)数据集。在大多数情况下，一旦客户机向服务器请求信息，它要么获得所有字段，要么不获得任何字段。</p><p id="4b39" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">另一个困难是工作和维护多个端点。随着平台的发展，数量也会增加。因此，客户端经常需要从不同的端点请求数据。</p><p id="4ea6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在构建GraphQL服务器时，只需要有一个URL用于所有的数据获取和变异。因此，客户机可以通过向服务器发送一个查询字符串来请求一组数据，该字符串描述了它们想要的内容。</p><p id="c949" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">为什么选择GraphQL？</strong></p><p id="1dbf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">它解决了REST的过度提取和提取不足问题，因为客户端可以在<em class="kx">查询</em>中准确指定它需要的数据。</p><p id="3beb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">它支持快速的产品升级/版本控制，因为无需在服务器上做任何额外的工作就可以在客户端进行更改。</p><p id="25c0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Dataloder APIs通过批处理和缓存提供了一种减少通信开销的简单方法。</p><p id="7333" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> GraphQL分类法- </strong></p><ul class=""><li id="795a" class="ky kz iq ka b kb kc kf kg kj la kn lb kr lc kv ld le lf lg bi translated"><strong class="ka ir">查询:</strong>是向GraphQL服务器请求的只读操作</li><li id="9c0d" class="ky kz iq ka b kb lh kf li kj lj kn lk kr ll kv ld le lf lg bi translated"><strong class="ka ir">突变:</strong>是对GraphQL服务器的读写操作请求</li><li id="4c81" class="ky kz iq ka b kb lh kf li kj lj kn lk kr ll kv ld le lf lg bi translated"><strong class="ka ir"> Resolver: </strong>负责映射运行在负责处理请求的后端上的操作和代码。</li><li id="3fa5" class="ky kz iq ka b kb lh kf li kj lj kn lk kr ll kv ld le lf lg bi translated"><strong class="ka ir">类型:</strong>一个<em class="kx">类型</em>定义了可以从GraphQL服务器返回的响应数据的形状，包括作为其他<em class="kx">类型</em>边缘的字段</li><li id="0d0d" class="ky kz iq ka b kb lh kf li kj lj kn lk kr ll kv ld le lf lg bi translated"><strong class="ka ir">输入:</strong>类似于<em class="kx">类型，</em>但是定义了发送到GraphQL服务器的输入数据的形状</li><li id="267d" class="ky kz iq ka b kb lh kf li kj lj kn lk kr ll kv ld le lf lg bi translated"><strong class="ka ir">标量:</strong>是一个原语<em class="kx">类型</em>，比如一个<em class="kx">字符串</em>、<em class="kx"> Int </em>、<em class="kx"> Boolean </em>、<em class="kx"> Float </em>等</li><li id="b0c9" class="ky kz iq ka b kb lh kf li kj lj kn lk kr ll kv ld le lf lg bi translated"><strong class="ka ir">接口:</strong>接口将存储字段的名称和它们的参数，因此GraphQL对象可以继承它，确保特定字段的使用</li><li id="77cf" class="ky kz iq ka b kb lh kf li kj lj kn lk kr ll kv ld le lf lg bi translated"><strong class="ka ir">模式:</strong>在GraphQL中，模式管理查询和变异，定义允许在GraphQL服务器中执行什么</li></ul><p id="8aeb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> GraphQL模式加载- </strong></p><p id="504b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">将模式加载到GraphQL服务器有两种方式:</p><p id="99ec" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">1.通过使用GraphQL的接口/模式定义语言(IDL/SDL)</p><p id="6f4d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">2.通过使用一种受支持的编程语言</p><p id="b70a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们用IDL来演示一个例子:</p><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="989e" class="lv lw iq lr b gy lx ly l lz ma"><strong class="lr ir">type Employee {</strong></span><span id="8d45" class="lv lw iq lr b gy mb ly l lz ma"><strong class="lr ir">  firstName: String</strong></span><span id="3723" class="lv lw iq lr b gy mb ly l lz ma"><strong class="lr ir">}</strong></span></pre><p id="32b7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，一个使用Java代码的模式定义的例子:</p><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="4a41" class="lv lw iq lr b gy lx ly l lz ma"><strong class="lr ir">GraphQLObjectType personType = newObject().name(“Employee “)</strong></span><span id="b63b" class="lv lw iq lr b gy mb ly l lz ma"><strong class="lr ir">  .field(newFieldDefinition().name(“firstName”).type(GraphQLString))</strong></span><span id="a9de" class="lv lw iq lr b gy mb ly l lz ma"><strong class="lr ir">  .build();</strong></span></pre><p id="629b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">界面Defⁿ语- </strong></p><p id="9842" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">接口定义语言(IDL)是指定GraphQL模式的最简洁的方式。该语法定义良好，将被正式的GraphQL规范采用。</p><p id="3783" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">例如，让我们为用户/电子邮件创建一个GraphQL模式，可以这样指定:</p><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="cb22" class="lv lw iq lr b gy lx ly l lz ma"><strong class="lr ir">schema {</strong></span><span id="00b6" class="lv lw iq lr b gy mb ly l lz ma"><strong class="lr ir">  query: QueryType</strong></span><span id="af87" class="lv lw iq lr b gy mb ly l lz ma"><strong class="lr ir">}</strong></span><span id="d99b" class="lv lw iq lr b gy mb ly l lz ma"><strong class="lr ir">type User {</strong></span><span id="ca6f" class="lv lw iq lr b gy mb ly l lz ma"><strong class="lr ir">  id: String!</strong></span><span id="164f" class="lv lw iq lr b gy mb ly l lz ma"><strong class="lr ir">  firstName: String!</strong></span><span id="2138" class="lv lw iq lr b gy mb ly l lz ma"><strong class="lr ir">  lastName: String!</strong></span><span id="49ec" class="lv lw iq lr b gy mb ly l lz ma"><strong class="lr ir">  age: Int! @default(value: 0)</strong></span><span id="8ba9" class="lv lw iq lr b gy mb ly l lz ma"><strong class="lr ir">  emails: [Email!]! @relation(name: “Emails”)</strong></span><span id="521c" class="lv lw iq lr b gy mb ly l lz ma"><strong class="lr ir">}</strong></span><span id="c170" class="lv lw iq lr b gy mb ly l lz ma"><strong class="lr ir">type Email {</strong></span><span id="e88c" class="lv lw iq lr b gy mb ly l lz ma"><strong class="lr ir">  id: String!</strong></span><span id="e9fd" class="lv lw iq lr b gy mb ly l lz ma"><strong class="lr ir">  email: String!</strong></span><span id="4630" class="lv lw iq lr b gy mb ly l lz ma"><strong class="lr ir">  user: User @relation(name: “Emails”)</strong></span><span id="67e3" class="lv lw iq lr b gy mb ly l lz ma"><strong class="lr ir">}</strong></span></pre><p id="ce0e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">感谢阅读💜</strong></p></div></div>    
</body>
</html>