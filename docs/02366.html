<html>
<head>
<title>5 JavaScript Tricks That Are Good To Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">5个值得了解的JavaScript技巧</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/5-javascript-tricks-that-are-good-to-know-78045dea6678?source=collection_archive---------0-----------------------#2020-03-09">https://levelup.gitconnected.com/5-javascript-tricks-that-are-good-to-know-78045dea6678?source=collection_archive---------0-----------------------#2020-03-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/ed917affaae98f251b06294128164111.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yA7qV8SjkY7aciDw"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">Artem Sapegin 在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><div class=""/><div class=""><h2 id="7759" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">用下面的技巧列表增强你的JavaScript技能</h2></div><p id="25f0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">JavaScript是目前最流行的编程语言之一。就像任何其他编程语言一样，它有许多你今天就可以开始使用的巧妙的小技巧。</p><p id="0ff0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这些技巧中的每一个都完成了大多数开发人员每天需要完成的任务。根据你的经验，你可能已经知道其中的一些技巧，而其他的会让你大吃一惊。</p><p id="4315" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，我们将回顾一系列技巧，这些技巧将使你成为更好的开发人员，并增强你的JavaScript技能。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="9c5e" class="mb mc jj bd md me mf mg mh mi mj mk ml kp mm kq mn ks mo kt mp kv mq kw mr ms bi translated">1.每个和一些</h1><p id="0d91" class="pw-post-body-paragraph ky kz jj la b lb mt kk ld le mu kn lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated"><em class="my"> every </em>和<em class="my"> some </em>函数是并非所有开发者都熟悉的函数。然而，它们在某些情况下非常有用。让我们从每个函数的<em class="my">开始。如果想知道数组的所有元素是否都通过了某个测试，可以使用这个函数。本质上，这是在遍历数组的每个元素，并检查它们是否都为真。</em></p><p id="8dfc" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这对你来说可能听起来有点抽象，所以让我们看看下面的例子。这并不像听起来那么复杂。</p><pre class="mz na nb nc gt nd ne nf ng aw nh bi"><span id="d676" class="ni mc jj ne b gy nj nk l nl nm">const random_numbers = [ 13, 2, 37, 18, 5 ]<br/>const more_random_numbers = [ 0, -1, 30, 22 ]</span><span id="47e1" class="ni mc jj ne b gy nn nk l nl nm">const isPositive = (number) =&gt; {<br/>  return number &gt; 0<br/>}</span><span id="b5b4" class="ni mc jj ne b gy nn nk l nl nm">random_numbers.every(isPositive); // returns true<br/>more_random_numbers.every(isPositive); // returns false</span></pre><p id="3cbb" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">每个函数都会返回一个布尔值。如果数组中的所有元素都通过测试，将返回<em class="my"> true </em>。如果数组中的一个元素测试失败，将返回<em class="my"> false </em>。</p><p id="54c4" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您愿意，您也可以使用匿名函数作为测试函数:</p><pre class="mz na nb nc gt nd ne nf ng aw nh bi"><span id="4bc3" class="ni mc jj ne b gy nj nk l nl nm">random_numbers.every((number) =&gt; {<br/>    return number &gt; 0<br/>})</span></pre><p id="1cb5" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="my">的某些</em>功能几乎与<em class="my">的所有</em>功能完全相同。只有一个主要的区别:<em class="my"> some </em>函数测试数组中是否至少有一个元素通过了测试。</p><p id="699e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们看一下前面的例子，使用<em class="my"> some </em>函数而不是<em class="my"> every </em>函数，两个数组都将返回<em class="my"> true </em>，因为两个数组都包含一个正数。</p><pre class="mz na nb nc gt nd ne nf ng aw nh bi"><span id="aef8" class="ni mc jj ne b gy nj nk l nl nm">const random_numbers = [ 13, 2, 37, 18, 5 ]<br/>const more_random_numbers = [ 0, -1, 30, 22 ]</span><span id="e7b8" class="ni mc jj ne b gy nn nk l nl nm">const isPositive = (number) =&gt; {<br/>  return number &gt; 0<br/>}</span><span id="7585" class="ni mc jj ne b gy nn nk l nl nm">random_numbers.some(isPositive); // returns true<br/>more_random_numbers.some(isPositive); // returns true</span></pre></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="b0fd" class="mb mc jj bd md me mf mg mh mi mj mk ml kp mm kq mn ks mo kt mp kv mq kw mr ms bi translated">2.有条件地设置变量</h1><p id="c8ce" class="pw-post-body-paragraph ky kz jj la b lb mt kk ld le mu kn lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">有条件地设置变量既简单又让你的代码看起来更优雅。应用这个技巧时不需要写if语句——这是我个人最喜欢的JavaScript技巧之一。</p><p id="9616" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">那么如何有条件地设置一个变量呢？</p><pre class="mz na nb nc gt nd ne nf ng aw nh bi"><span id="435b" class="ni mc jj ne b gy nj nk l nl nm">const timezone = user.preferred_timezone || 'America/New_York'</span></pre><p id="f70b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在上面的例子中，我们检查用户是否有首选时区。如果用户有首选时区，我们就使用那个时区。如果用户没有首选时区，我们使用默认时区，即“美国/纽约”。</p><p id="323d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这段代码看起来比使用if语句时干净多了。</p><pre class="mz na nb nc gt nd ne nf ng aw nh bi"><span id="f8c3" class="ni mc jj ne b gy nj nk l nl nm">let timezone = 'America/New_York'</span><span id="876d" class="ni mc jj ne b gy nn nk l nl nm">if (user.preferred_timezone) {<br/>    timezone = user.preferred_timezone<br/>}</span></pre><p id="2f89" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">看起来干净多了，不是吗？</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="7238" class="mb mc jj bd md me mf mg mh mi mj mk ml kp mm kq mn ks mo kt mp kv mq kw mr ms bi translated">3.在数组中强制转换值</h1><p id="98fb" class="pw-post-body-paragraph ky kz jj la b lb mt kk ld le mu kn lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">有时你想把所有的值放在一个数组里。例如，当您使用三重等于运算符来检查数组中是否存在某个数字时，就会出现这种情况。</p><p id="d666" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我最近遇到了一个问题，我有一个多选。select选项的HTML值是字符串而不是整数，这是有意义的。选定值的数组如下所示:</p><pre class="mz na nb nc gt nd ne nf ng aw nh bi"><span id="dbd1" class="ni mc jj ne b gy nj nk l nl nm">let selected_values = [ '1', '5', '8' ]</span></pre><p id="f2d7" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">问题是我在检查某个整数是否存在于所选值的数组中。没有成功。我使用了一个使用三重等于运算符的交集函数。因为我必须找到一个解决方案。</p><p id="1920" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我看来，最好的解决方案是将数组中的所有值转换成一个整数。在尝试这样做的时候，我偶然发现了一个简单却优雅的解决方案。</p><pre class="mz na nb nc gt nd ne nf ng aw nh bi"><span id="1516" class="ni mc jj ne b gy nj nk l nl nm">selected_values = selected_values.map(Number) // [ 1, 5, 8 ]</span></pre><p id="9215" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">除了将所有值转换为整数，还可以通过简单地更改map函数的参数将数组中的所有值转换为布尔值。</p><pre class="mz na nb nc gt nd ne nf ng aw nh bi"><span id="286f" class="ni mc jj ne b gy nj nk l nl nm">selected_values = selected_values.map(Boolean)</span></pre></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="8b0e" class="mb mc jj bd md me mf mg mh mi mj mk ml kp mm kq mn ks mo kt mp kv mq kw mr ms bi translated">4.对象析构</h1><p id="a307" class="pw-post-body-paragraph ky kz jj la b lb mt kk ld le mu kn lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">一旦你知道了对象析构，你可能每天都会用到它。</p><p id="b522" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是到底什么是解构？</p><p id="7a0e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">析构是一个JavaScript表达式，允许你从数组、对象、映射和集合中提取数据到它们自己的变量中。它允许您从一个对象或数组中提取属性，一次提取多个。</p><p id="c8b7" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们看看下面的例子，我们有一个用户对象。如果你想把用户名存储在一个变量中，你必须在新的一行把它赋给一个变量。如果你想在一个变量中存储性别，你必须再次做同样的事情。</p><pre class="mz na nb nc gt nd ne nf ng aw nh bi"><span id="5a6e" class="ni mc jj ne b gy nj nk l nl nm">const user = {<br/>    name: 'Frank',<br/>    age: 23,<br/>    gender: 'M',<br/>    member: false<br/>}</span><span id="ae7d" class="ni mc jj ne b gy nn nk l nl nm">const name = user.name<br/>const gender = user.gender</span></pre><p id="a44f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通过析构，您可以使用以下语法直接获取对象属性的变量:</p><pre class="mz na nb nc gt nd ne nf ng aw nh bi"><span id="c117" class="ni mc jj ne b gy nj nk l nl nm">const { name, age, gender, member } = user;</span><span id="ad81" class="ni mc jj ne b gy nn nk l nl nm">console.log(name)   // Frank<br/>console.log(age)    // <a class="ae jg" href="https://medium.com/@kunaltandon.kt" rel="noopener">2</a>3<br/>console.log(gender) // M<br/>console.log(member) // false</span></pre></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="fdea" class="mb mc jj bd md me mf mg mh mi mj mk ml kp mm kq mn ks mo kt mp kv mq kw mr ms bi translated">5.更好的调试使用性能</h1><p id="7e56" class="pw-post-body-paragraph ky kz jj la b lb mt kk ld le mu kn lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">作为开发人员，你经常要做的事情之一就是调试。然而，调试不仅仅是使用<em class="my"> console.log </em>在控制台中打印出一堆日志消息。</p><p id="fd4f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您知道控制台对象有一个很好的方法来分析代码片段的性能吗？然而，大多数开发人员只知道调试代码的标准<em class="my"> console.log </em>方式。</p><p id="464b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">控制台对象有更多有用的功能。它有一个<em class="my">时间</em>和<em class="my">时间结束</em>功能，可以帮助您分析性能。它的工作非常简单。</p><p id="5092" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在您想要测试的代码前面，您调用<em class="my"> console.time </em>函数。这个函数有一个参数，它接受一个描述您想要分析的内容的字符串。在想要测试的代码的末尾，调用<em class="my"> console.timeEnd </em>函数。您给这个函数的字符串与第一个参数相同。然后，您将看到在控制台中运行代码所花费的时间。</p><pre class="mz na nb nc gt nd ne nf ng aw nh bi"><span id="d4a9" class="ni mc jj ne b gy nj nk l nl nm">console.time('loop')  </span><span id="df0f" class="ni mc jj ne b gy nn nk l nl nm">for (let i = 0; i &lt; 10000; i++) {   <br/>    // Do stuff here <br/>}  </span><span id="1d24" class="ni mc jj ne b gy nn nk l nl nm">console.timeEnd('loop')</span></pre></div></div>    
</body>
</html>