<html>
<head>
<title>Automate the Boring Stuff with Postman: Discord Bots</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用邮递员:不和谐机器人自动化无聊的东西</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/automate-the-boring-stuff-with-postman-discord-bots-9a2ad0088792?source=collection_archive---------15-----------------------#2021-07-14">https://levelup.gitconnected.com/automate-the-boring-stuff-with-postman-discord-bots-9a2ad0088792?source=collection_archive---------15-----------------------#2021-07-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c518" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Postman创建简单、快速、低代码的无服务器不和谐自动化机器人。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f566b88061bfe4dadb7cec2d3c17a012.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qpnMxp5i9_hNStJMc98rTQ.jpeg"/></div></div></figure></div><div class="ab cl ku kv hx kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="im in io ip iq"><p id="eb1d" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">我将演示如何使用Postman创建一个不和谐的机器人，而不必对整个服务器进行编码。我将使用的集合从每日活动列表中随机选择或“牺牲”一个用户，并发布消息标记他们。这个机器人是用来引发讨论和保持人们的参与。这可以很容易地编辑，以创建任何类型的预定消息传递机器人。</p><p id="f3fe" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">有几种不同的方法可以不和谐地做到这一点。但是最简单的方法是创建一个不和谐的Webhook，将消息发送到一个通道，然后将我们的消息发送到特定通道的webhook。我们可以在Discord服务器设置中创建一个webhook，但为了让任何想下载并使用我们的bot的人更容易，我们将使用Discord APIs和Postman创建一个webhook。</p><p id="a185" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">为了利用这一点，我们将利用</p><h2 id="0976" class="lx ly it bd lz ma mb dn mc md me dp mf lk mg mh mi lo mj mk ml ls mm mn mo mp bi translated">1.进入<a class="ae mq" href="https://discord.com/developers/applications" rel="noopener ugc nofollow" target="_blank"> Discord开发者门户</a>并创建一个Discord应用</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mr"><img src="../Images/8822a4adff1723400ed29fd955a976fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DDepEat9hhzKsAzXogz4AQ.png"/></div></div></figure><h2 id="3124" class="lx ly it bd lz ma mb dn mc md me dp mf lk mg mh mi lo mj mk ml ls mm mn mo mp bi translated"><strong class="ak"> 2。让我们添加一个机器人并获取机器人令牌</strong></h2><p id="1ed9" class="pw-post-body-paragraph lb lc it ld b le ms ju lg lh mt jx lj lk mu lm ln lo mv lq lr ls mw lu lv lw im bi translated">您可以在这里添加图像和用户名，以便在bot向频道发布内容时使用。您将向每个请求添加Bot令牌，以便使用Discord API进行身份验证。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mx"><img src="../Images/7c290c6da1d8e98648ca7244cdb77e0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RBmzGbwyw1Oq-E-BB6smXw.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/96f4cfcdefce51c62e099a113ca6142a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r4U-5sArkkuYIiPbM-J5kQ.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/7057aaf624d4c89e6dfcd778baf5cf46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4riTr70u1rGs7yRxZJgM5A.png"/></div></div></figure><h2 id="3da5" class="lx ly it bd lz ma mb dn mc md me dp mf lk mg mh mi lo mj mk ml ls mm mn mo mp bi translated">3.获取我们要发布到的频道ID</h2><p id="f087" class="pw-post-body-paragraph lb lc it ld b le ms ju lg lh mt jx lj lk mu lm ln lo mv lq lr ls mw lu lv lw im bi translated">获取频道ID的最简单方法是在web浏览器中导航到您的Discord，然后简单地转到该频道并复制ID。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/8d2febb59c7e722c37e00ed4ac4e8035.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*azlxxpsX5ta-VCPr2085oA.png"/></div></div></figure><h2 id="a231" class="lx ly it bd lz ma mb dn mc md me dp mf lk mg mh mi lo mj mk ml ls mm mn mo mp bi translated">4.使用Postman，让我们获取最近活跃的Discord用户列表。</h2><p id="d658" class="pw-post-body-paragraph lb lc it ld b le ms ju lg lh mt jx lj lk mu lm ln lo mv lq lr ls mw lu lv lw im bi translated">根据Discord API，我们可以通过调用<em class="nb">/channels/{ { channel _ id } }/messages，</em>得到最近的所有消息，然后我用一些javascript把作者拉出来，保存为一个环境变量。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nc"><img src="../Images/7afbd60dea20d3cf29a2119cc8b062ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T4L4gt3Nr0LnYqNiJMjQWA.png"/></div></div></figure><p id="eb94" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">接下来，我检查是否已经创建了一个webhook，如果没有，我继续下一个创建webhook的请求。如果已经创建了一个webhook，那么我可以使用<em class="nb"> postman.setNextRequest() </em>跳过下一个请求，直接进入最后一个请求。</p><h2 id="e72c" class="lx ly it bd lz ma mb dn mc md me dp mf lk mg mh mi lo mj mk ml ls mm mn mo mp bi translated">5.创建一个网页挂钩</h2><p id="24d3" class="pw-post-body-paragraph lb lc it ld b le ms ju lg lh mt jx lj lk mu lm ln lo mv lq lr ls mw lu lv lw im bi translated">创建webhook后，我们有了一个webhook id和一个webhook令牌。我把这些留着以后用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/1127e99e44254c6b2c6e740aaa02b24f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9XjuuTt_l6wR7iNbwvvsjg.png"/></div></div></figure><h2 id="39fa" class="lx ly it bd lz ma mb dn mc md me dp mf lk mg mh mi lo mj mk ml ls mm mn mo mp bi translated">6.发送频道消息</h2><p id="f2cb" class="pw-post-body-paragraph lb lc it ld b le ms ju lg lh mt jx lj lk mu lm ln lo mv lq lr ls mw lu lv lw im bi translated">在这里，我们使用我们制作的webhook来发送一条消息。</p><p id="9c77" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">请注意我的请求正文，因为这是我们可以格式化我们发送的消息的地方。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/39adf42c8b089bbe27c4185ca6f9e3a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jDwIEHjpmt97569sxKFlNw.png"/></div></div></figure><h2 id="6fb4" class="lx ly it bd lz ma mb dn mc md me dp mf lk mg mh mi lo mj mk ml ls mm mn mo mp bi translated">7.将机器人添加到频道</h2><p id="1e04" class="pw-post-body-paragraph lb lc it ld b le ms ju lg lh mt jx lj lk mu lm ln lo mv lq lr ls mw lu lv lw im bi translated">要将机器人添加到频道，您必须转到应用程序的OAuth部分，并生成一个OAuth链接来验证您自己并添加机器人。</p><p id="b9fc" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">首先添加邮差OAuth2.0回调:<a class="ae mq" href="https://www.postman.com/oauth2/callback." rel="noopener ugc nofollow" target="_blank"><em class="nb">https://www.postman.com/oauth2/callback.</em></a></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/aa02757cda0a97dfba7bbdb92c58c6b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mZlOznAqHk_E6_0d9kkq6A.png"/></div></div></figure><p id="8f0a" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">它不允许你生成一个没有这个链接，因为这是一个有效的链接，它应该工作。</p><p id="4633" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">接下来，单击bot作用域，然后授予bot在您的服务器上运行所需的权限。取决于你希望机器人做什么，比如读和写信息，将取决于你的应用程序做什么。</p><p id="d8cc" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">对于我们的系统，我们需要生成和读取现有的webhooks，并向服务器写入消息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/c72d02b12a8f0e4401e2c68b0d6a0356.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MdGE4agK8Svp4NKC6Xj0wg.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/a5a2a570a63d0d41805b59d7a4526960.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q6wflb0_1Aq0PkkTLj-teg.png"/></div></div></figure><p id="393d" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated"><strong class="ld iu"> <em class="nb">请在此之后，复制链接并粘贴到您的浏览器中。它将验证您的用户身份，并允许您将bot添加到您运行和管理的服务器中。瞧啊。现在，您的服务器上已经有了您的机器人！</em>T3】</strong></p><h2 id="6099" class="lx ly it bd lz ma mb dn mc md me dp mf lk mg mh mi lo mj mk ml ls mm mn mo mp bi translated">8.自动化使用邮递员监视器！</h2><p id="d331" class="pw-post-body-paragraph lb lc it ld b le ms ju lg lh mt jx lj lk mu lm ln lo mv lq lr ls mw lu lv lw im bi translated">使用刚刚创建的集合创建一个邮递员监视器。邮递员监视器是一种自动安排邮递员收集运行的简单方法。</p><p id="d22a" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">不要忘记你的API和不和谐信息的环境！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/0f8c38a345eba18672b0b15226cf9475.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bmUZVyOyP0lgBxDUGrgJ1w.png"/></div></div></figure><h2 id="54ad" class="lx ly it bd lz ma mb dn mc md me dp mf lk mg mh mi lo mj mk ml ls mm mn mo mp bi translated">TL；速度三角形定位法(dead reckoning)</h2><ul class=""><li id="062f" class="nj nk it ld b le ms lh mt lk nl lo nm ls nn lw no np nq nr bi translated">使用API和Postman创建快速简单的不和谐机器人</li><li id="747c" class="nj nk it ld b le ns lh nt lk nu lo nv ls nw lw no np nq nr bi translated">只需在Discord应用仪表板中创建一个bot来使用Bot令牌</li><li id="ad85" class="nj nk it ld b le ns lh nt lk nu lo nv ls nw lw no np nq nr bi translated">使用他们的API创建一个webhook，并向webhook发送一个请求，在您选择的通道中创建一条消息！</li></ul><p id="da33" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">导入我的收藏开始使用这个不和谐的机器人或使用它作为模板在你自己的机器人！</p></div><div class="ab cl ku kv hx kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="im in io ip iq"><p id="0141" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated"><a class="ae mq" href="https://twitter.com/calickahh" rel="noopener ugc nofollow" target="_blank">在推特上关注我:</a>@ djfronz</p><p id="d4c8" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated"><a class="ae mq" href="https://twitter.com/calickahh" rel="noopener ugc nofollow" target="_blank">在Instagram上关注我:</a>@ djfronz</p><p id="9373" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated"><a class="ae mq" href="https://www.linkedin.com/in/stcalica/" rel="noopener ugc nofollow" target="_blank">在LinkedIn上联系我</a>。</p></div></div>    
</body>
</html>