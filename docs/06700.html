<html>
<head>
<title>Testing PWAs on mobile devices during development</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">开发期间在移动设备上测试pwa</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/testing-pwas-on-mobile-devices-during-development-c38ee43d4e4d?source=collection_archive---------6-----------------------#2020-12-21">https://levelup.gitconnected.com/testing-pwas-on-mobile-devices-during-development-c38ee43d4e4d?source=collection_archive---------6-----------------------#2020-12-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/739e64e5bf7b9fa4f49443c2273454b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x4N8l2gdl-3IymcUDVV9JQ.jpeg"/></div></div></figure><h1 id="73ef" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">PWA？那是什么？</h1><p id="1c0a" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">渐进式web应用程序(PWAs)是Web应用程序(咄！)使用新兴的web API和现代技术使web应用程序的行为类似于任何平台/操作系统上的本地应用程序。它们可以安装在你的手机或PC上，甚至可以通过应用商店分发。</p><p id="1469" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">我会在最后链接一些与PWAs相关的文章。</p><p id="9723" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">对于PWA来说，安装在移动设备上的能力非常重要，而测试那些特定于移动设备的功能更为重要。PWAs只能通过<a class="ae lz" href="https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts" rel="noopener ugc nofollow" target="_blank">安全环境</a> ( <a class="ae lz" href="https://developer.mozilla.org/en-US/docs/Glossary/HTTPS" rel="noopener ugc nofollow" target="_blank"> HTTPS </a>)提供。由于像<a class="ae lz" href="https://letsencrypt.org/" rel="noopener ugc nofollow" target="_blank"> Let's Encrypt </a>这样的服务，这在今天并不是什么大不了的事情，它们提供免费的SSL证书。HTTPS限制不是问题，但让测试PWA变得困难。大多数浏览器将localhost视为安全上下文，在您自己的机器上测试PWA不成问题。当你从手机(通过本地网络)访问你的web应用程序时，问题就出现了，而且它不会工作，因为通常情况下，你没有在自己的机器上调试的SSL证书。这个问题的解决方案之一是获得SSL证书，但是对于那些没有这方面经验的人来说，这可能是一个复杂的过程。</p><p id="4fe9" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">在这篇博文中，我将解释两种方法，帮助你在手机上测试你的PWAs。</p><h1 id="4f68" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">Chrome端口转发</h1><p id="7766" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">在你的机器上托管一个站点，从Android设备访问内容(通过Android调试桥)。通过使用端口转发，您手机上的浏览器将能够在自己的本地主机上访问该网站，从而处于安全的环境中。</p><p id="6384" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">网上的教程大多使用有线ADB，这让很多人不愿意使用这种方式。我将使用无线ADB，这不是很难设置。</p><h1 id="d962" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">网络上的ADB</h1><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ma"><img src="../Images/afdbe34b8a55c9cb1e29c995f36229ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oqJjzKN-eAyAcRRNh0BDTw.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">Android调试和网络ADB</figcaption></figure><ol class=""><li id="22a8" class="mj mk iq ky b kz lu ld lv lh ml ll mm lp mn lt mo mp mq mr bi translated">转到您的手机设置&gt;系统&gt;开发者选项(这可能会因手机不同而有所差异，因此如果在您的中有所不同，请在互联网上查找)</li><li id="df12" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt mo mp mq mr bi translated">通过网络打开Android调试和ADB。</li><li id="d6fb" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt mo mp mq mr bi translated">请注意ADB over Network下显示的IP地址和端口</li><li id="44a8" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt mo mp mq mr bi translated">在你的电脑上安装ADB</li><li id="6df4" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt mo mp mq mr bi translated">进入你的命令行/命令提示符，输入<br/> <code class="fe mx my mz na b">adb connect &lt;ip-address&gt;:&lt;port&gt;</code></li><li id="a2df" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt mo mp mq mr bi translated">使用步骤3中的IP地址和端口</li><li id="7660" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt mo mp mq mr bi translated">首次连接时，您需要在手机上授权连接。</li><li id="fb54" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt mo mp mq mr bi translated">您的设备应通过WiFi连接到您的电脑。</li></ol><h1 id="eb8b" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">使用Chrome端口转发</h1><ol class=""><li id="4a56" class="mj mk iq ky b kz la ld le lh nb ll nc lp nd lt mo mp mq mr bi translated">确保您的开发服务器正在您的PC上运行</li><li id="94d5" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt mo mp mq mr bi translated">转到<code class="fe mx my mz na b">chrome://inspect/#devices</code>。您应该会看到您的设备以及连接的状态指示器</li><li id="378c" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt mo mp mq mr bi translated">启用端口转发</li><li id="ac4b" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt mo mp mq mr bi translated">单击添加规则</li><li id="3e45" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt mo mp mq mr bi translated">在设备端口中，输入您要在设备上访问站点的端口号</li><li id="5777" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt mo mp mq mr bi translated">在本地地址字段中，输入开发服务器的地址和端口。(例如，本地主机:1313)</li><li id="b0be" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt mo mp mq mr bi translated">单击添加</li></ol><p id="0d00" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">应该设置了端口转发，并且您将能够在您的Android设备上的localhost:port(您在步骤5中设置的)上访问您的服务器。)</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/013965b9b592c74aa804ce0835494f34.png" data-original-src="https://miro.medium.com/v2/resize:fit:542/format:webp/1*569E0sBqa-5U7iJppbZNEw.png"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">设备连接图像</figcaption></figure><figure class="mb mc md me gt jr gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/fc22a7f7d6ee4e62298e91a0a03ccf8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:624/format:webp/1*blLhNNTxLCTQfCbTqVIVjQ.png"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">端口转发</figcaption></figure><p id="5804" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated"><a class="ae lz" href="https://developers.google.com/web/tools/chrome-devtools/remote-debugging/local-server" rel="noopener ugc nofollow" target="_blank">更详细教程</a></p><h1 id="9164" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">赞成与反对</h1><p id="6d0c" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated"><strong class="ky ir">优点:</strong></p><ul class=""><li id="f5ec" class="mj mk iq ky b kz lu ld lv lh ml ll mm lp mn lt ng mp mq mr bi translated">更快的部署和测试</li><li id="48aa" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt ng mp mq mr bi translated">已经在使用ADB和Chrome，如果你想在你的移动设备上使用开发工具，也会用到它们</li></ul><p id="07b2" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated"><strong class="ky ir">缺点:</strong></p><ul class=""><li id="7f0f" class="mj mk iq ky b kz lu ld lv lh ml ll mm lp mn lt ng mp mq mr bi translated">只能用于Android设备</li><li id="b8ca" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt ng mp mq mr bi translated">这些设备需要在同一个网络上</li></ul><h1 id="fbd2" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">网络生活发展</h1><p id="0121" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated"><a class="ae lz" href="https://www.netlify.com/products/dev/" rel="noopener ugc nofollow" target="_blank"> Netlify Dev </a>是<a class="ae lz" href="https://docs.netlify.com/cli/get-started" rel="noopener ugc nofollow" target="_blank"> netlify-cli </a>的一部分，如果您已经在使用netlify-cli，或者需要在不部署到生产环境的情况下实时展示您的工作，它是一个很好的选择。Netlify Dev还允许您使用Netlify生态系统中的许多功能，如Netlify函数、自定义头文件等。</p><h1 id="26bf" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">设置</h1><p id="ed6d" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">首先，您需要设置netlify-cli并对其进行授权。你需要在Netlify上有一个账户。</p><p id="097c" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated"><a class="ae lz" href="http://localhost:1313/posts/testing-pwas-on-mobile-devices-during-development/" rel="noopener ugc nofollow" target="_blank">这里有详细教程的链接</a></p><ol class=""><li id="a1e7" class="mj mk iq ky b kz lu ld lv lh ml ll mm lp mn lt mo mp mq mr bi translated">安装netlify-cli <br/> <code class="fe mx my mz na b">npm install netlify-cli -g</code></li><li id="0a22" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt mo mp mq mr bi translated">认证<br/> <code class="fe mx my mz na b">netlify login</code></li><li id="8a2f" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt mo mp mq mr bi translated">在打开的浏览器窗口中授权它。</li><li id="ca1e" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt mo mp mq mr bi translated">使用<br/>设置您的库a .自动设置(如果您的库在Github上)<br/> <code class="fe mx my mz na b">netlify init<br/></code> b .手动设置(对于其他Git提供商，或者如果您明智地这样做)<br/> <code class="fe mx my mz na b">netlify init --manual</code></li><li id="0cdc" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt mo mp mq mr bi translated">您可以使用这个cli做很多事情，但是我将直接跳到Netlify Dev</li><li id="fa47" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt mo mp mq mr bi translated">要启动一个Netlify Dev服务器，您可以使用<code class="fe mx my mz na b">netlify dev</code>，但是因为我们想要启动一个公共的实时会话，我们将使用<br/> <code class="fe mx my mz na b">netlify dev --live</code></li><li id="b197" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt mo mp mq mr bi translated">您将获得一个类似于<code class="fe mx my mz na b">https://clever-cray-2aa156-6639f3.netlify.live/</code>的URL。互联网上的每个人都可以访问该URL。</li></ol><p id="29e2" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">netlify-cli有更多你应该在<a class="ae lz" href="https://docs.netlify.com/cli/get-started/#netlify-dev" rel="noopener ugc nofollow" target="_blank">文档</a>中读到的特性。</p><h1 id="77c2" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">在手机上测试您的PWA</h1><p id="9ba0" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">既然您可以在手机上访问PWA，您需要找到一种方法来正确测试它。PC浏览器中可用的开发工具有助于调试和测试，但不幸的是，我还没有在手机上找到类似的功能。幸运的是，Chrome提供了一个解决方案，允许我们使用ADB访问移动设备上页面的开发工具。</p><ol class=""><li id="001f" class="mj mk iq ky b kz lu ld lv lh ml ll mm lp mn lt mo mp mq mr bi translated">设置ADB，如Chrome端口转发所示</li><li id="d17d" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt mo mp mq mr bi translated">在<code class="fe mx my mz na b">chrome://inspect/#devices</code>中，您将看到在您的移动设备上打开的所有页面的列表。</li><li id="6783" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt mo mp mq mr bi translated">单击inspect按钮启动该页面的开发工具</li></ol><figure class="mb mc md me gt jr gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/cca9327da3db88a3b9e70cec2641cc89.png" data-original-src="https://miro.medium.com/v2/resize:fit:914/format:webp/1*8ybsScgx4jy2Xh6-STssgQ.png"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">为移动页面启动开发工具</figcaption></figure><h1 id="cce4" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">资源</h1><ul class=""><li id="519a" class="mj mk iq ky b kz la ld le lh nb ll nc lp nd lt ng mp mq mr bi translated"><a class="ae lz" href="https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps" rel="noopener ugc nofollow" target="_blank">渐进式网络应用——Mozilla</a></li><li id="1082" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt ng mp mq mr bi translated"><a class="ae lz" href="https://www.netlify.com/products/dev/" rel="noopener ugc nofollow" target="_blank">网络生活开发</a></li><li id="cd82" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt ng mp mq mr bi translated"><a class="ae lz" href="https://developers.google.com/web/tools/chrome-devtools/remote-debugging/local-server" rel="noopener ugc nofollow" target="_blank">访问本地服务器——面向网络开发者的谷歌工具</a></li><li id="a3da" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt ng mp mq mr bi translated"><a class="ae lz" href="https://developers.google.com/web/tools/chrome-devtools/remote-debugging/webviews" rel="noopener ugc nofollow" target="_blank">远程调试WebView </a></li></ul><h1 id="e18e" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">与我联系</h1><ul class=""><li id="fb81" class="mj mk iq ky b kz la ld le lh nb ll nc lp nd lt ng mp mq mr bi translated"><a class="ae lz" href="https://twitter.com/HAliPunjabi" rel="noopener ugc nofollow" target="_blank">推特</a></li><li id="db0a" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt ng mp mq mr bi translated"><a class="ae lz" href="https://www.buymeacoffee.com/HAliPunjabi" rel="noopener ugc nofollow" target="_blank">给我买杯咖啡</a></li><li id="064f" class="mj mk iq ky b kz ms ld mt lh mu ll mv lp mw lt ng mp mq mr bi translated"><a class="ae lz" href="https://github.com/haideralipunjabi" rel="noopener ugc nofollow" target="_blank"> Github </a></li></ul></div><div class="ab cl ni nj hu nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ij ik il im in"><h1 id="1f52" class="jy jz iq bd ka kb np kd ke kf nq kh ki kj nr kl km kn ns kp kq kr nt kt ku kv bi translated">分级编码</h1><p id="15f8" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">感谢您成为我们社区的一员！<a class="ae lz" href="https://www.youtube.com/channel/UC3v9kBR_ab4UHXXdknz8Fbg?sub_confirmation=1" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">订阅我们的YouTube频道</strong> </a>或者加入<a class="ae lz" href="https://skilled.dev/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> Skilled.dev编码面试课程</strong> </a>。</p><div class="nu nv gp gr nw nx"><a href="https://skilled.dev" rel="noopener  ugc nofollow" target="_blank"><div class="ny ab fo"><div class="nz ab oa cl cj ob"><h2 class="bd ir gy z fp oc fr fs od fu fw ip bi translated">编写面试问题+获得开发工作</h2><div class="oe l"><h3 class="bd b gy z fp oc fr fs od fu fw dk translated">掌握编码面试的过程</h3></div><div class="of l"><p class="bd b dl z fp oc fr fs od fu fw dk translated">技术开发</p></div></div><div class="og l"><div class="oh l oi oj ok og ol jw nx"/></div></div></a></div></div></div>    
</body>
</html>