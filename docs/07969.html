<html>
<head>
<title>Learning C: The Input and Process Until Done Template and the while Loop</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">学习C:输入和处理直到完成模板和while循环</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/learning-c-the-input-and-process-until-done-template-and-the-while-loop-d8be9b5a772d?source=collection_archive---------4-----------------------#2021-03-25">https://levelup.gitconnected.com/learning-c-the-input-and-process-until-done-template-and-the-while-loop-d8be9b5a772d?source=collection_archive---------4-----------------------#2021-03-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/fa354bf5431816f642137f38dd121584.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VSf4yCQxlOXQUQF6"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@splashabout?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">纳蕾塔·马丁</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="8bd9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我将讨论C中的下一个主要结构——循环。我将首先介绍一个与循环相关的新程序模板，即<em class="le">输入和处理直到完成</em>模板，然后我将演示如何使用一个C循环结构来实现这个模板——<code class="fe lf lg lh li b">while</code>语句。</p><h1 id="a923" class="lj lk it bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">输入并处理直到完成模板</h1><p id="a113" class="pw-post-body-paragraph kg kh it ki b kj mh kl km kn mi kp kq kr mj kt ku kv mk kx ky kz ml lb lc ld im bi translated">在计算机程序中，你最常做的一件事就是作为用户重复输入数据并处理这些数据，直到不再有数据输入。输入和处理直到完成模板提供了如何为这个任务编写代码的大纲。</p><p id="c9c2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是模板的伪代码:</p><p id="e313" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">重复以下操作直到完成:<br/>读取数值<br/>处理数值</em></p><p id="2b49" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我将在下面的C #中演示，通过输入所有的考试分数来确定考试的平均分数，然后在输入最后一个考试分数后计算平均值。以下是此问题的一些可能的伪代码:</p><p id="8ca8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">当有更多分数要输入时:<br/>提示用户输入分数<br/>从键盘上获取分数<br/>将分数添加到累计分数中<br/>计算平均值</em></p><p id="3bf8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在让我们看看如何使用while语句实现这个模板。</p><h1 id="a6a6" class="lj lk it bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">while语句</h1><p id="f0d2" class="pw-post-body-paragraph kg kh it ki b kj mh kl km kn mi kp kq kr mj kt ku kv mk kx ky kz ml lb lc ld im bi translated">我将向您展示的在C中实现循环的第一个C构造是<code class="fe lf lg lh li b">while </code>语句。<code class="fe lf lg lh li b">while</code>语句测试一个条件，并在条件为真时执行一组语句。</p><p id="4750" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是<code class="fe lf lg lh li b">while</code>语句的语法模板:</p><p id="a7bf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le"> while(表情){ <br/>语句(s)；//循环体<br/> } </em></p><p id="0ea7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我将从一个简单的例子开始——一个从1数到10的计数程序。程序如下:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="7ba8" class="mu lk it li b gy mv mw l mx my">#include &lt;stdio.h&gt;<br/>#include &lt;stdlib.h&gt;</span><span id="9c32" class="mu lk it li b gy mz mw l mx my">int main()<br/>{<br/>  int number = 1;<br/>  while (number &lt;= 10) {<br/>    printf("number is: %d\n", number);<br/>    number++;<br/>  }<br/>  return 0;<br/>}<br/>printf("End of program.\n");</span></pre><p id="5a5d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个程序是这样执行的。变量<code class="fe lf lg lh li b">number</code>被初始化为1。在下一行中，测试<code class="fe lf lg lh li b">number</code>以查看其值是否小于或等于10。因此，控制权落入循环体，并调用<code class="fe lf lg lh li b">printf</code>函数。下一行将<code class="fe lf lg lh li b">number</code>增加1。然后控制跳回到控制表达式(<code class="fe lf lg lh li b">number &lt;= 10</code>)，由于2小于或等于10，循环体再次执行。这一直持续到<code class="fe lf lg lh li b">number</code>的值变为11。然后测试表达式，由于11不小于或等于10，表达式为假，控制跳转到循环体结束后的第一行。</p><p id="fb2c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个程序让我有机会列出当你写一个<code class="fe lf lg lh li b">while</code>语句时应该遵循的步骤。第一步是声明一个您希望为真的条件，这样循环体内的语句将会执行。这个问题要求从1数到10，所以我希望循环在变量number的值小于或等于10时执行。</p><p id="0083" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第二步是对控制表达式中的变量进行初始化或赋值，使表达式的计算结果为true，并进入循环体。通过将<code class="fe lf lg lh li b">number</code>初始化为1，我确信循环至少会运行一次。</p><p id="c93f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第三步是执行您希望循环执行的任何任务。在这种情况下，任务是显示<code class="fe lf lg lh li b">number</code>的当前值。</p><p id="146b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第四步也是最后一步是修改控制表达式，这样循环将最终停止。如果不执行此步骤，循环将无限期运行，或者直到计算机内存耗尽。这被称为无止境或无限循环。就在测试之前，我通过在循环底部将<code class="fe lf lg lh li b"> number</code>加1来避免一个死循环。</p><p id="4e9d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是该程序的输出:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="0e66" class="mu lk it li b gy mv mw l mx my">number is: 1<br/>number is: 2<br/>number is: 3<br/>number is: 4<br/>number is: 5<br/>number is: 6<br/>number is: 7<br/>number is: 8<br/>number is: 9<br/>number is: 10</span></pre><p id="dc0a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这种类型的循环被称为<em class="le">计数控制的</em>循环，因为你可以查看程序并知道循环将迭代(重复)多少次。因为变量被初始化为1，程序在变量达到10后停止。</p><p id="7cfa" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">计数控制的循环通常使用for语句编写，我将在以后的文章中讨论这一点。</p><p id="6d16" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一种类型的回路是<em class="le">哨兵控制的</em>回路。这种类型的循环一直运行，直到遇到一个特殊值，导致循环停止。特殊值是while语句表达式的一部分。</p><h1 id="737f" class="lj lk it bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">哨兵控制的循环和输入和处理，直到完成模板</h1><p id="ee75" class="pw-post-body-paragraph kg kh it ki b kj mh kl km kn mi kp kq kr mj kt ku kv mk kx ky kz ml lb lc ld im bi translated"><em class="le">输入和处理直到完成</em>模板通常用哨兵控制的循环来实现。下面是一个问题的伪代码，使用这个模板可以最好地解决这个问题:</p><p id="e288" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">当有更多成绩要输入时:<br/>提示用户输入成绩<br/>从键盘上获取成绩<br/>将成绩加到总成绩上<br/>计算平均值</em></p><p id="114b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在让我们编写一个实现这个伪代码的程序:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="75aa" class="mu lk it li b gy mv mw l mx my">int main()<br/>{<br/>  int grade, count, total = 0;<br/>  char more = 'Y';<br/>  count = 0;<br/>  while (more == 'Y') {<br/>    printf("Enter a grade: ");<br/>    scanf("%d", &amp;grade);<br/>    total += grade;<br/>    count++;<br/>    getchar();<br/>    printf("Enter another grade (Y/N)? ");<br/>    scanf("%c", &amp;more);<br/>  }<br/>  double average = (float)total / count;<br/>  printf("The grade average is %.2f", average);<br/>  return 0;<br/>}</span></pre><p id="f6d4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是这个程序运行一次的输出:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="ff7b" class="mu lk it li b gy mv mw l mx my">Enter a grade: 67<br/>Enter another grade (Y/N)? Y<br/>Enter a grade: 71<br/>Enter another grade (Y/N)? Y<br/>Enter a grade: 83<br/>Enter another grade (Y/N)? Y<br/>Enter a grade: 91<br/>Enter another grade (Y/N)? Y<br/>Enter a grade: 99<br/>Enter another grade (Y/N)? N<br/>The grade average is 82.20</span></pre><p id="fff1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个程序的一个问题是，输入不断被询问用户是否想输入另一个等级的提示打断。使用sentinel值的另一种方式是选择一个不能获得的等级，例如-1，输入该等级是程序停止的信号。</p><p id="1faf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是用这样一个标记值重写的程序:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="a8db" class="mu lk it li b gy mv mw l mx my">int main()<br/>{<br/>  int grade, count, total = 0;<br/>  char more = 'Y';<br/>  count = 0;<br/>  printf("Enter a grade: ");<br/>  scanf("%d", &amp;grade);<br/>  while (grade != -1) {<br/>    total += grade;<br/>    count++;<br/>    getchar();<br/>    printf("Enter a grade: ");<br/>    scanf("%d", &amp;grade);<br/>  }<br/>  double average = (float)total / count;<br/>  printf("The grade average is %.2f", average);<br/>  return 0;<br/>}</span></pre><p id="9ea4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是这个程序运行一次的输出:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="1238" class="mu lk it li b gy mv mw l mx my">Enter a grade: 81<br/>Enter a grade: 77<br/>Enter a grade: 92<br/>Enter a grade: 85<br/>Enter a grade: -1<br/>The grade average is 83.7</span></pre><p id="d868" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">哨兵控制回路的另一个用途是用于数据验证。例如，您正在编写的程序需要用户输入一个正数，任何小于1的数字都是不可接受的。您可以使用1作为标记值，实际上就是说，如果您输入的值小于1，则该数据无效，请输入一个至少等于1的新值。</p><p id="de7c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是一个演示在数据验证中使用sentinel值的程序:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="fffc" class="mu lk it li b gy mv mw l mx my">int main()<br/>{<br/>  int data = 0;<br/>  while (data &lt; 1) {<br/>    printf("Enter a number: ");<br/>    scanf("%d", &amp;data);<br/>  }<br/>  printf("You entered a valid number.\n");<br/>  return 0;<br/>}</span></pre><p id="d87e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是这个程序运行一次的输出:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="5f01" class="mu lk it li b gy mv mw l mx my">Enter a number: 0<br/>Enter a number: -1<br/>Enter a number: -100<br/>Enter a number: 0<br/>Enter a number: 2<br/>You entered a valid number.</span></pre><p id="dea8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是另一个例子，用户需要输入一个介于1和100之间的值:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="fbae" class="mu lk it li b gy mv mw l mx my">int main()<br/>{<br/>  int grade = 0;<br/>  while (grade &lt; 1 || grade &gt; 100) {<br/>    printf("Enter a grade value of 1 to 100: ");<br/>    scanf("%d", &amp;grade);<br/>  }<br/>  printf("%d is between 1 and 100.\n", grade);<br/>  return 0;<br/>}</span></pre><p id="dbd0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是这个程序运行一次的输出:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="0d78" class="mu lk it li b gy mv mw l mx my">Enter a grade value of 1 to 100: -1<br/>Enter a grade value of 1 to 100: 1000<br/>Enter a grade value of 1 to 100: 0<br/>Enter a grade value of 1 to 100: 101<br/>Enter a grade value of 1 to 100: 85<br/>85 is between 1 and 100.</span></pre><p id="9e56" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我已经偏离了<em class="le">输入和处理直到完成</em>模板，但是使用循环执行数据验证是每个程序员都可以使用的重要工具，所以我认为现在向您展示它是很重要的。</p><p id="7eb9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这就是本文关于循环和<em class="le">输入和处理直到完成</em>模板的内容。在我的下一篇文章中，我们将继续学习如何使用不同的循环结构来实现这个模板——<code class="fe lf lg lh li b">do-while</code>语句。</p><p id="d70f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢您的阅读，请回复这篇文章或发邮件给我，告诉我您的意见和建议。</p></div></div>    
</body>
</html>