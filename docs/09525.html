<html>
<head>
<title>Webots Tutorial Series: Move Your Robot to Specific Coordinates — e-puck Robot</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Webots教程系列:将您的机器人移动到特定的坐标——e-puck机器人</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/webots-series-move-your-robot-to-specific-coordinates-ecf50cb4244b?source=collection_archive---------1-----------------------#2021-08-18">https://levelup.gitconnected.com/webots-series-move-your-robot-to-specific-coordinates-ecf50cb4244b?source=collection_archive---------1-----------------------#2021-08-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/9d1f0cfee30173d697b0b88928ceb16f.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*MYfdSK9A88u1wTp7EOnUag.gif"/></div></figure><p id="84e1" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这个故事是Webots教程系列的第三部分。稍后我们将讨论如何在Webots中实现粒子群优化(PSO)。PSO在现实生活中用于搜索和救援行动。</p><p id="5ed4" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">以下是该系列的链接:</p><ol class=""><li id="0a63" class="ks kt iq jw b jx jy kb kc kf ku kj kv kn kw kr kx ky kz la bi translated"><a class="ae lb" href="https://medium.com/@albert.brucelee/8a2e2b5d22a9" rel="noopener">使用Webots机器人模拟器</a>轻松创建并运行您的第一个机器人程序</li><li id="f0ed" class="ks kt iq jw b jx lc kb ld kf le kj lf kn lg kr kx ky kz la bi translated"><a class="ae lb" href="https://medium.com/@albert.brucelee/3143c096d285" rel="noopener">简单回避算法，在e-puck机器人上实现，并在Webots机器人模拟器上模拟</a></li><li id="720f" class="ks kt iq jw b jx lc kb ld kf le kj lf kn lg kr kx ky kz la bi translated">当前故事</li><li id="cdf3" class="ks kt iq jw b jx lc kb ld kf le kj lf kn lg kr kx ky kz la bi translated"><a class="ae lb" href="https://medium.com/@albert.brucelee/103ed0a76f49" rel="noopener">自适应运动</a></li></ol><p id="b4b5" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在这里，我们将讨论如何在Webots机器人模拟器中将机器人移动到特定的坐标。</p></div><div class="ab cl lh li hu lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="ij ik il im in"><h1 id="f6b4" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">算法</h1><p id="1712" class="pw-post-body-paragraph ju jv iq jw b jx mm jz ka kb mn kd ke kf mo kh ki kj mp kl km kn mq kp kq kr ij bi translated">在讨论算法之前，我们先来看看算法是如何工作的。下面是场景。向右旋转意味着让机器人在原地向左旋转。</p><figure class="ms mt mu mv gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi mr"><img src="../Images/e6d35eeb4a726ff79474204a35961721.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NkelBtBgy3xfHUynAsT7eA.jpeg"/></div></div><figcaption class="na nb gj gh gi nc nd bd b be z dk translated">方案</figcaption></figure><p id="6c88" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在我们将讨论算法。下面是算法流程。算法很简单。首先，我们检查目的地是否在当前位置。然后机器人旋转航向面向目的地。最后，机器人向前移动到目的地。</p><figure class="ms mt mu mv gt jr gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/bf9ea4833a08d1abeaaccd9b5f68a6e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:362/format:webp/1*yTEEo9spVkaoe_Uy8YXHiQ.jpeg"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk translated">算法</figcaption></figure><h2 id="1fb3" class="nf lp iq bd lq ng nh dn lu ni nj dp ly kf nk nl mc kj nm nn mg kn no np mk nq bi translated">将航向旋转特定角度</h2><p id="a60e" class="pw-post-body-paragraph ju jv iq jw b jx mm jz ka kb mn kd ke kf mo kh ki kj mp kl km kn mq kp kq kr ij bi translated">关于如何旋转标题的细节，下面是算法。<code class="fe nr ns nt nu b">θ̇ </code>是旋转角度。旋转航向意味着让机器人原地旋转。</p><ul class=""><li id="3c9a" class="ks kt iq jw b jx jy kb kc kf ku kj kv kn kw kr nv ky kz la bi translated">如果目的地在机器人前面，那么机器人什么也不做</li><li id="2838" class="ks kt iq jw b jx lc kb ld kf le kj lf kn lg kr nv ky kz la bi translated">如果目的地在左边，那么机器人将向左旋转</li><li id="5880" class="ks kt iq jw b jx lc kb ld kf le kj lf kn lg kr nv ky kz la bi translated">如果目的地在右边，那么机器人将向右旋转</li></ul><figure class="ms mt mu mv gt jr gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/6f8fc3f1f0342f8c0c48da498f5f7c90.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*mV9Rz0kWMhf_ZzeInL4fFA.jpeg"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk translated">旋转机器人航向的算法</figcaption></figure><p id="a153" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">为了让机器人原地旋转，我们以相反的方向启动左右马达:</p><ul class=""><li id="e10d" class="ks kt iq jw b jx jy kb kc kf ku kj kv kn kw kr nv ky kz la bi translated">用<code class="fe nr ns nt nu b">-max_speed </code>设定左电机，用<code class="fe nr ns nt nu b">max_speed</code>设定右电机，使机器人向左旋转</li><li id="e233" class="ks kt iq jw b jx lc kb ld kf le kj lf kn lg kr nv ky kz la bi translated">用<code class="fe nr ns nt nu b">max_speed </code>设定左电机，用<code class="fe nr ns nt nu b">-max_speed</code>设定右电机，使机器人向右旋转</li></ul><p id="69d6" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">因此，如果我们想让机器人旋转一个特定的角度<code class="fe nr ns nt nu b">θ̇</code>，首先我们将<code class="fe nr ns nt nu b">θ̇</code>转换为持续时间<code class="fe nr ns nt nu b">t</code>，并通过持续时间<code class="fe nr ns nt nu b">t</code>激活机器人电机。我们通过下面的计算得到<code class="fe nr ns nt nu b">t</code>。</p><blockquote class="nx"><p id="0038" class="ny nz iq bd oa ob oc od oe of og kr dk translated"><code class="fe nr ns nt nu b">t = abs(θ̇ ) / rotational_speed</code></p></blockquote><p id="4aca" class="pw-post-body-paragraph ju jv iq jw b jx oh jz ka kb oi kd ke kf oj kh ki kj ok kl km kn ol kp kq kr ij bi translated"><code class="fe nr ns nt nu b">rotational_speed</code>是机器人旋转到位的速度。我们通过使用下面的计算得到<code class="fe nr ns nt nu b">rotational_speed</code>。</p><blockquote class="nx"><p id="1c2d" class="ny nz iq bd oa ob oc od oe of og kr dk translated"><code class="fe nr ns nt nu b">rotational_speed = 360 * tan_speed / (phi*axle_length)</code></p></blockquote><p id="b25d" class="pw-post-body-paragraph ju jv iq jw b jx oh jz ka kb oi kd ke kf oj kh ki kj ok kl km kn ol kp kq kr ij bi translated"><code class="fe nr ns nt nu b">axle_length</code>是车轮之间的距离。吸盘电机<code class="fe nr ns nt nu b">tangensial_speed</code>为0.12874米/秒，<code class="fe nr ns nt nu b">axle_length</code>为0.052米。所以<code class="fe nr ns nt nu b">rotational_speed</code>是278.237392796度/秒。所以机器人可以每秒旋转278.237度。</p><h2 id="14a1" class="nf lp iq bd lq ng nh dn lu ni nj dp ly kf nk nl mc kj nm nn mg kn no np mk nq bi translated">向前移动特定距离</h2><p id="4356" class="pw-post-body-paragraph ju jv iq jw b jx mm jz ka kb mn kd ke kf mo kh ki kj mp kl km kn mq kp kq kr ij bi translated">关于如何前进的细节，下面是算法。简单计算从机器人坐标到目的坐标的距离<code class="fe nr ns nt nu b">d</code>。然后向前移动d。</p><figure class="ms mt mu mv gt jr gh gi paragraph-image"><div class="gh gi om"><img src="../Images/5e62b98d6509e3f1eb67a7725365d850.png" data-original-src="https://miro.medium.com/v2/resize:fit:242/format:webp/1*U2s_S23ymZbeZm3JYckk8Q.jpeg"/></div></figure><p id="5472" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">距离<code class="fe nr ns nt nu b">d</code>简单的用欧几里德距离计算来计算。</p><figure class="ms mt mu mv gt jr gh gi paragraph-image"><div class="gh gi on"><img src="../Images/b89f2a686486a97e9771df5fc78cb90e.png" data-original-src="https://miro.medium.com/v2/resize:fit:442/format:webp/1*Kb8KD-e8AhtpI042epBJOg.jpeg"/></div></figure><figure class="ms mt mu mv gt jr gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/261bf8f323b97160515375bad9b5bf23.png" data-original-src="https://miro.medium.com/v2/resize:fit:386/format:webp/1*TeumObMIgQiT_n7Ld1rCXg.jpeg"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk translated">欧几里得距离</figcaption></figure><p id="af7d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">为了使机器人向前移动，我们通过特定的持续时间激活机器人电机。因此，如果我们想通过<code class="fe nr ns nt nu b">d</code>移动机器人，首先我们将<code class="fe nr ns nt nu b">d</code>转换为持续时间<code class="fe nr ns nt nu b">t</code>，并通过持续时间<code class="fe nr ns nt nu b">t</code>激活机器人电机。我们通过使用下面的计算得到<code class="fe nr ns nt nu b">t</code>。</p><blockquote class="nx"><p id="cb0b" class="ny nz iq bd oa ob oc od oe of og kr dk translated"><code class="fe nr ns nt nu b">t = d / tan_speed</code></p></blockquote><p id="fc09" class="pw-post-body-paragraph ju jv iq jw b jx oh jz ka kb oi kd ke kf oj kh ki kj ok kl km kn ol kp kq kr ij bi translated"><code class="fe nr ns nt nu b">tan_speed</code>是机器人切向速度。我们通过使用下面的计算得到<code class="fe nr ns nt nu b">tan_speed</code>。</p><blockquote class="nx"><p id="cbb4" class="ny nz iq bd oa ob oc od oe of og kr dk translated"><code class="fe nr ns nt nu b">tan_speed= angular_speed* wheel_radius</code></p></blockquote><p id="7f45" class="pw-post-body-paragraph ju jv iq jw b jx oh jz ka kb oi kd ke kf oj kh ki kj ok kl km kn ol kp kq kr ij bi translated">吸盘电机<code class="fe nr ns nt nu b">angular_speed</code>为6.28弧度，<code class="fe nr ns nt nu b">wheel_radius</code>为0.0205米。所以<code class="fe nr ns nt nu b">tan_speed</code>为0.12874米/秒。</p><h1 id="c295" class="lo lp iq bd lq lr op lt lu lv oq lx ly lz or mb mc md os mf mg mh ot mj mk ml bi translated">机器人参数</h1><p id="2760" class="pw-post-body-paragraph ju jv iq jw b jx mm jz ka kb mn kd ke kf mo kh ki kj mp kl km kn mq kp kq kr ij bi translated">有关e-puck数据表，请参见此处的[<a class="ae lb" href="https://www.gctronic.com/doc/index.php/e-puck2" rel="noopener ugc nofollow" target="_blank"/>和此处的[<a class="ae lb" href="https://cyberbotics.com/doc/guide/epuck" rel="noopener ugc nofollow" target="_blank"/>】。</p><p id="cd6b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">机器人安装有以下附加组件:</p><ul class=""><li id="7cb2" class="ks kt iq jw b jx jy kb kc kf ku kj kv kn kw kr nv ky kz la bi translated">GPS:获取关于机器人坐标的信息</li><li id="149d" class="ks kt iq jw b jx lc kb ld kf le kj lf kn lg kr nv ky kz la bi translated">指南针:获取关于机器人航向的信息</li></ul><h1 id="5a08" class="lo lp iq bd lq lr op lt lu lv oq lx ly lz or mb mc md os mf mg mh ot mj mk ml bi translated">缺点</h1><p id="c995" class="pw-post-body-paragraph ju jv iq jw b jx mm jz ka kb mn kd ke kf mo kh ki kj mp kl km kn mq kp kq kr ij bi translated">这个算法有一个缺点，如下图所示。机器人正在向底部的盒子移动。期望是机器人能够到达底部盒子。但是，当机器人移动时，突然有什么东西撞上了机器人，使机器人弹跳起来，使机器人无法到达目的地。</p><figure class="ms mt mu mv gt jr gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/c0de7c1dcc0c7aa62557b8b40a88d838.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/1*HYCsyJKQGTebhjN8c6yU0Q.gif"/></div></figure><p id="1f1c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">为了克服这一缺点，我们必须修改算法，使机器人自适应地移动。阅读下一篇教程【这里<a class="ae lb" href="https://medium.com/@albert.brucelee/103ed0a76f49" rel="noopener">关于解决方案的</a>。</p><h1 id="fc99" class="lo lp iq bd lq lr op lt lu lv oq lx ly lz or mb mc md os mf mg mh ot mj mk ml bi translated">程序</h1><p id="b0a6" class="pw-post-body-paragraph ju jv iq jw b jx mm jz ka kb mn kd ke kf mo kh ki kj mp kl km kn mq kp kq kr ij bi translated">代码非常简单。代码解释请在我的GitHub上阅读[ <a class="ae lb" href="https://github.com/albertbrucelee/webots-e-puck_robot-tutorial/tree/master/3%20-%20Move%20To%20Destination%20Location" rel="noopener ugc nofollow" target="_blank">此处</a> ]。如果你是网络机器人新手，也请阅读第一系列[ <a class="ae lb" href="https://medium.com/@albert.brucelee/8a2e2b5d22a9" rel="noopener">这里</a>。</p><h1 id="9c4b" class="lo lp iq bd lq lr op lt lu lv oq lx ly lz or mb mc md os mf mg mh ot mj mk ml bi translated">模拟演示</h1><p id="cce4" class="pw-post-body-paragraph ju jv iq jw b jx mm jz ka kb mn kd ke kf mo kh ki kj mp kl km kn mq kp kq kr ij bi translated">这是模拟演示。</p><figure class="ms mt mu mv gt jr"><div class="bz fp l di"><div class="ov ow l"/></div></figure></div><div class="ab cl lh li hu lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="ij ik il im in"><h1 id="3471" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">谢谢你</h1><p id="6616" class="pw-post-body-paragraph ju jv iq jw b jx mm jz ka kb mn kd ke kf mo kh ki kj mp kl km kn mq kp kq kr ij bi translated">希望这篇教程对那些正在学习机器人的人有用。我希望你能轻松地跟随这个教程。</p><p id="552e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">关注我的媒体或我的<a class="ae lb" href="https://github.com/albertbrucelee/webots-e-puck_robot-tutorial" rel="noopener ugc nofollow" target="_blank"> Gihub </a>获取更多教程。</p><p id="728a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果你喜欢，请鼓掌，如果你有任何建议或问题，请回复。</p><p id="97d7" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果你有任何问题，请随时通过LinkedIn联系我，或者只是说声“嗨！”</p><p id="038f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">谢谢大家！</p></div></div>    
</body>
</html>