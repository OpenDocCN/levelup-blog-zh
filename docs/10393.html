<html>
<head>
<title>Facial Emotion Recognition</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面部情感识别</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/facial-emotion-recognition-7e2706ad7843?source=collection_archive---------12-----------------------#2021-11-30">https://levelup.gitconnected.com/facial-emotion-recognition-7e2706ad7843?source=collection_archive---------12-----------------------#2021-11-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0213" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">检测人脸面部情绪的两种不同方法</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e67c7c0002361b6a0bc71c43b65d71a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*PWoh5KBrgC4fAqXiXjNQcQ.gif"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">作者GIF</figcaption></figure><blockquote class="kv kw kx"><p id="0ae5" class="ky kz la lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">面部情绪可以作为一种非语言的交流方式引入。人们通过语言来表达他们的感受和表情，但是面部表情可以用来加强交流。面部情感识别是近来的一个时髦话题。基本上可以识别的面部情绪有<strong class="lb ir">快乐、悲伤、愤怒、中性、恐惧、厌恶、惊讶</strong>，加在一起共有7种。</p><p id="507f" class="ky kz la lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">人脸情感识别可以实时实现，也可以使用静态图像实现。本文通过两种主要方法为您提供了使用静态图像来检测面部情绪的方法。我用Google Colab练习了以下代码。</p></blockquote><h2 id="9908" class="lv lw iq bd lx ly lz dn ma mb mc dp md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated"><a class="ae mr" href="https://pypi.org/project/fer/" rel="noopener ugc nofollow" target="_blank"> 1。FER图书馆</a></h2><p id="5c20" class="pw-post-body-paragraph ky kz iq lb b lc ms jr le lf mt ju lh me mu lk ll mi mv lo lp mm mw ls lt lu ij bi translated">这是一个基于深度神经网络构建的Python库，使用了<em class="la"> Tensorflow、Keras库</em>，使用的数据集来自<em class="la"> Kaggle的表征学习竞赛挑战:面部表情识别挑战</em>。FER要求依赖关系为<strong class="lb ir"> <em class="la"> Python &gt; 3.6，OpenCV &gt; =3.2 </em> </strong>，以及<strong class="lb ir"><em class="la">tensor flow&gt;= 1 . 7 . 0</em></strong><em class="la">。</em>如果您没有安装OpenCV和Tensorflow，请使用下面的命令。</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="dbf6" class="lv lw iq my b gy nc nd l ne nf"><strong class="my ir">pip install opencv-contrib-python<br/>pip install tensorflow</strong></span></pre><p id="3d27" class="pw-post-body-paragraph ky kz iq lb b lc ld jr le lf lg ju lh me lj lk ll mi ln lo lp mm lr ls lt lu ij bi translated">然后安装FER库，</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="e299" class="lv lw iq my b gy nc nd l ne nf"><strong class="my ir">pip install fer</strong></span></pre><p id="f8bc" class="pw-post-body-paragraph ky kz iq lb b lc ld jr le lf lg ju lh me lj lk ll mi ln lo lp mm lr ls lt lu ij bi translated">尝试遵循代码片断。</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="7f3d" class="lv lw iq my b gy nc nd l ne nf"><strong class="my ir">from fer import FER<br/>import matplotlib.pyplot as plt<br/>%matplotlib inline</strong></span><span id="0a98" class="lv lw iq my b gy ng nd l ne nf"><strong class="my ir">test_image = plt.imread("/content/Merlin_1.jpg")</strong></span><span id="b59b" class="lv lw iq my b gy ng nd l ne nf"># Faces by default are detected using OpenCV's Haar Cascade classifier. To use the more accurate MTCNN network, add the parameter<br/><strong class="my ir">emo_detector = FER(mtcnn=True)</strong></span><span id="9465" class="lv lw iq my b gy ng nd l ne nf"># Capture all the emotions on the image<br/><strong class="my ir">captured_emotions = emo_detector.detect_emotions(test_image)</strong></span><span id="8fce" class="lv lw iq my b gy ng nd l ne nf"># Print all captured emotions with the image<br/><strong class="my ir">print(captured_emotions)<br/>plt.imshow(test_image)</strong></span></pre><p id="b116" class="pw-post-body-paragraph ky kz iq lb b lc ld jr le lf lg ju lh me lj lk ll mi ln lo lp mm lr ls lt lu ij bi translated">你会得到如下结果。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nh"><img src="../Images/9b5c19c6d11e8fa3e5ea3262d8968bf6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Oxs9boasqDnxPr45HKDlaQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</figcaption></figure><p id="f290" class="pw-post-body-paragraph ky kz iq lb b lc ld jr le lf lg ju lh me lj lk ll mi ln lo lp mm lr ls lt lu ij bi translated">此外，您可以使用下面的代码来获取图像中提取的情感，</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="2ff6" class="lv lw iq my b gy nc nd l ne nf"><strong class="my ir">captured_emotions</strong></span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/3e1cc5cd8783a28f0134cdd19d2c2e3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:602/format:webp/1*2TLmZlMT79Qd844hmhizfg.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">作者捕捉的情感图片</figcaption></figure><p id="9d9a" class="pw-post-body-paragraph ky kz iq lb b lc ld jr le lf lg ju lh me lj lk ll mi ln lo lp mm lr ls lt lu ij bi translated">然后使用下面的代码片断从你的图像中提取出大部分情感</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="797a" class="lv lw iq my b gy nc nd l ne nf"><strong class="my ir">print(emo_detector.top_emotion(test_image))</strong></span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/29b009ac09a4919cc4ad7619cda16883.png" data-original-src="https://miro.medium.com/v2/resize:fit:946/format:webp/1*nBLnUOLc3TgdeDOUjIj0hg.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片-最高情感</figcaption></figure></div><div class="ab cl nk nl hu nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="ij ik il im in"><h2 id="1c11" class="lv lw iq bd lx ly lz dn ma mb mc dp md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated"><a class="ae mr" href="https://pypi.org/project/deepface/" rel="noopener ugc nofollow" target="_blank"> 2。DeepFace </a></h2><p id="2462" class="pw-post-body-paragraph ky kz iq lb b lc ms jr le lf mt ju lh me mu lk ll mi mv lo lp mm mw ls lt lu ij bi translated">它是一个用Python编写的轻量级面部识别和面部属性分析框架，它是由脸书的一个研究小组创建的一个深度学习面部识别系统。使用DeepFace，我们可以分析<em class="la">面部属性，如年龄、性别、情感和种族</em>。值得一提的是，使用DeepFace可以达到一个<strong class="lb ir"><em class="la">97.35%</em></strong>0.25%的准确率水平。下面重点讲一下如何在Python中处理DeepFace。</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="7546" class="lv lw iq my b gy nc nd l ne nf"><strong class="my ir">pip install deepface</strong></span></pre><p id="fa64" class="pw-post-body-paragraph ky kz iq lb b lc ld jr le lf lg ju lh me lj lk ll mi ln lo lp mm lr ls lt lu ij bi translated">安装deepface后，使用以下代码加载图像并绘制图像。</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="9936" class="lv lw iq my b gy nc nd l ne nf"><strong class="my ir">from deepface import DeepFace<br/>import cv2<br/>import matplotlib.pyplot as plt<br/>img_path = 'Merlin_1.jpg'<br/>img = cv2.imread(img_path)<br/>plt.imshow(img[:, :,::-1])</strong></span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/64881a6c79ceabd1c2bc44c258bd248b.png" data-original-src="https://miro.medium.com/v2/resize:fit:988/format:webp/1*gizJinzzt_VLI7UVrWxcoQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</figcaption></figure><p id="54ed" class="pw-post-body-paragraph ky kz iq lb b lc ld jr le lf lg ju lh me lj lk ll mi ln lo lp mm lr ls lt lu ij bi translated">然后使用以下命令，您可以找到图像的人口统计信息。</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="155e" class="lv lw iq my b gy nc nd l ne nf"><strong class="my ir">demography = DeepFace.analyze(img_path)<br/>demography</strong></span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ns"><img src="../Images/93695b5f4732c8264cb4f5b935266a2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qByUbGrDrjAdfJMDYq2Lmw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">按作者分类的图像-图像的人口统计信息</figcaption></figure><p id="2451" class="pw-post-body-paragraph ky kz iq lb b lc ld jr le lf lg ju lh me lj lk ll mi ln lo lp mm lr ls lt lu ij bi translated">然后，我们可以使用下面的命令只提取情感数据。</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="f6d8" class="lv lw iq my b gy nc nd l ne nf"><strong class="my ir">demography['emotion']</strong></span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/5a8f7ce1d42410dcba3870c66e6d13b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*KgfjY1qWd03XNpffBZyLhw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">按作者分类的图像-图像的情感数据</figcaption></figure><p id="7baa" class="pw-post-body-paragraph ky kz iq lb b lc ld jr le lf lg ju lh me lj lk ll mi ln lo lp mm lr ls lt lu ij bi translated">那么如果想提取图像最突出的情感，就用下面的代码。</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="a10a" class="lv lw iq my b gy nc nd l ne nf"><strong class="my ir">demography['dominant_emotion']</strong></span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/0c9d7bd80262094817f01c2a3175a6e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:168/format:webp/1*1G0JIv11oyngKHERmtTu1Q.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">作者主导情感的图像</figcaption></figure><p id="be52" class="pw-post-body-paragraph ky kz iq lb b lc ld jr le lf lg ju lh me lj lk ll mi ln lo lp mm lr ls lt lu ij bi translated">完成了伙计们…😀</p><p id="cc95" class="pw-post-body-paragraph ky kz iq lb b lc ld jr le lf lg ju lh me lj lk ll mi ln lo lp mm lr ls lt lu ij bi translated">我们已经讨论了两种可以用来识别人脸面部情绪的方法。</p><p id="1dc5" class="pw-post-body-paragraph ky kz iq lb b lc ld jr le lf lg ju lh me lj lk ll mi ln lo lp mm lr ls lt lu ij bi translated">希望你能收集一些关于使用Python中的FER和DeepFace识别面部情绪和表情的重要事实。</p><p id="af62" class="pw-post-body-paragraph ky kz iq lb b lc ld jr le lf lg ju lh me lj lk ll mi ln lo lp mm lr ls lt lu ij bi translated">未来的文章将重点关注听力受损群体中面部情感识别的差异，以及如何训练数据集来收集实时面部情感识别。</p><p id="b416" class="pw-post-body-paragraph ky kz iq lb b lc ld jr le lf lg ju lh me lj lk ll mi ln lo lp mm lr ls lt lu ij bi translated">感谢您的阅读，如果您喜欢这篇文章，请鼓掌。🙌</p></div></div>    
</body>
</html>