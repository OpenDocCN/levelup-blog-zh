<html>
<head>
<title>Assumptions of Linear Regression</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">线性回归的假设</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/assumptions-of-linear-regression-f99dc9c6f051?source=collection_archive---------3-----------------------#2019-11-22">https://levelup.gitconnected.com/assumptions-of-linear-regression-f99dc9c6f051?source=collection_archive---------3-----------------------#2019-11-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="571b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">线性回归是进行预测的一个非常强大的工具。但是我们怎么知道我们可以相信线性回归得到的结果呢？</p><p id="2e67" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">只有满足三个条件，我们才能得到最佳可靠的结果。没有这些，我们会得到有偏见的、不可靠的预测。在这篇博客中，我将讨论这三个假设，以及如何检查它们，以确保在执行线性回归时可以信任结果。为了简单起见，我将假设一个简单的线性回归。</p><h2 id="9653" class="ko kp it bd kq kr ks dn kt ku kv dp kw kb kx ky kz kf la lb lc kj ld le lf lg bi translated">线性</h2><p id="7670" class="pw-post-body-paragraph jq jr it js b jt lh jv jw jx li jz ka kb lj kd ke kf lk kh ki kj ll kl km kn im bi translated">第一个假设可能是最明显的假设。线性意味着自变量(特征变量)和因变量(目标变量)之间必须存在线性关系。没有这种线性关系，就无法做出准确的预测。</p><p id="8818" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们测试线性的方法是创建自变量和因变量的散点图。一旦创建了散点图，我们就要寻找两件事情。第一种是大致线性的形状(方向性不重要)。第二个是，如果有一个线性形状，我们希望确保没有异常值。</p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi lm"><img src="../Images/a237df4c958889943280fb3685aee68f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eQJm2KmHsI3BuU6FT10N7g.png"/></div></div><figcaption class="ly lz gj gh gi ma mb bd b be z dk translated">线性回归要求自变量和因变量具有线性关系。<a class="ae mc" href="https://www.freecodecamp.org/news/learn-how-to-improve-your-linear-models-8294bfa8a731/" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><p id="20fa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您可以使用下面的代码来绘制散点图。</p><pre class="ln lo lp lq gt md me mf mg aw mh bi"><span id="574a" class="ko kp it me b gy mi mj l mk ml">import matplotlib.pyplot as plt<br/>plt.scatter(df.x, df.y)<br/>plt.show();</span></pre><p id="eab9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果发现没有线性关系，可以执行变换(如对数变换)来获得线性形状。还有其他回归工具，如多项式回归，可能会产生更好的结果。</p><p id="e5a9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果您有一个异常值，您需要考虑这个异常值是如何产生的，以及是否应该忽略它。</p><h2 id="7c93" class="ko kp it bd kq kr ks dn kt ku kv dp kw kb kx ky kz kf la lb lc kj ld le lf lg bi translated">常态</h2><p id="4c76" class="pw-post-body-paragraph jq jr it js b jt lh jv jw jx li jz ka kb lj kd ke kf lk kh ki kj ll kl km kn im bi translated">常态，这通常是一个听起来直截了当的假设，但它实际上并不意味着自变量是正态分布的。事实上，对于非正态分布的变量，线性回归可能是成功的。相反，正态假设意味着从线性回归模型得到的<strong class="js iu">残差</strong>应该是正态分布的。</p><p id="374a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们只能在创建模型后收集残差。为了收集残差，我们可以使用以下代码:</p><pre class="ln lo lp lq gt md me mf mg aw mh bi"><span id="ffb0" class="ko kp it me b gy mi mj l mk ml">residuals = model.resid</span></pre><p id="1225" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们可以直观检查残差正态性的第一件事是使用Q-Q(分位数-分位数)图。Q-Q图是<em class="mm">一种概率图，是一种通过绘制两个概率分布的分位数来比较它们的图形方法</em>。此图允许我们预测一组数据是否来自已知分布(如正态分布)。通过Q-Q图，他们确实证实了某些东西不是正态分布的</p><p id="1c4a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们可以使用残差和以下公式绘制Q-Q图:</p><pre class="ln lo lp lq gt md me mf mg aw mh bi"><span id="3451" class="ko kp it me b gy mi mj l mk ml">import scipy.stats as stats<br/>fig = sm.graphics.qqplot(residuals, dist=stats.norm,<br/>                         line='45', fit=True)<br/>fig.show()</span></pre><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/10c1261bd649f0f2ab251d5ce40ee838.png" data-original-src="https://miro.medium.com/v2/resize:fit:930/format:webp/1*PpzN72C9dQ2VQvZQ9Q3Ecg.png"/></div><figcaption class="ly lz gj gh gi ma mb bd b be z dk translated">我们正在寻找与红线大致对齐的点(蓝色)。<a class="ae mc" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.probplot.html" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><p id="f94d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当我们看Q-Q图时，我们在寻找与45度线对齐的点。如果偏离红色太多，我们可以假设残差不是正态分布的。我们还应该预料到<em class="mm">在图的边缘会有一些</em>弯曲。当它太完美地拟合时，我们希望对数据保持谨慎。</p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi mo"><img src="../Images/37f43c8b5018cd76e0e0b940696f404e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K_iMlyq0LdONjhJIg7gi6A.png"/></div></div><figcaption class="ly lz gj gh gi ma mb bd b be z dk translated">这个Q-Q图不是我们在检验正态假设时要寻找的。<a class="ae mc" href="https://robert-alvarez.github.io/2018-06-04-diagnostic_plots/" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><p id="064e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">检查残差的直方图以了解它是否正常也很重要。</p><h2 id="2d29" class="ko kp it bd kq kr ks dn kt ku kv dp kw kb kx ky kz kf la lb lc kj ld le lf lg bi translated">同方差性</h2><p id="a5db" class="pw-post-body-paragraph jq jr it js b jt lh jv jw jx li jz ka kb lj kd ke kf lk kh ki kj ll kl km kn im bi translated">当我们谈论同异方差时，我们也想谈论异方差。</p><blockquote class="mp mq mr"><p id="ddaa" class="jq jr mm js b jt ju jv jw jx jy jz ka ms kc kd ke mt kg kh ki mu kk kl km kn im bi translated">异方差是指因变量在预测值范围内不相等的情况。</p><p id="ec53" class="jq jr mm js b jt ju jv jw jx jy jz ka ms kc kd ke mt kg kh ki mu kk kl km kn im bi translated">因此，我们可以说，同方差指的是因变量在整个预测值范围内相等的情况。</p></blockquote><p id="23ae" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这意味着，如果您要绘制独立变量的残差，它应该围绕x轴大致对称，并且应该一致地分布在预测值上。围绕x轴对称意味着正方向和负方向的残差值相似。一致的分布意味着特定的预测值不会对模型产生更大的影响，因为残差会随着这些值的变化而变化。</p><p id="cd1d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们希望有同质性。为了检查同异方差，我们使用残差对自变量的散点图。一旦这个地块被创建，我们正在寻找一个矩形形状。这个矩形表示同质性。如果我们看到一个圆锥形，这表明异方差。</p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi mv"><img src="../Images/594a413e938c5c9ae99fec5d96950b46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z1XFm9psN1o8FOqc4QRH_w.png"/></div></div><figcaption class="ly lz gj gh gi ma mb bd b be z dk translated">同方差是线性回归的第三个假设。<a class="ae mc" href="https://www.albert.io/blog/key-assumptions-of-ols-econometrics-review/" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><h2 id="eab1" class="ko kp it bd kq kr ks dn kt ku kv dp kw kb kx ky kz kf la lb lc kj ld le lf lg bi translated">结论</h2><p id="01ef" class="pw-post-body-paragraph jq jr it js b jt lh jv jw jx li jz ka kb lj kd ke kf lk kh ki kj ll kl km kn im bi translated">当我们创建一个模型时，我们不仅要做一个预测，而且还要确保这个预测是可靠的。对于线性回归，我们需要满足三个假设才能对结果有信心，即线性、正态性和均方误差。</p></div></div>    
</body>
</html>