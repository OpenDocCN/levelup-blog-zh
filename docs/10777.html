<html>
<head>
<title>Balancing Between Microservices And Monolithic Architectures Is An Art</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">微服务和整体架构之间的平衡是一门艺术</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/balancing-between-microservices-and-monolithic-architectures-is-an-art-958976a7b15c?source=collection_archive---------14-----------------------#2022-01-10">https://levelup.gitconnected.com/balancing-between-microservices-and-monolithic-architectures-is-an-art-958976a7b15c?source=collection_archive---------14-----------------------#2022-01-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="247c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">微服务是好的，但在一定程度上并不是对所有团队都是如此</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/cadeaa76b347bcadee1c0df68ef1ffdf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_Mivbhize-S4Pi0I"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">拉格斯技术人员在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="a0d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">关于微服务及其带来的好处，我们已经看得够多了。</p><p id="944f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">大多数人谈论的是好处，比如提高开发速度，独立扩展服务。没有人谈论它的缺点。</p><p id="2afb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您自己没有构建一些微服务，您将不会意识到它们让您的团队陷入的复杂性。</p><p id="eaf8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这并不意味着我赞成建立一个大的整体应用程序。你需要在这两个概念之间找到平衡。</p><p id="d3a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是我多年搭建和维护微服务的心得。</p><h1 id="2ec0" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">太多的服务难以管理</h1><p id="b92f" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">曾经有一段时间，我和我的团队痴迷于微服务。一开始我们看到了很多好处，所以我们不断创造新的服务。</p><p id="4fae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们花了几个月的时间才意识到，为所有东西创建一个新的服务会让我们付出代价。它增加了调试和维护的时间。</p><p id="2f4c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当微服务相互依赖数据时，很难找出数据不一致的地方或哪个服务有问题。</p><p id="de8e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">添加新代码或调试可能影响其他服务的问题是一场噩梦。上下文切换和理解其他服务减少了微服务的好处。</p><p id="92fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这并不意味着，微服务不好。<strong class="lb iu"> <em class="ms">不要造太多微服务。取而代之的是，提供不是微型的服务，但也不应该过于庞大。</em> </strong></p><h1 id="8247" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">永远考虑你的团队规模</h1><p id="4da7" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">使用微服务的团队，服务往往多于团队成员的数量。在该比率变为3–4倍之前，这不是问题。</p><p id="85bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">微服务架构非常适合大型团队。你可以让一个开发者或者一个小团队专门做一个微服务。小团队和创业公司没有这个闲心。</p><p id="8715" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当小团队创建太多服务时，每个团队成员都有许多服务要处理和维护。这可能会变成一场噩梦。</p><p id="f045" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">团队规模是创建微服务时要考虑的一个重要方面。<strong class="lb iu"> <em class="ms">不要用太多的微服务让你的团队超负荷</em> </strong>。</p><h1 id="b61a" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">DevOps噩梦</h1><p id="a8ce" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">微服务如果编写和分离得好，确实可以让团队的DevOps变得简单。它有助于在不同类型的服务器上运行和扩展不同类型的服务。</p><p id="36e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可能有一个web应用、后端、pubsub服务和许多其他支持服务。所有这些服务在CPU和内存方面都有不同的要求。它们也可能有不同的负载。</p><p id="74c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">架构完善的微服务可帮助您独立扩展服务并降低成本。</p><p id="e366" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它也有不好的一面。您需要运行、维护和监控更多的服务。不仅如此，您还需要关注更多服务的安全性。</p><h1 id="5028" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">数据管理</h1><p id="5156" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">当您拥有相互通信的微服务时，这确实会使数据管理变得复杂。</p><p id="470d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">松散耦合的服务拥有自己的数据存储是架构的理想条件。但这是一个很难找到的案例。</p><p id="69b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当服务相互通信或具有公共数据存储时，如果服务停止，这可能会产生问题。这可能会损坏数据存储中的数据。</p><p id="f990" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">发现数据中的这些损坏需要您调试许多服务。</p><h1 id="f17e" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">会变成调试地狱</h1><p id="9c4c" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">当相互依赖的服务表现不佳时，开发人员需要研究多个服务以及服务之间的数据交换。</p><p id="c9ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种情况我经历过太多次了。有3-4个服务使用队列相互交互。我知道想要的数据</p><h1 id="dc70" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">离别的思绪</h1><p id="a3a1" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">我不反对微服务，但我反对为了好玩而创建微服务器。</p><p id="21f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="ms">许多团队跟风创造微服务，即使他们并不真正需要它们</em> </strong>。有些时候你需要它们，但是你不应该过度工作。</p><p id="5af8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">找到适合您的服务非常重要，在大多数情况下，您可能只需要几个服务就可以有效地开发、测试、部署和扩展。创建太多的服务会给你带来更多的痛苦而不是快乐。</p><p id="52ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望你喜欢阅读这篇文章。如果你愿意支持我当作家，请我喝杯咖啡，可以考虑报名  <a class="ae ky" href="https://singhamrit.medium.com/membership" rel="noopener"> <strong class="lb iu"> <em class="ms">成为中等会员</em> </strong> </a> <strong class="lb iu"> <em class="ms">。每月只需5美元，你就可以无限制地使用Medium。</em> </strong></p></div></div>    
</body>
</html>