<html>
<head>
<title>Convert Text to Speech using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python将文本转换为语音</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/convert-text-to-speech-using-python-b085943f2c54?source=collection_archive---------24-----------------------#2020-10-21">https://levelup.gitconnected.com/convert-text-to-speech-using-python-b085943f2c54?source=collection_archive---------24-----------------------#2020-10-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div class="gh gi jq"><img src="../Images/48f74c4f5a09c219fcc25e21e787f173.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*LzZdDAVT8aP-pk-RIrt0vQ.jpeg"/></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk translated">帕特里克·托马索在<a class="ae kb" href="https://unsplash.com/s/photos/text?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h2 id="7efc" class="kc kd it bd ke kf kg dn kh ki kj dp kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">在本文中，我们将讨论如何使用Python将文本转换成语音。</h2><p id="276b" class="pw-post-body-paragraph ky kz it la b lb lc ld le lf lg lh li kl lj lk ll kp lm ln lo kt lp lq lr ls im bi translated"><strong class="la iu">目录</strong></p><ul class=""><li id="2106" class="lt lu it la b lb lv lf lw kl lx kp ly kt lz ls ma mb mc md bi translated">介绍</li><li id="b9a7" class="lt lu it la b lb me lf mf kl mg kp mh kt mi ls ma mb mc md bi translated">基本的文本到语音转换</li><li id="baae" class="lt lu it la b lb me lf mf kl mg kp mh kt mi ls ma mb mc md bi translated">改变声音</li><li id="92e8" class="lt lu it la b lb me lf mf kl mg kp mh kt mi ls ma mb mc md bi translated">改变语速</li><li id="61e3" class="lt lu it la b lb me lf mf kl mg kp mh kt mi ls ma mb mc md bi translated">改变音量</li><li id="66b9" class="lt lu it la b lb me lf mf kl mg kp mh kt mi ls ma mb mc md bi translated">将语音保存为mp3文件</li><li id="c943" class="lt lu it la b lb me lf mf kl mg kp mh kt mi ls ma mb mc md bi translated">结论</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="8269" class="mq kd it bd ke mr ms mt kh mu mv mw kk mx my mz ko na nb nc ks nd ne nf kw ng bi translated">介绍</h1><p id="fa68" class="pw-post-body-paragraph ky kz it la b lb lc ld le lf lg lh li kl lj lk ll kp lm ln lo kt lp lq lr ls im bi translated">随着编程社区的发展，文本到语音(TTS)的转换以及语音合成变得越来越流行。</p><p id="874a" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">目前有几个Python库支持这一功能，它们被持续维护并添加了新的特性。</p><p id="4820" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">要继续学习本教程，我们需要以下Python库:pyttsx3。</p><p id="7423" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">如果您没有安装它，请打开“命令提示符”(在Windows上)并使用以下代码安装它:</p><pre class="nk nl nm nn gt no np nq nr aw ns bi"><span id="f2c2" class="kc kd it np b gy nt nu l nv nw">pip install pyttsx3</span></pre></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="72a9" class="mq kd it bd ke mr ms mt kh mu mv mw kk mx my mz ko na nb nc ks nd ne nf kw ng bi translated">使用Python进行基本的文本到语音转换</h1><p id="c413" class="pw-post-body-paragraph ky kz it la b lb lc ld le lf lg lh li kl lj lk ll kp lm ln lo kt lp lq lr ls im bi translated">这个库的基本功能使用起来非常简单。我们需要做的就是导入库并初始化语音引擎，将文本转换为字符串格式，并执行文本到语音的转换过程:</p><figure class="nk nl nm nn gt ju"><div class="bz fp l di"><div class="nx ny l"/></div></figure><p id="e18c" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">在默认设置下，你会听到一个女声快速地说出这句话。如果你想改变声音或语速或音量，库提供了很大的灵活性。</p><p id="129a" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">我们初始化的类的<strong class="la iu">引擎</strong>实例有<strong class="la iu">。getProperty() </strong>方法，它将帮助我们将当前的默认设置调整为我们想要的设置。</p><p id="c25c" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">现在，您可以开始探索更多的特性，并了解更多关于如何使用Python将文本转换为语音的信息。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="dd52" class="mq kd it bd ke mr ms mt kh mu mv mw kk mx my mz ko na nb nc ks nd ne nf kw ng bi translated">改变声音</h1><p id="3aaf" class="pw-post-body-paragraph ky kz it la b lb lc ld le lf lg lh li kl lj lk ll kp lm ln lo kt lp lq lr ls im bi translated">我们在上一节中初始化的类的引擎实例具有pyttsx3库，默认配置中包含两种类型的声音:男声和女声。</p><p id="6739" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">这些可以通过简单地运行以下命令来检索:</p><figure class="nk nl nm nn gt ju"><div class="bz fp l di"><div class="nx ny l"/></div></figure><p id="f0de" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">您应该得到的回报是一个包含每个声音的本地存储位置的列表。现在我们想尝试每一种方法，我们简单地通过一个循环运行文本到语音的基本用法代码:</p><figure class="nk nl nm nn gt ju"><div class="bz fp l di"><div class="nx ny l"/></div></figure><p id="740c" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">我们可以观察到，男性声音存储在索引为0的列表中，女性声音存储在索引为1的列表中。</p><p id="f964" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">为了将语音设置为永久设置，我们初始化的类的<strong class="la iu">引擎</strong>实例具有<strong class="la iu">。setProperty() </strong>方法。它将允许我们指定代码应该使用两种声音中的哪一种。</p><p id="44dc" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">假设我想将声音永久更改为男性(记住它在索引0处):</p><figure class="nk nl nm nn gt ju"><div class="bz fp l di"><div class="nx ny l"/></div></figure><p id="29fb" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">现在，您将尝试使用初始化的<strong class="la iu">引擎</strong>运行的每个短语都将始终有男性的声音。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="3ab5" class="mq kd it bd ke mr ms mt kh mu mv mw kk mx my mz ko na nb nc ks nd ne nf kw ng bi translated">改变语速</h1><p id="5570" class="pw-post-body-paragraph ky kz it la b lb lc ld le lf lg lh li kl lj lk ll kp lm ln lo kt lp lq lr ls im bi translated">在我们改变了声音之后，我们可能想要调整每个短语的语速。</p><p id="826f" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">利用已知的<strong class="la iu">。getProperty() </strong>方法我们将首先找出当前的语音速率是多少:</p><figure class="nk nl nm nn gt ju"><div class="bz fp l di"><div class="nx ny l"/></div></figure><p id="45bd" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">对于默认设置，速率显示为200(应该是每分钟字数)。</p><p id="3ff5" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">当我开始听这个引擎的时候，我觉得它太快了，所以我想把每分钟的字数减少到125个。类似于设置声音，我们将使用<strong class="la iu">。setProperty() </strong>处理语音速率并测试它的方法:</p><figure class="nk nl nm nn gt ju"><div class="bz fp l di"><div class="nx ny l"/></div></figure><p id="e460" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">您应该会听到一个明显较慢的讲话，这样听起来会更舒服。</p><p id="a105" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">在另一种情况下，如果你觉得语速太低，你可以随时调整它，通常只是不断尝试不同的值，直到你找到一个你满意的。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="d68f" class="mq kd it bd ke mr ms mt kh mu mv mw kk mx my mz ko na nb nc ks nd ne nf kw ng bi translated">改变音量</h1><p id="f5a4" class="pw-post-body-paragraph ky kz it la b lb lc ld le lf lg lh li kl lj lk ll kp lm ln lo kt lp lq lr ls im bi translated">类似于语速调整，我们可以改变我们设置的音量。</p><p id="1286" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">使用已知的<strong class="la iu">。getProperty() </strong>方法我们首先会找出当前的体积是多少:</p><figure class="nk nl nm nn gt ju"><div class="bz fp l di"><div class="nx ny l"/></div></figure><p id="9fbf" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">对于默认设置，比率显示为1.0(这是我们可以拥有的最大值，范围在0和1之间)。</p><p id="d811" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">基本上可以选择0到1之间的任意值，看看音量是怎么变化的。与设置语速类似，我们将使用<strong class="la iu">。setProperty() </strong>处理卷并对其进行测试的方法:</p><figure class="nk nl nm nn gt ju"><div class="bz fp l di"><div class="nx ny l"/></div></figure><p id="976a" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">这里我们将音量设置为之前的一半，注意听测试短语时的不同。</p><p id="53e3" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">这种设置允许根据基于文本到语音转换的使用的叙述进行调整，具有很大的灵活性。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="1923" class="mq kd it bd ke mr ms mt kh mu mv mw kk mx my mz ko na nb nc ks nd ne nf kw ng bi translated">使用Python将语音保存为mp3文件</h1><p id="28b6" class="pw-post-body-paragraph ky kz it la b lb lc ld le lf lg lh li kl lj lk ll kp lm ln lo kt lp lq lr ls im bi translated">这个库中提供的另一个奇妙的功能是能够简单地将我们的文本到语音转换存储为mp3文件，以后可以在任何音频播放器中收听。</p><p id="7d64" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">代码非常简单，需要用户做两件事:将被转换成语音的文本和输出文件的名称:</p><figure class="nk nl nm nn gt ju"><div class="bz fp l di"><div class="nx ny l"/></div></figure><p id="1312" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">上面的代码将输出保存为mp3文件，保存在Python脚本所在的位置。当然，您可以通过在输出文件路径中指定目的地来改变它。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="3b49" class="mq kd it bd ke mr ms mt kh mu mv mw kk mx my mz ko na nb nc ks nd ne nf kw ng bi translated">结论</h1><p id="2fc9" class="pw-post-body-paragraph ky kz it la b lb lc ld le lf lg lh li kl lj lk ll kp lm ln lo kt lp lq lr ls im bi translated">在本文中，我们讨论了如何使用Python将文本转换成语音。</p><p id="e559" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">通过学习这段代码，您应该能够通过必要的调整将全文转换为语音。</p><p id="f3c0" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">我也鼓励你看看我在<a class="ae kb" href="https://pyshark.com/category/python-programming/" rel="noopener ugc nofollow" target="_blank"> Python编程</a>上的其他帖子。</p><p id="fe3b" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">你可以在这里了解更多关于pyttsx3库<a class="ae kb" href="https://pypi.org/project/pyttsx3/" rel="noopener ugc nofollow" target="_blank">的信息。</a></p><p id="e4f1" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated">如果你有任何问题或者对编辑有任何建议，请在下面留下你的评论。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="b71c" class="pw-post-body-paragraph ky kz it la b lb lv ld le lf lw lh li kl nh lk ll kp ni ln lo kt nj lq lr ls im bi translated"><em class="nz">原载于2020年10月21日</em><a class="ae kb" href="https://pyshark.com/convert-text-to-speech-using-python/" rel="noopener ugc nofollow" target="_blank"><em class="nz">【https://pyshark.com】</em></a><em class="nz">。</em></p></div></div>    
</body>
</html>