<html>
<head>
<title>Explaining Android Product Flavors using a Real-life Example</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用现实生活中的例子解释Android产品的风格</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/explaining-android-product-flavors-using-a-real-life-example-a539c306b62c?source=collection_archive---------10-----------------------#2022-11-23">https://levelup.gitconnected.com/explaining-android-product-flavors-using-a-real-life-example-a539c306b62c?source=collection_archive---------10-----------------------#2022-11-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/a06f4fc3792288f3bb4126c4b0e2f71a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1046/format:webp/1*QAGSr3pRvomHnzeZK-Lq2A.png"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">产品风味图像</figcaption></figure><p id="48d4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">文章的流程:</strong></p><ol class=""><li id="e565" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lb lc ld le bi translated">什么是产品风味？</li><li id="74d0" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">我们可以使用产品口味的场景。</li><li id="d66b" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">使用产品风格创建CodingQuestions应用程序</li></ol><h1 id="1791" class="lk ll iq bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">什么是产品风味？</h1><p id="2aee" class="pw-post-body-paragraph jy jz iq ka b kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr mm kt ku kv ij bi translated">产品风格是你的应用程序的变体。当你想创建应用程序的多个版本时，这是非常有用的。使用产品风格，我们可以使用相同的基本代码开发应用程序的多个变体。</p><h1 id="f029" class="lk ll iq bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">我们可以使用产品口味的场景</h1><p id="16a1" class="pw-post-body-paragraph jy jz iq ka b kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr mm kt ku kv ij bi translated"><strong class="ka ir">场景1 </strong>:假设你有一个非常受欢迎的应用程序，公司联系你，让你使用你的受欢迎应用程序的相同功能，在你的应用程序中进行一些定制，并添加一些更多的功能，这被称为<strong class="ka ir">白标</strong>。</p><p id="5cda" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">场景二</strong>:假设你有一个免费使用的app。现在你想用同样的功能和额外的功能，但这将是付费应用程序的另一个应用程序。我们也可以在这个场景中使用产品风味。</p><h1 id="bd38" class="lk ll iq bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">使用产品风格创建CodingQuestions应用程序</h1><p id="569d" class="pw-post-body-paragraph jy jz iq ka b kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr mm kt ku kv ij bi translated">现在，我们将创建一个应用程序，在回收视图中显示编码问题。考虑这样一个场景，你希望一个应用程序是免费的，有几个问题被锁定，几个问题被解锁，第二个应用程序是一个高级应用程序，有所有问题被解锁，你还可以玩竞赛。因此，我们将利用产品风味的力量，使用通用代码来创建这两个应用程序。</p><p id="cff6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">我来解释几个基础:</strong></p><p id="e4ae" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">构建变体</strong>由构建类型和产品风格组成。构建变体是Gradle使用一组特定的规则来组合在您的构建类型和产品风格中配置的设置、代码和资源的结果<strong class="ka ir">。</strong></p><p id="1af1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">构建类型</strong>应用不同的构建和打包设置。构建类型的一个例子是“调试”和“发布”。构建类型是指<strong class="ka ir">构建和打包设置，如项目的签名配置</strong>。例如，调试和发布版本类型。调试将使用android调试证书来打包APK文件。而发布构建类型将使用用户定义的发布证书来签署和打包APK。</p><p id="a65b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">这里是</strong> <a class="ae mn" href="https://github.com/Arunshaik2001/CodingPlatform" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> Github回购</strong> </a></p><p id="bf7d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">首先，创建一个空的android studio项目。我把它命名为<strong class="ka ir">编码平台</strong>。</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi mo"><img src="../Images/e0d856e6750d6131af6aab3adac8ba92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uKSnkSylUD73P1N-OpL9QA.png"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">创建android studio项目</figcaption></figure><p id="4181" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，来谈谈产品风味。</p><p id="83e7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">转到<strong class="ka ir"> build.gradle(:app) </strong>文件。</p><p id="53df" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在android中，添加这些行，然后按sync now。</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/076f130ba247780d31e8ecdcdb8e5037.png" data-original-src="https://miro.medium.com/v2/resize:fit:832/format:webp/1*sQNwO9Q7V54xWI8xlRQZpQ.png"/></div></figure><p id="6320" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">点击左下角的<strong class="ka ir"> BuildVariants </strong>选项卡。你会看到这样的东西。</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div class="gh gi my"><img src="../Images/4d8b875c380bf67c0008e25d7fc21832.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/1*lIYDNVet59M0NoL7CfIabg.png"/></div></figure><p id="3e2a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">恭喜你，你已经创建了4个不同的版本。</p><p id="c28d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在转到<strong class="ka ir"> app- &gt; src。</strong>右击src转到<strong class="ka ir">新建- &gt;目录。</strong></p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/b17608592bd4b2bfaeab38f7deb96e01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1342/format:webp/1*4jbfIbhzSox9HDF5SJBs0A.png"/></div></figure><p id="bfac" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，点击</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div class="gh gi na"><img src="../Images/15cfa03fdeb38a2b43a351000697c0f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:652/format:webp/1*I2qq_ahpAB4CxLcwnRKOsA.jpeg"/></div></figure><p id="a54b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一个一个选。</p><p id="1a1d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，您应该会看到类似这样的内容。</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/6bed2de0d0358b6567cddd6a379a9a0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:606/format:webp/1*pRWCKzI0J3-JFsS9ATL6XA.png"/></div></figure><p id="70a7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你不会在新目录中看到高级选项。为此，从“构建变体”选项卡中选择preimumDebug。然后也为它们创建文件夹。</p><p id="0cbc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">执行完这些步骤后。您应该会看到类似这样的内容。</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/46818881cf09a08bfb13c4534c7e5652.png" data-original-src="https://miro.medium.com/v2/resize:fit:526/format:webp/1*I_8daoAeoH8YN4jyGQa_OA.png"/></div></figure><p id="8e1d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，我们将专注于构建我们的应用程序，它使用回收器视图显示了一系列问题。我不打算解释回收者的观点，因为我们只想关注产品口味。</p><p id="1d30" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但是，这里是代码。</p><p id="26a2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你必须在<strong class="ka ir">主</strong>文件夹中创建这些kotlin文件，就像你在不使用产品风格的情况下制作android应用程序一样。</p><figure class="mp mq mr ms gt jr"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="ea28" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是一个名为<strong class="ka ir">的数据类问题</strong></p><figure class="mp mq mr ms gt jr"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="eecd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在<strong class="ka ir">转到freeDebug文件夹</strong>。按此顺序创建文件夹。</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/599a5c635edd0a4c5511fc570a8ac58f.png" data-original-src="https://miro.medium.com/v2/resize:fit:806/format:webp/1*ij4sIreYSZ9-DBRVBMg0YQ.png"/></div></figure><p id="b6f3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，在示例文件夹中创建MainActivity.kt。</p><p id="a8e2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是<strong class="ka ir"> MainActivity.kt </strong>文件代码</p><figure class="mp mq mr ms gt jr"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="4442" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在相同的中，遵循Premiumdebug的相同步骤。将代码粘贴到<strong class="ka ir"> MainActivity.kt </strong>中</p><figure class="mp mq mr ms gt jr"><div class="bz fp l di"><div class="nd ne l"/></div></figure><h2 id="973a" class="ng ll iq bd lm nh ni dn lq nj nk dp lu kj nl nm ly kn nn no mc kr np nq mg nr bi translated">如果你已经注意到我在使用主目录中的activity_main.xml和item_views.xml文件，这就是产品风格的魅力所在。</h2><h2 id="c362" class="ng ll iq bd lm nh ni dn lq nj nk dp lu kj nl nm ly kn nn no mc kr np nq mg nr bi translated">注意:我在这里使用视图绑定。所以请参考这篇<a class="ae mn" href="https://medium.com/@arunshaik432/android-view-binding-31daf3a5079" rel="noopener">视图绑定文章</a>以便更好地理解。</h2><p id="bc0d" class="pw-post-body-paragraph jy jz iq ka b kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr mm kt ku kv ij bi translated">我已经将字符串值放在了各自变体的<strong class="ka ir">RES-&gt;values-&gt;strings . XML</strong>中。</p><p id="032e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，如果您已经从BuildVariant选项卡中选择了<strong class="ka ir"> freeDebug </strong>。你会看到这个。</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/77339661ac363b793720703a24000572.png" data-original-src="https://miro.medium.com/v2/resize:fit:320/format:webp/1*rP-jMFcoJGa09GM0_qH4mQ.jpeg"/></div></figure><p id="8092" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，如果你选择<strong class="ka ir">高级调试</strong>，你会看到这个。</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/d53bb9c0f38274f9397089ddb642cf8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:320/format:webp/1*9_6Ydxg81U29dsfe6uYR4A.jpeg"/></div></figure><p id="0622" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">它将处于水平方向。</p><p id="a043" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，更改各个变体的<strong class="ka ir">应用程序启动器图标</strong>。遵循这些步骤。</p><p id="8220" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">右键单击src- &gt;新建- &gt;图像资产</strong></p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/df58aa95642436ad0e9b99dbfc17a9e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/format:webp/1*vyd-Va3eWloyMgT--p93Qw.png"/></div></figure><p id="5742" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">选择你的启动器图标，点击下一步</strong></p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nu"><img src="../Images/95398f71ea22b11bb46dafb3c7b4ea4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_F7b0rm_rliIh6bktD5jRg.png"/></div></div></figure><p id="1ee9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">选择preiumDebug作为根目录</strong></p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nv"><img src="../Images/e4cda806539cfc0f9bfe7be5ca095aa6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IZARrSLnDlhyGEiV95AdBg.png"/></div></div></figure><p id="91d0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">点击完成。</strong></p><p id="ff03" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">按照相同的步骤进行FreeDebug。</strong></p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/a06f4fc3792288f3bb4126c4b0e2f71a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1046/format:webp/1*QAGSr3pRvomHnzeZK-Lq2A.png"/></div></figure><p id="d92c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你会看到这样的图标。</p><p id="aaf2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以通过更改strings.xml文件中的app_name来更改应用程序名称。</p><p id="e23f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以像我们在main中所做的那样，通过在themes.xml文件中进行更改来更改不同变体的主题。</p><p id="8f11" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用产品风格创建免费和优质应用程序的工作已经完成。</p><p id="b5c7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">感谢您阅读</strong></p></div></div>    
</body>
</html>