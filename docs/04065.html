<html>
<head>
<title>Automate your React Native App with Fastlane</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用浪子自动化您的React原生应用程序</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/automate-your-react-native-app-with-fastlane-ea516b4a893?source=collection_archive---------8-----------------------#2020-06-08">https://levelup.gitconnected.com/automate-your-react-native-app-with-fastlane-ea516b4a893?source=collection_archive---------8-----------------------#2020-06-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="6b30" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">简化截图、测试版部署、应用商店部署和React原生应用的登录🚀</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/10f994d141b5c6124a2fd45d38834678.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dO3Gl0q9SSZV_LXfM_V5hw.jpeg"/></div></div></figure><h1 id="0e15" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">介绍</h1><p id="b2ba" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">对于iOS和Android来说，有时创建截图、测试版、分发给测试人员等都需要很长时间。为什么不将这些任务自动化呢？</p><p id="62b5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这就是浪子帮助我们节省大量时间的原因😎。</p><h2 id="a45f" class="ma ky iq bd kz mb mc dn ld md me dp lh jy mf mg ll kc mh mi lp kg mj mk lt ml bi translated">什么是浪子？</h2><p id="20d7" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">浪子是一个工具集，用于自动化iOS和Android的开发和发布过程。</p><p id="efca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它允许:</p><ul class=""><li id="f725" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated">截屏</li><li id="839f" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">测试版部署</li><li id="1f6d" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">商店部署</li><li id="3137" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">代码签名</li></ul><p id="e3aa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">浪子在iOS和Android上都使用React Native，这就是我们将要做的🎯</p><p id="e566" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本文中，我将使用一个来自我之前关于Google AdMob的文章的示例应用程序</p></div><div class="ab cl nb nc hu nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ij ik il im in"><h1 id="45e7" class="kx ky iq bd kz la ni lc ld le nj lg lh li nk lk ll lm nl lo lp lq nm ls lt lu bi translated">设置</h1><p id="cd14" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">在使用浪子之前，我们需要安装它。这些是先决条件:</p><ul class=""><li id="d4c3" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated">苹果电脑(浪子不能在Windows上运行)</li><li id="ca4b" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">一个React原生app(真的？😂)</li><li id="2710" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">Xcode命令行工具:</li></ul><pre class="km kn ko kp gt nn no np nq aw nr bi"><span id="b74b" class="ma ky iq no b gy ns nt l nu nv">$ xcode-select --install</span></pre><ul class=""><li id="7333" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated">浪子使用<a class="ae na" href="https://www.ruby-lang.org/en/downloads/" rel="noopener ugc nofollow" target="_blank">红宝石</a>，所以我们需要安装它:</li></ul><pre class="km kn ko kp gt nn no np nq aw nr bi"><span id="e152" class="ma ky iq no b gy ns nt l nu nv">$ brew install ruby</span></pre><ul class=""><li id="4c93" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated">自然，我们需要安装浪子:</li></ul><pre class="km kn ko kp gt nn no np nq aw nr bi"><span id="89fe" class="ma ky iq no b gy ns nt l nu nv">$ sudo gem install fastlane -NV</span></pre><h2 id="883f" class="ma ky iq bd kz mb mc dn ld md me dp lh jy mf mg ll kc mh mi lp kg mj mk lt ml bi translated">iOS部分</h2><p id="d04c" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">在这一部分，我们将使用浪子来签署和部署iOS的测试版。</p><p id="ede0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在使用浪子之前，您需要确保以下步骤:</p><ul class=""><li id="77ab" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated">拥有<strong class="jp ir"> Xcode 9或更高版本</strong></li><li id="0128" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">一个<strong class="jp ir">苹果开发者Id </strong>(邮箱+密码)<strong class="jp ir">带管理员权限</strong></li><li id="f198" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">设置您的应用程序<strong class="jp ir">捆绑包标识符</strong>(例如com.rnadmob)</li><li id="0cf3" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">App Store Connect中的一个<strong class="jp ir">应用名称</strong>(如果你没有，浪子会帮你做😎)</li><li id="dbba" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">一个<strong class="jp ir">应用图标</strong>(没有它苹果不会让你上传你的应用)</li><li id="0a16" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">在iOS文件夹中放置一个. gitignore文件(这样git就不会关心浪子文件)</li></ul><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nw nx l"/></div><figcaption class="ny nz gj gh gi oa ob bd b be z dk translated">ios/。gitignore</figcaption></figure><p id="89a6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">准备项目</p><ul class=""><li id="940f" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated"><strong class="jp ir">设置您的捆绑包标识符:</strong>通用- &gt;标识部分- &gt;捆绑包标识符</li><li id="da9b" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated"><strong class="jp ir">禁用自动签名:</strong>常规- &gt;签名部分</li><li id="99c4" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated"><strong class="jp ir">修改构建设置进行签名:</strong>构建设置- &gt;签名部分- &gt;代码签名标识并设置这些值:</li></ul><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi oc"><img src="../Images/aafb96b5fb5dc35154b2dc265eccc518.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZtKOZ4n3It40R3ZZUbb0sA.png"/></div></div></figure><p id="a49c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">设置浪子</strong></p><p id="2b3a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们现在可以在iOS文件夹中初始化浪子项目:</p><pre class="km kn ko kp gt nn no np nq aw nr bi"><span id="2e73" class="ma ky iq no b gy ns nt l nu nv">$ cd RNAdMob/ios<br/>$ sudo fastlane init</span></pre><p id="2455" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您会被问到不同的问题:</p><ul class=""><li id="aa89" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated"><strong class="jp ir">你想做什么:</strong></li></ul><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi od"><img src="../Images/14b23dad11641e76c1afde69207073b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1058/format:webp/1*tI3ujECuJPPiDKw4HwwHXQ.png"/></div><figcaption class="ny nz gj gh gi oa ob bd b be z dk translated">浪子问题</figcaption></figure><p id="9d28" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将选择"<strong class="jp ir">自动测试版发布到试飞</strong>"</p><ul class=""><li id="737a" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated"><strong class="jp ir">选择方案:</strong></li></ul><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi oe"><img src="../Images/52380393221ebb609e9486e8718ef583.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F1nOUpIuXwFAuonw-7aq9g.png"/></div></div><figcaption class="ny nz gj gh gi oa ob bd b be z dk translated">浪子计划</figcaption></figure><p id="f2ce" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我的情况下，我将使用第一个</p><ul class=""><li id="1815" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated"><strong class="jp ir">您的Apple ID用户名和密码</strong></li></ul><p id="e5c9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您的帐户可能启用了2FA，因此您需要创建并提供一个“特定于应用程序的密码”</p><p id="ba95" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">也有可能发现多个团队，选择合适的团队。</p><ul class=""><li id="fffe" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated"><strong class="jp ir">在App Store Connect上创建应用:</strong></li></ul><p id="10b8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您的应用程序尚未创建，浪子将询问您是否希望它创建应用程序。</p><ul class=""><li id="bf50" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated"><strong class="jp ir">完成</strong></li></ul><p id="7af7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你的设置已经完成，浪子现在会给你一些信息。🥳</p><h2 id="ed95" class="ma ky iq bd kz mb mc dn ld md me dp lh jy mf mg ll kc mh mi lp kg mj mk lt ml bi translated">测试版部署和代码签名(带证书和签名)</h2><p id="e697" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">App Store上的每个应用都需要签名。代码签名向用户保证，您的应用程序来自自上次签名以来未被修改过的已知来源。</p><p id="6fad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">浪子允许我们自动快速地签署申请。与浪子签约的两种主要方法是:</p><ul class=""><li id="a247" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated"><strong class="jp ir">匹配:</strong>将您的私钥和证书存储在git repo中，以便跨机器同步它们。这使得加入新的团队成员和设置新的Mac机器变得容易。这种方法<a class="ae na" href="https://docs.fastlane.tools/actions/match/#is-this-secure" rel="noopener ugc nofollow" target="_blank">是安全的</a>并且使用你已经使用的技术。</li><li id="5a3e" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">Cert和Sigh: 它们允许您在不撤销现有证书的情况下签署您的应用程序。</li></ul><p id="4ede" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">浪子在他的配置中使用了两个文件:</p><ul class=""><li id="26a0" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated"><strong class="jp ir"> Appfile: </strong>存储苹果ID、应用标识符等信息…</li><li id="9a8b" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated"><strong class="jp ir">快速文件:</strong>包含车道。一条车道相当于一项任务、一项功能。</li></ul><p id="e4bd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们可以在<strong class="jp ir"> ios/fastlane下找到这些文件。</strong>在Fastfile中，我们已经有了一个“beta”lane:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nw nx l"/></div><figcaption class="ny nz gj gh gi oa ob bd b be z dk translated">基本快速文件</figcaption></figure><p id="31ea" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是浪子在初始化期间生成的基本文件。我们可以描述不同的步骤:</p><ul class=""><li id="8603" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated"><strong class="jp ir">increment _ build _ number:</strong>增加“info.plist”文件中的版本号。(您不必在App Store Connect上建立相同的号码)</li><li id="0965" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated"><strong class="jp ir"> build_app: </strong>我们可以推断它构建了我们的app😊</li><li id="2fbf" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated"><strong class="jp ir"> upload_to_testflight: </strong>将构建上传到应用商店连接和测试飞行</li></ul><p id="db79" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这条车道怎么跑？你只需要进入<strong class="jp ir"> ios/fastlane </strong>并运行:</p><pre class="km kn ko kp gt nn no np nq aw nr bi"><span id="5195" class="ma ky iq no b gy ns nt l nu nv">fastlane beta</span></pre><p id="8b0c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通道将开始工作，但会失败。为什么？你的应用程序未签名…因此我们需要在通道中添加更多步骤。</p><p id="929e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以下是修改了车道的新文件:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nw nx l"/></div><figcaption class="ny nz gj gh gi oa ob bd b be z dk translated">修改的快速文件</figcaption></figure><p id="1d7f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这个新版本中，我们增加了:</p><ul class=""><li id="c3cb" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated">它将创建或获取一个证书</li><li id="e1d0" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated"><strong class="jp ir">获取预配概要文件:</strong>创建或获取预配概要文件</li><li id="06b6" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated"><strong class="jp ir">更新项目供应:</strong>设置供应配置文件</li><li id="f30a" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated"><strong class="jp ir">更新_项目_团队:</strong>为项目设置团队</li></ul><p id="1d46" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，您将能够运行:</p><pre class="km kn ko kp gt nn no np nq aw nr bi"><span id="05fc" class="ma ky iq no b gy ns nt l nu nv">fastlane beta</span></pre><h2 id="24d8" class="ma ky iq bd kz mb mc dn ld md me dp lh jy mf mg ll kc mh mi lp kg mj mk lt ml bi translated">测试版部署和代码签名(带匹配)</h2><p id="2521" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">正如浪子文档中所说，match可能是签署我们应用程序的最佳解决方案。Match允许我们在所有开发团队中共享一个代码签名。</p><p id="d0c1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">设置匹配</strong></p><p id="4c62" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在设置match之前，您需要创建一个新的私有Git Repo。比如在<a class="ae na" href="https://github.com/" rel="noopener ugc nofollow" target="_blank">https://github.com/</a>上。</p><p id="0722" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">创建私人回购后，您可以运行:</p><pre class="km kn ko kp gt nn no np nq aw nr bi"><span id="295d" class="ma ky iq no b gy ns nt l nu nv">fastlane match init</span></pre><p id="84b3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您将被询问GitHub repo URL(首选SSH)。在你给出GitHub repo之后，一个“匹配文件”会在浪子文件夹中被创建:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nw nx l"/></div><figcaption class="ny nz gj gh gi oa ob bd b be z dk translated">基本匹配文件</figcaption></figure><p id="48ca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">既然已经设置了匹配，我们可以使用它来创建证书和配置文件:</p><pre class="km kn ko kp gt nn no np nq aw nr bi"><span id="357f" class="ma ky iq no b gy ns nt l nu nv"># For the App Store<br/>fastlane match appstore</span><span id="0ab3" class="ma ky iq no b gy of nt l nu nv"># For the development<br/>fastlane match development</span></pre><p id="b159" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在此过程中，系统会提示您输入登录钥匙串和密码来加密/解密您的证书。</p><p id="951f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">完成后，您的证书将被推送到私有Git repo:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi og"><img src="../Images/9128170b223d640f2f7a8a6c7bc5dd45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mGmoxnHkX8UFFoBOvWXvYw.png"/></div></div><figcaption class="ny nz gj gh gi oa ob bd b be z dk translated">GitHub中的证书</figcaption></figure><p id="3b3b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Match有很多可能的操作，你可以在<a class="ae na" href="https://docs.fastlane.tools/actions/match/" rel="noopener ugc nofollow" target="_blank">文档</a>中找到更多。</p><p id="b841" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">既然已经创建了匹配证书和配置文件，我们可以在“beta lane”中使用它，如下所示:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nw nx l"/></div><figcaption class="ny nz gj gh gi oa ob bd b be z dk translated">带匹配的快速文件</figcaption></figure><h1 id="7d5c" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">Android部件</h1><p id="904e" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">您可以在iOS和Android平台上使用浪子，现在我们将签署和部署我们的Android应用程序。</p><p id="303b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在使用浪子之前，您需要确保以下步骤:</p><ul class=""><li id="2944" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated">一个拥有管理员权限的<strong class="jp ir"> Google Play控制台账户</strong>(邮箱+密码)<strong class="jp ir"/></li><li id="aeeb" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">你的<strong class="jp ir">应用</strong>在Play控制台上创建了<strong class="jp ir">(不幸的是，浪子没有像iOS一样在Android上这么做)。</strong></li><li id="c79e" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">你的<strong class="jp ir">谷歌证书</strong>(更多信息<a class="ae na" href="https://docs.fastlane.tools/getting-started/android/setup/#collect-your-google-credentials" rel="noopener ugc nofollow" target="_blank">点击这里</a>)</li><li id="42e6" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">在iOS文件夹中放置一个. gitignore文件(这样git就不会关心浪子文件)</li></ul><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nw nx l"/></div><figcaption class="ny nz gj gh gi oa ob bd b be z dk translated">安卓/。gitignore</figcaption></figure><h2 id="4842" class="ma ky iq bd kz mb mc dn ld md me dp lh jy mf mg ll kc mh mi lp kg mj mk lt ml bi translated">设置浪子</h2><p id="df39" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">就像“ios”文件夹中的iOS一样，我们需要初始化“android”文件夹中的项目:</p><pre class="km kn ko kp gt nn no np nq aw nr bi"><span id="0783" class="ma ky iq no b gy ns nt l nu nv">$ cd RNAdMob/android<br/>$ sudo fastlane init</span></pre><p id="d158" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您会被问到不同的问题:</p><ul class=""><li id="5f2d" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated"><strong class="jp ir">包名</strong></li></ul><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi oh"><img src="../Images/22d04898865897ae1488c3e0d4a16cbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0Uqjba8dwSdqwwaVRGabbQ.png"/></div></div><figcaption class="ny nz gj gh gi oa ob bd b be z dk translated">包名</figcaption></figure><ul class=""><li id="ccd9" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated">你的<strong class="jp ir"> JSON秘密文件的路径</strong></li></ul><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi oi"><img src="../Images/f08ec9f0e5585f0af3cdd5fdeba70369.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*blRvI8Q_PFYfvZ55-mXRyw.png"/></div></div><figcaption class="ny nz gj gh gi oa ob bd b be z dk translated">JSON秘密文件</figcaption></figure><ul class=""><li id="cb59" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated">如果你想用浪子管理<strong class="jp ir">元数据</strong></li></ul><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi oj"><img src="../Images/af057755e15538e311969e2f8eaef63f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SXsBq3j8IqRgIscA_-5MXQ.png"/></div></div></figure><ul class=""><li id="d7d4" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated"><strong class="jp ir">完成</strong></li></ul><p id="4919" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你的设置已经完成，浪子现在会给你一些信息。🥳</p><h2 id="4a32" class="ma ky iq bd kz mb mc dn ld md me dp lh jy mf mg ll kc mh mi lp kg mj mk lt ml bi translated">内部测试和代码签名</h2><p id="f230" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">至于iOS，我们将创建一个测试通道来部署我们的代码。在此之前，我们需要生成一个签名密钥(浪子不这样做)。这与<a class="ae na" href="https://reactnative.dev/docs/signed-apk-android" rel="noopener ugc nofollow" target="_blank"> React Native Docs </a>中的方法相同。</p><p id="4e01" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您需要位于“android”文件夹的根目录:</p><pre class="km kn ko kp gt nn no np nq aw nr bi"><span id="d87b" class="ma ky iq no b gy ns nt l nu nv">keytool -genkey -v -keystore my-release-key.keystore -alias my-key-alias -keyalg RSA -keysize 2048 -validity 10000</span></pre><p id="8e92" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">生成密钥库后，您可以编辑Fastfile并修改“beta”lane，如下所示:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nw nx l"/></div><figcaption class="ny nz gj gh gi oa ob bd b be z dk translated">Android快速文件</figcaption></figure><p id="1e8a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">lane将执行以下操作:</p><ul class=""><li id="e62d" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated"><strong class="jp ir">询问您的商店密码</strong>(用于生成签名密钥的密码)</li><li id="a180" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated"><strong class="jp ir">问你钥匙密码</strong></li><li id="08d3" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated"><strong class="jp ir">构建应用</strong></li><li id="02af" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated"><strong class="jp ir">上传到play store内部发布:</strong>第一次上传到Play Store需要评论这个步骤，手动完成。"谷歌不允许我们在第一次上传时使用他们的API . "</li></ul><p id="7d67" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">🚧每次想要使用lane，都需要在“android/app/build.gradle”中递增“versionCode”。不幸的是，浪子不会自动这么做。</p></div><div class="ab cl nb nc hu nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ij ik il im in"><p id="036b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">浪子允许我们自动完成多项任务，从而节省大量时间。</p><p id="a90c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">GitLab回购:【dmg.link/blog-fastlane-repo】T2。</p><p id="8fb8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">你可以在这里</strong>  <strong class="jp ir">找到我的其他文章并关注我</strong> <a class="ae na" href="https://dmg.link/blog" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">。感谢阅读，我希望你今天学到了一些新东西🚀</strong></a></p></div><div class="ab cl nb nc hu nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ij ik il im in"><div class="km kn ko kp gt ok"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-sign-in-with-apple-on-react-native-4c445de5ff8c"><div class="ol ab fo"><div class="om ab on cl cj oo"><h2 class="bd ir gy z fp op fr fs oq fu fw ip bi translated">如何在React Native上“登录苹果”</h2><div class="or l"><h3 class="bd b gy z fp op fr fs oq fu fw dk translated">在React Native和Node.js上使用Apple认证用户的简单指南</h3></div><div class="os l"><p class="bd b dl z fp op fr fs oq fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="ot l"><div class="ou l ov ow ox ot oy kv ok"/></div></div></a></div><div class="oz pa gp gr pb ok"><a href="https://medium.com/swlh/how-to-use-face-id-with-react-native-or-expo-134231a25fe4" rel="noopener follow" target="_blank"><div class="ol ab fo"><div class="om ab on cl cj oo"><h2 class="bd ir gy z fp op fr fs oq fu fw ip bi translated">如何在React Native或Expo中使用Face ID</h2><div class="or l"><h3 class="bd b gy z fp op fr fs oq fu fw dk translated">将生物认证应用到React Native或Expo应用中。让您的用户使用它登录。</h3></div><div class="os l"><p class="bd b dl z fp op fr fs oq fu fw dk translated">medium.com</p></div></div><div class="ot l"><div class="pc l ov ow ox ot oy kv ok"/></div></div></a></div></div></div>    
</body>
</html>