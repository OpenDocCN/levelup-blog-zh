<html>
<head>
<title>How to run ESLint using a pre-commit hook</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用预提交钩子运行ESLint</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-run-eslint-using-pre-commit-hook-25984fbce17e?source=collection_archive---------0-----------------------#2017-04-24">https://levelup.gitconnected.com/how-to-run-eslint-using-pre-commit-hook-25984fbce17e?source=collection_archive---------0-----------------------#2017-04-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><blockquote class="jn jo jp"><p id="f65c" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">更新:有一个更好的方法来添加预提交挂钩到您的项目。结账<a class="ae kp" href="https://medium.com/@lorenzen.jacob/git-hooks-with-husky-8b98f2556363" rel="noopener"> <strong class="jt ir">哈士奇</strong>T3<strong class="jt ir">。</strong>你可以按照下面给出的教程学习如何手动添加预提交钩子，但是<strong class="jt ir">请注意</strong>我不再坚持要点了。</a></p></blockquote><p id="7861" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">在我们继续之前，我想提供一些关于ESLint和Git预提交钩子的背景知识。如果你熟悉它们，你可以跳过接下来的两个部分。</p><h1 id="85a8" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated"><strong class="ak"> ESLint </strong></h1><figure class="ls lt lu lv gt lw gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/e777d04ba75e500e8da1d29bb2df6093.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/1*FPWW16bppVNqmtkyR2LW7g.gif"/></div><figcaption class="lz ma gj gh gi mb mc bd b be z dk translated">图片来源:<a class="ae kp" href="https://libraries.io/atom/linter-plus-eslint" rel="noopener ugc nofollow" target="_blank">https://libraries.io/atom/linter-plus-eslint</a></figcaption></figure><p id="1871" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">开发人员在编码时容易犯错误。例如，您可能忘记关闭一个括号，或者您可能最终创建了一个已经存在的变量。但是，像这样的错误最终可能会破坏你的应用程序或网站。我们可能会将这些有问题的代码推送到云仓库，或者可能需要相当长的时间来解决由于这些错误导致的问题。如果你的代码正在被审查，这将消耗你的审查者的时间来发现这样的草率的错误，或者他们可能完全错过它。</p><p id="e17f" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">这就是林挺开始描绘的地方。<strong class="jt ir">林挺</strong>是运行一个程序来分析代码潜在错误的过程。对于林挺这样的潜在错误，我们使用棉绒。</p><p id="e8a8" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">帮助开发者写出干净的代码。每种语言可能都有自己的linters来解析代码。这里有一个我喜欢的链接，它列出了一些写更干净代码的好材料:<br/><a class="ae kp" href="https://github.com/showcases/clean-code-linters" rel="noopener ugc nofollow" target="_blank">https://github.com/showcases/clean-code-linters</a></p><p id="4a6f" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">在这些工具中，我们将特别提到ESLint，它是一个用于林挺JavaScript/ECMAScript 6的现代林挺工具。根据他们<a class="ae kp" href="http://eslint.org/docs/about/" rel="noopener ugc nofollow" target="_blank">网站</a>上的描述，</p><blockquote class="jn jo jp"><p id="987d" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">ESLint是一个开源的JavaScript林挺实用程序，最初由Nicholas C. Zakas于2013年6月创建。代码<a class="ae kp" href="http://en.wikipedia.org/wiki/Lint_(software)" rel="noopener ugc nofollow" target="_blank">林挺</a>是一种静态分析，经常被用来发现有问题的模式或不符合特定风格指南的代码。</p></blockquote><p id="4858" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">简而言之，它用于验证JavaScript文件是否存在潜在错误。ESLint中的“<em class="js">ES”</em>代表<strong class="jt ir"> ECMAScript </strong>。你可以创建一个<em class="js">。eslintrc </em>配置文件，并指定验证代码所依据的规则。您可以在您想要的编辑器中动态地Lint您的代码(检查是否有将ESLint与您的编辑器集成的插件/API ),或者您可以使用命令行工具lint它。选择权在你。我更喜欢飞行中的林挺。</p></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><h1 id="4c64" class="kt ku iq bd kv kw mk ky kz la ml lc ld le mm lg lh li mn lk ll lm mo lo lp lq bi translated"><strong class="ak"> Git预提交挂钩</strong></h1><figure class="ls lt lu lv gt lw gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi mp"><img src="../Images/c30abc3434456ef6aaea79ad328b943a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wjsbeBicpTWF-UHXn19ZbQ.jpeg"/></div></div><figcaption class="lz ma gj gh gi mb mc bd b be z dk translated">图片来源:<a class="ae kp" href="http://www.sterlinghamilton.com/git-hook-pre-commit-for-debug-comments/" rel="noopener ugc nofollow" target="_blank">http://www . sterling Hamilton . com/git-hook-pre-commit-for-debug-comments/</a></figcaption></figure><p id="d685" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">在讨论ESLint时，我举了一个例子，提到开发人员可能最终会推出一个有错误的代码，即使该代码是无效的。即使你已经建立了一个linter，它可能会保护你免受无效代码，但它不能保护你不把无效代码推给回购。我们需要一种机制来停止将这样的代码推给回购。</p><p id="b661" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">这就是Git预提交挂钩的地方。如果代码没有通过<code class="fe mu mv mw mx b">.git/hooks</code>中钩子设置的规则，它将阻止开发者提交代码。这些钩子应该是可执行的。</p><p id="2b58" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated"><strong class="jt ir">请注意，</strong>Git预提交钩子不仅仅可以用来验证你的代码。有关Git挂钩的信息，请访问<a class="ae kp" href="https://git-scm.com/book/gr/v2/Customizing-Git-Git-Hooks" rel="noopener ugc nofollow" target="_blank">https://git-scm.com/book/gr/v2/Customizing-Git-Git-Hooks</a></p></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><h1 id="8fa8" class="kt ku iq bd kv kw mk ky kz la ml lc ld le mm lg lh li mn lk ll lm mo lo lp lq bi translated"><strong class="ak"> ESLint Git预提交挂钩</strong></h1><p id="62db" class="pw-post-body-paragraph jq jr iq jt b ju my jw jx jy mz ka kb kq na ke kf kr nb ki kj ks nc km kn ko ij bi translated">我会使用现有的脚本<a class="ae kp" href="https://gist.github.com/linhmtran168/2286aeafe747e78f53bf" rel="noopener ugc nofollow" target="_blank">https://gist.github.com/linhmtran168/2286aeafe747e78f53bf</a></p><p id="65ac" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">以下是我在提交lint JavaScript/ES6之前遵循的步骤:</p><ol class=""><li id="43d7" class="nd ne iq jt b ju jv jy jz kq nf kr ng ks nh ko ni nj nk nl bi translated">如果您还没有为您的repo初始化git，那么通过运行命令:<br/> <code class="fe mu mv mw mx b">git init</code>来初始化git</li><li id="2933" class="nd ne iq jt b ju nm jy nn kq no kr np ks nq ko ni nj nk nl bi translated">您应该会看到在您的项目文件夹中创建了一个<code class="fe mu mv mw mx b">.git</code>文件夹。</li><li id="b2a3" class="nd ne iq jt b ju nm jy nn kq no kr np ks nq ko ni nj nk nl bi translated">转到<code class="fe mu mv mw mx b">.git/hooks</code>。你会看到一个名为<code class="fe mu mv mw mx b">pre-commit.sample</code>的文件</li><li id="c8e1" class="nd ne iq jt b ju nm jy nn kq no kr np ks nq ko ni nj nk nl bi translated">将该文件重命名为<code class="fe mu mv mw mx b">pre-commit</code></li><li id="9574" class="nd ne iq jt b ju nm jy nn kq no kr np ks nq ko ni nj nk nl bi translated">删除现有的示例代码。</li><li id="2f46" class="nd ne iq jt b ju nm jy nn kq no kr np ks nq ko ni nj nk nl bi translated">我根据Gist中iamjochem   <em class="js">的</em>评论修改了脚本<a class="ae kp" href="https://gist.github.com/linhmtran168/2286aeafe747e78f53bf" rel="noopener ugc nofollow" target="_blank">https://gist.github.com/linhmtran168/2286aeafe747e78f53bf</a>，并创建了自己的Gist来与ESLint一起使用。<br/><a class="ae kp" href="https://gist.github.com/rashtay/328da46a99a9d7c746636df1cf769675" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/rash tay/328 da 46 a 99 a9 d7c 746636 df 1 cf 769675</a></li><li id="7f8f" class="nd ne iq jt b ju nm jy nn kq no kr np ks nq ko ni nj nk nl bi translated">运行<code class="fe mu mv mw mx b">chmod +x .git/hooks/pre-commit</code>使其成为可执行文件。</li><li id="6fbd" class="nd ne iq jt b ju nm jy nn kq no kr np ks nq ko ni nj nk nl bi translated">瞧啊。</li></ol><p id="7f02" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">我希望听到反馈/改进建议。</p></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><div class="ls lt lu lv gt nr"><a href="https://skilled.dev" rel="noopener  ugc nofollow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd ir gy z fp nw fr fs nx fu fw ip bi translated">编写面试问题</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">掌握编码面试的过程</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">技术开发</p></div></div><div class="oa l"><div class="ob l oc od oe oa of lx nr"/></div></div></a></div></div></div>    
</body>
</html>