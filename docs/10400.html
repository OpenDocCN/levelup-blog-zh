<html>
<head>
<title>Is Fe the next smart contract language?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Fe是下一个智能合同语言吗？</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/is-fe-the-next-smart-contract-language-c9aae3c3ec18?source=collection_archive---------19-----------------------#2021-11-30">https://levelup.gitconnected.com/is-fe-the-next-smart-contract-language-c9aae3c3ec18?source=collection_archive---------19-----------------------#2021-11-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/61de4dc6c7abfaff8b5e8714aa7d1c12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SJbeUBeJD_RA43BGB2twDw.jpeg"/></div></div></figure><p id="81a6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当我开始编写智能合约时，我总是想知道是否有更好的方式来编写它们，可以避免类似C++的代码结构。谈到可靠性，你可以很容易地写出基本的合同。在我们进入<em class="kw"> Fe </em>到底是什么之前，让我们写一个基本的HelloWorld契约，看看它是什么样子的。</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="51dc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是一个基本的hello world solidity合同:</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="d819" class="ln lo iq lj b gy lp lq l lr ls">// SPDX-License-Identifier: MIT</span><span id="9ba7" class="ln lo iq lj b gy lt lq l lr ls">pragma solidity ^0.7.0;</span><span id="7ad1" class="ln lo iq lj b gy lt lq l lr ls">// Defines a contract named `HelloWorld`.<br/>contract HelloWorld {<br/>   string public message;<br/>   constructor(string memory initMessage) {<br/>      message = initMessage;<br/>   }<br/>   function update(string memory newMessage) public {<br/>      message = newMessage;<br/>   }<br/>   function viewMessage() public view returns(string memory) {<br/>      return message;<br/>   }<br/>}</span></pre><p id="1453" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你想部署这个契约，你可以在这里点击:<a class="ae lu" href="https://remix.ethereum.org/#version=soljson-v0.7.6+commit.7338295f.js&amp;optimize=false&amp;runs=200&amp;gist=95aa04cfa9faa9589b79acca0a494ad0" rel="noopener ugc nofollow" target="_blank"> Remix HelloWorld </a></p><p id="c112" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">很简单对吧。我不会深入这里，因为有很多教程解释同样的问题。虽然，我想通过结构。喜欢Python胜过其他语言的人知道，在编写代码时添加一个丢失的分号或一个大括号是多么令人沮丧。为了用一个更受python-rust启发的界面使这变得简单和容易，以太坊的人们开发了Fe。</p><p id="266c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Fe是一种新的编译器，写在铁锈上，元素周期表中表示铁元素的名称描述了耐久性。此外，铁锈会在铁上形成(干得好，Fe团队)。</p><p id="9932" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">别浪费时间了，让我们研究一下Fe。让我们把HelloWorld契约翻译成Fe。</p><p id="aa95" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了编译Fe代码，我们首先需要获取编译器二进制文件。让我们从这里的存储库版本中得到答案:<a class="ae lu" href="https://github.com/ethereum/fe/releases" rel="noopener ugc nofollow" target="_blank"> Fe版本</a>。您可以在发行版的下面的资源中找到二进制文件。我使用的是0.10.0 alpha，这是我写这篇文章时的最新版本。</p><p id="b98b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一旦你有了那个，让我们现在打合同。该生锈了。</p><p id="a299" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是Fe中的代码。你可以看到现在比早先是多么容易、简单和简洁。让我们在这里过一遍线。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="7639" class="ln lo iq lj b gy lp lq l lr ls"># The `contract` keyword defines a new contract type<br/>contract HelloWorld:<br/>    message: String&lt;100&gt;<br/>    pub fn __init__(self, _message: String&lt;100&gt;):<br/>        self.message = _message<br/>    pub fn update(self, newMessage: String&lt;100&gt;):<br/>        self.message = newMessage<br/>    pub fn getMessage(self) -&gt; String&lt;100&gt;:<br/>        return self.message.to_mem()</span></pre><p id="64af" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Github要点在这里:<a class="ae lu" href="https://gist.github.com/adityak74/722b9a7de697962c3d3c25fa94e5463c" rel="noopener ugc nofollow" target="_blank"> Helloworld.fe </a></p><ol class=""><li id="98e9" class="lv lw iq ka b kb kc kf kg kj lx kn ly kr lz kv ma mb mc md bi translated">contract关键字是Fe中的一个类型，它指定了我们在这里创建的对象的类型。我们正在使用关键字<code class="fe me mf mg lj b">contract</code>初始化一个合同模块。</li><li id="4ffc" class="lv lw iq ka b kb mh kf mi kj mj kn mk kr ml kv ma mb mc md bi translated"><code class="fe me mf mg lj b">message: String&lt;100&gt;</code>在这里实际上是一个声明，将全局变量消息声明为字符串类型，最大长度限制为100个字符。我们键入变量名，后跟一个冒号，指定变量的类型。</li><li id="3cb6" class="lv lw iq ka b kb mh kf mi kj mj kn mk kr ml kv ma mb mc md bi translated">init方法基本上是我们在python中看到的构造函数。我们使用相同的符号风格<code class="fe me mf mg lj b">variable: type</code>作为参数。注意每个方法中的python style <code class="fe me mf mg lj b">self</code>关键字。</li><li id="b538" class="lv lw iq ka b kb mh kf mi kj mj kn mk kr ml kv ma mb mc md bi translated">函数<code class="fe me mf mg lj b">getMessage</code>实际上返回一个字符串。为了做到这一点，我们使用了箭头关键字，你可以注意到以上。</li></ol><p id="c906" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们关注代码的<code class="fe me mf mg lj b">to_mem()</code>部分。这对于将被引用的类型值复制到内存中并由协定返回给调用方非常重要。这类似于<code class="fe me mf mg lj b">string memory</code>在《坚固性宣言》。这将值从存储器移动到内存。</p><p id="014d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们减少到了8行代码，并且没有任何麻烦。现在我们有了代码，让我们编译它。</p><p id="c5b7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我使用的是mac，所以<code class="fe me mf mg lj b">fe_mac</code>是我将用来编译这个fe文件的二进制文件的名称。我们开始吧:</p><p id="30b1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe me mf mg lj b">$ ./fe_mac helloworld.fe</code></p><p id="b572" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这会生成一个名为<code class="fe me mf mg lj b">output</code>的文件夹。输出文件夹将包含二进制文件和abi文件。让我们看看它生成的abi文件:</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="ac50" class="ln lo iq lj b gy lp lq l lr ls">[<br/>  {<br/>    "name": "update",<br/>    "type": "function",<br/>    "inputs": [<br/>      {<br/>        "name": "newMessage",<br/>        "type": "string"<br/>      }<br/>    ],<br/>    "outputs": []<br/>  },<br/>  {<br/>    "name": "getMessage",<br/>    "type": "function",<br/>    "inputs": [],<br/>    "outputs": [<br/>      {<br/>        "name": "",<br/>        "type": "string"<br/>      }<br/>    ]<br/>  },<br/>  {<br/>    "name": "",<br/>    "type": "constructor",<br/>    "inputs": [<br/>      {<br/>        "name": "_message",<br/>        "type": "string"<br/>      }<br/>    ],<br/>    "outputs": []<br/>  }<br/>]</span></pre><p id="d20c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是我们的abi的混音可靠性代码:</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="0483" class="ln lo iq lj b gy lp lq l lr ls">[<br/>    {<br/>        "inputs": [<br/>            {<br/>                "internalType": "string",<br/>                "name": "initMessage",<br/>                "type": "string"<br/>            }<br/>        ],<br/>        "stateMutability": "nonpayable",<br/>        "type": "constructor"<br/>    },<br/>    {<br/>        "inputs": [],<br/>        "name": "message",<br/>        "outputs": [<br/>            {<br/>                "internalType": "string",<br/>                "name": "",<br/>                "type": "string"<br/>            }<br/>        ],<br/>        "stateMutability": "view",<br/>        "type": "function"<br/>    },<br/>    {<br/>        "inputs": [<br/>            {<br/>                "internalType": "string",<br/>                "name": "newMessage",<br/>                "type": "string"<br/>            }<br/>        ],<br/>        "name": "update",<br/>        "outputs": [],<br/>        "stateMutability": "nonpayable",<br/>        "type": "function"<br/>    },<br/>    {<br/>        "inputs": [],<br/>        "name": "viewMessage",<br/>        "outputs": [<br/>            {<br/>                "internalType": "string",<br/>                "name": "",<br/>                "type": "string"<br/>            }<br/>        ],<br/>        "stateMutability": "view",<br/>        "type": "function"<br/>    }<br/>]</span></pre></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="a2b1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在接下来的文章中，让我们仔细看看如何在以太坊上部署这些Fe契约。</p><p id="8777" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您对加密货币感兴趣，并且希望将历史数据用于ML或任何其他项目，请查看我在这里开发的API:</p><ul class=""><li id="6e91" class="lv lw iq ka b kb kc kf kg kj lx kn ly kr lz kv mm mb mc md bi translated">获取硬币数据:<a class="ae lu" href="https://cryptoviz.adityakarnam.me/coins" rel="noopener ugc nofollow" target="_blank">cryptoviz.adityakarnam.me/coins</a></li><li id="796e" class="lv lw iq ka b kb mh kf mi kj mj kn mk kr ml kv mm mb mc md bi translated">获取硬币价格数据(每5分钟跟踪一次):<a class="ae lu" href="https://cryptoviz.adityakarnam.me/coinsData" rel="noopener ugc nofollow" target="_blank">cryptoviz.adityakarnam.me/coinsData</a></li></ul><p id="f8f2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你对这个项目感兴趣，你可以在评论中联系我。链接到CryptoViz API项目:<a class="ae lu" href="https://github.com/adityak74/cryptoviz" rel="noopener ugc nofollow" target="_blank">github.com/adityak74/cryptoviz</a></p></div></div>    
</body>
</html>