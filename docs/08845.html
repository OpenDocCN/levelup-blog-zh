<html>
<head>
<title>Space Shooter Challenge: Alternative Enemy Movement</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">太空射击挑战:另类敌人运动</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/space-shooter-challenge-alternative-enemy-movement-bf0a94939506?source=collection_archive---------1-----------------------#2021-06-10">https://levelup.gitconnected.com/space-shooter-challenge-alternative-enemy-movement-bf0a94939506?source=collection_archive---------1-----------------------#2021-06-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/733c5b67da9957a7c235da0a2ad7b89b.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/1*guObg5NhWmy4TAoCrsy0_g.gif"/></div></figure><p id="e061" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">昨天V1.1发布，可以在这里找到<a class="ae ks" href="https://calumslee.itch.io/2d-space-shooter" rel="noopener ugc nofollow" target="_blank"> <strong class="jw ir">。</strong>T3】</a></p><p id="8d46" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">因此，今天标志着一系列新的挑战，使游戏更加充实和困难。</p><p id="83a2" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">第一个挑战是创造可供选择的敌人运动。对于这个挑战，我只是想让已经存在的敌人从不同的角度攻击。虽然我可以创造一个全新的敌人，功能将是相同的，更先进的不同型号的敌人将稍后出现！</p><p id="38d9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我们开始吧。</p><p id="4d49" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">将<strong class="jw ir">敌人预设</strong>拖进<strong class="jw ir">场景视图</strong>并进行实验，让我发现我喜欢的75度旋转角度穿过屏幕。我还需要制定一个不同的产卵点范围，以及何时消灭敌人的界限。不像标准的敌人，我想让<strong class="jw ir">对角线变化</strong>看起来更像是一个简单的抓点，因此不会重生。</p><p id="0fe0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">找到这些变量后，我就可以进入代码了。</p><p id="eea1" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我首先需要将我的<strong class="jw ir"> _enemyPrefab变量</strong>改为一个<strong class="jw ir">数组。</strong>然后我可以通过<strong class="jw ir">检查器拖动另外两个<strong class="jw ir">敌人预置</strong>的实例。</strong> ID 0是标准敌人，1在左边的对角线上，2在右边。</p><p id="44ab" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">然后在我的<strong class="jw ir"> SpawnEnemyRoutine </strong>中，我需要一个随机选择这些敌人的方法。我可以用一个<strong class="jw ir"> int变量</strong>在0和<strong class="jw ir">数组长度之间选择一个<strong class="jw ir">随机范围</strong>来实现。</strong></p><figure class="ku kv kw kx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi kt"><img src="../Images/9acb57bcb6f90c52b20ffc0212ec47d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-GU4VVCSzLzvcezKqvIdjA.png"/></div></div></figure><p id="906a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在我们的<strong class="jw ir">敌人预置</strong>的随机变化将被选择用于产卵，但是我需要一种方法来设置不同的位置和旋转。</p><p id="1c96" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">旋转可以在<strong class="jw ir">敌人脚本</strong>本身中完成，所以让我们首先关注<strong class="jw ir">的位置。</strong>我创建了一个新的<strong class="jw ir">返回类型方法</strong>来返回一个<strong class="jw ir">向量3变量</strong>，要调用这个方法，需要追加<strong class="jw ir">随机敌人</strong>的<strong class="jw ir"> int值</strong>。</p><figure class="ku kv kw kx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi kt"><img src="../Images/8288ff14e6098870ac280abe227b5db5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_zeBF_Gb7TtlZXYEuz8HzA.png"/></div></div></figure><p id="28d3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">然后，<strong class="jw ir">getenemysponpos返回方法</strong>可以使用<strong class="jw ir">开关语句</strong>为x和y种子位置设置不同的范围，然后在<strong class="jw ir">向量3中设置和返回这些范围。</strong>现在根据所选择的<strong class="jw ir">随机敌人</strong>,<strong class="jw ir">SpawnEnemyRoutine</strong>调用<strong class="jw ir">getenemysponpos</strong><strong class="jw ir">方法</strong>并根据该敌人类型的条件接收一个<strong class="jw ir">随机</strong> <strong class="jw ir">向量3 </strong>。</p><figure class="ku kv kw kx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi kt"><img src="../Images/8bebd1e20b4c3f915722ca98658922c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*koQTDa7WWC5bJbp51wLljA.png"/></div></div></figure><p id="fad0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">对于<strong class="jw ir">旋转，</strong>每个被实例化的敌人已经被存储为一个<strong class="jw ir">游戏对象变量</strong>，所以它可以被添加到一个容器中。我可以利用这个变量使用<strong class="jw ir"> GetComponent </strong>访问<strong class="jw ir">敌人脚本</strong>，然后调用一个<strong class="jw ir">公共方法</strong>来传递<strong class="jw ir"> ID。</strong></p><figure class="ku kv kw kx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi kt"><img src="../Images/427b17b13aa459173e2ddf04395df3da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hBzxfWyIQGiW6OJsoXCiEQ.png"/></div></div></figure><p id="4ee7" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">同样，我可以在<strong class="jw ir">敌人脚本</strong>中使用<strong class="jw ir">切换语句</strong>来设置旋转，这取决于当<strong class="jw ir">敌人</strong>被<strong class="jw ir">实例化时，哪个<strong class="jw ir"> ID </strong>被设置。</strong></p><figure class="ku kv kw kx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi kt"><img src="../Images/9ad075c3b8f63e4bcea6695a7455d2d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UpwoEW_PbXGuQg0YJfY92g.png"/></div></div></figure><p id="f008" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在敌人可以在三个不同的位置范围产生，有三种不同的旋转。<strong class="jw ir">移动方法</strong>已经使用<strong class="jw ir"> Vector3.down、</strong>移动<strong class="jw ir">敌人</strong>，它跟随<strong class="jw ir">敌人</strong>的局部旋转，因此无论旋转如何，它看起来都是向前移动的。</p><p id="258c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">不过，我的问题是<strong class="jw ir">激光。</strong>之前创建的<strong class="jw ir">激光偏置</strong>基于全局位置，因此不会跟随旋转。为了解决这个问题，我创建了一个使用<strong class="jw ir">变换的<strong class="jw ir">激光位置矢量3 </strong>。变换点</strong>将<strong class="jw ir">激光偏置</strong>应用到本地位置，并将其转换到全局坐标。</p><p id="311e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">然后不是用<strong class="jw ir">四元数。身份</strong>为旋转，我在<strong class="jw ir">敌人的旋转中通过。</strong></p><figure class="ku kv kw kx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi kt"><img src="../Images/58e4b624e2b5bec20891a6e869d25b05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dhd58C1n5spn_ROHOufW_Q.png"/></div></div></figure><p id="a6ee" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">像<strong class="jw ir">敌人一样，</strong>激光<strong class="jw ir">在<strong class="jw ir">矢量3.down </strong>方向移动，所以会简单地跟随<strong class="jw ir">实例化</strong>的旋转。</strong></p><p id="8780" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在我有了一个备用的敌人移动方式，并且已经创建了一个ID系统以备将来创造更多的敌人时使用。模块化！</p><figure class="ku kv kw kx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi lc"><img src="../Images/6312ec201a87ed7a08cfe47a64818531.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*SLmNN8QN1nI6Ex563CUeyQ.gif"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">不要让他们从侧面攻击你！</figcaption></figure></div></div>    
</body>
</html>