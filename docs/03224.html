<html>
<head>
<title>SwiftUI: Animating Color Changes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI:åŠ¨ç”»é¢œè‰²å˜åŒ–</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/swiftui-animating-color-changes-6a87d237dcea?source=collection_archive---------9-----------------------#2020-04-26">https://levelup.gitconnected.com/swiftui-animating-color-changes-6a87d237dcea?source=collection_archive---------9-----------------------#2020-04-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3661" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">è®©-é©¬å…‹Â·å¸ƒé‡Œå®‰å†…</h2></div><p id="04dd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ˜¯æ—¶å€™æ”¹å˜ä½ çš„é¢œè‰²äº†ï¼æ‚¨å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨<code class="fe le lf lg lh b">Paths</code>å’Œ<code class="fe le lf lg lh b">AnimatableData</code>åœ¨SwiftUIä¸­åˆ¶ä½œèƒŒæ™¯é¢œè‰²å˜åŒ–çš„åŠ¨ç”»ï¼</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div class="gh gi li"><img src="../Images/dcc6d4b036dc7f0dbc28c084ee6f506a.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/1*rIjx479bba4jKFj8NYbp6Q.gif"/></div></figure><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div class="gh gi lq"><img src="../Images/1d04fd03664b86e1fc5b3e402a93b4bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/0*ZiMbs5MNguBktfIt.gif"/></div></figure><p id="7687" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è¿™æ˜¯ä»€ä¹ˆæ ·çš„å˜è‰²ç–¯ç‹‚ï¼Ÿï¼</p><h2 id="9fac" class="lr ls it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated">å…¥é—¨æŒ‡å—</h2><p id="dd24" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">æˆ‘ä»¬æ”¹å˜èƒŒæ™¯é¢œè‰²é­”æ³•çš„å…³é”®æ˜¯åˆ›å»ºæˆ‘ä»¬è‡ªå·±çš„è‡ªå®šä¹‰SwiftUI <code class="fe le lf lg lh b">Shape</code>ç»“æ„ã€‚æˆ‘ä»¬å°±å«å®ƒ<code class="fe le lf lg lh b">SplashShape</code>ã€‚<code class="fe le lf lg lh b">Shape</code>ç»“æ„åˆ©ç”¨å‡½æ•°<code class="fe le lf lg lh b">path(in rect: CGRect) -&gt; Path</code>æ¥å®šä¹‰å®ƒä»¬çœ‹èµ·æ¥åƒä»€ä¹ˆã€‚è¿™æ˜¯æˆ‘ä»¬å°†ç”¨æ¥åˆ›å»ºå„ç§åŠ¨ç”»çš„å‡½æ•°ã€‚</p><h2 id="854f" class="lr ls it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated">åˆ›å»º<code class="fe le lf lg lh b">SplashShape</code>ç»“æ„</h2><p id="d917" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">ç»§ç»­åˆ›å»ºä¸€ä¸ªåä¸º<code class="fe le lf lg lh b">SplashStruct</code>çš„æ–°<code class="fe le lf lg lh b">Shape</code>ç»“æ„ã€‚</p><pre class="lj lk ll lm gt mp lh mq mr aw ms bi"><span id="4df4" class="lr ls it lh b gy mt mu l mv mw">import SwiftUI<br/><br/>struct SplashShape: Shape {<br/>    <br/>    func path(in rect: CGRect) -&gt; Path {<br/>        return Path()<br/>    }<br/>}</span></pre><p id="482c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">é¦–å…ˆï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸¤ä¸ªåŠ¨ç”»ã€‚<code class="fe le lf lg lh b">leftToRight</code>å’Œ<code class="fe le lf lg lh b">rightToLeft</code>å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/0b223076f84ef703acda03d4721259e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/0*IhBr4_qhxe5FRnTN.gif"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated"><code class="fe le lf lg lh b">leftToRight</code> &amp; <code class="fe le lf lg lh b">rightToLeft</code></figcaption></figure><h2 id="ff2e" class="lr ls it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated"><code class="fe le lf lg lh b">SplashAnimation</code></h2><p id="3cbe" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">æˆ‘ä»¬å°†ä¸ºè‡ªå®šä¹‰åŠ¨ç”»åˆ›å»ºä¸€ä¸ªåä¸º<code class="fe le lf lg lh b">SplashAnimation</code>çš„<code class="fe le lf lg lh b">enum</code>ã€‚è¿™å°†å…è®¸æˆ‘ä»¬åœ¨æœªæ¥è½»æ¾åœ°æ·»åŠ æ›´å¤šçš„åŠ¨ç”»(æ›´å¤šå†…å®¹è¯·å‚è§ç»“å°¾ï¼).</p><pre class="lj lk ll lm gt mp lh mq mr aw ms bi"><span id="3da8" class="lr ls it lh b gy mt mu l mv mw">import SwiftUI<br/><br/>struct SplashShape: Shape {<br/>    <br/>    public enum SplashAnimation {<br/>        case leftToRight<br/>        case rightToleft<br/>    }<br/>    <br/>    func path(in rect: CGRect) -&gt; Path {<br/>        return Path()<br/>    }<br/>}</span></pre><p id="63f2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨æˆ‘ä»¬çš„<code class="fe le lf lg lh b">path()</code>å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å°†æ‰“å¼€æˆ‘ä»¬çš„å½¢çŠ¶æ­£åœ¨ä½¿ç”¨çš„åŠ¨ç”»ï¼Œå¹¶ç”ŸæˆåŠ¨ç”»æ‰€éœ€çš„<code class="fe le lf lg lh b">Path</code>ã€‚ä½†æ˜¯é¦–å…ˆï¼Œæˆ‘ä»¬å¿…é¡»åˆ›å»ºå˜é‡æ¥ä¿å­˜åŠ¨ç”»ç±»å‹ä»¥åŠåŠ¨ç”»çš„è¿›åº¦ã€‚</p><pre class="lj lk ll lm gt mp lh mq mr aw ms bi"><span id="cdd7" class="lr ls it lh b gy mt mu l mv mw">import SwiftUI<br/><br/>struct SplashShape: Shape {<br/>    <br/>    public enum SplashAnimation {<br/>        case leftToRight<br/>        case rightToleft<br/>    }<br/>    <br/>    var progress: CGFloat<br/>    var animationType: SplashAnimation<br/>    <br/>    func path(in rect: CGRect) -&gt; Path {<br/>        return Path()<br/>    }<br/>}</span></pre><p id="fc4d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">progress</code>å°†æ˜¯ä¸€ä¸ªä»‹äº<code class="fe le lf lg lh b">0</code>å’Œ<code class="fe le lf lg lh b">1</code>ä¹‹é—´çš„å€¼ï¼Œå®ƒå°†è¯¦ç»†è¯´æ˜æˆ‘ä»¬åœ¨é¢œè‰²å˜åŒ–çš„åŠ¨ç”»ä¸­èµ°äº†å¤šè¿œã€‚è¿™å°†åœ¨æˆ‘ä»¬ç¼–å†™<code class="fe le lf lg lh b">path()</code>å‡½æ•°æ—¶æ´¾ä¸Šç”¨åœºã€‚</p><h2 id="af21" class="lr ls it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated">ç¼–å†™<code class="fe le lf lg lh b">path()</code>å‡½æ•°</h2><p id="f098" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">å¦‚å‰æ‰€è¿°ï¼Œæˆ‘ä»¬éœ€è¦å¼„æ¸…æ¥šæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ä»€ä¹ˆç±»å‹çš„åŠ¨ç”»ï¼Œä»¥ä¾¿è¿”å›æ­£ç¡®çš„<code class="fe le lf lg lh b">Path</code>ã€‚é¦–å…ˆï¼Œä½¿ç”¨å‰é¢å®šä¹‰çš„<code class="fe le lf lg lh b">animationType</code>åœ¨<code class="fe le lf lg lh b">path()</code>å‡½æ•°ä¸­ç¼–å†™ä¸€ä¸ª<code class="fe le lf lg lh b">switch</code>è¯­å¥ã€‚</p><pre class="lj lk ll lm gt mp lh mq mr aw ms bi"><span id="cfcf" class="lr ls it lh b gy mt mu l mv mw">func path(in rect: CGRect) -&gt; Path {<br/>   switch animationType {<br/>       case .leftToRight:<br/>           return Path()<br/>       case .rightToLeft:<br/>           return Path()<br/>   }<br/>}</span></pre><p id="484a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç°åœ¨ï¼Œè¿™å°†è¿”å›ç©ºè·¯å¾„ã€‚æˆ‘ä»¬éœ€è¦å®é™…åˆ›å»ºå‡½æ•°æ¥åŠ¨ç”»åŒ–è·¯å¾„ã€‚</p><h2 id="7a43" class="lr ls it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated">åˆ›å»ºåŠ¨ç”»åŠŸèƒ½</h2><p id="cb68" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">åœ¨ä½ çš„<code class="fe le lf lg lh b">path()</code>å‡½æ•°ä¸‹é¢ï¼Œä¸ºæ¯ç§ç±»å‹çš„åŠ¨ç”»åˆ›å»ºä¸¤ä¸ªåä¸º<code class="fe le lf lg lh b">leftToRight()</code>å’Œ<code class="fe le lf lg lh b">rightToLeft()</code>çš„æ–°å‡½æ•°ã€‚åœ¨æ¯ä¸ªå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªçŸ©å½¢çš„<code class="fe le lf lg lh b">Path</code>ï¼Œå®ƒå°†æ ¹æ®æˆ‘ä»¬çš„<code class="fe le lf lg lh b">progress</code>å˜é‡éšæ—¶é—´å¢é•¿ã€‚</p><pre class="lj lk ll lm gt mp lh mq mr aw ms bi"><span id="7f36" class="lr ls it lh b gy mt mu l mv mw">func leftToRight(rect: CGRect) -&gt; Path {<br/>    var path = Path()<br/>    path.move(to: CGPoint(x: 0, y: 0)) // Top Left<br/>    path.addLine(to: CGPoint(x: rect.width * progress, y: 0)) // Top Right<br/>    path.addLine(to: CGPoint(x: rect.width * progress, y: rect.height)) // Bottom Right<br/>    path.addLine(to: CGPoint(x: 0, y: rect.height)) // Bottom Left<br/>    path.closeSubpath() // Close the Path<br/>    return path<br/>}<br/><br/>func rightToLeft(rect: CGRect) -&gt; Path {<br/>    var path = Path()<br/>    path.move(to: CGPoint(x: rect.width, y: 0))<br/>    path.addLine(to: CGPoint(x: rect.width - (rect.width * progress), y: 0))<br/>    path.addLine(to: CGPoint(x: rect.width - (rect.width * progress), y: rect.height))<br/>    path.addLine(to: CGPoint(x: rect.width, y: rect.height))<br/>    path.closeSubpath()<br/>    return path<br/>}</span></pre><p id="521b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç„¶ååˆ©ç”¨ä¸Šé¢<code class="fe le lf lg lh b">path()</code>å‡½æ•°ä¸­çš„ä¸¤ä¸ªæ–°å‡½æ•°ã€‚</p><pre class="lj lk ll lm gt mp lh mq mr aw ms bi"><span id="ec8d" class="lr ls it lh b gy mt mu l mv mw">func path(in rect: CGRect) -&gt; Path {<br/>   switch animationType {<br/>       case .leftToRight:<br/>           return leftToRight(rect: rect)<br/>       case .rightToLeft:<br/>           return rightToLeft(rect: rect)<br/>   }<br/>}</span></pre><h2 id="4e23" class="lr ls it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated">åŠ¨ç”»æ•°æ®</h2><p id="4edb" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">ä¸ºäº†ç¡®ä¿SwiftçŸ¥é“å¦‚ä½•åœ¨<code class="fe le lf lg lh b">progress</code>å˜é‡æ”¹å˜æ—¶æ¿€æ´»æˆ‘ä»¬çš„<code class="fe le lf lg lh b">Shape</code>ï¼Œæˆ‘ä»¬éœ€è¦æŒ‡å®šå“ªä¸ªå˜é‡æ­£åœ¨æ¿€æ´»ã€‚å°±åœ¨æˆ‘ä»¬çš„<code class="fe le lf lg lh b">progress</code>å’Œ<code class="fe le lf lg lh b">animationType</code>å˜é‡ä¸‹é¢ï¼Œå®šä¹‰<code class="fe le lf lg lh b">animatableData</code>ã€‚è¿™æ˜¯ä¸€ä¸ªåŸºäº<code class="fe le lf lg lh b"><a class="ae nc" href="https://developer.apple.com/documentation/swiftui/animatable" rel="noopener ugc nofollow" target="_blank">Animatable</a></code> <a class="ae nc" href="https://developer.apple.com/documentation/swiftui/animatable" rel="noopener ugc nofollow" target="_blank">åè®®</a>çš„å˜é‡ï¼Œå®ƒå¸®åŠ©SwiftUIçŸ¥é“å½“è§†å›¾æ”¹å˜æ—¶å¦‚ä½•åŠ¨ç”»åŒ–è§†å›¾ã€‚</p><pre class="lj lk ll lm gt mp lh mq mr aw ms bi"><span id="7f3f" class="lr ls it lh b gy mt mu l mv mw">var progress: CGFloat<br/>var animationType: SplashAnimation<br/><br/>var animatableData: CGFloat {<br/>    get { return progress }<br/>    set { self.progress = newValue}<br/>}</span></pre><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/d22f2fdcb7e030763997c57d3298e8ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/0*8vr8fNf-Fa86z6XF.gif"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated"><code class="fe le lf lg lh b">SplashShape</code>éšç€<code class="fe le lf lg lh b">progress</code>çš„å˜åŒ–è€Œå˜åŒ–ã€‚</figcaption></figure><h2 id="ced2" class="lr ls it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated">åˆ¶ä½œé¢œè‰²å˜åŒ–çš„åŠ¨ç”»</h2><p id="a54a" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»åˆ›å»ºäº†ä¸€ä¸ª<code class="fe le lf lg lh b">Shape</code>ï¼Œå®ƒå°†éšç€æ—¶é—´çš„æ¨ç§»è€Œäº§ç”ŸåŠ¨ç”»æ•ˆæœã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å°†è¿™ä¸ªå½¢çŠ¶æ·»åŠ åˆ°ä¸€ä¸ªè§†å›¾ä¸­ï¼Œå¹¶åœ¨è§†å›¾çš„é¢œè‰²æ”¹å˜æ—¶è‡ªåŠ¨åŠ¨ç”»æ˜¾ç¤ºå®ƒã€‚è¿™å°±æ˜¯<code class="fe le lf lg lh b">SplashView</code>å‘æŒ¥ä½œç”¨çš„åœ°æ–¹ã€‚æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ª<code class="fe le lf lg lh b">SplashView</code>æ¥è‡ªåŠ¨æ›´æ–°<code class="fe le lf lg lh b">SplashShape</code>çš„<code class="fe le lf lg lh b">progress</code>å˜é‡ã€‚å½“<code class="fe le lf lg lh b">SplashView</code>æ¥æ”¶åˆ°æ–°çš„<code class="fe le lf lg lh b">Color</code>æ—¶ï¼Œå®ƒè§¦å‘åŠ¨ç”»ã€‚</p><p id="869e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä»åˆ›å»º<code class="fe le lf lg lh b">SplashView</code>ç»“æ„å¼€å§‹ã€‚</p><pre class="lj lk ll lm gt mp lh mq mr aw ms bi"><span id="2f4e" class="lr ls it lh b gy mt mu l mv mw">import SwiftUI<br/><br/>struct SplashView: View {<br/><br/>    var body: some View {<br/>        // SplashShape Here<br/>    }<br/><br/>}</span></pre><p id="f874" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è®°ä½æˆ‘ä»¬çš„<code class="fe le lf lg lh b">SplashShape</code>å°†<code class="fe le lf lg lh b">SplashAnimation</code>æšä¸¾ä½œä¸ºå‚æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å°†å®ƒä½œä¸ºå‚æ•°æ·»åŠ åˆ°æˆ‘ä»¬çš„<code class="fe le lf lg lh b">SplashView</code>ä¸­ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬æ­£åœ¨åˆ¶ä½œè§†å›¾èƒŒæ™¯é¢œè‰²å˜åŒ–çš„åŠ¨ç”»ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿéœ€è¦åŠ å…¥ä¸€ä¸ª<code class="fe le lf lg lh b">Color</code>ã€‚æˆ‘ä»¬çš„åˆå§‹åŒ–å™¨åœ¨ä¸‹é¢è¯¦è¿°ã€‚</p><p id="65d0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">ColorStore</code>æ˜¯è‡ªå®šä¹‰çš„ObservableObjectã€‚å®ƒç”¨äºæ¥æ”¶<code class="fe le lf lg lh b">SplashView</code>ç»“æ„ä¸­çš„<code class="fe le lf lg lh b">Color</code>æ›´æ–°ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¯åŠ¨<code class="fe le lf lg lh b">SplashShape</code>åŠ¨ç”»ï¼Œå¹¶æœ€ç»ˆæ”¹å˜èƒŒæ™¯é¢œè‰²ã€‚æˆ‘ä»¬ä¸€ä¼šå„¿å°†å±•ç¤ºå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</p><pre class="lj lk ll lm gt mp lh mq mr aw ms bi"><span id="4f02" class="lr ls it lh b gy mt mu l mv mw">struct SplashView: View {<br/>    <br/>    var animationType: SplashShape.SplashAnimation<br/>    @State private var prevColor: Color // Stores background color<br/>    @ObservedObject var colorStore: ColorStore // Send new color updates<br/><br/>    <br/>    init(animationType: SplashShape.SplashAnimation, color: Color) {<br/>        self.animationType = animationType<br/>        self._prevColor = State&lt;Color&gt;(initialValue: color)<br/>        self.colorStore = ColorStore(color: color)<br/>    }<br/><br/>    var body: some View {<br/>        // SplashShape Here<br/>    }<br/><br/>}<br/><br/>class ColorStore: ObservableObject {<br/>    @Published var color: Color<br/>    <br/>    init(color: Color) {<br/>        self.color = color<br/>    }<br/>}</span></pre><h2 id="19ae" class="lr ls it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated">åˆ›å»º<code class="fe le lf lg lh b">SplashView</code>æœºæ„</h2><p id="930f" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">åœ¨<code class="fe le lf lg lh b">body</code>å˜é‡ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è¿”å›ä¸€ä¸ªè®¾ç½®ä¸º<code class="fe le lf lg lh b">SplashView</code>å½“å‰é¢œè‰²çš„<code class="fe le lf lg lh b">Rectangle</code>ã€‚ç„¶åä½¿ç”¨å‰é¢å®šä¹‰çš„<code class="fe le lf lg lh b">ColorStore</code>observableå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥æ¥æ”¶é¢œè‰²æ›´æ–°æ¥æ¿€æ´»æˆ‘ä»¬çš„è§†å›¾ã€‚</p><pre class="lj lk ll lm gt mp lh mq mr aw ms bi"><span id="fb90" class="lr ls it lh b gy mt mu l mv mw">var body: some View {<br/>    Rectangle()<br/>        .foregroundColor(self.prevColor) // Current Color<br/>        .onReceive(self.colorStore.$color) { color in<br/>            // Animate Color Update Here<br/>        }<br/>}</span></pre><p id="bb17" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å½“æ”¹å˜é¢œè‰²æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¸€äº›æ–¹æ³•æ¥è·Ÿè¸ª<code class="fe le lf lg lh b">SplashView</code>è¢«æ”¹å˜çš„é¢œè‰²ï¼Œä»¥åŠè¿›åº¦ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†å®šä¹‰<code class="fe le lf lg lh b">layers</code>å˜é‡ã€‚</p><pre class="lj lk ll lm gt mp lh mq mr aw ms bi"><span id="e397" class="lr ls it lh b gy mt mu l mv mw">@State var layers: [(Color,CGFloat)] = [] // New Color &amp; Progress</span></pre><p id="d4ba" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç°åœ¨å›åˆ°æˆ‘ä»¬çš„<code class="fe le lf lg lh b">body</code>å˜é‡ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å°†æ–°æ”¶åˆ°çš„<code class="fe le lf lg lh b">Colors</code>æ·»åŠ åˆ°<code class="fe le lf lg lh b">layers</code>å˜é‡ä¸­ã€‚å½“æˆ‘ä»¬æ·»åŠ å®ƒä»¬æ—¶ï¼Œæˆ‘ä»¬å°†è¿›åº¦è®¾ç½®ä¸º<code class="fe le lf lg lh b">0</code>ï¼Œå› ä¸ºå®ƒä»¬æ˜¯åˆšåˆšæ·»åŠ çš„ã€‚ç„¶åï¼Œåœ¨åŠç§’é’Ÿçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä»–ä»¬çš„è¿›åº¦åˆ¶ä½œæˆåŠ¨ç”»<code class="fe le lf lg lh b">1</code>ã€‚</p><pre class="lj lk ll lm gt mp lh mq mr aw ms bi"><span id="33ca" class="lr ls it lh b gy mt mu l mv mw">var body: some View {<br/>    Rectangle()<br/>        .foregroundColor(self.prevColor) // Current Color<br/>        .onReceive(self.colorStore.$color) { color in<br/>            // Animate Color Update Here<br/>            self.layers.append((color, 0))<br/>            <br/>            withAnimation(.easeInOut(duration: 0.5)) {<br/>                self.layers[self.layers.count-1].1 = 1.0<br/>            }<br/>        }<br/>}</span></pre><p id="dfe3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç°åœ¨ï¼Œè¿™å°†æŠŠæ–°çš„é¢œè‰²æ·»åŠ åˆ°<code class="fe le lf lg lh b"> layers</code>å˜é‡ä¸­ï¼Œä½†æ˜¯å®ƒä»¬ä¸ä¼šæ˜¾ç¤ºåœ¨<code class="fe le lf lg lh b">SplashView</code>çš„é¡¶éƒ¨ã€‚è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å˜é‡<code class="fe le lf lg lh b">body</code>å†…çš„<code class="fe le lf lg lh b">Rectangle</code>ä¸Šå°†æ¯ä¸ªå±‚æ˜¾ç¤ºä¸ºè¦†ç›–å±‚ã€‚</p><pre class="lj lk ll lm gt mp lh mq mr aw ms bi"><span id="d84d" class="lr ls it lh b gy mt mu l mv mw">var body: some View {<br/>    Rectangle()<br/>        .foregroundColor(self.prevColor)<br/>        .overlay(<br/>            ZStack {<br/>                ForEach(layers.indices, id: \.self) { x in<br/>                    SplashShape(progress: self.layers[x].1, animationType: self.animationType)<br/>                        .foregroundColor(self.layers[x].0)<br/>                }<br/><br/>            }<br/><br/>            , alignment: .leading)<br/>        .onReceive(self.colorStore.$color) { color in<br/>            // Animate color update here<br/>            self.layers.append((color, 0))<br/><br/>            withAnimation(.easeInOut(duration: 0.5)) {<br/>                self.layers[self.layers.count-1].1 = 1.0<br/>            }<br/>        }<br/>}</span></pre><h2 id="72ae" class="lr ls it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated">è¯•ä¸€è¯•</h2><p id="5f2b" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">ä½¿ç”¨ä¸‹é¢çš„ä»£ç ï¼Œæ‚¨å¯ä»¥åœ¨æ¨¡æ‹Ÿå™¨ä¸­è¿è¡Œå®ƒã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯ï¼Œå½“æŒ‰ä¸‹<code class="fe le lf lg lh b">ContentView</code>å†…çš„æŒ‰é’®æ—¶ï¼Œå®ƒä¼šæ¨è¿›ç”¨äºé€‰æ‹©<code class="fe le lf lg lh b">SplashView</code>é¢œè‰²çš„<code class="fe le lf lg lh b">index</code>ï¼Œä»è€Œè§¦å‘å¯¹å†…éƒ¨<code class="fe le lf lg lh b">ColorStore</code>çš„æ›´æ–°ã€‚è¿™ä½¿å¾—<code class="fe le lf lg lh b">SplashView</code>æ·»åŠ ä¸€ä¸ª<code class="fe le lf lg lh b">SplashShape</code>å±‚ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°è§†å›¾ä¸­ã€‚</p><pre class="lj lk ll lm gt mp lh mq mr aw ms bi"><span id="4259" class="lr ls it lh b gy mt mu l mv mw">import SwiftUI<br/><br/>struct ContentView: View {<br/>    var colors: [Color] = [.blue, .red, .green, .orange]<br/>    @State var index: Int = 0<br/>    <br/>    @State var progress: CGFloat = 0<br/>    var body: some View {<br/>        VStack {<br/>           <br/>            SplashView(animationType: .leftToRight, color: self.colors[self.index])<br/>                .frame(width: 200, height: 100, alignment: .center)<br/>                .cornerRadius(10)<br/>                .shadow(color: Color.black.opacity(0.2), radius: 10, x: 0, y: 4)<br/>            <br/>            Button(action: {<br/>                self.index = (self.index + 1) % self.colors.count<br/>            }) {<br/>                Text("Change Color")<br/>            }<br/>            .padding(.top, 20)<br/>        }<br/>  <br/>    }<br/>}</span></pre><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/866c6eb45d4c69ace17ebbe03851482e.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/0*0cplu29bi4dyHzkt.gif"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">å˜è‰²çš„å¥½ï¼</figcaption></figure><h2 id="5c66" class="lr ls it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated">è¿˜æ²¡å®Œæˆï¼</h2><p id="3ba3" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">æˆ‘ä»¬é—æ¼äº†ä¸€ä»¶äº‹ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬æ­£åœ¨ä¸æ–­åœ°ç»™æˆ‘ä»¬çš„<code class="fe le lf lg lh b">SplashView</code>å¢åŠ ä¸€å±‚åˆä¸€å±‚ã€‚æˆ‘ä»¬éœ€è¦ç¡®ä¿åœ¨è¿™äº›å±‚å®ŒæˆåŠ¨ç”»åˆ¶ä½œå’Œæ˜¾ç¤ºååˆ é™¤å®ƒä»¬ã€‚</p><p id="2e24" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨<code class="fe le lf lg lh b">SplashView</code> structçš„<code class="fe le lf lg lh b">body</code>å˜é‡å†…çš„<code class="fe le lf lg lh b">onReceive()</code>å‡½æ•°å†…ï¼Œè¿›è¡Œä»¥ä¸‹æ›´æ”¹:</p><pre class="lj lk ll lm gt mp lh mq mr aw ms bi"><span id="ba2f" class="lr ls it lh b gy mt mu l mv mw">.onReceive(self.colorStore.$color) { color in<br/>    self.layers.append((color, 0))<br/><br/>    withAnimation(.easeInOut(duration: 0.5)) {<br/>        self.layers[self.layers.count-1].1 = 1.0<br/>        DispatchQueue.main.asyncAfter(deadline: .now() + 0.5) {<br/>            self.prevColor = self.layers[0].0 // Finalizes background color of SplashView<br/>            self.layers.remove(at: 0) // removes itself from layers array<br/>        }<br/>    }<br/>}</span></pre><p id="f1b4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è¿™ç¡®ä¿æˆ‘ä»¬åˆ é™¤äº†<code class="fe le lf lg lh b">layers</code>æ•°ç»„ä¸­çš„æ—§æ¡ç›®ï¼Œå¹¶ä¸”æˆ‘ä»¬çš„<code class="fe le lf lg lh b">SplashView</code>åŸºäºæœ€æ–°çš„æ›´æ–°æ˜¾ç¤ºäº†æ­£ç¡®çš„èƒŒæ™¯é¢œè‰²ã€‚</p><h2 id="c5c3" class="lr ls it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated">ç»™æˆ‘ä»¬çœ‹çœ‹ä½ åšäº†ä»€ä¹ˆï¼</h2><p id="9cb6" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">ä½ å®Œæˆäº†æˆ‘çš„ä¸€ä¸ªæ•™ç¨‹å—ï¼Ÿç»™æˆ‘å‘ä¸€å¼ æˆªå›¾æˆ–è€…ç»™æˆ‘ä¸€ä¸ªé¡¹ç›®é“¾æ¥ã€‚<a class="ae nc" href="https://trailingclosure.com" rel="noopener ugc nofollow" target="_blank">TrailingClosure.com</a>å°†å±•ç¤ºç”¨æˆ·çš„ä½œå“ï¼åœ¨Twitter<a class="ae nc" href="https://twitter.com/TrailingClosure" rel="noopener ugc nofollow" target="_blank">@ trailing closure</a>ä¸Šæ‰¾åˆ°æˆ‘ä»¬ï¼Œæˆ–è€…å‘é‚®ä»¶åˆ°<a class="ae nc" href="mailto:howdy@trailingclosure.com" rel="noopener ugc nofollow" target="_blank">howdy@TrailingClosure.com</a>è”ç³»æˆ‘ä»¬</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div class="gh gi li"><img src="../Images/cb35e7e2d07add051ae2a9722b4ae603.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/0*vuSb0VxT6pvGpp9z.gif"/></div></figure><h2 id="6812" class="lr ls it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated">å‘å¸ƒåœ¨GitHubä¸Šçš„æºä»£ç </h2><p id="b40e" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">åœ¨æˆ‘çš„Githubä¸ŠæŸ¥çœ‹æœ¬æ•™ç¨‹çš„<a class="ae nc" href="https://github.com/jboullianne/SplashView" rel="noopener ugc nofollow" target="_blank">æºä»£ç </a>ï¼é™¤äº†æ˜¾ç¤ºçš„ä¾‹å­å¤–ï¼Œè¿˜åŒ…æ‹¬äº†<code class="fe le lf lg lh b">SplashShape</code>å’Œ<code class="fe le lf lg lh b">SplashView</code>çš„å…¨éƒ¨æºä»£ç ã€‚....ä½†æ˜¯ç­‰ç­‰ï¼Œè¿˜æœ‰å‘¢ï¼</p><h2 id="590e" class="lr ls it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated">é¢å¤–å­¦åˆ†ï¼</h2><p id="7af2" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">å¦‚æœä½ ç†Ÿæ‚‰æˆ‘ä»¥å‰çš„æ•™ç¨‹ï¼Œä½ çŸ¥é“æˆ‘å–œæ¬¢é¢å¤–å­¦åˆ†ğŸ˜‰ã€‚æˆ‘åœ¨å¼€å§‹çš„æ—¶å€™è¯´è¿‡ä¼šæœ‰æ›´å¤šçš„åŠ¨ç”»ã€‚è¿™æ˜¯ä½ æœŸå¾…å·²ä¹…çš„æ—¶åˆ»â€¦<em class="ne">æ»šç­’</em> â€¦</p><h1 id="9cd1" class="nf ls it bd lt ng nh ni lw nj nk nl lz jz nm ka mc kc nn kd mf kf no kg mi np bi translated"><code class="fe le lf lg lh b">SplashAnimation</code> ğŸ¥³</h1><p id="992b" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">å‘œå‘œå‘œï¼ï¼è¿˜è®°å¾—è¿™ä¸ªå—ï¼Ÿæˆ‘å‘Šè¯‰è¿‡ä½ æˆ‘ä»¬ä¼šå›æ¥æ·»åŠ æ›´å¤šçš„åŠ¨ç”»ç±»å‹ã€‚</p><pre class="lj lk ll lm gt mp lh mq mr aw ms bi"><span id="e9e6" class="lr ls it lh b gy mt mu l mv mw">enum SplashAnimation {<br/>    case leftToRight<br/>    case rightToLeft<br/>    case topToBottom<br/>    case bottomToTop<br/>    case angle(Angle)<br/>    case circle<br/>}<br/><br/>func path(in rect: CGRect) -&gt; Path {<br/><br/>    switch self.animationType {<br/>        case .leftToRight:<br/>            return leftToRight(rect: rect)<br/>        case .rightToLeft:<br/>            return rightToLeft(rect: rect)<br/>        case .topToBottom:<br/>            return topToBottom(rect: rect)<br/>        case .bottomToTop:<br/>            return bottomToTop(rect: rect)<br/>        case .angle(let splashAngle):<br/>            return angle(rect: rect, angle: splashAngle)<br/>        case .circle:<br/>            return circle(rect: rect)<br/>    }<br/><br/>}</span></pre><p id="49ea" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘çŸ¥é“ä½ åœ¨æƒ³ä»€ä¹ˆâ€¦ <strong class="kk iu">â€œå“‡ï¼Œé‚£æ˜¯å¾ˆå¤šé¢å¤–çš„å­¦åˆ†â€¦â€</strong>ã€‚ä¸è¦çƒ¦æ¼ã€‚é€šè¿‡ä¿®æ”¹<code class="fe le lf lg lh b">SplashShape</code>ä¸­çš„<code class="fe le lf lg lh b">path()</code>å‡½æ•°ï¼Œå†åˆ›å»ºå‡ ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å°±å¯ä»¥åƒå…¶ä»–äººä¸€æ ·åˆ¶ä½œåŠ¨ç”»äº†ã€‚</p><p id="fb9c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è®©æˆ‘ä»¬ä¸€ä¸ªåŠ¨ç”»æ¥ä¸€ä¸ªåŠ¨ç”»â€¦</p><h2 id="3a48" class="lr ls it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated"><code class="fe le lf lg lh b">topToBottom</code> &amp; <code class="fe le lf lg lh b">bottomToTop</code></h2><p id="d616" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">ä¸<code class="fe le lf lg lh b">leftToRight</code>å’Œ<code class="fe le lf lg lh b">rightToLeft</code>éå¸¸ç›¸ä¼¼ï¼Œè¿™äº›å‡½æ•°ä½¿ç”¨<code class="fe le lf lg lh b">progress</code>å˜é‡åˆ›å»ºä¸€ä¸ªä»å½¢çŠ¶åº•éƒ¨æˆ–é¡¶éƒ¨å¼€å§‹å¹¶éšæ—¶é—´å¢é•¿çš„è·¯å¾„ã€‚</p><pre class="lj lk ll lm gt mp lh mq mr aw ms bi"><span id="9d4c" class="lr ls it lh b gy mt mu l mv mw">func topToBottom(rect: CGRect) -&gt; Path {<br/>    var path = Path()<br/>    path.move(to: CGPoint(x: 0, y: 0))<br/>    path.addLine(to: CGPoint(x: rect.width, y: 0))<br/>    path.addLine(to: CGPoint(x: rect.width, y: rect.height * progress))<br/>    path.addLine(to: CGPoint(x: 0, y: rect.height * progress))<br/>    path.closeSubpath()<br/>    return path<br/>}<br/><br/>func bottomToTop(rect: CGRect) -&gt; Path {<br/>    var path = Path()<br/>    path.move(to: CGPoint(x: 0, y: rect.height))<br/>    path.addLine(to: CGPoint(x: rect.width, y: rect.height))<br/>    path.addLine(to: CGPoint(x: rect.width, y: rect.height - (rect.height * progress)))<br/>    path.addLine(to: CGPoint(x: 0, y: rect.height - (rect.height * progress)))<br/>    path.closeSubpath()<br/>    return path<br/>}</span></pre><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/9f78a164b5fe3961cc9c61e4e30dce55.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/0*R5UO4dzgtvlUUjtC.gif"/></div></figure><h2 id="b896" class="lr ls it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated"><code class="fe le lf lg lh b">circle</code></h2><p id="034e" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">å¦‚æœä½ è¿˜è®°å¾—ä½ å°å­¦æ—¶çš„ä¸€äº›å‡ ä½•çŸ¥è¯†ï¼Œä½ å°±ä¼šçŸ¥é“å‹¾è‚¡å®šç†ã€‚<code class="fe le lf lg lh b">a^2 + b^2 = c^2</code></p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="nr ns di nt bf nu"><div class="gh gi nq"><img src="../Images/dd07e835faa87809b4c3fc4f8a2cc8eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*taOHhdEX-GycqkbL.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated"><code class="fe le lf lg lh b">c</code>æ˜¯æˆ‘ä»¬çš„è·¯å¾„éœ€è¦ç”»çš„æœ€åä¸€ä¸ªåœ†çš„åŠå¾„</figcaption></figure><p id="f984" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe le lf lg lh b">a</code>å’Œ<code class="fe le lf lg lh b">b</code>å¯ä»¥è®¤ä¸ºæ˜¯æˆ‘ä»¬çŸ©å½¢çš„<code class="fe le lf lg lh b">height</code>å’Œ<code class="fe le lf lg lh b">width</code>ã€‚è¿™å…è®¸æˆ‘ä»¬æ±‚è§£<code class="fe le lf lg lh b">c</code>ï¼Œè¦†ç›–æ•´ä¸ªçŸ©å½¢æ‰€éœ€çš„åœ†çš„åŠå¾„ã€‚æˆ‘ä»¬å¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šæ„å»ºä¸€ä¸ªå¾ªç¯è·¯å¾„ï¼Œå¹¶ä½¿ç”¨<code class="fe le lf lg lh b">progress</code>å˜é‡ä½¿å…¶éšæ—¶é—´å¢é•¿ã€‚</p><pre class="lj lk ll lm gt mp lh mq mr aw ms bi"><span id="4ea0" class="lr ls it lh b gy mt mu l mv mw">func circle(rect: CGRect) -&gt; Path {<br/>    let a: CGFloat = rect.height / 2.0<br/>    let b: CGFloat = rect.width / 2.0<br/><br/>    let c = pow(pow(a, 2) + pow(b, 2), 0.5) // a^2 + b^2 = c^2  --&gt; Solved for 'c'<br/>    // c = radius of final circle<br/><br/>    let radius = c * progress<br/>    // Build Circle Path<br/>    var path = Path()<br/>    path.addArc(center: CGPoint(x: rect.midX, y: rect.midY), radius: radius, startAngle: Angle(degrees: 0), endAngle: Angle(degrees: 360), clockwise: true)<br/>    return path<br/><br/>}</span></pre><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/7651c0742f69ef0041322cc79ecc0bbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/0*a4qFyDe5jvcD-B1J.gif"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">ä½¿ç”¨åœ†å½¢è·¯å¾„åˆ¶ä½œåŠ¨ç”»</figcaption></figure><h2 id="842a" class="lr ls it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated"><code class="fe le lf lg lh b">angle</code></h2><p id="2ab4" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">è¿™ä¸ªæœ‰ç‚¹å¤æ‚ã€‚ä½ éœ€è¦ç”¨åˆ‡çº¿æ¥è®¡ç®—è§’åº¦çš„æ–œç‡ã€‚ç„¶åç”¨ç»™å®šçš„æ–œç‡åˆ›å»ºä¸€æ¡çº¿ã€‚å½“ä½ ç§»åŠ¨è¿™æ¡çº¿ç©¿è¿‡çŸ©å½¢æ—¶ï¼Œä½ å°†æŠŠå®ƒç”»æˆä¸€ä¸ªç›´è§’ä¸‰è§’å½¢ã€‚è§ä¸‹å›¾ã€‚å„ç§é¢œè‰²çš„çº¿ä»£è¡¨éšæ—¶é—´ç§»åŠ¨ä»¥è¦†ç›–æ•´ä¸ªçŸ©å½¢çš„çº¿ã€‚</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="nr ns di nt bf nu"><div class="gh gi nv"><img src="../Images/a60f89bde668fe74bacb283b7cf11b59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ogi8WYEI-T3-GsWh.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">çº¿æ¡ä¾æ¬¡ä»çº¢è‰²ã€è“è‰²ã€ç»¿è‰²ã€ç´«è‰²ç§»åŠ¨ã€‚ä¸ºäº†è¦†ç›–çŸ©å½¢</figcaption></figure><p id="f59b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è¯¥åŠŸèƒ½å¦‚ä¸‹æ‰€ç¤º:</p><pre class="lj lk ll lm gt mp lh mq mr aw ms bi"><span id="f32b" class="lr ls it lh b gy mt mu l mv mw">func angle(rect: CGRect, angle: Angle) -&gt; Path {<br/>        <br/>    var cAngle = Angle(degrees: angle.degrees.truncatingRemainder(dividingBy: 90))<br/><br/>    // Return Path Using Other Animations (topToBottom, leftToRight, etc) if angle is 0, 90, 180, 270<br/>    if angle.degrees == 0 || cAngle.degrees == 0 { return leftToRight(rect: rect)}<br/>    else if angle.degrees == 90 || cAngle.degrees == 90 { return topToBottom(rect: rect)}<br/>    else if angle.degrees == 180 || cAngle.degrees == 180 { return rightToLeft(rect: rect)}<br/>    else if angle.degrees == 270 || cAngle.degrees == 270 { return bottomToTop(rect: rect)}<br/><br/><br/>    // Calculate Slope of Line and inverse slope<br/>    let m = CGFloat(tan(cAngle.radians))<br/>    let m_1 = pow(m, -1) * -1<br/>    let h = rect.height<br/>    let w = rect.width<br/><br/>    // tan (angle) = slope of line<br/>    // y = mx + b ---&gt; b = y - mx   ~ 'b' = y intercept<br/>    let b = h - (m_1 * w) // b = y - (m * x)<br/><br/>    // X and Y coordinate calculation<br/>    var x = b * m * progress<br/>    var y = b * progress<br/><br/>    // Triangle Offset Calculation<br/>    let xOffset = (angle.degrees &gt; 90 &amp;&amp; angle.degrees &lt; 270) ? rect.width : 0<br/>    let yOffset = (angle.degrees &gt; 180 &amp;&amp; angle.degrees &lt; 360) ? rect.height : 0<br/><br/>    // Modify which side the triangle is drawn from depending on the angle<br/>    if angle.degrees &gt; 90 &amp;&amp; angle.degrees &lt; 180 { x *= -1 }<br/>    else if angle.degrees &gt; 180 &amp;&amp; angle.degrees &lt; 270 { x *= -1; y *= -1 }<br/>    else if angle.degrees &gt; 270 &amp;&amp; angle.degrees &lt; 360 { y *= -1 }<br/><br/>    // Build Triangle Path<br/>    var path = Path()<br/>    path.move(to: CGPoint(x: xOffset, y: yOffset))<br/>    path.addLine(to: CGPoint(x: xOffset + x, y: yOffset))<br/>    path.addLine(to: CGPoint(x: xOffset, y: yOffset + y))<br/>    path.closeSubpath()<br/>    return path<br/><br/>}</span></pre><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/55a568bea9ff3c95dc43be49c6bf68b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/0*gxQtfGVNpOr50amB.gif"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">è§’åº¦45ï¼Œ135ï¼Œ225ï¼Œ315</figcaption></figure><h2 id="184d" class="lr ls it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated">æ”¯æŒæœªæ¥åƒè¿™æ ·çš„æ•™ç¨‹ï¼</h2><p id="b8fe" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">è¯·è€ƒè™‘ä½¿ç”¨æ­¤<a class="ae nc" href="https://trailingclosure.com/signup/" rel="noopener ugc nofollow" target="_blank">é“¾æ¥</a>è¿›è¡Œè®¢é˜…ã€‚å¦‚æœä½ æ²¡æœ‰åœ¨TrailingClosure.comçœ‹åˆ°è¿™ç¯‡æ–‡ç« ï¼Œè¯·éšæ—¶æ¥çœ‹çœ‹æˆ‘ä»¬ï¼</p></div></div>    
</body>
</html>